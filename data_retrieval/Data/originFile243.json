{"items":[{"tags":["java","spring","spring-boot","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1692294706,"post_id":76922177,"comment_id":135607279,"body_markdown":"You should probably tag this as a JSON issue, as this has little to do with JPA and everything to do with how your java objects are being serialized into JSON (spring uses Jackson). Also notices the differences in your classes - Lombok is annoying, but one has getters and setters, the one that isn&#39;t working doesn&#39;t. Jackson uses property access unless you configure it to use fields.","body":"You should probably tag this as a JSON issue, as this has little to do with JPA and everything to do with how your java objects are being serialized into JSON (spring uses Jackson). Also notices the differences in your classes - Lombok is annoying, but one has getters and setters, the one that isn&#39;t working doesn&#39;t. Jackson uses property access unless you configure it to use fields."}],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692295076,"creation_date":1692295076,"answer_id":76924043,"question_id":76922177,"body_markdown":"This issue has to do with your java objects serialization (via Jackson) to JSON, not JPA or the mappings. If you look at what is serialized:\r\n  \r\n\r\n    &quot;rentalType&quot;: {}\r\nYou can tell that there is an object being serialized, it just doesn&#39;t have any attributes or data. This is because Jackson will use property access by default.\r\n\r\nIf you check your entity definitions, the one that has data, Rental has:\r\n \r\n\r\n    @Getter @Setter @AllArgsConstructor @NoArgsConstructor \r\n\r\nWhile the RentalType class is just using:\r\n\r\n    @NoArgsConstructor @AllArgsConstructor \r\n\r\nIf you add in the getters and setters, Jackson will be able to see the properties and include them in the object JSON.\r\n","title":"Many to One microservice response not appear in postman","body":"<p>This issue has to do with your java objects serialization (via Jackson) to JSON, not JPA or the mappings. If you look at what is serialized:</p>\n<pre><code>&quot;rentalType&quot;: {}\n</code></pre>\n<p>You can tell that there is an object being serialized, it just doesn't have any attributes or data. This is because Jackson will use property access by default.</p>\n<p>If you check your entity definitions, the one that has data, Rental has:</p>\n<pre><code>@Getter @Setter @AllArgsConstructor @NoArgsConstructor \n</code></pre>\n<p>While the RentalType class is just using:</p>\n<pre><code>@NoArgsConstructor @AllArgsConstructor \n</code></pre>\n<p>If you add in the getters and setters, Jackson will be able to see the properties and include them in the object JSON.</p>\n"}],"owner":{"account_id":15452971,"reputation":3,"user_id":11147867,"display_name":"Ehsan-ul-haq Dar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76924043,"answer_count":1,"score":0,"last_activity_date":1692295076,"creation_date":1692280340,"question_id":76922177,"body_markdown":"I make a microservice in controller my required values come from response but it not shown in postman but i post man i get the following response\r\n\r\n&gt; @RestController\r\n&gt; @RequestMapping(&quot;/rental&quot;)\r\n&gt; public class RentalController {\r\n&gt; \r\n&gt;     @Autowired\r\n&gt; private RentalService rentalService;\r\n&gt; \r\n&gt;     @GetMapping(&quot;/{id}&quot;)\r\n&gt; public ResponseEntity&lt;Rental&gt; getRental(@PathVariable(&quot;id&quot;) Long id){\r\n&gt; Rental rl = rentalService.findRentalById(id);\r\n&gt; return ResponseEntity.ok(rl);\r\n&gt;     }\r\n&gt; \r\n&gt;     @GetMapping(&quot;/viewAll&quot;)\r\n&gt; public List&lt;Rental&gt; getAllRental(){\r\n&gt; List&lt;Rental&gt; ls = rentalService.viewAllRental();\r\n&gt; return ls;\r\n&gt;     }\r\n&gt; \r\n&gt; }\r\n&gt; \r\n&gt; @Service\r\n&gt; public class RentalService {\r\n&gt; \r\n&gt;     @Autowired\r\n&gt; private RentalRepository rentalRepository;\r\n&gt; \r\n&gt;     @Autowired\r\n&gt; private RentalTypeRepository rentalTypeRepository;\r\n&gt; \r\n&gt;     @Autowired\r\n&gt; private SizeTypeRepository sizeTypeRepository;\r\n&gt;     @Autowired\r\n&gt; private SleepingArrangementRepository sleepingArrangementRepository;\r\n&gt; \r\n&gt; public Rental save(Rental rt) {\r\n&gt; return rentalRepository.save(rt);\r\n&gt;     }\r\n&gt; \r\n&gt; public Rental findRentalById(Long id) {\r\n&gt; return rentalRepository.findAllByRentalId(id);\r\n&gt;     }\r\n&gt; \r\n&gt; public List&lt;Rental&gt; viewAllRental(){\r\n&gt; List&lt;Rental&gt; lsRental= new ArrayList&lt;Rental&gt;();\r\n&gt; lsRental = rentalRepository.findAll();\r\n&gt; \r\n&gt; return lsRental;\r\n&gt;     }\r\n&gt; \r\n&gt; public List&lt;RentalType&gt; viewAllRentalType(){\r\n&gt; List&lt;RentalType&gt; lsRental= new ArrayList&lt;RentalType&gt;();\r\n&gt; lsRental = rentalTypeRepository.findAll();\r\n&gt; return lsRental;\r\n&gt;     }\r\n&gt; \r\n&gt; public List&lt;SizeType&gt; viewAllSizeType(){\r\n&gt; List&lt;SizeType&gt; lsSizeType= new ArrayList&lt;SizeType&gt;();\r\n&gt; lsSizeType = sizeTypeRepository.findAll();\r\n&gt; return lsSizeType;\r\n&gt;     }\r\n&gt; \r\n&gt; }\r\n&gt; \r\n&gt; @Repository\r\n&gt; public interface RentalRepository extends JpaRepository\\&lt;Rental, Long\\&gt; {\r\n&gt; \r\n&gt; public Rental findAllByRentalId(Long id);\r\n&gt; \r\n&gt; }\r\n&gt; \r\n&gt; @Entity\r\n&gt; @Getter\r\n&gt; @Setter\r\n&gt; @AllArgsConstructor\r\n&gt; @NoArgsConstructor\r\n&gt; @Table(name=&quot;rental&quot;,schema=&quot;bnb_pms&quot;)\r\n&gt; public class Rental {\r\n&gt; \r\n&gt;     @Id\r\n&gt;     @GeneratedValue(strategy = GenerationType.AUTO)\r\n&gt;     @Column(name=&quot;RENTAL_ID&quot;)\r\n&gt; private long rentalId;\r\n&gt; \r\n&gt;     @Column(name=&quot;RENTAL_NAME&quot;)\r\n&gt; private String rentalName;\r\n&gt; \r\n&gt;     @Column(name=&quot;INTERNAL_NAME&quot;)\r\n&gt; private String internalName;\r\n&gt; \r\n&gt;     @Column(name=&quot;DES&quot;)\r\n&gt; private String des;\r\n&gt; \r\n&gt;     @ManyToOne(cascade = { CascadeType.MERGE, CascadeType.PERSIST })\r\n&gt;     @JoinColumn(name=&quot;TYPE_ID&quot;)\r\n&gt; private RentalType rentalType;\r\n&gt; \r\n&gt;     @Column(name=&quot;RENTAL_SIZE&quot;)\r\n&gt; private int rentalSize;\r\n&gt; \r\n&gt;     @Column(name=&quot;GUEST_ACCOMODATE&quot;)\r\n&gt; private int guestAccomodate;\r\n&gt; \r\n&gt;     @Column(name=&quot;TOTAL_UNITS&quot;)\r\n&gt; private int totalUnits;\r\n&gt; \r\n&gt; }\r\n&gt; \r\n&gt; \r\n&gt; @Entity\r\n&gt; @NoArgsConstructor\r\n&gt; @AllArgsConstructor\r\n&gt; @Table(name=&quot;rental_type&quot;,schema=&quot;bnb_pms&quot;)\r\n&gt; public class RentalType {\r\n&gt; \r\n&gt;     @Id\r\n&gt;     @GeneratedValue(strategy = GenerationType.AUTO)\r\n&gt;     @Column(name=&quot;TYPE_ID&quot;)\r\n&gt; private long typeId;\r\n&gt; \r\n&gt;     @Column(name=&quot;TYPE_NAME&quot;)\r\n&gt; private String typeName;\r\n&gt; \r\n&gt; }\r\n\r\nIn response i get the value of rental type as shown in figure,\r\n[debugger image](https://i.stack.imgur.com/10mQ7.png)\r\n\r\nbut in postman rental type object is not shown. Postman response is as follow,\r\n\r\n&gt; {\r\n&gt;     &quot;rentalId&quot;: 453,\r\n&gt;     &quot;rentalName&quot;: &quot;Ehsan ulhaq Darrr1659&quot;,\r\n&gt;     &quot;internalName&quot;: &quot;Khadim Hussain Dar&quot;,\r\n&gt;     &quot;des&quot;: &quot;ehsandar@gmail.com&quot;,\r\n&gt;     &quot;rentalType&quot;: {},\r\n&gt;     &quot;rentalSize&quot;: 2,\r\n&gt;     &quot;guestAccomodate&quot;: 4,\r\n&gt;     &quot;totalUnits&quot;: 3\r\n&gt; }","title":"Many to One microservice response not appear in postman","body":"<p>I make a microservice in controller my required values come from response but it not shown in postman but i post man i get the following response</p>\n<blockquote>\n<p>@RestController\n@RequestMapping(&quot;/rental&quot;)\npublic class RentalController {</p>\n<pre><code>@Autowired\n</code></pre>\n<p>private RentalService rentalService;</p>\n<pre><code>@GetMapping(&quot;/{id}&quot;)\n</code></pre>\n<p>public ResponseEntity getRental(@PathVariable(&quot;id&quot;) Long id){\nRental rl = rentalService.findRentalById(id);\nreturn ResponseEntity.ok(rl);\n}</p>\n<pre><code>@GetMapping(&quot;/viewAll&quot;)\n</code></pre>\n<p>public List getAllRental(){\nList ls = rentalService.viewAllRental();\nreturn ls;\n}</p>\n<p>}</p>\n<p>@Service\npublic class RentalService {</p>\n<pre><code>@Autowired\n</code></pre>\n<p>private RentalRepository rentalRepository;</p>\n<pre><code>@Autowired\n</code></pre>\n<p>private RentalTypeRepository rentalTypeRepository;</p>\n<pre><code>@Autowired\n</code></pre>\n<p>private SizeTypeRepository sizeTypeRepository;\n@Autowired\nprivate SleepingArrangementRepository sleepingArrangementRepository;</p>\n<p>public Rental save(Rental rt) {\nreturn rentalRepository.save(rt);\n}</p>\n<p>public Rental findRentalById(Long id) {\nreturn rentalRepository.findAllByRentalId(id);\n}</p>\n<p>public List viewAllRental(){\nList lsRental= new ArrayList();\nlsRental = rentalRepository.findAll();</p>\n<p>return lsRental;\n}</p>\n<p>public List viewAllRentalType(){\nList lsRental= new ArrayList();\nlsRental = rentalTypeRepository.findAll();\nreturn lsRental;\n}</p>\n<p>public List viewAllSizeType(){\nList lsSizeType= new ArrayList();\nlsSizeType = sizeTypeRepository.findAll();\nreturn lsSizeType;\n}</p>\n<p>}</p>\n<p>@Repository\npublic interface RentalRepository extends JpaRepository&lt;Rental, Long&gt; {</p>\n<p>public Rental findAllByRentalId(Long id);</p>\n<p>}</p>\n<p>@Entity\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Table(name=&quot;rental&quot;,schema=&quot;bnb_pms&quot;)\npublic class Rental {</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\n@Column(name=&quot;RENTAL_ID&quot;)\n</code></pre>\n<p>private long rentalId;</p>\n<pre><code>@Column(name=&quot;RENTAL_NAME&quot;)\n</code></pre>\n<p>private String rentalName;</p>\n<pre><code>@Column(name=&quot;INTERNAL_NAME&quot;)\n</code></pre>\n<p>private String internalName;</p>\n<pre><code>@Column(name=&quot;DES&quot;)\n</code></pre>\n<p>private String des;</p>\n<pre><code>@ManyToOne(cascade = { CascadeType.MERGE, CascadeType.PERSIST })\n@JoinColumn(name=&quot;TYPE_ID&quot;)\n</code></pre>\n<p>private RentalType rentalType;</p>\n<pre><code>@Column(name=&quot;RENTAL_SIZE&quot;)\n</code></pre>\n<p>private int rentalSize;</p>\n<pre><code>@Column(name=&quot;GUEST_ACCOMODATE&quot;)\n</code></pre>\n<p>private int guestAccomodate;</p>\n<pre><code>@Column(name=&quot;TOTAL_UNITS&quot;)\n</code></pre>\n<p>private int totalUnits;</p>\n<p>}</p>\n<p>@Entity\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name=&quot;rental_type&quot;,schema=&quot;bnb_pms&quot;)\npublic class RentalType {</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\n@Column(name=&quot;TYPE_ID&quot;)\n</code></pre>\n<p>private long typeId;</p>\n<pre><code>@Column(name=&quot;TYPE_NAME&quot;)\n</code></pre>\n<p>private String typeName;</p>\n<p>}</p>\n</blockquote>\n<p>In response i get the value of rental type as shown in figure,\n<a href=\"https://i.stack.imgur.com/10mQ7.png\" rel=\"nofollow noreferrer\">debugger image</a></p>\n<p>but in postman rental type object is not shown. Postman response is as follow,</p>\n<blockquote>\n<p>{\n&quot;rentalId&quot;: 453,\n&quot;rentalName&quot;: &quot;Ehsan ulhaq Darrr1659&quot;,\n&quot;internalName&quot;: &quot;Khadim Hussain Dar&quot;,\n&quot;des&quot;: &quot;ehsandar@gmail.com&quot;,\n&quot;rentalType&quot;: {},\n&quot;rentalSize&quot;: 2,\n&quot;guestAccomodate&quot;: 4,\n&quot;totalUnits&quot;: 3\n}</p>\n</blockquote>\n"},{"tags":["java","zebra-printers","printers"],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692294577,"creation_date":1692189677,"answer_id":76913640,"question_id":76912039,"body_markdown":"I’m not clear on what `PrintServiceLookup.DRIVER` is.  I see no DRIVER field in [the PrintServiceLookup class](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/print/PrintServiceLookup.html).\r\n\r\nYou might be able to obtain the address from the PrintService’s [PrinterURI](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/print/attribute/standard/PrinterURI.html) attribute.  (I have no printers here, so I don’t currently have a way to verify whether this works.)\r\n\r\n    Optional&lt;InetAddress&gt; ipAddress = Optional.empty();\r\n\r\n    PrinterURI uriAttr = service.getAttribute(PrinterURI.class);\r\n    if (uriAttr != null) {\r\n        URI printerURI = uriAttr.getURI();\r\n        String hostname = printerURI.getHost();\r\n        if (hostname != null) {\r\n            ipAddress = Optional.of(InetAddress.getByName(hostname));\r\n        }\r\n    }\r\n","title":"how to find the ip address of a printer with its printer driver in java?","body":"<p>I’m not clear on what <code>PrintServiceLookup.DRIVER</code> is.  I see no DRIVER field in <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/print/PrintServiceLookup.html\" rel=\"nofollow noreferrer\">the PrintServiceLookup class</a>.</p>\n<p>You might be able to obtain the address from the PrintService’s <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/print/attribute/standard/PrinterURI.html\" rel=\"nofollow noreferrer\">PrinterURI</a> attribute.  (I have no printers here, so I don’t currently have a way to verify whether this works.)</p>\n<pre><code>Optional&lt;InetAddress&gt; ipAddress = Optional.empty();\n\nPrinterURI uriAttr = service.getAttribute(PrinterURI.class);\nif (uriAttr != null) {\n    URI printerURI = uriAttr.getURI();\n    String hostname = printerURI.getHost();\n    if (hostname != null) {\n        ipAddress = Optional.of(InetAddress.getByName(hostname));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28602642,"reputation":1,"user_id":21899232,"display_name":"Aravind A"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692294577,"creation_date":1692176460,"question_id":76912039,"body_markdown":"       PrintService[] printServices = PrintServiceLookup.lookupPrintServices(null, null);\r\n\r\n        System.out.println(&quot;Available Printer Drivers:&quot;);\r\n        for (PrintService service : printServices) {\r\n            String printerName = service.getName();\r\n            String driverClassName = (String) service.getAttribute(PrintServiceLookup.DRIVER);\r\n\r\n            System.out.println(&quot;Printer Name: &quot; + printerName);\r\n            System.out.println(&quot;Driver Class Name: &quot; + driverClassName);\r\n            System.out.println(&quot;--------------------------------------&quot;);\r\n        }\r\n    }\r\n\r\n\r\nthe above code will take the installed printer drivers and print that in console.\r\n\r\n\r\n\r\nwith that printer name i want to find the ip address assume every printer is connected to the wifi as the laptop.","title":"how to find the ip address of a printer with its printer driver in java?","body":"<pre><code>   PrintService[] printServices = PrintServiceLookup.lookupPrintServices(null, null);\n\n    System.out.println(&quot;Available Printer Drivers:&quot;);\n    for (PrintService service : printServices) {\n        String printerName = service.getName();\n        String driverClassName = (String) service.getAttribute(PrintServiceLookup.DRIVER);\n\n        System.out.println(&quot;Printer Name: &quot; + printerName);\n        System.out.println(&quot;Driver Class Name: &quot; + driverClassName);\n        System.out.println(&quot;--------------------------------------&quot;);\n    }\n}\n</code></pre>\n<p>the above code will take the installed printer drivers and print that in console.</p>\n<p>with that printer name i want to find the ip address assume every printer is connected to the wifi as the laptop.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1692277178,"post_id":76921680,"comment_id":135603267,"body_markdown":"What is the implementation of `PhoneType`? Enum?","body":"What is the implementation of <code>PhoneType</code>? Enum?"},{"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"score":0,"creation_date":1692279836,"post_id":76921680,"comment_id":135603926,"body_markdown":"Can you post the output of `javap -v &#39;shared/vo/Phone$WhenMappings.class&#39;`?","body":"Can you post the output of <code>javap -v &#39;shared&#47;vo&#47;Phone$WhenMappings.class&#39;</code>?"}],"answers":[{"tags":[],"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692280312,"creation_date":1692277449,"answer_id":76921812,"question_id":76921680,"body_markdown":"When we compile the code, the compiler often has to generate some additional synthetic classes or members. This is the case e.g. if using `when` with an enum. In that case the compiler generates an array which maps enum ordinals into execution branches (`when` cases), so `when` can be executed much faster. It has to store this array somewhere, so it synthesizes an additional class for it. In the above case this additional class is named `Phone$WhenMappings`. I believe the Java compiler does a similar thing when using `switch` over an enum.\r\n\r\nFor this reason we can&#39;t expect there will be no &quot;regular&quot; classes in the bytecode. I think your tests should run only against classes that exists explicitly in the source code. I don&#39;t know ArchUnit and what are best practices for using it, but maybe you should ignore synthetic classes when running tests?\r\n\r\nYou will probably see similar problems if using other features of Kotlin, e.g. lambdas. They also require to generate synthetic classes in the bytecode and these classes don&#39;t meet your requirements.","title":"ArchUnit detects statement as an error - javap","body":"<p>When we compile the code, the compiler often has to generate some additional synthetic classes or members. This is the case e.g. if using <code>when</code> with an enum. In that case the compiler generates an array which maps enum ordinals into execution branches (<code>when</code> cases), so <code>when</code> can be executed much faster. It has to store this array somewhere, so it synthesizes an additional class for it. In the above case this additional class is named <code>Phone$WhenMappings</code>. I believe the Java compiler does a similar thing when using <code>switch</code> over an enum.</p>\n<p>For this reason we can't expect there will be no &quot;regular&quot; classes in the bytecode. I think your tests should run only against classes that exists explicitly in the source code. I don't know ArchUnit and what are best practices for using it, but maybe you should ignore synthetic classes when running tests?</p>\n<p>You will probably see similar problems if using other features of Kotlin, e.g. lambdas. They also require to generate synthetic classes in the bytecode and these classes don't meet your requirements.</p>\n"}],"owner":{"account_id":28614024,"reputation":23,"user_id":21908428,"display_name":"JonathanSessenioo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692294342,"creation_date":1692276443,"question_id":76921680,"body_markdown":"I have such a test that checks if the `shared` package has only interfaces, enums and data classes.\r\n\r\n    package demo\r\n    \r\n    class Phone {\r\n        fun doSomething(arg: Foo) = when(arg) {\r\n            Foo.ABC -&gt; &quot;abc&quot;\r\n            Foo.DEF -&gt; &quot;def&quot;\r\n        }\r\n    }\r\n    \r\n    enum class Foo {\r\n        ABC, DEF\r\n    }\r\n\r\nWe can see that Kotlin generates an additional synthetic class `Phone$WhenMappings`, and that ArchUnit rule tries to analyze it despite that it makes no sense.\r\n  ","title":"ArchUnit detects statement as an error - javap","body":"<p>I have such a test that checks if the <code>shared</code> package has only interfaces, enums and data classes.</p>\n<pre><code>package demo\n\nclass Phone {\n    fun doSomething(arg: Foo) = when(arg) {\n        Foo.ABC -&gt; &quot;abc&quot;\n        Foo.DEF -&gt; &quot;def&quot;\n    }\n}\n\nenum class Foo {\n    ABC, DEF\n}\n</code></pre>\n<p>We can see that Kotlin generates an additional synthetic class <code>Phone$WhenMappings</code>, and that ArchUnit rule tries to analyze it despite that it makes no sense.</p>\n"},{"tags":["java","visual-studio-code","formatting"],"comments":[{"owner":{"account_id":13650861,"reputation":49,"user_id":9848783,"display_name":"chip coint"},"score":1,"creation_date":1617620911,"post_id":66946766,"comment_id":118346103,"body_markdown":"i think this isn&#39;t possible, and you would have to edit the extension itself","body":"i think this isn&#39;t possible, and you would have to edit the extension itself"},{"owner":{"account_id":13523174,"reputation":1121,"user_id":12218938,"display_name":"wristbands"},"score":0,"creation_date":1617736769,"post_id":66946766,"comment_id":118387533,"body_markdown":"Ok thanks @chipcoint. That&#39;s what I was worried about but make sense.","body":"Ok thanks @chipcoint. That&#39;s what I was worried about but make sense."}],"answers":[{"comments":[{"owner":{"account_id":19088616,"reputation":8294,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1617759564,"post_id":66962039,"comment_id":118393599,"body_markdown":"@wristbands. Try my answer and see if it solves your question.","body":"@wristbands. Try my answer and see if it solves your question."},{"owner":{"account_id":13523174,"reputation":1121,"user_id":12218938,"display_name":"wristbands"},"score":3,"creation_date":1618858034,"post_id":66962039,"comment_id":118725023,"body_markdown":"Sorry but that does not really help solve my problem. I did know that it was possible to wrap text onto the next line if it goes over a certain number of characters. But that&#39;s not what I was interested in doing. I wanted to be able to have the Java(TM) by Red Hat extension automatically reformat my text to break it into two lines *in a nice-looking way* once it surpassed 80 characters (it currently reformats at 120 characters). But according to chip coint&#39;s comment above, it appears that this is simply not possible unfortunately; it can only be set at 120 characters.","body":"Sorry but that does not really help solve my problem. I did know that it was possible to wrap text onto the next line if it goes over a certain number of characters. But that&#39;s not what I was interested in doing. I wanted to be able to have the Java(TM) by Red Hat extension automatically reformat my text to break it into two lines <i>in a nice-looking way</i> once it surpassed 80 characters (it currently reformats at 120 characters). But according to chip coint&#39;s comment above, it appears that this is simply not possible unfortunately; it can only be set at 120 characters."},{"owner":{"account_id":19088616,"reputation":8294,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":1,"creation_date":1619753336,"post_id":66962039,"comment_id":119005876,"body_markdown":"@wristbands. This feature will be added in next extension update.","body":"@wristbands. This feature will be added in next extension update."},{"owner":{"account_id":13523174,"reputation":1121,"user_id":12218938,"display_name":"wristbands"},"score":0,"creation_date":1619810755,"post_id":66962039,"comment_id":119026413,"body_markdown":"Oh that&#39;s great to hear! Thanks for letting me know.","body":"Oh that&#39;s great to hear! Thanks for letting me know."}],"tags":[],"owner":{"account_id":19088616,"reputation":8294,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1617676612,"creation_date":1617676612,"answer_id":66962039,"question_id":66946766,"body_markdown":"In **Settings.json**, set\r\n\r\n    &quot;editor.wordWrap&quot;: &quot;wordWrapColumn&quot;,\r\n    &quot;editor.wordWrapColumn&quot;: 79,\r\n\r\nWhen code is over the max length, which is 80 now, it will turn to the next line:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAfter coding, right click in current .java file and choose **Format Document**, all code will be formatted by the wordWrap setting and the max length will be 80.\r\n\r\n  [1]: https://i.stack.imgur.com/XGsu0.gif","title":"How to change max line length for formatter provided by Language Support for Java(TM) by Red Hat extension in Visual Studio Code?","body":"<p>In <strong>Settings.json</strong>, set</p>\n<pre><code>&quot;editor.wordWrap&quot;: &quot;wordWrapColumn&quot;,\n&quot;editor.wordWrapColumn&quot;: 79,\n</code></pre>\n<p>When code is over the max length, which is 80 now, it will turn to the next line:</p>\n<p><a href=\"https://i.stack.imgur.com/XGsu0.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XGsu0.gif\" alt=\"enter image description here\" /></a></p>\n<p>After coding, right click in current .java file and choose <strong>Format Document</strong>, all code will be formatted by the wordWrap setting and the max length will be 80.</p>\n"},{"tags":[],"owner":{"account_id":1961640,"reputation":12136,"user_id":1763035,"accept_rate":56,"display_name":"Andy Brown"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689928636,"creation_date":1689928636,"answer_id":76736400,"question_id":66946766,"body_markdown":"The setting you&#39;re looking for is `org.eclipse.jdt.core.formatter.lineSplit` which is located in your java formatter style XML file. \r\n\r\nFirst open your settings json file and find the `java.format.settings.url` option. It is a file url pointing to the style XML file. Open the XML file for editing.\r\n\r\nIf you already have an `org.eclipse.jdt.core.formatter.lineSplit` setting then change it to `80`. If not then paste in the following:\r\n\r\n```\r\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.lineSplit&quot; value=&quot;80&quot;/&gt;\r\n```\r\n\r\nYou *must* restart vscode for the changes to take effect.\r\n\r\nI had the opposite problem to you and wanted to prevent vscode from breaking lines except in extreme cases so I set it to `200`.","title":"How to change max line length for formatter provided by Language Support for Java(TM) by Red Hat extension in Visual Studio Code?","body":"<p>The setting you're looking for is <code>org.eclipse.jdt.core.formatter.lineSplit</code> which is located in your java formatter style XML file.</p>\n<p>First open your settings json file and find the <code>java.format.settings.url</code> option. It is a file url pointing to the style XML file. Open the XML file for editing.</p>\n<p>If you already have an <code>org.eclipse.jdt.core.formatter.lineSplit</code> setting then change it to <code>80</code>. If not then paste in the following:</p>\n<pre><code>&lt;setting id=&quot;org.eclipse.jdt.core.formatter.lineSplit&quot; value=&quot;80&quot;/&gt;\n</code></pre>\n<p>You <em>must</em> restart vscode for the changes to take effect.</p>\n<p>I had the opposite problem to you and wanted to prevent vscode from breaking lines except in extreme cases so I set it to <code>200</code>.</p>\n"},{"tags":[],"owner":{"account_id":315536,"reputation":1786,"user_id":631272,"display_name":"Marquee"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692294300,"creation_date":1692293542,"answer_id":76923883,"question_id":66946766,"body_markdown":"The answers in this GitHub issue fixed it for me: https://github.com/redhat-developer/vscode-java/issues/1709\r\n\r\nI particularly liked rgrunber&#39;s solution to place the prefs in the .vscode folder:\r\n\r\n1. Create `.vscode/settings.prefs` and add the following lines:\r\n\r\n```\r\norg.eclipse.jdt.core.formatter.lineSplit=80\r\norg.eclipse.jdt.core.formatter.comment.line_length=80\r\n```\r\n\r\n2. Update `settings.json`\r\n\r\n```\r\n{\r\n\t&quot;java.settings.url&quot;: &quot;.vscode/settings.prefs&quot;\r\n}\r\n```\r\n\r\nI expanded upon it and followed the same pattern for my exported eclipse formatter prefs that I have used for years:\r\n\r\n1. Create `.vscode/formatter-settings.xml`:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n&lt;profiles version=&quot;21&quot;&gt;\r\n    &lt;profile kind=&quot;CodeFormatterProfile&quot; name=&quot;My Formatter&quot; version=&quot;21&quot;&gt;\r\n        &lt;setting id=&quot;org.eclipse.jdt.core.formatter.insert_space_after_ellipsis&quot; value=&quot;insert&quot;/&gt;\r\n        &lt;setting id=&quot;org.eclipse.jdt.core.formatter.insert_space_after_comma_in_enum_declarations&quot; value=&quot;insert&quot;/&gt;\r\n        &lt;setting id=&quot;org.eclipse.jdt.core.formatter.insert_space_before_comma_in_allocation_expression&quot; value=&quot;do not insert&quot;/&gt;\r\n        &lt;setting id=&quot;org.eclipse.jdt.core.formatter.parentheses_positions_in_for_statment&quot; value=&quot;common_lines&quot;/&gt;\r\n        &lt;setting id=&quot;org.eclipse.jdt.core.formatter.comment.new_lines_at_block_boundaries&quot; value=&quot;true&quot;/&gt;\r\n...\r\n    &lt;/profile&gt;\r\n&lt;/profiles&gt;\r\n```\r\n\r\n2. Update `settings.json`:\r\n\r\n```\r\n{\r\n\t&quot;java.settings.url&quot;: &quot;.vscode/settings.prefs&quot;,\r\n\t&quot;java.format.settings.url&quot;: &quot;.vscode/formatter-settings.xml&quot;\r\n}\r\n```\r\n\r\nIf you want it to sync across devices, you could instead reference them from a public github repo (append ?raw=true) and set those uris instead.\r\n\r\n```\r\n{\r\n    &quot;java.settings.url&quot;: &quot;https://github.com/themarquee/vscode-settings/blob/main/settings.prefs?raw=true&quot;,\r\n    &quot;java.format.settings.url&quot;: &quot;https://github.com/themarquee/vscode-settings/blob/main/formatter-settings.xml?raw=true&quot;\r\n}\r\n```\r\n\r\nVoila! Finally after 2 years my vscode formats how I want it to!","title":"How to change max line length for formatter provided by Language Support for Java(TM) by Red Hat extension in Visual Studio Code?","body":"<p>The answers in this GitHub issue fixed it for me: <a href=\"https://github.com/redhat-developer/vscode-java/issues/1709\" rel=\"nofollow noreferrer\">https://github.com/redhat-developer/vscode-java/issues/1709</a></p>\n<p>I particularly liked rgrunber's solution to place the prefs in the .vscode folder:</p>\n<ol>\n<li>Create <code>.vscode/settings.prefs</code> and add the following lines:</li>\n</ol>\n<pre><code>org.eclipse.jdt.core.formatter.lineSplit=80\norg.eclipse.jdt.core.formatter.comment.line_length=80\n</code></pre>\n<ol start=\"2\">\n<li>Update <code>settings.json</code></li>\n</ol>\n<pre><code>{\n    &quot;java.settings.url&quot;: &quot;.vscode/settings.prefs&quot;\n}\n</code></pre>\n<p>I expanded upon it and followed the same pattern for my exported eclipse formatter prefs that I have used for years:</p>\n<ol>\n<li>Create <code>.vscode/formatter-settings.xml</code>:</li>\n</ol>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;profiles version=&quot;21&quot;&gt;\n    &lt;profile kind=&quot;CodeFormatterProfile&quot; name=&quot;My Formatter&quot; version=&quot;21&quot;&gt;\n        &lt;setting id=&quot;org.eclipse.jdt.core.formatter.insert_space_after_ellipsis&quot; value=&quot;insert&quot;/&gt;\n        &lt;setting id=&quot;org.eclipse.jdt.core.formatter.insert_space_after_comma_in_enum_declarations&quot; value=&quot;insert&quot;/&gt;\n        &lt;setting id=&quot;org.eclipse.jdt.core.formatter.insert_space_before_comma_in_allocation_expression&quot; value=&quot;do not insert&quot;/&gt;\n        &lt;setting id=&quot;org.eclipse.jdt.core.formatter.parentheses_positions_in_for_statment&quot; value=&quot;common_lines&quot;/&gt;\n        &lt;setting id=&quot;org.eclipse.jdt.core.formatter.comment.new_lines_at_block_boundaries&quot; value=&quot;true&quot;/&gt;\n...\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Update <code>settings.json</code>:</li>\n</ol>\n<pre><code>{\n    &quot;java.settings.url&quot;: &quot;.vscode/settings.prefs&quot;,\n    &quot;java.format.settings.url&quot;: &quot;.vscode/formatter-settings.xml&quot;\n}\n</code></pre>\n<p>If you want it to sync across devices, you could instead reference them from a public github repo (append ?raw=true) and set those uris instead.</p>\n<pre><code>{\n    &quot;java.settings.url&quot;: &quot;https://github.com/themarquee/vscode-settings/blob/main/settings.prefs?raw=true&quot;,\n    &quot;java.format.settings.url&quot;: &quot;https://github.com/themarquee/vscode-settings/blob/main/formatter-settings.xml?raw=true&quot;\n}\n</code></pre>\n<p>Voila! Finally after 2 years my vscode formats how I want it to!</p>\n"}],"owner":{"account_id":13523174,"reputation":1121,"user_id":12218938,"display_name":"wristbands"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4871,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1692294300,"creation_date":1617579329,"question_id":66946766,"body_markdown":"I have the *Language Support for Java(TM) by Red Hat* extension installed in Visual Studio Code. Among other features, this extension can auto-format java code. I have it set to do this whenever I save the file.\r\n\r\nIt appears to have the max line length set to 120 characters, but I would like to set it to 80 characters. I have been searching everywhere but I can&#39;t figure out where to find the relevant setting.\r\n\r\nIs it possible to set the formatter to a different max line length? If so, how?","title":"How to change max line length for formatter provided by Language Support for Java(TM) by Red Hat extension in Visual Studio Code?","body":"<p>I have the <em>Language Support for Java(TM) by Red Hat</em> extension installed in Visual Studio Code. Among other features, this extension can auto-format java code. I have it set to do this whenever I save the file.</p>\n<p>It appears to have the max line length set to 120 characters, but I would like to set it to 80 characters. I have been searching everywhere but I can't figure out where to find the relevant setting.</p>\n<p>Is it possible to set the formatter to a different max line length? If so, how?</p>\n"},{"tags":["java","jpa","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1453303987,"post_id":34902380,"comment_id":57544236,"body_markdown":"Do you have some component marked with @Transactional? Usually it is the source of transaction problems","body":"Do you have some component marked with @Transactional? Usually it is the source of transaction problems"},{"owner":{"account_id":7332995,"reputation":639,"user_id":5585279,"accept_rate":40,"display_name":"Gopi"},"score":0,"creation_date":1453374051,"post_id":34902380,"comment_id":57577543,"body_markdown":"Thank you for reply. I dont have @Transactional anywhere in my code. It is working when i setted the commit interval to 1 .if i setted to 100 or 1000 or 10000 it is failing.","body":"Thank you for reply. I dont have @Transactional anywhere in my code. It is working when i setted the commit interval to 1 .if i setted to 100 or 1000 or 10000 it is failing."}],"answers":[{"tags":[],"owner":{"account_id":13022667,"reputation":85,"user_id":9411531,"display_name":"Rakesh Gurung"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1550819385,"creation_date":1550819385,"answer_id":54821814,"question_id":34902380,"body_markdown":"I had same error &quot;Commit failed while step execution data was already updated. Reverting to old version&quot; and I solved it by using &quot;\t@Transactional(propagation = Propagation.REQUIRES_NEW)&quot; annotation above the method where the records were committed.","title":"Commit failed while step execution data was already updated","body":"<p>I had same error \"Commit failed while step execution data was already updated. Reverting to old version\" and I solved it by using \" @Transactional(propagation = Propagation.REQUIRES_NEW)\" annotation above the method where the records were committed.</p>\n"}],"owner":{"account_id":7332995,"reputation":639,"user_id":5585279,"accept_rate":40,"display_name":"Gopi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10543,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1692293801,"creation_date":1453299220,"question_id":34902380,"body_markdown":"I am getting Commit failed while step execution data was already updated error when spring batch try to commit the records. Any help would be greatly appreciated.\r\nI am using HIbernate JPA .\r\n\r\nIt is working for lesser number of records. Throwing error when the record count is high. \r\n\r\nStack Trace:\r\n\r\n    2016-01-20 08:49:45 INFO  TaskletStep:359 - Commit failed while step execution data was already updated. Reverting to old version.\r\n    2016-01-20 08:49:45 ERROR TaskletStep:370 - Rolling back with transaction in unknown state\r\n    2016-01-20 08:49:45 ERROR AbstractStep:225 - Encountered an error executing  step uploadFiles in job fileUploadJob\r\n    org.springframework.transaction.TransactionSystemException: Could not commit JPA transaction; nested exception is javax.persistence.RollbackException:  Transaction marked as rollbackOnly\r\n\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:524)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:757)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:726)\r\n\r\n    ","title":"Commit failed while step execution data was already updated","body":"<p>I am getting Commit failed while step execution data was already updated error when spring batch try to commit the records. Any help would be greatly appreciated.\nI am using HIbernate JPA .</p>\n\n<p>It is working for lesser number of records. Throwing error when the record count is high. </p>\n\n<p>Stack Trace:</p>\n\n<pre><code>2016-01-20 08:49:45 INFO  TaskletStep:359 - Commit failed while step execution data was already updated. Reverting to old version.\n2016-01-20 08:49:45 ERROR TaskletStep:370 - Rolling back with transaction in unknown state\n2016-01-20 08:49:45 ERROR AbstractStep:225 - Encountered an error executing  step uploadFiles in job fileUploadJob\norg.springframework.transaction.TransactionSystemException: Could not commit JPA transaction; nested exception is javax.persistence.RollbackException:  Transaction marked as rollbackOnly\nat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:524)\nat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:757)\nat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:726)\n</code></pre>\n"},{"tags":["java","generics","tree","static","binary-tree"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":3,"creation_date":1692292971,"post_id":76923812,"comment_id":135606930,"body_markdown":"`rootNode` should **not** be static. Static belongs to the class, not the instance.","body":"<code>rootNode</code> should <b>not</b> be static. Static belongs to the class, not the instance."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1692293048,"post_id":76923812,"comment_id":135606952,"body_markdown":"Note that `T` in `BinaryTree&lt;T&gt;` is not the same as that in `Node&lt;T&gt;`. You may want to remove the latter declaration and make the class non-static.","body":"Note that <code>T</code> in <code>BinaryTree&lt;T&gt;</code> is not the same as that in <code>Node&lt;T&gt;</code>. You may want to remove the latter declaration and make the class non-static."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1692297761,"post_id":76923812,"comment_id":135607819,"body_markdown":"I recommend against trying to have Node&#39;s constructor interact with rootNode at all, whether it&#39;s static or not.","body":"I recommend against trying to have Node&#39;s constructor interact with rootNode at all, whether it&#39;s static or not."},{"owner":{"account_id":29238818,"reputation":13,"user_id":22400834,"display_name":"sof"},"score":0,"creation_date":1692387128,"post_id":76923812,"comment_id":135621096,"body_markdown":"@LouisWasserman Oh, why is that?","body":"@LouisWasserman Oh, why is that?"},{"owner":{"account_id":29238818,"reputation":13,"user_id":22400834,"display_name":"sof"},"score":0,"creation_date":1692387181,"post_id":76923812,"comment_id":135621107,"body_markdown":"@Chaosfire got it","body":"@Chaosfire got it"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1692409362,"post_id":76923812,"comment_id":135623413,"body_markdown":"BinaryTree should manage its own root.  Constructors shouldn&#39;t have any logic and certainly should never modify outside state.","body":"BinaryTree should manage its own root.  Constructors shouldn&#39;t have any logic and certainly should never modify outside state."}],"owner":{"account_id":29238818,"reputation":13,"user_id":22400834,"display_name":"sof"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1692292979,"answer_count":0,"score":0,"last_activity_date":1692292903,"creation_date":1692292865,"question_id":76923812,"body_markdown":"I&#39;m encountering the error message &quot;non-static type variable T cannot be referenced from a static context&quot;. It shows **`Required type: Node &lt;T&gt; Provided: Node&lt;T&gt;`**\r\n\r\nI&#39;m struggling to understand what I am doing wrong, but as I understand, there&#39;s an issue with using the generic type T in static context. I would appreciate any help, thanks.\r\n\r\n\r\n```\r\nclass BinaryTree&lt;T&gt; {\r\n    private static Node&lt;T&gt; rootNode;\r\n\r\n    public static class Node&lt;T&gt; {\r\n        private final T value;\r\n        private Node&lt;T&gt; left;\r\n        private Node&lt;T&gt; right;\r\n\r\n        public Node(T value) {\r\n            this.value = value;\r\n            this.left = null;\r\n            this.right = null;\r\n            if (rootNode == null){\r\n                rootNode = this;\r\n            }\r\n        }\r\n    }\r\n\r\n    public BinaryTree() {\r\n        rootNode = null;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI am trying to implement a Binary Tree. I have a static inner class Node inside a BinaryTree class with a generic type. I want to set a static variable (rootNode) within the inner class based on a condition if it is null. \r\n\r\n","title":"Java: Non-Static Type Variable T Cannot be Referenced from a Static Context, for Binary Tree","body":"<p>I'm encountering the error message &quot;non-static type variable T cannot be referenced from a static context&quot;. It shows <strong><code>Required type: Node &lt;T&gt; Provided: Node&lt;T&gt;</code></strong></p>\n<p>I'm struggling to understand what I am doing wrong, but as I understand, there's an issue with using the generic type T in static context. I would appreciate any help, thanks.</p>\n<pre><code>class BinaryTree&lt;T&gt; {\n    private static Node&lt;T&gt; rootNode;\n\n    public static class Node&lt;T&gt; {\n        private final T value;\n        private Node&lt;T&gt; left;\n        private Node&lt;T&gt; right;\n\n        public Node(T value) {\n            this.value = value;\n            this.left = null;\n            this.right = null;\n            if (rootNode == null){\n                rootNode = this;\n            }\n        }\n    }\n\n    public BinaryTree() {\n        rootNode = null;\n    }\n}\n\n</code></pre>\n<p>I am trying to implement a Binary Tree. I have a static inner class Node inside a BinaryTree class with a generic type. I want to set a static variable (rootNode) within the inner class based on a condition if it is null.</p>\n"},{"tags":["java","spring-boot","swagger-ui","openapi"],"comments":[{"owner":{"account_id":26782616,"reputation":313,"user_id":20377250,"display_name":"Alex_X1"},"score":0,"creation_date":1692187309,"post_id":76912990,"comment_id":135589153,"body_markdown":"Please explain further, I don&#39;t really get what you are trying to achieve?","body":"Please explain further, I don&#39;t really get what you are trying to achieve?"},{"owner":{"account_id":21101638,"reputation":11,"user_id":15511411,"display_name":"Andrei Raskolnikov"},"score":0,"creation_date":1692189824,"post_id":76912990,"comment_id":135589736,"body_markdown":"Thank your interest in helping, Alex.\nMy problem is the following: Swagger-ui is providing an example of a JSON for one of the GET endpoints. The example does not include the field &quot;id&quot; of my DTO because it was previously annotated with @Schema(hidden=true). \n\nIt was annotated to be hidden because I don&#39;t want that field to be included in the JSON example provided by Swagger for the POST endpoint. But meanwhile, I want that field to be included in the JSON example provided for the GET endpoint.","body":"Thank your interest in helping, Alex. My problem is the following: Swagger-ui is providing an example of a JSON for one of the GET endpoints. The example does not include the field &quot;id&quot; of my DTO because it was previously annotated with @Schema(hidden=true).   It was annotated to be hidden because I don&#39;t want that field to be included in the JSON example provided by Swagger for the POST endpoint. But meanwhile, I want that field to be included in the JSON example provided for the GET endpoint."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1692194078,"post_id":76912990,"comment_id":135590792,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":21101638,"reputation":11,"user_id":15511411,"display_name":"Andrei Raskolnikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692292689,"creation_date":1692272743,"answer_id":76921207,"question_id":76912990,"body_markdown":"Ok I found a solution for my encounter. \r\n\r\nInstead of using `@Schema(hidden=true)` for the `id` field within my DTO. I switched to using: `@Schema(accessMode = Schema.AccessMode.READ_ONLY)`. \r\n\r\nWhich changed the behavior of Swagger as I wanted.","title":"SwaggerUI: show/hide a hidden schema field","body":"<p>Ok I found a solution for my encounter.</p>\n<p>Instead of using <code>@Schema(hidden=true)</code> for the <code>id</code> field within my DTO. I switched to using: <code>@Schema(accessMode = Schema.AccessMode.READ_ONLY)</code>.</p>\n<p>Which changed the behavior of Swagger as I wanted.</p>\n"}],"owner":{"account_id":21101638,"reputation":11,"user_id":15511411,"display_name":"Andrei Raskolnikov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76921207,"answer_count":1,"score":1,"last_activity_date":1692292689,"creation_date":1692184218,"question_id":76912990,"body_markdown":"I am trying to set-up an OpenApi documentation within a project. Currently, I am documenting an endpoint which receives a DTO and returns a DTO as a response.\r\n\r\nMy entity DTO has a private field hidden (via @Schema annotation: the id). I used this anno. for not having that field included in the example JSON for a POST..\r\n\r\nAll good so far, but I want to have the id displayed in the response example value JSON within swagger-ui.\r\n\r\nThe example is same for response and request:\r\n{\r\n  &quot;title&quot;: &quot;string&quot;,\r\n  &quot;subtitle&quot;: &quot;string&quot;,\r\n  &quot;publisher&quot;: &quot;string&quot;,\r\n  &quot;publishedDate&quot;: &quot;string&quot;,\r\n  &quot;description&quot;: &quot;string&quot;,\r\n  &quot;pageCount&quot;: 0,\r\n  &quot;language&quot;: &quot;string&quot;,\r\n  &quot;previewLink&quot;: &quot;string&quot;,\r\n  &quot;numberOfItems&quot;: 0\r\n}\r\n\r\nBut for the sake of documentation of the &quot;response&quot;, I want the below JSON to contain also the hidden schema field. Can I do this somehow?\r\n[Image example]\r\n(https://i.stack.imgur.com/PsXfJ.jpg)\r\n\r\nMy approach towards was the following:\r\n\r\n@ApiResponse(description = &quot;Successful response&quot;, responseCode = &quot;200&quot;,content = @Content(schema = @Schema(implementation = BookDto.class)))\r\n\r\nBut I am expecting to be able without making a custom @Content schema, to include in the API response documentation example the hidden field.","title":"SwaggerUI: show/hide a hidden schema field","body":"<p>I am trying to set-up an OpenApi documentation within a project. Currently, I am documenting an endpoint which receives a DTO and returns a DTO as a response.</p>\n<p>My entity DTO has a private field hidden (via @Schema annotation: the id). I used this anno. for not having that field included in the example JSON for a POST..</p>\n<p>All good so far, but I want to have the id displayed in the response example value JSON within swagger-ui.</p>\n<p>The example is same for response and request:\n{\n&quot;title&quot;: &quot;string&quot;,\n&quot;subtitle&quot;: &quot;string&quot;,\n&quot;publisher&quot;: &quot;string&quot;,\n&quot;publishedDate&quot;: &quot;string&quot;,\n&quot;description&quot;: &quot;string&quot;,\n&quot;pageCount&quot;: 0,\n&quot;language&quot;: &quot;string&quot;,\n&quot;previewLink&quot;: &quot;string&quot;,\n&quot;numberOfItems&quot;: 0\n}</p>\n<p>But for the sake of documentation of the &quot;response&quot;, I want the below JSON to contain also the hidden schema field. Can I do this somehow?\n[Image example]\n(<a href=\"https://i.stack.imgur.com/PsXfJ.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/PsXfJ.jpg</a>)</p>\n<p>My approach towards was the following:</p>\n<p>@ApiResponse(description = &quot;Successful response&quot;, responseCode = &quot;200&quot;,content = @Content(schema = @Schema(implementation = BookDto.class)))</p>\n<p>But I am expecting to be able without making a custom @Content schema, to include in the API response documentation example the hidden field.</p>\n"},{"tags":["java","android","video"],"comments":[{"owner":{"account_id":417862,"reputation":16982,"user_id":794088,"display_name":"petey"},"score":0,"creation_date":1449169522,"post_id":34074066,"comment_id":55901396,"body_markdown":"please change `e.printStackTrace();` to `Log.e(TAG, &quot;Exception&quot;, e);` and report what errors logcat says.","body":"please change <code>e.printStackTrace();</code> to <code>Log.e(TAG, &quot;Exception&quot;, e);</code> and report what errors logcat says."},{"owner":{"account_id":3683606,"reputation":5652,"user_id":3067928,"accept_rate":43,"display_name":"RNK"},"score":0,"creation_date":1449169593,"post_id":34074066,"comment_id":55901437,"body_markdown":"There is no exception message in there.","body":"There is no exception message in there."},{"owner":{"account_id":417862,"reputation":16982,"user_id":794088,"display_name":"petey"},"score":0,"creation_date":1449169606,"post_id":34074066,"comment_id":55901449,"body_markdown":"also,  https://www.youtube.com/watch?v=hS5CfP8n_js is not a url to a video,  its a url to a webpage that plays a video","body":"also,  <a href=\"https://www.youtube.com/watch?v=hS5CfP8n_js\" rel=\"nofollow noreferrer\">youtube.com/watch?v=hS5CfP8n_js</a> is not a url to a video,  its a url to a webpage that plays a video"},{"owner":{"account_id":3683606,"reputation":5652,"user_id":3067928,"accept_rate":43,"display_name":"RNK"},"score":0,"creation_date":1449169667,"post_id":34074066,"comment_id":55901491,"body_markdown":"How to get the URL from youtube by which we can download the video?","body":"How to get the URL from youtube by which we can download the video?"},{"owner":{"account_id":417862,"reputation":16982,"user_id":794088,"display_name":"petey"},"score":1,"creation_date":1449170732,"post_id":34074066,"comment_id":55902146,"body_markdown":"Sorry...thats not a programming question.  Try googling or searching on stackexchange.com.","body":"Sorry...thats not a programming question.  Try googling or searching on stackexchange.com."}],"answers":[{"tags":[],"owner":{"account_id":20076809,"reputation":11,"user_id":14720383,"display_name":"MOHAMMED SHAHBAZ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692292653,"creation_date":1692292653,"answer_id":76923789,"question_id":34074066,"body_markdown":"        //make sure to call it from a suspend function or coroutine   \r\n          \r\n        private suspend fun downloadVideo(videoUrl: String): File? = withContext(Dispatchers.IO) {\r\n                    try {\r\n                        val url = URL(videoUrl)\r\n                        val connection = url.openConnection() as HttpURLConnection\r\n                        connection.doInput = true\r\n                        connection.connect()\r\n            \r\n                        val inputStream = connection.inputStream\r\n                        val fileName = &quot;downloaded_video.mp4&quot; // Set the desired file name\r\n                        val file = File(context?.cacheDir, fileName) // Store the video in the app&#39;s cache directory\r\n            \r\n                        FileOutputStream(file).use { output -&gt;\r\n                            val buffer = ByteArray(4 * 1024) // 4KB buffer\r\n                            var bytesRead: Int\r\n                            while (inputStream.read(buffer).also { bytesRead = it } != -1) {\r\n                                output.write(buffer, 0, bytesRead)\r\n                            }\r\n                            output.flush()\r\n                        }\r\n            \r\n                        file\r\n                    } catch (e: Exception) {\r\n                        e.printStackTrace()\r\n                        null\r\n                    }\r\n                } \r\n         \r\n    \r\n    //by mohammed shahbaz \r\n","title":"Download video from URL and store it in android device","body":"<pre><code>    //make sure to call it from a suspend function or coroutine   \n      \n    private suspend fun downloadVideo(videoUrl: String): File? = withContext(Dispatchers.IO) {\n                try {\n                    val url = URL(videoUrl)\n                    val connection = url.openConnection() as HttpURLConnection\n                    connection.doInput = true\n                    connection.connect()\n        \n                    val inputStream = connection.inputStream\n                    val fileName = &quot;downloaded_video.mp4&quot; // Set the desired file name\n                    val file = File(context?.cacheDir, fileName) // Store the video in the app's cache directory\n        \n                    FileOutputStream(file).use { output -&gt;\n                        val buffer = ByteArray(4 * 1024) // 4KB buffer\n                        var bytesRead: Int\n                        while (inputStream.read(buffer).also { bytesRead = it } != -1) {\n                            output.write(buffer, 0, bytesRead)\n                        }\n                        output.flush()\n                    }\n        \n                    file\n                } catch (e: Exception) {\n                    e.printStackTrace()\n                    null\n                }\n            } \n     \n\n//by mohammed shahbaz \n</code></pre>\n"}],"owner":{"account_id":3683606,"reputation":5652,"user_id":3067928,"accept_rate":43,"display_name":"RNK"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2244,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692292653,"creation_date":1449169253,"question_id":34074066,"body_markdown":"I have below code to download video from URL:\r\n\r\nString videoUrl = &quot;https://www.youtube.com/watch?v=hS5CfP8n_js&quot;;\r\n\r\n    private class LongOperation extends AsyncTask&lt;String, Void, String&gt; {\r\n        private ProgressDialog dialog = new ProgressDialog(MainActivity.this);\r\n        private final int TIMEOUT_CONNECTION = 5000;//5sec\r\n        private final int TIMEOUT_SOCKET = 30000;//30sec\r\n        private String TAG = &quot;TAG&quot;;\r\n\r\n        @Override\r\n        protected void onPreExecute() {\r\n            dialog.setMessage(&quot;Downloading...&quot;);\r\n            dialog.show();\r\n        }\r\n\r\n        @Override\r\n        protected String doInBackground(String... params) {\r\n            try {\r\n                url = new URL(videoUrl);\r\n                long startTime = System.currentTimeMillis();\r\n                Log.i(TAG, &quot;video download beginning: &quot; + videoUrl);\r\n\r\n                //Open a connection to that URL.\r\n                URLConnection ucon = url.openConnection();\r\n\r\n                //this timeout affects how long it takes for the app to realize there&#39;s a connection problem\r\n                ucon.setReadTimeout(TIMEOUT_CONNECTION);\r\n                ucon.setConnectTimeout(TIMEOUT_SOCKET);\r\n\r\n\r\n                //Define InputStreams to read from the URLConnection.\r\n                // uses 3KB download buffer\r\n                InputStream is = ucon.getInputStream();\r\n                BufferedInputStream inStream = new BufferedInputStream(is, 1024 * 5);\r\n                FileOutputStream outStream = new FileOutputStream(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_MUSIC).toString()+&quot;/new.mp4&quot;);\r\n                byte[] buff = new byte[5 * 1024];\r\n\r\n                //Read bytes (and store them) until there is nothing more to read(-1)\r\n                int len;\r\n                while ((len = inStream.read(buff)) != -1) {\r\n                    outStream.write(buff, 0, len);\r\n                }\r\n\r\n                //clean up\r\n                outStream.flush();\r\n                outStream.close();\r\n                inStream.close();\r\n\r\n                Log.i(TAG, &quot;download completed in &quot;\r\n                        + ((System.currentTimeMillis() - startTime) / 1000)\r\n                        + &quot; sec&quot;);\r\n\r\n            } catch (MalformedURLException e) {\r\n                e.printStackTrace();\r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return &quot;Executed&quot;;\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(String result) {\r\n            Log.v(&quot;TEST&quot;, result);\r\n            dialog.dismiss();\r\n        }\r\n    }\r\n\r\nVideo file is there in folder. But, when I tried to play it in media player it&#39;s not playing. Is there anything wrong in code?","title":"Download video from URL and store it in android device","body":"<p>I have below code to download video from URL:</p>\n\n<p>String videoUrl = \"<a href=\"https://www.youtube.com/watch?v=hS5CfP8n_js\" rel=\"nofollow\">https://www.youtube.com/watch?v=hS5CfP8n_js</a>\";</p>\n\n<pre><code>private class LongOperation extends AsyncTask&lt;String, Void, String&gt; {\n    private ProgressDialog dialog = new ProgressDialog(MainActivity.this);\n    private final int TIMEOUT_CONNECTION = 5000;//5sec\n    private final int TIMEOUT_SOCKET = 30000;//30sec\n    private String TAG = \"TAG\";\n\n    @Override\n    protected void onPreExecute() {\n        dialog.setMessage(\"Downloading...\");\n        dialog.show();\n    }\n\n    @Override\n    protected String doInBackground(String... params) {\n        try {\n            url = new URL(videoUrl);\n            long startTime = System.currentTimeMillis();\n            Log.i(TAG, \"video download beginning: \" + videoUrl);\n\n            //Open a connection to that URL.\n            URLConnection ucon = url.openConnection();\n\n            //this timeout affects how long it takes for the app to realize there's a connection problem\n            ucon.setReadTimeout(TIMEOUT_CONNECTION);\n            ucon.setConnectTimeout(TIMEOUT_SOCKET);\n\n\n            //Define InputStreams to read from the URLConnection.\n            // uses 3KB download buffer\n            InputStream is = ucon.getInputStream();\n            BufferedInputStream inStream = new BufferedInputStream(is, 1024 * 5);\n            FileOutputStream outStream = new FileOutputStream(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_MUSIC).toString()+\"/new.mp4\");\n            byte[] buff = new byte[5 * 1024];\n\n            //Read bytes (and store them) until there is nothing more to read(-1)\n            int len;\n            while ((len = inStream.read(buff)) != -1) {\n                outStream.write(buff, 0, len);\n            }\n\n            //clean up\n            outStream.flush();\n            outStream.close();\n            inStream.close();\n\n            Log.i(TAG, \"download completed in \"\n                    + ((System.currentTimeMillis() - startTime) / 1000)\n                    + \" sec\");\n\n        } catch (MalformedURLException e) {\n            e.printStackTrace();\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return \"Executed\";\n    }\n\n    @Override\n    protected void onPostExecute(String result) {\n        Log.v(\"TEST\", result);\n        dialog.dismiss();\n    }\n}\n</code></pre>\n\n<p>Video file is there in folder. But, when I tried to play it in media player it's not playing. Is there anything wrong in code?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1692289069,"post_id":76923295,"comment_id":135606144,"body_markdown":"Please, write a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"Please, write a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1692289447,"post_id":76923295,"comment_id":135606226,"body_markdown":"Your code is not valid Java. Method calls must be inside a method, constructor or (static) initializer block. You cannot have method calls directly inside a class body in Java.","body":"Your code is not valid Java. Method calls must be inside a method, constructor or (static) initializer block. You cannot have method calls directly inside a class body in Java."},{"owner":{"account_id":26218351,"reputation":1,"user_id":19896192,"display_name":"Collin"},"score":0,"creation_date":1692289567,"post_id":76923295,"comment_id":135606251,"body_markdown":"Actually running the code isn&#39;t the issue, it&#39;s that the method isn&#39;t recognized by Android Studio.  So, I don&#39;t really think reproducible code would help here.","body":"Actually running the code isn&#39;t the issue, it&#39;s that the method isn&#39;t recognized by Android Studio.  So, I don&#39;t really think reproducible code would help here."},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1692289680,"post_id":76923295,"comment_id":135606267,"body_markdown":"The code that you are using is **exactly the same** that is in the question?","body":"The code that you are using is <b>exactly the same</b> that is in the question?"},{"owner":{"account_id":26218351,"reputation":1,"user_id":19896192,"display_name":"Collin"},"score":0,"creation_date":1692290000,"post_id":76923295,"comment_id":135606328,"body_markdown":"Even within a method, I still get the same result. To clarify, when hovering over the text of &quot;.addView()&quot;, I cannot even see the documentation for it with CTRL+Q. It doesn&#39;t recognize it.","body":"Even within a method, I still get the same result. To clarify, when hovering over the text of &quot;.addView()&quot;, I cannot even see the documentation for it with CTRL+Q. It doesn&#39;t recognize it."},{"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"score":0,"creation_date":1692290484,"post_id":76923295,"comment_id":135606416,"body_markdown":"Use an instance of ViewGroup to assure it works","body":"Use an instance of ViewGroup to assure it works"},{"owner":{"account_id":26218351,"reputation":1,"user_id":19896192,"display_name":"Collin"},"score":0,"creation_date":1692290846,"post_id":76923295,"comment_id":135606492,"body_markdown":"Thanks, Cmak. This works. I should be able to figure it out from here.","body":"Thanks, Cmak. This works. I should be able to figure it out from here."}],"owner":{"account_id":26218351,"reputation":1,"user_id":19896192,"display_name":"Collin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692291998,"creation_date":1692288683,"question_id":76923295,"body_markdown":"I&#39;m working on an application in Android Studio (Giraffe), written in Java, to which I need to add buttons to a ScrollView. I&#39;ve done some research and found that the addView method is likely what I&#39;d want to use. However, for some reason, my Android Studio does not recognize it as a method for the ViewGroup class. For instance, when I put the following:\r\n\r\n```\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.widget.ScrollView;\r\nimport android.widget.LinearLayout;\r\nimport android.view.View;\r\n\r\n\r\nclass Test {\r\n    ViewGroup.addView(someView);\r\n}\r\n```\r\n\r\n\r\nIt acts as though addView isn&#39;t a valid method, giving me the message of &quot;Cannot resolve symbol &#39;addView&#39;&quot;. Also, when being applied to an instantiated ScrollView, it reads as &quot;Cannot resolve method &#39;addView&#39; in &#39;View&#39;&quot;.\r\n\r\nWould anyone know why this is? From what I&#39;ve read online, nobody else really seems to have this issue. I&#39;ve already attempted a few troubleshooting steps- like rebuilding, restarting, and even reinstalling Android Studio, but I haven&#39;t gotten any results. I&#39;d really appreciate any feedback.\r\n\r\nEdit: Here is a functional example of code that produces the same error.\r\n\r\n```\r\nclass Test {\r\n    public static void someMethod() {\r\n        View someView = null;\r\n        ViewGroup.addView(someView);\r\n    }\r\n}\r\n```","title":"Android Studio doesn&#39;t recognize the addView method","body":"<p>I'm working on an application in Android Studio (Giraffe), written in Java, to which I need to add buttons to a ScrollView. I've done some research and found that the addView method is likely what I'd want to use. However, for some reason, my Android Studio does not recognize it as a method for the ViewGroup class. For instance, when I put the following:</p>\n<pre><code>import androidx.appcompat.app.AppCompatActivity;\nimport android.widget.ScrollView;\nimport android.widget.LinearLayout;\nimport android.view.View;\n\n\nclass Test {\n    ViewGroup.addView(someView);\n}\n</code></pre>\n<p>It acts as though addView isn't a valid method, giving me the message of &quot;Cannot resolve symbol 'addView'&quot;. Also, when being applied to an instantiated ScrollView, it reads as &quot;Cannot resolve method 'addView' in 'View'&quot;.</p>\n<p>Would anyone know why this is? From what I've read online, nobody else really seems to have this issue. I've already attempted a few troubleshooting steps- like rebuilding, restarting, and even reinstalling Android Studio, but I haven't gotten any results. I'd really appreciate any feedback.</p>\n<p>Edit: Here is a functional example of code that produces the same error.</p>\n<pre><code>class Test {\n    public static void someMethod() {\n        View someView = null;\n        ViewGroup.addView(someView);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1692294280,"post_id":76923711,"comment_id":135607214,"body_markdown":"The debugger uses the class itself to &#39;see&#39; the data, which causes it to be fetched. Groups is being fetched joined in, which you can see in the executed query, while the projectGroups is being fetched separately because you are accessing it through the debugger. Turn on SQL logging and let it run without debugging - if you don&#39;t see the query on ProjectMember, it isn&#39;t being fetched","body":"The debugger uses the class itself to &#39;see&#39; the data, which causes it to be fetched. Groups is being fetched joined in, which you can see in the executed query, while the projectGroups is being fetched separately because you are accessing it through the debugger. Turn on SQL logging and let it run without debugging - if you don&#39;t see the query on ProjectMember, it isn&#39;t being fetched"},{"owner":{"account_id":13176203,"reputation":195,"user_id":9517076,"display_name":"I have 10 fingers"},"score":0,"creation_date":1692317610,"post_id":76923711,"comment_id":135610407,"body_markdown":"@Chris But i can&#39;t see any related entities in debugger using this query `select p from Project p`. If debugger fetches to see the data somehow then this query should fetch other entities as well","body":"@Chris But i can&#39;t see any related entities in debugger using this query <code>select p from Project p</code>. If debugger fetches to see the data somehow then this query should fetch other entities as well"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1692370981,"post_id":76923711,"comment_id":135618238,"body_markdown":"Check the logs - you should be able to determine when the query for ProjectMembers is issued. If it isn&#39;t issued, it isn&#39;t fetched. As for other queries - you should be able to see what is in the collection by expanding them. Have you maybe read in this Project instance before and had it fetch the projectMembers? You might be getting the cached instance from before. You need to see the query doing the fetch to figure out what is executing it - and it isn&#39;t in what you&#39;ve shown us","body":"Check the logs - you should be able to determine when the query for ProjectMembers is issued. If it isn&#39;t issued, it isn&#39;t fetched. As for other queries - you should be able to see what is in the collection by expanding them. Have you maybe read in this Project instance before and had it fetch the projectMembers? You might be getting the cached instance from before. You need to see the query doing the fetch to figure out what is executing it - and it isn&#39;t in what you&#39;ve shown us"},{"owner":{"account_id":13176203,"reputation":195,"user_id":9517076,"display_name":"I have 10 fingers"},"score":0,"creation_date":1692456985,"post_id":76923711,"comment_id":135627253,"body_markdown":"The member entity is only shown in the transaction then it is disappeared after transaction is finished. Also i can’t see any logs related member entity so it is not actually fetched as you said but why other entities still remain as proxy. Showing as proxy is what unselected entities should be isn’t it? Like i see when using default `findById`","body":"The member entity is only shown in the transaction then it is disappeared after transaction is finished. Also i can’t see any logs related member entity so it is not actually fetched as you said but why other entities still remain as proxy. Showing as proxy is what unselected entities should be isn’t it? Like i see when using default <code>findById</code>"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1692626971,"post_id":76923711,"comment_id":135645506,"body_markdown":"Are we debugging your debugger, or are you looking at debugging real world results in your application? I can only help guess at what you are seeing. If there is no query for the ProjectMembers occurring in your application at all - I could guess that maybe you have these Project instances and their ProjectMembers already cached from earlier application access. You&#39;ll have to figure out where/when they are fetched - maybe put a lock in the table and check to see if any threads are stuck blocked on it","body":"Are we debugging your debugger, or are you looking at debugging real world results in your application? I can only help guess at what you are seeing. If there is no query for the ProjectMembers occurring in your application at all - I could guess that maybe you have these Project instances and their ProjectMembers already cached from earlier application access. You&#39;ll have to figure out where/when they are fetched - maybe put a lock in the table and check to see if any threads are stuck blocked on it"},{"owner":{"account_id":13176203,"reputation":195,"user_id":9517076,"display_name":"I have 10 fingers"},"score":0,"creation_date":1692630571,"post_id":76923711,"comment_id":135646341,"body_markdown":"It appears on both local dev environment and the sample code i linked. I need to dig it in more since there is no explicit log. Thank you for your help anyways.","body":"It appears on both local dev environment and the sample code i linked. I need to dig it in more since there is no explicit log. Thank you for your help anyways."}],"owner":{"account_id":13176203,"reputation":195,"user_id":9517076,"display_name":"I have 10 fingers"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692291949,"creation_date":1692291949,"question_id":76923711,"body_markdown":"Recently i&#39;m facing weird issue while developing spring data jpa application.\r\n\r\nI thought lazy fetched collection type entity is only fetched when it is actually accessed or when i fetch it with fetch join. But i can see unspecified entity which is not located in select clause nor from, where clause during debugging time.\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;projects&quot;)\r\n@Getter\r\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\r\npublic class Project extends BaseTimeEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @OneToMany(mappedBy = &quot;project&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private final List&lt;ProjectGroup&gt; groups = new ArrayList&lt;&gt;();\r\n\r\n    @OneToMany(mappedBy = &quot;project&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private final List&lt;ProjectMember&gt; projectMembers = new ArrayList&lt;&gt;();\r\n\r\n    @Builder\r\n    public Project(\r\n        String name\r\n    ) {\r\n        this.name = name;\r\n    }\r\n\r\n    public void addGroup(ProjectGroup group) {\r\n        this.groups.add(group);\r\n        group.setProject(this);\r\n    }\r\n\r\n    public void removeGroup(ProjectGroup group) {\r\n        this.groups.remove(group);\r\n        group.setProject(null);\r\n    }\r\n\r\n    public void addProjectMember(ProjectMember projectMember) {\r\n        this.projectMembers.add(projectMember);\r\n        projectMember.setProject(this);\r\n    }\r\n\r\n    public void removeProjectMember(ProjectMember projectMember) {\r\n        this.projectMembers.remove(projectMember);\r\n        projectMember.setProject(null);\r\n    }\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;project_groups&quot;)\r\n@Getter\r\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\r\npublic class ProjectGroup extends BaseTimeEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;project_id&quot;, foreignKey = @ForeignKey(name = &quot;FK_PROJECT_GROUP_PROJECT&quot;))\r\n    private Project project;\r\n\r\n    @Builder\r\n    public ProjectGroup(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public void setProject(Project project) {\r\n        this.project = project;\r\n    }\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;project_members&quot;)\r\n@Getter\r\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\r\npublic class ProjectMember extends BaseTimeEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;project_id&quot;, foreignKey = @ForeignKey(name = &quot;FK_PROJECT_MEMBER_PROJECT&quot;))\r\n    private Project project;\r\n\r\n    @Column(name = &quot;nickname&quot;)\r\n    private String nickname;\r\n\r\n    @Column(name = &quot;is_deleted&quot;)\r\n    private boolean isDeleted = false;\r\n\r\n    @Builder\r\n    public ProjectMember(\r\n        String nickname,\r\n        boolean isDeleted\r\n    ) {\r\n        this.nickname = nickname;\r\n        this.isDeleted = isDeleted;\r\n    }\r\n\r\n    public void setProject(Project project) {\r\n        this.project = project;\r\n    }\r\n}\r\n```\r\nThose are my entities as you can see all the collection type entities are set as `FetchType.LAZY` which is the default value. \r\n\r\nAnd this is my repository and service class\r\n```java\r\npublic interface ProjectRepository extends JpaRepository&lt;Project, Long&gt; {\r\n\r\n    @Query(&quot;&quot;&quot;\r\n        select distinct p\r\n        from Project p\r\n            left join fetch p.groups\r\n        where p.id = :id\r\n    &quot;&quot;&quot;)\r\n    Optional&lt;Project&gt; findWithProjectGroupsById(@Param(&quot;id&quot;) Long id);\r\n\r\n}\r\n\r\n@Service\r\n@Transactional\r\n@RequiredArgsConstructor\r\npublic class ProjectQueryServiceImpl implements ProjectQueryService {\r\n\r\n    private final ProjectRepository projectRepository;\r\n\r\n    @Override\r\n    public ProjectResponseDto fetchWithMembersAndGroups(Long id) {\r\n        return projectRepository.findWithProjectGroupsById(id)\r\n            .map(ProjectResponseDto::new)\r\n            .orElseThrow(EntityNotFoundException::new);\r\n    }\r\n}\r\n```\r\n\r\nThe service code is very simple it only fetch project with group entity with fetch join. You can see clearly there is no member entity in this query.\r\n\r\nAnd the generated query looks like this\r\n```sql\r\n    select\r\n        distinct project0_.id as id1_2_0_,\r\n        groups1_.id as id1_0_1_,\r\n        project0_.created_at as created_2_2_0_,\r\n        project0_.modified_at as modified3_2_0_,\r\n        project0_.name as name4_2_0_,\r\n        groups1_.created_at as created_2_0_1_,\r\n        groups1_.modified_at as modified3_0_1_,\r\n        groups1_.name as name4_0_1_,\r\n        groups1_.project_id as project_5_0_1_,\r\n        groups1_.project_id as project_5_0_0__,\r\n        groups1_.id as id1_0_0__ \r\n    from\r\n        projects project0_ \r\n    left outer join\r\n        project_groups groups1_ \r\n            on project0_.id=groups1_.project_id \r\n    where\r\n        project0_.id=?\r\n```\r\nBut when i set the break point right after the above query is executed i can see the unspecified member entity\r\n[![enter image description here][1]][1]\r\n\r\nDoes anyone know why this happens? I&#39;ve tried to find out but still couldn&#39;t find any reason.\r\n\r\nIf you want to reproducible [sample code][2] please use it and you can easily reproduce it when you run the test method and set break point in the `PostResponseDto` so that you can pause test right after executing repository method.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BjwEP.png\r\n  [2]: https://github.com/Y-k-Y/jpatest/","title":"Unspecified entity is shown during spring boot jpa transaction","body":"<p>Recently i'm facing weird issue while developing spring data jpa application.</p>\n<p>I thought lazy fetched collection type entity is only fetched when it is actually accessed or when i fetch it with fetch join. But i can see unspecified entity which is not located in select clause nor from, where clause during debugging time.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;projects&quot;)\n@Getter\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\npublic class Project extends BaseTimeEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @OneToMany(mappedBy = &quot;project&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private final List&lt;ProjectGroup&gt; groups = new ArrayList&lt;&gt;();\n\n    @OneToMany(mappedBy = &quot;project&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private final List&lt;ProjectMember&gt; projectMembers = new ArrayList&lt;&gt;();\n\n    @Builder\n    public Project(\n        String name\n    ) {\n        this.name = name;\n    }\n\n    public void addGroup(ProjectGroup group) {\n        this.groups.add(group);\n        group.setProject(this);\n    }\n\n    public void removeGroup(ProjectGroup group) {\n        this.groups.remove(group);\n        group.setProject(null);\n    }\n\n    public void addProjectMember(ProjectMember projectMember) {\n        this.projectMembers.add(projectMember);\n        projectMember.setProject(this);\n    }\n\n    public void removeProjectMember(ProjectMember projectMember) {\n        this.projectMembers.remove(projectMember);\n        projectMember.setProject(null);\n    }\n}\n\n@Entity\n@Table(name = &quot;project_groups&quot;)\n@Getter\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\npublic class ProjectGroup extends BaseTimeEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;project_id&quot;, foreignKey = @ForeignKey(name = &quot;FK_PROJECT_GROUP_PROJECT&quot;))\n    private Project project;\n\n    @Builder\n    public ProjectGroup(String name) {\n        this.name = name;\n    }\n\n    public void setProject(Project project) {\n        this.project = project;\n    }\n}\n\n@Entity\n@Table(name = &quot;project_members&quot;)\n@Getter\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\npublic class ProjectMember extends BaseTimeEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;project_id&quot;, foreignKey = @ForeignKey(name = &quot;FK_PROJECT_MEMBER_PROJECT&quot;))\n    private Project project;\n\n    @Column(name = &quot;nickname&quot;)\n    private String nickname;\n\n    @Column(name = &quot;is_deleted&quot;)\n    private boolean isDeleted = false;\n\n    @Builder\n    public ProjectMember(\n        String nickname,\n        boolean isDeleted\n    ) {\n        this.nickname = nickname;\n        this.isDeleted = isDeleted;\n    }\n\n    public void setProject(Project project) {\n        this.project = project;\n    }\n}\n</code></pre>\n<p>Those are my entities as you can see all the collection type entities are set as <code>FetchType.LAZY</code> which is the default value.</p>\n<p>And this is my repository and service class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface ProjectRepository extends JpaRepository&lt;Project, Long&gt; {\n\n    @Query(&quot;&quot;&quot;\n        select distinct p\n        from Project p\n            left join fetch p.groups\n        where p.id = :id\n    &quot;&quot;&quot;)\n    Optional&lt;Project&gt; findWithProjectGroupsById(@Param(&quot;id&quot;) Long id);\n\n}\n\n@Service\n@Transactional\n@RequiredArgsConstructor\npublic class ProjectQueryServiceImpl implements ProjectQueryService {\n\n    private final ProjectRepository projectRepository;\n\n    @Override\n    public ProjectResponseDto fetchWithMembersAndGroups(Long id) {\n        return projectRepository.findWithProjectGroupsById(id)\n            .map(ProjectResponseDto::new)\n            .orElseThrow(EntityNotFoundException::new);\n    }\n}\n</code></pre>\n<p>The service code is very simple it only fetch project with group entity with fetch join. You can see clearly there is no member entity in this query.</p>\n<p>And the generated query looks like this</p>\n<pre class=\"lang-sql prettyprint-override\"><code>    select\n        distinct project0_.id as id1_2_0_,\n        groups1_.id as id1_0_1_,\n        project0_.created_at as created_2_2_0_,\n        project0_.modified_at as modified3_2_0_,\n        project0_.name as name4_2_0_,\n        groups1_.created_at as created_2_0_1_,\n        groups1_.modified_at as modified3_0_1_,\n        groups1_.name as name4_0_1_,\n        groups1_.project_id as project_5_0_1_,\n        groups1_.project_id as project_5_0_0__,\n        groups1_.id as id1_0_0__ \n    from\n        projects project0_ \n    left outer join\n        project_groups groups1_ \n            on project0_.id=groups1_.project_id \n    where\n        project0_.id=?\n</code></pre>\n<p>But when i set the break point right after the above query is executed i can see the unspecified member entity\n<a href=\"https://i.stack.imgur.com/BjwEP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BjwEP.png\" alt=\"enter image description here\" /></a></p>\n<p>Does anyone know why this happens? I've tried to find out but still couldn't find any reason.</p>\n<p>If you want to reproducible <a href=\"https://github.com/Y-k-Y/jpatest/\" rel=\"nofollow noreferrer\">sample code</a> please use it and you can easily reproduce it when you run the test method and set break point in the <code>PostResponseDto</code> so that you can pause test right after executing repository method.</p>\n"},{"tags":["java","html","merge","report","jacoco-maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":284924,"reputation":431,"user_id":583309,"accept_rate":24,"display_name":"Hussain Ashruf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692291769,"creation_date":1692291769,"answer_id":76923692,"question_id":76902649,"body_markdown":"For the second part use $ java -jar jacococli.jar report ....it generates the html report","title":"Separate java projects with jacoco code coverage reports are generated separately using maven. Consolidated report generated is blank","body":"<p>For the second part use $ java -jar jacococli.jar report ....it generates the html report</p>\n"}],"owner":{"account_id":284924,"reputation":431,"user_id":583309,"accept_rate":24,"display_name":"Hussain Ashruf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692291769,"creation_date":1692054806,"question_id":76902649,"body_markdown":"Having separate java projects (non-multi module projects) with jacoco code coverage reports are generated separately using maven. Each one having its own target\\jacoco.exec coverage file and Html reports; so having number of those. I am trying to consolidate all of those into one and generate one jacoco.exec and one html report. \r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;0.8.9&lt;/version&gt;...\r\n\r\n\r\n                &lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;merge-reports&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;test&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;merge&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;fileSets&gt;\r\n\t\t\t\t\t\t\t\t&lt;fileSet&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;directory&gt;lambda/face-email-handler/target/&lt;/directory&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;include&gt;*.exec&lt;/include&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t\t\t\t\t&lt;/fileSet&gt;\r\n\t\t\t\t\t\t\t\t&lt;!-- Repeat for other projects --&gt;\r\n\t\t\t\t\t\t\t&lt;/fileSets&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;report&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;verify&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;report-aggregate&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;dataFileIncludes&gt;\r\n\t\t\t\t\t\t\t\t&lt;dataFileInclude&gt;target/jacoco.exec&lt;/dataFileInclude&gt;\r\n\t\t\t\t\t\t\t&lt;/dataFileIncludes&gt;\r\n\t\t\t\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t\t\t\t&lt;include&gt;edu/uca/**&lt;/include&gt;\r\n\t\t\t\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t\t\t\t&lt;outputDirectory&gt;target/site/jacoco-coverage-aggregate&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;...\r\n\r\nSo able to have one jacoco.exec but html report being generated is blank. Specific direction is appreciated.\r\n[![Blank html consolidated code coverage report][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gNseA.png","title":"Separate java projects with jacoco code coverage reports are generated separately using maven. Consolidated report generated is blank","body":"<p>Having separate java projects (non-multi module projects) with jacoco code coverage reports are generated separately using maven. Each one having its own target\\jacoco.exec coverage file and Html reports; so having number of those. I am trying to consolidate all of those into one and generate one jacoco.exec and one html report.</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n            &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.8.9&lt;/version&gt;...\n\n\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;merge-reports&lt;/id&gt;\n                    &lt;phase&gt;test&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;merge&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;fileSets&gt;\n                            &lt;fileSet&gt;\n                                &lt;directory&gt;lambda/face-email-handler/target/&lt;/directory&gt;\n                                &lt;includes&gt;\n                                    &lt;include&gt;*.exec&lt;/include&gt;\n                                &lt;/includes&gt;\n                            &lt;/fileSet&gt;\n                            &lt;!-- Repeat for other projects --&gt;\n                        &lt;/fileSets&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n\n                &lt;execution&gt;\n                    &lt;id&gt;report&lt;/id&gt;\n                    &lt;phase&gt;verify&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;report-aggregate&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;dataFileIncludes&gt;\n                            &lt;dataFileInclude&gt;target/jacoco.exec&lt;/dataFileInclude&gt;\n                        &lt;/dataFileIncludes&gt;\n                        &lt;includes&gt;\n                            &lt;include&gt;edu/uca/**&lt;/include&gt;\n                        &lt;/includes&gt;\n                        &lt;outputDirectory&gt;target/site/jacoco-coverage-aggregate&lt;/outputDirectory&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;...\n</code></pre>\n<p>So able to have one jacoco.exec but html report being generated is blank. Specific direction is appreciated.\n<a href=\"https://i.stack.imgur.com/gNseA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gNseA.png\" alt=\"Blank html consolidated code coverage report\" /></a></p>\n"},{"tags":["java","kotlin","quarkus","avro"],"owner":{"account_id":14856134,"reputation":303,"user_id":10728589,"display_name":"Stefano Castoldi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692291281,"creation_date":1692291281,"question_id":76923626,"body_markdown":"I have created an application that reads data from a Kafka topic using Quarkus and Kotlin. The data on the topic are in Avro format, so I have to use `io.quarkus:quarkus-avro` dependency.\r\n\r\nEverything works fine but when I set Quarkus log level to `DEBUG` or higher I get the following message.\r\n\r\n```\r\nDEBUG requestId= traceId=, spanId=, sampled= [io.quarkus.deployment.util.FSWatchUtil] (FSWatchUtil) Failed checking for code gen source modifications: java.nio.file.NoSuchFileException: &lt;projectfolder&gt;/build/classes/java/quarkus-generated-sources/avro\r\n\tat java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)\r\n\tat java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:106)\r\n\tat java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)\r\n\tat java.base/sun.nio.fs.UnixFileAttributeViews$Basic.readAttributes(UnixFileAttributeViews.java:55)\r\n\tat java.base/sun.nio.fs.UnixFileSystemProvider.readAttributes(UnixFileSystemProvider.java:148)\r\n\tat java.base/sun.nio.fs.LinuxFileSystemProvider.readAttributes(LinuxFileSystemProvider.java:99)\r\n\tat java.base/java.nio.file.Files.readAttributes(Files.java:1851)\r\n\tat java.base/java.nio.file.FileTreeWalker.getAttributes(FileTreeWalker.java:220)\r\n\tat java.base/java.nio.file.FileTreeWalker.visit(FileTreeWalker.java:277)\r\n\tat java.base/java.nio.file.FileTreeWalker.walk(FileTreeWalker.java:323)\r\n\tat java.base/java.nio.file.FileTreeIterator.&lt;init&gt;(FileTreeIterator.java:71)\r\n\tat java.base/java.nio.file.Files.walk(Files.java:3918)\r\n\tat java.base/java.nio.file.Files.walk(Files.java:3973)\r\n\tat io.quarkus.deployment.util.FSWatchUtil.doObserve(FSWatchUtil.java:55)\r\n\tat io.quarkus.deployment.util.FSWatchUtil.lambda$observe$1(FSWatchUtil.java:41)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n```\r\n\r\nThe path is related to Java but I have only Kotlin code so I didn&#39;t find a way to suppress the error.\r\n\r\n","title":"Kotlin Quarkus Avro NoSuchFileException","body":"<p>I have created an application that reads data from a Kafka topic using Quarkus and Kotlin. The data on the topic are in Avro format, so I have to use <code>io.quarkus:quarkus-avro</code> dependency.</p>\n<p>Everything works fine but when I set Quarkus log level to <code>DEBUG</code> or higher I get the following message.</p>\n<pre><code>DEBUG requestId= traceId=, spanId=, sampled= [io.quarkus.deployment.util.FSWatchUtil] (FSWatchUtil) Failed checking for code gen source modifications: java.nio.file.NoSuchFileException: &lt;projectfolder&gt;/build/classes/java/quarkus-generated-sources/avro\n    at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)\n    at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:106)\n    at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)\n    at java.base/sun.nio.fs.UnixFileAttributeViews$Basic.readAttributes(UnixFileAttributeViews.java:55)\n    at java.base/sun.nio.fs.UnixFileSystemProvider.readAttributes(UnixFileSystemProvider.java:148)\n    at java.base/sun.nio.fs.LinuxFileSystemProvider.readAttributes(LinuxFileSystemProvider.java:99)\n    at java.base/java.nio.file.Files.readAttributes(Files.java:1851)\n    at java.base/java.nio.file.FileTreeWalker.getAttributes(FileTreeWalker.java:220)\n    at java.base/java.nio.file.FileTreeWalker.visit(FileTreeWalker.java:277)\n    at java.base/java.nio.file.FileTreeWalker.walk(FileTreeWalker.java:323)\n    at java.base/java.nio.file.FileTreeIterator.&lt;init&gt;(FileTreeIterator.java:71)\n    at java.base/java.nio.file.Files.walk(Files.java:3918)\n    at java.base/java.nio.file.Files.walk(Files.java:3973)\n    at io.quarkus.deployment.util.FSWatchUtil.doObserve(FSWatchUtil.java:55)\n    at io.quarkus.deployment.util.FSWatchUtil.lambda$observe$1(FSWatchUtil.java:41)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n\n</code></pre>\n<p>The path is related to Java but I have only Kotlin code so I didn't find a way to suppress the error.</p>\n"},{"tags":["java","string","printing","format"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1692287073,"post_id":76923071,"comment_id":135605712,"body_markdown":"Actually you have to use spaces to get the format. There is no way around it plain text.","body":"Actually you have to use spaces to get the format. There is no way around it plain text."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":6,"creation_date":1692287147,"post_id":76923071,"comment_id":135605729,"body_markdown":"Just make a variable out of that `10` in `String.format(&quot;%10s&quot;, string)`. It may look weird, but you can concat the template string just like any other: `String.format(&quot;%&quot; + length + &quot;s&quot;, string)`","body":"Just make a variable out of that <code>10</code> in <code>String.format(&quot;%10s&quot;, string)</code>. It may look weird, but you can concat the template string just like any other: <code>String.format(&quot;%&quot; + length + &quot;s&quot;, string)</code>"},{"owner":{"account_id":29245436,"reputation":1,"user_id":22405995,"display_name":"Александр"},"score":0,"creation_date":1692287488,"post_id":76923071,"comment_id":135605812,"body_markdown":"Oh, thank you, I forgot I Can do that XD","body":"Oh, thank you, I forgot I Can do that XD"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1692288039,"post_id":76923071,"comment_id":135605923,"body_markdown":"String format just adds spaces.","body":"String format just adds spaces."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692291273,"creation_date":1692291273,"answer_id":76923625,"question_id":76923071,"body_markdown":"You could do it like this. Create a method to create a format from a format.\r\nUse a formatted string to create a final formatted string.  The first takes the lengths of the headers to create the final format.\r\n```\r\n String h1 = &quot;header 1&quot;;\r\n String h2 = &quot;long header 2&quot;;\r\n String h3 = &quot;other&quot;;\r\n String headerTemplate = &quot;%%%ds|%%%ds|%%%ds%%n&quot;;\r\n // left justfied with negative lengths.\r\n String format = headerTemplate.formatted(-h1.length(), -h2.length(),\r\n         -h3.length());\r\n System.out.printf(format,h1,h2,h3);\r\n System.out.printf(format, &quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\r\n```\r\nprints\r\n```\r\nheader 1|long header 2|other\r\nA       |B            |C    \r\n\r\n","title":"Format a string wittout predetermined length in Java","body":"<p>You could do it like this. Create a method to create a format from a format.\nUse a formatted string to create a final formatted string.  The first takes the lengths of the headers to create the final format.</p>\n<pre><code> String h1 = &quot;header 1&quot;;\n String h2 = &quot;long header 2&quot;;\n String h3 = &quot;other&quot;;\n String headerTemplate = &quot;%%%ds|%%%ds|%%%ds%%n&quot;;\n // left justfied with negative lengths.\n String format = headerTemplate.formatted(-h1.length(), -h2.length(),\n         -h3.length());\n System.out.printf(format,h1,h2,h3);\n System.out.printf(format, &quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\n</code></pre>\n<p>prints</p>\n<pre><code>header 1|long header 2|other\nA       |B            |C    \n\n</code></pre>\n"}],"owner":{"account_id":29245436,"reputation":1,"user_id":22405995,"display_name":"Александр"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1692291273,"creation_date":1692286827,"question_id":76923071,"body_markdown":"I need to print the table like in the picture:[the table format][1]\r\n\r\n\r\nBut as I have taks of different length (2nd, 3d, 4th and 5th column headers) I can&#39;t format strings wtih spaces\r\n\r\n\r\nI tried using String.format(&quot;%10s&quot;, string) but this method doesn&#39;t accept length of the string through a variable (at least I haven&#39;t found any information)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ooE5z.png","title":"Format a string wittout predetermined length in Java","body":"<p>I need to print the table like in the picture:<a href=\"https://i.stack.imgur.com/ooE5z.png\" rel=\"nofollow noreferrer\">the table format</a></p>\n<p>But as I have taks of different length (2nd, 3d, 4th and 5th column headers) I can't format strings wtih spaces</p>\n<p>I tried using String.format(&quot;%10s&quot;, string) but this method doesn't accept length of the string through a variable (at least I haven't found any information)</p>\n"},{"tags":["java","sql","hibernate","sql-update"],"comments":[{"owner":{"account_id":1900385,"reputation":709,"user_id":1716357,"display_name":"wxyz"},"score":0,"creation_date":1383732441,"post_id":19809111,"comment_id":29450523,"body_markdown":"an update means you change something already existing, so you must retrieve it first, no doubt about it.","body":"an update means you change something already existing, so you must retrieve it first, no doubt about it."},{"owner":{"account_id":1834782,"reputation":1763,"user_id":1665377,"display_name":"maximede"},"score":0,"creation_date":1383732448,"post_id":19809111,"comment_id":29450528,"body_markdown":"see this link :  [possible duplicate](http://stackoverflow.com/a/1821095/1665377)","body":"see this link :  <a href=\"http://stackoverflow.com/a/1821095/1665377\">possible duplicate</a>"},{"owner":{"account_id":3154697,"reputation":7044,"user_id":2667343,"display_name":"pasha701"},"score":0,"creation_date":1383732543,"post_id":19809111,"comment_id":29450586,"body_markdown":"http://stackoverflow.com/questions/14723528/hibernate-update-query-issue","body":"<a href=\"http://stackoverflow.com/questions/14723528/hibernate-update-query-issue\" title=\"hibernate update query issue\">stackoverflow.com/questions/14723528/&hellip;</a>"},{"owner":{"account_id":17002,"reputation":3581,"user_id":37613,"accept_rate":75,"display_name":"acfrancis"},"score":9,"creation_date":1383733119,"post_id":19809111,"comment_id":29450917,"body_markdown":"@wxyz: That&#39;s not how SQL works. You can issue an update command without selecting first.","body":"@wxyz: That&#39;s not how SQL works. You can issue an update command without selecting first."}],"answers":[{"comments":[{"owner":{"account_id":1495429,"reputation":169,"user_id":1401493,"accept_rate":75,"display_name":"DBZHOU"},"score":3,"creation_date":1478027209,"post_id":19809457,"comment_id":67987100,"body_markdown":"Is there another way to to this? I though the purpose of using Hibernate is because writing SQL in the code is a really bad apporach. It seems meaningless if we need to write HQL. In addition, involving logic in dao is also a bad approach, right? Thank you.","body":"Is there another way to to this? I though the purpose of using Hibernate is because writing SQL in the code is a really bad apporach. It seems meaningless if we need to write HQL. In addition, involving logic in dao is also a bad approach, right? Thank you."}],"tags":[],"owner":{"account_id":2353390,"reputation":4575,"user_id":2061763,"accept_rate":67,"display_name":"Andrei Nicusan"},"comment_count":1,"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1383733353,"creation_date":1383733353,"answer_id":19809457,"question_id":19809111,"body_markdown":"HQL will definitely help you.\r\n\r\nIn order to maintain the separation of concerns, you can add a more specialized method in you DAO object:\r\n\r\n    public void updateStatusForId(long id, boolean status){\r\n    //provided you obtain a reference to your session object\r\n    session.createQuery(&quot;UPDATE Campaign SET status = &quot; + status + &quot; WHERE id = :id&quot;).setParameter(&quot;id&quot;, id).executeUpdate();\r\n    //flush your session\r\n    }\r\n\r\nThen you could simply call this method from your business method. You can check the generated SQL statements inside the logs of your app by setting the `show_sql` hibernate property to `true`.","title":"Hibernate update without select","body":"<p>HQL will definitely help you.</p>\n\n<p>In order to maintain the separation of concerns, you can add a more specialized method in you DAO object:</p>\n\n<pre><code>public void updateStatusForId(long id, boolean status){\n//provided you obtain a reference to your session object\nsession.createQuery(\"UPDATE Campaign SET status = \" + status + \" WHERE id = :id\").setParameter(\"id\", id).executeUpdate();\n//flush your session\n}\n</code></pre>\n\n<p>Then you could simply call this method from your business method. You can check the generated SQL statements inside the logs of your app by setting the <code>show_sql</code> hibernate property to <code>true</code>.</p>\n"},{"comments":[{"owner":{"account_id":104251,"reputation":52940,"user_id":278836,"accept_rate":88,"display_name":"Andrew White"},"score":2,"creation_date":1412185013,"post_id":19809473,"comment_id":40986750,"body_markdown":"This does not work for me. The load part is correct but once the setter is applied it seems to go to the DB. The link you posted works for referential relationships but not for concrete properties.","body":"This does not work for me. The load part is correct but once the setter is applied it seems to go to the DB. The link you posted works for referential relationships but not for concrete properties."}],"tags":[],"owner":{"account_id":2411926,"reputation":2788,"user_id":2106815,"accept_rate":69,"display_name":"Jabir"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1383733397,"creation_date":1383733397,"answer_id":19809473,"question_id":19809111,"body_markdown":"\r\nYou can use session.load(). It will not hit the database. [Here][1] you can find its details and example code.\r\n\r\n\r\n  [1]: http://www.mkyong.com/hibernate/different-between-session-get-and-session-load/","title":"Hibernate update without select","body":"<p>You can use session.load(). It will not hit the database. <a href=\"http://www.mkyong.com/hibernate/different-between-session-get-and-session-load/\" rel=\"nofollow\">Here</a> you can find its details and example code.</p>\n"},{"tags":[],"owner":{"account_id":113849,"reputation":36,"user_id":299654,"display_name":"user299654"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1419524387,"creation_date":1419524067,"answer_id":27648833,"question_id":19809111,"body_markdown":"I had worte a extension to solve this issue in **Nhibernate**\r\n\r\n***how to use!***   \r\nfirst of all you need enable ***dynamic-update=&quot;true&quot;***\r\n\r\n            using (ISession session = sessionFactory.OpenSession())\r\n            {\r\n                Customer c1 = new Customer();\r\n                c1.CustomerID = c.CustomerID;\r\n                session.Mark(c1);\r\n               // c1.Name = DateTime.Now.ToString();\r\n                c1.Phone = DateTime.Now.ToString();\r\n                //需要开启动态更新\r\n                session.UpdateDirty(c1);\r\n                session.Flush();\r\n            }\r\n\r\n\r\n\r\n***UpdateExtension.cs***\r\n\r\n\r\n        public static class UpdateExtension\r\n    {\r\n        static readonly Object NOTNULL = new Object();\r\n\r\n        public static void UpdateDirty&lt;TEntity&gt;(this ISession session, TEntity entity)\r\n        {\r\n            SessionImpl implementor = session as SessionImpl;\r\n            EntityEntry entry = implementor.PersistenceContext.GetEntry(entity);\r\n\r\n            if (entry == null)\r\n            {\r\n                throw new InvalidOperationException(&quot;找不到对应的实例，请先使用Mask方法标记&quot;);\r\n            }\r\n\r\n            IEntityPersister persister = entry.Persister;\r\n\r\n            // 如果某列不可以为空，新的Entity里也不想更新他。\r\n            // 那么LoadState 里的值应该和Entity 中的值相同\r\n\r\n            Object[] CurrentState = entry.Persister.GetPropertyValues(entity, EntityMode.Poco);\r\n            Object[] LoadedState = entry.LoadedState;\r\n\r\n            int[] dirtys = persister.FindDirty(CurrentState\r\n                , LoadedState\r\n                , entity\r\n                , (SessionImpl)session);\r\n\r\n            if (dirtys == null || dirtys.Length == 0)\r\n            {\r\n                return;\r\n            }\r\n\r\n            persister.Update(entry.Id\r\n                , CurrentState\r\n                , dirtys\r\n                , true\r\n                , LoadedState\r\n                , entry.Version\r\n                , entity\r\n                , entry.RowId\r\n                , (SessionImpl)session);\r\n\r\n            implementor.PersistenceContext.RemoveEntry(entity);\r\n            implementor.PersistenceContext.RemoveEntity(entry.EntityKey);\r\n\r\n       \r\n            session.Lock(entity, LockMode.None);\r\n             // 防止(implementor.PersistenceContext.EntityEntries.Count == 0)\r\n\r\n            \r\n        }\r\n\r\n\r\n        public static void Mark&lt;TEntity&gt;(this ISession session, TEntity entity)\r\n        {\r\n\r\n            session.Lock(entity, LockMode.None);\r\n\r\n        }\r\n    }\r\n\r\n**here is update sql**\r\n\r\n\r\ncommand 0:UPDATE Customers SET Phone = @p0 WHERE CustomerID = @p1;@p0 = &#39;2014/12/26 0:12:56&#39; [Type: String (4000)], @p1 = 1 [Type: Int32 (0)]\r\n\r\n\r\n***Only update Phone column .***  \r\n\r\n***event Name property can not be null. we can work very well.***\r\n\r\n","title":"Hibernate update without select","body":"<p>I had worte a extension to solve this issue in <strong>Nhibernate</strong></p>\n\n<p><strong><em>how to use!</em></strong><br>\nfirst of all you need enable <strong><em>dynamic-update=\"true\"</em></strong></p>\n\n<pre><code>        using (ISession session = sessionFactory.OpenSession())\n        {\n            Customer c1 = new Customer();\n            c1.CustomerID = c.CustomerID;\n            session.Mark(c1);\n           // c1.Name = DateTime.Now.ToString();\n            c1.Phone = DateTime.Now.ToString();\n            //需要开启动态更新\n            session.UpdateDirty(c1);\n            session.Flush();\n        }\n</code></pre>\n\n<p><strong><em>UpdateExtension.cs</em></strong></p>\n\n<pre><code>    public static class UpdateExtension\n{\n    static readonly Object NOTNULL = new Object();\n\n    public static void UpdateDirty&lt;TEntity&gt;(this ISession session, TEntity entity)\n    {\n        SessionImpl implementor = session as SessionImpl;\n        EntityEntry entry = implementor.PersistenceContext.GetEntry(entity);\n\n        if (entry == null)\n        {\n            throw new InvalidOperationException(\"找不到对应的实例，请先使用Mask方法标记\");\n        }\n\n        IEntityPersister persister = entry.Persister;\n\n        // 如果某列不可以为空，新的Entity里也不想更新他。\n        // 那么LoadState 里的值应该和Entity 中的值相同\n\n        Object[] CurrentState = entry.Persister.GetPropertyValues(entity, EntityMode.Poco);\n        Object[] LoadedState = entry.LoadedState;\n\n        int[] dirtys = persister.FindDirty(CurrentState\n            , LoadedState\n            , entity\n            , (SessionImpl)session);\n\n        if (dirtys == null || dirtys.Length == 0)\n        {\n            return;\n        }\n\n        persister.Update(entry.Id\n            , CurrentState\n            , dirtys\n            , true\n            , LoadedState\n            , entry.Version\n            , entity\n            , entry.RowId\n            , (SessionImpl)session);\n\n        implementor.PersistenceContext.RemoveEntry(entity);\n        implementor.PersistenceContext.RemoveEntity(entry.EntityKey);\n\n\n        session.Lock(entity, LockMode.None);\n         // 防止(implementor.PersistenceContext.EntityEntries.Count == 0)\n\n\n    }\n\n\n    public static void Mark&lt;TEntity&gt;(this ISession session, TEntity entity)\n    {\n\n        session.Lock(entity, LockMode.None);\n\n    }\n}\n</code></pre>\n\n<p><strong>here is update sql</strong></p>\n\n<p>command 0:UPDATE Customers SET Phone = @p0 WHERE CustomerID = @p1;@p0 = '2014/12/26 0:12:56' [Type: String (4000)], @p1 = 1 [Type: Int32 (0)]</p>\n\n<p><strong><em>Only update Phone column .</em></strong>  </p>\n\n<p><strong><em>event Name property can not be null. we can work very well.</em></strong></p>\n"}],"owner":{"account_id":552512,"reputation":586,"user_id":917651,"accept_rate":57,"display_name":"AlessioG"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7432,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":19809457,"answer_count":3,"score":5,"last_activity_date":1692289861,"creation_date":1383732315,"question_id":19809111,"body_markdown":"I&#39;ve a question on hibernate operation: update. \r\n\r\nHere a bit of code:\r\n\r\n    Campaign campaign = campaignDAO.get(id);\r\n    campaign.setStatus(true);\r\n    campaignDAO.update(campaign);\r\n\r\nIf I just have all the data of the campaign object, is there any way to perform an update without performing the select (campaignDAO.get(id)) first?\r\n\r\nThanks,\r\n\r\nAlessio","title":"Hibernate update without select","body":"<p>I've a question on hibernate operation: update.</p>\n<p>Here a bit of code:</p>\n<pre><code>Campaign campaign = campaignDAO.get(id);\ncampaign.setStatus(true);\ncampaignDAO.update(campaign);\n</code></pre>\n<p>If I just have all the data of the campaign object, is there any way to perform an update without performing the select (campaignDAO.get(id)) first?</p>\n<p>Thanks,</p>\n<p>Alessio</p>\n"},{"tags":["java","buffer"],"comments":[{"owner":{"account_id":11188,"reputation":75684,"user_id":21441,"accept_rate":100,"display_name":"Mark Elliot"},"score":3,"creation_date":1314850412,"post_id":7266042,"comment_id":8745046,"body_markdown":"`LinkedList` seems like a reasonable choice for O(1) inserts and removes, do you need O(1) indexing, too?","body":"<code>LinkedList</code> seems like a reasonable choice for O(1) inserts and removes, do you need O(1) indexing, too?"},{"owner":{"account_id":111110,"reputation":40021,"user_id":293686,"accept_rate":89,"display_name":"Maur&#237;cio Linhares"},"score":5,"creation_date":1314850417,"post_id":7266042,"comment_id":8745048,"body_markdown":"Thread safe? Not thread safe? For removing from the end and adding in the beginning a LinkedList is usually the best option.","body":"Thread safe? Not thread safe? For removing from the end and adding in the beginning a LinkedList is usually the best option."},{"owner":{"account_id":335069,"reputation":70765,"user_id":661933,"accept_rate":94,"display_name":"nawfal"},"score":0,"creation_date":1402221379,"post_id":7266042,"comment_id":37183585,"body_markdown":"Also see [how-would-you-code-an-efficient-circular-buffer-in-java-or-c-sharp?](http://stackoverflow.com/questions/590069/how-would-you-code-an-efficient-circular-buffer-in-java-or-c-sharp?lq=1)","body":"Also see <a href=\"http://stackoverflow.com/questions/590069/how-would-you-code-an-efficient-circular-buffer-in-java-or-c-sharp?lq=1\">how-would-you-code-an-efficient-circular-buffer-in-java-or-c&zwnj;&#8203;-sharp?</a>"}],"answers":[{"comments":[{"owner":{"account_id":718909,"reputation":937,"user_id":643126,"display_name":"dkneller"},"score":18,"creation_date":1353118038,"post_id":7266048,"comment_id":18352001,"body_markdown":"This keeps all elements, not just the last 4","body":"This keeps all elements, not just the last 4"}],"tags":[],"owner":{"account_id":175043,"reputation":7315,"user_id":404760,"accept_rate":90,"display_name":"Shawn"},"comment_count":1,"down_vote_count":11,"up_vote_count":8,"is_accepted":false,"score":-3,"last_activity_date":1314851236,"creation_date":1314850392,"answer_id":7266048,"question_id":7266042,"body_markdown":"Use a [Queue][1]\r\n\r\n\r\n    Queue&lt;String&gt; qe=new LinkedList&lt;String&gt;();\r\n\r\n\tqe.add(&quot;a&quot;);\r\n\tqe.add(&quot;b&quot;);\r\n\tqe.add(&quot;c&quot;);\r\n\tqe.add(&quot;d&quot;);\r\n\t\t\r\n\tSystem.out.println(qe.poll()); //returns a\r\n\tSystem.out.println(qe.poll()); //returns b\r\n\tSystem.out.println(qe.poll()); //returns c\r\n\tSystem.out.println(qe.poll()); //returns d\r\n\r\nThere&#39;s five simple methods of a [Queue][1]\r\n\r\n - element()  --  Retrieves, but does not remove, the head of this\r\n   queue.\r\n\r\n \r\n\r\n - offer(E o) -- Inserts the specified element into this queue, if   \r\n   possible.\r\n - peek()     -- Retrieves, but does not remove, the head of    this\r\n   queue, returning null if this queue is empty.\r\n\r\n - poll()     --    Retrieves and removes the head of this queue, or\r\n   null if this queue is empty.\r\n - remove()   -- Retrieves and removes the head of this queue.\r\n\r\n  [1]: http://download.oracle.com/javase/1,5.0/docs/api/java/util/Queue.html","title":"Ring Buffer in Java","body":"<p>Use a <a href=\"http://download.oracle.com/javase/1,5.0/docs/api/java/util/Queue.html\" rel=\"nofollow\">Queue</a></p>\n\n<pre><code>Queue&lt;String&gt; qe=new LinkedList&lt;String&gt;();\n\nqe.add(\"a\");\nqe.add(\"b\");\nqe.add(\"c\");\nqe.add(\"d\");\n\nSystem.out.println(qe.poll()); //returns a\nSystem.out.println(qe.poll()); //returns b\nSystem.out.println(qe.poll()); //returns c\nSystem.out.println(qe.poll()); //returns d\n</code></pre>\n\n<p>There's five simple methods of a <a href=\"http://download.oracle.com/javase/1,5.0/docs/api/java/util/Queue.html\" rel=\"nofollow\">Queue</a></p>\n\n<ul>\n<li><p>element()  --  Retrieves, but does not remove, the head of this\nqueue.</p></li>\n<li><p>offer(E o) -- Inserts the specified element into this queue, if<br>\npossible.</p></li>\n<li><p>peek()     -- Retrieves, but does not remove, the head of    this\nqueue, returning null if this queue is empty.</p></li>\n<li><p>poll()     --    Retrieves and removes the head of this queue, or\nnull if this queue is empty.</p></li>\n<li>remove()   -- Retrieves and removes the head of this queue.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":108913,"reputation":18431,"user_id":288875,"accept_rate":50,"display_name":"Andre Holzner"},"score":3,"creation_date":1333529144,"post_id":7266175,"comment_id":12793807,"body_markdown":"there seems now to be a version derived from the original Commons Collections which makes use of generics: http://sourceforge.net/projects/collections/ (it looks like the project was moved to github)","body":"there seems now to be a version derived from the original Commons Collections which makes use of generics: <a href=\"http://sourceforge.net/projects/collections/\" rel=\"nofollow noreferrer\">sourceforge.net/projects/collections</a> (it looks like the project was moved to github)"},{"owner":{"account_id":44858,"reputation":11363,"user_id":131887,"accept_rate":92,"display_name":"Pete"},"score":5,"creation_date":1408723959,"post_id":7266175,"comment_id":39712201,"body_markdown":"Commons Collections 4.0 includes [CircularFifoQueue](http://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/queue/CircularFifoQueue.html) which has the same properties, and supports generics.","body":"Commons Collections 4.0 includes <a href=\"http://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/queue/CircularFifoQueue.html\" rel=\"nofollow noreferrer\">CircularFifoQueue</a> which has the same properties, and supports generics."},{"owner":{"account_id":1728581,"reputation":2763,"user_id":1582712,"accept_rate":51,"display_name":"E.S."},"score":0,"creation_date":1410988986,"post_id":7266175,"comment_id":40538550,"body_markdown":"I noticed the CircularFifoQueue doesn&#39;t work like this. When I put &quot;HELLO&quot; into a 3 unit sized Queue, I go from &quot;HEL&quot; to &quot;LEL&quot; to &quot;LOL&quot;. What happened to the feature described by @AndryTaptunov?","body":"I noticed the CircularFifoQueue doesn&#39;t work like this. When I put &quot;HELLO&quot; into a 3 unit sized Queue, I go from &quot;HEL&quot; to &quot;LEL&quot; to &quot;LOL&quot;. What happened to the feature described by @AndryTaptunov?"},{"owner":{"account_id":116752,"reputation":4310,"user_id":306036,"accept_rate":85,"display_name":"Ryan Leach"},"score":0,"creation_date":1429671856,"post_id":7266175,"comment_id":47703588,"body_markdown":"That is the feature suggested by Andy. &quot;heLlo&quot; goes &quot;heL&quot; -&gt; &quot;leL&quot; -&gt; &quot;loL&quot; overwriting the oldest letter first.","body":"That is the feature suggested by Andy. &quot;heLlo&quot; goes &quot;heL&quot; -&gt; &quot;leL&quot; -&gt; &quot;loL&quot; overwriting the oldest letter first."},{"owner":{"account_id":2288975,"reputation":1804,"user_id":2012372,"display_name":"fspinnenhirn"},"score":0,"creation_date":1443226790,"post_id":7266175,"comment_id":53423397,"body_markdown":"Regardless of how one iterates through the [CircularFifoQueue](https://commons.apache.org/proper/commons-collections/javadocs/api-release/index.html) (by removing elements, using the queue&#39;s Iterator, directly indexing ascendingly from pos 0, etc.), you get the expected `heL`, `eLl`, `Llo`. So @RyanTheLeach seems to be illustrating how the queue is storing its elements, but I can&#39;t reproduce the behavior @E.S. described","body":"Regardless of how one iterates through the <a href=\"https://commons.apache.org/proper/commons-collections/javadocs/api-release/index.html\" rel=\"nofollow noreferrer\">CircularFifoQueue</a> (by removing elements, using the queue&#39;s Iterator, directly indexing ascendingly from pos 0, etc.), you get the expected <code>heL</code>, <code>eLl</code>, <code>Llo</code>. So @RyanTheLeach seems to be illustrating how the queue is storing its elements, but I can&#39;t reproduce the behavior @E.S. described"}],"tags":[],"owner":{"account_id":59506,"reputation":9417,"user_id":178042,"accept_rate":62,"display_name":"Andrey Taptunov"},"comment_count":5,"down_vote_count":0,"up_vote_count":102,"is_accepted":false,"score":102,"last_activity_date":1552212976,"creation_date":1314851886,"answer_id":7266175,"question_id":7266042,"body_markdown":" Consider [CircularFifoBuffer][1] from Apache [Common.Collections][2]. Unlike [Queue][3] you don&#39;t have to maintain the limited size of underlying collection and wrap it once you hit the limit.\r\n\r\n    Buffer buf = new CircularFifoBuffer(4);\r\n    buf.add(&quot;A&quot;);\r\n    buf.add(&quot;B&quot;);\r\n    buf.add(&quot;C&quot;);\r\n    buf.add(&quot;D&quot;); //ABCD\r\n    buf.add(&quot;E&quot;); //BCDE\r\n\r\n CircularFifoBuffer will do this for you because of the following properties:\r\n\r\n - CircularFifoBuffer is a *first in first out buffer with a fixed\r\n   size* that replaces its oldest element if full.\r\n - The removal order of a CircularFifoBuffer is based on the insertion\r\n   order; elements are removed in the same order in which they were\r\n   added. The iteration order is the same as the removal order.\r\n - The add(Object), BoundedFifoBuffer.remove() and\r\n   BoundedFifoBuffer.get() operations *all perform in constant time*.\r\n   All other operations perform in linear time or worse.\r\n\r\nHowever you should consider it&#39;s limitations as well - for example, you can&#39;t add missing timeseries to this collection because it doens&#39;t allow nulls.\r\n\r\nNOTE: When using current [Common Collections][4] (4.*), you have to use Queue. Like this:\r\n\r\n    Queue buf = new CircularFifoQueue(4);\r\n\r\n  [1]: https://commons.apache.org/proper/commons-collections/javadocs/api-3.2.2/org/apache/commons/collections/buffer/CircularFifoBuffer.html\r\n  [2]: http://commons.apache.org/collections/\r\n  [3]: http://download.oracle.com/javase/1,5.0/docs/api/java/util/Queue.html\r\n  [4]: https://commons.apache.org/proper/commons-collections/release_4_0.html","title":"Ring Buffer in Java","body":"<p>Consider <a href=\"https://commons.apache.org/proper/commons-collections/javadocs/api-3.2.2/org/apache/commons/collections/buffer/CircularFifoBuffer.html\" rel=\"noreferrer\">CircularFifoBuffer</a> from Apache <a href=\"http://commons.apache.org/collections/\" rel=\"noreferrer\">Common.Collections</a>. Unlike <a href=\"http://download.oracle.com/javase/1,5.0/docs/api/java/util/Queue.html\" rel=\"noreferrer\">Queue</a> you don't have to maintain the limited size of underlying collection and wrap it once you hit the limit.</p>\n\n<pre><code>Buffer buf = new CircularFifoBuffer(4);\nbuf.add(\"A\");\nbuf.add(\"B\");\nbuf.add(\"C\");\nbuf.add(\"D\"); //ABCD\nbuf.add(\"E\"); //BCDE\n</code></pre>\n\n<p>CircularFifoBuffer will do this for you because of the following properties:</p>\n\n<ul>\n<li>CircularFifoBuffer is a <em>first in first out buffer with a fixed\nsize</em> that replaces its oldest element if full.</li>\n<li>The removal order of a CircularFifoBuffer is based on the insertion\norder; elements are removed in the same order in which they were\nadded. The iteration order is the same as the removal order.</li>\n<li>The add(Object), BoundedFifoBuffer.remove() and\nBoundedFifoBuffer.get() operations <em>all perform in constant time</em>.\nAll other operations perform in linear time or worse.</li>\n</ul>\n\n<p>However you should consider it's limitations as well - for example, you can't add missing timeseries to this collection because it doens't allow nulls.</p>\n\n<p>NOTE: When using current <a href=\"https://commons.apache.org/proper/commons-collections/release_4_0.html\" rel=\"noreferrer\">Common Collections</a> (4.*), you have to use Queue. Like this:</p>\n\n<pre><code>Queue buf = new CircularFifoQueue(4);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":402736,"reputation":6281,"user_id":770068,"display_name":"Lorne Laliberte"},"score":3,"creation_date":1332298095,"post_id":9437235,"comment_id":12476648,"body_markdown":"This might be the source you&#39;re referring to: http://www.museful.net/2011/software-development/circulararraylist-for-java","body":"This might be the source you&#39;re referring to: <a href=\"http://www.museful.net/2011/software-development/circulararraylist-for-java\" rel=\"nofollow noreferrer\">museful.net/2011/software-development/&hellip;</a>"},{"owner":{"account_id":1906078,"reputation":196,"user_id":1720931,"display_name":"Mauro Zallocco"},"score":1,"creation_date":1395933087,"post_id":9437235,"comment_id":34572028,"body_markdown":"I tried this code.  \nCircularArrayList&lt;String&gt; buf = new CircularArrayList&lt;String&gt;(4);  \nbuf.insert(&quot;A&quot;);  \nbuf.insert(&quot;B&quot;);  \nSystem.out.println(buf); //[null, null]  \nbuf.insert(&quot;C&quot;);  \nbuf.insert(&quot;D&quot;);  \nSystem.out.println(buf); //[null, A, B, C]  \nString res = buf.get(0); //null  \nThe code at  \nhttp://www.museful.net/2011/software-development/circulararraylist-for-java  \nworks better for me.","body":"I tried this code.   CircularArrayList&lt;String&gt; buf = new CircularArrayList&lt;String&gt;(4);   buf.insert(&quot;A&quot;);   buf.insert(&quot;B&quot;);   System.out.println(buf); //[null, null]   buf.insert(&quot;C&quot;);   buf.insert(&quot;D&quot;);   System.out.println(buf); //[null, A, B, C]   String res = buf.get(0); //null   The code at   <a href=\"http://www.museful.net/2011/software-development/circulararraylist-for-java\" rel=\"nofollow noreferrer\">museful.net/2011/software-development/&hellip;</a>   works better for me."},{"owner":{"account_id":1420343,"reputation":712,"user_id":1345099,"display_name":"vlain"},"score":0,"creation_date":1423051922,"post_id":9437235,"comment_id":44990280,"body_markdown":"The associated iterator is broken","body":"The associated iterator is broken"}],"tags":[],"owner":{"account_id":220394,"reputation":61,"user_id":477782,"display_name":"vgfeit"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1336655973,"creation_date":1330113691,"answer_id":9437235,"question_id":7266042,"body_markdown":"I had the same problem some time ago and was disappointed because I couldn&#39;t find any solution that suites my needs so I wrote my own class. \r\nHonestly, I did found some code back then, but even that wasn&#39;t what I was searching for so I adapted it and now I&#39;m sharing it, just like the author of that piece of code did. \r\n\r\nEDIT: This is the original (although slightly different) code: [CircularArrayList for java][1]\r\n\r\nI don&#39;t have the link of the source because it was time ago, but here&#39;s the code:\r\n\r\n    \r\n    import java.util.AbstractList;\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    import java.util.RandomAccess;\r\n\r\n    public class CircularArrayList&lt;E&gt; extends AbstractList&lt;E&gt; implements RandomAccess {\r\n \r\n    private final int n; // buffer length\r\n    private final List&lt;E&gt; buf; // a List implementing RandomAccess\r\n    private int leader = 0;\r\n    private int size = 0;\r\n    \r\n \r\n    public CircularArrayList(int capacity) {\r\n        n = capacity + 1;\r\n        buf = new ArrayList&lt;E&gt;(Collections.nCopies(n, (E) null));\r\n    }\r\n \r\n    public int capacity() {\r\n        return n - 1;\r\n    }\r\n \r\n    private int wrapIndex(int i) {\r\n        int m = i % n;\r\n        if (m &lt; 0) { // modulus can be negative\r\n            m += n;\r\n        }\r\n        return m;\r\n    }\r\n \r\n    @Override\r\n    public int size() {\r\n        return this.size;\r\n    }\r\n \r\n    @Override\r\n    public E get(int i) {\r\n        if (i &lt; 0 || i &gt;= n-1) throw new IndexOutOfBoundsException();\r\n        \r\n        if(i &gt; size()) throw new NullPointerException(&quot;Index is greater than size.&quot;);\r\n        \r\n        return buf.get(wrapIndex(leader + i));\r\n    }\r\n \r\n    @Override\r\n    public E set(int i, E e) {\r\n        if (i &lt; 0 || i &gt;= n-1) {\r\n            throw new IndexOutOfBoundsException();\r\n        }\r\n        if(i == size()) // assume leader&#39;s position as invalid (should use insert(e))\r\n        \tthrow new IndexOutOfBoundsException(&quot;The size of the list is &quot; + size() + &quot; while the index was &quot; + i\r\n        \t\t\t+&quot;. Please use insert(e) method to fill the list.&quot;);\r\n        return buf.set(wrapIndex(leader - size + i), e);\r\n    }\r\n    \r\n    public void insert(E e)\r\n    {\r\n    \tint s = size();    \t\r\n    \tbuf.set(wrapIndex(leader), e);\r\n    \tleader = wrapIndex(++leader);\r\n    \tbuf.set(leader, null);\r\n    \tif(s == n-1)\r\n    \t\treturn; // we have replaced the eldest element.\r\n    \tthis.size++;\r\n    \t\r\n    }\r\n    \r\n    @Override\r\n    public void clear()\r\n    {\r\n    \tint cnt = wrapIndex(leader-size());\r\n    \tfor(; cnt != leader; cnt = wrapIndex(++cnt))\r\n    \t\tthis.buf.set(cnt, null);\r\n    \tthis.size = 0;    \t\r\n    }\r\n \r\n    public E removeOldest() {\r\n    \tint i = wrapIndex(leader+1);\r\n    \t\r\n        for(;;i = wrapIndex(++i)) {\r\n        \tif(buf.get(i) != null) break;\r\n        \tif(i == leader)\r\n            \tthrow new IllegalStateException(&quot;Cannot remove element.&quot;\r\n                        + &quot; CircularArrayList is empty.&quot;);\r\n        }\r\n        \r\n        this.size--;\r\n        return buf.set(i, null);\r\n    }\r\n    \r\n    @Override\r\n    public String toString()\r\n    {\r\n    \tint i = wrapIndex(leader - size());\r\n    \tStringBuilder str = new StringBuilder(size());\r\n    \t\r\n    \tfor(; i != leader; i = wrapIndex(++i)){\r\n    \t\tstr.append(buf.get(i));\r\n    \t}\r\n    \treturn str.toString();\r\n    }\r\n    \r\n    public E getOldest(){\r\n    \tint i = wrapIndex(leader+1);\r\n    \t\r\n        for(;;i = wrapIndex(++i)) {\r\n        \tif(buf.get(i) != null) break;\r\n        \tif(i == leader)\r\n            \tthrow new IllegalStateException(&quot;Cannot remove element.&quot;\r\n                        + &quot; CircularArrayList is empty.&quot;);\r\n        }\r\n        \r\n        return buf.get(i);\r\n    }\r\n    \r\n    public E getNewest(){\r\n    \tint i = wrapIndex(leader-1);\r\n    \tif(buf.get(i) == null)\r\n    \t\tthrow new IndexOutOfBoundsException(&quot;Error while retrieving the newest element. The Circular Array list is empty.&quot;);\r\n    \treturn buf.get(i);\r\n    }\r\n    }\r\n\r\n\r\n  [1]: http://www.museful.net/2011/software-development/circulararraylist-for-java","title":"Ring Buffer in Java","body":"<p>I had the same problem some time ago and was disappointed because I couldn't find any solution that suites my needs so I wrote my own class. \nHonestly, I did found some code back then, but even that wasn't what I was searching for so I adapted it and now I'm sharing it, just like the author of that piece of code did. </p>\n\n<p>EDIT: This is the original (although slightly different) code: <a href=\"http://www.museful.net/2011/software-development/circulararraylist-for-java\" rel=\"nofollow\">CircularArrayList for java</a></p>\n\n<p>I don't have the link of the source because it was time ago, but here's the code:</p>\n\n<pre><code>import java.util.AbstractList;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.RandomAccess;\n\npublic class CircularArrayList&lt;E&gt; extends AbstractList&lt;E&gt; implements RandomAccess {\n\nprivate final int n; // buffer length\nprivate final List&lt;E&gt; buf; // a List implementing RandomAccess\nprivate int leader = 0;\nprivate int size = 0;\n\n\npublic CircularArrayList(int capacity) {\n    n = capacity + 1;\n    buf = new ArrayList&lt;E&gt;(Collections.nCopies(n, (E) null));\n}\n\npublic int capacity() {\n    return n - 1;\n}\n\nprivate int wrapIndex(int i) {\n    int m = i % n;\n    if (m &lt; 0) { // modulus can be negative\n        m += n;\n    }\n    return m;\n}\n\n@Override\npublic int size() {\n    return this.size;\n}\n\n@Override\npublic E get(int i) {\n    if (i &lt; 0 || i &gt;= n-1) throw new IndexOutOfBoundsException();\n\n    if(i &gt; size()) throw new NullPointerException(\"Index is greater than size.\");\n\n    return buf.get(wrapIndex(leader + i));\n}\n\n@Override\npublic E set(int i, E e) {\n    if (i &lt; 0 || i &gt;= n-1) {\n        throw new IndexOutOfBoundsException();\n    }\n    if(i == size()) // assume leader's position as invalid (should use insert(e))\n        throw new IndexOutOfBoundsException(\"The size of the list is \" + size() + \" while the index was \" + i\n                +\". Please use insert(e) method to fill the list.\");\n    return buf.set(wrapIndex(leader - size + i), e);\n}\n\npublic void insert(E e)\n{\n    int s = size();     \n    buf.set(wrapIndex(leader), e);\n    leader = wrapIndex(++leader);\n    buf.set(leader, null);\n    if(s == n-1)\n        return; // we have replaced the eldest element.\n    this.size++;\n\n}\n\n@Override\npublic void clear()\n{\n    int cnt = wrapIndex(leader-size());\n    for(; cnt != leader; cnt = wrapIndex(++cnt))\n        this.buf.set(cnt, null);\n    this.size = 0;      \n}\n\npublic E removeOldest() {\n    int i = wrapIndex(leader+1);\n\n    for(;;i = wrapIndex(++i)) {\n        if(buf.get(i) != null) break;\n        if(i == leader)\n            throw new IllegalStateException(\"Cannot remove element.\"\n                    + \" CircularArrayList is empty.\");\n    }\n\n    this.size--;\n    return buf.set(i, null);\n}\n\n@Override\npublic String toString()\n{\n    int i = wrapIndex(leader - size());\n    StringBuilder str = new StringBuilder(size());\n\n    for(; i != leader; i = wrapIndex(++i)){\n        str.append(buf.get(i));\n    }\n    return str.toString();\n}\n\npublic E getOldest(){\n    int i = wrapIndex(leader+1);\n\n    for(;;i = wrapIndex(++i)) {\n        if(buf.get(i) != null) break;\n        if(i == leader)\n            throw new IllegalStateException(\"Cannot remove element.\"\n                    + \" CircularArrayList is empty.\");\n    }\n\n    return buf.get(i);\n}\n\npublic E getNewest(){\n    int i = wrapIndex(leader-1);\n    if(buf.get(i) == null)\n        throw new IndexOutOfBoundsException(\"Error while retrieving the newest element. The Circular Array list is empty.\");\n    return buf.get(i);\n}\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":37018,"reputation":13267,"user_id":105741,"display_name":"Antony Stubbs"},"score":0,"creation_date":1647446643,"post_id":10665082,"comment_id":126374713,"body_markdown":"link is dead - domain is dead","body":"link is dead - domain is dead"},{"owner":{"account_id":438783,"reputation":6771,"user_id":827280,"accept_rate":93,"display_name":"Museful"},"score":1,"creation_date":1647616488,"post_id":10665082,"comment_id":126422718,"body_markdown":"@AntonyStubbs Thanks for alerting me. It was temporarily down after a nameserver migration.","body":"@AntonyStubbs Thanks for alerting me. It was temporarily down after a nameserver migration."}],"tags":[],"owner":{"account_id":438783,"reputation":6771,"user_id":827280,"accept_rate":93,"display_name":"Museful"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1394122236,"creation_date":1337429762,"answer_id":10665082,"question_id":7266042,"body_markdown":"If you need\r\n\r\n* O(1) insertion and removal\r\n* O(1) indexing to interior elements\r\n* access from a single thread only\r\n* generic element type\r\n\r\nthen you can use [this CircularArrayList for Java][1] in this way (for example):\r\n\r\n    CircularArrayList&lt;String&gt; buf = new CircularArrayList&lt;String&gt;(4);\r\n    \r\n    buf.add(&quot;A&quot;);\r\n    buf.add(&quot;B&quot;);\r\n    buf.add(&quot;C&quot;);\r\n    buf.add(&quot;D&quot;); // ABCD\r\n    \r\n    String pop = buf.remove(0); // A &lt;- BCD\r\n    buf.add(&quot;E&quot;); // BCDE\r\n    \r\n    String interiorElement = buf.get(i);\r\nAll these methods run in O(1).\r\n\r\n  [1]: http://www.museful.net/2011/software-development/circulararraylist-for-java","title":"Ring Buffer in Java","body":"<p>If you need</p>\n\n<ul>\n<li>O(1) insertion and removal</li>\n<li>O(1) indexing to interior elements</li>\n<li>access from a single thread only</li>\n<li>generic element type</li>\n</ul>\n\n<p>then you can use <a href=\"http://www.museful.net/2011/software-development/circulararraylist-for-java\" rel=\"noreferrer\">this CircularArrayList for Java</a> in this way (for example):</p>\n\n<pre><code>CircularArrayList&lt;String&gt; buf = new CircularArrayList&lt;String&gt;(4);\n\nbuf.add(\"A\");\nbuf.add(\"B\");\nbuf.add(\"C\");\nbuf.add(\"D\"); // ABCD\n\nString pop = buf.remove(0); // A &lt;- BCD\nbuf.add(\"E\"); // BCDE\n\nString interiorElement = buf.get(i);\n</code></pre>\n\n<p>All these methods run in O(1).</p>\n"},{"comments":[{"owner":{"account_id":271547,"reputation":5692,"user_id":562139,"accept_rate":75,"display_name":"scorpiodawg"},"score":18,"creation_date":1516651730,"post_id":11842123,"comment_id":83766606,"body_markdown":"This grows unbounded and doesn&#39;t behave like a ring buffer.","body":"This grows unbounded and doesn&#39;t behave like a ring buffer."}],"tags":[],"owner":{"account_id":1726920,"reputation":185,"user_id":1581374,"display_name":"T. Baum"},"comment_count":1,"down_vote_count":8,"up_vote_count":20,"is_accepted":false,"score":12,"last_activity_date":1359676830,"creation_date":1344328676,"answer_id":11842123,"question_id":7266042,"body_markdown":"Since Java 1.6, there is `ArrayDeque`, which implements `Queue` and seems to be faster and more memory efficient than a `LinkedList` and doesn&#39;t have the thread synchronization overhead of the `ArrayBlockingQueue`: from the API docs: *&quot;This class is likely to be faster than Stack when used as a stack, and faster than LinkedList when used as a queue.&quot;*\r\n\r\n    final Queue&lt;Object&gt; q = new ArrayDeque&lt;Object&gt;();\r\n    q.add(new Object()); //insert element\r\n    q.poll(); //remove element\r\n","title":"Ring Buffer in Java","body":"<p>Since Java 1.6, there is <code>ArrayDeque</code>, which implements <code>Queue</code> and seems to be faster and more memory efficient than a <code>LinkedList</code> and doesn't have the thread synchronization overhead of the <code>ArrayBlockingQueue</code>: from the API docs: <em>\"This class is likely to be faster than Stack when used as a stack, and faster than LinkedList when used as a queue.\"</em></p>\n\n<pre><code>final Queue&lt;Object&gt; q = new ArrayDeque&lt;Object&gt;();\nq.add(new Object()); //insert element\nq.poll(); //remove element\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3117544,"reputation":3260,"user_id":2637998,"accept_rate":45,"display_name":"sumit"},"score":1,"creation_date":1562080491,"post_id":20547713,"comment_id":100261134,"body_markdown":"@MartinVseticka Yes, its O(1).","body":"@MartinVseticka Yes, its O(1)."}],"tags":[],"owner":{"account_id":98634,"reputation":5066,"user_id":266875,"display_name":"Thomas Ferris Nicolaisen"},"comment_count":1,"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1470849378,"creation_date":1386862718,"answer_id":20547713,"question_id":7266042,"body_markdown":"Since Guava 15.0 (released September 2013) there&#39;s [EvictingQueue][1]:\r\n\r\n&gt; A non-blocking queue which automatically evicts elements from the head\r\n&gt; of the queue when attempting to add new elements onto the queue and it\r\n&gt; is full. An evicting queue must be configured with a maximum size.\r\n&gt; Each time an element is added to a full queue, the queue automatically\r\n&gt; removes its head element. This is different from conventional bounded\r\n&gt; queues, which either block or reject new elements when full.\r\n&gt; \r\n&gt; This class is not thread-safe, and does not accept null elements.\r\n\r\nExample use:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n        \r\n    EvictingQueue&lt;String&gt; queue = EvictingQueue.create(2);\r\n    queue.add(&quot;a&quot;);\r\n    queue.add(&quot;b&quot;);\r\n    queue.add(&quot;c&quot;);\r\n    queue.add(&quot;d&quot;);\r\n    System.out.print(queue); //outputs [c, d]\r\n\r\n\r\n  [1]: http://google.github.io/guava/releases/15.0/api/docs/com/google/common/collect/EvictingQueue.html","title":"Ring Buffer in Java","body":"<p>Since Guava 15.0 (released September 2013) there's <a href=\"http://google.github.io/guava/releases/15.0/api/docs/com/google/common/collect/EvictingQueue.html\">EvictingQueue</a>:</p>\n\n<blockquote>\n  <p>A non-blocking queue which automatically evicts elements from the head\n  of the queue when attempting to add new elements onto the queue and it\n  is full. An evicting queue must be configured with a maximum size.\n  Each time an element is added to a full queue, the queue automatically\n  removes its head element. This is different from conventional bounded\n  queues, which either block or reject new elements when full.</p>\n  \n  <p>This class is not thread-safe, and does not accept null elements.</p>\n</blockquote>\n\n<p>Example use:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>EvictingQueue&lt;String&gt; queue = EvictingQueue.create(2);\nqueue.add(\"a\");\nqueue.add(\"b\");\nqueue.add(\"c\");\nqueue.add(\"d\");\nSystem.out.print(queue); //outputs [c, d]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4158942,"reputation":1091,"user_id":3409441,"accept_rate":100,"display_name":"Terran"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1548464247,"creation_date":1483470516,"answer_id":41450671,"question_id":7266042,"body_markdown":"None of the previously given examples were meeting my needs completely, so I wrote my own queue that allows following functionality: iteration, index access, indexOf, lastIndexOf, get first, get last, offer, remaining capacity, expand capacity, dequeue last, dequeue first, enqueue / add element, dequeue / remove element, subQueueCopy, subArrayCopy, toArray, snapshot, basics like size, remove or contains.\r\n\r\n[EjectingQueue][1]\r\n\r\n[EjectingIntQueue][2]\r\n\r\n\r\n  [1]: https://gist.github.com/shathor/007a66c731592012bd9a\r\n  [2]: https://gist.github.com/shathor/44de9daa5807aa05dfc1","title":"Ring Buffer in Java","body":"<p>None of the previously given examples were meeting my needs completely, so I wrote my own queue that allows following functionality: iteration, index access, indexOf, lastIndexOf, get first, get last, offer, remaining capacity, expand capacity, dequeue last, dequeue first, enqueue / add element, dequeue / remove element, subQueueCopy, subArrayCopy, toArray, snapshot, basics like size, remove or contains.</p>\n\n<p><a href=\"https://gist.github.com/shathor/007a66c731592012bd9a\" rel=\"nofollow noreferrer\">EjectingQueue</a></p>\n\n<p><a href=\"https://gist.github.com/shathor/44de9daa5807aa05dfc1\" rel=\"nofollow noreferrer\">EjectingIntQueue</a></p>\n"},{"comments":[{"owner":{"account_id":476761,"reputation":24593,"user_id":887836,"accept_rate":96,"display_name":"Alexander Oh"},"score":0,"creation_date":1549474519,"post_id":44005900,"comment_id":95918302,"body_markdown":"LIFO ring buffers may be helpful in overflow situations. imagine you provide timestamped data and you care more about recent timestamps than old ones. instead of dropping the newest elements in a queue impelmentation you drop the oldest from a stack. this is specially true for automation that does mitigation.","body":"LIFO ring buffers may be helpful in overflow situations. imagine you provide timestamped data and you care more about recent timestamps than old ones. instead of dropping the newest elements in a queue impelmentation you drop the oldest from a stack. this is specially true for automation that does mitigation."},{"owner":{"account_id":1592810,"reputation":1015,"user_id":1475762,"accept_rate":71,"display_name":"MattWallace"},"score":0,"creation_date":1557757598,"post_id":44005900,"comment_id":98862371,"body_markdown":"The iterator code for this is wrong.  It will return items in the wrong order, since it doesn&#39;t do the wrapping around correctly.","body":"The iterator code for this is wrong.  It will return items in the wrong order, since it doesn&#39;t do the wrapping around correctly."}],"tags":[],"owner":{"account_id":476761,"reputation":24593,"user_id":887836,"accept_rate":96,"display_name":"Alexander Oh"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1530731184,"creation_date":1494949242,"answer_id":44005900,"question_id":7266042,"body_markdown":"A very interesting project is disruptor. It has a ringbuffer and is used from what I know in financial applications.\r\n\r\nSee here: [code of ringbuffer][1]\r\n\r\nI checked both Guava&#39;s EvictingQueue and ArrayDeque.\r\n\r\nArrayDeque does not limit growth if it&#39;s full it will double size and hence is not precisely acting like a ringbuffer.\r\n\r\nEvictingQueue does what it promises but internally uses a Deque to store things and just bounds memory. \r\n\r\nHence, if you care about memory being bounded ArrayDeque is not fullfilling your promise. If you care about object count EvictingQueue uses internal composition (bigger object size).\r\n\r\nA simple and memory efficient one can be stolen from [jmonkeyengine][2].\r\nverbatim copy\r\n\r\n\r\n    import java.util.Iterator;\r\n    import java.util.NoSuchElementException;\r\n\r\n    public class RingBuffer&lt;T&gt; implements Iterable&lt;T&gt; {\r\n\r\n      private T[] buffer;          // queue elements\r\n      private int count = 0;          // number of elements on queue\r\n      private int indexOut = 0;       // index of first element of queue\r\n      private int indexIn = 0;       // index of next available slot\r\n\r\n      // cast needed since no generic array creation in Java\r\n      public RingBuffer(int capacity) {\r\n        buffer = (T[]) new Object[capacity];\r\n      }\r\n\r\n      public boolean isEmpty() {\r\n        return count == 0;\r\n      }\r\n\r\n      public int size() {\r\n        return count;\r\n      }\r\n\r\n      public void push(T item) {\r\n        if (count == buffer.length) {\r\n            throw new RuntimeException(&quot;Ring buffer overflow&quot;);\r\n        }\r\n        buffer[indexIn] = item;\r\n        indexIn = (indexIn + 1) % buffer.length;     // wrap-around\r\n        count++;\r\n      }\r\n\r\n      public T pop() {\r\n        if (isEmpty()) {\r\n            throw new RuntimeException(&quot;Ring buffer underflow&quot;);\r\n        }\r\n        T item = buffer[indexOut];\r\n        buffer[indexOut] = null;                  // to help with garbage collection\r\n        count--;\r\n        indexOut = (indexOut + 1) % buffer.length; // wrap-around\r\n        return item;\r\n      }\r\n\r\n      public Iterator&lt;T&gt; iterator() {\r\n        return new RingBufferIterator();\r\n      }\r\n\r\n      // an iterator, doesn&#39;t implement remove() since it&#39;s optional\r\n      private class RingBufferIterator implements Iterator&lt;T&gt; {\r\n\r\n        private int i = 0;\r\n\r\n        public boolean hasNext() {\r\n            return i &lt; count;\r\n        }\r\n\r\n        public void remove() {\r\n            throw new UnsupportedOperationException();\r\n        }\r\n\r\n        public T next() {\r\n            if (!hasNext()) {\r\n                throw new NoSuchElementException();\r\n            }\r\n            return buffer[i++];\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n\r\n\r\n[1]: https://github.com/LMAX-Exchange/disruptor/blob/master/src/main/java/com/lmax/disruptor/RingBuffer.java\r\n[2]: https://github.com/jMonkeyEngine/jmonkeyengine/blob/master/jme3-ios/src/main/java/com/jme3/util/RingBuffer.java","title":"Ring Buffer in Java","body":"<p>A very interesting project is disruptor. It has a ringbuffer and is used from what I know in financial applications.</p>\n\n<p>See here: <a href=\"https://github.com/LMAX-Exchange/disruptor/blob/master/src/main/java/com/lmax/disruptor/RingBuffer.java\" rel=\"nofollow noreferrer\">code of ringbuffer</a></p>\n\n<p>I checked both Guava's EvictingQueue and ArrayDeque.</p>\n\n<p>ArrayDeque does not limit growth if it's full it will double size and hence is not precisely acting like a ringbuffer.</p>\n\n<p>EvictingQueue does what it promises but internally uses a Deque to store things and just bounds memory. </p>\n\n<p>Hence, if you care about memory being bounded ArrayDeque is not fullfilling your promise. If you care about object count EvictingQueue uses internal composition (bigger object size).</p>\n\n<p>A simple and memory efficient one can be stolen from <a href=\"https://github.com/jMonkeyEngine/jmonkeyengine/blob/master/jme3-ios/src/main/java/com/jme3/util/RingBuffer.java\" rel=\"nofollow noreferrer\">jmonkeyengine</a>.\nverbatim copy</p>\n\n<pre><code>import java.util.Iterator;\nimport java.util.NoSuchElementException;\n\npublic class RingBuffer&lt;T&gt; implements Iterable&lt;T&gt; {\n\n  private T[] buffer;          // queue elements\n  private int count = 0;          // number of elements on queue\n  private int indexOut = 0;       // index of first element of queue\n  private int indexIn = 0;       // index of next available slot\n\n  // cast needed since no generic array creation in Java\n  public RingBuffer(int capacity) {\n    buffer = (T[]) new Object[capacity];\n  }\n\n  public boolean isEmpty() {\n    return count == 0;\n  }\n\n  public int size() {\n    return count;\n  }\n\n  public void push(T item) {\n    if (count == buffer.length) {\n        throw new RuntimeException(\"Ring buffer overflow\");\n    }\n    buffer[indexIn] = item;\n    indexIn = (indexIn + 1) % buffer.length;     // wrap-around\n    count++;\n  }\n\n  public T pop() {\n    if (isEmpty()) {\n        throw new RuntimeException(\"Ring buffer underflow\");\n    }\n    T item = buffer[indexOut];\n    buffer[indexOut] = null;                  // to help with garbage collection\n    count--;\n    indexOut = (indexOut + 1) % buffer.length; // wrap-around\n    return item;\n  }\n\n  public Iterator&lt;T&gt; iterator() {\n    return new RingBufferIterator();\n  }\n\n  // an iterator, doesn't implement remove() since it's optional\n  private class RingBufferIterator implements Iterator&lt;T&gt; {\n\n    private int i = 0;\n\n    public boolean hasNext() {\n        return i &lt; count;\n    }\n\n    public void remove() {\n        throw new UnsupportedOperationException();\n    }\n\n    public T next() {\n        if (!hasNext()) {\n            throw new NoSuchElementException();\n        }\n        return buffer[i++];\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4652024,"reputation":355,"user_id":3768649,"display_name":"w_n"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692289844,"creation_date":1692125635,"answer_id":76908466,"question_id":7266042,"body_markdown":"If you don&#39;t want to import some library just for that, you can use a Deque as a queue and wrap the RingBuffer logic around it:\r\n ````\r\nimport java.util.ArrayDeque;\r\nimport java.util.Deque;\r\n\r\npublic class RingBuffer&lt;E&gt; {\r\n    private final Deque&lt;E&gt; queue;\r\n    private final int size;\r\n\r\n    public RingBuffer(final int size) {\r\n        queue = new ArrayDeque&lt;&gt;(size);\r\n        this.size = size;\r\n    }\r\n\r\n    public void add(final E e) {\r\n        if (queue.size() == size) {\r\n            queue.poll();\r\n        }\r\n        queue.add(e);\r\n    }\r\n\r\n    public E poll() {\r\n        return queue.poll();\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return queue.toString();\r\n    }\r\n}\r\n ````\r\n","title":"Ring Buffer in Java","body":"<p>If you don't want to import some library just for that, you can use a Deque as a queue and wrap the RingBuffer logic around it:</p>\n<pre><code>import java.util.ArrayDeque;\nimport java.util.Deque;\n\npublic class RingBuffer&lt;E&gt; {\n   private final Deque&lt;E&gt; queue;\n   private final int size;\n\n   public RingBuffer(final int size) {\n       queue = new ArrayDeque&lt;&gt;(size);\n       this.size = size;\n   }\n\n   public void add(final E e) {\n       if (queue.size() == size) {\n           queue.poll();\n       }\n       queue.add(e);\n   }\n\n   public E poll() {\n       return queue.poll();\n   }\n\n   @Override\n   public String toString() {\n       return queue.toString();\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":792584,"reputation":921,"user_id":903915,"display_name":"Truba"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137634,"favorite_count":0,"down_vote_count":0,"up_vote_count":92,"answer_count":9,"score":92,"last_activity_date":1692289844,"creation_date":1314850252,"question_id":7266042,"body_markdown":"I have a streaming time series, of which I am interested in keeping the last 4 elements, which means I want to be able to pop the first, and add to the end. Essentially what I need is a [**ring buffer**][1].\r\n\r\nWhich Java Collection is the best for this? Vector?\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Circular_buffer","title":"Ring Buffer in Java","body":"<p>I have a streaming time series, of which I am interested in keeping the last 4 elements, which means I want to be able to pop the first, and add to the end. Essentially what I need is a <a href=\"https://en.wikipedia.org/wiki/Circular_buffer\" rel=\"noreferrer\"><strong>ring buffer</strong></a>.</p>\n\n<p>Which Java Collection is the best for this? Vector?</p>\n"},{"tags":["java","ntlm","apache-commons-httpclient","apache-httpclient-5.x"],"comments":[{"owner":{"account_id":133909,"reputation":26610,"user_id":335638,"display_name":"ok2c"},"score":0,"creation_date":1692294516,"post_id":76923340,"comment_id":135607246,"body_markdown":"NTLM is going to get deprecated and disabled by default in HttpClient 5.3. Consider migrating to TLS / Basic or Bearer","body":"NTLM is going to get deprecated and disabled by default in HttpClient 5.3. Consider migrating to TLS / Basic or Bearer"}],"owner":{"account_id":2573759,"reputation":347,"user_id":2231919,"accept_rate":82,"display_name":"Spyridon Non Serviam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692289014,"creation_date":1692289014,"question_id":76923340,"body_markdown":"I have the following Java code with `org.apache.commons.httpclient`:\r\n\r\n```\r\nString url = &quot;something&quot;;\r\nCredentialsProvider credsProvider;\r\nRequestConfig requestConfig;\r\ncredsProvider = new BasicCredentialsProvider();\r\ncredsProvider.setCredentials(AuthScope.ANY, new NTCredentials(user, pass, host, domain));\r\nrequestConfig = RequestConfig.custom()\r\n\t\t.setTargetPreferredAuthSchemes(Collections.singletonList(AuthSchemes.NTLM)).build();\r\n\r\nHttpClient httpClient = HttpClients.custom().setDefaultCredentialsProvider(credsProvider)\r\n\t\t\t\t.setDefaultRequestConfig(requestConfig).build();\r\nHttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\r\nrequestFactory.setHttpClient(httpClient);\r\nRestTemplate restTemplate = new RestTemplate(requestFactory);\r\nreturn restTemplate.getForObject(url, String.class);\r\n```\r\n\r\nI want to migrate it to the newest `org.apache.hc.client5` but lines 4 and 5 cannot be converted one to one, neither I was able to find a proper conversion.\r\n\r\nIs there a path here to migrate this NTLM auth to the latest apache version (or to standard Java)?","title":"How to migrate NTLM auth to Apache HttpClient 5 from older version","body":"<p>I have the following Java code with <code>org.apache.commons.httpclient</code>:</p>\n<pre><code>String url = &quot;something&quot;;\nCredentialsProvider credsProvider;\nRequestConfig requestConfig;\ncredsProvider = new BasicCredentialsProvider();\ncredsProvider.setCredentials(AuthScope.ANY, new NTCredentials(user, pass, host, domain));\nrequestConfig = RequestConfig.custom()\n        .setTargetPreferredAuthSchemes(Collections.singletonList(AuthSchemes.NTLM)).build();\n\nHttpClient httpClient = HttpClients.custom().setDefaultCredentialsProvider(credsProvider)\n                .setDefaultRequestConfig(requestConfig).build();\nHttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\nrequestFactory.setHttpClient(httpClient);\nRestTemplate restTemplate = new RestTemplate(requestFactory);\nreturn restTemplate.getForObject(url, String.class);\n</code></pre>\n<p>I want to migrate it to the newest <code>org.apache.hc.client5</code> but lines 4 and 5 cannot be converted one to one, neither I was able to find a proper conversion.</p>\n<p>Is there a path here to migrate this NTLM auth to the latest apache version (or to standard Java)?</p>\n"},{"tags":["java","docker","metrics","datadog"],"owner":{"account_id":16592282,"reputation":53,"user_id":11990156,"display_name":"DilliBabu S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692288542,"creation_date":1692288542,"question_id":76923273,"body_markdown":"We are currently using dd-agent to trace our application hosted in Docker container. Here both agent and application are hosted in container. Now, we are planning to push some custom metrics to datadog using DogStatsD from our application(Spring-boot). \r\n\r\nWe followed the steps for submitting the metrics from &quot;Metric Submission: DogStatsD&quot; documentation. But we are not seeing any metrics in metrics summary/metrics explorer. We using docker-compose to build and run our application.\r\n\r\nCould someone help me to resolve this?\r\n","title":"Custom Metrics sent through DogStatsD is not listed in DataDog","body":"<p>We are currently using dd-agent to trace our application hosted in Docker container. Here both agent and application are hosted in container. Now, we are planning to push some custom metrics to datadog using DogStatsD from our application(Spring-boot).</p>\n<p>We followed the steps for submitting the metrics from &quot;Metric Submission: DogStatsD&quot; documentation. But we are not seeing any metrics in metrics summary/metrics explorer. We using docker-compose to build and run our application.</p>\n<p>Could someone help me to resolve this?</p>\n"},{"tags":["java","hashmap","java-9","factory-method"],"answers":[{"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1536572321,"post_id":52254601,"comment_id":91457242,"body_markdown":"On the last edit, I&#39;ve noticed this in quite a few places and would want to learn if `LinkedHashMap` and Guava&#39;s `ImmutableMap` has any comparative analysis that I can go through? I couldn&#39;t though sense anything other than immutability.","body":"On the last edit, I&#39;ve noticed this in quite a few places and would want to learn if <code>LinkedHashMap</code> and Guava&#39;s <code>ImmutableMap</code> has any comparative analysis that I can go through? I couldn&#39;t though sense anything other than immutability."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1536572946,"post_id":52254601,"comment_id":91457543,"body_markdown":"@nullpointer I am no aware of such analysis, I seem to trust guava quite a lot :| what I like is that it is build using a one-liner, as opposed `Collections::unmodifiableMap` that would wrap a `LinkedHashMap`...","body":"@nullpointer I am no aware of such analysis, I seem to trust guava quite a lot :| what I like is that it is build using a one-liner, as opposed <code>Collections::unmodifiableMap</code> that would wrap a <code>LinkedHashMap</code>..."},{"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":0,"creation_date":1536573452,"post_id":52254601,"comment_id":91457800,"body_markdown":"My upvote for ImmutableMap. That&#39;s the best solution IMO.","body":"My upvote for ImmutableMap. That&#39;s the best solution IMO."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1536573500,"post_id":52254601,"comment_id":91457827,"body_markdown":"@ZhekaKozlov I wish I could return this upvote for the proposed names for `BiCollector`...","body":"@ZhekaKozlov I wish I could return this upvote for the proposed names for <code>BiCollector</code>..."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1536749841,"post_id":52254601,"comment_id":91534763,"body_markdown":"Actually, `static` methods are overridable, i.e. if `LinkedHashMap` provided such factory methods with the same signature as in `HashMap`, they would override them, so `LinkedHashMap.of(…)` would end up at the right method, *if* `LinkedHashMap` provides such a method. You could assume that this would be the case when both classes stem from the same JRE, but what about a `ThirdPartyMap` inheriting from either of these classes. The worst thing would be, if it gets adapted to provide factory methods *once*, to end up with a mixture of overridden and non-overridden methods in a future JRE version…","body":"Actually, <code>static</code> methods are overridable, i.e. if <code>LinkedHashMap</code> provided such factory methods with the same signature as in <code>HashMap</code>, they would override them, so <code>LinkedHashMap.of(…)</code> would end up at the right method, <i>if</i> <code>LinkedHashMap</code> provides such a method. You could assume that this would be the case when both classes stem from the same JRE, but what about a <code>ThirdPartyMap</code> inheriting from either of these classes. The worst thing would be, if it gets adapted to provide factory methods <i>once</i>, to end up with a mixture of overridden and non-overridden methods in a future JRE version…"},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1536755490,"post_id":52254601,"comment_id":91538009,"body_markdown":"@Holger to be pedantic, they can be hidden [(8.4.8.2. Hiding (by Class Methods))](https://docs.oracle.com/javase/specs/jls/se10/html/jls-8.html#jls-8.4.8.2), not overridden [8.4.8.1. Overriding (by Instance Methods))](https://docs.oracle.com/javase/specs/jls/se10/html/jls-8.html#jls-8.4.8.1), but your point still holds - it could have been done, but it would have incurred a significant implementation- and maintainance cost.","body":"@Holger to be pedantic, they can be hidden <a href=\"https://docs.oracle.com/javase/specs/jls/se10/html/jls-8.html#jls-8.4.8.2\" rel=\"nofollow noreferrer\">(8.4.8.2. Hiding (by Class Methods))</a>, not overridden <a href=\"https://docs.oracle.com/javase/specs/jls/se10/html/jls-8.html#jls-8.4.8.1\" rel=\"nofollow noreferrer\">8.4.8.1. Overriding (by Instance Methods))</a>, but your point still holds - it could have been done, but it would have incurred a significant implementation- and maintainance cost."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1536755997,"post_id":52254601,"comment_id":91538378,"body_markdown":"@Hulk indeed, and even `javac` fails to use the correct terminology, e.g. in its error messages. That one time I didn’t consult the specification, it immediately bites me…","body":"@Hulk indeed, and even <code>javac</code> fails to use the correct terminology, e.g. in its error messages. That one time I didn’t consult the specification, it immediately bites me…"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1536756062,"post_id":52254601,"comment_id":91538422,"body_markdown":"@Holger I love those btw! :) when you have a `final static method` in Parent and the same signature in Child (without `final`) - `javac` will say something like overridable method is final","body":"@Holger I love those btw! :) when you have a <code>final static method</code> in Parent and the same signature in Child (without <code>final</code>) - <code>javac</code> will say something like overridable method is final"}],"tags":[],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":8,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1536572120,"creation_date":1536571155,"answer_id":52254601,"question_id":52254569,"body_markdown":"There isn&#39;t a factory method like `LinkedHashMap::of` indeed, and a `Map` does not have an order per-se, so the only way I see it is to build a `LinkedHashMap` if you really needed one. \n\nBtw from [the JEP itself][1]:\n\n&gt; Static factory methods on concrete collection classes (e.g., ArrayList, HashSet) have been removed from this proposal ...\n&gt;\n&gt; There is another wrinkle, which is that static methods on classes are inherited by subclasses. Suppose a static factory method HashMap.of() were to be added. Since LinkedHashMap is a subclass of HashMap, it would be possible for application code to call LinkedHashMap.of(). This would end up calling HashMap.of(), not at all what one would expect! \n\nPoint here is that `static` methods are inherited, but not overridable, thus if such a method would have been added to `HashMap` it could have not been overridden in `LinkedHashMap`.\n\nIf you can use `guava`, you could use `ImmutableMap` that is documented as:\n\n&gt; An immutable, hash-based Map with reliable user-specified iteration order...\n\n\n  [1]: http://openjdk.java.net/jeps/269","title":"How to preserve order of insertion in Map.of factory?","body":"<p>There isn't a factory method like <code>LinkedHashMap::of</code> indeed, and a <code>Map</code> does not have an order per-se, so the only way I see it is to build a <code>LinkedHashMap</code> if you really needed one.</p>\n<p>Btw from <a href=\"http://openjdk.java.net/jeps/269\" rel=\"noreferrer\">the JEP itself</a>:</p>\n<blockquote>\n<p>Static factory methods on concrete collection classes (e.g., ArrayList, HashSet) have been removed from this proposal ...</p>\n<p>There is another wrinkle, which is that static methods on classes are inherited by subclasses. Suppose a static factory method HashMap.of() were to be added. Since LinkedHashMap is a subclass of HashMap, it would be possible for application code to call LinkedHashMap.of(). This would end up calling HashMap.of(), not at all what one would expect!</p>\n</blockquote>\n<p>Point here is that <code>static</code> methods are inherited, but not overridable, thus if such a method would have been added to <code>HashMap</code> it could have not been overridden in <code>LinkedHashMap</code>.</p>\n<p>If you can use <code>guava</code>, you could use <code>ImmutableMap</code> that is documented as:</p>\n<blockquote>\n<p>An immutable, hash-based Map with reliable user-specified iteration order...</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1543827509,"creation_date":1543827509,"answer_id":53590354,"question_id":52254569,"body_markdown":"As documented on the Java apidoc of [`Map`][1] (emphasis mine):\r\n\r\n&gt; # Unmodifiable Maps\r\n&gt; \r\n&gt; The `Map.of`, `Map.ofEntries`, and `Map.copyOf` static factory methods\r\n&gt; provide a convenient way to create unmodifiable maps. The Map\r\n&gt; instances created by these methods have the following characteristics:\r\n&gt; \r\n&gt; - ...\r\n&gt; - The **iteration order of mappings is unspecified** and is subject to change.\r\n&gt; - ...\r\n\r\nUnfortunately, there is no equivalent convenience method in the Java API that creates a `LinkedHashMap`. If you want a consistent iteration order, then you will need to manually create a `LinkedHashMap` and populate it (and - if needed - wrap it using `Collections.unmodifiableMap`). \r\n\r\nConsider creating your own convenience method that does the equivalent of `Map.of` but with a consistent iteration order (or find an existing library that already provides this).\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html","title":"How to preserve order of insertion in Map.of factory?","body":"<p>As documented on the Java apidoc of <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html\" rel=\"noreferrer\"><code>Map</code></a> (emphasis mine):</p>\n\n<blockquote>\n  <h1>Unmodifiable Maps</h1>\n  \n  <p>The <code>Map.of</code>, <code>Map.ofEntries</code>, and <code>Map.copyOf</code> static factory methods\n  provide a convenient way to create unmodifiable maps. The Map\n  instances created by these methods have the following characteristics:</p>\n  \n  <ul>\n  <li>...</li>\n  <li>The <strong>iteration order of mappings is unspecified</strong> and is subject to change.</li>\n  <li>...</li>\n  </ul>\n</blockquote>\n\n<p>Unfortunately, there is no equivalent convenience method in the Java API that creates a <code>LinkedHashMap</code>. If you want a consistent iteration order, then you will need to manually create a <code>LinkedHashMap</code> and populate it (and - if needed - wrap it using <code>Collections.unmodifiableMap</code>). </p>\n\n<p>Consider creating your own convenience method that does the equivalent of <code>Map.of</code> but with a consistent iteration order (or find an existing library that already provides this).</p>\n"},{"tags":[],"owner":{"account_id":7113761,"reputation":131,"user_id":5440774,"display_name":"miro"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1619526865,"creation_date":1619526865,"answer_id":67283143,"question_id":52254569,"body_markdown":"You can also use vavr.io in the following way:\r\n\r\n    Map&lt;String, String&gt; mapPreservingInsertionOrder = io.vavr.collection.LinkedHashMap.of(&quot;key1&quot;, &quot;val1&quot;, &quot;key2&quot;, &quot;val2&quot;).toJavaMap();","title":"How to preserve order of insertion in Map.of factory?","body":"<p>You can also use vavr.io in the following way:</p>\n<pre><code>Map&lt;String, String&gt; mapPreservingInsertionOrder = io.vavr.collection.LinkedHashMap.of(&quot;key1&quot;, &quot;val1&quot;, &quot;key2&quot;, &quot;val2&quot;).toJavaMap();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":203892,"reputation":629,"user_id":451797,"display_name":"Catweazle"},"score":1,"creation_date":1678542394,"post_id":72889788,"comment_id":133554707,"body_markdown":"nice, but for consistency the method would better be named ofEntries","body":"nice, but for consistency the method would better be named ofEntries"}],"tags":[],"owner":{"account_id":10391508,"reputation":554,"user_id":7662651,"display_name":"Markus Hettich"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657141170,"creation_date":1657141170,"answer_id":72889788,"question_id":52254569,"body_markdown":"Because there seems to be no method that is doing what you want in the JDK you have to implement it by yourself or use a existing library. Creating such helper method isn&#39;t that hard:\r\n\r\n    public static &lt;K, V&gt; LinkedHashMap&lt;K, V&gt; of(Collection&lt;Entry&lt;? extends K, ? extends V&gt;&gt; entries) {\r\n      final LinkedHashMap&lt;K, V&gt; map = new LinkedHashMap&lt;&gt;();\r\n      entries.forEach(entry -&gt; map.put(entry.getKey(), entry.getValue()));\r\n      return map;\r\n    }\r\n\r\nAnd then you could use it like this:\r\n\r\n    of(List.of(Map.entry(&quot;Hello&quot;, &quot;World&quot;), Map.entry(&quot;Goodnight&quot;, &quot;Moon&quot;)));\r\n\r\nThis solution has the advantage over the Map.of in the JDK that the key value pairs are provided as entry pairs and not just as lose pairs by parameter index.","title":"How to preserve order of insertion in Map.of factory?","body":"<p>Because there seems to be no method that is doing what you want in the JDK you have to implement it by yourself or use a existing library. Creating such helper method isn't that hard:</p>\n<pre><code>public static &lt;K, V&gt; LinkedHashMap&lt;K, V&gt; of(Collection&lt;Entry&lt;? extends K, ? extends V&gt;&gt; entries) {\n  final LinkedHashMap&lt;K, V&gt; map = new LinkedHashMap&lt;&gt;();\n  entries.forEach(entry -&gt; map.put(entry.getKey(), entry.getValue()));\n  return map;\n}\n</code></pre>\n<p>And then you could use it like this:</p>\n<pre><code>of(List.of(Map.entry(&quot;Hello&quot;, &quot;World&quot;), Map.entry(&quot;Goodnight&quot;, &quot;Moon&quot;)));\n</code></pre>\n<p>This solution has the advantage over the Map.of in the JDK that the key value pairs are provided as entry pairs and not just as lose pairs by parameter index.</p>\n"},{"tags":[],"owner":{"account_id":308365,"reputation":2377,"user_id":620192,"accept_rate":64,"display_name":"ScrappyDev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692288485,"creation_date":1692288485,"answer_id":76923268,"question_id":52254569,"body_markdown":"If you don&#39;t care about the order, but only need it to be consistent, you can use a sorted map like `TreeMap` in conjunction with `Map.of`\r\n\r\n```\r\nnew TreeMap&lt;&gt;(Map.of(&quot;key1&quot;, &quot;value1&quot;, &quot;key0&quot;, &quot;value0&quot;, &quot;key3&quot;, &quot;value3&quot;))\r\n```\r\n\r\nThis should always return a consistent map with the keys sorted.\r\n\r\nNote: If you need it to be Unmodifiable, you&#39;ll need to wrap it with something like \r\n```\r\nCollections.unmodifiableMap(&lt;&lt;&lt;TreeMap Here&gt;&gt;&gt;)\r\n```","title":"How to preserve order of insertion in Map.of factory?","body":"<p>If you don't care about the order, but only need it to be consistent, you can use a sorted map like <code>TreeMap</code> in conjunction with <code>Map.of</code></p>\n<pre><code>new TreeMap&lt;&gt;(Map.of(&quot;key1&quot;, &quot;value1&quot;, &quot;key0&quot;, &quot;value0&quot;, &quot;key3&quot;, &quot;value3&quot;))\n</code></pre>\n<p>This should always return a consistent map with the keys sorted.</p>\n<p>Note: If you need it to be Unmodifiable, you'll need to wrap it with something like</p>\n<pre><code>Collections.unmodifiableMap(&lt;&lt;&lt;TreeMap Here&gt;&gt;&gt;)\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4142,"favorite_count":0,"down_vote_count":1,"up_vote_count":22,"accepted_answer_id":52254601,"answer_count":5,"score":21,"last_activity_date":1692288485,"creation_date":1536571050,"question_id":52254569,"body_markdown":"Java 9 offers `Map.of()` feature to easily create a map with fixed values.\r\n\r\nProblem: I want to create a map that preserves order of insertion like `LinkedHashMap`. Is that possible with that factory? At least `map.of()` does not preserv the order...","title":"How to preserve order of insertion in Map.of factory?","body":"<p>Java 9 offers <code>Map.of()</code> feature to easily create a map with fixed values.</p>\n\n<p>Problem: I want to create a map that preserves order of insertion like <code>LinkedHashMap</code>. Is that possible with that factory? At least <code>map.of()</code> does not preserv the order...</p>\n"},{"tags":["java","android","openai-api","chatgpt-api","whisper"],"owner":{"account_id":5649224,"reputation":1071,"user_id":4470419,"accept_rate":75,"display_name":"Manoj ahirwar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692288224,"creation_date":1692288224,"question_id":76923237,"body_markdown":"I am trying to call Whisper API from my android app. I am recording the audio and storing in `.wav` format. when i am calling the whisper API its always giving me 400 error saying invalid file format.\r\n\r\nI tried playing the audio back and its working. also file is readable. have been trying to find solution for couple of hours now. \r\n\r\nfollowing is my code\r\n\r\n```java\r\nprivate void startRecording() {\r\n        fileName = getExternalCacheDir().getAbsolutePath() + &quot;/recording.wav&quot;;\r\n\r\n        recorder = new MediaRecorder();\r\n        recorder.setAudioSource(MediaRecorder.AudioSource.MIC);\r\n        recorder.setOutputFormat(MediaRecorder.OutputFormat.DEFAULT);\r\n        recorder.setOutputFile(fileName);\r\n        recorder.setAudioEncoder(MediaRecorder.AudioEncoder.DEFAULT);\r\n\r\n        try {\r\n            recorder.prepare();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        recorder.start();\r\n    }\r\n```\r\n\r\n```java\r\nprivate void stopRecording() {\r\n        recorder.stop();\r\n        recorder.release();\r\n        recorder = null;\r\n\r\n        // Copy the recorded WAV file to a new file\r\n        String newFileName = getExternalCacheDir().getAbsolutePath() + &quot;/new_recording.wav&quot;;\r\n        try {\r\n            Files.copy(Paths.get(fileName), Paths.get(newFileName), StandardCopyOption.REPLACE_EXISTING);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        OkHttpClient client = new OkHttpClient();\r\n\r\n        File file = new File(newFileName);\r\n        String absolutePath = file.getAbsolutePath();\r\n\r\n        RequestBody requestBody = new MultipartBody.Builder()\r\n                .setType(MultipartBody.FORM)\r\n                .addFormDataPart(&quot;file&quot;, &quot;new_recording.wav&quot;, RequestBody.create(MediaType.parse(&quot;audio/wav&quot;), new File(absolutePath)))\r\n                .addFormDataPart(&quot;model&quot;, &quot;whisper-1&quot;)\r\n                .build();\r\n\r\n        Request request = new Request.Builder()\r\n                .url(&quot;https://api.openai.com/v1/audio/transcriptions&quot;)\r\n                .post(requestBody)\r\n                .header(&quot;Authorization&quot;, &quot;Bearer sk-QAym*******gUIRdxXGq&quot;)\r\n                .header(&quot;Content-Type&quot;, &quot;multipart/form-data&quot;)\r\n                .build();\r\n\r\n        client.newCall(request).enqueue(new okhttp3.Callback() {\r\n            @Override\r\n            public void onFailure(okhttp3.Call call, IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            @Override\r\n            public void onResponse(okhttp3.Call call, okhttp3.Response response) throws IOException {\r\n                if (!response.isSuccessful()) {\r\n                    System.out.println(&quot;Unexpected code &quot; + response);\r\n                }\r\n                System.out.println(response.body().string());\r\n            }\r\n        });\r\n    }\r\n```\r\n\r\nwas just trying to create another wav file from existing, and this is also not working.\r\n\r\nwould appreciate any help or suggestions.\r\n\r\nthanks","title":"Keep getting 400 Invalid File Form error from Whisper API","body":"<p>I am trying to call Whisper API from my android app. I am recording the audio and storing in <code>.wav</code> format. when i am calling the whisper API its always giving me 400 error saying invalid file format.</p>\n<p>I tried playing the audio back and its working. also file is readable. have been trying to find solution for couple of hours now.</p>\n<p>following is my code</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void startRecording() {\n        fileName = getExternalCacheDir().getAbsolutePath() + &quot;/recording.wav&quot;;\n\n        recorder = new MediaRecorder();\n        recorder.setAudioSource(MediaRecorder.AudioSource.MIC);\n        recorder.setOutputFormat(MediaRecorder.OutputFormat.DEFAULT);\n        recorder.setOutputFile(fileName);\n        recorder.setAudioEncoder(MediaRecorder.AudioEncoder.DEFAULT);\n\n        try {\n            recorder.prepare();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        recorder.start();\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>private void stopRecording() {\n        recorder.stop();\n        recorder.release();\n        recorder = null;\n\n        // Copy the recorded WAV file to a new file\n        String newFileName = getExternalCacheDir().getAbsolutePath() + &quot;/new_recording.wav&quot;;\n        try {\n            Files.copy(Paths.get(fileName), Paths.get(newFileName), StandardCopyOption.REPLACE_EXISTING);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        OkHttpClient client = new OkHttpClient();\n\n        File file = new File(newFileName);\n        String absolutePath = file.getAbsolutePath();\n\n        RequestBody requestBody = new MultipartBody.Builder()\n                .setType(MultipartBody.FORM)\n                .addFormDataPart(&quot;file&quot;, &quot;new_recording.wav&quot;, RequestBody.create(MediaType.parse(&quot;audio/wav&quot;), new File(absolutePath)))\n                .addFormDataPart(&quot;model&quot;, &quot;whisper-1&quot;)\n                .build();\n\n        Request request = new Request.Builder()\n                .url(&quot;https://api.openai.com/v1/audio/transcriptions&quot;)\n                .post(requestBody)\n                .header(&quot;Authorization&quot;, &quot;Bearer sk-QAym*******gUIRdxXGq&quot;)\n                .header(&quot;Content-Type&quot;, &quot;multipart/form-data&quot;)\n                .build();\n\n        client.newCall(request).enqueue(new okhttp3.Callback() {\n            @Override\n            public void onFailure(okhttp3.Call call, IOException e) {\n                e.printStackTrace();\n            }\n\n            @Override\n            public void onResponse(okhttp3.Call call, okhttp3.Response response) throws IOException {\n                if (!response.isSuccessful()) {\n                    System.out.println(&quot;Unexpected code &quot; + response);\n                }\n                System.out.println(response.body().string());\n            }\n        });\n    }\n</code></pre>\n<p>was just trying to create another wav file from existing, and this is also not working.</p>\n<p>would appreciate any help or suggestions.</p>\n<p>thanks</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":1421603,"reputation":5012,"user_id":1346104,"accept_rate":16,"display_name":"Manigandan"},"score":0,"creation_date":1397726187,"post_id":23128743,"comment_id":35360755,"body_markdown":"If your application provides the graph and pie chart as an image. Then it is not possible to automate through selenium.","body":"If your application provides the graph and pie chart as an image. Then it is not possible to automate through selenium."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1640038748,"post_id":23128743,"comment_id":124496576,"body_markdown":"Do you see how all over the place these answers are? That&#39;s because you haven&#39;t provided sufficient information for anyone to help you. It would help if you include extracts of your DOM to see how you can use Selenium effectively to extract data from the document model and compare it with your expected results.","body":"Do you see how all over the place these answers are? That&#39;s because you haven&#39;t provided sufficient information for anyone to help you. It would help if you include extracts of your DOM to see how you can use Selenium effectively to extract data from the document model and compare it with your expected results."}],"answers":[{"tags":[],"owner":{"account_id":2741305,"reputation":137,"user_id":2691516,"accept_rate":100,"display_name":"Michele Festini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397725442,"creation_date":1397725442,"answer_id":23128897,"question_id":23128743,"body_markdown":"Assuming that your graph has a Javascript Model (e.g. an array) you can assert the contents of such array by using the assertEval command. ","title":"How to automate graphs using Selenium, Java","body":"<p>Assuming that your graph has a Javascript Model (e.g. an array) you can assert the contents of such array by using the assertEval command. </p>\n"},{"tags":[],"owner":{"account_id":4023251,"reputation":131,"user_id":3312657,"display_name":"Tehsil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397732884,"creation_date":1397728583,"answer_id":23129980,"question_id":23128743,"body_markdown":"I am posting the most basic but fundamental example for your Pie chart problem,\r\nHere I am taking Yahoo&#39;s YUI based PIE Chart for my example.\r\nHere in each refresh all the sections are created dynamically so I am using contains in the id of the element . Here in the chart the controls are not simple HTML but these are svg (HTML5 controls) so on finding these we need to use //* in xpath.\r\n\r\nMy motive here is to find these dynamic sections in the PIE chart(Here in the current chart there are 5 sections)\r\n\r\nAnd to click each section and to print tool tip text of these.\r\n\r\nThe Out put will be like.\r\nViolette Part:day: Monday\r\ntaxes: 2000\r\n\r\nGrey Part:day: Friday\r\ntaxes: 2000\r\n\r\nLight Violette Part:day: Thursday\r\ntaxes: 200\r\n\r\nGreen Part:day: Wednesday\r\ntaxes: 4000\r\n\r\nBrown Part:day: Tuesday\r\ntaxes: 50\r\n0.61%\r\n\r\nHere is the Demo program for it,anywhere you can execute it... :)\r\n\r\n\r\n\r\n     package tests;\r\n\r\n     import java.util.concurrent.TimeUnit;\r\n     import org.openqa.selenium.By; \r\n     import org.openqa.selenium.WebDriver;\r\n     import org.openqa.selenium.WebElement;\r\n     import org.openqa.selenium.firefox.FirefoxDriver;\r\n\r\n\r\n     public class testCode {\r\n     public static WebDriver driver;\r\n\r\n     public static void main(String[] args) throws InterruptedException {\r\n\r\n     driver = new FirefoxDriver();\r\n     driver.get(&quot;http://yuilibrary.com/yui/docs/charts/charts-pie.html&quot;);\r\n\r\n     driver.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS);\r\n\r\n     **//FIND DIFFERENT SECTIONS IN PIE CHART**\r\n\r\n     WebElement ViolettePart = driver.findElement(By.xpath(&quot;//*   [contains(@id,&#39;yui_3_13_0_1_&#39;)][contains(@class,&#39;yui3-svgSvgPieSlice&#39;)][@fill=&#39;#66007f&#39;]&quot;));\r\n     WebElement GreenPart = driver.findElement(By.xpath(&quot;//*[contains(@id,&#39;yui_3_13_0_1_&#39;)][contains(@class,&#39;yui3-svgSvgPieSlice&#39;)][@fill=&#39;#295454&#39;]&quot;));\r\n     WebElement GreyPart = driver.findElement(By.xpath(&quot;//*[contains(@id,&#39;yui_3_13_0_1_&#39;)][contains(@class,&#39;yui3-svgSvgPieSlice&#39;)][@fill=&#39;#e8cdb7&#39;]&quot;));\r\n     WebElement LightViolettePart = driver.findElement(By.xpath(&quot;//*[contains(@id,&#39;yui_3_13_0_1_&#39;)][contains(@class,&#39;yui3-svgSvgPieSlice&#39;)][@fill=&#39;#996ab2&#39;]&quot;));\r\n     WebElement BrownPart = driver.findElement(By.xpath(&quot;//*[contains(@id,&#39;yui_3_13_0_1_&#39;)][contains(@class,&#39;yui3-svgSvgPieSlice&#39;)][@fill=&#39;#a86f41&#39;]&quot;));\r\n\r\n     **//TOOLTIP OVER PIE CHART**\r\n\r\n     WebElement ToolTip = driver.findElement(By.xpath(&quot;//div[contains(@id,&#39;_tooltip&#39;)]&quot;));\r\n\r\n     **//CLICK EACH SECTION OF PIE CHART AND GET THE TEXT OVER IT**\r\n\r\n     ViolettePart.click();\r\n     System.out.println(&quot;Violette Part:&quot;+ToolTip.getText());\r\n     GreyPart.click();\r\n     System.out.println(&quot;Grey Part:&quot;+ToolTip.getText());\r\n     LightViolettePart.click();\r\n     System.out.println(&quot;Light Violete Part:&quot;+ToolTip.getText());\r\n     GreenPart.click();\r\n     System.out.println(&quot;Green Part:&quot;+ToolTip.getText());\r\n     BrownPart.click();\r\n     System.out.println(&quot;Brown Part:&quot;+ToolTip.getText());\r\n     } }\r\n","title":"How to automate graphs using Selenium, Java","body":"<p>I am posting the most basic but fundamental example for your Pie chart problem,\nHere I am taking Yahoo's YUI based PIE Chart for my example.\nHere in each refresh all the sections are created dynamically so I am using contains in the id of the element . Here in the chart the controls are not simple HTML but these are svg (HTML5 controls) so on finding these we need to use //* in xpath.</p>\n\n<p>My motive here is to find these dynamic sections in the PIE chart(Here in the current chart there are 5 sections)</p>\n\n<p>And to click each section and to print tool tip text of these.</p>\n\n<p>The Out put will be like.\nViolette Part:day: Monday\ntaxes: 2000</p>\n\n<p>Grey Part:day: Friday\ntaxes: 2000</p>\n\n<p>Light Violette Part:day: Thursday\ntaxes: 200</p>\n\n<p>Green Part:day: Wednesday\ntaxes: 4000</p>\n\n<p>Brown Part:day: Tuesday\ntaxes: 50\n0.61%</p>\n\n<p>Here is the Demo program for it,anywhere you can execute it... :)</p>\n\n<pre><code> package tests;\n\n import java.util.concurrent.TimeUnit;\n import org.openqa.selenium.By; \n import org.openqa.selenium.WebDriver;\n import org.openqa.selenium.WebElement;\n import org.openqa.selenium.firefox.FirefoxDriver;\n\n\n public class testCode {\n public static WebDriver driver;\n\n public static void main(String[] args) throws InterruptedException {\n\n driver = new FirefoxDriver();\n driver.get(\"http://yuilibrary.com/yui/docs/charts/charts-pie.html\");\n\n driver.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS);\n\n **//FIND DIFFERENT SECTIONS IN PIE CHART**\n\n WebElement ViolettePart = driver.findElement(By.xpath(\"//*   [contains(@id,'yui_3_13_0_1_')][contains(@class,'yui3-svgSvgPieSlice')][@fill='#66007f']\"));\n WebElement GreenPart = driver.findElement(By.xpath(\"//*[contains(@id,'yui_3_13_0_1_')][contains(@class,'yui3-svgSvgPieSlice')][@fill='#295454']\"));\n WebElement GreyPart = driver.findElement(By.xpath(\"//*[contains(@id,'yui_3_13_0_1_')][contains(@class,'yui3-svgSvgPieSlice')][@fill='#e8cdb7']\"));\n WebElement LightViolettePart = driver.findElement(By.xpath(\"//*[contains(@id,'yui_3_13_0_1_')][contains(@class,'yui3-svgSvgPieSlice')][@fill='#996ab2']\"));\n WebElement BrownPart = driver.findElement(By.xpath(\"//*[contains(@id,'yui_3_13_0_1_')][contains(@class,'yui3-svgSvgPieSlice')][@fill='#a86f41']\"));\n\n **//TOOLTIP OVER PIE CHART**\n\n WebElement ToolTip = driver.findElement(By.xpath(\"//div[contains(@id,'_tooltip')]\"));\n\n **//CLICK EACH SECTION OF PIE CHART AND GET THE TEXT OVER IT**\n\n ViolettePart.click();\n System.out.println(\"Violette Part:\"+ToolTip.getText());\n GreyPart.click();\n System.out.println(\"Grey Part:\"+ToolTip.getText());\n LightViolettePart.click();\n System.out.println(\"Light Violete Part:\"+ToolTip.getText());\n GreenPart.click();\n System.out.println(\"Green Part:\"+ToolTip.getText());\n BrownPart.click();\n System.out.println(\"Brown Part:\"+ToolTip.getText());\n } }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3459421,"reputation":15080,"user_id":2897008,"accept_rate":73,"display_name":"vins"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538217810,"creation_date":1501906528,"answer_id":45518133,"question_id":23128743,"body_markdown":"Unless you are ok with just verifying metadata about the chart (captions, some JSON properties, etc) you will have to use image comparison. You define a baseline image that represents what the result should like like and your test compares against the reference.\r\n\r\nSince it is not trivial to reliably test images you can use a library such as [Ocular][1]. \r\n\r\n  [1]: https://github.com/vinsguru/ocular","title":"How to automate graphs using Selenium, Java","body":"<p>Unless you are ok with just verifying metadata about the chart (captions, some JSON properties, etc) you will have to use image comparison. You define a baseline image that represents what the result should like like and your test compares against the reference.</p>\n\n<p>Since it is not trivial to reliably test images you can use a library such as <a href=\"https://github.com/vinsguru/ocular\" rel=\"nofollow noreferrer\">Ocular</a>. </p>\n"},{"tags":[],"owner":{"account_id":5454772,"reputation":514,"user_id":4338553,"accept_rate":57,"display_name":"Suhail Ahmed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616489644,"creation_date":1616489644,"answer_id":66759931,"question_id":23128743,"body_markdown":"If it is a bar graph then you can identify all bars and the labels using &quot;findElements&quot;, then you can iterate among the labels, get the label text if the text matches with the input that you have given then using Actions class move on that bar, then you can validate the data on the tooltip.\r\n\r\nTo get any xpath from the graph, you can use the * in you xpath in place of tagname for example\r\n\r\n//*[@class=&#39;ABC&#39;]\r\n\r\n\r\nyou can follow the same process for pie chart but it is going to have few modifications","title":"How to automate graphs using Selenium, Java","body":"<p>If it is a bar graph then you can identify all bars and the labels using &quot;findElements&quot;, then you can iterate among the labels, get the label text if the text matches with the input that you have given then using Actions class move on that bar, then you can validate the data on the tooltip.</p>\n<p>To get any xpath from the graph, you can use the * in you xpath in place of tagname for example</p>\n<p>//*[@class='ABC']</p>\n<p>you can follow the same process for pie chart but it is going to have few modifications</p>\n"}],"owner":{"account_id":4237906,"reputation":155,"user_id":3468587,"accept_rate":71,"display_name":"Kazman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20986,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1692288220,"creation_date":1397725038,"question_id":23128743,"body_markdown":"I inject data into a web application and it generates a graph and a pie chart. I&#39;d like to test the result on the graph is coherent with the given data through Selenium. Any ideas? Thanks, Best regards !!!","title":"How to automate graphs using Selenium, Java","body":"<p>I inject data into a web application and it generates a graph and a pie chart. I'd like to test the result on the graph is coherent with the given data through Selenium. Any ideas? Thanks, Best regards !!!</p>\n"},{"tags":["java"],"owner":{"account_id":12928550,"reputation":51,"user_id":9348329,"display_name":"David Yuan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692288158,"creation_date":1692288158,"question_id":76923231,"body_markdown":"We are using Spring Security (with **@EnableMethodSecurity**) for **@PreAuthorize()** in our microservice in SpringBoot 3 and JVM 17. We also have unit tests to cover the controllers using **@WebMvctest**.\r\n\r\nWhen running the test code, it complains the **@Value** cannot be evaluated:\r\n\r\n*Caused by: org.springframework.beans.TypeMismatchException: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;boolean&#39;; Invalid boolean value [${myFeature.active:true}]*\r\n\r\nHowever, if I remove @EnableMethodSecurity in the config file, the test code runs fine.\r\n\r\nHere is the config\r\n```\r\n@Configuration(enforceUniqueMethods = false)\r\n@EnableWebSecurity\r\n@EnableMethodSecurity\r\npublic class config {\r\n\r\n}\r\n```\r\n\r\nHere is the unit test:\r\n```\r\n@WebMvcTest(controllers = DocApiController.class)\r\nclass DocApiControllerTest {\r\n\t@Autowired\r\n    protected MockMvc mockMvc;\r\n    @MockBean\r\n    private DocService service;\r\n\r\n    @Test\r\n    void test_getDocuments_success() throws Exception {\r\n        Result response = new Result();\r\n        when(service.search(any())).thenReturn(response);\r\n        mockMvc.perform(get(&quot;/document/get?pageSize=10&amp;pageNumber=1&quot;))\r\n        \t\t.andExpect(status().isOk());\r\n    }\r\n}\r\n```","title":"@EnableMethodSecurity caused @Value evaluation failure in @WebMvcTest using SprigBoot 3","body":"<p>We are using Spring Security (with <strong>@EnableMethodSecurity</strong>) for <strong>@PreAuthorize()</strong> in our microservice in SpringBoot 3 and JVM 17. We also have unit tests to cover the controllers using <strong>@WebMvctest</strong>.</p>\n<p>When running the test code, it complains the <strong>@Value</strong> cannot be evaluated:</p>\n<p><em>Caused by: org.springframework.beans.TypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'boolean'; Invalid boolean value [${myFeature.active:true}]</em></p>\n<p>However, if I remove @EnableMethodSecurity in the config file, the test code runs fine.</p>\n<p>Here is the config</p>\n<pre><code>@Configuration(enforceUniqueMethods = false)\n@EnableWebSecurity\n@EnableMethodSecurity\npublic class config {\n\n}\n</code></pre>\n<p>Here is the unit test:</p>\n<pre><code>@WebMvcTest(controllers = DocApiController.class)\nclass DocApiControllerTest {\n    @Autowired\n    protected MockMvc mockMvc;\n    @MockBean\n    private DocService service;\n\n    @Test\n    void test_getDocuments_success() throws Exception {\n        Result response = new Result();\n        when(service.search(any())).thenReturn(response);\n        mockMvc.perform(get(&quot;/document/get?pageSize=10&amp;pageNumber=1&quot;))\n                .andExpect(status().isOk());\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-batch","footer","compositeitemwriter"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1621441887,"post_id":67604628,"comment_id":119498884,"body_markdown":"The problem is that you are calling `FlatFileItemWriter.open` yourself (which is incorrect) but not `.close()` where the footer callback is called. You should not be calling those methods yourself. You need to declare the delegate writers as beans and register them as streams in your step. See the duplicate question for a complete example.","body":"The problem is that you are calling <code>FlatFileItemWriter.open</code> yourself (which is incorrect) but not <code>.close()</code> where the footer callback is called. You should not be calling those methods yourself. You need to declare the delegate writers as beans and register them as streams in your step. See the duplicate question for a complete example."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1621441893,"post_id":67604628,"comment_id":119498888,"body_markdown":"Does this answer your question? [creating logic inside Spring Batch using Tasklet or inside CompositeItemWriter?](https://stackoverflow.com/questions/53377660/creating-logic-inside-spring-batch-using-tasklet-or-inside-compositeitemwriter)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/53377660/creating-logic-inside-spring-batch-using-tasklet-or-inside-compositeitemwriter\">creating logic inside Spring Batch using Tasklet or inside CompositeItemWriter?</a>"},{"owner":{"account_id":18663603,"reputation":15,"user_id":13604183,"display_name":"RKP2019"},"score":0,"creation_date":1621443081,"post_id":67604628,"comment_id":119499461,"body_markdown":"@MahmoudBenHassine Thank you. In my case, i don&#39;t have fixed number writers (foo &amp; boo in your case) and they will be dynamic and need to create at RUN time. Any suggestions on how to do it and register them to step?","body":"@MahmoudBenHassine Thank you. In my case, i don&#39;t have fixed number writers (foo &amp; boo in your case) and they will be dynamic and need to create at RUN time. Any suggestions on how to do it and register them to step?"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1621504269,"post_id":67604628,"comment_id":119518037,"body_markdown":"In that case, you need to pre-calculate the possible distinct values (1, 2 and 4 in your case) with a query like `select distinct(id) from table` for instance or a similar mechanism and dynamically create `ItemWriter` beans and register them as streams in your step.","body":"In that case, you need to pre-calculate the possible distinct values (1, 2 and 4 in your case) with a query like <code>select distinct(id) from table</code> for instance or a similar mechanism and dynamically create <code>ItemWriter</code> beans and register them as streams in your step."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1621593638,"post_id":67604628,"comment_id":119548608,"body_markdown":"I added an answer with a complete example that shows the approach I mentioned.","body":"I added an answer with a complete example that shows the approach I mentioned."}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1621593606,"creation_date":1621593606,"answer_id":67635289,"question_id":67604628,"body_markdown":"&gt; In my case, i don&#39;t have fixed number writers (foo &amp; boo in your case) and they will be dynamic and need to create at RUN time. Any suggestions on how to do it and register them to step?\r\n\r\nIn that case, you need to:\r\n\r\n1. pre-calculate the possible distinct values (1, 2 and 4 in your case) with a query like `select distinct(id) from table` for example or a similar mechanism depending on you input data\r\n2. dynamically create `ItemWriter` beans and register them as streams in your step. \r\n\r\nThe following is an example based on your use case: given a list of students in different groups, the idea is to write them in different files based on their group. Here is a tasklet that pre-calculates the distinct groups and creates/registers item writers dynamically in the application context:\r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.io.Writer;\r\nimport java.util.List;\r\n\r\nimport org.springframework.batch.core.StepContribution;\r\nimport org.springframework.batch.core.scope.context.ChunkContext;\r\nimport org.springframework.batch.core.step.tasklet.Tasklet;\r\nimport org.springframework.batch.item.file.FlatFileFooterCallback;\r\nimport org.springframework.batch.item.file.FlatFileHeaderCallback;\r\nimport org.springframework.batch.item.file.FlatFileItemWriter;\r\nimport org.springframework.batch.item.file.transform.PassThroughLineAggregator;\r\nimport org.springframework.batch.repeat.RepeatStatus;\r\nimport org.springframework.beans.MutablePropertyValues;\r\nimport org.springframework.beans.factory.config.ConfigurableListableBeanFactory;\r\nimport org.springframework.beans.factory.support.BeanDefinitionRegistry;\r\nimport org.springframework.beans.factory.support.GenericBeanDefinition;\r\nimport org.springframework.context.ConfigurableApplicationContext;\r\nimport org.springframework.core.io.FileSystemResource;\r\nimport org.springframework.jdbc.core.JdbcTemplate;\r\n\r\nclass DynamicWritersConfigurationTasklet implements Tasklet {\r\n\r\n    private JdbcTemplate jdbcTemplate;\r\n    private ConfigurableApplicationContext applicationContext;\r\n\r\n    public DynamicWritersConfigurationTasklet(JdbcTemplate jdbcTemplate, ConfigurableApplicationContext applicationContext) {\r\n        this.jdbcTemplate = jdbcTemplate;\r\n        this.applicationContext = applicationContext;\r\n    }\r\n\r\n    @Override\r\n    public RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) {\r\n        ConfigurableListableBeanFactory beanFactory = applicationContext.getBeanFactory();\r\n        BeanDefinitionRegistry registry = (BeanDefinitionRegistry) beanFactory;\r\n\r\n        String sql = &quot;select distinct(groupId) from student&quot;;\r\n        List&lt;Integer&gt; groups = jdbcTemplate.queryForList(sql, Integer.class);\r\n        for (Integer group : groups) {\r\n            String name = &quot;group&quot; + group + &quot;Writer&quot;;\r\n            GenericBeanDefinition beanDefinition = new GenericBeanDefinition();\r\n            beanDefinition.setBeanClassName(FlatFileItemWriter.class.getName());\r\n            MutablePropertyValues propertyValues = new MutablePropertyValues();\r\n            propertyValues.addPropertyValue(&quot;name&quot;, name);\r\n            propertyValues.addPropertyValue(&quot;lineAggregator&quot;, new PassThroughLineAggregator&lt;&gt;());\r\n            propertyValues.addPropertyValue(&quot;resource&quot;, new FileSystemResource(group + &quot;.txt&quot;));\r\n            propertyValues.addPropertyValue(&quot;headerCallback&quot;, (FlatFileHeaderCallback) writer -&gt; writer.write(&quot;header&quot;));\r\n            propertyValues.addPropertyValue(&quot;footerCallback&quot;, (FlatFileFooterCallback) writer -&gt; writer.write(&quot;footer&quot;));\r\n            beanDefinition.setPropertyValues(propertyValues);\r\n            registry.registerBeanDefinition(name, beanDefinition);\r\n        }\r\n        return RepeatStatus.FINISHED;\r\n    }\r\n\r\n}\r\n```\r\n\r\nOnce that in place, a second step loads those item writers from the application context **at runtime** and registers them as delegates in a `ClassifierCompositeItemWriter`:\r\n\r\n```\r\n@Bean\r\n@StepScope\r\npublic ClassifierCompositeItemWriter&lt;Student&gt; itemWriter(ConfigurableApplicationContext applicationContext) {\r\n    // dynamically get writers from the application context and register them as delegates in the composite\r\n    Map&lt;String, FlatFileItemWriter&gt; beansOfType = applicationContext.getBeansOfType(FlatFileItemWriter.class);\r\n    // Classify students by group\r\n    Classifier&lt;Student, FlatFileItemWriter&lt;Student&gt;&gt; classifier = student -&gt; beansOfType.get(&quot;group&quot; + student.getGroupId() + &quot;Writer&quot;);\r\n    return new ClassifierCompositeItemWriterBuilder()\r\n            .classifier(classifier)\r\n            .build();\r\n}\r\n\r\n@Bean\r\n@JobScope\r\npublic Step step2(StepBuilderFactory stepBuilderFactory, ConfigurableApplicationContext applicationContext, DataSource dataSource) {\r\n    SimpleStepBuilder&lt;Student, Student&gt; step2 = stepBuilderFactory.get(&quot;readWriteStudents&quot;)\r\n            .&lt;Student, Student&gt;chunk(2)\r\n            .reader(itemReader(dataSource))\r\n            .writer(itemWriter(applicationContext));\r\n\r\n    // register writers as streams in the step so that open/update/close are called correctly\r\n    Map&lt;String, FlatFileItemWriter&gt; beansOfType = applicationContext.getBeansOfType(FlatFileItemWriter.class);\r\n    for (FlatFileItemWriter flatFileItemWriter : beansOfType.values()) {\r\n        step2.stream(flatFileItemWriter);\r\n    }\r\n\r\n    return step2.build();\r\n}\r\n```\r\n\r\nI have a complete example here: [sample app for SO67604628](https://github.com/benas/spring-batch-lab/tree/main/issues/so67604628). Please refer to [this guide](https://github.com/benas/spring-batch-lab#how-to-checkout-a-single-project-folder) to see how to checkout a single folder (if you don&#39;t want to clone the entire repo). The sample generates 3 files with students grouped by groupId. Note how headers/footers are correctly generated since delegate writers are registered as streams in the step.","title":"Spring batch : ClassifierCompositeItemWriter footer not getting called","body":"<blockquote>\n<p>In my case, i don't have fixed number writers (foo &amp; boo in your case) and they will be dynamic and need to create at RUN time. Any suggestions on how to do it and register them to step?</p>\n</blockquote>\n<p>In that case, you need to:</p>\n<ol>\n<li>pre-calculate the possible distinct values (1, 2 and 4 in your case) with a query like <code>select distinct(id) from table</code> for example or a similar mechanism depending on you input data</li>\n<li>dynamically create <code>ItemWriter</code> beans and register them as streams in your step.</li>\n</ol>\n<p>The following is an example based on your use case: given a list of students in different groups, the idea is to write them in different files based on their group. Here is a tasklet that pre-calculates the distinct groups and creates/registers item writers dynamically in the application context:</p>\n<pre><code>import java.io.IOException;\nimport java.io.Writer;\nimport java.util.List;\n\nimport org.springframework.batch.core.StepContribution;\nimport org.springframework.batch.core.scope.context.ChunkContext;\nimport org.springframework.batch.core.step.tasklet.Tasklet;\nimport org.springframework.batch.item.file.FlatFileFooterCallback;\nimport org.springframework.batch.item.file.FlatFileHeaderCallback;\nimport org.springframework.batch.item.file.FlatFileItemWriter;\nimport org.springframework.batch.item.file.transform.PassThroughLineAggregator;\nimport org.springframework.batch.repeat.RepeatStatus;\nimport org.springframework.beans.MutablePropertyValues;\nimport org.springframework.beans.factory.config.ConfigurableListableBeanFactory;\nimport org.springframework.beans.factory.support.BeanDefinitionRegistry;\nimport org.springframework.beans.factory.support.GenericBeanDefinition;\nimport org.springframework.context.ConfigurableApplicationContext;\nimport org.springframework.core.io.FileSystemResource;\nimport org.springframework.jdbc.core.JdbcTemplate;\n\nclass DynamicWritersConfigurationTasklet implements Tasklet {\n\n    private JdbcTemplate jdbcTemplate;\n    private ConfigurableApplicationContext applicationContext;\n\n    public DynamicWritersConfigurationTasklet(JdbcTemplate jdbcTemplate, ConfigurableApplicationContext applicationContext) {\n        this.jdbcTemplate = jdbcTemplate;\n        this.applicationContext = applicationContext;\n    }\n\n    @Override\n    public RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) {\n        ConfigurableListableBeanFactory beanFactory = applicationContext.getBeanFactory();\n        BeanDefinitionRegistry registry = (BeanDefinitionRegistry) beanFactory;\n\n        String sql = &quot;select distinct(groupId) from student&quot;;\n        List&lt;Integer&gt; groups = jdbcTemplate.queryForList(sql, Integer.class);\n        for (Integer group : groups) {\n            String name = &quot;group&quot; + group + &quot;Writer&quot;;\n            GenericBeanDefinition beanDefinition = new GenericBeanDefinition();\n            beanDefinition.setBeanClassName(FlatFileItemWriter.class.getName());\n            MutablePropertyValues propertyValues = new MutablePropertyValues();\n            propertyValues.addPropertyValue(&quot;name&quot;, name);\n            propertyValues.addPropertyValue(&quot;lineAggregator&quot;, new PassThroughLineAggregator&lt;&gt;());\n            propertyValues.addPropertyValue(&quot;resource&quot;, new FileSystemResource(group + &quot;.txt&quot;));\n            propertyValues.addPropertyValue(&quot;headerCallback&quot;, (FlatFileHeaderCallback) writer -&gt; writer.write(&quot;header&quot;));\n            propertyValues.addPropertyValue(&quot;footerCallback&quot;, (FlatFileFooterCallback) writer -&gt; writer.write(&quot;footer&quot;));\n            beanDefinition.setPropertyValues(propertyValues);\n            registry.registerBeanDefinition(name, beanDefinition);\n        }\n        return RepeatStatus.FINISHED;\n    }\n\n}\n</code></pre>\n<p>Once that in place, a second step loads those item writers from the application context <strong>at runtime</strong> and registers them as delegates in a <code>ClassifierCompositeItemWriter</code>:</p>\n<pre><code>@Bean\n@StepScope\npublic ClassifierCompositeItemWriter&lt;Student&gt; itemWriter(ConfigurableApplicationContext applicationContext) {\n    // dynamically get writers from the application context and register them as delegates in the composite\n    Map&lt;String, FlatFileItemWriter&gt; beansOfType = applicationContext.getBeansOfType(FlatFileItemWriter.class);\n    // Classify students by group\n    Classifier&lt;Student, FlatFileItemWriter&lt;Student&gt;&gt; classifier = student -&gt; beansOfType.get(&quot;group&quot; + student.getGroupId() + &quot;Writer&quot;);\n    return new ClassifierCompositeItemWriterBuilder()\n            .classifier(classifier)\n            .build();\n}\n\n@Bean\n@JobScope\npublic Step step2(StepBuilderFactory stepBuilderFactory, ConfigurableApplicationContext applicationContext, DataSource dataSource) {\n    SimpleStepBuilder&lt;Student, Student&gt; step2 = stepBuilderFactory.get(&quot;readWriteStudents&quot;)\n            .&lt;Student, Student&gt;chunk(2)\n            .reader(itemReader(dataSource))\n            .writer(itemWriter(applicationContext));\n\n    // register writers as streams in the step so that open/update/close are called correctly\n    Map&lt;String, FlatFileItemWriter&gt; beansOfType = applicationContext.getBeansOfType(FlatFileItemWriter.class);\n    for (FlatFileItemWriter flatFileItemWriter : beansOfType.values()) {\n        step2.stream(flatFileItemWriter);\n    }\n\n    return step2.build();\n}\n</code></pre>\n<p>I have a complete example here: <a href=\"https://github.com/benas/spring-batch-lab/tree/main/issues/so67604628\" rel=\"nofollow noreferrer\">sample app for SO67604628</a>. Please refer to <a href=\"https://github.com/benas/spring-batch-lab#how-to-checkout-a-single-project-folder\" rel=\"nofollow noreferrer\">this guide</a> to see how to checkout a single folder (if you don't want to clone the entire repo). The sample generates 3 files with students grouped by groupId. Note how headers/footers are correctly generated since delegate writers are registered as streams in the step.</p>\n"}],"owner":{"account_id":18663603,"reputation":15,"user_id":13604183,"display_name":"RKP2019"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1354,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67635289,"answer_count":1,"score":1,"last_activity_date":1692287941,"creation_date":1621432363,"question_id":67604628,"body_markdown":"I am using Spring Batch to write multiple reports.\r\nRequirement is i will get records with BranchId and name. I need to create one file for each branchId and write respective data into that file along with some header and footer.\r\n\r\nExample:\r\n\r\n    Student A = new Student(&quot;A&quot;,1);\r\n        \tStudent B = new Student(&quot;B&quot;,2);\r\n        \tStudent C = new Student(&quot;C&quot;,1);\r\n        \tStudent D = new Student(&quot;D&quot;,4);\r\n\r\nIn this case it should create total 3 files \r\n   \r\n\r\n     file1--&gt;1.txt(with A,C)\r\n        file2--&gt;2.txt(with B)\r\n        file3--&gt;4.txt(with D))\r\n\r\n.\r\n\r\nI am using ClassifierCompositeItemWriter to create / reuse the FlatFileItemWriter based on data(id in this case) &amp; able to create the files successfully. \r\nFor header and footer - using callbacks at writer level.\r\nGenerated files are having only HEADER and DATA. But somehow FOOTER is not at all getting executed.\r\n\r\nLooks like some issues with **File closing before Footer or issue with usage of STEP SCOPE**.\r\n\r\nCan someone help me in getting the FOOTER called.\r\n\r\nhere is the code.\r\n\r\n```\r\n   \r\n\r\n     import java.util.Arrays;\r\n        import java.util.HashMap;\r\n        import java.util.Map;\r\n        \r\n        import org.springframework.batch.core.Job;\r\n        import org.springframework.batch.core.JobParameters;\r\n        import org.springframework.batch.core.configuration.annotation.EnableBatchProcessing;\r\n        import org.springframework.batch.core.configuration.annotation.JobBuilderFactory;\r\n        import org.springframework.batch.core.configuration.annotation.StepBuilderFactory;\r\n        import org.springframework.batch.core.configuration.annotation.StepScope;\r\n        import org.springframework.batch.core.launch.JobLauncher;\r\n        import org.springframework.batch.item.ExecutionContext;\r\n        import org.springframework.batch.item.ItemReader;\r\n        import org.springframework.batch.item.ItemWriter;\r\n        import org.springframework.batch.item.file.FlatFileItemWriter;\r\n        import org.springframework.batch.item.file.transform.BeanWrapperFieldExtractor;\r\n        import org.springframework.batch.item.file.transform.DelimitedLineAggregator;\r\n        import org.springframework.batch.item.support.ClassifierCompositeItemWriter;\r\n        import org.springframework.batch.item.support.ListItemReader;\r\n        import org.springframework.classify.Classifier;\r\n        import org.springframework.context.ApplicationContext;\r\n        import org.springframework.context.annotation.AnnotationConfigApplicationContext;\r\n        import org.springframework.context.annotation.Bean;\r\n        import org.springframework.context.annotation.Configuration;\r\n        import org.springframework.core.io.FileSystemResource;\r\n        \r\n        @Configuration\r\n        @EnableBatchProcessing\r\n        public class MyJob3 {\r\n        \r\n        \tpublic static void main(String[] args) throws Exception {\r\n        \t\tApplicationContext context = new AnnotationConfigApplicationContext(MyJob3.class);\r\n        \t\tJobLauncher jobLauncher = context.getBean(JobLauncher.class);\r\n        \t\tJob job = context.getBean(Job.class);\r\n        \t\tjobLauncher.run(job, new JobParameters());\r\n        \t}\r\n        \r\n        \t@Bean\r\n        \tpublic Job job(JobBuilderFactory jobs, StepBuilderFactory steps) {\r\n        \t\treturn jobs.get(&quot;job&quot;).start(steps.get(&quot;step&quot;).&lt;Student, Student&gt;chunk(5)\r\n        \t\t\t\t.reader(itemReader())\r\n        \t\t\t\t.writer(getStudentItemWriter(itemWriterClassifier()))\r\n        \t\t\t\t.build())\r\n        \t\t\t\t.build();\r\n        \t}\r\n        \r\n        \t@Bean\r\n        \t@StepScope\r\n        \tpublic ItemReader&lt;Student&gt; itemReader() {\r\n        \t\tStudent A = new Student(&quot;A&quot;, 1);\r\n        \t\tStudent B = new Student(&quot;B&quot;, 2);\r\n        \t\tStudent C = new Student(&quot;C&quot;, 1);\r\n        \t\tStudent D = new Student(&quot;D&quot;, 4);\r\n        \t\tStudent E = new Student(&quot;E&quot;, 4); \r\n        \r\n        \t\treturn new ListItemReader&lt;&gt;(Arrays.asList(A,B,C,D,E));\r\n        \t}\r\n        \r\n        \tMap&lt;Integer, FlatFileItemWriter&lt;Student&gt;&gt; map = new HashMap&lt;&gt;();\r\n        \r\n        \t@Bean\r\n        \t@StepScope\r\n        \tpublic ClassifierCompositeItemWriter&lt;Student&gt; getStudentItemWriter(Classifier&lt;Student, ItemWriter&lt;? super Student&gt;&gt; classifier) {\r\n        \t\tClassifierCompositeItemWriter&lt;Student&gt; compositeItemWriter = new ClassifierCompositeItemWriter&lt;&gt;();\r\n        \t\tcompositeItemWriter.setClassifier(classifier);\r\n        \t\treturn compositeItemWriter;\r\n        \t}\r\n        \r\n        \t@Bean\r\n        \t@StepScope\r\n        \tpublic Classifier&lt;Student, ItemWriter&lt;? super Student&gt;&gt; itemWriterClassifier() {\r\n        \t\treturn student -&gt; {\r\n        \r\n        \t\t\tSystem.out.println(&quot;Branch Id ::&quot; + student.getBranchId() + &quot; and Student Name&quot; + student.getName());\r\n        \t\t\tif (map.containsKey(student.getBranchId())) {\r\n        \t\t\t\tFlatFileItemWriter&lt;Student&gt; result = map.get(student.getBranchId());\r\n        \t\t\t\tSystem.out.println(&quot;Exising Writer object ::&quot; + result);\r\n        \t\t\t\treturn result;\r\n        \t\t\t}\r\n        \t\t\t\r\n        \t\t\tString fileName =&quot;Branch_Info_&quot; + student.getBranchId() + &quot;.txt&quot;;\r\n        \t\t\tBeanWrapperFieldExtractor&lt;Student&gt; fieldExtractor = new BeanWrapperFieldExtractor&lt;&gt;();\r\n        \t\t\tfieldExtractor.setNames(new String[] { &quot;branchId&quot;, &quot;name&quot; });\r\n        \t\t\tDelimitedLineAggregator&lt;Student&gt; lineAggregator = new DelimitedLineAggregator&lt;&gt;();\r\n        \t\t\tlineAggregator.setFieldExtractor(fieldExtractor);\r\n        \r\n        \t\t\tFlatFileItemWriter&lt;Student&gt; flatFileItemWriter = new FlatFileItemWriter&lt;&gt;();\r\n        \t\t\tflatFileItemWriter.setResource(new FileSystemResource(fileName));\r\n        \t\t\tflatFileItemWriter.setAppendAllowed(true);\r\n        \t\t\tflatFileItemWriter.setLineAggregator(lineAggregator);\r\n        \t\t\tSystem.out.println(&quot;Writing header...&quot;);\r\n        \t\t\tflatFileItemWriter.setHeaderCallback(writer -&gt; writer.write(&quot;Header&quot;));\r\n        \t\t\tSystem.out.println(&quot;Writing Footer...&quot;);\r\n        \t\t\tflatFileItemWriter.setFooterCallback(writer -&gt; writer.write(&quot;Footer&quot;));\r\n        \t\t\tSystem.out.println(&quot;Writing done...&quot;);\r\n        \t\t\tflatFileItemWriter.open(new ExecutionContext());\r\n        \r\n        \t\t\tmap.put(student.getBranchId(), flatFileItemWriter);\r\n        \r\n        \t\t\tSystem.out.println(&quot;New Writer object ::&quot; + flatFileItemWriter);\r\n        \t\t\treturn flatFileItemWriter;\r\n        \t\t};\r\n        \t}\r\n        }\r\n\r\n","title":"Spring batch : ClassifierCompositeItemWriter footer not getting called","body":"<p>I am using Spring Batch to write multiple reports.\nRequirement is i will get records with BranchId and name. I need to create one file for each branchId and write respective data into that file along with some header and footer.</p>\n<p>Example:</p>\n<pre><code>Student A = new Student(&quot;A&quot;,1);\n        Student B = new Student(&quot;B&quot;,2);\n        Student C = new Student(&quot;C&quot;,1);\n        Student D = new Student(&quot;D&quot;,4);\n</code></pre>\n<p>In this case it should create total 3 files</p>\n<pre><code> file1--&gt;1.txt(with A,C)\n    file2--&gt;2.txt(with B)\n    file3--&gt;4.txt(with D))\n</code></pre>\n<p>.</p>\n<p>I am using ClassifierCompositeItemWriter to create / reuse the FlatFileItemWriter based on data(id in this case) &amp; able to create the files successfully.\nFor header and footer - using callbacks at writer level.\nGenerated files are having only HEADER and DATA. But somehow FOOTER is not at all getting executed.</p>\n<p>Looks like some issues with <strong>File closing before Footer or issue with usage of STEP SCOPE</strong>.</p>\n<p>Can someone help me in getting the FOOTER called.</p>\n<p>here is the code.</p>\n<pre><code>   \n\n     import java.util.Arrays;\n        import java.util.HashMap;\n        import java.util.Map;\n        \n        import org.springframework.batch.core.Job;\n        import org.springframework.batch.core.JobParameters;\n        import org.springframework.batch.core.configuration.annotation.EnableBatchProcessing;\n        import org.springframework.batch.core.configuration.annotation.JobBuilderFactory;\n        import org.springframework.batch.core.configuration.annotation.StepBuilderFactory;\n        import org.springframework.batch.core.configuration.annotation.StepScope;\n        import org.springframework.batch.core.launch.JobLauncher;\n        import org.springframework.batch.item.ExecutionContext;\n        import org.springframework.batch.item.ItemReader;\n        import org.springframework.batch.item.ItemWriter;\n        import org.springframework.batch.item.file.FlatFileItemWriter;\n        import org.springframework.batch.item.file.transform.BeanWrapperFieldExtractor;\n        import org.springframework.batch.item.file.transform.DelimitedLineAggregator;\n        import org.springframework.batch.item.support.ClassifierCompositeItemWriter;\n        import org.springframework.batch.item.support.ListItemReader;\n        import org.springframework.classify.Classifier;\n        import org.springframework.context.ApplicationContext;\n        import org.springframework.context.annotation.AnnotationConfigApplicationContext;\n        import org.springframework.context.annotation.Bean;\n        import org.springframework.context.annotation.Configuration;\n        import org.springframework.core.io.FileSystemResource;\n        \n        @Configuration\n        @EnableBatchProcessing\n        public class MyJob3 {\n        \n            public static void main(String[] args) throws Exception {\n                ApplicationContext context = new AnnotationConfigApplicationContext(MyJob3.class);\n                JobLauncher jobLauncher = context.getBean(JobLauncher.class);\n                Job job = context.getBean(Job.class);\n                jobLauncher.run(job, new JobParameters());\n            }\n        \n            @Bean\n            public Job job(JobBuilderFactory jobs, StepBuilderFactory steps) {\n                return jobs.get(&quot;job&quot;).start(steps.get(&quot;step&quot;).&lt;Student, Student&gt;chunk(5)\n                        .reader(itemReader())\n                        .writer(getStudentItemWriter(itemWriterClassifier()))\n                        .build())\n                        .build();\n            }\n        \n            @Bean\n            @StepScope\n            public ItemReader&lt;Student&gt; itemReader() {\n                Student A = new Student(&quot;A&quot;, 1);\n                Student B = new Student(&quot;B&quot;, 2);\n                Student C = new Student(&quot;C&quot;, 1);\n                Student D = new Student(&quot;D&quot;, 4);\n                Student E = new Student(&quot;E&quot;, 4); \n        \n                return new ListItemReader&lt;&gt;(Arrays.asList(A,B,C,D,E));\n            }\n        \n            Map&lt;Integer, FlatFileItemWriter&lt;Student&gt;&gt; map = new HashMap&lt;&gt;();\n        \n            @Bean\n            @StepScope\n            public ClassifierCompositeItemWriter&lt;Student&gt; getStudentItemWriter(Classifier&lt;Student, ItemWriter&lt;? super Student&gt;&gt; classifier) {\n                ClassifierCompositeItemWriter&lt;Student&gt; compositeItemWriter = new ClassifierCompositeItemWriter&lt;&gt;();\n                compositeItemWriter.setClassifier(classifier);\n                return compositeItemWriter;\n            }\n        \n            @Bean\n            @StepScope\n            public Classifier&lt;Student, ItemWriter&lt;? super Student&gt;&gt; itemWriterClassifier() {\n                return student -&gt; {\n        \n                    System.out.println(&quot;Branch Id ::&quot; + student.getBranchId() + &quot; and Student Name&quot; + student.getName());\n                    if (map.containsKey(student.getBranchId())) {\n                        FlatFileItemWriter&lt;Student&gt; result = map.get(student.getBranchId());\n                        System.out.println(&quot;Exising Writer object ::&quot; + result);\n                        return result;\n                    }\n                    \n                    String fileName =&quot;Branch_Info_&quot; + student.getBranchId() + &quot;.txt&quot;;\n                    BeanWrapperFieldExtractor&lt;Student&gt; fieldExtractor = new BeanWrapperFieldExtractor&lt;&gt;();\n                    fieldExtractor.setNames(new String[] { &quot;branchId&quot;, &quot;name&quot; });\n                    DelimitedLineAggregator&lt;Student&gt; lineAggregator = new DelimitedLineAggregator&lt;&gt;();\n                    lineAggregator.setFieldExtractor(fieldExtractor);\n        \n                    FlatFileItemWriter&lt;Student&gt; flatFileItemWriter = new FlatFileItemWriter&lt;&gt;();\n                    flatFileItemWriter.setResource(new FileSystemResource(fileName));\n                    flatFileItemWriter.setAppendAllowed(true);\n                    flatFileItemWriter.setLineAggregator(lineAggregator);\n                    System.out.println(&quot;Writing header...&quot;);\n                    flatFileItemWriter.setHeaderCallback(writer -&gt; writer.write(&quot;Header&quot;));\n                    System.out.println(&quot;Writing Footer...&quot;);\n                    flatFileItemWriter.setFooterCallback(writer -&gt; writer.write(&quot;Footer&quot;));\n                    System.out.println(&quot;Writing done...&quot;);\n                    flatFileItemWriter.open(new ExecutionContext());\n        \n                    map.put(student.getBranchId(), flatFileItemWriter);\n        \n                    System.out.println(&quot;New Writer object ::&quot; + flatFileItemWriter);\n                    return flatFileItemWriter;\n                };\n            }\n        }\n\n</code></pre>\n"},{"tags":["java","screen-scraping","mainframe"],"comments":[{"owner":{"account_id":22086,"reputation":14236,"user_id":54200,"accept_rate":83,"display_name":"KevinDTimm"},"score":0,"creation_date":1291751529,"post_id":4380891,"comment_id":4772146,"body_markdown":"In the righthand column, the following link seems to answer your question : http://stackoverflow.com/questions/1302484/screen-scraping-a-mainframe-screen-in-c-without-3rd-party-utilities","body":"In the righthand column, the following link seems to answer your question : <a href=\"http://stackoverflow.com/questions/1302484/screen-scraping-a-mainframe-screen-in-c-without-3rd-party-utilities\" title=\"screen scraping a mainframe screen in c without 3rd party utilities\">stackoverflow.com/questions/1302484/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":98609,"reputation":555,"user_id":266808,"accept_rate":88,"display_name":"Magwich"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1291751905,"creation_date":1291751905,"answer_id":4380997,"question_id":4380891,"body_markdown":"I believe you will need to make a macro or module with Visual Basic for Attachemate&#39;s Reflecitons product.  Have your VB macro save the data somewhere and then your Java program can read it.","title":"Screen scraping a mainframe screen in java?","body":"<p>I believe you will need to make a macro or module with Visual Basic for Attachemate's Reflecitons product.  Have your VB macro save the data somewhere and then your Java program can read it.</p>\n"},{"comments":[{"owner":{"account_id":250463,"reputation":81721,"user_id":527185,"accept_rate":100,"display_name":"Chandu"},"score":1,"creation_date":1342635421,"post_id":5766546,"comment_id":15270682,"body_markdown":"For anyone looking for the software its called IBM HATS (Host Access Transformation Services) Toolkit . http://www-01.ibm.com/software/webservers/hats/","body":"For anyone looking for the software its called IBM HATS (Host Access Transformation Services) Toolkit . <a href=\"http://www-01.ibm.com/software/webservers/hats/\" rel=\"nofollow noreferrer\">www-01.ibm.com/software/webservers/hats</a>"}],"tags":[],"owner":{"account_id":138967,"reputation":4238,"user_id":344249,"accept_rate":71,"display_name":"Joe Zitzelberger"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1303588683,"creation_date":1303588683,"answer_id":5766546,"question_id":4380891,"body_markdown":"IBM used to offer a package that would allow TN3270 connections from straight Java.  I can&#39;t remember the name of the package, but if you can find that, you wouldn&#39;t need Attachmate at all.","title":"Screen scraping a mainframe screen in java?","body":"<p>IBM used to offer a package that would allow TN3270 connections from straight Java.  I can't remember the name of the package, but if you can find that, you wouldn't need Attachmate at all.</p>\n"}],"owner":{"account_id":253600,"reputation":6060,"user_id":532434,"accept_rate":100,"display_name":"Ritesh Mengji"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2935,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1692321228,"accepted_answer_id":5766546,"answer_count":2,"score":2,"last_activity_date":1692287250,"creation_date":1291751101,"question_id":4380891,"body_markdown":"I am new to programming world, and in my project I need to screen scrape a mainframe screen using attachmate? Can anyone tell me what exactly screen scraping is and how does it work?\r\n\r\nThanks in advance. ","title":"Screen scraping a mainframe screen in java?","body":"<p>I am new to programming world, and in my project I need to screen scrape a mainframe screen using attachmate? Can anyone tell me what exactly screen scraping is and how does it work?</p>\n\n<p>Thanks in advance. </p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692289362,"post_id":76923094,"comment_id":135606209,"body_markdown":"Well - *C:\\Users\\user\\.mailcap* **Is** that file present?","body":"Well - <i>C:\\Users\\user\\.mailcap</i> <b>Is</b> that file present?"}],"owner":{"account_id":23002260,"reputation":21,"user_id":17126066,"display_name":"Lubom&#237;r R&#253;gl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692287005,"creation_date":1692287005,"question_id":76923094,"body_markdown":"I have an application that is sending emails trough gmail. I have credentials setup and everything works fine on one machine, but throws java.io.FileNotFoundException: C:\\Users\\User\\.mailcap (System cannot find the file) on a different machine. The code is exactly the same\r\n\r\n```java\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class EmailServiceUtils {\r\n\r\n    private final JavaMailSender mailSender;\r\n    private final TemplateEngine templateEngine;\r\n\r\n    //TODO change method to accept other variables as a hashmap\r\n\r\n    public void sendEmail(String to, String subject, Map&lt;String, String&gt; templateVariables, String templateFilePath) throws MessagingException, IOException {\r\n        MimeMessage message = mailSender.createMimeMessage();\r\n        MimeMessageHelper helper = new MimeMessageHelper(message, true, &quot;utf-8&quot;);\r\n        helper.setTo(to);\r\n        helper.setSubject(subject);\r\n\r\n        // Load and process the HTML template\r\n        String htmlContent = loadAndProcessTemplate(templateVariables, templateFilePath);\r\n        helper.setText(htmlContent, true);\r\n        mailSender.send(message);\r\n    }\r\n\r\n    private String loadAndProcessTemplate(Map&lt;String, String&gt; templateVariables, String templateFilePath) {\r\n        Context context = new Context();\r\n\r\n        //Step through all items in templateVariables map and set them as variable for thymeleaf template\r\n        for (Map.Entry&lt;String, String&gt; entry : templateVariables.entrySet()) {\r\n            context.setVariable(entry.getKey(), entry.getValue());\r\n        }\r\n\r\n        // Process the template with variables\r\n        return templateEngine.process(templateFilePath, context);\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe error in question\r\n\r\n```\r\n2023-08-17T17:37:40.365+02:00 DEBUG 10472 --- [nio-8080-exec-2] com.sun.mail.smtp                        : Using mechanism LOGIN\r\n2023-08-17T17:37:40.636+02:00 DEBUG 10472 --- [nio-8080-exec-2] jakarta.activation                       : MailcapCommandMap: load HOME\r\n2023-08-17T17:37:40.637+02:00 DEBUG 10472 --- [nio-8080-exec-2] jakarta.activation                       : Checking system property jakarta.activation.spi.MailcapRegistryProvider\r\n2023-08-17T17:37:40.637+02:00 DEBUG 10472 --- [nio-8080-exec-2] jakarta.activation                       :   not found\r\n2023-08-17T17:37:40.637+02:00 DEBUG 10472 --- [nio-8080-exec-2] jakarta.activation                       : Using java.util.ServiceLoader to find jakarta.activation.spi.MailcapRegistryProvider\r\n2023-08-17T17:37:40.638+02:00 DEBUG 10472 --- [nio-8080-exec-2] jakarta.activation                       : ServiceProvider loading Facility used; returning object [org.eclipse.angus.activation.MailcapRegistryProviderImpl]\r\n2023-08-17T17:37:40.639+02:00 DEBUG 10472 --- [nio-8080-exec-2] angus.activation                         : new MailcapFile: file C:\\Users\\user\\.mailcap\r\n2023-08-17T17:37:40.639+02:00 DEBUG 10472 --- [nio-8080-exec-2] jakarta.activation                       : MailcapRegistry: can&#39;t load from file - C:\\Users\\user\\.mailcap\r\n\r\njava.io.FileNotFoundException: C:\\Users\\user\\.mailcap (Syst&#233;m nemůže nal&#233;zt uveden&#253; soubor)\r\n\tat java.base/java.io.FileInputStream.open0(Native Method) ~[na:na]\r\n\tat java.base/java.io.FileInputStream.open(FileInputStream.java:216) ~[na:na]\r\n\tat java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157) ~[na:na]\r\n\tat java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:111) ~[na:na]\r\n\tat java.base/java.io.FileReader.&lt;init&gt;(FileReader.java:60) ~[na:na]\r\n\tat org.eclipse.angus.activation.MailcapFile.&lt;init&gt;(MailcapFile.java:71) ~[angus-activation-2.0.1.jar:na]\r\n\tat org.eclipse.angus.activation.MailcapRegistryProviderImpl.getByFileName(MailcapRegistryProviderImpl.java:29) ~[angus-activation-2.0.1.jar:na]\r\n\tat jakarta.activation.MailcapCommandMap.loadFile(MailcapCommandMap.java:284) ~[jakarta.activation-api-2.1.2.jar:na]\r\n\tat jakarta.activation.MailcapCommandMap.&lt;init&gt;(MailcapCommandMap.java:154) ~[jakarta.activation-api-2.1.2.jar:na]\r\n\tat jakarta.activation.CommandMap.getDefaultCommandMap(CommandMap.java:60) ~[jakarta.activation-api-2.1.2.jar:na]\r\n\tat jakarta.activation.DataHandler.getCommandMap(DataHandler.java:128) ~[jakarta.activation-api-2.1.2.jar:na]\r\n\tat jakarta.activation.DataHandler.getDataContentHandler(DataHandler.java:590) ~[jakarta.activation-api-2.1.2.jar:na]\r\n\tat jakarta.activation.DataHandler.writeTo(DataHandler.java:290) ~[jakarta.activation-api-2.1.2.jar:na]\r\n\tat jakarta.mail.internet.MimeUtility.getEncoding(MimeUtility.java:316) ~[jakarta.mail-1.1.0.jar:na]\r\n\tat jakarta.mail.internet.MimeBodyPart.updateHeaders(MimeBodyPart.java:1580) ~[jakarta.mail-1.1.0.jar:na]\r\n\tat jakarta.mail.internet.MimeBodyPart.updateHeaders(MimeBodyPart.java:1177) ~[jakarta.mail-1.1.0.jar:na]\r\n\tat jakarta.mail.internet.MimeMultipart.updateHeaders(MimeMultipart.java:510) ~[jakarta.mail-1.1.0.jar:na]\r\n\tat jakarta.mail.internet.MimeBodyPart.updateHeaders(MimeBodyPart.java:1538) ~[jakarta.mail-1.1.0.jar:na]\r\n\tat jakarta.mail.internet.MimeBodyPart.updateHeaders(MimeBodyPart.java:1177) ~[jakarta.mail-1.1.0.jar:na]\r\n\tat jakarta.mail.internet.MimeMultipart.updateHeaders(MimeMultipart.java:510) ~[jakarta.mail-1.1.0.jar:na]\r\n\tat jakarta.mail.internet.MimeBodyPart.updateHeaders(MimeBodyPart.java:1538) ~[jakarta.mail-1.1.0.jar:na]\r\n\tat jakarta.mail.internet.MimeMessage.updateHeaders(MimeMessage.java:2265) ~[jakarta.mail-1.1.0.jar:na]\r\n\tat jakarta.mail.internet.MimeMessage.saveChanges(MimeMessage.java:2225) ~[jakarta.mail-1.1.0.jar:na]\r\n\tat org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:459) ~[spring-context-support-6.0.10.jar:6.0.10]\r\n\tat org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:361) ~[spring-context-support-6.0.10.jar:6.0.10]\r\n\tat org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:356) ~[spring-context-support-6.0.10.jar:6.0.10]\r\n\tat com.voucherservice.evoucher.Utils.EmailServiceUtils.sendEmail(EmailServiceUtils.java:33) ~[classes/:na]\r\n\tat com.voucherservice.evoucher.Service.Impl.AuthenticationServiceImpl.register(AuthenticationServiceImpl.java:83) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat com.voucherservice.evoucher.Performance.PerformanceLoggingAspect.logPerformance(PerformanceLoggingAspect.java:25) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat com.voucherservice.evoucher.Service.Impl.AuthenticationServiceImpl$$SpringCGLIB$$0.register(&lt;generated&gt;) ~[classes/:na]\r\n\tat com.voucherservice.evoucher.Controller.AuthenticationController.register(AuthenticationController.java:30) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.10.jar:6.0.10]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.10.jar:6.0.10]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.10.jar:6.0.10]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.10.jar:6.0.10]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.10.jar:6.0.10]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.10.jar:6.0.10]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.10.jar:6.0.10]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.10.jar:6.0.10]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.10.jar:6.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.10.jar:6.0.10]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.10.jar:6.0]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat com.voucherservice.evoucher.Configuration.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:35) ~[classes/:na]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n2023-08-17T17:37:40.641+02:00 DEBUG 10472 --- [nio-8080-exec-2] jakarta.activation                       : MailcapCommandMap: load SYS\r\n2023-08-17T17:37:40.641+02:00 DEBUG 10472 --- [nio-8080-exec-2] jakarta.activation                       : Checking system property jakarta.activation.spi.MailcapRegistryProvider\r\n2023-08-17T17:37:40.642+02:00 DEBUG 10472 --- [nio-8080-exec-2] jakarta.activation                       :   not found\r\n2023-08-17T17:37:40.642+02:00 DEBUG 10472 --- [nio-8080-exec-2] jakarta.activation                       : Using java.util.ServiceLoader to find jakarta.activation.spi.MailcapRegistryProvider\r\n2023-08-17T17:37:40.642+02:00 DEBUG 10472 --- [nio-8080-exec-2] jakarta.activation                       : ServiceProvider loading Facility used; returning object [org.eclipse.angus.activation.MailcapRegistryProviderImpl]\r\n2023-08-17T17:37:40.642+02:00 DEBUG 10472 --- [nio-8080-exec-2] angus.activation                         : new MailcapFile: file C:\\Users\\user\\.jdks\\corretto-17.0.7\\conf\\mailcap\r\n2023-08-17T17:37:40.643+02:00 DEBUG 10472 --- [nio-8080-exec-2] jakarta.activation                       : MailcapRegistry: can&#39;t load from file - C:\\Users\\user\\.jdks\\corretto-17.0.7\\conf\\mailcap\r\n ```\r\n\r\nThis is an odd error as the same app with the same configuration works on one system and then fails on another.","title":"Java Mail sender .mailcap not found","body":"<p>I have an application that is sending emails trough gmail. I have credentials setup and everything works fine on one machine, but throws java.io.FileNotFoundException: C:\\Users\\User.mailcap (System cannot find the file) on a different machine. The code is exactly the same</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@RequiredArgsConstructor\npublic class EmailServiceUtils {\n\n    private final JavaMailSender mailSender;\n    private final TemplateEngine templateEngine;\n\n    //TODO change method to accept other variables as a hashmap\n\n    public void sendEmail(String to, String subject, Map&lt;String, String&gt; templateVariables, String templateFilePath) throws MessagingException, IOException {\n        MimeMessage message = mailSender.createMimeMessage();\n        MimeMessageHelper helper = new MimeMessageHelper(message, true, &quot;utf-8&quot;);\n        helper.setTo(to);\n        helper.setSubject(subject);\n\n        // Load and process the HTML template\n        String htmlContent = loadAndProcessTemplate(templateVariables, templateFilePath);\n        helper.setText(htmlContent, true);\n        mailSender.send(message);\n    }\n\n    private String loadAndProcessTemplate(Map&lt;String, String&gt; templateVariables, String templateFilePath) {\n        Context context = new Context();\n\n        //Step through all items in templateVariables map and set them as variable for thymeleaf template\n        for (Map.Entry&lt;String, String&gt; entry : templateVariables.entrySet()) {\n            context.setVariable(entry.getKey(), entry.getValue());\n        }\n\n        // Process the template with variables\n        return templateEngine.process(templateFilePath, context);\n    }\n\n}\n</code></pre>\n<p>The error in question</p>\n<pre><code>2023-08-17T17:37:40.365+02:00 DEBUG 10472 --- [nio-8080-exec-2] com.sun.mail.smtp                        : Using mechanism LOGIN\n2023-08-17T17:37:40.636+02:00 DEBUG 10472 --- [nio-8080-exec-2] jakarta.activation                       : MailcapCommandMap: load HOME\n2023-08-17T17:37:40.637+02:00 DEBUG 10472 --- [nio-8080-exec-2] jakarta.activation                       : Checking system property jakarta.activation.spi.MailcapRegistryProvider\n2023-08-17T17:37:40.637+02:00 DEBUG 10472 --- [nio-8080-exec-2] jakarta.activation                       :   not found\n2023-08-17T17:37:40.637+02:00 DEBUG 10472 --- [nio-8080-exec-2] jakarta.activation                       : Using java.util.ServiceLoader to find jakarta.activation.spi.MailcapRegistryProvider\n2023-08-17T17:37:40.638+02:00 DEBUG 10472 --- [nio-8080-exec-2] jakarta.activation                       : ServiceProvider loading Facility used; returning object [org.eclipse.angus.activation.MailcapRegistryProviderImpl]\n2023-08-17T17:37:40.639+02:00 DEBUG 10472 --- [nio-8080-exec-2] angus.activation                         : new MailcapFile: file C:\\Users\\user\\.mailcap\n2023-08-17T17:37:40.639+02:00 DEBUG 10472 --- [nio-8080-exec-2] jakarta.activation                       : MailcapRegistry: can't load from file - C:\\Users\\user\\.mailcap\n\njava.io.FileNotFoundException: C:\\Users\\user\\.mailcap (Systém nemůže nalézt uvedený soubor)\n    at java.base/java.io.FileInputStream.open0(Native Method) ~[na:na]\n    at java.base/java.io.FileInputStream.open(FileInputStream.java:216) ~[na:na]\n    at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157) ~[na:na]\n    at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:111) ~[na:na]\n    at java.base/java.io.FileReader.&lt;init&gt;(FileReader.java:60) ~[na:na]\n    at org.eclipse.angus.activation.MailcapFile.&lt;init&gt;(MailcapFile.java:71) ~[angus-activation-2.0.1.jar:na]\n    at org.eclipse.angus.activation.MailcapRegistryProviderImpl.getByFileName(MailcapRegistryProviderImpl.java:29) ~[angus-activation-2.0.1.jar:na]\n    at jakarta.activation.MailcapCommandMap.loadFile(MailcapCommandMap.java:284) ~[jakarta.activation-api-2.1.2.jar:na]\n    at jakarta.activation.MailcapCommandMap.&lt;init&gt;(MailcapCommandMap.java:154) ~[jakarta.activation-api-2.1.2.jar:na]\n    at jakarta.activation.CommandMap.getDefaultCommandMap(CommandMap.java:60) ~[jakarta.activation-api-2.1.2.jar:na]\n    at jakarta.activation.DataHandler.getCommandMap(DataHandler.java:128) ~[jakarta.activation-api-2.1.2.jar:na]\n    at jakarta.activation.DataHandler.getDataContentHandler(DataHandler.java:590) ~[jakarta.activation-api-2.1.2.jar:na]\n    at jakarta.activation.DataHandler.writeTo(DataHandler.java:290) ~[jakarta.activation-api-2.1.2.jar:na]\n    at jakarta.mail.internet.MimeUtility.getEncoding(MimeUtility.java:316) ~[jakarta.mail-1.1.0.jar:na]\n    at jakarta.mail.internet.MimeBodyPart.updateHeaders(MimeBodyPart.java:1580) ~[jakarta.mail-1.1.0.jar:na]\n    at jakarta.mail.internet.MimeBodyPart.updateHeaders(MimeBodyPart.java:1177) ~[jakarta.mail-1.1.0.jar:na]\n    at jakarta.mail.internet.MimeMultipart.updateHeaders(MimeMultipart.java:510) ~[jakarta.mail-1.1.0.jar:na]\n    at jakarta.mail.internet.MimeBodyPart.updateHeaders(MimeBodyPart.java:1538) ~[jakarta.mail-1.1.0.jar:na]\n    at jakarta.mail.internet.MimeBodyPart.updateHeaders(MimeBodyPart.java:1177) ~[jakarta.mail-1.1.0.jar:na]\n    at jakarta.mail.internet.MimeMultipart.updateHeaders(MimeMultipart.java:510) ~[jakarta.mail-1.1.0.jar:na]\n    at jakarta.mail.internet.MimeBodyPart.updateHeaders(MimeBodyPart.java:1538) ~[jakarta.mail-1.1.0.jar:na]\n    at jakarta.mail.internet.MimeMessage.updateHeaders(MimeMessage.java:2265) ~[jakarta.mail-1.1.0.jar:na]\n    at jakarta.mail.internet.MimeMessage.saveChanges(MimeMessage.java:2225) ~[jakarta.mail-1.1.0.jar:na]\n    at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:459) ~[spring-context-support-6.0.10.jar:6.0.10]\n    at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:361) ~[spring-context-support-6.0.10.jar:6.0.10]\n    at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:356) ~[spring-context-support-6.0.10.jar:6.0.10]\n    at com.voucherservice.evoucher.Utils.EmailServiceUtils.sendEmail(EmailServiceUtils.java:33) ~[classes/:na]\n    at com.voucherservice.evoucher.Service.Impl.AuthenticationServiceImpl.register(AuthenticationServiceImpl.java:83) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.10.jar:6.0.10]\n    at com.voucherservice.evoucher.Performance.PerformanceLoggingAspect.logPerformance(PerformanceLoggingAspect.java:25) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-6.0.10.jar:6.0.10]\n    at com.voucherservice.evoucher.Service.Impl.AuthenticationServiceImpl$$SpringCGLIB$$0.register(&lt;generated&gt;) ~[classes/:na]\n    at com.voucherservice.evoucher.Controller.AuthenticationController.register(AuthenticationController.java:30) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.10.jar:6.0.10]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.10.jar:6.0.10]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.10.jar:6.0.10]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.10.jar:6.0.10]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.10.jar:6.0.10]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.10.jar:6.0.10]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.10.jar:6.0.10]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.10.jar:6.0.10]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.10.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.10.jar:6.0.10]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.10.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at com.voucherservice.evoucher.Configuration.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:35) ~[classes/:na]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n\n2023-08-17T17:37:40.641+02:00 DEBUG 10472 --- [nio-8080-exec-2] jakarta.activation                       : MailcapCommandMap: load SYS\n2023-08-17T17:37:40.641+02:00 DEBUG 10472 --- [nio-8080-exec-2] jakarta.activation                       : Checking system property jakarta.activation.spi.MailcapRegistryProvider\n2023-08-17T17:37:40.642+02:00 DEBUG 10472 --- [nio-8080-exec-2] jakarta.activation                       :   not found\n2023-08-17T17:37:40.642+02:00 DEBUG 10472 --- [nio-8080-exec-2] jakarta.activation                       : Using java.util.ServiceLoader to find jakarta.activation.spi.MailcapRegistryProvider\n2023-08-17T17:37:40.642+02:00 DEBUG 10472 --- [nio-8080-exec-2] jakarta.activation                       : ServiceProvider loading Facility used; returning object [org.eclipse.angus.activation.MailcapRegistryProviderImpl]\n2023-08-17T17:37:40.642+02:00 DEBUG 10472 --- [nio-8080-exec-2] angus.activation                         : new MailcapFile: file C:\\Users\\user\\.jdks\\corretto-17.0.7\\conf\\mailcap\n2023-08-17T17:37:40.643+02:00 DEBUG 10472 --- [nio-8080-exec-2] jakarta.activation                       : MailcapRegistry: can't load from file - C:\\Users\\user\\.jdks\\corretto-17.0.7\\conf\\mailcap\n</code></pre>\n<p>This is an odd error as the same app with the same configuration works on one system and then fails on another.</p>\n"},{"tags":["java","spring","spring-mvc","spring-security"],"answers":[{"tags":[],"owner":{"account_id":2515170,"reputation":1590,"user_id":2186777,"accept_rate":83,"display_name":"fl4l"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692286996,"creation_date":1692286642,"answer_id":76923042,"question_id":76732095,"body_markdown":"After days of debugging, I definitively associated the behavior to the session management.\r\nI noticed on the browser cookies that now are present multiple entries of JSESSIONID. The old build in Spring 3 / Java 8 running on JBoss 7 was having only one occurrence:\r\n\r\n    Cookie: JSESSIONID=0F7B1332F8F3D06021746ED547F58B02;JSESSIONID=0F7B1332F8F3D06021746ED547F58B02.20200749-ait; JSESSIONID=S4OXEvR5XykB1YXwIJPnTClFLhiDhyZ7CmsETvkP.20200749-ait; JSESSIONID=y0nsoBTMQumwTi78Zldue-wLx8qPmDnJKJSBUQzz.20200749-ait; _ga=GA1.1.493020884.1689330358; _ga_SR3H6G8EBP=GS1.1.1689330374.1.1.1689330525.0.0.0; preferredLanguage=en\r\n\r\nIn order to solve, even if probably it is not the best solution, I simply needed to customize the application cookie name in web.xml:\r\n\r\n      &lt;session-config&gt;\r\n        &lt;session-timeout&gt;15&lt;/session-timeout&gt;\r\n        &lt;cookie-config&gt;\r\n          &lt;name&gt;CUSTOM_SESSION_ID&lt;/name&gt;\r\n          &lt;path&gt;/myApplication&lt;/path&gt;\r\n          &lt;http-only&gt;true&lt;/http-only&gt;\r\n          &lt;secure&gt;true&lt;/secure&gt;\r\n        &lt;/cookie-config&gt;\r\n        &lt;tracking-mode&gt;COOKIE&lt;/tracking-mode&gt;\r\n      &lt;/session-config&gt;\r\n\r\nNow the cookie is something similar to:\r\n\r\n    Cookie: JSESSIONID=0F7B1332F8F3D06021746ED547F58B02 JSESSIONID=0F7B1332F8F3D06021746ED547F58B02.20200749-ait; CUSTOM_SESSION_ID=S4OXEvR5XykB1YXwIJPnTClFLhiDhyZ7CmsETvkP.20200749-ait;  _ga=GA1.1.493020884.1689330358; _ga_SR3H6G8EBP=GS1.1.1689330374.1.1.1689330525.0.0.0; preferredLanguage=en\r\n\r\nNow I have the custom cookie and also several JSESSIONID, as if it is managed outside the application. Consider that I&#39;m testing the application on my laptop running Wildfly locally, not in an enterprise environment.&lt;br&gt;\r\nI&#39;m currently not able to say if the above behavior of multiple entries of JSESSIONID was generated by WildFly 26 or the newer version of Spring/SpringSecurity, in my researches I don&#39;t find anything about it.&lt;br&gt;\r\nWho set the JSESSIONID?&lt;br&gt;I hope this helps, any clarification is appreciated.","title":"Spring Security 3.11 app migration to 5.7: login success but anonymous user","body":"<p>After days of debugging, I definitively associated the behavior to the session management.\nI noticed on the browser cookies that now are present multiple entries of JSESSIONID. The old build in Spring 3 / Java 8 running on JBoss 7 was having only one occurrence:</p>\n<pre><code>Cookie: JSESSIONID=0F7B1332F8F3D06021746ED547F58B02;JSESSIONID=0F7B1332F8F3D06021746ED547F58B02.20200749-ait; JSESSIONID=S4OXEvR5XykB1YXwIJPnTClFLhiDhyZ7CmsETvkP.20200749-ait; JSESSIONID=y0nsoBTMQumwTi78Zldue-wLx8qPmDnJKJSBUQzz.20200749-ait; _ga=GA1.1.493020884.1689330358; _ga_SR3H6G8EBP=GS1.1.1689330374.1.1.1689330525.0.0.0; preferredLanguage=en\n</code></pre>\n<p>In order to solve, even if probably it is not the best solution, I simply needed to customize the application cookie name in web.xml:</p>\n<pre><code>  &lt;session-config&gt;\n    &lt;session-timeout&gt;15&lt;/session-timeout&gt;\n    &lt;cookie-config&gt;\n      &lt;name&gt;CUSTOM_SESSION_ID&lt;/name&gt;\n      &lt;path&gt;/myApplication&lt;/path&gt;\n      &lt;http-only&gt;true&lt;/http-only&gt;\n      &lt;secure&gt;true&lt;/secure&gt;\n    &lt;/cookie-config&gt;\n    &lt;tracking-mode&gt;COOKIE&lt;/tracking-mode&gt;\n  &lt;/session-config&gt;\n</code></pre>\n<p>Now the cookie is something similar to:</p>\n<pre><code>Cookie: JSESSIONID=0F7B1332F8F3D06021746ED547F58B02 JSESSIONID=0F7B1332F8F3D06021746ED547F58B02.20200749-ait; CUSTOM_SESSION_ID=S4OXEvR5XykB1YXwIJPnTClFLhiDhyZ7CmsETvkP.20200749-ait;  _ga=GA1.1.493020884.1689330358; _ga_SR3H6G8EBP=GS1.1.1689330374.1.1.1689330525.0.0.0; preferredLanguage=en\n</code></pre>\n<p>Now I have the custom cookie and also several JSESSIONID, as if it is managed outside the application. Consider that I'm testing the application on my laptop running Wildfly locally, not in an enterprise environment.<br>\nI'm currently not able to say if the above behavior of multiple entries of JSESSIONID was generated by WildFly 26 or the newer version of Spring/SpringSecurity, in my researches I don't find anything about it.<br>\nWho set the JSESSIONID?<br>I hope this helps, any clarification is appreciated.</p>\n"}],"owner":{"account_id":2515170,"reputation":1590,"user_id":2186777,"accept_rate":83,"display_name":"fl4l"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692286996,"creation_date":1689872048,"question_id":76732095,"body_markdown":"I&#39;m migrating a quite old application in Spring 3.1.1 + Spring Security 3.1.8, that works fine in JBossEAP 7.3 + Java8,&lt;br&gt; to Spring 5.3.29 + Spring Security 5.7.9, executed by WildFly26 + Java11. &lt;br&gt;I use xml notation for Spring context declaration.\r\n\r\nThe application starts and the context is loaded fine with no errors, the problem comes after a success login call, I get an `Anonymous user` at the `default-target-url=&quot;/loginSuccessful.htm` page, due to a *null* `securityContext` in the `SecurityContextHolderFilter` just before that page (in the following configuration see that I commented the &quot;isFullyAuthenticated&quot; intercept-url check to loginSuccessful.htm for debugging, alternatively I&#39;ve been redirected to login page).\r\n\r\nIn the migration I enabled the `security-context-explicit-save` and added `HttpSessionSecurityContextRepository` as *securityContextRepository* (that is the default) as requested by [documentation][1] and disabled *headers* and *csrf*.\r\n\r\nFrom debug I see that the POST to */j_spring_security_check* produces an authentication with success and the permissions are retrieved correctly: the `AbstractAuthenticationProcessingFilter`, in *successfulAuthentication* performs the context saving by calling `this.securityContextRepository.saveContext` by passing a `UsernamePasswordAuthenticationToken` (where `this.securityContextRepository` is a `HttpSessionSecurityContextRepository` object saved to SPRING_SECURITY_CONTEXT property name), and finally calls success authentication function.&lt;br&gt;\r\nIn the next `SecurityContextHolderFilter`, just before the */loginSuccessful.htm*, the following line generates a *null*: `SecurityContext securityContext = this.securityContextRepository.loadContext(request).get();` its try to retrieve an `HttpSessionSecurityContextRepository` by getting a property with name SPRING_SECURITY_CONTEXT\r\n\r\nI know that there is something wrong in my configutation, but I don&#39;t know what, I have read many question similar to mine, in particular [this one][2], or [this other][3], [that][4], or [that other][5] and many other, tried with no luck its solutions. Is it needed to implement a custom `UsernamePasswordAuthenticationFilter` in substitution to `&lt;security:form-login /&gt;` tag? In what way? I didn&#39;t find any examples\r\n\r\nHere my code:&lt;br&gt;\r\n**SecurityContext.xml**\r\n\r\n    &lt;security:http\r\n    \t\tauto-config=&quot;true&quot;\r\n    \t\tuse-expressions=&quot;true&quot;\r\n    \t\tdisable-url-rewriting=&quot;true&quot;\r\n    \t\tsecurity-context-explicit-save=&quot;true&quot;\r\n    \t\tsecurity-context-repository-ref=&quot;securityContextRepository&quot;\r\n    \t&gt;\r\n    \r\n    \t&lt;security:intercept-url pattern=&quot;/login.**&quot; access=&quot;permitAll&quot; /&gt;\r\n    &lt;!-- \t&lt;security:intercept-url pattern=&quot;/loginSuccessful.htm&quot; access=&quot;isFullyAuthenticated()&quot; /&gt; --&gt;\r\n    \r\n    \t&lt;security:headers disabled=&quot;true&quot;/&gt;\r\n    \t&lt;security:csrf disabled=&quot;true&quot;/&gt;\t\t\r\n    \t&lt;security:form-login\r\n    \t\t\tlogin-page=&quot;/login.htm&quot;\r\n    \t\t\tlogin-processing-url=&quot;/j_spring_security_check&quot;\r\n    \t\t\tusername-parameter=&quot;j_username&quot;\r\n    \t\t\tpassword-parameter=&quot;j_password&quot;\r\n    \t\t\tauthentication-failure-url=&quot;/loginFailed.htm&quot;\r\n    \t\t\tdefault-target-url=&quot;/loginSuccessful.htm&quot;\r\n    \t\t\tauthentication-details-source-ref=&quot;customAuthenticationDetailsSource&quot;\r\n    \t\t\talways-use-default-target=&quot;false&quot;\r\n    \t/&gt;\r\n    \t&lt;security:logout\r\n    \t\t\tinvalidate-session=&quot;true&quot;\r\n    \t\t\tlogout-success-url=&quot;/logoutSuccessful.htm&quot;\r\n    \t\t\tdelete-cookies=&quot;JSESSIONID&quot;\r\n    \t/&gt;\r\n    \t&lt;security:session-management&gt;\r\n    \t\t&lt;security:concurrency-control max-sessions=&quot;1&quot; /&gt;\r\n    \t&lt;/security:session-management&gt;\t\t\r\n    \t&lt;security:access-denied-handler error-page=&quot;/accessDenied.htm&quot; /&gt;\r\n    &lt;/security:http&gt;\r\n    \r\n    &lt;security:debug/&gt;\r\n    \r\n    &lt;security:authentication-manager alias=&quot;authenticationManager&quot;&gt;\r\n    \t&lt;security:authentication-provider ref=&#39;ldapAuthProvider&#39; /&gt;\r\n    &lt;/security:authentication-manager&gt;\r\n    \r\n    &lt;bean id=&quot;securityContextRepository&quot; class=&quot;org.springframework.security.web.context.HttpSessionSecurityContextRepository&quot; /&gt;\r\n    \r\n    &lt;bean id=&quot;contextSource&quot; class=&quot;org.springframework.security.ldap.DefaultSpringSecurityContextSource&quot;&gt;\r\n    \t&lt;constructor-arg value=&quot;${ldap.ldapUrl}&quot; /&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;customAuthenticationDetailsSource&quot; class=&quot;my.class.path.security.CustomAuthenticationDetailsSource&quot;/&gt;\r\n    \r\n    &lt;bean id=&quot;ldapAuthProvider&quot; class=&quot;org.springframework.security.ldap.authentication.LdapAuthenticationProvider&quot;&gt;\r\n    \t&lt;constructor-arg&gt;\r\n    \t\t&lt;bean class=&quot;my.class.path.web.security.CustomLdapBindAuthenticator&quot;&gt;\r\n    \t\t\t&lt;constructor-arg ref=&quot;contextSource&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;userDnPatterns&quot;&gt;\r\n    \t\t\t\t&lt;list&gt;\r\n    \t\t\t\t\t&lt;value&gt;cn={0},${ldap.fullyQualifiedDN}&lt;/value&gt;\r\n    \t\t\t\t&lt;/list&gt;\r\n    \t\t\t&lt;/property&gt;\r\n    \t\t&lt;/bean&gt;\r\n    \t&lt;/constructor-arg&gt;\r\n    \t&lt;constructor-arg&gt;\r\n    \t\t&lt;bean class=&quot;my.class.path.security.CustomLdapAuthoritiesPopulator&quot; /&gt;\r\n    \t&lt;/constructor-arg&gt;\r\n    &lt;/bean&gt;\r\n\r\n\r\n**LoginController.java**\r\n\r\n    @Controller\r\n    public class LoginController {\r\n    \r\n    \t@RequestMapping(value=&quot;/login.htm&quot;, method = RequestMethod.GET)\r\n        public String showLogin(Model model,HttpSession httpSession) {\r\n    \t\thttpSession.invalidate();\r\n    \t\t\r\n    \t\tBoolean fromLogin = true;\t\r\n    \t\tmodel.addAttribute(&quot;fromLogin&quot;, fromLogin);\r\n            \r\n            return &quot;login&quot;;\r\n        }\r\n        \r\n    \t@RequestMapping(value=&quot;/loginSuccessful.htm&quot;, method = RequestMethod.GET)\r\n    \tpublic ModelAndView loginAccess(Model model, HttpServletRequest request, HttpServletResponse response, Locale locale, Authentication authen, Principal princ) throws NoSuchMessageException, Exception {\r\n    \r\n    \t\tHttpSessionSecurityContextRepository secRepo = new HttpSessionSecurityContextRepository();\r\n    \t    Authentication auth = secRepo.loadContext(request).get().getAuthentication();  \r\n    \t\r\n    \t\tAuthentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n    \t\tAuthentication authentication3 = SecurityContextHolder.getContextHolderStrategy().getContext().getAuthentication();\r\n    }\r\n\r\nSee that I tried to get the Principal and Authentication in many ways, but always *null*\r\n\r\nHere is the filter registration from logs:\r\n\r\n    [INFO] 2023-07-20 16:43:21,906 HttpSecurityBeanDefinitionParser.checkFilterChainOrder:283 -&gt; Checking sorted filter chain: [\r\n    Root bean: class [org.springframework.security.web.session.DisableEncodeUrlFilter]; scope=; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 100,\r\n    Root bean: class [org.springframework.security.web.session.ForceEagerSessionCreationFilter]; scope=; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200,\r\n    Root bean: class [org.springframework.security.web.context.SecurityContextHolderFilter]; scope=; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400,\r\n    Root bean: class [org.springframework.security.web.session.ConcurrentSessionFilter]; scope=; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500,\r\n    Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 600,\r\n    Root bean: class [org.springframework.security.web.authentication.logout.LogoutFilter]; scope=; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1300, &lt;org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter#0&gt;, order = 2100,\r\n    Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2700,\r\n    Root bean: class [org.springframework.security.web.savedrequest.RequestCacheAwareFilter]; scope=; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2800,\r\n    Root bean: class [null]; scope=; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2900,\r\n    Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 3200,\r\n    Root bean: class [org.springframework.security.web.session.SessionManagementFilter]; scope=; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 3500,\r\n    Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 3600, &lt;org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0&gt;, order = 3700]\r\n\r\nSecurity Filter Chain from logs:\r\n\r\n    Security filter chain: [\r\n      DisableEncodeUrlFilter\r\n      ForceEagerSessionCreationFilter\r\n      SecurityContextHolderFilter\r\n      ConcurrentSessionFilter\r\n      WebAsyncManagerIntegrationFilter\r\n      LogoutFilter\r\n      UsernamePasswordAuthenticationFilter\r\n      BasicAuthenticationFilter\r\n      RequestCacheAwareFilter\r\n      SecurityContextHolderAwareRequestFilter\r\n      AnonymousAuthenticationFilter\r\n      SessionManagementFilter\r\n      ExceptionTranslationFilter\r\n      FilterSecurityInterceptor\r\n    ]\r\n\r\nAll seems to be OK as I see in the debugger, but where is the problem? any help is appreciated\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/5.7/servlet/authentication/architecture.html\r\n  [2]: https://stackoverflow.com/q/75289494\r\n  [3]: https://stackoverflow.com/q/47020096\r\n  [4]: https://stackoverflow.com/q/40249306\r\n  [5]: https://stackoverflow.com/q/24696717","title":"Spring Security 3.11 app migration to 5.7: login success but anonymous user","body":"<p>I'm migrating a quite old application in Spring 3.1.1 + Spring Security 3.1.8, that works fine in JBossEAP 7.3 + Java8,<br> to Spring 5.3.29 + Spring Security 5.7.9, executed by WildFly26 + Java11. <br>I use xml notation for Spring context declaration.</p>\n<p>The application starts and the context is loaded fine with no errors, the problem comes after a success login call, I get an <code>Anonymous user</code> at the <code>default-target-url=&quot;/loginSuccessful.htm</code> page, due to a <em>null</em> <code>securityContext</code> in the <code>SecurityContextHolderFilter</code> just before that page (in the following configuration see that I commented the &quot;isFullyAuthenticated&quot; intercept-url check to loginSuccessful.htm for debugging, alternatively I've been redirected to login page).</p>\n<p>In the migration I enabled the <code>security-context-explicit-save</code> and added <code>HttpSessionSecurityContextRepository</code> as <em>securityContextRepository</em> (that is the default) as requested by <a href=\"https://docs.spring.io/spring-security/reference/5.7/servlet/authentication/architecture.html\" rel=\"nofollow noreferrer\">documentation</a> and disabled <em>headers</em> and <em>csrf</em>.</p>\n<p>From debug I see that the POST to <em>/j_spring_security_check</em> produces an authentication with success and the permissions are retrieved correctly: the <code>AbstractAuthenticationProcessingFilter</code>, in <em>successfulAuthentication</em> performs the context saving by calling <code>this.securityContextRepository.saveContext</code> by passing a <code>UsernamePasswordAuthenticationToken</code> (where <code>this.securityContextRepository</code> is a <code>HttpSessionSecurityContextRepository</code> object saved to SPRING_SECURITY_CONTEXT property name), and finally calls success authentication function.<br>\nIn the next <code>SecurityContextHolderFilter</code>, just before the <em>/loginSuccessful.htm</em>, the following line generates a <em>null</em>: <code>SecurityContext securityContext = this.securityContextRepository.loadContext(request).get();</code> its try to retrieve an <code>HttpSessionSecurityContextRepository</code> by getting a property with name SPRING_SECURITY_CONTEXT</p>\n<p>I know that there is something wrong in my configutation, but I don't know what, I have read many question similar to mine, in particular <a href=\"https://stackoverflow.com/q/75289494\">this one</a>, or <a href=\"https://stackoverflow.com/q/47020096\">this other</a>, <a href=\"https://stackoverflow.com/q/40249306\">that</a>, or <a href=\"https://stackoverflow.com/q/24696717\">that other</a> and many other, tried with no luck its solutions. Is it needed to implement a custom <code>UsernamePasswordAuthenticationFilter</code> in substitution to <code>&lt;security:form-login /&gt;</code> tag? In what way? I didn't find any examples</p>\n<p>Here my code:<br>\n<strong>SecurityContext.xml</strong></p>\n<pre><code>&lt;security:http\n        auto-config=&quot;true&quot;\n        use-expressions=&quot;true&quot;\n        disable-url-rewriting=&quot;true&quot;\n        security-context-explicit-save=&quot;true&quot;\n        security-context-repository-ref=&quot;securityContextRepository&quot;\n    &gt;\n\n    &lt;security:intercept-url pattern=&quot;/login.**&quot; access=&quot;permitAll&quot; /&gt;\n&lt;!--    &lt;security:intercept-url pattern=&quot;/loginSuccessful.htm&quot; access=&quot;isFullyAuthenticated()&quot; /&gt; --&gt;\n\n    &lt;security:headers disabled=&quot;true&quot;/&gt;\n    &lt;security:csrf disabled=&quot;true&quot;/&gt;        \n    &lt;security:form-login\n            login-page=&quot;/login.htm&quot;\n            login-processing-url=&quot;/j_spring_security_check&quot;\n            username-parameter=&quot;j_username&quot;\n            password-parameter=&quot;j_password&quot;\n            authentication-failure-url=&quot;/loginFailed.htm&quot;\n            default-target-url=&quot;/loginSuccessful.htm&quot;\n            authentication-details-source-ref=&quot;customAuthenticationDetailsSource&quot;\n            always-use-default-target=&quot;false&quot;\n    /&gt;\n    &lt;security:logout\n            invalidate-session=&quot;true&quot;\n            logout-success-url=&quot;/logoutSuccessful.htm&quot;\n            delete-cookies=&quot;JSESSIONID&quot;\n    /&gt;\n    &lt;security:session-management&gt;\n        &lt;security:concurrency-control max-sessions=&quot;1&quot; /&gt;\n    &lt;/security:session-management&gt;      \n    &lt;security:access-denied-handler error-page=&quot;/accessDenied.htm&quot; /&gt;\n&lt;/security:http&gt;\n\n&lt;security:debug/&gt;\n\n&lt;security:authentication-manager alias=&quot;authenticationManager&quot;&gt;\n    &lt;security:authentication-provider ref='ldapAuthProvider' /&gt;\n&lt;/security:authentication-manager&gt;\n\n&lt;bean id=&quot;securityContextRepository&quot; class=&quot;org.springframework.security.web.context.HttpSessionSecurityContextRepository&quot; /&gt;\n\n&lt;bean id=&quot;contextSource&quot; class=&quot;org.springframework.security.ldap.DefaultSpringSecurityContextSource&quot;&gt;\n    &lt;constructor-arg value=&quot;${ldap.ldapUrl}&quot; /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=&quot;customAuthenticationDetailsSource&quot; class=&quot;my.class.path.security.CustomAuthenticationDetailsSource&quot;/&gt;\n\n&lt;bean id=&quot;ldapAuthProvider&quot; class=&quot;org.springframework.security.ldap.authentication.LdapAuthenticationProvider&quot;&gt;\n    &lt;constructor-arg&gt;\n        &lt;bean class=&quot;my.class.path.web.security.CustomLdapBindAuthenticator&quot;&gt;\n            &lt;constructor-arg ref=&quot;contextSource&quot; /&gt;\n            &lt;property name=&quot;userDnPatterns&quot;&gt;\n                &lt;list&gt;\n                    &lt;value&gt;cn={0},${ldap.fullyQualifiedDN}&lt;/value&gt;\n                &lt;/list&gt;\n            &lt;/property&gt;\n        &lt;/bean&gt;\n    &lt;/constructor-arg&gt;\n    &lt;constructor-arg&gt;\n        &lt;bean class=&quot;my.class.path.security.CustomLdapAuthoritiesPopulator&quot; /&gt;\n    &lt;/constructor-arg&gt;\n&lt;/bean&gt;\n</code></pre>\n<p><strong>LoginController.java</strong></p>\n<pre><code>@Controller\npublic class LoginController {\n\n    @RequestMapping(value=&quot;/login.htm&quot;, method = RequestMethod.GET)\n    public String showLogin(Model model,HttpSession httpSession) {\n        httpSession.invalidate();\n        \n        Boolean fromLogin = true;   \n        model.addAttribute(&quot;fromLogin&quot;, fromLogin);\n        \n        return &quot;login&quot;;\n    }\n    \n    @RequestMapping(value=&quot;/loginSuccessful.htm&quot;, method = RequestMethod.GET)\n    public ModelAndView loginAccess(Model model, HttpServletRequest request, HttpServletResponse response, Locale locale, Authentication authen, Principal princ) throws NoSuchMessageException, Exception {\n\n        HttpSessionSecurityContextRepository secRepo = new HttpSessionSecurityContextRepository();\n        Authentication auth = secRepo.loadContext(request).get().getAuthentication();  \n    \n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n        Authentication authentication3 = SecurityContextHolder.getContextHolderStrategy().getContext().getAuthentication();\n}\n</code></pre>\n<p>See that I tried to get the Principal and Authentication in many ways, but always <em>null</em></p>\n<p>Here is the filter registration from logs:</p>\n<pre><code>[INFO] 2023-07-20 16:43:21,906 HttpSecurityBeanDefinitionParser.checkFilterChainOrder:283 -&gt; Checking sorted filter chain: [\nRoot bean: class [org.springframework.security.web.session.DisableEncodeUrlFilter]; scope=; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 100,\nRoot bean: class [org.springframework.security.web.session.ForceEagerSessionCreationFilter]; scope=; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200,\nRoot bean: class [org.springframework.security.web.context.SecurityContextHolderFilter]; scope=; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400,\nRoot bean: class [org.springframework.security.web.session.ConcurrentSessionFilter]; scope=; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500,\nRoot bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 600,\nRoot bean: class [org.springframework.security.web.authentication.logout.LogoutFilter]; scope=; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1300, &lt;org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter#0&gt;, order = 2100,\nRoot bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2700,\nRoot bean: class [org.springframework.security.web.savedrequest.RequestCacheAwareFilter]; scope=; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2800,\nRoot bean: class [null]; scope=; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2900,\nRoot bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 3200,\nRoot bean: class [org.springframework.security.web.session.SessionManagementFilter]; scope=; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 3500,\nRoot bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 3600, &lt;org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0&gt;, order = 3700]\n</code></pre>\n<p>Security Filter Chain from logs:</p>\n<pre><code>Security filter chain: [\n  DisableEncodeUrlFilter\n  ForceEagerSessionCreationFilter\n  SecurityContextHolderFilter\n  ConcurrentSessionFilter\n  WebAsyncManagerIntegrationFilter\n  LogoutFilter\n  UsernamePasswordAuthenticationFilter\n  BasicAuthenticationFilter\n  RequestCacheAwareFilter\n  SecurityContextHolderAwareRequestFilter\n  AnonymousAuthenticationFilter\n  SessionManagementFilter\n  ExceptionTranslationFilter\n  FilterSecurityInterceptor\n]\n</code></pre>\n<p>All seems to be OK as I see in the debugger, but where is the problem? any help is appreciated</p>\n"},{"tags":["java","classloader"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1440545337,"post_id":32215693,"comment_id":52315120,"body_markdown":"From my experience, the path of the resource is depended on what you give it.  For example `/myfile.txt` will look for `{classpath}/myfile.txt`, but `myfile.txt` will look for `{classpath}/{class package path}/myfile.txt`, where `{class package path}` is the package path of the class used to request it, having said that, it will change depending on HOW you use `getResource`, for example, doing something like `this.getResource(...)` will work as described, but doing something like `SomeClass.class.getResource(...)` will not (if I&#39;m correct, it will work as you&#39;ve described).","body":"From my experience, the path of the resource is depended on what you give it.  For example <code>&#47;myfile.txt</code> will look for <code>{classpath}&#47;myfile.txt</code>, but <code>myfile.txt</code> will look for <code>{classpath}&#47;{class package path}&#47;myfile.txt</code>, where <code>{class package path}</code> is the package path of the class used to request it, having said that, it will change depending on HOW you use <code>getResource</code>, for example, doing something like <code>this.getResource(...)</code> will work as described, but doing something like <code>SomeClass.class.getResource(...)</code> will not (if I&#39;m correct, it will work as you&#39;ve described)."},{"owner":{"account_id":235528,"reputation":12642,"user_id":502399,"accept_rate":67,"display_name":"Tavian Barnes"},"score":0,"creation_date":1440548262,"post_id":32215693,"comment_id":52315927,"body_markdown":"`ClassLoader` resource paths are always absolute, but a leading `/` is **invalid**, not simply **redundant**.","body":"<code>ClassLoader</code> resource paths are always absolute, but a leading <code>&#47;</code> is <b>invalid</b>, not simply <b>redundant</b>."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1440553065,"post_id":32215693,"comment_id":52317040,"body_markdown":"@MadProgrammer You&#39;re confusing `Class.getResource()` with `ClassLoader.getResource()`. The latter has no way of knowing about a package name.","body":"@MadProgrammer You&#39;re confusing <code>Class.getResource()</code> with <code>ClassLoader.getResource()</code>. The latter has no way of knowing about a package name."},{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1440773055,"post_id":32215693,"comment_id":52426340,"body_markdown":"@TavianBarnes, can you point to some documentation?","body":"@TavianBarnes, can you point to some documentation?"},{"owner":{"account_id":235528,"reputation":12642,"user_id":502399,"accept_rate":67,"display_name":"Tavian Barnes"},"score":0,"creation_date":1441047941,"post_id":32215693,"comment_id":52511352,"body_markdown":"@jaco0646 I&#39;m not aware of any official location that this is documented, except by painstakingly tracing through the source code.  But the behaviour has been consistent forever.  I&#39;ve written an entire `java.nio.file.Path` abstraction over classpath resources just to make them more sane to work with.","body":"@jaco0646 I&#39;m not aware of any official location that this is documented, except by painstakingly tracing through the source code.  But the behaviour has been consistent forever.  I&#39;ve written an entire <code>java.nio.file.Path</code> abstraction over classpath resources just to make them more sane to work with."}],"answers":[{"tags":[],"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1440548079,"creation_date":1440547599,"answer_id":32216033,"question_id":32215693,"body_markdown":"Apparently not. \r\n\r\nIt is up to the class loader to interpret `name` in `getResource(name)`. \r\n\r\nExamining the source code of `URLClassLoader`, eventually it calls\r\n\r\n[`new URL(baseURL, name)`](http://docs.oracle.com/javase/7/docs/api/java/net/URL.html#URL%28java.net.URL,%20java.lang.String%29)\r\n\r\nIt is important here whether `name` is absolute or relative\r\n\r\nIt is possible that, for some `baseURL`, absolute `/foo/bar` and relative `foo/bar` have the same effect. In particular, this is always the case for [&quot;jar file URL&quot;](http://docs.oracle.com/javase/7/docs/api/java/net/JarURLConnection.html) in classpaths\r\n\r\n    baseURL:       jar:file:/home/duke/duke.jar!/\r\n\r\n     foo/bar  -&gt;   jar:file:/home/duke/duke.jar!/foo/bar \r\n    /foo/bar  -&gt;   jar:file:/home/duke/duke.jar!/foo/bar ","title":"Classloader resource paths are always absolute?","body":"<p>Apparently not. </p>\n\n<p>It is up to the class loader to interpret <code>name</code> in <code>getResource(name)</code>. </p>\n\n<p>Examining the source code of <code>URLClassLoader</code>, eventually it calls</p>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/URL.html#URL%28java.net.URL,%20java.lang.String%29\" rel=\"nofollow\"><code>new URL(baseURL, name)</code></a></p>\n\n<p>It is important here whether <code>name</code> is absolute or relative</p>\n\n<p>It is possible that, for some <code>baseURL</code>, absolute <code>/foo/bar</code> and relative <code>foo/bar</code> have the same effect. In particular, this is always the case for <a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/JarURLConnection.html\" rel=\"nofollow\">\"jar file URL\"</a> in classpaths</p>\n\n<pre><code>baseURL:       jar:file:/home/duke/duke.jar!/\n\n foo/bar  -&gt;   jar:file:/home/duke/duke.jar!/foo/bar \n/foo/bar  -&gt;   jar:file:/home/duke/duke.jar!/foo/bar \n</code></pre>\n"}],"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1233,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":32216033,"answer_count":1,"score":6,"last_activity_date":1692286408,"creation_date":1440545024,"question_id":32215693,"body_markdown":"In a popular [answer](https://stackoverflow.com/a/6608848/1371329) regarding the difference between class loading methods, Jon Skeet has stated,\r\n&gt; Classloader resource paths are always deemed to be absolute.\r\n\r\nAn even more popular [answer](https://stackoverflow.com/a/676273/1371329) affirms this statement with an example.\r\n\r\n&gt; `ClassLoader.getResourceAsStream(path)` will consider all paths to be\r\n&gt; absolute paths. So calling\r\n&gt; `String.getClassLoader().getResourceAsString(&quot;myfile.txt&quot;)` and\r\n&gt; `String.getClassLoader().getResourceAsString(&quot;/myfile.txt&quot;)` will both\r\n&gt; look for a file in your classpath at the following location:\r\n&gt; `./myfile.txt`.\r\n\r\nDisregarding the fact that the example won&#39;t compile, consensus indicates a leading forward slash is irrelevant to the ClassLoader.\r\n\r\nA simple test shows otherwise.\r\n\r\n`Foo.class.getClassLoader().getResource(&quot;test.xml&quot;)  // file`  &lt;br /&gt;\r\n`Foo.class.getClassLoader().getResource(&quot;/test.xml&quot;)  // null`\r\n\r\nI have simply added the path `files/test.xml` to the classpath of a test project, with a class named `Foo` containing a `main()` method printing out the results of those two calls. What am I missing, since hundreds of people have up-voted the aforementioned answers? Are ClassLoaders absolute, or do they depend on the structure of the input name?\r\n\r\n----------\r\nThis [Oracle blog post](https://web.archive.org/web/20131216061624/https://blogs.oracle.com/sundararajan/entry/understanding_java_class_loading) was helpful to my understanding.\r\n\r\nThe method which ultimately constructs a URL from the resource name is [URLClassPath.JarLoader.checkResource()](https://github.com/openjdk/jdk/blob/jdk-17-ga/src/java.base/share/classes/jdk/internal/loader/URLClassPath.java#L848).","title":"Classloader resource paths are always absolute?","body":"<p>In a popular <a href=\"https://stackoverflow.com/a/6608848/1371329\">answer</a> regarding the difference between class loading methods, Jon Skeet has stated,</p>\n<blockquote>\n<p>Classloader resource paths are always deemed to be absolute.</p>\n</blockquote>\n<p>An even more popular <a href=\"https://stackoverflow.com/a/676273/1371329\">answer</a> affirms this statement with an example.</p>\n<blockquote>\n<p><code>ClassLoader.getResourceAsStream(path)</code> will consider all paths to be\nabsolute paths. So calling\n<code>String.getClassLoader().getResourceAsString(&quot;myfile.txt&quot;)</code> and\n<code>String.getClassLoader().getResourceAsString(&quot;/myfile.txt&quot;)</code> will both\nlook for a file in your classpath at the following location:\n<code>./myfile.txt</code>.</p>\n</blockquote>\n<p>Disregarding the fact that the example won't compile, consensus indicates a leading forward slash is irrelevant to the ClassLoader.</p>\n<p>A simple test shows otherwise.</p>\n<p><code>Foo.class.getClassLoader().getResource(&quot;test.xml&quot;)  // file</code>  <br />\n<code>Foo.class.getClassLoader().getResource(&quot;/test.xml&quot;)  // null</code></p>\n<p>I have simply added the path <code>files/test.xml</code> to the classpath of a test project, with a class named <code>Foo</code> containing a <code>main()</code> method printing out the results of those two calls. What am I missing, since hundreds of people have up-voted the aforementioned answers? Are ClassLoaders absolute, or do they depend on the structure of the input name?</p>\n<hr />\n<p>This <a href=\"https://web.archive.org/web/20131216061624/https://blogs.oracle.com/sundararajan/entry/understanding_java_class_loading\" rel=\"nofollow noreferrer\">Oracle blog post</a> was helpful to my understanding.</p>\n<p>The method which ultimately constructs a URL from the resource name is <a href=\"https://github.com/openjdk/jdk/blob/jdk-17-ga/src/java.base/share/classes/jdk/internal/loader/URLClassPath.java#L848\" rel=\"nofollow noreferrer\">URLClassPath.JarLoader.checkResource()</a>.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":8312409,"reputation":956,"user_id":6247003,"accept_rate":20,"display_name":"ajax992"},"score":1,"creation_date":1692283815,"post_id":76922648,"comment_id":135604908,"body_markdown":"An ApplicationContext is not an instance of a Spring Boot app. Nor is the @SpringBootApplication annotation, which configures classpath scanning and dependency injection. You are creating an object which does nothing and the main method completes, exiting the program. You need to actually run a Spring app, see this example: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/SpringApplication.html","body":"An ApplicationContext is not an instance of a Spring Boot app. Nor is the @SpringBootApplication annotation, which configures classpath scanning and dependency injection. You are creating an object which does nothing and the main method completes, exiting the program. You need to actually run a Spring app, see this example: <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/SpringApplication.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/api/org/springframew&zwnj;&#8203;ork/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692285654,"creation_date":1692285654,"answer_id":76922913,"question_id":76922648,"body_markdown":"As mentioned in the comment, you need to run the spring boot app in this manner.\r\n\r\n    @SpringBootApplication\r\n    public class WebSpringDemoApplication {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(MyApplication.class, args);\r\n        }\r\n    }\r\n\r\nIf you want to run additional logic after startup, you can create a application listener class like this and place the logic there:\r\n\r\n    public class MyApplicationListener implements ApplicationListener&lt;ApplicationReadyEvent&gt; {\r\n        @Override\r\n        public void onApplicationEvent(ApplicationReadyEvent event) {\r\n            // Your additional logic\r\n        }\r\n    }","title":"Spring Boot Application Auto Shut Down","body":"<p>As mentioned in the comment, you need to run the spring boot app in this manner.</p>\n<pre><code>@SpringBootApplication\npublic class WebSpringDemoApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(MyApplication.class, args);\n    }\n}\n</code></pre>\n<p>If you want to run additional logic after startup, you can create a application listener class like this and place the logic there:</p>\n<pre><code>public class MyApplicationListener implements ApplicationListener&lt;ApplicationReadyEvent&gt; {\n    @Override\n    public void onApplicationEvent(ApplicationReadyEvent event) {\n        // Your additional logic\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8312409,"reputation":956,"user_id":6247003,"accept_rate":20,"display_name":"ajax992"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692286011,"creation_date":1692286011,"answer_id":76922969,"question_id":76922648,"body_markdown":"Per my comment, your application is exiting because you are not explicitly starting a Spring Application. The idiomatic way of doing this is using the static method [SpringApplication.run][1].\r\n\r\nAn ApplicationContext is not an instance of a Spring app, but is still a core component of the IoC framework. It&#39;s used internally by Spring to manage bean lifecycles, autowire dependencies, provide scheduling functionality, etc. Only in advanced use cases would I advise creating or modifying custom `ApplicationContext` instances, as Spring manages this class for the developer.\r\n\r\nLast word of advice, the XML syntax is typically deprecated in favor of annotation based bean registration. In practice, this is easier to read and understand. Here&#39;s an example:\r\n\r\n\r\n    @SpringBootApplication\r\n    public class WebSpringDemoApplication {\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t    SpringApplication.run(WebSpringDemoApplication.class, args);\r\n\t    }\r\n\r\n        @Bean\r\n        Cat createCat() {\r\n            return new Cat();\r\n        }\r\n    }\r\n\r\n    @Component\r\n    class Zoo {\r\n        private Cat cat;\r\n        \r\n        public Zoo(Cat cat) { // an instance of Cat is autowired here!\r\n            this.cat = cat;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/SpringApplication.html#run(java.lang.Class%5B%5D,java.lang.String%5B%5D)","title":"Spring Boot Application Auto Shut Down","body":"<p>Per my comment, your application is exiting because you are not explicitly starting a Spring Application. The idiomatic way of doing this is using the static method <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/SpringApplication.html#run(java.lang.Class%5B%5D,java.lang.String%5B%5D)\" rel=\"nofollow noreferrer\">SpringApplication.run</a>.</p>\n<p>An ApplicationContext is not an instance of a Spring app, but is still a core component of the IoC framework. It's used internally by Spring to manage bean lifecycles, autowire dependencies, provide scheduling functionality, etc. Only in advanced use cases would I advise creating or modifying custom <code>ApplicationContext</code> instances, as Spring manages this class for the developer.</p>\n<p>Last word of advice, the XML syntax is typically deprecated in favor of annotation based bean registration. In practice, this is easier to read and understand. Here's an example:</p>\n<pre><code>@SpringBootApplication\npublic class WebSpringDemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(WebSpringDemoApplication.class, args);\n    }\n\n    @Bean\n    Cat createCat() {\n        return new Cat();\n    }\n}\n\n@Component\nclass Zoo {\n    private Cat cat;\n    \n    public Zoo(Cat cat) { // an instance of Cat is autowired here!\n        this.cat = cat;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24539860,"reputation":7,"user_id":18450349,"display_name":"ducnm19"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":2,"score":-2,"last_activity_date":1692286011,"creation_date":1692283648,"question_id":76922648,"body_markdown":"I have this really simple main class in a Spring Boot Demo\r\n\r\n```\r\n@SpringBootApplication\r\npublic class WebSpringDemoApplication {\r\n    public static void main(String[] args) {\r\n        ClassPathXmlApplicationContext applicationContext =\r\n                new ClassPathXmlApplicationContext(&quot;spring-config.xml&quot;);\r\n    }\r\n}\r\n```\r\nThis is my spring-config xml file(just to make a bean):\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n                           http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\r\n    &lt;bean id=&quot;myBean&quot; class=&quot;com.example.webspringdemo.Cat&quot; init-method=&quot;init&quot; destroy-method=&quot;destroy&quot; /&gt;\r\n&lt;/beans&gt;\r\n```\r\n\r\nWhen I start the main method, everything works fine, but it seems like it didn&#39;t make any web-related thing, and it shut down automatically. I was expecting it to run continously (until I manually stop by using IDE or use the close() method) on port 8080 so I can add further more complicated code. But the program just shut down after it makes the bean. Like here is all the output(it didn&#39;t even generate the &quot;info&quot; lines):\r\n\r\n```\r\nInit\r\n\r\nProcess finished with exit code 0\r\n```\r\nI am using IntelliJ.","title":"Spring Boot Application Auto Shut Down","body":"<p>I have this really simple main class in a Spring Boot Demo</p>\n<pre><code>@SpringBootApplication\npublic class WebSpringDemoApplication {\n    public static void main(String[] args) {\n        ClassPathXmlApplicationContext applicationContext =\n                new ClassPathXmlApplicationContext(&quot;spring-config.xml&quot;);\n    }\n}\n</code></pre>\n<p>This is my spring-config xml file(just to make a bean):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n                           http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\n    &lt;bean id=&quot;myBean&quot; class=&quot;com.example.webspringdemo.Cat&quot; init-method=&quot;init&quot; destroy-method=&quot;destroy&quot; /&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>When I start the main method, everything works fine, but it seems like it didn't make any web-related thing, and it shut down automatically. I was expecting it to run continously (until I manually stop by using IDE or use the close() method) on port 8080 so I can add further more complicated code. But the program just shut down after it makes the bean. Like here is all the output(it didn't even generate the &quot;info&quot; lines):</p>\n<pre><code>Init\n\nProcess finished with exit code 0\n</code></pre>\n<p>I am using IntelliJ.</p>\n"},{"tags":["java","xml","type-conversion","jaxb"],"answers":[{"comments":[{"owner":{"account_id":21845332,"reputation":59,"user_id":16138258,"display_name":"Matin Parsapour"},"score":0,"creation_date":1692338938,"post_id":76922694,"comment_id":135612093,"body_markdown":"Thanks for your recommendation, but the thing is I&#39;m trying to create a custom application that uses REST API to get data from Camunda, so I can&#39;t use Camunda Model API, Is there another way to easily get data, like Inputs and Outputs or attributes of an activity. for example in a Process I have like 50 Activities and I want to get Inputs and Outputs of each activity, I don&#39;t think calling api over and over is ok","body":"Thanks for your recommendation, but the thing is I&#39;m trying to create a custom application that uses REST API to get data from Camunda, so I can&#39;t use Camunda Model API, Is there another way to easily get data, like Inputs and Outputs or attributes of an activity. for example in a Process I have like 50 Activities and I want to get Inputs and Outputs of each activity, I don&#39;t think calling api over and over is ok"},{"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"score":0,"creation_date":1692368939,"post_id":76922694,"comment_id":135617789,"body_markdown":"I have two approaches in mind. First approach is take the BPMN-Schema to generate Java classes out of it and then use JAXB to convert the XML document into Java objects. Second approach is to use a XSL transformation to first extract the relevent information into a second XML document and then use JAXB to convert this into your own custom Java objects. I&#39;d use the first approach but converting a XML Schema with many namespaces into Java classes may be a bit tricky.","body":"I have two approaches in mind. First approach is take the BPMN-Schema to generate Java classes out of it and then use JAXB to convert the XML document into Java objects. Second approach is to use a XSL transformation to first extract the relevent information into a second XML document and then use JAXB to convert this into your own custom Java objects. I&#39;d use the first approach but converting a XML Schema with many namespaces into Java classes may be a bit tricky."},{"owner":{"account_id":1612994,"reputation":7243,"user_id":1491439,"display_name":"rob2universe"},"score":0,"creation_date":1692668130,"post_id":76922694,"comment_id":135652060,"body_markdown":"Why not get the model verison and use the Model API on the client side?","body":"Why not get the model verison and use the Model API on the client side?"},{"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"score":0,"creation_date":1692701324,"post_id":76922694,"comment_id":135656941,"body_markdown":"I don&#39;t have much knowledge of Camunda, just found the SAX parser on the API, which possibly may fulfill the demands. But I weren&#39;t sure about this.","body":"I don&#39;t have much knowledge of Camunda, just found the SAX parser on the API, which possibly may fulfill the demands. But I weren&#39;t sure about this."}],"tags":[],"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692285153,"creation_date":1692283930,"answer_id":76922694,"question_id":76922202,"body_markdown":"You&#39;re getting the error since your @XmlRootElement misses the XML namespace (xmlns) but since your XML documents contains a lot of child elements with different namespaces I doubt adding this would be enough. Usually you would start with the XML schema of BPMN and generate Java classes out of it.\r\n\r\nI think another option in this special case would be not to use JAXB but the [Camunda Model API][1].\r\n\r\nAnother thing: Do yourself a favor and never convert between XML documents, which come as byte array usually, and String using `new String()` or `String.getBytes()`. If you do this without watching the character set within the XML declaration of your document, or UTF-8 if its missing, you&#39;ll get mangled characters sooner or later. Every conversion between byte [] and String either assumes a character set or encoding (default platform encoding) or expects it as a parameter.\r\n\r\n\r\n  [1]: https://docs.camunda.org/manual/7.19/user-guide/model-api/bpmn-model-api/read-a-model/","title":"unmarshall string to java object using JAXB","body":"<p>You're getting the error since your @XmlRootElement misses the XML namespace (xmlns) but since your XML documents contains a lot of child elements with different namespaces I doubt adding this would be enough. Usually you would start with the XML schema of BPMN and generate Java classes out of it.</p>\n<p>I think another option in this special case would be not to use JAXB but the <a href=\"https://docs.camunda.org/manual/7.19/user-guide/model-api/bpmn-model-api/read-a-model/\" rel=\"nofollow noreferrer\">Camunda Model API</a>.</p>\n<p>Another thing: Do yourself a favor and never convert between XML documents, which come as byte array usually, and String using <code>new String()</code> or <code>String.getBytes()</code>. If you do this without watching the character set within the XML declaration of your document, or UTF-8 if its missing, you'll get mangled characters sooner or later. Every conversion between byte [] and String either assumes a character set or encoding (default platform encoding) or expects it as a parameter.</p>\n"}],"owner":{"account_id":21845332,"reputation":59,"user_id":16138258,"display_name":"Matin Parsapour"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692285153,"creation_date":1692280497,"question_id":76922202,"body_markdown":"I&#39;m using JAXB unmarshaller to convert xml string to java object, however I get an error that I don&#39;t know what does that mean\r\n```\r\n\r\nException in thread &quot;main&quot; jakarta.xml.bind.UnmarshalException: unexpected element (uri:&quot;http://www.omg.org/spec/BPMN/20100524/MODEL&quot;, local:&quot;definitions&quot;). Expected elements are &lt;{}bpmn:definitions&gt;\r\n\tat org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallingContext.handleEvent(UnmarshallingContext.java:701)\r\n\tat org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.Loader.reportError(Loader.java:230)\r\n\tat org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.Loader.reportError(Loader.java:225)\r\n\tat org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.Loader.reportUnexpectedChildElement(Loader.java:92)\r\n\tat org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallingContext$DefaultRootLoader.childElement(UnmarshallingContext.java:1106)\r\n\tat org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallingContext._startElement(UnmarshallingContext.java:531)\r\n\tat org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallingContext.startElement(UnmarshallingContext.java:513)\r\n\tat org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.SAXConnector.startElement(SAXConnector.java:137)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(AbstractSAXParser.java:518)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(XMLNSDocumentScannerImpl.java:374)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl$NSContentDriver.scanRootElementHook(XMLNSDocumentScannerImpl.java:613)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:3079)\r\n```\r\nThe xml I&#39;m using is something like this\r\n```\r\n&lt;bpmn:definitions xmlns:bpmn=&quot;http://www.omg.org/spec/BPMN/20100524/MODEL&quot; xmlns:bpmndi=&quot;http://www.omg.org/spec/BPMN/20100524/DI&quot; xmlns:dc=&quot;http://www.omg.org/spec/DD/20100524/DC&quot; xmlns:camunda=&quot;http://camunda.org/schema/1.0/bpmn&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:di=&quot;http://www.omg.org/spec/DD/20100524/DI&quot; xmlns:modeler=&quot;http://camunda.org/schema/modeler/1.0&quot; id=&quot;Definitions_1xqdoqa&quot; targetNamespace=&quot;http://bpmn.io/schema/bpmn&quot; exporter=&quot;Camunda Modeler&quot; exporterVersion=&quot;5.13.0&quot; modeler:executionPlatform=&quot;Camunda Platform&quot; modeler:executionPlatformVersion=&quot;7.19.0&quot;&gt;\r\n  &lt;bpmn:process id=&quot;Process2&quot; isExecutable=&quot;true&quot; camunda:historyTimeToLive=&quot;1&quot;&gt;\r\n    &lt;bpmn:userTask id=&quot;Activity_0r63cqs&quot;&gt;\r\n      &lt;bpmn:incoming&gt;Flow02&lt;/bpmn:incoming&gt;\r\n      &lt;bpmn:outgoing&gt;Flow_0xsmp8q&lt;/bpmn:outgoing&gt;\r\n    &lt;/bpmn:userTask&gt;\r\n    &lt;bpmn:userTask id=&quot;Activity_0e7h96z&quot;&gt;\r\n      &lt;bpmn:extensionElements&gt;\r\n        &lt;camunda:taskListener class=&quot;ir.edmp.camunda.listeners.EDMPTaskCreateListener&quot; event=&quot;create&quot;&gt;\r\n          &lt;camunda:field name=&quot;assigneeType&quot;&gt;\r\n            &lt;camunda:string&gt;Static&lt;/camunda:string&gt;\r\n          &lt;/camunda:field&gt;\r\n          &lt;camunda:field name=&quot;assigneeApproach&quot;&gt;\r\n            &lt;camunda:string&gt;admin_platform&lt;/camunda:string&gt;\r\n          &lt;/camunda:field&gt;\r\n        &lt;/camunda:taskListener&gt;\r\n....\r\n```\r\nMy java class is BPMNDefinition\r\n```\r\n@XmlRootElement(name = &quot;bpmn:definitions&quot;)\r\npublic class BPMNDefinitions {\r\n    private String bPMN;\r\n    private String xPMNDI;\r\n    private String dC;\r\n    private String camunda;\r\n    private String xSI;\r\n    private String dI;\r\n    private String modeler;\r\n    private String id;\r\n    private String targetNameSpace;\r\n    private String exporter;\r\n    private String exporterVersion;\r\n    private String executionPlatform;\r\n    private String executionPlatformVersion;\r\n\r\n    public String getbPMN() {\r\n        return bPMN;\r\n    }\r\n\r\n    @XmlAttribute\r\n    public void setbPMN(String bPMN) {\r\n        this.bPMN = bPMN;\r\n    }\r\n\r\n    public String getxPMNDI() {\r\n        return xPMNDI;\r\n    }\r\n    @XmlAttribute\r\n    public void setxPMNDI(String xPMNDI) {\r\n        this.xPMNDI = xPMNDI;\r\n    }\r\n\r\n    public String getdC() {\r\n        return dC;\r\n    }\r\n    @XmlAttribute\r\n    public void setdC(String dC) {\r\n        this.dC = dC;\r\n    }\r\n\r\n    public String getCamunda() {\r\n        return camunda;\r\n    }\r\n    @XmlAttribute\r\n    public void setCamunda(String camunda) {\r\n        this.camunda = camunda;\r\n    }\r\n\r\n    public String getxSI() {\r\n        return xSI;\r\n    }\r\n    @XmlAttribute\r\n    public void setxSI(String xSI) {\r\n        this.xSI = xSI;\r\n    }\r\n\r\n    public String getdI() {\r\n        return dI;\r\n    }\r\n    @XmlAttribute\r\n    public void setdI(String dI) {\r\n        this.dI = dI;\r\n    }\r\n\r\n    public String getModeler() {\r\n        return modeler;\r\n    }\r\n    @XmlAttribute\r\n    public void setModeler(String modeler) {\r\n        this.modeler = modeler;\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n    @XmlAttribute\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getTargetNameSpace() {\r\n        return targetNameSpace;\r\n    }\r\n    @XmlAttribute\r\n    public void setTargetNameSpace(String targetNameSpace) {\r\n        this.targetNameSpace = targetNameSpace;\r\n    }\r\n\r\n    public String getExporter() {\r\n        return exporter;\r\n    }\r\n    @XmlAttribute\r\n    public void setExporter(String exporter) {\r\n        this.exporter = exporter;\r\n    }\r\n\r\n    public String getExporterVersion() {\r\n        return exporterVersion;\r\n    }\r\n    @XmlAttribute\r\n    public void setExporterVersion(String exporterVersion) {\r\n        this.exporterVersion = exporterVersion;\r\n    }\r\n\r\n    public String getExecutionPlatform() {\r\n        return executionPlatform;\r\n    }\r\n    @XmlAttribute\r\n    public void setExecutionPlatform(String executionPlatform) {\r\n        this.executionPlatform = executionPlatform;\r\n    }\r\n\r\n    public String getExecutionPlatformVersion() {\r\n        return executionPlatformVersion;\r\n    }\r\n    @XmlAttribute\r\n    public void setExecutionPlatformVersion(String executionPlatformVersion) {\r\n        this.executionPlatformVersion = executionPlatformVersion;\r\n    }\r\n}\r\n```\r\nAnd this is how I&#39;m unmarshalling the string\r\n```\r\n    public static void main(String[] args) throws IOException, ParseException, JAXBException {\r\n        HttpGet getRequest = new HttpGet(&quot;http://localhost:8081/engine-rest/process-definition/key/Process2/xml&quot;);\r\n        CloseableHttpClient client = HttpClientBuilder.create().build();\r\n        CloseableHttpResponse response = client.execute(getRequest);\r\n        JSONObject firstTaskFlows = new JSONObject(EntityUtils.toString(response.getEntity()));\r\n        String xmlString = firstTaskFlows.get(&quot;bpmn20Xml&quot;).toString();\r\n        JAXBContext jaxbContext = JAXBContext.newInstance(BPMNDefinitions.class);\r\n        StringReader reader = new StringReader(xmlString);\r\n        Unmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\r\n        BPMNDefinitions customer = (BPMNDefinitions) jaxbUnmarshaller.unmarshal(reader);\r\n    }\r\n```\r\nBy the way, I&#39;m trying to get xml response from camunda (BPMN Engine) and convert it to java object","title":"unmarshall string to java object using JAXB","body":"<p>I'm using JAXB unmarshaller to convert xml string to java object, however I get an error that I don't know what does that mean</p>\n<pre><code>\nException in thread &quot;main&quot; jakarta.xml.bind.UnmarshalException: unexpected element (uri:&quot;http://www.omg.org/spec/BPMN/20100524/MODEL&quot;, local:&quot;definitions&quot;). Expected elements are &lt;{}bpmn:definitions&gt;\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallingContext.handleEvent(UnmarshallingContext.java:701)\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.Loader.reportError(Loader.java:230)\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.Loader.reportError(Loader.java:225)\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.Loader.reportUnexpectedChildElement(Loader.java:92)\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallingContext$DefaultRootLoader.childElement(UnmarshallingContext.java:1106)\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallingContext._startElement(UnmarshallingContext.java:531)\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallingContext.startElement(UnmarshallingContext.java:513)\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.SAXConnector.startElement(SAXConnector.java:137)\n    at java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(AbstractSAXParser.java:518)\n    at java.xml/com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(XMLNSDocumentScannerImpl.java:374)\n    at java.xml/com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl$NSContentDriver.scanRootElementHook(XMLNSDocumentScannerImpl.java:613)\n    at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:3079)\n</code></pre>\n<p>The xml I'm using is something like this</p>\n<pre><code>&lt;bpmn:definitions xmlns:bpmn=&quot;http://www.omg.org/spec/BPMN/20100524/MODEL&quot; xmlns:bpmndi=&quot;http://www.omg.org/spec/BPMN/20100524/DI&quot; xmlns:dc=&quot;http://www.omg.org/spec/DD/20100524/DC&quot; xmlns:camunda=&quot;http://camunda.org/schema/1.0/bpmn&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:di=&quot;http://www.omg.org/spec/DD/20100524/DI&quot; xmlns:modeler=&quot;http://camunda.org/schema/modeler/1.0&quot; id=&quot;Definitions_1xqdoqa&quot; targetNamespace=&quot;http://bpmn.io/schema/bpmn&quot; exporter=&quot;Camunda Modeler&quot; exporterVersion=&quot;5.13.0&quot; modeler:executionPlatform=&quot;Camunda Platform&quot; modeler:executionPlatformVersion=&quot;7.19.0&quot;&gt;\n  &lt;bpmn:process id=&quot;Process2&quot; isExecutable=&quot;true&quot; camunda:historyTimeToLive=&quot;1&quot;&gt;\n    &lt;bpmn:userTask id=&quot;Activity_0r63cqs&quot;&gt;\n      &lt;bpmn:incoming&gt;Flow02&lt;/bpmn:incoming&gt;\n      &lt;bpmn:outgoing&gt;Flow_0xsmp8q&lt;/bpmn:outgoing&gt;\n    &lt;/bpmn:userTask&gt;\n    &lt;bpmn:userTask id=&quot;Activity_0e7h96z&quot;&gt;\n      &lt;bpmn:extensionElements&gt;\n        &lt;camunda:taskListener class=&quot;ir.edmp.camunda.listeners.EDMPTaskCreateListener&quot; event=&quot;create&quot;&gt;\n          &lt;camunda:field name=&quot;assigneeType&quot;&gt;\n            &lt;camunda:string&gt;Static&lt;/camunda:string&gt;\n          &lt;/camunda:field&gt;\n          &lt;camunda:field name=&quot;assigneeApproach&quot;&gt;\n            &lt;camunda:string&gt;admin_platform&lt;/camunda:string&gt;\n          &lt;/camunda:field&gt;\n        &lt;/camunda:taskListener&gt;\n....\n</code></pre>\n<p>My java class is BPMNDefinition</p>\n<pre><code>@XmlRootElement(name = &quot;bpmn:definitions&quot;)\npublic class BPMNDefinitions {\n    private String bPMN;\n    private String xPMNDI;\n    private String dC;\n    private String camunda;\n    private String xSI;\n    private String dI;\n    private String modeler;\n    private String id;\n    private String targetNameSpace;\n    private String exporter;\n    private String exporterVersion;\n    private String executionPlatform;\n    private String executionPlatformVersion;\n\n    public String getbPMN() {\n        return bPMN;\n    }\n\n    @XmlAttribute\n    public void setbPMN(String bPMN) {\n        this.bPMN = bPMN;\n    }\n\n    public String getxPMNDI() {\n        return xPMNDI;\n    }\n    @XmlAttribute\n    public void setxPMNDI(String xPMNDI) {\n        this.xPMNDI = xPMNDI;\n    }\n\n    public String getdC() {\n        return dC;\n    }\n    @XmlAttribute\n    public void setdC(String dC) {\n        this.dC = dC;\n    }\n\n    public String getCamunda() {\n        return camunda;\n    }\n    @XmlAttribute\n    public void setCamunda(String camunda) {\n        this.camunda = camunda;\n    }\n\n    public String getxSI() {\n        return xSI;\n    }\n    @XmlAttribute\n    public void setxSI(String xSI) {\n        this.xSI = xSI;\n    }\n\n    public String getdI() {\n        return dI;\n    }\n    @XmlAttribute\n    public void setdI(String dI) {\n        this.dI = dI;\n    }\n\n    public String getModeler() {\n        return modeler;\n    }\n    @XmlAttribute\n    public void setModeler(String modeler) {\n        this.modeler = modeler;\n    }\n\n    public String getId() {\n        return id;\n    }\n    @XmlAttribute\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getTargetNameSpace() {\n        return targetNameSpace;\n    }\n    @XmlAttribute\n    public void setTargetNameSpace(String targetNameSpace) {\n        this.targetNameSpace = targetNameSpace;\n    }\n\n    public String getExporter() {\n        return exporter;\n    }\n    @XmlAttribute\n    public void setExporter(String exporter) {\n        this.exporter = exporter;\n    }\n\n    public String getExporterVersion() {\n        return exporterVersion;\n    }\n    @XmlAttribute\n    public void setExporterVersion(String exporterVersion) {\n        this.exporterVersion = exporterVersion;\n    }\n\n    public String getExecutionPlatform() {\n        return executionPlatform;\n    }\n    @XmlAttribute\n    public void setExecutionPlatform(String executionPlatform) {\n        this.executionPlatform = executionPlatform;\n    }\n\n    public String getExecutionPlatformVersion() {\n        return executionPlatformVersion;\n    }\n    @XmlAttribute\n    public void setExecutionPlatformVersion(String executionPlatformVersion) {\n        this.executionPlatformVersion = executionPlatformVersion;\n    }\n}\n</code></pre>\n<p>And this is how I'm unmarshalling the string</p>\n<pre><code>    public static void main(String[] args) throws IOException, ParseException, JAXBException {\n        HttpGet getRequest = new HttpGet(&quot;http://localhost:8081/engine-rest/process-definition/key/Process2/xml&quot;);\n        CloseableHttpClient client = HttpClientBuilder.create().build();\n        CloseableHttpResponse response = client.execute(getRequest);\n        JSONObject firstTaskFlows = new JSONObject(EntityUtils.toString(response.getEntity()));\n        String xmlString = firstTaskFlows.get(&quot;bpmn20Xml&quot;).toString();\n        JAXBContext jaxbContext = JAXBContext.newInstance(BPMNDefinitions.class);\n        StringReader reader = new StringReader(xmlString);\n        Unmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\n        BPMNDefinitions customer = (BPMNDefinitions) jaxbUnmarshaller.unmarshal(reader);\n    }\n</code></pre>\n<p>By the way, I'm trying to get xml response from camunda (BPMN Engine) and convert it to java object</p>\n"},{"tags":["java","gradle","jar"],"answers":[{"comments":[{"owner":{"account_id":17161441,"reputation":41,"user_id":12420994,"display_name":"Grantis"},"score":3,"creation_date":1578058939,"post_id":59577231,"comment_id":105325458,"body_markdown":"That&#39;s a deprecated way to do that. Isn&#39;t there a better or modern way to do that?","body":"That&#39;s a deprecated way to do that. Isn&#39;t there a better or modern way to do that?"}],"tags":[],"owner":{"account_id":14095561,"reputation":1426,"user_id":10182449,"display_name":"PythonLearner"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1578048625,"creation_date":1578048625,"answer_id":59577231,"question_id":59577107,"body_markdown":"You can try with the following changes.\r\n\r\n    jar{\r\n       destinationDir = file(&quot;$rootDir/someDir&quot;)\r\n    }","title":"How to change jar output directory in Gradle?","body":"<p>You can try with the following changes.</p>\n\n<pre><code>jar{\n   destinationDir = file(\"$rootDir/someDir\")\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19125636,"reputation":7406,"user_id":13968673,"display_name":"Михаил Нафталь"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1597838405,"creation_date":1597838405,"answer_id":63486509,"question_id":59577107,"body_markdown":"For Gradle 5.1+:\r\n```kotlin\r\njar {\r\n    destinationDirectory.set(file(&quot;$buildDir/someDir&quot;))\r\n}\r\n```","title":"How to change jar output directory in Gradle?","body":"<p>For Gradle 5.1+:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>jar {\n    destinationDirectory.set(file(&quot;$buildDir/someDir&quot;))\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":282870,"reputation":3742,"user_id":580041,"accept_rate":91,"display_name":"Goldorak84"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692285090,"creation_date":1692285090,"answer_id":76922830,"question_id":59577107,"body_markdown":"I use this syntax for Kotlin DSL (`build.gradle.kts`) \r\n\r\n\r\n    tasks.withType&lt;Jar&gt; {\r\n        destinationDirectory = File(&quot;$rootDir/someDir&quot;)\r\n    }","title":"How to change jar output directory in Gradle?","body":"<p>I use this syntax for Kotlin DSL (<code>build.gradle.kts</code>)</p>\n<pre><code>tasks.withType&lt;Jar&gt; {\n    destinationDirectory = File(&quot;$rootDir/someDir&quot;)\n}\n</code></pre>\n"}],"owner":{"account_id":17161441,"reputation":41,"user_id":12420994,"display_name":"Grantis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9704,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1692285090,"creation_date":1578048086,"question_id":59577107,"body_markdown":"I was wondering if it is possible to change jar output file into other directory like on desktop or somewhere else? If so, how do I do that?\r\nThank you.","title":"How to change jar output directory in Gradle?","body":"<p>I was wondering if it is possible to change jar output file into other directory like on desktop or somewhere else? If so, how do I do that?\nThank you.</p>\n"},{"tags":["java","javafx","mssql-jdbc","jlink"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692285942,"post_id":76922817,"comment_id":135605453,"body_markdown":"Please state whether you have that driver as a jmod or a jar","body":"Please state whether you have that driver as a jmod or a jar"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1692287399,"post_id":76922817,"comment_id":135605794,"body_markdown":"If you&#39;re willing to use `jpackage`, check out [my answer to a similar question](https://stackoverflow.com/a/76550092/6395627). However, I&#39;m not sure what that solution would look like in Maven.","body":"If you&#39;re willing to use <code>jpackage</code>, check out <a href=\"https://stackoverflow.com/a/76550092/6395627\">my answer to a similar question</a>. However, I&#39;m not sure what that solution would look like in Maven."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1692288075,"post_id":76922817,"comment_id":135605935,"body_markdown":"@g00se Note whether the driver is packaged in a JMOD file or a JAR file is largely irrelevant, at least with regards to the specified error. The important thing is whether or not the dependency has a `module-info` descriptor, and from looking at [the source repository](https://github.com/microsoft/mssql-jdbc/tree/main), it doesn&#39;t look like mssql-jdbc has one. It does appear to have Gradle set the `Automatic-Module-Name` manifest attribute, which is further evidence of no `module-info` descriptor, and which won&#39;t help here because `jlink` can only work with _explicit_ modules.","body":"@g00se Note whether the driver is packaged in a JMOD file or a JAR file is largely irrelevant, at least with regards to the specified error. The important thing is whether or not the dependency has a <code>module-info</code> descriptor, and from looking at <a href=\"https://github.com/microsoft/mssql-jdbc/tree/main\" rel=\"nofollow noreferrer\">the source repository</a>, it doesn&#39;t look like mssql-jdbc has one. It does appear to have Gradle set the <code>Automatic-Module-Name</code> manifest attribute, which is further evidence of no <code>module-info</code> descriptor, and which won&#39;t help here because <code>jlink</code> can only work with <i>explicit</i> modules."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692288998,"post_id":76922817,"comment_id":135606127,"body_markdown":"What about repackaging it *as* a module?","body":"What about repackaging it <i>as</i> a module?"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1692291848,"post_id":76922817,"comment_id":135606718,"body_markdown":"@g00se repackaging as a module may work or may not.  Not all code will just work that way. If it already works as an automatic module repackaging will probably work.  Maven tools like moditect do that.  The badass jlink gradle plugin  does some kind of weird shenanigans to allow non modular code to be packaged with a distribution primarily built by jlink (if might do it through not linking them or repackaging them as a module).  JPackageScriptFX uses jpackage maven and scripts to package with unlinked automatic modules.  I haven’t used any of the above tools.","body":"@g00se repackaging as a module may work or may not.  Not all code will just work that way. If it already works as an automatic module repackaging will probably work.  Maven tools like moditect do that.  The badass jlink gradle plugin  does some kind of weird shenanigans to allow non modular code to be packaged with a distribution primarily built by jlink (if might do it through not linking them or repackaging them as a module).  JPackageScriptFX uses jpackage maven and scripts to package with unlinked automatic modules.  I haven’t used any of the above tools."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1692296044,"post_id":76922817,"comment_id":135607512,"body_markdown":"@g00se It&#39;s possible. There are tools that do this, as pointed out by jewelsea, but I&#39;m not exactly sure how they work. Though I suspect they rely on [jdeps](https://docs.oracle.com/en/java/javase/20/docs/specs/man/jdeps.html).","body":"@g00se It&#39;s possible. There are tools that do this, as pointed out by jewelsea, but I&#39;m not exactly sure how they work. Though I suspect they rely on <a href=\"https://docs.oracle.com/en/java/javase/20/docs/specs/man/jdeps.html\" rel=\"nofollow noreferrer\">jdeps</a>."},{"owner":{"account_id":12164094,"reputation":13,"user_id":8880886,"display_name":"Etarus"},"score":1,"creation_date":1692303707,"post_id":76922817,"comment_id":135608826,"body_markdown":"@Slaw, you were right. I created a project on Gradle, added the mssql dependency, and built the custom image without any problems. That&#39;s very strange… And maven is more comfortable for me.","body":"@Slaw, you were right. I created a project on Gradle, added the mssql dependency, and built the custom image without any problems. That&#39;s very strange… And maven is more comfortable for me."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1692315557,"post_id":76922817,"comment_id":135610250,"body_markdown":"@ЭдуардАртюх yeah, the badass gradle plugin offers more functionality around this than the javafx-maven-plugin.  It isn’t a core maven limitation, the javafx-maven-plugin could probably be rewritten to do what the badass jlink plugin does, but it would be quite difficult and a lot of work I guess.  One traffic is the badass gradle jlink plugin documentation is more complex (and you have to use gradle to use it).","body":"@ЭдуардАртюх yeah, the badass gradle plugin offers more functionality around this than the javafx-maven-plugin.  It isn’t a core maven limitation, the javafx-maven-plugin could probably be rewritten to do what the badass jlink plugin does, but it would be quite difficult and a lot of work I guess.  One traffic is the badass gradle jlink plugin documentation is more complex (and you have to use gradle to use it)."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1692333511,"post_id":76922817,"comment_id":135611611,"body_markdown":"To create a jlink image using Maven, and also include automatic modules in the distribution:  One way to do that is to create a jlink image of all the modular dependencies and then use the assembly plugin to copy the non modular dependencies into the generated image output directory, together with a custom launch script which puts the automatic jars on the class or module path.  Zip up the entire assembly for distribution using the assembly plugin.  It is tricky and difficult to do right and I haven’t time to write an example answer here at the moment.","body":"To create a jlink image using Maven, and also include automatic modules in the distribution:  One way to do that is to create a jlink image of all the modular dependencies and then use the assembly plugin to copy the non modular dependencies into the generated image output directory, together with a custom launch script which puts the automatic jars on the class or module path.  Zip up the entire assembly for distribution using the assembly plugin.  It is tricky and difficult to do right and I haven’t time to write an example answer here at the moment."}],"owner":{"account_id":12164094,"reputation":13,"user_id":8880886,"display_name":"Etarus"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692284974,"creation_date":1692284974,"question_id":76922817,"body_markdown":"How to create a custom runtime image with MSSQL JDBC Driver? \r\n\r\n  \r\nI created a new JavaFX project using and IntelliJ IDEA.\r\n\r\nI added to dependency MSSQL JDBC Driver to my pom-file.\r\n\r\npom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;name&gt;demo&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;junit.version&gt;5.9.2&lt;/junit.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;17.0.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;17.0.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;11.2.3.jre17&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;app&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.11.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;17&lt;/source&gt;\r\n                    &lt;target&gt;17&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\r\n                        &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;com.example.demo/com.example.demo.HelloApplication&lt;/mainClass&gt;\r\n                            &lt;launcher&gt;app&lt;/launcher&gt;\r\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\r\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\r\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\r\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\r\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nThen added requires to module-info.java\r\n\r\n```\r\nmodule com.example.demo {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n    requires java.sql;\r\n    requires com.microsoft.sqlserver.jdbc;\r\n\r\n\r\n    opens com.example.demo to javafx.fxml;\r\n    exports com.example.demo;\r\n}\r\n```\r\n\r\nBut when I tried to create a custom runtime image , using the JavaFX Maven plugin, I get an error:\r\n\r\n```\r\nError: automatic module cannot be used with jlink: com.microsoft.sqlserver.jdbc\r\n```\r\n\r\n```\r\n&quot;C:\\Program Files\\Windows Portable\\Java\\jdk-17.0.7\\bin\\java.exe&quot; \r\n[INFO] Scanning for projects...\r\n[INFO] \r\n[INFO] --------------------------&lt; com.example:demo &gt;--------------------------\r\n[INFO] Building demo 1.0-SNAPSHOT\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO] \r\n[INFO] &gt;&gt;&gt; javafx-maven-plugin:0.0.8:jlink (default-cli) &gt; process-classes @ demo &gt;&gt;&gt;\r\n[INFO] \r\n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ demo ---\r\n[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n[INFO] Copying 2 resources\r\n[INFO] \r\n[INFO] --- maven-compiler-plugin:3.11.0:compile (default-compile) @ demo ---\r\n[INFO] Nothing to compile - all classes are up to date\r\n[INFO] \r\n[INFO] &lt;&lt;&lt; javafx-maven-plugin:0.0.8:jlink (default-cli) &lt; process-classes @ demo &lt;&lt;&lt;\r\n[INFO] \r\n[INFO] \r\n[INFO] --- javafx-maven-plugin:0.0.8:jlink (default-cli) @ demo ---\r\nError: automatic module cannot be used with jlink: com.microsoft.sqlserver.jdbc from file:///C:/Users/artyukhev/.m2/repository/com/microsoft/sqlserver/mssql-jdbc/11.2.3.jre17/mssql-jdbc-11.2.3.jre17.jar\r\n[ERROR] Command execution failed.\r\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\r\n    at org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)\r\n    at org.apache.commons.exec.DefaultExecutor.execute (DefaultExecutor.java:166)\r\n    at org.openjfx.JavaFXBaseMojo.executeCommandLine (JavaFXBaseMojo.java:567)\r\n    at org.openjfx.JavaFXBaseMojo.executeCommandLine (JavaFXBaseMojo.java:434)\r\n    at org.openjfx.JavaFXJLinkMojo.execute (JavaFXJLinkMojo.java:209)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:301)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:211)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:165)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:157)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:121)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:127)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:568)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  1.806 s\r\n[INFO] Finished at: 2023-08-17T17:35:22+03:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.openjfx:javafx-maven-plugin:0.0.8:jlink (default-cli) on project demo: Error: Command execution failed. Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\r\n\tat org.apache.commons.exec.DefaultExecutor.executeInternal(DefaultExecutor.java:404)\r\n\tat org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:166)\r\n\tat org.openjfx.JavaFXBaseMojo.executeCommandLine(JavaFXBaseMojo.java:567)\r\n\tat org.openjfx.JavaFXBaseMojo.executeCommandLine(JavaFXBaseMojo.java:434)\r\n\tat org.openjfx.JavaFXJLinkMojo.execute(JavaFXJLinkMojo.java:209)\r\n\tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:301)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:211)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:165)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:157)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:121)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\r\n\tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:127)\r\n\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:294)\r\n\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\r\n\tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\r\n\tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:960)\r\n\tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:293)\r\n\tat org.apache.maven.cli.MavenCli.main(MavenCli.java:196)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\r\n\tat org.codehaus.classworlds.Launcher.main(Launcher.java:47)\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nHow to fix it?","title":"Can&#39;t to create a custom runtime image with MSSQL JDBC Driver","body":"<p>How to create a custom runtime image with MSSQL JDBC Driver?</p>\n<p>I created a new JavaFX project using and IntelliJ IDEA.</p>\n<p>I added to dependency MSSQL JDBC Driver to my pom-file.</p>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;junit.version&gt;5.9.2&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;17.0.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;17.0.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;11.2.3.jre17&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;app&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.11.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;com.example.demo/com.example.demo.HelloApplication&lt;/mainClass&gt;\n                            &lt;launcher&gt;app&lt;/launcher&gt;\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Then added requires to module-info.java</p>\n<pre><code>module com.example.demo {\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires java.sql;\n    requires com.microsoft.sqlserver.jdbc;\n\n\n    opens com.example.demo to javafx.fxml;\n    exports com.example.demo;\n}\n</code></pre>\n<p>But when I tried to create a custom runtime image , using the JavaFX Maven plugin, I get an error:</p>\n<pre><code>Error: automatic module cannot be used with jlink: com.microsoft.sqlserver.jdbc\n</code></pre>\n<pre><code>&quot;C:\\Program Files\\Windows Portable\\Java\\jdk-17.0.7\\bin\\java.exe&quot; \n[INFO] Scanning for projects...\n[INFO] \n[INFO] --------------------------&lt; com.example:demo &gt;--------------------------\n[INFO] Building demo 1.0-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] &gt;&gt;&gt; javafx-maven-plugin:0.0.8:jlink (default-cli) &gt; process-classes @ demo &gt;&gt;&gt;\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ demo ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 2 resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.11.0:compile (default-compile) @ demo ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO] \n[INFO] &lt;&lt;&lt; javafx-maven-plugin:0.0.8:jlink (default-cli) &lt; process-classes @ demo &lt;&lt;&lt;\n[INFO] \n[INFO] \n[INFO] --- javafx-maven-plugin:0.0.8:jlink (default-cli) @ demo ---\nError: automatic module cannot be used with jlink: com.microsoft.sqlserver.jdbc from file:///C:/Users/artyukhev/.m2/repository/com/microsoft/sqlserver/mssql-jdbc/11.2.3.jre17/mssql-jdbc-11.2.3.jre17.jar\n[ERROR] Command execution failed.\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\n    at org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)\n    at org.apache.commons.exec.DefaultExecutor.execute (DefaultExecutor.java:166)\n    at org.openjfx.JavaFXBaseMojo.executeCommandLine (JavaFXBaseMojo.java:567)\n    at org.openjfx.JavaFXBaseMojo.executeCommandLine (JavaFXBaseMojo.java:434)\n    at org.openjfx.JavaFXJLinkMojo.execute (JavaFXJLinkMojo.java:209)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:301)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:211)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:165)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:157)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:121)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:127)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n    at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  1.806 s\n[INFO] Finished at: 2023-08-17T17:35:22+03:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.openjfx:javafx-maven-plugin:0.0.8:jlink (default-cli) on project demo: Error: Command execution failed. Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\n    at org.apache.commons.exec.DefaultExecutor.executeInternal(DefaultExecutor.java:404)\n    at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:166)\n    at org.openjfx.JavaFXBaseMojo.executeCommandLine(JavaFXBaseMojo.java:567)\n    at org.openjfx.JavaFXBaseMojo.executeCommandLine(JavaFXBaseMojo.java:434)\n    at org.openjfx.JavaFXJLinkMojo.execute(JavaFXJLinkMojo.java:209)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:301)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:211)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:165)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:157)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:121)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:127)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:196)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\n    at org.codehaus.classworlds.Launcher.main(Launcher.java:47)\n\nProcess finished with exit code 1\n</code></pre>\n<p>How to fix it?</p>\n"},{"tags":["java","junit","junit5"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1671462815,"post_id":74852262,"comment_id":132098554,"body_markdown":"Please add the complete stacktrace","body":"Please add the complete stacktrace"},{"owner":{"account_id":25593043,"reputation":69,"user_id":19369423,"display_name":"TalClip"},"score":0,"creation_date":1671463129,"post_id":74852262,"comment_id":132098675,"body_markdown":"Done. Partially, it is very long :)","body":"Done. Partially, it is very long :)"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1671463451,"post_id":74852262,"comment_id":132098799,"body_markdown":"Take care of java naming conventions. Method names should start with lower case character. Maybe that is the reason why your `@MethodSource`is not found","body":"Take care of java naming conventions. Method names should start with lower case character. Maybe that is the reason why your <code>@MethodSource</code>is not found"},{"owner":{"account_id":25593043,"reputation":69,"user_id":19369423,"display_name":"TalClip"},"score":0,"creation_date":1671463687,"post_id":74852262,"comment_id":132098888,"body_markdown":"You are correct convention-wise ofcourse, but that unfortunately didn&#39;t help...","body":"You are correct convention-wise ofcourse, but that unfortunately didn&#39;t help..."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1671463746,"post_id":74852262,"comment_id":132098906,"body_markdown":"The main problem is *Configuration error: You must configure at least one set of arguments for this @ParameterizedTest*.","body":"The main problem is <i>Configuration error: You must configure at least one set of arguments for this @ParameterizedTest</i>."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1671463810,"post_id":74852262,"comment_id":132098926,"body_markdown":"Can you please provide an [mcve]","body":"Can you please provide an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":25593043,"reputation":69,"user_id":19369423,"display_name":"TalClip"},"score":0,"creation_date":1671463830,"post_id":74852262,"comment_id":132098930,"body_markdown":"I understand that, and I think this is what I do. Do I do it correctly?","body":"I understand that, and I think this is what I do. Do I do it correctly?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1671463962,"post_id":74852262,"comment_id":132098971,"body_markdown":"I think *static Stream&lt;Arguments&gt; slidesTestsArguments()* should be *static Stream&lt;VersionData&gt; slidesTestsArguments()*","body":"I think <i>static Stream&lt;Arguments&gt; slidesTestsArguments()</i> should be <i>static Stream&lt;VersionData&gt; slidesTestsArguments()</i>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1671464253,"post_id":74852262,"comment_id":132099069,"body_markdown":"@Jens Use of `Stream&lt;Arguments&gt;` should work.","body":"@Jens Use of <code>Stream&lt;Arguments&gt;</code> should work."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1671464751,"post_id":74852262,"comment_id":132099281,"body_markdown":"I tested something similar to your code. Works fine. (I didn&#39;t use maven though). Only question left for me: can you show the inheritance relationship between `VersionData` and `V2Data`, `V3Data` and `V4Data`? This and a sample implementation of the method to test would miss for me to get a [mre].","body":"I tested something similar to your code. Works fine. (I didn&#39;t use maven though). Only question left for me: can you show the inheritance relationship between <code>VersionData</code> and <code>V2Data</code>, <code>V3Data</code> and <code>V4Data</code>? This and a sample implementation of the method to test would miss for me to get a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":25593043,"reputation":69,"user_id":19369423,"display_name":"TalClip"},"score":0,"creation_date":1671465112,"post_id":74852262,"comment_id":132099401,"body_markdown":"@cyberbrain it is simply V2Data extends VersionData, both are simple POJOs","body":"@cyberbrain it is simply V2Data extends VersionData, both are simple POJOs"},{"owner":{"account_id":25593043,"reputation":69,"user_id":19369423,"display_name":"TalClip"},"score":0,"creation_date":1671466124,"post_id":74852262,"comment_id":132099757,"body_markdown":"I made some post updates. Hope that helps","body":"I made some post updates. Hope that helps"},{"owner":{"account_id":25593043,"reputation":69,"user_id":19369423,"display_name":"TalClip"},"score":0,"creation_date":1671469250,"post_id":74852262,"comment_id":132100900,"body_markdown":"@cyberbrain (and @Gens), I added a minimal reproducible example (I hope)","body":"@cyberbrain (and @Gens), I added a minimal reproducible example (I hope)"}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671479278,"creation_date":1671479278,"answer_id":74855333,"question_id":74852262,"body_markdown":"Your pom.xml looks weird. You have too many test libraries as dependencies, and mix JUnit versions. \r\nFor start, try it with something smaller like this:\r\n\r\n``` lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;com.aaaaaa&lt;/groupId&gt;\r\n  &lt;artifactId&gt;aasasa-dfsdfsdfsd-api-test&lt;/artifactId&gt;\r\n  &lt;version&gt;10.0.0&lt;/version&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.version&gt;3.8.1&lt;/maven.compiler.version&gt;\r\n    &lt;java.version&gt;15&lt;/java.version&gt;\r\n    &lt;junit-jupiter.version&gt;5.9.1&lt;/junit-jupiter.version&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n      &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```","title":"JUnit 5 fails to run a methodSourced test","body":"<p>Your pom.xml looks weird. You have too many test libraries as dependencies, and mix JUnit versions.\nFor start, try it with something smaller like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.aaaaaa&lt;/groupId&gt;\n  &lt;artifactId&gt;aasasa-dfsdfsdfsd-api-test&lt;/artifactId&gt;\n  &lt;version&gt;10.0.0&lt;/version&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.version&gt;3.8.1&lt;/maven.compiler.version&gt;\n    &lt;java.version&gt;15&lt;/java.version&gt;\n    &lt;junit-jupiter.version&gt;5.9.1&lt;/junit-jupiter.version&gt;\n  &lt;/properties&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0-M5&lt;/version&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n      &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25593043,"reputation":69,"user_id":19369423,"display_name":"TalClip"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671643236,"creation_date":1671519630,"answer_id":74859507,"question_id":74852262,"body_markdown":"At the end, leaving only\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n    &lt;version&gt;5.9.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n    &lt;version&gt;5.9.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nunder the surefire dependencies section fixed the problem. ","title":"JUnit 5 fails to run a methodSourced test","body":"<p>At the end, leaving only</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n    &lt;version&gt;5.9.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n    &lt;version&gt;5.9.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>under the surefire dependencies section fixed the problem.</p>\n"}],"owner":{"account_id":25593043,"reputation":69,"user_id":19369423,"display_name":"TalClip"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":888,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692284959,"creation_date":1671462124,"question_id":74852262,"body_markdown":"I have the following JUnit 5 test:\r\n\r\n    @ParameterizedTest\r\n    @DisplayName(&quot;Test Valid Video With Slides&quot;)\r\n    @MethodSource(&quot;slidesTestsArguments&quot;)\r\n    void testValidVideoWithSlides(VersionData versionData) {\r\n\r\n        SlidesResponse slidesResponse = testsHelper.callVideosSlidesRequest(versionData);\r\n        assertAll(\r\n            &quot;Validating response of transcript ep for a video with transcript&quot;,\r\n            () -&gt; assertEquals(validPublishedSlidesVideoId, slidesResponse.videoId, &quot;VideoId is not as expected&quot;),\r\n            () -&gt; assertNotEquals(0, slidesResponse.slides.size(), &quot;Segments number should be more than 0&quot;)\r\n        );\r\n    }\r\n\r\nand a supplier method in the same class:\r\n\r\n    static Stream&lt;Arguments&gt; slidesTestsArguments() {\r\n\r\n        return Stream.of(\r\n            Arguments.of(new V2Data()),\r\n            Arguments.of(new V3Data()),\r\n            Arguments.of(new V4Data())\r\n        );\r\n    }\r\n\r\nFor some reason I get the following error:\r\n\r\n```none\r\njava.lang.AbstractMethodError: Receiver class org.junit.jupiter.engine.descriptor.TestTemplateExtensionContext does not define or inherit an implementation of the resolved method &#39;abstract org.junit.jupiter.api.extension.ExecutableInvoker getExecutableInvoker()&#39; of interface org.junit.jupiter.api.extension.ExtensionContext.\r\n\tat org.junit.jupiter.params.provider.MethodArgumentsProvider.lambda$provideArguments$1(MethodArgumentsProvider.java:54)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n\tat java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n\tSuppressed: org.junit.platform.commons.PreconditionViolationException: Configuration error: You must configure at least one set of arguments for this @ParameterizedTest\r\n\t\tat org.junit.platform.commons.util.Preconditions.condition(Preconditions.java:299)\r\n\t\tat org.junit.jupiter.params.ParameterizedTestExtension.lambda$provideTestTemplateInvocationContexts$5(ParameterizedTestExtension.java:98)\r\n\t\tat java.base/java.util.stream.AbstractPipeline.close(AbstractPipeline.java:323)\r\n\t\tat java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:271)\r\n\t\t... 55 more\r\n```\r\n\r\nThis is part of the pom.xml: \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n    http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.aaaaaa&lt;/groupId&gt;\r\n    &lt;artifactId&gt;aasasa-dfsdfsdfsd-api-test&lt;/artifactId&gt;\r\n    &lt;version&gt;10.0.0&lt;/version&gt;\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.version&gt;3.8.1&lt;/maven.compiler.version&gt;\r\n        &lt;java.version&gt;15&lt;/java.version&gt;\r\n        &lt;junit-jupiter.version&gt;5.9.1&lt;/junit-jupiter.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/SanityTMTestsSuite*.java&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                    &lt;argLine&gt;\r\n                        -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\r\n                    &lt;/argLine&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n                        &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n                        &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n                        &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;!--JUnit Jupiter Engine to depend on the JUnit5 engine and JUnit 5 API --&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n                        &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n            &lt;type&gt;maven-plugin&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.13&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;pl.pragmatists&lt;/groupId&gt;\r\n            &lt;artifactId&gt;JUnitParams&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--JUnit Jupiter Engine to depend on the JUnit4 engine and JUnit 4 API  --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;2.14.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n            &lt;version&gt;7.7.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-platform-suite-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n\r\nJava 15.\r\n\r\nI work on latest IntelliJ env.\r\n\r\n\r\nThe very same happened for me on the same class with :\r\n\r\n```java\r\nstatic Stream&lt;Integer&gt; testArguments() {\r\n     return Stream.of(1, 2 ,3);\r\n}\r\n\r\n\r\n@ParameterizedTest\r\n@MethodSource(&quot;testArguments&quot;)\r\nvoid testInteger(Integer n) {\r\n     System.out.println(n);\r\n}\r\n```","title":"JUnit 5 fails to run a methodSourced test","body":"<p>I have the following JUnit 5 test:</p>\n<pre><code>@ParameterizedTest\n@DisplayName(&quot;Test Valid Video With Slides&quot;)\n@MethodSource(&quot;slidesTestsArguments&quot;)\nvoid testValidVideoWithSlides(VersionData versionData) {\n\n    SlidesResponse slidesResponse = testsHelper.callVideosSlidesRequest(versionData);\n    assertAll(\n        &quot;Validating response of transcript ep for a video with transcript&quot;,\n        () -&gt; assertEquals(validPublishedSlidesVideoId, slidesResponse.videoId, &quot;VideoId is not as expected&quot;),\n        () -&gt; assertNotEquals(0, slidesResponse.slides.size(), &quot;Segments number should be more than 0&quot;)\n    );\n}\n</code></pre>\n<p>and a supplier method in the same class:</p>\n<pre><code>static Stream&lt;Arguments&gt; slidesTestsArguments() {\n\n    return Stream.of(\n        Arguments.of(new V2Data()),\n        Arguments.of(new V3Data()),\n        Arguments.of(new V4Data())\n    );\n}\n</code></pre>\n<p>For some reason I get the following error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.AbstractMethodError: Receiver class org.junit.jupiter.engine.descriptor.TestTemplateExtensionContext does not define or inherit an implementation of the resolved method 'abstract org.junit.jupiter.api.extension.ExecutableInvoker getExecutableInvoker()' of interface org.junit.jupiter.api.extension.ExtensionContext.\n    at org.junit.jupiter.params.provider.MethodArgumentsProvider.lambda$provideArguments$1(MethodArgumentsProvider.java:54)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\n\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n    Suppressed: org.junit.platform.commons.PreconditionViolationException: Configuration error: You must configure at least one set of arguments for this @ParameterizedTest\n        at org.junit.platform.commons.util.Preconditions.condition(Preconditions.java:299)\n        at org.junit.jupiter.params.ParameterizedTestExtension.lambda$provideTestTemplateInvocationContexts$5(ParameterizedTestExtension.java:98)\n        at java.base/java.util.stream.AbstractPipeline.close(AbstractPipeline.java:323)\n        at java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:271)\n        ... 55 more\n</code></pre>\n<p>This is part of the pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \nhttp://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;com.aaaaaa&lt;/groupId&gt;\n&lt;artifactId&gt;aasasa-dfsdfsdfsd-api-test&lt;/artifactId&gt;\n&lt;version&gt;10.0.0&lt;/version&gt;\n&lt;properties&gt;\n    &lt;maven.compiler.version&gt;3.8.1&lt;/maven.compiler.version&gt;\n    &lt;java.version&gt;15&lt;/java.version&gt;\n    &lt;junit-jupiter.version&gt;5.9.1&lt;/junit-jupiter.version&gt;\n&lt;/properties&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-M5&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/SanityTMTestsSuite*.java&lt;/include&gt;\n                &lt;/includes&gt;\n                &lt;argLine&gt;\n                    -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\n                &lt;/argLine&gt;\n            &lt;/configuration&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                    &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n                    &lt;version&gt;${aspectj.version}&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n                    &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n                    &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;!--JUnit Jupiter Engine to depend on the JUnit5 engine and JUnit 5 API --&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n                    &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0-M5&lt;/version&gt;\n        &lt;type&gt;maven-plugin&lt;/type&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n        &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\n        &lt;version&gt;3.0.13&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;pl.pragmatists&lt;/groupId&gt;\n        &lt;artifactId&gt;JUnitParams&lt;/artifactId&gt;\n        &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!--JUnit Jupiter Engine to depend on the JUnit4 engine and JUnit 4 API  --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n        &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n        &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n        &lt;version&gt;2.14.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\n        &lt;artifactId&gt;testng&lt;/artifactId&gt;\n        &lt;version&gt;7.7.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-platform-suite-engine&lt;/artifactId&gt;\n        &lt;version&gt;1.9.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>Java 15.</p>\n<p>I work on latest IntelliJ env.</p>\n<p>The very same happened for me on the same class with :</p>\n<pre class=\"lang-java prettyprint-override\"><code>static Stream&lt;Integer&gt; testArguments() {\n     return Stream.of(1, 2 ,3);\n}\n\n\n@ParameterizedTest\n@MethodSource(&quot;testArguments&quot;)\nvoid testInteger(Integer n) {\n     System.out.println(n);\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":39523,"reputation":1405,"user_id":114044,"accept_rate":83,"display_name":"Stephen Hosking"},"score":11,"creation_date":1470695402,"post_id":12192050,"comment_id":65044596,"body_markdown":"&quot;Business work&quot; is the key distinction here. I find it a useful convention to use `Utils` for a static class which could be used anywhere in the organisation, or in another organisation. A `Helper` class has common code which can be re-used within a project and has dependencies within the project. Of course, there is no generally accepted rule, but I find this useful.","body":"&quot;Business work&quot; is the key distinction here. I find it a useful convention to use <code>Utils</code> for a static class which could be used anywhere in the organisation, or in another organisation. A <code>Helper</code> class has common code which can be re-used within a project and has dependencies within the project. Of course, there is no generally accepted rule, but I find this useful."},{"owner":{"account_id":7779323,"reputation":1482,"user_id":5886270,"accept_rate":74,"display_name":"Bigair"},"score":1,"creation_date":1553046865,"post_id":12192050,"comment_id":97237390,"body_markdown":"@StephenHosking Your explanation is the most persuading to me &amp; maybe to everyone.  If possible would you post your explanation as actual answer to this post rather than just left comment.","body":"@StephenHosking Your explanation is the most persuading to me &amp; maybe to everyone.  If possible would you post your explanation as actual answer to this post rather than just left comment."},{"owner":{"account_id":39523,"reputation":1405,"user_id":114044,"accept_rate":83,"display_name":"Stephen Hosking"},"score":0,"creation_date":1553557549,"post_id":12192050,"comment_id":97420557,"body_markdown":"@Bigair. Thankyou, but mine is only a suggestion, not an answer. I am glad that people have found it helpful.","body":"@Bigair. Thankyou, but mine is only a suggestion, not an answer. I am glad that people have found it helpful."}],"answers":[{"tags":[],"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"comment_count":0,"down_vote_count":3,"up_vote_count":41,"is_accepted":false,"score":38,"last_activity_date":1346312323,"creation_date":1346312323,"answer_id":12192074,"question_id":12192050,"body_markdown":"In general? It&#39;s entirely arbitrary. There are no rules for this.","title":"What are the differences between Helper and Utility classes?","body":"<p>In general? It's entirely arbitrary. There are no rules for this.</p>\n"},{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1346312842,"creation_date":1346312387,"answer_id":12192093,"question_id":12192050,"body_markdown":"There&#39;s no ultimate answer for this. Figure out one naming scheme and stick with it. Naming your packages and classes is an important part of software architecture, and nobody can take that decision away from you.\r\n\r\nI personally like the XHelper better, but I see XUtils more often in foreign code.\r\n\r\nI also like the &quot;plural&quot; naming scheme you will find both in the JDK and [Guava][1]:\r\n\r\nif a class deals with `Collection` objects, it&#39;s called `Collections`\r\n\r\nArray &gt; Arrays (jdk)  \r\nList &gt; Lists (guava)  \r\nMap &gt; Maps (guava)  \r\n\r\netc.\r\n\r\n\r\n  [1]: https://code.google.com/p/guava-libraries/","title":"What are the differences between Helper and Utility classes?","body":"<p>There's no ultimate answer for this. Figure out one naming scheme and stick with it. Naming your packages and classes is an important part of software architecture, and nobody can take that decision away from you.</p>\n\n<p>I personally like the XHelper better, but I see XUtils more often in foreign code.</p>\n\n<p>I also like the \"plural\" naming scheme you will find both in the JDK and <a href=\"https://code.google.com/p/guava-libraries/\" rel=\"nofollow\">Guava</a>:</p>\n\n<p>if a class deals with <code>Collection</code> objects, it's called <code>Collections</code></p>\n\n<p>Array > Arrays (jdk)<br>\nList > Lists (guava)<br>\nMap > Maps (guava)  </p>\n\n<p>etc.</p>\n"},{"comments":[{"owner":{"account_id":413833,"reputation":1839,"user_id":787698,"accept_rate":40,"display_name":"jakcam"},"score":0,"creation_date":1346312915,"post_id":12192155,"comment_id":16325588,"body_markdown":"I this in this post http://stackoverflow.com/a/2135797/787698, that Xutils is a static class with no dependencies. What are you thinking about that ?","body":"I this in this post <a href=\"http://stackoverflow.com/a/2135797/787698\">stackoverflow.com/a/2135797/787698</a>, that Xutils is a static class with no dependencies. What are you thinking about that ?"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1346313140,"post_id":12192155,"comment_id":16325670,"body_markdown":"@jakcam Interesting point.  A helper could be stateful and require an instance. I would use a stateless and instance-less utility class if possible.","body":"@jakcam Interesting point.  A helper could be stateful and require an instance. I would use a stateless and instance-less utility class if possible."},{"owner":{"account_id":413833,"reputation":1839,"user_id":787698,"accept_rate":40,"display_name":"jakcam"},"score":0,"creation_date":1346313634,"post_id":12192155,"comment_id":16325875,"body_markdown":"What are you understand by Xutils is a static class with **no dependencies**?","body":"What are you understand by Xutils is a static class with <b>no dependencies</b>?"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1346313812,"post_id":12192155,"comment_id":16325935,"body_markdown":"I can&#39;t find &quot;xutils&quot; or &quot;no dependencies&quot; in that post.","body":"I can&#39;t find &quot;xutils&quot; or &quot;no dependencies&quot; in that post."},{"owner":{"account_id":26397,"reputation":3342,"user_id":68631,"accept_rate":89,"display_name":"John"},"score":0,"creation_date":1477678783,"post_id":12192155,"comment_id":67879149,"body_markdown":"Won&#39;t Utility classes break TDD since you are unable to pass them in as dependencies?","body":"Won&#39;t Utility classes break TDD since you are unable to pass them in as dependencies?"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1477760996,"post_id":12192155,"comment_id":67898790,"body_markdown":"@John I don&#39;t see Dependency Injection as a requirement for TDD. What is the issue?","body":"@John I don&#39;t see Dependency Injection as a requirement for TDD. What is the issue?"},{"owner":{"account_id":26397,"reputation":3342,"user_id":68631,"accept_rate":89,"display_name":"John"},"score":0,"creation_date":1477917832,"post_id":12192155,"comment_id":67938856,"body_markdown":"If my class or method has dependencies, it&#39;s common to use DI to do TDD. You can then use Dummies, Mocks, etc., instead of real implementations of those dependencies. The downside of static classes is that they cannot be easily injected in this manner - they always run live. That creates brittle tests, because they always have to take into account the inner pieces of the class in order to not break the dependencies. Does that make sense?","body":"If my class or method has dependencies, it&#39;s common to use DI to do TDD. You can then use Dummies, Mocks, etc., instead of real implementations of those dependencies. The downside of static classes is that they cannot be easily injected in this manner - they always run live. That creates brittle tests, because they always have to take into account the inner pieces of the class in order to not break the dependencies. Does that make sense?"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1477923381,"post_id":12192155,"comment_id":67942080,"body_markdown":"@John I guess I am assuming it only make sense to use a utility class if you only intend to have one implementation of that method ever (even in testing) For example, would you use DI to pass in an Array helper class to be able to mock methods like `Arrays.sort(array)` or `Array.getLength(array)` How would doing this make tests less brittle?","body":"@John I guess I am assuming it only make sense to use a utility class if you only intend to have one implementation of that method ever (even in testing) For example, would you use DI to pass in an Array helper class to be able to mock methods like <code>Arrays.sort(array)</code> or <code>Array.getLength(array)</code> How would doing this make tests less brittle?"},{"owner":{"account_id":26397,"reputation":3342,"user_id":68631,"accept_rate":89,"display_name":"John"},"score":0,"creation_date":1477926728,"post_id":12192155,"comment_id":67944248,"body_markdown":"Here&#39;s an example: suppose you have a StateAbbreviation helper/util. You probably only want one. Your Foo method takes in a Bar object that includes a state name. Foo converts that state name to a state code and then calls an external Baz service. You want to write a test that tests whether Foo calls Baz. Using DI, you could create a Mock StateAbbreviationUtil + a BazSpy to test that. If you don&#39;t use DI, you will need to ensure that Bar.Name can be validly parsed by Bar - something that is unrelated to what you&#39;re trying to test. I&#39;m interested in your thoughts.","body":"Here&#39;s an example: suppose you have a StateAbbreviation helper/util. You probably only want one. Your Foo method takes in a Bar object that includes a state name. Foo converts that state name to a state code and then calls an external Baz service. You want to write a test that tests whether Foo calls Baz. Using DI, you could create a Mock StateAbbreviationUtil + a BazSpy to test that. If you don&#39;t use DI, you will need to ensure that Bar.Name can be validly parsed by Bar - something that is unrelated to what you&#39;re trying to test. I&#39;m interested in your thoughts."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1477932227,"post_id":12192155,"comment_id":67947786,"body_markdown":"@John In that case a utility method isn&#39;t desirable as it&#39;s harder to mock out for testing purposes.","body":"@John In that case a utility method isn&#39;t desirable as it&#39;s harder to mock out for testing purposes."},{"owner":{"account_id":2526984,"reputation":4838,"user_id":2196157,"accept_rate":70,"display_name":"glemiere"},"score":0,"creation_date":1523846730,"post_id":12192155,"comment_id":86712596,"body_markdown":"At first I just wanted to know if I should name a folder &quot;utils&quot; or &quot;helpers&quot; in a JavaScript projet, I conclude I should use utils as a good practice, as it is more common. This answer, even if it&#39;s for Java, works in my case. Thank you!","body":"At first I just wanted to know if I should name a folder &quot;utils&quot; or &quot;helpers&quot; in a JavaScript projet, I conclude I should use utils as a good practice, as it is more common. This answer, even if it&#39;s for Java, works in my case. Thank you!"},{"owner":{"account_id":122069,"reputation":3440,"user_id":315625,"accept_rate":97,"display_name":"Mazen Elkashef"},"score":0,"creation_date":1559397156,"post_id":12192155,"comment_id":99411902,"body_markdown":"@PeterLawrey Could you elaborate on why you won&#39;t use a helper method that creates or requires an instance. for example I have helper methods to create and stop my node server, and I just call them from the entry point file to keep my code organized, also I use middlewares and pass around the express router for example, would you suggest anything different?","body":"@PeterLawrey Could you elaborate on why you won&#39;t use a helper method that creates or requires an instance. for example I have helper methods to create and stop my node server, and I just call them from the entry point file to keep my code organized, also I use middlewares and pass around the express router for example, would you suggest anything different?"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1559541641,"post_id":12192155,"comment_id":99438592,"body_markdown":"A stateful singleton can make the unit tests error prone or make simulating multiple nodes more difficult. If your helper classes are not singletons, then this is a wrapper class IMHO.","body":"A stateful singleton can make the unit tests error prone or make simulating multiple nodes more difficult. If your helper classes are not singletons, then this is a wrapper class IMHO."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":13,"down_vote_count":3,"up_vote_count":149,"is_accepted":true,"score":146,"last_activity_date":1346313081,"creation_date":1346312621,"answer_id":12192155,"question_id":12192050,"body_markdown":"There are many naming styles to use. I would suggest Utils just because its more common.\r\n\r\nA Utility class is understood to only have static methods and be stateless. You would not create an instance of such a class.\r\n\r\nA Helper can be a utility class or it can be stateful or require an instance be created.  I would avoid this if possible.\r\n\r\nIf you can make the name more specific. e.g. if it has sorting methods, make it XSorter\r\n\r\nFor arrays you can find helper classes like\r\n\r\n    Array\r\n    Arrays\r\n    ArrayUtil\r\n    ArrayUtils\r\n    ArrayHelper\r\n\r\nBTW a short hand for a utility class is an enum with no instances\r\n\r\n    enum XUtils {;\r\n        static methods here\r\n    }\r\n\r\nIf you need to implement an interface, I would use a stateless Singleton.\r\n\r\n    enum XHelper implements RequiredInterface {\r\n       INSTANCE;\r\n       // no instance fields.\r\n    }","title":"What are the differences between Helper and Utility classes?","body":"<p>There are many naming styles to use. I would suggest Utils just because its more common.</p>\n\n<p>A Utility class is understood to only have static methods and be stateless. You would not create an instance of such a class.</p>\n\n<p>A Helper can be a utility class or it can be stateful or require an instance be created.  I would avoid this if possible.</p>\n\n<p>If you can make the name more specific. e.g. if it has sorting methods, make it XSorter</p>\n\n<p>For arrays you can find helper classes like</p>\n\n<pre><code>Array\nArrays\nArrayUtil\nArrayUtils\nArrayHelper\n</code></pre>\n\n<p>BTW a short hand for a utility class is an enum with no instances</p>\n\n<pre><code>enum XUtils {;\n    static methods here\n}\n</code></pre>\n\n<p>If you need to implement an interface, I would use a stateless Singleton.</p>\n\n<pre><code>enum XHelper implements RequiredInterface {\n   INSTANCE;\n   // no instance fields.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1574230,"reputation":2310,"user_id":1461154,"accept_rate":88,"display_name":"James M. Lay"},"comment_count":0,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1548657672,"creation_date":1548657672,"answer_id":54396742,"question_id":12192050,"body_markdown":"A utility is a &quot;leaf node&quot; class of general use. That is, it doesn&#39;t have any dependencies into your project and can be ported from project to project without breaking or becoming useless. Examples: `Vector3`, `RandomNumberGenerator`, `StringMatcher`, etc...\r\n\r\nA &quot;helper&quot; seems to be any class whose design is to aid another class. These may or may not depend on your project.  If you&#39;re creating a `GameNetworkClient` class, you could say the `GameNetworkConnection` class is a &#39;helper&#39;, because it &quot;helps&quot; the `GameNetworkClient`.\r\n\r\nThe way developers refer to tools reflects common usage of these words. If you can recall hearing tools described as &quot;helpful&quot; vs &quot;useful&quot;, a helpful tool tends to have some context (cheese grater helps to grate cheese, corn stripper helps to strip corn, speed loader helps to reload a firearm).  A &quot;utility&quot; is expected to work in a variety of contexts (WD-40, duct tape, army-knives, glue, flashlight, etc...).","title":"What are the differences between Helper and Utility classes?","body":"<p>A utility is a \"leaf node\" class of general use. That is, it doesn't have any dependencies into your project and can be ported from project to project without breaking or becoming useless. Examples: <code>Vector3</code>, <code>RandomNumberGenerator</code>, <code>StringMatcher</code>, etc...</p>\n\n<p>A \"helper\" seems to be any class whose design is to aid another class. These may or may not depend on your project.  If you're creating a <code>GameNetworkClient</code> class, you could say the <code>GameNetworkConnection</code> class is a 'helper', because it \"helps\" the <code>GameNetworkClient</code>.</p>\n\n<p>The way developers refer to tools reflects common usage of these words. If you can recall hearing tools described as \"helpful\" vs \"useful\", a helpful tool tends to have some context (cheese grater helps to grate cheese, corn stripper helps to strip corn, speed loader helps to reload a firearm).  A \"utility\" is expected to work in a variety of contexts (WD-40, duct tape, army-knives, glue, flashlight, etc...).</p>\n"},{"tags":[],"owner":{"account_id":7762019,"reputation":2420,"user_id":5874476,"display_name":"typhon04"},"comment_count":0,"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1570347367,"creation_date":1570347367,"answer_id":58255188,"question_id":12192050,"body_markdown":"As Jesper said, it&#39;s **entirely arbitrary**. You can think of what works for your organization and make that the convention.\r\n\r\nFor me, it&#39;s something like this:\r\n\r\n\r\n&gt; **utils** - Static class, that can be freely moved and imported anywhere.\r\n\r\nDoing general tasks that could be useful in different modules. As Peter Lawrey said, more *specific names* are useful.\r\n\r\n&gt; **helper** - Class *helping* another class or a module.\r\n\r\nTasks that are only used in the module it&#39;s placed and won&#39;t make sense to be imported elsewhere. Hence the name could be more specific - ***ModuleName*Helper** (e.g. *AdministrationHelper*, *LoginHelper*)\r\n","title":"What are the differences between Helper and Utility classes?","body":"<p>As Jesper said, it's <strong>entirely arbitrary</strong>. You can think of what works for your organization and make that the convention.</p>\n\n<p>For me, it's something like this:</p>\n\n<blockquote>\n  <p><strong>utils</strong> - Static class, that can be freely moved and imported anywhere.</p>\n</blockquote>\n\n<p>Doing general tasks that could be useful in different modules. As Peter Lawrey said, more <em>specific names</em> are useful.</p>\n\n<blockquote>\n  <p><strong>helper</strong> - Class <em>helping</em> another class or a module.</p>\n</blockquote>\n\n<p>Tasks that are only used in the module it's placed and won't make sense to be imported elsewhere. Hence the name could be more specific - <strong><em>ModuleName</em>Helper</strong> (e.g. <em>AdministrationHelper</em>, <em>LoginHelper</em>)</p>\n"},{"tags":[],"owner":{"account_id":22136417,"reputation":1,"user_id":19285751,"display_name":"Pedro Nastasi Bermudez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682799476,"creation_date":1682794161,"answer_id":76137878,"question_id":12192050,"body_markdown":"Helper Functions/Classes: These are functions or classes that are designed to provide support or aid to other parts of the program. They are often used to encapsulate complex or repetitive logic, and are typically defined within a specific module or part of the program. Helper functions/classes may depend on other parts of the program or external libraries, and may be tightly coupled with the code they support. Examples of helper functions/classes might include form validation functions or data formatting classes.\r\n\r\nUtility Functions/Classes: These are functions or classes that perform common or generic operations that are not tied to any specific part of the program. They are usually defined separately from the rest of the program and can be used throughout the program or in multiple programs. Utility functions/classes are typically independent of other parts of the program, and may not have any dependencies beyond the standard library. Examples of utility functions/classes might include string manipulation functions or math libraries.","title":"What are the differences between Helper and Utility classes?","body":"<p>Helper Functions/Classes: These are functions or classes that are designed to provide support or aid to other parts of the program. They are often used to encapsulate complex or repetitive logic, and are typically defined within a specific module or part of the program. Helper functions/classes may depend on other parts of the program or external libraries, and may be tightly coupled with the code they support. Examples of helper functions/classes might include form validation functions or data formatting classes.</p>\n<p>Utility Functions/Classes: These are functions or classes that perform common or generic operations that are not tied to any specific part of the program. They are usually defined separately from the rest of the program and can be used throughout the program or in multiple programs. Utility functions/classes are typically independent of other parts of the program, and may not have any dependencies beyond the standard library. Examples of utility functions/classes might include string manipulation functions or math libraries.</p>\n"},{"tags":[],"owner":{"account_id":5954045,"reputation":3379,"user_id":4681265,"display_name":"Adrian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692284147,"creation_date":1691772219,"answer_id":76885374,"question_id":12192050,"body_markdown":"A *Utility* class is one not depending on the usage context (aka, application/system&#39;s business or domain) hence is less prone to vary. Examples: StringUtils, MathUtils, etc.  \r\n\r\nA Utility class does not necessarily have all its methods static, though usually it happens so. Examples: \r\n- a `SortUtils` class that depends on some configuration passed to it at instantiation time to customize how to deal with `null`(s) no matter the business context; e.g. put `null`(s) at the end/start, handle Any*Empty*BusinessObject(s) as `null`, etc  \r\n- a `XDomainObjectUtils.toString(xDomainObject)` that based on some customization will return a distinct result, no matter the business context (well, here will matter slightly because it&#39;ll have to be something involving a XDomainObject)\r\n- a `LogUtils` class that depends on some configuration passed to it at instantiation time to customize its behaviour\r\n\r\nEven if at application/system level more same Utility class instances are needed, each configured differently, as long as Utility class&#39; logic is not dependent on a particular business context, it&#39;s still a Utility class.\r\n\r\nThese might not be the best examples (especially the `LogUtils` one for nowadays) but I guess you see a pattern here: when the utility class has to behave in a configurable fashion then it might no longer have static methods (only) because one needs to parameterize it with the configuration or strategy (see the Strategy pattern) that changes its behaviour.\r\n\r\nA *Helper* class is one containing methods dependent on one particular scenario, methods that are not implementing the main logic of that scenario because another class does it. The Helper&#39;s methods could stay into the main-logic-implementing-class but doing so would pollute it hence they are better extracted into a distinct class (i.e. Helper). That&#39;s why the name: the Helper class is &quot;helping&quot; the main-logic-implementing-class.\r\n\r\nExample: `XService` is using `YService` that is throwing `YServiceException`(s) while the `XService`&#39;s methods are supposed to only throw `XServiceException`(s). One could use `try`-`catch` everywhere in `XService` or one could create `XServiceHelper` that&#39;s adapting `YServiceService` exceptions to `XServiceException` leaving the XService code more easy to read. This approach makes sense when that `try`-`catch` occurs so many times that really blurs the main code; besides `try`-`catch` once could have verbose types/values conversion/transformation, e.g. `Stream` processing that `reduce` some collection, which again could be moved to a helper if otherwise they bring a significant amount of code in the middle of the main-logic-implementing-class.","title":"What are the differences between Helper and Utility classes?","body":"<p>A <em>Utility</em> class is one not depending on the usage context (aka, application/system's business or domain) hence is less prone to vary. Examples: StringUtils, MathUtils, etc.</p>\n<p>A Utility class does not necessarily have all its methods static, though usually it happens so. Examples:</p>\n<ul>\n<li>a <code>SortUtils</code> class that depends on some configuration passed to it at instantiation time to customize how to deal with <code>null</code>(s) no matter the business context; e.g. put <code>null</code>(s) at the end/start, handle Any<em>Empty</em>BusinessObject(s) as <code>null</code>, etc</li>\n<li>a <code>XDomainObjectUtils.toString(xDomainObject)</code> that based on some customization will return a distinct result, no matter the business context (well, here will matter slightly because it'll have to be something involving a XDomainObject)</li>\n<li>a <code>LogUtils</code> class that depends on some configuration passed to it at instantiation time to customize its behaviour</li>\n</ul>\n<p>Even if at application/system level more same Utility class instances are needed, each configured differently, as long as Utility class' logic is not dependent on a particular business context, it's still a Utility class.</p>\n<p>These might not be the best examples (especially the <code>LogUtils</code> one for nowadays) but I guess you see a pattern here: when the utility class has to behave in a configurable fashion then it might no longer have static methods (only) because one needs to parameterize it with the configuration or strategy (see the Strategy pattern) that changes its behaviour.</p>\n<p>A <em>Helper</em> class is one containing methods dependent on one particular scenario, methods that are not implementing the main logic of that scenario because another class does it. The Helper's methods could stay into the main-logic-implementing-class but doing so would pollute it hence they are better extracted into a distinct class (i.e. Helper). That's why the name: the Helper class is &quot;helping&quot; the main-logic-implementing-class.</p>\n<p>Example: <code>XService</code> is using <code>YService</code> that is throwing <code>YServiceException</code>(s) while the <code>XService</code>'s methods are supposed to only throw <code>XServiceException</code>(s). One could use <code>try</code>-<code>catch</code> everywhere in <code>XService</code> or one could create <code>XServiceHelper</code> that's adapting <code>YServiceService</code> exceptions to <code>XServiceException</code> leaving the XService code more easy to read. This approach makes sense when that <code>try</code>-<code>catch</code> occurs so many times that really blurs the main code; besides <code>try</code>-<code>catch</code> once could have verbose types/values conversion/transformation, e.g. <code>Stream</code> processing that <code>reduce</code> some collection, which again could be moved to a helper if otherwise they bring a significant amount of code in the middle of the main-logic-implementing-class.</p>\n"}],"owner":{"account_id":413833,"reputation":1839,"user_id":787698,"accept_rate":40,"display_name":"jakcam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103396,"favorite_count":0,"down_vote_count":3,"up_vote_count":167,"closed_date":1692203883,"accepted_answer_id":12192155,"answer_count":7,"score":164,"last_activity_date":1692284147,"creation_date":1346312257,"question_id":12192050,"body_markdown":"How determine how call a class XHelper or XUtils ?\r\n\r\nTo my mind  :\r\n\r\n**Helper class**, is a class that can be instantiate and do some business work\r\n\r\n**Utils class**, is a static class that perform small and repetitive operations on a kind of instance (example of utils classes ArrayUtils or IOUtils from Apache)","title":"What are the differences between Helper and Utility classes?","body":"<p>How determine how call a class XHelper or XUtils ?</p>\n\n<p>To my mind  :</p>\n\n<p><strong>Helper class</strong>, is a class that can be instantiate and do some business work</p>\n\n<p><strong>Utils class</strong>, is a static class that perform small and repetitive operations on a kind of instance (example of utils classes ArrayUtils or IOUtils from Apache)</p>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1692618280,"post_id":76922437,"comment_id":135643454,"body_markdown":"Does the thread pool use distinctive thread names? Then, you can first check whether a thread with a name indicating the existence of the pool exists.","body":"Does the thread pool use distinctive thread names? Then, you can first check whether a thread with a name indicating the existence of the pool exists."},{"owner":{"account_id":7639,"reputation":23810,"user_id":13317,"accept_rate":85,"display_name":"Kenster"},"score":0,"creation_date":1692645037,"post_id":76922437,"comment_id":135649149,"body_markdown":"@Holger The threadpool does use a distinctive thread name. But there are other deployments in this tomcat instance using the same third-party library. So there are threads with the distinctive name belonging to other deployments.","body":"@Holger The threadpool does use a distinctive thread name. But there are other deployments in this tomcat instance using the same third-party library. So there are threads with the distinctive name belonging to other deployments."}],"answers":[{"tags":[],"owner":{"account_id":8192773,"reputation":54,"user_id":17364339,"display_name":"KpekepSalt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692283518,"creation_date":1692283518,"answer_id":76922630,"question_id":76922437,"body_markdown":"Static block code executes only once during the class loading.\r\nAt this point:\r\n```java\r\n    static {\r\n        System.out.println(&quot;A initializing&quot;);\r\n        field = &quot;I&#39;m initialized!&quot;;\r\n    }\r\n```\r\nclass is not initialized, but just loaded into JVM. You can&#39;t get information of class via reflection if it is not loaded. ","title":"Get static field through reflection without triggering initialization?","body":"<p>Static block code executes only once during the class loading.\nAt this point:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    static {\n        System.out.println(&quot;A initializing&quot;);\n        field = &quot;I'm initialized!&quot;;\n    }\n</code></pre>\n<p>class is not initialized, but just loaded into JVM. You can't get information of class via reflection if it is not loaded.</p>\n"},{"comments":[{"owner":{"account_id":7639,"reputation":23810,"user_id":13317,"accept_rate":85,"display_name":"Kenster"},"score":0,"creation_date":1692286154,"post_id":76922697,"comment_id":135605513,"body_markdown":"Unfortunately, the actual class that I&#39;m targeting is a third-party dependency. Rewriting the class isn&#39;t that straightforward.","body":"Unfortunately, the actual class that I&#39;m targeting is a third-party dependency. Rewriting the class isn&#39;t that straightforward."}],"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692283943,"creation_date":1692283943,"answer_id":76922697,"question_id":76922437,"body_markdown":"The only way to fix this is to not tie your initialization to class loading. And that&#39;s fine, because that&#39;s a bad idea anyway. So rewrite your class:\r\n\r\n```\r\npublic class A {\r\n    private static A LATEST_INSTANCE;\r\n    private String field;\r\n    \r\n    private A() {\r\n        System.out.println(&quot;A initializing&quot;);\r\n        field = &quot;I&#39;m initialized!&quot;;\r\n        LATEST_INSTANCE = this;\r\n    }\r\n}\r\n```\r\n\r\nNow you can access the `LATEST_INSTANCE` field and do whatever you want to its state. You don&#39;t even need reflection! You can create static methods to access and access or initialize the instance(s), whatever you need.","title":"Get static field through reflection without triggering initialization?","body":"<p>The only way to fix this is to not tie your initialization to class loading. And that's fine, because that's a bad idea anyway. So rewrite your class:</p>\n<pre><code>public class A {\n    private static A LATEST_INSTANCE;\n    private String field;\n    \n    private A() {\n        System.out.println(&quot;A initializing&quot;);\n        field = &quot;I'm initialized!&quot;;\n        LATEST_INSTANCE = this;\n    }\n}\n</code></pre>\n<p>Now you can access the <code>LATEST_INSTANCE</code> field and do whatever you want to its state. You don't even need reflection! You can create static methods to access and access or initialize the instance(s), whatever you need.</p>\n"}],"owner":{"account_id":7639,"reputation":23810,"user_id":13317,"accept_rate":85,"display_name":"Kenster"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692283943,"creation_date":1692282190,"question_id":76922437,"body_markdown":"We have a WAR application which uses a third-party library that creates a threadpool with a running thread as a static field of one of its internal classes. When we undeploy the WAR, this thread continues running. To work around this, I want to run some code during undeployment which uses reflection to access the private static field and shut down the thread pool.\r\n\r\nThe threadpool is created in a static initializer for the class. It&#39;s possible the class in question hasn&#39;t been loaded or initialized when our shutdown code runs, and I don&#39;t want the shutdown code to initialize the class just to shut it down again if I can avoid that.\r\n\r\nI can use the three-argument form of `Class.forName()` to get the class without initializing it. However, after getting the `Field` that I want, getting the value of the field still triggers the class to be initialized. I&#39;m looking for a way to avoid that.\r\n\r\nHere is some example code:\r\n\r\n    package scratch;\r\n    public class A {\r\n        private static final String field;\r\n        static {\r\n            System.out.println(&quot;A initializing&quot;);\r\n            field = &quot;I&#39;m initialized!&quot;;\r\n        }\r\n    }\r\n\r\n    package scratch;\r\n    public class B {\r\n        public static void main(String[] args) {\r\n            // var a = new A();\r\n            try {\r\n                System.out.println(&quot;B starting&quot;);\r\n                var clazz = Class.forName(&quot;scratch.A&quot;, false, B.class.getClassLoader());\r\n                System.out.println(&quot;B got class&quot;);\r\n                var field = clazz.getDeclaredField(&quot;field&quot;);\r\n                System.out.println(&quot;B got field&quot;);\r\n                field.setAccessible(true);\r\n                System.out.println(&quot;B set accessible&quot;);\r\n                var value = field.get(null);\r\n                System.out.println(&quot;B got value &#39;&quot; + value + &quot;&#39;&quot;);\r\n            } catch (Exception e) {\r\n                System.out.println(e);\r\n            }\r\n        }\r\n    }\r\n\r\nRunning this code produces this output:\r\n\r\n    B starting\r\n    B got class\r\n    B got field\r\n    B set accessible\r\n    A initializing\r\n    B got value &#39;I&#39;m initialized!&#39;\r\n\r\nThe call to `Field.get()` triggers initialization of the class.\r\n\r\nI just want to avoid initializing the class (if it&#39;s not already initialized) in the process of accessing this field to shut it down. Is there any way to avoid fetching the class if it&#39;s not already loaded? Or to test whether it&#39;s initialized before fetching the field? Or to fetch the value of the field without triggering initialization?","title":"Get static field through reflection without triggering initialization?","body":"<p>We have a WAR application which uses a third-party library that creates a threadpool with a running thread as a static field of one of its internal classes. When we undeploy the WAR, this thread continues running. To work around this, I want to run some code during undeployment which uses reflection to access the private static field and shut down the thread pool.</p>\n<p>The threadpool is created in a static initializer for the class. It's possible the class in question hasn't been loaded or initialized when our shutdown code runs, and I don't want the shutdown code to initialize the class just to shut it down again if I can avoid that.</p>\n<p>I can use the three-argument form of <code>Class.forName()</code> to get the class without initializing it. However, after getting the <code>Field</code> that I want, getting the value of the field still triggers the class to be initialized. I'm looking for a way to avoid that.</p>\n<p>Here is some example code:</p>\n<pre><code>package scratch;\npublic class A {\n    private static final String field;\n    static {\n        System.out.println(&quot;A initializing&quot;);\n        field = &quot;I'm initialized!&quot;;\n    }\n}\n\npackage scratch;\npublic class B {\n    public static void main(String[] args) {\n        // var a = new A();\n        try {\n            System.out.println(&quot;B starting&quot;);\n            var clazz = Class.forName(&quot;scratch.A&quot;, false, B.class.getClassLoader());\n            System.out.println(&quot;B got class&quot;);\n            var field = clazz.getDeclaredField(&quot;field&quot;);\n            System.out.println(&quot;B got field&quot;);\n            field.setAccessible(true);\n            System.out.println(&quot;B set accessible&quot;);\n            var value = field.get(null);\n            System.out.println(&quot;B got value '&quot; + value + &quot;'&quot;);\n        } catch (Exception e) {\n            System.out.println(e);\n        }\n    }\n}\n</code></pre>\n<p>Running this code produces this output:</p>\n<pre><code>B starting\nB got class\nB got field\nB set accessible\nA initializing\nB got value 'I'm initialized!'\n</code></pre>\n<p>The call to <code>Field.get()</code> triggers initialization of the class.</p>\n<p>I just want to avoid initializing the class (if it's not already initialized) in the process of accessing this field to shut it down. Is there any way to avoid fetching the class if it's not already loaded? Or to test whether it's initialized before fetching the field? Or to fetch the value of the field without triggering initialization?</p>\n"},{"tags":["java","spring","spring-boot","kotlin","spring-security"],"answers":[{"comments":[{"owner":{"account_id":29214968,"reputation":186,"user_id":22381995,"display_name":"cant-code"},"score":1,"creation_date":1692283983,"post_id":76915680,"comment_id":135604948,"body_markdown":"Sorry, I have modified the answer to change doFilter to doFilterInternal. The OncePerRequestFilter, as the name suggest, runs only once per a request lifecycle whereas the normal Filter can run multiple times if lets say a Servlet passes on the request to another servlet which might run your custom filter again which might not be an ideal situation. I am not sure if that answers your question.\n\nSource: \nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/filter/OncePerRequestFilter.html\n\nhttps://www.baeldung.com/spring-onceperrequestfilter","body":"Sorry, I have modified the answer to change doFilter to doFilterInternal. The OncePerRequestFilter, as the name suggest, runs only once per a request lifecycle whereas the normal Filter can run multiple times if lets say a Servlet passes on the request to another servlet which might run your custom filter again which might not be an ideal situation. I am not sure if that answers your question.  Source:  <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/filter/OncePerRequestFilter.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a>  <a href=\"https://www.baeldung.com/spring-onceperrequestfilter\" rel=\"nofollow noreferrer\">baeldung.com/spring-onceperrequestfilter</a>"}],"tags":[],"owner":{"account_id":29214968,"reputation":186,"user_id":22381995,"display_name":"cant-code"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692283808,"creation_date":1692205537,"answer_id":76915680,"question_id":76915440,"body_markdown":"How about using OncePerRequestFilter instead and overriding the shouldNotFilter method and adding any endpoints to be excluded. I have added an example for a single url but you can maintain a list and exclude those endpoints as well.\r\n\r\n```\r\n@Component\r\nclass JwtFilter : OncePerRequestFilter {\r\n    override fun doFilterInternal(request: ServletRequest, response: ServletResponse, chain: FilterChain) {\r\n        val httpRequest = request as HttpServletRequest\r\n        val httpResponse = response as HttpServletResponse\r\n        val jwt = httpRequest.getHeader(&quot;Authorization&quot;)?.removePrefix(&quot;Bearer &quot;)\r\n        if (jwt != null) {\r\n            val extractedToken = verifyJwtWithLambda(jwt)\r\n            val isValid: Boolean? = extractedToken[&quot;isValid&quot;] as? Boolean\r\n            if (isValid!!) {\r\n                val attributes = extractedToken[&quot;attributes&quot;] as? Map&lt;*, *&gt;\r\n                val subject = attributes?.get(&quot;userId&quot;) as? String\r\n                val authentication = UsernamePasswordAuthenticationToken(subject, null, emptyList())\r\n                SecurityContextHolder.getContext().authentication = authentication\r\n                chain.doFilter(request, response)\r\n            } else {\r\n                httpResponse.status = HttpServletResponse.SC_UNAUTHORIZED\r\n            }\r\n        } else {\r\n            httpResponse.status = HttpServletResponse.SC_UNAUTHORIZED\r\n        }\r\n    }\r\n\r\n    override fun shouldNotFilter(request: HttpServletRequest): Boolean {\r\n        val url = request.requestURL;\r\n        return &quot;/health&quot;.equals(url);\r\n    }\r\n}\r\n```\r\n\r\nReference:\r\n\r\nhttps://stackoverflow.com/questions/70387209/extends-onceperrequestfilter-bypass-specific-url\r\n\r\nhttps://www.baeldung.com/spring-exclude-filter","title":"Not able to exclude defined URLS from SecurityFilterChain","body":"<p>How about using OncePerRequestFilter instead and overriding the shouldNotFilter method and adding any endpoints to be excluded. I have added an example for a single url but you can maintain a list and exclude those endpoints as well.</p>\n<pre><code>@Component\nclass JwtFilter : OncePerRequestFilter {\n    override fun doFilterInternal(request: ServletRequest, response: ServletResponse, chain: FilterChain) {\n        val httpRequest = request as HttpServletRequest\n        val httpResponse = response as HttpServletResponse\n        val jwt = httpRequest.getHeader(&quot;Authorization&quot;)?.removePrefix(&quot;Bearer &quot;)\n        if (jwt != null) {\n            val extractedToken = verifyJwtWithLambda(jwt)\n            val isValid: Boolean? = extractedToken[&quot;isValid&quot;] as? Boolean\n            if (isValid!!) {\n                val attributes = extractedToken[&quot;attributes&quot;] as? Map&lt;*, *&gt;\n                val subject = attributes?.get(&quot;userId&quot;) as? String\n                val authentication = UsernamePasswordAuthenticationToken(subject, null, emptyList())\n                SecurityContextHolder.getContext().authentication = authentication\n                chain.doFilter(request, response)\n            } else {\n                httpResponse.status = HttpServletResponse.SC_UNAUTHORIZED\n            }\n        } else {\n            httpResponse.status = HttpServletResponse.SC_UNAUTHORIZED\n        }\n    }\n\n    override fun shouldNotFilter(request: HttpServletRequest): Boolean {\n        val url = request.requestURL;\n        return &quot;/health&quot;.equals(url);\n    }\n}\n</code></pre>\n<p>Reference:</p>\n<p><a href=\"https://stackoverflow.com/questions/70387209/extends-onceperrequestfilter-bypass-specific-url\">Extends OncePerRequestFilter bypass specific URL</a></p>\n<p><a href=\"https://www.baeldung.com/spring-exclude-filter\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-exclude-filter</a></p>\n"}],"owner":{"account_id":8490830,"reputation":427,"user_id":6934695,"accept_rate":89,"display_name":"nerdicsapo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76915680,"answer_count":1,"score":-1,"last_activity_date":1692283808,"creation_date":1692203145,"question_id":76915440,"body_markdown":"I&#39;m working on a spring-boot3 project and added spring-security 6 for authorization process. Since it&#39;s working with Authorization token in header, I would like to let in with no Authorization token, such as /health or /signup\r\n\r\nFirst, I wrote SecurityConfig\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @Order(1)\r\n    class SecurityConfiguration(private val jwtFilter : JwtFilter) {\r\n        @Bean\r\n        fun filterChain(http: HttpSecurity): SecurityFilterChain {\r\n            http.csrf().disable().\r\n            authorizeHttpRequests { authorize -&gt;\r\n                authorize\r\n                    .requestMatchers(&quot;/health&quot;).permitAll()\r\n                    .anyRequest().authenticated()\r\n            }\r\n    \r\n            http.addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter::class.java)\r\n            return http.build()\r\n        }\r\n    }\r\n\r\nAnd here is filter;\r\n\r\n    @Component\r\n    class JwtFilter : Filter {\r\n        override fun doFilter(request: ServletRequest, response: ServletResponse, chain: FilterChain) {\r\n            val httpRequest = request as HttpServletRequest\r\n            val httpResponse = response as HttpServletResponse\r\n            val jwt = httpRequest.getHeader(&quot;Authorization&quot;)?.removePrefix(&quot;Bearer &quot;)\r\n            if(jwt != null){\r\n                val extractedToken = verifyJwtWithLambda(jwt)\r\n                val isValid : Boolean? = extractedToken[&quot;isValid&quot;] as? Boolean\r\n                if(isValid!!){\r\n                    val attributes = extractedToken[&quot;attributes&quot;] as? Map&lt;*, *&gt;\r\n                    val subject = attributes?.get(&quot;userId&quot;) as? String\r\n                    val authentication = UsernamePasswordAuthenticationToken(subject, null, emptyList())\r\n                    SecurityContextHolder.getContext().authentication = authentication\r\n                    chain.doFilter(request, response)\r\n                }\r\n                else {\r\n                    httpResponse.status = HttpServletResponse.SC_UNAUTHORIZED\r\n                }\r\n            }\r\n            else {\r\n                    httpResponse.status = HttpServletResponse.SC_UNAUTHORIZED\r\n            }\r\n        }\r\n\r\n\r\nNow, when I send get request to /health, it returns 401. But when I send request with Authorization token, it returns 200.\r\n\r\nWhat I have tried so far?\r\n\r\n - Added WebSecurityCustomizer to ignore, did not work.\r\n   \r\n - Tried to .anonymous instead of .permitAll, did not work.\r\n   \r\n - Added logic control to JwtFilter to check ServletPath for defined urls and then chain.doFilter, it works but I do not think it is usable.\r\n\r\n -  https://stackoverflow.com/questions/24696717/spring-security-permitall-not-allowing-anonymous-access , Tried this topic\r\n\r\n - I tried to change addFilterBefore like addFilterAfter, did not work.\r\n\r\n\r\n - If I would change httpResponse.status = HttpServletResponse.SC_UNAUTHORIZED part in second Else block with chain.doFilter(), it works as expected but returns 403 instead of 401.\r\n\r\n\r\nThank you a lot.","title":"Not able to exclude defined URLS from SecurityFilterChain","body":"<p>I'm working on a spring-boot3 project and added spring-security 6 for authorization process. Since it's working with Authorization token in header, I would like to let in with no Authorization token, such as /health or /signup</p>\n<p>First, I wrote SecurityConfig</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@Order(1)\nclass SecurityConfiguration(private val jwtFilter : JwtFilter) {\n    @Bean\n    fun filterChain(http: HttpSecurity): SecurityFilterChain {\n        http.csrf().disable().\n        authorizeHttpRequests { authorize -&gt;\n            authorize\n                .requestMatchers(&quot;/health&quot;).permitAll()\n                .anyRequest().authenticated()\n        }\n\n        http.addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter::class.java)\n        return http.build()\n    }\n}\n</code></pre>\n<p>And here is filter;</p>\n<pre><code>@Component\nclass JwtFilter : Filter {\n    override fun doFilter(request: ServletRequest, response: ServletResponse, chain: FilterChain) {\n        val httpRequest = request as HttpServletRequest\n        val httpResponse = response as HttpServletResponse\n        val jwt = httpRequest.getHeader(&quot;Authorization&quot;)?.removePrefix(&quot;Bearer &quot;)\n        if(jwt != null){\n            val extractedToken = verifyJwtWithLambda(jwt)\n            val isValid : Boolean? = extractedToken[&quot;isValid&quot;] as? Boolean\n            if(isValid!!){\n                val attributes = extractedToken[&quot;attributes&quot;] as? Map&lt;*, *&gt;\n                val subject = attributes?.get(&quot;userId&quot;) as? String\n                val authentication = UsernamePasswordAuthenticationToken(subject, null, emptyList())\n                SecurityContextHolder.getContext().authentication = authentication\n                chain.doFilter(request, response)\n            }\n            else {\n                httpResponse.status = HttpServletResponse.SC_UNAUTHORIZED\n            }\n        }\n        else {\n                httpResponse.status = HttpServletResponse.SC_UNAUTHORIZED\n        }\n    }\n</code></pre>\n<p>Now, when I send get request to /health, it returns 401. But when I send request with Authorization token, it returns 200.</p>\n<p>What I have tried so far?</p>\n<ul>\n<li><p>Added WebSecurityCustomizer to ignore, did not work.</p>\n</li>\n<li><p>Tried to .anonymous instead of .permitAll, did not work.</p>\n</li>\n<li><p>Added logic control to JwtFilter to check ServletPath for defined urls and then chain.doFilter, it works but I do not think it is usable.</p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/24696717/spring-security-permitall-not-allowing-anonymous-access\">Spring Security permitAll not allowing anonymous access</a> , Tried this topic</p>\n</li>\n<li><p>I tried to change addFilterBefore like addFilterAfter, did not work.</p>\n</li>\n<li><p>If I would change httpResponse.status = HttpServletResponse.SC_UNAUTHORIZED part in second Else block with chain.doFilter(), it works as expected but returns 403 instead of 401.</p>\n</li>\n</ul>\n<p>Thank you a lot.</p>\n"},{"tags":["java","solr","lucene","sap-commerce-cloud","morelikethis"],"owner":{"account_id":13364598,"reputation":119,"user_id":9645351,"display_name":"Oleksandr Onopriienko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692283337,"creation_date":1692283337,"question_id":76922600,"body_markdown":"I&#39;m trying to get results from solr &#39;MoreLikeThis&#39; search in Hybris.\r\nFor example: If I try to query solr in Solr UI , query will look like this - \r\n\r\n&gt; https://localhost:8983/solr/master_backoffice_backoffice_product_flip/mlt?indent=true&amp;mlt.count=10&amp;mlt.fl=manufacturerName_text%2Cdescription_text_en%2CcatalogVersion%2Ccategory_string_mv&amp;mlt.match.include=true%2Ctrue&amp;q.op=AND&amp;q=id%3A8796102066177%2CcatalogVersion%3AOnline\r\n\r\nAnd in the result I will take smth like this :\r\n\r\n        {\r\n      &quot;responseHeader&quot;:{\r\n        &quot;status&quot;:0,\r\n        &quot;QTime&quot;:3},\r\n      &quot;match&quot;:{&quot;numFound&quot;:1,&quot;start&quot;:0,&quot;numFoundExact&quot;:true,&quot;docs&quot;:[\r\n          {\r\n           \r\n      },\r\n      &quot;response&quot;:{&quot;numFound&quot;:433,&quot;start&quot;:0,&quot;numFoundExact&quot;:true,&quot;docs&quot;:[\r\n          {\r\n       \r\n\r\n\r\nThe response will include a section match, which includes the original document. The response section includes the similar documents.\r\n\r\nBefore that I added Request Handler in solrconfig.xml - \r\n\r\n    &lt;requestHandler name=&quot;/mlt&quot; class=&quot;solr.MoreLikeThisHandler&quot;&gt;\r\n    \t\t&lt;str name=&quot;mlt.fl&quot;&gt;body&lt;/str&gt;\r\n    &lt;/requestHandler&gt;\r\n\r\n\r\nHow can I perform this request in Hybris and get the ProductData results ?\r\nAs far as I know Hybris does not have OOTB implementation for Solr MoreLikeThis. Maybe someone has some workarounds or advices regarding this? \r\n\r\nAlso , I found another way how to get &#39;MoreLikeThis&#39; results directly in Hybris.By overriding OOTB DefaultFacetSearchService and adding those query params :\r\n\r\n     public SearchQuery createFreeTextSearchQueryFromTemplate (FacetSearchConfig facetSearchConfig, IndexedType indexedType, String queryTemplateName, String userQuery) {\r\n            final SearchQuery searchQuery = super.createFreeTextSearchQueryFromTemplate(facetSearchConfig, indexedType, queryTemplateName, userQuery);\r\n            searchQuery.addRawParam(&quot;mlt&quot;, &quot;true&quot;);\r\n            searchQuery.addRawParam(&quot;mlt.fl&quot;, &quot;fulltext_en,catalogVersion,category_string_mv&quot;);\r\n            searchQuery.addRawParam(&quot;mlt.count&quot;, &quot;10&quot;); //count of documents in the response\r\n            searchQuery.addRawParam(&quot;mlt.mindf&quot;, &quot;2&quot;); //min document frequency\r\n            searchQuery.addRawParam(&quot;mlt.mintf&quot;, &quot;1&quot;); //min term frequency\r\n            return searchQuery;\r\n        }\r\nIn a result we can access the &#39;MoreLikeThisResult&#39; in following way - \r\n\r\n    SolrSearchResult.getSolrObject().getResponse().get(“moreLikeThis”))\r\n\r\nBut In the result, we will have different data structure from simple Solr search result , and we cant reuse the existing implementation of fetching, converting, populating and so on...\r\nSo , maybe there is more easy way to fetch &#39;MoreLikeThis&#39; result from solr, in order not to implement the whole flow.\r\n","title":"Solr MoreLikeThis in Hybris","body":"<p>I'm trying to get results from solr 'MoreLikeThis' search in Hybris.\nFor example: If I try to query solr in Solr UI , query will look like this -</p>\n<blockquote>\n<p>https://localhost:8983/solr/master_backoffice_backoffice_product_flip/mlt?indent=true&amp;mlt.count=10&amp;mlt.fl=manufacturerName_text%2Cdescription_text_en%2CcatalogVersion%2Ccategory_string_mv&amp;mlt.match.include=true%2Ctrue&amp;q.op=AND&amp;q=id%3A8796102066177%2CcatalogVersion%3AOnline</p>\n</blockquote>\n<p>And in the result I will take smth like this :</p>\n<pre><code>    {\n  &quot;responseHeader&quot;:{\n    &quot;status&quot;:0,\n    &quot;QTime&quot;:3},\n  &quot;match&quot;:{&quot;numFound&quot;:1,&quot;start&quot;:0,&quot;numFoundExact&quot;:true,&quot;docs&quot;:[\n      {\n       \n  },\n  &quot;response&quot;:{&quot;numFound&quot;:433,&quot;start&quot;:0,&quot;numFoundExact&quot;:true,&quot;docs&quot;:[\n      {\n   \n</code></pre>\n<p>The response will include a section match, which includes the original document. The response section includes the similar documents.</p>\n<p>Before that I added Request Handler in solrconfig.xml -</p>\n<pre><code>&lt;requestHandler name=&quot;/mlt&quot; class=&quot;solr.MoreLikeThisHandler&quot;&gt;\n        &lt;str name=&quot;mlt.fl&quot;&gt;body&lt;/str&gt;\n&lt;/requestHandler&gt;\n</code></pre>\n<p>How can I perform this request in Hybris and get the ProductData results ?\nAs far as I know Hybris does not have OOTB implementation for Solr MoreLikeThis. Maybe someone has some workarounds or advices regarding this?</p>\n<p>Also , I found another way how to get 'MoreLikeThis' results directly in Hybris.By overriding OOTB DefaultFacetSearchService and adding those query params :</p>\n<pre><code> public SearchQuery createFreeTextSearchQueryFromTemplate (FacetSearchConfig facetSearchConfig, IndexedType indexedType, String queryTemplateName, String userQuery) {\n        final SearchQuery searchQuery = super.createFreeTextSearchQueryFromTemplate(facetSearchConfig, indexedType, queryTemplateName, userQuery);\n        searchQuery.addRawParam(&quot;mlt&quot;, &quot;true&quot;);\n        searchQuery.addRawParam(&quot;mlt.fl&quot;, &quot;fulltext_en,catalogVersion,category_string_mv&quot;);\n        searchQuery.addRawParam(&quot;mlt.count&quot;, &quot;10&quot;); //count of documents in the response\n        searchQuery.addRawParam(&quot;mlt.mindf&quot;, &quot;2&quot;); //min document frequency\n        searchQuery.addRawParam(&quot;mlt.mintf&quot;, &quot;1&quot;); //min term frequency\n        return searchQuery;\n    }\n</code></pre>\n<p>In a result we can access the 'MoreLikeThisResult' in following way -</p>\n<pre><code>SolrSearchResult.getSolrObject().getResponse().get(“moreLikeThis”))\n</code></pre>\n<p>But In the result, we will have different data structure from simple Solr search result , and we cant reuse the existing implementation of fetching, converting, populating and so on...\nSo , maybe there is more easy way to fetch 'MoreLikeThis' result from solr, in order not to implement the whole flow.</p>\n"},{"tags":["java","redhat","keycloak","keycloak-services","redhat-sso"],"comments":[{"owner":{"account_id":1235468,"reputation":31121,"user_id":1199132,"accept_rate":83,"display_name":"Aritz"},"score":0,"creation_date":1519372306,"post_id":48930281,"comment_id":84893368,"body_markdown":"Are you using the KC provided database or some other external DB?","body":"Are you using the KC provided database or some other external DB?"},{"owner":{"account_id":65983,"reputation":9310,"user_id":193850,"accept_rate":85,"display_name":"Michel"},"score":0,"creation_date":1519375836,"post_id":48930281,"comment_id":84894894,"body_markdown":"external postgresql . So querying directly is possible but our last option ;-)","body":"external postgresql . So querying directly is possible but our last option ;-)"},{"owner":{"account_id":1235468,"reputation":31121,"user_id":1199132,"accept_rate":83,"display_name":"Aritz"},"score":0,"creation_date":1519378288,"post_id":48930281,"comment_id":84896124,"body_markdown":"If it is for internal use I guess you could use some direct query... Still, for the performance problem, have you considered a more powerful machine? Or even upgrading the KC version? Are you using some kind of pagination to list them?","body":"If it is for internal use I guess you could use some direct query... Still, for the performance problem, have you considered a more powerful machine? Or even upgrading the KC version? Are you using some kind of pagination to list them?"},{"owner":{"account_id":65983,"reputation":9310,"user_id":193850,"accept_rate":85,"display_name":"Michel"},"score":0,"creation_date":1519491531,"post_id":48930281,"comment_id":84936437,"body_markdown":"Yes we do. 25 user takes 2 seconds and 50 takes 4 seconds. Upgrading the server may help but I guess the API isn&#39;t made for this kind of request. Direct queries seems to be the solution for now","body":"Yes we do. 25 user takes 2 seconds and 50 takes 4 seconds. Upgrading the server may help but I guess the API isn&#39;t made for this kind of request. Direct queries seems to be the solution for now"},{"owner":{"account_id":2864238,"reputation":10897,"user_id":2458858,"accept_rate":85,"display_name":"tryingToLearn"},"score":0,"creation_date":1538643662,"post_id":48930281,"comment_id":92217894,"body_markdown":"@Michel did you find a solution to this? When I export realm, users are not exported.","body":"@Michel did you find a solution to this? When I export realm, users are not exported."},{"owner":{"account_id":65983,"reputation":9310,"user_id":193850,"accept_rate":85,"display_name":"Michel"},"score":0,"creation_date":1538653674,"post_id":48930281,"comment_id":92223751,"body_markdown":"Direct queries on your source DB seems to be the solution for now","body":"Direct queries on your source DB seems to be the solution for now"},{"owner":{"account_id":2864238,"reputation":10897,"user_id":2458858,"accept_rate":85,"display_name":"tryingToLearn"},"score":0,"creation_date":1538730652,"post_id":48930281,"comment_id":92254334,"body_markdown":"I am trying to export users from keycloak database. I am not using a separate source db.","body":"I am trying to export users from keycloak database. I am not using a separate source db."}],"answers":[{"tags":[],"owner":{"account_id":16247807,"reputation":153,"user_id":11732944,"display_name":"Gernot Grames"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1580900580,"creation_date":1580887921,"answer_id":60070937,"question_id":48930281,"body_markdown":"I have done it with an parallel starting container via docker, which connects to the existing keycloak db.\r\n\r\nPlease use the same Version of the container keycloak as the real keacloak has.\r\nBecause of db schema differences between versions.\r\n\r\n**EXPORT**\r\n```\r\ndocker run --rm\\\r\n    --name keycloak_exporter\\\r\n    -v /tmp:/tmp/keycloak-export:Z\\\r\n    -e POSTGRES_DATABASE=keycloak\\\r\n    -e POSTGRES_PASSWORD=PASSOWRD_PLEASE\\\r\n    -e POSTGRES_USER=keycloak\\\r\n    -e DB_VENDOR=POSTGRES\\\r\n    -e POSTGRES_PORT_5432_TCP_ADDR=postgresql.local\\\r\n    jboss/keycloak:3.4.3.Final\\\r\n    -Dkeycloak.migration.action=export\\\r\n    -Dkeycloak.migration.provider=dir\\\r\n    -Dkeycloak.migration.dir=/tmp/keycloak-export\\\r\n    -Dkeycloak.migration.usersExportStrategy=SAME_FILE\\\r\n    -Dkeycloak.migration.realmName=therealm\r\n```\r\n\r\n**IMPORT**\r\n```\r\ndocker run --rm\\\r\n    --name keycloak_importer\\\r\n    -v /tmp:/tmp/keycloak-import:Z\\\r\n    -e POSTGRES_DATABASE=keycloak_dest\\\r\n    -e POSTGRES_PASSWORD=PASSOWRD_DEST_PLEASE\\\r\n    -e POSTGRES_USER=keycloak\\\r\n    -e DB_VENDOR=POSTGRES\\\r\n    -e POSTGRES_PORT_5432_TCP_ADDR=postgresql2.local\\\r\n    jboss/keycloak:3.4.3.Final\\\r\n    -Dkeycloak.migration.action=import\\\r\n    -Dkeycloak.migration.provider=dir\\\r\n    -Dkeycloak.migration.dir=/tmp/keycloak-import\\\r\n    -Dkeycloak.migration.strategy=IGNORE_EXISTING\\\r\n    -Dkeycloak.migration.usersExportStrategy=SAME_FILE\\\r\n    -Dkeycloak.migration.realmName=therealm\r\n```\r\n\r\nPossible config options:\r\n[https://github.com/keycloak/keycloak-documentation/blob/master/server_admin/topics/export-import.adoc][1]\r\n\r\n\r\n  [1]: https://github.com/keycloak/keycloak-documentation/blob/master/server_admin/topics/export-import.adoc","title":"Export all users from KeyCloak","body":"<p>I have done it with an parallel starting container via docker, which connects to the existing keycloak db.</p>\n\n<p>Please use the same Version of the container keycloak as the real keacloak has.\nBecause of db schema differences between versions.</p>\n\n<p><strong>EXPORT</strong></p>\n\n<pre><code>docker run --rm\\\n    --name keycloak_exporter\\\n    -v /tmp:/tmp/keycloak-export:Z\\\n    -e POSTGRES_DATABASE=keycloak\\\n    -e POSTGRES_PASSWORD=PASSOWRD_PLEASE\\\n    -e POSTGRES_USER=keycloak\\\n    -e DB_VENDOR=POSTGRES\\\n    -e POSTGRES_PORT_5432_TCP_ADDR=postgresql.local\\\n    jboss/keycloak:3.4.3.Final\\\n    -Dkeycloak.migration.action=export\\\n    -Dkeycloak.migration.provider=dir\\\n    -Dkeycloak.migration.dir=/tmp/keycloak-export\\\n    -Dkeycloak.migration.usersExportStrategy=SAME_FILE\\\n    -Dkeycloak.migration.realmName=therealm\n</code></pre>\n\n<p><strong>IMPORT</strong></p>\n\n<pre><code>docker run --rm\\\n    --name keycloak_importer\\\n    -v /tmp:/tmp/keycloak-import:Z\\\n    -e POSTGRES_DATABASE=keycloak_dest\\\n    -e POSTGRES_PASSWORD=PASSOWRD_DEST_PLEASE\\\n    -e POSTGRES_USER=keycloak\\\n    -e DB_VENDOR=POSTGRES\\\n    -e POSTGRES_PORT_5432_TCP_ADDR=postgresql2.local\\\n    jboss/keycloak:3.4.3.Final\\\n    -Dkeycloak.migration.action=import\\\n    -Dkeycloak.migration.provider=dir\\\n    -Dkeycloak.migration.dir=/tmp/keycloak-import\\\n    -Dkeycloak.migration.strategy=IGNORE_EXISTING\\\n    -Dkeycloak.migration.usersExportStrategy=SAME_FILE\\\n    -Dkeycloak.migration.realmName=therealm\n</code></pre>\n\n<p>Possible config options:\n<a href=\"https://github.com/keycloak/keycloak-documentation/blob/master/server_admin/topics/export-import.adoc\" rel=\"noreferrer\">https://github.com/keycloak/keycloak-documentation/blob/master/server_admin/topics/export-import.adoc</a></p>\n"},{"comments":[{"owner":{"account_id":3460362,"reputation":752,"user_id":2897683,"accept_rate":93,"display_name":"thahgr"},"score":1,"creation_date":1647002265,"post_id":64361583,"comment_id":126269186,"body_markdown":"this is an amazing answer, didnt know you can actually do that.  Just to add a bit, when you do docker compose down, if you have a database, be sure to add -v to remove the volumes so you can start fresh","body":"this is an amazing answer, didnt know you can actually do that.  Just to add a bit, when you do docker compose down, if you have a database, be sure to add -v to remove the volumes so you can start fresh"},{"owner":{"account_id":4540045,"reputation":1159,"user_id":3688170,"display_name":"Salvatore Pannozzo Capodiferro"},"score":0,"creation_date":1647024159,"post_id":64361583,"comment_id":126277464,"body_markdown":"usually I do docker rm -fsv to remove all the cached information (v is for volumes)","body":"usually I do docker rm -fsv to remove all the cached information (v is for volumes)"}],"tags":[],"owner":{"account_id":4540045,"reputation":1159,"user_id":3688170,"display_name":"Salvatore Pannozzo Capodiferro"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1606980391,"creation_date":1602710014,"answer_id":64361583,"question_id":48930281,"body_markdown":"you need in your docker-compose-yml to bind your folder, not just the realm json file, like this:\r\n\r\n    keycloak:\r\n        image: jboss/keycloak:8.0.1\r\n        container_name: &quot;keycloak&quot;\r\n         volumes:\r\n          - ./realms/:/tmp/\r\n        environment:\r\n          - KEYCLOAK_USER=admin\r\n          - KEYCLOAK_PASSWORD=admin\r\n          - KEYCLOAK_IMPORT=/tmp/realm-export.json -Dkeycloak.profile.feature.upload_scripts=enabled \r\n\r\nwhere realms is your folder beside the yaml file. At this point you can run docker-compose up -d with your basic realm-export.json as always, go in your admin panel, adding users with credentials and roles, and then with this command you will able to export the entire configuration:\r\n\r\n    docker exec -it keycloak /opt/jboss/keycloak/bin/standalone.sh -Djboss.socket.binding.port-offset=100 -Dkeycloak.migration.action=export -Dkeycloak.migration.provider=singleFile -Dkeycloak.migration.realmName=ed-realm -Dkeycloak.migration.usersExportStrategy=REALM_FILE -Dkeycloak.migration.file=/tmp/export.json\r\n\r\nYou will see in your realms folder that a new file will be created, and it will contain the entire configuration, so you can run docker-compose down, replace your old file with this new and run again docker-compose up as many time you want, and redoing the process when you will change your realm again.\r\n\r\n","title":"Export all users from KeyCloak","body":"<p>you need in your docker-compose-yml to bind your folder, not just the realm json file, like this:</p>\n<pre><code>keycloak:\n    image: jboss/keycloak:8.0.1\n    container_name: &quot;keycloak&quot;\n     volumes:\n      - ./realms/:/tmp/\n    environment:\n      - KEYCLOAK_USER=admin\n      - KEYCLOAK_PASSWORD=admin\n      - KEYCLOAK_IMPORT=/tmp/realm-export.json -Dkeycloak.profile.feature.upload_scripts=enabled \n</code></pre>\n<p>where realms is your folder beside the yaml file. At this point you can run docker-compose up -d with your basic realm-export.json as always, go in your admin panel, adding users with credentials and roles, and then with this command you will able to export the entire configuration:</p>\n<pre><code>docker exec -it keycloak /opt/jboss/keycloak/bin/standalone.sh -Djboss.socket.binding.port-offset=100 -Dkeycloak.migration.action=export -Dkeycloak.migration.provider=singleFile -Dkeycloak.migration.realmName=ed-realm -Dkeycloak.migration.usersExportStrategy=REALM_FILE -Dkeycloak.migration.file=/tmp/export.json\n</code></pre>\n<p>You will see in your realms folder that a new file will be created, and it will contain the entire configuration, so you can run docker-compose down, replace your old file with this new and run again docker-compose up as many time you want, and redoing the process when you will change your realm again.</p>\n"},{"tags":[],"owner":{"account_id":13316463,"reputation":55,"user_id":9612721,"display_name":"Kornext"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686053225,"creation_date":1686053225,"answer_id":76414472,"question_id":48930281,"body_markdown":"\r\nyou can add to your realm.json export file manually\r\n\r\n    &quot;users&quot;: [\r\n      {\r\n        &quot;username&quot;: &quot;admin&quot;,\r\n        &quot;enabled&quot;: true,\r\n        &quot;emailVerified&quot;: true,\r\n        &quot;firstName&quot;: &quot;Rootus&quot;,\r\n        &quot;lastName&quot;: &quot;Adminus&quot;,\r\n        &quot;email&quot;: &quot;local-admin@mail.com&quot;,\r\n        &quot;credentials&quot;: [\r\n          {\r\n            &quot;type&quot;: &quot;password&quot;,\r\n            &quot;value&quot;: &quot;admin&quot;\r\n          }\r\n        ],\r\n        &quot;realmRoles&quot;: [\r\n          &quot;ADMIN&quot;\r\n        ]\r\n      },\r\n      {\r\n        &quot;username&quot;: &quot;operator&quot;,\r\n        &quot;enabled&quot;: true,\r\n        &quot;emailVerified&quot;: true,\r\n        &quot;firstName&quot;: &quot;Operatus&quot;,\r\n        &quot;lastName&quot;: &quot;Operando&quot;,\r\n        &quot;email&quot;: &quot;local-operator@mail.com&quot;,\r\n        &quot;credentials&quot;: [\r\n          {\r\n            &quot;type&quot;: &quot;password&quot;,\r\n            &quot;value&quot;: &quot;operator&quot;\r\n          }\r\n        ],\r\n        &quot;realmRoles&quot;: [\r\n          &quot;ROLE_OPERATOR&quot;\r\n        ]\r\n      }\r\n    ]","title":"Export all users from KeyCloak","body":"<p>you can add to your realm.json export file manually</p>\n<pre><code>&quot;users&quot;: [\n  {\n    &quot;username&quot;: &quot;admin&quot;,\n    &quot;enabled&quot;: true,\n    &quot;emailVerified&quot;: true,\n    &quot;firstName&quot;: &quot;Rootus&quot;,\n    &quot;lastName&quot;: &quot;Adminus&quot;,\n    &quot;email&quot;: &quot;local-admin@mail.com&quot;,\n    &quot;credentials&quot;: [\n      {\n        &quot;type&quot;: &quot;password&quot;,\n        &quot;value&quot;: &quot;admin&quot;\n      }\n    ],\n    &quot;realmRoles&quot;: [\n      &quot;ADMIN&quot;\n    ]\n  },\n  {\n    &quot;username&quot;: &quot;operator&quot;,\n    &quot;enabled&quot;: true,\n    &quot;emailVerified&quot;: true,\n    &quot;firstName&quot;: &quot;Operatus&quot;,\n    &quot;lastName&quot;: &quot;Operando&quot;,\n    &quot;email&quot;: &quot;local-operator@mail.com&quot;,\n    &quot;credentials&quot;: [\n      {\n        &quot;type&quot;: &quot;password&quot;,\n        &quot;value&quot;: &quot;operator&quot;\n      }\n    ],\n    &quot;realmRoles&quot;: [\n      &quot;ROLE_OPERATOR&quot;\n    ]\n  }\n]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29244684,"reputation":1,"user_id":22405387,"display_name":"Rosa Persiani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692282382,"creation_date":1692279475,"answer_id":76922066,"question_id":48930281,"body_markdown":"We used this query to export user related data from the db:\r\n\r\n    SELECT U.EMAIL, U.FIRST_NAME, U.LAST_NAME, U.USERNAME, R.NAME, R.DESCRIPTION\r\n    FROM (USER_ENTITY U\r\n    join USER_ROLE_MAPPING M \r\n    ON U.ID = M.USER_ID) join KEYCLOAK_ROLE R\r\n    ON M.ROLE_ID= R.ID;\r\n\r\nthe output looks like this:\r\n\r\n| EMAIL                              | FIRST_NAME | LAST_NAME  | USERNAME            | NAME              | DESCRIPTION\t\t\t\t | | rosa@example.com                 | Rosa    | Persiani       | rsper    | view-profile      | ${role_view-profile}      |\r\n\r\nthe output can be easily converted to cvs or excel \r\n\r\n","title":"Export all users from KeyCloak","body":"<p>We used this query to export user related data from the db:</p>\n<pre><code>SELECT U.EMAIL, U.FIRST_NAME, U.LAST_NAME, U.USERNAME, R.NAME, R.DESCRIPTION\nFROM (USER_ENTITY U\njoin USER_ROLE_MAPPING M \nON U.ID = M.USER_ID) join KEYCLOAK_ROLE R\nON M.ROLE_ID= R.ID;\n</code></pre>\n<p>the output looks like this:</p>\n<p>| EMAIL                              | FIRST_NAME | LAST_NAME  | USERNAME            | NAME              | DESCRIPTION               | | rosa@example.com                 | Rosa    | Persiani       | rsper    | view-profile      | ${role_view-profile}      |</p>\n<p>the output can be easily converted to cvs or excel</p>\n"}],"owner":{"account_id":65983,"reputation":9310,"user_id":193850,"accept_rate":85,"display_name":"Michel"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46422,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"answer_count":4,"score":21,"last_activity_date":1692282382,"creation_date":1519310786,"question_id":48930281,"body_markdown":"I have a specific use case in which we want to ask Keycloak for all the users and the groups and roles for each user, on a daily basis. For reconciliation purposes with other internal systems.\r\n\r\nCurrently we are using the provided Keycloak endpoints in the UsersResource for this. But we see that performance slows down after each call to a point we can&#39;t use this solution anymore. There are more then 30K users in the realm.\r\n\r\nWe&#39;ve also seen that Keycloak can export the database, but only on system boot (I guess for migration purposes). Given that we want to extract all the users on a daily basis we cannot use this.\r\n\r\nAre there some known functionalities or workarounds?","title":"Export all users from KeyCloak","body":"<p>I have a specific use case in which we want to ask Keycloak for all the users and the groups and roles for each user, on a daily basis. For reconciliation purposes with other internal systems.</p>\n\n<p>Currently we are using the provided Keycloak endpoints in the UsersResource for this. But we see that performance slows down after each call to a point we can't use this solution anymore. There are more then 30K users in the realm.</p>\n\n<p>We've also seen that Keycloak can export the database, but only on system boot (I guess for migration purposes). Given that we want to extract all the users on a daily basis we cannot use this.</p>\n\n<p>Are there some known functionalities or workarounds?</p>\n"},{"tags":["java","unit-testing","junit"],"comments":[{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":1,"creation_date":1497871349,"post_id":44628483,"comment_id":76243937,"body_markdown":"Possible duplicate of [Using Assume.assumeTrue or Assert.assertTrue, when do tests exit?](https://stackoverflow.com/questions/36208492/using-assume-assumetrue-or-assert-asserttrue-when-do-tests-exit)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/36208492/using-assume-assumetrue-or-assert-asserttrue-when-do-tests-exit\">Using Assume.assumeTrue or Assert.assertTrue, when do tests exit?</a>"}],"answers":[{"tags":[],"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"comment_count":0,"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1692282350,"creation_date":1497869395,"answer_id":44628570,"question_id":44628483,"body_markdown":"As you already know, you use `assert` to fail a test if something goes wrong.\r\n\r\nYou use `assume` if you have circumstances under which a test should not run. &quot;Not run&quot; means that it cannot fail, because, well, it did not run.\r\n\r\nSo, in a hypothetical scenario where:\r\n\r\n* you have different builds for different customers, and \r\n* you have some resource which is only applicable to a particular client, and\r\n* there is something testable about that resource, then \r\n\r\nyou would write a test which:\r\n\r\n* assumes that the resource is present, (so the test will not run on customers that do not have that resource,) and then\r\n* asserts that everything about the resource is okay (so on the customer that does actually have the resource, the test makes sure that the resource is as it should be.)\r\n\r\nTechnically, both `assert` and `assume` throw exceptions. The difference is that:\r\n- the kind of exception thrown by `assert` will cause the test to fail, while \r\n- the kind of exception thrown by `assume` will cause the test to be skipped.","title":"Assume vs assert in JUnit tests","body":"<p>As you already know, you use <code>assert</code> to fail a test if something goes wrong.</p>\n<p>You use <code>assume</code> if you have circumstances under which a test should not run. &quot;Not run&quot; means that it cannot fail, because, well, it did not run.</p>\n<p>So, in a hypothetical scenario where:</p>\n<ul>\n<li>you have different builds for different customers, and</li>\n<li>you have some resource which is only applicable to a particular client, and</li>\n<li>there is something testable about that resource, then</li>\n</ul>\n<p>you would write a test which:</p>\n<ul>\n<li>assumes that the resource is present, (so the test will not run on customers that do not have that resource,) and then</li>\n<li>asserts that everything about the resource is okay (so on the customer that does actually have the resource, the test makes sure that the resource is as it should be.)</li>\n</ul>\n<p>Technically, both <code>assert</code> and <code>assume</code> throw exceptions. The difference is that:</p>\n<ul>\n<li>the kind of exception thrown by <code>assert</code> will cause the test to fail, while</li>\n<li>the kind of exception thrown by <code>assume</code> will cause the test to be skipped.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1497869495,"creation_date":1497869495,"answer_id":44628603,"question_id":44628483,"body_markdown":"Simply check out the [javadoc][1] for Assume:\r\n\r\n&gt; A set of methods useful for stating assumptions about the conditions in which a test is meaningful. A failed assumption does not mean the code is broken, but that the test provides no useful information.\r\n\r\nIn other words: when an **assert** fires, you know that your testcase *failed*. Your production code isn&#39;t doing what you expect it to do.\r\n\r\n*Assume* means ... you don&#39;t know exactly what happened.\r\n\r\n  [1]: http://junit.sourceforge.net/javadoc/org/junit/Assume.html","title":"Assume vs assert in JUnit tests","body":"<p>Simply check out the <a href=\"http://junit.sourceforge.net/javadoc/org/junit/Assume.html\" rel=\"nofollow noreferrer\">javadoc</a> for Assume:</p>\n\n<blockquote>\n  <p>A set of methods useful for stating assumptions about the conditions in which a test is meaningful. A failed assumption does not mean the code is broken, but that the test provides no useful information.</p>\n</blockquote>\n\n<p>In other words: when an <strong>assert</strong> fires, you know that your testcase <em>failed</em>. Your production code isn't doing what you expect it to do.</p>\n\n<p><em>Assume</em> means ... you don't know exactly what happened.</p>\n"},{"tags":[],"owner":{"account_id":1474730,"reputation":829,"user_id":1385425,"display_name":"Natan Braslavski"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1497871209,"creation_date":1497870501,"answer_id":44628970,"question_id":44628483,"body_markdown":"**The Assert** class is the workhorse of JUnit and is the class JUnit testers are most familiar with. Most JUnit assert signatures are similar in nature. They consist of an optional message, an expected instance or variable and the actual instance or variable to be compared. Or, in the case of a boolean test like True, False, or Null, there is simply the actual instance to be tested.\r\n\r\nThe signature with a message simply has an initial parameter with a message string that will be displayed in the event the assert fails:\r\n\r\n    assert&lt;something&gt;(“Failure Message String”, &lt;condition to be tested&gt;);\r\n\r\n**Assumptions**:\r\nYou’ve probably heard that it’s best not to work on assumptions so here is a testing tool JUnit gives you to ensure your tests don’t.\r\n\r\nBoth Asserts and Assumes stop when a test fails and move on to the next test. The difference is that a failed Assert registers the failure as a failed test while an Assume just moves to the next test. This permits a tester to ensure that conditions, some of which may be external and out of control of the tester, are present as required before a test is run.\r\n\r\nThere are four varieties of Assumes: one to check a boolean condition, one to check that an exception has not occurred, one to check for null objects, and one that can take a Hamcrest matcher. As seen in the Assert section above, the ability to take a Hamcrest matcher is a gateway to testing flexibility.\r\n\r\nYou can read more here\r\nhttps://objectcomputing.com/resources/publications/sett/march-2014-junit-not-just-another-pretty-assert/\r\n\r\nIn short Assume used to disable tests, for example the following disables a test on Linux: `Assume.assumeFalse(System.getProperty(&quot;os.name&quot;).contains(&quot;Linux&quot;));`&lt;br&gt;\r\nAssert is used to test the functionality.","title":"Assume vs assert in JUnit tests","body":"<p><strong>The Assert</strong> class is the workhorse of JUnit and is the class JUnit testers are most familiar with. Most JUnit assert signatures are similar in nature. They consist of an optional message, an expected instance or variable and the actual instance or variable to be compared. Or, in the case of a boolean test like True, False, or Null, there is simply the actual instance to be tested.</p>\n\n<p>The signature with a message simply has an initial parameter with a message string that will be displayed in the event the assert fails:</p>\n\n<pre><code>assert&lt;something&gt;(“Failure Message String”, &lt;condition to be tested&gt;);\n</code></pre>\n\n<p><strong>Assumptions</strong>:\nYou’ve probably heard that it’s best not to work on assumptions so here is a testing tool JUnit gives you to ensure your tests don’t.</p>\n\n<p>Both Asserts and Assumes stop when a test fails and move on to the next test. The difference is that a failed Assert registers the failure as a failed test while an Assume just moves to the next test. This permits a tester to ensure that conditions, some of which may be external and out of control of the tester, are present as required before a test is run.</p>\n\n<p>There are four varieties of Assumes: one to check a boolean condition, one to check that an exception has not occurred, one to check for null objects, and one that can take a Hamcrest matcher. As seen in the Assert section above, the ability to take a Hamcrest matcher is a gateway to testing flexibility.</p>\n\n<p>You can read more here\n<a href=\"https://objectcomputing.com/resources/publications/sett/march-2014-junit-not-just-another-pretty-assert/\" rel=\"noreferrer\">https://objectcomputing.com/resources/publications/sett/march-2014-junit-not-just-another-pretty-assert/</a></p>\n\n<p>In short Assume used to disable tests, for example the following disables a test on Linux: <code>Assume.assumeFalse(System.getProperty(\"os.name\").contains(\"Linux\"));</code><br>\nAssert is used to test the functionality.</p>\n"},{"tags":[],"owner":{"account_id":18336641,"reputation":51,"user_id":13353915,"display_name":"Swarnadeep Ghosh"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1606153115,"creation_date":1606153115,"answer_id":64973460,"question_id":44628483,"body_markdown":"The most easiest difference between Assert and Assume is :\r\n\r\n**Assume** will only run when the assumption is true. Will be skipped if it false.\r\n\r\n    assumeTrue(boolean assumption, String message)\r\n\r\n\r\n**Assert** will run normally if true.\r\nIn case of false assert, it gives predefined error message.\r\n\r\n    assertTrue(boolean condition, String message)\r\n","title":"Assume vs assert in JUnit tests","body":"<p>The most easiest difference between Assert and Assume is :</p>\n<p><strong>Assume</strong> will only run when the assumption is true. Will be skipped if it false.</p>\n<pre><code>assumeTrue(boolean assumption, String message)\n</code></pre>\n<p><strong>Assert</strong> will run normally if true.\nIn case of false assert, it gives predefined error message.</p>\n<pre><code>assertTrue(boolean condition, String message)\n</code></pre>\n"}],"owner":{"account_id":3704844,"reputation":1152,"user_id":3083679,"accept_rate":71,"display_name":"Mike"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20093,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":44628570,"answer_count":4,"score":32,"last_activity_date":1692282350,"creation_date":1497869140,"question_id":44628483,"body_markdown":"I have read that `assume` will not run the test if assumption failed,\r\nbut I am not sure regarding the logic of when to place `assert` vs `assume`.\r\n\r\nFor example: any resource loading check should be done with `assume`?\r\n\r\nWhen should I use `assume` over `assert`?\r\n \r\n(Note: i am looking for correct design of when to use one over the other)\r\n\r\n","title":"Assume vs assert in JUnit tests","body":"<p>I have read that <code>assume</code> will not run the test if assumption failed,\nbut I am not sure regarding the logic of when to place <code>assert</code> vs <code>assume</code>.</p>\n\n<p>For example: any resource loading check should be done with <code>assume</code>?</p>\n\n<p>When should I use <code>assume</code> over <code>assert</code>?</p>\n\n<p>(Note: i am looking for correct design of when to use one over the other)</p>\n"},{"tags":["java","hibernate","entity","relationship"],"answers":[{"tags":[],"owner":{"account_id":5221534,"reputation":314,"user_id":4174849,"display_name":"Omid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692282333,"creation_date":1692282333,"answer_id":76922456,"question_id":76920733,"body_markdown":"Your problem is the OneToOne relation. According to [this][1]\r\nConfiguring lazy loading for one-to-one associations is not as easy as it is for other associations. \r\n\r\nWith some Hibernate versions, you can set the optional attribute of the @OneToOne annotation to false to avoid the eager fetching. Hibernate then always initializes the manuscript attribute with a proxy object. Unfortunately, this doesn’t work for all Hibernate version. If it works with your Hibernate version, you need to be prepared that it might change with future updates. I mean something like this:\r\n\r\n    @OneToOne(fetch = FetchType.LAZY, optional = false)\r\n    @JoinColumn(name = &quot;last_modified_by&quot;, referencedColumnName = &quot;login&quot;, insertable = false, updatable = false)\r\n    private User lastModifiedUser;\r\n\r\n  [1]: https://thorben-janssen.com/hibernate-tip-lazy-loading-one-to-one/","title":"I want to fetch lazy my user entity but it not work","body":"<p>Your problem is the OneToOne relation. According to <a href=\"https://thorben-janssen.com/hibernate-tip-lazy-loading-one-to-one/\" rel=\"nofollow noreferrer\">this</a>\nConfiguring lazy loading for one-to-one associations is not as easy as it is for other associations.</p>\n<p>With some Hibernate versions, you can set the optional attribute of the @OneToOne annotation to false to avoid the eager fetching. Hibernate then always initializes the manuscript attribute with a proxy object. Unfortunately, this doesn’t work for all Hibernate version. If it works with your Hibernate version, you need to be prepared that it might change with future updates. I mean something like this:</p>\n<pre><code>@OneToOne(fetch = FetchType.LAZY, optional = false)\n@JoinColumn(name = &quot;last_modified_by&quot;, referencedColumnName = &quot;login&quot;, insertable = false, updatable = false)\nprivate User lastModifiedUser;\n</code></pre>\n"}],"owner":{"account_id":23320829,"reputation":1,"user_id":22404393,"display_name":"Rubin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692282333,"creation_date":1692268904,"question_id":76920733,"body_markdown":"I have my Entity\r\n```\r\n@MappedSuperclass\r\n@EntityListeners(AuditingEntityListener.class)\r\n@JsonIgnoreProperties(value = { &quot;createdBy&quot;, &quot;createdDate&quot;, &quot;lastModifiedBy&quot;, &quot;lastModifiedDate&quot; }, allowGetters = true)\r\npublic abstract class AbstractAuditingEntity&lt;T&gt; implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    public abstract T getId();\r\n\r\n    @NotNull\r\n    @CreatedBy\r\n    @Column(name = &quot;created_by&quot;, nullable = false, length = 13, updatable = false)\r\n    private String createdBy;\r\n\r\n    @NotNull\r\n    @CreatedDate\r\n    @Column(name = &quot;created_date&quot;, updatable = false)\r\n    private Instant createdDate = Instant.now();\r\n\r\n    @LastModifiedBy\r\n    @Column(name = &quot;last_modified_by&quot;, length = 13)\r\n    private String lastModifiedBy;\r\n\r\n    @LastModifiedDate\r\n    @Column(name = &quot;last_modified_date&quot;)\r\n    private Instant lastModifiedDate = Instant.now();\r\n    //GETTER AND SETTER\r\n}\r\n\r\n```\r\nsecond class \r\n```\r\npackage cnas.gov.md.domain;\r\n\r\nimport cnas.gov.md.domain.enumeration.DecisionStatus;\r\nimport java.io.Serializable;\r\nimport java.time.Instant;\r\nimport java.util.UUID;\r\nimport javax.persistence.*;\r\nimport javax.validation.constraints.NotNull;\r\n\r\n/**\r\n * A Decision.\r\n */\r\n@Entity\r\n@Table(name = &quot;decision&quot;)\r\n@SuppressWarnings(&quot;common-java:DuplicatedBlocks&quot;)\r\npublic class Decision extends AbstractAuditingEntity&lt;UUID&gt; implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    @Column(name = &quot;id&quot;)\r\n    private UUID id;\r\n\r\n    @Column(name = &quot;decision_nr&quot;)\r\n    private String decisionNr;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;status&quot;)\r\n    private DecisionStatus status;\r\n\r\n\r\n    @OneToOne\r\n    @JoinColumn(name = &quot;application_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Application application;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;order_nr&quot;, nullable = false)\r\n    private Integer orderNr;\r\n\r\n    @Column(name = &quot;examined_date&quot;)\r\n    private Instant examinedDate;\r\n\r\n    @Column(name = &quot;examined_by&quot;)\r\n    private String examinedBy;\r\n\r\n    @Column(name = &quot;verified_date&quot;)\r\n    private Instant verifiedDate;\r\n\r\n    @Column(name = &quot;verified_by&quot;)\r\n    private String verifiedBy;\r\n\r\n\r\n    @Column(name = &quot;approved_date&quot;)\r\n    private Instant approvedDate;\r\n\r\n    @Column(name = &quot;approved_by&quot;)\r\n    private String approvedBy;\r\n\r\n    @OneToOne\r\n    @JoinColumn(name = &quot;created_by&quot;, referencedColumnName = &quot;login&quot;, insertable = false, updatable = false)\r\n    private User createdUser;\r\n\r\n    @OneToOne\r\n    @JoinColumn(name = &quot;last_modified_by&quot;, referencedColumnName = &quot;login&quot;, insertable = false, updatable = false)\r\n    private User lastModifiedUser;\r\n}\r\n```\r\n\r\n\r\n I want to fetch lazy  createdUser and lastModifiedUser if is possible, and use eager fetch when i want with entity graph, I try to use fetch = LAZY but it dont work. I need this for get some info about user and Yes i can&#39;t use in my AbstractAuditingEntity reference to user because that class extend more where i don&#39;t need info about user.","title":"I want to fetch lazy my user entity but it not work","body":"<p>I have my Entity</p>\n<pre><code>@MappedSuperclass\n@EntityListeners(AuditingEntityListener.class)\n@JsonIgnoreProperties(value = { &quot;createdBy&quot;, &quot;createdDate&quot;, &quot;lastModifiedBy&quot;, &quot;lastModifiedDate&quot; }, allowGetters = true)\npublic abstract class AbstractAuditingEntity&lt;T&gt; implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    public abstract T getId();\n\n    @NotNull\n    @CreatedBy\n    @Column(name = &quot;created_by&quot;, nullable = false, length = 13, updatable = false)\n    private String createdBy;\n\n    @NotNull\n    @CreatedDate\n    @Column(name = &quot;created_date&quot;, updatable = false)\n    private Instant createdDate = Instant.now();\n\n    @LastModifiedBy\n    @Column(name = &quot;last_modified_by&quot;, length = 13)\n    private String lastModifiedBy;\n\n    @LastModifiedDate\n    @Column(name = &quot;last_modified_date&quot;)\n    private Instant lastModifiedDate = Instant.now();\n    //GETTER AND SETTER\n}\n\n</code></pre>\n<p>second class</p>\n<pre><code>package cnas.gov.md.domain;\n\nimport cnas.gov.md.domain.enumeration.DecisionStatus;\nimport java.io.Serializable;\nimport java.time.Instant;\nimport java.util.UUID;\nimport javax.persistence.*;\nimport javax.validation.constraints.NotNull;\n\n/**\n * A Decision.\n */\n@Entity\n@Table(name = &quot;decision&quot;)\n@SuppressWarnings(&quot;common-java:DuplicatedBlocks&quot;)\npublic class Decision extends AbstractAuditingEntity&lt;UUID&gt; implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue\n    @Column(name = &quot;id&quot;)\n    private UUID id;\n\n    @Column(name = &quot;decision_nr&quot;)\n    private String decisionNr;\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;status&quot;)\n    private DecisionStatus status;\n\n\n    @OneToOne\n    @JoinColumn(name = &quot;application_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Application application;\n\n    @NotNull\n    @Column(name = &quot;order_nr&quot;, nullable = false)\n    private Integer orderNr;\n\n    @Column(name = &quot;examined_date&quot;)\n    private Instant examinedDate;\n\n    @Column(name = &quot;examined_by&quot;)\n    private String examinedBy;\n\n    @Column(name = &quot;verified_date&quot;)\n    private Instant verifiedDate;\n\n    @Column(name = &quot;verified_by&quot;)\n    private String verifiedBy;\n\n\n    @Column(name = &quot;approved_date&quot;)\n    private Instant approvedDate;\n\n    @Column(name = &quot;approved_by&quot;)\n    private String approvedBy;\n\n    @OneToOne\n    @JoinColumn(name = &quot;created_by&quot;, referencedColumnName = &quot;login&quot;, insertable = false, updatable = false)\n    private User createdUser;\n\n    @OneToOne\n    @JoinColumn(name = &quot;last_modified_by&quot;, referencedColumnName = &quot;login&quot;, insertable = false, updatable = false)\n    private User lastModifiedUser;\n}\n</code></pre>\n<p>I want to fetch lazy  createdUser and lastModifiedUser if is possible, and use eager fetch when i want with entity graph, I try to use fetch = LAZY but it dont work. I need this for get some info about user and Yes i can't use in my AbstractAuditingEntity reference to user because that class extend more where i don't need info about user.</p>\n"},{"tags":["java","build","graalvm-native-image"],"owner":{"account_id":29244894,"reputation":1,"user_id":22405561,"display_name":"BSluge"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692281701,"creation_date":1692281701,"question_id":76922378,"body_markdown":"There seems to be no way to add jvm parameters to enable anonymous modules to access java.base/java.lang. I tried to add --add-opens=java.base/java.lang=ALL-UNNAMED, but the binary that was compiled into graalvm still reported an error. The way I compile is with something like native iamge-jar[enter image description here](https://i.stack.imgur.com/UDBq5.png)\r\n\r\nI hope that the binary file compiled by the way of native image-jar can run normally without error","title":"I used graalvm to compile the spring boot3 project for jdk17. module opens unnamed","body":"<p>There seems to be no way to add jvm parameters to enable anonymous modules to access java.base/java.lang. I tried to add --add-opens=java.base/java.lang=ALL-UNNAMED, but the binary that was compiled into graalvm still reported an error. The way I compile is with something like native iamge-jar<a href=\"https://i.stack.imgur.com/UDBq5.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I hope that the binary file compiled by the way of native image-jar can run normally without error</p>\n"},{"tags":["java","android","pytorch","jit"],"comments":[{"owner":{"account_id":29244875,"reputation":1,"user_id":22405546,"display_name":"Areeb Lone"},"score":0,"creation_date":1692771087,"post_id":76922370,"comment_id":135667901,"body_markdown":"Turns out there was an issue with my model. There were many forward calls in the other classes the my main model was inheriting from. I removed those forward calls and fixed the issue","body":"Turns out there was an issue with my model. There were many forward calls in the other classes the my main model was inheriting from. I removed those forward calls and fixed the issue"}],"owner":{"account_id":29244875,"reputation":1,"user_id":22405546,"display_name":"Areeb Lone"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692281645,"creation_date":1692281645,"question_id":76922370,"body_markdown":"I&#39;m trying to deploy an image to image model on Android. Model consists of encoder and decoder. \r\nThe encoder works fine. But this issue comes in decoder. My model takes one tensor as input and it should return a tensor of size [1,3,1024,1024] as output. But there comes a Fatal in the app. \r\n\r\n```\r\nfinal long[] styleshape = new long[]{3};\r\nfinal FloatBuffer styledBuffer = Tensor.allocateFloatBuffer(3);\r\nstyledBuffer.put(-0.4951f);\r\nstyledBuffer.put(-1.0065f);\r\nstyledBuffer.put(-1.0413f);\r\n\r\nstyledBuffer.get(0);\r\nTensor styledTensor = Tensor.fromBlob(styledBuffer, styleshape);\r\nIValue style = IValue.from(styledTensor);\r\nfinal Tensor styledOutputTensor = decoderModule.forward(style).toTensor();\r\n```\r\n                                                                                                    java.lang.RuntimeException: Failure delivering result ResultInfo{who=null, request=101, result=-1, data=Intent { dat=content://com.android.providers.media.documents/... flg=0x1 }} to activity {org.pytorch.helloworld/org.pytorch.helloworld.MainActivity}: com.facebook.jni.CppException: Error happened at preparing for default values for the argument. The 1th argument dim does not have a specified value or default value. \r\nI tried passing a random tensor of the similar shape and then I didn&#39;t get the error.\r\n```\r\ndef forward(self,  style_tensor):\r\n        spade_input=None \r\n        pure_generation=False\r\n        content_list=[]\r\n        content_list.append(torch.rand([1, 192, 256, 256]))\r\n        content_list.append(torch.rand([1, 5, 512, 512]))\r\n        content_list.append(torch.rand([1, 5, 1024, 1024]))\r\n        style_tensor = torch.randn(1,1,3,1)\r\n        style_tensor=style_tensor.view(1,1,3,1)\r\n        if self.pred_adain_params:\r\n            adain_params = self.adain_net(style_tensor)\r\n            self.assign_adain_params(adain_params, self)\r\n\r\n        if self.pred_conv_kernel:\r\n            assert style_tensor.size(0) == 1, &#39;prediction of convilution does not work with batch size &gt; 1&#39;\r\n            self.assign_style(style_tensor.view(1, -1), self)\r\n\r\n        tensor = module_list_forward(self.body, content_list[0], spade_input)\r\n        for skip_content, up_layer, up_postprocess_layer, skip_preprocess_layer in     zip(content_list[1:], self.upsample_head, self.upsample_postprocess,self.skip_preprocess):                            \r\n                                                                                       \r\n                                                                                       \r\n                                                                                       \r\n            tensor = up_layer(tensor)\r\n            skip_tensor = skip_preprocess_layer(skip_content)\r\n            tensor = torch.cat([tensor, skip_tensor], 1)\r\n            tensor = up_postprocess_layer(tensor)\r\n        for layer in self.model_postprocess:\r\n            tensor = layer(tensor)    \r\n\r\n        tensor = torch.tanh(tensor[:, : 3])\r\n\r\n                            \r\n        #ret = torch.randn([1, 3, 1024, 1024])\r\n        \r\n        return tensor\r\n\r\n```\r\n\r\nExpecting a Tensor but getting the above error.","title":"The 1th argument dim does not have a specified value or default value","body":"<p>I'm trying to deploy an image to image model on Android. Model consists of encoder and decoder.\nThe encoder works fine. But this issue comes in decoder. My model takes one tensor as input and it should return a tensor of size [1,3,1024,1024] as output. But there comes a Fatal in the app.</p>\n<pre><code>final long[] styleshape = new long[]{3};\nfinal FloatBuffer styledBuffer = Tensor.allocateFloatBuffer(3);\nstyledBuffer.put(-0.4951f);\nstyledBuffer.put(-1.0065f);\nstyledBuffer.put(-1.0413f);\n\nstyledBuffer.get(0);\nTensor styledTensor = Tensor.fromBlob(styledBuffer, styleshape);\nIValue style = IValue.from(styledTensor);\nfinal Tensor styledOutputTensor = decoderModule.forward(style).toTensor();\n</code></pre>\n<pre><code>                                                                                                java.lang.RuntimeException: Failure delivering result ResultInfo{who=null, request=101, result=-1, data=Intent { dat=content://com.android.providers.media.documents/... flg=0x1 }} to activity {org.pytorch.helloworld/org.pytorch.helloworld.MainActivity}: com.facebook.jni.CppException: Error happened at preparing for default values for the argument. The 1th argument dim does not have a specified value or default value. \n</code></pre>\n<p>I tried passing a random tensor of the similar shape and then I didn't get the error.</p>\n<pre><code>def forward(self,  style_tensor):\n        spade_input=None \n        pure_generation=False\n        content_list=[]\n        content_list.append(torch.rand([1, 192, 256, 256]))\n        content_list.append(torch.rand([1, 5, 512, 512]))\n        content_list.append(torch.rand([1, 5, 1024, 1024]))\n        style_tensor = torch.randn(1,1,3,1)\n        style_tensor=style_tensor.view(1,1,3,1)\n        if self.pred_adain_params:\n            adain_params = self.adain_net(style_tensor)\n            self.assign_adain_params(adain_params, self)\n\n        if self.pred_conv_kernel:\n            assert style_tensor.size(0) == 1, 'prediction of convilution does not work with batch size &gt; 1'\n            self.assign_style(style_tensor.view(1, -1), self)\n\n        tensor = module_list_forward(self.body, content_list[0], spade_input)\n        for skip_content, up_layer, up_postprocess_layer, skip_preprocess_layer in     zip(content_list[1:], self.upsample_head, self.upsample_postprocess,self.skip_preprocess):                            \n                                                                                       \n                                                                                       \n                                                                                       \n            tensor = up_layer(tensor)\n            skip_tensor = skip_preprocess_layer(skip_content)\n            tensor = torch.cat([tensor, skip_tensor], 1)\n            tensor = up_postprocess_layer(tensor)\n        for layer in self.model_postprocess:\n            tensor = layer(tensor)    \n\n        tensor = torch.tanh(tensor[:, : 3])\n\n                            \n        #ret = torch.randn([1, 3, 1024, 1024])\n        \n        return tensor\n\n</code></pre>\n<p>Expecting a Tensor but getting the above error.</p>\n"},{"tags":["java","mockito","variadic-functions"],"comments":[{"owner":{"account_id":4740392,"reputation":1670,"user_id":3833404,"accept_rate":100,"display_name":"Jonathan Schoreels"},"score":1,"creation_date":1457975669,"post_id":35993559,"comment_id":59640250,"body_markdown":"For varargs, it exists special matchers/argument captors. [See this thread.](http://stackoverflow.com/questions/2631596/how-to-properly-match-varargs-in-mockito)","body":"For varargs, it exists special matchers/argument captors. <a href=\"http://stackoverflow.com/questions/2631596/how-to-properly-match-varargs-in-mockito\">See this thread.</a>"},{"owner":{"account_id":8039943,"reputation":51,"user_id":6061935,"display_name":"Vincent Vandemeulebrouck"},"score":0,"creation_date":1458030046,"post_id":35993559,"comment_id":59663295,"body_markdown":"The issue is not on matching or use of argument captor: the verifiers verifies the method is called twice as expected, with varargs. But when the ArgumentCaptor is used to get the captured values, it returns a list with the 3 arguments of both calls.","body":"The issue is not on matching or use of argument captor: the verifiers verifies the method is called twice as expected, with varargs. But when the ArgumentCaptor is used to get the captured values, it returns a list with the 3 arguments of both calls."}],"answers":[{"tags":[],"owner":{"account_id":1437017,"reputation":358,"user_id":1358166,"display_name":"domaru"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1617781920,"creation_date":1617781920,"answer_id":66981723,"question_id":35993559,"body_markdown":"So after 5 years ops question is still unanswered because there are only workarounds present. These are:\r\n\r\n - If you only have single invocation of tested method you can still use captors like op mentioned using `getAllValues()` for verification. This is the method recommended for varargs in documentation for latest Mockito 3.8.0\r\n - If you have multiple invocations you will **not** be able to tell which argument was passed in which invocation, you will just have them in one list. You will still be able to verify number of invocations. Yet, you might be better using `argThat()` in this scenario","title":"ArgumentCaptor mockito vararg getAllValues","body":"<p>So after 5 years ops question is still unanswered because there are only workarounds present. These are:</p>\n<ul>\n<li>If you only have single invocation of tested method you can still use captors like op mentioned using <code>getAllValues()</code> for verification. This is the method recommended for varargs in documentation for latest Mockito 3.8.0</li>\n<li>If you have multiple invocations you will <strong>not</strong> be able to tell which argument was passed in which invocation, you will just have them in one list. You will still be able to verify number of invocations. Yet, you might be better using <code>argThat()</code> in this scenario</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":12098571,"reputation":141,"user_id":11228438,"display_name":"Chebi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692281351,"creation_date":1692281351,"answer_id":76922326,"question_id":35993559,"body_markdown":"I think this used to be a bug or some other behavior was intended with `getAllValues()`.\r\n\r\nHere there&#39;s a discussion on the issue or a similar one: https://github.com/mockito/mockito/issues/584\r\n\r\nYour code would work today, or at least the `getAllValues()` would indeed return a list with size 2, as expected.","title":"ArgumentCaptor mockito vararg getAllValues","body":"<p>I think this used to be a bug or some other behavior was intended with <code>getAllValues()</code>.</p>\n<p>Here there's a discussion on the issue or a similar one: <a href=\"https://github.com/mockito/mockito/issues/584\" rel=\"nofollow noreferrer\">https://github.com/mockito/mockito/issues/584</a></p>\n<p>Your code would work today, or at least the <code>getAllValues()</code> would indeed return a list with size 2, as expected.</p>\n"}],"owner":{"account_id":8039943,"reputation":51,"user_id":6061935,"display_name":"Vincent Vandemeulebrouck"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2850,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1692281351,"creation_date":1457974582,"question_id":35993559,"body_markdown":"I want to validate the logging made by a helper class, which calls a method with some varargs.\r\n\r\nI am using Mockito (1.10.19) to mock the actual logger, and to verify the mocked method is called as expected.\r\n\r\nI use an ArgumentCaptor to validate the arguments.\r\n\r\nThe Mockito.verify validates the number of times the mocked method is called, \r\nhowever, the ArgumentCaptor.getAllValues is returning a single array with all the parameters of all the method calls.\r\n\r\nHere is a sample code:\r\n\r\n    interface Logger\r\n    {\r\n        void info(Object... params);\r\n    }\r\n\r\n    @Mock\r\n    Logger logger;\r\n\r\n    public void logMatrix(String[][] matrix)\r\n    {\r\n        for (int column = 0; column &lt; matrix.length; column++)\r\n        {\r\n            logger.info(column, &quot; : &quot;, matrix[column]);\r\n        }\r\n    }\r\n\r\n    @Test\r\n    public void givenMatrix_whenLogMatrix_thenLogsEachRow() throws Exception\r\n    {\r\n        String[][] matrix = {\r\n            {&quot;a&quot;, &quot;b&quot;},\r\n            {&quot;c&quot;, &quot;d&quot;}\r\n        };\r\n\r\n        ArgumentCaptor&lt;Object[]&gt; captor = ArgumentCaptor.forClass(Object[].class);\r\n\r\n        logMatrix(matrix);\r\n\r\n        // verify the mocked method is called twice\r\n        Mockito.verify(logger, times(2)).info(captor.capture());\r\n        \r\n        // verify the contents of the calls: expecting two arrays, one for each call \r\n        assertThat(captor.getAllValues()).hasSize(2);\r\n        // fails !\r\n    }\r\n\r\nThe failure is:\r\n\r\n    java.lang.AssertionError: \r\n       Expected size:&lt;2&gt; but was:&lt;6&gt; in:\r\n          &lt;[0, &quot; : &quot;, [&quot;a&quot;, &quot;b&quot;], 1, &quot; : &quot;, [&quot;c&quot;, &quot;d&quot;]]&gt;\r\n       at TestLogHelper.givenMatrix_whenLogMatrix_thenLogsEachRow(TestLogHelper.java:72)\r\n\t...\r\n\r\n\r\nIs it a misuse? or a bug in mockito ?\r\n","title":"ArgumentCaptor mockito vararg getAllValues","body":"<p>I want to validate the logging made by a helper class, which calls a method with some varargs.</p>\n\n<p>I am using Mockito (1.10.19) to mock the actual logger, and to verify the mocked method is called as expected.</p>\n\n<p>I use an ArgumentCaptor to validate the arguments.</p>\n\n<p>The Mockito.verify validates the number of times the mocked method is called, \nhowever, the ArgumentCaptor.getAllValues is returning a single array with all the parameters of all the method calls.</p>\n\n<p>Here is a sample code:</p>\n\n<pre><code>interface Logger\n{\n    void info(Object... params);\n}\n\n@Mock\nLogger logger;\n\npublic void logMatrix(String[][] matrix)\n{\n    for (int column = 0; column &lt; matrix.length; column++)\n    {\n        logger.info(column, \" : \", matrix[column]);\n    }\n}\n\n@Test\npublic void givenMatrix_whenLogMatrix_thenLogsEachRow() throws Exception\n{\n    String[][] matrix = {\n        {\"a\", \"b\"},\n        {\"c\", \"d\"}\n    };\n\n    ArgumentCaptor&lt;Object[]&gt; captor = ArgumentCaptor.forClass(Object[].class);\n\n    logMatrix(matrix);\n\n    // verify the mocked method is called twice\n    Mockito.verify(logger, times(2)).info(captor.capture());\n\n    // verify the contents of the calls: expecting two arrays, one for each call \n    assertThat(captor.getAllValues()).hasSize(2);\n    // fails !\n}\n</code></pre>\n\n<p>The failure is:</p>\n\n<pre><code>java.lang.AssertionError: \n   Expected size:&lt;2&gt; but was:&lt;6&gt; in:\n      &lt;[0, \" : \", [\"a\", \"b\"], 1, \" : \", [\"c\", \"d\"]]&gt;\n   at TestLogHelper.givenMatrix_whenLogMatrix_thenLogsEachRow(TestLogHelper.java:72)\n...\n</code></pre>\n\n<p>Is it a misuse? or a bug in mockito ?</p>\n"},{"tags":["java","spring","spring-boot","swagger-ui","openapi-generator"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1692264112,"post_id":76920052,"comment_id":135600658,"body_markdown":"See https://github.com/swagger-api/swagger-codegen/issues/5675","body":"See <a href=\"https://github.com/swagger-api/swagger-codegen/issues/5675\" rel=\"nofollow noreferrer\">github.com/swagger-api/swagger-codegen/issues/5675</a>"}],"owner":{"account_id":28605751,"reputation":31,"user_id":21901733,"display_name":"Asmita Tiwari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":483,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1692281122,"creation_date":1692263493,"question_id":76920052,"body_markdown":"I&#39;m currently working with the OpenAPI Generator for my API project, and I&#39;ve run into an unexpected issue. When I define a default response in my OpenAPI specification, the OpenAPI Generator seems to be automatically assigning a 200 status code to that default response, which is not the behavior I expect.\r\n\r\nIn my YAML specification, I&#39;ve defined the default response without specifying a status code, focusing on providing a description for unexpected errors:\r\n\r\nyaml\r\nCopy code\r\nresponses:\r\n  default:\r\n    description: Unexpected error\r\n\r\nHowever, despite not specifying a status code, the generated Swagger documentation shows a 200 status code for this default response, which is not accurate for an error response.\r\n\r\nHas anyone else encountered this issue with the OpenAPI Generator? Is there a way to prevent the generator from automatically assigning a 200 status code to default responses? Any insights, workarounds, or suggestions would be greatly appreciated.\r\n\r\nThank you in advance for your help!\r\n\r\n\r\nI&#39;ve reviewed my other response definitions, validated the OpenAPI specification, and checked the OpenAPI Generator&#39;s configuration settings, but I&#39;m still encountering this behavior.\r\n","title":"Open API Generator assigns 200 status code to default responses","body":"<p>I'm currently working with the OpenAPI Generator for my API project, and I've run into an unexpected issue. When I define a default response in my OpenAPI specification, the OpenAPI Generator seems to be automatically assigning a 200 status code to that default response, which is not the behavior I expect.</p>\n<p>In my YAML specification, I've defined the default response without specifying a status code, focusing on providing a description for unexpected errors:</p>\n<p>yaml\nCopy code\nresponses:\ndefault:\ndescription: Unexpected error</p>\n<p>However, despite not specifying a status code, the generated Swagger documentation shows a 200 status code for this default response, which is not accurate for an error response.</p>\n<p>Has anyone else encountered this issue with the OpenAPI Generator? Is there a way to prevent the generator from automatically assigning a 200 status code to default responses? Any insights, workarounds, or suggestions would be greatly appreciated.</p>\n<p>Thank you in advance for your help!</p>\n<p>I've reviewed my other response definitions, validated the OpenAPI specification, and checked the OpenAPI Generator's configuration settings, but I'm still encountering this behavior.</p>\n"},{"tags":["java","spring","component-scan"],"owner":{"account_id":4392576,"reputation":167,"user_id":3580519,"accept_rate":50,"display_name":"TajnosAgentos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692281085,"creation_date":1692281085,"question_id":76922294,"body_markdown":"Short proiblem descriotrion\r\n1. i have 2 jar files main-module.jar and sub-module.jar\r\n2. main-module.jar is a spring-boot application\r\n3. sub-module.jar has few components which i want to have in my running main-module application\r\n4. both main-module and sub-module have simillar package structure eg. com.something.mainapp, com.something.subapp\r\n5. @ComponentScan in set to com.something\r\n6. i want to be able to include many JAR files only using the JAVA jut command and scan the via ConponentScan to the spring context\r\n\r\nfiles which i have\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nzYlN.png\r\n\r\nused commands\r\n\r\n     java -cp sub-module.jar:* -jar .\\main-module.jar","title":"Java Spring boot scan components from external jar","body":"<p>Short proiblem descriotrion</p>\n<ol>\n<li>i have 2 jar files main-module.jar and sub-module.jar</li>\n<li>main-module.jar is a spring-boot application</li>\n<li>sub-module.jar has few components which i want to have in my running main-module application</li>\n<li>both main-module and sub-module have simillar package structure eg. com.something.mainapp, com.something.subapp</li>\n<li>@ComponentScan in set to com.something</li>\n<li>i want to be able to include many JAR files only using the JAVA jut command and scan the via ConponentScan to the spring context</li>\n</ol>\n<p>files which i have</p>\n<p><a href=\"https://i.stack.imgur.com/nzYlN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nzYlN.png\" alt=\"enter image description here\" /></a></p>\n<p>used commands</p>\n<pre><code> java -cp sub-module.jar:* -jar .\\main-module.jar\n</code></pre>\n"},{"tags":["java","amazon-s3","apache-camel"],"owner":{"account_id":11708210,"reputation":11,"user_id":8571050,"display_name":"Vitalii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692280836,"creation_date":1692277486,"question_id":76921814,"body_markdown":"I&#39;m trying to read the message and its headers from the message broker and persist it to the AWS S3 bucket by replacing headers with tags. The object is getting persisted to S3 but the tags are not.\r\n\r\nhere is the routing config:\r\n\r\n```\r\nfrom(from)\r\n  .routeId(id)\r\n  .process(new S3FileProcessor(...))\r\n  .to(to);\r\n```\r\n, and here is the S3FileProcessor#process method:\r\n\r\n```\r\n@Override\r\npublic void process(Exchange exchange) {\r\n  Map&lt;String, Object&gt; inputHeaders = exchange.getIn().getHeaders();\r\n  ...\r\n  Map&lt;String, Object&gt; s3Metadata = Map.of(&quot;x-amz-tagging&quot;, &quot;tag1=tag1&amp;tag2=tag2&quot;);\r\n  outMessage.setHeader(AWS2S3Constants.METADATA, s3Metadata); // option 1: does not work\r\n  outMessage.setHeader(&quot;x-amz-tagging&quot;, s3ObjectTagsAsUrlQueryString); // option 2: does not work as well\r\n}  \r\n```","title":"Push file to S3 with added tags using Apache Camel and Java","body":"<p>I'm trying to read the message and its headers from the message broker and persist it to the AWS S3 bucket by replacing headers with tags. The object is getting persisted to S3 but the tags are not.</p>\n<p>here is the routing config:</p>\n<pre><code>from(from)\n  .routeId(id)\n  .process(new S3FileProcessor(...))\n  .to(to);\n</code></pre>\n<p>, and here is the S3FileProcessor#process method:</p>\n<pre><code>@Override\npublic void process(Exchange exchange) {\n  Map&lt;String, Object&gt; inputHeaders = exchange.getIn().getHeaders();\n  ...\n  Map&lt;String, Object&gt; s3Metadata = Map.of(&quot;x-amz-tagging&quot;, &quot;tag1=tag1&amp;tag2=tag2&quot;);\n  outMessage.setHeader(AWS2S3Constants.METADATA, s3Metadata); // option 1: does not work\n  outMessage.setHeader(&quot;x-amz-tagging&quot;, s3ObjectTagsAsUrlQueryString); // option 2: does not work as well\n}  \n</code></pre>\n"},{"tags":["java","spring-boot","ssl","pkcs#11"],"comments":[{"owner":{"account_id":2416545,"reputation":2517,"user_id":2110443,"display_name":"Frank"},"score":0,"creation_date":1601297249,"post_id":59718236,"comment_id":113354784,"body_markdown":"Have you tried using a PKCS#11 URI like &quot;pkcs11:id=%01;token=softhsm;type=cert&quot; instead of the non-existent file &#39;NONE&#39;?","body":"Have you tried using a PKCS#11 URI like &quot;pkcs11:id=%01;token=softhsm;type=cert&quot; instead of the non-existent file &#39;NONE&#39;?"}],"answers":[{"comments":[{"owner":{"account_id":3879547,"reputation":115,"user_id":3212517,"display_name":"Sorand"},"score":0,"creation_date":1578924918,"post_id":59718289,"comment_id":105587176,"body_markdown":"For a keystore of type PKCS 11, there is no keystore file itself. All keys are stored on the hardware HSM. According to the JDK 8 PKCS#11 Reference Guide documentation for type PKCS 11 (https://docs.oracle.com/javase/8/docs/technotes/guides/security/p11guide.html#Config) specifies keyStoreURL= &quot; NONE&quot;","body":"For a keystore of type PKCS 11, there is no keystore file itself. All keys are stored on the hardware HSM. According to the JDK 8 PKCS#11 Reference Guide documentation for type PKCS 11 (<a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/security/p11guide.html#Config\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/technotes/guides/security/&hellip;</a>) specifies keyStoreURL= &quot; NONE&quot;"},{"owner":{"account_id":10010688,"reputation":182,"user_id":7403630,"display_name":"JavaBoy"},"score":0,"creation_date":1578925106,"post_id":59718289,"comment_id":105587278,"body_markdown":"I dont think you should declare: server.ssl.key-store-password=password\nserver.ssl.key-store=NONE if you have no keystore.","body":"I dont think you should declare: server.ssl.key-store-password=password server.ssl.key-store=NONE if you have no keystore."},{"owner":{"account_id":3879547,"reputation":115,"user_id":3212517,"display_name":"Sorand"},"score":0,"creation_date":1578925280,"post_id":59718289,"comment_id":105587383,"body_markdown":"Without these settings an error is generated: Caused by: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Could not load key store &#39;null&#39;","body":"Without these settings an error is generated: Caused by: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Could not load key store &#39;null&#39;"}],"tags":[],"owner":{"account_id":10010688,"reputation":182,"user_id":7403630,"display_name":"JavaBoy"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578924615,"creation_date":1578924615,"answer_id":59718289,"question_id":59718236,"body_markdown":"It is trying to locate the file at: file:/C:/ProjectsGit/ssl-server/NONE  \r\n```\r\nCaused by: java.io.IOException: Failed to load keystore type [PKCS11] with path [file:/C:/ProjectsGit/ssl-server/NONE]\r\n```\r\nSo do you have any references somwhere to this location?","title":"Using PKCS11 keystore type to establish TLS connections in a web application on Spring Boot","body":"<p>It is trying to locate the file at: file:/C:/ProjectsGit/ssl-server/NONE  </p>\n\n<pre><code>Caused by: java.io.IOException: Failed to load keystore type [PKCS11] with path [file:/C:/ProjectsGit/ssl-server/NONE]\n</code></pre>\n\n<p>So do you have any references somwhere to this location?</p>\n"},{"tags":[],"owner":{"account_id":7728304,"reputation":3488,"user_id":5852281,"display_name":"cdan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677781497,"creation_date":1677781497,"answer_id":75619461,"question_id":59718236,"body_markdown":"[This issue][1] has been fixed in Spring Boot v2.2.7 and v3.0.1.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues/33433","title":"Using PKCS11 keystore type to establish TLS connections in a web application on Spring Boot","body":"<p><a href=\"https://github.com/spring-projects/spring-boot/issues/33433\" rel=\"nofollow noreferrer\">This issue</a> has been fixed in Spring Boot v2.2.7 and v3.0.1.</p>\n"},{"tags":[],"owner":{"account_id":157470,"reputation":1518,"user_id":375449,"display_name":"dmatej"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692280494,"creation_date":1692280494,"answer_id":76922201,"question_id":59718236,"body_markdown":"The path should be in quotation marks:\r\n\r\n    library = &quot;C:\\nCipher\\nfast\\toolkits\\pkcs11\\cknfast-64.dll&quot;","title":"Using PKCS11 keystore type to establish TLS connections in a web application on Spring Boot","body":"<p>The path should be in quotation marks:</p>\n<pre><code>library = &quot;C:\\nCipher\\nfast\\toolkits\\pkcs11\\cknfast-64.dll&quot;\n</code></pre>\n"}],"owner":{"account_id":3879547,"reputation":115,"user_id":3212517,"display_name":"Sorand"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1442,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1692280494,"creation_date":1578924407,"question_id":59718236,"body_markdown":"I try to set TLS connections for my web-app build with Spring Boot. My application.properties config file look like that\r\n\r\n    server.port=9999\r\n    server.ssl.key-store-password=password\r\n    server.ssl.key-store=NONE\r\n    server.ssl.trust-store=C:/newcert/truststore.keystore\r\n    server.ssl.trust-store-password=password\r\n    server.ssl.key-store-provider=SunPKCS11-Thales\r\n    server.ssl.key-store-type=PKCS11\r\n    server.ssl.key-alias=test_key_ocs2\r\n\r\nIn java.security file (%JAVA_HOME%/jre/lib/security/) contains row:\r\n\r\n    security.provider.11=sun.security.pkcs11.SunPKCS11 C:/cert/pkcs11.cfg\r\n\r\nIn pkcs11.cfg file contains:\r\n\r\n    name=Thales\r\n    library = C:\\nCipher\\nfast\\toolkits\\pkcs11\\cknfast-64.dll\r\n    slot=761406613\r\n\r\nBut after run my app I get error:\r\n\r\n    INFO 16788 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService &#39;applicationTaskExecutor&#39;\r\n    ERROR 16788 --- [           main] org.apache.tomcat.util.net.SSLUtilBase   : Failed to load keystore type [PKCS11] with path [file:/C:/ProjectsGit/ssl-server/NONE] due to [Initialization failed]\r\n    \r\n    java.security.ProviderException: Initialization failed\r\n    \tat sun.security.pkcs11.SunPKCS11.&lt;init&gt;(SunPKCS11.java:376) ~[sunpkcs11.jar:1.8.0_161]\r\n    \tat sun.security.pkcs11.SunPKCS11.&lt;init&gt;(SunPKCS11.java:103) ~[sunpkcs11.jar:1.8.0_161]\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_152]\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_152]\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_152]\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_152]\r\n    \tat sun.security.jca.ProviderConfig$2.run(ProviderConfig.java:224) ~[na:1.8.0_152]\r\n    \tat sun.security.jca.ProviderConfig$2.run(ProviderConfig.java:206) ~[na:1.8.0_152]\r\n    \tat java.security.AccessController.doPrivileged(Native Method) ~[na:1.8.0_152]\r\n    \tat sun.security.jca.ProviderConfig.doLoadProvider(ProviderConfig.java:206) ~[na:1.8.0_152]\r\n    \tat sun.security.jca.ProviderConfig.getProvider(ProviderConfig.java:187) ~[na:1.8.0_152]\r\n    \tat sun.security.jca.ProviderList.getProvider(ProviderList.java:233) ~[na:1.8.0_152]\r\n    \tat sun.security.jca.ProviderList.getIndex(ProviderList.java:263) ~[na:1.8.0_152]\r\n    \tat sun.security.jca.ProviderList.getProviderConfig(ProviderList.java:247) ~[na:1.8.0_152]\r\n    \tat sun.security.jca.ProviderList.getProvider(ProviderList.java:253) ~[na:1.8.0_152]\r\n    \tat sun.security.jca.GetInstance.getService(GetInstance.java:81) ~[na:1.8.0_152]\r\n    \tat sun.security.jca.GetInstance.getInstance(GetInstance.java:206) ~[na:1.8.0_152]\r\n    \tat java.security.Security.getImpl(Security.java:698) ~[na:1.8.0_152]\r\n    \tat java.security.KeyStore.getInstance(KeyStore.java:896) ~[na:1.8.0_152]\r\n    \tat org.apache.tomcat.util.net.SSLUtilBase.getStore(SSLUtilBase.java:187) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.apache.tomcat.util.net.SSLHostConfigCertificate.getCertificateKeystore(SSLHostConfigCertificate.java:206) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:283) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:247) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:97) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.apache.tomcat.util.net.AbstractJsseEndpoint.initialiseSsl(AbstractJsseEndpoint.java:71) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:218) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1124) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1210) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:586) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.apache.catalina.connector.Connector.startInternal(Connector.java:1005) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.apache.catalina.core.StandardService.addConnector(StandardService.java:227) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:278) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:197) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.startWebServer(ServletWebServerApplicationContext.java:297) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.finishRefresh(ServletWebServerApplicationContext.java:163) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:553) [spring-context-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n    \tat com.example.sslserver.SslServerApplication.main(SslServerApplication.java:10) [classes/:na]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_152]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_152]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_152]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_152]\r\n    \tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:147) [idea_rt.jar:na]\r\n    Caused by: sun.security.pkcs11.wrapper.PKCS11Exception: CKR_FUNCTION_FAILED\r\n    \tat sun.security.pkcs11.wrapper.PKCS11.C_Initialize(Native Method) ~[sunpkcs11.jar:1.8.0_161]\r\n    \tat sun.security.pkcs11.wrapper.PKCS11$SynchronizedPKCS11.C_Initialize(PKCS11.java:1545) ~[sunpkcs11.jar:1.8.0_161]\r\n    \tat sun.security.pkcs11.wrapper.PKCS11.getInstance(PKCS11.java:157) ~[sunpkcs11.jar:1.8.0_161]\r\n    \tat sun.security.pkcs11.SunPKCS11.&lt;init&gt;(SunPKCS11.java:330) ~[sunpkcs11.jar:1.8.0_161]\r\n    \t... 48 common frames omitted\r\n    \r\n    INFO 16788 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n    INFO 16788 --- [           main] ConditionEvaluationReportLoggingListener : \r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    ERROR 16788 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:215) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.startWebServer(ServletWebServerApplicationContext.java:297) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.finishRefresh(ServletWebServerApplicationContext.java:163) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:553) ~[spring-context-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n    \tat com.example.sslserver.SslServerApplication.main(SslServerApplication.java:10) [classes/:na]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_152]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_152]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_152]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_152]\r\n    \tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:147) [idea_rt.jar:na]\r\n    Caused by: java.lang.IllegalArgumentException: standardService.connector.startFailed\r\n    \tat org.apache.catalina.core.StandardService.addConnector(StandardService.java:231) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:278) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:197) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n    \t... 15 common frames omitted\r\n    Caused by: org.apache.catalina.LifecycleException: Protocol handler start failed\r\n    \tat org.apache.catalina.connector.Connector.startInternal(Connector.java:1008) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.apache.catalina.core.StandardService.addConnector(StandardService.java:227) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \t... 17 common frames omitted\r\n    Caused by: java.lang.IllegalArgumentException: Failed to load keystore type [PKCS11] with path [file:/C:/ProjectsGit/ssl-server/NONE] due to [Initialization failed]\r\n    \tat org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:99) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.apache.tomcat.util.net.AbstractJsseEndpoint.initialiseSsl(AbstractJsseEndpoint.java:71) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:218) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1124) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1210) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:586) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.apache.catalina.connector.Connector.startInternal(Connector.java:1005) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \t... 19 common frames omitted\r\n    Caused by: java.io.IOException: Failed to load keystore type [PKCS11] with path [file:/C:/ProjectsGit/ssl-server/NONE] due to [Initialization failed]\r\n    \tat org.apache.tomcat.util.net.SSLUtilBase.getStore(SSLUtilBase.java:229) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.apache.tomcat.util.net.SSLHostConfigCertificate.getCertificateKeystore(SSLHostConfigCertificate.java:206) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:283) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:247) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:97) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \t... 25 common frames omitted\r\n    \r\n    INFO 16788 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService &#39;applicationTaskExecutor&#39;\r\n    \r\n    Process finished with exit code 1\r\n\r\nPlease tell me what I did wrong? \r\n\r\nMaybe there is another way to establish TLS connections for service requests using PKCS11 provider (define KeyManager and TrustManager, use SSLSocketFactory, etc.) but I don&#39;t know it very well. Any examples would be very useful.\r\n \r\n\r\n","title":"Using PKCS11 keystore type to establish TLS connections in a web application on Spring Boot","body":"<p>I try to set TLS connections for my web-app build with Spring Boot. My application.properties config file look like that</p>\n\n<pre><code>server.port=9999\nserver.ssl.key-store-password=password\nserver.ssl.key-store=NONE\nserver.ssl.trust-store=C:/newcert/truststore.keystore\nserver.ssl.trust-store-password=password\nserver.ssl.key-store-provider=SunPKCS11-Thales\nserver.ssl.key-store-type=PKCS11\nserver.ssl.key-alias=test_key_ocs2\n</code></pre>\n\n<p>In java.security file (%JAVA_HOME%/jre/lib/security/) contains row:</p>\n\n<pre><code>security.provider.11=sun.security.pkcs11.SunPKCS11 C:/cert/pkcs11.cfg\n</code></pre>\n\n<p>In pkcs11.cfg file contains:</p>\n\n<pre><code>name=Thales\nlibrary = C:\\nCipher\\nfast\\toolkits\\pkcs11\\cknfast-64.dll\nslot=761406613\n</code></pre>\n\n<p>But after run my app I get error:</p>\n\n<pre><code>INFO 16788 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'\nERROR 16788 --- [           main] org.apache.tomcat.util.net.SSLUtilBase   : Failed to load keystore type [PKCS11] with path [file:/C:/ProjectsGit/ssl-server/NONE] due to [Initialization failed]\n\njava.security.ProviderException: Initialization failed\n    at sun.security.pkcs11.SunPKCS11.&lt;init&gt;(SunPKCS11.java:376) ~[sunpkcs11.jar:1.8.0_161]\n    at sun.security.pkcs11.SunPKCS11.&lt;init&gt;(SunPKCS11.java:103) ~[sunpkcs11.jar:1.8.0_161]\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_152]\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_152]\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_152]\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_152]\n    at sun.security.jca.ProviderConfig$2.run(ProviderConfig.java:224) ~[na:1.8.0_152]\n    at sun.security.jca.ProviderConfig$2.run(ProviderConfig.java:206) ~[na:1.8.0_152]\n    at java.security.AccessController.doPrivileged(Native Method) ~[na:1.8.0_152]\n    at sun.security.jca.ProviderConfig.doLoadProvider(ProviderConfig.java:206) ~[na:1.8.0_152]\n    at sun.security.jca.ProviderConfig.getProvider(ProviderConfig.java:187) ~[na:1.8.0_152]\n    at sun.security.jca.ProviderList.getProvider(ProviderList.java:233) ~[na:1.8.0_152]\n    at sun.security.jca.ProviderList.getIndex(ProviderList.java:263) ~[na:1.8.0_152]\n    at sun.security.jca.ProviderList.getProviderConfig(ProviderList.java:247) ~[na:1.8.0_152]\n    at sun.security.jca.ProviderList.getProvider(ProviderList.java:253) ~[na:1.8.0_152]\n    at sun.security.jca.GetInstance.getService(GetInstance.java:81) ~[na:1.8.0_152]\n    at sun.security.jca.GetInstance.getInstance(GetInstance.java:206) ~[na:1.8.0_152]\n    at java.security.Security.getImpl(Security.java:698) ~[na:1.8.0_152]\n    at java.security.KeyStore.getInstance(KeyStore.java:896) ~[na:1.8.0_152]\n    at org.apache.tomcat.util.net.SSLUtilBase.getStore(SSLUtilBase.java:187) [tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.tomcat.util.net.SSLHostConfigCertificate.getCertificateKeystore(SSLHostConfigCertificate.java:206) [tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:283) [tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:247) [tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:97) [tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.tomcat.util.net.AbstractJsseEndpoint.initialiseSsl(AbstractJsseEndpoint.java:71) [tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:218) [tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1124) [tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1210) [tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:586) [tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.catalina.connector.Connector.startInternal(Connector.java:1005) [tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.catalina.core.StandardService.addConnector(StandardService.java:227) [tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:278) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:197) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.startWebServer(ServletWebServerApplicationContext.java:297) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.finishRefresh(ServletWebServerApplicationContext.java:163) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:553) [spring-context-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at com.example.sslserver.SslServerApplication.main(SslServerApplication.java:10) [classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_152]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_152]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_152]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_152]\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:147) [idea_rt.jar:na]\nCaused by: sun.security.pkcs11.wrapper.PKCS11Exception: CKR_FUNCTION_FAILED\n    at sun.security.pkcs11.wrapper.PKCS11.C_Initialize(Native Method) ~[sunpkcs11.jar:1.8.0_161]\n    at sun.security.pkcs11.wrapper.PKCS11$SynchronizedPKCS11.C_Initialize(PKCS11.java:1545) ~[sunpkcs11.jar:1.8.0_161]\n    at sun.security.pkcs11.wrapper.PKCS11.getInstance(PKCS11.java:157) ~[sunpkcs11.jar:1.8.0_161]\n    at sun.security.pkcs11.SunPKCS11.&lt;init&gt;(SunPKCS11.java:330) ~[sunpkcs11.jar:1.8.0_161]\n    ... 48 common frames omitted\n\nINFO 16788 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\nINFO 16788 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\nERROR 16788 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:215) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.startWebServer(ServletWebServerApplicationContext.java:297) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.finishRefresh(ServletWebServerApplicationContext.java:163) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:553) ~[spring-context-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at com.example.sslserver.SslServerApplication.main(SslServerApplication.java:10) [classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_152]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_152]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_152]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_152]\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:147) [idea_rt.jar:na]\nCaused by: java.lang.IllegalArgumentException: standardService.connector.startFailed\n    at org.apache.catalina.core.StandardService.addConnector(StandardService.java:231) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:278) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:197) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    ... 15 common frames omitted\nCaused by: org.apache.catalina.LifecycleException: Protocol handler start failed\n    at org.apache.catalina.connector.Connector.startInternal(Connector.java:1008) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.catalina.core.StandardService.addConnector(StandardService.java:227) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    ... 17 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Failed to load keystore type [PKCS11] with path [file:/C:/ProjectsGit/ssl-server/NONE] due to [Initialization failed]\n    at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:99) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.tomcat.util.net.AbstractJsseEndpoint.initialiseSsl(AbstractJsseEndpoint.java:71) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:218) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1124) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1210) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:586) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.catalina.connector.Connector.startInternal(Connector.java:1005) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    ... 19 common frames omitted\nCaused by: java.io.IOException: Failed to load keystore type [PKCS11] with path [file:/C:/ProjectsGit/ssl-server/NONE] due to [Initialization failed]\n    at org.apache.tomcat.util.net.SSLUtilBase.getStore(SSLUtilBase.java:229) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.tomcat.util.net.SSLHostConfigCertificate.getCertificateKeystore(SSLHostConfigCertificate.java:206) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:283) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:247) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:97) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    ... 25 common frames omitted\n\nINFO 16788 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'\n\nProcess finished with exit code 1\n</code></pre>\n\n<p>Please tell me what I did wrong? </p>\n\n<p>Maybe there is another way to establish TLS connections for service requests using PKCS11 provider (define KeyManager and TrustManager, use SSLSocketFactory, etc.) but I don't know it very well. Any examples would be very useful.</p>\n"},{"tags":["java","powershell"],"comments":[{"owner":{"account_id":366852,"reputation":161795,"user_id":712649,"accept_rate":100,"display_name":"Mathias R. Jessen"},"score":2,"creation_date":1692193095,"post_id":76913893,"comment_id":135590552,"body_markdown":"What&#39;s with the `$[...]` syntax? Are you running your script through some sort of template engine to generate the correct arguments?","body":"What&#39;s with the <code>$[...]</code> syntax? Are you running your script through some sort of template engine to generate the correct arguments?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692193770,"post_id":76913893,"comment_id":135590722,"body_markdown":"Shouldn&#39;t you be quoting those parameters?","body":"Shouldn&#39;t you be quoting those parameters?"},{"owner":{"account_id":3992180,"reputation":1524,"user_id":3290745,"display_name":"Tristate"},"score":1,"creation_date":1692194057,"post_id":76913893,"comment_id":135590788,"body_markdown":"You need double quote the params. e.g. java -jar JavaApp_v2.jar &quot;$Name&quot; &quot;$Region&quot; &quot;$Device&quot; &quot;$ForHO&quot; &quot;$Ex_Pas&quot; &quot;$Ex_Pass_Nr&quot; &quot;$Monitor&quot;","body":"You need double quote the params. e.g. java -jar JavaApp_v2.jar &quot;$Name&quot; &quot;$Region&quot; &quot;$Device&quot; &quot;$ForHO&quot; &quot;$Ex_Pas&quot; &quot;$Ex_Pass_Nr&quot; &quot;$Monitor&quot;"},{"owner":{"account_id":19375,"reputation":396793,"user_id":45375,"display_name":"mklement0"},"score":0,"creation_date":1692227706,"post_id":76913893,"comment_id":135596644,"body_markdown":"@Tristate: In PowerShell - unlike in `cmd.exe` and  in POSIX-compatible shells \n such as Bash - variable references used as command arguments do NOT need double-quoting (even if they contain spaces or other shell metacharacters).","body":"@Tristate: In PowerShell - unlike in <code>cmd.exe</code> and  in POSIX-compatible shells   such as Bash - variable references used as command arguments do NOT need double-quoting (even if they contain spaces or other shell metacharacters)."},{"owner":{"account_id":19375,"reputation":396793,"user_id":45375,"display_name":"mklement0"},"score":0,"creation_date":1692278610,"post_id":76913893,"comment_id":135603625,"body_markdown":"@ajra: A variable containing the _empty string_ indeed causes a problem _on the PowerShell side_, as described below. _Special characters_ are _not_ a problem on the PowerShell side, though can be for target programs with nonstandard argument parsing, such as batch files.","body":"@ajra: A variable containing the <i>empty string</i> indeed causes a problem <i>on the PowerShell side</i>, as described below. <i>Special characters</i> are <i>not</i> a problem on the PowerShell side, though can be for target programs with nonstandard argument parsing, such as batch files."}],"answers":[{"tags":[],"owner":{"account_id":19375,"reputation":396793,"user_id":45375,"display_name":"mklement0"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692280393,"creation_date":1692226826,"answer_id":76917546,"question_id":76913893,"body_markdown":"&lt;!-- language-all: sh --&gt;\r\n\r\nNote:\r\n\r\n* The symptom is likely caused by variables containing the _empty string_ (see below), even though the sample argument values in the question never result in such, given that _no_ string interpolation is performed, because the syntax form `$[var]` isn&#39;t a valid variable reference.\r\n\r\n* You also mention _special characters_ as a problem, though that is unlikely, given that PowerShell passes them through correctly, even with variable references _not_ enclosed in `&quot;...&quot;`, the latter generally not being necessary in PowerShell (e.g., `some.exe $var` is sufficient, no need for `some.exe &quot;$var&quot;`).\r\n\r\n---\r\n\r\n&gt; but the problem is when **if one these parameter is empty, one parameter takes the value of another one**\r\n\r\nYou&#39;re likely seeing a **long-standing bug** present in ***Windows PowerShell*** and in **[_PowerShell (Core)_](https://github.com/PowerShell/PowerShell/blob/master/README.md) _up to version 7.2.x_** - it has been **fixed in v7.3+**, with **selective exceptions on Windows** - see [this answer](https://stackoverflow.com/a/74440425/45375) for details (it focuses on arguments with _embedded double-quotes_, but the issue at hand is part of the problem).\r\n\r\n * **Trying to pass an _empty string_ (`&quot;&quot;`, `&#39;&#39;`) as an argument to an _external program_ is _quietly ignored_**; that is, no argument is passed at all.\r\n\r\n * Note that, by contrast, passing `$null` is ignored _by design_.\r\n\r\n**Examples**:\r\n\r\nThe following uses `python` to simply echo the arguments it was passed.\r\n\r\n```\r\n# Pass an empty-string *literal*\r\npython -c &#39;import sys; print(sys.argv[1:])&#39; &#39;&#39; hi\r\n\r\n# Pass an empty string via a *variable*\r\n$someArg=&#39;&#39;\r\npython -c &#39;import sys; print(sys.argv[1:])&#39; $someArg hi\r\n```\r\n\r\n* The expected output is `[&#39;&#39;, &#39;hi&#39;]`\r\n* With the bug present, the output is `[&#39;hi&#39;]`, indicating that the empty string wasn&#39;t passed at all.\r\n\r\n**Workarounds**:\r\n\r\n* Passing an empty string _literally_:\r\n\r\n  * Use **`` &#39;&quot;&quot;&#39; ``** (sic) (`` `&quot;`&quot; `` works too):\r\n\r\n        # In WinPS and PS Core v7.2.x- only\r\n        # (In v7.3+, use it only with $PSNativeCommandArgumentPassing = &#39;Legacy&#39;.)\r\n        python -c &#39;import sys; print(sys.argv[1:])&#39; &#39;&quot;&quot;&#39; hi\r\n\r\n  * Alternatively, on Windows only, use `--%`, the [stop-parsing token](https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_Parsing#the-stop-parsing-token) in combination with `&quot;&quot;` (_not_ `&#39;&#39;`), but note its **many limitations**, detailed in the bottom section of [this answer](http://stackoverflow.com/a/42601912/45375), notably the inability to embed PowerShell variables and expressions:\r\n\r\n        # Windows only.\r\n        python -c &#39;import sys; print(sys.argv[1:])&#39; --% &quot;&quot; hi\r\n\r\n* Passing an empty string _via variables_ that may or may not contain the empty string:\r\n\r\n  * With an _individual_ argument:\r\n\r\n        $someArg = &#39;&#39;\r\n        python -c &#39;import sys; print(sys.argv[1:])&#39; ($someArg, &#39;&quot;&quot;&#39;)[$someArg -is [string] -and -not $someArg] hi\r\n\r\n  * With an _array_ of arguments:\r\n\r\n        $someArgs = &#39;&#39;, &#39;hi&#39;\r\n        python -c &#39;import sys; print(sys.argv[1:])&#39; $someArgs.ForEach({\r\n            ($_, &#39;&quot;&quot;&#39;)[$_ -is [string] -and -not $_]\r\n          })\r\n\r\n  * Explanation of the `($someArg, &#39;&quot;&quot;&#39;)[$someArg -is [string] -and -not $someArg]` technique:\r\n\r\n    * It is the concise equivalent of:\r\n\r\n          if ($someArg -is [string] -and -not $someArg) { &#39;&quot;&quot;&#39; } else { $someArg }\r\n\r\n     * In [_PowerShell (Core) 7+_](https://github.com/PowerShell/PowerShell/blob/master/README.md), you can also use the [ternary conditional operator](https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_Operators#ternary-operator--if-true--if-false)\r\n\r\n           ($someArg -is [string] -and -not $someArg ? &#39;&quot;&quot;&#39; : $someArg)\r\n\r\n    * It emulates a conditional using an _array_ to represent the return values, and relies on a _Boolean_ value getting implicitly converted to an _integer_ in the context of an index expression (`[...]`), with `$false` becoming `0`, and `$true` becoming `1`, so that the appropriate array element is returned.&lt;sup&gt;[1]&lt;/sup&gt;\r\n\r\n    * If you know `$someArg` to _always be a string_, you can simplify to one of the following:\r\n\r\n          ($someArg, &#39;&quot;&quot;&#39;)[-not $someArg]\r\n          # PS v7+ only\r\n          (-not $someArg ? &#39;&quot;&quot;&#39; : $someArg)\r\n\r\n    * All variants rely on PowerShell&#39;s implicit to-Boolean conversions, which treat an _empty string_ as `$false`, and any nonempty one as `$true`. The complete rules are summarized in the bottom section of [this answer](https://stackoverflow.com/a/53108138/45375).\r\n\r\n---\r\n\r\n**Module-based polyfill**:\r\n\r\nIf you **need to write cross-edition, cross-version PowerShell code**, the **[`Native` module](https://github.com/mklement0/Native)** (`Install-Module Native`; authored by me), has an **`ie`** function (short for: Invoke Executable), which is a polyfill that **provides workaround-free, cross-edition (v3+), cross-platform, cross-version, forward-compatible behavior in the _vast majority_ of cases**, both for passing _empty-string_ arguments and arguments _with embedded `&quot;` chars. correctly_ - simply prepend `ie ` to your external-program calls:\r\n\r\n```\r\n# With the &#39;Native&#39; module installed, simply prepending `ie` \r\n# to your external-program calls ensures that both empty-string\r\n# arguments and arguments with embedded &quot; chars. are passed correctly.\r\nie python -c &#39;import sys; print(sys.argv[1:])&#39; &#39;&#39; hi\r\n```\r\n\r\n---\r\n\r\n&lt;sup&gt;[1] Small caveat: unlike true conditionals, this shortcut performs no _short-circuiting_; that is, _both_ array elements are evaluated up front, before the appropriate element is selected by the index expression.&lt;/sup&gt;","title":"pass parameters from PowerShell to a jar file","body":"\n<p>Note:</p>\n<ul>\n<li><p>The symptom is likely caused by variables containing the <em>empty string</em> (see below), even though the sample argument values in the question never result in such, given that <em>no</em> string interpolation is performed, because the syntax form <code>$[var]</code> isn't a valid variable reference.</p>\n</li>\n<li><p>You also mention <em>special characters</em> as a problem, though that is unlikely, given that PowerShell passes them through correctly, even with variable references <em>not</em> enclosed in <code>&quot;...&quot;</code>, the latter generally not being necessary in PowerShell (e.g., <code>some.exe $var</code> is sufficient, no need for <code>some.exe &quot;$var&quot;</code>).</p>\n</li>\n</ul>\n<hr />\n<blockquote>\n<p>but the problem is when <strong>if one these parameter is empty, one parameter takes the value of another one</strong></p>\n</blockquote>\n<p>You're likely seeing a <strong>long-standing bug</strong> present in <em><strong>Windows PowerShell</strong></em> and in <strong><a href=\"https://github.com/PowerShell/PowerShell/blob/master/README.md\" rel=\"nofollow noreferrer\"><em>PowerShell (Core)</em></a> <em>up to version 7.2.x</em></strong> - it has been <strong>fixed in v7.3+</strong>, with <strong>selective exceptions on Windows</strong> - see <a href=\"https://stackoverflow.com/a/74440425/45375\">this answer</a> for details (it focuses on arguments with <em>embedded double-quotes</em>, but the issue at hand is part of the problem).</p>\n<ul>\n<li><p><strong>Trying to pass an <em>empty string</em> (<code>&quot;&quot;</code>, <code>''</code>) as an argument to an <em>external program</em> is <em>quietly ignored</em></strong>; that is, no argument is passed at all.</p>\n</li>\n<li><p>Note that, by contrast, passing <code>$null</code> is ignored <em>by design</em>.</p>\n</li>\n</ul>\n<p><strong>Examples</strong>:</p>\n<p>The following uses <code>python</code> to simply echo the arguments it was passed.</p>\n<pre class=\"lang-bash prettyprint-override\"><code># Pass an empty-string *literal*\npython -c 'import sys; print(sys.argv[1:])' '' hi\n\n# Pass an empty string via a *variable*\n$someArg=''\npython -c 'import sys; print(sys.argv[1:])' $someArg hi\n</code></pre>\n<ul>\n<li>The expected output is <code>['', 'hi']</code></li>\n<li>With the bug present, the output is <code>['hi']</code>, indicating that the empty string wasn't passed at all.</li>\n</ul>\n<p><strong>Workarounds</strong>:</p>\n<ul>\n<li><p>Passing an empty string <em>literally</em>:</p>\n<ul>\n<li><p>Use <strong><code>'&quot;&quot;'</code></strong> (sic) (<code>`&quot;`&quot;</code> works too):</p>\n<pre class=\"lang-bash prettyprint-override\"><code># In WinPS and PS Core v7.2.x- only\n# (In v7.3+, use it only with $PSNativeCommandArgumentPassing = 'Legacy'.)\npython -c 'import sys; print(sys.argv[1:])' '&quot;&quot;' hi\n</code></pre>\n</li>\n<li><p>Alternatively, on Windows only, use <code>--%</code>, the <a href=\"https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_Parsing#the-stop-parsing-token\" rel=\"nofollow noreferrer\">stop-parsing token</a> in combination with <code>&quot;&quot;</code> (<em>not</em> <code>''</code>), but note its <strong>many limitations</strong>, detailed in the bottom section of <a href=\"http://stackoverflow.com/a/42601912/45375\">this answer</a>, notably the inability to embed PowerShell variables and expressions:</p>\n<pre class=\"lang-bash prettyprint-override\"><code># Windows only.\npython -c 'import sys; print(sys.argv[1:])' --% &quot;&quot; hi\n</code></pre>\n</li>\n</ul>\n</li>\n<li><p>Passing an empty string <em>via variables</em> that may or may not contain the empty string:</p>\n<ul>\n<li><p>With an <em>individual</em> argument:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$someArg = ''\npython -c 'import sys; print(sys.argv[1:])' ($someArg, '&quot;&quot;')[$someArg -is [string] -and -not $someArg] hi\n</code></pre>\n</li>\n<li><p>With an <em>array</em> of arguments:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$someArgs = '', 'hi'\npython -c 'import sys; print(sys.argv[1:])' $someArgs.ForEach({\n    ($_, '&quot;&quot;')[$_ -is [string] -and -not $_]\n  })\n</code></pre>\n</li>\n<li><p>Explanation of the <code>($someArg, '&quot;&quot;')[$someArg -is [string] -and -not $someArg]</code> technique:</p>\n<ul>\n<li><p>It is the concise equivalent of:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>if ($someArg -is [string] -and -not $someArg) { '&quot;&quot;' } else { $someArg }\n</code></pre>\n</li>\n<li><p>In <a href=\"https://github.com/PowerShell/PowerShell/blob/master/README.md\" rel=\"nofollow noreferrer\"><em>PowerShell (Core) 7+</em></a>, you can also use the <a href=\"https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_Operators#ternary-operator--if-true--if-false\" rel=\"nofollow noreferrer\">ternary conditional operator</a></p>\n<pre class=\"lang-bash prettyprint-override\"><code> ($someArg -is [string] -and -not $someArg ? '&quot;&quot;' : $someArg)\n</code></pre>\n</li>\n<li><p>It emulates a conditional using an <em>array</em> to represent the return values, and relies on a <em>Boolean</em> value getting implicitly converted to an <em>integer</em> in the context of an index expression (<code>[...]</code>), with <code>$false</code> becoming <code>0</code>, and <code>$true</code> becoming <code>1</code>, so that the appropriate array element is returned.<sup>[1]</sup></p>\n</li>\n<li><p>If you know <code>$someArg</code> to <em>always be a string</em>, you can simplify to one of the following:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>($someArg, '&quot;&quot;')[-not $someArg]\n# PS v7+ only\n(-not $someArg ? '&quot;&quot;' : $someArg)\n</code></pre>\n</li>\n<li><p>All variants rely on PowerShell's implicit to-Boolean conversions, which treat an <em>empty string</em> as <code>$false</code>, and any nonempty one as <code>$true</code>. The complete rules are summarized in the bottom section of <a href=\"https://stackoverflow.com/a/53108138/45375\">this answer</a>.</p>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<hr />\n<p><strong>Module-based polyfill</strong>:</p>\n<p>If you <strong>need to write cross-edition, cross-version PowerShell code</strong>, the <strong><a href=\"https://github.com/mklement0/Native\" rel=\"nofollow noreferrer\"><code>Native</code> module</a></strong> (<code>Install-Module Native</code>; authored by me), has an <strong><code>ie</code></strong> function (short for: Invoke Executable), which is a polyfill that <strong>provides workaround-free, cross-edition (v3+), cross-platform, cross-version, forward-compatible behavior in the <em>vast majority</em> of cases</strong>, both for passing <em>empty-string</em> arguments and arguments <em>with embedded <code>&quot;</code> chars. correctly</em> - simply prepend <code>ie </code> to your external-program calls:</p>\n<pre class=\"lang-bash prettyprint-override\"><code># With the 'Native' module installed, simply prepending `ie` \n# to your external-program calls ensures that both empty-string\n# arguments and arguments with embedded &quot; chars. are passed correctly.\nie python -c 'import sys; print(sys.argv[1:])' '' hi\n</code></pre>\n<hr />\n<p><sup>[1] Small caveat: unlike true conditionals, this shortcut performs no <em>short-circuiting</em>; that is, <em>both</em> array elements are evaluated up front, before the appropriate element is selected by the index expression.</sup></p>\n"}],"owner":{"account_id":1242792,"reputation":31,"user_id":1204977,"display_name":"ajra"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692280393,"creation_date":1692191334,"question_id":76913893,"body_markdown":"When I pass parameters to a JAR, the Java application generates a  PDF file which contains the values of the parameters passed, but  the  problem is when one these parameters is empty, one parameter takes the value of another one.\r\n\r\nExample:\r\n```none\r\nd:\r\ncd D:\\JavaApp\\ITEquipmentPassV2\r\n$Name=@&quot;\r\n$[Name]\r\n&quot;@\r\n$Region=@&quot;\r\n$[Region]\r\n&quot;@\r\n$Device=@&quot;\r\n$[Device]\r\n&quot;@\r\n$ForHO=@&quot;\r\n$[ForHO]\r\n&quot;@\r\n$Ex_Pas=@&quot;\r\n$[Ex_Pa]\r\n&quot;@\r\n$Ex_Pass_Nr=@&quot;\r\n$[Ex_Pass_Nr]\r\n&quot;@\r\n$Monitor=@&quot;\r\n$[Monitorl]\r\n&quot;@\r\njava -jar JavaApp_v2.jar $Name $Region $Device $ForHO $Ex_Pas $Ex_Pass_Nr $Monitor\r\n```\r\nIf `$Ex_Pas` is empty or contains a special character then `$forHo` takes the value of `$Monitor`.\r\n","title":"pass parameters from PowerShell to a jar file","body":"<p>When I pass parameters to a JAR, the Java application generates a  PDF file which contains the values of the parameters passed, but  the  problem is when one these parameters is empty, one parameter takes the value of another one.</p>\n<p>Example:</p>\n<pre class=\"lang-none prettyprint-override\"><code>d:\ncd D:\\JavaApp\\ITEquipmentPassV2\n$Name=@&quot;\n$[Name]\n&quot;@\n$Region=@&quot;\n$[Region]\n&quot;@\n$Device=@&quot;\n$[Device]\n&quot;@\n$ForHO=@&quot;\n$[ForHO]\n&quot;@\n$Ex_Pas=@&quot;\n$[Ex_Pa]\n&quot;@\n$Ex_Pass_Nr=@&quot;\n$[Ex_Pass_Nr]\n&quot;@\n$Monitor=@&quot;\n$[Monitorl]\n&quot;@\njava -jar JavaApp_v2.jar $Name $Region $Device $ForHO $Ex_Pas $Ex_Pass_Nr $Monitor\n</code></pre>\n<p>If <code>$Ex_Pas</code> is empty or contains a special character then <code>$forHo</code> takes the value of <code>$Monitor</code>.</p>\n"},{"tags":["java","spring-boot","unit-testing","testing","apache-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1692275948,"post_id":76919337,"comment_id":135602957,"body_markdown":"There&#39;s a whole section of the docs on testing. https://docs.spring.io/spring-kafka/reference/html/#reference","body":"There&#39;s a whole section of the docs on testing. <a href=\"https://docs.spring.io/spring-kafka/reference/html/#reference\" rel=\"nofollow noreferrer\">docs.spring.io/spring-kafka/reference/html/#reference</a>"}],"answers":[{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1692275863,"post_id":76921108,"comment_id":135602938,"body_markdown":"spring-kafka also supports unit tests","body":"spring-kafka also supports unit tests"},{"owner":{"account_id":7291906,"reputation":503,"user_id":7789681,"display_name":"Alexey Bril"},"score":0,"creation_date":1692279586,"post_id":76921108,"comment_id":135603864,"body_markdown":"@OneCricketeer ok, then show the code where you write a pure unit test, without using SpringBootTest?\nYes, there is spring-kafka-test, but how does this contradict what I wrote? This library will raise kafka in memory and make it possible to interact with it, but this is not unit testing, but integration. And this does not change the approach that I described.","body":"@OneCricketeer ok, then show the code where you write a pure unit test, without using SpringBootTest? Yes, there is spring-kafka-test, but how does this contradict what I wrote? This library will raise kafka in memory and make it possible to interact with it, but this is not unit testing, but integration. And this does not change the approach that I described."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1692365630,"post_id":76921108,"comment_id":135617067,"body_markdown":"Kafka comes with [MockConsumer and MockProducer](https://docs.spring.io/spring-kafka/reference/html/#mock-cons-prod) already. Don&#39;t need external libraries like Mockito. Similarly, TopologyTestDriver for Kafka Steams doesn&#39;t use a broker","body":"Kafka comes with <a href=\"https://docs.spring.io/spring-kafka/reference/html/#mock-cons-prod\" rel=\"nofollow noreferrer\">MockConsumer and MockProducer</a> already. Don&#39;t need external libraries like Mockito. Similarly, TopologyTestDriver for Kafka Steams doesn&#39;t use a broker"}],"tags":[],"owner":{"account_id":7291906,"reputation":503,"user_id":7789681,"display_name":"Alexey Bril"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692280132,"creation_date":1692271957,"answer_id":76921108,"question_id":76919337,"body_markdown":"What you are trying to do is not unit testing. \r\n\r\nUnit tests are when you mock your entire environment and call the method you are testing directly:\r\n\r\n    @InjectMocks\r\n    Listener listener;\r\n\r\n    @Mock\r\n    Handler handler;\r\n\r\n    @Test\r\n    void givenSomething() {\r\n        var id = UUID.randomUUID();\r\n        listener.listen(id);\r\n        verify(handler).handle(id);\r\n    }\r\n\r\n\r\nIf you want to test the listener with a real kafka broker, these are integration tests and you need to prepare a test environment for this.\r\n\r\nTo do this, you can use a testcontainers or a separate docker-compose file that will run before your tests so that the real environment does not mix with the test one.\r\n\r\n[testcontainers][1]\r\n\r\n[docker-compose][2]\r\n\r\n\r\nAdditionally, there is also a spring-kafka-test library that allows you to write integration tests with kafka that resides in the application&#39;s memory.\r\n\r\nhttps://mvnrepository.com/artifact/org.springframework.kafka/spring-kafka-test\r\n\r\n```yaml\r\nspring:\r\n  kafka:\r\n    consumer:\r\n      auto-offset-reset: earliest\r\n      group-id: groupName\r\ntest:\r\n  topic: test-topic\r\n```\r\n\r\n```java\r\n@SpringBootTest\r\n@DirtiesContext\r\n@EmbeddedKafka(partitions = 1, brokerProperties = { &quot;listeners=PLAINTEXT://localhost:9092&quot;, &quot;port=9092&quot; })\r\nclass EmbeddedKafkaIntegrationTest {\r\n\r\n    @Autowired\r\n    private KafkaConsumer consumer;\r\n\r\n    @Autowired\r\n    private KafkaProducer producer;\r\n\r\n    @Value(&quot;${test.topic}&quot;)\r\n    private String topic;\r\n\r\n    @Test\r\n    public void givenEmbeddedKafkaBroker_whenSendingWithSimpleProducer_thenMessageReceived() \r\n      throws Exception {\r\n        String data = &quot;Sending with our own simple KafkaProducer&quot;;\r\n        \r\n        producer.send(topic, data);\r\n        \r\n        boolean messageConsumed = consumer.getLatch().await(10, TimeUnit.SECONDS);\r\n        assertTrue(messageConsumed);\r\n        assertThat(consumer.getPayload(), containsString(data));\r\n    }\r\n}\r\n\r\n```\r\n\r\nYou can see more details here: [https://www.baeldung.com/spring-boot-kafka-testing][3]\r\n\r\n\r\n  [1]: https://testcontainers.com/\r\n  [2]: https://docs.docker.com/compose/\r\n  [3]: https://www.baeldung.com/spring-boot-kafka-testing","title":"KafkaListner Unit Tests","body":"<p>What you are trying to do is not unit testing.</p>\n<p>Unit tests are when you mock your entire environment and call the method you are testing directly:</p>\n<pre><code>@InjectMocks\nListener listener;\n\n@Mock\nHandler handler;\n\n@Test\nvoid givenSomething() {\n    var id = UUID.randomUUID();\n    listener.listen(id);\n    verify(handler).handle(id);\n}\n</code></pre>\n<p>If you want to test the listener with a real kafka broker, these are integration tests and you need to prepare a test environment for this.</p>\n<p>To do this, you can use a testcontainers or a separate docker-compose file that will run before your tests so that the real environment does not mix with the test one.</p>\n<p><a href=\"https://testcontainers.com/\" rel=\"nofollow noreferrer\">testcontainers</a></p>\n<p><a href=\"https://docs.docker.com/compose/\" rel=\"nofollow noreferrer\">docker-compose</a></p>\n<p>Additionally, there is also a spring-kafka-test library that allows you to write integration tests with kafka that resides in the application's memory.</p>\n<p><a href=\"https://mvnrepository.com/artifact/org.springframework.kafka/spring-kafka-test\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.springframework.kafka/spring-kafka-test</a></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  kafka:\n    consumer:\n      auto-offset-reset: earliest\n      group-id: groupName\ntest:\n  topic: test-topic\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\n@DirtiesContext\n@EmbeddedKafka(partitions = 1, brokerProperties = { &quot;listeners=PLAINTEXT://localhost:9092&quot;, &quot;port=9092&quot; })\nclass EmbeddedKafkaIntegrationTest {\n\n    @Autowired\n    private KafkaConsumer consumer;\n\n    @Autowired\n    private KafkaProducer producer;\n\n    @Value(&quot;${test.topic}&quot;)\n    private String topic;\n\n    @Test\n    public void givenEmbeddedKafkaBroker_whenSendingWithSimpleProducer_thenMessageReceived() \n      throws Exception {\n        String data = &quot;Sending with our own simple KafkaProducer&quot;;\n        \n        producer.send(topic, data);\n        \n        boolean messageConsumed = consumer.getLatch().await(10, TimeUnit.SECONDS);\n        assertTrue(messageConsumed);\n        assertThat(consumer.getPayload(), containsString(data));\n    }\n}\n\n</code></pre>\n<p>You can see more details here: <a href=\"https://www.baeldung.com/spring-boot-kafka-testing\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-kafka-testing</a></p>\n"}],"owner":{"account_id":18045956,"reputation":41,"user_id":13116949,"display_name":"Kstackr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1692280132,"creation_date":1692257543,"question_id":76919337,"body_markdown":"I have the following method to consume data from a Kafka topic. \r\n\r\n\r\n```\r\n    @KafkaListener(\r\n            groupId = &quot;&lt;group-id&gt;&quot;,\r\n            topics = &quot;&lt;topic&gt;&quot;,\r\n            concurrency = &quot;&lt;concurrency&gt;&quot;,\r\n    )\r\n    public void listen(\r\n            Acknowledgment ack,\r\n            @Payload final ConsumerRecord&lt;String, GenericRecord&gt; consumerRecord,\r\n            @Header(KafkaHeaders.RECEIVED_PARTITION) int partition,\r\n            @Header(KafkaHeaders.OFFSET) String offset,\r\n            @Header(name = KafkaHeaders.RECEIVED_KEY, required = false) String key,\r\n            @Header(KafkaHeaders.RECEIVED_TOPIC) String topic\r\n    ) throws IOException {\r\n\r\n\t\t// Consumes the data with consumerRecord and doing the rest of the stuff\r\n\r\n        ack.acknowledge();\r\n    }\r\n```\r\nI need to write a unit test for this. What I am trying to do is publish some data to a test topic and test if it is consumed by this listener. How can I do it?\r\n\r\nTrying to find a solution on this.","title":"KafkaListner Unit Tests","body":"<p>I have the following method to consume data from a Kafka topic.</p>\n<pre><code>    @KafkaListener(\n            groupId = &quot;&lt;group-id&gt;&quot;,\n            topics = &quot;&lt;topic&gt;&quot;,\n            concurrency = &quot;&lt;concurrency&gt;&quot;,\n    )\n    public void listen(\n            Acknowledgment ack,\n            @Payload final ConsumerRecord&lt;String, GenericRecord&gt; consumerRecord,\n            @Header(KafkaHeaders.RECEIVED_PARTITION) int partition,\n            @Header(KafkaHeaders.OFFSET) String offset,\n            @Header(name = KafkaHeaders.RECEIVED_KEY, required = false) String key,\n            @Header(KafkaHeaders.RECEIVED_TOPIC) String topic\n    ) throws IOException {\n\n        // Consumes the data with consumerRecord and doing the rest of the stuff\n\n        ack.acknowledge();\n    }\n</code></pre>\n<p>I need to write a unit test for this. What I am trying to do is publish some data to a test topic and test if it is consumed by this listener. How can I do it?</p>\n<p>Trying to find a solution on this.</p>\n"},{"tags":["java","hibernate","quarkus","reactive","quarkus-panache"],"comments":[{"owner":{"account_id":7614789,"reputation":175,"user_id":5774614,"display_name":"Amine ABBAOUI"},"score":0,"creation_date":1692280355,"post_id":76922135,"comment_id":135604051,"body_markdown":"Where is your SessionFactory bean configuration ?","body":"Where is your SessionFactory bean configuration ?"},{"owner":{"account_id":23166977,"reputation":61,"user_id":17266758,"display_name":"Plus Ultra"},"score":0,"creation_date":1692280564,"post_id":76922135,"comment_id":135604104,"body_markdown":"I don&#39;t have that defined, I&#39;m new to the framework with limited knowledge of how it works..Kindly assist thanks","body":"I don&#39;t have that defined, I&#39;m new to the framework with limited knowledge of how it works..Kindly assist thanks"},{"owner":{"account_id":7614789,"reputation":175,"user_id":5774614,"display_name":"Amine ABBAOUI"},"score":0,"creation_date":1692280877,"post_id":76922135,"comment_id":135604174,"body_markdown":"you should have an configuration (xml or java based) to define the beans, do you have any xml or java configuration ?","body":"you should have an configuration (xml or java based) to define the beans, do you have any xml or java configuration ?"},{"owner":{"account_id":23166977,"reputation":61,"user_id":17266758,"display_name":"Plus Ultra"},"score":0,"creation_date":1692281188,"post_id":76922135,"comment_id":135604265,"body_markdown":"No I don&#39;t have any configuration, can you share a link to any resource with such configuration so that I can see how it works?","body":"No I don&#39;t have any configuration, can you share a link to any resource with such configuration so that I can see how it works?"},{"owner":{"account_id":7614789,"reputation":175,"user_id":5774614,"display_name":"Amine ABBAOUI"},"score":0,"creation_date":1692281364,"post_id":76922135,"comment_id":135604300,"body_markdown":"you can check this link : https://www.javatpoint.com/hibernate-configuration","body":"you can check this link : <a href=\"https://www.javatpoint.com/hibernate-configuration\" rel=\"nofollow noreferrer\">javatpoint.com/hibernate-configuration</a>"},{"owner":{"account_id":23166977,"reputation":61,"user_id":17266758,"display_name":"Plus Ultra"},"score":0,"creation_date":1692282228,"post_id":76922135,"comment_id":135604503,"body_markdown":"I used the properties file configuration and it didn&#39;t work. I think it&#39;s important to note that it is Hibernate reactive, not sure if it makes use of JDBC. However I have some hibernate configurations on my application.properties file\n\n# Hibernate Reactive configuration\nquarkus.hibernate-orm.log.sql=true\nquarkus.hibernate-orm.datasource=default-reactive","body":"I used the properties file configuration and it didn&#39;t work. I think it&#39;s important to note that it is Hibernate reactive, not sure if it makes use of JDBC. However I have some hibernate configurations on my application.properties file  # Hibernate Reactive configuration quarkus.hibernate-orm.log.sql=true quarkus.hibernate-orm.datasource=default-reactive"},{"owner":{"account_id":7614789,"reputation":175,"user_id":5774614,"display_name":"Amine ABBAOUI"},"score":0,"creation_date":1692282551,"post_id":76922135,"comment_id":135604604,"body_markdown":"Hibernate Reactive configuration might be similar to traditional Hibernate configuration, the error that you get indicate that there is no SessionFactory bean, so you need to add it, and this bean need configuration that can be different for Hibernate reactive by adding some additional properties, you can check also this link : https://thorben-janssen.com/hibernate-reactive-getting-started-guide/","body":"Hibernate Reactive configuration might be similar to traditional Hibernate configuration, the error that you get indicate that there is no SessionFactory bean, so you need to add it, and this bean need configuration that can be different for Hibernate reactive by adding some additional properties, you can check also this link : <a href=\"https://thorben-janssen.com/hibernate-reactive-getting-started-guide/\" rel=\"nofollow noreferrer\">thorben-janssen.com/hibernate-reactive-getting-started-guide</a>"}],"owner":{"account_id":23166977,"reputation":61,"user_id":17266758,"display_name":"Plus Ultra"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692280021,"creation_date":1692280021,"question_id":76922135,"body_markdown":"I&#39;m Trying to create a CRUD implementation using hibernate reactive with Panache when I run the add method I get the error\r\n\r\n&gt; java.lang.IllegalStateException: Mutiny.SessionFactory bean not found.\r\n\r\nBellow is my code:\r\n\r\nDtoItem\r\n\r\n```\r\n@Entity\r\n@AllArgsConstructor\r\n@RequiredArgsConstructor\r\npublic class DtoItem {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    public Long id;\r\n    public String name;\r\n    public String description;\r\n}\r\n```\r\nDaoItem:\r\n\r\n```\r\n@ApplicationScoped\r\npublic class DaoItem implements PanacheRepository&lt;DtoItem&gt; {\r\n\r\n}\r\n```\r\n\r\nDalItem:\r\n\r\n```\r\n@ApplicationScoped\r\npublic class DalItem {\r\n\r\n    @Inject\r\n    DaoItem daoItem;\r\n\r\n    public Uni&lt;DtoItem&gt; save(DtoItem item) {\r\n        return daoItem.persist(item);\r\n    }\r\n\r\n    public Uni&lt;DtoItem&gt; find(Long id) {\r\n        return daoItem.findById(id);\r\n    }\r\n\r\n    public Uni&lt;List&lt;DtoItem&gt;&gt; findAll(){\r\n        return daoItem.listAll();\r\n    }\r\n}\r\n```\r\n\r\nItemResource:\r\n\r\n```\r\n@RouteBase(path = &quot;/v1/items&quot;, produces = ReactiveRoutes.APPLICATION_JSON, consumes = ReactiveRoutes.APPLICATION_JSON)\r\npublic class ItemResource {\r\n\r\n    @Inject\r\n    private DalItem dalItem;\r\n\r\n\r\n    @Route(path = &quot;/:id&quot;, methods = Route.HttpMethod.GET)\r\n    public Uni&lt;JsonObject&gt; getSingleItem(RoutingExchange routingExchange) {\r\n        String id = routingExchange.getParam(&quot;id&quot;).orElse(&quot;0&quot;);\r\n        return dalItem.find(Long.parseLong(id))\r\n                .flatMap(item -&gt; Uni.createFrom().item(JsonObject.mapFrom(item)));\r\n    }\r\n\r\n    @WithTransaction\r\n    @Route(methods = Route.HttpMethod.POST)\r\n    public Uni&lt;JsonObject&gt; add(@Body DtoItem item) {\r\n        return dalItem.save(item).flatMap(itm -&gt; Uni.createFrom().item(JsonObject.mapFrom(itm)));\r\n    }\r\n}\r\n```\r\n\r\nwhat am I missing?","title":"java.lang.IllegalStateException: Mutiny.SessionFactory bean not found. Hibernate Reactive with Panache","body":"<p>I'm Trying to create a CRUD implementation using hibernate reactive with Panache when I run the add method I get the error</p>\n<blockquote>\n<p>java.lang.IllegalStateException: Mutiny.SessionFactory bean not found.</p>\n</blockquote>\n<p>Bellow is my code:</p>\n<p>DtoItem</p>\n<pre><code>@Entity\n@AllArgsConstructor\n@RequiredArgsConstructor\npublic class DtoItem {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    public Long id;\n    public String name;\n    public String description;\n}\n</code></pre>\n<p>DaoItem:</p>\n<pre><code>@ApplicationScoped\npublic class DaoItem implements PanacheRepository&lt;DtoItem&gt; {\n\n}\n</code></pre>\n<p>DalItem:</p>\n<pre><code>@ApplicationScoped\npublic class DalItem {\n\n    @Inject\n    DaoItem daoItem;\n\n    public Uni&lt;DtoItem&gt; save(DtoItem item) {\n        return daoItem.persist(item);\n    }\n\n    public Uni&lt;DtoItem&gt; find(Long id) {\n        return daoItem.findById(id);\n    }\n\n    public Uni&lt;List&lt;DtoItem&gt;&gt; findAll(){\n        return daoItem.listAll();\n    }\n}\n</code></pre>\n<p>ItemResource:</p>\n<pre><code>@RouteBase(path = &quot;/v1/items&quot;, produces = ReactiveRoutes.APPLICATION_JSON, consumes = ReactiveRoutes.APPLICATION_JSON)\npublic class ItemResource {\n\n    @Inject\n    private DalItem dalItem;\n\n\n    @Route(path = &quot;/:id&quot;, methods = Route.HttpMethod.GET)\n    public Uni&lt;JsonObject&gt; getSingleItem(RoutingExchange routingExchange) {\n        String id = routingExchange.getParam(&quot;id&quot;).orElse(&quot;0&quot;);\n        return dalItem.find(Long.parseLong(id))\n                .flatMap(item -&gt; Uni.createFrom().item(JsonObject.mapFrom(item)));\n    }\n\n    @WithTransaction\n    @Route(methods = Route.HttpMethod.POST)\n    public Uni&lt;JsonObject&gt; add(@Body DtoItem item) {\n        return dalItem.save(item).flatMap(itm -&gt; Uni.createFrom().item(JsonObject.mapFrom(itm)));\n    }\n}\n</code></pre>\n<p>what am I missing?</p>\n"},{"tags":["java","spring-boot","spring-boot-test","openfeign"],"answers":[{"tags":[],"owner":{"account_id":6502278,"reputation":1449,"user_id":5032575,"display_name":"Ahmed Sayed"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1624018017,"creation_date":1584867606,"answer_id":60797480,"question_id":58539366,"body_markdown":"I know this is an old question, but maybe this answer will be helpful to someone\r\n\r\n\r\n----------\r\n\r\n\r\nAs a workaround, what we can do, is let the host resolving up to Spring Ribbon. You would then configure the host dynamically right before your test starts.\r\n\r\nFirst, add the maven dependency if you don&#39;t have it yet\r\n```xml\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-cloud-starter-netflix-ribbon&lt;/artifactId&gt;\r\n   &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\nThen configure your test to run with an &#39;empty&#39; configuration url for the host, which is the `myservice.url` property here\r\n```\r\n@SpringBootTest(webEnvironment = RANDOM_PORT, classes = MyApplication.class)\r\n@RunWith(SpringRunner.class)\r\n@EnableFeignClients(clients = MyServiceClient.class)\r\n@TestPropertySource(properties = &quot;myservice.url=&quot;) // this makes sure we do the server lookup with ribbon\r\npublic class MyTest {\r\n   ...\r\n}\r\n```\r\nThen, in a `@Before` method, all we need to do is provide the service url to ribbon, we can do that with a simple `System.setProperty()`\r\n```java\r\npublic class MyTest {\r\n\r\n    @LocalServerPort\r\n    private int port;\r\n\r\n    @Before\r\n    public void setup() {\r\n        System.setProperty(&quot;MyServiceClient.ribbon.listOfServers&quot;, &quot;http://localhost:&quot; + port);\r\n        ...\r\n    }\r\n```","title":"Spring Boot OpenFeign random port test","body":"<p>I know this is an old question, but maybe this answer will be helpful to someone</p>\n<hr />\n<p>As a workaround, what we can do, is let the host resolving up to Spring Ribbon. You would then configure the host dynamically right before your test starts.</p>\n<p>First, add the maven dependency if you don't have it yet</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-cloud-starter-netflix-ribbon&lt;/artifactId&gt;\n   &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then configure your test to run with an 'empty' configuration url for the host, which is the <code>myservice.url</code> property here</p>\n<pre><code>@SpringBootTest(webEnvironment = RANDOM_PORT, classes = MyApplication.class)\n@RunWith(SpringRunner.class)\n@EnableFeignClients(clients = MyServiceClient.class)\n@TestPropertySource(properties = &quot;myservice.url=&quot;) // this makes sure we do the server lookup with ribbon\npublic class MyTest {\n   ...\n}\n</code></pre>\n<p>Then, in a <code>@Before</code> method, all we need to do is provide the service url to ribbon, we can do that with a simple <code>System.setProperty()</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyTest {\n\n    @LocalServerPort\n    private int port;\n\n    @Before\n    public void setup() {\n        System.setProperty(&quot;MyServiceClient.ribbon.listOfServers&quot;, &quot;http://localhost:&quot; + port);\n        ...\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692279671,"creation_date":1692279671,"answer_id":76922083,"question_id":58539366,"body_markdown":"Another simpler way is to spy the method that is used to resolve the service &#39;s IP. By default, it will call `CompositeDiscoveryClient#getInstances()` to do that . Together with `@LocalServerPort` to access the web container port , you can do something like :\r\n\r\n``` java\r\n@SpringBootTest(webEnvironment = RANDOM_PORT)\r\npublic class FooTest {\r\n\r\n\r\n    @SpyBean\r\n    private CompositeDiscoveryClient compositeDiscoveryClient;\r\n\r\n    @LocalServerPort\r\n    private int serverPort;\r\n\r\n\r\n    @Test\r\n    void test(){\r\n        //call stubResolveMyService() before you invoke any FeignClient &#39;s method\r\n    }\r\n\r\n\r\n    private void stubResolveMyService(){\r\n        DefaultServiceInstance instance = new DefaultServiceInstance(&quot;some-instance&quot; , &quot;myService&quot;, &quot;127.0.0.1&quot;,serverPort,false);\r\n        when(compositeDiscoveryClient.getInstances(&quot;myService&quot;)).thenReturn(List.of(instance));\r\n    }\r\n\r\n}\r\n\r\n```\r\nIt resolves the IP of the service which the service id `myService` to `127.0.0.1:XXXXX` where `XXXXX` is the random port of the running web container.","title":"Spring Boot OpenFeign random port test","body":"<p>Another simpler way is to spy the method that is used to resolve the service 's IP. By default, it will call <code>CompositeDiscoveryClient#getInstances()</code> to do that . Together with <code>@LocalServerPort</code> to access the web container port , you can do something like :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(webEnvironment = RANDOM_PORT)\npublic class FooTest {\n\n\n    @SpyBean\n    private CompositeDiscoveryClient compositeDiscoveryClient;\n\n    @LocalServerPort\n    private int serverPort;\n\n\n    @Test\n    void test(){\n        //call stubResolveMyService() before you invoke any FeignClient 's method\n    }\n\n\n    private void stubResolveMyService(){\n        DefaultServiceInstance instance = new DefaultServiceInstance(&quot;some-instance&quot; , &quot;myService&quot;, &quot;127.0.0.1&quot;,serverPort,false);\n        when(compositeDiscoveryClient.getInstances(&quot;myService&quot;)).thenReturn(List.of(instance));\n    }\n\n}\n\n</code></pre>\n<p>It resolves the IP of the service which the service id <code>myService</code> to <code>127.0.0.1:XXXXX</code> where <code>XXXXX</code> is the random port of the running web container.</p>\n"}],"owner":{"account_id":9714590,"reputation":119,"user_id":7205417,"display_name":"Lukasz G."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1471,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1692279671,"creation_date":1571912944,"question_id":58539366,"body_markdown":"I have an OpenFeign client set up like this:\r\n\r\n```\r\n@FeignClient(name = &quot;myService&quot;, qualifier = &quot;myServiceClient&quot;, url = &quot;${myservice.url}&quot;)\r\npublic interface MyServiceClient {\r\n...\r\n}\r\n```\r\n\r\nand a Spring Boot test set up like this:\r\n\r\n```\r\n@SpringBootTest(webEnvironment = RANDOM_PORT, classes = MyApplication.class)\r\n@RunWith(SpringRunner.class)\r\n@EnableFeignClients(clients = MyServiceClient .class)\r\npublic class ReservationSteps {\r\n...\r\n}\r\n```\r\n\r\nThe test is supposed to spin up the application and send a request to it using the Feign client.\r\n\r\nThe problem is the RANDOM_PORT value.\r\n\r\nHow do I declare the &quot;myservice.url&quot; property in the properties file so it includes the correct port?\r\n\r\nI have tried this:\r\n```\r\nmyservice.url=localhost:${local.server.port}\r\n```\r\n\r\nbut it results in &quot;localhost:0&quot;.\r\n\r\nI don&#39;t want to use a constant value for the port.\r\n\r\nPlease help. Thanks!","title":"Spring Boot OpenFeign random port test","body":"<p>I have an OpenFeign client set up like this:</p>\n\n<pre><code>@FeignClient(name = \"myService\", qualifier = \"myServiceClient\", url = \"${myservice.url}\")\npublic interface MyServiceClient {\n...\n}\n</code></pre>\n\n<p>and a Spring Boot test set up like this:</p>\n\n<pre><code>@SpringBootTest(webEnvironment = RANDOM_PORT, classes = MyApplication.class)\n@RunWith(SpringRunner.class)\n@EnableFeignClients(clients = MyServiceClient .class)\npublic class ReservationSteps {\n...\n}\n</code></pre>\n\n<p>The test is supposed to spin up the application and send a request to it using the Feign client.</p>\n\n<p>The problem is the RANDOM_PORT value.</p>\n\n<p>How do I declare the \"myservice.url\" property in the properties file so it includes the correct port?</p>\n\n<p>I have tried this:</p>\n\n<pre><code>myservice.url=localhost:${local.server.port}\n</code></pre>\n\n<p>but it results in \"localhost:0\".</p>\n\n<p>I don't want to use a constant value for the port.</p>\n\n<p>Please help. Thanks!</p>\n"},{"tags":["java","keystore"],"comments":[{"owner":{"account_id":388441,"reputation":2525,"user_id":747392,"accept_rate":86,"display_name":"Shamis Shukoor"},"score":0,"creation_date":1353995918,"post_id":13578134,"comment_id":18607669,"body_markdown":"why dont you read these informations from a property file ?","body":"why dont you read these informations from a property file ?"},{"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"score":0,"creation_date":1353996412,"post_id":13578134,"comment_id":18607798,"body_markdown":"There are more command line options - read http://docs.oracle.com/javase/7/docs/technotes/tools/windows/keytool.html (including distinguished name)","body":"There are more command line options - read <a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/windows/keytool.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/technotes/tools/windows/&hellip;</a> (including distinguished name)"},{"owner":{"account_id":891679,"reputation":2286,"user_id":929796,"accept_rate":95,"display_name":"Trevor North"},"score":7,"creation_date":1422817154,"post_id":13578134,"comment_id":44889415,"body_markdown":"Just because the example used a local address, doesnt mean this issue is localised.  I am un UK and just had the same question.  Fortunately, because some answered the question before it was closed, it just saved me a load of time trying to work out the answer.","body":"Just because the example used a local address, doesnt mean this issue is localised.  I am un UK and just had the same question.  Fortunately, because some answered the question before it was closed, it just saved me a load of time trying to work out the answer."},{"owner":{"account_id":1611562,"reputation":11552,"user_id":1490322,"accept_rate":71,"display_name":"Jose Martinez"},"score":7,"creation_date":1425309712,"post_id":13578134,"comment_id":45898413,"body_markdown":"This question was very useful and the answer helped out.  Don&#39;t understand why it was closed.","body":"This question was very useful and the answer helped out.  Don&#39;t understand why it was closed."},{"owner":{"account_id":2256668,"reputation":590,"user_id":1987724,"accept_rate":63,"display_name":"Fam"},"score":2,"creation_date":1439581382,"post_id":13578134,"comment_id":51937559,"body_markdown":"Yet another example of trigger happy SO moderators ready to jump the gun at a moment&#39;s notice on closing actual, relevant, and useful questions so they can exercise the small amount of power they have to make themselves feel important. This was the first result when I searched this question on Google and it helped me solve my issue, unbelievable that it was closed simply because it referenced the asker&#39;s locale in the question.","body":"Yet another example of trigger happy SO moderators ready to jump the gun at a moment&#39;s notice on closing actual, relevant, and useful questions so they can exercise the small amount of power they have to make themselves feel important. This was the first result when I searched this question on Google and it helped me solve my issue, unbelievable that it was closed simply because it referenced the asker&#39;s locale in the question."}],"answers":[{"comments":[{"owner":{"account_id":1481803,"reputation":2933,"user_id":1391012,"display_name":"fredericrous"},"score":1,"creation_date":1430301016,"post_id":13578344,"comment_id":48001105,"body_markdown":"-dname keyword is needed too","body":"-dname keyword is needed too"}],"tags":[],"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"comment_count":1,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1450172328,"creation_date":1353996641,"answer_id":13578344,"question_id":13578134,"body_markdown":"See the [full documentation about command line ][1]  or by typing `keytool` without any arguments.\r\n\r\nSpecifically you may want to look options `-storepass password -keypass password` \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/technotes/tools/windows/keytool.html","title":"How to automate Keystore generation using the java keystore tool? w/o user interaction","body":"<p>See the <a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/windows/keytool.html\" rel=\"nofollow\">full documentation about command line </a>  or by typing <code>keytool</code> without any arguments.</p>\n\n<p>Specifically you may want to look options <code>-storepass password -keypass password</code> </p>\n"},{"comments":[{"owner":{"account_id":89838,"reputation":37282,"user_id":247623,"accept_rate":72,"display_name":"Erik Kaplun"},"score":1,"creation_date":1413201445,"post_id":13578480,"comment_id":41341103,"body_markdown":"is there a way to specify source keystore password when importing a .p12 keystore into a .jks?","body":"is there a way to specify source keystore password when importing a .p12 keystore into a .jks?"},{"owner":{"account_id":191626,"reputation":2746,"user_id":432306,"display_name":"Guillaume Boudreau"},"score":3,"creation_date":1456157131,"post_id":13578480,"comment_id":58804745,"body_markdown":"@ErikAllik `keytool -importkeystore [...] -srcstorepass password_here`","body":"@ErikAllik <code>keytool -importkeystore [...] -srcstorepass password_here</code>"},{"owner":{"account_id":1971679,"reputation":3447,"user_id":1770430,"accept_rate":74,"display_name":"Nzall"},"score":0,"creation_date":1692278718,"post_id":13578480,"comment_id":135603656,"body_markdown":"Don&#39;t forget the -keyalg flag or this script will fail.","body":"Don&#39;t forget the -keyalg flag or this script will fail."}],"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"comment_count":3,"down_vote_count":0,"up_vote_count":196,"is_accepted":true,"score":196,"last_activity_date":1692278760,"creation_date":1353997352,"answer_id":13578480,"question_id":13578134,"body_markdown":"Try this:\r\n\r\n    keytool -genkey -noprompt \\\r\n     -alias alias1 \\\r\n     -dname &quot;CN=mqttserver.ibm.com, OU=ID, O=IBM, L=Hursley, S=Hants, C=GB&quot; \\\r\n     -keystore keystore \\\r\n     -storepass password \\\r\n     -keypass password \\\r\n     -keyalg RSA","title":"How to automate Keystore generation using the java keystore tool? w/o user interaction","body":"<p>Try this:</p>\n<pre><code>keytool -genkey -noprompt \\\n -alias alias1 \\\n -dname &quot;CN=mqttserver.ibm.com, OU=ID, O=IBM, L=Hursley, S=Hants, C=GB&quot; \\\n -keystore keystore \\\n -storepass password \\\n -keypass password \\\n -keyalg RSA\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4396854,"reputation":1866,"user_id":3583589,"display_name":"benez"},"score":2,"creation_date":1518053735,"post_id":39217303,"comment_id":84350642,"body_markdown":"if someone else had the same problem that there was a prompt even with this option: there are some commands that have -srckeypass and -srcstorepass. you may easily mix them","body":"if someone else had the same problem that there was a prompt even with this option: there are some commands that have -srckeypass and -srcstorepass. you may easily mix them"}],"tags":[],"owner":{"account_id":7198483,"reputation":721,"user_id":5496419,"display_name":"star"},"comment_count":1,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1472518493,"creation_date":1472518493,"answer_id":39217303,"question_id":13578134,"body_markdown":"don&#39;t forget -noprompt, otherwise you will be asked to input Yes or No\r\n","title":"How to automate Keystore generation using the java keystore tool? w/o user interaction","body":"<p>don't forget -noprompt, otherwise you will be asked to input Yes or No</p>\n"}],"owner":{"account_id":2061440,"reputation":2775,"user_id":1837873,"display_name":"r3ap3r"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47652,"favorite_count":0,"down_vote_count":1,"up_vote_count":113,"accepted_answer_id":13578480,"answer_count":3,"score":112,"last_activity_date":1692278760,"creation_date":1353995505,"question_id":13578134,"body_markdown":"I am trying to automate keystore generation using the Java keystore tool. The command I am using is :\r\n\r\n    keytool -keystore keystore -alias jetty -genkey -keyalg RSA\r\n\r\nBut after this command, user is required to enter certain inputs as follows:\r\n\r\n    Enter keystore password:  password\r\n    What is your first and last name?  \r\n    [Unknown]:  jetty.mortbay.org  \r\n    What is the name of your organizational unit?  \r\n    [Unknown]:  Jetty  \r\n    What is the name of your organization?  \r\n    [Unknown]:  Mort Bay Consulting Pty. Ltd.  \r\n    What is the name of your City or Locality?  \r\n    [Unknown]:  \r\n    What is the name of your State or Province?  \r\n    [Unknown]:  \r\n    What is the two-letter country code for this unit?  \r\n    [Unknown]:  \r\n    Is CN=jetty.mortbay.org, OU=Jetty, O=Mort Bay Consulting Pty. Ltd.,  \r\n    L=Unknown, ST=Unknown, C=Unknown correct?  \r\n    [no]:  yes  \r\n\r\n    Enter key password for &lt;jetty&gt;  \r\n    (RETURN if same as keystore password):  password  \r\n\r\nInstead of the user entering these values , is there any way of providing these values without user interaction ,either within the command or through a script?\r\n\r\nThanks\r\n","title":"How to automate Keystore generation using the java keystore tool? w/o user interaction","body":"<p>I am trying to automate keystore generation using the Java keystore tool. The command I am using is :</p>\n\n<pre><code>keytool -keystore keystore -alias jetty -genkey -keyalg RSA\n</code></pre>\n\n<p>But after this command, user is required to enter certain inputs as follows:</p>\n\n<pre><code>Enter keystore password:  password\nWhat is your first and last name?  \n[Unknown]:  jetty.mortbay.org  \nWhat is the name of your organizational unit?  \n[Unknown]:  Jetty  \nWhat is the name of your organization?  \n[Unknown]:  Mort Bay Consulting Pty. Ltd.  \nWhat is the name of your City or Locality?  \n[Unknown]:  \nWhat is the name of your State or Province?  \n[Unknown]:  \nWhat is the two-letter country code for this unit?  \n[Unknown]:  \nIs CN=jetty.mortbay.org, OU=Jetty, O=Mort Bay Consulting Pty. Ltd.,  \nL=Unknown, ST=Unknown, C=Unknown correct?  \n[no]:  yes  \n\nEnter key password for &lt;jetty&gt;  \n(RETURN if same as keystore password):  password  \n</code></pre>\n\n<p>Instead of the user entering these values , is there any way of providing these values without user interaction ,either within the command or through a script?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","android","fast-android-networking"],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692278170,"creation_date":1692278170,"answer_id":76921894,"question_id":76921456,"body_markdown":"That&#39;s not an *error*--it&#39;s a *warning* that appears if your RecyclerView doesn&#39;t have an adapter set on it yet by the time it is drawn. In your case that&#39;s because you only create and attach the adapter after your data is available from the network. It&#39;s not really a problem, but it might be considered cleaner to create and attach your adapter with empty data in your `init()` method, and update the adapter&#39;s data in your networking callback.","title":"Error says. No adapter attached; skipping layout","body":"<p>That's not an <em>error</em>--it's a <em>warning</em> that appears if your RecyclerView doesn't have an adapter set on it yet by the time it is drawn. In your case that's because you only create and attach the adapter after your data is available from the network. It's not really a problem, but it might be considered cleaner to create and attach your adapter with empty data in your <code>init()</code> method, and update the adapter's data in your networking callback.</p>\n"}],"owner":{"account_id":18713254,"reputation":1,"user_id":13642897,"display_name":"said hamisi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1692278170,"creation_date":1692274666,"question_id":76921456,"body_markdown":"I am trying to fetch data from database to my recyclerview but error keeps on showing no adapter attached. Below is my code for recyclerview.\r\n\r\nXML code with my recycler view\r\n```\r\n&lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/recycler_comments&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_marginTop=&quot;?attr/actionBarSize&quot;\r\n        android:layout_marginBottom=&quot;?attr/actionBarSize&quot;/&gt;\r\n```\r\n\r\nMy Adapter class is below\r\n\r\n```\r\npublic class CommentAdapter extends RecyclerView.Adapter&lt;CommentAdapter.CommentsHolder&gt;{\r\n    private Context context;\r\n    private ArrayList&lt;Comment&gt; list;\r\n\r\n    public CommentAdapter(Context context, ArrayList&lt;Comment&gt; list) {\r\n        this.context = context;\r\n        this.list = list;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public CommentsHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.layout_comment, parent, false);\r\n        return new CommentsHolder(v);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull CommentsHolder holder, int position) {\r\n        Comment comment = list.get(position);\r\n        Picasso.get().load(comment.getUser().getProfile_image_url()).into(holder.circleImageProfileComment);\r\n        holder.nameComment.setText(comment.getUser().getName());\r\n        holder.dateComment.setText(comment.getDate());\r\n        holder.comment.setText(comment.getComment());\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return list.size();\r\n    }\r\n\r\n    class CommentsHolder extends RecyclerView.ViewHolder{\r\n\r\n        private CircleImageView circleImageProfileComment;\r\n        private TextView nameComment, dateComment, comment;\r\n        private ImageButton imgBtnComment;\r\n\r\n        public CommentsHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            circleImageProfileComment = itemView.findViewById(R.id.imgCommentProfile);\r\n            nameComment = itemView.findViewById(R.id.commentName);\r\n            dateComment = itemView.findViewById(R.id.commentDate);\r\n            comment = itemView.findViewById(R.id.txtAllComments);\r\n            imgBtnComment = itemView.findViewById(R.id.btnCommentOption);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nMy activity class where i want to display the data code is below\r\n\r\n```\r\npublic class CommentActivity extends AppCompatActivity {\r\n\r\n    private RecyclerView recyclerViewC;\r\n    private ArrayList&lt;Comment&gt; list;\r\n    private CommentAdapter adapter;\r\n    private SharedPreferences sharedPreferences;\r\n    private int postId = 0;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_comment);\r\n\r\n        init();\r\n\r\n    }\r\n\r\n    private void init() {\r\n        sharedPreferences = getApplication().getSharedPreferences(&quot;user&quot;, Context.MODE_PRIVATE);\r\n\r\n        recyclerViewC = findViewById(R.id.recycler_comments);\r\n        recyclerViewC.setHasFixedSize(true);\r\n        recyclerViewC.setLayoutManager(new LinearLayoutManager(this));\r\n        postId = getIntent().getIntExtra(&quot;postId&quot;, 0);\r\n\r\n        getComments();\r\n    }\r\n\r\n    private void getComments() {\r\n        list = new ArrayList&lt;&gt;();\r\n\r\n        String token = sharedPreferences.getString(&quot;token&quot;, &quot;&quot;);\r\n\r\n        AndroidNetworking.post(Constant.COMMENTS)\r\n                .addHeaders(&quot;Authorization&quot;, &quot;Bearer &quot;+token)\r\n                .addBodyParameter(&quot;postId&quot;, postId+&quot;&quot;)\r\n                .setPriority(Priority.MEDIUM)\r\n                .build()\r\n                .getAsString(new StringRequestListener() {\r\n                    @Override\r\n                    public void onResponse(String response) {\r\n                        try {\r\n                            JSONObject object = new JSONObject(response);\r\n                            if (object.getBoolean(&quot;success&quot;)) {\r\n                                JSONArray comments = new JSONArray(object.getString(&quot;comments&quot;));\r\n                                for (int i = 0; i &lt; comments.length(); i++) {\r\n                                    JSONObject comment = comments.getJSONObject(i);\r\n                                    JSONObject user = comment.getJSONObject(&quot;user&quot;);\r\n\r\n                                    User mUser = new User();\r\n                                    mUser.setId(user.getInt(&quot;id&quot;));\r\n                                    mUser.setProfile_image_url(user.getString(&quot;profile_image_url&quot;));\r\n                                    mUser.setName(user.getString(&quot;name&quot;));\r\n\r\n                                    Comment mComment = new Comment();\r\n                                    mComment.setId(comment.getInt(&quot;id&quot;));\r\n                                    mComment.setUser(mUser);\r\n\r\n                                    String dateTime = comment.getString(&quot;created_at&quot;);\r\n                                    mComment.setDate(dateTime.substring(0,10)+&quot;&quot;+dateTime.substring(11,16));\r\n\r\n                                    mComment.setComment(comment.getString(&quot;comment&quot;));\r\n                                    list.add(mComment);\r\n                                }\r\n                            }\r\n                            adapter = new CommentAdapter(getApplicationContext(), list);\r\n                            recyclerViewC.setAdapter(adapter);\r\n                        } catch (JSONException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n\r\n                    @Override\r\n                    public void onError(ANError anError) {\r\n\r\n                    }\r\n                });\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI tried to check the adapter class if it was there of which is true. It took alot of hours to debug and changing the code without success","title":"Error says. No adapter attached; skipping layout","body":"<p>I am trying to fetch data from database to my recyclerview but error keeps on showing no adapter attached. Below is my code for recyclerview.</p>\n<p>XML code with my recycler view</p>\n<pre><code>&lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/recycler_comments&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_marginTop=&quot;?attr/actionBarSize&quot;\n        android:layout_marginBottom=&quot;?attr/actionBarSize&quot;/&gt;\n</code></pre>\n<p>My Adapter class is below</p>\n<pre><code>public class CommentAdapter extends RecyclerView.Adapter&lt;CommentAdapter.CommentsHolder&gt;{\n    private Context context;\n    private ArrayList&lt;Comment&gt; list;\n\n    public CommentAdapter(Context context, ArrayList&lt;Comment&gt; list) {\n        this.context = context;\n        this.list = list;\n    }\n\n    @NonNull\n    @Override\n    public CommentsHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.layout_comment, parent, false);\n        return new CommentsHolder(v);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull CommentsHolder holder, int position) {\n        Comment comment = list.get(position);\n        Picasso.get().load(comment.getUser().getProfile_image_url()).into(holder.circleImageProfileComment);\n        holder.nameComment.setText(comment.getUser().getName());\n        holder.dateComment.setText(comment.getDate());\n        holder.comment.setText(comment.getComment());\n    }\n\n    @Override\n    public int getItemCount() {\n        return list.size();\n    }\n\n    class CommentsHolder extends RecyclerView.ViewHolder{\n\n        private CircleImageView circleImageProfileComment;\n        private TextView nameComment, dateComment, comment;\n        private ImageButton imgBtnComment;\n\n        public CommentsHolder(@NonNull View itemView) {\n            super(itemView);\n\n            circleImageProfileComment = itemView.findViewById(R.id.imgCommentProfile);\n            nameComment = itemView.findViewById(R.id.commentName);\n            dateComment = itemView.findViewById(R.id.commentDate);\n            comment = itemView.findViewById(R.id.txtAllComments);\n            imgBtnComment = itemView.findViewById(R.id.btnCommentOption);\n        }\n    }\n}\n\n</code></pre>\n<p>My activity class where i want to display the data code is below</p>\n<pre><code>public class CommentActivity extends AppCompatActivity {\n\n    private RecyclerView recyclerViewC;\n    private ArrayList&lt;Comment&gt; list;\n    private CommentAdapter adapter;\n    private SharedPreferences sharedPreferences;\n    private int postId = 0;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_comment);\n\n        init();\n\n    }\n\n    private void init() {\n        sharedPreferences = getApplication().getSharedPreferences(&quot;user&quot;, Context.MODE_PRIVATE);\n\n        recyclerViewC = findViewById(R.id.recycler_comments);\n        recyclerViewC.setHasFixedSize(true);\n        recyclerViewC.setLayoutManager(new LinearLayoutManager(this));\n        postId = getIntent().getIntExtra(&quot;postId&quot;, 0);\n\n        getComments();\n    }\n\n    private void getComments() {\n        list = new ArrayList&lt;&gt;();\n\n        String token = sharedPreferences.getString(&quot;token&quot;, &quot;&quot;);\n\n        AndroidNetworking.post(Constant.COMMENTS)\n                .addHeaders(&quot;Authorization&quot;, &quot;Bearer &quot;+token)\n                .addBodyParameter(&quot;postId&quot;, postId+&quot;&quot;)\n                .setPriority(Priority.MEDIUM)\n                .build()\n                .getAsString(new StringRequestListener() {\n                    @Override\n                    public void onResponse(String response) {\n                        try {\n                            JSONObject object = new JSONObject(response);\n                            if (object.getBoolean(&quot;success&quot;)) {\n                                JSONArray comments = new JSONArray(object.getString(&quot;comments&quot;));\n                                for (int i = 0; i &lt; comments.length(); i++) {\n                                    JSONObject comment = comments.getJSONObject(i);\n                                    JSONObject user = comment.getJSONObject(&quot;user&quot;);\n\n                                    User mUser = new User();\n                                    mUser.setId(user.getInt(&quot;id&quot;));\n                                    mUser.setProfile_image_url(user.getString(&quot;profile_image_url&quot;));\n                                    mUser.setName(user.getString(&quot;name&quot;));\n\n                                    Comment mComment = new Comment();\n                                    mComment.setId(comment.getInt(&quot;id&quot;));\n                                    mComment.setUser(mUser);\n\n                                    String dateTime = comment.getString(&quot;created_at&quot;);\n                                    mComment.setDate(dateTime.substring(0,10)+&quot;&quot;+dateTime.substring(11,16));\n\n                                    mComment.setComment(comment.getString(&quot;comment&quot;));\n                                    list.add(mComment);\n                                }\n                            }\n                            adapter = new CommentAdapter(getApplicationContext(), list);\n                            recyclerViewC.setAdapter(adapter);\n                        } catch (JSONException e) {\n                            e.printStackTrace();\n                        }\n                    }\n\n                    @Override\n                    public void onError(ANError anError) {\n\n                    }\n                });\n    }\n}\n</code></pre>\n<p>I tried to check the adapter class if it was there of which is true. It took alot of hours to debug and changing the code without success</p>\n"},{"tags":["java","oracle","jdbc","callable-statement"],"comments":[{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":0,"creation_date":1692282553,"post_id":76921889,"comment_id":135604606,"body_markdown":"Should be a SCHEMA-level object (CREATE TYPE ... AS OBJECT), not any PL/SQL data type (RECORD, etc.)","body":"Should be a SCHEMA-level object (CREATE TYPE ... AS OBJECT), not any PL/SQL data type (RECORD, etc.)"},{"owner":{"account_id":26978029,"reputation":6997,"user_id":20542862,"display_name":"Paul W"},"score":0,"creation_date":1692283451,"post_id":76921889,"comment_id":135604799,"body_markdown":"Package-defined types should work just fine in PL/SQL like this. Just ensure you have exec privs on the package. To actually populate it, you need to use the type name as a constructor: ` p_my_rec := schema2.my_package.my_rec_type(:field1,:field2,:field3);`","body":"Package-defined types should work just fine in PL/SQL like this. Just ensure you have exec privs on the package. To actually populate it, you need to use the type name as a constructor: ` p_my_rec := schema2.my_package.my_rec_type(:field1,:field2,:field3);`"},{"owner":{"account_id":26978029,"reputation":6997,"user_id":20542862,"display_name":"Paul W"},"score":0,"creation_date":1692283740,"post_id":76921889,"comment_id":135604886,"body_markdown":"As for the %ROWTYPE parameters, I think you have the right idea: structure using a wrapping PL/SQL block which assigns the elements of the record individually, just like you&#39;re doing. %ROWTYPE is really intended for intra-PL/SQL easy of typing and internal passing of records, not interaction with clients outside the database.","body":"As for the %ROWTYPE parameters, I think you have the right idea: structure using a wrapping PL/SQL block which assigns the elements of the record individually, just like you&#39;re doing. %ROWTYPE is really intended for intra-PL/SQL easy of typing and internal passing of records, not interaction with clients outside the database."},{"owner":{"account_id":26978029,"reputation":6997,"user_id":20542862,"display_name":"Paul W"},"score":0,"creation_date":1692283963,"post_id":76921889,"comment_id":135604943,"body_markdown":"If you need to destructure for OUT, then simply refer to the elements by name: `:field1 := p_my_rec.field1;  :field2 := p_my_rec.field2`, and the same for the ROWTYPE records.","body":"If you need to destructure for OUT, then simply refer to the elements by name: <code>:field1 := p_my_rec.field1;  :field2 := p_my_rec.field2</code>, and the same for the ROWTYPE records."}],"owner":{"account_id":29243988,"reputation":1,"user_id":22404825,"display_name":"JavaUser1923912"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692278144,"creation_date":1692278144,"question_id":76921889,"body_markdown":"PROCEDURE has 2 OUT parameters, that CallableStatement wants registered.\r\nOne is of RECORD TYPE, this is the OUT value that actually interests me.\r\n\r\n```\r\ncreate PACKAGE         my_package IS\r\n\r\n  TYPE my_rec_type IS RECORD\r\n  ( field1                                 VARCHAR2(40 CHAR)  DEFAULT &#39;0&#39;\r\n  , field2                                 VARCHAR2(240 CHAR)\r\n  , field3                                 VARCHAR2(1 CHAR)  DEFAULT &#39;1&#39;\r\n    );\r\nEND my_package;\r\n```\r\nThe other one is of %ROWTYPE.\r\n\r\nThe procedure itself looks like this:\r\n\r\n```\r\nPROCEDURE myProcedure(p_my_tbl1_rec          IN     schema2.my_table1%ROWTYPE\r\n                    , p_my_tbl2_rec          IN     schema2.my_table2%ROWTYPE\r\n               \r\n                    , p_to_my_table1_rec     OUT    schema2.my_table1%ROWTYPE\r\n                    , p_my_rec               OUT    schema2.my_package.my_rec_type)\r\n  BEGIN \r\n      ...\r\n  END myProcedure;\r\n```\r\n\r\n\r\n\r\n\r\nIs used a workaround to map my Java objects to %ROWTYPE inputs that the Oracle procedure can use.\r\n\r\n```\r\nConnection con = dataSource.getConnection();\r\n\r\n        String sql = &quot;&quot;&quot;\r\n                declare p_my_tbl1_rec      schema2.my_table1%ROWTYPE; \r\n                        p_my_tbl2_rec      schema2.my_table2%ROWTYPE;\r\n                        \r\n                        p_to_my_table1_rec schema2.my_table1%ROWTYPE;\r\n                        p_my_rec           schema2.my_package.my_rec_type;\r\n                        \r\n                begin \r\n                    p_my_tbl1_rec.TABLE_FIELD1                  :=  :table1TableField1;\r\n                    p_my_tbl1_rec.TABLE_FIELD2                  :=  :table1TableField2;\r\n                    ...\r\n                    p_my_tbl2_rec.TABLE_FIELD1                  :=  :table2TableField1; \r\n                    p_my_tbl2_rec.TABLE_FIELD2                  :=  :table2TableField2;\r\n                    ...\r\n                    \r\n                    p_to_my_table1_rec                       :=  ???\r\n                    p_my_rec                                 :=  ???\r\n                    \r\n                    myProcedure( p_my_tbl1_rec         =&gt; p_my_tbl1_rec\r\n                               , p_my_tbl2_rec         =&gt; p_my_tbl2_rec\r\n                        \r\n                               , p_to_my_table1_rec    =&gt; p_to_my_table1_rec\r\n                               , p_my_rec              =&gt; p_my_rec);\r\n                end;\r\n                &quot;&quot;&quot;;\r\n        CallableStatement cs = con.prepareCall(sql);\r\n        // This is how I can map a Java object to %ROWTYPE TYPE\r\n        cs.setLong  (&quot;table1TableField1&quot;, myObject1.getTable1TableField1());\r\n        cs.setString(&quot;table1TableField2&quot;, myObject1.getTable1TableField2());\r\n        ...\r\n        cs.setLong  (&quot;table2TableField1&quot;, myObject2.getTable2TableField1());\r\n        cs.setString(&quot;table2TableField2&quot;, myObject2.getTable2TableField2());\r\n        ...\r\n\r\n        cs.registerOutParameter(&quot;p_to_my_table1_rec&quot;, ???);\r\n        cs.registerOutParameter(&quot;p_my_rec&quot;, ???);\r\n        cs.execute();\r\n```\r\n\r\n**Expectation:**\r\nI call the procedure, I can verify the database, that the procedure has indeed been called. Ideally I can map p_my_rec to a Java object, for future use.\r\n\r\n**Reality:**\r\ni have tried different things. STRUCT seems to be the thing I am loking for, but I do not know how to define it correctly. Sometimes, when I tried calling \r\n```cs.registerOutParameter(&quot;schema2.my_package.my_rec_type&quot;, STRUCT);```\r\nit did not find schema2.my_package.my_rec_type. Could it be, because it is in a PACKAGE?\r\nIf you can help me I would be very grateful. Also, if you can provide me an alternative way to call procedures with %ROWTYPE parameter values, that would also help a lot.\r\n","title":"How to call a PL/SQL procedure with %ROWTYPE and RECORD as OUT parameters in Java?","body":"<p>PROCEDURE has 2 OUT parameters, that CallableStatement wants registered.\nOne is of RECORD TYPE, this is the OUT value that actually interests me.</p>\n<pre><code>create PACKAGE         my_package IS\n\n  TYPE my_rec_type IS RECORD\n  ( field1                                 VARCHAR2(40 CHAR)  DEFAULT '0'\n  , field2                                 VARCHAR2(240 CHAR)\n  , field3                                 VARCHAR2(1 CHAR)  DEFAULT '1'\n    );\nEND my_package;\n</code></pre>\n<p>The other one is of %ROWTYPE.</p>\n<p>The procedure itself looks like this:</p>\n<pre><code>PROCEDURE myProcedure(p_my_tbl1_rec          IN     schema2.my_table1%ROWTYPE\n                    , p_my_tbl2_rec          IN     schema2.my_table2%ROWTYPE\n               \n                    , p_to_my_table1_rec     OUT    schema2.my_table1%ROWTYPE\n                    , p_my_rec               OUT    schema2.my_package.my_rec_type)\n  BEGIN \n      ...\n  END myProcedure;\n</code></pre>\n<p>Is used a workaround to map my Java objects to %ROWTYPE inputs that the Oracle procedure can use.</p>\n<pre><code>Connection con = dataSource.getConnection();\n\n        String sql = &quot;&quot;&quot;\n                declare p_my_tbl1_rec      schema2.my_table1%ROWTYPE; \n                        p_my_tbl2_rec      schema2.my_table2%ROWTYPE;\n                        \n                        p_to_my_table1_rec schema2.my_table1%ROWTYPE;\n                        p_my_rec           schema2.my_package.my_rec_type;\n                        \n                begin \n                    p_my_tbl1_rec.TABLE_FIELD1                  :=  :table1TableField1;\n                    p_my_tbl1_rec.TABLE_FIELD2                  :=  :table1TableField2;\n                    ...\n                    p_my_tbl2_rec.TABLE_FIELD1                  :=  :table2TableField1; \n                    p_my_tbl2_rec.TABLE_FIELD2                  :=  :table2TableField2;\n                    ...\n                    \n                    p_to_my_table1_rec                       :=  ???\n                    p_my_rec                                 :=  ???\n                    \n                    myProcedure( p_my_tbl1_rec         =&gt; p_my_tbl1_rec\n                               , p_my_tbl2_rec         =&gt; p_my_tbl2_rec\n                        \n                               , p_to_my_table1_rec    =&gt; p_to_my_table1_rec\n                               , p_my_rec              =&gt; p_my_rec);\n                end;\n                &quot;&quot;&quot;;\n        CallableStatement cs = con.prepareCall(sql);\n        // This is how I can map a Java object to %ROWTYPE TYPE\n        cs.setLong  (&quot;table1TableField1&quot;, myObject1.getTable1TableField1());\n        cs.setString(&quot;table1TableField2&quot;, myObject1.getTable1TableField2());\n        ...\n        cs.setLong  (&quot;table2TableField1&quot;, myObject2.getTable2TableField1());\n        cs.setString(&quot;table2TableField2&quot;, myObject2.getTable2TableField2());\n        ...\n\n        cs.registerOutParameter(&quot;p_to_my_table1_rec&quot;, ???);\n        cs.registerOutParameter(&quot;p_my_rec&quot;, ???);\n        cs.execute();\n</code></pre>\n<p><strong>Expectation:</strong>\nI call the procedure, I can verify the database, that the procedure has indeed been called. Ideally I can map p_my_rec to a Java object, for future use.</p>\n<p><strong>Reality:</strong>\ni have tried different things. STRUCT seems to be the thing I am loking for, but I do not know how to define it correctly. Sometimes, when I tried calling\n<code>cs.registerOutParameter(&quot;schema2.my_package.my_rec_type&quot;, STRUCT);</code>\nit did not find schema2.my_package.my_rec_type. Could it be, because it is in a PACKAGE?\nIf you can help me I would be very grateful. Also, if you can provide me an alternative way to call procedures with %ROWTYPE parameter values, that would also help a lot.</p>\n"},{"tags":["java","apache-spark"],"answers":[{"tags":[],"owner":{"account_id":1017255,"reputation":1526,"user_id":1028537,"display_name":"Chris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692278013,"creation_date":1692278013,"answer_id":76921872,"question_id":76920612,"body_markdown":"You probably shouldn&#39;t use monotonically_increasing_id for an actual id generation, the next time you run that query you&#39;ll get the same id&#39;s again.  If you want unique id&#39;s use something that produces them like Sparks uuid or [unique_id](https://sparkutils.github.io/quality/0.1.1/advanced/rowIdFunctions/#guaranteed-unique-id-how).  If your data has combinations of fields forming a primary key you could also hash on them to produce a data driven key.\r\n\r\nRegarding your last code snippet that will force all of the df to be evaluated for max(&quot;id&quot;), so you evaluate twice.  There is no other way to use this approach, but per above I&#39;d argue it&#39;s possibly not a good approach for you.\r\n","title":"java spark, using max value of a column in another without breaking deferred execution","body":"<p>You probably shouldn't use monotonically_increasing_id for an actual id generation, the next time you run that query you'll get the same id's again.  If you want unique id's use something that produces them like Sparks uuid or <a href=\"https://sparkutils.github.io/quality/0.1.1/advanced/rowIdFunctions/#guaranteed-unique-id-how\" rel=\"nofollow noreferrer\">unique_id</a>.  If your data has combinations of fields forming a primary key you could also hash on them to produce a data driven key.</p>\n<p>Regarding your last code snippet that will force all of the df to be evaluated for max(&quot;id&quot;), so you evaluate twice.  There is no other way to use this approach, but per above I'd argue it's possibly not a good approach for you.</p>\n"}],"owner":{"account_id":3042668,"reputation":187,"user_id":2579265,"display_name":"Calimero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76921872,"answer_count":1,"score":0,"last_activity_date":1692278013,"creation_date":1692267742,"question_id":76920612,"body_markdown":"With Java Spark, I have a `Dataset&lt;Row&gt;` with a  Column of unique numeric IDs. \r\n\r\n    | Id |\r\n    |  1 |\r\n    |  5 |\r\n    |  2 |\r\n\r\nFor each of those rows I generate several rows in anothe Dataframe. The Ids are not scrambled by the transformation.\r\n\r\n    | Id |\r\n    |  1 |\r\n    |  1 |\r\n    |  1 |\r\n    |  5 |\r\n    |  2 |\r\n    |  2 |\r\n\r\nSince Ids are supposed to be unique, I need to regenerate a new set of Id. However I need to keep a trace of the transformation, so I keep the old ids and try to generate a second Id column with Ids.\r\n\r\nTo make things simpler for the human consuming the data and prevent confusion, I want those newer ids to follow two rules :\r\n - New Id and Old Id should not overlap\r\n - New Ids need to be consecutive for a same old Id\r\n\r\nFor example a valid result could be : \r\n\r\n```\r\n|New_Id   | Old_Id |\r\n| 59404   |  1     |\r\n| 59405   |  1     |\r\n| 59406   |  1     |\r\n| 493     |  5     |\r\n| 3       |  2     |\r\n| 4       |  2     |\r\n```\r\n\r\nTo achieve this I tried \r\n\r\n    df.withColumnRenamed(&quot;Id&quot;, &quot;Old_Id&quot;).withColumn(&quot;New_Id&quot;, monotonically_increasing_id())\r\n\r\nBut the `New_Id` column produced is just consecutive integers from zero. Which satisfies my second rule but not the first one.\r\n\r\n```\r\n|New_Id   | Old_Id |\r\n| 0       |  1     |\r\n| 1       |  1     |\r\n| 2       |  1     |\r\n| 3       |  5     |\r\n| 4       |  2     |\r\n| 5       |  2     |\r\n```\r\n\r\nTo fix this, I thought of adding the max value of the `Old_Id` to my `monotonically_increasing_id`\r\n\r\n    Column maxId = lit(df.select(&quot;Id&quot;).agg(max(&quot;Id&quot;)).head().getLong(0)));\r\n    Dataset&lt;Row&gt; result = df.withColumnRenamed(&quot;Id&quot;, &quot;Old_Id&quot;).withColumn(&quot;New_Id&quot;, monotonically_increasing_id().plus(maxId));\r\n\r\n\r\nIt produces the expected result but is this the correct way to achieve this ? Is there a simpler or built-in way ? In terms of lazy evaluation/deferred execution, does this goes through my dataset once or twice ?","title":"java spark, using max value of a column in another without breaking deferred execution","body":"<p>With Java Spark, I have a <code>Dataset&lt;Row&gt;</code> with a  Column of unique numeric IDs.</p>\n<pre><code>| Id |\n|  1 |\n|  5 |\n|  2 |\n</code></pre>\n<p>For each of those rows I generate several rows in anothe Dataframe. The Ids are not scrambled by the transformation.</p>\n<pre><code>| Id |\n|  1 |\n|  1 |\n|  1 |\n|  5 |\n|  2 |\n|  2 |\n</code></pre>\n<p>Since Ids are supposed to be unique, I need to regenerate a new set of Id. However I need to keep a trace of the transformation, so I keep the old ids and try to generate a second Id column with Ids.</p>\n<p>To make things simpler for the human consuming the data and prevent confusion, I want those newer ids to follow two rules :</p>\n<ul>\n<li>New Id and Old Id should not overlap</li>\n<li>New Ids need to be consecutive for a same old Id</li>\n</ul>\n<p>For example a valid result could be :</p>\n<pre><code>|New_Id   | Old_Id |\n| 59404   |  1     |\n| 59405   |  1     |\n| 59406   |  1     |\n| 493     |  5     |\n| 3       |  2     |\n| 4       |  2     |\n</code></pre>\n<p>To achieve this I tried</p>\n<pre><code>df.withColumnRenamed(&quot;Id&quot;, &quot;Old_Id&quot;).withColumn(&quot;New_Id&quot;, monotonically_increasing_id())\n</code></pre>\n<p>But the <code>New_Id</code> column produced is just consecutive integers from zero. Which satisfies my second rule but not the first one.</p>\n<pre><code>|New_Id   | Old_Id |\n| 0       |  1     |\n| 1       |  1     |\n| 2       |  1     |\n| 3       |  5     |\n| 4       |  2     |\n| 5       |  2     |\n</code></pre>\n<p>To fix this, I thought of adding the max value of the <code>Old_Id</code> to my <code>monotonically_increasing_id</code></p>\n<pre><code>Column maxId = lit(df.select(&quot;Id&quot;).agg(max(&quot;Id&quot;)).head().getLong(0)));\nDataset&lt;Row&gt; result = df.withColumnRenamed(&quot;Id&quot;, &quot;Old_Id&quot;).withColumn(&quot;New_Id&quot;, monotonically_increasing_id().plus(maxId));\n</code></pre>\n<p>It produces the expected result but is this the correct way to achieve this ? Is there a simpler or built-in way ? In terms of lazy evaluation/deferred execution, does this goes through my dataset once or twice ?</p>\n"},{"tags":["java","csv","apache-camel","numberformatexception","bindy"],"answers":[{"tags":[],"owner":{"account_id":7484981,"reputation":166,"user_id":5688552,"display_name":"Loginus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692278005,"creation_date":1692278005,"answer_id":76921871,"question_id":76912353,"body_markdown":"There can be various options like:\r\n\r\n - Implement [custom data format][1] that wraps Bindy data format and handles parting exception e.g. returning null on invalid record\r\n - use [filter][2] or [validator][3] that validates the record before processing it e.g. using regular expression before it&#39;s unmarshalled.\r\nThis can look like\r\n``` java\r\nfrom(&quot;file:...&quot;)\r\n   .idempotentConsumer(...)\r\n   .log(...)\r\n   .split(body().tokenize(&quot;\\n&quot;))\r\n      .filter().regex(&quot;[A-Z]{3}\\\\*[^*]+\\\\*[0-9.]+\\\\*[0-9.]+\\\\*[0-9.]+&quot;) // put the valid regex here\r\n      .unmarshal().bindy(BindyType.Csv, ExchangeRateBindy.class)\r\n      .process(...);\r\n```\r\n\r\n\r\n  [1]: https://people.apache.org/~dkulp/camel/custom-dataformat.html\r\n  [2]: https://camel.apache.org/components/4.0.x/eips/filter-eip.html\r\n  [3]: https://camel.apache.org/manual/validator.html","title":"Is there a way to skip an invalid record when unmarshalling csv records with apache camel bindy","body":"<p>There can be various options like:</p>\n<ul>\n<li>Implement <a href=\"https://people.apache.org/%7Edkulp/camel/custom-dataformat.html\" rel=\"nofollow noreferrer\">custom data format</a> that wraps Bindy data format and handles parting exception e.g. returning null on invalid record</li>\n<li>use <a href=\"https://camel.apache.org/components/4.0.x/eips/filter-eip.html\" rel=\"nofollow noreferrer\">filter</a> or <a href=\"https://camel.apache.org/manual/validator.html\" rel=\"nofollow noreferrer\">validator</a> that validates the record before processing it e.g. using regular expression before it's unmarshalled.\nThis can look like</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>from(&quot;file:...&quot;)\n   .idempotentConsumer(...)\n   .log(...)\n   .split(body().tokenize(&quot;\\n&quot;))\n      .filter().regex(&quot;[A-Z]{3}\\\\*[^*]+\\\\*[0-9.]+\\\\*[0-9.]+\\\\*[0-9.]+&quot;) // put the valid regex here\n      .unmarshal().bindy(BindyType.Csv, ExchangeRateBindy.class)\n      .process(...);\n</code></pre>\n"}],"owner":{"account_id":1344196,"reputation":749,"user_id":1285249,"accept_rate":0,"display_name":"Christian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692278005,"creation_date":1692178755,"question_id":76912353,"body_markdown":"I have the following route \r\n\r\n```\r\nfrom(&quot;file:&quot; + baseInputPath + &quot;/exchangerates&quot; + &quot;?noop=true&quot;)\r\n                                .idempotentConsumer(header(CAMEL_FILE_NAME),\r\n                                                FileIdempotentRepository.fileIdempotentRepository(new File(\r\n                                                                baseInputPath + &quot;/tracker/exchangeratefiles.txt&quot;)))\r\n                                .log(&quot;Processing exchange rate file: ${header.CamelFileName}&quot;).unmarshal()\r\n                                .bindy(BindyType.Csv, ExchangeRateBindy.class).process(exchange -&gt; {\r\n                                        ExchangeRateBindy exchangeRateBindy = exchange.getIn()\r\n                                                        .getBody(ExchangeRateBindy.class);\r\n                                        if (exchangeRateBindy != null) {\r\n                                                exchangeRateService.save(exchangeRateBindy.toExchangeRate());\r\n                                        } else {\r\n                                                log.error(&quot;Invalid exchange rate: {}&quot;, exchange.getIn().getBody());\r\n                                        }\r\n                                });\r\n```\r\n\r\nand the following bindy class\r\n\r\n```\r\n@Data\r\n@CsvRecord(separator = &quot;\\\\*&quot;, skipFirstLine = false)\r\npublic class ExchangeRateBindy {\r\n    @DataField(pos = 1)\r\n    private String currencyId;\r\n    @DataField(pos = 2)\r\n    private String currencyName;\r\n    @DataField(pos = 3)\r\n    private double buyRate;\r\n    @DataField(pos = 4)\r\n    private double midRate;\r\n    @DataField(pos = 5, defaultValue = &quot;0&quot;)\r\n    private double sellRate;\r\n\r\n    public ExchangeRate toExchangeRate() {\r\n        return ExchangeRate.builder().currencyId(currencyId).currencyName(currencyName).buyRate(buyRate)\r\n                .midRate(midRate).sellRate(sellRate).build();\r\n    }\r\n}\r\n```\r\n\r\nand csv data\r\n\r\n```\r\nCAD*Canadian Dollar.*1.0332*1.0332*1.0332\r\nAUD*Australian Dollars.*812.7459194*837.88239115*Test\r\nBWP*BOTSWANA PULA*90.29159051*93.084113925*95.87663734\r\n```\r\n\r\nHow do I allow my route to skip the second record which has an invalid last field with the value &#39;Test&#39; instead of a numeric value? As it is the code just throws a NumberFormatException and does not process any of the records.\r\n","title":"Is there a way to skip an invalid record when unmarshalling csv records with apache camel bindy","body":"<p>I have the following route</p>\n<pre><code>from(&quot;file:&quot; + baseInputPath + &quot;/exchangerates&quot; + &quot;?noop=true&quot;)\n                                .idempotentConsumer(header(CAMEL_FILE_NAME),\n                                                FileIdempotentRepository.fileIdempotentRepository(new File(\n                                                                baseInputPath + &quot;/tracker/exchangeratefiles.txt&quot;)))\n                                .log(&quot;Processing exchange rate file: ${header.CamelFileName}&quot;).unmarshal()\n                                .bindy(BindyType.Csv, ExchangeRateBindy.class).process(exchange -&gt; {\n                                        ExchangeRateBindy exchangeRateBindy = exchange.getIn()\n                                                        .getBody(ExchangeRateBindy.class);\n                                        if (exchangeRateBindy != null) {\n                                                exchangeRateService.save(exchangeRateBindy.toExchangeRate());\n                                        } else {\n                                                log.error(&quot;Invalid exchange rate: {}&quot;, exchange.getIn().getBody());\n                                        }\n                                });\n</code></pre>\n<p>and the following bindy class</p>\n<pre><code>@Data\n@CsvRecord(separator = &quot;\\\\*&quot;, skipFirstLine = false)\npublic class ExchangeRateBindy {\n    @DataField(pos = 1)\n    private String currencyId;\n    @DataField(pos = 2)\n    private String currencyName;\n    @DataField(pos = 3)\n    private double buyRate;\n    @DataField(pos = 4)\n    private double midRate;\n    @DataField(pos = 5, defaultValue = &quot;0&quot;)\n    private double sellRate;\n\n    public ExchangeRate toExchangeRate() {\n        return ExchangeRate.builder().currencyId(currencyId).currencyName(currencyName).buyRate(buyRate)\n                .midRate(midRate).sellRate(sellRate).build();\n    }\n}\n</code></pre>\n<p>and csv data</p>\n<pre><code>CAD*Canadian Dollar.*1.0332*1.0332*1.0332\nAUD*Australian Dollars.*812.7459194*837.88239115*Test\nBWP*BOTSWANA PULA*90.29159051*93.084113925*95.87663734\n</code></pre>\n<p>How do I allow my route to skip the second record which has an invalid last field with the value 'Test' instead of a numeric value? As it is the code just throws a NumberFormatException and does not process any of the records.</p>\n"},{"tags":["java","maven","apache-kafka","graalvm-native-image"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1692197520,"post_id":76912248,"comment_id":135591582,"body_markdown":"1) Don&#39;t use `Class.forName` when you can just use `StringSerializer.class` 2) Seems like your native image doesn&#39;t include external dependencies, or you&#39;re not running the code with a complete classpath... Successful building and packaging doesn&#39;t address runtime errors","body":"1) Don&#39;t use <code>Class.forName</code> when you can just use <code>StringSerializer.class</code> 2) Seems like your native image doesn&#39;t include external dependencies, or you&#39;re not running the code with a complete classpath... Successful building and packaging doesn&#39;t address runtime errors"},{"owner":{"account_id":29235612,"reputation":11,"user_id":22398310,"display_name":"paul"},"score":1,"creation_date":1692274478,"post_id":76912248,"comment_id":135602654,"body_markdown":"It was indeed a problem with the dependencies, in fact I solved the problem with some entries in my &quot;reflect-config.json&quot; file. Thanks!","body":"It was indeed a problem with the dependencies, in fact I solved the problem with some entries in my &quot;reflect-config.json&quot; file. Thanks!"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1692276703,"post_id":76912248,"comment_id":135603138,"body_markdown":"Feel free to add your complete solution below as an answer","body":"Feel free to add your complete solution below as an answer"}],"answers":[{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1692435701,"post_id":76921826,"comment_id":135625046,"body_markdown":"I think your answer could be improved if you post your corrected code that resolves the problem.","body":"I think your answer could be improved if you post your corrected code that resolves the problem."}],"tags":[],"owner":{"account_id":29235612,"reputation":11,"user_id":22398310,"display_name":"paul"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692277609,"creation_date":1692277564,"answer_id":76921826,"question_id":76912248,"body_markdown":"So, the problem I had was that I didnt know about configuring the GraalVM with Kafka at all. In the following link I found the solution to my problem in adding the requested json file for the confluent schema registry to my project: [https://jeqo.github.io/posts/2022-03-18-kafka-clients-graalvm/][1]\r\n\r\n\r\n  [1]: https://jeqo.github.io/posts/2022-03-18-kafka-clients-graalvm/","title":"GraalVM, Apache Kafka: Could not find a public no-argument constructor for org.apache.kafka.common.serialization.StringSerializer","body":"<p>So, the problem I had was that I didnt know about configuring the GraalVM with Kafka at all. In the following link I found the solution to my problem in adding the requested json file for the confluent schema registry to my project: <a href=\"https://jeqo.github.io/posts/2022-03-18-kafka-clients-graalvm/\" rel=\"nofollow noreferrer\">https://jeqo.github.io/posts/2022-03-18-kafka-clients-graalvm/</a></p>\n"}],"owner":{"account_id":29235612,"reputation":11,"user_id":22398310,"display_name":"paul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692277609,"creation_date":1692178075,"question_id":76912248,"body_markdown":"I am currently working on a Java-Application which is a Kafka-Producer. I have already finished and fully tested the code with Maven, everything worked fine. Then I waned to get a Graal-Native-Image for executing the producer Code.\r\n\r\nI am building the project with &quot;mvn -Pnative package&quot; and everything is getting built fine. (also using the maven profile from the docs: (https://graalvm.github.io/native-build-tools/latest/maven-plugin.html)). When trying to start the image via &quot;./MyApp&quot; I am getting the following errors:\r\n\r\n```\r\nException in thread &quot;main&quot; org.apache.kafka.common.KafkaException: Failed to construct kafka producer\r\n        at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:465)\r\n        at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:290)\r\n        at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:317)\r\n        at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:302)\r\n        at Main.main(Main.java:23)\r\nCaused by: org.apache.kafka.common.KafkaException: Could not find a public no-argument constructor for org.apache.kafka.common.serialization.StringSerializer\r\n        at org.apache.kafka.common.utils.Utils.newInstance(Utils.java:397)\r\n        at org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:401)\r\n        at org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:440)\r\n        at org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:425)\r\n        at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:380)\r\n        ... 4 more\r\nCaused by: java.lang.NoSuchMethodException: org.apache.kafka.common.serialization.StringSerializer.&lt;init&gt;()\r\n        at java.base@17.0.8/java.lang.Class.checkMethod(DynamicHub.java:1038)\r\n        at java.base@17.0.8/java.lang.Class.getConstructor0(DynamicHub.java:1204)\r\n        at java.base@17.0.8/java.lang.Class.getDeclaredConstructor(DynamicHub.java:2754)\r\n        at org.apache.kafka.common.utils.Utils.newInstance(Utils.java:395)\r\n        ... 8 more\r\n```\r\nThe following code snippet represents the code where the error seems to happen:\r\n\r\n```\r\n        Properties properties = new Properties();\r\n        properties.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\r\n        properties.put(&quot;schema.registry.url&quot;, &quot;http://localhost:8081&quot;);\r\n        properties.put(&quot;key.serializer&quot;, Class.forName(&quot;org.apache.kafka.common.serialization.StringSerializer&quot;));\r\n        properties.put(&quot;value.serializer&quot;, Class.forName(&quot;io.confluent.kafka.serializers.KafkaAvroSerializer&quot;));\r\n\r\n        final org.apache.kafka.clients.producer.Producer&lt;String, GenericRecord&gt; producer = new KafkaProducer&lt;&gt;(properties);\r\n        Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; {\r\n            System.out.println(&quot;Stopping Producer&quot;);\r\n            producer.close();\r\n        }));\r\n```\r\n\r\n\r\n\r\nMy guess was that the Kafka Depedency just isnt being imported properly, but trying it without it in my pom.xml the &quot;mvn package&quot; command wouldnt even work without errors. By the way I am using the latest Kafka Version.\r\nI also tried using as less Dependencies as possible and looked if one of the would be the problem. Is there any specific GraalVM configs I am missing? I am new to the topic.\r\n\r\n\r\nI hope that is all information relevant for that kind of problem otherwise I would of course share it, if something was missing.\r\nThanks in advance.","title":"GraalVM, Apache Kafka: Could not find a public no-argument constructor for org.apache.kafka.common.serialization.StringSerializer","body":"<p>I am currently working on a Java-Application which is a Kafka-Producer. I have already finished and fully tested the code with Maven, everything worked fine. Then I waned to get a Graal-Native-Image for executing the producer Code.</p>\n<p>I am building the project with &quot;mvn -Pnative package&quot; and everything is getting built fine. (also using the maven profile from the docs: (<a href=\"https://graalvm.github.io/native-build-tools/latest/maven-plugin.html\" rel=\"nofollow noreferrer\">https://graalvm.github.io/native-build-tools/latest/maven-plugin.html</a>)). When trying to start the image via &quot;./MyApp&quot; I am getting the following errors:</p>\n<pre><code>Exception in thread &quot;main&quot; org.apache.kafka.common.KafkaException: Failed to construct kafka producer\n        at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:465)\n        at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:290)\n        at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:317)\n        at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:302)\n        at Main.main(Main.java:23)\nCaused by: org.apache.kafka.common.KafkaException: Could not find a public no-argument constructor for org.apache.kafka.common.serialization.StringSerializer\n        at org.apache.kafka.common.utils.Utils.newInstance(Utils.java:397)\n        at org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:401)\n        at org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:440)\n        at org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:425)\n        at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:380)\n        ... 4 more\nCaused by: java.lang.NoSuchMethodException: org.apache.kafka.common.serialization.StringSerializer.&lt;init&gt;()\n        at java.base@17.0.8/java.lang.Class.checkMethod(DynamicHub.java:1038)\n        at java.base@17.0.8/java.lang.Class.getConstructor0(DynamicHub.java:1204)\n        at java.base@17.0.8/java.lang.Class.getDeclaredConstructor(DynamicHub.java:2754)\n        at org.apache.kafka.common.utils.Utils.newInstance(Utils.java:395)\n        ... 8 more\n</code></pre>\n<p>The following code snippet represents the code where the error seems to happen:</p>\n<pre><code>        Properties properties = new Properties();\n        properties.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\n        properties.put(&quot;schema.registry.url&quot;, &quot;http://localhost:8081&quot;);\n        properties.put(&quot;key.serializer&quot;, Class.forName(&quot;org.apache.kafka.common.serialization.StringSerializer&quot;));\n        properties.put(&quot;value.serializer&quot;, Class.forName(&quot;io.confluent.kafka.serializers.KafkaAvroSerializer&quot;));\n\n        final org.apache.kafka.clients.producer.Producer&lt;String, GenericRecord&gt; producer = new KafkaProducer&lt;&gt;(properties);\n        Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; {\n            System.out.println(&quot;Stopping Producer&quot;);\n            producer.close();\n        }));\n</code></pre>\n<p>My guess was that the Kafka Depedency just isnt being imported properly, but trying it without it in my pom.xml the &quot;mvn package&quot; command wouldnt even work without errors. By the way I am using the latest Kafka Version.\nI also tried using as less Dependencies as possible and looked if one of the would be the problem. Is there any specific GraalVM configs I am missing? I am new to the topic.</p>\n<p>I hope that is all information relevant for that kind of problem otherwise I would of course share it, if something was missing.\nThanks in advance.</p>\n"},{"tags":["java","jsp","compiler-errors"],"answers":[{"tags":[],"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692264912,"creation_date":1692264912,"answer_id":76920236,"question_id":76916533,"body_markdown":"You can not ignore this kind of compilation error, as JSPs are first compiled into standalone Servlets, which are in turn compiled into binary .class files. \r\n\r\nWhile you can generate unbalanced HTML tags as you please, you absolutely can not do so with JSP-Taglibs: They will *always* need to be balanced *in the same JSP file*.\r\n\r\nSo, what you can do is separate out by having &quot;outer&quot; tags in one file, and &quot;inner&quot; tags in another (included) one (to a certain extent), but you typically can&#39;t separate them into separate beginning &amp; ending. \r\n\r\nAnother alternative is to separate a JSP out into JSPF or other fragments. If you *statically* include them into a single JSP file _at compile time_, you can spread them out over multiple files. In general, from a maintainability standpoint, I&#39;d *strongly* prefer not to separate beginning and end of a JSP tag though. ","title":"Is there a way to ignore compilation error for a JSP file","body":"<p>You can not ignore this kind of compilation error, as JSPs are first compiled into standalone Servlets, which are in turn compiled into binary .class files.</p>\n<p>While you can generate unbalanced HTML tags as you please, you absolutely can not do so with JSP-Taglibs: They will <em>always</em> need to be balanced <em>in the same JSP file</em>.</p>\n<p>So, what you can do is separate out by having &quot;outer&quot; tags in one file, and &quot;inner&quot; tags in another (included) one (to a certain extent), but you typically can't separate them into separate beginning &amp; ending.</p>\n<p>Another alternative is to separate a JSP out into JSPF or other fragments. If you <em>statically</em> include them into a single JSP file <em>at compile time</em>, you can spread them out over multiple files. In general, from a maintainability standpoint, I'd <em>strongly</em> prefer not to separate beginning and end of a JSP tag though.</p>\n"}],"owner":{"account_id":5858990,"reputation":35,"user_id":4615353,"display_name":"VIVEK SHARMA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1692277473,"answer_count":1,"score":-3,"last_activity_date":1692277537,"creation_date":1692214223,"question_id":76916533,"body_markdown":"I have to intentially ignore Compilation error in a jsp file.\r\n\r\n**What is being implemented?**\r\n\r\nfor a use-case, i have to override &lt;form&gt; tag in a service which is defined in other service. We have an in house page assembly logic to achieve it.\r\n\r\n**What is the issue?**\r\n\r\nI am getting `unterminated form jag` error and i need to ignore this error for my JSP file because my page assembly service will combine this form and send it to client.\r\n\r\n```\r\n[jasper] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n   [jasper] Compilation error\r\n   [jasper] Error count: [1]\r\n```\r\n\r\n**What are the things which i tried?**\r\n\r\n`&lt;%-- @SuppressWarnings(&quot;jasper&quot;) --%&gt;`\r\n\r\n`&lt;%-- @ignoreCompilationErrors --%&gt;`\r\n\r\n`&lt;%@ suppressError jasper=&quot;true&quot; %&gt;`\r\n\r\n\r\nPlease let me know if there&#39;s a way to suppress error for a particular jsp file.","title":"Is there a way to ignore compilation error for a JSP file","body":"<p>I have to intentially ignore Compilation error in a jsp file.</p>\n<p><strong>What is being implemented?</strong></p>\n<p>for a use-case, i have to override  tag in a service which is defined in other service. We have an in house page assembly logic to achieve it.</p>\n<p><strong>What is the issue?</strong></p>\n<p>I am getting <code>unterminated form jag</code> error and i need to ignore this error for my JSP file because my page assembly service will combine this form and send it to client.</p>\n<pre><code>[jasper] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n   [jasper] Compilation error\n   [jasper] Error count: [1]\n</code></pre>\n<p><strong>What are the things which i tried?</strong></p>\n<p><code>&lt;%-- @SuppressWarnings(&quot;jasper&quot;) --%&gt;</code></p>\n<p><code>&lt;%-- @ignoreCompilationErrors --%&gt;</code></p>\n<p><code>&lt;%@ suppressError jasper=&quot;true&quot; %&gt;</code></p>\n<p>Please let me know if there's a way to suppress error for a particular jsp file.</p>\n"},{"tags":["java","hibernate","jpa","jpql"],"comments":[{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1692276601,"post_id":76921611,"comment_id":135603110,"body_markdown":"did you try to write a sql query as a native with `nativeQuery = true` ?","body":"did you try to write a sql query as a native with <code>nativeQuery = true</code> ?"},{"owner":{"account_id":10160823,"reputation":1,"user_id":7504338,"display_name":"hokkun"},"score":0,"creation_date":1692278587,"post_id":76921611,"comment_id":135603618,"body_markdown":"@AndreiLisa Thank you Andrei, that&#39;s definitely another option. But I guess we may need to set a return type to `List&lt;Object[]&gt;` and convert it to POJOs by ourselves?","body":"@AndreiLisa Thank you Andrei, that&#39;s definitely another option. But I guess we may need to set a return type to <code>List&lt;Object[]&gt;</code> and convert it to POJOs by ourselves?"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1692280119,"post_id":76921611,"comment_id":135604002,"body_markdown":"yes, but in hibernate 6 was changed this approach","body":"yes, but in hibernate 6 was changed this approach"},{"owner":{"account_id":7614789,"reputation":175,"user_id":5774614,"display_name":"Amine ABBAOUI"},"score":0,"creation_date":1692280733,"post_id":76921611,"comment_id":135604148,"body_markdown":"Are you using TypedQuery or what exactly !!!, please share all your query statements, and what do you mean by N+1 problem ?","body":"Are you using TypedQuery or what exactly !!!, please share all your query statements, and what do you mean by N+1 problem ?"},{"owner":{"account_id":10160823,"reputation":1,"user_id":7504338,"display_name":"hokkun"},"score":0,"creation_date":1692281750,"post_id":76921611,"comment_id":135604392,"body_markdown":"@AmineABBAOUI Basically I am using Hibernates via Spring Data JPA, which means `@Query(QUERY)` where QUERY is the JPQL statements I wrote in the question ([Reference](https://www.baeldung.com/spring-data-jpa-query)). Regarding N+1 problem, for example [this blog article](https://vladmihalcea.com/n-plus-1-query-problem/) might be a good reference.","body":"@AmineABBAOUI Basically I am using Hibernates via Spring Data JPA, which means <code>@Query(QUERY)</code> where QUERY is the JPQL statements I wrote in the question (<a href=\"https://www.baeldung.com/spring-data-jpa-query\" rel=\"nofollow noreferrer\">Reference</a>). Regarding N+1 problem, for example <a href=\"https://vladmihalcea.com/n-plus-1-query-problem/\" rel=\"nofollow noreferrer\">this blog article</a> might be a good reference."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1692286604,"post_id":76921611,"comment_id":135605621,"body_markdown":"You cannot add filtering criteria to &#39;fetch&#39; joins. JPA requires returned (aka managed) entities to reflect what is actually in the database - providers are required to track changes, so missing entities from relationships might show up depending on how that entity is merged back in and so force changes that weren&#39;t actually made back into the DB. If you want to control the query to fetch only some B instances, query on them directly, not the As.","body":"You cannot add filtering criteria to &#39;fetch&#39; joins. JPA requires returned (aka managed) entities to reflect what is actually in the database - providers are required to track changes, so missing entities from relationships might show up depending on how that entity is merged back in and so force changes that weren&#39;t actually made back into the DB. If you want to control the query to fetch only some B instances, query on them directly, not the As."},{"owner":{"account_id":10160823,"reputation":1,"user_id":7504338,"display_name":"hokkun"},"score":0,"creation_date":1692606011,"post_id":76921611,"comment_id":135641036,"body_markdown":"@Chris Thank you Chris, my understanding is that such queries won&#39;t match JPA&#39;s philosophy. I wonder if we still should do that even when we want A itself as an array. It seems that I have to submit queries for `# of A records` x `# of B records` to RDBMS, which may be sometimes unacceptable for the performance reason.","body":"@Chris Thank you Chris, my understanding is that such queries won&#39;t match JPA&#39;s philosophy. I wonder if we still should do that even when we want A itself as an array. It seems that I have to submit queries for <code># of A records</code> x <code># of B records</code> to RDBMS, which may be sometimes unacceptable for the performance reason."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1692626364,"post_id":76921611,"comment_id":135645382,"body_markdown":"fetch joins across many to many: there are other options. EclipseLink has a batchFetch option you can use on relationships, so 1 query for all As and 1 more query for all related Bs. I believe hibernate has similar options, I just don&#39;t know how well the batchSize annotation works. You can always query As and Bs yourself in a similar fashion, which of course by building As, would allow you to sort and filter the Bs in their B collections yourself too, and give you much more control for performance tuning","body":"fetch joins across many to many: there are other options. EclipseLink has a batchFetch option you can use on relationships, so 1 query for all As and 1 more query for all related Bs. I believe hibernate has similar options, I just don&#39;t know how well the batchSize annotation works. You can always query As and Bs yourself in a similar fashion, which of course by building As, would allow you to sort and filter the Bs in their B collections yourself too, and give you much more control for performance tuning"}],"owner":{"account_id":10160823,"reputation":1,"user_id":7504338,"display_name":"hokkun"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692277407,"creation_date":1692275890,"question_id":76921611,"body_markdown":"Assume you have these two entities and corresponding tables (this is kind of a pseudo code; may not be really accurate Java code):\r\n\r\n\r\n```lang-java\r\n@Entity\r\n@Table(&quot;table_a&quot;)\r\npublic class A {\r\n  @Id\r\n  private int id;\r\n  @OneToMany\r\n  @JoinColumn(name = &quot;a_id&quot;, referencedColumnName = &quot;id&quot;)\r\n  private List&lt;B&gt; bList;\r\n}\r\n\r\n@Entity\r\n@Table(&quot;table_b&quot;)\r\npublic class B {\r\n  @Id\r\n  private int id;\r\n  @Column(name = &quot;a_id&quot;)\r\n  private int aId;\r\n  @Column(name = &quot;condition&quot;)\r\n  private int condition;\r\n} \r\n```\r\n\r\nWhat I want to achieve is (Pseudo JPQL):\r\n```lang-jpql\r\nselect a\r\nfrom A a\r\nleft join B b on (\r\n  a.id = b.aId\r\n  and b.condition &lt; 100\r\n)\r\n```\r\n\r\nI&#39;m using Hibernate 6.1.7.FINAL as a JPA implementation along with Spring Data JPA 3.0.8.\r\n\r\nI tried several options:\r\n\r\n1. Normal `JOIN` -&gt; That must have the N+1 problem.\r\n2. `JOIN FETCH` -&gt; You cannot use `on` for join fetch for the JPQL syntax restriction.\r\n3. Entity Graph -&gt; I have originally used this way, but it was no longer working after upgrading Hibernate to 6.x according to https://hibernate.atlassian.net/browse/HHH-15612.\r\n\r\nProbably one possible option is `JOIN FETCH` and `WHERE` like\r\n\r\n```lang-jpql\r\nselect a\r\nfrom A a\r\nleft fetch join B b\r\nwhere\r\n  (b.id is null) or (a.id = b.aId and b.condition &lt; 100)\r\n```\r\n\r\nBut actually you have to write `(b.id is null)` every time, and not semantically the same as the original one (maybe RDBMS can optimize it to some extend though).\r\n\r\nAny other possible options?\r\n\r\n---\r\nOriginally Hibernate 5 allowed me to use the following JPQL:\r\n```lang-jpql\r\nselect a\r\nfrom A a\r\nleft join B b on (\r\n  a.id = b.aId\r\n  and b.condition &lt; 100\r\n)\r\n```\r\n\r\nwith @EntityGraph (from Spring Data JPA), but now Hibernate 6 returns a SQL statement that contains duplicate `join` clauses (see HHH-15612 above). ","title":"What&#39;s the most reasonable way when I want to LEFT JOIN two tables with ON conditions in JPQL without suffering from the N+1 problem?","body":"<p>Assume you have these two entities and corresponding tables (this is kind of a pseudo code; may not be really accurate Java code):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(&quot;table_a&quot;)\npublic class A {\n  @Id\n  private int id;\n  @OneToMany\n  @JoinColumn(name = &quot;a_id&quot;, referencedColumnName = &quot;id&quot;)\n  private List&lt;B&gt; bList;\n}\n\n@Entity\n@Table(&quot;table_b&quot;)\npublic class B {\n  @Id\n  private int id;\n  @Column(name = &quot;a_id&quot;)\n  private int aId;\n  @Column(name = &quot;condition&quot;)\n  private int condition;\n} \n</code></pre>\n<p>What I want to achieve is (Pseudo JPQL):</p>\n<pre class=\"lang-jpql prettyprint-override\"><code>select a\nfrom A a\nleft join B b on (\n  a.id = b.aId\n  and b.condition &lt; 100\n)\n</code></pre>\n<p>I'm using Hibernate 6.1.7.FINAL as a JPA implementation along with Spring Data JPA 3.0.8.</p>\n<p>I tried several options:</p>\n<ol>\n<li>Normal <code>JOIN</code> -&gt; That must have the N+1 problem.</li>\n<li><code>JOIN FETCH</code> -&gt; You cannot use <code>on</code> for join fetch for the JPQL syntax restriction.</li>\n<li>Entity Graph -&gt; I have originally used this way, but it was no longer working after upgrading Hibernate to 6.x according to <a href=\"https://hibernate.atlassian.net/browse/HHH-15612\" rel=\"nofollow noreferrer\">https://hibernate.atlassian.net/browse/HHH-15612</a>.</li>\n</ol>\n<p>Probably one possible option is <code>JOIN FETCH</code> and <code>WHERE</code> like</p>\n<pre class=\"lang-jpql prettyprint-override\"><code>select a\nfrom A a\nleft fetch join B b\nwhere\n  (b.id is null) or (a.id = b.aId and b.condition &lt; 100)\n</code></pre>\n<p>But actually you have to write <code>(b.id is null)</code> every time, and not semantically the same as the original one (maybe RDBMS can optimize it to some extend though).</p>\n<p>Any other possible options?</p>\n<hr />\n<p>Originally Hibernate 5 allowed me to use the following JPQL:</p>\n<pre class=\"lang-jpql prettyprint-override\"><code>select a\nfrom A a\nleft join B b on (\n  a.id = b.aId\n  and b.condition &lt; 100\n)\n</code></pre>\n<p>with @EntityGraph (from Spring Data JPA), but now Hibernate 6 returns a SQL statement that contains duplicate <code>join</code> clauses (see HHH-15612 above).</p>\n"},{"tags":["java","android","client","message"],"answers":[{"comments":[{"owner":{"account_id":3347322,"reputation":33,"user_id":2812231,"display_name":"Camil Latif"},"score":0,"creation_date":1380047268,"post_id":18988914,"comment_id":28051088,"body_markdown":"I added what you suggested, now I get this on the Server \njava.io.EOFException","body":"I added what you suggested, now I get this on the Server  java.io.EOFException"},{"owner":{"account_id":3347023,"reputation":1,"user_id":2811995,"display_name":"user2811995"},"score":0,"creation_date":1380047280,"post_id":18988914,"comment_id":28051094,"body_markdown":"That it is outdated and should preferably not be used. Are you sending a newline character at the end of the string? if not that could be a problem with the readLine method","body":"That it is outdated and should preferably not be used. Are you sending a newline character at the end of the string? if not that could be a problem with the readLine method"},{"owner":{"account_id":3347322,"reputation":33,"user_id":2812231,"display_name":"Camil Latif"},"score":0,"creation_date":1380047557,"post_id":18988914,"comment_id":28051228,"body_markdown":"What if I want to show what I have received on the Server side?","body":"What if I want to show what I have received on the Server side?"},{"owner":{"account_id":3347023,"reputation":1,"user_id":2811995,"display_name":"user2811995"},"score":0,"creation_date":1380048197,"post_id":18988914,"comment_id":28051574,"body_markdown":"It looks like you are first trying to read from the client in the constructor of the ClientConn. You read into the Recv string. So just print that string onto System out and see if you get anything","body":"It looks like you are first trying to read from the client in the constructor of the ClientConn. You read into the Recv string. So just print that string onto System out and see if you get anything"}],"tags":[],"owner":{"account_id":3347023,"reputation":1,"user_id":2811995,"display_name":"user2811995"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400768287,"creation_date":1380046160,"answer_id":18988914,"question_id":18988606,"body_markdown":"Some thoughts that may or may not solve the problem:\r\n\r\nThe method readLine() for the ObjectInputStream is deprecated. Try using a DataInputStream instead. Something like : \r\n\r\n    try {\r\n\t\t\toutToClient = new DataOutputStream(socket.getOutputStream());\r\n\t\t\tinFromClient = new DataInputStream(socket.getInputStream());\r\n\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t}\r\n\r\nAnd then :\r\n\r\n    inFromClient.readLine();\r\n\r\n\r\n\r\nNote that the read line will continue to read until it encounters a new line character &#39;\\n&#39;. So readLine() will block until it reads a newline.\r\n\r\nTry these things and see if they help\r\n\r\n\r\nEDIT:\r\nIt appears readLine() for DataInputStream is deprecated as well, but there are several others methods that should work. For example readUTF()","title":"Creating a simple Hello world Android Client-Server program","body":"<p>Some thoughts that may or may not solve the problem:</p>\n\n<p>The method readLine() for the ObjectInputStream is deprecated. Try using a DataInputStream instead. Something like : </p>\n\n<pre><code>try {\n        outToClient = new DataOutputStream(socket.getOutputStream());\n        inFromClient = new DataInputStream(socket.getInputStream());\n} catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n}\n</code></pre>\n\n<p>And then :</p>\n\n<pre><code>inFromClient.readLine();\n</code></pre>\n\n<p>Note that the read line will continue to read until it encounters a new line character '\\n'. So readLine() will block until it reads a newline.</p>\n\n<p>Try these things and see if they help</p>\n\n<p>EDIT:\nIt appears readLine() for DataInputStream is deprecated as well, but there are several others methods that should work. For example readUTF()</p>\n"}],"owner":{"account_id":3347322,"reputation":33,"user_id":2812231,"display_name":"Camil Latif"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9949,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1692277280,"creation_date":1380045076,"question_id":18988606,"body_markdown":"To keep it simple, all I&#39;m trying to do is to send a message from my Android Emulator to a Java console server on Eclipse that contains a simple string, then I want the server to reply with another string.\r\nOfcourse; Ill connect to host 10.0.2.2 and use any open port (in my case 4000). The server gets a &quot;connected&quot; msg everytime I click on connecting button on the emulator, but I cant find a way to deliver packets or messages.\r\n\r\nIn case you want to read some code, here&#39;s my (what I think is) too long code for a simple task.\r\n\r\nClient\r\n    package com.example.clienttest;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.ObjectInputStream;\r\n    import java.io.ObjectOutputStream;\r\n    import java.net.Socket;\r\n    \r\n    import android.os.Bundle;\r\n    import android.app.Activity;\r\n    import android.view.View;\r\n    import android.widget.EditText;\r\n    import android.widget.TextView;\r\n    \r\n    public class MainActivity extends Activity {\r\n    \r\n    \tThread m_objThreadClient;\r\n    \tSocket clientSocket;\r\n    \tTextView serverMessage;\r\n    \tEditText clientMessage;\r\n    \tString sIn, sOut;\r\n    \tObjectOutputStream oos;\r\n    \tObjectInputStream ois;\r\n    \t\r\n    \t@Override\r\n    \tpublic void onCreate(Bundle savedInstanceState) {\r\n    \t    super.onCreate(savedInstanceState);\r\n    \t    setContentView(R.layout.activity_main);\r\n    \t    \r\n    \t    serverMessage = (TextView) findViewById(R.id.textView1);\r\n    \t    clientMessage = (EditText) findViewById(R.id.editText1);\r\n    \t    \r\n    \t}\r\n        \r\n    \r\n    \tpublic void Start(View view) throws IOException{\r\n            final String Text;\r\n            String send = &quot; &quot;;\r\n            Text = clientMessage.getText().toString();\r\n    \t\tm_objThreadClient = new Thread( new Runnable(){\r\n    \t\t\tpublic void run()\r\n    \t\t\t{\r\n    \t\t        try {\r\n    \t\t            clientSocket = new Socket(&quot;10.0.2.2&quot;, 4000);\r\n    \t\t            oos = new ObjectOutputStream (clientSocket.getOutputStream());\r\n    \t\t            oos.writeObject(Text);\r\n    \t\t            oos.flush();\r\n    \t\t            \t\t            \r\n    \t\t        } catch (IOException e) {\r\n    \t\t            serverMessage.setText(e.getMessage());\r\n    \t\t        }\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t});\r\n            serverMessage.setText(send);\r\n    \t\t\r\n    \t\tm_objThreadClient.start();\r\n    \t    \r\n        }\r\n     \r\n    }\r\n\r\n\r\nand server\r\n\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n     \r\n    import java.io.IOException;\r\n    import java.io.BufferedReader;\r\n    import java.io.InputStreamReader;\r\n    import java.io.ObjectInputStream;\r\n    import java.io.ObjectOutputStream;\r\n    import java.io.PrintWriter;\r\n     \r\n    import java.util.Hashtable;\r\n     \r\n    public class Server2 {\r\n     \r\n        @SuppressWarnings(&quot;resource&quot;)\r\n    \tpublic static void main (String[] args) throws IOException {\r\n     \r\n            ServerSocket server = null;  \r\n            try {\r\n                server = new ServerSocket(4000); \r\n            } catch (IOException e) {\r\n                System.err.println(&quot;Could not start up on: &quot; + &quot;4000&quot; + &quot;Maby server is already open? Or a portforwording messup?&quot;);\r\n                System.err.println(e);\r\n                System.exit(1);\r\n            }\r\n     \r\n            Socket client = null;\r\n            while(true) {\r\n                try {\r\n                    client = server.accept();\r\n                    System.out.print(&quot;connected&quot;);\r\n                } catch (IOException e) {\r\n                    System.err.println(&quot;Accept failed.&quot;);\r\n                    System.err.println(e);\r\n                }\r\n    \r\n                Thread t = new Thread(new ClientConn(client));\r\n                t.start();\r\n            }\r\n        }\r\n    }\r\n     \r\n     \r\n    class ClientConn implements Runnable {\r\n        private Socket client;\r\n        ObjectInputStream ois;\r\n        ObjectOutputStream oos;\r\n     \r\n        ClientConn(Socket client) {\r\n            this.client = client;\r\n            try {\r\n                ois = new ObjectInputStream(client.getInputStream());\r\n                String Recv;\r\n                Recv = ois.readLine();\r\n    \r\n                oos = new ObjectOutputStream(client.getOutputStream());\r\n                oos.writeChars(&quot;Welcome&quot;);\r\n                oos.flush();\r\n                \r\n                oos.close();\r\n                \r\n            } catch (IOException e) {\r\n                System.err.println(e);\r\n                return;\r\n            }\r\n        }\r\n     \r\n        public void run() {\r\n            String msg, response;\r\n            try {\r\n            \tSystem.out.print(&quot;checking&quot;);\r\n                while ((msg = ois.readLine()) != null) {\r\n                \tSystem.out.print(msg);\r\n                }\r\n            } catch (IOException e) {\r\n                System.err.println(e);\r\n            }\r\n        }\r\n     \r\n        public void sendMsg(String msg) throws IOException {\r\n            oos.writeChars(msg);\r\n        }\r\n    }\r\n\r\n\r\nThanks~","title":"Creating a simple Hello world Android Client-Server program","body":"<p>To keep it simple, all I'm trying to do is to send a message from my Android Emulator to a Java console server on Eclipse that contains a simple string, then I want the server to reply with another string.\nOfcourse; Ill connect to host 10.0.2.2 and use any open port (in my case 4000). The server gets a \"connected\" msg everytime I click on connecting button on the emulator, but I cant find a way to deliver packets or messages.</p>\n\n<p>In case you want to read some code, here's my (what I think is) too long code for a simple task.</p>\n\n<p>Client\n    package com.example.clienttest;</p>\n\n<pre><code>import java.io.IOException;\nimport java.io.ObjectInputStream;\nimport java.io.ObjectOutputStream;\nimport java.net.Socket;\n\nimport android.os.Bundle;\nimport android.app.Activity;\nimport android.view.View;\nimport android.widget.EditText;\nimport android.widget.TextView;\n\npublic class MainActivity extends Activity {\n\n    Thread m_objThreadClient;\n    Socket clientSocket;\n    TextView serverMessage;\n    EditText clientMessage;\n    String sIn, sOut;\n    ObjectOutputStream oos;\n    ObjectInputStream ois;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        serverMessage = (TextView) findViewById(R.id.textView1);\n        clientMessage = (EditText) findViewById(R.id.editText1);\n\n    }\n\n\n    public void Start(View view) throws IOException{\n        final String Text;\n        String send = \" \";\n        Text = clientMessage.getText().toString();\n        m_objThreadClient = new Thread( new Runnable(){\n            public void run()\n            {\n                try {\n                    clientSocket = new Socket(\"10.0.2.2\", 4000);\n                    oos = new ObjectOutputStream (clientSocket.getOutputStream());\n                    oos.writeObject(Text);\n                    oos.flush();\n\n                } catch (IOException e) {\n                    serverMessage.setText(e.getMessage());\n                }\n\n            }\n        });\n        serverMessage.setText(send);\n\n        m_objThreadClient.start();\n\n    }\n\n}\n</code></pre>\n\n<p>and server</p>\n\n<pre><code>import java.net.ServerSocket;\nimport java.net.Socket;\n\nimport java.io.IOException;\nimport java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.io.ObjectInputStream;\nimport java.io.ObjectOutputStream;\nimport java.io.PrintWriter;\n\nimport java.util.Hashtable;\n\npublic class Server2 {\n\n    @SuppressWarnings(\"resource\")\n    public static void main (String[] args) throws IOException {\n\n        ServerSocket server = null;  \n        try {\n            server = new ServerSocket(4000); \n        } catch (IOException e) {\n            System.err.println(\"Could not start up on: \" + \"4000\" + \"Maby server is already open? Or a portforwording messup?\");\n            System.err.println(e);\n            System.exit(1);\n        }\n\n        Socket client = null;\n        while(true) {\n            try {\n                client = server.accept();\n                System.out.print(\"connected\");\n            } catch (IOException e) {\n                System.err.println(\"Accept failed.\");\n                System.err.println(e);\n            }\n\n            Thread t = new Thread(new ClientConn(client));\n            t.start();\n        }\n    }\n}\n\n\nclass ClientConn implements Runnable {\n    private Socket client;\n    ObjectInputStream ois;\n    ObjectOutputStream oos;\n\n    ClientConn(Socket client) {\n        this.client = client;\n        try {\n            ois = new ObjectInputStream(client.getInputStream());\n            String Recv;\n            Recv = ois.readLine();\n\n            oos = new ObjectOutputStream(client.getOutputStream());\n            oos.writeChars(\"Welcome\");\n            oos.flush();\n\n            oos.close();\n\n        } catch (IOException e) {\n            System.err.println(e);\n            return;\n        }\n    }\n\n    public void run() {\n        String msg, response;\n        try {\n            System.out.print(\"checking\");\n            while ((msg = ois.readLine()) != null) {\n                System.out.print(msg);\n            }\n        } catch (IOException e) {\n            System.err.println(e);\n        }\n    }\n\n    public void sendMsg(String msg) throws IOException {\n        oos.writeChars(msg);\n    }\n}\n</code></pre>\n\n<p>Thanks~</p>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1691018716,"post_id":76823937,"comment_id":135435579,"body_markdown":"that is expected: I believe you have retrieved `initialState` via `em.find` or something similar, so actual state get stored in persistent context and HBN modifies that state when performing `merge`. Call `em.detach(initialState)` before calling `update`","body":"that is expected: I believe you have retrieved <code>initialState</code> via <code>em.find</code> or something similar, so actual state get stored in persistent context and HBN modifies that state when performing <code>merge</code>. Call <code>em.detach(initialState)</code> before calling <code>update</code>"}],"answers":[{"tags":[],"owner":{"account_id":5553822,"reputation":94,"user_id":4405995,"display_name":"Caio Costa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692276263,"creation_date":1691437645,"answer_id":76854774,"question_id":76823937,"body_markdown":"I&#39;ve solved it by using .toBuilder().build():\r\n```\r\nhibernateEntityAccess.update(original.toBuilder().build(), patchedData.toBuilder().build(), OperationTarget.ENTITY);\r\n```\r\nThis way my original variables didn&#39;t change.","title":"Hibernate&#39;s sessionFactory overwrites initialState entity after merge","body":"<p>I've solved it by using .toBuilder().build():</p>\n<pre><code>hibernateEntityAccess.update(original.toBuilder().build(), patchedData.toBuilder().build(), OperationTarget.ENTITY);\n</code></pre>\n<p>This way my original variables didn't change.</p>\n"}],"owner":{"account_id":5553822,"reputation":94,"user_id":4405995,"display_name":"Caio Costa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76854774,"answer_count":1,"score":0,"last_activity_date":1692276263,"creation_date":1691016296,"question_id":76823937,"body_markdown":"I&#39;m using Springboot and Hibernate in a project and I&#39;m doing a PATCH request.\r\nLong story short, I invoke an update with:\r\n```\r\nhibernateEntityAccess.update(original, patchedData, OperationTarget.ENTITY);\r\n```\r\nThis is the update invoked:\r\n\r\n```\r\n    @SyncChs\r\n    @Transactional(rollbackFor = Exception.class)\r\n    public void update(final Auditable&lt;?&gt; initialState, final Auditable&lt;?&gt; finalState, final OperationTarget target, final boolean isInternalOperation) throws IOException {\r\n        int key = operation.getCurrentSession().setInitial(initialState, (AuditableEntity) initialState, target, isInternalOperation);\r\n        Auditable&lt;?&gt; merged = (Auditable&lt;?&gt;) sessionFactory.getCurrentSession().merge(finalState);\r\n        operation.getCurrentSession().setFinal(key, merged, (AuditableEntity) finalState, isInternalOperation);\r\n    }\r\n```\r\nAfter `.merge(finalState)`, the data in `original` is overwritten with the data that was in `patchedData`.\r\nI&#39;ve made my entities clonable and tried this \r\n```\r\nhibernateEntityAccess.update(original.clone(), patchedData.clone(), OperationTarget.ENTITY);\r\n```\r\nto see if `original` variable would not be overwritten by merge but the same behavior occurred.\r\n\r\nDoes anyone have an idea of why this happens?","title":"Hibernate&#39;s sessionFactory overwrites initialState entity after merge","body":"<p>I'm using Springboot and Hibernate in a project and I'm doing a PATCH request.\nLong story short, I invoke an update with:</p>\n<pre><code>hibernateEntityAccess.update(original, patchedData, OperationTarget.ENTITY);\n</code></pre>\n<p>This is the update invoked:</p>\n<pre><code>    @SyncChs\n    @Transactional(rollbackFor = Exception.class)\n    public void update(final Auditable&lt;?&gt; initialState, final Auditable&lt;?&gt; finalState, final OperationTarget target, final boolean isInternalOperation) throws IOException {\n        int key = operation.getCurrentSession().setInitial(initialState, (AuditableEntity) initialState, target, isInternalOperation);\n        Auditable&lt;?&gt; merged = (Auditable&lt;?&gt;) sessionFactory.getCurrentSession().merge(finalState);\n        operation.getCurrentSession().setFinal(key, merged, (AuditableEntity) finalState, isInternalOperation);\n    }\n</code></pre>\n<p>After <code>.merge(finalState)</code>, the data in <code>original</code> is overwritten with the data that was in <code>patchedData</code>.\nI've made my entities clonable and tried this</p>\n<pre><code>hibernateEntityAccess.update(original.clone(), patchedData.clone(), OperationTarget.ENTITY);\n</code></pre>\n<p>to see if <code>original</code> variable would not be overwritten by merge but the same behavior occurred.</p>\n<p>Does anyone have an idea of why this happens?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1692259641,"post_id":76919480,"comment_id":135599772,"body_markdown":"While I get the close vote (especially because of OP&#39;s point 3...), this isn&#39;t really opinion based. We can answer this based on good design choices.","body":"While I get the close vote (especially because of OP&#39;s point 3...), this isn&#39;t really opinion based. We can answer this based on good design choices."}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1692259496,"creation_date":1692259496,"answer_id":76919551,"question_id":76919480,"body_markdown":"Each controller manages one entity type. So if you&#39;re retrieving media, the endpoint should be in the MediaController.\r\n\r\nInstead of making a new endpoint `media/me`, consider making `me` a filter on the normal GET (list) endpoint. That&#39;s much more scalable than having a new endpoint per thing you want to filter on. Let&#39;s say the next feature you want to add is filtering on media type. If you have both of those as filters on the same endpoint, now your users can combine those filters for free!","title":"What is a more appropriate API endpoint in my case?","body":"<p>Each controller manages one entity type. So if you're retrieving media, the endpoint should be in the MediaController.</p>\n<p>Instead of making a new endpoint <code>media/me</code>, consider making <code>me</code> a filter on the normal GET (list) endpoint. That's much more scalable than having a new endpoint per thing you want to filter on. Let's say the next feature you want to add is filtering on media type. If you have both of those as filters on the same endpoint, now your users can combine those filters for free!</p>\n"},{"tags":[],"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692265663,"creation_date":1692265663,"answer_id":76920352,"question_id":76919480,"body_markdown":"When I structure my REST resources, I always start with the client view: What would be most helpful to a web programmer?\r\n\r\nIn your example I can imagine that you have a list of users, select one and display his media. Then your REST path should be `/users/{userId}/medias`. If you have lots of other resources that belong to a user, your web programmer still has to use just one endpoint.","title":"What is a more appropriate API endpoint in my case?","body":"<p>When I structure my REST resources, I always start with the client view: What would be most helpful to a web programmer?</p>\n<p>In your example I can imagine that you have a list of users, select one and display his media. Then your REST path should be <code>/users/{userId}/medias</code>. If you have lots of other resources that belong to a user, your web programmer still has to use just one endpoint.</p>\n"},{"tags":[],"owner":{"account_id":22129385,"reputation":1,"user_id":16381149,"display_name":"Sergio J"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692276033,"creation_date":1692276033,"answer_id":76921629,"question_id":76919480,"body_markdown":"To make the API experience more enjoyable for the average consumer, consider packaging condition sets within an easily accessible REST path. For example, the &quot;my media&quot; query can be packaged as GET /media/me.","title":"What is a more appropriate API endpoint in my case?","body":"<p>To make the API experience more enjoyable for the average consumer, consider packaging condition sets within an easily accessible REST path. For example, the &quot;my media&quot; query can be packaged as GET /media/me.</p>\n"}],"owner":{"account_id":29242295,"reputation":1,"user_id":22403535,"display_name":"KH Eom"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1692492777,"answer_count":3,"score":-1,"last_activity_date":1692276033,"creation_date":1692258818,"question_id":76919480,"body_markdown":"There are two controllers, &quot;MediaController&quot; and &quot;UserController&quot; in my spring project.\r\n\r\nMediaController - contains CRUD endpoint related media\r\n\r\nUserController - contains CURD endpoint related user\r\n\r\nI want to make an endpoint which can retrieve &quot;my&quot; medias\r\n\r\nCould you help me understand which option is better?\r\n\r\n1. &quot;/users/me/medias&quot; - in UserController\r\n2. &quot;/medias/me&quot; - in MediaController\r\n\r\nor Is there a more standard option?\r\n\r\nLooking forward to your insights.","title":"What is a more appropriate API endpoint in my case?","body":"<p>There are two controllers, &quot;MediaController&quot; and &quot;UserController&quot; in my spring project.</p>\n<p>MediaController - contains CRUD endpoint related media</p>\n<p>UserController - contains CURD endpoint related user</p>\n<p>I want to make an endpoint which can retrieve &quot;my&quot; medias</p>\n<p>Could you help me understand which option is better?</p>\n<ol>\n<li>&quot;/users/me/medias&quot; - in UserController</li>\n<li>&quot;/medias/me&quot; - in MediaController</li>\n</ol>\n<p>or Is there a more standard option?</p>\n<p>Looking forward to your insights.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":117125,"reputation":13617,"user_id":306855,"accept_rate":73,"display_name":"Emil"},"score":2,"creation_date":1281339458,"post_id":3437897,"comment_id":3582094,"body_markdown":"Try answers in this question.I think its similar.\nhttp://stackoverflow.com/questions/1942644/get-generic-type-of-java-util-list/1942680#1942680","body":"Try answers in this question.I think its similar. <a href=\"http://stackoverflow.com/questions/1942644/get-generic-type-of-java-util-list/1942680#1942680\" title=\"get generic type of java util list\">stackoverflow.com/questions/1942644/&hellip;</a>"},{"owner":{"account_id":2863495,"reputation":3749,"user_id":2458234,"accept_rate":60,"display_name":"7hi4g0"},"score":3,"creation_date":1396361210,"post_id":3437897,"comment_id":34746179,"body_markdown":"possible duplicate of [Get generic type of class at runtime](http://stackoverflow.com/questions/3403909/get-generic-type-of-class-at-runtime)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/3403909/get-generic-type-of-class-at-runtime\">Get generic type of class at runtime</a>"},{"owner":{"account_id":207433,"reputation":1997,"user_id":457290,"accept_rate":64,"display_name":"matiasg"},"score":1,"creation_date":1413306767,"post_id":3437897,"comment_id":41390162,"body_markdown":"possible duplicate of [Instantiating a generic class in Java](http://stackoverflow.com/questions/1090458/instantiating-a-generic-class-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1090458/instantiating-a-generic-class-in-java\">Instantiating a generic class in Java</a>"},{"owner":{"account_id":5751247,"reputation":219,"user_id":4540861,"accept_rate":88,"display_name":"helloWorld"},"score":2,"creation_date":1549454348,"post_id":3437897,"comment_id":95906001,"body_markdown":"`import com.fasterxml.jackson.core.type.TypeReference; `\n`new TypeReference&lt;T&gt;(){}`","body":"<code>import com.fasterxml.jackson.core.type.TypeReference; </code> <code>new TypeReference&lt;T&gt;(){}</code>"},{"owner":{"account_id":2965471,"reputation":923,"user_id":2518705,"display_name":"RAM237"},"score":0,"creation_date":1640639823,"post_id":3437897,"comment_id":124623659,"body_markdown":"Yup, as the comment above suggests, workarounded it by providing `new TypeReference&lt;Foo&lt;Bar&gt;&gt;() {}` as a parameter to my deserialized model reader method.","body":"Yup, as the comment above suggests, workarounded it by providing <code>new TypeReference&lt;Foo&lt;Bar&gt;&gt;() {}</code> as a parameter to my deserialized model reader method."},{"owner":{"account_id":881914,"reputation":1409,"user_id":303623,"display_name":"Rick O&#39;Shea"},"score":0,"creation_date":1663810285,"post_id":3437897,"comment_id":130328706,"body_markdown":"Perfect solution: https://iqcode.com/code/java/get-class-from-generic-type-java","body":"Perfect solution: <a href=\"https://iqcode.com/code/java/get-class-from-generic-type-java\" rel=\"nofollow noreferrer\">iqcode.com/code/java/get-class-from-generic-type-java</a>"}],"answers":[{"tags":[],"owner":{"account_id":103731,"reputation":53285,"user_id":277683,"accept_rate":68,"display_name":"Konrad Garus"},"comment_count":0,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1443342198,"creation_date":1281337347,"answer_id":3437922,"question_id":3437897,"body_markdown":"You can&#39;t do it because of type erasure. See also Stack Overflow question *[Java generics - type erasure - when and what happens][1]*.\r\n\r\n  [1]: https://stackoverflow.com/questions/339699\r\n","title":"How do I get a class instance of generic type T?","body":"<p>You can't do it because of type erasure. See also Stack Overflow question <em><a href=\"https://stackoverflow.com/questions/339699\">Java generics - type erasure - when and what happens</a></em>.</p>\n"},{"comments":[{"owner":{"account_id":1230408,"reputation":6991,"user_id":1195139,"accept_rate":76,"display_name":"Ben Thurley"},"score":94,"creation_date":1353581931,"post_id":3437930,"comment_id":18494035,"body_markdown":"This answer does provide a valid solution but it is inaccurate to say there is no way to find the generic type at runtime. It turns out type erasure is far more complex than a blanket erasure. My answer shows you how to get the classes generic type.","body":"This answer does provide a valid solution but it is inaccurate to say there is no way to find the generic type at runtime. It turns out type erasure is far more complex than a blanket erasure. My answer shows you how to get the classes generic type."},{"owner":{"account_id":37976,"reputation":10329,"user_id":108781,"display_name":"Zsolt T&#246;r&#246;k"},"score":6,"creation_date":1370858068,"post_id":3437930,"comment_id":24599596,"body_markdown":"@BenThurley Neat trick, but as far as I can see it only works if there is a generic supertype for it to use. In my example, you can&#39;t retrieve the type of T in Foo&lt;T&gt;.","body":"@BenThurley Neat trick, but as far as I can see it only works if there is a generic supertype for it to use. In my example, you can&#39;t retrieve the type of T in Foo&lt;T&gt;."},{"owner":{"account_id":6803779,"reputation":711,"user_id":5236247,"accept_rate":100,"display_name":"Adowrath"},"score":0,"creation_date":1503644606,"post_id":3437930,"comment_id":78710297,"body_markdown":"@webjockey No, you shouldn&#39;t. Assigning the `typeParameterClass` without a default assignment in the constructor is perfectly fine. There&#39;s no need to set it a second time.","body":"@webjockey No, you shouldn&#39;t. Assigning the <code>typeParameterClass</code> without a default assignment in the constructor is perfectly fine. There&#39;s no need to set it a second time."},{"owner":{"account_id":3228095,"reputation":596,"user_id":2723942,"accept_rate":43,"display_name":"Paramvir Singh Karwal"},"score":0,"creation_date":1567166633,"post_id":3437930,"comment_id":101892840,"body_markdown":"This is the first solution that comes to mind, but at times it is not you who will be creating/initiating objects. So you will not be able to use constructor. For e.g. while retrieving JPA entities from database.","body":"This is the first solution that comes to mind, but at times it is not you who will be creating/initiating objects. So you will not be able to use constructor. For e.g. while retrieving JPA entities from database."},{"owner":{"account_id":13053348,"reputation":824,"user_id":9432967,"display_name":"Omid.N"},"score":0,"creation_date":1603471910,"post_id":3437930,"comment_id":114057887,"body_markdown":"@ZsoltT&#246;r&#246;k I think I found the solution to this problem. Please check my answer: https://stackoverflow.com/a/64504193/9432967","body":"@ZsoltT&#246;r&#246;k I think I found the solution to this problem. Please check my answer: <a href=\"https://stackoverflow.com/a/64504193/9432967\">stackoverflow.com/a/64504193/9432967</a>"},{"owner":{"account_id":7589207,"reputation":81,"user_id":5757341,"display_name":"Odravison"},"score":0,"creation_date":1640014968,"post_id":3437930,"comment_id":124488603,"body_markdown":"If Foo is annotated with `@Component` from Spring. Would Spring be able to initialize my Foo class if I use `@Autowired` for it?","body":"If Foo is annotated with <code>@Component</code> from Spring. Would Spring be able to initialize my Foo class if I use <code>@Autowired</code> for it?"}],"tags":[],"owner":{"account_id":37976,"reputation":10329,"user_id":108781,"display_name":"Zsolt T&#246;r&#246;k"},"comment_count":6,"down_vote_count":14,"up_vote_count":707,"is_accepted":true,"score":693,"last_activity_date":1281337788,"creation_date":1281337395,"answer_id":3437930,"question_id":3437897,"body_markdown":"The short answer is, that there is no way to find out the runtime type of generic type parameters in Java. I suggest reading the chapter about type erasure in the [Java Tutorial][1] for more details.\r\n\r\nA popular solution to this is to pass the `Class` of the type parameter into the constructor of the generic type, e.g.\r\n\r\n    class Foo&lt;T&gt; {\r\n        final Class&lt;T&gt; typeParameterClass;\r\n\r\n        public Foo(Class&lt;T&gt; typeParameterClass) {\r\n            this.typeParameterClass = typeParameterClass;\r\n        }\r\n\r\n        public void bar() {\r\n            // you can access the typeParameterClass here and do whatever you like\r\n        }\r\n    }\r\n        \r\n\r\n  [1]: http://download.oracle.com/javase/tutorial/java/generics/erasure.html","title":"How do I get a class instance of generic type T?","body":"<p>The short answer is, that there is no way to find out the runtime type of generic type parameters in Java. I suggest reading the chapter about type erasure in the <a href=\"http://download.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"noreferrer\">Java Tutorial</a> for more details.</p>\n\n<p>A popular solution to this is to pass the <code>Class</code> of the type parameter into the constructor of the generic type, e.g.</p>\n\n<pre><code>class Foo&lt;T&gt; {\n    final Class&lt;T&gt; typeParameterClass;\n\n    public Foo(Class&lt;T&gt; typeParameterClass) {\n        this.typeParameterClass = typeParameterClass;\n    }\n\n    public void bar() {\n        // you can access the typeParameterClass here and do whatever you like\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2998873,"reputation":17839,"user_id":2544762,"accept_rate":82,"display_name":"Alfred Huang"},"score":2,"creation_date":1517555818,"post_id":3437957,"comment_id":84151304,"body_markdown":"But it seemed cannot @autowired in actual use, any way to work around?","body":"But it seemed cannot @autowired in actual use, any way to work around?"},{"owner":{"account_id":87690,"reputation":142,"user_id":243034,"display_name":"Calebj"},"score":0,"creation_date":1590279483,"post_id":3437957,"comment_id":109621996,"body_markdown":"@AlfredHuang The work around would be to create a bean for the class that does this and not rely on autowiring.","body":"@AlfredHuang The work around would be to create a bean for the class that does this and not rely on autowiring."},{"owner":{"account_id":12969674,"reputation":713,"user_id":9375838,"display_name":"Leena"},"score":1,"creation_date":1646424097,"post_id":3437957,"comment_id":126128028,"body_markdown":"@Calebj Okay, How would I be doing that?","body":"@Calebj Okay, How would I be doing that?"}],"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"comment_count":3,"down_vote_count":3,"up_vote_count":47,"is_accepted":false,"score":44,"last_activity_date":1328809040,"creation_date":1281337670,"answer_id":3437957,"question_id":3437897,"body_markdown":"A standard approach/workaround/solution is to add a `class` object to the constructor(s), like:\r\n\r\n     public class Foo&lt;T&gt; {\r\n\r\n        private Class&lt;T&gt; type;\r\n        public Foo(Class&lt;T&gt; type) {\r\n          this.type = type;\r\n        }\r\n\r\n        public Class&lt;T&gt; getType() {\r\n          return type;\r\n        }\r\n\r\n        public T newInstance() {\r\n          return type.newInstance();\r\n        }\r\n     }","title":"How do I get a class instance of generic type T?","body":"<p>A standard approach/workaround/solution is to add a <code>class</code> object to the constructor(s), like:</p>\n\n<pre><code> public class Foo&lt;T&gt; {\n\n    private Class&lt;T&gt; type;\n    public Foo(Class&lt;T&gt; type) {\n      this.type = type;\n    }\n\n    public Class&lt;T&gt; getType() {\n      return type;\n    }\n\n    public T newInstance() {\n      return type.newInstance();\n    }\n }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":361335,"reputation":675,"user_id":703862,"accept_rate":75,"display_name":"ib84"},"score":0,"creation_date":1363165408,"post_id":3439659,"comment_id":21737350,"body_markdown":"@ Ricky Clarkson: I don&#39;t see how this factory should return parametrized foos. Could you please explain how you get Foo&lt;T&gt; out of this? It seems to me this gives only unparametrized Foo. Isn&#39;t the T in make10 simply Foo here?","body":"@ Ricky Clarkson: I don&#39;t see how this factory should return parametrized foos. Could you please explain how you get Foo&lt;T&gt; out of this? It seems to me this gives only unparametrized Foo. Isn&#39;t the T in make10 simply Foo here?"},{"owner":{"account_id":57768,"reputation":2919,"user_id":173074,"accept_rate":75,"display_name":"Ricky Clarkson"},"score":0,"creation_date":1363266297,"post_id":3439659,"comment_id":21787786,"body_markdown":"@ib84 I&#39;ve fixed the code; I seem to have missed that Foo was parameterised when I wrote the answer originally.","body":"@ib84 I&#39;ve fixed the code; I seem to have missed that Foo was parameterised when I wrote the answer originally."}],"tags":[],"owner":{"account_id":57768,"reputation":2919,"user_id":173074,"accept_rate":75,"display_name":"Ricky Clarkson"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1363266240,"creation_date":1281354442,"answer_id":3439659,"question_id":3437897,"body_markdown":"A better route than the Class the others suggested is to pass in an object that can do what you would have done with the Class, e.g., create a new instance.\r\n\r\n    interface Factory&lt;T&gt; {\r\n      T apply();\r\n    }\r\n\r\n    &lt;T&gt; void List&lt;T&gt; make10(Factory&lt;T&gt; factory) {\r\n      List&lt;T&gt; result = new ArrayList&lt;T&gt;();\r\n      for (int a = 0; a &lt; 10; a++)\r\n        result.add(factory.apply());\r\n      return result;\r\n    }\r\n\r\n    class FooFactory&lt;T&gt; implements Factory&lt;Foo&lt;T&gt;&gt; {\r\n      public Foo&lt;T&gt; apply() {\r\n        return new Foo&lt;T&gt;();\r\n      }\r\n    }\r\n\r\n    List&lt;Foo&lt;Integer&gt;&gt; foos = make10(new FooFactory&lt;Integer&gt;());\r\n\r\n\r\n","title":"How do I get a class instance of generic type T?","body":"<p>A better route than the Class the others suggested is to pass in an object that can do what you would have done with the Class, e.g., create a new instance.</p>\n\n<pre><code>interface Factory&lt;T&gt; {\n  T apply();\n}\n\n&lt;T&gt; void List&lt;T&gt; make10(Factory&lt;T&gt; factory) {\n  List&lt;T&gt; result = new ArrayList&lt;T&gt;();\n  for (int a = 0; a &lt; 10; a++)\n    result.add(factory.apply());\n  return result;\n}\n\nclass FooFactory&lt;T&gt; implements Factory&lt;Foo&lt;T&gt;&gt; {\n  public Foo&lt;T&gt; apply() {\n    return new Foo&lt;T&gt;();\n  }\n}\n\nList&lt;Foo&lt;Integer&gt;&gt; foos = make10(new FooFactory&lt;Integer&gt;());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2606029,"reputation":1689,"user_id":2257185,"accept_rate":75,"display_name":"ATG"},"score":6,"creation_date":1402011881,"post_id":5684761,"comment_id":37121046,"body_markdown":"This is easily the best answer on here!  Also, for what it&#39;s worth, this is the strategy that Google Guice uses for binding classes with `TypeLiteral`","body":"This is easily the best answer on here!  Also, for what it&#39;s worth, this is the strategy that Google Guice uses for binding classes with <code>TypeLiteral</code>"},{"owner":{"account_id":1081514,"reputation":3747,"user_id":1078390,"accept_rate":100,"display_name":"Martin Serrano"},"score":15,"creation_date":1426871069,"post_id":5684761,"comment_id":46562263,"body_markdown":"Note that every time this method of object construction is used, a new anonymous class is created.  In other words, two objects `a` and `b` created this way will both extend the same class but not have identical instance classes.  `a.getClass() != b.getClass()`","body":"Note that every time this method of object construction is used, a new anonymous class is created.  In other words, two objects <code>a</code> and <code>b</code> created this way will both extend the same class but not have identical instance classes.  <code>a.getClass() != b.getClass()</code>"},{"owner":{"account_id":2537509,"reputation":1426,"user_id":2204206,"accept_rate":62,"display_name":"Lior Chaga"},"score":3,"creation_date":1430990722,"post_id":5684761,"comment_id":48305718,"body_markdown":"There is one scenario in which this doesn&#39;t work. If Foo should implement an interface, such as Serializable, than the anonymous class would not be Serializable unless the class instantiating is. I tried to workaround it by creating a serializable factory class that creates the anonymous class derived from Foo, but then, for some reason, getActualTypeArguments returns the generic type instead of the actual class. For example: __(new FooFactory&lt;MyType&gt;()).createFoo()__","body":"There is one scenario in which this doesn&#39;t work. If Foo should implement an interface, such as Serializable, than the anonymous class would not be Serializable unless the class instantiating is. I tried to workaround it by creating a serializable factory class that creates the anonymous class derived from Foo, but then, for some reason, getActualTypeArguments returns the generic type instead of the actual class. For example: <b>(new FooFactory&lt;MyType&gt;()).createFoo()</b>"},{"owner":{"account_id":232897,"reputation":143,"user_id":498049,"display_name":"Krabat"},"score":0,"creation_date":1671530586,"post_id":5684761,"comment_id":132114039,"body_markdown":"In your example the `Class.forName( t.toString() )` raised a _ClassNotFoundException_ for me. Use this instead to get the real class name: `Class.forName( t.getTypeName() )`","body":"In your example the <code>Class.forName( t.toString() )</code> raised a <i>ClassNotFoundException</i> for me. Use this instead to get the real class name: <code>Class.forName( t.getTypeName() )</code>"}],"tags":[],"owner":{"account_id":117065,"reputation":3023,"user_id":306730,"display_name":"bert bruynooghe"},"comment_count":4,"down_vote_count":2,"up_vote_count":122,"is_accepted":false,"score":120,"last_activity_date":1502105879,"creation_date":1302933072,"answer_id":5684761,"question_id":3437897,"body_markdown":"There is a small loophole however: if you define your `Foo` class as abstract.\r\nThat would mean you have to instantiate you class as:\r\n\r\n    Foo&lt;MyType&gt; myFoo = new Foo&lt;MyType&gt;(){};\r\n(Note the double braces at the end.)\r\n\r\nNow you can retrieve the type of `T` at runtime:\r\n\r\n    Type mySuperclass = myFoo.getClass().getGenericSuperclass();\r\n    Type tType = ((ParameterizedType)mySuperclass).getActualTypeArguments()[0];\r\n\r\nNote however that `mySuperclass` has to be the superclass of the class definition actually defining the final type for `T`.\r\n\r\nIt is also not very elegant, but you have to decide whether you  prefer `new Foo&lt;MyType&gt;(){}` or `new Foo&lt;MyType&gt;(MyType.class);` in your code.\r\n\r\n----\r\n\r\nFor example:\r\n\r\n    import java.lang.reflect.ParameterizedType;\r\n    import java.lang.reflect.Type;\r\n    \r\n    import java.util.ArrayDeque;\r\n    import java.util.Deque;\r\n    import java.util.NoSuchElementException;\r\n\r\n    /**\r\n     * Captures and silently ignores stack exceptions upon popping.\r\n     */\r\n    public abstract class SilentStack&lt;E&gt; extends ArrayDeque&lt;E&gt; {\r\n      public E pop() {\r\n        try {\r\n          return super.pop();\r\n        }\r\n        catch( NoSuchElementException nsee ) {\r\n          return create();\r\n        }\r\n      }\r\n      \r\n      public E create() {\r\n        try {\r\n          Type sooper = getClass().getGenericSuperclass();\r\n          Type t = ((ParameterizedType)sooper).getActualTypeArguments()[ 0 ];\r\n    \r\n          return (E)(Class.forName( t.toString() ).newInstance());\r\n        }\r\n        catch( Exception e ) {\r\n          return null;\r\n        }\r\n      }\r\n    }\r\n\r\nThen:\r\n\r\n    public class Main {\r\n        // Note the braces...\r\n        private Deque&lt;String&gt; stack = new SilentStack&lt;String&gt;(){};\r\n    \r\n        public static void main( String args[] ) {\r\n          // Returns a new instance of String.\r\n          String s = stack.pop();\r\n          System.out.printf( &quot;s = &#39;%s&#39;\\n&quot;, s );\r\n        }\r\n    }\r\n\r\n","title":"How do I get a class instance of generic type T?","body":"<p>There is a small loophole however: if you define your <code>Foo</code> class as abstract.\nThat would mean you have to instantiate you class as:</p>\n\n<pre><code>Foo&lt;MyType&gt; myFoo = new Foo&lt;MyType&gt;(){};\n</code></pre>\n\n<p>(Note the double braces at the end.)</p>\n\n<p>Now you can retrieve the type of <code>T</code> at runtime:</p>\n\n<pre><code>Type mySuperclass = myFoo.getClass().getGenericSuperclass();\nType tType = ((ParameterizedType)mySuperclass).getActualTypeArguments()[0];\n</code></pre>\n\n<p>Note however that <code>mySuperclass</code> has to be the superclass of the class definition actually defining the final type for <code>T</code>.</p>\n\n<p>It is also not very elegant, but you have to decide whether you  prefer <code>new Foo&lt;MyType&gt;(){}</code> or <code>new Foo&lt;MyType&gt;(MyType.class);</code> in your code.</p>\n\n<hr>\n\n<p>For example:</p>\n\n<pre><code>import java.lang.reflect.ParameterizedType;\nimport java.lang.reflect.Type;\n\nimport java.util.ArrayDeque;\nimport java.util.Deque;\nimport java.util.NoSuchElementException;\n\n/**\n * Captures and silently ignores stack exceptions upon popping.\n */\npublic abstract class SilentStack&lt;E&gt; extends ArrayDeque&lt;E&gt; {\n  public E pop() {\n    try {\n      return super.pop();\n    }\n    catch( NoSuchElementException nsee ) {\n      return create();\n    }\n  }\n\n  public E create() {\n    try {\n      Type sooper = getClass().getGenericSuperclass();\n      Type t = ((ParameterizedType)sooper).getActualTypeArguments()[ 0 ];\n\n      return (E)(Class.forName( t.toString() ).newInstance());\n    }\n    catch( Exception e ) {\n      return null;\n    }\n  }\n}\n</code></pre>\n\n<p>Then:</p>\n\n<pre><code>public class Main {\n    // Note the braces...\n    private Deque&lt;String&gt; stack = new SilentStack&lt;String&gt;(){};\n\n    public static void main( String args[] ) {\n      // Returns a new instance of String.\n      String s = stack.pop();\n      System.out.printf( \"s = '%s'\\n\", s );\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"score":4,"creation_date":1369423297,"post_id":8093592,"comment_id":24113248,"body_markdown":"What do I do if items.isEmpty() is true?","body":"What do I do if items.isEmpty() is true?"}],"tags":[],"owner":{"account_id":534856,"reputation":5625,"user_id":904624,"accept_rate":81,"display_name":"Christine"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1321012292,"creation_date":1321012292,"answer_id":8093592,"question_id":3437897,"body_markdown":"Actually, I suppose you have a field in your class of type T. If there&#39;s no field of type T, what&#39;s the point of having a generic Type? So, you can simply do an instanceof on that field.\r\n\r\nIn my case, I have a &lt;pre&gt;List&amp;lt;T&amp;gt; items;&lt;/pre&gt; in my class, and I check if the class type is &quot;Locality&quot; by\r\n&lt;pre&gt;if (items.get(0) instanceof Locality) ...\r\n&lt;/pre&gt;\r\nOf course, this only works if the total number of possible classes is limited.","title":"How do I get a class instance of generic type T?","body":"<p>Actually, I suppose you have a field in your class of type T. If there's no field of type T, what's the point of having a generic Type? So, you can simply do an instanceof on that field.</p>\n\n<p>In my case, I have a <pre>List&lt;T&gt; items;</pre> in my class, and I check if the class type is \"Locality\" by</p>\n\n<pre>if (items.get(0) instanceof Locality) ...\n</pre>\n\n<p>Of course, this only works if the total number of possible classes is limited.</p>\n"},{"comments":[{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":1,"creation_date":1450110070,"post_id":9202329,"comment_id":56285210,"body_markdown":"please clarify meaning of **resolveTypeArgument** arguments","body":"please clarify meaning of <b>resolveTypeArgument</b> arguments"},{"owner":{"account_id":1230408,"reputation":6991,"user_id":1195139,"accept_rate":76,"display_name":"Ben Thurley"},"score":1,"creation_date":1450110622,"post_id":9202329,"comment_id":56285577,"body_markdown":"getClass() is a method of java.lang.Object which will return the class of the specific object at runtime, this is the object you want to resolve the type for. AbstractHibernateDao.class is just the name of the base class or superclass of the generic type class hierarchy. The import statement is included so you should be able to easily find the docs and check yourself. This is the page https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/GenericTypeResolver.html#resolveTypeArgument-java.lang.Class-java.lang.Class-","body":"getClass() is a method of java.lang.Object which will return the class of the specific object at runtime, this is the object you want to resolve the type for. AbstractHibernateDao.class is just the name of the base class or superclass of the generic type class hierarchy. The import statement is included so you should be able to easily find the docs and check yourself. This is the page <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/GenericTypeResolver.html#resolveTypeArgument-java.lang.Class-java.lang.Class-\" rel=\"nofollow noreferrer\">docs.spring.io/spring/docs/current/javadoc-api/org/&hellip;</a>"},{"owner":{"account_id":4995515,"reputation":2030,"user_id":4016254,"accept_rate":80,"display_name":"Erlan"},"score":0,"creation_date":1488525610,"post_id":9202329,"comment_id":72278975,"body_markdown":"What is the spring solution with **version 4.3.6** and higher. It doesn&#39;t work with spring 4.3.6.","body":"What is the spring solution with <b>version 4.3.6</b> and higher. It doesn&#39;t work with spring 4.3.6."},{"owner":{"account_id":1230408,"reputation":6991,"user_id":1195139,"accept_rate":76,"display_name":"Ben Thurley"},"score":0,"creation_date":1498130413,"post_id":9202329,"comment_id":76378630,"body_markdown":"@Erlan are you sure? I just checked the docs and this class is still present and the methods here haven&#39;t been deprecated.","body":"@Erlan are you sure? I just checked the docs and this class is still present and the methods here haven&#39;t been deprecated."},{"owner":{"account_id":4995518,"reputation":359,"user_id":4016256,"display_name":"Nick Breen"},"score":1,"creation_date":1506461601,"post_id":9202329,"comment_id":79829485,"body_markdown":"The link in &quot;Pure Java solution&quot; is broken, it is now http://blog.xebia.com/acessing-generic-types-at-runtime-in-java/","body":"The link in &quot;Pure Java solution&quot; is broken, it is now <a href=\"http://blog.xebia.com/acessing-generic-types-at-runtime-in-java/\" rel=\"nofollow noreferrer\">blog.xebia.com/acessing-generic-types-at-runtime-in-java</a>"},{"owner":{"account_id":193707,"reputation":34691,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"score":0,"creation_date":1536130029,"post_id":9202329,"comment_id":91307508,"body_markdown":"How does `genericType` get initialized?","body":"How does <code>genericType</code> get initialized?"},{"owner":{"account_id":1230408,"reputation":6991,"user_id":1195139,"accept_rate":76,"display_name":"Ben Thurley"},"score":1,"creation_date":1536146691,"post_id":9202329,"comment_id":91317525,"body_markdown":"@AlikElzin-kilaka it gets initialised in the constructor using the Spring class GenericTypeResolver.","body":"@AlikElzin-kilaka it gets initialised in the constructor using the Spring class GenericTypeResolver."},{"owner":{"account_id":7971724,"reputation":139,"user_id":6163065,"display_name":"Chris"},"score":0,"creation_date":1574728043,"post_id":9202329,"comment_id":104326283,"body_markdown":"The &quot;Pure Java solution&quot; link is broken again, is there an updated link?","body":"The &quot;Pure Java solution&quot; link is broken again, is there an updated link?"},{"owner":{"account_id":1230408,"reputation":6991,"user_id":1195139,"accept_rate":76,"display_name":"Ben Thurley"},"score":0,"creation_date":1574779246,"post_id":9202329,"comment_id":104346460,"body_markdown":"Actually the link still works fine but I&#39;ve added the code snippet from the blog article anyway. If you want to see the context for that snippet then follow the link.","body":"Actually the link still works fine but I&#39;ve added the code snippet from the blog article anyway. If you want to see the context for that snippet then follow the link."},{"owner":{"account_id":5408631,"reputation":4063,"user_id":4306260,"accept_rate":30,"display_name":"User"},"score":8,"creation_date":1588779981,"post_id":9202329,"comment_id":109032355,"body_markdown":"java.lang.ClassCastException: java.lang.Class cannot be cast to java.lang.reflect.ParameterizedType","body":"java.lang.ClassCastException: java.lang.Class cannot be cast to java.lang.reflect.ParameterizedType"},{"owner":{"account_id":145899,"reputation":8031,"user_id":356011,"accept_rate":95,"display_name":"marathon"},"score":1,"creation_date":1628122676,"post_id":9202329,"comment_id":121339368,"body_markdown":"neither of these work, at least with jdk16 - the first throws a class cast exception as noted above, the second just returns null.","body":"neither of these work, at least with jdk16 - the first throws a class cast exception as noted above, the second just returns null."},{"owner":{"account_id":1230408,"reputation":6991,"user_id":1195139,"accept_rate":76,"display_name":"Ben Thurley"},"score":0,"creation_date":1628615355,"post_id":9202329,"comment_id":121466742,"body_markdown":"I was curious about these problems and it&#39;s been years since I posted this so I wrote a little test app to prove if it still works. I found that both methods still work even in Java 16. You must be doing something wrong in your code if it doesn&#39;t work. My PoC is available on GitHub. https://github.com/benthurley82/generic-type-resolver-test","body":"I was curious about these problems and it&#39;s been years since I posted this so I wrote a little test app to prove if it still works. I found that both methods still work even in Java 16. You must be doing something wrong in your code if it doesn&#39;t work. My PoC is available on GitHub. <a href=\"https://github.com/benthurley82/generic-type-resolver-test\" rel=\"nofollow noreferrer\">github.com/benthurley82/generic-type-resolver-test</a>"},{"owner":{"account_id":367061,"reputation":52739,"user_id":712995,"accept_rate":100,"display_name":"Maxim"},"score":0,"creation_date":1636565911,"post_id":9202329,"comment_id":123593458,"body_markdown":"Doesn&#39;t work for me neither: `.getGenericSuperclass()` reports unresolved generic types.","body":"Doesn&#39;t work for me neither: <code>.getGenericSuperclass()</code> reports unresolved generic types."},{"owner":{"account_id":1230408,"reputation":6991,"user_id":1195139,"accept_rate":76,"display_name":"Ben Thurley"},"score":0,"creation_date":1636722231,"post_id":9202329,"comment_id":123638674,"body_markdown":"Perhaps have a look at the working example in my previous comment. It was working fine for me.","body":"Perhaps have a look at the working example in my previous comment. It was working fine for me."},{"owner":{"account_id":2601791,"reputation":543,"user_id":2253964,"display_name":"Keeley Hoek"},"score":3,"creation_date":1640642186,"post_id":9202329,"comment_id":124624190,"body_markdown":"@BenThurley I just went down the rabbit hole to understand why your code didn&#39;t work form me. The answer is that unfortunately it doesn&#39;t really work at all: your code gets the type parameter from the *declaration* of the class, not the type with which the generic class happened to be instantiated. In your github example `Foo` extends `AbstractFoo&lt;GenericType&gt;` where `GenericType` is a fixed class you also defined, so in this case the generic type argument of `Foo` can be read from the *declaration*. But if `GenericType` was instead a type parameter, this would not work.","body":"@BenThurley I just went down the rabbit hole to understand why your code didn&#39;t work form me. The answer is that unfortunately it doesn&#39;t really work at all: your code gets the type parameter from the <i>declaration</i> of the class, not the type with which the generic class happened to be instantiated. In your github example <code>Foo</code> extends <code>AbstractFoo&lt;GenericType&gt;</code> where <code>GenericType</code> is a fixed class you also defined, so in this case the generic type argument of <code>Foo</code> can be read from the <i>declaration</i>. But if <code>GenericType</code> was instead a type parameter, this would not work."}],"tags":[],"owner":{"account_id":1230408,"reputation":6991,"user_id":1195139,"accept_rate":76,"display_name":"Ben Thurley"},"comment_count":15,"down_vote_count":3,"up_vote_count":316,"is_accepted":false,"score":313,"last_activity_date":1689276562,"creation_date":1328739249,"answer_id":9202329,"question_id":3437897,"body_markdown":"I was looking for a way to do this myself without adding an extra dependency to the classpath. After some investigation I found that it ***is*** possible as long as you have a generic supertype with a non-generic subclass. This was OK for me as I was working with a [DAO][1] layer with a generic layer supertype. If this fits your scenario then it&#39;s the neatest approach IMHO.\r\n\r\nMost generics use cases I&#39;ve come across have some kind of generic supertype e.g. `List&lt;T&gt;` for `ArrayList&lt;T&gt;` or `GenericDAO&lt;T&gt;` for `DAO&lt;T&gt;`, etc.\r\n\r\n### Pure Java solution\r\n\r\nThe article *[Accessing generic types at runtime in Java][2]* explains how you can do it using pure Java.\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public Class reflectClassType() {\r\n      return ((Class) ((ParameterizedType) getClass()\r\n          .getGenericSuperclass()).getActualTypeArguments()[0]);\r\n    }\r\n\r\nThere are several limitations with this code. It will not work in all cases involving several levels of abstraction, or when your type is an array (e.g. `int[]`). For a more complete solution that extends this for more cases, [see this article](https://www.artima.com/weblogs/viewpost.jsp?thread=208860).\r\n\r\nNote again that this method only works with a non-generic/raw subclass. If you try to do this with a generic class, the type arguments will be unresolved, generic `TypeVariableImpl` objects still, whose class is `null`. For example:\r\n\r\n```java\r\nclass Generic&lt;T&gt;{\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public Class reflectClassType() {\r\n      return ((Class) ((ParameterizedType) getClass()\r\n          .getGenericSuperclass()).getActualTypeArguments()[0]);\r\n    }\r\n}\r\n\r\nclass ChildGeneric&lt;T&gt; extends Generic&lt;T&gt;{}\r\nclass ChildString extends Generic&lt;String&gt;{}\r\n\r\n// Error! Won&#39;t work, since the subclass is generic\r\nnew ChildGeneric&lt;String&gt;().reflectClassType();\r\n// Works; we create an anonymous, trivial, non-generic subclass\r\nnew ChildGeneric&lt;String&gt;(){}.reflectClsasType();\r\n// Works; we create an explicit non-generic subclass\r\nnew ChildString().reflectClassType(); // okay\r\n```\r\n\r\n### Spring solution\r\n\r\n[Spring][3] provides a utility class [GenericTypeResolver](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/GenericTypeResolver.html), which implements a more robust version of this technique. It comes with its own subtle limitations. In general, it will only work if the called for a non-generic class.\r\n\r\nMy project was using Spring so is the best approach for me as it looks neatest. I guess if you weren&#39;t using Spring you could write your own utility method.\r\n\r\n    import org.springframework.core.GenericTypeResolver;\r\n\r\n    public abstract class AbstractHibernateDao&lt;T extends DomainObject&gt; implements DataAccessObject&lt;T&gt;\r\n    {\r\n\r\n        @Autowired\r\n        private SessionFactory sessionFactory;\r\n\r\n        private final Class&lt;T&gt; genericType;\r\n\r\n        private final String RECORD_COUNT_HQL;\r\n        private final String FIND_ALL_HQL;\r\n\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public AbstractHibernateDao()\r\n        {\r\n            this.genericType = (Class&lt;T&gt;) GenericTypeResolver.resolveTypeArgument(getClass(), AbstractHibernateDao.class);\r\n            this.RECORD_COUNT_HQL = &quot;select count(*) from &quot; + this.genericType.getName();\r\n            this.FIND_ALL_HQL = &quot;from &quot; + this.genericType.getName() + &quot; t &quot;;\r\n        }\r\n\r\n### Full code example\r\n\r\nSome people are struggling in the comments to get this working so I wrote a small application to show both approaches in action.\r\nhttps://github.com/benthurley82/generic-type-resolver-test\r\n\r\nNote that in this code, the non-generic `Foo` subclass has a generic superclass `AbstractFoo`:\r\n\r\n```java\r\npublic class Foo extends AbstractFoo&lt;GenericType&gt;\r\n```\r\n\r\nwhich is what allows this method to work.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Data_access_object\r\n  [2]: https://web.archive.org/web/20180124022935/http://blog.xebia.com/acessing-generic-types-at-runtime-in-java/\r\n  [3]: http://en.wikipedia.org/wiki/Spring_Framework\r\n","title":"How do I get a class instance of generic type T?","body":"<p>I was looking for a way to do this myself without adding an extra dependency to the classpath. After some investigation I found that it <em><strong>is</strong></em> possible as long as you have a generic supertype with a non-generic subclass. This was OK for me as I was working with a <a href=\"http://en.wikipedia.org/wiki/Data_access_object\" rel=\"nofollow noreferrer\">DAO</a> layer with a generic layer supertype. If this fits your scenario then it's the neatest approach IMHO.</p>\n<p>Most generics use cases I've come across have some kind of generic supertype e.g. <code>List&lt;T&gt;</code> for <code>ArrayList&lt;T&gt;</code> or <code>GenericDAO&lt;T&gt;</code> for <code>DAO&lt;T&gt;</code>, etc.</p>\n<h3>Pure Java solution</h3>\n<p>The article <em><a href=\"https://web.archive.org/web/20180124022935/http://blog.xebia.com/acessing-generic-types-at-runtime-in-java/\" rel=\"nofollow noreferrer\">Accessing generic types at runtime in Java</a></em> explains how you can do it using pure Java.</p>\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\npublic Class reflectClassType() {\n  return ((Class) ((ParameterizedType) getClass()\n      .getGenericSuperclass()).getActualTypeArguments()[0]);\n}\n</code></pre>\n<p>There are several limitations with this code. It will not work in all cases involving several levels of abstraction, or when your type is an array (e.g. <code>int[]</code>). For a more complete solution that extends this for more cases, <a href=\"https://www.artima.com/weblogs/viewpost.jsp?thread=208860\" rel=\"nofollow noreferrer\">see this article</a>.</p>\n<p>Note again that this method only works with a non-generic/raw subclass. If you try to do this with a generic class, the type arguments will be unresolved, generic <code>TypeVariableImpl</code> objects still, whose class is <code>null</code>. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Generic&lt;T&gt;{\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public Class reflectClassType() {\n      return ((Class) ((ParameterizedType) getClass()\n          .getGenericSuperclass()).getActualTypeArguments()[0]);\n    }\n}\n\nclass ChildGeneric&lt;T&gt; extends Generic&lt;T&gt;{}\nclass ChildString extends Generic&lt;String&gt;{}\n\n// Error! Won't work, since the subclass is generic\nnew ChildGeneric&lt;String&gt;().reflectClassType();\n// Works; we create an anonymous, trivial, non-generic subclass\nnew ChildGeneric&lt;String&gt;(){}.reflectClsasType();\n// Works; we create an explicit non-generic subclass\nnew ChildString().reflectClassType(); // okay\n</code></pre>\n<h3>Spring solution</h3>\n<p><a href=\"http://en.wikipedia.org/wiki/Spring_Framework\" rel=\"nofollow noreferrer\">Spring</a> provides a utility class <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/GenericTypeResolver.html\" rel=\"nofollow noreferrer\">GenericTypeResolver</a>, which implements a more robust version of this technique. It comes with its own subtle limitations. In general, it will only work if the called for a non-generic class.</p>\n<p>My project was using Spring so is the best approach for me as it looks neatest. I guess if you weren't using Spring you could write your own utility method.</p>\n<pre><code>import org.springframework.core.GenericTypeResolver;\n\npublic abstract class AbstractHibernateDao&lt;T extends DomainObject&gt; implements DataAccessObject&lt;T&gt;\n{\n\n    @Autowired\n    private SessionFactory sessionFactory;\n\n    private final Class&lt;T&gt; genericType;\n\n    private final String RECORD_COUNT_HQL;\n    private final String FIND_ALL_HQL;\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public AbstractHibernateDao()\n    {\n        this.genericType = (Class&lt;T&gt;) GenericTypeResolver.resolveTypeArgument(getClass(), AbstractHibernateDao.class);\n        this.RECORD_COUNT_HQL = &quot;select count(*) from &quot; + this.genericType.getName();\n        this.FIND_ALL_HQL = &quot;from &quot; + this.genericType.getName() + &quot; t &quot;;\n    }\n</code></pre>\n<h3>Full code example</h3>\n<p>Some people are struggling in the comments to get this working so I wrote a small application to show both approaches in action.\n<a href=\"https://github.com/benthurley82/generic-type-resolver-test\" rel=\"nofollow noreferrer\">https://github.com/benthurley82/generic-type-resolver-test</a></p>\n<p>Note that in this code, the non-generic <code>Foo</code> subclass has a generic superclass <code>AbstractFoo</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Foo extends AbstractFoo&lt;GenericType&gt;\n</code></pre>\n<p>which is what allows this method to work.</p>\n"},{"comments":[{"owner":{"account_id":3228095,"reputation":596,"user_id":2723942,"accept_rate":43,"display_name":"Paramvir Singh Karwal"},"score":0,"creation_date":1567164820,"post_id":12994468,"comment_id":101892060,"body_markdown":"Yes it is, but i would like to leave very minimum that needs to be done while extending this class. Check droidpl&#39;s answer","body":"Yes it is, but i would like to leave very minimum that needs to be done while extending this class. Check droidpl&#39;s answer"}],"tags":[],"owner":{"account_id":1179380,"reputation":1392,"user_id":1154664,"accept_rate":75,"display_name":"user1154664"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1402011398,"creation_date":1350787269,"answer_id":12994468,"question_id":3437897,"body_markdown":"I had this problem in an abstract generic class. In this particular case, the solution is simpler:\r\n\r\n    abstract class Foo&lt;T&gt; {\r\n        abstract Class&lt;T&gt; getTClass();\r\n        //...\r\n    }\r\n\r\nand later on the derived class:\r\n\r\n    class Bar extends Foo&lt;Whatever&gt; {\r\n    \t@Override\r\n    \tClass&lt;T&gt; getTClass() {\r\n    \t\treturn Whatever.class;\r\n    \t}\r\n    }","title":"How do I get a class instance of generic type T?","body":"<p>I had this problem in an abstract generic class. In this particular case, the solution is simpler:</p>\n\n<pre><code>abstract class Foo&lt;T&gt; {\n    abstract Class&lt;T&gt; getTClass();\n    //...\n}\n</code></pre>\n\n<p>and later on the derived class:</p>\n\n<pre><code>class Bar extends Foo&lt;Whatever&gt; {\n    @Override\n    Class&lt;T&gt; getTClass() {\n        return Whatever.class;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":285018,"reputation":1609,"user_id":583446,"display_name":"Chris Wolf"},"score":0,"creation_date":1611966021,"post_id":14388385,"comment_id":116628336,"body_markdown":"This solution appears to require a generic super class like the other solutions here.","body":"This solution appears to require a generic super class like the other solutions here."}],"tags":[],"owner":{"account_id":105176,"reputation":13693,"user_id":280783,"accept_rate":91,"display_name":"Peter Tseng"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1583766903,"creation_date":1358457752,"answer_id":14388385,"question_id":3437897,"body_markdown":"It&#39;s possible:\r\n\r\n    class Foo&lt;T&gt; {\r\n      Class&lt;T&gt; clazz = (Class&lt;T&gt;) DAOUtil.getTypeArguments(Foo.class, this.getClass()).get(0);\r\n    }\r\n\r\nYou need two functions from [hibernate-generic-dao/blob/master/dao/src/main/java/com/googlecode/genericdao/dao/DAOUtil.java][1].\r\n\r\nFor more explanations, see *[Reflecting generics][2]*.\r\n\r\n  [1]: https://github.com/based2/hibernate-generic-dao/blob/master/dao/src/main/java/com/googlecode/genericdao/dao/DAOUtil.java\r\n\r\n  [2]: http://www.artima.com/weblogs/viewpost.jsp?thread=208860\r\n","title":"How do I get a class instance of generic type T?","body":"<p>It's possible:</p>\n\n<pre><code>class Foo&lt;T&gt; {\n  Class&lt;T&gt; clazz = (Class&lt;T&gt;) DAOUtil.getTypeArguments(Foo.class, this.getClass()).get(0);\n}\n</code></pre>\n\n<p>You need two functions from <a href=\"https://github.com/based2/hibernate-generic-dao/blob/master/dao/src/main/java/com/googlecode/genericdao/dao/DAOUtil.java\" rel=\"nofollow noreferrer\">hibernate-generic-dao/blob/master/dao/src/main/java/com/googlecode/genericdao/dao/DAOUtil.java</a>.</p>\n\n<p>For more explanations, see <em><a href=\"http://www.artima.com/weblogs/viewpost.jsp?thread=208860\" rel=\"nofollow noreferrer\">Reflecting generics</a></em>.</p>\n"},{"comments":[{"owner":{"account_id":3377694,"reputation":4854,"user_id":2835520,"accept_rate":100,"display_name":"IgniteCoders"},"score":1,"creation_date":1462907397,"post_id":22675121,"comment_id":61832018,"body_markdown":"`toString().split(&quot; &quot;)[1]` that was the problem, avoid the `&quot;class &quot;`","body":"<code>toString().split(&quot; &quot;)[1]</code> that was the problem, avoid the <code>&quot;class &quot;</code>"}],"tags":[],"owner":{"account_id":1699585,"reputation":5882,"user_id":1560067,"accept_rate":95,"display_name":"droidpl"},"comment_count":1,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1419417127,"creation_date":1395876037,"answer_id":22675121,"question_id":3437897,"body_markdown":"Imagine you have an abstract superclass that is generic:\r\n\r\n    public abstract class Foo&lt;? extends T&gt; {}\r\n\r\nAnd then you have a second class that extends Foo with a generic Bar that extends T:\r\n\r\n    public class Second extends Foo&lt;Bar&gt; {}\r\n\r\nYou can get the class `Bar.class` in the Foo class by selecting the `Type` (from bert bruynooghe answer) and infering it using `Class` instance:\r\n\r\n    Type mySuperclass = myFoo.getClass().getGenericSuperclass();\r\n    Type tType = ((ParameterizedType)mySuperclass).getActualTypeArguments()[0];\r\n    //Parse it as String\r\n    String className = tType.toString().split(&quot; &quot;)[1];\r\n    Class clazz = Class.forName(className);\r\n\r\nYou have to note this operation is not ideal, so it is a good idea to cache the computed value to avoid multiple calculations on this. One of the typical uses is in generic DAO implementation. \r\n\r\nThe final implementation:\r\n\r\n    public abstract class Foo&lt;T&gt; {\r\n    \r\n        private Class&lt;T&gt; inferedClass;\r\n    \r\n        public Class&lt;T&gt; getGenericClass(){\r\n            if(inferedClass == null){\r\n                Type mySuperclass = getClass().getGenericSuperclass();\r\n                Type tType = ((ParameterizedType)mySuperclass).getActualTypeArguments()[0];\r\n                String className = tType.toString().split(&quot; &quot;)[1];\r\n                inferedClass = Class.forName(className);\r\n            }\r\n            return inferedClass;\r\n        }\r\n    }\r\n\r\nThe value returned is Bar.class when invoked from Foo class in other function or from Bar class.","title":"How do I get a class instance of generic type T?","body":"<p>Imagine you have an abstract superclass that is generic:</p>\n\n<pre><code>public abstract class Foo&lt;? extends T&gt; {}\n</code></pre>\n\n<p>And then you have a second class that extends Foo with a generic Bar that extends T:</p>\n\n<pre><code>public class Second extends Foo&lt;Bar&gt; {}\n</code></pre>\n\n<p>You can get the class <code>Bar.class</code> in the Foo class by selecting the <code>Type</code> (from bert bruynooghe answer) and infering it using <code>Class</code> instance:</p>\n\n<pre><code>Type mySuperclass = myFoo.getClass().getGenericSuperclass();\nType tType = ((ParameterizedType)mySuperclass).getActualTypeArguments()[0];\n//Parse it as String\nString className = tType.toString().split(\" \")[1];\nClass clazz = Class.forName(className);\n</code></pre>\n\n<p>You have to note this operation is not ideal, so it is a good idea to cache the computed value to avoid multiple calculations on this. One of the typical uses is in generic DAO implementation. </p>\n\n<p>The final implementation:</p>\n\n<pre><code>public abstract class Foo&lt;T&gt; {\n\n    private Class&lt;T&gt; inferedClass;\n\n    public Class&lt;T&gt; getGenericClass(){\n        if(inferedClass == null){\n            Type mySuperclass = getClass().getGenericSuperclass();\n            Type tType = ((ParameterizedType)mySuperclass).getActualTypeArguments()[0];\n            String className = tType.toString().split(\" \")[1];\n            inferedClass = Class.forName(className);\n        }\n        return inferedClass;\n    }\n}\n</code></pre>\n\n<p>The value returned is Bar.class when invoked from Foo class in other function or from Bar class.</p>\n"},{"tags":[],"owner":{"account_id":536658,"reputation":6119,"user_id":905544,"display_name":"Abel ANEIROS"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1396442755,"creation_date":1396442755,"answer_id":22811963,"question_id":3437897,"body_markdown":"       \r\n       public &lt;T&gt; T yourMethodSignature(Class&lt;T&gt; type) {\r\n           \r\n            // get some object and check the type match the given type\r\n            Object result = ...            \r\n\r\n            if (type.isAssignableFrom(result.getClass())) {\r\n                return (T)result;\r\n            } else {\r\n                // handle the error\r\n            }\r\n       }\r\n","title":"How do I get a class instance of generic type T?","body":"<pre><code>   public &lt;T&gt; T yourMethodSignature(Class&lt;T&gt; type) {\n\n        // get some object and check the type match the given type\n        Object result = ...            \n\n        if (type.isAssignableFrom(result.getClass())) {\n            return (T)result;\n        } else {\n            // handle the error\n        }\n   }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5964676,"reputation":430,"user_id":4688730,"display_name":"Yaroslav Kovbas"},"score":3,"creation_date":1453301430,"post_id":33997207,"comment_id":57542371,"body_markdown":"getTypeName calls toString, so can be replaced by .getActualTypeArguments()[0].toString();","body":"getTypeName calls toString, so can be replaced by .getActualTypeArguments()[0].toString();"}],"tags":[],"owner":{"account_id":5964676,"reputation":430,"user_id":4688730,"display_name":"Yaroslav Kovbas"},"comment_count":1,"down_vote_count":2,"up_vote_count":25,"is_accepted":false,"score":23,"last_activity_date":1529225759,"creation_date":1448881772,"answer_id":33997207,"question_id":3437897,"body_markdown":"Here is a working solution:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    private&#160;Class&lt;T&gt; getGenericTypeClass() {\r\n    &#160;&#160;&#160;&#160;try&#160;{\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;String className = ((ParameterizedType) getClass().getGenericSuperclass()).getActualTypeArguments()[0].getTypeName();\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Class&lt;?&gt; clazz = Class.forName(className);\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return&#160;(Class&lt;T&gt;) clazz;\r\n    &#160;&#160;&#160;&#160;}&#160;catch&#160;(Exception e) {\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;throw new&#160;IllegalStateException(&quot;Class is not parametrized with generic type!!! Please use extends &lt;&gt; &quot;);\r\n    &#160;&#160;&#160;&#160;}\r\n    } \r\n\r\nNOTES:\r\n**Can be used only as superclass**\r\n\r\n 1. Has to be extended with typed class  (`Child extends Generic&lt;Integer&gt;`)\r\n\r\n***OR***\r\n\r\n 2. Has to be created as anonymous implementation (`new Generic&lt;Integer&gt;() {};`)   ","title":"How do I get a class instance of generic type T?","body":"<p>Here is a working solution:</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\nprivate Class&lt;T&gt; getGenericTypeClass() {\n    try {\n        String className = ((ParameterizedType) getClass().getGenericSuperclass()).getActualTypeArguments()[0].getTypeName();\n        Class&lt;?&gt; clazz = Class.forName(className);\n        return (Class&lt;T&gt;) clazz;\n    } catch (Exception e) {\n        throw new IllegalStateException(\"Class is not parametrized with generic type!!! Please use extends &lt;&gt; \");\n    }\n} \n</code></pre>\n\n<p>NOTES:\n<strong>Can be used only as superclass</strong></p>\n\n<ol>\n<li>Has to be extended with typed class  (<code>Child extends Generic&lt;Integer&gt;</code>)</li>\n</ol>\n\n<p><strong><em>OR</em></strong></p>\n\n<ol start=\"2\">\n<li>Has to be created as anonymous implementation (<code>new Generic&lt;Integer&gt;() {};</code>)   </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5100890,"reputation":2796,"user_id":4090550,"display_name":"Anil Agrawal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1480934637,"creation_date":1480934637,"answer_id":40972358,"question_id":3437897,"body_markdown":"If you are extending or implementing any class/interface that are using generics , you may get the Generic Type of parent class/interface, without modifying any existing class/interface at all.\r\n\r\nThere could be three possibilities, \r\n\r\n**Case 1**\r\nWhen your class is extending a class that is using Generics\r\n\r\n    public class TestGenerics {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tType type = TestMySuperGenericType.class.getGenericSuperclass();\r\n    \t\tType[] gTypes = ((ParameterizedType)type).getActualTypeArguments();\r\n\t\t\tfor(Type gType : gTypes){\r\n    \t\t\tSystem.out.println(&quot;Generic type:&quot;+gType.toString());\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n    class GenericClass&lt;T&gt; {\r\n    \tpublic void print(T obj){};\r\n    }\r\n\r\n    class TestMySuperGenericType extends GenericClass&lt;Integer&gt; {\r\n    }\r\n\r\n**Case 2**\r\nWhen your class is implementing an interface that is using Generics\r\n\r\n    public class TestGenerics {\r\n        public static void main(String[] args) {\r\n\t\t\tType[] interfaces = TestMySuperGenericType.class.getGenericInterfaces();\r\n            for(Type type : interfaces){\r\n\t\t\t\tType[] gTypes = ((ParameterizedType)type).getActualTypeArguments();\r\n\t\t\t\tfor(Type gType : gTypes){\r\n\t\t\t\t\tSystem.out.println(&quot;Generic type:&quot;+gType.toString());\r\n\t\t\t\t}\r\n            }\r\n        }\r\n    }\r\n\r\n    interface GenericClass&lt;T&gt; {\r\n        public void print(T obj);\r\n    }\r\n\r\n    class TestMySuperGenericType implements GenericClass&lt;Integer&gt; {\r\n    \tpublic void print(Integer obj){}\r\n    }\r\n\r\n**Case 3**\r\nWhen your interface is extending an interface that is using Generics\r\n\r\n    public class TestGenerics {\r\n        public static void main(String[] args) {\r\n\t\t\tType[] interfaces = TestMySuperGenericType.class.getGenericInterfaces();\r\n            for(Type type : interfaces){\r\n\t\t\t\tType[] gTypes = ((ParameterizedType)type).getActualTypeArguments();\r\n\t\t\t\tfor(Type gType : gTypes){\r\n\t\t\t\t\tSystem.out.println(&quot;Generic type:&quot;+gType.toString());\r\n\t\t\t\t}\r\n            }\r\n        }\r\n    }\r\n\r\n    interface GenericClass&lt;T&gt; {\r\n        public void print(T obj);\r\n    }\r\n\r\n    interface TestMySuperGenericType extends GenericClass&lt;Integer&gt; {\r\n    }","title":"How do I get a class instance of generic type T?","body":"<p>If you are extending or implementing any class/interface that are using generics , you may get the Generic Type of parent class/interface, without modifying any existing class/interface at all.</p>\n\n<p>There could be three possibilities, </p>\n\n<p><strong>Case 1</strong>\nWhen your class is extending a class that is using Generics</p>\n\n<pre><code>public class TestGenerics {\n    public static void main(String[] args) {\n        Type type = TestMySuperGenericType.class.getGenericSuperclass();\n        Type[] gTypes = ((ParameterizedType)type).getActualTypeArguments();\n        for(Type gType : gTypes){\n            System.out.println(\"Generic type:\"+gType.toString());\n        }\n    }\n}\n\nclass GenericClass&lt;T&gt; {\n    public void print(T obj){};\n}\n\nclass TestMySuperGenericType extends GenericClass&lt;Integer&gt; {\n}\n</code></pre>\n\n<p><strong>Case 2</strong>\nWhen your class is implementing an interface that is using Generics</p>\n\n<pre><code>public class TestGenerics {\n    public static void main(String[] args) {\n        Type[] interfaces = TestMySuperGenericType.class.getGenericInterfaces();\n        for(Type type : interfaces){\n            Type[] gTypes = ((ParameterizedType)type).getActualTypeArguments();\n            for(Type gType : gTypes){\n                System.out.println(\"Generic type:\"+gType.toString());\n            }\n        }\n    }\n}\n\ninterface GenericClass&lt;T&gt; {\n    public void print(T obj);\n}\n\nclass TestMySuperGenericType implements GenericClass&lt;Integer&gt; {\n    public void print(Integer obj){}\n}\n</code></pre>\n\n<p><strong>Case 3</strong>\nWhen your interface is extending an interface that is using Generics</p>\n\n<pre><code>public class TestGenerics {\n    public static void main(String[] args) {\n        Type[] interfaces = TestMySuperGenericType.class.getGenericInterfaces();\n        for(Type type : interfaces){\n            Type[] gTypes = ((ParameterizedType)type).getActualTypeArguments();\n            for(Type gType : gTypes){\n                System.out.println(\"Generic type:\"+gType.toString());\n            }\n        }\n    }\n}\n\ninterface GenericClass&lt;T&gt; {\n    public void print(T obj);\n}\n\ninterface TestMySuperGenericType extends GenericClass&lt;Integer&gt; {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3457181,"reputation":762,"user_id":2895411,"display_name":"nikolai.serdiuk"},"comment_count":0,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1498553127,"creation_date":1498553127,"answer_id":44775848,"question_id":3437897,"body_markdown":"I&#39;m using workaround for this:\r\n\r\n    class MyClass extends Foo&lt;T&gt; {\r\n    ....\r\n    }\r\n    \r\n    MyClass myClassInstance = MyClass.class.newInstance();","title":"How do I get a class instance of generic type T?","body":"<p>I'm using workaround for this:</p>\n\n<pre><code>class MyClass extends Foo&lt;T&gt; {\n....\n}\n\nMyClass myClassInstance = MyClass.class.newInstance();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3328167,"reputation":535,"user_id":2797663,"accept_rate":100,"display_name":"Riaan Schutte"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1505876484,"creation_date":1505875444,"answer_id":46312408,"question_id":3437897,"body_markdown":"As explained in other answers, to use this `ParameterizedType` approach, you need to extend the class, but that seems like extra work to make a whole new class that extends it...\r\n\r\nSo, making the class abstract it forces you to extend it, thus satisfying the subclassing requirement. (using lombok&#39;s @Getter).\r\n\r\n    @Getter\r\n    public abstract class ConfigurationDefinition&lt;T&gt; {\r\n    \r\n        private Class&lt;T&gt; type;\r\n        ...\r\n\r\n        public ConfigurationDefinition(...) {\r\n            this.type = (Class&lt;T&gt;) ((ParameterizedType) this.getClass().getGenericSuperclass()).getActualTypeArguments()[0];\r\n            ...\r\n        }\r\n    }\r\n\r\nNow to extend it without defining a new class. (Note the {} on the end... extended, but don&#39;t overwrite anything - unless you want to).\r\n\r\n    private ConfigurationDefinition&lt;String&gt; myConfigA = new ConfigurationDefinition&lt;String&gt;(...){};\r\n    private ConfigurationDefinition&lt;File&gt; myConfigB = new ConfigurationDefinition&lt;File&gt;(...){};\r\n    ...\r\n    Class stringType = myConfigA.getType();\r\n    Class fileType = myConfigB.getType();","title":"How do I get a class instance of generic type T?","body":"<p>As explained in other answers, to use this <code>ParameterizedType</code> approach, you need to extend the class, but that seems like extra work to make a whole new class that extends it...</p>\n\n<p>So, making the class abstract it forces you to extend it, thus satisfying the subclassing requirement. (using lombok's @Getter).</p>\n\n<pre><code>@Getter\npublic abstract class ConfigurationDefinition&lt;T&gt; {\n\n    private Class&lt;T&gt; type;\n    ...\n\n    public ConfigurationDefinition(...) {\n        this.type = (Class&lt;T&gt;) ((ParameterizedType) this.getClass().getGenericSuperclass()).getActualTypeArguments()[0];\n        ...\n    }\n}\n</code></pre>\n\n<p>Now to extend it without defining a new class. (Note the {} on the end... extended, but don't overwrite anything - unless you want to).</p>\n\n<pre><code>private ConfigurationDefinition&lt;String&gt; myConfigA = new ConfigurationDefinition&lt;String&gt;(...){};\nprivate ConfigurationDefinition&lt;File&gt; myConfigB = new ConfigurationDefinition&lt;File&gt;(...){};\n...\nClass stringType = myConfigA.getType();\nClass fileType = myConfigB.getType();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":123756,"reputation":4386,"user_id":318414,"accept_rate":95,"display_name":"simonalexander2005"},"score":2,"creation_date":1649426233,"post_id":47151206,"comment_id":126879528,"body_markdown":"I know this is a few years old, but this is returning me a `TypeVariableImpl&lt;T&gt;` rather than the class type of `T` itself","body":"I know this is a few years old, but this is returning me a <code>TypeVariableImpl&lt;T&gt;</code> rather than the class type of <code>T</code> itself"},{"owner":{"account_id":4835872,"reputation":2833,"user_id":3902603,"accept_rate":76,"display_name":"unknown6656"},"score":0,"creation_date":1649708022,"post_id":47151206,"comment_id":126940234,"body_markdown":"Be that as it may, `TypeVariableImpl&lt;T&gt;` seems to be assignable to `Class&lt;T&gt;`, doesn&#39;t it? At least, I do not get any compiler errors.... I have to admit, that I&#39;m not a java guy though ... so I might be missing some obvious flaw/drawback/consequence.","body":"Be that as it may, <code>TypeVariableImpl&lt;T&gt;</code> seems to be assignable to <code>Class&lt;T&gt;</code>, doesn&#39;t it? At least, I do not get any compiler errors.... I have to admit, that I&#39;m not a java guy though ... so I might be missing some obvious flaw/drawback/consequence."},{"owner":{"account_id":123756,"reputation":4386,"user_id":318414,"accept_rate":95,"display_name":"simonalexander2005"},"score":3,"creation_date":1649746119,"post_id":47151206,"comment_id":126947498,"body_markdown":"I&#39;m trying to use it in the creation of an EnumSet, and it doesn&#39;t seem to like it","body":"I&#39;m trying to use it in the creation of an EnumSet, and it doesn&#39;t seem to like it"}],"tags":[],"owner":{"account_id":4835872,"reputation":2833,"user_id":3902603,"accept_rate":76,"display_name":"unknown6656"},"comment_count":3,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1661069200,"creation_date":1510035634,"answer_id":47151206,"question_id":3437897,"body_markdown":"# Actually, it _is_ possible (_without_ external libraries!)\r\n\r\nThe following is my (ugly, yet effective) solution for this problem:\r\n\r\n    import java.lang.reflect.TypeVariable;\r\n\r\n\r\n    public static &lt;T&gt; Class&lt;T&gt; getGenericClass() {\r\n        __&lt;T&gt; instance = new __&lt;T&gt;();\r\n        TypeVariable&lt;?&gt;[] parameters = instance.getClass().getTypeParameters(); \r\n\r\n        return (Class&lt;T&gt;)parameters[0].getClass();\r\n    }\r\n    \r\n    // Generic helper class which (only) provides type information. This avoids the\r\n    //   usage of a local variable of type T, which would have to be initialized.\r\n    private final class __&lt;T&gt; {\r\n        private __() { }\r\n    }","title":"How do I get a class instance of generic type T?","body":"<h1>Actually, it <em>is</em> possible (<em>without</em> external libraries!)</h1>\n<p>The following is my (ugly, yet effective) solution for this problem:</p>\n<pre><code>import java.lang.reflect.TypeVariable;\n\n\npublic static &lt;T&gt; Class&lt;T&gt; getGenericClass() {\n    __&lt;T&gt; instance = new __&lt;T&gt;();\n    TypeVariable&lt;?&gt;[] parameters = instance.getClass().getTypeParameters(); \n\n    return (Class&lt;T&gt;)parameters[0].getClass();\n}\n\n// Generic helper class which (only) provides type information. This avoids the\n//   usage of a local variable of type T, which would have to be initialized.\nprivate final class __&lt;T&gt; {\n    private __() { }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12608377,"reputation":343,"user_id":9168450,"display_name":"Juan Urrego"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1514989261,"creation_date":1514988646,"answer_id":48079056,"question_id":3437897,"body_markdown":"I found a generic and simple way to do that. In my class I created a method that returns the generic type according to it&#39;s position in the class definition. Let&#39;s assume a class definition like this:\r\n\r\n    public class MyClass&lt;A, B, C&gt; {\r\n    \r\n    }\r\n\r\nNow let&#39;s create some attributes to persist the types:\r\n\r\n    public class MyClass&lt;A, B, C&gt; {\r\n    \r\n        private Class&lt;A&gt; aType;\r\n    \r\n        private Class&lt;B&gt; bType;\r\n    \r\n        private Class&lt;C&gt; cType;\r\n    \r\n    // Getters and setters (not necessary if you are going to use them internally)\r\n        \r\n        } \r\n\r\nThen you can create a generic method that returns the type based on the index of the generic definition:\r\n\r\n       /**\r\n         * Returns a {@link Type} object to identify generic types\r\n         * @return type\r\n         */\r\n        private Type getGenericClassType(int index) {\r\n            // To make it use generics without supplying the class type\r\n            Type type = getClass().getGenericSuperclass();\r\n    \r\n            while (!(type instanceof ParameterizedType)) {\r\n                if (type instanceof ParameterizedType) {\r\n                    type = ((Class&lt;?&gt;) ((ParameterizedType) type).getRawType()).getGenericSuperclass();\r\n                } else {\r\n                    type = ((Class&lt;?&gt;) type).getGenericSuperclass();\r\n                }\r\n            }\r\n    \r\n            return ((ParameterizedType) type).getActualTypeArguments()[index];\r\n        }\r\nFinally, in the constructor just call the method and send the index for each type. The complete code should look like:\r\n\r\n    public class MyClass&lt;A, B, C&gt; {\r\n    \r\n        private Class&lt;A&gt; aType;\r\n    \r\n        private Class&lt;B&gt; bType;\r\n    \r\n        private Class&lt;C&gt; cType;\r\n    \r\n    \r\n        public MyClass() {\r\n          this.aType = (Class&lt;A&gt;) getGenericClassType(0);\r\n          this.bType = (Class&lt;B&gt;) getGenericClassType(1);\r\n          this.cType = (Class&lt;C&gt;) getGenericClassType(2);\r\n        }\r\n\r\n       /**\r\n         * Returns a {@link Type} object to identify generic types\r\n         * @return type\r\n         */\r\n        private Type getGenericClassType(int index) {\r\n            \r\n            Type type = getClass().getGenericSuperclass();\r\n    \r\n            while (!(type instanceof ParameterizedType)) {\r\n                if (type instanceof ParameterizedType) {\r\n                    type = ((Class&lt;?&gt;) ((ParameterizedType) type).getRawType()).getGenericSuperclass();\r\n                } else {\r\n                    type = ((Class&lt;?&gt;) type).getGenericSuperclass();\r\n                }\r\n            }\r\n    \r\n            return ((ParameterizedType) type).getActualTypeArguments()[index];\r\n        }\r\n    }\r\n\r\n","title":"How do I get a class instance of generic type T?","body":"<p>I found a generic and simple way to do that. In my class I created a method that returns the generic type according to it's position in the class definition. Let's assume a class definition like this:</p>\n\n<pre><code>public class MyClass&lt;A, B, C&gt; {\n\n}\n</code></pre>\n\n<p>Now let's create some attributes to persist the types:</p>\n\n<pre><code>public class MyClass&lt;A, B, C&gt; {\n\n    private Class&lt;A&gt; aType;\n\n    private Class&lt;B&gt; bType;\n\n    private Class&lt;C&gt; cType;\n\n// Getters and setters (not necessary if you are going to use them internally)\n\n    } \n</code></pre>\n\n<p>Then you can create a generic method that returns the type based on the index of the generic definition:</p>\n\n<pre><code>   /**\n     * Returns a {@link Type} object to identify generic types\n     * @return type\n     */\n    private Type getGenericClassType(int index) {\n        // To make it use generics without supplying the class type\n        Type type = getClass().getGenericSuperclass();\n\n        while (!(type instanceof ParameterizedType)) {\n            if (type instanceof ParameterizedType) {\n                type = ((Class&lt;?&gt;) ((ParameterizedType) type).getRawType()).getGenericSuperclass();\n            } else {\n                type = ((Class&lt;?&gt;) type).getGenericSuperclass();\n            }\n        }\n\n        return ((ParameterizedType) type).getActualTypeArguments()[index];\n    }\n</code></pre>\n\n<p>Finally, in the constructor just call the method and send the index for each type. The complete code should look like:</p>\n\n<pre><code>public class MyClass&lt;A, B, C&gt; {\n\n    private Class&lt;A&gt; aType;\n\n    private Class&lt;B&gt; bType;\n\n    private Class&lt;C&gt; cType;\n\n\n    public MyClass() {\n      this.aType = (Class&lt;A&gt;) getGenericClassType(0);\n      this.bType = (Class&lt;B&gt;) getGenericClassType(1);\n      this.cType = (Class&lt;C&gt;) getGenericClassType(2);\n    }\n\n   /**\n     * Returns a {@link Type} object to identify generic types\n     * @return type\n     */\n    private Type getGenericClassType(int index) {\n\n        Type type = getClass().getGenericSuperclass();\n\n        while (!(type instanceof ParameterizedType)) {\n            if (type instanceof ParameterizedType) {\n                type = ((Class&lt;?&gt;) ((ParameterizedType) type).getRawType()).getGenericSuperclass();\n            } else {\n                type = ((Class&lt;?&gt;) type).getGenericSuperclass();\n            }\n        }\n\n        return ((ParameterizedType) type).getActualTypeArguments()[index];\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5714780,"reputation":5395,"user_id":4515438,"accept_rate":0,"display_name":"Vahe Gharibyan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565784320,"creation_date":1565784320,"answer_id":57494360,"question_id":3437897,"body_markdown":"This question is old, but now the best is use google `Gson`.\r\n\r\nAn example to get custom `viewModel`.\r\n\r\n    Class&lt;CustomViewModel&lt;String&gt;&gt; clazz = new GenericClass&lt;CustomViewModel&lt;String&gt;&gt;().getRawType();\r\n    CustomViewModel&lt;String&gt; viewModel = viewModelProvider.get(clazz);\r\n\r\n**Generic type class**\r\n\r\n    class GenericClass&lt;T&gt;(private val rawType: Class&lt;*&gt;) {\r\n    \r\n        constructor():this(`$Gson$Types`.getRawType(object : TypeToken&lt;T&gt;() {}.getType()))\r\n    \r\n        fun getRawType(): Class&lt;T&gt; {\r\n            return rawType as Class&lt;T&gt;\r\n        }\r\n    }","title":"How do I get a class instance of generic type T?","body":"<p>This question is old, but now the best is use google <code>Gson</code>.</p>\n\n<p>An example to get custom <code>viewModel</code>.</p>\n\n<pre><code>Class&lt;CustomViewModel&lt;String&gt;&gt; clazz = new GenericClass&lt;CustomViewModel&lt;String&gt;&gt;().getRawType();\nCustomViewModel&lt;String&gt; viewModel = viewModelProvider.get(clazz);\n</code></pre>\n\n<p><strong>Generic type class</strong></p>\n\n<pre><code>class GenericClass&lt;T&gt;(private val rawType: Class&lt;*&gt;) {\n\n    constructor():this(`$Gson$Types`.getRawType(object : TypeToken&lt;T&gt;() {}.getType()))\n\n    fun getRawType(): Class&lt;T&gt; {\n        return rawType as Class&lt;T&gt;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2922140,"reputation":482,"user_id":2504156,"accept_rate":70,"display_name":"Gana"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1567858951,"creation_date":1567858951,"answer_id":57833645,"question_id":3437897,"body_markdown":"That is pretty straight forward.\r\nIf you need from within the same class:\r\n\t\t\r\n\t\t\r\n\r\n    Class clazz = this.getClass();\r\n    ParameterizedType parameterizedType = (ParameterizedType) clazz.getGenericSuperclass();\r\n    try {\r\n    \t\tClass typeClass = Class.forName( parameterizedType.getActualTypeArguments()[0].getTypeName() );\r\n            // You have the instance of type &#39;T&#39; in typeClass variable\r\n    \t\t\t\r\n            System.out.println( &quot;Class instance name: &quot;+  typeClass.getName() );\r\n    \t} catch (ClassNotFoundException e) {\r\n    \t\tSystem.out.println( &quot;ClassNotFound!! Something wrong! &quot;+ e.getMessage() );\r\n    \t}\r\n\r\n","title":"How do I get a class instance of generic type T?","body":"<p>That is pretty straight forward.\nIf you need from within the same class:</p>\n\n<pre><code>Class clazz = this.getClass();\nParameterizedType parameterizedType = (ParameterizedType) clazz.getGenericSuperclass();\ntry {\n        Class typeClass = Class.forName( parameterizedType.getActualTypeArguments()[0].getTypeName() );\n        // You have the instance of type 'T' in typeClass variable\n\n        System.out.println( \"Class instance name: \"+  typeClass.getName() );\n    } catch (ClassNotFoundException e) {\n        System.out.println( \"ClassNotFound!! Something wrong! \"+ e.getMessage() );\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3405149,"reputation":454,"user_id":2856415,"accept_rate":45,"display_name":"Kovo"},"score":3,"creation_date":1653222844,"post_id":60351745,"comment_id":127793788,"body_markdown":"this works only if t is not null","body":"this works only if t is not null"}],"tags":[],"owner":{"account_id":2481039,"reputation":2395,"user_id":2160507,"display_name":"Pontios"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1582371148,"creation_date":1582371148,"answer_id":60351745,"question_id":3437897,"body_markdown":"I assume that, since you have a generic class, you would have a variable like that:\r\n\r\n    private T t;\r\n*(this variable needs to take a value at the constructor)*\r\n\r\nIn that case you can simply create the following method:\r\n\r\n    Class&lt;T&gt; getClassOfInstance()\r\n    {\r\n    \treturn (Class&lt;T&gt;) t.getClass();\r\n    }\r\n\r\nHope it helps!","title":"How do I get a class instance of generic type T?","body":"<p>I assume that, since you have a generic class, you would have a variable like that:</p>\n\n<pre><code>private T t;\n</code></pre>\n\n<p><em>(this variable needs to take a value at the constructor)</em></p>\n\n<p>In that case you can simply create the following method:</p>\n\n<pre><code>Class&lt;T&gt; getClassOfInstance()\n{\n    return (Class&lt;T&gt;) t.getClass();\n}\n</code></pre>\n\n<p>Hope it helps!</p>\n"},{"tags":[],"owner":{"account_id":2909312,"reputation":662,"user_id":2493938,"display_name":"Madhu Tomy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590268157,"creation_date":1590268157,"answer_id":61978602,"question_id":3437897,"body_markdown":"I wanted to pass T.class to a method which make use of Generics\r\n\r\nThe method **readFile** reads a .csv file specified by the fileName with fullpath. There can be csv files with different contents hence i need to pass the model file class so that i can get the appropriate objects. Since this is reading csv file i wanted to do in a generic way. For some reason or other none of the above solutions worked for me. I need to use \r\n`Class&lt;? extends T&gt; type` to make it work. I use opencsv library for parsing the CSV files.\r\n\r\n\r\n    private &lt;T&gt;List&lt;T&gt; readFile(String fileName, Class&lt;? extends T&gt; type) {\r\n\r\n        List&lt;T&gt; dataList = new ArrayList&lt;T&gt;();\r\n        try {\r\n            File file = new File(fileName);\r\n\r\n            Reader reader = new BufferedReader(new InputStreamReader(new FileInputStream(file)));\r\n            Reader headerReader = new BufferedReader(new InputStreamReader(new FileInputStream(file)));\r\n\r\n            CSVReader csvReader = new CSVReader(headerReader);\r\n            // create csv bean reader\r\n            CsvToBean&lt;T&gt; csvToBean = new CsvToBeanBuilder(reader)\r\n                    .withType(type)\r\n                    .withIgnoreLeadingWhiteSpace(true)\r\n                    .build();\r\n\r\n            dataList = csvToBean.parse();\r\n        }\r\n        catch (Exception ex) {\r\n            logger.error(&quot;Error: &quot;, ex);\r\n        }\r\n\r\n        return dataList;\r\n    }\r\n\r\n\r\nThis is how the readFile method is called\r\n\r\n    List&lt;RigSurfaceCSV&gt; rigSurfaceCSVDataList = readSurfaceFile(surfaceFileName, RigSurfaceCSV.class);","title":"How do I get a class instance of generic type T?","body":"<p>I wanted to pass T.class to a method which make use of Generics</p>\n\n<p>The method <strong>readFile</strong> reads a .csv file specified by the fileName with fullpath. There can be csv files with different contents hence i need to pass the model file class so that i can get the appropriate objects. Since this is reading csv file i wanted to do in a generic way. For some reason or other none of the above solutions worked for me. I need to use \n<code>Class&lt;? extends T&gt; type</code> to make it work. I use opencsv library for parsing the CSV files.</p>\n\n<pre><code>private &lt;T&gt;List&lt;T&gt; readFile(String fileName, Class&lt;? extends T&gt; type) {\n\n    List&lt;T&gt; dataList = new ArrayList&lt;T&gt;();\n    try {\n        File file = new File(fileName);\n\n        Reader reader = new BufferedReader(new InputStreamReader(new FileInputStream(file)));\n        Reader headerReader = new BufferedReader(new InputStreamReader(new FileInputStream(file)));\n\n        CSVReader csvReader = new CSVReader(headerReader);\n        // create csv bean reader\n        CsvToBean&lt;T&gt; csvToBean = new CsvToBeanBuilder(reader)\n                .withType(type)\n                .withIgnoreLeadingWhiteSpace(true)\n                .build();\n\n        dataList = csvToBean.parse();\n    }\n    catch (Exception ex) {\n        logger.error(\"Error: \", ex);\n    }\n\n    return dataList;\n}\n</code></pre>\n\n<p>This is how the readFile method is called</p>\n\n<pre><code>List&lt;RigSurfaceCSV&gt; rigSurfaceCSVDataList = readSurfaceFile(surfaceFileName, RigSurfaceCSV.class);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1624345732,"post_id":64504193,"comment_id":120326247,"body_markdown":"Which problem does this code actually solve? Change the method declaration to `public static void printMethods(Object t)` and it will do exactly the same. There is no “trick” in this answer but just an obsolete type parameter.","body":"Which problem does this code actually solve? Change the method declaration to <code>public static void printMethods(Object t)</code> and it will do exactly the same. There is no “trick” in this answer but just an obsolete type parameter."},{"owner":{"account_id":13053348,"reputation":824,"user_id":9432967,"display_name":"Omid.N"},"score":0,"creation_date":1624424801,"post_id":64504193,"comment_id":120351784,"body_markdown":"@Holger What if user wants to get the constructors of the object and call them to create new objects of that type?","body":"@Holger What if user wants to get the constructors of the object and call them to create new objects of that type?"},{"owner":{"account_id":13053348,"reputation":824,"user_id":9432967,"display_name":"Omid.N"},"score":0,"creation_date":1624425851,"post_id":64504193,"comment_id":120352027,"body_markdown":"Actually you can call `getConstructures()` on `clazz` to do it. Now the question is why the OP wants to get the `T.class` where he can just do `t.getClass()` ?","body":"Actually you can call <code>getConstructures()</code> on <code>clazz</code> to do it. Now the question is why the OP wants to get the <code>T.class</code> where he can just do <code>t.getClass()</code> ?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1624430973,"post_id":64504193,"comment_id":120353587,"body_markdown":"I asked what problem *your* code tries to solve. Asking “what if the user wants something else not shown in the answer” is not not an answer. Yes you can call `getConstructors` on a `Class` object. 1) *but your code doesn’t* 2) but it still doesn’t justify the use of the type parameter. The result of `t.getClass()` is `Class&lt;? extends Object&gt;`, whether you declare the parameter as `T` or `Object`. It makes no difference. You have an *unchecked type cast* `(Class&lt;T&gt;)` in your code. That’s not better than using `getClass().getConstructor().newInstance()` casting the result to whatever your want.","body":"I asked what problem <i>your</i> code tries to solve. Asking “what if the user wants something else not shown in the answer” is not not an answer. Yes you can call <code>getConstructors</code> on a <code>Class</code> object. 1) <i>but your code doesn’t</i> 2) but it still doesn’t justify the use of the type parameter. The result of <code>t.getClass()</code> is <code>Class&lt;? extends Object&gt;</code>, whether you declare the parameter as <code>T</code> or <code>Object</code>. It makes no difference. You have an <i>unchecked type cast</i> <code>(Class&lt;T&gt;)</code> in your code. That’s not better than using <code>getClass().getConstructor().newInstance()</code> casting the result to whatever your want."}],"tags":[],"owner":{"account_id":13053348,"reputation":824,"user_id":9432967,"display_name":"Omid.N"},"comment_count":4,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1616015748,"creation_date":1603471808,"answer_id":64504193,"question_id":3437897,"body_markdown":"Many people don&#39;t know this trick! Actually, I just found it today! It works like a dream! Just check this example out:\r\n\r\n    public static void main(String[] args) {\r\n        Date d=new Date();  //Or anything you want!\r\n        printMethods(d);\r\n    }\r\n\r\n    public static &lt;T&gt; void printMethods(T t){\r\n        Class&lt;T&gt; clazz= (Class&lt;T&gt;) t.getClass(); // There you go!\r\n        for ( Method m : clazz.getMethods()){\r\n            System.out.println( m.getName() );\r\n        }\r\n    }","title":"How do I get a class instance of generic type T?","body":"<p>Many people don't know this trick! Actually, I just found it today! It works like a dream! Just check this example out:</p>\n<pre><code>public static void main(String[] args) {\n    Date d=new Date();  //Or anything you want!\n    printMethods(d);\n}\n\npublic static &lt;T&gt; void printMethods(T t){\n    Class&lt;T&gt; clazz= (Class&lt;T&gt;) t.getClass(); // There you go!\n    for ( Method m : clazz.getMethods()){\n        System.out.println( m.getName() );\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652971235,"creation_date":1652971235,"answer_id":72306581,"question_id":3437897,"body_markdown":"I&#39;ve created an example based on one of two most promising solutions here from this question.\r\n\r\nThe result is however **not so promising**, at least for my use case.\r\n\r\n\r\n**Only one approach is working**, but you **need a super class** containing the method and the **generic** has to be **set in the child class** and **cannot be assigned dynamically** (which my use case sadly is)\r\n\r\n\r\n```\r\n\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport java.lang.reflect.ParameterizedType;\r\nimport java.lang.reflect.Type;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\nimport static org.junit.jupiter.api.Assertions.assertThrows;\r\n\r\n\r\npublic class GenericTest {\r\n\r\n    /**\r\n     * only this will work!\r\n     */\r\n    @Test\r\n    void testGetGenericTypeClassFromChildClassWithSpecifiedType() {\r\n        TestClassWithSpecifiedType parent = new TestClassWithSpecifiedType();\r\n        assertEquals(SomeGenericType.class, parent.getGenericTypeClass());\r\n    }\r\n\r\n    /**\r\n     * won&#39;t work!\r\n     */\r\n    @Test\r\n    void testGetGenericTypeClassFromChildClassWithUnspecifiedType() {\r\n        TestClassWithUnspecifiedType&lt;SomeGenericType&gt; parent = new TestClassWithUnspecifiedType&lt;&gt;();\r\n        assertThrows(IllegalStateException.class, parent::getGenericTypeClass);\r\n    }\r\n\r\n    /**\r\n     * won&#39;t work\r\n     */\r\n    @Test\r\n    void testGetGenericTypeClassWithUnspecifiedType() {\r\n        SomeGenericTypedClass&lt;SomeGenericType&gt; parent = new SomeGenericTypedClass&lt;&gt;();\r\n        assertThrows(IllegalStateException.class, parent::getGenericTypeClass);\r\n    }\r\n\r\n    /**\r\n     * won&#39;t work\r\n     * returns object instead!\r\n     */\r\n    @Test\r\n    void testGetLoadedClassFromObject() {\r\n        Foo&lt;SomeGenericType&gt; foo = new Foo&lt;&gt;();\r\n        Class&lt;?&gt; barClass = foo.getBarClass();\r\n        assertEquals(SomeGenericType.class, barClass);\r\n    }\r\n\r\n    /**\r\n     * A class that has specified the type parameter\r\n     */\r\n    public static class TestClassWithSpecifiedType extends AbstractGenericTypedClass&lt;SomeGenericType&gt; {\r\n\r\n    }\r\n\r\n    /**\r\n     * A class where the type parameter will be specified on demand\r\n     *\r\n     * @param &lt;T&gt;\r\n     */\r\n    public static class TestClassWithUnspecifiedType&lt;T&gt; extends AbstractGenericTypedClass&lt;T&gt; {\r\n\r\n    }\r\n\r\n    /**\r\n     * An abstract class, because otherwise finding the parameter will not work\r\n     */\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public static abstract class AbstractGenericTypedClass&lt;T&gt; {\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public Class&lt;T&gt; getGenericTypeClass() {\r\n            try {\r\n                String className = ((ParameterizedType) getClass().getGenericSuperclass()).getActualTypeArguments()[0].getTypeName();\r\n                Class&lt;?&gt; clazz = Class.forName(className);\r\n                return (Class&lt;T&gt;) clazz;\r\n            } catch (Exception e) {\r\n                throw new IllegalStateException(&quot;Class is not parametrized with generic type!!! Please use extends &lt;&gt; &quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * A typed class without abstract super class\r\n     *\r\n     * @param &lt;T&gt;\r\n     */\r\n    public static class SomeGenericTypedClass&lt;T&gt; {\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public Class&lt;T&gt; getGenericTypeClass() {\r\n            try {\r\n                String className = ((ParameterizedType) getClass().getGenericSuperclass()).getActualTypeArguments()[0].getTypeName();\r\n                Class&lt;?&gt; clazz = Class.forName(className);\r\n                return (Class&lt;T&gt;) clazz;\r\n            } catch (Exception e) {\r\n                throw new IllegalStateException(&quot;Class is not parametrized with generic type!!! Please use extends &lt;&gt; &quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * Some generic type - won&#39;t work with primitives such as String, Integer, Double!\r\n     */\r\n    public static class SomeGenericType {\r\n\r\n    }\r\n\r\n    public static class Foo&lt;T&gt; {\r\n        // The class:\r\n        private final Class&lt;?&gt; barClass;\r\n\r\n        public Foo() {\r\n            try {\r\n                // Im giving it [0] cuz Bar is the first TypeParam\r\n                Type[] bounds = getClass().getTypeParameters()[0].getBounds();\r\n                // Here, we get the class now:\r\n                barClass = Class.forName(bounds[0].getTypeName());\r\n            } catch (ClassNotFoundException e) {\r\n                // will never happen!\r\n                throw new Error(&quot;Something impossible happened!&quot;, e);\r\n            }\r\n        }\r\n\r\n        public Class&lt;?&gt; getBarClass() {\r\n            return barClass;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n&gt; I do not really understand why this has to be so complicated, but I bet there have to be some technical limitations for the dynamically setting of parameters.","title":"How do I get a class instance of generic type T?","body":"<p>I've created an example based on one of two most promising solutions here from this question.</p>\n<p>The result is however <strong>not so promising</strong>, at least for my use case.</p>\n<p><strong>Only one approach is working</strong>, but you <strong>need a super class</strong> containing the method and the <strong>generic</strong> has to be <strong>set in the child class</strong> and <strong>cannot be assigned dynamically</strong> (which my use case sadly is)</p>\n<pre><code>\nimport org.junit.jupiter.api.Test;\n\nimport java.lang.reflect.ParameterizedType;\nimport java.lang.reflect.Type;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.junit.jupiter.api.Assertions.assertThrows;\n\n\npublic class GenericTest {\n\n    /**\n     * only this will work!\n     */\n    @Test\n    void testGetGenericTypeClassFromChildClassWithSpecifiedType() {\n        TestClassWithSpecifiedType parent = new TestClassWithSpecifiedType();\n        assertEquals(SomeGenericType.class, parent.getGenericTypeClass());\n    }\n\n    /**\n     * won't work!\n     */\n    @Test\n    void testGetGenericTypeClassFromChildClassWithUnspecifiedType() {\n        TestClassWithUnspecifiedType&lt;SomeGenericType&gt; parent = new TestClassWithUnspecifiedType&lt;&gt;();\n        assertThrows(IllegalStateException.class, parent::getGenericTypeClass);\n    }\n\n    /**\n     * won't work\n     */\n    @Test\n    void testGetGenericTypeClassWithUnspecifiedType() {\n        SomeGenericTypedClass&lt;SomeGenericType&gt; parent = new SomeGenericTypedClass&lt;&gt;();\n        assertThrows(IllegalStateException.class, parent::getGenericTypeClass);\n    }\n\n    /**\n     * won't work\n     * returns object instead!\n     */\n    @Test\n    void testGetLoadedClassFromObject() {\n        Foo&lt;SomeGenericType&gt; foo = new Foo&lt;&gt;();\n        Class&lt;?&gt; barClass = foo.getBarClass();\n        assertEquals(SomeGenericType.class, barClass);\n    }\n\n    /**\n     * A class that has specified the type parameter\n     */\n    public static class TestClassWithSpecifiedType extends AbstractGenericTypedClass&lt;SomeGenericType&gt; {\n\n    }\n\n    /**\n     * A class where the type parameter will be specified on demand\n     *\n     * @param &lt;T&gt;\n     */\n    public static class TestClassWithUnspecifiedType&lt;T&gt; extends AbstractGenericTypedClass&lt;T&gt; {\n\n    }\n\n    /**\n     * An abstract class, because otherwise finding the parameter will not work\n     */\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public static abstract class AbstractGenericTypedClass&lt;T&gt; {\n        @SuppressWarnings(&quot;unchecked&quot;)\n        public Class&lt;T&gt; getGenericTypeClass() {\n            try {\n                String className = ((ParameterizedType) getClass().getGenericSuperclass()).getActualTypeArguments()[0].getTypeName();\n                Class&lt;?&gt; clazz = Class.forName(className);\n                return (Class&lt;T&gt;) clazz;\n            } catch (Exception e) {\n                throw new IllegalStateException(&quot;Class is not parametrized with generic type!!! Please use extends &lt;&gt; &quot;);\n            }\n        }\n    }\n\n    /**\n     * A typed class without abstract super class\n     *\n     * @param &lt;T&gt;\n     */\n    public static class SomeGenericTypedClass&lt;T&gt; {\n        @SuppressWarnings(&quot;unchecked&quot;)\n        public Class&lt;T&gt; getGenericTypeClass() {\n            try {\n                String className = ((ParameterizedType) getClass().getGenericSuperclass()).getActualTypeArguments()[0].getTypeName();\n                Class&lt;?&gt; clazz = Class.forName(className);\n                return (Class&lt;T&gt;) clazz;\n            } catch (Exception e) {\n                throw new IllegalStateException(&quot;Class is not parametrized with generic type!!! Please use extends &lt;&gt; &quot;);\n            }\n        }\n    }\n\n\n    /**\n     * Some generic type - won't work with primitives such as String, Integer, Double!\n     */\n    public static class SomeGenericType {\n\n    }\n\n    public static class Foo&lt;T&gt; {\n        // The class:\n        private final Class&lt;?&gt; barClass;\n\n        public Foo() {\n            try {\n                // Im giving it [0] cuz Bar is the first TypeParam\n                Type[] bounds = getClass().getTypeParameters()[0].getBounds();\n                // Here, we get the class now:\n                barClass = Class.forName(bounds[0].getTypeName());\n            } catch (ClassNotFoundException e) {\n                // will never happen!\n                throw new Error(&quot;Something impossible happened!&quot;, e);\n            }\n        }\n\n        public Class&lt;?&gt; getBarClass() {\n            return barClass;\n        }\n    }\n}\n\n</code></pre>\n<blockquote>\n<p>I do not really understand why this has to be so complicated, but I bet there have to be some technical limitations for the dynamically setting of parameters.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7242133,"reputation":1472,"user_id":5525384,"accept_rate":33,"display_name":"Paul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692275568,"creation_date":1692275568,"answer_id":76921568,"question_id":3437897,"body_markdown":"To be honest I used the solution with parameterized superclass constructor with the subclass type or with all type of reflection like `java.lang.reflect.ParameterizedType`, but it looks like ugly workaround for me.\r\n\r\nI prefer to use an abstract method. I&#39;m feeling like at least the contract between sub and superclass is more explicit.\r\n\r\n```\r\npublic abstract class MySuperClass&lt;T&gt; {\r\n\r\n    protected abstract T getSubClass();\r\n\r\n    // Example of usage in superclass\r\n    public String getName() {\r\n        return getSubClass().getClass().getSimpleName();\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class MySubClass extends MySuperClass&lt;MySubClass&gt; {\r\n\r\n    @Override\r\n    protected MySubClass getSubClass() {\r\n        return this;\r\n    }\r\n    // ...\r\n}\r\n```","title":"How do I get a class instance of generic type T?","body":"<p>To be honest I used the solution with parameterized superclass constructor with the subclass type or with all type of reflection like <code>java.lang.reflect.ParameterizedType</code>, but it looks like ugly workaround for me.</p>\n<p>I prefer to use an abstract method. I'm feeling like at least the contract between sub and superclass is more explicit.</p>\n<pre><code>public abstract class MySuperClass&lt;T&gt; {\n\n    protected abstract T getSubClass();\n\n    // Example of usage in superclass\n    public String getName() {\n        return getSubClass().getClass().getSimpleName();\n    }\n}\n</code></pre>\n<pre><code>public class MySubClass extends MySuperClass&lt;MySubClass&gt; {\n\n    @Override\n    protected MySubClass getSubClass() {\n        return this;\n    }\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":200226,"reputation":17730,"user_id":448452,"accept_rate":70,"display_name":"robinmag"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":981043,"favorite_count":0,"down_vote_count":0,"up_vote_count":896,"accepted_answer_id":3437930,"answer_count":24,"score":896,"last_activity_date":1692275568,"creation_date":1281337125,"question_id":3437897,"body_markdown":"I have a generics class, `Foo&lt;T&gt;`. In a method of `Foo`, I want to get the class instance of type `T`, but I just can&#39;t call `T.class`.\r\n\r\nWhat is the preferred way to get around it using `T.class`?\r\n","title":"How do I get a class instance of generic type T?","body":"<p>I have a generics class, <code>Foo&lt;T&gt;</code>. In a method of <code>Foo</code>, I want to get the class instance of type <code>T</code>, but I just can't call <code>T.class</code>.</p>\n\n<p>What is the preferred way to get around it using <code>T.class</code>?</p>\n"},{"tags":["java","nio","java-io","watchservice"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1692283950,"post_id":76921556,"comment_id":135604938,"body_markdown":"In your registerSubdirectories method, you registered for watch events on the immutable Path object `C:\\niotest\\pre_rename`.  Watch events are associated with the watched Path object.  I think in order to see the updated Path, you will have to re-register your WatchService on the newly “created” directory, and unregister from the “deleted” directory.","body":"In your registerSubdirectories method, you registered for watch events on the immutable Path object <code>C:\\niotest\\pre_rename</code>.  Watch events are associated with the watched Path object.  I think in order to see the updated Path, you will have to re-register your WatchService on the newly “created” directory, and unregister from the “deleted” directory."}],"owner":{"account_id":29235612,"reputation":11,"user_id":22398310,"display_name":"paul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692275470,"creation_date":1692275470,"question_id":76921556,"body_markdown":"I am currently working on a project with Java NIO which should simply observe all subdirectories and files located in a specific directory. When a Delete or Create event happens it should be printed to the console. I implemented this and discovered a problem, which I couldnt solve after hours of trying.\r\n\r\nSo creating and deleting folders and files in all kinds of subfolders works well but if you rename a folder and try to create a file in that newly renamed folder you get wrong values from Java NIO. I will try to explain it in an example:\r\n\r\n\r\n```\r\nContext: pre_rename\r\nKind: ENTRY_DELETE\r\nWatchable: C:\\niotest\r\nDir: C:\\niotest\r\nContext Path: C:\\niotest\\pre_rename\r\n-------------------------------------\r\nContext: post_rename\r\nKind: ENTRY_CREATE\r\nWatchable: C:\\niotest\r\nDir: C:\\niotest\r\nContext Path: C:\\niotest\\post_rename\r\nC:\\niotest registered\r\n-------------------------------------\r\nContext: testfile.txt\r\nKind: ENTRY_CREATE\r\nWatchable: C:\\niotest\\pre_rename\r\nDir: C:\\niotest\\pre_rename\r\nContext Path: C:\\niotest\\pre_rename\\testfile.txt\r\nC:\\niotest\\pre_rename registered\r\n-------------------------------------\r\n```\r\n\r\nThis is the output I get from renaming the folder &quot;pre_rename&quot; to &quot;post_rename&quot; (Delete followed by Create) and after that creating the file &quot;testfile.txt&quot; in &quot;post_rename&quot;. As you can see, the path given by NIO still contatins pre_rename instead of post_rename in the last section. Can you guys help me how to fix this?\r\nIn the following I will share my code:\r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.nio.file.*;\r\nimport java.nio.file.attribute.BasicFileAttributes;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        try(WatchService watchService = FileSystems.getDefault().newWatchService()){\r\n            Path directory = Path.of(&quot;C:\\\\niotest&quot;);\r\n            registerSubdirectories(directory, watchService);\r\n\r\n            WatchKey key;\r\n            while((key = watchService.take()) != null){\r\n                for(WatchEvent event : key.pollEvents()){\r\n                    System.out.println(&quot;Context: &quot; + event.context());\r\n                    System.out.println(&quot;Kind: &quot; + event.kind());\r\n                    System.out.println(&quot;Watchable: &quot; + key.watchable());\r\n                    Path dir = (Path) key.watchable();\r\n                    System.out.println(&quot;Dir: &quot; + dir);\r\n                    Path contextPath = dir.resolve((Path) event.context());\r\n                    System.out.println(&quot;Context Path: &quot; + contextPath);\r\n                    if(event.kind() == StandardWatchEventKinds.ENTRY_CREATE){\r\n                        registerSubdirectories(directory, watchService);\r\n                        System.out.println(dir + &quot; registered&quot;);\r\n                    }\r\n                    System.out.println(&quot;-------------------------------------&quot;);\r\n                }\r\n                key.reset();\r\n            }\r\n        }\r\n        catch (IOException e){\r\n            e.printStackTrace();\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    private static void registerSubdirectories(Path start, WatchService watchService) throws IOException {\r\n        Files.walkFileTree(start, new SimpleFileVisitor&lt;Path&gt;() {\r\n            @Override\r\n            public FileVisitResult preVisitDirectory(Path dir, BasicFileAttributes attributes) throws IOException {\r\n                dir.register(watchService, StandardWatchEventKinds.ENTRY_CREATE, StandardWatchEventKinds.ENTRY_DELETE);\r\n                //System.out.println(dir);\r\n                return FileVisitResult.CONTINUE;\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n```\r\n \r\n\r\nI trying playing around with key.close() and reset() but none of it really worked. I also tried to change minor thinks in the registerSubdirectories method. \r\n\r\nTo me it looks like NIO is observing the old and the new name of the folder (in my case pre and post_rename) and therefore probably just prefers to return the old path but I havenot found a way to clear one specific path and I am not 100% sure if that is even the problem either.\r\n\r\nIf any infos or something are missing please let me know.\r\nLooking forward to your replies, thanks in advance!","title":"Java NIO: Problem creating files in a renamed folder when observing a file tree","body":"<p>I am currently working on a project with Java NIO which should simply observe all subdirectories and files located in a specific directory. When a Delete or Create event happens it should be printed to the console. I implemented this and discovered a problem, which I couldnt solve after hours of trying.</p>\n<p>So creating and deleting folders and files in all kinds of subfolders works well but if you rename a folder and try to create a file in that newly renamed folder you get wrong values from Java NIO. I will try to explain it in an example:</p>\n<pre><code>Context: pre_rename\nKind: ENTRY_DELETE\nWatchable: C:\\niotest\nDir: C:\\niotest\nContext Path: C:\\niotest\\pre_rename\n-------------------------------------\nContext: post_rename\nKind: ENTRY_CREATE\nWatchable: C:\\niotest\nDir: C:\\niotest\nContext Path: C:\\niotest\\post_rename\nC:\\niotest registered\n-------------------------------------\nContext: testfile.txt\nKind: ENTRY_CREATE\nWatchable: C:\\niotest\\pre_rename\nDir: C:\\niotest\\pre_rename\nContext Path: C:\\niotest\\pre_rename\\testfile.txt\nC:\\niotest\\pre_rename registered\n-------------------------------------\n</code></pre>\n<p>This is the output I get from renaming the folder &quot;pre_rename&quot; to &quot;post_rename&quot; (Delete followed by Create) and after that creating the file &quot;testfile.txt&quot; in &quot;post_rename&quot;. As you can see, the path given by NIO still contatins pre_rename instead of post_rename in the last section. Can you guys help me how to fix this?\nIn the following I will share my code:</p>\n<pre><code>import java.io.IOException;\nimport java.nio.file.*;\nimport java.nio.file.attribute.BasicFileAttributes;\n\npublic class Main {\n    public static void main(String[] args) {\n        try(WatchService watchService = FileSystems.getDefault().newWatchService()){\n            Path directory = Path.of(&quot;C:\\\\niotest&quot;);\n            registerSubdirectories(directory, watchService);\n\n            WatchKey key;\n            while((key = watchService.take()) != null){\n                for(WatchEvent event : key.pollEvents()){\n                    System.out.println(&quot;Context: &quot; + event.context());\n                    System.out.println(&quot;Kind: &quot; + event.kind());\n                    System.out.println(&quot;Watchable: &quot; + key.watchable());\n                    Path dir = (Path) key.watchable();\n                    System.out.println(&quot;Dir: &quot; + dir);\n                    Path contextPath = dir.resolve((Path) event.context());\n                    System.out.println(&quot;Context Path: &quot; + contextPath);\n                    if(event.kind() == StandardWatchEventKinds.ENTRY_CREATE){\n                        registerSubdirectories(directory, watchService);\n                        System.out.println(dir + &quot; registered&quot;);\n                    }\n                    System.out.println(&quot;-------------------------------------&quot;);\n                }\n                key.reset();\n            }\n        }\n        catch (IOException e){\n            e.printStackTrace();\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    private static void registerSubdirectories(Path start, WatchService watchService) throws IOException {\n        Files.walkFileTree(start, new SimpleFileVisitor&lt;Path&gt;() {\n            @Override\n            public FileVisitResult preVisitDirectory(Path dir, BasicFileAttributes attributes) throws IOException {\n                dir.register(watchService, StandardWatchEventKinds.ENTRY_CREATE, StandardWatchEventKinds.ENTRY_DELETE);\n                //System.out.println(dir);\n                return FileVisitResult.CONTINUE;\n            }\n        });\n    }\n}\n\n</code></pre>\n<p>I trying playing around with key.close() and reset() but none of it really worked. I also tried to change minor thinks in the registerSubdirectories method.</p>\n<p>To me it looks like NIO is observing the old and the new name of the folder (in my case pre and post_rename) and therefore probably just prefers to return the old path but I havenot found a way to clear one specific path and I am not 100% sure if that is even the problem either.</p>\n<p>If any infos or something are missing please let me know.\nLooking forward to your replies, thanks in advance!</p>\n"},{"tags":["java","http","post"],"comments":[{"owner":{"account_id":1949626,"reputation":13702,"user_id":1754020,"accept_rate":87,"display_name":"Eddie Martinez"},"score":0,"creation_date":1488580656,"post_id":42589576,"comment_id":72311532,"body_markdown":"can you post stacktrace?","body":"can you post stacktrace?"},{"owner":{"account_id":3577045,"reputation":331,"user_id":2986018,"display_name":"user2986018"},"score":0,"creation_date":1488583702,"post_id":42589576,"comment_id":72312463,"body_markdown":"Please find the stack trace\n\njava.lang.IllegalStateException: Cannot use BufferedReader while ServletInputStream is in use\n\tat com.ibm.domino.xsp.bridge.http.servlet.XspCmdHttpServletRequest.getReader(XspCmdHttpServletRequest.java:1373)\n\n\tat com.ibm.designer.runtime.domino.adapter.servlet.LCDAdapterHttpServletRequest.getReader(LCDAdapterHttpServletRequest.java:324)\n\tat \n\ncom.ibm.xsp.http.FileUploadRequestWrapper.getReader(FileUploadRequestWrapper.java:703)\nat \n\njavax.servlet.ServletRequestWrapper.getReader(ServletRequestWrapper.java:251)","body":"Please find the stack trace  java.lang.IllegalStateException: Cannot use BufferedReader while ServletInputStream is in use \tat com.ibm.domino.xsp.bridge.http.servlet.XspCmdHttpServletRequ&zwnj;&#8203;est.getReader(XspCmd&zwnj;&#8203;HttpServletRequest.j&zwnj;&#8203;ava:1373)  \tat com.ibm.designer.runtime.domino.adapter.servlet.LCDAdapterHt&zwnj;&#8203;tpServletRequest.get&zwnj;&#8203;Reader(LCDAdapterHtt&zwnj;&#8203;pServletRequest.java&zwnj;&#8203;:324) \tat   com.ibm.xsp.http.FileUploadRequestWrapper.getReader(FileUplo&zwnj;&#8203;adRequestWrapper.jav&zwnj;&#8203;a:703) at   javax.servlet.ServletRequestWrapper.getReader(ServletRequest&zwnj;&#8203;Wrapper.java:251)"}],"answers":[{"comments":[{"owner":{"account_id":3577045,"reputation":331,"user_id":2986018,"display_name":"user2986018"},"score":0,"creation_date":1488583565,"post_id":42589767,"comment_id":72312428,"body_markdown":"I tried removing as you suggest, Still throwing the same error message. Any other thoughts","body":"I tried removing as you suggest, Still throwing the same error message. Any other thoughts"},{"owner":{"account_id":1949626,"reputation":13702,"user_id":1754020,"accept_rate":87,"display_name":"Eddie Martinez"},"score":0,"creation_date":1488583675,"post_id":42589767,"comment_id":72312456,"body_markdown":"Can you try adding a finally and closing all connections ?","body":"Can you try adding a finally and closing all connections ?"},{"owner":{"account_id":3577045,"reputation":331,"user_id":2986018,"display_name":"user2986018"},"score":0,"creation_date":1488584495,"post_id":42589767,"comment_id":72312705,"body_markdown":"Added finally.Looks like the connection is returning null, let me go to debug mode and see why the connection is null.\nfinally{\n\t\t\tSystem.out.println(&quot;executing finally&quot;);\n\t\t\tif (connection !=null){\n\t\t\t\tSystem.out.println(&quot;DISCONNECTING&quot;);\n\t\t\t\tconnection.disconnect();\n\t\t\t}else{\n\t\t\t\tSystem.out.println(&quot;connection is null&quot;);\n\t\t\t}\n\t\t}","body":"Added finally.Looks like the connection is returning null, let me go to debug mode and see why the connection is null. finally{ \t\t\tSystem.out.println(&quot;executing finally&quot;); \t\t\tif (connection !=null){ \t\t\t\tSystem.out.println(&quot;DISCONNECTING&quot;); \t\t\t\tconnection.disconnect(); \t\t\t}else{ \t\t\t\tSystem.out.println(&quot;connection is null&quot;); \t\t\t} \t\t}"},{"owner":{"account_id":3577045,"reputation":331,"user_id":2986018,"display_name":"user2986018"},"score":0,"creation_date":1488584949,"post_id":42589767,"comment_id":72312821,"body_markdown":"No luck...removed the finally for now...I see that the call reached the end point as it print status messages on the server.\nI have a feeling that it&#39;s due to Sync nature of Java calls as the chances it executes the next line of code before the server code finishes it&#39;s execution.\nAny other thoughts...","body":"No luck...removed the finally for now...I see that the call reached the end point as it print status messages on the server. I have a feeling that it&#39;s due to Sync nature of Java calls as the chances it executes the next line of code before the server code finishes it&#39;s execution. Any other thoughts..."},{"owner":{"account_id":1949626,"reputation":13702,"user_id":1754020,"accept_rate":87,"display_name":"Eddie Martinez"},"score":0,"creation_date":1488597433,"post_id":42589767,"comment_id":72315233,"body_markdown":"@user2986018 try what I just added now ?","body":"@user2986018 try what I just added now ?"}],"tags":[],"owner":{"account_id":1949626,"reputation":13702,"user_id":1754020,"accept_rate":87,"display_name":"Eddie Martinez"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488597404,"creation_date":1488581369,"answer_id":42589767,"question_id":42589576,"body_markdown":"It seems to be this line\r\n\r\n   \r\n            in = new BufferedReader(new InputStreamReader(connection.getInputStream())); \r\n\r\nI noticed the BufferedReader is not being instantiated, you are reusing an instance variable `in`. \r\n\r\n\r\nI copied your code and just changed it to this, and I can make multiple requests without any problem.\r\n\r\n    BufferedReader in = new BufferedReader(\r\n       new InputStreamReader(connection.getInputStream()));\r\n\r\n ","title":"java.lang.IllegalStateException: Cannot use BufferedReader while ServletInputStream is in use","body":"<p>It seems to be this line</p>\n\n<pre><code>        in = new BufferedReader(new InputStreamReader(connection.getInputStream())); \n</code></pre>\n\n<p>I noticed the BufferedReader is not being instantiated, you are reusing an instance variable <code>in</code>. </p>\n\n<p>I copied your code and just changed it to this, and I can make multiple requests without any problem.</p>\n\n<pre><code>BufferedReader in = new BufferedReader(\n   new InputStreamReader(connection.getInputStream()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2311729,"reputation":21,"user_id":2029715,"display_name":"Patrik Plesky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692275102,"creation_date":1692275102,"answer_id":76921510,"question_id":42589576,"body_markdown":"In my case, the same error occurred while testing with an empty request body in a POST request. When provided with an empty JSON object {} in the request body, the code runs as expected.","title":"java.lang.IllegalStateException: Cannot use BufferedReader while ServletInputStream is in use","body":"<p>In my case, the same error occurred while testing with an empty request body in a POST request. When provided with an empty JSON object {} in the request body, the code runs as expected.</p>\n"}],"owner":{"account_id":3577045,"reputation":331,"user_id":2986018,"display_name":"user2986018"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":546,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1692275102,"creation_date":1488580319,"question_id":42589576,"body_markdown":"Can Java experts help me on this issue, I&#39;m geting the error below\r\n\r\njava.lang.IllegalStateException: Cannot use BufferedReader while ServletInputStream is in use\r\n\r\nI&#39;m calling a REST service url to post some data using a server side java code, not through a browser.\r\n\r\n     try{\r\n      \tString urlLocation = &quot;http://myserver/james/dev/hello.nsf/services.xsp/test&quot;;\r\n      \tURL url = new URL(urlLocation);\r\n      \tHttpURLConnection connection = (HttpURLConnection)url.openConnection();\r\n      \tconnection.setRequestMethod(&quot;POST&quot;); \r\n\t\t\tconnection.setAllowUserInteraction(false); \r\n\t\t\tconnection.setDoOutput(true); \r\n\t\t\tconnection.setDoInput(true);\r\n\t\t\tconnection.setUseCaches(false);\r\n\t\t\tconnection.setRequestProperty( &quot;Content-type&quot;, &quot;application/x-www-form-urlencoded&quot; ); \r\n\t\t\t//connection.setRequestProperty( &quot;Content-length&quot;, Integer.toString(content.length())); \r\n\t\t\tDataOutputStream out = new DataOutputStream (connection.getOutputStream ());\r\n\t\t\tout.writeBytes (getXML());\r\n\t\t\tout.flush ();\r\n\t\t\tout.close ();\r\n\t\t\tconnection.disconnect();\r\n\r\n\t\t\tin = new BufferedReader(new InputStreamReader(connection.getInputStream())); \r\n\t\t\t\r\n\t\t\tString line;\r\n\t\t\twhile( (line = in.readLine()) !=null) {\r\n\t\t\t\tSystem.out.println(line);\r\n\t\t\t\t} \r\n\t\t\tin.close();\r\n\t\t\t}\r\n\t    \tcatch(Exception e){\r\n\t    \t\tSystem.out.println(&quot;Error from 2nd try statement&quot;);\r\n\t    \t\te.printStackTrace();\r\n\t    \t\te.toString();\r\n\t\t\t}\r\n\r\nAny help will be greatly appreciated...","title":"java.lang.IllegalStateException: Cannot use BufferedReader while ServletInputStream is in use","body":"<p>Can Java experts help me on this issue, I'm geting the error below</p>\n\n<p>java.lang.IllegalStateException: Cannot use BufferedReader while ServletInputStream is in use</p>\n\n<p>I'm calling a REST service url to post some data using a server side java code, not through a browser.</p>\n\n<pre><code> try{\n    String urlLocation = \"http://myserver/james/dev/hello.nsf/services.xsp/test\";\n    URL url = new URL(urlLocation);\n    HttpURLConnection connection = (HttpURLConnection)url.openConnection();\n    connection.setRequestMethod(\"POST\"); \n        connection.setAllowUserInteraction(false); \n        connection.setDoOutput(true); \n        connection.setDoInput(true);\n        connection.setUseCaches(false);\n        connection.setRequestProperty( \"Content-type\", \"application/x-www-form-urlencoded\" ); \n        //connection.setRequestProperty( \"Content-length\", Integer.toString(content.length())); \n        DataOutputStream out = new DataOutputStream (connection.getOutputStream ());\n        out.writeBytes (getXML());\n        out.flush ();\n        out.close ();\n        connection.disconnect();\n\n        in = new BufferedReader(new InputStreamReader(connection.getInputStream())); \n\n        String line;\n        while( (line = in.readLine()) !=null) {\n            System.out.println(line);\n            } \n        in.close();\n        }\n        catch(Exception e){\n            System.out.println(\"Error from 2nd try statement\");\n            e.printStackTrace();\n            e.toString();\n        }\n</code></pre>\n\n<p>Any help will be greatly appreciated...</p>\n"},{"tags":["java","apache-flink","flink-sql","flink-cep"],"comments":[{"owner":{"account_id":28968787,"reputation":1,"user_id":22189579,"display_name":"Krutik Gadhiya"},"score":0,"creation_date":1692776394,"post_id":76921499,"comment_id":135668889,"body_markdown":"https://issues.apache.org/jira/browse/FLINK-32899","body":"<a href=\"https://issues.apache.org/jira/browse/FLINK-32899\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/FLINK-32899</a>"}],"owner":{"account_id":28968787,"reputation":1,"user_id":22189579,"display_name":"Krutik Gadhiya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692275005,"creation_date":1692275005,"question_id":76921499,"body_markdown":"I am using Flink CEP with SQL for processing events, the schema is determined by the JSON event, while trying to execute the given SQL it gives bellow exception can. we have defined DTO’s for the event (contains nested Dto&#39;s), does any one know what am I doing wrong. as basic query like `SELECT message.event.size FROM Log` works just fine.\r\n\r\nAm I doing something wrong or Flink does not allow to reference nested objects with `MATCH_RECOGNIZE`\r\n\r\nEvent Example\r\n```JSON\r\n{\r\n  &quot;message&quot;: {\r\n    &quot;@timestamp&quot;: &quot;2023-08-02T12:12:16Z&quot;,\r\n    &quot;customFields&quot;: &quot;some string&quot;,\r\n    &quot;cloud&quot;: {\r\n      &quot;region&quot;: &quot;us-east-1&quot;\r\n    },\r\n    &quot;ecs&quot;: {\r\n      &quot;version&quot;: &quot;8.0.0&quot;\r\n    },\r\n    &quot;event&quot;: {\r\n      &quot;action&quot;: &quot;GetBucketAcl&quot;,\r\n      &quot;id&quot;: &quot;bb7ee0ed-f273-4da8-a75d-53e10e7d1515&quot;,\r\n      &quot;kind&quot;: &quot;event&quot;,\r\n      &quot;outcome&quot;: &quot;success&quot;,\r\n      &quot;provider&quot;: &quot;s3.amazonaws.com&quot;,\r\n      &quot;type&quot;: &quot;info&quot;,\r\n\t\t\t&quot;size&quot;: 10\r\n    },\r\n    &quot;source&quot;: {\r\n      &quot;address&quot;: &quot;cloudtrail.amazonaws.com&quot;\r\n    }\r\n  },\r\n  &quot;id&quot;: &quot;pxX_35all1pkteGtxXxOi&quot;,\r\n  &quot;timestamp&quot;: &quot;2023-08-02 12:17:31.526356&quot;,\r\n  &quot;integration&quot;: &quot;cloudtrail&quot;,\r\n  &quot;configuration&quot;: &quot;conf-1&quot;\r\n}\r\n```\r\n\r\nSQL Query\r\n```SQL\r\nSELECT * FROM Log\r\nMATCH_RECOGNIZE (\r\n\tPARTITION BY integration\r\n\tORDER BY time_ltz\r\n\tMEASURES\r\n\t\tFIRST(A.time_ltz) AS start_tstamp,\r\n\t\tLAST(A.time_ltz) AS end_tstamp,\r\n\t\tSUM(message.event.size) AS size,\r\n\t\tA.id AS aID,\r\n\t\tLAST(B.id) as bID,\r\n\t\tC.id AS cID\r\n\tAFTER MATCH SKIP PAST LAST ROW\r\n\tPATTERN (A B+ C) WITHIN INTERVAL &#39;5&#39; SECOND\r\n\tDEFINE\r\n\t\tA AS A.message.event.action = &#39;login&#39;,\r\n\t\tB AS SUM(message.event.size) &gt; 30\r\n) T;\r\n```\r\n\r\nGenerated Schema\r\n```\r\n(\r\n  `message` *org.example.Dto.Message&lt;`cloud` *org.example.Dto.Cloud&lt;`region` STRING&gt;*, `customField` STRING, `ecs` *org.example.Dto.Ecs&lt;`version` STRING&gt;*, `event` *org.example.Dto.Event&lt;`action` STRING, `id` STRING, `kind` STRING, `outcome` STRING, `provider` STRING, `type` STRING, `size` BIGINT NOT NULL&gt;*, `source` *org.example.Dto.Source&lt;`address` STRING&gt;*, `timestamp` STRING&gt;*,\r\n  `id` STRING,\r\n  `timestamp` STRING,\r\n  `integration` STRING,\r\n  `configuration` STRING,\r\n  `time_ltz` TIMESTAMP(3)\r\n)\r\n\r\n```\r\n\r\nStackTrace\r\n```\r\nException in thread &quot;main&quot; org.apache.flink.table.api.ValidationException: SQL validation failed. From line 15, column 22 to line 15, column 26: Table &#39;event.message.event&#39; not found\r\n\tat org.apache.flink.table.planner.calcite.FlinkPlannerImpl.org$apache$flink$table$planner$calcite$FlinkPlannerImpl$$validate(FlinkPlannerImpl.scala:187)\r\n\tat org.apache.flink.table.planner.calcite.FlinkPlannerImpl.validate(FlinkPlannerImpl.scala:113)\r\n\tat org.apache.flink.table.planner.operations.SqlToOperationConverter.convert(SqlToOperationConverter.java:281)\r\n\tat org.apache.flink.table.planner.delegation.ParserImpl.parse(ParserImpl.java:106)\r\n\tat org.apache.flink.table.api.internal.TableEnvironmentImpl.sqlQuery(TableEnvironmentImpl.java:738)\r\n\tat org.example.StaticRuleEvaluator.main(StaticRuleEvaluator.java:115)\r\nCaused by: org.apache.calcite.runtime.CalciteContextException: From line 15, column 22 to line 15, column 26: Table &#39;event.message.event&#39; not found\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n```","title":"How to reference nested objects in Flink cep SQL in MATCH_RECOGNIZE clause","body":"<p>I am using Flink CEP with SQL for processing events, the schema is determined by the JSON event, while trying to execute the given SQL it gives bellow exception can. we have defined DTO’s for the event (contains nested Dto's), does any one know what am I doing wrong. as basic query like <code>SELECT message.event.size FROM Log</code> works just fine.</p>\n<p>Am I doing something wrong or Flink does not allow to reference nested objects with <code>MATCH_RECOGNIZE</code></p>\n<p>Event Example</p>\n<pre><code>{\n  &quot;message&quot;: {\n    &quot;@timestamp&quot;: &quot;2023-08-02T12:12:16Z&quot;,\n    &quot;customFields&quot;: &quot;some string&quot;,\n    &quot;cloud&quot;: {\n      &quot;region&quot;: &quot;us-east-1&quot;\n    },\n    &quot;ecs&quot;: {\n      &quot;version&quot;: &quot;8.0.0&quot;\n    },\n    &quot;event&quot;: {\n      &quot;action&quot;: &quot;GetBucketAcl&quot;,\n      &quot;id&quot;: &quot;bb7ee0ed-f273-4da8-a75d-53e10e7d1515&quot;,\n      &quot;kind&quot;: &quot;event&quot;,\n      &quot;outcome&quot;: &quot;success&quot;,\n      &quot;provider&quot;: &quot;s3.amazonaws.com&quot;,\n      &quot;type&quot;: &quot;info&quot;,\n            &quot;size&quot;: 10\n    },\n    &quot;source&quot;: {\n      &quot;address&quot;: &quot;cloudtrail.amazonaws.com&quot;\n    }\n  },\n  &quot;id&quot;: &quot;pxX_35all1pkteGtxXxOi&quot;,\n  &quot;timestamp&quot;: &quot;2023-08-02 12:17:31.526356&quot;,\n  &quot;integration&quot;: &quot;cloudtrail&quot;,\n  &quot;configuration&quot;: &quot;conf-1&quot;\n}\n</code></pre>\n<p>SQL Query</p>\n<pre><code>SELECT * FROM Log\nMATCH_RECOGNIZE (\n    PARTITION BY integration\n    ORDER BY time_ltz\n    MEASURES\n        FIRST(A.time_ltz) AS start_tstamp,\n        LAST(A.time_ltz) AS end_tstamp,\n        SUM(message.event.size) AS size,\n        A.id AS aID,\n        LAST(B.id) as bID,\n        C.id AS cID\n    AFTER MATCH SKIP PAST LAST ROW\n    PATTERN (A B+ C) WITHIN INTERVAL '5' SECOND\n    DEFINE\n        A AS A.message.event.action = 'login',\n        B AS SUM(message.event.size) &gt; 30\n) T;\n</code></pre>\n<p>Generated Schema</p>\n<pre><code>(\n  `message` *org.example.Dto.Message&lt;`cloud` *org.example.Dto.Cloud&lt;`region` STRING&gt;*, `customField` STRING, `ecs` *org.example.Dto.Ecs&lt;`version` STRING&gt;*, `event` *org.example.Dto.Event&lt;`action` STRING, `id` STRING, `kind` STRING, `outcome` STRING, `provider` STRING, `type` STRING, `size` BIGINT NOT NULL&gt;*, `source` *org.example.Dto.Source&lt;`address` STRING&gt;*, `timestamp` STRING&gt;*,\n  `id` STRING,\n  `timestamp` STRING,\n  `integration` STRING,\n  `configuration` STRING,\n  `time_ltz` TIMESTAMP(3)\n)\n\n</code></pre>\n<p>StackTrace</p>\n<pre><code>Exception in thread &quot;main&quot; org.apache.flink.table.api.ValidationException: SQL validation failed. From line 15, column 22 to line 15, column 26: Table 'event.message.event' not found\n    at org.apache.flink.table.planner.calcite.FlinkPlannerImpl.org$apache$flink$table$planner$calcite$FlinkPlannerImpl$$validate(FlinkPlannerImpl.scala:187)\n    at org.apache.flink.table.planner.calcite.FlinkPlannerImpl.validate(FlinkPlannerImpl.scala:113)\n    at org.apache.flink.table.planner.operations.SqlToOperationConverter.convert(SqlToOperationConverter.java:281)\n    at org.apache.flink.table.planner.delegation.ParserImpl.parse(ParserImpl.java:106)\n    at org.apache.flink.table.api.internal.TableEnvironmentImpl.sqlQuery(TableEnvironmentImpl.java:738)\n    at org.example.StaticRuleEvaluator.main(StaticRuleEvaluator.java:115)\nCaused by: org.apache.calcite.runtime.CalciteContextException: From line 15, column 22 to line 15, column 26: Table 'event.message.event' not found\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n</code></pre>\n"},{"tags":["java","linux","jboss","log4j","logfiles"],"answers":[{"tags":[],"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1294226858,"creation_date":1294226120,"answer_id":4603421,"question_id":4603394,"body_markdown":"By default JBoss keeps the file locked, since it is writing log messages into it. It is locked as long as JBoss is running and I don&#39;t know of other way to release it than stopping JBoss itself.\r\n\r\nTo keep its size under control, you can modify your log configuration, which is by default in `&lt;server&gt;/conf˛jboss-log4j.xml`. You can specify the maximum size of a log file, and define what to do when that size is reached: roll over to a new file, truncate the existing one and start writing over it again, etc.\r\n\r\nA basic example (not tested, so no guarantee that it works straight as it is):\r\n\r\n        &lt;appender name=&quot;ROLL&quot; class=&quot;org.apache.log4j.rolling.RollingFileAppender&quot;&gt;\r\n                ...\r\n                &lt;param name=&quot;maxFileSize&quot; value=&quot;100MB&quot; /&gt;\r\n                ...\r\n        &lt;/appender&gt;\r\n\r\nMoreover, with the `maxBackupIndex` parameter you may define the number of backup files (default is 1).\r\n","title":"How to clear server.log in JBoss?","body":"<p>By default JBoss keeps the file locked, since it is writing log messages into it. It is locked as long as JBoss is running and I don't know of other way to release it than stopping JBoss itself.</p>\n\n<p>To keep its size under control, you can modify your log configuration, which is by default in <code>&lt;server&gt;/conf˛jboss-log4j.xml</code>. You can specify the maximum size of a log file, and define what to do when that size is reached: roll over to a new file, truncate the existing one and start writing over it again, etc.</p>\n\n<p>A basic example (not tested, so no guarantee that it works straight as it is):</p>\n\n<pre><code>    &lt;appender name=\"ROLL\" class=\"org.apache.log4j.rolling.RollingFileAppender\"&gt;\n            ...\n            &lt;param name=\"maxFileSize\" value=\"100MB\" /&gt;\n            ...\n    &lt;/appender&gt;\n</code></pre>\n\n<p>Moreover, with the <code>maxBackupIndex</code> parameter you may define the number of backup files (default is 1).</p>\n"},{"tags":[],"owner":{"account_id":542930,"reputation":2652,"user_id":911912,"accept_rate":100,"display_name":"hennr"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1352366210,"creation_date":1352291698,"answer_id":13269910,"question_id":4603394,"body_markdown":"JBoss locks the file as long as the logging process is running.\r\n\r\nIf you enabled the JMX console you can stop the logging, delete / modify the log, and start the logging service again.\r\n\r\nThe url should look something like this (for log4j):\r\n\r\nhttp://jboss.example.com:8080/jmx-console/HtmlAdaptor?action=inspectMBean&amp;name=jboss.system%3Atype%3DLog4jService%2Cservice%3DLogging\r\n\r\nI tested this with JBoss 5.\r\n\r\nThis solution should be scriptable as well.\r\n\r\nRegarding your log file size problem: You should use a configuration approach instead of editing the log file manually.","title":"How to clear server.log in JBoss?","body":"<p>JBoss locks the file as long as the logging process is running.</p>\n\n<p>If you enabled the JMX console you can stop the logging, delete / modify the log, and start the logging service again.</p>\n\n<p>The url should look something like this (for log4j):</p>\n\n<p><a href=\"http://jboss.example.com:8080/jmx-console/HtmlAdaptor?action=inspectMBean&amp;name=jboss.system%3Atype%3DLog4jService%2Cservice%3DLogging\" rel=\"nofollow\">http://jboss.example.com:8080/jmx-console/HtmlAdaptor?action=inspectMBean&amp;name=jboss.system%3Atype%3DLog4jService%2Cservice%3DLogging</a></p>\n\n<p>I tested this with JBoss 5.</p>\n\n<p>This solution should be scriptable as well.</p>\n\n<p>Regarding your log file size problem: You should use a configuration approach instead of editing the log file manually.</p>\n"},{"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":1,"creation_date":1692300431,"post_id":76921415,"comment_id":135608314,"body_markdown":"any chatgpt involved in this answer?","body":"any chatgpt involved in this answer?"}],"tags":[],"owner":{"account_id":8698073,"reputation":40,"user_id":6508874,"display_name":"Cristian-Florin Pandele"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692274367,"creation_date":1692274367,"answer_id":76921415,"question_id":4603394,"body_markdown":"To clear logs in JBoss, you can follow these steps:\r\n\r\n 1. Stop the JBoss Server: Before you clear the logs, it&#39;s a good practice to stop the JBoss server to prevent any potential issues while the logs are being cleared.\r\n 2. Navigate to the Log Directory: Locate the directory where JBoss/WildFly stores its log files. This directory is typically named standalone/log or domain/servers/server-name/log within your JBoss/WildFly installation directory.\r\n 3. Clear the log file\r\n 4. Start the JBoss Server: After you&#39;ve cleared the logs, you can start the JBoss server again.","title":"How to clear server.log in JBoss?","body":"<p>To clear logs in JBoss, you can follow these steps:</p>\n<ol>\n<li>Stop the JBoss Server: Before you clear the logs, it's a good practice to stop the JBoss server to prevent any potential issues while the logs are being cleared.</li>\n<li>Navigate to the Log Directory: Locate the directory where JBoss/WildFly stores its log files. This directory is typically named standalone/log or domain/servers/server-name/log within your JBoss/WildFly installation directory.</li>\n<li>Clear the log file</li>\n<li>Start the JBoss Server: After you've cleared the logs, you can start the JBoss server again.</li>\n</ol>\n"}],"owner":{"account_id":14684,"reputation":62911,"user_id":30453,"accept_rate":82,"display_name":"IAdapter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14507,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":4603421,"answer_count":3,"score":5,"last_activity_date":1692274367,"creation_date":1294225862,"question_id":4603394,"body_markdown":"How do I clear JBoss&#39; server.log file when **JBoss is running**? When I try to do \r\n\r\n    echo 1 &gt; server.log\r\n\r\nI get error msg that the **file is being used** by another program (JBoss). Is it possible to use a command-line tool (**windows** or **linux**(I do have **CygWin**)) or an application that I can write myself to clear that file?\r\n\r\nP.S. I don&#39;t need that file to have 0kb, but I want it to have **less than 100MB**.","title":"How to clear server.log in JBoss?","body":"<p>How do I clear JBoss' server.log file when <strong>JBoss is running</strong>? When I try to do </p>\n\n<pre><code>echo 1 &gt; server.log\n</code></pre>\n\n<p>I get error msg that the <strong>file is being used</strong> by another program (JBoss). Is it possible to use a command-line tool (<strong>windows</strong> or <strong>linux</strong>(I do have <strong>CygWin</strong>)) or an application that I can write myself to clear that file?</p>\n\n<p>P.S. I don't need that file to have 0kb, but I want it to have <strong>less than 100MB</strong>.</p>\n"},{"tags":["java","spring-boot","hibernate"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674726341,"post_id":75234768,"comment_id":132776771,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75234768/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27618666,"reputation":21,"user_id":21080232,"display_name":"John Miller"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674653662,"creation_date":1674653662,"answer_id":75234768,"question_id":75172581,"body_markdown":"Try to implement StatementInspector and override inspect(String sql) method\r\n\r\n    public class Interceptor implements StatementInspector {\r\n     //Use this method instead of onPrepareStatement\r\n        @Override\r\n        public String inspect(String sql) {\r\n            ...\r\n        }\r\n    }\r\n\r\nhttps://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/resource/jdbc/spi/StatementInspector.html","title":"Error `org.hibernate.EmptyInterceptor` is deprecated in SQL statement interceptor class","body":"<p>Try to implement StatementInspector and override inspect(String sql) method</p>\n<pre><code>public class Interceptor implements StatementInspector {\n //Use this method instead of onPrepareStatement\n    @Override\n    public String inspect(String sql) {\n        ...\n    }\n}\n</code></pre>\n<p><a href=\"https://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/resource/jdbc/spi/StatementInspector.html\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/resource/jdbc/spi/StatementInspector.html</a></p>\n"}],"owner":{"account_id":25372465,"reputation":39,"user_id":19186050,"display_name":"Franck TCHIENGUEN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1245,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692273621,"creation_date":1674132977,"question_id":75172581,"body_markdown":"I did the migration to spring boot 3 and my SQL statement interceptor gives an error: `&#39;org.hibernate.EmptyInterceptor&#39; is deprecated.` I don&#39;t how to resolve it.\r\n\r\nHere&#39;s my code:\r\n\r\n```\r\nimport org.hibernate.EmptyInterceptor;\r\nimport org.slf4j.MDC;\r\nimport org.springframework.util.StringUtils;\r\n\r\npublic class Interceptor extends EmptyInterceptor {\r\n\r\n    @Override\r\n    public String onPrepareStatement(String sql) {\r\n        if (StringUtils.hasLength(sql) &amp;&amp; sql.toLowerCase().startsWith(&quot;select&quot;)) {\r\n            final String entityName = sql.substring(7, sql.indexOf(&quot;.&quot;));\r\n            final String idEntreprise = MDC.get(&quot;idEntreprise&quot;);\r\n\r\n            if (StringUtils.hasLength(entityName)\r\n                    &amp;&amp; !entityName.toLowerCase().contains(&quot;entreprise&quot;)\r\n                    &amp;&amp; !entityName.toLowerCase().contains(&quot;roles&quot;)\r\n                    &amp;&amp; StringUtils.hasLength(idEntreprise)) {\r\n\r\n                if (sql.contains(&quot;where&quot;)) {\r\n                    sql = sql + &quot; and &quot;+entityName+&quot;.idEntreprise = &quot;+idEntreprise;\r\n                } else {\r\n                    sql = sql + &quot; where &quot;+entityName+&quot;.idEntreprise = &quot;+idEntreprise;\r\n                }\r\n\r\n      }\r\n            }\r\n            return super.onPrepareStatement(sql);\r\n        }\r\n    }\r\n```\r\n\r\n\r\nIn my code I replace `EmptyInterceptor` with `Interceptor` class, but nothing.","title":"Error `org.hibernate.EmptyInterceptor` is deprecated in SQL statement interceptor class","body":"<p>I did the migration to spring boot 3 and my SQL statement interceptor gives an error: <code>'org.hibernate.EmptyInterceptor' is deprecated.</code> I don't how to resolve it.</p>\n<p>Here's my code:</p>\n<pre><code>import org.hibernate.EmptyInterceptor;\nimport org.slf4j.MDC;\nimport org.springframework.util.StringUtils;\n\npublic class Interceptor extends EmptyInterceptor {\n\n    @Override\n    public String onPrepareStatement(String sql) {\n        if (StringUtils.hasLength(sql) &amp;&amp; sql.toLowerCase().startsWith(&quot;select&quot;)) {\n            final String entityName = sql.substring(7, sql.indexOf(&quot;.&quot;));\n            final String idEntreprise = MDC.get(&quot;idEntreprise&quot;);\n\n            if (StringUtils.hasLength(entityName)\n                    &amp;&amp; !entityName.toLowerCase().contains(&quot;entreprise&quot;)\n                    &amp;&amp; !entityName.toLowerCase().contains(&quot;roles&quot;)\n                    &amp;&amp; StringUtils.hasLength(idEntreprise)) {\n\n                if (sql.contains(&quot;where&quot;)) {\n                    sql = sql + &quot; and &quot;+entityName+&quot;.idEntreprise = &quot;+idEntreprise;\n                } else {\n                    sql = sql + &quot; where &quot;+entityName+&quot;.idEntreprise = &quot;+idEntreprise;\n                }\n\n      }\n            }\n            return super.onPrepareStatement(sql);\n        }\n    }\n</code></pre>\n<p>In my code I replace <code>EmptyInterceptor</code> with <code>Interceptor</code> class, but nothing.</p>\n"},{"tags":["java","lombok"],"answers":[{"comments":[{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":25,"creation_date":1509800942,"post_id":47093799,"comment_id":81172087,"body_markdown":"@Mustafa There&#39;s also `@Wither`, which is more efficient for single field changes: `Foo f1 = f0.withX(42)`.","body":"@Mustafa There&#39;s also <code>@Wither</code>, which is more efficient for single field changes: <code>Foo f1 = f0.withX(42)</code>."},{"owner":{"account_id":1942644,"reputation":528,"user_id":1748473,"accept_rate":100,"display_name":"MGhostSoft"},"score":0,"creation_date":1553101770,"post_id":47093799,"comment_id":97264282,"body_markdown":"@maaartinus I think `@Wither` generates with* methods that always returns a new object, instead of setting the field of the existing object. This is of low efficiency.","body":"@maaartinus I think <code>@Wither</code> generates with* methods that always returns a new object, instead of setting the field of the existing object. This is of low efficiency."},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":7,"creation_date":1553111451,"post_id":47093799,"comment_id":97269230,"body_markdown":"@MGhostSoft I&#39;m obviously assuming that creating a new  object is rhe goal. Thus us pretty common as immutable objects are used more and more. ++&#215; For changing a single field, `@Wither`is best. Fot more than two, `toBuilder` wins. See my answer below.","body":"@MGhostSoft I&#39;m obviously assuming that creating a new  object is rhe goal. Thus us pretty common as immutable objects are used more and more. ++&#215; For changing a single field, <code>@Wither</code>is best. Fot more than two, <code>toBuilder</code> wins. See my answer below."},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":5,"creation_date":1567115879,"post_id":47093799,"comment_id":101877957,"body_markdown":"And for zero fields (i.e. an object copy without any changes), `@Wither` won&#39;t work at all but `.toBuilder().build()` would.","body":"And for zero fields (i.e. an object copy without any changes), <code>@Wither</code> won&#39;t work at all but <code>.toBuilder().build()</code> would."},{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":1,"creation_date":1619006117,"post_id":47093799,"comment_id":118773335,"body_markdown":"flawless answer!","body":"flawless answer!"},{"owner":{"account_id":10489053,"reputation":414,"user_id":7731571,"accept_rate":75,"display_name":"Alexis"},"score":0,"creation_date":1677083629,"post_id":47093799,"comment_id":133268663,"body_markdown":"What if you are using a library and the original author didnt set the flag toBuilder to true?","body":"What if you are using a library and the original author didnt set the flag toBuilder to true?"}],"tags":[],"owner":{"account_id":7297,"reputation":32778,"user_id":12634,"accept_rate":75,"display_name":"Roel Spilker"},"comment_count":6,"down_vote_count":0,"up_vote_count":481,"is_accepted":true,"score":481,"last_activity_date":1522083053,"creation_date":1509705682,"answer_id":47093799,"question_id":47069561,"body_markdown":"You can use the `toBuilder` parameter to give your instances a `toBuilder()` method.\r\n\r\n    @Builder(toBuilder=true)\r\n    class Foo {\r\n       int x;\r\n       ...\r\n    }\r\n    \r\n    Foo f0 = Foo.builder().build();\r\n    Foo f1 = f0.toBuilder().x(42).build();\r\n\r\nFrom [the documentation](https://projectlombok.org/features/Builder):\r\n\r\n&gt; If using @Builder to generate builders to produce instances of your own class (this is always the case unless adding @Builder to a method that doesn&#39;t return your own type), you can use @Builder(toBuilder = true) to also generate an instance method in your class called toBuilder(); it creates a new builder that starts out with all the values of this instance.\r\n\r\nDisclaimer: I am a lombok developer.\r\n\r\n","title":"Build an object from an existing one using lombok","body":"<p>You can use the <code>toBuilder</code> parameter to give your instances a <code>toBuilder()</code> method.</p>\n\n<pre><code>@Builder(toBuilder=true)\nclass Foo {\n   int x;\n   ...\n}\n\nFoo f0 = Foo.builder().build();\nFoo f1 = f0.toBuilder().x(42).build();\n</code></pre>\n\n<p>From <a href=\"https://projectlombok.org/features/Builder\" rel=\"noreferrer\">the documentation</a>:</p>\n\n<blockquote>\n  <p>If using @Builder to generate builders to produce instances of your own class (this is always the case unless adding @Builder to a method that doesn't return your own type), you can use @Builder(toBuilder = true) to also generate an instance method in your class called toBuilder(); it creates a new builder that starts out with all the values of this instance.</p>\n</blockquote>\n\n<p>Disclaimer: I am a lombok developer.</p>\n"},{"comments":[{"owner":{"account_id":2899822,"reputation":3354,"user_id":2486805,"accept_rate":50,"display_name":"jm0"},"score":1,"creation_date":1555524429,"post_id":47111144,"comment_id":98145721,"body_markdown":"would it really create that much garbage? I think it&#39;s all shallow copies except for the field you&#39;re replacing (relying on the notion that you will make the object immutable already if that&#39;s what is intended). The &quot;garbage&quot; will mostly be the discarded top level object&#39;s references (though I guess a lot of primitives could result in more garbage as well).","body":"would it really create that much garbage? I think it&#39;s all shallow copies except for the field you&#39;re replacing (relying on the notion that you will make the object immutable already if that&#39;s what is intended). The &quot;garbage&quot; will mostly be the discarded top level object&#39;s references (though I guess a lot of primitives could result in more garbage as well)."},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":1,"creation_date":1555728612,"post_id":47111144,"comment_id":98213240,"body_markdown":"@jm0 Sure, it&#39;s all shallow copies. By &quot;tons of garbage&quot; I meant `n-1` objects for a series of `n` calls to `withSomething`. An object costs something like a few bytes plus 4 or 8 bytes per reference plus 1 to 8 bytes per primitive. So we&#39;re talking about tens of bytes per call. No big deal, usually.","body":"@jm0 Sure, it&#39;s all shallow copies. By &quot;tons of garbage&quot; I meant <code>n-1</code> objects for a series of <code>n</code> calls to <code>withSomething</code>. An object costs something like a few bytes plus 4 or 8 bytes per reference plus 1 to 8 bytes per primitive. So we&#39;re talking about tens of bytes per call. No big deal, usually."},{"owner":{"account_id":1816391,"reputation":508,"user_id":2324063,"display_name":"gary"},"score":0,"creation_date":1652110948,"post_id":47111144,"comment_id":127521216,"body_markdown":"I thought modern jvm compilers would use escape analysis and stack allocation optimization on these objects. It&#39;d figure out the intermediate objects are method scoped and don&#39;t escape the method, then flatten the object fields onto the stack, then use traditional optimization to reduce the code to a single constructor call, passing in the live values to the new object that escapes.  Meaning, it would produce code as efficient as you can hand craft natively.","body":"I thought modern jvm compilers would use escape analysis and stack allocation optimization on these objects. It&#39;d figure out the intermediate objects are method scoped and don&#39;t escape the method, then flatten the object fields onto the stack, then use traditional optimization to reduce the code to a single constructor call, passing in the live values to the new object that escapes.  Meaning, it would produce code as efficient as you can hand craft natively."},{"owner":{"account_id":6945508,"reputation":1443,"user_id":5330107,"display_name":"Victor Cui"},"score":0,"creation_date":1688322809,"post_id":47111144,"comment_id":135055563,"body_markdown":"does the @With annotation work if I&#39;m trying to add a new property to the cloned object?","body":"does the @With annotation work if I&#39;m trying to add a new property to the cloned object?"}],"tags":[],"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"comment_count":4,"down_vote_count":1,"up_vote_count":78,"is_accepted":false,"score":77,"last_activity_date":1581200092,"creation_date":1509801286,"answer_id":47111144,"question_id":47069561,"body_markdown":"&gt; Is there an easy way to create an object of Foo using the existing object as a template and changing **one** of it&#39;s properties?\r\n(*emphasis mine*)\r\n\r\nIf you really want to change a single property, then there&#39;s a nicer and more efficient way:\r\n\r\n    @With\r\n    class Band {\r\n       String name;\r\n       String type;\r\n    }\r\n    \r\n    Band nirvana = rollingStones.withName(&quot;Nirvana&quot;);\r\n\r\nThe wither creates no garbage, but it can change just a single field. For changing many fields, you could use\r\n\r\n    withA(a).withB(b).withC(c)....\r\n\r\nand produce tons of garbage (all intermediate results) but than `toBuilder` is more efficient and more natural.\r\n\r\nNOTE: Older versions of lombok have used `@Wither` annotation. See [beginning of documentation][1].\r\n\r\n\r\n  [1]: https://projectlombok.org/features/With","title":"Build an object from an existing one using lombok","body":"<blockquote>\n  <p>Is there an easy way to create an object of Foo using the existing object as a template and changing <strong>one</strong> of it's properties?\n  (<em>emphasis mine</em>)</p>\n</blockquote>\n\n<p>If you really want to change a single property, then there's a nicer and more efficient way:</p>\n\n<pre><code>@With\nclass Band {\n   String name;\n   String type;\n}\n\nBand nirvana = rollingStones.withName(\"Nirvana\");\n</code></pre>\n\n<p>The wither creates no garbage, but it can change just a single field. For changing many fields, you could use</p>\n\n<pre><code>withA(a).withB(b).withC(c)....\n</code></pre>\n\n<p>and produce tons of garbage (all intermediate results) but than <code>toBuilder</code> is more efficient and more natural.</p>\n\n<p>NOTE: Older versions of lombok have used <code>@Wither</code> annotation. See <a href=\"https://projectlombok.org/features/With\" rel=\"noreferrer\">beginning of documentation</a>.</p>\n"},{"comments":[{"owner":{"account_id":3220345,"reputation":5564,"user_id":2717958,"accept_rate":57,"display_name":"Michal Krasny"},"score":0,"creation_date":1635854131,"post_id":67684815,"comment_id":123398435,"body_markdown":"I tried your example and it work (after adding @NoArgsConstructor), but in my real code the convertValue returns the same instance it gets as an argument. The notable difference is that my class inherits from a parent class.","body":"I tried your example and it work (after adding @NoArgsConstructor), but in my real code the convertValue returns the same instance it gets as an argument. The notable difference is that my class inherits from a parent class."},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1666328761,"post_id":67684815,"comment_id":130915494,"body_markdown":"Jackson versions prior to 2.10 (released September 2019) typically returned the same instance for `convertValue` in this case.  Version 2.10 [returns a new instance](https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/ObjectMapper.html#convertValue-java.lang.Object-java.lang.Class-): &quot;Note that behavior changed slightly between Jackson 2.9 and 2.10 so that whereas earlier some optimizations were used to avoid write/read cycle in case input was of target type, from 2.10 onwards full processing is always performed.&quot;","body":"Jackson versions prior to 2.10 (released September 2019) typically returned the same instance for <code>convertValue</code> in this case.  Version 2.10 <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/ObjectMapper.html#convertValue-java.lang.Object-java.lang.Class-\" rel=\"nofollow noreferrer\">returns a new instance</a>: &quot;Note that behavior changed slightly between Jackson 2.9 and 2.10 so that whereas earlier some optimizations were used to avoid write/read cycle in case input was of target type, from 2.10 onwards full processing is always performed.&quot;"}],"tags":[],"owner":{"account_id":916656,"reputation":922,"user_id":949309,"display_name":"ITisha"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1621933123,"creation_date":1621933123,"answer_id":67684815,"question_id":47069561,"body_markdown":"You might also want do a copy of the object using `com.fasterxml.jackson.databind.ObjectMapper`\r\n\r\n    @AllArgsConstructor\r\n    @Setter\r\n    class Band {\r\n        String name;\r\n        String type;\r\n    }\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper(); //it&#39;s configurable\r\n    objectMapper.configure( DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false );\r\n    objectMapper.configure( SerializationFeature.FAIL_ON_EMPTY_BEANS, false );\r\n    \r\n    Band rollingStones = new Band(&quot;Rolling Stones&quot;, &quot;Rock Band&quot;);\r\n\r\n    Band nirvana = objectMapper.convertValue( rollingStones, Band.class);\r\n    nirvana.setName(&quot;Nirvana&quot;);\r\n\r\nit can be easily wrapped in some utility method to be used all over the project like `ConvertUtils.clone(rollingStones, Band.class)`","title":"Build an object from an existing one using lombok","body":"<p>You might also want do a copy of the object using <code>com.fasterxml.jackson.databind.ObjectMapper</code></p>\n<pre><code>@AllArgsConstructor\n@Setter\nclass Band {\n    String name;\n    String type;\n}\n\nObjectMapper objectMapper = new ObjectMapper(); //it's configurable\nobjectMapper.configure( DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false );\nobjectMapper.configure( SerializationFeature.FAIL_ON_EMPTY_BEANS, false );\n\nBand rollingStones = new Band(&quot;Rolling Stones&quot;, &quot;Rock Band&quot;);\n\nBand nirvana = objectMapper.convertValue( rollingStones, Band.class);\nnirvana.setName(&quot;Nirvana&quot;);\n</code></pre>\n<p>it can be easily wrapped in some utility method to be used all over the project like <code>ConvertUtils.clone(rollingStones, Band.class)</code></p>\n"}],"owner":{"account_id":346385,"reputation":5794,"user_id":679879,"accept_rate":90,"display_name":"Mustafa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151682,"favorite_count":0,"down_vote_count":0,"up_vote_count":232,"accepted_answer_id":47093799,"answer_count":3,"score":232,"last_activity_date":1692272742,"creation_date":1509606763,"question_id":47069561,"body_markdown":"Lets say I have a Lombok annotated class like\r\n\r\n```java\r\n@Builder\r\nclass Band {\r\n    String name;\r\n    String type;\r\n}\r\n```\r\n\r\nI know I can do:\r\n\r\n```java\r\nBand rollingStones = Band.builder()\r\n    .name(&quot;Rolling Stones&quot;)\r\n    .type(&quot;Rock Band&quot;)\r\n    .build();\r\n```\r\n\r\nIs there an easy way to create an object of `Band` using the existing object as a template and changing one of its properties?\r\n\r\nSomething like:\r\n\r\n```java\r\nBand nirvana = Band.builder(rollingStones)\r\n    .name(&quot;Nirvana&quot;);\r\n```\r\n\r\nI can&#39;t find this in the Lombok documentation.\r\n","title":"Build an object from an existing one using lombok","body":"<p>Lets say I have a Lombok annotated class like</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Builder\nclass Band {\n    String name;\n    String type;\n}\n</code></pre>\n<p>I know I can do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Band rollingStones = Band.builder()\n    .name(&quot;Rolling Stones&quot;)\n    .type(&quot;Rock Band&quot;)\n    .build();\n</code></pre>\n<p>Is there an easy way to create an object of <code>Band</code> using the existing object as a template and changing one of its properties?</p>\n<p>Something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Band nirvana = Band.builder(rollingStones)\n    .name(&quot;Nirvana&quot;);\n</code></pre>\n<p>I can't find this in the Lombok documentation.</p>\n"},{"tags":["java","eclipse","gradle","gradle-wrapper"],"comments":[{"owner":{"account_id":26895750,"reputation":296,"user_id":20473701,"display_name":"Lorenz Hetterich"},"score":0,"creation_date":1690283385,"post_id":76762089,"comment_id":135328668,"body_markdown":"I also encountered this issue. I think it is because Eclipse tries to parse the java version which is now in a different format.\nFor me, installing the latest version of eclipse fixed the issue (note that you can still use your projects from the older eclipse Version)","body":"I also encountered this issue. I think it is because Eclipse tries to parse the java version which is now in a different format. For me, installing the latest version of eclipse fixed the issue (note that you can still use your projects from the older eclipse Version)"},{"owner":{"account_id":18888609,"reputation":33,"user_id":13779404,"display_name":"Mandar Remane"},"score":0,"creation_date":1690283685,"post_id":76762089,"comment_id":135328734,"body_markdown":"Oh okay, I will try running project with new eclipse version","body":"Oh okay, I will try running project with new eclipse version"}],"owner":{"account_id":18888609,"reputation":33,"user_id":13779404,"display_name":"Mandar Remane"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690283940,"answer_count":0,"score":0,"last_activity_date":1692272697,"creation_date":1690283158,"question_id":76762089,"body_markdown":"I was using java 8 until now, but I needed to upgrade java to jdk-11 for one project. As I installed newer version and set JAVA_HOME &amp; PATH to new jdk-11 path, I started getting this error in eclipse :\r\n\r\n&gt; An internal error occurred during: &quot;Update Installed JREs&quot;. \r\n&gt; Could not determine java version from &#39;11.0.19&#39;.\r\n\r\nIn eclipse properties -&gt; JAVA_PATH and JRE I changed the Libraries to jdk-11 but nothing worked.\r\nI created new workspace and also restarted my pc.\r\nGradle version I am using - 6.8.3\r\n\r\nNote : From Command Prompt with &quot;gradle clean build -x test&quot; I am able to build the project successfully\r\nAnd I tried the solutions which are already given on other similar questions but from what I think is my gradle wrapper is not the problem and those solution didn&#39;t solved my problem\r\n\r\n\r\n\r\n","title":"Error : Could not determine java version from &#39;11.0.19&#39;","body":"<p>I was using java 8 until now, but I needed to upgrade java to jdk-11 for one project. As I installed newer version and set JAVA_HOME &amp; PATH to new jdk-11 path, I started getting this error in eclipse :</p>\n<blockquote>\n<p>An internal error occurred during: &quot;Update Installed JREs&quot;.\nCould not determine java version from '11.0.19'.</p>\n</blockquote>\n<p>In eclipse properties -&gt; JAVA_PATH and JRE I changed the Libraries to jdk-11 but nothing worked.\nI created new workspace and also restarted my pc.\nGradle version I am using - 6.8.3</p>\n<p>Note : From Command Prompt with &quot;gradle clean build -x test&quot; I am able to build the project successfully\nAnd I tried the solutions which are already given on other similar questions but from what I think is my gradle wrapper is not the problem and those solution didn't solved my problem</p>\n"},{"tags":["java","pact","pact-jvm","pact-java","pact-broker"],"answers":[{"tags":[],"owner":{"account_id":442166,"reputation":1333,"user_id":832671,"display_name":"Beth Skurrie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536211302,"creation_date":1536211302,"answer_id":52197013,"question_id":52073464,"body_markdown":"This seems to be a defect. Can you please raise it in the https://github.com/dius/pact-jvm repository?","title":"Pact does not send provider-verification result to pact broker if junit 5 test fails","body":"<p>This seems to be a defect. Can you please raise it in the <a href=\"https://github.com/dius/pact-jvm\" rel=\"nofollow noreferrer\">https://github.com/dius/pact-jvm</a> repository?</p>\n"}],"owner":{"account_id":14242441,"reputation":1,"user_id":10288414,"display_name":"Lukas Vetter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2324,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692272461,"creation_date":1535533221,"question_id":52073464,"body_markdown":"I have created a REST-service with spring. Now I want to use pact and junit 5 to test the consumer-provider-communication. I have already a running pact-broker (from https://github.com/jaimeniswonger/pact-broker-openshift). The consumer-test works fine and publishes the pacts. The provider-test loads these and trys to verificat them. But the test uploads the results only if the verification is succesfull. I tried running the test with surefire and failsafe. \r\n\r\nThe code for the test:\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT, properties = &quot;server.port=12223&quot;)\r\n    @Provider(&quot;Provider&quot;)\r\n    @PactBroker\r\n    public class ProviderPactTest {\r\n    \r\n        @BeforeEach\r\n        void setupTestTarget(PactVerificationContext context) {\r\n            context.setTarget((new HttpsTestTarget(&quot;localhost&quot;, 12223, &quot;/&quot;, true)));\r\n        }\r\n    \r\n        @TestTemplate\r\n        @ExtendWith(PactVerificationInvocationContextProvider.class)\r\n        void pactVerificationTestTemplate(PactVerificationContext context) {\r\n            context.verifyInteraction();\r\n        }\r\n    \r\n        @State({ &quot;state1&quot; })\r\n        public void doNothing() {\r\n    \r\n        }\r\n    }\r\nThe pact broker properties are defined in the pom: \r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${maven.surefire.plugin.version}&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;systemPropertyVariables&gt;\r\n                &lt;pact.provider.version&gt;${project.version}&lt;/pact.provider.version&gt;\r\n                &lt;pact.verifier.publishResults&gt;true&lt;/pact.verifier.publishResults&gt;\r\n                &lt;pact.verification.reports&gt;json&lt;/pact.verification.reports&gt;\r\n                &lt;pactbroker.tags&gt;TAG&lt;/pactbroker.tags&gt;\r\n                &lt;pactbroker.host&gt;pact-broker.url.com&lt;/pactbroker.host&gt;\r\n                &lt;pactbroker.port&gt;80&lt;/pactbroker.port&gt;\r\n            &lt;/systemPropertyVariables&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\r\n                &lt;version&gt;${junit-platform.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n                &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/plugin&gt;\r\nIs it possible to configure the test to notify the pact-broker that a verification failed?","title":"Pact does not send provider-verification result to pact broker if junit 5 test fails","body":"<p>I have created a REST-service with spring. Now I want to use pact and junit 5 to test the consumer-provider-communication. I have already a running pact-broker (from <a href=\"https://github.com/jaimeniswonger/pact-broker-openshift\" rel=\"nofollow noreferrer\">https://github.com/jaimeniswonger/pact-broker-openshift</a>). The consumer-test works fine and publishes the pacts. The provider-test loads these and trys to verificat them. But the test uploads the results only if the verification is succesfull. I tried running the test with surefire and failsafe. </p>\n\n<p>The code for the test:</p>\n\n<pre><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT, properties = \"server.port=12223\")\n@Provider(\"Provider\")\n@PactBroker\npublic class ProviderPactTest {\n\n    @BeforeEach\n    void setupTestTarget(PactVerificationContext context) {\n        context.setTarget((new HttpsTestTarget(\"localhost\", 12223, \"/\", true)));\n    }\n\n    @TestTemplate\n    @ExtendWith(PactVerificationInvocationContextProvider.class)\n    void pactVerificationTestTemplate(PactVerificationContext context) {\n        context.verifyInteraction();\n    }\n\n    @State({ \"state1\" })\n    public void doNothing() {\n\n    }\n}\n</code></pre>\n\n<p>The pact broker properties are defined in the pom: </p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${maven.surefire.plugin.version}&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;systemPropertyVariables&gt;\n            &lt;pact.provider.version&gt;${project.version}&lt;/pact.provider.version&gt;\n            &lt;pact.verifier.publishResults&gt;true&lt;/pact.verifier.publishResults&gt;\n            &lt;pact.verification.reports&gt;json&lt;/pact.verification.reports&gt;\n            &lt;pactbroker.tags&gt;TAG&lt;/pactbroker.tags&gt;\n            &lt;pactbroker.host&gt;pact-broker.url.com&lt;/pactbroker.host&gt;\n            &lt;pactbroker.port&gt;80&lt;/pactbroker.port&gt;\n        &lt;/systemPropertyVariables&gt;\n    &lt;/configuration&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\n            &lt;version&gt;${junit-platform.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Is it possible to configure the test to notify the pact-broker that a verification failed?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"score":3,"creation_date":1645485962,"post_id":71213995,"comment_id":125879583,"body_markdown":"`List&lt;Integer&gt; copy = new ArrayList&lt;&gt;(orig); copy.remove(i);`?","body":"<code>List&lt;Integer&gt; copy = new ArrayList&lt;&gt;(orig); copy.remove(i);</code>?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1645487383,"post_id":71213995,"comment_id":125879832,"body_markdown":"I can think of several alternatives, but honestly they wouldn&#39;t be much of an improvement. What you have is not that bad.","body":"I can think of several alternatives, but honestly they wouldn&#39;t be much of an improvement. What you have is not that bad."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1645487411,"post_id":71213995,"comment_id":125879836,"body_markdown":"Note that you can replace `j -&gt; nums.get(j)` with `nums::get`.","body":"Note that you can replace <code>j -&gt; nums.get(j)</code> with <code>nums::get</code>."},{"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"score":0,"creation_date":1645488364,"post_id":71213995,"comment_id":125879996,"body_markdown":"You can keep track of the index by using an `AtomicInteger` instance. You start by instantiating such an instance with default value 0 ( for example `new AtomicInteger(0)`). Then you call `getAndIncrement()` on the instance from somewhere inside your stream. This will give you the current index and it also automatically increments the index by 1. So next time you call the method you&#39;ll get the updated index number.","body":"You can keep track of the index by using an <code>AtomicInteger</code> instance. You start by instantiating such an instance with default value 0 ( for example <code>new AtomicInteger(0)</code>). Then you call <code>getAndIncrement()</code> on the instance from somewhere inside your stream. This will give you the current index and it also automatically increments the index by 1. So next time you call the method you&#39;ll get the updated index number."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1645492712,"post_id":71213995,"comment_id":125880723,"body_markdown":"See `Stream#skip` in [this Answer](https://stackoverflow.com/a/43121966/642706). `myList.stream().skip(1).filter( somePredicate ).toList()`","body":"See <code>Stream#skip</code> in <a href=\"https://stackoverflow.com/a/43121966/642706\">this Answer</a>. <code>myList.stream().skip(1).filter( somePredicate ).toList()</code>"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645488769,"creation_date":1645486913,"answer_id":71214301,"question_id":71213995,"body_markdown":"You can do it like this but it&#39;s rather ugly.\r\n```\r\nList&lt;Integer&gt; list = List.of(1, 2, 3, 4, 5, 6, 7, 8, 9 );\r\n\r\nint skip = 3;\r\nList&lt;Integer&gt; result = new ArrayList&lt;&gt;(list.subList(0,skip));\r\nresult.addAll(list.subList(skip+1, list.size()));\r\n\r\nSystem.out.println(result);\r\n```\r\nprints\r\n```\r\n[1, 2, 3, 5, 6, 7, 8, 9]\r\n```\r\nYou could also employ [System.arrayCopy](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/System.html#arraycopy(java.lang.Object,int,java.lang.Object,int,int)) to specify ranges. But you would still have to do multiple copies.  If you have a big array, copying it and then removing the value might not be efficient (e.g. `ArrayLists` are are random access and values can&#39;t easily be deleted.  `LinkedList` values can easily be deleted but you have to count up or back to them first.)  So however you do it, partial copying (imo) would be the way to go.  Nothing is wrong with the way you are currently doing it. ","title":"Java - cleanest way to iterate over a stream keeping track of index","body":"<p>You can do it like this but it's rather ugly.</p>\n<pre><code>List&lt;Integer&gt; list = List.of(1, 2, 3, 4, 5, 6, 7, 8, 9 );\n\nint skip = 3;\nList&lt;Integer&gt; result = new ArrayList&lt;&gt;(list.subList(0,skip));\nresult.addAll(list.subList(skip+1, list.size()));\n\nSystem.out.println(result);\n</code></pre>\n<p>prints</p>\n<pre><code>[1, 2, 3, 5, 6, 7, 8, 9]\n</code></pre>\n<p>You could also employ <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/System.html#arraycopy(java.lang.Object,int,java.lang.Object,int,int)\" rel=\"nofollow noreferrer\">System.arrayCopy</a> to specify ranges. But you would still have to do multiple copies.  If you have a big array, copying it and then removing the value might not be efficient (e.g. <code>ArrayLists</code> are are random access and values can't easily be deleted.  <code>LinkedList</code> values can easily be deleted but you have to count up or back to them first.)  So however you do it, partial copying (imo) would be the way to go.  Nothing is wrong with the way you are currently doing it.</p>\n"},{"comments":[{"owner":{"account_id":1598303,"reputation":12302,"user_id":1479895,"accept_rate":78,"display_name":"Anton Belev"},"score":0,"creation_date":1645524528,"post_id":71214476,"comment_id":125888163,"body_markdown":"Thanks for adding the performance note for `new ArrayList&lt;&gt;(list);\nresult.remove(i);`. While it&#39;s the least verbose approach it&#39;s important to note it has performance implications.","body":"Thanks for adding the performance note for <code>new ArrayList&lt;&gt;(list); result.remove(i);</code>. While it&#39;s the least verbose approach it&#39;s important to note it has performance implications."}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1645490387,"creation_date":1645488750,"answer_id":71214476,"question_id":71213995,"body_markdown":"#### The simple way\r\n\r\n    List&lt;Foo&gt; result = new ArrayList&lt;&gt;(list);\r\n    result.remove(i);\r\n\r\nFor long lists and low values of `i`, this might be a bit slow because it has to shift the tail elements left, however for brevity and clarity you can&#39;t beat it.\r\n\r\n#### The stream way\r\n\r\nYou *can* use a stream and keep track of the index by using `AtomicInteger`, whose *reference* is effectively final, but whose *value* may be changed:\r\n\r\n    AtomicInteger index = new AtomicInteger();\r\n    List&lt;Foo&gt; result = list.stream()\r\n      .filter(x -&gt; index.getAndIncrement() != i)\r\n      .collect(toList());\r\n\r\nFor large lists this may be faster since no shift left is required, and you can do other stuff in the stream in the one operation.\r\n\r\nOf course if you want to filter many elements based on their index, you can do that without any performance hit.\r\n\r\nWith a stream, you might not even need the list if you just want to do stuff with the result directly:\r\n\r\n    list.stream()\r\n      .filter(x -&gt; index.getAndIncrement() != i)\r\n      .forEach(foo -&gt; {doSomething with foo});","title":"Java - cleanest way to iterate over a stream keeping track of index","body":"<h4>The simple way</h4>\n<pre><code>List&lt;Foo&gt; result = new ArrayList&lt;&gt;(list);\nresult.remove(i);\n</code></pre>\n<p>For long lists and low values of <code>i</code>, this might be a bit slow because it has to shift the tail elements left, however for brevity and clarity you can't beat it.</p>\n<h4>The stream way</h4>\n<p>You <em>can</em> use a stream and keep track of the index by using <code>AtomicInteger</code>, whose <em>reference</em> is effectively final, but whose <em>value</em> may be changed:</p>\n<pre><code>AtomicInteger index = new AtomicInteger();\nList&lt;Foo&gt; result = list.stream()\n  .filter(x -&gt; index.getAndIncrement() != i)\n  .collect(toList());\n</code></pre>\n<p>For large lists this may be faster since no shift left is required, and you can do other stuff in the stream in the one operation.</p>\n<p>Of course if you want to filter many elements based on their index, you can do that without any performance hit.</p>\n<p>With a stream, you might not even need the list if you just want to do stuff with the result directly:</p>\n<pre><code>list.stream()\n  .filter(x -&gt; index.getAndIncrement() != i)\n  .forEach(foo -&gt; {doSomething with foo});\n</code></pre>\n"}],"owner":{"account_id":1598303,"reputation":12302,"user_id":1479895,"accept_rate":78,"display_name":"Anton Belev"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":834,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1645492574,"accepted_answer_id":71214476,"answer_count":2,"score":1,"last_activity_date":1692272295,"creation_date":1645484252,"question_id":71213995,"body_markdown":"I&#39;m trying to come up with a clean way to copy all elements of an `ArrayList` but one, based on its index.\r\n\r\nIn JavaScript we can filter by value, but also based on index as well. So what I&#39;m trying to achieve will look something like that:\r\n\r\n    // nums is []\r\n    for(let i = 0; i &lt;nums.length; i++) {\r\n       let copyNums = nums.filter((n, index) =&gt; index !== i);\r\n    }\r\n\r\nIn Java best I could do so far is this, which is super long and verbose. Not to mention the I couldn&#39;t use `i` itself as it&#39;s not final otherwise I&#39;m getting \r\n\r\n&gt; Variable used in lambda expression should be final or effectively\r\n&gt; final\r\n           \r\n           // nums is ArrayList\r\n           for (int i = 0; i &lt; nums.size(); i++) {\r\n                final int index = i;\r\n                List&lt;Integer&gt; allElementsWithoutCurr = IntStream.range(0, nums.size())\r\n                        .filter(j -&gt; j != index)\r\n                        .mapToObj(j -&gt; nums.get(j))\r\n                        .collect(Collectors.toList());\r\n            }\r\n\r\nSurely there is a better way to achieve this in Java?","title":"Java - cleanest way to iterate over a stream keeping track of index","body":"<p>I'm trying to come up with a clean way to copy all elements of an <code>ArrayList</code> but one, based on its index.</p>\n<p>In JavaScript we can filter by value, but also based on index as well. So what I'm trying to achieve will look something like that:</p>\n<pre><code>// nums is []\nfor(let i = 0; i &lt;nums.length; i++) {\n   let copyNums = nums.filter((n, index) =&gt; index !== i);\n}\n</code></pre>\n<p>In Java best I could do so far is this, which is super long and verbose. Not to mention the I couldn't use <code>i</code> itself as it's not final otherwise I'm getting</p>\n<blockquote>\n<p>Variable used in lambda expression should be final or effectively\nfinal</p>\n</blockquote>\n<pre><code>       // nums is ArrayList\n       for (int i = 0; i &lt; nums.size(); i++) {\n            final int index = i;\n            List&lt;Integer&gt; allElementsWithoutCurr = IntStream.range(0, nums.size())\n                    .filter(j -&gt; j != index)\n                    .mapToObj(j -&gt; nums.get(j))\n                    .collect(Collectors.toList());\n        }\n</code></pre>\n<p>Surely there is a better way to achieve this in Java?</p>\n"},{"tags":["java","javafx","scenebuilder"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1692266202,"post_id":76920349,"comment_id":135601097,"body_markdown":"My guess is you&#39;re instantiating `LabyrinthCreate` manually. You need to interact with the controller instance managed by the `FXMLLoader`, as it&#39;s only that instance that has the FXML fields injected.","body":"My guess is you&#39;re instantiating <code>LabyrinthCreate</code> manually. You need to interact with the controller instance managed by the <code>FXMLLoader</code>, as it&#39;s only that instance that has the FXML fields injected."},{"owner":{"account_id":28857700,"reputation":21,"user_id":22102164,"display_name":"Antonella Sannino"},"score":0,"creation_date":1692266742,"post_id":76920349,"comment_id":135601198,"body_markdown":"i added my full code","body":"i added my full code"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1692267020,"post_id":76920349,"comment_id":135601247,"body_markdown":"My guess seems to be correct. In `LabyrinthName`, you call `createLab` on an instance created with `new LabyrinthCreate()`. Since you manually created that instance, the FXML field was never injected. I assume that `Scene3.fxml` is associated with `LabyrinthCreate`. You need to get the instance by calling `FXMLLoader#getController()` (after the call to `load()`).","body":"My guess seems to be correct. In <code>LabyrinthName</code>, you call <code>createLab</code> on an instance created with <code>new LabyrinthCreate()</code>. Since you manually created that instance, the FXML field was never injected. I assume that <code>Scene3.fxml</code> is associated with <code>LabyrinthCreate</code>. You need to get the instance by calling <code>FXMLLoader#getController()</code> (after the call to <code>load()</code>)."},{"owner":{"account_id":28857700,"reputation":21,"user_id":22102164,"display_name":"Antonella Sannino"},"score":0,"creation_date":1692268213,"post_id":76920349,"comment_id":135601442,"body_markdown":"In LabirynthName i added loader.getController() as you said but i still got the same error, maybe i have to create the fxml and the loader in LabirynthCreate? \nAlso yes you did understand what i was doing, thank you","body":"In LabirynthName i added loader.getController() as you said but i still got the same error, maybe i have to create the fxml and the loader in LabirynthCreate?  Also yes you did understand what i was doing, thank you"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1692268790,"post_id":76920349,"comment_id":135601558,"body_markdown":"You&#39;re saying `loader.&lt;LabyrinthCreate&gt;getController().create(window);` is throwing the _exact same_ `NullPointerException`?","body":"You&#39;re saying <code>loader.&lt;LabyrinthCreate&gt;getController().create(window);</code> is throwing the <i>exact same</i> <code>NullPointerException</code>?"},{"owner":{"account_id":28857700,"reputation":21,"user_id":22102164,"display_name":"Antonella Sannino"},"score":0,"creation_date":1692269611,"post_id":76920349,"comment_id":135601713,"body_markdown":"I understood what you said, the right way was loader.&lt;LabyrinthCreate&gt;getController().createLab(window); thank you so much Slaw","body":"I understood what you said, the right way was loader.&lt;LabyrinthCreate&gt;getController().createLab(window); thank you so much Slaw"}],"answers":[{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1692438509,"post_id":76920824,"comment_id":135625301,"body_markdown":"_In **class** `LabirynthName`_ you _needed to add ..._ Maybe post the corrected code showing where, exactly you added `loader.getController().createLab(window);`?","body":"<i>In <b>class</b> <code>LabirynthName</code></i> you <i>needed to add ...</i> Maybe post the corrected code showing where, exactly you added <code>loader.getController().createLab(window);</code>?"}],"tags":[],"owner":{"account_id":28857700,"reputation":21,"user_id":22102164,"display_name":"Antonella Sannino"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692269652,"creation_date":1692269652,"answer_id":76920824,"question_id":76920349,"body_markdown":"In labirynthName i needed to add \r\nloader.&lt;LabyrinthCreate&gt;getController().createLab(window);\r\n","title":"No injectable field found in FXML Controller class for the id &#39;wall&#39; Java fx Scenebuilder","body":"<p>In labirynthName i needed to add\nloader.getController().createLab(window);</p>\n"},{"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1692270830,"creation_date":1692270830,"answer_id":76920968,"question_id":76920349,"body_markdown":"When you have an `fx:controller` attribute in the root element of the FXML file, then you must not instantiate the controller class yourself (possibly unless you&#39;re also defining a custom [controller factory][1]). The `FXMLLoader` will instantiate the controller for you (via reflection by default) and it&#39;s only that instance which will have any `@FXML`-annotated fields injected. You can get this controller instance by calling [`FXMLLoader#getController()`][2] _after_ the call to `load()`.\r\n\r\nFor example, let&#39;s say you have the following FXML file and associated controller class.\r\n\r\n**Main.fxml**:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.layout.StackPane?&gt;\r\n\r\n&lt;StackPane xmlns=&quot;http://javafx.com/javafx&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot;\r\n           fx:controller=&quot;com.example.Controller&quot;&gt;\r\n    &lt;Label fx:id=&quot;label&quot;/&gt;\r\n&lt;/StackPane&gt;\r\n```\r\n\r\n**Controller.java**:\r\n\r\n```java\r\npackage com.example;\r\n\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.Label;\r\n\r\npublic class Controller {\r\n\r\n    @FXML private Label label;\r\n\r\n    public void setLabelText(String labelText) {\r\n        label.setText(labelText);\r\n    }\r\n}\r\n```\r\n\r\nThen you&#39;d load the FXML file, get the controller instance, and call `setLabelText` like so.\r\n\r\n**Main.java**:\r\n\r\n```java\r\npackage com.example;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\npublic class Main extends Application {\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception {\r\n        // Assumes &#39;Main.fxml&#39; is at the root of the class-path/module-path\r\n        FXMLLoader loader = new FXMLLoader(Main.class.getResource(&quot;/Main.fxml&quot;));\r\n        \r\n        Parent root = loader.load();\r\n\r\n        // Get *managed* controller instance (after call to &#39;load()&#39;)\r\n        Controller controller = loader.getController();\r\n        // Call method on the managed controller instance\r\n        controller.setLabelText(&quot;Hello, World!&quot;);\r\n\r\n        primaryStage.setScene(new Scene(root, 500, 300));\r\n        primaryStage.show();\r\n    }\r\n}\r\n```\r\n\r\nIf the following was done instead (similar to your code):\r\n\r\n```java\r\nController controller = new Controller();\r\ncontroller.setLabelText(&quot;Hello, World!&quot;);\r\n```\r\n\r\nThen a `NullPointerException` would&#39;ve been thrown, because the controller instance is an _unmanaged_ instance and thus the `label` field was never injected.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/20/javafx.fxml/javafx/fxml/FXMLLoader.html#setControllerFactory(javafx.util.Callback)\r\n  [2]: https://openjfx.io/javadoc/20/javafx.fxml/javafx/fxml/FXMLLoader.html#getController()","title":"No injectable field found in FXML Controller class for the id &#39;wall&#39; Java fx Scenebuilder","body":"<p>When you have an <code>fx:controller</code> attribute in the root element of the FXML file, then you must not instantiate the controller class yourself (possibly unless you're also defining a custom <a href=\"https://openjfx.io/javadoc/20/javafx.fxml/javafx/fxml/FXMLLoader.html#setControllerFactory(javafx.util.Callback)\" rel=\"nofollow noreferrer\">controller factory</a>). The <code>FXMLLoader</code> will instantiate the controller for you (via reflection by default) and it's only that instance which will have any <code>@FXML</code>-annotated fields injected. You can get this controller instance by calling <a href=\"https://openjfx.io/javadoc/20/javafx.fxml/javafx/fxml/FXMLLoader.html#getController()\" rel=\"nofollow noreferrer\"><code>FXMLLoader#getController()</code></a> <em>after</em> the call to <code>load()</code>.</p>\n<p>For example, let's say you have the following FXML file and associated controller class.</p>\n<p><strong>Main.fxml</strong>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.layout.StackPane?&gt;\n\n&lt;StackPane xmlns=&quot;http://javafx.com/javafx&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot;\n           fx:controller=&quot;com.example.Controller&quot;&gt;\n    &lt;Label fx:id=&quot;label&quot;/&gt;\n&lt;/StackPane&gt;\n</code></pre>\n<p><strong>Controller.java</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Label;\n\npublic class Controller {\n\n    @FXML private Label label;\n\n    public void setLabelText(String labelText) {\n        label.setText(labelText);\n    }\n}\n</code></pre>\n<p>Then you'd load the FXML file, get the controller instance, and call <code>setLabelText</code> like so.</p>\n<p><strong>Main.java</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        // Assumes 'Main.fxml' is at the root of the class-path/module-path\n        FXMLLoader loader = new FXMLLoader(Main.class.getResource(&quot;/Main.fxml&quot;));\n        \n        Parent root = loader.load();\n\n        // Get *managed* controller instance (after call to 'load()')\n        Controller controller = loader.getController();\n        // Call method on the managed controller instance\n        controller.setLabelText(&quot;Hello, World!&quot;);\n\n        primaryStage.setScene(new Scene(root, 500, 300));\n        primaryStage.show();\n    }\n}\n</code></pre>\n<p>If the following was done instead (similar to your code):</p>\n<pre class=\"lang-java prettyprint-override\"><code>Controller controller = new Controller();\ncontroller.setLabelText(&quot;Hello, World!&quot;);\n</code></pre>\n<p>Then a <code>NullPointerException</code> would've been thrown, because the controller instance is an <em>unmanaged</em> instance and thus the <code>label</code> field was never injected.</p>\n"}],"owner":{"account_id":28857700,"reputation":21,"user_id":22102164,"display_name":"Antonella Sannino"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1692270830,"creation_date":1692265652,"question_id":76920349,"body_markdown":"i&#39;m programming a maze for a project for my university. \r\nI created some scenes where you have to click on play to continue then you insert your name and surname then the code will create the maze etc. \r\nI got some problems with scenebuilder and FXML files, when i create a rectangle in scene builder then i call it with the same id in java i got this error: **Cannot invoke &quot;javafx.scene.shape.Rectangle.setX(double)&quot; because &quot;this.wall&quot; is null** i checked everything, but i can&#39;t find the problem, in scene builder the scene has the controller class setted, also it worked for the other scene, only in this scene builder can&#39;t find the injectable field. \r\nThis is my code (it hasn&#39;t nothing in Labirynth Create but i already have some code to create the game, this is simplified for you to understand my problem) \r\nThank you so much.\r\n\r\n\r\n```\r\npackage com.maze.Models;\r\n\r\nimport javafx.beans.binding.BooleanBinding;\r\nimport javafx.beans.property.BooleanProperty;\r\nimport javafx.beans.property.SimpleBooleanProperty;\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.Group;\r\nimport javafx.scene.image.ImageView;\r\nimport javafx.animation.AnimationTimer;\r\nimport javafx.scene.input.KeyCode;\r\n\r\n\r\npublic class Player {\r\n\r\n\r\n    private BooleanProperty upPressed = new SimpleBooleanProperty();\r\n    private BooleanProperty leftPressed = new SimpleBooleanProperty();\r\n    private BooleanProperty downPressed = new SimpleBooleanProperty();\r\n    private BooleanProperty rightPressed = new SimpleBooleanProperty();\r\n    private BooleanProperty upRight = new SimpleBooleanProperty();\r\n    private BooleanProperty upLeft = new SimpleBooleanProperty();\r\n    private BooleanProperty downRight = new SimpleBooleanProperty();\r\n    private BooleanProperty downLeft = new SimpleBooleanProperty();\r\n\r\n    private BooleanBinding keyPressed = upPressed.or(leftPressed).or(downPressed).or(rightPressed).or(upRight).or(upLeft).or(downRight).or(downLeft);\r\n\r\n    int row;\r\n    int col;\r\n\r\n   public Player ()\r\n    {\r\n        row=0;\r\n        col=0;\r\n    }\r\n\r\n    @FXML\r\n    private ImageView sprite;\r\n\r\n    @FXML\r\n    private Group scene;\r\n\r\n\r\n\r\n    public void makeMovable(ImageView sprite, Group scene){\r\n        this.sprite = sprite;\r\n        this.scene = scene;\r\n\r\n        movementSetup();\r\n\r\n        keyPressed.addListener(((observableValue, aBoolean, t1) -&gt; {\r\n            if(!aBoolean){\r\n                timer.start();\r\n            } else {\r\n                timer.stop();\r\n            }\r\n        }));\r\n    }\r\n\r\n    AnimationTimer timer = new AnimationTimer() {\r\n        @Override\r\n        public void handle(long timestamp) {\r\n\r\n            if(upPressed.get()) {\r\n\r\n                if (row&gt;=0 &amp;&amp; row&lt;9)\r\n                {\r\n\r\n                    sprite.setLayoutY(sprite.getLayoutY() - 75);\r\n                    upPressed.set(false);\r\n                    row++;\r\n                }\r\n                upPressed.set(false);\r\n\r\n            }\r\n\r\n            if(downPressed.get()){\r\n\r\n                if (row&gt;0 &amp;&amp; row&lt;=9)\r\n                {\r\n                    sprite.setLayoutY(sprite.getLayoutY() + 75);\r\n                    downPressed.set(false);\r\n                    row--;\r\n                }\r\n                downPressed.set(false);\r\n\r\n            }\r\n\r\n            if(leftPressed.get()){\r\n\r\n                if (col&gt;0 &amp;&amp; col&lt;=9)\r\n                {\r\n                    sprite.setLayoutX(sprite.getLayoutX() - 75);\r\n                    leftPressed.set(false);\r\n                    col--;\r\n                }\r\n                leftPressed.set(false);\r\n            }\r\n\r\n            if(rightPressed.get()){\r\n\r\n                if (col&gt;=0 &amp;&amp; col&lt;9)\r\n                {\r\n                    sprite.setLayoutX(sprite.getLayoutX() + 75);\r\n                    rightPressed.set(false);\r\n                    col++;\r\n                }\r\n                rightPressed.set(false);\r\n            }\r\n\r\n\r\n            if(upRight.get()){\r\n\r\n                if (col&gt;=0 &amp;&amp; col&lt;9 &amp;&amp; row&gt;=0 &amp;&amp; row&lt;9)\r\n                {\r\n\r\n                    sprite.setLayoutX(sprite.getLayoutX() + 75);\r\n                    sprite.setLayoutY(sprite.getLayoutY() - 75);\r\n                    upRight.set(false);\r\n                    col++;\r\n                    row++;\r\n                    System.out.println(&quot;Posizione attuale&quot;+row+col);\r\n                }\r\n                upRight.set(false);\r\n            }\r\n\r\n            if(upLeft.get()){\r\n\r\n                if (col&gt;0 &amp;&amp; col&lt;=9 &amp;&amp; row&gt;=0 &amp;&amp; row&lt;9)\r\n                {\r\n                    sprite.setLayoutX(sprite.getLayoutX() - 75);\r\n                    sprite.setLayoutY(sprite.getLayoutY() - 75);\r\n                    upLeft.set(false);\r\n                    col--;\r\n                    row++;\r\n                    System.out.println(&quot;Posizione attuale&quot;+row+col);\r\n                }\r\n                upLeft.set(false);\r\n            }\r\n\r\n            if(downRight.get()){\r\n\r\n                if (row&gt;0 &amp;&amp; row&lt;=9 &amp;&amp; col&gt;=0 &amp;&amp; col&lt;9)\r\n                {\r\n                    sprite.setLayoutX(sprite.getLayoutX() + 75);\r\n                    sprite.setLayoutY(sprite.getLayoutY() + 75);\r\n                    downRight.set(false);\r\n                    col++;\r\n                    row--;\r\n                    System.out.println(&quot;Posizione attuale&quot;+row+col);\r\n                }\r\n                downRight.set(false);\r\n            }\r\n\r\n            if(downLeft.get()){\r\n\r\n                if (col&gt;0 &amp;&amp; col&lt;=9 &amp;&amp; row&gt;0 &amp;&amp; row&lt;=9)\r\n                {\r\n                    sprite.setLayoutX(sprite.getLayoutX() - 75);\r\n                    sprite.setLayoutY(sprite.getLayoutY() + 75);\r\n                    downLeft.set(false);\r\n                    col--;\r\n                    row--;\r\n                    System.out.println(&quot;Posizione attuale&quot;+row+col);\r\n                }\r\n                downLeft.set(false);\r\n            }\r\n\r\n\r\n        }\r\n    };\r\n\r\n    private void movementSetup(){\r\n        scene.setOnKeyPressed(e -&gt; {\r\n            if(e.getCode() == KeyCode.W) {\r\n                upPressed.set(true);\r\n            }\r\n\r\n            if(e.getCode() == KeyCode.A) {\r\n                leftPressed.set(true);\r\n            }\r\n\r\n            if(e.getCode() == KeyCode.S) {\r\n                downPressed.set(true);\r\n            }\r\n\r\n            if(e.getCode() == KeyCode.D) {\r\n                rightPressed.set(true);\r\n            }\r\n            ///\r\n            if(e.getCode() == KeyCode.E) {\r\n                upRight.set(true);\r\n            }\r\n\r\n            if(e.getCode() == KeyCode.Q) {\r\n                upLeft.set(true);\r\n            }\r\n\r\n            if(e.getCode() == KeyCode.C) {\r\n                downRight.set(true);\r\n            }\r\n\r\n            if(e.getCode() == KeyCode.Z) {\r\n                downLeft.set(true);\r\n            }\r\n        });\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\npackage com.maze.Models;\r\n\r\npublic class User {\r\n\r\n\r\n       private String name, surname;\r\n\r\n\r\n\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n        public void setSurname(String surname) {\r\n            this.surname = surname;\r\n        }\r\n        public String getName() {\r\n            return name;\r\n        }\r\n        public String getSurname() {\r\n            return surname;\r\n        }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\npackage com.maze.Models;\r\n\r\npublic class Model {\r\n    private static Model instance;\r\n    private User user;\r\n\r\n    public static synchronized Model getInstance(){\r\n        if (instance == null)\r\n        {\r\n            instance = new Model();\r\n        }\r\n        return instance;\r\n    }\r\n\r\n    private Model() {\r\n        this.user= new User();\r\n    }\r\n\r\n    public void createUser (String name, String surname)\r\n    {\r\n        user.setName(name);\r\n        user.setSurname(surname);\r\n        System.out.println(user.getName());\r\n        System.out.println(user.getName());\r\n    }\r\n\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n```\r\npackage com.maze.Models;\r\n\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Rectangle;\r\nimport java.lang.Cloneable;\r\nimport java.lang.Object;\r\npublic class Cella implements Cloneable {\r\n\r\n    private Rectangle rect;\r\n\r\n\r\n    public Cella()\r\n    {\r\n        rect = new Rectangle();\r\n        rect.setX(75);\r\n        rect.setY(75);\r\n        rect.setHeight(70);\r\n        rect.setWidth(70);\r\n        rect.setFill(Color.GRAY);\r\n    }\r\n    public Cella (Cella temp)\r\n    {\r\n        temp.rect.setX(this.rect.getX()*2);\r\n        temp.rect.setY(this.rect.getY()*2);\r\n        temp.rect.setHeight(this.rect.getHeight());\r\n        temp.rect.setWidth(this.rect.getWidth());\r\n        temp.rect.setFill(this.rect.getFill());\r\n    }\r\n\r\n    public Rectangle getRectangle(){\r\n        return rect;\r\n    }\r\n\r\n    public void editX(int x)\r\n    {\r\n        rect.setX(x);\r\n    }\r\n\r\n    public void editY(int y)\r\n    {\r\n        rect.setY(y);\r\n    }\r\n\r\n    @Override\r\n    public Object clone() throws CloneNotSupportedException\r\n    {\r\n      Cella temp= new Cella();\r\n      temp.rect.setX(this.rect.getX());\r\n      temp.rect.setY(this.rect.getY());\r\n      temp.rect.setHeight(this.rect.getHeight());\r\n      temp.rect.setWidth(this.rect.getWidth());\r\n      temp.rect.setFill(this.rect.getFill());\r\n      return temp;\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\npackage com.maze.Views;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.AnchorPane;\r\nimport javafx.stage.Stage;\r\nimport javafx.scene.Parent;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class LabyrinthApplication extends Application {\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n\r\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(\r\n                &quot;/com/maze/FXML/Scene1.fxml&quot;));\r\n\r\n        Parent root = loader.load();\r\n        Scene scene = new Scene(root,1000,900);\r\n\r\n\r\n\r\n\r\n        stage.setTitle(&quot;Labyrinth&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n        stage.setResizable(false);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n```\r\npackage com.maze.ViewModels;\r\n\r\nimport com.maze.Models.Model;\r\nimport com.maze.Models.User;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.image.Image;\r\nimport javafx.scene.image.ImageView;\r\nimport javafx.stage.Stage;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.stage.Stage;\r\n\r\n\r\n\r\npublic class LabyrinthName {\r\n    @FXML\r\n    private TextField nametext;\r\n    @FXML\r\n    private TextField surnametext;\r\n    @FXML\r\n    private Button submitbutton;\r\n\r\n\r\n    String Name, Surname;\r\n    LabyrinthCreate create = new LabyrinthCreate();\r\n\r\n    @FXML\r\n\r\n    public void submit(ActionEvent event) throws Exception\r\n    {\r\n        Name = nametext.getText();\r\n        Surname = surnametext.getText();\r\n        Model.getInstance().createUser(Name,Surname);\r\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(\r\n                &quot;/com/maze/FXML/Scene3.fxml&quot;));\r\n        Parent root = loader.load();\r\n        Stage window = (Stage) submitbutton.getScene().getWindow();\r\n\r\n        window.setScene(new Scene(root,1000,900));\r\n        window.setResizable(false);\r\n        create.createLab(window);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\n    package com.maze.ViewModels;\r\n\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.image.Image;\r\nimport javafx.scene.image.ImageView;\r\nimport javafx.scene.layout.AnchorPane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.stage.Stage;\r\n\r\npublic class LabyrinthController {\r\n    @FXML\r\n    Button playbutton;\r\n\r\n    public void onPlayButtonClick() throws Exception {\r\n\r\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(\r\n                &quot;/com/maze/FXML/Scene2.fxml&quot;));\r\n        Parent root = loader.load();\r\n        Stage window = (Stage) playbutton.getScene().getWindow();\r\n        window.setScene(new Scene(root,1000,900));\r\n\r\n\r\n        window.setResizable(false);\r\n\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n\r\n\r\n```\r\npackage com.maze.ViewModels;\r\n\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.shape.Rectangle;\r\nimport javafx.stage.Stage;\r\n\r\npublic class LabyrinthCreate\r\n{\r\n\r\n\r\n    @FXML\r\n    private Rectangle wall;\r\n\r\n    public void createLab(Stage primaryStage) throws Exception\r\n    {\r\n\r\n\r\n        wall.setX(100);\r\n        wall.setY(100);\r\n\r\n        System.out.println(&quot;tutto ok&quot;);\r\n        primaryStage.show();\r\n    }\r\n}\r\n```\r\n```xml\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.effect.DropShadow?&gt;\r\n&lt;?import javafx.scene.image.Image?&gt;\r\n&lt;?import javafx.scene.image.ImageView?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n&lt;?import javafx.scene.paint.Color?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n&lt;?import javafx.scene.text.Text?&gt;\r\n\r\n&lt;VBox alignment=&quot;CENTER&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;800.0&quot; prefWidth=&quot;900.0&quot; spacing=&quot;20.0&quot; style=&quot;-fx-background-color: black;&quot; xmlns=&quot;http://javafx.com/javafx/20.0.0&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.maze.ViewModels.LabyrinthController&quot;&gt;\r\n  &lt;padding&gt;\r\n    &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\r\n  &lt;/padding&gt;\r\n   &lt;children&gt;\r\n      &lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;800.0&quot; prefWidth=&quot;900.0&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;Text fill=&quot;WHITE&quot; layoutX=&quot;183.0&quot; layoutY=&quot;306.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;MAZE GAME &quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font name=&quot;Cooper Black&quot; size=&quot;64.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Text&gt;\r\n            &lt;Button fx:id=&quot;playbutton&quot; layoutX=&quot;326.0&quot; layoutY=&quot;391.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#onPlayButtonClick&quot; prefHeight=&quot;63.0&quot; prefWidth=&quot;218.0&quot; style=&quot;-fx-background-color: grey;&quot; text=&quot;Play&quot; textAlignment=&quot;CENTER&quot; textFill=&quot;WHITE&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font name=&quot;Cooper Black&quot; size=&quot;46.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n               &lt;effect&gt;\r\n                  &lt;DropShadow height=&quot;103.07&quot; offsetX=&quot;6.0&quot; radius=&quot;40.775&quot; width=&quot;62.03&quot;&gt;\r\n                     &lt;color&gt;\r\n                        &lt;Color red=&quot;0.32894736528396606&quot; green=&quot;0.3259015679359436&quot; blue=&quot;0.3259015679359436&quot; /&gt;\r\n                     &lt;/color&gt;\r\n                  &lt;/DropShadow&gt;\r\n               &lt;/effect&gt;\r\n            &lt;/Button&gt;\r\n            &lt;Text fill=&quot;WHITE&quot; layoutX=&quot;513.0&quot; layoutY=&quot;771.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Created by Antonella Sannino&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font name=&quot;Cooper Black&quot; size=&quot;24.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Text&gt;\r\n            &lt;ImageView fx:id=&quot;startRobot&quot; fitHeight=&quot;150.0&quot; fitWidth=&quot;200.0&quot; layoutX=&quot;617.0&quot; layoutY=&quot;192.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\r\n               &lt;image&gt;\r\n                  &lt;Image url=&quot;@../image/robot.png&quot; /&gt;\r\n               &lt;/image&gt;\r\n            &lt;/ImageView&gt;\r\n         &lt;/children&gt;\r\n      &lt;/AnchorPane&gt;\r\n   &lt;/children&gt;\r\n&lt;/VBox&gt;\r\n\r\n```\r\n\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n&lt;?import javafx.scene.text.Text?&gt;\r\n\r\n&lt;VBox alignment=&quot;CENTER&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;800.0&quot; prefWidth=&quot;900.0&quot; spacing=&quot;20.0&quot; style=&quot;-fx-background-color: black;&quot; xmlns=&quot;http://javafx.com/javafx/20.0.0&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.maze.ViewModels.LabyrinthName&quot;&gt;\r\n  &lt;padding&gt;\r\n    &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\r\n  &lt;/padding&gt;\r\n   &lt;children&gt;\r\n      &lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;800.0&quot; prefWidth=&quot;900.0&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;Button fx:id=&quot;submitbutton&quot; alignment=&quot;CENTER&quot; contentDisplay=&quot;CENTER&quot; layoutX=&quot;399.0&quot; layoutY=&quot;472.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#submit&quot; prefHeight=&quot;49.0&quot; prefWidth=&quot;102.0&quot; text=&quot;Submit&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font name=&quot;System Bold&quot; size=&quot;20.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Button&gt;\r\n            &lt;TextField fx:id=&quot;nametext&quot; layoutX=&quot;283.0&quot; layoutY=&quot;360.0&quot; style=&quot;-fx-alignment: center;&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font name=&quot;Arial Bold&quot; size=&quot;12.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/TextField&gt;\r\n            &lt;Text fill=&quot;WHITE&quot; layoutX=&quot;310.0&quot; layoutY=&quot;344.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Name&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font name=&quot;Cooper Black&quot; size=&quot;33.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Text&gt;\r\n            &lt;TextField fx:id=&quot;surnametext&quot; alignment=&quot;CENTER_RIGHT&quot; layoutX=&quot;466.0&quot; layoutY=&quot;360.0&quot; style=&quot;-fx-alignment: center;&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font name=&quot;Arial Bold&quot; size=&quot;12.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/TextField&gt;\r\n            &lt;Text fill=&quot;WHITE&quot; layoutX=&quot;465.0&quot; layoutY=&quot;343.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Surname&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font name=&quot;Cooper Black&quot; size=&quot;33.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Text&gt;\r\n            &lt;Text fill=&quot;WHITE&quot; layoutX=&quot;306.0&quot; layoutY=&quot;235.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Insert your name&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font name=&quot;Cooper Black&quot; size=&quot;33.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Text&gt;\r\n         &lt;/children&gt;\r\n      &lt;/AnchorPane&gt;\r\n   &lt;/children&gt;\r\n&lt;/VBox&gt;\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n&lt;?import javafx.scene.shape.Rectangle?&gt;\r\n\r\n&lt;VBox maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;900.0&quot; prefWidth=&quot;1000.0&quot; style=&quot;-fx-background-color: black;&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.maze.ViewModels.LabyrinthCreate&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;Rectangle fx:id=&quot;wall&quot; arcHeight=&quot;5.0&quot; arcWidth=&quot;5.0&quot; fill=&quot;DODGERBLUE&quot; height=&quot;200.0&quot; stroke=&quot;BLACK&quot; strokeType=&quot;INSIDE&quot; width=&quot;200.0&quot; /&gt;\r\n   &lt;/children&gt;\r\n&lt;/VBox&gt;\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n[Scenebuilder view](https://i.stack.imgur.com/8G9rn.png)\r\n\r\n\r\n\r\n\r\n\r\nI was expecting scene builder to find the id for Rectangle class.","title":"No injectable field found in FXML Controller class for the id &#39;wall&#39; Java fx Scenebuilder","body":"<p>i'm programming a maze for a project for my university.\nI created some scenes where you have to click on play to continue then you insert your name and surname then the code will create the maze etc.\nI got some problems with scenebuilder and FXML files, when i create a rectangle in scene builder then i call it with the same id in java i got this error: <strong>Cannot invoke &quot;javafx.scene.shape.Rectangle.setX(double)&quot; because &quot;this.wall&quot; is null</strong> i checked everything, but i can't find the problem, in scene builder the scene has the controller class setted, also it worked for the other scene, only in this scene builder can't find the injectable field.\nThis is my code (it hasn't nothing in Labirynth Create but i already have some code to create the game, this is simplified for you to understand my problem)\nThank you so much.</p>\n<pre><code>package com.maze.Models;\n\nimport javafx.beans.binding.BooleanBinding;\nimport javafx.beans.property.BooleanProperty;\nimport javafx.beans.property.SimpleBooleanProperty;\nimport javafx.fxml.FXML;\nimport javafx.scene.Group;\nimport javafx.scene.image.ImageView;\nimport javafx.animation.AnimationTimer;\nimport javafx.scene.input.KeyCode;\n\n\npublic class Player {\n\n\n    private BooleanProperty upPressed = new SimpleBooleanProperty();\n    private BooleanProperty leftPressed = new SimpleBooleanProperty();\n    private BooleanProperty downPressed = new SimpleBooleanProperty();\n    private BooleanProperty rightPressed = new SimpleBooleanProperty();\n    private BooleanProperty upRight = new SimpleBooleanProperty();\n    private BooleanProperty upLeft = new SimpleBooleanProperty();\n    private BooleanProperty downRight = new SimpleBooleanProperty();\n    private BooleanProperty downLeft = new SimpleBooleanProperty();\n\n    private BooleanBinding keyPressed = upPressed.or(leftPressed).or(downPressed).or(rightPressed).or(upRight).or(upLeft).or(downRight).or(downLeft);\n\n    int row;\n    int col;\n\n   public Player ()\n    {\n        row=0;\n        col=0;\n    }\n\n    @FXML\n    private ImageView sprite;\n\n    @FXML\n    private Group scene;\n\n\n\n    public void makeMovable(ImageView sprite, Group scene){\n        this.sprite = sprite;\n        this.scene = scene;\n\n        movementSetup();\n\n        keyPressed.addListener(((observableValue, aBoolean, t1) -&gt; {\n            if(!aBoolean){\n                timer.start();\n            } else {\n                timer.stop();\n            }\n        }));\n    }\n\n    AnimationTimer timer = new AnimationTimer() {\n        @Override\n        public void handle(long timestamp) {\n\n            if(upPressed.get()) {\n\n                if (row&gt;=0 &amp;&amp; row&lt;9)\n                {\n\n                    sprite.setLayoutY(sprite.getLayoutY() - 75);\n                    upPressed.set(false);\n                    row++;\n                }\n                upPressed.set(false);\n\n            }\n\n            if(downPressed.get()){\n\n                if (row&gt;0 &amp;&amp; row&lt;=9)\n                {\n                    sprite.setLayoutY(sprite.getLayoutY() + 75);\n                    downPressed.set(false);\n                    row--;\n                }\n                downPressed.set(false);\n\n            }\n\n            if(leftPressed.get()){\n\n                if (col&gt;0 &amp;&amp; col&lt;=9)\n                {\n                    sprite.setLayoutX(sprite.getLayoutX() - 75);\n                    leftPressed.set(false);\n                    col--;\n                }\n                leftPressed.set(false);\n            }\n\n            if(rightPressed.get()){\n\n                if (col&gt;=0 &amp;&amp; col&lt;9)\n                {\n                    sprite.setLayoutX(sprite.getLayoutX() + 75);\n                    rightPressed.set(false);\n                    col++;\n                }\n                rightPressed.set(false);\n            }\n\n\n            if(upRight.get()){\n\n                if (col&gt;=0 &amp;&amp; col&lt;9 &amp;&amp; row&gt;=0 &amp;&amp; row&lt;9)\n                {\n\n                    sprite.setLayoutX(sprite.getLayoutX() + 75);\n                    sprite.setLayoutY(sprite.getLayoutY() - 75);\n                    upRight.set(false);\n                    col++;\n                    row++;\n                    System.out.println(&quot;Posizione attuale&quot;+row+col);\n                }\n                upRight.set(false);\n            }\n\n            if(upLeft.get()){\n\n                if (col&gt;0 &amp;&amp; col&lt;=9 &amp;&amp; row&gt;=0 &amp;&amp; row&lt;9)\n                {\n                    sprite.setLayoutX(sprite.getLayoutX() - 75);\n                    sprite.setLayoutY(sprite.getLayoutY() - 75);\n                    upLeft.set(false);\n                    col--;\n                    row++;\n                    System.out.println(&quot;Posizione attuale&quot;+row+col);\n                }\n                upLeft.set(false);\n            }\n\n            if(downRight.get()){\n\n                if (row&gt;0 &amp;&amp; row&lt;=9 &amp;&amp; col&gt;=0 &amp;&amp; col&lt;9)\n                {\n                    sprite.setLayoutX(sprite.getLayoutX() + 75);\n                    sprite.setLayoutY(sprite.getLayoutY() + 75);\n                    downRight.set(false);\n                    col++;\n                    row--;\n                    System.out.println(&quot;Posizione attuale&quot;+row+col);\n                }\n                downRight.set(false);\n            }\n\n            if(downLeft.get()){\n\n                if (col&gt;0 &amp;&amp; col&lt;=9 &amp;&amp; row&gt;0 &amp;&amp; row&lt;=9)\n                {\n                    sprite.setLayoutX(sprite.getLayoutX() - 75);\n                    sprite.setLayoutY(sprite.getLayoutY() + 75);\n                    downLeft.set(false);\n                    col--;\n                    row--;\n                    System.out.println(&quot;Posizione attuale&quot;+row+col);\n                }\n                downLeft.set(false);\n            }\n\n\n        }\n    };\n\n    private void movementSetup(){\n        scene.setOnKeyPressed(e -&gt; {\n            if(e.getCode() == KeyCode.W) {\n                upPressed.set(true);\n            }\n\n            if(e.getCode() == KeyCode.A) {\n                leftPressed.set(true);\n            }\n\n            if(e.getCode() == KeyCode.S) {\n                downPressed.set(true);\n            }\n\n            if(e.getCode() == KeyCode.D) {\n                rightPressed.set(true);\n            }\n            ///\n            if(e.getCode() == KeyCode.E) {\n                upRight.set(true);\n            }\n\n            if(e.getCode() == KeyCode.Q) {\n                upLeft.set(true);\n            }\n\n            if(e.getCode() == KeyCode.C) {\n                downRight.set(true);\n            }\n\n            if(e.getCode() == KeyCode.Z) {\n                downLeft.set(true);\n            }\n        });\n\n    }\n}\n\n</code></pre>\n<pre><code>package com.maze.Models;\n\npublic class User {\n\n\n       private String name, surname;\n\n\n\n        public void setName(String name) {\n            this.name = name;\n        }\n        public void setSurname(String surname) {\n            this.surname = surname;\n        }\n        public String getName() {\n            return name;\n        }\n        public String getSurname() {\n            return surname;\n        }\n\n}\n</code></pre>\n<pre><code>package com.maze.Models;\n\npublic class Model {\n    private static Model instance;\n    private User user;\n\n    public static synchronized Model getInstance(){\n        if (instance == null)\n        {\n            instance = new Model();\n        }\n        return instance;\n    }\n\n    private Model() {\n        this.user= new User();\n    }\n\n    public void createUser (String name, String surname)\n    {\n        user.setName(name);\n        user.setSurname(surname);\n        System.out.println(user.getName());\n        System.out.println(user.getName());\n    }\n\n\n\n}\n</code></pre>\n<pre><code>package com.maze.Models;\n\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Rectangle;\nimport java.lang.Cloneable;\nimport java.lang.Object;\npublic class Cella implements Cloneable {\n\n    private Rectangle rect;\n\n\n    public Cella()\n    {\n        rect = new Rectangle();\n        rect.setX(75);\n        rect.setY(75);\n        rect.setHeight(70);\n        rect.setWidth(70);\n        rect.setFill(Color.GRAY);\n    }\n    public Cella (Cella temp)\n    {\n        temp.rect.setX(this.rect.getX()*2);\n        temp.rect.setY(this.rect.getY()*2);\n        temp.rect.setHeight(this.rect.getHeight());\n        temp.rect.setWidth(this.rect.getWidth());\n        temp.rect.setFill(this.rect.getFill());\n    }\n\n    public Rectangle getRectangle(){\n        return rect;\n    }\n\n    public void editX(int x)\n    {\n        rect.setX(x);\n    }\n\n    public void editY(int y)\n    {\n        rect.setY(y);\n    }\n\n    @Override\n    public Object clone() throws CloneNotSupportedException\n    {\n      Cella temp= new Cella();\n      temp.rect.setX(this.rect.getX());\n      temp.rect.setY(this.rect.getY());\n      temp.rect.setHeight(this.rect.getHeight());\n      temp.rect.setWidth(this.rect.getWidth());\n      temp.rect.setFill(this.rect.getFill());\n      return temp;\n    }\n\n\n}\n\n\n</code></pre>\n<pre><code>package com.maze.Views;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.stage.Stage;\nimport javafx.scene.Parent;\n\nimport java.io.IOException;\n\npublic class LabyrinthApplication extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(\n                &quot;/com/maze/FXML/Scene1.fxml&quot;));\n\n        Parent root = loader.load();\n        Scene scene = new Scene(root,1000,900);\n\n\n\n\n        stage.setTitle(&quot;Labyrinth&quot;);\n        stage.setScene(scene);\n        stage.show();\n        stage.setResizable(false);\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<pre><code>package com.maze.ViewModels;\n\nimport com.maze.Models.Model;\nimport com.maze.Models.User;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.stage.Stage;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TextField;\nimport javafx.stage.Stage;\n\n\n\npublic class LabyrinthName {\n    @FXML\n    private TextField nametext;\n    @FXML\n    private TextField surnametext;\n    @FXML\n    private Button submitbutton;\n\n\n    String Name, Surname;\n    LabyrinthCreate create = new LabyrinthCreate();\n\n    @FXML\n\n    public void submit(ActionEvent event) throws Exception\n    {\n        Name = nametext.getText();\n        Surname = surnametext.getText();\n        Model.getInstance().createUser(Name,Surname);\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(\n                &quot;/com/maze/FXML/Scene3.fxml&quot;));\n        Parent root = loader.load();\n        Stage window = (Stage) submitbutton.getScene().getWindow();\n\n        window.setScene(new Scene(root,1000,900));\n        window.setResizable(false);\n        create.createLab(window);\n    }\n\n}\n\n</code></pre>\n<pre><code>    package com.maze.ViewModels;\n\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.scene.paint.Color;\nimport javafx.stage.Stage;\n\npublic class LabyrinthController {\n    @FXML\n    Button playbutton;\n\n    public void onPlayButtonClick() throws Exception {\n\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(\n                &quot;/com/maze/FXML/Scene2.fxml&quot;));\n        Parent root = loader.load();\n        Stage window = (Stage) playbutton.getScene().getWindow();\n        window.setScene(new Scene(root,1000,900));\n\n\n        window.setResizable(false);\n\n    }\n}\n\n\n</code></pre>\n<pre><code>package com.maze.ViewModels;\n\nimport javafx.fxml.FXML;\nimport javafx.scene.shape.Rectangle;\nimport javafx.stage.Stage;\n\npublic class LabyrinthCreate\n{\n\n\n    @FXML\n    private Rectangle wall;\n\n    public void createLab(Stage primaryStage) throws Exception\n    {\n\n\n        wall.setX(100);\n        wall.setY(100);\n\n        System.out.println(&quot;tutto ok&quot;);\n        primaryStage.show();\n    }\n}\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.effect.DropShadow?&gt;\n&lt;?import javafx.scene.image.Image?&gt;\n&lt;?import javafx.scene.image.ImageView?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;?import javafx.scene.paint.Color?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n&lt;?import javafx.scene.text.Text?&gt;\n\n&lt;VBox alignment=&quot;CENTER&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;800.0&quot; prefWidth=&quot;900.0&quot; spacing=&quot;20.0&quot; style=&quot;-fx-background-color: black;&quot; xmlns=&quot;http://javafx.com/javafx/20.0.0&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.maze.ViewModels.LabyrinthController&quot;&gt;\n  &lt;padding&gt;\n    &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\n  &lt;/padding&gt;\n   &lt;children&gt;\n      &lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;800.0&quot; prefWidth=&quot;900.0&quot;&gt;\n         &lt;children&gt;\n            &lt;Text fill=&quot;WHITE&quot; layoutX=&quot;183.0&quot; layoutY=&quot;306.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;MAZE GAME &quot;&gt;\n               &lt;font&gt;\n                  &lt;Font name=&quot;Cooper Black&quot; size=&quot;64.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Text&gt;\n            &lt;Button fx:id=&quot;playbutton&quot; layoutX=&quot;326.0&quot; layoutY=&quot;391.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#onPlayButtonClick&quot; prefHeight=&quot;63.0&quot; prefWidth=&quot;218.0&quot; style=&quot;-fx-background-color: grey;&quot; text=&quot;Play&quot; textAlignment=&quot;CENTER&quot; textFill=&quot;WHITE&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font name=&quot;Cooper Black&quot; size=&quot;46.0&quot; /&gt;\n               &lt;/font&gt;\n               &lt;effect&gt;\n                  &lt;DropShadow height=&quot;103.07&quot; offsetX=&quot;6.0&quot; radius=&quot;40.775&quot; width=&quot;62.03&quot;&gt;\n                     &lt;color&gt;\n                        &lt;Color red=&quot;0.32894736528396606&quot; green=&quot;0.3259015679359436&quot; blue=&quot;0.3259015679359436&quot; /&gt;\n                     &lt;/color&gt;\n                  &lt;/DropShadow&gt;\n               &lt;/effect&gt;\n            &lt;/Button&gt;\n            &lt;Text fill=&quot;WHITE&quot; layoutX=&quot;513.0&quot; layoutY=&quot;771.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Created by Antonella Sannino&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font name=&quot;Cooper Black&quot; size=&quot;24.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Text&gt;\n            &lt;ImageView fx:id=&quot;startRobot&quot; fitHeight=&quot;150.0&quot; fitWidth=&quot;200.0&quot; layoutX=&quot;617.0&quot; layoutY=&quot;192.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\n               &lt;image&gt;\n                  &lt;Image url=&quot;@../image/robot.png&quot; /&gt;\n               &lt;/image&gt;\n            &lt;/ImageView&gt;\n         &lt;/children&gt;\n      &lt;/AnchorPane&gt;\n   &lt;/children&gt;\n&lt;/VBox&gt;\n\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n&lt;?import javafx.scene.text.Text?&gt;\n\n&lt;VBox alignment=&quot;CENTER&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;800.0&quot; prefWidth=&quot;900.0&quot; spacing=&quot;20.0&quot; style=&quot;-fx-background-color: black;&quot; xmlns=&quot;http://javafx.com/javafx/20.0.0&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.maze.ViewModels.LabyrinthName&quot;&gt;\n  &lt;padding&gt;\n    &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\n  &lt;/padding&gt;\n   &lt;children&gt;\n      &lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;800.0&quot; prefWidth=&quot;900.0&quot;&gt;\n         &lt;children&gt;\n            &lt;Button fx:id=&quot;submitbutton&quot; alignment=&quot;CENTER&quot; contentDisplay=&quot;CENTER&quot; layoutX=&quot;399.0&quot; layoutY=&quot;472.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#submit&quot; prefHeight=&quot;49.0&quot; prefWidth=&quot;102.0&quot; text=&quot;Submit&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font name=&quot;System Bold&quot; size=&quot;20.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Button&gt;\n            &lt;TextField fx:id=&quot;nametext&quot; layoutX=&quot;283.0&quot; layoutY=&quot;360.0&quot; style=&quot;-fx-alignment: center;&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font name=&quot;Arial Bold&quot; size=&quot;12.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/TextField&gt;\n            &lt;Text fill=&quot;WHITE&quot; layoutX=&quot;310.0&quot; layoutY=&quot;344.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Name&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font name=&quot;Cooper Black&quot; size=&quot;33.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Text&gt;\n            &lt;TextField fx:id=&quot;surnametext&quot; alignment=&quot;CENTER_RIGHT&quot; layoutX=&quot;466.0&quot; layoutY=&quot;360.0&quot; style=&quot;-fx-alignment: center;&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font name=&quot;Arial Bold&quot; size=&quot;12.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/TextField&gt;\n            &lt;Text fill=&quot;WHITE&quot; layoutX=&quot;465.0&quot; layoutY=&quot;343.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Surname&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font name=&quot;Cooper Black&quot; size=&quot;33.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Text&gt;\n            &lt;Text fill=&quot;WHITE&quot; layoutX=&quot;306.0&quot; layoutY=&quot;235.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Insert your name&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font name=&quot;Cooper Black&quot; size=&quot;33.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Text&gt;\n         &lt;/children&gt;\n      &lt;/AnchorPane&gt;\n   &lt;/children&gt;\n&lt;/VBox&gt;\n\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;?import javafx.scene.shape.Rectangle?&gt;\n\n&lt;VBox maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;900.0&quot; prefWidth=&quot;1000.0&quot; style=&quot;-fx-background-color: black;&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.maze.ViewModels.LabyrinthCreate&quot;&gt;\n   &lt;children&gt;\n      &lt;Rectangle fx:id=&quot;wall&quot; arcHeight=&quot;5.0&quot; arcWidth=&quot;5.0&quot; fill=&quot;DODGERBLUE&quot; height=&quot;200.0&quot; stroke=&quot;BLACK&quot; strokeType=&quot;INSIDE&quot; width=&quot;200.0&quot; /&gt;\n   &lt;/children&gt;\n&lt;/VBox&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/8G9rn.png\" rel=\"nofollow noreferrer\">Scenebuilder view</a></p>\n<p>I was expecting scene builder to find the id for Rectangle class.</p>\n"},{"tags":["java","android","networking","connection","retrofit2"],"answers":[{"tags":[],"owner":{"account_id":29212915,"reputation":29,"user_id":22380473,"display_name":"Johannes Schidlowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692269537,"creation_date":1692269537,"answer_id":76920809,"question_id":76912294,"body_markdown":"Did you add\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n\r\nin your Manifest?","title":"Unable to resolve host or failed to connect","body":"<p>Did you add</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n</code></pre>\n<p>in your Manifest?</p>\n"},{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1692436378,"post_id":76920934,"comment_id":135625108,"body_markdown":"The OP stated that it is not a network problem Did you not see this part of the question: _The source of the problem may be a poor network connection but I observe that when the problem occurs the connection is good enough that I can load website in a browser._","body":"The OP stated that it is not a network problem Did you not see this part of the question: <i>The source of the problem may be a poor network connection but I observe that when the problem occurs the connection is good enough that I can load website in a browser.</i>"}],"tags":[],"owner":{"account_id":20369966,"reputation":11,"user_id":14942360,"display_name":"Harshil Thakkar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692270615,"creation_date":1692270615,"answer_id":76920934,"question_id":76912294,"body_markdown":"Please Check your Internet connected or not or else check api server in postman.","title":"Unable to resolve host or failed to connect","body":"<p>Please Check your Internet connected or not or else check api server in postman.</p>\n"}],"owner":{"account_id":4557119,"reputation":67,"user_id":3700538,"display_name":"user3700538"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692270615,"creation_date":1692178362,"question_id":76912294,"body_markdown":"In my android application, I periodically get two types of errors saying there is a network connection problem. I am using retrofit2 2.9.0. Application got all needed permissions. Data network is used.\r\n\r\nMy app periodically (every 15 minutes) syncs with home server and api.openweathermap.org. The problem occurs for both, so it is not an issue of my server.\r\n\r\nI increased retrofit (OkHttpClient) timeout to 30secs without a luck.\r\n\r\nThe source of the problem may be a poor network connection but I observe that when the problem occurs the connection is good enough that I can load website in a browser.\r\n\r\n```\r\nfailed to connect to xxxxxx.com/xxx.xxx.xxx.xxx (port 443) from /192.0.0.4 (port 54944) after 30000ms\r\nlibcore.io.IoBridge.connectErrno(IoBridge.java:190)\r\nlibcore.io.IoBridge.connect(IoBridge.java:134)\r\njava.net.PlainSocketImpl.socketConnect(PlainSocketImpl.java:142)\r\njava.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:390)\r\njava.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:230)\r\njava.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:212)\r\njava.net.SocksSocketImpl.connect(SocksSocketImpl.java:436)\r\njava.net.Socket.connect(Socket.java:631)\r\nokhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)\r\nokhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)\r\nokhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)\r\nokhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)\r\nokhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)\r\nokhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)\r\nokhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)\r\nokhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)\r\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\nokhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)\r\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\nokhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)\r\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\nokhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)\r\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\nokhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)\r\nokhttp3.internal.connection.RealCall$AsyncCall.run(RealCall.kt:517)\r\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\njava.lang.Thread.run(Thread.java:923)\r\n```\r\n\r\n```\r\nUnable to resolve host &quot;xxxxxx.com&quot;: No address associated with hostname\r\njava.net.Inet6AddressImpl.lookupHostByName(Inet6AddressImpl.java:156)\r\njava.net.Inet6AddressImpl.lookupAllHostAddr(Inet6AddressImpl.java:103)\r\njava.net.InetAddress.getAllByName(InetAddress.java:1152)\r\nokhttp3.Dns$Companion$DnsSystem.lookup(Dns.kt:49)\r\nokhttp3.internal.connection.RouteSelector.resetNextInetSocketAddress(RouteSelector.kt:164)\r\nokhttp3.internal.connection.RouteSelector.nextProxy(RouteSelector.kt:129)\r\nokhttp3.internal.connection.RouteSelector.next(RouteSelector.kt:71)\r\nokhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:205)\r\nokhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)\r\nokhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)\r\nokhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)\r\nokhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)\r\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\nokhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)\r\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\nokhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)\r\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\nokhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)\r\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\nokhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)\r\nokhttp3.internal.connection.RealCall$AsyncCall.run(RealCall.kt:517)\r\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\njava.lang.Thread.run(Thread.java:923)\r\nlibcore.io.Linux.android_getaddrinfo(Native Method)\r\nlibcore.io.ForwardingOs.android_getaddrinfo(ForwardingOs.java:73)\r\nlibcore.io.BlockGuardOs.android_getaddrinfo(BlockGuardOs.java:202)\r\nlibcore.io.ForwardingOs.android_getaddrinfo(ForwardingOs.java:73)\r\njava.net.Inet6AddressImpl.lookupHostByName(Inet6AddressImpl.java:135)\r\njava.net.Inet6AddressImpl.lookupAllHostAddr(Inet6AddressImpl.java:103)\r\njava.net.InetAddress.getAllByName(InetAddress.java:1152)\r\nokhttp3.Dns$Companion$DnsSystem.lookup(Dns.kt:49)\r\nokhttp3.internal.connection.RouteSelector.resetNextInetSocketAddress(RouteSelector.kt:164)\r\nokhttp3.internal.connection.RouteSelector.nextProxy(RouteSelector.kt:129)\r\nokhttp3.internal.connection.RouteSelector.next(RouteSelector.kt:71)\r\nokhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:205)\r\nokhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)\r\nokhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)\r\nokhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)\r\nokhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)\r\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\nokhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)\r\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\nokhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)\r\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\nokhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)\r\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\nokhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)\r\nokhttp3.internal.connection.RealCall$AsyncCall.run(RealCall.kt:517)\r\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\njava.lang.Thread.run(Thread.java:923)\r\n```","title":"Unable to resolve host or failed to connect","body":"<p>In my android application, I periodically get two types of errors saying there is a network connection problem. I am using retrofit2 2.9.0. Application got all needed permissions. Data network is used.</p>\n<p>My app periodically (every 15 minutes) syncs with home server and api.openweathermap.org. The problem occurs for both, so it is not an issue of my server.</p>\n<p>I increased retrofit (OkHttpClient) timeout to 30secs without a luck.</p>\n<p>The source of the problem may be a poor network connection but I observe that when the problem occurs the connection is good enough that I can load website in a browser.</p>\n<pre><code>failed to connect to xxxxxx.com/xxx.xxx.xxx.xxx (port 443) from /192.0.0.4 (port 54944) after 30000ms\nlibcore.io.IoBridge.connectErrno(IoBridge.java:190)\nlibcore.io.IoBridge.connect(IoBridge.java:134)\njava.net.PlainSocketImpl.socketConnect(PlainSocketImpl.java:142)\njava.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:390)\njava.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:230)\njava.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:212)\njava.net.SocksSocketImpl.connect(SocksSocketImpl.java:436)\njava.net.Socket.connect(Socket.java:631)\nokhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)\nokhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)\nokhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)\nokhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)\nokhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)\nokhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)\nokhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)\nokhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\nokhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\nokhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\nokhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\nokhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)\nokhttp3.internal.connection.RealCall$AsyncCall.run(RealCall.kt:517)\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\njava.lang.Thread.run(Thread.java:923)\n</code></pre>\n<pre><code>Unable to resolve host &quot;xxxxxx.com&quot;: No address associated with hostname\njava.net.Inet6AddressImpl.lookupHostByName(Inet6AddressImpl.java:156)\njava.net.Inet6AddressImpl.lookupAllHostAddr(Inet6AddressImpl.java:103)\njava.net.InetAddress.getAllByName(InetAddress.java:1152)\nokhttp3.Dns$Companion$DnsSystem.lookup(Dns.kt:49)\nokhttp3.internal.connection.RouteSelector.resetNextInetSocketAddress(RouteSelector.kt:164)\nokhttp3.internal.connection.RouteSelector.nextProxy(RouteSelector.kt:129)\nokhttp3.internal.connection.RouteSelector.next(RouteSelector.kt:71)\nokhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:205)\nokhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)\nokhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)\nokhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)\nokhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\nokhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\nokhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\nokhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\nokhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)\nokhttp3.internal.connection.RealCall$AsyncCall.run(RealCall.kt:517)\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\njava.lang.Thread.run(Thread.java:923)\nlibcore.io.Linux.android_getaddrinfo(Native Method)\nlibcore.io.ForwardingOs.android_getaddrinfo(ForwardingOs.java:73)\nlibcore.io.BlockGuardOs.android_getaddrinfo(BlockGuardOs.java:202)\nlibcore.io.ForwardingOs.android_getaddrinfo(ForwardingOs.java:73)\njava.net.Inet6AddressImpl.lookupHostByName(Inet6AddressImpl.java:135)\njava.net.Inet6AddressImpl.lookupAllHostAddr(Inet6AddressImpl.java:103)\njava.net.InetAddress.getAllByName(InetAddress.java:1152)\nokhttp3.Dns$Companion$DnsSystem.lookup(Dns.kt:49)\nokhttp3.internal.connection.RouteSelector.resetNextInetSocketAddress(RouteSelector.kt:164)\nokhttp3.internal.connection.RouteSelector.nextProxy(RouteSelector.kt:129)\nokhttp3.internal.connection.RouteSelector.next(RouteSelector.kt:71)\nokhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:205)\nokhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)\nokhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)\nokhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)\nokhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\nokhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\nokhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\nokhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\nokhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)\nokhttp3.internal.connection.RealCall$AsyncCall.run(RealCall.kt:517)\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\njava.lang.Thread.run(Thread.java:923)\n</code></pre>\n"},{"tags":["java","sql-server","jpa","keycloak"],"comments":[{"owner":{"account_id":2903767,"reputation":125,"user_id":2489730,"display_name":"Beast"},"score":0,"creation_date":1678375044,"post_id":75686314,"comment_id":133523562,"body_markdown":"Did you read through the documentation about how to upgrade Keycloak? https://www.keycloak.org/docs/latest/upgrading/#intro\n\nI had a similar issue when upgrading, but used a custom jpa class instead of a config file so I&#39;m not sure how to help.","body":"Did you read through the documentation about how to upgrade Keycloak? <a href=\"https://www.keycloak.org/docs/latest/upgrading/#intro\" rel=\"nofollow noreferrer\">keycloak.org/docs/latest/upgrading/#intro</a>  I had a similar issue when upgrading, but used a custom jpa class instead of a config file so I&#39;m not sure how to help."},{"owner":{"account_id":12720837,"reputation":93,"user_id":9241321,"display_name":"Florian Weber"},"score":0,"creation_date":1679344964,"post_id":75686314,"comment_id":133702325,"body_markdown":"Hi, sorry for my late reply. Yes i followed the upgrade guide from their docs and i don&#39;t have installed custom providers.","body":"Hi, sorry for my late reply. Yes i followed the upgrade guide from their docs and i don&#39;t have installed custom providers."}],"owner":{"account_id":12720837,"reputation":93,"user_id":9241321,"display_name":"Florian Weber"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":825,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692270483,"creation_date":1678373889,"question_id":75686314,"body_markdown":"I&#39;m trying to upgrade my Keycloak instance, currently running Keycloak 18, to Keycloak 21.\r\nBut I always execute the database migration command from the documentation or try to execute a build, I get the following error:\r\n\r\n```bash\r\nsudo -u keycloak /opt/keycloak_21/bin/kc.sh --config-file=/opt/keycloak_21/conf/keycloak.conf --verbose start --spi-connections-jpa-legacy-migration-strategy=update --db=mssql --transaction-xa-enabled=false\r\n\r\nChanges detected in configuration. Updating the server image.\r\nUpdating the configuration and installing your custom providers, if any. Please wait.\r\n2023-03-09 15:29:00,793 INFO  [org.keycloak.common.Profile] (main) Preview features enabled: admin-fine-grained-authz, client-secret-rotation, declarative-user-profile, openshift-integration, recovery-codes, scripts, token-exchange, update-email\r\n2023-03-09 15:29:00,793 WARN  [org.keycloak.common.Profile] (main) Experimental features enabled: dynamic-scopes, map-storage\r\n2023-03-09 15:29:00,828 INFO  [org.keycloak.common.Profile] (main) Preview features enabled: admin-fine-grained-authz, client-secret-rotation, declarative-user-profile, openshift-integration, recovery-codes, scripts, token-exchange, update-email\r\n2023-03-09 15:29:00,828 WARN  [org.keycloak.common.Profile] (main) Experimental features enabled: dynamic-scopes, map-storage\r\n2023-03-09 15:29:01,841 INFO  [org.keycloak.common.Profile] (build-57) Preview features enabled: admin-fine-grained-authz, client-secret-rotation, declarative-user-profile, openshift-integration, recovery-codes, scripts, token-exchange, update-email\r\n2023-03-09 15:29:01,870 WARN  [org.keycloak.common.Profile] (build-57) Experimental features enabled: dynamic-scopes, map-storage\r\n2023-03-09 15:29:01,828 INFO  [org.keycloak.common.Profile] (build-79) Preview features enabled: admin-fine-grained-authz, client-secret-rotation, declarative-user-profile, openshift-integration, recovery-codes, scripts, token-exchange, update-email\r\n2023-03-09 15:29:01,874 WARN  [org.keycloak.common.Profile] (build-79) Experimental features enabled: dynamic-scopes, map-storage\r\nERROR: Failed to run &#39;build&#39; command.\r\nError details:\r\njava.lang.reflect.InvocationTargetException\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at io.quarkus.bootstrap.runner.QuarkusEntryPoint.doReaugment(QuarkusEntryPoint.java:84)\r\n        at io.quarkus.bootstrap.runner.QuarkusEntryPoint.doRun(QuarkusEntryPoint.java:48)\r\n        at io.quarkus.bootstrap.runner.QuarkusEntryPoint.main(QuarkusEntryPoint.java:32)\r\n        at org.keycloak.quarkus.runtime.cli.command.Build.run(Build.java:71)\r\n        at picocli.CommandLine.executeUserObject(CommandLine.java:1939)\r\n        at picocli.CommandLine.access$1300(CommandLine.java:145)\r\n        at picocli.CommandLine$RunLast.executeUserObjectOfLastSubcommandWithSameParent(CommandLine.java:2358)\r\n        at picocli.CommandLine$RunLast.handle(CommandLine.java:2352)\r\n        at picocli.CommandLine$RunLast.handle(CommandLine.java:2314)\r\n        at picocli.CommandLine$AbstractParseResultHandler.execute(CommandLine.java:2179)\r\n        at picocli.CommandLine$RunLast.execute(CommandLine.java:2316)\r\n        at picocli.CommandLine.execute(CommandLine.java:2078)\r\n        at org.keycloak.quarkus.runtime.cli.Picocli.runReAugmentation(Picocli.java:183)\r\n        at org.keycloak.quarkus.runtime.cli.Picocli.runReAugmentationIfNeeded(Picocli.java:120)\r\n        at org.keycloak.quarkus.runtime.cli.Picocli.parseAndRun(Picocli.java:88)\r\n        at org.keycloak.quarkus.runtime.KeycloakMain.main(KeycloakMain.java:88)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at io.quarkus.bootstrap.runner.QuarkusEntryPoint.doRun(QuarkusEntryPoint.java:61)\r\n        at io.quarkus.bootstrap.runner.QuarkusEntryPoint.main(QuarkusEntryPoint.java:32)\r\nCaused by: java.lang.RuntimeException: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\r\n        [error]: Build step org.keycloak.quarkus.deployment.KeycloakProcessor#configureKeycloakSessionFactory threw an exception: java.lang.RuntimeException: Failed to find provider jpa for userSessionPersister\r\n        at org.keycloak.quarkus.deployment.KeycloakProcessor.checkProviders(KeycloakProcessor.java:799)\r\n        at org.keycloak.quarkus.deployment.KeycloakProcessor.configureKeycloakSessionFactory(KeycloakProcessor.java:366)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:909)\r\n        at io.quarkus.builder.BuildContext.run(BuildContext.java:281)\r\n        at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\n        at org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\n\r\n        at io.quarkus.runner.bootstrap.AugmentActionImpl.runAugment(AugmentActionImpl.java:335)\r\n        at io.quarkus.runner.bootstrap.AugmentActionImpl.createProductionApplication(AugmentActionImpl.java:175)\r\n        at io.quarkus.deployment.mutability.ReaugmentTask.main(ReaugmentTask.java:69)\r\n        ... 26 more\r\nCaused by: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\r\n        [error]: Build step org.keycloak.quarkus.deployment.KeycloakProcessor#configureKeycloakSessionFactory threw an exception: java.lang.RuntimeException: Failed to find provider jpa for userSessionPersister\r\n        at org.keycloak.quarkus.deployment.KeycloakProcessor.checkProviders(KeycloakProcessor.java:799)\r\n        at org.keycloak.quarkus.deployment.KeycloakProcessor.configureKeycloakSessionFactory(KeycloakProcessor.java:366)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:909)\r\n        at io.quarkus.builder.BuildContext.run(BuildContext.java:281)\r\n        at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\n        at org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\n\r\n        at io.quarkus.builder.Execution.run(Execution.java:123)\r\n        at io.quarkus.builder.BuildExecutionBuilder.execute(BuildExecutionBuilder.java:79)\r\n        at io.quarkus.deployment.QuarkusAugmentor.run(QuarkusAugmentor.java:160)\r\n        at io.quarkus.runner.bootstrap.AugmentActionImpl.runAugment(AugmentActionImpl.java:331)\r\n        ... 28 more\r\nCaused by: java.lang.RuntimeException: Failed to find provider jpa for userSessionPersister\r\n        at org.keycloak.quarkus.deployment.KeycloakProcessor.checkProviders(KeycloakProcessor.java:799)\r\n        at org.keycloak.quarkus.deployment.KeycloakProcessor.configureKeycloakSessionFactory(KeycloakProcessor.java:366)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:909)\r\n        at io.quarkus.builder.BuildContext.run(BuildContext.java:281)\r\n        at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\n        at org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\n```\r\n\r\nThe same behavior is when I&#39;m attempting to upgrade to Keycloak 20 or 19.\r\nSadly, I don&#39;t know a lot about Java or the exceptions I get, so I hope anyone could help me or give me a hint. Every time I attempt to use Google, I get the same results, which are not mentioning the provider mentioned in my error message.\r\n\r\nMy config:\r\n\r\n```\r\n# Basic settings for running in production. Change accordingly before deploying the server.\r\n\r\n# Features\r\n\r\nfeatures=authorization,account2,account-api,admin-fine-grained-authz,admin2,impersonation,scripts,token-exchange,web-authn,client-policies,ciba,map-storage,par,declarative-user-profile,dynamic-scopes,client-secret-rotation,step-up-authentication,recovery-codes,update-email,preview\r\n\r\n# Database\r\n\r\n# The database vendor.\r\ndb=mssql\r\n\r\n# The username of the database user.\r\ndb-username=keycloak_user\r\n\r\n# The password of the database user.\r\ndb-password=****\r\n\r\n# The full database JDBC URL. If not provided, a default URL is set based on the selected database vendor.\r\ndb-url=jdbc:sqlserver://srv-sql.hostname.local:1433;DatabaseName=keycloak_qs;\r\n\r\ntransaction-xa-enabled=false\r\n\r\n# Observability\r\n\r\n# If the server should expose healthcheck endpoints.\r\nhealth-enabled=true\r\n\r\n# If the server should expose metrics endpoints.\r\nmetrics-enabled=true\r\n\r\n# HTTP\r\n\r\nhttp-enabled=true\r\n\r\nhttp-host=10.*.*.***\r\n\r\nhttp-port=8080\r\n\r\n# The proxy address forwarding mode if the server is behind a reverse proxy.\r\nproxy=edge\r\nhostname-strict=true\r\n\r\nhostname=kc-qs.hostname.local\r\nhostname-strict-https=true\r\n\r\n# Do not attach route to cookies and rely on the session affinity capabilities from reverse proxy\r\nspi-sticky-session-encoder-infinispan-should-attach-route=false\r\n\r\n\r\n# Health\r\n\r\nhealth-enabled=true\r\n\r\n# Logging\r\n\r\nlog=console,file\r\n\r\nlog-console-color=true\r\n\r\nlog-level=info\r\n\r\n# Cache\r\n\r\ncache=ispn\r\n\r\ncache-stack=udp\r\n```\r\n\r\nMaybe I only need a quick prod to find the solution or to see the obvious hint in the error message.\r\n\r\nThanks in advance!","title":"Keycloak Upgrade &quot;Failed to find provider jpa for userSessionPersister&quot;","body":"<p>I'm trying to upgrade my Keycloak instance, currently running Keycloak 18, to Keycloak 21.\nBut I always execute the database migration command from the documentation or try to execute a build, I get the following error:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>sudo -u keycloak /opt/keycloak_21/bin/kc.sh --config-file=/opt/keycloak_21/conf/keycloak.conf --verbose start --spi-connections-jpa-legacy-migration-strategy=update --db=mssql --transaction-xa-enabled=false\n\nChanges detected in configuration. Updating the server image.\nUpdating the configuration and installing your custom providers, if any. Please wait.\n2023-03-09 15:29:00,793 INFO  [org.keycloak.common.Profile] (main) Preview features enabled: admin-fine-grained-authz, client-secret-rotation, declarative-user-profile, openshift-integration, recovery-codes, scripts, token-exchange, update-email\n2023-03-09 15:29:00,793 WARN  [org.keycloak.common.Profile] (main) Experimental features enabled: dynamic-scopes, map-storage\n2023-03-09 15:29:00,828 INFO  [org.keycloak.common.Profile] (main) Preview features enabled: admin-fine-grained-authz, client-secret-rotation, declarative-user-profile, openshift-integration, recovery-codes, scripts, token-exchange, update-email\n2023-03-09 15:29:00,828 WARN  [org.keycloak.common.Profile] (main) Experimental features enabled: dynamic-scopes, map-storage\n2023-03-09 15:29:01,841 INFO  [org.keycloak.common.Profile] (build-57) Preview features enabled: admin-fine-grained-authz, client-secret-rotation, declarative-user-profile, openshift-integration, recovery-codes, scripts, token-exchange, update-email\n2023-03-09 15:29:01,870 WARN  [org.keycloak.common.Profile] (build-57) Experimental features enabled: dynamic-scopes, map-storage\n2023-03-09 15:29:01,828 INFO  [org.keycloak.common.Profile] (build-79) Preview features enabled: admin-fine-grained-authz, client-secret-rotation, declarative-user-profile, openshift-integration, recovery-codes, scripts, token-exchange, update-email\n2023-03-09 15:29:01,874 WARN  [org.keycloak.common.Profile] (build-79) Experimental features enabled: dynamic-scopes, map-storage\nERROR: Failed to run 'build' command.\nError details:\njava.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at io.quarkus.bootstrap.runner.QuarkusEntryPoint.doReaugment(QuarkusEntryPoint.java:84)\n        at io.quarkus.bootstrap.runner.QuarkusEntryPoint.doRun(QuarkusEntryPoint.java:48)\n        at io.quarkus.bootstrap.runner.QuarkusEntryPoint.main(QuarkusEntryPoint.java:32)\n        at org.keycloak.quarkus.runtime.cli.command.Build.run(Build.java:71)\n        at picocli.CommandLine.executeUserObject(CommandLine.java:1939)\n        at picocli.CommandLine.access$1300(CommandLine.java:145)\n        at picocli.CommandLine$RunLast.executeUserObjectOfLastSubcommandWithSameParent(CommandLine.java:2358)\n        at picocli.CommandLine$RunLast.handle(CommandLine.java:2352)\n        at picocli.CommandLine$RunLast.handle(CommandLine.java:2314)\n        at picocli.CommandLine$AbstractParseResultHandler.execute(CommandLine.java:2179)\n        at picocli.CommandLine$RunLast.execute(CommandLine.java:2316)\n        at picocli.CommandLine.execute(CommandLine.java:2078)\n        at org.keycloak.quarkus.runtime.cli.Picocli.runReAugmentation(Picocli.java:183)\n        at org.keycloak.quarkus.runtime.cli.Picocli.runReAugmentationIfNeeded(Picocli.java:120)\n        at org.keycloak.quarkus.runtime.cli.Picocli.parseAndRun(Picocli.java:88)\n        at org.keycloak.quarkus.runtime.KeycloakMain.main(KeycloakMain.java:88)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at io.quarkus.bootstrap.runner.QuarkusEntryPoint.doRun(QuarkusEntryPoint.java:61)\n        at io.quarkus.bootstrap.runner.QuarkusEntryPoint.main(QuarkusEntryPoint.java:32)\nCaused by: java.lang.RuntimeException: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\n        [error]: Build step org.keycloak.quarkus.deployment.KeycloakProcessor#configureKeycloakSessionFactory threw an exception: java.lang.RuntimeException: Failed to find provider jpa for userSessionPersister\n        at org.keycloak.quarkus.deployment.KeycloakProcessor.checkProviders(KeycloakProcessor.java:799)\n        at org.keycloak.quarkus.deployment.KeycloakProcessor.configureKeycloakSessionFactory(KeycloakProcessor.java:366)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:909)\n        at io.quarkus.builder.BuildContext.run(BuildContext.java:281)\n        at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n        at java.base/java.lang.Thread.run(Thread.java:829)\n        at org.jboss.threads.JBossThread.run(JBossThread.java:501)\n\n        at io.quarkus.runner.bootstrap.AugmentActionImpl.runAugment(AugmentActionImpl.java:335)\n        at io.quarkus.runner.bootstrap.AugmentActionImpl.createProductionApplication(AugmentActionImpl.java:175)\n        at io.quarkus.deployment.mutability.ReaugmentTask.main(ReaugmentTask.java:69)\n        ... 26 more\nCaused by: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\n        [error]: Build step org.keycloak.quarkus.deployment.KeycloakProcessor#configureKeycloakSessionFactory threw an exception: java.lang.RuntimeException: Failed to find provider jpa for userSessionPersister\n        at org.keycloak.quarkus.deployment.KeycloakProcessor.checkProviders(KeycloakProcessor.java:799)\n        at org.keycloak.quarkus.deployment.KeycloakProcessor.configureKeycloakSessionFactory(KeycloakProcessor.java:366)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:909)\n        at io.quarkus.builder.BuildContext.run(BuildContext.java:281)\n        at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n        at java.base/java.lang.Thread.run(Thread.java:829)\n        at org.jboss.threads.JBossThread.run(JBossThread.java:501)\n\n        at io.quarkus.builder.Execution.run(Execution.java:123)\n        at io.quarkus.builder.BuildExecutionBuilder.execute(BuildExecutionBuilder.java:79)\n        at io.quarkus.deployment.QuarkusAugmentor.run(QuarkusAugmentor.java:160)\n        at io.quarkus.runner.bootstrap.AugmentActionImpl.runAugment(AugmentActionImpl.java:331)\n        ... 28 more\nCaused by: java.lang.RuntimeException: Failed to find provider jpa for userSessionPersister\n        at org.keycloak.quarkus.deployment.KeycloakProcessor.checkProviders(KeycloakProcessor.java:799)\n        at org.keycloak.quarkus.deployment.KeycloakProcessor.configureKeycloakSessionFactory(KeycloakProcessor.java:366)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:909)\n        at io.quarkus.builder.BuildContext.run(BuildContext.java:281)\n        at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n        at java.base/java.lang.Thread.run(Thread.java:829)\n        at org.jboss.threads.JBossThread.run(JBossThread.java:501)\n</code></pre>\n<p>The same behavior is when I'm attempting to upgrade to Keycloak 20 or 19.\nSadly, I don't know a lot about Java or the exceptions I get, so I hope anyone could help me or give me a hint. Every time I attempt to use Google, I get the same results, which are not mentioning the provider mentioned in my error message.</p>\n<p>My config:</p>\n<pre><code># Basic settings for running in production. Change accordingly before deploying the server.\n\n# Features\n\nfeatures=authorization,account2,account-api,admin-fine-grained-authz,admin2,impersonation,scripts,token-exchange,web-authn,client-policies,ciba,map-storage,par,declarative-user-profile,dynamic-scopes,client-secret-rotation,step-up-authentication,recovery-codes,update-email,preview\n\n# Database\n\n# The database vendor.\ndb=mssql\n\n# The username of the database user.\ndb-username=keycloak_user\n\n# The password of the database user.\ndb-password=****\n\n# The full database JDBC URL. If not provided, a default URL is set based on the selected database vendor.\ndb-url=jdbc:sqlserver://srv-sql.hostname.local:1433;DatabaseName=keycloak_qs;\n\ntransaction-xa-enabled=false\n\n# Observability\n\n# If the server should expose healthcheck endpoints.\nhealth-enabled=true\n\n# If the server should expose metrics endpoints.\nmetrics-enabled=true\n\n# HTTP\n\nhttp-enabled=true\n\nhttp-host=10.*.*.***\n\nhttp-port=8080\n\n# The proxy address forwarding mode if the server is behind a reverse proxy.\nproxy=edge\nhostname-strict=true\n\nhostname=kc-qs.hostname.local\nhostname-strict-https=true\n\n# Do not attach route to cookies and rely on the session affinity capabilities from reverse proxy\nspi-sticky-session-encoder-infinispan-should-attach-route=false\n\n\n# Health\n\nhealth-enabled=true\n\n# Logging\n\nlog=console,file\n\nlog-console-color=true\n\nlog-level=info\n\n# Cache\n\ncache=ispn\n\ncache-stack=udp\n</code></pre>\n<p>Maybe I only need a quick prod to find the solution or to see the obvious hint in the error message.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","ios","ipad","automation","appium"],"answers":[{"comments":[{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1691748359,"post_id":76882543,"comment_id":135536782,"body_markdown":"Same kind of error on [`appium/java-client issue 1980`](https://github.com/appium/java-client/issues/1980).","body":"Same kind of error on <a href=\"https://github.com/appium/java-client/issues/1980\" rel=\"nofollow noreferrer\"><code>appium&#47;java-client issue 1980</code></a>."},{"owner":{"account_id":13227889,"reputation":137,"user_id":9552485,"display_name":"BraveEvidence"},"score":0,"creation_date":1691750097,"post_id":76882543,"comment_id":135537105,"body_markdown":"Thanks I have checked multiple times. I have not touched pom.xml, neither my os has been upgraded. When I try to connect via appium inspector it works but issue arises for mobile automation.","body":"Thanks I have checked multiple times. I have not touched pom.xml, neither my os has been upgraded. When I try to connect via appium inspector it works but issue arises for mobile automation."},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1691760288,"post_id":76882543,"comment_id":135539222,"body_markdown":"@BraveEvidence What a `mvn dependency:tree` shows you? Is there multiple versions of the same library or related libraries? Specifically, check for different versions of Selenium libraries.  Maven might update transitive dependencies without an explicit command from you.","body":"@BraveEvidence What a <code>mvn dependency:tree</code> shows you? Is there multiple versions of the same library or related libraries? Specifically, check for different versions of Selenium libraries.  Maven might update transitive dependencies without an explicit command from you."},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1691760442,"post_id":76882543,"comment_id":135539269,"body_markdown":"@BraveEvidence Also, if there was a software update on your iPad (even minor ones or automatic ones in the background), the version you specified in your script might no longer match the device&#39;s version. It is possible that other settings or configurations on the device changed, causing the session creation to fail.","body":"@BraveEvidence Also, if there was a software update on your iPad (even minor ones or automatic ones in the background), the version you specified in your script might no longer match the device&#39;s version. It is possible that other settings or configurations on the device changed, causing the session creation to fail."},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1691760521,"post_id":76882543,"comment_id":135539285,"body_markdown":"@BraveEvidence Or, even if you have not upgraded anything, the version of the Appium server you are running might have some issues with the Java client version you are using.  If there is an auto-update mechanism in place (or if another team member changed versions without your knowledge), there could be a sudden misalignment between the Appium server and the Java client.","body":"@BraveEvidence Or, even if you have not upgraded anything, the version of the Appium server you are running might have some issues with the Java client version you are using.  If there is an auto-update mechanism in place (or if another team member changed versions without your knowledge), there could be a sudden misalignment between the Appium server and the Java client."},{"owner":{"account_id":13227889,"reputation":137,"user_id":9552485,"display_name":"BraveEvidence"},"score":0,"creation_date":1691761370,"post_id":76882543,"comment_id":135539483,"body_markdown":"It&#39;s just me on my team. My last commit to my bitbucket branch was five weeks ago and the issue started happening from this week. As far as I know nothing is on auto update option","body":"It&#39;s just me on my team. My last commit to my bitbucket branch was five weeks ago and the issue started happening from this week. As far as I know nothing is on auto update option"},{"owner":{"account_id":13227889,"reputation":137,"user_id":9552485,"display_name":"BraveEvidence"},"score":0,"creation_date":1691765135,"post_id":76882543,"comment_id":135540305,"body_markdown":"my software update for both Macos and iOS is off for automatic.","body":"my software update for both Macos and iOS is off for automatic."},{"owner":{"account_id":13227889,"reputation":137,"user_id":9552485,"display_name":"BraveEvidence"},"score":0,"creation_date":1691765244,"post_id":76882543,"comment_id":135540330,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/254892/discussion-between-braveevidence-and-vonc).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/254892/discussion-between-braveevidence-and-vonc\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692011803,"creation_date":1691748332,"answer_id":76882543,"question_id":76864429,"body_markdown":"```\r\nCaused by: java.lang.NoSuchMethodError: &#39;java.lang.String org.openqa.selenium.json.Json.toJson(java.lang.Object, int)&#39;\r\n```\r\n\r\nThat should mean your code, or one of the libraries you are using, is trying to call a method that does not exist in the version of the library that is currently loaded. It is common to see this error when there are mismatches in library versions.\r\n\r\nSince you have not changed your code, and the versions of Appium and other tools are the same, it is possible that you might have inadvertently updated some libraries. Check if your project&#39;s dependencies (libraries/jars) are consistent and compatible.\r\n\r\n\r\n- If you are using Maven, check your `pom.xml` file.\r\n- If you are using Gradle, check your `build.gradle` file.\r\n\r\nIf your project source code with using Git, a `git status` should help visualize any change.\r\n\r\nMake sure the versions of Appium&#39;s Java client and Selenium&#39;s Java client are compatible.\r\n\r\nTry and clear the cache and reinstall dependencies.\r\n\r\n- If using Maven: \r\n```bash\r\nmvn clean install\r\n```\r\n\r\n- If using Gradle: \r\n```bash\r\n./gradlew clean build\r\n```\r\n\r\n\r\nIf you are only specifying the [Appium Java client](https://github.com/appium/java-client) in your dependency management tool, try explicitly specifying a compatible Selenium version too (See [Compatibility Matrix](https://github.com/appium/java-client#compatibility-matrix)). Appium&#39;s client has a dependency on Selenium, and there might be compatibility issues between versions.\r\n\r\nCheck also if your device&#39;s OS version was updated, it might affect Appium&#39;s behavior.\r\n\r\n----\r\n\r\nThe OP mentions having resolved the issue by removing:\r\n\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-devtools&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0-beta-4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThe `selenium-devtools` dependency is specific to Chrome and the Chrome DevTools Protocol (CDP). It provides capabilities to interact with Chrome&#39;s DevTools for advanced automation tasks that go beyond the standard Selenium capabilities. Examples include manipulating network conditions, setting breakpoints, etc.\r\n\r\nThe OP was using version `4.0.0-beta-4`. If your other Selenium dependencies were not of the same version, it might have caused conflicts.\r\n\r\nAnd the `selenium-devtools` artifact might have pulled in transitive dependencies that conflicted with other dependencies in your project.\r\n\r\nGiven the OP&#39;s stack trace showed issues with iOS testing (`io.appium.java_client.ios.IOSDriver`), the Chrome-specific `selenium-devtools` dependency might not have been necessary. Appium iOS testing does not utilize Chrome DevTools.\r\n\r\nSince Java libraries sometimes have classes with the same names, it is possible the `selenium-devtools` dependency introduced classes that conflicted with others on the classpath.","title":"Appium - Could not start a new session on iPad","body":"<pre><code>Caused by: java.lang.NoSuchMethodError: 'java.lang.String org.openqa.selenium.json.Json.toJson(java.lang.Object, int)'\n</code></pre>\n<p>That should mean your code, or one of the libraries you are using, is trying to call a method that does not exist in the version of the library that is currently loaded. It is common to see this error when there are mismatches in library versions.</p>\n<p>Since you have not changed your code, and the versions of Appium and other tools are the same, it is possible that you might have inadvertently updated some libraries. Check if your project's dependencies (libraries/jars) are consistent and compatible.</p>\n<ul>\n<li>If you are using Maven, check your <code>pom.xml</code> file.</li>\n<li>If you are using Gradle, check your <code>build.gradle</code> file.</li>\n</ul>\n<p>If your project source code with using Git, a <code>git status</code> should help visualize any change.</p>\n<p>Make sure the versions of Appium's Java client and Selenium's Java client are compatible.</p>\n<p>Try and clear the cache and reinstall dependencies.</p>\n<ul>\n<li>If using Maven:</li>\n</ul>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn clean install\n</code></pre>\n<ul>\n<li>If using Gradle:</li>\n</ul>\n<pre class=\"lang-bash prettyprint-override\"><code>./gradlew clean build\n</code></pre>\n<p>If you are only specifying the <a href=\"https://github.com/appium/java-client\" rel=\"nofollow noreferrer\">Appium Java client</a> in your dependency management tool, try explicitly specifying a compatible Selenium version too (See <a href=\"https://github.com/appium/java-client#compatibility-matrix\" rel=\"nofollow noreferrer\">Compatibility Matrix</a>). Appium's client has a dependency on Selenium, and there might be compatibility issues between versions.</p>\n<p>Check also if your device's OS version was updated, it might affect Appium's behavior.</p>\n<hr />\n<p>The OP mentions having resolved the issue by removing:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-devtools&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0-beta-4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The <code>selenium-devtools</code> dependency is specific to Chrome and the Chrome DevTools Protocol (CDP). It provides capabilities to interact with Chrome's DevTools for advanced automation tasks that go beyond the standard Selenium capabilities. Examples include manipulating network conditions, setting breakpoints, etc.</p>\n<p>The OP was using version <code>4.0.0-beta-4</code>. If your other Selenium dependencies were not of the same version, it might have caused conflicts.</p>\n<p>And the <code>selenium-devtools</code> artifact might have pulled in transitive dependencies that conflicted with other dependencies in your project.</p>\n<p>Given the OP's stack trace showed issues with iOS testing (<code>io.appium.java_client.ios.IOSDriver</code>), the Chrome-specific <code>selenium-devtools</code> dependency might not have been necessary. Appium iOS testing does not utilize Chrome DevTools.</p>\n<p>Since Java libraries sometimes have classes with the same names, it is possible the <code>selenium-devtools</code> dependency introduced classes that conflicted with others on the classpath.</p>\n"},{"comments":[{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1692011588,"post_id":76898438,"comment_id":135563565,"body_markdown":"Well done, that should work indeed. Upvoted.","body":"Well done, that should work indeed. Upvoted."},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1692011821,"post_id":76898438,"comment_id":135563599,"body_markdown":"I have edited my answer to include possible reasons for that fix.","body":"I have edited my answer to include possible reasons for that fix."}],"tags":[],"owner":{"account_id":13227889,"reputation":137,"user_id":9552485,"display_name":"BraveEvidence"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692011431,"creation_date":1692011431,"answer_id":76898438,"question_id":76864429,"body_markdown":"I managed to resolve my issue by removing following dependency\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;selenium-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.0-beta-4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;","title":"Appium - Could not start a new session on iPad","body":"<p>I managed to resolve my issue by removing following dependency</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-devtools&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0-beta-4&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":13227889,"reputation":137,"user_id":9552485,"display_name":"BraveEvidence"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76898438,"answer_count":2,"score":1,"last_activity_date":1692270344,"creation_date":1691552607,"question_id":76864429,"body_markdown":"I am trying to automate iOS app on real iPad device. My code was working fine till last week and suddenly started throwing error from today. Neither `Xcode`, `nodejs`, `java` or `Appium` has been upgraded. No code has been updated whatsoever.\r\n\r\n    public AppiumDriver runOnRealDevice() {\r\n    \t\ttry {\r\n    \t\t\tXCUITestOptions options = new XCUITestOptions();\r\n    \t\t\toptions.setDeviceName(&quot;my iPad&quot;);\r\n    \t\t\toptions.setPlatformVersion(&quot;16.5.1&quot;);\r\n    \t\t\toptions.setWdaLaunchTimeout(Duration.ofSeconds(20));\r\n    \t\t\toptions.setCapability(&quot;xcodeOrgId&quot;,&quot;......&quot;);\r\n    \t\t\toptions.setCapability(&quot;xcodeSigningId&quot;,&quot;iPhone Developer&quot;);\r\n    \t\t\toptions.setCapability(&quot;udid&quot;,&quot;......&quot;);\r\n    \t\t\tdriver = new IOSDriver(new URL(&quot;http://127.0.0.1:4723/&quot;),options);\r\n    \t\t\t\r\n    \t\t\tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(15));\r\n    \t\t\tMap&lt;String,String&gt; params = new HashMap&lt;String,String&gt;();\r\n    \t\t\tparams.put(&quot;bundleId&quot;, &quot;com.myapplebundleidentfier&quot;);\r\n    \t\t\tdriver.executeScript(&quot;mobile:launchApp&quot;,params);\r\n    \t\t}catch (Exception e) {\r\n    \t\t\tSystem.out.println(&quot;Here12 &quot;+e.getLocalizedMessage());\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn driver;\r\n    \t}\r\n\r\n\r\nThe issue happens on `driver = new IOSDriver(new URL(&quot;http://127.0.0.1:4723/&quot;),options);`\r\n\r\nBelow is the complete error message\r\n \r\n\r\n    StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath. Using SimpleLogger to log to the console...\r\n    Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \r\n    Host info: host: &#39;-MacBook-Air.local&#39;, ip: &#39;fe80:0:0:0:1044:a4fe:6300:fc53%en0&#39;\r\n    Build info: version: &#39;4.11.0&#39;, revision: &#39;040bc5406b&#39;\r\n    System info: os.name: &#39;Mac OS X&#39;, os.arch: &#39;aarch64&#39;, os.version: &#39;13.4.1&#39;, java.version: &#39;17.0.6&#39;\r\n    Driver info: io.appium.java_client.ios.IOSDriver\r\n    Command: [null, newSession {capabilities=[{appium:udid=myudid, appium:xcodeOrgId=myxoceorgid, appium:wdaLaunchTimeout=20000, appium:xcodeSigningId=iPhone Developer, appium:deviceName=iPad, platformName=IOS, appium:automationName=XCuiTest, appium:platformVersion=16.5.1}], desiredCapabilities=Capabilities {appium:automationName: XCuiTest, appium:deviceName: Pritish’s iPad, appium:platformVersion: 16.5.1, appium:udid:dsssddsdssd, appium:wdaLaunchTimeout: 20000, appium:xcodeOrgId: dsdsdsdsdssd, appium:xcodeSigningId: iPhone Developer, platformName: IOS}}]\r\n    Capabilities {appium:automationName: XCuiTest, appium:deviceName: my iPad, appium:platformVersion: 16.5.1, appium:udid: sddsdsdsds, appium:wdaLaunchTimeout: 20000, appium:xcodeOrgId: ddsds, appium:xcodeSigningId: iPhone Developer, platformName: IOS}\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:536)\r\n    \tat io.appium.java_client.AppiumDriver.startSession(AppiumDriver.java:229)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:159)\r\n    \tat io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:80)\r\n    \tat io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:92)\r\n    \tat io.appium.java_client.ios.IOSDriver.&lt;init&gt;(IOSDriver.java:106)\r\n    \tat WebPortal.IOSBaseTest.runOnRealDevice(IOSBaseTest.java:66)\r\n    \tat WebPortal.IOSBaseTest.setup(IOSBaseTest.java:32)\r\n    \tat WebPortal.IOSBaseTest.getDriver(IOSBaseTest.java:25)\r\n    \tat stepDefinitions.TA124_ComprehensiveCI_StepDefinitions.&lt;init&gt;(TA124_ComprehensiveCI_StepDefinitions.java:36)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n    \tat io.cucumber.core.runtime.ObjectFactoryServiceLoader$DefaultJavaObjectFactory.cacheNewInstance(ObjectFactoryServiceLoader.java:141)\r\n    \tat io.cucumber.core.runtime.ObjectFactoryServiceLoader$DefaultJavaObjectFactory.getInstance(ObjectFactoryServiceLoader.java:133)\r\n    \tat io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:47)\r\n    \tat io.cucumber.java.JavaStepDefinition.execute(JavaStepDefinition.java:29)\r\n    \tat io.cucumber.core.runner.CoreStepDefinition.execute(CoreStepDefinition.java:66)\r\n    \tat io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:63)\r\n    \tat io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)\r\n    \tat io.cucumber.core.runner.TestStep.executeStep(TestStep.java:92)\r\n    \tat io.cucumber.core.runner.TestStep.run(TestStep.java:64)\r\n    \tat io.cucumber.core.runner.PickleStepTestStep.run(PickleStepTestStep.java:51)\r\n    \tat io.cucumber.core.runner.TestCase.run(TestCase.java:104)\r\n    \tat io.cucumber.core.runner.Runner.runPickle(Runner.java:73)\r\n    \tat io.cucumber.core.runtime.Runtime.lambda$execute$5(Runtime.java:110)\r\n    \tat io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:117)\r\n    \tat io.cucumber.core.runtime.Runtime.lambda$execute$6(Runtime.java:110)\r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat io.cucumber.core.runtime.Runtime$SameThreadExecutorService.execute(Runtime.java:233)\r\n    \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:123)\r\n    \tat io.cucumber.core.runtime.Runtime.lambda$run$2(Runtime.java:86)\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n    \tat java.base/java.util.stream.SliceOps$1$1.accept(SliceOps.java:200)\r\n    \tat java.base/java.util.ArrayList$ArrayListSpliterator.tryAdvance(ArrayList.java:1602)\r\n    \tat java.base/java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:129)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:527)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:513)\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n    \tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)\r\n    \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n    \tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)\r\n    \tat io.cucumber.core.runtime.Runtime.run(Runtime.java:87)\r\n    \tat io.cucumber.core.cli.Main.run(Main.java:92)\r\n    \tat cucumber.api.cli.Main.run(Main.java:30)\r\n    \tat cucumber.api.cli.Main.main(Main.java:15)\r\n    Caused by: java.lang.NoSuchMethodError: &#39;java.lang.String org.openqa.selenium.json.Json.toJson(java.lang.Object, int)&#39;\r\n    \tat org.openqa.selenium.remote.NewSessionPayload.create(NewSessionPayload.java:126)\r\n    \tat org.openqa.selenium.remote.NewSessionPayload.create(NewSessionPayload.java:111)\r\n    \tat org.openqa.selenium.remote.NewSessionPayload.create(NewSessionPayload.java:105)\r\n    \tat io.appium.java_client.remote.AppiumProtocolHandshake.createSession(AppiumProtocolHandshake.java:101)\r\n    \tat io.appium.java_client.remote.AppiumCommandExecutor.createSession(AppiumCommandExecutor.java:194)\r\n    \tat io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:262)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:518)\r\n    \t... 48 more\r\n\r\n","title":"Appium - Could not start a new session on iPad","body":"<p>I am trying to automate iOS app on real iPad device. My code was working fine till last week and suddenly started throwing error from today. Neither <code>Xcode</code>, <code>nodejs</code>, <code>java</code> or <code>Appium</code> has been upgraded. No code has been updated whatsoever.</p>\n<pre><code>public AppiumDriver runOnRealDevice() {\n        try {\n            XCUITestOptions options = new XCUITestOptions();\n            options.setDeviceName(&quot;my iPad&quot;);\n            options.setPlatformVersion(&quot;16.5.1&quot;);\n            options.setWdaLaunchTimeout(Duration.ofSeconds(20));\n            options.setCapability(&quot;xcodeOrgId&quot;,&quot;......&quot;);\n            options.setCapability(&quot;xcodeSigningId&quot;,&quot;iPhone Developer&quot;);\n            options.setCapability(&quot;udid&quot;,&quot;......&quot;);\n            driver = new IOSDriver(new URL(&quot;http://127.0.0.1:4723/&quot;),options);\n            \n            driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(15));\n            Map&lt;String,String&gt; params = new HashMap&lt;String,String&gt;();\n            params.put(&quot;bundleId&quot;, &quot;com.myapplebundleidentfier&quot;);\n            driver.executeScript(&quot;mobile:launchApp&quot;,params);\n        }catch (Exception e) {\n            System.out.println(&quot;Here12 &quot;+e.getLocalizedMessage());\n            e.printStackTrace();\n        }\n        return driver;\n    }\n</code></pre>\n<p>The issue happens on <code>driver = new IOSDriver(new URL(&quot;http://127.0.0.1:4723/&quot;),options);</code></p>\n<p>Below is the complete error message</p>\n<pre><code>StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath. Using SimpleLogger to log to the console...\nCould not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \nHost info: host: '-MacBook-Air.local', ip: 'fe80:0:0:0:1044:a4fe:6300:fc53%en0'\nBuild info: version: '4.11.0', revision: '040bc5406b'\nSystem info: os.name: 'Mac OS X', os.arch: 'aarch64', os.version: '13.4.1', java.version: '17.0.6'\nDriver info: io.appium.java_client.ios.IOSDriver\nCommand: [null, newSession {capabilities=[{appium:udid=myudid, appium:xcodeOrgId=myxoceorgid, appium:wdaLaunchTimeout=20000, appium:xcodeSigningId=iPhone Developer, appium:deviceName=iPad, platformName=IOS, appium:automationName=XCuiTest, appium:platformVersion=16.5.1}], desiredCapabilities=Capabilities {appium:automationName: XCuiTest, appium:deviceName: Pritish’s iPad, appium:platformVersion: 16.5.1, appium:udid:dsssddsdssd, appium:wdaLaunchTimeout: 20000, appium:xcodeOrgId: dsdsdsdsdssd, appium:xcodeSigningId: iPhone Developer, platformName: IOS}}]\nCapabilities {appium:automationName: XCuiTest, appium:deviceName: my iPad, appium:platformVersion: 16.5.1, appium:udid: sddsdsdsds, appium:wdaLaunchTimeout: 20000, appium:xcodeOrgId: ddsds, appium:xcodeSigningId: iPhone Developer, platformName: IOS}\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:536)\n    at io.appium.java_client.AppiumDriver.startSession(AppiumDriver.java:229)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:159)\n    at io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:80)\n    at io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:92)\n    at io.appium.java_client.ios.IOSDriver.&lt;init&gt;(IOSDriver.java:106)\n    at WebPortal.IOSBaseTest.runOnRealDevice(IOSBaseTest.java:66)\n    at WebPortal.IOSBaseTest.setup(IOSBaseTest.java:32)\n    at WebPortal.IOSBaseTest.getDriver(IOSBaseTest.java:25)\n    at stepDefinitions.TA124_ComprehensiveCI_StepDefinitions.&lt;init&gt;(TA124_ComprehensiveCI_StepDefinitions.java:36)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at io.cucumber.core.runtime.ObjectFactoryServiceLoader$DefaultJavaObjectFactory.cacheNewInstance(ObjectFactoryServiceLoader.java:141)\n    at io.cucumber.core.runtime.ObjectFactoryServiceLoader$DefaultJavaObjectFactory.getInstance(ObjectFactoryServiceLoader.java:133)\n    at io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:47)\n    at io.cucumber.java.JavaStepDefinition.execute(JavaStepDefinition.java:29)\n    at io.cucumber.core.runner.CoreStepDefinition.execute(CoreStepDefinition.java:66)\n    at io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:63)\n    at io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)\n    at io.cucumber.core.runner.TestStep.executeStep(TestStep.java:92)\n    at io.cucumber.core.runner.TestStep.run(TestStep.java:64)\n    at io.cucumber.core.runner.PickleStepTestStep.run(PickleStepTestStep.java:51)\n    at io.cucumber.core.runner.TestCase.run(TestCase.java:104)\n    at io.cucumber.core.runner.Runner.runPickle(Runner.java:73)\n    at io.cucumber.core.runtime.Runtime.lambda$execute$5(Runtime.java:110)\n    at io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:117)\n    at io.cucumber.core.runtime.Runtime.lambda$execute$6(Runtime.java:110)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at io.cucumber.core.runtime.Runtime$SameThreadExecutorService.execute(Runtime.java:233)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:123)\n    at io.cucumber.core.runtime.Runtime.lambda$run$2(Runtime.java:86)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.stream.SliceOps$1$1.accept(SliceOps.java:200)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.tryAdvance(ArrayList.java:1602)\n    at java.base/java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:129)\n    at java.base/java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:527)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:513)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)\n    at io.cucumber.core.runtime.Runtime.run(Runtime.java:87)\n    at io.cucumber.core.cli.Main.run(Main.java:92)\n    at cucumber.api.cli.Main.run(Main.java:30)\n    at cucumber.api.cli.Main.main(Main.java:15)\nCaused by: java.lang.NoSuchMethodError: 'java.lang.String org.openqa.selenium.json.Json.toJson(java.lang.Object, int)'\n    at org.openqa.selenium.remote.NewSessionPayload.create(NewSessionPayload.java:126)\n    at org.openqa.selenium.remote.NewSessionPayload.create(NewSessionPayload.java:111)\n    at org.openqa.selenium.remote.NewSessionPayload.create(NewSessionPayload.java:105)\n    at io.appium.java_client.remote.AppiumProtocolHandshake.createSession(AppiumProtocolHandshake.java:101)\n    at io.appium.java_client.remote.AppiumCommandExecutor.createSession(AppiumCommandExecutor.java:194)\n    at io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:262)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:518)\n    ... 48 more\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":23980637,"reputation":13,"user_id":17968128,"display_name":"James Ostevik"},"score":0,"creation_date":1642538012,"post_id":70762027,"comment_id":125096285,"body_markdown":"StackOverflow avoids me pasting more data. I&#39;m using gradle\n    classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:2.6.2&quot;)","body":"StackOverflow avoids me pasting more data. I&#39;m using gradle     classpath(&quot;org.springframework.boot:spring-boot-gradle-plugi&zwnj;&#8203;n:2.6.2&quot;)"},{"owner":{"account_id":23980637,"reputation":13,"user_id":17968128,"display_name":"James Ostevik"},"score":0,"creation_date":1642539021,"post_id":70762027,"comment_id":125096596,"body_markdown":"to be more precise I tried all of these answers https://stackoverflow.com/questions/60023943/mongodb-findbyid-is-not-working-and-giving-null","body":"to be more precise I tried all of these answers <a href=\"https://stackoverflow.com/questions/60023943/mongodb-findbyid-is-not-working-and-giving-null\" title=\"mongodb findbyid is not working and giving null\">stackoverflow.com/questions/60023943/&hellip;</a>"},{"owner":{"account_id":1251163,"reputation":1546,"user_id":1211547,"accept_rate":50,"display_name":"indybee"},"score":0,"creation_date":1642553936,"post_id":70762027,"comment_id":125100116,"body_markdown":"can you post the `Track` class also?","body":"can you post the <code>Track</code> class also?"},{"owner":{"account_id":23980637,"reputation":13,"user_id":17968128,"display_name":"James Ostevik"},"score":0,"creation_date":1642557427,"post_id":70762027,"comment_id":125100748,"body_markdown":"I also tried adding @MongoId to it (Sorry for adding it to comments. SO won&#39;t let me add it to the post)","body":"I also tried adding @MongoId to it (Sorry for adding it to comments. SO won&#39;t let me add it to the post)"},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1642568524,"post_id":70762027,"comment_id":125102488,"body_markdown":"You have two `findById` methods - one on the tracksRepository and the other on mongoTemplate. Which one is not working","body":"You have two <code>findById</code> methods - one on the tracksRepository and the other on mongoTemplate. Which one is not working"},{"owner":{"account_id":23980637,"reputation":13,"user_id":17968128,"display_name":"James Ostevik"},"score":0,"creation_date":1642580242,"post_id":70762027,"comment_id":125105264,"body_markdown":"@prasad_ none, both return always null","body":"@prasad_ none, both return always null"},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1642581240,"post_id":70762027,"comment_id":125105628,"body_markdown":"You can look at this SO post for some ideas: [How to initialize MongoClient once in Spring Boot and use its methods?](https://stackoverflow.com/questions/61663741/how-to-initialize-mongoclient-once-in-spring-boot-and-use-its-methods/61677205#61677205).","body":"You can look at this SO post for some ideas: <a href=\"https://stackoverflow.com/questions/61663741/how-to-initialize-mongoclient-once-in-spring-boot-and-use-its-methods/61677205#61677205\">How to initialize MongoClient once in Spring Boot and use its methods?</a>."}],"answers":[{"tags":[],"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642587634,"creation_date":1642587634,"answer_id":70768844,"question_id":70762027,"body_markdown":"I tried this with similar configuration class and found the following worked fine creating/accessing data using `MongoTemplate`.\r\n\r\nThe POJO class:\r\n\r\n    public class Test {\r\n    \t\r\n    \t@MongoId(FieldType.OBJECT_ID)\r\n    \tprivate String id;\r\n    \tprivate String name;\r\n    \t\r\n    \tpublic Test() {\r\n    \t}\r\n    \tpublic Test(String s) {\r\n    \t\tsuper();\r\n    \t\tthis.name = s;\r\n    \t}\r\n    \t\r\n    \t// get, set methods\r\n    \t\r\n    \tpublic String toString( ) {\r\n    \t\treturn id + &quot; - &quot; + name;\r\n    \t}\r\n    }\r\n\r\nFrom Spring&#39;s `CommandLineRunner.run()`:\r\n\r\n\t\t// Insert a document into the database\r\n\t\tTest t1 = new Test(&quot;alpha&quot;);\r\n\t\tt1 = mt.insert(t1);\r\n\t\tSystem.out.println(t1); // 61e7de9f5aadc2077d9f4a58 - alpha\r\n\r\n\t\t// Query from the database using the _id\r\n\t\tObjectId id = new ObjectId(&quot;61e7de9f5aadc2077d9f4a58&quot;);\r\n\t\tTest t2 = mt.findById(id, Test.class);\r\n\t\tSystem.out.println(t2);\r\n\r\nNote that you need to do this from the class where you are running the code:\r\n\r\n    @Autowired private MongoTemplate mt;\r\n\r\nYou can use the `@MongoId` or `@Id` annotations in our POJO class to represent MongoDB `_id` field. The type of the field can be a `String` or `ObjectId`. It depends upon how you define.\r\n\r\nSee this from Spring Data MongoDB documentation on *How the _id Field is Handled in the Mapping Layer using:*\r\n- [@MongoId](https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mongo-template.id-handling)\r\n- [@Id](https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mapping.conventions.id-field)\r\n\r\n","title":"Spring Boot findById not working for MongoDB","body":"<p>I tried this with similar configuration class and found the following worked fine creating/accessing data using <code>MongoTemplate</code>.</p>\n<p>The POJO class:</p>\n<pre><code>public class Test {\n    \n    @MongoId(FieldType.OBJECT_ID)\n    private String id;\n    private String name;\n    \n    public Test() {\n    }\n    public Test(String s) {\n        super();\n        this.name = s;\n    }\n    \n    // get, set methods\n    \n    public String toString( ) {\n        return id + &quot; - &quot; + name;\n    }\n}\n</code></pre>\n<p>From Spring's <code>CommandLineRunner.run()</code>:</p>\n<pre><code>    // Insert a document into the database\n    Test t1 = new Test(&quot;alpha&quot;);\n    t1 = mt.insert(t1);\n    System.out.println(t1); // 61e7de9f5aadc2077d9f4a58 - alpha\n\n    // Query from the database using the _id\n    ObjectId id = new ObjectId(&quot;61e7de9f5aadc2077d9f4a58&quot;);\n    Test t2 = mt.findById(id, Test.class);\n    System.out.println(t2);\n</code></pre>\n<p>Note that you need to do this from the class where you are running the code:</p>\n<pre><code>@Autowired private MongoTemplate mt;\n</code></pre>\n<p>You can use the <code>@MongoId</code> or <code>@Id</code> annotations in our POJO class to represent MongoDB <code>_id</code> field. The type of the field can be a <code>String</code> or <code>ObjectId</code>. It depends upon how you define.</p>\n<p>See this from Spring Data MongoDB documentation on <em>How the _id Field is Handled in the Mapping Layer using:</em></p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mongo-template.id-handling\" rel=\"nofollow noreferrer\">@MongoId</a></li>\n<li><a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mapping.conventions.id-field\" rel=\"nofollow noreferrer\">@Id</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":24609546,"reputation":9,"user_id":18511324,"display_name":"Morye"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659625981,"creation_date":1659625948,"answer_id":73238317,"question_id":70762027,"body_markdown":"Solution is to add to MongoId annotation field type object id\r\n\r\n    @MongoId(FieldType.OBJECT_ID)\r\n    private String id;","title":"Spring Boot findById not working for MongoDB","body":"<p>Solution is to add to MongoId annotation field type object id</p>\n<pre><code>@MongoId(FieldType.OBJECT_ID)\nprivate String id;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16326780,"reputation":31,"user_id":13981676,"display_name":"fr.fish93"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692269923,"creation_date":1692269072,"answer_id":76920762,"question_id":70762027,"body_markdown":"Writing here just to refer to the solution that helped me.\r\nHad more or less the same problem (collection with data) but somehow `Optional&lt;T&gt; findById(ID id)` from `org.springframework.data.repository.CrudRepository` failed to find it.\r\n\r\nProblem was that my Mongo init scripts imported IDs as strings:\r\n```\r\n{\r\n  &quot;_id&quot; : &quot;5a78a1d1ba09644244839536&quot;,\r\n// rest of document\r\n}\r\n```\r\nResulted in exactly the same representation inside of DB which couldn&#39;t been picked up by `Optional&lt;T&gt; findById(ID id)`\r\nShould be:\r\n```\r\n{\r\n  &quot;_id&quot; : {&quot;$oid&quot;:&quot;5a78a1d1ba09644244839536&quot;},\r\n// rest of the document\r\n}\r\n```\r\nWhich results in following representation after import:\r\n```\r\n{\r\n    &quot;_id&quot; : ObjectId(&quot;5a78a1d1ba09644244839536&quot;),\r\n//...\r\n}\r\n```\r\nKind of obvious for me now but I&#39;ve spent couple of days almost going crazy.\r\n\r\nFollowing threads helped me:\r\n\r\n - https://stackoverflow.com/a/60024234/13981676\r\n - https://stackoverflow.com/a/33507927/13981676\r\n\r\nUPD: Went through docs a bit here&#39;s the answer: https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mongo-template.id-handling\r\n\r\nTake special care if you have data that &quot;*stored in MongoDB that did not run through the Spring Data mapping layer*&quot;. For example case of some init-scripts.","title":"Spring Boot findById not working for MongoDB","body":"<p>Writing here just to refer to the solution that helped me.\nHad more or less the same problem (collection with data) but somehow <code>Optional&lt;T&gt; findById(ID id)</code> from <code>org.springframework.data.repository.CrudRepository</code> failed to find it.</p>\n<p>Problem was that my Mongo init scripts imported IDs as strings:</p>\n<pre><code>{\n  &quot;_id&quot; : &quot;5a78a1d1ba09644244839536&quot;,\n// rest of document\n}\n</code></pre>\n<p>Resulted in exactly the same representation inside of DB which couldn't been picked up by <code>Optional&lt;T&gt; findById(ID id)</code>\nShould be:</p>\n<pre><code>{\n  &quot;_id&quot; : {&quot;$oid&quot;:&quot;5a78a1d1ba09644244839536&quot;},\n// rest of the document\n}\n</code></pre>\n<p>Which results in following representation after import:</p>\n<pre><code>{\n    &quot;_id&quot; : ObjectId(&quot;5a78a1d1ba09644244839536&quot;),\n//...\n}\n</code></pre>\n<p>Kind of obvious for me now but I've spent couple of days almost going crazy.</p>\n<p>Following threads helped me:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/60024234/13981676\">https://stackoverflow.com/a/60024234/13981676</a></li>\n<li><a href=\"https://stackoverflow.com/a/33507927/13981676\">https://stackoverflow.com/a/33507927/13981676</a></li>\n</ul>\n<p>UPD: Went through docs a bit here's the answer: <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mongo-template.id-handling\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mongo-template.id-handling</a></p>\n<p>Take special care if you have data that &quot;<em>stored in MongoDB that did not run through the Spring Data mapping layer</em>&quot;. For example case of some init-scripts.</p>\n"}],"owner":{"account_id":23980637,"reputation":13,"user_id":17968128,"display_name":"James Ostevik"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2451,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1692269923,"creation_date":1642537934,"question_id":70762027,"body_markdown":"I&#39;m trying to do a simple get query on springboot using mongodb as database engine\r\n\r\nI have tried with several stuff(sending the data as ObjectId and even changing the repository)\r\n\r\n\r\n    public ResponseEntity&lt;Track&gt; get(String trackId) {\r\n\t\tTrack find = mongoTemplate.findById(new ObjectId(trackId), Track.class);\r\n\r\n\t\tOptional&lt;Track&gt; track = tracksRepository.findById(trackId);\r\n\r\n\t\tif (track.isPresent()) {\r\n\t\t\treturn new ResponseEntity&lt;&gt;(track.get(), HttpStatus.OK);\r\n\t\t}\r\n\r\n\t\treturn new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\r\n\r\n\t}\r\n\r\n\r\nwith mongo config\r\n\r\n    @Configuration\r\n    @EnableMongoRepositories(basePackages = &quot;data.store.repositories&quot;)\r\n    public class MongoConfig extends AbstractMongoClientConfiguration {\r\n\r\n\t    private final Logger LOGGER = Logger.getLogger(this.getClass().getSimpleName());\r\n\r\n\t    @Primary\r\n\t    @Bean\r\n\t    @Override\r\n\t    public MongoClient mongoClient() {\r\n\r\n\t\t    return MongoClients.create(MongoClientSettings.builder()\r\n\t\t\t\t.applyToClusterSettings(builder -&gt; builder.hosts(Arrays.asList(new ServerAddress(host, port))))\r\n\t\t\t\t.build());\r\n\t    }\r\n\r\n\t    private MongoCredential mongoCredentials() {\r\n\t\t    return MongoCredential.createCredential(username, database, password.toCharArray());\r\n\t    }\r\n\r\n\t    @Bean\r\n\t    public MongoTemplate mongoTemplate() {\r\n\t\t    MongoTemplate mongoTemplate = new MongoTemplate(mongoClient(), getDatabaseName());\r\n\t\t    mongoTemplate.setReadPreference(ReadPreference.secondaryPreferred());\r\n\t\t    return mongoTemplate;\r\n\t    }\r\n\r\n\t    protected String getDatabaseName() {\r\n\t\t    return database;\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public boolean autoIndexCreation() {\r\n\t\t    return false;\r\n\t    }\r\n\r\n    }\r\n\r\nEDIT: Adding class for context\r\n\r\n    @Document(&quot;track&quot;)\r\n    public class Track {\r\n\t    @Id\r\n\t    @Field(ATTR_ID)\r\n\t    @JsonProperty(ATTR_ID)\r\n\t    public String id;\r\n\t    public static final String ATTR_ID = &quot;id&quot;;\r\n    }\r\n\r\nand getting always null, with existing keys on my database. could you help me find the issue? \r\n\r\nThanks in advance","title":"Spring Boot findById not working for MongoDB","body":"<p>I'm trying to do a simple get query on springboot using mongodb as database engine</p>\n<p>I have tried with several stuff(sending the data as ObjectId and even changing the repository)</p>\n<pre><code>public ResponseEntity&lt;Track&gt; get(String trackId) {\n    Track find = mongoTemplate.findById(new ObjectId(trackId), Track.class);\n\n    Optional&lt;Track&gt; track = tracksRepository.findById(trackId);\n\n    if (track.isPresent()) {\n        return new ResponseEntity&lt;&gt;(track.get(), HttpStatus.OK);\n    }\n\n    return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\n\n}\n</code></pre>\n<p>with mongo config</p>\n<pre><code>@Configuration\n@EnableMongoRepositories(basePackages = &quot;data.store.repositories&quot;)\npublic class MongoConfig extends AbstractMongoClientConfiguration {\n\n    private final Logger LOGGER = Logger.getLogger(this.getClass().getSimpleName());\n\n    @Primary\n    @Bean\n    @Override\n    public MongoClient mongoClient() {\n\n        return MongoClients.create(MongoClientSettings.builder()\n            .applyToClusterSettings(builder -&gt; builder.hosts(Arrays.asList(new ServerAddress(host, port))))\n            .build());\n    }\n\n    private MongoCredential mongoCredentials() {\n        return MongoCredential.createCredential(username, database, password.toCharArray());\n    }\n\n    @Bean\n    public MongoTemplate mongoTemplate() {\n        MongoTemplate mongoTemplate = new MongoTemplate(mongoClient(), getDatabaseName());\n        mongoTemplate.setReadPreference(ReadPreference.secondaryPreferred());\n        return mongoTemplate;\n    }\n\n    protected String getDatabaseName() {\n        return database;\n    }\n\n    @Override\n    public boolean autoIndexCreation() {\n        return false;\n    }\n\n}\n</code></pre>\n<p>EDIT: Adding class for context</p>\n<pre><code>@Document(&quot;track&quot;)\npublic class Track {\n    @Id\n    @Field(ATTR_ID)\n    @JsonProperty(ATTR_ID)\n    public String id;\n    public static final String ATTR_ID = &quot;id&quot;;\n}\n</code></pre>\n<p>and getting always null, with existing keys on my database. could you help me find the issue?</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","sharedpreferences"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1692257584,"post_id":76919291,"comment_id":135599405,"body_markdown":"What&#39;s the question for us? Besides that, what exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"What&#39;s the question for us? Besides that, what exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":28900230,"reputation":23,"user_id":22135379,"display_name":"Twitch Arşivim"},"score":0,"creation_date":1692257987,"post_id":76919291,"comment_id":135599465,"body_markdown":"I want to have the sum of the high scores of all the levels in the High Score TextView. Example : Level 1 + Level 2 : 30 to TextView","body":"I want to have the sum of the high scores of all the levels in the High Score TextView. Example : Level 1 + Level 2 : 30 to TextView"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1692258805,"post_id":76919291,"comment_id":135599609,"body_markdown":"In that case, please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data).","body":"In that case, please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>."},{"owner":{"account_id":28900230,"reputation":23,"user_id":22135379,"display_name":"Twitch Arşivim"},"score":0,"creation_date":1692259646,"post_id":76919291,"comment_id":135599775,"body_markdown":"My problem is not related to Firebase Database. I have explained the problem in great detail. @AlexMamo","body":"My problem is not related to Firebase Database. I have explained the problem in great detail. @AlexMamo"}],"answers":[{"tags":[],"owner":{"account_id":19634805,"reputation":311,"user_id":14372265,"display_name":"Yogesh Rewani"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692269544,"creation_date":1692269544,"answer_id":76920810,"question_id":76919291,"body_markdown":"Since the data structure hasn&#39;t been detailed or retrieved, I&#39;ve provided a random example assuming any key name. Please replace it as per your requirements.\r\n\r\nWhenever a score is updated, you&#39;ll need to calculate the highscore using a for loop. Additionally, I&#39;m storing the highscore for alternative usage\r\n\r\n    final DatabaseReference refDirect = FirebaseDatabase.getInstance().getReference();\r\n    refDirect.addListenerForSingleValueEvent(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(DataSnapshot dataSnapshot) {\r\n            String uid = user.getUid();\r\n            refDirect.child(&quot;Users&quot;).child(uid).child(&quot;name&quot;).setValue(user.getDisplayName());\r\n            refDirect.child(&quot;Users&quot;).child(uid).child(&quot;image&quot;).setValue(user.getPhotoUrl().toString());\r\n    \r\n            // Assuming you have a list of levels and their respective high scores\r\n            List&lt;LevelScore&gt; levelScores = calculateHighScoresForLevels(dataSnapshot);\r\n    \r\n            int totalHighScore = 0;\r\n    \r\n            for (LevelScore levelScore : levelScores) {\r\n                refDirect.child(&quot;Users&quot;).child(uid).child(&quot;highscores&quot;)\r\n                    .child(levelScore.getLevelId()).setValue(levelScore.getScore());\r\n    \r\n                totalHighScore += levelScore.getScore(); // Calculate total high score\r\n            }\r\n    \r\n            refDirect.child(&quot;Users&quot;).child(uid).child(&quot;totalHighScore&quot;).setValue(totalHighScore);\r\n        }\r\n    \r\n        @Override\r\n        public void onCancelled(DatabaseError databaseError) {\r\n            // Handle onCancelled if needed\r\n        }\r\n    });\r\n\r\n","title":"android studio Score,CurrentHighScore and Total HighScore","body":"<p>Since the data structure hasn't been detailed or retrieved, I've provided a random example assuming any key name. Please replace it as per your requirements.</p>\n<p>Whenever a score is updated, you'll need to calculate the highscore using a for loop. Additionally, I'm storing the highscore for alternative usage</p>\n<pre><code>final DatabaseReference refDirect = FirebaseDatabase.getInstance().getReference();\nrefDirect.addListenerForSingleValueEvent(new ValueEventListener() {\n    @Override\n    public void onDataChange(DataSnapshot dataSnapshot) {\n        String uid = user.getUid();\n        refDirect.child(&quot;Users&quot;).child(uid).child(&quot;name&quot;).setValue(user.getDisplayName());\n        refDirect.child(&quot;Users&quot;).child(uid).child(&quot;image&quot;).setValue(user.getPhotoUrl().toString());\n\n        // Assuming you have a list of levels and their respective high scores\n        List&lt;LevelScore&gt; levelScores = calculateHighScoresForLevels(dataSnapshot);\n\n        int totalHighScore = 0;\n\n        for (LevelScore levelScore : levelScores) {\n            refDirect.child(&quot;Users&quot;).child(uid).child(&quot;highscores&quot;)\n                .child(levelScore.getLevelId()).setValue(levelScore.getScore());\n\n            totalHighScore += levelScore.getScore(); // Calculate total high score\n        }\n\n        refDirect.child(&quot;Users&quot;).child(uid).child(&quot;totalHighScore&quot;).setValue(totalHighScore);\n    }\n\n    @Override\n    public void onCancelled(DatabaseError databaseError) {\n        // Handle onCancelled if needed\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":28900230,"reputation":23,"user_id":22135379,"display_name":"Twitch Arşivim"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692269544,"creation_date":1692257064,"question_id":76919291,"body_markdown":"I&#39;m developing a game and I have intermediate level of code knowledge. There are 10 levels in total in my game. I record the score instantly and compare it with the high score of the level, which is more.\r\n\r\nI want to keep the high score data in each level and collect it with all levels and print a TextView.\r\n\r\nYou will see in the code that I tried with Sharedpreferences. Result: Each level writes its own high score to the TextView. I want the sum of the high scores of all the levels to be written to the TextView.\r\n\r\n```\r\npublic class Main2Activity extends AppCompatActivity {\r\n    TextView scoreText,failedText,successText,highScoreText,randomArray;\r\n    int score;\r\n    public static int highScore,totalScore,totalScore2;\r\n\r\n    @SuppressLint(&quot;MissingInflatedId&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n\r\n        score = 0;\r\n\r\n        //totalScore = highScore + totalScore2;\r\n        //totalScore2 = key.getInt(&quot;high_score_level2&quot;,0);\r\n\r\n        //Toast.makeText(this, &quot;Genel Skor : &quot;+ totalScore , Toast.LENGTH_LONG).show();\r\n        Toast.makeText(this, &quot;High : &quot;+ highScore , Toast.LENGTH_LONG).show();\r\n\r\n        levelFailed = getResources().getStringArray(R.array.levelFailed);\r\n        levelSuccess = getResources().getStringArray(R.array.levelSuccess);\r\n        highScoreText = (TextView) findViewById(R.id.txtHighScore);\r\n        startTimer();\r\n}\r\n\r\n        private void startTimer(){\r\n        start = new CountDownTimer(10000, 1000) {\r\n\r\n            @Override\r\n            public void onTick(long millisUntilFinished) {\r\n                timeText = (TextView) findViewById(R.id.textTime);\r\n                timeText.setText(&quot;Zaman : &quot; + millisUntilFinished / 1000);\r\n            }\r\n\r\n            @Override\r\n            public void onFinish() {\r\n                timeText = (TextView) findViewById(R.id.textTime);\r\n                timeText.setText(&quot;S&#252;re Doldu ! &quot;);\r\n                handler.removeCallbacks(runnable);\r\n\r\n                for (ImageView image : imageArray) {\r\n                    image.setVisibility(View.INVISIBLE);\r\n                }\r\n                int x = 0;\r\n                if (score &lt; 10){\r\n                    showFailedAlertDialog(R.layout.my_failed_dialog);\r\n\r\n                }\r\n                else if (score &gt;= 10){\r\n                    showAlertDialog(R.layout.my_success_dialog);\r\n                    highScore();\r\n                }\r\n\r\n\r\n            }\r\n        }.start();\r\n    }\r\n\r\n\r\n@SuppressLint(&quot;SetTextI18n&quot;)\r\n    public void highScore(){\r\n        SharedPreferences myScore = getSharedPreferences(&quot;my_pref&quot;,MODE_PRIVATE);\r\n\r\n        if (highScore &gt; score) {\r\n            highScoreText.setText(&quot;Highscore: &quot; + highScore);\r\n\r\n        } else {\r\n            highScore = score;\r\n            highScoreText.setText(&quot;Highscore: &quot; + highScore);\r\n            myScore.edit().putInt(&quot;high_score_level1&quot;, highScore).apply();\r\n\r\n            user = FirebaseAuth.getInstance().getCurrentUser();\r\n            //Upload user data\r\n            if (isOnline() &amp;&amp; user != null &amp;&amp; user.getDisplayName() != null) {\r\n                final DatabaseReference refDirect = FirebaseDatabase.getInstance().getReference();\r\n                refDirect.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(DataSnapshot dataSnapshot) {\r\n                        refDirect.child(&quot;Users&quot; + &quot;/&quot; + user.getUid() +   \r\n                        &quot;/name&quot;).setValue(user.getDisplayName());\r\n                        refDirect.child(&quot;Users&quot; + &quot;/&quot; + user.getUid() + \r\n                        &quot;/image&quot;).setValue(user.getPhotoUrl().toString());\r\n                        refDirect.child(&quot;Users&quot; + &quot;/&quot; + user.getUid() + &quot;/highscore&quot;).setValue(highScore);\r\n\r\n\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(DatabaseError databaseError) {\r\n                    }\r\n\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n        public void showAlertDialog(int my_success_dialog){\r\n        builderDialog = new AlertDialog.Builder(this);\r\n        View layoutView = getLayoutInflater().inflate(R.layout.my_success_dialog,null);\r\n\r\n        if (mInterstitialAd != null) {\r\n            mInterstitialAd.show(Main2Activity.this);\r\n        } else {\r\n            Log.d(&quot;TAG&quot;, &quot;The interstitial ad wasn&#39;t ready yet.&quot;);\r\n        }\r\n\r\n        randomArray = (TextView) layoutView .findViewById(R.id.successMessage);\r\n        randomArray.setText(&quot;&quot;);\r\n\r\n        successText = (TextView) layoutView .findViewById(R.id.txtSuccessScore);\r\n        successText.setText(&quot;Skor: &quot; + score);\r\n\r\n        highScoreText = (TextView) layoutView .findViewById(R.id.txtHighScore);\r\n        highScoreText.setText(&quot;Highscore: &quot; + highScore);\r\n\r\n        int randomIndex = new Random().nextInt(levelSuccess.length);\r\n        String randomName = levelSuccess[randomIndex];\r\n        randomArray.setText(randomName);\r\n\r\n        AppCompatButton dialogButton = layoutView.findViewById(R.id.successAnaMenu);\r\n        AppCompatButton dialogButtonTwo = layoutView.findViewById(R.id.successNextLevel);\r\n        builderDialog.setView(layoutView);\r\n        builderDialog.setCancelable(false);\r\n        alertDialog = builderDialog.create();\r\n        alertDialog.show();\r\n\r\n        dialogButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                Intent intent = new Intent(getApplicationContext(), MainActivity.class);\r\n                Main2Activity.this.startActivity(intent);\r\n            }\r\n        });\r\n\r\n        dialogButtonTwo.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                Intent intent = new Intent(getApplicationContext(), Main5Activity.class);\r\n                Main2Activity.this.startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n}\r\n```\r\n[![enter image description here](https://i.stack.imgur.com/roiXx.png)](https://i.stack.imgur.com/roiXx.png)\r\n[![enter image description here](https://i.stack.imgur.com/g66t7.png)](https://i.stack.imgur.com/g66t7.png)\r\n\r\n**UPDATE:**\r\n```\r\nSharedPreferences myScore = getSharedPreferences(&quot;my_pref&quot;,MODE_PRIVATE);\r\n        totalScore = myScore.getInt(&quot;high_score_level2&quot;,0);\r\n        Toast.makeText(this, &quot;Highscore level2 : &quot;+ totalScore , Toast.LENGTH_LONG).show();\r\n        if (highScore &gt; score) {\r\n            highScoreText.setText(&quot;Highscore: &quot; + highScore + totalScore);\r\n\r\n        } else {\r\n            highScore = score;\r\n            highScoreText.setText(&quot;Highscore: &quot; + highScore + totalscore);\r\n            myScore.edit().putInt(&quot;high_score_level1&quot;, highScore).apply();\r\n```\r\n[![enter image description here][1]][1]\r\n\r\n1-Sharedpreferences pass to value next activity\r\n2-Firebase database get value but i failed\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vrmyx.png","title":"android studio Score,CurrentHighScore and Total HighScore","body":"<p>I'm developing a game and I have intermediate level of code knowledge. There are 10 levels in total in my game. I record the score instantly and compare it with the high score of the level, which is more.</p>\n<p>I want to keep the high score data in each level and collect it with all levels and print a TextView.</p>\n<p>You will see in the code that I tried with Sharedpreferences. Result: Each level writes its own high score to the TextView. I want the sum of the high scores of all the levels to be written to the TextView.</p>\n<pre><code>public class Main2Activity extends AppCompatActivity {\n    TextView scoreText,failedText,successText,highScoreText,randomArray;\n    int score;\n    public static int highScore,totalScore,totalScore2;\n\n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n\n        score = 0;\n\n        //totalScore = highScore + totalScore2;\n        //totalScore2 = key.getInt(&quot;high_score_level2&quot;,0);\n\n        //Toast.makeText(this, &quot;Genel Skor : &quot;+ totalScore , Toast.LENGTH_LONG).show();\n        Toast.makeText(this, &quot;High : &quot;+ highScore , Toast.LENGTH_LONG).show();\n\n        levelFailed = getResources().getStringArray(R.array.levelFailed);\n        levelSuccess = getResources().getStringArray(R.array.levelSuccess);\n        highScoreText = (TextView) findViewById(R.id.txtHighScore);\n        startTimer();\n}\n\n        private void startTimer(){\n        start = new CountDownTimer(10000, 1000) {\n\n            @Override\n            public void onTick(long millisUntilFinished) {\n                timeText = (TextView) findViewById(R.id.textTime);\n                timeText.setText(&quot;Zaman : &quot; + millisUntilFinished / 1000);\n            }\n\n            @Override\n            public void onFinish() {\n                timeText = (TextView) findViewById(R.id.textTime);\n                timeText.setText(&quot;Süre Doldu ! &quot;);\n                handler.removeCallbacks(runnable);\n\n                for (ImageView image : imageArray) {\n                    image.setVisibility(View.INVISIBLE);\n                }\n                int x = 0;\n                if (score &lt; 10){\n                    showFailedAlertDialog(R.layout.my_failed_dialog);\n\n                }\n                else if (score &gt;= 10){\n                    showAlertDialog(R.layout.my_success_dialog);\n                    highScore();\n                }\n\n\n            }\n        }.start();\n    }\n\n\n@SuppressLint(&quot;SetTextI18n&quot;)\n    public void highScore(){\n        SharedPreferences myScore = getSharedPreferences(&quot;my_pref&quot;,MODE_PRIVATE);\n\n        if (highScore &gt; score) {\n            highScoreText.setText(&quot;Highscore: &quot; + highScore);\n\n        } else {\n            highScore = score;\n            highScoreText.setText(&quot;Highscore: &quot; + highScore);\n            myScore.edit().putInt(&quot;high_score_level1&quot;, highScore).apply();\n\n            user = FirebaseAuth.getInstance().getCurrentUser();\n            //Upload user data\n            if (isOnline() &amp;&amp; user != null &amp;&amp; user.getDisplayName() != null) {\n                final DatabaseReference refDirect = FirebaseDatabase.getInstance().getReference();\n                refDirect.addListenerForSingleValueEvent(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(DataSnapshot dataSnapshot) {\n                        refDirect.child(&quot;Users&quot; + &quot;/&quot; + user.getUid() +   \n                        &quot;/name&quot;).setValue(user.getDisplayName());\n                        refDirect.child(&quot;Users&quot; + &quot;/&quot; + user.getUid() + \n                        &quot;/image&quot;).setValue(user.getPhotoUrl().toString());\n                        refDirect.child(&quot;Users&quot; + &quot;/&quot; + user.getUid() + &quot;/highscore&quot;).setValue(highScore);\n\n\n                    }\n\n                    @Override\n                    public void onCancelled(DatabaseError databaseError) {\n                    }\n\n                });\n            }\n        }\n    }\n\n\n\n        public void showAlertDialog(int my_success_dialog){\n        builderDialog = new AlertDialog.Builder(this);\n        View layoutView = getLayoutInflater().inflate(R.layout.my_success_dialog,null);\n\n        if (mInterstitialAd != null) {\n            mInterstitialAd.show(Main2Activity.this);\n        } else {\n            Log.d(&quot;TAG&quot;, &quot;The interstitial ad wasn't ready yet.&quot;);\n        }\n\n        randomArray = (TextView) layoutView .findViewById(R.id.successMessage);\n        randomArray.setText(&quot;&quot;);\n\n        successText = (TextView) layoutView .findViewById(R.id.txtSuccessScore);\n        successText.setText(&quot;Skor: &quot; + score);\n\n        highScoreText = (TextView) layoutView .findViewById(R.id.txtHighScore);\n        highScoreText.setText(&quot;Highscore: &quot; + highScore);\n\n        int randomIndex = new Random().nextInt(levelSuccess.length);\n        String randomName = levelSuccess[randomIndex];\n        randomArray.setText(randomName);\n\n        AppCompatButton dialogButton = layoutView.findViewById(R.id.successAnaMenu);\n        AppCompatButton dialogButtonTwo = layoutView.findViewById(R.id.successNextLevel);\n        builderDialog.setView(layoutView);\n        builderDialog.setCancelable(false);\n        alertDialog = builderDialog.create();\n        alertDialog.show();\n\n        dialogButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                Intent intent = new Intent(getApplicationContext(), MainActivity.class);\n                Main2Activity.this.startActivity(intent);\n            }\n        });\n\n        dialogButtonTwo.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                Intent intent = new Intent(getApplicationContext(), Main5Activity.class);\n                Main2Activity.this.startActivity(intent);\n            }\n        });\n    }\n\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/roiXx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/roiXx.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/g66t7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g66t7.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>UPDATE:</strong></p>\n<pre><code>SharedPreferences myScore = getSharedPreferences(&quot;my_pref&quot;,MODE_PRIVATE);\n        totalScore = myScore.getInt(&quot;high_score_level2&quot;,0);\n        Toast.makeText(this, &quot;Highscore level2 : &quot;+ totalScore , Toast.LENGTH_LONG).show();\n        if (highScore &gt; score) {\n            highScoreText.setText(&quot;Highscore: &quot; + highScore + totalScore);\n\n        } else {\n            highScore = score;\n            highScoreText.setText(&quot;Highscore: &quot; + highScore + totalscore);\n            myScore.edit().putInt(&quot;high_score_level1&quot;, highScore).apply();\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/vrmyx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vrmyx.png\" alt=\"enter image description here\" /></a></p>\n<p>1-Sharedpreferences pass to value next activity\n2-Firebase database get value but i failed</p>\n"},{"tags":["java","spring","caching","redis"],"answers":[{"tags":[],"owner":{"account_id":5244433,"reputation":1775,"user_id":4190617,"accept_rate":72,"display_name":"YLombardi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1489747318,"creation_date":1489747318,"answer_id":42855362,"question_id":42852290,"body_markdown":"I finally found a solution.\r\nIn the configuration of the CacheManager, I need to set UserPrefix with True.\r\n    \r\n    @Bean(name = &quot;mediumLifeCacheManager&quot;)\r\n    public CacheManager mediumLifeCacheManager(RedisTemplate redisTemplate) {\r\n        RedisCacheManager cacheManager = new RedisCacheManager(redisTemplate);\r\n        cacheManager.setDefaultExpiration(redisExpirationMedium);\r\n        cacheManager.setUsePrefix(true);\r\n        return cacheManager;\r\n    }\r\n\r\nNow this works like I want.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/95txr.png","title":"How to create folders in redis&#39;s cache with spring?","body":"<p>I finally found a solution.\nIn the configuration of the CacheManager, I need to set UserPrefix with True.</p>\n\n<pre><code>@Bean(name = \"mediumLifeCacheManager\")\npublic CacheManager mediumLifeCacheManager(RedisTemplate redisTemplate) {\n    RedisCacheManager cacheManager = new RedisCacheManager(redisTemplate);\n    cacheManager.setDefaultExpiration(redisExpirationMedium);\n    cacheManager.setUsePrefix(true);\n    return cacheManager;\n}\n</code></pre>\n\n<p>Now this works like I want.</p>\n\n<p><a href=\"https://i.stack.imgur.com/95txr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/95txr.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":1988712,"reputation":655,"user_id":1783283,"display_name":"Jonathan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692268329,"creation_date":1692268329,"answer_id":76920673,"question_id":42852290,"body_markdown":"it also works using keys with the semicolon separator like `&lt;prefix&gt;:&lt;key&gt;` will group all the key underneath the &lt;prefix&gt; folder (kotlin)\r\n\r\n```\r\nredisTemplate.opsForValue().get(&quot;folder-1:$key&quot;)\r\n```\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZcxKu.png","title":"How to create folders in redis&#39;s cache with spring?","body":"<p>it also works using keys with the semicolon separator like <code>&lt;prefix&gt;:&lt;key&gt;</code> will group all the key underneath the  folder (kotlin)</p>\n<pre><code>redisTemplate.opsForValue().get(&quot;folder-1:$key&quot;)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ZcxKu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZcxKu.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":5244433,"reputation":1775,"user_id":4190617,"accept_rate":72,"display_name":"YLombardi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2299,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692268329,"creation_date":1489738090,"question_id":42852290,"body_markdown":"I try to create folders in the redis cache of my project.\r\nI want something similar to what spring automatically do with spring session.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI have a lot of &quot;DisplayItem&quot; entries and I want to store them in a &quot;displayitem&quot; folder.\r\n\r\nHere is my code : \r\n\r\n    @Cacheable(value = &quot;displayItem&quot;, cacheManager = &quot;longLifeCacheManager&quot;)\r\n    public DisplayItem getDisplayItem(String displayItemCode) {\r\n        // Do a lot of things\r\n    }\r\n\r\n    @Cacheable(cacheManager = &quot;mediumLifeCacheManager&quot;, value = &quot;preferences:userPreferences&quot;, key = &quot;#zenithName&quot;)\r\n    public UserPreferences getUserPreferencesByZenithName(String zenithName) {\r\n        // Do something\r\n    }\r\n\r\nIf I replace the value by &quot;foldername:displayItem&quot;, it create a folder, but only for the keys (like I did for the preferences in the screenshot).\r\nI don&#39;t find how to store all the values in this same folder.\r\n\r\nHow can I do this ?\r\n\r\n  [1]: https://i.stack.imgur.com/dGdds.png","title":"How to create folders in redis&#39;s cache with spring?","body":"<p>I try to create folders in the redis cache of my project.\nI want something similar to what spring automatically do with spring session.</p>\n\n<p><a href=\"https://i.stack.imgur.com/dGdds.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dGdds.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have a lot of \"DisplayItem\" entries and I want to store them in a \"displayitem\" folder.</p>\n\n<p>Here is my code : </p>\n\n<pre><code>@Cacheable(value = \"displayItem\", cacheManager = \"longLifeCacheManager\")\npublic DisplayItem getDisplayItem(String displayItemCode) {\n    // Do a lot of things\n}\n\n@Cacheable(cacheManager = \"mediumLifeCacheManager\", value = \"preferences:userPreferences\", key = \"#zenithName\")\npublic UserPreferences getUserPreferencesByZenithName(String zenithName) {\n    // Do something\n}\n</code></pre>\n\n<p>If I replace the value by \"foldername:displayItem\", it create a folder, but only for the keys (like I did for the preferences in the screenshot).\nI don't find how to store all the values in this same folder.</p>\n\n<p>How can I do this ?</p>\n"},{"tags":["java","gradle","grails","groovy"],"answers":[{"comments":[{"owner":{"account_id":48222,"reputation":697,"user_id":143184,"accept_rate":33,"display_name":"mindcrime"},"score":1,"creation_date":1692372244,"post_id":76920647,"comment_id":135618512,"body_markdown":"Oh wow, you nailed it. My gradle-wrapper.properties file had this:\n\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-bin.zip\n\nI switched it to 7.6.2 and now I can build with the wrapper. Not sure why the auto-generated file would have the wrong version. I guess that should be considered a Grails bug?\n\nAnyway, thanks for the tip!","body":"Oh wow, you nailed it. My gradle-wrapper.properties file had this:  distributionUrl=https\\://services.gradle.org/distributions/g&zwnj;&#8203;radle-7.2-bin.zip  I switched it to 7.6.2 and now I can build with the wrapper. Not sure why the auto-generated file would have the wrong version. I guess that should be considered a Grails bug?  Anyway, thanks for the tip!"}],"tags":[],"owner":{"account_id":1905350,"reputation":2383,"user_id":1720349,"accept_rate":67,"display_name":"Deewendra Shrestha"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1692268079,"creation_date":1692268079,"answer_id":76920647,"question_id":76901132,"body_markdown":"Tried the same command that you had provided but I didn&#39;t get the issue you are seeing. Having said that just recently encountered similar issue : https://stackoverflow.com/questions/76905852/unable-to-run-integration-tests-when-upgrading-grails-from-version-5-to-6-coul\r\n\r\nAnd seem like its related to gradle version as well. Make sure your &quot;buildSrc&quot; folder has gradle version 7.6.2. \r\n\r\nAlso make sure the gradle/wrapper/gradle-wrapper.properties files have this line\r\n\r\n```\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.6.2-bin.zip\r\n```\r\n\r\nFor me replacing the &quot;buildSrc&quot; folder again from fresh grails 6 application worked. \r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lXXBl.png","title":"Cannot build newly created Grails 6.0.0 app with provided Gradle wrapper or system Gradle","body":"<p>Tried the same command that you had provided but I didn't get the issue you are seeing. Having said that just recently encountered similar issue : <a href=\"https://stackoverflow.com/questions/76905852/unable-to-run-integration-tests-when-upgrading-grails-from-version-5-to-6-coul\">Unable to run integration tests when upgrading grails from version 5 to 6 - Could not determine the dependencies of task &#39;:integrationTest&#39;</a></p>\n<p>And seem like its related to gradle version as well. Make sure your &quot;buildSrc&quot; folder has gradle version 7.6.2.</p>\n<p>Also make sure the gradle/wrapper/gradle-wrapper.properties files have this line</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.6.2-bin.zip\n</code></pre>\n<p>For me replacing the &quot;buildSrc&quot; folder again from fresh grails 6 application worked.</p>\n<p><a href=\"https://i.stack.imgur.com/lXXBl.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/lXXBl.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":48222,"reputation":697,"user_id":143184,"accept_rate":33,"display_name":"mindcrime"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76920647,"answer_count":1,"score":2,"last_activity_date":1692268079,"creation_date":1692035247,"question_id":76901132,"body_markdown":"**Configuration**:\r\n\r\nMacOS Ventura, 13.5\r\n\r\nJDK: Liberica JDK 11, and/or Liberica JDK 17\r\n\r\nSystem Gradle: Gradle 8.2.1\r\n\r\nGrails: Grails Version: 6.0.0\r\n\r\n**Problem**:\r\n\r\nI can run \r\n\r\n    $&gt; grails create-app foobar\r\n\r\nto create a new, empty Grails app. That part works fine.\r\n\r\nI can then cd into the &#39;foobar&#39; directory and run\r\n\r\n    $&gt; ./gradlew clean build\r\n\r\nAnd I&#39;m met by the following error when using the JDK 11 mentioned above:\r\n\r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Could not determine the dependencies of task &#39;:integrationTest&#39;.\r\n    &gt; Could not create task &#39;:mergeTestReports&#39;.\r\n       &gt; &#39;org.gradle.api.file.DirectoryProperty org.gradle.api.tasks.testing.TestReport.getDestinationDirectory()&#39;\r\n\r\n\r\nIf I try instead building with the system Gradle:\r\n\r\n    $&gt; gradle clean build\r\n\r\nI get this (again with JDK 11):\r\n\r\n    &gt; Configure project :\r\n    Cannot resolve reloading agent JAR: Failed to resolve imported Maven boms: Cannot resolve external dependency org.springframework.boot:spring-boot-dependencies:2.7.12 because no repositories are defined.\r\n    Required by:\r\n        project :\r\n    \r\n    FAILURE: Build completed with 2 failures.\r\n    \r\n    1: Task failed with an exception.\r\n    -----------\r\n    * Where:\r\n    Build file &#39;/Users/prhodes1/development/experimental/grails/foobar/build.gradle&#39; line: 22\r\n    \r\n    * What went wrong:\r\n    A problem occurred evaluating root project &#39;foobar&#39;.\r\n    &gt; Failed to apply plugin &#39;org.grails.grails-gsp&#39;.\r\n       &gt; Could not create task &#39;:compileGroovyPages&#39;.\r\n          &gt; Could not create task of type &#39;GroovyPageForkCompileTask&#39;.\r\n             &gt; java.lang.InstantiationException (no error message)\r\n    \r\n    * Try:\r\n    &gt; Run with --stacktrace option to get the stack trace.\r\n    &gt; Run with --info or --debug option to get more log output.\r\n    &gt; Run with --scan to get full insights.\r\n    &gt; Get more help at https://help.gradle.org.\r\n    ==============================================================================\r\n    \r\n    2: Task failed with an exception.\r\n    -----------\r\n    * What went wrong:\r\n    A problem occurred configuring root project &#39;foobar&#39;.\r\n    &gt; Could not resolve all files for configuration &#39;:runtimeClasspath&#39;.\r\n       &gt; Cannot resolve external dependency io.micronaut:micronaut-inject-groovy:3.9.3 because no repositories are defined.\r\n         Required by:\r\n             project :\r\n\r\n\r\nIf I try with JDK 17, using the Gradle wrapper, I get pretty much the same error:\r\n\r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Could not determine the dependencies of task &#39;:integrationTest&#39;.\r\n    &gt; Could not create task &#39;:mergeTestReports&#39;.\r\n       &gt; &#39;org.gradle.api.file.DirectoryProperty org.gradle.api.tasks.testing.TestReport.getDestinationDirectory()&#39;\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\nAnd likewise for the combination of JDK 17 and system Gradle:\r\n\r\n    \r\n    &gt; Configure project :\r\n    Cannot resolve reloading agent JAR: Failed to resolve imported Maven boms: Cannot resolve external dependency org.springframework.boot:spring-boot-dependencies:2.7.12 because no repositories are defined.\r\n    Required by:\r\n        project :\r\n    \r\n    FAILURE: Build completed with 2 failures.\r\n    \r\n    1: Task failed with an exception.\r\n    -----------\r\n    * Where:\r\n    Build file &#39;/Users/prhodes1/development/experimental/grails/foobar/build.gradle&#39; line: 22\r\n    \r\n    * What went wrong:\r\n    A problem occurred evaluating root project &#39;foobar&#39;.\r\n    &gt; Failed to apply plugin &#39;org.grails.grails-gsp&#39;.\r\n       &gt; Could not create task &#39;:compileGroovyPages&#39;.\r\n          &gt; Could not create task of type &#39;GroovyPageForkCompileTask&#39;.\r\n             &gt; java.lang.InstantiationException (no error message)\r\n    \r\n    * Try:\r\n    &gt; Run with --stacktrace option to get the stack trace.\r\n    &gt; Run with --info or --debug option to get more log output.\r\n    &gt; Run with --scan to get full insights.\r\n    &gt; Get more help at https://help.gradle.org.\r\n    ==============================================================================\r\n    \r\n    2: Task failed with an exception.\r\n    -----------\r\n    * What went wrong:\r\n    A problem occurred configuring root project &#39;foobar&#39;.\r\n    &gt; Could not resolve all files for configuration &#39;:runtimeClasspath&#39;.\r\n       &gt; Cannot resolve external dependency io.micronaut:micronaut-inject-groovy:3.9.3 because no repositories are defined.\r\n         Required by:\r\n             project :\r\n\r\n\r\nAlso, FYI, the Gradle wrapper created by the grails create-app command is for version 7.2\r\n\r\n    C02FK2T0ML85:foobar prhodes1$ ./gradlew --version\r\n    \r\n    ------------------------------------------------------------\r\n    Gradle 7.2\r\n    ------------------------------------------------------------\r\n    \r\n    Build time:   2021-08-17 09:59:03 UTC\r\n    Revision:     a773786b58bb28710e3dc96c4d1a7063628952ad\r\n    \r\n    Kotlin:       1.5.21\r\n    Groovy:       3.0.8\r\n    Ant:          Apache Ant(TM) version 1.10.9 compiled on September 27 2020\r\n    JVM:          17.0.6 (BellSoft 17.0.6+10-LTS)\r\n    OS:           Mac OS X 13.5 x86_64\r\n\r\nSo basically I&#39;m stuck. I can&#39;t get the generated Grails project to build with either JDK 11 (which is documented as the minimum requirement for Grails 6, per the docs) nor JDK 17, using the generated wrapper or a system install of a recent Gradle. If anybody has any thoughts on how to resolve this and get this Grails app building, I would very much appreciate your insights. ","title":"Cannot build newly created Grails 6.0.0 app with provided Gradle wrapper or system Gradle","body":"<p><strong>Configuration</strong>:</p>\n<p>MacOS Ventura, 13.5</p>\n<p>JDK: Liberica JDK 11, and/or Liberica JDK 17</p>\n<p>System Gradle: Gradle 8.2.1</p>\n<p>Grails: Grails Version: 6.0.0</p>\n<p><strong>Problem</strong>:</p>\n<p>I can run</p>\n<pre><code>$&gt; grails create-app foobar\n</code></pre>\n<p>to create a new, empty Grails app. That part works fine.</p>\n<p>I can then cd into the 'foobar' directory and run</p>\n<pre><code>$&gt; ./gradlew clean build\n</code></pre>\n<p>And I'm met by the following error when using the JDK 11 mentioned above:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not determine the dependencies of task ':integrationTest'.\n&gt; Could not create task ':mergeTestReports'.\n   &gt; 'org.gradle.api.file.DirectoryProperty org.gradle.api.tasks.testing.TestReport.getDestinationDirectory()'\n</code></pre>\n<p>If I try instead building with the system Gradle:</p>\n<pre><code>$&gt; gradle clean build\n</code></pre>\n<p>I get this (again with JDK 11):</p>\n<pre><code>&gt; Configure project :\nCannot resolve reloading agent JAR: Failed to resolve imported Maven boms: Cannot resolve external dependency org.springframework.boot:spring-boot-dependencies:2.7.12 because no repositories are defined.\nRequired by:\n    project :\n\nFAILURE: Build completed with 2 failures.\n\n1: Task failed with an exception.\n-----------\n* Where:\nBuild file '/Users/prhodes1/development/experimental/grails/foobar/build.gradle' line: 22\n\n* What went wrong:\nA problem occurred evaluating root project 'foobar'.\n&gt; Failed to apply plugin 'org.grails.grails-gsp'.\n   &gt; Could not create task ':compileGroovyPages'.\n      &gt; Could not create task of type 'GroovyPageForkCompileTask'.\n         &gt; java.lang.InstantiationException (no error message)\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n&gt; Get more help at https://help.gradle.org.\n==============================================================================\n\n2: Task failed with an exception.\n-----------\n* What went wrong:\nA problem occurred configuring root project 'foobar'.\n&gt; Could not resolve all files for configuration ':runtimeClasspath'.\n   &gt; Cannot resolve external dependency io.micronaut:micronaut-inject-groovy:3.9.3 because no repositories are defined.\n     Required by:\n         project :\n</code></pre>\n<p>If I try with JDK 17, using the Gradle wrapper, I get pretty much the same error:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not determine the dependencies of task ':integrationTest'.\n&gt; Could not create task ':mergeTestReports'.\n   &gt; 'org.gradle.api.file.DirectoryProperty org.gradle.api.tasks.testing.TestReport.getDestinationDirectory()'\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n</code></pre>\n<p>And likewise for the combination of JDK 17 and system Gradle:</p>\n<pre><code>&gt; Configure project :\nCannot resolve reloading agent JAR: Failed to resolve imported Maven boms: Cannot resolve external dependency org.springframework.boot:spring-boot-dependencies:2.7.12 because no repositories are defined.\nRequired by:\n    project :\n\nFAILURE: Build completed with 2 failures.\n\n1: Task failed with an exception.\n-----------\n* Where:\nBuild file '/Users/prhodes1/development/experimental/grails/foobar/build.gradle' line: 22\n\n* What went wrong:\nA problem occurred evaluating root project 'foobar'.\n&gt; Failed to apply plugin 'org.grails.grails-gsp'.\n   &gt; Could not create task ':compileGroovyPages'.\n      &gt; Could not create task of type 'GroovyPageForkCompileTask'.\n         &gt; java.lang.InstantiationException (no error message)\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n&gt; Get more help at https://help.gradle.org.\n==============================================================================\n\n2: Task failed with an exception.\n-----------\n* What went wrong:\nA problem occurred configuring root project 'foobar'.\n&gt; Could not resolve all files for configuration ':runtimeClasspath'.\n   &gt; Cannot resolve external dependency io.micronaut:micronaut-inject-groovy:3.9.3 because no repositories are defined.\n     Required by:\n         project :\n</code></pre>\n<p>Also, FYI, the Gradle wrapper created by the grails create-app command is for version 7.2</p>\n<pre><code>C02FK2T0ML85:foobar prhodes1$ ./gradlew --version\n\n------------------------------------------------------------\nGradle 7.2\n------------------------------------------------------------\n\nBuild time:   2021-08-17 09:59:03 UTC\nRevision:     a773786b58bb28710e3dc96c4d1a7063628952ad\n\nKotlin:       1.5.21\nGroovy:       3.0.8\nAnt:          Apache Ant(TM) version 1.10.9 compiled on September 27 2020\nJVM:          17.0.6 (BellSoft 17.0.6+10-LTS)\nOS:           Mac OS X 13.5 x86_64\n</code></pre>\n<p>So basically I'm stuck. I can't get the generated Grails project to build with either JDK 11 (which is documented as the minimum requirement for Grails 6, per the docs) nor JDK 17, using the generated wrapper or a system install of a recent Gradle. If anybody has any thoughts on how to resolve this and get this Grails app building, I would very much appreciate your insights.</p>\n"},{"tags":["java","date"],"comments":[{"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"score":18,"creation_date":1355845810,"post_id":13936576,"comment_id":19215452,"body_markdown":"imho it makes total sense. If two things happen at the same time, than neither of both happened before the other.","body":"imho it makes total sense. If two things happen at the same time, than neither of both happened before the other."},{"owner":{"account_id":938015,"reputation":21321,"user_id":966590,"accept_rate":100,"display_name":"Andrew Logvinov"},"score":0,"creation_date":1355845823,"post_id":13936576,"comment_id":19215464,"body_markdown":"Why doesn&#39;t it make sense?","body":"Why doesn&#39;t it make sense?"},{"owner":{"account_id":71547,"reputation":2752,"user_id":2677158,"display_name":"Steven Mastandrea"},"score":3,"creation_date":1355845823,"post_id":13936576,"comment_id":19215466,"body_markdown":"Ummm, unless I&#39;m missing something, these two dates appear to be equal, so date1.before(date2) should return false.","body":"Ummm, unless I&#39;m missing something, these two dates appear to be equal, so date1.before(date2) should return false."},{"owner":{"account_id":97313,"reputation":6321,"user_id":264028,"accept_rate":75,"display_name":"Joaqu&#237;n L. Robles"},"score":0,"creation_date":1638374163,"post_id":13936576,"comment_id":124072018,"body_markdown":"date1 being before date2 implies that date2 is not before date1, so what you are suggesting is itself a contradiction","body":"date1 being before date2 implies that date2 is not before date1, so what you are suggesting is itself a contradiction"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1690892886,"post_id":13936576,"comment_id":135413948,"body_markdown":"Are you using `java.util.Date`? While this made sense to do 11 years ago when the question was asked, the recommendation today is clear: do not use that class. It was always poorly designed and is long outdated. Depending on context and exact requirements you will probably want to use `Instant` or perhaps `LocalDate` or `ZonedDateTime`. They are all from [java.time, the modern java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html). It will still be true that an `Instant` is not before itself, though.","body":"Are you using <code>java.util.Date</code>? While this made sense to do 11 years ago when the question was asked, the recommendation today is clear: do not use that class. It was always poorly designed and is long outdated. Depending on context and exact requirements you will probably want to use <code>Instant</code> or perhaps <code>LocalDate</code> or <code>ZonedDateTime</code>. They are all from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern java date and time API</a>. It will still be true that an <code>Instant</code> is not before itself, though."}],"answers":[{"tags":[],"owner":{"account_id":1192481,"reputation":4568,"user_id":1164954,"accept_rate":77,"display_name":"svz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1355845874,"creation_date":1355845874,"answer_id":13936627,"question_id":13936576,"body_markdown":"This is quite a normal behavior because `dateBefore` checks whether one date is **before** the other one. If the dates are equal this is obvious to be false.","title":"Date before method returns false if both dates are equal","body":"<p>This is quite a normal behavior because <code>dateBefore</code> checks whether one date is <strong>before</strong> the other one. If the dates are equal this is obvious to be false.</p>\n"},{"comments":[{"owner":{"account_id":915369,"reputation":8469,"user_id":948268,"accept_rate":71,"display_name":"Kuldeep Jain"},"score":2,"creation_date":1391170394,"post_id":13936632,"comment_id":32419686,"body_markdown":"I think @taswyn and bowmore&#39;s solutions are better.","body":"I think @taswyn and bowmore&#39;s solutions are better."},{"owner":{"account_id":7833047,"reputation":594,"user_id":5922270,"accept_rate":80,"display_name":"Shabbir Essaji"},"score":0,"creation_date":1623910968,"post_id":13936632,"comment_id":120212679,"body_markdown":"It would be great for Oracle to develop a new method with signature date1.equalsOrBefore(date2) to help developers reduce conditions.","body":"It would be great for Oracle to develop a new method with signature date1.equalsOrBefore(date2) to help developers reduce conditions."}],"tags":[],"owner":{"account_id":1853502,"reputation":16211,"user_id":1679537,"accept_rate":82,"display_name":"xlecoustillier"},"comment_count":2,"down_vote_count":1,"up_vote_count":99,"is_accepted":true,"score":98,"last_activity_date":1690884910,"creation_date":1355845893,"answer_id":13936632,"question_id":13936576,"body_markdown":"As `date1.equals(date2)`, it is normal that `date1.before(date2)` returns `false`. As will do `date1.after(date2)`.\r\n\r\nBoth dates are the same, so one is not before the other.\r\n\r\nFrom the [javadoc][1] :\r\n\r\n&gt;  true if and only if the instant of time represented by this Date\r\n&gt; object is **strictly** earlier than the instant represented by when;\r\n&gt; false otherwise.\r\n\r\nTry something like:\r\n\r\n    if (date1.before(date2) || date1.equals(date2)) ...\r\n\r\nThe answers provided below suggest testing for the inverse, and they&#39;re right:\r\n\r\n    if (!date1.after(date2)) ...\r\n\r\nBoth tests are equivalent.\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Date.html","title":"Date before method returns false if both dates are equal","body":"<p>As <code>date1.equals(date2)</code>, it is normal that <code>date1.before(date2)</code> returns <code>false</code>. As will do <code>date1.after(date2)</code>.</p>\n<p>Both dates are the same, so one is not before the other.</p>\n<p>From the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\">javadoc</a> :</p>\n<blockquote>\n<p>true if and only if the instant of time represented by this Date\nobject is <strong>strictly</strong> earlier than the instant represented by when;\nfalse otherwise.</p>\n</blockquote>\n<p>Try something like:</p>\n<pre><code>if (date1.before(date2) || date1.equals(date2)) ...\n</code></pre>\n<p>The answers provided below suggest testing for the inverse, and they're right:</p>\n<pre><code>if (!date1.after(date2)) ...\n</code></pre>\n<p>Both tests are equivalent.</p>\n"},{"tags":[],"owner":{"account_id":1899105,"reputation":4463,"user_id":1715367,"accept_rate":43,"display_name":"taswyn"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1355847115,"creation_date":1355846401,"answer_id":13936810,"question_id":13936576,"body_markdown":"If the dates are equal, then obviously one is NOT before the other: `false is the correct return for date1.before(date2) where date1 == date2`.\r\n\r\nIf you need to *include* equality, why not do a negation on `.after()` (obviously if date 1 is NOT after date 2, then it is *equal or before*), but I would make sure that this is actually correct logic for what you are trying to accomplish.\r\n\r\nIf equality is a special case that needs to be handled differently, then have a separate test for `.equals()`.","title":"Date before method returns false if both dates are equal","body":"<p>If the dates are equal, then obviously one is NOT before the other: <code>false is the correct return for date1.before(date2) where date1 == date2</code>.</p>\n\n<p>If you need to <em>include</em> equality, why not do a negation on <code>.after()</code> (obviously if date 1 is NOT after date 2, then it is <em>equal or before</em>), but I would make sure that this is actually correct logic for what you are trying to accomplish.</p>\n\n<p>If equality is a special case that needs to be handled differently, then have a separate test for <code>.equals()</code>.</p>\n"},{"tags":[],"owner":{"account_id":2123179,"reputation":10932,"user_id":1886012,"display_name":"bowmore"},"comment_count":0,"down_vote_count":0,"up_vote_count":65,"is_accepted":false,"score":65,"last_activity_date":1355858596,"creation_date":1355858596,"answer_id":13940015,"question_id":13936576,"body_markdown":"You can simply test the inverse : \r\n\r\n    !date1.after(date2)\r\n\r\nYou can always convert a strict order check to a non-strict check in this manner. Since mathematically :\r\n\r\n    a &gt; b ⇔ &#172; (a ≤ b)","title":"Date before method returns false if both dates are equal","body":"<p>You can simply test the inverse : </p>\n\n<pre><code>!date1.after(date2)\n</code></pre>\n\n<p>You can always convert a strict order check to a non-strict check in this manner. Since mathematically :</p>\n\n<pre><code>a &gt; b ⇔ ¬ (a ≤ b)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":480378,"reputation":1759,"user_id":893589,"accept_rate":80,"display_name":"Rafael Moreira"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1388765430,"creation_date":1388765055,"answer_id":20907787,"question_id":13936576,"body_markdown":"you can use the inverse like it was proposed by bowmore: `!date1.after(date2)`\r\n\r\nOr if you are looking for ranges, between can include the endpoints, in which case you could `use return !d.before(min) &amp;&amp; !d.after(max)`","title":"Date before method returns false if both dates are equal","body":"<p>you can use the inverse like it was proposed by bowmore: <code>!date1.after(date2)</code></p>\n\n<p>Or if you are looking for ranges, between can include the endpoints, in which case you could <code>use return !d.before(min) &amp;&amp; !d.after(max)</code></p>\n"},{"tags":[],"owner":{"account_id":1965862,"reputation":3669,"user_id":1766166,"accept_rate":71,"display_name":"zygimantus"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1444725235,"creation_date":1444725235,"answer_id":33097821,"question_id":13936576,"body_markdown":"You can use this also:\r\n    \r\n    boolean check = dateOne.before(dateTwo) || DateUtils.isSameDay(dateOne, dateTwo);\r\n\r\nDateUtils is from **org.apache.commons.lang.time** package","title":"Date before method returns false if both dates are equal","body":"<p>You can use this also:</p>\n\n<pre><code>boolean check = dateOne.before(dateTwo) || DateUtils.isSameDay(dateOne, dateTwo);\n</code></pre>\n\n<p>DateUtils is from <strong>org.apache.commons.lang.time</strong> package</p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1472412885,"post_id":39193775,"comment_id":65730635,"body_markdown":"Good answer. For a more detailed and accurate default String output, convert to an [`java.time.Instant`](http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html). `myUtilDate.toInstant().toString()` → `2016-08-27T22:00:00.605Z`. Or, `Instant.ofEpochMilli ( 1_472_335_200_605L )`","body":"Good answer. For a more detailed and accurate default String output, convert to an <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>java.time.Instant</code></a>. <code>myUtilDate.toInstant().toString()</code> → <code>2016-08-27T22:00:00.605Z</code>. Or, <code>Instant.ofEpochMilli ( 1_472_335_200_605L )</code>"},{"owner":{"account_id":5411323,"reputation":695,"user_id":4307991,"display_name":"alvaro torrico"},"score":0,"creation_date":1472509857,"post_id":39193775,"comment_id":65770844,"body_markdown":"Yes, if you are working in Java 8 is recommended using Instant and the bunch of new classes to manage dates.","body":"Yes, if you are working in Java 8 is recommended using Instant and the bunch of new classes to manage dates."}],"tags":[],"owner":{"account_id":5411323,"reputation":695,"user_id":4307991,"display_name":"alvaro torrico"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1472509697,"creation_date":1472404051,"answer_id":39193775,"question_id":13936576,"body_markdown":"The real problem with your code maybe is that you are not taking into account the millis and the before function does\r\n\r\nTwo objects java.util.Date with a toString result: Sun Aug 28 00:00:00 CEST 2016\r\nmay have a different value when calling to getTime.\r\nFor instance\r\n   \r\n    Date d1;\r\n    Date d2;\r\n    d1.toString(); // = Sun Aug 28 00:00:00 CEST 2016\r\n    d2.toString(); // = Sun Aug 28 00:00:00 CEST 2016\r\n    d1.getTime(); // = 1472335200605\r\n    d2.getTime(); // = 1472335200000\r\n\r\nOf course, these dates are not equals.\r\n\r\n&gt; ## From javadoc: ##\r\n&gt;\r\n&gt;&quot;Returns:true if and only if the instant of time represented by this Date object is strictly earlier than the instant represented by when; false otherwise.&quot;","title":"Date before method returns false if both dates are equal","body":"<p>The real problem with your code maybe is that you are not taking into account the millis and the before function does</p>\n\n<p>Two objects java.util.Date with a toString result: Sun Aug 28 00:00:00 CEST 2016\nmay have a different value when calling to getTime.\nFor instance</p>\n\n<pre><code>Date d1;\nDate d2;\nd1.toString(); // = Sun Aug 28 00:00:00 CEST 2016\nd2.toString(); // = Sun Aug 28 00:00:00 CEST 2016\nd1.getTime(); // = 1472335200605\nd2.getTime(); // = 1472335200000\n</code></pre>\n\n<p>Of course, these dates are not equals.</p>\n\n<blockquote>\n  <h2>From javadoc:</h2>\n  \n  <p>\"Returns:true if and only if the instant of time represented by this Date object is strictly earlier than the instant represented by when; false otherwise.\"</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597175888,"creation_date":1597175888,"answer_id":63365518,"question_id":13936576,"body_markdown":"The answers from 2012 are correct and were generally good answers back then. Nowadays we surely prefer to use java.time, the modern Java date and time API, over the `Date` class implied in the question. `Date` is poorly designed and now long outdated.\r\n\r\nThe two recommended ways to obtain a “before or equal” comparison are:\r\n\r\n 1. **The natural and wordy** one:\r\n\r\n    \t\tOffsetDateTime dateTime1 = OffsetDateTime.of(2012, 12, 18, 0, 0, 0, 0, ZoneOffset.ofHours(2));\r\n    \t\tOffsetDateTime dateTime2 = OffsetDateTime.of(2012, 12, 18, 0, 0, 0, 0, ZoneOffset.ofHours(2));\r\n    \t\t\r\n    \t\tif (dateTime1.isBefore(dateTime2) || dateTime1.isEqual(dateTime2)) {\r\n    \t\t\tSystem.out.println(&quot;dateTime1 is before or equal to dateTime2&quot;);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;dateTime1 is after dateTime2&quot;);\r\n    \t\t}\r\n    \r\n    Output is:\r\n    \r\n    &gt; dateTime1 is before or equal to dateTime2\r\n\r\n    As an aside `OffsetDateTime.isEqual()` compares points in time, instants, across UTC offsets and will return true of the two objects denote the same point in time. Also `isBefore()` works across different UTC offsets.\r\n\r\n 2. **The brief one** where we reverse the condition:\r\n\r\n    \t\tif (dateTime1.isAfter(dateTime2)) {\r\n    \t\t\tSystem.out.println(&quot;dateTime1 is after dateTime2&quot;);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;dateTime1 is before or equal to dateTime2&quot;);\r\n    \t\t}\r\n    \r\n    Output is the same as before.\r\n\r\nDepending on requirements you could easily find yourself preferring the `Instant` class over `OffsetDateTime`. The `if` condition will be the same.\r\n\r\nNo matter if using the old-fashioned `Date` or one of the modern classes *before* means *strictly before*. So to obtain *before or equal* we need to use one of the variants above.\r\n\r\n","title":"Date before method returns false if both dates are equal","body":"<p>The answers from 2012 are correct and were generally good answers back then. Nowadays we surely prefer to use java.time, the modern Java date and time API, over the <code>Date</code> class implied in the question. <code>Date</code> is poorly designed and now long outdated.</p>\n<p>The two recommended ways to obtain a “before or equal” comparison are:</p>\n<ol>\n<li><p><strong>The natural and wordy</strong> one:</p>\n<pre><code>    OffsetDateTime dateTime1 = OffsetDateTime.of(2012, 12, 18, 0, 0, 0, 0, ZoneOffset.ofHours(2));\n    OffsetDateTime dateTime2 = OffsetDateTime.of(2012, 12, 18, 0, 0, 0, 0, ZoneOffset.ofHours(2));\n\n    if (dateTime1.isBefore(dateTime2) || dateTime1.isEqual(dateTime2)) {\n        System.out.println(&quot;dateTime1 is before or equal to dateTime2&quot;);\n    } else {\n        System.out.println(&quot;dateTime1 is after dateTime2&quot;);\n    }\n</code></pre>\n<p>Output is:</p>\n<blockquote>\n<p>dateTime1 is before or equal to dateTime2</p>\n</blockquote>\n<p>As an aside <code>OffsetDateTime.isEqual()</code> compares points in time, instants, across UTC offsets and will return true of the two objects denote the same point in time. Also <code>isBefore()</code> works across different UTC offsets.</p>\n</li>\n<li><p><strong>The brief one</strong> where we reverse the condition:</p>\n<pre><code>    if (dateTime1.isAfter(dateTime2)) {\n        System.out.println(&quot;dateTime1 is after dateTime2&quot;);\n    } else {\n        System.out.println(&quot;dateTime1 is before or equal to dateTime2&quot;);\n    }\n</code></pre>\n<p>Output is the same as before.</p>\n</li>\n</ol>\n<p>Depending on requirements you could easily find yourself preferring the <code>Instant</code> class over <code>OffsetDateTime</code>. The <code>if</code> condition will be the same.</p>\n<p>No matter if using the old-fashioned <code>Date</code> or one of the modern classes <em>before</em> means <em>strictly before</em>. So to obtain <em>before or equal</em> we need to use one of the variants above.</p>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1690893169,"post_id":76810580,"comment_id":135414005,"body_markdown":"According to your link that works with Joda-Time’s `LocalDate`. The Joda-Time project is in maintenance mode and not recommended for new code. Use [java.time](https://docs.oracle.com/javase/tutorial/datetime/index.html). Do you know if a newer version of AssertJ exists that supports java.time in the same way? If so, this seems to me to be a very good solution.","body":"According to your link that works with Joda-Time’s <code>LocalDate</code>. The Joda-Time project is in maintenance mode and not recommended for new code. Use <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time</a>. Do you know if a newer version of AssertJ exists that supports java.time in the same way? If so, this seems to me to be a very good solution."},{"owner":{"account_id":414114,"reputation":101,"user_id":788146,"display_name":"StanleyKh"},"score":1,"creation_date":1691002993,"post_id":76810580,"comment_id":135433186,"body_markdown":"java.time.Instant is available. Please check [API](https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractDateAssert.html#isAfterOrEqualTo(java.time.Instant))","body":"java.time.Instant is available. Please check <a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractDateAssert.html#isAfterOrEqualTo(java.time.Instant)\" rel=\"nofollow noreferrer\">API</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1691424963,"post_id":76810580,"comment_id":135486688,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76810580/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":414114,"reputation":101,"user_id":788146,"display_name":"StanleyKh"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692267574,"creation_date":1690884575,"answer_id":76810580,"question_id":13936576,"body_markdown":"Assertj&#39;s [isBeforeOrEqualTo][1] is an option for tests.\r\n\r\nExamle for ``Instant`` taken from the [doc][2]:\r\n\r\n    // assertions succeed\r\n    // theTwoTowers release date : 2002-12-18\r\n    assertThat(theTwoTowers.getReleaseDate()).assertIsAfterOrEqualTo(Instant.parse(&quot;2002-12-17T00:00:00.00Z&quot;))\r\n                                             .assertIsAfterOrEqualTo(Instant.parse(&quot;2002-12-18T00:00:00.00Z&quot;));\r\n    // assertion fails\r\n    assertThat(theTwoTowers.getReleaseDate()).assertIsAfterOrEqualTo(Instant.parse(&quot;2002-12-19T00:00:00.00Z&quot;));\r\n\r\n  [1]: https://www.javadoc.io/doc/org.assertj/assertj-joda-time/latest/org/assertj/jodatime/api/LocalDateAssert.html#isBeforeOrEqualTo-org.joda.time.LocalDate-\r\n[2]: https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractDateAssert.html#isAfterOrEqualTo(java.time.Instant)\r\n\r\n","title":"Date before method returns false if both dates are equal","body":"<p>Assertj's <a href=\"https://www.javadoc.io/doc/org.assertj/assertj-joda-time/latest/org/assertj/jodatime/api/LocalDateAssert.html#isBeforeOrEqualTo-org.joda.time.LocalDate-\" rel=\"nofollow noreferrer\">isBeforeOrEqualTo</a> is an option for tests.</p>\n<p>Examle for <code>Instant</code> taken from the <a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractDateAssert.html#isAfterOrEqualTo(java.time.Instant)\" rel=\"nofollow noreferrer\">doc</a>:</p>\n<pre><code>// assertions succeed\n// theTwoTowers release date : 2002-12-18\nassertThat(theTwoTowers.getReleaseDate()).assertIsAfterOrEqualTo(Instant.parse(&quot;2002-12-17T00:00:00.00Z&quot;))\n                                         .assertIsAfterOrEqualTo(Instant.parse(&quot;2002-12-18T00:00:00.00Z&quot;));\n// assertion fails\nassertThat(theTwoTowers.getReleaseDate()).assertIsAfterOrEqualTo(Instant.parse(&quot;2002-12-19T00:00:00.00Z&quot;));\n</code></pre>\n"}],"owner":{"account_id":189816,"reputation":33533,"user_id":429377,"accept_rate":91,"display_name":"Mahmoud Saleh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106547,"favorite_count":0,"down_vote_count":1,"up_vote_count":48,"accepted_answer_id":13936632,"answer_count":9,"score":47,"last_activity_date":1692267574,"creation_date":1355845718,"question_id":13936576,"body_markdown":"When comparing two dates with date `before` method, if the dates are similar, it returns false as follows:\r\n\r\n- **date1: Tue Dec 18 00:00:00 GMT+02:00 2012**\r\n- **date2: Tue Dec 18 00:00:00 GMT+02:00 2012**\r\n     \r\nthe method `date1.before(date2)` always returns `false` in this case, which does not make sense to me (doesn&#39;t apply to my case in other words).\r\nI want to check if a date (day/month/year) equals today&#39;s date (day/month/year)?","title":"Date before method returns false if both dates are equal","body":"<p>When comparing two dates with date <code>before</code> method, if the dates are similar, it returns false as follows:</p>\n<ul>\n<li><strong>date1: Tue Dec 18 00:00:00 GMT+02:00 2012</strong></li>\n<li><strong>date2: Tue Dec 18 00:00:00 GMT+02:00 2012</strong></li>\n</ul>\n<p>the method <code>date1.before(date2)</code> always returns <code>false</code> in this case, which does not make sense to me (doesn't apply to my case in other words).\nI want to check if a date (day/month/year) equals today's date (day/month/year)?</p>\n"},{"tags":["java","jsp","java-compiler-api","online-compilation"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":12,"creation_date":1460492468,"post_id":36583278,"comment_id":60765521,"body_markdown":"This is wrong on every level.  You should not be doing this.","body":"This is wrong on every level.  You should not be doing this."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1460492637,"post_id":36583278,"comment_id":60765622,"body_markdown":"Scriptlets are a bad idea, for one.  Are you trying to allow people to post source and compile it in your JSP?  Sorry, never used JSPs that way.  I don&#39;t use JSPs at all anymore - too 90s.","body":"Scriptlets are a bad idea, for one.  Are you trying to allow people to post source and compile it in your JSP?  Sorry, never used JSPs that way.  I don&#39;t use JSPs at all anymore - too 90s."},{"owner":{"account_id":923153,"reputation":5107,"user_id":954442,"accept_rate":83,"display_name":"Andrew Regan"},"score":0,"creation_date":1460500430,"post_id":36583278,"comment_id":60769385,"body_markdown":"This is really very strange. Could you step back a little and update your question with some background so we can see what you&#39;re trying to achieve?","body":"This is really very strange. Could you step back a little and update your question with some background so we can see what you&#39;re trying to achieve?"},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1460501554,"post_id":36583278,"comment_id":60769822,"body_markdown":"Let&#39;s assume this has a noble purpose.  Are you trying to compile source code submitted through a form on your site?","body":"Let&#39;s assume this has a noble purpose.  Are you trying to compile source code submitted through a form on your site?"},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":1,"creation_date":1460501809,"post_id":36583278,"comment_id":60769927,"body_markdown":"First lesson learned:  do not direct the client to do any heavy lifting.","body":"First lesson learned:  do not direct the client to do any heavy lifting."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":5,"creation_date":1460675053,"post_id":36583278,"comment_id":60865990,"body_markdown":"I had an on-line compiler once. A person who was deep into maintaining the Java Compiler warned that there were short code samples that could tie up a compiler for 30 minutes or more. I removed it from public view. I think the view of @duffymo and others in comments is a good lead. ***Don&#39;t do this.***","body":"I had an on-line compiler once. A person who was deep into maintaining the Java Compiler warned that there were short code samples that could tie up a compiler for 30 minutes or more. I removed it from public view. I think the view of @duffymo and others in comments is a good lead. <b><i>Don&#39;t do this.</i></b>"},{"owner":{"account_id":6429569,"reputation":385,"user_id":4983331,"accept_rate":87,"display_name":"sony"},"score":0,"creation_date":1460675213,"post_id":36583278,"comment_id":60866037,"body_markdown":"@AndrewThompson Pls open  the link mention in the question and tell me how they did this","body":"@AndrewThompson Pls open  the link mention in the question and tell me how they did this"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":3,"creation_date":1460676176,"post_id":36583278,"comment_id":60866362,"body_markdown":"*&quot;Pls open the link mention in the question..&quot;* I&#39;m not following a link external to SO. BTW - just because someone has done something, does not necessarily make it a &#39;good idea&#39;.","body":"<i>&quot;Pls open the link mention in the question..&quot;</i> I&#39;m not following a link external to SO. BTW - just because someone has done something, does not necessarily make it a &#39;good idea&#39;."},{"owner":{"account_id":1426585,"reputation":2315,"user_id":1349927,"accept_rate":62,"display_name":"tak3shi"},"score":1,"creation_date":1460716629,"post_id":36583278,"comment_id":60883021,"body_markdown":"Whatever you do, there is no reason to use scriptlets. You can call an action in java and pass the entered javacode to the java backend and compile from the java backend. If you really want to use scriptlets, you are missing imports in your question.","body":"Whatever you do, there is no reason to use scriptlets. You can call an action in java and pass the entered javacode to the java backend and compile from the java backend. If you really want to use scriptlets, you are missing imports in your question."},{"owner":{"account_id":2458362,"reputation":27415,"user_id":2142994,"accept_rate":60,"display_name":"Ani Menon"},"score":0,"creation_date":1461264117,"post_id":36583278,"comment_id":61132245,"body_markdown":"JSP is client-side, why would you want to run a java file from there?","body":"JSP is client-side, why would you want to run a java file from there?"},{"owner":{"account_id":1426585,"reputation":2315,"user_id":1349927,"accept_rate":62,"display_name":"tak3shi"},"score":0,"creation_date":1461327479,"post_id":36583278,"comment_id":61161580,"body_markdown":"@AniMenon JSP compiles and executes on the server.","body":"@AniMenon JSP compiles and executes on the server."},{"owner":{"account_id":2458362,"reputation":27415,"user_id":2142994,"accept_rate":60,"display_name":"Ani Menon"},"score":0,"creation_date":1461328124,"post_id":36583278,"comment_id":61162034,"body_markdown":"@tak3shi it can, but try to keep the client lite.","body":"@tak3shi it can, but try to keep the client lite."},{"owner":{"account_id":1426585,"reputation":2315,"user_id":1349927,"accept_rate":62,"display_name":"tak3shi"},"score":0,"creation_date":1461331000,"post_id":36583278,"comment_id":61164140,"body_markdown":"@AniMenon There is no general rule to keep clients lite. Both architectures exists. Thin Client and Rich Client and they have their pros and cons. JSP is a server side technology and this discussion is out of the scope of this question!","body":"@AniMenon There is no general rule to keep clients lite. Both architectures exists. Thin Client and Rich Client and they have their pros and cons. JSP is a server side technology and this discussion is out of the scope of this question!"}],"answers":[{"tags":[],"owner":{"account_id":1426585,"reputation":2315,"user_id":1349927,"accept_rate":62,"display_name":"tak3shi"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1692267560,"creation_date":1460721334,"answer_id":36646482,"question_id":36583278,"body_markdown":" 1. Please do not use scriptlets, write Java code that you can call from your jsp.\r\n 2. Java requires a file name with the name of the class, this was probably your main problem.\r\n 3. What is the expected format of Java code the user can enter? Method, Class or only a script inside a method?\r\n 4. **With your level of Java knowledge**, please do not allow unknown users to enter code or **your server will get hacked very soon**!\r\n\r\nThe following code compiles the code in variable convert. It automatically detects the name of the class entered. If no class has been found, it creates a template with the classname MyClass.\r\n\r\n```java  \r\nString convert = &quot;public class NewClass {  public static void main(String[] args) {    System.out.println(\\&quot;test\\&quot;);  }}&quot;;\r\nString filename = &quot;MyClass.java&quot;;\r\n\r\nint i = convert.indexOf(&quot; class &quot;);\r\nif (i == -1) {\r\n  convert = &quot;public class MyClass { &quot; + convert + &quot; } &quot;;\r\n} else {\r\n  int classNameIndex = convert.indexOf(&quot; &quot;, i + 1);\r\n  int classNameIndexEnd = convert.indexOf(&quot; &quot;, classNameIndex + 1);\r\n  filename = convert.substring(classNameIndex + 1, classNameIndexEnd) + &quot;.java&quot;;\r\n}\r\n\r\nPrintWriter wr = response.getWriter();\r\nFile f = new File(filename);\r\nif (!f.exists()) {\r\n  f.createNewFile();\r\n  wr.println(&quot;File is created\\n&quot;);\r\n}\r\n\r\nFileWriter write = new FileWriter(f);\r\nBufferedWriter bf = new BufferedWriter(write);\r\nbf.write(convert);\r\nbf.close();\r\nwr.println(&quot;File writing done\\n&quot;);\r\n\r\nJavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\r\nint result = compiler.run(null, null, null, filename);\r\nif (result == 0) {\r\n  wr.println(&quot;Compilation Successful&quot;);\r\n} else {\r\n  wr.println(&quot;Compilation Failed&quot;);\r\n}\r\n```","title":"How can compile I `.java file` in jsp?","body":"<ol>\n<li>Please do not use scriptlets, write Java code that you can call from your jsp.</li>\n<li>Java requires a file name with the name of the class, this was probably your main problem.</li>\n<li>What is the expected format of Java code the user can enter? Method, Class or only a script inside a method?</li>\n<li><strong>With your level of Java knowledge</strong>, please do not allow unknown users to enter code or <strong>your server will get hacked very soon</strong>!</li>\n</ol>\n<p>The following code compiles the code in variable convert. It automatically detects the name of the class entered. If no class has been found, it creates a template with the classname MyClass.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String convert = &quot;public class NewClass {  public static void main(String[] args) {    System.out.println(\\&quot;test\\&quot;);  }}&quot;;\nString filename = &quot;MyClass.java&quot;;\n\nint i = convert.indexOf(&quot; class &quot;);\nif (i == -1) {\n  convert = &quot;public class MyClass { &quot; + convert + &quot; } &quot;;\n} else {\n  int classNameIndex = convert.indexOf(&quot; &quot;, i + 1);\n  int classNameIndexEnd = convert.indexOf(&quot; &quot;, classNameIndex + 1);\n  filename = convert.substring(classNameIndex + 1, classNameIndexEnd) + &quot;.java&quot;;\n}\n\nPrintWriter wr = response.getWriter();\nFile f = new File(filename);\nif (!f.exists()) {\n  f.createNewFile();\n  wr.println(&quot;File is created\\n&quot;);\n}\n\nFileWriter write = new FileWriter(f);\nBufferedWriter bf = new BufferedWriter(write);\nbf.write(convert);\nbf.close();\nwr.println(&quot;File writing done\\n&quot;);\n\nJavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\nint result = compiler.run(null, null, null, filename);\nif (result == 0) {\n  wr.println(&quot;Compilation Successful&quot;);\n} else {\n  wr.println(&quot;Compilation Failed&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4001931,"reputation":404,"user_id":3297753,"display_name":"Najeeb Arif"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1468665140,"creation_date":1461065359,"answer_id":36717087,"question_id":36583278,"body_markdown":"There are several ways of implementing this scenario but we must not include Java code in the JSPs rather use Expression Language (EL) for the same or we can even write custom jsp tags for our custom functionality. This link will explain a lot about this process.\r\n\r\nhttp://www.journaldev.com/2099/jsp-custom-tags-example-tutorial\r\n\r\nEven though if you like going through text books then Head First Servlet and JSP explains this whole concept in detail and elegantly. So for having proper functioning information this book is a must have book.\r\n\r\nHappy Learning..","title":"How can compile I `.java file` in jsp?","body":"<p>There are several ways of implementing this scenario but we must not include Java code in the JSPs rather use Expression Language (EL) for the same or we can even write custom jsp tags for our custom functionality. This link will explain a lot about this process.</p>\n\n<p><a href=\"http://www.journaldev.com/2099/jsp-custom-tags-example-tutorial\" rel=\"nofollow\">http://www.journaldev.com/2099/jsp-custom-tags-example-tutorial</a></p>\n\n<p>Even though if you like going through text books then Head First Servlet and JSP explains this whole concept in detail and elegantly. So for having proper functioning information this book is a must have book.</p>\n\n<p>Happy Learning..</p>\n"}],"owner":{"account_id":6429569,"reputation":385,"user_id":4983331,"accept_rate":87,"display_name":"sony"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1183,"favorite_count":0,"down_vote_count":9,"up_vote_count":5,"answer_count":2,"score":-4,"last_activity_date":1692267560,"creation_date":1460492294,"question_id":36583278,"body_markdown":"Using `java compiler API` I want to compile a `java file` in `jsp`. I created a html file and using its `textArea` element I sent its text, which is expected to be code in java entered by user, to JSP on server and after collecting it in a string I made a file with `.java` extension and wrote it with `textArea` contents then i used compiler API but it is not compiling the file. I want to do something like [this][1]\r\n\r\n`index.html`\r\n\r\n      &lt;form action=&quot;formAction.jsp&quot; method=&quot;post&quot;&gt;\r\n            Please enter your text:\r\n            &lt;br/&gt;\r\n            &lt;textarea name=&quot;textarea1&quot; rows=&quot;5&quot;&gt;&lt;/textarea&gt;\r\n            &lt;br/&gt;\r\n            &lt;input type=&quot;SUBMIT&quot; value=&quot;Submit&quot;/&gt;\r\n        &lt;/form&gt;     \r\n\r\n\r\n \r\n`formAction.jsp`    \r\n\r\n     &lt;%\r\n            \r\n            String convert = request.getParameter(&quot;textarea1&quot;);\r\n            PrintWriter wr = response.getWriter();\r\n            File f =new File(&quot;file121.java&quot;);\r\n            if(!f.exists())\r\n            {\r\n                f.createNewFile();\r\n                wr.println(&quot;File is created\\n&quot;);\r\n                \r\n            }\r\n            FileWriter write = new FileWriter(f);\r\n            BufferedWriter bf = new BufferedWriter(write);\r\n            bf.write(convert);\r\n            bf.close();\r\n            wr.println(&quot;File writing done\\n&quot;);\r\n            \r\n            JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\r\n            int result = compiler.run(null,null,null,&quot;file121.java&quot;);\r\n            if(result==0){\r\n                wr.println(&quot;Compilation Successful&quot;);\r\n            }\r\n            else{\r\n                wr.println(&quot;Compilation Failed&quot;);\r\n            }\r\n            \r\n \r\n            \r\n            \r\n         %&gt;   \r\n\r\n\r\n  [1]: http://www.javatpoint.com/opr/test.jsp?filename=Simple","title":"How can compile I `.java file` in jsp?","body":"<p>Using <code>java compiler API</code> I want to compile a <code>java file</code> in <code>jsp</code>. I created a html file and using its <code>textArea</code> element I sent its text, which is expected to be code in java entered by user, to JSP on server and after collecting it in a string I made a file with <code>.java</code> extension and wrote it with <code>textArea</code> contents then i used compiler API but it is not compiling the file. I want to do something like <a href=\"http://www.javatpoint.com/opr/test.jsp?filename=Simple\" rel=\"nofollow\">this</a></p>\n\n<p><code>index.html</code></p>\n\n<pre><code>  &lt;form action=\"formAction.jsp\" method=\"post\"&gt;\n        Please enter your text:\n        &lt;br/&gt;\n        &lt;textarea name=\"textarea1\" rows=\"5\"&gt;&lt;/textarea&gt;\n        &lt;br/&gt;\n        &lt;input type=\"SUBMIT\" value=\"Submit\"/&gt;\n    &lt;/form&gt;     \n</code></pre>\n\n<p><code>formAction.jsp</code>    </p>\n\n<pre><code> &lt;%\n\n        String convert = request.getParameter(\"textarea1\");\n        PrintWriter wr = response.getWriter();\n        File f =new File(\"file121.java\");\n        if(!f.exists())\n        {\n            f.createNewFile();\n            wr.println(\"File is created\\n\");\n\n        }\n        FileWriter write = new FileWriter(f);\n        BufferedWriter bf = new BufferedWriter(write);\n        bf.write(convert);\n        bf.close();\n        wr.println(\"File writing done\\n\");\n\n        JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\n        int result = compiler.run(null,null,null,\"file121.java\");\n        if(result==0){\n            wr.println(\"Compilation Successful\");\n        }\n        else{\n            wr.println(\"Compilation Failed\");\n        }\n\n\n\n\n     %&gt;   \n</code></pre>\n"},{"tags":["java","aes-gcm"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1692211382,"post_id":76915463,"comment_id":135594231,"body_markdown":"It could be the code, the IV, the key, or the ciphertext. Without complete and precise requirements, or the code that did the encryption, no guidance can be given. However, having an IV represented as a Java `String`, unless that string is a binary-preserving encoding like base64 or hex, is bad design and probably wrong.","body":"It could be the code, the IV, the key, or the ciphertext. Without complete and precise requirements, or the code that did the encryption, no guidance can be given. However, having an IV represented as a Java <code>String</code>, unless that string is a binary-preserving encoding like base64 or hex, is bad design and probably wrong."}],"owner":{"account_id":28825887,"reputation":1,"user_id":22077302,"display_name":"Nani K"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692267538,"creation_date":1692203348,"question_id":76915463,"body_markdown":"We are trying to decrypt the data using AES GCM, But we getting below error\r\n\r\n`byte[] decData = c.doFinal(dataBytes);` --- getting issue in this place\r\n\r\n&gt;  javax.crypto/AEADBadTagException: Tag Mismatch!  at\r\n&gt; com.sun.crypto.provider.galoisCounterMode.decryptFinal(GaloisCounterMode.java:620)\r\n\r\n\r\nIs above issue is due to code or key or IV? Need help to resolve the same.\r\n\r\n\r\nGuide us to resolve the problem\r\n\r\n\r\nBelow is the code, for decryption.\r\n\r\n\r\n    public static String decrypt(String encData, String aesKey, String iv) {\r\n        byte[] dataBytes = Base64.decodeBase64(encData);\r\n        byte[] keyBytes = key.getBytes(&quot;UTF-8&quot;);\r\n        byte[] ivVal = iv.getBytes(&quot;UTF-8&quot;);\r\n        Cipher c = Cipher.getInstances(&quot;AES/GCM/NoPadding&quot;);\r\n        GCMParameterSpec spec = new GCMParameterSpec(128, ivVal);\r\n        c.init(Cipher.DECRYPT_MODE, new SecretKeySpec(keyBytes, AES), spec);\r\n        byte[] decData = c.doFinal(dataBytes);\r\n        return new String(decData, &quot;UTF-8&quot;);\r\n    }\r\n\r\n","title":"Getting javax.crypto/AEADBadTagException: Tag Mismatch! for AES GCM decryption","body":"<p>We are trying to decrypt the data using AES GCM, But we getting below error</p>\n<p><code>byte[] decData = c.doFinal(dataBytes);</code> --- getting issue in this place</p>\n<blockquote>\n<p>javax.crypto/AEADBadTagException: Tag Mismatch!  at\ncom.sun.crypto.provider.galoisCounterMode.decryptFinal(GaloisCounterMode.java:620)</p>\n</blockquote>\n<p>Is above issue is due to code or key or IV? Need help to resolve the same.</p>\n<p>Guide us to resolve the problem</p>\n<p>Below is the code, for decryption.</p>\n<pre><code>public static String decrypt(String encData, String aesKey, String iv) {\n    byte[] dataBytes = Base64.decodeBase64(encData);\n    byte[] keyBytes = key.getBytes(&quot;UTF-8&quot;);\n    byte[] ivVal = iv.getBytes(&quot;UTF-8&quot;);\n    Cipher c = Cipher.getInstances(&quot;AES/GCM/NoPadding&quot;);\n    GCMParameterSpec spec = new GCMParameterSpec(128, ivVal);\n    c.init(Cipher.DECRYPT_MODE, new SecretKeySpec(keyBytes, AES), spec);\n    byte[] decData = c.doFinal(dataBytes);\n    return new String(decData, &quot;UTF-8&quot;);\n}\n</code></pre>\n"},{"tags":["java","spring","subclass","completable-future"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1692254736,"post_id":76919043,"comment_id":135598982,"body_markdown":"So, does `supplyAsync()` return a `CustomCompletableFuture` or a `CompletableFuture`? Do you understand how casting actually works?","body":"So, does <code>supplyAsync()</code> return a <code>CustomCompletableFuture</code> or a <code>CompletableFuture</code>? Do you understand how casting actually works?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1692255687,"post_id":76919043,"comment_id":135599109,"body_markdown":"Couple things: (1) You&#39;re breaking the contract of `get()` by unwrapping the cause of the `ExecutionException`. (2) The `supplyAsync` method is a static method defined by `CompletableFuture`. Just because you did `CustomCompletableFuture.supplyAsync(...)` does not change that. In other words, `supplyAsync` returns a &quot;pure&quot; `CompletableFuture`.","body":"Couple things: (1) You&#39;re breaking the contract of <code>get()</code> by unwrapping the cause of the <code>ExecutionException</code>. (2) The <code>supplyAsync</code> method is a static method defined by <code>CompletableFuture</code>. Just because you did <code>CustomCompletableFuture.supplyAsync(...)</code> does not change that. In other words, <code>supplyAsync</code> returns a &quot;pure&quot; <code>CompletableFuture</code>."},{"owner":{"account_id":16923225,"reputation":39,"user_id":12239510,"display_name":"Andree"},"score":0,"creation_date":1692255745,"post_id":76919043,"comment_id":135599119,"body_markdown":"Ok I get it, so can I make something to return a &quot;pure&quot; CompletableFuture but still use the get I just override? Since we want to use a couple of them wrapping every CompletableFuture in a try catch block can be a little bit clunky","body":"Ok I get it, so can I make something to return a &quot;pure&quot; CompletableFuture but still use the get I just override? Since we want to use a couple of them wrapping every CompletableFuture in a try catch block can be a little bit clunky"}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692267162,"creation_date":1692260300,"answer_id":76919638,"question_id":76919043,"body_markdown":"The [`CompletableFuture#supplyAsync(Supplier)`][1] is a static method. When you do:\r\n\r\n&gt;```java\r\n&gt; CustomCompletableFuture.supplyAsync(...);\r\n&gt;```\r\n\r\nYou&#39;re still calling the method declared in `CompletableFuture`, meaning the method is not returning a `CustomCompletableFuture`. Note static methods cannot be overridden. Though if you were to define a static method with the same signature in the subclass, then it would &quot;hide&quot; the static method in the superclass. That is not likely something you want to do.\r\n\r\nThat said, I recommend you _do not_ subclass `CompletableFuture` this way. By unwrapping the cause of the `ExecutionException` and throwing it directly, you are breaking the contract of [`get`][2]. If you need this exception  handling in multiple places, I suggest creating a utility method.\r\n\r\n```java\r\npublic static &lt;T&gt; T getServiceResult(Future&lt;T&gt; future, Duration timeout) throws TimeoutException {\r\n    TimeUnit unit = TimeUnit.NANOSECONDS;\r\n    try {\r\n        return future.get(unit.convert(timeout), unit);\r\n    } catch (InterruptedException | ExecutionException ex) {\r\n        if (ex instanceof InterruptedException) {        \r\n            Thread.currentThread().interrupt();\r\n        }\r\n\r\n        // &quot;JEP 394: Pattern Matching for instanceof&quot; added in Java 16\r\n        if (ex.getCause() instanceof ServiceSystemException sse) {\r\n            throw sse;\r\n        } else if (ex.getCause() instanceof ServiceBusinessException sbe) {\r\n            throw sbe;\r\n        }\r\n\r\n        throw ExceptionBuilder.buildServiceSystemException(\r\n                EXTERNAL_SERVICE_EXCEPTION,\r\n                ServiceExceptionCodeMap.getErrorDescription(EXTERNAL_SERVICE_EXCEPTION),\r\n                ServiceExceptionCodeMap.getErrorMessageFormat(EXTERNAL_SERVICE_EXCEPTION));\r\n    }\r\n}\r\n```\r\n\r\nThen you can call this like so:\r\n\r\n```java\r\nCompletableFuture&lt;List&lt;Student&gt;&gt; future = getStudentsByProperty(propertyId, propertyCode);\r\n\r\nlong timeoutMillis = futuresExecutorConfigurationProperties.getRatePlanSeasonTimeout();\r\nList&lt;Student&gt; students = getServiceResult(future, Duration.ofMillis(timeoutMillis));\r\n```\r\n\r\nWhere `getStudentsByProperty` returns a standard `CompletableFuture`.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/CompletableFuture.html#supplyAsync(java.util.function.Supplier)\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/CompletableFuture.html#get(long,java.util.concurrent.TimeUnit)","title":"CompletableFuture cannot be cast to CustomCompletableFuture","body":"<p>The <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/CompletableFuture.html#supplyAsync(java.util.function.Supplier)\" rel=\"nofollow noreferrer\"><code>CompletableFuture#supplyAsync(Supplier)</code></a> is a static method. When you do:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>CustomCompletableFuture.supplyAsync(...);\n</code></pre>\n</blockquote>\n<p>You're still calling the method declared in <code>CompletableFuture</code>, meaning the method is not returning a <code>CustomCompletableFuture</code>. Note static methods cannot be overridden. Though if you were to define a static method with the same signature in the subclass, then it would &quot;hide&quot; the static method in the superclass. That is not likely something you want to do.</p>\n<p>That said, I recommend you <em>do not</em> subclass <code>CompletableFuture</code> this way. By unwrapping the cause of the <code>ExecutionException</code> and throwing it directly, you are breaking the contract of <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/CompletableFuture.html#get(long,java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\"><code>get</code></a>. If you need this exception  handling in multiple places, I suggest creating a utility method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; T getServiceResult(Future&lt;T&gt; future, Duration timeout) throws TimeoutException {\n    TimeUnit unit = TimeUnit.NANOSECONDS;\n    try {\n        return future.get(unit.convert(timeout), unit);\n    } catch (InterruptedException | ExecutionException ex) {\n        if (ex instanceof InterruptedException) {        \n            Thread.currentThread().interrupt();\n        }\n\n        // &quot;JEP 394: Pattern Matching for instanceof&quot; added in Java 16\n        if (ex.getCause() instanceof ServiceSystemException sse) {\n            throw sse;\n        } else if (ex.getCause() instanceof ServiceBusinessException sbe) {\n            throw sbe;\n        }\n\n        throw ExceptionBuilder.buildServiceSystemException(\n                EXTERNAL_SERVICE_EXCEPTION,\n                ServiceExceptionCodeMap.getErrorDescription(EXTERNAL_SERVICE_EXCEPTION),\n                ServiceExceptionCodeMap.getErrorMessageFormat(EXTERNAL_SERVICE_EXCEPTION));\n    }\n}\n</code></pre>\n<p>Then you can call this like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;List&lt;Student&gt;&gt; future = getStudentsByProperty(propertyId, propertyCode);\n\nlong timeoutMillis = futuresExecutorConfigurationProperties.getRatePlanSeasonTimeout();\nList&lt;Student&gt; students = getServiceResult(future, Duration.ofMillis(timeoutMillis));\n</code></pre>\n<p>Where <code>getStudentsByProperty</code> returns a standard <code>CompletableFuture</code>.</p>\n"}],"owner":{"account_id":16923225,"reputation":39,"user_id":12239510,"display_name":"Andree"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1692267162,"creation_date":1692254526,"question_id":76919043,"body_markdown":"So I&#39;m trying to create a CustomCompletableFuture and override the get, I don&#39;t have to handle all the exceptions every time I use it, my code looks like this:\r\n\r\nThe custom completable is like this: \r\n\r\n    public class CustomCompletableFuture&lt;T&gt; extends CompletableFuture&lt;T&gt; {\r\n    \r\n        @Override\r\n        public T get(long timeOut, TimeUnit unit) {\r\n            try {\r\n                return super.get();\r\n            } catch (InterruptedException | ExecutionException e) {\r\n                if (e instanceof InterruptedException) {\r\n                    Thread.currentThread().interrupt();\r\n                }\r\n                if (e.getCause() instanceof ServiceSystemException) {\r\n                    throw (ServiceSystemException) e.getCause();\r\n                } else if (e.getCause() instanceof ServiceBusinessException) {\r\n                    throw (ServiceBusinessException) e.getCause();\r\n                }\r\n                throw ExceptionBuilder.buildServiceSystemException(EXTERNAL_SERVICE_EXCEPTION,\r\n                        ServiceExceptionCodeMap.getErrorDescription(EXTERNAL_SERVICE_EXCEPTION),\r\n                        ServiceExceptionCodeMap.getErrorMessageFormat(EXTERNAL_SERVICE_EXCEPTION));\r\n            }\r\n        }\r\n    }\r\nAnd here is the usage:\r\n\r\n    CustomCompletableFuture&lt;List&lt;Student&gt;&gt; future1Student = getStudentsByProperty(propertyId, propertyCode);\r\n    List&lt;Student&gt; students = future1Student.get(futuresExecutorConfigurationProperties.getRatePlanSeasonTimeout(), TimeUnit.MILLISECONDS);\r\n    \r\n    private CustomCompletableFuture&lt;List&lt;Student&gt;&gt; getStudentsByProperty(String propertyId, String propertyCode) {\r\n            Map&lt;String, String&gt; parentMDCContext = MDC.getCopyOfContextMap();\r\n                return (CustomCompletableFuture&lt;List&lt;Student&gt;&gt;) CustomCompletableFuture.supplyAsync(() -&gt; {\r\n                    try {\r\n                        MDC.setContextMap(parentMDCContext);\r\n                        return internalService.internalCall();\r\n                    } finally {\r\n                        MDC.clear();\r\n                    }\r\n                }, getSeasonExecutor);\r\n            }\r\n\r\n","title":"CompletableFuture cannot be cast to CustomCompletableFuture","body":"<p>So I'm trying to create a CustomCompletableFuture and override the get, I don't have to handle all the exceptions every time I use it, my code looks like this:</p>\n<p>The custom completable is like this:</p>\n<pre><code>public class CustomCompletableFuture&lt;T&gt; extends CompletableFuture&lt;T&gt; {\n\n    @Override\n    public T get(long timeOut, TimeUnit unit) {\n        try {\n            return super.get();\n        } catch (InterruptedException | ExecutionException e) {\n            if (e instanceof InterruptedException) {\n                Thread.currentThread().interrupt();\n            }\n            if (e.getCause() instanceof ServiceSystemException) {\n                throw (ServiceSystemException) e.getCause();\n            } else if (e.getCause() instanceof ServiceBusinessException) {\n                throw (ServiceBusinessException) e.getCause();\n            }\n            throw ExceptionBuilder.buildServiceSystemException(EXTERNAL_SERVICE_EXCEPTION,\n                    ServiceExceptionCodeMap.getErrorDescription(EXTERNAL_SERVICE_EXCEPTION),\n                    ServiceExceptionCodeMap.getErrorMessageFormat(EXTERNAL_SERVICE_EXCEPTION));\n        }\n    }\n}\n</code></pre>\n<p>And here is the usage:</p>\n<pre><code>CustomCompletableFuture&lt;List&lt;Student&gt;&gt; future1Student = getStudentsByProperty(propertyId, propertyCode);\nList&lt;Student&gt; students = future1Student.get(futuresExecutorConfigurationProperties.getRatePlanSeasonTimeout(), TimeUnit.MILLISECONDS);\n\nprivate CustomCompletableFuture&lt;List&lt;Student&gt;&gt; getStudentsByProperty(String propertyId, String propertyCode) {\n        Map&lt;String, String&gt; parentMDCContext = MDC.getCopyOfContextMap();\n            return (CustomCompletableFuture&lt;List&lt;Student&gt;&gt;) CustomCompletableFuture.supplyAsync(() -&gt; {\n                try {\n                    MDC.setContextMap(parentMDCContext);\n                    return internalService.internalCall();\n                } finally {\n                    MDC.clear();\n                }\n            }, getSeasonExecutor);\n        }\n</code></pre>\n"},{"tags":["java","spring-boot","ssl","tomcat"],"comments":[{"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"score":1,"creation_date":1641286092,"post_id":70576089,"comment_id":124759421,"body_markdown":"Hello and welcome to StackOverflow. Please take some time to read the help page, especially the sections named [&quot;What topics can I ask about here?&quot;](http://stackoverflow.com/help/on-topic) and [&quot;What types of questions should I avoid asking?&quot;](http://stackoverflow.com/help/dont-ask). And more importantly, please read [the Stack Overflow question checklist](http://meta.stackexchange.com/q/156810/204922). You might also want to learn about [Minimal, Complete, and Verifiable Examples](http://stackoverflow.com/help/mcve).","body":"Hello and welcome to StackOverflow. Please take some time to read the help page, especially the sections named <a href=\"http://stackoverflow.com/help/on-topic\">&quot;What topics can I ask about here?&quot;</a> and <a href=\"http://stackoverflow.com/help/dont-ask\">&quot;What types of questions should I avoid asking?&quot;</a>. And more importantly, please read <a href=\"http://meta.stackexchange.com/q/156810/204922\">the Stack Overflow question checklist</a>. You might also want to learn about <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable Examples</a>."},{"owner":{"account_id":593875,"reputation":20381,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":0,"creation_date":1641328381,"post_id":70576089,"comment_id":124775904,"body_markdown":"Your keystore is either corrupt or uses an algorithm that Java does not support. Please post the steps you used to generate the keystore, your Java version(s), and the output of `keytool -list -v laitadmin.p12`.","body":"Your keystore is either corrupt or uses an algorithm that Java does not support. Please post the steps you used to generate the keystore, your Java version(s), and the output of <code>keytool -list -v laitadmin.p12</code>."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1642965902,"post_id":70576089,"comment_id":125208639,"body_markdown":"Dupe: see multiple links at https://stackoverflow.com/questions/70244066/keytool-error-java-io-ioexception-parsealgparameters-failed-objectidentifier","body":"Dupe: see multiple links at <a href=\"https://stackoverflow.com/questions/70244066/keytool-error-java-io-ioexception-parsealgparameters-failed-objectidentifier\" title=\"keytool error java io ioexception parsealgparameters failed objectidentifier\">stackoverflow.com/questions/70244066/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1642965908,"post_id":70824341,"comment_id":125208645,"body_markdown":"Also fixed in 8u301 (and 7u311 for paid support), see #8214513 (linked from page you link) also #8202837","body":"Also fixed in 8u301 (and 7u311 for paid support), see #8214513 (linked from page you link) also #8202837"}],"tags":[],"owner":{"account_id":20336708,"reputation":112,"user_id":14917215,"display_name":"Vignesh Varadharajan"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1692267004,"creation_date":1642956502,"answer_id":70824341,"question_id":70576089,"body_markdown":"AES encryption in pkcs12 is not supported in java up to java 11. This is a known issue. \r\nReference - https://bugs.openjdk.java.net/browse/JDK-8220734 ","title":"Caused by: java.io.IOException: ObjectIdentifier() -- data isn&#39;t an object ID (tag = 48)","body":"<p>AES encryption in pkcs12 is not supported in java up to java 11. This is a known issue.\nReference - <a href=\"https://bugs.openjdk.java.net/browse/JDK-8220734\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8220734</a></p>\n"},{"tags":[],"owner":{"account_id":5176790,"reputation":118,"user_id":4143637,"display_name":"Karpinski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648146149,"creation_date":1648146149,"answer_id":71607619,"question_id":70576089,"body_markdown":"I had the same problem, I solved it by exporting again by MS Edge, but now using the `TripleDES-SHA1` Cryptography option on Windows export certified wizard.","title":"Caused by: java.io.IOException: ObjectIdentifier() -- data isn&#39;t an object ID (tag = 48)","body":"<p>I had the same problem, I solved it by exporting again by MS Edge, but now using the <code>TripleDES-SHA1</code> Cryptography option on Windows export certified wizard.</p>\n"},{"tags":[],"owner":{"account_id":4820536,"reputation":5096,"user_id":3891342,"accept_rate":71,"display_name":"Daniel Shin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682520288,"creation_date":1682520288,"answer_id":76112126,"question_id":70576089,"body_markdown":"This is due to `openssl3` `PKCS12` using `PBES2 cipher` which is unsupported in java 8 (at least under 8u301).\r\n\r\nSimply install `openssl1.1` and use that instead to generate p12 file.\r\n\r\n\r\nFor example in macos,\r\n- `brew install openssl@1.1`\r\n- `/opt/homebrew/Cellar/openssl@1.1/1.1.1t/bin/openssl pkcs12 -inkey cert.pkey -in cert.pem -export -out cert.p12`","title":"Caused by: java.io.IOException: ObjectIdentifier() -- data isn&#39;t an object ID (tag = 48)","body":"<p>This is due to <code>openssl3</code> <code>PKCS12</code> using <code>PBES2 cipher</code> which is unsupported in java 8 (at least under 8u301).</p>\n<p>Simply install <code>openssl1.1</code> and use that instead to generate p12 file.</p>\n<p>For example in macos,</p>\n<ul>\n<li><code>brew install openssl@1.1</code></li>\n<li><code>/opt/homebrew/Cellar/openssl@1.1/1.1.1t/bin/openssl pkcs12 -inkey cert.pkey -in cert.pem -export -out cert.p12</code></li>\n</ul>\n"}],"owner":{"account_id":23821908,"reputation":31,"user_id":17829477,"display_name":"Houissahedi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12430,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1692267004,"creation_date":1641285676,"question_id":70576089,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n   &#39; server.ssl.key-store = src/main/resources/laitadmin.p12 server.ssl.key-alias= 1 server.ssl.keyStoreType= PKCS12&#39;\r\n\r\n    &#39;\tat sun.security.util.ObjectIdentifier.&lt;init&gt;(ObjectIdentifier.java:257) ~[na:1.8.0_251]&#39;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hOY5z.png","title":"Caused by: java.io.IOException: ObjectIdentifier() -- data isn&#39;t an object ID (tag = 48)","body":"<p><a href=\"https://i.stack.imgur.com/hOY5z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hOY5z.png\" alt=\"enter image description here\" /></a></p>\n<p>' server.ssl.key-store = src/main/resources/laitadmin.p12 server.ssl.key-alias= 1 server.ssl.keyStoreType= PKCS12'</p>\n<pre><code>'   at sun.security.util.ObjectIdentifier.&lt;init&gt;(ObjectIdentifier.java:257) ~[na:1.8.0_251]'\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1692254098,"post_id":76918603,"comment_id":135598873,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":29241435,"reputation":1,"user_id":22402867,"display_name":"Prashant Singh"},"score":0,"creation_date":1692254764,"post_id":76918603,"comment_id":135598989,"body_markdown":"I am trying to get text typed in YouTube search bar using the accessibility service android","body":"I am trying to get text typed in YouTube search bar using the accessibility service android"}],"answers":[{"tags":[],"owner":{"account_id":29212915,"reputation":29,"user_id":22380473,"display_name":"Johannes Schidlowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692266989,"creation_date":1692266989,"answer_id":76920523,"question_id":76918603,"body_markdown":"You can&#39;t intercept the native Youtube App, if you intended to do that. Instead, provide your own search box to your App and make the search request via API. Then you have full control over it.","title":"Capture text from YouTube search box in android","body":"<p>You can't intercept the native Youtube App, if you intended to do that. Instead, provide your own search box to your App and make the search request via API. Then you have full control over it.</p>\n"}],"owner":{"account_id":29241435,"reputation":1,"user_id":22402867,"display_name":"Prashant Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1692266989,"creation_date":1692248714,"question_id":76918603,"body_markdown":"How to capture text from YouTube search bar in android using accessibility service or any other technique so that i can identify what type of keyword is being searched on youtube\r\n\r\nI have tried it doing using accessibility services but not able to do it. Any other method would be appreciated","title":"Capture text from YouTube search box in android","body":"<p>How to capture text from YouTube search bar in android using accessibility service or any other technique so that i can identify what type of keyword is being searched on youtube</p>\n<p>I have tried it doing using accessibility services but not able to do it. Any other method would be appreciated</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":11692660,"reputation":295,"user_id":8560396,"display_name":"Balint"},"score":0,"creation_date":1569872925,"post_id":58173663,"comment_id":102729524,"body_markdown":"Does Maven output any error?","body":"Does Maven output any error?"},{"owner":{"account_id":1016892,"reputation":28609,"user_id":1028270,"accept_rate":90,"display_name":"red888"},"score":0,"creation_date":1569873747,"post_id":58173663,"comment_id":102729879,"body_markdown":"nope it does not","body":"nope it does not"}],"answers":[{"comments":[{"owner":{"account_id":1016892,"reputation":28609,"user_id":1028270,"accept_rate":90,"display_name":"red888"},"score":1,"creation_date":1569879105,"post_id":58175464,"comment_id":102731775,"body_markdown":"hmm guess im confused. what is the diff between copy and copy-dependencies and when would you use one over the other. did a quick test and just switching from copy-dependencies to copy works, but is there any significant differences I should know about? if they are interchangeable then why is there two versions of the same goal?","body":"hmm guess im confused. what is the diff between copy and copy-dependencies and when would you use one over the other. did a quick test and just switching from copy-dependencies to copy works, but is there any significant differences I should know about? if they are interchangeable then why is there two versions of the same goal?"}],"tags":[],"owner":{"account_id":11692660,"reputation":295,"user_id":8560396,"display_name":"Balint"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1569878622,"creation_date":1569878622,"answer_id":58175464,"question_id":58173663,"body_markdown":"Ok I think I may have the answer copy-dependencies seems to not have destFileName \r\n\r\n[copy-dependencies][1]\r\n\r\nbut the goal copy has it \r\n\r\n [copy][2]\r\n\r\nI had a similar problem of your you could try to use the `&lt;stripVersion&gt;` options in the copy-dependencies \r\n\r\nHope it helps\r\n\r\n\r\n  [1]: http://maven.apache.org/plugins/maven-dependency-plugin/copy-dependencies-mojo.html\r\n  [2]: http://maven.apache.org/plugins/maven-dependency-plugin/usage.html","title":"destFileName is ignored by mvn install dependency:copy-dependencies","body":"<p>Ok I think I may have the answer copy-dependencies seems to not have destFileName </p>\n\n<p><a href=\"http://maven.apache.org/plugins/maven-dependency-plugin/copy-dependencies-mojo.html\" rel=\"nofollow noreferrer\">copy-dependencies</a></p>\n\n<p>but the goal copy has it </p>\n\n<p><a href=\"http://maven.apache.org/plugins/maven-dependency-plugin/usage.html\" rel=\"nofollow noreferrer\">copy</a></p>\n\n<p>I had a similar problem of your you could try to use the <code>&lt;stripVersion&gt;</code> options in the copy-dependencies </p>\n\n<p>Hope it helps</p>\n"}],"owner":{"account_id":1016892,"reputation":28609,"user_id":1028270,"accept_rate":90,"display_name":"red888"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":597,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58175464,"answer_count":1,"score":0,"last_activity_date":1692266923,"creation_date":1569869529,"question_id":58173663,"body_markdown":"I&#39;m trying to change the local folder and name of a jar when copying down dependencies with this command `mvn install dependency:copy-dependencies`\r\n\r\ndestFileName seems to be ignored by maven. Although outputDirectory does correctly put it in that directory the jar name is not changed- it is the same name as it is in the repo. I want to completely change the name of the jar when it is copied down\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;!-- required by not used --&gt;\r\n      &lt;groupId&gt;aaaa&lt;/groupId&gt;\r\n      &lt;artifactId&gt;aaaaa&lt;/artifactId&gt;\r\n      &lt;version&gt;5&lt;/version&gt;\r\n    \r\n      &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n          &lt;id&gt;my-repo&lt;/id&gt;\r\n          &lt;name&gt;repo&lt;/name&gt;\r\n          &lt;url&gt;https://my-repo&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n      &lt;/repositories&gt;\r\n    \r\n      &lt;!-- require uber-jar --&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.mycompany.app&lt;/groupId&gt;\r\n          &lt;artifactId&gt;my-app&lt;/artifactId&gt;\r\n          &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n          &lt;classifier&gt;uber-jar&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;phase&gt;process-sources&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;configuration&gt;\r\n              &lt;outputDirectory&gt;Jars&lt;/outputDirectory&gt;\r\n              &lt;artifactItems&gt;\r\n                &lt;artifactItem&gt;\r\n                  &lt;groupId&gt;com.mycompany.app&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;my-app&lt;/artifactId&gt;\r\n                  &lt;classifier&gt;uber-jar&lt;/classifier&gt;\r\n                  &lt;overWrite&gt;true&lt;/overWrite&gt;\r\n    \r\n    \r\n                  &lt;!-- THIS IS IGNORED --&gt;\r\n                  &lt;destFileName&gt;zzzzzz.jar&lt;/destFileName&gt;\r\n    \r\n    \r\n                &lt;/artifactItem&gt;\r\n              &lt;/artifactItems&gt;\r\n              &lt;overWriteReleases&gt;true&lt;/overWriteReleases&gt;\r\n              &lt;overWriteSnapshots&gt;true&lt;/overWriteSnapshots&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n","title":"destFileName is ignored by mvn install dependency:copy-dependencies","body":"<p>I'm trying to change the local folder and name of a jar when copying down dependencies with this command <code>mvn install dependency:copy-dependencies</code></p>\n<p>destFileName seems to be ignored by maven. Although outputDirectory does correctly put it in that directory the jar name is not changed- it is the same name as it is in the repo. I want to completely change the name of the jar when it is copied down</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;!-- required by not used --&gt;\n  &lt;groupId&gt;aaaa&lt;/groupId&gt;\n  &lt;artifactId&gt;aaaaa&lt;/artifactId&gt;\n  &lt;version&gt;5&lt;/version&gt;\n\n  &lt;repositories&gt;\n    &lt;repository&gt;\n      &lt;id&gt;my-repo&lt;/id&gt;\n      &lt;name&gt;repo&lt;/name&gt;\n      &lt;url&gt;https://my-repo&lt;/url&gt;\n    &lt;/repository&gt;\n  &lt;/repositories&gt;\n\n  &lt;!-- require uber-jar --&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.mycompany.app&lt;/groupId&gt;\n      &lt;artifactId&gt;my-app&lt;/artifactId&gt;\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n      &lt;classifier&gt;uber-jar&lt;/classifier&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;process-sources&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n          &lt;outputDirectory&gt;Jars&lt;/outputDirectory&gt;\n          &lt;artifactItems&gt;\n            &lt;artifactItem&gt;\n              &lt;groupId&gt;com.mycompany.app&lt;/groupId&gt;\n              &lt;artifactId&gt;my-app&lt;/artifactId&gt;\n              &lt;classifier&gt;uber-jar&lt;/classifier&gt;\n              &lt;overWrite&gt;true&lt;/overWrite&gt;\n\n\n              &lt;!-- THIS IS IGNORED --&gt;\n              &lt;destFileName&gt;zzzzzz.jar&lt;/destFileName&gt;\n\n\n            &lt;/artifactItem&gt;\n          &lt;/artifactItems&gt;\n          &lt;overWriteReleases&gt;true&lt;/overWriteReleases&gt;\n          &lt;overWriteSnapshots&gt;true&lt;/overWriteSnapshots&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring","templates","jdbc"],"comments":[{"owner":{"account_id":3876320,"reputation":6024,"user_id":3210257,"display_name":"PatJ"},"score":0,"creation_date":1424687510,"post_id":28671579,"comment_id":45636953,"body_markdown":"What error is thrown? What&#39;s the expected behavior? Could you try to show us a minimal example?","body":"What error is thrown? What&#39;s the expected behavior? Could you try to show us a minimal example?"},{"owner":{"account_id":5757491,"reputation":11,"user_id":4544889,"display_name":"Sudhakar J"},"score":0,"creation_date":1424687849,"post_id":28671579,"comment_id":45637129,"body_markdown":"org.springframework.dao.EmptyResultDataAccessException: Incorrect result size: expected 1, actual 0 this following error it&#39;s throwing","body":"org.springframework.dao.EmptyResultDataAccessException: Incorrect result size: expected 1, actual 0 this following error it&#39;s throwing"}],"answers":[{"tags":[],"owner":{"account_id":3767452,"reputation":1444,"user_id":3130593,"display_name":"Shaggy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424715702,"creation_date":1424714750,"answer_id":28680338,"question_id":28671579,"body_markdown":"It looks like it is probably coming from `jdbcTemplate.queryForInt(...);`. An [EmptyResultDataAccessException][1] is thrown when a result was expected to have at least one row (or element) but zero rows (or elements) were actually returned.  Check to make sure the `projId` actually exists in the database.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/2.0.x/api/org/springframework/dao/EmptyResultDataAccessException.html","title":"org.springframework.dao.EmptyResultDataAccessException: Incorrect result size: expected 1, actual 0","body":"<p>It looks like it is probably coming from <code>jdbcTemplate.queryForInt(...);</code>. An <a href=\"http://docs.spring.io/spring/docs/2.0.x/api/org/springframework/dao/EmptyResultDataAccessException.html\" rel=\"nofollow\">EmptyResultDataAccessException</a> is thrown when a result was expected to have at least one row (or element) but zero rows (or elements) were actually returned.  Check to make sure the <code>projId</code> actually exists in the database.</p>\n"}],"owner":{"account_id":5757491,"reputation":11,"user_id":4544889,"display_name":"Sudhakar J"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21675,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1692266580,"creation_date":1424687207,"question_id":28671579,"body_markdown":"i&#39;m this following error when i submit for copying data here is the code..\r\n\r\n\tpublic String deleteExistingRecordWeekWise(String monthOrWeek) throws ApplicationException {\r\n\t\t\r\n\t\ttry {\r\n\t\t\t\r\n\t        setMonthAndArea();\r\n\t        \r\n\t\t\tString[] stringValues = selectedMonthAndYear.split(&quot;-&quot;);\r\n\t\t\tint year=Integer.parseInt(stringValues[0]);\r\n\t\t\tint month=Integer.parseInt(stringValues[1]);\r\n\t\t\t\r\n\t\t\tString timePrd = null;\r\n\t\t\tString wk = null;\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tif(null==timePeriod || timePeriod.isEmpty()){\r\n\t\t\t\ttimePeriod= new ArrayList &lt;String&gt;();\r\n\t\t\t\ttimePeriod.add(&quot;2&quot;);\r\n\t\t\t}\r\n\t\t\tif(null==weekWise || weekWise.isEmpty()){\r\n\t\t\t\tweekWise= new ArrayList &lt;String&gt;();\r\n\t\t\t\tweekWise.add(&quot;1&quot;);\r\n\t\t\t}\r\n\t\t\tif(Integer.parseInt(timePeriod.get(0))==2){\r\n\t\t\t\ttimePrd=&quot;W&quot;;\r\n\t\t\t\tif(null==weekWiseSelection){\r\n\t\t\t\t\tif(Integer.parseInt(weekWise.get(0))==1){\r\n\t\t\t\t\t\twk=&quot;W1&quot;;\r\n\t\t\t\t\t}else if(Integer.parseInt(weekWise.get(0))==2){\r\n\t\t\t\t\t\twk=&quot;W2&quot;;\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\twk=&quot;W3&quot;;\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\twk=weekWiseSelection;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tReportsBO.deleteProjectStatusWeekWise(wk,month,year,selectedArea);\r\n\t\t\t\r\n\t\t} catch (ApplicationException ex) {\r\n\t\t\taddActionError(ex.getMessage());\r\n\t\t\tfetchFields();\r\n\t\t\treturn ERROR;\r\n\t\t}\r\n\r\n\t\tif(null!=weekWiseSelection || !weekWiseSelection.equalsIgnoreCase(&quot;month&quot;)){\r\n\t\t\taddActionMessage(&quot;Existing records are deleted and copied data from previous month.&quot;);\r\n\t\t}else{\r\n\t\t\taddActionMessage(&quot;Existing records are deleted and copied data from previous bi weekly.&quot;);\r\n\t\t}\r\n\t\treturn SUCCESS;\r\n\r\nand DAO class..\r\n\r\npublic void deleteProjectStatusWeekWise(String week,int month,int year,String area) throws ApplicationException {\r\n\t\tint areaId=Integer.parseInt(area);\r\n\t\t\r\n\t\tJdbcTemplate jdbcTemplate = new JdbcTemplate(dataSource);\r\n\t\t\r\n\t\ttry {\r\n\t\t\tint projId = jdbcTemplate.queryForInt(ProjectStatus.FETCH_PROJECT_STATUS_WEEKWISE,new Object[] {week,month,year,areaId});\r\n\t\t\tjdbcTemplate.update(ProjectStatus.DELETE_PROJECT_DET_STATUS_MONTH,new Object[] {projId});\r\n\t\t\tjdbcTemplate.update(ProjectStatus.DELETE_PROJECT_STATUS_WEEKWISE,new Object[] {week,month,year,areaId});\r\n\t\t} catch (Exception e) {\r\n\t\t\tLOG.error(&quot;Exception occurred in dashboard.performance.gmu.dao.ProjectStatusDAO.fetchProjectStatusTypeList(int)&quot;,e);\r\n\t\t\tthrow new ApplicationException(&quot;Failed to fetch project type list. Please contact System Administrator.&quot;);\r\n\t\t}\r\n\t\t\r\n}\r\n\r\nthis error is coming can anyone help on this to resolve the issue.\r\n\r\n\r\n\t}","title":"org.springframework.dao.EmptyResultDataAccessException: Incorrect result size: expected 1, actual 0","body":"<p>i'm this following error when i submit for copying data here is the code..</p>\n\n<pre><code>public String deleteExistingRecordWeekWise(String monthOrWeek) throws ApplicationException {\n\n    try {\n\n        setMonthAndArea();\n\n        String[] stringValues = selectedMonthAndYear.split(\"-\");\n        int year=Integer.parseInt(stringValues[0]);\n        int month=Integer.parseInt(stringValues[1]);\n\n        String timePrd = null;\n        String wk = null;\n\n\n        if(null==timePeriod || timePeriod.isEmpty()){\n            timePeriod= new ArrayList &lt;String&gt;();\n            timePeriod.add(\"2\");\n        }\n        if(null==weekWise || weekWise.isEmpty()){\n            weekWise= new ArrayList &lt;String&gt;();\n            weekWise.add(\"1\");\n        }\n        if(Integer.parseInt(timePeriod.get(0))==2){\n            timePrd=\"W\";\n            if(null==weekWiseSelection){\n                if(Integer.parseInt(weekWise.get(0))==1){\n                    wk=\"W1\";\n                }else if(Integer.parseInt(weekWise.get(0))==2){\n                    wk=\"W2\";\n                }else {\n                    wk=\"W3\";\n                }\n            }else{\n                wk=weekWiseSelection;\n            }\n        }\n\n        ReportsBO.deleteProjectStatusWeekWise(wk,month,year,selectedArea);\n\n    } catch (ApplicationException ex) {\n        addActionError(ex.getMessage());\n        fetchFields();\n        return ERROR;\n    }\n\n    if(null!=weekWiseSelection || !weekWiseSelection.equalsIgnoreCase(\"month\")){\n        addActionMessage(\"Existing records are deleted and copied data from previous month.\");\n    }else{\n        addActionMessage(\"Existing records are deleted and copied data from previous bi weekly.\");\n    }\n    return SUCCESS;\n</code></pre>\n\n<p>and DAO class..</p>\n\n<p>public void deleteProjectStatusWeekWise(String week,int month,int year,String area) throws ApplicationException {\n        int areaId=Integer.parseInt(area);</p>\n\n<pre><code>    JdbcTemplate jdbcTemplate = new JdbcTemplate(dataSource);\n\n    try {\n        int projId = jdbcTemplate.queryForInt(ProjectStatus.FETCH_PROJECT_STATUS_WEEKWISE,new Object[] {week,month,year,areaId});\n        jdbcTemplate.update(ProjectStatus.DELETE_PROJECT_DET_STATUS_MONTH,new Object[] {projId});\n        jdbcTemplate.update(ProjectStatus.DELETE_PROJECT_STATUS_WEEKWISE,new Object[] {week,month,year,areaId});\n    } catch (Exception e) {\n        LOG.error(\"Exception occurred in dashboard.performance.gmu.dao.ProjectStatusDAO.fetchProjectStatusTypeList(int)\",e);\n        throw new ApplicationException(\"Failed to fetch project type list. Please contact System Administrator.\");\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>this error is coming can anyone help on this to resolve the issue.</p>\n\n<pre><code>}\n</code></pre>\n"},{"tags":["java","spring-boot","caching","redis"],"owner":{"account_id":29152385,"reputation":1,"user_id":22332942,"display_name":"shocooo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692266554,"creation_date":1691067678,"question_id":76828355,"body_markdown":"I have implemented Redis to my project. It seems to work as when I use Postman to\r\nGET some information from http client. For the first query it needs ~150 ms and for the further ones\r\njust ~5-7 ms. Now, the problem is that when check Redis Commander, it doesnt show anything there. Like nothing has been created.\r\n\r\n\r\nI set time to live for 60 minutes but still Redis Commander doesnt show me cache.\r\n\r\nEDIT: problem solved. needed to changed version of Redis in pom.xml\r\n\r\n```\r\nspring:\r\n  cache:\r\n    type: redis\r\n    redis:\r\n      time-to-live: PT60M\r\n```","title":"Redis Commander does not show cached data","body":"<p>I have implemented Redis to my project. It seems to work as when I use Postman to\nGET some information from http client. For the first query it needs ~150 ms and for the further ones\njust ~5-7 ms. Now, the problem is that when check Redis Commander, it doesnt show anything there. Like nothing has been created.</p>\n<p>I set time to live for 60 minutes but still Redis Commander doesnt show me cache.</p>\n<p>EDIT: problem solved. needed to changed version of Redis in pom.xml</p>\n<pre><code>spring:\n  cache:\n    type: redis\n    redis:\n      time-to-live: PT60M\n</code></pre>\n"},{"tags":["java","arrays","binary-search"],"answers":[{"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1426125169,"post_id":29000508,"comment_id":46248974,"body_markdown":"It&#39;s more efficient for copying things, yes, but not for the specific use case the OP mentioned, which need not involve any copying.","body":"It&#39;s more efficient for copying things, yes, but not for the specific use case the OP mentioned, which need not involve any copying."}],"tags":[],"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1692266440,"creation_date":1426124148,"answer_id":29000508,"question_id":29000356,"body_markdown":"[`Arrays.copyRangeOf()`][1] uses [`System.arraycopy()`][2] which uses native code (could use [memcpy][3] for example - depending on JIT implementation) under the hood. \r\n\r\nThe &quot;magic&quot; behind copying with `System.arraycopy()` is making one call to copy a block of memory instead of making `n` distinct calls. \r\n\r\nThat means using `Arrays.copyOfRange()` will be more efficient than any other solution you&#39;ll choose to implement by yourself.\r\n\r\nFurther, I don&#39;t see how a binary search could help here: an array has direct access - and here we know precisely the src, dst and how many items should we copy.\r\n\r\nFrom the big-O perspective, the complexity will be `O(n*k)` where `n` is the number of items to copy and `k` is the size (in bits) of each item. Space complexity is the same.\r\n\r\n\r\n\r\n  [1]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/Arrays.java#Arrays.copyOfRange%28long%5B%5D%2Cint%2Cint%29\r\n  [2]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/System.java#System.arraycopy%28java.lang.Object%2Cint%2Cjava.lang.Object%2Cint%2Cint%29\r\n  [3]: http://en.cppreference.com/w/cpp/string/byte/memcpy","title":"Runtime of Arrays.copyOfRange()","body":"<p><a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/Arrays.java#Arrays.copyOfRange%28long%5B%5D%2Cint%2Cint%29\" rel=\"nofollow noreferrer\"><code>Arrays.copyRangeOf()</code></a> uses <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/System.java#System.arraycopy%28java.lang.Object%2Cint%2Cjava.lang.Object%2Cint%2Cint%29\" rel=\"nofollow noreferrer\"><code>System.arraycopy()</code></a> which uses native code (could use <a href=\"http://en.cppreference.com/w/cpp/string/byte/memcpy\" rel=\"nofollow noreferrer\">memcpy</a> for example - depending on JIT implementation) under the hood.</p>\n<p>The &quot;magic&quot; behind copying with <code>System.arraycopy()</code> is making one call to copy a block of memory instead of making <code>n</code> distinct calls.</p>\n<p>That means using <code>Arrays.copyOfRange()</code> will be more efficient than any other solution you'll choose to implement by yourself.</p>\n<p>Further, I don't see how a binary search could help here: an array has direct access - and here we know precisely the src, dst and how many items should we copy.</p>\n<p>From the big-O perspective, the complexity will be <code>O(n*k)</code> where <code>n</code> is the number of items to copy and <code>k</code> is the size (in bits) of each item. Space complexity is the same.</p>\n"},{"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1426125150,"creation_date":1426125150,"answer_id":29000624,"question_id":29000356,"body_markdown":"`Arrays.copyOfRange` takes linear time -- with a low constant factor, but still linear time.  Manipulating the start and end indices will inevitably be asymptotically faster, O(log n) instead of O(n).","title":"Runtime of Arrays.copyOfRange()","body":"<p><code>Arrays.copyOfRange</code> takes linear time -- with a low constant factor, but still linear time.  Manipulating the start and end indices will inevitably be asymptotically faster, O(log n) instead of O(n).</p>\n"}],"owner":{"account_id":3120041,"reputation":569,"user_id":2640004,"accept_rate":62,"display_name":"AtomicStrongForce"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4083,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":29000508,"answer_count":2,"score":6,"last_activity_date":1692266440,"creation_date":1426122978,"question_id":29000356,"body_markdown":"What is the big-O runtime of Java&#39;s Arrays.copyOfRange(array, startIndex, endIndex) function? \r\n\r\nFor example, would it be equivalent or less efficient in terms of both space and time complexity to write a simple binary search on arrays function using copyOfRange rather than passing in the start and end indices?","title":"Runtime of Arrays.copyOfRange()","body":"<p>What is the big-O runtime of Java's Arrays.copyOfRange(array, startIndex, endIndex) function? </p>\n\n<p>For example, would it be equivalent or less efficient in terms of both space and time complexity to write a simple binary search on arrays function using copyOfRange rather than passing in the start and end indices?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":6849189,"reputation":61,"user_id":5266854,"display_name":"anjanagnet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692266331,"creation_date":1692266331,"answer_id":76920443,"question_id":74187035,"body_markdown":"instead of ```return http.build()``` try,\r\n```return http.getOrBuild();```","title":"Error creating bean with name &#39;filterChain&#39; org.springframework.security.config.annotation.AlreadyBuiltException: This object has already been built","body":"<p>instead of <code>return http.build()</code> try,\n<code>return http.getOrBuild();</code></p>\n"}],"owner":{"account_id":26721468,"reputation":21,"user_id":20325218,"display_name":"Marcelo Filho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1692266331,"creation_date":1666647222,"question_id":74187035,"body_markdown":"As part of Spring Security, recently I upgraded my project from **WebSecurityConfigurerAdapter** to **SecurityFilterChain as a Bean**. I&#39;m trying to use as much available resources as I can from the documentation, but I dont know what I&#39;m doing wrong. It says **This object has already been built**, but I don&#39;t know how to fix it.\r\n\r\n**Configuration class:**\r\n\r\n    package com.github.marceloasfilho.wallet.configuration;\r\n    \r\n    import com.github.marceloasfilho.wallet.filter.JwtAuthenticationFilter;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.http.HttpMethod;\r\n    import org.springframework.security.authentication.AuthenticationManager;\r\n    import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.http.SessionCreationPolicy;\r\n    import org.springframework.security.core.userdetails.User;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.provisioning.InMemoryUserDetailsManager;\r\n    import org.springframework.security.web.SecurityFilterChain;\r\n    \r\n    import static org.springframework.security.config.Customizer.withDefaults;\r\n    \r\n    @Configuration\r\n    @RequiredArgsConstructor\r\n    public class SecurityConfiguration {\r\n    \r\n        @Bean\r\n        public BCryptPasswordEncoder bCryptPasswordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Bean\r\n        public UserDetailsService userDetailsService() {\r\n    \r\n            InMemoryUserDetailsManager manager = new InMemoryUserDetailsManager();\r\n    \r\n            manager.createUser(User.withUsername(&quot;Marcelo&quot;)\r\n                    .passwordEncoder(bCryptPasswordEncoder()::encode)\r\n                    .password(&quot;password&quot;)\r\n                    .roles(&quot;USER&quot;)\r\n                    .build());\r\n    \r\n            manager.createUser(User.withUsername(&quot;john&quot;)\r\n                    .passwordEncoder(bCryptPasswordEncoder()::encode)\r\n                    .password(&quot;1234&quot;)\r\n                    .roles(&quot;USER&quot;, &quot;MANAGER&quot;)\r\n                    .build());\r\n    \r\n            manager.createUser(User.withUsername(&quot;will&quot;)\r\n                    .passwordEncoder(bCryptPasswordEncoder()::encode)\r\n                    .password(&quot;1234&quot;)\r\n                    .roles(&quot;ADMIN&quot;)\r\n                    .build());\r\n    \r\n            manager.createUser(User.withUsername(&quot;jim&quot;)\r\n                    .passwordEncoder(bCryptPasswordEncoder()::encode)\r\n                    .password(&quot;1234&quot;)\r\n                    .roles(&quot;ADMIN&quot;)\r\n                    .build());\r\n    \r\n            manager.createUser(User.withUsername(&quot;arnold&quot;)\r\n                    .passwordEncoder(bCryptPasswordEncoder()::encode)\r\n                    .password(&quot;1234&quot;)\r\n                    .roles(&quot;SUPER_ADMIN&quot;)\r\n                    .build());\r\n    \r\n            return manager;\r\n        }\r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    \r\n            http.csrf().disable()\r\n                    .authorizeHttpRequests()\r\n    \r\n                    .antMatchers(HttpMethod.POST)\r\n                    .hasAnyRole(&quot;ADMIN&quot;, &quot;SUPER_ADMIN&quot;)\r\n    \r\n                    .antMatchers(HttpMethod.GET)\r\n                    .hasAnyRole(&quot;USER&quot;, &quot;MANAGER&quot;)\r\n    \r\n                    .and()\r\n                    .httpBasic(withDefaults())\r\n                    .sessionManagement()\r\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n    \r\n            http.addFilter(new JwtAuthenticationFilter(authenticationManager(http.getSharedObject(AuthenticationManagerBuilder.class))));\r\n    \r\n            return http.build();\r\n        }\r\n    \r\n        @Bean\r\n        public AuthenticationManager authenticationManager(AuthenticationManagerBuilder auth) throws Exception {\r\n            return auth\r\n                    .userDetailsService(userDetailsService())\r\n                    .passwordEncoder(bCryptPasswordEncoder())\r\n                    .and()\r\n                    .build();\r\n        }\r\n    }\r\n\r\n**Stack Trace:**\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;filterChain&#39; defined in class path resource [com/github/marceloasfilho/wallet/configuration/SecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;filterChain&#39; threw exception; nested exception is org.springframework.security.config.annotation.AlreadyBuiltException: This object has already been built\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat com.github.marceloasfilho.wallet.WalletApplication.main(WalletApplication.java:16) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.4.jar:2.7.4]\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;filterChain&#39; threw exception; nested exception is org.springframework.security.config.annotation.AlreadyBuiltException: This object has already been built\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \t... 22 common frames omitted\r\n    Caused by: org.springframework.security.config.annotation.AlreadyBuiltException: This object has already been built\r\n    \tat org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:41) ~[spring-security-config-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.config.annotation.web.builders.HttpSecurity.beforeConfigure(HttpSecurity.java:3209) ~[spring-security-config-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:302) ~[spring-security-config-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:38) ~[spring-security-config-5.7.3.jar:5.7.3]\r\n    \tat com.github.marceloasfilho.wallet.configuration.SecurityConfiguration.filterChain(SecurityConfiguration.java:81) ~[classes/:na]\r\n    \tat com.github.marceloasfilho.wallet.configuration.SecurityConfiguration$$EnhancerBySpringCGLIB$$c2383da.CGLIB$filterChain$2(&lt;generated&gt;) ~[classes/:na]\r\n    \tat com.github.marceloasfilho.wallet.configuration.SecurityConfiguration$$EnhancerBySpringCGLIB$$c2383da$$FastClassBySpringCGLIB$$b6e723e1.invoke(&lt;generated&gt;) ~[classes/:na]\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat com.github.marceloasfilho.wallet.configuration.SecurityConfiguration$$EnhancerBySpringCGLIB$$c2383da.filterChain(&lt;generated&gt;) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \t... 23 common frames omitted\r\n    \r\n    \r\n    Process finished with exit code 0\r\n","title":"Error creating bean with name &#39;filterChain&#39; org.springframework.security.config.annotation.AlreadyBuiltException: This object has already been built","body":"<p>As part of Spring Security, recently I upgraded my project from <strong>WebSecurityConfigurerAdapter</strong> to <strong>SecurityFilterChain as a Bean</strong>. I'm trying to use as much available resources as I can from the documentation, but I dont know what I'm doing wrong. It says <strong>This object has already been built</strong>, but I don't know how to fix it.</p>\n<p><strong>Configuration class:</strong></p>\n<pre><code>package com.github.marceloasfilho.wallet.configuration;\n\nimport com.github.marceloasfilho.wallet.filter.JwtAuthenticationFilter;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\nimport org.springframework.security.web.SecurityFilterChain;\n\nimport static org.springframework.security.config.Customizer.withDefaults;\n\n@Configuration\n@RequiredArgsConstructor\npublic class SecurityConfiguration {\n\n    @Bean\n    public BCryptPasswordEncoder bCryptPasswordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n\n        InMemoryUserDetailsManager manager = new InMemoryUserDetailsManager();\n\n        manager.createUser(User.withUsername(&quot;Marcelo&quot;)\n                .passwordEncoder(bCryptPasswordEncoder()::encode)\n                .password(&quot;password&quot;)\n                .roles(&quot;USER&quot;)\n                .build());\n\n        manager.createUser(User.withUsername(&quot;john&quot;)\n                .passwordEncoder(bCryptPasswordEncoder()::encode)\n                .password(&quot;1234&quot;)\n                .roles(&quot;USER&quot;, &quot;MANAGER&quot;)\n                .build());\n\n        manager.createUser(User.withUsername(&quot;will&quot;)\n                .passwordEncoder(bCryptPasswordEncoder()::encode)\n                .password(&quot;1234&quot;)\n                .roles(&quot;ADMIN&quot;)\n                .build());\n\n        manager.createUser(User.withUsername(&quot;jim&quot;)\n                .passwordEncoder(bCryptPasswordEncoder()::encode)\n                .password(&quot;1234&quot;)\n                .roles(&quot;ADMIN&quot;)\n                .build());\n\n        manager.createUser(User.withUsername(&quot;arnold&quot;)\n                .passwordEncoder(bCryptPasswordEncoder()::encode)\n                .password(&quot;1234&quot;)\n                .roles(&quot;SUPER_ADMIN&quot;)\n                .build());\n\n        return manager;\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n\n        http.csrf().disable()\n                .authorizeHttpRequests()\n\n                .antMatchers(HttpMethod.POST)\n                .hasAnyRole(&quot;ADMIN&quot;, &quot;SUPER_ADMIN&quot;)\n\n                .antMatchers(HttpMethod.GET)\n                .hasAnyRole(&quot;USER&quot;, &quot;MANAGER&quot;)\n\n                .and()\n                .httpBasic(withDefaults())\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n        http.addFilter(new JwtAuthenticationFilter(authenticationManager(http.getSharedObject(AuthenticationManagerBuilder.class))));\n\n        return http.build();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationManagerBuilder auth) throws Exception {\n        return auth\n                .userDetailsService(userDetailsService())\n                .passwordEncoder(bCryptPasswordEncoder())\n                .and()\n                .build();\n    }\n}\n</code></pre>\n<p><strong>Stack Trace:</strong></p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filterChain' defined in class path resource [com/github/marceloasfilho/wallet/configuration/SecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception; nested exception is org.springframework.security.config.annotation.AlreadyBuiltException: This object has already been built\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.4.jar:2.7.4]\n    at com.github.marceloasfilho.wallet.WalletApplication.main(WalletApplication.java:16) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.4.jar:2.7.4]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception; nested exception is org.springframework.security.config.annotation.AlreadyBuiltException: This object has already been built\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.23.jar:5.3.23]\n    ... 22 common frames omitted\nCaused by: org.springframework.security.config.annotation.AlreadyBuiltException: This object has already been built\n    at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:41) ~[spring-security-config-5.7.3.jar:5.7.3]\n    at org.springframework.security.config.annotation.web.builders.HttpSecurity.beforeConfigure(HttpSecurity.java:3209) ~[spring-security-config-5.7.3.jar:5.7.3]\n    at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:302) ~[spring-security-config-5.7.3.jar:5.7.3]\n    at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:38) ~[spring-security-config-5.7.3.jar:5.7.3]\n    at com.github.marceloasfilho.wallet.configuration.SecurityConfiguration.filterChain(SecurityConfiguration.java:81) ~[classes/:na]\n    at com.github.marceloasfilho.wallet.configuration.SecurityConfiguration$$EnhancerBySpringCGLIB$$c2383da.CGLIB$filterChain$2(&lt;generated&gt;) ~[classes/:na]\n    at com.github.marceloasfilho.wallet.configuration.SecurityConfiguration$$EnhancerBySpringCGLIB$$c2383da$$FastClassBySpringCGLIB$$b6e723e1.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.23.jar:5.3.23]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.23.jar:5.3.23]\n    at com.github.marceloasfilho.wallet.configuration.SecurityConfiguration$$EnhancerBySpringCGLIB$$c2383da.filterChain(&lt;generated&gt;) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.23.jar:5.3.23]\n    ... 23 common frames omitted\n\n\nProcess finished with exit code 0\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":21250348,"reputation":122,"user_id":15632630,"display_name":"Michu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692266183,"creation_date":1692266183,"question_id":76920420,"body_markdown":"I&#39;m trying to instal an apk from a java launcher (the apk is in download folder) but the logs return me: `java.lang.IllegalArgumentException: Failed to find configured root that contains /storage/emulated/0/Download/apk_to_install.apk`  \r\n\r\nThis is my current code:\r\n\r\nAndroidManifest.xml\r\n\r\n    &lt;provider\r\n       android:name=&quot;androidx.core.content.FileProvider&quot;\r\n       android:authorities=&quot;com.x.y.provider&quot;\r\n       android:exported=&quot;false&quot;\r\n       android:grantUriPermissions=&quot;true&quot;&gt;\r\n       &lt;meta-data\r\n         android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n         android:resource=&quot;@xml/file_paths&quot;/&gt;\r\n     &lt;/provider&gt;\r\n\r\n\r\nfile_paths.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;paths&gt;\r\n        &lt;files-path name=&quot;download&quot; path=&quot;Download/&quot;/&gt;\r\n    &lt;/paths&gt;\r\n\r\nActivity code: \r\n\r\n \r\n\r\n  \r\n\r\n      File apkFile = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).getAbsolutePath(), &quot;apk_to_install.apk&quot;);\r\n     installApk(this, apkFile);\r\n\r\n\r\n\r\n      public static void installApk(Context context, File apkFile) {\r\n    \r\n            if (apkFile.exists()) {\r\n                Uri apkUri = FileProvider.getUriForFile(context, &quot;com.x.y.provider&quot;, apkFile);\r\n    \r\n                Intent intent = new Intent(Intent.ACTION_VIEW);\r\n                intent.setDataAndType(apkUri, &quot;application/vnd.android.package-archive&quot;);\r\n                intent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n                context.startActivity(intent);\r\n            }\r\n        }\r\n\r\n","title":"Install apk from launcher error - Android 11","body":"<p>I'm trying to instal an apk from a java launcher (the apk is in download folder) but the logs return me: <code>java.lang.IllegalArgumentException: Failed to find configured root that contains /storage/emulated/0/Download/apk_to_install.apk</code></p>\n<p>This is my current code:</p>\n<p>AndroidManifest.xml</p>\n<pre><code>&lt;provider\n   android:name=&quot;androidx.core.content.FileProvider&quot;\n   android:authorities=&quot;com.x.y.provider&quot;\n   android:exported=&quot;false&quot;\n   android:grantUriPermissions=&quot;true&quot;&gt;\n   &lt;meta-data\n     android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n     android:resource=&quot;@xml/file_paths&quot;/&gt;\n &lt;/provider&gt;\n</code></pre>\n<p>file_paths.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;paths&gt;\n    &lt;files-path name=&quot;download&quot; path=&quot;Download/&quot;/&gt;\n&lt;/paths&gt;\n</code></pre>\n<p>Activity code:</p>\n<pre><code>  File apkFile = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).getAbsolutePath(), &quot;apk_to_install.apk&quot;);\n installApk(this, apkFile);\n\n\n\n  public static void installApk(Context context, File apkFile) {\n\n        if (apkFile.exists()) {\n            Uri apkUri = FileProvider.getUriForFile(context, &quot;com.x.y.provider&quot;, apkFile);\n\n            Intent intent = new Intent(Intent.ACTION_VIEW);\n            intent.setDataAndType(apkUri, &quot;application/vnd.android.package-archive&quot;);\n            intent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n            context.startActivity(intent);\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":13047412,"reputation":2792,"user_id":9428851,"display_name":"Victor Gubin"},"score":0,"creation_date":1692203467,"post_id":76915448,"comment_id":135592799,"body_markdown":"Simply exclude your @Configuration from scanning e.g. exclude from `ComponentScan(basePackages = &quot;org.example&quot;)`  and then use [Spring beans factory method](https://www.baeldung.com/spring-beans-factory-methods) with XML","body":"Simply exclude your @Configuration from scanning e.g. exclude from <code>ComponentScan(basePackages = &quot;org.example&quot;)</code>  and then use <a href=\"https://www.baeldung.com/spring-beans-factory-methods\" rel=\"nofollow noreferrer\">Spring beans factory method</a> with XML"}],"answers":[{"tags":[],"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692265665,"creation_date":1692203778,"answer_id":76915510,"question_id":76915448,"body_markdown":"The &quot;beans&quot; are supposed to have either a constructor or `setXxx()` methods. That&#39;s how you usually set all the values.\r\n\r\nYour code uses a builder, which doesn&#39;t match any of these patterns (which is weird for Service, whose params should usually be passed into constructor). For such custom code you&#39;d need to implement a `FactoryBean`:\r\n\r\n    class XYZServiceClientBean implements FactoryBean&lt;XYZServiceClient&gt; {\r\n        public XYZServiceClient getObject() throws Exception {\r\n            return new XYZServiceClientBuilder().withparamA(paramA)\r\n                    .withparamB(ParamB)\r\n                    .build();\r\n        }\r\n        public Class&lt;?&gt; getObjectType() {\r\n            return XYZServiceClient.class;\r\n        }\r\n        public boolean isSingleton() {\r\n            return true;\r\n        }\r\n    }\r\n\r\nAnd describe _this_ as a bean in XML. The `FactoryBean` can then accept all the arguments in its own constructor:\r\n\r\n    &lt;bean class=&quot;some.package.XYZServiceClientBean&quot;&gt;\r\n        &lt;constructor-arg ... /&gt;\r\n    &lt;/bean&gt;\r\n\r\nAnd then pass them to the actual `XYZServiceClient` in `getObject()`.\r\n\r\nBut really if you have control over your code you should use the constructor. You can use it with `autowire=&quot;byType&quot;` if there are too many params and you don&#39;t want to explicitly list them. This is also the shortest way to explicitly declare a bean in Spring.","title":"How to create spring bean in xml for java annotated code","body":"<p>The &quot;beans&quot; are supposed to have either a constructor or <code>setXxx()</code> methods. That's how you usually set all the values.</p>\n<p>Your code uses a builder, which doesn't match any of these patterns (which is weird for Service, whose params should usually be passed into constructor). For such custom code you'd need to implement a <code>FactoryBean</code>:</p>\n<pre><code>class XYZServiceClientBean implements FactoryBean&lt;XYZServiceClient&gt; {\n    public XYZServiceClient getObject() throws Exception {\n        return new XYZServiceClientBuilder().withparamA(paramA)\n                .withparamB(ParamB)\n                .build();\n    }\n    public Class&lt;?&gt; getObjectType() {\n        return XYZServiceClient.class;\n    }\n    public boolean isSingleton() {\n        return true;\n    }\n}\n</code></pre>\n<p>And describe <em>this</em> as a bean in XML. The <code>FactoryBean</code> can then accept all the arguments in its own constructor:</p>\n<pre><code>&lt;bean class=&quot;some.package.XYZServiceClientBean&quot;&gt;\n    &lt;constructor-arg ... /&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>And then pass them to the actual <code>XYZServiceClient</code> in <code>getObject()</code>.</p>\n<p>But really if you have control over your code you should use the constructor. You can use it with <code>autowire=&quot;byType&quot;</code> if there are too many params and you don't want to explicitly list them. This is also the shortest way to explicitly declare a bean in Spring.</p>\n"}],"owner":{"account_id":17237779,"reputation":31,"user_id":12480861,"display_name":"Pratiksha Bhere"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692265665,"creation_date":1692203196,"question_id":76915448,"body_markdown":"How to create spring bean in xml for below code?\r\n\r\n```\r\n@Bean\r\npublic XYZServiceClient getXYZServiceClient() {\r\n  return new XYZServiceClientBuilder().withparamA(paramA)\r\n            .withparamB(ParamB)\r\n            .build();\r\n}\r\n```","title":"How to create spring bean in xml for java annotated code","body":"<p>How to create spring bean in xml for below code?</p>\n<pre><code>@Bean\npublic XYZServiceClient getXYZServiceClient() {\n  return new XYZServiceClientBuilder().withparamA(paramA)\n            .withparamB(ParamB)\n            .build();\n}\n</code></pre>\n"},{"tags":["java","junit","openapi-generator"],"comments":[{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1692269283,"post_id":76920305,"comment_id":135601657,"body_markdown":"This question is much better that I originally thought :) To be honest, I just suspect that you didn&#39;t read the documentation properly, and I was curious to verify it. It seems like there is absolutely no mention of the JUnit jupiter version 5 support for the &quot;java&quot; generator, which is a shame. It seems like it is not supported at all :( but I have not found a clear proof of it so I put this as a comment only.","body":"This question is much better that I originally thought :) To be honest, I just suspect that you didn&#39;t read the documentation properly, and I was curious to verify it. It seems like there is absolutely no mention of the JUnit jupiter version 5 support for the &quot;java&quot; generator, which is a shame. It seems like it is not supported at all :( but I have not found a clear proof of it so I put this as a comment only."},{"owner":{"account_id":5493520,"reputation":9833,"user_id":4365460,"accept_rate":90,"display_name":"Roland Weisleder"},"score":0,"creation_date":1692270725,"post_id":76920305,"comment_id":135601918,"body_markdown":"I would also say that this is currently not supported. So feel free to raise a feature request on their GitHub repository.","body":"I would also say that this is currently not supported. So feel free to raise a feature request on their GitHub repository."},{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":1,"creation_date":1692343282,"post_id":76920305,"comment_id":135612666,"body_markdown":"Thanks and I did the GitHub feature request: https://github.com/OpenAPITools/openapi-generator/issues/16352","body":"Thanks and I did the GitHub feature request: <a href=\"https://github.com/OpenAPITools/openapi-generator/issues/16352\" rel=\"nofollow noreferrer\">github.com/OpenAPITools/openapi-generator/issues/16352</a>"}],"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1692265349,"creation_date":1692265349,"question_id":76920305,"body_markdown":"When using the [openapi-generator][1] to generate [Java client code][2] via the [Maven Plugin][3] then there are *JUnit* tests generated as well. This makes sense, in particular for keeping the coverage restriction (code must be covered by tests for x percent) in your project.\r\n\r\nThe issue is that theses generated JUnit tests are designed by default to utilize *JUnit 4* but we are using *JUnit 5*. \r\n\r\n```\r\nimport org.junit.Test;\r\n```\r\n\r\nHow can we configure the [Java Generator][2] in such a way that the generated tests using *JUnit 5* instead?\r\n\r\n\r\n  [1]: https://openapi-generator.tech/\r\n  [2]: https://openapi-generator.tech/docs/generators/java\r\n  [3]: https://github.com/OpenAPITools/openapi-generator/tree/master/modules/openapi-generator-maven-plugin","title":"Generated test classes use JUnit 4","body":"<p>When using the <a href=\"https://openapi-generator.tech/\" rel=\"nofollow noreferrer\">openapi-generator</a> to generate <a href=\"https://openapi-generator.tech/docs/generators/java\" rel=\"nofollow noreferrer\">Java client code</a> via the <a href=\"https://github.com/OpenAPITools/openapi-generator/tree/master/modules/openapi-generator-maven-plugin\" rel=\"nofollow noreferrer\">Maven Plugin</a> then there are <em>JUnit</em> tests generated as well. This makes sense, in particular for keeping the coverage restriction (code must be covered by tests for x percent) in your project.</p>\n<p>The issue is that theses generated JUnit tests are designed by default to utilize <em>JUnit 4</em> but we are using <em>JUnit 5</em>.</p>\n<pre><code>import org.junit.Test;\n</code></pre>\n<p>How can we configure the <a href=\"https://openapi-generator.tech/docs/generators/java\" rel=\"nofollow noreferrer\">Java Generator</a> in such a way that the generated tests using <em>JUnit 5</em> instead?</p>\n"},{"tags":["java","spring","spring-security","spring-boot","x-frame-options"],"comments":[{"owner":{"account_id":423223,"reputation":5101,"user_id":802482,"accept_rate":67,"display_name":"Black"},"score":1,"creation_date":1539303289,"post_id":28647136,"comment_id":92463426,"body_markdown":"None of the answers below yet address whether it&#39;s possible to apply SAMEORIGIN or ALLOW at the controller method level - anyone know?","body":"None of the answers below yet address whether it&#39;s possible to apply SAMEORIGIN or ALLOW at the controller method level - anyone know?"}],"answers":[{"comments":[{"owner":{"account_id":2409035,"reputation":1992,"user_id":2104638,"accept_rate":47,"display_name":"Pasupathi Rajamanickam"},"score":0,"creation_date":1442922525,"post_id":28649205,"comment_id":53274377,"body_markdown":"What is the namespace for this `http` and `headers` tags?","body":"What is the namespace for this <code>http</code> and <code>headers</code> tags?"},{"owner":{"account_id":3896319,"reputation":3078,"user_id":3225260,"accept_rate":45,"display_name":"mad_fox"},"score":5,"creation_date":1489696984,"post_id":28649205,"comment_id":72797618,"body_markdown":"Is it possible to apply this as the controller method level?","body":"Is it possible to apply this as the controller method level?"},{"owner":{"account_id":439547,"reputation":1775,"user_id":828551,"accept_rate":63,"display_name":"joninx"},"score":6,"creation_date":1495620011,"post_id":28649205,"comment_id":75326770,"body_markdown":"If you need to configure it within WebSecurityConfigurerAdapter&#39;s configure method, write the following code: `http.headers().frameOptions().sameOrigin();`","body":"If you need to configure it within WebSecurityConfigurerAdapter&#39;s configure method, write the following code: <code>http.headers().frameOptions().sameOrigin();</code>"},{"owner":{"account_id":159560,"reputation":11453,"user_id":379028,"accept_rate":85,"display_name":"Spring"},"score":0,"creation_date":1503401037,"post_id":28649205,"comment_id":78589854,"body_markdown":"@vtor I use spring 3.1 and this is not supported, any workaround you might suggest?","body":"@vtor I use spring 3.1 and this is not supported, any workaround you might suggest?"},{"owner":{"account_id":1667244,"reputation":9019,"user_id":1534407,"accept_rate":50,"display_name":"vtor"},"score":0,"creation_date":1506011389,"post_id":28649205,"comment_id":79658124,"body_markdown":"@Spring https://docs.spring.io/spring-security/site/docs/current/reference/html/headers.html#headers-frame-options it is supported. Could you please share what you have tried and didn&#39;t work?","body":"@Spring <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/html/headers.html#headers-frame-options\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/site/docs/current/reference/h&zwnj;&#8203;tml/&hellip;</a> it is supported. Could you please share what you have tried and didn&#39;t work?"},{"owner":{"account_id":8678409,"reputation":455,"user_id":8231333,"display_name":"arunken"},"score":0,"creation_date":1633427214,"post_id":28649205,"comment_id":122750663,"body_markdown":"When I have applied xrfameoptions in spring security XML, it is set on all response headers except for login page. I wonder what went wrong?!","body":"When I have applied xrfameoptions in spring security XML, it is set on all response headers except for login page. I wonder what went wrong?!"}],"tags":[],"owner":{"account_id":1667244,"reputation":9019,"user_id":1534407,"accept_rate":50,"display_name":"vtor"},"comment_count":6,"down_vote_count":0,"up_vote_count":126,"is_accepted":true,"score":126,"last_activity_date":1457603822,"creation_date":1424541451,"answer_id":28649205,"question_id":28647136,"body_markdown":"By default ```X-Frame-Options``` is set to denied, to prevent [clickjacking][1] attacks. To override this, you can add the following into your spring security config\r\n\r\n    &lt;http&gt;    \r\n        &lt;headers&gt;\r\n            &lt;frame-options policy=&quot;SAMEORIGIN&quot;/&gt;\r\n        &lt;/headers&gt;\r\n    &lt;/http&gt;\r\n\r\nHere are available options for policy\r\n\r\n* **DENY** - is a default value. With this the page cannot be displayed in a frame, regardless of the site attempting to do so. \r\n* **SAMEORIGIN** - I assume this is what you are looking for, so that the page will be (and can be) displayed in a frame on the same origin as the page itself\r\n* **ALLOW-FROM** - Allows you to specify an origin, where the page can be displayed in a frame.\r\n\r\nFor more information take a look [here][2]. \r\n\r\nAnd [here][3] to check how you can configure the headers using either XML or Java configs.\r\n\r\nNote, that you might need also to specify appropriate ```strategy```, based on needs.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Clickjacking\r\n  [2]: http://docs.spring.io/spring-security/site/docs/3.2.0.CI-SNAPSHOT/reference/html/appendix-namespace.html#nsa-frame-options\r\n  [3]: http://docs.spring.io/autorepo/docs/spring-security/3.2.0.CI-SNAPSHOT/reference/html/headers.html","title":"How to disable &#39;X-Frame-Options&#39; response header in Spring Security?","body":"<p>By default <code>X-Frame-Options</code> is set to denied, to prevent <a href=\"http://en.wikipedia.org/wiki/Clickjacking\">clickjacking</a> attacks. To override this, you can add the following into your spring security config</p>\n\n<pre><code>&lt;http&gt;    \n    &lt;headers&gt;\n        &lt;frame-options policy=\"SAMEORIGIN\"/&gt;\n    &lt;/headers&gt;\n&lt;/http&gt;\n</code></pre>\n\n<p>Here are available options for policy</p>\n\n<ul>\n<li><strong>DENY</strong> - is a default value. With this the page cannot be displayed in a frame, regardless of the site attempting to do so. </li>\n<li><strong>SAMEORIGIN</strong> - I assume this is what you are looking for, so that the page will be (and can be) displayed in a frame on the same origin as the page itself</li>\n<li><strong>ALLOW-FROM</strong> - Allows you to specify an origin, where the page can be displayed in a frame.</li>\n</ul>\n\n<p>For more information take a look <a href=\"http://docs.spring.io/spring-security/site/docs/3.2.0.CI-SNAPSHOT/reference/html/appendix-namespace.html#nsa-frame-options\">here</a>. </p>\n\n<p>And <a href=\"http://docs.spring.io/autorepo/docs/spring-security/3.2.0.CI-SNAPSHOT/reference/html/headers.html\">here</a> to check how you can configure the headers using either XML or Java configs.</p>\n\n<p>Note, that you might need also to specify appropriate <code>strategy</code>, based on needs.</p>\n"},{"comments":[{"owner":{"account_id":2500687,"reputation":1634,"user_id":2175883,"display_name":"Ian Newland"},"score":51,"creation_date":1464727313,"post_id":29569659,"comment_id":62599326,"body_markdown":"Using disable() is an option but if it&#39;s on the same server, use `http.headers().frameOptions().sameOrigin();`","body":"Using disable() is an option but if it&#39;s on the same server, use <code>http.headers().frameOptions().sameOrigin();</code>"},{"owner":{"account_id":339751,"reputation":713,"user_id":669408,"display_name":"Marco Schoolenberg"},"score":0,"creation_date":1621543259,"post_id":29569659,"comment_id":119535476,"body_markdown":"what if i mix :-)","body":"what if i mix :-)"},{"owner":{"account_id":5709614,"reputation":433,"user_id":4512086,"display_name":"Mindaugas K."},"score":1,"creation_date":1695385626,"post_id":29569659,"comment_id":136021064,"body_markdown":".headers(headers -&gt; headers\n\t\t\t\t\t\t.frameOptions(FrameOptionsConfig::disable))","body":".headers(headers -&gt; headers \t\t\t\t\t\t.frameOptions(FrameOptionsConfig::disable))"}],"tags":[],"owner":{"account_id":1636890,"reputation":8384,"user_id":1510145,"accept_rate":33,"display_name":"fivedogit"},"comment_count":3,"down_vote_count":0,"up_vote_count":137,"is_accepted":false,"score":137,"last_activity_date":1567020321,"creation_date":1428695591,"answer_id":29569659,"question_id":28647136,"body_markdown":"If you&#39;re using Java configs instead of XML configs, put this in your `WebSecurityConfigurerAdapter.configure(HttpSecurity http)` method:\r\n\r\n    http.headers().frameOptions().disable();","title":"How to disable &#39;X-Frame-Options&#39; response header in Spring Security?","body":"<p>If you're using Java configs instead of XML configs, put this in your <code>WebSecurityConfigurerAdapter.configure(HttpSecurity http)</code> method:</p>\n\n<pre><code>http.headers().frameOptions().disable();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2409035,"reputation":1992,"user_id":2104638,"accept_rate":47,"display_name":"Pasupathi Rajamanickam"},"score":0,"creation_date":1442924393,"post_id":31811446,"comment_id":53275705,"body_markdown":"How to configure this in Spring 3.2.12?","body":"How to configure this in Spring 3.2.12?"},{"owner":{"account_id":156901,"reputation":1816,"user_id":374480,"accept_rate":50,"display_name":"steve"},"score":1,"creation_date":1474578890,"post_id":31811446,"comment_id":66601350,"body_markdown":"Migrating from 3.X to 4.X and ran into this as it was just appending based on the first example. thx.","body":"Migrating from 3.X to 4.X and ran into this as it was just appending based on the first example. thx."},{"owner":{"account_id":10864525,"reputation":289,"user_id":7988380,"display_name":"Muhammad Hamed K"},"score":2,"creation_date":1628670729,"post_id":31811446,"comment_id":121480576,"body_markdown":"Thanks. http.headers().frameOptions().sameorigin(); worked for me.","body":"Thanks. http.headers().frameOptions().sameorigin(); worked for me."}],"tags":[],"owner":{"account_id":2198054,"reputation":1980,"user_id":1943228,"display_name":"kamwo"},"comment_count":3,"down_vote_count":0,"up_vote_count":73,"is_accepted":false,"score":73,"last_activity_date":1474616685,"creation_date":1438696926,"answer_id":31811446,"question_id":28647136,"body_markdown":"Most likely you don&#39;t want to deactivate this Header completely, but use `SAMEORIGIN`. If you are using the Java Configs (`Spring Boot`) and would like to allow the X-Frame-Options: `SAMEORIGIN`, then you would need to use the following.\r\n\r\n----------\r\n\r\nFor older Spring Security versions:\r\n    \r\n    http\r\n       .headers()\r\n           .addHeaderWriter(new XFrameOptionsHeaderWriter(XFrameOptionsHeaderWriter.XFrameOptionsMode.SAMEORIGIN))\r\n\r\n\r\n----------\r\n\r\n\r\nFor newer versions like [Spring Security 4.0.2][1]:\r\n \r\n    http\r\n\t   .headers()\r\n\t      .frameOptions()\r\n\t\t     .sameOrigin();\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-security/site/docs/4.0.2.RELEASE/reference/htmlsingle/#headers-frame-options","title":"How to disable &#39;X-Frame-Options&#39; response header in Spring Security?","body":"<p>Most likely you don't want to deactivate this Header completely, but use <code>SAMEORIGIN</code>. If you are using the Java Configs (<code>Spring Boot</code>) and would like to allow the X-Frame-Options: <code>SAMEORIGIN</code>, then you would need to use the following.</p>\n\n<hr>\n\n<p>For older Spring Security versions:</p>\n\n<pre><code>http\n   .headers()\n       .addHeaderWriter(new XFrameOptionsHeaderWriter(XFrameOptionsHeaderWriter.XFrameOptionsMode.SAMEORIGIN))\n</code></pre>\n\n<hr>\n\n<p>For newer versions like <a href=\"http://docs.spring.io/spring-security/site/docs/4.0.2.RELEASE/reference/htmlsingle/#headers-frame-options\">Spring Security 4.0.2</a>:</p>\n\n<pre><code>http\n   .headers()\n      .frameOptions()\n         .sameOrigin();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":743291,"reputation":4158,"user_id":726047,"accept_rate":87,"display_name":"Matthew Kirkley"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1488551401,"creation_date":1460654110,"answer_id":36629768,"question_id":28647136,"body_markdown":"If using XML configuration you can use \r\n    \r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; \r\n           xmlns:security=&quot;http://www.springframework.org/schema/security&quot;&gt; \r\n    &lt;security:http&gt;\r\n        &lt;security:headers&gt;\r\n             &lt;security:frame-options disabled=&quot;true&quot;&gt;&lt;/security:frame-options&gt;\r\n        &lt;/security:headers&gt;\r\n    &lt;/security:http&gt;\r\n    &lt;/beans&gt;\r\n","title":"How to disable &#39;X-Frame-Options&#39; response header in Spring Security?","body":"<p>If using XML configuration you can use </p>\n\n<pre><code>&lt;beans xmlns=\"http://www.springframework.org/schema/beans\" \n       xmlns:security=\"http://www.springframework.org/schema/security\"&gt; \n&lt;security:http&gt;\n    &lt;security:headers&gt;\n         &lt;security:frame-options disabled=\"true\"&gt;&lt;/security:frame-options&gt;\n    &lt;/security:headers&gt;\n&lt;/security:http&gt;\n&lt;/beans&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6105471,"reputation":4298,"user_id":4763309,"accept_rate":75,"display_name":"mrkernelpanic"},"score":6,"creation_date":1529058599,"post_id":38152270,"comment_id":88748891,"body_markdown":"In Spring Boot 2.x this method is deprecated. &quot;The security auto-configuration is no longer customizable. Provide your own WebSecurityConfigurer bean instead.&quot;","body":"In Spring Boot 2.x this method is deprecated. &quot;The security auto-configuration is no longer customizable. Provide your own WebSecurityConfigurer bean instead.&quot;"}],"tags":[],"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"comment_count":1,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1467399388,"creation_date":1467399388,"answer_id":38152270,"question_id":28647136,"body_markdown":"If you&#39;re using Spring Boot, the simplest way to disable the Spring Security default headers is to use `security.headers.*` properties. In particular, if you want to disable the `X-Frame-Options` default header, just add the following to your `application.properties`:\r\n\r\n    security.headers.frame=false\r\n\r\nThere is also `security.headers.cache`, `security.headers.content-type`, `security.headers.hsts` and `security.headers.xss` properties that you can use. For more information, take a look at [`SecurityProperties`][1].\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/blob/master/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/security/SecurityProperties.java#L171","title":"How to disable &#39;X-Frame-Options&#39; response header in Spring Security?","body":"<p>If you're using Spring Boot, the simplest way to disable the Spring Security default headers is to use <code>security.headers.*</code> properties. In particular, if you want to disable the <code>X-Frame-Options</code> default header, just add the following to your <code>application.properties</code>:</p>\n\n<pre><code>security.headers.frame=false\n</code></pre>\n\n<p>There is also <code>security.headers.cache</code>, <code>security.headers.content-type</code>, <code>security.headers.hsts</code> and <code>security.headers.xss</code> properties that you can use. For more information, take a look at <a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/security/SecurityProperties.java#L171\" rel=\"noreferrer\"><code>SecurityProperties</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":5291133,"reputation":4271,"user_id":4223697,"accept_rate":93,"display_name":"FuSsA"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1475231541,"creation_date":1475231541,"answer_id":39789445,"question_id":28647136,"body_markdown":"If you are using Spring Security&#39;s Java configuration, all of the default security headers are added by default. They can be disabled using the Java configuration below:\r\n\r\n    @EnableWebSecurity\r\n    @Configuration\r\n    public class WebSecurityConfig extends\r\n       WebSecurityConfigurerAdapter {\r\n    \r\n      @Override\r\n      protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n          .headers().disable()\r\n          ...;\r\n      }\r\n    }","title":"How to disable &#39;X-Frame-Options&#39; response header in Spring Security?","body":"<p>If you are using Spring Security's Java configuration, all of the default security headers are added by default. They can be disabled using the Java configuration below:</p>\n\n<pre><code>@EnableWebSecurity\n@Configuration\npublic class WebSecurityConfig extends\n   WebSecurityConfigurerAdapter {\n\n  @Override\n  protected void configure(HttpSecurity http) throws Exception {\n    http\n      .headers().disable()\n      ...;\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":97313,"reputation":6321,"user_id":264028,"accept_rate":75,"display_name":"Joaqu&#237;n L. Robles"},"score":0,"creation_date":1663683255,"post_id":66580815,"comment_id":130294416,"body_markdown":"how do you prevent overriding existing rules when calling `antMatcher(String)`?","body":"how do you prevent overriding existing rules when calling <code>antMatcher(String)</code>?"}],"tags":[],"owner":{"account_id":2972486,"reputation":328,"user_id":2524265,"display_name":"Zdeněk Duš&#225;tko"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1615458961,"creation_date":1615458961,"answer_id":66580815,"question_id":28647136,"body_markdown":"You should configure multiple HttpSecurity instances.\r\n\r\nHere is my code where only ***/public/***** requests are without ***X-Frame-Options*** header.\r\n\r\n\r\n\r\n    @Configuration\r\n    public class SecurityConfig {\r\n\r\n    /**\r\n     * Public part - Embeddable Web Plugin\r\n     */\r\n\r\n    @Configuration\r\n    @Order(1)\r\n    public static class EmbeddableWebPluginSecurityConfigurationAdapter extends WebSecurityConfigurerAdapter {\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            // Disable X-Frame-Option Header\r\n            http.antMatcher(&quot;/public/**&quot;).headers().frameOptions().disable();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Private part - Web App Paths\r\n     */\r\n\r\n    @Configuration\r\n    @EnableOAuth2Sso\r\n    public static class SSOWebSecurityConfigurerAdapter extends WebSecurityConfigurerAdapter {\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n\r\n            http\r\n                    .csrf().disable()\r\n                    .antMatcher(&quot;/**&quot;)\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/public/**&quot;, &quot;/&quot;, &quot;/login**&quot;, &quot;/webjars/**&quot;, &quot;/error**&quot;, &quot;/static/**&quot;, &quot;/robots&quot;, &quot;/robot&quot;, &quot;/robot.txt&quot;, &quot;/robots.txt&quot;)\r\n                    .permitAll()\r\n                    .anyRequest()\r\n                    .authenticated()\r\n                    .and().logout().logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\r\n                    .logoutSuccessUrl(&quot;/bye&quot;);\r\n        }\r\n\r\n        /**\r\n         * Public API endpoints\r\n         */\r\n\r\n        @Override\r\n        public void configure(WebSecurity web) throws Exception {\r\n            web.ignoring().antMatchers(&quot;/api/**&quot;);\r\n        }\r\n      }\r\n    }","title":"How to disable &#39;X-Frame-Options&#39; response header in Spring Security?","body":"<p>You should configure multiple HttpSecurity instances.</p>\n<p>Here is my code where only <em><strong>/public/</strong></em>** requests are without <em><strong>X-Frame-Options</strong></em> header.</p>\n<pre><code>@Configuration\npublic class SecurityConfig {\n\n/**\n * Public part - Embeddable Web Plugin\n */\n\n@Configuration\n@Order(1)\npublic static class EmbeddableWebPluginSecurityConfigurationAdapter extends WebSecurityConfigurerAdapter {\n    protected void configure(HttpSecurity http) throws Exception {\n        // Disable X-Frame-Option Header\n        http.antMatcher(&quot;/public/**&quot;).headers().frameOptions().disable();\n    }\n}\n\n/**\n * Private part - Web App Paths\n */\n\n@Configuration\n@EnableOAuth2Sso\npublic static class SSOWebSecurityConfigurerAdapter extends WebSecurityConfigurerAdapter {\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n        http\n                .csrf().disable()\n                .antMatcher(&quot;/**&quot;)\n                .authorizeRequests()\n                .antMatchers(&quot;/public/**&quot;, &quot;/&quot;, &quot;/login**&quot;, &quot;/webjars/**&quot;, &quot;/error**&quot;, &quot;/static/**&quot;, &quot;/robots&quot;, &quot;/robot&quot;, &quot;/robot.txt&quot;, &quot;/robots.txt&quot;)\n                .permitAll()\n                .anyRequest()\n                .authenticated()\n                .and().logout().logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\n                .logoutSuccessUrl(&quot;/bye&quot;);\n    }\n\n    /**\n     * Public API endpoints\n     */\n\n    @Override\n    public void configure(WebSecurity web) throws Exception {\n        web.ignoring().antMatchers(&quot;/api/**&quot;);\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26556603,"reputation":1,"user_id":20185119,"display_name":"Landonx"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665155103,"creation_date":1665153673,"answer_id":73988862,"question_id":28647136,"body_markdown":"`.csrf().disable()` its to dangerous. \r\n\r\ntest:\r\n\r\n    .headers().frameOptions().sameOrigin()","title":"How to disable &#39;X-Frame-Options&#39; response header in Spring Security?","body":"<p><code>.csrf().disable()</code> its to dangerous.</p>\n<p>test:</p>\n<pre><code>.headers().frameOptions().sameOrigin()\n</code></pre>\n"}],"owner":{"account_id":4108001,"reputation":1482,"user_id":3371414,"accept_rate":77,"display_name":"Bravo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199965,"favorite_count":0,"down_vote_count":0,"up_vote_count":115,"accepted_answer_id":28649205,"answer_count":8,"score":115,"last_activity_date":1692265072,"creation_date":1424530483,"question_id":28647136,"body_markdown":"I have CKeditor on my JSP and whenever I upload something, the following error pops out:\r\n\r\n     Refused to display &#39;http://localhost:8080/xxx/xxx/upload-image?CKEditor=text&amp;CKEditorFuncNum=1&amp;langCode=ru&#39; in a frame because it set &#39;X-Frame-Options&#39; to &#39;DENY&#39;.\r\n\r\nI have tried removing Spring Security and everything works like a charm.\r\n\r\n - How can I disable this in Spring Security XML file?\r\n - What should I write between `&lt;http&gt;` tags?","title":"How to disable &#39;X-Frame-Options&#39; response header in Spring Security?","body":"<p>I have CKeditor on my JSP and whenever I upload something, the following error pops out:</p>\n<pre><code> Refused to display 'http://localhost:8080/xxx/xxx/upload-image?CKEditor=text&amp;CKEditorFuncNum=1&amp;langCode=ru' in a frame because it set 'X-Frame-Options' to 'DENY'.\n</code></pre>\n<p>I have tried removing Spring Security and everything works like a charm.</p>\n<ul>\n<li>How can I disable this in Spring Security XML file?</li>\n<li>What should I write between <code>&lt;http&gt;</code> tags?</li>\n</ul>\n"},{"tags":["java","swing","jtextarea"],"answers":[{"comments":[{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1576267781,"post_id":59328701,"comment_id":104857721,"body_markdown":"I came to this same conclusion by dumping the value of his action command in a println statement with asterisks on either side. That&#39;s when I saw the space. He could also add `temp.setActionCommand(String.valueOf(i));` when creating the numeric buttons.","body":"I came to this same conclusion by dumping the value of his action command in a println statement with asterisks on either side. That&#39;s when I saw the space. He could also add <code>temp.setActionCommand(String.valueOf(i));</code> when creating the numeric buttons."},{"owner":{"account_id":17049514,"reputation":3,"user_id":12335486,"display_name":"naasik"},"score":0,"creation_date":1576275660,"post_id":59328701,"comment_id":104860304,"body_markdown":"Thank you both for the help. I do know that you should use the equals method when comparing strings, it&#39;s just that in the moment I forgot 0 was a string and I didn&#39;t pay much attention to the warning IntelliJ was giving. Now I have a new problem. None of the buttons on the right side of the calculator (ie +, -, reset, ., etc) are doing anything. Do I need to make another switch statement for those buttons?","body":"Thank you both for the help. I do know that you should use the equals method when comparing strings, it&#39;s just that in the moment I forgot 0 was a string and I didn&#39;t pay much attention to the warning IntelliJ was giving. Now I have a new problem. None of the buttons on the right side of the calculator (ie +, -, reset, ., etc) are doing anything. Do I need to make another switch statement for those buttons?"},{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1576276269,"post_id":59328701,"comment_id":104860436,"body_markdown":"@naasik Stack Overflow uses a question and answer format. You ask one question, you get one (accepted) answer. Click the checkmark to the left of this answer so MadProgrammer can get his interwebz points and post your new question separately. Once that&#39;s done, I (or someone else) will look for it and answer it. I guarantee if I can do this within 20 minutes or so, I&#39;ll be looking at it.","body":"@naasik Stack Overflow uses a question and answer format. You ask one question, you get one (accepted) answer. Click the checkmark to the left of this answer so MadProgrammer can get his interwebz points and post your new question separately. Once that&#39;s done, I (or someone else) will look for it and answer it. I guarantee if I can do this within 20 minutes or so, I&#39;ll be looking at it."},{"owner":{"account_id":17049514,"reputation":3,"user_id":12335486,"display_name":"naasik"},"score":0,"creation_date":1576276691,"post_id":59328701,"comment_id":104860555,"body_markdown":"Sorry didn&#39;t know. Thanks for the heads up","body":"Sorry didn&#39;t know. Thanks for the heads up"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1576277036,"post_id":59328701,"comment_id":104860648,"body_markdown":"@naasik You&#39;ve not registered any `ActionListener`s to those buttons","body":"@naasik You&#39;ve not registered any <code>ActionListener</code>s to those buttons"}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1576265241,"creation_date":1576265241,"answer_id":59328701,"question_id":59328551,"body_markdown":"Your issue is a compound one.\r\n\r\nFirst, you create the button using...\r\n\r\n    JButton temp = new JButton(i + &quot; &quot;);\r\n\r\nThis, by default, sets the `actionCommmand` to `i_` &lt;- not the space! (So won&#39;t let me put in a trailing space, so I&#39;ve use `_` to highlight)\r\n\r\nYou then use \r\n\r\n        switch (action)\r\n        {\r\n            case &quot;0&quot;:\r\n            //...\r\n\r\nTo check the `actionCommand`, but the command isn&#39;t (as an example) [`0`], it&#39;s [`0_`]\r\n\r\nInstead, use something like...\r\n\r\n    JButton temp = new JButton(Integer.toString(i));\r\n\r\nYou&#39;re also going to want to fix:\r\n\r\n    if (operand == &quot;0&quot;)\r\n\r\nas `==` is not how you should be comparing `Strings (and a good IDE should be warning you about it).  Instead use `equals`, for example...\r\n\r\n    if (&quot;0&quot;.equals(operand))","title":"JTextArea not being appended to in swing GUI","body":"<p>Your issue is a compound one.</p>\n\n<p>First, you create the button using...</p>\n\n<pre><code>JButton temp = new JButton(i + \" \");\n</code></pre>\n\n<p>This, by default, sets the <code>actionCommmand</code> to <code>i_</code> &lt;- not the space! (So won't let me put in a trailing space, so I've use <code>_</code> to highlight)</p>\n\n<p>You then use </p>\n\n<pre><code>    switch (action)\n    {\n        case \"0\":\n        //...\n</code></pre>\n\n<p>To check the <code>actionCommand</code>, but the command isn't (as an example) [<code>0</code>], it's [<code>0_</code>]</p>\n\n<p>Instead, use something like...</p>\n\n<pre><code>JButton temp = new JButton(Integer.toString(i));\n</code></pre>\n\n<p>You're also going to want to fix:</p>\n\n<pre><code>if (operand == \"0\")\n</code></pre>\n\n<p>as <code>==</code> is not how you should be comparing <code>Strings (and a good IDE should be warning you about it).  Instead use</code>equals`, for example...</p>\n\n<pre><code>if (\"0\".equals(operand))\n</code></pre>\n"}],"owner":{"account_id":17049514,"reputation":3,"user_id":12335486,"display_name":"naasik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59328701,"answer_count":1,"score":0,"last_activity_date":1692265029,"creation_date":1576264483,"question_id":59328551,"body_markdown":"I am currently working on a GUI calculator program using Swing. I got the actual interface done\r\n[here][1]\r\n\r\n\r\nHowever, whenever I click on one of the number buttons, nothing appears in the operand text area, while 0.0 appears in the result text area as can be seen [here][2].\r\n\r\nHere is my code: \r\n\r\n```\r\n`\r\npublic class Calculator extends JFrame implements ActionListener\r\n{\r\n    private static JTextArea operandArea;\r\n    private static JTextArea resultArea;\r\n    private static JButton[] buttons = new JButton[10];\r\n\r\n    public Calculator()\r\n    {\r\n        setTitle(&quot;Calculator&quot;);\r\n        setSize(800, 800);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        setLocationRelativeTo(null);\r\n\r\n        BorderLayout calculatorLayout = new BorderLayout();\r\n        setLayout(calculatorLayout);\r\n\r\n        JPanel wholeCalculator = new JPanel();\r\n        add(wholeCalculator);\r\n        JPanel textAreas = new JPanel();\r\n        wholeCalculator.add(textAreas, calculatorLayout.NORTH);\r\n        textAreas.setPreferredSize(new Dimension(800, 300));\r\n        JPanel numberPad = new JPanel();\r\n        wholeCalculator.add(numberPad, calculatorLayout.SOUTH);\r\n        numberPad.setPreferredSize(new Dimension(800, 300));\r\n\r\n        operandArea = new JTextArea();\r\n        operandArea.setPreferredSize(new Dimension(600,75));\r\n        resultArea = new JTextArea();\r\n        resultArea.setPreferredSize(new Dimension(600,75));\r\n\r\n        textAreas.setLayout(new GridLayout(4, 1));\r\n        JLabel operand = new JLabel(&quot;Operand&quot;);\r\n        JLabel result = new JLabel(&quot;Result&quot;);\r\n        textAreas.add(operand);\r\n        operand.setHorizontalAlignment(JLabel.CENTER);\r\n        textAreas.add(operandArea);\r\n        textAreas.add(result);\r\n        result.setHorizontalAlignment(JLabel.CENTER);\r\n        textAreas.add(resultArea);\r\n\r\n        numberPad.setLayout(new GridLayout(1, 2));\r\n\r\n        JPanel numbers = new JPanel();\r\n        numberPad.add(numbers);\r\n        numbers.setLayout(new GridLayout(4, 3));\r\n        numbers.setPreferredSize(new Dimension(400, 400));\r\n        JPanel operations = new JPanel();\r\n        numberPad.add(operations);\r\n        operations.setPreferredSize(new Dimension(200, 400));\r\n        JButton minus = new JButton(&quot;-&quot;);\r\n        minus.setActionCommand(&quot;minus&quot;);\r\n        operations.add(minus);\r\n        JButton plus = new JButton(&quot;+&quot;);\r\n        plus.setActionCommand(&quot;plus&quot;);\r\n        operations.add(plus);\r\n        JButton multiply = new JButton(&quot;X&quot;);\r\n        multiply.setActionCommand(&quot;multiply&quot;);\r\n        operations.add(multiply);\r\n        JButton divide = new JButton(&quot;/&quot;);\r\n        divide.setActionCommand(&quot;divide&quot;);\r\n        operations.add(divide);\r\n        JButton decimal = new JButton(&quot;.&quot;);\r\n        operations.add(decimal);\r\n        JButton reset = new JButton(&quot;reset&quot;);\r\n        reset.setActionCommand(&quot;reset&quot;);\r\n        operations.add(reset);\r\n        JButton clear = new JButton(&quot;clear&quot;);\r\n        operations.add(clear);\r\n\r\n        for (int i = 1; i &lt;= 9; i++)\r\n        {\r\n            JButton temp = new JButton(i + &quot; &quot;);\r\n            buttons[i] = temp;\r\n            temp.addActionListener(this);\r\n            numbers.add(temp);\r\n        }\r\n            numbers.add(new JButton(&quot;0&quot;));\r\n    }\r\n\r\n    public void actionPerformed(ActionEvent e)\r\n    {\r\n        String action = e.getActionCommand();\r\n        double initializer = 0.0;\r\n        String operand = &quot;&quot;;\r\n\r\n        resultArea.setText(Double.toString(initializer));\r\n\r\n        switch (action)\r\n        {\r\n            case &quot;0&quot;:\r\n                operandArea.append(&quot;0&quot;);\r\n                operand = operand + &quot;0&quot;;\r\n                break;\r\n            case &quot;1&quot;:\r\n                operandArea.append(&quot;1&quot;);\r\n                operand = operand + &quot;1&quot;;\r\n                break;\r\n            case &quot;2&quot;:\r\n                operandArea.append(&quot;2&quot;);\r\n                operand = operand + &quot;2&quot;;\r\n                break;\r\n            case &quot;3&quot;:\r\n                operandArea.append(&quot;3&quot;);\r\n                operand = operand + &quot;3&quot;;\r\n                break;\r\n            case &quot;4&quot;:\r\n                operandArea.append(&quot;4&quot;);\r\n                operand = operand + &quot;4&quot;;\r\n                break;\r\n            case &quot;5&quot;:\r\n                operandArea.append(&quot;5&quot;);\r\n                operand = operand + &quot;5&quot;;\r\n                break;\r\n            case &quot;6&quot;:\r\n                operandArea.append(&quot;6&quot;);\r\n                operand = operand + &quot;6&quot;;\r\n                break;\r\n            case &quot;7&quot;:\r\n                operandArea.append(&quot;7&quot;);\r\n                operand = operand + &quot;7&quot;;\r\n                break;\r\n            case &quot;8&quot;:\r\n                operandArea.append(&quot;8&quot;);\r\n                operand = operand + &quot;8&quot;;\r\n                break;\r\n            case &quot;9&quot;:\r\n                operandArea.append(&quot;9&quot;);\r\n                operand = operand + &quot;9&quot;;\r\n                break;\r\n            case &quot;.&quot;:\r\n                operandArea.append(&quot;.&quot;);\r\n                operand = operand + &quot;.&quot;;\r\n                break;\r\n            case &quot;plus&quot;:\r\n                initializer += Double.parseDouble(operand);\r\n                resultArea.setText(Double.toString(initializer));\r\n                break;\r\n            case &quot;minus&quot;:\r\n                initializer -= Double.parseDouble(operand);\r\n                resultArea.setText(Double.toString(initializer));\r\n                break;\r\n            case &quot;multiply&quot;: initializer *= Double.parseDouble(operand);\r\n                resultArea.setText(Double.toString(initializer));\r\n                break;\r\n            case &quot;divide&quot;:\r\n                try\r\n                {\r\n                    if (operand == &quot;0&quot;)\r\n                    {\r\n                        throw new DivideByZeroException();\r\n                    }\r\n                    initializer /= Double.parseDouble(operand);\r\n                    resultArea.setText(Double.toString(initializer));\r\n                }\r\n                catch (DivideByZeroException ex)\r\n                {\r\n                    resultArea.setText(&quot;Cannot divide by 0&quot;);\r\n                }\r\n                break;\r\n            case &quot;clear&quot;:\r\n                operandArea.setText(&quot;&quot;);\r\n                break;\r\n            case &quot;reset&quot;:\r\n                operandArea.setText(&quot;&quot;);\r\n                resultArea.setText(&quot;&quot;);\r\n                initializer = 0.0;\r\n                break;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        Calculator frame = new Calculator();\r\n        frame.setVisible(true);\r\n    }\r\n}\r\n`\r\n```\r\nI thought using the append command would add to the blank space? I would appreciate any input.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VxTZx.png\r\n  [2]: https://i.stack.imgur.com/UDd5V.png","title":"JTextArea not being appended to in swing GUI","body":"<p>I am currently working on a GUI calculator program using Swing. I got the actual interface done\n<a href=\"https://i.stack.imgur.com/VxTZx.png\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>However, whenever I click on one of the number buttons, nothing appears in the operand text area, while 0.0 appears in the result text area as can be seen <a href=\"https://i.stack.imgur.com/UDd5V.png\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Here is my code: </p>\n\n<pre><code>`\npublic class Calculator extends JFrame implements ActionListener\n{\n    private static JTextArea operandArea;\n    private static JTextArea resultArea;\n    private static JButton[] buttons = new JButton[10];\n\n    public Calculator()\n    {\n        setTitle(\"Calculator\");\n        setSize(800, 800);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setLocationRelativeTo(null);\n\n        BorderLayout calculatorLayout = new BorderLayout();\n        setLayout(calculatorLayout);\n\n        JPanel wholeCalculator = new JPanel();\n        add(wholeCalculator);\n        JPanel textAreas = new JPanel();\n        wholeCalculator.add(textAreas, calculatorLayout.NORTH);\n        textAreas.setPreferredSize(new Dimension(800, 300));\n        JPanel numberPad = new JPanel();\n        wholeCalculator.add(numberPad, calculatorLayout.SOUTH);\n        numberPad.setPreferredSize(new Dimension(800, 300));\n\n        operandArea = new JTextArea();\n        operandArea.setPreferredSize(new Dimension(600,75));\n        resultArea = new JTextArea();\n        resultArea.setPreferredSize(new Dimension(600,75));\n\n        textAreas.setLayout(new GridLayout(4, 1));\n        JLabel operand = new JLabel(\"Operand\");\n        JLabel result = new JLabel(\"Result\");\n        textAreas.add(operand);\n        operand.setHorizontalAlignment(JLabel.CENTER);\n        textAreas.add(operandArea);\n        textAreas.add(result);\n        result.setHorizontalAlignment(JLabel.CENTER);\n        textAreas.add(resultArea);\n\n        numberPad.setLayout(new GridLayout(1, 2));\n\n        JPanel numbers = new JPanel();\n        numberPad.add(numbers);\n        numbers.setLayout(new GridLayout(4, 3));\n        numbers.setPreferredSize(new Dimension(400, 400));\n        JPanel operations = new JPanel();\n        numberPad.add(operations);\n        operations.setPreferredSize(new Dimension(200, 400));\n        JButton minus = new JButton(\"-\");\n        minus.setActionCommand(\"minus\");\n        operations.add(minus);\n        JButton plus = new JButton(\"+\");\n        plus.setActionCommand(\"plus\");\n        operations.add(plus);\n        JButton multiply = new JButton(\"X\");\n        multiply.setActionCommand(\"multiply\");\n        operations.add(multiply);\n        JButton divide = new JButton(\"/\");\n        divide.setActionCommand(\"divide\");\n        operations.add(divide);\n        JButton decimal = new JButton(\".\");\n        operations.add(decimal);\n        JButton reset = new JButton(\"reset\");\n        reset.setActionCommand(\"reset\");\n        operations.add(reset);\n        JButton clear = new JButton(\"clear\");\n        operations.add(clear);\n\n        for (int i = 1; i &lt;= 9; i++)\n        {\n            JButton temp = new JButton(i + \" \");\n            buttons[i] = temp;\n            temp.addActionListener(this);\n            numbers.add(temp);\n        }\n            numbers.add(new JButton(\"0\"));\n    }\n\n    public void actionPerformed(ActionEvent e)\n    {\n        String action = e.getActionCommand();\n        double initializer = 0.0;\n        String operand = \"\";\n\n        resultArea.setText(Double.toString(initializer));\n\n        switch (action)\n        {\n            case \"0\":\n                operandArea.append(\"0\");\n                operand = operand + \"0\";\n                break;\n            case \"1\":\n                operandArea.append(\"1\");\n                operand = operand + \"1\";\n                break;\n            case \"2\":\n                operandArea.append(\"2\");\n                operand = operand + \"2\";\n                break;\n            case \"3\":\n                operandArea.append(\"3\");\n                operand = operand + \"3\";\n                break;\n            case \"4\":\n                operandArea.append(\"4\");\n                operand = operand + \"4\";\n                break;\n            case \"5\":\n                operandArea.append(\"5\");\n                operand = operand + \"5\";\n                break;\n            case \"6\":\n                operandArea.append(\"6\");\n                operand = operand + \"6\";\n                break;\n            case \"7\":\n                operandArea.append(\"7\");\n                operand = operand + \"7\";\n                break;\n            case \"8\":\n                operandArea.append(\"8\");\n                operand = operand + \"8\";\n                break;\n            case \"9\":\n                operandArea.append(\"9\");\n                operand = operand + \"9\";\n                break;\n            case \".\":\n                operandArea.append(\".\");\n                operand = operand + \".\";\n                break;\n            case \"plus\":\n                initializer += Double.parseDouble(operand);\n                resultArea.setText(Double.toString(initializer));\n                break;\n            case \"minus\":\n                initializer -= Double.parseDouble(operand);\n                resultArea.setText(Double.toString(initializer));\n                break;\n            case \"multiply\": initializer *= Double.parseDouble(operand);\n                resultArea.setText(Double.toString(initializer));\n                break;\n            case \"divide\":\n                try\n                {\n                    if (operand == \"0\")\n                    {\n                        throw new DivideByZeroException();\n                    }\n                    initializer /= Double.parseDouble(operand);\n                    resultArea.setText(Double.toString(initializer));\n                }\n                catch (DivideByZeroException ex)\n                {\n                    resultArea.setText(\"Cannot divide by 0\");\n                }\n                break;\n            case \"clear\":\n                operandArea.setText(\"\");\n                break;\n            case \"reset\":\n                operandArea.setText(\"\");\n                resultArea.setText(\"\");\n                initializer = 0.0;\n                break;\n        }\n    }\n\n    public static void main(String[] args)\n    {\n        Calculator frame = new Calculator();\n        frame.setVisible(true);\n    }\n}\n`\n</code></pre>\n\n<p>I thought using the append command would add to the blank space? I would appreciate any input.</p>\n"},{"tags":["java","spring","spring-boot","scala","bean-validation"],"comments":[{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":0,"creation_date":1692225699,"post_id":76916690,"comment_id":135596460,"body_markdown":"Does this answer your question? [What is the best way modeling in Scala with Spring Data JPA](https://stackoverflow.com/questions/57772213/what-is-the-best-way-modeling-in-scala-with-spring-data-jpa)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/57772213/what-is-the-best-way-modeling-in-scala-with-spring-data-jpa\">What is the best way modeling in Scala with Spring Data JPA</a>"},{"owner":{"account_id":2235563,"reputation":467,"user_id":3546132,"accept_rate":90,"display_name":"nils1k"},"score":0,"creation_date":1692252741,"post_id":76916690,"comment_id":135598683,"body_markdown":"Thanks, but that doesn&#39;t work, unfortunately. I think it is the inheritance in play that messes up the validation somehow.","body":"Thanks, but that doesn&#39;t work, unfortunately. I think it is the inheritance in play that messes up the validation somehow."},{"owner":{"account_id":2235563,"reputation":467,"user_id":3546132,"accept_rate":90,"display_name":"nils1k"},"score":0,"creation_date":1692264605,"post_id":76916690,"comment_id":135600764,"body_markdown":"@Gast&#243;nSchabas: My bad, the post didn&#39;t answer the question, but gave pointers in the right direction. See the solution in the comment below.","body":"@Gast&#243;nSchabas: My bad, the post didn&#39;t answer the question, but gave pointers in the right direction. See the solution in the comment below."}],"answers":[{"tags":[],"owner":{"account_id":2235563,"reputation":467,"user_id":3546132,"accept_rate":90,"display_name":"nils1k"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692264941,"creation_date":1692264941,"answer_id":76920240,"question_id":76916690,"body_markdown":"The following tweak in the model class did the trick:\r\n\r\n```scala\r\n@AvroNamespace(AvroSchemaBuilder.baseNamespace)\r\n@Schema(description = &quot;MyModel&quot;)\r\ncase class MyModel(\r\n  @(NotNull@field)\r\n  @(Pattern@field)(regexp = &quot;^([A-Z]{3}):([A-Za-z]*):([0-9A-Za-z_\\\\-]*)$&quot;)\r\n  @Schema(description = &quot;Id&quot;, implementation = classOf[String], requiredMode = Schema.RequiredMode.REQUIRED) \r\n  override val id: String,\r\n\r\n  @(NotNull@field)\r\n  @(Pattern@field)(regexp = &quot;^([A-Z]{3}):([A-Za-z]*):([0-9A-Za-z_\\\\-]*)$&quot;)\r\n  @Schema(description = &quot;Version&quot;, implementation = classOf[String], requiredMode = Schema.RequiredMode.REQUIRED)\r\n  override val version: String\r\n) extends SomeClassC\r\n\r\n```\r\n\r\nThe solution was to add the `@field` annotation to all the constraints that are set on a given field. If I&#39;ve understood things correctly this was needed &quot;*because that meta-annotation is used to tell the compiler that the actual field should be considered the target of the annotation, as opposed to the automatically generated accesssor/mutator methods&quot;* (reference from another [SO post][1])\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/37014280/usage-of-field-annotations","title":"How can I set up bean validation for Scala case class with multiple levels of inheritance in Spring Boot 3?","body":"<p>The following tweak in the model class did the trick:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>@AvroNamespace(AvroSchemaBuilder.baseNamespace)\n@Schema(description = &quot;MyModel&quot;)\ncase class MyModel(\n  @(NotNull@field)\n  @(Pattern@field)(regexp = &quot;^([A-Z]{3}):([A-Za-z]*):([0-9A-Za-z_\\\\-]*)$&quot;)\n  @Schema(description = &quot;Id&quot;, implementation = classOf[String], requiredMode = Schema.RequiredMode.REQUIRED) \n  override val id: String,\n\n  @(NotNull@field)\n  @(Pattern@field)(regexp = &quot;^([A-Z]{3}):([A-Za-z]*):([0-9A-Za-z_\\\\-]*)$&quot;)\n  @Schema(description = &quot;Version&quot;, implementation = classOf[String], requiredMode = Schema.RequiredMode.REQUIRED)\n  override val version: String\n) extends SomeClassC\n\n</code></pre>\n<p>The solution was to add the <code>@field</code> annotation to all the constraints that are set on a given field. If I've understood things correctly this was needed &quot;<em>because that meta-annotation is used to tell the compiler that the actual field should be considered the target of the annotation, as opposed to the automatically generated accesssor/mutator methods&quot;</em> (reference from another <a href=\"https://stackoverflow.com/questions/37014280/usage-of-field-annotations\">SO post</a>)</p>\n"}],"owner":{"account_id":2235563,"reputation":467,"user_id":3546132,"accept_rate":90,"display_name":"nils1k"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76920240,"answer_count":1,"score":-1,"last_activity_date":1692264941,"creation_date":1692215817,"question_id":76916690,"body_markdown":"## Problem Description\r\nI&#39;m having trouble validating overridden fields in a Scala case class using the Bean Validation API. Validation works properly for `@RequestParam` and `@PathVariable` annotations in the RestController.\r\n\r\n## Code\r\n\r\n### RestController\r\n```scala\r\n@RestController\r\n@Validated\r\n@RequestMapping(value = Array(&quot;/my-endpoint&quot;)\r\nclass MyController(service: MyService) {\r\n\r\n  @GetMapping(Array(&quot;/{id}/{version}&quot;))\r\n  def getByIds(\r\n    @PathVariable @Pattern(regexp = @Pattern(regexp = &quot;^([A-Z]{3}):([A-Za-z]*):([0-9A-Za-z_\\\\-]*)$&quot;)) id: String,\r\n    @PathVariable @Pattern(regexp = @Pattern(regexp = &quot;^([A-Z]{3}):([A-Za-z]*):([0-9A-Za-z_\\\\-]*)$&quot;)) version: String\r\n  ): MyModel = getById(id, version)\r\n\r\n  @PostMapping\r\n  def create(@Valid @RequestBody entity: MyModel) ResponseEntity[Unit] = {\r\n    service.create(entity)\r\n  }\r\n}\r\n```\r\n\r\n### API model / Subclass\r\n```scala\r\n@AvroNamespace(AvroSchemaBuilder.baseNamespace)\r\n@Schema(description = &quot;MyModel&quot;)\r\ncase class MyModel(\r\n  @NotNull\r\n  @Pattern(regexp = ValidationPattern.netexIdPattern)\r\n  @Schema(description = &quot;Id&quot;, implementation = classOf[String], requiredMode = Schema.RequiredMode.REQUIRED) \r\n  override val id: String,\r\n\r\n  @Pattern(regexp = ValidationPattern.netexIdPattern)\r\n  @Schema(description = &quot;Version&quot;, implementation = classOf[String], requiredMode = Schema.RequiredMode.REQUIRED)\r\n  override val version: String\r\n) extends SomeClassC\r\n```\r\n\r\n### Superclasses\r\n```scala\r\nabstract class SomeClassC extends SomeClass B with SomeClassX {\r\n}\r\n\r\nabstract class SomeClass B extends SomeClassA {\r\n  val name: List[SomeObject]\r\n  val description: List[SomeObject]\r\n}\r\n\r\nabstract class SomeClassA {\r\n  val id: String\r\n  val version: String\r\n}\r\n```\r\n\r\n## Debugging\r\nAfter having stepped through the code, it looks like the `@Valid` annotation in the RestController is detected and evaluated as expected, whilst the bean validation annotations placed in the model class are not. This leads me to believe that the class is not registered by Spring, and hence, not exposed to the bean validation API. This assumption might be wrong, as I can see that the `valueContext` property of the `validateInContext` method in the `org.hibernate.validator.internal.engine.ValidatorImpl` class is correctly referencing the model class - though all of the related to associated constraints are `0`.\r\n\r\n## Attempted Solution\r\nI&#39;ve tried to annotate the model class and all superclasses with `@Component` to explicitly register them with Spring. However, this results in the following error related to the two overridden variables in the model: \r\n\r\n\r\n&gt; Could not autowire. No beans of &#39;String&#39; type found.\r\n\r\n\r\n## Version of Languages and Frameworks\r\n* Spring Boot `3.1.2`\r\n* Scala `2.13.11`\r\n* OpenJDK Runtime Environment Temurin-`17.0.8+7`\r\n\r\nI&#39;m running a bit out of ideas on this one, so highly appreciate any help I can get.","title":"How can I set up bean validation for Scala case class with multiple levels of inheritance in Spring Boot 3?","body":"<h2>Problem Description</h2>\n<p>I'm having trouble validating overridden fields in a Scala case class using the Bean Validation API. Validation works properly for <code>@RequestParam</code> and <code>@PathVariable</code> annotations in the RestController.</p>\n<h2>Code</h2>\n<h3>RestController</h3>\n<pre class=\"lang-scala prettyprint-override\"><code>@RestController\n@Validated\n@RequestMapping(value = Array(&quot;/my-endpoint&quot;)\nclass MyController(service: MyService) {\n\n  @GetMapping(Array(&quot;/{id}/{version}&quot;))\n  def getByIds(\n    @PathVariable @Pattern(regexp = @Pattern(regexp = &quot;^([A-Z]{3}):([A-Za-z]*):([0-9A-Za-z_\\\\-]*)$&quot;)) id: String,\n    @PathVariable @Pattern(regexp = @Pattern(regexp = &quot;^([A-Z]{3}):([A-Za-z]*):([0-9A-Za-z_\\\\-]*)$&quot;)) version: String\n  ): MyModel = getById(id, version)\n\n  @PostMapping\n  def create(@Valid @RequestBody entity: MyModel) ResponseEntity[Unit] = {\n    service.create(entity)\n  }\n}\n</code></pre>\n<h3>API model / Subclass</h3>\n<pre class=\"lang-scala prettyprint-override\"><code>@AvroNamespace(AvroSchemaBuilder.baseNamespace)\n@Schema(description = &quot;MyModel&quot;)\ncase class MyModel(\n  @NotNull\n  @Pattern(regexp = ValidationPattern.netexIdPattern)\n  @Schema(description = &quot;Id&quot;, implementation = classOf[String], requiredMode = Schema.RequiredMode.REQUIRED) \n  override val id: String,\n\n  @Pattern(regexp = ValidationPattern.netexIdPattern)\n  @Schema(description = &quot;Version&quot;, implementation = classOf[String], requiredMode = Schema.RequiredMode.REQUIRED)\n  override val version: String\n) extends SomeClassC\n</code></pre>\n<h3>Superclasses</h3>\n<pre class=\"lang-scala prettyprint-override\"><code>abstract class SomeClassC extends SomeClass B with SomeClassX {\n}\n\nabstract class SomeClass B extends SomeClassA {\n  val name: List[SomeObject]\n  val description: List[SomeObject]\n}\n\nabstract class SomeClassA {\n  val id: String\n  val version: String\n}\n</code></pre>\n<h2>Debugging</h2>\n<p>After having stepped through the code, it looks like the <code>@Valid</code> annotation in the RestController is detected and evaluated as expected, whilst the bean validation annotations placed in the model class are not. This leads me to believe that the class is not registered by Spring, and hence, not exposed to the bean validation API. This assumption might be wrong, as I can see that the <code>valueContext</code> property of the <code>validateInContext</code> method in the <code>org.hibernate.validator.internal.engine.ValidatorImpl</code> class is correctly referencing the model class - though all of the related to associated constraints are <code>0</code>.</p>\n<h2>Attempted Solution</h2>\n<p>I've tried to annotate the model class and all superclasses with <code>@Component</code> to explicitly register them with Spring. However, this results in the following error related to the two overridden variables in the model:</p>\n<blockquote>\n<p>Could not autowire. No beans of 'String' type found.</p>\n</blockquote>\n<h2>Version of Languages and Frameworks</h2>\n<ul>\n<li>Spring Boot <code>3.1.2</code></li>\n<li>Scala <code>2.13.11</code></li>\n<li>OpenJDK Runtime Environment Temurin-<code>17.0.8+7</code></li>\n</ul>\n<p>I'm running a bit out of ideas on this one, so highly appreciate any help I can get.</p>\n"},{"tags":["java","redis","spring-data-redis"],"answers":[{"tags":[],"owner":{"account_id":4829511,"reputation":5855,"user_id":4021802,"display_name":"sazzad"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1669279752,"creation_date":1669279752,"answer_id":74557924,"question_id":74557099,"body_markdown":"Try\r\n\r\n```\r\nredisTemplate.getConnectionFactory().getConnection().flushAll();\r\n```","title":"How to delete all data from Redis using RedisTemplate in java","body":"<p>Try</p>\n<pre><code>redisTemplate.getConnectionFactory().getConnection().flushAll();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1988712,"reputation":655,"user_id":1783283,"display_name":"Jonathan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692264890,"creation_date":1692264890,"answer_id":76920228,"question_id":74557099,"body_markdown":"In case you are using kotlin and reactive connection within a suspendable function, the code is:\r\n```\r\nsuspend fun flushCache(): String {\r\n   return redisTemplate.connectionFactory.reactiveConnection.serverCommands().flushDb().awaitSingle()\r\n}\r\n```","title":"How to delete all data from Redis using RedisTemplate in java","body":"<p>In case you are using kotlin and reactive connection within a suspendable function, the code is:</p>\n<pre><code>suspend fun flushCache(): String {\n   return redisTemplate.connectionFactory.reactiveConnection.serverCommands().flushDb().awaitSingle()\n}\n</code></pre>\n"}],"owner":{"account_id":19267681,"reputation":330,"user_id":14082313,"display_name":"Shaheen Hyder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3006,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74557924,"answer_count":2,"score":0,"last_activity_date":1692264890,"creation_date":1669275203,"question_id":74557099,"body_markdown":"I am using Lettuce as Redis client for my Java Spring project. I am doing several operations with RedisTemplate. I&#39;m not able to delete all data from Redis using RedisTemplate.\r\n\r\nI tried\r\n\r\n```\r\nredisTemplate.delete(&quot;*&quot;)\r\n```\r\n\r\nHowever, this is not making any change.","title":"How to delete all data from Redis using RedisTemplate in java","body":"<p>I am using Lettuce as Redis client for my Java Spring project. I am doing several operations with RedisTemplate. I'm not able to delete all data from Redis using RedisTemplate.</p>\n<p>I tried</p>\n<pre><code>redisTemplate.delete(&quot;*&quot;)\n</code></pre>\n<p>However, this is not making any change.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":7,"creation_date":1366045203,"post_id":16020741,"comment_id":22851206,"body_markdown":"You have to loop I&#39;m afraid...","body":"You have to loop I&#39;m afraid..."},{"owner":{"account_id":1291937,"reputation":4814,"user_id":1243866,"accept_rate":100,"display_name":"Justin Bicknell"},"score":0,"creation_date":1366045295,"post_id":16020741,"comment_id":22851241,"body_markdown":"possible duplicate http://stackoverflow.com/questions/9128737/fastest-way-to-set-all-values-of-an-array","body":"possible duplicate <a href=\"http://stackoverflow.com/questions/9128737/fastest-way-to-set-all-values-of-an-array\" title=\"fastest way to set all values of an array\">stackoverflow.com/questions/9128737/&hellip;</a>"},{"owner":{"account_id":2554254,"reputation":6916,"user_id":2216621,"accept_rate":61,"display_name":"Rob Watts"},"score":0,"creation_date":1366045383,"post_id":16020741,"comment_id":22851275,"body_markdown":"Take a look at this question: http://stackoverflow.com/questions/3790142/java-equivalent-of-pythons-rangeint-int","body":"Take a look at this question: <a href=\"http://stackoverflow.com/questions/3790142/java-equivalent-of-pythons-rangeint-int\" title=\"java equivalent of pythons rangeint int\">stackoverflow.com/questions/3790142/&hellip;</a>"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1366045471,"post_id":16020741,"comment_id":22851333,"body_markdown":"Java 8 will have a lazy sequence for 1..99 and a functional fill. Not necessarily more efficient, but possibly.","body":"Java 8 will have a lazy sequence for 1..99 and a functional fill. Not necessarily more efficient, but possibly."},{"owner":{"account_id":2068338,"reputation":1277,"user_id":1843385,"accept_rate":60,"display_name":"Arnaldo Ignacio Gaspar V&#233;jar"},"score":1,"creation_date":1366045706,"post_id":16020741,"comment_id":22851417,"body_markdown":"Quick in computing time or coding ?","body":"Quick in computing time or coding ?"},{"owner":{"account_id":734409,"reputation":7338,"user_id":699559,"accept_rate":61,"display_name":"C graphics"},"score":0,"creation_date":1366046758,"post_id":16020741,"comment_id":22851932,"body_markdown":"@Arnaldo Gaspar , quick in coding I meant.","body":"@Arnaldo Gaspar , quick in coding I meant."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1366046980,"post_id":16020741,"comment_id":22852051,"body_markdown":"You can drop the `{` and `}` It&#39;s not something you need to do in Java very often so I can&#39;t imagine this being added as a feature soon.","body":"You can drop the <code>{</code> and <code>}</code> It&#39;s not something you need to do in Java very often so I can&#39;t imagine this being added as a feature soon."},{"owner":{"account_id":2085920,"reputation":4502,"user_id":1856922,"display_name":"Craig"},"score":0,"creation_date":1484324014,"post_id":16020741,"comment_id":70477408,"body_markdown":"Possible duplicate of [Fill arrays with ranges of numbers](http://stackoverflow.com/questions/3387373/fill-arrays-with-ranges-of-numbers)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/3387373/fill-arrays-with-ranges-of-numbers\">Fill arrays with ranges of numbers</a>"}],"answers":[{"tags":[],"owner":{"account_id":2500020,"reputation":328,"user_id":2175403,"display_name":"Andy B"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493312955,"creation_date":1366045478,"answer_id":16020807,"question_id":16020741,"body_markdown":"depending on the size you will have to loop, if its a small one you can do the following...\r\n\r\n    int[] intArray = new int[] {4,5,6,7,8};\r\n\r\nim guessing for your size you dont want to have to type it all out so makes sense to create a loop and set it that way\r\n\r\n","title":"shortest way of filling an array with 1,2...n","body":"<p>depending on the size you will have to loop, if its a small one you can do the following...</p>\n\n<pre><code>int[] intArray = new int[] {4,5,6,7,8};\n</code></pre>\n\n<p>im guessing for your size you dont want to have to type it all out so makes sense to create a loop and set it that way</p>\n"},{"tags":[],"owner":{"account_id":2639505,"reputation":77,"user_id":2283476,"display_name":"Nobal "},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1366045582,"creation_date":1366045582,"answer_id":16020830,"question_id":16020741,"body_markdown":"You must use loop to initialize such a long array. There is not a shortcut method in Java as you expected. ","title":"shortest way of filling an array with 1,2...n","body":"<p>You must use loop to initialize such a long array. There is not a shortcut method in Java as you expected. </p>\n"},{"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1366047503,"post_id":16020841,"comment_id":22852314,"body_markdown":"the `range` method is not part of guava and has been written using a loop in that answer. It does not help here.","body":"the <code>range</code> method is not part of guava and has been written using a loop in that answer. It does not help here."},{"owner":{"account_id":171404,"reputation":7897,"user_id":398797,"accept_rate":75,"display_name":"evgenyl"},"score":0,"creation_date":1366048031,"post_id":16020841,"comment_id":22852522,"body_markdown":"Probably you are right, i remember that ot was something like this, but took example from linked post as is","body":"Probably you are right, i remember that ot was something like this, but took example from linked post as is"}],"tags":[],"owner":{"account_id":171404,"reputation":7897,"user_id":398797,"accept_rate":75,"display_name":"evgenyl"},"comment_count":2,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1508136175,"creation_date":1366045616,"answer_id":16020841,"question_id":16020741,"body_markdown":"You can use Guava library, for something like this:\r\n\r\n    public class Test {\r\n\r\n    public static void main(String[] args) {\r\n        //one liner\r\n        int[] array = toArray(newLinkedList(concat(range(1, 10), range(500, 1000))));\r\n\r\n        //more readable\r\n        Iterable&lt;Integer&gt; values = concat(range(1, 10), range(500, 1000));\r\n        List&lt;Integer&gt; list = newLinkedList(values);\r\n        int[] array = toArray(list);\r\n\r\n    }\r\n\r\n    public static List&lt;Integer&gt; range(int min, int max) {\r\n        List&lt;Integer&gt; list = newLinkedList();\r\n        for (int i = min; i &lt;= max; i++) {\r\n            list.add(i);\r\n        }\r\n\r\n        return list;\r\n    }\r\n\r\n}\r\n\r\n**Updated**: full example take from this post https://stackoverflow.com/questions/3387373/fill-arrays-with-ranges-of-numbers","title":"shortest way of filling an array with 1,2...n","body":"<p>You can use Guava library, for something like this:</p>\n\n<pre><code>public class Test {\n\npublic static void main(String[] args) {\n    //one liner\n    int[] array = toArray(newLinkedList(concat(range(1, 10), range(500, 1000))));\n\n    //more readable\n    Iterable&lt;Integer&gt; values = concat(range(1, 10), range(500, 1000));\n    List&lt;Integer&gt; list = newLinkedList(values);\n    int[] array = toArray(list);\n\n}\n\npublic static List&lt;Integer&gt; range(int min, int max) {\n    List&lt;Integer&gt; list = newLinkedList();\n    for (int i = min; i &lt;= max; i++) {\n        list.add(i);\n    }\n\n    return list;\n}\n</code></pre>\n\n<p>}</p>\n\n<p><strong>Updated</strong>: full example take from this post <a href=\"https://stackoverflow.com/questions/3387373/fill-arrays-with-ranges-of-numbers\">Fill arrays with ranges of numbers</a></p>\n"},{"tags":[],"owner":{"account_id":2068338,"reputation":1277,"user_id":1843385,"accept_rate":60,"display_name":"Arnaldo Ignacio Gaspar V&#233;jar"},"comment_count":0,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1366045882,"creation_date":1366045882,"answer_id":16020902,"question_id":16020741,"body_markdown":"I think that your code is the **shortest** and the **simplest** way. You might dont need to load extra libraries to get more &quot;compact&quot; code lines. The **for** loops are very simple (a truly O(n)) and **legible**, live and love them.","title":"shortest way of filling an array with 1,2...n","body":"<p>I think that your code is the <strong>shortest</strong> and the <strong>simplest</strong> way. You might dont need to load extra libraries to get more \"compact\" code lines. The <strong>for</strong> loops are very simple (a truly O(n)) and <strong>legible</strong>, live and love them.</p>\n"},{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"comment_count":0,"down_vote_count":2,"up_vote_count":18,"is_accepted":true,"score":16,"last_activity_date":1556801075,"creation_date":1366047230,"answer_id":16021301,"question_id":16020741,"body_markdown":"Out of curiosity, I have tested the performance of two versions of that method - one with a loop and the other one using guava:\r\n\r\n    public int[] loop() {\r\n        int[] a = new int[100];\r\n        for (int i = 0; i &lt; 100; ++i) {\r\n            a[i] = i;\r\n        }\r\n        return a;\r\n    }\r\n\r\n    public int[] guava() {\r\n        Set&lt;Integer&gt; set = ContiguousSet.create(Range.closed(0, 99), DiscreteDomains.integers());\r\n        int[] a = Ints.toArray(set);\r\n        return a;\r\n    }\r\n\r\nHere are the results:\r\n\r\n    Benchmark     Mean     Mean error          Var    Units\r\n    loop        79.913          5.671       30.447  nsec/op\r\n    guava      814.753         46.359     2034.726  nsec/op\r\n\r\nSo the `guava()` method runs in 814 ns +/- 46ns vs. 80 ns +/- 5ns for the `loop()` method. So `loop()` is about 10x faster. If you call that method a few times, the 800 nanoseconds don&#39;t matter, if you call it very often, writing the loop is probably better.","title":"shortest way of filling an array with 1,2...n","body":"<p>Out of curiosity, I have tested the performance of two versions of that method - one with a loop and the other one using guava:</p>\n\n<pre><code>public int[] loop() {\n    int[] a = new int[100];\n    for (int i = 0; i &lt; 100; ++i) {\n        a[i] = i;\n    }\n    return a;\n}\n\npublic int[] guava() {\n    Set&lt;Integer&gt; set = ContiguousSet.create(Range.closed(0, 99), DiscreteDomains.integers());\n    int[] a = Ints.toArray(set);\n    return a;\n}\n</code></pre>\n\n<p>Here are the results:</p>\n\n<pre><code>Benchmark     Mean     Mean error          Var    Units\nloop        79.913          5.671       30.447  nsec/op\nguava      814.753         46.359     2034.726  nsec/op\n</code></pre>\n\n<p>So the <code>guava()</code> method runs in 814 ns +/- 46ns vs. 80 ns +/- 5ns for the <code>loop()</code> method. So <code>loop()</code> is about 10x faster. If you call that method a few times, the 800 nanoseconds don't matter, if you call it very often, writing the loop is probably better.</p>\n"},{"comments":[{"owner":{"display_name":"user3458"},"score":0,"creation_date":1501273390,"post_id":32436420,"comment_id":77725187,"body_markdown":"Arrays.setAll() is a much better way","body":"Arrays.setAll() is a much better way"}],"tags":[],"owner":{"account_id":2173846,"reputation":1923,"user_id":1925060,"accept_rate":86,"display_name":"chao"},"comment_count":1,"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1500189642,"creation_date":1441621536,"answer_id":32436420,"question_id":16020741,"body_markdown":"Java 8 allows to do that in one line with `IntStream` object and lambda expression:\r\n\r\n    int n = 10;\r\n    int[] values = new int[n];\r\n    IntStream.range(1,n+1).forEach(val -&gt; values[val-1] = val);","title":"shortest way of filling an array with 1,2...n","body":"<p>Java 8 allows to do that in one line with <code>IntStream</code> object and lambda expression:</p>\n\n<pre><code>int n = 10;\nint[] values = new int[n];\nIntStream.range(1,n+1).forEach(val -&gt; values[val-1] = val);\n</code></pre>\n"},{"comments":[{"owner":{"display_name":"user3458"},"score":0,"creation_date":1501273365,"post_id":40554920,"comment_id":77725182,"body_markdown":"Arrays.setAll() is a much better way.","body":"Arrays.setAll() is a much better way."},{"owner":{"account_id":6761181,"reputation":1249,"user_id":5207900,"display_name":"Marteng"},"score":1,"creation_date":1521041618,"post_id":40554920,"comment_id":85566167,"body_markdown":"@Arkadiy might be a matter of taste but IMHO using `IntStream#toArray` is much better to read than `Arrays#setAll`.","body":"@Arkadiy might be a matter of taste but IMHO using <code>IntStream#toArray</code> is much better to read than <code>Arrays#setAll</code>."},{"owner":{"account_id":1806033,"reputation":1137,"user_id":1643109,"accept_rate":100,"display_name":"Pravin"},"score":0,"creation_date":1554774434,"post_id":40554920,"comment_id":97865860,"body_markdown":"Is there any way to create an array of User-defined classes? in same fashion we have created `int[] a`","body":"Is there any way to create an array of User-defined classes? in same fashion we have created <code>int[] a</code>"},{"owner":{"account_id":3764070,"reputation":1476,"user_id":3128069,"accept_rate":53,"display_name":"phillipsK"},"score":3,"creation_date":1554896156,"post_id":40554920,"comment_id":97917233,"body_markdown":"The `.rangeClosed` method is inclusive, filling the array to 100 elements `int[] a = IntStream.rangeClosed(1, 100).toArray();` https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html","body":"The <code>.rangeClosed</code> method is inclusive, filling the array to 100 elements <code>int[] a = IntStream.rangeClosed(1, 100).toArray();</code> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/stream/&hellip;</a>"},{"owner":{"account_id":7328849,"reputation":101,"user_id":5768073,"accept_rate":25,"display_name":"Abu Nayem"},"score":0,"creation_date":1606147753,"post_id":40554920,"comment_id":114866468,"body_markdown":"Minimum API level is 24? &#128580;","body":"Minimum API level is 24? 🙄"}],"tags":[],"owner":{"account_id":205757,"reputation":6428,"user_id":454667,"accept_rate":91,"display_name":"Bachi"},"comment_count":5,"down_vote_count":1,"up_vote_count":122,"is_accepted":false,"score":121,"last_activity_date":1478893813,"creation_date":1478892662,"answer_id":40554920,"question_id":16020741,"body_markdown":"Since **Java 8** this is possible:\r\n\r\n    int[] a = IntStream.range(1, 100).toArray();\r\n\r\n(And shorter than the other java 8 answer .).","title":"shortest way of filling an array with 1,2...n","body":"<p>Since <strong>Java 8</strong> this is possible:</p>\n\n<pre><code>int[] a = IntStream.range(1, 100).toArray();\n</code></pre>\n\n<p>(And shorter than the other java 8 answer .).</p>\n"},{"comments":[{"owner":{"account_id":7651254,"reputation":1257,"user_id":6743127,"accept_rate":100,"display_name":"Fabian R&#246;ling"},"score":2,"creation_date":1515164492,"post_id":43664076,"comment_id":83208389,"body_markdown":"How is the performance of this compared to the accepted answer?","body":"How is the performance of this compared to the accepted answer?"}],"tags":[],"owner":{"account_id":1510989,"reputation":21746,"user_id":1413133,"display_name":"Manos Nikolaidis"},"comment_count":1,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1507232781,"creation_date":1493313132,"answer_id":43664076,"question_id":16020741,"body_markdown":"Another alternative if you use Java 8:\r\n\r\n    int[] array = new int[100];\r\n    Arrays.setAll(array, i -&gt; i + 1);\r\n\r\nThe lambda expression accepts the index of the cell, and returns a value to put in that cell. In this case, cells 0 - 99 are assigned the values 1-100.","title":"shortest way of filling an array with 1,2...n","body":"<p>Another alternative if you use Java 8:</p>\n\n<pre><code>int[] array = new int[100];\nArrays.setAll(array, i -&gt; i + 1);\n</code></pre>\n\n<p>The lambda expression accepts the index of the cell, and returns a value to put in that cell. In this case, cells 0 - 99 are assigned the values 1-100.</p>\n"},{"tags":[],"owner":{"account_id":25205910,"reputation":11,"user_id":19044266,"display_name":"smallTrogdor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668614541,"creation_date":1668614541,"answer_id":74463647,"question_id":16020741,"body_markdown":"If people **do** want to use the for-loop method, then you could shorten it to (side note):\r\n```\r\nint [] a = new int[100];\r\nfor (int i = 0; i &lt; 100; a[i] = i++);\r\n```","title":"shortest way of filling an array with 1,2...n","body":"<p>If people <strong>do</strong> want to use the for-loop method, then you could shorten it to (side note):</p>\n<pre><code>int [] a = new int[100];\nfor (int i = 0; i &lt; 100; a[i] = i++);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4946242,"reputation":1,"user_id":5122100,"display_name":"Gerd Streubel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692264770,"creation_date":1692264770,"answer_id":76920216,"question_id":16020741,"body_markdown":"In case someone is not able to use java 8+, here is a solution with Google Guava:\r\n\r\n    Long[] value = ContiguousSet.create(Range.closed(0L, 23L), DiscreteDomain.longs())\r\n    .toArray(new Long[0]);\r\n\r\n","title":"shortest way of filling an array with 1,2...n","body":"<p>In case someone is not able to use java 8+, here is a solution with Google Guava:</p>\n<pre><code>Long[] value = ContiguousSet.create(Range.closed(0L, 23L), DiscreteDomain.longs())\n.toArray(new Long[0]);\n</code></pre>\n"}],"owner":{"account_id":734409,"reputation":7338,"user_id":699559,"accept_rate":61,"display_name":"C graphics"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101908,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"accepted_answer_id":16021301,"answer_count":10,"score":52,"last_activity_date":1692264770,"creation_date":1366045180,"question_id":16020741,"body_markdown":"Is there anything as quick as this in java? ( quick in coding) \r\n\r\n    int [] a = {1..99};\r\nor I have to go for this:\r\n\r\n    int [] a=new int[100];\r\n    for (int i=0;i &lt;100;++i){\r\n    a[i]=i;\r\n    }\r\n\r\n\r\n\r\n","title":"shortest way of filling an array with 1,2...n","body":"<p>Is there anything as quick as this in java? ( quick in coding) </p>\n\n<pre><code>int [] a = {1..99};\n</code></pre>\n\n<p>or I have to go for this:</p>\n\n<pre><code>int [] a=new int[100];\nfor (int i=0;i &lt;100;++i){\na[i]=i;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","oauth-2.0","spring-security-oauth2","spring-oauth2"],"comments":[{"owner":{"account_id":13990337,"reputation":162,"user_id":10104445,"display_name":"Jack Branch"},"score":0,"creation_date":1688719210,"post_id":76635241,"comment_id":135114373,"body_markdown":"Do you need a scope for this, its usually set as the resource url (auth url for you probably) with /.default on the end, eg authUrl/.default.\nThat worked for me with azure resources before\nAlso try hitting the url in insomnia / postman client with those set as params and check that also","body":"Do you need a scope for this, its usually set as the resource url (auth url for you probably) with /.default on the end, eg authUrl/.default. That worked for me with azure resources before Also try hitting the url in insomnia / postman client with those set as params and check that also"},{"owner":{"account_id":16400754,"reputation":21,"user_id":11846802,"display_name":"Maveric"},"score":0,"creation_date":1688719737,"post_id":76635241,"comment_id":135114461,"body_markdown":"@JackBranch scope is empty in postman","body":"@JackBranch scope is empty in postman"},{"owner":{"account_id":13990337,"reputation":162,"user_id":10104445,"display_name":"Jack Branch"},"score":0,"creation_date":1688720075,"post_id":76635241,"comment_id":135114523,"body_markdown":"For me it was just a pram called scope within the request you send, i think you have to send it in your request like so scope=myurl/.default.\nThis was the case for ad login, graph login etc for me","body":"For me it was just a pram called scope within the request you send, i think you have to send it in your request like so scope=myurl/.default. This was the case for ad login, graph login etc for me"},{"owner":{"account_id":16400754,"reputation":21,"user_id":11846802,"display_name":"Maveric"},"score":0,"creation_date":1688721087,"post_id":76635241,"comment_id":135114702,"body_markdown":"no luck still same error","body":"no luck still same error"}],"owner":{"account_id":16400754,"reputation":21,"user_id":11846802,"display_name":"Maveric"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692264670,"creation_date":1688718799,"question_id":76635241,"body_markdown":"Hi have these below details which are working fine from Postman but I need to retrieve the Oauth2 token from Java.\r\n\r\n 1. ClientId : clientid-abcd-bcda-xxxx-bbbbc-bbbbsjhk\r\n 2. clientsecret: client-secret-xxxx-bgdj-jbkjg-dddff\r\n 3. callbackurl:https://somecalbackurl.to.access.receive.an.authorization.code\r\n 4. accesstokenUlr: https://some AccessToken Url Url\r\n 5. AuthUrl: https://somAuthUrl\r\n 6. Service AccUserName &amp; Password\r\n\r\n   \r\n\r\n   public static void main(String[] args) throws OAuthProblemException { \r\n\r\n    String clientId = &quot;clientid-abcd-bcda-xxxx-bbbbc-bbbbsjhk&quot;;\r\n    String clientSecret = &quot;client-secret-xxxx-bgdj-jbkjg-dddff &quot;;\r\n    String accessTokenUrl = &quot;https://someaccess.token/guhns87-abcd-3000-b245-62c1d05/oauth2/&quot;;\r\n    String authUrl = &quot;https://someauthurl/4866523-62c1d05b6b3a/oauth2/&quot;;\r\n    String callbackUrl = &quot;https://callbackurl.com/&quot;;   \r\n    \r\n String encodedValue = getBase64Encoded(clientId, clientSecret);\r\n    \r\n    OAuthClient client = new OAuthClient(new URLConnectionClient());\r\n    try {\r\n        OAuthClientRequest request = \r\n               OAuthClientRequest.tokenLocation(accessTokenUrl)\r\n               .setGrantType(GrantType.AUTHORIZATION_CODE)                 \r\n               .setRedirectURI(&quot;callbackurl&quot;)                  \r\n               .buildBodyMessage();\r\n        \r\n        request.addHeader(&quot;Authorization&quot;, &quot;Basic &quot;+ encodedValue);\r\n        //OAuthClientRequest.authorizationProvider(OAuthProviderType.MICROSOFT);\r\n        \r\n        OAuthJSONAccessTokenResponse token = client.accessToken(request,OAuth.HttpMethod.POST,OAuthJSONAccessTokenResponse.class);\r\n        String finalToken=token.getAccessToken();\r\n        \r\n     System.out.println(finalToken);\r\n     \r\n    } catch (OAuthSystemException e) {\r\n        // TODO Auto-generated catch block\r\n        e.printStackTrace();\r\n    }   \r\n}\r\npublic static String getBase64Encoded(String id,String password) {\r\n     return Base64.getEncoder().encodeToString((id +&quot;:&quot;+ password).getBytes(StandardCharsets.UTF_8));\r\n}\r\n\r\nFrom this above I need to retrieve Access token and used to call to further API with credentials to get the data. but facing error as below\r\n\r\nuri=&#39;https://somewhere.net/error?code=900144&#39;, state=&#39;null&#39;, scope=&#39;null&#39;, redirectUri=&#39;null&#39;, responseStatus=400, parameters={}}\r\n\r\nnot sure where I am missing.","title":"Trying to get OAuth2 token from Azure server from Java","body":"<p>Hi have these below details which are working fine from Postman but I need to retrieve the Oauth2 token from Java.</p>\n<ol>\n<li>ClientId : clientid-abcd-bcda-xxxx-bbbbc-bbbbsjhk</li>\n<li>clientsecret: client-secret-xxxx-bgdj-jbkjg-dddff</li>\n<li>callbackurl:<a href=\"https://somecalbackurl.to.access.receive.an.authorization.code\" rel=\"nofollow noreferrer\">https://somecalbackurl.to.access.receive.an.authorization.code</a></li>\n<li>accesstokenUlr: https://some AccessToken Url Url</li>\n<li>AuthUrl: https://somAuthUrl</li>\n<li>Service AccUserName &amp; Password</li>\n</ol>\n<p>public static void main(String[] args) throws OAuthProblemException {</p>\n<pre><code>String clientId = &quot;clientid-abcd-bcda-xxxx-bbbbc-bbbbsjhk&quot;;\nString clientSecret = &quot;client-secret-xxxx-bgdj-jbkjg-dddff &quot;;\nString accessTokenUrl = &quot;https://someaccess.token/guhns87-abcd-3000-b245-62c1d05/oauth2/&quot;;\nString authUrl = &quot;https://someauthurl/4866523-62c1d05b6b3a/oauth2/&quot;;\nString callbackUrl = &quot;https://callbackurl.com/&quot;;   \n</code></pre>\n<p>String encodedValue = getBase64Encoded(clientId, clientSecret);</p>\n<pre><code>OAuthClient client = new OAuthClient(new URLConnectionClient());\ntry {\n    OAuthClientRequest request = \n           OAuthClientRequest.tokenLocation(accessTokenUrl)\n           .setGrantType(GrantType.AUTHORIZATION_CODE)                 \n           .setRedirectURI(&quot;callbackurl&quot;)                  \n           .buildBodyMessage();\n    \n    request.addHeader(&quot;Authorization&quot;, &quot;Basic &quot;+ encodedValue);\n    //OAuthClientRequest.authorizationProvider(OAuthProviderType.MICROSOFT);\n    \n    OAuthJSONAccessTokenResponse token = client.accessToken(request,OAuth.HttpMethod.POST,OAuthJSONAccessTokenResponse.class);\n    String finalToken=token.getAccessToken();\n    \n System.out.println(finalToken);\n \n} catch (OAuthSystemException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}   \n</code></pre>\n<p>}\npublic static String getBase64Encoded(String id,String password) {\nreturn Base64.getEncoder().encodeToString((id +&quot;:&quot;+ password).getBytes(StandardCharsets.UTF_8));\n}</p>\n<p>From this above I need to retrieve Access token and used to call to further API with credentials to get the data. but facing error as below</p>\n<p>uri='https://somewhere.net/error?code=900144', state='null', scope='null', redirectUri='null', responseStatus=400, parameters={}}</p>\n<p>not sure where I am missing.</p>\n"},{"tags":["java","eclipse","selenium-webdriver"],"comments":[{"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":1,"creation_date":1692259801,"post_id":76918362,"comment_id":135599799,"body_markdown":"Can you edit the question and share your code please?","body":"Can you edit the question and share your code please?"},{"owner":{"account_id":1437244,"reputation":1134,"user_id":1358344,"accept_rate":100,"display_name":"Berkay Kirmizioglu"},"score":0,"creation_date":1692283464,"post_id":76918362,"comment_id":135604804,"body_markdown":"The error message you are seeing clearly states the problem: The path to the driver executable must be set by the webdriver.chrome.driver system property","body":"The error message you are seeing clearly states the problem: The path to the driver executable must be set by the webdriver.chrome.driver system property"}],"answers":[{"tags":[],"owner":{"account_id":12503014,"reputation":130,"user_id":9100818,"display_name":"Kafarson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692253187,"creation_date":1692253187,"answer_id":76918905,"question_id":76918362,"body_markdown":"You have an information about error in stackTrace, \r\ncheck [Chrome driver - getting started][1]\r\nbecause I think you dont have configured chrome driver for Selenium as previous speaker said.\r\n\r\n\r\n  [1]: https://chromedriver.chromium.org/getting-started","title":"This error appears when I run selenium script in eclipse. How to resolve this?","body":"<p>You have an information about error in stackTrace,\ncheck <a href=\"https://chromedriver.chromium.org/getting-started\" rel=\"nofollow noreferrer\">Chrome driver - getting started</a>\nbecause I think you dont have configured chrome driver for Selenium as previous speaker said.</p>\n"}],"owner":{"account_id":29241132,"reputation":1,"user_id":22402633,"display_name":"Nishant S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1692264446,"creation_date":1692244211,"question_id":76918362,"body_markdown":"When I run Selenium script this error is appeared.\r\n\r\n    WARNING: Unable to obtain driver using Selenium Manager: Error running command: [C:\\Users\\Acer\\AppData\\Local\\Temp\\selenium-manager15855651361320015355641543438297284\\selenium-manager.exe, --driver, chromedriver] Build info: version: &#39;4.6.0&#39;, revision: &#39;79f1c02ae20&#39; System info: os.name: &#39;Windows 11&#39;\r\n    Exception in thread &quot;main&quot; java.lang.IllegalStateException: The path to the driver executable The path to the driver executable must be set by the webdriver.chrome.driver system property; for more information, see https://chromedriver.chromium.org/. The latest version can be downloaded from https://chromedriver.chromium.org/downloads\r\n    \tat org.openqa.selenium.internal.Require$StateChecker.nonNull(Require.java:314)\r\n    \tat org.openqa.selenium.remote.service.DriverService.findExecutable(DriverService.java:148)\r\n    \tat org.openqa.selenium.chrome.ChromeDriverService.access$000(ChromeDriverService.java:39)\r\n    \tat org.openqa.selenium.chrome.ChromeDriverService$Builder.findDefaultExecutable(ChromeDriverService.java:233)\r\n    \tat org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:450)\r\n    \tat org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:128)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:49)\r\n    \tat basics.Test1.main(Test1.java:10)\r\n\r\n\r\n","title":"This error appears when I run selenium script in eclipse. How to resolve this?","body":"<p>When I run Selenium script this error is appeared.</p>\n<pre><code>WARNING: Unable to obtain driver using Selenium Manager: Error running command: [C:\\Users\\Acer\\AppData\\Local\\Temp\\selenium-manager15855651361320015355641543438297284\\selenium-manager.exe, --driver, chromedriver] Build info: version: '4.6.0', revision: '79f1c02ae20' System info: os.name: 'Windows 11'\nException in thread &quot;main&quot; java.lang.IllegalStateException: The path to the driver executable The path to the driver executable must be set by the webdriver.chrome.driver system property; for more information, see https://chromedriver.chromium.org/. The latest version can be downloaded from https://chromedriver.chromium.org/downloads\n    at org.openqa.selenium.internal.Require$StateChecker.nonNull(Require.java:314)\n    at org.openqa.selenium.remote.service.DriverService.findExecutable(DriverService.java:148)\n    at org.openqa.selenium.chrome.ChromeDriverService.access$000(ChromeDriverService.java:39)\n    at org.openqa.selenium.chrome.ChromeDriverService$Builder.findDefaultExecutable(ChromeDriverService.java:233)\n    at org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:450)\n    at org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:128)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:49)\n    at basics.Test1.main(Test1.java:10)\n</code></pre>\n"},{"tags":["java","visual-studio-code","cursor","execution","typing"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1692255927,"post_id":76917866,"comment_id":135599151,"body_markdown":"What extensions do you have installed? Can you show your full interface and your user and workspace settings?","body":"What extensions do you have installed? Can you show your full interface and your user and workspace settings?"},{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":1,"creation_date":1692268576,"post_id":76917866,"comment_id":135601509,"body_markdown":"Welcome! Please copy and paste the output of the `Help: About` command (run in [the command palette](//code.visualstudio.com/docs/getstarted/userinterface#_command-palette)) into your question post. Does this happen when you reload VS Code with extensions disabled (use the `Developer: Reload With Extensions Disabled` command in the command palette)? If not, then do an [extension bisect](//code.visualstudio.com/blogs/2021/02/16/extension-bisect) to figure out what extension is causing it.","body":"Welcome! Please copy and paste the output of the <code>Help: About</code> command (run in <a href=\"//code.visualstudio.com/docs/getstarted/userinterface#_command-palette\" rel=\"nofollow noreferrer\">the command palette</a>) into your question post. Does this happen when you reload VS Code with extensions disabled (use the <code>Developer: Reload With Extensions Disabled</code> command in the command palette)? If not, then do an <a href=\"//code.visualstudio.com/blogs/2021/02/16/extension-bisect\" rel=\"nofollow noreferrer\">extension bisect</a> to figure out what extension is causing it."}],"answers":[{"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1692268625,"post_id":76918867,"comment_id":135601525,"body_markdown":"for this kind of suggestion, I&#39;d probably dup-vote instead of answering. see the &quot;flag&quot; button.","body":"for this kind of suggestion, I&#39;d probably dup-vote instead of answering. see the &quot;flag&quot; button."}],"tags":[],"owner":{"account_id":29233860,"reputation":35,"user_id":22396895,"display_name":"icyknight"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692252494,"creation_date":1692252494,"answer_id":76918867,"question_id":76917866,"body_markdown":"Check to see if you have the [VIM](https://marketplace.visualstudio.com/items?itemName=vscodevim.vim) extension installed, this extension has reportedly been known to cause the &#39;overtype&#39; symptom that your image displays.\r\n\r\nSee [this](https://stackoverflow.com/questions/67230920/vs-code-cursor-getting-in-insert-mode) answer or [even here](https://stackoverflow.com/questions/67981861/vs-code-cursor-keep-going-into-overtype-mode/72617523#72617523). \r\n\r\nIn both of these references, the solution has been to uninstall the extension.","title":"My cursor isn&#39;t functioning properly on VS Code. I&#39;m unable to type anything, and I&#39;m using a MacBook Air","body":"<p>Check to see if you have the <a href=\"https://marketplace.visualstudio.com/items?itemName=vscodevim.vim\" rel=\"nofollow noreferrer\">VIM</a> extension installed, this extension has reportedly been known to cause the 'overtype' symptom that your image displays.</p>\n<p>See <a href=\"https://stackoverflow.com/questions/67230920/vs-code-cursor-getting-in-insert-mode\">this</a> answer or <a href=\"https://stackoverflow.com/questions/67981861/vs-code-cursor-keep-going-into-overtype-mode/72617523#72617523\">even here</a>.</p>\n<p>In both of these references, the solution has been to uninstall the extension.</p>\n"}],"owner":{"account_id":29000725,"reputation":1,"user_id":22214313,"display_name":"Anusha Venkat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1692264218,"creation_date":1692233874,"question_id":76917866,"body_markdown":"My cursor isn&#39;t functioning properly on VS Code and I&#39;m not able to type anything. Can someone help? For context, I&#39;m using a MacBook Air. \r\n\r\n(https://i.stack.imgur.com/jipTh.png)\r\n\r\nI tried restarting VS Code and it&#39;s still the same, I haven&#39;t faced this problem before so I&#39;m not quite sure how to approach it. ","title":"My cursor isn&#39;t functioning properly on VS Code. I&#39;m unable to type anything, and I&#39;m using a MacBook Air","body":"<p>My cursor isn't functioning properly on VS Code and I'm not able to type anything. Can someone help? For context, I'm using a MacBook Air.</p>\n<p>(<a href=\"https://i.stack.imgur.com/jipTh.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/jipTh.png</a>)</p>\n<p>I tried restarting VS Code and it's still the same, I haven't faced this problem before so I'm not quite sure how to approach it.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9891,"page":243,"page_size":100}
