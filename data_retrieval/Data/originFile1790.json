{"items":[{"tags":["java","kotlin","stack-overflow"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":3,"creation_date":1638742997,"post_id":70238988,"comment_id":124163336,"body_markdown":"The `contactPoints` getter calls itself by referencing `contactPoints` so it is infinitely calling itself recursively.","body":"The <code>contactPoints</code> getter calls itself by referencing <code>contactPoints</code> so it is infinitely calling itself recursively."},{"owner":{"account_id":7996591,"reputation":43,"user_id":6914417,"display_name":"Kushagra Kumar"},"score":0,"creation_date":1638760952,"post_id":70238988,"comment_id":124166157,"body_markdown":"@Tenfour04 are you referencing to `mainSubscriber.contactPoints = contactPoints`?","body":"@Tenfour04 are you referencing to <code>mainSubscriber.contactPoints = contactPoints</code>?"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1638762561,"post_id":70238988,"comment_id":124166401,"body_markdown":"No I’m talking about the code inside your getter for `contactPoints`. Look at its last three lines.","body":"No I’m talking about the code inside your getter for <code>contactPoints</code>. Look at its last three lines."}],"owner":{"account_id":7996591,"reputation":43,"user_id":6914417,"display_name":"Kushagra Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":277,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1638742272,"creation_date":1638742272,"question_id":70238988,"body_markdown":"I am trying to do mapping between the properties of multiple data classes (as shown below) but getting `java.lang.StackOverflowError: stack size 8MB`:\r\n\r\n    2021-12-04 00:37:22.801 com.abcE/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.sxm.nissan.connect.mx, PID: 15025\r\n        java.lang.StackOverflowError: stack size 8MB\r\n            at java.util.Arrays.copyOf(Arrays.java:3109)\r\n            at java.util.ArrayList.grow(ArrayList.java:275)\r\n            at java.util.ArrayList.ensureExplicitCapacity(ArrayList.java:249)\r\n            at java.util.ArrayList.ensureCapacityInternal(ArrayList.java:241)\r\n            at java.util.ArrayList.add(ArrayList.java:467)\r\n            at com.abc.UserDetailResponse.getContactPoints(UserDetailResponse.kt:59)\r\n            at com.abc.UserDetailResponse.getContactPoints(UserDetailResponse.kt:68)\r\n            at com.abc.UserDetailResponse.getContactPoints(UserDetailResponse.kt:68)\r\n    \r\n    2021-12-04 00:37:22.802 com.abcI/zygote: Background concurrent copying GC freed 1562(103KB) AllocSpace objects, 0(0B) LOS objects, 8% free, 68MB/74MB, paused 538us total 511.886ms\r\n    2021-12-04 00:37:22.804 com.abcE/AndroidRuntime:     at com.abc.UserDetailResponse.getContactPoints(UserDetailResponse.kt:68)\r\n            at com.abc.UserDetailResponse.getContactPoints(UserDetailResponse.kt:68)\r\n    2021-12-04 00:37:23.178 com.abcI/zygote: Background concurrent copying GC freed 678273(35MB) AllocSpace objects, 1(1344KB) LOS objects, 10% free, 53MB/59MB, paused 486us total 339.741ms\r\n    2021-12-04 00:37:23.937 com.abcI/chatty: uid=10142(u0_a142) com.abcidentical 5303 lines\r\n    2021-12-04 00:37:23.937 com.abcE/AndroidRuntime:     at com.abc.UserDetailResponse.getContactPoints(UserDetailResponse.kt:68)\r\n            at  com.abc.UserDetailResponse.getContactPoints(UserDetailResponse.kt:68)\r\n    2021-12-04 00:37:23.937 com.abcE/AndroidRuntime:     at com.abc.UserDetailResponse.getMainSubscriber(UserDetailResponse.kt:86)\r\n            at com.abc.presenter.onUserDetailSuccess(AccountDetailPresenter.java:282)\r\n            at com.abc.model.UserDetailServiceImpl.handleResponse(UserDetailServiceImpl.kt:50)\r\n            at com.abc.model.UserDetailServiceImpl.handleResponse(UserDetailServiceImpl.kt:20)\r\n            at com.sxm.connect.shared.model.util.SXMTelematicsService$1.success(SXMTelematicsService.java:62)\r\n            at retrofit.CallbackRunnable$1.run(CallbackRunnable.java:45)\r\n            at android.os.Handler.handleCallback(Handler.java:789)\r\n            at android.os.Handler.dispatchMessage(Handler.java:98)\r\n            at android.os.Looper.loop(Looper.java:164)\r\n            at android.app.ActivityThread.main(ActivityThread.java:6541)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\r\n\r\nHere are the files:\r\n\r\n **UserDetailResponse.kt**\r\n\r\n    data class UserInfoResponse(\r\n            val id: String,\r\n            val accountType: String,\r\n            val alternatePhone: String,\r\n            val alternatePhoneType: String,\r\n            val billingCity: String,\r\n            val billingCountry: String,\r\n            val billingId: String,\r\n            val billingPostalAddress1: String,\r\n            val billingPostalAddress2: String,\r\n            val billingPostalCode: String,\r\n            val billingStateProvince: String,\r\n            val currency: String,\r\n            val effectiveRoles: List&lt;EffectiveRole&gt;,\r\n            val givenName: String,\r\n            val mailingCity: String,\r\n            val mailingCountry: String,\r\n            val mailingPostalAddress1: String,\r\n            val mailingPostalAddress2: String,\r\n            val mailingPostalCode: String,\r\n            val mailingStateProvince: String,\r\n            val primaryPhone: String,\r\n            val primaryPhoneType: String,\r\n            val secondaryPhone: String,\r\n            val secondaryPhoneType: String,\r\n            val suffix: String,\r\n            val surname: String,\r\n            val userName: String,\r\n            val vehicles: List&lt;Vehicle&gt;,\r\n    ) {\r\n            val contactPoints: ContactPoints\r\n                    get() = run {\r\n                            var address = Address()\r\n                            val addressList = arrayListOf&lt;Address&gt;()\r\n                            address.id = id\r\n                            address.street = billingPostalAddress1\r\n                            address.addressLine1 = billingPostalAddress1\r\n                            address.city = billingCity\r\n                            address.state = billingStateProvince\r\n                            address.postalCode = billingPostalCode\r\n                            address.country = billingCountry\r\n                            addressList.add(address)\r\n                            address = Address()\r\n                            address.id = id\r\n                            address.street = mailingPostalAddress1\r\n                            address.city = mailingCity\r\n                            address.state = mailingStateProvince\r\n                            address.postalCode = mailingPostalCode\r\n                            address.country = mailingCountry\r\n                            addressList.add(address)\r\n                            contactPoints.addresses = addressList\r\n    \r\n                            var phone = Phone()\r\n                            val phoneList = arrayListOf&lt;Phone&gt;()\r\n                            phone.value = primaryPhone\r\n                            phoneList.add(phone)\r\n                            phone = Phone()\r\n                            phone.value = primaryPhone\r\n                            phoneList.add(phone)\r\n                            contactPoints.phones = phoneList\r\n                            contactPoints\r\n                    }\r\n    \r\n            val mainSubscriber: MainSubscriber\r\n                    get() = run {\r\n                            mainSubscriber.firstName = givenName\r\n                            mainSubscriber.lastName = surname\r\n                            mainSubscriber.contactPoints = contactPoints\r\n                            mainSubscriber\r\n                    }\r\n    }\r\n\r\n **ContactPoints.java**\r\n\r\n    public class ContactPoints implements Parcelable {\r\n      private List&lt;Phone&gt; phones = null;\r\n      private List&lt;Email&gt; emails = null;\r\n      private List&lt;Address&gt; addresses = null;\r\n    \r\n      public List&lt;Phone&gt; getPhones() {\r\n        return phones;\r\n      }\r\n    \r\n      public void setPhones(List&lt;Phone&gt; phones) {\r\n        this.phones = phones;\r\n      }\r\n    \r\n      public List&lt;Email&gt; getEmails() {\r\n        return emails;\r\n      }\r\n    \r\n      public void setEmails(List&lt;Email&gt; emails) {\r\n        this.emails = emails;\r\n      }\r\n    \r\n      public List&lt;Address&gt; getAddresses() {\r\n        return addresses;\r\n      }\r\n    \r\n      public void setAddresses(List&lt;Address&gt; addresses) {\r\n        this.addresses = addresses;\r\n      }\r\n    }\r\n\r\n **Address.java**\r\n\r\n    public class Address implements Parcelable {\r\n\r\n      private String id;\r\n  \r\n      private String street;\r\n   \r\n      private String name;\r\n \r\n      private String state;\r\n \r\n      private String addressLine2;\r\n\r\n      private String country;\r\n\r\n      private String city;\r\n    \r\n      private String region;\r\n\r\n      private String addressLine1;\r\n\r\n      public void setPostalCode(String postalCode) {\r\n        this.postalCode = postalCode;\r\n      }\r\n\r\n      public void setSubRegion(String subRegion) {\r\n        this.subRegion = subRegion;\r\n      }\r\n  \r\n      public void setStreet(String street) {\r\n        this.street = street;\r\n      }\r\n\r\n      public void setState(String state) {\r\n        this.state = state;\r\n      }\r\n    \r\n      public void setAddressLine2(String addressLine2) {\r\n        this.addressLine2 = addressLine2;\r\n      }\r\n\r\n      public void setCountry(String country) {\r\n        this.country = country;\r\n      }\r\n    \r\n      public void setCity(String city) {\r\n        this.city = city;\r\n      }\r\n    \r\n    \r\n      public void setId(String id) {\r\n        this.id = id;\r\n      }\r\n    \r\n    \r\n      public void setName(String name) {\r\n        this.name = name;\r\n      }\r\n    \r\n    \r\n      public void setType(String type) {\r\n        this.type = type;\r\n      }\r\n    \r\n    \r\n    \r\n      public String getId() {\r\n        return id;\r\n      }\r\n    \r\n    \r\n    \r\n      public String getState() {\r\n        return state;\r\n      }\r\n    \r\n    \r\n      public String getType() {\r\n        return type;\r\n      }\r\n    \r\n    \r\n      public String getAddressLine2() {\r\n        return addressLine2;\r\n      }\r\n    \r\n    \r\n    \r\n      public String getCity() {\r\n        return city;\r\n      }\r\n    \r\n    \r\n    \r\n      public String getCountry() {\r\n        return country;\r\n      }\r\n    \r\n      public String getRegion() {\r\n        return region;\r\n      }\r\n    \r\n      public void setRegion(String region) {\r\n        this.region = region;\r\n      }\r\n    \r\n      public String getAddressLine1() {\r\n        return addressLine1;\r\n      }\r\n    \r\n      public void setAddressLine1(String addressLine1) {\r\n        this.addressLine1 = addressLine1;\r\n      }\r\n    \r\n      public Address() {\r\n      }\r\n\r\n\r\nThese are the lines corresponding to the errors:\r\n\r\n&gt;         at com.abc.UserDetailResponse.getContactPoints(UserDetailResponse.kt:59) : address.id = id\r\n\r\n&gt;         at com.abc.UserDetailResponse.getContactPoints(UserDetailResponse.kt:68) : var phone = Phone()\r\n\r\n","title":"How to resolve StackOverflowError while mapping properties in Kotlin data class?","body":"<p>I am trying to do mapping between the properties of multiple data classes (as shown below) but getting <code>java.lang.StackOverflowError: stack size 8MB</code>:</p>\n<pre><code>2021-12-04 00:37:22.801 com.abcE/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.sxm.nissan.connect.mx, PID: 15025\n    java.lang.StackOverflowError: stack size 8MB\n        at java.util.Arrays.copyOf(Arrays.java:3109)\n        at java.util.ArrayList.grow(ArrayList.java:275)\n        at java.util.ArrayList.ensureExplicitCapacity(ArrayList.java:249)\n        at java.util.ArrayList.ensureCapacityInternal(ArrayList.java:241)\n        at java.util.ArrayList.add(ArrayList.java:467)\n        at com.abc.UserDetailResponse.getContactPoints(UserDetailResponse.kt:59)\n        at com.abc.UserDetailResponse.getContactPoints(UserDetailResponse.kt:68)\n        at com.abc.UserDetailResponse.getContactPoints(UserDetailResponse.kt:68)\n\n2021-12-04 00:37:22.802 com.abcI/zygote: Background concurrent copying GC freed 1562(103KB) AllocSpace objects, 0(0B) LOS objects, 8% free, 68MB/74MB, paused 538us total 511.886ms\n2021-12-04 00:37:22.804 com.abcE/AndroidRuntime:     at com.abc.UserDetailResponse.getContactPoints(UserDetailResponse.kt:68)\n        at com.abc.UserDetailResponse.getContactPoints(UserDetailResponse.kt:68)\n2021-12-04 00:37:23.178 com.abcI/zygote: Background concurrent copying GC freed 678273(35MB) AllocSpace objects, 1(1344KB) LOS objects, 10% free, 53MB/59MB, paused 486us total 339.741ms\n2021-12-04 00:37:23.937 com.abcI/chatty: uid=10142(u0_a142) com.abcidentical 5303 lines\n2021-12-04 00:37:23.937 com.abcE/AndroidRuntime:     at com.abc.UserDetailResponse.getContactPoints(UserDetailResponse.kt:68)\n        at  com.abc.UserDetailResponse.getContactPoints(UserDetailResponse.kt:68)\n2021-12-04 00:37:23.937 com.abcE/AndroidRuntime:     at com.abc.UserDetailResponse.getMainSubscriber(UserDetailResponse.kt:86)\n        at com.abc.presenter.onUserDetailSuccess(AccountDetailPresenter.java:282)\n        at com.abc.model.UserDetailServiceImpl.handleResponse(UserDetailServiceImpl.kt:50)\n        at com.abc.model.UserDetailServiceImpl.handleResponse(UserDetailServiceImpl.kt:20)\n        at com.sxm.connect.shared.model.util.SXMTelematicsService$1.success(SXMTelematicsService.java:62)\n        at retrofit.CallbackRunnable$1.run(CallbackRunnable.java:45)\n        at android.os.Handler.handleCallback(Handler.java:789)\n        at android.os.Handler.dispatchMessage(Handler.java:98)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6541)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\n</code></pre>\n<p>Here are the files:</p>\n<p><strong>UserDetailResponse.kt</strong></p>\n<pre><code>data class UserInfoResponse(\n        val id: String,\n        val accountType: String,\n        val alternatePhone: String,\n        val alternatePhoneType: String,\n        val billingCity: String,\n        val billingCountry: String,\n        val billingId: String,\n        val billingPostalAddress1: String,\n        val billingPostalAddress2: String,\n        val billingPostalCode: String,\n        val billingStateProvince: String,\n        val currency: String,\n        val effectiveRoles: List&lt;EffectiveRole&gt;,\n        val givenName: String,\n        val mailingCity: String,\n        val mailingCountry: String,\n        val mailingPostalAddress1: String,\n        val mailingPostalAddress2: String,\n        val mailingPostalCode: String,\n        val mailingStateProvince: String,\n        val primaryPhone: String,\n        val primaryPhoneType: String,\n        val secondaryPhone: String,\n        val secondaryPhoneType: String,\n        val suffix: String,\n        val surname: String,\n        val userName: String,\n        val vehicles: List&lt;Vehicle&gt;,\n) {\n        val contactPoints: ContactPoints\n                get() = run {\n                        var address = Address()\n                        val addressList = arrayListOf&lt;Address&gt;()\n                        address.id = id\n                        address.street = billingPostalAddress1\n                        address.addressLine1 = billingPostalAddress1\n                        address.city = billingCity\n                        address.state = billingStateProvince\n                        address.postalCode = billingPostalCode\n                        address.country = billingCountry\n                        addressList.add(address)\n                        address = Address()\n                        address.id = id\n                        address.street = mailingPostalAddress1\n                        address.city = mailingCity\n                        address.state = mailingStateProvince\n                        address.postalCode = mailingPostalCode\n                        address.country = mailingCountry\n                        addressList.add(address)\n                        contactPoints.addresses = addressList\n\n                        var phone = Phone()\n                        val phoneList = arrayListOf&lt;Phone&gt;()\n                        phone.value = primaryPhone\n                        phoneList.add(phone)\n                        phone = Phone()\n                        phone.value = primaryPhone\n                        phoneList.add(phone)\n                        contactPoints.phones = phoneList\n                        contactPoints\n                }\n\n        val mainSubscriber: MainSubscriber\n                get() = run {\n                        mainSubscriber.firstName = givenName\n                        mainSubscriber.lastName = surname\n                        mainSubscriber.contactPoints = contactPoints\n                        mainSubscriber\n                }\n}\n</code></pre>\n<p><strong>ContactPoints.java</strong></p>\n<pre><code>public class ContactPoints implements Parcelable {\n  private List&lt;Phone&gt; phones = null;\n  private List&lt;Email&gt; emails = null;\n  private List&lt;Address&gt; addresses = null;\n\n  public List&lt;Phone&gt; getPhones() {\n    return phones;\n  }\n\n  public void setPhones(List&lt;Phone&gt; phones) {\n    this.phones = phones;\n  }\n\n  public List&lt;Email&gt; getEmails() {\n    return emails;\n  }\n\n  public void setEmails(List&lt;Email&gt; emails) {\n    this.emails = emails;\n  }\n\n  public List&lt;Address&gt; getAddresses() {\n    return addresses;\n  }\n\n  public void setAddresses(List&lt;Address&gt; addresses) {\n    this.addresses = addresses;\n  }\n}\n</code></pre>\n<p><strong>Address.java</strong></p>\n<pre><code>public class Address implements Parcelable {\n\n  private String id;\n\n  private String street;\n\n  private String name;\n\n  private String state;\n\n  private String addressLine2;\n\n  private String country;\n\n  private String city;\n\n  private String region;\n\n  private String addressLine1;\n\n  public void setPostalCode(String postalCode) {\n    this.postalCode = postalCode;\n  }\n\n  public void setSubRegion(String subRegion) {\n    this.subRegion = subRegion;\n  }\n\n  public void setStreet(String street) {\n    this.street = street;\n  }\n\n  public void setState(String state) {\n    this.state = state;\n  }\n\n  public void setAddressLine2(String addressLine2) {\n    this.addressLine2 = addressLine2;\n  }\n\n  public void setCountry(String country) {\n    this.country = country;\n  }\n\n  public void setCity(String city) {\n    this.city = city;\n  }\n\n\n  public void setId(String id) {\n    this.id = id;\n  }\n\n\n  public void setName(String name) {\n    this.name = name;\n  }\n\n\n  public void setType(String type) {\n    this.type = type;\n  }\n\n\n\n  public String getId() {\n    return id;\n  }\n\n\n\n  public String getState() {\n    return state;\n  }\n\n\n  public String getType() {\n    return type;\n  }\n\n\n  public String getAddressLine2() {\n    return addressLine2;\n  }\n\n\n\n  public String getCity() {\n    return city;\n  }\n\n\n\n  public String getCountry() {\n    return country;\n  }\n\n  public String getRegion() {\n    return region;\n  }\n\n  public void setRegion(String region) {\n    this.region = region;\n  }\n\n  public String getAddressLine1() {\n    return addressLine1;\n  }\n\n  public void setAddressLine1(String addressLine1) {\n    this.addressLine1 = addressLine1;\n  }\n\n  public Address() {\n  }\n</code></pre>\n<p>These are the lines corresponding to the errors:</p>\n<blockquote>\n<pre><code>    at com.abc.UserDetailResponse.getContactPoints(UserDetailResponse.kt:59) : address.id = id\n</code></pre>\n</blockquote>\n<blockquote>\n<pre><code>    at com.abc.UserDetailResponse.getContactPoints(UserDetailResponse.kt:68) : var phone = Phone()\n</code></pre>\n</blockquote>\n"},{"tags":["java","design-patterns","enums","extensibility","software-quality"],"comments":[{"owner":{"account_id":4326272,"reputation":651,"user_id":14583599,"display_name":"zerocukor287"},"score":1,"creation_date":1638740122,"post_id":70238735,"comment_id":124162619,"body_markdown":"You may transorm the switch cases into class instances. Like `classAFirst` `classASecond` and have only one switch case, when you initialize your classes.","body":"You may transorm the switch cases into class instances. Like <code>classAFirst</code> <code>classASecond</code> and have only one switch case, when you initialize your classes."},{"owner":{"account_id":14571259,"reputation":994,"user_id":10524503,"display_name":"Wortig"},"score":1,"creation_date":1638740701,"post_id":70238735,"comment_id":124162774,"body_markdown":"@zerocukor287 Yeah, like separating the concrete behavior and setting it during initialization (or when needed) ?  -&gt; Thinking right now about Strategy pattern.","body":"@zerocukor287 Yeah, like separating the concrete behavior and setting it during initialization (or when needed) ?  -&gt; Thinking right now about Strategy pattern."}],"answers":[{"tags":[],"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1638741833,"creation_date":1638741833,"answer_id":70238943,"question_id":70238735,"body_markdown":"Don&#39;t bind your code to the `enum` bind your code to an interface.  Then have your enum provide the standard implementations of the interface.\r\n\r\n\r\n    public interface RibbonColor {\r\n       public String getColor();\r\n    }\r\n\r\n    public enum DefaultRibbonColors implements RibbonColor {\r\n       FIRST() {\r\n          public String getColor() {\r\n            return &quot;blue&quot;;\r\n          }\r\n       }, \r\n       SECOND() {\r\n          public String getColor() {\r\n            return &quot;red&quot;;\r\n          }\r\n       },\r\n       THIRD() {\r\n          public String getColor() {\r\n            return &quot;white&quot;;\r\n          }\r\n       },\r\n    }\r\n\r\n    public class Awards {\r\n\r\n       private List&lt;RibbonColor&gt; ribbons;\r\n\r\n       public Awards(List&lt;RibbonColor&gt; ribbons) {\r\n          this.ribbons = ribbons;\r\n       }\r\n\r\n       public RibbonColor awardFor(int placeIndex) {\r\n          if (placeIndex &lt; ribbons.length()) {\r\n            return ribbons.get(placeIndex).getColor();\r\n          }\r\n          return null;\r\n       }\r\n\r\n    }\r\n\r\nNotice that now you can easily add in a new list of all the default `Awards` by \r\n\r\n    Awards awards = new Awards(Arrays.asList(DefaultRibbonColors.values()));\r\n\r\nwhile you could also create custom awards sets.\r\n\r\n    List ribbons = new ArrayList&lt;RibbonColor&gt;();\r\n    ribbons.addAll(DefaultRibbonColors.values());\r\n    ribbons.addAll(ExtendedRibbonColors.values());\r\n    ribbons.addAll(new BlackAndPinkPolkaDotRibbonColor());\r\n\r\n    Awards awards = new Awards(ribbons);\r\n\r\nThe key is to never make the code actually depend on the `enum` because you can&#39;t modify an `enum` without recompiling, and that triggers the need to search for `switch` statements that lack `default:` blocks or more explicit settings for the added value.\r\n\r\nObjects are &quot;code and data written together&quot; while procedural code is &quot;code and data managed separately&quot;  The `switch` statement puts the logic &quot;code&quot; outside of the type &quot;data&quot; and is a programming mistake in 100% insanely object oriented design.  That said, it is often useful, and people still structure programs in Java and other languages in ways that effectively separate code from data (object that hold all the data, and &quot;object routines&quot; that manipulate another object&#39;s data.  This kind of separation of an object&#39;s data from its routines is an antipattern called `anemic objects`.  \r\n\r\n`Enums` are `Objects` so don&#39;t be afraid to put methods in them!  Give them interfaces where they should be replicable, and avoid switch statements because it&#39;s probably a good sign that the logic should be in the thing you are switching on (provided it is an Object).","title":"How to avoid changing many parts of code when adding new enum value, thus providing easier extensibility?","body":"<p>Don't bind your code to the <code>enum</code> bind your code to an interface.  Then have your enum provide the standard implementations of the interface.</p>\n<pre><code>public interface RibbonColor {\n   public String getColor();\n}\n\npublic enum DefaultRibbonColors implements RibbonColor {\n   FIRST() {\n      public String getColor() {\n        return &quot;blue&quot;;\n      }\n   }, \n   SECOND() {\n      public String getColor() {\n        return &quot;red&quot;;\n      }\n   },\n   THIRD() {\n      public String getColor() {\n        return &quot;white&quot;;\n      }\n   },\n}\n\npublic class Awards {\n\n   private List&lt;RibbonColor&gt; ribbons;\n\n   public Awards(List&lt;RibbonColor&gt; ribbons) {\n      this.ribbons = ribbons;\n   }\n\n   public RibbonColor awardFor(int placeIndex) {\n      if (placeIndex &lt; ribbons.length()) {\n        return ribbons.get(placeIndex).getColor();\n      }\n      return null;\n   }\n\n}\n</code></pre>\n<p>Notice that now you can easily add in a new list of all the default <code>Awards</code> by</p>\n<pre><code>Awards awards = new Awards(Arrays.asList(DefaultRibbonColors.values()));\n</code></pre>\n<p>while you could also create custom awards sets.</p>\n<pre><code>List ribbons = new ArrayList&lt;RibbonColor&gt;();\nribbons.addAll(DefaultRibbonColors.values());\nribbons.addAll(ExtendedRibbonColors.values());\nribbons.addAll(new BlackAndPinkPolkaDotRibbonColor());\n\nAwards awards = new Awards(ribbons);\n</code></pre>\n<p>The key is to never make the code actually depend on the <code>enum</code> because you can't modify an <code>enum</code> without recompiling, and that triggers the need to search for <code>switch</code> statements that lack <code>default:</code> blocks or more explicit settings for the added value.</p>\n<p>Objects are &quot;code and data written together&quot; while procedural code is &quot;code and data managed separately&quot;  The <code>switch</code> statement puts the logic &quot;code&quot; outside of the type &quot;data&quot; and is a programming mistake in 100% insanely object oriented design.  That said, it is often useful, and people still structure programs in Java and other languages in ways that effectively separate code from data (object that hold all the data, and &quot;object routines&quot; that manipulate another object's data.  This kind of separation of an object's data from its routines is an antipattern called <code>anemic objects</code>.</p>\n<p><code>Enums</code> are <code>Objects</code> so don't be afraid to put methods in them!  Give them interfaces where they should be replicable, and avoid switch statements because it's probably a good sign that the logic should be in the thing you are switching on (provided it is an Object).</p>\n"}],"owner":{"account_id":14571259,"reputation":994,"user_id":10524503,"display_name":"Wortig"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":70238943,"answer_count":1,"score":6,"last_activity_date":1638741833,"creation_date":1638739917,"question_id":70238735,"body_markdown":"I am trying to make my code easier to extend in terms that a little change will not affect much other code.\r\n\r\nI have an *enum* `MyEnum`, which values might increase in future. \r\n\r\nThen, there are classes that holds instance of it and has many behaviors affected by that *enum*&#39;s concrete value. In other words, there are many places where I switch over it&#39;s value.\r\n\r\n    public enum MyEnum\r\n    {\r\n        FIRST, SECOND, THIRD, FOURTH;\r\n    }\r\n\r\n\r\n    public class A\r\n    {\r\n        private MyEnum myEnum\r\n        \r\n        public A(MyEnum myEnum)\r\n        {\r\n            this.myEnum = myEnum;\r\n        }\r\n        \r\n        // as you will see, there is a lot of switching over its value\r\n        public void boo()\r\n        {\r\n            switch(myEnum)\r\n            {\r\n                case FIRST: // do smtng\r\n                case SECOND: // do smthing else\r\n                case THIRD: // do smthing else\r\n                case FOURTH: // do nice thing\r\n            }\r\n        }\r\n\r\n        public int goo()\r\n        {\r\n            switch(myEnum)\r\n            {\r\n                ...\r\n            }\r\n        }\r\n       \r\n\r\n        public AnotherObject foo()\r\n        {\r\n            switch(myEnum)\r\n            {\r\n                ...\r\n            }\r\n        }\r\n    }\r\n\r\n    public class B\r\n    {\r\n        private MyEnum myEnum\r\n        \r\n        public B(MyEnum myEnum)\r\n        {\r\n            this.myEnum = myEnum;\r\n        }\r\n        \r\n        public double doo()\r\n        {\r\n            switch(myEnum)\r\n            {\r\n                ...\r\n            }\r\n        }\r\n\r\n        public void soo()\r\n        {\r\n            switch(myEnum)\r\n            {\r\n                ...\r\n            }\r\n        }\r\n       \r\n        public boolean xoo()\r\n        {\r\n            switch(myEnum)\r\n            {\r\n                ...\r\n            }\r\n        }\r\n    }\r\n\r\nThe thing here is that **mostly** I will need to add new case to all places where we switch over it&#39;s value =&gt; will need to do many changes to code when I add new *enum* value. \r\n\r\nDid anyone else faced this problem? By now, I guess it is just downside of using *enum*s this way.\r\n\r\n","title":"How to avoid changing many parts of code when adding new enum value, thus providing easier extensibility?","body":"<p>I am trying to make my code easier to extend in terms that a little change will not affect much other code.</p>\n<p>I have an <em>enum</em> <code>MyEnum</code>, which values might increase in future.</p>\n<p>Then, there are classes that holds instance of it and has many behaviors affected by that <em>enum</em>'s concrete value. In other words, there are many places where I switch over it's value.</p>\n<pre><code>public enum MyEnum\n{\n    FIRST, SECOND, THIRD, FOURTH;\n}\n\n\npublic class A\n{\n    private MyEnum myEnum\n    \n    public A(MyEnum myEnum)\n    {\n        this.myEnum = myEnum;\n    }\n    \n    // as you will see, there is a lot of switching over its value\n    public void boo()\n    {\n        switch(myEnum)\n        {\n            case FIRST: // do smtng\n            case SECOND: // do smthing else\n            case THIRD: // do smthing else\n            case FOURTH: // do nice thing\n        }\n    }\n\n    public int goo()\n    {\n        switch(myEnum)\n        {\n            ...\n        }\n    }\n   \n\n    public AnotherObject foo()\n    {\n        switch(myEnum)\n        {\n            ...\n        }\n    }\n}\n\npublic class B\n{\n    private MyEnum myEnum\n    \n    public B(MyEnum myEnum)\n    {\n        this.myEnum = myEnum;\n    }\n    \n    public double doo()\n    {\n        switch(myEnum)\n        {\n            ...\n        }\n    }\n\n    public void soo()\n    {\n        switch(myEnum)\n        {\n            ...\n        }\n    }\n   \n    public boolean xoo()\n    {\n        switch(myEnum)\n        {\n            ...\n        }\n    }\n}\n</code></pre>\n<p>The thing here is that <strong>mostly</strong> I will need to add new case to all places where we switch over it's value =&gt; will need to do many changes to code when I add new <em>enum</em> value.</p>\n<p>Did anyone else faced this problem? By now, I guess it is just downside of using <em>enum</em>s this way.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1638741234,"post_id":70238870,"comment_id":124162902,"body_markdown":"It is not Eclipse detecting the unreachable code, but the java compiler. The &quot;similar code&quot; has a branch within the loop, that contains a `break;`. The code reporting the unreachable code does not have a `break;` within the `while (true)`-loop.","body":"It is not Eclipse detecting the unreachable code, but the java compiler. The &quot;similar code&quot; has a branch within the loop, that contains a <code>break;</code>. The code reporting the unreachable code does not have a <code>break;</code> within the <code>while (true)</code>-loop."},{"owner":{"account_id":400660,"reputation":4729,"user_id":766755,"display_name":"Michael Krause"},"score":0,"creation_date":1638741440,"post_id":70238870,"comment_id":124162959,"body_markdown":"As an aside, you should put your close calls in a finally block for your try so that your streams are guaranteed to be closed even in the case of an exception.","body":"As an aside, you should put your close calls in a finally block for your try so that your streams are guaranteed to be closed even in the case of an exception."},{"owner":{"account_id":15516107,"reputation":275,"user_id":13061992,"display_name":"Sergio"},"score":0,"creation_date":1638741591,"post_id":70238870,"comment_id":124162990,"body_markdown":"thank you both, as a bit of a side question, could this be related to getting a broken pipe error? I posted about it on here earlier today  and I thought maybe closing the resources would fix it but it didn&#39;t so is it about having the finally block?","body":"thank you both, as a bit of a side question, could this be related to getting a broken pipe error? I posted about it on here earlier today  and I thought maybe closing the resources would fix it but it didn&#39;t so is it about having the finally block?"}],"answers":[{"tags":[],"owner":{"account_id":19296215,"reputation":703,"user_id":14105130,"display_name":"YourHelper"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1638741352,"creation_date":1638741352,"answer_id":70238898,"question_id":70238870,"body_markdown":"You simply have a `while(true) {...}` block that doesn&#39;t even have a break statement so yeah those statements after it are unreachable ...\r\n\r\nYou have two choices:\r\n\r\n 1. Introduce a local variable initialized with `true` which will be updated inside the loop\r\n 2. Create a break statement like the second part of your uploaded code that will stop the loop when it meets a certain condition","title":"Getting `unreachable code` when trying to close resources","body":"<p>You simply have a <code>while(true) {...}</code> block that doesn't even have a break statement so yeah those statements after it are unreachable ...</p>\n<p>You have two choices:</p>\n<ol>\n<li>Introduce a local variable initialized with <code>true</code> which will be updated inside the loop</li>\n<li>Create a break statement like the second part of your uploaded code that will stop the loop when it meets a certain condition</li>\n</ol>\n"}],"owner":{"account_id":15516107,"reputation":275,"user_id":13061992,"display_name":"Sergio"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1638742581,"accepted_answer_id":70238898,"answer_count":1,"score":-2,"last_activity_date":1638741352,"creation_date":1638741089,"question_id":70238870,"body_markdown":"I am trying to close the `DataOutputStream` and `DataInputStream` but I am getting an `unreachable code` error which doesn&#39;t even allow me to run, here is my code:\r\n\r\n```\r\nimport java.io.*;\r\nimport java.net.*;\r\nimport java.util.Scanner;\r\n\r\npublic class MultipleClient {\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\ttry {\r\n\t\t\tScanner scan = new Scanner(System.in);\r\n\r\n\t\t\tInetAddress ip = InetAddress.getByName(&quot;localhost&quot;);\r\n\r\n\t\t\tSocket socket = new Socket(ip, 4571);\r\n\r\n\t\t\tDataInputStream inputFromServer = new DataInputStream(socket.getInputStream());\r\n\t\t\tDataOutputStream outputToServer = new DataOutputStream(socket.getOutputStream());\r\n\r\n\t\t\twhile (true) {\r\n\r\n\t\t\t\tSystem.out.println(inputFromServer.readUTF());\r\n\t\t\t\tint choice = scan.nextInt();\r\n\r\n\t\t\t\tif (choice == 1) {\r\n\t\t\t\t\toutputToServer.writeInt(choice);\r\n\t\t\t\t\tSystem.out.println(inputFromServer.readUTF());\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\tscan.close();\r\n\t\t\tinputFromServer.close();\r\n\t\t\toutputToServer.close();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nI guess I am getting that because Eclipse is detecting that this lines precede a `while(true)` which might be confusing however, I have had a similar code working fine, I tried comparing between both and I can&#39;t see the difference, here is the other code:\r\n\r\n```\r\nimport java.io.*; \r\nimport java.net.*; \r\nimport java.util.Scanner; \r\n  \r\npublic class MultipleClient { \r\n    public static void main(String[] args) throws IOException { \r\n        try { \r\n            Scanner scan = new Scanner(System.in); \r\n              \r\n            // Getting local IP Address (127.0.0.1)\r\n            InetAddress ip = InetAddress.getByName(&quot;localhost&quot;); \r\n      \r\n            // Establish the connection with Server on port 5056\r\n            Socket socket = new Socket(ip, 5056); \r\n            // This will trigger the accept() function of the Server\r\n      \r\n            // Receiving input and sending output to Server\r\n            DataInputStream inputFromServer = new DataInputStream(socket.getInputStream()); \r\n            DataOutputStream outputToServer = new DataOutputStream(socket.getOutputStream()); \r\n\r\n            while (true) { \r\n                System.out.println(inputFromServer.readUTF()); \r\n                String tosend = scan.nextLine(); \r\n                outputToServer.writeUTF(tosend); \r\n                  \r\n                // Sending Exit closes the connection and breaks the loop\r\n                if(tosend.equals(&quot;Exit&quot;)) \r\n                { \r\n                    System.out.println(&quot;-----------------------------------------------------------------------------------&quot;);\r\n                    System.out.println(&quot;Closing this connection : &quot; + socket); \r\n                    socket.close(); \r\n                    System.out.println(&quot;Connection closed&quot;); \r\n                    break; \r\n                } \r\n                System.out.println(&quot;-----------------------------------------------------------------------------------&quot;);\r\n                // Printing message received from Server \r\n                String received = inputFromServer.readUTF(); \r\n                System.out.println(received); \r\n            } \r\n              \r\n            // Closing resources \r\n            scan.close(); \r\n            inputFromServer.close(); \r\n            outputToServer.close(); \r\n        }catch(Exception e){ \r\n            e.printStackTrace(); \r\n        } \r\n    } \r\n} \r\n```","title":"Getting `unreachable code` when trying to close resources","body":"<p>I am trying to close the <code>DataOutputStream</code> and <code>DataInputStream</code> but I am getting an <code>unreachable code</code> error which doesn't even allow me to run, here is my code:</p>\n<pre><code>import java.io.*;\nimport java.net.*;\nimport java.util.Scanner;\n\npublic class MultipleClient {\n    public static void main(String[] args) throws IOException {\n        try {\n            Scanner scan = new Scanner(System.in);\n\n            InetAddress ip = InetAddress.getByName(&quot;localhost&quot;);\n\n            Socket socket = new Socket(ip, 4571);\n\n            DataInputStream inputFromServer = new DataInputStream(socket.getInputStream());\n            DataOutputStream outputToServer = new DataOutputStream(socket.getOutputStream());\n\n            while (true) {\n\n                System.out.println(inputFromServer.readUTF());\n                int choice = scan.nextInt();\n\n                if (choice == 1) {\n                    outputToServer.writeInt(choice);\n                    System.out.println(inputFromServer.readUTF());\n                    }\n                }\n\n            }\n            scan.close();\n            inputFromServer.close();\n            outputToServer.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>I guess I am getting that because Eclipse is detecting that this lines precede a <code>while(true)</code> which might be confusing however, I have had a similar code working fine, I tried comparing between both and I can't see the difference, here is the other code:</p>\n<pre><code>import java.io.*; \nimport java.net.*; \nimport java.util.Scanner; \n  \npublic class MultipleClient { \n    public static void main(String[] args) throws IOException { \n        try { \n            Scanner scan = new Scanner(System.in); \n              \n            // Getting local IP Address (127.0.0.1)\n            InetAddress ip = InetAddress.getByName(&quot;localhost&quot;); \n      \n            // Establish the connection with Server on port 5056\n            Socket socket = new Socket(ip, 5056); \n            // This will trigger the accept() function of the Server\n      \n            // Receiving input and sending output to Server\n            DataInputStream inputFromServer = new DataInputStream(socket.getInputStream()); \n            DataOutputStream outputToServer = new DataOutputStream(socket.getOutputStream()); \n\n            while (true) { \n                System.out.println(inputFromServer.readUTF()); \n                String tosend = scan.nextLine(); \n                outputToServer.writeUTF(tosend); \n                  \n                // Sending Exit closes the connection and breaks the loop\n                if(tosend.equals(&quot;Exit&quot;)) \n                { \n                    System.out.println(&quot;-----------------------------------------------------------------------------------&quot;);\n                    System.out.println(&quot;Closing this connection : &quot; + socket); \n                    socket.close(); \n                    System.out.println(&quot;Connection closed&quot;); \n                    break; \n                } \n                System.out.println(&quot;-----------------------------------------------------------------------------------&quot;);\n                // Printing message received from Server \n                String received = inputFromServer.readUTF(); \n                System.out.println(received); \n            } \n              \n            // Closing resources \n            scan.close(); \n            inputFromServer.close(); \n            outputToServer.close(); \n        }catch(Exception e){ \n            e.printStackTrace(); \n        } \n    } \n} \n</code></pre>\n"},{"tags":["java","android","wav","pcm"],"comments":[{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":0,"creation_date":1450102446,"post_id":34269088,"comment_id":56279479,"body_markdown":"off-topic comment: What is a purpose of `DataOutputStream` it you are using only methods from `OutputStream` ?","body":"off-topic comment: What is a purpose of <code>DataOutputStream</code> it you are using only methods from <code>OutputStream</code> ?"},{"owner":{"account_id":1367509,"reputation":666,"user_id":1303647,"accept_rate":71,"display_name":"Mushfiqul Tuhin"},"score":0,"creation_date":1450103969,"post_id":34269088,"comment_id":56280540,"body_markdown":"actually I found this code from internet . I think DataOutputStream  is for pushing some header info to the audio file . But to initialize DataOutputStream , it needs OutputStream as constructor .","body":"actually I found this code from internet . I think DataOutputStream  is for pushing some header info to the audio file . But to initialize DataOutputStream , it needs OutputStream as constructor ."},{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":0,"creation_date":1450104158,"post_id":34269088,"comment_id":56280693,"body_markdown":"http://ideone.com/AcomT7","body":"<a href=\"http://ideone.com/AcomT7\" rel=\"nofollow noreferrer\">ideone.com/AcomT7</a>"},{"owner":{"account_id":1367509,"reputation":666,"user_id":1303647,"accept_rate":71,"display_name":"Mushfiqul Tuhin"},"score":0,"creation_date":1450105784,"post_id":34269088,"comment_id":56281974,"body_markdown":"I am using only object &quot;output &quot; from class DataOutputStream  to all of the methods below","body":"I am using only object &quot;output &quot; from class DataOutputStream  to all of the methods below"},{"owner":{"account_id":2089982,"reputation":3029,"user_id":1860042,"accept_rate":83,"display_name":"Advait Saravade"},"score":0,"creation_date":1469770550,"post_id":34269088,"comment_id":64684263,"body_markdown":"Just a question: the audio you&#39;ve recorded as PCM is mono and has a sample rate of 8000?","body":"Just a question: the audio you&#39;ve recorded as PCM is mono and has a sample rate of 8000?"}],"answers":[{"tags":[],"owner":{"account_id":5814053,"reputation":2527,"user_id":7759514,"accept_rate":61,"display_name":"Tobiq"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1557072367,"creation_date":1557072367,"answer_id":55993895,"question_id":34269088,"body_markdown":"Here&#39;s a complete working example:\r\n\r\n    /**\r\n     * @param input         raw PCM data\r\n     *                      limit of file size for wave file: &lt; 2^(2*4) - 36 bytes (~4GB)\r\n     * @param output        file to encode to in wav format\r\n     * @param channelCount  number of channels: 1 for mono, 2 for stereo, etc.\r\n     * @param sampleRate    sample rate of PCM audio\r\n     * @param bitsPerSample bits per sample, i.e. 16 for PCM16\r\n     * @throws IOException in event of an error between input/output files\r\n     * @see &lt;a href=&quot;http://soundfile.sapp.org/doc/WaveFormat/&quot;&gt;soundfile.sapp.org/doc/WaveFormat&lt;/a&gt;\r\n     */\r\n    static public void PCMToWAV(File input, File output, int channelCount, int sampleRate, int bitsPerSample) throws IOException {\r\n        final int inputSize = (int) input.length();\r\n\r\n        try (OutputStream encoded = new FileOutputStream(output)) {\r\n            // WAVE RIFF header\r\n            writeToOutput(encoded, &quot;RIFF&quot;); // chunk id\r\n            writeToOutput(encoded, 36 + inputSize); // chunk size\r\n            writeToOutput(encoded, &quot;WAVE&quot;); // format\r\n\r\n            // SUB CHUNK 1 (FORMAT)\r\n            writeToOutput(encoded, &quot;fmt &quot;); // subchunk 1 id\r\n            writeToOutput(encoded, 16); // subchunk 1 size\r\n            writeToOutput(encoded, (short) 1); // audio format (1 = PCM)\r\n            writeToOutput(encoded, (short) channelCount); // number of channelCount\r\n            writeToOutput(encoded, sampleRate); // sample rate\r\n            writeToOutput(encoded, sampleRate * channelCount * bitsPerSample / 8); // byte rate\r\n            writeToOutput(encoded, (short) (channelCount * bitsPerSample / 8)); // block align\r\n            writeToOutput(encoded, (short) bitsPerSample); // bits per sample\r\n\r\n            // SUB CHUNK 2 (AUDIO DATA)\r\n            writeToOutput(encoded, &quot;data&quot;); // subchunk 2 id\r\n            writeToOutput(encoded, inputSize); // subchunk 2 size\r\n            copy(new FileInputStream(input), encoded);\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * Size of buffer used for transfer, by default\r\n     */\r\n    private static final int TRANSFER_BUFFER_SIZE = 10 * 1024;\r\n\r\n    /**\r\n     * Writes string in big endian form to an output stream\r\n     *\r\n     * @param output stream\r\n     * @param data   string\r\n     * @throws IOException\r\n     */\r\n    public static void writeToOutput(OutputStream output, String data) throws IOException {\r\n        for (int i = 0; i &lt; data.length(); i++)\r\n            output.write(data.charAt(i));\r\n    }\r\n\r\n    public static void writeToOutput(OutputStream output, int data) throws IOException {\r\n        output.write(data &gt;&gt; 0);\r\n        output.write(data &gt;&gt; 8);\r\n        output.write(data &gt;&gt; 16);\r\n        output.write(data &gt;&gt; 24);\r\n    }\r\n\r\n    public static void writeToOutput(OutputStream output, short data) throws IOException {\r\n        output.write(data &gt;&gt; 0);\r\n        output.write(data &gt;&gt; 8);\r\n    }\r\n\r\n    public static long copy(InputStream source, OutputStream output)\r\n            throws IOException {\r\n        return copy(source, output, TRANSFER_BUFFER_SIZE);\r\n    }\r\n\r\n    public static long copy(InputStream source, OutputStream output, int bufferSize) throws IOException {\r\n        long read = 0L;\r\n        byte[] buffer = new byte[bufferSize];\r\n        for (int n; (n = source.read(buffer)) != -1; read += n) {\r\n            output.write(buffer, 0, n);\r\n        }\r\n        return read;\r\n    }","title":"PCM to WAV conversion in android","body":"<p>Here's a complete working example:</p>\n\n<pre><code>/**\n * @param input         raw PCM data\n *                      limit of file size for wave file: &lt; 2^(2*4) - 36 bytes (~4GB)\n * @param output        file to encode to in wav format\n * @param channelCount  number of channels: 1 for mono, 2 for stereo, etc.\n * @param sampleRate    sample rate of PCM audio\n * @param bitsPerSample bits per sample, i.e. 16 for PCM16\n * @throws IOException in event of an error between input/output files\n * @see &lt;a href=\"http://soundfile.sapp.org/doc/WaveFormat/\"&gt;soundfile.sapp.org/doc/WaveFormat&lt;/a&gt;\n */\nstatic public void PCMToWAV(File input, File output, int channelCount, int sampleRate, int bitsPerSample) throws IOException {\n    final int inputSize = (int) input.length();\n\n    try (OutputStream encoded = new FileOutputStream(output)) {\n        // WAVE RIFF header\n        writeToOutput(encoded, \"RIFF\"); // chunk id\n        writeToOutput(encoded, 36 + inputSize); // chunk size\n        writeToOutput(encoded, \"WAVE\"); // format\n\n        // SUB CHUNK 1 (FORMAT)\n        writeToOutput(encoded, \"fmt \"); // subchunk 1 id\n        writeToOutput(encoded, 16); // subchunk 1 size\n        writeToOutput(encoded, (short) 1); // audio format (1 = PCM)\n        writeToOutput(encoded, (short) channelCount); // number of channelCount\n        writeToOutput(encoded, sampleRate); // sample rate\n        writeToOutput(encoded, sampleRate * channelCount * bitsPerSample / 8); // byte rate\n        writeToOutput(encoded, (short) (channelCount * bitsPerSample / 8)); // block align\n        writeToOutput(encoded, (short) bitsPerSample); // bits per sample\n\n        // SUB CHUNK 2 (AUDIO DATA)\n        writeToOutput(encoded, \"data\"); // subchunk 2 id\n        writeToOutput(encoded, inputSize); // subchunk 2 size\n        copy(new FileInputStream(input), encoded);\n    }\n}\n\n\n/**\n * Size of buffer used for transfer, by default\n */\nprivate static final int TRANSFER_BUFFER_SIZE = 10 * 1024;\n\n/**\n * Writes string in big endian form to an output stream\n *\n * @param output stream\n * @param data   string\n * @throws IOException\n */\npublic static void writeToOutput(OutputStream output, String data) throws IOException {\n    for (int i = 0; i &lt; data.length(); i++)\n        output.write(data.charAt(i));\n}\n\npublic static void writeToOutput(OutputStream output, int data) throws IOException {\n    output.write(data &gt;&gt; 0);\n    output.write(data &gt;&gt; 8);\n    output.write(data &gt;&gt; 16);\n    output.write(data &gt;&gt; 24);\n}\n\npublic static void writeToOutput(OutputStream output, short data) throws IOException {\n    output.write(data &gt;&gt; 0);\n    output.write(data &gt;&gt; 8);\n}\n\npublic static long copy(InputStream source, OutputStream output)\n        throws IOException {\n    return copy(source, output, TRANSFER_BUFFER_SIZE);\n}\n\npublic static long copy(InputStream source, OutputStream output, int bufferSize) throws IOException {\n    long read = 0L;\n    byte[] buffer = new byte[bufferSize];\n    for (int n; (n = source.read(buffer)) != -1; read += n) {\n        output.write(buffer, 0, n);\n    }\n    return read;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5297962,"reputation":474,"user_id":4228589,"display_name":"Michael N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638741129,"creation_date":1638738790,"answer_id":70238592,"question_id":34269088,"body_markdown":"This is a modification to Tobiq&#39;s answer in Kotlin allowing you to upsample from 8000Hz to 48000Hz.\r\n\r\n**Usage**\r\n\r\nPCMToWAV(File(audioFile), File(upsampledAudioFile), 1, 8000, 48000, 16)\r\n\r\n**PCMToWAV**\r\n\r\n\r\n    /**\r\n     * @param input         raw PCM data\r\n     * limit of file size for wave file: &lt; 2^(2*4) - 36 bytes (~4GB)\r\n     * @param output        file to encode to in wav format\r\n     * @param channelCount  number of channels: 1 for mono, 2 for stereo, etc.\r\n     * @param sampleRate    sample rate of PCM audio\r\n     * @param bitsPerSample bits per sample, i.e. 16 for PCM16\r\n     * @throws IOException in event of an error between input/output files\r\n     * @see [soundfile.sapp.org/doc/WaveFormat](http://soundfile.sapp.org/doc/WaveFormat/)\r\n     */\r\n    @Throws(IOException::class)\r\n    fun PCMToWAV(input: File, output: File?, channelCount: Int, originSampleRate: Int, sampleRate: Int, bitsPerSample: Int) {\r\n    \r\n        val inputSize = input.length().toInt()\r\n        val sampleFactor : Float = sampleRate.toFloat() / originSampleRate.toFloat()\r\n    \r\n        FileOutputStream(output).use { encoded -&gt;\r\n    \r\n            // WAVE RIFF header\r\n    \r\n            writeToOutput(encoded, &quot;RIFF&quot;) // chunk id\r\n            writeToOutput(encoded, 36 + (inputSize.toFloat() * sampleFactor).toInt()) // chunk size\r\n            writeToOutput(encoded, &quot;WAVE&quot;) // format\r\n    \r\n            // SUB CHUNK 1 (FORMAT)\r\n    \r\n            writeToOutput(encoded, &quot;fmt &quot;) // subchunk 1 id\r\n            writeToOutput(encoded, 16) // subchunk 1 size\r\n            writeToOutput(encoded, 1.toShort()) // audio format (1 = PCM)\r\n            writeToOutput(encoded, channelCount.toShort()) // number of channelCount\r\n            writeToOutput(encoded, sampleRate) // sample rate\r\n            writeToOutput(encoded, sampleRate * channelCount * bitsPerSample / 8) // byte rate\r\n            writeToOutput(encoded, (channelCount * bitsPerSample / 8).toShort()) // block align\r\n            writeToOutput(encoded, bitsPerSample.toShort()) // bits per sample\r\n    \r\n            // SUB CHUNK 2 (AUDIO DATA)\r\n    \r\n            if (originSampleRate == sampleRate) {\r\n    \r\n                writeToOutput(encoded, &quot;data&quot;) // subchunk 2 id\r\n                writeToOutput(encoded, inputSize) // subchunk 2 size\r\n                copy(FileInputStream(input), encoded)\r\n    \r\n            } else {\r\n    \r\n                // SUB CHUNK 2 (AUDIO DATA) - UPSAMPLE\r\n    \r\n                writeToOutput(encoded, &quot;data&quot;) // subchunk 2 id\r\n                writeToOutput(encoded, (inputSize.toFloat() * sampleFactor).toInt()) // subchunk 2 size\r\n    \r\n                val inputStream = FileInputStream(input)\r\n                val buffer = ByteArray(2)\r\n                var len: Int = inputStream.read(buffer)\r\n    \r\n                var overFlow = 0\r\n    \r\n                while (len != -1) {\r\n    \r\n                    for (i in 0 until (sampleFactor * 1000F).toInt()) {\r\n    \r\n                        overFlow += 1\r\n    \r\n                        if (overFlow &gt;= 1000) {\r\n    \r\n                            encoded.write(buffer, 0, len)\r\n                            overFlow = 0\r\n    \r\n                        }\r\n    \r\n                    }\r\n    \r\n                    len = inputStream.read(buffer)\r\n    \r\n                }\r\n                \r\n                inputStream.close()\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n    \r\n    \r\n    /**\r\n     * Size of buffer used for transfer, by default\r\n     */\r\n    private const val TRANSFER_BUFFER_SIZE = 10 * 1024\r\n    \r\n    /**\r\n     * Writes string in big endian form to an output stream\r\n     *\r\n     * @param output stream\r\n     * @param data   string\r\n     * @throws IOException\r\n     */\r\n    \r\n    @Throws(IOException::class)\r\n    fun writeToOutput(output: OutputStream, data: String) {\r\n    \r\n        for (i in 0 until data.length) {\r\n            output.write(data[i].toInt())\r\n        }\r\n    \r\n    }\r\n    \r\n    @Throws(IOException::class)\r\n    fun writeToOutput(output: OutputStream, data: Int) {\r\n        output.write(data shr 0)\r\n        output.write(data shr 8)\r\n        output.write(data shr 16)\r\n        output.write(data shr 24)\r\n    }\r\n    \r\n    @Throws(IOException::class)\r\n    fun writeToOutput(output: OutputStream, data: Short) {\r\n        output.write(data.toInt() shr 0)\r\n        output.write(data.toInt() shr 8)\r\n    }\r\n    \r\n    @Throws(IOException::class)\r\n    fun copy(source: InputStream, output: OutputStream): Long {\r\n        return copy(source, output, TRANSFER_BUFFER_SIZE)\r\n    }\r\n    \r\n    @Throws(IOException::class)\r\n    fun copy(source: InputStream, output: OutputStream, bufferSize: Int): Long {\r\n        var read = 0L\r\n        val buffer = ByteArray(bufferSize)\r\n        var n: Int\r\n        while (source.read(buffer).also { n = it } != -1) {\r\n            output.write(buffer, 0, n)\r\n            read += n.toLong()\r\n        }\r\n        return read\r\n    }\r\n\r\n","title":"PCM to WAV conversion in android","body":"<p>This is a modification to Tobiq's answer in Kotlin allowing you to upsample from 8000Hz to 48000Hz.</p>\n<p><strong>Usage</strong></p>\n<p>PCMToWAV(File(audioFile), File(upsampledAudioFile), 1, 8000, 48000, 16)</p>\n<p><strong>PCMToWAV</strong></p>\n<pre><code>/**\n * @param input         raw PCM data\n * limit of file size for wave file: &lt; 2^(2*4) - 36 bytes (~4GB)\n * @param output        file to encode to in wav format\n * @param channelCount  number of channels: 1 for mono, 2 for stereo, etc.\n * @param sampleRate    sample rate of PCM audio\n * @param bitsPerSample bits per sample, i.e. 16 for PCM16\n * @throws IOException in event of an error between input/output files\n * @see [soundfile.sapp.org/doc/WaveFormat](http://soundfile.sapp.org/doc/WaveFormat/)\n */\n@Throws(IOException::class)\nfun PCMToWAV(input: File, output: File?, channelCount: Int, originSampleRate: Int, sampleRate: Int, bitsPerSample: Int) {\n\n    val inputSize = input.length().toInt()\n    val sampleFactor : Float = sampleRate.toFloat() / originSampleRate.toFloat()\n\n    FileOutputStream(output).use { encoded -&gt;\n\n        // WAVE RIFF header\n\n        writeToOutput(encoded, &quot;RIFF&quot;) // chunk id\n        writeToOutput(encoded, 36 + (inputSize.toFloat() * sampleFactor).toInt()) // chunk size\n        writeToOutput(encoded, &quot;WAVE&quot;) // format\n\n        // SUB CHUNK 1 (FORMAT)\n\n        writeToOutput(encoded, &quot;fmt &quot;) // subchunk 1 id\n        writeToOutput(encoded, 16) // subchunk 1 size\n        writeToOutput(encoded, 1.toShort()) // audio format (1 = PCM)\n        writeToOutput(encoded, channelCount.toShort()) // number of channelCount\n        writeToOutput(encoded, sampleRate) // sample rate\n        writeToOutput(encoded, sampleRate * channelCount * bitsPerSample / 8) // byte rate\n        writeToOutput(encoded, (channelCount * bitsPerSample / 8).toShort()) // block align\n        writeToOutput(encoded, bitsPerSample.toShort()) // bits per sample\n\n        // SUB CHUNK 2 (AUDIO DATA)\n\n        if (originSampleRate == sampleRate) {\n\n            writeToOutput(encoded, &quot;data&quot;) // subchunk 2 id\n            writeToOutput(encoded, inputSize) // subchunk 2 size\n            copy(FileInputStream(input), encoded)\n\n        } else {\n\n            // SUB CHUNK 2 (AUDIO DATA) - UPSAMPLE\n\n            writeToOutput(encoded, &quot;data&quot;) // subchunk 2 id\n            writeToOutput(encoded, (inputSize.toFloat() * sampleFactor).toInt()) // subchunk 2 size\n\n            val inputStream = FileInputStream(input)\n            val buffer = ByteArray(2)\n            var len: Int = inputStream.read(buffer)\n\n            var overFlow = 0\n\n            while (len != -1) {\n\n                for (i in 0 until (sampleFactor * 1000F).toInt()) {\n\n                    overFlow += 1\n\n                    if (overFlow &gt;= 1000) {\n\n                        encoded.write(buffer, 0, len)\n                        overFlow = 0\n\n                    }\n\n                }\n\n                len = inputStream.read(buffer)\n\n            }\n            \n            inputStream.close()\n\n        }\n\n    }\n\n}\n\n\n/**\n * Size of buffer used for transfer, by default\n */\nprivate const val TRANSFER_BUFFER_SIZE = 10 * 1024\n\n/**\n * Writes string in big endian form to an output stream\n *\n * @param output stream\n * @param data   string\n * @throws IOException\n */\n\n@Throws(IOException::class)\nfun writeToOutput(output: OutputStream, data: String) {\n\n    for (i in 0 until data.length) {\n        output.write(data[i].toInt())\n    }\n\n}\n\n@Throws(IOException::class)\nfun writeToOutput(output: OutputStream, data: Int) {\n    output.write(data shr 0)\n    output.write(data shr 8)\n    output.write(data shr 16)\n    output.write(data shr 24)\n}\n\n@Throws(IOException::class)\nfun writeToOutput(output: OutputStream, data: Short) {\n    output.write(data.toInt() shr 0)\n    output.write(data.toInt() shr 8)\n}\n\n@Throws(IOException::class)\nfun copy(source: InputStream, output: OutputStream): Long {\n    return copy(source, output, TRANSFER_BUFFER_SIZE)\n}\n\n@Throws(IOException::class)\nfun copy(source: InputStream, output: OutputStream, bufferSize: Int): Long {\n    var read = 0L\n    val buffer = ByteArray(bufferSize)\n    var n: Int\n    while (source.read(buffer).also { n = it } != -1) {\n        output.write(buffer, 0, n)\n        read += n.toLong()\n    }\n    return read\n}\n</code></pre>\n"}],"owner":{"account_id":1367509,"reputation":666,"user_id":1303647,"accept_rate":71,"display_name":"Mushfiqul Tuhin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2888,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1638741129,"creation_date":1450102265,"question_id":34269088,"body_markdown":"I have recorded a sound using AudioRecord class . But its not playable via music player. So I have added some header information to the audio file. Though its now playable via music player but its lagging and noisy , its not playing exact sound . \r\nAny help would be appreciated .\r\nMy code is below\r\n\r\n    private void rawToWave(final File rawFile, final File waveFile) throws IOException {\r\n\r\n        byte[] rawData = new byte[(int) rawFile.length()];\r\n        DataInputStream input = null;\r\n        try {\r\n            input = new DataInputStream(new FileInputStream(rawFile));\r\n            input.read(rawData);\r\n        } finally {\r\n            if (input != null) {\r\n                input.close();\r\n            }\r\n        }\r\n\r\n        DataOutputStream output = null;\r\n        try {\r\n            int myBitsPerSample= 2;\r\n            int myFormat = 1;\r\n            long myChannels = 1;\r\n            long mySampleRate = 8000 ;\r\n            long myByteRate = mySampleRate * myChannels * myBitsPerSample/8;\r\n            int myBlockAlign = (int) (myChannels * myBitsPerSample/8);\r\n\r\n            output = new DataOutputStream(new FileOutputStream(waveFile));\r\n            // WAVE header\r\n            // see http://ccrma.stanford.edu/courses/422/projects/WaveFormat/\r\n            writeString(output, &quot;RIFF&quot;); // chunk id\r\n            writeInt(output, 36 + rawData.length); // chunk size\r\n            writeString(output, &quot;WAVE&quot;); // format\r\n            writeString(output, &quot;fmt &quot;); // subchunk 1 id\r\n            writeInt(output, 16); // subchunk 1 size\r\n            writeShort(output, (short) 1); // audio format (1 = PCM)\r\n            writeShort(output, (short) 1); // number of channels\r\n            writeInt(output, (int)mySampleRate ); // sample ratemySampleRate\r\n            writeInt(output, (int) (myByteRate)); // byte rate\r\n            writeShort(output, (short) myBlockAlign); // block align\r\n            writeShort(output, (short) 16); // bits per sample\r\n            writeString(output, &quot;data&quot;); // subchunk 2 id\r\n            writeInt(output, rawData.length); // subchunk 2 size\r\n            // Audio data (conversion big endian -&gt; little endian)\r\n            short[] shorts = new short[rawData.length /2];\r\n            ByteBuffer.wrap(rawData).order(ByteOrder.LITTLE_ENDIAN).asShortBuffer().get(shorts);\r\n            ByteBuffer bytes = ByteBuffer.allocate(shorts.length * 2);\r\n\r\n\r\n\r\n            for (short s : shorts) {\r\n               bytes.putShort(s);\r\n            }\r\n\r\n\r\n\r\n            output.write(bytes.array());\r\n        } finally {\r\n            if (output != null) {\r\n                output.close();\r\n            }\r\n        }\r\n    }\r\n\r\n    public  void writeShortLE(DataOutputStream out, short value) throws IOException {\r\n        out.writeByte(value &amp; 0xFF);\r\n        out.writeByte((value &gt;&gt; 8) &amp; 0xFF);\r\n    }\r\n\r\n\r\n\r\n    private void writeInt(final DataOutputStream output, final int value) throws IOException {\r\n        output.write(value &gt;&gt; 0);\r\n        output.write(value &gt;&gt; 8);\r\n        output.write(value &gt;&gt; 16);\r\n        output.write(value &gt;&gt; 24);\r\n    }\r\n\r\n    private void writeShort(final DataOutputStream output, final short value) throws IOException {\r\n        output.write(value &gt;&gt; 0);\r\n        output.write(value &gt;&gt; 8);\r\n    }\r\n\r\n    private void writeString(final DataOutputStream output, final String value) throws IOException {\r\n        for (int i = 0; i &lt; value.length(); i++) {\r\n            output.write(value.charAt(i));\r\n        }\r\n    }\r\n\r\n","title":"PCM to WAV conversion in android","body":"<p>I have recorded a sound using AudioRecord class . But its not playable via music player. So I have added some header information to the audio file. Though its now playable via music player but its lagging and noisy , its not playing exact sound . \nAny help would be appreciated .\nMy code is below</p>\n\n<pre><code>private void rawToWave(final File rawFile, final File waveFile) throws IOException {\n\n    byte[] rawData = new byte[(int) rawFile.length()];\n    DataInputStream input = null;\n    try {\n        input = new DataInputStream(new FileInputStream(rawFile));\n        input.read(rawData);\n    } finally {\n        if (input != null) {\n            input.close();\n        }\n    }\n\n    DataOutputStream output = null;\n    try {\n        int myBitsPerSample= 2;\n        int myFormat = 1;\n        long myChannels = 1;\n        long mySampleRate = 8000 ;\n        long myByteRate = mySampleRate * myChannels * myBitsPerSample/8;\n        int myBlockAlign = (int) (myChannels * myBitsPerSample/8);\n\n        output = new DataOutputStream(new FileOutputStream(waveFile));\n        // WAVE header\n        // see http://ccrma.stanford.edu/courses/422/projects/WaveFormat/\n        writeString(output, \"RIFF\"); // chunk id\n        writeInt(output, 36 + rawData.length); // chunk size\n        writeString(output, \"WAVE\"); // format\n        writeString(output, \"fmt \"); // subchunk 1 id\n        writeInt(output, 16); // subchunk 1 size\n        writeShort(output, (short) 1); // audio format (1 = PCM)\n        writeShort(output, (short) 1); // number of channels\n        writeInt(output, (int)mySampleRate ); // sample ratemySampleRate\n        writeInt(output, (int) (myByteRate)); // byte rate\n        writeShort(output, (short) myBlockAlign); // block align\n        writeShort(output, (short) 16); // bits per sample\n        writeString(output, \"data\"); // subchunk 2 id\n        writeInt(output, rawData.length); // subchunk 2 size\n        // Audio data (conversion big endian -&gt; little endian)\n        short[] shorts = new short[rawData.length /2];\n        ByteBuffer.wrap(rawData).order(ByteOrder.LITTLE_ENDIAN).asShortBuffer().get(shorts);\n        ByteBuffer bytes = ByteBuffer.allocate(shorts.length * 2);\n\n\n\n        for (short s : shorts) {\n           bytes.putShort(s);\n        }\n\n\n\n        output.write(bytes.array());\n    } finally {\n        if (output != null) {\n            output.close();\n        }\n    }\n}\n\npublic  void writeShortLE(DataOutputStream out, short value) throws IOException {\n    out.writeByte(value &amp; 0xFF);\n    out.writeByte((value &gt;&gt; 8) &amp; 0xFF);\n}\n\n\n\nprivate void writeInt(final DataOutputStream output, final int value) throws IOException {\n    output.write(value &gt;&gt; 0);\n    output.write(value &gt;&gt; 8);\n    output.write(value &gt;&gt; 16);\n    output.write(value &gt;&gt; 24);\n}\n\nprivate void writeShort(final DataOutputStream output, final short value) throws IOException {\n    output.write(value &gt;&gt; 0);\n    output.write(value &gt;&gt; 8);\n}\n\nprivate void writeString(final DataOutputStream output, final String value) throws IOException {\n    for (int i = 0; i &lt; value.length(); i++) {\n        output.write(value.charAt(i));\n    }\n}\n</code></pre>\n"},{"tags":["java","memory"],"comments":[{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1638734629,"post_id":70238073,"comment_id":124161312,"body_markdown":"&quot;*Does java do this automatically?*&quot; No. Object pool pattern.","body":"&quot;<i>Does java do this automatically?</i>&quot; No. Object pool pattern."},{"owner":{"account_id":23150429,"reputation":13,"user_id":17252519,"display_name":"Stingpie 52"},"score":0,"creation_date":1638735115,"post_id":70238073,"comment_id":124161435,"body_markdown":"could you please clarify what an &quot;object pool pattern&quot; is? or how to implement one? I looked online, and a lot of websites talk about using it only when new objects are &#39;expensive to create&#39;. None of them really talk about using it to conserve ram. Is there another name for it I should be googling?","body":"could you please clarify what an &quot;object pool pattern&quot; is? or how to implement one? I looked online, and a lot of websites talk about using it only when new objects are &#39;expensive to create&#39;. None of them really talk about using it to conserve ram. Is there another name for it I should be googling?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1638735890,"post_id":70238073,"comment_id":124161599,"body_markdown":"You don&#39;t necessarily need object pooling. You could make the data static, so it would be tied to the class. Then new instances of the material would all reference the same object. You&#39;re question is a bit vague though.","body":"You don&#39;t necessarily need object pooling. You could make the data static, so it would be tied to the class. Then new instances of the material would all reference the same object. You&#39;re question is a bit vague though."}],"answers":[{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638736274,"creation_date":1638736274,"answer_id":70238291,"question_id":70238073,"body_markdown":"Lets say you have a material.\r\n\r\n    interface Material{\r\n        void render( Context c);\r\n    }\r\n\r\nThen you have some instance of the material.\r\n\r\n    class Concrete implements Material{\r\n        static Texture concreteTexture = loadConcreteTexture();\r\n        Texture texture;\r\n        public Concrete(){\r\n          texture = concreteTexture();\r\n        }\r\n        void render(Context c){\r\n            //do stuff with texture.\r\n        }\r\n    }\r\n\r\nIn this case there would be 1 concrete texture for all of the instances of concrete, and it gets loaded when the class gets loaded. The texture gets assigned in the constructor, but you might use a factory method instead that would create new materials and load/assign the assets.","title":"Conserving RAM in java by using references to objects","body":"<p>Lets say you have a material.</p>\n<pre><code>interface Material{\n    void render( Context c);\n}\n</code></pre>\n<p>Then you have some instance of the material.</p>\n<pre><code>class Concrete implements Material{\n    static Texture concreteTexture = loadConcreteTexture();\n    Texture texture;\n    public Concrete(){\n      texture = concreteTexture();\n    }\n    void render(Context c){\n        //do stuff with texture.\n    }\n}\n</code></pre>\n<p>In this case there would be 1 concrete texture for all of the instances of concrete, and it gets loaded when the class gets loaded. The texture gets assigned in the constructor, but you might use a factory method instead that would create new materials and load/assign the assets.</p>\n"},{"tags":[],"owner":{"account_id":23550756,"reputation":174,"user_id":17593512,"display_name":"Bashi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1638740858,"creation_date":1638740858,"answer_id":70238838,"question_id":70238073,"body_markdown":"I am not sure i understand your question, but lets say each tile is represented by an object and the material is represented by a shared object then you can use singleton pattern in java:\r\n\r\n```\r\ninterface MatType{\r\n\tString getType();\r\n\tvoid draw();\r\n}\r\n\r\nclass Cement implements MatType{\r\n\tprivate static Cement cement = null;\r\n\t\r\n\tprivate string type = &quot;Cement&quot;;\r\n\r\n  \t/*some cement properties here*/\r\n\r\n  \tprivate Cement(){}\r\n\r\n  \t/*\r\nBy using this method you will get always the same\r\n    \tobject which will be shared between all objects\r\n    \tthat reference it.\r\n  \t*/ \r\n  \tpublic static Cement getInstance(){\r\n    \t\tif (cement == null)\r\n      \t\t\tcement = new Cement();\r\n    \t\treturn cement;\r\n\t}\r\n\t\r\n\tString getType(){\r\n\t\treturn type;\r\n\t}\r\n\t\r\n\tvoid draw(){\r\n\t//draw\r\n\t}\r\n\t\r\n}\r\n\r\nclass Tile{\r\n\tMatType type = null;\r\n\t\r\n\t/*tile properties*/\r\n\t\r\n\tpublic Tile(String t){\r\n\t\tif (t.equals(&quot;Cement&quot;))\r\n            type = (MatType)Cement.getInstance(); /*casting is for clarification only*/\r\n\t\tif (t.equals(&quot;Iron&quot;))\r\n\t\t\ttype = Iron.getInstance(); /*same logic of Cement*/\r\n\t\t.\r\n\t\t.\r\n\t\t.\r\n\t}\r\n\t\r\n\tString getType(){\r\n\t\treturn type.getType();\r\n\t}\r\n\t\r\n\tvoid draw(){\r\n\t\ttype.draw();\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n   \r\n\r\n      \r\n     \r\n      ","title":"Conserving RAM in java by using references to objects","body":"<p>I am not sure i understand your question, but lets say each tile is represented by an object and the material is represented by a shared object then you can use singleton pattern in java:</p>\n<pre><code>interface MatType{\n    String getType();\n    void draw();\n}\n\nclass Cement implements MatType{\n    private static Cement cement = null;\n    \n    private string type = &quot;Cement&quot;;\n\n    /*some cement properties here*/\n\n    private Cement(){}\n\n    /*\nBy using this method you will get always the same\n        object which will be shared between all objects\n        that reference it.\n    */ \n    public static Cement getInstance(){\n            if (cement == null)\n                cement = new Cement();\n            return cement;\n    }\n    \n    String getType(){\n        return type;\n    }\n    \n    void draw(){\n    //draw\n    }\n    \n}\n\nclass Tile{\n    MatType type = null;\n    \n    /*tile properties*/\n    \n    public Tile(String t){\n        if (t.equals(&quot;Cement&quot;))\n            type = (MatType)Cement.getInstance(); /*casting is for clarification only*/\n        if (t.equals(&quot;Iron&quot;))\n            type = Iron.getInstance(); /*same logic of Cement*/\n        .\n        .\n        .\n    }\n    \n    String getType(){\n        return type.getType();\n    }\n    \n    void draw(){\n        type.draw();\n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":23150429,"reputation":13,"user_id":17252519,"display_name":"Stingpie 52"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70238291,"answer_count":2,"score":0,"last_activity_date":1638740858,"creation_date":1638734548,"question_id":70238073,"body_markdown":"I know some about java, and a lot about the lower level functions of a computer, so I&#39;m always looking for ways to conserve ram. I&#39;m also a fan of dwarf fortress, so I&#39;ve been trying to get some similar system working. So, what I want to do is to make multiple tiles, assign them some type of material, and all the tiles with the same type of material share the same material object. I drew a little picture to illustrate it: [here][1]\r\nDoes java do this automatically? or do I have to implement it by myself? If I make two copies of the material properties, is there a way to merge them both into one?\r\n\r\nThank you for responding. \r\n\r\n  [1]: https://i.stack.imgur.com/WQex1.png","title":"Conserving RAM in java by using references to objects","body":"<p>I know some about java, and a lot about the lower level functions of a computer, so I'm always looking for ways to conserve ram. I'm also a fan of dwarf fortress, so I've been trying to get some similar system working. So, what I want to do is to make multiple tiles, assign them some type of material, and all the tiles with the same type of material share the same material object. I drew a little picture to illustrate it: <a href=\"https://i.stack.imgur.com/WQex1.png\" rel=\"nofollow noreferrer\">here</a>\nDoes java do this automatically? or do I have to implement it by myself? If I make two copies of the material properties, is there a way to merge them both into one?</p>\n<p>Thank you for responding.</p>\n"},{"tags":["java","textures","lwjgl"],"answers":[{"tags":[],"owner":{"account_id":5723206,"reputation":2441,"user_id":4521040,"display_name":"javac"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1439454782,"creation_date":1439454782,"answer_id":31983229,"question_id":31972106,"body_markdown":"As of LWJGL3 bindings for the [STB library](https://github.com/nothings/stb) have been included. This is a small single-file utility library that does things like loading textures, sound files or fonts.\r\n\r\n- - -\r\n\r\nFor rendering a cube with a different texture on each side you have two options:\r\n\r\n1. Render each face separately with another texture bound. This is the more straightforward option.\r\n2. Make a [texture atlas](https://en.wikipedia.org/wiki/Texture_atlas) of all the textures and render the whole cube once. This is not as easy to do but will give better performance, especially when rendering multiple cubes.\r\n\r\n[Introductory tutorial on how to use textures](http://learnopengl.com/#!Getting-started/Textures). (It is in C++, but should be easy to convert to Java.)","title":"How do I load a texture in LWJGL from a PNG without Slick?","body":"<p>As of LWJGL3 bindings for the <a href=\"https://github.com/nothings/stb\" rel=\"nofollow\">STB library</a> have been included. This is a small single-file utility library that does things like loading textures, sound files or fonts.</p>\n\n<hr>\n\n<p>For rendering a cube with a different texture on each side you have two options:</p>\n\n<ol>\n<li>Render each face separately with another texture bound. This is the more straightforward option.</li>\n<li>Make a <a href=\"https://en.wikipedia.org/wiki/Texture_atlas\" rel=\"nofollow\">texture atlas</a> of all the textures and render the whole cube once. This is not as easy to do but will give better performance, especially when rendering multiple cubes.</li>\n</ol>\n\n<p><a href=\"http://learnopengl.com/#!Getting-started/Textures\" rel=\"nofollow\">Introductory tutorial on how to use textures</a>. (It is in C++, but should be easy to convert to Java.)</p>\n"},{"tags":[],"owner":{"account_id":3528855,"reputation":103,"user_id":2949095,"display_name":"Tyler Bucher"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1526329847,"creation_date":1439875337,"answer_id":32064107,"question_id":31972106,"body_markdown":"Take a look at the LWJGL [STBImage][1] example.\r\n\r\n\r\n  [1]: https://github.com/LWJGL/lwjgl3/blob/master/modules/samples/src/test/java/org/lwjgl/demo/stb/Image.java\r\n\r\n    /*\r\n     * Copyright LWJGL. All rights reserved.\r\n     * License terms: https://www.lwjgl.org/license\r\n     */\r\n    package org.lwjgl.demo.stb;\r\n    \r\n    import org.lwjgl.glfw.*;\r\n    import org.lwjgl.opengl.*;\r\n    import org.lwjgl.system.*;\r\n    \r\n    import java.io.*;\r\n    import java.nio.*;\r\n    import java.util.*;\r\n    \r\n    import static java.lang.Math.*;\r\n    import static org.lwjgl.demo.glfw.GLFWUtil.*;\r\n    import static org.lwjgl.demo.util.IOUtil.*;\r\n    import static org.lwjgl.glfw.Callbacks.*;\r\n    import static org.lwjgl.glfw.GLFW.*;\r\n    import static org.lwjgl.opengl.GL11.*;\r\n    import static org.lwjgl.opengl.GL12.*;\r\n    import static org.lwjgl.stb.STBImage.*;\r\n    import static org.lwjgl.stb.STBImageResize.*;\r\n    import static org.lwjgl.system.MemoryStack.*;\r\n    import static org.lwjgl.system.MemoryUtil.*;\r\n    \r\n    /** STB Image demo. */\r\n    public final class Image {\r\n    \r\n        private final ByteBuffer image;\r\n    \r\n        private final int w;\r\n        private final int h;\r\n        private final int comp;\r\n    \r\n        private long window;\r\n        private int  ww;\r\n        private int  wh;\r\n    \r\n        private boolean ctrlDown;\r\n    \r\n        private int scale;\r\n    \r\n        private Callback debugProc;\r\n    \r\n        private Image(String imagePath) {\r\n            ByteBuffer imageBuffer;\r\n            try {\r\n            imageBuffer = ioResourceToByteBuffer(imagePath, 8 * 1024);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        \r\n        try (MemoryStack stack = stackPush()) {\r\n            IntBuffer w    = stack.mallocInt(1);\r\n            IntBuffer h    = stack.mallocInt(1);\r\n            IntBuffer comp = stack.mallocInt(1);\r\n        \r\n            // Use info to read image metadata without decoding the entire image.\r\n            // We don&#39;t need this for this demo, just testing the API.\r\n            if (!stbi_info_from_memory(imageBuffer, w, h, comp)) {\r\n                throw new RuntimeException(&quot;Failed to read image information: &quot; + stbi_failure_reason());\r\n            } else {\r\n                System.out.println(&quot;OK with reason: &quot; + stbi_failure_reason());\r\n            }\r\n        \r\n            System.out.println(&quot;Image width: &quot; + w.get(0));\r\n            System.out.println(&quot;Image height: &quot; + h.get(0));\r\n            System.out.println(&quot;Image components: &quot; + comp.get(0));\r\n            System.out.println(&quot;Image HDR: &quot; + stbi_is_hdr_from_memory(imageBuffer));\r\n        \r\n            // Decode the image\r\n            image = stbi_load_from_memory(imageBuffer, w, h, comp, 0);\r\n            if (image == null) {\r\n                throw new RuntimeException(&quot;Failed to load image: &quot; + stbi_failure_reason());\r\n            }\r\n        \r\n            this.w = w.get(0);\r\n            this.h = h.get(0);\r\n            this.comp = comp.get(0);\r\n        }\r\n        }\r\n        \r\n        public static void main(String[] args) {\r\n            String imagePath;\r\n            if (args.length == 0) {\r\n                System.out.println(&quot;Use &#39;ant demo -Dclass=org.lwjgl.demo.stb.Image -Dargs=&lt;path&gt;&#39; to load a different image.\\n&quot;);\r\n                imagePath = &quot;lwjgl32.png&quot;;\r\n            } else {\r\n                imagePath = args[0];\r\n            }\r\n            new Image(imagePath).run();\r\n        }\r\n        \r\n        private void run() {\r\n            try {\r\n                init();\r\n        \r\n                loop();\r\n            } finally {\r\n                try {\r\n                    destroy();\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n        \r\n        private void windowSizeChanged(long window, int width, int height) {\r\n            this.ww = width;\r\n            this.wh = height;\r\n        \r\n            glMatrixMode(GL_PROJECTION);\r\n            glLoadIdentity();\r\n            glOrtho(0.0, width, height, 0.0, -1.0, 1.0);\r\n            glMatrixMode(GL_MODELVIEW);\r\n        }\r\n        \r\n        private static void framebufferSizeChanged(long window, int width, int height) {\r\n            glViewport(0, 0, width, height);\r\n        }\r\n        \r\n        private void init() {\r\n            GLFWErrorCallback.createPrint().set();\r\n            if (!glfwInit()) {\r\n                throw new IllegalStateException(&quot;Unable to initialize GLFW&quot;);\r\n            }\r\n        \r\n            glfwDefaultWindowHints();\r\n            glfwWindowHint(GLFW_VISIBLE, GLFW_FALSE);\r\n            glfwWindowHint(GLFW_RESIZABLE, GLFW_TRUE);\r\n            glfwWindowHint(GLFW_CONTEXT_VERSION_MAJOR, 2);\r\n            glfwWindowHint(GLFW_CONTEXT_VERSION_MINOR, 1);\r\n        \r\n            GLFWVidMode vidmode = Objects.requireNonNull(glfwGetVideoMode(glfwGetPrimaryMonitor()));\r\n        \r\n            ww = max(800, min(w, vidmode.width() - 160));\r\n            wh = max(600, min(h, vidmode.height() - 120));\r\n        \r\n            this.window = glfwCreateWindow(ww, wh, &quot;STB Image Demo&quot;, NULL, NULL);\r\n            if (window == NULL) {\r\n                throw new RuntimeException(&quot;Failed to create the GLFW window&quot;);\r\n            }\r\n        \r\n            // Center window\r\n            glfwSetWindowPos(\r\n                window,\r\n                (vidmode.width() - ww) / 2,\r\n                (vidmode.height() - wh) / 2\r\n            );\r\n        \r\n            glfwSetWindowRefreshCallback(window, window -&gt; render());\r\n            glfwSetWindowSizeCallback(window, this::windowSizeChanged);\r\n            glfwSetFramebufferSizeCallback(window, Image::framebufferSizeChanged);\r\n        \r\n            glfwSetKeyCallback(window, (window, key, scancode, action, mods) -&gt; {\r\n                ctrlDown = (mods &amp; GLFW_MOD_CONTROL) != 0;\r\n                if (action == GLFW_RELEASE) {\r\n                    return;\r\n                }\r\n        \r\n                switch (key) {\r\n                    case GLFW_KEY_ESCAPE:\r\n                        glfwSetWindowShouldClose(window, true);\r\n                        break;\r\n                    case GLFW_KEY_KP_ADD:\r\n                    case GLFW_KEY_EQUAL:\r\n                        setScale(scale + 1);\r\n                        break;\r\n                    case GLFW_KEY_KP_SUBTRACT:\r\n                    case GLFW_KEY_MINUS:\r\n                        setScale(scale - 1);\r\n                        break;\r\n                    case GLFW_KEY_0:\r\n                    case GLFW_KEY_KP_0:\r\n                        if (ctrlDown) {\r\n                            setScale(0);\r\n                        }\r\n                        break;\r\n                }\r\n            });\r\n        \r\n            glfwSetScrollCallback(window, (window, xoffset, yoffset) -&gt; {\r\n                if (ctrlDown) {\r\n                    setScale(scale + (int)yoffset);\r\n                }\r\n            });\r\n        \r\n            // Create context\r\n            glfwMakeContextCurrent(window);\r\n            GL.createCapabilities();\r\n            debugProc = GLUtil.setupDebugMessageCallback();\r\n        \r\n            glfwSwapInterval(1);\r\n            glfwShowWindow(window);\r\n        \r\n            glfwInvoke(window, this::windowSizeChanged, Image::framebufferSizeChanged);\r\n        }\r\n        \r\n        private void setScale(int scale) {\r\n            this.scale = max(-9, scale);\r\n        }\r\n        \r\n        private void premultiplyAlpha() {\r\n            int stride = w * 4;\r\n            for (int y = 0; y &lt; h; y++) {\r\n                for (int x = 0; x &lt; w; x++) {\r\n                    int i = y * stride + x * 4;\r\n        \r\n                    float alpha = (image.get(i + 3) &amp; 0xFF) / 255.0f;\r\n                    image.put(i + 0, (byte)round(((image.get(i + 0) &amp; 0xFF) * alpha)));\r\n                    image.put(i + 1, (byte)round(((image.get(i + 1) &amp; 0xFF) * alpha)));\r\n                    image.put(i + 2, (byte)round(((image.get(i + 2) &amp; 0xFF) * alpha)));\r\n                }\r\n            }\r\n        }\r\n        \r\n        private int createTexture() {\r\n            int texID = glGenTextures();\r\n        \r\n            glBindTexture(GL_TEXTURE_2D, texID);\r\n            glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);\r\n            glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR_MIPMAP_LINEAR);\r\n            glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_CLAMP_TO_EDGE);\r\n            glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_CLAMP_TO_EDGE);\r\n        \r\n            int format;\r\n            if (comp == 3) {\r\n                if ((w &amp; 3) != 0) {\r\n                    glPixelStorei(GL_UNPACK_ALIGNMENT, 2 - (w &amp; 1));\r\n                }\r\n                format = GL_RGB;\r\n            } else {\r\n                premultiplyAlpha();\r\n        \r\n                glEnable(GL_BLEND);\r\n                glBlendFunc(GL_ONE, GL_ONE_MINUS_SRC_ALPHA);\r\n        \r\n                format = GL_RGBA;\r\n            }\r\n        \r\n            glTexImage2D(GL_TEXTURE_2D, 0, format, w, h, 0, format, GL_UNSIGNED_BYTE, image);\r\n        \r\n            ByteBuffer input_pixels = image;\r\n            int        input_w      = w;\r\n            int        input_h      = h;\r\n            int        mipmapLevel  = 0;\r\n            while (1 &lt; input_w || 1 &lt; input_h) {\r\n                int output_w = Math.max(1, input_w &gt;&gt; 1);\r\n                int output_h = Math.max(1, input_h &gt;&gt; 1);\r\n        \r\n                ByteBuffer output_pixels = memAlloc(output_w * output_h * comp);\r\n                stbir_resize_uint8_generic(\r\n                    input_pixels, input_w, input_h, input_w * comp,\r\n                    output_pixels, output_w, output_h, output_w * comp,\r\n                    comp, comp == 4 ? 3 : STBIR_ALPHA_CHANNEL_NONE, STBIR_FLAG_ALPHA_PREMULTIPLIED,\r\n                    STBIR_EDGE_CLAMP,\r\n                    STBIR_FILTER_MITCHELL,\r\n                    STBIR_COLORSPACE_SRGB\r\n                );\r\n        \r\n                if (mipmapLevel == 0) {\r\n                    stbi_image_free(image);\r\n                } else {\r\n                    memFree(input_pixels);\r\n                }\r\n        \r\n                glTexImage2D(GL_TEXTURE_2D, ++mipmapLevel, format, output_w, output_h, 0, format, GL_UNSIGNED_BYTE, output_pixels);\r\n        \r\n                input_pixels = output_pixels;\r\n                input_w = output_w;\r\n                input_h = output_h;\r\n            }\r\n            if (mipmapLevel == 0) {\r\n                stbi_image_free(image);\r\n            } else {\r\n                memFree(input_pixels);\r\n            }\r\n        \r\n            return texID;\r\n        }\r\n        \r\n        private void loop() {\r\n            int texID = createTexture();\r\n        \r\n            glEnable(GL_TEXTURE_2D);\r\n            glClearColor(43f / 255f, 43f / 255f, 43f / 255f, 0f);\r\n        \r\n            while (!glfwWindowShouldClose(window)) {\r\n                glfwPollEvents();\r\n                render();\r\n            }\r\n        \r\n            glDisable(GL_TEXTURE_2D);\r\n            glDeleteTextures(texID);\r\n        }\r\n        \r\n        private void render() {\r\n            glClear(GL_COLOR_BUFFER_BIT);\r\n        \r\n            float scaleFactor = 1.0f + scale * 0.1f;\r\n        \r\n            glPushMatrix();\r\n            glTranslatef(ww * 0.5f, wh * 0.5f, 0.0f);\r\n            glScalef(scaleFactor, scaleFactor, 1f);\r\n            glTranslatef(-w * 0.5f, -h * 0.5f, 0.0f);\r\n        \r\n            glBegin(GL_QUADS);\r\n            {\r\n                glTexCoord2f(0.0f, 0.0f);\r\n                glVertex2f(0.0f, 0.0f);\r\n        \r\n                glTexCoord2f(1.0f, 0.0f);\r\n                glVertex2f(w, 0.0f);\r\n        \r\n                glTexCoord2f(1.0f, 1.0f);\r\n                glVertex2f(w, h);\r\n        \r\n                glTexCoord2f(0.0f, 1.0f);\r\n                glVertex2f(0.0f, h);\r\n            }\r\n            glEnd();\r\n        \r\n            glPopMatrix();\r\n        \r\n            glfwSwapBuffers(window);\r\n        }\r\n        \r\n        private void destroy() {\r\n            if (debugProc != null) {\r\n                debugProc.free();\r\n            }\r\n        \r\n            glfwFreeCallbacks(window);\r\n            glfwDestroyWindow(window);\r\n            glfwTerminate();\r\n            Objects.requireNonNull(glfwSetErrorCallback(null)).free();\r\n        }\r\n    \r\n    }\r\n\r\n\r\nedit: link updated and copied link contents.","title":"How do I load a texture in LWJGL from a PNG without Slick?","body":"<p>Take a look at the LWJGL <a href=\"https://github.com/LWJGL/lwjgl3/blob/master/modules/samples/src/test/java/org/lwjgl/demo/stb/Image.java\" rel=\"nofollow noreferrer\">STBImage</a> example.</p>\n\n<pre><code>/*\n * Copyright LWJGL. All rights reserved.\n * License terms: https://www.lwjgl.org/license\n */\npackage org.lwjgl.demo.stb;\n\nimport org.lwjgl.glfw.*;\nimport org.lwjgl.opengl.*;\nimport org.lwjgl.system.*;\n\nimport java.io.*;\nimport java.nio.*;\nimport java.util.*;\n\nimport static java.lang.Math.*;\nimport static org.lwjgl.demo.glfw.GLFWUtil.*;\nimport static org.lwjgl.demo.util.IOUtil.*;\nimport static org.lwjgl.glfw.Callbacks.*;\nimport static org.lwjgl.glfw.GLFW.*;\nimport static org.lwjgl.opengl.GL11.*;\nimport static org.lwjgl.opengl.GL12.*;\nimport static org.lwjgl.stb.STBImage.*;\nimport static org.lwjgl.stb.STBImageResize.*;\nimport static org.lwjgl.system.MemoryStack.*;\nimport static org.lwjgl.system.MemoryUtil.*;\n\n/** STB Image demo. */\npublic final class Image {\n\n    private final ByteBuffer image;\n\n    private final int w;\n    private final int h;\n    private final int comp;\n\n    private long window;\n    private int  ww;\n    private int  wh;\n\n    private boolean ctrlDown;\n\n    private int scale;\n\n    private Callback debugProc;\n\n    private Image(String imagePath) {\n        ByteBuffer imageBuffer;\n        try {\n        imageBuffer = ioResourceToByteBuffer(imagePath, 8 * 1024);\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n\n    try (MemoryStack stack = stackPush()) {\n        IntBuffer w    = stack.mallocInt(1);\n        IntBuffer h    = stack.mallocInt(1);\n        IntBuffer comp = stack.mallocInt(1);\n\n        // Use info to read image metadata without decoding the entire image.\n        // We don't need this for this demo, just testing the API.\n        if (!stbi_info_from_memory(imageBuffer, w, h, comp)) {\n            throw new RuntimeException(\"Failed to read image information: \" + stbi_failure_reason());\n        } else {\n            System.out.println(\"OK with reason: \" + stbi_failure_reason());\n        }\n\n        System.out.println(\"Image width: \" + w.get(0));\n        System.out.println(\"Image height: \" + h.get(0));\n        System.out.println(\"Image components: \" + comp.get(0));\n        System.out.println(\"Image HDR: \" + stbi_is_hdr_from_memory(imageBuffer));\n\n        // Decode the image\n        image = stbi_load_from_memory(imageBuffer, w, h, comp, 0);\n        if (image == null) {\n            throw new RuntimeException(\"Failed to load image: \" + stbi_failure_reason());\n        }\n\n        this.w = w.get(0);\n        this.h = h.get(0);\n        this.comp = comp.get(0);\n    }\n    }\n\n    public static void main(String[] args) {\n        String imagePath;\n        if (args.length == 0) {\n            System.out.println(\"Use 'ant demo -Dclass=org.lwjgl.demo.stb.Image -Dargs=&lt;path&gt;' to load a different image.\\n\");\n            imagePath = \"lwjgl32.png\";\n        } else {\n            imagePath = args[0];\n        }\n        new Image(imagePath).run();\n    }\n\n    private void run() {\n        try {\n            init();\n\n            loop();\n        } finally {\n            try {\n                destroy();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    private void windowSizeChanged(long window, int width, int height) {\n        this.ww = width;\n        this.wh = height;\n\n        glMatrixMode(GL_PROJECTION);\n        glLoadIdentity();\n        glOrtho(0.0, width, height, 0.0, -1.0, 1.0);\n        glMatrixMode(GL_MODELVIEW);\n    }\n\n    private static void framebufferSizeChanged(long window, int width, int height) {\n        glViewport(0, 0, width, height);\n    }\n\n    private void init() {\n        GLFWErrorCallback.createPrint().set();\n        if (!glfwInit()) {\n            throw new IllegalStateException(\"Unable to initialize GLFW\");\n        }\n\n        glfwDefaultWindowHints();\n        glfwWindowHint(GLFW_VISIBLE, GLFW_FALSE);\n        glfwWindowHint(GLFW_RESIZABLE, GLFW_TRUE);\n        glfwWindowHint(GLFW_CONTEXT_VERSION_MAJOR, 2);\n        glfwWindowHint(GLFW_CONTEXT_VERSION_MINOR, 1);\n\n        GLFWVidMode vidmode = Objects.requireNonNull(glfwGetVideoMode(glfwGetPrimaryMonitor()));\n\n        ww = max(800, min(w, vidmode.width() - 160));\n        wh = max(600, min(h, vidmode.height() - 120));\n\n        this.window = glfwCreateWindow(ww, wh, \"STB Image Demo\", NULL, NULL);\n        if (window == NULL) {\n            throw new RuntimeException(\"Failed to create the GLFW window\");\n        }\n\n        // Center window\n        glfwSetWindowPos(\n            window,\n            (vidmode.width() - ww) / 2,\n            (vidmode.height() - wh) / 2\n        );\n\n        glfwSetWindowRefreshCallback(window, window -&gt; render());\n        glfwSetWindowSizeCallback(window, this::windowSizeChanged);\n        glfwSetFramebufferSizeCallback(window, Image::framebufferSizeChanged);\n\n        glfwSetKeyCallback(window, (window, key, scancode, action, mods) -&gt; {\n            ctrlDown = (mods &amp; GLFW_MOD_CONTROL) != 0;\n            if (action == GLFW_RELEASE) {\n                return;\n            }\n\n            switch (key) {\n                case GLFW_KEY_ESCAPE:\n                    glfwSetWindowShouldClose(window, true);\n                    break;\n                case GLFW_KEY_KP_ADD:\n                case GLFW_KEY_EQUAL:\n                    setScale(scale + 1);\n                    break;\n                case GLFW_KEY_KP_SUBTRACT:\n                case GLFW_KEY_MINUS:\n                    setScale(scale - 1);\n                    break;\n                case GLFW_KEY_0:\n                case GLFW_KEY_KP_0:\n                    if (ctrlDown) {\n                        setScale(0);\n                    }\n                    break;\n            }\n        });\n\n        glfwSetScrollCallback(window, (window, xoffset, yoffset) -&gt; {\n            if (ctrlDown) {\n                setScale(scale + (int)yoffset);\n            }\n        });\n\n        // Create context\n        glfwMakeContextCurrent(window);\n        GL.createCapabilities();\n        debugProc = GLUtil.setupDebugMessageCallback();\n\n        glfwSwapInterval(1);\n        glfwShowWindow(window);\n\n        glfwInvoke(window, this::windowSizeChanged, Image::framebufferSizeChanged);\n    }\n\n    private void setScale(int scale) {\n        this.scale = max(-9, scale);\n    }\n\n    private void premultiplyAlpha() {\n        int stride = w * 4;\n        for (int y = 0; y &lt; h; y++) {\n            for (int x = 0; x &lt; w; x++) {\n                int i = y * stride + x * 4;\n\n                float alpha = (image.get(i + 3) &amp; 0xFF) / 255.0f;\n                image.put(i + 0, (byte)round(((image.get(i + 0) &amp; 0xFF) * alpha)));\n                image.put(i + 1, (byte)round(((image.get(i + 1) &amp; 0xFF) * alpha)));\n                image.put(i + 2, (byte)round(((image.get(i + 2) &amp; 0xFF) * alpha)));\n            }\n        }\n    }\n\n    private int createTexture() {\n        int texID = glGenTextures();\n\n        glBindTexture(GL_TEXTURE_2D, texID);\n        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);\n        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR_MIPMAP_LINEAR);\n        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_CLAMP_TO_EDGE);\n        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_CLAMP_TO_EDGE);\n\n        int format;\n        if (comp == 3) {\n            if ((w &amp; 3) != 0) {\n                glPixelStorei(GL_UNPACK_ALIGNMENT, 2 - (w &amp; 1));\n            }\n            format = GL_RGB;\n        } else {\n            premultiplyAlpha();\n\n            glEnable(GL_BLEND);\n            glBlendFunc(GL_ONE, GL_ONE_MINUS_SRC_ALPHA);\n\n            format = GL_RGBA;\n        }\n\n        glTexImage2D(GL_TEXTURE_2D, 0, format, w, h, 0, format, GL_UNSIGNED_BYTE, image);\n\n        ByteBuffer input_pixels = image;\n        int        input_w      = w;\n        int        input_h      = h;\n        int        mipmapLevel  = 0;\n        while (1 &lt; input_w || 1 &lt; input_h) {\n            int output_w = Math.max(1, input_w &gt;&gt; 1);\n            int output_h = Math.max(1, input_h &gt;&gt; 1);\n\n            ByteBuffer output_pixels = memAlloc(output_w * output_h * comp);\n            stbir_resize_uint8_generic(\n                input_pixels, input_w, input_h, input_w * comp,\n                output_pixels, output_w, output_h, output_w * comp,\n                comp, comp == 4 ? 3 : STBIR_ALPHA_CHANNEL_NONE, STBIR_FLAG_ALPHA_PREMULTIPLIED,\n                STBIR_EDGE_CLAMP,\n                STBIR_FILTER_MITCHELL,\n                STBIR_COLORSPACE_SRGB\n            );\n\n            if (mipmapLevel == 0) {\n                stbi_image_free(image);\n            } else {\n                memFree(input_pixels);\n            }\n\n            glTexImage2D(GL_TEXTURE_2D, ++mipmapLevel, format, output_w, output_h, 0, format, GL_UNSIGNED_BYTE, output_pixels);\n\n            input_pixels = output_pixels;\n            input_w = output_w;\n            input_h = output_h;\n        }\n        if (mipmapLevel == 0) {\n            stbi_image_free(image);\n        } else {\n            memFree(input_pixels);\n        }\n\n        return texID;\n    }\n\n    private void loop() {\n        int texID = createTexture();\n\n        glEnable(GL_TEXTURE_2D);\n        glClearColor(43f / 255f, 43f / 255f, 43f / 255f, 0f);\n\n        while (!glfwWindowShouldClose(window)) {\n            glfwPollEvents();\n            render();\n        }\n\n        glDisable(GL_TEXTURE_2D);\n        glDeleteTextures(texID);\n    }\n\n    private void render() {\n        glClear(GL_COLOR_BUFFER_BIT);\n\n        float scaleFactor = 1.0f + scale * 0.1f;\n\n        glPushMatrix();\n        glTranslatef(ww * 0.5f, wh * 0.5f, 0.0f);\n        glScalef(scaleFactor, scaleFactor, 1f);\n        glTranslatef(-w * 0.5f, -h * 0.5f, 0.0f);\n\n        glBegin(GL_QUADS);\n        {\n            glTexCoord2f(0.0f, 0.0f);\n            glVertex2f(0.0f, 0.0f);\n\n            glTexCoord2f(1.0f, 0.0f);\n            glVertex2f(w, 0.0f);\n\n            glTexCoord2f(1.0f, 1.0f);\n            glVertex2f(w, h);\n\n            glTexCoord2f(0.0f, 1.0f);\n            glVertex2f(0.0f, h);\n        }\n        glEnd();\n\n        glPopMatrix();\n\n        glfwSwapBuffers(window);\n    }\n\n    private void destroy() {\n        if (debugProc != null) {\n            debugProc.free();\n        }\n\n        glfwFreeCallbacks(window);\n        glfwDestroyWindow(window);\n        glfwTerminate();\n        Objects.requireNonNull(glfwSetErrorCallback(null)).free();\n    }\n\n}\n</code></pre>\n\n<p>edit: link updated and copied link contents.</p>\n"}],"owner":{"account_id":5973301,"reputation":105,"user_id":4695018,"display_name":"atoms118"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8514,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":31983229,"answer_count":2,"score":2,"last_activity_date":1638740439,"creation_date":1439401746,"question_id":31972106,"body_markdown":"I&#39;m wondering how I would render a cube with a different PNG Texture on each side, and I&#39;d like to stay away from other Third-Party Libraries other than LWJGL.","title":"How do I load a texture in LWJGL from a PNG without Slick?","body":"<p>I'm wondering how I would render a cube with a different PNG Texture on each side, and I'd like to stay away from other Third-Party Libraries other than LWJGL.</p>\n"},{"tags":["java","oop","design-patterns"],"answers":[{"tags":[],"owner":{"account_id":4034639,"reputation":985,"user_id":3319557,"accept_rate":100,"display_name":"mlecz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638740335,"creation_date":1638740032,"answer_id":70238749,"question_id":70238693,"body_markdown":"you can use dependency inversion, so Portal will not depend on Arena\r\n\r\n    interface Startable{\r\n      void start();\r\n    }\r\n\r\n    class Arena extends Startable{...}\r\n\r\nand then:\r\n\r\n    class Portal{\r\n      private final Startable arena;\r\n      ...\r\n    }\r\n\r\nthough looking at Arena and Portal methods, it looks like those are not immutable","title":"Avoiding circular depenency between Arena and Portal","body":"<p>you can use dependency inversion, so Portal will not depend on Arena</p>\n<pre><code>interface Startable{\n  void start();\n}\n\nclass Arena extends Startable{...}\n</code></pre>\n<p>and then:</p>\n<pre><code>class Portal{\n  private final Startable arena;\n  ...\n}\n</code></pre>\n<p>though looking at Arena and Portal methods, it looks like those are not immutable</p>\n"},{"tags":[],"owner":{"account_id":14179476,"reputation":2663,"user_id":10243634,"display_name":"Oboe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638740393,"creation_date":1638740393,"answer_id":70238789,"question_id":70238693,"body_markdown":"Why not a wrapper class for both `Arena` and `Portal`:\r\n\r\n    public class PortalArena {\r\n    \r\n        private final Portal portal;\r\n    \r\n        private final Arena arena;\r\n    \r\n        PortalArena(Portal portal, Arena arena) {\r\n            this.portal = portal;\r\n            this.arena = arena;\r\n        }\r\n        \r\n        void startPortal() {\r\n            portal.start();\r\n            arena.start();\r\n            // Rest of the logic here\r\n        }\r\n    \r\n        void closeArena() {\r\n            arena.close();\r\n            portal.close();\r\n            // Rest of the logic here\r\n        }\r\n     \r\n        //....\r\n    \r\n    }","title":"Avoiding circular depenency between Arena and Portal","body":"<p>Why not a wrapper class for both <code>Arena</code> and <code>Portal</code>:</p>\n<pre><code>public class PortalArena {\n\n    private final Portal portal;\n\n    private final Arena arena;\n\n    PortalArena(Portal portal, Arena arena) {\n        this.portal = portal;\n        this.arena = arena;\n    }\n    \n    void startPortal() {\n        portal.start();\n        arena.start();\n        // Rest of the logic here\n    }\n\n    void closeArena() {\n        arena.close();\n        portal.close();\n        // Rest of the logic here\n    }\n \n    //....\n\n}\n</code></pre>\n"}],"owner":{"account_id":22241220,"reputation":23,"user_id":16475687,"display_name":"user_020599"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70238789,"answer_count":2,"score":0,"last_activity_date":1638740393,"creation_date":1638739632,"question_id":70238693,"body_markdown":"I&#39;m trying to resolve this ciruclar dependency while preferebly keeping both objects immutable. \r\n\r\n    public class Arena {\r\n    \r\n        private final Portal portal;\r\n    \r\n        Arena(Portal portal) {\r\n            this.portal = portal;\r\n        }\r\n    \r\n        void close() {\r\n            portal.close();\r\n        }\r\n    \r\n        void start() {\r\n    \r\n        }\r\n    }\r\n\r\n    public class Portal {\r\n    \r\n        private final Arena arena;\r\n    \r\n        Portal(Arena arena) {\r\n            this.arena = arena;\r\n        }\r\n    \r\n        void close() {\r\n    \r\n        }\r\n    \r\n        void start() {\r\n            arena.start();\r\n        }\r\n    \r\n    }\r\n\r\nBasically, I need portal to be able to activate itself, and start the arena. Opposite, I need Arena to reset &amp; close itself, and the portal. I found a solution by having two HashMap&#39;s &lt;Arena, Portal&gt; and &lt;Portal, Arena&gt;, however I want to figure out if it&#39;s a better way to solve this for learning and progression. \r\n\r\nThe classes are made more simple in here, as in reality they have more variables and identifiers. ","title":"Avoiding circular depenency between Arena and Portal","body":"<p>I'm trying to resolve this ciruclar dependency while preferebly keeping both objects immutable.</p>\n<pre><code>public class Arena {\n\n    private final Portal portal;\n\n    Arena(Portal portal) {\n        this.portal = portal;\n    }\n\n    void close() {\n        portal.close();\n    }\n\n    void start() {\n\n    }\n}\n\npublic class Portal {\n\n    private final Arena arena;\n\n    Portal(Arena arena) {\n        this.arena = arena;\n    }\n\n    void close() {\n\n    }\n\n    void start() {\n        arena.start();\n    }\n\n}\n</code></pre>\n<p>Basically, I need portal to be able to activate itself, and start the arena. Opposite, I need Arena to reset &amp; close itself, and the portal. I found a solution by having two HashMap's &lt;Arena, Portal&gt; and &lt;Portal, Arena&gt;, however I want to figure out if it's a better way to solve this for learning and progression.</p>\n<p>The classes are made more simple in here, as in reality they have more variables and identifiers.</p>\n"},{"tags":["java","properties"],"answers":[{"tags":[],"owner":{"account_id":294087,"reputation":6941,"user_id":597770,"display_name":"iluxa"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1299268021,"creation_date":1299268021,"answer_id":5198498,"question_id":5198428,"body_markdown":"In properties files, both of these are legit:\r\n\r\n    key1 = value\r\n    key2: value\r\n\r\nSo both = and : must be escaped.\r\n\r\nNow, if you read the thing back with Properties, it&#39;s no problem. Otherwise, you&#39;ll have to write custom code","title":"Saving to properties file escapes :","body":"<p>In properties files, both of these are legit:</p>\n\n<pre><code>key1 = value\nkey2: value\n</code></pre>\n\n<p>So both = and : must be escaped.</p>\n\n<p>Now, if you read the thing back with Properties, it's no problem. Otherwise, you'll have to write custom code</p>\n"},{"tags":[],"owner":{"account_id":137377,"reputation":39554,"user_id":341508,"accept_rate":88,"display_name":"limc"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1299268133,"creation_date":1299268133,"answer_id":5198524,"question_id":5198428,"body_markdown":"That&#39;s what the [store()][1] API does:-\r\n\r\n&gt; Each character of the key and element\r\n&gt; strings is examined to see whether it\r\n&gt; should be rendered as an escape\r\n&gt; sequence. The ASCII characters \\, tab,\r\n&gt; form feed, newline, and carriage\r\n&gt; return are written as \\\\, \\t, \\f \\n,\r\n&gt; and \\r, respectively. Characters less\r\n&gt; than \\u0020 and characters greater\r\n&gt; than \\u007E are written as \\uxxxx for\r\n&gt; the appropriate hexadecimal value\r\n&gt; xxxx. For the key, all space\r\n&gt; characters are written with a\r\n&gt; preceding \\ character. For the\r\n&gt; element, leading space characters, but\r\n&gt; not embedded or trailing space\r\n&gt; characters, are written with a\r\n&gt; preceding \\ character. The key and\r\n&gt; element characters #, !, =, and : are\r\n&gt; written with a preceding backslash to\r\n&gt; ensure that they are properly loaded.\r\n\r\nIt shouldn&#39;t really matter to you as long as you use `Properties` to get the values.\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/api/java/util/Properties.html#store%28java.io.OutputStream,%20java.lang.String%29","title":"Saving to properties file escapes :","body":"<p>That's what the <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/Properties.html#store%28java.io.OutputStream,%20java.lang.String%29\" rel=\"nofollow\">store()</a> API does:-</p>\n\n<blockquote>\n  <p>Each character of the key and element\n  strings is examined to see whether it\n  should be rendered as an escape\n  sequence. The ASCII characters \\, tab,\n  form feed, newline, and carriage\n  return are written as \\, \\t, \\f \\n,\n  and \\r, respectively. Characters less\n  than \\u0020 and characters greater\n  than \\u007E are written as \\uxxxx for\n  the appropriate hexadecimal value\n  xxxx. For the key, all space\n  characters are written with a\n  preceding \\ character. For the\n  element, leading space characters, but\n  not embedded or trailing space\n  characters, are written with a\n  preceding \\ character. The key and\n  element characters #, !, =, and : are\n  written with a preceding backslash to\n  ensure that they are properly loaded.</p>\n</blockquote>\n\n<p>It shouldn't really matter to you as long as you use <code>Properties</code> to get the values.</p>\n"}],"owner":{"account_id":143820,"reputation":5008,"user_id":352442,"accept_rate":98,"display_name":"MBU"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8420,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":5198498,"answer_count":2,"score":11,"last_activity_date":1638740041,"creation_date":1299267535,"question_id":5198428,"body_markdown":"Does anyone know why the colons are getting escaped when I store the properties file?\r\n\r\nI&#39;m doing this:\r\n\r\n    Properties prop = new Properties();\r\n\r\n\r\n    // Set the properties value.\r\n\r\n    prop.setProperty(&quot;url&quot;,&quot;http://localhost:7101/test/home&quot;);\r\n\r\n\r\nAnd storing using:\r\n\r\n\r\n    prop.store(new FileOutputStream(propFile), null);\r\n\r\n\r\nIt&#39;s working but the output has colons escaped for some reason:\r\n\r\n\r\n    url=http\\://localhost\\:7101/test/home\r\n\r\n\r\nAnyone know a fix?","title":"Saving to properties file escapes :","body":"<p>Does anyone know why the colons are getting escaped when I store the properties file?</p>\n\n<p>I'm doing this:</p>\n\n<pre><code>Properties prop = new Properties();\n\n\n// Set the properties value.\n\nprop.setProperty(\"url\",\"http://localhost:7101/test/home\");\n</code></pre>\n\n<p>And storing using:</p>\n\n<pre><code>prop.store(new FileOutputStream(propFile), null);\n</code></pre>\n\n<p>It's working but the output has colons escaped for some reason:</p>\n\n<pre><code>url=http\\://localhost\\:7101/test/home\n</code></pre>\n\n<p>Anyone know a fix?</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"answers":[{"tags":[],"owner":{"account_id":6384814,"reputation":60263,"user_id":4953079,"display_name":"Matthias J. Sax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638740012,"creation_date":1638740012,"answer_id":70238746,"question_id":70078058,"body_markdown":"In Kafka 2.4 a new incremental rebalancing protocol was added, that does not revoke all partitions during a rebalance: https://www.confluent.io/blog/cooperative-rebalancing-in-kafka-streams-consumer-ksqldb/","title":"Why not all consumers are properly revoked before assigning new partitions within singe group","body":"<p>In Kafka 2.4 a new incremental rebalancing protocol was added, that does not revoke all partitions during a rebalance: <a href=\"https://www.confluent.io/blog/cooperative-rebalancing-in-kafka-streams-consumer-ksqldb/\" rel=\"nofollow noreferrer\">https://www.confluent.io/blog/cooperative-rebalancing-in-kafka-streams-consumer-ksqldb/</a></p>\n"}],"owner":{"account_id":8933964,"reputation":31,"user_id":7515742,"display_name":"MsSourDiesel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638740012,"creation_date":1637658443,"question_id":70078058,"body_markdown":"Consider there are 4 consumers (A,B,C,D) . C is closed by calling close(). Ideally Partitions assigned to A,B and D should be revoked before assigning any new partitions but A is getting revoked and getting new partitions and then B is getting revoked. Why this behaviour is observed ? How can this be resolved. ","title":"Why not all consumers are properly revoked before assigning new partitions within singe group","body":"<p>Consider there are 4 consumers (A,B,C,D) . C is closed by calling close(). Ideally Partitions assigned to A,B and D should be revoked before assigning any new partitions but A is getting revoked and getting new partitions and then B is getting revoked. Why this behaviour is observed ? How can this be resolved.</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1638739678,"post_id":70238663,"comment_id":124162505,"body_markdown":"They are--but you create the `Calculator` once, with `0` as the `double` params. `calculate` should take the numbers and perform their calculation. Unrelated, but it&#39;d be better if `#calculate` did only that: calculate. What to *do* with the results of the calculation should be up to the caller.","body":"They are--but you create the <code>Calculator</code> once, with <code>0</code> as the <code>double</code> params. <code>calculate</code> should take the numbers and perform their calculation. Unrelated, but it&#39;d be better if <code>#calculate</code> did only that: calculate. What to <i>do</i> with the results of the calculation should be up to the caller."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1638739754,"post_id":70238663,"comment_id":124162533,"body_markdown":"Alternatively, you could create a new `Calculator` for each operation (as opposed to once at the beginning), which would allow the current `Calculator` implementations to work as intended. Which is &quot;better&quot; depends on goals.","body":"Alternatively, you could create a new <code>Calculator</code> for each operation (as opposed to once at the beginning), which would allow the current <code>Calculator</code> implementations to work as intended. Which is &quot;better&quot; depends on goals."}],"answers":[{"tags":[],"owner":{"account_id":20240228,"reputation":496,"user_id":14844306,"display_name":"Ben Anderson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638739810,"creation_date":1638739810,"answer_id":70238719,"question_id":70238663,"body_markdown":"When you initialise your Addition, Subtraction, Multiplication and Division classes, `num1` and `num2` are `0`.\r\nIn Java, variables are passed by value therefore in all the subclasses they have the value of `0`. The fact that you change `num1` and `num2` later in the code doesn&#39;t change the variables in the subclasses stored in the `allMath` array.\r\n\r\nSolution: Move your `allMath` array creation below when you change the values of `num1` and `num2`.","title":"How to send variable to method through an arraylist","body":"<p>When you initialise your Addition, Subtraction, Multiplication and Division classes, <code>num1</code> and <code>num2</code> are <code>0</code>.\nIn Java, variables are passed by value therefore in all the subclasses they have the value of <code>0</code>. The fact that you change <code>num1</code> and <code>num2</code> later in the code doesn't change the variables in the subclasses stored in the <code>allMath</code> array.</p>\n<p>Solution: Move your <code>allMath</code> array creation below when you change the values of <code>num1</code> and <code>num2</code>.</p>\n"}],"owner":{"account_id":23555646,"reputation":23,"user_id":17597705,"display_name":"Koryn Pascoe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70238719,"answer_count":1,"score":1,"last_activity_date":1638739810,"creation_date":1638739404,"question_id":70238663,"body_markdown":"I&#39;m not very good at explaining things but can someone try to explain to me why my user input variables are not being sent to my methods in another class? \r\n\r\nThis is my main class:\r\n\r\n    import java.util.Scanner; //import scanner class for user input\r\n\r\n\r\n    public static void main(String[] args) \r\n    {\r\n        Scanner input = new Scanner(System.in);//declare scanner object called input for user input\r\n        char operation = &#39;\\u0000&#39;;\r\n        double num1 = 0;\r\n        double num2 = 0;\r\n        \r\n        Calculator allMath[] = new Calculator[4];\r\n        allMath[0] = new Addition(num1, num2, operation);\r\n        allMath[1] = new Subtraction(num1, num2, operation);\r\n        allMath[2] = new Multiplication(num1, num2, operation);\r\n        allMath[3] = new Division(num1, num2, operation);\r\n        \r\n        System.out.println(&quot;This calculator can perform basic mathematic functions such as &quot;\r\n                    + &quot;addition, subtraction, multiplication, and division. &quot;\r\n                + &quot;\\nOnce you are finished using the calculator please enter a ! character.&quot;);\r\n       \r\n        System.out.println(&quot;Please enter in which operation you would like to perform. &quot;\r\n                + &quot;Enter + for addition, - for subtraction, * for multiplication &quot;\r\n                + &quot;and / for division.&quot;);\r\n        operation = input.next().charAt(0);\r\n        \r\n        while (operation != &#39;!&#39;)\r\n        {\r\n\r\n        System.out.println(&quot;Please enter the first number for your calculation.&quot;);\r\n        num1 = input.nextDouble();\r\n        \r\n        System.out.println(&quot;Please enter the second number for your calculation.&quot;);\r\n        num2 = input.nextDouble();\r\n        \r\n        switch (operation)  \r\n       {\r\n        case &#39;+&#39;:\r\n            allMath[0].calculate();\r\n            break;\r\n        case &#39;-&#39;:\r\n            allMath[1].calculate();;\r\n            break;\r\n        case &#39;*&#39;:\r\n            allMath[2].calculate();\r\n            break;\r\n        case &#39;/&#39;:\r\n            allMath[3].calculate();\r\n            break;\r\n        default:\r\n            \r\n        }\r\n        \r\n        \r\n    }\r\n    }\r\n}\r\n\r\nThis is an example of one of my subclasses that I am trying to send the variables to. All the other ones are the same with respect to the difference in calculation. \r\n\r\n\r\n    public class Addition extends Calculator\r\n    { \r\n    \r\n       public double num1; \r\n    \r\n       public double num2;\r\n    \r\n       public char operation;\r\n    \r\n       \r\n       public Addition (double num1, double num2, char operation)\r\n       {\r\n    \r\n           this.num1 = num1;\r\n    \r\n           this.num2 = num2;\r\n    \r\n           this.operation = operation; \r\n    \r\n       }\r\n       @Override\r\n    \r\n       public void calculate()\r\n       {\r\n    \r\n           System.out.println((num1)+ &quot; + &quot; + (num2) + &quot; is &quot; + (num1 + num2)); \r\n    \r\n       }\r\n       \r\n    }\r\n\r\nMy superclass is just an abstract class with an abstract method per my school project guiedlines. I am taking an OOP class that is focusing on the concepts of OOP through java so I only know the basics of java. I am confused on what else I need to do in order for my method to receive the user input numbers.\r\n","title":"How to send variable to method through an arraylist","body":"<p>I'm not very good at explaining things but can someone try to explain to me why my user input variables are not being sent to my methods in another class?</p>\n<p>This is my main class:</p>\n<pre><code>import java.util.Scanner; //import scanner class for user input\n\n\npublic static void main(String[] args) \n{\n    Scanner input = new Scanner(System.in);//declare scanner object called input for user input\n    char operation = '\\u0000';\n    double num1 = 0;\n    double num2 = 0;\n    \n    Calculator allMath[] = new Calculator[4];\n    allMath[0] = new Addition(num1, num2, operation);\n    allMath[1] = new Subtraction(num1, num2, operation);\n    allMath[2] = new Multiplication(num1, num2, operation);\n    allMath[3] = new Division(num1, num2, operation);\n    \n    System.out.println(&quot;This calculator can perform basic mathematic functions such as &quot;\n                + &quot;addition, subtraction, multiplication, and division. &quot;\n            + &quot;\\nOnce you are finished using the calculator please enter a ! character.&quot;);\n   \n    System.out.println(&quot;Please enter in which operation you would like to perform. &quot;\n            + &quot;Enter + for addition, - for subtraction, * for multiplication &quot;\n            + &quot;and / for division.&quot;);\n    operation = input.next().charAt(0);\n    \n    while (operation != '!')\n    {\n\n    System.out.println(&quot;Please enter the first number for your calculation.&quot;);\n    num1 = input.nextDouble();\n    \n    System.out.println(&quot;Please enter the second number for your calculation.&quot;);\n    num2 = input.nextDouble();\n    \n    switch (operation)  \n   {\n    case '+':\n        allMath[0].calculate();\n        break;\n    case '-':\n        allMath[1].calculate();;\n        break;\n    case '*':\n        allMath[2].calculate();\n        break;\n    case '/':\n        allMath[3].calculate();\n        break;\n    default:\n        \n    }\n    \n    \n}\n}\n</code></pre>\n<p>}</p>\n<p>This is an example of one of my subclasses that I am trying to send the variables to. All the other ones are the same with respect to the difference in calculation.</p>\n<pre><code>public class Addition extends Calculator\n{ \n\n   public double num1; \n\n   public double num2;\n\n   public char operation;\n\n   \n   public Addition (double num1, double num2, char operation)\n   {\n\n       this.num1 = num1;\n\n       this.num2 = num2;\n\n       this.operation = operation; \n\n   }\n   @Override\n\n   public void calculate()\n   {\n\n       System.out.println((num1)+ &quot; + &quot; + (num2) + &quot; is &quot; + (num1 + num2)); \n\n   }\n   \n}\n</code></pre>\n<p>My superclass is just an abstract class with an abstract method per my school project guiedlines. I am taking an OOP class that is focusing on the concepts of OOP through java so I only know the basics of java. I am confused on what else I need to do in order for my method to receive the user input numbers.</p>\n"},{"tags":["java","string","replace"],"answers":[{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1638739569,"creation_date":1638739569,"answer_id":70238682,"question_id":70238613,"body_markdown":"Since Java 9 we can use [`Matcher.replaceAll​(Function&lt;MatchResult,String&gt; replacer)`][1]\r\n\r\n    String str = &quot;Hi (abc), how (a)re (You)?&quot;;\r\n    \r\n    Pattern p = Pattern.compile(&quot;\\\\((.*?)\\\\)&quot;); //matches parenthesis and places \r\n                                                //content between them in group 1\r\n    String replaced = p.matcher(str)\r\n            .replaceAll(match -&gt; match.group(1).toUpperCase()); //replace each match with\r\n                                                //content of its group 1 in its upper case \r\n    \r\n    System.out.println(replaced);\r\n\r\n\r\nOutput: `Hi ABC, how Are YOU?`\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html#replaceAll-java.util.function.Function-","title":"How to replace all substrings?","body":"<p>Since Java 9 we can use <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html#replaceAll-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>Matcher.replaceAll​(Function&lt;MatchResult,String&gt; replacer)</code></a></p>\n<pre><code>String str = &quot;Hi (abc), how (a)re (You)?&quot;;\n\nPattern p = Pattern.compile(&quot;\\\\((.*?)\\\\)&quot;); //matches parenthesis and places \n                                            //content between them in group 1\nString replaced = p.matcher(str)\n        .replaceAll(match -&gt; match.group(1).toUpperCase()); //replace each match with\n                                            //content of its group 1 in its upper case \n\nSystem.out.println(replaced);\n</code></pre>\n<p>Output: <code>Hi ABC, how Are YOU?</code></p>\n"}],"owner":{"account_id":19283905,"reputation":95,"user_id":14095346,"display_name":"jenny jenkins"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70238682,"answer_count":1,"score":-1,"last_activity_date":1638739569,"creation_date":1638738970,"question_id":70238613,"body_markdown":"I want to replace all the text within brackets to uppercase letters for any `String` object. For example if the text is - `Hi (abc), how (a)re (You)?&quot;` , output should be - `Hi ABC, how Are YOU?` . I tried to use `StringUtils.SubstringBetween()`, but that replaces only the first substring between `()`.\r\nUsing `regex`, I suppose the `group()` method requires the count of such substrings. What is the correct direction to be taken?\r\n","title":"How to replace all substrings?","body":"<p>I want to replace all the text within brackets to uppercase letters for any <code>String</code> object. For example if the text is - <code>Hi (abc), how (a)re (You)?&quot;</code> , output should be - <code>Hi ABC, how Are YOU?</code> . I tried to use <code>StringUtils.SubstringBetween()</code>, but that replaces only the first substring between <code>()</code>.\nUsing <code>regex</code>, I suppose the <code>group()</code> method requires the count of such substrings. What is the correct direction to be taken?</p>\n"},{"tags":["java","spring-data-jpa","crud-repository"],"comments":[{"owner":{"account_id":10376193,"reputation":278,"user_id":7652300,"display_name":"Abenamor"},"score":1,"creation_date":1638575048,"post_id":70220954,"comment_id":124133809,"body_markdown":"can you post the code of the entiy Employee and the class EmployyPk ? In fact you can use methods defined by `JpaRepository` based in the entity fields to delete employees by firstName","body":"can you post the code of the entiy Employee and the class EmployyPk ? In fact you can use methods defined by <code>JpaRepository</code> based in the entity fields to delete employees by firstName"},{"owner":{"account_id":23539436,"reputation":33,"user_id":17583878,"display_name":"Bizzaroerik"},"score":0,"creation_date":1638726536,"post_id":70220954,"comment_id":124159199,"body_markdown":"Posted. Yes I was looking for something like you mentioned but couldn&#39;t find documentation when it involved an EmbeddedId.","body":"Posted. Yes I was looking for something like you mentioned but couldn&#39;t find documentation when it involved an EmbeddedId."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638727031,"creation_date":1638727031,"answer_id":70237062,"question_id":70220954,"body_markdown":"The following should work:\r\n```java\r\n@Repository\r\npublic interface EmployeeRepository extends JpaRepository&lt;Employee, EmployeePk&gt; {\r\n\r\n    @Transactional\r\n    @Modifying\r\n    void deleteByEmployeePKFirstName(String firstname);\r\n}\r\n```\r\n\r\nOr if you want it to be more readable:\r\n```java\r\n@Repository\r\npublic interface EmployeeRepository extends JpaRepository&lt;Employee, EmployeePk&gt; {\r\n\r\n    @Transactional\r\n    @Modifying\r\n    void deleteByEmployeePK_FirstName(String firstname);\r\n}\r\n```","title":"Delete from a JPARepository with an EmbeddedId by a field in the primary key","body":"<p>The following should work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface EmployeeRepository extends JpaRepository&lt;Employee, EmployeePk&gt; {\n\n    @Transactional\n    @Modifying\n    void deleteByEmployeePKFirstName(String firstname);\n}\n</code></pre>\n<p>Or if you want it to be more readable:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface EmployeeRepository extends JpaRepository&lt;Employee, EmployeePk&gt; {\n\n    @Transactional\n    @Modifying\n    void deleteByEmployeePK_FirstName(String firstname);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10376193,"reputation":278,"user_id":7652300,"display_name":"Abenamor"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1638739376,"creation_date":1638739376,"answer_id":70238660,"question_id":70220954,"body_markdown":"Thanks for adding the Employee and EmployeePK code source.\r\n\r\nSince you have the field `firstName` in your entity so you can *use derived delete queries that let you avoid having to declare the JPQL query explicitly*\r\n\r\nBased in [spring data documentation][1] \r\n\r\n&gt; Derived Delete Queries\r\n&gt; \r\n&gt; Spring Data JPA also supports derived delete queries that let you\r\n&gt; avoid having to declare the JPQL query explicitly, as shown in the\r\n&gt; following example:\r\n\r\nYou can add this method in your repositroy.\r\n\r\n    @Repository\r\n    public interface EmployeeRepository extends JpaRepository&lt;Employee, EmployeePK&gt; {\r\n\r\n    void deleteByEmployeePK_FirstName(String firstName);\r\n    }\r\n\r\nYou don&#39;t need `@Modify` annotation since you will not use `@Query` annotation.\r\n\r\nAnd add `@Entity` to your entity in order to be mapped by the associated table in the database. \r\n\r\n    @Entity\r\n    public class Employee {\r\n\r\n    @EmbeddedId\r\n    private EmployeePK employeePK;\r\n\r\n    private LocalDate birthDate;\r\n\r\n     }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.modifying-queries","title":"Delete from a JPARepository with an EmbeddedId by a field in the primary key","body":"<p>Thanks for adding the Employee and EmployeePK code source.</p>\n<p>Since you have the field <code>firstName</code> in your entity so you can <em>use derived delete queries that let you avoid having to declare the JPQL query explicitly</em></p>\n<p>Based in <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.modifying-queries\" rel=\"nofollow noreferrer\">spring data documentation</a></p>\n<blockquote>\n<p>Derived Delete Queries</p>\n<p>Spring Data JPA also supports derived delete queries that let you\navoid having to declare the JPQL query explicitly, as shown in the\nfollowing example:</p>\n</blockquote>\n<p>You can add this method in your repositroy.</p>\n<pre><code>@Repository\npublic interface EmployeeRepository extends JpaRepository&lt;Employee, EmployeePK&gt; {\n\nvoid deleteByEmployeePK_FirstName(String firstName);\n}\n</code></pre>\n<p>You don't need <code>@Modify</code> annotation since you will not use <code>@Query</code> annotation.</p>\n<p>And add <code>@Entity</code> to your entity in order to be mapped by the associated table in the database.</p>\n<pre><code>@Entity\npublic class Employee {\n\n@EmbeddedId\nprivate EmployeePK employeePK;\n\nprivate LocalDate birthDate;\n\n }\n</code></pre>\n"}],"owner":{"account_id":23539436,"reputation":33,"user_id":17583878,"display_name":"Bizzaroerik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4148,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70238660,"answer_count":2,"score":3,"last_activity_date":1638739376,"creation_date":1638567508,"question_id":70220954,"body_markdown":"Currently I have a Spring Boot application using JpaRepository&lt;Employee, EmployeePk&gt;\r\nwhere let&#39;s say EmployeePk is firstname, lastname. Is there a way to delete by Primary Key field without having to specify a custom @Query? It&#39;s ok to delete multiple rows if multiple people were named &quot;John&quot;.\r\n\r\nExample:\r\n```\r\n@Repository\r\npublic interface EmployeeRepository extends JpaRepository&lt;Employee, EmployeePk&gt; {\r\n\r\n    @Transactional\r\n    @Modifying\r\n    @Query(value = &quot;DELETE FROM Employee e WHERE e.EmployeePk.firstname = :firstname &quot;)\r\n    void deleteAllByEeId(String firstname);\r\n}\r\n```\r\nsuch as\r\n```\r\nvoid deleteByEmployeePkWhereFirstname(String firstname);\r\n```\r\n\r\n\r\nEmployee class and Embedded PK\r\n\r\n```\r\npublic class Employee {\r\n\r\n    @EmbeddedId\r\n    private EmployeePK employeePK;\r\n    \r\n    private LocalDate birthDate;\r\n\r\n}\r\n\r\npublic class EmployeePK implements Serializable {\r\n\r\n    public static final long serialVersionUID = 1L;\r\n\r\n    private String firstName;\r\n\r\n    private String lastName;\r\n}\r\n```","title":"Delete from a JPARepository with an EmbeddedId by a field in the primary key","body":"<p>Currently I have a Spring Boot application using JpaRepository&lt;Employee, EmployeePk&gt;\nwhere let's say EmployeePk is firstname, lastname. Is there a way to delete by Primary Key field without having to specify a custom @Query? It's ok to delete multiple rows if multiple people were named &quot;John&quot;.</p>\n<p>Example:</p>\n<pre><code>@Repository\npublic interface EmployeeRepository extends JpaRepository&lt;Employee, EmployeePk&gt; {\n\n    @Transactional\n    @Modifying\n    @Query(value = &quot;DELETE FROM Employee e WHERE e.EmployeePk.firstname = :firstname &quot;)\n    void deleteAllByEeId(String firstname);\n}\n</code></pre>\n<p>such as</p>\n<pre><code>void deleteByEmployeePkWhereFirstname(String firstname);\n</code></pre>\n<p>Employee class and Embedded PK</p>\n<pre><code>public class Employee {\n\n    @EmbeddedId\n    private EmployeePK employeePK;\n    \n    private LocalDate birthDate;\n\n}\n\npublic class EmployeePK implements Serializable {\n\n    public static final long serialVersionUID = 1L;\n\n    private String firstName;\n\n    private String lastName;\n}\n</code></pre>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":20240228,"reputation":496,"user_id":14844306,"display_name":"Ben Anderson"},"score":0,"creation_date":1638736046,"post_id":70238249,"comment_id":124161632,"body_markdown":"Given the information provided, you could consider just using `Map.class`?","body":"Given the information provided, you could consider just using <code>Map.class</code>?"},{"owner":{"account_id":23509685,"reputation":1,"user_id":17558384,"display_name":"yemen"},"score":0,"creation_date":1638736449,"post_id":70238249,"comment_id":124161735,"body_markdown":"@BenAnderson That too shows a compilation error `no instance of type variable exists so that map conforms to serializable`","body":"@BenAnderson That too shows a compilation error <code>no instance of type variable exists so that map conforms to serializable</code>"},{"owner":{"account_id":23509685,"reputation":1,"user_id":17558384,"display_name":"yemen"},"score":0,"creation_date":1638737796,"post_id":70238249,"comment_id":124162035,"body_markdown":"Using `HashMap.class` works but I am not sure If it will cause some issue as the actual type I am expecting is Map&lt;String,Branch&gt;","body":"Using <code>HashMap.class</code> works but I am not sure If it will cause some issue as the actual type I am expecting is Map&lt;String,Branch&gt;"},{"owner":{"account_id":23509685,"reputation":1,"user_id":17558384,"display_name":"yemen"},"score":0,"creation_date":1638738126,"post_id":70238249,"comment_id":124162148,"body_markdown":"It does cause a problem as Branch is a custom class that internally contains a hashmap. It seems it cannot deserialize this properly","body":"It does cause a problem as Branch is a custom class that internally contains a hashmap. It seems it cannot deserialize this properly"},{"owner":{"account_id":20240228,"reputation":496,"user_id":14844306,"display_name":"Ben Anderson"},"score":0,"creation_date":1638738268,"post_id":70238249,"comment_id":124162196,"body_markdown":"`Branch` is serializable right?","body":"<code>Branch</code> is serializable right?"},{"owner":{"account_id":20240228,"reputation":496,"user_id":14844306,"display_name":"Ben Anderson"},"score":0,"creation_date":1638738542,"post_id":70238249,"comment_id":124162268,"body_markdown":"And if you can&#39;t get your current method to work I&#39;d recommend creating a new map and then deserializing all the objects and adding them to it manually.","body":"And if you can&#39;t get your current method to work I&#39;d recommend creating a new map and then deserializing all the objects and adding them to it manually."},{"owner":{"account_id":23509685,"reputation":1,"user_id":17558384,"display_name":"yemen"},"score":0,"creation_date":1638739090,"post_id":70238249,"comment_id":124162369,"body_markdown":"@BenAnderson, yes, the Branch is serializable. I have changed it to `Commit,` which is the same as Branch, and added another code that works well. But not sure why this is not working","body":"@BenAnderson, yes, the Branch is serializable. I have changed it to <code>Commit,</code> which is the same as Branch, and added another code that works well. But not sure why this is not working"},{"owner":{"account_id":20240228,"reputation":496,"user_id":14844306,"display_name":"Ben Anderson"},"score":1,"creation_date":1638739497,"post_id":70238249,"comment_id":124162465,"body_markdown":"See [this question](https://stackoverflow.com/questions/1079279/class-object-of-generic-class-java) for some possible work-arounds.","body":"See <a href=\"https://stackoverflow.com/questions/1079279/class-object-of-generic-class-java\">this question</a> for some possible work-arounds."}],"owner":{"account_id":23509685,"reputation":1,"user_id":17558384,"display_name":"yemen"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638739309,"creation_date":1638735937,"question_id":70238249,"body_markdown":"I am getting an error in the following line - `Utils.read(new File(&quot;asd&quot;),Map&lt;String,Commit&gt;.class);`\r\n&lt;br&gt;\r\nThe error is `cannot select from parameterized type`&lt;br&gt;\r\nThe readObject function is declared as `public static &lt;T extends Serializable&gt; T readObject(File file,\r\n                                                        Class&lt;T&gt; expectedClass)`&lt;br&gt;\r\nHow do I pass a Map of type &lt;String, Commit&gt; in this case\r\n&lt;br&gt;\r\n\r\n    The complete definition of readObject function: &lt;br&gt;\r\n     public static &lt;T extends Serializable&gt; T readObject(File file,\r\n                                                            Class&lt;T&gt; expectedClass) {\r\n            try {\r\n                ObjectInputStream in =\r\n                        new ObjectInputStream(new FileInputStream(file));\r\n                T result = expectedClass.cast(in.readObject());\r\n                in.close();\r\n                return result;\r\n            } catch (IOException | ClassCastException\r\n                    | ClassNotFoundException excp) {\r\n                throw new IllegalArgumentException(excp.getMessage());\r\n            }\r\n        }&lt;br&gt;\r\n\r\n&lt;br&gt;\r\nIs instead of the above code to read the object, I use the following code : \r\n&lt;br&gt;\r\n\r\n    Object readObject(File f) {\r\n            byte[] arr = Utils.readContents(f);\r\n            ByteArrayInputStream i = new ByteArrayInputStream(arr);\r\n            try {\r\n                ObjectInputStream s = new ObjectInputStream(i);\r\n                Object o = s.readObject();\r\n                s.close();\r\n                i.close();\r\n                return o;\r\n            } catch (IOException | ClassNotFoundException c) {\r\n                System.out.println(&quot;IOException&quot;);\r\n                return null;\r\n            }\r\n        }&lt;br&gt;\r\nand call `(HashMap&lt;String, Commit&gt;)\r\n                    readObject(Utils.join(dir, &quot;commits&quot;));` Then it works perfectly. The Commit is serializable and internally has a HashMap. This is coming null if I use the earlier code, but it&#39;s coming alright with this code. The earlier code I am calling like. ``\r\n\r\n","title":"Unable to pass Class parameter for Map","body":"<p>I am getting an error in the following line - <code>Utils.read(new File(&quot;asd&quot;),Map&lt;String,Commit&gt;.class);</code>\n<br>\nThe error is <code>cannot select from parameterized type</code><br>\nThe readObject function is declared as <code>public static &lt;T extends Serializable&gt; T readObject(File file, Class&lt;T&gt; expectedClass)</code><br>\nHow do I pass a Map of type &lt;String, Commit&gt; in this case\n<br></p>\n<pre><code>The complete definition of readObject function: &lt;br&gt;\n public static &lt;T extends Serializable&gt; T readObject(File file,\n                                                        Class&lt;T&gt; expectedClass) {\n        try {\n            ObjectInputStream in =\n                    new ObjectInputStream(new FileInputStream(file));\n            T result = expectedClass.cast(in.readObject());\n            in.close();\n            return result;\n        } catch (IOException | ClassCastException\n                | ClassNotFoundException excp) {\n            throw new IllegalArgumentException(excp.getMessage());\n        }\n    }&lt;br&gt;\n</code></pre>\n<br>\nIs instead of the above code to read the object, I use the following code : \n<br>\n<pre><code>Object readObject(File f) {\n        byte[] arr = Utils.readContents(f);\n        ByteArrayInputStream i = new ByteArrayInputStream(arr);\n        try {\n            ObjectInputStream s = new ObjectInputStream(i);\n            Object o = s.readObject();\n            s.close();\n            i.close();\n            return o;\n        } catch (IOException | ClassNotFoundException c) {\n            System.out.println(&quot;IOException&quot;);\n            return null;\n        }\n    }&lt;br&gt;\n</code></pre>\n<p>and call <code>(HashMap&lt;String, Commit&gt;) readObject(Utils.join(dir, &quot;commits&quot;));</code> Then it works perfectly. The Commit is serializable and internally has a HashMap. This is coming null if I use the earlier code, but it's coming alright with this code. The earlier code I am calling like. ``</p>\n"},{"tags":["java","jpa","spring5"],"answers":[{"tags":[],"owner":{"account_id":4280750,"reputation":1855,"user_id":3500196,"display_name":"Shivang Agarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638738768,"creation_date":1638738768,"answer_id":70238588,"question_id":70184804,"body_markdown":"I was facing this problem after the JPA version upgrade which state that all the names were correct and mapped perfectly.\r\n\r\nThe solution I found was defining the native query within the **@Query** annotation of the spring data JPA because the problem was occurring when JPA was trying to create the JPA Named Query.\r\n\r\n    @Query(nativeQuery = true, value = &quot;Your Query here&quot;)\r\n    Optional&lt;Statistics&gt; findFirstByIdAndANumberAndDispositionCodeInOrderByCreatedDesc(Long id, String aNumber, Integer... dispositionCode);\r\n\r\nThis might not be the best solution but in my case I was not supposed to change the version as it was coming from the parent POM and this was the easiest solution which I could do.","title":"Unable to locate Attribute with the the given name [ANumber] on this ManagedType [com.company.domain.Statistics]","body":"<p>I was facing this problem after the JPA version upgrade which state that all the names were correct and mapped perfectly.</p>\n<p>The solution I found was defining the native query within the <strong>@Query</strong> annotation of the spring data JPA because the problem was occurring when JPA was trying to create the JPA Named Query.</p>\n<pre><code>@Query(nativeQuery = true, value = &quot;Your Query here&quot;)\nOptional&lt;Statistics&gt; findFirstByIdAndANumberAndDispositionCodeInOrderByCreatedDesc(Long id, String aNumber, Integer... dispositionCode);\n</code></pre>\n<p>This might not be the best solution but in my case I was not supposed to change the version as it was coming from the parent POM and this was the easiest solution which I could do.</p>\n"}],"owner":{"account_id":4280750,"reputation":1855,"user_id":3500196,"display_name":"Shivang Agarwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70238588,"answer_count":1,"score":0,"last_activity_date":1638738768,"creation_date":1638364128,"question_id":70184804,"body_markdown":"I just upgraded my project to spring5 which is causing the below error for the code which was working fine with earlier spring version.\r\n\r\nThe problem is JPA should map aNumber to ANumber but its not doing so its taking ANumber as ANumber rather than aNumber which is causing this issue.\r\n\r\nI see one thread for spring team but cannot see the resolution here: https://github.com/spring-projects/spring-data-jpa/issues/1247\r\n\r\nI tried to search everywhere but didn&#39;t find anything useful.\r\n\r\nDomain Class: \r\n\r\n    @Data\r\n    @Entity\r\n    public class Statistics {\r\n    \r\n        @Id\r\n        private Long id;\r\n    \r\n        private String aNumber;\r\n        private Integer dispositionCode;\r\n    \r\n        @CreatedDate\r\n        private OffsetDateTime created;\r\n    \r\n    }\r\n\r\nthe method in Repository interface:\r\n\r\n\r\n    Optional&lt;Statistics&gt; findFirstByIdAndANumberAndDispositionCodeInOrderByCreatedDesc(Long id, String aNumber, Integer... dispositionCode);\r\n\r\nNote: i know id can return unique result just to make exact example I made that change.\r\n","title":"Unable to locate Attribute with the the given name [ANumber] on this ManagedType [com.company.domain.Statistics]","body":"<p>I just upgraded my project to spring5 which is causing the below error for the code which was working fine with earlier spring version.</p>\n<p>The problem is JPA should map aNumber to ANumber but its not doing so its taking ANumber as ANumber rather than aNumber which is causing this issue.</p>\n<p>I see one thread for spring team but cannot see the resolution here: <a href=\"https://github.com/spring-projects/spring-data-jpa/issues/1247\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-jpa/issues/1247</a></p>\n<p>I tried to search everywhere but didn't find anything useful.</p>\n<p>Domain Class:</p>\n<pre><code>@Data\n@Entity\npublic class Statistics {\n\n    @Id\n    private Long id;\n\n    private String aNumber;\n    private Integer dispositionCode;\n\n    @CreatedDate\n    private OffsetDateTime created;\n\n}\n</code></pre>\n<p>the method in Repository interface:</p>\n<pre><code>Optional&lt;Statistics&gt; findFirstByIdAndANumberAndDispositionCodeInOrderByCreatedDesc(Long id, String aNumber, Integer... dispositionCode);\n</code></pre>\n<p>Note: i know id can return unique result just to make exact example I made that change.</p>\n"},{"tags":["java","file","upload","ftp"],"comments":[{"owner":{"account_id":450898,"reputation":15332,"user_id":846476,"accept_rate":86,"display_name":"RNJ"},"score":0,"creation_date":1344461958,"post_id":11873353,"comment_id":15797380,"body_markdown":"Does the file f exist? You are passing in a string I notice. Also do you have to close the FTPClient. What FTPClient are you using?","body":"Does the file f exist? You are passing in a string I notice. Also do you have to close the FTPClient. What FTPClient are you using?"},{"owner":{"account_id":1604891,"reputation":31,"user_id":1485172,"display_name":"Dupond Durand"},"score":0,"creation_date":1344462913,"post_id":11873353,"comment_id":15797712,"body_markdown":"@ user846476 : to answer you about the string, yes I think it&#39;s the proper way. When I copy this in windows explorer, it opens me the right file so I guess it&#39;s the right path. Concerning the second point, how can I close the ftp client ? thanks how do I do this ? I think it&#39;s the problem, yes","body":"@ user846476 : to answer you about the string, yes I think it&#39;s the proper way. When I copy this in windows explorer, it opens me the right file so I guess it&#39;s the right path. Concerning the second point, how can I close the ftp client ? thanks how do I do this ? I think it&#39;s the problem, yes"},{"owner":{"account_id":1604891,"reputation":31,"user_id":1485172,"display_name":"Dupond Durand"},"score":0,"creation_date":1344463155,"post_id":11873353,"comment_id":15797788,"body_markdown":"I tried with &quot;client.disconnect()&quot; but still the same problem. Probably not the good method right ?","body":"I tried with &quot;client.disconnect()&quot; but still the same problem. Probably not the good method right ?"}],"answers":[{"tags":[],"owner":{"account_id":1384198,"reputation":1065,"user_id":1453080,"display_name":"mercutio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1344461452,"creation_date":1344461452,"answer_id":11873479,"question_id":11873353,"body_markdown":"It seems like the problem has to do with the implementation of the FTPClient. Are you sure that the class works like that? \r\n\r\nTry uploading to a different server or using a different class to find the reason for the failure.\r\n\r\nAlso: Are you sure that it is your responsibility to close the FileInputStream? I could imagine that the `.storeFile(…)` method will close it itself, when it is done.","title":"Empty file after upload with JAVA on my ftp server","body":"<p>It seems like the problem has to do with the implementation of the FTPClient. Are you sure that the class works like that? </p>\n\n<p>Try uploading to a different server or using a different class to find the reason for the failure.</p>\n\n<p>Also: Are you sure that it is your responsibility to close the FileInputStream? I could imagine that the <code>.storeFile(…)</code> method will close it itself, when it is done.</p>\n"},{"tags":[],"owner":{"account_id":1730076,"reputation":666,"user_id":1583851,"display_name":"Vamsi Mohan Jayanti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1344498378,"creation_date":1344496681,"answer_id":11878498,"question_id":11873353,"body_markdown":"I think it could be something to do with the mode of file transfer . Can you set the trandfer mode to Binary. Some times when you sent data in ASCII it goes corrupted .\r\nRefer to this\r\nhttps://superuser.com/questions/82726/how-to-set-binary-mode-by-default-when-ftping-to-a-remote-site\r\n\r\nIt tells how to set binary mode in FTP Command client. You will have a similar provision in FTPClient class also.\r\n\r\nJust found I think similar question is answered here\r\nhttps://stackoverflow.com/questions/5925572/ftpclient-java-upload-file","title":"Empty file after upload with JAVA on my ftp server","body":"<p>I think it could be something to do with the mode of file transfer . Can you set the trandfer mode to Binary. Some times when you sent data in ASCII it goes corrupted .\nRefer to this\n<a href=\"https://superuser.com/questions/82726/how-to-set-binary-mode-by-default-when-ftping-to-a-remote-site\">https://superuser.com/questions/82726/how-to-set-binary-mode-by-default-when-ftping-to-a-remote-site</a></p>\n\n<p>It tells how to set binary mode in FTP Command client. You will have a similar provision in FTPClient class also.</p>\n\n<p>Just found I think similar question is answered here\n<a href=\"https://stackoverflow.com/questions/5925572/ftpclient-java-upload-file\">FTPClient - Java, upload file</a></p>\n"},{"tags":[],"owner":{"account_id":6009690,"reputation":1181,"user_id":4720495,"display_name":"gori"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638738544,"creation_date":1454429184,"answer_id":35158234,"question_id":11873353,"body_markdown":"Add these lines before client.login ftpClient default protocol is full text only for other files you need to specify binary mode\r\n\r\n    client.enterLocalPassiveMode()\r\n    client.setFileType(FTP.BINARY_FILE_TYPE, FTP.BINARY_FILE_TYPE);\r\n    client.setFileTransferMode(FTP.BINARY_FILE_TYPE);","title":"Empty file after upload with JAVA on my ftp server","body":"<p>Add these lines before client.login ftpClient default protocol is full text only for other files you need to specify binary mode</p>\n<pre><code>client.enterLocalPassiveMode()\nclient.setFileType(FTP.BINARY_FILE_TYPE, FTP.BINARY_FILE_TYPE);\nclient.setFileTransferMode(FTP.BINARY_FILE_TYPE);\n</code></pre>\n"}],"owner":{"account_id":1604891,"reputation":31,"user_id":1485172,"display_name":"Dupond Durand"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2712,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1638738544,"creation_date":1344460800,"question_id":11873353,"body_markdown":"I am facing some problem while trying to upload a file on my ftp server with java.\r\nhere is my code function : \r\n\r\n\r\n    public static void upload_files(String un, String pw, String ip, String f){\r\n      try\r\n        {\r\n            FTPClient client = new FTPClient();\r\n            client.connect(ip);\r\n            client.login(un,pw);\r\n            InputStream is = new FileInputStream(f);\r\n            client.storeFile(&quot;test2&quot;,is);\r\n            is.close();\r\n    \r\n        } catch(Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        }\r\n\r\n\r\n\r\n&quot;f&quot; is the path of the file I want to upload (ie &quot;C:\\\\myfile&quot;). No error during the compilation, one file is well sent to the server, but sadly empty (0 byte).\r\n\r\nI also noticed that it takes quite long for a simple upload of some text (around 40s) even thought I got a really good ISP.\r\n\r\nI thank in advance all people who will help me.\r\n\r\nRegards,","title":"Empty file after upload with JAVA on my ftp server","body":"<p>I am facing some problem while trying to upload a file on my ftp server with java.\nhere is my code function : </p>\n\n<pre><code>public static void upload_files(String un, String pw, String ip, String f){\n  try\n    {\n        FTPClient client = new FTPClient();\n        client.connect(ip);\n        client.login(un,pw);\n        InputStream is = new FileInputStream(f);\n        client.storeFile(\"test2\",is);\n        is.close();\n\n    } catch(Exception e) {\n        e.printStackTrace();\n    }\n    }\n</code></pre>\n\n<p>\"f\" is the path of the file I want to upload (ie \"C:\\myfile\"). No error during the compilation, one file is well sent to the server, but sadly empty (0 byte).</p>\n\n<p>I also noticed that it takes quite long for a simple upload of some text (around 40s) even thought I got a really good ISP.</p>\n\n<p>I thank in advance all people who will help me.</p>\n\n<p>Regards,</p>\n"},{"tags":["java","c#"],"answers":[{"tags":[],"owner":{"account_id":7659635,"reputation":731,"user_id":5805327,"display_name":"mcbr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1603224327,"creation_date":1603224327,"answer_id":64452588,"question_id":64448148,"body_markdown":"1. [DeflateStream](https://learn.microsoft.com/en-us/dotnet/api/system.io.compression.deflatestream?view=netcore-3.1) class uses the zlib library so it should work here (I&#39;m not familiar with Java). DeflateStream is a wrapper for another stream that contains compressed data or can receive data. When using DeflateStream you decompress when reading from the stream and compress when writing to the stream.\r\nHere is an example in .NET Core:\r\n\r\n```\r\n        public static byte[] Decompress(byte[] data)\r\n        {\r\n            using (var compressedDataStream = new MemoryStream(data))\r\n            using (var deflateStream = new DeflateStream(compressedDataStream, CompressionMode.Decompress))\r\n            using (var outputStream = new MemoryStream())\r\n            {\r\n                // reading from base stream (compressedDataStream) happens in CopyTo \r\n                // and decompressed data is copied to outputStream\r\n                deflateStream.CopyTo(outputStream);\r\n\r\n                return outputStream.ToArray();\r\n            }\r\n        }\r\n    \r\n```\r\n\r\n2. I don&#39;t know the library that you linked. You can search for dotnet libraries on nuget.org. It is default source of NuGets in Visual Studio. You can find SharpZipLib there which has Inflater/Deflater and streams. \r\n3. You should use `System.IO.MemoryStream`. From what I just googled it looks like it combines the functionality of `ByteArrayOutputStream` and `ByteArrayInputStream`.\r\n\r\n","title":"From Java to C#.Analog of java.util.zip.Inflater from java in C#","body":"<ol>\n<li><a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.io.compression.deflatestream?view=netcore-3.1\" rel=\"nofollow noreferrer\">DeflateStream</a> class uses the zlib library so it should work here (I'm not familiar with Java). DeflateStream is a wrapper for another stream that contains compressed data or can receive data. When using DeflateStream you decompress when reading from the stream and compress when writing to the stream.\nHere is an example in .NET Core:</li>\n</ol>\n<pre><code>        public static byte[] Decompress(byte[] data)\n        {\n            using (var compressedDataStream = new MemoryStream(data))\n            using (var deflateStream = new DeflateStream(compressedDataStream, CompressionMode.Decompress))\n            using (var outputStream = new MemoryStream())\n            {\n                // reading from base stream (compressedDataStream) happens in CopyTo \n                // and decompressed data is copied to outputStream\n                deflateStream.CopyTo(outputStream);\n\n                return outputStream.ToArray();\n            }\n        }\n    \n</code></pre>\n<ol start=\"2\">\n<li>I don't know the library that you linked. You can search for dotnet libraries on nuget.org. It is default source of NuGets in Visual Studio. You can find SharpZipLib there which has Inflater/Deflater and streams.</li>\n<li>You should use <code>System.IO.MemoryStream</code>. From what I just googled it looks like it combines the functionality of <code>ByteArrayOutputStream</code> and <code>ByteArrayInputStream</code>.</li>\n</ol>\n"}],"owner":{"account_id":19036119,"reputation":23,"user_id":14091873,"display_name":"denis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64452588,"answer_count":1,"score":1,"last_activity_date":1638738299,"creation_date":1603206913,"question_id":64448148,"body_markdown":"I&#39;m trying to translate Java code to C# and find problem with Infater. It&#39;s my task with binary work (sorry if it silly question)\r\n\r\nOriginal code:\r\n\r\n\tpublic static byte[] decompressByZLIB(byte[] compressedBytes)\r\n    {\r\n\t\ttry  \r\n        {\r\n\t\t\tInflater inflater = new Inflater();\r\n\t\t\tinflater.setInput(compressedBytes);\r\n\r\n\t\t\tByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream(compressedBytes.length);\r\n\r\n\t\t\tbyte[] buffer = new byte[1024];\r\n\r\n\t\t\twhile(!inflater.finished()) \r\n            {\r\n\t\t\t\tint count = inflater.inflate(buffer);\r\n\t\t\t\tbyteArrayOutputStream.write(buffer, 0, count);\r\n\t\t\t}\r\n\r\n\t\t\tbyteArrayOutputStream.close();\r\n\t\t\treturn byteArrayOutputStream.toByteArray();\r\n\t\t} \r\n        catch (Exception exception)\r\n        {\r\n\t\t\tthrow new IllegalStateException(exception.getMessage());\r\n\t\t}\r\n\t}\r\n\r\n1. Is Deflatorstream in C# right analog? How I understand deflate and inflate are methods for compression and decompression.\r\n\r\n2. In original code mentioned Zlib. How I understand It is what I need.\r\nI can&#39;t use Lib so I tried to understand this file http://www.componentace.com/.NET_zip_component_zipforge.htm, but I think I don&#39;t have enough experience to understand how all methods are working.\r\n\r\n3. What analog of java ByteArrayOutputStream in C#?","title":"From Java to C#.Analog of java.util.zip.Inflater from java in C#","body":"<p>I'm trying to translate Java code to C# and find problem with Infater. It's my task with binary work (sorry if it silly question)</p>\n<p>Original code:</p>\n<pre><code>public static byte[] decompressByZLIB(byte[] compressedBytes)\n{\n    try  \n    {\n        Inflater inflater = new Inflater();\n        inflater.setInput(compressedBytes);\n\n        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream(compressedBytes.length);\n\n        byte[] buffer = new byte[1024];\n\n        while(!inflater.finished()) \n        {\n            int count = inflater.inflate(buffer);\n            byteArrayOutputStream.write(buffer, 0, count);\n        }\n\n        byteArrayOutputStream.close();\n        return byteArrayOutputStream.toByteArray();\n    } \n    catch (Exception exception)\n    {\n        throw new IllegalStateException(exception.getMessage());\n    }\n}\n</code></pre>\n<ol>\n<li><p>Is Deflatorstream in C# right analog? How I understand deflate and inflate are methods for compression and decompression.</p>\n</li>\n<li><p>In original code mentioned Zlib. How I understand It is what I need.\nI can't use Lib so I tried to understand this file <a href=\"http://www.componentace.com/.NET_zip_component_zipforge.htm\" rel=\"nofollow noreferrer\">http://www.componentace.com/.NET_zip_component_zipforge.htm</a>, but I think I don't have enough experience to understand how all methods are working.</p>\n</li>\n<li><p>What analog of java ByteArrayOutputStream in C#?</p>\n</li>\n</ol>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver","geckodriver"],"answers":[{"tags":[],"owner":{"account_id":9132670,"reputation":18599,"user_id":6793637,"accept_rate":0,"display_name":"PDHide"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638738232,"creation_date":1607081524,"answer_id":65142809,"question_id":65142545,"body_markdown":"https://www.chromium.org/administrators/configuring-other-preferences\r\n\r\npreferences are settings that are used to control the browser behavior , full list of supported preferences could be found at :\r\n\r\nhttps://chromium.googlesource.com/chromium/src/+/7e762c1f17514a29834506860961ba2f24e7e6e5/components/content_settings/core/common/pref_names.cc\r\n\r\nhttps://chromium.googlesource.com/chromium/src/+/master/chrome/common/pref_names.cc\r\n\r\n\r\nArguments are commands that can be passed as command line arguments to the chrome binary eg\r\n\r\n    chrome.exe --headless\r\n\r\nhttps://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/chromium/ChromiumOptions.html#addArguments(java.lang.String...)\r\n\r\n\r\nfull list: https://peter.sh/experiments/chromium-command-line-switches/\r\n\r\nFor Firefox:\r\n\r\nArguments : https://developer.mozilla.org/en-US/docs/Mozilla/Command_Line_Options\r\n\r\nAdd all settings within the Firefox config (which you can access by typing about:config in the address bar) can be set using options.addPreference","title":"In Selenium Java client what is the difference between addArguments and setPreference methods?","body":"<p><a href=\"https://www.chromium.org/administrators/configuring-other-preferences\" rel=\"nofollow noreferrer\">https://www.chromium.org/administrators/configuring-other-preferences</a></p>\n<p>preferences are settings that are used to control the browser behavior , full list of supported preferences could be found at :</p>\n<p><a href=\"https://chromium.googlesource.com/chromium/src/+/7e762c1f17514a29834506860961ba2f24e7e6e5/components/content_settings/core/common/pref_names.cc\" rel=\"nofollow noreferrer\">https://chromium.googlesource.com/chromium/src/+/7e762c1f17514a29834506860961ba2f24e7e6e5/components/content_settings/core/common/pref_names.cc</a></p>\n<p><a href=\"https://chromium.googlesource.com/chromium/src/+/master/chrome/common/pref_names.cc\" rel=\"nofollow noreferrer\">https://chromium.googlesource.com/chromium/src/+/master/chrome/common/pref_names.cc</a></p>\n<p>Arguments are commands that can be passed as command line arguments to the chrome binary eg</p>\n<pre><code>chrome.exe --headless\n</code></pre>\n<p><a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/chromium/ChromiumOptions.html#addArguments(java.lang.String...)\" rel=\"nofollow noreferrer\">https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/chromium/ChromiumOptions.html#addArguments(java.lang.String...)</a></p>\n<p>full list: <a href=\"https://peter.sh/experiments/chromium-command-line-switches/\" rel=\"nofollow noreferrer\">https://peter.sh/experiments/chromium-command-line-switches/</a></p>\n<p>For Firefox:</p>\n<p>Arguments : <a href=\"https://developer.mozilla.org/en-US/docs/Mozilla/Command_Line_Options\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Mozilla/Command_Line_Options</a></p>\n<p>Add all settings within the Firefox config (which you can access by typing about:config in the address bar) can be set using options.addPreference</p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607084140,"creation_date":1607084140,"answer_id":65143378,"question_id":65142545,"body_markdown":"addArguments()\r\n--------------\r\n[`addArguments()`](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/firefox/FirefoxOptions.html#addArguments(java.lang.String...)) is the method to configure the AbstractDriverOptions to manage the firefox specific settings in a way that geckodriver can understand using an instance of [FirefoxOptions](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/firefox/FirefoxOptions.html) Class.\r\n\r\nAs an example:\r\n\r\n\tFirefoxOptions option=new FirefoxOptions();\r\n\toptions.addArguments(&quot;start-maximized&quot;);\r\n\t\r\nsetPreference()\r\n---------------\r\n[`setPreference()`](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/firefox/FirefoxProfile.html#setPreference(java.lang.String,java.lang.Object)) is the method to configure the firefox profile specific settings in a way that geckodriver can understand using an instance of [FirefoxProfile](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/firefox/FirefoxProfile.html) Class.\r\n\r\nAs an example:\r\n\r\n\tFirefoxProfile profile = new FirefoxProfile();\r\n\tprofile.setPreference(&quot;browser.download.dir&quot;, &quot;/home/ranjith/Downloads&quot;);\r\n\tprofile.setPreference(&quot;browser.download.folderList&quot;, 2);\r\n\r\n\r\n----------\r\n\r\n\r\n\t\r\nReferences\r\n----------\r\nYou can find a couple of relevant detailed discussions in:\r\n\r\n- [Cannot resolve constructor FirefoxDriver(org.openqa.selenium.firefox.FirefoxProfile)](https://stackoverflow.com/questions/49683355/cannot-resolve-constructor-firefoxdriverorg-openqa-selenium-firefox-firefoxprof/49686604#49686604)\r\n- [unable to Pass FirefoxProfile parameter In webdriver to use preferences to download file](https://stackoverflow.com/questions/47568275/unable-to-pass-firefoxprofile-parameter-in-webdriver-to-use-preferences-to-downl/47569170#47569170)","title":"In Selenium Java client what is the difference between addArguments and setPreference methods?","body":"<h2>addArguments()</h2>\n<p><a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/firefox/FirefoxOptions.html#addArguments(java.lang.String...)\" rel=\"nofollow noreferrer\"><code>addArguments()</code></a> is the method to configure the AbstractDriverOptions to manage the firefox specific settings in a way that geckodriver can understand using an instance of <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/firefox/FirefoxOptions.html\" rel=\"nofollow noreferrer\">FirefoxOptions</a> Class.</p>\n<p>As an example:</p>\n<pre><code>FirefoxOptions option=new FirefoxOptions();\noptions.addArguments(&quot;start-maximized&quot;);\n</code></pre>\n<h2>setPreference()</h2>\n<p><a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/firefox/FirefoxProfile.html#setPreference(java.lang.String,java.lang.Object)\" rel=\"nofollow noreferrer\"><code>setPreference()</code></a> is the method to configure the firefox profile specific settings in a way that geckodriver can understand using an instance of <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/firefox/FirefoxProfile.html\" rel=\"nofollow noreferrer\">FirefoxProfile</a> Class.</p>\n<p>As an example:</p>\n<pre><code>FirefoxProfile profile = new FirefoxProfile();\nprofile.setPreference(&quot;browser.download.dir&quot;, &quot;/home/ranjith/Downloads&quot;);\nprofile.setPreference(&quot;browser.download.folderList&quot;, 2);\n</code></pre>\n<hr />\n<h2>References</h2>\n<p>You can find a couple of relevant detailed discussions in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/49683355/cannot-resolve-constructor-firefoxdriverorg-openqa-selenium-firefox-firefoxprof/49686604#49686604\">Cannot resolve constructor FirefoxDriver(org.openqa.selenium.firefox.FirefoxProfile)</a></li>\n<li><a href=\"https://stackoverflow.com/questions/47568275/unable-to-pass-firefoxprofile-parameter-in-webdriver-to-use-preferences-to-downl/47569170#47569170\">unable to Pass FirefoxProfile parameter In webdriver to use preferences to download file</a></li>\n</ul>\n"}],"owner":{"display_name":"user10409695"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":508,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1638738232,"creation_date":1607080349,"question_id":65142545,"body_markdown":"When using Java and Selenium, frequently when I google how to change a certain behaviour I find some example that explains how to change a setting using either addArgument or set_preferences, something like this:\r\n\r\n        options.addArguments(&quot;dom.webdriver.enabled=False&quot;);\r\n        options.addArguments(&quot;useAutomationExtension=False&quot;);\r\n        \r\n        profile.setPreference(&quot;dom.webdriver.enabled&quot;, False);\r\n        profile.setPreference(&quot;useAutomationExtension&quot;, False);        \r\n\r\nLooking at the Javadoc isn&#39;t very helful:\r\n\r\n[![addArguments Javadoc][1]][1]\r\n\r\n[![setPreference Javadoc][2]][2]\r\n\r\n\r\nCould someone explain the relation between these? Any conceptual differences? They seem very overlapping.\r\n\r\nFurthermore, there is `desiredCapabilities` and `capabilities` that also seems very similar. Why do these exist and how do they relate to each other?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/y2KGM.png\r\n  [2]: https://i.stack.imgur.com/E9j85.png","title":"In Selenium Java client what is the difference between addArguments and setPreference methods?","body":"<p>When using Java and Selenium, frequently when I google how to change a certain behaviour I find some example that explains how to change a setting using either addArgument or set_preferences, something like this:</p>\n<pre><code>    options.addArguments(&quot;dom.webdriver.enabled=False&quot;);\n    options.addArguments(&quot;useAutomationExtension=False&quot;);\n    \n    profile.setPreference(&quot;dom.webdriver.enabled&quot;, False);\n    profile.setPreference(&quot;useAutomationExtension&quot;, False);        \n</code></pre>\n<p>Looking at the Javadoc isn't very helful:</p>\n<p><a href=\"https://i.stack.imgur.com/y2KGM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y2KGM.png\" alt=\"addArguments Javadoc\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/E9j85.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E9j85.png\" alt=\"setPreference Javadoc\" /></a></p>\n<p>Could someone explain the relation between these? Any conceptual differences? They seem very overlapping.</p>\n<p>Furthermore, there is <code>desiredCapabilities</code> and <code>capabilities</code> that also seems very similar. Why do these exist and how do they relate to each other?</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams","windowing"],"comments":[{"owner":{"account_id":3298176,"reputation":7136,"user_id":2774914,"accept_rate":94,"display_name":"diziaq"},"score":0,"creation_date":1638290248,"post_id":70172660,"comment_id":124046867,"body_markdown":"I suppose in general case this is barely solvable without caching, which kills the very idea of streaming. Do you have any constraints/guarantees for order and presence of b_id in both streams. Please, add some information into the question. For instance, shed some light here: 1. b_id order is the same or not in both streams; 2. what we expect to do if particular b_id value is present in one stream and missed in another; 3. same as #2, but for b_id duplicates. ...Basically we need to zip the two streams, but it won&#39;t work in general case.","body":"I suppose in general case this is barely solvable without caching, which kills the very idea of streaming. Do you have any constraints/guarantees for order and presence of b_id in both streams. Please, add some information into the question. For instance, shed some light here: 1. b_id order is the same or not in both streams; 2. what we expect to do if particular b_id value is present in one stream and missed in another; 3. same as #2, but for b_id duplicates. ...Basically we need to zip the two streams, but it won&#39;t work in general case."},{"owner":{"account_id":23427734,"reputation":11,"user_id":17487000,"display_name":"Palamariuk Maksym"},"score":0,"creation_date":1638291667,"post_id":70172660,"comment_id":124047471,"body_markdown":"These 2 streams may by as tables in relational DB. In stream2 all b_id values are unique, but in stream1 they may repeat. No problem if some value from &quot;b_id&quot; stream2 has to related records in stream1, but it is no way if some value from stream1 doesn&#39;t present in stream2. By the way, I use inner join, so, I think these constraints don&#39;t matter.","body":"These 2 streams may by as tables in relational DB. In stream2 all b_id values are unique, but in stream1 they may repeat. No problem if some value from &quot;b_id&quot; stream2 has to related records in stream1, but it is no way if some value from stream1 doesn&#39;t present in stream2. By the way, I use inner join, so, I think these constraints don&#39;t matter."},{"owner":{"account_id":3298176,"reputation":7136,"user_id":2774914,"accept_rate":94,"display_name":"diziaq"},"score":0,"creation_date":1638293352,"post_id":70172660,"comment_id":124048118,"body_markdown":"What about the order of b_id in both streams? Can we rely on there are no cases like {1,2,3,4,1}, {1,3,2,4,5}?","body":"What about the order of b_id in both streams? Can we rely on there are no cases like {1,2,3,4,1}, {1,3,2,4,5}?"}],"answers":[{"tags":[],"owner":{"account_id":12181645,"reputation":183,"user_id":14014537,"display_name":"Karsten Schnitter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638562811,"creation_date":1638562811,"answer_id":70220239,"question_id":70172660,"body_markdown":"You can write your own `Processor` or `Transformer` and utilise the `ProcessorContext` within. If your Kafka Streams version is sufficiently recent, you should find the method `ProcessorContext.&lt;K,V&gt; forward(K key, V value, To to)`. The `To` class allows specification of the timestamp to be used. The simplest call would be `To.all().withTimestamp(123456789L)`.","title":"Kafka Streams: Windowing by field in record json value","body":"<p>You can write your own <code>Processor</code> or <code>Transformer</code> and utilise the <code>ProcessorContext</code> within. If your Kafka Streams version is sufficiently recent, you should find the method <code>ProcessorContext.&lt;K,V&gt; forward(K key, V value, To to)</code>. The <code>To</code> class allows specification of the timestamp to be used. The simplest call would be <code>To.all().withTimestamp(123456789L)</code>.</p>\n"},{"tags":[],"owner":{"account_id":6384814,"reputation":60263,"user_id":4953079,"display_name":"Matthias J. Sax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638738205,"creation_date":1638738205,"answer_id":70238526,"question_id":70172660,"body_markdown":"You can use a custom timestamp extractor that you can either set globally for all input topics via `default.timestamp.extractor` config or pass on a per-topic basis via `Consumed.with(...).withTimestampExtractor(...)`.\r\n\r\nCf https://docs.confluent.io/platform/current/streams/developer-guide/config-streams.html#default-timestamp-extractor","title":"Kafka Streams: Windowing by field in record json value","body":"<p>You can use a custom timestamp extractor that you can either set globally for all input topics via <code>default.timestamp.extractor</code> config or pass on a per-topic basis via <code>Consumed.with(...).withTimestampExtractor(...)</code>.</p>\n<p>Cf <a href=\"https://docs.confluent.io/platform/current/streams/developer-guide/config-streams.html#default-timestamp-extractor\" rel=\"nofollow noreferrer\">https://docs.confluent.io/platform/current/streams/developer-guide/config-streams.html#default-timestamp-extractor</a></p>\n"}],"owner":{"account_id":23427734,"reputation":11,"user_id":17487000,"display_name":"Palamariuk Maksym"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":410,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1638738205,"creation_date":1638289361,"question_id":70172660,"body_markdown":"I need to aggregate a stream, which is a join of two other streams. To do this, I specify the windowing of 1 day, but I need to use as a timestamp the value stored in the json of the message. Is it realistic to specify your own timestamp for the stream?\r\n\r\n    //Record of stream1: {&quot;a_id&quot;: 1, &quot;b_id&quot;: 2}\r\n    //Record of stream2: {&quot;b_id&quot;: 2, &quot;timestamp&quot;: ...}\r\n\r\n    KStream&lt;Long, JsonNode&gt; aStream = builder\r\n                    .stream(aTopic, Consumed.with(Serdes.String(), jsonSerde))\r\n                    .selectKey((k, v) -&gt; v.get(&quot;b_id&quot;).asLong());\r\n    \r\n    KStream&lt;Long, JsonNode&gt; bStream = builder\r\n                    .stream(bTopic, Consumed.with(Serdes.String(), jsonSerde))\r\n                    .selectKey((k, v) -&gt; v.get(&quot;b_id&quot;).asLong());\r\n\r\n    aStream.join(bStream, (JsonNode v1, JsonNode v2) -&gt;\r\n                                    JsonUtils.addFieldIntoJsonNode(v1, v2.get(&quot;timestamp&quot;), &quot;timestamp&quot;),\r\n                            JoinWindows.of(Duration.ofHours(1)),\r\n                            StreamJoined.with(Serdes.Long(), jsonSerde, jsonSerde))\r\n    .{some aggregation with windowing by that &quot;timestamp&quot; field}\r\n\r\nI tried to use a timestamp extractor, but I can specify it only when reading a stream that does not fit, because the join window will then be different in the two streams.\r\nWhat can be done in this case?","title":"Kafka Streams: Windowing by field in record json value","body":"<p>I need to aggregate a stream, which is a join of two other streams. To do this, I specify the windowing of 1 day, but I need to use as a timestamp the value stored in the json of the message. Is it realistic to specify your own timestamp for the stream?</p>\n<pre><code>//Record of stream1: {&quot;a_id&quot;: 1, &quot;b_id&quot;: 2}\n//Record of stream2: {&quot;b_id&quot;: 2, &quot;timestamp&quot;: ...}\n\nKStream&lt;Long, JsonNode&gt; aStream = builder\n                .stream(aTopic, Consumed.with(Serdes.String(), jsonSerde))\n                .selectKey((k, v) -&gt; v.get(&quot;b_id&quot;).asLong());\n\nKStream&lt;Long, JsonNode&gt; bStream = builder\n                .stream(bTopic, Consumed.with(Serdes.String(), jsonSerde))\n                .selectKey((k, v) -&gt; v.get(&quot;b_id&quot;).asLong());\n\naStream.join(bStream, (JsonNode v1, JsonNode v2) -&gt;\n                                JsonUtils.addFieldIntoJsonNode(v1, v2.get(&quot;timestamp&quot;), &quot;timestamp&quot;),\n                        JoinWindows.of(Duration.ofHours(1)),\n                        StreamJoined.with(Serdes.Long(), jsonSerde, jsonSerde))\n.{some aggregation with windowing by that &quot;timestamp&quot; field}\n</code></pre>\n<p>I tried to use a timestamp extractor, but I can specify it only when reading a stream that does not fit, because the join window will then be different in the two streams.\nWhat can be done in this case?</p>\n"},{"tags":["java","android","layout","menu"],"comments":[{"owner":{"account_id":7589926,"reputation":435,"user_id":5757893,"display_name":"mohkamfer"},"score":0,"creation_date":1638726308,"post_id":70236921,"comment_id":124159131,"body_markdown":"Can you share some screenshots of your application presenting the current look, and how you want it to appear?","body":"Can you share some screenshots of your application presenting the current look, and how you want it to appear?"},{"owner":{"account_id":7095631,"reputation":383,"user_id":5429327,"display_name":"Yura"},"score":0,"creation_date":1638728290,"post_id":70236921,"comment_id":124159660,"body_markdown":"as I understand you want to have single app activity, you can try this https://github.com/Trendyol/medusa  simple navigation between the fragments or a native solution https://developer.android.com/guide/navigation/navigation-getting-started so you will have a menu available throughout the app","body":"as I understand you want to have single app activity, you can try this <a href=\"https://github.com/Trendyol/medusa\" rel=\"nofollow noreferrer\">github.com/Trendyol/medusa</a>  simple navigation between the fragments or a native solution <a href=\"https://developer.android.com/guide/navigation/navigation-getting-started\" rel=\"nofollow noreferrer\">developer.android.com/guide/navigation/&hellip;</a> so you will have a menu available throughout the app"},{"owner":{"account_id":21638419,"reputation":45,"user_id":15961024,"display_name":"Damon"},"score":0,"creation_date":1638729148,"post_id":70236921,"comment_id":124159875,"body_markdown":"@mohkamfer I added some screenshots of the current look","body":"@mohkamfer I added some screenshots of the current look"},{"owner":{"account_id":21638419,"reputation":45,"user_id":15961024,"display_name":"Damon"},"score":0,"creation_date":1638729247,"post_id":70236921,"comment_id":124159906,"body_markdown":"@Yura I also want to add animations between the fragments if possible (forgot to mention this) so i&#39;ll check what I can do with that, thank you !","body":"@Yura I also want to add animations between the fragments if possible (forgot to mention this) so i&#39;ll check what I can do with that, thank you !"},{"owner":{"account_id":7095631,"reputation":383,"user_id":5429327,"display_name":"Yura"},"score":0,"creation_date":1638729889,"post_id":70236921,"comment_id":124160057,"body_markdown":"animation is available on both, like slide, fade and etc. about custom ones, I can&#39;t say because I didn&#39;t have to use","body":"animation is available on both, like slide, fade and etc. about custom ones, I can&#39;t say because I didn&#39;t have to use"}],"owner":{"account_id":21638419,"reputation":45,"user_id":15961024,"display_name":"Damon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638737861,"creation_date":1638726189,"question_id":70236921,"body_markdown":"I made menus for the Android app I&#39;m working on (using `DrawerLayouts`) one to navigate between different lists and one for settings. I need these menus through the whole app, on all the main pages and the &quot;details&quot; pages (when clicking on items of the list).\r\n\r\n**Main page**\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/cLg6T.png&quot; width=&quot;250&quot;/&gt;\r\n\r\n**Navigation Menu**\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/iS0Uf.jpg&quot; width=&quot;250&quot;/&gt;\r\n\r\n**Settings Menu**\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/EG8zF.png&quot; width=&quot;250&quot;/&gt;\r\n\r\nRight now, I&#39;m using `NavigationView` and `fragments` for the main pages. The problem is that I can&#39;t find a way to show the &quot;detail&quot; pages on the same fragment view and even if I could or if I showed those on a different fragment view it would be difficult to keep track of navigation (when pressing the back button or using the navigation buttons to go to another main page). I would also like to implement animations between `fragments` (main page to &quot;detail&quot; page and between &quot;detail&quot; pages) so it would really be complicated with separate fragments. So I&#39;m wondering if there&#39;s a simpler way to achieve this, or if I should use activities and copy and paste the menus.\r\n","title":"How could I make a menu through the whole app","body":"<p>I made menus for the Android app I'm working on (using <code>DrawerLayouts</code>) one to navigate between different lists and one for settings. I need these menus through the whole app, on all the main pages and the &quot;details&quot; pages (when clicking on items of the list).</p>\n<p><strong>Main page</strong></p>\n<img src=\"https://i.stack.imgur.com/cLg6T.png\" width=\"250\"/>\n<p><strong>Navigation Menu</strong></p>\n<img src=\"https://i.stack.imgur.com/iS0Uf.jpg\" width=\"250\"/>\n<p><strong>Settings Menu</strong></p>\n<img src=\"https://i.stack.imgur.com/EG8zF.png\" width=\"250\"/>\n<p>Right now, I'm using <code>NavigationView</code> and <code>fragments</code> for the main pages. The problem is that I can't find a way to show the &quot;detail&quot; pages on the same fragment view and even if I could or if I showed those on a different fragment view it would be difficult to keep track of navigation (when pressing the back button or using the navigation buttons to go to another main page). I would also like to implement animations between <code>fragments</code> (main page to &quot;detail&quot; page and between &quot;detail&quot; pages) so it would really be complicated with separate fragments. So I'm wondering if there's a simpler way to achieve this, or if I should use activities and copy and paste the menus.</p>\n"},{"tags":["java","spring","tomcat"],"comments":[{"owner":{"account_id":16632079,"reputation":2166,"user_id":16547945,"display_name":"Vojin Purić"},"score":1,"creation_date":1638738620,"post_id":70238483,"comment_id":124162285,"body_markdown":"I have no experience with tomcat, but I get something very similar when deploying war to wildfly server (it is also outOfMemoryException). I guess solution is similar also, try finding how to increase memory allocated for tomcat. Also for me it happens when I do multiple deployments/redeployments while not restarting the machine so just a simple machine restart often also fixes it","body":"I have no experience with tomcat, but I get something very similar when deploying war to wildfly server (it is also outOfMemoryException). I guess solution is similar also, try finding how to increase memory allocated for tomcat. Also for me it happens when I do multiple deployments/redeployments while not restarting the machine so just a simple machine restart often also fixes it"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1638771813,"post_id":70238483,"comment_id":124167943,"body_markdown":"There is far too little information here. If you get excessive GC you are producing too much garbage. So it must be something in your code or a framework you are using. But with the details here that will be impossible to answer.","body":"There is far too little information here. If you get excessive GC you are producing too much garbage. So it must be something in your code or a framework you are using. But with the details here that will be impossible to answer."},{"owner":{"account_id":21470110,"reputation":37,"user_id":15819259,"display_name":"Mansal"},"score":0,"creation_date":1639594151,"post_id":70238483,"comment_id":124391105,"body_markdown":"Thank you Vojin, we have increased the RAM size, the issue is solved.","body":"Thank you Vojin, we have increased the RAM size, the issue is solved."}],"owner":{"account_id":21470110,"reputation":37,"user_id":15819259,"display_name":"Mansal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638737748,"creation_date":1638737748,"question_id":70238483,"body_markdown":"We have deployed the java war file in server, the application is hosted in Tomcat webserver.\r\n\r\nWhile loading the application we are getting java.lang.OutOfMemoryError issue which makes the application stop.\r\n\r\nWe  are using Java version 8 and Tomcat version 8.\r\n\r\nAttached error details, please let me know if any configuration needs to be verified?\r\n\r\n```\r\n\r\nSEVERE [28] org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run Unexpected death of background thread [ContainerBackgroundProcessor[StandardEngine[Catalina]]]\r\njava.lang.OutOfMemoryError: GC overhead limit exceeded\r\n```\r\n\r\n```\r\nSEVERE [76] org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun\r\njava.lang.ArrayIndexOutofBoundaException: -20\r\nat sun.security.provider.SecureRandom.engineNextBytes(SecureRandom.java:252)\r\nat sun.security.provider.NativePRNG$RandomIO.implNextBytes(NativePRNG.java:535)\r\nat sun.security.provider.NativePRNG$RandomIO.access$400(NativePRNG.java:331)\r\nat sun.security.provider.NativePRNG.engineNextBytes(NativePRNG.java:220)\r\nat java.security.SecureRandom.nextBytes(SecureRandom.java:468)\r\nat sun.security.util.KeyUtil.checkTlsPreMasterSecretKey(KeyUtil.java:268)\r\nat com.sun.crypto.provider.RSACipher.engineUnwrap(RSACipher.java:480)\r\nat javax.crypto.Cipher.unwrap(Cipher.java:2553)\r\nat sun.security.ssl.RSAKeyExchange$RSAPremasterSecret.decode(RSAKeyExchange.java:185)\r\nat sun.security.ssl.RSAC1ientKeyExchange$RSAClientKeyExchangeConsumer.consume(RSAClientKeyExchange.java:285) \r\nat sun.security.ssl.ClientKeyExchange$ClientKeyExchangeConsumer.consume(ClientKeyExchange.java:110)\r\nat sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:377)\r\nat sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:444) \r\nat sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:968)\r\nat sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:955)\r\nat java.security.AccessController.doPrivileged(Native Method) \r\nat sun.security.ssl.SSLEngineImpl$DelegatedTask.run(SSLEngineImpl.java:902)\r\nat org.apache.tomcat.util.net.SecureNioChannel.tasks(SecureNioChannel.java:423)\r\nat org.apache.tomcat.util.net.SecureNioChannel.handshakeUnwrap(SecureNioChannel.java:483) \r\nat org.apache.tomcat.util.net.SecureNioChannel.handshake(SecureNioChannel.java:238)\r\nat org.apache.tomcat.util.net.NioEndpointSocketProcessor.doRun(NioEndpoint.java:1475)\r\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExcutor.java:624) \r\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run (TaskThread.java:61)\r\nat java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\n```\r\njava.lang.Thread.State: WAITING (parking)\r\nat sun.misc.Unsafe.park(Native Method)\r\n- parking to wait for &lt;0x0000000642344808&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject) \r\nat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\nat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\r\nat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\r\nat org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:103)\r\nat org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:31)\r\nat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)\r\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)\r\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\nat org.apache tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\nat java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\n```\r\nhttps-jsse-nio-8443-exec-71 #120 daemon prio=5 os_prio=0 tid=0x000071509c004000 nid=0x48b1 waiting on condition [0x00007150129f000] \r\njava lang Thread State: WAITING (parking)\r\nat sun.misc.Unsafe.park(Native Method)\r\n-parking to wait for &lt;0x0000000642344808&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\r\nat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175) \r\nat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java.2039)\r\nat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue java:442) \r\nat org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:103)\r\nat org apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:31)\r\nat java.util.concurrent.ThreadPoolExecutor.get.Task(ThreadPoolExecutor.java:1074)\r\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)\r\nat java util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) \r\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\nat java.lang.Thread.run(Thread.java:748)\r\n```\r\n","title":"Java SpringMVC OutOfMemoryError","body":"<p>We have deployed the java war file in server, the application is hosted in Tomcat webserver.</p>\n<p>While loading the application we are getting java.lang.OutOfMemoryError issue which makes the application stop.</p>\n<p>We  are using Java version 8 and Tomcat version 8.</p>\n<p>Attached error details, please let me know if any configuration needs to be verified?</p>\n<pre><code>\nSEVERE [28] org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run Unexpected death of background thread [ContainerBackgroundProcessor[StandardEngine[Catalina]]]\njava.lang.OutOfMemoryError: GC overhead limit exceeded\n</code></pre>\n<pre><code>SEVERE [76] org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun\njava.lang.ArrayIndexOutofBoundaException: -20\nat sun.security.provider.SecureRandom.engineNextBytes(SecureRandom.java:252)\nat sun.security.provider.NativePRNG$RandomIO.implNextBytes(NativePRNG.java:535)\nat sun.security.provider.NativePRNG$RandomIO.access$400(NativePRNG.java:331)\nat sun.security.provider.NativePRNG.engineNextBytes(NativePRNG.java:220)\nat java.security.SecureRandom.nextBytes(SecureRandom.java:468)\nat sun.security.util.KeyUtil.checkTlsPreMasterSecretKey(KeyUtil.java:268)\nat com.sun.crypto.provider.RSACipher.engineUnwrap(RSACipher.java:480)\nat javax.crypto.Cipher.unwrap(Cipher.java:2553)\nat sun.security.ssl.RSAKeyExchange$RSAPremasterSecret.decode(RSAKeyExchange.java:185)\nat sun.security.ssl.RSAC1ientKeyExchange$RSAClientKeyExchangeConsumer.consume(RSAClientKeyExchange.java:285) \nat sun.security.ssl.ClientKeyExchange$ClientKeyExchangeConsumer.consume(ClientKeyExchange.java:110)\nat sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:377)\nat sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:444) \nat sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:968)\nat sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:955)\nat java.security.AccessController.doPrivileged(Native Method) \nat sun.security.ssl.SSLEngineImpl$DelegatedTask.run(SSLEngineImpl.java:902)\nat org.apache.tomcat.util.net.SecureNioChannel.tasks(SecureNioChannel.java:423)\nat org.apache.tomcat.util.net.SecureNioChannel.handshakeUnwrap(SecureNioChannel.java:483) \nat org.apache.tomcat.util.net.SecureNioChannel.handshake(SecureNioChannel.java:238)\nat org.apache.tomcat.util.net.NioEndpointSocketProcessor.doRun(NioEndpoint.java:1475)\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExcutor.java:624) \nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run (TaskThread.java:61)\nat java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<pre><code>java.lang.Thread.State: WAITING (parking)\nat sun.misc.Unsafe.park(Native Method)\n- parking to wait for &lt;0x0000000642344808&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject) \nat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\nat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\nat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\nat org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:103)\nat org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:31)\nat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat org.apache tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\nat java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<pre><code>https-jsse-nio-8443-exec-71 #120 daemon prio=5 os_prio=0 tid=0x000071509c004000 nid=0x48b1 waiting on condition [0x00007150129f000] \njava lang Thread State: WAITING (parking)\nat sun.misc.Unsafe.park(Native Method)\n-parking to wait for &lt;0x0000000642344808&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\nat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175) \nat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java.2039)\nat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue java:442) \nat org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:103)\nat org apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:31)\nat java.util.concurrent.ThreadPoolExecutor.get.Task(ThreadPoolExecutor.java:1074)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)\nat java util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) \nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\nat java.lang.Thread.run(Thread.java:748)\n</code></pre>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":1354373,"reputation":4359,"user_id":1293087,"display_name":"Laksitha Ranasingha"},"score":0,"creation_date":1638737426,"post_id":70238332,"comment_id":124161939,"body_markdown":"The reason is `K` and `V` are unbounded non-primitive compatible type parameters. You can&#39;t use non-primitive (int, long etc) or wrapper types (Integer, Long etc)  with relational operators like &lt;. For ex: if you make your types bounded like `&lt;K extends Integer,V extends Integer&gt;`, it will compile (but very confusing).","body":"The reason is <code>K</code> and <code>V</code> are unbounded non-primitive compatible type parameters. You can&#39;t use non-primitive (int, long etc) or wrapper types (Integer, Long etc)  with relational operators like &lt;. For ex: if you make your types bounded like <code>&lt;K extends Integer,V extends Integer&gt;</code>, it will compile (but very confusing)."},{"owner":{"account_id":1354373,"reputation":4359,"user_id":1293087,"display_name":"Laksitha Ranasingha"},"score":0,"creation_date":1638737487,"post_id":70238332,"comment_id":124161957,"body_markdown":"Look at these https://stackoverflow.com/questions/24556796/why-cant-we-use-relational-operators-on-string, https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html","body":"Look at these <a href=\"https://stackoverflow.com/questions/24556796/why-cant-we-use-relational-operators-on-string\" title=\"why cant we use relational operators on string\">stackoverflow.com/questions/24556796/&hellip;</a>, <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html</a>"},{"owner":{"account_id":16183002,"reputation":69,"user_id":13073364,"display_name":"Falling Forward"},"score":0,"creation_date":1638737741,"post_id":70238332,"comment_id":124162017,"body_markdown":"@LaksithaRanasingha I know the reason, I just want to know how to compare them","body":"@LaksithaRanasingha I know the reason, I just want to know how to compare them"},{"owner":{"account_id":1354373,"reputation":4359,"user_id":1293087,"display_name":"Laksitha Ranasingha"},"score":1,"creation_date":1638738974,"post_id":70238332,"comment_id":124162343,"body_markdown":"Well, you asked `I don&#39;t understand this error: Tree.javaInOrderSuccessorBinaryTree.java:13: error: bad operand types for binary operator &#39;&lt;&#39;`?","body":"Well, you asked <code>I don&#39;t understand this error: Tree.javaInOrderSuccessorBinaryTree.java:13: error: bad operand types for binary operator &#39;&lt;&#39;</code>?"}],"owner":{"account_id":16183002,"reputation":69,"user_id":13073364,"display_name":"Falling Forward"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1638736790,"answer_count":0,"score":0,"last_activity_date":1638737258,"creation_date":1638736555,"question_id":70238332,"body_markdown":"    import java.util.Optional;\r\n    \r\n    public class InOrderSuccessorBinaryTree&lt;K,V&gt; extends SimpleBinaryTree&lt;K,V&gt; {\r\n        public Optional&lt;K&gt; inOrderSuccessorKey(K key) {\r\n               BinaryTreeNode&lt;K,V&gt; curr = this.root;\r\n                ...\r\n               if (key &lt; curr.getKey())\r\n                ...\r\n    }\r\nI don&#39;t understand this error: Tree.javaInOrderSuccessorBinaryTree.java:13: error: bad operand types for binary operator &#39;&lt;&#39;, and I&#39;m not experienced with java\r\nI want to know how to compare generic values, specifically K\r\nHow do I update this class to compare Ks?\r\n\r\n    import java.util.Optional;\r\n    \r\n    public class BinaryTreeNode&lt;K,V&gt; {\r\n        private BinaryTreeNode&lt;K,V&gt; left;\r\n        private BinaryTreeNode&lt;K,V&gt; right;\r\n        private K key;\r\n        private V value;\r\n        ...\r\n        public K getKey() {\r\n            return key;\r\n        }\r\n    \r\n        public void setKey(K key) {\r\n            this.key = key;\r\n        }\r\n        ...\r\n    }\r\n\r\n","title":"How do i compare generic values","body":"<pre><code>import java.util.Optional;\n\npublic class InOrderSuccessorBinaryTree&lt;K,V&gt; extends SimpleBinaryTree&lt;K,V&gt; {\n    public Optional&lt;K&gt; inOrderSuccessorKey(K key) {\n           BinaryTreeNode&lt;K,V&gt; curr = this.root;\n            ...\n           if (key &lt; curr.getKey())\n            ...\n}\n</code></pre>\n<p>I don't understand this error: Tree.javaInOrderSuccessorBinaryTree.java:13: error: bad operand types for binary operator '&lt;', and I'm not experienced with java\nI want to know how to compare generic values, specifically K\nHow do I update this class to compare Ks?</p>\n<pre><code>import java.util.Optional;\n\npublic class BinaryTreeNode&lt;K,V&gt; {\n    private BinaryTreeNode&lt;K,V&gt; left;\n    private BinaryTreeNode&lt;K,V&gt; right;\n    private K key;\n    private V value;\n    ...\n    public K getKey() {\n        return key;\n    }\n\n    public void setKey(K key) {\n        this.key = key;\n    }\n    ...\n}\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"score":0,"creation_date":1638737492,"post_id":70238410,"comment_id":124161960,"body_markdown":"I see you displayed the picked image in **iv** right? Does the image appear there, also add a log to see the size of your grid","body":"I see you displayed the picked image in <b>iv</b> right? Does the image appear there, also add a log to see the size of your grid"},{"owner":{"account_id":21697844,"reputation":11,"user_id":16011456,"display_name":"Molag_Bork"},"score":0,"creation_date":1638737802,"post_id":70238410,"comment_id":124162037,"body_markdown":"@MouaadAbdelghafourAITALI The image does not appear there. I&#39;m assuming you mean within my layout on the left hand side? I will add a log to check the size. Thank you for the tip!","body":"@MouaadAbdelghafourAITALI The image does not appear there. I&#39;m assuming you mean within my layout on the left hand side? I will add a log to check the size. Thank you for the tip!"},{"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"score":0,"creation_date":1638737937,"post_id":70238410,"comment_id":124162086,"body_markdown":"first pick an image and display it on `ImageView`, if it&#39;s not appear, then make sure the storage permission is granted","body":"first pick an image and display it on <code>ImageView</code>, if it&#39;s not appear, then make sure the storage permission is granted"},{"owner":{"account_id":21697844,"reputation":11,"user_id":16011456,"display_name":"Molag_Bork"},"score":0,"creation_date":1638739185,"post_id":70238410,"comment_id":124162395,"body_markdown":"So I have loaded a placeholder image and it looks like it loads just fine. Using an image from my drawable folder. Also, uri permissions are enabled.","body":"So I have loaded a placeholder image and it looks like it loads just fine. Using an image from my drawable folder. Also, uri permissions are enabled."}],"owner":{"account_id":21697844,"reputation":11,"user_id":16011456,"display_name":"Molag_Bork"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638737232,"creation_date":1638737232,"question_id":70238410,"body_markdown":"I am trying to display a grid of pictures that the user can take through the app I am building. \r\n\r\nEverything looks to be set up correctly, I am saving the respective image URIs to an ArrayList of URIs and passing that to my custom grid adapter&#39;s constructor. \r\n\r\nFrom there, in my Grid Adapter class, I am setting the imageview image within the image_grid_view layout to the URI that was retrieved from the MainActivity and added to my ArrayList of URIs. \r\n\r\nMy GridAdapter class:\r\n```\r\npublic class GridAdapter extends BaseAdapter {\r\n\r\n    ArrayList&lt;Uri&gt; imagesArrList;\r\n    LayoutInflater inflater;\r\n    Context mContext;\r\n\r\n    public GridAdapter(Context _context, ArrayList&lt;Uri&gt; _images) {\r\n        this.mContext = _context;\r\n        this.imagesArrList = _images;\r\n        inflater = LayoutInflater.from(this.mContext);\r\n    }\r\n\r\n    @Override\r\n    public int getCount() {\r\n        return imagesArrList.size();\r\n    }\r\n\r\n    @Override\r\n    public Object getItem(int position) {\r\n        return imagesArrList.get(position);\r\n    }\r\n\r\n    @Override\r\n    public long getItemId(int position) {\r\n        return 0;\r\n    }\r\n\r\n    @Override\r\n    public View getView(int position, View convertView, ViewGroup parent) {\r\n        NewViewHolder mViewHolder;\r\n        Uri image = imagesArrList.get(position);\r\n\r\n        if (convertView == null) {\r\n            convertView = inflater.inflate(R.layout.image_grid_view, parent, false);\r\n            mViewHolder = new NewViewHolder(convertView);\r\n            convertView.setTag(mViewHolder);\r\n        } else {\r\n            mViewHolder = (NewViewHolder) convertView.getTag();\r\n        }\r\n\r\n        if (image != null) {\r\n            mViewHolder.ivUserImage.setImageURI(image);\r\n        }\r\n\r\n        return convertView;\r\n    }\r\n\r\n    private static class NewViewHolder {\r\n        ImageView ivUserImage;\r\n        public NewViewHolder(View item) {\r\n            ivUserImage = item.findViewById(R.id.userImage);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nMain Activity:\r\n```   \r\n@Override\r\npublic void onClick(View view) {\r\n        int id = view.getId();\r\n        if (id == R.id.fab) {\r\n            IMAGE_FILE = UUID.randomUUID().toString() + &quot;.jpg&quot;;\r\n            File imageFileReference = createImageFile(IMAGE_FILE);\r\n            Uri imageUri = FileProvider.getUriForFile(this, &quot;--REDACTED FOR PRIVACY---&quot;, imageFileReference);\r\n            Log.i(&quot;FILEPROVIDERLOG&quot;, &quot;File Path: &quot; + imageFileReference.getAbsolutePath());\r\n            Log.i(&quot;FILEPROVIDERLOG&quot;, &quot;File URI: &quot; + imageUri);\r\n            Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n            intent.addFlags(Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\r\n            intent.putExtra(MediaStore.EXTRA_OUTPUT, imageUri);\r\n            ActivityCompat.startActivityForResult(this, intent, 0, null);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        File imageFileReference = getImageFileReference(IMAGE_FILE);\r\n        Log.i(&quot;FILEPROVIDERLOG&quot;, &quot;File Path: &quot; + imageFileReference.getAbsolutePath());\r\n        BitmapFactory.Options options = new BitmapFactory.Options();\r\n        options.inSampleSize = 2;\r\n        Bitmap bitmap = BitmapFactory.decodeFile(imageFileReference.getAbsolutePath());\r\n        iv.setImageBitmap(bitmap);\r\n        Uri imageURI = FileProvider.getUriForFile(this, &quot;--REDACTED FOR PRIVACY---&quot;, imageFileReference);\r\n        Log.i(&quot;FILEPROVIDERLOG&quot;, &quot;File URI: &quot; + imageURI);\r\n        iv.setImageURI(null);\r\n        iv.setImageURI(imageURI);\r\n        imagesArrList.add(imageURI);\r\n        gridView.setAdapter(new GridAdapter(this, imagesArrList));\r\n    }\r\n\r\n    private File createImageFile(String _fileName) {\r\n        File imageFile = getImageFileReference(_fileName);\r\n        try{\r\n            imageFile.createNewFile();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n        return imageFile;\r\n    }\r\n\r\n    private File getImageFileReference(String _fileName) {\r\n        File protectedStorage = getExternalFilesDir(IMAGE_FOLDER);\r\n        return new File(protectedStorage, _fileName);\r\n    }\r\n\r\n}\r\n```\r\nAny ideas would be greatly appreciated. Thanks in advance for taking the time to read and/or respond to my question! ","title":"Custom grid adapter is not displaying images","body":"<p>I am trying to display a grid of pictures that the user can take through the app I am building.</p>\n<p>Everything looks to be set up correctly, I am saving the respective image URIs to an ArrayList of URIs and passing that to my custom grid adapter's constructor.</p>\n<p>From there, in my Grid Adapter class, I am setting the imageview image within the image_grid_view layout to the URI that was retrieved from the MainActivity and added to my ArrayList of URIs.</p>\n<p>My GridAdapter class:</p>\n<pre><code>public class GridAdapter extends BaseAdapter {\n\n    ArrayList&lt;Uri&gt; imagesArrList;\n    LayoutInflater inflater;\n    Context mContext;\n\n    public GridAdapter(Context _context, ArrayList&lt;Uri&gt; _images) {\n        this.mContext = _context;\n        this.imagesArrList = _images;\n        inflater = LayoutInflater.from(this.mContext);\n    }\n\n    @Override\n    public int getCount() {\n        return imagesArrList.size();\n    }\n\n    @Override\n    public Object getItem(int position) {\n        return imagesArrList.get(position);\n    }\n\n    @Override\n    public long getItemId(int position) {\n        return 0;\n    }\n\n    @Override\n    public View getView(int position, View convertView, ViewGroup parent) {\n        NewViewHolder mViewHolder;\n        Uri image = imagesArrList.get(position);\n\n        if (convertView == null) {\n            convertView = inflater.inflate(R.layout.image_grid_view, parent, false);\n            mViewHolder = new NewViewHolder(convertView);\n            convertView.setTag(mViewHolder);\n        } else {\n            mViewHolder = (NewViewHolder) convertView.getTag();\n        }\n\n        if (image != null) {\n            mViewHolder.ivUserImage.setImageURI(image);\n        }\n\n        return convertView;\n    }\n\n    private static class NewViewHolder {\n        ImageView ivUserImage;\n        public NewViewHolder(View item) {\n            ivUserImage = item.findViewById(R.id.userImage);\n        }\n    }\n}\n</code></pre>\n<p>Main Activity:</p>\n<pre><code>@Override\npublic void onClick(View view) {\n        int id = view.getId();\n        if (id == R.id.fab) {\n            IMAGE_FILE = UUID.randomUUID().toString() + &quot;.jpg&quot;;\n            File imageFileReference = createImageFile(IMAGE_FILE);\n            Uri imageUri = FileProvider.getUriForFile(this, &quot;--REDACTED FOR PRIVACY---&quot;, imageFileReference);\n            Log.i(&quot;FILEPROVIDERLOG&quot;, &quot;File Path: &quot; + imageFileReference.getAbsolutePath());\n            Log.i(&quot;FILEPROVIDERLOG&quot;, &quot;File URI: &quot; + imageUri);\n            Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n            intent.addFlags(Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\n            intent.putExtra(MediaStore.EXTRA_OUTPUT, imageUri);\n            ActivityCompat.startActivityForResult(this, intent, 0, null);\n        }\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        File imageFileReference = getImageFileReference(IMAGE_FILE);\n        Log.i(&quot;FILEPROVIDERLOG&quot;, &quot;File Path: &quot; + imageFileReference.getAbsolutePath());\n        BitmapFactory.Options options = new BitmapFactory.Options();\n        options.inSampleSize = 2;\n        Bitmap bitmap = BitmapFactory.decodeFile(imageFileReference.getAbsolutePath());\n        iv.setImageBitmap(bitmap);\n        Uri imageURI = FileProvider.getUriForFile(this, &quot;--REDACTED FOR PRIVACY---&quot;, imageFileReference);\n        Log.i(&quot;FILEPROVIDERLOG&quot;, &quot;File URI: &quot; + imageURI);\n        iv.setImageURI(null);\n        iv.setImageURI(imageURI);\n        imagesArrList.add(imageURI);\n        gridView.setAdapter(new GridAdapter(this, imagesArrList));\n    }\n\n    private File createImageFile(String _fileName) {\n        File imageFile = getImageFileReference(_fileName);\n        try{\n            imageFile.createNewFile();\n        } catch (IOException e) {\n            e.printStackTrace();\n            return null;\n        }\n        return imageFile;\n    }\n\n    private File getImageFileReference(String _fileName) {\n        File protectedStorage = getExternalFilesDir(IMAGE_FOLDER);\n        return new File(protectedStorage, _fileName);\n    }\n\n}\n</code></pre>\n<p>Any ideas would be greatly appreciated. Thanks in advance for taking the time to read and/or respond to my question!</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","one-to-one"],"answers":[{"tags":[],"owner":{"account_id":23547350,"reputation":119,"user_id":17590572,"display_name":"ZeNitch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638736089,"creation_date":1638736089,"answer_id":70238268,"question_id":70238214,"body_markdown":"Put the JsonIgnore in the Mural class on   \r\n\r\n    @OneToOne\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    private User user;\r\n\r\nAlso try to avoid directly returning entities to the end user. Either try to map the entity to DTO or use projection (https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections).","title":"Could not write JSON: failed to lazily initialize a collection of role one to one","body":"<p>Put the JsonIgnore in the Mural class on</p>\n<pre><code>@OneToOne\n@JoinColumn(name = &quot;user_id&quot;)\nprivate User user;\n</code></pre>\n<p>Also try to avoid directly returning entities to the end user. Either try to map the entity to DTO or use projection (<a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections</a>).</p>\n"}],"owner":{"account_id":21120164,"reputation":1,"user_id":17597354,"display_name":"Anderson Conforto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":986,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638737056,"creation_date":1638735701,"question_id":70238214,"body_markdown":"I have the following code...\r\nIt&#39;s an application where the user has a wall, and on that wall there can be several games.\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;tb_user&quot;)\r\npublic class User implements Serializable {\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String name;\r\n\r\n    @OneToOne(mappedBy = &quot;user&quot;,fetch = FetchType.EAGER)\r\n    private Mural mural;\r\n\r\n    public User() {\r\n\r\n    }\r\n\r\n    public User(Long id, String name, Mural mural) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.mural = mural;\r\n\r\n     //getters and setters...\r\n    }\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;tb_mural&quot;)\r\npublic class Mural implements Serializable {\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String name;\r\n\r\n    @ManyToMany\r\n    @JoinTable(name = &quot;tb_mural_games&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;mural_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;games_id&quot;))\r\n    private Set&lt;Game&gt; games = new HashSet&lt;&gt;();\r\n\r\n    @OneToOne\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    private User user;\r\n\r\n    public Mural() {\r\n\r\n    }\r\n\r\n    public Mural(Long id, String name, User user) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.user = user;\r\n    }\r\n \r\n    //getters and setters...\r\n\r\n\r\n```\r\nAnd the following request...\r\n\r\n```\r\n @GetMapping\r\n    public ResponseEntity&lt;List&lt;User&gt;&gt; findAll(){\r\n        List&lt;User&gt; list = repository.findAll();\r\n        return ResponseEntity.ok().body(list);\r\n    }\r\n```\r\n\r\nBut I have the following error...\r\n\r\n```\r\n Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role... continue...\r\n```\r\n\r\nI tried using FETCH.EAGER but it doesn&#39;t work, it only works if I use jsonignore, but I would like it to return the &quot;mural&quot; in the user request.\r\n\r\nThe user request data are these =\r\n\r\n\r\n```\r\n[\r\n    {\r\n        &quot;id&quot;: 1,\r\n        &quot;name&quot;: &quot;Anderson Conforto&quot;\r\n    },\r\n    {\r\n        &quot;id&quot;: 2,\r\n        &quot;name&quot;: &quot;Airton Conforto&quot;\r\n    }\r\n]\r\n```\r\n\r\nbut using jsonignore, it ignores the mural class data, and that&#39;s not what I&#39;d like.","title":"Could not write JSON: failed to lazily initialize a collection of role one to one","body":"<p>I have the following code...\nIt's an application where the user has a wall, and on that wall there can be several games.</p>\n<pre><code>@Entity\n@Table(name = &quot;tb_user&quot;)\npublic class User implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n\n    @OneToOne(mappedBy = &quot;user&quot;,fetch = FetchType.EAGER)\n    private Mural mural;\n\n    public User() {\n\n    }\n\n    public User(Long id, String name, Mural mural) {\n        this.id = id;\n        this.name = name;\n        this.mural = mural;\n\n     //getters and setters...\n    }\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;tb_mural&quot;)\npublic class Mural implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n\n    @ManyToMany\n    @JoinTable(name = &quot;tb_mural_games&quot;,\n            joinColumns = @JoinColumn(name = &quot;mural_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;games_id&quot;))\n    private Set&lt;Game&gt; games = new HashSet&lt;&gt;();\n\n    @OneToOne\n    @JoinColumn(name = &quot;user_id&quot;)\n    private User user;\n\n    public Mural() {\n\n    }\n\n    public Mural(Long id, String name, User user) {\n        this.id = id;\n        this.name = name;\n        this.user = user;\n    }\n \n    //getters and setters...\n\n\n</code></pre>\n<p>And the following request...</p>\n<pre><code> @GetMapping\n    public ResponseEntity&lt;List&lt;User&gt;&gt; findAll(){\n        List&lt;User&gt; list = repository.findAll();\n        return ResponseEntity.ok().body(list);\n    }\n</code></pre>\n<p>But I have the following error...</p>\n<pre><code> Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role... continue...\n</code></pre>\n<p>I tried using FETCH.EAGER but it doesn't work, it only works if I use jsonignore, but I would like it to return the &quot;mural&quot; in the user request.</p>\n<p>The user request data are these =</p>\n<pre><code>[\n    {\n        &quot;id&quot;: 1,\n        &quot;name&quot;: &quot;Anderson Conforto&quot;\n    },\n    {\n        &quot;id&quot;: 2,\n        &quot;name&quot;: &quot;Airton Conforto&quot;\n    }\n]\n</code></pre>\n<p>but using jsonignore, it ignores the mural class data, and that's not what I'd like.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1638735203,"post_id":70237697,"comment_id":124161459,"body_markdown":"Don&#39;t use `JMenuItem` this way, that&#39;s not how it&#39;s intended to be used.  In fact, `JMenu` doesn&#39;t use them this way, it builds different components and uses the `JMenuItem` simply as a configuration container","body":"Don&#39;t use <code>JMenuItem</code> this way, that&#39;s not how it&#39;s intended to be used.  In fact, <code>JMenu</code> doesn&#39;t use them this way, it builds different components and uses the <code>JMenuItem</code> simply as a configuration container"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1638736039,"post_id":70237697,"comment_id":124161630,"body_markdown":"Oracle has a nifty tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Netbeans section.  You want to use [key bindings](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html) to bind keys to the drawing `JPanel`.  Start slowly and carefully with the examples in the tutorial, only adding code that you understand, until you get your game built.","body":"Oracle has a nifty tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Netbeans section.  You want to use <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">key bindings</a> to bind keys to the drawing <code>JPanel</code>.  Start slowly and carefully with the examples in the tutorial, only adding code that you understand, until you get your game built."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638736063,"creation_date":1638736063,"answer_id":70238265,"question_id":70237697,"body_markdown":"Don&#39;t use `JMenuItem` this way, that&#39;s not how it&#39;s intended to be used\r\n\r\nInstead, I&#39;d start with `JButton`.  The following makes use of your focus transversal code, the [`Action` API](https://docs.oracle.com/javase/tutorial/uiswing/misc/action.html) and the [key bindings API](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html)\r\n\r\n    import java.awt.AWTKeyStroke;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.KeyboardFocusManager;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.KeyEvent;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    import javax.swing.AbstractAction;\r\n    import javax.swing.Action;\r\n    import javax.swing.ActionMap;\r\n    import javax.swing.InputMap;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.KeyStroke;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() {\r\n                setLayout(new GridBagLayout());\r\n\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n                gbc.fill = GridBagConstraints.HORIZONTAL;\r\n\r\n                Set&lt;AWTKeyStroke&gt; set = new HashSet&lt;AWTKeyStroke&gt;(KeyboardFocusManager.getCurrentKeyboardFocusManager().getDefaultFocusTraversalKeys(KeyboardFocusManager.FORWARD_TRAVERSAL_KEYS));\r\n                set.add(KeyStroke.getKeyStroke(&quot;DOWN&quot;));\r\n                KeyboardFocusManager.getCurrentKeyboardFocusManager().setDefaultFocusTraversalKeys(KeyboardFocusManager.FORWARD_TRAVERSAL_KEYS, set);\r\n\r\n                set = new HashSet&lt;AWTKeyStroke&gt;(KeyboardFocusManager.getCurrentKeyboardFocusManager().getDefaultFocusTraversalKeys(KeyboardFocusManager.BACKWARD_TRAVERSAL_KEYS));\r\n                set.add(KeyStroke.getKeyStroke(&quot;UP&quot;));\r\n                KeyboardFocusManager.getCurrentKeyboardFocusManager().setDefaultFocusTraversalKeys(KeyboardFocusManager.BACKWARD_TRAVERSAL_KEYS, set);\r\n\r\n                Action playAction = new AbstractAction(&quot;Play&quot;) {                \r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        System.out.println(&quot;play&quot;);\r\n                    }\r\n                };\r\n                playAction.putValue(Action.MNEMONIC_KEY, (int)&#39;P&#39;);\r\n                Action exitAction = new AbstractAction(&quot;Exit&quot;) {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        System.out.println(&quot;exit&quot;);\r\n                    }\r\n                };\r\n                exitAction.putValue(Action.MNEMONIC_KEY, (int)&#39;x&#39;);\r\n\r\n                InputMap im = getInputMap(WHEN_IN_FOCUSED_WINDOW);\r\n                ActionMap am = getActionMap();\r\n                im.put(KeyStroke.getKeyStroke(KeyEvent.VK_P, 0), &quot;play&quot;);\r\n                im.put(KeyStroke.getKeyStroke(KeyEvent.VK_X, 0), &quot;exit&quot;);\r\n\r\n                am.put(&quot;play&quot;, playAction);\r\n                am.put(&quot;exit&quot;, exitAction);\r\n\r\n                JButton playButton = new JButton(playAction);\r\n                JButton exitButton = new JButton(exitAction);\r\n\r\n                add(playButton, gbc);\r\n                add(exitButton, gbc);\r\n            }\r\n\r\n        }\r\n    }\r\n\r\nNow, you could do something similar with `JLabel`, but, `JLabel` isn&#39;t focusable by default, nor does it render any kind of focus indication.  Instead, I might be tempted to just strip down a `JButton` so it didn&#39;t paint its border or content/background instead","title":"Why is my program not listening to keyEvents?","body":"<p>Don't use <code>JMenuItem</code> this way, that's not how it's intended to be used</p>\n<p>Instead, I'd start with <code>JButton</code>.  The following makes use of your focus transversal code, the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/action.html\" rel=\"nofollow noreferrer\"><code>Action</code> API</a> and the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">key bindings API</a></p>\n<pre><code>import java.awt.AWTKeyStroke;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.KeyboardFocusManager;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.KeyEvent;\nimport java.util.HashSet;\nimport java.util.Set;\nimport javax.swing.AbstractAction;\nimport javax.swing.Action;\nimport javax.swing.ActionMap;\nimport javax.swing.InputMap;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.KeyStroke;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            setLayout(new GridBagLayout());\n\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n            gbc.fill = GridBagConstraints.HORIZONTAL;\n\n            Set&lt;AWTKeyStroke&gt; set = new HashSet&lt;AWTKeyStroke&gt;(KeyboardFocusManager.getCurrentKeyboardFocusManager().getDefaultFocusTraversalKeys(KeyboardFocusManager.FORWARD_TRAVERSAL_KEYS));\n            set.add(KeyStroke.getKeyStroke(&quot;DOWN&quot;));\n            KeyboardFocusManager.getCurrentKeyboardFocusManager().setDefaultFocusTraversalKeys(KeyboardFocusManager.FORWARD_TRAVERSAL_KEYS, set);\n\n            set = new HashSet&lt;AWTKeyStroke&gt;(KeyboardFocusManager.getCurrentKeyboardFocusManager().getDefaultFocusTraversalKeys(KeyboardFocusManager.BACKWARD_TRAVERSAL_KEYS));\n            set.add(KeyStroke.getKeyStroke(&quot;UP&quot;));\n            KeyboardFocusManager.getCurrentKeyboardFocusManager().setDefaultFocusTraversalKeys(KeyboardFocusManager.BACKWARD_TRAVERSAL_KEYS, set);\n\n            Action playAction = new AbstractAction(&quot;Play&quot;) {                \n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    System.out.println(&quot;play&quot;);\n                }\n            };\n            playAction.putValue(Action.MNEMONIC_KEY, (int)'P');\n            Action exitAction = new AbstractAction(&quot;Exit&quot;) {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    System.out.println(&quot;exit&quot;);\n                }\n            };\n            exitAction.putValue(Action.MNEMONIC_KEY, (int)'x');\n\n            InputMap im = getInputMap(WHEN_IN_FOCUSED_WINDOW);\n            ActionMap am = getActionMap();\n            im.put(KeyStroke.getKeyStroke(KeyEvent.VK_P, 0), &quot;play&quot;);\n            im.put(KeyStroke.getKeyStroke(KeyEvent.VK_X, 0), &quot;exit&quot;);\n\n            am.put(&quot;play&quot;, playAction);\n            am.put(&quot;exit&quot;, exitAction);\n\n            JButton playButton = new JButton(playAction);\n            JButton exitButton = new JButton(exitAction);\n\n            add(playButton, gbc);\n            add(exitButton, gbc);\n        }\n\n    }\n}\n</code></pre>\n<p>Now, you could do something similar with <code>JLabel</code>, but, <code>JLabel</code> isn't focusable by default, nor does it render any kind of focus indication.  Instead, I might be tempted to just strip down a <code>JButton</code> so it didn't paint its border or content/background instead</p>\n"},{"tags":[],"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638736926,"creation_date":1638736926,"answer_id":70238376,"question_id":70237697,"body_markdown":"There&#39;s a lot to help with in this case.  For starters,\r\n\r\n    public static void main(String args[]) {\r\n        new Screen();\r\n    }\r\n\r\nis wrong.  It is not appropriate to perform any operation that alters the Swing layout or presentation on the main thread.  Instead do\r\n\r\n    public static void main(String args[]) {\r\n        SwingUtilities.invokeLater(new Runnable() {\r\n            public void run() {\r\n                new Screen();\r\n            }\r\n        });\r\n    }\r\n\r\nif you decide that you want to put swing calls into an object&#39;s constructor in this way.\r\n\r\nIdeally your `Screen` would be a `JFrame` but one that is customized to meet your needs.  That means you might want to create a new class `GamePanel` that extends `JPanel`\r\n\r\n     public class Screen extends JFrame {\r\n         public Screen() {\r\n             super(&quot;Game&quot;); // to remind us that the JFrame is created\r\n             setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n             add(new GamePanel());\r\n             pack();\r\n             setVisible(true);\r\n         }\r\n     }\r\n\r\n     public class GamePanel extends JPanel {\r\n         public GamePanel() {\r\n             super();\r\n         }\r\n     }\r\n\r\nNow, if you want that panel to listen to keys, you need to add a `KeyListener` interface.  This only gives it the capability to listen, it doesn&#39;t make it listen.\r\n\r\n     public class GamePanel extends JPanel implements KeyListener {\r\n\r\n         ...\r\n\r\n         public void keyTyped(KeyEvent e) {\r\n             System.out.println(&quot;KEY TYPED: &quot; + e);\r\n         }\r\n\r\n         public void keyPressed(KeyEvent e) {\r\n             System.out.println(&quot;KEY PRESSED: &quot; + e);\r\n         }\r\n\r\n         public void keyReleased(KeyEvent e) {\r\n             System.out.println(&quot;KEY RELEASED: &quot; + e);\r\n         }\r\n\r\n    }\r\n\r\nNow you can add your key listener to the `Screen` or to the `GamePanel` (it will listen to itself).  Whenever the focus is in one of these items, and a key is pressed, the even will be routed to the listener.\r\n\r\n    \r\n     public class GamePanel extends JPanel implements KeyListener {\r\n\r\n         public GamePanel() {\r\n             super();\r\n             addKeyListener(this);\r\n         }\r\n\r\n         ...\r\n     }\r\n\r\nIdeally, you might want to not combine your key listener with the panel itself, but make it a &quot;Command Processor&quot; of some sort.  In that case, remove the `KeyListener` code from the `JPanel` and make a completely new `CommmandHandler` object that implements `KeyListener`.\r\n\r\nAs far as `Actions` go, they are convenience items that pre-configure menu entries with lots of things (icons, acceleration keys, text, callback functions).  If you are avoiding menus for whatever reason, you will find that much of their utility in setting up menus is misdirected for your purpose.  Effectively, they are configuration entries that configure the `MenuItem` objects to handle a key (through the `KeyListener` interface and then dispatch a swing `Event` object.  This provide &quot;better than key&quot; tracking of items through an application as it converts a keyboard letter `k` to a class `ActionEvent` which is passed to the registered &quot;action handler&quot; typically a subclass of `AbstractAction`.\r\n\r\nAn example of an Action would be\r\n\r\n    public class MoveLeft extends AbstractAction {  // which extends ActionListener\r\n        private final GameState gameState;\r\n\r\n        public MoveLeft(GameState gameState) {\r\n            super(&quot;move left&quot;, new ImageIcon(MoveLeft.class.getResource(&quot;/images/moveleft.png&quot;));\r\n            putValue(&quot;SHORT_DESCRIPTION&quot;, &quot;left&quot;);\r\n            putValue(&quot;MNEMONIC_KEY&quot;, &quot;l&quot;);\r\n            this.gameState = gameState;\r\n        }\r\n\r\n        public void actionPerformed(ActionEvent e) {\r\n            gamestate.getSelected().moveLeft();\r\n        }\r\n    }\r\n\r\nAssuming you wanted this convenience, you would initialize your `CommandHandler` with `Action`s, maybe like so:\r\n\r\n    public CommandHandler implements KeyListener {\r\n\r\n        private int actionId;\r\n\r\n        ...\r\n\r\n        public void addAction(Action action) {\r\n            handlers.put(action.getValue(&quot;MNEMONIC_KEY&quot;)., action);\r\n        }\r\n\r\n        public void keyTyped(KeyEvent e) {\r\n            Action action = handlers.get(String.valueOf(e.getKeyChar());\r\n            ActionEvent event = new ActionEvent(this, id, action.getValue(&quot;NAME&quot;));\r\n            action.actionPerformed( event );\r\n        } \r\n    }\r\n\r\nAs you can see, the added convenience of having `Action`s defined for the actions within your game is a balanced by making your components that use them be configured by them (and using them in the `KeyListener` implementations).\r\n\r\nFor large projects, the simplicity of having all your actions listed generally makes creating Actions well worth the effort; but, for smaller projects that are mostly using custom components, the added one-time-cost of making the `KeyListener` components use actions might outweigh the benefits.\r\n","title":"Why is my program not listening to keyEvents?","body":"<p>There's a lot to help with in this case.  For starters,</p>\n<pre><code>public static void main(String args[]) {\n    new Screen();\n}\n</code></pre>\n<p>is wrong.  It is not appropriate to perform any operation that alters the Swing layout or presentation on the main thread.  Instead do</p>\n<pre><code>public static void main(String args[]) {\n    SwingUtilities.invokeLater(new Runnable() {\n        public void run() {\n            new Screen();\n        }\n    });\n}\n</code></pre>\n<p>if you decide that you want to put swing calls into an object's constructor in this way.</p>\n<p>Ideally your <code>Screen</code> would be a <code>JFrame</code> but one that is customized to meet your needs.  That means you might want to create a new class <code>GamePanel</code> that extends <code>JPanel</code></p>\n<pre><code> public class Screen extends JFrame {\n     public Screen() {\n         super(&quot;Game&quot;); // to remind us that the JFrame is created\n         setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n         add(new GamePanel());\n         pack();\n         setVisible(true);\n     }\n }\n\n public class GamePanel extends JPanel {\n     public GamePanel() {\n         super();\n     }\n }\n</code></pre>\n<p>Now, if you want that panel to listen to keys, you need to add a <code>KeyListener</code> interface.  This only gives it the capability to listen, it doesn't make it listen.</p>\n<pre><code> public class GamePanel extends JPanel implements KeyListener {\n\n     ...\n\n     public void keyTyped(KeyEvent e) {\n         System.out.println(&quot;KEY TYPED: &quot; + e);\n     }\n\n     public void keyPressed(KeyEvent e) {\n         System.out.println(&quot;KEY PRESSED: &quot; + e);\n     }\n\n     public void keyReleased(KeyEvent e) {\n         System.out.println(&quot;KEY RELEASED: &quot; + e);\n     }\n\n}\n</code></pre>\n<p>Now you can add your key listener to the <code>Screen</code> or to the <code>GamePanel</code> (it will listen to itself).  Whenever the focus is in one of these items, and a key is pressed, the even will be routed to the listener.</p>\n<pre><code> public class GamePanel extends JPanel implements KeyListener {\n\n     public GamePanel() {\n         super();\n         addKeyListener(this);\n     }\n\n     ...\n }\n</code></pre>\n<p>Ideally, you might want to not combine your key listener with the panel itself, but make it a &quot;Command Processor&quot; of some sort.  In that case, remove the <code>KeyListener</code> code from the <code>JPanel</code> and make a completely new <code>CommmandHandler</code> object that implements <code>KeyListener</code>.</p>\n<p>As far as <code>Actions</code> go, they are convenience items that pre-configure menu entries with lots of things (icons, acceleration keys, text, callback functions).  If you are avoiding menus for whatever reason, you will find that much of their utility in setting up menus is misdirected for your purpose.  Effectively, they are configuration entries that configure the <code>MenuItem</code> objects to handle a key (through the <code>KeyListener</code> interface and then dispatch a swing <code>Event</code> object.  This provide &quot;better than key&quot; tracking of items through an application as it converts a keyboard letter <code>k</code> to a class <code>ActionEvent</code> which is passed to the registered &quot;action handler&quot; typically a subclass of <code>AbstractAction</code>.</p>\n<p>An example of an Action would be</p>\n<pre><code>public class MoveLeft extends AbstractAction {  // which extends ActionListener\n    private final GameState gameState;\n\n    public MoveLeft(GameState gameState) {\n        super(&quot;move left&quot;, new ImageIcon(MoveLeft.class.getResource(&quot;/images/moveleft.png&quot;));\n        putValue(&quot;SHORT_DESCRIPTION&quot;, &quot;left&quot;);\n        putValue(&quot;MNEMONIC_KEY&quot;, &quot;l&quot;);\n        this.gameState = gameState;\n    }\n\n    public void actionPerformed(ActionEvent e) {\n        gamestate.getSelected().moveLeft();\n    }\n}\n</code></pre>\n<p>Assuming you wanted this convenience, you would initialize your <code>CommandHandler</code> with <code>Action</code>s, maybe like so:</p>\n<pre><code>public CommandHandler implements KeyListener {\n\n    private int actionId;\n\n    ...\n\n    public void addAction(Action action) {\n        handlers.put(action.getValue(&quot;MNEMONIC_KEY&quot;)., action);\n    }\n\n    public void keyTyped(KeyEvent e) {\n        Action action = handlers.get(String.valueOf(e.getKeyChar());\n        ActionEvent event = new ActionEvent(this, id, action.getValue(&quot;NAME&quot;));\n        action.actionPerformed( event );\n    } \n}\n</code></pre>\n<p>As you can see, the added convenience of having <code>Action</code>s defined for the actions within your game is a balanced by making your components that use them be configured by them (and using them in the <code>KeyListener</code> implementations).</p>\n<p>For large projects, the simplicity of having all your actions listed generally makes creating Actions well worth the effort; but, for smaller projects that are mostly using custom components, the added one-time-cost of making the <code>KeyListener</code> components use actions might outweigh the benefits.</p>\n"}],"owner":{"account_id":23554736,"reputation":23,"user_id":17596905,"display_name":"Alcor717"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70238376,"answer_count":2,"score":0,"last_activity_date":1638736926,"creation_date":1638731772,"question_id":70237697,"body_markdown":"I am trying to develop a main menu for a game in java, but my `JMenuItem`s wouldn&#39;t listen to the `KeyEvent`s and I don&#39;t understand why. Note that I don&#39;t want to set any `JMenuBar`s nor `JMenu`s as this program is intended to be a game used with screen readers, so I don&#39;t want accessibility roles to be read. Furthermore, adding a menu complicates the access to the elements with the keyboard and I want the focus to start in the first option.\r\n\r\nThis is my code:\r\n\r\n    import java.util.Set;\r\n    import java.util.HashSet;\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.event.MenuKeyEvent;\r\n    import javax.swing.event.MenuKeyListener;\r\n    \r\n    public class Screen {\r\n    \r\n        public Screen() {\r\n            // Accept arrow keys as focus traversal keys\r\n            Set&lt;AWTKeyStroke&gt; set = new HashSet&lt;AWTKeyStroke&gt;(KeyboardFocusManager.getCurrentKeyboardFocusManager().getDefaultFocusTrave rsalKeys(KeyboardFocusManager.FORWARD_TRAVERSAL_KEYS));\r\n            set.add(KeyStroke.getKeyStroke(&quot;DOWN&quot;));\r\n            KeyboardFocusManager.getCurrentKeyboardFocusManager().setDefaultFocusTraversalKeys(KeyboardFocusManager.FORWARD_TRAVERSAL_KEYS,set);\r\n            set = new HashSet&lt;AWTKeyStroke&gt;(KeyboardFocusManager.getCurrentKeyboardFocusManager().getDefaultFocusTraversalKeys(KeyboardFocusManager.BACKWARD_TRAVERSAL_KEYS));\r\n            set.add(KeyStroke.getKeyStroke(&quot;UP&quot;));\r\n            KeyboardFocusManager.getCurrentKeyboardFocusManager().setDefaultFocusTraversalKeys(KeyboardFocusManager.BACKWARD_TRAVERSAL_KEYS,set);\r\n            // definition of Menu Items\r\n            JMenuItem mi=new JMenuItem(&quot;play&quot;);\r\n            JMenuItem mi2=new JMenuItem(&quot;exit&quot;);\r\n            mi.setFocusable(true);\r\n            mi2.setFocusable(true);\r\n            // Attempt with MenuKeyListener\r\n            mi.addMenuKeyListener(new MenuKeyListener() {\r\n                public void menuKeyReleased(MenuKeyEvent e) {\r\n                    System.out.println(&quot;Play released&quot;);\r\n                }\r\n                public void menuKeyTyped(MenuKeyEvent e) {}\r\n                public void menuKeyPressed(MenuKeyEvent e) {}\r\n            });\r\n            // Attempt with ActionListener\r\n            mi2.addActionListener(new ActionListener() {\r\n                public void actionPerformed(ActionEvent e) {\r\n                    System.exit(0);\r\n                }\r\n            });\r\n            mi.setVisible(true);\r\n            mi2.setVisible(true);\r\n            JPanel mp = new JPanel();\r\n            JFrame mf = new JFrame(&quot;Game&quot;);\r\n            mf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            mp.add(mi);\r\n            mp.add(mi2);\r\n            mf.add(mp);\r\n            mf.setVisible(true);\r\n        }\r\n        public static void main(String args[]) {\r\n            new Screen();\r\n        }\r\n    }\r\n\r\nI&#39;ve tried with both `ActionListener` and `MenuKeyListener`, with and without the `JPanel`, changing visibilities... I also tried to use `KeyEventDispatcher` but I didn&#39;t know how to send a `KeyEvent` to the component that returns `KeyboardFocusManager.getFocusOwner()`.\r\n\r\nPlease help.","title":"Why is my program not listening to keyEvents?","body":"<p>I am trying to develop a main menu for a game in java, but my <code>JMenuItem</code>s wouldn't listen to the <code>KeyEvent</code>s and I don't understand why. Note that I don't want to set any <code>JMenuBar</code>s nor <code>JMenu</code>s as this program is intended to be a game used with screen readers, so I don't want accessibility roles to be read. Furthermore, adding a menu complicates the access to the elements with the keyboard and I want the focus to start in the first option.</p>\n<p>This is my code:</p>\n<pre><code>import java.util.Set;\nimport java.util.HashSet;\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.event.MenuKeyEvent;\nimport javax.swing.event.MenuKeyListener;\n\npublic class Screen {\n\n    public Screen() {\n        // Accept arrow keys as focus traversal keys\n        Set&lt;AWTKeyStroke&gt; set = new HashSet&lt;AWTKeyStroke&gt;(KeyboardFocusManager.getCurrentKeyboardFocusManager().getDefaultFocusTrave rsalKeys(KeyboardFocusManager.FORWARD_TRAVERSAL_KEYS));\n        set.add(KeyStroke.getKeyStroke(&quot;DOWN&quot;));\n        KeyboardFocusManager.getCurrentKeyboardFocusManager().setDefaultFocusTraversalKeys(KeyboardFocusManager.FORWARD_TRAVERSAL_KEYS,set);\n        set = new HashSet&lt;AWTKeyStroke&gt;(KeyboardFocusManager.getCurrentKeyboardFocusManager().getDefaultFocusTraversalKeys(KeyboardFocusManager.BACKWARD_TRAVERSAL_KEYS));\n        set.add(KeyStroke.getKeyStroke(&quot;UP&quot;));\n        KeyboardFocusManager.getCurrentKeyboardFocusManager().setDefaultFocusTraversalKeys(KeyboardFocusManager.BACKWARD_TRAVERSAL_KEYS,set);\n        // definition of Menu Items\n        JMenuItem mi=new JMenuItem(&quot;play&quot;);\n        JMenuItem mi2=new JMenuItem(&quot;exit&quot;);\n        mi.setFocusable(true);\n        mi2.setFocusable(true);\n        // Attempt with MenuKeyListener\n        mi.addMenuKeyListener(new MenuKeyListener() {\n            public void menuKeyReleased(MenuKeyEvent e) {\n                System.out.println(&quot;Play released&quot;);\n            }\n            public void menuKeyTyped(MenuKeyEvent e) {}\n            public void menuKeyPressed(MenuKeyEvent e) {}\n        });\n        // Attempt with ActionListener\n        mi2.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                System.exit(0);\n            }\n        });\n        mi.setVisible(true);\n        mi2.setVisible(true);\n        JPanel mp = new JPanel();\n        JFrame mf = new JFrame(&quot;Game&quot;);\n        mf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        mp.add(mi);\n        mp.add(mi2);\n        mf.add(mp);\n        mf.setVisible(true);\n    }\n    public static void main(String args[]) {\n        new Screen();\n    }\n}\n</code></pre>\n<p>I've tried with both <code>ActionListener</code> and <code>MenuKeyListener</code>, with and without the <code>JPanel</code>, changing visibilities... I also tried to use <code>KeyEventDispatcher</code> but I didn't know how to send a <code>KeyEvent</code> to the component that returns <code>KeyboardFocusManager.getFocusOwner()</code>.</p>\n<p>Please help.</p>\n"},{"tags":["java","android","android-room"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1638550767,"post_id":70217939,"comment_id":124127132,"body_markdown":"What line causes the error?","body":"What line causes the error?"},{"owner":{"account_id":16228527,"reputation":1535,"user_id":11718077,"display_name":"Anshul"},"score":0,"creation_date":1638552608,"post_id":70217939,"comment_id":124127795,"body_markdown":"Use a observer subscriber like data structure like liveData etc and listen to changes when data is fetched.","body":"Use a observer subscriber like data structure like liveData etc and listen to changes when data is fetched."},{"owner":{"account_id":2821411,"reputation":673,"user_id":11254630,"display_name":"svstackoverflow"},"score":0,"creation_date":1638554475,"post_id":70217939,"comment_id":124128433,"body_markdown":"@Code-Apprentice - ` BaseDatabase` initialization in the `buildBaseLIst` within the `for` loop.","body":"@Code-Apprentice - ` BaseDatabase` initialization in the <code>buildBaseLIst</code> within the <code>for</code> loop."},{"owner":{"account_id":2821411,"reputation":673,"user_id":11254630,"display_name":"svstackoverflow"},"score":0,"creation_date":1638554547,"post_id":70217939,"comment_id":124128465,"body_markdown":"@Anshul - Thanks, I hadn&#39;t tried `Observer`, I will read up.","body":"@Anshul - Thanks, I hadn&#39;t tried <code>Observer</code>, I will read up."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1638570071,"post_id":70217939,"comment_id":124132876,"body_markdown":"@svstackoverflow Please give the actual line of code rather than a verbal description of it.","body":"@svstackoverflow Please give the actual line of code rather than a verbal description of it."}],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638611886,"creation_date":1638609839,"answer_id":70224414,"question_id":70217939,"body_markdown":"Here&#39;s an example with 2 activities. The first **MainActivity** that \r\n\r\n- displays a list of the available databases (none at first)\r\n    - clicking on a database allows it to be selected (it is not accessed or created (if new))\r\n- allows a database to be added, by entering it&#39;s name in the EditText, to the available databases (it is not created or accessed).\r\n-  allows a second activity to be passed the database name where the activity can then open the database (creating it if it doesn&#39;t exist).\r\n    - note that the database isn&#39;t accessed.\r\n\r\nSo first the MasterDatabaseList class (entity) :-\r\n\r\n    @Entity(tableName = MasterDatabaseList.TABLE_NAME,\r\n            indices = { @Index(value = MasterDatabaseList.COL_DATABASE_NAME, unique = true)\r\n            }\r\n    )\r\n    class MasterDatabaseList {\r\n        public static final String TABLE_NAME = &quot;masterdatabaselist&quot;;\r\n        public static final String COl_ID = &quot;id&quot;;\r\n        public static final String COL_DATABASE_NAME = &quot;databasename&quot;;\r\n        public static final String[] ALL_COLUMNS = new String[]{\r\n                COl_ID, COL_DATABASE_NAME\r\n        };\r\n        @PrimaryKey\r\n        @ColumnInfo(name = COl_ID)\r\n        Long id;\r\n        @ColumnInfo(name = COL_DATABASE_NAME)\r\n        String databaseName;\r\n    \r\n        public MasterDatabaseList() {}\r\n        @Ignore\r\n        public MasterDatabaseList(String databaseName) {\r\n            this.databaseName = databaseName;\r\n        }\r\n        public Long getId() {\r\n            return id;\r\n        }\r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n        public String getDatabaseName() {\r\n            return databaseName;\r\n        }\r\n        public void setDatabaseName(String databaseName) {\r\n            this.databaseName = databaseName;\r\n        }\r\n    }\r\n\r\n- similar to [previous answer][1] (but note some added constants)\r\n\r\n**MasterDatabaseDao** \r\n\r\n    @Dao\r\n    abstract class MasterDao {\r\n        @Insert(onConflict = OnConflictStrategy.IGNORE)\r\n        abstract long insert(MasterDatabaseList masterDatabaseList);\r\n        @Query(&quot;SELECT * FROM masterdatabaselist&quot;)\r\n        abstract List&lt;MasterDatabaseList&gt; getAllDatabases();\r\n    \r\n        Cursor getAllDatabasesAsCursor() {\r\n            MatrixCursor matrixCursor = new MatrixCursor(\r\n                    new String[]{\r\n                            BaseColumns._ID, /* Cursor Adapter must use _id column for id) */\r\n                            MasterDatabaseList.COL_DATABASE_NAME\r\n                    },\r\n                    0\r\n            );\r\n            for(MasterDatabaseList m: getAllDatabases()) {\r\n                matrixCursor.addRow(new Object[]{m.id,m.databaseName});\r\n            }\r\n            return matrixCursor;\r\n        }\r\n    }\r\n\r\n- Note the new method that gets the list of available databases as a Cursor (for the ListView)\r\n\r\n- **MasterDatabase** \r\n\r\n    @Database(\r\n            entities = {MasterDatabaseList.class},\r\n            version = 1\r\n    )\r\n    abstract class MasterDatabase extends RoomDatabase {\r\n        abstract MasterDao getMasterDao();\r\n    \r\n        static volatile MasterDatabase instance = null;\r\n        public static MasterDatabase getInstance(Context context) {\r\n            if (instance == null) {\r\n                instance = Room.databaseBuilder(context,MasterDatabase.class,&quot;master.db&quot;)\r\n                        .allowMainThreadQueries()\r\n                        .build();\r\n            }\r\n            return instance;\r\n        }\r\n    }\r\n\r\n- unchanged from [previous answer][1]\r\n\r\n2nd Activity **UseSelectedDatabase**\r\n\r\n    public class UseSelectedDatabase extends AppCompatActivity {\r\n        public static final String INTENT_EXTRA_DATABASEID = &quot;database_id&quot;;\r\n        public static final String INTENT_EXTRA_DATABASENAME = &quot;database_name&quot;;\r\n    \r\n        long mDatabaseId;\r\n        String mDatabaseName;\r\n        TextView mDatabaseBeingUsed;\r\n        Button mDoneButton;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_use_selected_database);\r\n            mDatabaseBeingUsed = this.findViewById(R.id.database_name);\r\n            mDoneButton = this.findViewById(R.id.done);\r\n    \r\n    \r\n            mDatabaseId = this.getIntent().getLongExtra(INTENT_EXTRA_DATABASEID,-1);\r\n            mDatabaseName = this.getIntent().getStringExtra(INTENT_EXTRA_DATABASENAME);\r\n            mDatabaseBeingUsed.setText(mDatabaseName);\r\n            setDoneButton();\r\n    \r\n            /*\r\n                can now get an instance of the database\r\n             */\r\n    \r\n        }\r\n        \r\n        private void setDoneButton() {\r\n            mDoneButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    finish();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n- This doesn&#39;t access the database but just receives the database name and id in the master database. i.e. just shows that you can pass all the information required to access the database.\r\n\r\n2nd Activities layout **activity_use_selected_database.xml** :-\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.UseSelectedDatabase&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/database_name&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;No Database Set?&quot;\r\n            &gt;\r\n        &lt;/TextView&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/done&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;DONE&quot;&gt;\r\n        &lt;/Button&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\nInitial Activity **MainActivity** :-\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        MasterDatabase mMasterDB;\r\n        MasterDao mMasterDBDao;\r\n        EditText mDBToAdd;\r\n        Button mAddDB,mUseSelectedDatabase;\r\n        ListView mDatabaseList;\r\n        SimpleCursorAdapter mSCA;\r\n        Cursor mCsr;\r\n        long mSelectedDatabaseId = 0;\r\n        String mSelectedDatabaseName = &quot;&quot;;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            mDBToAdd = this.findViewById(R.id.database_name);\r\n            mAddDB = this.findViewById(R.id.addDatabase);\r\n            mUseSelectedDatabase = this.findViewById(R.id.useSelectedDatabase);\r\n            mDatabaseList = this.findViewById(R.id.database_list);\r\n    \r\n            mMasterDB = MasterDatabase.getInstance(this);\r\n            mMasterDBDao = mMasterDB.getMasterDao();\r\n    \r\n    \r\n            setUpAddDBButton();\r\n            setUpUseSelectedDatabaseButton();\r\n            setOrRefreshDatabaseList();\r\n        }\r\n    \r\n        private void setUpAddDBButton() {\r\n            mAddDB.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    if (mDBToAdd.getText().toString().length() &gt; 0) {\r\n                        if (mMasterDBDao.insert(new MasterDatabaseList(mDBToAdd.getText().toString())) &gt; 0) {\r\n                            mDBToAdd.setText(&quot;&quot;);\r\n                            setOrRefreshDatabaseList();\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        private void setUpUseSelectedDatabaseButton() {\r\n            mUseSelectedDatabase.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    if (mSelectedDatabaseId &gt; 0) {\r\n                        Intent intent = new Intent(view.getContext(),UseSelectedDatabase.class);\r\n                        intent.putExtra(UseSelectedDatabase.INTENT_EXTRA_DATABASEID, mSelectedDatabaseId);\r\n                        intent.putExtra(UseSelectedDatabase.INTENT_EXTRA_DATABASENAME,mSelectedDatabaseName);\r\n                        startActivity(intent);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    \r\n        private void setOrRefreshDatabaseList() {\r\n            mCsr = mMasterDBDao.getAllDatabasesAsCursor();\r\n            if (mSCA == null) {\r\n                mSCA = new SimpleCursorAdapter(\r\n                        this.getApplicationContext(),\r\n                        android.R.layout.simple_list_item_1,\r\n                        mCsr,\r\n                        new String[]{MasterDatabaseList.COL_DATABASE_NAME},\r\n                        new int[]{android.R.id.text1},\r\n                        0\r\n                );\r\n                mDatabaseList.setAdapter(mSCA);\r\n                mDatabaseList.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n                    /* Handle Clicking on an Item (i.e. prepare UseSelected Button) */\r\n                    @SuppressLint(&quot;Range&quot;)\r\n                    @Override\r\n                    public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n                        mSelectedDatabaseId = l;\r\n                        if (l &gt; 0) {\r\n                            mSelectedDatabaseName = mCsr.getString(mCsr.getColumnIndex(MasterDatabaseList.COL_DATABASE_NAME));\r\n                            mUseSelectedDatabase.setText(mSelectedDatabaseName);\r\n                            mUseSelectedDatabase.setClickable(true);\r\n                        } else {\r\n                            mUseSelectedDatabase.setText(&quot;NO DATEBASE SELECTED&quot;);\r\n                            mUseSelectedDatabase.setClickable(false);\r\n                        }\r\n                    }\r\n                });\r\n            } else {\r\n                mSCA.swapCursor(mCsr);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        protected void onResume() {\r\n            super.onResume();\r\n            setOrRefreshDatabaseList();\r\n        }\r\n    \r\n        @Override\r\n        protected void onDestroy() {\r\n            super.onDestroy();\r\n            mCsr.close();\r\n        }\r\n    }\r\n\r\nInitial Activity&#39;s layout **activity_main.xml** :-\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Hello World!&quot; /&gt;\r\n        &lt;EditText\r\n            android:id=&quot;@+id/database_name&quot;\r\n            android:layout_width=&quot;500dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;&quot;&gt;\r\n        &lt;/EditText&gt;\r\n        &lt;Button\r\n            android:id=&quot;@+id/addDatabase&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Add Database&quot;\r\n            &gt;\r\n        &lt;/Button&gt;\r\n        &lt;ListView\r\n            android:id=&quot;@+id/database_list&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n        &lt;/ListView&gt;\r\n        &lt;Button\r\n            android:id=&quot;@+id/useSelectedDatabase&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;NO SELECTED DATABASE&quot;\r\n            android:clickable=&quot;false&quot;\r\n            &gt;\r\n        &lt;/Button&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\n**Demo**\r\n\r\nWhen first run MainActivity displays :-\r\n\r\n[![enter image description here][2]][2]\r\n\r\ni.e. no available databases (clicking buttons does nothing).\r\n\r\nDatabase Test001 entered into Edit Text and then Add Database clicked :-\r\n\r\n[![enter image description here][3]][3]\r\n\r\n- at this stage the Test001 database has not been created. However the MasterDatabase has been created and the Test001 row has been added (i.e. at some time the database could be opened and created if it doesn&#39;t already exist) :-\r\n\r\n[![enter image description here][4]][4]\r\n\r\nTest001 is clicked :-\r\n\r\n[![enter image description here][5]][5]\r\n\r\n- The Use Selected button has been changed to Test001 (perhaps should be Use Test001).\r\n- Still the Test001 database hasn&#39;t been accessed at all, as there is no need.\r\n\r\nDatabase Test002 is entered into the Edit Text (cleared after adding) and Add Database is clicked :-\r\n\r\n[![enter image description here][6]][6]\r\n\r\n- Note if an existing database is entered into the Edit Text it will NOT be added and the Text Box will not be cleared.\r\n\r\nTest002 is clicked, the button changes to Test002 and the button is clicked, starting the 2nd activity :-\r\n\r\n[![enter image description here][7]][7]\r\n\r\n- The database isn&#39;t opened or accessed (i.e. further demonstrating waiting and doing things)\r\n\r\nThe DONE button is clicked returning to the first activity. Still the database has not been opened/accessed BUT with the other code (Base???? clases etc) could be (probably in the UseSelectedDatabase activity).\r\n\r\n**Extra** As proof of concept the the BaseTable??? classes from the previous question were added, as were some new  User??? classes with  **BaseDatabase** being :-\r\n\r\n    @Database(\r\n            entities = {BaseTable.class,User.class},\r\n            version = 1\r\n    )\r\n    abstract class BaseDatabase extends RoomDatabase {\r\n        abstract BaseDao getBaseDao();\r\n        abstract UserDao getUserDao();\r\n    \r\n        public static BaseDatabase getInstance(Context context, String databaseName) {\r\n    \r\n            BaseDatabase db = Room.databaseBuilder(context, BaseDatabase.class, databaseName)\r\n                    .allowMainThreadQueries()\r\n                    .build();\r\n            db.getOpenHelper().getWritableDatabase();\r\n            return db;\r\n        }\r\n    }\r\n\r\nWith the following added to the **UseSelectedDatabase** activity:-\r\n\r\n\r\n        ....\r\n\r\n        /*\r\n            can now get an instance of the database\r\n         */\r\n\r\n        db = BaseDatabase.getInstance(this,mDatabaseName);\r\n        baseDao = db.getBaseDao();\r\n        userDao = db.getUserDao();\r\n\r\n        baseDao.insert(new BaseTable(&quot;X&quot;));\r\n        userDao.insert(new User(&quot;Snowman&quot;,&quot;Fred&quot;,&quot;Wlibur&quot;,&quot;Bloggs&quot;,&quot;password&quot;,0));\r\n\r\n        List&lt;BaseTable&gt; baseTableList = baseDao.getAllBaseTables();\r\n        List&lt;User&gt; userList = userDao.getAllUsers();\r\n\r\nRestarting the App selecting Test001 and then Test002 results in the database being shown as :-\r\n\r\n[![enter image description here][8]][8]\r\n\r\ni.e. Test001, albeit it closed, has obviously been created as has Test002.\r\n\r\n  [1]: https://stackoverflow.com/questions/69197676/can-android-room-manage-multiple-databases-and-create-databases-from-a-template/69201487?noredirect=1#comment124105618_69201487\r\n  [2]: https://i.stack.imgur.com/UlTSj.png\r\n  [3]: https://i.stack.imgur.com/O13Ob.png\r\n  [4]: https://i.stack.imgur.com/AtbNq.png\r\n  [5]: https://i.stack.imgur.com/gzlEB.png\r\n  [6]: https://i.stack.imgur.com/QZ3JD.png\r\n  [7]: https://i.stack.imgur.com/0OQrb.png\r\n  [8]: https://i.stack.imgur.com/xGIrJ.png","title":"How do I delay Android Room loading until after activity and prompts complete?","body":"<p>Here's an example with 2 activities. The first <strong>MainActivity</strong> that</p>\n<ul>\n<li>displays a list of the available databases (none at first)\n<ul>\n<li>clicking on a database allows it to be selected (it is not accessed or created (if new))</li>\n</ul>\n</li>\n<li>allows a database to be added, by entering it's name in the EditText, to the available databases (it is not created or accessed).</li>\n<li>allows a second activity to be passed the database name where the activity can then open the database (creating it if it doesn't exist).\n<ul>\n<li>note that the database isn't accessed.</li>\n</ul>\n</li>\n</ul>\n<p>So first the MasterDatabaseList class (entity) :-</p>\n<pre><code>@Entity(tableName = MasterDatabaseList.TABLE_NAME,\n        indices = { @Index(value = MasterDatabaseList.COL_DATABASE_NAME, unique = true)\n        }\n)\nclass MasterDatabaseList {\n    public static final String TABLE_NAME = &quot;masterdatabaselist&quot;;\n    public static final String COl_ID = &quot;id&quot;;\n    public static final String COL_DATABASE_NAME = &quot;databasename&quot;;\n    public static final String[] ALL_COLUMNS = new String[]{\n            COl_ID, COL_DATABASE_NAME\n    };\n    @PrimaryKey\n    @ColumnInfo(name = COl_ID)\n    Long id;\n    @ColumnInfo(name = COL_DATABASE_NAME)\n    String databaseName;\n\n    public MasterDatabaseList() {}\n    @Ignore\n    public MasterDatabaseList(String databaseName) {\n        this.databaseName = databaseName;\n    }\n    public Long getId() {\n        return id;\n    }\n    public void setId(Long id) {\n        this.id = id;\n    }\n    public String getDatabaseName() {\n        return databaseName;\n    }\n    public void setDatabaseName(String databaseName) {\n        this.databaseName = databaseName;\n    }\n}\n</code></pre>\n<ul>\n<li>similar to <a href=\"https://stackoverflow.com/questions/69197676/can-android-room-manage-multiple-databases-and-create-databases-from-a-template/69201487?noredirect=1#comment124105618_69201487\">previous answer</a> (but note some added constants)</li>\n</ul>\n<p><strong>MasterDatabaseDao</strong></p>\n<pre><code>@Dao\nabstract class MasterDao {\n    @Insert(onConflict = OnConflictStrategy.IGNORE)\n    abstract long insert(MasterDatabaseList masterDatabaseList);\n    @Query(&quot;SELECT * FROM masterdatabaselist&quot;)\n    abstract List&lt;MasterDatabaseList&gt; getAllDatabases();\n\n    Cursor getAllDatabasesAsCursor() {\n        MatrixCursor matrixCursor = new MatrixCursor(\n                new String[]{\n                        BaseColumns._ID, /* Cursor Adapter must use _id column for id) */\n                        MasterDatabaseList.COL_DATABASE_NAME\n                },\n                0\n        );\n        for(MasterDatabaseList m: getAllDatabases()) {\n            matrixCursor.addRow(new Object[]{m.id,m.databaseName});\n        }\n        return matrixCursor;\n    }\n}\n</code></pre>\n<ul>\n<li><p>Note the new method that gets the list of available databases as a Cursor (for the ListView)</p>\n</li>\n<li><p><strong>MasterDatabase</strong></p>\n<p>@Database(\nentities = {MasterDatabaseList.class},\nversion = 1\n)\nabstract class MasterDatabase extends RoomDatabase {\nabstract MasterDao getMasterDao();</p>\n<pre><code>  static volatile MasterDatabase instance = null;\n  public static MasterDatabase getInstance(Context context) {\n      if (instance == null) {\n          instance = Room.databaseBuilder(context,MasterDatabase.class,&quot;master.db&quot;)\n                  .allowMainThreadQueries()\n                  .build();\n      }\n      return instance;\n  }\n</code></pre>\n<p>}</p>\n</li>\n<li><p>unchanged from <a href=\"https://stackoverflow.com/questions/69197676/can-android-room-manage-multiple-databases-and-create-databases-from-a-template/69201487?noredirect=1#comment124105618_69201487\">previous answer</a></p>\n</li>\n</ul>\n<p>2nd Activity <strong>UseSelectedDatabase</strong></p>\n<pre><code>public class UseSelectedDatabase extends AppCompatActivity {\n    public static final String INTENT_EXTRA_DATABASEID = &quot;database_id&quot;;\n    public static final String INTENT_EXTRA_DATABASENAME = &quot;database_name&quot;;\n\n    long mDatabaseId;\n    String mDatabaseName;\n    TextView mDatabaseBeingUsed;\n    Button mDoneButton;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_use_selected_database);\n        mDatabaseBeingUsed = this.findViewById(R.id.database_name);\n        mDoneButton = this.findViewById(R.id.done);\n\n\n        mDatabaseId = this.getIntent().getLongExtra(INTENT_EXTRA_DATABASEID,-1);\n        mDatabaseName = this.getIntent().getStringExtra(INTENT_EXTRA_DATABASENAME);\n        mDatabaseBeingUsed.setText(mDatabaseName);\n        setDoneButton();\n\n        /*\n            can now get an instance of the database\n         */\n\n    }\n    \n    private void setDoneButton() {\n        mDoneButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                finish();\n            }\n        });\n    }\n}\n</code></pre>\n<ul>\n<li>This doesn't access the database but just receives the database name and id in the master database. i.e. just shows that you can pass all the information required to access the database.</li>\n</ul>\n<p>2nd Activities layout <strong>activity_use_selected_database.xml</strong> :-</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:orientation=&quot;vertical&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.UseSelectedDatabase&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/database_name&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;No Database Set?&quot;\n        &gt;\n    &lt;/TextView&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/done&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;DONE&quot;&gt;\n    &lt;/Button&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>Initial Activity <strong>MainActivity</strong> :-</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    MasterDatabase mMasterDB;\n    MasterDao mMasterDBDao;\n    EditText mDBToAdd;\n    Button mAddDB,mUseSelectedDatabase;\n    ListView mDatabaseList;\n    SimpleCursorAdapter mSCA;\n    Cursor mCsr;\n    long mSelectedDatabaseId = 0;\n    String mSelectedDatabaseName = &quot;&quot;;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        mDBToAdd = this.findViewById(R.id.database_name);\n        mAddDB = this.findViewById(R.id.addDatabase);\n        mUseSelectedDatabase = this.findViewById(R.id.useSelectedDatabase);\n        mDatabaseList = this.findViewById(R.id.database_list);\n\n        mMasterDB = MasterDatabase.getInstance(this);\n        mMasterDBDao = mMasterDB.getMasterDao();\n\n\n        setUpAddDBButton();\n        setUpUseSelectedDatabaseButton();\n        setOrRefreshDatabaseList();\n    }\n\n    private void setUpAddDBButton() {\n        mAddDB.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if (mDBToAdd.getText().toString().length() &gt; 0) {\n                    if (mMasterDBDao.insert(new MasterDatabaseList(mDBToAdd.getText().toString())) &gt; 0) {\n                        mDBToAdd.setText(&quot;&quot;);\n                        setOrRefreshDatabaseList();\n                    }\n                }\n            }\n        });\n    }\n    private void setUpUseSelectedDatabaseButton() {\n        mUseSelectedDatabase.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if (mSelectedDatabaseId &gt; 0) {\n                    Intent intent = new Intent(view.getContext(),UseSelectedDatabase.class);\n                    intent.putExtra(UseSelectedDatabase.INTENT_EXTRA_DATABASEID, mSelectedDatabaseId);\n                    intent.putExtra(UseSelectedDatabase.INTENT_EXTRA_DATABASENAME,mSelectedDatabaseName);\n                    startActivity(intent);\n                }\n            }\n        });\n    }\n\n    private void setOrRefreshDatabaseList() {\n        mCsr = mMasterDBDao.getAllDatabasesAsCursor();\n        if (mSCA == null) {\n            mSCA = new SimpleCursorAdapter(\n                    this.getApplicationContext(),\n                    android.R.layout.simple_list_item_1,\n                    mCsr,\n                    new String[]{MasterDatabaseList.COL_DATABASE_NAME},\n                    new int[]{android.R.id.text1},\n                    0\n            );\n            mDatabaseList.setAdapter(mSCA);\n            mDatabaseList.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n                /* Handle Clicking on an Item (i.e. prepare UseSelected Button) */\n                @SuppressLint(&quot;Range&quot;)\n                @Override\n                public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n                    mSelectedDatabaseId = l;\n                    if (l &gt; 0) {\n                        mSelectedDatabaseName = mCsr.getString(mCsr.getColumnIndex(MasterDatabaseList.COL_DATABASE_NAME));\n                        mUseSelectedDatabase.setText(mSelectedDatabaseName);\n                        mUseSelectedDatabase.setClickable(true);\n                    } else {\n                        mUseSelectedDatabase.setText(&quot;NO DATEBASE SELECTED&quot;);\n                        mUseSelectedDatabase.setClickable(false);\n                    }\n                }\n            });\n        } else {\n            mSCA.swapCursor(mCsr);\n        }\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        setOrRefreshDatabaseList();\n    }\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        mCsr.close();\n    }\n}\n</code></pre>\n<p>Initial Activity's layout <strong>activity_main.xml</strong> :-</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:orientation=&quot;vertical&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Hello World!&quot; /&gt;\n    &lt;EditText\n        android:id=&quot;@+id/database_name&quot;\n        android:layout_width=&quot;500dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;&quot;&gt;\n    &lt;/EditText&gt;\n    &lt;Button\n        android:id=&quot;@+id/addDatabase&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Add Database&quot;\n        &gt;\n    &lt;/Button&gt;\n    &lt;ListView\n        android:id=&quot;@+id/database_list&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n    &lt;/ListView&gt;\n    &lt;Button\n        android:id=&quot;@+id/useSelectedDatabase&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;NO SELECTED DATABASE&quot;\n        android:clickable=&quot;false&quot;\n        &gt;\n    &lt;/Button&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p><strong>Demo</strong></p>\n<p>When first run MainActivity displays :-</p>\n<p><a href=\"https://i.stack.imgur.com/UlTSj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UlTSj.png\" alt=\"enter image description here\" /></a></p>\n<p>i.e. no available databases (clicking buttons does nothing).</p>\n<p>Database Test001 entered into Edit Text and then Add Database clicked :-</p>\n<p><a href=\"https://i.stack.imgur.com/O13Ob.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O13Ob.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li>at this stage the Test001 database has not been created. However the MasterDatabase has been created and the Test001 row has been added (i.e. at some time the database could be opened and created if it doesn't already exist) :-</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/AtbNq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AtbNq.png\" alt=\"enter image description here\" /></a></p>\n<p>Test001 is clicked :-</p>\n<p><a href=\"https://i.stack.imgur.com/gzlEB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gzlEB.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li>The Use Selected button has been changed to Test001 (perhaps should be Use Test001).</li>\n<li>Still the Test001 database hasn't been accessed at all, as there is no need.</li>\n</ul>\n<p>Database Test002 is entered into the Edit Text (cleared after adding) and Add Database is clicked :-</p>\n<p><a href=\"https://i.stack.imgur.com/QZ3JD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QZ3JD.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li>Note if an existing database is entered into the Edit Text it will NOT be added and the Text Box will not be cleared.</li>\n</ul>\n<p>Test002 is clicked, the button changes to Test002 and the button is clicked, starting the 2nd activity :-</p>\n<p><a href=\"https://i.stack.imgur.com/0OQrb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0OQrb.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li>The database isn't opened or accessed (i.e. further demonstrating waiting and doing things)</li>\n</ul>\n<p>The DONE button is clicked returning to the first activity. Still the database has not been opened/accessed BUT with the other code (Base???? clases etc) could be (probably in the UseSelectedDatabase activity).</p>\n<p><strong>Extra</strong> As proof of concept the the BaseTable??? classes from the previous question were added, as were some new  User??? classes with  <strong>BaseDatabase</strong> being :-</p>\n<pre><code>@Database(\n        entities = {BaseTable.class,User.class},\n        version = 1\n)\nabstract class BaseDatabase extends RoomDatabase {\n    abstract BaseDao getBaseDao();\n    abstract UserDao getUserDao();\n\n    public static BaseDatabase getInstance(Context context, String databaseName) {\n\n        BaseDatabase db = Room.databaseBuilder(context, BaseDatabase.class, databaseName)\n                .allowMainThreadQueries()\n                .build();\n        db.getOpenHelper().getWritableDatabase();\n        return db;\n    }\n}\n</code></pre>\n<p>With the following added to the <strong>UseSelectedDatabase</strong> activity:-</p>\n<pre><code>    ....\n\n    /*\n        can now get an instance of the database\n     */\n\n    db = BaseDatabase.getInstance(this,mDatabaseName);\n    baseDao = db.getBaseDao();\n    userDao = db.getUserDao();\n\n    baseDao.insert(new BaseTable(&quot;X&quot;));\n    userDao.insert(new User(&quot;Snowman&quot;,&quot;Fred&quot;,&quot;Wlibur&quot;,&quot;Bloggs&quot;,&quot;password&quot;,0));\n\n    List&lt;BaseTable&gt; baseTableList = baseDao.getAllBaseTables();\n    List&lt;User&gt; userList = userDao.getAllUsers();\n</code></pre>\n<p>Restarting the App selecting Test001 and then Test002 results in the database being shown as :-</p>\n<p><a href=\"https://i.stack.imgur.com/xGIrJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xGIrJ.png\" alt=\"enter image description here\" /></a></p>\n<p>i.e. Test001, albeit it closed, has obviously been created as has Test002.</p>\n"}],"owner":{"account_id":2821411,"reputation":673,"user_id":11254630,"display_name":"svstackoverflow"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":640,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70224414,"answer_count":1,"score":1,"last_activity_date":1638736544,"creation_date":1638550198,"question_id":70217939,"body_markdown":"**Problem:** I&#39;m receiving a `null` database name error. The Android Room database calls in my `MainActiity.class` proceed to execute though there is a prompt to let the user choose the database name.\r\n\r\n**What I&#39;m trying to do:** I&#39;m still learning Android, but I&#39;m trying to work out in a separate app, the use of a master `Room` database to manage the use of multiple `Room` databases used by the app (this is a sandbox type of app to play with this idea). This database management functionality is working well but things are hard coded. So, I&#39;m at the step where I&#39;m wanting the user to have the ability, through the use of `sharedPreferences` and a custom `alert` prompts, to have the option to **create at install the first room database name** and add others thereafter. The option to add them later is not an issue as something will be loaded. However, on the intial app launch, I would like the user to have the option to create and name the first DB rather than a default be created -- which is not really that big a deal, but why have a potential default DB the user never uses. I could even develop a method of renaming, which I will, but it seems to make sense to allow the user to do this.\r\n\r\n**What I have tried:** I&#39;ve tried to create some methods to encapsulate and separate out the DB calls from the prompts, but the code still blows through to the DB code. I did some searching on delaying `Room` but couldn&#39;t find anything specific to it. I&#39;m open to the wisdom of others.\r\n\r\n**Code** again, this is just one activity since I&#39;m playing with the idea... and learning at the same time.\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        private static final String TAG = &quot;DB_INFO&quot;;\r\n        SharedPreferences sharedPreferences;\r\n        SharedPreferences.Editor settings;\r\n        String databaseName;\r\n        String prevDB;\r\n    \r\n        Button button;\r\n    \r\n        MasterDatabase masterDB;\r\n        List&lt;MasterDatabaseList&gt; mdbList;\r\n        ArrayList&lt;BaseDatabase&gt; bdbList = new ArrayList&lt;&gt;();\r\n    \r\n        // Current Database\r\n        int currentBaseDBIndex = -1;\r\n        BaseDatabase currentDB = null;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            button = findViewById(R.id.button);\r\n            sharedPreferences = getSharedPreferences(&quot;AppSettings&quot;, MODE_PRIVATE);\r\n            settings = sharedPreferences.edit();\r\n            setupOnClickActions();\r\n            startChecks();\r\n            Toast.makeText(this, &quot;database: &quot; + databaseName + &quot;\\r\\n&quot; + &quot;prevDB: &quot; + prevDB, Toast.LENGTH_LONG).show();\r\n        }\r\n    \r\n        private void startChecks(){\r\n            if(isFirstTime()) {\r\n                databaseName = PopupDialog.AlertInputBox(this, &quot;Enter Research Project Name&quot;,\r\n                        &quot;Without spaces or special characters, enter a name for your research project.&quot;);\r\n                settings.putString(&quot;database&quot;, databaseName);\r\n                settings.commit();\r\n                settings.apply();\r\n                startDBs();\r\n            }else{\r\n                databaseName = PopupDialog.AlertInputBox(this, &quot;Enter Research Project Name&quot;,\r\n                        &quot;Without spaces or special characters, enter a new or existing name for your research project.&quot;);\r\n                settings.putString(&quot;prevDB&quot;, sharedPreferences.getString(&quot;database&quot;, &quot;&quot;));\r\n                settings.putString(&quot;database&quot;, databaseName);\r\n                settings.commit();\r\n                settings.apply();\r\n                prevDB = sharedPreferences.getString(&quot;prevDB&quot;, &quot;&quot;);\r\n                startDBs();\r\n            }\r\n        }\r\n    \r\n        private void startDBs(){\r\n            masterDB = MasterDatabase.getInstance(this);\r\n            mdbList = masterDB.getMasterDao().getAllDatabases();\r\n    \r\n            // Add a DB if none exists\r\n            if(mdbList.size()&lt;1){\r\n                addBaseDB(&quot;sample.db&quot;);\r\n            }\r\n            setCurrentIndexDBandDao(databaseName); /* Add some data to db1 IF it exists (it should) --------------------- */\r\n    \r\n            if (currentBaseDBIndex &gt; -1 &amp;&amp; currentDB.getBaseDao().count() &lt; 1) {\r\n                currentDB.getBaseDao().insert(new BaseTable(&quot;Added &quot; + databaseName + &quot; ... etc.&quot;));\r\n    \r\n            }\r\n    \r\n            /* Extract and Log Data for ALL the BaseDatabase databases i.e. db1 and db2 */\r\n            for(MasterDatabaseList masterdb: masterDB.getMasterDao().getAllDatabases()) {\r\n                Log.d(TAG,&quot;Database is &quot; + masterdb.getDatabaseName());\r\n                setCurrentIndexDBandDao(masterdb.getDatabaseName());\r\n                if (currentBaseDBIndex &gt; -1) {\r\n                    for(BaseTable bt: currentDB.getBaseDao().getAllBaseTables()) {\r\n                        Log.d(TAG,&quot;Extracted Base Table  row where MyData is&quot; + bt.getMydata());\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n    \r\n        // METHODS =========================================================================================================\r\n    \r\n        // Attempt to clear and reset SharedPreferences to a user first execution\r\n        private void setupOnClickActions(){\r\n            button.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    settings.putBoolean(&quot;firstTime&quot;, false);\r\n                    settings.clear();\r\n                    settings.commit();\r\n                    settings.apply();\r\n                }\r\n            });\r\n        }\r\n    \r\n        /* Add a new Database\r\n             Note that it assumes that it will now be the current\r\n             so the current values are set */\r\n        private void addBaseDB(String baseDBName) {\r\n            masterDB.getMasterDao().insert(new MasterDatabaseList(baseDBName));\r\n        }\r\n    \r\n        /* Build/ReBuild the 3 Lists according to the master database*/\r\n        private void buildBaseLists() {\r\n            bdbList.clear();\r\n            mdbList = masterDB.getMasterDao().getAllDatabases();\r\n            // Loop through the databases defined in the master database adding the database and dao to the respective lists\r\n            for (MasterDatabaseList masterDB: masterDB.getMasterDao().getAllDatabases()) {\r\n                BaseDatabase baseDB = BaseDatabase.getInstance(this, masterDB.getDatabaseName());\r\n                bdbList.add(baseDB);\r\n            }\r\n        }\r\n    \r\n        /* Set the currentDB according to the database name*/\r\n        private void setCurrentIndexDBandDao(String baseDBName) {\r\n            currentBaseDBIndex = getListIndexByBaseDBName(baseDBName);\r\n            if(currentBaseDBIndex == -1) {\r\n                addBaseDB(baseDBName);\r\n                buildBaseLists();\r\n                currentBaseDBIndex = getListIndexByBaseDBName(baseDBName);\r\n            }\r\n            if (currentBaseDBIndex &gt; -1) {\r\n                buildBaseLists();\r\n            }\r\n            currentDB = bdbList.get(currentBaseDBIndex);\r\n        }\r\n    \r\n        /* Get the index according to the database name passed*/\r\n        private int getListIndexByBaseDBName(String baseDBName) {\r\n            if(mdbList==null)\r\n                mdbList = masterDB.getMasterDao().getAllDatabases();\r\n            int rv = -1; // default to not found\r\n            for(int i=0; i &lt; mdbList.size();i++) {\r\n                if (mdbList.get(i).getDatabaseName().equals(baseDBName)) {\r\n                    rv = i;\r\n                    break;\r\n                }\r\n            }\r\n            return rv;\r\n        }\r\n    \r\n        /* Output all rows from the BaseTable for data extracted by the BaseDaos getAllBaseTables */\r\n        private void logBaseData(List&lt;BaseTable&gt; baseTableList) {\r\n            Log.d(TAG,&quot;Current Database Index is &quot; + currentBaseDBIndex + &quot; DB name is &quot; + mdbList.get(currentBaseDBIndex).getDatabaseName());\r\n            for(BaseTable bt: baseTableList) {\r\n                Log.d(TAG,&quot;\\tMyData value is &quot; + bt.getMydata());\r\n            }\r\n        }\r\n    \r\n        private boolean isFirstTime(){\r\n            if (sharedPreferences.getBoolean(&quot;firstTime&quot;, true)) {\r\n                settings.putBoolean(&quot;firstTime&quot;, false);\r\n                settings.commit();\r\n                settings.apply();\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n\r\n**The BaseDatabase** - databaseName is where the error occurs because of the empty variable\r\n\r\n    @Database(\r\n            entities = {BaseTable.class},\r\n            version = 1\r\n    )\r\n    public abstract class BaseDatabase extends RoomDatabase {\r\n        public abstract BaseDao getBaseDao();\r\n    \r\n        private static final int NUMBER_OF_THREADS = 4;\r\n        public static final ExecutorService databaseWriteExecutor =\r\n                Executors.newFixedThreadPool(NUMBER_OF_THREADS);\r\n    \r\n        public static BaseDatabase getInstance(Context context, String databaseName) {\r\n            BaseDatabase instance = null;\r\n            if (databaseName != null) {\r\n                return Room.databaseBuilder(context, BaseDatabase.class, databaseName)\r\n                        .allowMainThreadQueries()\r\n                        .build();\r\n            }\r\n            return instance;\r\n        }\r\n    }","title":"How do I delay Android Room loading until after activity and prompts complete?","body":"<p><strong>Problem:</strong> I'm receiving a <code>null</code> database name error. The Android Room database calls in my <code>MainActiity.class</code> proceed to execute though there is a prompt to let the user choose the database name.</p>\n<p><strong>What I'm trying to do:</strong> I'm still learning Android, but I'm trying to work out in a separate app, the use of a master <code>Room</code> database to manage the use of multiple <code>Room</code> databases used by the app (this is a sandbox type of app to play with this idea). This database management functionality is working well but things are hard coded. So, I'm at the step where I'm wanting the user to have the ability, through the use of <code>sharedPreferences</code> and a custom <code>alert</code> prompts, to have the option to <strong>create at install the first room database name</strong> and add others thereafter. The option to add them later is not an issue as something will be loaded. However, on the intial app launch, I would like the user to have the option to create and name the first DB rather than a default be created -- which is not really that big a deal, but why have a potential default DB the user never uses. I could even develop a method of renaming, which I will, but it seems to make sense to allow the user to do this.</p>\n<p><strong>What I have tried:</strong> I've tried to create some methods to encapsulate and separate out the DB calls from the prompts, but the code still blows through to the DB code. I did some searching on delaying <code>Room</code> but couldn't find anything specific to it. I'm open to the wisdom of others.</p>\n<p><strong>Code</strong> again, this is just one activity since I'm playing with the idea... and learning at the same time.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private static final String TAG = &quot;DB_INFO&quot;;\n    SharedPreferences sharedPreferences;\n    SharedPreferences.Editor settings;\n    String databaseName;\n    String prevDB;\n\n    Button button;\n\n    MasterDatabase masterDB;\n    List&lt;MasterDatabaseList&gt; mdbList;\n    ArrayList&lt;BaseDatabase&gt; bdbList = new ArrayList&lt;&gt;();\n\n    // Current Database\n    int currentBaseDBIndex = -1;\n    BaseDatabase currentDB = null;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        button = findViewById(R.id.button);\n        sharedPreferences = getSharedPreferences(&quot;AppSettings&quot;, MODE_PRIVATE);\n        settings = sharedPreferences.edit();\n        setupOnClickActions();\n        startChecks();\n        Toast.makeText(this, &quot;database: &quot; + databaseName + &quot;\\r\\n&quot; + &quot;prevDB: &quot; + prevDB, Toast.LENGTH_LONG).show();\n    }\n\n    private void startChecks(){\n        if(isFirstTime()) {\n            databaseName = PopupDialog.AlertInputBox(this, &quot;Enter Research Project Name&quot;,\n                    &quot;Without spaces or special characters, enter a name for your research project.&quot;);\n            settings.putString(&quot;database&quot;, databaseName);\n            settings.commit();\n            settings.apply();\n            startDBs();\n        }else{\n            databaseName = PopupDialog.AlertInputBox(this, &quot;Enter Research Project Name&quot;,\n                    &quot;Without spaces or special characters, enter a new or existing name for your research project.&quot;);\n            settings.putString(&quot;prevDB&quot;, sharedPreferences.getString(&quot;database&quot;, &quot;&quot;));\n            settings.putString(&quot;database&quot;, databaseName);\n            settings.commit();\n            settings.apply();\n            prevDB = sharedPreferences.getString(&quot;prevDB&quot;, &quot;&quot;);\n            startDBs();\n        }\n    }\n\n    private void startDBs(){\n        masterDB = MasterDatabase.getInstance(this);\n        mdbList = masterDB.getMasterDao().getAllDatabases();\n\n        // Add a DB if none exists\n        if(mdbList.size()&lt;1){\n            addBaseDB(&quot;sample.db&quot;);\n        }\n        setCurrentIndexDBandDao(databaseName); /* Add some data to db1 IF it exists (it should) --------------------- */\n\n        if (currentBaseDBIndex &gt; -1 &amp;&amp; currentDB.getBaseDao().count() &lt; 1) {\n            currentDB.getBaseDao().insert(new BaseTable(&quot;Added &quot; + databaseName + &quot; ... etc.&quot;));\n\n        }\n\n        /* Extract and Log Data for ALL the BaseDatabase databases i.e. db1 and db2 */\n        for(MasterDatabaseList masterdb: masterDB.getMasterDao().getAllDatabases()) {\n            Log.d(TAG,&quot;Database is &quot; + masterdb.getDatabaseName());\n            setCurrentIndexDBandDao(masterdb.getDatabaseName());\n            if (currentBaseDBIndex &gt; -1) {\n                for(BaseTable bt: currentDB.getBaseDao().getAllBaseTables()) {\n                    Log.d(TAG,&quot;Extracted Base Table  row where MyData is&quot; + bt.getMydata());\n                }\n            }\n        }\n    }\n\n\n    // METHODS =========================================================================================================\n\n    // Attempt to clear and reset SharedPreferences to a user first execution\n    private void setupOnClickActions(){\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                settings.putBoolean(&quot;firstTime&quot;, false);\n                settings.clear();\n                settings.commit();\n                settings.apply();\n            }\n        });\n    }\n\n    /* Add a new Database\n         Note that it assumes that it will now be the current\n         so the current values are set */\n    private void addBaseDB(String baseDBName) {\n        masterDB.getMasterDao().insert(new MasterDatabaseList(baseDBName));\n    }\n\n    /* Build/ReBuild the 3 Lists according to the master database*/\n    private void buildBaseLists() {\n        bdbList.clear();\n        mdbList = masterDB.getMasterDao().getAllDatabases();\n        // Loop through the databases defined in the master database adding the database and dao to the respective lists\n        for (MasterDatabaseList masterDB: masterDB.getMasterDao().getAllDatabases()) {\n            BaseDatabase baseDB = BaseDatabase.getInstance(this, masterDB.getDatabaseName());\n            bdbList.add(baseDB);\n        }\n    }\n\n    /* Set the currentDB according to the database name*/\n    private void setCurrentIndexDBandDao(String baseDBName) {\n        currentBaseDBIndex = getListIndexByBaseDBName(baseDBName);\n        if(currentBaseDBIndex == -1) {\n            addBaseDB(baseDBName);\n            buildBaseLists();\n            currentBaseDBIndex = getListIndexByBaseDBName(baseDBName);\n        }\n        if (currentBaseDBIndex &gt; -1) {\n            buildBaseLists();\n        }\n        currentDB = bdbList.get(currentBaseDBIndex);\n    }\n\n    /* Get the index according to the database name passed*/\n    private int getListIndexByBaseDBName(String baseDBName) {\n        if(mdbList==null)\n            mdbList = masterDB.getMasterDao().getAllDatabases();\n        int rv = -1; // default to not found\n        for(int i=0; i &lt; mdbList.size();i++) {\n            if (mdbList.get(i).getDatabaseName().equals(baseDBName)) {\n                rv = i;\n                break;\n            }\n        }\n        return rv;\n    }\n\n    /* Output all rows from the BaseTable for data extracted by the BaseDaos getAllBaseTables */\n    private void logBaseData(List&lt;BaseTable&gt; baseTableList) {\n        Log.d(TAG,&quot;Current Database Index is &quot; + currentBaseDBIndex + &quot; DB name is &quot; + mdbList.get(currentBaseDBIndex).getDatabaseName());\n        for(BaseTable bt: baseTableList) {\n            Log.d(TAG,&quot;\\tMyData value is &quot; + bt.getMydata());\n        }\n    }\n\n    private boolean isFirstTime(){\n        if (sharedPreferences.getBoolean(&quot;firstTime&quot;, true)) {\n            settings.putBoolean(&quot;firstTime&quot;, false);\n            settings.commit();\n            settings.apply();\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n}\n</code></pre>\n<p><strong>The BaseDatabase</strong> - databaseName is where the error occurs because of the empty variable</p>\n<pre><code>@Database(\n        entities = {BaseTable.class},\n        version = 1\n)\npublic abstract class BaseDatabase extends RoomDatabase {\n    public abstract BaseDao getBaseDao();\n\n    private static final int NUMBER_OF_THREADS = 4;\n    public static final ExecutorService databaseWriteExecutor =\n            Executors.newFixedThreadPool(NUMBER_OF_THREADS);\n\n    public static BaseDatabase getInstance(Context context, String databaseName) {\n        BaseDatabase instance = null;\n        if (databaseName != null) {\n            return Room.databaseBuilder(context, BaseDatabase.class, databaseName)\n                    .allowMainThreadQueries()\n                    .build();\n        }\n        return instance;\n    }\n}\n</code></pre>\n"},{"tags":["java","excel","http-post","multipartform-data"],"answers":[{"tags":[],"owner":{"account_id":23509170,"reputation":1,"user_id":17557943,"display_name":"Wilmer Enrique Castro Reyes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638736542,"creation_date":1638736542,"answer_id":70238330,"question_id":70178876,"body_markdown":"I made the following changes to my frontend, and it worked:\r\n\r\n    \r\n        &lt;template&gt;\r\n      &lt;div&gt;\r\n     &lt;b-col  cols=&quot;4&quot; class=&quot;justify-content-md-center&quot;&gt;\r\n         &lt;br&gt; \r\n          &lt;b-form-file\r\n          v-model=&quot;file1&quot;\r\n          :state=&quot;Boolean(file1)&quot;\r\n          placeholder=&quot;Choose a file or drop it here...&quot;\r\n          drop-placeholder=&quot;Drop file here...&quot;\r\n        &gt;&lt;/b-form-file&gt;\r\n        \r\n     \r\n      &lt;/b-col&gt;\r\n       &lt;b-col cols=&quot;2&quot;&gt;\r\n       &lt;div id=&quot;selectedFile&quot; class=&quot;mt-3&quot;&gt;Selected file: {{ file1 ? file1.name+&quot; cargado&quot; : &#39;&#39; }}&lt;/div&gt;\r\n       &lt;b-button variant=&quot;success&quot; @click=&quot;handleFileUpload()&quot;&gt;Button&lt;/b-button&gt;\r\n       &lt;/b-col&gt;\r\n      &lt;/div&gt;\r\n    &lt;/template&gt;\r\n    \r\n    &lt;script&gt;\r\n    import { mapActions, mapState } from &quot;vuex&quot;;\r\n    \r\n    export default {\r\n      data() {\r\n        return {\r\n          file1: null,\r\n        };\r\n      },\r\n      methods: {\r\n        ...mapActions(&quot;excel&quot;, [&quot;postExcel&quot;]),\r\n        onSubmit(event) {\r\n          event.preventDefault();\r\n          alert(&quot;cargar archivo&quot;);\r\n        },\r\n        handleFileUpload() {\r\n          try {\r\n          const formData = new FormData();\r\n          if(this.file1!=null){\r\n            console.log(this.file1);\r\n            formData.append(&#39;file&#39;, this.file1); \r\n    \r\n            }else {\r\n              alert(&quot;archivo vacio&quot;); \r\n              return;\r\n            }\r\n    \r\n          //Inspecting formData\r\n          console.log(&quot;Inspecting formData&quot;); \r\n          for (let entry of formData.entries()) {\r\n            console.log(entry);\r\n          }  \r\n            this.postExcel(formData);\r\n            var selectedFile=document.getElementById(&quot;selectedFile&quot;);\r\n            selectedFile.style.color=&quot;green&quot;\r\n          \r\n          }\r\n          catch(err){\r\n            selectedFile.style.color=&quot;red&quot;\r\n          }\r\n    \r\n    \r\n        },\r\n      },\r\n    };\r\n    &lt;/script&gt;\r\n\r\n","title":"Unable to get req.file when I send a POST with an excel file","body":"<p>I made the following changes to my frontend, and it worked:</p>\n<pre><code>    &lt;template&gt;\n  &lt;div&gt;\n &lt;b-col  cols=&quot;4&quot; class=&quot;justify-content-md-center&quot;&gt;\n     &lt;br&gt; \n      &lt;b-form-file\n      v-model=&quot;file1&quot;\n      :state=&quot;Boolean(file1)&quot;\n      placeholder=&quot;Choose a file or drop it here...&quot;\n      drop-placeholder=&quot;Drop file here...&quot;\n    &gt;&lt;/b-form-file&gt;\n    \n \n  &lt;/b-col&gt;\n   &lt;b-col cols=&quot;2&quot;&gt;\n   &lt;div id=&quot;selectedFile&quot; class=&quot;mt-3&quot;&gt;Selected file: {{ file1 ? file1.name+&quot; cargado&quot; : '' }}&lt;/div&gt;\n   &lt;b-button variant=&quot;success&quot; @click=&quot;handleFileUpload()&quot;&gt;Button&lt;/b-button&gt;\n   &lt;/b-col&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\nimport { mapActions, mapState } from &quot;vuex&quot;;\n\nexport default {\n  data() {\n    return {\n      file1: null,\n    };\n  },\n  methods: {\n    ...mapActions(&quot;excel&quot;, [&quot;postExcel&quot;]),\n    onSubmit(event) {\n      event.preventDefault();\n      alert(&quot;cargar archivo&quot;);\n    },\n    handleFileUpload() {\n      try {\n      const formData = new FormData();\n      if(this.file1!=null){\n        console.log(this.file1);\n        formData.append('file', this.file1); \n\n        }else {\n          alert(&quot;archivo vacio&quot;); \n          return;\n        }\n\n      //Inspecting formData\n      console.log(&quot;Inspecting formData&quot;); \n      for (let entry of formData.entries()) {\n        console.log(entry);\n      }  \n        this.postExcel(formData);\n        var selectedFile=document.getElementById(&quot;selectedFile&quot;);\n        selectedFile.style.color=&quot;green&quot;\n      \n      }\n      catch(err){\n        selectedFile.style.color=&quot;red&quot;\n      }\n\n\n    },\n  },\n};\n&lt;/script&gt;\n</code></pre>\n"}],"owner":{"account_id":23509170,"reputation":1,"user_id":17557943,"display_name":"Wilmer Enrique Castro Reyes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638736542,"creation_date":1638330158,"question_id":70178876,"body_markdown":"My backend works when I send an excel file through Postman. The file is uploaded, so it working fine from the backend. Please view the following picture:\r\n\r\n![Post of an Excel file with Postman][1]\r\n\r\nHowever, when I am trying to do the same thing from the frontend, my req.file is undefined:\r\n\r\nError:\r\n\r\n    TypeError: Cannot read property &#39;filename&#39; of undefined\r\n    at C:\\music_store\\oms_server\\routes\\file.js:18:31\r\n\r\nHere is the code of the frontend:\r\n\r\n    export async function postExcel({ commit }, formData) {\r\n    \r\n    console.log(&quot;Entro a postExcel&quot;);\r\n    console.log(formData);\r\n\r\n    const option={\r\n        method: &#39;POST&#39;, \r\n        body: formData };\r\n\r\n        await Vue.axios.post(`http://localhost:5000/uploadExcel`, formData, {\r\n            headers:{\r\n                &#39;Content-Type&#39;: &#39;multipart/form-data&#39;\r\n            } })\r\n        .catch((error) =&gt; {\r\n            console.log(&quot;Error al crear archivo en DB: &quot;, error.message);      \r\n        }).finally(() =&gt; { \r\n            console.log(&quot;Petici&#243;n de formData resuelta&quot;);\r\n        }); \r\n\r\nHere is the code of the backend:  \r\n\r\n   \r\n\r\n    router.post(&#39;/uploadExcel&#39;, excelUpload.single(&#39;file&#39;), async (req= request, res = response) =&gt; {\r\n\r\n    try {\r\n        const name = req.file.filename;\r\n        const fileJson= {\r\n            &quot;name&quot;: &quot;NA&quot;,\r\n            &quot;route&quot;: &#39;/uploads&#39;,\r\n        }\r\n       fileJson[&quot;name&quot;] = name;\r\n \r\n        const file = new File(fileJson);\r\n        await file.save();\r\n        res.json({\r\n            &quot;response&quot;: &quot;archivo guardado&quot;\r\n        });  \r\n    }\r\n    catch (err) { \r\n        console.log(err);\r\n        res.status(500).send(err.message);\r\n     }\r\n\r\n    })\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GvxlP.png","title":"Unable to get req.file when I send a POST with an excel file","body":"<p>My backend works when I send an excel file through Postman. The file is uploaded, so it working fine from the backend. Please view the following picture:</p>\n<p><img src=\"https://i.stack.imgur.com/GvxlP.png\" alt=\"Post of an Excel file with Postman\" /></p>\n<p>However, when I am trying to do the same thing from the frontend, my req.file is undefined:</p>\n<p>Error:</p>\n<pre><code>TypeError: Cannot read property 'filename' of undefined\nat C:\\music_store\\oms_server\\routes\\file.js:18:31\n</code></pre>\n<p>Here is the code of the frontend:</p>\n<pre><code>export async function postExcel({ commit }, formData) {\n\nconsole.log(&quot;Entro a postExcel&quot;);\nconsole.log(formData);\n\nconst option={\n    method: 'POST', \n    body: formData };\n\n    await Vue.axios.post(`http://localhost:5000/uploadExcel`, formData, {\n        headers:{\n            'Content-Type': 'multipart/form-data'\n        } })\n    .catch((error) =&gt; {\n        console.log(&quot;Error al crear archivo en DB: &quot;, error.message);      \n    }).finally(() =&gt; { \n        console.log(&quot;Petición de formData resuelta&quot;);\n    }); \n</code></pre>\n<p>Here is the code of the backend:</p>\n<pre><code>router.post('/uploadExcel', excelUpload.single('file'), async (req= request, res = response) =&gt; {\n\ntry {\n    const name = req.file.filename;\n    const fileJson= {\n        &quot;name&quot;: &quot;NA&quot;,\n        &quot;route&quot;: '/uploads',\n    }\n   fileJson[&quot;name&quot;] = name;\n\n    const file = new File(fileJson);\n    await file.save();\n    res.json({\n        &quot;response&quot;: &quot;archivo guardado&quot;\n    });  \n}\ncatch (err) { \n    console.log(err);\n    res.status(500).send(err.message);\n }\n\n})\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1638729738,"post_id":70237388,"comment_id":124160026,"body_markdown":"The java compiler supports parameters to control the source- (`-source ...`) and target- (`-target ...`) version. See [this question](https://stackoverflow.com/questions/15492948/javac-source-and-target-options) for details. Thus, we can just install java 11 and use it for all projects using a version `&lt;=` 11. If we want to install multiple JDK versions, the actual procedure depends on the OS we are using.","body":"The java compiler supports parameters to control the source- (<code>-source ...</code>) and target- (<code>-target ...</code>) version. See <a href=\"https://stackoverflow.com/questions/15492948/javac-source-and-target-options\">this question</a> for details. Thus, we can just install java 11 and use it for all projects using a version <code>&lt;=</code> 11. If we want to install multiple JDK versions, the actual procedure depends on the OS we are using."},{"owner":{"account_id":6870434,"reputation":2894,"user_id":5281012,"display_name":"SHIVAM JINDAL"},"score":0,"creation_date":1638729916,"post_id":70237388,"comment_id":124160064,"body_markdown":"how will I run my spring-boot then with diff version?","body":"how will I run my spring-boot then with diff version?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1638730021,"post_id":70237388,"comment_id":124160101,"body_markdown":"I do not fully understand the question. The target version is &quot;baked-in&quot; the `.class` files. Since java is downwards-compatible, we can use, for example a java 11 jre to run a java 8 project.","body":"I do not fully understand the question. The target version is &quot;baked-in&quot; the <code>.class</code> files. Since java is downwards-compatible, we can use, for example a java 11 jre to run a java 8 project."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1638735924,"post_id":70237388,"comment_id":124161604,"body_markdown":"Running multiple versions of java on the same box is something that many people dealt with in the past. It feels like you didn&#39;t do any research prior posting your question.","body":"Running multiple versions of java on the same box is something that many people dealt with in the past. It feels like you didn&#39;t do any research prior posting your question."}],"answers":[{"tags":[],"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638735559,"creation_date":1638729694,"answer_id":70237413,"question_id":70237388,"body_markdown":"Each IDE is a separate let&#39;s say &quot;ecosystem&quot;, and within that IDE you can set your ( in eclipse example ) java compiler and java build path java version.\r\nYes, you will need to install both of them on your machine, but there will be no collision between them if you set your working environment correctly within your IDEs.\r\nThe same would go for an example docker images.\r\n\r\nIf you fancy a terminal you can create a command that will switch for example MAVEN_HOME or JAVA_HOME to a specific JDK version\r\n\r\nhttps://stackoverflow.com/questions/24641536/how-to-set-java-home-in-linux-for-all-users\r\n\r\nhttps://stackoverflow.com/questions/26993101/switching-between-different-jdk-versions-in-windows\r\n\r\nEach terminal has separate session so when you run your application on JDK8, open a new terminal, switch version, your other application will run without any issues on JDK11.","title":"how to handle different JAVA versions for different projects on the same machine?","body":"<p>Each IDE is a separate let's say &quot;ecosystem&quot;, and within that IDE you can set your ( in eclipse example ) java compiler and java build path java version.\nYes, you will need to install both of them on your machine, but there will be no collision between them if you set your working environment correctly within your IDEs.\nThe same would go for an example docker images.</p>\n<p>If you fancy a terminal you can create a command that will switch for example MAVEN_HOME or JAVA_HOME to a specific JDK version</p>\n<p><a href=\"https://stackoverflow.com/questions/24641536/how-to-set-java-home-in-linux-for-all-users\">How to set JAVA_HOME in Linux for all users</a></p>\n<p><a href=\"https://stackoverflow.com/questions/26993101/switching-between-different-jdk-versions-in-windows\">Switching between different JDK versions in Windows</a></p>\n<p>Each terminal has separate session so when you run your application on JDK8, open a new terminal, switch version, your other application will run without any issues on JDK11.</p>\n"},{"tags":[],"owner":{"account_id":7932983,"reputation":1434,"user_id":5990117,"display_name":"Petr Aleksandrov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638733704,"creation_date":1638733704,"answer_id":70237979,"question_id":70237388,"body_markdown":"Each instance of JDK/JRE is installed into its own directory. \r\n\r\nE.g. I have multiple JDK version in my `/opt/java` directory. \r\n```shell\r\nls -1  /opt/java/\r\n\r\njdk-11.0.1\r\njdk1.8.0_171\r\nopenjdk-11.0.2\r\nopenjdk-14.0.1\r\n```\r\n\r\nI can switch between the versions by specifying full path to the java executable file. \r\n\r\nE.g. running on java 11:\r\n```\r\n/opt/java/jdk-11.0.3/bin/java -jar my-springboot-app.jar\r\n```\r\nrunning on java 14:\r\n```\r\n/opt/java/openjdk-14.0.1/bin/java -jar my-springboot-app.jar\r\n```\r\n\r\n---\r\nIf you are using Unix-like system, you can also look at [alternatives][1] util. It helps to switch between different versions of applications (different java versions). \r\n\r\n\r\n  [1]: https://linux.die.net/man/8/alternatives","title":"how to handle different JAVA versions for different projects on the same machine?","body":"<p>Each instance of JDK/JRE is installed into its own directory.</p>\n<p>E.g. I have multiple JDK version in my <code>/opt/java</code> directory.</p>\n<pre class=\"lang-sh prettyprint-override\"><code>ls -1  /opt/java/\n\njdk-11.0.1\njdk1.8.0_171\nopenjdk-11.0.2\nopenjdk-14.0.1\n</code></pre>\n<p>I can switch between the versions by specifying full path to the java executable file.</p>\n<p>E.g. running on java 11:</p>\n<pre><code>/opt/java/jdk-11.0.3/bin/java -jar my-springboot-app.jar\n</code></pre>\n<p>running on java 14:</p>\n<pre><code>/opt/java/openjdk-14.0.1/bin/java -jar my-springboot-app.jar\n</code></pre>\n<hr />\n<p>If you are using Unix-like system, you can also look at <a href=\"https://linux.die.net/man/8/alternatives\" rel=\"nofollow noreferrer\">alternatives</a> util. It helps to switch between different versions of applications (different java versions).</p>\n"},{"tags":[],"owner":{"account_id":5850921,"reputation":1533,"user_id":4609621,"display_name":"Jasper Huzen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638733839,"creation_date":1638733839,"answer_id":70237987,"question_id":70237388,"body_markdown":"Use SDKMAN https://sdkman.io/. That can help you to solve this issue. \r\n\r\nYou can give commands like:\r\n\r\n```sdk use java 8.282.08.1-amzn```\r\n\r\nor\r\n\r\n```sdk use java 11.0.10.hs-adpt```","title":"how to handle different JAVA versions for different projects on the same machine?","body":"<p>Use SDKMAN <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">https://sdkman.io/</a>. That can help you to solve this issue.</p>\n<p>You can give commands like:</p>\n<p><code>sdk use java 8.282.08.1-amzn</code></p>\n<p>or</p>\n<p><code>sdk use java 11.0.10.hs-adpt</code></p>\n"}],"owner":{"account_id":6870434,"reputation":2894,"user_id":5281012,"display_name":"SHIVAM JINDAL"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5032,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":3,"score":2,"last_activity_date":1638735559,"creation_date":1638729545,"question_id":70237388,"body_markdown":"I am using **java-8** for multiple spring-boot projects but now one of them needs to be shifted to **java-11**. So I need to install both versions on my laptop. So how to handle different JAVA versions for different projects on the same machine?","title":"how to handle different JAVA versions for different projects on the same machine?","body":"<p>I am using <strong>java-8</strong> for multiple spring-boot projects but now one of them needs to be shifted to <strong>java-11</strong>. So I need to install both versions on my laptop. So how to handle different JAVA versions for different projects on the same machine?</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","threadpool"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1638736575,"post_id":70238119,"comment_id":124161754,"body_markdown":"By storing it into a `ThreadLocal` you are storing the value exactly for the currently running thread (the thread calling `getSessionFactoryBuilder()`, which probably is just doing some initialization).  Every other thread that later calls `getMetadataImplementor()` will get its thread-specific value of the ThreadLocal - which probably was never initialized.","body":"By storing it into a <code>ThreadLocal</code> you are storing the value exactly for the currently running thread (the thread calling <code>getSessionFactoryBuilder()</code>, which probably is just doing some initialization).  Every other thread that later calls <code>getMetadataImplementor()</code> will get its thread-specific value of the ThreadLocal - which probably was never initialized."},{"owner":{"account_id":15611532,"reputation":784,"user_id":11262834,"display_name":"Hamza Assada"},"score":0,"creation_date":1638736861,"post_id":70238119,"comment_id":124161824,"body_markdown":"Thank you very much for your quick response, okay, I get it, but why it was working fine previously, now it&#39;s not and I can&#39;t recall what I have changed that made it stop working.","body":"Thank you very much for your quick response, okay, I get it, but why it was working fine previously, now it&#39;s not and I can&#39;t recall what I have changed that made it stop working."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1638737270,"post_id":70238119,"comment_id":124161901,"body_markdown":"It seems that the later code was previously running in the same thread as the initialization but is no longer. Why do you need to store it in a `ThreadLocal` if storing it in a field directly works?","body":"It seems that the later code was previously running in the same thread as the initialization but is no longer. Why do you need to store it in a <code>ThreadLocal</code> if storing it in a field directly works?"}],"owner":{"account_id":15611532,"reputation":784,"user_id":11262834,"display_name":"Hamza Assada"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638735278,"creation_date":1638734949,"question_id":70238119,"body_markdown":"I want first to mention that when I first implemented it, it was working fine, now it is not and I don&#39;t know what the things I changed that stopped it from working.\r\nI am working on a Spring boot project that uses JPA and hibernate, I want to get the **MetadataImplementor** from Hibernate.\r\nI created a class that catches it during initialization and put it in a ThreadLocal, here is the code that does that:\r\n\r\n    public class HibernateMetadata implements SessionFactoryBuilderFactory {\r\n        private static final ThreadLocal&lt;MetadataImplementor&gt; metadataImplementor = new ThreadLocal&lt;&gt;();\r\n    \r\n        @Override\r\n        public SessionFactoryBuilder getSessionFactoryBuilder(MetadataImplementor metadataImplementor,\r\n                                                              SessionFactoryBuilderImplementor defaultBuilder) {\r\n            HibernateMetadata.metadataImplementor.set(metadataImplementor);\r\n            return defaultBuilder;\r\n        }\r\n    \r\n        public static MetadataImplementor getMetadataImplementor() {\r\n    \r\n            return metadataImplementor.get();\r\n        }\r\n    }\r\n\r\nThis class always gets called during startup and the **MetadataImplementor** configured by hibernating gets put in the ThreadLocal, I am sure of that, I debugged it and it showed me it does this during startup.\r\nIt was working fine, now suddenly it stopped and it always returns null.\r\nIf I try to get the **MetadataImplementor** from within another service code as the following, it returns **null**:\r\n\r\n    @Override\r\n        public void introspect(Class&lt;?&gt; klass, Map&lt;String, Property&gt; properties) {\r\n            // ...\r\n    \r\n            MetadataImplementor metadataImplementor = HibernateMetadata.getMetadataImplementor(); // this returns null\r\n    \r\n            if (metadataImplementor == null) {\r\n                return; // it always returns null and return\r\n            }\r\n    \r\n            PersistentClass persistentClass = metadataImplementor.getEntityBinding(klass.getName());\r\n    \r\n            Iterator&lt;?&gt; propertyIterator = persistentClass.getPropertyClosureIterator();\r\n    \r\n            while (propertyIterator.hasNext()) {\r\n                Property property = createProperty(klass, (org.hibernate.mapping.Property) propertyIterator.next(),\r\n                    metamodelImplementor);\r\n                properties.put(property.getName(), property);\r\n            }\r\n        // ...\r\n        }\r\n\r\nIf I don&#39;t use the ThreadLocal and I directly use the **metadataImplementor** instead, it gets initialized and it works.\r\nI think it&#39;s like it was calling it from another thread, I don&#39;t know, Can anyone point me towards what I am missing here?.","title":"When using ThreadLocal it always returns null, although when debbaged it shows that it is actually gets initialized with a value","body":"<p>I want first to mention that when I first implemented it, it was working fine, now it is not and I don't know what the things I changed that stopped it from working.\nI am working on a Spring boot project that uses JPA and hibernate, I want to get the <strong>MetadataImplementor</strong> from Hibernate.\nI created a class that catches it during initialization and put it in a ThreadLocal, here is the code that does that:</p>\n<pre><code>public class HibernateMetadata implements SessionFactoryBuilderFactory {\n    private static final ThreadLocal&lt;MetadataImplementor&gt; metadataImplementor = new ThreadLocal&lt;&gt;();\n\n    @Override\n    public SessionFactoryBuilder getSessionFactoryBuilder(MetadataImplementor metadataImplementor,\n                                                          SessionFactoryBuilderImplementor defaultBuilder) {\n        HibernateMetadata.metadataImplementor.set(metadataImplementor);\n        return defaultBuilder;\n    }\n\n    public static MetadataImplementor getMetadataImplementor() {\n\n        return metadataImplementor.get();\n    }\n}\n</code></pre>\n<p>This class always gets called during startup and the <strong>MetadataImplementor</strong> configured by hibernating gets put in the ThreadLocal, I am sure of that, I debugged it and it showed me it does this during startup.\nIt was working fine, now suddenly it stopped and it always returns null.\nIf I try to get the <strong>MetadataImplementor</strong> from within another service code as the following, it returns <strong>null</strong>:</p>\n<pre><code>@Override\n    public void introspect(Class&lt;?&gt; klass, Map&lt;String, Property&gt; properties) {\n        // ...\n\n        MetadataImplementor metadataImplementor = HibernateMetadata.getMetadataImplementor(); // this returns null\n\n        if (metadataImplementor == null) {\n            return; // it always returns null and return\n        }\n\n        PersistentClass persistentClass = metadataImplementor.getEntityBinding(klass.getName());\n\n        Iterator&lt;?&gt; propertyIterator = persistentClass.getPropertyClosureIterator();\n\n        while (propertyIterator.hasNext()) {\n            Property property = createProperty(klass, (org.hibernate.mapping.Property) propertyIterator.next(),\n                metamodelImplementor);\n            properties.put(property.getName(), property);\n        }\n    // ...\n    }\n</code></pre>\n<p>If I don't use the ThreadLocal and I directly use the <strong>metadataImplementor</strong> instead, it gets initialized and it works.\nI think it's like it was calling it from another thread, I don't know, Can anyone point me towards what I am missing here?.</p>\n"},{"tags":["java","html","selenium","xpath","css-selectors"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1638723568,"post_id":70236517,"comment_id":124158356,"body_markdown":"You need to loop over the child elements of the only item in the list returned by `driver.findElements(By.id(&quot;ajax_listOfOptions&quot;));`.","body":"You need to loop over the child elements of the only item in the list returned by <code>driver.findElements(By.id(&quot;ajax_listOfOptions&quot;));</code>."},{"owner":{"account_id":18742299,"reputation":3,"user_id":13665325,"display_name":"Shashwat Aryan"},"score":0,"creation_date":1638724339,"post_id":70236517,"comment_id":124158583,"body_markdown":"When i am using List&lt;WebElement&gt;li=driver.findElements(By.className(&quot;optionDiv&quot;)); then it is working fine, but not with above code. Why?","body":"When i am using List&lt;WebElement&gt;li=driver.findElements(By.className(&quot;optionD&zwnj;&#8203;iv&quot;)); then it is working fine, but not with above code. Why?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1638724503,"post_id":70236517,"comment_id":124158627,"body_markdown":"because your code above finds the `div id=&quot;ajax_listOfOptions&quot;` and performs a getText on it","body":"because your code above finds the <code>div id=&quot;ajax_listOfOptions&quot;</code> and performs a getText on it"},{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1638725317,"post_id":70236517,"comment_id":124158871,"body_markdown":"If you use `By.className(&quot;optionDiv&quot;)`, _Infosys Ltd._ which contains _`optionDivSelected`_ will never be selected within the list. See my [answer](https://stackoverflow.com/a/70236703/7429447) below.","body":"If you use <code>By.className(&quot;optionDiv&quot;)</code>, <i>Infosys Ltd.</i> which contains <i><code>optionDivSelected</code></i> will never be selected within the list. See my <a href=\"https://stackoverflow.com/a/70236703/7429447\">answer</a> below."},{"owner":{"account_id":18742299,"reputation":3,"user_id":13665325,"display_name":"Shashwat Aryan"},"score":0,"creation_date":1638811040,"post_id":70236517,"comment_id":124181594,"body_markdown":"Yes got it. Thanks a lot","body":"Yes got it. Thanks a lot"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638725158,"creation_date":1638724755,"answer_id":70236703,"question_id":70236517,"body_markdown":"As per your line of code you are using `By.id(&quot;ajax_listOfOptions&quot;)` which identifies the entire _TABLE_ element. So the list LI contains only one element which does includes the string _**Tata**_. Hence the entire _TABLE_ text is printed.\r\n\r\n\r\n----------\r\n\r\n\r\nTo print the text _**Tata Consultancy Services Ltd.**_ you can use the following [Locator Strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890):\r\n\r\n- Using _cssSelector_:\r\n\r\n\t  List&lt;WebElement&gt;li=driver.findElements(By.cssSelector(&quot;div#ajax_listOfOptions div&quot;));\r\n\t  for(WebElement wb:li)\r\n\t  {\r\n\t\t  if(wb.getText().contains(&quot;Tata&quot;))\r\n\t\t\t  System.out.print(wb.getText());\r\n\t  }\r\n\t  \r\n- Using _xpath_:\r\n\r\n\t  List&lt;WebElement&gt;li=driver.findElements(By.xpath(&quot;//div[@id=&#39;ajax_listOfOptions&#39;]//div&quot;));\r\n\t  for(WebElement wb:li)\r\n\t  {\r\n\t\t  if(wb.getText().contains(&quot;Tata&quot;))\r\n\t\t\t  System.out.print(wb.getText());\r\n\t  }","title":"getText() method prints all the strings in the list instead of single string using Selenium and Java","body":"<p>As per your line of code you are using <code>By.id(&quot;ajax_listOfOptions&quot;)</code> which identifies the entire <em>TABLE</em> element. So the list LI contains only one element which does includes the string <em><strong>Tata</strong></em>. Hence the entire <em>TABLE</em> text is printed.</p>\n<hr />\n<p>To print the text <em><strong>Tata Consultancy Services Ltd.</strong></em> you can use the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>:</p>\n<ul>\n<li><p>Using <em>cssSelector</em>:</p>\n<pre><code>List&lt;WebElement&gt;li=driver.findElements(By.cssSelector(&quot;div#ajax_listOfOptions div&quot;));\nfor(WebElement wb:li)\n{\n    if(wb.getText().contains(&quot;Tata&quot;))\n        System.out.print(wb.getText());\n}\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em>:</p>\n<pre><code>List&lt;WebElement&gt;li=driver.findElements(By.xpath(&quot;//div[@id='ajax_listOfOptions']//div&quot;));\nfor(WebElement wb:li)\n{\n    if(wb.getText().contains(&quot;Tata&quot;))\n        System.out.print(wb.getText());\n}\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":18742299,"reputation":3,"user_id":13665325,"display_name":"Shashwat Aryan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":511,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638735139,"creation_date":1638723402,"question_id":70236517,"body_markdown":"HTML Code:\r\n\r\n    &lt;div id=&quot;ajax_listOfOptions&quot; style=&quot;display: block; top: 243px; left: 373px; z-index: 10009;&quot;&gt;\r\n        &lt;div id=&quot;13020007&quot; class=&quot;optionDivSelected&quot;&gt;Infosys Ltd.&lt;/div&gt;\r\n        &lt;div id=&quot;14094980&quot; class=&quot;optionDiv&quot;&gt;India Infrastructure Trust&lt;/div&gt;\r\n        &lt;div id=&quot;13020033&quot; class=&quot;optionDiv&quot;&gt;Tata Consultancy Services Ltd.&lt;/div&gt;\r\n        &lt;div id=&quot;12150008&quot; class=&quot;optionDiv&quot;&gt;Reliance Industries Ltd.&lt;/div&gt;\r\n        &lt;div id=&quot;14030001&quot; class=&quot;optionDiv&quot;&gt;State Bank of India&lt;/div&gt;\r\n        &lt;div id=&quot;14030055&quot; class=&quot;optionDiv&quot;&gt;HDFC Bank Ltd.&lt;/div&gt;\r\n        &lt;div id=&quot;12520002&quot; class=&quot;optionDiv&quot;&gt;Hindustan Unilever Ltd.&lt;/div&gt;\r\n        &lt;div id=&quot;14080001&quot; class=&quot;optionDiv&quot;&gt;Housing Development Finance Corporation Ltd.&lt;/div&gt;\r\n        &lt;div id=&quot;14030056&quot; class=&quot;optionDiv&quot;&gt;ICICI Bank Ltd.&lt;/div&gt;\r\n        &lt;div id=&quot;14060023&quot; class=&quot;optionDiv&quot;&gt;Bajaj Finance Ltd.&lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\n\r\nSample Code:\r\n\r\n    List&lt;WebElement&gt;li=driver.findElements(By.id(&quot;ajax_listOfOptions&quot;));\r\n    for(WebElement wb:li)\r\n    {\r\n    if(wb.getText().contains(&quot;Tata&quot;))\r\n    System.out.print(wb.getText());\r\n    }\r\n\r\nThis should only print the string that contains &quot;Tata&quot;(i.e. Tata Consultancy Services), but the code is printing all the string in the list\r\n\r\nNote: The list contains strings populated with ajax auto suggestions.\r\n\r\nOutput:\r\n\r\n    Infosys Ltd.\r\n    India Infrastructure Trust\r\n    Tata Consultancy Services Ltd.\r\n    Reliance Industries Ltd.\r\n    State Bank of India\r\n    HDFC Bank Ltd.\r\n    Hindustan Unilever Ltd.\r\n    Housing Development Finance Corporation Ltd.\r\n    ICICI Bank Ltd.\r\n    Bajaj Finance Ltd.","title":"getText() method prints all the strings in the list instead of single string using Selenium and Java","body":"<p>HTML Code:</p>\n<pre><code>&lt;div id=&quot;ajax_listOfOptions&quot; style=&quot;display: block; top: 243px; left: 373px; z-index: 10009;&quot;&gt;\n    &lt;div id=&quot;13020007&quot; class=&quot;optionDivSelected&quot;&gt;Infosys Ltd.&lt;/div&gt;\n    &lt;div id=&quot;14094980&quot; class=&quot;optionDiv&quot;&gt;India Infrastructure Trust&lt;/div&gt;\n    &lt;div id=&quot;13020033&quot; class=&quot;optionDiv&quot;&gt;Tata Consultancy Services Ltd.&lt;/div&gt;\n    &lt;div id=&quot;12150008&quot; class=&quot;optionDiv&quot;&gt;Reliance Industries Ltd.&lt;/div&gt;\n    &lt;div id=&quot;14030001&quot; class=&quot;optionDiv&quot;&gt;State Bank of India&lt;/div&gt;\n    &lt;div id=&quot;14030055&quot; class=&quot;optionDiv&quot;&gt;HDFC Bank Ltd.&lt;/div&gt;\n    &lt;div id=&quot;12520002&quot; class=&quot;optionDiv&quot;&gt;Hindustan Unilever Ltd.&lt;/div&gt;\n    &lt;div id=&quot;14080001&quot; class=&quot;optionDiv&quot;&gt;Housing Development Finance Corporation Ltd.&lt;/div&gt;\n    &lt;div id=&quot;14030056&quot; class=&quot;optionDiv&quot;&gt;ICICI Bank Ltd.&lt;/div&gt;\n    &lt;div id=&quot;14060023&quot; class=&quot;optionDiv&quot;&gt;Bajaj Finance Ltd.&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>Sample Code:</p>\n<pre><code>List&lt;WebElement&gt;li=driver.findElements(By.id(&quot;ajax_listOfOptions&quot;));\nfor(WebElement wb:li)\n{\nif(wb.getText().contains(&quot;Tata&quot;))\nSystem.out.print(wb.getText());\n}\n</code></pre>\n<p>This should only print the string that contains &quot;Tata&quot;(i.e. Tata Consultancy Services), but the code is printing all the string in the list</p>\n<p>Note: The list contains strings populated with ajax auto suggestions.</p>\n<p>Output:</p>\n<pre><code>Infosys Ltd.\nIndia Infrastructure Trust\nTata Consultancy Services Ltd.\nReliance Industries Ltd.\nState Bank of India\nHDFC Bank Ltd.\nHindustan Unilever Ltd.\nHousing Development Finance Corporation Ltd.\nICICI Bank Ltd.\nBajaj Finance Ltd.\n</code></pre>\n"},{"tags":["java","animation","javafx","alignment"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1638742258,"post_id":70238025,"comment_id":124163157,"body_markdown":"Perhaps review this example of[rotating around a pivot](https://stackoverflow.com/questions/28652149/rotatetransition-around-a-pivot), assuming that is what you are actually trying to accomplish.","body":"Perhaps review this example of<a href=\"https://stackoverflow.com/questions/28652149/rotatetransition-around-a-pivot\">rotating around a pivot</a>, assuming that is what you are actually trying to accomplish."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1638750433,"post_id":70238025,"comment_id":124164608,"body_markdown":"If you don’t want all of your shapes to be centered on each other, give them center coordinates, not just radii and angles.","body":"If you don’t want all of your shapes to be centered on each other, give them center coordinates, not just radii and angles."}],"owner":{"account_id":19675732,"reputation":77,"user_id":14403931,"display_name":"swittuth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638734154,"creation_date":1638734154,"question_id":70238025,"body_markdown":"    import javafx.animation.Timeline;\r\n    import javafx.application.Application;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.shape.ArcType;\r\n    import javafx.stage.Stage;\r\n    import javafx.scene.shape.Circle;\r\n    import javafx.scene.shape.Arc;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.Group;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.animation.PathTransition;\r\n    import javafx.util.Duration;\r\n    import javafx.scene.shape.Ellipse;\r\n\r\n    public class MovingFourFans extends Application\r\n    {\r\n        private Button btPause = new Button(&quot;Pause&quot;);\r\n        private Button btResume = new Button(&quot;Resume&quot;);\r\n        private Button btReverse = new Button(&quot;Reverse&quot;);\r\n        private Circle fanPanel;\r\n        private Ellipse fanPath;\r\n        private Arc fan1;\r\n        private Arc fan2;\r\n        private Arc fan3;\r\n        private Arc fan4;\r\n        private BorderPane uiContainer;\r\n        private HBox buttonContainer;\r\n        private PathTransition pt = new PathTransition();\r\n\r\n\r\n    @Override\r\n    public void start(Stage primaryStage)\r\n    {\r\n        BorderPane pane = new BorderPane();\r\n        Scene scene = new Scene(pane, 400, 500);\r\n\r\n        buttonContainer = new HBox(btPause, btResume, btReverse);\r\n        buttonContainer.setAlignment(Pos.CENTER);\r\n        Group group = new Group();\r\n\r\n        pane.setCenter(group);\r\n        pane.setBottom(buttonContainer);\r\n\r\n        // include a path transition with a circle inside instead\r\n\r\n        fanPanel = new Circle(Math.min(pane.getWidth(), pane.getHeight()) / 4);\r\n        fanPanel.setFill(Color.WHITE);\r\n        fanPanel.setStroke(Color.BLACK);\r\n\r\n        fanPath = new Ellipse(fanPanel.getRadius() / 100, fanPanel.getRadius() / 100);\r\n        fanPath.setVisible(true);\r\n        fanPath.setFill(Color.WHITE);\r\n        fanPath.setStroke(Color.BLACK);\r\n\r\n        fan1 = new Arc();\r\n        fan1.setType(ArcType.ROUND);\r\n        fan1.setRadiusX(fanPanel.getRadius() - 10);\r\n        fan1.setRadiusY(fanPanel.getRadius() - 10);\r\n        fan1.setStartAngle(80);\r\n        fan1.setLength(-10);\r\n        fan1.setFill(Color.RED);\r\n\r\n\r\n\r\n        group.getChildren().addAll(fanPanel, fanPath, fan1);\r\n\r\n        pt.setPath(fanPath);\r\n        pt.setNode(fan1);\r\n        pt.setCycleCount(Timeline.INDEFINITE);\r\n        pt.setOrientation(PathTransition.OrientationType.ORTHOGONAL_TO_TANGENT);\r\n        pt.setDuration(Duration.seconds(3));\r\n        pt.setAutoReverse(false);\r\n        pt.play();\r\n\r\n        btPause.setOnAction(e -&gt; pt.pause());\r\n        btResume.setOnAction(e -&gt; pt.play());\r\n\r\n\r\n        primaryStage.setTitle(&quot;Control Moving Fan&quot;);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n    }\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        Application.launch(args);\r\n    }\r\n\r\n    }\r\n\r\nI&#39;m having a problem trying to create an animation of a fan with four wings with Javafx. I know how to make the buttons work but for the animation every time I start it, the fans moving along the circle path that I created with its middle section not the tip of the section. Because of this the animation doesn&#39;t look correct. Does anyone know a fix to this or what method I can use to create the correct animation for this? In this code I only made one wing for test and there are 3 wings left. The screenshot for what I currently have is below. [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dSLPW.png","title":"Fan Orientation Animation Javafx","body":"<pre><code>import javafx.animation.Timeline;\nimport javafx.application.Application;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.shape.ArcType;\nimport javafx.stage.Stage;\nimport javafx.scene.shape.Circle;\nimport javafx.scene.shape.Arc;\nimport javafx.scene.paint.Color;\nimport javafx.scene.control.Button;\nimport javafx.scene.Group;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.layout.HBox;\nimport javafx.animation.PathTransition;\nimport javafx.util.Duration;\nimport javafx.scene.shape.Ellipse;\n\npublic class MovingFourFans extends Application\n{\n    private Button btPause = new Button(&quot;Pause&quot;);\n    private Button btResume = new Button(&quot;Resume&quot;);\n    private Button btReverse = new Button(&quot;Reverse&quot;);\n    private Circle fanPanel;\n    private Ellipse fanPath;\n    private Arc fan1;\n    private Arc fan2;\n    private Arc fan3;\n    private Arc fan4;\n    private BorderPane uiContainer;\n    private HBox buttonContainer;\n    private PathTransition pt = new PathTransition();\n\n\n@Override\npublic void start(Stage primaryStage)\n{\n    BorderPane pane = new BorderPane();\n    Scene scene = new Scene(pane, 400, 500);\n\n    buttonContainer = new HBox(btPause, btResume, btReverse);\n    buttonContainer.setAlignment(Pos.CENTER);\n    Group group = new Group();\n\n    pane.setCenter(group);\n    pane.setBottom(buttonContainer);\n\n    // include a path transition with a circle inside instead\n\n    fanPanel = new Circle(Math.min(pane.getWidth(), pane.getHeight()) / 4);\n    fanPanel.setFill(Color.WHITE);\n    fanPanel.setStroke(Color.BLACK);\n\n    fanPath = new Ellipse(fanPanel.getRadius() / 100, fanPanel.getRadius() / 100);\n    fanPath.setVisible(true);\n    fanPath.setFill(Color.WHITE);\n    fanPath.setStroke(Color.BLACK);\n\n    fan1 = new Arc();\n    fan1.setType(ArcType.ROUND);\n    fan1.setRadiusX(fanPanel.getRadius() - 10);\n    fan1.setRadiusY(fanPanel.getRadius() - 10);\n    fan1.setStartAngle(80);\n    fan1.setLength(-10);\n    fan1.setFill(Color.RED);\n\n\n\n    group.getChildren().addAll(fanPanel, fanPath, fan1);\n\n    pt.setPath(fanPath);\n    pt.setNode(fan1);\n    pt.setCycleCount(Timeline.INDEFINITE);\n    pt.setOrientation(PathTransition.OrientationType.ORTHOGONAL_TO_TANGENT);\n    pt.setDuration(Duration.seconds(3));\n    pt.setAutoReverse(false);\n    pt.play();\n\n    btPause.setOnAction(e -&gt; pt.pause());\n    btResume.setOnAction(e -&gt; pt.play());\n\n\n    primaryStage.setTitle(&quot;Control Moving Fan&quot;);\n    primaryStage.setScene(scene);\n    primaryStage.show();\n}\n\npublic static void main(String[] args)\n{\n    Application.launch(args);\n}\n\n}\n</code></pre>\n<p>I'm having a problem trying to create an animation of a fan with four wings with Javafx. I know how to make the buttons work but for the animation every time I start it, the fans moving along the circle path that I created with its middle section not the tip of the section. Because of this the animation doesn't look correct. Does anyone know a fix to this or what method I can use to create the correct animation for this? In this code I only made one wing for test and there are 3 wings left. The screenshot for what I currently have is below. <a href=\"https://i.stack.imgur.com/dSLPW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dSLPW.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","string","stack"],"comments":[{"owner":{"account_id":20468026,"reputation":103,"user_id":15019099,"display_name":"LiavC"},"score":0,"creation_date":1638731004,"post_id":70236314,"comment_id":124160341,"body_markdown":"did you try to debug your code?","body":"did you try to debug your code?"}],"answers":[{"tags":[],"owner":{"account_id":10171463,"reputation":71,"user_id":7511632,"display_name":"kkid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638722913,"creation_date":1638722913,"answer_id":70236451,"question_id":70236314,"body_markdown":"Try:\r\nif(Character.compare(guess, (char) letters.peek())){\r\n.\r\nExisting logic\r\n.\r\n}\r\n","title":"Stack in Java not being able to print in specific order","body":"<p>Try:\nif(Character.compare(guess, (char) letters.peek())){\n.\nExisting logic\n.\n}</p>\n"},{"tags":[],"owner":{"account_id":14179476,"reputation":2663,"user_id":10243634,"display_name":"Oboe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638731064,"creation_date":1638731064,"answer_id":70237600,"question_id":70236314,"body_markdown":"Your code is incomplete, so I can&#39;t be sure what and where is the issue. To answer your question I&#39;ll assume the issue is that the line `System.out.println(letters.peek() + test);` prints the word incorrectly.\r\n\r\nBy doing `test += letters.pop();` you are appending `letters.pop()` to `test`. \r\n\r\nInstead you should prepend `letters.pop()` to `test`:\r\n\r\n    test = letters.pop() + test;\r\n","title":"Stack in Java not being able to print in specific order","body":"<p>Your code is incomplete, so I can't be sure what and where is the issue. To answer your question I'll assume the issue is that the line <code>System.out.println(letters.peek() + test);</code> prints the word incorrectly.</p>\n<p>By doing <code>test += letters.pop();</code> you are appending <code>letters.pop()</code> to <code>test</code>.</p>\n<p>Instead you should prepend <code>letters.pop()</code> to <code>test</code>:</p>\n<pre><code>test = letters.pop() + test;\n</code></pre>\n"}],"owner":{"account_id":18080802,"reputation":306,"user_id":13142997,"display_name":"Joseph Attia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70237600,"answer_count":2,"score":0,"last_activity_date":1638731064,"creation_date":1638722051,"question_id":70236314,"body_markdown":"Currently I&#39;m working on a project that is supposed to be a reverse word guessing game. \\\r\n\\\r\nThis is how it should work:\r\n\r\n\r\n```\r\nEnter a word: (input = cheese)\r\n````\r\n```\r\nYour word is: _ _ _ _ _ e\r\nWhat letter do you guess? (input = s)\r\n```\r\nThe use keeps guessing the word until it is fully spelled out. If the user guesses the letter correctly it is revealed if not it is still reveled as shown below\r\n```\r\nYour word is: _ _ _ _ _ e\r\nWhat letter do you guess?\r\n```\r\n```\r\nYour word is: _ _ _ _ s e\r\nWhat letter do you guess?\r\n```\r\n```\r\nYour word is: _ _ _ e s e\r\nWhat letter do you guess?\r\n```\r\n```\r\nYour word is: _ _ e e s e\r\nWhat letter do you guess?\r\n```\r\n```\r\nYour word is: _ h e e s e\r\nWhat letter do you guess?\r\n```\r\n```\r\nYour word is: c h e e s e\r\nGameover!\r\n```\r\n\r\n⚠️ Currently I have a stack containing all the letters of the given word as shown below:⚠️   \\\r\nBottom:   c h e e s e      :Top\r\n\r\nI currently have this code:\r\n```java\r\nwhile(guesses &lt; letters.size()){\r\n   System.out.print(&quot;Your word is: &quot;);\r\n   for(int i = 1; i &lt; letters.size(); i++){\r\n      System.out.print(&quot;_ &quot;);\r\n   }\r\n   System.out.println(letters.peek() + test);\r\n   System.out.println(&quot;Score: &quot; + score);\r\n   System.out.print(&quot;What letter do you guess? &quot;);\r\n   char guess = sc.next().charAt(0);\r\n   if((Object)guess == letters.peek()){\r\n      test += letters.pop();\r\n      score++;\r\n   }\r\n   else{\r\n      test += letters.pop();\r\n      score--;\r\n   }\r\n}\r\n```\r\n\r\nHowever it is printing this:\r\n```\r\nYour word is: _ _ _ _ _ e\r\nScore: 0\r\nWhat letter do you guess? \r\nYour word is: _ _ _ _ se\r\nScore: 0\r\nWhat letter do you guess? \r\nYour word is: _ _ _ ees\r\nScore: 0\r\nWhat letter do you guess? \r\nYour word is: _ _ eese\r\nScore: 0\r\nWhat letter do you guess? \r\nYour word is: _ hesee\r\nScore: 0\r\nWhat letter do you guess? \r\nYour word is: ceseeh\r\nScore: 0\r\nGameover!\r\n```\r\n\r\nThank you. If any more information is needed please comment and tell me!","title":"Stack in Java not being able to print in specific order","body":"<p>Currently I'm working on a project that is supposed to be a reverse word guessing game. <br />\n<br />\nThis is how it should work:</p>\n<pre><code>Enter a word: (input = cheese)\n</code></pre>\n<pre><code>Your word is: _ _ _ _ _ e\nWhat letter do you guess? (input = s)\n</code></pre>\n<p>The use keeps guessing the word until it is fully spelled out. If the user guesses the letter correctly it is revealed if not it is still reveled as shown below</p>\n<pre><code>Your word is: _ _ _ _ _ e\nWhat letter do you guess?\n</code></pre>\n<pre><code>Your word is: _ _ _ _ s e\nWhat letter do you guess?\n</code></pre>\n<pre><code>Your word is: _ _ _ e s e\nWhat letter do you guess?\n</code></pre>\n<pre><code>Your word is: _ _ e e s e\nWhat letter do you guess?\n</code></pre>\n<pre><code>Your word is: _ h e e s e\nWhat letter do you guess?\n</code></pre>\n<pre><code>Your word is: c h e e s e\nGameover!\n</code></pre>\n<p>⚠️ Currently I have a stack containing all the letters of the given word as shown below:⚠️   <br />\nBottom:   c h e e s e      :Top</p>\n<p>I currently have this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>while(guesses &lt; letters.size()){\n   System.out.print(&quot;Your word is: &quot;);\n   for(int i = 1; i &lt; letters.size(); i++){\n      System.out.print(&quot;_ &quot;);\n   }\n   System.out.println(letters.peek() + test);\n   System.out.println(&quot;Score: &quot; + score);\n   System.out.print(&quot;What letter do you guess? &quot;);\n   char guess = sc.next().charAt(0);\n   if((Object)guess == letters.peek()){\n      test += letters.pop();\n      score++;\n   }\n   else{\n      test += letters.pop();\n      score--;\n   }\n}\n</code></pre>\n<p>However it is printing this:</p>\n<pre><code>Your word is: _ _ _ _ _ e\nScore: 0\nWhat letter do you guess? \nYour word is: _ _ _ _ se\nScore: 0\nWhat letter do you guess? \nYour word is: _ _ _ ees\nScore: 0\nWhat letter do you guess? \nYour word is: _ _ eese\nScore: 0\nWhat letter do you guess? \nYour word is: _ hesee\nScore: 0\nWhat letter do you guess? \nYour word is: ceseeh\nScore: 0\nGameover!\n</code></pre>\n<p>Thank you. If any more information is needed please comment and tell me!</p>\n"},{"tags":["java","openapi-generator"],"owner":{"account_id":5240347,"reputation":93,"user_id":4187627,"display_name":"sticker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1271,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":0,"score":6,"last_activity_date":1638730863,"creation_date":1638730863,"question_id":70237579,"body_markdown":"I&#39;m trying to generate Java model with inheritance (Open API 2.0).\r\nThe problem is similar to this one: https://stackoverflow.com/questions/57771534/how-do-you-have-the-maven-swagger-codegen-plugin-generate-java-classes-using-inh\r\n\r\nI  want to achieve inheritance without **discriminator** attribute. Why this field has to be pointed in the parent class? Moreover according to docs:\r\n\r\n&gt; The discriminator Fixed Field must reference a property from the same\r\n&gt; schema, and that it must be a required property\r\n\r\nI DO NOT want to point any required fields. I just want to obtain inheritance. Is there any other way to do that? I know some &quot;workaround&quot; would be to change level of attributes:\r\n\r\n    &quot;Child&quot;: {\r\n      &quot;allOf&quot;: [\r\n        {&quot;$ref&quot;: &quot;#/components/schemas/Parent&quot;},\r\n      ],\r\n      &quot;properties&quot;: {.......}\r\n    }\r\n\r\nBut this is rather against the specs. Most surprising part is it works for openapi-generator-maven-plugin but in this time doesn&#39;t generate the correct code if we put &quot;required&quot; list. List of required fields will be omitted but inheritance will generate correctly.\r\n\r\nIs there any other way to generate the proper inheritance **without discriminator?**","title":"How to implement inheritance with openapi-generator-maven-plugin","body":"<p>I'm trying to generate Java model with inheritance (Open API 2.0).\nThe problem is similar to this one: <a href=\"https://stackoverflow.com/questions/57771534/how-do-you-have-the-maven-swagger-codegen-plugin-generate-java-classes-using-inh\">How do you have the maven swagger codegen plugin generate Java classes using inheritance?</a></p>\n<p>I  want to achieve inheritance without <strong>discriminator</strong> attribute. Why this field has to be pointed in the parent class? Moreover according to docs:</p>\n<blockquote>\n<p>The discriminator Fixed Field must reference a property from the same\nschema, and that it must be a required property</p>\n</blockquote>\n<p>I DO NOT want to point any required fields. I just want to obtain inheritance. Is there any other way to do that? I know some &quot;workaround&quot; would be to change level of attributes:</p>\n<pre><code>&quot;Child&quot;: {\n  &quot;allOf&quot;: [\n    {&quot;$ref&quot;: &quot;#/components/schemas/Parent&quot;},\n  ],\n  &quot;properties&quot;: {.......}\n}\n</code></pre>\n<p>But this is rather against the specs. Most surprising part is it works for openapi-generator-maven-plugin but in this time doesn't generate the correct code if we put &quot;required&quot; list. List of required fields will be omitted but inheritance will generate correctly.</p>\n<p>Is there any other way to generate the proper inheritance <strong>without discriminator?</strong></p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":0,"creation_date":1638715883,"post_id":70235201,"comment_id":124156439,"body_markdown":"You could add this map as parameter to your constructor and check there if map is null. This would work with `ACCEPT_EMPTY_ARRAY_AS_NULL_OBJECT`. And there would be no need for `JsonSetter`","body":"You could add this map as parameter to your constructor and check there if map is null. This would work with <code>ACCEPT_EMPTY_ARRAY_AS_NULL_OBJECT</code>. And there would be no need for <code>JsonSetter</code>"},{"owner":{"account_id":889674,"reputation":1533,"user_id":928203,"accept_rate":100,"display_name":"Scott Crooks"},"score":0,"creation_date":1638718638,"post_id":70235201,"comment_id":124157024,"body_markdown":"Thanks for the suggestion. I&#39;m trying to see if there&#39;s a way to do this in Jackson natively. I could do that, but I don&#39;t like explicitly passing `null` into the constructor if I don&#39;t have to.","body":"Thanks for the suggestion. I&#39;m trying to see if there&#39;s a way to do this in Jackson natively. I could do that, but I don&#39;t like explicitly passing <code>null</code> into the constructor if I don&#39;t have to."},{"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"score":0,"creation_date":1638729374,"post_id":70235201,"comment_id":124159933,"body_markdown":"Is there now some mixup with MyClass &amp; MyOtherClass?","body":"Is there now some mixup with MyClass &amp; MyOtherClass?"}],"answers":[{"tags":[],"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638730614,"creation_date":1638720748,"answer_id":70236124,"question_id":70235201,"body_markdown":"Just to summarize (I believe it was clear from the start): as error states the problem is that Jackson tries to deserialize field as TreeMap which is not going to work since the in JSON there is an array `[]`.\r\n\r\nHowever your setter seems a bit odd to me. I believe you should have something like this (updated based on your comment and update):\r\n\r\n    @JsonSetter(&quot;otherThings&quot;)\r\n\tpublic void setOtherThings(MyOtherClass[] arr) {\r\n\t\tthis.otherThings = List.of(Optional.ofNullable(arr)\r\n                .orElse(new MyOtherClass[0])).stream()\r\n\t\t\t.collect(Collectors.toMap(MyOtherClass::getId, Function.identity(),\r\n                    (o1, o2) -&gt; o1, TreeMap::new));\r\n\t}\r\nOf course you should also handle the case when the array is not empty.","title":"Deserialize empty JSON array into empty TreeMap","body":"<p>Just to summarize (I believe it was clear from the start): as error states the problem is that Jackson tries to deserialize field as TreeMap which is not going to work since the in JSON there is an array <code>[]</code>.</p>\n<p>However your setter seems a bit odd to me. I believe you should have something like this (updated based on your comment and update):</p>\n<pre><code>@JsonSetter(&quot;otherThings&quot;)\npublic void setOtherThings(MyOtherClass[] arr) {\n    this.otherThings = List.of(Optional.ofNullable(arr)\n            .orElse(new MyOtherClass[0])).stream()\n        .collect(Collectors.toMap(MyOtherClass::getId, Function.identity(),\n                (o1, o2) -&gt; o1, TreeMap::new));\n}\n</code></pre>\n<p>Of course you should also handle the case when the array is not empty.</p>\n"}],"owner":{"account_id":889674,"reputation":1533,"user_id":928203,"accept_rate":100,"display_name":"Scott Crooks"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70236124,"answer_count":1,"score":2,"last_activity_date":1638730614,"creation_date":1638713757,"question_id":70235201,"body_markdown":"I&#39;m new to Java, and I&#39;m wondering how to deserialize an empty JSON array into an empty Java object of type `TreeMap&lt;String, MyOtherClass&gt;`.\r\n\r\nCurrently, I&#39;m attempting to deserialize a JSON file with an array of objects, and each object into a class called `MyClass`. The class is roughly as follows:\r\n\r\n```java\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class MyClass {\r\n\r\n  private final String propertyOne;\r\n  private final String propertyTwo;\r\n  private final String propertyThree;\r\n\r\n  @JsonSerialize(contentAs = MyOtherClass.class)\r\n  @JsonDeserialize(contentAs = MyOtherClass.class)\r\n  TreeMap&lt;String, MyOtherClass&gt; otherThings = new TreeMap&lt;&gt;();\r\n\r\n  @JsonCreator\r\n  public MyClass(\r\n      @JsonProperty(&quot;propertyOne&quot;) String propertyOne,\r\n      @JsonProperty(&quot;propertyTwo&quot;) String propertyTwo,\r\n      @JsonProperty(&quot;propertyThree&quot;) String propertyThree) {\r\n    this.propertyOne = propertyOne;\r\n    this.propertyTwo = propertyTwo;\r\n    this.propertyThree = propertyThree;\r\n\r\n  // Getters and setters below\r\n  @JsonSetter(&quot;otherThings&quot;)\r\n  public void setOtherThings() {\r\n    if (this.otherThings == null || this.otherThings.isEmpty()) {\r\n      this.otherThings = new TreeMap&lt;&gt;();\r\n    }\r\n  }\r\n  }\r\n}\r\n```\r\n\r\nOne of the entries in the original JSON is this field `otherThings`. I&#39;ve represented this entry using `MyOtherClass`, which handles the properties that `otherThings` could contain.\r\n\r\nCurrently, this works perfect for _serialization_, and for deserialization when `otherThings` is populated. However, when I have something like the following:\r\n\r\n```json\r\n{\r\n  &quot;propertyOne&quot;: &quot;This is propertyOne!&quot;,\r\n  &quot;propertyTwo&quot;: &quot;This is propertyTwo!&quot;,\r\n  &quot;propertyThree&quot;: &quot;This is propertyThree!&quot;,\r\n  &quot;otherThings&quot;: []\r\n}\r\n```\r\n\r\nI get the following stack trace:\r\n\r\n```none\r\ncom.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.util.TreeMap&lt;java.lang.String,org.something.model.MyOtherClass&gt;` from Array value (token `JsonToken.START_ARRAY`)\r\n at [Source: (URL); line: 7, column: 14] (through reference chain: java.util.ArrayList[0]-&gt;org.something.model.Order[&quot;lines&quot;])\r\n\tat com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1741)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1515)\r\n\tat com.fasterxml.jackson.databind.deser.std.StdDeserializer._deserializeFromArray(StdDeserializer.java:222)\r\n\tat com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:447)\r\n\tat com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)\r\n\tat com.fasterxml.jackson.databind.deser.impl.FieldProperty.deserializeAndSet(FieldProperty.java:138)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:277)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeUsingPropertyBased(BeanDeserializer.java:462)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromObjectUsingNonDefault(BeanDeserializerBase.java:1405)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:351)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:184)\r\n\tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer._deserializeFromArray(CollectionDeserializer.java:355)\r\n\tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:244)\r\n\tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:28)\r\n\tat com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:322)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4675)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3572)\r\n\tat org.something.model.MyClass.populateMyClassFromJson(MyClass.java:148)\r\n\tat org.something.service.MyClassService.displayMyClassObject(MyClassService.java:96)\r\n\tat Main.main(Main.java:9)\r\n```\r\n\r\nI&#39;ve tried:\r\n- Using `ObjectMapper.enable(DeserializationFeature.ACCEPT_EMPTY_ARRAY_AS_NULL_OBJECT)`, but that doesn&#39;t really help since `otherThings` gets instantiated as `null`.\r\n- Using the `JsonSetter` for `setOtherThings` you see above. This has to be careful because I don&#39;t want to overwrite `otherThings` if it already contains things inside of it.\r\n\r\n\r\n**EDIT:** Here&#39;s also the method `populateMyClassFromJson` if it helps:\r\n\r\n```java\r\npublic void populateMyClassFromJson() throws IOException {\r\n  List&lt;MyClass&gt; myClassList = mapper.readValue(new File(&quot;/path/to/my_classes.json&quot;), new TypeReference&lt;&gt;() {});\r\n  Map&lt;String, MyClass&gt; myClassMap = myClassList.stream().collect(Collectors.toMap(MyClass::getId, Function.identity()));\r\n  myClassTreeMap.putAll(myClassMap);\r\n}\r\n```","title":"Deserialize empty JSON array into empty TreeMap","body":"<p>I'm new to Java, and I'm wondering how to deserialize an empty JSON array into an empty Java object of type <code>TreeMap&lt;String, MyOtherClass&gt;</code>.</p>\n<p>Currently, I'm attempting to deserialize a JSON file with an array of objects, and each object into a class called <code>MyClass</code>. The class is roughly as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class MyClass {\n\n  private final String propertyOne;\n  private final String propertyTwo;\n  private final String propertyThree;\n\n  @JsonSerialize(contentAs = MyOtherClass.class)\n  @JsonDeserialize(contentAs = MyOtherClass.class)\n  TreeMap&lt;String, MyOtherClass&gt; otherThings = new TreeMap&lt;&gt;();\n\n  @JsonCreator\n  public MyClass(\n      @JsonProperty(&quot;propertyOne&quot;) String propertyOne,\n      @JsonProperty(&quot;propertyTwo&quot;) String propertyTwo,\n      @JsonProperty(&quot;propertyThree&quot;) String propertyThree) {\n    this.propertyOne = propertyOne;\n    this.propertyTwo = propertyTwo;\n    this.propertyThree = propertyThree;\n\n  // Getters and setters below\n  @JsonSetter(&quot;otherThings&quot;)\n  public void setOtherThings() {\n    if (this.otherThings == null || this.otherThings.isEmpty()) {\n      this.otherThings = new TreeMap&lt;&gt;();\n    }\n  }\n  }\n}\n</code></pre>\n<p>One of the entries in the original JSON is this field <code>otherThings</code>. I've represented this entry using <code>MyOtherClass</code>, which handles the properties that <code>otherThings</code> could contain.</p>\n<p>Currently, this works perfect for <em>serialization</em>, and for deserialization when <code>otherThings</code> is populated. However, when I have something like the following:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;propertyOne&quot;: &quot;This is propertyOne!&quot;,\n  &quot;propertyTwo&quot;: &quot;This is propertyTwo!&quot;,\n  &quot;propertyThree&quot;: &quot;This is propertyThree!&quot;,\n  &quot;otherThings&quot;: []\n}\n</code></pre>\n<p>I get the following stack trace:</p>\n<pre class=\"lang-none prettyprint-override\"><code>com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.util.TreeMap&lt;java.lang.String,org.something.model.MyOtherClass&gt;` from Array value (token `JsonToken.START_ARRAY`)\n at [Source: (URL); line: 7, column: 14] (through reference chain: java.util.ArrayList[0]-&gt;org.something.model.Order[&quot;lines&quot;])\n    at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)\n    at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1741)\n    at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1515)\n    at com.fasterxml.jackson.databind.deser.std.StdDeserializer._deserializeFromArray(StdDeserializer.java:222)\n    at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:447)\n    at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)\n    at com.fasterxml.jackson.databind.deser.impl.FieldProperty.deserializeAndSet(FieldProperty.java:138)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:277)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeUsingPropertyBased(BeanDeserializer.java:462)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromObjectUsingNonDefault(BeanDeserializerBase.java:1405)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:351)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:184)\n    at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer._deserializeFromArray(CollectionDeserializer.java:355)\n    at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:244)\n    at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:28)\n    at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:322)\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4675)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3572)\n    at org.something.model.MyClass.populateMyClassFromJson(MyClass.java:148)\n    at org.something.service.MyClassService.displayMyClassObject(MyClassService.java:96)\n    at Main.main(Main.java:9)\n</code></pre>\n<p>I've tried:</p>\n<ul>\n<li>Using <code>ObjectMapper.enable(DeserializationFeature.ACCEPT_EMPTY_ARRAY_AS_NULL_OBJECT)</code>, but that doesn't really help since <code>otherThings</code> gets instantiated as <code>null</code>.</li>\n<li>Using the <code>JsonSetter</code> for <code>setOtherThings</code> you see above. This has to be careful because I don't want to overwrite <code>otherThings</code> if it already contains things inside of it.</li>\n</ul>\n<p><strong>EDIT:</strong> Here's also the method <code>populateMyClassFromJson</code> if it helps:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void populateMyClassFromJson() throws IOException {\n  List&lt;MyClass&gt; myClassList = mapper.readValue(new File(&quot;/path/to/my_classes.json&quot;), new TypeReference&lt;&gt;() {});\n  Map&lt;String, MyClass&gt; myClassMap = myClassList.stream().collect(Collectors.toMap(MyClass::getId, Function.identity()));\n  myClassTreeMap.putAll(myClassMap);\n}\n</code></pre>\n"},{"tags":["java","user-interface"],"answers":[{"tags":[],"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638729914,"creation_date":1638729914,"answer_id":70237451,"question_id":70236953,"body_markdown":"Probably you should first create a class to hold the information get from the user inputs (TicketRequest.class) and handle an object with the data to the new GUI.\r\n\r\nCode idea:\r\n\r\n     button.addActionListener(e -&gt; {\r\n                TicketRequest tr = new TicketRequest();\r\n                tr.setName(firstNameuserText.getText());\r\n                // ...\r\n                GUInew guiNew = new GUInew(tr);\r\n                guiNew.setVisible(true);\r\n                \r\n            \r\n            });\r\n\r\nThe GUInew class may extend a JFrame.","title":"Trying to figure out how to print what user picks from this GUI code on to another GUI","body":"<p>Probably you should first create a class to hold the information get from the user inputs (TicketRequest.class) and handle an object with the data to the new GUI.</p>\n<p>Code idea:</p>\n<pre><code> button.addActionListener(e -&gt; {\n            TicketRequest tr = new TicketRequest();\n            tr.setName(firstNameuserText.getText());\n            // ...\n            GUInew guiNew = new GUInew(tr);\n            guiNew.setVisible(true);\n            \n        \n        });\n</code></pre>\n<p>The GUInew class may extend a JFrame.</p>\n"}],"owner":{"account_id":21683933,"reputation":79,"user_id":15999655,"display_name":"Junior"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70237451,"answer_count":1,"score":0,"last_activity_date":1638729914,"creation_date":1638726336,"question_id":70236953,"body_markdown":"Trying to figure out how to print what the user picks from this GUI onto another GUI and make it look like an airline ticket or receipt. I&#39;m pretty sure I can design the airline ticket GUI. I&#39;m having trouble coming up with code that would take whatever the user inputs and picks from the GUI code below and print it to another GUI.\r\n\r\n```package AirlineTicketSystem;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JComboBox;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JTextField;\r\nimport javax.swing.WindowConstants;\r\n\r\npublic class GUI implements ActionListener {\r\n\r\n\tprivate static JLabel firstNamelabel, lastNamelabel, fromLabel, toLabel, adultLabel, childrenLabel, bookingDate, LDate, classLabel, passengerDetails;\r\n\tprivate static JTextField firstNameuserText, lastNameuserText, bookingDateText;\r\n\tprivate static JComboBox fromCombo, toCombo, adultCombo, childrenCombo, classCombo;\r\n\tprivate static JButton button;\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tJPanel panel = new JPanel();\r\n\t\tJFrame frame = new JFrame();\r\n\t\tframe.setSize(400, 400);\r\n\t\tframe.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n\r\n\t\tframe.add(panel);\r\n\r\n\t\tpanel.setLayout(null);\r\n\r\n\r\n\t\tString[] sItem1 = { &quot;New York&quot; };\r\n\t\tString[] sItem2 = { &quot;Florida &quot;, &quot;California &quot;, &quot;Texas &quot;, &quot;Chicago &quot;, &quot;Nevada &quot;, &quot;Ohio &quot;, &quot;Washington &quot;,&quot;Georgia &quot; };\r\n\t\tString[] sItem3 = { &quot;Economic&quot;, &quot;Business&quot; };\r\n\t\tString[] item4 = { &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot; };\r\n\t\tString[] item5 = { &quot;0&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot; };\r\n\r\n\t\tpassengerDetails = new JLabel(&quot;Passenger Details&quot;);\r\n\t\tpassengerDetails.setBounds(10, 1, 150, 25);\r\n\t\tpassengerDetails.setForeground(Color.blue);\r\n\t\tpanel.add(passengerDetails);\r\n\r\n\t\tfirstNamelabel = new JLabel(&quot;First Name&quot;);\r\n\t\tfirstNamelabel.setBounds(10, 40, 80, 25); // x,y,width,height\r\n\t\tpanel.add(firstNamelabel);\r\n\r\n\t\tfirstNameuserText = new JTextField(20);\r\n\t\tfirstNameuserText.setBounds(100, 40, 165, 25);\r\n\t\tpanel.add(firstNameuserText);\r\n\r\n\t\tlastNamelabel = new JLabel(&quot;Last Name&quot;);\r\n\t\tlastNamelabel.setBounds(10, 65, 80, 25);\r\n\t\tpanel.add(lastNamelabel);\r\n\r\n\t\tlastNameuserText = new JTextField(20);\r\n\t\tlastNameuserText.setBounds(100, 65, 165, 25);\r\n\t\tpanel.add(lastNameuserText);\r\n\r\n\t\tfromLabel = new JLabel(&quot;From&quot;);\r\n\t\tfromLabel.setBounds(10, 110, 80, 25);\r\n\t\tpanel.add(fromLabel);\r\n\r\n\t\tfromCombo = new JComboBox(sItem1);\r\n\t\tfromCombo.setBounds(50, 110, 125, 25);\r\n\t\tpanel.add(fromCombo);\r\n\r\n\t\ttoLabel = new JLabel(&quot;To&quot;);\r\n\t\ttoLabel.setBounds(150, 110, 80, 25);\r\n\t\tpanel.add(toLabel);\r\n\r\n\t\ttoCombo = new JComboBox(sItem2);\r\n\t\ttoCombo.setBounds(175, 110, 125, 25);\r\n\t\tpanel.add(toCombo);\r\n\r\n\t\tadultLabel = new JLabel(&quot;Adult(12+)&quot;);\r\n\t\tadultLabel.setBounds(10, 150, 80, 25);\r\n\t\tpanel.add(adultLabel);\r\n\r\n\t\tadultCombo = new JComboBox(item4);\r\n\t\tadultCombo.setBounds(10, 175, 80, 25);\r\n\t\tpanel.add(adultCombo);\r\n\r\n\t\tchildrenLabel = new JLabel(&quot;Children(2-11)&quot;);\r\n\t\tchildrenLabel.setBounds(150, 150, 100, 25);\r\n\t\tpanel.add(childrenLabel);\r\n\r\n\t\tchildrenCombo = new JComboBox(item5);\r\n\t\tchildrenCombo.setBounds(150, 175, 80, 25);\r\n\t\tpanel.add(childrenCombo);\r\n\r\n\t\tbookingDate = new JLabel(&quot;Booking Date&quot;);\r\n\t\tbookingDate.setBounds(10, 225, 100, 25);\r\n\t\tpanel.add(bookingDate);\r\n\r\n\t\tbookingDateText = new JTextField(20);\r\n\t\tbookingDateText.setBounds(100, 225, 140, 25);\r\n\t\tpanel.add(bookingDateText);\r\n\r\n\t\tLDate = new JLabel(&quot;(MM/DD/YYYY)&quot;);\r\n\t\tLDate.setBounds(250, 225, 300, 25);\r\n\t\tLDate.setForeground(Color.red);\r\n\t\tpanel.add(LDate);\r\n\r\n\t\tclassLabel = new JLabel(&quot;Class&quot;);\r\n\t\tclassLabel.setBounds(10, 275, 80, 25);\r\n\t\tpanel.add(classLabel);\r\n\r\n\t\tclassCombo = new JComboBox(sItem3);\r\n\t\tclassCombo.setBounds(60, 275, 125, 25);\r\n\t\tpanel.add(classCombo);\r\n\r\n\t\tbutton = new JButton(&quot;Make Reservation&quot;);\r\n\t\tbutton.setBounds(120, 325, 175, 25);\r\n\t\tbutton.addActionListener(new GUI());\r\n\t\tpanel.add(button);\r\n\r\n\t\tpanel.setBackground(Color.lightGray);\r\n\r\n\t\tframe.setVisible(true);\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\tString FirstName = firstNameuserText.getText();\r\n\t\tString LastName = lastNameuserText.getText();\r\n\r\n\t}\r\n\r\n}\r\n```","title":"Trying to figure out how to print what user picks from this GUI code on to another GUI","body":"<p>Trying to figure out how to print what the user picks from this GUI onto another GUI and make it look like an airline ticket or receipt. I'm pretty sure I can design the airline ticket GUI. I'm having trouble coming up with code that would take whatever the user inputs and picks from the GUI code below and print it to another GUI.</p>\n<pre><code>\nimport java.awt.Color;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.JButton;\nimport javax.swing.JComboBox;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\nimport javax.swing.WindowConstants;\n\npublic class GUI implements ActionListener {\n\n    private static JLabel firstNamelabel, lastNamelabel, fromLabel, toLabel, adultLabel, childrenLabel, bookingDate, LDate, classLabel, passengerDetails;\n    private static JTextField firstNameuserText, lastNameuserText, bookingDateText;\n    private static JComboBox fromCombo, toCombo, adultCombo, childrenCombo, classCombo;\n    private static JButton button;\n\n    public static void main(String[] args) {\n\n        JPanel panel = new JPanel();\n        JFrame frame = new JFrame();\n        frame.setSize(400, 400);\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n\n        frame.add(panel);\n\n        panel.setLayout(null);\n\n\n        String[] sItem1 = { &quot;New York&quot; };\n        String[] sItem2 = { &quot;Florida &quot;, &quot;California &quot;, &quot;Texas &quot;, &quot;Chicago &quot;, &quot;Nevada &quot;, &quot;Ohio &quot;, &quot;Washington &quot;,&quot;Georgia &quot; };\n        String[] sItem3 = { &quot;Economic&quot;, &quot;Business&quot; };\n        String[] item4 = { &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot; };\n        String[] item5 = { &quot;0&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot; };\n\n        passengerDetails = new JLabel(&quot;Passenger Details&quot;);\n        passengerDetails.setBounds(10, 1, 150, 25);\n        passengerDetails.setForeground(Color.blue);\n        panel.add(passengerDetails);\n\n        firstNamelabel = new JLabel(&quot;First Name&quot;);\n        firstNamelabel.setBounds(10, 40, 80, 25); // x,y,width,height\n        panel.add(firstNamelabel);\n\n        firstNameuserText = new JTextField(20);\n        firstNameuserText.setBounds(100, 40, 165, 25);\n        panel.add(firstNameuserText);\n\n        lastNamelabel = new JLabel(&quot;Last Name&quot;);\n        lastNamelabel.setBounds(10, 65, 80, 25);\n        panel.add(lastNamelabel);\n\n        lastNameuserText = new JTextField(20);\n        lastNameuserText.setBounds(100, 65, 165, 25);\n        panel.add(lastNameuserText);\n\n        fromLabel = new JLabel(&quot;From&quot;);\n        fromLabel.setBounds(10, 110, 80, 25);\n        panel.add(fromLabel);\n\n        fromCombo = new JComboBox(sItem1);\n        fromCombo.setBounds(50, 110, 125, 25);\n        panel.add(fromCombo);\n\n        toLabel = new JLabel(&quot;To&quot;);\n        toLabel.setBounds(150, 110, 80, 25);\n        panel.add(toLabel);\n\n        toCombo = new JComboBox(sItem2);\n        toCombo.setBounds(175, 110, 125, 25);\n        panel.add(toCombo);\n\n        adultLabel = new JLabel(&quot;Adult(12+)&quot;);\n        adultLabel.setBounds(10, 150, 80, 25);\n        panel.add(adultLabel);\n\n        adultCombo = new JComboBox(item4);\n        adultCombo.setBounds(10, 175, 80, 25);\n        panel.add(adultCombo);\n\n        childrenLabel = new JLabel(&quot;Children(2-11)&quot;);\n        childrenLabel.setBounds(150, 150, 100, 25);\n        panel.add(childrenLabel);\n\n        childrenCombo = new JComboBox(item5);\n        childrenCombo.setBounds(150, 175, 80, 25);\n        panel.add(childrenCombo);\n\n        bookingDate = new JLabel(&quot;Booking Date&quot;);\n        bookingDate.setBounds(10, 225, 100, 25);\n        panel.add(bookingDate);\n\n        bookingDateText = new JTextField(20);\n        bookingDateText.setBounds(100, 225, 140, 25);\n        panel.add(bookingDateText);\n\n        LDate = new JLabel(&quot;(MM/DD/YYYY)&quot;);\n        LDate.setBounds(250, 225, 300, 25);\n        LDate.setForeground(Color.red);\n        panel.add(LDate);\n\n        classLabel = new JLabel(&quot;Class&quot;);\n        classLabel.setBounds(10, 275, 80, 25);\n        panel.add(classLabel);\n\n        classCombo = new JComboBox(sItem3);\n        classCombo.setBounds(60, 275, 125, 25);\n        panel.add(classCombo);\n\n        button = new JButton(&quot;Make Reservation&quot;);\n        button.setBounds(120, 325, 175, 25);\n        button.addActionListener(new GUI());\n        panel.add(button);\n\n        panel.setBackground(Color.lightGray);\n\n        frame.setVisible(true);\n\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        String FirstName = firstNameuserText.getText();\n        String LastName = lastNameuserText.getText();\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","option-type"],"comments":[{"owner":{"account_id":7119515,"reputation":6055,"user_id":5444618,"accept_rate":83,"display_name":"Guillaume F."},"score":2,"creation_date":1638726937,"post_id":70236749,"comment_id":124159311,"body_markdown":"use flatMap to chain your Optionals into one fluent chain; and the if to filters.","body":"use flatMap to chain your Optionals into one fluent chain; and the if to filters."},{"owner":{"account_id":13006738,"reputation":2531,"user_id":9401029,"display_name":"karvai"},"score":0,"creation_date":1638728068,"post_id":70236749,"comment_id":124159589,"body_markdown":"@GuillaumeF. Could you show an example please.","body":"@GuillaumeF. Could you show an example please."}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638729444,"creation_date":1638729444,"answer_id":70237375,"question_id":70236749,"body_markdown":"Using `Optional::flatMap` and [`Optional::ifPresentOrElse`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Optional.html#ifPresentOrElse(java.util.function.Consumer,java.lang.Runnable)) the following solution may be offered:\r\n```java\r\nOptional.ofNullable(responseEntity.getBody())\r\n    .flatMap(body -&gt; SimpleResponses.getSimpleResponses(body) // SimpleResponses\r\n        .getSimpleResponsesList()\r\n        .stream() // Stream&lt;SimpleResponse&gt;\r\n        .filter(sr -&gt; &quot;200&quot;.equals(sr.getHtppCode()))\r\n        .findAny() // Optional&lt;SimpleResponse&gt;\r\n    )\r\n    .ifPresentOrElse( // Java 9\r\n        System.out::println, \r\n        () -&gt; { throw new CustomRuntimeException(&quot;Bad response&quot;); }\r\n    );\r\n```\r\n\r\nFor Java 8, [`Optional::orElseThrow`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Optional.html#orElseThrow(java.util.function.Supplier)) may be used:\r\n```java\r\nSimpleResponse good = Optional.ofNullable(responseEntity.getBody())\r\n    .flatMap(body -&gt; SimpleResponses.getSimpleResponses(body) // SimpleResponses\r\n        .getSimpleResponsesList()\r\n        .stream() // Stream&lt;SimpleResponse&gt;\r\n        .filter(sr -&gt; &quot;200&quot;.equals(sr.getHtppCode()))\r\n        .findAny() // Optional&lt;SimpleResponse&gt;\r\n    )\r\n    .orElseThrow(() -&gt; new CustomRuntimeException(&quot;Bad response&quot;));\r\n\r\nSystem.out.println(good);\r\n```","title":"How to reduce Optionals to throw an error once","body":"<p>Using <code>Optional::flatMap</code> and <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Optional.html#ifPresentOrElse(java.util.function.Consumer,java.lang.Runnable)\" rel=\"nofollow noreferrer\"><code>Optional::ifPresentOrElse</code></a> the following solution may be offered:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Optional.ofNullable(responseEntity.getBody())\n    .flatMap(body -&gt; SimpleResponses.getSimpleResponses(body) // SimpleResponses\n        .getSimpleResponsesList()\n        .stream() // Stream&lt;SimpleResponse&gt;\n        .filter(sr -&gt; &quot;200&quot;.equals(sr.getHtppCode()))\n        .findAny() // Optional&lt;SimpleResponse&gt;\n    )\n    .ifPresentOrElse( // Java 9\n        System.out::println, \n        () -&gt; { throw new CustomRuntimeException(&quot;Bad response&quot;); }\n    );\n</code></pre>\n<p>For Java 8, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Optional.html#orElseThrow(java.util.function.Supplier)\" rel=\"nofollow noreferrer\"><code>Optional::orElseThrow</code></a> may be used:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SimpleResponse good = Optional.ofNullable(responseEntity.getBody())\n    .flatMap(body -&gt; SimpleResponses.getSimpleResponses(body) // SimpleResponses\n        .getSimpleResponsesList()\n        .stream() // Stream&lt;SimpleResponse&gt;\n        .filter(sr -&gt; &quot;200&quot;.equals(sr.getHtppCode()))\n        .findAny() // Optional&lt;SimpleResponse&gt;\n    )\n    .orElseThrow(() -&gt; new CustomRuntimeException(&quot;Bad response&quot;));\n\nSystem.out.println(good);\n</code></pre>\n"}],"owner":{"account_id":13006738,"reputation":2531,"user_id":9401029,"display_name":"karvai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70237375,"answer_count":1,"score":1,"last_activity_date":1638729444,"creation_date":1638725053,"question_id":70236749,"body_markdown":"I have the following response coming from a rest call and performing some logic based on what is returned. \r\n\r\nThis is what I want. \r\n\r\nIf the overall status code is NOT 200 OR \r\nIf within the list of `SimpleResponse`, none of the `SimpleResponse` objects has a 200 `httpCode`, throw an error. \r\n\r\nThe example below is incomplete. \r\n\r\n 1. Too much going on there, having an optional within another optional.\r\n 2. And then throwing the same error at 2 different places.\r\n 3. Also if the optional result is null say at\r\n    `responseEntity.getBody()`, would want to throw same error too.\r\n\r\nIs there a cleaner way to write this? \r\n\r\nThese are the 2 related objects\r\n\r\n    @Getter\r\n    @Setter\r\n    public class SimpleResponses {\r\n        private List&lt;SimpleResponse&gt; simpleResponsesList;\r\n    }\r\n    \r\n    @Getter\r\n    @Setter\r\n    public class SimpleResponse {\r\n        private String httpCode;\r\n        // ... other fields\r\n    }\r\n\r\nMethod calling rest call and throwing error if needed. \r\n\r\n    public ResponseEntity&lt;SimpleResponses&gt; get() {\r\n    \r\n        HttpEntity&lt;Object&gt; httpEntity = this.getEntity();\r\n        // restTemplate is from Spring\r\n        ResponseEntity&lt;SimpleResponses&gt; responseEntity = restTemplate.exchange(url, HttpMethod.GET, httpEntity, SimpleResponses.class);\r\n    \r\n    \r\n    // START\r\n    // This is the logic to throw error depending on output as mentioned above.\r\n    // looking for a better way to write this. \r\n    \r\n        // if none of the object inside the list has 200 code, throw error\r\n        Optional.ofNullable(responseEntity.getBody())\r\n                .map(SimpleResponses::getSimpleResponses)\r\n                .ifPresent(response -&gt; {\r\n                    Optional&lt;SimpleResponse&gt; simpleResponse = response.stream()\r\n                            .filter(responseStream -&gt; responseStream.getHttpCode().equals(&quot;200&quot;))\r\n                            .findAny();\r\n                    if (!simpleResponse.isPresent()) {\r\n                        throw new CustomRuntimeException(&quot;Failed ..... &quot;); // repetitive same error being thrown again below.\r\n                    }\r\n                });\r\n    \r\n        // if overall code is not 200, throw error too \r\n        if (!responseEntity.getStatusCode().is2xxSuccessful()) {\r\n            throw new CustomRuntimeException(&quot;Failed ..... &quot;);\r\n        }\r\n    \r\n    // END\r\n    \r\n    \r\n        return responseEntity;\r\n    }","title":"How to reduce Optionals to throw an error once","body":"<p>I have the following response coming from a rest call and performing some logic based on what is returned.</p>\n<p>This is what I want.</p>\n<p>If the overall status code is NOT 200 OR\nIf within the list of <code>SimpleResponse</code>, none of the <code>SimpleResponse</code> objects has a 200 <code>httpCode</code>, throw an error.</p>\n<p>The example below is incomplete.</p>\n<ol>\n<li>Too much going on there, having an optional within another optional.</li>\n<li>And then throwing the same error at 2 different places.</li>\n<li>Also if the optional result is null say at\n<code>responseEntity.getBody()</code>, would want to throw same error too.</li>\n</ol>\n<p>Is there a cleaner way to write this?</p>\n<p>These are the 2 related objects</p>\n<pre><code>@Getter\n@Setter\npublic class SimpleResponses {\n    private List&lt;SimpleResponse&gt; simpleResponsesList;\n}\n\n@Getter\n@Setter\npublic class SimpleResponse {\n    private String httpCode;\n    // ... other fields\n}\n</code></pre>\n<p>Method calling rest call and throwing error if needed.</p>\n<pre><code>public ResponseEntity&lt;SimpleResponses&gt; get() {\n\n    HttpEntity&lt;Object&gt; httpEntity = this.getEntity();\n    // restTemplate is from Spring\n    ResponseEntity&lt;SimpleResponses&gt; responseEntity = restTemplate.exchange(url, HttpMethod.GET, httpEntity, SimpleResponses.class);\n\n\n// START\n// This is the logic to throw error depending on output as mentioned above.\n// looking for a better way to write this. \n\n    // if none of the object inside the list has 200 code, throw error\n    Optional.ofNullable(responseEntity.getBody())\n            .map(SimpleResponses::getSimpleResponses)\n            .ifPresent(response -&gt; {\n                Optional&lt;SimpleResponse&gt; simpleResponse = response.stream()\n                        .filter(responseStream -&gt; responseStream.getHttpCode().equals(&quot;200&quot;))\n                        .findAny();\n                if (!simpleResponse.isPresent()) {\n                    throw new CustomRuntimeException(&quot;Failed ..... &quot;); // repetitive same error being thrown again below.\n                }\n            });\n\n    // if overall code is not 200, throw error too \n    if (!responseEntity.getStatusCode().is2xxSuccessful()) {\n        throw new CustomRuntimeException(&quot;Failed ..... &quot;);\n    }\n\n// END\n\n\n    return responseEntity;\n}\n</code></pre>\n"},{"tags":["java","linux","windows","time","platform"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1638713239,"post_id":70234424,"comment_id":124155826,"body_markdown":"Yes, there are differences in resolution between platforms and also between Java versions. And I would not count on those three values being always distinct on any platform. Your test may fail on Mac or Linux one day too.","body":"Yes, there are differences in resolution between platforms and also between Java versions. And I would not count on those three values being always distinct on any platform. Your test may fail on Mac or Linux one day too."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1638758183,"post_id":70234424,"comment_id":124165770,"body_markdown":"Does this answer your question? [Java 8 Instant.now() with nanosecond resolution?](https://stackoverflow.com/questions/20689055/java-8-instant-now-with-nanosecond-resolution)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/20689055/java-8-instant-now-with-nanosecond-resolution\">Java 8 Instant.now() with nanosecond resolution?</a>"}],"owner":{"account_id":1185653,"reputation":285,"user_id":1159690,"display_name":"OneRaccoonToRuleThemAll"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":523,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1638728765,"creation_date":1638708331,"question_id":70234424,"body_markdown":"In our codebase someone has written a test where we have something like this:\r\n```java\r\nvoid someTestFunc()\r\n{\r\n  SomeObject obj = createObject(); // SomeObject contains an Instant from when it was updated (UpdatedTime)\r\n\r\n  Instant before = Instant.now();\r\n  updateObject(obj); // mutated the timestamp in SomeObject\r\n  Instant after = Instant.now();\r\n\r\n  assertTrue(before.isBefore(obj.UpdatedTime()));\r\n  assertTrue(after.isAfter(obj.UpdatedTime));\r\n}\r\n```\r\n\r\nI&#39;m compiling and running these tests on Windows 10, while they are doing it on Mac/Linux, and they seem to always get increasing timestamps when calling Instant.now(), while I sometimes seem to get the same timestamp in a row (i.e. &#39;UpdatedTime&#39; and &#39;after&#39; is equal, but before is earlier). \r\n\r\nIf I try running the tests using WSL2, they all pass nicely, but I am unable to draw a proper conclusion as there is necessarily some slow down when executing through WSL2.\r\n\r\nThe asserts can of course be rearranged to make the tests pass, but that&#39;s not the issue I&#39;m curious about.\r\n\r\nIs there a difference in the resolution/reliability of the time services on the platforms (is Windows more prone to give two sequential equal timestamps), or could it be as trivial as my computer is newer and faster?\r\n","title":"java.time.Instant behavior on different platforms?","body":"<p>In our codebase someone has written a test where we have something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void someTestFunc()\n{\n  SomeObject obj = createObject(); // SomeObject contains an Instant from when it was updated (UpdatedTime)\n\n  Instant before = Instant.now();\n  updateObject(obj); // mutated the timestamp in SomeObject\n  Instant after = Instant.now();\n\n  assertTrue(before.isBefore(obj.UpdatedTime()));\n  assertTrue(after.isAfter(obj.UpdatedTime));\n}\n</code></pre>\n<p>I'm compiling and running these tests on Windows 10, while they are doing it on Mac/Linux, and they seem to always get increasing timestamps when calling Instant.now(), while I sometimes seem to get the same timestamp in a row (i.e. 'UpdatedTime' and 'after' is equal, but before is earlier).</p>\n<p>If I try running the tests using WSL2, they all pass nicely, but I am unable to draw a proper conclusion as there is necessarily some slow down when executing through WSL2.</p>\n<p>The asserts can of course be rearranged to make the tests pass, but that's not the issue I'm curious about.</p>\n<p>Is there a difference in the resolution/reliability of the time services on the platforms (is Windows more prone to give two sequential equal timestamps), or could it be as trivial as my computer is newer and faster?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":14668085,"reputation":173,"user_id":10593333,"display_name":"Danilа Maslennikov"},"score":0,"creation_date":1638732254,"post_id":70237285,"comment_id":124160682,"body_markdown":"You should provide more details. How do you load your resources (include the relevant code in your question)? What project structure do you have (including configuration of project modules and build artifacts)?","body":"You should provide more details. How do you load your resources (include the relevant code in your question)? What project structure do you have (including configuration of project modules and build artifacts)?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1639262924,"post_id":70237285,"comment_id":124305061,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":9445958,"reputation":1,"user_id":7024725,"display_name":"Omar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638728682,"creation_date":1638728682,"question_id":70237285,"body_markdown":"So I&#39;ve created a game in IntelliJ and I&#39;m trying to create an executable JAR for said game. The JAR compiles fine and runs fine, however it&#39;s a blank screen and only uses my score(which, when coded using JAVA Swing was using default fonts and no images).\r\n\r\nHere is said image of the above\r\n[1] [Image of blank screen when running standalone jar], I&#39;ve also confirmed that the resources are indeed within the JAR file\r\n\r\n\r\nWhen I run the JAR file in IntelliJ using run configurations, or even just right clicking where the jar file was(from IntelliJ sidebar), it uses the jar perfectly fine and runs it fine as well.\r\n\r\nHere are said images of how the game is supposed to look.\r\n\r\n[2] [running jar from intelliJ] \r\n\r\n\r\n[3] [begin screen]\r\n\r\n[4] [ingame]\r\n\r\n[5] [end screen]\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bw02Q.png\r\n  [2]: https://i.stack.imgur.com/snkr7.png\r\n  [3]: https://i.stack.imgur.com/tkRpH.png\r\n  [5]: https://i.stack.imgur.com/7YLXz.png\r\n  [4]: https://i.stack.imgur.com/1rGX1.png","title":"Creating and Running intellij JAR file works perfectly within intellij, however running standalone JAR uses no resources","body":"<p>So I've created a game in IntelliJ and I'm trying to create an executable JAR for said game. The JAR compiles fine and runs fine, however it's a blank screen and only uses my score(which, when coded using JAVA Swing was using default fonts and no images).</p>\n<p>Here is said image of the above\n<a href=\"https://i.stack.imgur.com/bw02Q.png\" rel=\"nofollow noreferrer\">1</a> [Image of blank screen when running standalone jar], I've also confirmed that the resources are indeed within the JAR file</p>\n<p>When I run the JAR file in IntelliJ using run configurations, or even just right clicking where the jar file was(from IntelliJ sidebar), it uses the jar perfectly fine and runs it fine as well.</p>\n<p>Here are said images of how the game is supposed to look.</p>\n<p><a href=\"https://i.stack.imgur.com/snkr7.png\" rel=\"nofollow noreferrer\">2</a> [running jar from intelliJ]</p>\n<p><a href=\"https://i.stack.imgur.com/tkRpH.png\" rel=\"nofollow noreferrer\">3</a> [begin screen]</p>\n<p><a href=\"https://i.stack.imgur.com/1rGX1.png\" rel=\"nofollow noreferrer\">4</a> [ingame]</p>\n<p><a href=\"https://i.stack.imgur.com/7YLXz.png\" rel=\"nofollow noreferrer\">5</a> [end screen]</p>\n"},{"tags":["java","class","lambda","functional-interface"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":2,"creation_date":1638722601,"post_id":70236308,"comment_id":124158094,"body_markdown":"It&#39;s valid code but very awkward to handle and I doubt that it&#39;s any improvement to conciseness. To actually push something into the deque you&#39;d have to call `push.test(block);` instead of just `push(block)` if you&#39;d defined that as a &quot;regular&quot; method instead. Code like this becomes confusing pretty fast. The other variables have the same issue, so I&#39;d say it&#39;s bad practice.","body":"It&#39;s valid code but very awkward to handle and I doubt that it&#39;s any improvement to conciseness. To actually push something into the deque you&#39;d have to call <code>push.test(block);</code> instead of just <code>push(block)</code> if you&#39;d defined that as a &quot;regular&quot; method instead. Code like this becomes confusing pretty fast. The other variables have the same issue, so I&#39;d say it&#39;s bad practice."},{"owner":{"account_id":10840066,"reputation":483,"user_id":7971629,"display_name":"csoler"},"score":0,"creation_date":1638722809,"post_id":70236308,"comment_id":124158162,"body_markdown":"Yes, I realized that. The push doesn&#39;t really bother me much because it returns a boolean. So, push.test kind of makes sense in that way. But yea, I definitely agree with you, it is awkward. Any idea why the functions with the method references give that warning?","body":"Yes, I realized that. The push doesn&#39;t really bother me much because it returns a boolean. So, push.test kind of makes sense in that way. But yea, I definitely agree with you, it is awkward. Any idea why the functions with the method references give that warning?"}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638723101,"creation_date":1638723101,"answer_id":70236476,"question_id":70236308,"body_markdown":"The field initialisers of a class run in textual order, before the constructor. Therefore, the fields `push`, `isEmpty` etc are going to be initialised before `entries` gets initialised in the constructor.\r\n\r\nWhen a method reference expression such as `entries::offerLast` is evaluated, `entries` is evaluated first to determine on which object should the method be called. However, since `entries` is not initialised at the time when the method reference expression is evaluated, `entries` evaluates to null. This causes a `NullPointerException` to be thrown. [JLS 15.13.3][1]\r\n\r\n&gt; First, if the method reference expression begins with an ExpressionName or a Primary, this subexpression is evaluated. If the subexpression evaluates to null, a NullPointerException is raised, and the method reference expression completes abruptly.\r\n\r\nTo fix this, you can either move the initialisation of the `entires` field out of the constructor, and inline with its declaration:\r\n\r\n    private Deque&lt;Block&gt; entries = new ArrayDeque&lt;&gt;();\r\n\r\nOr, you can use a lambda expression instead of a method reference:\r\n\r\n    public Predicate&lt;Block&gt; push = e -&gt; entries.offerLast(e);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se16/html/jls-15.html#jls-15.13.3","title":"Replace class methods with lambda expressions, is it bad practice?","body":"<p>The field initialisers of a class run in textual order, before the constructor. Therefore, the fields <code>push</code>, <code>isEmpty</code> etc are going to be initialised before <code>entries</code> gets initialised in the constructor.</p>\n<p>When a method reference expression such as <code>entries::offerLast</code> is evaluated, <code>entries</code> is evaluated first to determine on which object should the method be called. However, since <code>entries</code> is not initialised at the time when the method reference expression is evaluated, <code>entries</code> evaluates to null. This causes a <code>NullPointerException</code> to be thrown. <a href=\"https://docs.oracle.com/javase/specs/jls/se16/html/jls-15.html#jls-15.13.3\" rel=\"nofollow noreferrer\">JLS 15.13.3</a></p>\n<blockquote>\n<p>First, if the method reference expression begins with an ExpressionName or a Primary, this subexpression is evaluated. If the subexpression evaluates to null, a NullPointerException is raised, and the method reference expression completes abruptly.</p>\n</blockquote>\n<p>To fix this, you can either move the initialisation of the <code>entires</code> field out of the constructor, and inline with its declaration:</p>\n<pre><code>private Deque&lt;Block&gt; entries = new ArrayDeque&lt;&gt;();\n</code></pre>\n<p>Or, you can use a lambda expression instead of a method reference:</p>\n<pre><code>public Predicate&lt;Block&gt; push = e -&gt; entries.offerLast(e);\n</code></pre>\n"}],"owner":{"account_id":10840066,"reputation":483,"user_id":7971629,"display_name":"csoler"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70236476,"answer_count":1,"score":0,"last_activity_date":1638728508,"creation_date":1638722039,"question_id":70236308,"body_markdown":"I had a few questions that I&#39;m having trouble finding the answer to, at least in Java.\r\n\r\nI saw a Class definition in a tutorial where lambdas were being used similar to methods. So I&#39;m curious as to if there is any benefit apart from concise code and style preference.\r\n\r\nExample:\r\n\r\n    public class Blocks {\r\n        private Deque&lt;Block&gt; entries;\r\n    \r\n        public Blocks() {\r\n            this.entries = new ArrayDeque&lt;&gt;();\r\n        }\r\n    \r\n        public Deque&lt;Block&gt; getEntries() {\r\n            return entries;\r\n        }\r\n    \r\n        public void setEntries(Deque&lt;Block&gt; entries) {\r\n            this.entries = new ArrayDeque&lt;&gt;(entries);\r\n        }\r\n    \r\n        public Predicate&lt;Block&gt; push = entries::offerLast;\r\n    \r\n        public Supplier&lt;Optional&lt;Block&gt;&gt; peek = () -&gt; Optional.ofNullable(entries.peekLast());\r\n    \r\n        public BooleanSupplier isEmpty = entries::isEmpty;\r\n    \r\n        public Supplier&lt;String&gt; lastHash = () -&gt; peek.get().map(Block::hash).orElse(&quot;0&quot;);\r\n    \r\n        public LongSupplier size = entries::size;\r\n    }\r\n\r\nIs this a valid class definition? Is this a bad practice? If so, why?\r\n\r\nOne thing I noticed is that in the Predicate push, I get the following warning:\r\n\r\n    Dereference of &#39;entries&#39; will produce &#39;NullPointerException&#39;\r\n\r\nWhy am I getting this warning if entries should be instantiated? The warning seems to affect any function with a method reference. If instead:\r\n\r\n    public Predicate&lt;Block&gt; push = block -&gt; entries.offerLast(block);\r\n\r\nthen the warning disappears.","title":"Replace class methods with lambda expressions, is it bad practice?","body":"<p>I had a few questions that I'm having trouble finding the answer to, at least in Java.</p>\n<p>I saw a Class definition in a tutorial where lambdas were being used similar to methods. So I'm curious as to if there is any benefit apart from concise code and style preference.</p>\n<p>Example:</p>\n<pre><code>public class Blocks {\n    private Deque&lt;Block&gt; entries;\n\n    public Blocks() {\n        this.entries = new ArrayDeque&lt;&gt;();\n    }\n\n    public Deque&lt;Block&gt; getEntries() {\n        return entries;\n    }\n\n    public void setEntries(Deque&lt;Block&gt; entries) {\n        this.entries = new ArrayDeque&lt;&gt;(entries);\n    }\n\n    public Predicate&lt;Block&gt; push = entries::offerLast;\n\n    public Supplier&lt;Optional&lt;Block&gt;&gt; peek = () -&gt; Optional.ofNullable(entries.peekLast());\n\n    public BooleanSupplier isEmpty = entries::isEmpty;\n\n    public Supplier&lt;String&gt; lastHash = () -&gt; peek.get().map(Block::hash).orElse(&quot;0&quot;);\n\n    public LongSupplier size = entries::size;\n}\n</code></pre>\n<p>Is this a valid class definition? Is this a bad practice? If so, why?</p>\n<p>One thing I noticed is that in the Predicate push, I get the following warning:</p>\n<pre><code>Dereference of 'entries' will produce 'NullPointerException'\n</code></pre>\n<p>Why am I getting this warning if entries should be instantiated? The warning seems to affect any function with a method reference. If instead:</p>\n<pre><code>public Predicate&lt;Block&gt; push = block -&gt; entries.offerLast(block);\n</code></pre>\n<p>then the warning disappears.</p>\n"},{"tags":["java","jsoup"],"comments":[{"owner":{"account_id":3883809,"reputation":895,"user_id":3215705,"accept_rate":75,"display_name":"mystery"},"score":0,"creation_date":1638685702,"post_id":70231890,"comment_id":124150635,"body_markdown":"are you trying to get image url (urlImage in this case)?","body":"are you trying to get image url (urlImage in this case)?"},{"owner":{"account_id":20968555,"reputation":123,"user_id":15406186,"display_name":"AlexWhite"},"score":0,"creation_date":1638691369,"post_id":70231890,"comment_id":124151372,"body_markdown":"Yes, urlImage..","body":"Yes, urlImage.."},{"owner":{"account_id":3883809,"reputation":895,"user_id":3215705,"accept_rate":75,"display_name":"mystery"},"score":0,"creation_date":1638691566,"post_id":70231890,"comment_id":124151400,"body_markdown":"please add sample data and expected output in your question description","body":"please add sample data and expected output in your question description"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1638692324,"post_id":70231890,"comment_id":124151498,"body_markdown":"I don&#39;t think jsoup supports parsing css...","body":"I don&#39;t think jsoup supports parsing css..."},{"owner":{"account_id":20968555,"reputation":123,"user_id":15406186,"display_name":"AlexWhite"},"score":0,"creation_date":1638702423,"post_id":70231890,"comment_id":124153379,"body_markdown":"added, I think everything quite clear","body":"added, I think everything quite clear"},{"owner":{"account_id":20968555,"reputation":123,"user_id":15406186,"display_name":"AlexWhite"},"score":0,"creation_date":1638702466,"post_id":70231890,"comment_id":124153391,"body_markdown":"@dan1st what can I use then?","body":"@dan1st what can I use then?"},{"owner":{"account_id":4181404,"reputation":6036,"user_id":3426328,"accept_rate":83,"display_name":"TDG"},"score":0,"creation_date":1638702985,"post_id":70231890,"comment_id":124153500,"body_markdown":"You can use simple string manipulation functions - find the location of the double quoutes and get all the substring between these locations. You can also use regex, but this is a simple pattern, so string functions will do.","body":"You can use simple string manipulation functions - find the location of the double quoutes and get all the substring between these locations. You can also use regex, but this is a simple pattern, so string functions will do."},{"owner":{"account_id":20968555,"reputation":123,"user_id":15406186,"display_name":"AlexWhite"},"score":0,"creation_date":1638704510,"post_id":70231890,"comment_id":124153816,"body_markdown":"@TDG Which String function can I use here? No idea","body":"@TDG Which String function can I use here? No idea"},{"owner":{"account_id":4181404,"reputation":6036,"user_id":3426328,"accept_rate":83,"display_name":"TDG"},"score":0,"creation_date":1638705120,"post_id":70231890,"comment_id":124153952,"body_markdown":"Try `String.indexOf()`.","body":"Try <code>String.indexOf()</code>."},{"owner":{"account_id":20968555,"reputation":123,"user_id":15406186,"display_name":"AlexWhite"},"score":0,"creation_date":1638705258,"post_id":70231890,"comment_id":124153988,"body_markdown":"String.indexOf() will give me the position, but i need to get url itself","body":"String.indexOf() will give me the position, but i need to get url itself"}],"answers":[{"tags":[],"owner":{"account_id":10389625,"reputation":2881,"user_id":9889778,"display_name":"Krystian G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638728475,"creation_date":1638728475,"answer_id":70237259,"question_id":70231890,"body_markdown":"There&#39;s no way to use jsoup to grab only specific parts of the contents of `style` attribute. You can user regular expression to extract exactly what you want.\r\n```\r\n// import java.util.regex.Matcher;\r\n// import java.util.regex.Pattern;\r\n\r\nPattern p = Pattern.compile(&quot;background-image:url\\\\(([^)]*)\\\\)&quot;);\r\n\r\nfor (Element element : doc.select(&quot;.photo_wrap&quot;)) {\r\n\tString style = element.attr(&quot;style&quot;);\r\n\tMatcher m = p.matcher(style);\r\n\tif (m.find()) {\r\n\t\tString urlImage = m.group(1);\r\n\t\tSystem.out.println(urlImage);\r\n\t}\r\n}","title":"Get image using Jsoup","body":"<p>There's no way to use jsoup to grab only specific parts of the contents of <code>style</code> attribute. You can user regular expression to extract exactly what you want.</p>\n<pre><code>// import java.util.regex.Matcher;\n// import java.util.regex.Pattern;\n\nPattern p = Pattern.compile(&quot;background-image:url\\\\(([^)]*)\\\\)&quot;);\n\nfor (Element element : doc.select(&quot;.photo_wrap&quot;)) {\n    String style = element.attr(&quot;style&quot;);\n    Matcher m = p.matcher(style);\n    if (m.find()) {\n        String urlImage = m.group(1);\n        System.out.println(urlImage);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20968555,"reputation":123,"user_id":15406186,"display_name":"AlexWhite"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638728475,"creation_date":1638684481,"question_id":70231890,"body_markdown":"I have this class: \r\n\r\n    &lt;a class = photo_wrap href = &quot;https//:somelink&quot; style=&quot;/* width:100px; */background-image:url(&quot;urlImage&quot;) &lt;/a&gt;\r\n\r\n\r\nHow can I get only urlImage from here? Tried this, but it gives width as well.\r\n\r\n    Document document = Jsoup.connect(url).get();\r\n    for (Element element: document.select(&quot;.photo_wrap&quot;)) {\r\n                String style = element.attr(&quot;style&quot;);\r\n                System.out.println(style);\r\n            }\r\n\r\n\r\nHere is what I would like to get:\r\n\r\n    background-image:url(&quot;urlImage&quot;)","title":"Get image using Jsoup","body":"<p>I have this class:</p>\n<pre><code>&lt;a class = photo_wrap href = &quot;https//:somelink&quot; style=&quot;/* width:100px; */background-image:url(&quot;urlImage&quot;) &lt;/a&gt;\n</code></pre>\n<p>How can I get only urlImage from here? Tried this, but it gives width as well.</p>\n<pre><code>Document document = Jsoup.connect(url).get();\nfor (Element element: document.select(&quot;.photo_wrap&quot;)) {\n            String style = element.attr(&quot;style&quot;);\n            System.out.println(style);\n        }\n</code></pre>\n<p>Here is what I would like to get:</p>\n<pre><code>background-image:url(&quot;urlImage&quot;)\n</code></pre>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":6361550,"reputation":37042,"user_id":4936904,"display_name":"Pavneet_Singh"},"score":1,"creation_date":1512625836,"post_id":47688418,"comment_id":82336048,"body_markdown":"streams are lazy , code actually do something when a terminal operation is invoked like sum , toarray etc and  filter , map are intermediate , probably a dupe","body":"streams are lazy , code actually do something when a terminal operation is invoked like sum , toarray etc and  filter , map are intermediate , probably a dupe"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1512625819,"creation_date":1512625819,"answer_id":47688441,"question_id":47688418,"body_markdown":"Terminal meaning ending the process, such as collecting a stream to a list, or aggregating a stream of values. \r\n\r\nIntermediate as in transitioning to a new state, on the way to a terminal operation ","title":"What is the difference between intermediate and terminal operations?","body":"<p>Terminal meaning ending the process, such as collecting a stream to a list, or aggregating a stream of values. </p>\n\n<p>Intermediate as in transitioning to a new state, on the way to a terminal operation </p>\n"},{"tags":[],"owner":{"account_id":2847999,"reputation":15490,"user_id":2445864,"accept_rate":79,"display_name":"Hubert Grzeskowiak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1512626326,"creation_date":1512626326,"answer_id":47688525,"question_id":47688418,"body_markdown":"You probably noticed that when you define a stream, the methods aren&#39;t just called one by one on the whole stream, but rather they do something on each element from the stream. To be able to run these streams in parallel, for every element, there is basically a whole pipeline.\r\n\r\nIn order to create multiple pipelines, Java 8+ uses the [builder pattern][1]. With every intermediate step you add a filter or converter to the stack. In order to tell Java to generate pipelines from that stack of filters, you use a terminating step. That last step combines all the different pipelines. Usually it just returns the values in a defined format, e.g. a list, but it can also run a function once for each element, or reduce the results to a boolean or a number.\r\n\r\n\r\n  [1]: https://sourcemaking.com/design_patterns/builder","title":"What is the difference between intermediate and terminal operations?","body":"<p>You probably noticed that when you define a stream, the methods aren't just called one by one on the whole stream, but rather they do something on each element from the stream. To be able to run these streams in parallel, for every element, there is basically a whole pipeline.</p>\n\n<p>In order to create multiple pipelines, Java 8+ uses the <a href=\"https://sourcemaking.com/design_patterns/builder\" rel=\"nofollow noreferrer\">builder pattern</a>. With every intermediate step you add a filter or converter to the stack. In order to tell Java to generate pipelines from that stack of filters, you use a terminating step. That last step combines all the different pipelines. Usually it just returns the values in a defined format, e.g. a list, but it can also run a function once for each element, or reduce the results to a boolean or a number.</p>\n"},{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":82,"is_accepted":true,"score":82,"last_activity_date":1598988553,"creation_date":1512643519,"answer_id":47693257,"question_id":47688418,"body_markdown":"A Stream supports several operations and these operations are divided into `intermediate` and `terminal` operations.\r\n\r\nThe distinction between this operations is that an intermediate operation is lazy while a terminal operation is not. When you invoke an intermediate operation on a stream, the operation is not executed immediately. It is executed only when a terminal operation is invoked on that stream. In a way, an intermediate operation is memorized and is recalled as soon as a terminal operation is invoked. You can chain multiple intermediate operations and none of them will do anything until you invoke a terminal operation. At that time, all of the intermediate operations that you invoked earlier will be invoked along with the terminal operation.\r\n\r\nAll intermediate operations return Stream (can be chained), while terminal operations don&#39;t. Intermediate Operations are:\r\n\r\n    filter(Predicate&lt;T&gt;)\r\n    map(Function&lt;T&gt;)\r\n    flatMap(Function&lt;T&gt;)\r\n    sorted(Comparator&lt;T&gt;)\r\n    peek(Consumer&lt;T&gt;)\r\n    distinct()\r\n    limit(long n)\r\n    skip(long n)\r\n\r\nTerminal operations produces a non-stream (cannot be chained) result such as primitive value, a collection or no value at all.\r\n\r\nTerminal Operations are:\r\n\r\n    forEach\r\n    forEachOrdered\r\n    toArray\r\n    reduce\r\n    collect\r\n    min\r\n    max\r\n    count\r\n    anyMatch\r\n    allMatch\r\n    noneMatch\r\n    findFirst    \r\n    findAny\r\n\r\nLast 5 are short-circuiting terminal operations.","title":"What is the difference between intermediate and terminal operations?","body":"<p>A Stream supports several operations and these operations are divided into <code>intermediate</code> and <code>terminal</code> operations.</p>\n<p>The distinction between this operations is that an intermediate operation is lazy while a terminal operation is not. When you invoke an intermediate operation on a stream, the operation is not executed immediately. It is executed only when a terminal operation is invoked on that stream. In a way, an intermediate operation is memorized and is recalled as soon as a terminal operation is invoked. You can chain multiple intermediate operations and none of them will do anything until you invoke a terminal operation. At that time, all of the intermediate operations that you invoked earlier will be invoked along with the terminal operation.</p>\n<p>All intermediate operations return Stream (can be chained), while terminal operations don't. Intermediate Operations are:</p>\n<pre><code>filter(Predicate&lt;T&gt;)\nmap(Function&lt;T&gt;)\nflatMap(Function&lt;T&gt;)\nsorted(Comparator&lt;T&gt;)\npeek(Consumer&lt;T&gt;)\ndistinct()\nlimit(long n)\nskip(long n)\n</code></pre>\n<p>Terminal operations produces a non-stream (cannot be chained) result such as primitive value, a collection or no value at all.</p>\n<p>Terminal Operations are:</p>\n<pre><code>forEach\nforEachOrdered\ntoArray\nreduce\ncollect\nmin\nmax\ncount\nanyMatch\nallMatch\nnoneMatch\nfindFirst    \nfindAny\n</code></pre>\n<p>Last 5 are short-circuiting terminal operations.</p>\n"},{"tags":[],"owner":{"account_id":308156,"reputation":13672,"user_id":619860,"accept_rate":80,"display_name":"Hoa Nguyen"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1605778312,"creation_date":1537867506,"answer_id":52494771,"question_id":47688418,"body_markdown":"As per [javadoc][1]: \r\n\r\n - **Intermediate operation** will transform a stream into another stream, such as `map(MapperFn)` or `filter(Predicate)`\r\n - **Terminal operation** will produce a result or side-effect, such as `count()` or `forEach(Consumer)`\r\n\r\nNote that all intermediate operations will **NOT** be executed without a terminal operation at the end. So the pattern will be:\r\n\r\n    stream()\r\n    \t.intemediateOperation1()\r\n    \t.intemediateOperation2()\r\n    \t...\r\n    \t.intemediateOperationN()\r\n    \t.terminalOperation();\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html","title":"What is the difference between intermediate and terminal operations?","body":"<p>As per <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\" rel=\"noreferrer\">javadoc</a>:</p>\n<ul>\n<li><strong>Intermediate operation</strong> will transform a stream into another stream, such as <code>map(MapperFn)</code> or <code>filter(Predicate)</code></li>\n<li><strong>Terminal operation</strong> will produce a result or side-effect, such as <code>count()</code> or <code>forEach(Consumer)</code></li>\n</ul>\n<p>Note that all intermediate operations will <strong>NOT</strong> be executed without a terminal operation at the end. So the pattern will be:</p>\n<pre><code>stream()\n    .intemediateOperation1()\n    .intemediateOperation2()\n    ...\n    .intemediateOperationN()\n    .terminalOperation();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6383695,"reputation":5206,"user_id":4952262,"accept_rate":71,"display_name":"Michu93"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1598987978,"creation_date":1598987978,"answer_id":63694098,"question_id":47688418,"body_markdown":"To visualize let&#39;s take this code:\r\n\r\n    List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 3, 4);\r\n            int sum = numbers.stream()\r\n                    .filter(n -&gt; n % 2 == 0)\r\n                    .map(n -&gt; n * n)\r\n                    .reduce(0, Integer::sum);\r\n\r\n`filter` and `map` are intermediate operations, `reduce` is terminal.\r\n\r\n\r\n 1. We create a stream from List (`numbers.stream()`), so we have:\r\n|1,2,3,4|\r\n 2. filter values (`numbers.stream().filter(n -&gt; n % 2 == 0)`):\r\n |1,2,3,4| ----- |filter|\r\n 3. Map (`numbers.stream().filter(n -&gt; n % 2 == 0).map(n -&gt; n * n)`):\r\n |1,2,3,4| ----- |filter| ----- |map|\r\n4. finally we call `reduce`, which is terminal operation and the whole flow runs:\r\n|1,2,3,4| -&gt; 4 3 2 1 -&gt; |filter| -&gt; 4 2 -&gt; |map| -&gt; 16 4 -&gt; |reduce| -&gt; 20\r\n\r\nNotice that no data flows through the stream until the terminal operation is called.\r\n\r\n ","title":"What is the difference between intermediate and terminal operations?","body":"<p>To visualize let's take this code:</p>\n<pre><code>List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 3, 4);\n        int sum = numbers.stream()\n                .filter(n -&gt; n % 2 == 0)\n                .map(n -&gt; n * n)\n                .reduce(0, Integer::sum);\n</code></pre>\n<p><code>filter</code> and <code>map</code> are intermediate operations, <code>reduce</code> is terminal.</p>\n<ol>\n<li>We create a stream from List (<code>numbers.stream()</code>), so we have:\n|1,2,3,4|</li>\n<li>filter values (<code>numbers.stream().filter(n -&gt; n % 2 == 0)</code>):\n|1,2,3,4| ----- |filter|</li>\n<li>Map (<code>numbers.stream().filter(n -&gt; n % 2 == 0).map(n -&gt; n * n)</code>):\n|1,2,3,4| ----- |filter| ----- |map|</li>\n<li>finally we call <code>reduce</code>, which is terminal operation and the whole flow runs:\n|1,2,3,4| -&gt; 4 3 2 1 -&gt; |filter| -&gt; 4 2 -&gt; |map| -&gt; 16 4 -&gt; |reduce| -&gt; 20</li>\n</ol>\n<p>Notice that no data flows through the stream until the terminal operation is called.</p>\n"}],"owner":{"account_id":11818558,"reputation":938,"user_id":8648223,"accept_rate":67,"display_name":"Amol Raje"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37038,"favorite_count":0,"down_vote_count":4,"up_vote_count":40,"accepted_answer_id":47693257,"answer_count":5,"score":36,"last_activity_date":1638727994,"creation_date":1512625653,"question_id":47688418,"body_markdown":"can someone tell me What is the difference between intermediate and terminal operations for `Stream`?\r\n\r\n`Stream` operations are combined into pipelines to process streams. All operations are either intermediate or terminal ..means?.","title":"What is the difference between intermediate and terminal operations?","body":"<p>can someone tell me What is the difference between intermediate and terminal operations for <code>Stream</code>?</p>\n\n<p><code>Stream</code> operations are combined into pipelines to process streams. All operations are either intermediate or terminal ..means?.</p>\n"},{"tags":["java","android","sharedpreferences","android-preferences","listpreference"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1638730689,"post_id":70237054,"comment_id":124160270,"body_markdown":"Check for the saved value on app start &amp; set the theme accordingly.","body":"Check for the saved value on app start &amp; set the theme accordingly."},{"owner":{"account_id":23554332,"reputation":1,"user_id":17596553,"display_name":"efe afeaf"},"score":0,"creation_date":1638743418,"post_id":70237054,"comment_id":124163412,"body_markdown":"Unfortunately I don&#39;t understand exactly how I should check this. The defaultValue is the theme follows the system theme and if I use the night theme in the ListPreference in the app, it also changes. But when I close the app and restart it says that the night theme is selected but it shows the theme of the defaultValue.","body":"Unfortunately I don&#39;t understand exactly how I should check this. The defaultValue is the theme follows the system theme and if I use the night theme in the ListPreference in the app, it also changes. But when I close the app and restart it says that the night theme is selected but it shows the theme of the defaultValue."}],"owner":{"account_id":23554332,"reputation":1,"user_id":17596553,"display_name":"efe afeaf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638727015,"creation_date":1638727015,"question_id":70237054,"body_markdown":"I&#39;m trying to make a ListPreference to change the design of my app. \r\nThis also works but unfortunately the setting is reset to the defaultValue when the app is restarted. Somehow I have to save this value in a SharedPreference but I just can&#39;t do it.\r\n\r\nroot_preferences.xml\r\n\r\n    &lt;PreferenceCategory app:title=&quot;@string/design_header&quot;&gt;\r\n\r\n        &lt;ListPreference\r\n            app:defaultValue=&quot;@string/design_values_default&quot;\r\n            app:entries=&quot;@array/design_entries&quot;\r\n            app:entryValues=&quot;@array/design_values&quot;\r\n            app:key=&quot;designs&quot;\r\n            app:title=&quot;@string/design_title&quot;\r\n            app:useSimpleSummaryProvider=&quot;true&quot;\r\n            app:persistent=&quot;true&quot;/&gt;\r\n    &lt;/PreferenceCategory&gt;\r\n\r\n\r\narrays.xml\r\n\r\n    &lt;array name=&quot;design_entries&quot;&gt;\r\n        &lt;item&gt;@string/design_entries_day&lt;/item&gt;\r\n        &lt;item&gt;@string/design_entries_night&lt;/item&gt;\r\n        &lt;item&gt;@string/design_entries_default&lt;/item&gt;\r\n    &lt;/array&gt;\r\n\r\n    &lt;array name=&quot;design_values&quot;&gt;\r\n        &lt;item&gt;@string/design_values_day&lt;/item&gt;\r\n        &lt;item&gt;@string/design_values_night&lt;/item&gt;\r\n        &lt;item&gt;@string/design_values_default&lt;/item&gt;\r\n    &lt;/array&gt;\r\n\r\nSettingsActivity.java\r\n\r\n    public static class SettingsFragment extends PreferenceFragmentCompat {\r\n        @Override\r\n        public void onCreatePreferences(Bundle savedInstanceState, String rootKey) {\r\n            setPreferencesFromResource(R.xml.root_preferences, rootKey);\r\n            final ListPreference listPreference = (ListPreference) findPreference(&quot;designs&quot;);\r\n            listPreference.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {\r\n                @Override\r\n                public boolean onPreferenceChange(Preference preference, Object newValue) {\r\n                    listPreference.setValue(newValue.toString());\r\n                    String theme = String.valueOf(listPreference.getEntry());\r\n                    if (theme.equals(&quot;Day (Bright)&quot;)) {\r\n                        AppCompatDelegate.setDefaultNightMode(MODE_NIGHT_NO);\r\n                    }\r\n                    if (theme.equals(&quot;Night (Dark)&quot;)) {\r\n                        AppCompatDelegate.setDefaultNightMode(MODE_NIGHT_YES);\r\n                    }\r\n                    if (theme.equals(&quot;System default&quot;)) {\r\n                        AppCompatDelegate.setDefaultNightMode(MODE_NIGHT_FOLLOW_SYSTEM);\r\n                    }\r\n\r\n                    return true;\r\n                }\r\n            });\r\n\r\n        }\r\n    }","title":"How can i save the selected value from ListPreference so it doesn&#39;t reset to the defaultValue when I restart the app in Android Studio (Java)?","body":"<p>I'm trying to make a ListPreference to change the design of my app.\nThis also works but unfortunately the setting is reset to the defaultValue when the app is restarted. Somehow I have to save this value in a SharedPreference but I just can't do it.</p>\n<p>root_preferences.xml</p>\n<pre><code>&lt;PreferenceCategory app:title=&quot;@string/design_header&quot;&gt;\n\n    &lt;ListPreference\n        app:defaultValue=&quot;@string/design_values_default&quot;\n        app:entries=&quot;@array/design_entries&quot;\n        app:entryValues=&quot;@array/design_values&quot;\n        app:key=&quot;designs&quot;\n        app:title=&quot;@string/design_title&quot;\n        app:useSimpleSummaryProvider=&quot;true&quot;\n        app:persistent=&quot;true&quot;/&gt;\n&lt;/PreferenceCategory&gt;\n</code></pre>\n<p>arrays.xml</p>\n<pre><code>&lt;array name=&quot;design_entries&quot;&gt;\n    &lt;item&gt;@string/design_entries_day&lt;/item&gt;\n    &lt;item&gt;@string/design_entries_night&lt;/item&gt;\n    &lt;item&gt;@string/design_entries_default&lt;/item&gt;\n&lt;/array&gt;\n\n&lt;array name=&quot;design_values&quot;&gt;\n    &lt;item&gt;@string/design_values_day&lt;/item&gt;\n    &lt;item&gt;@string/design_values_night&lt;/item&gt;\n    &lt;item&gt;@string/design_values_default&lt;/item&gt;\n&lt;/array&gt;\n</code></pre>\n<p>SettingsActivity.java</p>\n<pre><code>public static class SettingsFragment extends PreferenceFragmentCompat {\n    @Override\n    public void onCreatePreferences(Bundle savedInstanceState, String rootKey) {\n        setPreferencesFromResource(R.xml.root_preferences, rootKey);\n        final ListPreference listPreference = (ListPreference) findPreference(&quot;designs&quot;);\n        listPreference.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {\n            @Override\n            public boolean onPreferenceChange(Preference preference, Object newValue) {\n                listPreference.setValue(newValue.toString());\n                String theme = String.valueOf(listPreference.getEntry());\n                if (theme.equals(&quot;Day (Bright)&quot;)) {\n                    AppCompatDelegate.setDefaultNightMode(MODE_NIGHT_NO);\n                }\n                if (theme.equals(&quot;Night (Dark)&quot;)) {\n                    AppCompatDelegate.setDefaultNightMode(MODE_NIGHT_YES);\n                }\n                if (theme.equals(&quot;System default&quot;)) {\n                    AppCompatDelegate.setDefaultNightMode(MODE_NIGHT_FOLLOW_SYSTEM);\n                }\n\n                return true;\n            }\n        });\n\n    }\n}\n</code></pre>\n"},{"tags":["java","abstract-class","abstraction"],"comments":[{"owner":{"account_id":11689806,"reputation":145,"user_id":8558461,"display_name":"RafatMunshi"},"score":0,"creation_date":1504721733,"post_id":46041202,"comment_id":79125481,"body_markdown":"Possible duplicate of [Abstraction VS Information Hiding VS Encapsulation](https://stackoverflow.com/questions/24626/abstraction-vs-information-hiding-vs-encapsulation)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/24626/abstraction-vs-information-hiding-vs-encapsulation\">Abstraction VS Information Hiding VS Encapsulation</a>"}],"answers":[{"tags":[],"owner":{"account_id":934735,"reputation":23556,"user_id":963881,"accept_rate":83,"display_name":"syntagma"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1504543728,"creation_date":1504543728,"answer_id":46041373,"question_id":46041202,"body_markdown":"The **abstraction** in your code is the abstract class itself:\r\n\r\n    abstract class Bank {    \r\n       abstract int getRateOfInterest();    \r\n    } \r\n\r\nand the rest is the **implementation** (and the implementation details), specifically: classes `PNB` and `SBI`\r\n\r\n&gt; But the thing i didn&#39;t understand is how it is hiding the implementation details?\r\n\r\nImagine you have a bank comparison engine, which is represented by the `BankComparisonEngine` class. It will just take a `Bank` (**abstract** class) as an argument, then get its interest rate and save it to its internal database, like so:\r\n\r\n    class BankComparisonEngine {\r\n      public void saveInterestRateOf(Bank bank) {\r\n        int rate = bank.getRateOfInterest();\r\n        // Save it somwehere to reuse later \r\n      }\r\n    }\r\n\r\nHow are the implementation details hidden exactly? Well, `BankComparisonEngine` does not know how `getRateOfInterest()` method of a concrete implementation of `Bank` works (that is: `PNB.getRateOfInterest()` or `SBI.getRateOfInterest()` is implemented). It only knows it is a method that returns an `int` (and that it should return an interest rate). The **implementation details** are hidden inside the concrete classes that extend `abstract class Bank`.","title":"How does abstraction help in hiding the implementation details in Java?","body":"<p>The <strong>abstraction</strong> in your code is the abstract class itself:</p>\n\n<pre><code>abstract class Bank {    \n   abstract int getRateOfInterest();    \n} \n</code></pre>\n\n<p>and the rest is the <strong>implementation</strong> (and the implementation details), specifically: classes <code>PNB</code> and <code>SBI</code></p>\n\n<blockquote>\n  <p>But the thing i didn't understand is how it is hiding the implementation details?</p>\n</blockquote>\n\n<p>Imagine you have a bank comparison engine, which is represented by the <code>BankComparisonEngine</code> class. It will just take a <code>Bank</code> (<strong>abstract</strong> class) as an argument, then get its interest rate and save it to its internal database, like so:</p>\n\n<pre><code>class BankComparisonEngine {\n  public void saveInterestRateOf(Bank bank) {\n    int rate = bank.getRateOfInterest();\n    // Save it somwehere to reuse later \n  }\n}\n</code></pre>\n\n<p>How are the implementation details hidden exactly? Well, <code>BankComparisonEngine</code> does not know how <code>getRateOfInterest()</code> method of a concrete implementation of <code>Bank</code> works (that is: <code>PNB.getRateOfInterest()</code> or <code>SBI.getRateOfInterest()</code> is implemented). It only knows it is a method that returns an <code>int</code> (and that it should return an interest rate). The <strong>implementation details</strong> are hidden inside the concrete classes that extend <code>abstract class Bank</code>.</p>\n"},{"tags":[],"owner":{"account_id":21464591,"reputation":11,"user_id":15814740,"display_name":"deepak s"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635265329,"creation_date":1635265329,"answer_id":69726701,"question_id":46041202,"body_markdown":"When a client has to use your object, the client need not import your class or have your class definition in his jar, he/she can just import the abstract class or interface and accept your object as an argument, like explained in bank example. So client will still be able to use your object with parent reference but can&#39;t actually see (or need) the functional implementation of the class. Hope this cleared your doubt.","title":"How does abstraction help in hiding the implementation details in Java?","body":"<p>When a client has to use your object, the client need not import your class or have your class definition in his jar, he/she can just import the abstract class or interface and accept your object as an argument, like explained in bank example. So client will still be able to use your object with parent reference but can't actually see (or need) the functional implementation of the class. Hope this cleared your doubt.</p>\n"}],"owner":{"account_id":11668471,"reputation":194,"user_id":8544429,"accept_rate":83,"display_name":"Tarunjeet Singh Salh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9668,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":46041373,"answer_count":2,"score":9,"last_activity_date":1638726438,"creation_date":1504542990,"question_id":46041202,"body_markdown":"Abstraction is a process of hiding the implementation details and showing only functionality to the user.\r\n\r\nAnother way, it shows only important things to the user and hides the internal details. \r\nSo below is an example where an abstract class is made and abstract methods are overridden. But the thing i didn&#39;t understand is how it is hiding the implementation details?\r\n\r\n\r\n    abstract class Bank\r\n    {    \r\n       abstract int getRateOfInterest();    \r\n    } \r\n   \r\n    class SBI extends Bank\r\n    {    \r\n     int getRateOfInterest()\r\n      {\r\n       return 7;\r\n       }    \r\n      }\r\n    \r\n    class PNB extends Bank  \r\n    {    \r\n     int getRateOfInterest()\r\n       { \r\n        return 8;\r\n       }    \r\n     }    \r\n    \r\n    class TestBank{    \r\n    public static void main(String args[])\r\n    {    \r\n     Bank b;   \r\n     b=new SBI();  \r\n     System.out.println(&quot;Rate of Interest is: &quot;+b.getRateOfInterest()+&quot; %&quot;);    \r\n     b=new PNB();  \r\n     System.out.println(&quot;Rate of Interest is: &quot;+b.getRateOfInterest()+&quot; %&quot;);    \r\n     }\r\n     }     \r\n","title":"How does abstraction help in hiding the implementation details in Java?","body":"<p>Abstraction is a process of hiding the implementation details and showing only functionality to the user.</p>\n\n<p>Another way, it shows only important things to the user and hides the internal details. \nSo below is an example where an abstract class is made and abstract methods are overridden. But the thing i didn't understand is how it is hiding the implementation details?</p>\n\n<pre><code>abstract class Bank\n{    \n   abstract int getRateOfInterest();    \n} \n\nclass SBI extends Bank\n{    \n int getRateOfInterest()\n  {\n   return 7;\n   }    \n  }\n\nclass PNB extends Bank  \n{    \n int getRateOfInterest()\n   { \n    return 8;\n   }    \n }    \n\nclass TestBank{    \npublic static void main(String args[])\n{    \n Bank b;   \n b=new SBI();  \n System.out.println(\"Rate of Interest is: \"+b.getRateOfInterest()+\" %\");    \n b=new PNB();  \n System.out.println(\"Rate of Interest is: \"+b.getRateOfInterest()+\" %\");    \n }\n }     \n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18503109,"reputation":151,"user_id":13479972,"display_name":"tedd"},"score":0,"creation_date":1638723869,"post_id":70236528,"comment_id":124158441,"body_markdown":"but why as soon as I change a field in ```userUpdated``` it also changes ```userInDb```","body":"but why as soon as I change a field in <code>userUpdated</code> it also changes <code>userInDb</code>"},{"owner":{"account_id":14656252,"reputation":672,"user_id":10869284,"display_name":"sigur"},"score":0,"creation_date":1638724529,"post_id":70236528,"comment_id":124158638,"body_markdown":"How do you create the User? Is it retrieved also from em?","body":"How do you create the User? Is it retrieved also from em?"},{"owner":{"account_id":18503109,"reputation":151,"user_id":13479972,"display_name":"tedd"},"score":0,"creation_date":1638724773,"post_id":70236528,"comment_id":124158704,"body_markdown":"@sigur, yes, it retrieved from same em","body":"@sigur, yes, it retrieved from same em"},{"owner":{"account_id":18503109,"reputation":151,"user_id":13479972,"display_name":"tedd"},"score":0,"creation_date":1638726029,"post_id":70236528,"comment_id":124159060,"body_markdown":"I solved the problem by my way but i still don&#39;t understand what happend with it","body":"I solved the problem by my way but i still don&#39;t understand what happend with it"},{"owner":{"account_id":14656252,"reputation":672,"user_id":10869284,"display_name":"sigur"},"score":0,"creation_date":1638782916,"post_id":70236528,"comment_id":124171000,"body_markdown":"Are you using a transaction also? @tedd","body":"Are you using a transaction also? @tedd"}],"answers":[{"tags":[],"owner":{"account_id":20145264,"reputation":250,"user_id":14773942,"display_name":"ʀᴀʜɪʟ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638726319,"creation_date":1638726319,"answer_id":70236950,"question_id":70236528,"body_markdown":"### What&#39;s happening ###\r\nAs you change `userUpdated`, the changes are also made to `user` as you are referring `userUpdated` to `user`. For example:-\r\n\r\n    public void update(User user){\r\n        User a = user;\r\n        a.setName(&quot;Rahil&quot;);\r\n\r\n        System.out.println(a.getName());\r\n        System.out.println(user.getName());  // This will print &quot;Rahil&quot; too\r\n    }\r\n\r\nSo the change you are making to `userUpdated` will also be made to `user` and since you are using `user.getId()` in `userInDb`, you are actually retrieving the same `user` object which is same as the `userUpdated`\r\n\r\n### Solution ###\r\nTo copy an object, make a constructor that takes another User object. Then set the value of the field from that object. For example-:\r\n\r\n    public void class User {\r\n        int id;\r\n        String name;\r\n        \r\n        public User (User copyFrom){\r\n            id = copyFrom.getId();\r\n            name = copyFrom.getName();\r\n        }\r\n    }\r\n\r\nAnd use it like this:\r\n\r\n    User userUpdated = new User(user);","title":"set property of model in java make another from database change too","body":"<h3>What's happening</h3>\n<p>As you change <code>userUpdated</code>, the changes are also made to <code>user</code> as you are referring <code>userUpdated</code> to <code>user</code>. For example:-</p>\n<pre><code>public void update(User user){\n    User a = user;\n    a.setName(&quot;Rahil&quot;);\n\n    System.out.println(a.getName());\n    System.out.println(user.getName());  // This will print &quot;Rahil&quot; too\n}\n</code></pre>\n<p>So the change you are making to <code>userUpdated</code> will also be made to <code>user</code> and since you are using <code>user.getId()</code> in <code>userInDb</code>, you are actually retrieving the same <code>user</code> object which is same as the <code>userUpdated</code></p>\n<h3>Solution</h3>\n<p>To copy an object, make a constructor that takes another User object. Then set the value of the field from that object. For example-:</p>\n<pre><code>public void class User {\n    int id;\n    String name;\n    \n    public User (User copyFrom){\n        id = copyFrom.getId();\n        name = copyFrom.getName();\n    }\n}\n</code></pre>\n<p>And use it like this:</p>\n<pre><code>User userUpdated = new User(user);\n</code></pre>\n"}],"owner":{"account_id":18503109,"reputation":151,"user_id":13479972,"display_name":"tedd"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638726319,"creation_date":1638723522,"question_id":70236528,"body_markdown":"Every time I set the value for ```userUpdated``` it makes ```userInDb``` change with it. I went to debug and saw it change immediately. Does anyone know the reason?\r\n```\r\npublic synchronized void updateUserForScore(User user) {\r\n        try {\r\n            User userUpdated = user;\r\n            User userInDb = (User) entityManager.createQuery(&quot;SELECT u FROM User u WHERE u.id = :id&quot;).setParameter(&quot;id&quot;, user.getId()).getSingleResult();\r\n            // if user lose game\r\n            if (userUpdated.getScore() == -1) {\r\n                userUpdated.setLoseNumber(userUpdated.getLoseNumber() + 1); // i set value for userUpdated at here\r\n                if (userInDb.getFlag() == 0) { // and userInDb with LoseNumber change too\r\n                    userUpdated.setFlag(-1);\r\n                    userUpdated.setCurrentLosingStreak(1);\r\n                    userUpdated.setLongestLosingStreak(1);\r\n                }\r\n                if (userInDb.getFlag() == -1) {\r\n                    userUpdated.setFlag(-1);\r\n                    userInDb.setCurrentLosingStreak(userInDb.getCurrentLosingStreak() + 1);\r\n                    if (userInDb.getCurrentLosingStreak() &gt; userInDb.getLongestLosingStreak()) {\r\n                        userUpdated.setLongestLosingStreak(userInDb.getCurrentLosingStreak());\r\n                    }\r\n                }\r\n                if (userInDb.getFlag() == 1) {\r\n                    userUpdated.setFlag(-1);\r\n                    userUpdated.setCurrentLosingStreak(1);\r\n                }\r\n            }\r\n\r\n            transaction.begin();\r\n            entityManager.merge(userUpdated);\r\n            transaction.commit();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```","title":"set property of model in java make another from database change too","body":"<p>Every time I set the value for <code>userUpdated</code> it makes <code>userInDb</code> change with it. I went to debug and saw it change immediately. Does anyone know the reason?</p>\n<pre><code>public synchronized void updateUserForScore(User user) {\n        try {\n            User userUpdated = user;\n            User userInDb = (User) entityManager.createQuery(&quot;SELECT u FROM User u WHERE u.id = :id&quot;).setParameter(&quot;id&quot;, user.getId()).getSingleResult();\n            // if user lose game\n            if (userUpdated.getScore() == -1) {\n                userUpdated.setLoseNumber(userUpdated.getLoseNumber() + 1); // i set value for userUpdated at here\n                if (userInDb.getFlag() == 0) { // and userInDb with LoseNumber change too\n                    userUpdated.setFlag(-1);\n                    userUpdated.setCurrentLosingStreak(1);\n                    userUpdated.setLongestLosingStreak(1);\n                }\n                if (userInDb.getFlag() == -1) {\n                    userUpdated.setFlag(-1);\n                    userInDb.setCurrentLosingStreak(userInDb.getCurrentLosingStreak() + 1);\n                    if (userInDb.getCurrentLosingStreak() &gt; userInDb.getLongestLosingStreak()) {\n                        userUpdated.setLongestLosingStreak(userInDb.getCurrentLosingStreak());\n                    }\n                }\n                if (userInDb.getFlag() == 1) {\n                    userUpdated.setFlag(-1);\n                    userUpdated.setCurrentLosingStreak(1);\n                }\n            }\n\n            transaction.begin();\n            entityManager.merge(userUpdated);\n            transaction.commit();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"},{"tags":["java","sql","connection"],"comments":[{"owner":{"account_id":22806184,"reputation":103,"user_id":16958203,"display_name":"Ahmed Amer"},"score":1,"creation_date":1638586009,"post_id":70222606,"comment_id":124135086,"body_markdown":"I could be wrong since I am not awfully experienced with jdbc but I believe you are missing a semicolon in your connection string. try `String connectionUrl = &quot;jdbc:sqlserver://localhost;databaseName=CityJailOriginal;user=student;password=test&quot;;`","body":"I could be wrong since I am not awfully experienced with jdbc but I believe you are missing a semicolon in your connection string. try <code>String connectionUrl = &quot;jdbc:sqlserver:&#47;&#47;localhost;databaseName=CityJailOriginal;us&zwnj;&#8203;er=student;password=&zwnj;&#8203;test&quot;;</code>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1638590962,"post_id":70222606,"comment_id":124135552,"body_markdown":"See also: https://www.baeldung.com/java-jdbc-url-format.  You can pass the username and password as parameters in the `getConnection` call.","body":"See also: <a href=\"https://www.baeldung.com/java-jdbc-url-format\" rel=\"nofollow noreferrer\">baeldung.com/java-jdbc-url-format</a>.  You can pass the username and password as parameters in the <code>getConnection</code> call."},{"owner":{"account_id":23540550,"reputation":11,"user_id":17584807,"display_name":"estefysc"},"score":0,"creation_date":1638726338,"post_id":70222606,"comment_id":124159139,"body_markdown":"Sorry! the missing semicolon was a copy-paste error. The code does have the semi colon. Still getting the same error.","body":"Sorry! the missing semicolon was a copy-paste error. The code does have the semi colon. Still getting the same error."}],"owner":{"account_id":23540550,"reputation":11,"user_id":17584807,"display_name":"estefysc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638726302,"creation_date":1638585202,"question_id":70222606,"body_markdown":"I keep getting the error:\r\n\r\n\r\n\r\n&gt; &quot;jdbc.SQLServerException: Login failed for user&quot;\r\n\r\n in my Java program using IntelliJ.\r\n\r\nThis is part of my code:      \r\n    \r\n\r\n    String connectionUrl = &quot;jdbc:sqlserver://localhost;databaseName=CityJailOriginal;user=student;password=test&quot;;\r\n    try \r\n    {\r\n        Connection con = DriverManager.getConnection(connectionUrl);\r\n        Statement stmt = con.createStatement();\r\n    }\r\n\r\nSQL server is configured, according to the research I have done, correctly. I have created the user student and is related to a login devClass that contains password test. I have tried placing devClass instead of test in the password area, but I keep getting the same error. I have tried what has been suggested in other posts, but it is not working for me.\r\n\r\nAny help would be tremendously appreciated!! =)\r\n","title":"jdbc.SQLServerException: Login failed for user","body":"<p>I keep getting the error:</p>\n<blockquote>\n<p>&quot;jdbc.SQLServerException: Login failed for user&quot;</p>\n</blockquote>\n<p>in my Java program using IntelliJ.</p>\n<p>This is part of my code:</p>\n<pre><code>String connectionUrl = &quot;jdbc:sqlserver://localhost;databaseName=CityJailOriginal;user=student;password=test&quot;;\ntry \n{\n    Connection con = DriverManager.getConnection(connectionUrl);\n    Statement stmt = con.createStatement();\n}\n</code></pre>\n<p>SQL server is configured, according to the research I have done, correctly. I have created the user student and is related to a login devClass that contains password test. I have tried placing devClass instead of test in the password area, but I keep getting the same error. I have tried what has been suggested in other posts, but it is not working for me.</p>\n<p>Any help would be tremendously appreciated!! =)</p>\n"},{"tags":["java","android","android-security"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1634146217,"post_id":69559718,"comment_id":122949887,"body_markdown":"&quot;The input zip file is bundled together with my APK. So, it doesn&#39;t contain any malicious path.&quot; -- since the APK is already a ZIP, do you need a ZIP inside a ZIP? &quot;I have &quot;Zip Path Traversal Vulnerability&quot; happens only in Android 11&quot; -- where and how are you getting that message?","body":"&quot;The input zip file is bundled together with my APK. So, it doesn&#39;t contain any malicious path.&quot; -- since the APK is already a ZIP, do you need a ZIP inside a ZIP? &quot;I have &quot;Zip Path Traversal Vulnerability&quot; happens only in Android 11&quot; -- where and how are you getting that message?"},{"owner":{"account_id":27431,"reputation":46856,"user_id":72437,"accept_rate":86,"display_name":"Cheok Yan Cheng"},"score":0,"creation_date":1634146852,"post_id":69559718,"comment_id":122950111,"body_markdown":"I have updated the question to make thing clearer. Sorry.","body":"I have updated the question to make thing clearer. Sorry."},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1634147807,"post_id":69559718,"comment_id":122950447,"body_markdown":"You might want to revise that exception message, to include what `canonicalPath` and `destDirectory` are. In terms of the version-specific nature of the problem, perhaps there were changes in how `getCanonicalPath()` works (though then I would expect consistent failures, not sporadic ones).","body":"You might want to revise that exception message, to include what <code>canonicalPath</code> and <code>destDirectory</code> are. In terms of the version-specific nature of the problem, perhaps there were changes in how <code>getCanonicalPath()</code> works (though then I would expect consistent failures, not sporadic ones)."},{"owner":{"account_id":27431,"reputation":46856,"user_id":72437,"accept_rate":86,"display_name":"Cheok Yan Cheng"},"score":0,"creation_date":1634148076,"post_id":69559718,"comment_id":122950541,"body_markdown":"The problem is, in Google Play Console, the user message included in exception is being removed (I think due to privacy reason). Firebase Crashlytics unable to capture such, because the exception happen in remote service, and Firebase Crashlytics doesn&#39;t seem to work in remote service.","body":"The problem is, in Google Play Console, the user message included in exception is being removed (I think due to privacy reason). Firebase Crashlytics unable to capture such, because the exception happen in remote service, and Firebase Crashlytics doesn&#39;t seem to work in remote service."}],"answers":[{"tags":[],"owner":{"account_id":1007271,"reputation":51,"user_id":1020672,"display_name":"senior_russia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638726130,"creation_date":1638721826,"answer_id":70236282,"question_id":69559718,"body_markdown":"In `Utils.getUserDataDirectory()` function use:\r\n\r\n    getFilesDir().getCanonicalFile() \r\n\r\ninstead of \r\n\r\n    getExternalFilesDir()","title":"What are some possible reasons for &quot;Zip Path Traversal Vulnerability&quot; happens only in Android 11?","body":"<p>In <code>Utils.getUserDataDirectory()</code> function use:</p>\n<pre><code>getFilesDir().getCanonicalFile() \n</code></pre>\n<p>instead of</p>\n<pre><code>getExternalFilesDir()\n</code></pre>\n"}],"owner":{"account_id":27431,"reputation":46856,"user_id":72437,"accept_rate":86,"display_name":"Cheok Yan Cheng"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1738,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1638726130,"creation_date":1634145483,"question_id":69559718,"body_markdown":"Based on https://support.google.com/faqs/answer/9294009, we implement &quot;Zip Path Traversal Vulnerability&quot; detection in our code.\r\n\r\nWe are getting crash log from Google Play Console, as we run `throw new SecurityException(&quot;https://support.google.com/faqs/answer/9294009&quot;);` explicitly when we encounter **&quot;Zip Path Traversal Vulnerability&quot;**.\r\n\r\nCurrently, sometimes, I have **&quot;Zip Path Traversal Vulnerability&quot;** happens only in Android 11.\r\n\r\n    public static boolean extractZipFile(InputStream inputStream, String destDirectory, boolean overwrite) {\r\n        ZipInputStream zipInputStream = null;\r\n        boolean status = true;\r\n\r\n        try {\r\n            zipInputStream = new ZipInputStream(inputStream);\r\n            final byte[] data = new byte[1024];\r\n\r\n            while (true) {\r\n                ZipEntry zipEntry = null;\r\n                FileOutputStream outputStream = null;\r\n\r\n                try {\r\n                    zipEntry = zipInputStream.getNextEntry();\r\n\r\n                    if (zipEntry == null) {\r\n                        break;\r\n                    }\r\n\r\n                    final File destination = new File(destDirectory, zipEntry.getName());\r\n                    final String canonicalPath = destination.getCanonicalPath();\r\n                    if (!canonicalPath.startsWith(destDirectory)) {\r\n                        throw new SecurityException(&quot;https://support.google.com/faqs/answer/9294009&quot;);\r\n                    }\r\n\r\nI always ensure `destDirectory` is non null, before calling `extractZipFile`\r\n\r\n    public static boolean extractZipFile(InputStream inputStream, boolean overwrite) {\r\n        String destDirectory = Utils.getUserDataDirectory();\r\n        if (destDirectory == null) {\r\n            return false;\r\n        }\r\n        return extractZipFile(inputStream, destDirectory, overwrite);\r\n    }\r\n    \r\n    public static String getUserDataDirectory() {\r\n        if (externalFilesDir == null) {\r\n            File _externalFilesDir = JStockApplication.instance().getExternalFilesDir(null);\r\n            externalFilesDir = _externalFilesDir;\r\n            if (externalFilesDir == null) {\r\n                return null;\r\n            }\r\n        }\r\n        \r\n        return toEndWithFileSeperator(externalFilesDir.toString()) + getApplicationVersionString() + File.separator;\r\n    }\r\n    \r\n    private static String toEndWithFileSeperator(String string) {\r\n        if (string.endsWith(File.separator)) {\r\n            return string;\r\n        }\r\n        return string + File.separator;\r\n    }\r\n    \r\n    public static String getApplicationVersionString() {\r\n        return &quot;1.0.7&quot;;\r\n    }\r\n\r\nBased on the posed source code, do you have any guess reason, why  &quot;Zip Path Traversal Vulnerability&quot; happens only in Android 11? I use emulator Android 11 but not able to reproduce the problem.\r\n\r\n\r\n----------\r\n\r\nWhere does the zip file come from?\r\n----------------------------------\r\n\r\nThe zip file comes from 2 places\r\n\r\nBundled with APK as shown in below screenshot\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWe use the following code to extract it during runtime.\r\n\r\n    private void initPreloadDatabase(boolean overWrite) {\r\n        AssetManager assetManager = getResources().getAssets();\r\n        InputStream inputStream = null;\r\n        try {\r\n            inputStream = assetManager.open(&quot;database&quot; + File.separator + &quot;database.zip&quot;);\r\n        } catch (IOException e) {\r\n            Log.e(TAG, &quot;&quot;, e);\r\n        }\r\n        if (inputStream != null) {\r\n            org.yccheok.jstock.gui.Utils.extractZipFile(inputStream, overWrite);\r\n        }\r\n    }\r\n\r\nAnother zip file is downloaded from \r\n\r\nhttps://raw.githubusercontent.com/yccheok/jstock/master/appengine/jstock-android-static/war/stocks_information/unitedstate/stocks.zip\r\n\r\n  [1]: https://i.stack.imgur.com/LspTg.png","title":"What are some possible reasons for &quot;Zip Path Traversal Vulnerability&quot; happens only in Android 11?","body":"<p>Based on <a href=\"https://support.google.com/faqs/answer/9294009\" rel=\"nofollow noreferrer\">https://support.google.com/faqs/answer/9294009</a>, we implement &quot;Zip Path Traversal Vulnerability&quot; detection in our code.</p>\n<p>We are getting crash log from Google Play Console, as we run <code>throw new SecurityException(&quot;https://support.google.com/faqs/answer/9294009&quot;);</code> explicitly when we encounter <strong>&quot;Zip Path Traversal Vulnerability&quot;</strong>.</p>\n<p>Currently, sometimes, I have <strong>&quot;Zip Path Traversal Vulnerability&quot;</strong> happens only in Android 11.</p>\n<pre><code>public static boolean extractZipFile(InputStream inputStream, String destDirectory, boolean overwrite) {\n    ZipInputStream zipInputStream = null;\n    boolean status = true;\n\n    try {\n        zipInputStream = new ZipInputStream(inputStream);\n        final byte[] data = new byte[1024];\n\n        while (true) {\n            ZipEntry zipEntry = null;\n            FileOutputStream outputStream = null;\n\n            try {\n                zipEntry = zipInputStream.getNextEntry();\n\n                if (zipEntry == null) {\n                    break;\n                }\n\n                final File destination = new File(destDirectory, zipEntry.getName());\n                final String canonicalPath = destination.getCanonicalPath();\n                if (!canonicalPath.startsWith(destDirectory)) {\n                    throw new SecurityException(&quot;https://support.google.com/faqs/answer/9294009&quot;);\n                }\n</code></pre>\n<p>I always ensure <code>destDirectory</code> is non null, before calling <code>extractZipFile</code></p>\n<pre><code>public static boolean extractZipFile(InputStream inputStream, boolean overwrite) {\n    String destDirectory = Utils.getUserDataDirectory();\n    if (destDirectory == null) {\n        return false;\n    }\n    return extractZipFile(inputStream, destDirectory, overwrite);\n}\n\npublic static String getUserDataDirectory() {\n    if (externalFilesDir == null) {\n        File _externalFilesDir = JStockApplication.instance().getExternalFilesDir(null);\n        externalFilesDir = _externalFilesDir;\n        if (externalFilesDir == null) {\n            return null;\n        }\n    }\n    \n    return toEndWithFileSeperator(externalFilesDir.toString()) + getApplicationVersionString() + File.separator;\n}\n\nprivate static String toEndWithFileSeperator(String string) {\n    if (string.endsWith(File.separator)) {\n        return string;\n    }\n    return string + File.separator;\n}\n\npublic static String getApplicationVersionString() {\n    return &quot;1.0.7&quot;;\n}\n</code></pre>\n<p>Based on the posed source code, do you have any guess reason, why  &quot;Zip Path Traversal Vulnerability&quot; happens only in Android 11? I use emulator Android 11 but not able to reproduce the problem.</p>\n<hr />\n<h2>Where does the zip file come from?</h2>\n<p>The zip file comes from 2 places</p>\n<p>Bundled with APK as shown in below screenshot</p>\n<p><a href=\"https://i.stack.imgur.com/LspTg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LspTg.png\" alt=\"enter image description here\" /></a></p>\n<p>We use the following code to extract it during runtime.</p>\n<pre><code>private void initPreloadDatabase(boolean overWrite) {\n    AssetManager assetManager = getResources().getAssets();\n    InputStream inputStream = null;\n    try {\n        inputStream = assetManager.open(&quot;database&quot; + File.separator + &quot;database.zip&quot;);\n    } catch (IOException e) {\n        Log.e(TAG, &quot;&quot;, e);\n    }\n    if (inputStream != null) {\n        org.yccheok.jstock.gui.Utils.extractZipFile(inputStream, overWrite);\n    }\n}\n</code></pre>\n<p>Another zip file is downloaded from</p>\n<p><a href=\"https://raw.githubusercontent.com/yccheok/jstock/master/appengine/jstock-android-static/war/stocks_information/unitedstate/stocks.zip\" rel=\"nofollow noreferrer\">https://raw.githubusercontent.com/yccheok/jstock/master/appengine/jstock-android-static/war/stocks_information/unitedstate/stocks.zip</a></p>\n"},{"tags":["java","angular","spring","websocket","sockjs"],"owner":{"account_id":21103535,"reputation":101,"user_id":15512991,"display_name":"Dmitry Bogomaz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638726068,"creation_date":1638725762,"question_id":70236853,"body_markdown":"I try to connect to web socket from angular to spring boot with SockJS:\r\nI have errors after connection to the server&#39;s sockets :[![enter image description here][1]][1]\r\n\r\nSpring Boot configuration:\r\n\r\n   \r\n\r\n     @Override\r\n        public void configureMessageBroker(MessageBrokerRegistry config) {\r\n            config.enableSimpleBroker( &quot;/&quot;);\r\n            config.setUserDestinationPrefix(&quot;/user&quot;);\r\n            // config.setApplicationDestinationPrefixes(&quot;/user&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n            registry.addEndpoint(&quot;/ws&quot;)\r\n                    .setAllowedOrigins(&quot;http://localhost:4200&quot;)\r\n                    .setHandshakeHandler(new UserHandshakeHandler())\r\n                    .withSockJS();\r\n        }\r\n    \r\n        @Override\r\n        public boolean configureMessageConverters(List&lt;MessageConverter&gt; messageConverters) {\r\n            DefaultContentTypeResolver resolver = new DefaultContentTypeResolver();\r\n            resolver.setDefaultMimeType(MimeTypeUtils.APPLICATION_JSON);\r\n            MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\r\n            converter.setObjectMapper(new ObjectMapper());\r\n            converter.setContentTypeResolver(resolver);\r\n            messageConverters.add(converter);\r\n            return false;\r\n        }\r\n\r\n\r\n\r\nAngular connection:\r\n\r\n    this.socket = new SockJS(environment.serverUrl + socketPrefix + &#39;?token=&#39; + this.authService.getAccessToken());\r\n        this.stompClient = Stomp.over(this.socket);\r\n        this.stompClient.connect({}, () =&gt; {\r\n          this.stompClient.subscribe(hubMethodSubscription.noteTextUpdate,\r\n            (data: any) =&gt; { console.error(data); this.observableUpdateNoteText.next(JSON.parse(data.body)); });\r\n          this.stompClient.subscribe(hubMethodSubscription.deleteNoteFromOwner,\r\n            (data: any) =&gt; { console.error(data); this.observableDeleteNoteFromOwner.next(JSON.parse(data.body)); });\r\n          this.stompClient.subscribe(hubMethodSubscription.sendNewNotificationKek,\r\n            (data: any) =&gt; { console.error(data); });\r\n        });\r\n\r\nIf I use WebSocket in front, I get incorrect working, where only first connection worked\r\n\r\n  [1]: https://i.stack.imgur.com/6sK8e.png","title":"Connection to the Web Socket","body":"<p>I try to connect to web socket from angular to spring boot with SockJS:\nI have errors after connection to the server's sockets :<a href=\"https://i.stack.imgur.com/6sK8e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6sK8e.png\" alt=\"enter image description here\" /></a></p>\n<p>Spring Boot configuration:</p>\n<pre><code> @Override\n    public void configureMessageBroker(MessageBrokerRegistry config) {\n        config.enableSimpleBroker( &quot;/&quot;);\n        config.setUserDestinationPrefix(&quot;/user&quot;);\n        // config.setApplicationDestinationPrefixes(&quot;/user&quot;);\n    }\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(&quot;/ws&quot;)\n                .setAllowedOrigins(&quot;http://localhost:4200&quot;)\n                .setHandshakeHandler(new UserHandshakeHandler())\n                .withSockJS();\n    }\n\n    @Override\n    public boolean configureMessageConverters(List&lt;MessageConverter&gt; messageConverters) {\n        DefaultContentTypeResolver resolver = new DefaultContentTypeResolver();\n        resolver.setDefaultMimeType(MimeTypeUtils.APPLICATION_JSON);\n        MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\n        converter.setObjectMapper(new ObjectMapper());\n        converter.setContentTypeResolver(resolver);\n        messageConverters.add(converter);\n        return false;\n    }\n</code></pre>\n<p>Angular connection:</p>\n<pre><code>this.socket = new SockJS(environment.serverUrl + socketPrefix + '?token=' + this.authService.getAccessToken());\n    this.stompClient = Stomp.over(this.socket);\n    this.stompClient.connect({}, () =&gt; {\n      this.stompClient.subscribe(hubMethodSubscription.noteTextUpdate,\n        (data: any) =&gt; { console.error(data); this.observableUpdateNoteText.next(JSON.parse(data.body)); });\n      this.stompClient.subscribe(hubMethodSubscription.deleteNoteFromOwner,\n        (data: any) =&gt; { console.error(data); this.observableDeleteNoteFromOwner.next(JSON.parse(data.body)); });\n      this.stompClient.subscribe(hubMethodSubscription.sendNewNotificationKek,\n        (data: any) =&gt; { console.error(data); });\n    });\n</code></pre>\n<p>If I use WebSocket in front, I get incorrect working, where only first connection worked</p>\n"},{"tags":["java","android","audio-recording","mediarecorder"],"comments":[{"owner":{"account_id":12898814,"reputation":628,"user_id":9351811,"display_name":"Kuvonchbek Yakubov"},"score":0,"creation_date":1581705517,"post_id":60229889,"comment_id":106538787,"body_markdown":"First realase it, and then stop it.","body":"First realase it, and then stop it."},{"owner":{"account_id":13142633,"reputation":73,"user_id":9493707,"display_name":"DataMeta"},"score":0,"creation_date":1581709457,"post_id":60229889,"comment_id":106540217,"body_markdown":"It seems like usually we want to avoid recycling a running operation but I tried it anyway - still crashes on recorder.stop()","body":"It seems like usually we want to avoid recycling a running operation but I tried it anyway - still crashes on recorder.stop()"},{"owner":{"account_id":12898814,"reputation":628,"user_id":9351811,"display_name":"Kuvonchbek Yakubov"},"score":0,"creation_date":1581711387,"post_id":60229889,"comment_id":106540884,"body_markdown":"do you request permission?","body":"do you request permission?"},{"owner":{"account_id":13142633,"reputation":73,"user_id":9493707,"display_name":"DataMeta"},"score":0,"creation_date":1581713844,"post_id":60229889,"comment_id":106541723,"body_markdown":"Yes, added edit in post wit hte permissions code","body":"Yes, added edit in post wit hte permissions code"},{"owner":{"account_id":8054049,"reputation":4480,"user_id":6071729,"display_name":"A Farmanbar"},"score":0,"creation_date":1581729274,"post_id":60229889,"comment_id":106545503,"body_markdown":"please put the codes inside startRecording()","body":"please put the codes inside startRecording()"},{"owner":{"account_id":13142633,"reputation":73,"user_id":9493707,"display_name":"DataMeta"},"score":0,"creation_date":1581731230,"post_id":60229889,"comment_id":106545783,"body_markdown":"Added. Glad you pointed that out","body":"Added. Glad you pointed that out"},{"owner":{"account_id":8054049,"reputation":4480,"user_id":6071729,"display_name":"A Farmanbar"},"score":0,"creation_date":1581731886,"post_id":60229889,"comment_id":106545863,"body_markdown":"@DataMeta check my answer and do what i mentioned and all will be fixed.","body":"@DataMeta check my answer and do what i mentioned and all will be fixed."}],"answers":[{"tags":[],"owner":{"account_id":8054049,"reputation":4480,"user_id":6071729,"display_name":"A Farmanbar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1638725690,"creation_date":1581730468,"answer_id":60235317,"question_id":60229889,"body_markdown":"Media Player\r\n-----------\r\n\r\nin the below [flowchart][1], `stop()` valid states are `{Prepared, Started, Stopped, Paused, PlaybackCompleted}`. other states(Idle,Initialized,Error) are **NOT** valid states in order to call `stop()`. otherwise, `IllegalStateException` thrown.\r\n \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nTherefore, for Ensure we should set states **listeners** for the [MediaPlayer][1]. Because the `Prepared` state is initialized earlier than by `setOnPreparedListener` for `player` we can safely stop the player.\r\n\r\n    ...\r\n    boolean isPrepared = false;\r\n    ...\r\n    recorder.setOnPreparedListener ....\r\n    {\r\n    ...\r\n    isPrepared = true;\r\n    ...\r\n    }\r\n    ...\r\n    private void stopRecording() {\r\n        if(isPrepared){\r\n            player.stop();  \r\n            ...\r\n        }\r\n    }\r\n\r\nI made the code summarized for better understanding. \r\n  \r\n\r\n\r\nMedia Recorder\r\n--------------\r\n\r\nin the below [flowchart][3], `stop()` is available only if you are in recording state. otherwise, calling `stop()` throws `IllegalStateException`.\r\n\r\n[![enter image description here][4]][4]\r\n\r\nin order to safely stop or release recorder resources, we have to make sure the recorder has been started.\r\n\r\n    recorder.start();   // Recording is now started \r\n\r\nfor your specific code \r\n\r\n    boolean isRecording = false;\r\n    private void startRecording() {\r\n            recorder = new MediaRecorder();\r\n            recorder.setAudioSource(MediaRecorder.AudioSource.MIC);\r\n            recorder.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP);\r\n            recorder.setOutputFile(fileName);\r\n            System.out.println(fileName);\r\n            recorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB);\r\n    \r\n            try {\r\n                recorder.prepare();\r\n                recorder.start();\r\n                isRecording = true;\r\n            } catch (IOException e) {\r\n                Log.e(LOG_TAG, &quot;prepare() failed&quot;);\r\n                //e.printStackTrace();\r\n            }\r\n    }\r\n    ....\r\n    private void stopRecording() {\r\n        if(isRecording){\r\n            recorder.stop();  \r\n        }\r\n        recorder.reset();   // You can reuse the object by going back to setAudioSource() step\r\n        recorder.release(); // Now the object cannot be reused\r\n        isRecording = false;\r\n    }\r\n\r\nif we are in the recording state stop it then release it otherwise just release it.\r\n\r\n  [1]: https://developer.android.com/reference/android/media/MediaPlayer\r\n  [2]: https://i.stack.imgur.com/aDIlB.gif\r\n  [3]: https://developer.android.com/reference/android/media/MediaRecorder\r\n  [4]: https://i.stack.imgur.com/u1gsv.gif","title":"Why am I getting an IllegalStateException when stopping MediaRecorder?","body":"<h2>Media Player</h2>\n<p>in the below <a href=\"https://developer.android.com/reference/android/media/MediaPlayer\" rel=\"nofollow noreferrer\">flowchart</a>, <code>stop()</code> valid states are <code>{Prepared, Started, Stopped, Paused, PlaybackCompleted}</code>. other states(Idle,Initialized,Error) are <strong>NOT</strong> valid states in order to call <code>stop()</code>. otherwise, <code>IllegalStateException</code> thrown.</p>\n<p><a href=\"https://i.stack.imgur.com/aDIlB.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aDIlB.gif\" alt=\"enter image description here\" /></a></p>\n<p>Therefore, for Ensure we should set states <strong>listeners</strong> for the <a href=\"https://developer.android.com/reference/android/media/MediaPlayer\" rel=\"nofollow noreferrer\">MediaPlayer</a>. Because the <code>Prepared</code> state is initialized earlier than by <code>setOnPreparedListener</code> for <code>player</code> we can safely stop the player.</p>\n<pre><code>...\nboolean isPrepared = false;\n...\nrecorder.setOnPreparedListener ....\n{\n...\nisPrepared = true;\n...\n}\n...\nprivate void stopRecording() {\n    if(isPrepared){\n        player.stop();  \n        ...\n    }\n}\n</code></pre>\n<p>I made the code summarized for better understanding.</p>\n<h2>Media Recorder</h2>\n<p>in the below <a href=\"https://developer.android.com/reference/android/media/MediaRecorder\" rel=\"nofollow noreferrer\">flowchart</a>, <code>stop()</code> is available only if you are in recording state. otherwise, calling <code>stop()</code> throws <code>IllegalStateException</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/u1gsv.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u1gsv.gif\" alt=\"enter image description here\" /></a></p>\n<p>in order to safely stop or release recorder resources, we have to make sure the recorder has been started.</p>\n<pre><code>recorder.start();   // Recording is now started \n</code></pre>\n<p>for your specific code</p>\n<pre><code>boolean isRecording = false;\nprivate void startRecording() {\n        recorder = new MediaRecorder();\n        recorder.setAudioSource(MediaRecorder.AudioSource.MIC);\n        recorder.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP);\n        recorder.setOutputFile(fileName);\n        System.out.println(fileName);\n        recorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB);\n\n        try {\n            recorder.prepare();\n            recorder.start();\n            isRecording = true;\n        } catch (IOException e) {\n            Log.e(LOG_TAG, &quot;prepare() failed&quot;);\n            //e.printStackTrace();\n        }\n}\n....\nprivate void stopRecording() {\n    if(isRecording){\n        recorder.stop();  \n    }\n    recorder.reset();   // You can reuse the object by going back to setAudioSource() step\n    recorder.release(); // Now the object cannot be reused\n    isRecording = false;\n}\n</code></pre>\n<p>if we are in the recording state stop it then release it otherwise just release it.</p>\n"}],"owner":{"account_id":13142633,"reputation":73,"user_id":9493707,"display_name":"DataMeta"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2355,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":60235317,"answer_count":1,"score":7,"last_activity_date":1638725690,"creation_date":1581696753,"question_id":60229889,"body_markdown":"To get a better understanding of audio recording and playback in Android, I&#39;ve implemented a clone of the code in the android dev tutorial https://developer.android.com/guide/topics/media/mediarecorder#sample-code\r\n\r\nNo errors occur upon starting the recording, however, I have yet to verify if any recording is actually taking place. Then when I stop recording, the app crashes to the previous activity and on a subsequent attempt the &quot;app keeps crashing&quot; dialog pops up and the app exits.\r\n\r\nI have ```&lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;``` in the AndroidManifest\r\n\r\n```\r\nprivate void onRecord(boolean start) {\r\n        if (start) {\r\n            startRecording();\r\n        } else {\r\n            stopRecording();   // Line 53 //\r\n        }\r\n    }\r\n\r\nprivate void startRecording() {\r\n        recorder = new MediaRecorder();\r\n        recorder.setAudioSource(MediaRecorder.AudioSource.MIC);\r\n        recorder.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP);\r\n        recorder.setOutputFile(fileName);\r\n        System.out.println(fileName);\r\n        recorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB);\r\n\r\n        try {\r\n            recorder.prepare();\r\n        } catch (IOException e) {\r\n            Log.e(LOG_TAG, &quot;prepare() failed&quot;);\r\n            //e.printStackTrace();\r\n        }\r\n    }\r\n\r\nprivate void stopRecording() {\r\n        recorder.stop();       // Line 98 //\r\n        recorder.release();\r\n        recorder = null;\r\n    }\r\n\r\nclass RecordButton extends AppCompatButton {\r\n        boolean mStartRecording = true;\r\n\r\n        OnClickListener clicker = new OnClickListener() {\r\n            public void onClick(View v) {\r\n                onRecord(mStartRecording);\r\n                if(mStartRecording) {\r\n                    setText(R.string.stop_recording);\r\n                } else {\r\n                    setText(R.string.start_recording);\r\n                }\r\n                mStartRecording = !mStartRecording;\r\n            }\r\n        };\r\n\r\n        public RecordButton(Context ctx){\r\n            super(ctx);\r\n            setText(R.string.start_recording);\r\n            setOnClickListener(clicker);\r\n        }\r\n    }\r\n```\r\n\r\nLogcat output:\r\n```2020-02-14 10:57:09.788 23619-23619/? E/Zygote: isWhitelistProcess - Process is Whitelisted\r\n2020-02-14 10:57:09.789 23619-23619/? E/Zygote: accessInfo : 1\r\n2020-02-14 10:57:09.820 23619-23619/? E/.xxxxxx.xxxxxx: Unknown bits set in runtime_flags: 0x8000\r\n2020-02-14 10:57:12.925 23619-23619/xx.xxxxxxx.xxxxxx.xxxxxxx E/MediaRecorder: stop called in an invalid state: 8\r\n2020-02-14 10:57:12.927 23619-23619/xx.xxxxxxx.xxxxxx.xxxxxxx E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: xx.xxxxxxx.xxxxxx.xxxxxxx, PID: 23619\r\n    java.lang.IllegalStateException\r\n        at android.media.MediaRecorder._stop(Native Method)\r\n        at android.media.MediaRecorder.stop(MediaRecorder.java:1440)\r\n        at xx.xxxxxxx.xxxxxx.xxxxxxx.RecordActivity.stopRecording(RecordActivity.java:98)\r\n        at xx.xxxxxxx.xxxxxx.xxxxxxx.RecordActivity.onRecord(RecordActivity.java:53)\r\n        at xx.xxxxxxx.xxxxxx.xxxxxxx.RecordActivity.access$000(RecordActivity.java:21)\r\n        at xx.xxxxxxx.xxxxxx.xxxxxxx.RecordActivity$RecordButton$1.onClick(RecordActivity.java:108)\r\n        at android.view.View.performClick(View.java:7866)\r\n        at android.widget.TextView.performClick(TextView.java:14952)\r\n        at android.view.View.performClickInternal(View.java:7839)\r\n        at android.view.View.access$3600(View.java:886)\r\n        at android.view.View$PerformClick.run(View.java:29363)\r\n        at android.os.Handler.handleCallback(Handler.java:883)\r\n        at android.os.Handler.dispatchMessage(Handler.java:100)\r\n        at android.os.Looper.loop(Looper.java:237)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7811)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1076)\r\n```\r\n\r\nI can provide any relevant additional code or details if needed\r\n\r\nEDIT\r\nPermission is requested with the following:\r\n```@Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        switch (requestCode){\r\n            case REQUEST_RECORD_AUDIO_PERMISSION:\r\n                permissionToRecordAccepted  = grantResults[0] == PackageManager.PERMISSION_GRANTED;\r\n                break;\r\n        }\r\n        if (!permissionToRecordAccepted ) finish();\r\n\r\n    }\r\n``` \r\n\r\nand inside onCreate():\r\n\r\n```ActivityCompat.requestPermissions(this, permissions, REQUEST_RECORD_AUDIO_PERMISSION);```\r\n\r\nEDIT 2 *\r\nI&#39;ve verified that the audio recording file is being created but is 0 B in size ","title":"Why am I getting an IllegalStateException when stopping MediaRecorder?","body":"<p>To get a better understanding of audio recording and playback in Android, I've implemented a clone of the code in the android dev tutorial <a href=\"https://developer.android.com/guide/topics/media/mediarecorder#sample-code\" rel=\"noreferrer\">https://developer.android.com/guide/topics/media/mediarecorder#sample-code</a></p>\n\n<p>No errors occur upon starting the recording, however, I have yet to verify if any recording is actually taking place. Then when I stop recording, the app crashes to the previous activity and on a subsequent attempt the \"app keeps crashing\" dialog pops up and the app exits.</p>\n\n<p>I have <code>&lt;uses-permission android:name=\"android.permission.RECORD_AUDIO\" /&gt;</code> in the AndroidManifest</p>\n\n<pre><code>private void onRecord(boolean start) {\n        if (start) {\n            startRecording();\n        } else {\n            stopRecording();   // Line 53 //\n        }\n    }\n\nprivate void startRecording() {\n        recorder = new MediaRecorder();\n        recorder.setAudioSource(MediaRecorder.AudioSource.MIC);\n        recorder.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP);\n        recorder.setOutputFile(fileName);\n        System.out.println(fileName);\n        recorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB);\n\n        try {\n            recorder.prepare();\n        } catch (IOException e) {\n            Log.e(LOG_TAG, \"prepare() failed\");\n            //e.printStackTrace();\n        }\n    }\n\nprivate void stopRecording() {\n        recorder.stop();       // Line 98 //\n        recorder.release();\n        recorder = null;\n    }\n\nclass RecordButton extends AppCompatButton {\n        boolean mStartRecording = true;\n\n        OnClickListener clicker = new OnClickListener() {\n            public void onClick(View v) {\n                onRecord(mStartRecording);\n                if(mStartRecording) {\n                    setText(R.string.stop_recording);\n                } else {\n                    setText(R.string.start_recording);\n                }\n                mStartRecording = !mStartRecording;\n            }\n        };\n\n        public RecordButton(Context ctx){\n            super(ctx);\n            setText(R.string.start_recording);\n            setOnClickListener(clicker);\n        }\n    }\n</code></pre>\n\n<p>Logcat output:</p>\n\n<pre><code>2020-02-14 10:57:09.789 23619-23619/? E/Zygote: accessInfo : 1\n2020-02-14 10:57:09.820 23619-23619/? E/.xxxxxx.xxxxxx: Unknown bits set in runtime_flags: 0x8000\n2020-02-14 10:57:12.925 23619-23619/xx.xxxxxxx.xxxxxx.xxxxxxx E/MediaRecorder: stop called in an invalid state: 8\n2020-02-14 10:57:12.927 23619-23619/xx.xxxxxxx.xxxxxx.xxxxxxx E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: xx.xxxxxxx.xxxxxx.xxxxxxx, PID: 23619\n    java.lang.IllegalStateException\n        at android.media.MediaRecorder._stop(Native Method)\n        at android.media.MediaRecorder.stop(MediaRecorder.java:1440)\n        at xx.xxxxxxx.xxxxxx.xxxxxxx.RecordActivity.stopRecording(RecordActivity.java:98)\n        at xx.xxxxxxx.xxxxxx.xxxxxxx.RecordActivity.onRecord(RecordActivity.java:53)\n        at xx.xxxxxxx.xxxxxx.xxxxxxx.RecordActivity.access$000(RecordActivity.java:21)\n        at xx.xxxxxxx.xxxxxx.xxxxxxx.RecordActivity$RecordButton$1.onClick(RecordActivity.java:108)\n        at android.view.View.performClick(View.java:7866)\n        at android.widget.TextView.performClick(TextView.java:14952)\n        at android.view.View.performClickInternal(View.java:7839)\n        at android.view.View.access$3600(View.java:886)\n        at android.view.View$PerformClick.run(View.java:29363)\n        at android.os.Handler.handleCallback(Handler.java:883)\n        at android.os.Handler.dispatchMessage(Handler.java:100)\n        at android.os.Looper.loop(Looper.java:237)\n        at android.app.ActivityThread.main(ActivityThread.java:7811)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1076)\n</code></pre>\n\n<p>I can provide any relevant additional code or details if needed</p>\n\n<p>EDIT\nPermission is requested with the following:</p>\n\n<pre><code>    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        switch (requestCode){\n            case REQUEST_RECORD_AUDIO_PERMISSION:\n                permissionToRecordAccepted  = grantResults[0] == PackageManager.PERMISSION_GRANTED;\n                break;\n        }\n        if (!permissionToRecordAccepted ) finish();\n\n    }\n</code></pre>\n\n<p>and inside onCreate():</p>\n\n<p><code>ActivityCompat.requestPermissions(this, permissions, REQUEST_RECORD_AUDIO_PERMISSION);</code></p>\n\n<p>EDIT 2 *\nI've verified that the audio recording file is being created but is 0 B in size </p>\n"},{"tags":["java","serialization","filenotfoundexception","objectoutputstream","custom-object"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1638724925,"post_id":70236715,"comment_id":124158747,"body_markdown":"Does `&quot;&lt;your name&gt;Fractions.dat&quot;` look like a valid filename to you?","body":"Does <code>&quot;&lt;your name&gt;Fractions.dat&quot;</code> look like a valid filename to you?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1639146609,"post_id":70236715,"comment_id":124280908,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638725564,"creation_date":1638725564,"answer_id":70236818,"question_id":70236715,"body_markdown":"You are using an invalid filename:\r\n\r\n    String fileName = &quot;&lt;your name&gt;Fractions.dat&quot;;\r\n\r\nthat is not a valid name on basically any operating system. It is pretty obvious that you are supposed to replace `&lt;your name&gt;`.","title":"Serializing Custom Objects in Java - java.io.FileNotFoundException","body":"<p>You are using an invalid filename:</p>\n<pre><code>String fileName = &quot;&lt;your name&gt;Fractions.dat&quot;;\n</code></pre>\n<p>that is not a valid name on basically any operating system. It is pretty obvious that you are supposed to replace <code>&lt;your name&gt;</code>.</p>\n"}],"owner":{"account_id":22808372,"reputation":11,"user_id":16960097,"display_name":"Mitchell Walker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1638725564,"creation_date":1638724850,"question_id":70236715,"body_markdown":"I have a method that is requiring me to serialize objects of a custom class &#39;Fraction&#39;. When I attempt to save the object, I get a java.io.FileNotFoundException. What could I do to help alleviate the issue? \r\n\r\n```\r\n    public static void method3()  \r\n    {\r\n        //Serialize the Fraction class.  Save all the objects to a file named \r\n        //     &lt;your name&gt;Fractions.dat\r\n        //replace &lt;your name&gt; with your name in the file name!\r\n        //Be sure to close() the file after writing the data.\r\n\r\n        Fraction[] fa =\r\n        {\r\n            new Fraction(35, 18), new Fraction(125, -30), new Fraction(-125, -30),\r\n            new Fraction(0, 76), new Fraction(98, 12)\r\n        };\r\n\r\n        ArrayList&lt;Fraction&gt; alf = new ArrayList&lt;Fraction&gt;();\r\n        alf.add(new Fraction(81, 9));\r\n        alf.add(new Fraction(-75, 250));\r\n        alf.add(new Fraction(2380, 754));\r\n        \r\n        \r\n        //save all objects to the file here\r\n        \r\n        String fileName = &quot;&lt;your name&gt;Fractions.dat&quot;;\r\n\r\n        try {  \r\n            ObjectOutputStream serializer = new ObjectOutputStream(new FileOutputStream(fileName));\r\n            serializer.writeObject(fa); \r\n            serializer.writeObject(alf);\r\n            serializer.close();\r\n        } catch(FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        } \r\n        catch (IOException e) {\r\n            System.out.println(&quot;A problem occurred when serializing.&quot;);\r\n            e.printStackTrace();\r\n        }\r\n       \r\n    }\r\n\r\n//I made sure to have the Fraction class implement Serializable as demonstrated below\r\n\r\nimport java.io.Serializable;\r\n\r\npublic class Fraction implements Comparable&lt;Fraction&gt;, Serializable\r\n{\r\n    ","title":"Serializing Custom Objects in Java - java.io.FileNotFoundException","body":"<p>I have a method that is requiring me to serialize objects of a custom class 'Fraction'. When I attempt to save the object, I get a java.io.FileNotFoundException. What could I do to help alleviate the issue?</p>\n<pre><code>    public static void method3()  \n    {\n        //Serialize the Fraction class.  Save all the objects to a file named \n        //     &lt;your name&gt;Fractions.dat\n        //replace &lt;your name&gt; with your name in the file name!\n        //Be sure to close() the file after writing the data.\n\n        Fraction[] fa =\n        {\n            new Fraction(35, 18), new Fraction(125, -30), new Fraction(-125, -30),\n            new Fraction(0, 76), new Fraction(98, 12)\n        };\n\n        ArrayList&lt;Fraction&gt; alf = new ArrayList&lt;Fraction&gt;();\n        alf.add(new Fraction(81, 9));\n        alf.add(new Fraction(-75, 250));\n        alf.add(new Fraction(2380, 754));\n        \n        \n        //save all objects to the file here\n        \n        String fileName = &quot;&lt;your name&gt;Fractions.dat&quot;;\n\n        try {  \n            ObjectOutputStream serializer = new ObjectOutputStream(new FileOutputStream(fileName));\n            serializer.writeObject(fa); \n            serializer.writeObject(alf);\n            serializer.close();\n        } catch(FileNotFoundException e) {\n            e.printStackTrace();\n        } \n        catch (IOException e) {\n            System.out.println(&quot;A problem occurred when serializing.&quot;);\n            e.printStackTrace();\n        }\n       \n    }\n\n//I made sure to have the Fraction class implement Serializable as demonstrated below\n\nimport java.io.Serializable;\n\npublic class Fraction implements Comparable&lt;Fraction&gt;, Serializable\n{\n    \n</code></pre>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":9451181,"reputation":864,"user_id":7519767,"accept_rate":50,"display_name":"Peter Samokhin"},"score":1,"creation_date":1523604445,"post_id":49811511,"comment_id":86637517,"body_markdown":"Please edit first snippet, make `User extends Base`","body":"Please edit first snippet, make <code>User extends Base</code>"},{"owner":{"account_id":1341993,"reputation":2674,"user_id":1283501,"accept_rate":74,"display_name":"Wolf359"},"score":0,"creation_date":1523647239,"post_id":49811511,"comment_id":86663457,"body_markdown":"Done. I didn&#39;t copy paste the code and forgot to add it.","body":"Done. I didn&#39;t copy paste the code and forgot to add it."}],"answers":[{"tags":[],"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1523605023,"creation_date":1523605023,"answer_id":49811691,"question_id":49811511,"body_markdown":"I believe it&#39;s simply a matter of passing the ID to the constructor of the superclass\r\n\r\n    open class Base(var id: Long? = null)\r\n    class User(\r\n        var id: Long? = null,\r\n        var name: String? = null,\r\n        var age: Int? = null\r\n    ) : Base(id)","title":"Simple inheritance example in Kotlin","body":"<p>I believe it's simply a matter of passing the ID to the constructor of the superclass</p>\n\n<pre><code>open class Base(var id: Long? = null)\nclass User(\n    var id: Long? = null,\n    var name: String? = null,\n    var age: Int? = null\n) : Base(id)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2558901,"reputation":1768,"user_id":2220337,"accept_rate":100,"display_name":"cjurjiu"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1523608467,"creation_date":1523605203,"answer_id":49811749,"question_id":49811511,"body_markdown":"First, your Kotlin code would not compile, because you would get the following error: `Error:&#39;id&#39; hides member of supertype &#39;Base&#39; and needs &#39;override&#39; modifier`.\r\n\r\nBasically, the compiler would also complain that you redeclared `id` from `Base`, in `User`.\r\n\r\nIf you want to redeclare it, you need to first make `id` [open][1] in `Base`, and then in `User`, you need to use the [override][1] keyword, when redeclarding `id`. (also see [this][2])\r\n\r\nFurthermore, for the Kotlin compiler to generate overloads of the `User` constructor, you need to annotate your primary constructor with [@JvmOverloads][3]. Without @JvmOverloads, you wouldn&#39;t be able to use the `User(id)` constructor (just `id` as param) in Java, and would have to specify all 3 parameters.\r\n\r\nSo your code would become:\r\n\r\n    open class Base(open var id: Long? = null)\r\n    \r\n    class User @JvmOverloads constructor(override var id: Long? = null,\r\n                                         var name: String? = null,\r\n                                         var age: Int? = null\r\n    ) : Base(id)\r\n\r\nNow, if you don&#39;t want to redeclare `id` in User, you can simply not use `var` in front of it, and instead pass it directly to `Base`, when calling its constructor. So basically this:\r\n\r\n    open class Base(var id: Long? = null)\r\n    \r\n    class User @JvmOverloads constructor(id: Long? = null,\r\n                                         var name: String? = null,\r\n                                         var age: Int? = null\r\n    ) : Base(id)\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/reference/classes.html#overriding-properties\r\n  [2]: https://stackoverflow.com/questions/46399430/difference-between-open-and-override-methods-in-kotlin?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\r\n  [3]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-jvm-overloads/","title":"Simple inheritance example in Kotlin","body":"<p>First, your Kotlin code would not compile, because you would get the following error: <code>Error:'id' hides member of supertype 'Base' and needs 'override' modifier</code>.</p>\n\n<p>Basically, the compiler would also complain that you redeclared <code>id</code> from <code>Base</code>, in <code>User</code>.</p>\n\n<p>If you want to redeclare it, you need to first make <code>id</code> <a href=\"https://kotlinlang.org/docs/reference/classes.html#overriding-properties\" rel=\"noreferrer\">open</a> in <code>Base</code>, and then in <code>User</code>, you need to use the <a href=\"https://kotlinlang.org/docs/reference/classes.html#overriding-properties\" rel=\"noreferrer\">override</a> keyword, when redeclarding <code>id</code>. (also see <a href=\"https://stackoverflow.com/questions/46399430/difference-between-open-and-override-methods-in-kotlin?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\">this</a>)</p>\n\n<p>Furthermore, for the Kotlin compiler to generate overloads of the <code>User</code> constructor, you need to annotate your primary constructor with <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-jvm-overloads/\" rel=\"noreferrer\">@JvmOverloads</a>. Without @JvmOverloads, you wouldn't be able to use the <code>User(id)</code> constructor (just <code>id</code> as param) in Java, and would have to specify all 3 parameters.</p>\n\n<p>So your code would become:</p>\n\n<pre><code>open class Base(open var id: Long? = null)\n\nclass User @JvmOverloads constructor(override var id: Long? = null,\n                                     var name: String? = null,\n                                     var age: Int? = null\n) : Base(id)\n</code></pre>\n\n<p>Now, if you don't want to redeclare <code>id</code> in User, you can simply not use <code>var</code> in front of it, and instead pass it directly to <code>Base</code>, when calling its constructor. So basically this:</p>\n\n<pre><code>open class Base(var id: Long? = null)\n\nclass User @JvmOverloads constructor(id: Long? = null,\n                                     var name: String? = null,\n                                     var age: Int? = null\n) : Base(id)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11282124,"reputation":694,"user_id":14004940,"display_name":"Mr. Techie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638724400,"creation_date":1638724400,"answer_id":70236647,"question_id":49811511,"body_markdown":"First of all, your code will give the error: `&#39;id&#39; hides member of supertype &#39;Base&#39; and needs &#39;override&#39; modifier` when you try to run it.\\\r\nThis is because when kotlin compiler sees `var id: Long? = null` it will try to create a variable with name `id` and type `Long?`. But due to inheritance it would have already had `id` variable in its scope.\\\r\nSo the compiler will complain you to **either access the variable or create it and hence the above error**.\r\n\r\nNow to answer your question: `How can I set the id field of the base class in Kotlin`\\\r\nYou can do that by:\r\n```\r\nopen class Base(var id: Long?=null)\r\nclass User(\r\n        id: Long?=null,\r\n        var name: String? = null,\r\n        var age: Int? = null\r\n) : Base(id)\r\n```\r\nHere in the above code, what I did is I have overridden the `id` variable in the child class constructor `User`. So this `id` variable can take any `Long` type value (that we will pass while calling the `User` class constructor) or `null` as the default value.\\\r\nAfter that I have just passed this new value to `Base` class by `Base(id)` that is same as doing `this.id = id` in java.\r\n\r\nHope this answer is helpful.","title":"Simple inheritance example in Kotlin","body":"<p>First of all, your code will give the error: <code>'id' hides member of supertype 'Base' and needs 'override' modifier</code> when you try to run it.<br />\nThis is because when kotlin compiler sees <code>var id: Long? = null</code> it will try to create a variable with name <code>id</code> and type <code>Long?</code>. But due to inheritance it would have already had <code>id</code> variable in its scope.<br />\nSo the compiler will complain you to <strong>either access the variable or create it and hence the above error</strong>.</p>\n<p>Now to answer your question: <code>How can I set the id field of the base class in Kotlin</code><br />\nYou can do that by:</p>\n<pre><code>open class Base(var id: Long?=null)\nclass User(\n        id: Long?=null,\n        var name: String? = null,\n        var age: Int? = null\n) : Base(id)\n</code></pre>\n<p>Here in the above code, what I did is I have overridden the <code>id</code> variable in the child class constructor <code>User</code>. So this <code>id</code> variable can take any <code>Long</code> type value (that we will pass while calling the <code>User</code> class constructor) or <code>null</code> as the default value.<br />\nAfter that I have just passed this new value to <code>Base</code> class by <code>Base(id)</code> that is same as doing <code>this.id = id</code> in java.</p>\n<p>Hope this answer is helpful.</p>\n"}],"owner":{"account_id":1341993,"reputation":2674,"user_id":1283501,"accept_rate":74,"display_name":"Wolf359"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10105,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":49811749,"answer_count":3,"score":6,"last_activity_date":1638724400,"creation_date":1523604305,"question_id":49811511,"body_markdown":"In Java I have these two classes :\r\n\r\n    public class Base {\r\n        protected Long id;\r\n        // getter setter\r\n    }\r\n    public User extends Base {\r\n        private String name;\r\n        private Integer age;\r\n        public User(Long id) { this.id = id; }\r\n        // getter setter\r\n    }\r\n\r\n\r\nI created these two classes in Kotlin :\r\n\r\n    open class Base(var id: Long? = null)\r\n    class User(\r\n            var id: Long? = null,\r\n            var name: String? = null,\r\n            var age: Int? = null\r\n    ) : Base()\r\n\r\nNow in Java I want to call the User() constructor with only the &#39;id&#39; parameter :\r\n\r\n    new User(5);\r\n\r\nThis seems wrong to me, because by doing this I re-declared the &quot;id&quot; field in the User class.\r\n\r\nHow can I set the id field of the base class in Kotlin (like I did in Java with &quot;this.id = id;&quot; ?\r\n\r\n\r\n","title":"Simple inheritance example in Kotlin","body":"<p>In Java I have these two classes :</p>\n\n<pre><code>public class Base {\n    protected Long id;\n    // getter setter\n}\npublic User extends Base {\n    private String name;\n    private Integer age;\n    public User(Long id) { this.id = id; }\n    // getter setter\n}\n</code></pre>\n\n<p>I created these two classes in Kotlin :</p>\n\n<pre><code>open class Base(var id: Long? = null)\nclass User(\n        var id: Long? = null,\n        var name: String? = null,\n        var age: Int? = null\n) : Base()\n</code></pre>\n\n<p>Now in Java I want to call the User() constructor with only the 'id' parameter :</p>\n\n<pre><code>new User(5);\n</code></pre>\n\n<p>This seems wrong to me, because by doing this I re-declared the \"id\" field in the User class.</p>\n\n<p>How can I set the id field of the base class in Kotlin (like I did in Java with \"this.id = id;\" ?</p>\n"},{"tags":["java","gradle","jhipster"],"answers":[{"tags":[],"owner":{"account_id":4932695,"reputation":805,"user_id":3971900,"display_name":"An&#237;bal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1638723500,"creation_date":1637870280,"answer_id":70116630,"question_id":70115815,"body_markdown":"This seems like a bug, I opened an [issue][1], meanwhile this **workaround** works:\r\n1. In profile_prod.gradle, add to the processResources config: `filter { it.replace(&#39;#spring.profiles.active#&#39;, profiles) }`\r\n\r\n2. Remove or comment *bootstrap.yml* file, it has an empty spring.profiles.active that overwrites the previous replacement.\r\n\r\n  [1]: https://github.com/jhipster/generator-jhipster/issues/17134","title":"Profile change is not working with gradle in jhipster 7","body":"<p>This seems like a bug, I opened an <a href=\"https://github.com/jhipster/generator-jhipster/issues/17134\" rel=\"nofollow noreferrer\">issue</a>, meanwhile this <strong>workaround</strong> works:</p>\n<ol>\n<li><p>In profile_prod.gradle, add to the processResources config: <code>filter { it.replace('#spring.profiles.active#', profiles) }</code></p>\n</li>\n<li><p>Remove or comment <em>bootstrap.yml</em> file, it has an empty spring.profiles.active that overwrites the previous replacement.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":4932695,"reputation":805,"user_id":3971900,"display_name":"An&#237;bal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":441,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638723500,"creation_date":1637864968,"question_id":70115815,"body_markdown":"Changing profiles doesn&#39;t work in an app generated with jhipster (v7.3 &amp; 7.4) and gradle. I followed [this](https://www.jhipster.tech/profiles/). When I run from command-line `gradlew -Pprod`, the app always starts in dev profile:\r\n\r\n    No active profile set, falling back to default profiles: dev,api-docs\r\n\r\nI think something broke in the generators as nobody is providing the `spring.profiles.active` property. I miss `it.replace(&#39;#spring.profiles.active#&#39;, profiles)}` in the *profile_prod.gradle* file that I saw in previous releases. I added it, now *application.yml* in *build* folder contains `spring: profiles: active: prod`, but the app keeps defaulting to dev.\r\n\r\nThis is my **profile_prod.gradle**:\r\n\r\n    dependencies {\r\n        testImplementation &quot;com.h2database:h2&quot;\r\n    }\r\n    def profiles = &quot;prod&quot;\r\n    if (project.hasProperty(&quot;no-liquibase&quot;)) {\r\n        profiles += &quot;,no-liquibase&quot;\r\n    }\r\n    if (project.hasProperty(&quot;api-docs&quot;)) {\r\n        profiles += &quot;,api-docs&quot;\r\n    }\r\n    springBoot {\r\n        buildInfo()\r\n    }\r\n    bootRun {\r\n        args = []\r\n    }\r\n    processResources {\r\n    \tprintln &#39;I&#39;m running -Pprod!&#39;\r\n        inputs.property(&#39;version&#39;, version)\r\n        inputs.property(&#39;springProfiles&#39;, profiles)\r\n        filesMatching(&quot;**/application.yml&quot;) {\r\n            filter {\r\n                it.replace(&quot;#project.version#&quot;, version)\r\n            }\r\n        }\r\n    }\r\n","title":"Profile change is not working with gradle in jhipster 7","body":"<p>Changing profiles doesn't work in an app generated with jhipster (v7.3 &amp; 7.4) and gradle. I followed <a href=\"https://www.jhipster.tech/profiles/\" rel=\"nofollow noreferrer\">this</a>. When I run from command-line <code>gradlew -Pprod</code>, the app always starts in dev profile:</p>\n<pre><code>No active profile set, falling back to default profiles: dev,api-docs\n</code></pre>\n<p>I think something broke in the generators as nobody is providing the <code>spring.profiles.active</code> property. I miss <code>it.replace('#spring.profiles.active#', profiles)}</code> in the <em>profile_prod.gradle</em> file that I saw in previous releases. I added it, now <em>application.yml</em> in <em>build</em> folder contains <code>spring: profiles: active: prod</code>, but the app keeps defaulting to dev.</p>\n<p>This is my <strong>profile_prod.gradle</strong>:</p>\n<pre><code>dependencies {\n    testImplementation &quot;com.h2database:h2&quot;\n}\ndef profiles = &quot;prod&quot;\nif (project.hasProperty(&quot;no-liquibase&quot;)) {\n    profiles += &quot;,no-liquibase&quot;\n}\nif (project.hasProperty(&quot;api-docs&quot;)) {\n    profiles += &quot;,api-docs&quot;\n}\nspringBoot {\n    buildInfo()\n}\nbootRun {\n    args = []\n}\nprocessResources {\n    println 'I'm running -Pprod!'\n    inputs.property('version', version)\n    inputs.property('springProfiles', profiles)\n    filesMatching(&quot;**/application.yml&quot;) {\n        filter {\n            it.replace(&quot;#project.version#&quot;, version)\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","multiplication"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1638709116,"post_id":70234488,"comment_id":124154809,"body_markdown":"You might want to check other questions like https://stackoverflow.com/questions/5121698/java-sum-2-negative-numbers","body":"You might want to check other questions like <a href=\"https://stackoverflow.com/questions/5121698/java-sum-2-negative-numbers\" title=\"java sum 2 negative numbers\">stackoverflow.com/questions/5121698/java-sum-2-negative-numb&zwnj;&#8203;ers</a>"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":2,"creation_date":1638709274,"post_id":70234488,"comment_id":124154843,"body_markdown":"Also, you might want to add a `System.out.println(total);` inside the `for` loop to see how the value is changing when the `for` loop is executing.","body":"Also, you might want to add a <code>System.out.println(total);</code> inside the <code>for</code> loop to see how the value is changing when the <code>for</code> loop is executing."},{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1638715182,"post_id":70234488,"comment_id":124156279,"body_markdown":"Does this answer your question? [Overflow occurs with multiplication](https://stackoverflow.com/questions/30606365/overflow-occurs-with-multiplication)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/30606365/overflow-occurs-with-multiplication\">Overflow occurs with multiplication</a>"},{"owner":{"account_id":17156544,"reputation":33,"user_id":12417291,"display_name":"Qusay Abu Auda"},"score":0,"creation_date":1638715805,"post_id":70234488,"comment_id":124156420,"body_markdown":"@AlexRudenko yeah it answered a lot but I still don&#39;t understand the difference of outputs when using double and long. I think both of them should give the same output","body":"@AlexRudenko yeah it answered a lot but I still don&#39;t understand the difference of outputs when using double and long. I think both of them should give the same output"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":2,"creation_date":1638716677,"post_id":70234488,"comment_id":124156599,"body_markdown":"@QusayAbuAuda The actual result for `total` is `2725392139750729502980713245400918633290796330545803413734328823443106201171875`, but the type `long` has an upper limit of `9223372036854775807`, so the result cannot be stored in a `long` typed variable.","body":"@QusayAbuAuda The actual result for <code>total</code> is <code>272539213975072950298071324540091863329079633054580341373432&zwnj;&#8203;8823443106201171875</code>, but the type <code>long</code> has an upper limit of <code>9223372036854775807</code>, so the result cannot be stored in a <code>long</code> typed variable."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1638716867,"post_id":70234488,"comment_id":124156630,"body_markdown":"@QusayAbuAuda The result cannot be saved in a `double` typed variable either, as double has a precision of ~15 digits, but this number have ~78 digits. The value in a `double` type variable will not be precise to hold that value.","body":"@QusayAbuAuda The result cannot be saved in a <code>double</code> typed variable either, as double has a precision of ~15 digits, but this number have ~78 digits. The value in a <code>double</code> type variable will not be precise to hold that value."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299856,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1638709386,"creation_date":1638709386,"answer_id":70234566,"question_id":70234488,"body_markdown":"With different datatypes, the result would [overflow](https://en.wikipedia.org/wiki/Integer_overflow) in different ways. The result when using a `double` looks correct, although you&#39;re probably losing a lot of precision there. If you want to properly multiply an integer of arbitrary size, you should probably use a [`BigInteger`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigInteger.html):\r\n\r\n```java\r\nBigInteger total = BigInteger.ONE;\r\nfor (int i = 1; i &lt;= 100; i++) {\r\n    if (i % 2 != 0) {\r\n        total = total.multiply(BigInteger.valueOf(i));\r\n    }\r\n}\r\nSystem.out.println(total);\r\n```\r\n\r\nSide note: instead of iterating all the `int`s between `1` and `100` and checking if they are odd or not, you could start with `1` and then increment each iteration by `2` instead of `1`:\r\n\r\n```java\r\nBigInteger total = BigInteger.ONE;\r\nfor (int i = 1; i &lt; 100; i+=2) {\r\n    total = total.multiply(BigInteger.valueOf(i));\r\n}\r\nSystem.out.println(total);\r\n```","title":"Why changing the data type changing the whole result?","body":"<p>With different datatypes, the result would <a href=\"https://en.wikipedia.org/wiki/Integer_overflow\" rel=\"noreferrer\">overflow</a> in different ways. The result when using a <code>double</code> looks correct, although you're probably losing a lot of precision there. If you want to properly multiply an integer of arbitrary size, you should probably use a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigInteger.html\" rel=\"noreferrer\"><code>BigInteger</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BigInteger total = BigInteger.ONE;\nfor (int i = 1; i &lt;= 100; i++) {\n    if (i % 2 != 0) {\n        total = total.multiply(BigInteger.valueOf(i));\n    }\n}\nSystem.out.println(total);\n</code></pre>\n<p>Side note: instead of iterating all the <code>int</code>s between <code>1</code> and <code>100</code> and checking if they are odd or not, you could start with <code>1</code> and then increment each iteration by <code>2</code> instead of <code>1</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BigInteger total = BigInteger.ONE;\nfor (int i = 1; i &lt; 100; i+=2) {\n    total = total.multiply(BigInteger.valueOf(i));\n}\nSystem.out.println(total);\n</code></pre>\n"}],"owner":{"account_id":17156544,"reputation":33,"user_id":12417291,"display_name":"Qusay Abu Auda"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":70234566,"answer_count":1,"score":2,"last_activity_date":1638723483,"creation_date":1638708831,"question_id":70234488,"body_markdown":"I wrote a program to calculate the multiplication of odd numbers between `1` and `100`. So why does changing the data type give me a whole different output? Why is the output a negative number when I use `int`? Additionally, the other results seem weird.\r\nCode: \r\n\r\n\r\n    long total = 1L;\r\n    for (int i = 1; i &lt;= 100; i++) {\r\n        if (i % 2 != 0) {\r\n            total *= i;\r\n        }\r\n    }\r\n    System.out.println(total);\r\n\r\n\r\nThe output in different cases :\r\n\r\n\r\n5196472710489536419 (if total is `long`)\r\n\r\n-373459037 (if total is `int`)\r\n\r\n2.7253921397507295E78 (if total is `double`)\r\n\r\nInfinity (if total is `float`)\r\n","title":"Why changing the data type changing the whole result?","body":"<p>I wrote a program to calculate the multiplication of odd numbers between <code>1</code> and <code>100</code>. So why does changing the data type give me a whole different output? Why is the output a negative number when I use <code>int</code>? Additionally, the other results seem weird.\nCode:</p>\n<pre><code>long total = 1L;\nfor (int i = 1; i &lt;= 100; i++) {\n    if (i % 2 != 0) {\n        total *= i;\n    }\n}\nSystem.out.println(total);\n</code></pre>\n<p>The output in different cases :</p>\n<p>5196472710489536419 (if total is <code>long</code>)</p>\n<p>-373459037 (if total is <code>int</code>)</p>\n<p>2.7253921397507295E78 (if total is <code>double</code>)</p>\n<p>Infinity (if total is <code>float</code>)</p>\n"},{"tags":["java","sudoku"],"comments":[{"owner":{"account_id":20664371,"reputation":77,"user_id":15171588,"display_name":"Thomas Herondale"},"score":0,"creation_date":1638717429,"post_id":70235486,"comment_id":124156749,"body_markdown":"Can&#39;t you just iterate over a single row/column and check for the values?","body":"Can&#39;t you just iterate over a single row/column and check for the values?"},{"owner":{"account_id":17709593,"reputation":11,"user_id":12857401,"display_name":"test_junkie123"},"score":0,"creation_date":1638717686,"post_id":70235486,"comment_id":124156811,"body_markdown":"but how can I iterate the entire 9 cels at one go? one row consists of three 3x3 squares","body":"but how can I iterate the entire 9 cels at one go? one row consists of three 3x3 squares"},{"owner":{"account_id":20664371,"reputation":77,"user_id":15171588,"display_name":"Thomas Herondale"},"score":0,"creation_date":1638718023,"post_id":70235486,"comment_id":124156884,"body_markdown":"The 3x3 square is a bi dimensional array too, you can iterate one row at a time. e.g. to iterate in the first row, you can use: for(int j = 0; j &lt; ROWS; j++) and mat[0][i]","body":"The 3x3 square is a bi dimensional array too, you can iterate one row at a time. e.g. to iterate in the first row, you can use: for(int j = 0; j &lt; ROWS; j++) and mat[0][i]"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1638720933,"post_id":70235486,"comment_id":124157586,"body_markdown":"Your assignment data definitions make the task of checking the 9 x 9 difficult.  It would be a lot easier to create one 9 x 9 int array and pass a 3 x 3 int sub-array to the `Square3x3` class.  You&#39;d do this by passing the row and column of the upper left of the 3 x 3 inside of the 9 x 9.  As one example, the middle 3 x 3 int array is located starting at row 3, column 3.","body":"Your assignment data definitions make the task of checking the 9 x 9 difficult.  It would be a lot easier to create one 9 x 9 int array and pass a 3 x 3 int sub-array to the <code>Square3x3</code> class.  You&#39;d do this by passing the row and column of the upper left of the 3 x 3 inside of the 9 x 9.  As one example, the middle 3 x 3 int array is located starting at row 3, column 3."}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638723297,"creation_date":1638721922,"answer_id":70236292,"question_id":70235486,"body_markdown":"Here&#39;s one way to improve your data definitions using the same two classes.  Define one 9 x 9 int array, and pass a sub-array to your `allThere` method by using the row and column indexes.\r\n\r\n    public class Sudoku {\r\n         private int[][] grid9x9 = new int[9][9];\r\n    }\r\n\r\n\tpublic class Square3x3 {\r\n\r\n\t\tpublic boolean allThere(int[][] grid, int row, int column) {\r\n\t\t\tint[] options = { 1, 2, 3, 4, 5, 6, 7, 8, 9 };\r\n\r\n\t\t\tfor (int i = row; i &lt; row + 3; i++) {\r\n\t\t\t\tfor (int j = column; j &lt; column + 3; j++) {\r\n\t\t\t\t\toptions = testOptions(options, grid[i][j]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfor (int num : options) {\r\n\t\t\t\tif (num != -1)\r\n\t\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tprivate int[] testOptions(int[] options, int gridValue) {\r\n\t\t\tfor (int i = 0; i &lt; options.length; i++) {\r\n\t\t\t\tif (gridValue == options[i]) {\r\n\t\t\t\t\toptions[i] = -1;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn options;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\r\nI cleaned up your `allThere` code to document that the `break` statement only breaks out of the options loop.","title":"checking rows and cols in a 9x9 grid","body":"<p>Here's one way to improve your data definitions using the same two classes.  Define one 9 x 9 int array, and pass a sub-array to your <code>allThere</code> method by using the row and column indexes.</p>\n<pre><code>public class Sudoku {\n     private int[][] grid9x9 = new int[9][9];\n}\n\npublic class Square3x3 {\n\n    public boolean allThere(int[][] grid, int row, int column) {\n        int[] options = { 1, 2, 3, 4, 5, 6, 7, 8, 9 };\n\n        for (int i = row; i &lt; row + 3; i++) {\n            for (int j = column; j &lt; column + 3; j++) {\n                options = testOptions(options, grid[i][j]);\n            }\n        }\n\n        for (int num : options) {\n            if (num != -1)\n                return false;\n        }\n\n        return true;\n    }\n\n    private int[] testOptions(int[] options, int gridValue) {\n        for (int i = 0; i &lt; options.length; i++) {\n            if (gridValue == options[i]) {\n                options[i] = -1;\n                break;\n            }\n        }\n        return options;\n    }\n    \n}\n</code></pre>\n<p>I cleaned up your <code>allThere</code> code to document that the <code>break</code> statement only breaks out of the options loop.</p>\n"}],"owner":{"account_id":17709593,"reputation":11,"user_id":12857401,"display_name":"test_junkie123"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638723297,"creation_date":1638715975,"question_id":70235486,"body_markdown":"I have an assignment in which I have to create the following classes:\r\n\r\n    public class Square3x3 {\r\n        private int[][] mat = new int [3][3];\r\n\r\n        public boolean allThere(){\r\n            int[] options = {1,2,3,4,5,6,7,8,9};\r\n\r\n            for (int i = 0 ; i &lt; NUM_OF_ROWS; i++){\r\n                for(int j =0 ; j &lt; NUM_OF_COLS; j++){\r\n                    for (int k = 0; k &lt; options.length; k++){\r\n                        if(mat[i][j] == options[k]) {\r\n                             options[k] = -1;\r\n                             break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        for (int num : options) {\r\n            if(num != -1) return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n \r\n\r\n    \r\na class that represents a 3x3 2d array, and a sudoku class that is constructed by a 3x3 2d array of Square3x3 objects:\r\n\r\n    public class Sudoku {\r\n         private Square3x3[][] grid9x9 = new Square3x3[3][3];\r\n    }\r\n\r\nI need to check if the 9x9 grid is valid, I have a method to check if a single 3x3 object is valid, but I also need to check if the entire row/col of the 9x9 grid is valid (has all the numbers from 1-9)","title":"checking rows and cols in a 9x9 grid","body":"<p>I have an assignment in which I have to create the following classes:</p>\n<pre><code>public class Square3x3 {\n    private int[][] mat = new int [3][3];\n\n    public boolean allThere(){\n        int[] options = {1,2,3,4,5,6,7,8,9};\n\n        for (int i = 0 ; i &lt; NUM_OF_ROWS; i++){\n            for(int j =0 ; j &lt; NUM_OF_COLS; j++){\n                for (int k = 0; k &lt; options.length; k++){\n                    if(mat[i][j] == options[k]) {\n                         options[k] = -1;\n                         break;\n                }\n            }\n        }\n    }\n\n    for (int num : options) {\n        if(num != -1) return false;\n    }\n\n    return true;\n}\n</code></pre>\n<p>a class that represents a 3x3 2d array, and a sudoku class that is constructed by a 3x3 2d array of Square3x3 objects:</p>\n<pre><code>public class Sudoku {\n     private Square3x3[][] grid9x9 = new Square3x3[3][3];\n}\n</code></pre>\n<p>I need to check if the 9x9 grid is valid, I have a method to check if a single 3x3 object is valid, but I also need to check if the entire row/col of the 9x9 grid is valid (has all the numbers from 1-9)</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":13356906,"reputation":1,"user_id":9640149,"display_name":"Atul Anand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638580281,"creation_date":1638580281,"answer_id":70222277,"question_id":70222111,"body_markdown":"I believe you&#39;re trying to create an input form for a list of people. You might want to introduce a `User` class which will have all the fields for the user.\r\n\r\nRegarding the update User flow, the part inside the flag boolean check should use some sort of identifier and value mechanism. The identifier selected in one entry will have the value passed as the next input.\r\n\r\nAs the first statement, you should ask the id or email or any other unique identifier for the user, the info has to be updated. \r\n\r\nNext, show the list of fields and a corresponding number which will be entered by the user. People prefer to use a reference instead of typing long words, the trouble of spelling errors is cumbersome. Enums are a great way to manage field name with a corresponding number.\r\n\r\nOnce the user entered a number (identifier), show the prompt of which field will be updated and show a sample value in brackets. The user can then enter the new value and you can update the information.\r\n\r\nYou can either prompt next to update a different field for the same user without asking for the id or start the update flow all over again. Cheers!\r\n","title":"How to write a method to ask what index and what value to update users information in Array","body":"<p>I believe you're trying to create an input form for a list of people. You might want to introduce a <code>User</code> class which will have all the fields for the user.</p>\n<p>Regarding the update User flow, the part inside the flag boolean check should use some sort of identifier and value mechanism. The identifier selected in one entry will have the value passed as the next input.</p>\n<p>As the first statement, you should ask the id or email or any other unique identifier for the user, the info has to be updated.</p>\n<p>Next, show the list of fields and a corresponding number which will be entered by the user. People prefer to use a reference instead of typing long words, the trouble of spelling errors is cumbersome. Enums are a great way to manage field name with a corresponding number.</p>\n<p>Once the user entered a number (identifier), show the prompt of which field will be updated and show a sample value in brackets. The user can then enter the new value and you can update the information.</p>\n<p>You can either prompt next to update a different field for the same user without asking for the id or start the update flow all over again. Cheers!</p>\n"},{"tags":[],"owner":{"account_id":21868239,"reputation":11,"user_id":16158100,"display_name":"Ivan Manhique"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638722552,"creation_date":1638582984,"answer_id":70222454,"question_id":70222111,"body_markdown":"    import java.util.Arrays;\r\n    import java.util.Scanner;\r\n    \r\n    public class UpdateUserInfo {\r\n    \r\n        public static void main(String[] args) {\r\n            String[] arrayList = { &quot;Name&quot;, &quot;LastName&quot;, &quot;08/19/1995&quot;,\r\n                    &quot;123 main Street, mcLean, VA 22102&quot;, &quot;7576330954&quot;};\r\n            Scanner scan = new Scanner(System.in);\r\n            System.out.println(&quot;to edit the name type: 0, \\nto edit the last name type: 1\\nto edit birthday type:2\\n&quot; +\r\n                    &quot;to edit address type:3\\nand to edit id type:4&quot;);\r\n            int option = scan.nextInt();\r\n            System.out.println(&quot;change the value: &quot;);\r\n            String desire = scan.next();// this is where you input the replacement value\r\n            scan.close();\r\n            System.out.println(&quot; before:&quot;);\r\n            System.out.println(Arrays.deepToString(arrayList));\r\n            System.out.println(&quot; after:&quot;);\r\n            System.out.println(Arrays.deepToString(changeUserInfo(arrayList,option,desire)));\r\n        }\r\n    \r\n        public static String[] changeUserInfo(String[] array,int value, String to){\r\n            array[value] = to;// the [value] is to access the list in the desired area you want to make  a change.\r\n            return array;\r\n        }\r\n    }\r\n\r\nHere I created a menu to make the user choose the number according to the value he wants to change. After that I created a method that returns an array and accessed the the array using the &quot;value&quot; as index, and made the change. ","title":"How to write a method to ask what index and what value to update users information in Array","body":"<pre><code>import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class UpdateUserInfo {\n\n    public static void main(String[] args) {\n        String[] arrayList = { &quot;Name&quot;, &quot;LastName&quot;, &quot;08/19/1995&quot;,\n                &quot;123 main Street, mcLean, VA 22102&quot;, &quot;7576330954&quot;};\n        Scanner scan = new Scanner(System.in);\n        System.out.println(&quot;to edit the name type: 0, \\nto edit the last name type: 1\\nto edit birthday type:2\\n&quot; +\n                &quot;to edit address type:3\\nand to edit id type:4&quot;);\n        int option = scan.nextInt();\n        System.out.println(&quot;change the value: &quot;);\n        String desire = scan.next();// this is where you input the replacement value\n        scan.close();\n        System.out.println(&quot; before:&quot;);\n        System.out.println(Arrays.deepToString(arrayList));\n        System.out.println(&quot; after:&quot;);\n        System.out.println(Arrays.deepToString(changeUserInfo(arrayList,option,desire)));\n    }\n\n    public static String[] changeUserInfo(String[] array,int value, String to){\n        array[value] = to;// the [value] is to access the list in the desired area you want to make  a change.\n        return array;\n    }\n}\n</code></pre>\n<p>Here I created a menu to make the user choose the number according to the value he wants to change. After that I created a method that returns an array and accessed the the array using the &quot;value&quot; as index, and made the change.</p>\n"}],"owner":{"account_id":266755,"reputation":35,"user_id":554505,"accept_rate":25,"display_name":"user554505"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1638722552,"creation_date":1638578207,"question_id":70222111,"body_markdown":"    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Scanner;\r\n    \r\n    public class UpdateUserInfo { \r\n        public static void main(String[] args) {\r\n            ArrayList&lt;String&gt; userList = new ArrayList&lt;&gt;(Arrays.asList(&quot;Name&quot;, &quot;LastName&quot;, &quot;08/19/1995&quot;,\r\n                    &quot;123 main Street, mcLean, VA 22102&quot;, &quot;7576330954&quot;));\r\n    \r\n           // To update user&#39;s information, please edit value in double quotes, this is a basic way, but can we create our own method for it\r\n    //        userList.set(0, &quot;Name&quot;); // name\r\n    //        userList.set(1, &quot;LastName&quot;);\r\n    //        userList.set(2, &quot;08/19/1995&quot;);\r\n    //        userList.set(3, &quot;123 main Street, mcLean, VA 22102&quot;);\r\n    //        userList.set(4, &quot;7576330954&quot;);\r\n    \r\n            System.out.print(userList);\r\n           // changeUserInfo();\r\n    \r\n        }\r\n// Here is my attempt to create my own method\r\n\r\n        public static void changeUserInfo(String[] name, String lName, String dob, String address, String phone){\r\n            Scanner scan = new Scanner(System.in);\r\n            System.out.println(&quot;Do you wish to update your info? &quot;);\r\n            boolean flag = scan.hasNextBoolean();\r\n            if(flag == true){\r\n                System.out.println(&quot;What info do you want to update? Name? LastName?&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nI was thinking to add boolean to see if they user want to change info, if yes  then change it.","title":"How to write a method to ask what index and what value to update users information in Array","body":"<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Scanner;\n\npublic class UpdateUserInfo { \n    public static void main(String[] args) {\n        ArrayList&lt;String&gt; userList = new ArrayList&lt;&gt;(Arrays.asList(&quot;Name&quot;, &quot;LastName&quot;, &quot;08/19/1995&quot;,\n                &quot;123 main Street, mcLean, VA 22102&quot;, &quot;7576330954&quot;));\n\n       // To update user's information, please edit value in double quotes, this is a basic way, but can we create our own method for it\n//        userList.set(0, &quot;Name&quot;); // name\n//        userList.set(1, &quot;LastName&quot;);\n//        userList.set(2, &quot;08/19/1995&quot;);\n//        userList.set(3, &quot;123 main Street, mcLean, VA 22102&quot;);\n//        userList.set(4, &quot;7576330954&quot;);\n\n        System.out.print(userList);\n       // changeUserInfo();\n\n    }\n</code></pre>\n<p>// Here is my attempt to create my own method</p>\n<pre><code>    public static void changeUserInfo(String[] name, String lName, String dob, String address, String phone){\n        Scanner scan = new Scanner(System.in);\n        System.out.println(&quot;Do you wish to update your info? &quot;);\n        boolean flag = scan.hasNextBoolean();\n        if(flag == true){\n            System.out.println(&quot;What info do you want to update? Name? LastName?&quot;);\n        }\n    }\n}\n</code></pre>\n<p>I was thinking to add boolean to see if they user want to change info, if yes  then change it.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1460035255,"post_id":36477444,"comment_id":60565021,"body_markdown":"After type-erasure, I don&#39;t think there is a difference.","body":"After type-erasure, I don&#39;t think there is a difference."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1460035256,"post_id":36477444,"comment_id":60565024,"body_markdown":"Nothing in the method body ostensibly uses the type variable `T`. How would  `JsonPath.&lt;Boolean&gt;read(currentRule, &quot;$.logged&quot;)` safely return a `Boolean` but `JsonPath.&lt;String&gt;read(currentRule, &quot;$.logged&quot;)` safely return a `String`?","body":"Nothing in the method body ostensibly uses the type variable <code>T</code>. How would  <code>JsonPath.&lt;Boolean&gt;read(currentRule, &quot;$.logged&quot;)</code> safely return a <code>Boolean</code> but <code>JsonPath.&lt;String&gt;read(currentRule, &quot;$.logged&quot;)</code> safely return a <code>String</code>?"},{"owner":{"account_id":182534,"reputation":5773,"user_id":417302,"accept_rate":64,"display_name":"bdkosher"},"score":0,"creation_date":1460035364,"post_id":36477444,"comment_id":60565100,"body_markdown":"Would you be willing to change the cast to a `Boolean` to avoid dragging autoboxing into the question?","body":"Would you be willing to change the cast to a <code>Boolean</code> to avoid dragging autoboxing into the question?"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1460035376,"post_id":36477444,"comment_id":60565115,"body_markdown":"Actually, I see no advantage in generics here. As said before, T is never used.","body":"Actually, I see no advantage in generics here. As said before, T is never used."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1460035484,"post_id":36477444,"comment_id":60565207,"body_markdown":"@JFMeier the major disadvantage is that the unchecked cast is hidden in the [`read`](https://github.com/jayway/JsonPath/blob/master/json-path/src/main/java/com/jayway/jsonpath/JsonPath.java#L171) method, rather than it being right there in your face to show you you are doing something type-iffy.","body":"@JFMeier the major disadvantage is that the unchecked cast is hidden in the <a href=\"https://github.com/jayway/JsonPath/blob/master/json-path/src/main/java/com/jayway/jsonpath/JsonPath.java#L171\" rel=\"nofollow noreferrer\"><code>read</code></a> method, rather than it being right there in your face to show you you are doing something type-iffy."},{"owner":{"account_id":2644461,"reputation":385,"user_id":2287472,"display_name":"mijail"},"score":0,"creation_date":1460042165,"post_id":36477444,"comment_id":60570721,"body_markdown":"In this case make use of `T` also get influenced by the implementation of `JsonPath.&lt;T&gt;read` method. If you use `T`, inside the code will just do the same `return (T)res;` but the code validates if you read an Array will handle differently and cast it to any IEnumerable implemented class you passed on `T`. If you want to pass object on `T` will work but the could be anything `Boolean`, `Integer`, `List`, etc. In simple words if you know the type, it will save you the cast instruction.","body":"In this case make use of <code>T</code> also get influenced by the implementation of <code>JsonPath.&lt;T&gt;read</code> method. If you use <code>T</code>, inside the code will just do the same <code>return (T)res;</code> but the code validates if you read an Array will handle differently and cast it to any IEnumerable implemented class you passed on <code>T</code>. If you want to pass object on <code>T</code> will work but the could be anything <code>Boolean</code>, <code>Integer</code>, <code>List</code>, etc. In simple words if you know the type, it will save you the cast instruction."}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1460036242,"creation_date":1460035751,"answer_id":36477692,"question_id":36477444,"body_markdown":"The main reason that I would stay away from\r\n\r\n    JsonPath.&lt;Boolean&gt;read(currentRule, &quot;$.logged&quot;)\r\n\r\nis that it is internally performing an unchecked cast, and hiding this fact. For instance, you could invoke this method at the same place:\r\n\r\n    JsonPath.&lt;String&gt;read(currentRule, &quot;$.logged&quot;)\r\n\r\nand there is no way that you&#39;d know there might be a problem there until it actually happens at runtime - it still compiles, and you don&#39;t even get a warning.\r\n\r\nThere is no getting away from the unchecked cast - I&#39;d just rather have it right there in front of me in the code, so I know there is a potential danger; this allows me to take reasonable steps to mitigate the issue.\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)  // I know something might go wrong here!\r\n    boolean value = (boolean) JsonPath.read(currentRule, &quot;$.logged&quot;)","title":"Java Object return type vs. Generic Methods","body":"<p>The main reason that I would stay away from</p>\n\n<pre><code>JsonPath.&lt;Boolean&gt;read(currentRule, \"$.logged\")\n</code></pre>\n\n<p>is that it is internally performing an unchecked cast, and hiding this fact. For instance, you could invoke this method at the same place:</p>\n\n<pre><code>JsonPath.&lt;String&gt;read(currentRule, \"$.logged\")\n</code></pre>\n\n<p>and there is no way that you'd know there might be a problem there until it actually happens at runtime - it still compiles, and you don't even get a warning.</p>\n\n<p>There is no getting away from the unchecked cast - I'd just rather have it right there in front of me in the code, so I know there is a potential danger; this allows me to take reasonable steps to mitigate the issue.</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")  // I know something might go wrong here!\nboolean value = (boolean) JsonPath.read(currentRule, \"$.logged\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638722497,"creation_date":1460035918,"answer_id":36477760,"question_id":36477444,"body_markdown":"There is nothing functionally different between the two. The byte-code will probably be identical.\r\n\r\nThe core difference is that one uses a cast while the other uses generics.\r\n\r\nI would generally try to avoid casting if there is any alternative mechanism and as the generic form is a perfectly effective alternative I would go for that.\r\n\r\n    // The right way.\r\n    JsonPath.&lt;Boolean&gt;read(currentRule, &quot;$.logged&quot;);","title":"Java Object return type vs. Generic Methods","body":"<p>There is nothing functionally different between the two. The byte-code will probably be identical.</p>\n<p>The core difference is that one uses a cast while the other uses generics.</p>\n<p>I would generally try to avoid casting if there is any alternative mechanism and as the generic form is a perfectly effective alternative I would go for that.</p>\n<pre><code>// The right way.\nJsonPath.&lt;Boolean&gt;read(currentRule, &quot;$.logged&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":984212,"reputation":62352,"user_id":1003142,"display_name":"Konstantin Yovkov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1460036380,"creation_date":1460036026,"answer_id":36477795,"question_id":36477444,"body_markdown":"Having a type-parameter that has never been set (when calling `JsonPath.read(currentRule, &quot;$.logged&quot;)`), actually makes the compiler completely ignore all the generic information within the method and replace all the type-parameter with:\r\n\r\n- `Object`, if the type-parameter doesn&#39;t have an upper-bound. (like in your case)\r\n- `U`, if the type-parameter is bounded like `&lt;T extends U&gt;`. For example, if you have a `&lt;T extends Number&gt;` as a type-parameter and ignore it by calling `JsonPath.read(...)`, then the compiler will replace the type-parameter with `Number`.\r\n\r\nIn the case with the cast (`(boolean) JsonPath.read(...)`), the type-parameter is replaced with `Object`. Then, this type is unsafely transformated to `boolean`, by first returning a `Boolean` (probably), and then auto-unboxing this wrapper to `boolean`. This is not safe, at all. Actually, every cast is not safe - pretty much you tell the compiler: &quot;I know what this type will be at Runtime, so please believe me, and let me cast it to something else that&#39;s compatible with it.&quot;. Your humble servant, the compiler, allows that, but that&#39;s not safe, if you&#39;re wrong. :)\r\n\r\nThere&#39;s another thing with your method, also. The type-parameter is never used within the method body or parameters - this makes it pretty redundant. Since by doing a cast to `boolean` you insist that you know the return type of ` new JsonReader().parse(json).read(jsonPath, filters);`, then you should just make the return type `boolean` (or `Boolean`):\r\n\r\n    public static Boolean read(String json, String jsonPath, Filter... filters) {\r\n        return new JsonReader().parse(json).read(jsonPath, filters);\r\n    }","title":"Java Object return type vs. Generic Methods","body":"<p>Having a type-parameter that has never been set (when calling <code>JsonPath.read(currentRule, \"$.logged\")</code>), actually makes the compiler completely ignore all the generic information within the method and replace all the type-parameter with:</p>\n\n<ul>\n<li><code>Object</code>, if the type-parameter doesn't have an upper-bound. (like in your case)</li>\n<li><code>U</code>, if the type-parameter is bounded like <code>&lt;T extends U&gt;</code>. For example, if you have a <code>&lt;T extends Number&gt;</code> as a type-parameter and ignore it by calling <code>JsonPath.read(...)</code>, then the compiler will replace the type-parameter with <code>Number</code>.</li>\n</ul>\n\n<p>In the case with the cast (<code>(boolean) JsonPath.read(...)</code>), the type-parameter is replaced with <code>Object</code>. Then, this type is unsafely transformated to <code>boolean</code>, by first returning a <code>Boolean</code> (probably), and then auto-unboxing this wrapper to <code>boolean</code>. This is not safe, at all. Actually, every cast is not safe - pretty much you tell the compiler: \"I know what this type will be at Runtime, so please believe me, and let me cast it to something else that's compatible with it.\". Your humble servant, the compiler, allows that, but that's not safe, if you're wrong. :)</p>\n\n<p>There's another thing with your method, also. The type-parameter is never used within the method body or parameters - this makes it pretty redundant. Since by doing a cast to <code>boolean</code> you insist that you know the return type of <code>new JsonReader().parse(json).read(jsonPath, filters);</code>, then you should just make the return type <code>boolean</code> (or <code>Boolean</code>):</p>\n\n<pre><code>public static Boolean read(String json, String jsonPath, Filter... filters) {\n    return new JsonReader().parse(json).read(jsonPath, filters);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4934454,"reputation":37277,"user_id":3973077,"accept_rate":77,"display_name":"Paul Boddington"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1460041191,"creation_date":1460040057,"answer_id":36479539,"question_id":36477444,"body_markdown":"Generics work by the compiler inserting invisible casts into your code.\r\n\r\nFor example, before generics were added to the language you&#39;d have to do this.\r\n\r\n    List list = new ArrayList();\r\n    list.add(&quot;Foo&quot;);\r\n    list.add(&quot;Bar&quot;);\r\n    String str0 = (String) list.get(0);\r\n    String str1 = (String) list.get(1);\r\n\r\nThis was very annoying. Because `get()` returned `Object`, you had to cast every single time you wanted to get a `String` from the `List`.\r\n\r\nNowadays, `List` is generic, and `get()` returns `T`, so you can just do this.\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n    list.add(&quot;Foo&quot;);\r\n    list.add(&quot;Bar&quot;);\r\n    String str0 = list.get(0);\r\n    String str1 = list.get(1);\r\n\r\nWhat is happening here is that the compiler turns the new version into the old version by adding the casts for you, but they&#39;re still there.\r\n\r\nHowever, the entire point of generics is that these compiler generated casts are *guaranteed to be safe* - i.e. they can&#39;t possibly throw a `ClassCastException` at runtime.\r\n\r\nIn my opinion, if you use generics to hide casts that are *not* guaranteed to be safe, just because they&#39;re annoying, it is an abuse of the feature.\r\n \r\nWhether it&#39;s a generic method and you do\r\n\r\n    Boolean a = JsonPath.&lt;Boolean&gt;read(currentRule, &quot;$.logged&quot;);\r\n\r\nor it returns `Object` and you do\r\n\r\n    Boolean a = (Boolean) JsonPath.read(currentRule, &quot;$.logged&quot;);\r\n\r\n*both* versions could throw a `ClassCastException` at runtime, so I think it&#39;s better if you are forced to cast so that at least you are aware that you&#39;re doing something that could fail.\r\n\r\nI consider it bad practice for the return type of a generic method to involve the type parameter `T`  if the method parameters do not, *unless* the returned object cannot be used in a way that compromises type safety. For example,\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; emptyList()\r\n\r\nin `Collections` is ok (the list is empty so it can&#39;t contain an element of the wrong type). \r\n\r\nIn your case, I think the `read` method should not be generic and should just return `Object`.","title":"Java Object return type vs. Generic Methods","body":"<p>Generics work by the compiler inserting invisible casts into your code.</p>\n\n<p>For example, before generics were added to the language you'd have to do this.</p>\n\n<pre><code>List list = new ArrayList();\nlist.add(\"Foo\");\nlist.add(\"Bar\");\nString str0 = (String) list.get(0);\nString str1 = (String) list.get(1);\n</code></pre>\n\n<p>This was very annoying. Because <code>get()</code> returned <code>Object</code>, you had to cast every single time you wanted to get a <code>String</code> from the <code>List</code>.</p>\n\n<p>Nowadays, <code>List</code> is generic, and <code>get()</code> returns <code>T</code>, so you can just do this.</p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;&gt;();\nlist.add(\"Foo\");\nlist.add(\"Bar\");\nString str0 = list.get(0);\nString str1 = list.get(1);\n</code></pre>\n\n<p>What is happening here is that the compiler turns the new version into the old version by adding the casts for you, but they're still there.</p>\n\n<p>However, the entire point of generics is that these compiler generated casts are <em>guaranteed to be safe</em> - i.e. they can't possibly throw a <code>ClassCastException</code> at runtime.</p>\n\n<p>In my opinion, if you use generics to hide casts that are <em>not</em> guaranteed to be safe, just because they're annoying, it is an abuse of the feature.</p>\n\n<p>Whether it's a generic method and you do</p>\n\n<pre><code>Boolean a = JsonPath.&lt;Boolean&gt;read(currentRule, \"$.logged\");\n</code></pre>\n\n<p>or it returns <code>Object</code> and you do</p>\n\n<pre><code>Boolean a = (Boolean) JsonPath.read(currentRule, \"$.logged\");\n</code></pre>\n\n<p><em>both</em> versions could throw a <code>ClassCastException</code> at runtime, so I think it's better if you are forced to cast so that at least you are aware that you're doing something that could fail.</p>\n\n<p>I consider it bad practice for the return type of a generic method to involve the type parameter <code>T</code>  if the method parameters do not, <em>unless</em> the returned object cannot be used in a way that compromises type safety. For example,</p>\n\n<pre><code>public static &lt;T&gt; List&lt;T&gt; emptyList()\n</code></pre>\n\n<p>in <code>Collections</code> is ok (the list is empty so it can't contain an element of the wrong type). </p>\n\n<p>In your case, I think the <code>read</code> method should not be generic and should just return <code>Object</code>.</p>\n"}],"owner":{"account_id":1646023,"reputation":1034,"user_id":1517569,"accept_rate":50,"display_name":"Nati"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2138,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":36479539,"answer_count":4,"score":21,"last_activity_date":1638722497,"creation_date":1460035109,"question_id":36477444,"body_markdown":"I saw several questions about generic return type, but none answers my question.\r\n&lt;br&gt;If there is no bound for any of the arguments, such as the following method in [JayWay][1] :\r\n\r\n    public static &lt;T&gt; T read(String json, String jsonPath, Filter... filters) {\r\n        return new JsonReader().parse(json).read(jsonPath, filters);\r\n    }\r\n\r\nWhat is the point of using this as generic ?&lt;br&gt;\r\nI told the guys from my team that this method should be used as :\r\n\r\n    JsonPath.&lt;Boolean&gt;read(currentRule, &quot;$.logged&quot;)\r\n\r\ninstead of:\r\n\r\n    (boolean) JsonPath.read(currentRule, &quot;$.logged&quot;)\r\n\r\nBut I really can&#39;t tell the difference...\r\n\r\n  [1]: https://github.com/jayway/JsonPath/blob/master/json-path/src/main/java/com/jayway/jsonpath/JsonPath.java","title":"Java Object return type vs. Generic Methods","body":"<p>I saw several questions about generic return type, but none answers my question.\n<br>If there is no bound for any of the arguments, such as the following method in <a href=\"https://github.com/jayway/JsonPath/blob/master/json-path/src/main/java/com/jayway/jsonpath/JsonPath.java\">JayWay</a> :</p>\n\n<pre><code>public static &lt;T&gt; T read(String json, String jsonPath, Filter... filters) {\n    return new JsonReader().parse(json).read(jsonPath, filters);\n}\n</code></pre>\n\n<p>What is the point of using this as generic ?<br>\nI told the guys from my team that this method should be used as :</p>\n\n<pre><code>JsonPath.&lt;Boolean&gt;read(currentRule, \"$.logged\")\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>(boolean) JsonPath.read(currentRule, \"$.logged\")\n</code></pre>\n\n<p>But I really can't tell the difference...</p>\n"},{"tags":["java","spring-boot","microservices","spring-retry"],"comments":[{"owner":{"account_id":5916600,"reputation":2324,"user_id":4655217,"display_name":"geobreze"},"score":0,"creation_date":1638190511,"post_id":70154402,"comment_id":124014092,"body_markdown":"You may want to use this https://docs.spring.io/spring-retry/docs/api/current/org/springframework/retry/annotation/Retryable.html#exceptionExpression--","body":"You may want to use this <a href=\"https://docs.spring.io/spring-retry/docs/api/current/org/springframework/retry/annotation/Retryable.html#exceptionExpression--\" rel=\"nofollow noreferrer\">docs.spring.io/spring-retry/docs/api/current/org/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638722189,"creation_date":1638718573,"answer_id":70235834,"question_id":70154402,"body_markdown":"In the `@Retryable` method, catch the exception; then:\r\n\r\n    RetrySynchronizationManager.getContext().setExhaustedOnly()`\r\n\r\nand rethrow it (or another exception type).\r\n\r\nwill disable retries and go straight to the `@Recover` method, if supplied, otherwise it will be thrown to the caller. \r\n\r\n\r\nOr, as indicated in @geobreze comment above, use an `exceptionExpression` https://docs.spring.io/spring-retry/docs/api/current/org/springframework/retry/annotation/Retryable.html#exceptionExpression--","title":"Retrying with Spring Retry based on error message or status code?","body":"<p>In the <code>@Retryable</code> method, catch the exception; then:</p>\n<pre><code>RetrySynchronizationManager.getContext().setExhaustedOnly()`\n</code></pre>\n<p>and rethrow it (or another exception type).</p>\n<p>will disable retries and go straight to the <code>@Recover</code> method, if supplied, otherwise it will be thrown to the caller.</p>\n<p>Or, as indicated in @geobreze comment above, use an <code>exceptionExpression</code> <a href=\"https://docs.spring.io/spring-retry/docs/api/current/org/springframework/retry/annotation/Retryable.html#exceptionExpression--\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-retry/docs/api/current/org/springframework/retry/annotation/Retryable.html#exceptionExpression--</a></p>\n"}],"owner":{"account_id":4873377,"reputation":247,"user_id":3929182,"accept_rate":50,"display_name":"MisterIbbs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1567,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638722189,"creation_date":1638187775,"question_id":70154402,"body_markdown":"I am using the spring-retry dependency and currently have a Java Spring Boot application class annotated with @EnableRetry, and a function annotated with the below\r\n\r\n    @Retryable(value = MongoException.class,\r\n       maxAttempts = 4, backoff = @Backoff(delay = 100))\r\n\r\nThis allows me to retry for all exceptions of type MongoException for the function. However, id like to retry based on a specific status code or even an error message that is thrown. Is this possible to achieve with Spring Retry?","title":"Retrying with Spring Retry based on error message or status code?","body":"<p>I am using the spring-retry dependency and currently have a Java Spring Boot application class annotated with @EnableRetry, and a function annotated with the below</p>\n<pre><code>@Retryable(value = MongoException.class,\n   maxAttempts = 4, backoff = @Backoff(delay = 100))\n</code></pre>\n<p>This allows me to retry for all exceptions of type MongoException for the function. However, id like to retry based on a specific status code or even an error message that is thrown. Is this possible to achieve with Spring Retry?</p>\n"},{"tags":["java","spring","logback"],"comments":[{"owner":{"account_id":277326,"reputation":919,"user_id":2182920,"display_name":"prost&#253; člověk"},"score":0,"creation_date":1638713711,"post_id":70235052,"comment_id":124155953,"body_markdown":"please refer https://stackoverflow.com/questions/65474932/incorrect-display-of-logs-in-cyrillic-in-logbook","body":"please refer <a href=\"https://stackoverflow.com/questions/65474932/incorrect-display-of-logs-in-cyrillic-in-logbook\" title=\"incorrect display of logs in cyrillic in logbook\">stackoverflow.com/questions/65474932/&hellip;</a>"},{"owner":{"account_id":17276817,"reputation":249,"user_id":12511275,"display_name":"Khilarian"},"score":0,"creation_date":1638713910,"post_id":70235052,"comment_id":124155992,"body_markdown":"I saw it, doesn&#39;t work in my case","body":"I saw it, doesn&#39;t work in my case"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638720157,"creation_date":1638720157,"answer_id":70236047,"question_id":70235052,"body_markdown":"When strings get longer that generally means that some translation step receives bytes that are intended to be treated as UTF-8, but is being read with ISO-8859 or Cp1252 or some similar aged encoding instead.\r\n\r\nHere&#39;s the full process. Every time we flip from bytes to chars or vice versa, a charset encoding is involved. If the wrong encoding is involved in even a single step, the end result is completely mangled. They all have to align (they all have to be UTF-8). Be aware that __all files are bytes and not characters in nature__.\r\n\r\n1. Code editor.\r\n2. Compiler.\r\n3. The &#39;logger client&#39; / logger output system.\r\n4. The tool you use to view the logfile.\r\n\r\n## Code editor\r\n\r\nYou wrote explicit non-ascii characters in your source code. A java source file is bytes, so when you type a cyrillic character, it shows up on your screen as a cyrillic character in your java source file, but when happens when you hit file/save? You&#39;ll need to check your editor. Open up the editor, open a file with cyrillic characters, and check the encoding. On eclipse, you&#39;d click the File menu and hit the Properties option while the file is open. The encoding is listed on the bottom of the &#39;Resource&#39; panel, in the section &#39;Text file encoding&#39;.\r\n\r\n## Compiler\r\n\r\nJavac needs to read that file. The option you pasted (`options.encoding = &#39;UTF-8&#39;`) in your gradle file takes care of this.\r\n\r\n## Viewing\r\n\r\nAs I said, __all files are bytes__, so when you open __any__ text file, you __must__ choose an encoding! Many smart text editors will take a wild guess but some just assume a certain encoding. Check your editor - there&#39;s generally an option to pick which encoding the file is in. Text files do not contain within themselves the encoding that was used, except in very rare circumstances (generally a BOM which can be encoded in all UTF flavours, but that&#39;s unique to UTF specifically, and isn&#39;t commonly added). __It is entirely possible there&#39;s nothing wrong at all with your code, you&#39;re just looking at it with a text editor that isn&#39;t told to read it as UTF-8__.\r\n\r\n## The black box\r\n\r\nIf it&#39;s none of the above, ouch, then this becomes much more difficult: Logs are sent as strings (which means, encoding isn&#39;t a thing, fortunately, and no mangling can occur) inside the JVM until they arrive at a so-called &#39;client&#39; or &#39;log backend&#39; which then does whatever it wants with them: Log systems are abstract concepts. Handlers are intentionally just &#39;here you go, a log message at this level, do what you will with it&#39;. If you want to display them with flashing lights on your television, then feel free to write a log client for that that does this.\r\n\r\nYour logclient ends up writing the log message into a file, and therefore, it is turning a string into bytes and therefore, it is applying an encoding.\r\n\r\nThat other answer you found indicates that zalando&#39;s logbook library uses the encoding as returned by the servlet runner, and that answer explains how to ensure that&#39;s UTF-8. I assume you did that.\r\n\r\n## So how do I solve this problem?\r\n\r\nGo through all 4 of the above steps:\r\n\r\n* Ensure your editor is in UTF-8 mode.\r\n* Ensure that gradle block you pasted in your question is being used.\r\n* Ensure that other answer&#39;s setup to ensure your servlet runner is set to UTF-8 is implemented.\r\n* Ensure that the thing you use to look at your log file is configured to use UTF-8.\r\n\r\nIf you&#39;ve done __all__ those things, the problem should go away.\r\n","title":"How to fix problem with cyrillic symbols in logbook","body":"<p>When strings get longer that generally means that some translation step receives bytes that are intended to be treated as UTF-8, but is being read with ISO-8859 or Cp1252 or some similar aged encoding instead.</p>\n<p>Here's the full process. Every time we flip from bytes to chars or vice versa, a charset encoding is involved. If the wrong encoding is involved in even a single step, the end result is completely mangled. They all have to align (they all have to be UTF-8). Be aware that <strong>all files are bytes and not characters in nature</strong>.</p>\n<ol>\n<li>Code editor.</li>\n<li>Compiler.</li>\n<li>The 'logger client' / logger output system.</li>\n<li>The tool you use to view the logfile.</li>\n</ol>\n<h2>Code editor</h2>\n<p>You wrote explicit non-ascii characters in your source code. A java source file is bytes, so when you type a cyrillic character, it shows up on your screen as a cyrillic character in your java source file, but when happens when you hit file/save? You'll need to check your editor. Open up the editor, open a file with cyrillic characters, and check the encoding. On eclipse, you'd click the File menu and hit the Properties option while the file is open. The encoding is listed on the bottom of the 'Resource' panel, in the section 'Text file encoding'.</p>\n<h2>Compiler</h2>\n<p>Javac needs to read that file. The option you pasted (<code>options.encoding = 'UTF-8'</code>) in your gradle file takes care of this.</p>\n<h2>Viewing</h2>\n<p>As I said, <strong>all files are bytes</strong>, so when you open <strong>any</strong> text file, you <strong>must</strong> choose an encoding! Many smart text editors will take a wild guess but some just assume a certain encoding. Check your editor - there's generally an option to pick which encoding the file is in. Text files do not contain within themselves the encoding that was used, except in very rare circumstances (generally a BOM which can be encoded in all UTF flavours, but that's unique to UTF specifically, and isn't commonly added). <strong>It is entirely possible there's nothing wrong at all with your code, you're just looking at it with a text editor that isn't told to read it as UTF-8</strong>.</p>\n<h2>The black box</h2>\n<p>If it's none of the above, ouch, then this becomes much more difficult: Logs are sent as strings (which means, encoding isn't a thing, fortunately, and no mangling can occur) inside the JVM until they arrive at a so-called 'client' or 'log backend' which then does whatever it wants with them: Log systems are abstract concepts. Handlers are intentionally just 'here you go, a log message at this level, do what you will with it'. If you want to display them with flashing lights on your television, then feel free to write a log client for that that does this.</p>\n<p>Your logclient ends up writing the log message into a file, and therefore, it is turning a string into bytes and therefore, it is applying an encoding.</p>\n<p>That other answer you found indicates that zalando's logbook library uses the encoding as returned by the servlet runner, and that answer explains how to ensure that's UTF-8. I assume you did that.</p>\n<h2>So how do I solve this problem?</h2>\n<p>Go through all 4 of the above steps:</p>\n<ul>\n<li>Ensure your editor is in UTF-8 mode.</li>\n<li>Ensure that gradle block you pasted in your question is being used.</li>\n<li>Ensure that other answer's setup to ensure your servlet runner is set to UTF-8 is implemented.</li>\n<li>Ensure that the thing you use to look at your log file is configured to use UTF-8.</li>\n</ul>\n<p>If you've done <strong>all</strong> those things, the problem should go away.</p>\n"}],"owner":{"account_id":17276817,"reputation":249,"user_id":12511275,"display_name":"Khilarian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":937,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638721089,"creation_date":1638712787,"question_id":70235052,"body_markdown":"I just added\r\n implementation &#39;org.zalando:logbook-parent:2.14.0&#39;  \r\nto my project based on &#39;org.springframework.boot&#39; version &#39;2.4.3&#39; and Java 11.\r\n\r\nIn application.yml next properties:\r\n\r\n    logbook:\r\n      format:\r\n        style: http\r\n    logging:\r\n      level:\r\n        org:\r\n          hibernate:\r\n            SQL: DEBUG\r\n          springframework:\r\n            web: DEBUG\r\n            security: INFO\r\n          zalando:\r\n            logbook: TRACE\r\n\r\nlog from spring is OK, looks like `&quot;bankName&quot;: &quot;ПОЧТА банк&quot;` but zalando.logbook: `&quot;bankName&quot;:&quot;&#208;Ÿ&#208;ž&#208;&#167;&#208;&#162;&#208; &#208;&#177;&#208;&#176;&#208;&#189;&#208;&#186;&quot;`\r\n\r\nI add next to build.gradle, but nothing changes.\r\n\r\n     tasks.withType(JavaCompile) {\r\n            options.encoding = &#39;UTF-8&#39;\r\n        }\r\n\r\nWhat I need to do to fix this encoding problem?\r\n\r\nThanks in advance.\r\n\r\nEdit: to read logs I use Kibana + Elastic","title":"How to fix problem with cyrillic symbols in logbook","body":"<p>I just added\nimplementation 'org.zalando:logbook-parent:2.14.0'<br />\nto my project based on 'org.springframework.boot' version '2.4.3' and Java 11.</p>\n<p>In application.yml next properties:</p>\n<pre><code>logbook:\n  format:\n    style: http\nlogging:\n  level:\n    org:\n      hibernate:\n        SQL: DEBUG\n      springframework:\n        web: DEBUG\n        security: INFO\n      zalando:\n        logbook: TRACE\n</code></pre>\n<p>log from spring is OK, looks like <code>&quot;bankName&quot;: &quot;ПОЧТА банк&quot;</code> but zalando.logbook: <code>&quot;bankName&quot;:&quot;ÐŸÐžÐ§Ð¢Ð Ð±Ð°Ð½Ðº&quot;</code></p>\n<p>I add next to build.gradle, but nothing changes.</p>\n<pre><code> tasks.withType(JavaCompile) {\n        options.encoding = 'UTF-8'\n    }\n</code></pre>\n<p>What I need to do to fix this encoding problem?</p>\n<p>Thanks in advance.</p>\n<p>Edit: to read logs I use Kibana + Elastic</p>\n"},{"tags":["java","multithreading","wait","notify"],"comments":[{"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"score":3,"creation_date":1638714864,"post_id":70235305,"comment_id":124156212,"body_markdown":"Your WorkerQueue is not thread safe at all. You&#39;re doing all operations on it without any synchronisation.","body":"Your WorkerQueue is not thread safe at all. You&#39;re doing all operations on it without any synchronisation."},{"owner":{"account_id":13667217,"reputation":1,"user_id":9860799,"display_name":"SomeNickName"},"score":0,"creation_date":1638716633,"post_id":70235305,"comment_id":124156585,"body_markdown":"@MirekPluta, yes I expressed myself incorrectly","body":"@MirekPluta, yes I expressed myself incorrectly"},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1638721704,"post_id":70235305,"comment_id":124157793,"body_markdown":"Notify doesn&#39;t affect anything but the currently waiting threads. If one thread notifies before another thread waits, the waiting thread misses that notification. If you read the guarded blocks section of the oracle tutorial it advises you to use a variable to avoid this timing issue. See https://docs.oracle.com/javase/tutorial/essential/concurrency/guardmeth.html","body":"Notify doesn&#39;t affect anything but the currently waiting threads. If one thread notifies before another thread waits, the waiting thread misses that notification. If you read the guarded blocks section of the oracle tutorial it advises you to use a variable to avoid this timing issue. See <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/guardmeth.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/concurrency/&hellip;</a>"},{"owner":{"account_id":13667217,"reputation":1,"user_id":9860799,"display_name":"SomeNickName"},"score":0,"creation_date":1638721764,"post_id":70235305,"comment_id":124157821,"body_markdown":"@NathanHughes, I observed in debug mode: the thread was on hold. After the execution of the line &quot;mWorkerQueue.endTask ();&quot; it was still on hold, but if I replaced the previous line to &quot;mWorkerQueue.add (...)&quot; it exited waiting","body":"@NathanHughes, I observed in debug mode: the thread was on hold. After the execution of the line &quot;mWorkerQueue.endTask ();&quot; it was still on hold, but if I replaced the previous line to &quot;mWorkerQueue.add (...)&quot; it exited waiting"},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1638721946,"post_id":70235305,"comment_id":124157887,"body_markdown":"My suggestion is you should read the whole linked tutorial and follow its advice.","body":"My suggestion is you should read the whole linked tutorial and follow its advice."},{"owner":{"account_id":13667217,"reputation":1,"user_id":9860799,"display_name":"SomeNickName"},"score":0,"creation_date":1638722564,"post_id":70235305,"comment_id":124158080,"body_markdown":"@NathanHughes, yes, condition variable helped me, thanks","body":"@NathanHughes, yes, condition variable helped me, thanks"}],"owner":{"account_id":13667217,"reputation":1,"user_id":9860799,"display_name":"SomeNickName"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638720925,"creation_date":1638714424,"question_id":70235305,"body_markdown":"I have several classes:\r\n- WorkerQueue - queue.\r\n- WorkerRunnable - runnable which contain worker thread method with loop and its stop flag.\r\n- SomeClass - just class for initalize and management thread stuff.\r\n\r\nI need to stop thread in destroy method. For it I create endTask method but it doesn&#39;t work thread still waiting.\r\nIf I replace called endTask method to mWorkerQueue.add(...), it&#39;s working fine and thread stop waiting.\r\n\r\n```java\r\nclass WorkerQueue {\r\n    private Queue&lt;BasePrintTask&gt; mTaskQueue = new ArrayDeque&lt;&gt;();\r\n    private Object obj = new Object();\r\n\r\n    public BasePrintTask get() {\r\n        while (mTaskQueue.isEmpty())\r\n        {\r\n            try {\r\n                synchronized (obj) {\r\n                    obj.wait();\r\n                }\r\n            }\r\n            catch (InterruptedException ie)\r\n            {\r\n                ie.printStackTrace();\r\n            }\r\n        }\r\n        return mTaskQueue.remove();\r\n    }\r\n\r\n    public void add(BasePrintTask task) {\r\n        mTaskQueue.add(task);\r\n        synchronized (obj) {\r\n            obj.notify();\r\n        }\r\n    }\r\n\r\n    public void endTask() {\r\n        synchronized (obj) {\r\n\r\n            obj.notify();\r\n        }\r\n    }\r\n}\r\n```\r\n```java\r\npublic class WorkerRunnable implements Runnable\r\n{\r\n    private boolean mFlag = false;\r\n    private WorkerQueue mWorkerQueue = null;\r\n\r\n    public WorkerRunnable(WorkerQueue workerQueue)\r\n    {\r\n        this.mPrinterManager = printerManager;\r\n        this.mWorkerQueue = workerQueue;\r\n    }\r\n\r\n    public void endThread() { mFlag = false; }\r\n\r\n    public void startThread() { mFlag = true; }\r\n\r\n    @Override\r\n    public void run() {\r\n        while(mFlag)\r\n        {\r\n            try\r\n            {\r\n                BasePrintTask task = mWorkerQueue.get();\r\n                \r\n            }\r\n            catch (NoSuchElementException el)\r\n            {\r\n\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n```java\r\npublic class SomeClass\r\n{\r\n\r\n    private final Context mContext;\r\n    private WorkerQueue mWorkerQueue = new WorkerQueue();\r\n    private Thread mWorkerThread = null;\r\n    private WorkerRunnable mWorkerRunnable = null;\r\n\r\n    public SomeClass(final Context context)\r\n    {\r\n        this.mContext = context;\r\n    }\r\n\r\n    public void init()\r\n    {\r\n        mWorkerRunnable = new WorkerRunnable(mWorkerQueue);\r\n    }\r\n\r\n    public int prepare() {\r\n        mWorkerRunnable.startThread();\r\n        mWorkerThread = new Thread(mWorkerRunnable);\r\n        mWorkerThread.start();\r\n\r\n        return 0;\r\n    }\r\n\r\n    public int destroy() {\r\n        mWorkerRunnable.endThread();\r\n        mWorkerQueue.endTask();\r\n        try {\r\n            if(mWorkerThread.isAlive()) {\r\n                mWorkerThread.join();\r\n            }\r\n        }\r\n        catch (InterruptedException e) {\r\n\r\n        }\r\n\r\n        return 0;\r\n    }\r\n```","title":"After calling the notify method the thread is still waiting","body":"<p>I have several classes:</p>\n<ul>\n<li>WorkerQueue - queue.</li>\n<li>WorkerRunnable - runnable which contain worker thread method with loop and its stop flag.</li>\n<li>SomeClass - just class for initalize and management thread stuff.</li>\n</ul>\n<p>I need to stop thread in destroy method. For it I create endTask method but it doesn't work thread still waiting.\nIf I replace called endTask method to mWorkerQueue.add(...), it's working fine and thread stop waiting.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class WorkerQueue {\n    private Queue&lt;BasePrintTask&gt; mTaskQueue = new ArrayDeque&lt;&gt;();\n    private Object obj = new Object();\n\n    public BasePrintTask get() {\n        while (mTaskQueue.isEmpty())\n        {\n            try {\n                synchronized (obj) {\n                    obj.wait();\n                }\n            }\n            catch (InterruptedException ie)\n            {\n                ie.printStackTrace();\n            }\n        }\n        return mTaskQueue.remove();\n    }\n\n    public void add(BasePrintTask task) {\n        mTaskQueue.add(task);\n        synchronized (obj) {\n            obj.notify();\n        }\n    }\n\n    public void endTask() {\n        synchronized (obj) {\n\n            obj.notify();\n        }\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class WorkerRunnable implements Runnable\n{\n    private boolean mFlag = false;\n    private WorkerQueue mWorkerQueue = null;\n\n    public WorkerRunnable(WorkerQueue workerQueue)\n    {\n        this.mPrinterManager = printerManager;\n        this.mWorkerQueue = workerQueue;\n    }\n\n    public void endThread() { mFlag = false; }\n\n    public void startThread() { mFlag = true; }\n\n    @Override\n    public void run() {\n        while(mFlag)\n        {\n            try\n            {\n                BasePrintTask task = mWorkerQueue.get();\n                \n            }\n            catch (NoSuchElementException el)\n            {\n\n            }\n        }\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class SomeClass\n{\n\n    private final Context mContext;\n    private WorkerQueue mWorkerQueue = new WorkerQueue();\n    private Thread mWorkerThread = null;\n    private WorkerRunnable mWorkerRunnable = null;\n\n    public SomeClass(final Context context)\n    {\n        this.mContext = context;\n    }\n\n    public void init()\n    {\n        mWorkerRunnable = new WorkerRunnable(mWorkerQueue);\n    }\n\n    public int prepare() {\n        mWorkerRunnable.startThread();\n        mWorkerThread = new Thread(mWorkerRunnable);\n        mWorkerThread.start();\n\n        return 0;\n    }\n\n    public int destroy() {\n        mWorkerRunnable.endThread();\n        mWorkerQueue.endTask();\n        try {\n            if(mWorkerThread.isAlive()) {\n                mWorkerThread.join();\n            }\n        }\n        catch (InterruptedException e) {\n\n        }\n\n        return 0;\n    }\n</code></pre>\n"},{"tags":["java","log4j2","slf4j"],"answers":[{"tags":[],"owner":{"account_id":12181645,"reputation":183,"user_id":14014537,"display_name":"Karsten Schnitter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638720473,"creation_date":1638714097,"answer_id":70235250,"question_id":70235020,"body_markdown":"slf4j is just a unified interface to emit log messages. It is implemented by different logging backends such as [log4j2](https://logging.apache.org/log4j/2.x/) or [logback](http://logback.qos.ch/). However, slf4j does not extend to the logging configuration, which is highly backend specific. Therefore, it does not provide methods to change the log system configuration. This still needs to be done using the backend specific classes. In your case of log4j, you also cannot cast the `org.slf4j.Logger` to a `org.apache.logging.log4j.Logger`, as the latter does not extend the `org.slf4j.Logger`. You have to keep your old code for that task and adjust it to the new log4j2 programmatic convention. See [the log4j2 documentation](https://logging.apache.org/log4j/2.x/manual/customconfig.html) for details.","title":"Can&#39;t set programmatically logger level for root appender","body":"<p>slf4j is just a unified interface to emit log messages. It is implemented by different logging backends such as <a href=\"https://logging.apache.org/log4j/2.x/\" rel=\"nofollow noreferrer\">log4j2</a> or <a href=\"http://logback.qos.ch/\" rel=\"nofollow noreferrer\">logback</a>. However, slf4j does not extend to the logging configuration, which is highly backend specific. Therefore, it does not provide methods to change the log system configuration. This still needs to be done using the backend specific classes. In your case of log4j, you also cannot cast the <code>org.slf4j.Logger</code> to a <code>org.apache.logging.log4j.Logger</code>, as the latter does not extend the <code>org.slf4j.Logger</code>. You have to keep your old code for that task and adjust it to the new log4j2 programmatic convention. See <a href=\"https://logging.apache.org/log4j/2.x/manual/customconfig.html\" rel=\"nofollow noreferrer\">the log4j2 documentation</a> for details.</p>\n"}],"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":499,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638720575,"creation_date":1638712556,"question_id":70235020,"body_markdown":"In my java project I use log4j. If I want programmatically set logger for root apender I use this:\r\n\r\n    import org.apache.log4j.Logger;\r\n    private static final Logger logger = Logger.getLogger(Main.class);\r\n    \r\n        AppenderSkeleton consoleAppender = (AppenderSkeleton) Logger.getRootLogger().getAppender(&quot;Console&quot;);\r\n        AppenderSkeleton fileAppender = (AppenderSkeleton) Logger.getRootLogger().getAppender(&quot;File&quot;);\r\n\r\nNice. It&#39;s work fine.\r\n\r\nBut now I update to `log4j2 (slf4j)`\r\n\r\nAnd now here my code:\r\n\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    private static final Logger logger = LoggerFactory.getLogger(App.class);\r\n    \r\n    AppenderSkeleton consoleAppender = (AppenderSkeleton) Logger.getRootLogger().getAppender(&quot;Console&quot;);\r\n\r\n\tAppenderSkeleton fileAppender = (AppenderSkeleton) Logger.getRootLogger().getAppender(&quot;File&quot;);\r\n\r\nBut now I get error:\r\n\r\n    error: cannot find symbol Logger.getRootLogger()\r\n\r\n\r\nHow I can set programmatically root level for `slf4j` ?","title":"Can&#39;t set programmatically logger level for root appender","body":"<p>In my java project I use log4j. If I want programmatically set logger for root apender I use this:</p>\n<pre><code>import org.apache.log4j.Logger;\nprivate static final Logger logger = Logger.getLogger(Main.class);\n\n    AppenderSkeleton consoleAppender = (AppenderSkeleton) Logger.getRootLogger().getAppender(&quot;Console&quot;);\n    AppenderSkeleton fileAppender = (AppenderSkeleton) Logger.getRootLogger().getAppender(&quot;File&quot;);\n</code></pre>\n<p>Nice. It's work fine.</p>\n<p>But now I update to <code>log4j2 (slf4j)</code></p>\n<p>And now here my code:</p>\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nprivate static final Logger logger = LoggerFactory.getLogger(App.class);\n\nAppenderSkeleton consoleAppender = (AppenderSkeleton) Logger.getRootLogger().getAppender(&quot;Console&quot;);\n\nAppenderSkeleton fileAppender = (AppenderSkeleton) Logger.getRootLogger().getAppender(&quot;File&quot;);\n</code></pre>\n<p>But now I get error:</p>\n<pre><code>error: cannot find symbol Logger.getRootLogger()\n</code></pre>\n<p>How I can set programmatically root level for <code>slf4j</code> ?</p>\n"},{"tags":["java","minecraft","bukkit"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1638699632,"post_id":70231348,"comment_id":124152779,"body_markdown":"can you [edit] your question to show your error ?","body":"can you <a href=\"https://stackoverflow.com/posts/70231348/edit\">edit</a> your question to show your error ?"},{"owner":{"account_id":22926442,"reputation":91,"user_id":17061419,"display_name":"Not_A_Dev"},"score":0,"creation_date":1638716974,"post_id":70231348,"comment_id":124156653,"body_markdown":"[03:46:58] [Server thread/WARN]: [TestPlugin] Task #1789 for TestPlugin v1.0 generated an exception\njava.lang.NullPointerException: null @Elikill58","body":"[03:46:58] [Server thread/WARN]: [TestPlugin] Task #1789 for TestPlugin v1.0 generated an exception java.lang.NullPointerException: null @Elikill58"}],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638720252,"creation_date":1638720252,"answer_id":70236065,"question_id":70231348,"body_markdown":"I have multiple things to say about this code :\r\n\r\n1. The value of `e.getTo()` will never be null. So the `Objects.requireNonNull` code is a useless import.\r\n\r\n2. You get multiple time the same world instance with `Bukkit.getWorld(&quot;Void&quot;)`, but only one time is better.\r\n\r\n3. Instead of create Location&#39;s object, you can check directly the `x/y/z` values that are given just before.\r\n\r\n4. For the issue :\r\n\r\nWhen you left liquid, all task will remove the value linked with the player&#39;s uuid. So, you will not be able to get id with `afkCountdown.get()` or `afkCountdownTask.get()`. To fix it, you should use `afkCountdown.getOrDefault(p.getUniqueId(), 0)`.\r\n\r\n5. For timers, you never stop already started timer. So, your server with crash because of overflow. When you do `afkCountdownTask.remove()` you should do :\r\n```java\r\nBukkitRunnable task = afkCountdownTask.remove(p.getUniqueId()); // return the removed one, or null if nothing removed\r\nif(task != null) // if was existing\r\n   task.cancel(); // cancel task\r\n```\r\n6. You are creating and resetting hashmap EACH move with `afkCountdown = new HashMap&lt;UUID, Integer&gt;()`. You should do it only one time.\r\n\r\nFinally, this is the code that I propose to fix everything :\r\n\r\n```java\r\nprivate final HashMap&lt;UUID, Integer&gt; afkCountdown = new HashMap&lt;&gt;();\r\nprivate final HashMap&lt;UUID, BukkitRunnable&gt; afkCountdownTask = new HashMap&lt;&gt;();\r\n\r\n@EventHandler\r\npublic void onPlayerMoveEvent(PlayerMoveEvent e) {\r\n    Player p = e.getPlayer();\r\n    int x = 52;\r\n    int y = 80;\r\n    int z = 255;\r\n    int x1 = 72;\r\n    int y1 = 100;\r\n    int z1 = 275;\r\n    Location loc = e.getTo();\r\n    if (p.getWorld().getName().equals(&quot;Void&quot;)) {\r\n        if (loc.getBlock().isLiquid()) {\r\n            if (loc.getX() &gt; x &amp;&amp; loc.getX() &lt; x1) {\r\n                if (loc.getY() &gt; y &amp;&amp; loc.getY() &lt; y1) {\r\n                    if (loc.getZ() &gt; z &amp;&amp; loc.getZ() &lt; z1) {\r\n                        if (!afkCountdown.containsKey(p.getUniqueId())) {\r\n                            afkCountdown.put(p.getUniqueId(), 5);\r\n                            afkCountdownTask.put(p.getUniqueId(), new BukkitRunnable() {\r\n                                @Override\r\n                                public void run() {\r\n                                \tint amount = afkCountdown.getOrDefault(p.getUniqueId(), 0) - 1;\r\n                                    afkCountdown.put(p.getUniqueId(), amount);\r\n                                    if (amount &lt;= 0) {\r\n                                        p.sendMessage(&quot;Testing&quot;);\r\n                                        afkCountdown.put(p.getUniqueId(), 5);\r\n                                    } else if (!afkCountdown.containsKey(p.getUniqueId())) {\r\n                                        cancel();\r\n                                    }\r\n                                }\r\n                            });\r\n                            afkCountdownTask.get(p.getUniqueId()).runTaskTimer(Main.getInstance(), 20, 20);\r\n                        }\r\n                        return; // don&#39;t want to remove, so end method now\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    if (afkCountdown.containsKey(p.getUniqueId())) {\r\n        afkCountdown.remove(p.getUniqueId());\r\n        BukkitRunnable task = afkCountdownTask.remove(p.getUniqueId());\r\n        if(task != null)\r\n        \ttask.cancel();\r\n    }\r\n}\r\n```","title":"BukkitRunnable gives me a NPE","body":"<p>I have multiple things to say about this code :</p>\n<ol>\n<li><p>The value of <code>e.getTo()</code> will never be null. So the <code>Objects.requireNonNull</code> code is a useless import.</p>\n</li>\n<li><p>You get multiple time the same world instance with <code>Bukkit.getWorld(&quot;Void&quot;)</code>, but only one time is better.</p>\n</li>\n<li><p>Instead of create Location's object, you can check directly the <code>x/y/z</code> values that are given just before.</p>\n</li>\n<li><p>For the issue :</p>\n</li>\n</ol>\n<p>When you left liquid, all task will remove the value linked with the player's uuid. So, you will not be able to get id with <code>afkCountdown.get()</code> or <code>afkCountdownTask.get()</code>. To fix it, you should use <code>afkCountdown.getOrDefault(p.getUniqueId(), 0)</code>.</p>\n<ol start=\"5\">\n<li>For timers, you never stop already started timer. So, your server with crash because of overflow. When you do <code>afkCountdownTask.remove()</code> you should do :</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>BukkitRunnable task = afkCountdownTask.remove(p.getUniqueId()); // return the removed one, or null if nothing removed\nif(task != null) // if was existing\n   task.cancel(); // cancel task\n</code></pre>\n<ol start=\"6\">\n<li>You are creating and resetting hashmap EACH move with <code>afkCountdown = new HashMap&lt;UUID, Integer&gt;()</code>. You should do it only one time.</li>\n</ol>\n<p>Finally, this is the code that I propose to fix everything :</p>\n<pre class=\"lang-java prettyprint-override\"><code>private final HashMap&lt;UUID, Integer&gt; afkCountdown = new HashMap&lt;&gt;();\nprivate final HashMap&lt;UUID, BukkitRunnable&gt; afkCountdownTask = new HashMap&lt;&gt;();\n\n@EventHandler\npublic void onPlayerMoveEvent(PlayerMoveEvent e) {\n    Player p = e.getPlayer();\n    int x = 52;\n    int y = 80;\n    int z = 255;\n    int x1 = 72;\n    int y1 = 100;\n    int z1 = 275;\n    Location loc = e.getTo();\n    if (p.getWorld().getName().equals(&quot;Void&quot;)) {\n        if (loc.getBlock().isLiquid()) {\n            if (loc.getX() &gt; x &amp;&amp; loc.getX() &lt; x1) {\n                if (loc.getY() &gt; y &amp;&amp; loc.getY() &lt; y1) {\n                    if (loc.getZ() &gt; z &amp;&amp; loc.getZ() &lt; z1) {\n                        if (!afkCountdown.containsKey(p.getUniqueId())) {\n                            afkCountdown.put(p.getUniqueId(), 5);\n                            afkCountdownTask.put(p.getUniqueId(), new BukkitRunnable() {\n                                @Override\n                                public void run() {\n                                    int amount = afkCountdown.getOrDefault(p.getUniqueId(), 0) - 1;\n                                    afkCountdown.put(p.getUniqueId(), amount);\n                                    if (amount &lt;= 0) {\n                                        p.sendMessage(&quot;Testing&quot;);\n                                        afkCountdown.put(p.getUniqueId(), 5);\n                                    } else if (!afkCountdown.containsKey(p.getUniqueId())) {\n                                        cancel();\n                                    }\n                                }\n                            });\n                            afkCountdownTask.get(p.getUniqueId()).runTaskTimer(Main.getInstance(), 20, 20);\n                        }\n                        return; // don't want to remove, so end method now\n                    }\n                }\n            }\n        }\n    }\n    if (afkCountdown.containsKey(p.getUniqueId())) {\n        afkCountdown.remove(p.getUniqueId());\n        BukkitRunnable task = afkCountdownTask.remove(p.getUniqueId());\n        if(task != null)\n            task.cancel();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22926442,"reputation":91,"user_id":17061419,"display_name":"Not_A_Dev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70236065,"answer_count":1,"score":0,"last_activity_date":1638720252,"creation_date":1638676463,"question_id":70231348,"body_markdown":"Basically, this code works as I need it to, perfectly fine, however, If I move even the slightest bit or get out of the water, my console gets SPAMMED with NPE&#39;s... What have I done wrong with my code? What I&#39;m trying to do is, if a player is in a specific location, inside of water, it will start a countdown, in this case, of 5 seconds. And after the 5 seconds, it&#39;s meant to say &quot;Testing&quot;, etc. That part works, just not when I move or step out of the water. And yes, I&#39;m aware that the code is sloppy and a bunch of junk but I don&#39;t want to create a whole class for cuboid for just one event.\r\n```\r\nprivate HashMap&lt;UUID, Integer&gt; afkCountdown;\r\nprivate HashMap&lt;UUID, BukkitRunnable&gt; afkCountdownTask;\r\n\r\n    @EventHandler\r\n    public void onPlayerMoveEvent(PlayerMoveEvent e) {\r\n        afkCountdown = new HashMap&lt;UUID, Integer&gt;();\r\n        afkCountdownTask = new HashMap&lt;UUID, BukkitRunnable&gt;();\r\n\r\n        Player p = e.getPlayer();\r\n        int x = 52;\r\n        int y = 80;\r\n        int z = 255;\r\n        int x1 = 72;\r\n        int y1 = 100;\r\n        int z1 = 275;\r\n        Location l1 = new Location(Bukkit.getWorld(&quot;Void&quot;), x, y, z);\r\n        Location l2 = new Location(Bukkit.getWorld(&quot;Void&quot;), x1, y1, z1);\r\n        Location loc = new Location(Bukkit.getWorld(&quot;Void&quot;), p.getLocation().getBlockX(), p.getLocation().getBlockY(), p.getLocation().getBlockZ());\r\n        if (p.getWorld().equals(loc.getWorld())) {\r\n            if (Objects.requireNonNull(e.getTo()).getBlock().isLiquid()) {\r\n                if (loc.getX() &gt; l1.getX() &amp;&amp; loc.getX() &lt; l2.getX()) {\r\n                    if (loc.getY() &gt; l1.getY() &amp;&amp; loc.getY() &lt; l2.getY()) {\r\n                        if (loc.getZ() &gt; l1.getZ() &amp;&amp; loc.getZ() &lt; l2.getZ()) {\r\n                            if (!afkCountdown.containsKey(p.getUniqueId())) {\r\n                                afkCountdown.put(p.getUniqueId(), 5);\r\n                                afkCountdownTask.put(p.getUniqueId(), new BukkitRunnable() {\r\n                                    @Override\r\n                                    public void run() {\r\n                                        afkCountdown.put(p.getUniqueId(), afkCountdown.get(p.getUniqueId()) - 1);\r\n                                        if (afkCountdown.get(p.getUniqueId()) == 0) {\r\n                                            p.sendMessage(&quot;Testing&quot;);\r\n                                            afkCountdown.remove(p.getUniqueId());\r\n                                            afkCountdownTask.remove(p.getUniqueId());\r\n                                            afkCountdown.put(p.getUniqueId(), 5);\r\n                                        } else if (!afkCountdown.containsKey(p.getUniqueId())) {\r\n                                            cancel();\r\n                                        }\r\n                                    }\r\n                                });\r\n                                afkCountdownTask.get(p.getUniqueId()).runTaskTimer(plugin, 20, 20);\r\n                            } else {\r\n                                return;\r\n                            }\r\n                        } else {\r\n                            if (afkCountdown.containsKey(p.getUniqueId())) {\r\n                                afkCountdown.remove(p.getUniqueId());\r\n                                afkCountdownTask.remove(p.getUniqueId());\r\n                            } else {\r\n                                return;\r\n                            }\r\n                        }\r\n                    } else {\r\n                        if (afkCountdown.containsKey(p.getUniqueId())) {\r\n                            afkCountdown.remove(p.getUniqueId());\r\n                            afkCountdownTask.remove(p.getUniqueId());\r\n                        } else {\r\n                            return;\r\n                        }\r\n                    }\r\n                } else {\r\n                    if (afkCountdown.containsKey(p.getUniqueId())) {\r\n                        afkCountdown.remove(p.getUniqueId());\r\n                        afkCountdownTask.remove(p.getUniqueId());\r\n                    } else {\r\n                        return;\r\n                    }\r\n                }\r\n            } else {\r\n                if (afkCountdown.containsKey(p.getUniqueId())) {\r\n                    afkCountdown.remove(p.getUniqueId());\r\n                    afkCountdownTask.remove(p.getUniqueId());\r\n                } else {\r\n                    return;\r\n                }\r\n            }\r\n        } else {\r\n            if (afkCountdown.containsKey(p.getUniqueId())) {\r\n                afkCountdown.remove(p.getUniqueId());\r\n                afkCountdownTask.remove(p.getUniqueId());\r\n            } else {\r\n                return;\r\n            }\r\n        }\r\n    }\r\n```","title":"BukkitRunnable gives me a NPE","body":"<p>Basically, this code works as I need it to, perfectly fine, however, If I move even the slightest bit or get out of the water, my console gets SPAMMED with NPE's... What have I done wrong with my code? What I'm trying to do is, if a player is in a specific location, inside of water, it will start a countdown, in this case, of 5 seconds. And after the 5 seconds, it's meant to say &quot;Testing&quot;, etc. That part works, just not when I move or step out of the water. And yes, I'm aware that the code is sloppy and a bunch of junk but I don't want to create a whole class for cuboid for just one event.</p>\n<pre><code>private HashMap&lt;UUID, Integer&gt; afkCountdown;\nprivate HashMap&lt;UUID, BukkitRunnable&gt; afkCountdownTask;\n\n    @EventHandler\n    public void onPlayerMoveEvent(PlayerMoveEvent e) {\n        afkCountdown = new HashMap&lt;UUID, Integer&gt;();\n        afkCountdownTask = new HashMap&lt;UUID, BukkitRunnable&gt;();\n\n        Player p = e.getPlayer();\n        int x = 52;\n        int y = 80;\n        int z = 255;\n        int x1 = 72;\n        int y1 = 100;\n        int z1 = 275;\n        Location l1 = new Location(Bukkit.getWorld(&quot;Void&quot;), x, y, z);\n        Location l2 = new Location(Bukkit.getWorld(&quot;Void&quot;), x1, y1, z1);\n        Location loc = new Location(Bukkit.getWorld(&quot;Void&quot;), p.getLocation().getBlockX(), p.getLocation().getBlockY(), p.getLocation().getBlockZ());\n        if (p.getWorld().equals(loc.getWorld())) {\n            if (Objects.requireNonNull(e.getTo()).getBlock().isLiquid()) {\n                if (loc.getX() &gt; l1.getX() &amp;&amp; loc.getX() &lt; l2.getX()) {\n                    if (loc.getY() &gt; l1.getY() &amp;&amp; loc.getY() &lt; l2.getY()) {\n                        if (loc.getZ() &gt; l1.getZ() &amp;&amp; loc.getZ() &lt; l2.getZ()) {\n                            if (!afkCountdown.containsKey(p.getUniqueId())) {\n                                afkCountdown.put(p.getUniqueId(), 5);\n                                afkCountdownTask.put(p.getUniqueId(), new BukkitRunnable() {\n                                    @Override\n                                    public void run() {\n                                        afkCountdown.put(p.getUniqueId(), afkCountdown.get(p.getUniqueId()) - 1);\n                                        if (afkCountdown.get(p.getUniqueId()) == 0) {\n                                            p.sendMessage(&quot;Testing&quot;);\n                                            afkCountdown.remove(p.getUniqueId());\n                                            afkCountdownTask.remove(p.getUniqueId());\n                                            afkCountdown.put(p.getUniqueId(), 5);\n                                        } else if (!afkCountdown.containsKey(p.getUniqueId())) {\n                                            cancel();\n                                        }\n                                    }\n                                });\n                                afkCountdownTask.get(p.getUniqueId()).runTaskTimer(plugin, 20, 20);\n                            } else {\n                                return;\n                            }\n                        } else {\n                            if (afkCountdown.containsKey(p.getUniqueId())) {\n                                afkCountdown.remove(p.getUniqueId());\n                                afkCountdownTask.remove(p.getUniqueId());\n                            } else {\n                                return;\n                            }\n                        }\n                    } else {\n                        if (afkCountdown.containsKey(p.getUniqueId())) {\n                            afkCountdown.remove(p.getUniqueId());\n                            afkCountdownTask.remove(p.getUniqueId());\n                        } else {\n                            return;\n                        }\n                    }\n                } else {\n                    if (afkCountdown.containsKey(p.getUniqueId())) {\n                        afkCountdown.remove(p.getUniqueId());\n                        afkCountdownTask.remove(p.getUniqueId());\n                    } else {\n                        return;\n                    }\n                }\n            } else {\n                if (afkCountdown.containsKey(p.getUniqueId())) {\n                    afkCountdown.remove(p.getUniqueId());\n                    afkCountdownTask.remove(p.getUniqueId());\n                } else {\n                    return;\n                }\n            }\n        } else {\n            if (afkCountdown.containsKey(p.getUniqueId())) {\n                afkCountdown.remove(p.getUniqueId());\n                afkCountdownTask.remove(p.getUniqueId());\n            } else {\n                return;\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","comparable"],"comments":[{"owner":{"account_id":2333535,"reputation":26301,"user_id":2046372,"display_name":"Cairnarvon"},"score":4,"creation_date":1391772245,"post_id":21626439,"comment_id":32678898,"body_markdown":"Look at the documentation for `Comparable`. Implement the method it tells you to in the way it tells you to.","body":"Look at the documentation for <code>Comparable</code>. Implement the method it tells you to in the way it tells you to."},{"owner":{"account_id":3631209,"reputation":1451,"user_id":3027307,"accept_rate":89,"display_name":"Softey"},"score":3,"creation_date":1391772333,"post_id":21626439,"comment_id":32678945,"body_markdown":"I have had a look at the Java documentation for it and other sources to try and get my head around it but for some reason I don&#39;t understand it. I know it&#39;s something simple but it&#39;s just one of those things.","body":"I have had a look at the Java documentation for it and other sources to try and get my head around it but for some reason I don&#39;t understand it. I know it&#39;s something simple but it&#39;s just one of those things."},{"owner":{"account_id":3631209,"reputation":1451,"user_id":3027307,"accept_rate":89,"display_name":"Softey"},"score":0,"creation_date":1391772420,"post_id":21626439,"comment_id":32678996,"body_markdown":"A lot of examples also do the comparison outside of the class but I want to do it inside.","body":"A lot of examples also do the comparison outside of the class but I want to do it inside."},{"owner":{"account_id":290592,"reputation":4961,"user_id":592228,"accept_rate":68,"display_name":"tstorms"},"score":3,"creation_date":1391772598,"post_id":21626439,"comment_id":32679107,"body_markdown":"Also consider changing variable name &quot;year_discovered&quot; to the java convention &quot;yearDiscovered&quot;.","body":"Also consider changing variable name &quot;year_discovered&quot; to the java convention &quot;yearDiscovered&quot;."},{"owner":{"account_id":3631209,"reputation":1451,"user_id":3027307,"accept_rate":89,"display_name":"Softey"},"score":0,"creation_date":1391772678,"post_id":21626439,"comment_id":32679155,"body_markdown":"I have changed the year_discovered to yearDiscovered. Terrible habits from doing self taught python. Thank you","body":"I have changed the year_discovered to yearDiscovered. Terrible habits from doing self taught python. Thank you"}],"answers":[{"tags":[],"owner":{"account_id":3963224,"reputation":9906,"user_id":3269852,"display_name":"Sanjeev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1391772338,"creation_date":1391772338,"answer_id":21626523,"question_id":21626439,"body_markdown":"Implement `Comparable&lt;Animal&gt;` interface in your class and provide implementation of `int compareTo(Animal other)` method in your class.[See This Post][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3718383/java-class-implements-comparable","title":"How to implement the Java comparable interface?","body":"<p>Implement <code>Comparable&lt;Animal&gt;</code> interface in your class and provide implementation of <code>int compareTo(Animal other)</code> method in your class.<a href=\"https://stackoverflow.com/questions/3718383/java-class-implements-comparable\">See This Post</a></p>\n"},{"tags":[],"owner":{"account_id":2251930,"reputation":4783,"user_id":1983983,"display_name":"user1983983"},"down_vote_count":0,"up_vote_count":168,"is_accepted":true,"score":168,"last_activity_date":1507226702,"creation_date":1391772351,"answer_id":21626529,"question_id":21626439,"body_markdown":"You just have to define that `Animal implements Comparable&lt;Animal&gt;` i.e. `public class Animal implements Comparable&lt;Animal&gt;`. And then you have to implement the `compareTo(Animal other)` method that way you like it.\r\n\r\n    @Override\r\n    public int compareTo(Animal other) {\r\n        return Integer.compare(this.year_discovered, other.year_discovered);\r\n    }\r\n\r\nUsing this implementation of `compareTo`, animals with a higher `year_discovered` will get ordered higher. I hope you get the idea of `Comparable` and `compareTo` with this example.","title":"How to implement the Java comparable interface?","body":"<p>You just have to define that <code>Animal implements Comparable&lt;Animal&gt;</code> i.e. <code>public class Animal implements Comparable&lt;Animal&gt;</code>. And then you have to implement the <code>compareTo(Animal other)</code> method that way you like it.</p>\n\n<pre><code>@Override\npublic int compareTo(Animal other) {\n    return Integer.compare(this.year_discovered, other.year_discovered);\n}\n</code></pre>\n\n<p>Using this implementation of <code>compareTo</code>, animals with a higher <code>year_discovered</code> will get ordered higher. I hope you get the idea of <code>Comparable</code> and <code>compareTo</code> with this example.</p>\n"},{"tags":[],"owner":{"account_id":270103,"reputation":1176,"user_id":559849,"accept_rate":100,"display_name":"Gyan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1391772358,"creation_date":1391772358,"answer_id":21626530,"question_id":21626439,"body_markdown":"You would need to implement the interface and define the compareTo() method.\r\nFor a good tutorial go to - &lt;a href=&quot;http://www.tutorialspoint.com/java/java_using_comparator.htm&quot;&gt;Tutorials point link&lt;/a&gt;\r\nor \r\n&lt;a href=&quot;http://www.mkyong.com/java/java-object-sorting-example-comparable-and-comparator/&quot;&gt;MyKongLink&lt;/a&gt;","title":"How to implement the Java comparable interface?","body":"<p>You would need to implement the interface and define the compareTo() method.\nFor a good tutorial go to - <a href=\"http://www.tutorialspoint.com/java/java_using_comparator.htm\" rel=\"nofollow\">Tutorials point link</a>\nor \n<a href=\"http://www.mkyong.com/java/java-object-sorting-example-comparable-and-comparator/\" rel=\"nofollow\">MyKongLink</a></p>\n"},{"tags":[],"owner":{"account_id":3175510,"reputation":2055,"user_id":2683501,"accept_rate":82,"display_name":"pL4Gu33"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1391772377,"creation_date":1391772377,"answer_id":21626540,"question_id":21626439,"body_markdown":"Use a Comparator...\r\n\r\n\r\n        public class AnimalAgeComparator implements Comparator&lt;Animal&gt; {\r\n\r\n    @Override\r\n    public int compare(Animal a1, Animal a2) {\r\n      ...\r\n    }\r\n    }","title":"How to implement the Java comparable interface?","body":"<p>Use a Comparator...</p>\n\n<pre><code>    public class AnimalAgeComparator implements Comparator&lt;Animal&gt; {\n\n@Override\npublic int compare(Animal a1, Animal a2) {\n  ...\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1635690,"reputation":150067,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1391772644,"creation_date":1391772644,"answer_id":21626632,"question_id":21626439,"body_markdown":"You need to:\r\n\r\n - Add `implements Comparable&lt;Animal&gt;` to the class declaration; and\r\n - Implement a `int compareTo( Animal a )` method to perform the comparisons.\r\n\r\nLike this:\r\n\r\n    public class Animal implements Comparable&lt;Animal&gt;{\r\n        public String name;\r\n        public int year_discovered; \r\n        public String population; \r\n    \r\n    \tpublic Animal(String name, int year_discovered, String population){\r\n    \t    this.name = name;\r\n    \t    this.year_discovered = year_discovered;\r\n    \t    this.population = population;\r\n        }\r\n    \r\n    \tpublic String toString(){\r\n    \t String s = &quot;Animal name: &quot;+ name+&quot;\\nYear Discovered: &quot;+year_discovered+&quot;\\nPopulation: &quot;+population;\r\n    \t return s;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic int compareTo( final Animal o) {\r\n    \t\treturn Integer.compare(this.year_discovered, o.year_discovered);\r\n    \t}\r\n    }","title":"How to implement the Java comparable interface?","body":"<p>You need to:</p>\n\n<ul>\n<li>Add <code>implements Comparable&lt;Animal&gt;</code> to the class declaration; and</li>\n<li>Implement a <code>int compareTo( Animal a )</code> method to perform the comparisons.</li>\n</ul>\n\n<p>Like this:</p>\n\n<pre><code>public class Animal implements Comparable&lt;Animal&gt;{\n    public String name;\n    public int year_discovered; \n    public String population; \n\n    public Animal(String name, int year_discovered, String population){\n        this.name = name;\n        this.year_discovered = year_discovered;\n        this.population = population;\n    }\n\n    public String toString(){\n     String s = \"Animal name: \"+ name+\"\\nYear Discovered: \"+year_discovered+\"\\nPopulation: \"+population;\n     return s;\n    }\n\n    @Override\n    public int compareTo( final Animal o) {\n        return Integer.compare(this.year_discovered, o.year_discovered);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2109703,"reputation":547,"user_id":3223201,"accept_rate":90,"display_name":"D3X"},"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1391772871,"creation_date":1391772871,"answer_id":21626704,"question_id":21626439,"body_markdown":"This thing can easily be done by implementing a public class that implements  Comparable&lt;Animal&gt;. This will allow you to use compareTo method which can be used with any other object to which you wish to compare.\r\n\r\nfor example you can implement it in this way:\r\n\r\n    public String compareTo(Animal oth) \r\n    {\r\n        return String.compare(this.population, oth.population);\r\n    }\r\n\r\nI think this might solve your purpose.","title":"How to implement the Java comparable interface?","body":"<p>This thing can easily be done by implementing a public class that implements  Comparable. This will allow you to use compareTo method which can be used with any other object to which you wish to compare.</p>\n\n<p>for example you can implement it in this way:</p>\n\n<pre><code>public String compareTo(Animal oth) \n{\n    return String.compare(this.population, oth.population);\n}\n</code></pre>\n\n<p>I think this might solve your purpose.</p>\n"},{"tags":[],"owner":{"account_id":8603351,"reputation":91,"user_id":6444175,"display_name":"guest"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1465459363,"creation_date":1465459363,"answer_id":37720126,"question_id":21626439,"body_markdown":"While you are in it, I suggest to remember some key facts about compareTo() methods\r\n\r\n1. CompareTo must be in consistent with equals method e.g. if two objects are equal via equals() , there compareTo() must return zero otherwise if those objects are stored in SortedSet or SortedMap they will not behave properly.\r\n\r\n2. CompareTo() must throw NullPointerException if current object get compared to null object as opposed to equals() which return false on such scenario.\r\n\r\nRead more: http://javarevisited.blogspot.com/2011/11/how-to-override-compareto-method-in.html#ixzz4B4EMGha3","title":"How to implement the Java comparable interface?","body":"<p>While you are in it, I suggest to remember some key facts about compareTo() methods</p>\n\n<ol>\n<li><p>CompareTo must be in consistent with equals method e.g. if two objects are equal via equals() , there compareTo() must return zero otherwise if those objects are stored in SortedSet or SortedMap they will not behave properly.</p></li>\n<li><p>CompareTo() must throw NullPointerException if current object get compared to null object as opposed to equals() which return false on such scenario.</p></li>\n</ol>\n\n<p>Read more: <a href=\"http://javarevisited.blogspot.com/2011/11/how-to-override-compareto-method-in.html#ixzz4B4EMGha3\" rel=\"noreferrer\">http://javarevisited.blogspot.com/2011/11/how-to-override-compareto-method-in.html#ixzz4B4EMGha3</a></p>\n"},{"tags":[],"owner":{"account_id":9910462,"reputation":176,"user_id":7337391,"display_name":"recepinanc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491077000,"creation_date":1491077000,"answer_id":43161422,"question_id":21626439,"body_markdown":"Possible alternative from the source code of `Integer.compare` method which requires `API Version 19` is :\r\n\r\n`public int compareTo(Animal other) {\r\n    return Integer.valueOf(this.year_discovered).compareTo(other.year_discovered);\r\n}`\r\n\r\nThis alternative **does not** require you to use `API version 19`.","title":"How to implement the Java comparable interface?","body":"<p>Possible alternative from the source code of <code>Integer.compare</code> method which requires <code>API Version 19</code> is :</p>\n\n<p><code>public int compareTo(Animal other) {\n    return Integer.valueOf(this.year_discovered).compareTo(other.year_discovered);\n}</code></p>\n\n<p>This alternative <strong>does not</strong> require you to use <code>API version 19</code>.</p>\n"},{"tags":[],"owner":{"account_id":5692208,"reputation":810,"user_id":4499918,"display_name":"Mahadev Mane"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501658050,"creation_date":1496770760,"answer_id":44396448,"question_id":21626439,"body_markdown":"Emp class needs to implement Comaparable interface so we need to Override its compateTo method. \r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    \r\n    \r\n    class Emp implements Comparable&lt; Emp &gt;{\r\n    \r\n        int empid;\r\n        String name;\r\n        \r\n        Emp(int empid,String name){\r\n             this.empid = empid;  \r\n             this.name = name;\r\n            \r\n        }\r\n        \r\n    \r\n        @Override\r\n        public String toString(){\r\n            return empid+&quot; &quot;+name;\r\n        }\r\n    \r\n        @Override\r\n        public int compareTo(Emp o) {\r\n            \r\n         if(this.empid==o.empid){\r\n           return 0; \r\n         } \r\n         else if(this.empid &lt; o.empid){\r\n         return 1;\r\n         }\r\n         else{\r\n           return -1;\r\n         }\r\n        }\r\n    }\r\n    \r\n----\r\n\r\n    public class JavaApplication1 {\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            \r\n        ArrayList&lt;Emp&gt; a= new ArrayList&lt;Emp&gt;();\r\n        \r\n        a.add(new Emp(10,&quot;Mahadev&quot;));\r\n          a.add(new Emp(50,&quot;Ashish&quot;));\r\n          a.add(new Emp(40,&quot;Amit&quot;));\r\n          Collections.sort(a);\r\n          for(Emp id:a){\r\n          System.out.println(id);\r\n          }\r\n        }\r\n        \r\n    }\r\n\r\n","title":"How to implement the Java comparable interface?","body":"<p>Emp class needs to implement Comaparable interface so we need to Override its compateTo method. </p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\n\n\nclass Emp implements Comparable&lt; Emp &gt;{\n\n    int empid;\n    String name;\n\n    Emp(int empid,String name){\n         this.empid = empid;  \n         this.name = name;\n\n    }\n\n\n    @Override\n    public String toString(){\n        return empid+\" \"+name;\n    }\n\n    @Override\n    public int compareTo(Emp o) {\n\n     if(this.empid==o.empid){\n       return 0; \n     } \n     else if(this.empid &lt; o.empid){\n     return 1;\n     }\n     else{\n       return -1;\n     }\n    }\n}\n</code></pre>\n\n<hr>\n\n<pre><code>public class JavaApplication1 {\n\n\n    public static void main(String[] args) {\n\n    ArrayList&lt;Emp&gt; a= new ArrayList&lt;Emp&gt;();\n\n    a.add(new Emp(10,\"Mahadev\"));\n      a.add(new Emp(50,\"Ashish\"));\n      a.add(new Emp(40,\"Amit\"));\n      Collections.sort(a);\n      for(Emp id:a){\n      System.out.println(id);\n      }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":3631209,"reputation":1451,"user_id":3027307,"accept_rate":89,"display_name":"Softey"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":283969,"favorite_count":0,"down_vote_count":1,"up_vote_count":115,"accepted_answer_id":21626529,"answer_count":9,"score":114,"last_activity_date":1638720098,"creation_date":1391772133,"question_id":21626439,"body_markdown":"I am not sure how to implement a comparable interface into my abstract class. I have the following example code that I am using to try and get my head around it: \r\n\r\n    public class Animal{\r\n        public String name;\r\n        public int yearDiscovered;\r\n        public String population;\r\n    \r\n        public Animal(String name, int yearDiscovered, String population){\r\n            this.name = name;\r\n            this.yearDiscovered = yearDiscovered;\r\n            this.population = population; }\r\n    \r\n        public String toString(){\r\n            String s = &quot;Animal name: &quot;+ name+&quot;\\nYear Discovered: &quot;+yearDiscovered+&quot;\\nPopulation: &quot;+population;\r\n            return s;\r\n        }\r\n    }\r\n\r\nI have a test class that will create objects of type Animal however I want to have a comparable interface inside this class so that older years of discovery rank higher than low. I have no idea on how to go about this though.\r\n","title":"How to implement the Java comparable interface?","body":"<p>I am not sure how to implement a comparable interface into my abstract class. I have the following example code that I am using to try and get my head around it: </p>\n\n<pre><code>public class Animal{\n    public String name;\n    public int yearDiscovered;\n    public String population;\n\n    public Animal(String name, int yearDiscovered, String population){\n        this.name = name;\n        this.yearDiscovered = yearDiscovered;\n        this.population = population; }\n\n    public String toString(){\n        String s = \"Animal name: \"+ name+\"\\nYear Discovered: \"+yearDiscovered+\"\\nPopulation: \"+population;\n        return s;\n    }\n}\n</code></pre>\n\n<p>I have a test class that will create objects of type Animal however I want to have a comparable interface inside this class so that older years of discovery rank higher than low. I have no idea on how to go about this though.</p>\n"},{"tags":["java","android","android-studio","android-recyclerview","android-adapter"],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638710231,"creation_date":1638709646,"answer_id":70234609,"question_id":70234575,"body_markdown":"`RecyclerView` is a `View`, is intended to show passed data (in this case: using adapter). you should pass already filtered list to adapter instead of whole array with all jobs. thats the simplest way\r\n\r\nanother, more flexible way is to [implement `Filterable` in adapter](https://www.11zon.com/zon/android/android-recyclerview-adapter-filterable.php) and use filtering, if on start there should be only non-finished jobs then just set filter at the beginning in adapters constructor. you may also introduce some switch/toggle GUI element which will hide/reveal finished jobs (e.g. on `ActionBar`/`Toolbar`)","title":"I want my recyclerview to show limited cards through condition but all items keep getting shown","body":"<p><code>RecyclerView</code> is a <code>View</code>, is intended to show passed data (in this case: using adapter). you should pass already filtered list to adapter instead of whole array with all jobs. thats the simplest way</p>\n<p>another, more flexible way is to <a href=\"https://www.11zon.com/zon/android/android-recyclerview-adapter-filterable.php\" rel=\"nofollow noreferrer\">implement <code>Filterable</code> in adapter</a> and use filtering, if on start there should be only non-finished jobs then just set filter at the beginning in adapters constructor. you may also introduce some switch/toggle GUI element which will hide/reveal finished jobs (e.g. on <code>ActionBar</code>/<code>Toolbar</code>)</p>\n"}],"owner":{"account_id":22238092,"reputation":1,"user_id":16473068,"display_name":"Don&#39;thavetHanswers"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638719742,"creation_date":1638709440,"question_id":70234575,"body_markdown":"I&#39;m trying to show a Recyclerview list of jobs that are not finished (`!isJob_finished()`) but every item seems to be shown in the recyclerview card list. How do I make it that when a job is not finished it shall not be shown in recyclerview list?\r\n\r\nMY ADAPTER\r\nThe adapter \r\n\r\n    public class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt;{\r\n        //Make a context and iterable datalist variable\r\n        Context context;\r\n        ArrayList&lt;JobModel&gt; userArrayList;\r\n    \r\n        //Constructor\r\n        public MyAdapter(Context context, ArrayList&lt;JobModel&gt; userArrayList) {\r\n            this.context = context;\r\n            this.userArrayList = userArrayList;\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public MyAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            //Here is where you attach your item layout ie: job_openings_list\r\n            View v = LayoutInflater.from(context).inflate(R.layout.job_openings_list,parent,false);\r\n            return new MyViewHolder(v);\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(@NonNull MyAdapter.MyViewHolder holder, int position) {\r\n            //Instantiate your model class to hold the data of the model ur simulating\r\n            JobModel job = userArrayList.get(position);\r\n    \r\n            //Based on the widgets u used on myViewHolder\r\n            if(job.isJob_finished()==false){\r\n                holder.tv_provided_title.setText(job.getJob_title());\r\n                holder.tv_provided_payout.setText(job.getJob_payout());\r\n                holder.tv_provided_id.setText(job.getJob_ID());\r\n    \r\n                //OnClickers redirect to intent\r\n                holder.tv_provided_title.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) { ToDescription(v, job); }\r\n                });\r\n                holder.tv_provided_payout.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) { ToDescription(v, job); }\r\n                });\r\n                holder.tv_provided_id.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) { ToDescription(v, job); }\r\n                });\r\n            }else{\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n        private void ToDescription(View v, JobModel job) {\r\n            Intent i = new Intent(v.getContext(), JobDescription.class);\r\n            i.putExtra(&quot;job_id&quot;,job.getJob_ID());\r\n            context.startActivity(i);\r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return userArrayList.size();\r\n        }\r\n    \r\n        public static class MyViewHolder extends RecyclerView.ViewHolder{\r\n            //Here in scope instantiate the widgets used based on your item layout\r\n            TextView tv_provided_title,tv_provided_payout, tv_provided_id;\r\n    \r\n            public MyViewHolder(@NonNull @NotNull View itemView) {\r\n                super(itemView);\r\n                //find the widgets\r\n                tv_provided_title = itemView.findViewById(R.id.tv_provided_title);\r\n                tv_provided_payout = itemView.findViewById(R.id.tv_provided_payout);\r\n                tv_provided_id = itemView.findViewById(R.id.tv_provided_id);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\nMY MODEL\r\nmodel i am using with the adapter\r\n\r\n    public class JobModel {\r\n        private String Job_title;\r\n        private String Job_ID;\r\n        private String Job_payout;\r\n        private Boolean Job_finished = false;\r\n    \r\n        private JobModel(){\r\n        }\r\n    \r\n        public JobModel(String job_title, String job_ID, String job_payout) {\r\n            Job_title = job_title;\r\n            Job_ID = job_ID;\r\n            Job_payout = job_payout;\r\n        }\r\n    \r\n        public Boolean isJob_finished() { return Job_finished; }\r\n    \r\n        public void setFinished(Boolean finished) { this.Job_finished = finished; }\r\n    \r\n        public String getJob_title() {\r\n            return Job_title;\r\n        }\r\n    \r\n        public void setJob_title(String job_title) {\r\n            Job_title = job_title;\r\n        }\r\n    \r\n        public String getJob_ID() {\r\n            return Job_ID;\r\n        }\r\n    \r\n        public void setJob_ID(String job_ID) {\r\n            Job_ID = job_ID;\r\n        }\r\n    \r\n        public String getJob_payout() {\r\n            return Job_payout;\r\n        }\r\n    \r\n        public void setJob_payout(String job_payout) {\r\n            Job_payout = job_payout;\r\n        }\r\n    }\r\n\r\nThe Code I use is JAVA","title":"I want my recyclerview to show limited cards through condition but all items keep getting shown","body":"<p>I'm trying to show a Recyclerview list of jobs that are not finished (<code>!isJob_finished()</code>) but every item seems to be shown in the recyclerview card list. How do I make it that when a job is not finished it shall not be shown in recyclerview list?</p>\n<p>MY ADAPTER\nThe adapter</p>\n<pre><code>public class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt;{\n    //Make a context and iterable datalist variable\n    Context context;\n    ArrayList&lt;JobModel&gt; userArrayList;\n\n    //Constructor\n    public MyAdapter(Context context, ArrayList&lt;JobModel&gt; userArrayList) {\n        this.context = context;\n        this.userArrayList = userArrayList;\n    }\n\n    @NonNull\n    @Override\n    public MyAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        //Here is where you attach your item layout ie: job_openings_list\n        View v = LayoutInflater.from(context).inflate(R.layout.job_openings_list,parent,false);\n        return new MyViewHolder(v);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MyAdapter.MyViewHolder holder, int position) {\n        //Instantiate your model class to hold the data of the model ur simulating\n        JobModel job = userArrayList.get(position);\n\n        //Based on the widgets u used on myViewHolder\n        if(job.isJob_finished()==false){\n            holder.tv_provided_title.setText(job.getJob_title());\n            holder.tv_provided_payout.setText(job.getJob_payout());\n            holder.tv_provided_id.setText(job.getJob_ID());\n\n            //OnClickers redirect to intent\n            holder.tv_provided_title.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) { ToDescription(v, job); }\n            });\n            holder.tv_provided_payout.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) { ToDescription(v, job); }\n            });\n            holder.tv_provided_id.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) { ToDescription(v, job); }\n            });\n        }else{\n\n        }\n\n    }\n\n    private void ToDescription(View v, JobModel job) {\n        Intent i = new Intent(v.getContext(), JobDescription.class);\n        i.putExtra(&quot;job_id&quot;,job.getJob_ID());\n        context.startActivity(i);\n    }\n\n    @Override\n    public int getItemCount() {\n        return userArrayList.size();\n    }\n\n    public static class MyViewHolder extends RecyclerView.ViewHolder{\n        //Here in scope instantiate the widgets used based on your item layout\n        TextView tv_provided_title,tv_provided_payout, tv_provided_id;\n\n        public MyViewHolder(@NonNull @NotNull View itemView) {\n            super(itemView);\n            //find the widgets\n            tv_provided_title = itemView.findViewById(R.id.tv_provided_title);\n            tv_provided_payout = itemView.findViewById(R.id.tv_provided_payout);\n            tv_provided_id = itemView.findViewById(R.id.tv_provided_id);\n        }\n    }\n}\n</code></pre>\n<p>MY MODEL\nmodel i am using with the adapter</p>\n<pre><code>public class JobModel {\n    private String Job_title;\n    private String Job_ID;\n    private String Job_payout;\n    private Boolean Job_finished = false;\n\n    private JobModel(){\n    }\n\n    public JobModel(String job_title, String job_ID, String job_payout) {\n        Job_title = job_title;\n        Job_ID = job_ID;\n        Job_payout = job_payout;\n    }\n\n    public Boolean isJob_finished() { return Job_finished; }\n\n    public void setFinished(Boolean finished) { this.Job_finished = finished; }\n\n    public String getJob_title() {\n        return Job_title;\n    }\n\n    public void setJob_title(String job_title) {\n        Job_title = job_title;\n    }\n\n    public String getJob_ID() {\n        return Job_ID;\n    }\n\n    public void setJob_ID(String job_ID) {\n        Job_ID = job_ID;\n    }\n\n    public String getJob_payout() {\n        return Job_payout;\n    }\n\n    public void setJob_payout(String job_payout) {\n        Job_payout = job_payout;\n    }\n}\n</code></pre>\n<p>The Code I use is JAVA</p>\n"},{"tags":["java","spring","unix","gradle"],"comments":[{"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"score":0,"creation_date":1638719359,"post_id":68017640,"comment_id":124157184,"body_markdown":"You are adding this to the end of your PATH environment variable, so it will be found last. Is there another Gradle folder already in PATH?","body":"You are adding this to the end of your PATH environment variable, so it will be found last. Is there another Gradle folder already in PATH?"}],"answers":[{"tags":[],"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638719742,"creation_date":1638719742,"answer_id":70235990,"question_id":68017640,"body_markdown":"You aren&#39;t in a project directory when you are running those commands.\r\n\r\nRun the gradle command from within your project folder, not the bin folder of a Gradle installation.\r\n\r\nCheck the value of your PATH environment variable to see what other Gradle installations might already be part of it.\r\n\r\n\r\n    echo $PATH\r\n\r\nI&#39;m fairly certain you will find that the gradle command of Gradle 7.0 is already on the path.  You can edit the PATH or provide the full path to invoke Gradle 5.6.4, but the best thing to do is to use the Gradle wrapper in your project to force the Gradle version to what you know works for your project.\r\n\r\nNote that &#39;gradlew&#39; is not part of Gradle, it is a wrapper script added to some individual Gradle-based projects.","title":"Gradle installation gives different gradle version","body":"<p>You aren't in a project directory when you are running those commands.</p>\n<p>Run the gradle command from within your project folder, not the bin folder of a Gradle installation.</p>\n<p>Check the value of your PATH environment variable to see what other Gradle installations might already be part of it.</p>\n<pre><code>echo $PATH\n</code></pre>\n<p>I'm fairly certain you will find that the gradle command of Gradle 7.0 is already on the path.  You can edit the PATH or provide the full path to invoke Gradle 5.6.4, but the best thing to do is to use the Gradle wrapper in your project to force the Gradle version to what you know works for your project.</p>\n<p>Note that 'gradlew' is not part of Gradle, it is a wrapper script added to some individual Gradle-based projects.</p>\n"}],"owner":{"account_id":15314354,"reputation":179,"user_id":11048662,"display_name":"vicky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638719742,"creation_date":1623926157,"question_id":68017640,"body_markdown":"As a new user I am trying to install gradle-5.6.4 on my mac but when I check gradle version it shows Gradle 7.0. Is there anything to switch or correct the versioning to gradle.\r\n\r\n```\r\nmachine1:~ user$ cd /Users/user/Downloads/gradle-5.6.4/bin \r\nmachine1:bin user$ gradle\r\n\r\nWelcome to Gradle 7.0!\r\n\r\nHere are the highlights of this release:\r\n - File system watching enabled by default\r\n - Support for running with and building Java 16 projects\r\n - Dependency catalog feature preview\r\n\r\nFor more details see https://docs.gradle.org/7.0/release-notes.html\r\nStarting a Gradle Daemon (subsequent builds will be faster)\r\n&gt; Task :help\r\nWelcome to Gradle 7.0.\r\nTo run a build, run gradle &lt;task&gt; ...\r\nTo see a list of available tasks, run gradle tasks\r\nTo see a list of command-line options, run gradle --help\r\nTo see more detail about a task, run gradle help --task &lt;task&gt;\r\nFor troubleshooting, visit https://help.gradle.org\r\nBUILD SUCCESSFUL in 6s\r\n1 actionable task: 1 executed\r\n\r\nmachine1:bin user$ \r\nmachine1:bin user$ gradle wrapper --gradle-version 5.6.4\r\nStarting a Gradle Daemon, 1 incompatible and 1 stopped Daemons could not be reused, use --status for details\r\n&gt; Task :wrapper FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nSome problems were found with the configuration of task &#39;:wrapper&#39; (type &#39;Wrapper&#39;).\r\n  - Type &#39;Wrapper&#39; property &#39;jarFile&#39; is not writable because &#39;/Users/user/Downloads/gradle-5.6.4/bin/gradle/wrapper/gradle-wrapper.jar&#39; ancestor &#39;/Users/user/Downloads/gradle-5.6.4/bin/gradle&#39; is not a directory.\r\n    \r\n    Reason: Cannot write a file to a location pointing at a directory.\r\n    \r\n    Possible solution: Configure &#39;jarFile&#39; to point to a file, not a directory.\r\n    \r\n    Please refer to https://docs.gradle.org/7.0/userguide/validation_problems.html#cannot_write_output for more details about this problem.\r\n  - Type &#39;Wrapper&#39; property &#39;propertiesFile&#39; is not writable because &#39;/Users/user/Downloads/gradle-5.6.4/bin/gradle/wrapper/gradle-wrapper.properties&#39; ancestor &#39;/Users/user/Downloads/gradle-5.6.4/bin/gradle&#39; is not a directory.\r\n    \r\n    Reason: Cannot write a file to a location pointing at a directory. \r\n    Possible solution: Configure &#39;propertiesFile&#39; to point to a file, not a directory.\r\n    Please refer to https://docs.gradle.org/7.0/userguide/validation_problems.html#cannot_write_output for more details about this problem.\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 5s\r\n1 actionable task: 1 executed\r\nmachine1:bin user$ \r\nmachine1:bin user$ \r\nmachine1:bin user$ ./gradlew build\r\n-bash: ./gradlew: No such file or directory\r\nmachine1:bin user$ pwd\r\n/Users/user/Downloads/gradle-5.6.4/bin\r\nmachine1:bin user$ ls\r\ngradle\t\tgradle.bat\tsettings.gradle\r\n```\r\n\r\nNot sure if Gradle 7 have been accidentally installed and overwrite to gradle 5.6.4. Not sure of what are the right steps to follow.  In my .bash_profile I have added below :\r\n\r\n```\r\nexport GRADLE_HOME=/Users/user/Downloads/gradle-5.6.4\r\nexport PATH=$PATH:$GRADLE_HOME/bin\r\n```\r\nAlso there is .gradle folder which gets generated and shows &gt; .gradle.caches&gt;7.0 in folder, if that points to Gradle 7.0. I have tried to delete this also but get auto generated.","title":"Gradle installation gives different gradle version","body":"<p>As a new user I am trying to install gradle-5.6.4 on my mac but when I check gradle version it shows Gradle 7.0. Is there anything to switch or correct the versioning to gradle.</p>\n<pre><code>machine1:~ user$ cd /Users/user/Downloads/gradle-5.6.4/bin \nmachine1:bin user$ gradle\n\nWelcome to Gradle 7.0!\n\nHere are the highlights of this release:\n - File system watching enabled by default\n - Support for running with and building Java 16 projects\n - Dependency catalog feature preview\n\nFor more details see https://docs.gradle.org/7.0/release-notes.html\nStarting a Gradle Daemon (subsequent builds will be faster)\n&gt; Task :help\nWelcome to Gradle 7.0.\nTo run a build, run gradle &lt;task&gt; ...\nTo see a list of available tasks, run gradle tasks\nTo see a list of command-line options, run gradle --help\nTo see more detail about a task, run gradle help --task &lt;task&gt;\nFor troubleshooting, visit https://help.gradle.org\nBUILD SUCCESSFUL in 6s\n1 actionable task: 1 executed\n\nmachine1:bin user$ \nmachine1:bin user$ gradle wrapper --gradle-version 5.6.4\nStarting a Gradle Daemon, 1 incompatible and 1 stopped Daemons could not be reused, use --status for details\n&gt; Task :wrapper FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nSome problems were found with the configuration of task ':wrapper' (type 'Wrapper').\n  - Type 'Wrapper' property 'jarFile' is not writable because '/Users/user/Downloads/gradle-5.6.4/bin/gradle/wrapper/gradle-wrapper.jar' ancestor '/Users/user/Downloads/gradle-5.6.4/bin/gradle' is not a directory.\n    \n    Reason: Cannot write a file to a location pointing at a directory.\n    \n    Possible solution: Configure 'jarFile' to point to a file, not a directory.\n    \n    Please refer to https://docs.gradle.org/7.0/userguide/validation_problems.html#cannot_write_output for more details about this problem.\n  - Type 'Wrapper' property 'propertiesFile' is not writable because '/Users/user/Downloads/gradle-5.6.4/bin/gradle/wrapper/gradle-wrapper.properties' ancestor '/Users/user/Downloads/gradle-5.6.4/bin/gradle' is not a directory.\n    \n    Reason: Cannot write a file to a location pointing at a directory. \n    Possible solution: Configure 'propertiesFile' to point to a file, not a directory.\n    Please refer to https://docs.gradle.org/7.0/userguide/validation_problems.html#cannot_write_output for more details about this problem.\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 5s\n1 actionable task: 1 executed\nmachine1:bin user$ \nmachine1:bin user$ \nmachine1:bin user$ ./gradlew build\n-bash: ./gradlew: No such file or directory\nmachine1:bin user$ pwd\n/Users/user/Downloads/gradle-5.6.4/bin\nmachine1:bin user$ ls\ngradle      gradle.bat  settings.gradle\n</code></pre>\n<p>Not sure if Gradle 7 have been accidentally installed and overwrite to gradle 5.6.4. Not sure of what are the right steps to follow.  In my .bash_profile I have added below :</p>\n<pre><code>export GRADLE_HOME=/Users/user/Downloads/gradle-5.6.4\nexport PATH=$PATH:$GRADLE_HOME/bin\n</code></pre>\n<p>Also there is .gradle folder which gets generated and shows &gt; .gradle.caches&gt;7.0 in folder, if that points to Gradle 7.0. I have tried to delete this also but get auto generated.</p>\n"},{"tags":["java","intellij-idea","jetty","embedded-jetty","tapestry"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1638225698,"post_id":70098183,"comment_id":124027589,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":10744434,"reputation":11,"user_id":7906285,"display_name":"Ahmed Makni"},"score":0,"creation_date":1638719626,"post_id":70098183,"comment_id":124157255,"body_markdown":"i&#39;m using jetty runner plugin in intelij to run web app aplication tapestry  the problem is when i&#39;m trying to run as debug mode the break points never been trigged","body":"i&#39;m using jetty runner plugin in intelij to run web app aplication tapestry  the problem is when i&#39;m trying to run as debug mode the break points never been trigged"}],"owner":{"account_id":10744434,"reputation":11,"user_id":7906285,"display_name":"Ahmed Makni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638719414,"creation_date":1637765352,"question_id":70098183,"body_markdown":"I&#39;m using intelij as IDE in application tapesrty5 and for server i&#39;m using jetty runner as plugin for intelij \r\nthe problem is when i&#39;m trying to run as debug mode the break point never been trigged   \r\n\r\nBreakpoint created but never been triggered !\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/61InT.png","title":"How to Debug web app tapestry in IntelliJ with jetty runner configuration","body":"<p>I'm using intelij as IDE in application tapesrty5 and for server i'm using jetty runner as plugin for intelij\nthe problem is when i'm trying to run as debug mode the break point never been trigged</p>\n<p>Breakpoint created but never been triggered !</p>\n<p><a href=\"https://i.stack.imgur.com/61InT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/61InT.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":13784211,"reputation":163,"user_id":9948582,"display_name":"prexos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638719327,"creation_date":1638719327,"answer_id":70235935,"question_id":70231532,"body_markdown":"The issue was using the @KafkaListener annotation in the Kafka Configuration class. I replaced it with the @EnableKafka annotation and it fixed the problem.","title":"Kafka java.lang.IllegalStateException: topics, topicPattern, or topicPartitions must be provided","body":"<p>The issue was using the @KafkaListener annotation in the Kafka Configuration class. I replaced it with the @EnableKafka annotation and it fixed the problem.</p>\n"}],"owner":{"account_id":13784211,"reputation":163,"user_id":9948582,"display_name":"prexos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1615,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638719327,"creation_date":1638679348,"question_id":70231532,"body_markdown":"I am new to Apache Kafka and I am currently working on a small Kafka project. I am working on an example involving Spring Boot and Kafka consumer. However, I am getting an IllegalStateException.\r\n\r\n\r\nI have a Kafka Configuration class:\r\n\r\n```\r\npackage com.example.springbootwithkafkaconsumer.config;\r\n\r\nimport com.example.springbootwithkafkaconsumer.model.Customer;\r\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\r\nimport org.apache.kafka.common.serialization.StringDeserializer;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.kafka.annotation.KafkaListener;\r\nimport org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\r\nimport org.springframework.kafka.core.ConsumerFactory;\r\nimport org.springframework.kafka.core.DefaultKafkaConsumerFactory;\r\nimport org.springframework.kafka.support.serializer.JsonDeserializer;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\n@KafkaListener\r\n@Configuration\r\npublic class KafkaConfiguration {\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\r\n        Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\r\n\r\n        config.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\r\n        config.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;group_id&quot;);\r\n        config.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        config.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(config);\r\n    }\r\n\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory() {\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactory());\r\n        return factory;\r\n    }\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String, Customer&gt; customerConsumerFactory() {\r\n        Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\r\n\r\n        config.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\r\n        config.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;group_json&quot;);\r\n        config.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        config.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(config, new StringDeserializer(),\r\n                new JsonDeserializer&lt;&gt;(Customer.class));\r\n    }\r\n\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, Customer&gt; customerKafkaListenerFactory() {\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, Customer&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(customerConsumerFactory());\r\n        return factory;\r\n    }\r\n}\r\n```\r\n\r\nand a Consumer class:\r\n\r\n```\r\npackage com.example.springbootwithkafkaconsumer;\r\n\r\nimport com.example.springbootwithkafkaconsumer.model.Customer;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.kafka.annotation.KafkaListener;\r\n\r\n@Configuration\r\npublic class Consumer {\r\n\r\n    @KafkaListener(topics = &quot;Kafka_Example&quot;, groupId = &quot;group_id&quot;)\r\n    public void consumeMessageString(String message) { System.out.println(&quot;Consumed String Message: &quot; + message); }\r\n\r\n    @KafkaListener(topics = &quot;Kafka_Example_Json&quot;, groupId = &quot;group_json&quot;,\r\n            containerFactory = &quot;customerKafkaListenerFactory&quot;)\r\n    public void consumeMessageJson(Customer customer) { System.out.println(&quot;Consumed JSON Message: &quot; + customer); }\r\n}\r\n```\r\n\r\nFor some reason, the error message says that a topic must be provided, but I already provided two topics in the Consumer class.\r\n\r\nHere is the error message:\r\n\r\n```\r\njava.lang.IllegalStateException: topics, topicPattern, or topicPartitions must be provided\r\n\tat org.springframework.kafka.listener.AbstractMessageListenerContainer.&lt;init&gt;(AbstractMessageListenerContainer.java:145) ~[spring-kafka-2.8.0.jar:2.8.0]\r\n\tat org.springframework.kafka.listener.ConcurrentMessageListenerContainer.&lt;init&gt;(ConcurrentMessageListenerContainer.java:81) ~[spring-kafka-2.8.0.jar:2.8.0]\r\n\tat org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory.createContainerInstance(ConcurrentKafkaListenerContainerFactory.java:75) ~[spring-kafka-2.8.0.jar:2.8.0]\r\n\tat org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory.createContainerInstance(ConcurrentKafkaListenerContainerFactory.java:46) ~[spring-kafka-2.8.0.jar:2.8.0]\r\n\tat org.springframework.kafka.config.AbstractKafkaListenerContainerFactory.createListenerContainer(AbstractKafkaListenerContainerFactory.java:377) ~[spring-kafka-2.8.0.jar:2.8.0]\r\n\tat org.springframework.kafka.config.AbstractKafkaListenerContainerFactory.createListenerContainer(AbstractKafkaListenerContainerFactory.java:69) ~[spring-kafka-2.8.0.jar:2.8.0]\r\n\tat org.springframework.kafka.config.KafkaListenerEndpointRegistry.createListenerContainer(KafkaListenerEndpointRegistry.java:228) ~[spring-kafka-2.8.0.jar:2.8.0]\r\n\tat org.springframework.kafka.config.KafkaListenerEndpointRegistry.registerListenerContainer(KafkaListenerEndpointRegistry.java:183) ~[spring-kafka-2.8.0.jar:2.8.0]\r\n\tat org.springframework.kafka.config.KafkaListenerEndpointRegistry.registerListenerContainer(KafkaListenerEndpointRegistry.java:156) ~[spring-kafka-2.8.0.jar:2.8.0]\r\n\tat org.springframework.kafka.config.KafkaListenerEndpointRegistrar.registerAllEndpoints(KafkaListenerEndpointRegistrar.java:196) ~[spring-kafka-2.8.0.jar:2.8.0]\r\n\tat org.springframework.kafka.config.KafkaListenerEndpointRegistrar.afterPropertiesSet(KafkaListenerEndpointRegistrar.java:186) ~[spring-kafka-2.8.0.jar:2.8.0]\r\n\tat org.springframework.kafka.annotation.KafkaListenerAnnotationBeanPostProcessor.afterSingletonsInstantiated(KafkaListenerAnnotationBeanPostProcessor.java:306) ~[spring-kafka-2.8.0.jar:2.8.0]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:963) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.13.jar:5.3.13]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.13.jar:5.3.13]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.1.jar:2.6.1]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-2.6.1.jar:2.6.1]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) ~[spring-boot-2.6.1.jar:2.6.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-2.6.1.jar:2.6.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.1.jar:2.6.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1290) ~[spring-boot-2.6.1.jar:2.6.1]\r\n\tat com.example.springbootwithkafkaconsumer.SpringBootWithKafkaConsumerApplication.main(SpringBootWithKafkaConsumerApplication.java:10) ~[classes/:an]\r\n```\r\n\r\nHow do I fix this error?","title":"Kafka java.lang.IllegalStateException: topics, topicPattern, or topicPartitions must be provided","body":"<p>I am new to Apache Kafka and I am currently working on a small Kafka project. I am working on an example involving Spring Boot and Kafka consumer. However, I am getting an IllegalStateException.</p>\n<p>I have a Kafka Configuration class:</p>\n<pre><code>package com.example.springbootwithkafkaconsumer.config;\n\nimport com.example.springbootwithkafkaconsumer.model.Customer;\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\nimport org.apache.kafka.common.serialization.StringDeserializer;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.kafka.annotation.KafkaListener;\nimport org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\nimport org.springframework.kafka.core.ConsumerFactory;\nimport org.springframework.kafka.core.DefaultKafkaConsumerFactory;\nimport org.springframework.kafka.support.serializer.JsonDeserializer;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\n@KafkaListener\n@Configuration\npublic class KafkaConfiguration {\n\n    @Bean\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\n        Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\n\n        config.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\n        config.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;group_id&quot;);\n        config.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        config.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n\n        return new DefaultKafkaConsumerFactory&lt;&gt;(config);\n    }\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory() {\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory());\n        return factory;\n    }\n\n    @Bean\n    public ConsumerFactory&lt;String, Customer&gt; customerConsumerFactory() {\n        Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\n\n        config.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\n        config.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;group_json&quot;);\n        config.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        config.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\n        return new DefaultKafkaConsumerFactory&lt;&gt;(config, new StringDeserializer(),\n                new JsonDeserializer&lt;&gt;(Customer.class));\n    }\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, Customer&gt; customerKafkaListenerFactory() {\n        ConcurrentKafkaListenerContainerFactory&lt;String, Customer&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(customerConsumerFactory());\n        return factory;\n    }\n}\n</code></pre>\n<p>and a Consumer class:</p>\n<pre><code>package com.example.springbootwithkafkaconsumer;\n\nimport com.example.springbootwithkafkaconsumer.model.Customer;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.kafka.annotation.KafkaListener;\n\n@Configuration\npublic class Consumer {\n\n    @KafkaListener(topics = &quot;Kafka_Example&quot;, groupId = &quot;group_id&quot;)\n    public void consumeMessageString(String message) { System.out.println(&quot;Consumed String Message: &quot; + message); }\n\n    @KafkaListener(topics = &quot;Kafka_Example_Json&quot;, groupId = &quot;group_json&quot;,\n            containerFactory = &quot;customerKafkaListenerFactory&quot;)\n    public void consumeMessageJson(Customer customer) { System.out.println(&quot;Consumed JSON Message: &quot; + customer); }\n}\n</code></pre>\n<p>For some reason, the error message says that a topic must be provided, but I already provided two topics in the Consumer class.</p>\n<p>Here is the error message:</p>\n<pre><code>java.lang.IllegalStateException: topics, topicPattern, or topicPartitions must be provided\n    at org.springframework.kafka.listener.AbstractMessageListenerContainer.&lt;init&gt;(AbstractMessageListenerContainer.java:145) ~[spring-kafka-2.8.0.jar:2.8.0]\n    at org.springframework.kafka.listener.ConcurrentMessageListenerContainer.&lt;init&gt;(ConcurrentMessageListenerContainer.java:81) ~[spring-kafka-2.8.0.jar:2.8.0]\n    at org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory.createContainerInstance(ConcurrentKafkaListenerContainerFactory.java:75) ~[spring-kafka-2.8.0.jar:2.8.0]\n    at org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory.createContainerInstance(ConcurrentKafkaListenerContainerFactory.java:46) ~[spring-kafka-2.8.0.jar:2.8.0]\n    at org.springframework.kafka.config.AbstractKafkaListenerContainerFactory.createListenerContainer(AbstractKafkaListenerContainerFactory.java:377) ~[spring-kafka-2.8.0.jar:2.8.0]\n    at org.springframework.kafka.config.AbstractKafkaListenerContainerFactory.createListenerContainer(AbstractKafkaListenerContainerFactory.java:69) ~[spring-kafka-2.8.0.jar:2.8.0]\n    at org.springframework.kafka.config.KafkaListenerEndpointRegistry.createListenerContainer(KafkaListenerEndpointRegistry.java:228) ~[spring-kafka-2.8.0.jar:2.8.0]\n    at org.springframework.kafka.config.KafkaListenerEndpointRegistry.registerListenerContainer(KafkaListenerEndpointRegistry.java:183) ~[spring-kafka-2.8.0.jar:2.8.0]\n    at org.springframework.kafka.config.KafkaListenerEndpointRegistry.registerListenerContainer(KafkaListenerEndpointRegistry.java:156) ~[spring-kafka-2.8.0.jar:2.8.0]\n    at org.springframework.kafka.config.KafkaListenerEndpointRegistrar.registerAllEndpoints(KafkaListenerEndpointRegistrar.java:196) ~[spring-kafka-2.8.0.jar:2.8.0]\n    at org.springframework.kafka.config.KafkaListenerEndpointRegistrar.afterPropertiesSet(KafkaListenerEndpointRegistrar.java:186) ~[spring-kafka-2.8.0.jar:2.8.0]\n    at org.springframework.kafka.annotation.KafkaListenerAnnotationBeanPostProcessor.afterSingletonsInstantiated(KafkaListenerAnnotationBeanPostProcessor.java:306) ~[spring-kafka-2.8.0.jar:2.8.0]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:963) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.13.jar:5.3.13]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.13.jar:5.3.13]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.1.jar:2.6.1]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-2.6.1.jar:2.6.1]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) ~[spring-boot-2.6.1.jar:2.6.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-2.6.1.jar:2.6.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.1.jar:2.6.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1290) ~[spring-boot-2.6.1.jar:2.6.1]\n    at com.example.springbootwithkafkaconsumer.SpringBootWithKafkaConsumerApplication.main(SpringBootWithKafkaConsumerApplication.java:10) ~[classes/:an]\n</code></pre>\n<p>How do I fix this error?</p>\n"},{"tags":["java","set","java-stream","treeset"],"answers":[{"tags":[],"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638709341,"creation_date":1638706299,"answer_id":70234144,"question_id":70234017,"body_markdown":"this has nothing to do with streams...just plain inheritance. \r\n\r\ncreate a new class &quot;MaxFourTreeSet&lt;E&gt;&quot; which &quot;extends TreeSet&lt;E&gt;&quot; and override the add() function to add your condition. then, in your stream use MaxFourTreeSet::new instead of TreeSet::new. that&#39;s all.\r\n\r\n    public class MaxFourTreeSet&lt;E&gt; extends TreeSet&lt;E&gt; {\r\n\r\n    @Override\r\n    public boolean add(E e) {\r\n        if (this.size() &lt;= 4) {\r\n            return super.add(e);\r\n        } \r\n        return false;\r\n     } \r\n    }\r\n\r\n(code not accurate)","title":"@Override TreeSet add methode for add juste 4 elements (on Java)","body":"<p>this has nothing to do with streams...just plain inheritance.</p>\n<p>create a new class &quot;MaxFourTreeSet&quot; which &quot;extends TreeSet&quot; and override the add() function to add your condition. then, in your stream use MaxFourTreeSet::new instead of TreeSet::new. that's all.</p>\n<pre><code>public class MaxFourTreeSet&lt;E&gt; extends TreeSet&lt;E&gt; {\n\n@Override\npublic boolean add(E e) {\n    if (this.size() &lt;= 4) {\n        return super.add(e);\n    } \n    return false;\n } \n}\n</code></pre>\n<p>(code not accurate)</p>\n"},{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638719196,"creation_date":1638714866,"answer_id":70235360,"question_id":70234017,"body_markdown":"#### First\r\n\r\nTo Use a `TreeSet` (*&quot;ordered set&quot;*), the values (`&lt;V&gt;`) must implement `Comparable&lt;V&gt;` *or* we have to provide a `Comparator&lt;Person&gt;` at `TreeSet` construction.\r\n\r\n#### Second\r\n\r\nCheck this (if we got the problem right):\r\n\r\n    package com.example;\r\n\r\n    import static java.util.stream.Collectors.collectingAndThen;\r\n    import static java.util.stream.Collectors.groupingBy;\r\n\timport static java.util.stream.Collectors.toSet;\r\n\r\n\timport java.util.List;\r\n\timport java.util.Map;\r\n\timport java.util.Set;\r\n\r\n\tpublic class Test {\r\n\t\tpublic static void main(String[] args) {\r\n            // test data:\r\n\t\t\tList&lt;Person&gt; list = List.of(new Person(1969), new Person(1969), new Person(1969), new Person(1969),\r\n\t\t\t    new Person(1969), // 5\r\n\t\t\t\tnew Person(1971), new Person(1971), new Person(1971), new Person(1971),\r\n\t\t\t\tnew Person(1971), // 5\r\n\t\t\t\tnew Person(1999), new Person(1999) // 2\r\n\t\t\t);\r\n            // action:\r\n\t\t\tMap&lt;Integer, Set&lt;Person&gt;&gt; stream_exo = list.stream()\r\n\t\t\t    .collect( //..as we had\r\n\t\t\t\t    groupingBy( // ...\r\n\t\t\t\t\t    p -&gt; p.year, // ... key - function\r\n\t\t\t\t\t\tcollectingAndThen( // value - &quot;downstream&quot;\r\n\t\t\t\t\t\t    toSet(), // collector - function (downstream)\r\n\t\t\t\t\t\t\ts -&gt;  s // (and then) set - (finalizer) fuction\r\n                                .stream() //  stream once more ;(, unfortunately i found no nicer way\r\n                                .limit(4) // limit to 4, and finally:\r\n                                .collect(  // ...collect\r\n                                    toSet()  // to set TreeSet::new, when Person is Comparable&lt;Person&gt;\r\n                                )\r\n                        ) // end-collectingAndThen\r\n\t\t\t\t\t) // end-groupingBy\r\n\t\t\t    ); // end-collect\r\n            // output verification:\r\n\t\t\tstream_exo.forEach((k, v) -&gt; {\r\n\t\t\t\tSystem.out.format(&quot;%s:\\t%d%n&quot;, &quot;key&quot;, k);\r\n\t\t\t\tv.forEach(p -&gt; System.out.println(p));\r\n\t\t\t});\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tclass Person {\r\n\t\tfinal int year;\r\n\r\n\t\tPerson(int pYear) {\r\n\t\t\tyear = pYear;\r\n\t\t}\r\n\t}\r\n\r\n\r\n----------\r\n\r\nOutput:\r\n\r\n\tkey:    1969\r\n\tcom.example.Person@31befd9f\r\n\tcom.example.Person@1c20c684\r\n\tcom.example.Person@2f2c9b19\r\n\tcom.example.Person@13221655\r\n\tkey:    1971\r\n\tcom.example.Person@3e3abc88\r\n\tcom.example.Person@1218025c\r\n\tcom.example.Person@548c4f57\r\n\tcom.example.Person@816f27d\r\n\tkey:    1999\r\n\tcom.example.Person@53d8d10a\r\n\tcom.example.Person@6ce253f1\r\n\r\n----------\r\n\r\nSo [`collectingAndThen`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#collectingAndThen(java.util.stream.Collector,java.util.function.Function)) (to `stream()` once more, to `limit()`, and `collect()` again) is my answer for that particular requirement!\r\n\r\n\r\n----------\r\n\r\n\r\n#### Third\r\n\r\nIf we want to use a `TreeSet`, we have to implement the mentioned (First) interface, &quot;...and finally&quot;:\r\n\r\n\r\n\r\n    collect(toSet(TreeSet::new)))));\r\n\r\n#### Finally\r\n\r\nTo make it *really* a `TreeMap`:\r\n\r\n    TreeMap&lt;Integer, Set&lt;Person&gt;&gt; stream_exo = list.stream()\r\n       ....\r\n\r\nwe need to:\r\n\r\n    ...\r\n    groupingBy(\r\n        p -&gt; p.year, \r\n        TreeMap::new, // do additonally this!\r\n        collectingAndThen( ...\r\n\r\nTo have also nested `TreeSet`s (without modifying `Person`, basing on `person.year`), this is it:\r\n\r\n    TreeMap&lt;Integer, Set&lt;Person&gt;&gt; stream_exo = list // TreeMap result (Integer IS Comparable&lt;Integer&gt;;)\r\n        .stream()\r\n        .collect(\r\n            groupingBy(\r\n                p -&gt; p.year,\r\n                TreeMap::new,\r\n                collectingAndThen(\r\n                    toSet(), // if we want the &quot;intermediary&quot; set also as TreeSet(ordered!), then here!\r\n                    s -&gt; \r\n                        s.stream()\r\n                        .limit(4)\r\n                        .collect(\r\n                            toCollection(() -&gt; {  // TreeSet leafs:\r\n                                return new TreeSet&lt;&gt; ( // with inline comparator\r\n                                    (p1, p2) -&gt; Integer.compare(p1.year, p2.year));\r\n                            }\r\n                        )\r\n                )\r\n            )\r\n        );   \r\n\r\n...but `Comparable&lt;Person&gt;` by the `year` is useless here, since `year` already grouped/unique.;) ","title":"@Override TreeSet add methode for add juste 4 elements (on Java)","body":"<h4>First</h4>\n<p>To Use a <code>TreeSet</code> (<em>&quot;ordered set&quot;</em>), the values (<code>&lt;V&gt;</code>) must implement <code>Comparable&lt;V&gt;</code> <em>or</em> we have to provide a <code>Comparator&lt;Person&gt;</code> at <code>TreeSet</code> construction.</p>\n<h4>Second</h4>\n<p>Check this (if we got the problem right):</p>\n<pre><code>package com.example;\n\nimport static java.util.stream.Collectors.collectingAndThen;\nimport static java.util.stream.Collectors.groupingBy;\nimport static java.util.stream.Collectors.toSet;\n\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Set;\n\npublic class Test {\n    public static void main(String[] args) {\n        // test data:\n        List&lt;Person&gt; list = List.of(new Person(1969), new Person(1969), new Person(1969), new Person(1969),\n            new Person(1969), // 5\n            new Person(1971), new Person(1971), new Person(1971), new Person(1971),\n            new Person(1971), // 5\n            new Person(1999), new Person(1999) // 2\n        );\n        // action:\n        Map&lt;Integer, Set&lt;Person&gt;&gt; stream_exo = list.stream()\n            .collect( //..as we had\n                groupingBy( // ...\n                    p -&gt; p.year, // ... key - function\n                    collectingAndThen( // value - &quot;downstream&quot;\n                        toSet(), // collector - function (downstream)\n                        s -&gt;  s // (and then) set - (finalizer) fuction\n                            .stream() //  stream once more ;(, unfortunately i found no nicer way\n                            .limit(4) // limit to 4, and finally:\n                            .collect(  // ...collect\n                                toSet()  // to set TreeSet::new, when Person is Comparable&lt;Person&gt;\n                            )\n                    ) // end-collectingAndThen\n                ) // end-groupingBy\n            ); // end-collect\n        // output verification:\n        stream_exo.forEach((k, v) -&gt; {\n            System.out.format(&quot;%s:\\t%d%n&quot;, &quot;key&quot;, k);\n            v.forEach(p -&gt; System.out.println(p));\n        });\n\n    }\n}\n\nclass Person {\n    final int year;\n\n    Person(int pYear) {\n        year = pYear;\n    }\n}\n</code></pre>\n<hr />\n<p>Output:</p>\n<pre><code>key:    1969\ncom.example.Person@31befd9f\ncom.example.Person@1c20c684\ncom.example.Person@2f2c9b19\ncom.example.Person@13221655\nkey:    1971\ncom.example.Person@3e3abc88\ncom.example.Person@1218025c\ncom.example.Person@548c4f57\ncom.example.Person@816f27d\nkey:    1999\ncom.example.Person@53d8d10a\ncom.example.Person@6ce253f1\n</code></pre>\n<hr />\n<p>So <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#collectingAndThen(java.util.stream.Collector,java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>collectingAndThen</code></a> (to <code>stream()</code> once more, to <code>limit()</code>, and <code>collect()</code> again) is my answer for that particular requirement!</p>\n<hr />\n<h4>Third</h4>\n<p>If we want to use a <code>TreeSet</code>, we have to implement the mentioned (First) interface, &quot;...and finally&quot;:</p>\n<pre><code>collect(toSet(TreeSet::new)))));\n</code></pre>\n<h4>Finally</h4>\n<p>To make it <em>really</em> a <code>TreeMap</code>:</p>\n<pre><code>TreeMap&lt;Integer, Set&lt;Person&gt;&gt; stream_exo = list.stream()\n   ....\n</code></pre>\n<p>we need to:</p>\n<pre><code>...\ngroupingBy(\n    p -&gt; p.year, \n    TreeMap::new, // do additonally this!\n    collectingAndThen( ...\n</code></pre>\n<p>To have also nested <code>TreeSet</code>s (without modifying <code>Person</code>, basing on <code>person.year</code>), this is it:</p>\n<pre><code>TreeMap&lt;Integer, Set&lt;Person&gt;&gt; stream_exo = list // TreeMap result (Integer IS Comparable&lt;Integer&gt;;)\n    .stream()\n    .collect(\n        groupingBy(\n            p -&gt; p.year,\n            TreeMap::new,\n            collectingAndThen(\n                toSet(), // if we want the &quot;intermediary&quot; set also as TreeSet(ordered!), then here!\n                s -&gt; \n                    s.stream()\n                    .limit(4)\n                    .collect(\n                        toCollection(() -&gt; {  // TreeSet leafs:\n                            return new TreeSet&lt;&gt; ( // with inline comparator\n                                (p1, p2) -&gt; Integer.compare(p1.year, p2.year));\n                        }\n                    )\n            )\n        )\n    );   \n</code></pre>\n<p>...but <code>Comparable&lt;Person&gt;</code> by the <code>year</code> is useless here, since <code>year</code> already grouped/unique.;)</p>\n"}],"owner":{"account_id":17264082,"reputation":95,"user_id":12501275,"display_name":"jaki hart"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70234144,"answer_count":2,"score":1,"last_activity_date":1638719196,"creation_date":1638705297,"question_id":70234017,"body_markdown":"I have a List, i stream it to an Treemap with key and values where the values are a TreeSet \r\nand for this TreeSet I what juste add 4 first elements to the Treeset stream not all element \r\n```\r\nMap&lt;Integer, Set&lt;Person&gt;&gt; stream_exo = ListOfPerson.stream()\r\n\t\t\t\t.collect(\r\n\t\t\t\t\t\tCollectors.groupingBy(\r\n\t\t\t\t\t\t\t\tp -&gt; p.getYear(), \r\n\t\t\t\t\t\t\t\tTreeMap::new, Collectors.toCollection(TreeSet2::New)));\r\n```\r\nhere is the treeSet Class of java :\r\n\r\n```\r\npublic class TreeSet&lt;E&gt; extends AbstractSet&lt;E&gt;\r\n                   implements NavigableSet&lt;E&gt;, Cloneable, java.io.Serializable {\r\n\r\n    private static final Object PRESENT = new Object();\r\n    \r\n    private transient TreeMap&lt;E,Object&gt; internalMap;\r\n    \r\n    public boolean add(E e) {\r\n        return this.internalMap.put(e, PRESENT)==null;\r\n    }\r\n}\r\n```\r\nI want to costume function (add) for TreeSet to add just 4 elements to the TreeSet, someone can ask me how we can do that ?","title":"@Override TreeSet add methode for add juste 4 elements (on Java)","body":"<p>I have a List, i stream it to an Treemap with key and values where the values are a TreeSet\nand for this TreeSet I what juste add 4 first elements to the Treeset stream not all element</p>\n<pre><code>Map&lt;Integer, Set&lt;Person&gt;&gt; stream_exo = ListOfPerson.stream()\n                .collect(\n                        Collectors.groupingBy(\n                                p -&gt; p.getYear(), \n                                TreeMap::new, Collectors.toCollection(TreeSet2::New)));\n</code></pre>\n<p>here is the treeSet Class of java :</p>\n<pre><code>public class TreeSet&lt;E&gt; extends AbstractSet&lt;E&gt;\n                   implements NavigableSet&lt;E&gt;, Cloneable, java.io.Serializable {\n\n    private static final Object PRESENT = new Object();\n    \n    private transient TreeMap&lt;E,Object&gt; internalMap;\n    \n    public boolean add(E e) {\n        return this.internalMap.put(e, PRESENT)==null;\n    }\n}\n</code></pre>\n<p>I want to costume function (add) for TreeSet to add just 4 elements to the TreeSet, someone can ask me how we can do that ?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","nullpointerexception"],"comments":[{"owner":{"account_id":7165000,"reputation":489,"user_id":5474413,"accept_rate":75,"display_name":"shivam"},"score":0,"creation_date":1638100220,"post_id":70143003,"comment_id":123992618,"body_markdown":"did you autowired  the CurrentLocationService into DistanceController ?","body":"did you autowired  the CurrentLocationService into DistanceController ?"},{"owner":{"account_id":20774045,"reputation":155,"user_id":15256001,"display_name":"Woodsoul"},"score":0,"creation_date":1638101265,"post_id":70143003,"comment_id":123992876,"body_markdown":"Hello, shivam. I didnt, since I was injecting in the controller constructor but I made the try of adding the Autowired as well and now I am getting the same null error this time in the next Repository the Controller uses. I will update the initial question. Thanks.","body":"Hello, shivam. I didnt, since I was injecting in the controller constructor but I made the try of adding the Autowired as well and now I am getting the same null error this time in the next Repository the Controller uses. I will update the initial question. Thanks."},{"owner":{"account_id":10389194,"reputation":14819,"user_id":7661119,"display_name":"Ervin Szilagyi"},"score":0,"creation_date":1638101386,"post_id":70143003,"comment_id":123992895,"body_markdown":"The dependency injection happens when you start the application. Are you getting any exception at that point?","body":"The dependency injection happens when you start the application. Are you getting any exception at that point?"},{"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"score":0,"creation_date":1638101618,"post_id":70143003,"comment_id":123992938,"body_markdown":"Try to annotate the consturctor with @Autowired. Spring(since 4.3) autowires the ONLY constructor by default, is there a construtor you didn&#39;t show us?","body":"Try to annotate the consturctor with @Autowired. Spring(since 4.3) autowires the ONLY constructor by default, is there a construtor you didn&#39;t show us?"},{"owner":{"account_id":20774045,"reputation":155,"user_id":15256001,"display_name":"Woodsoul"},"score":0,"creation_date":1638102817,"post_id":70143003,"comment_id":123993148,"body_markdown":"Hello.\nErvin Szilagyi, I am getting no exception when the application starts. I am getting a Jpa WARN alone. Also, is it normal that Intellij is marking my RestController as &quot;Class &#39;DistanceController&#39; is never used&quot; and suggest to safe delete it?\n\nTuro, I edited my  original question with some changes in my RestController properties and constructor, is that what you are referring?\n\nThanks!","body":"Hello. Ervin Szilagyi, I am getting no exception when the application starts. I am getting a Jpa WARN alone. Also, is it normal that Intellij is marking my RestController as &quot;Class &#39;DistanceController&#39; is never used&quot; and suggest to safe delete it?  Turo, I edited my  original question with some changes in my RestController properties and constructor, is that what you are referring?  Thanks!"},{"owner":{"account_id":10389194,"reputation":14819,"user_id":7661119,"display_name":"Ervin Szilagyi"},"score":1,"creation_date":1638103289,"post_id":70143003,"comment_id":123993241,"body_markdown":"Now you&#39;ve created a mess there, please leave the `@Autowire` just on the constructor.  Please show use this class/interface `ICountriesRepository`.","body":"Now you&#39;ve created a mess there, please leave the <code>@Autowire</code> just on the constructor.  Please show use this class/interface <code>ICountriesRepository</code>."},{"owner":{"account_id":20774045,"reputation":155,"user_id":15256001,"display_name":"Woodsoul"},"score":0,"creation_date":1638103842,"post_id":70143003,"comment_id":123993356,"body_markdown":"Ervin Szilagyi, I change it back so the @Autowired is over the constructor alone. I added the ICountriesRepository code in the original question since it looks ugly here.\nThanks!","body":"Ervin Szilagyi, I change it back so the @Autowired is over the constructor alone. I added the ICountriesRepository code in the original question since it looks ugly here. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":20774045,"reputation":155,"user_id":15256001,"display_name":"Woodsoul"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1638718793,"creation_date":1638640054,"answer_id":70228036,"question_id":70143003,"body_markdown":"I have been a bit busy during week days so wasn&#39;t able to review my code until now and I found that the only GetMapping method my controller has it was **private**. I just made it **public** and all run as expected already. Thanks all for your time.","title":"Null exception @Service in a spring @RestController using constructor injection","body":"<p>I have been a bit busy during week days so wasn't able to review my code until now and I found that the only GetMapping method my controller has it was <strong>private</strong>. I just made it <strong>public</strong> and all run as expected already. Thanks all for your time.</p>\n"}],"owner":{"account_id":20774045,"reputation":155,"user_id":15256001,"display_name":"Woodsoul"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3830,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70228036,"answer_count":1,"score":2,"last_activity_date":1638718793,"creation_date":1638099363,"question_id":70143003,"body_markdown":"This is my third personal spring-boot project, I am doing 99% same config than before so have no clue why I am getting this error on this one.\r\n\r\nThe project startup just well but once I do any petition on the unique @RestController I have, it immediately gets the null error. This end point receive an alpha 2 country code + city name + the desire ip address, if ip address is not provided it takes the client ip address which is used as param for the @Service I am getting null from. After that the controller should do many other actions before send the expected output to the client but it never reaches that point since the null exception on this @Service.\r\n\r\nThis is the petition I am trying on:\r\n```\r\nhttp://localhost:8080/apiv1/get-distance?country=af&amp;city=Qalat&amp;ip=150.135.184.38\r\n```\r\n\r\n```\r\nThere was an unexpected error (type=Internal Server Error, status=500).\r\nCannot invoke &quot;me.givo.distancebetweenus.getdistance.services.CurrentLocationService.getCurrentLocation(String)&quot; because &quot;this.currentLocationService&quot; is null\r\njava.lang.NullPointerException: Cannot invoke &quot;me.givo.distancebetweenus.getdistance.services.CurrentLocationService.getCurrentLocation(String)&quot; because &quot;this.currentLocationService&quot; is null\r\n\tat me.givo.distancebetweenus.getdistance.controllers.DistanceController.getDistance(DistanceController.java:53)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nThis is my controller:\r\n```\r\npackage me.givo.distancebetweenus.getdistance.controllers;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.validation.constraints.Max;\r\nimport javax.validation.constraints.Min;\r\n\r\nimport me.givo.distancebetweenus.getdistance.dtos.CityDto;\r\nimport me.givo.distancebetweenus.getdistance.dtos.CountryDto;\r\nimport me.givo.distancebetweenus.getdistance.entities.CityEntity;\r\nimport me.givo.distancebetweenus.getdistance.entities.CountryEntity;\r\nimport me.givo.distancebetweenus.getdistance.models.ApiCurrentLocationResponse;\r\nimport me.givo.distancebetweenus.getdistance.models.Coordinate;\r\nimport me.givo.distancebetweenus.getdistance.models.DistanceResponse;\r\nimport me.givo.distancebetweenus.getdistance.repositories.ICitiesRepository;\r\nimport me.givo.distancebetweenus.getdistance.repositories.ICountriesRepository;\r\nimport me.givo.distancebetweenus.getdistance.services.CurrentLocationService;\r\nimport org.modelmapper.ModelMapper;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.validation.annotation.Validated;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\n@RequestMapping(&quot;/apiv1&quot;)\r\n@Validated\r\n@RestController\r\npublic class DistanceController {\r\n\r\n    private final CurrentLocationService currentLocationService;\r\n    private final ICitiesRepository citiesRepository;\r\n    private final ICountriesRepository countriesRepository;\r\n    private final ModelMapper modelMapper;\r\n\r\n    public DistanceController(CurrentLocationService currentLocationService, ICitiesRepository citiesRepository,\r\n                              ICountriesRepository countryRepository, ModelMapper modelMapper) {\r\n        this.currentLocationService = currentLocationService;\r\n        this.citiesRepository = citiesRepository;\r\n        this.countriesRepository = countryRepository;\r\n        this.modelMapper = modelMapper;\r\n    }\r\n\r\n    @GetMapping(&quot;/get-distance&quot;)\r\n    @ResponseBody\r\n    private ResponseEntity&lt;Object&gt; getDistance(\r\n            @RequestParam(required = true, name = &quot;country&quot;) @Min(2) @Max(2) String country,\r\n            @RequestParam(required = true, name = &quot;city&quot;) String city,\r\n            @RequestParam(required = false, name = &quot;ip&quot;) @Min(7) @Max(15) String ip,\r\n            HttpServletRequest request) {\r\n\r\n        ApiCurrentLocationResponse currentLocation;\r\n        if (ip == null || ip.isEmpty()) {\r\n            String requestIP = request.getRemoteAddr();\r\n            System.out.println(requestIP);\r\n            try {\r\n                currentLocation = currentLocationService.getCurrentLocation(requestIP);\r\n            } catch (Exception e) {\r\n                System.out.println(e.getMessage());\r\n            }\r\n        } else {\r\n            try {\r\n                currentLocation = currentLocationService.getCurrentLocation(ip);\r\n            } catch (Exception e) {\r\n                System.out.println(e.getMessage());\r\n            }\r\n        }\r\n\r\n        CountryEntity countryEntity = countriesRepository.getById(country);\r\n        CityEntity cityEntity = citiesRepository.getByNameAndCode(city, country);\r\n\r\n        CountryDto countryDto = convertToCountryDto(countryEntity);\r\n        CityDto cityDto = convertToCityDto(cityEntity);\r\n\r\n        Coordinate currentLocationCoordinate = new Coordinate(currentLocation);\r\n        Coordinate destinationCoordinate = new Coordinate(cityDto);\r\n\r\n        Double distance = currentLocationCoordinate.distanceBetweenUsKm(destinationCoordinate);\r\n\r\n        DistanceResponse response = new DistanceResponse(countryDto, cityDto, distance);\r\n\r\n        return ResponseEntity.status(HttpStatus.OK).body(response);\r\n    }\r\n\r\n    private CityDto convertToCityDto(CityEntity cityEntity) {\r\n        return modelMapper.map(cityEntity, CityDto.class);\r\n    }\r\n\r\n    private CountryDto convertToCountryDto(CountryEntity countryEntity) {\r\n        return modelMapper.map(countryEntity, CountryDto.class);\r\n    }\r\n}\r\n```\r\nThis is the &quot;null&quot; @Service:\r\n```\r\npackage me.givo.distancebetweenus.getdistance.services;\r\n\r\nimport me.givo.distancebetweenus.getdistance.models.ApiCurrentLocationResponse;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.web.reactive.function.client.WebClient;\r\n\r\n@Service\r\npublic class CurrentLocationService {\r\n\r\n    private final WebClient.Builder webClient;\r\n\r\n    private final String key = &quot;fakekey347834834892923fake&quot;;\r\n\r\n    public CurrentLocationService(WebClient.Builder webClient) {\r\n        this.webClient = webClient;\r\n    }\r\n\r\n    public ApiCurrentLocationResponse getCurrentLocation(String requestIP) {\r\n\r\n        String url = &quot;https://api.fakeapi.app/json/&quot;;\r\n        return webClient.baseUrl(url).build().get()\r\n                .uri(uriBuilder -&gt; uriBuilder\r\n                        .path(requestIP)\r\n                        .queryParam(&quot;apikey&quot;, key)\r\n                        .build())\r\n                .retrieve()\r\n                .bodyToMono(ApiCurrentLocationResponse.class)\r\n                .block();\r\n    }\r\n}\r\n\r\n```\r\nThanks your really appreciate help. If any other information is required please let me know. Thank you!\r\n----------------Edit--------------------\r\nshivam&#39;s comment gave me the idea of tag with the @Autowired my injections so I did it and I am not getting the null exception in the @Service anymore, it is in the ICountriesRepository instead which is just the next line of code in my @RestController..\r\nThese are the changes I did:\r\n```\r\npublic class DistanceController {\r\n\r\n    private final CurrentLocationService currentLocationService;\r\n    private final ICitiesRepository citiesRepository;\r\n    private final ICountriesRepository countriesRepository;\r\n    private final ModelMapper modelMapper;\r\n\r\n    @Autowired\r\n    public DistanceController(CurrentLocationService currentLocationService, ICitiesRepository citiesRepository,\r\n                              ICountriesRepository countriesRepository, ModelMapper modelMapper) {\r\n        this.currentLocationService = currentLocationService;\r\n        this.citiesRepository = citiesRepository;\r\n        this.countriesRepository = countriesRepository;\r\n        this.modelMapper = modelMapper;\r\n    }\r\n```\r\nThis is the &quot;new&quot; error log:\r\n```\r\nThere was an unexpected error (type=Internal Server Error, status=500).\r\nCannot invoke &quot;me.givo.distancebetweenus.getdistance.repositories.ICountriesRepository.getById(Object)&quot; because &quot;this.countriesRepository&quot; is null\r\njava.lang.NullPointerException: Cannot invoke &quot;me.givo.distancebetweenus.getdistance.repositories.ICountriesRepository.getById(Object)&quot; because &quot;this.countriesRepository&quot; is null\r\n\tat me.givo.distancebetweenus.getdistance.controllers.DistanceController.getDistance(DistanceController.java:72)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\nThere is the code of the ICountriesRepository:\r\n```\r\npackage me.givo.distancebetweenus.getdistance.repositories;\r\n\r\n\r\nimport me.givo.distancebetweenus.getdistance.entities.CountryEntity;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n\r\n@Repository\r\npublic interface ICountriesRepository extends JpaRepository&lt;CountryEntity, String&gt; {\r\n\r\n}\r\n```\r\nAlso, I am adding the code of a @Configuration I made for the ModelMapper:\r\n```\r\npackage me.givo.distancebetweenus.getdistance.config;\r\n\r\nimport org.modelmapper.ModelMapper;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\npublic class Config {\r\n\r\n    @Bean\r\n    public ModelMapper modelMapper() {\r\n        return new ModelMapper();\r\n    }\r\n\r\n}\r\n\r\n```","title":"Null exception @Service in a spring @RestController using constructor injection","body":"<p>This is my third personal spring-boot project, I am doing 99% same config than before so have no clue why I am getting this error on this one.</p>\n<p>The project startup just well but once I do any petition on the unique @RestController I have, it immediately gets the null error. This end point receive an alpha 2 country code + city name + the desire ip address, if ip address is not provided it takes the client ip address which is used as param for the @Service I am getting null from. After that the controller should do many other actions before send the expected output to the client but it never reaches that point since the null exception on this @Service.</p>\n<p>This is the petition I am trying on:</p>\n<pre><code>http://localhost:8080/apiv1/get-distance?country=af&amp;city=Qalat&amp;ip=150.135.184.38\n</code></pre>\n<pre><code>There was an unexpected error (type=Internal Server Error, status=500).\nCannot invoke &quot;me.givo.distancebetweenus.getdistance.services.CurrentLocationService.getCurrentLocation(String)&quot; because &quot;this.currentLocationService&quot; is null\njava.lang.NullPointerException: Cannot invoke &quot;me.givo.distancebetweenus.getdistance.services.CurrentLocationService.getCurrentLocation(String)&quot; because &quot;this.currentLocationService&quot; is null\n    at me.givo.distancebetweenus.getdistance.controllers.DistanceController.getDistance(DistanceController.java:53)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>This is my controller:</p>\n<pre><code>package me.givo.distancebetweenus.getdistance.controllers;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.validation.constraints.Max;\nimport javax.validation.constraints.Min;\n\nimport me.givo.distancebetweenus.getdistance.dtos.CityDto;\nimport me.givo.distancebetweenus.getdistance.dtos.CountryDto;\nimport me.givo.distancebetweenus.getdistance.entities.CityEntity;\nimport me.givo.distancebetweenus.getdistance.entities.CountryEntity;\nimport me.givo.distancebetweenus.getdistance.models.ApiCurrentLocationResponse;\nimport me.givo.distancebetweenus.getdistance.models.Coordinate;\nimport me.givo.distancebetweenus.getdistance.models.DistanceResponse;\nimport me.givo.distancebetweenus.getdistance.repositories.ICitiesRepository;\nimport me.givo.distancebetweenus.getdistance.repositories.ICountriesRepository;\nimport me.givo.distancebetweenus.getdistance.services.CurrentLocationService;\nimport org.modelmapper.ModelMapper;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.validation.annotation.Validated;\nimport org.springframework.web.bind.annotation.*;\n\n@RequestMapping(&quot;/apiv1&quot;)\n@Validated\n@RestController\npublic class DistanceController {\n\n    private final CurrentLocationService currentLocationService;\n    private final ICitiesRepository citiesRepository;\n    private final ICountriesRepository countriesRepository;\n    private final ModelMapper modelMapper;\n\n    public DistanceController(CurrentLocationService currentLocationService, ICitiesRepository citiesRepository,\n                              ICountriesRepository countryRepository, ModelMapper modelMapper) {\n        this.currentLocationService = currentLocationService;\n        this.citiesRepository = citiesRepository;\n        this.countriesRepository = countryRepository;\n        this.modelMapper = modelMapper;\n    }\n\n    @GetMapping(&quot;/get-distance&quot;)\n    @ResponseBody\n    private ResponseEntity&lt;Object&gt; getDistance(\n            @RequestParam(required = true, name = &quot;country&quot;) @Min(2) @Max(2) String country,\n            @RequestParam(required = true, name = &quot;city&quot;) String city,\n            @RequestParam(required = false, name = &quot;ip&quot;) @Min(7) @Max(15) String ip,\n            HttpServletRequest request) {\n\n        ApiCurrentLocationResponse currentLocation;\n        if (ip == null || ip.isEmpty()) {\n            String requestIP = request.getRemoteAddr();\n            System.out.println(requestIP);\n            try {\n                currentLocation = currentLocationService.getCurrentLocation(requestIP);\n            } catch (Exception e) {\n                System.out.println(e.getMessage());\n            }\n        } else {\n            try {\n                currentLocation = currentLocationService.getCurrentLocation(ip);\n            } catch (Exception e) {\n                System.out.println(e.getMessage());\n            }\n        }\n\n        CountryEntity countryEntity = countriesRepository.getById(country);\n        CityEntity cityEntity = citiesRepository.getByNameAndCode(city, country);\n\n        CountryDto countryDto = convertToCountryDto(countryEntity);\n        CityDto cityDto = convertToCityDto(cityEntity);\n\n        Coordinate currentLocationCoordinate = new Coordinate(currentLocation);\n        Coordinate destinationCoordinate = new Coordinate(cityDto);\n\n        Double distance = currentLocationCoordinate.distanceBetweenUsKm(destinationCoordinate);\n\n        DistanceResponse response = new DistanceResponse(countryDto, cityDto, distance);\n\n        return ResponseEntity.status(HttpStatus.OK).body(response);\n    }\n\n    private CityDto convertToCityDto(CityEntity cityEntity) {\n        return modelMapper.map(cityEntity, CityDto.class);\n    }\n\n    private CountryDto convertToCountryDto(CountryEntity countryEntity) {\n        return modelMapper.map(countryEntity, CountryDto.class);\n    }\n}\n</code></pre>\n<p>This is the &quot;null&quot; @Service:</p>\n<pre><code>package me.givo.distancebetweenus.getdistance.services;\n\nimport me.givo.distancebetweenus.getdistance.models.ApiCurrentLocationResponse;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.reactive.function.client.WebClient;\n\n@Service\npublic class CurrentLocationService {\n\n    private final WebClient.Builder webClient;\n\n    private final String key = &quot;fakekey347834834892923fake&quot;;\n\n    public CurrentLocationService(WebClient.Builder webClient) {\n        this.webClient = webClient;\n    }\n\n    public ApiCurrentLocationResponse getCurrentLocation(String requestIP) {\n\n        String url = &quot;https://api.fakeapi.app/json/&quot;;\n        return webClient.baseUrl(url).build().get()\n                .uri(uriBuilder -&gt; uriBuilder\n                        .path(requestIP)\n                        .queryParam(&quot;apikey&quot;, key)\n                        .build())\n                .retrieve()\n                .bodyToMono(ApiCurrentLocationResponse.class)\n                .block();\n    }\n}\n\n</code></pre>\n<p>Thanks your really appreciate help. If any other information is required please let me know. Thank you!\n----------------Edit--------------------\nshivam's comment gave me the idea of tag with the @Autowired my injections so I did it and I am not getting the null exception in the @Service anymore, it is in the ICountriesRepository instead which is just the next line of code in my @RestController..\nThese are the changes I did:</p>\n<pre><code>public class DistanceController {\n\n    private final CurrentLocationService currentLocationService;\n    private final ICitiesRepository citiesRepository;\n    private final ICountriesRepository countriesRepository;\n    private final ModelMapper modelMapper;\n\n    @Autowired\n    public DistanceController(CurrentLocationService currentLocationService, ICitiesRepository citiesRepository,\n                              ICountriesRepository countriesRepository, ModelMapper modelMapper) {\n        this.currentLocationService = currentLocationService;\n        this.citiesRepository = citiesRepository;\n        this.countriesRepository = countriesRepository;\n        this.modelMapper = modelMapper;\n    }\n</code></pre>\n<p>This is the &quot;new&quot; error log:</p>\n<pre><code>There was an unexpected error (type=Internal Server Error, status=500).\nCannot invoke &quot;me.givo.distancebetweenus.getdistance.repositories.ICountriesRepository.getById(Object)&quot; because &quot;this.countriesRepository&quot; is null\njava.lang.NullPointerException: Cannot invoke &quot;me.givo.distancebetweenus.getdistance.repositories.ICountriesRepository.getById(Object)&quot; because &quot;this.countriesRepository&quot; is null\n    at me.givo.distancebetweenus.getdistance.controllers.DistanceController.getDistance(DistanceController.java:72)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>There is the code of the ICountriesRepository:</p>\n<pre><code>package me.givo.distancebetweenus.getdistance.repositories;\n\n\nimport me.givo.distancebetweenus.getdistance.entities.CountryEntity;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n\n@Repository\npublic interface ICountriesRepository extends JpaRepository&lt;CountryEntity, String&gt; {\n\n}\n</code></pre>\n<p>Also, I am adding the code of a @Configuration I made for the ModelMapper:</p>\n<pre><code>package me.givo.distancebetweenus.getdistance.config;\n\nimport org.modelmapper.ModelMapper;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class Config {\n\n    @Bean\n    public ModelMapper modelMapper() {\n        return new ModelMapper();\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","jsp","tomcat","servlets","jdbc"],"comments":[{"owner":{"account_id":299782,"reputation":1334,"user_id":1546453,"accept_rate":100,"display_name":"triplem"},"score":0,"creation_date":1638735336,"post_id":70235862,"comment_id":124161480,"body_markdown":"You should use a redirect on the client to change the URL in the browser. But looking at your code, this is not the way to go forward, you should thing about using a WebMVC framework to separate the logic from the output.","body":"You should use a redirect on the client to change the URL in the browser. But looking at your code, this is not the way to go forward, you should thing about using a WebMVC framework to separate the logic from the output."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1638748789,"post_id":70235862,"comment_id":124164355,"body_markdown":"Since JSP/Servlet is a MVC framework, just refactor `login.jsp` in a servlet and `login.html` into a JSP page. See [How to avoid Java code in JSP files](https://stackoverflow.com/q/3177733/11748454). When you supply the wrong password, the `&lt;h2&gt;` tag is printed **before** the contents of `login.html` and the browser does its best to display this invalid HTML.","body":"Since JSP/Servlet is a MVC framework, just refactor <code>login.jsp</code> in a servlet and <code>login.html</code> into a JSP page. See <a href=\"https://stackoverflow.com/q/3177733/11748454\">How to avoid Java code in JSP files</a>. When you supply the wrong password, the <code>&lt;h2&gt;</code> tag is printed <b>before</b> the contents of <code>login.html</code> and the browser does its best to display this invalid HTML."}],"owner":{"account_id":21804629,"reputation":1,"user_id":16102980,"display_name":"P Sai Akhil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638718759,"creation_date":1638718759,"question_id":70235862,"body_markdown":"When user enters wrong password i need to show error and then load login.html using request dispatcher but i am getting login form without any error.\r\n[Like this ][1]\r\n\r\nWhen user enters correct password it is showing correct output but it is showing login.jsp in the url rather than welcome.jsp \r\n[Like this][2] \r\n\r\n\r\nThis is my login.html code\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;\r\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\r\n    &lt;title&gt;Login Page&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;div&gt;\r\n        &lt;h1&gt;Login Here&lt;/h1&gt;\r\n        &lt;form action=&quot;login.jsp&quot; method=&quot;post&quot;&gt;\r\n            &lt;div&gt;\r\n                &lt;label for=&quot;username&quot;&gt;Username: &lt;/label&gt;\r\n                &lt;input type=&quot;text&quot; name=&quot;username&quot; id=&quot;username&quot;&gt;\r\n            &lt;/div&gt;\r\n            &lt;div&gt;\r\n                &lt;label for=&quot;password&quot;&gt;Password: &lt;/label&gt;\r\n                &lt;input type=&quot;password&quot; name=&quot;password&quot; id=&quot;password&quot;&gt;\r\n            &lt;/div&gt;\r\n            &lt;div&gt;\r\n                &lt;input type=&quot;submit&quot; value=&quot;Login&quot;&gt;\r\n            &lt;/div&gt;\r\n        &lt;/form&gt;\r\n    &lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\nThis is my login.jsp code:\r\n```\r\n&lt;%@page import=&quot;java.util.*, java.io.*, java.sql.*, javax.sql.*, java.time.format.DateTimeFormatter, java.time.LocalDateTime&quot;%&gt;\r\n&lt;html&gt;\r\n    &lt;body&gt;\r\n        &lt;%\r\n            String username = request.getParameter(&quot;username&quot;);\r\n            String password = request.getParameter(&quot;password&quot;);\r\n            try \r\n            {\r\n                Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n                Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost/test&quot;, &quot;root&quot;, &quot;saiakhil&quot;);\r\n                Statement st = conn.createStatement();\r\n                String sql = &quot;select * from myusers where username = &#39;&quot; + username + &quot;&#39; and password = &#39;&quot; + password + &quot;&#39;&quot;;\r\n                ResultSet rs = st.executeQuery(sql);\r\n                if (rs.next() == false)\r\n                {\r\n                    out.println(&quot;&lt;h2&gt;Invalid Username or Password!&lt;/h2&gt;&quot;);\r\n                    RequestDispatcher rd = request.getRequestDispatcher(&quot;login.html&quot;);\r\n                    rd.include(request, response);\r\n                }\r\n                else\r\n                {\r\n                    RequestDispatcher rd = request.getRequestDispatcher(&quot;welcome.jsp&quot;);\r\n                    rd.forward(request, response);\r\n                }\r\n                st.close();\r\n                conn.close();\r\n            }\r\n            catch (SQLException se) \r\n            {\r\n                out.println(se);\r\n            }\r\n            catch (Exception e)\r\n            {\r\n                out.println(e);\r\n            }\r\n        %&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\nThis is my welcome.jsp code:\r\n```\r\n&lt;%@page import=&quot;java.util.*, java.io.*, java.sql.*, javax.sql.*, java.time.format.DateTimeFormatter, java.time.LocalDateTime&quot;%&gt;\r\n&lt;html&gt;\r\n    &lt;body&gt;\r\n        &lt;%\r\n            String username = request.getParameter(&quot;username&quot;);\r\n            out.println(&quot;&lt;h2&gt;Logged in successfully&lt;/h2&gt;&quot;);\r\n            DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;yyyy/MM/dd HH:mm:ss&quot;);  \r\n            LocalDateTime now = LocalDateTime.now();\r\n            out.println(&quot;&lt;h3&gt;Welcome &quot; + username +&quot;&lt;/h3&gt;&quot;);\r\n            out.println(dtf.format(now)); \r\n        %&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1pfJ3.png\r\n  [2]: https://i.stack.imgur.com/I9poG.png","title":"I am writing a JDBC program using JSP. I am not getting an expected output","body":"<p>When user enters wrong password i need to show error and then load login.html using request dispatcher but i am getting login form without any error.\n<a href=\"https://i.stack.imgur.com/1pfJ3.png\" rel=\"nofollow noreferrer\">Like this </a></p>\n<p>When user enters correct password it is showing correct output but it is showing login.jsp in the url rather than welcome.jsp\n<a href=\"https://i.stack.imgur.com/I9poG.png\" rel=\"nofollow noreferrer\">Like this</a></p>\n<p>This is my login.html code</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\n    &lt;title&gt;Login Page&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div&gt;\n        &lt;h1&gt;Login Here&lt;/h1&gt;\n        &lt;form action=&quot;login.jsp&quot; method=&quot;post&quot;&gt;\n            &lt;div&gt;\n                &lt;label for=&quot;username&quot;&gt;Username: &lt;/label&gt;\n                &lt;input type=&quot;text&quot; name=&quot;username&quot; id=&quot;username&quot;&gt;\n            &lt;/div&gt;\n            &lt;div&gt;\n                &lt;label for=&quot;password&quot;&gt;Password: &lt;/label&gt;\n                &lt;input type=&quot;password&quot; name=&quot;password&quot; id=&quot;password&quot;&gt;\n            &lt;/div&gt;\n            &lt;div&gt;\n                &lt;input type=&quot;submit&quot; value=&quot;Login&quot;&gt;\n            &lt;/div&gt;\n        &lt;/form&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>This is my login.jsp code:</p>\n<pre><code>&lt;%@page import=&quot;java.util.*, java.io.*, java.sql.*, javax.sql.*, java.time.format.DateTimeFormatter, java.time.LocalDateTime&quot;%&gt;\n&lt;html&gt;\n    &lt;body&gt;\n        &lt;%\n            String username = request.getParameter(&quot;username&quot;);\n            String password = request.getParameter(&quot;password&quot;);\n            try \n            {\n                Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n                Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost/test&quot;, &quot;root&quot;, &quot;saiakhil&quot;);\n                Statement st = conn.createStatement();\n                String sql = &quot;select * from myusers where username = '&quot; + username + &quot;' and password = '&quot; + password + &quot;'&quot;;\n                ResultSet rs = st.executeQuery(sql);\n                if (rs.next() == false)\n                {\n                    out.println(&quot;&lt;h2&gt;Invalid Username or Password!&lt;/h2&gt;&quot;);\n                    RequestDispatcher rd = request.getRequestDispatcher(&quot;login.html&quot;);\n                    rd.include(request, response);\n                }\n                else\n                {\n                    RequestDispatcher rd = request.getRequestDispatcher(&quot;welcome.jsp&quot;);\n                    rd.forward(request, response);\n                }\n                st.close();\n                conn.close();\n            }\n            catch (SQLException se) \n            {\n                out.println(se);\n            }\n            catch (Exception e)\n            {\n                out.println(e);\n            }\n        %&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>This is my welcome.jsp code:</p>\n<pre><code>&lt;%@page import=&quot;java.util.*, java.io.*, java.sql.*, javax.sql.*, java.time.format.DateTimeFormatter, java.time.LocalDateTime&quot;%&gt;\n&lt;html&gt;\n    &lt;body&gt;\n        &lt;%\n            String username = request.getParameter(&quot;username&quot;);\n            out.println(&quot;&lt;h2&gt;Logged in successfully&lt;/h2&gt;&quot;);\n            DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;yyyy/MM/dd HH:mm:ss&quot;);  \n            LocalDateTime now = LocalDateTime.now();\n            out.println(&quot;&lt;h3&gt;Welcome &quot; + username +&quot;&lt;/h3&gt;&quot;);\n            out.println(dtf.format(now)); \n        %&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","c++"],"comments":[{"owner":{"account_id":11653484,"reputation":12724,"user_id":8534008,"display_name":"GBlodgett"},"score":0,"creation_date":1542141660,"post_id":53289155,"comment_id":93460155,"body_markdown":"It should be `Map&lt;Character, Integer&gt; enc = new HashMap&lt;&gt;();` (Or another type of `Map`). Then you will need to utilize the `put` and `get` methods. The `[]` syntax is for `Array`&#39;s","body":"It should be <code>Map&lt;Character, Integer&gt; enc = new HashMap&lt;&gt;();</code> (Or another type of <code>Map</code>). Then you will need to utilize the <code>put</code> and <code>get</code> methods. The <code>[]</code> syntax is for <code>Array</code>&#39;s"},{"owner":{"display_name":"user2100815"},"score":0,"creation_date":1542141727,"post_id":53289155,"comment_id":93460185,"body_markdown":"&quot;I understand that the below line of code belongs to C++&quot; - it&#39;s not valid C++.","body":"&quot;I understand that the below line of code belongs to C++&quot; - it&#39;s not valid C++."},{"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"score":0,"creation_date":1542142046,"post_id":53289155,"comment_id":93460298,"body_markdown":"there is no [] operator in java for maps....","body":"there is no [] operator in java for maps...."},{"owner":{"account_id":14719140,"reputation":13,"user_id":10630283,"display_name":"Passion Developers"},"score":0,"creation_date":1542142666,"post_id":53289155,"comment_id":93460528,"body_markdown":"@ΦXocę웃Пepe&#250;paツ Realized it. Thank you.","body":"@ΦXocę웃Пepe&#250;paツ Realized it. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":6811750,"reputation":19969,"user_id":5241642,"accept_rate":75,"display_name":"Xirema"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1542141961,"creation_date":1542141961,"answer_id":53289244,"question_id":53289155,"body_markdown":"&gt;     map&lt;Character,Integer&gt; enc = new map&lt;Character,Integer&gt;();\r\n\r\n`Map` is an interface type in Java, and cannot be instantated [as anything other than an anonymous inner class]. You need to instantiate one of the types that implements `Map`, like `TreeMap` or `HashMap`.\r\n\r\n    //Since Java 7, &lt;&gt; infers the type arguments\r\n    Map&lt;Character, Integer&gt; enc = new HashMap&lt;&gt;();\r\n\r\n&gt;     enc[input.charAt(i)] = i;\r\n\r\nThe brackets operator syntax you&#39;re using (`enc[input.charAt(i)]`) is native to C++, and is not overloadable in Java; thus, the only time these kinds of brackets are allowed in Java is when using an array.\r\n\r\nYou need to use `get()` and `put()` with java maps.\r\n\r\n    enc.put(input.charAt(i), i);\r\n    //...\r\n    int pos = enc.get(msg.charAt(i) - 32);\r\n","title":"Converting lines of code from C++ to JAVA","body":"<blockquote>\n<pre><code>map&lt;Character,Integer&gt; enc = new map&lt;Character,Integer&gt;();\n</code></pre>\n</blockquote>\n\n<p><code>Map</code> is an interface type in Java, and cannot be instantated [as anything other than an anonymous inner class]. You need to instantiate one of the types that implements <code>Map</code>, like <code>TreeMap</code> or <code>HashMap</code>.</p>\n\n<pre><code>//Since Java 7, &lt;&gt; infers the type arguments\nMap&lt;Character, Integer&gt; enc = new HashMap&lt;&gt;();\n</code></pre>\n\n<blockquote>\n<pre><code>enc[input.charAt(i)] = i;\n</code></pre>\n</blockquote>\n\n<p>The brackets operator syntax you're using (<code>enc[input.charAt(i)]</code>) is native to C++, and is not overloadable in Java; thus, the only time these kinds of brackets are allowed in Java is when using an array.</p>\n\n<p>You need to use <code>get()</code> and <code>put()</code> with java maps.</p>\n\n<pre><code>enc.put(input.charAt(i), i);\n//...\nint pos = enc.get(msg.charAt(i) - 32);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23552595,"reputation":1,"user_id":17595076,"display_name":"Javier Segura"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638717271,"creation_date":1638716728,"answer_id":70235602,"question_id":53289155,"body_markdown":"Old question, but for future reference, here&#39;s the solution:\r\n\r\n    String plaintext = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n    public static String ABC(String msg, String input)\r\n        {\r\n            // Hold the position of every character (A-Z) from encoded string\r\n            Map&lt;Character, Integer&gt; enc = new HashMap&lt;&gt;();\r\n            for (int i = 0; i &lt; input.length(); i++) \r\n            {\r\n            des.put(input.charAt(i), i);\r\n            } \r\n\r\n            String decipher = &quot;&quot;;\r\n\r\n            // This loop deciphered the message. \r\n            // Spaces, special characters and numbers remain same. \r\n            for (int i = 0; i &lt; msg.length(); i++)\r\n            {\r\n                if (msg.charAt(i) &gt;= &#39;a&#39; &amp;&amp; msg.charAt(i) &lt;= &#39;z&#39;)\r\n                {\r\n                    int pos = enc.get((char)(msg.charAt(i)-32));\r\n                    decipher += plaintext.charAt(pos);\r\n                }\r\n                else if (msg.charAt(i) &gt;= &#39;A&#39; &amp;&amp; msg.charAt(i) &lt;= &#39;Z&#39;)\r\n                {\r\n                    int pos = enc.get(mensaje.charAt(i));\r\n                    decipher += plaintext.charAt(pos);\r\n                }\r\n                else\r\n                {\r\n                    decipher += msg.charAt(i);\r\n                }\r\n            }\r\n            return decipher;\r\n        }\r\n\r\n\r\nBasically you have to use `put` when mapping, and then `get` when using it.\r\nOh and casting char when substracting from it.","title":"Converting lines of code from C++ to JAVA","body":"<p>Old question, but for future reference, here's the solution:</p>\n<pre><code>String plaintext = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\npublic static String ABC(String msg, String input)\n    {\n        // Hold the position of every character (A-Z) from encoded string\n        Map&lt;Character, Integer&gt; enc = new HashMap&lt;&gt;();\n        for (int i = 0; i &lt; input.length(); i++) \n        {\n        des.put(input.charAt(i), i);\n        } \n\n        String decipher = &quot;&quot;;\n\n        // This loop deciphered the message. \n        // Spaces, special characters and numbers remain same. \n        for (int i = 0; i &lt; msg.length(); i++)\n        {\n            if (msg.charAt(i) &gt;= 'a' &amp;&amp; msg.charAt(i) &lt;= 'z')\n            {\n                int pos = enc.get((char)(msg.charAt(i)-32));\n                decipher += plaintext.charAt(pos);\n            }\n            else if (msg.charAt(i) &gt;= 'A' &amp;&amp; msg.charAt(i) &lt;= 'Z')\n            {\n                int pos = enc.get(mensaje.charAt(i));\n                decipher += plaintext.charAt(pos);\n            }\n            else\n            {\n                decipher += msg.charAt(i);\n            }\n        }\n        return decipher;\n    }\n</code></pre>\n<p>Basically you have to use <code>put</code> when mapping, and then <code>get</code> when using it.\nOh and casting char when substracting from it.</p>\n"}],"owner":{"account_id":14719140,"reputation":13,"user_id":10630283,"display_name":"Passion Developers"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":53289244,"answer_count":2,"score":-2,"last_activity_date":1638717271,"creation_date":1542141570,"question_id":53289155,"body_markdown":"I have come up with the below code. Managed to resolve most of the errors except the one related to Map.\r\n\r\nI understand that the below line of code belongs to C++. Tried a lot to convert it to JAVA since couple of days, unable to figure out a way:\r\n\r\nBelow lines of code in C++\r\n\r\n    map&lt;Character,Integer&gt; enc = new map&lt;Character,Integer&gt;();\r\n\r\nNote:Upon changing the above syntax to HashMap/Map and after importing Java.Util, lines of code marked with 3 stars in the below code displays the following error &quot;The type of the expression must be an array type but it resolved to Map&lt;Character,Integer&gt;&quot;\r\n\r\n&gt; 1) enc[input.charAt(i)] = i; 2) int pos = enc[msg.charAt(i) - 32]; 3)\r\n&gt; int pos = enc[msg.charAt(i)];\r\n\r\n\r\n\r\n // This function will decipher any input message\r\n    \r\n    public static String ABC(String msg, String input)\r\n        \t{\r\n        \t\t// Hold the position of every character (A-Z) from encoded string \r\n        \t\tmap&lt;Character,Integer&gt; enc = new map&lt;Character,Integer&gt;();\r\n        \t\tfor (int i = 0; i &lt; input.length(); i++)\r\n        \t\t{\r\n        \t\t\t***enc[input.charAt(i)] = i;***\r\n        \t\t}\r\n        \r\n        \t\tString decipher = &quot;&quot;;\r\n        \r\n        \t\t// This loop deciphered the message. \r\n                // Spaces, special characters and numbers remain same. \r\n        \t\tfor (int i = 0; i &lt; msg.length(); i++)\r\n        \t\t{\r\n        \t\t\tif (msg.charAt(i) &gt;= &#39;a&#39; &amp;&amp; msg.charAt(i) &lt;= &#39;z&#39;)\r\n        \t\t\t{\r\n        \t\t\t\t***int pos = enc[msg.charAt(i) - 32];***\r\n        \t\t\t\tdecipher += plaintext.charAt(pos);\r\n        \t\t\t}\r\n        \t\t\telse if (msg.charAt(i) &gt;= &#39;A&#39; &amp;&amp; msg.charAt(i) &lt;= &#39;Z&#39;)\r\n        \t\t\t{\r\n        \t\t\t\t***int pos = enc[msg.charAt(i)];***\r\n        \t\t\t\tdecipher += plaintext.charAt(pos);\r\n        \t\t\t}\r\n        \t\t\telse\r\n        \t\t\t{\r\n        \t\t\t\tdecipher += msg.charAt(i);\r\n        \t\t\t}\r\n        \t\t}\r\n        \t\treturn decipher;\r\n        \t}","title":"Converting lines of code from C++ to JAVA","body":"<p>I have come up with the below code. Managed to resolve most of the errors except the one related to Map.</p>\n\n<p>I understand that the below line of code belongs to C++. Tried a lot to convert it to JAVA since couple of days, unable to figure out a way:</p>\n\n<p>Below lines of code in C++</p>\n\n<pre><code>map&lt;Character,Integer&gt; enc = new map&lt;Character,Integer&gt;();\n</code></pre>\n\n<p>Note:Upon changing the above syntax to HashMap/Map and after importing Java.Util, lines of code marked with 3 stars in the below code displays the following error \"The type of the expression must be an array type but it resolved to Map\"</p>\n\n<blockquote>\n  <p>1) enc[input.charAt(i)] = i; 2) int pos = enc[msg.charAt(i) - 32]; 3)\n  int pos = enc[msg.charAt(i)];</p>\n</blockquote>\n\n<p>// This function will decipher any input message</p>\n\n<pre><code>public static String ABC(String msg, String input)\n        {\n            // Hold the position of every character (A-Z) from encoded string \n            map&lt;Character,Integer&gt; enc = new map&lt;Character,Integer&gt;();\n            for (int i = 0; i &lt; input.length(); i++)\n            {\n                ***enc[input.charAt(i)] = i;***\n            }\n\n            String decipher = \"\";\n\n            // This loop deciphered the message. \n            // Spaces, special characters and numbers remain same. \n            for (int i = 0; i &lt; msg.length(); i++)\n            {\n                if (msg.charAt(i) &gt;= 'a' &amp;&amp; msg.charAt(i) &lt;= 'z')\n                {\n                    ***int pos = enc[msg.charAt(i) - 32];***\n                    decipher += plaintext.charAt(pos);\n                }\n                else if (msg.charAt(i) &gt;= 'A' &amp;&amp; msg.charAt(i) &lt;= 'Z')\n                {\n                    ***int pos = enc[msg.charAt(i)];***\n                    decipher += plaintext.charAt(pos);\n                }\n                else\n                {\n                    decipher += msg.charAt(i);\n                }\n            }\n            return decipher;\n        }\n</code></pre>\n"},{"tags":["java","xml","jsp","servlets"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1638713748,"post_id":70235119,"comment_id":124155958,"body_markdown":"`Root Cause java.lang.ClassNotFoundException: com.demo.AddServlet` That is the only relevant line in that stack trace. You&#39;ve misconfigured your build or your tomcat. You didn&#39;t include sufficient details for a more thorough answer. I suggest you follow a tomcat tutorial.","body":"<code>Root Cause java.lang.ClassNotFoundException: com.demo.AddServlet</code> That is the only relevant line in that stack trace. You&#39;ve misconfigured your build or your tomcat. You didn&#39;t include sufficient details for a more thorough answer. I suggest you follow a tomcat tutorial."},{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":0,"creation_date":1638763133,"post_id":70235119,"comment_id":124166483,"body_markdown":"You posted a Servlet  named  AddDemo but the code is looking for a Servlet named AddServlet.    What code  threw the exception?","body":"You posted a Servlet  named  AddDemo but the code is looking for a Servlet named AddServlet.    What code  threw the exception?"}],"owner":{"account_id":19533863,"reputation":21,"user_id":14293036,"display_name":"Sourav Ganguly"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638717137,"creation_date":1638713168,"question_id":70235119,"body_markdown":"**HTTP Status:** 500 – Internal Server Error.  \r\n**Type:** Exception Report.  \r\n**Message:** Error instantiating servlet class [com.demo.AddServlet]  \r\n**Description:** The server encountered an unexpected condition that prevented it from fulfilling the request.  \r\n**Exception:**\r\n\r\n    javax.servlet.ServletException: Error instantiating servlet class [com.demo.AddServlet]\r\n    \torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\r\n    \torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n    \torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n    \torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n    \torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\r\n    \torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)\r\n    \torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \torg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \torg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tjava.base/java.lang.Thread.run(Thread.java:834)\r\n    \r\n    \r\n    Root Cause\r\n    java.lang.ClassNotFoundException: com.demo.AddServlet\r\n    \torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1407)\r\n    \torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1215)\r\n    \torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\r\n    \torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n    \torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n    \torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n    \torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\r\n    \torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)\r\n    \torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \torg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \torg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tjava.base/java.lang.Thread.run(Thread.java:834)\r\n\r\n\r\nNote The full stack trace of the root cause is available in the server logs.\r\n\r\nAddServlet.java file code\r\n\r\n\t\tpackage com.demo;\r\n\r\n\t\timport java.io.IOException;\r\n\t\timport javax.servlet.ServletException;\r\n\t\timport javax.servlet.annotation.WebServlet;\r\n\t\timport javax.servlet.http.HttpServlet;\r\n\t\timport javax.servlet.http.HttpServletRequest;\r\n\t\timport javax.servlet.http.HttpServletResponse;\r\n\r\n\r\n\t\t@WebServlet(&quot;/AddDemo&quot;)\r\n\t\tpublic class AddDemo extends HttpServlet {\r\n\t\t\tprivate static final long serialVersionUID = 1L;\r\n\t\t\t   \r\n\t\t\tpublic AddDemo() {\r\n\t\t\t\tsuper();\r\n\t\t\t\t// TODO Auto-generated constructor stub\r\n\t\t\t}\r\n\r\n\t\t\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\tresponse.getWriter().append(&quot;Served at: &quot;).append(request.getContextPath());\r\n\t\t\t}\r\n\r\n\r\n\t\t\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\tdoGet(request, response);\r\n\t\t\t}\r\n\r\n\t\t}\r\n","title":"I just trying to run my first servlet but following errors I face","body":"<p><strong>HTTP Status:</strong> 500 – Internal Server Error.<br />\n<strong>Type:</strong> Exception Report.<br />\n<strong>Message:</strong> Error instantiating servlet class [com.demo.AddServlet]<br />\n<strong>Description:</strong> The server encountered an unexpected condition that prevented it from fulfilling the request.<br />\n<strong>Exception:</strong></p>\n<pre><code>javax.servlet.ServletException: Error instantiating servlet class [com.demo.AddServlet]\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.base/java.lang.Thread.run(Thread.java:834)\n\n\nRoot Cause\njava.lang.ClassNotFoundException: com.demo.AddServlet\n    org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1407)\n    org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1215)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<p>Note The full stack trace of the root cause is available in the server logs.</p>\n<p>AddServlet.java file code</p>\n<pre><code>    package com.demo;\n\n    import java.io.IOException;\n    import javax.servlet.ServletException;\n    import javax.servlet.annotation.WebServlet;\n    import javax.servlet.http.HttpServlet;\n    import javax.servlet.http.HttpServletRequest;\n    import javax.servlet.http.HttpServletResponse;\n\n\n    @WebServlet(&quot;/AddDemo&quot;)\n    public class AddDemo extends HttpServlet {\n        private static final long serialVersionUID = 1L;\n           \n        public AddDemo() {\n            super();\n            // TODO Auto-generated constructor stub\n        }\n\n        protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n            // TODO Auto-generated method stub\n            response.getWriter().append(&quot;Served at: &quot;).append(request.getContextPath());\n        }\n\n\n        protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n            // TODO Auto-generated method stub\n            doGet(request, response);\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","recursion","backtracking"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1638715607,"post_id":70234837,"comment_id":124156377,"body_markdown":"If you change `open+1` in `backtrack(ans, cur, open+1, close, max)` to `++open` you change the value that is tested in the `if (close &lt; open)` condition.","body":"If you change <code>open+1</code> in <code>backtrack(ans, cur, open+1, close, max)</code> to <code>++open</code> you change the value that is tested in the <code>if (close &lt; open)</code> condition."}],"answers":[{"tags":[],"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638717074,"creation_date":1638717074,"answer_id":70235648,"question_id":70234837,"body_markdown":"The difference between passing value using `++open` and `open+1` is that in the former, the value of the variable `open` is changed, while in the latter it is not. That is,\r\n- If open is, say 2, after `++open`, the value of `open` is `3`\r\n- However, when you do `open+1`, you only pass `3` but the value of `open` is still `2`. So, the next loop gets the same value.\r\n\r\nTo better understand, the following is equivalent to `++open`:\r\n```java\r\nbacktrack(ans, cur, (open = open+1), close, max);\r\n```\r\n\r\nIn the above code, the bracketed expression is evaluated to set the value of `open` to `open+1` before being passed to the method.","title":"post increment vs +1 in recursive function","body":"<p>The difference between passing value using <code>++open</code> and <code>open+1</code> is that in the former, the value of the variable <code>open</code> is changed, while in the latter it is not. That is,</p>\n<ul>\n<li>If open is, say 2, after <code>++open</code>, the value of <code>open</code> is <code>3</code></li>\n<li>However, when you do <code>open+1</code>, you only pass <code>3</code> but the value of <code>open</code> is still <code>2</code>. So, the next loop gets the same value.</li>\n</ul>\n<p>To better understand, the following is equivalent to <code>++open</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>backtrack(ans, cur, (open = open+1), close, max);\n</code></pre>\n<p>In the above code, the bracketed expression is evaluated to set the value of <code>open</code> to <code>open+1</code> before being passed to the method.</p>\n"}],"owner":{"account_id":23552467,"reputation":13,"user_id":17594964,"display_name":"epoch21"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70235648,"answer_count":1,"score":0,"last_activity_date":1638717074,"creation_date":1638711395,"question_id":70234837,"body_markdown":"I was working on [Leetcode #22 Generate Parentheses.](https://leetcode.com/problems/generate-parentheses/) In one of their solutions, I noticed if we change ```open+1``` and ```close+1``` to ```++open``` and ```++close```, the code doesn&#39;t work anymore. I thought we could still use pre-increment in recursion, so I don&#39;t understand what makes the difference here.\r\n\r\n```\r\nclass Solution {\r\n    public List&lt;String&gt; generateParenthesis(int n) {\r\n        List&lt;String&gt; ans = new ArrayList();\r\n        backtrack(ans, new StringBuilder(), 0, 0, n);\r\n        return ans;\r\n    }\r\n\r\n    public void backtrack(List&lt;String&gt; ans, StringBuilder cur, int open, int close, int max){\r\n        if (cur.length() == max * 2) {\r\n            ans.add(cur.toString());\r\n            return;\r\n        }\r\n\r\n        if (open &lt; max) {\r\n            cur.append(&quot;(&quot;);\r\n            backtrack(ans, cur, open+1, close, max);\r\n            cur.deleteCharAt(cur.length() - 1);\r\n        }\r\n        if (close &lt; open) {\r\n            cur.append(&quot;)&quot;);\r\n            backtrack(ans, cur, open, close+1, max);\r\n            cur.deleteCharAt(cur.length() - 1);\r\n        }\r\n    }\r\n}\r\n```","title":"post increment vs +1 in recursive function","body":"<p>I was working on <a href=\"https://leetcode.com/problems/generate-parentheses/\" rel=\"nofollow noreferrer\">Leetcode #22 Generate Parentheses.</a> In one of their solutions, I noticed if we change <code>open+1</code> and <code>close+1</code> to <code>++open</code> and <code>++close</code>, the code doesn't work anymore. I thought we could still use pre-increment in recursion, so I don't understand what makes the difference here.</p>\n<pre><code>class Solution {\n    public List&lt;String&gt; generateParenthesis(int n) {\n        List&lt;String&gt; ans = new ArrayList();\n        backtrack(ans, new StringBuilder(), 0, 0, n);\n        return ans;\n    }\n\n    public void backtrack(List&lt;String&gt; ans, StringBuilder cur, int open, int close, int max){\n        if (cur.length() == max * 2) {\n            ans.add(cur.toString());\n            return;\n        }\n\n        if (open &lt; max) {\n            cur.append(&quot;(&quot;);\n            backtrack(ans, cur, open+1, close, max);\n            cur.deleteCharAt(cur.length() - 1);\n        }\n        if (close &lt; open) {\n            cur.append(&quot;)&quot;);\n            backtrack(ans, cur, open, close+1, max);\n            cur.deleteCharAt(cur.length() - 1);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":4604007,"reputation":1447,"user_id":3733985,"accept_rate":69,"display_name":"maryam"},"score":0,"creation_date":1638688503,"post_id":70232138,"comment_id":124151019,"body_markdown":"You define `i` iterator value but you don&#39;t increase it anywhere?!!","body":"You define <code>i</code> iterator value but you don&#39;t increase it anywhere?!!"},{"owner":{"account_id":19446854,"reputation":17,"user_id":14224145,"display_name":"Aung Phyo Zaw"},"score":0,"creation_date":1638689255,"post_id":70232138,"comment_id":124151107,"body_markdown":"As far as I know , do while defination is repeating again and again as long as it is under predefined condition, this infinite looping , no ends , so i = 5 ,","body":"As far as I know , do while defination is repeating again and again as long as it is under predefined condition, this infinite looping , no ends , so i = 5 ,"},{"owner":{"account_id":19446854,"reputation":17,"user_id":14224145,"display_name":"Aung Phyo Zaw"},"score":0,"creation_date":1638689354,"post_id":70232138,"comment_id":124151121,"body_markdown":"do { module statement } while(i==5) , it will iterate again and again , I guess your comment may correct for &#39; for looping &#39;","body":"do { module statement } while(i==5) , it will iterate again and again , I guess your comment may correct for &#39; for looping &#39;"},{"owner":{"account_id":4604007,"reputation":1447,"user_id":3733985,"accept_rate":69,"display_name":"maryam"},"score":0,"creation_date":1638689421,"post_id":70232138,"comment_id":124151133,"body_markdown":"I don&#39;t understand why you have an infinite loop? what &#39;s your purpose?","body":"I don&#39;t understand why you have an infinite loop? what &#39;s your purpose?"},{"owner":{"account_id":19446854,"reputation":17,"user_id":14224145,"display_name":"Aung Phyo Zaw"},"score":0,"creation_date":1638689609,"post_id":70232138,"comment_id":124151156,"body_markdown":"Ok the quiz will update and appear every 30 s after that next quiz with 30s duration and so on and on... it will keep going as long as the app is open, is it infinite looping ?","body":"Ok the quiz will update and appear every 30 s after that next quiz with 30s duration and so on and on... it will keep going as long as the app is open, is it infinite looping ?"},{"owner":{"account_id":4604007,"reputation":1447,"user_id":3733985,"accept_rate":69,"display_name":"maryam"},"score":0,"creation_date":1638691067,"post_id":70232138,"comment_id":124151317,"body_markdown":"put your xml code in your question also. I will test your code.","body":"put your xml code in your question also. I will test your code."},{"owner":{"account_id":19446854,"reputation":17,"user_id":14224145,"display_name":"Aung Phyo Zaw"},"score":0,"creation_date":1638693607,"post_id":70232138,"comment_id":124151691,"body_markdown":"Ok I will but not now , I am outside , thank your help","body":"Ok I will but not now , I am outside , thank your help"},{"owner":{"account_id":19446854,"reputation":17,"user_id":14224145,"display_name":"Aung Phyo Zaw"},"score":0,"creation_date":1638716978,"post_id":70232138,"comment_id":124156655,"body_markdown":"Hello, I had posted full XML code and Kotlin class as you want , pls test it","body":"Hello, I had posted full XML code and Kotlin class as you want , pls test it"},{"owner":{"account_id":19446854,"reputation":17,"user_id":14224145,"display_name":"Aung Phyo Zaw"},"score":0,"creation_date":1638717034,"post_id":70232138,"comment_id":124156667,"body_markdown":"@maryam  Hello , I had posted the full codes as you want , please test it","body":"@maryam  Hello , I had posted the full codes as you want , please test it"}],"answers":[{"tags":[],"owner":{"account_id":19446854,"reputation":17,"user_id":14224145,"display_name":"Aung Phyo Zaw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638716917,"creation_date":1638716443,"answer_id":70235561,"question_id":70232138,"body_markdown":"\r\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\r\n    &lt;gradient android:startColor = &quot;#80F40303&quot;\r\n        android:centerColor = &quot;#8B055798&quot;\r\n        android:endColor = &quot;#8000FF0C&quot;\r\n        android:angle = &quot;90&quot;\r\n        android:type = &quot;linear&quot;/&gt;\r\n\r\n&lt;/shape&gt;\r\n\r\n    &lt;RelativeLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;VideoView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:id=&quot;@+id/videoView&quot;/&gt;\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;@drawable/gradient&quot;/&gt;\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:text=&quot;Quizy&quot;\r\n        android:textSize=&quot;40sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:fontFamily=&quot;cursive&quot;\r\n        android:layout_marginTop=&quot;30sp&quot;/&gt;\r\n\r\n    &lt;Button\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Get Started&quot;\r\n        android:id=&quot;@+id/start&quot;\r\n        android:layout_centerInParent=&quot;true&quot;/&gt;\r\n&lt;/RelativeLayout&gt;\r\n\r\n   \r\n\r\n    class MainActivity : AppCompatActivity() {\r\n\r\n    var videoPlay:VideoView?=null\r\n    var start: Button?=null\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n\r\n        videoPlay = findViewById(R.id.videoView)\r\n\r\n        start = findViewById(R.id.start)\r\n\r\n        var videoUri = Uri.parse(&quot;android.resource://&quot;+packageName+&quot;/&quot;+R.raw.backgroundvideo)\r\n\r\n        videoPlay?.setVideoURI(videoUri)\r\n\r\n        videoPlay?.start()\r\n\r\n        start?.setOnClickListener {\r\n            var intent = Intent(this,quizy_app::class.java)\r\n            startActivity(intent)\r\n        }\r\n    }\r\n}\r\n\r\n    &lt;RelativeLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.quizy_app&quot;&gt;\r\n\r\n    &lt;ImageView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:src=&quot;@drawable/background&quot;\r\n        android:scaleType=&quot;centerCrop&quot;/&gt;\r\n\r\n\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;#A6000000&quot;/&gt;\r\n    &lt;TextView\r\n        android:layout_margin=&quot;10dp&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Right Answer&quot;\r\n        android:textSize=&quot;30sp&quot;\r\n        android:id=&quot;@+id/txtRightAnswer&quot;\r\n        android:textColor=&quot;@color/white&quot;/&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@id/txtRightAnswer&quot;\r\n        android:layout_above=&quot;@id/container&quot;&gt;\r\n        &lt;ProgressBar\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            style=&quot;@style/Widget.AppCompat.ProgressBar.Horizontal&quot;\r\n            android:id=&quot;@+id/progresscircle&quot;\r\n            android:max=&quot;15000&quot;\r\n            android:progress=&quot;0&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:progressDrawable=&quot;@drawable/circular&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;/&gt;\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:id=&quot;@+id/textprogress&quot;/&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_margin=&quot;10dp&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:id=&quot;@+id/container&quot;\r\n        android:layout_centerInParent=&quot;true&quot;&gt;\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Question&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            android:id=&quot;@+id/txtQuestion1&quot;\r\n            android:padding=&quot;5dp&quot;\r\n            android:background=&quot;#CC0A0A&quot;\r\n            android:textColor=&quot;@color/white&quot;/&gt;\r\n        &lt;TextView\r\n            android:layout_marginTop=&quot;10dp&quot;\r\n            android:layout_marginBottom=&quot;10dp&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/txtQuestion&quot;\r\n            android:hint=&quot;Your Question is Here&quot;\r\n            android:textColorHint=&quot;@color/white&quot;\r\n            android:textAlignment=&quot;center&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:padding=&quot;10dp&quot;/&gt;\r\n        &lt;EditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Enter Your Answer&quot;\r\n            android:textColorHint=&quot;@color/white&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            android:id=&quot;@+id/edtAnswer&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:textAlignment=&quot;center&quot;/&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/btnShow&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:onClick=&quot;showAnswer&quot;\r\n            android:text=&quot;SHOW&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/btnNext&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:onClick=&quot;nextQuestion&quot;\r\n            android:text=&quot;NEXT&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/btnCheck&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:onClick=&quot;checkAnswer&quot;\r\n            android:text=&quot;CHECK&quot; /&gt;\r\n    &lt;/RelativeLayout&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n\r\n\r\n    class quizy_app : AppCompatActivity() {\r\n\r\n    var Question = arrayOf(&quot;Web Development&quot;, &quot;Android Development&quot;, &quot;NetWorking&quot;,\r\n            &quot;Graphic Desginer&quot;, &quot;Programm Desginer&quot;)\r\n\r\n    var rightAnswer : TextView? = null\r\n\r\n    var txtQuestion : TextView? = null\r\n\r\n    var edtAnswer : EditText? = null\r\n\r\n    lateinit var random: Random\r\n\r\n    lateinit var question: String\r\n\r\n    var handler : Handler?=null\r\n\r\n    var view : View?=null\r\n\r\n\r\n    // CountDown Timer\r\n\r\n    var cTimer:CountDownTimer?=null\r\n\r\n    // Progress Bar\r\n\r\n    var progressbar : ProgressBar?=null\r\n\r\n    var txtProgress : TextView?=null\r\n\r\n    var milisecond : Long?= null\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_quizy_app)\r\n\r\n        milisecond = 0\r\n\r\n        rightAnswer = findViewById(R.id.txtRightAnswer)\r\n\r\n        txtQuestion = findViewById(R.id.txtQuestion)\r\n\r\n        edtAnswer = findViewById(R.id.edtAnswer)\r\n\r\n        progressbar = findViewById(R.id.progresscircle)\r\n\r\n        txtProgress = findViewById(R.id.textprogress)\r\n\r\n        var i =5\r\n\r\n         StarQuizy()\r\n\r\n        handler = Handler()\r\n\r\n        do{\r\n                handler?.postDelayed({StarQuizy()},17000)\r\n        }while (i==5)\r\n\r\n    }\r\n    fun StarQuizy(){\r\n\r\n            random = Random\r\n            rightAnswer?.visibility = View.INVISIBLE\r\n            question = Question[random.nextInt(Question.size)]\r\n            txtQuestion?.text = mixLetter(question)\r\n            countDownTimer()\r\n\r\n    }\r\n    fun countDownTimer(){\r\n\r\n        cTimer = object :CountDownTimer(15000, 1000){\r\n            override fun onTick(millisUntilFinished: Long) {\r\n\r\n                milisecond  = millisUntilFinished\r\n                rightAnswer?.setText(&quot;&quot;+milisecond!!/1000)\r\n            }\r\n\r\n            override fun onFinish() {\r\n\r\n            }\r\n\r\n        }.start()\r\n\r\n\r\n    }\r\n\r\n    fun showAnswer(view: View){\r\n       rightAnswer?.visibility = View.VISIBLE\r\n        rightAnswer?.text = question\r\n    }\r\n    fun nextQuestion(view: View){\r\n        StarQuizy()\r\n    }\r\n    fun checkAnswer(view: View){\r\n      if(txtQuestion?.text.toString().equals(question, ignoreCase = true)){\r\n          RightAnswer()\r\n          Toast.makeText(this, &quot;Correct Answer&quot;, Toast.LENGTH_LONG).show()\r\n      }else{\r\n          WrongAnswer()\r\n          Toast.makeText(this, &quot;Incorrect Answer&quot;, Toast.LENGTH_LONG).show()\r\n      }\r\n    }\r\n    fun RightAnswer(){\r\n        rightAnswer?.visibility = View.VISIBLE\r\n        rightAnswer?.text = question\r\n        rightAnswer?.setBackgroundColor(Color.GREEN)\r\n\r\n        var handler = Handler()\r\n\r\n        handler?.postDelayed({\r\n            StarQuizy()\r\n        }, 3000)\r\n    }\r\n    fun WrongAnswer(){\r\n        rightAnswer?.visibility = View.VISIBLE\r\n        rightAnswer?.text = question\r\n        rightAnswer?.setBackgroundColor(Color.RED)\r\n\r\n        var handler = Handler()\r\n\r\n        handler?.postDelayed({\r\n            StarQuizy()\r\n        }, 3000)\r\n    }\r\n\r\n    fun mixLetter(word: String):String{\r\n        var character = word.toCharArray()\r\n        for(i in character.indices){\r\n            var randomIndex = (Math.random()*character.size).toInt()\r\n            var temp = character[i]\r\n            character[i] = character[randomIndex]\r\n            character[randomIndex] = temp\r\n        }\r\n        return String(character)\r\n    }\r\n}\r\n\r\n","title":"while loop directs to black mode screen of colorful activity screen","body":"\n<pre><code>&lt;gradient android:startColor = &quot;#80F40303&quot;\n    android:centerColor = &quot;#8B055798&quot;\n    android:endColor = &quot;#8000FF0C&quot;\n    android:angle = &quot;90&quot;\n    android:type = &quot;linear&quot;/&gt;\n</code></pre>\n\n<pre><code>&lt;RelativeLayout\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\ntools:context=&quot;.MainActivity&quot;&gt;\n\n&lt;VideoView\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:id=&quot;@+id/videoView&quot;/&gt;\n&lt;LinearLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@drawable/gradient&quot;/&gt;\n\n&lt;TextView\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_centerHorizontal=&quot;true&quot;\n    android:text=&quot;Quizy&quot;\n    android:textSize=&quot;40sp&quot;\n    android:textStyle=&quot;bold&quot;\n    android:fontFamily=&quot;cursive&quot;\n    android:layout_marginTop=&quot;30sp&quot;/&gt;\n\n&lt;Button\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:text=&quot;Get Started&quot;\n    android:id=&quot;@+id/start&quot;\n    android:layout_centerInParent=&quot;true&quot;/&gt;\n</code></pre>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\nvar videoPlay:VideoView?=null\nvar start: Button?=null\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    videoPlay = findViewById(R.id.videoView)\n\n    start = findViewById(R.id.start)\n\n    var videoUri = Uri.parse(&quot;android.resource://&quot;+packageName+&quot;/&quot;+R.raw.backgroundvideo)\n\n    videoPlay?.setVideoURI(videoUri)\n\n    videoPlay?.start()\n\n    start?.setOnClickListener {\n        var intent = Intent(this,quizy_app::class.java)\n        startActivity(intent)\n    }\n}\n</code></pre>\n<p>}</p>\n<pre><code>&lt;RelativeLayout\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\ntools:context=&quot;.quizy_app&quot;&gt;\n\n&lt;ImageView\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:src=&quot;@drawable/background&quot;\n    android:scaleType=&quot;centerCrop&quot;/&gt;\n\n\n\n&lt;LinearLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;#A6000000&quot;/&gt;\n&lt;TextView\n    android:layout_margin=&quot;10dp&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:text=&quot;Right Answer&quot;\n    android:textSize=&quot;30sp&quot;\n    android:id=&quot;@+id/txtRightAnswer&quot;\n    android:textColor=&quot;@color/white&quot;/&gt;\n\n&lt;RelativeLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_below=&quot;@id/txtRightAnswer&quot;\n    android:layout_above=&quot;@id/container&quot;&gt;\n    &lt;ProgressBar\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        style=&quot;@style/Widget.AppCompat.ProgressBar.Horizontal&quot;\n        android:id=&quot;@+id/progresscircle&quot;\n        android:max=&quot;15000&quot;\n        android:progress=&quot;0&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:progressDrawable=&quot;@drawable/circular&quot;\n        android:layout_centerHorizontal=&quot;true&quot;/&gt;\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:id=&quot;@+id/textprogress&quot;/&gt;\n\n&lt;/RelativeLayout&gt;\n\n&lt;LinearLayout\n    android:layout_margin=&quot;10dp&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;vertical&quot;\n    android:id=&quot;@+id/container&quot;\n    android:layout_centerInParent=&quot;true&quot;&gt;\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Question&quot;\n        android:textSize=&quot;20sp&quot;\n        android:id=&quot;@+id/txtQuestion1&quot;\n        android:padding=&quot;5dp&quot;\n        android:background=&quot;#CC0A0A&quot;\n        android:textColor=&quot;@color/white&quot;/&gt;\n    &lt;TextView\n        android:layout_marginTop=&quot;10dp&quot;\n        android:layout_marginBottom=&quot;10dp&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/txtQuestion&quot;\n        android:hint=&quot;Your Question is Here&quot;\n        android:textColorHint=&quot;@color/white&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textSize=&quot;20sp&quot;\n        android:textStyle=&quot;bold&quot;\n        android:textColor=&quot;@color/white&quot;\n        android:padding=&quot;10dp&quot;/&gt;\n    &lt;EditText\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Enter Your Answer&quot;\n        android:textColorHint=&quot;@color/white&quot;\n        android:textSize=&quot;20sp&quot;\n        android:id=&quot;@+id/edtAnswer&quot;\n        android:textColor=&quot;@color/white&quot;\n        android:textAlignment=&quot;center&quot;/&gt;\n\n&lt;/LinearLayout&gt;\n\n&lt;RelativeLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_alignParentBottom=&quot;true&quot;&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btnShow&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:onClick=&quot;showAnswer&quot;\n        android:text=&quot;SHOW&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btnNext&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:onClick=&quot;nextQuestion&quot;\n        android:text=&quot;NEXT&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btnCheck&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:onClick=&quot;checkAnswer&quot;\n        android:text=&quot;CHECK&quot; /&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<pre><code>class quizy_app : AppCompatActivity() {\n\nvar Question = arrayOf(&quot;Web Development&quot;, &quot;Android Development&quot;, &quot;NetWorking&quot;,\n        &quot;Graphic Desginer&quot;, &quot;Programm Desginer&quot;)\n\nvar rightAnswer : TextView? = null\n\nvar txtQuestion : TextView? = null\n\nvar edtAnswer : EditText? = null\n\nlateinit var random: Random\n\nlateinit var question: String\n\nvar handler : Handler?=null\n\nvar view : View?=null\n\n\n// CountDown Timer\n\nvar cTimer:CountDownTimer?=null\n\n// Progress Bar\n\nvar progressbar : ProgressBar?=null\n\nvar txtProgress : TextView?=null\n\nvar milisecond : Long?= null\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_quizy_app)\n\n    milisecond = 0\n\n    rightAnswer = findViewById(R.id.txtRightAnswer)\n\n    txtQuestion = findViewById(R.id.txtQuestion)\n\n    edtAnswer = findViewById(R.id.edtAnswer)\n\n    progressbar = findViewById(R.id.progresscircle)\n\n    txtProgress = findViewById(R.id.textprogress)\n\n    var i =5\n\n     StarQuizy()\n\n    handler = Handler()\n\n    do{\n            handler?.postDelayed({StarQuizy()},17000)\n    }while (i==5)\n\n}\nfun StarQuizy(){\n\n        random = Random\n        rightAnswer?.visibility = View.INVISIBLE\n        question = Question[random.nextInt(Question.size)]\n        txtQuestion?.text = mixLetter(question)\n        countDownTimer()\n\n}\nfun countDownTimer(){\n\n    cTimer = object :CountDownTimer(15000, 1000){\n        override fun onTick(millisUntilFinished: Long) {\n\n            milisecond  = millisUntilFinished\n            rightAnswer?.setText(&quot;&quot;+milisecond!!/1000)\n        }\n\n        override fun onFinish() {\n\n        }\n\n    }.start()\n\n\n}\n\nfun showAnswer(view: View){\n   rightAnswer?.visibility = View.VISIBLE\n    rightAnswer?.text = question\n}\nfun nextQuestion(view: View){\n    StarQuizy()\n}\nfun checkAnswer(view: View){\n  if(txtQuestion?.text.toString().equals(question, ignoreCase = true)){\n      RightAnswer()\n      Toast.makeText(this, &quot;Correct Answer&quot;, Toast.LENGTH_LONG).show()\n  }else{\n      WrongAnswer()\n      Toast.makeText(this, &quot;Incorrect Answer&quot;, Toast.LENGTH_LONG).show()\n  }\n}\nfun RightAnswer(){\n    rightAnswer?.visibility = View.VISIBLE\n    rightAnswer?.text = question\n    rightAnswer?.setBackgroundColor(Color.GREEN)\n\n    var handler = Handler()\n\n    handler?.postDelayed({\n        StarQuizy()\n    }, 3000)\n}\nfun WrongAnswer(){\n    rightAnswer?.visibility = View.VISIBLE\n    rightAnswer?.text = question\n    rightAnswer?.setBackgroundColor(Color.RED)\n\n    var handler = Handler()\n\n    handler?.postDelayed({\n        StarQuizy()\n    }, 3000)\n}\n\nfun mixLetter(word: String):String{\n    var character = word.toCharArray()\n    for(i in character.indices){\n        var randomIndex = (Math.random()*character.size).toInt()\n        var temp = character[i]\n        character[i] = character[randomIndex]\n        character[randomIndex] = temp\n    }\n    return String(character)\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":19446854,"reputation":17,"user_id":14224145,"display_name":"Aung Phyo Zaw"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1638716917,"creation_date":1638687534,"question_id":70232138,"body_markdown":"\r\n\r\nWhenever switch on Kotlin loop, just simple looping , it came out in black mode of screen , does not work , please any suggestion? My ideal is iterate the Star Quiz( ) fun method with handler post delay,the main problem point is do while looping, it does not work iterate , just black screen, no bug error, please give me any suggestion, without do while looping , it work fine\r\n\r\n     override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_quizy_app)\r\n\r\n        milisecond = 0\r\n\r\n        rightAnswer = findViewById(R.id.txtRightAnswer)\r\n\r\n        txtQuestion = findViewById(R.id.txtQuestion)\r\n\r\n        edtAnswer = findViewById(R.id.edtAnswer)\r\n\r\n        progressbar = findViewById(R.id.progresscircle)\r\n\r\n        txtProgress = findViewById(R.id.textprogress)\r\n\r\n        var i =5\r\n\r\n         StarQuizy()\r\n\r\n        handler = Handler()\r\n\r\n        do{\r\n                handler?.postDelayed({StarQuizy()},17000)\r\n        }while (i==5)\r\n\r\n    }\r\n    fun StarQuizy(){\r\n\r\n            random = Random\r\n\r\n            //   rightAnswer?.visibility = View.INVISIBLE\r\n\r\n            question = Question[random.nextInt(Question.size)]\r\n            txtQuestion?.text = mixLetter(question)\r\n            countDownTimer()\r\n    }\r\n    fun countDownTimer(){\r\n\r\n        cTimer = object :CountDownTimer(15000, 1000){\r\n            override fun onTick(millisUntilFinished: Long) {\r\n\r\n                milisecond  = millisUntilFinished\r\n                rightAnswer?.setText(&quot;&quot;+milisecond!!/1000)\r\n            }\r\n\r\n            override fun onFinish() {\r\n\r\n            }\r\n\r\n        }.start()\r\n    }\r\n\r\n ","title":"while loop directs to black mode screen of colorful activity screen","body":"<p>Whenever switch on Kotlin loop, just simple looping , it came out in black mode of screen , does not work , please any suggestion? My ideal is iterate the Star Quiz( ) fun method with handler post delay,the main problem point is do while looping, it does not work iterate , just black screen, no bug error, please give me any suggestion, without do while looping , it work fine</p>\n<pre><code> override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_quizy_app)\n\n    milisecond = 0\n\n    rightAnswer = findViewById(R.id.txtRightAnswer)\n\n    txtQuestion = findViewById(R.id.txtQuestion)\n\n    edtAnswer = findViewById(R.id.edtAnswer)\n\n    progressbar = findViewById(R.id.progresscircle)\n\n    txtProgress = findViewById(R.id.textprogress)\n\n    var i =5\n\n     StarQuizy()\n\n    handler = Handler()\n\n    do{\n            handler?.postDelayed({StarQuizy()},17000)\n    }while (i==5)\n\n}\nfun StarQuizy(){\n\n        random = Random\n\n        //   rightAnswer?.visibility = View.INVISIBLE\n\n        question = Question[random.nextInt(Question.size)]\n        txtQuestion?.text = mixLetter(question)\n        countDownTimer()\n}\nfun countDownTimer(){\n\n    cTimer = object :CountDownTimer(15000, 1000){\n        override fun onTick(millisUntilFinished: Long) {\n\n            milisecond  = millisUntilFinished\n            rightAnswer?.setText(&quot;&quot;+milisecond!!/1000)\n        }\n\n        override fun onFinish() {\n\n        }\n\n    }.start()\n}\n</code></pre>\n"},{"tags":["java","binary-tree","comparator","treeset"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1638647088,"post_id":70228403,"comment_id":124145390,"body_markdown":"A Set can’t have duplicates, so you don’t want a Set.  I suggest using a List, and always keeping the List sorted by using [Collections.binarySearch](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#binarySearch(java.util.List,T)) to determine the insert point for each new element.  (You could also sort the entire List frequently, but that’s going perform poorly.)","body":"A Set can’t have duplicates, so you don’t want a Set.  I suggest using a List, and always keeping the List sorted by using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#binarySearch(java.util.List,T)\" rel=\"nofollow noreferrer\">Collections.binarySearch</a> to determine the insert point for each new element.  (You could also sort the entire List frequently, but that’s going perform poorly.)"},{"owner":{"account_id":15295377,"reputation":327,"user_id":11035655,"display_name":"OSEMA TOUATI"},"score":0,"creation_date":1638716849,"post_id":70228403,"comment_id":124156628,"body_markdown":"@Progman I modified the question, I specified the X, and then discussed a possible Y while asking for the side effects of such a Y. (for more on xy problem https://xyproblem.info/ .thanks btw that was informative)","body":"@Progman I modified the question, I specified the X, and then discussed a possible Y while asking for the side effects of such a Y. (for more on xy problem <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">xyproblem.info</a> .thanks btw that was informative)"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1638643248,"creation_date":1638643248,"answer_id":70228448,"question_id":70228403,"body_markdown":"`contains` would never return `true`.\r\n\r\nYou could have arbitrary duplicates in the set, and not be able to identify or remove them.  (`remove` would never work.)","title":"What would be the impact of using a TreeSet&lt;Integer&gt; with a comparator that allows duplicates","body":"<p><code>contains</code> would never return <code>true</code>.</p>\n<p>You could have arbitrary duplicates in the set, and not be able to identify or remove them.  (<code>remove</code> would never work.)</p>\n"},{"tags":[],"owner":{"account_id":1544842,"reputation":486,"user_id":6036446,"display_name":"Juan C Nuno"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638643322,"creation_date":1638643322,"answer_id":70228465,"question_id":70228403,"body_markdown":"I suggest trying a [TreeMultiset](https://github.com/google/guava/wiki/NewCollectionTypesExplained#multiset) instead","title":"What would be the impact of using a TreeSet&lt;Integer&gt; with a comparator that allows duplicates","body":"<p>I suggest trying a <a href=\"https://github.com/google/guava/wiki/NewCollectionTypesExplained#multiset\" rel=\"nofollow noreferrer\">TreeMultiset</a> instead</p>\n"},{"tags":[],"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638656402,"creation_date":1638643330,"answer_id":70228467,"question_id":70228403,"body_markdown":"Opinion:\r\n\r\nYour Set ceases to be a Set, for one thing.  Since that&#39;s outside the specification, the implementation is not obliged to do anything consistently.  Anything could happen.\r\n\r\nNote that since you can&#39;t say 2 == 2, you&#39;re obliged to have 2 &gt; 2 at the same time that 2 &lt; 2.  That doesn&#39;t seem like it will end happily.\r\n\r\nThe only way to discover what happens with this sort of abuse is to try it.  Maybe it&#39;ll all work and allow duplicate entries. But that doesn&#39;t guarantee that it will continue to happen with the next bugfix.\r\n\r\nIf I needed something like this (though I don&#39;t understand your use case), I&#39;d either build a special-purpose class, or else try and use something like a set of lists of numbers.\r\n","title":"What would be the impact of using a TreeSet&lt;Integer&gt; with a comparator that allows duplicates","body":"<p>Opinion:</p>\n<p>Your Set ceases to be a Set, for one thing.  Since that's outside the specification, the implementation is not obliged to do anything consistently.  Anything could happen.</p>\n<p>Note that since you can't say 2 == 2, you're obliged to have 2 &gt; 2 at the same time that 2 &lt; 2.  That doesn't seem like it will end happily.</p>\n<p>The only way to discover what happens with this sort of abuse is to try it.  Maybe it'll all work and allow duplicate entries. But that doesn't guarantee that it will continue to happen with the next bugfix.</p>\n<p>If I needed something like this (though I don't understand your use case), I'd either build a special-purpose class, or else try and use something like a set of lists of numbers.</p>\n"}],"owner":{"account_id":15295377,"reputation":327,"user_id":11035655,"display_name":"OSEMA TOUATI"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70228448,"answer_count":3,"score":0,"last_activity_date":1638716479,"creation_date":1638642857,"question_id":70228403,"body_markdown":"## The problem (No binary tree with duplicates in java collections).\r\n\r\nI need a binary tree with duplicates, I need the O(Log(n)) complexity of searching and insertion while keeping the order (so i can&#39;t use Hash tables), java doesn&#39;t have a collection that implements a binary tree and allow duplicates while keeping all binary tree operations.  \r\n\r\n## Can we use TreeSet to do this?\r\nI&#39;m trying to tweak TreeSet&lt;Integer&gt; and allow duplicates by passing a comparator that never returns 0. I know this won&#39;t be a set anymore but it&#39;s ok, i need duplicates.    \r\n\r\nExample  \r\n```java\r\nTreeSet&lt;Integer&gt; binaryTreeWithDuplicates = new TreeSet&lt;Integer&gt;((x, y) -&gt; x&gt;y?1:-1);\r\n```\r\n\r\nWill there be an undesirable side effect of such implementation and usage?  \r\nbecause we are obviously violating the rules in [comparator api][1] like the sign rule.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/6/docs/api/java/util/Comparator.html#compare%28T,%20T%29","title":"What would be the impact of using a TreeSet&lt;Integer&gt; with a comparator that allows duplicates","body":"<h2>The problem (No binary tree with duplicates in java collections).</h2>\n<p>I need a binary tree with duplicates, I need the O(Log(n)) complexity of searching and insertion while keeping the order (so i can't use Hash tables), java doesn't have a collection that implements a binary tree and allow duplicates while keeping all binary tree operations.</p>\n<h2>Can we use TreeSet to do this?</h2>\n<p>I'm trying to tweak TreeSet and allow duplicates by passing a comparator that never returns 0. I know this won't be a set anymore but it's ok, i need duplicates.</p>\n<p>Example</p>\n<pre class=\"lang-java prettyprint-override\"><code>TreeSet&lt;Integer&gt; binaryTreeWithDuplicates = new TreeSet&lt;Integer&gt;((x, y) -&gt; x&gt;y?1:-1);\n</code></pre>\n<p>Will there be an undesirable side effect of such implementation and usage?<br />\nbecause we are obviously violating the rules in <a href=\"https://docs.oracle.com/javase/6/docs/api/java/util/Comparator.html#compare%28T,%20T%29\" rel=\"nofollow noreferrer\">comparator api</a> like the sign rule.</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore","singleton"],"answers":[{"tags":[],"owner":{"account_id":16632079,"reputation":2166,"user_id":16547945,"display_name":"Vojin Purić"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1638712707,"creation_date":1638712707,"answer_id":70235044,"question_id":70234900,"body_markdown":"Your **flag** is not initialized when you call it, Either set something as default value or initialize in constructor like\r\n\r\n    private Singleton() {\r\n        this.flag = &quot;&quot;;\r\n    }\r\n\r\nor call your `setFlag` before first occurrence of `getFalg`","title":"How can I solve Singelton is NULL problem","body":"<p>Your <strong>flag</strong> is not initialized when you call it, Either set something as default value or initialize in constructor like</p>\n<pre><code>private Singleton() {\n    this.flag = &quot;&quot;;\n}\n</code></pre>\n<p>or call your <code>setFlag</code> before first occurrence of <code>getFalg</code></p>\n"}],"owner":{"account_id":22540713,"reputation":23,"user_id":16731303,"display_name":"partizal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1638714244,"accepted_answer_id":70235044,"answer_count":1,"score":0,"last_activity_date":1638716441,"creation_date":1638711771,"question_id":70234900,"body_markdown":"I&#39;m trying to make a student registration system and I keep these students in firestore. I don&#39;t want it to add student with same number when adding student and for this, I created a singleton class. This singleton class has a flag value. I used this flag to provide control if there is a student with the same number in the firestore.\r\n\r\nbut it always returns null. I don&#39;t understand.\r\n\r\n \r\n\r\n\r\nI&#39;m just sharing the necessary codes.\r\n\r\n**My add student class**\r\n\r\n    private ActivityOgrenciEkleBinding binding;\r\n    private FirebaseFirestore mFirestore =  FirebaseFirestore.getInstance();\r\n    private LinkedHashMap&lt;String,String&gt; linkedHashMap;\r\n    private OgrenciyiKontrolEt ogrenciyiKontrolEt;\r\n    Singleton singleton;\r\n\r\n    public void init(){\r\n\r\n        linkedHashMap = new LinkedHashMap&lt;&gt;();\r\n        singleton = Singleton.getInstance();\r\n        btn_Ogrenci_EKLE();\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityOgrenciEkleBinding.inflate(getLayoutInflater());\r\n        View view = binding.getRoot();\r\n        setContentView(view);\r\n        init();\r\n    }\r\n\r\n    public void btn_Ogrenci_EKLE(){\r\n\r\n\r\n        binding.btnEkleOgrenci.setOnClickListener(new View.OnClickListener() \r\n       {\r\n\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                String email_ogr = binding.emailOgrenci.getText().toString();\r\n                String ad_ogr = binding.isimOgrenci.getText().toString();\r\n                String soyisim_ogr = binding.soyisimOgrenci.getText().toString();\r\n                String no_ogr = binding.numaraOgrenci.getText().toString();\r\n                String parola_ogr = binding.sifreOgrenci.getText().toString();\r\n\r\n               ogrenciyiKontrolEt = new \r\n               OgrenciyiKontrolEt(no_ogr,OgrenciEkleActivity.this);// I \r\n               //created object from \r\n               //control class to check students\r\n\r\n\r\n                if(email_ogr.equals(&quot;&quot;) || ad_ogr.equals(&quot;&quot;) || soyisim_ogr.equals(&quot;&quot;) || no_ogr.equals(&quot;&quot;) || parola_ogr.equals(&quot;&quot;)){\r\n                    AlertDialog.Builder builder = new AlertDialog.Builder(OgrenciEkleActivity.this);\r\n                    builder.setTitle(&quot;UYARI !&quot;);\r\n                    builder.setMessage(&quot;Boş alan bırakmayınız !&quot;);\r\n                    builder.setIcon(R.drawable.warningicon);\r\n                    builder.setPositiveButton(&quot;Tamam&quot;, new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialogInterface, int i) {\r\n\r\n                        }\r\n                    });\r\n                    builder.show();\r\n                }\r\n                else{\r\n\r\n                    ogrenciyiKontrolEt.OGR_KONTROL();\r\n                    System.out.println(&quot;singleton get flag&quot;+singleton.getflag()); //singleton returns null here and and it never \r\n                           //goes into the if loop\r\n                    \r\n                    if(&quot;100&quot;.equals(singleton.getflag())){\r\n\r\n                        AlertDialog.Builder builder = new AlertDialog.Builder(OgrenciEkleActivity.this);\r\n                        builder.setIcon(R.drawable.warningicon);\r\n                        builder.setMessage(no_ogr+&quot; numaralı &#246;ğrenci zaten kayıtlı l&#252;tfen farklı bir numara giriniz.&quot;);\r\n                        builder.setTitle(&quot;UYARI&quot;);\r\n                        builder.setPositiveButton(&quot;TAMAM&quot;, new DialogInterface.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(DialogInterface dialogInterface, int i) {\r\n\r\n                            }\r\n                        });\r\n                        builder.show();\r\n\r\n                    }\r\n                    else{\r\n\r\n\r\n                        linkedHashMap.put(&quot;name&quot;,ad_ogr);\r\n                        linkedHashMap.put(&quot;lastname&quot;,soyisim_ogr);\r\n                        linkedHashMap.put(&quot;number&quot;,no_ogr);\r\n                        linkedHashMap.put(&quot;email&quot;,email_ogr);\r\n                        linkedHashMap.put(&quot;password&quot;,parola_ogr);\r\n\r\n                        mFirestore.collection(&quot;Students&quot;).add(linkedHashMap).addOnSuccessListener(new OnSuccessListener&lt;DocumentReference&gt;() {\r\n                            @Override\r\n                            public void onSuccess(@NonNull DocumentReference documentReference) {\r\n                                Toast toast =   Toast.makeText(OgrenciEkleActivity.this,&quot;&#214;ğrenci başaralı bir şekilde eklendi.&quot;,Toast.LENGTH_LONG);\r\n                                toast.show();\r\n                            }\r\n                        }).addOnFailureListener(new OnFailureListener() {\r\n                            @Override\r\n                            public void onFailure(@NonNull Exception e) {\r\n                                Toast toast =   Toast.makeText(OgrenciEkleActivity.this,&quot;&#214;ğrenci eklerken bir hata ile karşılaşıldı.&quot;,Toast.LENGTH_LONG);\r\n                                toast.show();\r\n                            }\r\n                        });\r\n                    }\r\n\r\n\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\n**Control class that I created to control students**\r\n\r\n    public class OgrenciyiKontrolEt {\r\n\r\n\r\n    protected String ogrenci_no;\r\n    protected String firestore_ogr_no;\r\n    protected FirebaseFirestore firebaseFirestoreDb = FirebaseFirestore.getInstance();\r\n    public Context context;\r\n    Singleton singleton  = Singleton.getInstance();\r\n\r\n    public OgrenciyiKontrolEt(String ogr_no,Context context){\r\n        this.ogrenci_no = ogr_no;\r\n        this.context    = context;\r\n\r\n    }\r\n\r\n\r\n\r\n    public void OGR_KONTROL(){\r\n\r\n\r\n        firebaseFirestoreDb.collection(&quot;Students&quot;)\r\n                .get()\r\n                .addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\r\n                    @Override\r\n                    public void onSuccess(@NonNull QuerySnapshot queryDocumentSnapshots) {\r\n                        List&lt;DocumentSnapshot&gt; snapshotList = queryDocumentSnapshots.getDocuments();\r\n\r\n                        for(DocumentSnapshot snapshot: snapshotList ) {\r\n\r\n                            firestore_ogr_no = snapshot.getString(&quot;number&quot;);\r\n\r\n                            if(firestore_ogr_no.equals(ogrenci_no)) {\r\n                                singleton.setflag(&quot;100&quot;); //If there is a student with the same \r\n                                                  number, I set the flag in the singleton to 100.\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                })\r\n\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                @Override\r\n                public void onFailure(@NonNull Exception e) {\r\n                    Toast toast = Toast.makeText(context,&quot;Bir hata ile karşılaşıldı.&quot;,Toast.LENGTH_LONG);\r\n                    toast.show();\r\n                }\r\n            });\r\n\r\n\r\n\r\n\r\n\r\n     }\r\n\r\n    }\r\n\r\n\r\n**My singleton class**\r\n\r\n    public class Singleton {\r\n\r\n    **EDIT**\r\n    private String flag=&quot;1&quot;;\r\n    **EDIT**\r\n\r\n    private static Singleton singleton;\r\n\r\n    private Singleton() {\r\n\r\n    }\r\n\r\n    public String getflag() {\r\n        return flag;\r\n    }\r\n\r\n    public void setflag(String flag) {\r\n        this.flag = flag;\r\n    }\r\n\r\n    public static Singleton getInstance() {\r\n        if (singleton == null) {\r\n            singleton = new Singleton();\r\n        }\r\n\r\n        return singleton;\r\n\r\n     }\r\n     }\r\n","title":"How can I solve Singelton is NULL problem","body":"<p>I'm trying to make a student registration system and I keep these students in firestore. I don't want it to add student with same number when adding student and for this, I created a singleton class. This singleton class has a flag value. I used this flag to provide control if there is a student with the same number in the firestore.</p>\n<p>but it always returns null. I don't understand.</p>\n<p>I'm just sharing the necessary codes.</p>\n<p><strong>My add student class</strong></p>\n<pre><code>private ActivityOgrenciEkleBinding binding;\nprivate FirebaseFirestore mFirestore =  FirebaseFirestore.getInstance();\nprivate LinkedHashMap&lt;String,String&gt; linkedHashMap;\nprivate OgrenciyiKontrolEt ogrenciyiKontrolEt;\nSingleton singleton;\n\npublic void init(){\n\n    linkedHashMap = new LinkedHashMap&lt;&gt;();\n    singleton = Singleton.getInstance();\n    btn_Ogrenci_EKLE();\n\n\n}\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    binding = ActivityOgrenciEkleBinding.inflate(getLayoutInflater());\n    View view = binding.getRoot();\n    setContentView(view);\n    init();\n}\n\npublic void btn_Ogrenci_EKLE(){\n\n\n    binding.btnEkleOgrenci.setOnClickListener(new View.OnClickListener() \n   {\n\n        @Override\n        public void onClick(View view) {\n\n            String email_ogr = binding.emailOgrenci.getText().toString();\n            String ad_ogr = binding.isimOgrenci.getText().toString();\n            String soyisim_ogr = binding.soyisimOgrenci.getText().toString();\n            String no_ogr = binding.numaraOgrenci.getText().toString();\n            String parola_ogr = binding.sifreOgrenci.getText().toString();\n\n           ogrenciyiKontrolEt = new \n           OgrenciyiKontrolEt(no_ogr,OgrenciEkleActivity.this);// I \n           //created object from \n           //control class to check students\n\n\n            if(email_ogr.equals(&quot;&quot;) || ad_ogr.equals(&quot;&quot;) || soyisim_ogr.equals(&quot;&quot;) || no_ogr.equals(&quot;&quot;) || parola_ogr.equals(&quot;&quot;)){\n                AlertDialog.Builder builder = new AlertDialog.Builder(OgrenciEkleActivity.this);\n                builder.setTitle(&quot;UYARI !&quot;);\n                builder.setMessage(&quot;Boş alan bırakmayınız !&quot;);\n                builder.setIcon(R.drawable.warningicon);\n                builder.setPositiveButton(&quot;Tamam&quot;, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialogInterface, int i) {\n\n                    }\n                });\n                builder.show();\n            }\n            else{\n\n                ogrenciyiKontrolEt.OGR_KONTROL();\n                System.out.println(&quot;singleton get flag&quot;+singleton.getflag()); //singleton returns null here and and it never \n                       //goes into the if loop\n                \n                if(&quot;100&quot;.equals(singleton.getflag())){\n\n                    AlertDialog.Builder builder = new AlertDialog.Builder(OgrenciEkleActivity.this);\n                    builder.setIcon(R.drawable.warningicon);\n                    builder.setMessage(no_ogr+&quot; numaralı öğrenci zaten kayıtlı lütfen farklı bir numara giriniz.&quot;);\n                    builder.setTitle(&quot;UYARI&quot;);\n                    builder.setPositiveButton(&quot;TAMAM&quot;, new DialogInterface.OnClickListener() {\n                        @Override\n                        public void onClick(DialogInterface dialogInterface, int i) {\n\n                        }\n                    });\n                    builder.show();\n\n                }\n                else{\n\n\n                    linkedHashMap.put(&quot;name&quot;,ad_ogr);\n                    linkedHashMap.put(&quot;lastname&quot;,soyisim_ogr);\n                    linkedHashMap.put(&quot;number&quot;,no_ogr);\n                    linkedHashMap.put(&quot;email&quot;,email_ogr);\n                    linkedHashMap.put(&quot;password&quot;,parola_ogr);\n\n                    mFirestore.collection(&quot;Students&quot;).add(linkedHashMap).addOnSuccessListener(new OnSuccessListener&lt;DocumentReference&gt;() {\n                        @Override\n                        public void onSuccess(@NonNull DocumentReference documentReference) {\n                            Toast toast =   Toast.makeText(OgrenciEkleActivity.this,&quot;Öğrenci başaralı bir şekilde eklendi.&quot;,Toast.LENGTH_LONG);\n                            toast.show();\n                        }\n                    }).addOnFailureListener(new OnFailureListener() {\n                        @Override\n                        public void onFailure(@NonNull Exception e) {\n                            Toast toast =   Toast.makeText(OgrenciEkleActivity.this,&quot;Öğrenci eklerken bir hata ile karşılaşıldı.&quot;,Toast.LENGTH_LONG);\n                            toast.show();\n                        }\n                    });\n                }\n\n\n            }\n        }\n    });\n\n}\n</code></pre>\n<p><strong>Control class that I created to control students</strong></p>\n<pre><code>public class OgrenciyiKontrolEt {\n\n\nprotected String ogrenci_no;\nprotected String firestore_ogr_no;\nprotected FirebaseFirestore firebaseFirestoreDb = FirebaseFirestore.getInstance();\npublic Context context;\nSingleton singleton  = Singleton.getInstance();\n\npublic OgrenciyiKontrolEt(String ogr_no,Context context){\n    this.ogrenci_no = ogr_no;\n    this.context    = context;\n\n}\n\n\n\npublic void OGR_KONTROL(){\n\n\n    firebaseFirestoreDb.collection(&quot;Students&quot;)\n            .get()\n            .addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\n                @Override\n                public void onSuccess(@NonNull QuerySnapshot queryDocumentSnapshots) {\n                    List&lt;DocumentSnapshot&gt; snapshotList = queryDocumentSnapshots.getDocuments();\n\n                    for(DocumentSnapshot snapshot: snapshotList ) {\n\n                        firestore_ogr_no = snapshot.getString(&quot;number&quot;);\n\n                        if(firestore_ogr_no.equals(ogrenci_no)) {\n                            singleton.setflag(&quot;100&quot;); //If there is a student with the same \n                                              number, I set the flag in the singleton to 100.\n                        }\n                    }\n                }\n\n            })\n\n            .addOnFailureListener(new OnFailureListener() {\n            @Override\n            public void onFailure(@NonNull Exception e) {\n                Toast toast = Toast.makeText(context,&quot;Bir hata ile karşılaşıldı.&quot;,Toast.LENGTH_LONG);\n                toast.show();\n            }\n        });\n\n\n\n\n\n }\n\n}\n</code></pre>\n<p><strong>My singleton class</strong></p>\n<pre><code>public class Singleton {\n\n**EDIT**\nprivate String flag=&quot;1&quot;;\n**EDIT**\n\nprivate static Singleton singleton;\n\nprivate Singleton() {\n\n}\n\npublic String getflag() {\n    return flag;\n}\n\npublic void setflag(String flag) {\n    this.flag = flag;\n}\n\npublic static Singleton getInstance() {\n    if (singleton == null) {\n        singleton = new Singleton();\n    }\n\n    return singleton;\n\n }\n }\n</code></pre>\n"},{"tags":["java","android","android-camera","surfaceview","android-4.3-jelly-bean"],"comments":[{"owner":{"account_id":1493661,"reputation":449,"user_id":1400106,"accept_rate":27,"display_name":"Subhransu"},"score":0,"creation_date":1386601157,"post_id":20266970,"comment_id":30595231,"body_markdown":"I am also facing the same issue. Did you by chance find a solution?","body":"I am also facing the same issue. Did you by chance find a solution?"},{"owner":{"account_id":3228581,"reputation":103,"user_id":2724333,"accept_rate":50,"display_name":"Nehal Shah"},"score":0,"creation_date":1386734032,"post_id":20266970,"comment_id":30661385,"body_markdown":"In my understanding onFrameAvailable should be used with thread. With that i am not facing the issue","body":"In my understanding onFrameAvailable should be used with thread. With that i am not facing the issue"}],"answers":[{"tags":[],"owner":{"account_id":3228581,"reputation":103,"user_id":2724333,"accept_rate":50,"display_name":"Nehal Shah"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1386937825,"creation_date":1386937825,"answer_id":20566584,"question_id":20266970,"body_markdown":"In my understanding onFrameAvailable should be used with thread. With that i am not facing the issue and also make sure updatetextImage is called after receiving the frames","title":"OnFrameAvailable callback is not coming","body":"<p>In my understanding onFrameAvailable should be used with thread. With that i am not facing the issue and also make sure updatetextImage is called after receiving the frames</p>\n"},{"tags":[],"owner":{"account_id":5552772,"reputation":126,"user_id":4405281,"display_name":"cescom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1477575407,"creation_date":1477423709,"answer_id":40248140,"question_id":20266970,"body_markdown":"I think you have to call `SurfaceTeture.updateTextImage()` after your `OnFrameAvailable()` Callback to tell the camera &quot;I&#39;ve used your last frame, give me another one&quot;. \r\n\r\n(Sorry but my English cannot provide a better explanation)","title":"OnFrameAvailable callback is not coming","body":"<p>I think you have to call <code>SurfaceTeture.updateTextImage()</code> after your <code>OnFrameAvailable()</code> Callback to tell the camera \"I've used your last frame, give me another one\". </p>\n\n<p>(Sorry but my English cannot provide a better explanation)</p>\n"},{"tags":[],"owner":{"account_id":2706676,"reputation":585,"user_id":2336136,"display_name":"Ariel Yust"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1506344075,"creation_date":1506344075,"answer_id":46405790,"question_id":20266970,"body_markdown":"        @Override   \r\n        public void onFrameAvailable(SurfaceTexture surfaceTexture) {\r\n            ...\r\n            surfaceTexture.updateTexImage();\r\n        }\r\n\r\nhad the same problem, seems like I forgot to call for the updateTexImage()","title":"OnFrameAvailable callback is not coming","body":"<pre><code>    @Override   \n    public void onFrameAvailable(SurfaceTexture surfaceTexture) {\n        ...\n        surfaceTexture.updateTexImage();\n    }\n</code></pre>\n\n<p>had the same problem, seems like I forgot to call for the updateTexImage()</p>\n"},{"tags":[],"owner":{"account_id":10336066,"reputation":75,"user_id":7624134,"display_name":"zyzhang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638709190,"creation_date":1638709190,"answer_id":70234536,"question_id":20266970,"body_markdown":"use method `setOnFrameAvailableListener(@Nullable final OnFrameAvailableListener listener, @Nullable Handler handler) ` replace `setOnFrameAvailableListener(@Nullable OnFrameAvailableListener listener)`.\r\n\r\nin your case, you can modify the code as:\r\n```\r\nframeUpdateThread = new HandlerThread(&quot;frameUpdateThread&quot;);\r\nframeUpdateThread.start();\r\nmSurfaceTexture.setOnFrameAvailableListener(MainActivity.this, Handler(frameUpdateThread.getLooper()));\r\n```\r\n","title":"OnFrameAvailable callback is not coming","body":"<p>use method <code>setOnFrameAvailableListener(@Nullable final OnFrameAvailableListener listener, @Nullable Handler handler) </code> replace <code>setOnFrameAvailableListener(@Nullable OnFrameAvailableListener listener)</code>.</p>\n<p>in your case, you can modify the code as:</p>\n<pre><code>frameUpdateThread = new HandlerThread(&quot;frameUpdateThread&quot;);\nframeUpdateThread.start();\nmSurfaceTexture.setOnFrameAvailableListener(MainActivity.this, Handler(frameUpdateThread.getLooper()));\n</code></pre>\n"}],"owner":{"account_id":3228581,"reputation":103,"user_id":2724333,"accept_rate":50,"display_name":"Nehal Shah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4820,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1638716390,"creation_date":1385643820,"question_id":20266970,"body_markdown":"I am new to android app and I am trying Camera using `SurfaceTexture`. The call back for `OnFrameAvailable()` is not being called...  Please suggest me a solution. The code is below.\r\n\r\nWhat is missing in this? I am not sure if I have made the correct call to `setOnFrameListener()`.\r\n\r\n```\r\npackage com.example.cameratest;\r\n\r\nimport com.example.test.R;\r\n\r\nimport android.app.Activity;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.Menu;\r\nimport android.view.View;\r\n\r\n\r\nimport android.graphics.SurfaceTexture;\r\nimport android.graphics.SurfaceTexture.OnFrameAvailableListener;\r\nimport android.hardware.Camera;\r\nimport android.media.MediaCodec;\r\nimport android.media.MediaCodecInfo;\r\nimport android.media.MediaFormat;\r\nimport android.media.MediaMuxer;\r\nimport android.opengl.*;\r\n\r\nimport android.util.Log;\r\nimport android.view.Surface;\r\n\r\n\r\nimport java.io.IOException;\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.ByteOrder;\r\nimport java.nio.FloatBuffer;\r\nimport java.util.concurrent.locks.ReentrantLock;\r\n\r\npublic class MainActivity extends Activity implements OnFrameAvailableListener {\r\n    private static final String TAG = &quot;CameraToMpegTest&quot;;\r\n    private static final boolean VERBOSE = true;           // lots of logging\r\n    // where to put the output file (note: /sdcard requires WRITE_EXTERNAL_STORAGE permission)\r\n    private static final long DURATION_SEC = 8;\r\n    // camera state\r\n    private Camera mCamera;\r\n    private static SurfaceTexture mSurfaceTexture;\r\n    private int[] mGlTextures = null;\r\n    private Object mFrameSyncObject = new Object();\r\n    private boolean mFrameAvailable = false;\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n\r\n    public void startCamera(View v) {\r\n        try {\r\n\r\n            this.initCamera(0);\r\n            this.StartCamera();\r\n\r\n\r\n        } catch (Throwable throwable) {\r\n            throwable.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void StartCamera() {\r\n\r\n        try {\r\n\r\n            mCamera.startPreview();\r\n\r\n            long startWhen = System.nanoTime();\r\n            long desiredEnd = startWhen + DURATION_SEC * 1000000000L;\r\n\r\n            int frameCount = 0;\r\n\r\n            while (System.nanoTime() &lt; desiredEnd) {\r\n// Feed any pending encoder output into the muxer.\r\n\r\n                awaitNewImage();\r\n            }\r\n        } finally {\r\n// release everything we grabbed\r\n            releaseCamera();\r\n\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Stops camera preview, and releases the camera to the system.\r\n     */\r\n    private void releaseCamera() {\r\n        if (VERBOSE) Log.d(TAG, &quot;releasing camera&quot;);\r\n        if (mCamera != null) {\r\n            mCamera.stopPreview();\r\n            mCamera.release();\r\n            mCamera = null;\r\n        }\r\n    }\r\n\r\n    private void initCamera(int cameraId) {\r\n\r\n        mCamera = Camera.open(cameraId);\r\n        if (mCamera == null) {\r\n            Log.d(TAG, &quot;No front-facing camera found; opening default&quot;);\r\n            mCamera = Camera.open();    // opens first back-facing camera\r\n        }\r\n        if (mCamera == null) {\r\n            throw new RuntimeException(&quot;Unable to open camera&quot;);\r\n        }\r\n\r\n        Camera.Parameters parms = mCamera.getParameters();\r\n        parms.setPreviewSize(640, 480);\r\n        mGlTextures = new int[1];\r\n        GLES20.glGenTextures(1, mGlTextures, 0);\r\n\r\n\r\n        GLES20.glBindTexture(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, mGlTextures[0]);\r\n\r\n\r\n        GLES20.glTexParameterf(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, GLES20.GL_TEXTURE_MIN_FILTER,\r\n                GLES20.GL_NEAREST);\r\n        GLES20.glTexParameterf(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, GLES20.GL_TEXTURE_MAG_FILTER,\r\n                GLES20.GL_LINEAR);\r\n        GLES20.glTexParameteri(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, GLES20.GL_TEXTURE_WRAP_S,\r\n                GLES20.GL_CLAMP_TO_EDGE);\r\n        GLES20.glTexParameteri(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, GLES20.GL_TEXTURE_WRAP_T,\r\n                GLES20.GL_CLAMP_TO_EDGE);\r\n        mSurfaceTexture = new SurfaceTexture(mGlTextures[0]);\r\n        try {\r\n            mCamera.setPreviewTexture(mSurfaceTexture);\r\n        } catch (IOException e) {\r\n// TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n        mSurfaceTexture.setOnFrameAvailableListener(MainActivity.this);\r\n\r\n\r\n    }\r\n\r\n    public void awaitNewImage() {\r\n        final int TIMEOUT_MS = 4500;\r\n        synchronized (mFrameSyncObject) {\r\n            while (!mFrameAvailable) {\r\n                try {\r\n// Wait for onFrameAvailable() to signal us.  Use a timeout to avoid\r\n// stalling the test if it doesn&#39;t arrive.\r\n                    if (VERBOSE) Log.i(TAG, &quot;Waiting for Frame in Thread&quot;);\r\n                    mFrameSyncObject.wait(TIMEOUT_MS);\r\n                    if (!mFrameAvailable) {\r\n// TODO: if &quot;spurious wakeup&quot;, continue while loop\r\n                        throw new RuntimeException(&quot;Camera frame wait timed out&quot;);\r\n                    }\r\n                } catch (InterruptedException ie) {\r\n// shouldn&#39;t happen\r\n                    throw new RuntimeException(ie);\r\n                }\r\n            }\r\n            mFrameAvailable = false;\r\n        }\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onFrameAvailable(SurfaceTexture st) {\r\n        if (VERBOSE) Log.d(TAG, &quot;new frame available&quot;);\r\n        synchronized (mFrameSyncObject) {\r\n            if (mFrameAvailable) {\r\n                throw new RuntimeException(&quot;mFrameAvailable already set, frame could be dropped&quot;);\r\n            }\r\n            mFrameAvailable = true;\r\n            mFrameSyncObject.notifyAll();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"OnFrameAvailable callback is not coming","body":"<p>I am new to android app and I am trying Camera using <code>SurfaceTexture</code>. The call back for <code>OnFrameAvailable()</code> is not being called...  Please suggest me a solution. The code is below.</p>\n<p>What is missing in this? I am not sure if I have made the correct call to <code>setOnFrameListener()</code>.</p>\n<pre><code>package com.example.cameratest;\n\nimport com.example.test.R;\n\nimport android.app.Activity;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.Menu;\nimport android.view.View;\n\n\nimport android.graphics.SurfaceTexture;\nimport android.graphics.SurfaceTexture.OnFrameAvailableListener;\nimport android.hardware.Camera;\nimport android.media.MediaCodec;\nimport android.media.MediaCodecInfo;\nimport android.media.MediaFormat;\nimport android.media.MediaMuxer;\nimport android.opengl.*;\n\nimport android.util.Log;\nimport android.view.Surface;\n\n\nimport java.io.IOException;\nimport java.nio.ByteBuffer;\nimport java.nio.ByteOrder;\nimport java.nio.FloatBuffer;\nimport java.util.concurrent.locks.ReentrantLock;\n\npublic class MainActivity extends Activity implements OnFrameAvailableListener {\n    private static final String TAG = &quot;CameraToMpegTest&quot;;\n    private static final boolean VERBOSE = true;           // lots of logging\n    // where to put the output file (note: /sdcard requires WRITE_EXTERNAL_STORAGE permission)\n    private static final long DURATION_SEC = 8;\n    // camera state\n    private Camera mCamera;\n    private static SurfaceTexture mSurfaceTexture;\n    private int[] mGlTextures = null;\n    private Object mFrameSyncObject = new Object();\n    private boolean mFrameAvailable = false;\n\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n\n    public void startCamera(View v) {\n        try {\n\n            this.initCamera(0);\n            this.StartCamera();\n\n\n        } catch (Throwable throwable) {\n            throwable.printStackTrace();\n        }\n    }\n\n    private void StartCamera() {\n\n        try {\n\n            mCamera.startPreview();\n\n            long startWhen = System.nanoTime();\n            long desiredEnd = startWhen + DURATION_SEC * 1000000000L;\n\n            int frameCount = 0;\n\n            while (System.nanoTime() &lt; desiredEnd) {\n// Feed any pending encoder output into the muxer.\n\n                awaitNewImage();\n            }\n        } finally {\n// release everything we grabbed\n            releaseCamera();\n\n        }\n    }\n\n    /**\n     * Stops camera preview, and releases the camera to the system.\n     */\n    private void releaseCamera() {\n        if (VERBOSE) Log.d(TAG, &quot;releasing camera&quot;);\n        if (mCamera != null) {\n            mCamera.stopPreview();\n            mCamera.release();\n            mCamera = null;\n        }\n    }\n\n    private void initCamera(int cameraId) {\n\n        mCamera = Camera.open(cameraId);\n        if (mCamera == null) {\n            Log.d(TAG, &quot;No front-facing camera found; opening default&quot;);\n            mCamera = Camera.open();    // opens first back-facing camera\n        }\n        if (mCamera == null) {\n            throw new RuntimeException(&quot;Unable to open camera&quot;);\n        }\n\n        Camera.Parameters parms = mCamera.getParameters();\n        parms.setPreviewSize(640, 480);\n        mGlTextures = new int[1];\n        GLES20.glGenTextures(1, mGlTextures, 0);\n\n\n        GLES20.glBindTexture(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, mGlTextures[0]);\n\n\n        GLES20.glTexParameterf(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, GLES20.GL_TEXTURE_MIN_FILTER,\n                GLES20.GL_NEAREST);\n        GLES20.glTexParameterf(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, GLES20.GL_TEXTURE_MAG_FILTER,\n                GLES20.GL_LINEAR);\n        GLES20.glTexParameteri(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, GLES20.GL_TEXTURE_WRAP_S,\n                GLES20.GL_CLAMP_TO_EDGE);\n        GLES20.glTexParameteri(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, GLES20.GL_TEXTURE_WRAP_T,\n                GLES20.GL_CLAMP_TO_EDGE);\n        mSurfaceTexture = new SurfaceTexture(mGlTextures[0]);\n        try {\n            mCamera.setPreviewTexture(mSurfaceTexture);\n        } catch (IOException e) {\n// TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        mSurfaceTexture.setOnFrameAvailableListener(MainActivity.this);\n\n\n    }\n\n    public void awaitNewImage() {\n        final int TIMEOUT_MS = 4500;\n        synchronized (mFrameSyncObject) {\n            while (!mFrameAvailable) {\n                try {\n// Wait for onFrameAvailable() to signal us.  Use a timeout to avoid\n// stalling the test if it doesn't arrive.\n                    if (VERBOSE) Log.i(TAG, &quot;Waiting for Frame in Thread&quot;);\n                    mFrameSyncObject.wait(TIMEOUT_MS);\n                    if (!mFrameAvailable) {\n// TODO: if &quot;spurious wakeup&quot;, continue while loop\n                        throw new RuntimeException(&quot;Camera frame wait timed out&quot;);\n                    }\n                } catch (InterruptedException ie) {\n// shouldn't happen\n                    throw new RuntimeException(ie);\n                }\n            }\n            mFrameAvailable = false;\n        }\n\n\n    }\n\n    @Override\n    public void onFrameAvailable(SurfaceTexture st) {\n        if (VERBOSE) Log.d(TAG, &quot;new frame available&quot;);\n        synchronized (mFrameSyncObject) {\n            if (mFrameAvailable) {\n                throw new RuntimeException(&quot;mFrameAvailable already set, frame could be dropped&quot;);\n            }\n            mFrameAvailable = true;\n            mFrameSyncObject.notifyAll();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","linux","filesystems"],"comments":[{"owner":{"account_id":44195,"reputation":269043,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":2,"creation_date":1418925131,"post_id":27552694,"comment_id":43531637,"body_markdown":"It&#39;s not clear what you&#39;re comparing here.  In both cases it sounds like you have a nested directory structure...","body":"It&#39;s not clear what you&#39;re comparing here.  In both cases it sounds like you have a nested directory structure..."},{"owner":{"account_id":44195,"reputation":269043,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":2,"creation_date":1418925174,"post_id":27552694,"comment_id":43531661,"body_markdown":"Also, by &quot;time complexity&quot; do you mean big-O or something, or are you just talking about &quot;run time&quot;?","body":"Also, by &quot;time complexity&quot; do you mean big-O or something, or are you just talking about &quot;run time&quot;?"},{"owner":{"account_id":2413237,"reputation":31164,"user_id":2107876,"accept_rate":88,"display_name":"laune"},"score":0,"creation_date":1418925303,"post_id":27552694,"comment_id":43531742,"body_markdown":"100.000 dirs and each (!) contains 100.000 - and this to a level of 10? googol?","body":"100.000 dirs and each (!) contains 100.000 - and this to a level of 10? googol?"},{"owner":{"account_id":225067,"reputation":29525,"user_id":485337,"accept_rate":91,"display_name":"Adam Arold"},"score":1,"creation_date":1418925362,"post_id":27552694,"comment_id":43531767,"body_markdown":"I&#39;m comparing loading time of a file from a nested directory structure where there is `10 * 100.000` directories to a directory structure where there is only 10`. I&#39;m interested in the time complexity of the read operation in terms of number of directories.","body":"I&#39;m comparing loading time of a file from a nested directory structure where there is <code>10 * 100.000</code> directories to a directory structure where there is only 10`. I&#39;m interested in the time complexity of the read operation in terms of number of directories."},{"owner":{"account_id":324610,"reputation":18889,"user_id":645270,"accept_rate":100,"display_name":"keyser"},"score":0,"creation_date":1418925511,"post_id":27552694,"comment_id":43531832,"body_markdown":"Then look at the data structures involved. For linux [inode](http://en.wikipedia.org/wiki/Inode)s are a good start.","body":"Then look at the data structures involved. For linux <a href=\"http://en.wikipedia.org/wiki/Inode\" rel=\"nofollow noreferrer\">inode</a>s are a good start."},{"owner":{"account_id":4544827,"reputation":1412,"user_id":3691745,"accept_rate":88,"display_name":"markbernard"},"score":0,"creation_date":1418925513,"post_id":27552694,"comment_id":43531835,"body_markdown":"It is just a linear progression. Each extra file adds X amount of overhead. Especially if you are using discovery and not just loading from a list.","body":"It is just a linear progression. Each extra file adds X amount of overhead. Especially if you are using discovery and not just loading from a list."},{"owner":{"account_id":225067,"reputation":29525,"user_id":485337,"accept_rate":91,"display_name":"Adam Arold"},"score":0,"creation_date":1418925533,"post_id":27552694,"comment_id":43531849,"body_markdown":"This is just a theoretical question I just want to know whether the number of directories/files in the directory I&#39;m trying to open a file from has any effect on the speed of the read operation.","body":"This is just a theoretical question I just want to know whether the number of directories/files in the directory I&#39;m trying to open a file from has any effect on the speed of the read operation."},{"owner":{"account_id":2413237,"reputation":31164,"user_id":2107876,"accept_rate":88,"display_name":"laune"},"score":0,"creation_date":1418925611,"post_id":27552694,"comment_id":43531892,"body_markdown":"It depends on the order of access. You need to access the inode of a directory, the directory data blocks, inode of a file (if small, this points to all data blocks). So it depends on the way you traverse the directory tree. - And your &quot;difference&quot; isn&#39;t any difference I can see,","body":"It depends on the order of access. You need to access the inode of a directory, the directory data blocks, inode of a file (if small, this points to all data blocks). So it depends on the way you traverse the directory tree. - And your &quot;difference&quot; isn&#39;t any difference I can see,"},{"owner":{"account_id":2413237,"reputation":31164,"user_id":2107876,"accept_rate":88,"display_name":"laune"},"score":0,"creation_date":1418925738,"post_id":27552694,"comment_id":43531971,"body_markdown":"Reading a directory in *nix systems is cheap unless the number of entries is big - which it isn&#39;t in your case. And it most certainly doesn&#39;t affect the read time of the file.","body":"Reading a directory in *nix systems is cheap unless the number of entries is big - which it isn&#39;t in your case. And it most certainly doesn&#39;t affect the read time of the file."},{"owner":{"account_id":2482826,"reputation":13761,"user_id":2161954,"accept_rate":93,"display_name":"SnakeDoc"},"score":0,"creation_date":1418925953,"post_id":27552694,"comment_id":43532072,"body_markdown":"I would wager there would be a dependency on which filesystem you are currently using (some choke with a lot of tiny files/directories, others blaze ahead)","body":"I would wager there would be a dependency on which filesystem you are currently using (some choke with a lot of tiny files/directories, others blaze ahead)"},{"owner":{"account_id":154948,"reputation":42791,"user_id":371250,"display_name":"ninjalj"},"score":2,"creation_date":1418930192,"post_id":27552694,"comment_id":43534349,"body_markdown":"It depends on the filesystem and its options. e.g. Ext[234] has a `dir_index` option, which means that it will use H-trees for storing (filename, inode) tuples in directories.","body":"It depends on the filesystem and its options. e.g. Ext[234] has a <code>dir_index</code> option, which means that it will use H-trees for storing (filename, inode) tuples in directories."},{"owner":{"account_id":1970675,"reputation":14602,"user_id":1769720,"display_name":"didierc"},"score":0,"creation_date":1418942141,"post_id":27552694,"comment_id":43539994,"body_markdown":"the problem is analogous to extracting a value from a map data structure, where the keys are the filenames, and the values the inodes. The maps might be nested (each directory holds a map to its entries), or flat (the root directory maps full pathnames to entries), but you still need to build that correspondence somehow.","body":"the problem is analogous to extracting a value from a map data structure, where the keys are the filenames, and the values the inodes. The maps might be nested (each directory holds a map to its entries), or flat (the root directory maps full pathnames to entries), but you still need to build that correspondence somehow."},{"owner":{"account_id":1970675,"reputation":14602,"user_id":1769720,"display_name":"didierc"},"score":0,"creation_date":1418942187,"post_id":27552694,"comment_id":43540008,"body_markdown":"The question you are therefore asking is: is there a mapping data structure which maps keys to values in constant time, and if so, is that structure usable in the field of file systems?","body":"The question you are therefore asking is: is there a mapping data structure which maps keys to values in constant time, and if so, is that structure usable in the field of file systems?"},{"owner":{"account_id":1970675,"reputation":14602,"user_id":1769720,"display_name":"didierc"},"score":0,"creation_date":1418942264,"post_id":27552694,"comment_id":43540032,"body_markdown":"Or, what is the fastest structure which may be implemented there?","body":"Or, what is the fastest structure which may be implemented there?"}],"answers":[{"tags":[],"owner":{"account_id":4470401,"reputation":8021,"user_id":4258430,"accept_rate":50,"display_name":"Allen Luce"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1419048895,"creation_date":1419048895,"answer_id":27576857,"question_id":27552694,"body_markdown":"Some popular filesystems use more efficient data structures than older filesystems.  ext4 has directory hashing turned on by default (as pointed out by @ninjalj), as does XFS.  This means lookups in a single directory are expected to take `O(1)` on average (so constant time if your path has a fixed maximum number of subdirectories). This follows the [performance of the hash function itself.](https://stackoverflow.com/questions/9214353/hash-table-runtime-complexity-insert-search-and-delete)\r\n\r\nEven if you have zillions of files per directory, accessing a single file is very fast -- but only if you have the full path. If you do NOT have the full path, and instead have to look through a directory for a pattern, you are faced with `O(n)` on the number of entries in the directory.  That&#39;s further exacerbated by a small read size (32k) for the default system-level directory reading calls.\r\n\r\n(While `ext4` directories can have huge numbers of files, they are limited to 64000 subdirectory entries.)\r\n","title":"What is the time complexity of reading a file from a Linux filesystem?","body":"<p>Some popular filesystems use more efficient data structures than older filesystems.  ext4 has directory hashing turned on by default (as pointed out by @ninjalj), as does XFS.  This means lookups in a single directory are expected to take <code>O(1)</code> on average (so constant time if your path has a fixed maximum number of subdirectories). This follows the <a href=\"https://stackoverflow.com/questions/9214353/hash-table-runtime-complexity-insert-search-and-delete\">performance of the hash function itself.</a></p>\n\n<p>Even if you have zillions of files per directory, accessing a single file is very fast -- but only if you have the full path. If you do NOT have the full path, and instead have to look through a directory for a pattern, you are faced with <code>O(n)</code> on the number of entries in the directory.  That's further exacerbated by a small read size (32k) for the default system-level directory reading calls.</p>\n\n<p>(While <code>ext4</code> directories can have huge numbers of files, they are limited to 64000 subdirectory entries.)</p>\n"},{"tags":[],"owner":{"account_id":4405207,"reputation":6521,"user_id":3692399,"accept_rate":64,"display_name":"askb"},"down_vote_count":2,"up_vote_count":3,"is_accepted":true,"score":1,"last_activity_date":1419139464,"creation_date":1419063967,"answer_id":27578446,"question_id":27552694,"body_markdown":"If the `/path/to/file` is available, (Note: still the performance and time complexity will largely depend on the on-disk structures and the underlying file system implementation. Ex btrfs, everything is b-tree, ext4 and XFS use H-trees) \r\n\r\nTherefore for traversing the directory structure until the leaf node (directory which contains the file), the average case time complexity should be O(logN), while worst case would be O(N), N = no of directories in the tree. The worst case is when you have Nth directory created under N-1, and N-1th directory created in N-2, and so on ... until the root directory, forming a single branch in the tree. Ideally you don&#39;t have to traverse through all the directories in the tree from the root if you have the full path.  \r\n\r\nThen if your underlying FS supports directory indexes and hashing, each lookup would require another O(1) in finding the file within the directory. Therefore, O(logN) + O(1), i.e ignoring the lower order terms it should be only O(logN), where N is the level.\r\n","title":"What is the time complexity of reading a file from a Linux filesystem?","body":"<p>If the <code>/path/to/file</code> is available, (Note: still the performance and time complexity will largely depend on the on-disk structures and the underlying file system implementation. Ex btrfs, everything is b-tree, ext4 and XFS use H-trees) </p>\n\n<p>Therefore for traversing the directory structure until the leaf node (directory which contains the file), the average case time complexity should be O(logN), while worst case would be O(N), N = no of directories in the tree. The worst case is when you have Nth directory created under N-1, and N-1th directory created in N-2, and so on ... until the root directory, forming a single branch in the tree. Ideally you don't have to traverse through all the directories in the tree from the root if you have the full path.  </p>\n\n<p>Then if your underlying FS supports directory indexes and hashing, each lookup would require another O(1) in finding the file within the directory. Therefore, O(logN) + O(1), i.e ignoring the lower order terms it should be only O(logN), where N is the level.</p>\n"},{"tags":[],"owner":{"account_id":2079767,"reputation":6300,"user_id":1852033,"accept_rate":77,"display_name":"Leo Ufimtsev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638715557,"creation_date":1638712962,"answer_id":70235081,"question_id":27552694,"body_markdown":"This has changed over time.\r\n\r\nExt4:\r\n- As of linux 2.6.23\r\n- Up to a certain sub-directory count, it uses has tables and you get O(1).\r\n- Beyond a certain size, it uses B-Trees and you get O(log N) performance. Due to B-Trees, the depth is very low, so in real life it&#39;s only 2 levels deep at 12 million entries.\r\n- Some places mention that ext4 has subdirectory limits. Although later this limit was removed. I tested (Dec 2021) subdirectory count. I was able to create over 200k entries.\r\n- Note on overall performance: I found that creating 1,000,000 directories with a small file per directory is quite slow (10 minutes on an aws i3.24xlarge instance with 15 local nvme&#39;s) compared to writing a large file with all the data inside it. I&#39;d only use it for large data sets where you want O(1)-ish performance on particular partition.\r\n\r\nSource\r\nhttps://en.wikipedia.org/wiki/Ext4\r\n\r\nI ran a benchmark with 100 and 500,000 files in them. The average readtime was (more or less) the same confirming that it&#39;s O(1) access to sub-directories.\r\n\r\n    import os\r\n    home = os.path.expanduser(&quot;~/&quot;)\r\n\r\n    for i in range(0,100):     # Hundred.\r\n        df = pd.DataFrame({&quot;customerId&quot;: [i,i], &quot;Phone&quot; : [440000+i, 330000+i*2]})\r\n        dir_path = home + &quot;/tmp2/&quot; + str(i)\r\n        os.mkdir(dir_path)\r\n        df.to_parquet(dir_path + &quot;/data.parquet&quot;)\r\n\r\n    for i in range(0,500000): # 1/2 Million\r\n        df = pd.DataFrame({&quot;customerId&quot;: [i,i], &quot;Phone&quot; : [440000+i, 330000+i*2]})\r\n        dir_path = home + &quot;/tmp2/&quot; + str(i)\r\n        os.mkdir(dir_path)\r\n        df.to_parquet(dir_path + &quot;/data.parquet&quot;)\r\n\r\n    # 602007\r\n    # 620180\r\n    import random\r\n    # %timeit - n 10000 dfl = pd.read_parquet(home + &quot;tmp2/&quot; + str(random.randint(0, 99)))\r\n    # 1.82 ms &#177; 5.78 &#181;s per loop (mean &#177; std. dev. of 7 runs, 10000 loops each)\r\n    # %timeit -n 10000 dfl = pd.read_parquet(home + &quot;/tmp/&quot; + str(random.randint(0, 500000-1)))\r\n    # 1.89 ms &#177; 40.1 &#181;s per loop (mean &#177; std. dev. of 7 runs, 10000 loops each)","title":"What is the time complexity of reading a file from a Linux filesystem?","body":"<p>This has changed over time.</p>\n<p>Ext4:</p>\n<ul>\n<li>As of linux 2.6.23</li>\n<li>Up to a certain sub-directory count, it uses has tables and you get O(1).</li>\n<li>Beyond a certain size, it uses B-Trees and you get O(log N) performance. Due to B-Trees, the depth is very low, so in real life it's only 2 levels deep at 12 million entries.</li>\n<li>Some places mention that ext4 has subdirectory limits. Although later this limit was removed. I tested (Dec 2021) subdirectory count. I was able to create over 200k entries.</li>\n<li>Note on overall performance: I found that creating 1,000,000 directories with a small file per directory is quite slow (10 minutes on an aws i3.24xlarge instance with 15 local nvme's) compared to writing a large file with all the data inside it. I'd only use it for large data sets where you want O(1)-ish performance on particular partition.</li>\n</ul>\n<p>Source\n<a href=\"https://en.wikipedia.org/wiki/Ext4\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Ext4</a></p>\n<p>I ran a benchmark with 100 and 500,000 files in them. The average readtime was (more or less) the same confirming that it's O(1) access to sub-directories.</p>\n<pre><code>import os\nhome = os.path.expanduser(&quot;~/&quot;)\n\nfor i in range(0,100):     # Hundred.\n    df = pd.DataFrame({&quot;customerId&quot;: [i,i], &quot;Phone&quot; : [440000+i, 330000+i*2]})\n    dir_path = home + &quot;/tmp2/&quot; + str(i)\n    os.mkdir(dir_path)\n    df.to_parquet(dir_path + &quot;/data.parquet&quot;)\n\nfor i in range(0,500000): # 1/2 Million\n    df = pd.DataFrame({&quot;customerId&quot;: [i,i], &quot;Phone&quot; : [440000+i, 330000+i*2]})\n    dir_path = home + &quot;/tmp2/&quot; + str(i)\n    os.mkdir(dir_path)\n    df.to_parquet(dir_path + &quot;/data.parquet&quot;)\n\n# 602007\n# 620180\nimport random\n# %timeit - n 10000 dfl = pd.read_parquet(home + &quot;tmp2/&quot; + str(random.randint(0, 99)))\n# 1.82 ms ± 5.78 µs per loop (mean ± std. dev. of 7 runs, 10000 loops each)\n# %timeit -n 10000 dfl = pd.read_parquet(home + &quot;/tmp/&quot; + str(random.randint(0, 500000-1)))\n# 1.89 ms ± 40.1 µs per loop (mean ± std. dev. of 7 runs, 10000 loops each)\n</code></pre>\n"}],"owner":{"account_id":225067,"reputation":29525,"user_id":485337,"accept_rate":91,"display_name":"Adam Arold"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5570,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":27578446,"answer_count":3,"score":6,"last_activity_date":1638715557,"creation_date":1418924978,"question_id":27552694,"body_markdown":"Suppose I have a very large number of directories (say `100.000`) in my filesystem and inside each directory there is a similar number of directories. Each directory can contain any number of files, but typically not more than a few. This structure goes to a constant depth (`10`).\r\n\r\nMy question is that is there a difference in time complexity (in the reading operation) if I read in a file from this directory structure like: `/dir-34/dir-215/dir-345/file1` using `Paths.get()`  compared to reading a file form a simple file system like this:\r\n\r\n    /dir1\r\n      /dir2\r\n      /dir3\r\n        file1\r\n      /dir4\r\n        file2\r\n\r\n*Note: This is just a theoretical question I just want to know whether the number of directories/files in the directory I&#39;m trying to open a file from has any effect on the speed of the read operation.*","title":"What is the time complexity of reading a file from a Linux filesystem?","body":"<p>Suppose I have a very large number of directories (say <code>100.000</code>) in my filesystem and inside each directory there is a similar number of directories. Each directory can contain any number of files, but typically not more than a few. This structure goes to a constant depth (<code>10</code>).</p>\n\n<p>My question is that is there a difference in time complexity (in the reading operation) if I read in a file from this directory structure like: <code>/dir-34/dir-215/dir-345/file1</code> using <code>Paths.get()</code>  compared to reading a file form a simple file system like this:</p>\n\n<pre><code>/dir1\n  /dir2\n  /dir3\n    file1\n  /dir4\n    file2\n</code></pre>\n\n<p><em>Note: This is just a theoretical question I just want to know whether the number of directories/files in the directory I'm trying to open a file from has any effect on the speed of the read operation.</em></p>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":20240228,"reputation":496,"user_id":14844306,"display_name":"Ben Anderson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638715077,"creation_date":1638715077,"answer_id":70235382,"question_id":70235281,"body_markdown":"This is a new feature in the most recent version of IntelliJ Idea (2021.3). When you extract a method there is now a small settings icon next to the replaced code to click (or you can use CTRL+SHIFT+O) and see some of the old menu-style method extraction tools.","title":"Extract method dialog not opening in Intellij Idea","body":"<p>This is a new feature in the most recent version of IntelliJ Idea (2021.3). When you extract a method there is now a small settings icon next to the replaced code to click (or you can use CTRL+SHIFT+O) and see some of the old menu-style method extraction tools.</p>\n"}],"owner":{"account_id":23552857,"reputation":83,"user_id":17595306,"display_name":"Shivang Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1017,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70235382,"answer_count":1,"score":1,"last_activity_date":1638715077,"creation_date":1638714295,"question_id":70235281,"body_markdown":"Whenever I try to refactor any code by extracting a method whether from the &#39;Refactor Menu&#39; or use the shortcut - &#39;ctrl + alt + M&#39;, the method directly gets crated with name as &#39;extracted&#39; and the dialog box doesn&#39;t open wherein I could do changes to name and privacy of method. Also, it doesn&#39;t replace any duplicate code block with the method newly created. Is there any reason why the dialog box isn&#39;t opening?\r\nThanks","title":"Extract method dialog not opening in Intellij Idea","body":"<p>Whenever I try to refactor any code by extracting a method whether from the 'Refactor Menu' or use the shortcut - 'ctrl + alt + M', the method directly gets crated with name as 'extracted' and the dialog box doesn't open wherein I could do changes to name and privacy of method. Also, it doesn't replace any duplicate code block with the method newly created. Is there any reason why the dialog box isn't opening?\nThanks</p>\n"},{"tags":["java","spring-boot","jackson","lombok"],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1638714878,"creation_date":1638714145,"answer_id":70235257,"question_id":70234210,"body_markdown":"By default, lombok doesn’t copy annotations: you must explicitly instruct it to via [`onMethod`][1]:\r\n\r\n    @Getter(onMethod=@__({@JsonAlias({&quot;string1&quot;, &quot;string2&quot;})}))\r\n    private String string;\r\n\r\n---\r\n\r\nI notice there’s a lombok config that might offer a global, and therefore better, fix (I haven’t tried it):\r\n\r\n    lombok.copyableAnnotations = [com.fasterxml.jackson.annotation.JsonAlias]\r\n\r\n  [1]: https://projectlombok.org/features/experimental/onX","title":"Why jackson @JsonAlias Annotation not work with lombok?","body":"<p>By default, lombok doesn’t copy annotations: you must explicitly instruct it to via <a href=\"https://projectlombok.org/features/experimental/onX\" rel=\"nofollow noreferrer\"><code>onMethod</code></a>:</p>\n<pre><code>@Getter(onMethod=@__({@JsonAlias({&quot;string1&quot;, &quot;string2&quot;})}))\nprivate String string;\n</code></pre>\n<hr />\n<p>I notice there’s a lombok config that might offer a global, and therefore better, fix (I haven’t tried it):</p>\n<pre><code>lombok.copyableAnnotations = [com.fasterxml.jackson.annotation.JsonAlias]\n</code></pre>\n"}],"owner":{"account_id":4382488,"reputation":343,"user_id":6666688,"display_name":"java dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638714878,"creation_date":1638706667,"question_id":70234210,"body_markdown":"When I received JsonFilter object I expected string to be value of string1 or string2\r\nbut the value always null.   \r\nSo why @JsonAlias not work with lombok?\r\n```\r\n@Getter\r\n@Setter\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class JsonFilter {\r\n\r\n@JsonAlias({&quot;string1&quot;, &quot;string2&quot;})\r\n\tprivate String string;\r\n\r\n}\r\n```\r\n\r\nLombok dependency\r\n\r\n```\r\n &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.22&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```","title":"Why jackson @JsonAlias Annotation not work with lombok?","body":"<p>When I received JsonFilter object I expected string to be value of string1 or string2\nbut the value always null.<br />\nSo why @JsonAlias not work with lombok?</p>\n<pre><code>@Getter\n@Setter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class JsonFilter {\n\n@JsonAlias({&quot;string1&quot;, &quot;string2&quot;})\n    private String string;\n\n}\n</code></pre>\n<p>Lombok dependency</p>\n<pre><code> &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.22&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","thread-safety","mutable"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":3,"creation_date":1638658023,"post_id":70229569,"comment_id":124147562,"body_markdown":"If you override `equals` then obviously it will return whatever you tell it to return. Being mutable or not is irrelevant. I&#39;m not sure what your aim is with this question.","body":"If you override <code>equals</code> then obviously it will return whatever you tell it to return. Being mutable or not is irrelevant. I&#39;m not sure what your aim is with this question."},{"owner":{"account_id":3051575,"reputation":940,"user_id":3462060,"display_name":"Jared"},"score":0,"creation_date":1638664353,"post_id":70229569,"comment_id":124148545,"body_markdown":"@khelwood You have indeed missed the point...how is it possible for a &quot;sane&quot; equals method to return false on itself?","body":"@khelwood You have indeed missed the point...how is it possible for a &quot;sane&quot; equals method to return false on itself?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1638688955,"post_id":70229569,"comment_id":124151073,"body_markdown":"@Jared your `equals(...)`-implementation IS faulty. It can lead to a situation where `x.equals(x)` returns `false`. This is exactly the case I described in my answer.","body":"@Jared your <code>equals(...)</code>-implementation IS faulty. It can lead to a situation where <code>x.equals(x)</code> returns <code>false</code>. This is exactly the case I described in my answer."},{"owner":{"account_id":3051575,"reputation":940,"user_id":3462060,"display_name":"Jared"},"score":0,"creation_date":1638692056,"post_id":70229569,"comment_id":124151466,"body_markdown":"@Turing85 by &quot;faulty&quot; you mean it&#39;s not thread safe--which was my point.","body":"@Turing85 by &quot;faulty&quot; you mean it&#39;s not thread safe--which was my point."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1638693431,"post_id":70229569,"comment_id":124151667,"body_markdown":"@Jared No, by faulty I mean it violates the contract. As I have shown in my answer, this can be achieved without concurrency. The violation is in the question itself: &quot;*can a mutable object not equal itself?*&quot; - yes, but this inherently breaks the contract of `equals(...)`.","body":"@Jared No, by faulty I mean it violates the contract. As I have shown in my answer, this can be achieved without concurrency. The violation is in the question itself: &quot;<i>can a mutable object not equal itself?</i>&quot; - yes, but this inherently breaks the contract of <code>equals(...)</code>."},{"owner":{"account_id":3051575,"reputation":940,"user_id":3462060,"display_name":"Jared"},"score":0,"creation_date":1638694062,"post_id":70229569,"comment_id":124151771,"body_markdown":"@Turing85 I think we&#39;re talking &quot;at&quot; each other now (probably mostly my fault, sorry). I think (think) you&#39;re saying that we _cannot_ have an object for which $o.equals(o) = false$ because it  violates the definition of equals() method and therefore won&#39;t behave as an object (like we expect). My question is &quot;who cares about a method contract&quot;, are we allowed to do this? Then answer is yes (you trivially gave an example, imo) but even if we are &quot;sane&quot;, we can still easily violate this contract with mutable objects.","body":"@Turing85 I think we&#39;re talking &quot;at&quot; each other now (probably mostly my fault, sorry). I think (think) you&#39;re saying that we <i>cannot</i> have an object for which $o.equals(o) = false$ because it  violates the definition of equals() method and therefore won&#39;t behave as an object (like we expect). My question is &quot;who cares about a method contract&quot;, are we allowed to do this? Then answer is yes (you trivially gave an example, imo) but even if we are &quot;sane&quot;, we can still easily violate this contract with mutable objects."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1638694256,"post_id":70229569,"comment_id":124151800,"body_markdown":"@Jared &quot;*My question is &quot;who cares about a method contract&quot;, are we allowed to do this? Then answer is yes (you trivially gave an example, imo) but even if we are &quot;sane&quot;, we can still easily violate this contract with mutable objects.*&quot; - Agreed 100%. The contract of `equals(...)` as documented cannot be enforced by the runtime, thus it is documented. And yes: incorrect `equals(...)`-implementations are easy to not notice (until the program begins acting weirdly).","body":"@Jared &quot;<i>My question is &quot;who cares about a method contract&quot;, are we allowed to do this? Then answer is yes (you trivially gave an example, imo) but even if we are &quot;sane&quot;, we can still easily violate this contract with mutable objects.</i>&quot; - Agreed 100%. The contract of <code>equals(...)</code> as documented cannot be enforced by the runtime, thus it is documented. And yes: incorrect <code>equals(...)</code>-implementations are easy to not notice (until the program begins acting weirdly)."},{"owner":{"account_id":152400,"reputation":240438,"user_id":366904,"accept_rate":82,"display_name":"Cody Gray - on strike"},"score":1,"creation_date":1638712441,"post_id":70229569,"comment_id":124155627,"body_markdown":"Answers do not belong in questions! Do not edit the answer into the question. You can update the question with new information, but do not add the answer into the question. Please take the [tour].","body":"Answers do not belong in questions! Do not edit the answer into the question. You can update the question with new information, but do not add the answer into the question. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a>."},{"owner":{"account_id":152400,"reputation":240438,"user_id":366904,"accept_rate":82,"display_name":"Cody Gray - on strike"},"score":1,"creation_date":1638713071,"post_id":70229569,"comment_id":124155783,"body_markdown":"You cannot delete a question that has been answered. Comments are regularly deleted, especially those that are obsolete or provide no useful information. There was no reason for me to keep comments that were based purely on a misunderstanding.","body":"You cannot delete a question that has been answered. Comments are regularly deleted, especially those that are obsolete or provide no useful information. There was no reason for me to keep comments that were based purely on a misunderstanding."}],"answers":[{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1638689795,"creation_date":1638658725,"answer_id":70230179,"question_id":70229569,"body_markdown":"[The documentation of `Object::equals`][ObjectEqualsApi] clearly states that:\r\n\r\n&gt; ... \r\n&gt; \r\n&gt; The `equals` method implements an equivalence relation on non-null object references: \r\n&gt; \r\n&gt; - It is reflexive: for any non-null reference value `x`, `x.equals(x)` should return `true`.\r\n&gt; \r\n&gt; ...\r\n\r\nWhile we can implement `equals(...)` in a way that violates this contract (as was mentioned by [khelwood][khelwood] in [this comment][khelwoodComment]), it will have consequences. Collection [`CopyOnWriteArraySet`][CopyOnWriteArraySetApi], for example, will not function properly:\r\n\r\n    import java.util.concurrent.CopyOnWriteArraySet;\r\n    \r\n    class Ideone {\r\n      public static void main(String[] args) {\r\n        final CopyOnWriteArraySet&lt;Foo&gt; foos = new CopyOnWriteArraySet&lt;&gt;();\r\n        final Foo foo = new Foo();\r\n        foos.add(foo);\r\n        System.out.println(foos.size()); // prints &quot;1&quot;\r\n        foos.add(foo);\r\n        System.out.println(foos.size()); // prints &quot;2&quot;\r\n      }\r\n    }\r\n    \r\n    class Foo {\r\n      @Override\r\n      public boolean equals(Object o) {\r\n        return false;\r\n      }\r\n    }\r\n\r\n[&lt;kbd&gt;Ideone demo&lt;/kbd&gt;][Ideone]\r\n\r\n(This is a variant of the code I used in my answer to [this question][betaRideQuestion] by [betaRide][betaRide])\r\n\r\n---\r\nThe collection `CopyOnWriteArraySet` will behave as expected when we remove the (faulty) implementation of `equals(...)` in `Foo` and use the default `equals(...)`-implementation from `Object` instead:\r\n\r\n    class Foo {\r\n    }\r\n\r\n[&lt;kbd&gt;Ideone demo&lt;/kbd&gt;][Idetwo]\r\n\r\n[ObjectEqualsApi]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\r\n\r\n[khelwood]: https://stackoverflow.com/users/3890632/khelwood\r\n\r\n[khelwoodComment]: https://stackoverflow.com/questions/70229569/does-a-mutable-java-object-equal-itself/70230179?noredirect=1#comment124147562_70229569\r\n\r\n[CopyOnWriteArraySetApi]: https://download.java.net/java/early_access/panama/docs/api/java.base/java/util/concurrent/CopyOnWriteArrayList.html\r\n\r\n[Ideone]: https://ideone.com/iDnhOb\r\n\r\n[betaRideQuestion]: https://stackoverflow.com/questions/63957173/is-it-ok-to-change-a-value-that-is-used-in-compareto-in-a-treeset\r\n\r\n[betaRide]: https://stackoverflow.com/users/671639/betaride\r\n\r\n[Idetwo]: https://ideone.com/pPTk5s\r\n","title":"Does a mutable Java object equal itself?","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\">The documentation of <code>Object::equals</code></a> clearly states that:</p>\n<blockquote>\n<p>...</p>\n<p>The <code>equals</code> method implements an equivalence relation on non-null object references:</p>\n<ul>\n<li>It is reflexive: for any non-null reference value <code>x</code>, <code>x.equals(x)</code> should return <code>true</code>.</li>\n</ul>\n<p>...</p>\n</blockquote>\n<p>While we can implement <code>equals(...)</code> in a way that violates this contract (as was mentioned by <a href=\"https://stackoverflow.com/users/3890632/khelwood\">khelwood</a> in <a href=\"https://stackoverflow.com/questions/70229569/does-a-mutable-java-object-equal-itself/70230179?noredirect=1#comment124147562_70229569\">this comment</a>), it will have consequences. Collection <a href=\"https://download.java.net/java/early_access/panama/docs/api/java.base/java/util/concurrent/CopyOnWriteArrayList.html\" rel=\"nofollow noreferrer\"><code>CopyOnWriteArraySet</code></a>, for example, will not function properly:</p>\n<pre><code>import java.util.concurrent.CopyOnWriteArraySet;\n\nclass Ideone {\n  public static void main(String[] args) {\n    final CopyOnWriteArraySet&lt;Foo&gt; foos = new CopyOnWriteArraySet&lt;&gt;();\n    final Foo foo = new Foo();\n    foos.add(foo);\n    System.out.println(foos.size()); // prints &quot;1&quot;\n    foos.add(foo);\n    System.out.println(foos.size()); // prints &quot;2&quot;\n  }\n}\n\nclass Foo {\n  @Override\n  public boolean equals(Object o) {\n    return false;\n  }\n}\n</code></pre>\n<p><a href=\"https://ideone.com/iDnhOb\" rel=\"nofollow noreferrer\"><kbd>Ideone demo</kbd></a></p>\n<p>(This is a variant of the code I used in my answer to <a href=\"https://stackoverflow.com/questions/63957173/is-it-ok-to-change-a-value-that-is-used-in-compareto-in-a-treeset\">this question</a> by <a href=\"https://stackoverflow.com/users/671639/betaride\">betaRide</a>)</p>\n<hr />\n<p>The collection <code>CopyOnWriteArraySet</code> will behave as expected when we remove the (faulty) implementation of <code>equals(...)</code> in <code>Foo</code> and use the default <code>equals(...)</code>-implementation from <code>Object</code> instead:</p>\n<pre><code>class Foo {\n}\n</code></pre>\n<p><a href=\"https://ideone.com/pPTk5s\" rel=\"nofollow noreferrer\"><kbd>Ideone demo</kbd></a></p>\n"}],"owner":{"account_id":3051575,"reputation":940,"user_id":3462060,"display_name":"Jared"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1638690470,"accepted_answer_id":70230179,"answer_count":1,"score":-4,"last_activity_date":1638714678,"creation_date":1638652861,"question_id":70229569,"body_markdown":"I was thinking about mutable objects and how they&#39;re weird (but very cool).\r\n\r\nQuestion: can a mutable object not equal itself?\r\n\r\nOnly caveat here is that obviously you must override `equals` method, otherwise the default checks pointer equality which will (obviously) always be satisfied.\r\n\r\n**Edit to Question**\r\n\r\nAlright, I&#39;ve thoroughly confused everyone, take a look at this program:\r\n\r\n    import java.util.Random;\r\n\r\n    public class EqualsTest {\r\n    \tprivate static final Random RANDOM = new Random(System.currentTimeMillis());\r\n\r\n    \tprivate int value = 0;\r\n\r\n    \tpublic static void main(String... args) {\r\n    \t\tSystem.out.println(&quot;Starting program...&quot;);\r\n    \t\tfinal EqualsTest test = new EqualsTest();\r\n    \t\tfinal Thread modify = new Thread(new Runnable() {\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\twhile (true)\r\n    \t\t\t\t\ttest.value = RANDOM.nextInt(Integer.MAX_VALUE);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tfinal Thread equals = new Thread(new Runnable() {\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\twhile (true)\r\n    \t\t\t\t\tif (!test.equals(test)) {\r\n    \t\t\t\t\t\tSystem.out.println(&quot;test didn&#39;t equal test&quot;);\r\n    \t\t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n\r\n    \t\tmodify.start();\r\n    \t\tequals.start();\r\n    \t}\r\n\r\n    \t@Override\r\n    \tpublic boolean equals(Object e) {\r\n    \t\tif (!(e instanceof EqualsTest))\r\n    \t\t\treturn false;\r\n    \t\tfinal EqualsTest obj = (EqualsTest) e;\r\n    \t\treturn this.value == obj.value;\r\n    \t}\r\n    }\r\n\r\n","title":"Does a mutable Java object equal itself?","body":"<p>I was thinking about mutable objects and how they're weird (but very cool).</p>\n<p>Question: can a mutable object not equal itself?</p>\n<p>Only caveat here is that obviously you must override <code>equals</code> method, otherwise the default checks pointer equality which will (obviously) always be satisfied.</p>\n<p><strong>Edit to Question</strong></p>\n<p>Alright, I've thoroughly confused everyone, take a look at this program:</p>\n<pre><code>import java.util.Random;\n\npublic class EqualsTest {\n    private static final Random RANDOM = new Random(System.currentTimeMillis());\n\n    private int value = 0;\n\n    public static void main(String... args) {\n        System.out.println(&quot;Starting program...&quot;);\n        final EqualsTest test = new EqualsTest();\n        final Thread modify = new Thread(new Runnable() {\n            public void run() {\n                while (true)\n                    test.value = RANDOM.nextInt(Integer.MAX_VALUE);\n            }\n        });\n        final Thread equals = new Thread(new Runnable() {\n            public void run() {\n                while (true)\n                    if (!test.equals(test)) {\n                        System.out.println(&quot;test didn't equal test&quot;);\n                    }\n            }\n        });\n\n        modify.start();\n        equals.start();\n    }\n\n    @Override\n    public boolean equals(Object e) {\n        if (!(e instanceof EqualsTest))\n            return false;\n        final EqualsTest obj = (EqualsTest) e;\n        return this.value == obj.value;\n    }\n}\n</code></pre>\n"},{"tags":["java","datetime","time"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1638718966,"post_id":70234942,"comment_id":124157089,"body_markdown":"You’re learning Java in 2021 and trying to use `SimpleDateFormat`?! **Stop!! Immediately!** The rest of us stopped using that class many years ago because it’s so terribly troublesome. And because the replacements for it and `Date` and `TimeZone` came out with java.time, the modern Java date and time API, early in 2014, seven and a half years ago.","body":"You’re learning Java in 2021 and trying to use <code>SimpleDateFormat</code>?! <b>Stop!! Immediately!</b> The rest of us stopped using that class many years ago because it’s so terribly troublesome. And because the replacements for it and <code>Date</code> and <code>TimeZone</code> came out with java.time, the modern Java date and time API, early in 2014, seven and a half years ago."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1638720250,"post_id":70234942,"comment_id":124157409,"body_markdown":"Also a `Date` object hasn’t got a time zone, so cannot be (or not be) in UTC. A modern `OffsetDateTime` or `ZonedDateTime` can be un UTC. See [the good answer by Roland Kreuzer](https://stackoverflow.com/a/70235279/5772882).","body":"Also a <code>Date</code> object hasn’t got a time zone, so cannot be (or not be) in UTC. A modern <code>OffsetDateTime</code> or <code>ZonedDateTime</code> can be un UTC. See <a href=\"https://stackoverflow.com/a/70235279/5772882\">the good answer by Roland Kreuzer</a>."}],"answers":[{"tags":[],"owner":{"account_id":17724496,"reputation":922,"user_id":12868634,"display_name":"Roland Kreuzer"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1638714622,"creation_date":1638714287,"answer_id":70235279,"question_id":70234942,"body_markdown":"The java.util.Date class is not optimal to start with. While it looks like a full date from the outside, it actually only represents a timestamp without storing actual timezone information.\r\n\r\nOn Java 8 and later I&#39;d suggest to stick with the better designed java.time.* classes.\r\n\r\n        String dbTime = &quot;01/01/1998 12:30:00&quot;;\r\n        String DATE_FORMAT = &quot;MM/dd/yyyy HH:mm:ss&quot;;\r\n\r\n        // parsed date time without timezone information\r\n        LocalDateTime localDateTime = LocalDateTime.parse(dbTime, DateTimeFormatter.ofPattern(DATE_FORMAT));\r\n\r\n        // local date time at your system&#39;s default time zone\r\n        ZonedDateTime systemZoneDateTime = localDateTime.atZone(ZoneId.systemDefault());\r\n\r\n        // value converted to other timezone while keeping the point in time\r\n        ZonedDateTime utcDateTime = systemZoneDateTime.withZoneSameInstant(ZoneId.of(&quot;UTC&quot;));\r\n\r\n        // timestamp of the original value represented in UTC\r\n        Instant utcTimestamp = systemZoneDateTime.toInstant();\r\n\r\n\r\n        System.out.println(utcDateTime);\r\n        System.out.println(utcTimestamp);\r\n\r\n\r\n\r\nAs you can see from the names alone there are different classes for different use-cases of dates.\r\n\r\njava.time.LocalDateTime for example only represents a date and time without a specific timezone context and therefore can be used to parse your string value directly.\r\n\r\nTo convert timezones, you first have to convert into the a ZonedDateTime, which accepts date, time and timezone. I&#39;ve intialized the sample on &quot;systemDefault&quot;, as on most smaller apps you can use the JVM and OS&#39;es default value to assume the current timezone.\r\nYou could also use ZoneId.of(&quot;America/Los_Angeles&quot;) directly if you want to make sure the value is interpreted as pacific time.\r\n\r\nThis value can be converted into another ZonedDateTime in another timezone, e.g. UTC.\r\n\r\nFor UTC especially you could also use the Instant class, which represents only a UTC timestamp and can also be used as a basis for most other types","title":"How to convert Date string into UTC Date object?","body":"<p>The java.util.Date class is not optimal to start with. While it looks like a full date from the outside, it actually only represents a timestamp without storing actual timezone information.</p>\n<p>On Java 8 and later I'd suggest to stick with the better designed java.time.* classes.</p>\n<pre><code>    String dbTime = &quot;01/01/1998 12:30:00&quot;;\n    String DATE_FORMAT = &quot;MM/dd/yyyy HH:mm:ss&quot;;\n\n    // parsed date time without timezone information\n    LocalDateTime localDateTime = LocalDateTime.parse(dbTime, DateTimeFormatter.ofPattern(DATE_FORMAT));\n\n    // local date time at your system's default time zone\n    ZonedDateTime systemZoneDateTime = localDateTime.atZone(ZoneId.systemDefault());\n\n    // value converted to other timezone while keeping the point in time\n    ZonedDateTime utcDateTime = systemZoneDateTime.withZoneSameInstant(ZoneId.of(&quot;UTC&quot;));\n\n    // timestamp of the original value represented in UTC\n    Instant utcTimestamp = systemZoneDateTime.toInstant();\n\n\n    System.out.println(utcDateTime);\n    System.out.println(utcTimestamp);\n</code></pre>\n<p>As you can see from the names alone there are different classes for different use-cases of dates.</p>\n<p>java.time.LocalDateTime for example only represents a date and time without a specific timezone context and therefore can be used to parse your string value directly.</p>\n<p>To convert timezones, you first have to convert into the a ZonedDateTime, which accepts date, time and timezone. I've intialized the sample on &quot;systemDefault&quot;, as on most smaller apps you can use the JVM and OS'es default value to assume the current timezone.\nYou could also use ZoneId.of(&quot;America/Los_Angeles&quot;) directly if you want to make sure the value is interpreted as pacific time.</p>\n<p>This value can be converted into another ZonedDateTime in another timezone, e.g. UTC.</p>\n<p>For UTC especially you could also use the Instant class, which represents only a UTC timestamp and can also be used as a basis for most other types</p>\n"}],"owner":{"account_id":12633284,"reputation":386,"user_id":9944838,"display_name":"Vijay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5838,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70235279,"answer_count":1,"score":1,"last_activity_date":1638714622,"creation_date":1638712033,"question_id":70234942,"body_markdown":"I&#39;m learning Java and come across this issue. I have a date string with the given format.\r\n\r\n    String dbTime = &quot;01/01/1998 12:30:00&quot;;\r\n    final String DATE_FORMAT = &quot;MM/dd/yyyy HH:mm:ss&quot;;\r\n\r\nNow I wanted to initialize/create a Date object of **UTC** timezone.\r\nFor this, I have tried below code\r\n\r\n        SimpleDateFormat sdfAmerica = new SimpleDateFormat(DATE_FORMAT);\r\n        TimeZone utcTimeZone = TimeZone.getTimeZone(&quot;UTC&quot;);\r\n        sdfAmerica.setTimeZone(utcTimeZone);\r\n\r\n        String sDateInAmerica = sdfAmerica.format(date); // Convert to String first\r\n        Date dateInAmerica = new Date();\r\n        try {\r\n            dateInAmerica = formatter.parse(sDateInAmerica); // Create a new Date object\r\n        } catch (ParseException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\nThis will convert the time into UTC instead of just creating a date object.\r\n\r\n    01/02/1998 23:00:00\r\n\r\nNow I&#39;m confused as to which is the correct approach to convert the time.\r\nI have time in string format and I have to convert it into different formats mainly UTC to PST or PST to UTC.\r\n\r\nAfter some research, I found [this][1] tutorial but was unable to get the expected output.\r\n\r\n\r\n\r\n  [1]: https://mkyong.com/java/java-convert-date-and-time-between-timezone/","title":"How to convert Date string into UTC Date object?","body":"<p>I'm learning Java and come across this issue. I have a date string with the given format.</p>\n<pre><code>String dbTime = &quot;01/01/1998 12:30:00&quot;;\nfinal String DATE_FORMAT = &quot;MM/dd/yyyy HH:mm:ss&quot;;\n</code></pre>\n<p>Now I wanted to initialize/create a Date object of <strong>UTC</strong> timezone.\nFor this, I have tried below code</p>\n<pre><code>    SimpleDateFormat sdfAmerica = new SimpleDateFormat(DATE_FORMAT);\n    TimeZone utcTimeZone = TimeZone.getTimeZone(&quot;UTC&quot;);\n    sdfAmerica.setTimeZone(utcTimeZone);\n\n    String sDateInAmerica = sdfAmerica.format(date); // Convert to String first\n    Date dateInAmerica = new Date();\n    try {\n        dateInAmerica = formatter.parse(sDateInAmerica); // Create a new Date object\n    } catch (ParseException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n<p>This will convert the time into UTC instead of just creating a date object.</p>\n<pre><code>01/02/1998 23:00:00\n</code></pre>\n<p>Now I'm confused as to which is the correct approach to convert the time.\nI have time in string format and I have to convert it into different formats mainly UTC to PST or PST to UTC.</p>\n<p>After some research, I found <a href=\"https://mkyong.com/java/java-convert-date-and-time-between-timezone/\" rel=\"nofollow noreferrer\">this</a> tutorial but was unable to get the expected output.</p>\n"},{"tags":["java","math","conditional-statements"],"comments":[{"owner":{"account_id":13949449,"reputation":757,"user_id":10073327,"display_name":"FailingCoder"},"score":0,"creation_date":1569363584,"post_id":58088800,"comment_id":102570890,"body_markdown":"It&#39;s not working? Please state what it&#39;s supposed to do, and what it&#39;s doing wrong.","body":"It&#39;s not working? Please state what it&#39;s supposed to do, and what it&#39;s doing wrong."},{"owner":{"account_id":12824444,"reputation":1,"user_id":9281326,"display_name":"xAssasinSoulx"},"score":0,"creation_date":1569363899,"post_id":58088800,"comment_id":102570976,"body_markdown":"I edited the question but briefly, this program should find all the 4 digit numbers that the square of the sum of the first and last 2 digits equal the number it self. For example 3025. (30+25)^2 = 3025","body":"I edited the question but briefly, this program should find all the 4 digit numbers that the square of the sum of the first and last 2 digits equal the number it self. For example 3025. (30+25)^2 = 3025"},{"owner":{"account_id":12015092,"reputation":833,"user_id":11218205,"display_name":"Dr Phil"},"score":0,"creation_date":1569364000,"post_id":58088800,"comment_id":102571006,"body_markdown":"From the title it seems that if you have a number in the form of abcd then your conditions should be (a+b)*(a+b)=(d+e)*(d+e)=abde. Sqrt(1000)=31.1 and Sqrt(9999) =99.9. So probably which are larger than a two digit sum. So probably you wanted (ab+de)^2=abce, the loop &quot;while(n != 0)&quot; will never finish since your n is ==i, which is in the range of 1000 .. 9999","body":"From the title it seems that if you have a number in the form of abcd then your conditions should be (a+b)*(a+b)=(d+e)*(d+e)=abde. Sqrt(1000)=31.1 and Sqrt(9999) =99.9. So probably which are larger than a two digit sum. So probably you wanted (ab+de)^2=abce, the loop &quot;while(n != 0)&quot; will never finish since your n is ==i, which is in the range of 1000 .. 9999"},{"owner":{"account_id":12824444,"reputation":1,"user_id":9281326,"display_name":"xAssasinSoulx"},"score":1,"creation_date":1569364311,"post_id":58088800,"comment_id":102571078,"body_markdown":"Yes, what I meant was (ab+cd)^2 = abcd.","body":"Yes, what I meant was (ab+cd)^2 = abcd."},{"owner":{"account_id":12015092,"reputation":833,"user_id":11218205,"display_name":"Dr Phil"},"score":1,"creation_date":1569364333,"post_id":58088800,"comment_id":102571084,"body_markdown":"remove the &quot;while(n != 0){ &quot; and the corresponding closing brace. Avoid comparing doubles with equals. You might get unexpected results.","body":"remove the &quot;while(n != 0){ &quot; and the corresponding closing brace. Avoid comparing doubles with equals. You might get unexpected results."},{"owner":{"account_id":12824444,"reputation":1,"user_id":9281326,"display_name":"xAssasinSoulx"},"score":0,"creation_date":1569364472,"post_id":58088800,"comment_id":102571114,"body_markdown":"Now it works, thank you very much","body":"Now it works, thank you very much"}],"answers":[{"tags":[],"owner":{"account_id":10721114,"reputation":1329,"user_id":7890197,"accept_rate":88,"display_name":"Badda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569363845,"creation_date":1569363845,"answer_id":58088861,"question_id":58088800,"body_markdown":"You are using a loop based on `n` being different from 0, but `n` is never modified during the loop. How would the loop could actually stop.. looping ? May be I&#39;m missing something, but as I see it, `n` will forever be equal to the set value of `i`.\r\n\r\n    while(n != 0)\r\n    {\r\n        remandier1 = n % 100;\r\n        remandier2 = n /100;\r\n        finalanswer = remandier1 + remandier2;\r\n        result1 = Math.pow(finalanswer, 2);\r\n        // add something to stop the loop\r\n        n = n - 1; // for example\r\n    }","title":"find all four digit numbers for which the square of the sum of the first two digits and the last two digits equal the number itself","body":"<p>You are using a loop based on <code>n</code> being different from 0, but <code>n</code> is never modified during the loop. How would the loop could actually stop.. looping ? May be I'm missing something, but as I see it, <code>n</code> will forever be equal to the set value of <code>i</code>.</p>\n\n<pre><code>while(n != 0)\n{\n    remandier1 = n % 100;\n    remandier2 = n /100;\n    finalanswer = remandier1 + remandier2;\n    result1 = Math.pow(finalanswer, 2);\n    // add something to stop the loop\n    n = n - 1; // for example\n}\n</code></pre>\n"}],"owner":{"account_id":12824444,"reputation":1,"user_id":9281326,"display_name":"xAssasinSoulx"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":924,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1611429380,"answer_count":1,"score":-2,"last_activity_date":1638714397,"creation_date":1569363408,"question_id":58088800,"body_markdown":"My code should execute all 4 digit numbers, the square of the sum of the first two digits and the last two digits should be equal to the number it self but mine it does nothing. What am I doing wrong?\r\n\r\n```\r\nfor (int i = 1000; i &lt;= 9999; i++){\r\n    int n = i;\r\n    int remandier1, remandier2,finalanswer;\r\n    double result1=0;\r\n    while(n != 0){\r\n        remandier1 = n % 100;\r\n        remandier2 = n /100;\r\n        finalanswer = remandier1 + remandier2;\r\n        result1 = Math.pow(finalanswer, 2);\r\n    }\r\n    if (result1 == n){\r\n        System.out.println(i);\r\n    }\r\n}\r\n```","title":"find all four digit numbers for which the square of the sum of the first two digits and the last two digits equal the number itself","body":"<p>My code should execute all 4 digit numbers, the square of the sum of the first two digits and the last two digits should be equal to the number it self but mine it does nothing. What am I doing wrong?</p>\n<pre><code>for (int i = 1000; i &lt;= 9999; i++){\n    int n = i;\n    int remandier1, remandier2,finalanswer;\n    double result1=0;\n    while(n != 0){\n        remandier1 = n % 100;\n        remandier2 = n /100;\n        finalanswer = remandier1 + remandier2;\n        result1 = Math.pow(finalanswer, 2);\n    }\n    if (result1 == n){\n        System.out.println(i);\n    }\n}\n</code></pre>\n"},{"tags":["java","hash","chained"],"comments":[{"owner":{"account_id":21938933,"reputation":15,"user_id":16219737,"display_name":"RainyDay"},"score":0,"creation_date":1638713266,"post_id":70234874,"comment_id":124155835,"body_markdown":"There is only one class called ```ChainHash```. The codes are in the same packages, so there shouldn&#39;t be a problem using them....right?","body":"There is only one class called <code>ChainHash</code>. The codes are in the same packages, so there shouldn&#39;t be a problem using them....right?"}],"answers":[{"tags":[],"owner":{"account_id":8760742,"reputation":2047,"user_id":13527856,"display_name":"MarcoLucidi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638714363,"creation_date":1638714363,"answer_id":70235292,"question_id":70234874,"body_markdown":"your `ChainHash` methods are defined *inside* the `Node` class, that&#39;s why they can&#39;t be found.\r\n\r\nI think it&#39;s a &quot;braces&quot; error:\r\n\r\n- add a `}` after\r\n\r\n        V getValue() {\r\n            return data;\r\n        }\r\n\r\n  to &quot;end&quot; the `Node` class;\r\n\r\n- remove a `}` at the bottom of `ChainHash`;\r\n\r\n- remove `void` from the `ChainHash` constructor.\r\n\r\nafter these fixes the code should compile.","title":"Chained Hashing Program; the method is undefined for the type error","body":"<p>your <code>ChainHash</code> methods are defined <em>inside</em> the <code>Node</code> class, that's why they can't be found.</p>\n<p>I think it's a &quot;braces&quot; error:</p>\n<ul>\n<li><p>add a <code>}</code> after</p>\n<pre><code>  V getValue() {\n      return data;\n  }\n</code></pre>\n<p>to &quot;end&quot; the <code>Node</code> class;</p>\n</li>\n<li><p>remove a <code>}</code> at the bottom of <code>ChainHash</code>;</p>\n</li>\n<li><p>remove <code>void</code> from the <code>ChainHash</code> constructor.</p>\n</li>\n</ul>\n<p>after these fixes the code should compile.</p>\n"}],"owner":{"account_id":21938933,"reputation":15,"user_id":16219737,"display_name":"RainyDay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70235292,"answer_count":1,"score":0,"last_activity_date":1638714363,"creation_date":1638711603,"question_id":70234874,"body_markdown":"I have made multiple methods, and they all have the error called\r\n\r\n    The method add(int, ChainHashEx.Data) is undefined for the type ChainHash&lt;Integer,ChainHashEx.Data&gt;\r\n\r\nand there is another problem that is \r\n\r\n    The constructor ChainHash&lt;Integer,ChainHashEx.Data&gt;(int) is undefined\r\n\r\nWhy are the methods undefined? Is there something wrong with the class? \r\n\r\nOr is there something wrong in someplace I am ignorant about.\r\n\r\nadding code and the class with methods underneath. \r\n\r\ncode ChainHashEx :\r\n\r\n    package week14;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class ChainHashEx {\r\n    \tstatic Scanner sc = new Scanner(System.in);\r\n    \t\r\n    \tstatic class Data {\r\n    \t\tprivate int no;\r\n    \t\tprivate String name;\r\n    \t\t\r\n    \t\tpublic int keyCode()\t{\r\n    \t\t\treturn no;\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic String toString() {\r\n    \t\t\treturn name;\r\n    \t\t}\r\n    \t\t\r\n    \t\tvoid scanData(String guide, int sw) {\r\n    \t\t\tSystem.out.println(guide + &quot;enter data to add&quot;);\r\n    \t\t\tif (sw == 1) {\r\n    \t\t\t\tSystem.out.print(&quot;number : &quot;);\r\n    \t\t\t\tno = sc.nextInt();\r\n    \t\t\t\tSystem.out.print(&quot;name : &quot;);\r\n    \t\t\t\tname = sc.next(); \r\n    \t\t\t} else {\r\n    \t\t\t\tSystem.out.print(&quot;number : &quot;);\r\n    \t\t\t\tno = sc.nextInt();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tstatic  void printMenu() {\r\n    \t\tSystem.out.println(&quot;1. add 2. delete 3. search 4. print 5. exit &quot;);\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tint menu;\r\n    \t\tData data;\r\n    \t\tData temp = new Data();\r\n    \t\t\r\n    \t\tChainHash&lt;Integer, Data&gt; hash = new ChainHash&lt;Integer, Data&gt;(13);\r\n    \t\t \r\n    \t\tdo {\r\n    \t\t\tprintMenu();\r\n    \t\t\tSystem.out.print(&quot;select menu: &quot;);\r\n    \t\t\tswitch(menu = sc.nextInt()) {\r\n    \t\t\tcase 1 :\r\n    \t\t\t\tdata = new Data();\r\n    \t\t\t\tdata.scanData(&quot;add&quot;, 1);\r\n    \t\t\t\thash.add(data.keyCode(), data);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase 2 : \r\n    \t\t\t\ttemp.scanData(&quot;delete&quot;, 2);\r\n    \t\t\t\thash.remove(temp.keyCode());\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase 3 : \r\n    \t\t\t\ttemp.scanData(&quot;search&quot;, 2);\r\n    \t\t\t\tData t = hash.search(temp.keyCode());\r\n    \t\t\t\tif (t != null)\r\n    \t\t\t\t\tSystem.out.println(&quot;searched : &quot; + t);\r\n    \t\t\t\telse\r\n    \t\t\t\t\tSystem.out.println(&quot;the data does not exist&quot;);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase 4 : \r\n    \t\t\t\thash.dump();\r\n    \t\t\t\tbreak;\t\t\t\r\n    \t\t\t}\t\t\t\r\n    \t\t} while (menu != 5);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;stop program&quot;);\r\n    \t}\r\n    }\r\n\r\nclass ChainHash : \r\n\r\n    package week14;\r\n    \r\n    \r\n    public class ChainHash&lt;K,V&gt; {\r\n    \tclass Node&lt;K, V&gt; {\r\n    \t\tprivate K key;\r\n    \t\tprivate V data;\r\n    \t\tprivate Node&lt;K, V&gt; next;\r\n    \r\n    \r\n    \t\tpublic Node(K key, V data, Node&lt;K, V&gt; next) {\r\n    \t\t\tthis.key = key;\r\n    \t\t\tthis.data = data; \r\n    \t\t\tthis.next = next;\r\n    \t\t}\r\n    \t\t\r\n    \t\tK getKey() {\r\n    \t\t\treturn key;\r\n    \t\t}\t\r\n    \t\t\r\n    \t\tV getValue() {\r\n    \t\t\treturn data;\r\n    \t\t}\r\n    \t\t\r\n    \t\tprivate int size;\r\n    \t\tprivate Node&lt;K,V&gt;[] table;\r\n    \t\t\r\n    \t\tpublic void ChainHash(int capacity) { \r\n    \t\t\ttry {\r\n    \t\t\t\ttable = new Node[capacity];\r\n    \t\t\t\tthis.size = capacity; \r\n    \t\t\t} catch (OutOfMemoryError e) {\r\n    \t\t\t\tthis.size = 0;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic int hashValue(Object key) {\r\n    \t\t\treturn key.hashCode() % size;\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic V search(K key)\t{\r\n    \t\t\tint hash = hashValue(key);\r\n    \t\t\tNode&lt;K,V&gt; p = table[hash];\r\n    \t\t\t\r\n    \t\t\twhile (p != null) {\r\n    \t\t\t\tif (p.getKey().equals(key))\r\n    \t\t\t\t\treturn p.getValue();\r\n    \t\t\t\r\n    \t\t\t\tp = p.next;\r\n    \t\t\t}\r\n    \t\t\r\n    \t\t\treturn null;\t\r\n    \t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic int add(K key, V data)\t{\r\n    \t\t\tint hash = hashValue(key);\r\n    \t\t\tNode&lt;K,V&gt; p = table[hash];\r\n    \t\t\t\r\n    \t\t\twhile (p != null) {\r\n    \t\t\t\tif (p.getKey().equals(key))\r\n    \t\t\t\t\treturn 1;\r\n    \t\t\t\r\n    \t\t\t\tp = p.next;\r\n    \t\t\t}\r\n    \t\t\r\n    \t\t\tNode&lt;K,V&gt; temp = new Node&lt;K,V&gt;(key, data, table[hash]);\r\n    \t\t\ttable[hash] = temp;\r\n    \t\t\treturn 0; \r\n    \t\t}\t\t\r\n    \t\t\r\n    \t\tpublic void dump() {\r\n    \t\t\tfor (int i=0; i&lt;size; i++) {\r\n    \t\t\t\tNode&lt;K,V&gt; p = table[i];\r\n    \t\t\t\tSystem.out.printf(&quot;%02d &quot;, i);\r\n    \t\t\t\t\r\n    \t\t\t\twhile (p != null) {\r\n    \t\t\t\t\tSystem.out.printf(&quot;-&gt; %s (%s) &quot;, p.getKey(), p.getValue());\r\n    \t\t\t\t\tp = p.next;\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tSystem.out.println();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic int remove(K key)\t{\r\n    \t\t\tint hash = hashValue(key);\r\n    \t\t\tNode&lt;K,V&gt; p = table[hash];\r\n    \t\t\tNode&lt;K,V&gt; pp = null;\r\n    \t\t\t\r\n    \t\t\twhile (p != null) {\r\n    \t\t\t\tif (p.getKey().equals(key)) {\r\n    \t\t\t\t\tif (pp == null)\r\n    \t\t\t\t\t\ttable[hash] = p.next;\r\n    \t\t\t\t\telse \r\n    \t\t\t\t\t\tpp.next = p.next;\r\n    \t\t\t\t\r\n    \t\t\t\t\treturn 0;\r\n    \t\t\t\t}\r\n    \t\t\t\r\n    \t\t\t\tpp = p;\r\n    \t\t\t\tp = p.next;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\treturn 1;\t\r\n    \t\t}\r\n    \t}\t\r\n    }\r\n","title":"Chained Hashing Program; the method is undefined for the type error","body":"<p>I have made multiple methods, and they all have the error called</p>\n<pre><code>The method add(int, ChainHashEx.Data) is undefined for the type ChainHash&lt;Integer,ChainHashEx.Data&gt;\n</code></pre>\n<p>and there is another problem that is</p>\n<pre><code>The constructor ChainHash&lt;Integer,ChainHashEx.Data&gt;(int) is undefined\n</code></pre>\n<p>Why are the methods undefined? Is there something wrong with the class?</p>\n<p>Or is there something wrong in someplace I am ignorant about.</p>\n<p>adding code and the class with methods underneath.</p>\n<p>code ChainHashEx :</p>\n<pre><code>package week14;\n\nimport java.util.Scanner;\n\npublic class ChainHashEx {\n    static Scanner sc = new Scanner(System.in);\n    \n    static class Data {\n        private int no;\n        private String name;\n        \n        public int keyCode()    {\n            return no;\n        }\n        \n        public String toString() {\n            return name;\n        }\n        \n        void scanData(String guide, int sw) {\n            System.out.println(guide + &quot;enter data to add&quot;);\n            if (sw == 1) {\n                System.out.print(&quot;number : &quot;);\n                no = sc.nextInt();\n                System.out.print(&quot;name : &quot;);\n                name = sc.next(); \n            } else {\n                System.out.print(&quot;number : &quot;);\n                no = sc.nextInt();\n            }\n        }\n    }\n    \n    static  void printMenu() {\n        System.out.println(&quot;1. add 2. delete 3. search 4. print 5. exit &quot;);\n    }\n    \n    public static void main(String[] args) {\n        int menu;\n        Data data;\n        Data temp = new Data();\n        \n        ChainHash&lt;Integer, Data&gt; hash = new ChainHash&lt;Integer, Data&gt;(13);\n         \n        do {\n            printMenu();\n            System.out.print(&quot;select menu: &quot;);\n            switch(menu = sc.nextInt()) {\n            case 1 :\n                data = new Data();\n                data.scanData(&quot;add&quot;, 1);\n                hash.add(data.keyCode(), data);\n                break;\n            case 2 : \n                temp.scanData(&quot;delete&quot;, 2);\n                hash.remove(temp.keyCode());\n                break;\n            case 3 : \n                temp.scanData(&quot;search&quot;, 2);\n                Data t = hash.search(temp.keyCode());\n                if (t != null)\n                    System.out.println(&quot;searched : &quot; + t);\n                else\n                    System.out.println(&quot;the data does not exist&quot;);\n                break;\n            case 4 : \n                hash.dump();\n                break;          \n            }           \n        } while (menu != 5);\n        \n        System.out.println(&quot;stop program&quot;);\n    }\n}\n</code></pre>\n<p>class ChainHash :</p>\n<pre><code>package week14;\n\n\npublic class ChainHash&lt;K,V&gt; {\n    class Node&lt;K, V&gt; {\n        private K key;\n        private V data;\n        private Node&lt;K, V&gt; next;\n\n\n        public Node(K key, V data, Node&lt;K, V&gt; next) {\n            this.key = key;\n            this.data = data; \n            this.next = next;\n        }\n        \n        K getKey() {\n            return key;\n        }   \n        \n        V getValue() {\n            return data;\n        }\n        \n        private int size;\n        private Node&lt;K,V&gt;[] table;\n        \n        public void ChainHash(int capacity) { \n            try {\n                table = new Node[capacity];\n                this.size = capacity; \n            } catch (OutOfMemoryError e) {\n                this.size = 0;\n            }\n        }\n        \n        public int hashValue(Object key) {\n            return key.hashCode() % size;       \n        }\n        \n        public V search(K key)  {\n            int hash = hashValue(key);\n            Node&lt;K,V&gt; p = table[hash];\n            \n            while (p != null) {\n                if (p.getKey().equals(key))\n                    return p.getValue();\n            \n                p = p.next;\n            }\n        \n            return null;    \n        \n        }\n        \n        public int add(K key, V data)   {\n            int hash = hashValue(key);\n            Node&lt;K,V&gt; p = table[hash];\n            \n            while (p != null) {\n                if (p.getKey().equals(key))\n                    return 1;\n            \n                p = p.next;\n            }\n        \n            Node&lt;K,V&gt; temp = new Node&lt;K,V&gt;(key, data, table[hash]);\n            table[hash] = temp;\n            return 0; \n        }       \n        \n        public void dump() {\n            for (int i=0; i&lt;size; i++) {\n                Node&lt;K,V&gt; p = table[i];\n                System.out.printf(&quot;%02d &quot;, i);\n                \n                while (p != null) {\n                    System.out.printf(&quot;-&gt; %s (%s) &quot;, p.getKey(), p.getValue());\n                    p = p.next;\n                }\n                \n                System.out.println();\n            }\n        }\n        \n        public int remove(K key)    {\n            int hash = hashValue(key);\n            Node&lt;K,V&gt; p = table[hash];\n            Node&lt;K,V&gt; pp = null;\n            \n            while (p != null) {\n                if (p.getKey().equals(key)) {\n                    if (pp == null)\n                        table[hash] = p.next;\n                    else \n                        pp.next = p.next;\n                \n                    return 0;\n                }\n            \n                pp = p;\n                p = p.next;\n            }\n            \n            return 1;   \n        }\n    }   \n}\n</code></pre>\n"},{"tags":["java","string","file","path","contains"],"comments":[{"owner":{"account_id":20240228,"reputation":496,"user_id":14844306,"display_name":"Ben Anderson"},"score":0,"creation_date":1638714484,"post_id":70235188,"comment_id":124156117,"body_markdown":"What data are you searching for?","body":"What data are you searching for?"},{"owner":{"account_id":22465273,"reputation":9,"user_id":16666525,"display_name":"Vincenzo"},"score":0,"creation_date":1638715220,"post_id":70235188,"comment_id":124156286,"body_markdown":"String. The forth line &quot;testi&quot;.","body":"String. The forth line &quot;testi&quot;."},{"owner":{"account_id":20240228,"reputation":496,"user_id":14844306,"display_name":"Ben Anderson"},"score":0,"creation_date":1638715574,"post_id":70235188,"comment_id":124156371,"body_markdown":"So every time it asks you for input to search for you say `testi`? Or are you saying that when you do it for the fourth line it doesn&#39;t work?","body":"So every time it asks you for input to search for you say <code>testi</code>? Or are you saying that when you do it for the fourth line it doesn&#39;t work?"},{"owner":{"account_id":22465273,"reputation":9,"user_id":16666525,"display_name":"Vincenzo"},"score":0,"creation_date":1638716051,"post_id":70235188,"comment_id":124156472,"body_markdown":"For example it asks me what i am searching for, I input &quot;testi&quot; and cause is there it should say &quot;Found!&quot;. But it prints &quot;Not found.&quot; For the first three lines with ada, arto and leena it works perfectly fine.","body":"For example it asks me what i am searching for, I input &quot;testi&quot; and cause is there it should say &quot;Found!&quot;. But it prints &quot;Not found.&quot; For the first three lines with ada, arto and leena it works perfectly fine."},{"owner":{"account_id":20240228,"reputation":496,"user_id":14844306,"display_name":"Ben Anderson"},"score":0,"creation_date":1638716934,"post_id":70235188,"comment_id":124156646,"body_markdown":"Have you tried printing out the value of `writer` each time?","body":"Have you tried printing out the value of <code>writer</code> each time?"},{"owner":{"account_id":22465273,"reputation":9,"user_id":16666525,"display_name":"Vincenzo"},"score":0,"creation_date":1638717541,"post_id":70235188,"comment_id":124156775,"body_markdown":"No, how would it help me? To be precise, how should I do that. The whole program just can print Found or Not found","body":"No, how would it help me? To be precise, how should I do that. The whole program just can print Found or Not found"},{"owner":{"account_id":20240228,"reputation":496,"user_id":14844306,"display_name":"Ben Anderson"},"score":0,"creation_date":1638717685,"post_id":70235188,"comment_id":124156810,"body_markdown":"For debugging purposes so you can see the values you are comparing in the code to investigate why it doesn&#39;t think they match. You can add `System.out.println(searchedFor + &quot; != &quot; + writer);` Just after the line printing &#39;Not found.&#39;","body":"For debugging purposes so you can see the values you are comparing in the code to investigate why it doesn&#39;t think they match. You can add <code>System.out.println(searchedFor + &quot; != &quot; + writer);</code> Just after the line printing &#39;Not found.&#39;"},{"owner":{"account_id":22465273,"reputation":9,"user_id":16666525,"display_name":"Vincenzo"},"score":0,"creation_date":1638719184,"post_id":70235188,"comment_id":124157144,"body_markdown":"It tells me:\ntesti != ada\n\nSo he compares it with ada? The first name? How can I solvethis, it makes no sense for me right now.","body":"It tells me: testi != ada  So he compares it with ada? The first name? How can I solvethis, it makes no sense for me right now."},{"owner":{"account_id":20240228,"reputation":496,"user_id":14844306,"display_name":"Ben Anderson"},"score":1,"creation_date":1638719369,"post_id":70235188,"comment_id":124157188,"body_markdown":"What you are doing is going through each one and comparing it against your input each time. If you move the line where you take the input to search for outside the while loop I think you will achieve what you are looking for if I understand your intention correctly.","body":"What you are doing is going through each one and comparing it against your input each time. If you move the line where you take the input to search for outside the while loop I think you will achieve what you are looking for if I understand your intention correctly."},{"owner":{"account_id":22465273,"reputation":9,"user_id":16666525,"display_name":"Vincenzo"},"score":0,"creation_date":1638720015,"post_id":70235188,"comment_id":124157353,"body_markdown":"Thank you, I will try this later.","body":"Thank you, I will try this later."}],"owner":{"account_id":22465273,"reputation":9,"user_id":16666525,"display_name":"Vincenzo"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638713675,"creation_date":1638713675,"question_id":70235188,"body_markdown":"My program has to read a **txt file with for lines of strings**, and than search for a name contained in the txt file. If found it has to print &quot;Found!&quot; if not found &quot;Not found.&quot;. It works fine, execpt that it doesn&#39;t recognize everything beyond the forth line in the txt file and prints &quot;Not found.&quot;.\r\n\r\n```java\r\nimport java.nio.file.Paths;\r\nimport java.util.Scanner;\r\n\r\npublic class IsItInTheFile {\r\n\r\n    public static void main(String[] args) {\r\n        // initialize Scanner and ArrayList list\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        // declare which file must be read\r\n        System.out.println(&quot;Name of the file:&quot;);\r\n        String fileName = scanner.nextLine();\r\n\r\n\r\n        try (Scanner file = new Scanner(Paths.get(fileName))) {\r\n\r\n            while (true) {\r\n                System.out.println(&quot;Search for:&quot;);\r\n                String searchedFor = scanner.nextLine();\r\n                String writer = file.nextLine();\r\n                if (writer.contains(searchedFor)) {\r\n                    System.out.println(&quot;Found!&quot;);\r\n                    break;\r\n                } else if (!writer.contains(searchedFor)){\r\n                    System.out.println(&quot;Not found.&quot;);\r\n                    break;\r\n                }\r\n            }\r\n\r\n        } catch(Exception e){\r\n            System.out.println(&quot;Reading the file &quot; + fileName + &quot; failed.&quot;);\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\nthe names.txt file looks like this:\r\n\r\n```\r\nada\r\narto\r\nleena\r\ntesti\r\n\r\n```\r\n\r\nI can&#39;t understand why the forth line and beyond says &quot;Not Found.&quot; even if it is correctly implemented and exactly written in the console.\r\nAnyone know why and can explain it to me?\r\nSo why\r\n","title":"txt file is read correctly, forth line and beyond can&#39;t be recognized","body":"<p>My program has to read a <strong>txt file with for lines of strings</strong>, and than search for a name contained in the txt file. If found it has to print &quot;Found!&quot; if not found &quot;Not found.&quot;. It works fine, execpt that it doesn't recognize everything beyond the forth line in the txt file and prints &quot;Not found.&quot;.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.nio.file.Paths;\nimport java.util.Scanner;\n\npublic class IsItInTheFile {\n\n    public static void main(String[] args) {\n        // initialize Scanner and ArrayList list\n        Scanner scanner = new Scanner(System.in);\n\n        // declare which file must be read\n        System.out.println(&quot;Name of the file:&quot;);\n        String fileName = scanner.nextLine();\n\n\n        try (Scanner file = new Scanner(Paths.get(fileName))) {\n\n            while (true) {\n                System.out.println(&quot;Search for:&quot;);\n                String searchedFor = scanner.nextLine();\n                String writer = file.nextLine();\n                if (writer.contains(searchedFor)) {\n                    System.out.println(&quot;Found!&quot;);\n                    break;\n                } else if (!writer.contains(searchedFor)){\n                    System.out.println(&quot;Not found.&quot;);\n                    break;\n                }\n            }\n\n        } catch(Exception e){\n            System.out.println(&quot;Reading the file &quot; + fileName + &quot; failed.&quot;);\n        }\n\n    }\n}\n</code></pre>\n<p>the names.txt file looks like this:</p>\n<pre><code>ada\narto\nleena\ntesti\n\n</code></pre>\n<p>I can't understand why the forth line and beyond says &quot;Not Found.&quot; even if it is correctly implemented and exactly written in the console.\nAnyone know why and can explain it to me?\nSo why</p>\n"},{"tags":["java","swing","user-interface","jpanel","jlabel"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1638714818,"post_id":70235168,"comment_id":124156203,"body_markdown":"Use layouts. With all the `null` layouts, it&#39;s hard to tell if the GUI is thinking that any component (or its parent panel) is of 0 size. Put visible borders around each of the components of interest. The results may surprise you.","body":"Use layouts. With all the <code>null</code> layouts, it&#39;s hard to tell if the GUI is thinking that any component (or its parent panel) is of 0 size. Put visible borders around each of the components of interest. The results may surprise you."},{"owner":{"account_id":22807726,"reputation":11,"user_id":16959530,"display_name":"bendy"},"score":0,"creation_date":1638715101,"post_id":70235168,"comment_id":124156261,"body_markdown":"Thanks guys - label.setOpaque() seems to solve it (at least until I break it again), and I&#39;ll take a look at some layouts, as well. Cheers!","body":"Thanks guys - label.setOpaque() seems to solve it (at least until I break it again), and I&#39;ll take a look at some layouts, as well. Cheers!"}],"owner":{"account_id":22807726,"reputation":11,"user_id":16959530,"display_name":"bendy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1638715142,"answer_count":0,"score":0,"last_activity_date":1638713519,"creation_date":1638713519,"question_id":70235168,"body_markdown":"I have a GUI class where I have eight rectangles in fixed positions and I want to fill them with certain colors (red/green) depending on the program the GUI is visualizing. In addition to the GUI class, I made an extended JPanel class for drawing the rectangles, and also tried to make an extended JLabel class for filling them for short periods of time, but the JLabel doesn&#39;t seem to work.\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class MyPanel extends JPanel {\r\n    @Override\r\n    public void paintComponent(Graphics g){\r\n        System.out.println(&quot;-------IN MYPANEL CONSTRUCTOR-------&quot;);\r\n        super.paintComponent(g);\r\n        Graphics2D g2 = (Graphics2D) g;\r\n        g2.setColor(Color.black); \r\n\r\n        g2.drawRect(152, 150, 60, 15);\r\n        g2.drawRect(152, 275, 60, 15);\r\n        g2.drawRect(152, 400, 60, 15);\r\n        \r\n        g2.drawRect(421, 205, 60, 15);\r\n        g2.drawRect(421, 355, 60, 15);\r\n\r\n        g2.drawRect(720, 130, 60, 15);\r\n        g2.drawRect(720, 280, 60, 15);\r\n        g2.drawRect(720, 430, 60, 15);\r\n    } \r\n}\r\n```\r\n\r\n```\r\nimport java.awt.*;\r\nimport javax.swing.*;\r\n\r\npublic class DLabel extends JLabel { \r\n    @Override\r\n    public void paintComponent(Graphics g) {\r\n        System.out.println(&quot;--------IN DLABEL CONSTRUCTOR--------&quot;);\r\n        super.paintComponent(g);\r\n        Graphics2D g2 = (Graphics2D) g;\r\n        g2.setColor(Color.green);\r\n        g2.fillRect(152, 150, 60, 15);\r\n    }\r\n}\r\n```\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class GUI extends JFrame {\r\n    JFrame frame;\r\n    MyPanel mypanel;\r\n    DLabel dlabel;\r\n\r\n    public GUI() throws Exception {\r\n        super();\r\n        frame = new JFrame(&quot;Test&quot;);\r\n\r\n        System.out.println(&quot;-------ATTEMPTING DLABEL INITIALIZATION----------&quot;);\r\n        dlabel = new DLabel();\r\n        dlabel.setBounds(152, 150, 60, 15);\r\n\r\n        System.out.println(&quot;-------ATTEMPTING MYPANEL INITIALIZATION----------&quot;);\r\n        mypanel = new MyPanel();\r\n\r\n        mypanel.setLayout(null);\r\n        mypanel.add(dlabel);\r\n        mypanel.validate();\r\n        mypanel.repaint();\r\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n        frame.getContentPane().add(mypanel);\r\n        frame.setSize(1000, 500);\r\n        frame.setVisible(true);\r\n        frame.setResizable(false);\r\n    }\r\n }\r\n```\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        try {\r\n            GUI gui = new GUI();\r\n        } catch (Exception e) {\r\n            System.err.println(e.toString());\r\n        }\r\n    }\r\n}\r\n```\r\nThe visualization I get is the eight hollow rectangles, but the JLabel does not fill them (or just the specific one I&#39;m testing). It prints out that it&#39;s in the paintComponent() method of the DLabel() class when I run Main, but it doesn&#39;t seem to do anything, and I can&#39;t really find anything on overriding JLabel&#39;s paintComponent class.\r\n\r\nI&#39;m very new to GUIs and Swing so I could definitely not be following best practice, so any help is appreciated.","title":"JLabel&#39;s paintComponent() won&#39;t work with JPanel","body":"<p>I have a GUI class where I have eight rectangles in fixed positions and I want to fill them with certain colors (red/green) depending on the program the GUI is visualizing. In addition to the GUI class, I made an extended JPanel class for drawing the rectangles, and also tried to make an extended JLabel class for filling them for short periods of time, but the JLabel doesn't seem to work.</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class MyPanel extends JPanel {\n    @Override\n    public void paintComponent(Graphics g){\n        System.out.println(&quot;-------IN MYPANEL CONSTRUCTOR-------&quot;);\n        super.paintComponent(g);\n        Graphics2D g2 = (Graphics2D) g;\n        g2.setColor(Color.black); \n\n        g2.drawRect(152, 150, 60, 15);\n        g2.drawRect(152, 275, 60, 15);\n        g2.drawRect(152, 400, 60, 15);\n        \n        g2.drawRect(421, 205, 60, 15);\n        g2.drawRect(421, 355, 60, 15);\n\n        g2.drawRect(720, 130, 60, 15);\n        g2.drawRect(720, 280, 60, 15);\n        g2.drawRect(720, 430, 60, 15);\n    } \n}\n</code></pre>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\n\npublic class DLabel extends JLabel { \n    @Override\n    public void paintComponent(Graphics g) {\n        System.out.println(&quot;--------IN DLABEL CONSTRUCTOR--------&quot;);\n        super.paintComponent(g);\n        Graphics2D g2 = (Graphics2D) g;\n        g2.setColor(Color.green);\n        g2.fillRect(152, 150, 60, 15);\n    }\n}\n</code></pre>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class GUI extends JFrame {\n    JFrame frame;\n    MyPanel mypanel;\n    DLabel dlabel;\n\n    public GUI() throws Exception {\n        super();\n        frame = new JFrame(&quot;Test&quot;);\n\n        System.out.println(&quot;-------ATTEMPTING DLABEL INITIALIZATION----------&quot;);\n        dlabel = new DLabel();\n        dlabel.setBounds(152, 150, 60, 15);\n\n        System.out.println(&quot;-------ATTEMPTING MYPANEL INITIALIZATION----------&quot;);\n        mypanel = new MyPanel();\n\n        mypanel.setLayout(null);\n        mypanel.add(dlabel);\n        mypanel.validate();\n        mypanel.repaint();\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.getContentPane().add(mypanel);\n        frame.setSize(1000, 500);\n        frame.setVisible(true);\n        frame.setResizable(false);\n    }\n }\n</code></pre>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        try {\n            GUI gui = new GUI();\n        } catch (Exception e) {\n            System.err.println(e.toString());\n        }\n    }\n}\n</code></pre>\n<p>The visualization I get is the eight hollow rectangles, but the JLabel does not fill them (or just the specific one I'm testing). It prints out that it's in the paintComponent() method of the DLabel() class when I run Main, but it doesn't seem to do anything, and I can't really find anything on overriding JLabel's paintComponent class.</p>\n<p>I'm very new to GUIs and Swing so I could definitely not be following best practice, so any help is appreciated.</p>\n"},{"tags":["java","antlr4","grammar"],"comments":[{"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"score":3,"creation_date":1638672849,"post_id":70230934,"comment_id":124149459,"body_markdown":"Not an ANTLR user, but Java is not line-oriented.  Lines 3 and 4 are a single statement-or-declaration.   `test` might be just fine if followed by certain symbols (&#39;=&#39;, &#39;[&#39;, &#39;(&#39; for example).  You can&#39;t say it&#39;s wrong until you&#39;ve processed the next line.","body":"Not an ANTLR user, but Java is not line-oriented.  Lines 3 and 4 are a single statement-or-declaration.   <code>test</code> might be just fine if followed by certain symbols (&#39;=&#39;, &#39;[&#39;, &#39;(&#39; for example).  You can&#39;t say it&#39;s wrong until you&#39;ve processed the next line."}],"answers":[{"tags":[],"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638713418,"creation_date":1638713066,"answer_id":70235097,"question_id":70230934,"body_markdown":"You can&#39;t compare a sophisticated editor/IDE with a parser (generated by ANTLR). A text editor/IDE knows more about the input source and can look up if `test` is a valid type, and give a meaningful error message if the type cannot be found.\r\n\r\nANTLR&#39;s parser rule &quot;sees&quot;  `test int b` as an `Identifier`, an `INT` and another `Identifier` token and cannot match any parser rule for these tokens, resulting in the error starting at the identifier `test`.\r\n\r\nFor example, if `class test {}` was in the classpath, then input without `int` would be valid:\r\n\r\n```java\r\npublic class Test {\r\n  public static void main() {\r\n    test\r\n    /*int*/ a = 1;\r\n  }\r\n}\r\n```\r\n\r\nIt wouldn&#39;t compile of course, but the syntax would be correct:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bBBin.png","title":"Antlr4: Confusing error message (concatenates correct and incorrect lines) for Java grammar","body":"<p>You can't compare a sophisticated editor/IDE with a parser (generated by ANTLR). A text editor/IDE knows more about the input source and can look up if <code>test</code> is a valid type, and give a meaningful error message if the type cannot be found.</p>\n<p>ANTLR's parser rule &quot;sees&quot;  <code>test int b</code> as an <code>Identifier</code>, an <code>INT</code> and another <code>Identifier</code> token and cannot match any parser rule for these tokens, resulting in the error starting at the identifier <code>test</code>.</p>\n<p>For example, if <code>class test {}</code> was in the classpath, then input without <code>int</code> would be valid:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n  public static void main() {\n    test\n    /*int*/ a = 1;\n  }\n}\n</code></pre>\n<p>It wouldn't compile of course, but the syntax would be correct:</p>\n<p><a href=\"https://i.stack.imgur.com/bBBin.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bBBin.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":2307871,"reputation":193,"user_id":2499191,"accept_rate":0,"display_name":"Andrei"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638713418,"creation_date":1638669302,"question_id":70230934,"body_markdown":"I am trying to build my own parser based on the existing Java grammar.\r\n\r\nEven if I use the Java7 grammar from [the source repo][1], generate the parser and use the TestRig from antlr-4.9.3-complete.jar given the code:\r\n\r\n\r\n    1  public class Test {\r\n    2    public static void main() {\r\n    3      test\r\n    4      int b = 1;\r\n    5    }\r\n    6  }\r\n\r\nI get the following error:\r\n\r\n&gt; line 4:8 no viable alternative at input &#39;test\\n int&#39;\r\n\r\nSo for some reason it concatenates the incorrect &quot;**test**&quot; line with correct &quot;**int**&quot; line.\r\nAlso it says &quot;line 4:8&quot; pointing at the &quot;int&quot; line when it should be pointing to &quot;test&quot; (line 3).\r\n\r\n(In a regular Java editor I would see a correct error highlighting for the &quot;test&quot; word which would sound like):\r\n&gt; &quot;Syntax error, insert &quot;VariableDeclarators&quot; to complete LocalVariableDeclaration&quot;\r\n\r\nWhat do I do to arrive at a similar error with ANTLR so it only picks on the wrong &quot;test&quot; line?\r\nMost likely it&#39;s just my misunderstanding how antlr interprets the errors, then how would I get the listener to at least report correctly the starting line?\r\n\r\n\r\n  [1]: https://github.com/antlr/grammars-v4/tree/master/java/java\r\n","title":"Antlr4: Confusing error message (concatenates correct and incorrect lines) for Java grammar","body":"<p>I am trying to build my own parser based on the existing Java grammar.</p>\n<p>Even if I use the Java7 grammar from <a href=\"https://github.com/antlr/grammars-v4/tree/master/java/java\" rel=\"nofollow noreferrer\">the source repo</a>, generate the parser and use the TestRig from antlr-4.9.3-complete.jar given the code:</p>\n<pre><code>1  public class Test {\n2    public static void main() {\n3      test\n4      int b = 1;\n5    }\n6  }\n</code></pre>\n<p>I get the following error:</p>\n<blockquote>\n<p>line 4:8 no viable alternative at input 'test\\n int'</p>\n</blockquote>\n<p>So for some reason it concatenates the incorrect &quot;<strong>test</strong>&quot; line with correct &quot;<strong>int</strong>&quot; line.\nAlso it says &quot;line 4:8&quot; pointing at the &quot;int&quot; line when it should be pointing to &quot;test&quot; (line 3).</p>\n<p>(In a regular Java editor I would see a correct error highlighting for the &quot;test&quot; word which would sound like):</p>\n<blockquote>\n<p>&quot;Syntax error, insert &quot;VariableDeclarators&quot; to complete LocalVariableDeclaration&quot;</p>\n</blockquote>\n<p>What do I do to arrive at a similar error with ANTLR so it only picks on the wrong &quot;test&quot; line?\nMost likely it's just my misunderstanding how antlr interprets the errors, then how would I get the listener to at least report correctly the starting line?</p>\n"},{"tags":["java","user-interface","netbeans-platform","uimanager","flatlaf"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1629104943,"post_id":68799747,"comment_id":121589293,"body_markdown":"[Read this SO thread](https://stackoverflow.com/questions/2482971/how-can-i-change-the-color-of-titlebar-in-jframe).","body":"<a href=\"https://stackoverflow.com/questions/2482971/how-can-i-change-the-color-of-titlebar-in-jframe\">Read this SO thread</a>."},{"owner":{"account_id":17436819,"reputation":97,"user_id":12639646,"display_name":"Daki"},"score":0,"creation_date":1629111735,"post_id":68799747,"comment_id":121592015,"body_markdown":"Already did that. The accepted answer of &quot;is not possible&quot; is wrong. Setting `activeCaption` or `activeTitleBackground` did nothing for me.\nAnd I think it is redundant to code the access to the titelBar when the appropriate code ist already present and being used by LaFs included in Netbeans.\n\nSo I figured this Problem is likely dependent on me using either Netbeans Platform and/or FlatLaF.","body":"Already did that. The accepted answer of &quot;is not possible&quot; is wrong. Setting <code>activeCaption</code> or <code>activeTitleBackground</code> did nothing for me. And I think it is redundant to code the access to the titelBar when the appropriate code ist already present and being used by LaFs included in Netbeans.  So I figured this Problem is likely dependent on me using either Netbeans Platform and/or FlatLaF."},{"owner":{"account_id":468855,"reputation":5925,"user_id":875083,"display_name":"Joachim Rohde"},"score":0,"creation_date":1629186534,"post_id":68799747,"comment_id":121613382,"body_markdown":"Have you checked the FlatLaf sources: https://github.com/JFormDesigner/FlatLaf/blob/main/flatlaf-core/src/main/java/com/formdev/flatlaf/ui/FlatTitlePane.java ?","body":"Have you checked the FlatLaf sources: <a href=\"https://github.com/JFormDesigner/FlatLaf/blob/main/flatlaf-core/src/main/java/com/formdev/flatlaf/ui/FlatTitlePane.java\" rel=\"nofollow noreferrer\">github.com/JFormDesigner/FlatLaf/blob/main/flatlaf-core/src/&zwnj;&#8203;&hellip;</a> ?"},{"owner":{"account_id":9026259,"reputation":1316,"user_id":6725459,"display_name":"jjazzboss"},"score":0,"creation_date":1629233742,"post_id":68799747,"comment_id":121632164,"body_markdown":"You should have a look to the Netbeans source code as well (https://github.com/apache/netbeans/tree/12.4/platform/o.n.swing.laf.flatlaf/src/org/netbeans/swing/laf/flatlaf), as FlatLaf is pre-integrated and I think Netbeans has its own specific settings.","body":"You should have a look to the Netbeans source code as well (<a href=\"https://github.com/apache/netbeans/tree/12.4/platform/o.n.swing.laf.flatlaf/src/org/netbeans/swing/laf/flatlaf\" rel=\"nofollow noreferrer\">github.com/apache/netbeans/tree/12.4/platform/&hellip;</a>), as FlatLaf is pre-integrated and I think Netbeans has its own specific settings."},{"owner":{"account_id":17436819,"reputation":97,"user_id":12639646,"display_name":"Daki"},"score":0,"creation_date":1629365442,"post_id":68799747,"comment_id":121669625,"body_markdown":"Thanks for both your hints!\nWithin the FlatLaf sources the color of the titlePane ist set via &quot;TitlePane.background&quot;. Sadly though this does not work here.\n\nI also checked the Netbeans (FlatLaF) code and in the class `FlatLFCustoms ` the method `updateUnifiedBackground` seems to do just that by checking &quot;Panel.background&quot; and setting that color for the unified background.\nAlthough this Options changes the appearance quite a lot overall (all jPanels background colors are affected) the TitleBar itself remains unchanged.","body":"Thanks for both your hints! Within the FlatLaf sources the color of the titlePane ist set via &quot;TitlePane.background&quot;. Sadly though this does not work here.  I also checked the Netbeans (FlatLaF) code and in the class <code>FlatLFCustoms </code> the method <code>updateUnifiedBackground</code> seems to do just that by checking &quot;Panel.background&quot; and setting that color for the unified background. Although this Options changes the appearance quite a lot overall (all jPanels background colors are affected) the TitleBar itself remains unchanged."},{"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"score":0,"creation_date":1638713336,"post_id":68799747,"comment_id":124155848,"body_markdown":"I found the solution. See my Answer","body":"I found the solution. See my Answer"}],"answers":[{"tags":[],"owner":{"account_id":17436819,"reputation":97,"user_id":12639646,"display_name":"Daki"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1629787598,"creation_date":1629787598,"answer_id":68902908,"question_id":68799747,"body_markdown":"I believe I found the culprit.\r\nIn a recent release of Netbeans the option to set &quot;TitlePane.unifiedBackground&quot; for FlatLaF was introduced.\r\nHowever when setting `UIManager.put(&quot;TitlePane.unifiedBackground&quot;, true);` the problem described above will occur and I effectively can&#39;t set the background color of the TitlePane.\r\n\r\nAs seen in the method `updateUnifiedBackground()` of class `FlatLFCustoms`(https://github.com/apache/netbeans/blob/12.4/platform/o.n.swing.laf.flatlaf/src/org/netbeans/swing/laf/flatlaf/FlatLFCustoms.java) in the Netbeans source code, the color of the titlePane should be set by adjusting the property &quot;Panel.background&quot;. \r\nThis however doesn&#39;t seem to work properly.\r\n\r\nA workaround seems to be to set `UIManager.put(&quot;TitlePane.unifiedBackground&quot;, false);` and then just set the &quot;TitlePane.background&quot; to the desired color. \r\nIf you still want the unified TitlePane look you can achieve that by also setting &quot;Panel.background&quot; and &quot;Toolbar.background&quot; to the same color.\r\n\r\nIn effect this will look identical to setting the unifiedBackground for the TitlePane only now you can change the color.\r\nHope this helps someone who stumbles upon the same Problem.","title":"Setting the Color of the Title Bar with Netbeans Platform Application (FlatLaF)","body":"<p>I believe I found the culprit.\nIn a recent release of Netbeans the option to set &quot;TitlePane.unifiedBackground&quot; for FlatLaF was introduced.\nHowever when setting <code>UIManager.put(&quot;TitlePane.unifiedBackground&quot;, true);</code> the problem described above will occur and I effectively can't set the background color of the TitlePane.</p>\n<p>As seen in the method <code>updateUnifiedBackground()</code> of class <code>FlatLFCustoms</code>(<a href=\"https://github.com/apache/netbeans/blob/12.4/platform/o.n.swing.laf.flatlaf/src/org/netbeans/swing/laf/flatlaf/FlatLFCustoms.java\" rel=\"nofollow noreferrer\">https://github.com/apache/netbeans/blob/12.4/platform/o.n.swing.laf.flatlaf/src/org/netbeans/swing/laf/flatlaf/FlatLFCustoms.java</a>) in the Netbeans source code, the color of the titlePane should be set by adjusting the property &quot;Panel.background&quot;.\nThis however doesn't seem to work properly.</p>\n<p>A workaround seems to be to set <code>UIManager.put(&quot;TitlePane.unifiedBackground&quot;, false);</code> and then just set the &quot;TitlePane.background&quot; to the desired color.\nIf you still want the unified TitlePane look you can achieve that by also setting &quot;Panel.background&quot; and &quot;Toolbar.background&quot; to the same color.</p>\n<p>In effect this will look identical to setting the unifiedBackground for the TitlePane only now you can change the color.\nHope this helps someone who stumbles upon the same Problem.</p>\n"},{"tags":[],"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638713313,"creation_date":1638713313,"answer_id":70235132,"question_id":68799747,"body_markdown":"Use this code:-\r\n\r\n    JFrame.setDefaultLookAndFeelDecorated(true);\r\n    frame.getRootPane().putClientProperty(&quot;JRootPane.titleBarBackground&quot;, new Color(23,180,252));\r\n           frame.getRootPane().putClientProperty(&quot;JRootPane.titleBarForeground&quot;, Color.white);","title":"Setting the Color of the Title Bar with Netbeans Platform Application (FlatLaF)","body":"<p>Use this code:-</p>\n<pre><code>JFrame.setDefaultLookAndFeelDecorated(true);\nframe.getRootPane().putClientProperty(&quot;JRootPane.titleBarBackground&quot;, new Color(23,180,252));\n       frame.getRootPane().putClientProperty(&quot;JRootPane.titleBarForeground&quot;, Color.white);\n</code></pre>\n"}],"owner":{"account_id":17436819,"reputation":97,"user_id":12639646,"display_name":"Daki"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1013,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68902908,"answer_count":2,"score":1,"last_activity_date":1638713313,"creation_date":1629103129,"question_id":68799747,"body_markdown":"I&#39;m currently working on a Netbeans Platform application that uses *com.formdev.flatlaf.FlatLightLaf* as the Look and Feel. The application is using Java 11 and running under Windows 10.\r\n\r\nI would now like to change the color of the TitlePane. Changing the color of specific elements (like jPanels etc.) globally for the entire application can be done by changing properties within the *UIManager*.\r\nSo I tried changing many of the background-color specific settings from &lt;code&gt;UIManager.getDefaults()&lt;/code&gt; as well as &lt;code&gt;UIManager.getLookAndFeelDefaults()&lt;/code&gt;. For example changing the *TitlePane.background* property to something like &lt;code&gt;UIManager.put(&quot;TitlePane.background&quot;, new ColorUIResource(100, 100, 100));&lt;/code&gt;.\r\nHowever none of the dozens of properties I changed worked at all.\r\n\r\nThe color can be changed though as evidenced by the changed color of the *TitlePane* when using the *com.formdev.flatlaf.FlatDarkLaf* (darkmode).\r\n\r\nIf anyone has any idea which properties need to be changed in order to change the color of the title pane in a Netbeans Platform application I would very much appreciate any form of help!\r\n","title":"Setting the Color of the Title Bar with Netbeans Platform Application (FlatLaF)","body":"<p>I'm currently working on a Netbeans Platform application that uses <em>com.formdev.flatlaf.FlatLightLaf</em> as the Look and Feel. The application is using Java 11 and running under Windows 10.</p>\n<p>I would now like to change the color of the TitlePane. Changing the color of specific elements (like jPanels etc.) globally for the entire application can be done by changing properties within the <em>UIManager</em>.\nSo I tried changing many of the background-color specific settings from <code>UIManager.getDefaults()</code> as well as <code>UIManager.getLookAndFeelDefaults()</code>. For example changing the <em>TitlePane.background</em> property to something like <code>UIManager.put(&quot;TitlePane.background&quot;, new ColorUIResource(100, 100, 100));</code>.\nHowever none of the dozens of properties I changed worked at all.</p>\n<p>The color can be changed though as evidenced by the changed color of the <em>TitlePane</em> when using the <em>com.formdev.flatlaf.FlatDarkLaf</em> (darkmode).</p>\n<p>If anyone has any idea which properties need to be changed in order to change the color of the title pane in a Netbeans Platform application I would very much appreciate any form of help!</p>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638713286,"creation_date":1638580608,"answer_id":70222303,"question_id":70222096,"body_markdown":"You are missing a class that matches the list of `Species` that your JSON contains:\r\n```java\r\nimport java.util.List;\r\n\r\npublic class SpeciesGroup {\r\n    private List&lt;Species&gt; species;\r\n\r\n    public List&lt;Species&gt; getSpecies() {\r\n        return species;\r\n    }\r\n\r\n    public void setSpecies(List&lt;Species&gt; species) {\r\n        this.species = species;\r\n    }\r\n}\r\n```\r\n\r\nThen you can simply read your JSON using `ObjectMapper.readValue()` method as follows:\r\n```java\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        File file = new File(&quot;src/main/resources/species.1.json&quot;);\r\n\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        try {\r\n            SpeciesGroup speciesGroup = mapper.readValue(new FileInputStream(file), SpeciesGroup.class);\r\n            List&lt;Species&gt; allSpecies = speciesGroup.getSpecies();\r\n            allSpecies.forEach(species -&gt; {\r\n                System.out.println(species.getSourcebook());\r\n                System.out.println(species.getName());\r\n            });\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```","title":"Jackson ObjectMapper JSON to Java Object RETURNS NULL Values","body":"<p>You are missing a class that matches the list of <code>Species</code> that your JSON contains:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\n\npublic class SpeciesGroup {\n    private List&lt;Species&gt; species;\n\n    public List&lt;Species&gt; getSpecies() {\n        return species;\n    }\n\n    public void setSpecies(List&lt;Species&gt; species) {\n        this.species = species;\n    }\n}\n</code></pre>\n<p>Then you can simply read your JSON using <code>ObjectMapper.readValue()</code> method as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\n\npublic class Main {\n    public static void main(String[] args) {\n        File file = new File(&quot;src/main/resources/species.1.json&quot;);\n\n        ObjectMapper mapper = new ObjectMapper();\n        try {\n            SpeciesGroup speciesGroup = mapper.readValue(new FileInputStream(file), SpeciesGroup.class);\n            List&lt;Species&gt; allSpecies = speciesGroup.getSpecies();\n            allSpecies.forEach(species -&gt; {\n                System.out.println(species.getSourcebook());\n                System.out.println(species.getName());\n            });\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21100099,"reputation":528,"user_id":15510171,"display_name":"bittap"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638625568,"creation_date":1638625568,"answer_id":70226161,"question_id":70222096,"body_markdown":"mapper.readTree(file) has json contents of all like under line.\r\n```\r\n{\r\n  json\r\n}\r\n```\r\n\r\nIf You want to access  species content, you need to move to childNode which is **species**.You declare &quot;species&quot; like under line.\r\n\r\n```\r\n{\r\n &quot;species&quot; : [\r\n   {species content1},\r\n   {species content2},\r\n   {species content3}...\r\n ]\r\n\r\n}\r\n```\r\n\r\nYou need to move to one depth deeper though one more foreach.\r\n\r\n    File file = new File(&quot;src/main/resources/species.json&quot;);\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n\r\n    try {\r\n    \t// Json -&gt; JsonNode\r\n        JsonNode speciesJsonNode = mapper.readTree(file);\r\n        // node move one depth deeper. Because jsonNode variable has species\r\n        for (JsonNode jsonNode : speciesJsonNode) {\r\n        \t// node move one depth deeper. Because species variable has Species arrays\r\n\t\t\tfor (JsonNode species : jsonNode) {\r\n\t\t\t\t// Get Sourcebook\r\n\t\t\t\tString sourcebook = species.get(&quot;sourcebook&quot;).toString();\r\n\t\t\t\tSystem.out.println(sourcebook);\r\n\t\t\t\t\r\n\t\t\t\t// Get Species Name\r\n\t\t\t\tString name = species.get(&quot;name&quot;).toString();\r\n\t\t\t\tSystem.out.println(name);\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;==============================&quot;);\r\n\t\t\t}\r\n\t\t}\r\n    } catch (JsonProcessingException e) {\r\n        e.printStackTrace();\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n\r\nAdditionally, You don&#39;t use Species class. I think you want to use Species class.\r\nConvert jsonNode to Species class though under line.\r\n```\r\nSpecies species =mapper.convertValue(speciesNode, Species.class);\r\n```\r\n\r\nFull code. If you want to convert jsonNode to Species class.\r\n\r\n\tpackage Specise;\r\n\r\n\timport java.io.File;\r\n\timport java.io.IOException;\r\n\timport java.util.ArrayList;\r\n\timport java.util.List;\r\n\r\n\timport com.fasterxml.jackson.core.JsonProcessingException;\r\n\timport com.fasterxml.jackson.databind.JsonNode;\r\n\timport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\n\tpublic class Main2 {\r\n\t    public static void main(String[] args) {\r\n\r\n\t        File file = new File(&quot;src/main/resources/species.json&quot;);\r\n\r\n\t        ObjectMapper mapper = new ObjectMapper();\r\n\t        List&lt;Species&gt; speciess = new ArrayList&lt;Species&gt;();\r\n\r\n\t        try {\r\n\t        \t// Json -&gt; JsonNode\r\n\t            JsonNode speciesJsonNode = mapper.readTree(file);\r\n\t            // node move one depth deeper. Because jsonNode variable has species\r\n\t            for (JsonNode jsonNode : speciesJsonNode) {\r\n\t            \t// node move one depth deeper. Because species variable has Species arrays\r\n\t\t\t\t\tfor (JsonNode speciesNode : jsonNode) {\r\n\t\t\t\t\t\t// convert Species array to speciess pojo\r\n\t\t\t\t\t\tSpecies species =mapper.convertValue(speciesNode, Species.class);\r\n\t\t\t\t\t\tspeciess.add(species);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t            // speciess List print out\r\n\t            speciess.forEach(System.out::println);\r\n\t        } catch (JsonProcessingException e) {\r\n\t            e.printStackTrace();\r\n\t        } catch (IOException e) {\r\n\t            e.printStackTrace();\r\n\t        }\r\n\t    }\r\n\t}\r\n\r\n\r\n","title":"Jackson ObjectMapper JSON to Java Object RETURNS NULL Values","body":"<p>mapper.readTree(file) has json contents of all like under line.</p>\n<pre><code>{\n  json\n}\n</code></pre>\n<p>If You want to access  species content, you need to move to childNode which is <strong>species</strong>.You declare &quot;species&quot; like under line.</p>\n<pre><code>{\n &quot;species&quot; : [\n   {species content1},\n   {species content2},\n   {species content3}...\n ]\n\n}\n</code></pre>\n<p>You need to move to one depth deeper though one more foreach.</p>\n<pre><code>File file = new File(&quot;src/main/resources/species.json&quot;);\n\nObjectMapper mapper = new ObjectMapper();\n\ntry {\n    // Json -&gt; JsonNode\n    JsonNode speciesJsonNode = mapper.readTree(file);\n    // node move one depth deeper. Because jsonNode variable has species\n    for (JsonNode jsonNode : speciesJsonNode) {\n        // node move one depth deeper. Because species variable has Species arrays\n        for (JsonNode species : jsonNode) {\n            // Get Sourcebook\n            String sourcebook = species.get(&quot;sourcebook&quot;).toString();\n            System.out.println(sourcebook);\n            \n            // Get Species Name\n            String name = species.get(&quot;name&quot;).toString();\n            System.out.println(name);\n            \n            System.out.println(&quot;==============================&quot;);\n        }\n    }\n} catch (JsonProcessingException e) {\n    e.printStackTrace();\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>Additionally, You don't use Species class. I think you want to use Species class.\nConvert jsonNode to Species class though under line.</p>\n<pre><code>Species species =mapper.convertValue(speciesNode, Species.class);\n</code></pre>\n<p>Full code. If you want to convert jsonNode to Species class.</p>\n<pre><code>package Specise;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\npublic class Main2 {\n    public static void main(String[] args) {\n\n        File file = new File(&quot;src/main/resources/species.json&quot;);\n\n        ObjectMapper mapper = new ObjectMapper();\n        List&lt;Species&gt; speciess = new ArrayList&lt;Species&gt;();\n\n        try {\n            // Json -&gt; JsonNode\n            JsonNode speciesJsonNode = mapper.readTree(file);\n            // node move one depth deeper. Because jsonNode variable has species\n            for (JsonNode jsonNode : speciesJsonNode) {\n                // node move one depth deeper. Because species variable has Species arrays\n                for (JsonNode speciesNode : jsonNode) {\n                    // convert Species array to speciess pojo\n                    Species species =mapper.convertValue(speciesNode, Species.class);\n                    speciess.add(species);\n                }\n            }\n            // speciess List print out\n            speciess.forEach(System.out::println);\n        } catch (JsonProcessingException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1738315,"reputation":359,"user_id":1590375,"accept_rate":75,"display_name":"TroyPilewski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5845,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70222303,"answer_count":2,"score":1,"last_activity_date":1638713286,"creation_date":1638577996,"question_id":70222096,"body_markdown":"I&#39;m trying to loop through the child object of a JSON array which stores objects. My JSON file is as follows:\r\n```json\r\n{\r\n&quot;species&quot;: [\r\n    {\r\n      &quot;sourcebook&quot;: &quot;Revised Core Rulebook&quot;,\r\n      &quot;file&quot;: &quot;src/main/resources/db/core_rulebook/species/human.md&quot;,\r\n      &quot;name&quot;: &quot;Human&quot;,\r\n      &quot;description&quot;: &quot;Humans dominate the Core Worlds and can be found in virtually every corner of the galaxy. They are the ancestors of early spacefaring pioneers, conquerors, traders, travelers and refugees. Humans have always been people on the move. As a result, they can be found on almost every inhabitable planet. As a species, Humans as physically, culturally, and politically diverse. Hardy or fine, light-skinned or dark, Humans remain one the most dominant species throughout all eras of play.&quot;,\r\n      &quot;personality&quot;: &quot;Human personality runs the gamut of possibilities, though member of this species tend to be highly adaptable, tenacious, and willing to keep striving no matter the odds. They are flexible and ambitious, diverse in their tastes, morals, customs, and habits.&quot;,\r\n      &quot;appearance&quot;: &quot;Humans average about 1.8 meters tall. Skin shades run from nearly black to very pale., hair from black to blond. Men are usually taller and heavier than the women. Humans achieve maturity about the age of 15 and rarely live beyond 100.&quot;,\r\n      &quot;homeworld&quot;: &quot;Various, including Coruscant, Corulag, Naboo, Tatooine, and Alderaan.&quot;,\r\n      &quot;language&quot;: &quot;Humans speak and read Basic. They typically learn other languages, including obscure ones.&quot;,\r\n      &quot;adventurers&quot;: &quot;Humans aren&#39;t afraid to try anything, and Human adventurers are the most audacious, daring, and ambitious species. A Human can earn glory by amassing power, wealth, and fame. More than another species, Humans champion cause rather than territories or groups.&quot;,\r\n      &quot;spoken_language&quot;: [\r\n        &quot;Basic&quot;\r\n      ],\r\n      &quot;literate_language&quot;: [\r\n        &quot;Basic&quot;\r\n      ],\r\n      &quot;abilities&quot;: [\r\n        0,\r\n        0,\r\n        0,\r\n        0,\r\n        0,\r\n        0\r\n      ],\r\n      &quot;size&quot;: &quot;Medium&quot;,\r\n      &quot;speed&quot;: 10\r\n    },\r\n    {\r\n      &quot;sourcebook&quot;: &quot;Revised Core Rulebook&quot;,\r\n      &quot;file&quot;: &quot;src/main/resources/db/core_rulebook/species/bothan.md&quot;,\r\n      &quot;name&quot;: &quot;Bothan&quot;,\r\n      &quot;description&quot;: &quot;The planet Bothawui, in the Mid Rim of the galaxy, gave rise to the Bothan species. These shoprt, fur-covered humaniods have had hyperspace travel for thousands of years and were among the first civilizations to join the galactic society. Bothans deal in information. They use information as a measure of wealth and power, even wielding it as a weapon when necessary. The Bothan Spynet serves as one of the largest intelligence agencies throughout most eras, and it plays and important and poignant role in the Rebellion era. Culturally, Bothans don&#39;t believe in direct conflict. They prefer to manipulate situations from behind the scenes, to watch and wait for information and opportunity, and to use these tools to gain status and influence.&quot;,\r\n      &quot;personality&quot;: &quot;Bothans are manipulative, crafty, suspicious and curious by anture, and a little paranoid. They can be irritating, but they are also loyal and brave.&quot;,\r\n      &quot;appearance&quot;: &quot;Bothans are covered with fur that ripples in response to their emotional state. They have tappered ears, and both male and female Bothans sport beards. They average about 1.6 meters tall and have a maturity rate and life span slightly greater than Humans.&quot;,\r\n      &quot;homeworld&quot;: &quot;The industrial world of Bothawui, with various colony worlds throughout the Mid Rim Territories, including Kothlis and Torolis.&quot;,\r\n      &quot;language&quot;: &quot;Bothans speak and read Bothese and Basic.&quot;,\r\n      &quot;adventurers&quot;: &quot;Bothan adventurers, such as operatives in the Spynet, engage in daring deeds - even when such deeds put them at great personal risk. In addition to the intelligence operatives, Bothan heroes serve as soldiers and pilots, diplomats and ambassadors. Their curiosity leads some to be explorer and scouts. Even when a Bothan makes it hard not to look for the profit and prestige in the situation.&quot;,\r\n      &quot;spoken_language&quot;: [\r\n        &quot;Basic&quot;,\r\n        &quot;Bothese&quot;\r\n      ],\r\n      &quot;literate_language&quot;: [\r\n        &quot;Basic&quot;,\r\n        &quot;Bothese&quot;\r\n      ],\r\n      &quot;abilities&quot;: [\r\n        0,\r\n        2,\r\n        -2,\r\n        0,\r\n        0,\r\n        0\r\n      ],\r\n      &quot;size&quot;: &quot;Medium&quot;,\r\n      &quot;speed&quot;: 10\r\n    },\r\n    {\r\n      &quot;sourcebook&quot;: &quot;Revised Core Rulebook&quot;,\r\n      &quot;file&quot;: &quot;src/main/resources/db/core_rulebook/species/cerean.md&quot;,\r\n      &quot;name&quot;: &quot;Cerean&quot;,\r\n      &quot;description&quot;: &quot;Cereans come from a remote utopian world. Most Cereans are peaceful, following farming traditions that date back thousands of years. The species includes more females than males, and Cerean society is matriarchal. Their high-domed heads hold binary brians, and two hearts beat in a Cerean&#39;s chest. With a non-aggressive heritage, it is only rarely that a Cerean develops the desire to adventure, and even more rare that one takes up the robes of a Jedi Knight.&quot;,\r\n      &quot;personality&quot;: &quot;Cereans tend to be calm, rational, and extremely logical.&quot;,\r\n      &quot;appearance&quot;: &quot;Cereans average about two meters tall, with elongated craniums. They have a maturity rate and life span similar to that of Humans.&quot;,\r\n      &quot;homeworld&quot;: &quot;The blissful planet Cerea.&quot;,\r\n      &quot;language&quot;: &quot;Cereans speak and read Cerean and Basic.&quot;,\r\n      &quot;adventurers&quot;: &quot;Cereans who become adventurers do so in direct contradiction to their traditions and beliefs. Even so, when a cause or situation turns a Cerean to this path, he or she tries to approach life with as many of the Cerena beliefs as possible. Aggression should be the last resort after all peaceful solutions are attempted, for example. The binary brain allows a Cerean to constantly weigh both sides in an disagreement and give two points of view equal consideration. This ability extends even to issues surrounding the Force, and a Cerean Force-user often contemplates the light and dark side simultaneously.&quot;,\r\n      &quot;spoken_language&quot;: [\r\n        &quot;Basic&quot;,\r\n        &quot;Cerean&quot;\r\n      ],\r\n      &quot;literate_language&quot;: [\r\n        &quot;Basic&quot;,\r\n        &quot;Cerean&quot;\r\n      ],\r\n      &quot;abilities&quot;: [\r\n        0,\r\n        -2,\r\n        0,\r\n        2,\r\n        2,\r\n        0\r\n      ],\r\n      &quot;size&quot;: &quot;Medium&quot;,\r\n      &quot;speed&quot;: 10\r\n    },\r\n    {\r\n      &quot;sourcebook&quot;: &quot;Revised Core Rulebook&quot;,\r\n      &quot;file&quot;: &quot;src/main/resources/db/core_rulebook/species/Duros.md&quot;,\r\n      &quot;name&quot;: &quot;Duros&quot;,\r\n      &quot;description&quot;: &quot;The Duros originate in the Duro star system, located at the extreme edge of the Core region of space. With an almost innate affinity for space travel, the Duros were among the first to leave their world and spread to the stars. Whatever the reason for their wanderlust, the Duros tend to gravitate toward the space lanes for income and adventure. Their home system is governed by vast starship engineering corporations, and most Duros learn to pilot a ship or rebuild a hyperdrive shortly after they begin to walk and talk.&quot;,\r\n      &quot;personality&quot;: &quot;A Duros tends to be intense and adventureous, always seeking to learn what&#39;s at the end of the next hyperspce jump. They are a proud, self-sufficient, fun-loving people who also have a tendency toward gregariousness.&quot;,\r\n      &quot;appearance&quot;: &quot;Duros average about 1.8 meters tall. They are hairless, with large eyes and wide, lipless mouths. Skin color ranges from blue-gray to deep azure.&quot;,\r\n      &quot;homeworld&quot;: &quot;The orbiting cities of the Duro system.&quot;,\r\n      &quot;language&quot;: &quot;Duros speak and are literate in Durese and Basic.&quot;,\r\n      &quot;adventurers&quot;: &quot;Duros adventurers include hyperspace explorers, star charter and spaceer of all descriptions. They also tend to gravitate toward the sciences, including engineering and astrogation. Some Duros shun exploration in favor of smuggling and trading, and a small number go into diplomatic professions.&quot;,\r\n      &quot;spoken_language&quot;: [\r\n        &quot;Basic&quot;,\r\n        &quot;Durese&quot;\r\n      ],\r\n      &quot;literate_language&quot;: [\r\n        &quot;Basic&quot;,\r\n        &quot;Durese&quot;\r\n      ],\r\n      &quot;abilities&quot;: [\r\n        -2,\r\n        2,\r\n        -2,\r\n        2,\r\n        0,\r\n        0\r\n      ],\r\n      &quot;size&quot;: &quot;Medium&quot;,\r\n      &quot;speed&quot;: 10\r\n    },\r\n    {\r\n      &quot;sourcebook&quot;: &quot;Revised Core Rulebook&quot;,\r\n      &quot;file&quot;: &quot;src/main/resources/db/core_rulebook/species/Ewok.md&quot;,\r\n      &quot;name&quot;: &quot;Ewok&quot;,\r\n      &quot;description&quot;: &quot;Ewoks hail from the forest moon of Endor, where they maintain a primitive hunter/gather society. Prior to the Battle of Endor (four year after Episode IV), Ewoks were almost entirely unknown to the galaxy at large. Som traders and explorer visited Endor&#39;s moon, but with no form of space travel, Ewoks never left their homeworld. Although primitive by galactic standards, the tribal Ewoks are resourceful and highly adaptable. The tribal Ewoks may be technologically primitive when compared to most of the galactic society, but they are also clever and inventive. While they tend to initially be wary around machinery, it isn&#39;t long before their natural curiosity wins out and they plunge into wild and exuberant experimentation.&quot;,\r\n      &quot;personality&quot;: &quot;Ewoks tend to be curious, superstitious, and courageous, though they can be fearful around things that are strange and new.&quot;,\r\n      &quot;appearance&quot;: &quot;Ewoks average about 1 meter tall. Their thick fur varies widely in color and pattern. They often wear hoods, decorative feather, and animal bones.&quot;,\r\n      &quot;homeworld&quot;: &quot;The forest moon of Endor.&quot;,\r\n      &quot;language&quot;: &quot;Ewoks speak Ewokese. They have no written form of their language. They can learn to speak Basic.&quot;,\r\n      &quot;adventurers&quot;: &quot;An Ewok adventurer may be motivated by a love of excitement, a natural inquisitiveness, or a warrior&#39;s quest. Usually, an Ewok hero joins up with a scout or hero who has access to a starship. Collecting powerful \\&quot;magic\\&quot; items from fallen opponents, such as a stormtrooper&#39;s helmet or a range finder from a blaster rifle, is a sure way for an Ewok to earn the respect of his tribe.&quot;,\r\n      &quot;spoken_language&quot;: [\r\n        &quot;Basic&quot;,\r\n        &quot;Ewokese&quot;\r\n      ],\r\n      &quot;literate_language&quot;: [\r\n        &quot;Basic&quot;,\r\n        &quot;Ewokese&quot;\r\n      ],\r\n      &quot;abilities&quot;: [\r\n        -2,\r\n        2,\r\n        0,\r\n        0,\r\n        0,\r\n        0\r\n      ],\r\n      &quot;size&quot;: &quot;Small: As Small creatures, Ewoks gain a +1 size bonus to the Defense, a +1 size bonus on Attack Rolls, and a +4 size bonus on Hide Checks, but they must use smaller weapons than Humans use, and their lifting and carrying limits are three-quarter of those of Medium-sized characters.&quot;,\r\n      &quot;speed&quot;: 6\r\n    },\r\n    {\r\n      &quot;sourcebook&quot;: &quot;Revised Core Rulebook&quot;,\r\n      &quot;file&quot;: &quot;src/main/resources/db/core_rulebook/species/Gamorrean.md&quot;,\r\n      &quot;name&quot;: &quot;Gamorrean&quot;,\r\n      &quot;description&quot;: &quot;Brutish and violent, the porcine Gamorreans come from the Outer Rin world of Gamorr. Green-skinned with piglike snouts, tusks, and small horns, Gamorreans are respected for their great strength and short tempers. The history of Gamorr is marked by an almost constant state of warfare. Males train for and fight wars, while the females farm, hunt, and handle trade. Since their homeworld was discovered, a number of Gamorreans have found their way into the galactic society. The technologically poor homeworld has a savage, primitive culture that resembles the pre-industrial periods that human civilizations experienced more than 25,000 years ago. Even so, the physically imposing Gamorreans make good laborer, bodyguards, and mercenaries. While they prefer primitive melee weapons, they have no problem learning to use powered weapons and even blasters.&quot;,\r\n      &quot;personality&quot;: &quot;Gamorreans are brutish, violent and proud. They respect physical prowess and have no problem facing death against a foe they feel they are on at least equal footing with. They do display fear in the face of obviously superior opponents, however, considering such a display to be prudent and even rational.&quot;,\r\n      &quot;appearance&quot;: &quot;Gamorreans average about 1.8 meters tall, with thick green skin covering powerful muscles. Close-set eyes, a thick snout, tusks, and small horns lend a distinct look to every Gamorrean.&quot;,\r\n      &quot;homeworld&quot;: &quot;The pre-industrial agricultural world of Gamorr.&quot;,\r\n      &quot;language&quot;: &quot;Gamorreans speak Gamorrean. They have no written version of the language. They can learn to understand other languages, but Gamorreans lack the mechanism to speak any tongue but their own.&quot;,\r\n      &quot;adventurers&quot;: &quot;Gamorreans leave their homeworld for a variety of reasons. Some are taken as slaves and later escape or buy out their contracts. Others sell their contracts on the open market, finding employment as bodyguards, mercenaries, and professional soldiers. A Gamorrean is constantly at war, no matter where he or she resides in the galaxy; it&#39;s often only a matter of figuring out who the enemy is. Gamorrean heroes tend to selec the fringer or soldier classes. To date, there are no known examples of Gamorrean Force-users.&quot;,\r\n      &quot;spoken_language&quot;: [\r\n        &quot;Basic&quot;,\r\n        &quot;Gamorrean&quot;\r\n      ],\r\n      &quot;literate_language&quot;: [\r\n        &quot;Basic&quot;,\r\n        &quot;Gamorrean&quot;\r\n      ],\r\n      &quot;abilities&quot;: [\r\n        2,\r\n        -2,\r\n        0,\r\n        -2,\r\n        0,\r\n        0\r\n      ],\r\n      &quot;size&quot;: &quot;Medium: As Medium-size creatures, Humans have no special bonuses or penalties due to their size.&quot;,\r\n      &quot;speed&quot;: 10\r\n    },\r\n    {\r\n      &quot;sourcebook&quot;: &quot;Revised Core Rulebook&quot;,\r\n      &quot;file&quot;: &quot;src/main/resources/db/core_rulebook/species/Gungan.md&quot;,\r\n      &quot;name&quot;: &quot;Gungan&quot;,\r\n      &quot;description&quot;: &quot;From the watery depths of Naboo, the Gungans are an ancient species with a warlike tradition. Gungans can hold their breath for extended periods, and they live within underwater cities. Their bubble dwellings contain a breathable atmosphere. The most common Gungan race is the Otolla Gungan, characterized by taller, leaner frames and extended eyestalks. The rare Ankura Gungan has recessed eyes, green skin, and a heavier, shorter frame. Except for the physical characteristics, there are no genetic differences between the two Gungan races.Usually distrustful of strangers and slow to accept aid, Gungans are nevertheless brave, strong and confident of their own traditions.&quot;,\r\n      &quot;personality&quot;: &quot;Gungans tend to be inquisitive, cautious and suspicious.&quot;,\r\n      &quot;appearance&quot;: &quot;Gungans range from 1.6 to 2 meters tall, with two eyestalks, floppy ears, and long tongues.&quot;,\r\n      &quot;homeworld&quot;: &quot;Naboo (with colonies on the Ohma-D&#39;un moon).&quot;,\r\n      &quot;language&quot;: &quot;Gungans speak Gungan and Basic.&quot;,\r\n      &quot;adventurers&quot;: &quot;Gungan adventurers have a strong warrior tradition. Many leave the underwater cities to explore the ancient swamps and shorelines. Since the treaty with the Humans of Naboo, some Gungans have taken a larger step into galactic society. These brave individuals are driven by an impulse to explore and regain the warrior spirit of olf. There are no examples of Gungan Jedi as yet, though there have been legends of Force adepts among these people.&quot;,\r\n      &quot;spoken_language&quot;: [\r\n        &quot;Basic&quot;,\r\n        &quot;Gungan&quot;\r\n      ],\r\n      &quot;literate_language&quot;: [\r\n        &quot;Basic&quot;,\r\n        &quot;Gungan&quot;\r\n      ],\r\n      &quot;abilities&quot;: [\r\n        0,\r\n        0,\r\n        2,\r\n        0,\r\n        -2,\r\n        0\r\n      ],\r\n      &quot;size&quot;: &quot;Medium&quot;,\r\n      &quot;speed&quot;: 10\r\n    },\r\n    {\r\n      &quot;sourcebook&quot;: &quot;Revised Core Rulebook&quot;,\r\n      &quot;file&quot;: &quot;src/main/resources/db/core_rulebook/species/ithorian.md&quot;,\r\n      &quot;name&quot;: &quot;Ithorian&quot;,\r\n      &quot;description&quot;: &quot;Ithorians come from the jungle world of Ithor or one of its many spaceworthy \\&quot;herd\\&quot; ships. Also known as Hammerheads by the galaxy at large, Ithorians are a peaceful people. Ithorians dedicate themselves to ecological endeavors, especially on their homeworld, where they seek to preserve the pastoral beauty of the great tropical jungle - the Mother Jungle. A gentle people, Ithorians have a great love of art. Many travel the galaxy in giant hyperdrive herd ships designed to serve as ecological replicas of the Ithorian homeworld, bringing the beauty of Ithor wherever they go.&quot;,\r\n      &quot;personality&quot;: &quot;Ithorians tend to be calm, peaceful, tranquil, and gentle.&quot;,\r\n      &quot;appearance&quot;: &quot;Ithorians are humanoid, ranging in height from 1.8 to 2.3 meter tall, with long necks that curls forward and end in dome-shaped heads. They have two mouths, one on each side of their neck, producing a stereo effect when they talk.&quot;,\r\n      &quot;homeworld&quot;: &quot;Ithor, or a specific herd ship.&quot;,\r\n      &quot;language&quot;: &quot;Ithorians speak stereophonic Ithorese and Basic.&quot;,\r\n      &quot;adventurers&quot;: &quot;Ithorians tend to concentrate on peaceful professions. They love to meet new beings and see new places. They enjoy negotiating deals and finding peaceful solutions to conflict. They have a spiritual nature tied to their devotion to the Mother Jungle of their homeworld. Often, wanderlust leads them to explore the greater galaxy for a time before they eventually return to Ithor or the herd ship that spawned them.&quot;,\r\n      &quot;spoken_language&quot;: [\r\n        &quot;Basic&quot;,\r\n        &quot;Ithorese&quot;\r\n      ],\r\n      &quot;literate_language&quot;: [\r\n        &quot;Basic&quot;,\r\n        &quot;Ithorese&quot;\r\n      ],\r\n      &quot;abilities&quot;: [\r\n        0,\r\n        -2,\r\n        0,\r\n        0,\r\n        2,\r\n        2\r\n      ],\r\n      &quot;size&quot;: &quot;Medium&quot;,\r\n      &quot;speed&quot;: 10\r\n    },\r\n    {\r\n      &quot;sourcebook&quot;: &quot;Revised Core Rulebook&quot;,\r\n      &quot;file&quot;: &quot;src/main/resources/db/core_rulebook/species/keldor.md&quot;,\r\n      &quot;name&quot;: &quot;Kel Dor&quot;,\r\n      &quot;description&quot;: &quot;The Kel Dor originate on the planet Dorin, where they developed in an atmosphere of helium and a gas unique to their world. Consequently, more common atmospheres, including those that consist of oxygen, nitrogen, and carbon dioxide, are deadly to the Kel Dor. Those Kel Dor that operate beyond the confines of their homeworld must wear breath masks and protective goggles. \\\\n The Kel Dor have a long and proud Force tradition, though they have adapted it to the Jedi tradition since joining the Republic over six thousand years ago. Kind-hearted, the Kel Dor nevertheless believe in swift justice.&quot;,\r\n      &quot;personality&quot;: &quot;Even-tempered and kind-hearted, the Kel Dor never turn away a being in need. At the same time, the average Kel Dor believes in quick, simple justice and isn&#39;t averse to taking the law into his or her own hands.&quot;,\r\n      &quot;appearance&quot;: &quot;The average Kel Dor stands between 1.4 and 2 meters tall. Their skin ranges in color from peach to deep red. Most have black eyes, though a few are born with silver irises that some believe mark them as strong in the Force.&quot;,\r\n      &quot;homeworld&quot;: &quot;The technological planet of Dorin.&quot;,\r\n      &quot;language&quot;: &quot;The Kel Dor speak Kel Dor and Basic.&quot;,\r\n      &quot;adventurers&quot;: &quot;Kel Dor who decide to brave the dangers of living outside their homeworld tend to be nobles such as diplomats and traders, bounty hunters, and Jedi. Their willingness to help others often mixes with their innate sense of justice, leading many into some form of law enforcement.&quot;,\r\n      &quot;spoken_language&quot;: [\r\n        &quot;Basic&quot;,\r\n        &quot;Kel Dor&quot;\r\n      ],\r\n      &quot;literate_language&quot;: [\r\n        &quot;Basic&quot;,\r\n        &quot;Kel Dor&quot;\r\n      ],\r\n      &quot;abilities&quot;: [\r\n        0,\r\n        2,\r\n        -2,\r\n        0,\r\n        2,\r\n        0\r\n      ],\r\n      &quot;size&quot;: &quot;Medium&quot;,\r\n      &quot;speed&quot;: 10\r\n    },\r\n    {\r\n      &quot;sourcebook&quot;: &quot;Revised Core Rulebook&quot;,\r\n      &quot;file&quot;: &quot;src/main/resources/db/core_rulebook/species/moncalamari.md&quot;,\r\n      &quot;name&quot;: &quot;Mon Calamari&quot;,\r\n      &quot;description&quot;: &quot;Soft-spoken but forceful, the Mon Calamari are great starship engineers. They see everything they create as a work of art, not just as a tool or weapon. They are a lawful, organized people who have little tolerance for those who operate outside the status quo. They come from a water-covered world and can breathe both air and water. \\\\n Recognized for their analytical and organizational skills, Mon Calamari also have keen love of flying among the stars. They believe in order and the greater good, sometim,es going so far as to support the good of society over the good of the individual.&quot;,\r\n      &quot;personality&quot;: &quot;Creative, quiet, and inquisitive, the Mon Calamari are dreamers who cherish peace but aren&#39;t afraid to wage war for the causes they believe in.&quot;,\r\n      &quot;appearance&quot;: &quot;The average Mon Calamari stands between 1.3 and 1.8 meters tall. They smell of salt and the sea, with high-domed heads, large eyes, and smooth, mottled skin.&quot;,\r\n      &quot;homeworld&quot;: &quot;The watery, technological planet of Mon Calamari.&quot;,\r\n      &quot;language&quot;: &quot;The Mon Calamari speak Mon Calamari and Basic. They tend to learn Quarrenese.&quot;,\r\n      &quot;adventurers&quot;: &quot;Mon Calamari seek their dreams among the stars. They are idealistic and daring, often attaching themselves to cause that seem hopeless or lost right from the start. An individual Mon Calamari has great spirit and an entusiasm that often remains hidden behind a quiet, orderly exterior. They strive to prove that even thinkers and dreamers can br brave and daring when the need arises.&quot;,\r\n      &quot;spoken_language&quot;: [\r\n        &quot;Basic&quot;,\r\n        &quot;Mon Calamari&quot;\r\n      ],\r\n      &quot;literate_language&quot;: [\r\n        &quot;Basic&quot;,\r\n        &quot;Mon Calamari&quot;\r\n      ],\r\n      &quot;abilities&quot;: [\r\n        0,\r\n        0,\r\n        -2,\r\n        2,\r\n        0,\r\n        0\r\n      ],\r\n      &quot;size&quot;: &quot;Medium&quot;,\r\n      &quot;speed&quot;: 10\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nI would like to iterate through the each of the object of the JSON array and output them to the console window with:\r\n\r\n    System.out.println\r\n\r\nI can parse with \r\n\r\n    ObjectMapper.readValue(source, class);\r\n\r\nAlthough, this gives me the whole JSON file and does not read the child objects in the array. How can I loop through the array and output the objects in the array.\r\n\r\nHere is the class file:\r\n\r\n    package Species;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n    import java.util.*;\r\n    \r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    \r\n    public class Species {\r\n        private String sourcebook;\r\n        private String file;\r\n        private String name;\r\n        private String description;\r\n        private String personality;\r\n        private String appearance;\r\n        private String homeworld;\r\n        private String language;\r\n        private String adventurers;\r\n        private List&lt;String&gt; spokenLanguage = new ArrayList&lt;String&gt;();\r\n        private List&lt;String&gt; literateLanguage = new ArrayList&lt;String&gt;();\r\n        private List&lt;Integer&gt; abilities = new ArrayList&lt;Integer&gt;();\r\n        private String size;\r\n        private Integer speed;\r\n        \r\n        public Species() {\r\n            // Default Constructor\r\n        }\r\n    \r\n        public Species(String sourcebook, String file, String name, String description, String personality, String appearance, String homeworld,\r\n                String language, String adventurers, List&lt;String&gt; spokenLanguage, List&lt;String&gt; literateLanguage, List&lt;Integer&gt; abilities, String size, Integer speed) {\r\n            this.sourcebook = sourcebook;\r\n            this.file = file;\r\n            this.name = name;\r\n            this.description = description;\r\n            this.personality = personality;\r\n            this.appearance = appearance;\r\n            this.homeworld = homeworld;\r\n            this.language = language;\r\n            this.adventurers = adventurers;\r\n            this.spokenLanguage = spokenLanguage;\r\n            this.literateLanguage = literateLanguage;\r\n            this.abilities = abilities;\r\n            this.size = size;\r\n            this.speed = speed;\r\n        }\r\n    \r\n        public String getSourcebook() {\r\n            return sourcebook;\r\n        }\r\n        public void setSourcebook(String sourcebook) {\r\n            this.sourcebook = sourcebook;\r\n        }\r\n        public String getFile() {\r\n            return file;\r\n        }\r\n        public void setFile(String file) {\r\n            this.file = file;\r\n        }\r\n        public String getName() {\r\n            return name;\r\n        }\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n        public String getDescription() {\r\n            return description;\r\n        }\r\n        public void setDescription(String description) {\r\n            this.description = description;\r\n        }\r\n        public String getPersonality() {\r\n            return personality;\r\n        }\r\n        public void setPersonality(String personality) {\r\n            this.personality = personality;\r\n        }\r\n        public String getAppearance() {\r\n            return appearance;\r\n        }\r\n        public void setAppearance(String appearance) {\r\n            this.appearance = appearance;\r\n        }\r\n        public String getHomeworld() {\r\n            return homeworld;\r\n        }\r\n        public void setHomeworld(String homeworld) {\r\n            this.homeworld = homeworld;\r\n        }\r\n        public String getLanguage() {\r\n            return language;\r\n        }\r\n        public void setLanguage(String language) {\r\n            this.language = language;\r\n        }\r\n        public String getAdventurers() {\r\n            return adventurers;\r\n        }\r\n        public void setAdventurers(String adventurers) {\r\n            this.adventurers = adventurers;\r\n        }\r\n        public List&lt;String&gt; getSpokenLanguage() {\r\n            return spokenLanguage;\r\n        }\r\n        public void setSpokenLanguage(List&lt;String&gt; spokenLanguage) {\r\n            this.spokenLanguage = spokenLanguage;\r\n        }\r\n        public List&lt;String&gt; getLiterateLanguage() {\r\n            return literateLanguage;\r\n        }\r\n        public void setLiterateLanguage(List&lt;String&gt; literateLanguage) {\r\n            this.literateLanguage = literateLanguage;\r\n        }\r\n        public List&lt;Integer&gt; getAbilities() {\r\n            return abilities;\r\n        }\r\n        public void setAbilities(List&lt;Integer&gt; abilities) {\r\n            this.abilities = abilities;\r\n        }\r\n        public String getSize() {\r\n            return size;\r\n        }\r\n        public void setSize(String size) {\r\n            this.size = size;\r\n        }\r\n        public Integer getSpeed() {\r\n            return speed;\r\n        }\r\n        public void setSpeed(Integer speed) {\r\n            this.speed = speed;\r\n        }\r\n    }\r\n\r\nHere is main file:\r\n\r\n    package Species;\r\n    \r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.*;\r\n    import com.fasterxml.jackson.databind.node.ArrayNode;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n    \r\n            // File file = new File(&quot;src/main/resources/species.json&quot;);\r\n            File file = new File(&quot;src/main/resources/species.1.json&quot;);\r\n    \r\n            ObjectMapper mapper = new ObjectMapper();\r\n    \r\n            try {\r\n                JsonNode root = mapper.readTree(file);\r\n    \r\n                for(JsonNode species : root) {\r\n                    // Get Sourcebook\r\n                    String sourcebook = species.get(&quot;sourcebook&quot;).toString();\r\n                    System.out.println(sourcebook);\r\n    \r\n                    // Get Species Name\r\n                    String name = species.get(&quot;name&quot;).toString();\r\n                    System.out.println(name);\r\n                }\r\n    \r\n                System.out.println(root);\r\n    \r\n            } catch (JsonProcessingException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nAlso, Not sure if I am implementing this correctly.","title":"Jackson ObjectMapper JSON to Java Object RETURNS NULL Values","body":"<p>I'm trying to loop through the child object of a JSON array which stores objects. My JSON file is as follows:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n&quot;species&quot;: [\n    {\n      &quot;sourcebook&quot;: &quot;Revised Core Rulebook&quot;,\n      &quot;file&quot;: &quot;src/main/resources/db/core_rulebook/species/human.md&quot;,\n      &quot;name&quot;: &quot;Human&quot;,\n      &quot;description&quot;: &quot;Humans dominate the Core Worlds and can be found in virtually every corner of the galaxy. They are the ancestors of early spacefaring pioneers, conquerors, traders, travelers and refugees. Humans have always been people on the move. As a result, they can be found on almost every inhabitable planet. As a species, Humans as physically, culturally, and politically diverse. Hardy or fine, light-skinned or dark, Humans remain one the most dominant species throughout all eras of play.&quot;,\n      &quot;personality&quot;: &quot;Human personality runs the gamut of possibilities, though member of this species tend to be highly adaptable, tenacious, and willing to keep striving no matter the odds. They are flexible and ambitious, diverse in their tastes, morals, customs, and habits.&quot;,\n      &quot;appearance&quot;: &quot;Humans average about 1.8 meters tall. Skin shades run from nearly black to very pale., hair from black to blond. Men are usually taller and heavier than the women. Humans achieve maturity about the age of 15 and rarely live beyond 100.&quot;,\n      &quot;homeworld&quot;: &quot;Various, including Coruscant, Corulag, Naboo, Tatooine, and Alderaan.&quot;,\n      &quot;language&quot;: &quot;Humans speak and read Basic. They typically learn other languages, including obscure ones.&quot;,\n      &quot;adventurers&quot;: &quot;Humans aren't afraid to try anything, and Human adventurers are the most audacious, daring, and ambitious species. A Human can earn glory by amassing power, wealth, and fame. More than another species, Humans champion cause rather than territories or groups.&quot;,\n      &quot;spoken_language&quot;: [\n        &quot;Basic&quot;\n      ],\n      &quot;literate_language&quot;: [\n        &quot;Basic&quot;\n      ],\n      &quot;abilities&quot;: [\n        0,\n        0,\n        0,\n        0,\n        0,\n        0\n      ],\n      &quot;size&quot;: &quot;Medium&quot;,\n      &quot;speed&quot;: 10\n    },\n    {\n      &quot;sourcebook&quot;: &quot;Revised Core Rulebook&quot;,\n      &quot;file&quot;: &quot;src/main/resources/db/core_rulebook/species/bothan.md&quot;,\n      &quot;name&quot;: &quot;Bothan&quot;,\n      &quot;description&quot;: &quot;The planet Bothawui, in the Mid Rim of the galaxy, gave rise to the Bothan species. These shoprt, fur-covered humaniods have had hyperspace travel for thousands of years and were among the first civilizations to join the galactic society. Bothans deal in information. They use information as a measure of wealth and power, even wielding it as a weapon when necessary. The Bothan Spynet serves as one of the largest intelligence agencies throughout most eras, and it plays and important and poignant role in the Rebellion era. Culturally, Bothans don't believe in direct conflict. They prefer to manipulate situations from behind the scenes, to watch and wait for information and opportunity, and to use these tools to gain status and influence.&quot;,\n      &quot;personality&quot;: &quot;Bothans are manipulative, crafty, suspicious and curious by anture, and a little paranoid. They can be irritating, but they are also loyal and brave.&quot;,\n      &quot;appearance&quot;: &quot;Bothans are covered with fur that ripples in response to their emotional state. They have tappered ears, and both male and female Bothans sport beards. They average about 1.6 meters tall and have a maturity rate and life span slightly greater than Humans.&quot;,\n      &quot;homeworld&quot;: &quot;The industrial world of Bothawui, with various colony worlds throughout the Mid Rim Territories, including Kothlis and Torolis.&quot;,\n      &quot;language&quot;: &quot;Bothans speak and read Bothese and Basic.&quot;,\n      &quot;adventurers&quot;: &quot;Bothan adventurers, such as operatives in the Spynet, engage in daring deeds - even when such deeds put them at great personal risk. In addition to the intelligence operatives, Bothan heroes serve as soldiers and pilots, diplomats and ambassadors. Their curiosity leads some to be explorer and scouts. Even when a Bothan makes it hard not to look for the profit and prestige in the situation.&quot;,\n      &quot;spoken_language&quot;: [\n        &quot;Basic&quot;,\n        &quot;Bothese&quot;\n      ],\n      &quot;literate_language&quot;: [\n        &quot;Basic&quot;,\n        &quot;Bothese&quot;\n      ],\n      &quot;abilities&quot;: [\n        0,\n        2,\n        -2,\n        0,\n        0,\n        0\n      ],\n      &quot;size&quot;: &quot;Medium&quot;,\n      &quot;speed&quot;: 10\n    },\n    {\n      &quot;sourcebook&quot;: &quot;Revised Core Rulebook&quot;,\n      &quot;file&quot;: &quot;src/main/resources/db/core_rulebook/species/cerean.md&quot;,\n      &quot;name&quot;: &quot;Cerean&quot;,\n      &quot;description&quot;: &quot;Cereans come from a remote utopian world. Most Cereans are peaceful, following farming traditions that date back thousands of years. The species includes more females than males, and Cerean society is matriarchal. Their high-domed heads hold binary brians, and two hearts beat in a Cerean's chest. With a non-aggressive heritage, it is only rarely that a Cerean develops the desire to adventure, and even more rare that one takes up the robes of a Jedi Knight.&quot;,\n      &quot;personality&quot;: &quot;Cereans tend to be calm, rational, and extremely logical.&quot;,\n      &quot;appearance&quot;: &quot;Cereans average about two meters tall, with elongated craniums. They have a maturity rate and life span similar to that of Humans.&quot;,\n      &quot;homeworld&quot;: &quot;The blissful planet Cerea.&quot;,\n      &quot;language&quot;: &quot;Cereans speak and read Cerean and Basic.&quot;,\n      &quot;adventurers&quot;: &quot;Cereans who become adventurers do so in direct contradiction to their traditions and beliefs. Even so, when a cause or situation turns a Cerean to this path, he or she tries to approach life with as many of the Cerena beliefs as possible. Aggression should be the last resort after all peaceful solutions are attempted, for example. The binary brain allows a Cerean to constantly weigh both sides in an disagreement and give two points of view equal consideration. This ability extends even to issues surrounding the Force, and a Cerean Force-user often contemplates the light and dark side simultaneously.&quot;,\n      &quot;spoken_language&quot;: [\n        &quot;Basic&quot;,\n        &quot;Cerean&quot;\n      ],\n      &quot;literate_language&quot;: [\n        &quot;Basic&quot;,\n        &quot;Cerean&quot;\n      ],\n      &quot;abilities&quot;: [\n        0,\n        -2,\n        0,\n        2,\n        2,\n        0\n      ],\n      &quot;size&quot;: &quot;Medium&quot;,\n      &quot;speed&quot;: 10\n    },\n    {\n      &quot;sourcebook&quot;: &quot;Revised Core Rulebook&quot;,\n      &quot;file&quot;: &quot;src/main/resources/db/core_rulebook/species/Duros.md&quot;,\n      &quot;name&quot;: &quot;Duros&quot;,\n      &quot;description&quot;: &quot;The Duros originate in the Duro star system, located at the extreme edge of the Core region of space. With an almost innate affinity for space travel, the Duros were among the first to leave their world and spread to the stars. Whatever the reason for their wanderlust, the Duros tend to gravitate toward the space lanes for income and adventure. Their home system is governed by vast starship engineering corporations, and most Duros learn to pilot a ship or rebuild a hyperdrive shortly after they begin to walk and talk.&quot;,\n      &quot;personality&quot;: &quot;A Duros tends to be intense and adventureous, always seeking to learn what's at the end of the next hyperspce jump. They are a proud, self-sufficient, fun-loving people who also have a tendency toward gregariousness.&quot;,\n      &quot;appearance&quot;: &quot;Duros average about 1.8 meters tall. They are hairless, with large eyes and wide, lipless mouths. Skin color ranges from blue-gray to deep azure.&quot;,\n      &quot;homeworld&quot;: &quot;The orbiting cities of the Duro system.&quot;,\n      &quot;language&quot;: &quot;Duros speak and are literate in Durese and Basic.&quot;,\n      &quot;adventurers&quot;: &quot;Duros adventurers include hyperspace explorers, star charter and spaceer of all descriptions. They also tend to gravitate toward the sciences, including engineering and astrogation. Some Duros shun exploration in favor of smuggling and trading, and a small number go into diplomatic professions.&quot;,\n      &quot;spoken_language&quot;: [\n        &quot;Basic&quot;,\n        &quot;Durese&quot;\n      ],\n      &quot;literate_language&quot;: [\n        &quot;Basic&quot;,\n        &quot;Durese&quot;\n      ],\n      &quot;abilities&quot;: [\n        -2,\n        2,\n        -2,\n        2,\n        0,\n        0\n      ],\n      &quot;size&quot;: &quot;Medium&quot;,\n      &quot;speed&quot;: 10\n    },\n    {\n      &quot;sourcebook&quot;: &quot;Revised Core Rulebook&quot;,\n      &quot;file&quot;: &quot;src/main/resources/db/core_rulebook/species/Ewok.md&quot;,\n      &quot;name&quot;: &quot;Ewok&quot;,\n      &quot;description&quot;: &quot;Ewoks hail from the forest moon of Endor, where they maintain a primitive hunter/gather society. Prior to the Battle of Endor (four year after Episode IV), Ewoks were almost entirely unknown to the galaxy at large. Som traders and explorer visited Endor's moon, but with no form of space travel, Ewoks never left their homeworld. Although primitive by galactic standards, the tribal Ewoks are resourceful and highly adaptable. The tribal Ewoks may be technologically primitive when compared to most of the galactic society, but they are also clever and inventive. While they tend to initially be wary around machinery, it isn't long before their natural curiosity wins out and they plunge into wild and exuberant experimentation.&quot;,\n      &quot;personality&quot;: &quot;Ewoks tend to be curious, superstitious, and courageous, though they can be fearful around things that are strange and new.&quot;,\n      &quot;appearance&quot;: &quot;Ewoks average about 1 meter tall. Their thick fur varies widely in color and pattern. They often wear hoods, decorative feather, and animal bones.&quot;,\n      &quot;homeworld&quot;: &quot;The forest moon of Endor.&quot;,\n      &quot;language&quot;: &quot;Ewoks speak Ewokese. They have no written form of their language. They can learn to speak Basic.&quot;,\n      &quot;adventurers&quot;: &quot;An Ewok adventurer may be motivated by a love of excitement, a natural inquisitiveness, or a warrior's quest. Usually, an Ewok hero joins up with a scout or hero who has access to a starship. Collecting powerful \\&quot;magic\\&quot; items from fallen opponents, such as a stormtrooper's helmet or a range finder from a blaster rifle, is a sure way for an Ewok to earn the respect of his tribe.&quot;,\n      &quot;spoken_language&quot;: [\n        &quot;Basic&quot;,\n        &quot;Ewokese&quot;\n      ],\n      &quot;literate_language&quot;: [\n        &quot;Basic&quot;,\n        &quot;Ewokese&quot;\n      ],\n      &quot;abilities&quot;: [\n        -2,\n        2,\n        0,\n        0,\n        0,\n        0\n      ],\n      &quot;size&quot;: &quot;Small: As Small creatures, Ewoks gain a +1 size bonus to the Defense, a +1 size bonus on Attack Rolls, and a +4 size bonus on Hide Checks, but they must use smaller weapons than Humans use, and their lifting and carrying limits are three-quarter of those of Medium-sized characters.&quot;,\n      &quot;speed&quot;: 6\n    },\n    {\n      &quot;sourcebook&quot;: &quot;Revised Core Rulebook&quot;,\n      &quot;file&quot;: &quot;src/main/resources/db/core_rulebook/species/Gamorrean.md&quot;,\n      &quot;name&quot;: &quot;Gamorrean&quot;,\n      &quot;description&quot;: &quot;Brutish and violent, the porcine Gamorreans come from the Outer Rin world of Gamorr. Green-skinned with piglike snouts, tusks, and small horns, Gamorreans are respected for their great strength and short tempers. The history of Gamorr is marked by an almost constant state of warfare. Males train for and fight wars, while the females farm, hunt, and handle trade. Since their homeworld was discovered, a number of Gamorreans have found their way into the galactic society. The technologically poor homeworld has a savage, primitive culture that resembles the pre-industrial periods that human civilizations experienced more than 25,000 years ago. Even so, the physically imposing Gamorreans make good laborer, bodyguards, and mercenaries. While they prefer primitive melee weapons, they have no problem learning to use powered weapons and even blasters.&quot;,\n      &quot;personality&quot;: &quot;Gamorreans are brutish, violent and proud. They respect physical prowess and have no problem facing death against a foe they feel they are on at least equal footing with. They do display fear in the face of obviously superior opponents, however, considering such a display to be prudent and even rational.&quot;,\n      &quot;appearance&quot;: &quot;Gamorreans average about 1.8 meters tall, with thick green skin covering powerful muscles. Close-set eyes, a thick snout, tusks, and small horns lend a distinct look to every Gamorrean.&quot;,\n      &quot;homeworld&quot;: &quot;The pre-industrial agricultural world of Gamorr.&quot;,\n      &quot;language&quot;: &quot;Gamorreans speak Gamorrean. They have no written version of the language. They can learn to understand other languages, but Gamorreans lack the mechanism to speak any tongue but their own.&quot;,\n      &quot;adventurers&quot;: &quot;Gamorreans leave their homeworld for a variety of reasons. Some are taken as slaves and later escape or buy out their contracts. Others sell their contracts on the open market, finding employment as bodyguards, mercenaries, and professional soldiers. A Gamorrean is constantly at war, no matter where he or she resides in the galaxy; it's often only a matter of figuring out who the enemy is. Gamorrean heroes tend to selec the fringer or soldier classes. To date, there are no known examples of Gamorrean Force-users.&quot;,\n      &quot;spoken_language&quot;: [\n        &quot;Basic&quot;,\n        &quot;Gamorrean&quot;\n      ],\n      &quot;literate_language&quot;: [\n        &quot;Basic&quot;,\n        &quot;Gamorrean&quot;\n      ],\n      &quot;abilities&quot;: [\n        2,\n        -2,\n        0,\n        -2,\n        0,\n        0\n      ],\n      &quot;size&quot;: &quot;Medium: As Medium-size creatures, Humans have no special bonuses or penalties due to their size.&quot;,\n      &quot;speed&quot;: 10\n    },\n    {\n      &quot;sourcebook&quot;: &quot;Revised Core Rulebook&quot;,\n      &quot;file&quot;: &quot;src/main/resources/db/core_rulebook/species/Gungan.md&quot;,\n      &quot;name&quot;: &quot;Gungan&quot;,\n      &quot;description&quot;: &quot;From the watery depths of Naboo, the Gungans are an ancient species with a warlike tradition. Gungans can hold their breath for extended periods, and they live within underwater cities. Their bubble dwellings contain a breathable atmosphere. The most common Gungan race is the Otolla Gungan, characterized by taller, leaner frames and extended eyestalks. The rare Ankura Gungan has recessed eyes, green skin, and a heavier, shorter frame. Except for the physical characteristics, there are no genetic differences between the two Gungan races.Usually distrustful of strangers and slow to accept aid, Gungans are nevertheless brave, strong and confident of their own traditions.&quot;,\n      &quot;personality&quot;: &quot;Gungans tend to be inquisitive, cautious and suspicious.&quot;,\n      &quot;appearance&quot;: &quot;Gungans range from 1.6 to 2 meters tall, with two eyestalks, floppy ears, and long tongues.&quot;,\n      &quot;homeworld&quot;: &quot;Naboo (with colonies on the Ohma-D'un moon).&quot;,\n      &quot;language&quot;: &quot;Gungans speak Gungan and Basic.&quot;,\n      &quot;adventurers&quot;: &quot;Gungan adventurers have a strong warrior tradition. Many leave the underwater cities to explore the ancient swamps and shorelines. Since the treaty with the Humans of Naboo, some Gungans have taken a larger step into galactic society. These brave individuals are driven by an impulse to explore and regain the warrior spirit of olf. There are no examples of Gungan Jedi as yet, though there have been legends of Force adepts among these people.&quot;,\n      &quot;spoken_language&quot;: [\n        &quot;Basic&quot;,\n        &quot;Gungan&quot;\n      ],\n      &quot;literate_language&quot;: [\n        &quot;Basic&quot;,\n        &quot;Gungan&quot;\n      ],\n      &quot;abilities&quot;: [\n        0,\n        0,\n        2,\n        0,\n        -2,\n        0\n      ],\n      &quot;size&quot;: &quot;Medium&quot;,\n      &quot;speed&quot;: 10\n    },\n    {\n      &quot;sourcebook&quot;: &quot;Revised Core Rulebook&quot;,\n      &quot;file&quot;: &quot;src/main/resources/db/core_rulebook/species/ithorian.md&quot;,\n      &quot;name&quot;: &quot;Ithorian&quot;,\n      &quot;description&quot;: &quot;Ithorians come from the jungle world of Ithor or one of its many spaceworthy \\&quot;herd\\&quot; ships. Also known as Hammerheads by the galaxy at large, Ithorians are a peaceful people. Ithorians dedicate themselves to ecological endeavors, especially on their homeworld, where they seek to preserve the pastoral beauty of the great tropical jungle - the Mother Jungle. A gentle people, Ithorians have a great love of art. Many travel the galaxy in giant hyperdrive herd ships designed to serve as ecological replicas of the Ithorian homeworld, bringing the beauty of Ithor wherever they go.&quot;,\n      &quot;personality&quot;: &quot;Ithorians tend to be calm, peaceful, tranquil, and gentle.&quot;,\n      &quot;appearance&quot;: &quot;Ithorians are humanoid, ranging in height from 1.8 to 2.3 meter tall, with long necks that curls forward and end in dome-shaped heads. They have two mouths, one on each side of their neck, producing a stereo effect when they talk.&quot;,\n      &quot;homeworld&quot;: &quot;Ithor, or a specific herd ship.&quot;,\n      &quot;language&quot;: &quot;Ithorians speak stereophonic Ithorese and Basic.&quot;,\n      &quot;adventurers&quot;: &quot;Ithorians tend to concentrate on peaceful professions. They love to meet new beings and see new places. They enjoy negotiating deals and finding peaceful solutions to conflict. They have a spiritual nature tied to their devotion to the Mother Jungle of their homeworld. Often, wanderlust leads them to explore the greater galaxy for a time before they eventually return to Ithor or the herd ship that spawned them.&quot;,\n      &quot;spoken_language&quot;: [\n        &quot;Basic&quot;,\n        &quot;Ithorese&quot;\n      ],\n      &quot;literate_language&quot;: [\n        &quot;Basic&quot;,\n        &quot;Ithorese&quot;\n      ],\n      &quot;abilities&quot;: [\n        0,\n        -2,\n        0,\n        0,\n        2,\n        2\n      ],\n      &quot;size&quot;: &quot;Medium&quot;,\n      &quot;speed&quot;: 10\n    },\n    {\n      &quot;sourcebook&quot;: &quot;Revised Core Rulebook&quot;,\n      &quot;file&quot;: &quot;src/main/resources/db/core_rulebook/species/keldor.md&quot;,\n      &quot;name&quot;: &quot;Kel Dor&quot;,\n      &quot;description&quot;: &quot;The Kel Dor originate on the planet Dorin, where they developed in an atmosphere of helium and a gas unique to their world. Consequently, more common atmospheres, including those that consist of oxygen, nitrogen, and carbon dioxide, are deadly to the Kel Dor. Those Kel Dor that operate beyond the confines of their homeworld must wear breath masks and protective goggles. \\\\n The Kel Dor have a long and proud Force tradition, though they have adapted it to the Jedi tradition since joining the Republic over six thousand years ago. Kind-hearted, the Kel Dor nevertheless believe in swift justice.&quot;,\n      &quot;personality&quot;: &quot;Even-tempered and kind-hearted, the Kel Dor never turn away a being in need. At the same time, the average Kel Dor believes in quick, simple justice and isn't averse to taking the law into his or her own hands.&quot;,\n      &quot;appearance&quot;: &quot;The average Kel Dor stands between 1.4 and 2 meters tall. Their skin ranges in color from peach to deep red. Most have black eyes, though a few are born with silver irises that some believe mark them as strong in the Force.&quot;,\n      &quot;homeworld&quot;: &quot;The technological planet of Dorin.&quot;,\n      &quot;language&quot;: &quot;The Kel Dor speak Kel Dor and Basic.&quot;,\n      &quot;adventurers&quot;: &quot;Kel Dor who decide to brave the dangers of living outside their homeworld tend to be nobles such as diplomats and traders, bounty hunters, and Jedi. Their willingness to help others often mixes with their innate sense of justice, leading many into some form of law enforcement.&quot;,\n      &quot;spoken_language&quot;: [\n        &quot;Basic&quot;,\n        &quot;Kel Dor&quot;\n      ],\n      &quot;literate_language&quot;: [\n        &quot;Basic&quot;,\n        &quot;Kel Dor&quot;\n      ],\n      &quot;abilities&quot;: [\n        0,\n        2,\n        -2,\n        0,\n        2,\n        0\n      ],\n      &quot;size&quot;: &quot;Medium&quot;,\n      &quot;speed&quot;: 10\n    },\n    {\n      &quot;sourcebook&quot;: &quot;Revised Core Rulebook&quot;,\n      &quot;file&quot;: &quot;src/main/resources/db/core_rulebook/species/moncalamari.md&quot;,\n      &quot;name&quot;: &quot;Mon Calamari&quot;,\n      &quot;description&quot;: &quot;Soft-spoken but forceful, the Mon Calamari are great starship engineers. They see everything they create as a work of art, not just as a tool or weapon. They are a lawful, organized people who have little tolerance for those who operate outside the status quo. They come from a water-covered world and can breathe both air and water. \\\\n Recognized for their analytical and organizational skills, Mon Calamari also have keen love of flying among the stars. They believe in order and the greater good, sometim,es going so far as to support the good of society over the good of the individual.&quot;,\n      &quot;personality&quot;: &quot;Creative, quiet, and inquisitive, the Mon Calamari are dreamers who cherish peace but aren't afraid to wage war for the causes they believe in.&quot;,\n      &quot;appearance&quot;: &quot;The average Mon Calamari stands between 1.3 and 1.8 meters tall. They smell of salt and the sea, with high-domed heads, large eyes, and smooth, mottled skin.&quot;,\n      &quot;homeworld&quot;: &quot;The watery, technological planet of Mon Calamari.&quot;,\n      &quot;language&quot;: &quot;The Mon Calamari speak Mon Calamari and Basic. They tend to learn Quarrenese.&quot;,\n      &quot;adventurers&quot;: &quot;Mon Calamari seek their dreams among the stars. They are idealistic and daring, often attaching themselves to cause that seem hopeless or lost right from the start. An individual Mon Calamari has great spirit and an entusiasm that often remains hidden behind a quiet, orderly exterior. They strive to prove that even thinkers and dreamers can br brave and daring when the need arises.&quot;,\n      &quot;spoken_language&quot;: [\n        &quot;Basic&quot;,\n        &quot;Mon Calamari&quot;\n      ],\n      &quot;literate_language&quot;: [\n        &quot;Basic&quot;,\n        &quot;Mon Calamari&quot;\n      ],\n      &quot;abilities&quot;: [\n        0,\n        0,\n        -2,\n        2,\n        0,\n        0\n      ],\n      &quot;size&quot;: &quot;Medium&quot;,\n      &quot;speed&quot;: 10\n    }\n  ]\n}\n</code></pre>\n<p>I would like to iterate through the each of the object of the JSON array and output them to the console window with:</p>\n<pre><code>System.out.println\n</code></pre>\n<p>I can parse with</p>\n<pre><code>ObjectMapper.readValue(source, class);\n</code></pre>\n<p>Although, this gives me the whole JSON file and does not read the child objects in the array. How can I loop through the array and output the objects in the array.</p>\n<p>Here is the class file:</p>\n<pre><code>package Species;\n\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport java.util.*;\n\n@JsonIgnoreProperties(ignoreUnknown = true)\n\npublic class Species {\n    private String sourcebook;\n    private String file;\n    private String name;\n    private String description;\n    private String personality;\n    private String appearance;\n    private String homeworld;\n    private String language;\n    private String adventurers;\n    private List&lt;String&gt; spokenLanguage = new ArrayList&lt;String&gt;();\n    private List&lt;String&gt; literateLanguage = new ArrayList&lt;String&gt;();\n    private List&lt;Integer&gt; abilities = new ArrayList&lt;Integer&gt;();\n    private String size;\n    private Integer speed;\n    \n    public Species() {\n        // Default Constructor\n    }\n\n    public Species(String sourcebook, String file, String name, String description, String personality, String appearance, String homeworld,\n            String language, String adventurers, List&lt;String&gt; spokenLanguage, List&lt;String&gt; literateLanguage, List&lt;Integer&gt; abilities, String size, Integer speed) {\n        this.sourcebook = sourcebook;\n        this.file = file;\n        this.name = name;\n        this.description = description;\n        this.personality = personality;\n        this.appearance = appearance;\n        this.homeworld = homeworld;\n        this.language = language;\n        this.adventurers = adventurers;\n        this.spokenLanguage = spokenLanguage;\n        this.literateLanguage = literateLanguage;\n        this.abilities = abilities;\n        this.size = size;\n        this.speed = speed;\n    }\n\n    public String getSourcebook() {\n        return sourcebook;\n    }\n    public void setSourcebook(String sourcebook) {\n        this.sourcebook = sourcebook;\n    }\n    public String getFile() {\n        return file;\n    }\n    public void setFile(String file) {\n        this.file = file;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public String getDescription() {\n        return description;\n    }\n    public void setDescription(String description) {\n        this.description = description;\n    }\n    public String getPersonality() {\n        return personality;\n    }\n    public void setPersonality(String personality) {\n        this.personality = personality;\n    }\n    public String getAppearance() {\n        return appearance;\n    }\n    public void setAppearance(String appearance) {\n        this.appearance = appearance;\n    }\n    public String getHomeworld() {\n        return homeworld;\n    }\n    public void setHomeworld(String homeworld) {\n        this.homeworld = homeworld;\n    }\n    public String getLanguage() {\n        return language;\n    }\n    public void setLanguage(String language) {\n        this.language = language;\n    }\n    public String getAdventurers() {\n        return adventurers;\n    }\n    public void setAdventurers(String adventurers) {\n        this.adventurers = adventurers;\n    }\n    public List&lt;String&gt; getSpokenLanguage() {\n        return spokenLanguage;\n    }\n    public void setSpokenLanguage(List&lt;String&gt; spokenLanguage) {\n        this.spokenLanguage = spokenLanguage;\n    }\n    public List&lt;String&gt; getLiterateLanguage() {\n        return literateLanguage;\n    }\n    public void setLiterateLanguage(List&lt;String&gt; literateLanguage) {\n        this.literateLanguage = literateLanguage;\n    }\n    public List&lt;Integer&gt; getAbilities() {\n        return abilities;\n    }\n    public void setAbilities(List&lt;Integer&gt; abilities) {\n        this.abilities = abilities;\n    }\n    public String getSize() {\n        return size;\n    }\n    public void setSize(String size) {\n        this.size = size;\n    }\n    public Integer getSpeed() {\n        return speed;\n    }\n    public void setSpeed(Integer speed) {\n        this.speed = speed;\n    }\n}\n</code></pre>\n<p>Here is main file:</p>\n<pre><code>package Species;\n\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.*;\nimport com.fasterxml.jackson.databind.node.ArrayNode;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class Main {\n    public static void main(String[] args) {\n\n        // File file = new File(&quot;src/main/resources/species.json&quot;);\n        File file = new File(&quot;src/main/resources/species.1.json&quot;);\n\n        ObjectMapper mapper = new ObjectMapper();\n\n        try {\n            JsonNode root = mapper.readTree(file);\n\n            for(JsonNode species : root) {\n                // Get Sourcebook\n                String sourcebook = species.get(&quot;sourcebook&quot;).toString();\n                System.out.println(sourcebook);\n\n                // Get Species Name\n                String name = species.get(&quot;name&quot;).toString();\n                System.out.println(name);\n            }\n\n            System.out.println(root);\n\n        } catch (JsonProcessingException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Also, Not sure if I am implementing this correctly.</p>\n"},{"tags":["java","swing","graph","graphics"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":3,"creation_date":1638715081,"post_id":70235102,"comment_id":124156259,"body_markdown":"[Edit] to add a [mre].","body":"<a href=\"https://stackoverflow.com/posts/70235102/edit\">Edit</a> to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1638719273,"post_id":70235102,"comment_id":124157162,"body_markdown":"My suggestion would be to modify your graph to just display the vertices and edges, and write the values to a `JTable` with three columns, from vertex, to vertex, and value.  I couldn&#39;t read the strings on the graph until I enlarged the image.","body":"My suggestion would be to modify your graph to just display the vertices and edges, and write the values to a <code>JTable</code> with three columns, from vertex, to vertex, and value.  I couldn&#39;t read the strings on the graph until I enlarged the image."},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1638721997,"post_id":70235102,"comment_id":124157907,"body_markdown":"To help you we need to reproduce the problem, so mre as already requested is essential, as well as test data that _&quot;cause the graph to disrupt&quot;_","body":"To help you we need to reproduce the problem, so mre as already requested is essential, as well as test data that <i>&quot;cause the graph to disrupt&quot;</i>"}],"owner":{"account_id":19875563,"reputation":119,"user_id":14888108,"display_name":"ATB"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1638713095,"creation_date":1638713095,"question_id":70235102,"body_markdown":"I&#39;m drawing a graph with a lot of points and edges.\r\n\r\nI was able to make calculations for the position of the string so that it would be above the edge and in the middle in a way that was comfortable and easy to read.\r\n\r\nWhen the graph has many vertices the action of writing the string disrupts the whole graph.\r\n\r\nThe following pictures show an example where the graph works on many vertices and then on fewer vertices.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere  the graph has more than 47 Vertices, and there are problems that cause my graph to disrupts\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHere is the code I use to rotate the angle of the string, may the function of rotate cause the graph to disrupt if there are more than 48 vertices or something I don&#39;t get it yet.\r\n\r\n        public static void drawRotate(Graphics2D g2d, double x, double y, double angle, String text) {\r\n        g2d.translate((float)x,(float)y);\r\n        g2d.rotate(angle);\r\n        g2d.drawString(text,0,0);\r\n        g2d.rotate(-angle);\r\n        g2d.translate(-(float)x,-(float)y);\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/MxOi4.png\r\n  [2]: https://i.stack.imgur.com/UOmrR.png","title":"Draw a String on edges between two lines causes disruption","body":"<p>I'm drawing a graph with a lot of points and edges.</p>\n<p>I was able to make calculations for the position of the string so that it would be above the edge and in the middle in a way that was comfortable and easy to read.</p>\n<p>When the graph has many vertices the action of writing the string disrupts the whole graph.</p>\n<p>The following pictures show an example where the graph works on many vertices and then on fewer vertices.</p>\n<p><a href=\"https://i.stack.imgur.com/MxOi4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MxOi4.png\" alt=\"enter image description here\" /></a></p>\n<p>Here  the graph has more than 47 Vertices, and there are problems that cause my graph to disrupts</p>\n<p><a href=\"https://i.stack.imgur.com/UOmrR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UOmrR.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the code I use to rotate the angle of the string, may the function of rotate cause the graph to disrupt if there are more than 48 vertices or something I don't get it yet.</p>\n<pre><code>    public static void drawRotate(Graphics2D g2d, double x, double y, double angle, String text) {\n    g2d.translate((float)x,(float)y);\n    g2d.rotate(angle);\n    g2d.drawString(text,0,0);\n    g2d.rotate(-angle);\n    g2d.translate(-(float)x,-(float)y);\n}\n</code></pre>\n"},{"tags":["java","swing","drag-and-drop","jtable","jlist"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1638813515,"post_id":70235083,"comment_id":124182458,"body_markdown":"The &quot;flicker&quot; is due to the fact that the `JTable` cell is being constantly repainted as long as the mouse is being dragged. This may help. [Showing the Drop Location](https://docs.oracle.com/javase/tutorial/uiswing/dnd/showdroploc.html)","body":"The &quot;flicker&quot; is due to the fact that the <code>JTable</code> cell is being constantly repainted as long as the mouse is being dragged. This may help. <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/dnd/showdroploc.html\" rel=\"nofollow noreferrer\">Showing the Drop Location</a>"},{"owner":{"account_id":23552455,"reputation":1,"user_id":17594954,"display_name":"Dust"},"score":0,"creation_date":1638906031,"post_id":70235083,"comment_id":124210990,"body_markdown":"So, but I want to have the visual feedback if it can be dropped or not, so it&#39;s a problem i cannot solve?","body":"So, but I want to have the visual feedback if it can be dropped or not, so it&#39;s a problem i cannot solve?"}],"owner":{"account_id":23552455,"reputation":1,"user_id":17594954,"display_name":"Dust"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638712968,"creation_date":1638712968,"question_id":70235083,"body_markdown":"I want to move around my tasks from the JTree to the JLists in the JTable \r\nand also move them from one JList to another. (see image)\r\nThe results look good so far, but I have the problem that the cursor &quot;flicker&quot; if I want to move a task to a tablecell if this is not in &quot;edit mode&quot;.\r\nSo, when I first select the cell, and the cell is then in &quot;edit mode&quot; it&#39;s ok, but if I want to move a task from the tree to a cell which isn&#39;t selected before or move a task from one table row to another your cursor &quot;flicker&quot; again.\r\n\r\nSo, has anyone an idea why the cursor &quot;flicker&quot;?\r\n\r\n[gui][1]\r\n\r\n  [1]: https://i.stack.imgur.com/L01Si.png\r\n\r\nHere is my code:\r\n```\r\npublic class JListTableMain\r\n{\r\n    JListTableModel tm = new JListTableModel();\r\n    JTable table = new JTable(tm);\r\n    DefaultTreeModel model = new DefaultTreeModel(new DefaultMutableTreeNode(&quot;root&quot;));\r\n    JTree tree = new JTree(model);\r\n\r\n    public JListTableMain()\r\n    {\r\n        tm.testData();\r\n        table.setTransferHandler(new TableTransferHandler());\r\n        JFrame f = new JFrame();\r\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        table.getColumnModel().getColumn(1).setCellRenderer(new JScrollTableRenderer());\r\n        table.getColumnModel().getColumn(1).setCellEditor(new JScrollTableEditor());\r\n        table.addComponentListener(new ComponentAdapter()\r\n        {\r\n            @Override\r\n            public void componentResized(ComponentEvent e)\r\n            {\r\n                table.setRowHeight(16);\r\n                Dimension p = table.getPreferredSize();\r\n                int tableHeight = table.getHeight();\r\n                int perRow = tableHeight / table.getRowCount();\r\n                table.setRowHeight(perRow);\r\n            }\r\n        });\r\n        JPanel pMain = new JPanel(new BorderLayout(10, 10));\r\n        pMain.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));\r\n        tree.setDragEnabled(true);\r\n        tree.setDropMode(DropMode.ON);\r\n        tree.setTransferHandler(new TreeTransferhandler());\r\n        this.initTree();\r\n        pMain.add(new JScrollPane(tree), BorderLayout.LINE_START);\r\n        pMain.add(table, BorderLayout.CENTER);\r\n        f.getContentPane().add(pMain);\r\n        f.setSize(750, 500);\r\n        f.setVisible(true);\r\n    }\r\n\r\n    private void initTree()\r\n    {\r\n        for (int i = 0; i &lt; 5; i++)\r\n        {\r\n            ((DefaultMutableTreeNode) model.getRoot()).add(new DefaultMutableTreeNode(new TaskObj(i, &quot;task &quot; + i)));\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        try\r\n        {\r\n            UIManager.setLookAndFeel(&quot;javax.swing.plaf.nimbus.NimbusLookAndFeel&quot;);\r\n        }\r\n        catch (UnsupportedLookAndFeelException | ClassNotFoundException | InstantiationException | IllegalAccessException e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n        javax.swing.SwingUtilities.invokeLater(new Runnable()\r\n        {\r\n            @Override\r\n            public void run()\r\n            {\r\n                new JListTableMain();\r\n            }\r\n        });\r\n    }\r\n\r\n    public class TaskObj extends Object\r\n    {\r\n        private String todo;\r\n        private int number;\r\n\r\n        public TaskObj(int number, String todo)\r\n        {\r\n            super();\r\n            this.todo = todo;\r\n            this.number = number;\r\n        }\r\n\r\n        public String getTodo()\r\n        {\r\n            return todo;\r\n        }\r\n\r\n        public void setTodo(String todo)\r\n        {\r\n            this.todo = todo;\r\n        }\r\n\r\n        public int getNumber()\r\n        {\r\n            return number;\r\n        }\r\n\r\n        public void setNumber(int number)\r\n        {\r\n            this.number = number;\r\n        }\r\n\r\n        @Override\r\n        public String toString()\r\n        {\r\n            return number + &quot;: &quot; + todo;\r\n        }\r\n    }\r\n\r\n    public class JListTableObject\r\n    {\r\n        private String name;\r\n        private ArrayList&lt;TaskObj&gt; tasks = new ArrayList&lt;TaskObj&gt;();\r\n\r\n        public JListTableObject(String name)\r\n        {\r\n            this.name = name;\r\n            for (int i = 0; i &lt; name.length(); i++)\r\n            {\r\n                tasks.add(new TaskObj(i, &quot;task&quot;));\r\n            }\r\n        }\r\n\r\n        public String getName()\r\n        {\r\n            return name;\r\n        }\r\n\r\n        public void setName(String name)\r\n        {\r\n            this.name = name;\r\n        }\r\n\r\n        public ArrayList&lt;TaskObj&gt; getTasks()\r\n        {\r\n            return tasks;\r\n        }\r\n    }\r\n\r\n    public class JListTableModel extends AbstractTableModel\r\n    {\r\n        private final List&lt;JListTableObject&gt; entries = new ArrayList&lt;JListTableObject&gt;();\r\n\r\n        public void addJListTableObject(JListTableObject entry)\r\n        {\r\n            entries.add(entry);\r\n            this.fireTableDataChanged();\r\n        }\r\n\r\n        public void removeJListTableObject(int index)\r\n        {\r\n            entries.remove(index);\r\n            this.fireTableDataChanged();\r\n        }\r\n\r\n        @Override\r\n        public int getColumnCount()\r\n        {\r\n            return 2;\r\n        }\r\n\r\n        @Override\r\n        public int getRowCount()\r\n        {\r\n            return entries.size();\r\n        }\r\n\r\n        @Override\r\n        public String getColumnName(int columnIndex)\r\n        {\r\n            switch (columnIndex)\r\n            {\r\n                case 0:\r\n                    return &quot;Name&quot;;\r\n                case 1:\r\n                    return &quot;tasks&quot;;\r\n                default:\r\n                    throw new IllegalArgumentException(&quot;Wrong column&quot;);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public boolean isCellEditable(int rowIndex, int columnIndex)\r\n        {\r\n            return true;\r\n        }\r\n\r\n        @Override\r\n        public Object getValueAt(int rowIndex, int columnIndex)\r\n        {\r\n            JListTableObject entry = entries.get(rowIndex);\r\n            DefaultListModel&lt;TaskObj&gt; listModel = new DefaultListModel&lt;TaskObj&gt;();\r\n            switch (columnIndex)\r\n            {\r\n                case 0:\r\n                    return entry.getName();\r\n                case 1:\r\n                    return entry.getTasks();\r\n                default:\r\n                    throw new IllegalArgumentException(&quot;Wrong column&quot;);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void setValueAt(Object aValue, int rowIndex, int columnIndex)\r\n        {\r\n            JListTableObject entry = entries.get(rowIndex);\r\n            switch (columnIndex)\r\n            {\r\n                case 0:\r\n                    return;\r\n                case 1:\r\n                    return;\r\n                default:\r\n                    throw new IllegalArgumentException(&quot;Wrong column&quot;);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public Class&lt;?&gt; getColumnClass(int columnIndex)\r\n        {\r\n            switch (columnIndex)\r\n            {\r\n                case 0:\r\n                    return String.class;\r\n                case 1:\r\n                    return ArrayList.class;\r\n                default:\r\n                    throw new IllegalArgumentException(&quot;Wrong column&quot;);\r\n            }\r\n        }\r\n\r\n        public void clear()\r\n        {\r\n            int size = entries.size();\r\n            entries.clear();\r\n            this.fireTableDataChanged();\r\n        }\r\n\r\n        public List&lt;JListTableObject&gt; getJListTableObjectEntries()\r\n        {\r\n            return entries;\r\n        }\r\n\r\n        public JListTableObject getJListTableObjectEntry(int index)\r\n        {\r\n            return entries.get(index);\r\n        }\r\n\r\n        public void testData()\r\n        {\r\n            entries.add(new JListTableObject(&quot;User1&quot;));\r\n            entries.add(new JListTableObject(&quot;User2&quot;));\r\n        }\r\n    }\r\n\r\n    abstract class TaskTransferHandler extends TransferHandler\r\n    {\r\n        DataFlavor dataFlavor;\r\n\r\n        protected abstract TaskTransferable exportData(JComponent c);\r\n\r\n        protected abstract void processData(TransferSupport support);\r\n\r\n        protected abstract void cleanup(JComponent c, boolean remove);\r\n\r\n        public TaskTransferHandler()\r\n        {\r\n            try\r\n            {\r\n                dataFlavor = new DataFlavor(DataFlavor.javaJVMLocalObjectMimeType + &quot;;class=\\&quot;&quot; + TaskObj.class.getName() + &quot;\\&quot;&quot;);\r\n            }\r\n            catch (ClassNotFoundException e)\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        @Override\r\n        protected Transferable createTransferable(JComponent c)\r\n        {\r\n            return exportData(c);\r\n        }\r\n\r\n        @Override\r\n        public int getSourceActions(JComponent c)\r\n        {\r\n            return COPY_OR_MOVE;\r\n        }\r\n\r\n        @Override\r\n        public boolean importData(TransferSupport support)\r\n        {\r\n            if (canImport(support))\r\n            {\r\n                processData(support);\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n\r\n        @Override\r\n        protected void exportDone(JComponent c, Transferable data, int action)\r\n        {\r\n            cleanup(c, action == MOVE);\r\n        }\r\n\r\n        @Override\r\n        public boolean canImport(TransferSupport support)\r\n        {\r\n            if (support.getComponent() instanceof JTable)\r\n            {\r\n                JTable.DropLocation dl = (JTable.DropLocation) support.getDropLocation();\r\n                if (dl.getColumn() == 0)\r\n                {\r\n                    return false;\r\n                }\r\n            }\r\n            for (DataFlavor flavor : support.getDataFlavors())\r\n            {\r\n                if (dataFlavor.equals(flavor))\r\n                {\r\n                    return true;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n\r\n    class ListTransferHandler extends TaskTransferHandler\r\n    {\r\n        @Override\r\n        protected TaskTransferable exportData(JComponent c)\r\n        {\r\n            System.out.println(&quot;@List: create transferable&quot;);\r\n            JList list = (JList) c;\r\n            return new TaskTransferable((TaskObj) list.getSelectedValue(), dataFlavor);\r\n        }\r\n\r\n        @Override\r\n        protected void processData(TransferSupport support)\r\n        {\r\n            System.out.println(&quot;@List: processData&quot;);\r\n        }\r\n\r\n        @Override\r\n        protected void cleanup(JComponent c, boolean remove)\r\n        {\r\n            System.out.println(&quot;@List: cleanup&quot;);\r\n        }\r\n    }\r\n\r\n    class TreeTransferhandler extends TaskTransferHandler\r\n    {\r\n        @Override\r\n        protected TaskTransferable exportData(JComponent c)\r\n        {\r\n            System.out.println(&quot;@Tree: createTransferable&quot;);\r\n            JTree tree = (JTree) c;\r\n            TreePath path = tree.getSelectionPath();\r\n            if (path == null)\r\n            {\r\n                return null;\r\n            }\r\n            DefaultMutableTreeNode firstNode = (DefaultMutableTreeNode) path.getLastPathComponent();\r\n            return new TaskTransferable((TaskObj) firstNode.getUserObject(), dataFlavor);\r\n        }\r\n\r\n        @Override\r\n        protected void processData(TransferSupport support)\r\n        {\r\n            System.out.println(&quot;@Tree: processData&quot;);\r\n        }\r\n\r\n        @Override\r\n        protected void cleanup(JComponent c, boolean remove)\r\n        {\r\n            System.out.println(&quot;@Tree: cleanup&quot;);\r\n        }\r\n    }\r\n\r\n    class TableTransferHandler extends TaskTransferHandler\r\n    {\r\n        @Override\r\n        protected TaskTransferable exportData(JComponent c)\r\n        {\r\n            System.out.println(&quot;@Table: createTransferable&quot;);\r\n            JTable table = (JTable) c;\r\n            int row = table.getSelectedRow();\r\n            int col = table.getSelectedColumn();\r\n            Object val = table.getValueAt(row, col);\r\n            return new TaskTransferable((TaskObj) val, dataFlavor);\r\n        }\r\n\r\n        @Override\r\n        protected void processData(TransferSupport support)\r\n        {\r\n            System.out.println(&quot;@Table: processData&quot;);\r\n        }\r\n\r\n        @Override\r\n        protected void cleanup(JComponent c, boolean remove)\r\n        {\r\n            System.out.println(&quot;@Table: cleanup&quot;);\r\n        }\r\n    }\r\n\r\n    public class TaskTransferable implements Transferable\r\n    {\r\n        TaskObj data;\r\n        DataFlavor dataFlavor;\r\n        DataFlavor[] flavors = new DataFlavor[1];\r\n\r\n        public TaskTransferable(TaskObj data, DataFlavor dataFlavor)\r\n        {\r\n            this.dataFlavor = dataFlavor;\r\n            flavors[0] = dataFlavor;\r\n            this.data = data;\r\n        }\r\n\r\n        @Override\r\n        public Object getTransferData(DataFlavor flavor) throws UnsupportedFlavorException\r\n        {\r\n            if (!isDataFlavorSupported(flavor))\r\n            {\r\n                throw new UnsupportedFlavorException(flavor);\r\n            }\r\n            return data;\r\n        }\r\n\r\n        @Override\r\n        public DataFlavor[] getTransferDataFlavors()\r\n        {\r\n            DataFlavor[] dataFlavors = new DataFlavor[1];\r\n            dataFlavors[0] = dataFlavor;\r\n            return dataFlavors;\r\n        }\r\n\r\n        @Override\r\n        public boolean isDataFlavorSupported(DataFlavor flavor)\r\n        {\r\n            return dataFlavor.equals(flavor);\r\n        }\r\n\r\n        @Override\r\n        public String toString()\r\n        {\r\n            return &quot;DataTransferable [data=&quot; + data + &quot;]&quot;;\r\n        }\r\n    }\r\n\r\n    public class JScrollTableRenderer implements TableCellRenderer\r\n    {\r\n        DefaultListModel&lt;TaskObj&gt; listModel = new DefaultListModel&lt;TaskObj&gt;();\r\n        JList&lt;TaskObj&gt; list = new JList&lt;TaskObj&gt;(listModel);\r\n        JScrollPane pane = new JScrollPane(list);\r\n\r\n        @Override\r\n        public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column)\r\n        {\r\n            listModel.removeAllElements();\r\n            listModel.addAll((Collection) value);\r\n            return pane;\r\n        }\r\n    }\r\n\r\n    public class JScrollTableEditor extends AbstractCellEditor implements TableCellEditor\r\n    {\r\n        DefaultListModel&lt;TaskObj&gt; listModel = new DefaultListModel&lt;TaskObj&gt;();\r\n        JList&lt;TaskObj&gt; list = new JList&lt;TaskObj&gt;(listModel);\r\n        ListTransferHandler handler = new ListTransferHandler();\r\n        JScrollPane pane = new JScrollPane(list);\r\n\r\n        @Override\r\n        public Component getTableCellEditorComponent(JTable table, Object value, boolean isSelected, int rowIndex, int vColIndex)\r\n        {\r\n            list.setDragEnabled(true);\r\n            list.setTransferHandler(handler);\r\n            listModel.removeAllElements();\r\n            listModel.addAll((Collection) value);\r\n            return pane;\r\n        }\r\n\r\n        @Override\r\n        public Object getCellEditorValue()\r\n        {\r\n            return list;\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Drag&amp;Drop in JTable with JLists as tablecells","body":"<p>I want to move around my tasks from the JTree to the JLists in the JTable\nand also move them from one JList to another. (see image)\nThe results look good so far, but I have the problem that the cursor &quot;flicker&quot; if I want to move a task to a tablecell if this is not in &quot;edit mode&quot;.\nSo, when I first select the cell, and the cell is then in &quot;edit mode&quot; it's ok, but if I want to move a task from the tree to a cell which isn't selected before or move a task from one table row to another your cursor &quot;flicker&quot; again.</p>\n<p>So, has anyone an idea why the cursor &quot;flicker&quot;?</p>\n<p><a href=\"https://i.stack.imgur.com/L01Si.png\" rel=\"nofollow noreferrer\">gui</a></p>\n<p>Here is my code:</p>\n<pre><code>public class JListTableMain\n{\n    JListTableModel tm = new JListTableModel();\n    JTable table = new JTable(tm);\n    DefaultTreeModel model = new DefaultTreeModel(new DefaultMutableTreeNode(&quot;root&quot;));\n    JTree tree = new JTree(model);\n\n    public JListTableMain()\n    {\n        tm.testData();\n        table.setTransferHandler(new TableTransferHandler());\n        JFrame f = new JFrame();\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        table.getColumnModel().getColumn(1).setCellRenderer(new JScrollTableRenderer());\n        table.getColumnModel().getColumn(1).setCellEditor(new JScrollTableEditor());\n        table.addComponentListener(new ComponentAdapter()\n        {\n            @Override\n            public void componentResized(ComponentEvent e)\n            {\n                table.setRowHeight(16);\n                Dimension p = table.getPreferredSize();\n                int tableHeight = table.getHeight();\n                int perRow = tableHeight / table.getRowCount();\n                table.setRowHeight(perRow);\n            }\n        });\n        JPanel pMain = new JPanel(new BorderLayout(10, 10));\n        pMain.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));\n        tree.setDragEnabled(true);\n        tree.setDropMode(DropMode.ON);\n        tree.setTransferHandler(new TreeTransferhandler());\n        this.initTree();\n        pMain.add(new JScrollPane(tree), BorderLayout.LINE_START);\n        pMain.add(table, BorderLayout.CENTER);\n        f.getContentPane().add(pMain);\n        f.setSize(750, 500);\n        f.setVisible(true);\n    }\n\n    private void initTree()\n    {\n        for (int i = 0; i &lt; 5; i++)\n        {\n            ((DefaultMutableTreeNode) model.getRoot()).add(new DefaultMutableTreeNode(new TaskObj(i, &quot;task &quot; + i)));\n        }\n    }\n\n    public static void main(String[] args)\n    {\n        try\n        {\n            UIManager.setLookAndFeel(&quot;javax.swing.plaf.nimbus.NimbusLookAndFeel&quot;);\n        }\n        catch (UnsupportedLookAndFeelException | ClassNotFoundException | InstantiationException | IllegalAccessException e)\n        {\n            e.printStackTrace();\n        }\n        javax.swing.SwingUtilities.invokeLater(new Runnable()\n        {\n            @Override\n            public void run()\n            {\n                new JListTableMain();\n            }\n        });\n    }\n\n    public class TaskObj extends Object\n    {\n        private String todo;\n        private int number;\n\n        public TaskObj(int number, String todo)\n        {\n            super();\n            this.todo = todo;\n            this.number = number;\n        }\n\n        public String getTodo()\n        {\n            return todo;\n        }\n\n        public void setTodo(String todo)\n        {\n            this.todo = todo;\n        }\n\n        public int getNumber()\n        {\n            return number;\n        }\n\n        public void setNumber(int number)\n        {\n            this.number = number;\n        }\n\n        @Override\n        public String toString()\n        {\n            return number + &quot;: &quot; + todo;\n        }\n    }\n\n    public class JListTableObject\n    {\n        private String name;\n        private ArrayList&lt;TaskObj&gt; tasks = new ArrayList&lt;TaskObj&gt;();\n\n        public JListTableObject(String name)\n        {\n            this.name = name;\n            for (int i = 0; i &lt; name.length(); i++)\n            {\n                tasks.add(new TaskObj(i, &quot;task&quot;));\n            }\n        }\n\n        public String getName()\n        {\n            return name;\n        }\n\n        public void setName(String name)\n        {\n            this.name = name;\n        }\n\n        public ArrayList&lt;TaskObj&gt; getTasks()\n        {\n            return tasks;\n        }\n    }\n\n    public class JListTableModel extends AbstractTableModel\n    {\n        private final List&lt;JListTableObject&gt; entries = new ArrayList&lt;JListTableObject&gt;();\n\n        public void addJListTableObject(JListTableObject entry)\n        {\n            entries.add(entry);\n            this.fireTableDataChanged();\n        }\n\n        public void removeJListTableObject(int index)\n        {\n            entries.remove(index);\n            this.fireTableDataChanged();\n        }\n\n        @Override\n        public int getColumnCount()\n        {\n            return 2;\n        }\n\n        @Override\n        public int getRowCount()\n        {\n            return entries.size();\n        }\n\n        @Override\n        public String getColumnName(int columnIndex)\n        {\n            switch (columnIndex)\n            {\n                case 0:\n                    return &quot;Name&quot;;\n                case 1:\n                    return &quot;tasks&quot;;\n                default:\n                    throw new IllegalArgumentException(&quot;Wrong column&quot;);\n            }\n        }\n\n        @Override\n        public boolean isCellEditable(int rowIndex, int columnIndex)\n        {\n            return true;\n        }\n\n        @Override\n        public Object getValueAt(int rowIndex, int columnIndex)\n        {\n            JListTableObject entry = entries.get(rowIndex);\n            DefaultListModel&lt;TaskObj&gt; listModel = new DefaultListModel&lt;TaskObj&gt;();\n            switch (columnIndex)\n            {\n                case 0:\n                    return entry.getName();\n                case 1:\n                    return entry.getTasks();\n                default:\n                    throw new IllegalArgumentException(&quot;Wrong column&quot;);\n            }\n        }\n\n        @Override\n        public void setValueAt(Object aValue, int rowIndex, int columnIndex)\n        {\n            JListTableObject entry = entries.get(rowIndex);\n            switch (columnIndex)\n            {\n                case 0:\n                    return;\n                case 1:\n                    return;\n                default:\n                    throw new IllegalArgumentException(&quot;Wrong column&quot;);\n            }\n        }\n\n        @Override\n        public Class&lt;?&gt; getColumnClass(int columnIndex)\n        {\n            switch (columnIndex)\n            {\n                case 0:\n                    return String.class;\n                case 1:\n                    return ArrayList.class;\n                default:\n                    throw new IllegalArgumentException(&quot;Wrong column&quot;);\n            }\n        }\n\n        public void clear()\n        {\n            int size = entries.size();\n            entries.clear();\n            this.fireTableDataChanged();\n        }\n\n        public List&lt;JListTableObject&gt; getJListTableObjectEntries()\n        {\n            return entries;\n        }\n\n        public JListTableObject getJListTableObjectEntry(int index)\n        {\n            return entries.get(index);\n        }\n\n        public void testData()\n        {\n            entries.add(new JListTableObject(&quot;User1&quot;));\n            entries.add(new JListTableObject(&quot;User2&quot;));\n        }\n    }\n\n    abstract class TaskTransferHandler extends TransferHandler\n    {\n        DataFlavor dataFlavor;\n\n        protected abstract TaskTransferable exportData(JComponent c);\n\n        protected abstract void processData(TransferSupport support);\n\n        protected abstract void cleanup(JComponent c, boolean remove);\n\n        public TaskTransferHandler()\n        {\n            try\n            {\n                dataFlavor = new DataFlavor(DataFlavor.javaJVMLocalObjectMimeType + &quot;;class=\\&quot;&quot; + TaskObj.class.getName() + &quot;\\&quot;&quot;);\n            }\n            catch (ClassNotFoundException e)\n            {\n                e.printStackTrace();\n            }\n        }\n\n        @Override\n        protected Transferable createTransferable(JComponent c)\n        {\n            return exportData(c);\n        }\n\n        @Override\n        public int getSourceActions(JComponent c)\n        {\n            return COPY_OR_MOVE;\n        }\n\n        @Override\n        public boolean importData(TransferSupport support)\n        {\n            if (canImport(support))\n            {\n                processData(support);\n                return true;\n            }\n            return false;\n        }\n\n        @Override\n        protected void exportDone(JComponent c, Transferable data, int action)\n        {\n            cleanup(c, action == MOVE);\n        }\n\n        @Override\n        public boolean canImport(TransferSupport support)\n        {\n            if (support.getComponent() instanceof JTable)\n            {\n                JTable.DropLocation dl = (JTable.DropLocation) support.getDropLocation();\n                if (dl.getColumn() == 0)\n                {\n                    return false;\n                }\n            }\n            for (DataFlavor flavor : support.getDataFlavors())\n            {\n                if (dataFlavor.equals(flavor))\n                {\n                    return true;\n                }\n            }\n            return true;\n        }\n    }\n\n    class ListTransferHandler extends TaskTransferHandler\n    {\n        @Override\n        protected TaskTransferable exportData(JComponent c)\n        {\n            System.out.println(&quot;@List: create transferable&quot;);\n            JList list = (JList) c;\n            return new TaskTransferable((TaskObj) list.getSelectedValue(), dataFlavor);\n        }\n\n        @Override\n        protected void processData(TransferSupport support)\n        {\n            System.out.println(&quot;@List: processData&quot;);\n        }\n\n        @Override\n        protected void cleanup(JComponent c, boolean remove)\n        {\n            System.out.println(&quot;@List: cleanup&quot;);\n        }\n    }\n\n    class TreeTransferhandler extends TaskTransferHandler\n    {\n        @Override\n        protected TaskTransferable exportData(JComponent c)\n        {\n            System.out.println(&quot;@Tree: createTransferable&quot;);\n            JTree tree = (JTree) c;\n            TreePath path = tree.getSelectionPath();\n            if (path == null)\n            {\n                return null;\n            }\n            DefaultMutableTreeNode firstNode = (DefaultMutableTreeNode) path.getLastPathComponent();\n            return new TaskTransferable((TaskObj) firstNode.getUserObject(), dataFlavor);\n        }\n\n        @Override\n        protected void processData(TransferSupport support)\n        {\n            System.out.println(&quot;@Tree: processData&quot;);\n        }\n\n        @Override\n        protected void cleanup(JComponent c, boolean remove)\n        {\n            System.out.println(&quot;@Tree: cleanup&quot;);\n        }\n    }\n\n    class TableTransferHandler extends TaskTransferHandler\n    {\n        @Override\n        protected TaskTransferable exportData(JComponent c)\n        {\n            System.out.println(&quot;@Table: createTransferable&quot;);\n            JTable table = (JTable) c;\n            int row = table.getSelectedRow();\n            int col = table.getSelectedColumn();\n            Object val = table.getValueAt(row, col);\n            return new TaskTransferable((TaskObj) val, dataFlavor);\n        }\n\n        @Override\n        protected void processData(TransferSupport support)\n        {\n            System.out.println(&quot;@Table: processData&quot;);\n        }\n\n        @Override\n        protected void cleanup(JComponent c, boolean remove)\n        {\n            System.out.println(&quot;@Table: cleanup&quot;);\n        }\n    }\n\n    public class TaskTransferable implements Transferable\n    {\n        TaskObj data;\n        DataFlavor dataFlavor;\n        DataFlavor[] flavors = new DataFlavor[1];\n\n        public TaskTransferable(TaskObj data, DataFlavor dataFlavor)\n        {\n            this.dataFlavor = dataFlavor;\n            flavors[0] = dataFlavor;\n            this.data = data;\n        }\n\n        @Override\n        public Object getTransferData(DataFlavor flavor) throws UnsupportedFlavorException\n        {\n            if (!isDataFlavorSupported(flavor))\n            {\n                throw new UnsupportedFlavorException(flavor);\n            }\n            return data;\n        }\n\n        @Override\n        public DataFlavor[] getTransferDataFlavors()\n        {\n            DataFlavor[] dataFlavors = new DataFlavor[1];\n            dataFlavors[0] = dataFlavor;\n            return dataFlavors;\n        }\n\n        @Override\n        public boolean isDataFlavorSupported(DataFlavor flavor)\n        {\n            return dataFlavor.equals(flavor);\n        }\n\n        @Override\n        public String toString()\n        {\n            return &quot;DataTransferable [data=&quot; + data + &quot;]&quot;;\n        }\n    }\n\n    public class JScrollTableRenderer implements TableCellRenderer\n    {\n        DefaultListModel&lt;TaskObj&gt; listModel = new DefaultListModel&lt;TaskObj&gt;();\n        JList&lt;TaskObj&gt; list = new JList&lt;TaskObj&gt;(listModel);\n        JScrollPane pane = new JScrollPane(list);\n\n        @Override\n        public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column)\n        {\n            listModel.removeAllElements();\n            listModel.addAll((Collection) value);\n            return pane;\n        }\n    }\n\n    public class JScrollTableEditor extends AbstractCellEditor implements TableCellEditor\n    {\n        DefaultListModel&lt;TaskObj&gt; listModel = new DefaultListModel&lt;TaskObj&gt;();\n        JList&lt;TaskObj&gt; list = new JList&lt;TaskObj&gt;(listModel);\n        ListTransferHandler handler = new ListTransferHandler();\n        JScrollPane pane = new JScrollPane(list);\n\n        @Override\n        public Component getTableCellEditorComponent(JTable table, Object value, boolean isSelected, int rowIndex, int vColIndex)\n        {\n            list.setDragEnabled(true);\n            list.setTransferHandler(handler);\n            listModel.removeAllElements();\n            listModel.addAll((Collection) value);\n            return pane;\n        }\n\n        @Override\n        public Object getCellEditorValue()\n        {\n            return list;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","javafx","arabic","java-time","javafx-datepicker"],"answers":[{"tags":[],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1514266470,"creation_date":1426860288,"answer_id":29168404,"question_id":29168403,"body_markdown":"I was able to change the first date of the week by injecting the following class within my application:\r\n\r\n    package sun.util.resources.ar;\r\n    \r\n    import sun.util.resources.LocaleNamesBundle;\r\n    \r\n    public final class CalendarData_ar_SA extends LocaleNamesBundle\r\n    {\r\n    \tprotected final Object[][] getContents()\r\n    \t{\r\n    \t\treturn new Object[][] { { &quot;firstDayOfWeek&quot;, &quot;1&quot; }, { &quot;minimalDaysInFirstWeek&quot;, &quot;1&quot; } };\r\n    \t}\r\n    }\r\n\r\n![enter image description here][1]\r\n\r\n---\r\n\r\nDo not forget to change the default locale:\r\n\r\n    public static final Locale SAUDI_AR_LOCALE = new Locale.Builder().setLanguageTag(&quot;ar-SA-u-nu-arab&quot;).build(); // nu is for numbers\r\n    \r\n    // ....\r\n    \r\n    Locale.setDefault(SAUDI_AR_LOCALE);\r\n\r\n----\r\n\r\n## EDIT:\r\n\r\nThe previous solution does not work on latest updates of Java 8 (u152). The proper way to achieve that is to use something called &quot;Locale Sensitive Service Provider&quot;.\r\n\r\nFirst, create a custom implementation of [CalendarDataProvider](https://docs.oracle.com/javase/8/docs/api/java/util/spi/CalendarDataProvider.html):\r\n\r\n    package io.fouad.utils;\r\n    \r\n    import java.time.DayOfWeek;\r\n    import java.util.Locale;\r\n    import java.util.spi.CalendarDataProvider;\r\n    \r\n    public class ArabicCalendarDataProvider extends CalendarDataProvider\r\n    {\r\n    \tprivate static final DayOfWeek FIRST_DAY_OF_WEEK = DayOfWeek.SUNDAY;\r\n    \t\r\n    \t@Override\r\n    \tpublic int getFirstDayOfWeek(Locale locale)\r\n    \t{\r\n    \t\treturn (FIRST_DAY_OF_WEEK.getValue() + 1) % 7;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic int getMinimalDaysInFirstWeek(Locale locale)\r\n    \t{\r\n    \t\treturn 1;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic Locale[] getAvailableLocales()\r\n    \t{\r\n    \t\treturn new Locale[]{new Locale(&quot;ar&quot;, &quot;SA&quot;)};\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic boolean isSupportedLocale(Locale locale)\r\n    \t{\r\n    \t\treturn locale != null &amp;&amp; &quot;ar&quot;.equals(locale.getLanguage()) &amp;&amp; &quot;SA&quot;.equals(locale.getCountry());\r\n    \t}\r\n    }\r\n\r\nThen create a jar file and package `ArabicCalendarDataProvider` as a service provider. i.e. The jar file will have the following files:\r\n\r\n&gt; META-INF/services/java.util.spi.CalendarDataProvider\r\n&gt; io/fouad/utils/ArabicCalendarDataProvider.class\r\n\r\nThe file `java.util.spi.CalendarDataProvider` contains the following line:\r\n\r\n&gt; io.fouad.utils.ArabicCalendarDataProvider\r\n\r\nNow, in order to make it working you need to install this jar as an extension either by putting the jar into the default extension directory or by passing the following JVM argument at launch time:\r\n\r\n&gt; -Djava.ext.dirs=path/to/the/folder/that/contains/the/jar\r\n\r\nNote that in Java 9 the locale sensitive services implementations will work directly if the jar is on the application&#39;s classpath.\r\n\r\nLast, you need to modify the order of locale providers used in your application. i.e. pass the following JVM argument:\r\n\r\n&gt; -Djava.locale.providers=SPI,CLDR,JRE,HOST\r\n\r\n`SPI` should be first.\r\n\r\n\r\nYou can test it as follows:\r\n\r\n    DayOfWeek firstDayOfWeek = WeekFields.of(new Locale(&quot;ar&quot;, &quot;SA&quot;)).getFirstDayOfWeek();\r\n    System.out.println(&quot;firstDayOfWeek = &quot; + firstDayOfWeek);\r\n\r\nIn the default behavior the output would be:\r\n\r\n&gt; firstDayOfWeek = SATURDAY\r\n\r\nWhen applying the custom locale provider and put `SPI` as first one the output would be:\r\n\r\n&gt; firstDayOfWeek = SUNDAY\r\n\r\nSee:\r\n\r\n- [LocaleServiceProvider&#39;s JavaDoc.](https://docs.oracle.com/javase/8/docs/api/java/util/spi/LocaleServiceProvider.html)\r\n- [Lesson: Service Providers for Internationalization.](https://docs.oracle.com/javase/tutorial/i18n/serviceproviders/index.html)\r\n- https://stackoverflow.com/questions/45223908/why-does-the-java-extension-mechanism-not-check-the-classpath-for-an-optional-pa\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/vIWz1.png","title":"Set the first day of the week in JavaFX&#39;s DatePicker","body":"<p>I was able to change the first date of the week by injecting the following class within my application:</p>\n\n<pre><code>package sun.util.resources.ar;\n\nimport sun.util.resources.LocaleNamesBundle;\n\npublic final class CalendarData_ar_SA extends LocaleNamesBundle\n{\n    protected final Object[][] getContents()\n    {\n        return new Object[][] { { \"firstDayOfWeek\", \"1\" }, { \"minimalDaysInFirstWeek\", \"1\" } };\n    }\n}\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/vIWz1.png\" alt=\"enter image description here\"></p>\n\n<hr>\n\n<p>Do not forget to change the default locale:</p>\n\n<pre><code>public static final Locale SAUDI_AR_LOCALE = new Locale.Builder().setLanguageTag(\"ar-SA-u-nu-arab\").build(); // nu is for numbers\n\n// ....\n\nLocale.setDefault(SAUDI_AR_LOCALE);\n</code></pre>\n\n<hr>\n\n<h2>EDIT:</h2>\n\n<p>The previous solution does not work on latest updates of Java 8 (u152). The proper way to achieve that is to use something called \"Locale Sensitive Service Provider\".</p>\n\n<p>First, create a custom implementation of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/spi/CalendarDataProvider.html\" rel=\"nofollow noreferrer\">CalendarDataProvider</a>:</p>\n\n<pre><code>package io.fouad.utils;\n\nimport java.time.DayOfWeek;\nimport java.util.Locale;\nimport java.util.spi.CalendarDataProvider;\n\npublic class ArabicCalendarDataProvider extends CalendarDataProvider\n{\n    private static final DayOfWeek FIRST_DAY_OF_WEEK = DayOfWeek.SUNDAY;\n\n    @Override\n    public int getFirstDayOfWeek(Locale locale)\n    {\n        return (FIRST_DAY_OF_WEEK.getValue() + 1) % 7;\n    }\n\n    @Override\n    public int getMinimalDaysInFirstWeek(Locale locale)\n    {\n        return 1;\n    }\n\n    @Override\n    public Locale[] getAvailableLocales()\n    {\n        return new Locale[]{new Locale(\"ar\", \"SA\")};\n    }\n\n    @Override\n    public boolean isSupportedLocale(Locale locale)\n    {\n        return locale != null &amp;&amp; \"ar\".equals(locale.getLanguage()) &amp;&amp; \"SA\".equals(locale.getCountry());\n    }\n}\n</code></pre>\n\n<p>Then create a jar file and package <code>ArabicCalendarDataProvider</code> as a service provider. i.e. The jar file will have the following files:</p>\n\n<blockquote>\n  <p>META-INF/services/java.util.spi.CalendarDataProvider\n  io/fouad/utils/ArabicCalendarDataProvider.class</p>\n</blockquote>\n\n<p>The file <code>java.util.spi.CalendarDataProvider</code> contains the following line:</p>\n\n<blockquote>\n  <p>io.fouad.utils.ArabicCalendarDataProvider</p>\n</blockquote>\n\n<p>Now, in order to make it working you need to install this jar as an extension either by putting the jar into the default extension directory or by passing the following JVM argument at launch time:</p>\n\n<blockquote>\n  <p>-Djava.ext.dirs=path/to/the/folder/that/contains/the/jar</p>\n</blockquote>\n\n<p>Note that in Java 9 the locale sensitive services implementations will work directly if the jar is on the application's classpath.</p>\n\n<p>Last, you need to modify the order of locale providers used in your application. i.e. pass the following JVM argument:</p>\n\n<blockquote>\n  <p>-Djava.locale.providers=SPI,CLDR,JRE,HOST</p>\n</blockquote>\n\n<p><code>SPI</code> should be first.</p>\n\n<p>You can test it as follows:</p>\n\n<pre><code>DayOfWeek firstDayOfWeek = WeekFields.of(new Locale(\"ar\", \"SA\")).getFirstDayOfWeek();\nSystem.out.println(\"firstDayOfWeek = \" + firstDayOfWeek);\n</code></pre>\n\n<p>In the default behavior the output would be:</p>\n\n<blockquote>\n  <p>firstDayOfWeek = SATURDAY</p>\n</blockquote>\n\n<p>When applying the custom locale provider and put <code>SPI</code> as first one the output would be:</p>\n\n<blockquote>\n  <p>firstDayOfWeek = SUNDAY</p>\n</blockquote>\n\n<p>See:</p>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/spi/LocaleServiceProvider.html\" rel=\"nofollow noreferrer\">LocaleServiceProvider's JavaDoc.</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/i18n/serviceproviders/index.html\" rel=\"nofollow noreferrer\">Lesson: Service Providers for Internationalization.</a></li>\n<li><a href=\"https://stackoverflow.com/questions/45223908/why-does-the-java-extension-mechanism-not-check-the-classpath-for-an-optional-pa\">Why does the Java Extension Mechanism not check the classpath for an optional package implementing LocaleServiceProvider?</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23409177,"reputation":11,"user_id":17471136,"display_name":"Tarik Mujcic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638712368,"creation_date":1638712368,"answer_id":70234991,"question_id":29168403,"body_markdown":"I found a solution for this:\r\n\r\n```\r\n@FXML \r\nprivate DatePicker date;\r\n\r\n//In the initialize method you can use the following code:\r\n\r\n@Override\r\npublic void initialize(URL location, ResourceBundle resources) {\r\n    //So here you need to use a Locale which actually has Monday set up as the first \r\n    //day, here the UK format has the Monday as first day, but you can try different \r\n    //options for the language that you&#39;re using \r\n    date.setOnShowing(e -&gt; Locale.setDefault(Locale.Category.FORMAT, Locale.UK));\r\n    //...\r\n}\r\n```","title":"Set the first day of the week in JavaFX&#39;s DatePicker","body":"<p>I found a solution for this:</p>\n<pre><code>@FXML \nprivate DatePicker date;\n\n//In the initialize method you can use the following code:\n\n@Override\npublic void initialize(URL location, ResourceBundle resources) {\n    //So here you need to use a Locale which actually has Monday set up as the first \n    //day, here the UK format has the Monday as first day, but you can try different \n    //options for the language that you're using \n    date.setOnShowing(e -&gt; Locale.setDefault(Locale.Category.FORMAT, Locale.UK));\n    //...\n}\n</code></pre>\n"}],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1502,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":29168404,"answer_count":2,"score":6,"last_activity_date":1638712368,"creation_date":1426860288,"question_id":29168403,"body_markdown":"Is it possible to change the first day of week on JavaFX&#39;s DatePicker when applying Arabic locale? I need to change it from Saturday to Sunday.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/qSWZB.png","title":"Set the first day of the week in JavaFX&#39;s DatePicker","body":"<p>Is it possible to change the first day of week on JavaFX's DatePicker when applying Arabic locale? I need to change it from Saturday to Sunday.</p>\n\n<p><img src=\"https://i.stack.imgur.com/qSWZB.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","inheritance","uml","class-diagram"],"comments":[{"owner":{"account_id":11540266,"reputation":322,"user_id":8456245,"display_name":"Seyed Mohammad Amin Atyabi"},"score":0,"creation_date":1638622695,"post_id":70225545,"comment_id":124139921,"body_markdown":"Having an instance of a class in another class is ok, but you must check not having circular dependency. Class A need B and class B needs A.","body":"Having an instance of a class in another class is ok, but you must check not having circular dependency. Class A need B and class B needs A."},{"owner":{"account_id":22654373,"reputation":81,"user_id":16828538,"display_name":"Artani"},"score":0,"creation_date":1638623197,"post_id":70225545,"comment_id":124140052,"body_markdown":"Please can you say this in depency with my example.You mean that Player should not have a connection with Board?@SeyedMohammadAminAtyabi","body":"Please can you say this in depency with my example.You mean that Player should not have a connection with Board?@SeyedMohammadAminAtyabi"},{"owner":{"account_id":11540266,"reputation":322,"user_id":8456245,"display_name":"Seyed Mohammad Amin Atyabi"},"score":0,"creation_date":1638623737,"post_id":70225545,"comment_id":124140186,"body_markdown":"I see no problem for creating an instance of Game. First you instantiate Player. Then using this instance you instantiate Gameboard. After that using both instances you can instantiate Game.","body":"I see no problem for creating an instance of Game. First you instantiate Player. Then using this instance you instantiate Gameboard. After that using both instances you can instantiate Game."},{"owner":{"account_id":22654373,"reputation":81,"user_id":16828538,"display_name":"Artani"},"score":0,"creation_date":1638624104,"post_id":70225545,"comment_id":124140264,"body_markdown":"Just asking one last thing,do you think that this UML is ok?Does it have any mistake(except circular dependency)?Is there any more method that I should include?@SeyedMohammadAminAtyabi","body":"Just asking one last thing,do you think that this UML is ok?Does it have any mistake(except circular dependency)?Is there any more method that I should include?@SeyedMohammadAminAtyabi"},{"owner":{"account_id":11540266,"reputation":322,"user_id":8456245,"display_name":"Seyed Mohammad Amin Atyabi"},"score":0,"creation_date":1638624306,"post_id":70225545,"comment_id":124140309,"body_markdown":"Well I don&#39;t know this game but I see some methods that can be removed. For example in class Gameboard there are two methods redWind and blueWin. This can be simplified as getWinner.","body":"Well I don&#39;t know this game but I see some methods that can be removed. For example in class Gameboard there are two methods redWind and blueWin. This can be simplified as getWinner."},{"owner":{"account_id":22654373,"reputation":81,"user_id":16828538,"display_name":"Artani"},"score":0,"creation_date":1638624836,"post_id":70225545,"comment_id":124140439,"body_markdown":"Game is Connect four.is a two-player connection board game, in which the players choose a color and then take turns dropping colored discs into a seven-column, six-row vertically suspended grid. The pieces fall straight down, occupying the lowest available space within the column. The objective of the game is to be the first to form a horizontal, vertical, or diagonal line of four of one&#39;s own discs.Any suggestions please?","body":"Game is Connect four.is a two-player connection board game, in which the players choose a color and then take turns dropping colored discs into a seven-column, six-row vertically suspended grid. The pieces fall straight down, occupying the lowest available space within the column. The objective of the game is to be the first to form a horizontal, vertical, or diagonal line of four of one&#39;s own discs.Any suggestions please?"},{"owner":{"account_id":11540266,"reputation":322,"user_id":8456245,"display_name":"Seyed Mohammad Amin Atyabi"},"score":0,"creation_date":1638625184,"post_id":70225545,"comment_id":124140500,"body_markdown":"Seems ok to me.","body":"Seems ok to me."}],"answers":[{"tags":[],"owner":{"account_id":4589753,"reputation":69926,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638711901,"creation_date":1638633745,"answer_id":70227240,"question_id":70225545,"body_markdown":"## Classes with properties of other types\r\n\r\nLet&#39;s take the example of `Game` and `Player`.  In your diagram,  you show a property `playernames: Player[]`.  This means that the class `Game` is implicitly associated with the class `Player`.  At the same time you show an explicit association with the `Player` class.  This is ambiguous: are both implicit and explicit associations the same ? Or are these two different associations? \r\n\r\nA less ambiguous representation is to remove the property from the compartment of the class, and show its visibility and name as a role on the association line at the opposite end.       \r\n\r\nAnother example is the class&#39; `Game`  property `board:Board`.  At the same time, there is an association to a `Gameboard`. Are these two the same, and there is a mistake in one of the class name? Or did you forget a `&#171;interface&#187; Board` in your diagram, to which `Game` should be associated and that `Gameboard` would implement ? Up to you to clarify. \r\n\r\nIf possible,  indicate the multiplicity of the associations.  If it&#39;s exactly 1, or exactly 2, write it down.  If it&#39;s several write a `*`. \r\n\r\n## Constructors\r\n\r\nIn UML, a constructor is an operator like any other. It could have any name and should return a type corresponding to the owning class. It should be preceded by the stereotype `&#171;Create&#187;`: \r\n\r\n    + &#171;Create&#187; Game():Game \r\n\r\nIn your class you also have a related operations (remark: in UML an operation that does not return anything does not return `void`, but nothing at all): \r\n\r\n    + initialize() \r\n    + setBoard (board: Board)\r\n\r\nThe reader can infer that the board is created elsewhere and probably needs to be set.  It is however not specified in your diagram which of the constructor or the initializer creates/constructs the other objects for the remaining propertiers. If this matters for you, you could add a comment note in plaintext. If you&#39;d prefer a more formal way,  you could express a post-condition instead.  \r\n\r\nIf `Game` does not create some of its properties, for example, if your user interface would create `Player`  objects that would then be passed to the constructor,  you&#39;d indicate these objects in your operation specifications, in the same way than in Java:  \r\n\r\n    + &#171;Create&#187; Game(player: Player[2]):Game \r\n\r\nBut if you set the board, you could also set (or add) the players.  \r\n\r\n## Unrelated remarks \r\n\r\n* Several `Game` operations return `Person` but there is no class like this. (You could add such a class in your diagram and draw a dependency).  \r\n* The name of the property `playernames` is misleading:  it&#39;s players, and players are not just the names.  It&#39;s also the points, the state, annd everything that makes a player.  \r\n* can you explain why you&#39;ve put arrows on the associations ?  If not, it&#39;s probably better to remove them.  \r\n* `Extends` is not an UML keyword.  Just remove it: the specialization that you have drawn is sufficient:  it means inheritance.  For intertaces that are implemented you&#39;d use the same symbol but with a dashed line.  ","title":"How to write constructor where the types are from another class in Java?","body":"<h2>Classes with properties of other types</h2>\n<p>Let's take the example of <code>Game</code> and <code>Player</code>.  In your diagram,  you show a property <code>playernames: Player[]</code>.  This means that the class <code>Game</code> is implicitly associated with the class <code>Player</code>.  At the same time you show an explicit association with the <code>Player</code> class.  This is ambiguous: are both implicit and explicit associations the same ? Or are these two different associations?</p>\n<p>A less ambiguous representation is to remove the property from the compartment of the class, and show its visibility and name as a role on the association line at the opposite end.</p>\n<p>Another example is the class' <code>Game</code>  property <code>board:Board</code>.  At the same time, there is an association to a <code>Gameboard</code>. Are these two the same, and there is a mistake in one of the class name? Or did you forget a <code>«interface» Board</code> in your diagram, to which <code>Game</code> should be associated and that <code>Gameboard</code> would implement ? Up to you to clarify.</p>\n<p>If possible,  indicate the multiplicity of the associations.  If it's exactly 1, or exactly 2, write it down.  If it's several write a <code>*</code>.</p>\n<h2>Constructors</h2>\n<p>In UML, a constructor is an operator like any other. It could have any name and should return a type corresponding to the owning class. It should be preceded by the stereotype <code>«Create»</code>:</p>\n<pre><code>+ «Create» Game():Game \n</code></pre>\n<p>In your class you also have a related operations (remark: in UML an operation that does not return anything does not return <code>void</code>, but nothing at all):</p>\n<pre><code>+ initialize() \n+ setBoard (board: Board)\n</code></pre>\n<p>The reader can infer that the board is created elsewhere and probably needs to be set.  It is however not specified in your diagram which of the constructor or the initializer creates/constructs the other objects for the remaining propertiers. If this matters for you, you could add a comment note in plaintext. If you'd prefer a more formal way,  you could express a post-condition instead.</p>\n<p>If <code>Game</code> does not create some of its properties, for example, if your user interface would create <code>Player</code>  objects that would then be passed to the constructor,  you'd indicate these objects in your operation specifications, in the same way than in Java:</p>\n<pre><code>+ «Create» Game(player: Player[2]):Game \n</code></pre>\n<p>But if you set the board, you could also set (or add) the players.</p>\n<h2>Unrelated remarks</h2>\n<ul>\n<li>Several <code>Game</code> operations return <code>Person</code> but there is no class like this. (You could add such a class in your diagram and draw a dependency).</li>\n<li>The name of the property <code>playernames</code> is misleading:  it's players, and players are not just the names.  It's also the points, the state, annd everything that makes a player.</li>\n<li>can you explain why you've put arrows on the associations ?  If not, it's probably better to remove them.</li>\n<li><code>Extends</code> is not an UML keyword.  Just remove it: the specialization that you have drawn is sufficient:  it means inheritance.  For intertaces that are implemented you'd use the same symbol but with a dashed line.</li>\n</ul>\n"}],"owner":{"account_id":22654373,"reputation":81,"user_id":16828538,"display_name":"Artani"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1230,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70227240,"answer_count":1,"score":2,"last_activity_date":1638711901,"creation_date":1638620682,"question_id":70225545,"body_markdown":"I&#39;m doing a UML diagram for a *Connect four* game. It is a two-player connection board game, in which the players choose a color and then take turns dropping colored discs into a seven-column, six-row vertically suspended grid. \r\n\r\nI have a problem with the UML Diagram. The class game has 2 variables that came from another class(is this ok?). And secondly how is possible to write the constructor for all the given variables?\r\n\r\n\r\nNotice:The purpose of UML Diagram is not to write code out of it, but only as a project. There are no requirements.\r\n\r\n![UML Connect four][1]\r\n\r\n[1]: https://i.stack.imgur.com/G3ZVF.png\r\n","title":"How to write constructor where the types are from another class in Java?","body":"<p>I'm doing a UML diagram for a <em>Connect four</em> game. It is a two-player connection board game, in which the players choose a color and then take turns dropping colored discs into a seven-column, six-row vertically suspended grid.</p>\n<p>I have a problem with the UML Diagram. The class game has 2 variables that came from another class(is this ok?). And secondly how is possible to write the constructor for all the given variables?</p>\n<p>Notice:The purpose of UML Diagram is not to write code out of it, but only as a project. There are no requirements.</p>\n<p><img src=\"https://i.stack.imgur.com/G3ZVF.png\" alt=\"UML Connect four\" /></p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":11540266,"reputation":322,"user_id":8456245,"display_name":"Seyed Mohammad Amin Atyabi"},"score":0,"creation_date":1638681360,"post_id":70231642,"comment_id":124150225,"body_markdown":"You should write a loop statement to iterate on array element and print them","body":"You should write a loop statement to iterate on array element and print them"},{"owner":{"account_id":11239390,"reputation":180,"user_id":8244253,"display_name":"Hussien Mostafa"},"score":1,"creation_date":1638681469,"post_id":70231642,"comment_id":124150236,"body_markdown":"Does this answer your question? [What&#39;s the simplest way to print a Java array?](https://stackoverflow.com/questions/409784/whats-the-simplest-way-to-print-a-java-array)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/409784/whats-the-simplest-way-to-print-a-java-array\">What&#39;s the simplest way to print a Java array?</a>"},{"owner":{"account_id":10262224,"reputation":95,"user_id":7573179,"display_name":"Femke"},"score":0,"creation_date":1638681961,"post_id":70231642,"comment_id":124150274,"body_markdown":"I assume you mean where your system.out.println(nums) because I can&#39;t see line numbers. But doing it that way will give you the hashcode. Use Arrays.toString(nums)","body":"I assume you mean where your system.out.println(nums) because I can&#39;t see line numbers. But doing it that way will give you the hashcode. Use Arrays.toString(nums)"}],"answers":[{"tags":[],"owner":{"account_id":10262224,"reputation":95,"user_id":7573179,"display_name":"Femke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638682019,"creation_date":1638682019,"answer_id":70231699,"question_id":70231642,"body_markdown":"System.out.println(nums) only gives you the hashcode. Use Arrays.toString(nums) ","title":"How do I print the array?","body":"<p>System.out.println(nums) only gives you the hashcode. Use Arrays.toString(nums)</p>\n"}],"owner":{"account_id":23549523,"reputation":1,"user_id":17592458,"display_name":"coder876"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1638682186,"answer_count":1,"score":0,"last_activity_date":1638711534,"creation_date":1638681145,"question_id":70231642,"body_markdown":"All the code is correct aside from the lines where I have the array of numbers and try to print them (lines 5-6). How do I print the array?\r\n\r\n    public class PassedArray {\r\n\r\n    public static void passingArray(int[] nums) {\r\n\t\r\n\t  int arr[] = {6, 3, 8, 89, 34, 89, 132, 76, 34, 89, 11, 9, 19} ; \r\n\t         System.out.println(nums);\r\n\t\r\n\tint[] temp = new int[nums.length]; //create temporary array, temp, set the length of it equal to the original array\r\n\tfor(int i = 0; i &lt; nums.length; i++) {\r\n\ttemp[i] = nums[i]; //set every value at temp equal to every number at i\r\n\t//return nums;\t\r\n\t\t }\r\n    int index = 0; //create integer index to keep track of index\r\n    for(int i = 0; i &lt; temp.length; i++) {\r\n    \tif(temp[i] % 2 ==0) { //if number at i divided by 2 yields remainder of 0\r\n    \t\tnums[index] = temp[i]; //set number at index equal to temp at i, because temp at i is even\r\n    \t\tindex++; //Increment of index++ means index will increase by one each loop\r\n    \t\t\t\t //This is done because if this is not done, only the first number will be replaced\t\r\n    \t}\r\n    }\r\n   \r\n\t for (int i = 0; index &lt; temp.length; index++) {\r\n\t\t if (temp[i] % 2 != 0) { //if number at i divided by 2 does not yield remainder of 0\r\n\t\t\t nums[index] = temp[i]; //add the temp value to nums at index\r\n\t\t\t index++; //Increment of index++ means index will increase by one each loop\r\n\t\t\t \r\n\t\t }\r\n\t }\r\n\t \t\r\n    }\r\n\r\n    }\r\n\r\n     \r\n","title":"How do I print the array?","body":"<p>All the code is correct aside from the lines where I have the array of numbers and try to print them (lines 5-6). How do I print the array?</p>\n<pre><code>public class PassedArray {\n\npublic static void passingArray(int[] nums) {\n\n  int arr[] = {6, 3, 8, 89, 34, 89, 132, 76, 34, 89, 11, 9, 19} ; \n         System.out.println(nums);\n\nint[] temp = new int[nums.length]; //create temporary array, temp, set the length of it equal to the original array\nfor(int i = 0; i &lt; nums.length; i++) {\ntemp[i] = nums[i]; //set every value at temp equal to every number at i\n//return nums;  \n     }\nint index = 0; //create integer index to keep track of index\nfor(int i = 0; i &lt; temp.length; i++) {\n    if(temp[i] % 2 ==0) { //if number at i divided by 2 yields remainder of 0\n        nums[index] = temp[i]; //set number at index equal to temp at i, because temp at i is even\n        index++; //Increment of index++ means index will increase by one each loop\n                 //This is done because if this is not done, only the first number will be replaced \n    }\n}\n\n for (int i = 0; index &lt; temp.length; index++) {\n     if (temp[i] % 2 != 0) { //if number at i divided by 2 does not yield remainder of 0\n         nums[index] = temp[i]; //add the temp value to nums at index\n         index++; //Increment of index++ means index will increase by one each loop\n         \n     }\n }\n    \n}\n\n}\n\n \n</code></pre>\n"},{"tags":["java","spring","interface","polymorphism","abstract-class"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1638705030,"post_id":70233877,"comment_id":124153930,"body_markdown":"I don&#39;t really understand the problem. What&#39;s stopping your from declaring a `Client client;`?","body":"I don&#39;t really understand the problem. What&#39;s stopping your from declaring a <code>Client client;</code>?"},{"owner":{"account_id":22390594,"reputation":937,"user_id":16732680,"display_name":"dokichan"},"score":0,"creation_date":1638705290,"post_id":70233877,"comment_id":124154001,"body_markdown":"First of all, as I know, you can&#39;t create instance of interface (in this case) of abstract class, and the second, when I try to do that, I get this error: `&#39;Basic&#39; attribute type should not be &#39;Client&#39;`","body":"First of all, as I know, you can&#39;t create instance of interface (in this case) of abstract class, and the second, when I try to do that, I get this error: <code>&#39;Basic&#39; attribute type should not be &#39;Client&#39;</code>"}],"answers":[{"tags":[],"owner":{"account_id":4401188,"reputation":4398,"user_id":3586851,"accept_rate":50,"display_name":"Heri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638705488,"creation_date":1638705488,"answer_id":70234043,"question_id":70233877,"body_markdown":"&quot;...this is not DB...&quot; is in opposite to the @Entity annotation. Your field clientId seems to be a foreign reference to one of your Client entities. \r\n\r\nUsually such a 1:n relationship is modelled by JPA trough an entity reference, although the DB only has a Long ClientId as foreign key. The creation of the instance of the Client is done by JPA implementation (e.g. Hibernate) when you fetch a result set.\r\n\r\nBut you have to annotate the member by indicating the DB-Field which describes the relationship. E.g. (assuming one client can have more than one DebitAccount):\r\n\r\n    @ManyToOne(mappedBy=&quot;clientId&quot;)\r\n    Client client;\r\n\r\nOn the other hand, the @Entity implementations (the descendants of Client) must annotate how Hibernate can distiguish the two types, e.g. by a DB-Field ClientType. There are many possibilities to model this. This [link][1] may be a starting point.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1049510/how-do-i-express-a-polymorphic-association-in-jpa","title":"What should be done If I need to create abstract class or interface instance using Java?","body":"<p>&quot;...this is not DB...&quot; is in opposite to the @Entity annotation. Your field clientId seems to be a foreign reference to one of your Client entities.</p>\n<p>Usually such a 1:n relationship is modelled by JPA trough an entity reference, although the DB only has a Long ClientId as foreign key. The creation of the instance of the Client is done by JPA implementation (e.g. Hibernate) when you fetch a result set.</p>\n<p>But you have to annotate the member by indicating the DB-Field which describes the relationship. E.g. (assuming one client can have more than one DebitAccount):</p>\n<pre><code>@ManyToOne(mappedBy=&quot;clientId&quot;)\nClient client;\n</code></pre>\n<p>On the other hand, the @Entity implementations (the descendants of Client) must annotate how Hibernate can distiguish the two types, e.g. by a DB-Field ClientType. There are many possibilities to model this. This <a href=\"https://stackoverflow.com/questions/1049510/how-do-i-express-a-polymorphic-association-in-jpa\">link</a> may be a starting point.</p>\n"},{"tags":[],"owner":{"account_id":22390594,"reputation":937,"user_id":16732680,"display_name":"dokichan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1638710914,"creation_date":1638710914,"answer_id":70234779,"question_id":70233877,"body_markdown":"Here is my solution of the problem. I just added `transient` before class name and variable name, like that:\r\n\r\n```java\r\nprivate transient Client clientId;\r\npublic Long getClientId() { return clientId.getId(); }\r\npublic void setClientId(Client clientId) { this.clientId = clientId; }\r\n```\r\n\r\nAnd, for example, using `getClientId` I just need to call method in interface.","title":"What should be done If I need to create abstract class or interface instance using Java?","body":"<p>Here is my solution of the problem. I just added <code>transient</code> before class name and variable name, like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private transient Client clientId;\npublic Long getClientId() { return clientId.getId(); }\npublic void setClientId(Client clientId) { this.clientId = clientId; }\n</code></pre>\n<p>And, for example, using <code>getClientId</code> I just need to call method in interface.</p>\n"}],"owner":{"account_id":22390594,"reputation":937,"user_id":16732680,"display_name":"dokichan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1638710914,"creation_date":1638704231,"question_id":70233877,"body_markdown":"I&#39;m learning Java and Spring framework, so, in my Java web application I have interface `Client` and 2 classes that implements this interface - `PersonClient` and `CompanyClient`. Also, there is interface `Account` and class that implements this interface - `DebitAccount`:\r\n```java\r\npackage com.bankapp.bankwebapplication.models;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\n\r\n@Entity\r\npublic class DebitAccount implements Account {\r\n    @Id\r\n    private Long id;\r\n    public Long getId() { return id; }\r\n    public void setId(Long id) { this.id = id; }\r\n\r\n    private Long clientId;\r\n    public Long getClientId() { return clientId; }\r\n    public void setClientId(Long clientId) { this.clientId = clientId; }\r\n\r\n    private Long amountOfMoney;\r\n    public Long getAmountOfMoney() { return amountOfMoney; }\r\n    public void setAmountOfMoney(Long amountOfMoney) { this.amountOfMoney = amountOfMoney; }\r\n\r\n}\r\n```\r\nThis class has filed `clientId`. And here is a problem. As you can see, this is not DB, so, I can&#39;t just create `private Long clientId`. It has to be class instead of `Long` data type, but, I have interface, and I can&#39;t create interface instance, but I understand, that I can&#39;t leave it this way, it has to be class data type, not `Long`.\r\n\r\nI was thinking about abstract class, but, as same as interface, it&#39;s about polymorphism and I can&#39;t create abstract class instance either. How to figure that out? Or should I just create 2 fields for `CompanyClient` and `PersonalClient`?","title":"What should be done If I need to create abstract class or interface instance using Java?","body":"<p>I'm learning Java and Spring framework, so, in my Java web application I have interface <code>Client</code> and 2 classes that implements this interface - <code>PersonClient</code> and <code>CompanyClient</code>. Also, there is interface <code>Account</code> and class that implements this interface - <code>DebitAccount</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.bankapp.bankwebapplication.models;\n\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\n\n@Entity\npublic class DebitAccount implements Account {\n    @Id\n    private Long id;\n    public Long getId() { return id; }\n    public void setId(Long id) { this.id = id; }\n\n    private Long clientId;\n    public Long getClientId() { return clientId; }\n    public void setClientId(Long clientId) { this.clientId = clientId; }\n\n    private Long amountOfMoney;\n    public Long getAmountOfMoney() { return amountOfMoney; }\n    public void setAmountOfMoney(Long amountOfMoney) { this.amountOfMoney = amountOfMoney; }\n\n}\n</code></pre>\n<p>This class has filed <code>clientId</code>. And here is a problem. As you can see, this is not DB, so, I can't just create <code>private Long clientId</code>. It has to be class instead of <code>Long</code> data type, but, I have interface, and I can't create interface instance, but I understand, that I can't leave it this way, it has to be class data type, not <code>Long</code>.</p>\n<p>I was thinking about abstract class, but, as same as interface, it's about polymorphism and I can't create abstract class instance either. How to figure that out? Or should I just create 2 fields for <code>CompanyClient</code> and <code>PersonalClient</code>?</p>\n"},{"tags":["java","image","image-processing","bufferedimage","java-17"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1635485147,"post_id":69764001,"comment_id":123315942,"body_markdown":"Yes, it is possible.","body":"Yes, it is possible."},{"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"score":0,"creation_date":1635485184,"post_id":69764001,"comment_id":123315947,"body_markdown":"@tgdavies How Sir? Is this some type of edge detection?","body":"@tgdavies How Sir? Is this some type of edge detection?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1635485340,"post_id":69764001,"comment_id":123315984,"body_markdown":"I guess that it&#39;s a simple threshold.","body":"I guess that it&#39;s a simple threshold."},{"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"score":0,"creation_date":1635485509,"post_id":69764001,"comment_id":123316012,"body_markdown":"@tgdavies Sir like [this](https://stackoverflow.com/a/48009421/17022570)?","body":"@tgdavies Sir like <a href=\"https://stackoverflow.com/a/48009421/17022570\">this</a>?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1635485741,"post_id":69764001,"comment_id":123316059,"body_markdown":"Looks plausible, try it!","body":"Looks plausible, try it!"},{"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"score":0,"creation_date":1637725589,"post_id":69764001,"comment_id":123900907,"body_markdown":"@tgdavies I found the answer.","body":"@tgdavies I found the answer."}],"answers":[{"tags":[],"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638709919,"creation_date":1636080234,"answer_id":69848149,"question_id":69764001,"body_markdown":"Yes I found the solution. if we Binarize an image it will work.\r\n\r\nInput image:-\r\n\r\n[![enter image description here][1]][1]\r\n\r\nOutput Image:-\r\n\r\n [![enter image description here][2]][2]\r\n\r\n\r\n\r\nCode:-\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Graphics;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import javax.imageio.ImageIO;\r\n    \r\n    public class Main {\r\n    \r\n     \r\n        public static void main(String[] args) throws  IOException {\r\n            \r\n            BufferedImage bi = ImageIO.read(new File(&quot;D:\\\\IMG_20211029_124954.jpg&quot;));\r\n            \r\n          ImageIO.write(binarizeImage(bi), &quot;png&quot;, new File(&quot;D:\\\\1.png&quot;));\r\n     \r\n    }\r\n    public static BufferedImage binarizeImage(BufferedImage img_param) \r\n    {\r\n        BufferedImage image = new BufferedImage(\r\n            img_param.getWidth(), \r\n            img_param.getHeight(),                                    \r\n            BufferedImage.TYPE_BYTE_BINARY\r\n        );\r\n    \r\n        Graphics g = image.getGraphics();\r\n        g.drawImage(img_param, 0, 0, null);\r\n        g.dispose();\r\n    \r\n        \r\n        return image;\r\n    }\r\n    }\r\n\r\nTo make the image transparent , You can do something like this:-\r\n\r\n    for(int i=0;i&lt;img.width;i++){\r\n    for(int j=0;j&lt;img.height;j++){\r\n    Color c = new Color(255,255,255,0);\r\n    if(img.getRGB==Color.white.getRGB){\r\n    img.setRGB(i,j,c.getRGB)\r\n    }\r\n    }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5R1Lh.png\r\n  [2]: https://i.stack.imgur.com/q3uaI.png","title":"Image To Stencil in Java","body":"<p>Yes I found the solution. if we Binarize an image it will work.</p>\n<p>Input image:-</p>\n<p><a href=\"https://i.stack.imgur.com/5R1Lh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5R1Lh.png\" alt=\"enter image description here\" /></a></p>\n<p>Output Image:-</p>\n<p><a href=\"https://i.stack.imgur.com/q3uaI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q3uaI.png\" alt=\"enter image description here\" /></a></p>\n<p>Code:-</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Graphics;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport javax.imageio.ImageIO;\n\npublic class Main {\n\n \n    public static void main(String[] args) throws  IOException {\n        \n        BufferedImage bi = ImageIO.read(new File(&quot;D:\\\\IMG_20211029_124954.jpg&quot;));\n        \n      ImageIO.write(binarizeImage(bi), &quot;png&quot;, new File(&quot;D:\\\\1.png&quot;));\n \n}\npublic static BufferedImage binarizeImage(BufferedImage img_param) \n{\n    BufferedImage image = new BufferedImage(\n        img_param.getWidth(), \n        img_param.getHeight(),                                    \n        BufferedImage.TYPE_BYTE_BINARY\n    );\n\n    Graphics g = image.getGraphics();\n    g.drawImage(img_param, 0, 0, null);\n    g.dispose();\n\n    \n    return image;\n}\n}\n</code></pre>\n<p>To make the image transparent , You can do something like this:-</p>\n<pre><code>for(int i=0;i&lt;img.width;i++){\nfor(int j=0;j&lt;img.height;j++){\nColor c = new Color(255,255,255,0);\nif(img.getRGB==Color.white.getRGB){\nimg.setRGB(i,j,c.getRGB)\n}\n}\n}\n</code></pre>\n"}],"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":69848149,"answer_count":1,"score":-2,"last_activity_date":1638709997,"creation_date":1635485006,"question_id":69764001,"body_markdown":"\r\n\r\nI am new to image processing in java and I am trying to convert an image to stencil (*I think [stencil][1] is name given for it!*).\r\n\r\nThe input image is this:-\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAfter processing the image would be like this:-\r\n\r\n[![enter image description here][3]][3]\r\n\r\nI searched google. But  could find a solution. (maybe because I don&#39;t know what is the actual name of this process.)\r\n\r\nIs this possible with java?\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Stencil\r\n  [2]: https://i.stack.imgur.com/iTo7E.jpg\r\n  [3]: https://i.stack.imgur.com/KIUKu.jpg","title":"Image To Stencil in Java","body":"<p>I am new to image processing in java and I am trying to convert an image to stencil (<em>I think <a href=\"https://en.wikipedia.org/wiki/Stencil\" rel=\"nofollow noreferrer\">stencil</a> is name given for it!</em>).</p>\n<p>The input image is this:-</p>\n<p><a href=\"https://i.stack.imgur.com/iTo7E.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iTo7E.jpg\" alt=\"enter image description here\" /></a></p>\n<p>After processing the image would be like this:-</p>\n<p><a href=\"https://i.stack.imgur.com/KIUKu.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KIUKu.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I searched google. But  could find a solution. (maybe because I don't know what is the actual name of this process.)</p>\n<p>Is this possible with java?</p>\n"},{"tags":["java","android","dagger-2","android-context"],"answers":[{"tags":[],"owner":{"account_id":2645126,"reputation":162,"user_id":2287994,"display_name":"Muhammad Sarim Mehdi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638709318,"creation_date":1638709318,"answer_id":70234557,"question_id":70225716,"body_markdown":"Finally figured it out:\r\n\r\n    // modules.java\r\n    @Module\r\n    public class ContextModules {\r\n\r\n        private final Context context;\r\n    \r\n        public ContextModules(Context context) {\r\n            this.context = context;\r\n        }\r\n    \r\n        @Provides\r\n        ContextProviderClass contextProvider() {\r\n            return new ContextProviderClass(context);\r\n        }\r\n    }\r\n    \r\n    //components.java interface\r\n    @Component(modules = ContextModules.class)\r\n    public interface Components {\r\n         // put getter for class that needs context\r\n    }\r\n    \r\n    // MainActivity.java where you want the object of class\r\n    Components components = DaggerComponents.builder()\r\n                    .modules(new ModContextModulesules(this))\r\n                    .build();\r\n\r\n","title":"how do I inject MainActivity context using dagger2 in java?","body":"<p>Finally figured it out:</p>\n<pre><code>// modules.java\n@Module\npublic class ContextModules {\n\n    private final Context context;\n\n    public ContextModules(Context context) {\n        this.context = context;\n    }\n\n    @Provides\n    ContextProviderClass contextProvider() {\n        return new ContextProviderClass(context);\n    }\n}\n\n//components.java interface\n@Component(modules = ContextModules.class)\npublic interface Components {\n     // put getter for class that needs context\n}\n\n// MainActivity.java where you want the object of class\nComponents components = DaggerComponents.builder()\n                .modules(new ModContextModulesules(this))\n                .build();\n</code></pre>\n"}],"owner":{"account_id":2645126,"reputation":162,"user_id":2287994,"display_name":"Muhammad Sarim Mehdi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638709318,"creation_date":1638622030,"question_id":70225716,"body_markdown":"I am trying to inject the context of the MainActivity into a class I have. I looked at [this][1] but it doesn&#39;t work for me and I get the following error:\r\n\r\n        /home/muhammadmehdi/ALL_PROJECTS/memex/memex-app/app/src/main/java/com/memex/MainActivity.java:30: error: cannot find symbol\r\n    import com.memex.components.DaggerMainActivityComponent;\r\n                               ^\r\n      symbol:   class DaggerMainActivityComponent\r\n      location: package com.memex.component\r\n\r\nThis is the code that I wrote in the onCreate method of the MainActivity.java file:\r\n\r\n    MainActivityComponent mainActivityComponent = DaggerMainActivityComponent.builder()\r\n                    .mainActivityModule(new MainActivityModule(MainActivity.this))\r\n                    .build();\r\n\r\n  [1]: https://stackoverflow.com/questions/30692501/dagger-2-injecting-android-application-context","title":"how do I inject MainActivity context using dagger2 in java?","body":"<p>I am trying to inject the context of the MainActivity into a class I have. I looked at <a href=\"https://stackoverflow.com/questions/30692501/dagger-2-injecting-android-application-context\">this</a> but it doesn't work for me and I get the following error:</p>\n<pre><code>    /home/muhammadmehdi/ALL_PROJECTS/memex/memex-app/app/src/main/java/com/memex/MainActivity.java:30: error: cannot find symbol\nimport com.memex.components.DaggerMainActivityComponent;\n                           ^\n  symbol:   class DaggerMainActivityComponent\n  location: package com.memex.component\n</code></pre>\n<p>This is the code that I wrote in the onCreate method of the MainActivity.java file:</p>\n<pre><code>MainActivityComponent mainActivityComponent = DaggerMainActivityComponent.builder()\n                .mainActivityModule(new MainActivityModule(MainActivity.this))\n                .build();\n</code></pre>\n"},{"tags":["java","multithreading","methods"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1638686351,"post_id":70231927,"comment_id":124150735,"body_markdown":"Why are you passing `this` to `Ball` and `Racquet`? That seems odd to me.","body":"Why are you passing <code>this</code> to <code>Ball</code> and <code>Racquet</code>? That seems odd to me."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1638686353,"post_id":70231927,"comment_id":124150736,"body_markdown":"You need to show the full stack trace of the exception.","body":"You need to show the full stack trace of the exception."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1638686471,"post_id":70231927,"comment_id":124150754,"body_markdown":"Please explain exactly what you mean by &quot;in another program&quot;. Show the code you are using.","body":"Please explain exactly what you mean by &quot;in another program&quot;. Show the code you are using."}],"answers":[{"tags":[],"owner":{"account_id":13910108,"reputation":1,"user_id":10043523,"display_name":"adam077x"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638708483,"creation_date":1638708483,"answer_id":70234442,"question_id":70231927,"body_markdown":"I am not sure if i understand you correctly, but if you want to access `Game2 game = new Game2();` from another class you can create static object game.\r\n\r\n        public class Game2 extends JPanel {\r\n            public static Game2 game;\r\n            ...\r\n\r\nThen you need to initialize it.\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        JFrame frame = new JFrame(&quot;Catch the Snowball&quot;);\r\n        game = new Game2();\r\nand then you can access it by\r\n\r\n    Game2.game.something();\r\n\r\n","title":"Trouble calling a JAVA file from a JAVA File","body":"<p>I am not sure if i understand you correctly, but if you want to access <code>Game2 game = new Game2();</code> from another class you can create static object game.</p>\n<pre><code>    public class Game2 extends JPanel {\n        public static Game2 game;\n        ...\n</code></pre>\n<p>Then you need to initialize it.</p>\n<pre><code>public static void main(String[] args) throws InterruptedException {\n    JFrame frame = new JFrame(&quot;Catch the Snowball&quot;);\n    game = new Game2();\n</code></pre>\n<p>and then you can access it by</p>\n<pre><code>Game2.game.something();\n</code></pre>\n"}],"owner":{"account_id":23549788,"reputation":1,"user_id":17592686,"display_name":"myBad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1638708483,"creation_date":1638684906,"question_id":70231927,"body_markdown":"I&#39;m fairly new to java and am having trouble calling a mini tennis game I coded, following a tutorial, into another java file. Essentially a button in the Main File will call my game and display it in another `JFrame`. I haven&#39;t been able to get my game frame to open and I know it has something to do with the layout of my code for the game but I have tried rearranging and I haven&#39;t been able to call it because the main function throws an interrupted exception because there is a thread in there that keeps the game looping. What would I put in my main program to call it and how can I modify my mini tennis game to be able to be called? Basically, how can I modify the code below to be able to be called using a `Game2 game = new Game2();` in another program? Or is there another method?\r\n\r\n\t@SuppressWarnings(&quot;serial&quot;)\r\n    public class Game2 extends JPanel {\r\n        Ball ball = new Ball(this);\r\n\t    Racquet racquet = new Racquet(this);\r\n\t    int speed = 1;\r\n\r\n\t    private int getScore() {\r\n\t\t    return speed - 1;\r\n\t    }\r\n\r\n\t    public Game2() {\r\n\t\t    addKeyListener(new KeyListener() {\r\n\t\t\t    @Override\r\n\t\t\t    public void keyTyped(KeyEvent e) {\r\n\t\t\t    }\r\n\r\n\t\t\t    @Override\r\n\t\t\t    public void keyReleased(KeyEvent e) {\r\n\t\t\t\t    racquet.keyReleased(e);\r\n\t\t\t    }\r\n\r\n\t\t\t    @Override\r\n\t\t\t    public void keyPressed(KeyEvent e) {\r\n\t\t\t\t    racquet.keyPressed(e);\r\n\t\t\t    }\r\n\t\t    });\r\n\t\t    setFocusable(true);\r\n\t\t    Sound.BACK.loop();\r\n\t    }\r\n\r\n\t    private void move() {\r\n\t\t    ball.move();\r\n\t\t    racquet.move();\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public void paint(Graphics g) {\r\n\t\t    super.paint(g);\r\n\t\t    Graphics2D g2d = (Graphics2D) g;\r\n\t\t    g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\r\n\t\t\t\tRenderingHints.VALUE_ANTIALIAS_ON);\r\n\t\t    ball.paint(g2d);\r\n\t\t    racquet.paint(g2d);\r\n\r\n\t\t    g2d.setColor(Color.GREEN);\r\n\t\t    g2d.setFont(new Font(&quot;Verdana&quot;, Font.BOLD, 30));\r\n\t\t    g2d.drawString(String.valueOf(getScore()), 10, 30);\r\n\t    }\r\n\r\n\t    public void gameOver() {\r\n\t\t    Sound.BACK.stop();\r\n\t\t    Sound.GAMEOVER.play();\r\n\t\t    JOptionPane.showMessageDialog(this,\r\n                                          &quot;You caught it this many times &quot; + getScore(),\r\n                                          &quot;Game Over&quot;,\r\n                                          JOptionPane.YES_NO_OPTION);\r\n\t\t    System.exit(ABORT);\r\n\t    }\r\n\r\n\t    public static void main(String[] args) throws InterruptedException {\r\n\t\t    JFrame frame = new JFrame(&quot;Catch the Snowball&quot;);\r\n\t\t    Game2 game = new Game2();\r\n\t\t    frame.add(game);\r\n            frame.setSize(300, 400);\r\n\t\t    frame.setVisible(true);\r\n\t\t    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t    while (true) {\r\n\t\t\t    game.move();\r\n\t\t\t    game.repaint();\r\n\t\t\t    Thread.sleep(10);\r\n\t\t    }\r\n\t    }\r\n    }\r\n","title":"Trouble calling a JAVA file from a JAVA File","body":"<p>I'm fairly new to java and am having trouble calling a mini tennis game I coded, following a tutorial, into another java file. Essentially a button in the Main File will call my game and display it in another <code>JFrame</code>. I haven't been able to get my game frame to open and I know it has something to do with the layout of my code for the game but I have tried rearranging and I haven't been able to call it because the main function throws an interrupted exception because there is a thread in there that keeps the game looping. What would I put in my main program to call it and how can I modify my mini tennis game to be able to be called? Basically, how can I modify the code below to be able to be called using a <code>Game2 game = new Game2();</code> in another program? Or is there another method?</p>\n<pre><code>@SuppressWarnings(&quot;serial&quot;)\npublic class Game2 extends JPanel {\n    Ball ball = new Ball(this);\n    Racquet racquet = new Racquet(this);\n    int speed = 1;\n\n    private int getScore() {\n        return speed - 1;\n    }\n\n    public Game2() {\n        addKeyListener(new KeyListener() {\n            @Override\n            public void keyTyped(KeyEvent e) {\n            }\n\n            @Override\n            public void keyReleased(KeyEvent e) {\n                racquet.keyReleased(e);\n            }\n\n            @Override\n            public void keyPressed(KeyEvent e) {\n                racquet.keyPressed(e);\n            }\n        });\n        setFocusable(true);\n        Sound.BACK.loop();\n    }\n\n    private void move() {\n        ball.move();\n        racquet.move();\n    }\n\n    @Override\n    public void paint(Graphics g) {\n        super.paint(g);\n        Graphics2D g2d = (Graphics2D) g;\n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\n            RenderingHints.VALUE_ANTIALIAS_ON);\n        ball.paint(g2d);\n        racquet.paint(g2d);\n\n        g2d.setColor(Color.GREEN);\n        g2d.setFont(new Font(&quot;Verdana&quot;, Font.BOLD, 30));\n        g2d.drawString(String.valueOf(getScore()), 10, 30);\n    }\n\n    public void gameOver() {\n        Sound.BACK.stop();\n        Sound.GAMEOVER.play();\n        JOptionPane.showMessageDialog(this,\n                                      &quot;You caught it this many times &quot; + getScore(),\n                                      &quot;Game Over&quot;,\n                                      JOptionPane.YES_NO_OPTION);\n        System.exit(ABORT);\n    }\n\n    public static void main(String[] args) throws InterruptedException {\n        JFrame frame = new JFrame(&quot;Catch the Snowball&quot;);\n        Game2 game = new Game2();\n        frame.add(game);\n        frame.setSize(300, 400);\n        frame.setVisible(true);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        while (true) {\n            game.move();\n            game.repaint();\n            Thread.sleep(10);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","jsp","drop-down-menu"],"answers":[{"tags":[],"owner":{"account_id":4311362,"reputation":132319,"user_id":3522312,"display_name":"ScaisEdge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638708160,"creation_date":1638708160,"answer_id":70234404,"question_id":70234308,"body_markdown":"you can use several way  .. \r\n\r\nbut  th simplest could be  \r\n select the concat for brad and name as name \r\n\r\n\r\n\t\tselect concat(brand, &#39; &#39;, name) as name from cars\r\n\r\nand use only the name result  \r\n\r\n\t&lt;%\r\n\twhile(rs.next()){\r\n\tString name = rs.getString(&quot;name&quot;);\r\n\t%&gt;\r\n\t&lt;option value=&quot;&lt;%=name %&gt;&quot;&gt;&lt;%=name %&gt;&lt;/option&gt;\r\n\r\n\r\n","title":"Add data from different columns into dropdown menu in jsp","body":"<p>you can use several way  ..</p>\n<p>but  th simplest could be<br />\nselect the concat for brad and name as name</p>\n<pre><code>    select concat(brand, ' ', name) as name from cars\n</code></pre>\n<p>and use only the name result</p>\n<pre><code>&lt;%\nwhile(rs.next()){\nString name = rs.getString(&quot;name&quot;);\n%&gt;\n&lt;option value=&quot;&lt;%=name %&gt;&quot;&gt;&lt;%=name %&gt;&lt;/option&gt;\n</code></pre>\n"}],"owner":{"account_id":22418344,"reputation":19,"user_id":16626050,"display_name":"Cookie Z"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638708160,"creation_date":1638707444,"question_id":70234308,"body_markdown":"So what I wanna know is if it&#39;s possible to add data from two different columns into a dropdown menu? To give an example, let&#39;s say my table looks like \r\n[this][1]\r\n\r\nAnd I wanna make my dropdown menu look like [this][2]\r\n\r\nBut I don&#39;t know how to change my code\r\n```\r\n&lt;% try{\r\nClass.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\nConnection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/autoshop&quot;, &quot;root&quot;, &quot;carli2016&quot;);\r\nStatement st=conn.createStatement();\r\nString query = &quot;select * from cars&quot;;\r\nResultSet rs = st.executeQuery(query);\r\n%&gt;\r\n&lt;select name=&quot;car&quot;&gt;\r\n&lt;%\r\nwhile(rs.next()){\r\nString brand = rs.getString(&quot;brand&quot;);\r\nString name = rs.getString(&quot;name&quot;);\r\n%&gt;\r\n&lt;option value=&quot;&lt;%=brand %&gt;&quot;&gt;&lt;%=brand %&gt;&lt;/option&gt;\r\n&lt;option value=&quot;&lt;%=name %&gt;&quot;&gt;&lt;%=name %&gt;&lt;/option&gt;\r\n\r\n&lt;%\r\n}\r\n%&gt;\r\n&lt;/select&gt;\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OFjVR.png\r\n  [2]: https://i.stack.imgur.com/5r5pU.png","title":"Add data from different columns into dropdown menu in jsp","body":"<p>So what I wanna know is if it's possible to add data from two different columns into a dropdown menu? To give an example, let's say my table looks like\n<a href=\"https://i.stack.imgur.com/OFjVR.png\" rel=\"nofollow noreferrer\">this</a></p>\n<p>And I wanna make my dropdown menu look like <a href=\"https://i.stack.imgur.com/5r5pU.png\" rel=\"nofollow noreferrer\">this</a></p>\n<p>But I don't know how to change my code</p>\n<pre><code>&lt;% try{\nClass.forName(&quot;com.mysql.jdbc.Driver&quot;);\nConnection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/autoshop&quot;, &quot;root&quot;, &quot;carli2016&quot;);\nStatement st=conn.createStatement();\nString query = &quot;select * from cars&quot;;\nResultSet rs = st.executeQuery(query);\n%&gt;\n&lt;select name=&quot;car&quot;&gt;\n&lt;%\nwhile(rs.next()){\nString brand = rs.getString(&quot;brand&quot;);\nString name = rs.getString(&quot;name&quot;);\n%&gt;\n&lt;option value=&quot;&lt;%=brand %&gt;&quot;&gt;&lt;%=brand %&gt;&lt;/option&gt;\n&lt;option value=&quot;&lt;%=name %&gt;&quot;&gt;&lt;%=name %&gt;&lt;/option&gt;\n\n&lt;%\n}\n%&gt;\n&lt;/select&gt;\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638708014,"creation_date":1638640800,"answer_id":70228140,"question_id":70226502,"body_markdown":"## int overflow\r\n\r\nExample input:\r\n\r\n    1\r\n    1 12\r\n    1000000 6\r\n\r\nExpected output:\r\n\r\n    =\r\n\r\nActual output from your program:\r\n\r\n    &gt;\r\n\r\n**Why was that?**\r\n\r\nFor the first number, `Math.pow(10, 12)` correctly yields 1 000 000 000 000.0 as a Java `double`. This is too big for an `int`, so when you cast it, it is cast to 2 147 483 647, the greatest possible `int` value. So `ans1` becomes 2 147 483 647. One would have expected an error to be reported, but that does not happen.\r\n\r\nFor the second number, not only does `pow()` correctly return 1 000 000.0, the number is also converted to an `int` with the same value, 1 000 000. But then the multiplcation causes overflow, and instead of 1 000 000 000 000 you get: -727 379 968. That’s right, a negative number.\r\n\r\nSo are those number equal? Not at all. `ans1` is greater. Therefore `&gt;` is printed.\r\n\r\n## Any solution?\r\n\r\nThe immediate solution is to use `BigInteger` for your math instead of `int`. Whether you are under performance restrictions that cause this not to work for your challenge, I don’t know. If so, you will have to think out a still cleverer solution. It’s meant to be part of the challenge, so I am not taking it away from you. I can think of at least one smart option (teasing, I know).\r\n\r\nThe range of `long` isn’t large enough either. They go up to 9.22 * 10&lt;sup&gt;18&lt;/sup&gt;. You would need 1 * 10&lt;sup&gt;1000006&lt;/sup&gt;. So the next natural step would be to learn to use `BigInteger`. The syntax is quite different, but the mathematical concepts should still be familiar.\r\n","title":"Why is this code showing test case error?","body":"<h2>int overflow</h2>\n<p>Example input:</p>\n<pre><code>1\n1 12\n1000000 6\n</code></pre>\n<p>Expected output:</p>\n<pre><code>=\n</code></pre>\n<p>Actual output from your program:</p>\n<pre><code>&gt;\n</code></pre>\n<p><strong>Why was that?</strong></p>\n<p>For the first number, <code>Math.pow(10, 12)</code> correctly yields 1 000 000 000 000.0 as a Java <code>double</code>. This is too big for an <code>int</code>, so when you cast it, it is cast to 2 147 483 647, the greatest possible <code>int</code> value. So <code>ans1</code> becomes 2 147 483 647. One would have expected an error to be reported, but that does not happen.</p>\n<p>For the second number, not only does <code>pow()</code> correctly return 1 000 000.0, the number is also converted to an <code>int</code> with the same value, 1 000 000. But then the multiplcation causes overflow, and instead of 1 000 000 000 000 you get: -727 379 968. That’s right, a negative number.</p>\n<p>So are those number equal? Not at all. <code>ans1</code> is greater. Therefore <code>&gt;</code> is printed.</p>\n<h2>Any solution?</h2>\n<p>The immediate solution is to use <code>BigInteger</code> for your math instead of <code>int</code>. Whether you are under performance restrictions that cause this not to work for your challenge, I don’t know. If so, you will have to think out a still cleverer solution. It’s meant to be part of the challenge, so I am not taking it away from you. I can think of at least one smart option (teasing, I know).</p>\n<p>The range of <code>long</code> isn’t large enough either. They go up to 9.22 * 10<sup>18</sup>. You would need 1 * 10<sup>1000006</sup>. So the next natural step would be to learn to use <code>BigInteger</code>. The syntax is quite different, but the mathematical concepts should still be familiar.</p>\n"}],"owner":{"account_id":23544255,"reputation":41,"user_id":17587957,"display_name":"shivam01-0"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":70228140,"answer_count":1,"score":-3,"last_activity_date":1638708014,"creation_date":1638628068,"question_id":70226502,"body_markdown":"**QUESTION**\r\nMonocarp wrote down two numbers on a whiteboard. Both numbers follow a specific format: a positive integer ___x___ with ___p___ zeros appended to its end.\r\n\r\nNow Monocarp asks you to compare these two numbers. Can you help him?\r\n\r\n**Input**  \r\nThe first line contains a single integer ___t___ **(1 ≤** ___t___ **≤ 10&lt;sup&gt;4&lt;/sup&gt;)** — the number of test cases.\r\n\r\nThe first line of each test case contains two integers ___x1___ and ___p1___ **(1 ≤** ___x1___ **≤ 10&lt;sup&gt;6&lt;/sup&gt;;0 ≤** ___p1___ **≤ 10&lt;sup&gt;6&lt;/sup&gt;)** — the description of the first number.\r\n\r\nThe second line of each test case contains two integers ___x2___ and ___p2___ **(1 ≤** ___x2___ **≤ 10&lt;sup&gt;6&lt;/sup&gt;;0 ≤** ___p2___ **≤ 10&lt;sup&gt;6&lt;/sup&gt;)** — the description of the second number.\r\n\r\n**Output**  \r\nFor each testcase print the result of the comparison of the given two numbers. If the first number is smaller than the second one, print `&lt;`. If the first number is greater than the second one, print `&gt;`. If they are equal, print `=`.\r\n\r\n**MY CODE**\r\n```java\r\nimport java.util.*;\r\npublic class A_1613_LongComparison_Contest\r\n{\r\n    public static void main(String args[])\r\n    {\r\n        Scanner sc=new Scanner(System.in);\r\n        System.out.println(&quot;&quot;);\r\n        int n=sc.nextInt();\r\n        int i=0, ans1=0, ans2=0, j=0, pow=0;\r\n        for(i=1;i&lt;=n;i++)\r\n        {\r\n            for(j=1;j&lt;3;j++)\r\n            {\r\n                System.out.print(&quot;&quot;);\r\n                int x=sc.nextInt();\r\n                System.out.println(&quot;&quot;);\r\n                int p=sc.nextInt();\r\n                if(j==1)\r\n                {\r\n                    pow=(int)(Math.pow(10,p));\r\n                    ans1=x*pow;\r\n                }\r\n                else\r\n                {\r\n                    pow=(int)(Math.pow(10,p));\r\n                    ans2=x*pow;\r\n                }\r\n            }\r\n            if(ans1&gt;ans2)\r\n                System.out.println(&quot;&gt;&quot;);\r\n            else if(ans1==ans2)\r\n                System.out.println(&quot;=&quot;);\r\n            else\r\n                System.out.println(&quot;&lt;&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nThis problem is taken from codeforces contest. This is my first question so sorry for pasting it all\r\n**Link of problem** https://codeforces.com/contest/1613/problem/A\r\n**It is showing wrong on a test case i cant see, please help me find problem**\r\n**thank you**","title":"Why is this code showing test case error?","body":"<p><strong>QUESTION</strong>\nMonocarp wrote down two numbers on a whiteboard. Both numbers follow a specific format: a positive integer <em><strong>x</strong></em> with <em><strong>p</strong></em> zeros appended to its end.</p>\n<p>Now Monocarp asks you to compare these two numbers. Can you help him?</p>\n<p><strong>Input</strong><br />\nThe first line contains a single integer <em><strong>t</strong></em> <strong>(1 ≤</strong> <em><strong>t</strong></em> <strong>≤ 10<sup>4</sup>)</strong> — the number of test cases.</p>\n<p>The first line of each test case contains two integers <em><strong>x1</strong></em> and <em><strong>p1</strong></em> <strong>(1 ≤</strong> <em><strong>x1</strong></em> <strong>≤ 10<sup>6</sup>;0 ≤</strong> <em><strong>p1</strong></em> <strong>≤ 10<sup>6</sup>)</strong> — the description of the first number.</p>\n<p>The second line of each test case contains two integers <em><strong>x2</strong></em> and <em><strong>p2</strong></em> <strong>(1 ≤</strong> <em><strong>x2</strong></em> <strong>≤ 10<sup>6</sup>;0 ≤</strong> <em><strong>p2</strong></em> <strong>≤ 10<sup>6</sup>)</strong> — the description of the second number.</p>\n<p><strong>Output</strong><br />\nFor each testcase print the result of the comparison of the given two numbers. If the first number is smaller than the second one, print <code>&lt;</code>. If the first number is greater than the second one, print <code>&gt;</code>. If they are equal, print <code>=</code>.</p>\n<p><strong>MY CODE</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\npublic class A_1613_LongComparison_Contest\n{\n    public static void main(String args[])\n    {\n        Scanner sc=new Scanner(System.in);\n        System.out.println(&quot;&quot;);\n        int n=sc.nextInt();\n        int i=0, ans1=0, ans2=0, j=0, pow=0;\n        for(i=1;i&lt;=n;i++)\n        {\n            for(j=1;j&lt;3;j++)\n            {\n                System.out.print(&quot;&quot;);\n                int x=sc.nextInt();\n                System.out.println(&quot;&quot;);\n                int p=sc.nextInt();\n                if(j==1)\n                {\n                    pow=(int)(Math.pow(10,p));\n                    ans1=x*pow;\n                }\n                else\n                {\n                    pow=(int)(Math.pow(10,p));\n                    ans2=x*pow;\n                }\n            }\n            if(ans1&gt;ans2)\n                System.out.println(&quot;&gt;&quot;);\n            else if(ans1==ans2)\n                System.out.println(&quot;=&quot;);\n            else\n                System.out.println(&quot;&lt;&quot;);\n        }\n    }\n}\n</code></pre>\n<p>This problem is taken from codeforces contest. This is my first question so sorry for pasting it all\n<strong>Link of problem</strong> <a href=\"https://codeforces.com/contest/1613/problem/A\" rel=\"nofollow noreferrer\">https://codeforces.com/contest/1613/problem/A</a>\n<strong>It is showing wrong on a test case i cant see, please help me find problem</strong>\n<strong>thank you</strong></p>\n"},{"tags":["java","string","arraylist","double"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1638706966,"post_id":70234226,"comment_id":124154342,"body_markdown":"*I need to convert the balance (column[2]) in to a String.* I have **tremendous** news; `column[2]` **is** a `String`. Or I&#39;m missing something very relevant here.","body":"<i>I need to convert the balance (column[2]) in to a String.</i> I have <b>tremendous</b> news; <code>column[2]</code> <b>is</b> a <code>String</code>. Or I&#39;m missing something very relevant here."},{"owner":{"account_id":23359895,"reputation":1,"user_id":17432303,"display_name":"Rgt"},"score":0,"creation_date":1638707076,"post_id":70234226,"comment_id":124154369,"body_markdown":"You are right, what i need is the opposite, i will fix the post, thank you!","body":"You are right, what i need is the opposite, i will fix the post, thank you!"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1638707109,"post_id":70234226,"comment_id":124154377,"body_markdown":"*what i need is the opposite* `Double.parseDouble(column[2])`","body":"<i>what i need is the opposite</i> <code>Double.parseDouble(column[2])</code>"},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":1,"creation_date":1638707198,"post_id":70234226,"comment_id":124154400,"body_markdown":"Another FYI Just because something is numeric and has a decimal point doesn&#39;t mean it has to be a floating point number. There is a fixed decimal called BigDecimal that is easier to deal with.","body":"Another FYI Just because something is numeric and has a decimal point doesn&#39;t mean it has to be a floating point number. There is a fixed decimal called BigDecimal that is easier to deal with."},{"owner":{"account_id":23359895,"reputation":1,"user_id":17432303,"display_name":"Rgt"},"score":0,"creation_date":1638707291,"post_id":70234226,"comment_id":124154424,"body_markdown":"Thank you both! I will close the question","body":"Thank you both! I will close the question"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1638707312,"post_id":70234226,"comment_id":124154431,"body_markdown":"@NathanHughes There is also [`Currency`](https://docs.oracle.com/javase/8/docs/api/java/util/Currency.html). If you want to model money specifically.","body":"@NathanHughes There is also <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Currency.html\" rel=\"nofollow noreferrer\"><code>Currency</code></a>. If you want to model money specifically."}],"owner":{"account_id":23359895,"reputation":1,"user_id":17432303,"display_name":"Rgt"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1638707176,"answer_count":0,"score":0,"last_activity_date":1638707120,"creation_date":1638706810,"question_id":70234226,"body_markdown":"I am doing a exercise of a banking account with a txt file, my acount have name(String), acc number(String), balance(double). I need to convert the **balance** (column[2]) in to a double. \r\n\r\n    public static ArrayList&lt;Account&gt; readAccounts(Scanner input){\r\n        String row;\r\n        String[] column;\r\n        ArrayList&lt;Account&gt; accounts = new ArrayList&lt;&gt;();\r\n        while(input.hasNext()){\r\n            row = input.nextLine();\r\n            column = row.split(&quot;;&quot;);\r\n            Account account = new Account(column[0], column[1], column[2]);\r\n            account.toString();\r\n            accounts.add(account);\r\n        }\r\n        return accounts;\r\n    }\r\n\r\n","title":"Converting double to String in order to read a txt file","body":"<p>I am doing a exercise of a banking account with a txt file, my acount have name(String), acc number(String), balance(double). I need to convert the <strong>balance</strong> (column[2]) in to a double.</p>\n<pre><code>public static ArrayList&lt;Account&gt; readAccounts(Scanner input){\n    String row;\n    String[] column;\n    ArrayList&lt;Account&gt; accounts = new ArrayList&lt;&gt;();\n    while(input.hasNext()){\n        row = input.nextLine();\n        column = row.split(&quot;;&quot;);\n        Account account = new Account(column[0], column[1], column[2]);\n        account.toString();\n        accounts.add(account);\n    }\n    return accounts;\n}\n</code></pre>\n"},{"tags":["java","date","simpledateformat","date-parsing"],"comments":[{"owner":{"account_id":1306954,"reputation":11661,"user_id":1255746,"accept_rate":78,"display_name":"Josh M"},"score":2,"creation_date":1377870493,"post_id":18534343,"comment_id":27258972,"body_markdown":"If it were to parse it to 4 digits as opposed to 5, it wouldn&#39;t be the correct year.","body":"If it were to parse it to 4 digits as opposed to 5, it wouldn&#39;t be the correct year."},{"owner":{"account_id":390562,"reputation":5376,"user_id":750711,"accept_rate":100,"display_name":"sealz"},"score":0,"creation_date":1377870670,"post_id":18534343,"comment_id":27259107,"body_markdown":"I believe if you are worried about making it 4 incase user input or something is typo&#39;d you would have to check that before setting your date value.","body":"I believe if you are worried about making it 4 incase user input or something is typo&#39;d you would have to check that before setting your date value."},{"owner":{"account_id":155491,"reputation":343,"user_id":2266509,"accept_rate":46,"display_name":"goe"},"score":1,"creation_date":1377870693,"post_id":18534343,"comment_id":27259123,"body_markdown":"I don&#39;t want it to parse it to 4 digits, I want it to fail (give me an exception) because the value I&#39;m providing doesn&#39;t match the exact date format.","body":"I don&#39;t want it to parse it to 4 digits, I want it to fail (give me an exception) because the value I&#39;m providing doesn&#39;t match the exact date format."},{"owner":{"account_id":390562,"reputation":5376,"user_id":750711,"accept_rate":100,"display_name":"sealz"},"score":0,"creation_date":1377870769,"post_id":18534343,"comment_id":27259167,"body_markdown":"You will have to check the value yourself and catch your own exception in a Try block. Form the answers it seems Java supports years in 2 formats..yy and the full year. Check the date string before assigning it to date.","body":"You will have to check the value yourself and catch your own exception in a Try block. Form the answers it seems Java supports years in 2 formats..yy and the full year. Check the date string before assigning it to date."},{"owner":{"account_id":963,"reputation":18382,"user_id":37740,"accept_rate":71,"display_name":"Sajal Dutta"},"score":0,"creation_date":1377872144,"post_id":18534343,"comment_id":27260050,"body_markdown":"It won&#39;t. You have to code it. Updated my answer.","body":"It won&#39;t. You have to code it. Updated my answer."}],"answers":[{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1377870246,"creation_date":1377870246,"answer_id":18534431,"question_id":18534343,"body_markdown":"See `java.text.SimpleDateFormat` API, pattern letter `y`: For parsing, if the number of pattern letters is more than 2, the year is interpreted literally, regardless of the number of digits.","title":"Why SimpleDateFormat(&quot;MM/dd/yyyy&quot;) parses date to 10/20/20128?","body":"<p>See <code>java.text.SimpleDateFormat</code> API, pattern letter <code>y</code>: For parsing, if the number of pattern letters is more than 2, the year is interpreted literally, regardless of the number of digits.</p>\n"},{"tags":[],"owner":{"account_id":963,"reputation":18382,"user_id":37740,"accept_rate":71,"display_name":"Sajal Dutta"},"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1377871930,"creation_date":1377870307,"answer_id":18534451,"question_id":18534343,"body_markdown":"20128 is a valid year and Java hopes the world to live that long I guess.\r\n\r\n&gt; if the number of pattern letters is more than 2, the year is\r\n&gt; interpreted literally, regardless of the number of digits.\r\n\r\n[**Reference.**][1]\r\n\r\nIf you want to validate if a date is in limit, you can define one and check-\r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n    Date maxDate = sdf.parse(&quot;01/01/2099&quot;);  // This is the limit\r\n            \r\n    if(someDate.after(maxDate)){            \r\n        System.out.println(&quot;Invalid date&quot;);            \r\n    }\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html#year\r\n","title":"Why SimpleDateFormat(&quot;MM/dd/yyyy&quot;) parses date to 10/20/20128?","body":"<p>20128 is a valid year and Java hopes the world to live that long I guess.</p>\n\n<blockquote>\n  <p>if the number of pattern letters is more than 2, the year is\n  interpreted literally, regardless of the number of digits.</p>\n</blockquote>\n\n<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html#year\"><strong>Reference.</strong></a></p>\n\n<p>If you want to validate if a date is in limit, you can define one and check-</p>\n\n<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(\"dd/MM/yyyy\");\nDate maxDate = sdf.parse(\"01/01/2099\");  // This is the limit\n\nif(someDate.after(maxDate)){            \n    System.out.println(\"Invalid date\");            \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1377870322,"creation_date":1377870322,"answer_id":18534455,"question_id":18534343,"body_markdown":"See the [javadoc][1]\r\n\r\n&gt; Year: If the formatter&#39;s Calendar is the Gregorian calendar, the\r\n&gt; following rules are applied.\r\n&gt; \r\n&gt;  - For formatting, if the number of pattern letters is 2, the year is    truncated to 2 digits; otherwise it is interpreted as a number.\r\n&gt;  - For parsing, if the number of pattern letters is more than 2, **the    year is interpreted literally**, regardless of the number of digits.\r\n&gt; So    using the pattern &quot;MM/dd/yyyy&quot;, &quot;01/11/12&quot; parses to Jan 11, 12\r\n&gt; A.D.\r\n&gt;  - For parsing with the abbreviated year pattern (&quot;y&quot; or &quot;yy&quot;),    SimpleDateFormat must interpret the abbreviated year relative to some \r\n&gt; century. It does this by adjusting dates to be within 80 years before \r\n&gt; and 20 years after the time the SimpleDateFormat instance is created. \r\n&gt; For example, using a pattern of &quot;MM/dd/yy&quot; and a SimpleDateFormat   \r\n&gt; instance created on Jan 1, 1997, the string &quot;01/11/12&quot; would be   \r\n&gt; interpreted as Jan 11, 2012 while the string &quot;05/04/64&quot; would be   \r\n&gt; interpreted as May 4, 1964. During parsing, only strings consisting   \r\n&gt; of exactly two digits, as defined by Character.isDigit(char), will be \r\n&gt; parsed into the default century. Any other numeric string, such as a  \r\n&gt; one digit string, a three or more digit string, or a two digit string \r\n&gt; that isn&#39;t all digits (for example, &quot;-1&quot;), is interpreted literally.  \r\n&gt; So &quot;01/02/3&quot; or &quot;01/02/003&quot; are parsed, using the same pattern, as   \r\n&gt; Jan 2, 3 AD. Likewise, &quot;01/02/-3&quot; is parsed as Jan 2, 4 BC.\r\n&gt;  - Otherwise, calendar system specific forms are applied. For both    formatting and parsing, if the number of pattern letters is 4 or   \r\n&gt; more, a calendar specific long form is used. Otherwise, a calendar   \r\n&gt; specific short or abbreviated form is used.\r\n\r\nTherefore, it will read all the characters that come after the last `/` as the year.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html#year","title":"Why SimpleDateFormat(&quot;MM/dd/yyyy&quot;) parses date to 10/20/20128?","body":"<p>See the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html#year\">javadoc</a></p>\n\n<blockquote>\n  <p>Year: If the formatter's Calendar is the Gregorian calendar, the\n  following rules are applied.</p>\n  \n  <ul>\n  <li>For formatting, if the number of pattern letters is 2, the year is    truncated to 2 digits; otherwise it is interpreted as a number.</li>\n  <li>For parsing, if the number of pattern letters is more than 2, <strong>the    year is interpreted literally</strong>, regardless of the number of digits.\n  So    using the pattern \"MM/dd/yyyy\", \"01/11/12\" parses to Jan 11, 12\n  A.D.</li>\n  <li>For parsing with the abbreviated year pattern (\"y\" or \"yy\"),    SimpleDateFormat must interpret the abbreviated year relative to some \n  century. It does this by adjusting dates to be within 80 years before \n  and 20 years after the time the SimpleDateFormat instance is created. \n  For example, using a pattern of \"MM/dd/yy\" and a SimpleDateFormat<br>\n  instance created on Jan 1, 1997, the string \"01/11/12\" would be<br>\n  interpreted as Jan 11, 2012 while the string \"05/04/64\" would be<br>\n  interpreted as May 4, 1964. During parsing, only strings consisting<br>\n  of exactly two digits, as defined by Character.isDigit(char), will be \n  parsed into the default century. Any other numeric string, such as a<br>\n  one digit string, a three or more digit string, or a two digit string \n  that isn't all digits (for example, \"-1\"), is interpreted literally.<br>\n  So \"01/02/3\" or \"01/02/003\" are parsed, using the same pattern, as<br>\n  Jan 2, 3 AD. Likewise, \"01/02/-3\" is parsed as Jan 2, 4 BC.</li>\n  <li>Otherwise, calendar system specific forms are applied. For both    formatting and parsing, if the number of pattern letters is 4 or<br>\n  more, a calendar specific long form is used. Otherwise, a calendar<br>\n  specific short or abbreviated form is used.</li>\n  </ul>\n</blockquote>\n\n<p>Therefore, it will read all the characters that come after the last <code>/</code> as the year.</p>\n"},{"tags":[],"owner":{"account_id":2693973,"reputation":4489,"user_id":2330860,"accept_rate":42,"display_name":"Vishal Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1442577193,"creation_date":1442577193,"answer_id":32651402,"question_id":18534343,"body_markdown":"Using SimpleDateFormat in java, you can achieve a number of human readable formats. Consider this code snippet:\r\n\r\n            Date curDate = new Date();\r\n    \r\n    \t\tSimpleDateFormat format = new SimpleDateFormat(&quot;yyyy/MM/dd&quot;);\r\n    \r\n    \t\tString DateToStr = format.format(curDate);\r\n    \t\tSystem.out.println(DateToStr);\r\n    \r\n    \t\tformat = new SimpleDateFormat(&quot;dd-M-yyyy hh:mm:ss&quot;);\r\n    \t\tDateToStr = format.format(curDate);\r\n    \t\tSystem.out.println(DateToStr);\r\n    \r\n    \t\tformat = new SimpleDateFormat(&quot;dd MMMM yyyy zzzz&quot;, Locale.ENGLISH);\r\n    \t\tDateToStr = format.format(curDate);\r\n    \t\tSystem.out.println(DateToStr);\r\n    \r\n    \t\tformat = new SimpleDateFormat(&quot;E, dd MMM yyyy HH:mm:ss z&quot;);\r\n    \t\tDateToStr = format.format(curDate);\r\n    \t\tSystem.out.println(DateToStr);\r\n\r\nLook at the various outputs generated by the various formats:\r\n\r\n2014/05/11\r\n\r\n11-5-2014 11:11:51\r\n\r\n11 May 2014 Eastern European Summer Time\r\n\r\nSun, 11 May 2014 23:11:51 EEST\r\n\r\nFeel free to modify the format string and you might get the desired result.","title":"Why SimpleDateFormat(&quot;MM/dd/yyyy&quot;) parses date to 10/20/20128?","body":"<p>Using SimpleDateFormat in java, you can achieve a number of human readable formats. Consider this code snippet:</p>\n\n<pre><code>        Date curDate = new Date();\n\n        SimpleDateFormat format = new SimpleDateFormat(\"yyyy/MM/dd\");\n\n        String DateToStr = format.format(curDate);\n        System.out.println(DateToStr);\n\n        format = new SimpleDateFormat(\"dd-M-yyyy hh:mm:ss\");\n        DateToStr = format.format(curDate);\n        System.out.println(DateToStr);\n\n        format = new SimpleDateFormat(\"dd MMMM yyyy zzzz\", Locale.ENGLISH);\n        DateToStr = format.format(curDate);\n        System.out.println(DateToStr);\n\n        format = new SimpleDateFormat(\"E, dd MMM yyyy HH:mm:ss z\");\n        DateToStr = format.format(curDate);\n        System.out.println(DateToStr);\n</code></pre>\n\n<p>Look at the various outputs generated by the various formats:</p>\n\n<p>2014/05/11</p>\n\n<p>11-5-2014 11:11:51</p>\n\n<p>11 May 2014 Eastern European Summer Time</p>\n\n<p>Sun, 11 May 2014 23:11:51 EEST</p>\n\n<p>Feel free to modify the format string and you might get the desired result.</p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638705744,"creation_date":1638705744,"answer_id":70234078,"question_id":18534343,"body_markdown":"## java.time\r\n\r\nI always recommend that you use java.time, the modern Java date and time API, for your date work. In addition it so happens that java.time will give you the exception you asked for.\r\n\r\n\t\tDateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(&quot;MM/dd/uuuu&quot;)\r\n\t\t\t\t.withResolverStyle(ResolverStyle.LENIENT);\r\n\t\tLocalDate date = LocalDate.parse(&quot;10/20/20128&quot;, dateFormatter);\r\n\r\nResult:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.time.format.DateTimeParseException:\r\n&gt; Text &#39;10/20/20128&#39; could not be parsed at index 6\r\n\r\nThe mentioned *index 6* is where the 5-digit year is in your string.\r\n\r\nThis said, the range check suggested by others could still be a good idea. With java.time this is easy. Say for example that we don’t want to accept any future date:\r\n\r\n\t\tLocalDate date = LocalDate.parse(&quot;10/20/8012&quot;, dateFormatter);\r\n\t\tif (date.isAfter(LocalDate.now(ZoneId.systemDefault()))) {\r\n\t\t\tSystem.err.println(&quot;Date must not be in the future, was &quot; + date);\r\n\t\t}\r\n\r\n&gt; Date must not be in the future, was 8012-10-20\r\n\r\n**Tutorial link:** [Trail: Date Time (The Java™ Tutorials)](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.\r\n\r\n","title":"Why SimpleDateFormat(&quot;MM/dd/yyyy&quot;) parses date to 10/20/20128?","body":"<h2>java.time</h2>\n<p>I always recommend that you use java.time, the modern Java date and time API, for your date work. In addition it so happens that java.time will give you the exception you asked for.</p>\n<pre><code>    DateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(&quot;MM/dd/uuuu&quot;)\n            .withResolverStyle(ResolverStyle.LENIENT);\n    LocalDate date = LocalDate.parse(&quot;10/20/20128&quot;, dateFormatter);\n</code></pre>\n<p>Result:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.time.format.DateTimeParseException:\nText '10/20/20128' could not be parsed at index 6</p>\n</blockquote>\n<p>The mentioned <em>index 6</em> is where the 5-digit year is in your string.</p>\n<p>This said, the range check suggested by others could still be a good idea. With java.time this is easy. Say for example that we don’t want to accept any future date:</p>\n<pre><code>    LocalDate date = LocalDate.parse(&quot;10/20/8012&quot;, dateFormatter);\n    if (date.isAfter(LocalDate.now(ZoneId.systemDefault()))) {\n        System.err.println(&quot;Date must not be in the future, was &quot; + date);\n    }\n</code></pre>\n<blockquote>\n<p>Date must not be in the future, was 8012-10-20</p>\n</blockquote>\n<p><strong>Tutorial link:</strong> <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Trail: Date Time (The Java™ Tutorials)</a> explaining how to use java.time.</p>\n"}],"owner":{"account_id":155491,"reputation":343,"user_id":2266509,"accept_rate":46,"display_name":"goe"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55354,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":18534451,"answer_count":5,"score":23,"last_activity_date":1638705744,"creation_date":1377870020,"question_id":18534343,"body_markdown":"I have this code:\r\n\r\n      DateFormat dateFormat = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\r\n      dateFormat.setLenient(false);\r\n      Date date = dateFormat.parse(&quot;10/20/20128&quot;);\r\n\r\nand I would expect the dateFormat.parse call to throw ParseException since the year I&#39;m providing is 5 characters long instead of 4 like in the format I defined. But for some reason even with the lenient set to false this call returns a Date object of 10/20/20128.\r\n\r\nWhy is that? It doesn&#39;t make much sense to me. Is there another setting to make it even more strict?","title":"Why SimpleDateFormat(&quot;MM/dd/yyyy&quot;) parses date to 10/20/20128?","body":"<p>I have this code:</p>\n\n<pre><code>  DateFormat dateFormat = new SimpleDateFormat(\"MM/dd/yyyy\");\n  dateFormat.setLenient(false);\n  Date date = dateFormat.parse(\"10/20/20128\");\n</code></pre>\n\n<p>and I would expect the dateFormat.parse call to throw ParseException since the year I'm providing is 5 characters long instead of 4 like in the format I defined. But for some reason even with the lenient set to false this call returns a Date object of 10/20/20128.</p>\n\n<p>Why is that? It doesn't make much sense to me. Is there another setting to make it even more strict?</p>\n"},{"tags":["java","security","ssl","java-8"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1638730455,"post_id":70234034,"comment_id":124160207,"body_markdown":"Look here for available switches https://java.com/en/configure_crypto.html .","body":"Look here for available switches <a href=\"https://java.com/en/configure_crypto.html\" rel=\"nofollow noreferrer\">java.com/en/configure_crypto.html</a> ."},{"owner":{"account_id":16790408,"reputation":11,"user_id":12138199,"display_name":"Sudheer"},"score":0,"creation_date":1638769085,"post_id":70234034,"comment_id":124167398,"body_markdown":"Thanks, Peter.\nI already tried with &quot;‑Djdk.tls.client.protocols&quot; but no luck.\njava ‑Djdk.tls.client.protocols=&quot;TLSv1,TLSv1.1,TLSv1.2&quot; Tlstest2","body":"Thanks, Peter. I already tried with &quot;‑Djdk.tls.client.protocols&quot; but no luck. java ‑Djdk.tls.client.protocols=&quot;TLSv1,TLSv1.1,TLSv1.2&quot; Tlstest2"},{"owner":{"account_id":16790408,"reputation":11,"user_id":12138199,"display_name":"Sudheer"},"score":0,"creation_date":1638771020,"post_id":70234034,"comment_id":124167769,"body_markdown":"SSLSocket/SSLEngine.setEnabledProtocols() works.\nsslSocket.setEnabledProtocols(new String[] {&quot;TLSv1&quot;, &quot;TLSv1.1&quot;, &quot;TLSv1.2&quot;});\n\n But the product what I am working on is a legacy one and it&#39;s supporting &quot;SSLv2Hello&quot;, &quot;SSLv3&quot;, &quot;TLSv1&quot;, &quot;TLSv1.1&quot;,&quot;TLSv1.2&quot;. So, looking for alternative options.","body":"SSLSocket/SSLEngine.setEnabledProtocols() works. sslSocket.setEnabledProtocols(new String[] {&quot;TLSv1&quot;, &quot;TLSv1.1&quot;, &quot;TLSv1.2&quot;});   But the product what I am working on is a legacy one and it&#39;s supporting &quot;SSLv2Hello&quot;, &quot;SSLv3&quot;, &quot;TLSv1&quot;, &quot;TLSv1.1&quot;,&quot;TLSv1.2&quot;. So, looking for alternative options."}],"owner":{"account_id":16790408,"reputation":11,"user_id":12138199,"display_name":"Sudheer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":817,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638705391,"creation_date":1638705391,"question_id":70234034,"body_markdown":"SSLv2Hello cannot be disabled in JDK1.8u181. In the *JDK&gt;/jre/lib/secrity/java.security file, set the &quot;jdk.tls.disabledAlgorithms&quot; as below, but it still doesn&#39;t work.&#160;I have tried a lower version like JDK1.8u40 and it works as expected(I can disable SSLV2Hello format). I was wondering if there is anything I need to do to get it to work (disable SSLv2Hello).\r\n\r\njdk.tls.disabledAlgorithms=SSLv3, SSLv2Hello, RC4, MD5withRSA, DH keySize &lt; 1024, \\\r\n&#160; &#160; EC keySize &lt; 224, DES40_CBC, RC4_40\r\n\r\nSample client:\r\n\r\n    import javax.net.ssl.SSLParameters;\r\n    import javax.net.ssl.SSLSocket;\r\n    import javax.net.ssl.SSLSocketFactory;\r\n    import java.io.*;\r\n    \r\n    \r\n    public class TLStest2 {\r\n    \t\r\n    &#160; &#160; public static void main(String[] args) throws Exception {\r\n    \r\n    &#160; &#160; &#160; &#160; SSLSocket socket = null;\r\n    &#160; &#160; &#160; &#160; PrintWriter out = null;\r\n    &#160; &#160; &#160; &#160; BufferedReader in = null;\r\n    \r\n    &#160; &#160; &#160; &#160; try {\r\n    &#160; &#160; &#160; &#160; \t\r\n    &#160; &#160; &#160; &#160; \tSSLSocketFactory factory =\r\n    &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; (SSLSocketFactory) SSLSocketFactory.getDefault();\r\n    &#160; &#160; &#160; &#160; &#160; socket = &#160;(SSLSocket) factory.createSocket(&quot;google.com&quot;, 443);\r\n    \r\n    &#160; &#160; &#160; &#160; &#160; socket.setEnabledProtocols(socket.getSupportedProtocols());\r\n    &#160; &#160; &#160; &#160; &#160;\r\n    &#160; &#160; &#160; &#160; &#160; String[] protocols2 = socket.getSupportedProtocols();\r\n    &#160; &#160; &#160; &#160; &#160; int loop = 1;\r\n    &#160; &#160; &#160; &#160; &#160; while (loop &gt; 0) {\r\n    &#160; &#160; &#160; &#160; &#160; &#160; &#160; System.out.println(&quot;Supported Protocols: &quot; + protocols2.length);\r\n    &#160; &#160; &#160; &#160; &#160; &#160; &#160; for(int i = 0; i &lt; protocols2.length; i++) {\r\n    &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; System.out.println(&quot; &quot; + protocols2[i]);\r\n    &#160; &#160; &#160; &#160; &#160; &#160; &#160; }\r\n    &#160; &#160; &#160; &#160; &#160; &#160; &#160; loop = loop - 1;\r\n    &#160; &#160; &#160; &#160; &#160; &#160; &#160; Thread.sleep(10);\r\n    &#160; &#160; &#160; &#160; &#160; }\r\n    &#160; &#160; &#160; &#160; &#160; //socket.setEnabledProtocols (protocols);\r\n    &#160; &#160; &#160; &#160; &#160; &#160; socket.setEnabledCipherSuites(socket.getSupportedCipherSuites());\r\n    &#160; &#160; &#160; &#160; &#160; &#160; \r\n    &#160; &#160; &#160; &#160; &#160; &#160; socket.startHandshake();\r\n    \r\n    &#160; &#160; &#160; &#160; &#160; &#160; out = new PrintWriter(\r\n    &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; new BufferedWriter(\r\n    &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; new OutputStreamWriter(\r\n    &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; socket.getOutputStream())));\r\n    \r\n    &#160; &#160; &#160; &#160; &#160; &#160; out.println(&quot;GET / HTTP/1.0&quot;);\r\n    &#160; &#160; &#160; &#160; &#160; &#160; out.println();\r\n    &#160; &#160; &#160; &#160; &#160; &#160; out.flush();\r\n    \r\n    &#160; &#160; &#160; &#160; &#160; &#160; if (out.checkError())\r\n    &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; System.out.println(&quot;SSLSocketClient: &#160;java.io.PrintWriter error&quot;);\r\n    \r\n    &#160; &#160; &#160; &#160; &#160; &#160; /* read response */\r\n    &#160; &#160; &#160; &#160; &#160; &#160; in = new BufferedReader(\r\n    &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; new InputStreamReader(\r\n    &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; socket.getInputStream()));\r\n    \r\n    &#160; &#160; &#160; &#160; &#160; &#160; String inputLine;\r\n    &#160; &#160; &#160; &#160; &#160; &#160; while ((inputLine = in.readLine()) != null)\r\n    &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; System.out.println(inputLine);\r\n    \r\n    &#160; &#160; &#160; &#160; } catch (Exception e) {\r\n    &#160; &#160; &#160; &#160; &#160; &#160; e.printStackTrace();\r\n    &#160; &#160; &#160; &#160; } finally {\r\n    &#160; &#160; &#160; &#160; &#160; &#160; if (socket != null)\r\n    &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; socket.close();\r\n    &#160; &#160; &#160; &#160; &#160; &#160; if (out != null)\r\n    &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; out.close();\r\n    &#160; &#160; &#160; &#160; &#160; &#160; if (in != null)\r\n    &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; in.close();\r\n    &#160; &#160; &#160; &#160; }\r\n    &#160; &#160; }\r\n    \r\n    }\r\n\r\n \r\n\r\noutput:\r\nD:\\JAVA_WORKSPACE2\\TLStest2\\src&gt;java TLStest2\r\nSupported Protocols: 5\r\n&#160;SSLv2Hello\r\n&#160;SSLv3\r\n&#160;TLSv1\r\n&#160;TLSv1.1\r\n&#160;TLSv1.2\r\nHTTP/1.0 200 OK\r\n....\r\n\r\nAccording to the network analyzer, the client is still using the old SSL hello format (sslv2hello) for handshaking.\r\n[enter image description here][1]\r\n\r\nIs there any way to disable SSLv2Hello in JDK1.8u181 and later? I appreciate your help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Rhcx2.png","title":"How to Disable SSLv2Hello in JDK1.8u181","body":"<p>SSLv2Hello cannot be disabled in JDK1.8u181. In the *JDK&gt;/jre/lib/secrity/java.security file, set the &quot;jdk.tls.disabledAlgorithms&quot; as below, but it still doesn't work. I have tried a lower version like JDK1.8u40 and it works as expected(I can disable SSLV2Hello format). I was wondering if there is anything I need to do to get it to work (disable SSLv2Hello).</p>\n<p>jdk.tls.disabledAlgorithms=SSLv3, SSLv2Hello, RC4, MD5withRSA, DH keySize &lt; 1024, <br />\n    EC keySize &lt; 224, DES40_CBC, RC4_40</p>\n<p>Sample client:</p>\n<pre><code>import javax.net.ssl.SSLParameters;\nimport javax.net.ssl.SSLSocket;\nimport javax.net.ssl.SSLSocketFactory;\nimport java.io.*;\n\n\npublic class TLStest2 {\n    \n    public static void main(String[] args) throws Exception {\n\n        SSLSocket socket = null;\n        PrintWriter out = null;\n        BufferedReader in = null;\n\n        try {\n            \n            SSLSocketFactory factory =\n                    (SSLSocketFactory) SSLSocketFactory.getDefault();\n          socket =  (SSLSocket) factory.createSocket(&quot;google.com&quot;, 443);\n\n          socket.setEnabledProtocols(socket.getSupportedProtocols());\n         \n          String[] protocols2 = socket.getSupportedProtocols();\n          int loop = 1;\n          while (loop &gt; 0) {\n              System.out.println(&quot;Supported Protocols: &quot; + protocols2.length);\n              for(int i = 0; i &lt; protocols2.length; i++) {\n                  System.out.println(&quot; &quot; + protocols2[i]);\n              }\n              loop = loop - 1;\n              Thread.sleep(10);\n          }\n          //socket.setEnabledProtocols (protocols);\n            socket.setEnabledCipherSuites(socket.getSupportedCipherSuites());\n            \n            socket.startHandshake();\n\n            out = new PrintWriter(\n                    new BufferedWriter(\n                            new OutputStreamWriter(\n                                    socket.getOutputStream())));\n\n            out.println(&quot;GET / HTTP/1.0&quot;);\n            out.println();\n            out.flush();\n\n            if (out.checkError())\n                System.out.println(&quot;SSLSocketClient:  java.io.PrintWriter error&quot;);\n\n            /* read response */\n            in = new BufferedReader(\n                    new InputStreamReader(\n                            socket.getInputStream()));\n\n            String inputLine;\n            while ((inputLine = in.readLine()) != null)\n                System.out.println(inputLine);\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            if (socket != null)\n                socket.close();\n            if (out != null)\n                out.close();\n            if (in != null)\n                in.close();\n        }\n    }\n\n}\n</code></pre>\n<p>output:\nD:\\JAVA_WORKSPACE2\\TLStest2\\src&gt;java TLStest2\nSupported Protocols: 5\n SSLv2Hello\n SSLv3\n TLSv1\n TLSv1.1\n TLSv1.2\nHTTP/1.0 200 OK\n....</p>\n<p>According to the network analyzer, the client is still using the old SSL hello format (sslv2hello) for handshaking.\n<a href=\"https://i.stack.imgur.com/Rhcx2.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Is there any way to disable SSLv2Hello in JDK1.8u181 and later? I appreciate your help.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8202,"page":1790,"page_size":100}
