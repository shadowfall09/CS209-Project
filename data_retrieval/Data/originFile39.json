{"items":[{"tags":["java","spring-boot","ssl","soap"],"owner":{"account_id":17769558,"reputation":23,"user_id":12903528,"display_name":"Simo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700851045,"creation_date":1700774129,"question_id":77539652,"body_markdown":"\r\nI have a Spring Boot application that communicates with a SOAP Web Service over HTTPS, using NTLM authentication. To establish a secure connection, the web service requires certificates for validation. To accommodate this, I&#39;ve added all three necessary certificates into a truststore.\r\n\r\nBelow is how I&#39;ve configured the truststore in my Spring Boot application:\r\n\r\n    System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;truststore.jks&quot;);\r\n    System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;password&quot;);\r\n    System.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, &quot;JKS&quot;);\r\n\r\nI&#39;m encountering an SSLHandshakeException issue when deploying my Spring Boot application to a Tomcat server. The application works fine in the local development environment, but when deployed to Tomcat, it throws the following exception:\r\n\r\n    org.springframework.ws.client.WebServiceIOException: I/O error: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target; nested exception is javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n            at org.springframework.ws.client.core.WebServiceTemplate.sendAndReceive(WebServiceTemplate.java:561) ~[spring-ws-core-2.2.3.RELEASE.jar:2.2.3.RELEASE]\r\n            at org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:390) ~[spring-ws-core-2.2.3.RELEASE.jar:2.2.3.RELEASE]\r\n            at com.example.ePisarnicaWebService.SOAP.SoapClient.createCaseAndAct(SoapClient.java:96) ~[classes/:0.0.1-SNAPSHOT]\r\n            at com.example.ePisarnicaWebService.SOAP.SoapController.createCaseAndAct(SoapController.java:50) ~[classes/:0.0.1-SNAPSHOT]\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n            at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.30.jar:5.3.30]\r\n            at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.30.jar:5.3.30]\r\n            at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.30.jar:5.3.30]\r\n            at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.30.jar:5.3.30]\r\n            at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.30.jar:5.3.30]\r\n            at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.30.jar:5.3.30]\r\n            at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.30.jar:5.3.30]\r\n            at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.30.jar:5.3.30]\r\n            at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.30.jar:5.3.30]\r\n            at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.30.jar:5.3.30]\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[servlet-api.jar:na]\r\n            at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.30.jar:5.3.30]\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[servlet-api.jar:na]\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[catalina.jar:8.5.79]\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:8.5.79]\r\n            at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-websocket.jar:8.5.79]\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:8.5.79]\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:8.5.79]\r\n            at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.30.jar:5.3.30]\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.30.jar:5.3.30]\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:8.5.79]\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:8.5.79]\r\n            at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.30.jar:5.3.30]\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.30.jar:5.3.30]\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:8.5.79]\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:8.5.79]\r\n            at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:126) ~[spring-boot-2.7.17.jar:2.7.17]\r\n            at org.springframework.boot.web.servlet.support.ErrorPageFilter.access$000(ErrorPageFilter.java:64) ~[spring-boot-2.7.17.jar:2.7.17]\r\n            at org.springframework.boot.web.servlet.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:101) ~[spring-boot-2.7.17.jar:2.7.17]\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.30.jar:5.3.30]\r\n            at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:119) ~[spring-boot-2.7.17.jar:2.7.17]\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:8.5.79]\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:8.5.79]\r\n            at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.30.jar:5.3.30]\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.30.jar:5.3.30]\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:8.5.79]\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:8.5.79]\r\n            at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[catalina.jar:8.5.79]\r\n            at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[catalina.jar:8.5.79]\r\n            at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:543) ~[catalina.jar:8.5.79]\r\n            at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[catalina.jar:8.5.79]\r\n            at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[catalina.jar:8.5.79]\r\n            at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:698) ~[catalina.jar:8.5.79]\r\n            at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[catalina.jar:8.5.79]\r\n            at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:367) ~[catalina.jar:8.5.79]\r\n            at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:639) ~[tomcat-coyote.jar:8.5.79]\r\n            at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-coyote.jar:8.5.79]\r\n            at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:882) ~[tomcat-coyote.jar:8.5.79]\r\n            at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1647) ~[tomcat-coyote.jar:8.5.79]\r\n            at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-coyote.jar:8.5.79]\r\n            at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-util.jar:8.5.79]\r\n            at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-util.jar:8.5.79]\r\n            at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-util.jar:8.5.79]\r\n            at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n    Caused by: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n            at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131) ~[na:na]\r\n            at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:376) ~[na:na]\r\n            at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:319) ~[na:na]\r\n            at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:314) ~[na:na]\r\n            at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:654) ~[na:na]\r\n            at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:473) ~[na:na]\r\n            at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:369) ~[na:na]\r\n            at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392) ~[na:na]\r\n            at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:478) ~[na:na]\r\n            at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:456) ~[na:na]\r\n            at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:199) ~[na:na]\r\n            at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172) ~[na:na]\r\n            at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1383) ~[na:na]\r\n            at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1296) ~[na:na]\r\n            at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:416) ~[na:na]\r\n            at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:388) ~[na:na]\r\n            at org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:553) ~[httpclient-4.5.2.jar:4.5.2]\r\n            at org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:412) ~[httpclient-4.5.2.jar:4.5.2]\r\n            at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:179) ~[httpclient-4.5.2.jar:4.5.2]\r\n            at org.apache.http.impl.conn.ManagedClientConnectionImpl.open(ManagedClientConnectionImpl.java:328) ~[httpclient-4.5.2.jar:4.5.2]\r\n            at org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:612) ~[httpclient-4.5.2.jar:4.5.2]\r\n            at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:447) ~[httpclient-4.5.2.jar:4.5.2]\r\n            at org.apache.http.impl.client.AbstractHttpClient.doExecute(AbstractHttpClient.java:884) ~[httpclient-4.5.2.jar:4.5.2]\r\n            at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82) ~[httpclient-4.5.2.jar:4.5.2]\r\n            at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:107) ~[httpclient-4.5.2.jar:4.5.2]\r\n            at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:55) ~[httpclient-4.5.2.jar:4.5.2]\r\n            at org.springframework.ws.transport.http.HttpComponentsConnection.onSendAfterWrite(HttpComponentsConnection.java:121) ~[spring-ws-core-2.2.3.RELEASE.jar:2.2.3.RELEASE]\r\n            at org.springframework.ws.transport.AbstractWebServiceConnection.send(AbstractWebServiceConnection.java:48) ~[spring-ws-core-2.2.3.RELEASE.jar:2.2.3.RELEASE]\r\n            at org.springframework.ws.client.core.WebServiceTemplate.sendRequest(WebServiceTemplate.java:658) ~[spring-ws-core-2.2.3.RELEASE.jar:2.2.3.RELEASE]\r\n            at org.springframework.ws.client.core.WebServiceTemplate.doSendAndReceive(WebServiceTemplate.java:606) ~[spring-ws-core-2.2.3.RELEASE.jar:2.2.3.RELEASE]\r\n            at org.springframework.ws.client.core.WebServiceTemplate.sendAndReceive(WebServiceTemplate.java:555) ~[spring-ws-core-2.2.3.RELEASE.jar:2.2.3.RELEASE]\r\n            ... 61 common frames omitted\r\n    Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n            at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:439) ~[na:na]\r\n            at java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:306) ~[na:na]\r\n            at java.base/sun.security.validator.Validator.validate(Validator.java:264) ~[na:na]\r\n            at java.base/sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:313) ~[na:na]\r\n            at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:222) ~[na:na]\r\n            at java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:129) ~[na:na]\r\n            at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:638) ~[na:na]\r\n            ... 87 common frames omitted\r\n    Caused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n            at java.base/sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:146) ~[na:na]\r\n            at java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:127) ~[na:na]\r\n            at java.base/java.security.cert.CertPathBuilder.build(CertPathBuilder.java:297) ~[na:na]\r\n            at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:434) ~[na:na]\r\n            ... 93 common frames omitted\r\n\r\nCould someone please guide me on how to resolve this SSLHandshakeException specifically when deploying a Spring Boot application on a Tomcat server? Is there something I might be missing in the configuration or any additional steps to troubleshoot this issue?\r\n\r\nAny help or insights would be greatly appreciated. Thank you!","title":"PKIX path building failed / javax.net.ssl.SSLHandshakeException error in Spring Boot App Deployed on Tomcat","body":"<p>I have a Spring Boot application that communicates with a SOAP Web Service over HTTPS, using NTLM authentication. To establish a secure connection, the web service requires certificates for validation. To accommodate this, I've added all three necessary certificates into a truststore.</p>\n<p>Below is how I've configured the truststore in my Spring Boot application:</p>\n<pre><code>System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;truststore.jks&quot;);\nSystem.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;password&quot;);\nSystem.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, &quot;JKS&quot;);\n</code></pre>\n<p>I'm encountering an SSLHandshakeException issue when deploying my Spring Boot application to a Tomcat server. The application works fine in the local development environment, but when deployed to Tomcat, it throws the following exception:</p>\n<pre><code>org.springframework.ws.client.WebServiceIOException: I/O error: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target; nested exception is javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n        at org.springframework.ws.client.core.WebServiceTemplate.sendAndReceive(WebServiceTemplate.java:561) ~[spring-ws-core-2.2.3.RELEASE.jar:2.2.3.RELEASE]\n        at org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:390) ~[spring-ws-core-2.2.3.RELEASE.jar:2.2.3.RELEASE]\n        at com.example.ePisarnicaWebService.SOAP.SoapClient.createCaseAndAct(SoapClient.java:96) ~[classes/:0.0.1-SNAPSHOT]\n        at com.example.ePisarnicaWebService.SOAP.SoapController.createCaseAndAct(SoapController.java:50) ~[classes/:0.0.1-SNAPSHOT]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.30.jar:5.3.30]\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.30.jar:5.3.30]\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.30.jar:5.3.30]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.30.jar:5.3.30]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.30.jar:5.3.30]\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.30.jar:5.3.30]\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.30.jar:5.3.30]\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.30.jar:5.3.30]\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.30.jar:5.3.30]\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.30.jar:5.3.30]\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[servlet-api.jar:na]\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.30.jar:5.3.30]\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[servlet-api.jar:na]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[catalina.jar:8.5.79]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:8.5.79]\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-websocket.jar:8.5.79]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:8.5.79]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:8.5.79]\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.30.jar:5.3.30]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.30.jar:5.3.30]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:8.5.79]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:8.5.79]\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.30.jar:5.3.30]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.30.jar:5.3.30]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:8.5.79]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:8.5.79]\n        at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:126) ~[spring-boot-2.7.17.jar:2.7.17]\n        at org.springframework.boot.web.servlet.support.ErrorPageFilter.access$000(ErrorPageFilter.java:64) ~[spring-boot-2.7.17.jar:2.7.17]\n        at org.springframework.boot.web.servlet.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:101) ~[spring-boot-2.7.17.jar:2.7.17]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.30.jar:5.3.30]\n        at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:119) ~[spring-boot-2.7.17.jar:2.7.17]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:8.5.79]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:8.5.79]\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.30.jar:5.3.30]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.30.jar:5.3.30]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:8.5.79]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:8.5.79]\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[catalina.jar:8.5.79]\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[catalina.jar:8.5.79]\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:543) ~[catalina.jar:8.5.79]\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[catalina.jar:8.5.79]\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[catalina.jar:8.5.79]\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:698) ~[catalina.jar:8.5.79]\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[catalina.jar:8.5.79]\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:367) ~[catalina.jar:8.5.79]\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:639) ~[tomcat-coyote.jar:8.5.79]\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-coyote.jar:8.5.79]\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:882) ~[tomcat-coyote.jar:8.5.79]\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1647) ~[tomcat-coyote.jar:8.5.79]\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-coyote.jar:8.5.79]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-util.jar:8.5.79]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-util.jar:8.5.79]\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-util.jar:8.5.79]\n        at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\nCaused by: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n        at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131) ~[na:na]\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:376) ~[na:na]\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:319) ~[na:na]\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:314) ~[na:na]\n        at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:654) ~[na:na]\n        at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:473) ~[na:na]\n        at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:369) ~[na:na]\n        at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392) ~[na:na]\n        at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:478) ~[na:na]\n        at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:456) ~[na:na]\n        at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:199) ~[na:na]\n        at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172) ~[na:na]\n        at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1383) ~[na:na]\n        at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1296) ~[na:na]\n        at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:416) ~[na:na]\n        at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:388) ~[na:na]\n        at org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:553) ~[httpclient-4.5.2.jar:4.5.2]\n        at org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:412) ~[httpclient-4.5.2.jar:4.5.2]\n        at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:179) ~[httpclient-4.5.2.jar:4.5.2]\n        at org.apache.http.impl.conn.ManagedClientConnectionImpl.open(ManagedClientConnectionImpl.java:328) ~[httpclient-4.5.2.jar:4.5.2]\n        at org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:612) ~[httpclient-4.5.2.jar:4.5.2]\n        at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:447) ~[httpclient-4.5.2.jar:4.5.2]\n        at org.apache.http.impl.client.AbstractHttpClient.doExecute(AbstractHttpClient.java:884) ~[httpclient-4.5.2.jar:4.5.2]\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82) ~[httpclient-4.5.2.jar:4.5.2]\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:107) ~[httpclient-4.5.2.jar:4.5.2]\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:55) ~[httpclient-4.5.2.jar:4.5.2]\n        at org.springframework.ws.transport.http.HttpComponentsConnection.onSendAfterWrite(HttpComponentsConnection.java:121) ~[spring-ws-core-2.2.3.RELEASE.jar:2.2.3.RELEASE]\n        at org.springframework.ws.transport.AbstractWebServiceConnection.send(AbstractWebServiceConnection.java:48) ~[spring-ws-core-2.2.3.RELEASE.jar:2.2.3.RELEASE]\n        at org.springframework.ws.client.core.WebServiceTemplate.sendRequest(WebServiceTemplate.java:658) ~[spring-ws-core-2.2.3.RELEASE.jar:2.2.3.RELEASE]\n        at org.springframework.ws.client.core.WebServiceTemplate.doSendAndReceive(WebServiceTemplate.java:606) ~[spring-ws-core-2.2.3.RELEASE.jar:2.2.3.RELEASE]\n        at org.springframework.ws.client.core.WebServiceTemplate.sendAndReceive(WebServiceTemplate.java:555) ~[spring-ws-core-2.2.3.RELEASE.jar:2.2.3.RELEASE]\n        ... 61 common frames omitted\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n        at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:439) ~[na:na]\n        at java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:306) ~[na:na]\n        at java.base/sun.security.validator.Validator.validate(Validator.java:264) ~[na:na]\n        at java.base/sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:313) ~[na:na]\n        at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:222) ~[na:na]\n        at java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:129) ~[na:na]\n        at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:638) ~[na:na]\n        ... 87 common frames omitted\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n        at java.base/sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:146) ~[na:na]\n        at java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:127) ~[na:na]\n        at java.base/java.security.cert.CertPathBuilder.build(CertPathBuilder.java:297) ~[na:na]\n        at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:434) ~[na:na]\n        ... 93 common frames omitted\n</code></pre>\n<p>Could someone please guide me on how to resolve this SSLHandshakeException specifically when deploying a Spring Boot application on a Tomcat server? Is there something I might be missing in the configuration or any additional steps to troubleshoot this issue?</p>\n<p>Any help or insights would be greatly appreciated. Thank you!</p>\n"},{"tags":["java","mariadb","apache-nifi"],"comments":[{"owner":{"account_id":1838718,"reputation":11848,"user_id":1668575,"display_name":"mattyb"},"score":0,"creation_date":1700808048,"post_id":77541050,"comment_id":136700735,"body_markdown":"How does your Fetch Size setting affect how often you see the error? Maybe start with 2000 and see if you can increase all the way to 20000 and still get performance benefits without the error (or at least it happening as often). Another recommendation (this should probably be required) is to set the Validation Query property so a connection is not reused if it shouldn&#39;t be","body":"How does your Fetch Size setting affect how often you see the error? Maybe start with 2000 and see if you can increase all the way to 20000 and still get performance benefits without the error (or at least it happening as often). Another recommendation (this should probably be required) is to set the Validation Query property so a connection is not reused if it shouldn&#39;t be"}],"owner":{"account_id":4254028,"reputation":145,"user_id":3480164,"accept_rate":71,"display_name":"Renold Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700848824,"creation_date":1700806376,"question_id":77541050,"body_markdown":"I&#39;m encountering occasional Exception when using PUTSQL processor in apache Nifi.\r\n\r\nI have already Increased `innodb_lock_wait_timeout` But I&#39;m still encountering the error occasionally. How can I fix this error? And what are the optimal configurations when using putsql processor to insert large volume of records into mariadb?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n```\r\nVariable_name;Value\r\ninnodb_lock_wait_timeout;300\r\n\r\nError Snippet:\r\n2023-11-24 18:04:45,837 ERROR [Timer-Driven Process Thread-51] o.apache.nifi.processors.standard.PutSQL PutSQL[id=c7255d17-018b-1000-143e-fc839881330c] Failed to update database due to a failed batch update, java.sql.BatchUpdateException: Lock wait timeout exceeded; try restarting transaction. There were a total of 1 FlowFiles that failed, 14 that succeeded, and 0 that were not execute and will be routed to retry;\r\n        java.sql.BatchUpdateException: Lock wait timeout exceeded; try restarting transaction\r\n    \r\n    at com.mysql.cj.jdbc.exceptions.SQLError.createBatchUpdateException(SQLError.java:224)\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/Cy7ja.png\r\n  [2]: https://i.stack.imgur.com/6Xw7N.png","title":"Apache NIFI: Occasional Exception with PUTSQL Processor java.sql.BatchUpdateException: Lock wait timeout exceeded","body":"<p>I'm encountering occasional Exception when using PUTSQL processor in apache Nifi.</p>\n<p>I have already Increased <code>innodb_lock_wait_timeout</code> But I'm still encountering the error occasionally. How can I fix this error? And what are the optimal configurations when using putsql processor to insert large volume of records into mariadb?</p>\n<p><a href=\"https://i.stack.imgur.com/Cy7ja.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Cy7ja.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/6Xw7N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6Xw7N.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>Variable_name;Value\ninnodb_lock_wait_timeout;300\n\nError Snippet:\n2023-11-24 18:04:45,837 ERROR [Timer-Driven Process Thread-51] o.apache.nifi.processors.standard.PutSQL PutSQL[id=c7255d17-018b-1000-143e-fc839881330c] Failed to update database due to a failed batch update, java.sql.BatchUpdateException: Lock wait timeout exceeded; try restarting transaction. There were a total of 1 FlowFiles that failed, 14 that succeeded, and 0 that were not execute and will be routed to retry;\n        java.sql.BatchUpdateException: Lock wait timeout exceeded; try restarting transaction\n    \n    at com.mysql.cj.jdbc.exceptions.SQLError.createBatchUpdateException(SQLError.java:224)\n</code></pre>\n"},{"tags":["java","xml","xml-signature"],"answers":[{"comments":[{"owner":{"account_id":2976959,"reputation":1037,"user_id":2527825,"accept_rate":53,"display_name":"gfan"},"score":0,"creation_date":1679970167,"post_id":75860246,"comment_id":133812676,"body_markdown":"Thanks for your reply, I update my question, I append the Update of my wondering.","body":"Thanks for your reply, I update my question, I append the Update of my wondering."}],"tags":[],"owner":{"account_id":18289715,"reputation":484,"user_id":13316778,"display_name":"Timothy Legge"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679971427,"creation_date":1679950114,"answer_id":75860246,"question_id":75824002,"body_markdown":"A fair number of questions there.\r\n\r\n1. The cert in the keystore validated that the XML is signed by the expected key.  You can&#39;t implicitly trust the signature in the XML file.  It&#39;s like me providing you a picture ID that consists of a mirror with &quot;me&quot; written at the top.  It might be correct but it&#39;s not real reliable.\r\n\r\n2. Formatting XML must be done before it is signed.  The canonicalization of XML is meant to ensure that the XML being signed is equivalent.  It processes the XML with rules to ensure that equivalent XML would have the same signature but some formatting and tidying after the signature would break it.  While I do like nicely formatted XML it&#39;s meant to be processed by by computers so don&#39;t worry too much about it...\r\n\r\n&gt; Update 1:\r\n&gt;     \r\n&gt; 1. The original xml is well formatted. Currently, only the ds:Signature node is not well formatted.\r\n\r\nNot much to be done with that in general.  Signing the XML requires the library to create an xml fragment containing a digest for the canonical version of your XML.  The fragment is then signed and the result is another XML fragment.  In general they are independent in that as long as you don&#39;t change what makes an equivalent canonical xml but there are enough rules to make it difficult for the library to make it pretty when combined.   You would need to have a combined original XML and Signature in a pretty format and then update the Signature/SignedInfo with the parts that change.  For example insert the new signature value for the SignedInfo into a complete document that you know is well formatted.\r\n\r\n\r\n&gt; 2. When process the sign with the apache library, How do we know the XML file is already formatted? Because the XML file is now represented\r\n&gt; as Java objects.\r\n\r\nMost (many? some?) XML libraries have a function that can format the XML as &quot;pretty&quot; (or well formatted).  However the nature of Signed XML would mean that the signature could be affected by doing that.\r\n\r\n&gt; 3. Usually, the content between &gt; and &lt;, like in this piece of &lt;Item&gt;this is content&lt;/Item&gt;, this is content is the payload, Does the\r\n&gt; signing process only sign the payload? or it will contain the &lt;Item&gt;,\r\n&gt; &lt;\\Item&gt;, even more it will include some blank space before the &lt;Item&gt;\r\n&gt; like   &lt;Item&gt; and some \\n in the end of &lt;\\Item&gt;?\r\n\r\nThe rules vary somewhat by canonicalization method.  See https://www.w3.org/TR/xml-c14n/#Terminology for example.  But I would expect that\r\n\r\n    All whitespace in character content is retained (excluding characters removed during line feed normalization)","title":"Signature validation failed after formatting an XML with SignatureValue on it","body":"<p>A fair number of questions there.</p>\n<ol>\n<li><p>The cert in the keystore validated that the XML is signed by the expected key.  You can't implicitly trust the signature in the XML file.  It's like me providing you a picture ID that consists of a mirror with &quot;me&quot; written at the top.  It might be correct but it's not real reliable.</p>\n</li>\n<li><p>Formatting XML must be done before it is signed.  The canonicalization of XML is meant to ensure that the XML being signed is equivalent.  It processes the XML with rules to ensure that equivalent XML would have the same signature but some formatting and tidying after the signature would break it.  While I do like nicely formatted XML it's meant to be processed by by computers so don't worry too much about it...</p>\n</li>\n</ol>\n<blockquote>\n<p>Update 1:</p>\n<ol>\n<li>The original xml is well formatted. Currently, only the ds:Signature node is not well formatted.</li>\n</ol>\n</blockquote>\n<p>Not much to be done with that in general.  Signing the XML requires the library to create an xml fragment containing a digest for the canonical version of your XML.  The fragment is then signed and the result is another XML fragment.  In general they are independent in that as long as you don't change what makes an equivalent canonical xml but there are enough rules to make it difficult for the library to make it pretty when combined.   You would need to have a combined original XML and Signature in a pretty format and then update the Signature/SignedInfo with the parts that change.  For example insert the new signature value for the SignedInfo into a complete document that you know is well formatted.</p>\n<blockquote>\n<ol start=\"2\">\n<li>When process the sign with the apache library, How do we know the XML file is already formatted? Because the XML file is now represented\nas Java objects.</li>\n</ol>\n</blockquote>\n<p>Most (many? some?) XML libraries have a function that can format the XML as &quot;pretty&quot; (or well formatted).  However the nature of Signed XML would mean that the signature could be affected by doing that.</p>\n<blockquote>\n<ol start=\"3\">\n<li>Usually, the content between &gt; and &lt;, like in this piece of this is content, this is content is the payload, Does the\nsigning process only sign the payload? or it will contain the ,\n&lt;\\Item&gt;, even more it will include some blank space before the \nlike    and some \\n in the end of &lt;\\Item&gt;?</li>\n</ol>\n</blockquote>\n<p>The rules vary somewhat by canonicalization method.  See <a href=\"https://www.w3.org/TR/xml-c14n/#Terminology\" rel=\"nofollow noreferrer\">https://www.w3.org/TR/xml-c14n/#Terminology</a> for example.  But I would expect that</p>\n<pre><code>All whitespace in character content is retained (excluding characters removed during line feed normalization)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28763191,"reputation":31,"user_id":22028647,"display_name":"iambenna"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700848631,"creation_date":1700848631,"answer_id":77544914,"question_id":75824002,"body_markdown":"In case you want to remove the Carriage Return (**\\&amp;#xD;**) at the end of each line inside the `&lt;ds:SignatureValue&gt;` and the `&lt;ds:X509Certificate&gt;` you can try adding (alternatively) these options to the JVM (or Servlet container):\r\n\r\n- `-Dcom.sun.org.apache.xml.internal.security.ignoreLineBreaks=true`\r\n\r\nor\r\n\r\n- `-Dorg.apache.xml.security.ignoreLineBreaks=true`","title":"Signature validation failed after formatting an XML with SignatureValue on it","body":"<p>In case you want to remove the Carriage Return (<strong>&amp;#xD;</strong>) at the end of each line inside the <code>&lt;ds:SignatureValue&gt;</code> and the <code>&lt;ds:X509Certificate&gt;</code> you can try adding (alternatively) these options to the JVM (or Servlet container):</p>\n<ul>\n<li><code>-Dcom.sun.org.apache.xml.internal.security.ignoreLineBreaks=true</code></li>\n</ul>\n<p>or</p>\n<ul>\n<li><code>-Dorg.apache.xml.security.ignoreLineBreaks=true</code></li>\n</ul>\n"}],"owner":{"account_id":2976959,"reputation":1037,"user_id":2527825,"accept_rate":53,"display_name":"gfan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":785,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700848631,"creation_date":1679580025,"question_id":75824002,"body_markdown":"From [apache santuario xmlsignature test][1], \r\nI do a test: add a signature to the XML file, then save it as a file, after that read it from that file, and verify the signature.\r\nPlease refer to the comments in the code.\r\n\r\nThe plain xml file is :\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;PurchaseOrder xmlns=&quot;urn:example:po&quot;&gt;\r\n  &lt;Items&gt;\r\n    &lt;Item Code=&quot;001-001-001&quot; Quantity=&quot;1&quot;&gt;\r\n      spade\r\n    &lt;/Item&gt;\r\n    &lt;Item Code=&quot;001-001-002&quot; Quantity=&quot;1&quot;&gt;\r\n      shovel\r\n    &lt;/Item&gt;\r\n  &lt;/Items&gt;\r\n  &lt;ShippingAddress&gt;\r\n    Dig PLC, 1 First Ave, Dublin 1, Ireland\r\n  &lt;/ShippingAddress&gt;\r\n  &lt;PaymentInfo&gt;\r\n    &lt;BillingAddress&gt;\r\n      Dig PLC, 1 First Ave, Dublin 1, Ireland\r\n    &lt;/BillingAddress&gt;\r\n    &lt;CreditCard Type=&quot;Amex&quot;&gt;\r\n      &lt;Name&gt;Foo B Baz&lt;/Name&gt;\r\n      &lt;Number&gt;1234 567890 12345&lt;/Number&gt;\r\n      &lt;Expires Month=&quot;1&quot; Year=&quot;2005&quot; /&gt;\r\n    &lt;/CreditCard&gt;\r\n  &lt;/PaymentInfo&gt;\r\n&lt;/PurchaseOrder&gt;\r\n```\r\n\r\n\r\nI have some questions:\r\n1. Verify the signature by using the cert in the XML. If it works, the XML file is self-interpreted, why do we still need a cert loaded from the Keystore? \r\n2. I can&#39;t format the generated XML which contains the signature. If I change some piece of the XML file, it will cause the verification to fail. How should I format the XML file? Or just leave it there?\r\n\r\n```xml\r\n      &lt;ds:SignedInfo&gt;&lt;!--If I add a lot of blank spaces at the start of this line, the verifying is ok--&gt;\r\n&lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;&lt;/ds:CanonicalizationMethod&gt;&lt;!--If I add a blank space at the start of this line, the verifying is not working--&gt;\r\n```\r\n\r\nThe main Java Code:\r\n```java\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.InputStream;\r\nimport java.security.Key;\r\nimport java.security.KeyStore;\r\nimport java.security.cert.X509Certificate;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport javax.xml.namespace.QName;\r\nimport org.apache.xml.security.signature.XMLSignature;\r\nimport org.junit.Assert;\r\nimport org.w3c.dom.Document;\r\nimport org.apache.xml.security.utils.XMLUtils;\r\nimport org.w3c.dom.Element;\r\n\r\n/**\r\n * This tests using the DOM API of Apache Santuario - XML Security for Java for XML Signature.\r\n */\r\npublic class SignatureDOMTest extends org.junit.Assert {\r\n\r\n    // Sign + Verify an XML Document using the DOM API\r\n    @org.junit.Test\r\n    public void testSignatureUsingDOMAPI() throws Exception {\r\n\r\n        // Read in plaintext document\r\n        InputStream sourceDocument =\r\n                new FileInputStream(new File(&quot;plaintext.xml&quot;));\r\n        Document document = XMLUtils.read(sourceDocument, true);\r\n\r\n        // Set up the Key\r\n        KeyStore keyStore = KeyStore.getInstance(&quot;jks&quot;);\r\n        keyStore.load(\r\n            this.getClass().getClassLoader().getResource(&quot;clientstore.jks&quot;).openStream(),\r\n            &quot;cspass&quot;.toCharArray()\r\n        );\r\n        Key key = keyStore.getKey(&quot;myclientkey&quot;, &quot;ckpass&quot;.toCharArray());\r\n        X509Certificate cert = (X509Certificate)keyStore.getCertificate(&quot;myclientkey&quot;);\r\n\r\n        // Sign using DOM\r\n        List&lt;QName&gt; namesToSign = new ArrayList&lt;QName&gt;();\r\n        namesToSign.add(new QName(&quot;urn:example:po&quot;, &quot;PaymentInfo&quot;));\r\n\r\n        SignatureUtils.signUsingDOM(\r\n            document, namesToSign, &quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot;, key, cert\r\n        );\r\n        // Verify using DOM, here it use the cert load from Keystore.\r\n        SignatureUtils.verifyUsingDOM(document, namesToSign, cert);\r\n\r\n        // Those code are my test:\r\n        // I write the signed xml to a file, then read from the file.\r\n        XMLUtils.outputDOM(document, new FileOutputStream(new File(&quot;plaintext_signed.xml&quot;)));\r\n        \r\n        // read from the signed file.\r\n        Document signedDocument = XMLUtils.read(new FileInputStream(new File(&quot;plaintext_signed.xml&quot;)), true);\r\n\r\n        // Verify using DOM\r\n        List&lt;QName&gt; namesToSign1 = new ArrayList&lt;QName&gt;();\r\n        namesToSign1.add(new QName(&quot;urn:example:po&quot;, &quot;PaymentInfo&quot;));\r\n\r\n        Element sigElement = SignatureUtils.getSignatureElement(signedDocument);\r\n        Assert.assertNotNull(sigElement);\r\n\r\n        SignatureUtils.findElementsToVerify(signedDocument, namesToSign1);\r\n        \r\n        // try to get cert from the node in the xml.\r\n        XMLSignature signature = new XMLSignature(sigElement, &quot;&quot;);\r\n\r\n        X509Certificate cert_in_xml = signature.getKeyInfo().getX509Certificate();\r\n        \r\n        // verify the signature by using the cert in the xml.\r\n        // If it works, why do we need a cert loaded from the keystore?\r\n        SignatureUtils.verifyUsingDOM(signedDocument, namesToSign1, cert_in_xml);\r\n    }\r\n}\r\n```\r\nInclude functions in `SignatureUtils.java` for integrity:\r\n\r\n```java\r\n    \r\nimport org.apache.xml.security.Init;\r\nimport org.apache.xml.security.keys.KeyInfo;\r\nimport org.apache.xml.security.signature.XMLSignature;\r\nimport org.apache.xml.security.transforms.Transforms;\r\nimport org.junit.Assert;\r\nimport org.w3c.dom.Document;\r\nimport org.w3c.dom.Element;\r\nimport org.w3c.dom.NodeList;\r\nimport javax.xml.namespace.QName;\r\nimport javax.xml.xpath.XPath;\r\nimport javax.xml.xpath.XPathConstants;\r\nimport javax.xml.xpath.XPathExpressionException;\r\nimport javax.xml.xpath.XPathFactory;\r\nimport java.security.Key;\r\nimport java.security.cert.X509Certificate;\r\nimport java.util.List;\r\nimport java.util.UUID;\r\n\r\n/**\r\n * Some utility methods for signing/verifying documents\r\n */\r\npublic final class SignatureUtils {\r\n\r\n    static {\r\n        Init.init();\r\n    }\r\n\r\n    private SignatureUtils() {\r\n        // complete\r\n    }\r\n\r\n    /**\r\n     * Sign the document using the DOM API of Apache Santuario - XML Security for Java.\r\n     * It signs a list of QNames that it finds in the Document via XPath.\r\n     */\r\n    public static void signUsingDOM(\r\n        Document document,\r\n        List&lt;QName&gt; namesToSign,\r\n        String algorithm,\r\n        Key signingKey,\r\n        X509Certificate signingCert\r\n    ) throws Exception {\r\n        XMLSignature sig =\r\n            new XMLSignature(document, &quot;&quot;, algorithm, &quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;);\r\n        Element root = document.getDocumentElement();\r\n        root.appendChild(sig.getElement());\r\n\r\n        XPathFactory xpf = XPathFactory.newInstance();\r\n        XPath xpath = xpf.newXPath();\r\n        xpath.setNamespaceContext(new DSNamespaceContext());\r\n\r\n        for (QName nameToSign : namesToSign) {\r\n            String expression = &quot;//*[local-name()=&#39;&quot; + nameToSign.getLocalPart() + &quot;&#39;]&quot;;\r\n            NodeList elementsToSign =\r\n                    (NodeList) xpath.evaluate(expression, document, XPathConstants.NODESET);\r\n            for (int i = 0; i &lt; elementsToSign.getLength(); i++) {\r\n                Element elementToSign = (Element)elementsToSign.item(i);\r\n                Assert.assertNotNull(elementToSign);\r\n                String id = UUID.randomUUID().toString();\r\n                elementToSign.setAttributeNS(null, &quot;Id&quot;, id);\r\n                elementToSign.setIdAttributeNS(null, &quot;Id&quot;, true);\r\n\r\n                Transforms transforms = new Transforms(document);\r\n                transforms.addTransform(&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;);\r\n                sig.addDocument(&quot;#&quot; + id, transforms, &quot;http://www.w3.org/2000/09/xmldsig#sha1&quot;);\r\n            }\r\n        }\r\n\r\n        sig.sign(signingKey);\r\n\r\n        // Find the Signature Element\r\n        Element sigElement = getSignatureElement(document);\r\n        Assert.assertNotNull(sigElement);\r\n\r\n        if (signingCert != null) {\r\n            sig.addKeyInfo(signingCert);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Verify the document using the DOM API of Apache Santuario - XML Security for Java.\r\n     * It finds a list of QNames via XPath and uses the DOM API to mark them as having an\r\n     * &quot;Id&quot;.\r\n     */\r\n    public static void verifyUsingDOM(\r\n        Document document,\r\n        List&lt;QName&gt; namesToSign,\r\n        X509Certificate cert\r\n    ) throws Exception {\r\n        // Find the Signature Element\r\n        Element sigElement = getSignatureElement(document);\r\n        Assert.assertNotNull(sigElement);\r\n\r\n        findElementsToVerify(document, namesToSign);\r\n\r\n        XMLSignature signature = new XMLSignature(sigElement, &quot;&quot;);\r\n\r\n        // Check we have a KeyInfo\r\n        KeyInfo ki = signature.getKeyInfo();\r\n        Assert.assertNotNull(ki);\r\n\r\n        // Check the Signature value\r\n        Assert.assertTrue(signature.checkSignatureValue(cert));\r\n    }\r\n\r\n\r\n\r\n\r\n    public static void findElementsToVerify(Document document, List&lt;QName&gt; namesToSign) throws XPathExpressionException {\r\n        XPathFactory xpf = XPathFactory.newInstance();\r\n        XPath xpath = xpf.newXPath();\r\n        xpath.setNamespaceContext(new DSNamespaceContext());\r\n\r\n        for (QName nameToSign : namesToSign) {\r\n            String expression = &quot;//*[local-name()=&#39;&quot; + nameToSign.getLocalPart() + &quot;&#39;]&quot;;\r\n            Element signedElement =\r\n                (Element) xpath.evaluate(expression, document, XPathConstants.NODE);\r\n            Assert.assertNotNull(signedElement);\r\n            if (signedElement.hasAttributeNS(null, &quot;Id&quot;)) {\r\n            \tsignedElement.setIdAttributeNS(null, &quot;Id&quot;, true);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static Element getSignatureElement(Document document) throws XPathExpressionException {\r\n        XPathFactory xpf = XPathFactory.newInstance();\r\n        XPath xpath = xpf.newXPath();\r\n        xpath.setNamespaceContext(new DSNamespaceContext());\r\n\r\n        // Find the Signature Element\r\n        String expression = &quot;//dsig:Signature[1]&quot;;\r\n        Element sigElement =\r\n                (Element) xpath.evaluate(expression, document, XPathConstants.NODE);\r\n        return sigElement;\r\n    }\r\n}\r\n```\r\n\r\nThe generated xml file with signatue, It&#39;s not well formatted, I would like to format it, but then it caused the verification to fail.\r\n```xml\r\n&lt;PurchaseOrder xmlns=&quot;urn:example:po&quot;&gt;\r\n  &lt;Items&gt;\r\n    &lt;Item Code=&quot;001-001-001&quot; Quantity=&quot;1&quot;&gt;\r\n      spade\r\n    &lt;/Item&gt;\r\n    &lt;Item Code=&quot;001-001-002&quot; Quantity=&quot;1&quot;&gt;\r\n      shovel\r\n    &lt;/Item&gt;\r\n  &lt;/Items&gt;\r\n  &lt;ShippingAddress&gt;\r\n    Dig PLC, 1 First Ave, Dublin 1, Ireland\r\n  &lt;/ShippingAddress&gt;\r\n  &lt;PaymentInfo Id=&quot;27a5af39-7896-4002-ad65-a4ec9015bf23&quot;&gt;\r\n    &lt;BillingAddress&gt;\r\n      Dig PLC, 1 First Ave, Dublin 1, Ireland\r\n    &lt;/BillingAddress&gt;\r\n    &lt;CreditCard Type=&quot;Amex&quot;&gt;\r\n      &lt;Name&gt;Foo B Baz&lt;/Name&gt;\r\n      &lt;Number&gt;1234 567890 12345&lt;/Number&gt;\r\n      &lt;Expires Month=&quot;1&quot; Year=&quot;2005&quot;&gt;&lt;/Expires&gt;\r\n    &lt;/CreditCard&gt;\r\n  &lt;/PaymentInfo&gt;\r\n &lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\r\n    &lt;ds:SignedInfo&gt;&lt;!--If I add a lot of blank spaces at the start of this line, the verification is ok--&gt;\r\n&lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;&lt;/ds:CanonicalizationMethod&gt;&lt;!--If I add a blank space at the start of this line, the verification is not working--&gt;\r\n&lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot;&gt;&lt;/ds:SignatureMethod&gt;\r\n&lt;ds:Reference URI=&quot;#27a5af39-7896-4002-ad65-a4ec9015bf23&quot;&gt;\r\n&lt;ds:Transforms&gt;\r\n&lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;&lt;/ds:Transform&gt;\r\n&lt;/ds:Transforms&gt;\r\n&lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot;&gt;&lt;/ds:DigestMethod&gt;\r\n&lt;ds:DigestValue&gt;ANOpAn94IZWzHAFvQSXI6rK3Hsg=&lt;/ds:DigestValue&gt;\r\n&lt;/ds:Reference&gt;\r\n&lt;/ds:SignedInfo&gt;\r\n&lt;ds:SignatureValue&gt;\r\nTlbljw+A69WQ4oClxMgv64RLunmxX0k92UJdqGkQUo7L35wpVgET1EjtZf7TF6ekaxuICDEISPmq&amp;#xD;\r\nR7vwrRsmf3/u1v9bANaa0rOtO7nuJgxUs9kVndnMnAPWcIm9Njtl7GUEpt6BLMKwAVkbDjOq5Q0S&amp;#xD;\r\nR3P9d31ppuYdOt7nnbGvgtYDDVIsQRA50rlZqotWI3odfh27HlJMtIys9YJ/0BuQKI4LaNhdymKQ&amp;#xD;\r\nhaRFe6jaAv3v0MVG9Hg53uaJf8vwKL0tYG73ZO2Wh2Tr0j0EPEJY72akyJdNcAHjHiSzZEw1HwRt&amp;#xD;\r\nY9Ns2cnbMLpVEYQzW8oO/TO8uf9UYXfUttFyLQ==\r\n&lt;/ds:SignatureValue&gt;\r\n&lt;ds:KeyInfo xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\r\n&lt;ds:X509Data&gt;\r\n&lt;ds:X509Certificate&gt;\r\nMIIDqjCCAxOgAwIBAgIBHzANBgkqhkiG9w0BAQsFADBmMQswCQYDVQQGEwJERTEPMA0GA1UECBMG&amp;#xD;\r\nQmF5ZXJuMQ8wDQYDVQQHEwZNdW5pY2gxDTALBgNVBAoTBEhvbWUxFTATBgNVBAsTDEFwYWNoZSBX&amp;#xD;\r\nU1M0SjEPMA0GA1UEAxMGV2VybmVyMB4XDTE1MDkxMDEzMjEyMloXDTI1MDkwNzEzMjEyMlowUzEL&amp;#xD;\r\nMAkGA1UEBhMCSUUxETAPBgNVBAgTCExlaW5zdGVyMQ8wDQYDVQQHEwZEdWJsaW4xDzANBgNVBAoT&amp;#xD;\r\nBkFwYWNoZTEPMA0GA1UEAxMGQ2xpZW50MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA&amp;#xD;\r\njeP2hF/KOv8Pw/++n9bAa0DxKFzyLvlcAciBgv1E01cCyUwn5X0v8nT9gIdjXBi6Y6PvSCs2GqcA&amp;#xD;\r\nzo82yzIjlcDmocXt/2vBkezwh6Ow2xoXItzXD+I6KlhpH8gl4xXd35N0z+88m4SEclncm//l3sQH&amp;#xD;\r\nP6CMG9O4H91A+0DXzTkQHzs2PEg13ONMOVbg5P85ceZ+VTBjd3BkqC0mZDB6Ovo6Xt06tVS/S4rF&amp;#xD;\r\nR0L9mtyxZ+v/Psd8TYAIk3wlz1e1wm+dobp1YkOPgvv08r8ROVnWC0pRZquCPQUou6r50LseRZWE&amp;#xD;\r\no9MGN8kt4sYcLCaJbF3fsTvKYi6InWyczv2JSQIDAQABo4H2MIHzMAkGA1UdEwQCMAAwLAYJYIZI&amp;#xD;\r\nAYb4QgENBB8WHU9wZW5TU0wgR2VuZXJhdGVkIENlcnRpZmljYXRlMB0GA1UdDgQWBBQsRXQjSEq1&amp;#xD;\r\nPetSTIekkXnMBtntGTCBmAYDVR0jBIGQMIGNgBRWF+/2a4tZ/iMZaN54wOFNZ33QZqFqpGgwZjEL&amp;#xD;\r\nMAkGA1UEBhMCREUxDzANBgNVBAgTBkJheWVybjEPMA0GA1UEBxMGTXVuaWNoMQ0wCwYDVQQKEwRI&amp;#xD;\r\nb21lMRUwEwYDVQQLEwxBcGFjaGUgV1NTNEoxDzANBgNVBAMTBldlcm5lcoIJAI3hLAppEXfSMA0G&amp;#xD;\r\nCSqGSIb3DQEBCwUAA4GBAKZXwqAplMzutyC8jIUzFN/DfQOAuZ8ExLBIUxW51KSzxxL+kfydq4HF&amp;#xD;\r\notRC7PZ3bYEkXYN7deUYoq6yFO0AAWvagBbxdzRYDPRCwpKe+4jn8VLGtjkEyLSsMiiaNiOuMx8q&amp;#xD;\r\nWxvV1sA9KioHvZDFVP+0QqSc1ZytEPOKasdViUU9\r\n&lt;/ds:X509Certificate&gt;\r\n&lt;/ds:X509Data&gt;\r\n&lt;/ds:KeyInfo&gt;\r\n&lt;/ds:Signature&gt;&lt;/PurchaseOrder&gt;\r\n\r\n```\r\n\r\nUpdate 1:\r\n1) The original xml is well formatted. Currently, only the `ds:Signature` node is not well formatted.\r\n2) When process the sign with the apache library, How do we know the XML file is already formatted? Because the XML file is now represented as Java objects.\r\n1) Usually, the content between `&gt;` and `&lt;`, like in this piece of `&lt;Item&gt;this is content&lt;/Item&gt;`, `this is content` is the payload, Does the signing process only sign the payload? or it will contain the `&lt;Item&gt;`, `&lt;\\Item&gt;`, even more it will include some blank space before the `&lt;Item&gt;` like `  &lt;Item&gt;` and some `\\n` in the end of `&lt;\\Item&gt;`?\r\n\r\n\r\n\r\n  [1]: https://github.com/coheigea/testcases/blob/master/apache/santuario/santuario-xml-signature/src/test/java/org/apache/coheigea/santuario/xmlsignature/SignatureDOMTest.java#L41","title":"Signature validation failed after formatting an XML with SignatureValue on it","body":"<p>From <a href=\"https://github.com/coheigea/testcases/blob/master/apache/santuario/santuario-xml-signature/src/test/java/org/apache/coheigea/santuario/xmlsignature/SignatureDOMTest.java#L41\" rel=\"nofollow noreferrer\">apache santuario xmlsignature test</a>,\nI do a test: add a signature to the XML file, then save it as a file, after that read it from that file, and verify the signature.\nPlease refer to the comments in the code.</p>\n<p>The plain xml file is :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;PurchaseOrder xmlns=&quot;urn:example:po&quot;&gt;\n  &lt;Items&gt;\n    &lt;Item Code=&quot;001-001-001&quot; Quantity=&quot;1&quot;&gt;\n      spade\n    &lt;/Item&gt;\n    &lt;Item Code=&quot;001-001-002&quot; Quantity=&quot;1&quot;&gt;\n      shovel\n    &lt;/Item&gt;\n  &lt;/Items&gt;\n  &lt;ShippingAddress&gt;\n    Dig PLC, 1 First Ave, Dublin 1, Ireland\n  &lt;/ShippingAddress&gt;\n  &lt;PaymentInfo&gt;\n    &lt;BillingAddress&gt;\n      Dig PLC, 1 First Ave, Dublin 1, Ireland\n    &lt;/BillingAddress&gt;\n    &lt;CreditCard Type=&quot;Amex&quot;&gt;\n      &lt;Name&gt;Foo B Baz&lt;/Name&gt;\n      &lt;Number&gt;1234 567890 12345&lt;/Number&gt;\n      &lt;Expires Month=&quot;1&quot; Year=&quot;2005&quot; /&gt;\n    &lt;/CreditCard&gt;\n  &lt;/PaymentInfo&gt;\n&lt;/PurchaseOrder&gt;\n</code></pre>\n<p>I have some questions:</p>\n<ol>\n<li>Verify the signature by using the cert in the XML. If it works, the XML file is self-interpreted, why do we still need a cert loaded from the Keystore?</li>\n<li>I can't format the generated XML which contains the signature. If I change some piece of the XML file, it will cause the verification to fail. How should I format the XML file? Or just leave it there?</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>      &lt;ds:SignedInfo&gt;&lt;!--If I add a lot of blank spaces at the start of this line, the verifying is ok--&gt;\n&lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;&lt;/ds:CanonicalizationMethod&gt;&lt;!--If I add a blank space at the start of this line, the verifying is not working--&gt;\n</code></pre>\n<p>The main Java Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.InputStream;\nimport java.security.Key;\nimport java.security.KeyStore;\nimport java.security.cert.X509Certificate;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.xml.namespace.QName;\nimport org.apache.xml.security.signature.XMLSignature;\nimport org.junit.Assert;\nimport org.w3c.dom.Document;\nimport org.apache.xml.security.utils.XMLUtils;\nimport org.w3c.dom.Element;\n\n/**\n * This tests using the DOM API of Apache Santuario - XML Security for Java for XML Signature.\n */\npublic class SignatureDOMTest extends org.junit.Assert {\n\n    // Sign + Verify an XML Document using the DOM API\n    @org.junit.Test\n    public void testSignatureUsingDOMAPI() throws Exception {\n\n        // Read in plaintext document\n        InputStream sourceDocument =\n                new FileInputStream(new File(&quot;plaintext.xml&quot;));\n        Document document = XMLUtils.read(sourceDocument, true);\n\n        // Set up the Key\n        KeyStore keyStore = KeyStore.getInstance(&quot;jks&quot;);\n        keyStore.load(\n            this.getClass().getClassLoader().getResource(&quot;clientstore.jks&quot;).openStream(),\n            &quot;cspass&quot;.toCharArray()\n        );\n        Key key = keyStore.getKey(&quot;myclientkey&quot;, &quot;ckpass&quot;.toCharArray());\n        X509Certificate cert = (X509Certificate)keyStore.getCertificate(&quot;myclientkey&quot;);\n\n        // Sign using DOM\n        List&lt;QName&gt; namesToSign = new ArrayList&lt;QName&gt;();\n        namesToSign.add(new QName(&quot;urn:example:po&quot;, &quot;PaymentInfo&quot;));\n\n        SignatureUtils.signUsingDOM(\n            document, namesToSign, &quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot;, key, cert\n        );\n        // Verify using DOM, here it use the cert load from Keystore.\n        SignatureUtils.verifyUsingDOM(document, namesToSign, cert);\n\n        // Those code are my test:\n        // I write the signed xml to a file, then read from the file.\n        XMLUtils.outputDOM(document, new FileOutputStream(new File(&quot;plaintext_signed.xml&quot;)));\n        \n        // read from the signed file.\n        Document signedDocument = XMLUtils.read(new FileInputStream(new File(&quot;plaintext_signed.xml&quot;)), true);\n\n        // Verify using DOM\n        List&lt;QName&gt; namesToSign1 = new ArrayList&lt;QName&gt;();\n        namesToSign1.add(new QName(&quot;urn:example:po&quot;, &quot;PaymentInfo&quot;));\n\n        Element sigElement = SignatureUtils.getSignatureElement(signedDocument);\n        Assert.assertNotNull(sigElement);\n\n        SignatureUtils.findElementsToVerify(signedDocument, namesToSign1);\n        \n        // try to get cert from the node in the xml.\n        XMLSignature signature = new XMLSignature(sigElement, &quot;&quot;);\n\n        X509Certificate cert_in_xml = signature.getKeyInfo().getX509Certificate();\n        \n        // verify the signature by using the cert in the xml.\n        // If it works, why do we need a cert loaded from the keystore?\n        SignatureUtils.verifyUsingDOM(signedDocument, namesToSign1, cert_in_xml);\n    }\n}\n</code></pre>\n<p>Include functions in <code>SignatureUtils.java</code> for integrity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    \nimport org.apache.xml.security.Init;\nimport org.apache.xml.security.keys.KeyInfo;\nimport org.apache.xml.security.signature.XMLSignature;\nimport org.apache.xml.security.transforms.Transforms;\nimport org.junit.Assert;\nimport org.w3c.dom.Document;\nimport org.w3c.dom.Element;\nimport org.w3c.dom.NodeList;\nimport javax.xml.namespace.QName;\nimport javax.xml.xpath.XPath;\nimport javax.xml.xpath.XPathConstants;\nimport javax.xml.xpath.XPathExpressionException;\nimport javax.xml.xpath.XPathFactory;\nimport java.security.Key;\nimport java.security.cert.X509Certificate;\nimport java.util.List;\nimport java.util.UUID;\n\n/**\n * Some utility methods for signing/verifying documents\n */\npublic final class SignatureUtils {\n\n    static {\n        Init.init();\n    }\n\n    private SignatureUtils() {\n        // complete\n    }\n\n    /**\n     * Sign the document using the DOM API of Apache Santuario - XML Security for Java.\n     * It signs a list of QNames that it finds in the Document via XPath.\n     */\n    public static void signUsingDOM(\n        Document document,\n        List&lt;QName&gt; namesToSign,\n        String algorithm,\n        Key signingKey,\n        X509Certificate signingCert\n    ) throws Exception {\n        XMLSignature sig =\n            new XMLSignature(document, &quot;&quot;, algorithm, &quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;);\n        Element root = document.getDocumentElement();\n        root.appendChild(sig.getElement());\n\n        XPathFactory xpf = XPathFactory.newInstance();\n        XPath xpath = xpf.newXPath();\n        xpath.setNamespaceContext(new DSNamespaceContext());\n\n        for (QName nameToSign : namesToSign) {\n            String expression = &quot;//*[local-name()='&quot; + nameToSign.getLocalPart() + &quot;']&quot;;\n            NodeList elementsToSign =\n                    (NodeList) xpath.evaluate(expression, document, XPathConstants.NODESET);\n            for (int i = 0; i &lt; elementsToSign.getLength(); i++) {\n                Element elementToSign = (Element)elementsToSign.item(i);\n                Assert.assertNotNull(elementToSign);\n                String id = UUID.randomUUID().toString();\n                elementToSign.setAttributeNS(null, &quot;Id&quot;, id);\n                elementToSign.setIdAttributeNS(null, &quot;Id&quot;, true);\n\n                Transforms transforms = new Transforms(document);\n                transforms.addTransform(&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;);\n                sig.addDocument(&quot;#&quot; + id, transforms, &quot;http://www.w3.org/2000/09/xmldsig#sha1&quot;);\n            }\n        }\n\n        sig.sign(signingKey);\n\n        // Find the Signature Element\n        Element sigElement = getSignatureElement(document);\n        Assert.assertNotNull(sigElement);\n\n        if (signingCert != null) {\n            sig.addKeyInfo(signingCert);\n        }\n    }\n\n    /**\n     * Verify the document using the DOM API of Apache Santuario - XML Security for Java.\n     * It finds a list of QNames via XPath and uses the DOM API to mark them as having an\n     * &quot;Id&quot;.\n     */\n    public static void verifyUsingDOM(\n        Document document,\n        List&lt;QName&gt; namesToSign,\n        X509Certificate cert\n    ) throws Exception {\n        // Find the Signature Element\n        Element sigElement = getSignatureElement(document);\n        Assert.assertNotNull(sigElement);\n\n        findElementsToVerify(document, namesToSign);\n\n        XMLSignature signature = new XMLSignature(sigElement, &quot;&quot;);\n\n        // Check we have a KeyInfo\n        KeyInfo ki = signature.getKeyInfo();\n        Assert.assertNotNull(ki);\n\n        // Check the Signature value\n        Assert.assertTrue(signature.checkSignatureValue(cert));\n    }\n\n\n\n\n    public static void findElementsToVerify(Document document, List&lt;QName&gt; namesToSign) throws XPathExpressionException {\n        XPathFactory xpf = XPathFactory.newInstance();\n        XPath xpath = xpf.newXPath();\n        xpath.setNamespaceContext(new DSNamespaceContext());\n\n        for (QName nameToSign : namesToSign) {\n            String expression = &quot;//*[local-name()='&quot; + nameToSign.getLocalPart() + &quot;']&quot;;\n            Element signedElement =\n                (Element) xpath.evaluate(expression, document, XPathConstants.NODE);\n            Assert.assertNotNull(signedElement);\n            if (signedElement.hasAttributeNS(null, &quot;Id&quot;)) {\n                signedElement.setIdAttributeNS(null, &quot;Id&quot;, true);\n            }\n        }\n    }\n\n    public static Element getSignatureElement(Document document) throws XPathExpressionException {\n        XPathFactory xpf = XPathFactory.newInstance();\n        XPath xpath = xpf.newXPath();\n        xpath.setNamespaceContext(new DSNamespaceContext());\n\n        // Find the Signature Element\n        String expression = &quot;//dsig:Signature[1]&quot;;\n        Element sigElement =\n                (Element) xpath.evaluate(expression, document, XPathConstants.NODE);\n        return sigElement;\n    }\n}\n</code></pre>\n<p>The generated xml file with signatue, It's not well formatted, I would like to format it, but then it caused the verification to fail.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;PurchaseOrder xmlns=&quot;urn:example:po&quot;&gt;\n  &lt;Items&gt;\n    &lt;Item Code=&quot;001-001-001&quot; Quantity=&quot;1&quot;&gt;\n      spade\n    &lt;/Item&gt;\n    &lt;Item Code=&quot;001-001-002&quot; Quantity=&quot;1&quot;&gt;\n      shovel\n    &lt;/Item&gt;\n  &lt;/Items&gt;\n  &lt;ShippingAddress&gt;\n    Dig PLC, 1 First Ave, Dublin 1, Ireland\n  &lt;/ShippingAddress&gt;\n  &lt;PaymentInfo Id=&quot;27a5af39-7896-4002-ad65-a4ec9015bf23&quot;&gt;\n    &lt;BillingAddress&gt;\n      Dig PLC, 1 First Ave, Dublin 1, Ireland\n    &lt;/BillingAddress&gt;\n    &lt;CreditCard Type=&quot;Amex&quot;&gt;\n      &lt;Name&gt;Foo B Baz&lt;/Name&gt;\n      &lt;Number&gt;1234 567890 12345&lt;/Number&gt;\n      &lt;Expires Month=&quot;1&quot; Year=&quot;2005&quot;&gt;&lt;/Expires&gt;\n    &lt;/CreditCard&gt;\n  &lt;/PaymentInfo&gt;\n &lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\n    &lt;ds:SignedInfo&gt;&lt;!--If I add a lot of blank spaces at the start of this line, the verification is ok--&gt;\n&lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;&lt;/ds:CanonicalizationMethod&gt;&lt;!--If I add a blank space at the start of this line, the verification is not working--&gt;\n&lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot;&gt;&lt;/ds:SignatureMethod&gt;\n&lt;ds:Reference URI=&quot;#27a5af39-7896-4002-ad65-a4ec9015bf23&quot;&gt;\n&lt;ds:Transforms&gt;\n&lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;&lt;/ds:Transform&gt;\n&lt;/ds:Transforms&gt;\n&lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot;&gt;&lt;/ds:DigestMethod&gt;\n&lt;ds:DigestValue&gt;ANOpAn94IZWzHAFvQSXI6rK3Hsg=&lt;/ds:DigestValue&gt;\n&lt;/ds:Reference&gt;\n&lt;/ds:SignedInfo&gt;\n&lt;ds:SignatureValue&gt;\nTlbljw+A69WQ4oClxMgv64RLunmxX0k92UJdqGkQUo7L35wpVgET1EjtZf7TF6ekaxuICDEISPmq&amp;#xD;\nR7vwrRsmf3/u1v9bANaa0rOtO7nuJgxUs9kVndnMnAPWcIm9Njtl7GUEpt6BLMKwAVkbDjOq5Q0S&amp;#xD;\nR3P9d31ppuYdOt7nnbGvgtYDDVIsQRA50rlZqotWI3odfh27HlJMtIys9YJ/0BuQKI4LaNhdymKQ&amp;#xD;\nhaRFe6jaAv3v0MVG9Hg53uaJf8vwKL0tYG73ZO2Wh2Tr0j0EPEJY72akyJdNcAHjHiSzZEw1HwRt&amp;#xD;\nY9Ns2cnbMLpVEYQzW8oO/TO8uf9UYXfUttFyLQ==\n&lt;/ds:SignatureValue&gt;\n&lt;ds:KeyInfo xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\n&lt;ds:X509Data&gt;\n&lt;ds:X509Certificate&gt;\nMIIDqjCCAxOgAwIBAgIBHzANBgkqhkiG9w0BAQsFADBmMQswCQYDVQQGEwJERTEPMA0GA1UECBMG&amp;#xD;\nQmF5ZXJuMQ8wDQYDVQQHEwZNdW5pY2gxDTALBgNVBAoTBEhvbWUxFTATBgNVBAsTDEFwYWNoZSBX&amp;#xD;\nU1M0SjEPMA0GA1UEAxMGV2VybmVyMB4XDTE1MDkxMDEzMjEyMloXDTI1MDkwNzEzMjEyMlowUzEL&amp;#xD;\nMAkGA1UEBhMCSUUxETAPBgNVBAgTCExlaW5zdGVyMQ8wDQYDVQQHEwZEdWJsaW4xDzANBgNVBAoT&amp;#xD;\nBkFwYWNoZTEPMA0GA1UEAxMGQ2xpZW50MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA&amp;#xD;\njeP2hF/KOv8Pw/++n9bAa0DxKFzyLvlcAciBgv1E01cCyUwn5X0v8nT9gIdjXBi6Y6PvSCs2GqcA&amp;#xD;\nzo82yzIjlcDmocXt/2vBkezwh6Ow2xoXItzXD+I6KlhpH8gl4xXd35N0z+88m4SEclncm//l3sQH&amp;#xD;\nP6CMG9O4H91A+0DXzTkQHzs2PEg13ONMOVbg5P85ceZ+VTBjd3BkqC0mZDB6Ovo6Xt06tVS/S4rF&amp;#xD;\nR0L9mtyxZ+v/Psd8TYAIk3wlz1e1wm+dobp1YkOPgvv08r8ROVnWC0pRZquCPQUou6r50LseRZWE&amp;#xD;\no9MGN8kt4sYcLCaJbF3fsTvKYi6InWyczv2JSQIDAQABo4H2MIHzMAkGA1UdEwQCMAAwLAYJYIZI&amp;#xD;\nAYb4QgENBB8WHU9wZW5TU0wgR2VuZXJhdGVkIENlcnRpZmljYXRlMB0GA1UdDgQWBBQsRXQjSEq1&amp;#xD;\nPetSTIekkXnMBtntGTCBmAYDVR0jBIGQMIGNgBRWF+/2a4tZ/iMZaN54wOFNZ33QZqFqpGgwZjEL&amp;#xD;\nMAkGA1UEBhMCREUxDzANBgNVBAgTBkJheWVybjEPMA0GA1UEBxMGTXVuaWNoMQ0wCwYDVQQKEwRI&amp;#xD;\nb21lMRUwEwYDVQQLEwxBcGFjaGUgV1NTNEoxDzANBgNVBAMTBldlcm5lcoIJAI3hLAppEXfSMA0G&amp;#xD;\nCSqGSIb3DQEBCwUAA4GBAKZXwqAplMzutyC8jIUzFN/DfQOAuZ8ExLBIUxW51KSzxxL+kfydq4HF&amp;#xD;\notRC7PZ3bYEkXYN7deUYoq6yFO0AAWvagBbxdzRYDPRCwpKe+4jn8VLGtjkEyLSsMiiaNiOuMx8q&amp;#xD;\nWxvV1sA9KioHvZDFVP+0QqSc1ZytEPOKasdViUU9\n&lt;/ds:X509Certificate&gt;\n&lt;/ds:X509Data&gt;\n&lt;/ds:KeyInfo&gt;\n&lt;/ds:Signature&gt;&lt;/PurchaseOrder&gt;\n\n</code></pre>\n<p>Update 1:</p>\n<ol>\n<li>The original xml is well formatted. Currently, only the <code>ds:Signature</code> node is not well formatted.</li>\n<li>When process the sign with the apache library, How do we know the XML file is already formatted? Because the XML file is now represented as Java objects.</li>\n<li>Usually, the content between <code>&gt;</code> and <code>&lt;</code>, like in this piece of <code>&lt;Item&gt;this is content&lt;/Item&gt;</code>, <code>this is content</code> is the payload, Does the signing process only sign the payload? or it will contain the <code>&lt;Item&gt;</code>, <code>&lt;\\Item&gt;</code>, even more it will include some blank space before the <code>&lt;Item&gt;</code> like <code>  &lt;Item&gt;</code> and some <code>\\n</code> in the end of <code>&lt;\\Item&gt;</code>?</li>\n</ol>\n"},{"tags":["java","garbage-collection"],"comments":[{"owner":{"account_id":1625605,"reputation":5548,"user_id":1501234,"accept_rate":72,"display_name":"Jaroslaw Pawlak"},"score":0,"creation_date":1521456202,"post_id":2617159,"comment_id":85722012,"body_markdown":"please include images in your question, rather than providing links (which no longer work)","body":"please include images in your question, rather than providing links (which no longer work)"}],"answers":[{"tags":[],"owner":{"account_id":8198,"reputation":176803,"user_id":14637,"accept_rate":88,"display_name":"Thomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1372705699,"creation_date":1270994417,"answer_id":2617250,"question_id":2617159,"body_markdown":"Google found me the following, from the [IBM JVM FAQ][1] (how&#39;s that for an NLA):\r\n\r\n&gt; **When does the Java heap shrink?**\r\n&gt; \r\n&gt; Heap shrinkage occurs when GC determines that there is a lot of free heap storage, and releasing some heap memory is beneficial for system performance. Heap shrinkage occurs after GC, but when all the threads are still suspended. \r\n\r\nThe Sun JVM does something similar.  Below is an excerpt from an Oracle Technology Network article entitled [Ergonomics in the 5.0 Java Virtual Machine][2].\r\n\r\n&gt; The heap will grow or shrink to a size that will support the chosen throughput goal. Some oscillations in the size of the heap during initialization and during a change in the application&#39;s behavior can be expected.\r\n&gt; \r\n&gt; ...\r\n&gt; \r\n&gt; It is typical that the size of the heap will oscillate as the garbage collector tries to satisfy competing goals. This is true even if the application has reached a steady state. The pressure to achieve a throughput goal (which may require a larger heap) competes with the goals for a maximum pause time and a minimum footprint (which both may require a small heap).\r\n\r\nI suggest you have a look at the rest of that document; it may have more information relevant to your problem.\r\n\r\n  [1]: http://publib.boulder.ibm.com/infocenter/javasdk/v1r4m2/topic/com.ibm.java.doc.diagnostics.142j9/html/gcfaquestions.html\r\n  [2]: http://www.oracle.com/technetwork/java/ergo5-140223.html","title":"Java heap keeps on shrinking! What is happening in this graph of heap size?","body":"<p>Google found me the following, from the <a href=\"http://publib.boulder.ibm.com/infocenter/javasdk/v1r4m2/topic/com.ibm.java.doc.diagnostics.142j9/html/gcfaquestions.html\" rel=\"noreferrer\">IBM JVM FAQ</a> (how's that for an NLA):</p>\n\n<blockquote>\n  <p><strong>When does the Java heap shrink?</strong></p>\n  \n  <p>Heap shrinkage occurs when GC determines that there is a lot of free heap storage, and releasing some heap memory is beneficial for system performance. Heap shrinkage occurs after GC, but when all the threads are still suspended. </p>\n</blockquote>\n\n<p>The Sun JVM does something similar.  Below is an excerpt from an Oracle Technology Network article entitled <a href=\"http://www.oracle.com/technetwork/java/ergo5-140223.html\" rel=\"noreferrer\">Ergonomics in the 5.0 Java Virtual Machine</a>.</p>\n\n<blockquote>\n  <p>The heap will grow or shrink to a size that will support the chosen throughput goal. Some oscillations in the size of the heap during initialization and during a change in the application's behavior can be expected.</p>\n  \n  <p>...</p>\n  \n  <p>It is typical that the size of the heap will oscillate as the garbage collector tries to satisfy competing goals. This is true even if the application has reached a steady state. The pressure to achieve a throughput goal (which may require a larger heap) competes with the goals for a maximum pause time and a minimum footprint (which both may require a small heap).</p>\n</blockquote>\n\n<p>I suggest you have a look at the rest of that document; it may have more information relevant to your problem.</p>\n"},{"comments":[{"owner":{"account_id":76705,"reputation":8914,"user_id":219394,"display_name":"Kevin Brock"},"score":1,"creation_date":1271006193,"post_id":2617252,"comment_id":2629782,"body_markdown":"I think that &quot;Eventually the VM locks up&quot; (if true and as the OP stated) would be something to want to avoid.","body":"I think that &quot;Eventually the VM locks up&quot; (if true and as the OP stated) would be something to want to avoid."}],"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1270994456,"creation_date":1270994456,"answer_id":2617252,"question_id":2617159,"body_markdown":"Just a guess:\r\nIt looks like the system is pretty much idle. There might be some caching going on, and stuff drops out of the cache and gets gc&#39;d. Or since it is a queuing system, maybe it has some messages, in the queue, which slowly get delivered and gc&#39;d afterwards.\r\n\r\nThe increased frequence of gc-runs might be due to ever decreasing load on the system.\r\n\r\nAs to how to avoid it. Why do you want to avoid it? It seems like your CPU load is zero. So you are free to let the gc do whatever it wants","title":"Java heap keeps on shrinking! What is happening in this graph of heap size?","body":"<p>Just a guess:\nIt looks like the system is pretty much idle. There might be some caching going on, and stuff drops out of the cache and gets gc'd. Or since it is a queuing system, maybe it has some messages, in the queue, which slowly get delivered and gc'd afterwards.</p>\n\n<p>The increased frequence of gc-runs might be due to ever decreasing load on the system.</p>\n\n<p>As to how to avoid it. Why do you want to avoid it? It seems like your CPU load is zero. So you are free to let the gc do whatever it wants</p>\n"},{"tags":[],"owner":{"account_id":32722,"reputation":8502,"user_id":91012,"accept_rate":67,"display_name":"mR_fr0g"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1700848166,"creation_date":1296234909,"answer_id":4831077,"question_id":2617159,"body_markdown":"There is a JVM argument that controls when the heap is resized.\r\n\r\n**-XX:MaxHeapFreeRatio**\r\n\r\nThe default value for this is 70. The free ratio is the amount of space not allocated on the heap over the total heap size. If the percentage of free space rises above the default of 70% the jvm will reduce the size of the heap to allow the OS to use the memory.\r\n\r\nIf the heap is shrinking too often you can increase the value of -XX:MaxHeapFreeRatio. If it is set to 100, i.e., **-XX:MaxHeapFreeRatio=100** presumably it will never shrink.","title":"Java heap keeps on shrinking! What is happening in this graph of heap size?","body":"<p>There is a JVM argument that controls when the heap is resized.</p>\n<p><strong>-XX:MaxHeapFreeRatio</strong></p>\n<p>The default value for this is 70. The free ratio is the amount of space not allocated on the heap over the total heap size. If the percentage of free space rises above the default of 70% the jvm will reduce the size of the heap to allow the OS to use the memory.</p>\n<p>If the heap is shrinking too often you can increase the value of -XX:MaxHeapFreeRatio. If it is set to 100, i.e., <strong>-XX:MaxHeapFreeRatio=100</strong> presumably it will never shrink.</p>\n"}],"owner":{"account_id":22812,"reputation":25098,"user_id":56679,"accept_rate":70,"display_name":"chillitom"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6110,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":3,"score":4,"last_activity_date":1700848166,"creation_date":1270992909,"question_id":2617159,"body_markdown":"This is a screen shot of a JVM (win64, 6u17) running ActiveMQ, after every garbage collection the heap size is reducing.  As the heap size reduces garbage collection gets more frequent and the heap reduces more quickly.  Eventually the VM locks up as it&#39;s spending all it&#39;s time in GC.\r\n\r\n*-Xms* is the default and *-Xmx* is 2048mb.\r\n\r\nWhat is happening!!? How can I avoid this?\r\n\r\nhttp://imagebin.org/92614\r\n\r\n![Shrinking heap][1]\r\n\r\n*n.b originally posted on serverfault.com, moved to stackoverflow.com as requested*\r\n\r\n  [1]: http://imagebin.org/index.php?mode=image&amp;id=92614","title":"Java heap keeps on shrinking! What is happening in this graph of heap size?","body":"<p>This is a screen shot of a JVM (win64, 6u17) running ActiveMQ, after every garbage collection the heap size is reducing.  As the heap size reduces garbage collection gets more frequent and the heap reduces more quickly.  Eventually the VM locks up as it's spending all it's time in GC.</p>\n\n<p><em>-Xms</em> is the default and <em>-Xmx</em> is 2048mb.</p>\n\n<p>What is happening!!? How can I avoid this?</p>\n\n<p><a href=\"http://imagebin.org/92614\" rel=\"nofollow noreferrer\">http://imagebin.org/92614</a></p>\n\n<p><a href=\"http://imagebin.org/index.php?mode=image&amp;id=92614\" rel=\"nofollow noreferrer\">Shrinking heap http://imagebin.org/index.php?mode=image&amp;id=92614</a></p>\n\n<p><em>n.b originally posted on serverfault.com, moved to stackoverflow.com as requested</em></p>\n"},{"tags":["java","android","android-studio","unsupported-class-version"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1699455598,"post_id":77445137,"comment_id":136533917,"body_markdown":"Usually this is caused by a library that was compiled for a Java version which is too new. In your case Java 20 (class file version 64). You need to identify the class or library which causes the error.","body":"Usually this is caused by a library that was compiled for a Java version which is too new. In your case Java 20 (class file version 64). You need to identify the class or library which causes the error."}],"answers":[{"tags":[],"owner":{"account_id":6508480,"reputation":76,"user_id":5036611,"display_name":"Lucas Miranda"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700847939,"creation_date":1700847939,"answer_id":77544861,"question_id":77445137,"body_markdown":"It&#39;s likely that your build process is using different JDKs to build libraries and your app. This discrepancy can cause the issue you&#39;re encountering.\r\n\r\nTo solve the problem in the simplest way, I suggest using only one JDK version - specifically, the one defined in your **JAVA_HOME** environment variable. Delete the others to avoid any conflicts.\r\n\r\nOpen your terminal and type:\r\n\r\n    java --version\r\n\r\nYou might see an output like this:\r\n\r\n&gt; openjdk 17.0.9 2023-10-17 OpenJDK Runtime Environment Temurin-17.0.9+9\r\n&gt; (build 17.0.9+9) OpenJDK 64-Bit Server VM Temurin-17.0.9+9 (build\r\n&gt; 17.0.9+9, mixed mode)\r\n\r\n\r\nNow, check the path to your JDK files:\r\n\r\n    echo $JAVA_HOME\r\n\r\nAn example output on macOS could be:\r\n\r\n&gt; /Users/lucasmiranda/Library/Java/JavaVirtualMachines/jdk-17.0.9+9/Contents/Home\r\n\r\nNavigate to the *JavaVirtualMachines* folder.\r\n\r\nDelete the other JDK versions and keep only the one used by your **JAVA_HOME**.\r\n\r\nIf you encounter an issue with Android Studio trying to use a different JDK, configure it to point to your default JDK version.\r\n\r\n\r\n\r\n","title":"Android studio how to fix &quot;Unsupported class file major version 64&quot;","body":"<p>It's likely that your build process is using different JDKs to build libraries and your app. This discrepancy can cause the issue you're encountering.</p>\n<p>To solve the problem in the simplest way, I suggest using only one JDK version - specifically, the one defined in your <strong>JAVA_HOME</strong> environment variable. Delete the others to avoid any conflicts.</p>\n<p>Open your terminal and type:</p>\n<pre><code>java --version\n</code></pre>\n<p>You might see an output like this:</p>\n<blockquote>\n<p>openjdk 17.0.9 2023-10-17 OpenJDK Runtime Environment Temurin-17.0.9+9\n(build 17.0.9+9) OpenJDK 64-Bit Server VM Temurin-17.0.9+9 (build\n17.0.9+9, mixed mode)</p>\n</blockquote>\n<p>Now, check the path to your JDK files:</p>\n<pre><code>echo $JAVA_HOME\n</code></pre>\n<p>An example output on macOS could be:</p>\n<blockquote>\n<p>/Users/lucasmiranda/Library/Java/JavaVirtualMachines/jdk-17.0.9+9/Contents/Home</p>\n</blockquote>\n<p>Navigate to the <em>JavaVirtualMachines</em> folder.</p>\n<p>Delete the other JDK versions and keep only the one used by your <strong>JAVA_HOME</strong>.</p>\n<p>If you encounter an issue with Android Studio trying to use a different JDK, configure it to point to your default JDK version.</p>\n"}],"owner":{"account_id":2113491,"reputation":536,"user_id":6854117,"accept_rate":72,"display_name":"Moeez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77544861,"answer_count":1,"score":1,"last_activity_date":1700847939,"creation_date":1699442809,"question_id":77445137,"body_markdown":"Whenever I try to build or clean the project or try again. I am getting the following error \r\n\r\n`Unsupported class file major version 64`\r\n\r\nI am stuck to this problem and unable to find the solution \r\n\r\n**gradle-wrapper.properties**\r\n\r\n    #Wed Oct 21 11:43:07 PKT 2020\r\n    distributionBase=GRADLE_USER_HOME\r\n    distributionPath=wrapper/dists\r\n    zipStoreBase=GRADLE_USER_HOME\r\n    zipStorePath=wrapper/dists\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-8.0-all.zip\r\n\r\n**build.gradle**\r\n\r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n\r\n    buildscript {\r\n    repositories {\r\n        mavenCentral()\r\n        google()\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:8.1.3&#39;\r\n\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n       }\r\n     }\r\n\r\n     allprojects {\r\n       repositories {\r\n        mavenCentral()\r\n        google()\r\n     }\r\n    }\r\n\r\n     tasks.register(&#39;clean&#39;, Delete) {\r\n    delete rootProject.buildDir\r\n    }\r\n\r\n\r\n**build.gradle(:app)**\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n\r\n    android {\r\n    compileSdkVersion 33\r\n    buildToolsVersion &#39;28.0.2&#39;\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.thumbsol.accuratemobileassetsmanagament&quot;\r\n        minSdkVersion 19\r\n        targetSdkVersion 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        testInstrumentationRunner &#39;androidx.test.runner.AndroidJUnitRunner&#39;\r\n        vectorDrawables.useSupportLibrary = true\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n\r\n    lintOptions {\r\n        checkReleaseBuilds false\r\n    }\r\n    }\r\n\r\n    dependencies {\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    androidTestImplementation(&#39;androidx.test.espresso:espresso-core:3.5.1&#39;, {\r\n        exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;\r\n    })\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.10.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;com.squareup.retrofit2:retrofit:2.9.0&#39;\r\n    implementation &#39;com.squareup.retrofit2:converter-gson:2.9.0&#39;\r\n    implementation &#39;com.jakewharton:butterknife:10.2.3&#39;\r\n    implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    implementation &#39;androidx.vectordrawable:vectordrawable:1.1.0&#39;\r\n    implementation &#39;com.squareup.picasso:picasso:2.71828&#39;\r\n    implementation &#39;com.toptoche.searchablespinner:searchablespinnerlibrary:1.3.1&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    annotationProcessor &#39;com.jakewharton:butterknife-compiler:10.2.3&#39;\r\n    implementation &#39;com.squareup.okhttp3:logging-interceptor:3.9.1&#39;\r\n    implementation &#39;com.github.luongvo:GmailBackground:2.0.2&#39;\r\n    }\r\n\r\n\r\n**Project Structure**\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI have also tried this [solution][2] but unable to resolve the problem\r\n\r\nAny help would be highly appreciated. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/p4NZO.png\r\n  [2]: https://stackoverflow.com/a/70641605/6854117","title":"Android studio how to fix &quot;Unsupported class file major version 64&quot;","body":"<p>Whenever I try to build or clean the project or try again. I am getting the following error</p>\n<p><code>Unsupported class file major version 64</code></p>\n<p>I am stuck to this problem and unable to find the solution</p>\n<p><strong>gradle-wrapper.properties</strong></p>\n<pre><code>#Wed Oct 21 11:43:07 PKT 2020\ndistributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-8.0-all.zip\n</code></pre>\n<p><strong>build.gradle</strong></p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\nrepositories {\n    mavenCentral()\n    google()\n}\ndependencies {\n    classpath 'com.android.tools.build:gradle:8.1.3'\n\n    // NOTE: Do not place your application dependencies here; they belong\n    // in the individual module build.gradle files\n   }\n }\n\n allprojects {\n   repositories {\n    mavenCentral()\n    google()\n }\n}\n\n tasks.register('clean', Delete) {\ndelete rootProject.buildDir\n}\n</code></pre>\n<p><strong>build.gradle(:app)</strong></p>\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\ncompileSdkVersion 33\nbuildToolsVersion '28.0.2'\n\ndefaultConfig {\n    applicationId &quot;com.thumbsol.accuratemobileassetsmanagament&quot;\n    minSdkVersion 19\n    targetSdkVersion 33\n    versionCode 1\n    versionName &quot;1.0&quot;\n    testInstrumentationRunner 'androidx.test.runner.AndroidJUnitRunner'\n    vectorDrawables.useSupportLibrary = true\n}\n\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\n\nlintOptions {\n    checkReleaseBuilds false\n}\n}\n\ndependencies {\nimplementation fileTree(dir: 'libs', include: ['*.jar'])\nandroidTestImplementation('androidx.test.espresso:espresso-core:3.5.1', {\n    exclude group: 'com.android.support', module: 'support-annotations'\n})\nimplementation 'androidx.appcompat:appcompat:1.6.1'\nimplementation 'com.google.android.material:material:1.10.0'\nimplementation 'androidx.constraintlayout:constraintlayout:2.1.4'\nimplementation 'com.squareup.retrofit2:retrofit:2.9.0'\nimplementation 'com.squareup.retrofit2:converter-gson:2.9.0'\nimplementation 'com.jakewharton:butterknife:10.2.3'\nimplementation 'androidx.cardview:cardview:1.0.0'\nimplementation 'androidx.legacy:legacy-support-v4:1.0.0'\nimplementation 'androidx.vectordrawable:vectordrawable:1.1.0'\nimplementation 'com.squareup.picasso:picasso:2.71828'\nimplementation 'com.toptoche.searchablespinner:searchablespinnerlibrary:1.3.1'\ntestImplementation 'junit:junit:4.13.2'\nannotationProcessor 'com.jakewharton:butterknife-compiler:10.2.3'\nimplementation 'com.squareup.okhttp3:logging-interceptor:3.9.1'\nimplementation 'com.github.luongvo:GmailBackground:2.0.2'\n}\n</code></pre>\n<p><strong>Project Structure</strong></p>\n<p><a href=\"https://i.stack.imgur.com/p4NZO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p4NZO.png\" alt=\"enter image description here\" /></a></p>\n<p>I have also tried this <a href=\"https://stackoverflow.com/a/70641605/6854117\">solution</a> but unable to resolve the problem</p>\n<p>Any help would be highly appreciated.</p>\n"},{"tags":["java","eclipse","eclipse-plugin","eclipse-rcp"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1700851300,"post_id":77544808,"comment_id":136707373,"body_markdown":"Note that Eclipse code is signed and is not just going to let you install hacked versions of core plug-ins. You can use the `org.eclipse.ui.activities` extension point to suppress menu items without modifiying anything. Other menu items can be contributed by any plug-in using the `org.eclipse.ui.menus` extension point.","body":"Note that Eclipse code is signed and is not just going to let you install hacked versions of core plug-ins. You can use the <code>org.eclipse.ui.activities</code> extension point to suppress menu items without modifiying anything. Other menu items can be contributed by any plug-in using the <code>org.eclipse.ui.menus</code> extension point."}],"owner":{"account_id":14362455,"reputation":789,"user_id":10374425,"display_name":"Ga&#235;tan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700847226,"creation_date":1700847226,"question_id":77544808,"body_markdown":"The customer of the project I am working on wants certain options of the context menu gone, namely the &quot;Team&quot;, &quot;Compare With&quot; and &quot;Replace With&quot; options. These are provided by other plugins. \r\n\r\nSo, I went into the ViewPart class and started modifying the code to remove these options. I managed to get rid of the &quot;Team&quot; one by doing as follows:\r\n\r\n- In the createPartControl method, I create the context menu and ask for a fillContextMenu method to be called just before rendering the menu:\r\n```\r\n// Context (right click) menu\r\nMenuManager menuMgr = new MenuManager();\r\nmenuMgr.setRemoveAllWhenShown(true);\r\nmenuMgr.addMenuListener(new IMenuListener() {\r\n    public void menuAboutToShow(IMenuManager manager) {\r\n        MyView.this.fillContextMenu(menuMgr);\r\n    }\r\n});\r\nMenu menu = menuMgr.createContextMenu(this.viewer.getControl());\r\nthis.viewer.getControl().setMenu(menu);\r\ngetSite().registerContextMenu(menuMgr, viewer);\r\n\r\n```\r\n- In the fillContextMenu method, I filter the unwanted option by iterating the menu contributions and setting the undesired options visibility to false:\r\n```\r\nprivate void fillContextMenu(MenuManager manager)\r\n{\r\n\tString POPUP_LOCATION = &quot;popup:my.view&quot;;\r\n\tIMenuService menuService = (IMenuService) PlatformUI.getWorkbench().getService(IMenuService.class);\r\n\tmenuService.populateContributionManager(manager, POPUP_LOCATION);\r\n\tIContributionItem[] items = manager.getItems();\r\n\tfor (IContributionItem item : items) {\r\n\t\tif (item.getId() != null &amp;&amp; item.getId().contains(&quot;team&quot;)) {\r\n\t\t\titem.setVisible(false);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nSo, as you can see, I have access to the context menu manager just before it gets rendrered. From there, I can hide or show everything I want... but not the &quot;Compare With&quot; and &quot;Replace With&quot; options. They do not appear in the list of menu contributions. If I try to set all the menu contributions to `setVisible(false)`, they all disappear, but these two stay.\r\n\r\nI don&#39;t understand where they are coming from. How can they be in the menu and not appear in the menu manager ? Are they default options that are always there ?","title":"Get rid of the &quot;Compare With&quot; and &quot;Replace With&quot; options in Eclipse Plugin context menu","body":"<p>The customer of the project I am working on wants certain options of the context menu gone, namely the &quot;Team&quot;, &quot;Compare With&quot; and &quot;Replace With&quot; options. These are provided by other plugins.</p>\n<p>So, I went into the ViewPart class and started modifying the code to remove these options. I managed to get rid of the &quot;Team&quot; one by doing as follows:</p>\n<ul>\n<li>In the createPartControl method, I create the context menu and ask for a fillContextMenu method to be called just before rendering the menu:</li>\n</ul>\n<pre><code>// Context (right click) menu\nMenuManager menuMgr = new MenuManager();\nmenuMgr.setRemoveAllWhenShown(true);\nmenuMgr.addMenuListener(new IMenuListener() {\n    public void menuAboutToShow(IMenuManager manager) {\n        MyView.this.fillContextMenu(menuMgr);\n    }\n});\nMenu menu = menuMgr.createContextMenu(this.viewer.getControl());\nthis.viewer.getControl().setMenu(menu);\ngetSite().registerContextMenu(menuMgr, viewer);\n\n</code></pre>\n<ul>\n<li>In the fillContextMenu method, I filter the unwanted option by iterating the menu contributions and setting the undesired options visibility to false:</li>\n</ul>\n<pre><code>private void fillContextMenu(MenuManager manager)\n{\n    String POPUP_LOCATION = &quot;popup:my.view&quot;;\n    IMenuService menuService = (IMenuService) PlatformUI.getWorkbench().getService(IMenuService.class);\n    menuService.populateContributionManager(manager, POPUP_LOCATION);\n    IContributionItem[] items = manager.getItems();\n    for (IContributionItem item : items) {\n        if (item.getId() != null &amp;&amp; item.getId().contains(&quot;team&quot;)) {\n            item.setVisible(false);\n        }\n    }\n}\n</code></pre>\n<p>So, as you can see, I have access to the context menu manager just before it gets rendrered. From there, I can hide or show everything I want... but not the &quot;Compare With&quot; and &quot;Replace With&quot; options. They do not appear in the list of menu contributions. If I try to set all the menu contributions to <code>setVisible(false)</code>, they all disappear, but these two stay.</p>\n<p>I don't understand where they are coming from. How can they be in the menu and not appear in the menu manager ? Are they default options that are always there ?</p>\n"},{"tags":["java","spring","configuration","spring-annotations","spring-expression-language"],"answers":[{"tags":[],"owner":{"account_id":12545326,"reputation":1014,"user_id":9128863,"display_name":"Jelly"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700845902,"creation_date":1621329092,"answer_id":67583235,"question_id":67582716,"body_markdown":"Problem is that I use only `@ConfigurationProperties`. When I add `@Configuration`  problem is gone.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Getter\r\n    @Setter\r\n    @Configuration\r\n    @ConfigurationProperties(&quot;app&quot;)\r\n    public class OuterProperties {\r\n        private static final long WAITING_INTERVAL = 100;\r\n        private long rateForMessageReading;\r\n    }","title":"refer on bean.property in @Scheduled by SpEL","body":"<p>Problem is that I use only <code>@ConfigurationProperties</code>. When I add <code>@Configuration</code>  problem is gone.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@Configuration\n@ConfigurationProperties(&quot;app&quot;)\npublic class OuterProperties {\n    private static final long WAITING_INTERVAL = 100;\n    private long rateForMessageReading;\n}\n</code></pre>\n"}],"owner":{"account_id":12545326,"reputation":1014,"user_id":9128863,"display_name":"Jelly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":489,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700845902,"creation_date":1621327048,"question_id":67582716,"body_markdown":"I&#39;m going to set `fixedRate`-value in `@Scheduled` dynamically.\r\n\r\nFor this aims I&#39;m trying to use SpEL-abilities as following:\r\n\r\n&lt;!-- language: java --&gt;\r\n      \r\n    @AllArgsConstructor\r\n    public class ContentSender {\r\n\r\n        @Scheduled(fixedRateString = &quot;#{OuterProperties.rateForMessageReading}&quot;)\r\n        public void contentModelMessageSource() throws IOException {       \r\n        }\r\n    }\r\n\r\nClass with target-property:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Getter\r\n    @Setter\r\n    @ConfigurationProperties(&quot;app&quot;)\r\n    public class OuterProperties {\r\n        private static final long WAITING_INTERVAL = 100;\r\n        private long rateForMessageReading;\r\n    }\r\n\r\nBy as a result on the deploy-stage I receive:\r\n\r\n\r\n&gt; SpelEvaluationException: EL1008E: Property or field &#39;outerProperties&#39; cannot be found on object of type &#39;org.springframework.beans.factory.config.BeanExpressionContext&#39; - maybe not public or not valid?\r\n\r\nWhat am I doing wrong?\r\n      ","title":"refer on bean.property in @Scheduled by SpEL","body":"<p>I'm going to set <code>fixedRate</code>-value in <code>@Scheduled</code> dynamically.</p>\n<p>For this aims I'm trying to use SpEL-abilities as following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor\npublic class ContentSender {\n\n    @Scheduled(fixedRateString = &quot;#{OuterProperties.rateForMessageReading}&quot;)\n    public void contentModelMessageSource() throws IOException {       \n    }\n}\n</code></pre>\n<p>Class with target-property:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@ConfigurationProperties(&quot;app&quot;)\npublic class OuterProperties {\n    private static final long WAITING_INTERVAL = 100;\n    private long rateForMessageReading;\n}\n</code></pre>\n<p>By as a result on the deploy-stage I receive:</p>\n<blockquote>\n<p>SpelEvaluationException: EL1008E: Property or field 'outerProperties' cannot be found on object of type 'org.springframework.beans.factory.config.BeanExpressionContext' - maybe not public or not valid?</p>\n</blockquote>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","spring-boot","jwt","base64","base64url"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1700837120,"post_id":77543924,"comment_id":136705402,"body_markdown":"`jwtSigningKey` looks like it&#39;s hex, not base64... (I find it highly improbable that it&#39;s a string which *happens* to only contain 0-9, A-F, but is actually intended to be base64. )","body":"<code>jwtSigningKey</code> looks like it&#39;s hex, not base64... (I find it highly improbable that it&#39;s a string which <i>happens</i> to only contain 0-9, A-F, but is actually intended to be base64. )"},{"owner":{"account_id":22773201,"reputation":23,"user_id":16930280,"display_name":"Max"},"score":0,"creation_date":1700838051,"post_id":77543924,"comment_id":136705548,"body_markdown":"jwtSigningKey is Hexa but the token which is generted is base64, right so does jwtSigningKey make any impact?","body":"jwtSigningKey is Hexa but the token which is generted is base64, right so does jwtSigningKey make any impact?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1700838562,"post_id":77543924,"comment_id":136705641,"body_markdown":"Well yes, because you&#39;re trying to decode it as if it&#39;s base64: `Decoders.BASE64.decode(jwtSigningKey)`. Don&#39;t do that...","body":"Well yes, because you&#39;re trying to decode it as if it&#39;s base64: <code>Decoders.BASE64.decode(jwtSigningKey)</code>. Don&#39;t do that..."},{"owner":{"account_id":22773201,"reputation":23,"user_id":16930280,"display_name":"Max"},"score":0,"creation_date":1700840069,"post_id":77543924,"comment_id":136705856,"body_markdown":"So what should i do?","body":"So what should i do?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1700851215,"post_id":77543924,"comment_id":136707362,"body_markdown":"Well if you want your `keyBytes` to represent the data stored in `jwtSigningKey` in hex, then decode it as hex... that might not be the *only* problem with the code, but it looks like a pretty clear one.","body":"Well if you want your <code>keyBytes</code> to represent the data stored in <code>jwtSigningKey</code> in hex, then decode it as hex... that might not be the <i>only</i> problem with the code, but it looks like a pretty clear one."},{"owner":{"account_id":9899349,"reputation":20524,"user_id":7329832,"display_name":"jps"},"score":0,"creation_date":1700855803,"post_id":77543924,"comment_id":136707901,"body_markdown":"For the human reader of the code, it&#39;s obvious that the key is hex encoded. But technically, the base64 decoder has no problem accepting it as base64 code. All characters from the hex code are valid base64 characters and 64 characters are a valid length for base64 without padding. I don&#39;t think the base64 decoding of the hex key caused the error.","body":"For the human reader of the code, it&#39;s obvious that the key is hex encoded. But technically, the base64 decoder has no problem accepting it as base64 code. All characters from the hex code are valid base64 characters and 64 characters are a valid length for base64 without padding. I don&#39;t think the base64 decoding of the hex key caused the error."},{"owner":{"account_id":22773201,"reputation":23,"user_id":16930280,"display_name":"Max"},"score":0,"creation_date":1700881757,"post_id":77543924,"comment_id":136709921,"body_markdown":"Yes I agree with you that Hex is subset of base64 and I have verified that token is authentic so what could be the possible error then?","body":"Yes I agree with you that Hex is subset of base64 and I have verified that token is authentic so what could be the possible error then?"}],"answers":[{"comments":[{"owner":{"account_id":9899349,"reputation":20524,"user_id":7329832,"display_name":"jps"},"score":0,"creation_date":1700856096,"post_id":77544667,"comment_id":136707922,"body_markdown":"See my comment above, under the question.","body":"See my comment above, under the question."},{"owner":{"account_id":22773201,"reputation":23,"user_id":16930280,"display_name":"Max"},"score":0,"creation_date":1700884142,"post_id":77544667,"comment_id":136709998,"body_markdown":"I tried decoding it in Hexa also but no benefit\n\nWhen I am printing token it is coming \nBearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJzZHA0NUBnbWFpbC5jb20iLCJpYXQiOjE3MDA4ODIzNjUsImV4cCI6MTcwMDg4MzgwNX0.LJFQo9r5dTYhW8v1cvrsToJc1yu0uMQcDGjiLAFCkUM","body":"I tried decoding it in Hexa also but no benefit  When I am printing token it is coming  Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJzZHA0NUBnbWFpbC5jb20iLCJpYXQ&zwnj;&#8203;iOjE3MDA4ODIzNjUsImV&zwnj;&#8203;4cCI6MTcwMDg4MzgwNX0&zwnj;&#8203;.LJFQo9r5dTYhW8v1cvr&zwnj;&#8203;sToJc1yu0uMQcDGjiLAF&zwnj;&#8203;CkUM"},{"owner":{"account_id":9899349,"reputation":20524,"user_id":7329832,"display_name":"jps"},"score":1,"creation_date":1700897217,"post_id":77544667,"comment_id":136710715,"body_markdown":"@Max that&#39;s probably the problem. You have to remove the word &#39;bearer&#39; and the whitespace before you decode the token.","body":"@Max that&#39;s probably the problem. You have to remove the word &#39;bearer&#39; and the whitespace before you decode the token."}],"tags":[],"owner":{"account_id":28181389,"reputation":45,"user_id":21538342,"display_name":"Patrick"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700845330,"creation_date":1700845330,"answer_id":77544667,"question_id":77543924,"body_markdown":"As Jon Skeet said, your jwtSigningKey is encoded in Hex and in getSigningKey() you&#39;re telling Java to decode it with Base64. \r\n\r\nEither have the key encoded with Base64 or decode with Hex.\r\n\r\nSee https://stackoverflow.com/a/140861/21538342","title":"Illegal base64url character: &#39; &#39; while extracting the information from JWT token","body":"<p>As Jon Skeet said, your jwtSigningKey is encoded in Hex and in getSigningKey() you're telling Java to decode it with Base64.</p>\n<p>Either have the key encoded with Base64 or decode with Hex.</p>\n<p>See <a href=\"https://stackoverflow.com/a/140861/21538342\">https://stackoverflow.com/a/140861/21538342</a></p>\n"}],"owner":{"account_id":22773201,"reputation":23,"user_id":16930280,"display_name":"Max"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700845330,"creation_date":1700836751,"question_id":77543924,"body_markdown":"When trying to decode the JWT Tokens to extract the information from the token getting the Error\r\nlike \r\n\r\nIllegal base64url character: &#39; &#39; \r\n\r\nThis is my service class, when trying to execute the claims there is no output and error is thrown\r\n\r\n\r\nI am trying to validate the user for that i have generated jwt token while loggin and when I am trying to use different services where user need to be verified I want to extract user information from JWT token and match it with database \r\n\r\n\r\n````\r\npackage com.example.RentCar.Services;\r\n\r\nimport java.security.Key;\r\nimport java.util.Date;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.function.Function;\r\n\r\nimport com.example.RentCar.DTOS.UserRequestDTO;\r\nimport com.example.RentCar.Models.User;\r\nimport com.example.RentCar.Repository.UserRepository;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.stereotype.Service;\r\n\r\n\r\nimport io.jsonwebtoken.Claims;\r\nimport io.jsonwebtoken.Jwts;\r\nimport io.jsonwebtoken.SignatureAlgorithm;\r\nimport io.jsonwebtoken.io.Decoders;\r\nimport io.jsonwebtoken.security.Keys;\r\n\r\n@Service\r\npublic class JwtServicesImpl implements JwtServices {\r\n    private UserRequestDTO userRequestDTO;\r\n    //private final UserRepository userRepository;\r\n   // @Value(&quot;${token.signing.key}&quot;)\r\n    private String jwtSigningKey = &quot;413F4428472B4B6250655368566D5970337336763979244226452948404D6351&quot;;\r\n\r\n\r\n    @Override\r\n    public String extractUserName(String token) {\r\n        return extractClaim(token, Claims::getSubject);\r\n    }\r\n    @Override\r\n    public String generateToken(User user) {\r\n        return generateToken(new HashMap&lt;&gt;(), user);\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public boolean isTokenValid(String token, UserServicesImpl userServices) {\r\n        final String email = extractUserName(token);\r\n        UserDetails user = (userServices.loadUserByUsername(email));\r\n        String email2 = user.getUsername();\r\n        return (email.equals(email2) &amp;&amp; !isTokenExpired(token));\r\n    }\r\n    private &lt;T&gt; T extractClaim(String token, Function&lt;Claims, T&gt; claimsResolvers) {\r\n        final Claims claims = extractAllClaims(token);\r\n        System.out.println(claims); //not printing\r\n        return claimsResolvers.apply(claims);\r\n    }\r\n\r\n    private String generateToken(Map&lt;String, Object&gt; extraClaims, User user) {\r\n\r\n        return Jwts.builder().setClaims(extraClaims).setSubject(user.getUserEmail())\r\n                .setIssuedAt(new Date(System.currentTimeMillis()))\r\n                .setExpiration(new Date(System.currentTimeMillis() + 1000 * 60 * 24))\r\n                .signWith(getSigningKey(), SignatureAlgorithm.HS256).compact();\r\n    }\r\n    private boolean isTokenExpired(String token) {\r\n        return extractExpiration(token).before(new Date());\r\n    }\r\n\r\n    private Date extractExpiration(String token) {\r\n        return extractClaim(token, Claims::getExpiration);\r\n    }\r\n\r\n    private Claims extractAllClaims(String token) {\r\n        return Jwts.parserBuilder().setSigningKey(getSigningKey()).build().parseClaimsJws(token)\r\n                .getBody();\r\n    }\r\n\r\n    private Key getSigningKey() {\r\n       // System.out.println(jwtSigningKey);\r\n        byte[] keyBytes = Decoders.BASE64.decode(jwtSigningKey);\r\n        return Keys.hmacShaKeyFor(keyBytes);\r\n    }\r\n}\r\n```\r\nbelow is the error\r\n\r\nio.jsonwebtoken.io.DecodingException: Illegal base64url character: &#39; &#39;\r\n\tat io.jsonwebtoken.io.Base64.ctoi(Base64.java:221)\r\n\tat io.jsonwebtoken.io.Base64.decodeFast(Base64.java:270)\r\n\tat io.jsonwebtoken.io.Base64Decoder.decode(Base64Decoder.java:36)\r\n\tat io.jsonwebtoken.io.Base64Decoder.decode(Base64Decoder.java:23)\r\n\tat io.jsonwebtoken.io.ExceptionPropagatingDecoder.decode(ExceptionPropagatingDecoder.java:36)\r\n\tat io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:288)\r\n\tat io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)\r\n\tat io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)\r\n\tat io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)\r\n\tat com.example.RentCar.Services.JwtServicesImpl.extractAllClaims(JwtServicesImpl.java:76)\r\n\tat com.example.RentCar.Services.JwtServicesImpl.extractClaim(JwtServicesImpl.java:55)\r\n\tat com.example.RentCar.Services.JwtServicesImpl.extractUserName(JwtServicesImpl.java:34)\r\n\tat com.example.RentCar.Controllers.UserController.ModifyAddress(UserController.java:36)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\r\n\r\nExpecting should be like can claims or extract information from token\r\n\r\n","title":"Illegal base64url character: &#39; &#39; while extracting the information from JWT token","body":"<p>When trying to decode the JWT Tokens to extract the information from the token getting the Error\nlike</p>\n<p>Illegal base64url character: ' '</p>\n<p>This is my service class, when trying to execute the claims there is no output and error is thrown</p>\n<p>I am trying to validate the user for that i have generated jwt token while loggin and when I am trying to use different services where user need to be verified I want to extract user information from JWT token and match it with database</p>\n<pre><code>package com.example.RentCar.Services;\n\nimport java.security.Key;\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.function.Function;\n\nimport com.example.RentCar.DTOS.UserRequestDTO;\nimport com.example.RentCar.Models.User;\nimport com.example.RentCar.Repository.UserRepository;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.stereotype.Service;\n\n\nimport io.jsonwebtoken.Claims;\nimport io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.SignatureAlgorithm;\nimport io.jsonwebtoken.io.Decoders;\nimport io.jsonwebtoken.security.Keys;\n\n@Service\npublic class JwtServicesImpl implements JwtServices {\n    private UserRequestDTO userRequestDTO;\n    //private final UserRepository userRepository;\n   // @Value(&quot;${token.signing.key}&quot;)\n    private String jwtSigningKey = &quot;413F4428472B4B6250655368566D5970337336763979244226452948404D6351&quot;;\n\n\n    @Override\n    public String extractUserName(String token) {\n        return extractClaim(token, Claims::getSubject);\n    }\n    @Override\n    public String generateToken(User user) {\n        return generateToken(new HashMap&lt;&gt;(), user);\n    }\n\n\n\n    @Override\n    public boolean isTokenValid(String token, UserServicesImpl userServices) {\n        final String email = extractUserName(token);\n        UserDetails user = (userServices.loadUserByUsername(email));\n        String email2 = user.getUsername();\n        return (email.equals(email2) &amp;&amp; !isTokenExpired(token));\n    }\n    private &lt;T&gt; T extractClaim(String token, Function&lt;Claims, T&gt; claimsResolvers) {\n        final Claims claims = extractAllClaims(token);\n        System.out.println(claims); //not printing\n        return claimsResolvers.apply(claims);\n    }\n\n    private String generateToken(Map&lt;String, Object&gt; extraClaims, User user) {\n\n        return Jwts.builder().setClaims(extraClaims).setSubject(user.getUserEmail())\n                .setIssuedAt(new Date(System.currentTimeMillis()))\n                .setExpiration(new Date(System.currentTimeMillis() + 1000 * 60 * 24))\n                .signWith(getSigningKey(), SignatureAlgorithm.HS256).compact();\n    }\n    private boolean isTokenExpired(String token) {\n        return extractExpiration(token).before(new Date());\n    }\n\n    private Date extractExpiration(String token) {\n        return extractClaim(token, Claims::getExpiration);\n    }\n\n    private Claims extractAllClaims(String token) {\n        return Jwts.parserBuilder().setSigningKey(getSigningKey()).build().parseClaimsJws(token)\n                .getBody();\n    }\n\n    private Key getSigningKey() {\n       // System.out.println(jwtSigningKey);\n        byte[] keyBytes = Decoders.BASE64.decode(jwtSigningKey);\n        return Keys.hmacShaKeyFor(keyBytes);\n    }\n}\n```\nbelow is the error\n\nio.jsonwebtoken.io.DecodingException: Illegal base64url character: ' '\n    at io.jsonwebtoken.io.Base64.ctoi(Base64.java:221)\n    at io.jsonwebtoken.io.Base64.decodeFast(Base64.java:270)\n    at io.jsonwebtoken.io.Base64Decoder.decode(Base64Decoder.java:36)\n    at io.jsonwebtoken.io.Base64Decoder.decode(Base64Decoder.java:23)\n    at io.jsonwebtoken.io.ExceptionPropagatingDecoder.decode(ExceptionPropagatingDecoder.java:36)\n    at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:288)\n    at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)\n    at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)\n    at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)\n    at com.example.RentCar.Services.JwtServicesImpl.extractAllClaims(JwtServicesImpl.java:76)\n    at com.example.RentCar.Services.JwtServicesImpl.extractClaim(JwtServicesImpl.java:55)\n    at com.example.RentCar.Services.JwtServicesImpl.extractUserName(JwtServicesImpl.java:34)\n    at com.example.RentCar.Controllers.UserController.ModifyAddress(UserController.java:36)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n\nExpecting should be like can claims or extract information from token\n\n</code></pre>\n"},{"tags":["java","android","in-app-billing","android-billing","play-billing-library"],"answers":[{"comments":[{"owner":{"account_id":10135184,"reputation":1731,"user_id":7487013,"display_name":"MrStahlfelge"},"score":0,"creation_date":1594120401,"post_id":62339629,"comment_id":111008677,"body_markdown":"Probably deleting Play Store&#39;s app date on the device would have helped too.","body":"Probably deleting Play Store&#39;s app date on the device would have helped too."}],"tags":[],"owner":{"account_id":11299660,"reputation":1493,"user_id":8286029,"accept_rate":0,"display_name":"Mathieu"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1591947160,"creation_date":1591947160,"answer_id":62339629,"question_id":62320895,"body_markdown":"It seems the only thing to do was to wait...  \r\nIt worked this morning.  \r\nCount 2 days for your inapp payments to be available on the app.","title":"Android Google Pay Billing - Response 4 : ITEM_UNAVAILABLE","body":"<p>It seems the only thing to do was to wait...<br>\nIt worked this morning.<br>\nCount 2 days for your inapp payments to be available on the app.</p>\n"},{"comments":[{"owner":{"account_id":23004535,"reputation":1381,"user_id":17128041,"display_name":"sidharth vijayakumar"},"score":1,"creation_date":1700917997,"post_id":77544664,"comment_id":136712283,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77544664/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":17875781,"reputation":19,"user_id":12985895,"display_name":"shangzixie"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700845210,"creation_date":1700845210,"answer_id":77544664,"question_id":62320895,"body_markdown":"After adding as a tester, don&#39;t forget to accept the invite. the invite URL is at the Google Play console setting test account page. I resolve it by that.","title":"Android Google Pay Billing - Response 4 : ITEM_UNAVAILABLE","body":"<p>After adding as a tester, don't forget to accept the invite. the invite URL is at the Google Play console setting test account page. I resolve it by that.</p>\n"}],"owner":{"account_id":11299660,"reputation":1493,"user_id":8286029,"accept_rate":0,"display_name":"Mathieu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4862,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":62339629,"answer_count":2,"score":6,"last_activity_date":1700845210,"creation_date":1591866612,"question_id":62320895,"body_markdown":"I am trying to integrate Google Play Billing.\r\n\r\nHere is my onCreate :\r\n\r\n    private final static String     TAG = &quot;MainActivity&quot; ;\r\n    private final static String     ITEM_SKU_SUBSCRIBE = &quot;sub_example&quot; ;\r\n    private final static String     PREF_FILE = &quot;shared_prefs&quot; ;\r\n    private final static String     SUBSCRIBE_KEY = &quot;subscribe&quot; ;\r\n\r\n    private BillingClient                   billingClient ;\r\n\r\n    private TextView                        premiumContent ;\r\n    private TextView                        subscriptionStatus ;\r\n    private Button                          purchaseButton;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        premiumContent = findViewById(R.id.premium_content) ;\r\n        subscriptionStatus = findViewById(R.id.subscription_status) ;\r\n        purchaseButton = findViewById(R.id.button) ;\r\n\r\n        billingClient = BillingClient.newBuilder(this)\r\n                .enablePendingPurchases()\r\n                .setListener(this)\r\n                .build() ;\r\n        billingClient.startConnection(new BillingClientStateListener() {\r\n            @Override\r\n            public void onBillingSetupFinished(BillingResult billingResult) {\r\n                Log.i(TAG, &quot;onBillingSetupFinished ; billing response code == &quot; + billingResult.getResponseCode());\r\n                if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\r\n                    Purchase.PurchasesResult queryPurchase = billingClient.queryPurchases(SUBS);\r\n                    List&lt;Purchase&gt; queryPurchases = queryPurchase.getPurchasesList();\r\n                    if (queryPurchases != null &amp;&amp; queryPurchases.size() &gt; 0) {\r\n                        handlePurchases(queryPurchases);\r\n                    } else {\r\n                        saveSubscribeValueToPref(false);\r\n                    }\r\n                } else {\r\n                    Log.e(TAG, &quot;ELSE : &quot; + billingResult.getDebugMessage()) ;\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onBillingServiceDisconnected() {\r\n                Toast.makeText(getApplicationContext(), &quot;Service disconnected&quot;,\r\n                        Toast.LENGTH_SHORT).show() ;\r\n            }\r\n        });\r\n\r\n        if (getSubscribeValueFromPref()) {\r\n            purchaseButton.setVisibility(View.GONE);\r\n            premiumContent.setVisibility(View.VISIBLE);\r\n            subscriptionStatus.setText(&quot;Subscription Status : Subscribed&quot;);\r\n        } else {\r\n            premiumContent.setVisibility(View.GONE);\r\n            purchaseButton.setVisibility(View.VISIBLE);\r\n            subscriptionStatus.setText(&quot;Subscription Status : Not Subscribed&quot;);\r\n        }\r\n\r\n        purchaseButton.setText(&quot;Load products&quot;);\r\n        purchaseButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                subscribe();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\nWhen I click on the `purchaseButton`, I call `subscribe` function.\r\n\r\nBasically it just call a function `initiatePurchase` if `billingClient.isReady()` returns `true`, and initialize `billingClient` in the other case.\r\n\r\nHere is my `initiatePurchase` function :\r\n\r\n\r\n    private void        initiatePurchase() {\r\n        List&lt;String&gt;                    skuList = new ArrayList&lt;&gt;() ;\r\n        SkuDetailsParams.Builder        params = SkuDetailsParams.newBuilder() ;\r\n\r\n        skuList.add(ITEM_SKU_SUBSCRIBE);\r\n        params.setSkusList(skuList).setType(SUBS);\r\n        BillingResult   billingResult = billingClient.isFeatureSupported(BillingClient.FeatureType.SUBSCRIPTIONS) ;\r\n        Log.i(TAG, &quot;Billing response code == &quot; + billingResult.getResponseCode()) ;\r\n        if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\r\n            Log.i(TAG, &quot;Billing response code is OK&quot;);\r\n            billingClient.querySkuDetailsAsync(params.build(),\r\n                    new SkuDetailsResponseListener() {\r\n                        @Override\r\n                        public void onSkuDetailsResponse(BillingResult billingResult, List&lt;SkuDetails&gt; skuDetailsList) {\r\n                            Log.i(TAG, &quot;onSkuDetailsResponse ; billing result response code == &quot; + billingResult.getResponseCode());\r\n                            if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\r\n                                Log.i(TAG, &quot;Billing response code OK&quot;) ;\r\n                                if (skuDetailsList != null) {\r\n                                    for (int i = 0 ; i &lt; skuDetailsList.size() ; i++) {\r\n                                        Log.i(TAG, &quot;Loop INDEX &quot; + i + &quot; ; SkuDetails == &quot; + skuDetailsList.get(i).getTitle()) ;\r\n                                    }\r\n                                }\r\n                                if (skuDetailsList != null &amp;&amp; skuDetailsList.size() &gt; 0) {\r\n                                    Log.i(TAG, &quot;skuDetailsList is not null or empty&quot;);\r\n                                    BillingFlowParams flowParams = BillingFlowParams.newBuilder()\r\n                                            .setSkuDetails(skuDetailsList.get(0))\r\n                                            .build();\r\n                                    Log.i(TAG, &quot;Flow Params = &quot; + flowParams.getAccountId() + &quot; | &quot; + flowParams.getSku());\r\n                                    BillingResult billingFlowResult = billingClient\r\n                                            .launchBillingFlow(MainActivity.this, flowParams);\r\n                                    Log.i(TAG, &quot;billingFlowResult == &quot; + billingFlowResult.getResponseCode() + &quot; | &quot; + billingFlowResult.getDebugMessage()) ;\r\n                                } else {\r\n                                    Toast.makeText(getApplicationContext(),\r\n                                            &quot;Item not found&quot;, Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            } else {\r\n                                Toast.makeText(getApplicationContext(),\r\n                                        &quot;Error - &quot; + billingResult.getDebugMessage(),\r\n                                        Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n                    });\r\n        } else {\r\n            Toast.makeText(getApplicationContext(),\r\n                    &quot;Sorry, subscription not supported. Please update Play Store&quot;,\r\n                    Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n\r\nIt seems to go to `onSkuDetailsResponse`, with a billing response code OK.\r\n\r\nI loop in the `skuDetailsList` and I get `sub_example`, which is my `ITEM_SKU_SUBSCRIBE` (and the one on my Play Store Console) ; so my `skuDetailsList` is not null or empty.\r\n\r\nBut then, here is my log output :\r\n\r\n```\r\nI/MainActivity: Billing response code == 0\r\n    Billing response code is OK\r\nI/MainActivity: onSkuDetailsResponse ; billing result response code == 0\r\n    Billing response code OK\r\n    Loop INDEX 0 ; SkuDetails == Monthly sub (Test Billing)\r\n    skuDetailsList is not null or empty\r\nI/MainActivity: Flow Params = null | sub_example\r\nI/MainActivity: billingFlowResult == 0 | null\r\nW/ActivityThread: handleWindowVisibility: no activity for token android.os.BinderProxy@cb159f0\r\n```\r\n\r\n[![Google Play error][1]][1]\r\n\r\n\r\nWhen I click on the &quot;OK&quot; button, interesting logs appears :\r\n\r\n```\r\nW/ProxyBillingActivity: Activity finished with resultCode 0 and billing&#39;s responseCode: 4\r\nW/BillingHelper: Couldn&#39;t find purchase lists, trying to find single data.\r\nW/BillingHelper: Received a bad purchase data.\r\n    Couldn&#39;t find single purchase data as well.\r\n```\r\n\r\nI looked up in `BillingClient.class` and I found `int ITEM_UNAVAILABLE = 4;` in the `interface BillingResponseCode`\r\n\r\n\r\n - I am compiling and launching this app in signed release configuration\r\n - An older version of the app is published in alpha on Google Play (but with the same version code and version name)\r\n - My google play account is in the testers list, it&#39;s a @gmail address I created today for this (my other google account was not with a @gmail address - well, did not work either)\r\n - I created this subscription yesterday on the Google Play Console\r\n - My app is published (not in reviewing) since yesterday in alpha.\r\n - I followed this tutorial : https://programtown.com/how-to-make-in-app-purchase-subscription-in-android-using-google-play-billing-library/\r\n\r\nThanks\r\n\r\n  [1]: https://i.stack.imgur.com/6P4BX.png","title":"Android Google Pay Billing - Response 4 : ITEM_UNAVAILABLE","body":"<p>I am trying to integrate Google Play Billing.</p>\n\n<p>Here is my onCreate :</p>\n\n<pre><code>private final static String     TAG = \"MainActivity\" ;\nprivate final static String     ITEM_SKU_SUBSCRIBE = \"sub_example\" ;\nprivate final static String     PREF_FILE = \"shared_prefs\" ;\nprivate final static String     SUBSCRIBE_KEY = \"subscribe\" ;\n\nprivate BillingClient                   billingClient ;\n\nprivate TextView                        premiumContent ;\nprivate TextView                        subscriptionStatus ;\nprivate Button                          purchaseButton;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    premiumContent = findViewById(R.id.premium_content) ;\n    subscriptionStatus = findViewById(R.id.subscription_status) ;\n    purchaseButton = findViewById(R.id.button) ;\n\n    billingClient = BillingClient.newBuilder(this)\n            .enablePendingPurchases()\n            .setListener(this)\n            .build() ;\n    billingClient.startConnection(new BillingClientStateListener() {\n        @Override\n        public void onBillingSetupFinished(BillingResult billingResult) {\n            Log.i(TAG, \"onBillingSetupFinished ; billing response code == \" + billingResult.getResponseCode());\n            if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\n                Purchase.PurchasesResult queryPurchase = billingClient.queryPurchases(SUBS);\n                List&lt;Purchase&gt; queryPurchases = queryPurchase.getPurchasesList();\n                if (queryPurchases != null &amp;&amp; queryPurchases.size() &gt; 0) {\n                    handlePurchases(queryPurchases);\n                } else {\n                    saveSubscribeValueToPref(false);\n                }\n            } else {\n                Log.e(TAG, \"ELSE : \" + billingResult.getDebugMessage()) ;\n            }\n        }\n\n        @Override\n        public void onBillingServiceDisconnected() {\n            Toast.makeText(getApplicationContext(), \"Service disconnected\",\n                    Toast.LENGTH_SHORT).show() ;\n        }\n    });\n\n    if (getSubscribeValueFromPref()) {\n        purchaseButton.setVisibility(View.GONE);\n        premiumContent.setVisibility(View.VISIBLE);\n        subscriptionStatus.setText(\"Subscription Status : Subscribed\");\n    } else {\n        premiumContent.setVisibility(View.GONE);\n        purchaseButton.setVisibility(View.VISIBLE);\n        subscriptionStatus.setText(\"Subscription Status : Not Subscribed\");\n    }\n\n    purchaseButton.setText(\"Load products\");\n    purchaseButton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            subscribe();\n        }\n    });\n}\n</code></pre>\n\n<p>When I click on the <code>purchaseButton</code>, I call <code>subscribe</code> function.</p>\n\n<p>Basically it just call a function <code>initiatePurchase</code> if <code>billingClient.isReady()</code> returns <code>true</code>, and initialize <code>billingClient</code> in the other case.</p>\n\n<p>Here is my <code>initiatePurchase</code> function :</p>\n\n<pre><code>private void        initiatePurchase() {\n    List&lt;String&gt;                    skuList = new ArrayList&lt;&gt;() ;\n    SkuDetailsParams.Builder        params = SkuDetailsParams.newBuilder() ;\n\n    skuList.add(ITEM_SKU_SUBSCRIBE);\n    params.setSkusList(skuList).setType(SUBS);\n    BillingResult   billingResult = billingClient.isFeatureSupported(BillingClient.FeatureType.SUBSCRIPTIONS) ;\n    Log.i(TAG, \"Billing response code == \" + billingResult.getResponseCode()) ;\n    if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\n        Log.i(TAG, \"Billing response code is OK\");\n        billingClient.querySkuDetailsAsync(params.build(),\n                new SkuDetailsResponseListener() {\n                    @Override\n                    public void onSkuDetailsResponse(BillingResult billingResult, List&lt;SkuDetails&gt; skuDetailsList) {\n                        Log.i(TAG, \"onSkuDetailsResponse ; billing result response code == \" + billingResult.getResponseCode());\n                        if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\n                            Log.i(TAG, \"Billing response code OK\") ;\n                            if (skuDetailsList != null) {\n                                for (int i = 0 ; i &lt; skuDetailsList.size() ; i++) {\n                                    Log.i(TAG, \"Loop INDEX \" + i + \" ; SkuDetails == \" + skuDetailsList.get(i).getTitle()) ;\n                                }\n                            }\n                            if (skuDetailsList != null &amp;&amp; skuDetailsList.size() &gt; 0) {\n                                Log.i(TAG, \"skuDetailsList is not null or empty\");\n                                BillingFlowParams flowParams = BillingFlowParams.newBuilder()\n                                        .setSkuDetails(skuDetailsList.get(0))\n                                        .build();\n                                Log.i(TAG, \"Flow Params = \" + flowParams.getAccountId() + \" | \" + flowParams.getSku());\n                                BillingResult billingFlowResult = billingClient\n                                        .launchBillingFlow(MainActivity.this, flowParams);\n                                Log.i(TAG, \"billingFlowResult == \" + billingFlowResult.getResponseCode() + \" | \" + billingFlowResult.getDebugMessage()) ;\n                            } else {\n                                Toast.makeText(getApplicationContext(),\n                                        \"Item not found\", Toast.LENGTH_SHORT).show();\n                            }\n                        } else {\n                            Toast.makeText(getApplicationContext(),\n                                    \"Error - \" + billingResult.getDebugMessage(),\n                                    Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                });\n    } else {\n        Toast.makeText(getApplicationContext(),\n                \"Sorry, subscription not supported. Please update Play Store\",\n                Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n\n<p>It seems to go to <code>onSkuDetailsResponse</code>, with a billing response code OK.</p>\n\n<p>I loop in the <code>skuDetailsList</code> and I get <code>sub_example</code>, which is my <code>ITEM_SKU_SUBSCRIBE</code> (and the one on my Play Store Console) ; so my <code>skuDetailsList</code> is not null or empty.</p>\n\n<p>But then, here is my log output :</p>\n\n<pre><code>I/MainActivity: Billing response code == 0\n    Billing response code is OK\nI/MainActivity: onSkuDetailsResponse ; billing result response code == 0\n    Billing response code OK\n    Loop INDEX 0 ; SkuDetails == Monthly sub (Test Billing)\n    skuDetailsList is not null or empty\nI/MainActivity: Flow Params = null | sub_example\nI/MainActivity: billingFlowResult == 0 | null\nW/ActivityThread: handleWindowVisibility: no activity for token android.os.BinderProxy@cb159f0\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/6P4BX.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6P4BX.png\" alt=\"Google Play error\"></a></p>\n\n<p>When I click on the \"OK\" button, interesting logs appears :</p>\n\n<pre><code>W/ProxyBillingActivity: Activity finished with resultCode 0 and billing's responseCode: 4\nW/BillingHelper: Couldn't find purchase lists, trying to find single data.\nW/BillingHelper: Received a bad purchase data.\n    Couldn't find single purchase data as well.\n</code></pre>\n\n<p>I looked up in <code>BillingClient.class</code> and I found <code>int ITEM_UNAVAILABLE = 4;</code> in the <code>interface BillingResponseCode</code></p>\n\n<ul>\n<li>I am compiling and launching this app in signed release configuration</li>\n<li>An older version of the app is published in alpha on Google Play (but with the same version code and version name)</li>\n<li>My google play account is in the testers list, it's a @gmail address I created today for this (my other google account was not with a @gmail address - well, did not work either)</li>\n<li>I created this subscription yesterday on the Google Play Console</li>\n<li>My app is published (not in reviewing) since yesterday in alpha.</li>\n<li>I followed this tutorial : <a href=\"https://programtown.com/how-to-make-in-app-purchase-subscription-in-android-using-google-play-billing-library/\" rel=\"noreferrer\">https://programtown.com/how-to-make-in-app-purchase-subscription-in-android-using-google-play-billing-library/</a></li>\n</ul>\n\n<p>Thanks</p>\n"},{"tags":["java","eclipse","macos","jar"],"comments":[{"owner":{"account_id":4611112,"reputation":793,"user_id":3739215,"accept_rate":64,"display_name":"spoko"},"score":5,"creation_date":1407617049,"post_id":25222811,"comment_id":39287115,"body_markdown":"Try running this using Java 7.","body":"Try running this using Java 7."},{"owner":{"account_id":3415784,"reputation":60457,"user_id":2864740,"accept_rate":78,"display_name":"user2864740"},"score":2,"creation_date":1407617082,"post_id":25222811,"comment_id":39287124,"body_markdown":"Check these for relevancy: http://stackoverflow.com/questions/860187/access-restriction-on-class-due-to-restriction-on-required-library-rt-jar?rq=1 , http://stackoverflow.com/questions/9266632/access-restriction-is-not-accessible-due-to-restriction-on-required-library?rq=1","body":"Check these for relevancy: <a href=\"http://stackoverflow.com/questions/860187/access-restriction-on-class-due-to-restriction-on-required-library-rt-jar?rq=1\" title=\"access restriction on class due to restriction on required library rt jar\">stackoverflow.com/questions/860187/&hellip;</a> , <a href=\"http://stackoverflow.com/questions/9266632/access-restriction-is-not-accessible-due-to-restriction-on-required-library?rq=1\" title=\"access restriction is not accessible due to restriction on required library\">stackoverflow.com/questions/9266632/&hellip;</a>"},{"owner":{"account_id":4867489,"reputation":2121,"user_id":3925208,"accept_rate":75,"display_name":"www139"},"score":0,"creation_date":1407617905,"post_id":25222811,"comment_id":39287301,"body_markdown":"Not using Xcode (yet)","body":"Not using Xcode (yet)"},{"owner":{"account_id":4867489,"reputation":2121,"user_id":3925208,"accept_rate":75,"display_name":"www139"},"score":0,"creation_date":1407618105,"post_id":25222811,"comment_id":39287354,"body_markdown":"I&#39;m not to familiar to java the guy doesn&#39;t give an exact path. What does he mean by: com/sun/xml/internal/**","body":"I&#39;m not to familiar to java the guy doesn&#39;t give an exact path. What does he mean by: com/sun/xml/internal/**"},{"owner":{"account_id":4867489,"reputation":2121,"user_id":3925208,"accept_rate":75,"display_name":"www139"},"score":1,"creation_date":1407618245,"post_id":25222811,"comment_id":39287399,"body_markdown":"Could you interpret what path he&#39;s talking about? Thank you! In the future I will switch to either xCode or netbeans. The guy above said to try java 7 should I?","body":"Could you interpret what path he&#39;s talking about? Thank you! In the future I will switch to either xCode or netbeans. The guy above said to try java 7 should I?"},{"owner":{"account_id":4509545,"reputation":574,"user_id":3666056,"accept_rate":62,"display_name":"jordaniac89"},"score":0,"creation_date":1414762947,"post_id":25222811,"comment_id":41951346,"body_markdown":"Are you building this in maven? the file path typically references the path in your local maven repository where the jar is kept.","body":"Are you building this in maven? the file path typically references the path in your local maven repository where the jar is kept."},{"owner":{"account_id":21180,"reputation":9893,"user_id":51292,"accept_rate":59,"display_name":"Ray Tayek"},"score":0,"creation_date":1429590612,"post_id":25222811,"comment_id":47657513,"body_markdown":"i had a similar problem when i imported a java 1.8  luna project into mars. made a new project in mars and copied src/ in. all the red goes away.","body":"i had a similar problem when i imported a java 1.8  luna project into mars. made a new project in mars and copied src/ in. all the red goes away."},{"owner":{"account_id":5846606,"reputation":313,"user_id":7009806,"display_name":"Olivier"},"score":0,"creation_date":1582797064,"post_id":25222811,"comment_id":106903602,"body_markdown":"The &quot;access restriction&quot; error may also happen in Bonita Studio. This is most probably due to a missing dependency for the project (Menu Development -&gt; Manage dependencies -&gt; import...).","body":"The &quot;access restriction&quot; error may also happen in Bonita Studio. This is most probably due to a missing dependency for the project (Menu Development -&gt; Manage dependencies -&gt; import...)."}],"answers":[{"tags":[],"owner":{"account_id":2163436,"reputation":1923,"user_id":1933494,"display_name":"J. Katzwinkel"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1414762681,"creation_date":1414762681,"answer_id":26676046,"question_id":25222811,"body_markdown":"To begin with (*and unrelated*), instantiating the `Application` class by yourself does not seem to be its intended use. From what one can read from its [source][1], you are rather expected to use the static instance returned by `getApplication()`.\r\n\r\nNow let&#39;s get to the error Eclipse reports. I&#39;ve ran into a similar issue recently: `Access restriction: The method ... is not API (restriction on required project)`. I called the method in question as a method of an object which inherited that method from a super class. All I had to do was to add the package the super class was in to the packages imported by my plugin.\r\n\r\nHowever, there is a lot of different causes for errors based on *&quot;restriction on required project/library*&quot;. Similar to the problem described above, the type you are using might have dependencies to packages that are not exported by the library or might not be exported itself. In that case you can try to track down the missing packages and export them my yourself, as suggested [here][2], or try Access Rules. Other possible scenarios include:\r\n\r\n * Eclipse wants to keep you from using available packages that are not part of the public Java API (solution [1][3], [2][4])\r\n * Dependencies are satisfied by multiple sources, versions are conflicting etc. (solution [1][5], [2][6], [3][7])\r\n * Eclipse is using a JRE where a JDK is necessary (which might be the case here, from what your errors say; [solution][8]) or JRE/JDK version in project build path is not the right one \r\n\r\nThis ended up as more like a medley of restriction-related issues than an actual answer. But since *restriction on required projects* is such a versatile error to be reported, the perfect recipe is probably still to be found.\r\n\r\n\r\n  [1]: http://cr.openjdk.java.net/~michaelm/7113349/7u4/2/jdk7u-osx/new/src/macosx/classes/com/apple/eawt/Application.java.html\r\n  [2]: https://stackoverflow.com/a/22475570/1933494\r\n  [3]: https://stackoverflow.com/a/10642163/1933494\r\n  [4]: https://stackoverflow.com/a/14646810/1933494\r\n  [5]: https://stackoverflow.com/a/2174607/1933494\r\n  [6]: https://stackoverflow.com/a/1090024/1933494\r\n  [7]: https://stackoverflow.com/a/15746118/1933494\r\n  [8]: https://stackoverflow.com/a/20197999/1933494","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p>To begin with (<em>and unrelated</em>), instantiating the <code>Application</code> class by yourself does not seem to be its intended use. From what one can read from its <a href=\"http://cr.openjdk.java.net/~michaelm/7113349/7u4/2/jdk7u-osx/new/src/macosx/classes/com/apple/eawt/Application.java.html\" rel=\"noreferrer\">source</a>, you are rather expected to use the static instance returned by <code>getApplication()</code>.</p>\n\n<p>Now let's get to the error Eclipse reports. I've ran into a similar issue recently: <code>Access restriction: The method ... is not API (restriction on required project)</code>. I called the method in question as a method of an object which inherited that method from a super class. All I had to do was to add the package the super class was in to the packages imported by my plugin.</p>\n\n<p>However, there is a lot of different causes for errors based on <em>\"restriction on required project/library</em>\". Similar to the problem described above, the type you are using might have dependencies to packages that are not exported by the library or might not be exported itself. In that case you can try to track down the missing packages and export them my yourself, as suggested <a href=\"https://stackoverflow.com/a/22475570/1933494\">here</a>, or try Access Rules. Other possible scenarios include:</p>\n\n<ul>\n<li>Eclipse wants to keep you from using available packages that are not part of the public Java API (solution <a href=\"https://stackoverflow.com/a/10642163/1933494\">1</a>, <a href=\"https://stackoverflow.com/a/14646810/1933494\">2</a>)</li>\n<li>Dependencies are satisfied by multiple sources, versions are conflicting etc. (solution <a href=\"https://stackoverflow.com/a/2174607/1933494\">1</a>, <a href=\"https://stackoverflow.com/a/1090024/1933494\">2</a>, <a href=\"https://stackoverflow.com/a/15746118/1933494\">3</a>)</li>\n<li>Eclipse is using a JRE where a JDK is necessary (which might be the case here, from what your errors say; <a href=\"https://stackoverflow.com/a/20197999/1933494\">solution</a>) or JRE/JDK version in project build path is not the right one </li>\n</ul>\n\n<p>This ended up as more like a medley of restriction-related issues than an actual answer. But since <em>restriction on required projects</em> is such a versatile error to be reported, the perfect recipe is probably still to be found.</p>\n"},{"comments":[{"owner":{"account_id":1047596,"reputation":9325,"user_id":1052284,"accept_rate":44,"display_name":"Mark Jeronimus"},"score":2,"creation_date":1437306821,"post_id":28331980,"comment_id":50964801,"body_markdown":"I&#39;d preferred a global fix, but it&#39;s better than all the other answers that enable restricted API globally. (I don&#39;t want to accidentally use sun.* in my javafx application).","body":"I&#39;d preferred a global fix, but it&#39;s better than all the other answers that enable restricted API globally. (I don&#39;t want to accidentally use sun.* in my javafx application)."},{"owner":{"account_id":3092066,"reputation":1089,"user_id":2617995,"display_name":"Goran Vasic"},"score":2,"creation_date":1455738586,"post_id":28331980,"comment_id":58628326,"body_markdown":"Thanks, this cleared all warnings in my project. Eclipse was complaining about all classes that were provided by JavaFX (jfxrt.jar)","body":"Thanks, this cleared all warnings in my project. Eclipse was complaining about all classes that were provided by JavaFX (jfxrt.jar)"},{"owner":{"account_id":2274686,"reputation":655,"user_id":2001284,"accept_rate":94,"display_name":"elder elder"},"score":3,"creation_date":1460552902,"post_id":28331980,"comment_id":60795747,"body_markdown":"Confirmed...I changed JRE 8 u60 with...JRE 8 u60. Apparently, this rebuild being triggered, as opposed to any other way to do so, has the side-effect of fixing the issue. (For a more detailed explanation on how to change this setting, see Nikhil Mahajan&#39;s answer here: http://stackoverflow.com/questions/6881622/point-eclipse-ide-to-use-another-jre-jdk-other-than-one-specified-in-java-home .)","body":"Confirmed...I changed JRE 8 u60 with...JRE 8 u60. Apparently, this rebuild being triggered, as opposed to any other way to do so, has the side-effect of fixing the issue. (For a more detailed explanation on how to change this setting, see Nikhil Mahajan&#39;s answer here: <a href=\"http://stackoverflow.com/questions/6881622/point-eclipse-ide-to-use-another-jre-jdk-other-than-one-specified-in-java-home\" title=\"point eclipse ide to use another jre jdk other than one specified in java home\">stackoverflow.com/questions/6881622/&hellip;</a> .)"},{"owner":{"account_id":1686762,"reputation":871,"user_id":1549883,"display_name":"Martin Pabst"},"score":0,"creation_date":1468161088,"post_id":28331980,"comment_id":64003021,"body_markdown":"Thank you! With this strategy i was able to sucessfully compile the spark java framework.","body":"Thank you! With this strategy i was able to sucessfully compile the spark java framework."},{"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":1,"creation_date":1487286613,"post_id":28331980,"comment_id":71729458,"body_markdown":"Strangely this worked. I only have one JDK installed. How weird.","body":"Strangely this worked. I only have one JDK installed. How weird."},{"owner":{"account_id":992046,"reputation":2793,"user_id":1009046,"accept_rate":54,"display_name":"codenamezero"},"score":1,"creation_date":1505829616,"post_id":28331980,"comment_id":79567367,"body_markdown":"Anyone know how to apply this automatically in Gradle? Whenever I do a Gradle &gt; Refresh, it just override it back to the `Java 1.8`.","body":"Anyone know how to apply this automatically in Gradle? Whenever I do a Gradle &gt; Refresh, it just override it back to the <code>Java 1.8</code>."}],"tags":[],"owner":{"account_id":1176036,"reputation":2433,"user_id":1324406,"accept_rate":62,"display_name":"Amber"},"comment_count":6,"down_vote_count":0,"up_vote_count":98,"is_accepted":false,"score":98,"last_activity_date":1700845049,"creation_date":1423085970,"answer_id":28331980,"question_id":25222811,"body_markdown":"I was having the same problem.  When I initially created the java project in Eclipse I specified JRE 8.  When I went into the project&#39;s build path and edited the JRE System Library, the Java 8 execution environment was selected.  When I chose to use an &quot;Alternate JRE&quot; (still java 8) it fixed the error for me.","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p>I was having the same problem.  When I initially created the java project in Eclipse I specified JRE 8.  When I went into the project's build path and edited the JRE System Library, the Java 8 execution environment was selected.  When I chose to use an &quot;Alternate JRE&quot; (still java 8) it fixed the error for me.</p>\n"},{"comments":[{"owner":{"account_id":1491953,"reputation":530,"user_id":1398851,"display_name":"Jonathan Ross"},"score":34,"creation_date":1448469546,"post_id":29329228,"comment_id":55604713,"body_markdown":"I have Eclipse Mars (4.5.0) and there are no access rules in Java Build Path -&gt; Libraries.  FWIW there&#39;s a bigger hammer (you can turn them all off) in Preferences -&gt; Java -&gt; Compiler -&gt; Errors / Warnings -&gt; Deprecated and Restricted API.","body":"I have Eclipse Mars (4.5.0) and there are no access rules in Java Build Path -&gt; Libraries.  FWIW there&#39;s a bigger hammer (you can turn them all off) in Preferences -&gt; Java -&gt; Compiler -&gt; Errors / Warnings -&gt; Deprecated and Restricted API."},{"owner":{"account_id":5953361,"reputation":1150,"user_id":4776647,"display_name":"Laszlo Hirdi"},"score":4,"creation_date":1452702509,"post_id":29329228,"comment_id":57288729,"body_markdown":"I have Eclipse Mars.1 Release (4.5.1). For me both solution worked. The answer from Christian and the comment from Jonathan. In the tab Libraries you have to open the one among the listed &quot;JARs and class folders&quot; to see the &quot;Access rules&quot; belongs to it.","body":"I have Eclipse Mars.1 Release (4.5.1). For me both solution worked. The answer from Christian and the comment from Jonathan. In the tab Libraries you have to open the one among the listed &quot;JARs and class folders&quot; to see the &quot;Access rules&quot; belongs to it."},{"owner":{"account_id":428764,"reputation":4721,"user_id":811299,"accept_rate":47,"display_name":"Steve Cohen"},"score":1,"creation_date":1453999002,"post_id":29329228,"comment_id":57857145,"body_markdown":"This does NOT work for me.  Eclipse Luna.  Tried JDK 1.8, 1.7, added access rules, clean project, the errors keep coming back.  Also tried suggestion of @JonathanRoss - access rules for forbidden and discouraged references are ALREADY set to Warning, but I get errors.","body":"This does NOT work for me.  Eclipse Luna.  Tried JDK 1.8, 1.7, added access rules, clean project, the errors keep coming back.  Also tried suggestion of @JonathanRoss - access rules for forbidden and discouraged references are ALREADY set to Warning, but I get errors."},{"owner":{"account_id":428764,"reputation":4721,"user_id":811299,"accept_rate":47,"display_name":"Steve Cohen"},"score":3,"creation_date":1453999487,"post_id":29329228,"comment_id":57857519,"body_markdown":"This does NOT work for me.  Eclipse Luna.  Tried JDK 1.8, 1.7, added access rules, clean project, the errors keep coming back.  Also tried suggestion of @JonathanRoss - first at Project Level.  There, although Project-level configs for Forbidden/Discouraged APIs were set to Warning, I still got errors.  I then tried (as Jonathan suggested) going through preferences for workspace level settings, and THERE, Forbidden APIs were set to Error.  Changing to warning there did make problem go away, but project level setting should have overridden, think that is a bug in Eclipse.","body":"This does NOT work for me.  Eclipse Luna.  Tried JDK 1.8, 1.7, added access rules, clean project, the errors keep coming back.  Also tried suggestion of @JonathanRoss - first at Project Level.  There, although Project-level configs for Forbidden/Discouraged APIs were set to Warning, I still got errors.  I then tried (as Jonathan suggested) going through preferences for workspace level settings, and THERE, Forbidden APIs were set to Error.  Changing to warning there did make problem go away, but project level setting should have overridden, think that is a bug in Eclipse."},{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":2,"creation_date":1467723868,"post_id":29329228,"comment_id":63832336,"body_markdown":"I wasn&#39;t allowed to modify access restriction in my case: Eclipse Neon with a maven jar project on jar &quot;jfxrt.jar&quot;.","body":"I wasn&#39;t allowed to modify access restriction in my case: Eclipse Neon with a maven jar project on jar &quot;jfxrt.jar&quot;."},{"owner":{"account_id":5881189,"reputation":2046,"user_id":4630491,"accept_rate":69,"display_name":"Max"},"score":0,"creation_date":1494600463,"post_id":29329228,"comment_id":74913424,"body_markdown":"What is the nonpublic API? I mean I would think all APIs would be public. I searched google for &quot;private API&quot; but not sure what I found is the same thing.","body":"What is the nonpublic API? I mean I would think all APIs would be public. I searched google for &quot;private API&quot; but not sure what I found is the same thing."},{"owner":{"account_id":4355473,"reputation":17255,"user_id":3554264,"accept_rate":62,"display_name":"Christian Hujer"},"score":0,"creation_date":1494636944,"post_id":29329228,"comment_id":74929085,"body_markdown":"@Max thanks for asking that question. The term non-public API is rubbish, I&#39;ve updated it to public Non-API. I hope that clarifies. If not, just ask again.","body":"@Max thanks for asking that question. The term non-public API is rubbish, I&#39;ve updated it to public Non-API. I hope that clarifies. If not, just ask again."},{"owner":{"account_id":78259,"reputation":1816,"user_id":222838,"accept_rate":75,"display_name":"mico"},"score":3,"creation_date":1510673252,"post_id":29329228,"comment_id":81529347,"body_markdown":"There is a much simpler alternative: removing and adding back the JRE System Library, as pointed out in https://stackoverflow.com/a/2174607/222838","body":"There is a much simpler alternative: removing and adding back the JRE System Library, as pointed out in <a href=\"https://stackoverflow.com/a/2174607/222838\">stackoverflow.com/a/2174607/222838</a>"},{"owner":{"account_id":4355473,"reputation":17255,"user_id":3554264,"accept_rate":62,"display_name":"Christian Hujer"},"score":1,"creation_date":1514791216,"post_id":29329228,"comment_id":83067223,"body_markdown":"@mico That solution only works if the class in question is part of `rt.jar`. If the access restriction happened on a different jar on the classpath, removing and adding back `rt.jar` will not solve the issue. Also, adding back `rt.jar` will grant access to _all_ packages from `rt.jar`, which is usually _not_ what you want Eclipse to do. It would make you lose the warning about accessing `public` Non-API.","body":"@mico That solution only works if the class in question is part of <code>rt.jar</code>. If the access restriction happened on a different jar on the classpath, removing and adding back <code>rt.jar</code> will not solve the issue. Also, adding back <code>rt.jar</code> will grant access to <i>all</i> packages from <code>rt.jar</code>, which is usually <i>not</i> what you want Eclipse to do. It would make you lose the warning about accessing <code>public</code> Non-API."}],"tags":[],"owner":{"account_id":4355473,"reputation":17255,"user_id":3554264,"accept_rate":62,"display_name":"Christian Hujer"},"comment_count":9,"down_vote_count":1,"up_vote_count":315,"is_accepted":false,"score":314,"last_activity_date":1523355774,"creation_date":1427632920,"answer_id":29329228,"question_id":25222811,"body_markdown":"This happened to me as well, and the answers given here already were not satisfying, so I did my own research.\r\n\r\n# Background: Eclipse *access restrictions*\r\nEclipse has a mechanism called *access restrictions* to prevent you from accidentally using classes which Eclipse thinks are not part of the public API. Usually, Eclipse is right about that, in both senses: We usually do not want to use something which is not part of the public API. And Eclipse is usually right about what is and what isn&#39;t part of the public API.\r\n\r\n# Problem\r\nNow, there can be situations, where you want to use public Non-API, like `sun.misc` (you shouldn&#39;t, unless you know what you&#39;re doing). And there can be situations, where Eclipse is not really right (that&#39;s what happened to me, I just wanted to use `javax.smartcardio`). In that case, we get this error in Eclipse.\r\n\r\n# Solution\r\nThe solution is to change the access restrictions. \r\n\r\n - Go to the properties of your Java project,   \r\n  - i.e. by selecting &quot;Properties&quot; from the context menu of the project in the &quot;Package Explorer&quot;. \r\n - Go to &quot;Java Build Path&quot;, tab &quot;Libraries&quot;. \r\n - Expand the library entry\r\n - select \r\n  - &quot;Access rules&quot;, \r\n  - &quot;Edit...&quot; and \r\n  - &quot;Add...&quot; a &quot;Resolution: Accessible&quot; with a corresponding rule pattern. \r\nFor me that was &quot;`javax/smartcardio/**`&quot;, for you it might instead be &quot;`com/apple/eawt/**`&quot;.","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p>This happened to me as well, and the answers given here already were not satisfying, so I did my own research.</p>\n\n<h1>Background: Eclipse <em>access restrictions</em></h1>\n\n<p>Eclipse has a mechanism called <em>access restrictions</em> to prevent you from accidentally using classes which Eclipse thinks are not part of the public API. Usually, Eclipse is right about that, in both senses: We usually do not want to use something which is not part of the public API. And Eclipse is usually right about what is and what isn't part of the public API.</p>\n\n<h1>Problem</h1>\n\n<p>Now, there can be situations, where you want to use public Non-API, like <code>sun.misc</code> (you shouldn't, unless you know what you're doing). And there can be situations, where Eclipse is not really right (that's what happened to me, I just wanted to use <code>javax.smartcardio</code>). In that case, we get this error in Eclipse.</p>\n\n<h1>Solution</h1>\n\n<p>The solution is to change the access restrictions. </p>\n\n<ul>\n<li>Go to the properties of your Java project,   \n\n<ul>\n<li>i.e. by selecting \"Properties\" from the context menu of the project in the \"Package Explorer\". </li>\n</ul></li>\n<li>Go to \"Java Build Path\", tab \"Libraries\". </li>\n<li>Expand the library entry</li>\n<li>select \n\n<ul>\n<li>\"Access rules\", </li>\n<li>\"Edit...\" and </li>\n<li>\"Add...\" a \"Resolution: Accessible\" with a corresponding rule pattern. \nFor me that was \"<code>javax/smartcardio/**</code>\", for you it might instead be \"<code>com/apple/eawt/**</code>\".</li>\n</ul></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6117066,"reputation":181,"user_id":4771733,"display_name":"Kiriya Keat"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1428629338,"creation_date":1428629338,"answer_id":29551851,"question_id":25222811,"body_markdown":"I had this problem because the project facet associated with my project was the wrong java version.\r\n\r\nTo fix this is I did the following:\r\n\r\n1. Right click on the project and select Properties\r\n2. Select &#39;Project Facets&#39; and change version of java to something greater than 1.4.\r\n3. Click [Apply] \r\n\r\nThis will rebuild your project and hopefully the error will be resolved.","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p>I had this problem because the project facet associated with my project was the wrong java version.</p>\n\n<p>To fix this is I did the following:</p>\n\n<ol>\n<li>Right click on the project and select Properties</li>\n<li>Select 'Project Facets' and change version of java to something greater than 1.4.</li>\n<li>Click [Apply] </li>\n</ol>\n\n<p>This will rebuild your project and hopefully the error will be resolved.</p>\n"},{"tags":[],"owner":{"account_id":4389626,"reputation":749,"user_id":3578493,"display_name":"Vee"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1433854303,"creation_date":1433854303,"answer_id":30732564,"question_id":25222811,"body_markdown":"**If you&#39;re having this same issue using Spring Tool Suite:**\r\n\r\nThe Spring Tool Suite&#39;s underlying IDE is, in fact, Eclipse. I&#39;ve gotten this error just now trying to use some `com.sun.net` classes. To remove these errors and prevent them from popping up in the Eclipse Luna SR1 (4.4.2) platform of STS: \r\n\r\n- Navigate to Project &gt; Properties  \r\n- Expand the Java Compiler heading\r\n- Click on Errors/Warnings \r\n- Expand deprecated and restricted API\r\n- Next to &quot;Forbidden reference (access rules)&quot; select &quot;ignore&quot; \r\n- Next to &quot;Discouraged reference (access rules)&quot; select &quot;ignore&quot; \r\n\r\nYou&#39;re good to go.","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p><strong>If you're having this same issue using Spring Tool Suite:</strong></p>\n\n<p>The Spring Tool Suite's underlying IDE is, in fact, Eclipse. I've gotten this error just now trying to use some <code>com.sun.net</code> classes. To remove these errors and prevent them from popping up in the Eclipse Luna SR1 (4.4.2) platform of STS: </p>\n\n<ul>\n<li>Navigate to Project > Properties  </li>\n<li>Expand the Java Compiler heading</li>\n<li>Click on Errors/Warnings </li>\n<li>Expand deprecated and restricted API</li>\n<li>Next to \"Forbidden reference (access rules)\" select \"ignore\" </li>\n<li>Next to \"Discouraged reference (access rules)\" select \"ignore\" </li>\n</ul>\n\n<p>You're good to go.</p>\n"},{"comments":[{"owner":{"account_id":1744260,"reputation":14886,"user_id":1594823,"accept_rate":64,"display_name":"Saikat"},"score":0,"creation_date":1478590135,"post_id":37169990,"comment_id":68206378,"body_markdown":"system hung up :(","body":"system hung up :("}],"tags":[],"owner":{"account_id":8398013,"reputation":300,"user_id":6304387,"display_name":"Kamila O"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1462989104,"creation_date":1462989104,"answer_id":37169990,"question_id":25222811,"body_markdown":"It worked: Project Properties -&gt; ProjectFacets -&gt; Runtimes -&gt; jdk1.8.0_45 -&gt; Apply","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p>It worked: Project Properties -> ProjectFacets -> Runtimes -> jdk1.8.0_45 -> Apply</p>\n"},{"tags":[],"owner":{"account_id":9231150,"reputation":61,"user_id":6857171,"display_name":"cxj"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1474669299,"creation_date":1474444589,"answer_id":39610637,"question_id":25222811,"body_markdown":"Go to the following setting:\r\n\r\nWindow -&gt; Preferences -&gt; Java-Compiler-Errors/Warnings-Deprecated and restricted API-Forbidden reference (access rules)\r\n\r\nSet it to `Warning` or `Ignore`.","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p>Go to the following setting:</p>\n\n<p>Window -> Preferences -> Java-Compiler-Errors/Warnings-Deprecated and restricted API-Forbidden reference (access rules)</p>\n\n<p>Set it to <code>Warning</code> or <code>Ignore</code>.</p>\n"},{"tags":[],"owner":{"account_id":9656763,"reputation":141,"user_id":7166059,"display_name":"Phil Long"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1479285162,"creation_date":1479281273,"answer_id":40626294,"question_id":25222811,"body_markdown":"In the Eclipse top menu bar:\r\n\r\n    Windows -&gt; Preferences -&gt; Java -&gt; Compiler -&gt; Errors/Warnings -&gt; \r\n    Deprecated and restricted API -&gt; Forbidden reference (access rules): -&gt; change to warning","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p>In the Eclipse top menu bar:</p>\n\n<pre><code>Windows -&gt; Preferences -&gt; Java -&gt; Compiler -&gt; Errors/Warnings -&gt; \nDeprecated and restricted API -&gt; Forbidden reference (access rules): -&gt; change to warning\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9793244,"reputation":41,"user_id":7257163,"display_name":"Sven"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1481122366,"creation_date":1481029173,"answer_id":40996017,"question_id":25222811,"body_markdown":"In Eclipse Mars.2 Release (4.5.2):  \r\n`Project Explorer -&gt; Context menu -&gt; Properties -&gt; JavaBuildPath -&gt; Libraries`  \r\nselect JRE... and press Edit: Switch to Workspace JRE (jdk1.8.0_77) \r\n\r\nWorks for me.","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p>In Eclipse Mars.2 Release (4.5.2):<br>\n<code>Project Explorer -&gt; Context menu -&gt; Properties -&gt; JavaBuildPath -&gt; Libraries</code><br>\nselect JRE... and press Edit: Switch to Workspace JRE (jdk1.8.0_77) </p>\n\n<p>Works for me.</p>\n"},{"tags":[],"owner":{"account_id":9949001,"reputation":43,"user_id":7362470,"display_name":"quasar-light"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1484406287,"creation_date":1484406287,"answer_id":41651410,"question_id":25222811,"body_markdown":"I have eclipse JRE 8.112 , not sure if that matters but what i did was this:\r\n\r\n 1. Right clicked on my projects folder\r\n 2. went down to properties and clicked\r\n 3. clicked on the java build path folder\r\n 4. once inside, I was in the order and export\r\n 5. I checked the JRE System Library [jre1.8.0_112]\r\n 6. then moved it up above the one other JRE system library there (not sure if this mattered)\r\n 7. then pressed ok\r\n\r\nThis solved my problem. \r\n","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p>I have eclipse JRE 8.112 , not sure if that matters but what i did was this:</p>\n\n<ol>\n<li>Right clicked on my projects folder</li>\n<li>went down to properties and clicked</li>\n<li>clicked on the java build path folder</li>\n<li>once inside, I was in the order and export</li>\n<li>I checked the JRE System Library [jre1.8.0_112]</li>\n<li>then moved it up above the one other JRE system library there (not sure if this mattered)</li>\n<li>then pressed ok</li>\n</ol>\n\n<p>This solved my problem. </p>\n"},{"comments":[{"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"score":1,"creation_date":1496144548,"post_id":43572320,"comment_id":75530382,"body_markdown":"Thanks... using the answer proposed by C Hujer I actually found there were &quot;162 rules (non-modifiable)&quot; for the file jfxrt.jar!","body":"Thanks... using the answer proposed by C Hujer I actually found there were &quot;162 rules (non-modifiable)&quot; for the file jfxrt.jar!"}],"tags":[],"owner":{"account_id":4317684,"reputation":768,"user_id":3527008,"accept_rate":75,"display_name":"Nishant_Singh"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1492957218,"creation_date":1492957218,"answer_id":43572320,"question_id":25222811,"body_markdown":"Had the same problem. Here&#39;s how I solved it: \r\nGo to Package Explorer.  Right click on JRE System Library and go to Properties. In the Classpath Container &gt; Select JRE for the project build path select the third option (Workspace default JRE).\r\n\r\nSource :  https://thenewboston.com/forum/topic.php?id=3917","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p>Had the same problem. Here's how I solved it: \nGo to Package Explorer.  Right click on JRE System Library and go to Properties. In the Classpath Container > Select JRE for the project build path select the third option (Workspace default JRE).</p>\n\n<p>Source :  <a href=\"https://thenewboston.com/forum/topic.php?id=3917\" rel=\"noreferrer\">https://thenewboston.com/forum/topic.php?id=3917</a></p>\n"},{"comments":[{"owner":{"account_id":3983409,"reputation":167,"user_id":3284759,"display_name":"Balderk"},"score":0,"creation_date":1616059513,"post_id":43816268,"comment_id":117886194,"body_markdown":"Exactly, despite its description mentionning Java FX 2 and FXML, ef(x)clipse also configures Eclipse so it considers jfxrt.jar as an API.","body":"Exactly, despite its description mentionning Java FX 2 and FXML, ef(x)clipse also configures Eclipse so it considers jfxrt.jar as an API."}],"tags":[],"owner":{"account_id":9228543,"reputation":87,"user_id":6855485,"accept_rate":88,"display_name":"jessie"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1494039724,"creation_date":1494039724,"answer_id":43816268,"question_id":25222811,"body_markdown":"I simply just add e(fx)clipse in eclipse marketplace. Easy and simple","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p>I simply just add e(fx)clipse in eclipse marketplace. Easy and simple</p>\n"},{"tags":[],"owner":{"account_id":9594001,"reputation":45,"user_id":7123801,"display_name":"Tony S"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1494192501,"creation_date":1494192501,"answer_id":43836904,"question_id":25222811,"body_markdown":"I&#39;m using eclipse neon 3. I just wanted to use javafx.application.Application, so I followed Christian Hujer&#39;s answer above and it worked. Just some tips: the access rules are very similar to the import statement. For me, the access rules I added was &quot;javafx/application/**&quot;. Just replace the dot in the import statement with forward slash and that&#39;s the rule. Hope that helps.","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p>I'm using eclipse neon 3. I just wanted to use javafx.application.Application, so I followed Christian Hujer's answer above and it worked. Just some tips: the access rules are very similar to the import statement. For me, the access rules I added was \"javafx/application/**\". Just replace the dot in the import statement with forward slash and that's the rule. Hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":3049721,"reputation":963,"user_id":2584579,"display_name":"vidyakumargv"},"comment_count":0,"down_vote_count":0,"up_vote_count":77,"is_accepted":false,"score":77,"last_activity_date":1506870015,"creation_date":1506870015,"answer_id":46513651,"question_id":25222811,"body_markdown":"Adding **javafx** accessible permission in eclipse oxygen \r\ngo to project&gt; properties&gt; java build path&gt; libraries&gt; then expand the libraries and double click on&gt; Access rules there you set the permission \r\nResolution : Accessible\r\nRule Pattern : javafx/**\r\n\r\n[![enter image description here][1]][1]  \r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rGWzT.png\r\n  [2]: https://i.stack.imgur.com/aL6sj.png\r\n  [3]: https://i.stack.imgur.com/UxJIH.png","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p>Adding <strong>javafx</strong> accessible permission in eclipse oxygen \ngo to project> properties> java build path> libraries> then expand the libraries and double click on> Access rules there you set the permission \nResolution : Accessible\nRule Pattern : javafx/**</p>\n\n<p><a href=\"https://i.stack.imgur.com/rGWzT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/rGWzT.png\" alt=\"enter image description here\"></a>  </p>\n\n<p><a href=\"https://i.stack.imgur.com/aL6sj.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/aL6sj.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/UxJIH.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/UxJIH.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":5798932,"reputation":591,"user_id":4573820,"display_name":"Dinsdale"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1525735210,"creation_date":1525735210,"answer_id":50223720,"question_id":25222811,"body_markdown":"We had to change our application to build against the JDK 1.8 using *Window-&gt;Preferences-&gt;Java-&gt;Installed JREs*. However, after changing that, the JRE System Library specified in the Project Explorer was still incorrect. To fix this, right click on &quot;JRE System Library [wrong-jre-here]&quot; and change from Execution environment: to &quot;Workspace Default (yer-default-here)&quot;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JkARy.png","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p>We had to change our application to build against the JDK 1.8 using <em>Window->Preferences->Java->Installed JREs</em>. However, after changing that, the JRE System Library specified in the Project Explorer was still incorrect. To fix this, right click on \"JRE System Library [wrong-jre-here]\" and change from Execution environment: to \"Workspace Default (yer-default-here)\"</p>\n\n<p><a href=\"https://i.stack.imgur.com/JkARy.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/JkARy.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":5705055,"reputation":1872,"user_id":4508899,"accept_rate":75,"display_name":"Jonas_Hess"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1547480442,"creation_date":1547480442,"answer_id":54184608,"question_id":25222811,"body_markdown":"We use IBM Rational Application Developer (RAD) and had the same problem.\r\n\r\n**ErrorMessage:** \r\n\r\nAccess restriction: The type &#39;JAXWSProperties&#39; is not API (restriction on required library &#39;C:\\IBM\\RAD95\\jdk\\jre\\lib\\rt.jar&#39;)\r\n\r\n**Solution:**\r\n\r\ngo to java build path and under Library tab, remove JRE System Library. Then again Add Library --&gt; JRE System Library","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p>We use IBM Rational Application Developer (RAD) and had the same problem.</p>\n\n<p><strong>ErrorMessage:</strong> </p>\n\n<p>Access restriction: The type 'JAXWSProperties' is not API (restriction on required library 'C:\\IBM\\RAD95\\jdk\\jre\\lib\\rt.jar')</p>\n\n<p><strong>Solution:</strong></p>\n\n<p>go to java build path and under Library tab, remove JRE System Library. Then again Add Library --> JRE System Library</p>\n"},{"tags":[],"owner":{"account_id":368447,"reputation":24110,"user_id":715269,"accept_rate":60,"display_name":"Gangnus"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1555619433,"creation_date":1555619433,"answer_id":55753341,"question_id":25222811,"body_markdown":"I had a little different problem. In Project - Properties - Libraries - JRE library, I had the wrong JRE lib version. Remove and set the actual one, and voila - all `Access restriction...` warnings are away.\r\n\r\n","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p>I had a little different problem. In Project - Properties - Libraries - JRE library, I had the wrong JRE lib version. Remove and set the actual one, and voila - all <code>Access restriction...</code> warnings are away.</p>\n"},{"tags":[],"owner":{"account_id":2938197,"reputation":3163,"user_id":2516673,"accept_rate":60,"display_name":"Fappaz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569032087,"creation_date":1569032087,"answer_id":58036771,"question_id":25222811,"body_markdown":"If someone is having this issue only in your CI tool while running maven, what did the trick for me was to explicitly define the execution environment in your `MANIFEST.MF`.\r\n\r\nIn my case, I did this by inserting the following line in my OSGi bundle manifest file:\r\n```\r\nBundle-RequiredExecutionEnvironment: JavaSE-1.8\r\n```","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p>If someone is having this issue only in your CI tool while running maven, what did the trick for me was to explicitly define the execution environment in your <code>MANIFEST.MF</code>.</p>\n\n<p>In my case, I did this by inserting the following line in my OSGi bundle manifest file:</p>\n\n<pre><code>Bundle-RequiredExecutionEnvironment: JavaSE-1.8\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1266294,"reputation":8027,"user_id":1223532,"accept_rate":67,"display_name":"MrSimpleMind"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1587391103,"creation_date":1587391103,"answer_id":61324272,"question_id":25222811,"body_markdown":"Even if its old question, for me in Eclipse I just right click on **Src folder** and properties (Alt+Enter) and the check for the `Ignore optional compile problems` removed the error.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PzsxJ.png","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p>Even if its old question, for me in Eclipse I just right click on <strong>Src folder</strong> and properties (Alt+Enter) and the check for the <code>Ignore optional compile problems</code> removed the error.</p>\n\n<p><a href=\"https://i.stack.imgur.com/PzsxJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PzsxJ.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":8212780,"reputation":173,"user_id":6180243,"display_name":"iamfnizami"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1601332683,"creation_date":1601332683,"answer_id":64110518,"question_id":25222811,"body_markdown":"**Remove Existing/Configured System Library:**\r\nEclipse(IDE) -&gt; Project Explorer -&gt; Project Name-&gt; (Option) Build Path -&gt; Configure Build Path -&gt; Java Build Path -&gt; Libraries -&gt; (Select) JRE System Library [(*For me*)jre1.8.0_231] -&gt; Remove.\r\n\r\n**Currently you are at same location:** \r\nEclipse(IDE) -&gt; Project Explorer -&gt; Project Name-&gt; (Option) Build Path -&gt; Configure Build Path -&gt; Java Build Path -&gt; Libraries\r\n\r\n**Now Add Same System Library Again:**\r\nAdd Library -&gt; JRE System Library -&gt; Workspace default JRE ((*For me*)jre1.8.0_231) -&gt; Finish -&gt; Apply -&gt; Close.\r\n\r\nNow wait to finish it.\r\n","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p><strong>Remove Existing/Configured System Library:</strong>\nEclipse(IDE) -&gt; Project Explorer -&gt; Project Name-&gt; (Option) Build Path -&gt; Configure Build Path -&gt; Java Build Path -&gt; Libraries -&gt; (Select) JRE System Library [(<em>For me</em>)jre1.8.0_231] -&gt; Remove.</p>\n<p><strong>Currently you are at same location:</strong>\nEclipse(IDE) -&gt; Project Explorer -&gt; Project Name-&gt; (Option) Build Path -&gt; Configure Build Path -&gt; Java Build Path -&gt; Libraries</p>\n<p><strong>Now Add Same System Library Again:</strong>\nAdd Library -&gt; JRE System Library -&gt; Workspace default JRE ((<em>For me</em>)jre1.8.0_231) -&gt; Finish -&gt; Apply -&gt; Close.</p>\n<p>Now wait to finish it.</p>\n"},{"tags":[],"owner":{"account_id":17049867,"reputation":2224,"user_id":12335762,"display_name":"Jasperan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1629304036,"creation_date":1629304036,"answer_id":68836080,"question_id":25222811,"body_markdown":"What worked for me was adding the access restricted package to the MANIFEST.MF file. In Eclipse, the &quot;Access Restricted&quot; errors showed up in the Problems tab for several files. I just right clicked on each error, clicked &quot;Quick Fix&quot;, and chose &quot;Add &#39;[package]&#39; to imported packages&quot;.\r\n\r\n\r\n\r\n","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p>What worked for me was adding the access restricted package to the MANIFEST.MF file. In Eclipse, the &quot;Access Restricted&quot; errors showed up in the Problems tab for several files. I just right clicked on each error, clicked &quot;Quick Fix&quot;, and chose &quot;Add '[package]' to imported packages&quot;.</p>\n"},{"tags":[],"owner":{"account_id":1765805,"reputation":5354,"user_id":1611714,"display_name":"Binita Bharati"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648192520,"creation_date":1648192520,"answer_id":71613322,"question_id":25222811,"body_markdown":"I had faced the same error on Eclipse `4.20.0` with JRE 1.8. To get rid of this compilation error, do the following:\r\n\r\n    Project --&gt; Properties --&gt; Java Compiler --&gt; Errors/Warnings --&gt; Deprecated and Restricted API --&gt; Forbidden Reference (access rules) --&gt;  ignore","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p>I had faced the same error on Eclipse <code>4.20.0</code> with JRE 1.8. To get rid of this compilation error, do the following:</p>\n<pre><code>Project --&gt; Properties --&gt; Java Compiler --&gt; Errors/Warnings --&gt; Deprecated and Restricted API --&gt; Forbidden Reference (access rules) --&gt;  ignore\n</code></pre>\n"}],"owner":{"account_id":4867489,"reputation":2121,"user_id":3925208,"accept_rate":75,"display_name":"www139"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":333132,"favorite_count":0,"down_vote_count":0,"up_vote_count":207,"answer_count":22,"score":207,"last_activity_date":1700845049,"creation_date":1407616554,"question_id":25222811,"body_markdown":"Here is the code:\r\n\r\n    package mscontroller;\r\n    \r\n    import javax.swing.*;\r\n    import com.apple.eawt.Application;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args)\r\n        {\r\n        \tApplication app = new Application();\r\n        \tapp.setEnabledAboutMenu(true);\r\n    \t\r\n        \tAMEListener listener = new AMEListener();\r\n        \tapp.addApplicationListener(listener);\r\n        \tJFrame mainFrame = new JFrame(&quot;Application Menu Example&quot;);\r\n        \tmainFrame.setSize(500, 500);\r\n        \tmainFrame.setVisible(true);\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nhere is the error:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation\r\n    problems:  \tAccess restriction: The type &#39;Application&#39; is not API\r\n    (restriction on required library\r\n    &#39;/Library/Java/JavaVirtualMachines/jdk1.8.0_11.jdk/Contents/Home/jre/lib/rt.jar&#39;)\r\n    \tAccess restriction: The constructor &#39;Application()&#39; is not API\r\n    (restriction on required library\r\n    &#39;/Library/Java/JavaVirtualMachines/jdk1.8.0_11.jdk/Contents/Home/jre/lib/rt.jar&#39;)\r\n    \tAccess restriction: The type &#39;Application&#39; is not API (restriction on\r\n    required library\r\n    &#39;/Library/Java/JavaVirtualMachines/jdk1.8.0_11.jdk/Contents/Home/jre/lib/rt.jar&#39;)\r\n    \tAccess restriction: The method\r\n    &#39;Application.setEnabledAboutMenu(boolean)&#39; is not API (restriction on\r\n    required library\r\n    &#39;/Library/Java/JavaVirtualMachines/jdk1.8.0_11.jdk/Contents/Home/jre/lib/rt.jar&#39;)\r\n    \tAMEListener cannot be resolved to a type \tAMEListener cannot be\r\n    resolved to a type\r\n \r\n    \tat mscontroller.Main.main(Main.java:9)\r\n\r\n\r\neclipse says this:\r\n\r\n&gt; Access restriction: The type &#39;Application&#39; is not API (restriction on    required library &#39;/Library/Java/JavaVirtualMachines/jdk1.8.0_11.jdk/Contents/Home/jre/lib/rt.jar&#39;)","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p>Here is the code:</p>\n\n<pre><code>package mscontroller;\n\nimport javax.swing.*;\nimport com.apple.eawt.Application;\n\npublic class Main {\n    public static void main(String[] args)\n    {\n        Application app = new Application();\n        app.setEnabledAboutMenu(true);\n\n        AMEListener listener = new AMEListener();\n        app.addApplicationListener(listener);\n        JFrame mainFrame = new JFrame(\"Application Menu Example\");\n        mainFrame.setSize(500, 500);\n        mainFrame.setVisible(true);\n    }\n}\n</code></pre>\n\n<p>here is the error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread \"main\" java.lang.Error: Unresolved compilation\nproblems:   Access restriction: The type 'Application' is not API\n(restriction on required library\n'/Library/Java/JavaVirtualMachines/jdk1.8.0_11.jdk/Contents/Home/jre/lib/rt.jar')\n    Access restriction: The constructor 'Application()' is not API\n(restriction on required library\n'/Library/Java/JavaVirtualMachines/jdk1.8.0_11.jdk/Contents/Home/jre/lib/rt.jar')\n    Access restriction: The type 'Application' is not API (restriction on\nrequired library\n'/Library/Java/JavaVirtualMachines/jdk1.8.0_11.jdk/Contents/Home/jre/lib/rt.jar')\n    Access restriction: The method\n'Application.setEnabledAboutMenu(boolean)' is not API (restriction on\nrequired library\n'/Library/Java/JavaVirtualMachines/jdk1.8.0_11.jdk/Contents/Home/jre/lib/rt.jar')\n    AMEListener cannot be resolved to a type    AMEListener cannot be\nresolved to a type\n\n    at mscontroller.Main.main(Main.java:9)\n</code></pre>\n\n<p>eclipse says this:</p>\n\n<blockquote>\n  <p>Access restriction: The type 'Application' is not API (restriction on    required library '/Library/Java/JavaVirtualMachines/jdk1.8.0_11.jdk/Contents/Home/jre/lib/rt.jar')</p>\n</blockquote>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1700818047,"post_id":77542032,"comment_id":136702226,"body_markdown":"What version of Java are you using?","body":"What version of Java are you using?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":3,"creation_date":1700818647,"post_id":77542032,"comment_id":136702341,"body_markdown":"`Optional.stream()` was added in java 9, are you using 8? But the more glaring problem is  `.flatMap(a -&gt; a)` - the mapper function should return `LongStream`, while your returns `long`, this won&#39;t compile regardless of the java version.","body":"<code>Optional.stream()</code> was added in java 9, are you using 8? But the more glaring problem is  <code>.flatMap(a -&gt; a)</code> - the mapper function should return <code>LongStream</code>, while your returns <code>long</code>, this won&#39;t compile regardless of the java version."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1700819077,"creation_date":1700819077,"answer_id":77542148,"question_id":77542032,"body_markdown":"[`OptionalDouble.stream`][1] has existed ever since Java 9. You should check your Java version.\r\n\r\nIf you are unable to use a newer version of Java for some reason, you can implement `stream` yourself as a static helper method. What it does is very simple.\r\n\r\n    public static DoubleStream streamOfOptional(OptionalDouble d) {\r\n        return d.isEmpty() ? DoubleStream.empty() : DoubleStream.of(d.getAsDouble());\r\n    }\r\n\r\n```\r\nreturn streamOfOptional(\r\n        IntStream.of(1,2,3,4,5,6)\r\n            .average()\r\n        )\r\n        .mapToLong(Math::round)\r\n        .mapToInt(i -&gt; (int) i)\r\n        .findFirst()\r\n        .orElse(-1);\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase%2F9%2Fdocs%2Fapi%2F%2F/java/util/OptionalDouble.html#stream--","title":"Cannot Stream average() undefined for OptionalDouble","body":"<p><a href=\"https://docs.oracle.com/javase%2F9%2Fdocs%2Fapi%2F%2F/java/util/OptionalDouble.html#stream--\" rel=\"nofollow noreferrer\"><code>OptionalDouble.stream</code></a> has existed ever since Java 9. You should check your Java version.</p>\n<p>If you are unable to use a newer version of Java for some reason, you can implement <code>stream</code> yourself as a static helper method. What it does is very simple.</p>\n<pre><code>public static DoubleStream streamOfOptional(OptionalDouble d) {\n    return d.isEmpty() ? DoubleStream.empty() : DoubleStream.of(d.getAsDouble());\n}\n</code></pre>\n<pre><code>return streamOfOptional(\n        IntStream.of(1,2,3,4,5,6)\n            .average()\n        )\n        .mapToLong(Math::round)\n        .mapToInt(i -&gt; (int) i)\n        .findFirst()\n        .orElse(-1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700843045,"creation_date":1700840493,"answer_id":77544284,"question_id":77542032,"body_markdown":"If you don&#39;t really want the `Optional`, with Java 8+ you can achieve the same using [Collectors.summarizingInt](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Collectors.html#summarizingInt(java.util.function.ToIntFunction))  which will return an instance of the [IntSummaryStatistics](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/IntSummaryStatistics.html) class.  The `getAverage()` method will return a value  of `0.0` if no elements were present in the stream.\r\n\r\n- Using [collectingAndThen](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Collectors.html#collectingAndThen(java.util.stream.Collector,java.util.function.Function)),\r\n  - first compute the statistics.\r\n  - then apply your rounding and conversion methods and return the result.\r\n```\r\nreturn IntStream.of(1,2,3,4,5,6).boxed().collect(\r\n                Collectors.collectingAndThen(\r\n                   Collectors.summarizingInt(Integer::intValue),\r\n                   iss-&gt;(int)(Math.round(iss.getAverage()))));\r\n```\r\nAnother alternative would be to use [Collectors.averagingInt()](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Collectors.html#averagingInt(java.util.function.ToIntFunction)). Here I am using Stream since the values need to be boxed anyway to be collected.\r\n```\r\nreturn Stream.&lt;Integer&gt;of(1,2,3,4,5,6).collect(\r\n        Collectors.collectingAndThen(\r\n           Collectors.averagingInt(a-&gt;a),\r\n           avg-&gt;(int)Math.round(avg)));\r\n\r\n```\r\nIn both cases above, the `average` is computed as a `double` and `Math.round` returns a `long`.  So all that is necessary is to cast to an `int`.\r\n\r\nOne final note.  With `Stream.of` I typed witnessed the stream to `Integer` in case no value was provided so it would compile and return `0.0` average.  With `IntStream`, the type is declared so no witnessing was needed.  Whether this makes a difference depends on your use case.","title":"Cannot Stream average() undefined for OptionalDouble","body":"<p>If you don't really want the <code>Optional</code>, with Java 8+ you can achieve the same using <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Collectors.html#summarizingInt(java.util.function.ToIntFunction)\" rel=\"nofollow noreferrer\">Collectors.summarizingInt</a>  which will return an instance of the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/IntSummaryStatistics.html\" rel=\"nofollow noreferrer\">IntSummaryStatistics</a> class.  The <code>getAverage()</code> method will return a value  of <code>0.0</code> if no elements were present in the stream.</p>\n<ul>\n<li>Using <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Collectors.html#collectingAndThen(java.util.stream.Collector,java.util.function.Function)\" rel=\"nofollow noreferrer\">collectingAndThen</a>,\n<ul>\n<li>first compute the statistics.</li>\n<li>then apply your rounding and conversion methods and return the result.</li>\n</ul>\n</li>\n</ul>\n<pre><code>return IntStream.of(1,2,3,4,5,6).boxed().collect(\n                Collectors.collectingAndThen(\n                   Collectors.summarizingInt(Integer::intValue),\n                   iss-&gt;(int)(Math.round(iss.getAverage()))));\n</code></pre>\n<p>Another alternative would be to use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Collectors.html#averagingInt(java.util.function.ToIntFunction)\" rel=\"nofollow noreferrer\">Collectors.averagingInt()</a>. Here I am using Stream since the values need to be boxed anyway to be collected.</p>\n<pre><code>return Stream.&lt;Integer&gt;of(1,2,3,4,5,6).collect(\n        Collectors.collectingAndThen(\n           Collectors.averagingInt(a-&gt;a),\n           avg-&gt;(int)Math.round(avg)));\n\n</code></pre>\n<p>In both cases above, the <code>average</code> is computed as a <code>double</code> and <code>Math.round</code> returns a <code>long</code>.  So all that is necessary is to cast to an <code>int</code>.</p>\n<p>One final note.  With <code>Stream.of</code> I typed witnessed the stream to <code>Integer</code> in case no value was provided so it would compile and return <code>0.0</code> average.  With <code>IntStream</code>, the type is declared so no witnessing was needed.  Whether this makes a difference depends on your use case.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700844952,"creation_date":1700844952,"answer_id":77544648,"question_id":77542032,"body_markdown":"Considering an _[arithmetic mean](https://en.wikipedia.org/wiki/Arithmetic_mean)_ may be fractional, use a _[DoubleStream](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/stream/DoubleStream.html)_.\r\n\r\n```java\r\ndouble average\r\n    = Math.round(DoubleStream.of(1, 2, 3, 4, 5)\r\n                             .average()\r\n                             .getAsDouble());\r\n```","title":"Cannot Stream average() undefined for OptionalDouble","body":"<p>Considering an <em><a href=\"https://en.wikipedia.org/wiki/Arithmetic_mean\" rel=\"nofollow noreferrer\">arithmetic mean</a></em> may be fractional, use a <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/stream/DoubleStream.html\" rel=\"nofollow noreferrer\">DoubleStream</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>double average\n    = Math.round(DoubleStream.of(1, 2, 3, 4, 5)\n                             .average()\n                             .getAsDouble());\n</code></pre>\n"}],"owner":{"account_id":16304270,"reputation":159,"user_id":11774608,"display_name":"nvn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77542148,"answer_count":3,"score":0,"last_activity_date":1700844952,"creation_date":1700817913,"question_id":77542032,"body_markdown":"I&#39;m using this code but eclipse shows an error saying \r\n[stream() is undefined for the type OptionalDouble](https://stackoverflow.com/questions/56826671/how-to-get-an-average-of-type-int-from-a-stream-of-int)\r\nThe error shown by eclipse is \r\n\r\n - The method stream() is undefined for the type OptionalDouble .\r\n\r\nMy code is something like this\r\n\r\n```\r\n\t\t\r\n\t    return IntStream.of(1,2,3,4,5,6)\r\n\t    \t\t.asLongStream()\r\n\t            .flatMap(a -&gt; a)\r\n\t            .average()\r\n\t            .stream()\r\n\t            .mapToLong(Math::round)\r\n\t            .mapToInt(i -&gt; (int) i)\r\n\t            .findFirst()\r\n\t            .orElse(-1);\r\n```\r\n\r\nI tried average().getasDouble() but that also didn&#39;t work. How do i fix the code ? \r\nI can do one thing Double d=average().getasDouble() then apply Math.round(d) seperately.\r\n\r\nIs it possible to fix the code after average().stream() in functional way without error ?\r\nWhen average() return OptionalDouble and that can&#39;t be streamed by stream() , how do you go about it ?\r\n","title":"Cannot Stream average() undefined for OptionalDouble","body":"<p>I'm using this code but eclipse shows an error saying\n<a href=\"https://stackoverflow.com/questions/56826671/how-to-get-an-average-of-type-int-from-a-stream-of-int\">stream() is undefined for the type OptionalDouble</a>\nThe error shown by eclipse is</p>\n<ul>\n<li>The method stream() is undefined for the type OptionalDouble .</li>\n</ul>\n<p>My code is something like this</p>\n<pre><code>        \n        return IntStream.of(1,2,3,4,5,6)\n                .asLongStream()\n                .flatMap(a -&gt; a)\n                .average()\n                .stream()\n                .mapToLong(Math::round)\n                .mapToInt(i -&gt; (int) i)\n                .findFirst()\n                .orElse(-1);\n</code></pre>\n<p>I tried average().getasDouble() but that also didn't work. How do i fix the code ?\nI can do one thing Double d=average().getasDouble() then apply Math.round(d) seperately.</p>\n<p>Is it possible to fix the code after average().stream() in functional way without error ?\nWhen average() return OptionalDouble and that can't be streamed by stream() , how do you go about it ?</p>\n"},{"tags":["java","macos","save","pycharm"],"comments":[{"owner":{"account_id":1303114,"reputation":15287,"user_id":1252647,"accept_rate":76,"display_name":"Noel Llevares"},"score":0,"creation_date":1464695461,"post_id":37511590,"comment_id":62578472,"body_markdown":"I have the same problem. Somehow I found that the error disappears when I delete the `.idea` directory. But after a while of using it again, the error comes back.","body":"I have the same problem. Somehow I found that the error disappears when I delete the <code>.idea</code> directory. But after a while of using it again, the error comes back."},{"owner":{"account_id":2258112,"reputation":1607,"user_id":1988837,"display_name":"ramsey0"},"score":0,"creation_date":1464804948,"post_id":37511590,"comment_id":62639102,"body_markdown":"Could it be a permissions problem on the `.idea` directory?","body":"Could it be a permissions problem on the <code>.idea</code> directory?"},{"owner":{"account_id":136325,"reputation":341,"user_id":2077885,"display_name":"knowuh"},"score":0,"creation_date":1465220549,"post_id":37511590,"comment_id":62796645,"body_markdown":"I get this same error with WebStorm. (stack trace has the `java.lang.StringIndexOutOfBoundsException: String index out of range: 0`  -- changing permissions on .idea dir doesn&#39;t help me.","body":"I get this same error with WebStorm. (stack trace has the <code>java.lang.StringIndexOutOfBoundsException: String index out of range: 0</code>  -- changing permissions on .idea dir doesn&#39;t help me."}],"answers":[{"tags":[],"owner":{"account_id":158604,"reputation":7426,"user_id":377366,"accept_rate":94,"display_name":"KobeJohn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1465183987,"creation_date":1465183987,"answer_id":37649175,"question_id":37511590,"body_markdown":"Since you are using the community edition, my answer almost certainly does not apply to you but it might help others arriving here with the same error.\r\n\r\nIn my case, there was some problem with the nfs share I use to synchronize between the remote server and my local setup. File and directory permissions on the remote server were all fine. After a `umount &lt;my_nfs_dir&gt;` and remount, PyCharm was able to save settings and stopped complaining.","title":"PyCharm - Unable to save settings - Failed to save settings. Please restart PyCharm Community Edition","body":"<p>Since you are using the community edition, my answer almost certainly does not apply to you but it might help others arriving here with the same error.</p>\n\n<p>In my case, there was some problem with the nfs share I use to synchronize between the remote server and my local setup. File and directory permissions on the remote server were all fine. After a <code>umount &lt;my_nfs_dir&gt;</code> and remount, PyCharm was able to save settings and stopped complaining.</p>\n"},{"comments":[{"owner":{"account_id":7023916,"reputation":1284,"user_id":5434860,"accept_rate":40,"display_name":"retodaredevil"},"score":0,"creation_date":1509394493,"post_id":38551351,"comment_id":80993950,"body_markdown":"Have you found any ways around this without turning off Google Drive? @Troy Wray","body":"Have you found any ways around this without turning off Google Drive? @Troy Wray"}],"tags":[],"owner":{"account_id":2792525,"reputation":958,"user_id":2402482,"accept_rate":67,"display_name":"Troy Wray"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1469358346,"creation_date":1469358346,"answer_id":38551351,"question_id":37511590,"body_markdown":"I get the error on a project that I placed on a Google Drive sync&#39;d folder. I turn Google Drive off and the issue goes away. The issue was with the .ideas folder.","title":"PyCharm - Unable to save settings - Failed to save settings. Please restart PyCharm Community Edition","body":"<p>I get the error on a project that I placed on a Google Drive sync'd folder. I turn Google Drive off and the issue goes away. The issue was with the .ideas folder.</p>\n"},{"tags":[],"owner":{"account_id":7151942,"reputation":969,"user_id":5465647,"display_name":"Kapil Marwaha"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1480588928,"creation_date":1480588928,"answer_id":40908490,"question_id":37511590,"body_markdown":"Make sure you are running &#39;Pycharm.exe&#39; as Administrator. \r\n\r\n&#39;Run As Administrator&#39; for all Users solves this problem in Windows OS.","title":"PyCharm - Unable to save settings - Failed to save settings. Please restart PyCharm Community Edition","body":"<p>Make sure you are running 'Pycharm.exe' as Administrator. </p>\n\n<p>'Run As Administrator' for all Users solves this problem in Windows OS.</p>\n"},{"tags":[],"owner":{"account_id":371168,"reputation":141,"user_id":719542,"display_name":"Duke Robillard"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1504739298,"creation_date":1504182842,"answer_id":45981575,"question_id":37511590,"body_markdown":"In my case, this was indeed permissions on the .idea directory; it was owned by Administrator, and I wasn&#39;t running as Administrator.   I changed the owner of .idea via Windows Explorer and things were okay again.\r\n\r\nSo, what happened to break it?  I normally run as non-Administrator, because IT has Administrator half-locked down on our PCs.   If you run PyCharm (or any of the JetBrains stuff) as Administrator, it creates files as Administrator, and then you can&#39;t access the files in other tools (like the command line Subversion client, for example).\r\n\r\nHowever, I recently started using JetBrains Toolbox to upgrade the JetBrains apps.  If you start that App from Toolbox, it runs as Administrator, leaving you a bunch of files in your Workspace that you can&#39;t access as non-Administrator.","title":"PyCharm - Unable to save settings - Failed to save settings. Please restart PyCharm Community Edition","body":"<p>In my case, this was indeed permissions on the .idea directory; it was owned by Administrator, and I wasn't running as Administrator.   I changed the owner of .idea via Windows Explorer and things were okay again.</p>\n\n<p>So, what happened to break it?  I normally run as non-Administrator, because IT has Administrator half-locked down on our PCs.   If you run PyCharm (or any of the JetBrains stuff) as Administrator, it creates files as Administrator, and then you can't access the files in other tools (like the command line Subversion client, for example).</p>\n\n<p>However, I recently started using JetBrains Toolbox to upgrade the JetBrains apps.  If you start that App from Toolbox, it runs as Administrator, leaving you a bunch of files in your Workspace that you can't access as non-Administrator.</p>\n"},{"tags":[],"owner":{"account_id":12675615,"reputation":1,"user_id":9211492,"display_name":"Avi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515819259,"creation_date":1515809572,"answer_id":48236351,"question_id":37511590,"body_markdown":"I had this problem on windows. it started when switching from 2016 to 2017.\r\nI fixed it with:\r\n\r\n`start -&gt; pycharm -&gt; right click -&gt; run as admin`\r\n\r\nIt did whatever it needed to do. Then I closed and relaunched (not as admin) and the error went away.","title":"PyCharm - Unable to save settings - Failed to save settings. Please restart PyCharm Community Edition","body":"<p>I had this problem on windows. it started when switching from 2016 to 2017.\nI fixed it with:</p>\n\n<p><code>start -&gt; pycharm -&gt; right click -&gt; run as admin</code></p>\n\n<p>It did whatever it needed to do. Then I closed and relaunched (not as admin) and the error went away.</p>\n"},{"tags":[],"owner":{"account_id":28189,"reputation":50527,"user_id":75033,"accept_rate":76,"display_name":"John Mee"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1540806217,"creation_date":1540806217,"answer_id":53042658,"question_id":37511590,"body_markdown":"It&#39;s having trouble saving, not the file, but it&#39;s own configuration to the `.idea` directory, usually in the same folder as the root of the project.  I&#39;m here because I&#39;ve restored a backup and the reinstalled pycharm isn&#39;t happy with it.  Although I lost the project settings (no big deal).  This fixed it.\r\n\r\nEg:\r\n\r\n    $ cd myproject\r\n    $ rm -rf .idea\r\n","title":"PyCharm - Unable to save settings - Failed to save settings. Please restart PyCharm Community Edition","body":"<p>It's having trouble saving, not the file, but it's own configuration to the <code>.idea</code> directory, usually in the same folder as the root of the project.  I'm here because I've restored a backup and the reinstalled pycharm isn't happy with it.  Although I lost the project settings (no big deal).  This fixed it.</p>\n\n<p>Eg:</p>\n\n<pre><code>$ cd myproject\n$ rm -rf .idea\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2004673,"reputation":1209,"user_id":1794890,"display_name":"Maziyar Mk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560121546,"creation_date":1560121546,"answer_id":56518993,"question_id":37511590,"body_markdown":"If you&#39;re on **Windows 10** and have **Windows Ransomware Protection** on (for the folder in which your project resides), go to:\r\n\r\n    Windows Security &gt; Virus &amp; threat protection &gt; Allow an app through Controller folder access\r\n\r\nAnd allow PyCharm executable to make changes to your files.\r\n\r\n----------\r\n\r\nIf you have any other type of anti-virus or software that limits access to files, you will want to add PyCharm to their exception lists as well.","title":"PyCharm - Unable to save settings - Failed to save settings. Please restart PyCharm Community Edition","body":"<p>If you're on <strong>Windows 10</strong> and have <strong>Windows Ransomware Protection</strong> on (for the folder in which your project resides), go to:</p>\n\n<pre><code>Windows Security &gt; Virus &amp; threat protection &gt; Allow an app through Controller folder access\n</code></pre>\n\n<p>And allow PyCharm executable to make changes to your files.</p>\n\n<hr>\n\n<p>If you have any other type of anti-virus or software that limits access to files, you will want to add PyCharm to their exception lists as well.</p>\n"},{"tags":[],"owner":{"account_id":3042126,"reputation":604,"user_id":2578856,"display_name":"Eskignax"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568256196,"creation_date":1568256196,"answer_id":57899032,"question_id":37511590,"body_markdown":"If it&#39;s not a permission issue, it can be the case that you don&#39;t have **free space** left anymore. So check the size of the hard drive where you pyCharm is.","title":"PyCharm - Unable to save settings - Failed to save settings. Please restart PyCharm Community Edition","body":"<p>If it's not a permission issue, it can be the case that you don't have <strong>free space</strong> left anymore. So check the size of the hard drive where you pyCharm is.</p>\n"},{"tags":[],"owner":{"account_id":16736224,"reputation":1,"user_id":12097254,"display_name":"Carlos Quevedo"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1569304941,"creation_date":1569008449,"answer_id":58034311,"question_id":37511590,"body_markdown":"I just change the owner to the project folder, now is working fine, I&#39;m using Ubuntu 19.04 and pycharm\r\n\r\n    chown -R username:root projectfolder/\r\n\r\n","title":"PyCharm - Unable to save settings - Failed to save settings. Please restart PyCharm Community Edition","body":"<p>I just change the owner to the project folder, now is working fine, I'm using Ubuntu 19.04 and pycharm</p>\n\n<pre><code>chown -R username:root projectfolder/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18739106,"reputation":1,"user_id":13662730,"display_name":"Nixon Molina"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591153626,"creation_date":1591070625,"answer_id":62144627,"question_id":37511590,"body_markdown":"I had the same problem but I solved it by running it as a super user,\r\nex. In Kali Linux I tried \r\n\r\n`sudo i` \r\n\r\nthen I enter the pass and then I run it like this \r\n\r\n    /Documents/pycharm-2020.1.1/bin# \r\n    ./pycharm.sh`\r\n\r\nI think pycharm need super user\r\n","title":"PyCharm - Unable to save settings - Failed to save settings. Please restart PyCharm Community Edition","body":"<p>I had the same problem but I solved it by running it as a super user,\nex. In Kali Linux I tried </p>\n\n<p><code>sudo i</code> </p>\n\n<p>then I enter the pass and then I run it like this </p>\n\n<pre><code>/Documents/pycharm-2020.1.1/bin# \n./pycharm.sh`\n</code></pre>\n\n<p>I think pycharm need super user</p>\n"},{"tags":[],"owner":{"account_id":17982399,"reputation":5,"user_id":13068385,"display_name":"linesofcode"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593057888,"creation_date":1593057888,"answer_id":62567692,"question_id":37511590,"body_markdown":"EventLog Notification Window(click the wrench icon) -&gt; \r\n&quot;Settings Error&quot;, choose &quot;no popup&quot;, uncheck &quot;log&quot;\r\nI tried above methods, none doesn&#39;t work except this ostrichish ignorance method.\r\n","title":"PyCharm - Unable to save settings - Failed to save settings. Please restart PyCharm Community Edition","body":"<p>EventLog Notification Window(click the wrench icon) -&gt;\n&quot;Settings Error&quot;, choose &quot;no popup&quot;, uncheck &quot;log&quot;\nI tried above methods, none doesn't work except this ostrichish ignorance method.</p>\n"},{"tags":[],"owner":{"account_id":4306772,"reputation":1035,"user_id":4328271,"display_name":"Abdul Hameed"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605784999,"creation_date":1605784999,"answer_id":64910680,"question_id":37511590,"body_markdown":"I tried to fix the problem in Ubuntu as follows:\r\n\r\nFirst Step: Move to the directory location.\r\n\r\n&gt; cd PATH/OF/Directory\r\n\r\nSecond Step: Make project directory to be readable with permissions.\r\n\r\n    sudo chown -R 777 project\r\n    sudo chmod -R 777 project\r\n\r\n* Replace &#39;project&#39; directory with your directory/folder.\r\n\r\nBest Of Luck!\r\n\r\n","title":"PyCharm - Unable to save settings - Failed to save settings. Please restart PyCharm Community Edition","body":"<p>I tried to fix the problem in Ubuntu as follows:</p>\n<p>First Step: Move to the directory location.</p>\n<blockquote>\n<p>cd PATH/OF/Directory</p>\n</blockquote>\n<p>Second Step: Make project directory to be readable with permissions.</p>\n<pre><code>sudo chown -R 777 project\nsudo chmod -R 777 project\n</code></pre>\n<ul>\n<li>Replace 'project' directory with your directory/folder.</li>\n</ul>\n<p>Best Of Luck!</p>\n"},{"tags":[],"owner":{"account_id":22515197,"reputation":9,"user_id":16709517,"display_name":"spacely3333"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1700844478,"creation_date":1700844478,"answer_id":77544602,"question_id":37511590,"body_markdown":"I just rebooted. That solved it.","title":"PyCharm - Unable to save settings - Failed to save settings. Please restart PyCharm Community Edition","body":"<p>I just rebooted. That solved it.</p>\n"}],"owner":{"account_id":2258112,"reputation":1607,"user_id":1988837,"display_name":"ramsey0"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28461,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":13,"score":15,"last_activity_date":1700844478,"creation_date":1464535163,"question_id":37511590,"body_markdown":"PyCharm is trowing this exception when I save.\r\n\r\n    WARN - mponents.impl.stores.StoreUtil - Save settings failed\r\n    java.lang.StringIndexOutOfBoundsException: String index out of range: 0\r\n    \tat java.lang.String.charAt(String.java:658)\r\n    \tat com.intellij.configurationStore.ApplicationStorageManager.expandMacros(ApplicationStoreImpl.kt:108)\r\n    \tat com.intellij.configurationStore.StateStorageManagerImpl.createStateStorage(StateStorageManagerImpl.kt:194)\r\n    \tat com.intellij.configurationStore.StateStorageManagerImpl.getOrCreateStorage(StateStorageManagerImpl.kt:150)\r\n    \tat com.intellij.configurationStore.StateStorageManagerImpl.getStateStorage(StateStorageManagerImpl.kt:133)\r\n    \tat com.intellij.configurationStore.StateStorageManagerImpl$startExternalization$1.setState(StateStorageManagerImpl.kt:342)\r\n    \tat com.intellij.configurationStore.ComponentStoreImpl.commitComponent(ComponentStoreImpl.kt:199)\r\n    \tat com.intellij.configurationStore.ComponentStoreImpl.save(ComponentStoreImpl.kt:124)\r\n    \tat com.intellij.openapi.components.impl.stores.StoreUtil.save(StoreUtil.java:49)\r\n    \tat com.intellij.openapi.application.impl.ApplicationImpl.saveSettings(ApplicationImpl.java:1433)\r\n    \tat com.intellij.ide.SaveAndSyncHandlerImpl.doSaveDocumentsAndProjectsAndApp(SaveAndSyncHandlerImpl.java:150)\r\n    \tat com.intellij.ide.SaveAndSyncHandlerImpl.saveProjectsAndDocuments(SaveAndSyncHandlerImpl.java:134)\r\n    \tat com.intellij.ide.SaveAndSyncHandlerImpl$4.onFrameDeactivated(SaveAndSyncHandlerImpl.java:104)\r\n    \tat com.intellij.ide.FrameStateManagerImpl.fireDeactivationEvent(FrameStateManagerImpl.java:87)\r\n    \tat com.intellij.ide.FrameStateManagerImpl.access$500(FrameStateManagerImpl.java:32)\r\n    \tat com.intellij.ide.FrameStateManagerImpl$2$1.run(FrameStateManagerImpl.java:72)\r\n    \tat com.intellij.util.concurrency.QueueProcessor.runSafely(QueueProcessor.java:238)\r\n    \tat com.intellij.util.Alarm$Request$1.run(Alarm.java:352)\r\n    \tat com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.runNextEvent(LaterInvocator.java:337)\r\n    \tat com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.run(LaterInvocator.java:321)\r\n    \tat java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:311)\r\n    \tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:756)\r\n    \tat java.awt.EventQueue.access$500(EventQueue.java:97)\r\n    \tat java.awt.EventQueue$3.run(EventQueue.java:709)\r\n    \tat java.awt.EventQueue$3.run(EventQueue.java:703)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:76)\r\n    \tat java.awt.EventQueue.dispatchEvent(EventQueue.java:726)\r\n    \tat com.intellij.ide.IdeEventQueue.defaultDispatchEvent(IdeEventQueue.java:866)\r\n    \tat com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:654)\r\n    \tat com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:381)\r\n    \tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)\r\n    \tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\r\n    \tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\r\n    \tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n    \tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\r\n    \tat java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\r\n\r\nAnd giving me this error message.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/0nMHg.png\r\n\r\nI don&#39;t think it&#39;s a problem of permissions on the `.idea` file or anything like that, but I&#39;m really not sure.\r\n\r\nI get some other errors and warnings in the stack trace, but this is the one that recurs when I try to save projects.\r\n\r\nThis problem persists when I run PyCharm CE with sudo like this\r\n`sudo -u [username] /Applications/PyCharm\\ CE.app/Contents/MacOS/pycharm`\r\n\r\nAnyone got any ideas?\r\n\r\nOS: MacOS El Capitan\r\nPycharm: PyCharm Community Edition 5.0.5\r\nJRE: 1.8.0_76-release-b162 x86_64\r\nJVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.","title":"PyCharm - Unable to save settings - Failed to save settings. Please restart PyCharm Community Edition","body":"<p>PyCharm is trowing this exception when I save.</p>\n\n<pre><code>WARN - mponents.impl.stores.StoreUtil - Save settings failed\njava.lang.StringIndexOutOfBoundsException: String index out of range: 0\n    at java.lang.String.charAt(String.java:658)\n    at com.intellij.configurationStore.ApplicationStorageManager.expandMacros(ApplicationStoreImpl.kt:108)\n    at com.intellij.configurationStore.StateStorageManagerImpl.createStateStorage(StateStorageManagerImpl.kt:194)\n    at com.intellij.configurationStore.StateStorageManagerImpl.getOrCreateStorage(StateStorageManagerImpl.kt:150)\n    at com.intellij.configurationStore.StateStorageManagerImpl.getStateStorage(StateStorageManagerImpl.kt:133)\n    at com.intellij.configurationStore.StateStorageManagerImpl$startExternalization$1.setState(StateStorageManagerImpl.kt:342)\n    at com.intellij.configurationStore.ComponentStoreImpl.commitComponent(ComponentStoreImpl.kt:199)\n    at com.intellij.configurationStore.ComponentStoreImpl.save(ComponentStoreImpl.kt:124)\n    at com.intellij.openapi.components.impl.stores.StoreUtil.save(StoreUtil.java:49)\n    at com.intellij.openapi.application.impl.ApplicationImpl.saveSettings(ApplicationImpl.java:1433)\n    at com.intellij.ide.SaveAndSyncHandlerImpl.doSaveDocumentsAndProjectsAndApp(SaveAndSyncHandlerImpl.java:150)\n    at com.intellij.ide.SaveAndSyncHandlerImpl.saveProjectsAndDocuments(SaveAndSyncHandlerImpl.java:134)\n    at com.intellij.ide.SaveAndSyncHandlerImpl$4.onFrameDeactivated(SaveAndSyncHandlerImpl.java:104)\n    at com.intellij.ide.FrameStateManagerImpl.fireDeactivationEvent(FrameStateManagerImpl.java:87)\n    at com.intellij.ide.FrameStateManagerImpl.access$500(FrameStateManagerImpl.java:32)\n    at com.intellij.ide.FrameStateManagerImpl$2$1.run(FrameStateManagerImpl.java:72)\n    at com.intellij.util.concurrency.QueueProcessor.runSafely(QueueProcessor.java:238)\n    at com.intellij.util.Alarm$Request$1.run(Alarm.java:352)\n    at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.runNextEvent(LaterInvocator.java:337)\n    at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.run(LaterInvocator.java:321)\n    at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:311)\n    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:756)\n    at java.awt.EventQueue.access$500(EventQueue.java:97)\n    at java.awt.EventQueue$3.run(EventQueue.java:709)\n    at java.awt.EventQueue$3.run(EventQueue.java:703)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:76)\n    at java.awt.EventQueue.dispatchEvent(EventQueue.java:726)\n    at com.intellij.ide.IdeEventQueue.defaultDispatchEvent(IdeEventQueue.java:866)\n    at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:654)\n    at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:381)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\n    at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\n</code></pre>\n\n<p>And giving me this error message.</p>\n\n<p><a href=\"https://i.stack.imgur.com/0nMHg.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/0nMHg.png\" alt=\"enter image description here\"></a></p>\n\n<p>I don't think it's a problem of permissions on the <code>.idea</code> file or anything like that, but I'm really not sure.</p>\n\n<p>I get some other errors and warnings in the stack trace, but this is the one that recurs when I try to save projects.</p>\n\n<p>This problem persists when I run PyCharm CE with sudo like this\n<code>sudo -u [username] /Applications/PyCharm\\ CE.app/Contents/MacOS/pycharm</code></p>\n\n<p>Anyone got any ideas?</p>\n\n<p>OS: MacOS El Capitan\nPycharm: PyCharm Community Edition 5.0.5\nJRE: 1.8.0_76-release-b162 x86_64\nJVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.</p>\n"},{"tags":["java","apache-zookeeper","apache-curator"],"owner":{"account_id":24992835,"reputation":3,"user_id":20381955,"display_name":"Bohdan Hrytsai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700844340,"creation_date":1700832998,"question_id":77543542,"body_markdown":"I am trying to create client for Apache Zookeeper server with Apache Curator.\r\n\r\nIdea:\r\nTo create client for some worker or job that will be running with some interval. For now I have 3 clients with this worker. Each class has isDefaultLeader field that means that this client must be a leader (if it&#39;s connected to Zoo server).\r\n\r\nIf so, then this client must be a leader otherwise leader must be selected automatically.\r\n\r\nSo if 2 client working with isDefaultLeader=false then leader must be selected automatically, if third leader join with isDefaultLeader=true then this one must become leader.\r\n\r\nI am going to launch several such clients for each specific task and I would not like all the tasks to be performed on one node and I need some kind of task distribution tool. I mean, if we first launch a set of different tasks on the first server, they will immediately become leaders, and when I launch the same tasks on another machine, they will already have a leader and will all be executed on 1 machine. So I need to distribute it somehow.\r\n\r\nSo this is the only thing that came to my mind, maybe you have some better ideas.\r\n\r\nHow I can implement this?\r\n\r\nThere is my test code:\r\n\r\n\r\n    package org.example;\r\n\r\n    import org.apache.curator.framework.CuratorFramework;\r\n    import org.apache.curator.framework.CuratorFrameworkFactory;\r\n    import org.apache.curator.framework.recipes.leader.LeaderSelector;\r\n    import org.apache.curator.framework.recipes.leader.LeaderSelectorListener;\r\n    import org.apache.curator.framework.state.ConnectionState;\r\n    import org.apache.curator.retry.ExponentialBackoffRetry;\r\n    \r\n    import java.util.concurrent.CountDownLatch;\r\n    \r\n    public class DistributedProgram {\r\n    \r\n        private static final String ZOOKEEPER_CONNECTION_STRING = &quot;localhost:2181,localhost:2182,localhost:2183&quot;;\r\n        private static final String LEADER_PATH = &quot;/leader-election&quot;;\r\n        private static final String PROGRAM_INSTANCE_NAME = &quot;my-program-instance&quot;;\r\n        private static boolean isDefaultLeader = true;\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            final CuratorFramework client = CuratorFrameworkFactory.newClient(\r\n                    ZOOKEEPER_CONNECTION_STRING, new ExponentialBackoffRetry(1000, 3));\r\n            client.start();\r\n    \r\n            final CountDownLatch shutdownLatch = new CountDownLatch(1);\r\n    \r\n    \r\n            try {\r\n                final LeaderSelector leaderSelector  = new LeaderSelector(client, LEADER_PATH, new LeaderSelectorListener() {\r\n                    @Override\r\n                    public void takeLeadership(CuratorFramework curatorFramework) {\r\n                        System.out.println(&quot;I am the leader. Performing the work.&quot;);\r\n    \r\n                        try {\r\n                            while (!Thread.currentThread().isInterrupted()) {\r\n                                executeJob();\r\n                            }\r\n                        } finally {\r\n                            shutdownLatch.countDown();\r\n                        }\r\n    \r\n                    }\r\n    \r\n                    @Override\r\n                    public void stateChanged(CuratorFramework curatorFramework, org.apache.curator.framework.state.ConnectionState connectionState)  {\r\n    \r\n                        if (connectionState == org.apache.curator.framework.state.ConnectionState.SUSPENDED\r\n                                || connectionState == org.apache.curator.framework.state.ConnectionState.LOST) {\r\n                            System.out.println(&quot;I am not the leader. Waiting...&quot;);\r\n                            // isLeader = false;\r\n                        } else if (connectionState == ConnectionState.CONNECTED) {\r\n                            System.out.println(&quot;NEW CONNECTION!!!&quot;);\r\n    \r\n    \r\n                        }\r\n                    }\r\n    \r\n                });\r\n    \r\n    \r\n                leaderSelector.setId(PROGRAM_INSTANCE_NAME);\r\n                leaderSelector.autoRequeue();\r\n    \r\n                if (isDefaultLeader) {\r\n                    leaderSelector.requeue();\r\n                }\r\n                leaderSelector.start();\r\n    \r\n    \r\n                shutdownLatch.await();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                client.close();\r\n            }\r\n        }\r\n    \r\n        private static void executeJob() {\r\n            try {\r\n                Thread.sleep(5000);\r\n    \r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n            System.out.println(&quot;Executing the custom job as a leader.&quot;);\r\n    \r\n        }\r\n    }\r\n\r\n\r\n","title":"How to specify default Leader for Apache Curator","body":"<p>I am trying to create client for Apache Zookeeper server with Apache Curator.</p>\n<p>Idea:\nTo create client for some worker or job that will be running with some interval. For now I have 3 clients with this worker. Each class has isDefaultLeader field that means that this client must be a leader (if it's connected to Zoo server).</p>\n<p>If so, then this client must be a leader otherwise leader must be selected automatically.</p>\n<p>So if 2 client working with isDefaultLeader=false then leader must be selected automatically, if third leader join with isDefaultLeader=true then this one must become leader.</p>\n<p>I am going to launch several such clients for each specific task and I would not like all the tasks to be performed on one node and I need some kind of task distribution tool. I mean, if we first launch a set of different tasks on the first server, they will immediately become leaders, and when I launch the same tasks on another machine, they will already have a leader and will all be executed on 1 machine. So I need to distribute it somehow.</p>\n<p>So this is the only thing that came to my mind, maybe you have some better ideas.</p>\n<p>How I can implement this?</p>\n<p>There is my test code:</p>\n<pre><code>package org.example;\n\nimport org.apache.curator.framework.CuratorFramework;\nimport org.apache.curator.framework.CuratorFrameworkFactory;\nimport org.apache.curator.framework.recipes.leader.LeaderSelector;\nimport org.apache.curator.framework.recipes.leader.LeaderSelectorListener;\nimport org.apache.curator.framework.state.ConnectionState;\nimport org.apache.curator.retry.ExponentialBackoffRetry;\n\nimport java.util.concurrent.CountDownLatch;\n\npublic class DistributedProgram {\n\n    private static final String ZOOKEEPER_CONNECTION_STRING = &quot;localhost:2181,localhost:2182,localhost:2183&quot;;\n    private static final String LEADER_PATH = &quot;/leader-election&quot;;\n    private static final String PROGRAM_INSTANCE_NAME = &quot;my-program-instance&quot;;\n    private static boolean isDefaultLeader = true;\n\n\n    public static void main(String[] args) {\n        final CuratorFramework client = CuratorFrameworkFactory.newClient(\n                ZOOKEEPER_CONNECTION_STRING, new ExponentialBackoffRetry(1000, 3));\n        client.start();\n\n        final CountDownLatch shutdownLatch = new CountDownLatch(1);\n\n\n        try {\n            final LeaderSelector leaderSelector  = new LeaderSelector(client, LEADER_PATH, new LeaderSelectorListener() {\n                @Override\n                public void takeLeadership(CuratorFramework curatorFramework) {\n                    System.out.println(&quot;I am the leader. Performing the work.&quot;);\n\n                    try {\n                        while (!Thread.currentThread().isInterrupted()) {\n                            executeJob();\n                        }\n                    } finally {\n                        shutdownLatch.countDown();\n                    }\n\n                }\n\n                @Override\n                public void stateChanged(CuratorFramework curatorFramework, org.apache.curator.framework.state.ConnectionState connectionState)  {\n\n                    if (connectionState == org.apache.curator.framework.state.ConnectionState.SUSPENDED\n                            || connectionState == org.apache.curator.framework.state.ConnectionState.LOST) {\n                        System.out.println(&quot;I am not the leader. Waiting...&quot;);\n                        // isLeader = false;\n                    } else if (connectionState == ConnectionState.CONNECTED) {\n                        System.out.println(&quot;NEW CONNECTION!!!&quot;);\n\n\n                    }\n                }\n\n            });\n\n\n            leaderSelector.setId(PROGRAM_INSTANCE_NAME);\n            leaderSelector.autoRequeue();\n\n            if (isDefaultLeader) {\n                leaderSelector.requeue();\n            }\n            leaderSelector.start();\n\n\n            shutdownLatch.await();\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            client.close();\n        }\n    }\n\n    private static void executeJob() {\n        try {\n            Thread.sleep(5000);\n\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        System.out.println(&quot;Executing the custom job as a leader.&quot;);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","concurrenthashmap"],"comments":[{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1553055678,"post_id":55253285,"comment_id":97239196,"body_markdown":"I don&#39;t have a source for this, but I do recall reading somewhere that it&#39;s basically a guesstimate from empirically observed runs. I&#39;m guessing they had a bunch of example use cases of CHM that they felt were a good representation of &quot;typical&quot; use, played around with some numbers, and found that 0.5 seems to work well.","body":"I don&#39;t have a source for this, but I do recall reading somewhere that it&#39;s basically a guesstimate from empirically observed runs. I&#39;m guessing they had a bunch of example use cases of CHM that they felt were a good representation of &quot;typical&quot; use, played around with some numbers, and found that 0.5 seems to work well."},{"owner":{"account_id":4533206,"reputation":541,"user_id":3683093,"accept_rate":80,"display_name":"Jason"},"score":0,"creation_date":1553600627,"post_id":55253285,"comment_id":97436168,"body_markdown":"@yshavit I think I got the reason: see my answer","body":"@yshavit I think I got the reason: see my answer"}],"answers":[{"tags":[],"owner":{"account_id":4533206,"reputation":541,"user_id":3683093,"accept_rate":80,"display_name":"Jason"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553600575,"creation_date":1553600575,"answer_id":55356320,"question_id":55253285,"body_markdown":"I think I got the reason for 0.5:\r\nthe max elements counts is `0.75 * bin[].length`, then the bin will be resized.\r\nSo assume the elements counts is: `0.5 * bin[].length`, then the average element counts per bin is 0.5.","title":"Why use 0.5 as the parameter of Poisson distribution in ConcurrentHashMap?","body":"<p>I think I got the reason for 0.5:\nthe max elements counts is <code>0.75 * bin[].length</code>, then the bin will be resized.\nSo assume the elements counts is: <code>0.5 * bin[].length</code>, then the average element counts per bin is 0.5.</p>\n"},{"comments":[{"owner":{"account_id":23004535,"reputation":1381,"user_id":17128041,"display_name":"sidharth vijayakumar"},"score":0,"creation_date":1700918078,"post_id":77544587,"comment_id":136712295,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77544587/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"display_name":"user22979109"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700844296,"creation_date":1700844296,"answer_id":77544587,"question_id":55253285,"body_markdown":"it&#39;s because the average of 0.75 and 0.375(the loading rate after rehash) is 0.5625 which is approximately 0.5 it&#39;s not guesstimate","title":"Why use 0.5 as the parameter of Poisson distribution in ConcurrentHashMap?","body":"<p>it's because the average of 0.75 and 0.375(the loading rate after rehash) is 0.5625 which is approximately 0.5 it's not guesstimate</p>\n"}],"owner":{"account_id":4533206,"reputation":541,"user_id":3683093,"accept_rate":80,"display_name":"Jason"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1700844296,"creation_date":1553053708,"question_id":55253285,"body_markdown":"according the java doc in ConcurrentHashMap:  \r\n    \r\n     * Ideally, the frequency of nodes in bins follows a Poisson distribution\r\n     * (http://en.wikipedia.org/wiki/Poisson_distribution) with a\r\n     * parameter of about 0.5 on average, given the resizing threshold\r\n     * of 0.75, although with a large variance because of resizing\r\n     * granularity. Ignoring variance, the expected occurrences of\r\n     * list size k are (exp(-0.5) * pow(0.5, k) / factorial(k)). The\r\n     * first values are:\r\n\r\nQuestion is: How does the 0.5 parameter come?","title":"Why use 0.5 as the parameter of Poisson distribution in ConcurrentHashMap?","body":"<p>according the java doc in ConcurrentHashMap:  </p>\n\n<pre><code> * Ideally, the frequency of nodes in bins follows a Poisson distribution\n * (http://en.wikipedia.org/wiki/Poisson_distribution) with a\n * parameter of about 0.5 on average, given the resizing threshold\n * of 0.75, although with a large variance because of resizing\n * granularity. Ignoring variance, the expected occurrences of\n * list size k are (exp(-0.5) * pow(0.5, k) / factorial(k)). The\n * first values are:\n</code></pre>\n\n<p>Question is: How does the 0.5 parameter come?</p>\n"},{"tags":["java","hbase","hbasetestingutility"],"owner":{"account_id":29285360,"reputation":11,"user_id":22437092,"display_name":"DevF"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700844277,"creation_date":1700844277,"question_id":77544583,"body_markdown":"We have a non-standard setup where we run our application with an HBaseTestingUtil during our integration tests, but we bring up the mini cluster in non-test code.\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.hbase&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hbase-testing-util&lt;/artifactId&gt;\r\n    &lt;version&gt;${hbase.version}&lt;/version&gt;\r\n    &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nWe recently upgraded from HBase1.x where it worked to HBase2.x which it not stopped working and our service crashes with  \r\n`java.lang.NoClassDefFoundError: org/junit/Assert`\r\n\r\nPart of the stack trace:\r\n\r\n```\r\nCaused by: java.lang.ClassNotFoundException: org.junit.Assert\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:387) ~[?:1.8.0_372]\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:418) ~[?:1.8.0_372]\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352) ~[?:1.8.0_372]\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:351) ~[?:1.8.0_372]\r\n        at org.apache.hadoop.test.GenericTestUtils.assertExists(GenericTestUtils.java:290) ~[hadoop-common-3.1.1.7.1.6.0-297-tests.jar:?]\r\n        at org.apache.hadoop.test.GenericTestUtils.getTestDir(GenericTestUtils.java:234) ~[hadoop-common-3.1.1.7.1.6.0-297-tests.jar:?]\r\n        at org.apache.hadoop.test.GenericTestUtils.getTestDir(GenericTestUtils.java:243) ~[hadoop-common-3.1.1.7.1.6.0-297-tests.jar:?]\r\n        at org.apache.hadoop.hdfs.MiniDFSCluster.getBaseDirectory(MiniDFSCluster.java:2915) ~[hadoop-hdfs-3.1.1.7.1.6.0-297-tests.jar:?]\r\n        at org.apache.hadoop.hdfs.MiniDFSCluster.determineDfsBaseDir(MiniDFSCluster.java:2905) ~[hadoop-hdfs-3.1.1.7.1.6.0-297-tests.jar:?]\r\n        at org.apache.hadoop.hdfs.MiniDFSCluster.initMiniDFSCluster(MiniDFSCluster.java:847) ~[hadoop-hdfs-3.1.1.7.1.6.0-297-tests.jar:?]\r\n        at org.apache.hadoop.hdfs.MiniDFSCluster.&lt;init&gt;(MiniDFSCluster.java:810) ~[hadoop-hdfs-3.1.1.7.1.6.0-297-tests.jar:?]\r\n        at org.apache.hadoop.hbase.HBaseTestingUtility.startMiniDFSCluster(HBaseTestingUtility.java:671) ~[hbase-server-2.2.3.7.1.6.0-297-tests.jar:2.2.3.7.1.6.0-297]\r\n        at org.apache.hadoop.hbase.HBaseTestingUtility.startMiniDFSCluster(HBaseTestingUtility.java:643) ~[hbase-server-2.2.3.7.1.6.0-297-tests.jar:2.2.3.7.1.6.0-297]\r\n        at org.apache.hadoop.hbase.HBaseTestingUtility.startMiniCluster(HBaseTestingUtility.java:1096) ~[hbase-server-2.2.3.7.1.6.0-297-tests.jar:2.2.3.7.1.6.0-297]\r\n        at org.apache.hadoop.hbase.HBaseTestingUtility.startMiniCluster(HBaseTestingUtility.java:1071) ~[hbase-server-2.2.3.7.1.6.0-297-tests.jar:2.2.3.7.1.6.0-297]\r\n```\r\n\r\nThe above also provides some info as to the specific versions we use.  \r\nI tried adding (no scope, and also tried runtime scope):\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;junit&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    &lt;version&gt;4.12&lt;/version&gt;  \r\n&lt;/dependency&gt;\r\n```\r\n\r\nDidn&#39;t work, so I assume the above code uses some test-specific classloader that doesnt contain all the classes from normal dependencies? Though not sure how thats possible.\r\n\r\nAlso tried the shaded version hoping it might pack junit in there, but didnt work.\r\n\r\nCan I get this to work somehow?","title":"Running HBaseTestingUtil in non-test code fail with ClassNotFoundException: org.junit.Assert","body":"<p>We have a non-standard setup where we run our application with an HBaseTestingUtil during our integration tests, but we bring up the mini cluster in non-test code.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.hbase&lt;/groupId&gt;\n    &lt;artifactId&gt;hbase-testing-util&lt;/artifactId&gt;\n    &lt;version&gt;${hbase.version}&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>We recently upgraded from HBase1.x where it worked to HBase2.x which it not stopped working and our service crashes with<br />\n<code>java.lang.NoClassDefFoundError: org/junit/Assert</code></p>\n<p>Part of the stack trace:</p>\n<pre><code>Caused by: java.lang.ClassNotFoundException: org.junit.Assert\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:387) ~[?:1.8.0_372]\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:418) ~[?:1.8.0_372]\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352) ~[?:1.8.0_372]\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:351) ~[?:1.8.0_372]\n        at org.apache.hadoop.test.GenericTestUtils.assertExists(GenericTestUtils.java:290) ~[hadoop-common-3.1.1.7.1.6.0-297-tests.jar:?]\n        at org.apache.hadoop.test.GenericTestUtils.getTestDir(GenericTestUtils.java:234) ~[hadoop-common-3.1.1.7.1.6.0-297-tests.jar:?]\n        at org.apache.hadoop.test.GenericTestUtils.getTestDir(GenericTestUtils.java:243) ~[hadoop-common-3.1.1.7.1.6.0-297-tests.jar:?]\n        at org.apache.hadoop.hdfs.MiniDFSCluster.getBaseDirectory(MiniDFSCluster.java:2915) ~[hadoop-hdfs-3.1.1.7.1.6.0-297-tests.jar:?]\n        at org.apache.hadoop.hdfs.MiniDFSCluster.determineDfsBaseDir(MiniDFSCluster.java:2905) ~[hadoop-hdfs-3.1.1.7.1.6.0-297-tests.jar:?]\n        at org.apache.hadoop.hdfs.MiniDFSCluster.initMiniDFSCluster(MiniDFSCluster.java:847) ~[hadoop-hdfs-3.1.1.7.1.6.0-297-tests.jar:?]\n        at org.apache.hadoop.hdfs.MiniDFSCluster.&lt;init&gt;(MiniDFSCluster.java:810) ~[hadoop-hdfs-3.1.1.7.1.6.0-297-tests.jar:?]\n        at org.apache.hadoop.hbase.HBaseTestingUtility.startMiniDFSCluster(HBaseTestingUtility.java:671) ~[hbase-server-2.2.3.7.1.6.0-297-tests.jar:2.2.3.7.1.6.0-297]\n        at org.apache.hadoop.hbase.HBaseTestingUtility.startMiniDFSCluster(HBaseTestingUtility.java:643) ~[hbase-server-2.2.3.7.1.6.0-297-tests.jar:2.2.3.7.1.6.0-297]\n        at org.apache.hadoop.hbase.HBaseTestingUtility.startMiniCluster(HBaseTestingUtility.java:1096) ~[hbase-server-2.2.3.7.1.6.0-297-tests.jar:2.2.3.7.1.6.0-297]\n        at org.apache.hadoop.hbase.HBaseTestingUtility.startMiniCluster(HBaseTestingUtility.java:1071) ~[hbase-server-2.2.3.7.1.6.0-297-tests.jar:2.2.3.7.1.6.0-297]\n</code></pre>\n<p>The above also provides some info as to the specific versions we use.<br />\nI tried adding (no scope, and also tried runtime scope):</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;junit&lt;/groupId&gt;\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n    &lt;version&gt;4.12&lt;/version&gt;  \n&lt;/dependency&gt;\n</code></pre>\n<p>Didn't work, so I assume the above code uses some test-specific classloader that doesnt contain all the classes from normal dependencies? Though not sure how thats possible.</p>\n<p>Also tried the shaded version hoping it might pack junit in there, but didnt work.</p>\n<p>Can I get this to work somehow?</p>\n"},{"tags":["java","gradle","character-encoding","javapackager"],"comments":[{"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"score":0,"creation_date":1700822409,"post_id":77542312,"comment_id":136702977,"body_markdown":"&quot;It can not more read Cyrillic data files.&quot; How exactly? Is there an exception of some sort? In which way the problem manifests itself?","body":"&quot;It can not more read Cyrillic data files.&quot; How exactly? Is there an exception of some sort? In which way the problem manifests itself?"},{"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"score":0,"creation_date":1700823305,"post_id":77542312,"comment_id":136703117,"body_markdown":"No, it opens the files and reads the strings. But the content is not readable. Only hieroglyphs","body":"No, it opens the files and reads the strings. But the content is not readable. Only hieroglyphs"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1700824418,"post_id":77542312,"comment_id":136703295,"body_markdown":"*But when I export it - It can not more read Cyrillic data files.* The more important thing is *how (and where) it&#39;s run*. What&#39;s the answer to that?","body":"<i>But when I export it - It can not more read Cyrillic data files.</i> The more important thing is <i>how (and where) it&#39;s run</i>. What&#39;s the answer to that?"},{"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"score":0,"creation_date":1700824998,"post_id":77542312,"comment_id":136703369,"body_markdown":"What is the embedded JRE version? What is the encoding of the data files?","body":"What is the embedded JRE version? What is the encoding of the data files?"},{"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"score":0,"creation_date":1700828723,"post_id":77542312,"comment_id":136703938,"body_markdown":"The files have UTF-8 encoding and working without problems inside the IDE. If I right understood it uses by default: liberica-17.0.6","body":"The files have UTF-8 encoding and working without problems inside the IDE. If I right understood it uses by default: liberica-17.0.6"},{"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"score":0,"creation_date":1700828899,"post_id":77542312,"comment_id":136703970,"body_markdown":"@g00se I test on the same Windows PC. Inside the IDE it works perfect by after I create the executable package - it can not more read Cyrillic characters. What are you talking about when you says: how it run?","body":"@g00se I test on the same Windows PC. Inside the IDE it works perfect by after I create the executable package - it can not more read Cyrillic characters. What are you talking about when you says: how it run?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1700829411,"post_id":77542312,"comment_id":136704059,"body_markdown":"*What are you talking about when you says: how it run?* I mean - is it a jar, .exe or what? If the former, how do you start it?","body":"<i>What are you talking about when you says: how it run?</i> I mean - is it a jar, .exe or what? If the former, how do you start it?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1700830444,"post_id":77542312,"comment_id":136704253,"body_markdown":"Also, is this text being displayed in a *windowed* or console fashion?","body":"Also, is this text being displayed in a <i>windowed</i> or console fashion?"},{"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"score":0,"creation_date":1700832749,"post_id":77542312,"comment_id":136704634,"body_markdown":"@g00se It is .exe. I launch it using simple double click on Windows x64 machine. The JRE is integrated and lays in the same folder as the .EXE","body":"@g00se It is .exe. I launch it using simple double click on Windows x64 machine. The JRE is integrated and lays in the same folder as the .EXE"},{"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"score":0,"creation_date":1700834604,"post_id":77542312,"comment_id":136704959,"body_markdown":"For example: I have created an another executable with the same Gradle-settings/script using my LibGDX game. I have not got any errors - everything is fine. But this game (created using Processing) can not determine Cyrillic characters after export. I have tried already the third packaging tool (launch4j, JPackage and JavaPackager). My text displayed on a window.","body":"For example: I have created an another executable with the same Gradle-settings/script using my LibGDX game. I have not got any errors - everything is fine. But this game (created using Processing) can not determine Cyrillic characters after export. I have tried already the third packaging tool (launch4j, JPackage and JavaPackager). My text displayed on a window."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1700835424,"post_id":77542312,"comment_id":136705118,"body_markdown":"I&#39;m wondering if your wrapper is expecting embedded fonts that are missing (i.e. one(s) that will do Cyrillic)","body":"I&#39;m wondering if your wrapper is expecting embedded fonts that are missing (i.e. one(s) that will do Cyrillic)"},{"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"score":0,"creation_date":1700836529,"post_id":77542312,"comment_id":136705309,"body_markdown":"@g00se The hardcoded strings are shown normally. But the strings which were uploaded from an external file can not be right &quot;decoded&quot;.","body":"@g00se The hardcoded strings are shown normally. But the strings which were uploaded from an external file can not be right &quot;decoded&quot;."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1700840670,"post_id":77542312,"comment_id":136705957,"body_markdown":"OK. Moving theories ;) Here&#39;s the next one: the vm is getting invoked with the platform value of `file.encoding` which was somehow different in your IDE. If this theory is correct `echo &#39;System.getProperty(&quot;file.encoding&quot;);&#39; | jshell` would say something other than a Unicode encoding","body":"OK. Moving theories ;) Here&#39;s the next one: the vm is getting invoked with the platform value of <code>file.encoding</code> which was somehow different in your IDE. If this theory is correct <code>echo &#39;System.getProperty(&quot;file.encoding&quot;);&#39; | jshell</code> would say something other than a Unicode encoding"}],"answers":[{"tags":[],"owner":{"account_id":288740,"reputation":36435,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700844202,"creation_date":1700844202,"answer_id":77544575,"question_id":77542312,"body_markdown":"When reading your data files, make sure that you are specifying the encoding in which to read the files. If you use methods that could take an encoding but do not specify one, then up to Java 17 the system default encoding is used, which can be `UTF-8` but can also be something else. It might be the case that when launching through the IDE the system encoding is overwritten to be `UTF-8` and that it works due to that.","title":"When I export my Java game with embedded JRE the game can not more read Cyrillic strings from external files","body":"<p>When reading your data files, make sure that you are specifying the encoding in which to read the files. If you use methods that could take an encoding but do not specify one, then up to Java 17 the system default encoding is used, which can be <code>UTF-8</code> but can also be something else. It might be the case that when launching through the IDE the system encoding is overwritten to be <code>UTF-8</code> and that it works due to that.</p>\n"}],"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77544575,"answer_count":1,"score":0,"last_activity_date":1700844202,"creation_date":1700820758,"question_id":77542312,"body_markdown":"I try to export my videogame as executable with an embedded Java.\r\nWhen I launch the videogame from the IDE (Intellij IDEa) it works normally with external Cyrillic text files. But when I export it - It can not more read Cyrillic data files.\r\n\r\nMy Gradle build script:\r\n\r\n    task packageMyApp(type: io.github.fvarrui.javapackager.gradle.PackageTask, dependsOn: build) {        \r\n        mainClass = mainClassName\r\n        bundleJre = true\r\n        generateInstaller = false\r\n        administratorRequired = false\r\n        platform = &quot;windows&quot;        \r\n    }\r\n\r\nWhat can be wrong? Should I manual change the JRE which will be integrated in the game build? \r\nI have also tried to use JPackage. After creation of the executable distribution I have the same trouble. \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wCprG.png","title":"When I export my Java game with embedded JRE the game can not more read Cyrillic strings from external files","body":"<p>I try to export my videogame as executable with an embedded Java.\nWhen I launch the videogame from the IDE (Intellij IDEa) it works normally with external Cyrillic text files. But when I export it - It can not more read Cyrillic data files.</p>\n<p>My Gradle build script:</p>\n<pre><code>task packageMyApp(type: io.github.fvarrui.javapackager.gradle.PackageTask, dependsOn: build) {        \n    mainClass = mainClassName\n    bundleJre = true\n    generateInstaller = false\n    administratorRequired = false\n    platform = &quot;windows&quot;        \n}\n</code></pre>\n<p>What can be wrong? Should I manual change the JRE which will be integrated in the game build?\nI have also tried to use JPackage. After creation of the executable distribution I have the same trouble.\n<a href=\"https://i.stack.imgur.com/wCprG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wCprG.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","maven","maven-archetype"],"comments":[{"owner":{"account_id":84884,"reputation":12163,"user_id":237033,"display_name":"Sahil Muthoo"},"score":0,"creation_date":1314089660,"post_id":7158348,"comment_id":8588888,"body_markdown":"I recommend that you read the [Maven Getting Started Guide](http://maven.apache.org/guides/getting-started/index.html). It&#39;s short and covers a lot of ground.","body":"I recommend that you read the <a href=\"http://maven.apache.org/guides/getting-started/index.html\" rel=\"nofollow noreferrer\">Maven Getting Started Guide</a>. It&#39;s short and covers a lot of ground."}],"answers":[{"comments":[{"owner":{"account_id":38739,"reputation":6859,"user_id":111398,"accept_rate":70,"display_name":"huahsin68"},"score":5,"creation_date":1389672954,"post_id":7158395,"comment_id":31753389,"body_markdown":"I don&#39;t see `maven-archetype-simple` in my Eclipse selection, but I see `maven-archetype-quickstart`. Are they the same?","body":"I don&#39;t see <code>maven-archetype-simple</code> in my Eclipse selection, but I see <code>maven-archetype-quickstart</code>. Are they the same?"},{"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"score":0,"creation_date":1414405705,"post_id":7158395,"comment_id":41786380,"body_markdown":"Please take a look on my later edit that refers to maven documentation. Concerning to eclipse plugin: I personally prefer to edit `pom.xml` manually and run command line from command prompt.","body":"Please take a look on my later edit that refers to maven documentation. Concerning to eclipse plugin: I personally prefer to edit <code>pom.xml</code> manually and run command line from command prompt."}],"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"comment_count":2,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1414405619,"creation_date":1314089367,"answer_id":7158395,"question_id":7158348,"body_markdown":"I think you should use `maven-archetype-simple`\r\n\r\n\r\nEDIT\r\n\r\nAccording to the maven [documentation][1]: \r\n\r\n - `maven-archetype-quickstart`\tAn archetype which contains a sample Maven project.\r\n - `maven-archetype-simple`\tAn archetype which contains a simple Maven project.\r\n\r\n\r\n  [1]: http://maven.apache.org/guides/introduction/introduction-to-archetypes.html","title":"What archetype to choose for a simple java project","body":"<p>I think you should use <code>maven-archetype-simple</code></p>\n\n<p>EDIT</p>\n\n<p>According to the maven <a href=\"http://maven.apache.org/guides/introduction/introduction-to-archetypes.html\" rel=\"noreferrer\">documentation</a>: </p>\n\n<ul>\n<li><code>maven-archetype-quickstart</code> An archetype which contains a sample Maven project.</li>\n<li><code>maven-archetype-simple</code> An archetype which contains a simple Maven project.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":1560281,"reputation":6593,"user_id":1450294,"accept_rate":61,"display_name":"Michael Scheper"},"score":14,"creation_date":1394495806,"post_id":7158406,"comment_id":33907272,"body_markdown":"While this advice may have merit, it doesn&#39;t answer the question. The whole point of archetypes, as I understand it, is to save the developer from this kind of boilerplate, and make it easy to follow best practices.","body":"While this advice may have merit, it doesn&#39;t answer the question. The whole point of archetypes, as I understand it, is to save the developer from this kind of boilerplate, and make it easy to follow best practices."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":1,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1314089452,"creation_date":1314089452,"answer_id":7158406,"question_id":7158348,"body_markdown":"I would start with a very simple pom.xml file which has only what you need. Something like\r\n\r\n    &lt;project&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.mycompany.app&lt;/groupId&gt;\r\n      &lt;artifactId&gt;my-module&lt;/artifactId&gt;\r\n      &lt;version&gt;1&lt;/version&gt;\r\n    &lt;/project&gt;\r\n\r\nfrom http://maven.apache.org/guides/introduction/introduction-to-the-pom.html\r\n","title":"What archetype to choose for a simple java project","body":"<p>I would start with a very simple pom.xml file which has only what you need. Something like</p>\n\n<pre><code>&lt;project&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.mycompany.app&lt;/groupId&gt;\n  &lt;artifactId&gt;my-module&lt;/artifactId&gt;\n  &lt;version&gt;1&lt;/version&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>from <a href=\"http://maven.apache.org/guides/introduction/introduction-to-the-pom.html\">http://maven.apache.org/guides/introduction/introduction-to-the-pom.html</a></p>\n"},{"comments":[{"owner":{"account_id":23853,"reputation":935,"user_id":60160,"accept_rate":60,"display_name":"TimP"},"score":0,"creation_date":1387384393,"post_id":7158441,"comment_id":30937451,"body_markdown":"that default is now 333, not 3","body":"that default is now 333, not 3"},{"owner":{"account_id":7607,"reputation":22631,"user_id":13263,"accept_rate":100,"display_name":"slf"},"score":4,"creation_date":1398262456,"post_id":7158441,"comment_id":35570443,"body_markdown":"it is now `380: remote -&gt; org.apache.maven.archetypes:maven-archetype-quickstart (An archetype which contains a sample Maven project.)`","body":"it is now <code>380: remote -&gt; org.apache.maven.archetypes:maven-archetype-quickstart (An archetype which contains a sample Maven project.)</code>"},{"owner":{"account_id":125813,"reputation":23095,"user_id":321862,"accept_rate":84,"display_name":"Oh Chin Boon"},"score":1,"creation_date":1418045478,"post_id":7158441,"comment_id":43170421,"body_markdown":"It says e.g., not i.e., so it does imply that the default selection is 3.","body":"It says e.g., not i.e., so it does imply that the default selection is 3."},{"owner":{"account_id":132233,"reputation":3702,"user_id":332788,"accept_rate":71,"display_name":"aliopi"},"score":2,"creation_date":1442477971,"post_id":7158441,"comment_id":53101043,"body_markdown":"It is now 644  `org.apache.maven.archetypes:maven-archetype-quickstart:1.1`","body":"It is now 644  <code>org.apache.maven.archetypes:maven-archetype-quickstart:1.1</code>"},{"owner":{"account_id":32277,"reputation":183150,"user_id":89391,"accept_rate":79,"display_name":"miku"},"score":0,"creation_date":1476365566,"post_id":7158441,"comment_id":67321848,"body_markdown":"It&#39;s now 874 :)","body":"It&#39;s now 874 :)"}],"tags":[],"owner":{"account_id":125813,"reputation":23095,"user_id":321862,"accept_rate":84,"display_name":"Oh Chin Boon"},"comment_count":5,"down_vote_count":3,"up_vote_count":21,"is_accepted":true,"score":18,"last_activity_date":1544220295,"creation_date":1314089653,"answer_id":7158441,"question_id":7158348,"body_markdown":"When you do a `mvn archetype:generate`, a default selection appears in enclosing curly brackets `()`, e.g. `(1274)`, if you scroll up to see what #1274 is, it is usually the default Java archetype to try out or start out with, if doing simple Java projects, so is safe to select.","title":"What archetype to choose for a simple java project","body":"<p>When you do a <code>mvn archetype:generate</code>, a default selection appears in enclosing curly brackets <code>()</code>, e.g. <code>(1274)</code>, if you scroll up to see what #1274 is, it is usually the default Java archetype to try out or start out with, if doing simple Java projects, so is safe to select.</p>\n"},{"comments":[{"owner":{"account_id":163260,"reputation":55313,"user_id":385273,"accept_rate":100,"display_name":"Ben"},"score":1,"creation_date":1386053112,"post_id":7159047,"comment_id":30367545,"body_markdown":"Note that this is in the Eclipse plugin by default (at least it is today).","body":"Note that this is in the Eclipse plugin by default (at least it is today)."},{"owner":{"account_id":3583368,"reputation":129,"user_id":2991031,"accept_rate":100,"display_name":"Mowgli"},"score":0,"creation_date":1576824665,"post_id":7159047,"comment_id":105028550,"body_markdown":"here I am going to create maven-archetype-webapp and download the maven catalog but getting an error.","body":"here I am going to create maven-archetype-webapp and download the maven catalog but getting an error."},{"owner":{"account_id":3583368,"reputation":129,"user_id":2991031,"accept_rate":100,"display_name":"Mowgli"},"score":0,"creation_date":1576824682,"post_id":7159047,"comment_id":105028555,"body_markdown":"what should I do?","body":"what should I do?"},{"owner":{"account_id":60096,"reputation":40513,"user_id":179630,"accept_rate":64,"display_name":"gerrytan"},"score":0,"creation_date":1678967803,"post_id":7159047,"comment_id":133637452,"body_markdown":"The only thing bothering me about maven-archetype-quickstart is that the dependency version it generates are old, and no new version has been released since 2018. Does anyone know how to contribute to this?","body":"The only thing bothering me about maven-archetype-quickstart is that the dependency version it generates are old, and no new version has been released since 2018. Does anyone know how to contribute to this?"}],"tags":[],"owner":{"account_id":323312,"reputation":2396,"user_id":643245,"accept_rate":100,"display_name":"Oleksandr"},"comment_count":4,"down_vote_count":1,"up_vote_count":82,"is_accepted":false,"score":81,"last_activity_date":1421283388,"creation_date":1314092616,"answer_id":7159047,"question_id":7158348,"body_markdown":"I use two archetypes. It depends on what kind of application you will create. \r\n\r\nIf you want a web application, use [maven-archetype-webapp][1], or if you want a simple application use [maven-archetype-quickstart][2]. They are useful because you will be able to expand them with no problem.\r\n\r\n  [1]: http://maven.apache.org/archetype/maven-archetype-bundles/maven-archetype-webapp/\r\n  [2]: http://maven.apache.org/archetype/maven-archetype-bundles/maven-archetype-quickstart/","title":"What archetype to choose for a simple java project","body":"<p>I use two archetypes. It depends on what kind of application you will create. </p>\n\n<p>If you want a web application, use <a href=\"http://maven.apache.org/archetype/maven-archetype-bundles/maven-archetype-webapp/\">maven-archetype-webapp</a>, or if you want a simple application use <a href=\"http://maven.apache.org/archetype/maven-archetype-bundles/maven-archetype-quickstart/\">maven-archetype-quickstart</a>. They are useful because you will be able to expand them with no problem.</p>\n"},{"comments":[{"owner":{"account_id":290433,"reputation":509,"user_id":591987,"display_name":"Cristiano Costantini"},"score":0,"creation_date":1623039876,"post_id":27081285,"comment_id":119954784,"body_markdown":"Note the final &quot;:&quot; at the end of the filter necessary to filter by groupId\n(https://maven.apache.org/archetype/maven-archetype-plugin/generate-mojo.html)","body":"Note the final &quot;:&quot; at the end of the filter necessary to filter by groupId (<a href=\"https://maven.apache.org/archetype/maven-archetype-plugin/generate-mojo.html\" rel=\"nofollow noreferrer\">maven.apache.org/archetype/maven-archetype-plugin/&hellip;</a>)"}],"tags":[],"owner":{"account_id":174804,"reputation":27548,"user_id":404395,"accept_rate":73,"display_name":"marioosh"},"comment_count":1,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1416683007,"creation_date":1416683007,"answer_id":27081285,"question_id":7158348,"body_markdown":"I&#39;m using command like below:\r\n\r\n    mvn archetype:generate -Dfilter=org.apache.maven.archetypes:\r\n\r\nI will get a **short list** of achetypes only from `org.apache.maven.archetypes` groupId. The good ones for starting is `maven-archetype-quickstart` and `maven-archetype-webapp` like my predecessors said.","title":"What archetype to choose for a simple java project","body":"<p>I'm using command like below:</p>\n\n<pre><code>mvn archetype:generate -Dfilter=org.apache.maven.archetypes:\n</code></pre>\n\n<p>I will get a <strong>short list</strong> of achetypes only from <code>org.apache.maven.archetypes</code> groupId. The good ones for starting is <code>maven-archetype-quickstart</code> and <code>maven-archetype-webapp</code> like my predecessors said.</p>\n"},{"tags":[],"owner":{"account_id":1106279,"reputation":9834,"user_id":1097600,"accept_rate":80,"display_name":"Sorter"},"comment_count":0,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1500209124,"creation_date":1495530001,"answer_id":44130263,"question_id":7158348,"body_markdown":"&lt;h1&gt;Here&#39;s what you need&lt;/h1&gt;\r\n\r\n     mvn archetype:generate -DgroupId=com.example -DartifactId=foobar -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=false\r\n\r\n\r\nReference:\r\n[Build Run Java Maven Project Command Line](https://metamug.com/article/build-run-java-maven-project-command-line.php)\r\n\r\n\r\n","title":"What archetype to choose for a simple java project","body":"<h1>Here's what you need</h1>\n\n<pre><code> mvn archetype:generate -DgroupId=com.example -DartifactId=foobar -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=false\n</code></pre>\n\n<p>Reference:\n<a href=\"https://metamug.com/article/build-run-java-maven-project-command-line.php\" rel=\"noreferrer\">Build Run Java Maven Project Command Line</a></p>\n"},{"comments":[{"owner":{"account_id":3583368,"reputation":129,"user_id":2991031,"accept_rate":100,"display_name":"Mowgli"},"score":0,"creation_date":1576824388,"post_id":46987316,"comment_id":105028451,"body_markdown":"downloading the above catalog and manually set but didn&#39;t work for me.","body":"downloading the above catalog and manually set but didn&#39;t work for me."}],"tags":[],"owner":{"account_id":10767333,"reputation":31,"user_id":7921862,"display_name":"Biswajit Sahu"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1512141493,"creation_date":1509175558,"answer_id":46987316,"question_id":7158348,"body_markdown":"maven-archetype-quickstart An archetype which contains a sample Maven project.\nmaven-archetype-simple An archetype which contains a simple Maven project.\n\nif get errors \nfixed it by adding the maven archetype catalog to eclipse. Steps are provided below:\n\n&gt;Open Window &gt; Preferences&gt; Maven &gt; Archetypes\n&gt;\n&gt;Click `Add Remote Catalog` and add the following:\n&gt;\n&gt;Catalog File: http://repo1.maven.org/maven2/archetype-catalog.xml\n&gt;\n&gt;Description: maven catalog\n\nNOTE: INTERNET CONNECTION IS REQUIRED DURING CREATION OF YOUR FIRST MAVEN PROJECT.\n","title":"What archetype to choose for a simple java project","body":"<p>maven-archetype-quickstart An archetype which contains a sample Maven project.\nmaven-archetype-simple An archetype which contains a simple Maven project.</p>\n<p>if get errors\nfixed it by adding the maven archetype catalog to eclipse. Steps are provided below:</p>\n<blockquote>\n<p>Open Window &gt; Preferences&gt; Maven &gt; Archetypes</p>\n<p>Click <code>Add Remote Catalog</code> and add the following:</p>\n<p>Catalog File: <a href=\"http://repo1.maven.org/maven2/archetype-catalog.xml\" rel=\"nofollow noreferrer\">http://repo1.maven.org/maven2/archetype-catalog.xml</a></p>\n<p>Description: maven catalog</p>\n</blockquote>\n<p>NOTE: INTERNET CONNECTION IS REQUIRED DURING CREATION OF YOUR FIRST MAVEN PROJECT.</p>\n"},{"tags":[],"owner":{"account_id":10587144,"reputation":11,"user_id":7799088,"display_name":"Prateek Kushwaha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1512556143,"creation_date":1512556143,"answer_id":47672043,"question_id":7158348,"body_markdown":"the default archetype number now is 1092\r\n1092: remote -&gt; org.apache.maven.archetypes:maven-archetype-quickstart (An archetype which contains a sample Maven project.)","title":"What archetype to choose for a simple java project","body":"<p>the default archetype number now is 1092\n1092: remote -> org.apache.maven.archetypes:maven-archetype-quickstart (An archetype which contains a sample Maven project.)</p>\n"},{"comments":[{"owner":{"account_id":86060,"reputation":8056,"user_id":239582,"accept_rate":81,"display_name":"lupchiazoem"},"score":0,"creation_date":1549257895,"post_id":49399420,"comment_id":95824292,"body_markdown":"I get `groupId`, but what&#39;s `archetypeGroupId` for?","body":"I get <code>groupId</code>, but what&#39;s <code>archetypeGroupId</code> for?"},{"owner":{"account_id":4219924,"reputation":501,"user_id":3454944,"display_name":"Mois&#233;s"},"score":1,"creation_date":1549260058,"post_id":49399420,"comment_id":95824839,"body_markdown":"It is used to locate the archetype in the Maven repository, together with the `archetypeArtifactId`.","body":"It is used to locate the archetype in the Maven repository, together with the <code>archetypeArtifactId</code>."}],"tags":[],"owner":{"account_id":4219924,"reputation":501,"user_id":3454944,"display_name":"Mois&#233;s"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1521612814,"creation_date":1521612814,"answer_id":49399420,"question_id":7158348,"body_markdown":"You can use any of the basic ones from The Practical Developer:\r\n\r\n### Java 8 + commonly-used test libraries:\r\n\r\n    mvn archetype:generate -DgroupId=[your-project-groupId] -DartifactId=[your-project-name] -DarchetypeGroupId=com.thepracticaldeveloper -DarchetypeArtifactId=archetype-java-basic-tpd -DarchetypeVersion=1.0.0\r\n\r\n### Java 9 + commonly-used test libraries\r\n\r\n    mvn archetype:generate -DgroupId=[your-project-groupId] -DartifactId=[your-project-name] -DarchetypeGroupId=com.thepracticaldeveloper -DarchetypeArtifactId=archetype-java-basic-tpd -DarchetypeVersion=1.0.0 -Djava-version=9\r\n\r\nThey include JUnit 4, Mockito and AssertJ, and a default manifest file in case you want your jar file to be executable. More info: https://thepracticaldeveloper.com/archetypes/ \r\n\r\nDisclaimer: I&#39;m the author of that blog.","title":"What archetype to choose for a simple java project","body":"<p>You can use any of the basic ones from The Practical Developer:</p>\n\n<h3>Java 8 + commonly-used test libraries:</h3>\n\n<pre><code>mvn archetype:generate -DgroupId=[your-project-groupId] -DartifactId=[your-project-name] -DarchetypeGroupId=com.thepracticaldeveloper -DarchetypeArtifactId=archetype-java-basic-tpd -DarchetypeVersion=1.0.0\n</code></pre>\n\n<h3>Java 9 + commonly-used test libraries</h3>\n\n<pre><code>mvn archetype:generate -DgroupId=[your-project-groupId] -DartifactId=[your-project-name] -DarchetypeGroupId=com.thepracticaldeveloper -DarchetypeArtifactId=archetype-java-basic-tpd -DarchetypeVersion=1.0.0 -Djava-version=9\n</code></pre>\n\n<p>They include JUnit 4, Mockito and AssertJ, and a default manifest file in case you want your jar file to be executable. More info: <a href=\"https://thepracticaldeveloper.com/archetypes/\" rel=\"nofollow noreferrer\">https://thepracticaldeveloper.com/archetypes/</a> </p>\n\n<p>Disclaimer: I'm the author of that blog.</p>\n"},{"tags":[],"owner":{"account_id":459254,"reputation":986,"user_id":859604,"display_name":"Olivier Cailloux"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1598017487,"creation_date":1585939035,"answer_id":61018388,"question_id":7158348,"body_markdown":"You may want to consider [Java Archetype](https://github.com/oliviercailloux/Java-Archetype): it has reasonable defaults for quickly starting a Java project following best practices, including JUnit tests. I conceived it as a modern successor of `maven-archetype-quickstart`.\r\n\r\nExample: `mvn archetype:generate -DarchetypeGroupId=io.github.oliviercailloux -DarchetypeArtifactId=java-archetype -DgroupId=mygroupid -DartifactId=myartifactid -DinteractiveMode=false`.\r\n\r\n\r\nDisclaimer: I am the author.\r\n\r\nFor more information about alternatives, here is a part of [that projects README](https://github.com/oliviercailloux/Java-Archetype/blob/master/README.adoc#alternatives) (it provides more links than copied here).\r\n\r\n**The official quickstart archetype**\r\n\r\nThe official archetype (mentioned by Apaches Maven Getting Started Guide and by the Apache Maven Cookbook) for simple Java projects is maven-archetype-quickstart, or org.apache.maven.archetypes:maven-archetype-quickstart in full.\r\n\r\nIt should, IMHO, be considered deprecated, as it suffers several weaknesses.\r\n\r\n* An important problem is that it creates projects that depend on JUnit 4. The current version, JUnit 5, differs significantly, providing among other an improved API.\r\n* Minor weaknesses: its default version is 1.0-SNAPSHOT, which should be 1.0.0-SNAPSHOT to follow the recommended and usual scheme.\r\n* Another minor weakness: it creates projects configured for a 1.7 JVM. This may be appropriate if you particularly need to support old installs, but opting for a reasonably recent JVM is a more reasonable default rule for new projects. For example, Java 8 introduced lambda expressions, which you probably do not want to miss out.\r\n\r\nMy archetype also provides logging by default, which I think is useful, scales better than sysout and does not hurt, and Guava, which I think usefully enriches Java.\r\n\r\n**Other quickstart archetypes in Maven Central**\r\n\r\nIn order to join efforts if possible and avoid wasteful duplication, I actively searched for other archetypes that would have the same aim as mine: provide a simple archetype with reasonable defaults to easily start a modern Java project. (This was mostly done around June 2020.)\r\n\r\nA general search on the internet led me to The Practical Developer. When contacted, he wrote to me (by e-mail) that he does not work on his archetype regularly and therefore preferred to decline collaborating on such a project.\r\n\r\nAs searches on the net did not reveal other useful results, and as I found no specialised search tool suitable for my needs, I implemented a simple archetype browser. It lists all the archetypes available in Maven Central. There are far too many to review manually, thus, I selected those whose groupId and artifactId existed since at least three years and have been updated during the last year, in hope of finding projects that are maintained on the long run, which I suppose indicates more probably a good quality project. (Of course this filter may have missed good quality archetypes that perfectly match the stated goal; I have no way to know. As a case in point, this very archetype does not pass that filter as I have changed its artifactId over time.)\r\n\r\nI then filtered manually the resulting list on the basis of the archetypes descriptions found in their POM, and gave a further look (on the official website, typically) for a few promising archetypes among them. Only `com.github.ngeor:archetype-quickstart-jdk8` revealed to be a suitable candidate. But its author wrote to me that he is not really using/maintaing the archetype much these days.","title":"What archetype to choose for a simple java project","body":"<p>You may want to consider <a href=\"https://github.com/oliviercailloux/Java-Archetype\" rel=\"nofollow noreferrer\">Java Archetype</a>: it has reasonable defaults for quickly starting a Java project following best practices, including JUnit tests. I conceived it as a modern successor of <code>maven-archetype-quickstart</code>.</p>\n<p>Example: <code>mvn archetype:generate -DarchetypeGroupId=io.github.oliviercailloux -DarchetypeArtifactId=java-archetype -DgroupId=mygroupid -DartifactId=myartifactid -DinteractiveMode=false</code>.</p>\n<p>Disclaimer: I am the author.</p>\n<p>For more information about alternatives, here is a part of <a href=\"https://github.com/oliviercailloux/Java-Archetype/blob/master/README.adoc#alternatives\" rel=\"nofollow noreferrer\">that projects README</a> (it provides more links than copied here).</p>\n<p><strong>The official quickstart archetype</strong></p>\n<p>The official archetype (mentioned by Apaches Maven Getting Started Guide and by the Apache Maven Cookbook) for simple Java projects is maven-archetype-quickstart, or org.apache.maven.archetypes:maven-archetype-quickstart in full.</p>\n<p>It should, IMHO, be considered deprecated, as it suffers several weaknesses.</p>\n<ul>\n<li>An important problem is that it creates projects that depend on JUnit 4. The current version, JUnit 5, differs significantly, providing among other an improved API.</li>\n<li>Minor weaknesses: its default version is 1.0-SNAPSHOT, which should be 1.0.0-SNAPSHOT to follow the recommended and usual scheme.</li>\n<li>Another minor weakness: it creates projects configured for a 1.7 JVM. This may be appropriate if you particularly need to support old installs, but opting for a reasonably recent JVM is a more reasonable default rule for new projects. For example, Java 8 introduced lambda expressions, which you probably do not want to miss out.</li>\n</ul>\n<p>My archetype also provides logging by default, which I think is useful, scales better than sysout and does not hurt, and Guava, which I think usefully enriches Java.</p>\n<p><strong>Other quickstart archetypes in Maven Central</strong></p>\n<p>In order to join efforts if possible and avoid wasteful duplication, I actively searched for other archetypes that would have the same aim as mine: provide a simple archetype with reasonable defaults to easily start a modern Java project. (This was mostly done around June 2020.)</p>\n<p>A general search on the internet led me to The Practical Developer. When contacted, he wrote to me (by e-mail) that he does not work on his archetype regularly and therefore preferred to decline collaborating on such a project.</p>\n<p>As searches on the net did not reveal other useful results, and as I found no specialised search tool suitable for my needs, I implemented a simple archetype browser. It lists all the archetypes available in Maven Central. There are far too many to review manually, thus, I selected those whose groupId and artifactId existed since at least three years and have been updated during the last year, in hope of finding projects that are maintained on the long run, which I suppose indicates more probably a good quality project. (Of course this filter may have missed good quality archetypes that perfectly match the stated goal; I have no way to know. As a case in point, this very archetype does not pass that filter as I have changed its artifactId over time.)</p>\n<p>I then filtered manually the resulting list on the basis of the archetypes descriptions found in their POM, and gave a further look (on the official website, typically) for a few promising archetypes among them. Only <code>com.github.ngeor:archetype-quickstart-jdk8</code> revealed to be a suitable candidate. But its author wrote to me that he is not really using/maintaing the archetype much these days.</p>\n"},{"comments":[{"owner":{"account_id":4499761,"reputation":1809,"user_id":3658614,"display_name":"kate"},"score":0,"creation_date":1700816233,"post_id":76616459,"comment_id":136701918,"body_markdown":"thank you for the effort behind this great answer!!","body":"thank you for the effort behind this great answer!!"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700844027,"creation_date":1688517397,"answer_id":76616459,"question_id":7158348,"body_markdown":"# Maven *Quickstart* Archetype\r\n\r\nAs others noted, the usual starting point for a simple Java app is the *QuickStart* archetype. \r\n\r\n - See [description][1]. \r\n - See [repository][2].\r\n\r\nProduces these folders and files:\r\n\r\n[![diagram of files and folders in a newly created project using QuickStart archetype][3]][3]\r\n\r\nFrom the command line in a console:\r\n\r\n```bash\r\nmvn archetype:generate -DarchetypeGroupId=org.apache.maven.archetypes -DarchetypeArtifactId=maven-archetype-quickstart -DarchetypeVersion=1.4\r\n```\r\n\r\nNote there that 1.4 is the current version, as of 2023-07.\r\n\r\nIn the [*IntelliJ*][4] [IDE][5], start a new project as seen in this screenshot.\r\n\r\n[![screenshot of New Project dialog box in IntelliJ with QuickStart archetype selected][6]][6]\r\n\r\nChange the version from 1.1 to 1.4 (currently the latest). Inexplicably, the IntelliJ dialog never offers the latest version.\r\n\r\n[![enter image description here][7]][7]\r\n\r\nOpen the Advanced Settings panel. Specify the various fields of Maven info: GroupID, ArtifactID, and Version. See [this Answer](https://stackoverflow.com/a/3724851/642706) for guidance.\r\n\r\n[![enter image description here][8]][8]\r\n\r\nClick *Create* button to produce the new project. Wait a moment as Maven does its job, expanding the archetype into a real project. \r\n\r\nUnfortunately, we are not ready to do our Java programming. The [`POM.xml`][9] file needs some tweaks. The QuickStart archetype, even in its latest version, is quite out-of-date with the versions of its various parts. In my experience, it is generally best to change all the versions to their respective latest.\r\n\r\nFirst, update the version of Java for your project. You should usually be using either:\r\n\r\n - One of the [LTS][10] versions: 8, 11, 17, 21.\r\n - The latest version: 21.\r\n\r\nAnd when specifying the Java version, in modern tooling we can replace the pair of `.source` &amp; `.target` tags with a single `.release` tag.\r\n\r\n```xml\r\n&lt;maven.compiler.release&gt;21&lt;/maven.compiler.release&gt;\r\n```\r\n\r\nLoad that first change to the POM. In IntelliJ, look for the little floating windoid with the blue *M* logo. Click that logo. Otherwise, open the *Maven* panel within IntelliJ. Click the first icon for *Reload all Maven projects*. \r\n\r\nVerify that your project runs. Open the `App.java` file. Click the hollow green icon for a pop-up menu; choose `Run App.main()`. See that you get successful output in the console panel of the IDE.\r\n\r\nBack in the POM.xml, change from using JUnit 4 to using the JUnit 5 Jupiter technology. Replace the entire `&lt;dependency&gt;` tag for `junit` to the *JUnit Jupiter (Aggregator)* dependency. The *Aggregator* means that a few related dependencies are brought in for your convenience.\r\n\r\n```xml\r\n&lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n    &lt;version&gt;5.10.0-M1&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nModernize the auto-generated `App.test` file to use JUnit 5 Jupiter. Replace both `import` lines with these:\r\n\r\n```java\r\nimport org.junit.jupiter.api.Test;\r\nimport static org.junit.jupiter.api.Assertions.assertTrue;\r\n```\r\n\r\nClick the green hollow icon to choose `run shouldAnswerWithTrue()`.  Look for the green checkmarks in the *Run` panel of IntelliJ.\r\n\r\nNext we update the version numbers of the remaining parts. \r\n\r\nUpdate your local cache of Maven dependency data. In the IntelliJ settings, go to *Build, Execution, Deployment &gt; Build Tools &gt; Maven &gt; Repositories*. To quickly go there, just type `repo` in the Find field at top of the column in Settings. Once you have reached that panel, select each of the listed Maven repositories, and click the *Update* button. Performing the updates may take several minutes.\r\n\r\nAfter updating, you *may* see the latest version number by deleting the content of each `&lt;version&gt;` tag, and press *Control + Spacebar*. You may want to verify the actual latest numbers against a Maven repositorys web site.\r\n\r\nWhen done, you should have a POM that looks something like this:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;work.basil.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;ExampleQS&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;name&gt;ExampleQS&lt;/name&gt;\r\n    &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n    &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.release&gt;20&lt;/maven.compiler.release&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;5.10.0-M1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n            &lt;plugins&gt;\r\n                &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.11.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;4.0.0-M3&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.4.1&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nDo a Maven *clean*. Run your app, and run your test. All should be well. You are now ready to start your Java programming.\r\n\r\n\r\n----------\r\n\r\nThis Answer uses *IntelliJ* as an example. You should be able to do something quite similar in other IDEs such as [*Eclipse*][11] or [*NetBeans*][12]. One of the main benefits of Maven (and alternatives such as [Gradle][13]) is that it works the same across various IDEs. \r\n\r\n\r\n  [1]: https://maven.apache.org/archetypes/maven-archetype-quickstart/\r\n  [2]: https://mvnrepository.com/artifact/org.apache.maven.archetypes/maven-archetype-quickstart\r\n  [3]: https://i.stack.imgur.com/yS5qo.png\r\n  [4]: https://en.wikipedia.org/wiki/IntelliJ_IDEA\r\n  [5]: https://en.wikipedia.org/wiki/Integrated_development_environment\r\n  [6]: https://i.stack.imgur.com/0QCGR.png\r\n  [7]: https://i.stack.imgur.com/fGBJZ.png\r\n  [8]: https://i.stack.imgur.com/USq7U.png\r\n  [9]: https://en.wikipedia.org/wiki/Apache_Maven#Project_Object_Model\r\n  [10]: https://en.wikipedia.org/wiki/Long-term_support\r\n  [11]: https://en.wikipedia.org/wiki/Eclipse_(software)\r\n  [12]: https://en.wikipedia.org/wiki/NetBeans\r\n  [13]: https://en.wikipedia.org/wiki/Gradle","title":"What archetype to choose for a simple java project","body":"<h1>Maven <em>Quickstart</em> Archetype</h1>\n<p>As others noted, the usual starting point for a simple Java app is the <em>QuickStart</em> archetype.</p>\n<ul>\n<li>See <a href=\"https://maven.apache.org/archetypes/maven-archetype-quickstart/\" rel=\"nofollow noreferrer\">description</a>.</li>\n<li>See <a href=\"https://mvnrepository.com/artifact/org.apache.maven.archetypes/maven-archetype-quickstart\" rel=\"nofollow noreferrer\">repository</a>.</li>\n</ul>\n<p>Produces these folders and files:</p>\n<p><a href=\"https://i.stack.imgur.com/yS5qo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yS5qo.png\" alt=\"diagram of files and folders in a newly created project using QuickStart archetype\" /></a></p>\n<p>From the command line in a console:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn archetype:generate -DarchetypeGroupId=org.apache.maven.archetypes -DarchetypeArtifactId=maven-archetype-quickstart -DarchetypeVersion=1.4\n</code></pre>\n<p>Note there that 1.4 is the current version, as of 2023-07.</p>\n<p>In the <a href=\"https://en.wikipedia.org/wiki/IntelliJ_IDEA\" rel=\"nofollow noreferrer\"><em>IntelliJ</em></a> <a href=\"https://en.wikipedia.org/wiki/Integrated_development_environment\" rel=\"nofollow noreferrer\">IDE</a>, start a new project as seen in this screenshot.</p>\n<p><a href=\"https://i.stack.imgur.com/0QCGR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0QCGR.png\" alt=\"screenshot of New Project dialog box in IntelliJ with QuickStart archetype selected\" /></a></p>\n<p>Change the version from 1.1 to 1.4 (currently the latest). Inexplicably, the IntelliJ dialog never offers the latest version.</p>\n<p><a href=\"https://i.stack.imgur.com/fGBJZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fGBJZ.png\" alt=\"enter image description here\" /></a></p>\n<p>Open the Advanced Settings panel. Specify the various fields of Maven info: GroupID, ArtifactID, and Version. See <a href=\"https://stackoverflow.com/a/3724851/642706\">this Answer</a> for guidance.</p>\n<p><a href=\"https://i.stack.imgur.com/USq7U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/USq7U.png\" alt=\"enter image description here\" /></a></p>\n<p>Click <em>Create</em> button to produce the new project. Wait a moment as Maven does its job, expanding the archetype into a real project.</p>\n<p>Unfortunately, we are not ready to do our Java programming. The <a href=\"https://en.wikipedia.org/wiki/Apache_Maven#Project_Object_Model\" rel=\"nofollow noreferrer\"><code>POM.xml</code></a> file needs some tweaks. The QuickStart archetype, even in its latest version, is quite out-of-date with the versions of its various parts. In my experience, it is generally best to change all the versions to their respective latest.</p>\n<p>First, update the version of Java for your project. You should usually be using either:</p>\n<ul>\n<li>One of the <a href=\"https://en.wikipedia.org/wiki/Long-term_support\" rel=\"nofollow noreferrer\">LTS</a> versions: 8, 11, 17, 21.</li>\n<li>The latest version: 21.</li>\n</ul>\n<p>And when specifying the Java version, in modern tooling we can replace the pair of <code>.source</code> &amp; <code>.target</code> tags with a single <code>.release</code> tag.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;maven.compiler.release&gt;21&lt;/maven.compiler.release&gt;\n</code></pre>\n<p>Load that first change to the POM. In IntelliJ, look for the little floating windoid with the blue <em>M</em> logo. Click that logo. Otherwise, open the <em>Maven</em> panel within IntelliJ. Click the first icon for <em>Reload all Maven projects</em>.</p>\n<p>Verify that your project runs. Open the <code>App.java</code> file. Click the hollow green icon for a pop-up menu; choose <code>Run App.main()</code>. See that you get successful output in the console panel of the IDE.</p>\n<p>Back in the POM.xml, change from using JUnit 4 to using the JUnit 5 Jupiter technology. Replace the entire <code>&lt;dependency&gt;</code> tag for <code>junit</code> to the <em>JUnit Jupiter (Aggregator)</em> dependency. The <em>Aggregator</em> means that a few related dependencies are brought in for your convenience.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n    &lt;version&gt;5.10.0-M1&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Modernize the auto-generated <code>App.test</code> file to use JUnit 5 Jupiter. Replace both <code>import</code> lines with these:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.Test;\nimport static org.junit.jupiter.api.Assertions.assertTrue;\n</code></pre>\n<p>Click the green hollow icon to choose <code>run shouldAnswerWithTrue()</code>.  Look for the green checkmarks in the *Run` panel of IntelliJ.</p>\n<p>Next we update the version numbers of the remaining parts.</p>\n<p>Update your local cache of Maven dependency data. In the IntelliJ settings, go to <em>Build, Execution, Deployment &gt; Build Tools &gt; Maven &gt; Repositories</em>. To quickly go there, just type <code>repo</code> in the Find field at top of the column in Settings. Once you have reached that panel, select each of the listed Maven repositories, and click the <em>Update</em> button. Performing the updates may take several minutes.</p>\n<p>After updating, you <em>may</em> see the latest version number by deleting the content of each <code>&lt;version&gt;</code> tag, and press <em>Control + Spacebar</em>. You may want to verify the actual latest numbers against a Maven repositorys web site.</p>\n<p>When done, you should have a POM that looks something like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;work.basil.example&lt;/groupId&gt;\n    &lt;artifactId&gt;ExampleQS&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;name&gt;ExampleQS&lt;/name&gt;\n    &lt;!-- FIXME change it to the project's website --&gt;\n    &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.release&gt;20&lt;/maven.compiler.release&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;5.10.0-M1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n            &lt;plugins&gt;\n                &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.11.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;4.0.0-M3&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.4.1&lt;/version&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Do a Maven <em>clean</em>. Run your app, and run your test. All should be well. You are now ready to start your Java programming.</p>\n<hr />\n<p>This Answer uses <em>IntelliJ</em> as an example. You should be able to do something quite similar in other IDEs such as <a href=\"https://en.wikipedia.org/wiki/Eclipse_(software)\" rel=\"nofollow noreferrer\"><em>Eclipse</em></a> or <a href=\"https://en.wikipedia.org/wiki/NetBeans\" rel=\"nofollow noreferrer\"><em>NetBeans</em></a>. One of the main benefits of Maven (and alternatives such as <a href=\"https://en.wikipedia.org/wiki/Gradle\" rel=\"nofollow noreferrer\">Gradle</a>) is that it works the same across various IDEs.</p>\n"}],"owner":{"account_id":217207,"reputation":12349,"user_id":472897,"accept_rate":83,"display_name":"Jason"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87076,"favorite_count":0,"down_vote_count":1,"up_vote_count":103,"accepted_answer_id":7158441,"answer_count":11,"score":102,"last_activity_date":1700844027,"creation_date":1314089087,"question_id":7158348,"body_markdown":"mvn archetype:generate provides way too many options and I am looking to create a simple java utility with junit test cases. I would like to know what archetype I should be using here?","title":"What archetype to choose for a simple java project","body":"<p>mvn archetype:generate provides way too many options and I am looking to create a simple java utility with junit test cases. I would like to know what archetype I should be using here?</p>\n"},{"tags":["java","gradle","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":288740,"reputation":36435,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700843866,"creation_date":1700843866,"answer_id":77544554,"question_id":77543731,"body_markdown":"You don&#39;t want to use the configuration `default`, but `runtimeClasspath`.","title":"gradle 8.4: copy dependencies","body":"<p>You don't want to use the configuration <code>default</code>, but <code>runtimeClasspath</code>.</p>\n"}],"owner":{"account_id":3845096,"reputation":126,"user_id":3186906,"display_name":"viglu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77544554,"answer_count":1,"score":0,"last_activity_date":1700843866,"creation_date":1700834884,"question_id":77543731,"body_markdown":"I&#39;m upgrading to gradle 8.4 from 7.4. I have a task \r\n\r\n    task {\r\n        copyDependencies(type: Copy) {\r\n            from configurations.default\r\n            into &#39;../out/bin/lib&#39;\r\n        }\r\n    }\r\n\r\nwhich copy my dependencies to &#39;../out/bin/lib&#39;\r\nand I had\r\n\r\n    jar.finalizedBy = [copyDependencies]\r\n\r\nBut this is no more working. I checked already the upgrade guide but found no solution.\r\n\r\nAny ideas ?","title":"gradle 8.4: copy dependencies","body":"<p>I'm upgrading to gradle 8.4 from 7.4. I have a task</p>\n<pre><code>task {\n    copyDependencies(type: Copy) {\n        from configurations.default\n        into '../out/bin/lib'\n    }\n}\n</code></pre>\n<p>which copy my dependencies to '../out/bin/lib'\nand I had</p>\n<pre><code>jar.finalizedBy = [copyDependencies]\n</code></pre>\n<p>But this is no more working. I checked already the upgrade guide but found no solution.</p>\n<p>Any ideas ?</p>\n"},{"tags":["java","eclipse","properties-file"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1700830090,"post_id":77543215,"comment_id":136704187,"body_markdown":"In a SpringBoot application, the properties files should be within the compressed jar/war file. Can you check if they are there? And also can you put some maven logs when you don&#39;t see them?","body":"In a SpringBoot application, the properties files should be within the compressed jar/war file. Can you check if they are there? And also can you put some maven logs when you don&#39;t see them?"},{"owner":{"account_id":7493625,"reputation":59,"user_id":5694543,"display_name":"Szdnez"},"score":0,"creation_date":1700838182,"post_id":77543215,"comment_id":136705567,"body_markdown":"I did not change anything in the way how I work. Mainly I do not compile the code with Maven or start the Sprinboot-app with Maven. Mainly Eclipse does the compiling (however Eclipse does it in the backround) and afterwards I directly start the app. So Maven is mainly used to handle the dependencies. When the problem will occur the next time, I will also have a look into the jar files.","body":"I did not change anything in the way how I work. Mainly I do not compile the code with Maven or start the Sprinboot-app with Maven. Mainly Eclipse does the compiling (however Eclipse does it in the backround) and afterwards I directly start the app. So Maven is mainly used to handle the dependencies. When the problem will occur the next time, I will also have a look into the jar files."},{"owner":{"account_id":7557680,"reputation":2844,"user_id":5736633,"accept_rate":71,"display_name":"vatbub"},"score":0,"creation_date":1700840126,"post_id":77543215,"comment_id":136705865,"body_markdown":"Also, where are your properties files located in the source tree? Are they somewhere in the `src/main/java` folder or are they in `src/main/resources`?  Because `src/main/resources` is where they are actually supposed to be","body":"Also, where are your properties files located in the source tree? Are they somewhere in the <code>src&#47;main&#47;java</code> folder or are they in <code>src&#47;main&#47;resources</code>?  Because <code>src&#47;main&#47;resources</code> is where they are actually supposed to be"},{"owner":{"account_id":7493625,"reputation":59,"user_id":5694543,"display_name":"Szdnez"},"score":0,"creation_date":1700860110,"post_id":77543215,"comment_id":136708403,"body_markdown":"Most of the Java projects in my workspace are still using the classical structure with `src` and `test`. Some of them are using the Maven structure and there all properties files are located under `src/main/resources`.","body":"Most of the Java projects in my workspace are still using the classical structure with <code>src</code> and <code>test</code>. Some of them are using the Maven structure and there all properties files are located under <code>src&#47;main&#47;resources</code>."}],"answers":[{"comments":[{"owner":{"account_id":7493625,"reputation":59,"user_id":5694543,"display_name":"Szdnez"},"score":0,"creation_date":1700859902,"post_id":77544503,"comment_id":136708375,"body_markdown":"Thanks, I am aware of it. My workspace consists of many Java projects. Most of them are still using the classical structure with `src` and `test`, some of them are using the Maven structure. Maybe this can also be an issue. But what makes me curious is, that it was also the same setup with the working Eclipse 4.7. From 4.7 to 4.27 I did not change anything like this, only the Eclipse version and suddenly the problem occured. And I also do not have any problems building the app with pure Maven in the CI/CD-environment. It is just a problem in combination with Eclipse.","body":"Thanks, I am aware of it. My workspace consists of many Java projects. Most of them are still using the classical structure with <code>src</code> and <code>test</code>, some of them are using the Maven structure. Maybe this can also be an issue. But what makes me curious is, that it was also the same setup with the working Eclipse 4.7. From 4.7 to 4.27 I did not change anything like this, only the Eclipse version and suddenly the problem occured. And I also do not have any problems building the app with pure Maven in the CI/CD-environment. It is just a problem in combination with Eclipse."}],"tags":[],"owner":{"account_id":27259982,"reputation":36,"user_id":20782957,"display_name":"bunicu2k4"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700843290,"creation_date":1700843229,"answer_id":77544503,"question_id":77543215,"body_markdown":"In a maven project you can control what resources are included within your build by using the `&lt;resource&gt;` tag like this:\r\n\r\n    &lt;build&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n        ...\r\n    &lt;/build&gt;\r\n\r\nNote that `src/main/resources` is the default folder for all your resources, and if you wish to have some resources included in your build and some not, you can leave the default folder out and use another one to be included, for example:\r\n\r\n    &lt;build&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources/runtime&lt;/directory&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n        ...\r\n    &lt;/build&gt;\r\n\r\nLike this, everything you put in src/main/resources/runtime will be included in your build under /classes/ folder, and everything else under src/main/resources will be left out.\r\nFor more details see [maven documentation][1].\r\nYou may want to look there at maven filtering as well, it is often used in conjunction with resources.\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-resources-plugin/","title":"Why are the properties files missing in the target directory after compilation in Eclipse?","body":"<p>In a maven project you can control what resources are included within your build by using the <code>&lt;resource&gt;</code> tag like this:</p>\n<pre><code>&lt;build&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n    ...\n&lt;/build&gt;\n</code></pre>\n<p>Note that <code>src/main/resources</code> is the default folder for all your resources, and if you wish to have some resources included in your build and some not, you can leave the default folder out and use another one to be included, for example:</p>\n<pre><code>&lt;build&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/resources/runtime&lt;/directory&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n    ...\n&lt;/build&gt;\n</code></pre>\n<p>Like this, everything you put in src/main/resources/runtime will be included in your build under /classes/ folder, and everything else under src/main/resources will be left out.\nFor more details see <a href=\"https://maven.apache.org/plugins/maven-resources-plugin/\" rel=\"nofollow noreferrer\">maven documentation</a>.\nYou may want to look there at maven filtering as well, it is often used in conjunction with resources.</p>\n"}],"owner":{"account_id":7493625,"reputation":59,"user_id":5694543,"display_name":"Szdnez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700843290,"creation_date":1700829575,"question_id":77543215,"body_markdown":"Some time ago I switched from Eclipse 4.7.3 EE-Edition to Eclipse 4.27 Standard-Edition. Since then I have had problems with the properties files. It happens from time to time that when I start a Springboot application, for example, I get the error that the required properties files could not be loaded. When I then look at the target folders, the properties files are missing.\r\nDoes anyone have any idea what could be the cause? I have a slight suspicion that it could be related to a plug-in that is included in the EE edition and is now missing in the standard edition.\r\n\r\nUnder Eclipse 4.7.3 EE-Edition I never had the problem. Typically, the problem occurs after the initial checkout, i.e. when Eclipse compiles the code for the first time. However, it can also occur during operation. In other words, I start the application and everything is fine. Then I make a few changes to the code and restart the application and suddenly the problem with the properties files occurs.\r\n\r\nThe problem can usually be solved by recompiling the code completely (*Eclipse menu* -&gt; *Project* -&gt; *Clean...*) or/and &quot;Maven update&quot; (*context menu* -&gt; *Maven* -&gt; *Update Project...*). Sometimes you have to repeat the steps several times, sometimes one of them is enough.\r\n\r\nI am very grateful for any tips/hints, as this behaviour is extremely annoying and time-consuming, Szdnez","title":"Why are the properties files missing in the target directory after compilation in Eclipse?","body":"<p>Some time ago I switched from Eclipse 4.7.3 EE-Edition to Eclipse 4.27 Standard-Edition. Since then I have had problems with the properties files. It happens from time to time that when I start a Springboot application, for example, I get the error that the required properties files could not be loaded. When I then look at the target folders, the properties files are missing.\nDoes anyone have any idea what could be the cause? I have a slight suspicion that it could be related to a plug-in that is included in the EE edition and is now missing in the standard edition.</p>\n<p>Under Eclipse 4.7.3 EE-Edition I never had the problem. Typically, the problem occurs after the initial checkout, i.e. when Eclipse compiles the code for the first time. However, it can also occur during operation. In other words, I start the application and everything is fine. Then I make a few changes to the code and restart the application and suddenly the problem with the properties files occurs.</p>\n<p>The problem can usually be solved by recompiling the code completely (<em>Eclipse menu</em> -&gt; <em>Project</em> -&gt; <em>Clean...</em>) or/and &quot;Maven update&quot; (<em>context menu</em> -&gt; <em>Maven</em> -&gt; <em>Update Project...</em>). Sometimes you have to repeat the steps several times, sometimes one of them is enough.</p>\n<p>I am very grateful for any tips/hints, as this behaviour is extremely annoying and time-consuming, Szdnez</p>\n"},{"tags":["java","sql","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":708374,"reputation":20953,"user_id":618059,"accept_rate":100,"display_name":"Michael Minella"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533580860,"creation_date":1533580860,"answer_id":51713802,"question_id":51696328,"body_markdown":"Use a `StepExecutionListener` to handle this.  You can populate the data in the `StepExecutionListener#beforeStep()` method and delete it in the `StepExecutionListener#afterStep()` method.  You can read more about this listener in the documentation here: https://docs.spring.io/spring-batch/4.0.x/reference/html/step.html#stepExecutionListener","title":"Execute SQL queries before open cursor and after closing it in JdbcCursorItemReader","body":"<p>Use a <code>StepExecutionListener</code> to handle this.  You can populate the data in the <code>StepExecutionListener#beforeStep()</code> method and delete it in the <code>StepExecutionListener#afterStep()</code> method.  You can read more about this listener in the documentation here: <a href=\"https://docs.spring.io/spring-batch/4.0.x/reference/html/step.html#stepExecutionListener\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-batch/4.0.x/reference/html/step.html#stepExecutionListener</a></p>\n"}],"owner":{"account_id":2837095,"reputation":455,"user_id":2437499,"accept_rate":42,"display_name":"abderrahim_05"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":326,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1700843190,"creation_date":1533487588,"question_id":51696328,"body_markdown":"I want to use A JdbcCursorItemReader to read data from the database, \r\nThe main sql query of this ItemReader is something like :\r\n\r\n    Select\r\n        TABLE1.col1,\r\n        TMP_TABLE.num1,\r\n        TABLE1.col2\r\n    From \r\n        TABLE1, TMP_TABLE\r\n    WHERE -- some conditions\r\n\r\nThe problem here is that the data in the TMP_TABLE should be inserted before executing this main query, and also should be deleted after.\r\n\r\ninsert data using queries like (I want this one to be run before opening the cursor ):\r\n    \r\n    insert into TMP_TABLE (NUM1) value (:x);\r\n    insert into TMP_TABLE (NUM2) value (:y);\r\n\r\ndeleting data using query like (I want this one to be run after closing the cursor): \r\n\r\n    delete from TMP_TABLE\r\n    \r\nIs there any way to do this using the JdbcCursorItemReader ?\r\n\r\n","title":"Execute SQL queries before open cursor and after closing it in JdbcCursorItemReader","body":"<p>I want to use A JdbcCursorItemReader to read data from the database,\nThe main sql query of this ItemReader is something like :</p>\n<pre><code>Select\n    TABLE1.col1,\n    TMP_TABLE.num1,\n    TABLE1.col2\nFrom \n    TABLE1, TMP_TABLE\nWHERE -- some conditions\n</code></pre>\n<p>The problem here is that the data in the TMP_TABLE should be inserted before executing this main query, and also should be deleted after.</p>\n<p>insert data using queries like (I want this one to be run before opening the cursor ):</p>\n<pre><code>insert into TMP_TABLE (NUM1) value (:x);\ninsert into TMP_TABLE (NUM2) value (:y);\n</code></pre>\n<p>deleting data using query like (I want this one to be run after closing the cursor):</p>\n<pre><code>delete from TMP_TABLE\n</code></pre>\n<p>Is there any way to do this using the JdbcCursorItemReader ?</p>\n"},{"tags":["java","inheritance","constructor"],"comments":[{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1529934233,"post_id":51024810,"comment_id":89042354,"body_markdown":"You can&#39;t, and it&#39;s a bad idea. What if you subclass `Subclass` again with `SubSubClass`? Then you call `dispatch` before the constructor of `SubSubClass` is invoked, and if `SubSubClass` has overridden `doStuff`, then the method will be called before the class was initialized.","body":"You can&#39;t, and it&#39;s a bad idea. What if you subclass <code>Subclass</code> again with <code>SubSubClass</code>? Then you call <code>dispatch</code> before the constructor of <code>SubSubClass</code> is invoked, and if <code>SubSubClass</code> has overridden <code>doStuff</code>, then the method will be called before the class was initialized."}],"answers":[{"tags":[],"owner":{"account_id":1204576,"reputation":2855,"user_id":1174543,"accept_rate":80,"display_name":"Steve11235"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529934321,"creation_date":1529934321,"answer_id":51025014,"question_id":51024810,"body_markdown":"Lorelorelore is correct, if you do need any subclass instantiation to be complete when the method is called. Otherwise, you can do what you have. I would suggest putting adequate comments if others will need to use the code.","title":"Java - Force subclasses to call super method after constructor","body":"<p>Lorelorelore is correct, if you do need any subclass instantiation to be complete when the method is called. Otherwise, you can do what you have. I would suggest putting adequate comments if others will need to use the code.</p>\n"},{"tags":[],"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1529934642,"creation_date":1529934325,"answer_id":51025016,"question_id":51024810,"body_markdown":"Your request violates several Java best practices, e.g.:\r\n\r\n- Do not do complex configuration in a constructor, only fill private (final) member variables and do only very basic consistency checks (if any at all).\r\n\r\n- Do not call `non private` or `non final` methods from the constructor, not even indirectly.\r\n \r\nSo I would strongly suggest to think over the design of your classes. Chances are, that your classes are  too big and have too many responsibilitis.","title":"Java - Force subclasses to call super method after constructor","body":"<p>Your request violates several Java best practices, e.g.:</p>\n\n<ul>\n<li><p>Do not do complex configuration in a constructor, only fill private (final) member variables and do only very basic consistency checks (if any at all).</p></li>\n<li><p>Do not call <code>non private</code> or <code>non final</code> methods from the constructor, not even indirectly.</p></li>\n</ul>\n\n<p>So I would strongly suggest to think over the design of your classes. Chances are, that your classes are  too big and have too many responsibilitis.</p>\n"},{"tags":[],"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529934693,"creation_date":1529934693,"answer_id":51025136,"question_id":51024810,"body_markdown":"You can *abstract* the use of your SuperClass by providing a `static` method which will execute the code you want, but also checks that it has been setup correctly:\r\n\r\n    public abstract class SuperClass{\r\n        private boolean instantiated;\r\n\r\n        public SuperClass(...){\r\n            ...\r\n        }\r\n\r\n        public abstract void doStuff();\r\n        \r\n        private void dispatch(){\r\n            if(!instantiated){\r\n                instantiated = true;\r\n                doStuff();\r\n            }\r\n        }\r\n          \r\n        public static void executeActionOnSuperClass(SuperClass s){\r\n            s.dispatch(); // call instantiation if not already done\r\n            s.executeAnAction();\r\n        }\r\n    }\r\n\r\nAnd the subclass:\r\n\r\n    public class SubClass extends SuperClass{\r\n        public SubClass(...){\r\n            super(...);\r\n        }\r\n\r\n        public void doStuff(){\r\n             ...\r\n        }\r\n    }\r\n\r\nWhich then can be executed like this:\r\n\r\n    SuperClass.executeAnActionOnSuperClass(new SubClass(...));\r\n\r\nThough this is mostly an anti pattern and should be used sparely.","title":"Java - Force subclasses to call super method after constructor","body":"<p>You can <em>abstract</em> the use of your SuperClass by providing a <code>static</code> method which will execute the code you want, but also checks that it has been setup correctly:</p>\n\n<pre><code>public abstract class SuperClass{\n    private boolean instantiated;\n\n    public SuperClass(...){\n        ...\n    }\n\n    public abstract void doStuff();\n\n    private void dispatch(){\n        if(!instantiated){\n            instantiated = true;\n            doStuff();\n        }\n    }\n\n    public static void executeActionOnSuperClass(SuperClass s){\n        s.dispatch(); // call instantiation if not already done\n        s.executeAnAction();\n    }\n}\n</code></pre>\n\n<p>And the subclass:</p>\n\n<pre><code>public class SubClass extends SuperClass{\n    public SubClass(...){\n        super(...);\n    }\n\n    public void doStuff(){\n         ...\n    }\n}\n</code></pre>\n\n<p>Which then can be executed like this:</p>\n\n<pre><code>SuperClass.executeAnActionOnSuperClass(new SubClass(...));\n</code></pre>\n\n<p>Though this is mostly an anti pattern and should be used sparely.</p>\n"},{"comments":[{"owner":{"account_id":5234262,"reputation":566,"user_id":4183412,"accept_rate":64,"display_name":"StrikeAgainst"},"score":0,"creation_date":1529979625,"post_id":51025641,"comment_id":89060130,"body_markdown":"This indeed looks way more elegant than what I did. Thank you!\nEDIT: Just noticed, this does not work with subclasses having different constructor parameters. Any idea how to solve this?","body":"This indeed looks way more elegant than what I did. Thank you! EDIT: Just noticed, this does not work with subclasses having different constructor parameters. Any idea how to solve this?"},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":1,"creation_date":1531800931,"post_id":51025641,"comment_id":89718003,"body_markdown":"But this violates the fact that you must not call an overridable method from a superclass constructor, right?","body":"But this violates the fact that you must not call an overridable method from a superclass constructor, right?"},{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":0,"creation_date":1531816887,"post_id":51025641,"comment_id":89725262,"body_markdown":"@user7 Right : It&#39;s in general unadvised but here `init()` replaces the constructor of the subclass. So you don&#39;t have the risk about invoking a method on a subclass instance that would have an inconsistent state because it didn&#39;t invoked its constructor.","body":"@user7 Right : It&#39;s in general unadvised but here <code>init()</code> replaces the constructor of the subclass. So you don&#39;t have the risk about invoking a method on a subclass instance that would have an inconsistent state because it didn&#39;t invoked its constructor."}],"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1530045832,"creation_date":1529936227,"answer_id":51025641,"question_id":51024810,"body_markdown":"&gt; It would work as it is now, but I find it a bad concept to call\r\n&gt; dispatch() at the end of every subclasses&#39; constructor. Is there a\r\n&gt; more elegant way to solve this? Or should I even completely rethink my\r\n&gt; concept?\r\n\r\nAs underlined by Timothy Truckle, your constructor logic is too complex.   \r\n\r\nYou can make things much simpler and reaching your goal by using the template method to initialize the subclass instance.\r\nNote that you already used this pattern with `doStuff()`.   \r\nThe subclass constructor is indeed your issue here : you want to reduce the mandatory boiler plates required in each subclasss and also make their readability and maintenance better.   \r\nSo introduce a new template method in the superclass and invoke it from the constructor of the super class.  \r\nThis method will do the same thing as a constructor but could so be invoked in a more flexible way.    \r\n`dispatch()` that is an artificial method, introduced only for the trick is not required either.   \r\nThe whole logic could be orchestrated from the super class constructor.   \r\n\r\nThe super class could look like :\r\n\r\n    public abstract class Superclass {\r\n    \r\n        ...\r\n    \r\n        public Superclass(...) {\r\n            ...    // do stuff before initializing subclass\r\n            init();\r\n            doStuff();\r\n        }\r\n    \r\n        public abstract void init();\r\n    \r\n        public abstract void doStuff();\r\n    }\r\n\r\nAnd in the subclass, replace :\r\n\r\n    public Subclass(...) {\r\n        super(...);     //has to be the first line\r\n        ...             //assign variables etc.\r\n        dispatch();     //has to be called after variables are assigned etc.\r\n    }\r\n\r\nby :\r\n\r\n    public Subclass(...) {\r\n        super(...);   // let the super constructor to orchestrate the init logic  \r\n    }\r\n\r\n    public void init(){\r\n        // move the constructor logic here\r\n    }\r\n\r\nThe result is much simpler because this design gathers responsibilities related to the initialization &quot;algorithm&quot; of the subclass in a single place : the super class constructor.    \r\n\r\n\r\n----------\r\n\r\nAbout your comment :\r\n\r\n&gt; This indeed looks way more elegant than what I did. Thank you! EDIT:\r\n&gt; Just noticed, this does not work with subclasses having different\r\n&gt; constructor parameters. Any idea how to solve this?\r\n\r\n\r\nWith such a requirement, to make things simple and clear, you have to make things in two steps : \r\n\r\n-  instantiate the object \r\n-  invoke on the reference the `init()` method. \r\n\r\nIt could look like : \r\n\r\n    SuperClass o = new Subclass(argFoo, argBar); \r\n    o.init();\r\n\r\nThe problem with this way is that you are not sure that the `init()` method was invoked. You could add a flag that you check at each time a method is invoked on the object. But it is really cumbersome and error-prone. Avoid that.     \r\nTo improve that, I would probably use the wrapper pattern.  \r\nYou could also use an interceptor/aspect. But it is not a good use case : the init processing is not transversal and is really related to the object behavior. It makes more sense to keep it visible.   \r\n\r\nWith a wrapper, it could look like :  \r\n\r\n    SuperClass o = new MyWrapper(new Subclass(argFoo, argBar));\r\n\r\nWhere The `MyWrapper` is a subclass of `SuperClass` and wraps an instance of `SuperClass` object :\r\n\r\n    public class MyWrapper implements SuperClass{\r\n    \r\n       private SuperClass wrapped;\r\n    \r\n       public MyWrapper (SuperClass wrapped){\r\n           this.wrapped = wrapped;\r\n           this.wrapped.init();\r\n       }\r\n    \r\n       // then delegate each superclass method to the wrapped object\r\n       public void doStuff(){\r\n           this.wrapped.doStuff();\r\n       }\r\n\r\n      // and so for...\r\n\r\n    }\r\n\r\n ","title":"Java - Force subclasses to call super method after constructor","body":"<blockquote>\n  <p>It would work as it is now, but I find it a bad concept to call\n  dispatch() at the end of every subclasses' constructor. Is there a\n  more elegant way to solve this? Or should I even completely rethink my\n  concept?</p>\n</blockquote>\n\n<p>As underlined by Timothy Truckle, your constructor logic is too complex.   </p>\n\n<p>You can make things much simpler and reaching your goal by using the template method to initialize the subclass instance.\nNote that you already used this pattern with <code>doStuff()</code>.<br>\nThe subclass constructor is indeed your issue here : you want to reduce the mandatory boiler plates required in each subclasss and also make their readability and maintenance better.<br>\nSo introduce a new template method in the superclass and invoke it from the constructor of the super class.<br>\nThis method will do the same thing as a constructor but could so be invoked in a more flexible way.<br>\n<code>dispatch()</code> that is an artificial method, introduced only for the trick is not required either.<br>\nThe whole logic could be orchestrated from the super class constructor.   </p>\n\n<p>The super class could look like :</p>\n\n<pre><code>public abstract class Superclass {\n\n    ...\n\n    public Superclass(...) {\n        ...    // do stuff before initializing subclass\n        init();\n        doStuff();\n    }\n\n    public abstract void init();\n\n    public abstract void doStuff();\n}\n</code></pre>\n\n<p>And in the subclass, replace :</p>\n\n<pre><code>public Subclass(...) {\n    super(...);     //has to be the first line\n    ...             //assign variables etc.\n    dispatch();     //has to be called after variables are assigned etc.\n}\n</code></pre>\n\n<p>by :</p>\n\n<pre><code>public Subclass(...) {\n    super(...);   // let the super constructor to orchestrate the init logic  \n}\n\npublic void init(){\n    // move the constructor logic here\n}\n</code></pre>\n\n<p>The result is much simpler because this design gathers responsibilities related to the initialization \"algorithm\" of the subclass in a single place : the super class constructor.    </p>\n\n<hr>\n\n<p>About your comment :</p>\n\n<blockquote>\n  <p>This indeed looks way more elegant than what I did. Thank you! EDIT:\n  Just noticed, this does not work with subclasses having different\n  constructor parameters. Any idea how to solve this?</p>\n</blockquote>\n\n<p>With such a requirement, to make things simple and clear, you have to make things in two steps : </p>\n\n<ul>\n<li>instantiate the object </li>\n<li>invoke on the reference the <code>init()</code> method. </li>\n</ul>\n\n<p>It could look like : </p>\n\n<pre><code>SuperClass o = new Subclass(argFoo, argBar); \no.init();\n</code></pre>\n\n<p>The problem with this way is that you are not sure that the <code>init()</code> method was invoked. You could add a flag that you check at each time a method is invoked on the object. But it is really cumbersome and error-prone. Avoid that.<br>\nTo improve that, I would probably use the wrapper pattern.<br>\nYou could also use an interceptor/aspect. But it is not a good use case : the init processing is not transversal and is really related to the object behavior. It makes more sense to keep it visible.   </p>\n\n<p>With a wrapper, it could look like :  </p>\n\n<pre><code>SuperClass o = new MyWrapper(new Subclass(argFoo, argBar));\n</code></pre>\n\n<p>Where The <code>MyWrapper</code> is a subclass of <code>SuperClass</code> and wraps an instance of <code>SuperClass</code> object :</p>\n\n<pre><code>public class MyWrapper implements SuperClass{\n\n   private SuperClass wrapped;\n\n   public MyWrapper (SuperClass wrapped){\n       this.wrapped = wrapped;\n       this.wrapped.init();\n   }\n\n   // then delegate each superclass method to the wrapped object\n   public void doStuff(){\n       this.wrapped.doStuff();\n   }\n\n  // and so for...\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1645910,"reputation":2703,"user_id":1517467,"display_name":"Dipendu Paul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700843089,"creation_date":1700843089,"answer_id":77544496,"question_id":51024810,"body_markdown":"I came across the same problem where additional initialization logic was enforced by a factory\r\n\r\n    internal class ExpenseFactory\r\n    {\r\n        internal static Expense CreateExpense(ExpenseArguments args)\r\n        {\r\n            Expense? expense = null;\r\n            switch (args.ExpenseType)\r\n            {\r\n                case ExpenseType.EQUAL:\r\n                    expense = new EqualExpense(Guid.NewGuid().ToString(), args.Amount, args.PaidBy, args.SharedBy);\r\n                    break;\r\n                case ExpenseType.EXACT:\r\n                    expense = new ExactExpense(Guid.NewGuid().ToString(), args.Amount, args.PaidBy, args.SharedBy, args.ExactAmounts);\r\n                    break;\r\n                case ExpenseType.PERCENT:\r\n                    expense = new PercentExpense(Guid.NewGuid().ToString(), args.Amount, args.PaidBy, args.SharedBy, args.Percentages);\r\n                    break;\r\n                default:\r\n                    throw new ArgumentException(&quot;Ivalid expense arguments&quot;);\r\n            }\r\n\r\n            expense.InitSplits(); // additional init logic implemented by each subclass and declared as abstract in parent class Expense \r\n            return expense;\r\n        }\r\n    }\r\n\r\nI think a factory method is a place where complex initialization logic belongs. Full code sample can be found [here][1] \r\n\r\n\r\n  [1]: https://github.com/FOSSKolkata/expense-sharing/blob/main/SplitWiseDesign/ExpenseFactory.cs","title":"Java - Force subclasses to call super method after constructor","body":"<p>I came across the same problem where additional initialization logic was enforced by a factory</p>\n<pre><code>internal class ExpenseFactory\n{\n    internal static Expense CreateExpense(ExpenseArguments args)\n    {\n        Expense? expense = null;\n        switch (args.ExpenseType)\n        {\n            case ExpenseType.EQUAL:\n                expense = new EqualExpense(Guid.NewGuid().ToString(), args.Amount, args.PaidBy, args.SharedBy);\n                break;\n            case ExpenseType.EXACT:\n                expense = new ExactExpense(Guid.NewGuid().ToString(), args.Amount, args.PaidBy, args.SharedBy, args.ExactAmounts);\n                break;\n            case ExpenseType.PERCENT:\n                expense = new PercentExpense(Guid.NewGuid().ToString(), args.Amount, args.PaidBy, args.SharedBy, args.Percentages);\n                break;\n            default:\n                throw new ArgumentException(&quot;Ivalid expense arguments&quot;);\n        }\n\n        expense.InitSplits(); // additional init logic implemented by each subclass and declared as abstract in parent class Expense \n        return expense;\n    }\n}\n</code></pre>\n<p>I think a factory method is a place where complex initialization logic belongs. Full code sample can be found <a href=\"https://github.com/FOSSKolkata/expense-sharing/blob/main/SplitWiseDesign/ExpenseFactory.cs\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":5234262,"reputation":566,"user_id":4183412,"accept_rate":64,"display_name":"StrikeAgainst"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4586,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":5,"score":7,"last_activity_date":1700843089,"creation_date":1529933735,"question_id":51024810,"body_markdown":"I want a bunch of subclasses to call a super method after finishing the constructor like this:\r\n\r\n    public abstract class Superclass {\r\n\r\n        ...\r\n\r\n        public Superclass(...) {\r\n            ...    // do stuff before initializing subclass\r\n        }\r\n\r\n        protected void dispatch() {     //method to be called directly after creating an object\r\n            doStuff();\r\n            ...\r\n        }\r\n\r\n        public abstract void doStuff();\r\n    }\r\n\r\n    public class Subclass extends Superclass {\r\n\r\n        ...\r\n\r\n        public Subclass(...) {\r\n            super(...);     //has to be the first line\r\n            ...             //assign variables etc.\r\n            dispatch();     //has to be called after variables are assigned etc.\r\n        }\r\n\r\n        public void doStuff() {\r\n            //do stuff with assigned variables etc.\r\n        }\r\n    }\r\n\r\nThe `dispatch()` function contains a set of things to do with the object after it has been created, which has to apply to all subclasses. I can&#39;t move this function into the super constructor, since it calls methods from the subclasses which require already assigned variables. But since `super()` requires to be the first line of the sub constructor though, I can&#39;t set any variables until after the super constructor was called.\r\n\r\nIt would work as it is now, but I find it a bad concept to call `dispatch()` at the end of every subclasses&#39; constructor. Is there a more elegant way to solve this? Or should I even completely rethink my concept?","title":"Java - Force subclasses to call super method after constructor","body":"<p>I want a bunch of subclasses to call a super method after finishing the constructor like this:</p>\n\n<pre><code>public abstract class Superclass {\n\n    ...\n\n    public Superclass(...) {\n        ...    // do stuff before initializing subclass\n    }\n\n    protected void dispatch() {     //method to be called directly after creating an object\n        doStuff();\n        ...\n    }\n\n    public abstract void doStuff();\n}\n\npublic class Subclass extends Superclass {\n\n    ...\n\n    public Subclass(...) {\n        super(...);     //has to be the first line\n        ...             //assign variables etc.\n        dispatch();     //has to be called after variables are assigned etc.\n    }\n\n    public void doStuff() {\n        //do stuff with assigned variables etc.\n    }\n}\n</code></pre>\n\n<p>The <code>dispatch()</code> function contains a set of things to do with the object after it has been created, which has to apply to all subclasses. I can't move this function into the super constructor, since it calls methods from the subclasses which require already assigned variables. But since <code>super()</code> requires to be the first line of the sub constructor though, I can't set any variables until after the super constructor was called.</p>\n\n<p>It would work as it is now, but I find it a bad concept to call <code>dispatch()</code> at the end of every subclasses' constructor. Is there a more elegant way to solve this? Or should I even completely rethink my concept?</p>\n"},{"tags":["java","spring","maven","profile"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1700854979,"post_id":77544485,"comment_id":136707796,"body_markdown":"Maven profiles and spring profiles are different things. DOn&#39;t mix them. Ditch the maven prod profile. Just build your jar and when running in production include `--spring.profiles.active=prod` when running the application. Don&#39;t rebuild your application just because you want to move to a different environment. Or instead of a profile just pass the properties `--spring.datasource.url=&lt;url&gt;` etc. or specify them as environment variables.","body":"Maven profiles and spring profiles are different things. DOn&#39;t mix them. Ditch the maven prod profile. Just build your jar and when running in production include <code>--spring.profiles.active=prod</code> when running the application. Don&#39;t rebuild your application just because you want to move to a different environment. Or instead of a profile just pass the properties <code>--spring.datasource.url=&lt;url&gt;</code> etc. or specify them as environment variables."},{"owner":{"account_id":16400004,"reputation":1,"user_id":11846318,"display_name":"Maciej Gomulec"},"score":0,"creation_date":1700984523,"post_id":77544485,"comment_id":136717240,"body_markdown":"Thanks for answer, could you elaborate it though? What do you mean by ditching maven prod profile? In this profile I use maven frontend plugin to install locally node and react app.","body":"Thanks for answer, could you elaborate it though? What do you mean by ditching maven prod profile? In this profile I use maven frontend plugin to install locally node and react app."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701066436,"post_id":77544485,"comment_id":136724238,"body_markdown":"That isn&#39;t the only thing you do. Just make it part of your regular build. You are also building it with the assumption that it automatically enables spring profiles, which it doesn&#39;t.","body":"That isn&#39;t the only thing you do. Just make it part of your regular build. You are also building it with the assumption that it automatically enables spring profiles, which it doesn&#39;t."}],"owner":{"account_id":16400004,"reputation":1,"user_id":11846318,"display_name":"Maciej Gomulec"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700843025,"creation_date":1700843025,"question_id":77544485,"body_markdown":"I have problem with setting profiles in my spring boot app. I use java with react and currently am learning how to deploy app to aws. For development I was using docker image of postgres db and this config file (application.yml):\r\n\r\n```\r\napp:\r\n  datasource:\r\n    jdbc-url: jdbc:postgresql://localhost:5432/karatesandemo\r\n    username: username\r\n    password: password\r\n    pool-size: 30\r\n```\r\nFor my aws db I had to make diffrent configuration, so i made another file (application-prod.yml):\r\n\r\n\r\n```\r\nserver:\r\n  port: 5000\r\napp:\r\n  datasource:\r\n    jdbc-url: jdbc:URL:5432/karatesandemo\r\n    username: username\r\n    password: password\r\n    pool-size: 30\r\n\r\n```\r\nAnd this is my pom.xml profile:\r\n\r\n```\r\n &lt;profiles&gt;\r\n    &lt;profile&gt;\r\n    &lt;id&gt;prod&lt;/id&gt;\r\n        &lt;properties&gt;\r\n            &lt;spring.profiles.active&gt;prod&lt;/spring.profiles.active&gt;\r\n        &lt;/properties&gt;\r\n            &lt;build&gt;\r\n                &lt;resources&gt;\r\n                    &lt;resource&gt;\r\n                        &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                        &lt;filtering&gt;true&lt;/filtering&gt;\r\n                    &lt;/resource&gt;\r\n                &lt;/resources&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;/plugin&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.9.1&lt;/version&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;nodeVersion&gt;${node.version}&lt;/nodeVersion&gt;\r\n                            &lt;workingDirectory&gt;${frontend.src.directory}&lt;/workingDirectory&gt;\r\n                            &lt;installDirectory&gt;${project.build.directory}&lt;/installDirectory&gt;\r\n                        &lt;/configuration&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;install node&lt;/id&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;install-node-and-npm&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;phase&gt;generate-resources&lt;/phase&gt;\r\n                            &lt;/execution&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;npm-install&lt;/id&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;npm&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;arguments&gt;install&lt;/arguments&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;build-ui&lt;/id&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;npm&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;arguments&gt;run build&lt;/arguments&gt;\r\n                                &lt;/configuration&gt;\r\n                                &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;add-react-build&lt;/id&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;outputDirectory&gt;${project.build.outputDirectory}/static&lt;/outputDirectory&gt;\r\n                                    &lt;resources&gt;\r\n                                        &lt;resource&gt;\r\n                                            &lt;directory&gt;${frontend.src.directory}/build&lt;/directory&gt;\r\n                                            &lt;filtering&gt;false&lt;/filtering&gt;\r\n                                        &lt;/resource&gt;\r\n                                    &lt;/resources&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n\r\n            &lt;/build&gt;\r\n    &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n```\r\n\r\nProblem is when i want to install it with mvn clean install -Pprod. it keeps taking application.yml configuration (No active profile set, falling back to 1 default profile: &quot;default&quot;).\r\n\r\n\r\nI&#39;ve been trying to fiddle with adding :\r\n\r\n```\r\nspring:\r\n  profiles:\r\n    active: @spring.profiles.active@\r\n```\r\nTo application.yml files and it stayed same. What works for me is deleting it from application-prod.yml and leaving it in application.yml. Only this way it works. Can someone explain this to me?\r\n","title":"Java Spring boot with maven. How to configure profiles?","body":"<p>I have problem with setting profiles in my spring boot app. I use java with react and currently am learning how to deploy app to aws. For development I was using docker image of postgres db and this config file (application.yml):</p>\n<pre><code>app:\n  datasource:\n    jdbc-url: jdbc:postgresql://localhost:5432/karatesandemo\n    username: username\n    password: password\n    pool-size: 30\n</code></pre>\n<p>For my aws db I had to make diffrent configuration, so i made another file (application-prod.yml):</p>\n<pre><code>server:\n  port: 5000\napp:\n  datasource:\n    jdbc-url: jdbc:URL:5432/karatesandemo\n    username: username\n    password: password\n    pool-size: 30\n\n</code></pre>\n<p>And this is my pom.xml profile:</p>\n<pre><code> &lt;profiles&gt;\n    &lt;profile&gt;\n    &lt;id&gt;prod&lt;/id&gt;\n        &lt;properties&gt;\n            &lt;spring.profiles.active&gt;prod&lt;/spring.profiles.active&gt;\n        &lt;/properties&gt;\n            &lt;build&gt;\n                &lt;resources&gt;\n                    &lt;resource&gt;\n                        &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                        &lt;filtering&gt;true&lt;/filtering&gt;\n                    &lt;/resource&gt;\n                &lt;/resources&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\n                        &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;1.9.1&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;nodeVersion&gt;${node.version}&lt;/nodeVersion&gt;\n                            &lt;workingDirectory&gt;${frontend.src.directory}&lt;/workingDirectory&gt;\n                            &lt;installDirectory&gt;${project.build.directory}&lt;/installDirectory&gt;\n                        &lt;/configuration&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;install node&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;install-node-and-npm&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;phase&gt;generate-resources&lt;/phase&gt;\n                            &lt;/execution&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;npm-install&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;npm&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;arguments&gt;install&lt;/arguments&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;build-ui&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;npm&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;arguments&gt;run build&lt;/arguments&gt;\n                                &lt;/configuration&gt;\n                                &lt;phase&gt;prepare-package&lt;/phase&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;add-react-build&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;copy-resources&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;phase&gt;prepare-package&lt;/phase&gt;\n                                &lt;configuration&gt;\n                                    &lt;outputDirectory&gt;${project.build.outputDirectory}/static&lt;/outputDirectory&gt;\n                                    &lt;resources&gt;\n                                        &lt;resource&gt;\n                                            &lt;directory&gt;${frontend.src.directory}/build&lt;/directory&gt;\n                                            &lt;filtering&gt;false&lt;/filtering&gt;\n                                        &lt;/resource&gt;\n                                    &lt;/resources&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n\n            &lt;/build&gt;\n    &lt;/profile&gt;\n    &lt;/profiles&gt;\n</code></pre>\n<p>Problem is when i want to install it with mvn clean install -Pprod. it keeps taking application.yml configuration (No active profile set, falling back to 1 default profile: &quot;default&quot;).</p>\n<p>I've been trying to fiddle with adding :</p>\n<pre><code>spring:\n  profiles:\n    active: @spring.profiles.active@\n</code></pre>\n<p>To application.yml files and it stayed same. What works for me is deleting it from application-prod.yml and leaving it in application.yml. Only this way it works. Can someone explain this to me?</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":61892,"reputation":5204,"user_id":184201,"accept_rate":78,"display_name":"Ahmed Ashour"},"score":0,"creation_date":1700754129,"post_id":77537383,"comment_id":136695499,"body_markdown":"Thanks, but that&#39;s not the reason. The question has been changed.","body":"Thanks, but that&#39;s not the reason. The question has been changed."}],"tags":[],"owner":{"account_id":29975563,"reputation":1,"user_id":22971871,"display_name":"hurontrara"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700747001,"creation_date":1700747001,"answer_id":77537383,"question_id":77536800,"body_markdown":"```Page&lt;Feed&gt; findBySomething(Pageable pageable);```\r\n\r\nto \r\n\r\n```Page&lt;SomeParent&gt; findBySomething(Pageable pageable);```\r\n","title":"JPA query with sorting by ElementCollection gives UnsupportedOperationException","body":"<p><code>Page&lt;Feed&gt; findBySomething(Pageable pageable);</code></p>\n<p>to</p>\n<p><code>Page&lt;SomeParent&gt; findBySomething(Pageable pageable);</code></p>\n"},{"comments":[{"owner":{"account_id":61892,"reputation":5204,"user_id":184201,"accept_rate":78,"display_name":"Ahmed Ashour"},"score":0,"creation_date":1700842907,"post_id":77538364,"comment_id":136706290,"body_markdown":"Thanks, but there is an error that `keywords` column doesn&#39;t exist. And on changing the query to `select * from Some_Parent sp, some_parent_keywords k where k.some_parent_id=sp.id ORDER BY k.keywords ASC` and changing the column in Pageable, still an error happens.","body":"Thanks, but there is an error that <code>keywords</code> column doesn&#39;t exist. And on changing the query to <code>select * from Some_Parent sp, some_parent_keywords k where k.some_parent_id=sp.id ORDER BY k.keywords ASC</code> and changing the column in Pageable, still an error happens."}],"tags":[],"owner":{"account_id":29386274,"reputation":51,"user_id":22515654,"display_name":"Klajd Bakalli"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700842809,"creation_date":1700756540,"answer_id":77538364,"question_id":77536800,"body_markdown":"I think you can try to use &quot;nativeQuery&quot; about the sort.So i will give you an example:\r\n\r\n\r\n    @Query(value = &quot;SELECT * FROM some_parent ORDER BY keywords ASC&quot;, nativeQuery = true)\r\n    Page&lt;SomeParent&gt; findBySomething(Pageable pageable);  \r\n\r\n ","title":"JPA query with sorting by ElementCollection gives UnsupportedOperationException","body":"<p>I think you can try to use &quot;nativeQuery&quot; about the sort.So i will give you an example:</p>\n<pre><code>@Query(value = &quot;SELECT * FROM some_parent ORDER BY keywords ASC&quot;, nativeQuery = true)\nPage&lt;SomeParent&gt; findBySomething(Pageable pageable);  \n</code></pre>\n"}],"owner":{"account_id":61892,"reputation":5204,"user_id":184201,"accept_rate":78,"display_name":"Ahmed Ashour"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700842809,"creation_date":1700741847,"question_id":77536800,"body_markdown":"When there an entity which has an `ElementCollection` field of a simple type, and on trying to have query using sorting of that field, there is an `UnsupportedOperationException`\r\n\r\n```\r\npublic class SomeParent {\r\n  @ElementCollection\r\n  private List&lt;String&gt; keywords;\r\n}\r\n\r\npublic interface SomeParentRepository extends JpaRepository&lt;SomeParent, Integer&gt;, JpaSpecificationExecutor&lt;SomeParent&gt; {\r\n\r\n  @Query(&quot;select sp from SomeParent sp&quot;)\r\n  Page&lt;SomeParent&gt; findBySomething(Pageable pageable);\r\n}\r\n```\r\n\r\nCalling the custom query with the field sorting, gives an error:\r\n```\r\nvar pageable = PageRequest.of(0, 20, Sort.by(&quot;keywords&quot;));\r\nsomeParentRepository.findBySomething(pageable);\r\n```\r\n\r\n\r\nHowever, calling [findAll()](https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/PagingAndSortingRepository.html#findAll(org.springframework.data.domain.Pageable)) (with sorting by the field) works fine:\r\n\r\n```\r\nvar pageable = PageRequest.of(0, 20, Sort.by(&quot;keywords&quot;));\r\nsomeParentRepository.findAll(pageable);\r\n```\r\n\r\nand also calling the custom query with no sorting works fine.\r\n```\r\nvar pageable = PageRequest.of(0, 20);\r\nsomeParentRepository.findBySomething(pageable);\r\n```\r\n\r\n\r\nI tried adding `@OrderBy` to the field, but it doesn&#39;t help.\r\n\r\nI hope there is a way other than using [Specification](https://docs.spring.io/spring-data/jpa/reference/jpa/specifications.html), as the real-life query has more parameters.\r\n\r\n```\r\njava.lang.UnsupportedOperationException: null\r\n\tat org.hibernate.query.sqm.sql.internal.PluralValuedSimplePathInterpretation.accept(PluralValuedSimplePathInterpretation.java:72) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitSortSpecification(AbstractSqlAstTranslator.java:3764) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitSortSpecification(AbstractSqlAstTranslator.java:3745) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.renderOrderBy(AbstractSqlAstTranslator.java:3351) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitOrderBy(AbstractSqlAstTranslator.java:3335) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitQuerySpec(AbstractSqlAstTranslator.java:3086) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.dialect.PostgreSQLSqlAstTranslator.visitQuerySpec(PostgreSQLSqlAstTranslator.java:186) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.sql.ast.tree.select.QuerySpec.accept(QuerySpec.java:119) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitSelectStatement(AbstractSqlAstTranslator.java:988) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.translateSelect(AbstractSqlAstTranslator.java:851) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.translate(AbstractSqlAstTranslator.java:801) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.buildCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:372) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:268) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.query.Query.getResultList(Query.java:119) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$PagedExecution.doExecute(JpaQueryExecution.java:204) ~[spring-data-jpa-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92) ~[spring-data-jpa-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149) ~[spring-data-jpa-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137) ~[spring-data-jpa-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar:6.0.13]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar:6.0.13]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) ~[spring-data-jpa-3.1.5.jar:3.1.5]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy248.findBySomething(Unknown Source) ~[na:na]\r\n```\r\n","title":"JPA query with sorting by ElementCollection gives UnsupportedOperationException","body":"<p>When there an entity which has an <code>ElementCollection</code> field of a simple type, and on trying to have query using sorting of that field, there is an <code>UnsupportedOperationException</code></p>\n<pre><code>public class SomeParent {\n  @ElementCollection\n  private List&lt;String&gt; keywords;\n}\n\npublic interface SomeParentRepository extends JpaRepository&lt;SomeParent, Integer&gt;, JpaSpecificationExecutor&lt;SomeParent&gt; {\n\n  @Query(&quot;select sp from SomeParent sp&quot;)\n  Page&lt;SomeParent&gt; findBySomething(Pageable pageable);\n}\n</code></pre>\n<p>Calling the custom query with the field sorting, gives an error:</p>\n<pre><code>var pageable = PageRequest.of(0, 20, Sort.by(&quot;keywords&quot;));\nsomeParentRepository.findBySomething(pageable);\n</code></pre>\n<p>However, calling <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/PagingAndSortingRepository.html#findAll(org.springframework.data.domain.Pageable)\" rel=\"nofollow noreferrer\">findAll()</a> (with sorting by the field) works fine:</p>\n<pre><code>var pageable = PageRequest.of(0, 20, Sort.by(&quot;keywords&quot;));\nsomeParentRepository.findAll(pageable);\n</code></pre>\n<p>and also calling the custom query with no sorting works fine.</p>\n<pre><code>var pageable = PageRequest.of(0, 20);\nsomeParentRepository.findBySomething(pageable);\n</code></pre>\n<p>I tried adding <code>@OrderBy</code> to the field, but it doesn't help.</p>\n<p>I hope there is a way other than using <a href=\"https://docs.spring.io/spring-data/jpa/reference/jpa/specifications.html\" rel=\"nofollow noreferrer\">Specification</a>, as the real-life query has more parameters.</p>\n<pre><code>java.lang.UnsupportedOperationException: null\n    at org.hibernate.query.sqm.sql.internal.PluralValuedSimplePathInterpretation.accept(PluralValuedSimplePathInterpretation.java:72) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitSortSpecification(AbstractSqlAstTranslator.java:3764) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitSortSpecification(AbstractSqlAstTranslator.java:3745) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.renderOrderBy(AbstractSqlAstTranslator.java:3351) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitOrderBy(AbstractSqlAstTranslator.java:3335) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitQuerySpec(AbstractSqlAstTranslator.java:3086) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.dialect.PostgreSQLSqlAstTranslator.visitQuerySpec(PostgreSQLSqlAstTranslator.java:186) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.sql.ast.tree.select.QuerySpec.accept(QuerySpec.java:119) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitSelectStatement(AbstractSqlAstTranslator.java:988) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.translateSelect(AbstractSqlAstTranslator.java:851) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.translate(AbstractSqlAstTranslator.java:801) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.buildCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:372) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:268) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.query.Query.getResultList(Query.java:119) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$PagedExecution.doExecute(JpaQueryExecution.java:204) ~[spring-data-jpa-3.1.5.jar:3.1.5]\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92) ~[spring-data-jpa-3.1.5.jar:3.1.5]\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149) ~[spring-data-jpa-3.1.5.jar:3.1.5]\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137) ~[spring-data-jpa-3.1.5.jar:3.1.5]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar:6.0.13]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar:6.0.13]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) ~[spring-data-jpa-3.1.5.jar:3.1.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244) ~[spring-aop-6.0.13.jar:6.0.13]\n    at jdk.proxy2/jdk.proxy2.$Proxy248.findBySomething(Unknown Source) ~[na:na]\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8164709,"reputation":6730,"user_id":6147506,"accept_rate":79,"display_name":"nhouser9"},"score":0,"creation_date":1461373082,"post_id":36805374,"comment_id":61184548,"body_markdown":"Seems like you haven&#39;t declared a class named SavingsAccount, which you try to use in your code.","body":"Seems like you haven&#39;t declared a class named SavingsAccount, which you try to use in your code."}],"answers":[{"tags":[],"owner":{"account_id":8297655,"reputation":1118,"user_id":6237359,"accept_rate":80,"display_name":"FrenchTechLead"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461373216,"creation_date":1461373216,"answer_id":36805407,"question_id":36805374,"body_markdown":"it seems that the compiler don&#39;t find the class SavingsAccount, is it included to your project ? you should import it just like you did here : \r\n\r\n    import java.util.Scanner; ","title":"Uncompilable source code - cannot find symbol error","body":"<p>it seems that the compiler don't find the class SavingsAccount, is it included to your project ? you should import it just like you did here : </p>\n\n<pre><code>import java.util.Scanner; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":7724416,"reputation":11,"user_id":5849529,"accept_rate":0,"display_name":"J&#39;on J&#39;onzz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700842740,"creation_date":1461375004,"answer_id":36805592,"question_id":36805374,"body_markdown":"I just got it to work! Apparently, my issue was due to the fact that I didn&#39;t manage my files properly and I proceeded in the wrong order. I had two files for this project, and I wrote the other one before I wrote this one. NetBeans proposed a solution, and when I clicked it to try it, it opened an additional project area for me to enter my code from the first file I had already created. When I copied it over, that fixed my problem.\r\n\r\n","title":"Uncompilable source code - cannot find symbol error","body":"<p>I just got it to work! Apparently, my issue was due to the fact that I didn't manage my files properly and I proceeded in the wrong order. I had two files for this project, and I wrote the other one before I wrote this one. NetBeans proposed a solution, and when I clicked it to try it, it opened an additional project area for me to enter my code from the first file I had already created. When I copied it over, that fixed my problem.</p>\n"},{"tags":[],"owner":{"account_id":8305860,"reputation":26,"user_id":6242908,"display_name":"Timoshenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461375234,"creation_date":1461375234,"answer_id":36805613,"question_id":36805374,"body_markdown":"so, just add the class that is here:\r\n\r\nhttps://codereview.stackexchange.com/questions/84551/savings-account-class-and-test-program\r\n\r\nHere you will find SavingsAccount class.","title":"Uncompilable source code - cannot find symbol error","body":"<p>so, just add the class that is here:</p>\n\n<p><a href=\"https://codereview.stackexchange.com/questions/84551/savings-account-class-and-test-program\">https://codereview.stackexchange.com/questions/84551/savings-account-class-and-test-program</a></p>\n\n<p>Here you will find SavingsAccount class.</p>\n"},{"tags":[],"owner":{"account_id":11926416,"reputation":81,"user_id":10316876,"display_name":"abel.matos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604689096,"creation_date":1604689096,"answer_id":64720228,"question_id":36805374,"body_markdown":"As it is explained in other similar question, but for Windows: \r\n\r\n - close Netbeans\r\n - delete the folder `$USER/AppData/Local/NetBeans/Cache/&lt;your_Netbeans_version&gt;/index`\r\n - restart Netbeans\r\n\r\nOriginal answer: [Uncompilable source code RuntimeException in netbeans][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4386076/uncompilable-source-code-runtimeexception-in-netbeans/4387950#4387950","title":"Uncompilable source code - cannot find symbol error","body":"<p>As it is explained in other similar question, but for Windows:</p>\n<ul>\n<li>close Netbeans</li>\n<li>delete the folder <code>$USER/AppData/Local/NetBeans/Cache/&lt;your_Netbeans_version&gt;/index</code></li>\n<li>restart Netbeans</li>\n</ul>\n<p>Original answer: <a href=\"https://stackoverflow.com/questions/4386076/uncompilable-source-code-runtimeexception-in-netbeans/4387950#4387950\">Uncompilable source code RuntimeException in netbeans</a></p>\n"}],"owner":{"account_id":7724416,"reputation":11,"user_id":5849529,"accept_rate":0,"display_name":"J&#39;on J&#39;onzz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9393,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1700842740,"creation_date":1461372893,"question_id":36805374,"body_markdown":"Let&#39;s jump right in, shall we? Here is my code:\r\n\r\n    import java.util.Scanner; \r\n    \r\n    public class a7main\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            double startBalance; \r\n            double annual_Interest_Rate; \r\n            int months; \r\n            double deposit_Amount; \r\n            double withdraw_Amount; \r\n    \r\n            Scanner input = new Scanner(System.in); \r\n    \r\n            System.out.print(&quot;Please enter your starting balance: $&quot;); \r\n            startBalance = input.nextDouble(); \r\n    \r\n            System.out.print(&quot;Please enter your annual interest rate: &quot;); \r\n            annual_Interest_Rate = input.nextDouble(); \r\n    \r\n            System.out.print(&quot;Please enter the number of months: &quot;);\r\n            months = input.nextInt(); \r\n    \r\n            SavingsAccount sa = new\r\n            SavingsAccount(startBalance, annual_Interest_Rate); \r\n    \r\n            sa.setAnnualInterestRate(annual_Interest_Rate);\r\n    \r\n            for (int i = 0; i &lt; months; i++)\r\n            {\r\n                System.out.print(&quot;Please enter the amount you would like to deposit for the month &quot; + (i+1) + &quot;:$&quot;); \r\n                deposit_Amount = input.nextDouble(); \r\n    \r\n                sa.setDeposit(deposit_Amount); \r\n    \r\n                System.out.print(&quot;Please enter the amount you would like to withdraw for the month &quot; + (i+1) + &quot;:$&quot;); \r\n                withdraw_Amount = input.nextDouble(); \r\n    \r\n                sa.setWithdraw(withdraw_Amount); \r\n    \r\n                sa.calculateMonthlyInterest();\r\n            }\r\n            sa.displayData(); \r\n        }\r\n    }\r\n\r\nAnd here is the error message I get when I try to run it:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.RuntimeException: Uncompilable\r\n&gt; source code - cannot find symbol   symbol:   class SavingsAccount  \r\n&gt; location: class a7main\r\n\r\nI&#39;m a complete beginner who hasn&#39;t encountered this error before. Any suggestions for how to address this error so that I can run this code?\r\n\r\n","title":"Uncompilable source code - cannot find symbol error","body":"<p>Let's jump right in, shall we? Here is my code:</p>\n<pre><code>import java.util.Scanner; \n\npublic class a7main\n{\n    public static void main(String[] args)\n    {\n        double startBalance; \n        double annual_Interest_Rate; \n        int months; \n        double deposit_Amount; \n        double withdraw_Amount; \n\n        Scanner input = new Scanner(System.in); \n\n        System.out.print(&quot;Please enter your starting balance: $&quot;); \n        startBalance = input.nextDouble(); \n\n        System.out.print(&quot;Please enter your annual interest rate: &quot;); \n        annual_Interest_Rate = input.nextDouble(); \n\n        System.out.print(&quot;Please enter the number of months: &quot;);\n        months = input.nextInt(); \n\n        SavingsAccount sa = new\n        SavingsAccount(startBalance, annual_Interest_Rate); \n\n        sa.setAnnualInterestRate(annual_Interest_Rate);\n\n        for (int i = 0; i &lt; months; i++)\n        {\n            System.out.print(&quot;Please enter the amount you would like to deposit for the month &quot; + (i+1) + &quot;:$&quot;); \n            deposit_Amount = input.nextDouble(); \n\n            sa.setDeposit(deposit_Amount); \n\n            System.out.print(&quot;Please enter the amount you would like to withdraw for the month &quot; + (i+1) + &quot;:$&quot;); \n            withdraw_Amount = input.nextDouble(); \n\n            sa.setWithdraw(withdraw_Amount); \n\n            sa.calculateMonthlyInterest();\n        }\n        sa.displayData(); \n    }\n}\n</code></pre>\n<p>And here is the error message I get when I try to run it:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.RuntimeException: Uncompilable\nsource code - cannot find symbol   symbol:   class SavingsAccount<br />\nlocation: class a7main</p>\n</blockquote>\n<p>I'm a complete beginner who hasn't encountered this error before. Any suggestions for how to address this error so that I can run this code?</p>\n"},{"tags":["java","macos","homebrew"],"comments":[{"owner":{"account_id":82452,"reputation":15242,"user_id":231821,"accept_rate":92,"display_name":"Jim"},"score":0,"creation_date":1701017430,"post_id":77544390,"comment_id":136720156,"body_markdown":"sdkman might solve it, but thats not the answer I was looking for.","body":"sdkman might solve it, but thats not the answer I was looking for."}],"owner":{"account_id":82452,"reputation":15242,"user_id":231821,"accept_rate":92,"display_name":"Jim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1700858534,"answer_count":0,"score":-1,"last_activity_date":1700842083,"creation_date":1700841815,"question_id":77544390,"body_markdown":"I have installed jdk21 using `brew install openjdk@21`\r\n\r\nHowever, the JDK versions available when I execute `java_home -V` does not list it.\r\nI can see the links here.\r\n\r\n```\r\ndrwxr-xr-x  4 root  wheel  128 Nov  3 00:44 ..\r\nlrwxr-xr-x  1 root  wheel   45 Aug  5  2021 openjdk-11.jdk -&gt; /usr/local/opt/openjdk@11/libexec/openjdk.jdk\r\nlrwxr-xr-x  1 root  wheel   45 Jan  8  2023 openjdk-17.jdk -&gt; /usr/local/opt/openjdk@17/libexec/openjdk.jdk\r\nlrwxr-xr-x  1 root  wheel   44 Aug  5  2021 openjdk-8.jdk -&gt; /usr/local/opt/openjdk@8/libexec/openjdk.jdk\r\n/Library/Java/JavaVirtualMachines\r\n```\r\n\r\nBut jdk 21 is available in the /usr/local/opt.\r\n\r\n```\r\nlrwxr-xr-x   1 craigmain  admin    24 Nov 23 18:46 openjdk@21 -&gt; ../Cellar/openjdk/21.0.1\r\n```\r\n\r\nWhat process / installation manages the list in JavaVirtualMachines.\r\nHow do I ensure that a link is correctly installed.","title":"Multiple JDK versions on mac using java_home","body":"<p>I have installed jdk21 using <code>brew install openjdk@21</code></p>\n<p>However, the JDK versions available when I execute <code>java_home -V</code> does not list it.\nI can see the links here.</p>\n<pre><code>drwxr-xr-x  4 root  wheel  128 Nov  3 00:44 ..\nlrwxr-xr-x  1 root  wheel   45 Aug  5  2021 openjdk-11.jdk -&gt; /usr/local/opt/openjdk@11/libexec/openjdk.jdk\nlrwxr-xr-x  1 root  wheel   45 Jan  8  2023 openjdk-17.jdk -&gt; /usr/local/opt/openjdk@17/libexec/openjdk.jdk\nlrwxr-xr-x  1 root  wheel   44 Aug  5  2021 openjdk-8.jdk -&gt; /usr/local/opt/openjdk@8/libexec/openjdk.jdk\n/Library/Java/JavaVirtualMachines\n</code></pre>\n<p>But jdk 21 is available in the /usr/local/opt.</p>\n<pre><code>lrwxr-xr-x   1 craigmain  admin    24 Nov 23 18:46 openjdk@21 -&gt; ../Cellar/openjdk/21.0.1\n</code></pre>\n<p>What process / installation manages the list in JavaVirtualMachines.\nHow do I ensure that a link is correctly installed.</p>\n"},{"tags":["java","nullpointerexception","pentaho","pentaho-spoon","pentaho-data-integration"],"answers":[{"comments":[{"owner":{"account_id":8869068,"reputation":2015,"user_id":6623277,"display_name":"KCK"},"score":0,"creation_date":1577957221,"post_id":59559692,"comment_id":105289702,"body_markdown":"can you please elaborate on the 1st and 3rd point? I have checked rest all the points already but didn&#39;t find the root cause","body":"can you please elaborate on the 1st and 3rd point? I have checked rest all the points already but didn&#39;t find the root cause"},{"owner":{"account_id":17152367,"reputation":56,"user_id":12413983,"display_name":"NK0709"},"score":0,"creation_date":1578280514,"post_id":59559692,"comment_id":105376518,"body_markdown":"For Point 1. at the below location check if the required components used in your job or transformation file is available C:\\Pentaho\\design-tools\\data-integration\\plugins. you can also validate when you go to design pane in spoon instance and you see relevant components or steps are available for use. for Point 3. refer below link to see java_home is configured correctly https://help.pentaho.com/Documentation/5.2/0F0/0G0/020","body":"For Point 1. at the below location check if the required components used in your job or transformation file is available C:\\Pentaho\\design-tools\\data-integration\\plugins. you can also validate when you go to design pane in spoon instance and you see relevant components or steps are available for use. for Point 3. refer below link to see java_home is configured correctly <a href=\"https://help.pentaho.com/Documentation/5.2/0F0/0G0/020\" rel=\"nofollow noreferrer\">help.pentaho.com/Documentation/5.2/0F0/0G0/020</a>"}],"tags":[],"owner":{"account_id":17152367,"reputation":56,"user_id":12413983,"display_name":"NK0709"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577949733,"creation_date":1577949733,"answer_id":59559692,"question_id":59487451,"body_markdown":"ahh.. its difficult to check but if i was at your place would check the below\r\n\r\n1. all required components are available in spoon instance in which you are opening the file.\r\n2. right click and compare the file in xml version to spot the difference.\r\n3. check the java_home settings and pentaho service is running or not.\r\n4. remove and replace it with back up file.\r\n5. place the file in a different folder and then try to open it. you may get a more descriptive error to action accordingly.\r\n","title":"Error on opening any Kettle Transformation file in Pentaho Data Integration","body":"<p>ahh.. its difficult to check but if i was at your place would check the below</p>\n\n<ol>\n<li>all required components are available in spoon instance in which you are opening the file.</li>\n<li>right click and compare the file in xml version to spot the difference.</li>\n<li>check the java_home settings and pentaho service is running or not.</li>\n<li>remove and replace it with back up file.</li>\n<li>place the file in a different folder and then try to open it. you may get a more descriptive error to action accordingly.</li>\n</ol>\n"}],"owner":{"account_id":8869068,"reputation":2015,"user_id":6623277,"display_name":"KCK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10006,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1700841950,"creation_date":1577357891,"question_id":59487451,"body_markdown":"I have been working with PDI since a long time and while opening the same file which used to work perfectly before is now showing the below error immediately after opening:\r\n\r\n\tjava.lang.NullPointerException\r\n\t\tat org.pentaho.di.ui.spoon.TransFileListener.open(TransFileListener.java:112)\r\n\t\tat org.pentaho.di.ui.spoon.Spoon.openFile(Spoon.java:4623)\r\n\t\tat org.pentaho.di.ui.spoon.Spoon$2.drop(Spoon.java:976)\r\n\t\tat org.eclipse.swt.dnd.DNDListener.handleEvent(Unknown Source)\r\n\t\tat org.eclipse.swt.widgets.EventTable.sendEvent(Unknown Source)\r\n\t\tat org.eclipse.swt.widgets.Display.sendEvent(Unknown Source)\r\n\t\tat org.eclipse.swt.widgets.Widget.sendEvent(Unknown Source)\r\n\t\tat org.eclipse.swt.widgets.Widget.sendEvent(Unknown Source)\r\n\t\tat org.eclipse.swt.widgets.Widget.sendEvent(Unknown Source)\r\n\t\tat org.eclipse.swt.widgets.Widget.notifyListeners(Unknown Source)\r\n\t\tat org.eclipse.swt.dnd.DropTarget.Drop(Unknown Source)\r\n\t\tat org.eclipse.swt.dnd.DropTarget.Drop_64(Unknown Source)\r\n\t\tat org.eclipse.swt.dnd.DropTarget$3.method6(Unknown Source)\r\n\t\tat org.eclipse.swt.internal.ole.win32.COMObject.callback6(Unknown Source)\r\n\t\tat org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)\r\n\t\tat org.eclipse.swt.internal.win32.OS.DispatchMessage(Unknown Source)\r\n\t\tat org.eclipse.swt.widgets.Display.readAndDispatch(Unknown Source)\r\n\t\tat org.pentaho.di.ui.spoon.Spoon.readAndDispatch(Spoon.java:1359)\r\n\t\tat org.pentaho.di.ui.spoon.Spoon.waitForDispose(Spoon.java:7990)\r\n\t\tat org.pentaho.di.ui.spoon.Spoon.start(Spoon.java:9290)\r\n\t\tat org.pentaho.di.ui.spoon.Spoon.main(Spoon.java:685)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\t\tat org.pentaho.commons.launcher.Launcher.main(Launcher.java:92)\r\n\r\nThe same file opens in other machine perfectly and wors perfectly. In Spoon debug log, I get the below error:\r\n\r\n    Unable to update instance pid: null\r\n\tERROR: Error creating bundle cache. (java.lang.Exception: Unable to lock bundle cache: java.nio.channels.OverlappingFileLockException)\r\n\tjava.lang.Exception: Unable to lock bundle cache: java.nio.channels.OverlappingFileLockException\r\n\t\tat org.apache.felix.framework.cache.BundleCache.&lt;init&gt;(BundleCache.java:176)\r\n\t\tat org.apache.felix.framework.Felix.init(Felix.java:648)\r\n\t\tat org.apache.karaf.main.Main.launch(Main.java:232)\r\n\t\tat org.pentaho.platform.osgi.KarafBoot$4.run(KarafBoot.java:239)\r\n\t\tat java.lang.Thread.run(Thread.java:748)\r\n\t\tat org.pentaho.platform.osgi.KarafBoot.startup(KarafBoot.java:247)\r\n\t\tat org.pentaho.di.osgi.registryExtension.OSGIPluginRegistryExtension.init(OSGIPluginRegistryExtension.java:105)\r\n\t\tat org.pentaho.di.core.plugins.PluginRegistry.init(PluginRegistry.java:558)\r\n\t\tat org.pentaho.di.core.KettleClientEnvironment.init(KettleClientEnvironment.java:101)\r\n\t\tat org.pentaho.di.core.KettleEnvironment.init(KettleEnvironment.java:96)\r\n\t\tat org.pentaho.di.core.KettleEnvironment.init(KettleEnvironment.java:74)\r\n\t\tat org.pentaho.di.ui.spoon.Spoon$1.call(Spoon.java:617)\r\n\t\tat org.pentaho.di.ui.spoon.Spoon$1.call(Spoon.java:609)\r\n\t\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\t\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\t\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\t\tat java.lang.Thread.run(Thread.java:748)\r\n\t17:30:45,214 ERROR [KarafBoot] Error starting Karaf\r\n\torg.osgi.framework.BundleException: Error creating bundle cache.\r\n\t\tat org.apache.felix.framework.Felix.init(Felix.java:653)\r\n\t\tat org.apache.karaf.main.Main.launch(Main.java:232)\r\n\t\tat org.pentaho.platform.osgi.KarafBoot$4.run(KarafBoot.java:239)\r\n\t\tat java.lang.Thread.run(Thread.java:748)\r\n\t\tat org.pentaho.platform.osgi.KarafBoot.startup(KarafBoot.java:247)\r\n\t\tat org.pentaho.di.osgi.registryExtension.OSGIPluginRegistryExtension.init(OSGIPluginRegistryExtension.java:105)\r\n\t\tat org.pentaho.di.core.plugins.PluginRegistry.init(PluginRegistry.java:558)\r\n\t\tat org.pentaho.di.core.KettleClientEnvironment.init(KettleClientEnvironment.java:101)\r\n\t\tat org.pentaho.di.core.KettleEnvironment.init(KettleEnvironment.java:96)\r\n\t\tat org.pentaho.di.core.KettleEnvironment.init(KettleEnvironment.java:74)\r\n\t\tat org.pentaho.di.ui.spoon.Spoon$1.call(Spoon.java:617)\r\n\t\tat org.pentaho.di.ui.spoon.Spoon$1.call(Spoon.java:609)\r\n\t\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\t\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\t\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\t\tat java.lang.Thread.run(Thread.java:748)\r\n\tCaused by: java.lang.Exception: Unable to lock bundle cache: java.nio.channels.OverlappingFileLockException\r\n\t\tat org.apache.felix.framework.cache.BundleCache.&lt;init&gt;(BundleCache.java:176)\r\n\t\tat org.apache.felix.framework.Felix.init(Felix.java:648)\r\n\t\t... 15 more\r\n\t17:32:39,344 ERROR [KarafLifecycleListener] The Kettle Karaf Lifecycle Listener failed to execute properly after waiting for 100 seconds. Releasing lifecycle hold, but some services may be unavailable.\r\n\t2019/12/17 17:32:47 - Spoon - Logging is at level : Debug\r\n\t[Fatal Error] :1:1: Content is not allowed in prolog.\r\n\t2019/12/17 17:34:25 - General - ERROR (version 7.0.0.0-25, build 1 from 2016-11-05 15.35.36 by buildguy) : There was an error while reading the shared objects (continuing load) : org.pentaho.di.core.exception.KettleXMLException: \r\n\t2019/12/17 17:34:25 - General - Unexpected problem reading shared objects from XML file : null\r\n\t2019/12/17 17:34:25 - General - \r\n\t2019/12/17 17:34:25 - General - Error reading information from input stream\r\n\t2019/12/17 17:34:25 - General - Content is not allowed in prolog.\r\n\t2019/12/17 17:34:25 - General - ERROR (version 7.0.0.0-25, build 1 from 2016-11-05 15.35.36 by buildguy) : org.pentaho.di.core.exception.KettleXMLException: \r\n\t2019/12/17 17:34:25 - General - Unexpected problem reading shared objects from XML file : null\r\n\t2019/12/17 17:34:25 - General - \r\n\t2019/12/17 17:34:25 - General - Error reading information from input stream\r\n\t2019/12/17 17:34:25 - General - Content is not allowed in prolog.\r\n\t2019/12/17 17:34:25 - General - \r\n\t2019/12/17 17:34:25 - General - \r\n\t2019/12/17 17:34:25 - General - \tat org.pentaho.di.shared.SharedObjects.&lt;init&gt;(SharedObjects.java:186)\r\n\t2019/12/17 17:34:25 - General - \tat org.pentaho.di.trans.TransMeta.readSharedObjects(TransMeta.java:3420)\r\n\t2019/12/17 17:34:25 - General - \tat org.pentaho.di.trans.TransMeta.loadXML(TransMeta.java:2935)\r\n\t2019/12/17 17:34:25 - General - \tat org.pentaho.di.ui.spoon.TransFileListener.open(TransFileListener.java:61)\r\n\t2019/12/17 17:34:25 - General - \tat org.pentaho.di.ui.spoon.Spoon.openFile(Spoon.java:4623)\r\n\t2019/12/17 17:34:25 - General - \tat org.pentaho.di.ui.spoon.Spoon$2.drop(Spoon.java:976)\r\n\t2019/12/17 17:34:25 - General - \tat org.eclipse.swt.dnd.DNDListener.handleEvent(Unknown Source)\r\n\t2019/12/17 17:34:25 - General - \tat org.eclipse.swt.widgets.EventTable.sendEvent(Unknown Source)\r\n\t2019/12/17 17:34:25 - General - \tat org.eclipse.swt.widgets.Display.sendEvent(Unknown Source)\r\n\t2019/12/17 17:34:25 - General - \tat org.eclipse.swt.widgets.Widget.sendEvent(Unknown Source)\r\n\t2019/12/17 17:34:25 - General - \tat org.eclipse.swt.widgets.Widget.sendEvent(Unknown Source)\r\n\t2019/12/17 17:34:25 - General - \tat org.eclipse.swt.widgets.Widget.sendEvent(Unknown Source)\r\n\t2019/12/17 17:34:25 - General - \tat org.eclipse.swt.widgets.Widget.notifyListeners(Unknown Source)\r\n\t2019/12/17 17:34:25 - General - \tat org.eclipse.swt.dnd.DropTarget.Drop(Unknown Source)\r\n\t2019/12/17 17:34:25 - General - \tat org.eclipse.swt.dnd.DropTarget.Drop_64(Unknown Source)\r\n\t2019/12/17 17:34:25 - General - \tat org.eclipse.swt.dnd.DropTarget$3.method6(Unknown Source)\r\n\t2019/12/17 17:34:25 - General - \tat org.eclipse.swt.internal.ole.win32.COMObject.callback6(Unknown Source)\r\n\t2019/12/17 17:34:25 - General - \tat org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)\r\n\t2019/12/17 17:34:25 - General - \tat org.eclipse.swt.internal.win32.OS.DispatchMessage(Unknown Source)\r\n\t2019/12/17 17:34:25 - General - \tat org.eclipse.swt.widgets.Display.readAndDispatch(Unknown Source)\r\n\t2019/12/17 17:34:25 - General - \tat org.pentaho.di.ui.spoon.Spoon.readAndDispatch(Spoon.java:1359)\r\n\t2019/12/17 17:34:25 - General - \tat org.pentaho.di.ui.spoon.Spoon.waitForDispose(Spoon.java:7990)\r\n\t2019/12/17 17:34:25 - General - \tat org.pentaho.di.ui.spoon.Spoon.start(Spoon.java:9290)\r\n\t2019/12/17 17:34:25 - General - \tat org.pentaho.di.ui.spoon.Spoon.main(Spoon.java:685)\r\n\t2019/12/17 17:34:25 - General - \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t2019/12/17 17:34:25 - General - \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t2019/12/17 17:34:25 - General - \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t2019/12/17 17:34:25 - General - \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\t2019/12/17 17:34:25 - General - \tat org.pentaho.commons.launcher.Launcher.main(Launcher.java:92)\r\n\t2019/12/17 17:34:25 - General - Caused by: org.pentaho.di.core.exception.KettleXMLException: \r\n\t2019/12/17 17:34:25 - General - Error reading information from input stream\r\n\t2019/12/17 17:34:25 - General - Content is not allowed in prolog.\r\n\t2019/12/17 17:34:25 - General - \r\n\t2019/12/17 17:34:25 - General - \tat org.pentaho.di.core.xml.XMLHandler.loadXMLFile(XMLHandler.java:635)\r\n\t2019/12/17 17:34:25 - General - \tat org.pentaho.di.core.xml.XMLHandler.loadXMLFile(XMLHandler.java:559)\r\n\t2019/12/17 17:34:25 - General - \tat org.pentaho.di.core.xml.XMLHandler.loadXMLFile(XMLHandler.java:540)\r\n\t2019/12/17 17:34:25 - General - \tat org.pentaho.di.shared.SharedObjects.&lt;init&gt;(SharedObjects.java:112)\r\n\t2019/12/17 17:34:25 - General - \t... 28 more\r\n\t2019/12/17 17:34:25 - General - Caused by: org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 1; Content is not allowed in prolog.\r\n\t2019/12/17 17:34:25 - General - \tat org.apache.xerces.parsers.DOMParser.parse(Unknown Source)\r\n\t2019/12/17 17:34:25 - General - \tat org.apache.xerces.jaxp.DocumentBuilderImpl.parse(Unknown Source)\r\n\t2019/12/17 17:34:25 - General - \tat javax.xml.parsers.DocumentBuilder.parse(DocumentBuilder.java:121)\r\n\t2019/12/17 17:34:25 - General - \tat org.pentaho.di.core.xml.XMLHandler.loadXMLFile(XMLHandler.java:612)\r\n\t2019/12/17 17:34:25 - General - \t... 31 more\r\n\t[Fatal Error] :1:1: Content is not allowed in prolog.\r\n\t2019/12/17 17:34:26 - Spoon - ERROR (version 7.0.0.0-25, build 1 from 2016-11-05 15.35.36 by buildguy) : An unexpected error occurred in Spoon:  \r\n\t2019/12/17 17:34:26 - Spoon - null\r\n\r\nI tried uninstalling and reinstalling PDI but it did not work. Also tried clearing the cache in pentaho_data_integration_dir\\data-integration\\system\\karaf\\caches. \r\n\r\n**Edit:** This error also appears while saving a newly created transformation/job in Pentaho Data Integration.\r\n \r\nPlease help. Thanks.","title":"Error on opening any Kettle Transformation file in Pentaho Data Integration","body":"<p>I have been working with PDI since a long time and while opening the same file which used to work perfectly before is now showing the below error immediately after opening:</p>\n\n<pre><code>java.lang.NullPointerException\n    at org.pentaho.di.ui.spoon.TransFileListener.open(TransFileListener.java:112)\n    at org.pentaho.di.ui.spoon.Spoon.openFile(Spoon.java:4623)\n    at org.pentaho.di.ui.spoon.Spoon$2.drop(Spoon.java:976)\n    at org.eclipse.swt.dnd.DNDListener.handleEvent(Unknown Source)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(Unknown Source)\n    at org.eclipse.swt.widgets.Display.sendEvent(Unknown Source)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Unknown Source)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Unknown Source)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Unknown Source)\n    at org.eclipse.swt.widgets.Widget.notifyListeners(Unknown Source)\n    at org.eclipse.swt.dnd.DropTarget.Drop(Unknown Source)\n    at org.eclipse.swt.dnd.DropTarget.Drop_64(Unknown Source)\n    at org.eclipse.swt.dnd.DropTarget$3.method6(Unknown Source)\n    at org.eclipse.swt.internal.ole.win32.COMObject.callback6(Unknown Source)\n    at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)\n    at org.eclipse.swt.internal.win32.OS.DispatchMessage(Unknown Source)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Unknown Source)\n    at org.pentaho.di.ui.spoon.Spoon.readAndDispatch(Spoon.java:1359)\n    at org.pentaho.di.ui.spoon.Spoon.waitForDispose(Spoon.java:7990)\n    at org.pentaho.di.ui.spoon.Spoon.start(Spoon.java:9290)\n    at org.pentaho.di.ui.spoon.Spoon.main(Spoon.java:685)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.pentaho.commons.launcher.Launcher.main(Launcher.java:92)\n</code></pre>\n\n<p>The same file opens in other machine perfectly and wors perfectly. In Spoon debug log, I get the below error:</p>\n\n<pre><code>Unable to update instance pid: null\nERROR: Error creating bundle cache. (java.lang.Exception: Unable to lock bundle cache: java.nio.channels.OverlappingFileLockException)\njava.lang.Exception: Unable to lock bundle cache: java.nio.channels.OverlappingFileLockException\n    at org.apache.felix.framework.cache.BundleCache.&lt;init&gt;(BundleCache.java:176)\n    at org.apache.felix.framework.Felix.init(Felix.java:648)\n    at org.apache.karaf.main.Main.launch(Main.java:232)\n    at org.pentaho.platform.osgi.KarafBoot$4.run(KarafBoot.java:239)\n    at java.lang.Thread.run(Thread.java:748)\n    at org.pentaho.platform.osgi.KarafBoot.startup(KarafBoot.java:247)\n    at org.pentaho.di.osgi.registryExtension.OSGIPluginRegistryExtension.init(OSGIPluginRegistryExtension.java:105)\n    at org.pentaho.di.core.plugins.PluginRegistry.init(PluginRegistry.java:558)\n    at org.pentaho.di.core.KettleClientEnvironment.init(KettleClientEnvironment.java:101)\n    at org.pentaho.di.core.KettleEnvironment.init(KettleEnvironment.java:96)\n    at org.pentaho.di.core.KettleEnvironment.init(KettleEnvironment.java:74)\n    at org.pentaho.di.ui.spoon.Spoon$1.call(Spoon.java:617)\n    at org.pentaho.di.ui.spoon.Spoon$1.call(Spoon.java:609)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n17:30:45,214 ERROR [KarafBoot] Error starting Karaf\norg.osgi.framework.BundleException: Error creating bundle cache.\n    at org.apache.felix.framework.Felix.init(Felix.java:653)\n    at org.apache.karaf.main.Main.launch(Main.java:232)\n    at org.pentaho.platform.osgi.KarafBoot$4.run(KarafBoot.java:239)\n    at java.lang.Thread.run(Thread.java:748)\n    at org.pentaho.platform.osgi.KarafBoot.startup(KarafBoot.java:247)\n    at org.pentaho.di.osgi.registryExtension.OSGIPluginRegistryExtension.init(OSGIPluginRegistryExtension.java:105)\n    at org.pentaho.di.core.plugins.PluginRegistry.init(PluginRegistry.java:558)\n    at org.pentaho.di.core.KettleClientEnvironment.init(KettleClientEnvironment.java:101)\n    at org.pentaho.di.core.KettleEnvironment.init(KettleEnvironment.java:96)\n    at org.pentaho.di.core.KettleEnvironment.init(KettleEnvironment.java:74)\n    at org.pentaho.di.ui.spoon.Spoon$1.call(Spoon.java:617)\n    at org.pentaho.di.ui.spoon.Spoon$1.call(Spoon.java:609)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.Exception: Unable to lock bundle cache: java.nio.channels.OverlappingFileLockException\n    at org.apache.felix.framework.cache.BundleCache.&lt;init&gt;(BundleCache.java:176)\n    at org.apache.felix.framework.Felix.init(Felix.java:648)\n    ... 15 more\n17:32:39,344 ERROR [KarafLifecycleListener] The Kettle Karaf Lifecycle Listener failed to execute properly after waiting for 100 seconds. Releasing lifecycle hold, but some services may be unavailable.\n2019/12/17 17:32:47 - Spoon - Logging is at level : Debug\n[Fatal Error] :1:1: Content is not allowed in prolog.\n2019/12/17 17:34:25 - General - ERROR (version 7.0.0.0-25, build 1 from 2016-11-05 15.35.36 by buildguy) : There was an error while reading the shared objects (continuing load) : org.pentaho.di.core.exception.KettleXMLException: \n2019/12/17 17:34:25 - General - Unexpected problem reading shared objects from XML file : null\n2019/12/17 17:34:25 - General - \n2019/12/17 17:34:25 - General - Error reading information from input stream\n2019/12/17 17:34:25 - General - Content is not allowed in prolog.\n2019/12/17 17:34:25 - General - ERROR (version 7.0.0.0-25, build 1 from 2016-11-05 15.35.36 by buildguy) : org.pentaho.di.core.exception.KettleXMLException: \n2019/12/17 17:34:25 - General - Unexpected problem reading shared objects from XML file : null\n2019/12/17 17:34:25 - General - \n2019/12/17 17:34:25 - General - Error reading information from input stream\n2019/12/17 17:34:25 - General - Content is not allowed in prolog.\n2019/12/17 17:34:25 - General - \n2019/12/17 17:34:25 - General - \n2019/12/17 17:34:25 - General -     at org.pentaho.di.shared.SharedObjects.&lt;init&gt;(SharedObjects.java:186)\n2019/12/17 17:34:25 - General -     at org.pentaho.di.trans.TransMeta.readSharedObjects(TransMeta.java:3420)\n2019/12/17 17:34:25 - General -     at org.pentaho.di.trans.TransMeta.loadXML(TransMeta.java:2935)\n2019/12/17 17:34:25 - General -     at org.pentaho.di.ui.spoon.TransFileListener.open(TransFileListener.java:61)\n2019/12/17 17:34:25 - General -     at org.pentaho.di.ui.spoon.Spoon.openFile(Spoon.java:4623)\n2019/12/17 17:34:25 - General -     at org.pentaho.di.ui.spoon.Spoon$2.drop(Spoon.java:976)\n2019/12/17 17:34:25 - General -     at org.eclipse.swt.dnd.DNDListener.handleEvent(Unknown Source)\n2019/12/17 17:34:25 - General -     at org.eclipse.swt.widgets.EventTable.sendEvent(Unknown Source)\n2019/12/17 17:34:25 - General -     at org.eclipse.swt.widgets.Display.sendEvent(Unknown Source)\n2019/12/17 17:34:25 - General -     at org.eclipse.swt.widgets.Widget.sendEvent(Unknown Source)\n2019/12/17 17:34:25 - General -     at org.eclipse.swt.widgets.Widget.sendEvent(Unknown Source)\n2019/12/17 17:34:25 - General -     at org.eclipse.swt.widgets.Widget.sendEvent(Unknown Source)\n2019/12/17 17:34:25 - General -     at org.eclipse.swt.widgets.Widget.notifyListeners(Unknown Source)\n2019/12/17 17:34:25 - General -     at org.eclipse.swt.dnd.DropTarget.Drop(Unknown Source)\n2019/12/17 17:34:25 - General -     at org.eclipse.swt.dnd.DropTarget.Drop_64(Unknown Source)\n2019/12/17 17:34:25 - General -     at org.eclipse.swt.dnd.DropTarget$3.method6(Unknown Source)\n2019/12/17 17:34:25 - General -     at org.eclipse.swt.internal.ole.win32.COMObject.callback6(Unknown Source)\n2019/12/17 17:34:25 - General -     at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)\n2019/12/17 17:34:25 - General -     at org.eclipse.swt.internal.win32.OS.DispatchMessage(Unknown Source)\n2019/12/17 17:34:25 - General -     at org.eclipse.swt.widgets.Display.readAndDispatch(Unknown Source)\n2019/12/17 17:34:25 - General -     at org.pentaho.di.ui.spoon.Spoon.readAndDispatch(Spoon.java:1359)\n2019/12/17 17:34:25 - General -     at org.pentaho.di.ui.spoon.Spoon.waitForDispose(Spoon.java:7990)\n2019/12/17 17:34:25 - General -     at org.pentaho.di.ui.spoon.Spoon.start(Spoon.java:9290)\n2019/12/17 17:34:25 - General -     at org.pentaho.di.ui.spoon.Spoon.main(Spoon.java:685)\n2019/12/17 17:34:25 - General -     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n2019/12/17 17:34:25 - General -     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n2019/12/17 17:34:25 - General -     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n2019/12/17 17:34:25 - General -     at java.lang.reflect.Method.invoke(Method.java:498)\n2019/12/17 17:34:25 - General -     at org.pentaho.commons.launcher.Launcher.main(Launcher.java:92)\n2019/12/17 17:34:25 - General - Caused by: org.pentaho.di.core.exception.KettleXMLException: \n2019/12/17 17:34:25 - General - Error reading information from input stream\n2019/12/17 17:34:25 - General - Content is not allowed in prolog.\n2019/12/17 17:34:25 - General - \n2019/12/17 17:34:25 - General -     at org.pentaho.di.core.xml.XMLHandler.loadXMLFile(XMLHandler.java:635)\n2019/12/17 17:34:25 - General -     at org.pentaho.di.core.xml.XMLHandler.loadXMLFile(XMLHandler.java:559)\n2019/12/17 17:34:25 - General -     at org.pentaho.di.core.xml.XMLHandler.loadXMLFile(XMLHandler.java:540)\n2019/12/17 17:34:25 - General -     at org.pentaho.di.shared.SharedObjects.&lt;init&gt;(SharedObjects.java:112)\n2019/12/17 17:34:25 - General -     ... 28 more\n2019/12/17 17:34:25 - General - Caused by: org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 1; Content is not allowed in prolog.\n2019/12/17 17:34:25 - General -     at org.apache.xerces.parsers.DOMParser.parse(Unknown Source)\n2019/12/17 17:34:25 - General -     at org.apache.xerces.jaxp.DocumentBuilderImpl.parse(Unknown Source)\n2019/12/17 17:34:25 - General -     at javax.xml.parsers.DocumentBuilder.parse(DocumentBuilder.java:121)\n2019/12/17 17:34:25 - General -     at org.pentaho.di.core.xml.XMLHandler.loadXMLFile(XMLHandler.java:612)\n2019/12/17 17:34:25 - General -     ... 31 more\n[Fatal Error] :1:1: Content is not allowed in prolog.\n2019/12/17 17:34:26 - Spoon - ERROR (version 7.0.0.0-25, build 1 from 2016-11-05 15.35.36 by buildguy) : An unexpected error occurred in Spoon:  \n2019/12/17 17:34:26 - Spoon - null\n</code></pre>\n\n<p>I tried uninstalling and reinstalling PDI but it did not work. Also tried clearing the cache in pentaho_data_integration_dir\\data-integration\\system\\karaf\\caches. </p>\n\n<p><strong>Edit:</strong> This error also appears while saving a newly created transformation/job in Pentaho Data Integration.</p>\n\n<p>Please help. Thanks.</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":1226870,"reputation":2957,"user_id":1192257,"display_name":"Anuragh27crony"},"score":1,"creation_date":1390277683,"post_id":21248125,"comment_id":32011122,"body_markdown":"what API u are using for logging??? and it&#39;s always best practice to create Log file with Time stamp. If u are running daily then date would suffice else if u are running multiple times in single day then complete time stamp.","body":"what API u are using for logging??? and it&#39;s always best practice to create Log file with Time stamp. If u are running daily then date would suffice else if u are running multiple times in single day then complete time stamp."},{"owner":{"account_id":1831013,"reputation":1513,"user_id":1662411,"accept_rate":47,"display_name":"Akbar"},"score":1,"creation_date":1390288485,"post_id":21248125,"comment_id":32015205,"body_markdown":"Anuragh&#39;s suggestion is a better solution for any future references. Otherwise you can write simple code to delete the file before execution starts.","body":"Anuragh&#39;s suggestion is a better solution for any future references. Otherwise you can write simple code to delete the file before execution starts."}],"answers":[{"comments":[{"owner":{"account_id":5965700,"reputation":692,"user_id":4689542,"display_name":"Dude"},"score":0,"creation_date":1431678671,"post_id":30254878,"comment_id":48609712,"body_markdown":"please provide the answer to this question here and use the link as reference. If the link becomes unavailable, your answer would be useless","body":"please provide the answer to this question here and use the link as reference. If the link becomes unavailable, your answer would be useless"},{"owner":{"account_id":12800247,"reputation":363,"user_id":9261795,"display_name":"user9261795"},"score":0,"creation_date":1551175490,"post_id":30254878,"comment_id":96534972,"body_markdown":"It is called Log4j framework and follows the life cycle as mentioned above.","body":"It is called Log4j framework and follows the life cycle as mentioned above."}],"tags":[],"owner":{"account_id":3151797,"reputation":21,"user_id":2665093,"display_name":"Sphinx"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1431700496,"creation_date":1431678373,"answer_id":30254878,"question_id":21248125,"body_markdown":"I hope this could help you:\r\n\r\n[Automation Log for Selenium][1]\r\n\r\n\r\n  [1]: http://learn-automation.com/how-to-create-log-files-in-selenium/\r\n\r\nStep 1- Download log4j jar file\r\n\r\nClick on the link to download http://mirrors.ibiblio.org/pub/mirrors/maven/log4j/jars/log4j-1.2.15.jar\r\n\r\nStep 2- Add log4j to your current project\r\n\r\nSelect your project &gt; Right click &gt; Click on build path&gt; Click Configure build path&gt; Go to library section &gt; Add external jar file &gt; select the log4j &gt; click on save\r\n\r\nStep 3- Open notepad and copy the below code and save the file as log4j.properties. This file should be placed in the src directory, this should create a &quot;default package&quot;.\r\n\r\n\t// Here we have defined root logger\r\n\tlog4j.rootLogger=INFO,CONSOLE,R,HTML,TTCC\r\n \r\n\t// Here we define the appender\r\n\tlog4j.appender.CONSOLE=org.apache.log4j.ConsoleAppender\r\n\tlog4j.appender.R=org.apache.log4j.RollingFileAppender\r\n\tlog4j.appender.TTCC=org.apache.log4j.RollingFileAppender\r\n\tlog4j.appender.HTML=org.apache.log4j.FileAppender\r\n \r\n\t// Here we define log file location\r\n\tlog4j.appender.R.File=./log/testlog.log\r\n\tlog4j.appender.TTCC.File=./log/testlog1.log\r\n\tlog4j.appender.HTML.File=./log/application.html\r\n \r\n\t// Here we define the layout and pattern\r\n\tlog4j.appender.CONSOLE.layout=org.apache.log4j.PatternLayout\r\n\tlog4j.appender.CONSOLE.layout.ConversionPattern= %5p [%t] (%F:%L)- %m%n\r\n\tlog4j.appender.R.layout=org.apache.log4j.PatternLayout\r\n\tlog4j.appender.R.layout.ConversionPattern=%d - %c -%p - %m%n\r\n\tlog4j.appender.TTCC.layout=org.apache.log4j.TTCCLayout\r\n\tlog4j.appender.TTCC.layout.DateFormat=ISO8601\r\n\tlog4j.appender.HTML.layout=org.apache.log4j.HTMLLayout\r\n\tlog4j.appender.HTML.layout.Title=Application log\r\n\tlog4j.appender.HTML.layout.LocationInfo=true\r\n\r\nStep 4- Write test case\r\n\r\n\timport java.util.concurrent.TimeUnit;\r\n\timport orgenter code here.apache.log4j.Logger;\r\n\timport org.apache.log4j.PropertyConfigurator;\r\n\timport org.openqa.selenium.By;\r\n\timport org.openqa.selenium.WebDriver;\r\n\timport org.openqa.selenium.firefox.FirefoxDriver;\r\n \r\n \r\n\tpublic class Google {\r\n \t   public static void main(String[] args) {\r\n      \r\n\t    // Here we need to create logger instance so we need to pass Class name for \r\n \t    //which  we want to create log file in my case Google is classname\r\n\t         Logger logger=Logger.getLogger(&quot;Google&quot;);\r\n  \r\n \t      // configure log4j properties file\r\n\t       PropertyConfigurator.configure(&quot;Log4j.properties&quot;);\r\n\t       \t // Open browser\r\n\t        WebDriver driver = new FirefoxDriver();\r\n\t        logger.info(&quot;Browser Opened&quot;);\r\n      \r\n\t        // Set implicit wait\r\n\t        driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\r\n\t        logger.info(&quot;Implicit wait given&quot;);\r\n \r\n\t        // Load application\r\n   \t     driver.get(&quot;https://www.google.co.in/&quot;);\r\n   \t     logger.info(&quot;Url opened&quot;);\r\n      \r\n \r\n \t       // type Selenium\r\n \t       driver.findElement(By.name(&quot;q&quot;)).sendKeys(&quot;Selenium&quot;);\r\n\t        logger.info(&quot;keyword type&quot;);           \r\n\t    }\r\n\t}\r\nStep 5- Execute  your test case and verify the output and log files as well. This logs will be created in the project folder with &quot;log&quot; label\r\n","title":"How to create log file history in selenium webdriver using java","body":"<p>I hope this could help you:</p>\n\n<p><a href=\"http://learn-automation.com/how-to-create-log-files-in-selenium/\" rel=\"nofollow\">Automation Log for Selenium</a></p>\n\n<p>Step 1- Download log4j jar file</p>\n\n<p>Click on the link to download <a href=\"http://mirrors.ibiblio.org/pub/mirrors/maven/log4j/jars/log4j-1.2.15.jar\" rel=\"nofollow\">http://mirrors.ibiblio.org/pub/mirrors/maven/log4j/jars/log4j-1.2.15.jar</a></p>\n\n<p>Step 2- Add log4j to your current project</p>\n\n<p>Select your project > Right click > Click on build path> Click Configure build path> Go to library section > Add external jar file > select the log4j > click on save</p>\n\n<p>Step 3- Open notepad and copy the below code and save the file as log4j.properties. This file should be placed in the src directory, this should create a \"default package\".</p>\n\n<pre><code>// Here we have defined root logger\nlog4j.rootLogger=INFO,CONSOLE,R,HTML,TTCC\n\n// Here we define the appender\nlog4j.appender.CONSOLE=org.apache.log4j.ConsoleAppender\nlog4j.appender.R=org.apache.log4j.RollingFileAppender\nlog4j.appender.TTCC=org.apache.log4j.RollingFileAppender\nlog4j.appender.HTML=org.apache.log4j.FileAppender\n\n// Here we define log file location\nlog4j.appender.R.File=./log/testlog.log\nlog4j.appender.TTCC.File=./log/testlog1.log\nlog4j.appender.HTML.File=./log/application.html\n\n// Here we define the layout and pattern\nlog4j.appender.CONSOLE.layout=org.apache.log4j.PatternLayout\nlog4j.appender.CONSOLE.layout.ConversionPattern= %5p [%t] (%F:%L)- %m%n\nlog4j.appender.R.layout=org.apache.log4j.PatternLayout\nlog4j.appender.R.layout.ConversionPattern=%d - %c -%p - %m%n\nlog4j.appender.TTCC.layout=org.apache.log4j.TTCCLayout\nlog4j.appender.TTCC.layout.DateFormat=ISO8601\nlog4j.appender.HTML.layout=org.apache.log4j.HTMLLayout\nlog4j.appender.HTML.layout.Title=Application log\nlog4j.appender.HTML.layout.LocationInfo=true\n</code></pre>\n\n<p>Step 4- Write test case</p>\n\n<pre><code>import java.util.concurrent.TimeUnit;\nimport orgenter code here.apache.log4j.Logger;\nimport org.apache.log4j.PropertyConfigurator;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\n\n\npublic class Google {\n   public static void main(String[] args) {\n\n    // Here we need to create logger instance so we need to pass Class name for \n    //which  we want to create log file in my case Google is classname\n         Logger logger=Logger.getLogger(\"Google\");\n\n      // configure log4j properties file\n       PropertyConfigurator.configure(\"Log4j.properties\");\n         // Open browser\n        WebDriver driver = new FirefoxDriver();\n        logger.info(\"Browser Opened\");\n\n        // Set implicit wait\n        driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\n        logger.info(\"Implicit wait given\");\n\n        // Load application\n     driver.get(\"https://www.google.co.in/\");\n     logger.info(\"Url opened\");\n\n\n       // type Selenium\n       driver.findElement(By.name(\"q\")).sendKeys(\"Selenium\");\n        logger.info(\"keyword type\");           \n    }\n}\n</code></pre>\n\n<p>Step 5- Execute  your test case and verify the output and log files as well. This logs will be created in the project folder with \"log\" label</p>\n"},{"tags":[],"owner":{"account_id":8334235,"reputation":1964,"user_id":6261717,"accept_rate":100,"display_name":"ALUFTW"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614089859,"creation_date":1614089859,"answer_id":66334903,"question_id":21248125,"body_markdown":"You can just clear the log file at the beginning of your code:\r\n\r\n    PrintWriter writer = new PrintWriter(logfile);\r\n    writer.print(&quot;&quot;);\r\n    writer.close();","title":"How to create log file history in selenium webdriver using java","body":"<p>You can just clear the log file at the beginning of your code:</p>\n<pre><code>PrintWriter writer = new PrintWriter(logfile);\nwriter.print(&quot;&quot;);\nwriter.close();\n</code></pre>\n"}],"owner":{"account_id":3181564,"reputation":1746,"user_id":2994827,"accept_rate":47,"display_name":"testing"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13398,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700841950,"creation_date":1390272073,"question_id":21248125,"body_markdown":"Currently working on selenium webdriver. I have created a log file and the log information stored in logfile.log. when i start running my test case the log information is captured but the entire history is visible. i want to clear the log file or it need to be cleared before starting the execution of test cases.\r\n\r\nSample log info:\r\n\r\n    2013-10-01 09:18:06,655 INFO  [TEST] Initializing Selenium... \r\n    2013-10-01 09:18:06,686 INFO  [TEST] Selenium instance started \r\n    2013-10-01 09:18:11,905 INFO  [TEST] ______________________________________________________________ \r\n    2013-10-01 09:18:11,905 INFO  [TEST] Initializing Selenium... \r\n    2013-10-01 09:18:11,921 INFO  [TEST] Selenium instance started \r\n    2013-10-01 09:18:11,921 INFO  [TEST] Accessing Stored uid,pwd from the stored text file \r\n    2013-10-01 09:18:11,921 INFO  [TEST] Retrieved uid pwd from the text file \r\n    2013-10-01 09:18:12,858 INFO  [TEST] Sign in to the OneReports website \r\n    2013-10-01 09:18:12,874 INFO  [TEST] Enter Username \r\n    2013-10-01 09:18:13,077 INFO  [TEST] Enter Password \r\n    2013-10-01 09:18:14,155 INFO  [TEST] Submitting login details \r\n    2013-10-01 09:18:33,139 INFO  [TEST] Stopping Selenium... \r\n    2013-10-01 09:18:33,139 INFO  [TEST]  ______________________________________________________________ ","title":"How to create log file history in selenium webdriver using java","body":"<p>Currently working on selenium webdriver. I have created a log file and the log information stored in logfile.log. when i start running my test case the log information is captured but the entire history is visible. i want to clear the log file or it need to be cleared before starting the execution of test cases.</p>\n\n<p>Sample log info:</p>\n\n<pre><code>2013-10-01 09:18:06,655 INFO  [TEST] Initializing Selenium... \n2013-10-01 09:18:06,686 INFO  [TEST] Selenium instance started \n2013-10-01 09:18:11,905 INFO  [TEST] ______________________________________________________________ \n2013-10-01 09:18:11,905 INFO  [TEST] Initializing Selenium... \n2013-10-01 09:18:11,921 INFO  [TEST] Selenium instance started \n2013-10-01 09:18:11,921 INFO  [TEST] Accessing Stored uid,pwd from the stored text file \n2013-10-01 09:18:11,921 INFO  [TEST] Retrieved uid pwd from the text file \n2013-10-01 09:18:12,858 INFO  [TEST] Sign in to the OneReports website \n2013-10-01 09:18:12,874 INFO  [TEST] Enter Username \n2013-10-01 09:18:13,077 INFO  [TEST] Enter Password \n2013-10-01 09:18:14,155 INFO  [TEST] Submitting login details \n2013-10-01 09:18:33,139 INFO  [TEST] Stopping Selenium... \n2013-10-01 09:18:33,139 INFO  [TEST]  ______________________________________________________________ \n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1093800,"reputation":7366,"user_id":1087848,"accept_rate":97,"display_name":"11684"},"score":1,"creation_date":1358410832,"post_id":14374707,"comment_id":19991104,"body_markdown":"This is known as a for-each loop, you might want to google it and until now, none of the answers has named it yet.","body":"This is known as a for-each loop, you might want to google it and until now, none of the answers has named it yet."},{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":0,"creation_date":1406126058,"post_id":14374707,"comment_id":38707205,"body_markdown":"possible duplicate of [How does the Java for each loop work?](http://stackoverflow.com/questions/85190/how-does-the-java-for-each-loop-work)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/85190/how-does-the-java-for-each-loop-work\">How does the Java for each loop work?</a>"},{"owner":{"account_id":5588131,"reputation":3409,"user_id":4428150,"accept_rate":40,"display_name":"Gustave"},"score":1,"creation_date":1439386409,"post_id":14374707,"comment_id":51840642,"body_markdown":"The answers to this questions seem not to be complete: What is this: import hudson.model.SCMS; (...)\nSCMS: for (SCM scm : scmTriggerItem.getSCMs()) {something();}?","body":"The answers to this questions seem not to be complete: What is this: import hudson.model.SCMS; (...) SCMS: for (SCM scm : scmTriggerItem.getSCMs()) {something();}?"}],"answers":[{"tags":[],"owner":{"account_id":1604367,"reputation":15578,"user_id":1484739,"display_name":"TheWhiteRabbit"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1358411116,"creation_date":1358410728,"answer_id":14374737,"question_id":14374707,"body_markdown":"    (String i : words)\r\nFor each item in `words` \r\n\r\n: to indicate iterator item and item as `i`\r\n\r\nso to answer - it represents for-each loop","title":"What does the colon mean in Java?","body":"<pre><code>(String i : words)\n</code></pre>\n\n<p>For each item in <code>words</code> </p>\n\n<p>: to indicate iterator item and item as <code>i</code></p>\n\n<p>so to answer - it represents for-each loop</p>\n"},{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1358410737,"creation_date":1358410737,"answer_id":14374739,"question_id":14374707,"body_markdown":"colon in [for each loop][1] is part of syntax, colon also appears with [label][2]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/guide/language/foreach.html\r\n  [2]: https://stackoverflow.com/questions/3821827/loop-in-java-code-what-is-this-why-does-it-compile-and-generally-wtf/3821841#3821841","title":"What does the colon mean in Java?","body":"<p>colon in <a href=\"http://docs.oracle.com/javase/1.5.0/docs/guide/language/foreach.html\" rel=\"nofollow noreferrer\">for each loop</a> is part of syntax, colon also appears with <a href=\"https://stackoverflow.com/questions/3821827/loop-in-java-code-what-is-this-why-does-it-compile-and-generally-wtf/3821841#3821841\">label</a></p>\n"},{"comments":[{"owner":{"account_id":1093800,"reputation":7366,"user_id":1087848,"accept_rate":97,"display_name":"11684"},"score":0,"creation_date":1358410914,"post_id":14374760,"comment_id":19991136,"body_markdown":"It _acts_ the same, but are they for the JVM really exact the same?","body":"It <i>acts</i> the same, but are they for the JVM really exact the same?"},{"owner":{"account_id":1314127,"reputation":603,"user_id":1261439,"accept_rate":72,"display_name":"Abraham"},"score":0,"creation_date":1358411085,"post_id":14374760,"comment_id":19991184,"body_markdown":"no they are not the same. The foreach is used with collections where   the length of the loop can be inferred from the number of elements available on the collection. You can do it, either way but foreach is syntactic sugar of exploiting collections.","body":"no they are not the same. The foreach is used with collections where   the length of the loop can be inferred from the number of elements available on the collection. You can do it, either way but foreach is syntactic sugar of exploiting collections."},{"owner":{"account_id":1093800,"reputation":7366,"user_id":1087848,"accept_rate":97,"display_name":"11684"},"score":0,"creation_date":1358412706,"post_id":14374760,"comment_id":19991823,"body_markdown":"In that case, could you include that into your answer? The OP is probably not an experienced Java developer, and I think it&#39;s best to learn correct things from the beginning.","body":"In that case, could you include that into your answer? The OP is probably not an experienced Java developer, and I think it&#39;s best to learn correct things from the beginning."},{"owner":{"account_id":13928,"reputation":3630,"user_id":28234,"accept_rate":91,"display_name":"AlexC"},"score":1,"creation_date":1432289468,"post_id":14374760,"comment_id":48875681,"body_markdown":"Surely &quot;for(String i: words)&quot; doesn&#39;t mean the same thing as a for loop with &quot;int i&quot;. Perhaps &quot;for(int k = 0....){ String i = words[k]; // }&quot;","body":"Surely &quot;for(String i: words)&quot; doesn&#39;t mean the same thing as a for loop with &quot;int i&quot;. Perhaps &quot;for(int k = 0....){ String i = words[k]; // }&quot;"},{"owner":{"account_id":5521789,"reputation":440,"user_id":4384501,"display_name":"Russell Lego"},"score":0,"creation_date":1603995444,"post_id":14374760,"comment_id":114219477,"body_markdown":"It does not mean just &quot;one&quot; thing.  It is also used in java assertions\n\nassert message.equals(&quot;Success&quot;) : &quot;Wrong message. Expected: Success.   Actual: [&quot; + message + &quot;]&quot;;","body":"It does not mean just &quot;one&quot; thing.  It is also used in java assertions  assert message.equals(&quot;Success&quot;) : &quot;Wrong message. Expected: Success.   Actual: [&quot; + message + &quot;]&quot;;"}],"tags":[],"owner":{"account_id":1314127,"reputation":603,"user_id":1261439,"accept_rate":72,"display_name":"Abraham"},"comment_count":5,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1486224915,"creation_date":1358410840,"answer_id":14374760,"question_id":14374707,"body_markdown":"It means one thing, it is an enhanced for loop.\n\n    for (String i: words) \n\nmeans the same things as \n\n    for (int i = 0; i &lt; words.length; i++) {\n        //\n    }\n\n**Joshua Bloch**, in Item 46 of his worth reading **Effective Java**, says the following: \n\n&gt; The for-each loop, introduced in release 1.5, gets rid of the clutter and the opportunity for error by hiding the iterator or index variable completely. The resulting idiom applies equally to collections and arrays:\n&gt;\n   &gt; The preferred idiom for iterating over collections and arrays\n\n    for (Element e : elements) {\n        doSomething(e);\n    } \n\n&gt;When you see the colon (:), read it as in. \nThus, the loop above reads as for each element e in elements. Note that there is no performance penalty for using the for-each loop, even for arrays. In fact, it may offer a slight performance advantage over an ordinary for loop in some circumstances, as it computes the limit of the array index only once. While you can do this by hand (Item 45), programmers dont always do so.","title":"What does the colon mean in Java?","body":"<p>It means one thing, it is an enhanced for loop.</p>\n<pre><code>for (String i: words) \n</code></pre>\n<p>means the same things as</p>\n<pre><code>for (int i = 0; i &lt; words.length; i++) {\n    //\n}\n</code></pre>\n<p><strong>Joshua Bloch</strong>, in Item 46 of his worth reading <strong>Effective Java</strong>, says the following:</p>\n<blockquote>\n<p>The for-each loop, introduced in release 1.5, gets rid of the clutter and the opportunity for error by hiding the iterator or index variable completely. The resulting idiom applies equally to collections and arrays:</p>\n<p>The preferred idiom for iterating over collections and arrays</p>\n</blockquote>\n<pre><code>for (Element e : elements) {\n    doSomething(e);\n} \n</code></pre>\n<blockquote>\n<p>When you see the colon (:), read it as in.\nThus, the loop above reads as for each element e in elements. Note that there is no performance penalty for using the for-each loop, even for arrays. In fact, it may offer a slight performance advantage over an ordinary for loop in some circumstances, as it computes the limit of the array index only once. While you can do this by hand (Item 45), programmers dont always do so.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1923293,"reputation":10359,"user_id":1734279,"accept_rate":75,"display_name":"rai.skumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1358415823,"creation_date":1358415823,"answer_id":14376126,"question_id":14374707,"body_markdown":"Don&#39;t think **colon(:)** means anything particularly. It&#39;s just how Java designers thought to delimit **parameter** and **expression** inside improved for loop.\r\n\r\n    for ( FormalParameter : Expression ) Statement\r\n\r\nCheck Language specification for same : http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.14.2","title":"What does the colon mean in Java?","body":"<p>Don't think <strong>colon(:)</strong> means anything particularly. It's just how Java designers thought to delimit <strong>parameter</strong> and <strong>expression</strong> inside improved for loop.</p>\n\n<pre><code>for ( FormalParameter : Expression ) Statement\n</code></pre>\n\n<p>Check Language specification for same : <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.14.2\" rel=\"nofollow\">http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.14.2</a></p>\n"},{"tags":[],"owner":{"account_id":1185299,"reputation":7276,"user_id":1159404,"accept_rate":75,"display_name":"Nenad Bulatovi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403072736,"creation_date":1403072736,"answer_id":24278404,"question_id":14374707,"body_markdown":"It is for-each loop. When you see the colon (:) read it as &quot;in&quot;\r\nYou can find very good explanation in Oracle docs with included examples, [here][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/guide/language/foreach.html","title":"What does the colon mean in Java?","body":"<p>It is for-each loop. When you see the colon (:) read it as \"in\"\nYou can find very good explanation in Oracle docs with included examples, <a href=\"http://docs.oracle.com/javase/1.5.0/docs/guide/language/foreach.html\" rel=\"nofollow\">here</a></p>\n"}],"owner":{"account_id":2122738,"reputation":141,"user_id":1885658,"display_name":"Floyd Bostan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58289,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"answer_count":5,"score":12,"last_activity_date":1700841868,"creation_date":1358410636,"question_id":14374707,"body_markdown":"What does the colon mean in Java?  I have this:\r\n\r\n    public static List&lt;String&gt; findAllAnagrams(List&lt;String&gt; words) {\r\n        List&lt;String&gt; result = new LinkedList&lt;String&gt;();\r\n        for(String i : words){\r\n            for (String j : words){\r\n                if (result.contains(i)) {\r\n                    break;\r\n                }\r\n                else if (i == j) {\r\n                    \r\n                } else {\r\n                    if (areAnagrams(i,j)){\r\n                        result.add(i);\r\n                        System.out.println(result);\r\n                    }\r\n                }\r\n            }\r\n        }          \r\n        return result;\r\n    }\r\n\r\n","title":"What does the colon mean in Java?","body":"<p>What does the colon mean in Java?  I have this:</p>\n\n<pre><code>public static List&lt;String&gt; findAllAnagrams(List&lt;String&gt; words) {\n    List&lt;String&gt; result = new LinkedList&lt;String&gt;();\n    for(String i : words){\n        for (String j : words){\n            if (result.contains(i)) {\n                break;\n            }\n            else if (i == j) {\n\n            } else {\n                if (areAnagrams(i,j)){\n                    result.add(i);\n                    System.out.println(result);\n                }\n            }\n        }\n    }          \n    return result;\n}\n</code></pre>\n"},{"tags":["java","x86","cross-compiling","cpu-registers","32-bit"],"answers":[{"comments":[{"owner":{"account_id":1397601,"reputation":909,"user_id":1327079,"accept_rate":86,"display_name":"tudor -Reinstate Monica-"},"score":0,"creation_date":1540861411,"post_id":53055815,"comment_id":93011191,"body_markdown":"I&#39;m starting to think that what they meant was a bitshift `(intptr_t)this &lt;&lt; number_of_byte_registers`, which would establish if enough bits were available for the assigned architecture.","body":"I&#39;m starting to think that what they meant was a bitshift <code>(intptr_t)this &lt;&lt; number_of_byte_registers</code>, which would establish if enough bits were available for the assigned architecture."},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":0,"creation_date":1540863987,"post_id":53055815,"comment_id":93011715,"body_markdown":"@tudor I don&#39;t think that would do something that makes sense","body":"@tudor I don&#39;t think that would do something that makes sense"}],"tags":[],"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1540860337,"creation_date":1540860025,"answer_id":53055815,"question_id":53055682,"body_markdown":"&gt; It does seem odd that the expected number of byte registers of a non-64-bit processor is 4 times that of a 64-bit processor, though.\r\n\r\nYes, but in a way that really happens. \r\n\r\nWithout a REX prefix there are 8 byte registers, split in two groups:\r\n\r\n- the low byte registers: `AL`, `DL`, `CL`, `BL` (the low byte of `AX` etc)\r\n- the high byte registers: `AH`, `DH`, `CH`, `BH` (the high byte of `AX` etc)\r\n\r\nThe high byte registers generally have stranger properties than the low byte registers, and tracking the allocation of different parts of the same register is an annoying extra complication. To simplify the mess it may be a reasonably choice to just not ever use them, but that does mean that the byte register count is down to 4.\r\n\r\nWith a REX prefix (in 64bit mode, otherwise there is no REX), the lowest byte of all of the 16 GPRs can be used as a byte register.\r\n\r\nThe high byte registers also still exist in 64bit mode (so in a sense there are 16+4 byte registers in 64bit mode), but cannot be accessed by an instruction that has a REX prefix (even with none of the REX flags set). The high byte registers are extra painful to use in 64bit since, for example `add ah, sil` is impossible since `sil` requires a REX prefix while `ah` requires the lack of a REX prefix. Setting the count to 16 is consistent with simply never using a high byte register.\r\n\r\nI&#39;m not sure what&#39;s up with the rest though.","title":"What are byte registers in an x86 P6 context?","body":"<blockquote>\n  <p>It does seem odd that the expected number of byte registers of a non-64-bit processor is 4 times that of a 64-bit processor, though.</p>\n</blockquote>\n\n<p>Yes, but in a way that really happens. </p>\n\n<p>Without a REX prefix there are 8 byte registers, split in two groups:</p>\n\n<ul>\n<li>the low byte registers: <code>AL</code>, <code>DL</code>, <code>CL</code>, <code>BL</code> (the low byte of <code>AX</code> etc)</li>\n<li>the high byte registers: <code>AH</code>, <code>DH</code>, <code>CH</code>, <code>BH</code> (the high byte of <code>AX</code> etc)</li>\n</ul>\n\n<p>The high byte registers generally have stranger properties than the low byte registers, and tracking the allocation of different parts of the same register is an annoying extra complication. To simplify the mess it may be a reasonably choice to just not ever use them, but that does mean that the byte register count is down to 4.</p>\n\n<p>With a REX prefix (in 64bit mode, otherwise there is no REX), the lowest byte of all of the 16 GPRs can be used as a byte register.</p>\n\n<p>The high byte registers also still exist in 64bit mode (so in a sense there are 16+4 byte registers in 64bit mode), but cannot be accessed by an instruction that has a REX prefix (even with none of the REX flags set). The high byte registers are extra painful to use in 64bit since, for example <code>add ah, sil</code> is impossible since <code>sil</code> requires a REX prefix while <code>ah</code> requires the lack of a REX prefix. Setting the count to 16 is consistent with simply never using a high byte register.</p>\n\n<p>I'm not sure what's up with the rest though.</p>\n"}],"owner":{"account_id":1397601,"reputation":909,"user_id":1327079,"accept_rate":86,"display_name":"tudor -Reinstate Monica-"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1700841276,"creation_date":1540858762,"question_id":53055682,"body_markdown":"I&#39;m attempting to cross-compile OpenJDK to an old 32-bit VIA Geode LX processor and I keep hitting [this assert][1]:\r\n\r\n    assert(VM_Version::is_P6() || dest_reg-&gt;has_byte_register(), \r\n        &quot;must use byte registers if not P6&quot;);\r\n\r\nClearly I&#39;m failing both tests, but if I override the warning with `-XX:c1_LIRAssembler.cpp:1313` the application runs perfectly fine, so I&#39;m presuming I&#39;ve misconfigured my kernel somehow, but I don&#39;t know what about it I got wrong.  One of these has to be true for the assert to pass.\r\n\r\n**Part 1 - VM_Version::is_P6()**\r\n\r\nThe VIA Geode LX is supposed to be a 686 processor (minus one instruction), but that shouldn&#39;t affect the decision being made here which is around the number of registers it can access, not the instruction set.  OpenJDK does test for certain types of registers, though, to determine the *Processor Family*.\r\n\r\nIt defines CPUs [as listed in the comments][2]:\r\n\r\n    //       6   -  PentiumPro, Pentium II, Celeron, Xeon, Pentium III, Athlon,\r\n    //              Pentium M, Core Solo, Core Duo, Core2 Duo\r\n\r\nI have my kernel compiled for &quot;Pentium Pro&quot;, so this should succeed, [however][3]:\r\n\r\n    static int  cpu_family()        { return _cpu;}\r\n    static bool is_P6()             { return cpu_family() &gt;= 6; }\r\n\r\n`_cpu` [is assigned by][4] [`extended_cpu_family()`][5]:\r\n\r\n    static uint32_t extended_cpu_family() {\r\n        uint32_t result = _cpuid_info.std_cpuid1_eax.bits.family;\r\n        result += _cpuid_info.std_cpuid1_eax.bits.ext_family;\r\n        return result;\r\n    }\r\n\r\nAnd down the rabbit hole we go....  Suffice to say I can see why this part of the assert would fail.  The VIA Geode LX mimics the instruction set of an Intel x86, but fails in a number of cases, so I understand why it wouldn&#39;t *technically* meet the qualification of a P6 which, as defined by the [function `extended_cpu_family()`][5] means it falls back to a class 4.\r\n\r\n**Part 2 - has_byte_register()**\r\n\r\nThis is the code that [checks for a byte register][6]:\r\n\r\n     public:\r\n      enum {\r\n    #ifndef AMD64\r\n        number_of_registers      = 8,\r\n        number_of_byte_registers = 4,\r\n        max_slots_per_register   = 1\r\n    #else\r\n        number_of_registers      = 16,\r\n        number_of_byte_registers = 16,\r\n        max_slots_per_register   = 1\r\n    #endif // AMD64\r\n      };\r\n    \r\n    ...\r\n\r\n      bool  has_byte_register() const                \r\n         { return 0 &lt;= (intptr_t)this &amp;&amp; (intptr_t)this &lt; number_of_byte_registers; }\r\n\r\n    ...\r\n\r\nwhere `intptr_t` [is defined as][7]:\r\n\r\n    typedef int                     intptr_t;\r\n\r\nSo basically what it looks like is that `has_byte_registers()` is failing. I don&#39;t see how it could ever success, though, since it looks like &quot;this&quot; must resolve to a memory location, which will always be higher than 16.\r\n\r\n It does seem odd that the expected number of byte registers of a non-64-bit processor is **4 times** that of a 64-bit processor, though.\r\n\r\n**Did I configure my kernel wrong, is one of these tests wrong (so that I can submit a patch), or is it just that OpenJDK didn&#39;t consider old &quot;not-quite-compliant&quot; CPUs like this one?**\r\n\r\n\r\n  [1]: https://hg.openjdk.java.net/jdk-updates/jdk11u/file/98e7354165d3/src/hotspot/cpu/x86/c1_LIRAssembler_x86.cpp#l1313\r\n  [2]: https://hg.openjdk.java.net/jdk-updates/jdk11u/file/98e7354165d3/src/hotspot/cpu/x86/vm_version_x86.hpp#l696\r\n  [3]: https://hg.openjdk.java.net/jdk-updates/jdk11u/file/98e7354165d3/src/hotspot/cpu/x86/vm_version_x86.hpp#l710\r\n  [4]: https://hg.openjdk.java.net/jdk-updates/jdk11u/file/98e7354165d3/src/hotspot/cpu/x86/vm_version_x86.cpp#l568\r\n  [5]: https://hg.openjdk.java.net/jdk-updates/jdk11u/file/98e7354165d3/src/hotspot/cpu/x86/vm_version_x86.hpp#l469\r\n  [6]: https://hg.openjdk.java.net/jdk-updates/jdk11u/file/98e7354165d3/src/hotspot/cpu/x86/register_x86.hpp#l68\r\n  [7]: https://hg.openjdk.java.net/jdk-updates/jdk11u/file/98e7354165d3/src/hotspot/share/utilities/globalDefinitions_gcc.hpp#l144","title":"What are byte registers in an x86 P6 context?","body":"<p>I'm attempting to cross-compile OpenJDK to an old 32-bit VIA Geode LX processor and I keep hitting <a href=\"https://hg.openjdk.java.net/jdk-updates/jdk11u/file/98e7354165d3/src/hotspot/cpu/x86/c1_LIRAssembler_x86.cpp#l1313\" rel=\"nofollow noreferrer\">this assert</a>:</p>\n\n<pre><code>assert(VM_Version::is_P6() || dest_reg-&gt;has_byte_register(), \n    \"must use byte registers if not P6\");\n</code></pre>\n\n<p>Clearly I'm failing both tests, but if I override the warning with <code>-XX:c1_LIRAssembler.cpp:1313</code> the application runs perfectly fine, so I'm presuming I've misconfigured my kernel somehow, but I don't know what about it I got wrong.  One of these has to be true for the assert to pass.</p>\n\n<p><strong>Part 1 - VM_Version::is_P6()</strong></p>\n\n<p>The VIA Geode LX is supposed to be a 686 processor (minus one instruction), but that shouldn't affect the decision being made here which is around the number of registers it can access, not the instruction set.  OpenJDK does test for certain types of registers, though, to determine the <em>Processor Family</em>.</p>\n\n<p>It defines CPUs <a href=\"https://hg.openjdk.java.net/jdk-updates/jdk11u/file/98e7354165d3/src/hotspot/cpu/x86/vm_version_x86.hpp#l696\" rel=\"nofollow noreferrer\">as listed in the comments</a>:</p>\n\n<pre><code>//       6   -  PentiumPro, Pentium II, Celeron, Xeon, Pentium III, Athlon,\n//              Pentium M, Core Solo, Core Duo, Core2 Duo\n</code></pre>\n\n<p>I have my kernel compiled for \"Pentium Pro\", so this should succeed, <a href=\"https://hg.openjdk.java.net/jdk-updates/jdk11u/file/98e7354165d3/src/hotspot/cpu/x86/vm_version_x86.hpp#l710\" rel=\"nofollow noreferrer\">however</a>:</p>\n\n<pre><code>static int  cpu_family()        { return _cpu;}\nstatic bool is_P6()             { return cpu_family() &gt;= 6; }\n</code></pre>\n\n<p><code>_cpu</code> <a href=\"https://hg.openjdk.java.net/jdk-updates/jdk11u/file/98e7354165d3/src/hotspot/cpu/x86/vm_version_x86.cpp#l568\" rel=\"nofollow noreferrer\">is assigned by</a> <a href=\"https://hg.openjdk.java.net/jdk-updates/jdk11u/file/98e7354165d3/src/hotspot/cpu/x86/vm_version_x86.hpp#l469\" rel=\"nofollow noreferrer\"><code>extended_cpu_family()</code></a>:</p>\n\n<pre><code>static uint32_t extended_cpu_family() {\n    uint32_t result = _cpuid_info.std_cpuid1_eax.bits.family;\n    result += _cpuid_info.std_cpuid1_eax.bits.ext_family;\n    return result;\n}\n</code></pre>\n\n<p>And down the rabbit hole we go....  Suffice to say I can see why this part of the assert would fail.  The VIA Geode LX mimics the instruction set of an Intel x86, but fails in a number of cases, so I understand why it wouldn't <em>technically</em> meet the qualification of a P6 which, as defined by the <a href=\"https://hg.openjdk.java.net/jdk-updates/jdk11u/file/98e7354165d3/src/hotspot/cpu/x86/vm_version_x86.hpp#l469\" rel=\"nofollow noreferrer\">function <code>extended_cpu_family()</code></a> means it falls back to a class 4.</p>\n\n<p><strong>Part 2 - has_byte_register()</strong></p>\n\n<p>This is the code that <a href=\"https://hg.openjdk.java.net/jdk-updates/jdk11u/file/98e7354165d3/src/hotspot/cpu/x86/register_x86.hpp#l68\" rel=\"nofollow noreferrer\">checks for a byte register</a>:</p>\n\n<pre><code> public:\n  enum {\n#ifndef AMD64\n    number_of_registers      = 8,\n    number_of_byte_registers = 4,\n    max_slots_per_register   = 1\n#else\n    number_of_registers      = 16,\n    number_of_byte_registers = 16,\n    max_slots_per_register   = 1\n#endif // AMD64\n  };\n\n...\n\n  bool  has_byte_register() const                \n     { return 0 &lt;= (intptr_t)this &amp;&amp; (intptr_t)this &lt; number_of_byte_registers; }\n\n...\n</code></pre>\n\n<p>where <code>intptr_t</code> <a href=\"https://hg.openjdk.java.net/jdk-updates/jdk11u/file/98e7354165d3/src/hotspot/share/utilities/globalDefinitions_gcc.hpp#l144\" rel=\"nofollow noreferrer\">is defined as</a>:</p>\n\n<pre><code>typedef int                     intptr_t;\n</code></pre>\n\n<p>So basically what it looks like is that <code>has_byte_registers()</code> is failing. I don't see how it could ever success, though, since it looks like \"this\" must resolve to a memory location, which will always be higher than 16.</p>\n\n<p>It does seem odd that the expected number of byte registers of a non-64-bit processor is <strong>4 times</strong> that of a 64-bit processor, though.</p>\n\n<p><strong>Did I configure my kernel wrong, is one of these tests wrong (so that I can submit a patch), or is it just that OpenJDK didn't consider old \"not-quite-compliant\" CPUs like this one?</strong></p>\n"},{"tags":["java","function","numbers"],"comments":[{"owner":{"account_id":6302434,"reputation":5409,"user_id":4896651,"accept_rate":75,"display_name":"Shadov"},"score":6,"creation_date":1700663026,"post_id":77530708,"comment_id":136682231,"body_markdown":"`pow++` is the problem, its not needed at all","body":"<code>pow++</code> is the problem, its not needed at all"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":3,"creation_date":1700663734,"post_id":77530708,"comment_id":136682384,"body_markdown":"BTW `&lt;=` can better be replaced by `&lt;` (5 is a power of 5)","body":"BTW <code>&lt;=</code> can better be replaced by <code>&lt;</code> (5 is a power of 5)"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1700664000,"post_id":77530708,"comment_id":136682451,"body_markdown":"BTW no need to declare new scanner every time you read an input, 1 is more than enough.","body":"BTW no need to declare new scanner every time you read an input, 1 is more than enough."}],"answers":[{"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1700664278,"post_id":77530833,"comment_id":136682506,"body_markdown":"You should explain how this fixes OP&#39;s problem, not to mention it won&#39;t work out of the box - `x` and `y` have exchanged positions compared to `m` and `n` used in question.","body":"You should explain how this fixes OP&#39;s problem, not to mention it won&#39;t work out of the box - <code>x</code> and <code>y</code> have exchanged positions compared to <code>m</code> and <code>n</code> used in question."},{"owner":{"account_id":29925833,"reputation":11,"user_id":22933891,"display_name":"Nurzamat"},"score":0,"creation_date":1700664887,"post_id":77530833,"comment_id":136682621,"body_markdown":"she can use this method, just passing correct params","body":"she can use this method, just passing correct params"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1700665288,"post_id":77530833,"comment_id":136682719,"body_markdown":"Yes, and it should be explained in the answer. It should also explain where was the error in the question and how this fixes it.","body":"Yes, and it should be explained in the answer. It should also explain where was the error in the question and how this fixes it."},{"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"score":0,"creation_date":1700668754,"post_id":77530833,"comment_id":136683500,"body_markdown":"Actually, any number in the power of zero is one, so you should just drop your `if` check. (There is a debate of whether 0^0 = 1, but for many purposes it&#39;s considered so.)","body":"Actually, any number in the power of zero is one, so you should just drop your <code>if</code> check. (There is a debate of whether 0^0 = 1, but for many purposes it&#39;s considered so.)"}],"tags":[],"owner":{"account_id":29925833,"reputation":11,"user_id":22933891,"display_name":"Nurzamat"},"comment_count":4,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1700663869,"creation_date":1700663693,"answer_id":77530833,"question_id":77530708,"body_markdown":"   try this:\r\n\r\n    /* Returns true if y is a power of x */\r\n    public static boolean isPower(int x, int y)\r\n    {\r\n        // The only power of 1 is 1 itself\r\n        if (x == 1)\r\n            return (y == 1);\r\n \r\n        // Repeatedly compute power of x\r\n        int pow = 1;\r\n        while (pow &lt; y)\r\n            pow = pow * x;\r\n \r\n        // Check if power of x becomes y\r\n        return (pow == y);\r\n    }","title":"How to write a function that checks that one number is a power of another in Java?","body":"<p>try this:</p>\n<pre><code>/* Returns true if y is a power of x */\npublic static boolean isPower(int x, int y)\n{\n    // The only power of 1 is 1 itself\n    if (x == 1)\n        return (y == 1);\n\n    // Repeatedly compute power of x\n    int pow = 1;\n    while (pow &lt; y)\n        pow = pow * x;\n\n    // Check if power of x becomes y\n    return (pow == y);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"score":3,"creation_date":1700666532,"post_id":77531139,"comment_id":136682990,"body_markdown":"Do not close a `Scanner` attached to `System.in`! Closing a `Scanner` closes the underlying stream; you don&#39;t want `System.in` get closed. Therefore do not use `Scanner(System.in)` with `try-with-resources`.","body":"Do not close a <code>Scanner</code> attached to <code>System.in</code>! Closing a <code>Scanner</code> closes the underlying stream; you don&#39;t want <code>System.in</code> get closed. Therefore do not use <code>Scanner(System.in)</code> with <code>try-with-resources</code>."},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1700666577,"post_id":77531139,"comment_id":136683002,"body_markdown":"Really! I am checking this and will change my answer if it&#39;s true (probably). I didn&#39;t know this man.","body":"Really! I am checking this and will change my answer if it&#39;s true (probably). I didn&#39;t know this man."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1700669536,"post_id":77531139,"comment_id":136683645,"body_markdown":"More concisely, to prevent inadvertently closing the _[standard-input](https://en.wikipedia.org/wiki/Standard_streams)_ resource, close the _Scanner_ object after all input has been collected, for the cycle of the application.  Otherwise, you must close all objects that implement the _[Closeable](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/Closeable.html)_ interface.","body":"More concisely, to prevent inadvertently closing the <i><a href=\"https://en.wikipedia.org/wiki/Standard_streams\" rel=\"nofollow noreferrer\">standard-input</a></i> resource, close the <i>Scanner</i> object after all input has been collected, for the cycle of the application.  Otherwise, you must close all objects that implement the <i><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/Closeable.html\" rel=\"nofollow noreferrer\">Closeable</a></i> interface."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1700669763,"post_id":77531139,"comment_id":136683687,"body_markdown":"_&quot;... The variable names `m` and `n` are a bit uninformative ...&quot;_, I disagree, they are two _[dimensions](https://en.wikipedia.org/wiki/Dimension)_.","body":"<i>&quot;... The variable names <code>m</code> and <code>n</code> are a bit uninformative ...&quot;</i>, I disagree, they are two <i><a href=\"https://en.wikipedia.org/wiki/Dimension\" rel=\"nofollow noreferrer\">dimensions</a></i>."},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1700944163,"post_id":77531139,"comment_id":136714832,"body_markdown":"@Reilas How are two parameters for a method dimensions?","body":"@Reilas How are two parameters for a method dimensions?"}],"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700667550,"creation_date":1700666136,"answer_id":77531139,"question_id":77530708,"body_markdown":"@Shadov already answered your question, however there are some issues with your code I&#39;d like to highlight. And example code below how to solve them.\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.print(&quot;base: &quot;);\r\n        int base = scanner.nextInt();\r\n        System.out.print(&quot;result: &quot;);\r\n        int result = scanner.nextInt();\r\n        System.out.println(logarithm(base, result));\r\n    }\r\n\r\nYou don&#39;t have to create separate Scanner objects to collect multiple inputs. I removed my incorrect advice to close the Scanner. Don&#39;t do this for Scanner objects reading System.in because System.in will be permanently closed as well. In general, don&#39;t close resources you didn&#39;t create in your own code. Thanks Alexy for pointing this out in the comments.\r\n\r\n\r\nThe variable names `m` and `n` are a bit uninformative so I renamed them to `result` and `base` respectively. Also I changed the order in which they are entered.\r\n\r\n    public static Power logarithm(int base, int result) {\r\n        int exponent = 0;\r\n        int currentResult = 1;\r\n        while (currentResult &lt;= result) {\r\n            if (currentResult == result) {\r\n                return new Power(base, result, exponent);\r\n            }\r\n            currentResult = base * currentResult;\r\n            exponent++;\r\n        }\r\n        return new Power(base, result);\r\n    }\r\n\r\nThe method you called `pow` is in effect performing a logarithm function:\r\n\r\n2&lt;sup&gt;3&lt;/sup&gt; = 8 -&gt; log&lt;sub&gt;2&lt;/sub&gt; 8 = 3\r\n\r\nProvided with the base and the result, the function determines the exponent or power. \r\n\r\nYour code returns false when the result is `1` or equal to the base. This is incorrect, for example:\r\n\r\nlog&lt;sub&gt;2&lt;/sub&gt; 2 = 1\r\n\r\nlog&lt;sub&gt;2&lt;/sub&gt; 1 = 0\r\n\r\nTherefore I removed the `if (m &lt;= n)` statement and changed the starting value of your `pow` (my `currentResult`) variable to 1.\r\n\r\nPreviously you just returned `true` or `false` but it would also make sense to return the exponent in the case that it is an integer. To do this I keep track of the exponent, and start it at `0`. \r\n\r\n\r\nTo distinguish success and failure cases I introduced a record called `Power`.\r\n\r\n\r\n    public record Power(int base, int result, Integer exponent) {\r\n        public Power(int base, int result) {\r\n            this(base, result, null);\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            if (exponent == null) {\r\n                return &quot;%s is not a power of %s&quot;.formatted(result, base);\r\n            } else {\r\n                return &quot;%s ^ %s = %s&quot;.formatted(base, exponent, result);\r\n            }\r\n        }\r\n    }\r\n\r\nThere are two constructors. One for the case that an exponent was found, and one for the case it wasn&#39;t. BTW this is the first time I ever used a Java record, yay!","title":"How to write a function that checks that one number is a power of another in Java?","body":"<p>@Shadov already answered your question, however there are some issues with your code I'd like to highlight. And example code below how to solve them.</p>\n<pre><code>public static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    System.out.print(&quot;base: &quot;);\n    int base = scanner.nextInt();\n    System.out.print(&quot;result: &quot;);\n    int result = scanner.nextInt();\n    System.out.println(logarithm(base, result));\n}\n</code></pre>\n<p>You don't have to create separate Scanner objects to collect multiple inputs. I removed my incorrect advice to close the Scanner. Don't do this for Scanner objects reading System.in because System.in will be permanently closed as well. In general, don't close resources you didn't create in your own code. Thanks Alexy for pointing this out in the comments.</p>\n<p>The variable names <code>m</code> and <code>n</code> are a bit uninformative so I renamed them to <code>result</code> and <code>base</code> respectively. Also I changed the order in which they are entered.</p>\n<pre><code>public static Power logarithm(int base, int result) {\n    int exponent = 0;\n    int currentResult = 1;\n    while (currentResult &lt;= result) {\n        if (currentResult == result) {\n            return new Power(base, result, exponent);\n        }\n        currentResult = base * currentResult;\n        exponent++;\n    }\n    return new Power(base, result);\n}\n</code></pre>\n<p>The method you called <code>pow</code> is in effect performing a logarithm function:</p>\n<p>2<sup>3</sup> = 8 -&gt; log<sub>2</sub> 8 = 3</p>\n<p>Provided with the base and the result, the function determines the exponent or power.</p>\n<p>Your code returns false when the result is <code>1</code> or equal to the base. This is incorrect, for example:</p>\n<p>log<sub>2</sub> 2 = 1</p>\n<p>log<sub>2</sub> 1 = 0</p>\n<p>Therefore I removed the <code>if (m &lt;= n)</code> statement and changed the starting value of your <code>pow</code> (my <code>currentResult</code>) variable to 1.</p>\n<p>Previously you just returned <code>true</code> or <code>false</code> but it would also make sense to return the exponent in the case that it is an integer. To do this I keep track of the exponent, and start it at <code>0</code>.</p>\n<p>To distinguish success and failure cases I introduced a record called <code>Power</code>.</p>\n<pre><code>public record Power(int base, int result, Integer exponent) {\n    public Power(int base, int result) {\n        this(base, result, null);\n    }\n\n    @Override\n    public String toString() {\n        if (exponent == null) {\n            return &quot;%s is not a power of %s&quot;.formatted(result, base);\n        } else {\n            return &quot;%s ^ %s = %s&quot;.formatted(base, exponent, result);\n        }\n    }\n}\n</code></pre>\n<p>There are two constructors. One for the case that an exponent was found, and one for the case it wasn't. BTW this is the first time I ever used a Java record, yay!</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700669145,"creation_date":1700669145,"answer_id":77531479,"question_id":77530708,"body_markdown":"&gt; _&quot;... I write a boolean function to recognize integer m as the power of n or not. But my code don not run properly. ...&quot;_\r\n\r\nRemove the incrementation of, _pow_.\r\n\r\nHere is the _Wikipedia_ article, on _[exponentiation](https://en.wikipedia.org/wiki/Exponentiation)_.\r\n\r\n```java\r\nboolean power(int m, int n) {\r\n    if (m &lt;= n) {\r\n        return false;\r\n    }\r\n    int pow = n;\r\n    while (pow &lt;= m) {\r\n        pow = n * pow;\r\n        if (pow == m) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n```\r\n\r\n&gt; _&quot;... For example, 625 is the power of 5. But my code result is false.&quot;_\r\n\r\nOutput\r\n\r\n```none\r\ntrue\r\n```","title":"How to write a function that checks that one number is a power of another in Java?","body":"<blockquote>\n<p><em>&quot;... I write a boolean function to recognize integer m as the power of n or not. But my code don not run properly. ...&quot;</em></p>\n</blockquote>\n<p>Remove the incrementation of, <em>pow</em>.</p>\n<p>Here is the <em>Wikipedia</em> article, on <em><a href=\"https://en.wikipedia.org/wiki/Exponentiation\" rel=\"nofollow noreferrer\">exponentiation</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean power(int m, int n) {\n    if (m &lt;= n) {\n        return false;\n    }\n    int pow = n;\n    while (pow &lt;= m) {\n        pow = n * pow;\n        if (pow == m) {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n<blockquote>\n<p><em>&quot;... For example, 625 is the power of 5. But my code result is false.&quot;</em></p>\n</blockquote>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700669596,"creation_date":1700669596,"answer_id":77531535,"question_id":77530708,"body_markdown":"- A mistake of your solution was pointed out in the comments.\r\n- Your code also doesn&#39;t handle the case of `m = 1` well.\r\n- For the majority of inputs the following approach works in less iterations:\r\n\r\n```java\r\n// for n, m &gt; 0\r\nstatic boolean isPower(int m, int n) {\r\n\twhile (m % n == 0) {\r\n\t\tm /= n;\r\n\t}\r\n\t\r\n\treturn (m == 1);\r\n}\r\n```\r\n\r\nHere I repeatedly divide `m` by `n` until a non-zero remainder is encountered. For an exact power of `n`, I will end up with `m = 1`.\r\n\r\n`(n - 1)/n` of all possible `m` values with this approach are rejected on the first iteration since only one number in `n` consecutive numbers has `m % n == 0`.","title":"How to write a function that checks that one number is a power of another in Java?","body":"<ul>\n<li>A mistake of your solution was pointed out in the comments.</li>\n<li>Your code also doesn't handle the case of <code>m = 1</code> well.</li>\n<li>For the majority of inputs the following approach works in less iterations:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>// for n, m &gt; 0\nstatic boolean isPower(int m, int n) {\n    while (m % n == 0) {\n        m /= n;\n    }\n    \n    return (m == 1);\n}\n</code></pre>\n<p>Here I repeatedly divide <code>m</code> by <code>n</code> until a non-zero remainder is encountered. For an exact power of <code>n</code>, I will end up with <code>m = 1</code>.</p>\n<p><code>(n - 1)/n</code> of all possible <code>m</code> values with this approach are rejected on the first iteration since only one number in <code>n</code> consecutive numbers has <code>m % n == 0</code>.</p>\n"},{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700675296,"creation_date":1700674059,"answer_id":77532038,"question_id":77530708,"body_markdown":"Other answers addressed the problem in the original code.  I thought I would show a method that doesn&#39;t use loops:\r\n\r\n````\r\n    public static boolean isPower (int base, int power) {\r\n        double exponent =  Math.log (power) / Math.log (base) ;\r\n        return (int) exponent == exponent;\r\n    }\r\n````\r\nHowever, this doesn&#39;t address the issue of lack of precision when using `double`. For example, `base = 7` and `power = 16807` could result in `exponent = 5.000000000000001`. That would result in the method returning `false` when, in fact, it should be `true`. If you are not familiar with this issue, you should look into it. I&#39;ll leave the choice of fix to you.  \r\n\r\nNote: `log (a)` returns the natural logarithm of `a`. `log (a) / log (b)` converts the result to base `b`. \r\n","title":"How to write a function that checks that one number is a power of another in Java?","body":"<p>Other answers addressed the problem in the original code.  I thought I would show a method that doesn't use loops:</p>\n<pre><code>    public static boolean isPower (int base, int power) {\n        double exponent =  Math.log (power) / Math.log (base) ;\n        return (int) exponent == exponent;\n    }\n</code></pre>\n<p>However, this doesn't address the issue of lack of precision when using <code>double</code>. For example, <code>base = 7</code> and <code>power = 16807</code> could result in <code>exponent = 5.000000000000001</code>. That would result in the method returning <code>false</code> when, in fact, it should be <code>true</code>. If you are not familiar with this issue, you should look into it. I'll leave the choice of fix to you.</p>\n<p>Note: <code>log (a)</code> returns the natural logarithm of <code>a</code>. <code>log (a) / log (b)</code> converts the result to base <code>b</code>.</p>\n"}],"owner":{"account_id":17446144,"reputation":11,"user_id":12647154,"display_name":"Zeynab Moghaddas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1700840770,"creation_date":1700662659,"question_id":77530708,"body_markdown":"I write a boolean function that checks if integer `m` is a power of `n` or not. But my code is not correct. For example, 625 is a power of 5. But my code returns false.\r\n```java\r\npublic static boolean isPower(int m, int n) {\r\n  if (m &lt;= n) {\r\n    return false;\r\n  }\r\n  int pow = n;\r\n  while (pow &lt;= m) {\r\n    pow = n * pow;\r\n    if (pow == m) {\r\n      return true;\r\n    }\r\n    pow++;\r\n  }\r\n  return false;\r\n}\r\n```","title":"How to write a function that checks that one number is a power of another in Java?","body":"<p>I write a boolean function that checks if integer <code>m</code> is a power of <code>n</code> or not. But my code is not correct. For example, 625 is a power of 5. But my code returns false.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean isPower(int m, int n) {\n  if (m &lt;= n) {\n    return false;\n  }\n  int pow = n;\n  while (pow &lt;= m) {\n    pow = n * pow;\n    if (pow == m) {\n      return true;\n    }\n    pow++;\n  }\n  return false;\n}\n</code></pre>\n"},{"tags":["java","scala","java-8","concurrency","akka"],"comments":[{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":0,"creation_date":1700659126,"post_id":77528368,"comment_id":136681447,"body_markdown":"The first error says that the class is compiled for Java 11. The second one probably is because you only use scalac without adding anything to the classpath. If this is a new project, why you can&#39;t use Java 11?","body":"The first error says that the class is compiled for Java 11. The second one probably is because you only use scalac without adding anything to the classpath. If this is a new project, why you can&#39;t use Java 11?"},{"owner":{"account_id":2829539,"reputation":33,"user_id":2431392,"display_name":"Kailash"},"score":0,"creation_date":1700717450,"post_id":77528368,"comment_id":136689296,"body_markdown":"@Gast&#243;nSchabas :  Thank you for your comment. I appreciate your suggestion. Regarding the scalac, I already tried changing the directory and to the class itself. As for Java 11, unfortunately, I am not able to download JDK on my own and have to rely on the version available in the company&#39;s App Store. Thank you again for your help.","body":"@Gast&#243;nSchabas :  Thank you for your comment. I appreciate your suggestion. Regarding the scalac, I already tried changing the directory and to the class itself. As for Java 11, unfortunately, I am not able to download JDK on my own and have to rely on the version available in the company&#39;s App Store. Thank you again for your help."},{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":0,"creation_date":1700841331,"post_id":77528368,"comment_id":136706067,"body_markdown":"If you generated the project using `sbt new akka/akka-quickstart-scala.g8` or downloaded the zip from [Akka Actors Quickstart with Scala](https://developer.lightbend.com/guides/akka-quickstart-scala/), the project comes from [akka-quickstart-scala.g8](https://github.com/akka/akka-quickstart-scala.g8). The [build.sbt](https://github.com/akka/akka-quickstart-scala.g8/blob/d59095f7e0c9d1a921ab6fef36cdf71b1d645e02/src/main/g8/build.sbt) has [default akka version 2.9](https://github.com/akka/akka-quickstart-scala.g8/blob/d59095f7e0c9d1a921ab6fef36cdf71b1d645e02/src/main/g8/default.properties#L3)","body":"If you generated the project using <code>sbt new akka&#47;akka-quickstart-scala.g8</code> or downloaded the zip from <a href=\"https://developer.lightbend.com/guides/akka-quickstart-scala/\" rel=\"nofollow noreferrer\">Akka Actors Quickstart with Scala</a>, the project comes from <a href=\"https://github.com/akka/akka-quickstart-scala.g8\" rel=\"nofollow noreferrer\">akka-quickstart-scala.g8</a>. The <a href=\"https://github.com/akka/akka-quickstart-scala.g8/blob/d59095f7e0c9d1a921ab6fef36cdf71b1d645e02/src/main/g8/build.sbt\" rel=\"nofollow noreferrer\">build.sbt</a> has <a href=\"https://github.com/akka/akka-quickstart-scala.g8/blob/d59095f7e0c9d1a921ab6fef36cdf71b1d645e02/src/main/g8/default.properties#L3\" rel=\"nofollow noreferrer\">default akka version 2.9</a>"},{"owner":{"account_id":2829539,"reputation":33,"user_id":2431392,"display_name":"Kailash"},"score":0,"creation_date":1701417567,"post_id":77528368,"comment_id":136775449,"body_markdown":"Thank you for your response, Gast&#243;n @gast&#243;n-schabas. I have checked the project&#39;s build.sbt file and found the specified Akka version is indeed 2.9.0","body":"Thank you for your response, Gast&#243;n @gast&#243;n-schabas. I have checked the project&#39;s build.sbt file and found the specified Akka version is indeed 2.9.0"}],"answers":[{"comments":[{"owner":{"account_id":2829539,"reputation":33,"user_id":2431392,"display_name":"Kailash"},"score":0,"creation_date":1701417652,"post_id":77544296,"comment_id":136775461,"body_markdown":"Thank you so much, Gast&#243;n, for your response and for doing some local testing for the dummy akka hello world project. I appreciate your effort and for letting me know about the removed support for Java 8 in the latest version of akka.\nYour suggestion to use akka-actor-typed version 2.8.5 with Scala version 2.13.12 worked perfectly for me, and I was able to run the dummy hello world example.\nAgain, thank you for your guidance and support. I&#39;m grateful for your help and have accepted your answer.","body":"Thank you so much, Gast&#243;n, for your response and for doing some local testing for the dummy akka hello world project. I appreciate your effort and for letting me know about the removed support for Java 8 in the latest version of akka. Your suggestion to use akka-actor-typed version 2.8.5 with Scala version 2.13.12 worked perfectly for me, and I was able to run the dummy hello world example. Again, thank you for your guidance and support. I&#39;m grateful for your help and have accepted your answer."}],"tags":[],"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1700840707,"creation_date":1700840707,"answer_id":77544296,"question_id":77528368,"body_markdown":"[Akka 2.9 - Support for Java 8 removed](https://doc.akka.io/docs/akka/2.9/project/migration-guide-2.8.x-2.9.x.html#support-for-java-8-removed)\r\n\r\n&gt; ### Support for Java 8 removed\r\n&gt; The published artifacts are targeting Java 11, and later. Supported Java versions are 11 and 17.\r\n\r\nThe [PR to drop jdk 8 support](https://github.com/akka/akka/pull/32127) was merged\r\n\r\n[Akka 2.9 - Support for Scala 2.12 removed](https://doc.akka.io/docs/akka/2.9/project/migration-guide-2.8.x-2.9.x.html#support-for-scala-2-12-removed)\r\n\r\n&gt; ### Support for Scala 2.12 removed\r\n&gt; The published artifacts are targeting Scala 2.13 and Scala 3.3.\r\n\r\nWhich means, if you only are able to run your projects using jdk 8, the latest version of akka you can use is 2.8.x.\r\n\r\nI was able to run locally the following dummy akka hello world\r\n\r\n- `build.sbt`\r\n\r\n```scala\r\nThisBuild / scalaVersion := &quot;2.13.12&quot;\r\n\r\nlazy val root = (project in file(&quot;.&quot;))\r\n  .settings(\r\n    name := &quot;akka-dummy-hello-world&quot;,\r\n    libraryDependencies ++= Seq(\r\n      &quot;com.typesafe.akka&quot; %% &quot;akka-actor-typed&quot; % &quot;2.8.5&quot;\r\n    )\r\n  )\r\n```\r\n\r\n- `Main.scala`\r\n\r\n```scala\r\nimport akka.actor.typed.ActorSystem\r\nimport akka.actor.typed.scaladsl.Behaviors\r\n\r\nobject Main {\r\n\r\n  def main(args: Array[String]): Unit = {\r\n    val empty = Behaviors.setup[Any] { _ =&gt;\r\n      println(&quot;hello akka dummy&quot;)\r\n      Behaviors.empty\r\n    }\r\n    val actorSystem = ActorSystem(empty, &quot;akka-dummy-hello-world&quot;)\r\n    actorSystem.terminate()\r\n  }\r\n\r\n}\r\n```","title":"Scala Akka Quickstart: Java Version Mismatch and Compilation Error","body":"<p><a href=\"https://doc.akka.io/docs/akka/2.9/project/migration-guide-2.8.x-2.9.x.html#support-for-java-8-removed\" rel=\"nofollow noreferrer\">Akka 2.9 - Support for Java 8 removed</a></p>\n<blockquote>\n<h3>Support for Java 8 removed</h3>\n<p>The published artifacts are targeting Java 11, and later. Supported Java versions are 11 and 17.</p>\n</blockquote>\n<p>The <a href=\"https://github.com/akka/akka/pull/32127\" rel=\"nofollow noreferrer\">PR to drop jdk 8 support</a> was merged</p>\n<p><a href=\"https://doc.akka.io/docs/akka/2.9/project/migration-guide-2.8.x-2.9.x.html#support-for-scala-2-12-removed\" rel=\"nofollow noreferrer\">Akka 2.9 - Support for Scala 2.12 removed</a></p>\n<blockquote>\n<h3>Support for Scala 2.12 removed</h3>\n<p>The published artifacts are targeting Scala 2.13 and Scala 3.3.</p>\n</blockquote>\n<p>Which means, if you only are able to run your projects using jdk 8, the latest version of akka you can use is 2.8.x.</p>\n<p>I was able to run locally the following dummy akka hello world</p>\n<ul>\n<li><code>build.sbt</code></li>\n</ul>\n<pre class=\"lang-scala prettyprint-override\"><code>ThisBuild / scalaVersion := &quot;2.13.12&quot;\n\nlazy val root = (project in file(&quot;.&quot;))\n  .settings(\n    name := &quot;akka-dummy-hello-world&quot;,\n    libraryDependencies ++= Seq(\n      &quot;com.typesafe.akka&quot; %% &quot;akka-actor-typed&quot; % &quot;2.8.5&quot;\n    )\n  )\n</code></pre>\n<ul>\n<li><code>Main.scala</code></li>\n</ul>\n<pre class=\"lang-scala prettyprint-override\"><code>import akka.actor.typed.ActorSystem\nimport akka.actor.typed.scaladsl.Behaviors\n\nobject Main {\n\n  def main(args: Array[String]): Unit = {\n    val empty = Behaviors.setup[Any] { _ =&gt;\n      println(&quot;hello akka dummy&quot;)\n      Behaviors.empty\n    }\n    val actorSystem = ActorSystem(empty, &quot;akka-dummy-hello-world&quot;)\n    actorSystem.terminate()\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":2829539,"reputation":33,"user_id":2431392,"display_name":"Kailash"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77544296,"answer_count":1,"score":1,"last_activity_date":1700840707,"creation_date":1700641894,"question_id":77528368,"body_markdown":"I am relatively new to Scala and Akka, transitioning from a Java, Spring, and REST API background. Currently, I am working through the Akka Actors Quickstart with Scala tutorial.\r\n\r\nUpon attempting to run the Hello World example for Scala, following the provided steps, I encountered an issue when executing `sbt reStart`. The error message is as follows:\r\n\r\n```\r\nakka-quickstart-scala[ERROR] Error: A JNI error has occurred, please check your installation and try again\r\nakka-quickstart-scala[ERROR] Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: akka/actor/typed/ActorSystem has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n```\r\n\r\nAfter researching, I found suggestions to upgrade the JRE to version 11, but due to constraints, I cannot do so at the moment. Attempting to compile the code in Java 8 using `scalac AkkaQuickstart.scala` resulted in the following error:\r\n\r\n```\r\nAkkaQuickstart.scala:5: error: not found: object akka\r\nimport http://akka.actor.typed.ActorRef\r\n```\r\n\r\nGiven that I&#39;m a novice in Akka and Scala, and unable to upgrade the Java version, I am seeking guidance on resolving this version mismatch and compilation error. Any assistance would be greatly appreciated.\r\n\r\nThanks in advance.","title":"Scala Akka Quickstart: Java Version Mismatch and Compilation Error","body":"<p>I am relatively new to Scala and Akka, transitioning from a Java, Spring, and REST API background. Currently, I am working through the Akka Actors Quickstart with Scala tutorial.</p>\n<p>Upon attempting to run the Hello World example for Scala, following the provided steps, I encountered an issue when executing <code>sbt reStart</code>. The error message is as follows:</p>\n<pre><code>akka-quickstart-scala[ERROR] Error: A JNI error has occurred, please check your installation and try again\nakka-quickstart-scala[ERROR] Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: akka/actor/typed/ActorSystem has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n</code></pre>\n<p>After researching, I found suggestions to upgrade the JRE to version 11, but due to constraints, I cannot do so at the moment. Attempting to compile the code in Java 8 using <code>scalac AkkaQuickstart.scala</code> resulted in the following error:</p>\n<pre><code>AkkaQuickstart.scala:5: error: not found: object akka\nimport http://akka.actor.typed.ActorRef\n</code></pre>\n<p>Given that I'm a novice in Akka and Scala, and unable to upgrade the Java version, I am seeking guidance on resolving this version mismatch and compilation error. Any assistance would be greatly appreciated.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","utf-8","character-encoding"],"comments":[{"owner":{"display_name":"Scott T"},"score":0,"creation_date":1229061004,"post_id":361975,"comment_id":192351,"body_markdown":"Excellent comments guys - and things I was already thinking myself. Unfortunately there is an underlying String.getBytes() call that I have no control over. The only way I currently see to get around it is to set the default encoding programmatically.\n\nAny other suggestions?","body":"Excellent comments guys - and things I was already thinking myself. Unfortunately there is an underlying String.getBytes() call that I have no control over. The only way I currently see to get around it is to set the default encoding programmatically.  Any other suggestions?"},{"owner":{"account_id":60940,"reputation":954,"user_id":181845,"accept_rate":29,"display_name":"igor.beslic"},"score":7,"creation_date":1306700854,"post_id":361975,"comment_id":7172503,"body_markdown":"maybe irrelevant question but, is there difference when UTF8 is set with &quot;UTF8&quot;, &quot;UTF-8&quot; or &quot;utf8&quot;. Recently I found that IBM WAS 6.1 EJB and WEB containers differently treats (in way of case-sensitivity) strings used to define encoding.","body":"maybe irrelevant question but, is there difference when UTF8 is set with &quot;UTF8&quot;, &quot;UTF-8&quot; or &quot;utf8&quot;. Recently I found that IBM WAS 6.1 EJB and WEB containers differently treats (in way of case-sensitivity) strings used to define encoding."},{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":7,"creation_date":1332422192,"post_id":361975,"comment_id":22067403,"body_markdown":"Just a detail but:\nprefer UTF-8 to UTF8 (only the former is standard). This still applies in 2012...","body":"Just a detail but: prefer UTF-8 to UTF8 (only the former is standard). This still applies in 2012..."},{"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"score":5,"creation_date":1332609999,"post_id":361975,"comment_id":12560357,"body_markdown":"Setting or reading the `file.encoding` property is [not supported](http://bugs.sun.com/view_bug.do?bug_id=4163515).","body":"Setting or reading the <code>file.encoding</code> property is <a href=\"http://bugs.sun.com/view_bug.do?bug_id=4163515\" rel=\"nofollow noreferrer\">not supported</a>."},{"owner":{"account_id":4032106,"reputation":16084,"user_id":3317808,"accept_rate":54,"display_name":"overexchange"},"score":0,"creation_date":1419137672,"post_id":361975,"comment_id":43597978,"body_markdown":"@erickson Am still not clear with the query, Is it not true that, &quot;file.encoding&quot; is relevant when character based I/O streams are used(all subclasses of `class Reader` &amp; `class Writer`)? Because `class FileInputStream` is byte based I/O stream, so why one should care about character set in byte-based I/O stream?","body":"@erickson Am still not clear with the query, Is it not true that, &quot;file.encoding&quot; is relevant when character based I/O streams are used(all subclasses of <code>class Reader</code> &amp; <code>class Writer</code>)? Because <code>class FileInputStream</code> is byte based I/O stream, so why one should care about character set in byte-based I/O stream?"},{"owner":{"account_id":6354435,"reputation":71,"user_id":4932293,"display_name":"booFar"},"score":0,"creation_date":1696324554,"post_id":361975,"comment_id":136135162,"body_markdown":"McDowell&#39;s comment should get more attention. The bug he linked to in the Oracle Java Bug Database (a working link [here](https://bugs.java.com/bugdatabase/view_bug?bug_id=4163515)) got rejected with the evaluation saying: The preferred way to change the default encoding used by the VM and the runtime system is to change the locale of the underlying platform before starting your Java program.","body":"McDowell&#39;s comment should get more attention. The bug he linked to in the Oracle Java Bug Database (a working link <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4163515\" rel=\"nofollow noreferrer\">here</a>) got rejected with the evaluation saying: The preferred way to change the default encoding used by the VM and the runtime system is to change the locale of the underlying platform before starting your Java program."}],"answers":[{"comments":[{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":9,"creation_date":1236785348,"post_id":361981,"comment_id":448257,"body_markdown":"Except, of course, if you&#39;re writing a desktop app and processing some user-specified text that does not have any encoding metadata - then the platform default encoding is your best guess as to what the user might be using.","body":"Except, of course, if you&#39;re writing a desktop app and processing some user-specified text that does not have any encoding metadata - then the platform default encoding is your best guess as to what the user might be using."},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1328880794,"post_id":361981,"comment_id":11621474,"body_markdown":"@MichaelBorgwardt &quot;then the platform default encoding is your best guess&quot; you seem to be advising that wanting to *change* the default is not such a good idea. Do you mean, use an explicit encoding wherever possible, using the supplied dafault when nothing else is possible?","body":"@MichaelBorgwardt &quot;then the platform default encoding is your best guess&quot; you seem to be advising that wanting to <i>change</i> the default is not such a good idea. Do you mean, use an explicit encoding wherever possible, using the supplied dafault when nothing else is possible?"},{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":1,"creation_date":1328882419,"post_id":361981,"comment_id":11622078,"body_markdown":"@Raedwald: yes, that&#39;s what I meant. The platform default encoding is (at least on an end user machine) what users in the locale the system is set to are typically using. That is information you should use if you have no better (i.e. document-specific) information.","body":"@Raedwald: yes, that&#39;s what I meant. The platform default encoding is (at least on an end user machine) what users in the locale the system is set to are typically using. That is information you should use if you have no better (i.e. document-specific) information."},{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":1,"creation_date":1387203885,"post_id":361981,"comment_id":30846879,"body_markdown":"@MichaelBorgwardt Nonsense. Use a library to auto-detect the input encoding, and save as Unicode with BOM. That is the only way to deal with and fight encoding hell.","body":"@MichaelBorgwardt Nonsense. Use a library to auto-detect the input encoding, and save as Unicode with BOM. That is the only way to deal with and fight encoding hell."},{"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1453376221,"post_id":361981,"comment_id":57579010,"body_markdown":"I think you two are not in the same page. Michael talks about decoding while Raedwald you talk about processing after decoding.","body":"I think you two are not in the same page. Michael talks about decoding while Raedwald you talk about processing after decoding."}],"tags":[],"owner":{"account_id":13446,"reputation":44828,"user_id":27020,"accept_rate":100,"display_name":"Marc Novakowski"},"comment_count":5,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1229060164,"creation_date":1229060164,"answer_id":361981,"question_id":361975,"body_markdown":"I can&#39;t answer your original question but I would like to offer you some advice -- don&#39;t depend on the JVM&#39;s default encoding.  It&#39;s always best to explicitly specify the desired encoding (i.e. &quot;UTF-8&quot;) in your code.  That way, you know it will work even across different systems and JVM configurations.","title":"Setting the default Java character encoding","body":"<p>I can't answer your original question but I would like to offer you some advice -- don't depend on the JVM's default encoding.  It's always best to explicitly specify the desired encoding (i.e. \"UTF-8\") in your code.  That way, you know it will work even across different systems and JVM configurations.</p>\n"},{"comments":[{"owner":{"account_id":6354435,"reputation":71,"user_id":4932293,"display_name":"booFar"},"score":0,"creation_date":1696325064,"post_id":361984,"comment_id":136135248,"body_markdown":"Yes. The default encoding is there solely to mirror the locale set in the underlying operating system, noone should change that. ALWAYS specify the encoding if you don&#39;t want to use the one resulting from the system locale.","body":"Yes. The default encoding is there solely to mirror the locale set in the underlying operating system, noone should change that. ALWAYS specify the encoding if you don&#39;t want to use the one resulting from the system locale."}],"tags":[],"owner":{"account_id":13054,"reputation":2642,"user_id":26010,"display_name":"Dov Wasserman"},"comment_count":1,"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1490883310,"creation_date":1229060389,"answer_id":361984,"question_id":361975,"body_markdown":"I think a better approach than setting the platform&#39;s default character set, especially as you seem to have restrictions on affecting the application deployment, let alone the platform, is to call the much safer `String.getBytes(&quot;charsetName&quot;)`. That way your application is not dependent on things beyond its control.\r\n\r\nI personally feel that `String.getBytes()` should be deprecated, as it has caused serious problems in a number of cases I have seen, where the developer did not account for the default charset possibly changing.","title":"Setting the default Java character encoding","body":"<p>I think a better approach than setting the platform's default character set, especially as you seem to have restrictions on affecting the application deployment, let alone the platform, is to call the much safer <code>String.getBytes(\"charsetName\")</code>. That way your application is not dependent on things beyond its control.</p>\n\n<p>I personally feel that <code>String.getBytes()</code> should be deprecated, as it has caused serious problems in a number of cases I have seen, where the developer did not account for the default charset possibly changing.</p>\n"},{"comments":[{"owner":{"account_id":107907,"reputation":40512,"user_id":286685,"accept_rate":56,"display_name":"Stijn de Witt"},"score":12,"creation_date":1299845508,"post_id":362006,"comment_id":5940176,"body_markdown":"For completeness I would like to add that with a bit of trickery you can get to the actually used default encoding (as is cached), thanks to Gary Cronin: byte [] byteArray = {&#39;a&#39;};\n\n    InputStream inputStream = new ByteArrayInputStream(byteArray);\n    InputStreamReader reader = new InputStreamReader(inputStream);\n    String defaultEncoding = reader.getEncoding(); http://lists.xcf.berkeley.edu/lists/advanced-java/1999-October/001995.html","body":"For completeness I would like to add that with a bit of trickery you can get to the actually used default encoding (as is cached), thanks to Gary Cronin: byte [] byteArray = {&#39;a&#39;};      InputStream inputStream = new ByteArrayInputStream(byteArray);     InputStreamReader reader = new InputStreamReader(inputStream);     String defaultEncoding = reader.getEncoding(); <a href=\"http://lists.xcf.berkeley.edu/lists/advanced-java/1999-October/001995.html\" rel=\"nofollow noreferrer\">lists.xcf.berkeley.edu/lists/advanced-java/1999-October/&hellip;</a>"},{"owner":{"account_id":212602,"reputation":7249,"user_id":775982,"accept_rate":100,"display_name":"Caspar"},"score":2,"creation_date":1409112008,"post_id":362006,"comment_id":39838251,"body_markdown":"[JDK-4163515](http://bugs.java.com/view_bug.do?bug_id=4163515) has some more info on setting the `file.encoding` sysprop after JVM startup.","body":"<a href=\"http://bugs.java.com/view_bug.do?bug_id=4163515\" rel=\"nofollow noreferrer\">JDK-4163515</a> has some more info on setting the <code>file.encoding</code> sysprop after JVM startup."},{"owner":{"account_id":330384,"reputation":1345,"user_id":654471,"display_name":"cabaji99"},"score":4,"creation_date":1506094546,"post_id":362006,"comment_id":79696302,"body_markdown":"I was scratching my head cause that command was not working on Windows, linux and mac perfectly... then i put &quot; around the value like this:  java -D&quot;file.encoding=UTF-8&quot; -jar","body":"I was scratching my head cause that command was not working on Windows, linux and mac perfectly... then i put &quot; around the value like this:  java -D&quot;file.encoding=UTF-8&quot; -jar"},{"owner":{"account_id":962021,"reputation":11902,"user_id":986160,"accept_rate":83,"display_name":"Michail Michailidis"},"score":0,"creation_date":1519405468,"post_id":362006,"comment_id":84912488,"body_markdown":"check my answer in case of Java Spring Boot: https://stackoverflow.com/a/48952844/986160","body":"check my answer in case of Java Spring Boot: <a href=\"https://stackoverflow.com/a/48952844/986160\">stackoverflow.com/a/48952844/986160</a>"}],"tags":[],"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"comment_count":4,"down_vote_count":1,"up_vote_count":361,"is_accepted":true,"score":360,"last_activity_date":1370360709,"creation_date":1229061385,"answer_id":362006,"question_id":361975,"body_markdown":"Unfortunately, the `file.encoding` property has to be specified as the JVM starts up; by the time your main method is entered, the character encoding used by `String.getBytes()` and the default constructors of `InputStreamReader` and `OutputStreamWriter` has been permanently cached.\r\n\r\nAs [Edward Grech points out,][1] in a special case like this, the environment variable `JAVA_TOOL_OPTIONS` *can* be used to specify this property, but it&#39;s normally done like this:\r\n\r\n    java -Dfile.encoding=UTF-8  com.x.Main\r\n\r\n`Charset.defaultCharset()` will reflect changes to the `file.encoding` property, but most of the code in the core Java libraries that need to determine the default character encoding do not use this mechanism.\r\n\r\nWhen you are encoding or decoding, you can query the `file.encoding` property or `Charset.defaultCharset()` to find the current default encoding, and use the appropriate method or constructor overload to specify it.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/623036/3474","title":"Setting the default Java character encoding","body":"<p>Unfortunately, the <code>file.encoding</code> property has to be specified as the JVM starts up; by the time your main method is entered, the character encoding used by <code>String.getBytes()</code> and the default constructors of <code>InputStreamReader</code> and <code>OutputStreamWriter</code> has been permanently cached.</p>\n\n<p>As <a href=\"https://stackoverflow.com/a/623036/3474\">Edward Grech points out,</a> in a special case like this, the environment variable <code>JAVA_TOOL_OPTIONS</code> <em>can</em> be used to specify this property, but it's normally done like this:</p>\n\n<pre><code>java -Dfile.encoding=UTF-8  com.x.Main\n</code></pre>\n\n<p><code>Charset.defaultCharset()</code> will reflect changes to the <code>file.encoding</code> property, but most of the code in the core Java libraries that need to determine the default character encoding do not use this mechanism.</p>\n\n<p>When you are encoding or decoding, you can query the <code>file.encoding</code> property or <code>Charset.defaultCharset()</code> to find the current default encoding, and use the appropriate method or constructor overload to specify it.</p>\n"},{"comments":[{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":6,"creation_date":1230178771,"post_id":370421,"comment_id":219574,"body_markdown":"DataInputStream and DataOutputStream are special-purpose classes that should never be used with plain text files. The modified UTF-8 they employ is not compatible with real UTF-8.  Besides, if the OP could use your solution, he could also use the right tool for this job: an OutputStreamWriter.","body":"DataInputStream and DataOutputStream are special-purpose classes that should never be used with plain text files. The modified UTF-8 they employ is not compatible with real UTF-8.  Besides, if the OP could use your solution, he could also use the right tool for this job: an OutputStreamWriter."}],"tags":[],"owner":{"account_id":13054,"reputation":2642,"user_id":26010,"display_name":"Dov Wasserman"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1229399972,"creation_date":1229399972,"answer_id":370421,"question_id":361975,"body_markdown":"Not clear on what you do and don&#39;t have control over at this point. If you can interpose a different OutputStream class on the destination file, you could use a subtype of OutputStream which converts Strings to bytes under a charset you define, say UTF-8 by default. If modified UTF-8 is suffcient for your needs, you can use `DataOutputStream.writeUTF(String)`:\r\n\r\n    byte inbytes[] = new byte[1024];\r\n    FileInputStream fis = new FileInputStream(&quot;response.txt&quot;);\r\n    fis.read(inbytes);\r\n    String in = new String(inbytes, &quot;UTF8&quot;);\r\n    DataOutputStream out = new DataOutputStream(new FileOutputStream(&quot;response-2.txt&quot;));\r\n    out.writeUTF(in); // no getBytes() here\r\n\r\n\r\nIf this approach is not feasible, it may help if you clarify here exactly what you can and can&#39;t control in terms of data flow and execution environment (though I know that&#39;s sometimes easier said than determined). Good luck.","title":"Setting the default Java character encoding","body":"<p>Not clear on what you do and don't have control over at this point. If you can interpose a different OutputStream class on the destination file, you could use a subtype of OutputStream which converts Strings to bytes under a charset you define, say UTF-8 by default. If modified UTF-8 is suffcient for your needs, you can use <code>DataOutputStream.writeUTF(String)</code>:</p>\n\n<pre><code>byte inbytes[] = new byte[1024];\nFileInputStream fis = new FileInputStream(\"response.txt\");\nfis.read(inbytes);\nString in = new String(inbytes, \"UTF8\");\nDataOutputStream out = new DataOutputStream(new FileOutputStream(\"response-2.txt\"));\nout.writeUTF(in); // no getBytes() here\n</code></pre>\n\n<p>If this approach is not feasible, it may help if you clarify here exactly what you can and can't control in terms of data flow and execution environment (though I know that's sometimes easier said than determined). Good luck.</p>\n"},{"comments":[{"owner":{"account_id":435234,"reputation":8791,"user_id":821722,"accept_rate":86,"display_name":"thatidiotguy"},"score":0,"creation_date":1345039151,"post_id":623036,"comment_id":15955600,"body_markdown":"Do you know that &quot;Picked up...&quot; statement would be printed in Tomcat logs?","body":"Do you know that &quot;Picked up...&quot; statement would be printed in Tomcat logs?"},{"owner":{"account_id":2197692,"reputation":2635,"user_id":1942956,"accept_rate":65,"display_name":"Smaug"},"score":1,"creation_date":1360646509,"post_id":623036,"comment_id":20771345,"body_markdown":"Hi Edward Grech I thank you for your solution. It was resolved my problmem in another forum post. http://stackoverflow.com/questions/14814230/the-arabic-input-parameter-passed-as-like-a-junk-input-jasper/14825894#14825894","body":"Hi Edward Grech I thank you for your solution. It was resolved my problmem in another forum post. <a href=\"http://stackoverflow.com/questions/14814230/the-arabic-input-parameter-passed-as-like-a-junk-input-jasper/14825894#14825894\" title=\"the arabic input parameter passed as like a junk input jasper\">stackoverflow.com/questions/14814230/&hellip;</a>"},{"owner":{"account_id":3319967,"reputation":1644,"user_id":2791390,"display_name":"DLight"},"score":1,"creation_date":1460551044,"post_id":623036,"comment_id":60794106,"body_markdown":"@Tiny Java understands both. http://stackoverflow.com/questions/6031877/jvm-property-dfile-encoding-utf8-or-utf-8","body":"@Tiny Java understands both. <a href=\"http://stackoverflow.com/questions/6031877/jvm-property-dfile-encoding-utf8-or-utf-8\" title=\"jvm property dfile encoding utf8 or utf 8\">stackoverflow.com/questions/6031877/&hellip;</a>"}],"tags":[],"owner":{"account_id":28220,"reputation":2240,"user_id":75183,"display_name":"dwardu"},"comment_count":3,"down_vote_count":0,"up_vote_count":191,"is_accepted":false,"score":191,"last_activity_date":1236487597,"creation_date":1236486710,"answer_id":623036,"question_id":361975,"body_markdown":"From the [JVM Tool Interface][1] documentation\r\n&gt; Since the command-line cannot always be accessed or modified, for example in embedded VMs or simply VMs launched deep within scripts, a `JAVA_TOOL_OPTIONS` variable is provided so that agents may be launched in these cases.\r\n\r\nBy setting the (Windows) environment variable `JAVA_TOOL_OPTIONS` to `-Dfile.encoding=UTF8`, the (Java) `System` property will be set automatically every time a JVM is started. You will know that the parameter has been picked up because the following message will be posted to `System.err`:\r\n&gt;`Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF8`\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/platform/jvmti/jvmti.html#tooloptions","title":"Setting the default Java character encoding","body":"<p>From the <a href=\"http://java.sun.com/javase/6/docs/platform/jvmti/jvmti.html#tooloptions\" rel=\"noreferrer\">JVM Tool Interface</a> documentation</p>\n\n<blockquote>\n  <p>Since the command-line cannot always be accessed or modified, for example in embedded VMs or simply VMs launched deep within scripts, a <code>JAVA_TOOL_OPTIONS</code> variable is provided so that agents may be launched in these cases.</p>\n</blockquote>\n\n<p>By setting the (Windows) environment variable <code>JAVA_TOOL_OPTIONS</code> to <code>-Dfile.encoding=UTF8</code>, the (Java) <code>System</code> property will be set automatically every time a JVM is started. You will know that the parameter has been picked up because the following message will be posted to <code>System.err</code>:</p>\n\n<blockquote>\n  <p><code>Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF8</code></p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":8,"creation_date":1345454989,"post_id":8932021,"comment_id":16064676,"body_markdown":"The client.encoding.override property seems to be WebSphere specific.","body":"The client.encoding.override property seems to be WebSphere specific."}],"tags":[],"owner":{"account_id":120090,"reputation":69,"user_id":312292,"display_name":"lizi"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1327001020,"creation_date":1327001020,"answer_id":8932021,"question_id":361975,"body_markdown":"We set there two system properties together and it makes the system take everything into utf8\r\n\r\n    file.encoding=UTF8\r\n    client.encoding.overrideUTF-8\r\n","title":"Setting the default Java character encoding","body":"<p>We set there two system properties together and it makes the system take everything into utf8</p>\n\n<pre><code>file.encoding=UTF8\nclient.encoding.overrideUTF-8\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1187533,"reputation":361,"user_id":1161197,"display_name":"Emmanuel.B"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1700840698,"creation_date":1327082982,"answer_id":8945913,"question_id":361975,"body_markdown":"Try this:\r\n\r\n    new OutputStreamWriter(new FileOutputStream(&quot;Your_file_fullpath&quot; ),Charset.forName(&quot;UTF8&quot;))","title":"Setting the default Java character encoding","body":"<p>Try this:</p>\n<pre><code>new OutputStreamWriter(new FileOutputStream(&quot;Your_file_fullpath&quot; ),Charset.forName(&quot;UTF8&quot;))\n</code></pre>\n"},{"comments":[{"owner":{"account_id":404755,"reputation":5181,"user_id":773259,"display_name":"SparK"},"score":3,"creation_date":1363204607,"post_id":14987992,"comment_id":21762623,"body_markdown":"NoSuchFieldException for me","body":"NoSuchFieldException for me"},{"owner":{"account_id":239325,"reputation":2541,"user_id":508837,"accept_rate":75,"display_name":"Yonatan"},"score":12,"creation_date":1377364817,"post_id":14987992,"comment_id":27062076,"body_markdown":"For the hack to work, you need to assume the security manager is off. If you don&#39;t have a way to set a JVM flag, you might (probably) have a security manager enabled system as well.","body":"For the hack to work, you need to assume the security manager is off. If you don&#39;t have a way to set a JVM flag, you might (probably) have a security manager enabled system as well."},{"owner":{"account_id":4746297,"reputation":505,"user_id":3837571,"accept_rate":50,"display_name":"Krish Nakum R"},"score":0,"creation_date":1475668250,"post_id":14987992,"comment_id":67032941,"body_markdown":"Though i haven&#39;t understood what it is, it works fine for me! Thanks.\nHope it doesn&#39;t create any new issues to my app. Cheers!","body":"Though i haven&#39;t understood what it is, it works fine for me! Thanks. Hope it doesn&#39;t create any new issues to my app. Cheers!"},{"owner":{"account_id":507167,"reputation":133,"user_id":924071,"display_name":"Fish Biscuit"},"score":0,"creation_date":1492529057,"post_id":14987992,"comment_id":74007683,"body_markdown":"This worked for me, but the underlying issue was the ssh connections to spin up or jars had its LC_* set wrong (in the profile).","body":"This worked for me, but the underlying issue was the ssh connections to spin up or jars had its LC_* set wrong (in the profile)."},{"owner":{"account_id":1387596,"reputation":1302,"user_id":1319253,"accept_rate":94,"display_name":"dotwin"},"score":8,"creation_date":1515945942,"post_id":14987992,"comment_id":83485298,"body_markdown":"JDK9 does *not* approve of this hack anymore. `WARNING: An illegal reflective access operation has occurred  WARNING: Illegal reflective access by [..]  WARNING: Please consider reporting this to the maintainers of [..]  WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations  WARNING: All illegal access operations will be denied in a future release`","body":"JDK9 does <i>not</i> approve of this hack anymore. <code>WARNING: An illegal reflective access operation has occurred  WARNING: Illegal reflective access by [..]  WARNING: Please consider reporting this to the maintainers of [..]  WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations  WARNING: All illegal access operations will be denied in a future release</code>"},{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":2,"creation_date":1520446828,"post_id":14987992,"comment_id":85322452,"body_markdown":"@Enerccio: That&#39;s not a good answer, that&#39;s a dirty hack, and a problem waiting to happen. That should only be used as an emergency measure.","body":"@Enerccio: That&#39;s not a good answer, that&#39;s a dirty hack, and a problem waiting to happen. That should only be used as an emergency measure."},{"owner":{"account_id":3453445,"reputation":240,"user_id":2892515,"accept_rate":93,"display_name":"Enerccio"},"score":0,"creation_date":1520511866,"post_id":14987992,"comment_id":85350918,"body_markdown":"@sleske problem is that java should have a way to override this but alas they don&#39;t, so this is a good answer because it is the ONLY answer","body":"@sleske problem is that java should have a way to override this but alas they don&#39;t, so this is a good answer because it is the ONLY answer"},{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":1,"creation_date":1520514627,"post_id":14987992,"comment_id":85352709,"body_markdown":"@Enerccio: It&#39;s arguable whether Java &quot;should&quot; have a way to set this - one could also argue that developers &quot;should&quot; explicitly specify encoding whenever it&#39;s relevant. At any rate, this solution has the potential to cause serious trouble in the longer run, hence the &quot;for emergency use only&quot; caveat. Actually, even emergency use is questionable, because there _is_ a supported way of doing it, setting JAVA_TOOL_OPTIONS as explained in another answer.","body":"@Enerccio: It&#39;s arguable whether Java &quot;should&quot; have a way to set this - one could also argue that developers &quot;should&quot; explicitly specify encoding whenever it&#39;s relevant. At any rate, this solution has the potential to cause serious trouble in the longer run, hence the &quot;for emergency use only&quot; caveat. Actually, even emergency use is questionable, because there <i>is</i> a supported way of doing it, setting JAVA_TOOL_OPTIONS as explained in another answer."},{"owner":{"account_id":3453445,"reputation":240,"user_id":2892515,"accept_rate":93,"display_name":"Enerccio"},"score":0,"creation_date":1520690150,"post_id":14987992,"comment_id":85424192,"body_markdown":"@sleske all other solutions can&#39;t change during the runtime... and if you have library that uses default encoding and you might not have sources and you must use that library, this is only working solution...","body":"@sleske all other solutions can&#39;t change during the runtime... and if you have library that uses default encoding and you might not have sources and you must use that library, this is only working solution..."},{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":0,"creation_date":1520803877,"post_id":14987992,"comment_id":85454251,"body_markdown":"@Enerccio: If this solution works, using JAVA_TOOL_OPTIONS should work too, and is actually a supported solution.","body":"@Enerccio: If this solution works, using JAVA_TOOL_OPTIONS should work too, and is actually a supported solution."},{"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"score":0,"creation_date":1525545674,"post_id":14987992,"comment_id":87402701,"body_markdown":"For me, just setting the system property helped fix my encoding problem where the IDE used `UTF-8` and the `JAR` file the default system encoding which bugged my resource bundle strings.","body":"For me, just setting the system property helped fix my encoding problem where the IDE used <code>UTF-8</code> and the <code>JAR</code> file the default system encoding which bugged my resource bundle strings."},{"owner":{"account_id":30741,"reputation":15343,"user_id":83952,"accept_rate":87,"display_name":"Cheung"},"score":0,"creation_date":1591861710,"post_id":14987992,"comment_id":110217759,"body_markdown":"I confirm this work on JRE 1.8 and chinese windows 10!","body":"I confirm this work on JRE 1.8 and chinese windows 10!"}],"tags":[],"owner":{"account_id":1443172,"reputation":925,"user_id":2092680,"display_name":"naskoos"},"comment_count":12,"down_vote_count":3,"up_vote_count":83,"is_accepted":false,"score":80,"last_activity_date":1363947417,"creation_date":1361387344,"answer_id":14987992,"question_id":361975,"body_markdown":"I have a hacky way that definitely works!!\r\n\r\n    System.setProperty(&quot;file.encoding&quot;,&quot;UTF-8&quot;);\r\n    Field charset = Charset.class.getDeclaredField(&quot;defaultCharset&quot;);\r\n    charset.setAccessible(true);\r\n    charset.set(null,null);\r\n\r\nThis way you are going to trick JVM which would think that charset is not set and make it to set it again to UTF-8, on runtime!","title":"Setting the default Java character encoding","body":"<p>I have a hacky way that definitely works!!</p>\n\n<pre><code>System.setProperty(\"file.encoding\",\"UTF-8\");\nField charset = Charset.class.getDeclaredField(\"defaultCharset\");\ncharset.setAccessible(true);\ncharset.set(null,null);\n</code></pre>\n\n<p>This way you are going to trick JVM which would think that charset is not set and make it to set it again to UTF-8, on runtime!</p>\n"},{"tags":[],"owner":{"account_id":3829710,"reputation":71,"user_id":3175616,"display_name":"D Bright"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1562078954,"creation_date":1389228388,"answer_id":21009671,"question_id":361975,"body_markdown":"We were having the same issues.  We methodically tried several suggestions from this article (and others) to no avail.  We also tried adding the `-Dfile.encoding=UTF8` and nothing seemed to be working.  \r\n\r\nFor people that are having this issue, the following article finally helped us track down describes how the locale setting can break `unicode/UTF-8` in `Java/Tomcat`\r\n\r\nhttp://www.jvmhost.com/articles/locale-breaks-unicode-utf-8-java-tomcat\r\n\r\nSetting the locale correctly in the `~/.bashrc` file worked for us.","title":"Setting the default Java character encoding","body":"<p>We were having the same issues.  We methodically tried several suggestions from this article (and others) to no avail.  We also tried adding the <code>-Dfile.encoding=UTF8</code> and nothing seemed to be working.  </p>\n\n<p>For people that are having this issue, the following article finally helped us track down describes how the locale setting can break <code>unicode/UTF-8</code> in <code>Java/Tomcat</code></p>\n\n<p><a href=\"http://www.jvmhost.com/articles/locale-breaks-unicode-utf-8-java-tomcat\" rel=\"nofollow noreferrer\">http://www.jvmhost.com/articles/locale-breaks-unicode-utf-8-java-tomcat</a></p>\n\n<p>Setting the locale correctly in the <code>~/.bashrc</code> file worked for us.</p>\n"},{"tags":[],"owner":{"account_id":1816021,"reputation":1378,"user_id":1651085,"accept_rate":70,"display_name":"Lavixu"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1451837757,"creation_date":1404379984,"answer_id":24550034,"question_id":361975,"body_markdown":"I have tried a lot of things, but the sample code here works perfect.\r\n[Link][1]\r\n\r\nThe crux of the code is:\r\n\r\n    String s = &quot;    &quot;;\r\n    String out = new String(s.getBytes(&quot;UTF-8&quot;), &quot;ISO-8859-1&quot;);\r\n\r\n\r\n  [1]: http://fabioangelini.wordpress.com/2011/08/04/converting-java-string-fromto-utf-8/","title":"Setting the default Java character encoding","body":"<p>I have tried a lot of things, but the sample code here works perfect.\n<a href=\"http://fabioangelini.wordpress.com/2011/08/04/converting-java-string-fromto-utf-8/\" rel=\"noreferrer\">Link</a></p>\n\n<p>The crux of the code is:</p>\n\n<pre><code>String s = \"    \";\nString out = new String(s.getBytes(\"UTF-8\"), \"ISO-8859-1\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507218032,"creation_date":1507218032,"answer_id":46589701,"question_id":361975,"body_markdown":"Following @Caspar comment on accepted answer, the preferred way to fix this according to Sun is :\r\n\r\n&quot;change the locale of the underlying platform before starting your Java program.&quot;\r\n\r\nhttp://bugs.java.com/view_bug.do?bug_id=4163515\r\n\r\nFor docker see:\r\n\r\nhttp://jaredmarkell.com/docker-and-locales/","title":"Setting the default Java character encoding","body":"<p>Following @Caspar comment on accepted answer, the preferred way to fix this according to Sun is :</p>\n\n<p>\"change the locale of the underlying platform before starting your Java program.\"</p>\n\n<p><a href=\"http://bugs.java.com/view_bug.do?bug_id=4163515\" rel=\"nofollow noreferrer\">http://bugs.java.com/view_bug.do?bug_id=4163515</a></p>\n\n<p>For docker see:</p>\n\n<p><a href=\"http://jaredmarkell.com/docker-and-locales/\" rel=\"nofollow noreferrer\">http://jaredmarkell.com/docker-and-locales/</a></p>\n"},{"tags":[],"owner":{"account_id":11994794,"reputation":1,"user_id":8776712,"display_name":"midmaestro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508001287,"creation_date":1508001287,"answer_id":46747257,"question_id":361975,"body_markdown":"Recently I bumped into a local company&#39;s Notes 6.5 system and found out the webmail would show unidentifiable characters on a non-Zhongwen localed Windows installation. Have dug for several weeks online, figured it out just few minutes ago:\r\n\r\nIn Java properties, add the following string to Runtime Parameters\r\n\r\n    -Dfile.encoding=MS950 -Duser.language=zh -Duser.country=TW -Dsun.jnu.encoding=MS950\r\n\r\nUTF-8 setting would not work in this case.","title":"Setting the default Java character encoding","body":"<p>Recently I bumped into a local company's Notes 6.5 system and found out the webmail would show unidentifiable characters on a non-Zhongwen localed Windows installation. Have dug for several weeks online, figured it out just few minutes ago:</p>\n\n<p>In Java properties, add the following string to Runtime Parameters</p>\n\n<pre><code>-Dfile.encoding=MS950 -Duser.language=zh -Duser.country=TW -Dsun.jnu.encoding=MS950\n</code></pre>\n\n<p>UTF-8 setting would not work in this case.</p>\n"},{"tags":[],"owner":{"account_id":962021,"reputation":11902,"user_id":986160,"accept_rate":83,"display_name":"Michail Michailidis"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1519405313,"creation_date":1519405313,"answer_id":48952844,"question_id":361975,"body_markdown":"In case you are using Spring Boot and want to pass the argument `file.encoding` in JVM you have to run it like that:\r\n\r\n    mvn spring-boot:run -Drun.jvmArguments=&quot;-Dfile.encoding=UTF-8&quot;\r\n\r\nthis was needed for us since we were using `JTwig` templates and the operating system had `ANSI_X3.4-1968` that we found out through `System.out.println(System.getProperty(&quot;file.encoding&quot;));`\r\n\r\nHope this helps someone!\r\n\r\n\r\n\r\n\r\n","title":"Setting the default Java character encoding","body":"<p>In case you are using Spring Boot and want to pass the argument <code>file.encoding</code> in JVM you have to run it like that:</p>\n\n<pre><code>mvn spring-boot:run -Drun.jvmArguments=\"-Dfile.encoding=UTF-8\"\n</code></pre>\n\n<p>this was needed for us since we were using <code>JTwig</code> templates and the operating system had <code>ANSI_X3.4-1968</code> that we found out through <code>System.out.println(System.getProperty(\"file.encoding\"));</code></p>\n\n<p>Hope this helps someone!</p>\n"},{"tags":[],"owner":{"account_id":13078841,"reputation":549,"user_id":9449998,"display_name":"prabushi samarakoon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1520324908,"creation_date":1520324908,"answer_id":49126338,"question_id":361975,"body_markdown":"    mvn clean install -Dfile.encoding=UTF-8 -Dmaven.repo.local=/path-to-m2\r\n\r\ncommand worked with exec-maven-plugin to resolve following error while configuring a jenkins task.\r\n\r\n    Java HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=512m; support was removed in 8.0\r\n    Error occurred during initialization of VM\r\n    java.nio.charset.IllegalCharsetNameException: &quot;UTF-8&quot;\r\n    \tat java.nio.charset.Charset.checkName(Charset.java:315)\r\n    \tat java.nio.charset.Charset.lookup2(Charset.java:484)\r\n    \tat java.nio.charset.Charset.lookup(Charset.java:464)\r\n    \tat java.nio.charset.Charset.defaultCharset(Charset.java:609)\r\n    \tat sun.nio.cs.StreamEncoder.forOutputStreamWriter(StreamEncoder.java:56)\r\n    \tat java.io.OutputStreamWriter.&lt;init&gt;(OutputStreamWriter.java:111)\r\n    \tat java.io.PrintStream.&lt;init&gt;(PrintStream.java:104)\r\n    \tat java.io.PrintStream.&lt;init&gt;(PrintStream.java:151)\r\n    \tat java.lang.System.newPrintStream(System.java:1148)\r\n    \tat java.lang.System.initializeSystemClass(System.java:1192)","title":"Setting the default Java character encoding","body":"<pre><code>mvn clean install -Dfile.encoding=UTF-8 -Dmaven.repo.local=/path-to-m2\n</code></pre>\n\n<p>command worked with exec-maven-plugin to resolve following error while configuring a jenkins task.</p>\n\n<pre><code>Java HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=512m; support was removed in 8.0\nError occurred during initialization of VM\njava.nio.charset.IllegalCharsetNameException: \"UTF-8\"\n    at java.nio.charset.Charset.checkName(Charset.java:315)\n    at java.nio.charset.Charset.lookup2(Charset.java:484)\n    at java.nio.charset.Charset.lookup(Charset.java:464)\n    at java.nio.charset.Charset.defaultCharset(Charset.java:609)\n    at sun.nio.cs.StreamEncoder.forOutputStreamWriter(StreamEncoder.java:56)\n    at java.io.OutputStreamWriter.&lt;init&gt;(OutputStreamWriter.java:111)\n    at java.io.PrintStream.&lt;init&gt;(PrintStream.java:104)\n    at java.io.PrintStream.&lt;init&gt;(PrintStream.java:151)\n    at java.lang.System.newPrintStream(System.java:1148)\n    at java.lang.System.initializeSystemClass(System.java:1192)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4696099,"reputation":33,"user_id":6624712,"display_name":"Berend Menninga"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1524560343,"creation_date":1524560343,"answer_id":49997441,"question_id":361975,"body_markdown":"I&#39;m using Amazon (AWS) Elastic Beanstalk and successfully changed it to UTF-8. \r\n\r\nIn Elastic Beanstalk, go to Configuration &gt; Software, &quot;Environment properties&quot;.\r\nAdd (name) JAVA_TOOL_OPTIONS with (value) -Dfile.encoding=UTF8\r\n\r\nAfter saving, the environment will restart with the UTF-8 encoding.","title":"Setting the default Java character encoding","body":"<p>I'm using Amazon (AWS) Elastic Beanstalk and successfully changed it to UTF-8. </p>\n\n<p>In Elastic Beanstalk, go to Configuration > Software, \"Environment properties\".\nAdd (name) JAVA_TOOL_OPTIONS with (value) -Dfile.encoding=UTF8</p>\n\n<p>After saving, the environment will restart with the UTF-8 encoding.</p>\n"},{"tags":[],"owner":{"account_id":9153514,"reputation":425,"user_id":6807182,"display_name":"JacobTheKnitter"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1562158694,"creation_date":1562158694,"answer_id":56870696,"question_id":361975,"body_markdown":"My team encountered the same issue in machines with Windows.. then managed to resolve it in two ways:\n\n a) Set enviroment variable (even in Windows system preferences)\n\nJAVA_TOOL_OPTIONS &lt;br&gt;\n-Dfile.encoding=UTF8 \n\n  b) Introduce following snippet to your pom.xml: \n\n   \n\n     -Dfile.encoding=UTF-8 \n\n\nWITHIN \n\n     &lt;jvmArguments&gt;\n     -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=8001\n     -Dfile.encoding=UTF-8\n     &lt;/jvmArguments&gt;","title":"Setting the default Java character encoding","body":"<p>My team encountered the same issue in machines with Windows.. then managed to resolve it in two ways:</p>\n<p>a) Set enviroment variable (even in Windows system preferences)</p>\n<p>JAVA_TOOL_OPTIONS <br>\n-Dfile.encoding=UTF8</p>\n<p>b) Introduce following snippet to your pom.xml:</p>\n<pre><code> -Dfile.encoding=UTF-8 \n</code></pre>\n<p>WITHIN</p>\n<pre><code> &lt;jvmArguments&gt;\n -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=8001\n -Dfile.encoding=UTF-8\n &lt;/jvmArguments&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4675431,"reputation":330,"user_id":3785939,"display_name":"Febix"},"comment_count":0,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1596808330,"creation_date":1596808330,"answer_id":63303242,"question_id":361975,"body_markdown":"Solve this problem in my project. Hope it helps someone.\r\n\r\nI use LIBGDX java framework and also had this issue in my android studio project. \r\nIn Mac OS encoding is correct, but in Windows 10 special characters and symbols and \r\nalso russian characters show as questions like: ????? and other incorrect symbols.\r\n\r\n1. Change in android studio project settings:\r\n`File-&gt;Settings...-&gt;Editor-&gt; File Encodings` to UTF-8 in all three fields (Global Encoding, Project Encoding and Default below).\r\n\r\n2. In any java file set:\r\n\r\n    `System.setProperty(&quot;file.encoding&quot;,&quot;UTF-8&quot;);`\r\n\r\n3. And for test print debug log:\r\n\r\n    `System.out.println(&quot;My project encoding is : &quot;+ Charset.defaultCharset());`","title":"Setting the default Java character encoding","body":"<p>Solve this problem in my project. Hope it helps someone.</p>\n<p>I use LIBGDX java framework and also had this issue in my android studio project.\nIn Mac OS encoding is correct, but in Windows 10 special characters and symbols and\nalso russian characters show as questions like: ????? and other incorrect symbols.</p>\n<ol>\n<li><p>Change in android studio project settings:\n<code>File-&gt;Settings...-&gt;Editor-&gt; File Encodings</code> to UTF-8 in all three fields (Global Encoding, Project Encoding and Default below).</p>\n</li>\n<li><p>In any java file set:</p>\n<p><code>System.setProperty(&quot;file.encoding&quot;,&quot;UTF-8&quot;);</code></p>\n</li>\n<li><p>And for test print debug log:</p>\n<p><code>System.out.println(&quot;My project encoding is : &quot;+ Charset.defaultCharset());</code></p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":15581436,"reputation":121,"user_id":11241086,"display_name":"theseventhsense"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636094209,"creation_date":1636094209,"answer_id":69849422,"question_id":361975,"body_markdown":"Setting up jvm arguments while starting application helped me resolve this issue. `java -Dfile.encoding=UTF-8 -Dsun.jnu.encoding=UTF-8`.\r\n\r\n`file.encoding=UTF-8` - This helps to have the Unicode characters in the file.\r\n\r\n`sun.jnu.encoding=UTF-8` - This helps to have the Unicode characters as the File name in the file system.","title":"Setting the default Java character encoding","body":"<p>Setting up jvm arguments while starting application helped me resolve this issue. <code>java -Dfile.encoding=UTF-8 -Dsun.jnu.encoding=UTF-8</code>.</p>\n<p><code>file.encoding=UTF-8</code> - This helps to have the Unicode characters in the file.</p>\n<p><code>sun.jnu.encoding=UTF-8</code> - This helps to have the Unicode characters as the File name in the file system.</p>\n"}],"owner":{"display_name":"Scott T"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":828576,"favorite_count":0,"down_vote_count":0,"up_vote_count":408,"accepted_answer_id":362006,"answer_count":18,"score":408,"last_activity_date":1700840698,"creation_date":1229059881,"question_id":361975,"body_markdown":"How do I properly set the default character encoding used by the JVM (1.5.x) programmatically?\r\n\r\nI have read that `-Dfile.encoding=whatever` used to be the way to go for older JVMs. I don&#39;t have that luxury for reasons I wont get into.\r\n\r\nI have tried:\r\n\r\n    System.setProperty(&quot;file.encoding&quot;, &quot;UTF-8&quot;);\r\n\r\nAnd the property gets set, but it doesn&#39;t seem to cause the final `getBytes` call below to use UTF8:\r\n\r\n    System.setProperty(&quot;file.encoding&quot;, &quot;UTF-8&quot;);\r\n\r\n    byte inbytes[] = new byte[1024];\r\n        \r\n    FileInputStream fis = new FileInputStream(&quot;response.txt&quot;);\r\n    fis.read(inbytes);\r\n    FileOutputStream fos = new FileOutputStream(&quot;response-2.txt&quot;);\r\n    String in = new String(inbytes, &quot;UTF8&quot;);\r\n    fos.write(in.getBytes());","title":"Setting the default Java character encoding","body":"<p>How do I properly set the default character encoding used by the JVM (1.5.x) programmatically?</p>\n\n<p>I have read that <code>-Dfile.encoding=whatever</code> used to be the way to go for older JVMs. I don't have that luxury for reasons I wont get into.</p>\n\n<p>I have tried:</p>\n\n<pre><code>System.setProperty(\"file.encoding\", \"UTF-8\");\n</code></pre>\n\n<p>And the property gets set, but it doesn't seem to cause the final <code>getBytes</code> call below to use UTF8:</p>\n\n<pre><code>System.setProperty(\"file.encoding\", \"UTF-8\");\n\nbyte inbytes[] = new byte[1024];\n\nFileInputStream fis = new FileInputStream(\"response.txt\");\nfis.read(inbytes);\nFileOutputStream fos = new FileOutputStream(\"response-2.txt\");\nString in = new String(inbytes, \"UTF8\");\nfos.write(in.getBytes());\n</code></pre>\n"},{"tags":["java","linux","spring","spring-boot"],"comments":[{"owner":{"display_name":"user180100"},"score":3,"creation_date":1396728059,"post_id":22886083,"comment_id":34923002,"body_markdown":"nohup/screen (dirty method), init/systemd/upstart (proper method)","body":"nohup/screen (dirty method), init/systemd/upstart (proper method)"},{"owner":{"account_id":50800,"reputation":1946,"user_id":151608,"accept_rate":71,"display_name":"Cleber Goncalves"},"score":0,"creation_date":1396729010,"post_id":22886083,"comment_id":34923361,"body_markdown":"@RC Yep, that much I know, like I mentioned, /sbin/init with a custom script in /etc/init.d, would do the job, but is it really the idea that everyone should build his own script to manage the daemon (start, stop, restart, status)? Feels like something is missing on that solution.","body":"@RC Yep, that much I know, like I mentioned, /sbin/init with a custom script in /etc/init.d, would do the job, but is it really the idea that everyone should build his own script to manage the daemon (start, stop, restart, status)? Feels like something is missing on that solution."},{"owner":{"display_name":"user180100"},"score":0,"creation_date":1396730667,"post_id":22886083,"comment_id":34923933,"body_markdown":"I you feel that something is missing in spring-boot (it&#39;s a really &quot;fresh&quot; project btw) just contact the team in charge and make an evolution proposal.","body":"I you feel that something is missing in spring-boot (it&#39;s a really &quot;fresh&quot; project btw) just contact the team in charge and make an evolution proposal."},{"owner":{"account_id":50800,"reputation":1946,"user_id":151608,"accept_rate":71,"display_name":"Cleber Goncalves"},"score":0,"creation_date":1396764853,"post_id":22886083,"comment_id":34931221,"body_markdown":"Well, if you generate a war archive you can use your distribution&#39;s version on Tomcat which will have a init script ready to use. On the other hand, if you use the executable jar approach, you have to come up with your own custom init script. Not sure if that is on boot&#39;s realm, but it is clearly missing, which is kind of weird, hence me asking in case I overlooked something. Will ping them.","body":"Well, if you generate a war archive you can use your distribution&#39;s version on Tomcat which will have a init script ready to use. On the other hand, if you use the executable jar approach, you have to come up with your own custom init script. Not sure if that is on boot&#39;s realm, but it is clearly missing, which is kind of weird, hence me asking in case I overlooked something. Will ping them."},{"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"score":1,"creation_date":1396765735,"post_id":22886083,"comment_id":34931430,"body_markdown":"See [here for existing discussion](https://github.com/spring-projects/spring-boot/issues/519) and ideas.","body":"See <a href=\"https://github.com/spring-projects/spring-boot/issues/519\" rel=\"nofollow noreferrer\">here for existing discussion</a> and ideas."},{"owner":{"account_id":532733,"reputation":14515,"user_id":1251350,"accept_rate":93,"display_name":"Faraj Farook"},"score":0,"creation_date":1424809822,"post_id":22886083,"comment_id":45700832,"body_markdown":"I use nohup for testing purposes.","body":"I use nohup for testing purposes."},{"owner":{"account_id":878622,"reputation":1007,"user_id":65406,"accept_rate":60,"display_name":"MD6380"},"score":0,"creation_date":1428963317,"post_id":22886083,"comment_id":47377253,"body_markdown":"Is deploying it as a jar recommended for a production environment, or is it better to create a war and deploy on a regular Tomcat container?","body":"Is deploying it as a jar recommended for a production environment, or is it better to create a war and deploy on a regular Tomcat container?"},{"owner":{"account_id":4928521,"reputation":348,"user_id":3969081,"display_name":"dgofactory"},"score":0,"creation_date":1435083989,"post_id":22886083,"comment_id":50048105,"body_markdown":"Just start a service as it was noted in other question.\n\n[Java As a service Linux][1] or the java wrapper [Java Service Wrapper]:[2]\n\n[2]:http://wrapper.tanukisoftware.com/doc/english/launch-nix.html\n  [1]: http://stackoverflow.com/questions/11203483/run-a-java-application-as-a-service-on-linux","body":"Just start a service as it was noted in other question.  [Java As a service Linux][1] or the java wrapper [Java Service Wrapper]:[2]  [2]:<a href=\"http://wrapper.tanukisoftware.com/doc/english/launch-nix.html\" rel=\"nofollow noreferrer\">wrapper.tanukisoftware.com/doc/english/launch-nix.html</a>   [1]: <a href=\"http://stackoverflow.com/questions/11203483/run-a-java-application-as-a-service-on-linux\" title=\"run a java application as a service on linux\">stackoverflow.com/questions/11203483/&hellip;</a>"},{"owner":{"account_id":435063,"reputation":4304,"user_id":821436,"accept_rate":79,"display_name":"Martin Schr&#246;der"},"score":0,"creation_date":1472473457,"post_id":22886083,"comment_id":65751303,"body_markdown":"See also [Spring Boot application as a Service](http://stackoverflow.com/a/23537896)","body":"See also <a href=\"http://stackoverflow.com/a/23537896\">Spring Boot application as a Service</a>"}],"answers":[{"tags":[],"owner":{"account_id":4286894,"reputation":111,"user_id":3504341,"display_name":"Scrayos"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1396816896,"creation_date":1396816896,"answer_id":22899758,"question_id":22886083,"body_markdown":"I start applications that I want to run persistently or at least semi-permanently via screen -dmS NAME /path/to/script. As far as I am informed this is the most elegant solution.","title":"How do I run a spring boot executable jar in a Production environment?","body":"<p>I start applications that I want to run persistently or at least semi-permanently via screen -dmS NAME /path/to/script. As far as I am informed this is the most elegant solution.</p>\n"},{"tags":[],"owner":{"account_id":3969371,"reputation":73,"user_id":3274340,"display_name":"spstorey"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1428497559,"creation_date":1428497559,"answer_id":29515190,"question_id":22886083,"body_markdown":"In a production environment you want your app to be started again on a machine restart etc, creating a /etc/init.d/ script and linking to the appropriate runlevel to start and stop it is the correct approach. Spring Boot will not extend to covering this as it is a operating system specific setup and the are tonnes of other options, do you want it running in a chroot jail, does it need to stop / start before some other software etc.","title":"How do I run a spring boot executable jar in a Production environment?","body":"<p>In a production environment you want your app to be started again on a machine restart etc, creating a /etc/init.d/ script and linking to the appropriate runlevel to start and stop it is the correct approach. Spring Boot will not extend to covering this as it is a operating system specific setup and the are tonnes of other options, do you want it running in a chroot jail, does it need to stop / start before some other software etc.</p>\n"},{"tags":[],"owner":{"account_id":2738653,"reputation":3819,"user_id":2360694,"accept_rate":67,"display_name":"Vinod Mohanan"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1430250775,"creation_date":1430250775,"answer_id":29928639,"question_id":22886083,"body_markdown":"My Spring boot application has two initializers. One for development and another for production. For development, I use the main method like this:\r\n\r\n    @SpringBootApplication\r\n    public class MyAppInitializer {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(MyAppInitializer .class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\nMy Initializer for production environment extends the **SpringBootServletInitializer** and looks like this:\r\n\r\n    @SpringBootApplication\r\n    public class MyAppInitializerServlet extends SpringBootServletInitializer{\r\n    \tprivate static final Logger log = Logger\r\n    \t\t\t.getLogger(SpringBootServletInitializer.class);\r\n    \t@Override\r\n    \tprotected SpringApplicationBuilder configure(\r\n    \t\t\tSpringApplicationBuilder builder) {\r\n    \t\tlog.trace(&quot;Initializing the application&quot;);\r\n    \t\treturn builder.sources(MyAppInitializerServlet .class);\r\n    \t}\r\n    \r\n    }\r\n\r\nI use gradle and my build.gradle file applies &#39;**WAR**&#39; plugin. When I run it in the development environment, I use **bootrun** task. Where as when I want to deploy it to production, I use **assemble** task to generate the WAR and deploy.\r\n\r\nI can run like a normal spring application in production without discounting the advantages provided by the inbuilt tomcat while developing. Hope this helps.","title":"How do I run a spring boot executable jar in a Production environment?","body":"<p>My Spring boot application has two initializers. One for development and another for production. For development, I use the main method like this:</p>\n\n<pre><code>@SpringBootApplication\npublic class MyAppInitializer {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MyAppInitializer .class, args);\n    }\n\n}\n</code></pre>\n\n<p>My Initializer for production environment extends the <strong>SpringBootServletInitializer</strong> and looks like this:</p>\n\n<pre><code>@SpringBootApplication\npublic class MyAppInitializerServlet extends SpringBootServletInitializer{\n    private static final Logger log = Logger\n            .getLogger(SpringBootServletInitializer.class);\n    @Override\n    protected SpringApplicationBuilder configure(\n            SpringApplicationBuilder builder) {\n        log.trace(\"Initializing the application\");\n        return builder.sources(MyAppInitializerServlet .class);\n    }\n\n}\n</code></pre>\n\n<p>I use gradle and my build.gradle file applies '<strong>WAR</strong>' plugin. When I run it in the development environment, I use <strong>bootrun</strong> task. Where as when I want to deploy it to production, I use <strong>assemble</strong> task to generate the WAR and deploy.</p>\n\n<p>I can run like a normal spring application in production without discounting the advantages provided by the inbuilt tomcat while developing. Hope this helps.</p>\n"},{"comments":[{"owner":{"account_id":222562,"reputation":11397,"user_id":481239,"accept_rate":95,"display_name":"Rohith Nandakumar"},"score":4,"creation_date":1488779592,"post_id":31654838,"comment_id":72365524,"body_markdown":"You might also need to do `$ chmod +x /etc/init.d/yourapp` to be able to start/stop/restart","body":"You might also need to do <code>$ chmod +x &#47;etc&#47;init.d&#47;yourapp</code> to be able to start/stop/restart"},{"owner":{"account_id":3710770,"reputation":946,"user_id":3790335,"display_name":"micaro"},"score":0,"creation_date":1558784332,"post_id":31654838,"comment_id":99219634,"body_markdown":"You always have to give your service user permissions to read and execute the jar file. You also have to configure the default Java for the server and Java environment variables to make things work.","body":"You always have to give your service user permissions to read and execute the jar file. You also have to configure the default Java for the server and Java environment variables to make things work."},{"owner":{"account_id":5857874,"reputation":976,"user_id":4614579,"accept_rate":17,"display_name":"Martijn Hiemstra"},"score":0,"creation_date":1587914147,"post_id":31654838,"comment_id":108690867,"body_markdown":"This doesn&#39;t work! I have tried it and I get the following error:Failed to start MyApp.service: Unit MyApp.service not found","body":"This doesn&#39;t work! I have tried it and I get the following error:Failed to start MyApp.service: Unit MyApp.service not found"},{"owner":{"account_id":8038257,"reputation":1920,"user_id":6060723,"display_name":"nayan dhabarde"},"score":1,"creation_date":1607745036,"post_id":31654838,"comment_id":115376185,"body_markdown":"what is the kotlin syntax for springBoot { executable = true } ?","body":"what is the kotlin syntax for springBoot { executable = true } ?"},{"owner":{"account_id":2679545,"reputation":306,"user_id":12492815,"display_name":"Viktor Born"},"score":1,"creation_date":1611690362,"post_id":31654838,"comment_id":116531065,"body_markdown":"@nayandhabarde My Kotlin based gradle config has tasks.withType&lt;BootJar&gt; { launchScript() } and I execute ./gradlew bootJar","body":"@nayandhabarde My Kotlin based gradle config has tasks.withType&lt;BootJar&gt; { launchScript() } and I execute ./gradlew bootJar"}],"tags":[],"owner":{"account_id":1544633,"reputation":1209,"user_id":1438464,"display_name":"corleone"},"comment_count":5,"down_vote_count":1,"up_vote_count":107,"is_accepted":false,"score":106,"last_activity_date":1700840455,"creation_date":1438004743,"answer_id":31654838,"question_id":22886083,"body_markdown":"Please note that since Spring Boot 1.3.0.M1, you are able to build fully executable jars using Maven and Gradle. \r\n\r\nFor Maven, just include the following in your `pom.xml`:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n            &lt;executable&gt;true&lt;/executable&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\nFor Gradle add the following snippet to your `build.gradle`:\r\n\r\n    springBoot {\r\n        executable = true\r\n    }\r\n\r\n\r\nThe fully executable jar contains an extra script at the front of the file, which allows you to just symlink your Spring Boot jar to `init.d` or use a `systemd` script.\r\n\r\n`init.d` example:\r\n\r\n    $ln -s /var/yourapp/yourapp.jar /etc/init.d/yourapp\r\n\r\nThis allows you to start, stop and restart your application like:\r\n\r\n    $/etc/init.d/yourapp start|stop|restart\r\n\r\nOr use a `systemd` script:\r\n\r\n    [Unit]\r\n    Description=yourapp\r\n    After=syslog.target\r\n\r\n    [Service]\r\n    ExecStart=/var/yourapp/yourapp.jar\r\n    User=yourapp\r\n    WorkingDirectory=/var/yourapp\r\n    SuccessExitStatus=143\r\n\r\n    [Install]\r\n    WantedBy=multi-user.target\r\n\r\nMore information at the following links:\r\n\r\n- [Installation as an `init.d` service](https://docs.spring.io/spring-boot/docs/current/reference/html/deployment.html#deployment.installing.init-d)\r\n- [Installation as a `systemd` service](https://docs.spring.io/spring-boot/docs/current/reference/html/deployment.html#deployment.installing.system-d)","title":"How do I run a spring boot executable jar in a Production environment?","body":"<p>Please note that since Spring Boot 1.3.0.M1, you are able to build fully executable jars using Maven and Gradle.</p>\n<p>For Maven, just include the following in your <code>pom.xml</code>:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;executable&gt;true&lt;/executable&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>For Gradle add the following snippet to your <code>build.gradle</code>:</p>\n<pre><code>springBoot {\n    executable = true\n}\n</code></pre>\n<p>The fully executable jar contains an extra script at the front of the file, which allows you to just symlink your Spring Boot jar to <code>init.d</code> or use a <code>systemd</code> script.</p>\n<p><code>init.d</code> example:</p>\n<pre><code>$ln -s /var/yourapp/yourapp.jar /etc/init.d/yourapp\n</code></pre>\n<p>This allows you to start, stop and restart your application like:</p>\n<pre><code>$/etc/init.d/yourapp start|stop|restart\n</code></pre>\n<p>Or use a <code>systemd</code> script:</p>\n<pre><code>[Unit]\nDescription=yourapp\nAfter=syslog.target\n\n[Service]\nExecStart=/var/yourapp/yourapp.jar\nUser=yourapp\nWorkingDirectory=/var/yourapp\nSuccessExitStatus=143\n\n[Install]\nWantedBy=multi-user.target\n</code></pre>\n<p>More information at the following links:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/deployment.html#deployment.installing.init-d\" rel=\"nofollow noreferrer\">Installation as an <code>init.d</code> service</a></li>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/deployment.html#deployment.installing.system-d\" rel=\"nofollow noreferrer\">Installation as a <code>systemd</code> service</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3892113,"reputation":1123,"user_id":3222004,"accept_rate":40,"display_name":"unnik"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1458905645,"creation_date":1458905645,"answer_id":36219164,"question_id":22886083,"body_markdown":"You can use the application called [Supervisor][1].\r\nIn supervisor config you can define multiple services and ways to execute the same.\r\n\r\nFor Java and Spring boot applications the command would be \r\n`java -jar springbootapp.jar`.\r\n\r\nOptions can be provided to keep the application running always.So if the EC2 restart then Supervisor will restart you application\r\n\r\nI found Supervisor easy to use compared to putting startup scripts in /etc/init.d/.The startup scripts would hang or go into waiting state in case of errors .\r\n\r\n\r\n\r\n\r\n  [1]: http://supervisord.org/","title":"How do I run a spring boot executable jar in a Production environment?","body":"<p>You can use the application called <a href=\"http://supervisord.org/\" rel=\"nofollow\">Supervisor</a>.\nIn supervisor config you can define multiple services and ways to execute the same.</p>\n\n<p>For Java and Spring boot applications the command would be \n<code>java -jar springbootapp.jar</code>.</p>\n\n<p>Options can be provided to keep the application running always.So if the EC2 restart then Supervisor will restart you application</p>\n\n<p>I found Supervisor easy to use compared to putting startup scripts in /etc/init.d/.The startup scripts would hang or go into waiting state in case of errors .</p>\n"},{"tags":[],"owner":{"account_id":1684224,"reputation":1284,"user_id":1547817,"accept_rate":33,"display_name":"BeeNoisy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478620168,"creation_date":1478620168,"answer_id":40491096,"question_id":22886083,"body_markdown":"This is a simple, you can use spring boot maven plugin to finish your code deploy.\r\n\r\nthe plugin config like:\r\n\r\n    &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;jvmArguments&gt;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=${debug.port}\r\n                        &lt;/jvmArguments&gt;\r\n                        &lt;profiles&gt;\r\n                            &lt;profile&gt;test&lt;/profile&gt;\r\n                        &lt;/profiles&gt;\r\n                        &lt;executable&gt;true&lt;/executable&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n\r\nAnd, the `jvmArtuments` is add for you jvm. `profiles` will choose a profile to start your app. `executable` can make your app driectly run.\r\n\r\nand if you add `mvnw` to your project, or you have a maven enveriment. You can just call`./mvnw spring-boot:run` for mvnw or `mvn spring-boot:run` for maven.\r\n","title":"How do I run a spring boot executable jar in a Production environment?","body":"<p>This is a simple, you can use spring boot maven plugin to finish your code deploy.</p>\n\n<p>the plugin config like:</p>\n\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;jvmArguments&gt;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=${debug.port}\n                    &lt;/jvmArguments&gt;\n                    &lt;profiles&gt;\n                        &lt;profile&gt;test&lt;/profile&gt;\n                    &lt;/profiles&gt;\n                    &lt;executable&gt;true&lt;/executable&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n\n<p>And, the <code>jvmArtuments</code> is add for you jvm. <code>profiles</code> will choose a profile to start your app. <code>executable</code> can make your app driectly run.</p>\n\n<p>and if you add <code>mvnw</code> to your project, or you have a maven enveriment. You can just call<code>./mvnw spring-boot:run</code> for mvnw or <code>mvn spring-boot:run</code> for maven.</p>\n"},{"comments":[{"owner":{"account_id":16282,"reputation":4128,"user_id":35274,"accept_rate":78,"display_name":"Philippe"},"score":0,"creation_date":1492542704,"post_id":41309626,"comment_id":74016416,"body_markdown":"Actually that turns out it should be\n`bootRepackage { executable = true }`\nSee http://docs.spring.io/spring-boot/docs/current/reference/html/build-tool-plugins-gradle-plugin.html","body":"Actually that turns out it should be <code>bootRepackage { executable = true }</code> See <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/build-tool-plugins-gradle-plugin.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"}],"tags":[],"owner":{"account_id":5930613,"reputation":155,"user_id":4665194,"display_name":"isijara"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1482544017,"creation_date":1482544017,"answer_id":41309626,"question_id":22886083,"body_markdown":"If you are using gradle you can just add this to your build.gradle\r\n\r\n\r\n    springBoot {\r\n        executable = true\r\n    }\r\n\r\nYou can then run your application by typing ./your-app.jar\r\n\r\n\r\nAlso, you can find a complete guide here to set up your app as a service\r\n\r\n**56.1.1 Installation as an init.d service (System V)**\r\n\r\nhttp://docs.spring.io/spring-boot/docs/current/reference/html/deployment-install.html\r\n\r\ncheers","title":"How do I run a spring boot executable jar in a Production environment?","body":"<p>If you are using gradle you can just add this to your build.gradle</p>\n\n<pre><code>springBoot {\n    executable = true\n}\n</code></pre>\n\n<p>You can then run your application by typing ./your-app.jar</p>\n\n<p>Also, you can find a complete guide here to set up your app as a service</p>\n\n<p><strong>56.1.1 Installation as an init.d service (System V)</strong></p>\n\n<p><a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/deployment-install.html\" rel=\"nofollow noreferrer\">http://docs.spring.io/spring-boot/docs/current/reference/html/deployment-install.html</a></p>\n\n<p>cheers</p>\n"},{"tags":[],"owner":{"account_id":94872,"reputation":17207,"user_id":258772,"display_name":"mrts"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1640720994,"creation_date":1495812910,"answer_id":44205322,"question_id":22886083,"body_markdown":"By far the most easiest and reliable way to run Spring Boot applications in production is with Docker. Use Docker Compose, Docker Swarm or Kubernetes if you need to use multiple connected services.\r\n\r\nHere&#39;s a simple `Dockerfile` from the official [Spring Boot Docker guide](https://spring.io/guides/gs/spring-boot-docker/) to get you started:\r\n\r\n```lang-sh\r\nFROM openjdk:8-jdk-alpine\r\nRUN addgroup -S spring &amp;&amp; adduser -S spring -G spring\r\nUSER spring:spring\r\nARG JAR_FILE=target/*.jar\r\nCOPY ${JAR_FILE} app.jar\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\r\n```\r\n\r\nAn even better approach for building Docker images is to use [Jib](https://github.com/GoogleContainerTools/jib), an open-source Java tool maintained by Google for building Docker images of Java applications. Jib does not need a `Dockerfile`, you just invoke it with Maven (official quickstart [here](https://github.com/GoogleContainerTools/jib/tree/master/jib-maven-plugin#quickstart)) or Gradle (official quickstart [here](https://github.com/GoogleContainerTools/jib/tree/master/jib-gradle-plugin#quickstart)).\r\n\r\nHere&#39;s a sample command line to run the container as a daemon:\r\n\r\n    docker run \\\r\n      -d --restart=always \\\r\n      -e &quot;SPRING_PROFILES_ACTIVE=prod&quot; \\\r\n      -p 8080:8080 \\\r\n      prefix/imagename","title":"How do I run a spring boot executable jar in a Production environment?","body":"<p>By far the most easiest and reliable way to run Spring Boot applications in production is with Docker. Use Docker Compose, Docker Swarm or Kubernetes if you need to use multiple connected services.</p>\n<p>Here's a simple <code>Dockerfile</code> from the official <a href=\"https://spring.io/guides/gs/spring-boot-docker/\" rel=\"nofollow noreferrer\">Spring Boot Docker guide</a> to get you started:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>FROM openjdk:8-jdk-alpine\nRUN addgroup -S spring &amp;&amp; adduser -S spring -G spring\nUSER spring:spring\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\n</code></pre>\n<p>An even better approach for building Docker images is to use <a href=\"https://github.com/GoogleContainerTools/jib\" rel=\"nofollow noreferrer\">Jib</a>, an open-source Java tool maintained by Google for building Docker images of Java applications. Jib does not need a <code>Dockerfile</code>, you just invoke it with Maven (official quickstart <a href=\"https://github.com/GoogleContainerTools/jib/tree/master/jib-maven-plugin#quickstart\" rel=\"nofollow noreferrer\">here</a>) or Gradle (official quickstart <a href=\"https://github.com/GoogleContainerTools/jib/tree/master/jib-gradle-plugin#quickstart\" rel=\"nofollow noreferrer\">here</a>).</p>\n<p>Here's a sample command line to run the container as a daemon:</p>\n<pre><code>docker run \\\n  -d --restart=always \\\n  -e &quot;SPRING_PROFILES_ACTIVE=prod&quot; \\\n  -p 8080:8080 \\\n  prefix/imagename\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4329690,"reputation":11412,"user_id":3535537,"accept_rate":78,"display_name":"St&#233;phane GRILLON"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1505730488,"creation_date":1505730488,"answer_id":46277047,"question_id":22886083,"body_markdown":"On Windows OS without Service. \r\n\r\n**start.bat**\r\n\r\n    @ECHO OFF\r\n    call run.bat start\r\n\r\n**stop.bat:**\r\n\r\n    @ECHO OFF\r\n    call run.bat stop\r\n\r\n**run.bat**\r\n\r\n    @ECHO OFF\r\n    IF &quot;%1&quot;==&quot;start&quot; (\r\n        ECHO start myapp\r\n    \tstart &quot;myapp&quot; java -jar -Dspring.profiles.active=staging myapp.jar\r\n    ) ELSE IF &quot;%1&quot;==&quot;stop&quot; (\r\n        ECHO stop myapp\r\n    \tTASKKILL /FI &quot;WINDOWTITLE eq myapp&quot;\r\n    ) ELSE (\r\n        ECHO please, use &quot;run.bat start&quot; or &quot;run.bat stop&quot;\r\n    )\r\n    pause","title":"How do I run a spring boot executable jar in a Production environment?","body":"<p>On Windows OS without Service. </p>\n\n<p><strong>start.bat</strong></p>\n\n<pre><code>@ECHO OFF\ncall run.bat start\n</code></pre>\n\n<p><strong>stop.bat:</strong></p>\n\n<pre><code>@ECHO OFF\ncall run.bat stop\n</code></pre>\n\n<p><strong>run.bat</strong></p>\n\n<pre><code>@ECHO OFF\nIF \"%1\"==\"start\" (\n    ECHO start myapp\n    start \"myapp\" java -jar -Dspring.profiles.active=staging myapp.jar\n) ELSE IF \"%1\"==\"stop\" (\n    ECHO stop myapp\n    TASKKILL /FI \"WINDOWTITLE eq myapp\"\n) ELSE (\n    ECHO please, use \"run.bat start\" or \"run.bat stop\"\n)\npause\n</code></pre>\n"}],"owner":{"account_id":50800,"reputation":1946,"user_id":151608,"accept_rate":71,"display_name":"Cleber Goncalves"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172180,"favorite_count":0,"down_vote_count":0,"up_vote_count":122,"answer_count":9,"score":122,"last_activity_date":1700840455,"creation_date":1396727987,"question_id":22886083,"body_markdown":"Spring boot&#39;s preferred deployment method is via a executable jar file which contains tomcat inside.\r\n\r\nIt is started with a simple `java -jar myapp.jar`.\r\n\r\nNow, I want to deploy that jar to my linux server on EC2, am I missing something or do I really need to create a init script to properly start the application as a daemon?\r\n\r\nIf I simply call `java -jar` the application dies when I log out.\r\n\r\nI could start it in screen or nohup but that is not very elegant and a restart in my server would force me to log in and start the process manually.\r\n\r\nSo, is there something already for the task in spring boot?\r\n","title":"How do I run a spring boot executable jar in a Production environment?","body":"<p>Spring boot's preferred deployment method is via a executable jar file which contains tomcat inside.</p>\n\n<p>It is started with a simple <code>java -jar myapp.jar</code>.</p>\n\n<p>Now, I want to deploy that jar to my linux server on EC2, am I missing something or do I really need to create a init script to properly start the application as a daemon?</p>\n\n<p>If I simply call <code>java -jar</code> the application dies when I log out.</p>\n\n<p>I could start it in screen or nohup but that is not very elegant and a restart in my server would force me to log in and start the process manually.</p>\n\n<p>So, is there something already for the task in spring boot?</p>\n"},{"tags":["java","spring","postgresql","docker","flyway"],"comments":[{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1700840143,"post_id":77544235,"comment_id":136705867,"body_markdown":"Directly from the error message: &quot;Unable to obtain connection from database: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections&quot;","body":"Directly from the error message: &quot;Unable to obtain connection from database: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections&quot;"},{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1700877522,"post_id":77544235,"comment_id":136709651,"body_markdown":"...do you need to separately set a `SPRING_FLYWAY_URL` environment variable?","body":"...do you need to separately set a <code>SPRING_FLYWAY_URL</code> environment variable?"}],"owner":{"account_id":23484632,"reputation":1,"user_id":22600778,"display_name":"rakhovetski"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700840160,"creation_date":1700839889,"question_id":77544235,"body_markdown":"When I try to run my application through the docker-compose.yml file it throws an exception\r\n```\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;flywayInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Unable to obtain connection from database: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections\r\nspring_1  | SQL State  : 08001\r\nspring_1  | Error Code : 0\r\nspring_1  | Message    : Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.\r\nCaused by: org.flywaydb.core.internal.exception.FlywaySqlException: Unable to obtain connection from database: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.\r\nspring_1  | SQL State  : 08001\r\nspring_1  | Error Code : 0\r\nspring_1  | Message    : Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.\r\n\r\n```\r\n\r\nDockerfile:\r\n\r\n```\r\n\r\nFROM openjdk:21-jdk\r\nEXPOSE 8080\r\nARG JAR_FILE=build/libs/*.jar\r\nCOPY ${JAR_FILE} app.jar\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\r\n\r\n```\r\n\r\ndocker-compose.yml file\r\n\r\n```\r\nservices:\r\n  spring:\r\n    build:\r\n      context: .\r\n      dockerfile: Dockerfile\r\n    ports:\r\n      - &quot;8080:8080&quot;\r\n    environment:\r\n      - SPRING_R2DBC_URL=r2dbc:pool:postgres://db:5432/notifications\r\n      - SPRING_R2DBC_USER=postgres\r\n      - SPRING_R2DBC_PASSWORD=pass\r\n      - SPRING_DB_URL=jdbc:jdbc:postgresql://db:5432/notifications\r\n      - SPRING_DB_USER=postgres\r\n      - SPRING_DB_PASSWORD=pass\r\n    depends_on:\r\n      - db\r\n  db:\r\n    image: postgres:14.1-alpine\r\n    ports:\r\n      - &quot;5432:5432&quot;\r\n    environment:\r\n      POSTGRES_USER: postgres\r\n      POSTGRES_PASSWORD: pass\r\n      POSTGRES_DB: notifications\r\n```\r\n\r\n\r\napplication.yml file\r\n\r\n```yml\r\nspring:\r\n  r2dbc:\r\n    url: r2dbc:pool:postgres://localhost:5432/notifications\r\n    username: postgres\r\n    password: pass\r\n  flyway:\r\n    url: jdbc:postgresql://localhost:5432/notifications\r\n    locations: classpath:db/migrations\r\n    user: postgres\r\n    password: pass\r\n```\r\n\r\nbuild gradle dependencies\r\n\r\n```\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-r2dbc&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n    implementation &#39;org.springframework.session:spring-session-core&#39;\r\n    implementation &#39;org.springframework.kafka:spring-kafka&#39;\r\n    implementation &#39;javax.validation:validation-api:2.0.1.Final&#39;\r\n    implementation &#39;io.r2dbc:r2dbc-postgresql:0.8.13.RELEASE&#39;\r\n    implementation &#39;org.postgresql:postgresql:42.6.0&#39;\r\n    implementation &#39;org.flywaydb:flyway-core:9.22.3&#39;\r\n    compileOnly &#39;org.projectlombok:lombok:1.18.30&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok:1.18.30&#39;\r\n    implementation &#39;org.mapstruct:mapstruct:1.4.2.Final&#39;\r\n    annotationProcessor &#39;org.mapstruct:mapstruct-processor:1.4.2.Final&#39;\r\n    implementation &#39;com.google.code.gson:gson:2.10.1&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    testImplementation &#39;io.projectreactor:reactor-test&#39;\r\n    testImplementation &#39;org.testcontainers:junit-jupiter:1.19.3&#39;\r\n    testImplementation &#39;org.testcontainers:postgresql:1.19.3&#39;\r\n}\r\n```\r\n\r\n\r\nI tried to change the values in url, username, password, but it didn&#39;t help","title":"Flyway cannot connect to Postgres in Spring boot application","body":"<p>When I try to run my application through the docker-compose.yml file it throws an exception</p>\n<pre><code>\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Unable to obtain connection from database: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections\nspring_1  | SQL State  : 08001\nspring_1  | Error Code : 0\nspring_1  | Message    : Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.\nCaused by: org.flywaydb.core.internal.exception.FlywaySqlException: Unable to obtain connection from database: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.\nspring_1  | SQL State  : 08001\nspring_1  | Error Code : 0\nspring_1  | Message    : Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.\n\n</code></pre>\n<p>Dockerfile:</p>\n<pre><code>\nFROM openjdk:21-jdk\nEXPOSE 8080\nARG JAR_FILE=build/libs/*.jar\nCOPY ${JAR_FILE} app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\n\n</code></pre>\n<p>docker-compose.yml file</p>\n<pre><code>services:\n  spring:\n    build:\n      context: .\n      dockerfile: Dockerfile\n    ports:\n      - &quot;8080:8080&quot;\n    environment:\n      - SPRING_R2DBC_URL=r2dbc:pool:postgres://db:5432/notifications\n      - SPRING_R2DBC_USER=postgres\n      - SPRING_R2DBC_PASSWORD=pass\n      - SPRING_DB_URL=jdbc:jdbc:postgresql://db:5432/notifications\n      - SPRING_DB_USER=postgres\n      - SPRING_DB_PASSWORD=pass\n    depends_on:\n      - db\n  db:\n    image: postgres:14.1-alpine\n    ports:\n      - &quot;5432:5432&quot;\n    environment:\n      POSTGRES_USER: postgres\n      POSTGRES_PASSWORD: pass\n      POSTGRES_DB: notifications\n</code></pre>\n<p>application.yml file</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  r2dbc:\n    url: r2dbc:pool:postgres://localhost:5432/notifications\n    username: postgres\n    password: pass\n  flyway:\n    url: jdbc:postgresql://localhost:5432/notifications\n    locations: classpath:db/migrations\n    user: postgres\n    password: pass\n</code></pre>\n<p>build gradle dependencies</p>\n<pre><code>dependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-r2dbc'\n    implementation 'org.springframework.boot:spring-boot-starter-webflux'\n    implementation 'org.springframework.session:spring-session-core'\n    implementation 'org.springframework.kafka:spring-kafka'\n    implementation 'javax.validation:validation-api:2.0.1.Final'\n    implementation 'io.r2dbc:r2dbc-postgresql:0.8.13.RELEASE'\n    implementation 'org.postgresql:postgresql:42.6.0'\n    implementation 'org.flywaydb:flyway-core:9.22.3'\n    compileOnly 'org.projectlombok:lombok:1.18.30'\n    annotationProcessor 'org.projectlombok:lombok:1.18.30'\n    implementation 'org.mapstruct:mapstruct:1.4.2.Final'\n    annotationProcessor 'org.mapstruct:mapstruct-processor:1.4.2.Final'\n    implementation 'com.google.code.gson:gson:2.10.1'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'io.projectreactor:reactor-test'\n    testImplementation 'org.testcontainers:junit-jupiter:1.19.3'\n    testImplementation 'org.testcontainers:postgresql:1.19.3'\n}\n</code></pre>\n<p>I tried to change the values in url, username, password, but it didn't help</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1672636165,"post_id":74978472,"comment_id":132316238,"body_markdown":"My advice is not to share source files between projects like this -- learn to use maven and install your common code as a library in your local maven repository.","body":"My advice is not to share source files between projects like this -- learn to use maven and install your common code as a library in your local maven repository."},{"owner":{"account_id":924763,"reputation":1508,"user_id":955755,"accept_rate":71,"display_name":"Murrah"},"score":0,"creation_date":1672642077,"post_id":74978472,"comment_id":132316934,"body_markdown":"Thanks, I am using Maven and did think about that option. What stopped me was the thought that each time I changed something in the SharedJava (which would be often, at this stage of development), I would need to rebuild a jar. Maybe that is not such a big deal? Or maybe that is not even true? So, thanks, I am very open to learning &quot;best practice&quot; at this early stage of my Java journey. :-)","body":"Thanks, I am using Maven and did think about that option. What stopped me was the thought that each time I changed something in the SharedJava (which would be often, at this stage of development), I would need to rebuild a jar. Maybe that is not such a big deal? Or maybe that is not even true? So, thanks, I am very open to learning &quot;best practice&quot; at this early stage of my Java journey. :-)"},{"owner":{"account_id":924763,"reputation":1508,"user_id":955755,"accept_rate":71,"display_name":"Murrah"},"score":0,"creation_date":1672642210,"post_id":74978472,"comment_id":132316957,"body_markdown":"Also, I did watch one tutorial on that and just setting it all up was a huge amount of work. Maybe that was a bad tutorial.","body":"Also, I did watch one tutorial on that and just setting it all up was a huge amount of work. Maybe that was a bad tutorial."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1672642324,"post_id":74978472,"comment_id":132316978,"body_markdown":"You would need to rebuild the jar -- `mvn install` puts the jar in your local repository. You&#39;d use a SNAPSHOT version of the jar while you&#39;re developing. Perhaps the tutorial you watched included setting up a maven repository you can deploy to -- you don&#39;t need to do that for local development (I assume you are pushing your source code to github/bitbucket or similar?)","body":"You would need to rebuild the jar -- <code>mvn install</code> puts the jar in your local repository. You&#39;d use a SNAPSHOT version of the jar while you&#39;re developing. Perhaps the tutorial you watched included setting up a maven repository you can deploy to -- you don&#39;t need to do that for local development (I assume you are pushing your source code to github/bitbucket or similar?)"},{"owner":{"account_id":924763,"reputation":1508,"user_id":955755,"accept_rate":71,"display_name":"Murrah"},"score":0,"creation_date":1672643020,"post_id":74978472,"comment_id":132317101,"body_markdown":"@tgdavies: yes, the tutorial implied a remote maven repo was the only option, but that was probably my misunderstanding. Yes, using GitHub for my code. Thanks for your pointers.","body":"@tgdavies: yes, the tutorial implied a remote maven repo was the only option, but that was probably my misunderstanding. Yes, using GitHub for my code. Thanks for your pointers."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1672709557,"post_id":74978472,"comment_id":132332371,"body_markdown":"Hi Murrah, If you find the solution, Please consider answering it and accepting it as an answer to change its status to Answered. It will also help others to solve a similar issue. See [can I answer my own question..](https://stackoverflow.com/help/self-answer), Just a reminder :)","body":"Hi Murrah, If you find the solution, Please consider answering it and accepting it as an answer to change its status to Answered. It will also help others to solve a similar issue. See <a href=\"https://stackoverflow.com/help/self-answer\">can I answer my own question..</a>, Just a reminder :)"},{"owner":{"account_id":924763,"reputation":1508,"user_id":955755,"accept_rate":71,"display_name":"Murrah"},"score":0,"creation_date":1672715860,"post_id":74978472,"comment_id":132333110,"body_markdown":"@JialeDu Thanks, yes, I will. I am currently learning more about Maven as suggested by @ tgdavies before I post a solution that as yet is not clear! ;-)","body":"@JialeDu Thanks, yes, I will. I am currently learning more about Maven as suggested by @ tgdavies before I post a solution that as yet is not clear! ;-)"}],"answers":[{"tags":[],"owner":{"account_id":924763,"reputation":1508,"user_id":955755,"accept_rate":71,"display_name":"Murrah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672858407,"creation_date":1672815465,"answer_id":75001896,"question_id":74978472,"body_markdown":"Ok. Got it working.\r\n\r\nFirstly: The best explanation I found for understanding Maven (that included a good example of multi-module projects) is here:\r\n[https://books.sonatype.com/mvnex-book/reference/index.html][1]\r\n\r\nIt is quite old, and the sample code wont work because it references APIs that no longer exist. However, the explanations are really clear and the sample code files still exist as a reference.\r\n\r\nMaybe if you know of more up-to-date references that are as good, you can put a comment below.\r\n\r\nFor other Java newbies I offer the following...\r\n\r\nThe final result was done partly using VSCode functionality and partly hand customised. If I understood the VSCode java extensions better maybe I could have done it all using the extensions.\r\n\r\nThe short version is as below and the resulting files and folders etc are shown further down.\r\n1. Create a new Java Project for the `parent`. Use the Maven quick-start archetype. For this sample I just used all the defaults, apart from my groupId, etc.\r\n2. Keep the `pom.xml` file and delete the rest.\r\n3. Add `&lt;packaging&gt;pom&lt;/packaging&gt;` to the `pom.xml` file as per example below.\r\n4. Inside the `parent` project, create the `shared` project, using the same groupId as the parent. When asked, add the project to the workspace. Delete the `App.java` file if you wish.\r\n5. In the `shared` pom.xml I removed the `&lt;groupId&gt;` section. Note that Maven includes the `&lt;parent&gt;` block.\r\n6. Inside the `parent` project, create the `mainapp` project, using the same groupId as the parent. When asked, add the project to the workspace.\r\n7. In the `mainapp` pom.xml I removed the `&lt;groupId&gt;` section. Note that Maven includes the `&lt;parent&gt;` block.\r\n8. In the `mainapp` pom.xml, add a `&lt;dependency&gt;` block for the `shared` project, as per example below.\r\n\r\n9. If you go back to the `parent` project&#39;s `pom.xml`, and scroll to the end, you should see that VSCode has added a block like this:\r\n```\r\n&lt;modules&gt;\r\n  &lt;module&gt;shared&lt;/module&gt;\r\n  &lt;module&gt;mainapp&lt;/module&gt;\r\n&lt;/modules&gt;\r\n```\r\nwhich you can move to the top to make it more visible.\r\n\r\n10. Add your test class (eg PrintMessage.java) to your `shared` project in its own folder (eg messaging).\r\n11. Update your `mainapp` `App.java` file to include your shared class as per the example.\r\n12. From the parent project root run `mvn clean install`. This adds the jars to the local Maven repo (the location of the local repo is as printed in the terminal output).\r\n\r\nAt this point I find I needed to close and reopen the VSCode window so that the Java Projects section sorts itself out and the 3 projects appear there. If I didn&#39;t do that I got &quot;classpath&quot; errors.\r\n\r\nThen, I could test by opening the `App.java` file and using VSCode to `Run java`. The terminal shows:\r\n```\r\nHello World!\r\nPrintMessage.echoMessage() echoed: I was called from Main app\r\n```\r\n\r\nI notice if I edit the `PrintMessage.java` file (eg change the output message) I can run the `App.java` file without recompiling and the change shows up. Cool.\r\n\r\n==== Code samples ====\r\n\r\n(I deleted the `src/test` and `target` folders for clarity)\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe `parent` pom.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;name&gt;The Parent project for my test multi modules&lt;/name&gt;\r\n\r\n  &lt;groupId&gt;com.flowt.multitest&lt;/groupId&gt;\r\n  &lt;artifactId&gt;parent&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n\r\n  &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n  &lt;modules&gt;\r\n    &lt;module&gt;shared&lt;/module&gt;\r\n    &lt;module&gt;mainapp&lt;/module&gt;\r\n  &lt;/modules&gt;\r\n\r\n  &lt;dependencies&gt;\r\n\r\n    &lt;!-- The rest of this file is as normal ... --&gt;\r\n```\r\nThe `shared` pom.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;!-- Refer to the parent pom.xml --&gt;\r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;com.flowt.multitest&lt;/groupId&gt;\r\n    &lt;artifactId&gt;parent&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;/parent&gt;\r\n\r\n  &lt;!--\r\n    Since we have a parent we leave this out\r\n    because it is pulled from the parent pom.xml\r\n\r\n    &lt;groupId&gt;com.flowt.shared&lt;/groupId&gt;\r\n  --&gt;\r\n  &lt;artifactId&gt;shared&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n  &lt;!-- The rest of this file is as normal ... --&gt;\r\n```\r\nThe `mainapp` pom.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;!-- Refer to the parent pom.xml --&gt;\r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;com.flowt.multitest&lt;/groupId&gt;\r\n    &lt;artifactId&gt;parent&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;/parent&gt;\r\n\r\n  &lt;artifactId&gt;mainapp&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;\r\n      1.7&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;!-- Here you must include the shared project as a dependency --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.flowt.multitest&lt;/groupId&gt;\r\n      &lt;artifactId&gt;shared&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.11&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;!-- The rest of this file is as normal ... --&gt;\r\n```\r\n`PrintMessage.java`\r\n```java\r\npackage com.flowt.messaging;\r\n\r\npublic class PrintMessage {\r\n  public String echoMessage(String msg) {\r\n    return &quot;PrintMessage.echoMessage() echoed: &quot; + msg;\r\n  }\r\n}\r\n```\r\n`App.java`\r\n```java\r\n\r\npackage com.flowt.app;\r\n\r\n// This class is in the shared project: shared/src/main/java/com/flowt/messaging/PrintMessage.java\r\nimport com.flowt.messaging.PrintMessage;\r\n\r\n/**\r\n * Hello world!\r\n */\r\npublic class App {\r\n    public static void main( String[] args ) {\r\n        System.out.println( &quot;Hello World!&quot; );\r\n\r\n        // The shared class\r\n        PrintMessage printMessage= new PrintMessage();\r\n        String echo = printMessage.echoMessage(&quot;I was called from Main app&quot;);\r\n        System.out.println(echo);\r\n    }\r\n}\r\n```\r\n\r\n\r\nI hope that helps and any expert advice on structuring an app is most welcome.\r\n\r\nGo well,\r\nMurray\r\n\r\n\r\n  [1]: https://books.sonatype.com/mvnex-book/reference/index.html\r\n  [2]: https://i.stack.imgur.com/esjzZ.png","title":"How to share .java files between projects","body":"<p>Ok. Got it working.</p>\n<p>Firstly: The best explanation I found for understanding Maven (that included a good example of multi-module projects) is here:\n<a href=\"https://books.sonatype.com/mvnex-book/reference/index.html\" rel=\"nofollow noreferrer\">https://books.sonatype.com/mvnex-book/reference/index.html</a></p>\n<p>It is quite old, and the sample code wont work because it references APIs that no longer exist. However, the explanations are really clear and the sample code files still exist as a reference.</p>\n<p>Maybe if you know of more up-to-date references that are as good, you can put a comment below.</p>\n<p>For other Java newbies I offer the following...</p>\n<p>The final result was done partly using VSCode functionality and partly hand customised. If I understood the VSCode java extensions better maybe I could have done it all using the extensions.</p>\n<p>The short version is as below and the resulting files and folders etc are shown further down.</p>\n<ol>\n<li><p>Create a new Java Project for the <code>parent</code>. Use the Maven quick-start archetype. For this sample I just used all the defaults, apart from my groupId, etc.</p>\n</li>\n<li><p>Keep the <code>pom.xml</code> file and delete the rest.</p>\n</li>\n<li><p>Add <code>&lt;packaging&gt;pom&lt;/packaging&gt;</code> to the <code>pom.xml</code> file as per example below.</p>\n</li>\n<li><p>Inside the <code>parent</code> project, create the <code>shared</code> project, using the same groupId as the parent. When asked, add the project to the workspace. Delete the <code>App.java</code> file if you wish.</p>\n</li>\n<li><p>In the <code>shared</code> pom.xml I removed the <code>&lt;groupId&gt;</code> section. Note that Maven includes the <code>&lt;parent&gt;</code> block.</p>\n</li>\n<li><p>Inside the <code>parent</code> project, create the <code>mainapp</code> project, using the same groupId as the parent. When asked, add the project to the workspace.</p>\n</li>\n<li><p>In the <code>mainapp</code> pom.xml I removed the <code>&lt;groupId&gt;</code> section. Note that Maven includes the <code>&lt;parent&gt;</code> block.</p>\n</li>\n<li><p>In the <code>mainapp</code> pom.xml, add a <code>&lt;dependency&gt;</code> block for the <code>shared</code> project, as per example below.</p>\n</li>\n<li><p>If you go back to the <code>parent</code> project's <code>pom.xml</code>, and scroll to the end, you should see that VSCode has added a block like this:</p>\n</li>\n</ol>\n<pre><code>&lt;modules&gt;\n  &lt;module&gt;shared&lt;/module&gt;\n  &lt;module&gt;mainapp&lt;/module&gt;\n&lt;/modules&gt;\n</code></pre>\n<p>which you can move to the top to make it more visible.</p>\n<ol start=\"10\">\n<li>Add your test class (eg PrintMessage.java) to your <code>shared</code> project in its own folder (eg messaging).</li>\n<li>Update your <code>mainapp</code> <code>App.java</code> file to include your shared class as per the example.</li>\n<li>From the parent project root run <code>mvn clean install</code>. This adds the jars to the local Maven repo (the location of the local repo is as printed in the terminal output).</li>\n</ol>\n<p>At this point I find I needed to close and reopen the VSCode window so that the Java Projects section sorts itself out and the 3 projects appear there. If I didn't do that I got &quot;classpath&quot; errors.</p>\n<p>Then, I could test by opening the <code>App.java</code> file and using VSCode to <code>Run java</code>. The terminal shows:</p>\n<pre><code>Hello World!\nPrintMessage.echoMessage() echoed: I was called from Main app\n</code></pre>\n<p>I notice if I edit the <code>PrintMessage.java</code> file (eg change the output message) I can run the <code>App.java</code> file without recompiling and the change shows up. Cool.</p>\n<p>==== Code samples ====</p>\n<p>(I deleted the <code>src/test</code> and <code>target</code> folders for clarity)</p>\n<p><a href=\"https://i.stack.imgur.com/esjzZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/esjzZ.png\" alt=\"enter image description here\" /></a></p>\n<p>The <code>parent</code> pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;name&gt;The Parent project for my test multi modules&lt;/name&gt;\n\n  &lt;groupId&gt;com.flowt.multitest&lt;/groupId&gt;\n  &lt;artifactId&gt;parent&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n\n  &lt;packaging&gt;pom&lt;/packaging&gt;\n\n  &lt;modules&gt;\n    &lt;module&gt;shared&lt;/module&gt;\n    &lt;module&gt;mainapp&lt;/module&gt;\n  &lt;/modules&gt;\n\n  &lt;dependencies&gt;\n\n    &lt;!-- The rest of this file is as normal ... --&gt;\n</code></pre>\n<p>The <code>shared</code> pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;!-- Refer to the parent pom.xml --&gt;\n  &lt;parent&gt;\n    &lt;groupId&gt;com.flowt.multitest&lt;/groupId&gt;\n    &lt;artifactId&gt;parent&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n  &lt;/parent&gt;\n\n  &lt;!--\n    Since we have a parent we leave this out\n    because it is pulled from the parent pom.xml\n\n    &lt;groupId&gt;com.flowt.shared&lt;/groupId&gt;\n  --&gt;\n  &lt;artifactId&gt;shared&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;!-- The rest of this file is as normal ... --&gt;\n</code></pre>\n<p>The <code>mainapp</code> pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;!-- Refer to the parent pom.xml --&gt;\n  &lt;parent&gt;\n    &lt;groupId&gt;com.flowt.multitest&lt;/groupId&gt;\n    &lt;artifactId&gt;parent&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n  &lt;/parent&gt;\n\n  &lt;artifactId&gt;mainapp&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;\n      1.7&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;!-- Here you must include the shared project as a dependency --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.flowt.multitest&lt;/groupId&gt;\n      &lt;artifactId&gt;shared&lt;/artifactId&gt;\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.11&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n\n  &lt;!-- The rest of this file is as normal ... --&gt;\n</code></pre>\n<p><code>PrintMessage.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.flowt.messaging;\n\npublic class PrintMessage {\n  public String echoMessage(String msg) {\n    return &quot;PrintMessage.echoMessage() echoed: &quot; + msg;\n  }\n}\n</code></pre>\n<p><code>App.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>\npackage com.flowt.app;\n\n// This class is in the shared project: shared/src/main/java/com/flowt/messaging/PrintMessage.java\nimport com.flowt.messaging.PrintMessage;\n\n/**\n * Hello world!\n */\npublic class App {\n    public static void main( String[] args ) {\n        System.out.println( &quot;Hello World!&quot; );\n\n        // The shared class\n        PrintMessage printMessage= new PrintMessage();\n        String echo = printMessage.echoMessage(&quot;I was called from Main app&quot;);\n        System.out.println(echo);\n    }\n}\n</code></pre>\n<p>I hope that helps and any expert advice on structuring an app is most welcome.</p>\n<p>Go well,\nMurray</p>\n"}],"owner":{"account_id":924763,"reputation":1508,"user_id":955755,"accept_rate":71,"display_name":"Murrah"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75001896,"answer_count":1,"score":0,"last_activity_date":1700839641,"creation_date":1672624083,"question_id":74978472,"body_markdown":"I am fairly new to Java, so I might be missing the obvious here.\r\n\r\nI want to pull `.java` files (not JARs) from a folder that is &quot;external&quot; to the project. I am developing the MainProject and the shared java files concurrently. Later I will want to use the shared files in another project (most likely also as `.java` files since that other project will be related to the first - i.e. more concurrent development).\r\n\r\nI can&#39;t work out how to use a `.java` file from the SharedJava folder in the MainProject. I have tried what is suggested on Stack Overflow etc. to no avail.\r\n\r\nI have set up a new project with folders like so:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI have created VSCode Java Projects in both folders, although for the `SharedJava` I didn&#39;t include any build tools. Maybe that is an issue? \r\n\r\nBoth projects appear in the JAVA PROJECTS section in VSCode.\r\n\r\nExpanded, it looks like below, and as an initial test the highlighted java file is the one I would like to import into the MainProject.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe SharedClass.java file:\r\n```java\r\npackage messaging;\r\n\r\npublic class SharedClass {\r\n  public void echoMessage(String msg) {\r\n    System.out.println(&quot;SharedClass.echoMessage() said: &quot; + msg);\r\n  }\r\n}\r\n```\r\nWhat I am trying to do for my test is in this MainProject App.java file:\r\n\r\n```java\r\npackage com.flowt;\r\n\r\npublic class App {\r\n    public static void main( String[] args ) {\r\n        System.out.println( &quot;Hello World!&quot; );\r\n\r\n        // How to import SharedClass ?\r\n        SharedClass sharedClass = new SharedClass();\r\n        sharedClass.echoMessage(&quot;Hello XYZ&quot;);\r\n    }\r\n}\r\n```\r\nMy `MainProject.code-workspace` file is this:\r\n```json\r\n{\r\n\t&quot;folders&quot;: [\r\n\t\t{\r\n\t\t\t&quot;path&quot;: &quot;.&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;path&quot;: &quot;../SharedJava/flowtshared&quot;\r\n\t\t}\r\n\t],\r\n\t&quot;settings&quot;: {\r\n\t\t&quot;java.project.sourcePaths&quot;: [\r\n\t\t\t&quot;src&quot;,\r\n\t\t\t&quot;../SharedJava/flowtshared/src&quot;\r\n\t\t]\r\n\t}\r\n}\r\n```\r\n\r\nSo, what do I need to do to be able to import `SharedClass.java` into MainProject? (without creating a symlink!)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4gf5f.png\r\n  [2]: https://i.stack.imgur.com/D9elU.png","title":"How to share .java files between projects","body":"<p>I am fairly new to Java, so I might be missing the obvious here.</p>\n<p>I want to pull <code>.java</code> files (not JARs) from a folder that is &quot;external&quot; to the project. I am developing the MainProject and the shared java files concurrently. Later I will want to use the shared files in another project (most likely also as <code>.java</code> files since that other project will be related to the first - i.e. more concurrent development).</p>\n<p>I can't work out how to use a <code>.java</code> file from the SharedJava folder in the MainProject. I have tried what is suggested on Stack Overflow etc. to no avail.</p>\n<p>I have set up a new project with folders like so:</p>\n<p><a href=\"https://i.stack.imgur.com/4gf5f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4gf5f.png\" alt=\"enter image description here\" /></a></p>\n<p>I have created VSCode Java Projects in both folders, although for the <code>SharedJava</code> I didn't include any build tools. Maybe that is an issue?</p>\n<p>Both projects appear in the JAVA PROJECTS section in VSCode.</p>\n<p>Expanded, it looks like below, and as an initial test the highlighted java file is the one I would like to import into the MainProject.</p>\n<p><a href=\"https://i.stack.imgur.com/D9elU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D9elU.png\" alt=\"enter image description here\" /></a></p>\n<p>The SharedClass.java file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package messaging;\n\npublic class SharedClass {\n  public void echoMessage(String msg) {\n    System.out.println(&quot;SharedClass.echoMessage() said: &quot; + msg);\n  }\n}\n</code></pre>\n<p>What I am trying to do for my test is in this MainProject App.java file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.flowt;\n\npublic class App {\n    public static void main( String[] args ) {\n        System.out.println( &quot;Hello World!&quot; );\n\n        // How to import SharedClass ?\n        SharedClass sharedClass = new SharedClass();\n        sharedClass.echoMessage(&quot;Hello XYZ&quot;);\n    }\n}\n</code></pre>\n<p>My <code>MainProject.code-workspace</code> file is this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;folders&quot;: [\n        {\n            &quot;path&quot;: &quot;.&quot;\n        },\n        {\n            &quot;path&quot;: &quot;../SharedJava/flowtshared&quot;\n        }\n    ],\n    &quot;settings&quot;: {\n        &quot;java.project.sourcePaths&quot;: [\n            &quot;src&quot;,\n            &quot;../SharedJava/flowtshared/src&quot;\n        ]\n    }\n}\n</code></pre>\n<p>So, what do I need to do to be able to import <code>SharedClass.java</code> into MainProject? (without creating a symlink!)</p>\n"},{"tags":["java","oracle","spring-boot","intellij-idea"],"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1699042036,"post_id":77419336,"comment_id":136486263,"body_markdown":"Did you also try putting a semicolon between the host and the database in stead of a slash like the other Q&amp;A has? So `:abcd`  in stead of `/abcd`? That&#39;s also what the answerer changed in [this Q&amp;A](https://stackoverflow.com/a/51476212/1915448).","body":"Did you also try putting a semicolon between the host and the database in stead of a slash like the other Q&amp;A has? So <code>:abcd</code>  in stead of <code>&#47;abcd</code>? That&#39;s also what the answerer changed in <a href=\"https://stackoverflow.com/a/51476212/1915448\">this Q&amp;A</a>."},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1699042413,"post_id":77419336,"comment_id":136486311,"body_markdown":"(I meant a colon in stead of a semicolon in my previous comment, woops, can&#39;t edit it now).","body":"(I meant a colon in stead of a semicolon in my previous comment, woops, can&#39;t edit it now)."},{"owner":{"account_id":9041643,"reputation":273,"user_id":6735683,"display_name":"Timbuck"},"score":0,"creation_date":1699277161,"post_id":77419336,"comment_id":136507360,"body_markdown":"Unfortunately the other question did not answer my issue, as noted where I linked to that post in my question.","body":"Unfortunately the other question did not answer my issue, as noted where I linked to that post in my question."},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1699280348,"post_id":77419336,"comment_id":136508118,"body_markdown":"Please note that I refered to a different question than the one you linked. The answer you linked only tells you to include a colon after the &quot;thin&quot;. Also, in your properties file you mentioned you tried `jdbc:oracle:thin:` and `jdbc:oracle:thin://`. But in both cases you use `/abcd` and not `:abcd`. Even the error message only includes `/abcd` and not `:abcd`. I suggest you edit your question and list all attempts you made.","body":"Please note that I refered to a different question than the one you linked. The answer you linked only tells you to include a colon after the &quot;thin&quot;. Also, in your properties file you mentioned you tried <code>jdbc:oracle:thin:</code> and <code>jdbc:oracle:thin:&#47;&#47;</code>. But in both cases you use <code>&#47;abcd</code> and not <code>:abcd</code>. Even the error message only includes <code>&#47;abcd</code> and not <code>:abcd</code>. I suggest you edit your question and list all attempts you made."},{"owner":{"account_id":9041643,"reputation":273,"user_id":6735683,"display_name":"Timbuck"},"score":0,"creation_date":1699290534,"post_id":77419336,"comment_id":136510315,"body_markdown":"Thank you for the clarification - I looked at this so much that the posts started to look the same! I&#39;ve updated the question to show the permutations I have attempted.","body":"Thank you for the clarification - I looked at this so much that the posts started to look the same! I&#39;ve updated the question to show the permutations I have attempted."},{"owner":{"account_id":9041643,"reputation":273,"user_id":6735683,"display_name":"Timbuck"},"score":1,"creation_date":1700056022,"post_id":77419336,"comment_id":136607710,"body_markdown":"I was able to get around this error by using the Docker run configuration instead of the Spring Boot run configuration. While this does not explain why the problem persists in the Spring Boot run configuration, I am hoping this comment will at least help somebody in the future if they run into the same problem.","body":"I was able to get around this error by using the Docker run configuration instead of the Spring Boot run configuration. While this does not explain why the problem persists in the Spring Boot run configuration, I am hoping this comment will at least help somebody in the future if they run into the same problem."}],"answers":[{"tags":[],"owner":{"account_id":9041643,"reputation":273,"user_id":6735683,"display_name":"Timbuck"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700839244,"creation_date":1700839244,"answer_id":77544165,"question_id":77419336,"body_markdown":"I found the root cause of this error was an incorrect/missing password  value for the `Djavax.net.ssl.trustStorePassword` within the `ENTRYPOINT` of the Dockerfile. Once I corrected this and rebuilt the image, subsequent runs did not experience this behavior.","title":"Spring Boot application OracleDriver claims to not accept jdbcUrl","body":"<p>I found the root cause of this error was an incorrect/missing password  value for the <code>Djavax.net.ssl.trustStorePassword</code> within the <code>ENTRYPOINT</code> of the Dockerfile. Once I corrected this and rebuilt the image, subsequent runs did not experience this behavior.</p>\n"}],"owner":{"account_id":9041643,"reputation":273,"user_id":6735683,"display_name":"Timbuck"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700839244,"creation_date":1699040870,"question_id":77419336,"body_markdown":"When launching a Spring Boot application in IntelliJ using the Spring Boot Application run configuration, running with Java 1.8, I am receiving the following message (only one listed for brevity&#39;s sake - but the same exception for each of the attempted URLs):\r\n```\r\n Driver oracle.jdbc.OracleDriver claims to not accept jdbcUrl, &quot;jdbc:oracle:thin:@redacted.redacted.us-east-1.rds.amazonaws.com:1234/abcd&quot;\r\n```\r\nI have seen the recommendations on [this answer](https://stackoverflow.com/questions/56054353/driver-oracle-jdbc-oracledriver-claims-to-not-accept-jdbcurl) and [this answer](https://stackoverflow.com/questions/51476040/oracledriver-not-accept-jdbcurl-jdbcoraclethinlocalhost1521-orcl/51476212#51476212) but I have been unsuccessful in determining the root of the problem.\r\n\r\nMy configurations are as follows - I am using EnvFile locally to provide for values that are normally handled by Vault in our deployed environments.\r\n\r\n\r\n`application.properties`\r\n```\r\nspring.datasource.url=&quot;${DATASOURCE_URL}&quot;\r\nspring.datasource.driver-class-name=&quot;${SPRING_DATASOURCE_DRIVER-CLASS-NAME}&quot;\r\n```\r\n\r\n`environment value`\r\n```\r\nDATASOURCE_URL=jdbc:oracle:thin:@redacted.redacted.us-east-1.rds.amazonaws.com:1521/abcd\r\n\r\n# I have tried the following\r\n# jdbc:oracle:thin:@redacted.redacted.us-east-1.rds.amazonaws.com:1521/abcd\r\n# jdbc:oracle:thin:@redacted.redacted.us-east-1.rds.amazonaws.com:1521:abcd\r\n# jdbc:oracle:thin://@redacted.redacted.us-east-1.rds.amazonaws.com:1521:abcd\r\n# jdbc:oracle:thin://@redacted.redacted.us-east-1.rds.amazonaws.com:1521/abcd\r\n\r\nSPRING_DATASOURCE_DRIVER-CLASS-NAME=oracle.jdbc.OracleDriver\r\n```\r\n`pom.xml`\r\n```\r\n  &lt;properties&gt;\r\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n  &lt;/properties&gt;\r\n...\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n      &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n      &lt;version&gt;19.9.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nThe URL format appears to be correct as compared to the previous answer on this issue. What else might be causing the problem here?","title":"Spring Boot application OracleDriver claims to not accept jdbcUrl","body":"<p>When launching a Spring Boot application in IntelliJ using the Spring Boot Application run configuration, running with Java 1.8, I am receiving the following message (only one listed for brevity's sake - but the same exception for each of the attempted URLs):</p>\n<pre><code> Driver oracle.jdbc.OracleDriver claims to not accept jdbcUrl, &quot;jdbc:oracle:thin:@redacted.redacted.us-east-1.rds.amazonaws.com:1234/abcd&quot;\n</code></pre>\n<p>I have seen the recommendations on <a href=\"https://stackoverflow.com/questions/56054353/driver-oracle-jdbc-oracledriver-claims-to-not-accept-jdbcurl\">this answer</a> and <a href=\"https://stackoverflow.com/questions/51476040/oracledriver-not-accept-jdbcurl-jdbcoraclethinlocalhost1521-orcl/51476212#51476212\">this answer</a> but I have been unsuccessful in determining the root of the problem.</p>\n<p>My configurations are as follows - I am using EnvFile locally to provide for values that are normally handled by Vault in our deployed environments.</p>\n<p><code>application.properties</code></p>\n<pre><code>spring.datasource.url=&quot;${DATASOURCE_URL}&quot;\nspring.datasource.driver-class-name=&quot;${SPRING_DATASOURCE_DRIVER-CLASS-NAME}&quot;\n</code></pre>\n<p><code>environment value</code></p>\n<pre><code>DATASOURCE_URL=jdbc:oracle:thin:@redacted.redacted.us-east-1.rds.amazonaws.com:1521/abcd\n\n# I have tried the following\n# jdbc:oracle:thin:@redacted.redacted.us-east-1.rds.amazonaws.com:1521/abcd\n# jdbc:oracle:thin:@redacted.redacted.us-east-1.rds.amazonaws.com:1521:abcd\n# jdbc:oracle:thin://@redacted.redacted.us-east-1.rds.amazonaws.com:1521:abcd\n# jdbc:oracle:thin://@redacted.redacted.us-east-1.rds.amazonaws.com:1521/abcd\n\nSPRING_DATASOURCE_DRIVER-CLASS-NAME=oracle.jdbc.OracleDriver\n</code></pre>\n<p><code>pom.xml</code></p>\n<pre><code>  &lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n  &lt;/properties&gt;\n...\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n      &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n      &lt;version&gt;19.9.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>The URL format appears to be correct as compared to the previous answer on this issue. What else might be causing the problem here?</p>\n"},{"tags":["java","intellij-idea","code-templates"],"comments":[{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":1,"creation_date":1383256355,"post_id":19717135,"comment_id":29292145,"body_markdown":"search files under .idea directory; the template is probably in one of the xml files","body":"search files under .idea directory; the template is probably in one of the xml files"}],"answers":[{"comments":[{"owner":{"account_id":3150081,"reputation":303,"user_id":2663702,"display_name":"ashish"},"score":0,"creation_date":1383261381,"post_id":19717934,"comment_id":29293750,"body_markdown":"Thanks for the reply.\n\nI am able to create a java file under Templates tab, that&#39;s fine and i can access that under the location C:\\Users\\{USER}\\.IntelliJIdea12\\config\\fileTemplates\\\n\nbut what i want is that the default template gets override by my FooClass template so that when anybody creates a new class the FooClass template get picked up not the default one,\nwhich i am not able to do because when i create a new Java class it still picks up from the default template not my FooClass Template.\n\nand i want to do similarly for all other things also like:\n\nFooInteface\nFooEnum\nFooAnnotation","body":"Thanks for the reply.  I am able to create a java file under Templates tab, that&#39;s fine and i can access that under the location C:\\Users\\{USER}\\.IntelliJIdea12\\config\\fileTemplates\\  but what i want is that the default template gets override by my FooClass template so that when anybody creates a new class the FooClass template get picked up not the default one, which i am not able to do because when i create a new Java class it still picks up from the default template not my FooClass Template.  and i want to do similarly for all other things also like:  FooInteface FooEnum FooAnnotation"},{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":1,"creation_date":1383317839,"post_id":19717934,"comment_id":29311854,"body_markdown":"Ok, so you want to modify the default class template? In File and Code Templates, just modify the `Class` template, look in C:\\Users\\{User}\\.IntelliJIdea12\\config\\fileTemplates\\internal\\ and share `Class.java` with your colleagues.","body":"Ok, so you want to modify the default class template? In File and Code Templates, just modify the <code>Class</code> template, look in C:\\Users\\{User}\\.IntelliJIdea12\\config\\fileTemplates\\interna&zwnj;&#8203;l\\ and share <code>Class.java</code> with your colleagues."},{"owner":{"account_id":3150081,"reputation":303,"user_id":2663702,"display_name":"ashish"},"score":1,"creation_date":1383327550,"post_id":19717934,"comment_id":29317130,"body_markdown":"Thanks a lot Steve! that&#39;s i was exactly looking for. \\n\nNow i want to do it for default Interface, Enum and Annotation but in my intelliJ installation i am not able to see interface.java file similar to class.java at the same path:\nC:\\Users\\{User}\\.IntelliJIdea12\\config\\fileTemplates\\internal\\. \\n\nI assumed that they should be same way as Class.java but seems not the case. So are they stored at some other location in intelliJ ?","body":"Thanks a lot Steve! that&#39;s i was exactly looking for. \\n Now i want to do it for default Interface, Enum and Annotation but in my intelliJ installation i am not able to see interface.java file similar to class.java at the same path: C:\\Users\\{User}\\.IntelliJIdea12\\config\\fileTemplates\\interna&zwnj;&#8203;l\\. \\n I assumed that they should be same way as Class.java but seems not the case. So are they stored at some other location in intelliJ ?"},{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1383330185,"post_id":19717934,"comment_id":29318440,"body_markdown":"They are indeed stored in the same place, you just need to modify the templates for Interface, Enum and Annotation within IntelliJ first - and then they will appear in the file system. Have fun with this! ;)","body":"They are indeed stored in the same place, you just need to modify the templates for Interface, Enum and Annotation within IntelliJ first - and then they will appear in the file system. Have fun with this! ;)"},{"owner":{"account_id":3150081,"reputation":303,"user_id":2663702,"display_name":"ashish"},"score":0,"creation_date":1383356934,"post_id":19717934,"comment_id":29327473,"body_markdown":"Thanks for sharing this info...that&#39;s quite strange though!.. oh that explains also, why i wasn&#39;t able to see any class.java file at the same path on my team members&#39; machine. But that&#39;s a drawback again as i can not give my class.java file to my team members and ask them to (re)place their class.java under that location since they are not able to see any file there ? This was my whole purpose!","body":"Thanks for sharing this info...that&#39;s quite strange though!.. oh that explains also, why i wasn&#39;t able to see any class.java file at the same path on my team members&#39; machine. But that&#39;s a drawback again as i can not give my class.java file to my team members and ask them to (re)place their class.java under that location since they are not able to see any file there ? This was my whole purpose!"},{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1383387051,"post_id":19717934,"comment_id":29332136,"body_markdown":"I would guess you can indeed just ask them to put it there, even if it didn&#39;t exist already. This sort of functionality is designed to minimize the configuration in xml files - only configuration that differs from the default seems to be configured on the file system (thus giving a faster startup when you open intellij since less files need to be read?)","body":"I would guess you can indeed just ask them to put it there, even if it didn&#39;t exist already. This sort of functionality is designed to minimize the configuration in xml files - only configuration that differs from the default seems to be configured on the file system (thus giving a faster startup when you open intellij since less files need to be read?)"}],"tags":[],"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"comment_count":6,"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1454053647,"creation_date":1383259777,"answer_id":19717934,"question_id":19717135,"body_markdown":"First, in IntelliJ, open Settings (ctrl-alt-s), under IDE Settings find `File and Code Templates` and have a look at the `Templates` tab.\r\n\r\nYou will see some templates there already, for example there is one called `Class`:\r\n\r\n    #if (${PACKAGE_NAME} &amp;&amp; ${PACKAGE_NAME} != &quot;&quot;)package ${PACKAGE_NAME};#end\r\n    #parse(&quot;File Header.java&quot;)\r\n    public class ${NAME} {\r\n    }\r\n\r\nNote that it includes `File Header`, which is found under the `Includes` tab.\r\n\r\nNow, you can easily create your own file templates here. Under the `Templates` tab, just hit the green &quot;Add&quot; button, give your new template a name (`Foo` ?),ensure the extension is  *java* and write a valid java class.\r\n\r\nSave, and your newly configured template exists here:\r\n\r\n    C:\\Users\\{USER}\\.IntelliJIdea12\\config\\fileTemplates\\Foo.java\r\n\r\nYou should be able to share this file with your team.\r\n\r\nA neat feature is that from within the *Project* pane of a java project, under a source root, hit `alt-enter`, choose a New *Java Class* and under the *Kind* drop-down - voila! You can see your `Foo` template as a valid option.\r\n","title":"How can we write our own code template file in IntelliJ IDEA","body":"<p>First, in IntelliJ, open Settings (ctrl-alt-s), under IDE Settings find <code>File and Code Templates</code> and have a look at the <code>Templates</code> tab.</p>\n\n<p>You will see some templates there already, for example there is one called <code>Class</code>:</p>\n\n<pre><code>#if (${PACKAGE_NAME} &amp;&amp; ${PACKAGE_NAME} != \"\")package ${PACKAGE_NAME};#end\n#parse(\"File Header.java\")\npublic class ${NAME} {\n}\n</code></pre>\n\n<p>Note that it includes <code>File Header</code>, which is found under the <code>Includes</code> tab.</p>\n\n<p>Now, you can easily create your own file templates here. Under the <code>Templates</code> tab, just hit the green \"Add\" button, give your new template a name (<code>Foo</code> ?),ensure the extension is  <em>java</em> and write a valid java class.</p>\n\n<p>Save, and your newly configured template exists here:</p>\n\n<pre><code>C:\\Users\\{USER}\\.IntelliJIdea12\\config\\fileTemplates\\Foo.java\n</code></pre>\n\n<p>You should be able to share this file with your team.</p>\n\n<p>A neat feature is that from within the <em>Project</em> pane of a java project, under a source root, hit <code>alt-enter</code>, choose a New <em>Java Class</em> and under the <em>Kind</em> drop-down - voila! You can see your <code>Foo</code> template as a valid option.</p>\n"},{"tags":[],"owner":{"account_id":2084596,"reputation":1166,"user_id":1855840,"display_name":"ranma2913"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588709657,"creation_date":1588709657,"answer_id":61622231,"question_id":19717135,"body_markdown":"Here&#39;s the contents of my `File Header.java`\r\n\r\n    /**\r\n     * Project: ${PROJECT_NAME}\r\n     * Package: ${PACKAGE_NAME}\r\n     * &lt;p&gt;\r\n     * User: ${USER}\r\n     * Date: ${DATE}\r\n     * Time: ${TIME}\r\n     * &lt;p&gt;\r\n     * Created with IntelliJ IDEA\r\n     * To change this template use File | Settings | File Templates.\r\n     */","title":"How can we write our own code template file in IntelliJ IDEA","body":"<p>Here's the contents of my <code>File Header.java</code></p>\n\n<pre><code>/**\n * Project: ${PROJECT_NAME}\n * Package: ${PACKAGE_NAME}\n * &lt;p&gt;\n * User: ${USER}\n * Date: ${DATE}\n * Time: ${TIME}\n * &lt;p&gt;\n * Created with IntelliJ IDEA\n * To change this template use File | Settings | File Templates.\n */\n</code></pre>\n"}],"owner":{"account_id":3150081,"reputation":303,"user_id":2663702,"display_name":"ashish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16780,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":19717934,"answer_count":2,"score":28,"last_activity_date":1700839021,"creation_date":1383255816,"question_id":19717135,"body_markdown":"I need to create a sample code template in my IntelliJ IDEA project so that everybody in the team can also kind of import it in their IDEs and use it.\r\n\r\nI am able to do it on my own machine by changing the &quot;class&quot; template myself, but i just don&#39;t have any way to make it available to my team like exporting it to a file that can be used, in Eclipse it is possible to have one sampleCodeFormatter.xml file that everybody can import in their eclipse workspace.\r\n\r\nHow does the same thing works in IntelliJ IDEA?","title":"How can we write our own code template file in IntelliJ IDEA","body":"<p>I need to create a sample code template in my IntelliJ IDEA project so that everybody in the team can also kind of import it in their IDEs and use it.</p>\n\n<p>I am able to do it on my own machine by changing the \"class\" template myself, but i just don't have any way to make it available to my team like exporting it to a file that can be used, in Eclipse it is possible to have one sampleCodeFormatter.xml file that everybody can import in their eclipse workspace.</p>\n\n<p>How does the same thing works in IntelliJ IDEA?</p>\n"},{"tags":["java","oop","generics","inheritance","design-patterns"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1700816529,"post_id":77541866,"comment_id":136701975,"body_markdown":"Those two classes don&#39;t share any behavior. Why are they both `Animal`s in the first place? You should probably have a `forAnimal` method which in `Dog` calls `forDog` and in `Cat` calls `forCat`, then `AnimalProcessing.appendTo` would only need to call `animal.forAnimal()`","body":"Those two classes don&#39;t share any behavior. Why are they both <code>Animal</code>s in the first place? You should probably have a <code>forAnimal</code> method which in <code>Dog</code> calls <code>forDog</code> and in <code>Cat</code> calls <code>forCat</code>, then <code>AnimalProcessing.appendTo</code> would only need to call <code>animal.forAnimal()</code>"},{"owner":{"account_id":11210679,"reputation":1241,"user_id":8224838,"display_name":"AntonBoarf"},"score":0,"creation_date":1700816757,"post_id":77541866,"comment_id":136702019,"body_markdown":"They do share. I just removed other methods, implementations to make things easier to read. These classes are generated by JAXB, I cannot rename methods or change these classes","body":"They do share. I just removed other methods, implementations to make things easier to read. These classes are generated by JAXB, I cannot rename methods or change these classes"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1700816892,"post_id":77541866,"comment_id":136702037,"body_markdown":"Fine, but the rest of my comment stands.","body":"Fine, but the rest of my comment stands."},{"owner":{"account_id":11210679,"reputation":1241,"user_id":8224838,"display_name":"AntonBoarf"},"score":0,"creation_date":1700817072,"post_id":77541866,"comment_id":136702064,"body_markdown":"just edited my comment","body":"just edited my comment"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1700817643,"post_id":77541866,"comment_id":136702167,"body_markdown":"What is &quot;best&quot; is subjective. Please [edit] to give an objective criteria instead.","body":"What is &quot;best&quot; is subjective. Please <a href=\"https://stackoverflow.com/posts/77541866/edit\">edit</a> to give an objective criteria instead."},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1700821126,"post_id":77541866,"comment_id":136702780,"body_markdown":"This is indeed subjective and also depends on other parts of your code that you didn&#39;t show, mainly on how you are going to create and call the implementations of interface `Processing`. If, for example, you have a collection of animals somewhere and you don&#39;t know at compile time which object is which, then you won&#39;t be able to avoid using `instanceof` - either by solution B, or in some other place where you need to decide whether to create a `CatProcessing` or `DogProcessing` object.","body":"This is indeed subjective and also depends on other parts of your code that you didn&#39;t show, mainly on how you are going to create and call the implementations of interface <code>Processing</code>. If, for example, you have a collection of animals somewhere and you don&#39;t know at compile time which object is which, then you won&#39;t be able to avoid using <code>instanceof</code> - either by solution B, or in some other place where you need to decide whether to create a <code>CatProcessing</code> or <code>DogProcessing</code> object."}],"answers":[{"tags":[],"owner":{"account_id":8406764,"reputation":407,"user_id":6310022,"display_name":"R.Abbasi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700838585,"creation_date":1700838585,"answer_id":77544103,"question_id":77541866,"body_markdown":"Type checking is a code smell as it breaks the open-close principle. Therefore the second solution is not recommended. \r\n\r\nIn the first solution, why do you need the &quot;internalAppend&quot;? It should be avoided as it doesn&#39;t add anything to the design, the &quot;appendTo&quot; method is enough.\r\n\r\nI think the processing should be in the animal concrete types. According to the &quot;Information Expert&quot; principle of GRASP, it would be best if this responsibility lies in the animal concrete type instead of Processing objects.","title":"Java : generics, inheritance and best design","body":"<p>Type checking is a code smell as it breaks the open-close principle. Therefore the second solution is not recommended.</p>\n<p>In the first solution, why do you need the &quot;internalAppend&quot;? It should be avoided as it doesn't add anything to the design, the &quot;appendTo&quot; method is enough.</p>\n<p>I think the processing should be in the animal concrete types. According to the &quot;Information Expert&quot; principle of GRASP, it would be best if this responsibility lies in the animal concrete type instead of Processing objects.</p>\n"}],"owner":{"account_id":11210679,"reputation":1241,"user_id":8224838,"display_name":"AntonBoarf"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1700838585,"creation_date":1700816365,"question_id":77541866,"body_markdown":"I have a basic processing interface :\r\n\r\n    public interface Processing&lt;T&gt; {\r\n        void appendTo(T t);\r\n    }\r\n\r\nAnd this inheritance tree :\r\n\r\n    public class Animal {\r\n    }\r\n    \r\n    public class Dog extends Animal {\r\n        public void forDog() {}\r\n    }\r\n    \r\n    public class Cat extends Animal {\r\n        public forCat() {}\r\n    }\r\n\r\nIt&#39;s about processing animals. I have two solutions. Which one is the best pattern ?\r\n\r\n\r\nSOLUTION A (with generics) :\r\n\r\n    public abstract class AbstractProcessing&lt;T extends Animal&gt; implements Processing&lt;T&gt; {\r\n        protected void internalAppend() {}\r\n    }\r\n    \r\n    public class CatProcssing extends AbstractProcessing&lt;Cat&gt;{\r\n    \r\n        @Override\r\n        public void appendTo(Cat cat) {\r\n            cat.forCat();\r\n            internalAppend();\r\n        }\r\n    }\r\n    \r\n    public class DogProcessing extends AbstractProcessing&lt;Dog&gt;{\r\n        \r\n        @Override\r\n        public void appendTo(Dog dog) {\r\n            dog.forDog();\r\n            internalAppend();\r\n        }\r\n    }\r\n\r\n\r\nSOLUTION B :\r\n\r\n    public class AnimalProcessing implements Processing&lt;Animal&gt;{\r\n        @Override\r\n        public void appendTo(Animal animal) {\r\n            if (animal instanceof Cat cat) {\r\n                cat.forCat();\r\n            } else if (animal instanceof Dog dog) {\r\n                dog.forDog();\r\n            } else {\r\n                throw new IllegalArgumentException();\r\n            }\r\n            internalAppend();\r\n        }\r\n    \r\n        private void internalAppend() { }\r\n    }","title":"Java : generics, inheritance and best design","body":"<p>I have a basic processing interface :</p>\n<pre><code>public interface Processing&lt;T&gt; {\n    void appendTo(T t);\n}\n</code></pre>\n<p>And this inheritance tree :</p>\n<pre><code>public class Animal {\n}\n\npublic class Dog extends Animal {\n    public void forDog() {}\n}\n\npublic class Cat extends Animal {\n    public forCat() {}\n}\n</code></pre>\n<p>It's about processing animals. I have two solutions. Which one is the best pattern ?</p>\n<p>SOLUTION A (with generics) :</p>\n<pre><code>public abstract class AbstractProcessing&lt;T extends Animal&gt; implements Processing&lt;T&gt; {\n    protected void internalAppend() {}\n}\n\npublic class CatProcssing extends AbstractProcessing&lt;Cat&gt;{\n\n    @Override\n    public void appendTo(Cat cat) {\n        cat.forCat();\n        internalAppend();\n    }\n}\n\npublic class DogProcessing extends AbstractProcessing&lt;Dog&gt;{\n    \n    @Override\n    public void appendTo(Dog dog) {\n        dog.forDog();\n        internalAppend();\n    }\n}\n</code></pre>\n<p>SOLUTION B :</p>\n<pre><code>public class AnimalProcessing implements Processing&lt;Animal&gt;{\n    @Override\n    public void appendTo(Animal animal) {\n        if (animal instanceof Cat cat) {\n            cat.forCat();\n        } else if (animal instanceof Dog dog) {\n            dog.forDog();\n        } else {\n            throw new IllegalArgumentException();\n        }\n        internalAppend();\n    }\n\n    private void internalAppend() { }\n}\n</code></pre>\n"},{"tags":["java","android","html","firebase"],"comments":[{"owner":{"account_id":81296,"reputation":1781,"user_id":229326,"accept_rate":67,"display_name":"Greg Fenton"},"score":0,"creation_date":1700863848,"post_id":77544091,"comment_id":136708724,"body_markdown":"How are you loading the Firebase SDK?  The code `firebase.initializeApp()` and `firebase.messaging()` is using the older &quot;namespaced API&quot; syntax rather than the newer &quot;modular API&quot; syntax that came out with v9 of the Client SDK.","body":"How are you loading the Firebase SDK?  The code <code>firebase.initializeApp()</code> and <code>firebase.messaging()</code> is using the older &quot;namespaced API&quot; syntax rather than the newer &quot;modular API&quot; syntax that came out with v9 of the Client SDK."}],"owner":{"account_id":24382061,"reputation":33,"user_id":19780184,"display_name":"John B"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700838400,"creation_date":1700838400,"question_id":77544091,"body_markdown":"ok i got this script working in registration form using html and javascript as shown below. works fine in webbrowsers no issues. when i open the page using android webview it seems like it does not fire up no token has been retrieved at the initial load.\r\n\r\nany insights is appreciated!\r\n\r\n    &lt;script src=&quot;https://www.website/firebase-app.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script src=&quot;https://www.website/firebase-messaging.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script&gt;\r\n     const firebaseConfig = {\r\n      apiKey: &quot;YOUR_API_KEY&quot;,\r\n      authDomain: &quot;YOUR_AUTH_DOMAIN&quot;,\r\n      projectId: &quot;YOUR_PROJECT_ID&quot;,\r\n      storageBucket: &quot;YOUR_STORAGE_BUCKET&quot;,\r\n      messagingSenderId: &quot;YOUR_SENDER_ID&quot;,\r\n      appId: &quot;YOUR_APP_ID&quot;,\r\n      measurementId: &quot;YOUR_MEASUREMENT_ID&quot;\r\n    };\r\n\r\n    firebase.initializeApp(firebaseConfig);\r\n\r\n    // Retrieve FCM token and set it in the hidden field\r\n    const messaging = firebase.messaging();\r\n\r\n    // Service worker registration\r\n    if (&#39;serviceWorker&#39; in navigator) {\r\n    navigator.serviceWorker.register(&#39;firebase-messaging-sw.js&#39;)\r\n      .then((registration) =&gt; {\r\n        console.log(&#39;Service Worker registered:&#39;, registration);\r\n      })\r\n      .catch((err) =&gt; {\r\n        console.error(&#39;Service Worker registration failed:&#39;, err);\r\n      });\r\n     }\r\n\r\n     messaging.getToken().then(token =&gt; {\r\n    // Set the token value in the hidden input field\r\n    document.getElementById(&#39;fcmToken&#39;).value = token;\r\n     }).catch(error =&gt; {\r\n      // Handle token generation failure\r\n       console.error(&#39;Error getting FCM token:&#39;, error);\r\n     });\r\n    &lt;/script&gt;\r\n\r\n\r\n","title":"firebase token html , javascript how to integrate it all in andriod webview","body":"<p>ok i got this script working in registration form using html and javascript as shown below. works fine in webbrowsers no issues. when i open the page using android webview it seems like it does not fire up no token has been retrieved at the initial load.</p>\n<p>any insights is appreciated!</p>\n<pre><code>&lt;script src=&quot;https://www.website/firebase-app.js&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;https://www.website/firebase-messaging.js&quot;&gt;&lt;/script&gt;\n&lt;script&gt;\n const firebaseConfig = {\n  apiKey: &quot;YOUR_API_KEY&quot;,\n  authDomain: &quot;YOUR_AUTH_DOMAIN&quot;,\n  projectId: &quot;YOUR_PROJECT_ID&quot;,\n  storageBucket: &quot;YOUR_STORAGE_BUCKET&quot;,\n  messagingSenderId: &quot;YOUR_SENDER_ID&quot;,\n  appId: &quot;YOUR_APP_ID&quot;,\n  measurementId: &quot;YOUR_MEASUREMENT_ID&quot;\n};\n\nfirebase.initializeApp(firebaseConfig);\n\n// Retrieve FCM token and set it in the hidden field\nconst messaging = firebase.messaging();\n\n// Service worker registration\nif ('serviceWorker' in navigator) {\nnavigator.serviceWorker.register('firebase-messaging-sw.js')\n  .then((registration) =&gt; {\n    console.log('Service Worker registered:', registration);\n  })\n  .catch((err) =&gt; {\n    console.error('Service Worker registration failed:', err);\n  });\n }\n\n messaging.getToken().then(token =&gt; {\n// Set the token value in the hidden input field\ndocument.getElementById('fcmToken').value = token;\n }).catch(error =&gt; {\n  // Handle token generation failure\n   console.error('Error getting FCM token:', error);\n });\n&lt;/script&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","gradle","setup-project"],"comments":[{"owner":{"account_id":9721856,"reputation":132,"user_id":7210329,"display_name":"Satheesh K"},"score":0,"creation_date":1620759547,"post_id":55320770,"comment_id":119294930,"body_markdown":"any updates, how did you resolve it?","body":"any updates, how did you resolve it?"}],"answers":[{"comments":[{"owner":{"account_id":4064266,"reputation":1553,"user_id":3339818,"display_name":"surajs1n"},"score":0,"creation_date":1564476424,"post_id":57267043,"comment_id":101033887,"body_markdown":"It is a comment, not answer. Please write something more, otherwise, it will be closed soon.","body":"It is a comment, not answer. Please write something more, otherwise, it will be closed soon."}],"tags":[],"owner":{"account_id":16201921,"reputation":1,"user_id":11698115,"display_name":"AJV"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1564473996,"creation_date":1564473996,"answer_id":57267043,"question_id":55320770,"body_markdown":"Apologies for unable to reproduce this issue in my Eclipse or STS IDE. But, I have faced this issue in my IntelliJ IDE. The updated version of the IDE resolved this issue.\r\n\r\nhttps://www.jetbrains.com/idea/download/#section=windows","title":"You are currently using tooling API version 2.2.1. You should upgrade your tooling API client to version 3.0 or later","body":"<p>Apologies for unable to reproduce this issue in my Eclipse or STS IDE. But, I have faced this issue in my IntelliJ IDE. The updated version of the IDE resolved this issue.</p>\n\n<p><a href=\"https://www.jetbrains.com/idea/download/#section=windows\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/idea/download/#section=windows</a></p>\n"},{"tags":[],"owner":{"account_id":2157141,"reputation":6635,"user_id":1912085,"accept_rate":75,"display_name":"R9J"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565841783,"creation_date":1565841783,"answer_id":57504719,"question_id":55320770,"body_markdown":"[![Hope this help others][1]][1]\r\n\r\nI know its quite a late response. But, It might help others.\r\n\r\n - Download Gradle Zip from Gradle website\r\n - Open your eclipse Preferences\r\n - Select Gradle STS -&gt; choose your gradle directory\r\n\r\nThis solved mine.\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/85FOS.png","title":"You are currently using tooling API version 2.2.1. You should upgrade your tooling API client to version 3.0 or later","body":"<p><a href=\"https://i.stack.imgur.com/85FOS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/85FOS.png\" alt=\"Hope this help others\"></a></p>\n\n<p>I know its quite a late response. But, It might help others.</p>\n\n<ul>\n<li>Download Gradle Zip from Gradle website</li>\n<li>Open your eclipse Preferences</li>\n<li>Select Gradle STS -> choose your gradle directory</li>\n</ul>\n\n<p>This solved mine.</p>\n"}],"owner":{"account_id":6950317,"reputation":726,"user_id":5333146,"accept_rate":89,"display_name":"Lokesh Kumar Gaurav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8511,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1700838275,"creation_date":1553402149,"question_id":55320770,"body_markdown":"I have created gradle project from [here][1] and while importing Gradle(STS) from eclipse I am getting error [![enter image description here][2]][2] and image of error log is [![enter image description here][3]][3]\r\n\r\nSo, I am not able to import my project. any suggestion? \r\n\r\n\r\n  [1]: https://start.spring.io/\r\n  [2]: https://i.stack.imgur.com/1JpvD.png\r\n  [3]: https://i.stack.imgur.com/Leuuc.png","title":"You are currently using tooling API version 2.2.1. You should upgrade your tooling API client to version 3.0 or later","body":"<p>I have created gradle project from <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">here</a> and while importing Gradle(STS) from eclipse I am getting error <a href=\"https://i.stack.imgur.com/1JpvD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1JpvD.png\" alt=\"enter image description here\"></a> and image of error log is <a href=\"https://i.stack.imgur.com/Leuuc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Leuuc.png\" alt=\"enter image description here\"></a></p>\n\n<p>So, I am not able to import my project. any suggestion? </p>\n"},{"tags":["java","maven","intellij-idea","java-8"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1647773032,"post_id":71545923,"comment_id":126450776,"body_markdown":"`sudo update-alternatives --get-selections java` will allow you to set the jdk you want (providing it&#39;s been installed with your package manager)","body":"<code>sudo update-alternatives --get-selections java</code> will allow you to set the jdk you want (providing it&#39;s been installed with your package manager)"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1647776911,"post_id":71545923,"comment_id":126451558,"body_markdown":"There is a difference between Maven and IntelliJ. To get the correct version on plain command line use the correct `JAVA_HOME` setting ... furthermore I see many things out of date like your Maven version also old plugins versions etc.. I strongly recommend to upgrade to Maven 3.8.4 furthermore upgrade you maven-compiler-plugin and decide which version of Java you like to use to build and what version the target should be?","body":"There is a difference between Maven and IntelliJ. To get the correct version on plain command line use the correct <code>JAVA_HOME</code> setting ... furthermore I see many things out of date like your Maven version also old plugins versions etc.. I strongly recommend to upgrade to Maven 3.8.4 furthermore upgrade you maven-compiler-plugin and decide which version of Java you like to use to build and what version the target should be?"}],"answers":[{"tags":[],"owner":{"account_id":15088930,"reputation":26,"user_id":10889374,"display_name":"Tamir Hazut"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647937199,"creation_date":1647937199,"answer_id":71568827,"question_id":71545923,"body_markdown":"Try and change in Settings -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Maven -&gt; Runner -&gt; JRE to use JDK 8 or even better set the JAVA_HOME to the JDK 8","title":"JDK version mismatch between Intellij project structure and Maven version","body":"<p>Try and change in Settings -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Maven -&gt; Runner -&gt; JRE to use JDK 8 or even better set the JAVA_HOME to the JDK 8</p>\n"},{"tags":[],"owner":{"account_id":28794993,"reputation":39,"user_id":22053378,"display_name":"work-in-progress"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700838268,"creation_date":1700838268,"answer_id":77544082,"question_id":71545923,"body_markdown":"regarding your personnal configurations : \r\n\r\nby buiding in the terminal : \r\nyou should get a java 8 jar, as you ask java 8 as target, with a jdk 11 (this is comaptible)\r\n\r\nby buiding in Intellij IDEA : \r\nyou should get a java 8 jar, as you ask java 8 as target, with a jdk 8 as project structure.\r\n","title":"JDK version mismatch between Intellij project structure and Maven version","body":"<p>regarding your personnal configurations :</p>\n<p>by buiding in the terminal :\nyou should get a java 8 jar, as you ask java 8 as target, with a jdk 11 (this is comaptible)</p>\n<p>by buiding in Intellij IDEA :\nyou should get a java 8 jar, as you ask java 8 as target, with a jdk 8 as project structure.</p>\n"}],"owner":{"account_id":16921011,"reputation":2463,"user_id":12237837,"display_name":"Aditya Rewari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":979,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71568827,"answer_count":2,"score":0,"last_activity_date":1700838268,"creation_date":1647772117,"question_id":71545923,"body_markdown":"At project structure of Intellij, **the JDK version is selected as 1.8**\r\n\r\nAt Maven properties also, the **JDK verison had been mention as 1.8**\r\n\r\n*But still upon `mvn --install` somehow I get JDK verion as 11*\r\n\r\nUnable to understand the behaviour. And how do I make it as 1.8\r\n\r\nProject screenshot\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WhEJ1.jpg","title":"JDK version mismatch between Intellij project structure and Maven version","body":"<p>At project structure of Intellij, <strong>the JDK version is selected as 1.8</strong></p>\n<p>At Maven properties also, the <strong>JDK verison had been mention as 1.8</strong></p>\n<p><em>But still upon <code>mvn --install</code> somehow I get JDK verion as 11</em></p>\n<p>Unable to understand the behaviour. And how do I make it as 1.8</p>\n<p>Project screenshot</p>\n<p><a href=\"https://i.stack.imgur.com/WhEJ1.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WhEJ1.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":2,"creation_date":1700825470,"post_id":77542785,"comment_id":136703453,"body_markdown":"If the tasks have to be ordered it doesn&#39;t make sense to use threads.","body":"If the tasks have to be ordered it doesn&#39;t make sense to use threads."},{"owner":{"account_id":2813073,"reputation":27,"user_id":2418888,"display_name":"1heone"},"score":0,"creation_date":1700825928,"post_id":77542785,"comment_id":136703520,"body_markdown":"yes still, but i am practicing Threads. The task doesn&#39;t matter, the implementation does. That&#39;s why i need to know what&#39;s going wrong, because what i want to master is the use of wait() and notify() to coordinate between threads","body":"yes still, but i am practicing Threads. The task doesn&#39;t matter, the implementation does. That&#39;s why i need to know what&#39;s going wrong, because what i want to master is the use of wait() and notify() to coordinate between threads"},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1700826609,"post_id":77542785,"comment_id":136703625,"body_markdown":"Will the program terminate at all?","body":"Will the program terminate at all?"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":1,"creation_date":1700827050,"post_id":77542785,"comment_id":136703690,"body_markdown":"You block the thread, theres&#39;no way to finish it. Threads are running in parallel, but you chosed to IO to a file which is synchronized themselves.","body":"You block the thread, theres&#39;no way to finish it. Threads are running in parallel, but you chosed to IO to a file which is synchronized themselves."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1700828071,"post_id":77542785,"comment_id":136703830,"body_markdown":"Are you sure that thread 1 starts its execution before thread 2? Because you don&#39;t have anything in place that prevents thread 2 from first acquiring the lock, then failing in its `populateFile` method.","body":"Are you sure that thread 1 starts its execution before thread 2? Because you don&#39;t have anything in place that prevents thread 2 from first acquiring the lock, then failing in its <code>populateFile</code> method."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1700828137,"post_id":77542785,"comment_id":136703837,"body_markdown":"_Lost notification:_ Thread 2 doesn&#39;t get to `lock.wait()` until after Thread 1 has completely finished. It misses seeing the earlier `lock.notify()` in Thread 1. It waits forever--waiting for another notification, but no other notification ever happens.","body":"<i>Lost notification:</i> Thread 2 doesn&#39;t get to <code>lock.wait()</code> until after Thread 1 has completely finished. It misses seeing the earlier <code>lock.notify()</code> in Thread 1. It waits forever--waiting for another notification, but no other notification ever happens."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1700828712,"post_id":77542785,"comment_id":136703934,"body_markdown":"P.S., If somebody saw you beating on a trumpet with drumsticks, and they told you that was not how a trumpet is meant to be played, would you say, &quot;yes still, but i am practicing?&quot;","body":"P.S., If somebody saw you beating on a trumpet with drumsticks, and they told you that was not how a trumpet is meant to be played, would you say, &quot;yes still, but i am practicing?&quot;"},{"owner":{"account_id":2813073,"reputation":27,"user_id":2418888,"display_name":"1heone"},"score":0,"creation_date":1700829989,"post_id":77542785,"comment_id":136704165,"body_markdown":"@tquadrat the program doesn&#39;t terminate. it hangs WITHOUT finishing the process with exit code(0).","body":"@tquadrat the program doesn&#39;t terminate. it hangs WITHOUT finishing the process with exit code(0)."},{"owner":{"account_id":2813073,"reputation":27,"user_id":2418888,"display_name":"1heone"},"score":0,"creation_date":1700830039,"post_id":77542785,"comment_id":136704180,"body_markdown":"@RomanC how in parallel? the lock.wait() on thread2 makes it sleep and wait for the notify from thread1","body":"@RomanC how in parallel? the lock.wait() on thread2 makes it sleep and wait for the notify from thread1"},{"owner":{"account_id":2813073,"reputation":27,"user_id":2418888,"display_name":"1heone"},"score":0,"creation_date":1700830138,"post_id":77542785,"comment_id":136704194,"body_markdown":"@RobSpoor i quote &quot; It misses seeing the earlier lock.notify() in Thread 1. It waits forever--waiting for another notification, but no other notification ever happens.&quot; how does it miss the lock.notify() of thread1 while thread1 has already finished its task and created the file (the file is created after executing the code)","body":"@RobSpoor i quote &quot; It misses seeing the earlier lock.notify() in Thread 1. It waits forever--waiting for another notification, but no other notification ever happens.&quot; how does it miss the lock.notify() of thread1 while thread1 has already finished its task and created the file (the file is created after executing the code)"},{"owner":{"account_id":2813073,"reputation":27,"user_id":2418888,"display_name":"1heone"},"score":0,"creation_date":1700830422,"post_id":77542785,"comment_id":136704248,"body_markdown":"@SolomonSlow i know it does not make any sense to use threads in this simple context but as i said, i wonder why the thread2 doesn&#39;t get executed.\n\nPS: in thread2 if i &quot;stupidly&quot; put the method populateFile() BEFORE the lock.wait() - which is against the threads mechanism -  the file gets indeed populated with the text, but again this is stupid and not thread safe.","body":"@SolomonSlow i know it does not make any sense to use threads in this simple context but as i said, i wonder why the thread2 doesn&#39;t get executed.  PS: in thread2 if i &quot;stupidly&quot; put the method populateFile() BEFORE the lock.wait() - which is against the threads mechanism -  the file gets indeed populated with the text, but again this is stupid and not thread safe."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1700832197,"post_id":77542785,"comment_id":136704544,"body_markdown":"You should try to use a debugger to debug the execution and see what exactly is being executed.","body":"You should try to use a debugger to debug the execution and see what exactly is being executed."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1700836726,"post_id":77542785,"comment_id":136705343,"body_markdown":"@1heone Parallel is when both threads are running simultaneously. It is not like yours theads that blocking each other. In [this](https://stackoverflow.com/a/16873592/573032) showcade example threads are started running when you press a button.","body":"@1heone Parallel is when both threads are running simultaneously. It is not like yours theads that blocking each other. In <a href=\"https://stackoverflow.com/a/16873592/573032\">this</a> showcade example threads are started running when you press a button."}],"answers":[{"comments":[{"owner":{"account_id":2813073,"reputation":27,"user_id":2418888,"display_name":"1heone"},"score":0,"creation_date":1700833653,"post_id":77543385,"comment_id":136704790,"body_markdown":"I understand what are you trying to explain and i agree 100%. But as you see in my code thread2 is indeed waiting for thread1 to complete and releases the lock.","body":"I understand what are you trying to explain and i agree 100%. But as you see in my code thread2 is indeed waiting for thread1 to complete and releases the lock."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1700834098,"post_id":77543385,"comment_id":136704862,"body_markdown":"@1heone, I see that thread2 cannot _begin_ to `wait()` until after it enters the synchronized block, and if thread1 starts first, then thread2 cannot enter the synchronized block until after thread1 already has given the notification.","body":"@1heone, I see that thread2 cannot <i>begin</i> to <code>wait()</code> until after it enters the synchronized block, and if thread1 starts first, then thread2 cannot enter the synchronized block until after thread1 already has given the notification."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1700838318,"post_id":77543385,"comment_id":136705587,"body_markdown":"In short: thread 1 finishes before thread 2 calls `lock.wait()`; nothing will call `lock.notify()` anymore to wake up thread 2, and it&#39;s deadlocked.","body":"In short: thread 1 finishes before thread 2 calls <code>lock.wait()</code>; nothing will call <code>lock.notify()</code> anymore to wake up thread 2, and it&#39;s deadlocked."},{"owner":{"account_id":2813073,"reputation":27,"user_id":2418888,"display_name":"1heone"},"score":0,"creation_date":1700841799,"post_id":77543385,"comment_id":136706131,"body_markdown":"yes indeed.....","body":"yes indeed....."}],"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"comment_count":4,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1700835676,"creation_date":1700831249,"answer_id":77543385,"question_id":77542785,"body_markdown":"I wrote in a comment,\r\n\r\n&gt; _Lost notification:_ Thread 2 doesn&#39;t get to `lock.wait()` until after Thread 1 has completely finished. It misses seeing the earlier `lock.notify()` in Thread 1. It waits forever--waiting for another notification, but no other notification ever happens.\r\n\r\nYou responded,\r\n\r\n&gt; how does it miss the `lock.notify()` of thread1 while thread1 has already finished its task\r\n\r\n`lock.notify()` will wake a thread that is already waiting for the notification, but it does _nothing at all_ if no other thread is waiting. The `lock` does not remember that it was notfied. If `thread1` starts first, then it locks the `lock`, and `thread2` gets stuck trying to enter the `synchronized(lock)` block until `thread1` has completely finished.\r\n\r\n`thread2` is still stuck trying to enter the synchronized block when thread1 calls `notify`. The `notify()` call then does absolutely nothing--has no effect whatsoever--because no other thread is waiting for it at that moment.\r\n\r\nFinally, after `thread1` is completely finished, and it releases the lock, ***then*** `thread2` is able to get in to its `synchronized(lock)` block and call `lock.wait()`. But too late! `thread1` is done and gone. No second notification will ever happen, and `thread2` waits forever. The program never ends.","title":"Java Thread manipulating a file","body":"<p>I wrote in a comment,</p>\n<blockquote>\n<p><em>Lost notification:</em> Thread 2 doesn't get to <code>lock.wait()</code> until after Thread 1 has completely finished. It misses seeing the earlier <code>lock.notify()</code> in Thread 1. It waits forever--waiting for another notification, but no other notification ever happens.</p>\n</blockquote>\n<p>You responded,</p>\n<blockquote>\n<p>how does it miss the <code>lock.notify()</code> of thread1 while thread1 has already finished its task</p>\n</blockquote>\n<p><code>lock.notify()</code> will wake a thread that is already waiting for the notification, but it does <em>nothing at all</em> if no other thread is waiting. The <code>lock</code> does not remember that it was notfied. If <code>thread1</code> starts first, then it locks the <code>lock</code>, and <code>thread2</code> gets stuck trying to enter the <code>synchronized(lock)</code> block until <code>thread1</code> has completely finished.</p>\n<p><code>thread2</code> is still stuck trying to enter the synchronized block when thread1 calls <code>notify</code>. The <code>notify()</code> call then does absolutely nothing--has no effect whatsoever--because no other thread is waiting for it at that moment.</p>\n<p>Finally, after <code>thread1</code> is completely finished, and it releases the lock, <em><strong>then</strong></em> <code>thread2</code> is able to get in to its <code>synchronized(lock)</code> block and call <code>lock.wait()</code>. But too late! <code>thread1</code> is done and gone. No second notification will ever happen, and <code>thread2</code> waits forever. The program never ends.</p>\n"},{"comments":[{"owner":{"account_id":2813073,"reputation":27,"user_id":2418888,"display_name":"1heone"},"score":0,"creation_date":1700841740,"post_id":77544047,"comment_id":136706121,"body_markdown":"yes this did work thanks. and for the main thread, i want that the statement inside the main thread gets executed the last one. i guess i can&#39;t use ```latch.await();``` in the main thread as well... or can i?","body":"yes this did work thanks. and for the main thread, i want that the statement inside the main thread gets executed the last one. i guess i can&#39;t use <code>latch.await();</code> in the main thread as well... or can i?"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1700911940,"post_id":77544047,"comment_id":136711775,"body_markdown":"@1heone in that case you need a second `CountDownLatch`. Thread 2 calls its `countDown()` method in a `finally` block - that way it will get triggered even if the `populateFile` throws an exception. But `thread2.join()` will still work, because that will block until thread 2 ends, which is after the `populateFile` method ends as well.","body":"@1heone in that case you need a second <code>CountDownLatch</code>. Thread 2 calls its <code>countDown()</code> method in a <code>finally</code> block - that way it will get triggered even if the <code>populateFile</code> throws an exception. But <code>thread2.join()</code> will still work, because that will block until thread 2 ends, which is after the <code>populateFile</code> method ends as well."}],"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1700838258,"creation_date":1700837918,"answer_id":77544047,"question_id":77542785,"body_markdown":"As said by Solomon Slow, if thread 1 calls `notify()` before thread 2 calls `wait()`, no notification will come. This is one of the reasons why this form of locking is sometimes difficult to get right.\r\n\r\nJava 5.0 added a lot of classes to help with this in the `java.util.concurrent.*` packages. One that can be really useful here is `CountDownLatch`:\r\n```java\r\nCountDownLatch latch = new CountDownLatch(1);\r\n\r\nThread thread1 = new Thread(() -&gt; {\r\n    createFile();\r\n    System.out.println(&quot;Thread 1: File creation finished&quot;);\r\n    latch.countDown();\r\n});\r\n\r\nThread thread2 = new Thread(() -&gt; {\r\n    try {\r\n        latch.await();\r\n        populateFile();\r\n    } catch (InterruptedException e) {\r\n        e.printStackTrace();\r\n    }\r\n});\r\n\r\n// Start both threads\r\nthread1.start();\r\nthread2.start();\r\n```\r\nYou&#39;re now telling thread 2 to wait until someone (thread 1) has given the go-ahead. It does impose more ordering, but that&#39;s exactly what you need here.","title":"Java Thread manipulating a file","body":"<p>As said by Solomon Slow, if thread 1 calls <code>notify()</code> before thread 2 calls <code>wait()</code>, no notification will come. This is one of the reasons why this form of locking is sometimes difficult to get right.</p>\n<p>Java 5.0 added a lot of classes to help with this in the <code>java.util.concurrent.*</code> packages. One that can be really useful here is <code>CountDownLatch</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CountDownLatch latch = new CountDownLatch(1);\n\nThread thread1 = new Thread(() -&gt; {\n    createFile();\n    System.out.println(&quot;Thread 1: File creation finished&quot;);\n    latch.countDown();\n});\n\nThread thread2 = new Thread(() -&gt; {\n    try {\n        latch.await();\n        populateFile();\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n});\n\n// Start both threads\nthread1.start();\nthread2.start();\n</code></pre>\n<p>You're now telling thread 2 to wait until someone (thread 1) has given the go-ahead. It does impose more ordering, but that's exactly what you need here.</p>\n"}],"owner":{"account_id":2813073,"reputation":27,"user_id":2418888,"display_name":"1heone"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77544047,"answer_count":2,"score":0,"last_activity_date":1700838258,"creation_date":1700825303,"question_id":77542785,"body_markdown":"I am trying to make 2 threads manipulate the same file. The problem is that it only creates the file (Thread1 responsibility) but it doesn&#39;t populate the file (which is the Thread2 responsibility). Furthermore it sort hangs without finishing the process with exit code(). \r\n\r\n\r\n\r\n**here is the output :**\r\n\r\n\r\n    File created: example.txt\r\n    Thread 1: File creation finished\r\n\r\n\r\n\r\n\r\n\r\n\r\n**Here is the complete code :**\r\n\r\n\r\n\r\n    import java.io.*;\r\n\r\n    public class ThreadWithFiles {\r\n        private static final String FILE_PATH = &quot;/Users/myUser/Desktop/example.txt&quot;;\r\n\r\n        public static void main(String[] args) {\r\n\r\n            Object lock = new Object();\r\n\r\n            Thread thread1 = new Thread(() -&gt; {\r\n                synchronized (lock) {\r\n                    createFile();\r\n                    System.out.println(&quot;Thread 1: File creation finished&quot;);\r\n                    lock.notify();\r\n                }\r\n            });\r\n\r\n            Thread thread2 = new Thread(() -&gt; {\r\n                synchronized (lock) {\r\n                    try {\r\n                        lock.wait();\r\n                        populateFile();\r\n                        lock.notify();\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            });\r\n\r\n            // Start both threads\r\n            thread1.start();\r\n            thread2.start();\r\n\r\n            try {\r\n\r\n                synchronized (lock) {\r\n                    thread2.join();\r\n                    lock.wait();\r\n                    System.out.println(&quot;Main thread: Both actions terminated successfully&quot;);\r\n                }\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        private static void createFile() {\r\n            try {\r\n                File file = new File(FILE_PATH);\r\n                if (file.createNewFile()) {\r\n                    String[] words = FILE_PATH.split(&quot;/&quot;);\r\n                    String fileName = words[words.length - 1];\r\n                    System.out.println(&quot;File created: &quot; + fileName);\r\n                } else {\r\n                    System.out.println(&quot;File already exists: &quot; + FILE_PATH);\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        private static void populateFile() {\r\n            try (FileWriter writer = new FileWriter(FILE_PATH, true)) {\r\n                writer.write(&quot;Hello, this is some text to populate the file.&quot;);\r\n                System.out.println(&quot;File populated with text&quot;);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\nso what&#39;s going on here?\r\n\r\n","title":"Java Thread manipulating a file","body":"<p>I am trying to make 2 threads manipulate the same file. The problem is that it only creates the file (Thread1 responsibility) but it doesn't populate the file (which is the Thread2 responsibility). Furthermore it sort hangs without finishing the process with exit code().</p>\n<p><strong>here is the output :</strong></p>\n<pre><code>File created: example.txt\nThread 1: File creation finished\n</code></pre>\n<p><strong>Here is the complete code :</strong></p>\n<pre><code>import java.io.*;\n\npublic class ThreadWithFiles {\n    private static final String FILE_PATH = &quot;/Users/myUser/Desktop/example.txt&quot;;\n\n    public static void main(String[] args) {\n\n        Object lock = new Object();\n\n        Thread thread1 = new Thread(() -&gt; {\n            synchronized (lock) {\n                createFile();\n                System.out.println(&quot;Thread 1: File creation finished&quot;);\n                lock.notify();\n            }\n        });\n\n        Thread thread2 = new Thread(() -&gt; {\n            synchronized (lock) {\n                try {\n                    lock.wait();\n                    populateFile();\n                    lock.notify();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n\n        // Start both threads\n        thread1.start();\n        thread2.start();\n\n        try {\n\n            synchronized (lock) {\n                thread2.join();\n                lock.wait();\n                System.out.println(&quot;Main thread: Both actions terminated successfully&quot;);\n            }\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private static void createFile() {\n        try {\n            File file = new File(FILE_PATH);\n            if (file.createNewFile()) {\n                String[] words = FILE_PATH.split(&quot;/&quot;);\n                String fileName = words[words.length - 1];\n                System.out.println(&quot;File created: &quot; + fileName);\n            } else {\n                System.out.println(&quot;File already exists: &quot; + FILE_PATH);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private static void populateFile() {\n        try (FileWriter writer = new FileWriter(FILE_PATH, true)) {\n            writer.write(&quot;Hello, this is some text to populate the file.&quot;);\n            System.out.println(&quot;File populated with text&quot;);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>so what's going on here?</p>\n"},{"tags":["java","wso2","wso2-micro-integrator"],"comments":[{"owner":{"account_id":3103561,"reputation":13351,"user_id":2627018,"accept_rate":81,"display_name":"ycr"},"score":0,"creation_date":1700748822,"post_id":77536293,"comment_id":136694517,"body_markdown":"Where did you install Micro Integrator? Can you add the full path of the installation location?","body":"Where did you install Micro Integrator? Can you add the full path of the installation location?"},{"owner":{"account_id":29974297,"reputation":1,"user_id":22970903,"display_name":"Vladimir"},"score":0,"creation_date":1700802603,"post_id":77536293,"comment_id":136700263,"body_markdown":"I&#39;m unzip Micro Integrator to &#39;C:\\Program Files\\wso2mi&#39; folder","body":"I&#39;m unzip Micro Integrator to &#39;C:\\Program Files\\wso2mi&#39; folder"}],"answers":[{"tags":[],"owner":{"account_id":3103561,"reputation":13351,"user_id":2627018,"accept_rate":81,"display_name":"ycr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700838200,"creation_date":1700838200,"answer_id":77544074,"question_id":77536293,"body_markdown":"Having spaces in the installation path can cause issues with WSO2 products. The directory `Program Files` has a space in-between. So try moving the server installation to a location where each directory in the path doesn&#39;t have any spaces. For example, `C:\\wso2\\wso2mi`","title":"WSO2 Micro-integrator","body":"<p>Having spaces in the installation path can cause issues with WSO2 products. The directory <code>Program Files</code> has a space in-between. So try moving the server installation to a location where each directory in the path doesn't have any spaces. For example, <code>C:\\wso2\\wso2mi</code></p>\n"}],"owner":{"account_id":29974297,"reputation":1,"user_id":22970903,"display_name":"Vladimir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700838200,"creation_date":1700736774,"question_id":77536293,"body_markdown":"Can you help me please. I downloaded WSO2 micro-integrator, set JAVA_HOME Java JDK 17 and when I want to start it I got this error:\r\n\r\n    - INFO {org.wso2.config.mapper.ConfigParser} - Overriding files in configuration directory C:\\PROGRA~1\\WSO2MI~1\\bin\\..\r\n    - FATAL {org.wso2.micro.integrator.server.Main} - Error while performing configuration changes org.wso2.config.mapper.ConfigParserException: Error while creating new directory C:\\PROGRA~1\\WSO2MI~1\\bin\\..\\backup\\conf\\axis2\\axis2.xml\r\n        at org.wso2.config.mapper.util.FileUtils.writeFile(FileUtils.java:74) ~[config-mapper-1.0.20.jar:1.0.20]\r\n        at org.wso2.config.mapper.util.FileUtils.writeDirectory(FileUtils.java:101) ~[config-mapper-1.0.20.jar:1.0.20]\r\n        at org.wso2.config.mapper.util.FileUtils.writeDirectory(FileUtils.java:138) ~[config-mapper-1.0.20.jar:1.0.20]\r\n        at org.wso2.config.mapper.ConfigParser.backupConfigurations(ConfigParser.java:178) ~[config-mapper-1.0.20.jar:1.0.20]\r\n        at org.wso2.config.mapper.ConfigParser.deployAndStoreMetadata(ConfigParser.java:190) ~[config-mapper-1.0.20.jar:1.0.20]\r\n        at org.wso2.config.mapper.ConfigParser.parse(ConfigParser.java:137) ~[config-mapper-1.0.20.jar:1.0.20]\r\n        at org.wso2.micro.integrator.server.Main.handleConfiguration(Main.java:385) ~[org.wso2.micro.integrator.server-4.2.0.jar:4.2.0]\r\n        at org.wso2.micro.integrator.server.Main.main(Main.java:118) ~[org.wso2.micro.integrator.server-4.2.0.jar:4.2.0]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n        at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\r\n        at org.wso2.micro.integrator.bootstrap.Bootstrap.loadClass(Bootstrap.java:70) ~[org.wso2.micro.integrator.bootstrap-4.2.0.jar:4.2.0]\r\n        at org.wso2.micro.integrator.bootstrap.Bootstrap.main(Bootstrap.java:51) ~[org.wso2.micro.integrator.bootstrap-4.2.0.jar:4.2.0]\r\n\r\n\r\nWhat I do wrong?\r\nThanks in advance.","title":"WSO2 Micro-integrator","body":"<p>Can you help me please. I downloaded WSO2 micro-integrator, set JAVA_HOME Java JDK 17 and when I want to start it I got this error:</p>\n<pre><code>- INFO {org.wso2.config.mapper.ConfigParser} - Overriding files in configuration directory C:\\PROGRA~1\\WSO2MI~1\\bin\\..\n- FATAL {org.wso2.micro.integrator.server.Main} - Error while performing configuration changes org.wso2.config.mapper.ConfigParserException: Error while creating new directory C:\\PROGRA~1\\WSO2MI~1\\bin\\..\\backup\\conf\\axis2\\axis2.xml\n    at org.wso2.config.mapper.util.FileUtils.writeFile(FileUtils.java:74) ~[config-mapper-1.0.20.jar:1.0.20]\n    at org.wso2.config.mapper.util.FileUtils.writeDirectory(FileUtils.java:101) ~[config-mapper-1.0.20.jar:1.0.20]\n    at org.wso2.config.mapper.util.FileUtils.writeDirectory(FileUtils.java:138) ~[config-mapper-1.0.20.jar:1.0.20]\n    at org.wso2.config.mapper.ConfigParser.backupConfigurations(ConfigParser.java:178) ~[config-mapper-1.0.20.jar:1.0.20]\n    at org.wso2.config.mapper.ConfigParser.deployAndStoreMetadata(ConfigParser.java:190) ~[config-mapper-1.0.20.jar:1.0.20]\n    at org.wso2.config.mapper.ConfigParser.parse(ConfigParser.java:137) ~[config-mapper-1.0.20.jar:1.0.20]\n    at org.wso2.micro.integrator.server.Main.handleConfiguration(Main.java:385) ~[org.wso2.micro.integrator.server-4.2.0.jar:4.2.0]\n    at org.wso2.micro.integrator.server.Main.main(Main.java:118) ~[org.wso2.micro.integrator.server-4.2.0.jar:4.2.0]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\n    at org.wso2.micro.integrator.bootstrap.Bootstrap.loadClass(Bootstrap.java:70) ~[org.wso2.micro.integrator.bootstrap-4.2.0.jar:4.2.0]\n    at org.wso2.micro.integrator.bootstrap.Bootstrap.main(Bootstrap.java:51) ~[org.wso2.micro.integrator.bootstrap-4.2.0.jar:4.2.0]\n</code></pre>\n<p>What I do wrong?\nThanks in advance.</p>\n"},{"tags":["java","redis","spring-boot"],"comments":[{"owner":{"account_id":4496958,"reputation":52167,"user_id":4296747,"display_name":"Frederic Henri"},"score":0,"creation_date":1441976808,"post_id":32524194,"comment_id":52906038,"body_markdown":"did you check https://github.com/kstyrc/embedded-redis","body":"did you check <a href=\"https://github.com/kstyrc/embedded-redis\" rel=\"nofollow noreferrer\">github.com/kstyrc/embedded-redis</a>"},{"owner":{"account_id":5421403,"reputation":943,"user_id":4314917,"accept_rate":80,"display_name":"Gurinder"},"score":1,"creation_date":1441977310,"post_id":32524194,"comment_id":52906404,"body_markdown":"Yes i checked but i am a little bit confused i mean i just want to know do i have to create @Bean RedisServer getserver(){} to inject it ?","body":"Yes i checked but i am a little bit confused i mean i just want to know do i have to create @Bean RedisServer getserver(){} to inject it ?"}],"answers":[{"comments":[{"owner":{"account_id":2157109,"reputation":3274,"user_id":1912077,"accept_rate":62,"display_name":"Renjith"},"score":1,"creation_date":1475654510,"post_id":34738274,"comment_id":67024137,"body_markdown":"is there any way to set password for the embedded server ?","body":"is there any way to set password for the embedded server ?"},{"owner":{"account_id":4640,"reputation":6242,"user_id":7059,"accept_rate":90,"display_name":"S&#233;bastien Nussbaumer"},"score":0,"creation_date":1475655063,"post_id":34738274,"comment_id":67024439,"body_markdown":"probably, check out the doc of the github project, it seems to be pretty configurable","body":"probably, check out the doc of the github project, it seems to be pretty configurable"},{"owner":{"account_id":1491583,"reputation":143,"user_id":1398553,"display_name":"Mads Hoel"},"score":7,"creation_date":1484227617,"post_id":34738274,"comment_id":70429947,"body_markdown":"The project doesn&#39;t seem to be actively maintained anymore. Last release was close to two years ago.","body":"The project doesn&#39;t seem to be actively maintained anymore. Last release was close to two years ago."},{"owner":{"account_id":1809091,"reputation":4321,"user_id":1645517,"accept_rate":54,"display_name":"Markus Schulte"},"score":10,"creation_date":1510156243,"post_id":34738274,"comment_id":81317085,"body_markdown":"https://github.com/ozimov/embedded-redis is the successor of https://github.com/kstyrc/embedded-redis, I added an extra answer using ozimov/embedded-redis.","body":"<a href=\"https://github.com/ozimov/embedded-redis\" rel=\"nofollow noreferrer\">github.com/ozimov/embedded-redis</a> is the successor of <a href=\"https://github.com/kstyrc/embedded-redis\" rel=\"nofollow noreferrer\">github.com/kstyrc/embedded-redis</a>, I added an extra answer using ozimov/embedded-redis."},{"owner":{"account_id":963891,"reputation":415,"user_id":987691,"accept_rate":59,"display_name":"aspiringCoder"},"score":0,"creation_date":1527159829,"post_id":34738274,"comment_id":88027402,"body_markdown":"I&#39;m using the successor - and I know this is an old post, but looks like the lack of logging with this make it hard to use in a CICD context - atm tests work on local windows machine - but when committed to build machine they fail - and no way to write logs. Any idea? its a unix build machine.","body":"I&#39;m using the successor - and I know this is an old post, but looks like the lack of logging with this make it hard to use in a CICD context - atm tests work on local windows machine - but when committed to build machine they fail - and no way to write logs. Any idea? its a unix build machine."},{"owner":{"account_id":4640,"reputation":6242,"user_id":7059,"accept_rate":90,"display_name":"S&#233;bastien Nussbaumer"},"score":0,"creation_date":1527254971,"post_id":34738274,"comment_id":88072509,"body_markdown":"maybe something about the ports being already in use on the build machine ?","body":"maybe something about the ports being already in use on the build machine ?"},{"owner":{"account_id":7460660,"reputation":2741,"user_id":5672261,"accept_rate":72,"display_name":"Nitin"},"score":0,"creation_date":1530681037,"post_id":34738274,"comment_id":89315377,"body_markdown":"Not working with Redisson client, https://github.com/kstyrc/embedded-redis/issues/94","body":"Not working with Redisson client, <a href=\"https://github.com/kstyrc/embedded-redis/issues/94\" rel=\"nofollow noreferrer\">github.com/kstyrc/embedded-redis/issues/94</a>"},{"owner":{"account_id":7460660,"reputation":2741,"user_id":5672261,"accept_rate":72,"display_name":"Nitin"},"score":0,"creation_date":1531302910,"post_id":34738274,"comment_id":89542244,"body_markdown":"you can my answer here: https://stackoverflow.com/questions/50456421/reliable-libraries-out-there-for-spring-boot-redis-integration-tests/51282408#51282408","body":"you can my answer here: <a href=\"https://stackoverflow.com/questions/50456421/reliable-libraries-out-there-for-spring-boot-redis-integration-tests/51282408#51282408\" title=\"reliable libraries out there for spring boot redis integration tests\">stackoverflow.com/questions/50456421/&hellip;</a>"},{"owner":{"account_id":6187514,"reputation":8236,"user_id":6872018,"accept_rate":33,"display_name":"Jeff Cook"},"score":0,"creation_date":1543401481,"post_id":34738274,"comment_id":93903638,"body_markdown":"How to stop the embedded redis server? I had not added stop method, it was just start","body":"How to stop the embedded redis server? I had not added stop method, it was just start"},{"owner":{"account_id":3482752,"reputation":703,"user_id":2914366,"display_name":"lafual"},"score":0,"creation_date":1554149925,"post_id":34738274,"comment_id":97638219,"body_markdown":"I have seen in a number of places, that embedded Redis is only recommended for testing. Why is this?","body":"I have seen in a number of places, that embedded Redis is only recommended for testing. Why is this?"},{"owner":{"account_id":957952,"reputation":5344,"user_id":982921,"accept_rate":38,"display_name":"talabes"},"score":0,"creation_date":1564778751,"post_id":34738274,"comment_id":101156361,"body_markdown":"Found Netflix version of embedded-redis, with newer redis support: https://bintray.com/spinnaker/spinnaker/embedded-redis","body":"Found Netflix version of embedded-redis, with newer redis support: <a href=\"https://bintray.com/spinnaker/spinnaker/embedded-redis\" rel=\"nofollow noreferrer\">bintray.com/spinnaker/spinnaker/embedded-redis</a>"},{"owner":{"account_id":5996,"reputation":1508,"user_id":9910,"accept_rate":43,"display_name":"KC Baltz"},"score":2,"creation_date":1567620292,"post_id":34738274,"comment_id":102020529,"body_markdown":"@Renjith Regarding the password, I was able to successfully set it using `.setting(&quot;requirepass &quot; + redisPassword)`.  This was with the ozimov version","body":"@Renjith Regarding the password, I was able to successfully set it using <code>.setting(&quot;requirepass &quot; + redisPassword)</code>.  This was with the ozimov version"}],"tags":[],"owner":{"account_id":4640,"reputation":6242,"user_id":7059,"accept_rate":90,"display_name":"S&#233;bastien Nussbaumer"},"comment_count":12,"down_vote_count":0,"up_vote_count":49,"is_accepted":true,"score":49,"last_activity_date":1452586220,"creation_date":1452585599,"answer_id":34738274,"question_id":32524194,"body_markdown":"You can use an embedded Redis like https://github.com/kstyrc/embedded-redis\r\n\r\n1. Add the dependency to your pom.xml\r\n2. Adjust the properties for your integration test to point to your embedded redis, for example : \r\n\r\n        spring:\r\n          redis:\r\n            host: localhost\r\n            port: 6379\r\n\r\n3. Instanciate the embedded redis server in a  component that is defined in your tests only : \r\n\r\n        @Component\r\n        public class EmbededRedis {\r\n        \r\n            @Value(&quot;${spring.redis.port}&quot;)\r\n            private int redisPort;\r\n        \r\n            private RedisServer redisServer;\r\n        \r\n            @PostConstruct\r\n            public void startRedis() throws IOException {\r\n                redisServer = new RedisServer(redisPort);\r\n                redisServer.start();\r\n            }\r\n        \r\n            @PreDestroy\r\n            public void stopRedis() {\r\n                redisServer.stop();\r\n            }\r\n        }\r\n","title":"Embedded Redis for Spring Boot","body":"<p>You can use an embedded Redis like <a href=\"https://github.com/kstyrc/embedded-redis\" rel=\"noreferrer\">https://github.com/kstyrc/embedded-redis</a></p>\n\n<ol>\n<li>Add the dependency to your pom.xml</li>\n<li><p>Adjust the properties for your integration test to point to your embedded redis, for example : </p>\n\n<pre><code>spring:\n  redis:\n    host: localhost\n    port: 6379\n</code></pre></li>\n<li><p>Instanciate the embedded redis server in a  component that is defined in your tests only : </p>\n\n<pre><code>@Component\npublic class EmbededRedis {\n\n    @Value(\"${spring.redis.port}\")\n    private int redisPort;\n\n    private RedisServer redisServer;\n\n    @PostConstruct\n    public void startRedis() throws IOException {\n        redisServer = new RedisServer(redisPort);\n        redisServer.start();\n    }\n\n    @PreDestroy\n    public void stopRedis() {\n        redisServer.stop();\n    }\n}\n</code></pre></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":5088059,"reputation":5319,"user_id":4081949,"accept_rate":64,"display_name":"KitKarson"},"score":5,"creation_date":1641075210,"post_id":47184003,"comment_id":124716806,"body_markdown":"This also is not maintained!! (","body":"This also is not maintained!! ("},{"owner":{"account_id":16900447,"reputation":86,"user_id":12221963,"display_name":"Sahil Jain"},"score":2,"creation_date":1674520762,"post_id":47184003,"comment_id":132727652,"body_markdown":"It is only wise to move away from embedded-redis as it is not maintained. Another response suggesting to use testcontainers should now be the accepted solution https://stackoverflow.com/a/50645865/12221963","body":"It is only wise to move away from embedded-redis as it is not maintained. Another response suggesting to use testcontainers should now be the accepted solution <a href=\"https://stackoverflow.com/a/50645865/12221963\">stackoverflow.com/a/50645865/12221963</a>"},{"owner":{"account_id":1806113,"reputation":625,"user_id":1643179,"display_name":"gebi"},"score":2,"creation_date":1679039055,"post_id":47184003,"comment_id":133652571,"body_markdown":"[codemonstur/embedded-redis](https://github.com/codemonstur/embedded-redis), [ponfee/embedded-redis](https://github.com/ponfee/embedded-redis), [simbahebinbo/embedded-redis](https://github.com/simbahebinbo/embedded-redis) and [signalapp/embedded-redis](https://github.com/signalapp/embedded-redis) are somewhat recently updated forks of embedded-redis. There are some differences between them, e.g. only the first two support Windows.","body":"<a href=\"https://github.com/codemonstur/embedded-redis\" rel=\"nofollow noreferrer\">codemonstur/embedded-redis</a>, <a href=\"https://github.com/ponfee/embedded-redis\" rel=\"nofollow noreferrer\">ponfee/embedded-redis</a>, <a href=\"https://github.com/simbahebinbo/embedded-redis\" rel=\"nofollow noreferrer\">simbahebinbo/embedded-redis</a> and <a href=\"https://github.com/signalapp/embedded-redis\" rel=\"nofollow noreferrer\">signalapp/embedded-redis</a> are somewhat recently updated forks of embedded-redis. There are some differences between them, e.g. only the first two support Windows."}],"tags":[],"owner":{"account_id":1809091,"reputation":4321,"user_id":1645517,"accept_rate":54,"display_name":"Markus Schulte"},"comment_count":3,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1700838110,"creation_date":1510156196,"answer_id":47184003,"question_id":32524194,"body_markdown":"edit : I would now strongly suggest to go the testcontainers route as explained in @magiccrafter [answer][1], I am also using it for my tests now.\r\n\r\n----\r\n\r\nYou can use [ozimov/embedded-redis][2] as a Maven(-test)-dependency (this is the successor of [kstyrc/embedded-redis][3]).\r\n\r\n1. Add the dependency to your pom.xml\r\n\r\n        &lt;dependencies&gt;\r\n          ...\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;it.ozimov&lt;/groupId&gt;\r\n            &lt;artifactId&gt;embedded-redis&lt;/artifactId&gt;\r\n            &lt;version&gt;0.7.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n\r\n2. Adjust your application properties for your integration test \r\n\r\n        spring.redis.host=localhost\r\n        spring.redis.port=6379\r\n\r\n3. Use the embedded redis server in a [test configuration][4]\r\n\r\n        @TestConfiguration\r\n        public static class EmbededRedisTestConfiguration {\r\n           \r\n          private final redis.embedded.RedisServer redisServer;\r\n           \r\n          public EmbededRedisTestConfiguration(@Value(&quot;${spring.redis.port}&quot;) final int redisPort) throws IOException {\r\n            this.redisServer = new redis.embedded.RedisServer(redisPort);\r\n          }\r\n          \r\n          @PostConstruct\r\n          public void startRedis() {\r\n            this.redisServer.start();\r\n          }\r\n         \r\n          @PreDestroy\r\n          public void stopRedis() {\r\n            this.redisServer.stop();\r\n          }\r\n        }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/50645865/7059\r\n  [2]: https://github.com/ozimov/embedded-redis &quot;ozimov/embedded-redis&quot;\r\n  [3]: https://github.com/kstyrc/embedded-redis &quot;kstyrc/embedded-redis&quot;\r\n  [4]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-testing-spring-boot-applications-detecting-config &quot;Spring boot @TestConfiguration&quot;","title":"Embedded Redis for Spring Boot","body":"<p>edit : I would now strongly suggest to go the testcontainers route as explained in @magiccrafter <a href=\"https://stackoverflow.com/a/50645865/7059\">answer</a>, I am also using it for my tests now.</p>\n<hr />\n<p>You can use <a href=\"https://github.com/ozimov/embedded-redis\" rel=\"nofollow noreferrer\" title=\"ozimov/embedded-redis\">ozimov/embedded-redis</a> as a Maven(-test)-dependency (this is the successor of <a href=\"https://github.com/kstyrc/embedded-redis\" rel=\"nofollow noreferrer\" title=\"kstyrc/embedded-redis\">kstyrc/embedded-redis</a>).</p>\n<ol>\n<li><p>Add the dependency to your pom.xml</p>\n<pre><code> &lt;dependencies&gt;\n   ...\n   &lt;dependency&gt;\n     &lt;groupId&gt;it.ozimov&lt;/groupId&gt;\n     &lt;artifactId&gt;embedded-redis&lt;/artifactId&gt;\n     &lt;version&gt;0.7.1&lt;/version&gt;\n     &lt;scope&gt;test&lt;/scope&gt;\n   &lt;/dependency&gt;\n</code></pre>\n</li>\n<li><p>Adjust your application properties for your integration test</p>\n<pre><code> spring.redis.host=localhost\n spring.redis.port=6379\n</code></pre>\n</li>\n<li><p>Use the embedded redis server in a <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-testing-spring-boot-applications-detecting-config\" rel=\"nofollow noreferrer\" title=\"Spring boot @TestConfiguration\">test configuration</a></p>\n<pre><code> @TestConfiguration\n public static class EmbededRedisTestConfiguration {\n\n   private final redis.embedded.RedisServer redisServer;\n\n   public EmbededRedisTestConfiguration(@Value(&quot;${spring.redis.port}&quot;) final int redisPort) throws IOException {\n     this.redisServer = new redis.embedded.RedisServer(redisPort);\n   }\n\n   @PostConstruct\n   public void startRedis() {\n     this.redisServer.start();\n   }\n\n   @PreDestroy\n   public void stopRedis() {\n     this.redisServer.stop();\n   }\n }\n</code></pre>\n</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":2799929,"reputation":8527,"user_id":2408342,"accept_rate":90,"display_name":"Roshana Pitigala"},"score":0,"creation_date":1520394217,"post_id":49143525,"comment_id":85292786,"body_markdown":"Repository documentation is in Chinese, if you find an English version please post the link.","body":"Repository documentation is in Chinese, if you find an English version please post the link."},{"owner":{"account_id":1167962,"reputation":507,"user_id":1145820,"accept_rate":53,"display_name":"fer.marino"},"score":2,"creation_date":1521277877,"post_id":49143525,"comment_id":85670157,"body_markdown":"this project is basically a wrapper of the one mentioned in the accepted answer. Pointless","body":"this project is basically a wrapper of the one mentioned in the accepted answer. Pointless"}],"tags":[],"owner":{"account_id":11378905,"reputation":99,"user_id":8342293,"display_name":"Cary Yu"},"comment_count":2,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1521511320,"creation_date":1520392570,"answer_id":49143525,"question_id":32524194,"body_markdown":"you can see this repository: https://github.com/caryyu/spring-embedded-redis-server , fully integrated with Spring and Spring Boot\r\n\r\n\r\n\r\nmaven dependency\r\n=======\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;com.github.caryyu&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-embedded-redis-server&lt;/artifactId&gt;\r\n    &lt;version&gt;1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nspring boot annotation\r\n=======\r\n\r\n    @Bean\r\n    public RedisServerConfiguration redisServerConfiguration() {\r\n    return new RedisServerConfiguration();\r\n    }\r\n\r\nusage of application.yml\r\n======= \r\n\r\n    spring:\r\n        redis:\r\n            port: 6379\r\n            embedded: true\r\n\r\n","title":"Embedded Redis for Spring Boot","body":"<p>you can see this repository: <a href=\"https://github.com/caryyu/spring-embedded-redis-server\" rel=\"nofollow noreferrer\">https://github.com/caryyu/spring-embedded-redis-server</a> , fully integrated with Spring and Spring Boot</p>\n\n<h1>maven dependency</h1>\n\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;com.github.caryyu&lt;/groupId&gt;\n&lt;artifactId&gt;spring-embedded-redis-server&lt;/artifactId&gt;\n&lt;version&gt;1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<h1>spring boot annotation</h1>\n\n<pre><code>@Bean\npublic RedisServerConfiguration redisServerConfiguration() {\nreturn new RedisServerConfiguration();\n}\n</code></pre>\n\n<h1>usage of application.yml</h1>\n\n<pre><code>spring:\n    redis:\n        port: 6379\n        embedded: true\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3508394,"reputation":2007,"user_id":2933389,"accept_rate":100,"display_name":"Paramesh Korrakuti"},"score":0,"creation_date":1615223577,"post_id":50645865,"comment_id":117619404,"body_markdown":"Is there way to know redis container image name based on the test container library we are using?","body":"Is there way to know redis container image name based on the test container library we are using?"}],"tags":[],"owner":{"account_id":482529,"reputation":5253,"user_id":896981,"accept_rate":100,"display_name":"magiccrafter"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1619689154,"creation_date":1527863904,"answer_id":50645865,"question_id":32524194,"body_markdown":"Another neat way is to use the [testcontainers][1] library which can run any type of application that can in a Docker container and Redis is no exception. What I like best is that it is lightly coupled with the Spring Test ecosystem.\r\n\r\nmaven&#39;s dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n        &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\r\n        &lt;version&gt;${testcontainers.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nsimple integration test:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT, properties = {&quot;management.port=0&quot;})\r\n    @ContextConfiguration(initializers = AbstractIntegrationTest.Initializer.class)\r\n    @DirtiesContext\r\n    public abstract class AbstractIntegrationTest {\r\n    \r\n        private static int REDIS_PORT = 6379;\r\n    \r\n        @ClassRule\r\n        public static GenericContainer redis = new GenericContainer(&quot;redis:5-alpine&quot;).withExposedPorts(REDIS_PORT);\r\n    \r\n        public static class Initializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\r\n            @Override\r\n            public void initialize(ConfigurableApplicationContext ctx) {\r\n                // Spring Boot 1.5.x\r\n                TestPropertySourceUtils.addInlinedPropertiesToEnvironment(ctx,\r\n                    &quot;spring.redis.host=&quot; + redis.getContainerIpAddress(),\r\n                    &quot;spring.redis.port=&quot; + redis.getMappedPort(REDIS_PORT));\r\n    \r\n                // Spring Boot 2.x.\r\n                TestPropertyValues.of(\r\n                    &quot;spring.redis.host:&quot; + redis.getContainerIpAddress(),\r\n                    &quot;spring.redis.port:&quot; + redis.getMappedPort(REDIS_PORT))\r\n                    .applyTo(ctx);\r\n            }\r\n        }\r\n    }\r\n\r\nSince Spring Framework 5.2.5 (Spring Boot 2.3.x) you can use the powerful `DynamicPropertySource` annotation. \r\nHere is an example:\r\n\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    @DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_CLASS)\r\n    public abstract class AbstractIT {\r\n\r\n        static GenericContainer redisContainer = new GenericContainer(&quot;redis:5-alpine&quot;).withExposedPorts(6379);\r\n\r\n        @DynamicPropertySource\r\n        static void properties(DynamicPropertyRegistry r) throws IOException {\r\n            r.add(&quot;spring.redis.host&quot;, redisContainer::getContainerIpAddress);\r\n            r.add(&quot;spring.redis.port&quot;, redisContainer::getFirstMappedPort);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://www.testcontainers.org","title":"Embedded Redis for Spring Boot","body":"<p>Another neat way is to use the <a href=\"https://www.testcontainers.org\" rel=\"nofollow noreferrer\">testcontainers</a> library which can run any type of application that can in a Docker container and Redis is no exception. What I like best is that it is lightly coupled with the Spring Test ecosystem.</p>\n<p>maven's dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n    &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\n    &lt;version&gt;${testcontainers.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>simple integration test:</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT, properties = {&quot;management.port=0&quot;})\n@ContextConfiguration(initializers = AbstractIntegrationTest.Initializer.class)\n@DirtiesContext\npublic abstract class AbstractIntegrationTest {\n\n    private static int REDIS_PORT = 6379;\n\n    @ClassRule\n    public static GenericContainer redis = new GenericContainer(&quot;redis:5-alpine&quot;).withExposedPorts(REDIS_PORT);\n\n    public static class Initializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\n        @Override\n        public void initialize(ConfigurableApplicationContext ctx) {\n            // Spring Boot 1.5.x\n            TestPropertySourceUtils.addInlinedPropertiesToEnvironment(ctx,\n                &quot;spring.redis.host=&quot; + redis.getContainerIpAddress(),\n                &quot;spring.redis.port=&quot; + redis.getMappedPort(REDIS_PORT));\n\n            // Spring Boot 2.x.\n            TestPropertyValues.of(\n                &quot;spring.redis.host:&quot; + redis.getContainerIpAddress(),\n                &quot;spring.redis.port:&quot; + redis.getMappedPort(REDIS_PORT))\n                .applyTo(ctx);\n        }\n    }\n}\n</code></pre>\n<p>Since Spring Framework 5.2.5 (Spring Boot 2.3.x) you can use the powerful <code>DynamicPropertySource</code> annotation.\nHere is an example:</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_CLASS)\npublic abstract class AbstractIT {\n\n    static GenericContainer redisContainer = new GenericContainer(&quot;redis:5-alpine&quot;).withExposedPorts(6379);\n\n    @DynamicPropertySource\n    static void properties(DynamicPropertyRegistry r) throws IOException {\n        r.add(&quot;spring.redis.host&quot;, redisContainer::getContainerIpAddress);\n        r.add(&quot;spring.redis.port&quot;, redisContainer::getFirstMappedPort);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10512827,"reputation":6163,"user_id":7747942,"display_name":"Sylhare"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631539461,"creation_date":1631539461,"answer_id":69163497,"question_id":32524194,"body_markdown":"If your are using spring and reactive to [access data with redis reactively](https://spring.io/guides/gs/spring-data-reactive-redis/).\r\nMeaning you&#39;re having a `ReactiveRedisConnectionFactory` (with a `RedisConnectionFactory` bean) and a `LettuceConnectionFactory` then you may want to follow this approach to set an embedded redis for multiple test classes.\r\n\r\nFirst add the [playtika embedded redis](https://github.com/Playtika/testcontainers-spring-boot/blob/develop/embedded-redis/README.adoc) to your dependencies:\r\n\r\n```groovy\r\ndependencies {\r\n    testCompile(&quot;com.playtika.testcontainers:embedded-redis:2.0.9&quot;)\r\n}\r\n```\r\n\r\nThen set the redis host and port as the `embedded.redis` one in your application.yml (that are generated by the embedded redis as env variable on creation).\r\n\r\n```yml\r\nspring:\r\n  redis:\r\n    host: \\${embedded.redis.host:localhost}\r\n    port: \\${embedded.redis.port:6739}\r\n```    \r\n\r\nIn a `bootstrap-redisnoauth.properties` file, set the env variable `embedded.redis.requirepass=false` so that it does not require password.\r\n\r\nThen in your test use the active profile:\r\n\r\n```java\r\n@ActiveProfiles(&quot;redisnoauth&quot;)\r\n```\r\n\r\nAnd make sure to have this `@TestConfiguration` in your test class as well so that will connect you to the redis spawned on a randomly generated port.\r\n\r\n```java\r\n@Category(IntegrationTest.class)\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest\r\n@ActiveProfiles(&quot;redisnoauth&quot;)\r\npublic class RedisCacheTest {\r\n\r\n    @TestConfiguration\r\n    static class RedisTestConfiguration {\r\n    \r\n        @Bean\r\n        public RedisConnectionFactory redisConnectionFactory(@Value(&quot;${spring.redis.host}&quot;) String host,\r\n                                                             @Value(&quot;${spring.redis.port}&quot;) int port) {\r\n            return new LettuceConnectionFactory(host, port);\r\n        }\r\n    \r\n        @Bean\r\n        public RedisOperations&lt;String, String&gt; stringKeyAndStringValueRedisOperations(RedisConnectionFactory redisConnectionFactory) {\r\n            RedisTemplate&lt;String, String&gt; redisTemplate = new RedisTemplate&lt;&gt;();\r\n            redisTemplate.setConnectionFactory(redisConnectionFactory);\r\n            redisTemplate.setKeySerializer(new StringRedisSerializer(UTF_8));\r\n            redisTemplate.setValueSerializer(new StringRedisSerializer(UTF_8));\r\n            return redisTemplate;\r\n        }\r\n    }\r\n\r\n    @Test\r\n    public void myTest() {\r\n      // your test\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd it should work smoothly.\r\n","title":"Embedded Redis for Spring Boot","body":"<p>If your are using spring and reactive to <a href=\"https://spring.io/guides/gs/spring-data-reactive-redis/\" rel=\"nofollow noreferrer\">access data with redis reactively</a>.\nMeaning you're having a <code>ReactiveRedisConnectionFactory</code> (with a <code>RedisConnectionFactory</code> bean) and a <code>LettuceConnectionFactory</code> then you may want to follow this approach to set an embedded redis for multiple test classes.</p>\n<p>First add the <a href=\"https://github.com/Playtika/testcontainers-spring-boot/blob/develop/embedded-redis/README.adoc\" rel=\"nofollow noreferrer\">playtika embedded redis</a> to your dependencies:</p>\n<pre><code>dependencies {\n    testCompile(&quot;com.playtika.testcontainers:embedded-redis:2.0.9&quot;)\n}\n</code></pre>\n<p>Then set the redis host and port as the <code>embedded.redis</code> one in your application.yml (that are generated by the embedded redis as env variable on creation).</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  redis:\n    host: \\${embedded.redis.host:localhost}\n    port: \\${embedded.redis.port:6739}\n</code></pre>\n<p>In a <code>bootstrap-redisnoauth.properties</code> file, set the env variable <code>embedded.redis.requirepass=false</code> so that it does not require password.</p>\n<p>Then in your test use the active profile:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ActiveProfiles(&quot;redisnoauth&quot;)\n</code></pre>\n<p>And make sure to have this <code>@TestConfiguration</code> in your test class as well so that will connect you to the redis spawned on a randomly generated port.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Category(IntegrationTest.class)\n@RunWith(SpringRunner.class)\n@SpringBootTest\n@ActiveProfiles(&quot;redisnoauth&quot;)\npublic class RedisCacheTest {\n\n    @TestConfiguration\n    static class RedisTestConfiguration {\n    \n        @Bean\n        public RedisConnectionFactory redisConnectionFactory(@Value(&quot;${spring.redis.host}&quot;) String host,\n                                                             @Value(&quot;${spring.redis.port}&quot;) int port) {\n            return new LettuceConnectionFactory(host, port);\n        }\n    \n        @Bean\n        public RedisOperations&lt;String, String&gt; stringKeyAndStringValueRedisOperations(RedisConnectionFactory redisConnectionFactory) {\n            RedisTemplate&lt;String, String&gt; redisTemplate = new RedisTemplate&lt;&gt;();\n            redisTemplate.setConnectionFactory(redisConnectionFactory);\n            redisTemplate.setKeySerializer(new StringRedisSerializer(UTF_8));\n            redisTemplate.setValueSerializer(new StringRedisSerializer(UTF_8));\n            return redisTemplate;\n        }\n    }\n\n    @Test\n    public void myTest() {\n      // your test\n    }\n\n}\n</code></pre>\n<p>And it should work smoothly.</p>\n"}],"owner":{"account_id":5421403,"reputation":943,"user_id":4314917,"accept_rate":80,"display_name":"Gurinder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76022,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":34738274,"answer_count":5,"score":37,"last_activity_date":1700838110,"creation_date":1441976604,"question_id":32524194,"body_markdown":"I run my Integration Test cases with Spring Boot with the help of my local Redis server on my machine.\r\n\r\nBut I want an embedded Redis server which is not dependent on any server and can run on any environment, like the H2 in-memory database. How can I do it?\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @WebAppConfiguration\r\n    @IntegrationTest(&quot;server.port:0&quot;)\r\n    @SpringApplicationConfiguration(classes = Application.class) \r\n    @DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_CLASS)\r\n    public class MasterIntegrationTest {\r\n\r\n    }","title":"Embedded Redis for Spring Boot","body":"<p>I run my Integration Test cases with Spring Boot with the help of my local Redis server on my machine.</p>\n\n<p>But I want an embedded Redis server which is not dependent on any server and can run on any environment, like the H2 in-memory database. How can I do it?</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@WebAppConfiguration\n@IntegrationTest(\"server.port:0\")\n@SpringApplicationConfiguration(classes = Application.class) \n@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_CLASS)\npublic class MasterIntegrationTest {\n\n}\n</code></pre>\n"},{"tags":["java","android","android-mediasession"],"answers":[{"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1530681042,"post_id":51165951,"comment_id":89315379,"body_markdown":"Just release all resources before stopping Service .","body":"Just release all resources before stopping Service ."},{"owner":{"account_id":12645166,"reputation":21,"user_id":9191170,"display_name":"Radhika Saliya"},"score":0,"creation_date":1530684533,"post_id":51165951,"comment_id":89316695,"body_markdown":"App crash on some devices not for all. any idea how to reproduce this?","body":"App crash on some devices not for all. any idea how to reproduce this?"},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1530684776,"post_id":51165951,"comment_id":89316806,"body_markdown":"You did not provided any code related to `MediaSession`. I found a similar issue [Here](https://stackoverflow.com/questions/48189204/mediasession-finishbroadcast-exception) it might help . Otherwise you need add more info with code .","body":"You did not provided any code related to <code>MediaSession</code>. I found a similar issue <a href=\"https://stackoverflow.com/questions/48189204/mediasession-finishbroadcast-exception\">Here</a> it might help . Otherwise you need add more info with code ."}],"tags":[],"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530679821,"creation_date":1530679821,"answer_id":51165951,"question_id":51165851,"body_markdown":"You do not need to cancel notification . Just use :-\r\n\r\n    startForeground(NOTIFY_ID, notification.build());\r\n\r\nTo start And To Stop\r\n\r\n     stopForeground(true);\r\n\r\nMethod `stopForeground(boolean removeNotification);` will clear the notification if you pass true as argument. You can Read about it from [stopForeground](https://developer.android.com/reference/android/app/Service.html#stopForeground(boolean)).\r\n ","title":"IllegalStateException: finishBroadcast() called outside of a broadcast","body":"<p>You do not need to cancel notification . Just use :-</p>\n\n<pre><code>startForeground(NOTIFY_ID, notification.build());\n</code></pre>\n\n<p>To start And To Stop</p>\n\n<pre><code> stopForeground(true);\n</code></pre>\n\n<p>Method <code>stopForeground(boolean removeNotification);</code> will clear the notification if you pass true as argument. You can Read about it from <a href=\"https://developer.android.com/reference/android/app/Service.html#stopForeground(boolean)\" rel=\"nofollow noreferrer\">stopForeground</a>.</p>\n"},{"tags":[],"owner":{"account_id":13908,"reputation":7947,"user_id":28190,"accept_rate":67,"display_name":"Dan Gravell"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700837630,"creation_date":1700837630,"answer_id":77544011,"question_id":51165851,"body_markdown":"This could occur if multiple broadcast sessions are started within the `MediaSessionCompat` - there&#39;s no synchronisation to prevent this happening in the class itself.\r\n\r\nSee the Javadoc for MediaSessionCompat:\r\n\r\n    MediaSessionCompat objects are not thread safe and all calls should be made from the same thread.\r\n\r\nSo check your code is calling your MediaSessionCompat object in the same thread, or has some synchronisation.","title":"IllegalStateException: finishBroadcast() called outside of a broadcast","body":"<p>This could occur if multiple broadcast sessions are started within the <code>MediaSessionCompat</code> - there's no synchronisation to prevent this happening in the class itself.</p>\n<p>See the Javadoc for MediaSessionCompat:</p>\n<pre><code>MediaSessionCompat objects are not thread safe and all calls should be made from the same thread.\n</code></pre>\n<p>So check your code is calling your MediaSessionCompat object in the same thread, or has some synchronisation.</p>\n"}],"owner":{"account_id":12645166,"reputation":21,"user_id":9191170,"display_name":"Radhika Saliya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1371,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1700837630,"creation_date":1530679137,"question_id":51165851,"body_markdown":"Does any one have a solution?\r\n\r\n    Fatal Exception: java.lang.IllegalStateException: finishBroadcast() called outside of a broadcast\r\n       at android.os.RemoteCallbackList.finishBroadcast(RemoteCallbackList.java:303)\r\n       at android.support.v4.media.session.MediaSessionCompat$MediaSessionImplApi21.setCallback(Unknown Source:28)\r\n       at android.support.v4.media.session.MediaSessionCompat.setCallback(Unknown Source:2)\r\n       at com.test.player.myService.onCurrentPlayerChanged(Unknown Source:196)\r\n       at com.test.player.myService.onCurrentPlayerChanged(Unknown Source:53)\r\n       at com.test.player.myService$$Lambda$3.accept(Unknown Source:6)\r\n       at io.reactivex.internal.operators.observable.ObservableDoOnEach$DoOnEachObserver.onNext(Unknown Source:7)\r\n       at io.reactivex.internal.operators.observable.ObservableDoOnEach$DoOnEachObserver.onNext(Unknown Source:12)\r\n       at io.reactivex.internal.operators.observable.ObservableFlatMap$MergeObserver.onSubscribe(Unknown Source:23)\r\n       at io.reactivex.internal.operators.observable.ObservableFlatMap$MergeObserver.onSubscribe(Unknown Source:6)\r\n       at io.reactivex.internal.operators.observable.ObservableFlatMap$MergeObserver.onNext(Unknown Source:51)\r\n       at io.reactivex.internal.operators.observable.ObservableFlatMap$MergeObserver.onSubscribe(Unknown Source:23)\r\n       at io.reactivex.internal.operators.observable.ObservableFlatMap$MergeObserver.onSubscribe(Unknown Source:6)\r\n       at io.reactivex.internal.operators.observable.ObservableFlatMap$MergeObserver.onNext(Unknown Source:51)\r\n       at io.reactivex.internal.operators.observable.ObservableObserveOn$ObserveOnObserver.drainNormal(Unknown Source:47)\r\n       at io.reactivex.internal.operators.observable.ObservableObserveOn$ObserveOnObserver.run(Unknown Source:8)\r\n       at io.reactivex.internal.schedulers.ScheduledRunnable.run(Unknown Source:13)\r\n       at io.reactivex.internal.schedulers.ScheduledRunnable.call(Unknown Source)\r\n       at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n       at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:301)\r\n       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)\r\n       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)\r\n       at java.lang.Thread.run(Thread.java:764)\r\n \r\n\r\nThis stack trace is from fabric crashlytics.\r\n\r\nIn `onCurrentPlayerChanged()` simply make call to `stopForeground` service.\r\n\r\n   \r\n\r\n    public void onCurrentPlayerChanged(int currentPlayer) {\r\n        if (currentPlayer != LuxePreferences.PLAYER_ONE) {\r\n            stopForeground(true);\r\n            NotificationManagerCompat.from(this).cancel(PLAYER_NOTIFICATION_ID);\r\n        }\r\n    }\r\nhere is onCreate() and onStartCommand()\r\n\r\n     public void onCreate() {\r\n        super.onCreate();\r\n\r\n        // Create a MediaSessionCompat\r\n        mediaSession = new MediaSessionCompat(getApplicationContext(), &quot;RadioService&quot;,\r\n                new ComponentName(getApplicationContext(), RadioMediaButtonReceiver.class), null);\r\n        mediaSession.setFlags(MediaSessionCompat.FLAG_HANDLES_MEDIA_BUTTONS |\r\n                MediaSessionCompat.FLAG_HANDLES_TRANSPORT_CONTROLS);\r\n\r\n        stateBuilder = new PlaybackStateCompat.Builder()\r\n                .setState(PlaybackStateCompat.STATE_STOPPED, 0, 1)\r\n                .setActions(\r\n                        PlaybackStateCompat.ACTION_PLAY | PlaybackStateCompat.ACTION_STOP | PlaybackStateCompat.ACTION_PAUSE);\r\n        mediaSession.setPlaybackState(stateBuilder.build());\r\n        mediaSession.setCallback(mediaSessionCallback);\r\n    } \r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n\r\n        if (MediaButtonReceiver.handleIntent(mediaSession, intent) == null) {\r\n            int action = intent == null ? ACTION_NONE : intent.getIntExtra(EXTRA_ACTION, ACTION_NONE);\r\n\r\n            if (action == ACTION_NONE) {\r\n                if (preferences.isRadioOn()) {\r\n                    startRadio();\r\n                } else {\r\n                    boolean removeNotificationOnStop =\r\n                            intent != null &amp;&amp; intent.getBooleanExtra(EXTRA_REMOVE_NOTIFICATION_ON_STOP, false);\r\n                    stopRadio(removeNotificationOnStop);\r\n                }\r\n            } else if (action == ACTION_STOP) {            \r\n                stopRadio(true);\r\n                stopSelf();\r\n            }\r\n        }\r\n\r\n        return Service.START_STICKY;\r\n    }\r\n\r\non startRadio() i&#39;m set `mediaSession.setActive(true);` as well in stopRadio() `mediaSession.setActive(false)`\r\n\r\nset mediaSession playback state as follow while setup notification\r\n\r\n \r\n\r\n    if (isPlaying()) {\r\n            mediaSession.setPlaybackState(stateBuilder\r\n                    .setState(PlaybackStateCompat.STATE_PLAYING, 0, 1).build());\r\n            startForeground(PLAYER_NOTIFICATION_ID, notification);\r\n        } else {\r\n            mediaSession.setPlaybackState(stateBuilder\r\n                    .setState(PlaybackStateCompat.STATE_PAUSED, 0, 0).build());\r\n\r\n            stopForeground(false);\r\n        }\r\nand onDestroy()\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n\r\n        //other stuff to release resources\r\n \r\n        if (mediaSession != null) {\r\n            mediaSession.release();\r\n        }\r\n    }\r\n\r\nAny idea about the cause of this exception?","title":"IllegalStateException: finishBroadcast() called outside of a broadcast","body":"<p>Does any one have a solution?</p>\n\n<pre><code>Fatal Exception: java.lang.IllegalStateException: finishBroadcast() called outside of a broadcast\n   at android.os.RemoteCallbackList.finishBroadcast(RemoteCallbackList.java:303)\n   at android.support.v4.media.session.MediaSessionCompat$MediaSessionImplApi21.setCallback(Unknown Source:28)\n   at android.support.v4.media.session.MediaSessionCompat.setCallback(Unknown Source:2)\n   at com.test.player.myService.onCurrentPlayerChanged(Unknown Source:196)\n   at com.test.player.myService.onCurrentPlayerChanged(Unknown Source:53)\n   at com.test.player.myService$$Lambda$3.accept(Unknown Source:6)\n   at io.reactivex.internal.operators.observable.ObservableDoOnEach$DoOnEachObserver.onNext(Unknown Source:7)\n   at io.reactivex.internal.operators.observable.ObservableDoOnEach$DoOnEachObserver.onNext(Unknown Source:12)\n   at io.reactivex.internal.operators.observable.ObservableFlatMap$MergeObserver.onSubscribe(Unknown Source:23)\n   at io.reactivex.internal.operators.observable.ObservableFlatMap$MergeObserver.onSubscribe(Unknown Source:6)\n   at io.reactivex.internal.operators.observable.ObservableFlatMap$MergeObserver.onNext(Unknown Source:51)\n   at io.reactivex.internal.operators.observable.ObservableFlatMap$MergeObserver.onSubscribe(Unknown Source:23)\n   at io.reactivex.internal.operators.observable.ObservableFlatMap$MergeObserver.onSubscribe(Unknown Source:6)\n   at io.reactivex.internal.operators.observable.ObservableFlatMap$MergeObserver.onNext(Unknown Source:51)\n   at io.reactivex.internal.operators.observable.ObservableObserveOn$ObserveOnObserver.drainNormal(Unknown Source:47)\n   at io.reactivex.internal.operators.observable.ObservableObserveOn$ObserveOnObserver.run(Unknown Source:8)\n   at io.reactivex.internal.schedulers.ScheduledRunnable.run(Unknown Source:13)\n   at io.reactivex.internal.schedulers.ScheduledRunnable.call(Unknown Source)\n   at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n   at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:301)\n   at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)\n   at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)\n   at java.lang.Thread.run(Thread.java:764)\n</code></pre>\n\n<p>This stack trace is from fabric crashlytics.</p>\n\n<p>In <code>onCurrentPlayerChanged()</code> simply make call to <code>stopForeground</code> service.</p>\n\n<pre><code>public void onCurrentPlayerChanged(int currentPlayer) {\n    if (currentPlayer != LuxePreferences.PLAYER_ONE) {\n        stopForeground(true);\n        NotificationManagerCompat.from(this).cancel(PLAYER_NOTIFICATION_ID);\n    }\n}\n</code></pre>\n\n<p>here is onCreate() and onStartCommand()</p>\n\n<pre><code> public void onCreate() {\n    super.onCreate();\n\n    // Create a MediaSessionCompat\n    mediaSession = new MediaSessionCompat(getApplicationContext(), \"RadioService\",\n            new ComponentName(getApplicationContext(), RadioMediaButtonReceiver.class), null);\n    mediaSession.setFlags(MediaSessionCompat.FLAG_HANDLES_MEDIA_BUTTONS |\n            MediaSessionCompat.FLAG_HANDLES_TRANSPORT_CONTROLS);\n\n    stateBuilder = new PlaybackStateCompat.Builder()\n            .setState(PlaybackStateCompat.STATE_STOPPED, 0, 1)\n            .setActions(\n                    PlaybackStateCompat.ACTION_PLAY | PlaybackStateCompat.ACTION_STOP | PlaybackStateCompat.ACTION_PAUSE);\n    mediaSession.setPlaybackState(stateBuilder.build());\n    mediaSession.setCallback(mediaSessionCallback);\n} \n\n@Override\npublic int onStartCommand(Intent intent, int flags, int startId) {\n\n    if (MediaButtonReceiver.handleIntent(mediaSession, intent) == null) {\n        int action = intent == null ? ACTION_NONE : intent.getIntExtra(EXTRA_ACTION, ACTION_NONE);\n\n        if (action == ACTION_NONE) {\n            if (preferences.isRadioOn()) {\n                startRadio();\n            } else {\n                boolean removeNotificationOnStop =\n                        intent != null &amp;&amp; intent.getBooleanExtra(EXTRA_REMOVE_NOTIFICATION_ON_STOP, false);\n                stopRadio(removeNotificationOnStop);\n            }\n        } else if (action == ACTION_STOP) {            \n            stopRadio(true);\n            stopSelf();\n        }\n    }\n\n    return Service.START_STICKY;\n}\n</code></pre>\n\n<p>on startRadio() i'm set <code>mediaSession.setActive(true);</code> as well in stopRadio() <code>mediaSession.setActive(false)</code></p>\n\n<p>set mediaSession playback state as follow while setup notification</p>\n\n<pre><code>if (isPlaying()) {\n        mediaSession.setPlaybackState(stateBuilder\n                .setState(PlaybackStateCompat.STATE_PLAYING, 0, 1).build());\n        startForeground(PLAYER_NOTIFICATION_ID, notification);\n    } else {\n        mediaSession.setPlaybackState(stateBuilder\n                .setState(PlaybackStateCompat.STATE_PAUSED, 0, 0).build());\n\n        stopForeground(false);\n    }\n</code></pre>\n\n<p>and onDestroy()</p>\n\n<pre><code>@Override\npublic void onDestroy() {\n    super.onDestroy();\n\n    //other stuff to release resources\n\n    if (mediaSession != null) {\n        mediaSession.release();\n    }\n}\n</code></pre>\n\n<p>Any idea about the cause of this exception?</p>\n"},{"tags":["java","kotlin","android-gradle-plugin","dependencies","gradle-kotlin-dsl"],"comments":[{"owner":{"account_id":1144386,"reputation":28762,"user_id":1127485,"accept_rate":83,"display_name":"sschuberth"},"score":0,"creation_date":1632497112,"post_id":69079963,"comment_id":122516862,"body_markdown":"Note that if you don&#39;t have any Java sources (only Kotlin sources) this message actually should not appear at all, also see https://youtrack.jetbrains.com/issue/KT-48745.","body":"Note that if you don&#39;t have any Java sources (only Kotlin sources) this message actually should not appear at all, also see <a href=\"https://youtrack.jetbrains.com/issue/KT-48745\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-48745</a>."},{"owner":{"account_id":6869537,"reputation":1293,"user_id":5280512,"display_name":"Tom Rutchik"},"score":0,"creation_date":1651081709,"post_id":69079963,"comment_id":127279924,"body_markdown":"I believe that the &quot;android&quot; block not resolving is because you don&#39;t have either &quot;com.android.application&quot; or &quot;com.android.library&quot; plugin applied","body":"I believe that the &quot;android&quot; block not resolving is because you don&#39;t have either &quot;com.android.application&quot; or &quot;com.android.library&quot; plugin applied"}],"answers":[{"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":4,"creation_date":1645083829,"post_id":69084853,"comment_id":125777624,"body_markdown":"Note: when I use your `tasks.withType&lt;&gt;` as is, I get `Could not get unknown property &#39;withType&#39; for task set of type org.gradle.api.internal.tasks.DefaultTaskContainer` . Error goes away when using  `tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile) {`; so brackets instead of &lt; &gt;. But unfortunately, that still results in the same warning the questioner asked about ;-(","body":"Note: when I use your <code>tasks.withType&lt;&gt;</code> as is, I get <code>Could not get unknown property &#39;withType&#39; for task set of type org.gradle.api.internal.tasks.DefaultTaskContainer</code> . Error goes away when using  <code>tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompi&zwnj;&#8203;le) {</code>; so brackets instead of &lt; &gt;. But unfortunately, that still results in the same warning the questioner asked about ;-("},{"owner":{"account_id":1175614,"reputation":11274,"user_id":1151724,"accept_rate":78,"display_name":"CodeClown42"},"score":1,"creation_date":1653753403,"post_id":69084853,"comment_id":127930119,"body_markdown":"@GhostCat I just ran into this using a old build file that *used* to work properly (with &lt;&gt; not  ()), after I updated the `kotlin(&quot;jvm&quot;)` version.  I presumed it was a gradle API change but could not find a correct way to do this.... then at some point I put this back in (it was just commented out) and go figure, it works.  :\\ The only significant thing in between was an &quot;invalidate caches and restart&quot;, because a newer version of a dependent jar was not being indexed properly.   You and your two ticks imply I&#39;m not crazy, although I presume this problem isn&#39;t easily reproduced...","body":"@GhostCat I just ran into this using a old build file that <i>used</i> to work properly (with &lt;&gt; not  ()), after I updated the <code>kotlin(&quot;jvm&quot;)</code> version.  I presumed it was a gradle API change but could not find a correct way to do this.... then at some point I put this back in (it was just commented out) and go figure, it works.  :\\ The only significant thing in between was an &quot;invalidate caches and restart&quot;, because a newer version of a dependent jar was not being indexed properly.   You and your two ticks imply I&#39;m not crazy, although I presume this problem isn&#39;t easily reproduced..."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1654507069,"post_id":69084853,"comment_id":128098865,"body_markdown":"Maybe it depends on Kotlin plugin versions. There are various moving parts here.","body":"Maybe it depends on Kotlin plugin versions. There are various moving parts here."},{"owner":{"account_id":92486,"reputation":45195,"user_id":253468,"accept_rate":79,"display_name":"TWiStErRob"},"score":0,"creation_date":1660671404,"post_id":69084853,"comment_id":129585613,"body_markdown":"The question was for `build.gradle.kts`, `tasks.withType&lt;T&gt; { ... }` is Kotlin Gradle DSL syntax, `tasks.withType(T) {` is Gradle Groovy syntax.","body":"The question was for <code>build.gradle.kts</code>, <code>tasks.withType&lt;T&gt; { ... }</code> is Kotlin Gradle DSL syntax, <code>tasks.withType(T) {</code> is Gradle Groovy syntax."},{"owner":{"account_id":290585,"reputation":6089,"user_id":592217,"display_name":"k4dima"},"score":1,"creation_date":1678866550,"post_id":69084853,"comment_id":133614173,"body_markdown":"`java.toolchain.languageVersion.set(JavaLanguageVersion.of(17))`","body":"<code>java.toolchain.languageVersion.set(JavaLanguageVersion.of(17&zwnj;&#8203;))</code>"},{"owner":{"account_id":2228596,"reputation":778,"user_id":1966798,"display_name":"Prasanna Narshim"},"score":0,"creation_date":1690387936,"post_id":69084853,"comment_id":135347439,"body_markdown":"in my case, I need to apply this config for all the modules","body":"in my case, I need to apply this config for all the modules"}],"tags":[],"owner":{"account_id":11562165,"reputation":2691,"user_id":8471555,"display_name":"Marian"},"comment_count":6,"down_vote_count":3,"up_vote_count":139,"is_accepted":false,"score":136,"last_activity_date":1660671428,"creation_date":1631003541,"answer_id":69084853,"question_id":69079963,"body_markdown":"You can set java version for java with\r\n\r\n    java {\r\n        sourceCompatibility = JavaVersion.VERSION_11\r\n        targetCompatibility = JavaVersion.VERSION_11\r\n    }\r\n\r\nor alternatively:\r\n\r\n    java {\r\n        toolchain.languageVersion.set(JavaLanguageVersion.of(11))\r\n    }\r\n\r\nand for kotlin with:\r\n\r\n    tasks.withType&lt;org.jetbrains.kotlin.gradle.tasks.KotlinCompile&gt;().configureEach {\r\n        kotlinOptions {\r\n            jvmTarget = &quot;11&quot;\r\n        }\r\n    }\r\n\r\nAll samples are in gradle kotlin dsl.","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<p>You can set java version for java with</p>\n<pre><code>java {\n    sourceCompatibility = JavaVersion.VERSION_11\n    targetCompatibility = JavaVersion.VERSION_11\n}\n</code></pre>\n<p>or alternatively:</p>\n<pre><code>java {\n    toolchain.languageVersion.set(JavaLanguageVersion.of(11))\n}\n</code></pre>\n<p>and for kotlin with:</p>\n<pre><code>tasks.withType&lt;org.jetbrains.kotlin.gradle.tasks.KotlinCompile&gt;().configureEach {\n    kotlinOptions {\n        jvmTarget = &quot;11&quot;\n    }\n}\n</code></pre>\n<p>All samples are in gradle kotlin dsl.</p>\n"},{"comments":[{"owner":{"account_id":6869537,"reputation":1293,"user_id":5280512,"display_name":"Tom Rutchik"},"score":1,"creation_date":1651081943,"post_id":71194804,"comment_id":127280002,"body_markdown":"Did this really work for you?  I thought android was restricted to jvm 1.8!","body":"Did this really work for you?  I thought android was restricted to jvm 1.8!"},{"owner":{"account_id":14011147,"reputation":1259,"user_id":13834948,"display_name":"LXJ"},"score":0,"creation_date":1651083423,"post_id":71194804,"comment_id":127280455,"body_markdown":"Since Android Gradle Plugin 7.0, Java 11 is required.  And the above works for me.","body":"Since Android Gradle Plugin 7.0, Java 11 is required.  And the above works for me."},{"owner":{"account_id":6869537,"reputation":1293,"user_id":5280512,"display_name":"Tom Rutchik"},"score":2,"creation_date":1651104312,"post_id":71194804,"comment_id":127285874,"body_markdown":"Yes, I did know that the Android gradle plugin required Java 11.  That&#39;s the minimum JVM level needed for your builds.  Android/compileOption/sourceCompatibiity is the jvm level that you want your android code compiled to, and that&#39;s what I understand is limited to version 1.8.  I think if you use some java 11 features in your android code, I think it&#39;ll break.","body":"Yes, I did know that the Android gradle plugin required Java 11.  That&#39;s the minimum JVM level needed for your builds.  Android/compileOption/sourceCompatibiity is the jvm level that you want your android code compiled to, and that&#39;s what I understand is limited to version 1.8.  I think if you use some java 11 features in your android code, I think it&#39;ll break."},{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":0,"creation_date":1652519355,"post_id":71194804,"comment_id":127629397,"body_markdown":"The highest version was already 11 in 2020. See: https://www.mobileit.cz/Blog/Pages/android-java-release-train.aspx","body":"The highest version was already 11 in 2020. See: <a href=\"https://www.mobileit.cz/Blog/Pages/android-java-release-train.aspx\" rel=\"nofollow noreferrer\">mobileit.cz/Blog/Pages/android-java-release-train.aspx</a>"},{"owner":{"account_id":460516,"reputation":1391,"user_id":861661,"display_name":"Arcao"},"score":25,"creation_date":1673958580,"post_id":71194804,"comment_id":132608261,"body_markdown":"This doesn&#39;t work with Gradle 7.6 and AGP 7.4.0. It shows in KAPT: &#39;compileDebugJavaWithJavac&#39; task (current target is 11) and &#39;kaptGenerateStubsDebugKotlin&#39; task (current target is 1.8) jvm target compatibility should be set to the same Java version. By default will become an error since Gradle 8.0+! Read more: https://kotl.in/gradle/jvm/target-validation Consider using JVM toolchain: https://kotl.in/gradle/jvm/toolchain","body":"This doesn&#39;t work with Gradle 7.6 and AGP 7.4.0. It shows in KAPT: &#39;compileDebugJavaWithJavac&#39; task (current target is 11) and &#39;kaptGenerateStubsDebugKotlin&#39; task (current target is 1.8) jvm target compatibility should be set to the same Java version. By default will become an error since Gradle 8.0+! Read more: <a href=\"https://kotl.in/gradle/jvm/target-validation\" rel=\"nofollow noreferrer\">kotl.in/gradle/jvm/target-validation</a> Consider using JVM toolchain: <a href=\"https://kotl.in/gradle/jvm/toolchain\" rel=\"nofollow noreferrer\">kotl.in/gradle/jvm/toolchain</a>"},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":6,"creation_date":1677938048,"post_id":71194804,"comment_id":133437895,"body_markdown":"@Arcao I don&#39;t understand what to do there. What should I change/add/delete?","body":"@Arcao I don&#39;t understand what to do there. What should I change/add/delete?"},{"owner":{"account_id":248139,"reputation":24011,"user_id":523325,"accept_rate":66,"display_name":"Nguyen  Minh Binh"},"score":0,"creation_date":1682952424,"post_id":71194804,"comment_id":134289199,"body_markdown":"it should be `jvmTarget = &quot;11&quot;`","body":"it should be <code>jvmTarget = &quot;11&quot;</code>"},{"owner":{"account_id":7558541,"reputation":711,"user_id":6073671,"display_name":"MD. Shafiul Alam Biplob"},"score":0,"creation_date":1690935859,"post_id":71194804,"comment_id":135421438,"body_markdown":"It worked in my case.","body":"It worked in my case."}],"tags":[],"owner":{"account_id":14011147,"reputation":1259,"user_id":13834948,"display_name":"LXJ"},"comment_count":8,"down_vote_count":2,"up_vote_count":55,"is_accepted":false,"score":53,"last_activity_date":1680226106,"creation_date":1645363074,"answer_id":71194804,"question_id":69079963,"body_markdown":"@Marian&#39;s answer didn&#39;t quite help me.\r\n\r\nI end up setting the following in the app build.gradle\r\n\r\n    android {\r\n    ...\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_11\r\n            targetCompatibility JavaVersion.VERSION_11\r\n        }\r\n    \r\n        kotlinOptions {\r\n            jvmTarget=11\r\n        }\r\n    ...\r\n    }","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<p>@Marian's answer didn't quite help me.</p>\n<p>I end up setting the following in the app build.gradle</p>\n<pre><code>android {\n...\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_11\n        targetCompatibility JavaVersion.VERSION_11\n    }\n\n    kotlinOptions {\n        jvmTarget=11\n    }\n...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":389774,"reputation":434,"user_id":749427,"display_name":"Alejandro Moya"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1655928549,"creation_date":1655928549,"answer_id":72721423,"question_id":69079963,"body_markdown":"If anyone keeps getting warnings about a java compilation task being set to java 1.8 you can add this to the gradle script:\r\n\r\n\r\n    afterEvaluate {\r\n        tasks.withType&lt;JavaCompile&gt;().configureEach {\r\n            sourceCompatibility = JavaVersion.VERSION_11.toString()\r\n            targetCompatibility = JavaVersion.VERSION_11.toString()\r\n        }\r\n    }\r\n\r\nI was getting warnings on some java compile tasks on AS and this solved it for me.\r\n","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<p>If anyone keeps getting warnings about a java compilation task being set to java 1.8 you can add this to the gradle script:</p>\n<pre><code>afterEvaluate {\n    tasks.withType&lt;JavaCompile&gt;().configureEach {\n        sourceCompatibility = JavaVersion.VERSION_11.toString()\n        targetCompatibility = JavaVersion.VERSION_11.toString()\n    }\n}\n</code></pre>\n<p>I was getting warnings on some java compile tasks on AS and this solved it for me.</p>\n"},{"comments":[{"owner":{"account_id":92486,"reputation":45195,"user_id":253468,"accept_rate":79,"display_name":"TWiStErRob"},"score":2,"creation_date":1660671733,"post_id":72752682,"comment_id":129585725,"body_markdown":"This was added in [Kotlin 1.5.30](https://blog.jetbrains.com/kotlin/2021/11/gradle-jvm-toolchain-support-in-the-kotlin-plugin/) and only compatible with Gradle 7.2+","body":"This was added in <a href=\"https://blog.jetbrains.com/kotlin/2021/11/gradle-jvm-toolchain-support-in-the-kotlin-plugin/\" rel=\"nofollow noreferrer\">Kotlin 1.5.30</a> and only compatible with Gradle 7.2+"},{"owner":{"account_id":6467582,"reputation":1841,"user_id":5153846,"display_name":"Akbolat SSS"},"score":2,"creation_date":1663242599,"post_id":72752682,"comment_id":130195698,"body_markdown":"Where do I need to put it? inside of each module or in the root?","body":"Where do I need to put it? inside of each module or in the root?"},{"owner":{"account_id":6467582,"reputation":1841,"user_id":5153846,"display_name":"Akbolat SSS"},"score":0,"creation_date":1663246671,"post_id":72752682,"comment_id":130197364,"body_markdown":"or maybe in the buildSrc/build.gradle.kts?","body":"or maybe in the buildSrc/build.gradle.kts?"},{"owner":{"account_id":6126073,"reputation":1795,"user_id":4778022,"display_name":"Andrew Coates"},"score":0,"creation_date":1667566290,"post_id":72752682,"comment_id":131202510,"body_markdown":"This worked for me, though I needed to cast the `languageVersion` like this: `(this as JavaToolchainSpec).languageVersion`","body":"This worked for me, though I needed to cast the <code>languageVersion</code> like this: <code>(this as JavaToolchainSpec).languageVersion</code>"},{"owner":{"account_id":3406208,"reputation":142,"user_id":2857200,"display_name":"RealityExpander"},"score":0,"creation_date":1680993584,"post_id":72752682,"comment_id":133988446,"body_markdown":"@AkbolatSSS I put mine in the build.gradle.kts in the root of the file (not in any sub-hierarchy). I put the suggested answer in its own block. I am using a Ktor project, but the idea is similar for Android projects (im an Android dev too)","body":"@AkbolatSSS I put mine in the build.gradle.kts in the root of the file (not in any sub-hierarchy). I put the suggested answer in its own block. I am using a Ktor project, but the idea is similar for Android projects (im an Android dev too)"}],"tags":[],"owner":{"account_id":2246480,"reputation":24384,"user_id":1979703,"accept_rate":87,"display_name":"Niklas"},"comment_count":5,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1656148874,"creation_date":1656148874,"answer_id":72752682,"question_id":69079963,"body_markdown":"This worked nicely for me:\r\n\r\n```\r\nkotlin {\r\n  jvmToolchain {\r\n    languageVersion.set(JavaLanguageVersion.of(&quot;11&quot;))\r\n  }\r\n}\r\n```\r\n\r\nThat way I only need to set it once.","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<p>This worked nicely for me:</p>\n<pre><code>kotlin {\n  jvmToolchain {\n    languageVersion.set(JavaLanguageVersion.of(&quot;11&quot;))\n  }\n}\n</code></pre>\n<p>That way I only need to set it once.</p>\n"},{"tags":[],"owner":{"account_id":3368068,"reputation":3372,"user_id":2828087,"display_name":"Rahul Raina"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659519677,"creation_date":1659519371,"answer_id":73219434,"question_id":69079963,"body_markdown":"**This solution worked for me:**\r\n\r\nJust replace the statement (or similar to this):\r\n\r\n    kotlinOptions {\r\n        jvmTarget = JavaVersion.VERSION_1_8.toString() \r\n    }\r\nwith  \r\n\r\n    kotlinOptions {\r\n        jvmTarget = &quot;1.8&quot;\r\n    }\r\n\r\nin all the module level `build.gradle` files and then sync gradle.\r\n\r\n\r\n*Hope this works. Happy Coding...!*","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<p><strong>This solution worked for me:</strong></p>\n<p>Just replace the statement (or similar to this):</p>\n<pre><code>kotlinOptions {\n    jvmTarget = JavaVersion.VERSION_1_8.toString() \n}\n</code></pre>\n<p>with</p>\n<pre><code>kotlinOptions {\n    jvmTarget = &quot;1.8&quot;\n}\n</code></pre>\n<p>in all the module level <code>build.gradle</code> files and then sync gradle.</p>\n<p><em>Hope this works. Happy Coding...!</em></p>\n"},{"tags":[],"owner":{"account_id":80182,"reputation":29519,"user_id":226895,"accept_rate":86,"display_name":"expert"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1672681392,"creation_date":1672681392,"answer_id":74985503,"question_id":69079963,"body_markdown":"Surprisingly the culprit is very simple. You need to declare your `KotlinCompile` task before `JavaCompile`. Like this\r\n\r\n```\r\ntasks {\r\n\r\n    withType&lt;KotlinCompile&gt; {\r\n    \r\n        kotlinOptions {\r\n            freeCompilerArgs = listOf(\r\n                &quot;-Xextended-compiler-checks&quot;,\r\n                &quot;-Xinline-classes&quot;,\r\n                &quot;-Xjsr305=strict&quot;,\r\n                &quot;-Xjvm-default=all&quot;,\r\n                &quot;-Xskip-prerelease-check&quot;,\r\n            )\r\n            apiVersion = &quot;1.8&quot;\r\n            languageVersion = &quot;1.8&quot;\r\n            jvmTarget = &quot;11&quot;\r\n        }\r\n    }\r\n    \r\n    withType&lt;JavaCompile&gt; {\r\n        sourceCompatibility = &quot;11&quot;\r\n        targetCompatibility = &quot;11&quot;\r\n    }\r\n}\r\n```","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<p>Surprisingly the culprit is very simple. You need to declare your <code>KotlinCompile</code> task before <code>JavaCompile</code>. Like this</p>\n<pre><code>tasks {\n\n    withType&lt;KotlinCompile&gt; {\n    \n        kotlinOptions {\n            freeCompilerArgs = listOf(\n                &quot;-Xextended-compiler-checks&quot;,\n                &quot;-Xinline-classes&quot;,\n                &quot;-Xjsr305=strict&quot;,\n                &quot;-Xjvm-default=all&quot;,\n                &quot;-Xskip-prerelease-check&quot;,\n            )\n            apiVersion = &quot;1.8&quot;\n            languageVersion = &quot;1.8&quot;\n            jvmTarget = &quot;11&quot;\n        }\n    }\n    \n    withType&lt;JavaCompile&gt; {\n        sourceCompatibility = &quot;11&quot;\n        targetCompatibility = &quot;11&quot;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6869537,"reputation":1293,"user_id":5280512,"display_name":"Tom Rutchik"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1674778691,"creation_date":1674778691,"answer_id":75252936,"question_id":69079963,"body_markdown":"Marian&#39;s solution (see above) needs to be applied, but you may still see the same message as a warning especially if you run &quot;gradle build&quot; from a command line. I think if you &quot;synch&quot; with gradle from Android Studio, you might not see the warning message.  If you still see the message after properly applying Marian&#39;s solution, it&#39;s apparently a bogus warning message.  My understanding is that the bogus warning message goes away once you upgrade to using kotlin 1.6+.  You can disable this bogus warning by adding the following to your gradle.properties file.\r\n\r\n    kotlin.jvm.target.validation.mode = IGNORE\r\n\r\nI&#39;m not recommending the use of the above, but I it certainly solves the issue of seeing the bogus warning message. If you do use it, remember to remove it when it&#39;s no longer needed.\r\n\r\nThe problem for most of us is that we can&#39;t upgrade to kotlin 1.6.21 at this time.  In order to upgrade to kotlin 1.6.21 you need to upgrade to android gradle 7.4.  To upgrade to android gradle 7.4 you need an Android Studio version greater than Dolphin | 2021.3.1, so you would have to use one of the preview versions of Android Studio to do that at this time.\r\n\r\nfor compatibility information, see \r\nhttps://developer.android.com/studio/releases/gradle-plugin and\r\nhttps://developer.android.com/studio/releases#android_gradle_plugin_and_android_studio_compatibility","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<p>Marian's solution (see above) needs to be applied, but you may still see the same message as a warning especially if you run &quot;gradle build&quot; from a command line. I think if you &quot;synch&quot; with gradle from Android Studio, you might not see the warning message.  If you still see the message after properly applying Marian's solution, it's apparently a bogus warning message.  My understanding is that the bogus warning message goes away once you upgrade to using kotlin 1.6+.  You can disable this bogus warning by adding the following to your gradle.properties file.</p>\n<pre><code>kotlin.jvm.target.validation.mode = IGNORE\n</code></pre>\n<p>I'm not recommending the use of the above, but I it certainly solves the issue of seeing the bogus warning message. If you do use it, remember to remove it when it's no longer needed.</p>\n<p>The problem for most of us is that we can't upgrade to kotlin 1.6.21 at this time.  In order to upgrade to kotlin 1.6.21 you need to upgrade to android gradle 7.4.  To upgrade to android gradle 7.4 you need an Android Studio version greater than Dolphin | 2021.3.1, so you would have to use one of the preview versions of Android Studio to do that at this time.</p>\n<p>for compatibility information, see\n<a href=\"https://developer.android.com/studio/releases/gradle-plugin\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/releases/gradle-plugin</a> and\n<a href=\"https://developer.android.com/studio/releases#android_gradle_plugin_and_android_studio_compatibility\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/releases#android_gradle_plugin_and_android_studio_compatibility</a></p>\n"},{"comments":[{"owner":{"account_id":923404,"reputation":7408,"user_id":954643,"accept_rate":80,"display_name":"qix"},"score":4,"creation_date":1676368941,"post_id":75395975,"comment_id":133118524,"body_markdown":"Actually, `kotlinOptions {\n        jvmTarget = &quot;11&quot;\n    }` would work as well; note that the value is a string. re: https://kotlinlang.org/docs/whatsnew18.html#exposing-kotlin-compiler-options-as-gradle-lazy-properties But yes, the 1.8 gradle plugin suggests: &quot;Consider using JVM toolchain&quot; (https://kotlinlang.org/docs/gradle-configure-project.html#gradle-java-toolchains-support), as &quot;the kotlinOptions task input and the kotlinOptions{...} task DSL are in support mode and will be deprecated in upcoming releases.&quot;","body":"Actually, <code>kotlinOptions {         jvmTarget = &quot;11&quot;     }</code> would work as well; note that the value is a string. re: <a href=\"https://kotlinlang.org/docs/whatsnew18.html#exposing-kotlin-compiler-options-as-gradle-lazy-properties\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/&hellip;</a> But yes, the 1.8 gradle plugin suggests: &quot;Consider using JVM toolchain&quot; (<a href=\"https://kotlinlang.org/docs/gradle-configure-project.html#gradle-java-toolchains-support\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/&hellip;</a>), as &quot;the kotlinOptions task input and the kotlinOptions{...} task DSL are in support mode and will be deprecated in upcoming releases.&quot;"},{"owner":{"account_id":5442381,"reputation":16756,"user_id":4409113,"accept_rate":88,"display_name":""},"score":1,"creation_date":1677962058,"post_id":75395975,"comment_id":133442063,"body_markdown":"You could just pass the 11 as a parameter like this as well: `jvmToolchain(11)`","body":"You could just pass the 11 as a parameter like this as well: <code>jvmToolchain(11)</code>"}],"tags":[],"owner":{"account_id":334117,"reputation":15586,"user_id":660350,"accept_rate":54,"display_name":"Pascal"},"comment_count":2,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1678869644,"creation_date":1675931354,"answer_id":75395975,"question_id":69079963,"body_markdown":"In order to have the ***&#39;same version of Java&#39;*** in both ***&#39;Java and Kotlin&#39;***,&lt;br/&gt;just modify your **build.gradle** file like this (example given for Java 11):\r\n\r\n\tapply plugin: &#39;com.android.application&#39;\r\n\tapply plugin: &#39;kotlin-android&#39;\r\n\t...\r\n\tandroid {\r\n\t\t...\r\n\t\tcompileOptions {\r\n\t\t\tsourceCompatibility JavaVersion.VERSION_11\r\n\t\t\ttargetCompatibility JavaVersion.VERSION_11\r\n\t\t}\r\n\r\n\t\t// New syntax (credit goes to  in comment)\r\n        kotlin {\r\n\t\t\tjvmToolchain(11)\r\n\t\t}\r\n\t/*\r\n\t\tFYI: Old syntax:\r\n\t\tkotlin {\r\n\t\t\tjvmToolchain {\r\n\t\t\t\tlanguageVersion.set(JavaLanguageVersion.of(&quot;11&quot;))\r\n\t\t\t}\r\n\t\t}\r\n\t\tFYI: Deprecated syntax:\r\n\t\tkotlinOptions {\r\n\t\t\tjvmTarget = &quot;11&quot;\r\n\t\t}\r\n\t*/\r\n\t\t...\r\n\t}\r\n\r\n**My configuration:**&lt;BR/&gt;\r\n\r\nGradle:\r\n - Android Gradle Plugin: com.android.tools.build:gradle:7.4.1\r\n - Gradle: 7.5 (as of ./gradle/wrapper/gradle-wrapper.properties)\r\n\r\nKotlin:\r\n - Android Kotlin Plugin: 221 ( 221-1.8.0-release-for-android-studio-AS5591.52 )&lt;BR/&gt;\r\n(see https://kotlinlang.org/docs/whatsnew18.html#install-kotlin-1-8-0 )\r\n - Kotlin Gradle Plugin: org.jetbrains.kotlin:kotlin-gradle-plugin:1.8.0\r\n\r\n**About new syntax**:&lt;BR/&gt;\r\nSee [New method for JVM toolchain configuration][1]&lt;BR/&gt;\r\n\r\n**NB:**&lt;BR/&gt;\r\nMore information about Kotlin configuration regarding that matter is available here:\r\nhttps://blog.jetbrains.com/kotlin/2021/11/gradle-jvm-toolchain-support-in-the-kotlin-plugin/\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/whatsnew1720.html#new-method-for-jvm-toolchain-configuration","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<p>In order to have the <em><strong>'same version of Java'</strong></em> in both <em><strong>'Java and Kotlin'</strong></em>,<br/>just modify your <strong>build.gradle</strong> file like this (example given for Java 11):</p>\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\n...\nandroid {\n    ...\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_11\n        targetCompatibility JavaVersion.VERSION_11\n    }\n\n    // New syntax (credit goes to  in comment)\n    kotlin {\n        jvmToolchain(11)\n    }\n/*\n    FYI: Old syntax:\n    kotlin {\n        jvmToolchain {\n            languageVersion.set(JavaLanguageVersion.of(&quot;11&quot;))\n        }\n    }\n    FYI: Deprecated syntax:\n    kotlinOptions {\n        jvmTarget = &quot;11&quot;\n    }\n*/\n    ...\n}\n</code></pre>\n<p><strong>My configuration:</strong><BR/></p>\n<p>Gradle:</p>\n<ul>\n<li>Android Gradle Plugin: com.android.tools.build:gradle:7.4.1</li>\n<li>Gradle: 7.5 (as of ./gradle/wrapper/gradle-wrapper.properties)</li>\n</ul>\n<p>Kotlin:</p>\n<ul>\n<li>Android Kotlin Plugin: 221 ( 221-1.8.0-release-for-android-studio-AS5591.52 )<BR/>\n(see <a href=\"https://kotlinlang.org/docs/whatsnew18.html#install-kotlin-1-8-0\" rel=\"noreferrer\">https://kotlinlang.org/docs/whatsnew18.html#install-kotlin-1-8-0</a> )</li>\n<li>Kotlin Gradle Plugin: org.jetbrains.kotlin:kotlin-gradle-plugin:1.8.0</li>\n</ul>\n<p><strong>About new syntax</strong>:<BR/>\nSee <a href=\"https://kotlinlang.org/docs/whatsnew1720.html#new-method-for-jvm-toolchain-configuration\" rel=\"noreferrer\">New method for JVM toolchain configuration</a><BR/></p>\n<p><strong>NB:</strong><BR/>\nMore information about Kotlin configuration regarding that matter is available here:\n<a href=\"https://blog.jetbrains.com/kotlin/2021/11/gradle-jvm-toolchain-support-in-the-kotlin-plugin/\" rel=\"noreferrer\">https://blog.jetbrains.com/kotlin/2021/11/gradle-jvm-toolchain-support-in-the-kotlin-plugin/</a></p>\n"},{"comments":[{"owner":{"account_id":16932347,"reputation":329,"user_id":12246264,"display_name":"Ian Andwati"},"score":0,"creation_date":1692894453,"post_id":76005200,"comment_id":135689375,"body_markdown":"This worked for me","body":"This worked for me"}],"tags":[],"owner":{"account_id":12807192,"reputation":71,"user_id":9266496,"display_name":"tejj"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1681800251,"creation_date":1681387539,"answer_id":76005200,"question_id":69079963,"body_markdown":"    allprojects {\r\n        tasks.withType&lt;org.jetbrains.kotlin.gradle.tasks.KotlinCompile&gt;().configureEach {\r\n            kotlinOptions {\r\n                jvmTarget = JavaVersion.VERSION_1_8.toString()\r\n            }\r\n        }\r\n    }\r\n\r\nby including this task in your build.gradle , tells the compiler to use the JavaVersion = 1.8 in your project.","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<pre><code>allprojects {\n    tasks.withType&lt;org.jetbrains.kotlin.gradle.tasks.KotlinCompile&gt;().configureEach {\n        kotlinOptions {\n            jvmTarget = JavaVersion.VERSION_1_8.toString()\n        }\n    }\n}\n</code></pre>\n<p>by including this task in your build.gradle , tells the compiler to use the JavaVersion = 1.8 in your project.</p>\n"},{"comments":[{"owner":{"account_id":77582,"reputation":2913,"user_id":221325,"accept_rate":80,"display_name":"MohammedYakub M."},"score":0,"creation_date":1693391542,"post_id":76060790,"comment_id":135753660,"body_markdown":"Facing exact issue did all you mentioned here, but still no lock. Were you able to fix this?","body":"Facing exact issue did all you mentioned here, but still no lock. Were you able to fix this?"},{"owner":{"account_id":20159165,"reputation":2445,"user_id":14784590,"display_name":"Reejesh"},"score":0,"creation_date":1693820340,"post_id":76060790,"comment_id":135805991,"body_markdown":"@MohammedYakubM. maybe you can try to change the android studio settings to match the old gradle. Hope you are using the latest version of Android Studio. I checked it on Flamingo.","body":"@MohammedYakubM. maybe you can try to change the android studio settings to match the old gradle. Hope you are using the latest version of Android Studio. I checked it on Flamingo."},{"owner":{"account_id":13941942,"reputation":392,"user_id":10090030,"display_name":"Ali Doran"},"score":0,"creation_date":1698245182,"post_id":76060790,"comment_id":136381191,"body_markdown":"@Reejesh\nWhy don&#39;t we face this problem in creating a new project?\nCreate a new project. you see Gradles&#39; number is 1_8/1.8 but it works without problem with Java 17","body":"@Reejesh Why don&#39;t we face this problem in creating a new project? Create a new project. you see Gradles&#39; number is 1_8/1.8 but it works without problem with Java 17"}],"tags":[],"owner":{"account_id":20159165,"reputation":2445,"user_id":14784590,"display_name":"Reejesh"},"comment_count":3,"down_vote_count":1,"up_vote_count":200,"is_accepted":false,"score":199,"last_activity_date":1691410733,"creation_date":1681967966,"answer_id":76060790,"question_id":69079963,"body_markdown":"We also need to **pay attention to the version that the error is showing**. In my case it was :\r\n\r\nCaused by: org.gradle.api.GradleException: &#39;compileDebugJavaWithJavac&#39; task (**current target is 1.8**) and &#39;compileDebugKotlin&#39; task (**current target is 17**) jvm target compatibility should be set to the same Java version.\r\n\r\nWhich means,the Android Studio IDE is using 17 (You can find it in File Menu-&gt;Project Structure-&gt;SDK Location-&gt;JDK location)\r\n\r\nAnd You are using 1.8 in your gradle files.\r\n\r\nSo you need to change\r\n\r\n```kotlin\r\ncompileOptions {\r\n    sourceCompatibility JavaVersion.VERSION_1_8\r\n    targetCompatibility JavaVersion.VERSION_1_8\r\n}\r\n```\r\n\r\nand \r\n\r\n```kotlin\r\nkotlinOptions {\r\n    jvmTarget = &#39;1.8&#39;\r\n}\r\n```\r\n\r\nto\r\n\r\n```kotlin\r\ncompileOptions {\r\n    sourceCompatibility JavaVersion.VERSION_17\r\n    targetCompatibility JavaVersion.VERSION_17\r\n}\r\n```\r\n\r\nand\r\n\r\n```kotlin\r\nkotlinOptions {\r\n    jvmTarget = &#39;17&#39;\r\n}\r\n```\r\n\r\nNote that \r\n\r\n&gt; since the error showed 17, I have also switched to 17.\r\n\r\nThis happened when I upgraded gradle to 8.0.\r\n\r\n&gt; Beware of release issues. Kindly take a backup before doing the\r\n&gt; procedure. May face issues in release aab.\r\n\r\nMake sure to check the release apk after this procedure is done, because R8 expects things like [this][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/72520577/14784590","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<p>We also need to <strong>pay attention to the version that the error is showing</strong>. In my case it was :</p>\n<p>Caused by: org.gradle.api.GradleException: 'compileDebugJavaWithJavac' task (<strong>current target is 1.8</strong>) and 'compileDebugKotlin' task (<strong>current target is 17</strong>) jvm target compatibility should be set to the same Java version.</p>\n<p>Which means,the Android Studio IDE is using 17 (You can find it in File Menu-&gt;Project Structure-&gt;SDK Location-&gt;JDK location)</p>\n<p>And You are using 1.8 in your gradle files.</p>\n<p>So you need to change</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>compileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n</code></pre>\n<p>and</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>kotlinOptions {\n    jvmTarget = '1.8'\n}\n</code></pre>\n<p>to</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>compileOptions {\n    sourceCompatibility JavaVersion.VERSION_17\n    targetCompatibility JavaVersion.VERSION_17\n}\n</code></pre>\n<p>and</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>kotlinOptions {\n    jvmTarget = '17'\n}\n</code></pre>\n<p>Note that</p>\n<blockquote>\n<p>since the error showed 17, I have also switched to 17.</p>\n</blockquote>\n<p>This happened when I upgraded gradle to 8.0.</p>\n<blockquote>\n<p>Beware of release issues. Kindly take a backup before doing the\nprocedure. May face issues in release aab.</p>\n</blockquote>\n<p>Make sure to check the release apk after this procedure is done, because R8 expects things like <a href=\"https://stackoverflow.com/a/72520577/14784590\">this</a></p>\n"},{"tags":[],"owner":{"account_id":7079447,"reputation":512,"user_id":5418366,"display_name":"Desilio Neto"},"comment_count":0,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1683849113,"creation_date":1682112548,"answer_id":76076810,"question_id":69079963,"body_markdown":"I had the same problem after update the Android Studio to Flamingo version, this is my new configs in the build.gradle \r\n\r\n     compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_17\r\n        targetCompatibility JavaVersion.VERSION_17\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = &#39;17&#39;\r\n    }","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<p>I had the same problem after update the Android Studio to Flamingo version, this is my new configs in the build.gradle</p>\n<pre><code> compileOptions {\n    sourceCompatibility JavaVersion.VERSION_17\n    targetCompatibility JavaVersion.VERSION_17\n}\nkotlinOptions {\n    jvmTarget = '17'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23150760,"reputation":17,"user_id":17252815,"display_name":"Faqiang"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1682429546,"creation_date":1682429546,"answer_id":76101745,"question_id":69079963,"body_markdown":"I solved this problem by updating the configuration in the gradle.properties file.\r\n\r\nchange\r\n\r\n`distributionUrl=https\\://services.gradle.org/distributions/gradle-8.0-bin.zip`\r\n\r\nto \r\n\r\n`distributionUrl=https\\://services.gradle.org/distributions/gradle-7.5-bin.zip`","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<p>I solved this problem by updating the configuration in the gradle.properties file.</p>\n<p>change</p>\n<p><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-8.0-bin.zip</code></p>\n<p>to</p>\n<p><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.5-bin.zip</code></p>\n"},{"comments":[{"owner":{"account_id":19345709,"reputation":205,"user_id":14144329,"display_name":"K D"},"score":1,"creation_date":1683239562,"post_id":76159929,"comment_id":134340733,"body_markdown":"ALSO remove packages from buildgradle of all plugins as a temporary Solution.\n  -  \n\nRecommendation: remove package=&quot;io.github.zeshuaro.google_api_headers&quot; from the source AndroidManifest.xml: C:\\Users\\DBS-05\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\google_api_headers-1.5.0+1\\android\\src\\main\\AndroidManifest.xml.\n\n  -  \nThanks for the Update in gradle.properties","body":"ALSO remove packages from buildgradle of all plugins as a temporary Solution.   -    Recommendation: remove package=&quot;io.github.zeshuaro.google_api_headers&quot; from the source AndroidManifest.xml: C:\\Users\\DBS-05\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\googl&zwnj;&#8203;e_api_headers-1.5.0+&zwnj;&#8203;1\\android\\src\\main\\A&zwnj;&#8203;ndroidManifest.xml.    -   Thanks for the Update in gradle.properties"},{"owner":{"account_id":3460640,"reputation":3374,"user_id":2897869,"accept_rate":52,"display_name":"Hossein Kurd"},"score":0,"creation_date":1689847729,"post_id":76159929,"comment_id":135272572,"body_markdown":"Good Idea, Why should we decrease the *sourceCompatibility* and *targetCompatibility* version?! I did it and solved","body":"Good Idea, Why should we decrease the <i>sourceCompatibility</i> and <i>targetCompatibility</i> version?! I did it and solved"}],"tags":[],"owner":{"account_id":7558541,"reputation":711,"user_id":6073671,"display_name":"MD. Shafiul Alam Biplob"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1684831097,"creation_date":1683078257,"answer_id":76159929,"question_id":69079963,"body_markdown":"I tried with the following code first for all modules\r\n    \r\n    compileOptions {\r\n        sourceCompatibility = &#39;1.8&#39;\r\n        targetCompatibility = &#39;1.8&#39;\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = &#39;1.8&#39;\r\n    }\r\n    \r\n    \r\nAnd after adding the following line into gradle.properties solved the issue. \r\n    \r\n    \r\n    kotlin.jvm.target.validation.mode = IGNORE\r\n\r\n","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<p>I tried with the following code first for all modules</p>\n<pre><code>compileOptions {\n    sourceCompatibility = '1.8'\n    targetCompatibility = '1.8'\n}\nkotlinOptions {\n    jvmTarget = '1.8'\n}\n</code></pre>\n<p>And after adding the following line into gradle.properties solved the issue.</p>\n<pre><code>kotlin.jvm.target.validation.mode = IGNORE\n</code></pre>\n"},{"tags":[],"owner":{"account_id":336340,"reputation":6304,"user_id":663941,"accept_rate":82,"display_name":"Saran"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688662508,"creation_date":1688662508,"answer_id":76631026,"question_id":69079963,"body_markdown":"Pretty much all the answers are at small variations to each other, mine too.\r\n\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n        kotlin {\r\n            jvmToolchain(8)\r\n        }\r\n\r\nThis worked for me. Looks like tool chain defaults to different value else where, this overrides to match compile options and resolves the issue.","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<p>Pretty much all the answers are at small variations to each other, mine too.</p>\n<pre><code>    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    kotlin {\n        jvmToolchain(8)\n    }\n</code></pre>\n<p>This worked for me. Looks like tool chain defaults to different value else where, this overrides to match compile options and resolves the issue.</p>\n"},{"tags":[],"owner":{"account_id":22443933,"reputation":147,"user_id":16648081,"display_name":"The Droid Guy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688843612,"creation_date":1688843612,"answer_id":76644570,"question_id":69079963,"body_markdown":"One of the very similar error can be this.. \r\nExecution failed for task &#39;:app:kaptGenerateStubsDebugKotlin&#39;.\r\n&gt; &#39;compileDebugJavaWithJavac&#39; task (current target is 1.8) and &#39;kaptGenerateStubsDebugKotlin&#39; task (current target is 17) jvm target compatibility should be set to the same Java version.\r\n\r\nFirst, I would ask you to go to this path in Android Studio and check what Gradle JDK versions you are using...\r\nSimply Goto -&gt;File-&gt;Settings-&gt;Build,Execution,Development-&gt;Build Tools-&gt;Gradle\r\nNow, see inside Gradle SDK, what version is selected.\r\n\r\nNow to fix the error open the &#39;build.gradle&#39; file for your &#39;app module&#39;.\r\nAnd to fix it, make sure to check if you have equal java version at two blocks in your &#39;build.gradle&#39; .\r\nThe first one is inside the &#39;compileOptions&#39; , make sure the two lines have similar java versions as you have used in Gradle SDK (checked above),\r\n\r\n   \r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_11\r\n        targetCompatibility JavaVersion.VERSION_11\r\n    }\r\n\r\nThe second block to be checked is &#39;kotlinOptions&#39;, check the Java version here too,\r\n\r\n    kotlinOptions {\r\n        jvmTarget = &#39;11&#39;\r\n    }\r\n\r\nAnd hopefully, this will solve the error. ","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<p>One of the very similar error can be this..\nExecution failed for task ':app:kaptGenerateStubsDebugKotlin'.</p>\n<blockquote>\n<p>'compileDebugJavaWithJavac' task (current target is 1.8) and 'kaptGenerateStubsDebugKotlin' task (current target is 17) jvm target compatibility should be set to the same Java version.</p>\n</blockquote>\n<p>First, I would ask you to go to this path in Android Studio and check what Gradle JDK versions you are using...\nSimply Goto -&gt;File-&gt;Settings-&gt;Build,Execution,Development-&gt;Build Tools-&gt;Gradle\nNow, see inside Gradle SDK, what version is selected.</p>\n<p>Now to fix the error open the 'build.gradle' file for your 'app module'.\nAnd to fix it, make sure to check if you have equal java version at two blocks in your 'build.gradle' .\nThe first one is inside the 'compileOptions' , make sure the two lines have similar java versions as you have used in Gradle SDK (checked above),</p>\n<pre><code>compileOptions {\n    sourceCompatibility JavaVersion.VERSION_11\n    targetCompatibility JavaVersion.VERSION_11\n}\n</code></pre>\n<p>The second block to be checked is 'kotlinOptions', check the Java version here too,</p>\n<pre><code>kotlinOptions {\n    jvmTarget = '11'\n}\n</code></pre>\n<p>And hopefully, this will solve the error.</p>\n"},{"comments":[{"owner":{"account_id":6869537,"reputation":1293,"user_id":5280512,"display_name":"Tom Rutchik"},"score":0,"creation_date":1693333811,"post_id":76661107,"comment_id":135746168,"body_markdown":"see https://kotlinlang.org/docs/gradle-configure-project.html#apply-the-plugin .  This link shows relationships between versions of KGP (kotlin gradle plugin  and min/max Gradle and AGP versions.  More than likely, PalFS problem and solution can be explained by compatibility table found in the link!","body":"see <a href=\"https://kotlinlang.org/docs/gradle-configure-project.html#apply-the-plugin\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/&hellip;</a> .  This link shows relationships between versions of KGP (kotlin gradle plugin  and min/max Gradle and AGP versions.  More than likely, PalFS problem and solution can be explained by compatibility table found in the link!"}],"tags":[],"owner":{"account_id":6597297,"reputation":761,"user_id":5096638,"display_name":"PalFS"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1689071904,"creation_date":1689071904,"answer_id":76661107,"question_id":69079963,"body_markdown":"I had experienced the same situation and tried different variations mentioned above. The strange behavior that I was having where the project built successfully on the first attempt, but the same error resurfaced when trying to build it again.\r\n\r\nFortunately, I found a workaround that resolved the issue. By reverting back the Gradle version from 8.0 to 7.5, the problem was resolved, and I was able to build the project without any further errors.","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<p>I had experienced the same situation and tried different variations mentioned above. The strange behavior that I was having where the project built successfully on the first attempt, but the same error resurfaced when trying to build it again.</p>\n<p>Fortunately, I found a workaround that resolved the issue. By reverting back the Gradle version from 8.0 to 7.5, the problem was resolved, and I was able to build the project without any further errors.</p>\n"},{"tags":[],"owner":{"account_id":29055280,"reputation":21,"user_id":22257176,"display_name":"hahahacker"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689841810,"creation_date":1689841810,"answer_id":76728024,"question_id":69079963,"body_markdown":"For anyone who did everything but still struggling with this problem, try to downgrade your gradle version. In my case I changed 8.0 to 7.5 and it helped.","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<p>For anyone who did everything but still struggling with this problem, try to downgrade your gradle version. In my case I changed 8.0 to 7.5 and it helped.</p>\n"},{"tags":[],"owner":{"account_id":3460640,"reputation":3374,"user_id":2897869,"accept_rate":52,"display_name":"Hossein Kurd"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689848644,"creation_date":1689848644,"answer_id":76728918,"question_id":69079963,"body_markdown":"1. Remove *package* from the manifest tag in AndroidManifesty.xml\r\n2. add the command below into project&#39;s *gradle.properties*:\r\n\r\n&gt; kotlin.jvm.target.validation.mode = IGNORE\r\n3. make sure the *kotlinOptions* has been set next to *compileOptions*: \r\n&gt;     compileOptions {\r\n&gt;         sourceCompatibility JavaVersion.VERSION_1_8\r\n&gt;         targetCompatibility JavaVersion.VERSION_1_8\r\n&gt;     }\r\n&gt;     kotlinOptions {\r\n&gt;         jvmTarget = &#39;1.8&#39;\r\n&gt;     }","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<ol>\n<li>Remove <em>package</em> from the manifest tag in AndroidManifesty.xml</li>\n<li>add the command below into project's <em>gradle.properties</em>:</li>\n</ol>\n<blockquote>\n<p>kotlin.jvm.target.validation.mode = IGNORE\n3. make sure the <em>kotlinOptions</em> has been set next to <em>compileOptions</em>:\ncompileOptions {\nsourceCompatibility JavaVersion.VERSION_1_8\ntargetCompatibility JavaVersion.VERSION_1_8\n}\nkotlinOptions {\njvmTarget = '1.8'\n}</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":15006936,"reputation":2141,"user_id":10832700,"display_name":"ahmnouira"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1691064003,"creation_date":1691064003,"answer_id":76827863,"question_id":69079963,"body_markdown":"I fixed this issue by **using the same Java Version**:\r\n\r\n```kotlin\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_17\r\n        targetCompatibility JavaVersion.VERSION_17\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = &#39;17&#39;\r\n    }\r\n```","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<p>I fixed this issue by <strong>using the same Java Version</strong>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_17\n        targetCompatibility JavaVersion.VERSION_17\n    }\n    kotlinOptions {\n        jvmTarget = '17'\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4362578,"reputation":31,"user_id":3559184,"display_name":"Asif A"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693914936,"creation_date":1693900604,"answer_id":77042705,"question_id":69079963,"body_markdown":"```none\r\ncompileOptions {\r\n        sourceCompatibility = JavaVersion.VERSION_11\r\n        targetCompatibility = JavaVersion.VERSION_11\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = &quot;11&quot;\r\n    }\r\n```\r\n","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<pre class=\"lang-none prettyprint-override\"><code>compileOptions {\n        sourceCompatibility = JavaVersion.VERSION_11\n        targetCompatibility = JavaVersion.VERSION_11\n    }\n    kotlinOptions {\n        jvmTarget = &quot;11&quot;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7705615,"reputation":530,"user_id":5836687,"display_name":"Ramchandra Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694674708,"creation_date":1694674708,"answer_id":77102488,"question_id":69079963,"body_markdown":"// Import this package in gradle.kts :app file.  \r\n\r\n    import org.jetbrains.kotlin.gradle.internal.KaptGenerateStubsTask\r\n\r\n \r\n// Paste this in your gradle kts file after android block\r\n\r\n    tasks.withType(type = KaptGenerateStubsTask::class) {\r\n            kotlinOptions.jvmTarget = JavaVersion.VERSION_11.toString()\r\n        \r\n        }\r\nIf you&#39;re using Java version 1.8 then replace VERSION_11 with VERSION_1_8","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<p>// Import this package in gradle.kts :app file.</p>\n<pre><code>import org.jetbrains.kotlin.gradle.internal.KaptGenerateStubsTask\n</code></pre>\n<p>// Paste this in your gradle kts file after android block</p>\n<pre><code>tasks.withType(type = KaptGenerateStubsTask::class) {\n        kotlinOptions.jvmTarget = JavaVersion.VERSION_11.toString()\n    \n    }\n</code></pre>\n<p>If you're using Java version 1.8 then replace VERSION_11 with VERSION_1_8</p>\n"},{"tags":[],"owner":{"account_id":157752,"reputation":19954,"user_id":375929,"display_name":"Ivan Bartsov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700837114,"creation_date":1696610616,"answer_id":77246169,"question_id":69079963,"body_markdown":"So, there seems to be a weird special case for `kapt` here, that&#39;s being discussed in [KT-55947](https://youtrack.jetbrains.com/issue/KT-55947/Unable-to-set-kapt-jvm-target-version):\r\n\r\nBasically, short of using the new `jvmToolkit` API (which one might have a lot of reasons not to), the usual way to enforce a certain JVM compatibility level in an android app is as follows:\r\n\r\n\r\n```kotlin\r\nandroid {\r\n    //...\r\n    compileOptions {\r\n        sourceCompatibility = JavaVersion.VERSION_11\r\n        targetCompatibility = JavaVersion.VERSION_11\r\n    }\r\n\r\n    kotlinOptions {\r\n        jvmTarget = &quot;11&quot; // Or JavaVersion.VERSION_11.toString()\r\n    }\r\n}\r\n```\r\n\r\nBut if you&#39;re using `kapt` for Kotlin `1.8+` chances are it&#39;s not picking up the `jvmTarget` config, and is still &quot;misconfigured&quot; (and your build is, strictly speaking, not 100% reproducible) so you get something like this for the `kaptGenerateStubs` step:\r\n\r\n```bash\r\n&gt; Task :XXXXX:kaptGenerateStubsReleaseKotlin\r\n&#39;compileReleaseJavaWithJavac&#39; task (current target is 11) and &#39;kaptGenerateStubsReleaseKotlin&#39; task (current target is 1.8) jvm target compatibility should be set to the same Java version.\r\n```\r\n\r\nWithout using `jvmToolkit` API, one has to explicitly configure the kapt task like so (all credits go to the knowledgeable people of the KT-55947 issue above)\r\n\r\n```kotlin\r\n// app|module-level build.gradle.kts, outside the android {} block\r\n\r\ntasks.withType(type = org.jetbrains.kotlin.gradle.tasks.KaptGenerateStubs::class) {\r\n    kotlinOptions.jvmTarget = &quot;11&quot;\r\n}\r\n```","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<p>So, there seems to be a weird special case for <code>kapt</code> here, that's being discussed in <a href=\"https://youtrack.jetbrains.com/issue/KT-55947/Unable-to-set-kapt-jvm-target-version\" rel=\"nofollow noreferrer\">KT-55947</a>:</p>\n<p>Basically, short of using the new <code>jvmToolkit</code> API (which one might have a lot of reasons not to), the usual way to enforce a certain JVM compatibility level in an android app is as follows:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>android {\n    //...\n    compileOptions {\n        sourceCompatibility = JavaVersion.VERSION_11\n        targetCompatibility = JavaVersion.VERSION_11\n    }\n\n    kotlinOptions {\n        jvmTarget = &quot;11&quot; // Or JavaVersion.VERSION_11.toString()\n    }\n}\n</code></pre>\n<p>But if you're using <code>kapt</code> for Kotlin <code>1.8+</code> chances are it's not picking up the <code>jvmTarget</code> config, and is still &quot;misconfigured&quot; (and your build is, strictly speaking, not 100% reproducible) so you get something like this for the <code>kaptGenerateStubs</code> step:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>&gt; Task :XXXXX:kaptGenerateStubsReleaseKotlin\n'compileReleaseJavaWithJavac' task (current target is 11) and 'kaptGenerateStubsReleaseKotlin' task (current target is 1.8) jvm target compatibility should be set to the same Java version.\n</code></pre>\n<p>Without using <code>jvmToolkit</code> API, one has to explicitly configure the kapt task like so (all credits go to the knowledgeable people of the KT-55947 issue above)</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// app|module-level build.gradle.kts, outside the android {} block\n\ntasks.withType(type = org.jetbrains.kotlin.gradle.tasks.KaptGenerateStubs::class) {\n    kotlinOptions.jvmTarget = &quot;11&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3542375,"reputation":9662,"user_id":2959120,"accept_rate":64,"display_name":"Mladen Rakonjac"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698444312,"creation_date":1698444312,"answer_id":77377255,"question_id":69079963,"body_markdown":"I see that in other answers, it is suggested to use Java 17. However, it is not needed, we need to use:\r\n\r\n     compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n    kotlinOptions {\r\n        jvmTarget = &quot;1.8&quot;\r\n    }\r\n\r\nAlso, we should have it in each module that we have in our app.\r\n \r\nIf our module is just java/kotlin one that does not use the Android plugin, then you can add the following lines at the end of the build.gradle file:\r\n\r\n    compileJava {\r\n        sourceCompatibility = JavaVersion.VERSION_1_8\r\n        targetCompatibility = JavaVersion.VERSION_1_8\r\n    }\r\n    \r\n    compileKotlin {\r\n        kotlinOptions {\r\n            jvmTarget = &quot;1.8&quot;\r\n        }\r\n    }\r\n\r\nThis will solve the issue. \r\n","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<p>I see that in other answers, it is suggested to use Java 17. However, it is not needed, we need to use:</p>\n<pre><code> compileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n\nkotlinOptions {\n    jvmTarget = &quot;1.8&quot;\n}\n</code></pre>\n<p>Also, we should have it in each module that we have in our app.</p>\n<p>If our module is just java/kotlin one that does not use the Android plugin, then you can add the following lines at the end of the build.gradle file:</p>\n<pre><code>compileJava {\n    sourceCompatibility = JavaVersion.VERSION_1_8\n    targetCompatibility = JavaVersion.VERSION_1_8\n}\n\ncompileKotlin {\n    kotlinOptions {\n        jvmTarget = &quot;1.8&quot;\n    }\n}\n</code></pre>\n<p>This will solve the issue.</p>\n"}],"owner":{"account_id":12192798,"reputation":2691,"user_id":8899640,"display_name":"jitendra kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198981,"favorite_count":0,"down_vote_count":0,"up_vote_count":243,"answer_count":23,"score":243,"last_activity_date":1700837114,"creation_date":1630959916,"question_id":69079963,"body_markdown":"Build.gradle.kts \r\n\r\n    buildscript {\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n            gradlePluginPortal()\r\n        }\r\n        dependencies {\r\n            classpath (&quot;com.android.tools.build:gradle:7.0.2&quot;)\r\n            classpath (&quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.5.30&quot;)\r\n            classpath(&quot;gradle.plugin.com.github.spotbugs.snom:spotbugs-gradle-plugin:${Versions.spotbugsGradlePluginVersion}&quot;)\r\n            classpath(&quot;se.bjurr.violations:violations-gradle-plugin:${Versions.violationsVersion}&quot;)\r\n    \r\n        }\r\n    }\r\n    //android {\r\n    //    compileOptions {\r\n    //        sourceCompatibility = JavaVersion.VERSION_11\r\n    //                targetCompatibility = JavaVersion.VERSION_11\r\n    //    }\r\n    //\r\n    //    kotlinOptions {\r\n    //        jvmTarget = JavaVersion.VERSION_11.toString()\r\n    //    }\r\n    //}\r\n    plugins {\r\n        `maven-publish`\r\n        `java-gradle-plugin`\r\n        `kotlin-dsl`\r\n        id (&quot;io.gitlab.arturbosch.detekt&quot;) version (&quot;1.18.1&quot;)\r\n    }\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        gradlePluginPortal()\r\n    }\r\n    \r\n    dependencies {\r\n        compileOnly(gradleApi())\r\n        testImplementation(gradleTestKit())\r\n        testImplementation(&quot;junit:junit:${Versions.jUnitVersion}&quot;)\r\n    }\r\n    val generatedSources = tasks.register&lt;GenerateVersionsFileTask&gt;(&quot;generateSources&quot;)\r\n\r\nI get the following error:\r\n\r\n&gt; ERROR :  &#39;compileJava&#39; task (current target is 11) and &#39;compileKotlin&#39; task (current target is 1.8) jvm target compatibility should be set to the same Java version.\r\n\r\nWhen I uncomment `android {}`, I get:\r\n\r\n&gt; Error :  Script compilation errors:\r\n&gt; \r\n&gt; \r\n&gt;      Line 15: android {\r\n&gt;                ^ Unresolved reference: android","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<p>Build.gradle.kts</p>\n<pre><code>buildscript {\n    repositories {\n        google()\n        mavenCentral()\n        gradlePluginPortal()\n    }\n    dependencies {\n        classpath (&quot;com.android.tools.build:gradle:7.0.2&quot;)\n        classpath (&quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.5.30&quot;)\n        classpath(&quot;gradle.plugin.com.github.spotbugs.snom:spotbugs-gradle-plugin:${Versions.spotbugsGradlePluginVersion}&quot;)\n        classpath(&quot;se.bjurr.violations:violations-gradle-plugin:${Versions.violationsVersion}&quot;)\n\n    }\n}\n//android {\n//    compileOptions {\n//        sourceCompatibility = JavaVersion.VERSION_11\n//                targetCompatibility = JavaVersion.VERSION_11\n//    }\n//\n//    kotlinOptions {\n//        jvmTarget = JavaVersion.VERSION_11.toString()\n//    }\n//}\nplugins {\n    `maven-publish`\n    `java-gradle-plugin`\n    `kotlin-dsl`\n    id (&quot;io.gitlab.arturbosch.detekt&quot;) version (&quot;1.18.1&quot;)\n}\nrepositories {\n    google()\n    mavenCentral()\n    gradlePluginPortal()\n}\n\ndependencies {\n    compileOnly(gradleApi())\n    testImplementation(gradleTestKit())\n    testImplementation(&quot;junit:junit:${Versions.jUnitVersion}&quot;)\n}\nval generatedSources = tasks.register&lt;GenerateVersionsFileTask&gt;(&quot;generateSources&quot;)\n</code></pre>\n<p>I get the following error:</p>\n<blockquote>\n<p>ERROR :  'compileJava' task (current target is 11) and 'compileKotlin' task (current target is 1.8) jvm target compatibility should be set to the same Java version.</p>\n</blockquote>\n<p>When I uncomment <code>android {}</code>, I get:</p>\n<blockquote>\n<p>Error :  Script compilation errors:</p>\n<pre><code> Line 15: android {\n           ^ Unresolved reference: android\n</code></pre>\n</blockquote>\n"},{"tags":["java","sorting","primefaces"],"comments":[{"owner":{"account_id":1073348,"reputation":571,"user_id":1072089,"accept_rate":75,"display_name":"Nikola"},"score":0,"creation_date":1701198412,"post_id":77543937,"comment_id":136744891,"body_markdown":"i don&#39;t understand why field=&quot;id()&quot; why not simply field=&quot;id&quot;?","body":"i don&#39;t understand why field=&quot;id()&quot; why not simply field=&quot;id&quot;?"},{"owner":{"account_id":1073348,"reputation":571,"user_id":1072089,"accept_rate":75,"display_name":"Nikola"},"score":0,"creation_date":1701198442,"post_id":77543937,"comment_id":136744895,"body_markdown":"the rest looks fine at first glance","body":"the rest looks fine at first glance"},{"owner":{"account_id":1869843,"reputation":2680,"user_id":1692349,"accept_rate":86,"display_name":"mwiegboldt"},"score":0,"creation_date":1701212621,"post_id":77543937,"comment_id":136747092,"body_markdown":"As I said, the message object is a Java Record, which has private attributes, but provides a getter method &quot;id()&quot;. But we noticed that the default sorting doesn&#39;t work with pojos (plain old java objects), either - so that doesn&#39;t seem to be the reason.","body":"As I said, the message object is a Java Record, which has private attributes, but provides a getter method &quot;id()&quot;. But we noticed that the default sorting doesn&#39;t work with pojos (plain old java objects), either - so that doesn&#39;t seem to be the reason."},{"owner":{"account_id":1073348,"reputation":571,"user_id":1072089,"accept_rate":75,"display_name":"Nikola"},"score":0,"creation_date":1701230986,"post_id":77543937,"comment_id":136748799,"body_markdown":"sorry i was tired while reading. do you need filteredValue? could be some bug with that. if you filter messages just for display (and not for some report/further processing with checkboxes) you can omit that in Java and XHTML. If you need filteredValue maybe just ask directly at PrimeFaces github","body":"sorry i was tired while reading. do you need filteredValue? could be some bug with that. if you filter messages just for display (and not for some report/further processing with checkboxes) you can omit that in Java and XHTML. If you need filteredValue maybe just ask directly at PrimeFaces github"},{"owner":{"account_id":1869843,"reputation":2680,"user_id":1692349,"accept_rate":86,"display_name":"mwiegboldt"},"score":0,"creation_date":1701250949,"post_id":77543937,"comment_id":136751314,"body_markdown":"No worries and thanks for the suggestion! If I omit the filteredValue then neither sorting nor filtering is working.","body":"No worries and thanks for the suggestion! If I omit the filteredValue then neither sorting nor filtering is working."}],"owner":{"account_id":1869843,"reputation":2680,"user_id":1692349,"accept_rate":86,"display_name":"mwiegboldt"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700836871,"creation_date":1700836871,"question_id":77543937,"body_markdown":"We&#39;re using Primefaces to show a DataTable of records, which works fine. Even with pagination, sorting and filtering. The only thing not working properly is the default sorting, as defined by a SortMeta. It does indicate the correct column with a &#39;descending&#39; icon but the ordering is wrong. When you manually click on the column, though, it is sorted correctly.\r\n\r\nHere is some of the code:\r\n```\r\n&lt;p:dataTable var=&quot;message&quot;\r\n                         value=&quot;#{messageListBean.messages}&quot;\r\n                         paginator=&quot;true&quot;\r\n                         paginatorPosition=&quot;both&quot;\r\n                         rowsPerPageTemplate=&quot;10,50,100,{ShowAll|&#39;Alle&#39;}&quot;\r\n                         widgetVar=&quot;messagesTable&quot;\r\n                         filteredValue=&quot;#{messageListBean.filteredMessages}&quot;\r\n                         sortMode=&quot;single&quot;\r\n                         sortBy=&quot;#{messageListBean.sortBy}&quot;&gt;\r\n                &lt;p:column field=&quot;id()&quot; headerText=&quot;Id&quot;/&gt;\r\n                ...\r\n&lt;/p:dataTable&gt;\r\n```\r\nNote that the field is called with `()`, because it is of a java record, and not a pojo, which works fine for all fields. Just including this for completeness, but I don&#39;t think it causes the problem.\r\n\r\nThe (hopefully) relevant parts of the Bean:\r\n```\r\n    private List&lt;SortMeta&gt; sortBy;\r\n    public List&lt;SortMeta&gt; getSortBy()\r\n    {\r\n        return sortBy;\r\n    }\r\n\r\n    @PostConstruct\r\n    public void init()\r\n    {\r\n        filteredMessages = getMessages();\r\n        sortBy = new ArrayList&lt;&gt;();\r\n        sortBy.add(SortMeta.builder()\r\n                           .field(&quot;id()&quot;)\r\n                           .order(SortOrder.DESCENDING)\r\n                           .build());\r\n    }\r\n```\r\n\r\nWhen I try `sortBy=&quot;#{message.id()}&quot; sortOrder=&quot;descending&quot;` in the dataTable it doesn&#39;t sort at all.","title":"Primefaces default sorting with SortMeta","body":"<p>We're using Primefaces to show a DataTable of records, which works fine. Even with pagination, sorting and filtering. The only thing not working properly is the default sorting, as defined by a SortMeta. It does indicate the correct column with a 'descending' icon but the ordering is wrong. When you manually click on the column, though, it is sorted correctly.</p>\n<p>Here is some of the code:</p>\n<pre><code>&lt;p:dataTable var=&quot;message&quot;\n                         value=&quot;#{messageListBean.messages}&quot;\n                         paginator=&quot;true&quot;\n                         paginatorPosition=&quot;both&quot;\n                         rowsPerPageTemplate=&quot;10,50,100,{ShowAll|'Alle'}&quot;\n                         widgetVar=&quot;messagesTable&quot;\n                         filteredValue=&quot;#{messageListBean.filteredMessages}&quot;\n                         sortMode=&quot;single&quot;\n                         sortBy=&quot;#{messageListBean.sortBy}&quot;&gt;\n                &lt;p:column field=&quot;id()&quot; headerText=&quot;Id&quot;/&gt;\n                ...\n&lt;/p:dataTable&gt;\n</code></pre>\n<p>Note that the field is called with <code>()</code>, because it is of a java record, and not a pojo, which works fine for all fields. Just including this for completeness, but I don't think it causes the problem.</p>\n<p>The (hopefully) relevant parts of the Bean:</p>\n<pre><code>    private List&lt;SortMeta&gt; sortBy;\n    public List&lt;SortMeta&gt; getSortBy()\n    {\n        return sortBy;\n    }\n\n    @PostConstruct\n    public void init()\n    {\n        filteredMessages = getMessages();\n        sortBy = new ArrayList&lt;&gt;();\n        sortBy.add(SortMeta.builder()\n                           .field(&quot;id()&quot;)\n                           .order(SortOrder.DESCENDING)\n                           .build());\n    }\n</code></pre>\n<p>When I try <code>sortBy=&quot;#{message.id()}&quot; sortOrder=&quot;descending&quot;</code> in the dataTable it doesn't sort at all.</p>\n"},{"tags":["java","templates","intellij-idea"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1444877427,"post_id":33138979,"comment_id":54089082,"body_markdown":"*Probably* not.  I don&#39;t think I&#39;ve seen it any different than the name of the user that was logged in.","body":"<i>Probably</i> not.  I don&#39;t think I&#39;ve seen it any different than the name of the user that was logged in."},{"owner":{"account_id":7057943,"reputation":155,"user_id":5404462,"display_name":"hermitmaster"},"score":2,"creation_date":1444877428,"post_id":33138979,"comment_id":54089083,"body_markdown":"You can hard code it in the template.","body":"You can hard code it in the template."},{"owner":{"account_id":514320,"reputation":24520,"user_id":1392132,"accept_rate":91,"display_name":"5gon12eder"},"score":0,"creation_date":1444877512,"post_id":33138979,"comment_id":54089100,"body_markdown":"`USER` is an environment variable set by your operating system / shell (assuming you&#39;re on a POSIX system). I think you&#39;ll run into all kinds of trouble if you set it to a wrong value.  But if you insist, try starting the application via `env USER=&quot;whatever&quot; intellij-idea` or how that binary is called.","body":"<code>USER</code> is an environment variable set by your operating system / shell (assuming you&#39;re on a POSIX system). I think you&#39;ll run into all kinds of trouble if you set it to a wrong value.  But if you insist, try starting the application via <code>env USER=&quot;whatever&quot; intellij-idea</code> or how that binary is called."}],"answers":[{"comments":[{"owner":{"account_id":1349124,"reputation":728,"user_id":1289270,"display_name":"Kostas Filios"},"score":3,"creation_date":1471864023,"post_id":33140805,"comment_id":65503318,"body_markdown":"I confirm for IntelliJ IDEA 2016.1 in Linux. I added the following line in *~/.IntelliJIdea2016.1/idea64.vmoptions*:\n\n`-Duser.name=Firstname Lastname`","body":"I confirm for IntelliJ IDEA 2016.1 in Linux. I added the following line in <i>~/.IntelliJIdea2016.1/idea64.vmoptions</i>:  <code>-Duser.name=Firstname Lastname</code>"},{"owner":{"account_id":1866698,"reputation":1553,"user_id":1690081,"accept_rate":57,"display_name":"Mihkel L."},"score":3,"creation_date":1472020287,"post_id":33140805,"comment_id":65578392,"body_markdown":"Mac file location: /Applications/IntelliJ\\ IDEA.app/Contents/bin/idea.vmoptions . Unless you put the application on different folder.","body":"Mac file location: /Applications/IntelliJ\\ IDEA.app/Contents/bin/idea.vmoptions . Unless you put the application on different folder."},{"owner":{"account_id":4599240,"reputation":816,"user_id":3730470,"display_name":"Klitos G."},"score":14,"creation_date":1473154587,"post_id":33140805,"comment_id":66021020,"body_markdown":"You can actually do this from inside intelliJ. This link describes it for android studio http://tools.android.com/tech-docs/configuration. Probably IDEA has the same","body":"You can actually do this from inside intelliJ. This link describes it for android studio <a href=\"http://tools.android.com/tech-docs/configuration\" rel=\"nofollow noreferrer\">tools.android.com/tech-docs/configuration</a>. Probably IDEA has the same"},{"owner":{"account_id":4776151,"reputation":2653,"user_id":3859199,"display_name":"Bwvolleyball"},"score":3,"creation_date":1477172484,"post_id":33140805,"comment_id":67660523,"body_markdown":"Just a friendly reminder to *Restart* the IDE after making the above change!","body":"Just a friendly reminder to <i>Restart</i> the IDE after making the above change!"},{"owner":{"account_id":5241914,"reputation":1343,"user_id":4188683,"accept_rate":87,"display_name":"Eido95"},"score":0,"creation_date":1478197310,"post_id":33140805,"comment_id":68067355,"body_markdown":"I confirm for Android Studio 2.2.2 in Windows by @KlitosG. provided link using `-Duser.name=YOURNAME` syntax.","body":"I confirm for Android Studio 2.2.2 in Windows by @KlitosG. provided link using <code>-Duser.name=YOURNAME</code> syntax."},{"owner":{"account_id":1077174,"reputation":8775,"user_id":1075051,"accept_rate":75,"display_name":"Sanjay"},"score":0,"creation_date":1485148061,"post_id":33140805,"comment_id":70787295,"body_markdown":"To avoid re-adding the line when I install a new version of Intellij IDEA, I added the line to `idea.exe.vmoptions` in the `.IntelliJIdea2016.3` folder of my home directory, instead of in the `bin` folder.","body":"To avoid re-adding the line when I install a new version of Intellij IDEA, I added the line to <code>idea.exe.vmoptions</code> in the <code>.IntelliJIdea2016.3</code> folder of my home directory, instead of in the <code>bin</code> folder."},{"owner":{"account_id":338193,"reputation":661,"user_id":666918,"accept_rate":73,"display_name":"machinarium"},"score":0,"creation_date":1491027804,"post_id":33140805,"comment_id":73383463,"body_markdown":"It does not work for my macOS Sierra of IntelliJ Idea 2016.3","body":"It does not work for my macOS Sierra of IntelliJ Idea 2016.3"},{"owner":{"account_id":9767041,"reputation":920,"user_id":7240133,"display_name":"Lefteris Xris"},"score":0,"creation_date":1536446479,"post_id":33140805,"comment_id":91428607,"body_markdown":"I confirm this works for IntelliJ IDEA 2018.2 in Windows.\nFile is: JetBrains\\IntelliJ IDEA 2018.2\\bin\\idea64.exe.vmoptions","body":"I confirm this works for IntelliJ IDEA 2018.2 in Windows. File is: JetBrains\\IntelliJ IDEA 2018.2\\bin\\idea64.exe.vmoptions"}],"tags":[],"owner":{"account_id":5048364,"reputation":27671,"user_id":4053652,"display_name":"Stanislav"},"comment_count":8,"down_vote_count":0,"up_vote_count":84,"is_accepted":true,"score":84,"last_activity_date":1599446150,"creation_date":1444888149,"answer_id":33140805,"question_id":33138979,"body_markdown":"You can modify the file **idea.exe.vmoptions** or **idea64.exe.vmoptions**, which should be in the bin folder of your IDE installation. For linux version, it could be **idea.vmoptions**. You need to add there a parameter:\r\n\r\n    -Duser.name=YOURNAME\r\n\r\n### How to open the file:\r\n- `Ctrl+Shift+A` &gt; type &quot;vm options&quot; &gt; select option\r\n- Help &gt; Edit custom VM options...\r\n\r\nThis would make your `${USER}` variable inside IntelliJ Idea equals to parameter value and you don&#39;t have to change the current OS user login name. I&#39;ve just tested it in the IntelliJ Idea 14.1.3 with file and code templates.","title":"How to change ${USER} variable in IntelliJ IDEA without changing OS user name?","body":"<p>You can modify the file <strong>idea.exe.vmoptions</strong> or <strong>idea64.exe.vmoptions</strong>, which should be in the bin folder of your IDE installation. For linux version, it could be <strong>idea.vmoptions</strong>. You need to add there a parameter:</p>\n<pre><code>-Duser.name=YOURNAME\n</code></pre>\n<h3>How to open the file:</h3>\n<ul>\n<li><code>Ctrl+Shift+A</code> &gt; type &quot;vm options&quot; &gt; select option</li>\n<li>Help &gt; Edit custom VM options...</li>\n</ul>\n<p>This would make your <code>${USER}</code> variable inside IntelliJ Idea equals to parameter value and you don't have to change the current OS user login name. I've just tested it in the IntelliJ Idea 14.1.3 with file and code templates.</p>\n"},{"tags":[],"owner":{"account_id":891877,"reputation":378,"user_id":7933347,"display_name":"Alex Dioso"},"comment_count":0,"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1495736282,"creation_date":1495736282,"answer_id":44187288,"question_id":33138979,"body_markdown":"To change the ${USER} variable for just the current user (rather than system wide) select Help-&gt;Edit Custom VM Options and add the following to the file that opens in your editor:\r\n\r\n    -Duser.name=USER\r\n\r\nThen save the file and restart your editor.\r\n\r\nhttps://intellij-support.jetbrains.com/hc/en-us/articles/206544869-Configuring-JVM-options-and-platform-properties\r\n","title":"How to change ${USER} variable in IntelliJ IDEA without changing OS user name?","body":"<p>To change the ${USER} variable for just the current user (rather than system wide) select Help->Edit Custom VM Options and add the following to the file that opens in your editor:</p>\n\n<pre><code>-Duser.name=USER\n</code></pre>\n\n<p>Then save the file and restart your editor.</p>\n\n<p><a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/206544869-Configuring-JVM-options-and-platform-properties\" rel=\"noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/articles/206544869-Configuring-JVM-options-and-platform-properties</a></p>\n"},{"tags":[],"owner":{"account_id":330384,"reputation":1345,"user_id":654471,"display_name":"cabaji99"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661786417,"creation_date":1661786417,"answer_id":73531003,"question_id":33138979,"body_markdown":"For intellij 2021 the config is in this directory on linux\r\n\r\n/home/xxxx/.config/JetBrains/IntelliJIdea2021.3/\r\n\r\n\r\nFind this file \r\n\r\n\r\nidea64.vmoptions\r\n\r\nAdd the line:\r\n\r\n-Duser.name=XXX XXXX","title":"How to change ${USER} variable in IntelliJ IDEA without changing OS user name?","body":"<p>For intellij 2021 the config is in this directory on linux</p>\n<p>/home/xxxx/.config/JetBrains/IntelliJIdea2021.3/</p>\n<p>Find this file</p>\n<p>idea64.vmoptions</p>\n<p>Add the line:</p>\n<p>-Duser.name=XXX XXXX</p>\n"},{"tags":[],"owner":{"account_id":5117876,"reputation":121,"user_id":4102415,"display_name":"Martin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700836699,"creation_date":1700835565,"answer_id":77543793,"question_id":33138979,"body_markdown":"It is important to mention that (at least on Windows, 10 ENTERPRISE) the file idea64.exe.vmoptions needs each option on its own line. I have spent some time unsuccessfully trying a line like:\r\n\r\n    -Xmx8192m -Duser.name=John Doe\r\n\r\nIt must be on separate lines:\r\n\r\n    -Xmx8192m\r\n    -Duser.name=John Doe\r\n\r\nThe file location on my machine was:\r\n\r\n    c:\\Users\\xxx\\AppData\\Roaming\\JetBrains\\IntelliJIdea2023.2\\idea64.exe.vmoptions ","title":"How to change ${USER} variable in IntelliJ IDEA without changing OS user name?","body":"<p>It is important to mention that (at least on Windows, 10 ENTERPRISE) the file idea64.exe.vmoptions needs each option on its own line. I have spent some time unsuccessfully trying a line like:</p>\n<pre><code>-Xmx8192m -Duser.name=John Doe\n</code></pre>\n<p>It must be on separate lines:</p>\n<pre><code>-Xmx8192m\n-Duser.name=John Doe\n</code></pre>\n<p>The file location on my machine was:</p>\n<pre><code>c:\\Users\\xxx\\AppData\\Roaming\\JetBrains\\IntelliJIdea2023.2\\idea64.exe.vmoptions \n</code></pre>\n"}],"owner":{"account_id":1301815,"reputation":31771,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32438,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"accepted_answer_id":33140805,"answer_count":4,"score":44,"last_activity_date":1700836699,"creation_date":1444877287,"question_id":33138979,"body_markdown":"By `${USER}` Intellij idea [means][1] the login name of the current user. But what if login differ from name used as developer name? Is it possible to set `USER` to other value without changing OS login name?\r\n\r\n\r\n  [1]: https://www.jetbrains.com/idea/help/creating-and-editing-file-templates.html","title":"How to change ${USER} variable in IntelliJ IDEA without changing OS user name?","body":"<p>By <code>${USER}</code> Intellij idea <a href=\"https://www.jetbrains.com/idea/help/creating-and-editing-file-templates.html\" rel=\"noreferrer\">means</a> the login name of the current user. But what if login differ from name used as developer name? Is it possible to set <code>USER</code> to other value without changing OS login name?</p>\n"},{"tags":["java","android"],"owner":{"account_id":24039658,"reputation":1,"user_id":18019504,"display_name":"Aayush Gaur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700835701,"creation_date":1700835701,"question_id":77543803,"body_markdown":"I created a small app that open &quot;www.google.com&quot; when I press a button through imlicit Intent but when I click the button and Chrome Opens the AVD stops working. I tried to open Chrome manually then also same problem occurs. Even logcat doesnt show any error. When I created an APK for the app it was working fine in my device. I also changed the avd from pixel 3a to pixel 6a but it didn&#39;t problem wasn&#39;t fixed. \r\n```\r\npackage com.example.firstapplication;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        Button btn2 = findViewById(R.id.webpage);\r\n\r\n       \r\n\r\n        btn2.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                goToGoogle();\r\n            }\r\n        });\r\n    }\r\n    \r\n\r\n    public void goToGoogle() {\r\n        Uri webpage = Uri.parse(&quot;https://www.google.com&quot;);\r\n\r\n        Intent intent = new Intent(Intent.ACTION_VIEW, webpage);\r\n\r\n        startActivity(intent);\r\n    }\r\n}\r\n```\r\nThis my my MainActivity.java file for the project.\r\n\r\nI was hoping that Chrome would open &quot;www.google.com&quot;.","title":"Android Studio AVD crashes after opening Google Chrome","body":"<p>I created a small app that open &quot;www.google.com&quot; when I press a button through imlicit Intent but when I click the button and Chrome Opens the AVD stops working. I tried to open Chrome manually then also same problem occurs. Even logcat doesnt show any error. When I created an APK for the app it was working fine in my device. I also changed the avd from pixel 3a to pixel 6a but it didn't problem wasn't fixed.</p>\n<pre><code>package com.example.firstapplication;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        Button btn2 = findViewById(R.id.webpage);\n\n       \n\n        btn2.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                goToGoogle();\n            }\n        });\n    }\n    \n\n    public void goToGoogle() {\n        Uri webpage = Uri.parse(&quot;https://www.google.com&quot;);\n\n        Intent intent = new Intent(Intent.ACTION_VIEW, webpage);\n\n        startActivity(intent);\n    }\n}\n</code></pre>\n<p>This my my MainActivity.java file for the project.</p>\n<p>I was hoping that Chrome would open &quot;www.google.com&quot;.</p>\n"},{"tags":["java","spring","spring-security","authorization"],"comments":[{"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"score":0,"creation_date":1464378810,"post_id":36028054,"comment_id":62479023,"body_markdown":"Nothing in your configuration actually mentions either `ROLE_USER` or `ROLE_ADMIN`. I&#39;m only used to using the XML config. Where are roles supposed to be defined, so that `TesController` can actually pick them up?","body":"Nothing in your configuration actually mentions either <code>ROLE_USER</code> or <code>ROLE_ADMIN</code>. I&#39;m only used to using the XML config. Where are roles supposed to be defined, so that <code>TesController</code> can actually pick them up?"},{"owner":{"account_id":6937666,"reputation":949,"user_id":5325086,"accept_rate":75,"display_name":"lenach87"},"score":0,"creation_date":1464382436,"post_id":36028054,"comment_id":62480562,"body_markdown":"If you change your `configure` method by adding `.antMatchers(&quot;/authController&quot;).access(&quot;hasRole(&#39;ADMIN&#39;)&quot;)` the situation is the same?","body":"If you change your <code>configure</code> method by adding <code>.antMatchers(&quot;&#47;authController&quot;).access(&quot;hasRole(&#39;ADMIN&#39;)&quot;)</code> the situation is the same?"}],"answers":[{"comments":[{"owner":{"account_id":4846149,"reputation":929,"user_id":3909727,"display_name":"V33R"},"score":0,"creation_date":1464381464,"post_id":37491809,"comment_id":62480155,"body_markdown":"http://stackoverflow.com/questions/6357579/spring-security-with-roles-and-permissions","body":"<a href=\"http://stackoverflow.com/questions/6357579/spring-security-with-roles-and-permissions\" title=\"spring security with roles and permissions\">stackoverflow.com/questions/6357579/&hellip;</a>"}],"tags":[],"owner":{"account_id":8524888,"reputation":1,"user_id":6390631,"display_name":"Xemnas90"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464381152,"creation_date":1464381152,"answer_id":37491809,"question_id":36028054,"body_markdown":"You have to define at least the RoleHierarchie with something like this or whatever the configuration may look like in your case:\r\n\r\n    @Bean\r\n    public RoleHierarchy roleHierarchy() {\r\n      RoleHierarchyImpl r = new RoleHierarchyImpl();\r\n      r.setHierarchy(&quot;ROLE_ADMIN &gt; ROLE_STAFF&quot;);\r\n      r.setHierarchy(&quot;ROLE_STAFF &gt; ROLE_USER&quot;);\r\n      r.setHierarchy(&quot;ROLE_DEVELOPER &gt; ROLE_USER&quot;);\r\n      r.setHierarchy(&quot;ROLE_USER &gt; ROLE_GUEST&quot;); \r\n      return r;\r\n    }","title":"Spring Security role-based authorisation issue","body":"<p>You have to define at least the RoleHierarchie with something like this or whatever the configuration may look like in your case:</p>\n\n<pre><code>@Bean\npublic RoleHierarchy roleHierarchy() {\n  RoleHierarchyImpl r = new RoleHierarchyImpl();\n  r.setHierarchy(\"ROLE_ADMIN &gt; ROLE_STAFF\");\n  r.setHierarchy(\"ROLE_STAFF &gt; ROLE_USER\");\n  r.setHierarchy(\"ROLE_DEVELOPER &gt; ROLE_USER\");\n  r.setHierarchy(\"ROLE_USER &gt; ROLE_GUEST\"); \n  return r;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3275313,"reputation":5882,"user_id":2757561,"accept_rate":71,"display_name":"cralfaro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700835541,"creation_date":1700835541,"answer_id":77543789,"question_id":36028054,"body_markdown":"When you use @Secured, no need to add prefix ROLE_ just use this\r\n\r\n    @RestController \r\n    public class TesController {\r\n        @RequestMapping(value=&quot;/authController&quot;)\r\n        @Secured(&quot;ADMIN&quot;)\r\n        String test(){ return &quot;I am secure for ROLE_ADMIN&quot;}\r\n    }","title":"Spring Security role-based authorisation issue","body":"<p>When you use @Secured, no need to add prefix ROLE_ just use this</p>\n<pre><code>@RestController \npublic class TesController {\n    @RequestMapping(value=&quot;/authController&quot;)\n    @Secured(&quot;ADMIN&quot;)\n    String test(){ return &quot;I am secure for ROLE_ADMIN&quot;}\n}\n</code></pre>\n"}],"owner":{"account_id":2274124,"reputation":400,"user_id":2000845,"accept_rate":50,"display_name":"R. S."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":769,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700835541,"creation_date":1458108928,"question_id":36028054,"body_markdown":"I have implemented spring security in my application.\r\nIt is stateless-token based authentication and username/password based authentication.\r\n\r\nI have configured user authentication, but the role-based authorisation is not working.\r\n\r\nA user who has `ROLE_USER` is able to access the controller method which has `ROLE_ADMIN`.\r\n\r\nHere is the configuration.\r\n       \r\n    @EnableWebSecurity \r\n    @EnableGlobalMethodSecurity(securedEnabled = true)\r\n    @Configuration \r\n    public class SpringSecurityConfiguration extends WebSecurityConfigurerAdapter{\r\n        \t\r\n        @Bean\r\n        AuthenticationProvider passwordBasedAuthenticationProvider() {\r\n        \treturn new PasswordBasedAuthenticationProvider();\r\n        }\r\n        \t\r\n        @Bean\r\n        AuthenticationProvider tokenBasedAuthenticationProvider(){\r\n        \treturn new TokenBasedAuthenticationProvider();\r\n        }\t\r\n        \t\r\n        @Override\r\n        public void configure(WebSecurity web) throws Exception {   \t \r\n          \t web.ignoring().antMatchers(&quot;/api/v1/public/**&quot;);\r\n        }\r\n\r\n        @Bean\r\n    \t@Override\r\n    \tpublic AuthenticationManager authenticationManagerBean() throws Exception {\r\n    \t\treturn super.authenticationManagerBean();\r\n    \t}\r\n    \t\r\n    \t@Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n        \t http.\r\n             csrf().disable().\r\n             sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).\r\n             and().\r\n             authorizeRequests().\r\n             anyRequest().authenticated().\r\n             and().\r\n             anonymous().disable();   \r\n        \t http.addFilterBefore(new AuthenticationFilter(authenticationManager()), BasicAuthenticationFilter.class);\r\n        }\r\n    \t\r\n    \t@Autowired\r\n    \tpublic void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n    \t\tauth.authenticationProvider(passwordBasedAuthenticationProvider()).\r\n    \t        authenticationProvider(tokenBasedAuthenticationProvider());\r\n    \t}\r\n    }\r\n\r\n----\r\n**DOMAINS**\r\n\r\n    @Entity\r\n    public class Role implements GrantedAuthority  {\r\n        private long id;\t\r\n        private String authority;\r\n    }\r\n\r\n    public class User implements UserDetails{\r\n         private String username;\r\n         private String passwordHash;\r\n    \t private Role role;\r\n    }\r\n\r\n    @RestController \r\n    public class TesController {\r\n    \t@RequestMapping(value=&quot;/authController&quot;)\r\n    \t@Secured(&quot;ROLE_ADMIN&quot;)\r\n    \tString test(){ return &quot;I am secure for ROLE_ADMIN&quot;}\r\n    }\r\n\r\n----\r\n\r\nWhat is incorrect about this configuration?\r\n\r\n","title":"Spring Security role-based authorisation issue","body":"<p>I have implemented spring security in my application.\nIt is stateless-token based authentication and username/password based authentication.</p>\n\n<p>I have configured user authentication, but the role-based authorisation is not working.</p>\n\n<p>A user who has <code>ROLE_USER</code> is able to access the controller method which has <code>ROLE_ADMIN</code>.</p>\n\n<p>Here is the configuration.</p>\n\n<pre><code>@EnableWebSecurity \n@EnableGlobalMethodSecurity(securedEnabled = true)\n@Configuration \npublic class SpringSecurityConfiguration extends WebSecurityConfigurerAdapter{\n\n    @Bean\n    AuthenticationProvider passwordBasedAuthenticationProvider() {\n        return new PasswordBasedAuthenticationProvider();\n    }\n\n    @Bean\n    AuthenticationProvider tokenBasedAuthenticationProvider(){\n        return new TokenBasedAuthenticationProvider();\n    }   \n\n    @Override\n    public void configure(WebSecurity web) throws Exception {        \n         web.ignoring().antMatchers(\"/api/v1/public/**\");\n    }\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n         http.\n         csrf().disable().\n         sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).\n         and().\n         authorizeRequests().\n         anyRequest().authenticated().\n         and().\n         anonymous().disable();   \n         http.addFilterBefore(new AuthenticationFilter(authenticationManager()), BasicAuthenticationFilter.class);\n    }\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(passwordBasedAuthenticationProvider()).\n            authenticationProvider(tokenBasedAuthenticationProvider());\n    }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>DOMAINS</strong></p>\n\n<pre><code>@Entity\npublic class Role implements GrantedAuthority  {\n    private long id;    \n    private String authority;\n}\n\npublic class User implements UserDetails{\n     private String username;\n     private String passwordHash;\n     private Role role;\n}\n\n@RestController \npublic class TesController {\n    @RequestMapping(value=\"/authController\")\n    @Secured(\"ROLE_ADMIN\")\n    String test(){ return \"I am secure for ROLE_ADMIN\"}\n}\n</code></pre>\n\n<hr>\n\n<p>What is incorrect about this configuration?</p>\n"},{"tags":["java","spring","spring-boot","eclipse"],"comments":[{"owner":{"account_id":534720,"reputation":7416,"user_id":904556,"accept_rate":94,"display_name":"Jason"},"score":0,"creation_date":1672055561,"post_id":74845574,"comment_id":132213435,"body_markdown":"Raphael, is your question answered?","body":"Raphael, is your question answered?"}],"answers":[{"comments":[{"owner":{"account_id":11296302,"reputation":2929,"user_id":8283737,"accept_rate":89,"display_name":"Arun Gowda"},"score":4,"creation_date":1684394653,"post_id":74863631,"comment_id":134512449,"body_markdown":"I&#39;m on Spring framework 6.0.8 and still see this warning message.","body":"I&#39;m on Spring framework 6.0.8 and still see this warning message."},{"owner":{"account_id":7258992,"reputation":2411,"user_id":5536516,"accept_rate":86,"display_name":"nyg"},"score":0,"creation_date":1686346955,"post_id":74863631,"comment_id":134791548,"body_markdown":"@ArunGowda If the warning concerns your own classes then it&#39;s not a Spring bug but an issue with how your code is compiled. See: https://stackoverflow.com/a/74601911 and https://stackoverflow.com/a/75629035.","body":"@ArunGowda If the warning concerns your own classes then it&#39;s not a Spring bug but an issue with how your code is compiled. See: <a href=\"https://stackoverflow.com/a/74601911\">stackoverflow.com/a/74601911</a> and <a href=\"https://stackoverflow.com/a/75629035\">stackoverflow.com/a/75629035</a>."}],"tags":[],"owner":{"account_id":534720,"reputation":7416,"user_id":904556,"accept_rate":94,"display_name":"Jason"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1671541849,"creation_date":1671541849,"answer_id":74863631,"question_id":74845574,"body_markdown":"This is a known bug and [there is a Spring Issue][1] for it. But it is not harmful and you do not need to take any action unless you just don&#39;t want warnings in your logs.\r\n\r\nFrom the issue:\r\n\r\n&quot;It looks like the core bean factory is unnecessarily retrieving constructor parameter names during the constructor autowiring algorithm, despite no constructor argument names having been specified. That&#39;s a bug we&#39;re going to fix in [Spring Framework] 6.0.3.&quot;\r\n\r\nand\r\n\r\n&quot;For the time being, you may simply disable the warn log category for org.springframework.core.LocalVariableTableParameterNameDiscoverer. There is unnecessary reading of class files in the meantime but otherwise no harm for your application.&quot;\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/issues/29612","title":"Using deprecated &#39;-debug&#39; fallback for parameter name resolution. Compile the affected code with &#39;-parameters&#39; instead or avoid its introspection","body":"<p>This is a known bug and <a href=\"https://github.com/spring-projects/spring-framework/issues/29612\" rel=\"noreferrer\">there is a Spring Issue</a> for it. But it is not harmful and you do not need to take any action unless you just don't want warnings in your logs.</p>\n<p>From the issue:</p>\n<p>&quot;It looks like the core bean factory is unnecessarily retrieving constructor parameter names during the constructor autowiring algorithm, despite no constructor argument names having been specified. That's a bug we're going to fix in [Spring Framework] 6.0.3.&quot;</p>\n<p>and</p>\n<p>&quot;For the time being, you may simply disable the warn log category for org.springframework.core.LocalVariableTableParameterNameDiscoverer. There is unnecessary reading of class files in the meantime but otherwise no harm for your application.&quot;</p>\n"},{"tags":[],"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1689436816,"creation_date":1689436393,"answer_id":76694586,"question_id":74845574,"body_markdown":"I&#39;m using **spring-context** version **6.0.11** and the problem still exists.\r\n\r\nSHORT ANSWER:\r\n-------------\r\n\r\nAdd this build plugin to the *pom.xml* file of your project:\r\n   \r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;compilerArgs&gt;\r\n                        &lt;arg&gt;-parameters&lt;/arg&gt;\r\n                    &lt;/compilerArgs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nIf you already have this plugin in your *pom.xml* file then just add configuration part to the existing Maven compiler plugin:\r\n\r\n    &lt;configuration&gt;\r\n        &lt;compilerArgs&gt;\r\n            &lt;arg&gt;-parameters&lt;/arg&gt;\r\n        &lt;/compilerArgs&gt;\r\n    &lt;/configuration&gt;\r\n\r\n\r\n----------\r\n\r\n\r\nMORE DETAILED ANSWER:\r\n-------------\r\n[Apache Maven Compiler Plugin][1] is used to compile the sources of your Maven project.\r\n\r\nWhen you specify this plugin in your project you can add configuration to it:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n            ...\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nFor example, if you want to use the Java 8 language features (`-source 1.8`) and also want the compiled classes to be compatible with JVM 1.8 (`-target 1.8`), you can either add the two following configuration:\r\n\r\n    &lt;configuration&gt;\r\n        &lt;source&gt;1.8&lt;/source&gt;\r\n        &lt;target&gt;1.8&lt;/target&gt;\r\n    &lt;/configuration&gt;\r\n\r\nAnother configuration we can specify is passing arguments to the Java compiler (**javac**):\r\n\r\n    &lt;configuration&gt;\r\n        &lt;compilerArgs&gt;\r\n            &lt;arg&gt;-parameters&lt;/arg&gt;\r\n        &lt;/compilerArgs&gt;\r\n    &lt;/configuration&gt;\r\n\r\nWe passed `-parameters` as an additional argument to the compiler.\r\nAnd of course both preceding configurations can be used together.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-compiler-plugin","title":"Using deprecated &#39;-debug&#39; fallback for parameter name resolution. Compile the affected code with &#39;-parameters&#39; instead or avoid its introspection","body":"<p>I'm using <strong>spring-context</strong> version <strong>6.0.11</strong> and the problem still exists.</p>\n<h2>SHORT ANSWER:</h2>\n<p>Add this build plugin to the <em>pom.xml</em> file of your project:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;compilerArgs&gt;\n                    &lt;arg&gt;-parameters&lt;/arg&gt;\n                &lt;/compilerArgs&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>If you already have this plugin in your <em>pom.xml</em> file then just add configuration part to the existing Maven compiler plugin:</p>\n<pre><code>&lt;configuration&gt;\n    &lt;compilerArgs&gt;\n        &lt;arg&gt;-parameters&lt;/arg&gt;\n    &lt;/compilerArgs&gt;\n&lt;/configuration&gt;\n</code></pre>\n<hr />\n<h2>MORE DETAILED ANSWER:</h2>\n<p><a href=\"https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-compiler-plugin\" rel=\"nofollow noreferrer\">Apache Maven Compiler Plugin</a> is used to compile the sources of your Maven project.</p>\n<p>When you specify this plugin in your project you can add configuration to it:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        ...\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>For example, if you want to use the Java 8 language features (<code>-source 1.8</code>) and also want the compiled classes to be compatible with JVM 1.8 (<code>-target 1.8</code>), you can either add the two following configuration:</p>\n<pre><code>&lt;configuration&gt;\n    &lt;source&gt;1.8&lt;/source&gt;\n    &lt;target&gt;1.8&lt;/target&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>Another configuration we can specify is passing arguments to the Java compiler (<strong>javac</strong>):</p>\n<pre><code>&lt;configuration&gt;\n    &lt;compilerArgs&gt;\n        &lt;arg&gt;-parameters&lt;/arg&gt;\n    &lt;/compilerArgs&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>We passed <code>-parameters</code> as an additional argument to the compiler.\nAnd of course both preceding configurations can be used together.</p>\n"},{"comments":[{"owner":{"account_id":192352,"reputation":6757,"user_id":433432,"accept_rate":47,"display_name":"crowmagnumb"},"score":0,"creation_date":1700851414,"post_id":77543749,"comment_id":136707385,"body_markdown":"That is exactly the problem I had. I had a lot of cases where I was just letting the default @PathVariable be the one in the url, but changing it to the explicit name quieted these warnings. Cheers!","body":"That is exactly the problem I had. I had a lot of cases where I was just letting the default @PathVariable be the one in the url, but changing it to the explicit name quieted these warnings. Cheers!"}],"tags":[],"owner":{"account_id":10342946,"reputation":70,"user_id":7628725,"display_name":"Abhi.P"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700835095,"creation_date":1700835095,"answer_id":77543749,"question_id":74845574,"body_markdown":"In my particular case, I am using Springboot 3.0.12 and was getting this warning from a controller class, where we have an endpoint that looks like below.\r\n\r\n      @GetMapping(&quot;employees/{id}&quot;)\r\n        public Employee getEmployeeById(@PathVariable String id) {\r\n            //... some logic\r\n        }\r\n\r\nAfter reading the warning log a few times, I understood that spring is trying to resolve the parameter name mapping and, in that process, it is using a deprecated &quot;-debug&quot; flag which is being logged as a warning.\r\n\r\nSo, I had changed the method signature i.e. I myself explicitly provided the mapping like below which fixed the issue in my case:\r\n\r\n      \r\n\r\n      @GetMapping(&quot;employees/{id}&quot;)\r\n            public Employee getEmployeeById(@PathVariable(&quot;id&quot;) String id) {\r\n                //... some logic\r\n            }\r\n\r\nI thought this might help someone who has a similar problem so posted it.\r\n\r\nThanks.\r\n\r\n","title":"Using deprecated &#39;-debug&#39; fallback for parameter name resolution. Compile the affected code with &#39;-parameters&#39; instead or avoid its introspection","body":"<p>In my particular case, I am using Springboot 3.0.12 and was getting this warning from a controller class, where we have an endpoint that looks like below.</p>\n<pre><code>  @GetMapping(&quot;employees/{id}&quot;)\n    public Employee getEmployeeById(@PathVariable String id) {\n        //... some logic\n    }\n</code></pre>\n<p>After reading the warning log a few times, I understood that spring is trying to resolve the parameter name mapping and, in that process, it is using a deprecated &quot;-debug&quot; flag which is being logged as a warning.</p>\n<p>So, I had changed the method signature i.e. I myself explicitly provided the mapping like below which fixed the issue in my case:</p>\n<pre><code>  @GetMapping(&quot;employees/{id}&quot;)\n        public Employee getEmployeeById(@PathVariable(&quot;id&quot;) String id) {\n            //... some logic\n        }\n</code></pre>\n<p>I thought this might help someone who has a similar problem so posted it.</p>\n<p>Thanks.</p>\n"}],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20601,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":3,"score":20,"last_activity_date":1700835095,"creation_date":1671412983,"question_id":74845574,"body_markdown":"I am using Spring Boot 3.0.0, Eclipse IDE 2022-12, Java language level/JDK 19. \r\n\r\nFile `pom.xml`\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring_jwt&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;spring-boot-security-jwt&lt;/name&gt;\r\n    &lt;description&gt;spring_jwt&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;19&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-datatype-hibernate5-jakarta&lt;/artifactId&gt;\r\n            &lt;version&gt;2.14.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n            &lt;version&gt;2.11.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Jasper report start. --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\r\n            &lt;version&gt;6.20.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jasperreports-fonts&lt;/artifactId&gt;\r\n            &lt;version&gt;6.20.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jasperreports-functions&lt;/artifactId&gt;\r\n            &lt;version&gt;6.20.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jasperreports-metadata&lt;/artifactId&gt;\r\n            &lt;version&gt;6.20.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jasperreports-chart-themes&lt;/artifactId&gt;\r\n            &lt;version&gt;6.20.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jasperreports-annotation-processors&lt;/artifactId&gt;\r\n            &lt;version&gt;6.20.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jasperreports-castor&lt;/artifactId&gt;\r\n            &lt;version&gt;6.20.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n            &lt;artifactId&gt;liberation-fonts&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jasperreports-chart-customizers&lt;/artifactId&gt;\r\n            &lt;version&gt;6.20.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jasperreports-custom-visualization&lt;/artifactId&gt;\r\n            &lt;version&gt;6.20.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Jasper report end. --&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/commons-beanutils/commons-beanutils --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;5.5.13.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;scope&gt;runtime&lt;/scope&gt;--&gt;\r\n&lt;!--            &lt;optional&gt;true&lt;/optional&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;version&gt;9.1.3&lt;/version&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;com.stimulsoft&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;stimulsoft-reports-report&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;version&gt;2022.3.3&lt;/version&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;com.stimulsoft&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;stimulsoft-reports-web&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;version&gt;2022.3.3&lt;/version&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;com.stimulsoft&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;stimulsoft-reports-base&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;version&gt;2022.3.3&lt;/version&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;com.stimulsoft&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;stimulsoft-reports-viewer&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;version&gt;2022.3.3&lt;/version&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;com.stimulsoft&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;stimulsoft-reports-samples&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;version&gt;2022.3.3&lt;/version&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;com.stimulsoft&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;stimulsoft-reports-webviewer&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;version&gt;2022.3.3&lt;/version&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;com.stimulsoft&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;stimulsoft-reports-lib&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;version&gt;2022.3.3&lt;/version&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;com.stimulsoft&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;stimulsoft-reports-webdesigner&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;version&gt;2022.3.3&lt;/version&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;com.stimulsoft&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;reports&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;version&gt;2022.3.3&lt;/version&gt;--&gt;\r\n&lt;!--            &lt;type&gt;pom&lt;/type&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n&lt;!--            &lt;plugin&gt;--&gt;\r\n&lt;!--                &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;--&gt;\r\n&lt;!--                &lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;--&gt;\r\n&lt;!--                &lt;version&gt;9.1.3&lt;/version&gt;--&gt;\r\n&lt;!--            &lt;/plugin&gt;--&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;xpand&lt;/id&gt;\r\n            &lt;name&gt;xpand&lt;/name&gt;\r\n            &lt;url&gt;https://maven.xpand-it.com/artifactory/releases/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;maven_central&lt;/id&gt;\r\n            &lt;name&gt;maven_central&lt;/name&gt;\r\n            &lt;url&gt;https://repo.maven.apache.org/maven2/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nI have many controllers like these: File `UnitController.java`\r\n\r\n\r\n```java\r\npackage com.example.controller;\r\n\r\nimport com.example.BLModel.Unit;\r\nimport com.example.BLModel.UnitId;\r\nimport com.example.service.UnitService;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.CrossOrigin;\r\nimport org.springframework.web.bind.annotation.DeleteMapping;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PatchMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\r\n@RestController\r\n@RequestMapping(&quot;/unit&quot;)\r\npublic class UnitController {\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(UnitController.class);\r\n\r\n    @Autowired\r\n    UnitService unitService;\r\n\r\n    /**\r\n     * Get all units belong to a tenant_id .&lt;br/&gt;\r\n     * GET http://localhost:80/unit/1/all .\r\n     *\r\n     * @param tenant_id\r\n     * @return\r\n     */\r\n    @GetMapping(value = &quot;/{tenant_id}/all&quot;)\r\n    public ResponseEntity&lt;List&lt;Unit&gt;&gt; getAllUnits(@PathVariable(&quot;tenant_id&quot;) Short tenant_id) {\r\n        LOGGER.info(&quot;Call method getAllUnits() .&quot;);\r\n        return new ResponseEntity&lt;&gt;(unitService.getAll(tenant_id), HttpStatus.OK);\r\n    }\r\n\r\n    /**\r\n     * Get a unit by its composite primary key.&lt;br/&gt;\r\n     * GET http://localhost:80/unit/1/42 .\r\n     *\r\n     * @param tenant_id\r\n     * @param id\r\n     * @return\r\n     */\r\n    @GetMapping(value = &quot;/{tenant_id}/{id}&quot;)\r\n    public ResponseEntity&lt;Unit&gt; viewDetailUnit(@PathVariable(&quot;tenant_id&quot;) Short tenant_id,\r\n                                               @PathVariable(&quot;id&quot;) Short id) {\r\n        LOGGER.info(&quot;Call method viewDetailUnit() .&quot;);\r\n        UnitId unitId = new UnitId();\r\n        unitId.setId(id);\r\n        unitId.setTenantId(tenant_id);\r\n        Optional&lt;Unit&gt; unitOptional = unitService.getById(unitId);\r\n        Unit result = null;\r\n        if (unitOptional.isPresent()) {\r\n            result = unitOptional.get();\r\n        }\r\n        return new ResponseEntity&lt;&gt;(result, HttpStatus.OK);\r\n    }\r\n\r\n    /**\r\n     * Add a new unit.&lt;br/&gt;\r\n     * POST http://localhost:80/unit\r\n     *\r\n     * @param input\r\n     * @return\r\n     */\r\n    @PostMapping()\r\n    public ResponseEntity&lt;Unit&gt; addUnit(@RequestBody Unit input) {\r\n        LOGGER.info(&quot;Call method addUnit() .&quot;);\r\n        Unit unit = new Unit();\r\n        unit.setUnitName(input.getUnitName());\r\n        unit.setDescription(input.getDescription());\r\n        unit.setActiveStatus(input.getActiveStatus());\r\n        Unit unitResult = unitService.add(unit);\r\n        return new ResponseEntity&lt;&gt;(unitResult, HttpStatus.OK);\r\n    }\r\n\r\n    /**\r\n     * Edit a unit.&lt;br/&gt;\r\n     * PATCH http://localhost:80/unit/1/42 .\r\n     *\r\n     * @param tenant_id\r\n     * @param id\r\n     * @param input\r\n     * @return\r\n     */\r\n    @PatchMapping(value = &quot;/{tenant_id}/{id}&quot;)\r\n    public ResponseEntity&lt;Unit&gt; editUnit(@PathVariable(&quot;tenant_id&quot;) Short tenant_id,\r\n                                         @PathVariable(&quot;id&quot;) Short id,\r\n                                         @RequestBody Unit input) {\r\n        LOGGER.info(&quot;Call method editUnit() .&quot;);\r\n        UnitId unitId = new UnitId();\r\n        unitId.setTenantId(tenant_id);\r\n        unitId.setId(id);\r\n        Unit unit = (unitService.getById(unitId)).get();\r\n        unit.setActiveStatus(input.getActiveStatus());\r\n        unit.setDescription(input.getDescription());\r\n        unit.setUnitName(input.getUnitName());\r\n        Unit unitResult = unitService.add(unit);\r\n        return new ResponseEntity&lt;&gt;(unitResult, HttpStatus.OK);\r\n    }\r\n\r\n    /**\r\n     * Delete a specific unit.&lt;br/&gt;\r\n     * DELETE http://localhost:80/unit/1/42 .\r\n     *\r\n     * @param tenant_id\r\n     * @param id\r\n     * @return\r\n     */\r\n    @DeleteMapping(value = &quot;/{tenant_id}/{id}&quot;)\r\n    public ResponseEntity&lt;Object&gt; deleteUnit(@PathVariable(&quot;tenant_id&quot;) Short tenant_id,\r\n                                             @PathVariable(&quot;id&quot;) Short id) {\r\n        UnitId unitId = new UnitId();\r\n        unitId.setId(id);\r\n        unitId.setTenantId(tenant_id);\r\n        unitService.delete(unitId);\r\n        return new ResponseEntity&lt;&gt;(null, HttpStatus.OK);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nFile `TimesheetSignController.java`\r\n\r\n```java\r\npackage com.example.controller;\r\n\r\nimport com.example.BLModel.TimesheetSign;\r\nimport com.example.BLModel.TimesheetSignId;\r\nimport com.example.service.TimesheetSignService;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.CrossOrigin;\r\nimport org.springframework.web.bind.annotation.DeleteMapping;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PatchMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\r\n@RestController\r\n@RequestMapping(&quot;/timesheet_sign&quot;)\r\npublic class TimesheetSignController {\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(TimesheetSignController.class);\r\n\r\n    @Autowired\r\n    TimesheetSignService timesheetSignService;\r\n\r\n    /**\r\n     * Get all time_sheet_sign by its tenant_id .&lt;br/&gt;\r\n     * GET http://localhost:80/time_sheet_sign/1/all .\r\n     *\r\n     * @param tenant_id\r\n     * @return\r\n     */\r\n    @GetMapping(value = &quot;/{tenant_id}&quot;)\r\n    public ResponseEntity&lt;List&lt;TimesheetSign&gt;&gt; getAllAccounts(@PathVariable(&quot;tenant_id&quot;) Short tenant_id) {\r\n        LOGGER.info(&quot;Call method getAllAccounts() .&quot;);\r\n        return new ResponseEntity&lt;&gt;(timesheetSignService.getAll(tenant_id), HttpStatus.OK);\r\n    }\r\n\r\n    /**\r\n     * Get a specific time_sheet_sign item by its composite primary key.\r\n     * GET http://localhost:80/1/42\r\n     *\r\n     * @param tenant_id\r\n     * @param id\r\n     * @return\r\n     */\r\n    @GetMapping(value = &quot;/{tenant_id}/{id}&quot;)\r\n    public ResponseEntity&lt;TimesheetSign&gt; viewDetailAccount(@PathVariable(&quot;tenant_id&quot;) Short tenant_id,\r\n                                                           @PathVariable(&quot;id&quot;) Short id) {\r\n        LOGGER.info(&quot;Call method viewDetailAccount() .&quot;);\r\n        TimesheetSignId timesheetSignId = new TimesheetSignId();\r\n        timesheetSignId.setId(id);\r\n        timesheetSignId.setTenantId(tenant_id);\r\n        Optional&lt;TimesheetSign&gt; timesheetSignOptional = timesheetSignService.getById(timesheetSignId);\r\n        TimesheetSign timesheetSignResult = null;\r\n        if (timesheetSignOptional.isPresent()) {\r\n            timesheetSignResult = timesheetSignOptional.get();\r\n        }\r\n        return new ResponseEntity&lt;&gt;(timesheetSignResult, HttpStatus.OK);\r\n    }\r\n\r\n    /**\r\n     * Create a new time_sheet_sign .&lt;br/&gt;\r\n     * POST http://localhost:80/time_sheet_sign\r\n     *\r\n     * @param input\r\n     * @return\r\n     */\r\n    @PostMapping()\r\n    public ResponseEntity&lt;TimesheetSign&gt; addAccount(@RequestBody TimesheetSign input) {\r\n        LOGGER.info(&quot;Call method addAccount() .&quot;);\r\n        TimesheetSign timesheetSign = new TimesheetSign();\r\n        timesheetSign.setTimesheetSignCode(input.getTimesheetSignCode());\r\n        timesheetSign.setActiveStatus(input.getActiveStatus());\r\n        timesheetSign.setIsDefault(input.getIsDefault());\r\n        timesheetSign.setIsSystem(input.getIsSystem());\r\n        timesheetSign.setIsHalfDay(input.getIsHalfDay());\r\n        TimesheetSign timesheetSignResult = timesheetSignService.add(timesheetSign);\r\n        return new ResponseEntity&lt;&gt;(timesheetSignResult, HttpStatus.OK);\r\n    }\r\n\r\n    /**\r\n     * Edit time_sheet_sign by its composite primary key.\r\n     * PATCH http://localhost:80/time_sheet_sign/1/42 .\r\n     *\r\n     * @param tenant_id\r\n     * @param id\r\n     * @param input\r\n     * @return\r\n     */\r\n    @PatchMapping(value = &quot;/{tenant_id}/{id}&quot;)\r\n    public ResponseEntity&lt;TimesheetSign&gt; editAccount(@PathVariable(&quot;tenant_id&quot;) Short tenant_id,\r\n                                                     @PathVariable(&quot;id&quot;) Short id,\r\n                                                     @RequestBody TimesheetSign input) {\r\n        LOGGER.info(&quot;Call method editAccount() .&quot;);\r\n        TimesheetSignId timesheetSignId = new TimesheetSignId();\r\n        timesheetSignId.setTenantId(tenant_id);\r\n        timesheetSignId.setId(id);\r\n        TimesheetSign timesheetSign = (timesheetSignService.getById(timesheetSignId)).get();\r\n        timesheetSign.setTimesheetSignName(input.getTimesheetSignName());\r\n        timesheetSign.setIsHalfDay(input.getIsHalfDay());\r\n        timesheetSign.setIsSystem(input.getIsSystem());\r\n        timesheetSign.setTimesheetSignCode(input.getTimesheetSignCode());\r\n        timesheetSign.setSalaryRate(input.getSalaryRate());\r\n        TimesheetSign timesheetSignResult = timesheetSignService.add(timesheetSign);\r\n        return new ResponseEntity&lt;&gt;(timesheetSignResult, HttpStatus.OK);\r\n    }\r\n\r\n    /**\r\n     * Delete time_sheet_sign by its composite primary key.\r\n     * DELETE http://localhost:80/time_sheet_sign/1/42 .\r\n     *\r\n     * @param tenant_id\r\n     * @param id\r\n     * @return\r\n     */\r\n    @DeleteMapping(value = &quot;/{tenant_id}/{id}&quot;)\r\n    public ResponseEntity&lt;Object&gt; deleteAccount(@PathVariable(&quot;tenant_id&quot;) Short tenant_id,\r\n                                                @PathVariable(&quot;id&quot;) Short id) {\r\n        TimesheetSignId timesheetSignId = new TimesheetSignId();\r\n        timesheetSignId.setId(id);\r\n        timesheetSignId.setTenantId(tenant_id);\r\n        timesheetSignService.delete(timesheetSignId);\r\n        return new ResponseEntity&lt;&gt;(null, HttpStatus.OK);\r\n    }\r\n\r\n}\r\n```\r\n\r\n```java\r\n[2m2022-12-19T08:18:19.517+07:00[0;39m [32m INFO[0;39m [35m7048[0;39m [2m---[0;39m [2m[nio-8082-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Initializing Servlet &#39;dispatcherServlet&#39;\r\n[2m2022-12-19T08:18:19.520+07:00[0;39m [32m INFO[0;39m [35m7048[0;39m [2m---[0;39m [2m[nio-8082-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Completed initialization in 3 ms\r\n[2m2022-12-19T08:18:21.177+07:00[0;39m [33m WARN[0;39m [35m7048[0;39m [2m---[0;39m [2m[nio-8082-exec-8][0;39m [36mocalVariableTableParameterNameDiscoverer[0;39m [2m:[0;39m Using deprecated &#39;-debug&#39; fallback for parameter name resolution. Compile the affected code with &#39;-parameters&#39; instead or avoid its introspection: com.example.controller.UnitController\r\n[2m2022-12-19T08:18:21.313+07:00[0;39m [33m WARN[0;39m [35m7048[0;39m [2m---[0;39m [2m[nio-8082-exec-8][0;39m [36mocalVariableTableParameterNameDiscoverer[0;39m [2m:[0;39m Using deprecated &#39;-debug&#39; fallback for parameter name resolution. Compile the affected code with &#39;-parameters&#39; instead or avoid its introspection: com.example.controller.TimesheetSignController\r\n[2m2022-12-19T08:18:21.331+07:00[0;39m [33m WARN[0;39m [35m7048[0;39m [2m---[0;39m [2m[nio-8082-exec-8][0;39m [36mocalVariableTableParameterNameDiscoverer[0;39m [2m:[0;39m Using deprecated &#39;-debug&#39; fallback for parameter name resolution. Compile the affected code with &#39;-parameters&#39; instead or avoid its introspection: com.example.controller.TaxAgentInfoController\r\n```\r\n[![enter image description here][1]][1]\r\n\r\nFull log https://gist.github.com/donhuvy/45b15558e76164e83bdbc0117c9cf64f\r\n\r\nHow to avoid/resolve this warning?\r\nP/S: Comment about not dupplicated question. In this question and solution https://stackoverflow.com/a/74601911/3728901 , use `maven-compiler-plugin` , not `spring-boot-maven-plugin` .\r\n\r\n  [1]: https://i.stack.imgur.com/0YxVY.png","title":"Using deprecated &#39;-debug&#39; fallback for parameter name resolution. Compile the affected code with &#39;-parameters&#39; instead or avoid its introspection","body":"<p>I am using Spring Boot 3.0.0, Eclipse IDE 2022-12, Java language level/JDK 19.</p>\n<p>File <code>pom.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;spring_jwt&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;spring-boot-security-jwt&lt;/name&gt;\n    &lt;description&gt;spring_jwt&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;19&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-hibernate5-jakarta&lt;/artifactId&gt;\n            &lt;version&gt;2.14.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Jasper report start. --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n            &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\n            &lt;version&gt;6.20.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n            &lt;artifactId&gt;jasperreports-fonts&lt;/artifactId&gt;\n            &lt;version&gt;6.20.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n            &lt;artifactId&gt;jasperreports-functions&lt;/artifactId&gt;\n            &lt;version&gt;6.20.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n            &lt;artifactId&gt;jasperreports-metadata&lt;/artifactId&gt;\n            &lt;version&gt;6.20.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n            &lt;artifactId&gt;jasperreports-chart-themes&lt;/artifactId&gt;\n            &lt;version&gt;6.20.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n            &lt;artifactId&gt;jasperreports-annotation-processors&lt;/artifactId&gt;\n            &lt;version&gt;6.20.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n            &lt;artifactId&gt;jasperreports-castor&lt;/artifactId&gt;\n            &lt;version&gt;6.20.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n            &lt;artifactId&gt;liberation-fonts&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n            &lt;artifactId&gt;jasperreports-chart-customizers&lt;/artifactId&gt;\n            &lt;version&gt;6.20.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n            &lt;artifactId&gt;jasperreports-custom-visualization&lt;/artifactId&gt;\n            &lt;version&gt;6.20.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Jasper report end. --&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/commons-beanutils/commons-beanutils --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\n            &lt;version&gt;1.9.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\n            &lt;version&gt;5.5.13.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;scope&gt;runtime&lt;/scope&gt;--&gt;\n&lt;!--            &lt;optional&gt;true&lt;/optional&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;9.1.3&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;com.stimulsoft&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;stimulsoft-reports-report&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;2022.3.3&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;com.stimulsoft&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;stimulsoft-reports-web&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;2022.3.3&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;com.stimulsoft&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;stimulsoft-reports-base&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;2022.3.3&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;com.stimulsoft&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;stimulsoft-reports-viewer&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;2022.3.3&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;com.stimulsoft&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;stimulsoft-reports-samples&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;2022.3.3&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;com.stimulsoft&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;stimulsoft-reports-webviewer&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;2022.3.3&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;com.stimulsoft&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;stimulsoft-reports-lib&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;2022.3.3&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;com.stimulsoft&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;stimulsoft-reports-webdesigner&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;2022.3.3&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;com.stimulsoft&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;reports&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;2022.3.3&lt;/version&gt;--&gt;\n&lt;!--            &lt;type&gt;pom&lt;/type&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;/plugin&gt;\n&lt;!--            &lt;plugin&gt;--&gt;\n&lt;!--                &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;--&gt;\n&lt;!--                &lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;--&gt;\n&lt;!--                &lt;version&gt;9.1.3&lt;/version&gt;--&gt;\n&lt;!--            &lt;/plugin&gt;--&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;xpand&lt;/id&gt;\n            &lt;name&gt;xpand&lt;/name&gt;\n            &lt;url&gt;https://maven.xpand-it.com/artifactory/releases/&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;maven_central&lt;/id&gt;\n            &lt;name&gt;maven_central&lt;/name&gt;\n            &lt;url&gt;https://repo.maven.apache.org/maven2/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I have many controllers like these: File <code>UnitController.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.controller;\n\nimport com.example.BLModel.Unit;\nimport com.example.BLModel.UnitId;\nimport com.example.service.UnitService;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PatchMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.List;\nimport java.util.Optional;\n\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\n@RestController\n@RequestMapping(&quot;/unit&quot;)\npublic class UnitController {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(UnitController.class);\n\n    @Autowired\n    UnitService unitService;\n\n    /**\n     * Get all units belong to a tenant_id .&lt;br/&gt;\n     * GET http://localhost:80/unit/1/all .\n     *\n     * @param tenant_id\n     * @return\n     */\n    @GetMapping(value = &quot;/{tenant_id}/all&quot;)\n    public ResponseEntity&lt;List&lt;Unit&gt;&gt; getAllUnits(@PathVariable(&quot;tenant_id&quot;) Short tenant_id) {\n        LOGGER.info(&quot;Call method getAllUnits() .&quot;);\n        return new ResponseEntity&lt;&gt;(unitService.getAll(tenant_id), HttpStatus.OK);\n    }\n\n    /**\n     * Get a unit by its composite primary key.&lt;br/&gt;\n     * GET http://localhost:80/unit/1/42 .\n     *\n     * @param tenant_id\n     * @param id\n     * @return\n     */\n    @GetMapping(value = &quot;/{tenant_id}/{id}&quot;)\n    public ResponseEntity&lt;Unit&gt; viewDetailUnit(@PathVariable(&quot;tenant_id&quot;) Short tenant_id,\n                                               @PathVariable(&quot;id&quot;) Short id) {\n        LOGGER.info(&quot;Call method viewDetailUnit() .&quot;);\n        UnitId unitId = new UnitId();\n        unitId.setId(id);\n        unitId.setTenantId(tenant_id);\n        Optional&lt;Unit&gt; unitOptional = unitService.getById(unitId);\n        Unit result = null;\n        if (unitOptional.isPresent()) {\n            result = unitOptional.get();\n        }\n        return new ResponseEntity&lt;&gt;(result, HttpStatus.OK);\n    }\n\n    /**\n     * Add a new unit.&lt;br/&gt;\n     * POST http://localhost:80/unit\n     *\n     * @param input\n     * @return\n     */\n    @PostMapping()\n    public ResponseEntity&lt;Unit&gt; addUnit(@RequestBody Unit input) {\n        LOGGER.info(&quot;Call method addUnit() .&quot;);\n        Unit unit = new Unit();\n        unit.setUnitName(input.getUnitName());\n        unit.setDescription(input.getDescription());\n        unit.setActiveStatus(input.getActiveStatus());\n        Unit unitResult = unitService.add(unit);\n        return new ResponseEntity&lt;&gt;(unitResult, HttpStatus.OK);\n    }\n\n    /**\n     * Edit a unit.&lt;br/&gt;\n     * PATCH http://localhost:80/unit/1/42 .\n     *\n     * @param tenant_id\n     * @param id\n     * @param input\n     * @return\n     */\n    @PatchMapping(value = &quot;/{tenant_id}/{id}&quot;)\n    public ResponseEntity&lt;Unit&gt; editUnit(@PathVariable(&quot;tenant_id&quot;) Short tenant_id,\n                                         @PathVariable(&quot;id&quot;) Short id,\n                                         @RequestBody Unit input) {\n        LOGGER.info(&quot;Call method editUnit() .&quot;);\n        UnitId unitId = new UnitId();\n        unitId.setTenantId(tenant_id);\n        unitId.setId(id);\n        Unit unit = (unitService.getById(unitId)).get();\n        unit.setActiveStatus(input.getActiveStatus());\n        unit.setDescription(input.getDescription());\n        unit.setUnitName(input.getUnitName());\n        Unit unitResult = unitService.add(unit);\n        return new ResponseEntity&lt;&gt;(unitResult, HttpStatus.OK);\n    }\n\n    /**\n     * Delete a specific unit.&lt;br/&gt;\n     * DELETE http://localhost:80/unit/1/42 .\n     *\n     * @param tenant_id\n     * @param id\n     * @return\n     */\n    @DeleteMapping(value = &quot;/{tenant_id}/{id}&quot;)\n    public ResponseEntity&lt;Object&gt; deleteUnit(@PathVariable(&quot;tenant_id&quot;) Short tenant_id,\n                                             @PathVariable(&quot;id&quot;) Short id) {\n        UnitId unitId = new UnitId();\n        unitId.setId(id);\n        unitId.setTenantId(tenant_id);\n        unitService.delete(unitId);\n        return new ResponseEntity&lt;&gt;(null, HttpStatus.OK);\n    }\n\n}\n\n</code></pre>\n<p>File <code>TimesheetSignController.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.controller;\n\nimport com.example.BLModel.TimesheetSign;\nimport com.example.BLModel.TimesheetSignId;\nimport com.example.service.TimesheetSignService;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PatchMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.List;\nimport java.util.Optional;\n\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\n@RestController\n@RequestMapping(&quot;/timesheet_sign&quot;)\npublic class TimesheetSignController {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(TimesheetSignController.class);\n\n    @Autowired\n    TimesheetSignService timesheetSignService;\n\n    /**\n     * Get all time_sheet_sign by its tenant_id .&lt;br/&gt;\n     * GET http://localhost:80/time_sheet_sign/1/all .\n     *\n     * @param tenant_id\n     * @return\n     */\n    @GetMapping(value = &quot;/{tenant_id}&quot;)\n    public ResponseEntity&lt;List&lt;TimesheetSign&gt;&gt; getAllAccounts(@PathVariable(&quot;tenant_id&quot;) Short tenant_id) {\n        LOGGER.info(&quot;Call method getAllAccounts() .&quot;);\n        return new ResponseEntity&lt;&gt;(timesheetSignService.getAll(tenant_id), HttpStatus.OK);\n    }\n\n    /**\n     * Get a specific time_sheet_sign item by its composite primary key.\n     * GET http://localhost:80/1/42\n     *\n     * @param tenant_id\n     * @param id\n     * @return\n     */\n    @GetMapping(value = &quot;/{tenant_id}/{id}&quot;)\n    public ResponseEntity&lt;TimesheetSign&gt; viewDetailAccount(@PathVariable(&quot;tenant_id&quot;) Short tenant_id,\n                                                           @PathVariable(&quot;id&quot;) Short id) {\n        LOGGER.info(&quot;Call method viewDetailAccount() .&quot;);\n        TimesheetSignId timesheetSignId = new TimesheetSignId();\n        timesheetSignId.setId(id);\n        timesheetSignId.setTenantId(tenant_id);\n        Optional&lt;TimesheetSign&gt; timesheetSignOptional = timesheetSignService.getById(timesheetSignId);\n        TimesheetSign timesheetSignResult = null;\n        if (timesheetSignOptional.isPresent()) {\n            timesheetSignResult = timesheetSignOptional.get();\n        }\n        return new ResponseEntity&lt;&gt;(timesheetSignResult, HttpStatus.OK);\n    }\n\n    /**\n     * Create a new time_sheet_sign .&lt;br/&gt;\n     * POST http://localhost:80/time_sheet_sign\n     *\n     * @param input\n     * @return\n     */\n    @PostMapping()\n    public ResponseEntity&lt;TimesheetSign&gt; addAccount(@RequestBody TimesheetSign input) {\n        LOGGER.info(&quot;Call method addAccount() .&quot;);\n        TimesheetSign timesheetSign = new TimesheetSign();\n        timesheetSign.setTimesheetSignCode(input.getTimesheetSignCode());\n        timesheetSign.setActiveStatus(input.getActiveStatus());\n        timesheetSign.setIsDefault(input.getIsDefault());\n        timesheetSign.setIsSystem(input.getIsSystem());\n        timesheetSign.setIsHalfDay(input.getIsHalfDay());\n        TimesheetSign timesheetSignResult = timesheetSignService.add(timesheetSign);\n        return new ResponseEntity&lt;&gt;(timesheetSignResult, HttpStatus.OK);\n    }\n\n    /**\n     * Edit time_sheet_sign by its composite primary key.\n     * PATCH http://localhost:80/time_sheet_sign/1/42 .\n     *\n     * @param tenant_id\n     * @param id\n     * @param input\n     * @return\n     */\n    @PatchMapping(value = &quot;/{tenant_id}/{id}&quot;)\n    public ResponseEntity&lt;TimesheetSign&gt; editAccount(@PathVariable(&quot;tenant_id&quot;) Short tenant_id,\n                                                     @PathVariable(&quot;id&quot;) Short id,\n                                                     @RequestBody TimesheetSign input) {\n        LOGGER.info(&quot;Call method editAccount() .&quot;);\n        TimesheetSignId timesheetSignId = new TimesheetSignId();\n        timesheetSignId.setTenantId(tenant_id);\n        timesheetSignId.setId(id);\n        TimesheetSign timesheetSign = (timesheetSignService.getById(timesheetSignId)).get();\n        timesheetSign.setTimesheetSignName(input.getTimesheetSignName());\n        timesheetSign.setIsHalfDay(input.getIsHalfDay());\n        timesheetSign.setIsSystem(input.getIsSystem());\n        timesheetSign.setTimesheetSignCode(input.getTimesheetSignCode());\n        timesheetSign.setSalaryRate(input.getSalaryRate());\n        TimesheetSign timesheetSignResult = timesheetSignService.add(timesheetSign);\n        return new ResponseEntity&lt;&gt;(timesheetSignResult, HttpStatus.OK);\n    }\n\n    /**\n     * Delete time_sheet_sign by its composite primary key.\n     * DELETE http://localhost:80/time_sheet_sign/1/42 .\n     *\n     * @param tenant_id\n     * @param id\n     * @return\n     */\n    @DeleteMapping(value = &quot;/{tenant_id}/{id}&quot;)\n    public ResponseEntity&lt;Object&gt; deleteAccount(@PathVariable(&quot;tenant_id&quot;) Short tenant_id,\n                                                @PathVariable(&quot;id&quot;) Short id) {\n        TimesheetSignId timesheetSignId = new TimesheetSignId();\n        timesheetSignId.setId(id);\n        timesheetSignId.setTenantId(tenant_id);\n        timesheetSignService.delete(timesheetSignId);\n        return new ResponseEntity&lt;&gt;(null, HttpStatus.OK);\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>[2m2022-12-19T08:18:19.517+07:00[0;39m [32m INFO[0;39m [35m7048[0;39m [2m---[0;39m [2m[nio-8082-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Initializing Servlet 'dispatcherServlet'\n[2m2022-12-19T08:18:19.520+07:00[0;39m [32m INFO[0;39m [35m7048[0;39m [2m---[0;39m [2m[nio-8082-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Completed initialization in 3 ms\n[2m2022-12-19T08:18:21.177+07:00[0;39m [33m WARN[0;39m [35m7048[0;39m [2m---[0;39m [2m[nio-8082-exec-8][0;39m [36mocalVariableTableParameterNameDiscoverer[0;39m [2m:[0;39m Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: com.example.controller.UnitController\n[2m2022-12-19T08:18:21.313+07:00[0;39m [33m WARN[0;39m [35m7048[0;39m [2m---[0;39m [2m[nio-8082-exec-8][0;39m [36mocalVariableTableParameterNameDiscoverer[0;39m [2m:[0;39m Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: com.example.controller.TimesheetSignController\n[2m2022-12-19T08:18:21.331+07:00[0;39m [33m WARN[0;39m [35m7048[0;39m [2m---[0;39m [2m[nio-8082-exec-8][0;39m [36mocalVariableTableParameterNameDiscoverer[0;39m [2m:[0;39m Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: com.example.controller.TaxAgentInfoController\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/0YxVY.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/0YxVY.png\" alt=\"enter image description here\" /></a></p>\n<p>Full log <a href=\"https://gist.github.com/donhuvy/45b15558e76164e83bdbc0117c9cf64f\" rel=\"noreferrer\">https://gist.github.com/donhuvy/45b15558e76164e83bdbc0117c9cf64f</a></p>\n<p>How to avoid/resolve this warning?\nP/S: Comment about not dupplicated question. In this question and solution <a href=\"https://stackoverflow.com/a/74601911/3728901\">https://stackoverflow.com/a/74601911/3728901</a> , use <code>maven-compiler-plugin</code> , not <code>spring-boot-maven-plugin</code> .</p>\n"},{"tags":["java","spring-boot","websphere"],"comments":[{"owner":{"account_id":4218123,"reputation":9909,"user_id":3453898,"accept_rate":75,"display_name":"pixel"},"score":0,"creation_date":1657332397,"post_id":54350022,"comment_id":128792233,"body_markdown":"Did you find solution?","body":"Did you find solution?"},{"owner":{"account_id":1680317,"reputation":634,"user_id":1544690,"accept_rate":44,"display_name":"Mirlo"},"score":0,"creation_date":1657575957,"post_id":54350022,"comment_id":128839276,"body_markdown":"it was that my spring boot version was incompatible with WS Liberty Code (85)\nso i upgraded WS liberty core.","body":"it was that my spring boot version was incompatible with WS Liberty Code (85) so i upgraded WS liberty core."}],"answers":[{"comments":[{"owner":{"account_id":4218123,"reputation":9909,"user_id":3453898,"accept_rate":75,"display_name":"pixel"},"score":0,"creation_date":1657639697,"post_id":72945253,"comment_id":128856026,"body_markdown":"I meant to say context-root, like `&lt;application context-root=&quot;/myapi&quot; ...`.","body":"I meant to say context-root, like <code>&lt;application context-root=&quot;&#47;myapi&quot; ...</code>."}],"tags":[],"owner":{"account_id":4218123,"reputation":9909,"user_id":3453898,"accept_rate":75,"display_name":"pixel"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700834607,"creation_date":1657578347,"answer_id":72945253,"question_id":54350022,"body_markdown":"In my case, my `&lt;application&gt;` section in **server.xml** was missing `context-root`","title":"Liberty Core : Spring boot Context Root Not Found","body":"<p>In my case, my <code>&lt;application&gt;</code> section in <strong>server.xml</strong> was missing <code>context-root</code></p>\n"}],"owner":{"account_id":1680317,"reputation":634,"user_id":1544690,"accept_rate":44,"display_name":"Mirlo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":873,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1700834607,"creation_date":1548343509,"question_id":54350022,"body_markdown":"Running my spring boot application with Liberty Core giving me this error and  no error was logged !\r\n\r\nSo i&#39;ve created a pom file based on spring-boot-starter-web and excluded tomcat\r\nwith a starter class :\r\n\r\n    @Configuration\r\n    @EnableAutoConfiguration\r\n    @SpringBootApplication\r\n    @ComponentScan(basePackages = { &quot;com.a.b.c&quot; }, lazyInit = true)\r\n    public class SpringBootApp extends SpringBootServletInitializer {\r\n    \r\n      /**\r\n       * @param args main aguments\r\n       */\r\n      public static void main(final String[] args) {\r\n    \r\n        SpringApplication.run(SpringBootApp.class, args);\r\n      }\r\n    \r\n      /*\r\n       * (non-Javadoc)\r\n       * \r\n       * @see org.springframework.boot.web.support.SpringBootServletInitializer#configure(org.springframework.boot.builder.\r\n       * SpringApplicationBuilder)\r\n       */\r\n      @Override\r\n      protected SpringApplicationBuilder configure(final SpringApplicationBuilder builder) {\r\n    \r\n        return builder.sources(SpringBootApp.class);\r\n      }\r\n    \r\n    }\r\n\r\n\r\nMy controller : \r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class CustomerResource {\r\n    \r\n    \r\n    \t/**\r\n    \t * @param customerDTO\r\n    \t * @return\r\n    \t */\r\n    \t@PostMapping(&quot;/customers&quot;)\r\n    \tpublic ResponseEntity&lt;URI&gt; addOrder(\r\n    \t\t\t@Valid @RequestBody final CustomerDTO customerDTO) {\r\n    \r\n    \t\tfinal URI location = ServletUriComponentsBuilder.fromCurrentRequest()\r\n    \t\t\t\t.path(&quot;/{id}&quot;).buildAndExpand(&quot;id&quot;).toUri();\r\n    \t\treturn ResponseEntity.created(location).build();\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * @param customerID\r\n    \t * @return\r\n    \t */\r\n    \t@GetMapping(&quot;/customers/{customerID}&quot;)\r\n    \tpublic CustomerDTO getCustomer(@PathVariable final String customerID) {\r\n    \r\n    \t\treturn new CustomerDTO();\r\n    \t}\r\n    \r\n    }\r\n\r\nthe server xml on WS Liberty Code (85)\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;server description=&quot;sa-57487&quot;&gt;\r\n    \r\n        &lt;!-- Enable features --&gt;\r\n        &lt;featureManager&gt;\r\n            &lt;feature&gt;jsp-2.2&lt;/feature&gt;\r\n            &lt;feature&gt;ssl-1.0&lt;/feature&gt;\r\n            &lt;feature&gt;jpa-2.0&lt;/feature&gt;\r\n            &lt;feature&gt;jdbc-4.0&lt;/feature&gt;\r\n            &lt;feature&gt;jndi-1.0&lt;/feature&gt;\r\n            &lt;feature&gt;servlet-3.0&lt;/feature&gt;\r\n            &lt;feature&gt;localConnector-1.0&lt;/feature&gt;\r\n            &lt;feature&gt;restConnector-1.0&lt;/feature&gt;\r\n            &lt;feature&gt;beanValidation-1.1&lt;/feature&gt;\r\n              &lt;feature&gt;adminCenter-1.0&lt;/feature&gt;\r\n      &lt;/featureManager&gt;\r\n    \r\n       &lt;quickStartSecurity userName=&quot;wasadmin&quot; userPassword=&quot;ded&quot;/&gt;\r\n    \r\n       &lt;keyStore id=&quot;defaultKeyStore&quot; password=&quot;ded&quot;/&gt;\r\n    \r\n        &lt;!-- To access this server from a remote client add a host attribute to the following element, e.g. host=&quot;*&quot; --&gt;\r\n        &lt;httpEndpoint id=&quot;defaultHttpEndpoint&quot;\r\n                      host=&quot;*&quot;\r\n                      httpPort=&quot;${http_port}&quot;\r\n                      httpsPort=&quot;${https_port}&quot;/&gt;\r\n    \r\n     \r\n    \r\n  \r\n    \r\n    \r\n        &lt;!-- Log File Rotation and Maximun Number of Historical  --&gt;\r\n        &lt;logging\r\n            logDirectory=&quot;sa-57487_api01_mob-biz-1/logs&quot;\r\n            messageFileName=&quot;messages.log&quot;\r\n            traceFileName=&quot;trace.log&quot;\r\n            traceSpecification=&quot;*=info&quot;\r\n            maxFileSize=&quot;10&quot;\r\n            maxFiles=&quot;10&quot;\r\n            copySystemStreams=&quot;false&quot;\r\n            consoleLogLevel=&quot;INFO&quot;\r\n        /&gt;\r\n    \r\n            &lt;!-- Installation application --&gt;\r\n    \r\n            &lt;application id=&quot;api&quot; location=&quot;installedApps/sample-service-exposition-0.0.10.war&quot; name=&quot;api-0.0.1-SNAPSHOT&quot; type=&quot;war&quot; context-root=&quot;api&quot;/&gt;\r\n\r\n\r\nthe trace gives me this :\r\n\r\n    [24/01/19 16:12:30:285 CET] 00000c50 com.ibm.ws.http.internal.VirtualHostImpl                     A CWWKT0016I: Web application available (default_host): http://xxx.fr.net.intra:9081/api/\r\n    [24/01/19 16:12:30:286 CET] 00000c52 com.ibm.ws.session.WASSessionCore                            I SESN0176I: A new session context will be created for application key default_host/api\r\n    [24/01/19 16:12:30:286 CET] 00000c52 com.ibm.ws.util                                              I SESN0172I: The session manager is using the Java default SecureRandom implementation for session ID generation.\r\n    [24/01/19 16:12:30:307 CET] 00000c50 com.ibm.ws.app.manager.AppMessageHelper                      A CWWKZ0001I: Application AP12213-melchior-0.0.1-SNAPSHOT started in 2.298 seconds.\r\n    [24/01/19 16:12:30:497 CET] 00000c2d com.ibm.ws.webcontainer.osgi.mbeans.PluginGenerator          I SRVE9103I: A configuration file for a web server plugin was automatically generated for this server at /applis/logs/57487-api01/wlc/sa-57487_api01_mob-biz-1/sa-57487_api01_mob-biz-1/logs/state/plugin-cfg.xml.\r\n    [24/01/19 16:12:30:532 CET] 00000c52 com.ibm.ws.webcontainer.webapp                               I SRVE0292I: Servlet Message - [sample-service-exposition-0.0.10]:.2 Spring WebApplicationInitializers detected on classpath\r\n\r\n\r\nwhen i got on the server url : `http://xxx.fr.net.intra:9081/api/`\r\n\r\ngives me : `Context Root Not Found`\r\n\r\nAny help thanlss","title":"Liberty Core : Spring boot Context Root Not Found","body":"<p>Running my spring boot application with Liberty Core giving me this error and  no error was logged !</p>\n\n<p>So i've created a pom file based on spring-boot-starter-web and excluded tomcat\nwith a starter class :</p>\n\n<pre><code>@Configuration\n@EnableAutoConfiguration\n@SpringBootApplication\n@ComponentScan(basePackages = { \"com.a.b.c\" }, lazyInit = true)\npublic class SpringBootApp extends SpringBootServletInitializer {\n\n  /**\n   * @param args main aguments\n   */\n  public static void main(final String[] args) {\n\n    SpringApplication.run(SpringBootApp.class, args);\n  }\n\n  /*\n   * (non-Javadoc)\n   * \n   * @see org.springframework.boot.web.support.SpringBootServletInitializer#configure(org.springframework.boot.builder.\n   * SpringApplicationBuilder)\n   */\n  @Override\n  protected SpringApplicationBuilder configure(final SpringApplicationBuilder builder) {\n\n    return builder.sources(SpringBootApp.class);\n  }\n\n}\n</code></pre>\n\n<p>My controller : </p>\n\n<pre><code>@RestController\n@RequestMapping(\"/api\")\npublic class CustomerResource {\n\n\n    /**\n     * @param customerDTO\n     * @return\n     */\n    @PostMapping(\"/customers\")\n    public ResponseEntity&lt;URI&gt; addOrder(\n            @Valid @RequestBody final CustomerDTO customerDTO) {\n\n        final URI location = ServletUriComponentsBuilder.fromCurrentRequest()\n                .path(\"/{id}\").buildAndExpand(\"id\").toUri();\n        return ResponseEntity.created(location).build();\n    }\n\n    /**\n     * @param customerID\n     * @return\n     */\n    @GetMapping(\"/customers/{customerID}\")\n    public CustomerDTO getCustomer(@PathVariable final String customerID) {\n\n        return new CustomerDTO();\n    }\n\n}\n</code></pre>\n\n<p>the server xml on WS Liberty Code (85)</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;server description=\"sa-57487\"&gt;\n\n    &lt;!-- Enable features --&gt;\n    &lt;featureManager&gt;\n        &lt;feature&gt;jsp-2.2&lt;/feature&gt;\n        &lt;feature&gt;ssl-1.0&lt;/feature&gt;\n        &lt;feature&gt;jpa-2.0&lt;/feature&gt;\n        &lt;feature&gt;jdbc-4.0&lt;/feature&gt;\n        &lt;feature&gt;jndi-1.0&lt;/feature&gt;\n        &lt;feature&gt;servlet-3.0&lt;/feature&gt;\n        &lt;feature&gt;localConnector-1.0&lt;/feature&gt;\n        &lt;feature&gt;restConnector-1.0&lt;/feature&gt;\n        &lt;feature&gt;beanValidation-1.1&lt;/feature&gt;\n          &lt;feature&gt;adminCenter-1.0&lt;/feature&gt;\n  &lt;/featureManager&gt;\n\n   &lt;quickStartSecurity userName=\"wasadmin\" userPassword=\"ded\"/&gt;\n\n   &lt;keyStore id=\"defaultKeyStore\" password=\"ded\"/&gt;\n\n    &lt;!-- To access this server from a remote client add a host attribute to the following element, e.g. host=\"*\" --&gt;\n    &lt;httpEndpoint id=\"defaultHttpEndpoint\"\n                  host=\"*\"\n                  httpPort=\"${http_port}\"\n                  httpsPort=\"${https_port}\"/&gt;\n\n\n\n\n\n\n    &lt;!-- Log File Rotation and Maximun Number of Historical  --&gt;\n    &lt;logging\n        logDirectory=\"sa-57487_api01_mob-biz-1/logs\"\n        messageFileName=\"messages.log\"\n        traceFileName=\"trace.log\"\n        traceSpecification=\"*=info\"\n        maxFileSize=\"10\"\n        maxFiles=\"10\"\n        copySystemStreams=\"false\"\n        consoleLogLevel=\"INFO\"\n    /&gt;\n\n        &lt;!-- Installation application --&gt;\n\n        &lt;application id=\"api\" location=\"installedApps/sample-service-exposition-0.0.10.war\" name=\"api-0.0.1-SNAPSHOT\" type=\"war\" context-root=\"api\"/&gt;\n</code></pre>\n\n<p>the trace gives me this :</p>\n\n<pre><code>[24/01/19 16:12:30:285 CET] 00000c50 com.ibm.ws.http.internal.VirtualHostImpl                     A CWWKT0016I: Web application available (default_host): http://xxx.fr.net.intra:9081/api/\n[24/01/19 16:12:30:286 CET] 00000c52 com.ibm.ws.session.WASSessionCore                            I SESN0176I: A new session context will be created for application key default_host/api\n[24/01/19 16:12:30:286 CET] 00000c52 com.ibm.ws.util                                              I SESN0172I: The session manager is using the Java default SecureRandom implementation for session ID generation.\n[24/01/19 16:12:30:307 CET] 00000c50 com.ibm.ws.app.manager.AppMessageHelper                      A CWWKZ0001I: Application AP12213-melchior-0.0.1-SNAPSHOT started in 2.298 seconds.\n[24/01/19 16:12:30:497 CET] 00000c2d com.ibm.ws.webcontainer.osgi.mbeans.PluginGenerator          I SRVE9103I: A configuration file for a web server plugin was automatically generated for this server at /applis/logs/57487-api01/wlc/sa-57487_api01_mob-biz-1/sa-57487_api01_mob-biz-1/logs/state/plugin-cfg.xml.\n[24/01/19 16:12:30:532 CET] 00000c52 com.ibm.ws.webcontainer.webapp                               I SRVE0292I: Servlet Message - [sample-service-exposition-0.0.10]:.2 Spring WebApplicationInitializers detected on classpath\n</code></pre>\n\n<p>when i got on the server url : <code>http://xxx.fr.net.intra:9081/api/</code></p>\n\n<p>gives me : <code>Context Root Not Found</code></p>\n\n<p>Any help thanlss</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":2,"creation_date":1628234234,"post_id":68675258,"comment_id":121370893,"body_markdown":"Poi relies on the Java runtime to handle fonts. This looks like a duplicate of issues like https://stackoverflow.com/questions/43096782/apachepoi-fails-with-font-error-on-openjdk-1-8-0-121-okay-on-oracle-jre","body":"Poi relies on the Java runtime to handle fonts. This looks like a duplicate of issues like <a href=\"https://stackoverflow.com/questions/43096782/apachepoi-fails-with-font-error-on-openjdk-1-8-0-121-okay-on-oracle-jre\" title=\"apachepoi fails with font error on openjdk 1 8 0 121 okay on oracle jre\">stackoverflow.com/questions/43096782/&hellip;</a>"},{"owner":{"account_id":179293,"reputation":15713,"user_id":411846,"accept_rate":80,"display_name":"centic"},"score":0,"creation_date":1628238695,"post_id":68675258,"comment_id":121372339,"body_markdown":"Can you add the full stacktrace of where it fails?","body":"Can you add the full stacktrace of where it fails?"},{"owner":{"account_id":19895939,"reputation":59,"user_id":14577039,"display_name":"Rakhi"},"score":0,"creation_date":1628245774,"post_id":68675258,"comment_id":121375040,"body_markdown":"in __gnu_cxx::__verbose_terminate_handler() () from /lib64/libstdc++.so.6\n    #10 0x00007fbd888b3a06 in ?? () from /lib64/libstdc++.so.6\n    #11 0x00007fbd888b3a33 in std::terminate() () from /lib64/libstdc++.so.6\n    #12 0x00007fbd888b3c53 in __cxa_throw () from /lib64/libstdc++.so.6\n    #13 0x00007fbd941de436 in PSJNI::JavaObject::CallVoidMethod(std::string const&amp;, std::string const&amp;, ...) const () from /opt/oracle/psft/pt/tools/bin/libpsjni.so\n    #14 0x00007fbd93780b5e in CPSSpreadSheet::CreateSheet(wchar_t const*This didnot confirm issue is related to font,but worked with fontconfig","body":"in __gnu_cxx::__verbose_terminate_handler() () from /lib64/libstdc++.so.6     #10 0x00007fbd888b3a06 in ?? () from /lib64/libstdc++.so.6     #11 0x00007fbd888b3a33 in std::terminate() () from /lib64/libstdc++.so.6     #12 0x00007fbd888b3c53 in __cxa_throw () from /lib64/libstdc++.so.6     #13 0x00007fbd941de436 in PSJNI::JavaObject::CallVoidMethod(std::string const&amp;, std::string const&amp;, ...) const () from /opt/oracle/psft/pt/tools/bin/libpsjni.so     #14 0x00007fbd93780b5e in CPSSpreadSheet::CreateSheet(wchar_t const*This didnot confirm issue is related to font,but worked with fontconfig"},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1628327514,"post_id":68675258,"comment_id":121394334,"body_markdown":"Have a look at https://wiki.archlinux.org/title/Java_Runtime_Environment_fonts (Font Selection and See Also sections)","body":"Have a look at <a href=\"https://wiki.archlinux.org/title/Java_Runtime_Environment_fonts\" rel=\"nofollow noreferrer\">wiki.archlinux.org/title/Java_Runtime_Environment_fonts</a> (Font Selection and See Also sections)"},{"owner":{"account_id":24819930,"reputation":101,"user_id":18700381,"display_name":"daph111"},"score":1,"creation_date":1654085747,"post_id":68675258,"comment_id":128007197,"body_markdown":"@Rakhi did you find any fix?","body":"@Rakhi did you find any fix?"}],"answers":[{"tags":[],"owner":{"account_id":6606513,"reputation":1158,"user_id":5103183,"accept_rate":50,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700834360,"creation_date":1700834360,"answer_id":77543674,"question_id":68675258,"body_markdown":"After diving a bit into the code in POI (version 5.2.3), I&#39;ve found this in `org.apache.poi.ss.util.SheetUtil`:\r\n\r\n    \r\n    /**\r\n     * A system property which can be enabled to not fail when the\r\n     * font-system is not available on the current machine\r\n     */\r\n    private static final boolean ignoreMissingFontSystem =\r\n            Boolean.parseBoolean(System.getProperty(&quot;org.apache.poi.ss.ignoreMissingFontSystem&quot;));\r\n\r\nSetting the system property `org.apache.poi.ss.ignoreMissingFontSystem` to `true` has resolved this issue for me:\r\n\r\n    // avoid exceptions on systems without MS Fonts\r\n    System.setProperty(&quot;org.apache.poi.ss.ignoreMissingFontSystem&quot;, &quot;true&quot;)","title":"Apache POI failing in createsheet due to missing fontconfig in Java 11 environments","body":"<p>After diving a bit into the code in POI (version 5.2.3), I've found this in <code>org.apache.poi.ss.util.SheetUtil</code>:</p>\n<pre><code>/**\n * A system property which can be enabled to not fail when the\n * font-system is not available on the current machine\n */\nprivate static final boolean ignoreMissingFontSystem =\n        Boolean.parseBoolean(System.getProperty(&quot;org.apache.poi.ss.ignoreMissingFontSystem&quot;));\n</code></pre>\n<p>Setting the system property <code>org.apache.poi.ss.ignoreMissingFontSystem</code> to <code>true</code> has resolved this issue for me:</p>\n<pre><code>// avoid exceptions on systems without MS Fonts\nSystem.setProperty(&quot;org.apache.poi.ss.ignoreMissingFontSystem&quot;, &quot;true&quot;)\n</code></pre>\n"}],"owner":{"account_id":19895939,"reputation":59,"user_id":14577039,"display_name":"Rakhi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1575,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":1,"score":4,"last_activity_date":1700834360,"creation_date":1628215140,"question_id":68675258,"body_markdown":"We are using Java 11 and compared to earlier versions of Java ,Java 11 have removed fonts folder from jre/lib.\r\nSo our poi calls are failing at createsheet call,due to missing fontconfig.\r\nIf we install fontconfig using yum ,it will work like charm.But management is not approving the same.\r\nIssue is not happening in Java8 as fonts are identified from jre/lib folder.\r\nTried to put the fonts in current working directory ,but that also didnot help us.\r\nCan anyone let me know ,how poi picks up the fonts,from where and what I can do to overcome this issue.Also the list of fonts/files to get over the issue.\r\n\r\nRegards,\r\nRakhi","title":"Apache POI failing in createsheet due to missing fontconfig in Java 11 environments","body":"<p>We are using Java 11 and compared to earlier versions of Java ,Java 11 have removed fonts folder from jre/lib.\nSo our poi calls are failing at createsheet call,due to missing fontconfig.\nIf we install fontconfig using yum ,it will work like charm.But management is not approving the same.\nIssue is not happening in Java8 as fonts are identified from jre/lib folder.\nTried to put the fonts in current working directory ,but that also didnot help us.\nCan anyone let me know ,how poi picks up the fonts,from where and what I can do to overcome this issue.Also the list of fonts/files to get over the issue.</p>\n<p>Regards,\nRakhi</p>\n"},{"tags":["java","synchronization"],"answers":[{"tags":[],"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"comment_count":0,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1258969150,"creation_date":1258920146,"answer_id":1779803,"question_id":1779795,"body_markdown":"Take a look at the [Lock][1] objects introduced in the Java 5 concurrency packages.\r\n\r\ne.g. \r\n\r\n    Lock lock = new ReentrantLock()\r\n    if (lock.tryLock()) {\r\n       try {\r\n          // do stuff using the lock...\r\n       }\r\n       finally {\r\n          lock.unlock();\r\n       }\r\n    }\r\n       ...\r\n\r\nThe [ReentrantLock][2] object is essentially doing the same thing as the traditional `synchronized` mechanism, but with more functionality.\r\n\r\nEDIT: As Jon has noted, the `isLocked()` method tells you at *that instant*, and thereafter that information is out of date. The [tryLock()][3] method will give more reliable operation (note you can use this with a timeout as well)\r\n\r\nEDIT #2: Example now includes `tryLock()/unlock()` for clarity.\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/essential/concurrency/newlocks.html\r\n  [2]: http://java.sun.com/javase/7/docs/api/java/util/concurrent/locks/ReentrantLock.html\r\n  [3]: http://www.ensta.fr/~diam/java/online/jdk/150/api/java/util/concurrent/locks/ReentrantLock.html#tryLock%28%29","title":"How do determine if an object is locked (synchronized) so not to block in Java?","body":"<p>Take a look at the <a href=\"http://java.sun.com/docs/books/tutorial/essential/concurrency/newlocks.html\" rel=\"noreferrer\">Lock</a> objects introduced in the Java 5 concurrency packages.</p>\n\n<p>e.g. </p>\n\n<pre><code>Lock lock = new ReentrantLock()\nif (lock.tryLock()) {\n   try {\n      // do stuff using the lock...\n   }\n   finally {\n      lock.unlock();\n   }\n}\n   ...\n</code></pre>\n\n<p>The <a href=\"http://java.sun.com/javase/7/docs/api/java/util/concurrent/locks/ReentrantLock.html\" rel=\"noreferrer\">ReentrantLock</a> object is essentially doing the same thing as the traditional <code>synchronized</code> mechanism, but with more functionality.</p>\n\n<p>EDIT: As Jon has noted, the <code>isLocked()</code> method tells you at <em>that instant</em>, and thereafter that information is out of date. The <a href=\"http://www.ensta.fr/~diam/java/online/jdk/150/api/java/util/concurrent/locks/ReentrantLock.html#tryLock%28%29\" rel=\"noreferrer\">tryLock()</a> method will give more reliable operation (note you can use this with a timeout as well)</p>\n\n<p>EDIT #2: Example now includes <code>tryLock()/unlock()</code> for clarity.</p>\n"},{"comments":[{"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"score":0,"creation_date":1258920501,"post_id":1779813,"comment_id":1666076,"body_markdown":"Yes. That&#39;s a good point. I took the example code literally, whereas the above is definitely a more robust implementation","body":"Yes. That&#39;s a good point. I took the example code literally, whereas the above is definitely a more robust implementation"},{"owner":{"account_id":561506,"reputation":1311,"user_id":161200,"accept_rate":55,"display_name":"Shaitan00"},"score":5,"creation_date":1258925523,"post_id":1779813,"comment_id":1666381,"body_markdown":"But how do I use a lock per record? Currently the records are stored in a HashTable of records ... so I need a matching Hashtable of Locks?\n\nI am trying to ensure I have the most possible concurrency, so if a process wants to access recordC that should be fine (if only recordB is locked) - I use a global LOCK then it is essentially the same as locking the entire hashtable.\n\n... that make any sense?","body":"But how do I use a lock per record? Currently the records are stored in a HashTable of records ... so I need a matching Hashtable of Locks?  I am trying to ensure I have the most possible concurrency, so if a process wants to access recordC that should be fine (if only recordB is locked) - I use a global LOCK then it is essentially the same as locking the entire hashtable.  ... that make any sense?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1258925918,"post_id":1779813,"comment_id":1666399,"body_markdown":"@Shaitan00: The easiest way would be to have a lock within the record. Basically you want one lock associated with each record - so put it in the object.","body":"@Shaitan00: The easiest way would be to have a lock within the record. Basically you want one lock associated with each record - so put it in the object."},{"owner":{"account_id":561506,"reputation":1311,"user_id":161200,"accept_rate":55,"display_name":"Shaitan00"},"score":0,"creation_date":1258927041,"post_id":1779813,"comment_id":1666473,"body_markdown":"Obviously :)\nI assume that I do not need to manage unlocking? Meaning when it exits the {} of the .tryLock() it will automatically &amp; immediatly be unlocked correct?","body":"Obviously :) I assume that I do not need to manage unlocking? Meaning when it exits the {} of the .tryLock() it will automatically &amp; immediatly be unlocked correct?"},{"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"score":1,"creation_date":1258928576,"post_id":1779813,"comment_id":1666564,"body_markdown":"You do need to manage unlocking. See the tutorial I referenced in my answer and the unlock() method in the finally{} block","body":"You do need to manage unlocking. See the tutorial I referenced in my answer and the unlock() method in the finally{} block"},{"owner":{"account_id":561506,"reputation":1311,"user_id":161200,"accept_rate":55,"display_name":"Shaitan00"},"score":0,"creation_date":1258929972,"post_id":1779813,"comment_id":1666657,"body_markdown":"From the sample provided by Jon there is no try/catch/finally - and from reading the tryLock() the lock is aquired automatically if it returns true. So ... how do I manage the unlocking?\n\n    if (lock.tryLock()\n    {\n    do the work\n    lock.unlock();\n    }\n    else\n    {\n    throw exception locked\n    }","body":"From the sample provided by Jon there is no try/catch/finally - and from reading the tryLock() the lock is aquired automatically if it returns true. So ... how do I manage the unlocking?      if (lock.tryLock()     {     do the work     lock.unlock();     }     else     {     throw exception locked     }"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1258932615,"post_id":1779813,"comment_id":1666793,"body_markdown":"@Shaitan00: If you follow the link there&#39;s more example code. You put the try/finally inside the `if (lock.tryLock())` basically.","body":"@Shaitan00: If you follow the link there&#39;s more example code. You put the try/finally inside the <code>if (lock.tryLock())</code> basically."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":7,"down_vote_count":0,"up_vote_count":101,"is_accepted":true,"score":101,"last_activity_date":1453065769,"creation_date":1258920438,"answer_id":1779813,"question_id":1779795,"body_markdown":"One thing to note is that the *instant* you receive such information, it&#39;s stale. In other words, you could be told that no-one has the lock, but then when you try to acquire it, you block because another thread took out the lock between the check and you trying to acquire it.\r\n\r\nBrian is right to point at `Lock`, but I think what you really want is its [`tryLock`][1] method:\r\n\r\n    Lock lock = new ReentrantLock();\r\n    ......\r\n    if (lock.tryLock())\r\n    {\r\n        // Got the lock\r\n        try\r\n        {\r\n            // Process record\r\n        }\r\n        finally\r\n        {\r\n            // Make sure to unlock so that we don&#39;t cause a deadlock\r\n            lock.unlock();\r\n        }\r\n    }\r\n    else\r\n    {\r\n        // Someone else had the lock, abort\r\n    }\r\n\r\nYou can also call `tryLock` with an amount of time to wait - so you could try to acquire it for a tenth of a second, then abort if you can&#39;t get it (for example).\r\n\r\n(I think it&#39;s a pity that the Java API doesn&#39;t - as far as I&#39;m aware - provide the same functionality for the &quot;built-in&quot; locking, as the `Monitor` class does in .NET. Then again, there are plenty of other things I dislike in both platforms when it comes to threading - every object potentially having a monitor, for example!)\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/concurrent/locks/Lock.html#tryLock()\r\n","title":"How do determine if an object is locked (synchronized) so not to block in Java?","body":"<p>One thing to note is that the <em>instant</em> you receive such information, it's stale. In other words, you could be told that no-one has the lock, but then when you try to acquire it, you block because another thread took out the lock between the check and you trying to acquire it.</p>\n\n<p>Brian is right to point at <code>Lock</code>, but I think what you really want is its <a href=\"http://java.sun.com/javase/6/docs/api/java/util/concurrent/locks/Lock.html#tryLock()\" rel=\"noreferrer\"><code>tryLock</code></a> method:</p>\n\n<pre><code>Lock lock = new ReentrantLock();\n......\nif (lock.tryLock())\n{\n    // Got the lock\n    try\n    {\n        // Process record\n    }\n    finally\n    {\n        // Make sure to unlock so that we don't cause a deadlock\n        lock.unlock();\n    }\n}\nelse\n{\n    // Someone else had the lock, abort\n}\n</code></pre>\n\n<p>You can also call <code>tryLock</code> with an amount of time to wait - so you could try to acquire it for a tenth of a second, then abort if you can't get it (for example).</p>\n\n<p>(I think it's a pity that the Java API doesn't - as far as I'm aware - provide the same functionality for the \"built-in\" locking, as the <code>Monitor</code> class does in .NET. Then again, there are plenty of other things I dislike in both platforms when it comes to threading - every object potentially having a monitor, for example!)</p>\n"},{"comments":[{"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"score":0,"creation_date":1493279972,"post_id":1780399,"comment_id":74351239,"body_markdown":"If you want to have full control, you could put this in your own `Lock` class I guess.","body":"If you want to have full control, you could put this in your own <code>Lock</code> class I guess."}],"tags":[],"owner":{"account_id":62950,"reputation":3354,"user_id":186663,"display_name":"PSpeed"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1401005727,"creation_date":1258932420,"answer_id":1780399,"question_id":1779795,"body_markdown":"While the Lock answers are very good, I thought I&#39;d post an alternative using a different data structure.  Essentially, your various threads want to know which records are locked and which aren&#39;t.  One way to do this is to keep track of the locked records and make sure that data structure has the right atomic operations for adding records to the locked set.\r\n\r\nI will use CopyOnWriteArrayList as an example because it&#39;s less &quot;magic&quot; for illustration.  CopyOnWriteArraySet is a more appropriate structure.  If you have lots and lots of records locked at the same time on average then there may be performance implications with these implementations.  A properly synchronized HashSet would work too and locks are brief.\r\n\r\nBasically, usage code would look like this:\r\n\r\n    CopyOnWriteArrayList&lt;Record&gt; lockedRecords = ....\r\n    ...\r\n    if (!lockedRecords.addIfAbsent(record))\r\n        return; // didn&#39;t get the lock, record is already locked\r\n\r\n    try {\r\n        // Do the record stuff\r\n    }        \r\n    finally {\r\n        lockedRecords.remove(record);\r\n    }\r\n\r\nIt keeps you from having to manage a lock per record and provides a single place should clearing all locks be necessary for some reason.  On the other hand, if you ever have more than a handful of records then a real HashSet with synchronization may do better since the add/remove look-ups will be O(1) instead of linear.\r\n\r\nJust a different way of looking at things.  Just depends on what your actual threading requirements are.  Personally, I would use a Collections.synchronizedSet( new HashSet() ) because it will be really fast... the only implication is that threads may yield when they otherwise wouldn&#39;t have.","title":"How do determine if an object is locked (synchronized) so not to block in Java?","body":"<p>While the Lock answers are very good, I thought I'd post an alternative using a different data structure.  Essentially, your various threads want to know which records are locked and which aren't.  One way to do this is to keep track of the locked records and make sure that data structure has the right atomic operations for adding records to the locked set.</p>\n\n<p>I will use CopyOnWriteArrayList as an example because it's less \"magic\" for illustration.  CopyOnWriteArraySet is a more appropriate structure.  If you have lots and lots of records locked at the same time on average then there may be performance implications with these implementations.  A properly synchronized HashSet would work too and locks are brief.</p>\n\n<p>Basically, usage code would look like this:</p>\n\n<pre><code>CopyOnWriteArrayList&lt;Record&gt; lockedRecords = ....\n...\nif (!lockedRecords.addIfAbsent(record))\n    return; // didn't get the lock, record is already locked\n\ntry {\n    // Do the record stuff\n}        \nfinally {\n    lockedRecords.remove(record);\n}\n</code></pre>\n\n<p>It keeps you from having to manage a lock per record and provides a single place should clearing all locks be necessary for some reason.  On the other hand, if you ever have more than a handful of records then a real HashSet with synchronization may do better since the add/remove look-ups will be O(1) instead of linear.</p>\n\n<p>Just a different way of looking at things.  Just depends on what your actual threading requirements are.  Personally, I would use a Collections.synchronizedSet( new HashSet() ) because it will be really fast... the only implication is that threads may yield when they otherwise wouldn't have.</p>\n"},{"comments":[{"owner":{"account_id":50307,"reputation":17321,"user_id":150016,"accept_rate":67,"display_name":"Tom"},"score":13,"creation_date":1355447065,"post_id":9809051,"comment_id":19102999,"body_markdown":"@alestanis, I don&#39;t agree.  Here I am reading these answers today and happy for all answer/comments, no matter when they are given.","body":"@alestanis, I don&#39;t agree.  Here I am reading these answers today and happy for all answer/comments, no matter when they are given."},{"owner":{"account_id":1268813,"reputation":21599,"user_id":1225541,"accept_rate":100,"display_name":"alestanis"},"score":0,"creation_date":1355471386,"post_id":9809051,"comment_id":19108601,"body_markdown":"@Tom These answers are flagged by the SO system, that&#39;s why I left a message. You&#39;ll see when you start reviewing :)","body":"@Tom These answers are flagged by the SO system, that&#39;s why I left a message. You&#39;ll see when you start reviewing :)"},{"owner":{"account_id":50307,"reputation":17321,"user_id":150016,"accept_rate":67,"display_name":"Tom"},"score":3,"creation_date":1355506620,"post_id":9809051,"comment_id":19123925,"body_markdown":"@alestanis, I think that is unfortunate - I often see old questions that have an accepted answers, but that also have newer, better answers either because tech changes or because the accepted answer wasn&#39;t actually completely correct.","body":"@alestanis, I think that is unfortunate - I often see old questions that have an accepted answers, but that also have newer, better answers either because tech changes or because the accepted answer wasn&#39;t actually completely correct."},{"owner":{"account_id":3710550,"reputation":847,"user_id":3087999,"display_name":"vipcxj"},"score":1,"creation_date":1656932795,"post_id":9809051,"comment_id":128683828,"body_markdown":"@Tobias it&#39;s wrong. `Thread.holdsLock(object)` return true means the current thread hold the lock. However, if it return false, perhaps no thread hold the lock.","body":"@Tobias it&#39;s wrong. <code>Thread.holdsLock(object)</code> return true means the current thread hold the lock. However, if it return false, perhaps no thread hold the lock."}],"tags":[],"owner":{"account_id":1342573,"reputation":157,"user_id":1283981,"display_name":"Chris Wraith"},"comment_count":4,"down_vote_count":2,"up_vote_count":16,"is_accepted":false,"score":14,"last_activity_date":1332348151,"creation_date":1332348151,"answer_id":9809051,"question_id":1779795,"body_markdown":"Whilst the above approach using a Lock object is the best way to do it, if you have to be able to check for locking using a monitor, it can be done. However, it does come with a health warning as the technique isn&#39;t portable to non Oracle Java VMs and it may break in future VM versions as it isn&#39;t a supported public API.\r\n\r\nHere is how to do it:\r\n\r\n    private static sun.misc.Unsafe getUnsafe() {\r\n\t\ttry {\r\n\t\t\tField field = sun.misc.Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\r\n\t\t\tfield.setAccessible(true);\r\n\t\t\treturn (Unsafe) field.get(null);\r\n\t\t} catch (Exception e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t}\r\n\r\n    public void doSomething() {\r\n      Object record = new Object();\r\n      sun.misc.Unsafe unsafe = getUnsafe(); \r\n      if (unsafe.tryMonitorEnter(record)) {\r\n        try {\r\n          // record is locked - perform operations on it\r\n        } finally {\r\n          unsafe.monitorExit(record);\r\n        }\r\n      } else {\r\n          // could not lock record\r\n      }\r\n    }\r\n\r\nMy advice would be to use this approach only if you cannot refactor your code to use java.util.concurrent Lock objects for this and if you are running on an Oracle VM.","title":"How do determine if an object is locked (synchronized) so not to block in Java?","body":"<p>Whilst the above approach using a Lock object is the best way to do it, if you have to be able to check for locking using a monitor, it can be done. However, it does come with a health warning as the technique isn't portable to non Oracle Java VMs and it may break in future VM versions as it isn't a supported public API.</p>\n\n<p>Here is how to do it:</p>\n\n<pre><code>private static sun.misc.Unsafe getUnsafe() {\n    try {\n        Field field = sun.misc.Unsafe.class.getDeclaredField(\"theUnsafe\");\n        field.setAccessible(true);\n        return (Unsafe) field.get(null);\n    } catch (Exception e) {\n        throw new RuntimeException(e);\n    }\n}\n\npublic void doSomething() {\n  Object record = new Object();\n  sun.misc.Unsafe unsafe = getUnsafe(); \n  if (unsafe.tryMonitorEnter(record)) {\n    try {\n      // record is locked - perform operations on it\n    } finally {\n      unsafe.monitorExit(record);\n    }\n  } else {\n      // could not lock record\n  }\n}\n</code></pre>\n\n<p>My advice would be to use this approach only if you cannot refactor your code to use java.util.concurrent Lock objects for this and if you are running on an Oracle VM.</p>\n"},{"tags":[],"owner":{"account_id":380073,"reputation":283,"user_id":733861,"accept_rate":83,"display_name":"Rahul Kulshreshtha"},"comment_count":0,"down_vote_count":4,"up_vote_count":20,"is_accepted":false,"score":16,"last_activity_date":1544356218,"creation_date":1421752433,"answer_id":28043943,"question_id":1779795,"body_markdown":"I found this, we can use [`Thread.holdsLock(Object obj)`](http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#holdsLock-java.lang.Object-) to check if an object is locked:\r\n\r\n&gt;Returns `true` if and only if the current thread holds the monitor lock on the specified object.\r\n\r\nNote that `Thread.holdsLock()` returns `false` if the lock is held by *something* and the calling thread isn&#39;t the thread that holds the lock.","title":"How do determine if an object is locked (synchronized) so not to block in Java?","body":"<p>I found this, we can use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#holdsLock-java.lang.Object-\" rel=\"noreferrer\"><code>Thread.holdsLock(Object obj)</code></a> to check if an object is locked:</p>\n\n<blockquote>\n  <p>Returns <code>true</code> if and only if the current thread holds the monitor lock on the specified object.</p>\n</blockquote>\n\n<p>Note that <code>Thread.holdsLock()</code> returns <code>false</code> if the lock is held by <em>something</em> and the calling thread isn't the thread that holds the lock.</p>\n"},{"tags":[],"owner":{"account_id":363131,"reputation":2750,"user_id":706695,"accept_rate":78,"display_name":"HRgiger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1464948613,"creation_date":1464948613,"answer_id":37611553,"question_id":1779795,"body_markdown":"Another workaround is (in case of you didnt have chance with the answers given here )is using timeouts. i.e. below one will return null after 1 second hanging:\r\n\r\n    ExecutorService executor = Executors.newSingleThreadExecutor();\r\n            //create a callable for the thread\r\n            Future&lt;String&gt; futureTask = executor.submit(new Callable&lt;String&gt;() {\r\n                @Override\r\n                public String call() throws Exception {\r\n                    return myObject.getSomething();\r\n                }\r\n            });\r\n            \r\n            try {\r\n                return futureTask.get(1000, TimeUnit.MILLISECONDS);\r\n            } catch (InterruptedException | ExecutionException | TimeoutException e) {\r\n                //object is already locked check exception type\r\n                return null;\r\n            }","title":"How do determine if an object is locked (synchronized) so not to block in Java?","body":"<p>Another workaround is (in case of you didnt have chance with the answers given here )is using timeouts. i.e. below one will return null after 1 second hanging:</p>\n\n<pre><code>ExecutorService executor = Executors.newSingleThreadExecutor();\n        //create a callable for the thread\n        Future&lt;String&gt; futureTask = executor.submit(new Callable&lt;String&gt;() {\n            @Override\n            public String call() throws Exception {\n                return myObject.getSomething();\n            }\n        });\n\n        try {\n            return futureTask.get(1000, TimeUnit.MILLISECONDS);\n        } catch (InterruptedException | ExecutionException | TimeoutException e) {\n            //object is already locked check exception type\n            return null;\n        }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1259218,"reputation":2475,"user_id":1218010,"display_name":"Ajax"},"score":5,"creation_date":1507144976,"post_id":39508580,"comment_id":80098889,"body_markdown":"using synchronized on a lock object is very, very bad.  The whole point of a lock is to avoid synchronized, so you can timeout or return quickly when you can&#39;t get the lock.","body":"using synchronized on a lock object is very, very bad.  The whole point of a lock is to avoid synchronized, so you can timeout or return quickly when you can&#39;t get the lock."},{"owner":{"account_id":914346,"reputation":1030,"user_id":947488,"display_name":"Stefan Reich"},"score":1,"creation_date":1674309679,"post_id":39508580,"comment_id":132689510,"body_markdown":"I don&#39;t even understand what you are trying to improve here. You are not adding anything over simply using tryLock.","body":"I don&#39;t even understand what you are trying to improve here. You are not adding anything over simply using tryLock."}],"tags":[],"owner":{"account_id":1453150,"reputation":757,"user_id":1369474,"display_name":"The Schwartz"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1478007637,"creation_date":1473934624,"answer_id":39508580,"question_id":1779795,"body_markdown":"Thanks for this, it helped me out solving a race condition. I changed it a little to wear both belt and suspenders.\r\n\r\n**So here is my suggestion for AN IMPROVEMENT of the accepted answer:**\r\n\r\nYou can ensure that you get safe access to the `tryLock()` method by doing something like this:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n\r\n      Lock localLock = new ReentrantLock();\r\n    \r\n      private void threadSafeCall() {\r\n        boolean isUnlocked = false;\r\n        \r\n        synchronized(localLock) {\r\n          isUnlocked = localLock.tryLock();\r\n        }\r\n        \r\n        if (isUnlocked) {\r\n          try {\r\n            rawCall();\r\n          }\r\n          finally {\r\n            localLock.unlock();\r\n          }\r\n        } else {\r\n          LOGGER.log(Level.INFO, &quot;THANKS! - SAVED FROM DOUBLE CALL!&quot;);\r\n        }\r\n      }\r\n\r\nThis would avoid the situation where you might get two calling `tryLock()` at the almost same time, causing the return to be potentially doubt full. I&#39;d like to now if I&#39;m wrong, I might be over cautios here. But hey! My gig is stable now :-)..\r\n\r\nRead more on my development issues at my [Blog][1].\r\n\r\n\r\n  [1]: http://theengine.schwartzengine.com/#home","title":"How do determine if an object is locked (synchronized) so not to block in Java?","body":"<p>Thanks for this, it helped me out solving a race condition. I changed it a little to wear both belt and suspenders.</p>\n\n<p><strong>So here is my suggestion for AN IMPROVEMENT of the accepted answer:</strong></p>\n\n<p>You can ensure that you get safe access to the <code>tryLock()</code> method by doing something like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>  Lock localLock = new ReentrantLock();\n\n  private void threadSafeCall() {\n    boolean isUnlocked = false;\n\n    synchronized(localLock) {\n      isUnlocked = localLock.tryLock();\n    }\n\n    if (isUnlocked) {\n      try {\n        rawCall();\n      }\n      finally {\n        localLock.unlock();\n      }\n    } else {\n      LOGGER.log(Level.INFO, \"THANKS! - SAVED FROM DOUBLE CALL!\");\n    }\n  }\n</code></pre>\n\n<p>This would avoid the situation where you might get two calling <code>tryLock()</code> at the almost same time, causing the return to be potentially doubt full. I'd like to now if I'm wrong, I might be over cautios here. But hey! My gig is stable now :-)..</p>\n\n<p>Read more on my development issues at my <a href=\"http://theengine.schwartzengine.com/#home\" rel=\"nofollow noreferrer\">Blog</a>.</p>\n"},{"tags":[],"owner":{"account_id":7962844,"reputation":155,"user_id":6010052,"display_name":"jhyry-gcpud"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617912630,"creation_date":1617837331,"answer_id":66995325,"question_id":1779795,"body_markdown":"I needed to also find a solution to this, so searched the Java Concurrency API and came across [StampedLock][1]. The project is using Java 8.\r\nI am working in a heavily-threaded asynchronous data service that communicates with a native library and contains long-living configuration objects, necessitating sometimes-complex concurrency logic; thankfully this turned out to be relatively simple with the StampedLock class.\r\n\r\nStampedLock has a method called [tryOptimisticRead][2] which does not wait, it just returns the status in the form of a long-time time stamp, where zero (0) indicates an exclusive lock is held. I then do delay for up to a second but you could just use the function without any sort of delay.\r\n\r\nHere&#39;s how I&#39;m detecting whether or not there&#39;s an exclusive lock, this paradigm is used in multiple locations and includes error handling:\r\n\r\n        int delayCount = 0;\r\n\r\n        //Makes sure that if there is data being written to this field at\r\n        // this moment, wait until the operation is finished writing the\r\n        // updated data.\r\n        while (data1StampedLock.tryOptimisticRead() == 0)\r\n        {\r\n            try\r\n            {\r\n                delay(WRITE_LOCK_SHORT_DELAY);\r\n                delayCount += 1;\r\n            }\r\n            catch (InterruptedException e)\r\n            {\r\n                logError(&quot;Interrupted while waiting for the write lock to be\r\n                           released!&quot;, e);\r\n                Thread.currentThread().interrupt();\r\n\r\n                //There may be an issue with the JVM if this occurs, treat\r\n                // it like we might crash and try to release the write lock.\r\n                data1StampedLock.tryUnlockWrite();\r\n                break;\r\n            }\r\n\r\n            if (delayCount * WRITE_LOCK_SHORT_DELAY &gt; TimeUnit.SECONDS.toMillis(1))\r\n            {\r\n                logWarningWithAlert(&quot;Something is holding a write lock on&quot; +\r\n                    &quot; the data for a very, very long time (&gt;1s). This may&quot; +\r\n                    &quot; indicate a problem that could cause cascading&quot; +\r\n                    &quot; problems in the near future.&quot; +\r\n                    &quot; Also, the value for the data that is about to be&quot; +\r\n                    &quot; retrieved could potentially be invalid.&quot;);\r\n                break;\r\n            }\r\n        }\r\n\r\n        long nonExclusiveLockStamp = data1StampedLock.readLock();\r\n        Data data1NonVolatile = data1;\r\n        data1StampedLock.unlockRead(nonExclusiveLockStamp);\r\n        \r\n        return data1NonVolatile;\r\n\r\nThe read locks on a StampedLock are non-exclusive and are like reading from a thread-safe Map or HashTable, where it is multi-read/single-write.\r\n\r\nHere is how I am using the exclusive lock to communicate to other threads that the instance data is being written to:\r\n\r\n        long d1LockStamp = data1StampedLock.writeLock();\r\n        this.data1 = data1;\r\n        data1StampedLock.unlockWrite(d1LockStamp);\r\n\r\nSo if you wanted to only check whether or not something is locked at any given moment, you need only something simple like the following statement to get the status:\r\n\r\n        boolean data1IsLocked = data1StampedLock.tryOptimisticRead() == 0;\r\n\r\nThen check the value of that boolean.\r\n\r\nThere are, of course, the caveats and Here Be Dragons information mentioned in other answers (namely that the information is immediately stale), but if you really need to lock something and check that lock from another thread, this seemed to me to be the most reasonable, safe, and effective way that uses the java.util.concurrency package with no external dependencies.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/locks/StampedLock.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/locks/StampedLock.html#tryOptimisticRead--","title":"How do determine if an object is locked (synchronized) so not to block in Java?","body":"<p>I needed to also find a solution to this, so searched the Java Concurrency API and came across <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/locks/StampedLock.html\" rel=\"nofollow noreferrer\">StampedLock</a>. The project is using Java 8.\nI am working in a heavily-threaded asynchronous data service that communicates with a native library and contains long-living configuration objects, necessitating sometimes-complex concurrency logic; thankfully this turned out to be relatively simple with the StampedLock class.</p>\n<p>StampedLock has a method called <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/locks/StampedLock.html#tryOptimisticRead--\" rel=\"nofollow noreferrer\">tryOptimisticRead</a> which does not wait, it just returns the status in the form of a long-time time stamp, where zero (0) indicates an exclusive lock is held. I then do delay for up to a second but you could just use the function without any sort of delay.</p>\n<p>Here's how I'm detecting whether or not there's an exclusive lock, this paradigm is used in multiple locations and includes error handling:</p>\n<pre><code>    int delayCount = 0;\n\n    //Makes sure that if there is data being written to this field at\n    // this moment, wait until the operation is finished writing the\n    // updated data.\n    while (data1StampedLock.tryOptimisticRead() == 0)\n    {\n        try\n        {\n            delay(WRITE_LOCK_SHORT_DELAY);\n            delayCount += 1;\n        }\n        catch (InterruptedException e)\n        {\n            logError(&quot;Interrupted while waiting for the write lock to be\n                       released!&quot;, e);\n            Thread.currentThread().interrupt();\n\n            //There may be an issue with the JVM if this occurs, treat\n            // it like we might crash and try to release the write lock.\n            data1StampedLock.tryUnlockWrite();\n            break;\n        }\n\n        if (delayCount * WRITE_LOCK_SHORT_DELAY &gt; TimeUnit.SECONDS.toMillis(1))\n        {\n            logWarningWithAlert(&quot;Something is holding a write lock on&quot; +\n                &quot; the data for a very, very long time (&gt;1s). This may&quot; +\n                &quot; indicate a problem that could cause cascading&quot; +\n                &quot; problems in the near future.&quot; +\n                &quot; Also, the value for the data that is about to be&quot; +\n                &quot; retrieved could potentially be invalid.&quot;);\n            break;\n        }\n    }\n\n    long nonExclusiveLockStamp = data1StampedLock.readLock();\n    Data data1NonVolatile = data1;\n    data1StampedLock.unlockRead(nonExclusiveLockStamp);\n    \n    return data1NonVolatile;\n</code></pre>\n<p>The read locks on a StampedLock are non-exclusive and are like reading from a thread-safe Map or HashTable, where it is multi-read/single-write.</p>\n<p>Here is how I am using the exclusive lock to communicate to other threads that the instance data is being written to:</p>\n<pre><code>    long d1LockStamp = data1StampedLock.writeLock();\n    this.data1 = data1;\n    data1StampedLock.unlockWrite(d1LockStamp);\n</code></pre>\n<p>So if you wanted to only check whether or not something is locked at any given moment, you need only something simple like the following statement to get the status:</p>\n<pre><code>    boolean data1IsLocked = data1StampedLock.tryOptimisticRead() == 0;\n</code></pre>\n<p>Then check the value of that boolean.</p>\n<p>There are, of course, the caveats and Here Be Dragons information mentioned in other answers (namely that the information is immediately stale), but if you really need to lock something and check that lock from another thread, this seemed to me to be the most reasonable, safe, and effective way that uses the java.util.concurrency package with no external dependencies.</p>\n"},{"tags":[],"owner":{"account_id":20459968,"reputation":11,"user_id":15012833,"display_name":"Furkan Uyanik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700834259,"creation_date":1700834259,"answer_id":77543661,"question_id":1779795,"body_markdown":"If you just want to find out whether it is locked or not, you can use the code below.\r\n\r\n    public boolean isLocked() {\r\n      try {\r\n        return lock.tryLock();\r\n      } finally {\r\n        lock.unlock();\r\n      }\r\n    }","title":"How do determine if an object is locked (synchronized) so not to block in Java?","body":"<p>If you just want to find out whether it is locked or not, you can use the code below.</p>\n<pre><code>public boolean isLocked() {\n  try {\n    return lock.tryLock();\n  } finally {\n    lock.unlock();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":561506,"reputation":1311,"user_id":161200,"accept_rate":55,"display_name":"Shaitan00"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70934,"favorite_count":0,"down_vote_count":0,"up_vote_count":87,"accepted_answer_id":1779813,"answer_count":9,"score":87,"last_activity_date":1700834259,"creation_date":1258920018,"question_id":1779795,"body_markdown":"I have a process A that contains a table in memory with a set of records (recordA, recordB, etc...)\r\n\r\nNow, this process can launch many threads that affect the records, and sometimes we can have 2 threads trying to access the same record - this situation must be denied. Specifically if a record is LOCKED by one thread I want the other thread to abort (I do not want to BLOCK or WAIT).\r\n\r\nCurrently I do something like this:\r\n\r\n    synchronized(record)\r\n    {\r\n    performOperation(record);\r\n    }\r\n\r\nBut this is causing me problems ... because while Process1 is performing the operation, if Process2 comes in it blocks/waits on the synchronized statement and when Process1 is finished it performs the operation. Instead I want something like this:\r\n\r\n    if (record is locked)\r\n       return;\r\n\r\n    synchronized(record)\r\n    {\r\n    performOperation(record);\r\n    }\r\n\r\nAny clues on how this can be accomplished?\r\nAny help would be much appreciated.\r\nThanks,","title":"How do determine if an object is locked (synchronized) so not to block in Java?","body":"<p>I have a process A that contains a table in memory with a set of records (recordA, recordB, etc...)</p>\n\n<p>Now, this process can launch many threads that affect the records, and sometimes we can have 2 threads trying to access the same record - this situation must be denied. Specifically if a record is LOCKED by one thread I want the other thread to abort (I do not want to BLOCK or WAIT).</p>\n\n<p>Currently I do something like this:</p>\n\n<pre><code>synchronized(record)\n{\nperformOperation(record);\n}\n</code></pre>\n\n<p>But this is causing me problems ... because while Process1 is performing the operation, if Process2 comes in it blocks/waits on the synchronized statement and when Process1 is finished it performs the operation. Instead I want something like this:</p>\n\n<pre><code>if (record is locked)\n   return;\n\nsynchronized(record)\n{\nperformOperation(record);\n}\n</code></pre>\n\n<p>Any clues on how this can be accomplished?\nAny help would be much appreciated.\nThanks,</p>\n"},{"tags":["java","generics","enums","enum-map"],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1700833777,"creation_date":1700833777,"answer_id":77543617,"question_id":77543585,"body_markdown":"It&#39;s not possible to use `E.class`. You need to save the class instance somehow - since the class is generic, instance variable is good choice, and then instantiate the map using the instance variable as parameter.\r\n```\r\npublic class SomeClass&lt;E extends Enum&lt;E&gt;&gt; {\r\n\r\n  private final Class&lt;E&gt; clazz;\r\n\r\n  public SomeClass(Class&lt;E&gt; clazz) {\r\n    this.clazz = clazz;\r\n  }\r\n\r\n  public void someMethod() {\r\n    Map&lt;E, Long&gt; resultMap = new EnumMap&lt;&gt;(this.clazz);\r\n  }\r\n}\r\n```","title":"Create EnumMap from generic enum","body":"<p>It's not possible to use <code>E.class</code>. You need to save the class instance somehow - since the class is generic, instance variable is good choice, and then instantiate the map using the instance variable as parameter.</p>\n<pre><code>public class SomeClass&lt;E extends Enum&lt;E&gt;&gt; {\n\n  private final Class&lt;E&gt; clazz;\n\n  public SomeClass(Class&lt;E&gt; clazz) {\n    this.clazz = clazz;\n  }\n\n  public void someMethod() {\n    Map&lt;E, Long&gt; resultMap = new EnumMap&lt;&gt;(this.clazz);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700833839,"creation_date":1700833839,"answer_id":77543625,"question_id":77543585,"body_markdown":"You can create a constructor that take a `Class&lt;E&gt;`, and then use the param to init your map like this:\r\n\r\n    public class SomeClass&lt;E extends Enum&lt;E&gt;&gt; {\r\n    \r\n        private Class&lt;E&gt; enumClass;\r\n        \r\n        public SomeClass(Class&lt;E&gt; enumClass) {\r\n            this.enumClass = enumClass;\r\n        }\r\n        \r\n        public void someMethod() {\r\n            Map&lt;E, Long&gt; resultMap = new EnumMap&lt;&gt;(enumClass);\r\n            // .....\r\n        }\r\n    }\r\n\r\nthen you can use your class for example like this:\r\n\r\n    SomeClass&lt;SomeEnum&gt; someObject = new SomeClass&lt;&gt;(SomeEnum.class);\r\n    someObject.someMethod();\r\n","title":"Create EnumMap from generic enum","body":"<p>You can create a constructor that take a <code>Class&lt;E&gt;</code>, and then use the param to init your map like this:</p>\n<pre><code>public class SomeClass&lt;E extends Enum&lt;E&gt;&gt; {\n\n    private Class&lt;E&gt; enumClass;\n    \n    public SomeClass(Class&lt;E&gt; enumClass) {\n        this.enumClass = enumClass;\n    }\n    \n    public void someMethod() {\n        Map&lt;E, Long&gt; resultMap = new EnumMap&lt;&gt;(enumClass);\n        // .....\n    }\n}\n</code></pre>\n<p>then you can use your class for example like this:</p>\n<pre><code>SomeClass&lt;SomeEnum&gt; someObject = new SomeClass&lt;&gt;(SomeEnum.class);\nsomeObject.someMethod();\n</code></pre>\n"}],"owner":{"account_id":26752,"reputation":761,"user_id":69888,"accept_rate":50,"display_name":"manuna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77543617,"answer_count":2,"score":1,"last_activity_date":1700833839,"creation_date":1700833479,"question_id":77543585,"body_markdown":"I have a class parametrized with generic enum, like this:\r\n\r\n    public class SomeClass&lt;E extends Enum&lt;E&gt;&gt; {\r\n      public void someMethod( ) {\r\n        // I want to initiate a map like this:\r\n        Map&lt;E, Long&gt; resultMap = new EnumMap&lt;&gt;(E.class);\r\n        //.....\r\n      }\r\n    }\r\nHowever, the ``EnumMap`` constructor says the following error: &quot;Cannot access class object of a type parameter&quot;.\r\n\r\nWhat is the right way to initialize EnumMap in this case?\r\n","title":"Create EnumMap from generic enum","body":"<p>I have a class parametrized with generic enum, like this:</p>\n<pre><code>public class SomeClass&lt;E extends Enum&lt;E&gt;&gt; {\n  public void someMethod( ) {\n    // I want to initiate a map like this:\n    Map&lt;E, Long&gt; resultMap = new EnumMap&lt;&gt;(E.class);\n    //.....\n  }\n}\n</code></pre>\n<p>However, the <code>EnumMap</code> constructor says the following error: &quot;Cannot access class object of a type parameter&quot;.</p>\n<p>What is the right way to initialize EnumMap in this case?</p>\n"},{"tags":["java","xml","amazon-web-services","amazon-s3","quarkus"],"comments":[{"owner":{"account_id":16136503,"reputation":71,"user_id":11648839,"display_name":"Gilles"},"score":0,"creation_date":1700829565,"post_id":77543180,"comment_id":136704082,"body_markdown":"Without code it&#39;s pretty hard to tell. But it&#39;s possible that you&#39;re not closing properly the input stream after you processed it in your `validateFile` method ? Do you use a *try with resource* or a classic *try catch finally* ?","body":"Without code it&#39;s pretty hard to tell. But it&#39;s possible that you&#39;re not closing properly the input stream after you processed it in your <code>validateFile</code> method ? Do you use a <i>try with resource</i> or a classic <i>try catch finally</i> ?"},{"owner":{"account_id":21085935,"reputation":63,"user_id":15499060,"display_name":"Shivam"},"score":0,"creation_date":1700829780,"post_id":77543180,"comment_id":136704117,"body_markdown":"I am closing it. I use the try catch finally.","body":"I am closing it. I use the try catch finally."},{"owner":{"account_id":16136503,"reputation":71,"user_id":11648839,"display_name":"Gilles"},"score":0,"creation_date":1700831417,"post_id":77543180,"comment_id":136704419,"body_markdown":"Maybe reseting the stream after processing it will help: https://stackoverflow.com/a/21434748/11648839","body":"Maybe reseting the stream after processing it will help: <a href=\"https://stackoverflow.com/a/21434748/11648839\">stackoverflow.com/a/21434748/11648839</a>"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1700843208,"post_id":77543180,"comment_id":136706330,"body_markdown":"You&#39;ve mentioned, _&quot;...This issue arises when we add the validateFile method. Previously it was working fine. ...&quot;_.  Can you provide the code you were using previously?","body":"You&#39;ve mentioned, <i>&quot;...This issue arises when we add the validateFile method. Previously it was working fine. ...&quot;</i>.  Can you provide the code you were using previously?"}],"answers":[{"tags":[],"owner":{"account_id":8333120,"reputation":832,"user_id":12868186,"display_name":"wpnpeiris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700833836,"creation_date":1700833336,"answer_id":77543570,"question_id":77543180,"body_markdown":"You cannot read multiple times from an `InptutStream`.\r\n\r\nAs I see, it tries to save the file reading the same InputStream that was passed to `validateFile(dto.getStream());` \r\n\r\nWithin `validateFile(...)` it uses XML schema validation, which requires to read the InputStream. So, when it returns from `validateFile(...)`, input stream is already closed.\r\n\r\nSo basically, `validateFile(...)` should return a copy of same &#39;InputStream&#39;, and use it to save in S3.\r\n\r\n\r\nSomething like the following;\r\n```\r\npublic Response save(Request dto){\r\n   InputStream validatedInputStream = validateFile(dto.getStream());\r\n   saveToS3(validatedInputStream);\r\n}\r\n```\r\nAssuming `validateFile(...)` returns a new InputStream (it could be a copy of the origninal InputStream from the `Request.stream` or a new InputStream generated as part of the validation process).","title":"Corrupting Input Stream while validating it make it 0 byte during storing in s3","body":"<p>You cannot read multiple times from an <code>InptutStream</code>.</p>\n<p>As I see, it tries to save the file reading the same InputStream that was passed to <code>validateFile(dto.getStream());</code></p>\n<p>Within <code>validateFile(...)</code> it uses XML schema validation, which requires to read the InputStream. So, when it returns from <code>validateFile(...)</code>, input stream is already closed.</p>\n<p>So basically, <code>validateFile(...)</code> should return a copy of same 'InputStream', and use it to save in S3.</p>\n<p>Something like the following;</p>\n<pre><code>public Response save(Request dto){\n   InputStream validatedInputStream = validateFile(dto.getStream());\n   saveToS3(validatedInputStream);\n}\n</code></pre>\n<p>Assuming <code>validateFile(...)</code> returns a new InputStream (it could be a copy of the origninal InputStream from the <code>Request.stream</code> or a new InputStream generated as part of the validation process).</p>\n"}],"owner":{"account_id":21085935,"reputation":63,"user_id":15499060,"display_name":"Shivam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1700833836,"creation_date":1700829196,"question_id":77543180,"body_markdown":"We have a application in which we are sending file of content type: form-data then we are retrieving it, we mapped it to a custom class as Input Stream\r\n ```\r\npublic class Request{\r\n    InputStream stream;\r\n    public InputStream getStream() {\r\n        return stream;\r\n    }\r\n\r\n    public void setStream(InputStream stream) {\r\n        this.stream= stream;\r\n    }\r\n}\r\n```\r\nNow we serve this as dto. \r\nAnd in the second class we have a method in which we are putting it into s3 an inside this method we call another method to validate the content of this file.\r\n```\r\npublic Response save(Request dto){\r\n   validateFile(dto.getStream());\r\n    // save file in s3 by converting it into readingAllBytes for input stream\r\n}\r\n\r\npublic void validateFile(InputStream dto){\r\n   // For this i can&#39;t put the code.\r\n   // In here we are have a code to validate the xml file content using the DocuemtnBuilder Factory\r\n// can follow this https://docs.oracle.com/javase%2Ftutorial%2F/jaxp/dom/validating.html\r\n}\r\n```\r\n\r\nNow when i saw the file in s3 there is file created but no data inside. \r\nThis issue arises when we add the validateFile method. Previously it was working fine.\r\n\r\n","title":"Corrupting Input Stream while validating it make it 0 byte during storing in s3","body":"<p>We have a application in which we are sending file of content type: form-data then we are retrieving it, we mapped it to a custom class as Input Stream</p>\n<pre><code>public class Request{\n   InputStream stream;\n   public InputStream getStream() {\n       return stream;\n   }\n\n   public void setStream(InputStream stream) {\n       this.stream= stream;\n   }\n}\n</code></pre>\n<p>Now we serve this as dto.\nAnd in the second class we have a method in which we are putting it into s3 an inside this method we call another method to validate the content of this file.</p>\n<pre><code>public Response save(Request dto){\n   validateFile(dto.getStream());\n    // save file in s3 by converting it into readingAllBytes for input stream\n}\n\npublic void validateFile(InputStream dto){\n   // For this i can't put the code.\n   // In here we are have a code to validate the xml file content using the DocuemtnBuilder Factory\n// can follow this https://docs.oracle.com/javase%2Ftutorial%2F/jaxp/dom/validating.html\n}\n</code></pre>\n<p>Now when i saw the file in s3 there is file created but no data inside.\nThis issue arises when we add the validateFile method. Previously it was working fine.</p>\n"},{"tags":["java","kotlin","completable-future"],"comments":[{"owner":{"account_id":14722107,"reputation":5143,"user_id":10632369,"display_name":"tomerpacific"},"score":1,"creation_date":1700834671,"post_id":77543604,"comment_id":136704974,"body_markdown":"Does [this](https://stackoverflow.com/questions/40593837/usage-of-completablefutures-exceptionally-method-in-kotlin) help/","body":"Does <a href=\"https://stackoverflow.com/questions/40593837/usage-of-completablefutures-exceptionally-method-in-kotlin\">this</a> help/"},{"owner":{"account_id":5418581,"reputation":347,"user_id":4313009,"display_name":"Alfredo Tost&#243;n"},"score":0,"creation_date":1700837541,"post_id":77543604,"comment_id":136705469,"body_markdown":"Wow, I could have sworn I had already tried returning `null`. Simply putting `null` in the last line inside the lambda does the job. Thanks!","body":"Wow, I could have sworn I had already tried returning <code>null</code>. Simply putting <code>null</code> in the last line inside the lambda does the job. Thanks!"}],"owner":{"account_id":5418581,"reputation":347,"user_id":4313009,"display_name":"Alfredo Tost&#243;n"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700833646,"creation_date":1700833646,"question_id":77543604,"body_markdown":"I am using `CompletableFuture` from `java9.util.concurrent` package in Kotlin, and it has a method `exceptionally` that receives a function `(Throwable) -&gt; Void!` that is called when I call `completeExceptionally`.\r\n\r\nIf I try a call like this:\r\n\r\n```kotlin\r\nmyCompletableFuture.exceptionally { exception -&gt;\r\n    doSomethingWith(exception)\r\n}\r\n```\r\n\r\nThe IDE complains about that I am returning `Unit` and I should be returning `Void!`.\r\n\r\nI have tried also the following:\r\n\r\n```kotlin\r\nmyCompletableFuture.exceptionally { exception -&gt;\r\n    doSomethingWith(exception)\r\n    val returnValue: Void by Delegates.notNull()\r\n    returnValue\r\n}\r\n```\r\n\r\nBut when executed, it throws a `java.lang.IllegalStateException` with the message `Property returnValue should be initialized before get`:\r\n\r\n```\r\njava.lang.IllegalStateException: Property returnValue should be initialized before get.\r\n\tat kotlin.properties.NotNullVar.getValue(Delegates.kt:62)\r\n```\r\n\r\nShould I avoid using `CompletableFuture`s at all, or there is a workarround os some kind to deal with this problem?","title":"How to get a Void value in Kotlin for returning functions that requires it","body":"<p>I am using <code>CompletableFuture</code> from <code>java9.util.concurrent</code> package in Kotlin, and it has a method <code>exceptionally</code> that receives a function <code>(Throwable) -&gt; Void!</code> that is called when I call <code>completeExceptionally</code>.</p>\n<p>If I try a call like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>myCompletableFuture.exceptionally { exception -&gt;\n    doSomethingWith(exception)\n}\n</code></pre>\n<p>The IDE complains about that I am returning <code>Unit</code> and I should be returning <code>Void!</code>.</p>\n<p>I have tried also the following:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>myCompletableFuture.exceptionally { exception -&gt;\n    doSomethingWith(exception)\n    val returnValue: Void by Delegates.notNull()\n    returnValue\n}\n</code></pre>\n<p>But when executed, it throws a <code>java.lang.IllegalStateException</code> with the message <code>Property returnValue should be initialized before get</code>:</p>\n<pre><code>java.lang.IllegalStateException: Property returnValue should be initialized before get.\n    at kotlin.properties.NotNullVar.getValue(Delegates.kt:62)\n</code></pre>\n<p>Should I avoid using <code>CompletableFuture</code>s at all, or there is a workarround os some kind to deal with this problem?</p>\n"},{"tags":["java","spring","spring-boot","spring-batch","spring-cloud"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1701082559,"post_id":77543555,"comment_id":136726657,"body_markdown":"`I was using Spring batch (3.1.0)`: There is no version 3.1.0 of Spring Batch, the 3.x line stopped at 3.0.10. Do you mean Spring Batch 3.0.10 or is it Spring Boot 3.1.0? Please check this and also share the version that you upgraded to, to be able to tell what has changed between the two versions.","body":"<code>I was using Spring batch (3.1.0)</code>: There is no version 3.1.0 of Spring Batch, the 3.x line stopped at 3.0.10. Do you mean Spring Batch 3.0.10 or is it Spring Boot 3.1.0? Please check this and also share the version that you upgraded to, to be able to tell what has changed between the two versions."},{"owner":{"account_id":10825123,"reputation":117,"user_id":7961246,"display_name":"Safwan Muhammed"},"score":0,"creation_date":1701082811,"post_id":77543555,"comment_id":136726699,"body_markdown":"@MahmoudBenHassine Basically it is 3.x version.","body":"@MahmoudBenHassine Basically it is 3.x version."},{"owner":{"account_id":10825123,"reputation":117,"user_id":7961246,"display_name":"Safwan Muhammed"},"score":0,"creation_date":1701083195,"post_id":77543555,"comment_id":136726764,"body_markdown":"Update : GoogleStorageResource instead of Resource resolved this particular exception. Currently I am facing issue with custom writing. Using your approach https://stackoverflow.com/questions/50685891/spring-batch-file-writer-to-write-directly-to-amazon-s3-storage-without-putobjec file is being writing over and over again in bucket. I need to write the final output file in bucket rather than each chunk. @MahmoudBenHassine","body":"Update : GoogleStorageResource instead of Resource resolved this particular exception. Currently I am facing issue with custom writing. Using your approach <a href=\"https://stackoverflow.com/questions/50685891/spring-batch-file-writer-to-write-directly-to-amazon-s3-storage-without-putobjec\" title=\"spring batch file writer to write directly to amazon s3 storage without putobjec\">stackoverflow.com/questions/50685891/&hellip;</a> file is being writing over and over again in bucket. I need to write the final output file in bucket rather than each chunk. @MahmoudBenHassine"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1701088691,"post_id":77543555,"comment_id":136727674,"body_markdown":"Good to hear using `GoogleStorageResource` solved the issue. May be add an answer with that so that people in the same situation know how you resolved the issue. Regarding `Using your approach file is being writing over and over again in bucket. I need to write the final output file in bucket rather than each chunk.`: I did not try that writer, just gave it as a starting point. Have you tried to extract the output stream from the write method? I will update that answer accordingly.","body":"Good to hear using <code>GoogleStorageResource</code> solved the issue. May be add an answer with that so that people in the same situation know how you resolved the issue. Regarding <code>Using your approach file is being writing over and over again in bucket. I need to write the final output file in bucket rather than each chunk.</code>: I did not try that writer, just gave it as a starting point. Have you tried to extract the output stream from the write method? I will update that answer accordingly."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":1,"creation_date":1701089096,"post_id":77543555,"comment_id":136727736,"body_markdown":"I updated the answer: https://stackoverflow.com/a/54947585/5019386. Hope it helps now.","body":"I updated the answer: <a href=\"https://stackoverflow.com/a/54947585/5019386\">stackoverflow.com/a/54947585/5019386</a>. Hope it helps now."}],"owner":{"account_id":10825123,"reputation":117,"user_id":7961246,"display_name":"Safwan Muhammed"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700833198,"creation_date":1700833198,"question_id":77543555,"body_markdown":"I was using Spring batch (3.1.0) for my project. The requirement is to write the output file directly to GCP bucket. Using custom writer\r\n```\r\npublic class GSWriter implements ItemWriter&lt;String&gt; {\r\n\r\n    private ResourceLoader resourceLoader;\r\n    private WritableResource resource;\r\n\r\npublic GSWriter(ResourceLoader resourceLoader, String resource) {\r\n        this.resourceLoader = resourceLoader;\r\n        this.resource = (WritableResource) this.resourceLoader.getResource(resource);\r\n    }\r\n\r\n@Override\r\n    public void write(Chunk&lt;? extends String&gt; items) throws Exception {\r\n\r\n        try (OutputStream outputStream = resource.getOutputStream()) {\r\n            items.forEach((item) -&gt; {\r\n                try {\r\n                    outputStream.write(item.getBytes());\r\n                } catch (IOException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n```\r\nWhen I pass the resource URL(gs://{BUCKET_NAME}/{file.csv}) getting the ClassCastException.\r\n```\r\njava.base/java.lang.Thread.run(Thread.java:833)\\r\\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.equifax.dfca.cdms.configuration.GSWriter]: Factory method \\u0027writer\\u0027 threw exception with message: class org.springframework.web.context.support.ServletContextResource cannot be cast to class org.springframework.core.io.WritableResource (org.springframework.web.context.support.ServletContextResource and org.springframework.core.io.WritableResource are in unnamed module of loader \\u0027app\\u0027)\\r\\n\\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)\\r\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)\\r\\n\\t... 25 common frames omitted\\r\\nCaused by: java.lang.ClassCastException: class org.springframework.web.context.support.ServletContextResource cannot be cast to class org.springframework.core.io.WritableResource (org.springframework.web.context.support.ServletContextResource and org.springframework.core.io.WritableResource are in unnamed module of loader \\u0027app\\u0027)\\r\\n\\tat \r\n```","title":"class org.springframework.web.context.support.ServletContextResource cannot be cast to class org.springframework.core.io.WritableResource","body":"<p>I was using Spring batch (3.1.0) for my project. The requirement is to write the output file directly to GCP bucket. Using custom writer</p>\n<pre><code>public class GSWriter implements ItemWriter&lt;String&gt; {\n\n    private ResourceLoader resourceLoader;\n    private WritableResource resource;\n\npublic GSWriter(ResourceLoader resourceLoader, String resource) {\n        this.resourceLoader = resourceLoader;\n        this.resource = (WritableResource) this.resourceLoader.getResource(resource);\n    }\n\n@Override\n    public void write(Chunk&lt;? extends String&gt; items) throws Exception {\n\n        try (OutputStream outputStream = resource.getOutputStream()) {\n            items.forEach((item) -&gt; {\n                try {\n                    outputStream.write(item.getBytes());\n                } catch (IOException e) {\n                    throw new RuntimeException(e);\n                }\n            });\n        }\n    }\n}\n</code></pre>\n<p>When I pass the resource URL(gs://{BUCKET_NAME}/{file.csv}) getting the ClassCastException.</p>\n<pre><code>java.base/java.lang.Thread.run(Thread.java:833)\\r\\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.equifax.dfca.cdms.configuration.GSWriter]: Factory method \\u0027writer\\u0027 threw exception with message: class org.springframework.web.context.support.ServletContextResource cannot be cast to class org.springframework.core.io.WritableResource (org.springframework.web.context.support.ServletContextResource and org.springframework.core.io.WritableResource are in unnamed module of loader \\u0027app\\u0027)\\r\\n\\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)\\r\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)\\r\\n\\t... 25 common frames omitted\\r\\nCaused by: java.lang.ClassCastException: class org.springframework.web.context.support.ServletContextResource cannot be cast to class org.springframework.core.io.WritableResource (org.springframework.web.context.support.ServletContextResource and org.springframework.core.io.WritableResource are in unnamed module of loader \\u0027app\\u0027)\\r\\n\\tat \n</code></pre>\n"},{"tags":["java","methods","static"],"comments":[{"owner":{"account_id":3597514,"reputation":117173,"user_id":3001761,"display_name":"jonrsharpe"},"score":4,"creation_date":1505161156,"post_id":46163755,"comment_id":79289869,"body_markdown":"It *explicitly* creates a new instance every time...","body":"It <i>explicitly</i> creates a new instance every time..."},{"owner":{"account_id":4673634,"reputation":1338,"user_id":3784768,"display_name":"Denys"},"score":0,"creation_date":1505161601,"post_id":46163755,"comment_id":79290098,"body_markdown":"The static is only method, i.e. everything that inside the method (content) is represented as static and is not associated with any object. But the content of the method creates new object every time and returns it to you.","body":"The static is only method, i.e. everything that inside the method (content) is represented as static and is not associated with any object. But the content of the method creates new object every time and returns it to you."},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1505161620,"post_id":46163755,"comment_id":79290110,"body_markdown":"This is something that you should be able to test by yourself (if you really think it needs testing). Add a System.out.println(&quot;hello&quot;) in the constructor of MyClass, call your static method 5 times, and see how many times hello is printed.","body":"This is something that you should be able to test by yourself (if you really think it needs testing). Add a System.out.println(&quot;hello&quot;) in the constructor of MyClass, call your static method 5 times, and see how many times hello is printed."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1505161653,"post_id":46163755,"comment_id":79290123,"body_markdown":"@JBNizet or just `System.out.println(GetMyClass() == GetMyClass())`.","body":"@JBNizet or just <code>System.out.println(GetMyClass() == GetMyClass())</code>."},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1505161736,"post_id":46163755,"comment_id":79290166,"body_markdown":"Indeed. Plenty of ways to experiment and learn at the same time.","body":"Indeed. Plenty of ways to experiment and learn at the same time."}],"answers":[{"tags":[],"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505161611,"creation_date":1505161611,"answer_id":46163855,"question_id":46163755,"body_markdown":"&gt; Will this static method return a new instance of `MyClass` every time it is called?\r\n\r\nYes. You explicitly create an return a new instance of `MyClass`.\r\n","title":"Are values returned by static method are static?","body":"<blockquote>\n  <p>Will this static method return a new instance of <code>MyClass</code> every time it is called?</p>\n</blockquote>\n\n<p>Yes. You explicitly create an return a new instance of <code>MyClass</code>.</p>\n"},{"tags":[],"owner":{"account_id":1774157,"reputation":857,"user_id":1618297,"accept_rate":44,"display_name":"PhiloEpisteme"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505161736,"creation_date":1505161736,"answer_id":46163882,"question_id":46163755,"body_markdown":"You are creating a new object every time you call `new MyClass()` therefore you can expect that it will return a new instance. You can check this by calling this method twice and comparing the results.\r\n    ","title":"Are values returned by static method are static?","body":"<p>You are creating a new object every time you call <code>new MyClass()</code> therefore you can expect that it will return a new instance. You can check this by calling this method twice and comparing the results.</p>\n"},{"tags":[],"owner":{"account_id":3570328,"reputation":745,"user_id":2980812,"display_name":"Fernando Mart&#237;n Besteiro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505161771,"creation_date":1505161771,"answer_id":46163888,"question_id":46163755,"body_markdown":"It is nor static nor dynamic. It&#39;s just an instance. It&#39;s up to the developer and the usage of the object. \r\n\r\nEvery time the static method is invoked, a new instance will be created.","title":"Are values returned by static method are static?","body":"<p>It is nor static nor dynamic. It's just an instance. It's up to the developer and the usage of the object. </p>\n\n<p>Every time the static method is invoked, a new instance will be created.</p>\n"},{"tags":[],"owner":{"account_id":5277236,"reputation":8320,"user_id":4213662,"accept_rate":80,"display_name":"Persixty"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700833046,"creation_date":1505162157,"answer_id":46163976,"question_id":46163755,"body_markdown":"Declaring a method `static` means it is a class method and can be called on the class without an instance (and can&#39;t access instance members because there&#39;s no object in context to use - no `this`).\r\n\r\nLook at the code below. Expected output:\r\n\r\n    [1] Different\r\n    [2] Same\r\n\r\nIf you want a variable to have the lifetime of the class and return the same object every time also declare the variable as `static` in the class:\r\n\r\n\r\n\tpublic static String getThing(){\r\n\t\tString r=new String(&quot;ABC&quot;);//Created every time the method is invoked.\r\n\t\treturn r;\r\n\t}\r\n\t\r\n\tprivate static String sr=new String(&quot;ABC&quot;);//Static member - one for the whole class.\r\n\t\r\n\tpublic static String getStaticThing(){\r\n\t\treturn sr;\r\n\t}\r\n\t\r\n\tpublic static void main (String[] args) throws java.lang.Exception\r\n\t{\r\n\t\tString thing1=getThing();\r\n\t\tString thing2=getThing();\r\n\t\tif(thing1==thing2){\r\n\t\t\tSystem.out.println(&quot;[1] Same&quot;);\r\n\t\t}else{\r\n\t\t\tSystem.out.println(&quot;[1] Different&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tString thing1s=getStaticThing();\r\n\t\tString thing2s=getStaticThing();\r\n\t\tif(thing1s==thing2s){\r\n\t\t\tSystem.out.println(&quot;[2] Same&quot;);\r\n\t\t}else{\r\n\t\t\tSystem.out.println(&quot;[2] Different&quot;);\r\n\t\t}\r\n\t}\r\n","title":"Are values returned by static method are static?","body":"<p>Declaring a method <code>static</code> means it is a class method and can be called on the class without an instance (and can't access instance members because there's no object in context to use - no <code>this</code>).</p>\n<p>Look at the code below. Expected output:</p>\n<pre><code>[1] Different\n[2] Same\n</code></pre>\n<p>If you want a variable to have the lifetime of the class and return the same object every time also declare the variable as <code>static</code> in the class:</p>\n<pre><code>public static String getThing(){\n    String r=new String(&quot;ABC&quot;);//Created every time the method is invoked.\n    return r;\n}\n\nprivate static String sr=new String(&quot;ABC&quot;);//Static member - one for the whole class.\n\npublic static String getStaticThing(){\n    return sr;\n}\n\npublic static void main (String[] args) throws java.lang.Exception\n{\n    String thing1=getThing();\n    String thing2=getThing();\n    if(thing1==thing2){\n        System.out.println(&quot;[1] Same&quot;);\n    }else{\n        System.out.println(&quot;[1] Different&quot;);\n    }\n    \n    String thing1s=getStaticThing();\n    String thing2s=getStaticThing();\n    if(thing1s==thing2s){\n        System.out.println(&quot;[2] Same&quot;);\n    }else{\n        System.out.println(&quot;[2] Different&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4328833,"reputation":65,"user_id":3534857,"display_name":"user3534857"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1505162892,"creation_date":1505162892,"answer_id":46164150,"question_id":46163755,"body_markdown":"The new keyword creates a new instance everything the method is called and the instance is returned to the caller. The static keyword tells the compiler that the method is available at class level itself. The caller can use the instance returned. ","title":"Are values returned by static method are static?","body":"<p>The new keyword creates a new instance everything the method is called and the instance is returned to the caller. The static keyword tells the compiler that the method is available at class level itself. The caller can use the instance returned. </p>\n"}],"owner":{"account_id":2377264,"reputation":910,"user_id":2080257,"accept_rate":47,"display_name":"Sisyphus"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5270,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":46163976,"answer_count":5,"score":-1,"last_activity_date":1700833046,"creation_date":1505161066,"question_id":46163755,"body_markdown":"Please consider this code\r\n\r\n    public class Utilities\r\n    {\r\n         public static MyClass GetMyClass()\r\n         {\r\n              MyClass cls = new MyClass();\r\n              return cls;\r\n         }\r\n    }\r\n\r\nWill this static method return a new instance of `MyClass` every time it is called? or it is going to return a reference to the same instance over and over?\r\n","title":"Are values returned by static method are static?","body":"<p>Please consider this code</p>\n\n<pre><code>public class Utilities\n{\n     public static MyClass GetMyClass()\n     {\n          MyClass cls = new MyClass();\n          return cls;\n     }\n}\n</code></pre>\n\n<p>Will this static method return a new instance of <code>MyClass</code> every time it is called? or it is going to return a reference to the same instance over and over?</p>\n"},{"tags":["java","json","firebase","google-cloud-storage"],"answers":[{"tags":[],"owner":{"account_id":30002,"reputation":37409,"user_id":81491,"accept_rate":82,"display_name":"Brandon Yarbrough"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1511194660,"creation_date":1511194660,"answer_id":47396453,"question_id":47388452,"body_markdown":"Hrm, looks like you&#39;re right. There doesn&#39;t seem to be a way to set a project when creating a bucket with the Java client. I filed a bug: https://github.com/GoogleCloudPlatform/google-cloud-java/issues/2643\r\n\r\nYou can probably get around this by specifying the project when setting up the StorageOptions:\r\n\r\n    StorageOptions.newBuilder().setProjectId(&quot;my-project-id&quot;)\r\n        //continue as normal","title":"How to set project ID in google cloud storage builder?","body":"<p>Hrm, looks like you're right. There doesn't seem to be a way to set a project when creating a bucket with the Java client. I filed a bug: <a href=\"https://github.com/GoogleCloudPlatform/google-cloud-java/issues/2643\" rel=\"nofollow noreferrer\">https://github.com/GoogleCloudPlatform/google-cloud-java/issues/2643</a></p>\n\n<p>You can probably get around this by specifying the project when setting up the StorageOptions:</p>\n\n<pre><code>StorageOptions.newBuilder().setProjectId(\"my-project-id\")\n    //continue as normal\n</code></pre>\n"}],"owner":{"account_id":6547813,"reputation":195,"user_id":5063221,"accept_rate":60,"display_name":"komal sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3942,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1700832843,"creation_date":1511169188,"question_id":47388452,"body_markdown":"I am trying to upload an Image to `Google Cloud storage` but while creating `StorageOptions` I am getting `project must be specified.` exception.\r\n\r\nI followed the official documentation and choose to use `Json` credentials after performing following steps:\r\n\r\n 1. Create a new `Service Account Key`\r\n 2. In `Role` I have selected `Owner` (change it later)\r\n 3. Download the `Json` key and using following sample to connect with it\r\n\r\n        public static void main(String[] args) throws IOException {\r\n        Storage storage = StorageOptions.newBuilder()\r\n                .setCredentials(ServiceAccountCredentials.fromStream(new FileInputStream(&quot;/Users/test/sample/app/project-936c0c6ef960.json&quot;)))\r\n                .build()\r\n                .getService();\r\n\r\n        String bucketName = &quot;Sample&quot;;\r\n        Bucket bucket = storage.create(BucketInfo.of(bucketName));\r\n        System.out.printf(&quot;Bucket %s created.%n&quot;, bucket.getName());\r\n        }\r\nWhat am I doing wrong here?\r\n\r\n\r\n\r\n","title":"How to set project ID in google cloud storage builder?","body":"<p>I am trying to upload an Image to <code>Google Cloud storage</code> but while creating <code>StorageOptions</code> I am getting <code>project must be specified.</code> exception.</p>\n\n<p>I followed the official documentation and choose to use <code>Json</code> credentials after performing following steps:</p>\n\n<ol>\n<li>Create a new <code>Service Account Key</code></li>\n<li>In <code>Role</code> I have selected <code>Owner</code> (change it later)</li>\n<li><p>Download the <code>Json</code> key and using following sample to connect with it</p>\n\n<pre><code>public static void main(String[] args) throws IOException {\nStorage storage = StorageOptions.newBuilder()\n        .setCredentials(ServiceAccountCredentials.fromStream(new FileInputStream(\"/Users/test/sample/app/project-936c0c6ef960.json\")))\n        .build()\n        .getService();\n\nString bucketName = \"Sample\";\nBucket bucket = storage.create(BucketInfo.of(bucketName));\nSystem.out.printf(\"Bucket %s created.%n\", bucket.getName());\n}\n</code></pre>\n\n<p>What am I doing wrong here?</p></li>\n</ol>\n"},{"tags":["java","spring","hibernate","transactions","controller"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1437240154,"post_id":31475085,"comment_id":50950797,"body_markdown":"`@Transactional` on that method doesn&#39;t have any added value as it is an internal method call. Spring uses proxies and only calls into the object pass thorough the proxy. Also your code is flawed you shouldn&#39;t catch and swallow exceptions as that interferes with the tx support (it relies on transactions to determine to rollback or not, currently there is never an exception hence always tries to commit). Finally you are using MySQL make sure that you are using table types that actually supports transactions (MyISAM tables don&#39;t have tx support).","body":"<code>@Transactional</code> on that method doesn&#39;t have any added value as it is an internal method call. Spring uses proxies and only calls into the object pass thorough the proxy. Also your code is flawed you shouldn&#39;t catch and swallow exceptions as that interferes with the tx support (it relies on transactions to determine to rollback or not, currently there is never an exception hence always tries to commit). Finally you are using MySQL make sure that you are using table types that actually supports transactions (MyISAM tables don&#39;t have tx support)."},{"owner":{"account_id":3131759,"reputation":1989,"user_id":2649332,"accept_rate":50,"display_name":"Steve Park"},"score":1,"creation_date":1437422730,"post_id":31475085,"comment_id":51011925,"body_markdown":"I doubt that putting Transactional annotation on Controller level is even good practice. I thought it better goes for Service level. See this ( http://stackoverflow.com/questions/1079114/spring-transactional-annotation-best-practice )","body":"I doubt that putting Transactional annotation on Controller level is even good practice. I thought it better goes for Service level. See this ( <a href=\"http://stackoverflow.com/questions/1079114/spring-transactional-annotation-best-practice\" title=\"spring transactional annotation best practice\">stackoverflow.com/questions/1079114/&hellip;</a> )"},{"owner":{"account_id":3425148,"reputation":449,"user_id":2871092,"accept_rate":100,"display_name":"risoldi"},"score":0,"creation_date":1437459672,"post_id":31475085,"comment_id":51023684,"body_markdown":"@StevePark No doubt about that. However, as I said in my question, the point is that it is technically feasible, and what I am trying to understand here is why it is not working. Indeed, putting it in the service layer does not solve the problem in itself.","body":"@StevePark No doubt about that. However, as I said in my question, the point is that it is technically feasible, and what I am trying to understand here is why it is not working. Indeed, putting it in the service layer does not solve the problem in itself."},{"owner":{"account_id":3425148,"reputation":449,"user_id":2871092,"accept_rate":100,"display_name":"risoldi"},"score":0,"creation_date":1437459740,"post_id":31475085,"comment_id":51023712,"body_markdown":"@M.Deinum Thanks, that was a good pointer. I tried moving transactional up to the controller endpoint, and indeed it worked. However that was ugly :) so I ended up reorganizing things, so the transaction is not in the controller anymore. Would you convert your comment to an answer, so I can accept it?","body":"@M.Deinum Thanks, that was a good pointer. I tried moving transactional up to the controller endpoint, and indeed it worked. However that was ugly :) so I ended up reorganizing things, so the transaction is not in the controller anymore. Would you convert your comment to an answer, so I can accept it?"}],"answers":[{"comments":[{"owner":{"account_id":3425148,"reputation":449,"user_id":2871092,"accept_rate":100,"display_name":"risoldi"},"score":0,"creation_date":1437147812,"post_id":31475757,"comment_id":50924561,"body_markdown":"the proxy-target-class=&quot;true&quot; was added because without it I get the following error:\n    Request processing failed; nested exception is java.lang.IllegalStateException: The mapped controller method class &#39;ch.oligofunds.oligoworld.web.ExcelUploaderImpl&#39; is not an instance of the actual controller bean instance &#39;com.sun.proxy.$Proxy69&#39;. If the controller requires proxying (e.g. due to @Transactional), please use class-based proxying.\n\nI&#39;m trying to understand this: I cannot use both together?","body":"the proxy-target-class=&quot;true&quot; was added because without it I get the following error:     Request processing failed; nested exception is java.lang.IllegalStateException: The mapped controller method class &#39;ch.oligofunds.oligoworld.web.ExcelUploaderImpl&#39; is not an instance of the actual controller bean instance &#39;com.sun.proxy.$Proxy69&#39;. If the controller requires proxying (e.g. due to @Transactional), please use class-based proxying.  I&#39;m trying to understand this: I cannot use both together?"},{"owner":{"account_id":3425148,"reputation":449,"user_id":2871092,"accept_rate":100,"display_name":"risoldi"},"score":0,"creation_date":1437148491,"post_id":31475757,"comment_id":50924982,"body_markdown":"Ok, so I first tried removing the proxy-target-class=&quot;true&quot; in web-context.xml (and in dao-context.xml), leaving only scoped-proxy=&quot;interfaces&quot;. As said before, I get the error mentioned in the comment above. Then, I put the proxy-target-class=&quot;true&quot; back, and I modified the controller by removing the &quot;implements ExcelUploader&quot; and all the @Override annotations (so now the interface is not being used at all). Here things run, but the transaction is still not working (the first two insertions still show up in the DB when the third fails).","body":"Ok, so I first tried removing the proxy-target-class=&quot;true&quot; in web-context.xml (and in dao-context.xml), leaving only scoped-proxy=&quot;interfaces&quot;. As said before, I get the error mentioned in the comment above. Then, I put the proxy-target-class=&quot;true&quot; back, and I modified the controller by removing the &quot;implements ExcelUploader&quot; and all the @Override annotations (so now the interface is not being used at all). Here things run, but the transaction is still not working (the first two insertions still show up in the DB when the third fails)."}],"tags":[],"owner":{"account_id":40662,"reputation":20954,"user_id":117839,"accept_rate":74,"display_name":"Michael Wiles"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1437135705,"creation_date":1437135705,"answer_id":31475757,"question_id":31475085,"body_markdown":"With proxy-target-class=&quot;true&quot; you&#39;re telling spring to use cglib to handle the proxying but you&#39;ve specified scoped-proxy=&quot;interfaces&quot;. \n\nSee \nhttps://stackoverflow.com/a/15568457/117839","title":"@Transactional on controller method not working","body":"<p>With proxy-target-class=\"true\" you're telling spring to use cglib to handle the proxying but you've specified scoped-proxy=\"interfaces\". </p>\n\n<p>See \n<a href=\"https://stackoverflow.com/a/15568457/117839\">https://stackoverflow.com/a/15568457/117839</a></p>\n"},{"tags":[],"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1437461235,"creation_date":1437461235,"answer_id":31532100,"question_id":31475085,"body_markdown":"`@Transactional` on that method doesn&#39;t have any added value as it is an internal method call (and your class is already transactional). Spring uses proxies and only calls into the object pass thorough the proxy. \r\n\r\nAlso your code is flawed you shouldn&#39;t catch and swallow exceptions as that interferes with the tx support (it relies on transactions to determine to rollback or not, currently there is never an exception hence always tries to commit). \r\n\r\nFinally you are using MySQL make sure that you are using table types that actually supports transactions (MyISAM tables don&#39;t have tx support).\r\n\r\nI would however strongly suggest to move the transactional part (or the business logic which you are now doing in your controller) to a service. The controller (or web layer in general) should only be a thin layer converting the incoming request into something useable for the service layer and the result into something useable for the web to display.\r\n","title":"@Transactional on controller method not working","body":"<p><code>@Transactional</code> on that method doesn't have any added value as it is an internal method call (and your class is already transactional). Spring uses proxies and only calls into the object pass thorough the proxy. </p>\n\n<p>Also your code is flawed you shouldn't catch and swallow exceptions as that interferes with the tx support (it relies on transactions to determine to rollback or not, currently there is never an exception hence always tries to commit). </p>\n\n<p>Finally you are using MySQL make sure that you are using table types that actually supports transactions (MyISAM tables don't have tx support).</p>\n\n<p>I would however strongly suggest to move the transactional part (or the business logic which you are now doing in your controller) to a service. The controller (or web layer in general) should only be a thin layer converting the incoming request into something useable for the service layer and the result into something useable for the web to display.</p>\n"}],"owner":{"account_id":3425148,"reputation":449,"user_id":2871092,"accept_rate":100,"display_name":"risoldi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2743,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":31532100,"answer_count":2,"score":2,"last_activity_date":1700832140,"creation_date":1437133526,"question_id":31475085,"body_markdown":"In my Spring MVC application, I have a method in a controller that needs to save a bunch of objects (built from an uploaded file) to a database. Let us leave aside for the moment the whole question about whether transactions should be done in the controller or service layer -- the point is that it should technically be feasible to do it in the controller, but I am finding problems.\r\nIf you look at the code below, what I am expecting is that if any of the three calls to saveContact fails with an Exception (any exception, since I put rollbackFor = Exception.class ), then all three should be rolled back. Still, what I see is that if for example the third one fails, the data from the first two is still present in the database. The exception thrown is a PersistenceException, so I believe this should trigger the rollback, but it doesn&#39;t (it bubbles up to the client&#39;s browser, which is what I expected since I&#39;m not catching it).\r\n\r\n    code removed for security reasons\r\n\r\nThanks","title":"@Transactional on controller method not working","body":"<p>In my Spring MVC application, I have a method in a controller that needs to save a bunch of objects (built from an uploaded file) to a database. Let us leave aside for the moment the whole question about whether transactions should be done in the controller or service layer -- the point is that it should technically be feasible to do it in the controller, but I am finding problems.\nIf you look at the code below, what I am expecting is that if any of the three calls to saveContact fails with an Exception (any exception, since I put rollbackFor = Exception.class ), then all three should be rolled back. Still, what I see is that if for example the third one fails, the data from the first two is still present in the database. The exception thrown is a PersistenceException, so I believe this should trigger the rollback, but it doesn't (it bubbles up to the client's browser, which is what I expected since I'm not catching it).</p>\n<pre><code>code removed for security reasons\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","casting","int"],"answers":[{"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1406410447,"post_id":24975511,"comment_id":38824546,"body_markdown":"A signed comparison on `x ^ Integer.MIN_VALUE` with `y ^ Integer.MIN_VALUE` is equivalent to an unsigned comparison of `x` and `y`.","body":"A signed comparison on <code>x ^ Integer.MIN_VALUE</code> with <code>y ^ Integer.MIN_VALUE</code> is equivalent to an unsigned comparison of <code>x</code> and <code>y</code>."}],"tags":[],"owner":{"account_id":221606,"reputation":12485,"user_id":2083327,"accept_rate":75,"display_name":"R&#252;diger Klaehn"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1406410422,"creation_date":1406408447,"answer_id":24975511,"question_id":24975469,"body_markdown":"Yes. [IEEE floats][1] and doubles are arranged in such a way that you can compare them by doing an ___unsigned___ comparison of the raw binary representation. The function to convert from float to raw integer and back are [java.lang.Float.floatToIntBits][2] and [java.lang.Float.intBitsToFloat][3]. These functions are processor intrinsics, so they have an extremely low cost.\r\n\r\nThe same is true for longs and doubles. Here the conversion functions are [java.lang.Double.doubleToLongBits][4] and [java.lang.Double.longBitsToDouble][5].\r\n\r\nNote that if you want to use the normal ___signed___ comparison for your integers, you have to do some additional transformation in addition to the conversion to integer. \r\n\r\nThe only exception to this rule is NaN, which does not permit a total ordering anyway.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/IEEE_floating_point\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/Float.html#floatToIntBits(float)\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/lang/Float.html#intBitsToFloat(int)\r\n  [4]: http://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#doubleToLongBits(double)\r\n  [5]: http://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#longBitsToDouble(long)","title":"Bijection between Java float and integer keeping order","body":"<p>Yes. <a href=\"http://en.wikipedia.org/wiki/IEEE_floating_point\" rel=\"nofollow\">IEEE floats</a> and doubles are arranged in such a way that you can compare them by doing an <strong><em>unsigned</em></strong> comparison of the raw binary representation. The function to convert from float to raw integer and back are <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Float.html#floatToIntBits(float)\" rel=\"nofollow\">java.lang.Float.floatToIntBits</a> and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Float.html#intBitsToFloat(int)\" rel=\"nofollow\">java.lang.Float.intBitsToFloat</a>. These functions are processor intrinsics, so they have an extremely low cost.</p>\n\n<p>The same is true for longs and doubles. Here the conversion functions are <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#doubleToLongBits(double)\" rel=\"nofollow\">java.lang.Double.doubleToLongBits</a> and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#longBitsToDouble(long)\" rel=\"nofollow\">java.lang.Double.longBitsToDouble</a>.</p>\n\n<p>Note that if you want to use the normal <strong><em>signed</em></strong> comparison for your integers, you have to do some additional transformation in addition to the conversion to integer. </p>\n\n<p>The only exception to this rule is NaN, which does not permit a total ordering anyway.</p>\n"},{"tags":[],"owner":{"account_id":143496,"reputation":1912,"user_id":351861,"display_name":"specializt"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1406408511,"creation_date":1406408511,"answer_id":24975518,"question_id":24975469,"body_markdown":"    f1 == f2\r\n\r\nis impossible, see [this answer][1] for more info. You will need to include a delta if you actually want to APPROXIMATE your equality-check.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/11825865/351861","title":"Bijection between Java float and integer keeping order","body":"<pre><code>f1 == f2\n</code></pre>\n\n<p>is impossible, see <a href=\"https://stackoverflow.com/a/11825865/351861\">this answer</a> for more info. You will need to include a delta if you actually want to APPROXIMATE your equality-check.</p>\n"},{"comments":[{"owner":{"account_id":143496,"reputation":1912,"user_id":351861,"display_name":"specializt"},"score":0,"creation_date":1406408649,"post_id":24975522,"comment_id":38824140,"body_markdown":"comparing floats via == is a beginners&#39; mistake, this check will never return true.","body":"comparing floats via == is a beginners&#39; mistake, this check will never return true."},{"owner":{"account_id":1640113,"reputation":6034,"user_id":1512743,"accept_rate":86,"display_name":"Devarsh Desai"},"score":0,"creation_date":1406408740,"post_id":24975522,"comment_id":38824157,"body_markdown":"yep, they should use the method described here: http://stackoverflow.com/questions/1088216/whats-wrong-with-using-to-compare-floats-in-java","body":"yep, they should use the method described here: <a href=\"http://stackoverflow.com/questions/1088216/whats-wrong-with-using-to-compare-floats-in-java\" title=\"whats wrong with using to compare floats in java\">stackoverflow.com/questions/1088216/&hellip;</a>"}],"tags":[],"owner":{"account_id":1640113,"reputation":6034,"user_id":1512743,"accept_rate":86,"display_name":"Devarsh Desai"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1406409538,"creation_date":1406408542,"answer_id":24975522,"question_id":24975469,"body_markdown":"I see what you&#39;re saying. At first I had a different interpretation of your question. As everyone else has mention: yes. Use the articles described [here][1] and [here][2] to explain why we should use the methods described by @Peter Lawrey in order to compare the underlying bit pattern between ints and floats\n\n  [1]: http://www.theregister.co.uk/2006/08/12/floating_point_approximation/\n  [2]: https://stackoverflow.com/questions/1088216/whats-wrong-with-using-to-compare-floats-in-java","title":"Bijection between Java float and integer keeping order","body":"<p>I see what you're saying. At first I had a different interpretation of your question. As everyone else has mention: yes. Use the articles described <a href=\"http://www.theregister.co.uk/2006/08/12/floating_point_approximation/\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://stackoverflow.com/questions/1088216/whats-wrong-with-using-to-compare-floats-in-java\">here</a> to explain why we should use the methods described by @Peter Lawrey in order to compare the underlying bit pattern between ints and floats</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1406408773,"creation_date":1406408773,"answer_id":24975544,"question_id":24975469,"body_markdown":"You can use\r\n\r\n    int n = Float.floatToRawIntBits(f);\r\n\r\n    float f2 = Float.intBitToFloat(n);\r\n\r\n    int n2 = Float.floatToRawIntBits(f2);\r\n    \r\n    assert n == n2; // always\r\n    assert f == f2 || Float.isNaN(f);\r\n\r\nThe raw bits as a `int` have the same sort order as the original `float` with the exception of the `NaN` values which are not comparable as a `float` value have a value as an `int`\r\n\r\nNote: there is multiple values for `NaN` which are not equal to each other as `float`","title":"Bijection between Java float and integer keeping order","body":"<p>You can use</p>\n\n<pre><code>int n = Float.floatToRawIntBits(f);\n\nfloat f2 = Float.intBitToFloat(n);\n\nint n2 = Float.floatToRawIntBits(f2);\n\nassert n == n2; // always\nassert f == f2 || Float.isNaN(f);\n</code></pre>\n\n<p>The raw bits as a <code>int</code> have the same sort order as the original <code>float</code> with the exception of the <code>NaN</code> values which are not comparable as a <code>float</code> value have a value as an <code>int</code></p>\n\n<p>Note: there is multiple values for <code>NaN</code> which are not equal to each other as <code>float</code></p>\n"},{"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1406408963,"post_id":24975547,"comment_id":38824202,"body_markdown":"Technically there is multiple NaN values so the `int` in this range is preserved even if there is no way to tell as `float` values.","body":"Technically there is multiple NaN values so the <code>int</code> in this range is preserved even if there is no way to tell as <code>float</code> values."}],"tags":[],"owner":{"account_id":1652167,"reputation":3610,"user_id":1522522,"accept_rate":86,"display_name":"vandale"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1406408794,"creation_date":1406408794,"answer_id":24975547,"question_id":24975469,"body_markdown":"No you cannot\r\n\r\nThere are 2^32 possible int values, all of which are distinct.\r\nHowever, thee are less than 2^32 floats; ie. 7FF0000000000001 to 7FF7FFFFFFFFFFFF represent NaN&#39;s,\r\n\r\nThere fore, you have more ints than floats an cannot distinctly map them to each other as `toFloat(i1)` would not be cable of producing a distinct float for every int","title":"Bijection between Java float and integer keeping order","body":"<p>No you cannot</p>\n\n<p>There are 2^32 possible int values, all of which are distinct.\nHowever, thee are less than 2^32 floats; ie. 7FF0000000000001 to 7FF7FFFFFFFFFFFF represent NaN's,</p>\n\n<p>There fore, you have more ints than floats an cannot distinctly map them to each other as <code>toFloat(i1)</code> would not be cable of producing a distinct float for every int</p>\n"},{"tags":[],"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1406413317,"creation_date":1406413317,"answer_id":24976059,"question_id":24975469,"body_markdown":"The answer from R&#252;diger Klaehn gives the normal case, but it lacks some details. The bijection exits only in the domain of *nice and clean* floats.\r\n\r\nNotice : representation of an IEEE float is `sign_bit(1 bit) exponent(8 bits) sinificand(23 bits)` and the value is : `(-1)&lt;sup&gt;sign&lt;/sup&gt; * 2&lt;sup&gt;exp&lt;/sup&gt; * significand` in *clean* cases. In fact, the 23 bits represent the fractional part of the actual significand, the integer part being 1.\r\n\r\nAll is fine for `0 &lt; exp &lt; 255` (which correspond to *normal* not null floats ) as an unsigned byte and in that domain you have a bijection.\r\n\r\nFor `exp == 255` you have the infinite values is `significand == 0` and all the NaN for `significand != 0` - ok, you explicitely excluded them.\r\n\r\nBut for `exp == 0` there are still weird things : when `significand == 0` you have +0 and -0. I am not sure if they are considered equal. If anybody knows, please feel free to edit the post. But as integer values, they will of course be different.\r\n\r\nAnd when `exp == 0` and `significand != 0` you find denormalized numbers ... which while not being equal will be converted to either 0 of the littlest number not being 0.\r\n\r\nSo if you want a bijection only use *normal* numbers having `0 &lt; exp &lt; 255&lt;` and avoid NaN, infinite, 0 and denormal numbers where things *are* weird.\r\n\r\nReferences : \r\n\r\n- [IEEE floating point](http://en.wikipedia.org/wiki/IEEE_floating_point)\r\n- [Single-precision floating-point format](http://en.wikipedia.org/wiki/Single_precision_floating-point_format)\r\n- [Denormal number](http://en.wikipedia.org/wiki/Denormal_numbers)","title":"Bijection between Java float and integer keeping order","body":"<p>The answer from Rdiger Klaehn gives the normal case, but it lacks some details. The bijection exits only in the domain of <em>nice and clean</em> floats.</p>\n\n<p>Notice : representation of an IEEE float is <code>sign_bit(1 bit) exponent(8 bits) sinificand(23 bits)</code> and the value is : <code>(-1)&lt;sup&gt;sign&lt;/sup&gt; * 2&lt;sup&gt;exp&lt;/sup&gt; * significand</code> in <em>clean</em> cases. In fact, the 23 bits represent the fractional part of the actual significand, the integer part being 1.</p>\n\n<p>All is fine for <code>0 &lt; exp &lt; 255</code> (which correspond to <em>normal</em> not null floats ) as an unsigned byte and in that domain you have a bijection.</p>\n\n<p>For <code>exp == 255</code> you have the infinite values is <code>significand == 0</code> and all the NaN for <code>significand != 0</code> - ok, you explicitely excluded them.</p>\n\n<p>But for <code>exp == 0</code> there are still weird things : when <code>significand == 0</code> you have +0 and -0. I am not sure if they are considered equal. If anybody knows, please feel free to edit the post. But as integer values, they will of course be different.</p>\n\n<p>And when <code>exp == 0</code> and <code>significand != 0</code> you find denormalized numbers ... which while not being equal will be converted to either 0 of the littlest number not being 0.</p>\n\n<p>So if you want a bijection only use <em>normal</em> numbers having <code>0 &lt; exp &lt; 255&lt;</code> and avoid NaN, infinite, 0 and denormal numbers where things <em>are</em> weird.</p>\n\n<p>References : </p>\n\n<ul>\n<li><a href=\"http://en.wikipedia.org/wiki/IEEE_floating_point\" rel=\"nofollow\">IEEE floating point</a></li>\n<li><a href=\"http://en.wikipedia.org/wiki/Single_precision_floating-point_format\" rel=\"nofollow\">Single-precision floating-point format</a></li>\n<li><a href=\"http://en.wikipedia.org/wiki/Denormal_numbers\" rel=\"nofollow\">Denormal number</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2355674,"reputation":145,"user_id":2063518,"display_name":"Ivy Gorven"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700832103,"creation_date":1700831547,"answer_id":77543412,"question_id":24975469,"body_markdown":"The previous answers contain all the information required to solve this, but not a full solution. Here is some working code you can copy:\r\n\r\n```\r\n  public static long toLong(float v) {\r\n    long bits = Integer.toUnsignedLong(Float.floatToIntBits(v));\r\n    return Math.copySign(1, v) &lt; 0 ? -bits : bits;\r\n  }\r\n```\r\nor as a one-liner:\r\n```\r\n(long) Math.copySign((double) Integer.toUnsignedLong(Float.floatToIntBits(v)), v);\r\n```\r\n\r\nIt should take less than a minute to confirm that this works by iterating every non-NaN float value:\r\n```\r\n  public static void main(String[] args) {\r\n    float current = Float.NEGATIVE_INFINITY;\r\n    while (current != Float.POSITIVE_INFINITY) {\r\n      float next = Math.nextUp(current);\r\n      long curLong = toLong(current);\r\n      long nextLong = toLong(next);\r\n      if (curLong &gt;= nextLong) {\r\n        throw new RuntimeException(curLong + &quot; is greater than &quot; + nextLong\r\n            + &quot; representations of &quot; + current + &quot; and &quot; + next);\r\n      }\r\n      current = next;\r\n    }\r\n    System.out.println(&quot;Reached &quot; + current);\r\n  }\r\n```","title":"Bijection between Java float and integer keeping order","body":"<p>The previous answers contain all the information required to solve this, but not a full solution. Here is some working code you can copy:</p>\n<pre><code>  public static long toLong(float v) {\n    long bits = Integer.toUnsignedLong(Float.floatToIntBits(v));\n    return Math.copySign(1, v) &lt; 0 ? -bits : bits;\n  }\n</code></pre>\n<p>or as a one-liner:</p>\n<pre><code>(long) Math.copySign((double) Integer.toUnsignedLong(Float.floatToIntBits(v)), v);\n</code></pre>\n<p>It should take less than a minute to confirm that this works by iterating every non-NaN float value:</p>\n<pre><code>  public static void main(String[] args) {\n    float current = Float.NEGATIVE_INFINITY;\n    while (current != Float.POSITIVE_INFINITY) {\n      float next = Math.nextUp(current);\n      long curLong = toLong(current);\n      long nextLong = toLong(next);\n      if (curLong &gt;= nextLong) {\n        throw new RuntimeException(curLong + &quot; is greater than &quot; + nextLong\n            + &quot; representations of &quot; + current + &quot; and &quot; + next);\n      }\n      current = next;\n    }\n    System.out.println(&quot;Reached &quot; + current);\n  }\n</code></pre>\n"}],"owner":{"account_id":1277868,"reputation":4185,"user_id":1232720,"accept_rate":86,"display_name":"Jos&#233; D."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":494,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":24975511,"answer_count":7,"score":0,"last_activity_date":1700832103,"creation_date":1406408128,"question_id":24975469,"body_markdown":"Both `int` and `float` in Java are 32 bits size values. Is it possible to program a pair of functions\r\n\r\n    int toInt(float f);\r\n    float toFloat(int n);\r\n\r\nsuch that if `f1` and `f2` are arbitrary `float`  non-NaN values and i1 and i2 are arbitraty `int` values: \r\n\r\n - `f1 &lt; f2` if and only if `toInt(f1) &lt; toInt(f2)`\r\n - `f1 &gt; f2` if and only if `toInt(f1) &gt; toInt(f2)`\r\n - `f1 == f2` if and only if `toInt(f1) == toInt(f2)`\r\n - `toInt(toFloat(i1) == i1`\r\n - `toFloat(toInt(f1)) == f1`\r\n\r\nEdit: I have edited the question to exclude NaN values for float, thanks to the answers clarifying what happens with those.","title":"Bijection between Java float and integer keeping order","body":"<p>Both <code>int</code> and <code>float</code> in Java are 32 bits size values. Is it possible to program a pair of functions</p>\n\n<pre><code>int toInt(float f);\nfloat toFloat(int n);\n</code></pre>\n\n<p>such that if <code>f1</code> and <code>f2</code> are arbitrary <code>float</code>  non-NaN values and i1 and i2 are arbitraty <code>int</code> values: </p>\n\n<ul>\n<li><code>f1 &lt; f2</code> if and only if <code>toInt(f1) &lt; toInt(f2)</code></li>\n<li><code>f1 &gt; f2</code> if and only if <code>toInt(f1) &gt; toInt(f2)</code></li>\n<li><code>f1 == f2</code> if and only if <code>toInt(f1) == toInt(f2)</code></li>\n<li><code>toInt(toFloat(i1) == i1</code></li>\n<li><code>toFloat(toInt(f1)) == f1</code></li>\n</ul>\n\n<p>Edit: I have edited the question to exclude NaN values for float, thanks to the answers clarifying what happens with those.</p>\n"},{"tags":["java","for-loop","iframe","selenium-chromedriver","iterator"],"comments":[{"owner":{"account_id":7526728,"reputation":548,"user_id":5716626,"accept_rate":100,"display_name":"Cosmin Oprea"},"score":0,"creation_date":1700578238,"post_id":77523689,"comment_id":136670224,"body_markdown":"What is the behaviour here ? What happens when you run the code ?","body":"What is the behaviour here ? What happens when you run the code ?"},{"owner":{"account_id":16050626,"reputation":7,"user_id":11584621,"display_name":"nerull7"},"score":0,"creation_date":1700579299,"post_id":77523689,"comment_id":136670414,"body_markdown":"@CosminOprea I get a timeout (noSuchElement) on 1st wdwait under for loop. If I remove the wait test passes, but ad window doesn&#39;t get closed. Note: I tested double switch on hardcoded iframe window, so the code for switch and click including locators works 100%. If I guess number of iframe correctly, the ad closes.","body":"@CosminOprea I get a timeout (noSuchElement) on 1st wdwait under for loop. If I remove the wait test passes, but ad window doesn&#39;t get closed. Note: I tested double switch on hardcoded iframe window, so the code for switch and click including locators works 100%. If I guess number of iframe correctly, the ad closes."}],"answers":[{"comments":[{"owner":{"account_id":16050626,"reputation":7,"user_id":11584621,"display_name":"nerull7"},"score":0,"creation_date":1700744313,"post_id":77529616,"comment_id":136693692,"body_markdown":"It&#39;s definitely the loop issue. I decided to use .println() method and go step by step to see where is the mistake. in code. I printed size and iframe id&#39;s from the list and they all check out. When I run the test, only first element gets printed out which means it check only first element for if condition and when it passes, it doesn&#39;t loop over the rest of the list. How do I make the loop switch to next element after if condition?","body":"It&#39;s definitely the loop issue. I decided to use .println() method and go step by step to see where is the mistake. in code. I printed size and iframe id&#39;s from the list and they all check out. When I run the test, only first element gets printed out which means it check only first element for if condition and when it passes, it doesn&#39;t loop over the rest of the list. How do I make the loop switch to next element after if condition?"},{"owner":{"account_id":7526728,"reputation":548,"user_id":5716626,"accept_rate":100,"display_name":"Cosmin Oprea"},"score":0,"creation_date":1700747967,"post_id":77529616,"comment_id":136694364,"body_markdown":"add command: continue; (as you can see in my catch block)","body":"add command: continue; (as you can see in my catch block)"},{"owner":{"account_id":16050626,"reputation":7,"user_id":11584621,"display_name":"nerull7"},"score":0,"creation_date":1700750562,"post_id":77529616,"comment_id":136694828,"body_markdown":"I tried it (even before) and it only turns grey and does nothing :(","body":"I tried it (even before) and it only turns grey and does nothing :("}],"tags":[],"owner":{"account_id":7526728,"reputation":548,"user_id":5716626,"accept_rate":100,"display_name":"Cosmin Oprea"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700653107,"creation_date":1700653107,"answer_id":77529616,"question_id":77523689,"body_markdown":"Based on your comment I would add a try catch at that wdwait command in order to not exit the for function when there is an exception there. But the best solution here would be a check if that element really exists.\r\n\r\nCode with try catch:\r\n\r\n    @Test\r\n    public void globalSQAHoverMenuTest() {\r\n        driver.get(&quot;https://www.globalsqa.com/samplepagetest/&quot;);\r\n        wdwait.until(ExpectedConditions.presenceOfElementLocated(By.id(&quot;menu-item-2822&quot;)));\r\n        multiactions.moveToElement(driver.findElement(By.id(&quot;menu-item-2822&quot;))).perform();\r\n        wdwait.until(ExpectedConditions.presenceOfElementLocated(By.linkText(&quot;Demo Testing Site&quot;)));\r\n        multiactions.moveToElement(driver.findElement(By.linkText(&quot;Demo Testing Site&quot;))).perform();\r\n        wdwait.until(ExpectedConditions.presenceOfElementLocated(By.linkText(&quot;AlertBox&quot;)));\r\n        multiactions.moveToElement(driver.findElement(By.linkText(&quot;AlertBox&quot;))).click().perform();\r\n\r\n        List&lt;WebElement&gt; iframeList = driver.findElements(By.xpath(&quot;//iframe[@allowtransparency=\\&quot;true\\&quot;]&quot;));\r\n        try {\r\n            for (WebElement webElement : iframeList) {\r\n                try {\r\n                    wdwait.until(ExpectedConditions.visibilityOfAllElements(webElement));\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                    continue;\r\n                }\r\n                driver.switchTo().frame(webElement);\r\n                if (!driver.findElements(By.id(&quot;ad_iframe&quot;)).isEmpty()) {\r\n                    driver.switchTo().frame(driver.findElement(By.id(&quot;ad_iframe&quot;)));\r\n                    wdwait.until(ExpectedConditions.presenceOfElementLocated(By.id(&quot;dismiss-button&quot;)));\r\n                    driver.findElement(By.id(&quot;dismiss-button&quot;)).click();\r\n                }\r\n            }\r\n        }\r\n\r\n        catch (ElementClickInterceptedException e) {\r\n\r\n        }\r\n\r\n        catch (StaleElementReferenceException e) {\r\n\r\n        }\r\n    }","title":"Loop through list of iframes, check for element in iframe and do action with it","body":"<p>Based on your comment I would add a try catch at that wdwait command in order to not exit the for function when there is an exception there. But the best solution here would be a check if that element really exists.</p>\n<p>Code with try catch:</p>\n<pre><code>@Test\npublic void globalSQAHoverMenuTest() {\n    driver.get(&quot;https://www.globalsqa.com/samplepagetest/&quot;);\n    wdwait.until(ExpectedConditions.presenceOfElementLocated(By.id(&quot;menu-item-2822&quot;)));\n    multiactions.moveToElement(driver.findElement(By.id(&quot;menu-item-2822&quot;))).perform();\n    wdwait.until(ExpectedConditions.presenceOfElementLocated(By.linkText(&quot;Demo Testing Site&quot;)));\n    multiactions.moveToElement(driver.findElement(By.linkText(&quot;Demo Testing Site&quot;))).perform();\n    wdwait.until(ExpectedConditions.presenceOfElementLocated(By.linkText(&quot;AlertBox&quot;)));\n    multiactions.moveToElement(driver.findElement(By.linkText(&quot;AlertBox&quot;))).click().perform();\n\n    List&lt;WebElement&gt; iframeList = driver.findElements(By.xpath(&quot;//iframe[@allowtransparency=\\&quot;true\\&quot;]&quot;));\n    try {\n        for (WebElement webElement : iframeList) {\n            try {\n                wdwait.until(ExpectedConditions.visibilityOfAllElements(webElement));\n            } catch (Exception e) {\n                e.printStackTrace();\n                continue;\n            }\n            driver.switchTo().frame(webElement);\n            if (!driver.findElements(By.id(&quot;ad_iframe&quot;)).isEmpty()) {\n                driver.switchTo().frame(driver.findElement(By.id(&quot;ad_iframe&quot;)));\n                wdwait.until(ExpectedConditions.presenceOfElementLocated(By.id(&quot;dismiss-button&quot;)));\n                driver.findElement(By.id(&quot;dismiss-button&quot;)).click();\n            }\n        }\n    }\n\n    catch (ElementClickInterceptedException e) {\n\n    }\n\n    catch (StaleElementReferenceException e) {\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16050626,"reputation":7,"user_id":11584621,"display_name":"nerull7"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700832007,"creation_date":1700831430,"answer_id":77543399,"question_id":77523689,"body_markdown":"I found the solution. Basically after the if statement, I was trapped inside one of iframes, so couldn&#39;t iterate through the rest of them as they were located &quot;outside&quot; of it. When I add the following code after if statement, ad closes consistently each time:\r\n\r\n```\r\nif statement() {\r\n}\r\ndriver.switchTo().defaultContent();\r\n``` ","title":"Loop through list of iframes, check for element in iframe and do action with it","body":"<p>I found the solution. Basically after the if statement, I was trapped inside one of iframes, so couldn't iterate through the rest of them as they were located &quot;outside&quot; of it. When I add the following code after if statement, ad closes consistently each time:</p>\n<pre><code>if statement() {\n}\ndriver.switchTo().defaultContent();\n</code></pre>\n"}],"owner":{"account_id":16050626,"reputation":7,"user_id":11584621,"display_name":"nerull7"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77543399,"answer_count":2,"score":0,"last_activity_date":1700832007,"creation_date":1700577496,"question_id":77523689,"body_markdown":"Here is the situation: On https://www.globalsqa.com/samplepagetest/ I am trying to access the page &quot;Alertbox&quot; through page dropdown menu Tester&#39;s Hub/Demo Testing Site/Alertbox. Before the actual Alertbox page opens, an ad is shown which I want to close off course. An ad is located inside an iframe which in nested inside another iframe. \r\n\r\nNow here it becomes interesting...\r\n\r\nWhen page loads, there are several different iframes (7 max from what I could tell) and nested iframe with an ad appears randomly under one of these 7 iframes every time page is loaded.\r\n\r\nMy idea was to create a list of iframes and for loop, go through all iframes and check whether nested iframe is located under it. When correct iframe is identifed, switch to nested iframe and close down the ad. I also added try/catch method to ignore intercept and staleElement exceptions. \r\n\r\n**There is something wrong in the for loop code, as loop executes on the first element only. Please see edit below**\r\n\r\n**Edit**: I decided to use .println() method and go step by step to see where is the mistake in code. I printed size and iframe id&#39;s from the list and they all check out. When I run the test, only first element gets printed out which means it checks only first element for if condition and when it passes, it doesn&#39;t loop over the rest of the list. **How do I make the loop switch to next element after if condition?**\r\n\r\nMy code:\r\n\r\n```\r\n@Test\r\n    public void globalSQAHoverMenuTest() {\r\n        driver.get(&quot;https://www.globalsqa.com/samplepagetest/&quot;);\r\n        wdwait.until(ExpectedConditions.presenceOfElementLocated(By.id(&quot;menu-item-2822&quot;)));\r\n        multiactions.moveToElement(driver.findElement(By.id(&quot;menu-item-2822&quot;))).perform();\r\n        wdwait.until(ExpectedConditions.presenceOfElementLocated(By.linkText(&quot;Demo Testing Site&quot;)));\r\n        multiactions.moveToElement(driver.findElement(By.linkText(&quot;Demo Testing Site&quot;))).perform();\r\n        wdwait.until(ExpectedConditions.presenceOfElementLocated(By.linkText(&quot;AlertBox&quot;)));\r\n        multiactions.moveToElement(driver.findElement(By.linkText(&quot;AlertBox&quot;))).click().perform();\r\n\r\n        List&lt;WebElement&gt; iframeList = driver.findElements(By.xpath(&quot;//iframe[@allowtransparency=\\&quot;true\\&quot;]&quot;));\r\n        try {\r\n            for (WebElement webElement : iframeList) {\r\n                System.out.println(webElement);\r\n                driver.switchTo().frame(webElement);\r\n                if (!driver.findElements(By.id(&quot;ad_iframe&quot;)).isEmpty()) {\r\n                    driver.switchTo().frame(driver.findElement(By.id(&quot;ad_iframe&quot;)));\r\n                    wdwait.until(ExpectedConditions.presenceOfElementLocated(By.id(&quot;dismiss-button&quot;)));\r\n                    driver.findElement(By.id(&quot;dismiss-button&quot;)).click();\r\n                }\r\n            }\r\n        }\r\n\r\n        catch (ElementClickInterceptedException e) {\r\n\r\n        }\r\n\r\n        catch (StaleElementReferenceException e) {\r\n\r\n        }\r\n    }\r\n```\r\n","title":"Loop through list of iframes, check for element in iframe and do action with it","body":"<p>Here is the situation: On <a href=\"https://www.globalsqa.com/samplepagetest/\" rel=\"nofollow noreferrer\">https://www.globalsqa.com/samplepagetest/</a> I am trying to access the page &quot;Alertbox&quot; through page dropdown menu Tester's Hub/Demo Testing Site/Alertbox. Before the actual Alertbox page opens, an ad is shown which I want to close off course. An ad is located inside an iframe which in nested inside another iframe.</p>\n<p>Now here it becomes interesting...</p>\n<p>When page loads, there are several different iframes (7 max from what I could tell) and nested iframe with an ad appears randomly under one of these 7 iframes every time page is loaded.</p>\n<p>My idea was to create a list of iframes and for loop, go through all iframes and check whether nested iframe is located under it. When correct iframe is identifed, switch to nested iframe and close down the ad. I also added try/catch method to ignore intercept and staleElement exceptions.</p>\n<p><strong>There is something wrong in the for loop code, as loop executes on the first element only. Please see edit below</strong></p>\n<p><strong>Edit</strong>: I decided to use .println() method and go step by step to see where is the mistake in code. I printed size and iframe id's from the list and they all check out. When I run the test, only first element gets printed out which means it checks only first element for if condition and when it passes, it doesn't loop over the rest of the list. <strong>How do I make the loop switch to next element after if condition?</strong></p>\n<p>My code:</p>\n<pre><code>@Test\n    public void globalSQAHoverMenuTest() {\n        driver.get(&quot;https://www.globalsqa.com/samplepagetest/&quot;);\n        wdwait.until(ExpectedConditions.presenceOfElementLocated(By.id(&quot;menu-item-2822&quot;)));\n        multiactions.moveToElement(driver.findElement(By.id(&quot;menu-item-2822&quot;))).perform();\n        wdwait.until(ExpectedConditions.presenceOfElementLocated(By.linkText(&quot;Demo Testing Site&quot;)));\n        multiactions.moveToElement(driver.findElement(By.linkText(&quot;Demo Testing Site&quot;))).perform();\n        wdwait.until(ExpectedConditions.presenceOfElementLocated(By.linkText(&quot;AlertBox&quot;)));\n        multiactions.moveToElement(driver.findElement(By.linkText(&quot;AlertBox&quot;))).click().perform();\n\n        List&lt;WebElement&gt; iframeList = driver.findElements(By.xpath(&quot;//iframe[@allowtransparency=\\&quot;true\\&quot;]&quot;));\n        try {\n            for (WebElement webElement : iframeList) {\n                System.out.println(webElement);\n                driver.switchTo().frame(webElement);\n                if (!driver.findElements(By.id(&quot;ad_iframe&quot;)).isEmpty()) {\n                    driver.switchTo().frame(driver.findElement(By.id(&quot;ad_iframe&quot;)));\n                    wdwait.until(ExpectedConditions.presenceOfElementLocated(By.id(&quot;dismiss-button&quot;)));\n                    driver.findElement(By.id(&quot;dismiss-button&quot;)).click();\n                }\n            }\n        }\n\n        catch (ElementClickInterceptedException e) {\n\n        }\n\n        catch (StaleElementReferenceException e) {\n\n        }\n    }\n</code></pre>\n"},{"tags":["java","maven","code-generation","annotation-processing","cannot-find-symbol"],"answers":[{"tags":[],"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700831917,"creation_date":1700831917,"answer_id":77543444,"question_id":77510844,"body_markdown":"The reason why it isn&#39;t working in your runner is most likely due to the use of an older maven-compiler-plugin\r\n\r\nI would suggest adding\r\n\r\n```xml\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.11.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\nAnother alternative would also be to just add the `maven-compiler-plugin` in your parent `pluginManagement`\r\n\r\n```xml\r\n&lt;pluginManagement&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.11.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/pluginManagement&gt;\r\n```\r\n\r\nIn this case you do not need to do anything in the runner and in the processor pom.xml you&#39;ll only need to do\r\n\r\n```xml\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;default-compile&lt;/id&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;compilerArgument&gt;-proc:none&lt;/compilerArgument&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```","title":"Can&#39;t find class in generated sources produced by custom annotation processor when running java program","body":"<p>The reason why it isn't working in your runner is most likely due to the use of an older maven-compiler-plugin</p>\n<p>I would suggest adding</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.11.0&lt;/version&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Another alternative would also be to just add the <code>maven-compiler-plugin</code> in your parent <code>pluginManagement</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;pluginManagement&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.11.0&lt;/version&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/pluginManagement&gt;\n</code></pre>\n<p>In this case you do not need to do anything in the runner and in the processor pom.xml you'll only need to do</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;default-compile&lt;/id&gt;\n                    &lt;configuration&gt;\n                        &lt;compilerArgument&gt;-proc:none&lt;/compilerArgument&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":10970706,"reputation":41,"user_id":8061089,"display_name":"Mustapha Mond"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700831917,"creation_date":1700398968,"question_id":77510844,"body_markdown":"I have written an annotation processor to generate classes to the generated sources directly during compilation. The class generates with valid syntax, and to the correct, matching (same as interface that is annotated) package. My IDE (IntelliJ) detects the generated class and itself does not produce compilation errors. When I also generate a spring type bean with my library (using `@Component`) My IDE also correctly detects that it is a injectable bean. \r\n\r\nWhen I try to execute a normal java program I get this error:\r\n```\r\njava: cannot find symbol\r\n  symbol:   class DuhStudentMapper\r\n```\r\n\r\nWhen I try to start a spring boot server, I get this error:\r\n```\r\nField wordMapper2 in com.oworms.word.controller.WordController required a bean of type &#39;com.oworms.WordMapper2&#39; that could not be found.\r\n```\r\n\r\n\r\nParent `pom.xml`:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.noydb.duhmap&lt;/groupId&gt;\r\n    &lt;artifactId&gt;duhmapper&lt;/artifactId&gt;\r\n    &lt;name&gt;duhmapper&lt;/name&gt;\r\n    &lt;version&gt;0.5.1&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;processor&lt;/module&gt;\r\n        &lt;module&gt;runner&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n\r\n        &lt;duhmap.processor.version&gt;0.6.0&lt;/duhmap.processor.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nProcessor `pom.xml`:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.noydb.duhmap&lt;/groupId&gt;\r\n        &lt;artifactId&gt;duhmapper&lt;/artifactId&gt;\r\n        &lt;version&gt;0.5.1&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;processor&lt;/artifactId&gt;\r\n    &lt;version&gt;${duhmap.processor.version}&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.11.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-compile&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;source&gt;${java.version}&lt;/source&gt;\r\n                            &lt;target&gt;${java.version}&lt;/target&gt;\r\n                            &lt;compilerArgument&gt;-proc:none&lt;/compilerArgument&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n           &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;attach-sources&lt;/id&gt;\r\n                        &lt;phase&gt;verify&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;jar&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nIm not certain I need the maven-source-plugin, but when I went through other popular libraries doing annotation processor work, they had that plugin configured. \r\n\r\nRunner (purely for testing purposes) `pom.xml`:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.noydb.duhmap&lt;/groupId&gt;\r\n        &lt;artifactId&gt;duhmapper&lt;/artifactId&gt;\r\n        &lt;version&gt;0.5.1&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;runner&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.0-final&lt;/version&gt;\r\n    &lt;description&gt;\r\n        A simple test module to practice and test the processor. Zero importance in regard to this library\r\n    &lt;/description&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.noydb.duhmap&lt;/groupId&gt;\r\n            &lt;artifactId&gt;processor&lt;/artifactId&gt;\r\n            &lt;version&gt;${duhmap.processor.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nThe processor writes the file to the directory like so:\r\n```java\r\nfinal Filer filer = processingEnv.getFiler();\r\nfinal FileObject fileObject;\r\n\r\ntry {\r\n    fileObject = filer.createResource(StandardLocation.SOURCE_OUTPUT, packageName, className + &quot;.java&quot;);\r\n} catch (final IOException e) {\r\n    throw new DuhMapException(\r\n            String.format(\r\n                    &quot;Error during writing of DuhMap file to source output for class: %s.%s&quot;,\r\n                    packageName,\r\n                    className\r\n            ),\r\n            e\r\n    );\r\n}\r\n\r\ntry (final Writer writer = fileObject.openWriter()) {\r\n    writer.write(content);\r\n} catch (final IOException e) {\r\n    throw new DuhMapException(\r\n            String.format(\r\n                    &quot;Error during writing of DuhMap file to source output for class: %s.%s&quot;,\r\n                    packageName,\r\n                    className\r\n            ),\r\n            e\r\n    );\r\n}\r\n```\r\n\r\nI feel as if I am missing some type of maven configuration or compiler option. I have gone through the source code of other popular libraries doing similar things to this library Im trying to build, but I cannot seem to spot anything I might be missing. I also struggle to know what to Google in order to find articles, advice, etc. on this specific problem.\r\n\r\nAny help would be greatly appreciated","title":"Can&#39;t find class in generated sources produced by custom annotation processor when running java program","body":"<p>I have written an annotation processor to generate classes to the generated sources directly during compilation. The class generates with valid syntax, and to the correct, matching (same as interface that is annotated) package. My IDE (IntelliJ) detects the generated class and itself does not produce compilation errors. When I also generate a spring type bean with my library (using <code>@Component</code>) My IDE also correctly detects that it is a injectable bean.</p>\n<p>When I try to execute a normal java program I get this error:</p>\n<pre><code>java: cannot find symbol\n  symbol:   class DuhStudentMapper\n</code></pre>\n<p>When I try to start a spring boot server, I get this error:</p>\n<pre><code>Field wordMapper2 in com.oworms.word.controller.WordController required a bean of type 'com.oworms.WordMapper2' that could not be found.\n</code></pre>\n<p>Parent <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.noydb.duhmap&lt;/groupId&gt;\n    &lt;artifactId&gt;duhmapper&lt;/artifactId&gt;\n    &lt;name&gt;duhmapper&lt;/name&gt;\n    &lt;version&gt;0.5.1&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;processor&lt;/module&gt;\n        &lt;module&gt;runner&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n\n        &lt;duhmap.processor.version&gt;0.6.0&lt;/duhmap.processor.version&gt;\n    &lt;/properties&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Processor <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.noydb.duhmap&lt;/groupId&gt;\n        &lt;artifactId&gt;duhmapper&lt;/artifactId&gt;\n        &lt;version&gt;0.5.1&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;processor&lt;/artifactId&gt;\n    &lt;version&gt;${duhmap.processor.version}&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.11.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-compile&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;source&gt;${java.version}&lt;/source&gt;\n                            &lt;target&gt;${java.version}&lt;/target&gt;\n                            &lt;compilerArgument&gt;-proc:none&lt;/compilerArgument&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n           &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;attach-sources&lt;/id&gt;\n                        &lt;phase&gt;verify&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Im not certain I need the maven-source-plugin, but when I went through other popular libraries doing annotation processor work, they had that plugin configured.</p>\n<p>Runner (purely for testing purposes) <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.noydb.duhmap&lt;/groupId&gt;\n        &lt;artifactId&gt;duhmapper&lt;/artifactId&gt;\n        &lt;version&gt;0.5.1&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;runner&lt;/artifactId&gt;\n    &lt;version&gt;0.0.0-final&lt;/version&gt;\n    &lt;description&gt;\n        A simple test module to practice and test the processor. Zero importance in regard to this library\n    &lt;/description&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.noydb.duhmap&lt;/groupId&gt;\n            &lt;artifactId&gt;processor&lt;/artifactId&gt;\n            &lt;version&gt;${duhmap.processor.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>The processor writes the file to the directory like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Filer filer = processingEnv.getFiler();\nfinal FileObject fileObject;\n\ntry {\n    fileObject = filer.createResource(StandardLocation.SOURCE_OUTPUT, packageName, className + &quot;.java&quot;);\n} catch (final IOException e) {\n    throw new DuhMapException(\n            String.format(\n                    &quot;Error during writing of DuhMap file to source output for class: %s.%s&quot;,\n                    packageName,\n                    className\n            ),\n            e\n    );\n}\n\ntry (final Writer writer = fileObject.openWriter()) {\n    writer.write(content);\n} catch (final IOException e) {\n    throw new DuhMapException(\n            String.format(\n                    &quot;Error during writing of DuhMap file to source output for class: %s.%s&quot;,\n                    packageName,\n                    className\n            ),\n            e\n    );\n}\n</code></pre>\n<p>I feel as if I am missing some type of maven configuration or compiler option. I have gone through the source code of other popular libraries doing similar things to this library Im trying to build, but I cannot seem to spot anything I might be missing. I also struggle to know what to Google in order to find articles, advice, etc. on this specific problem.</p>\n<p>Any help would be greatly appreciated</p>\n"},{"tags":["java","selenium-webdriver","xpath"],"comments":[{"owner":{"account_id":11827645,"reputation":3065,"user_id":9011164,"accept_rate":50,"display_name":"KunLun"},"score":0,"creation_date":1594369314,"post_id":62830023,"comment_id":111107399,"body_markdown":"`wait.until(...)` - wait until condition is valid or time expire. If time expire, it throws `TimeoutException`. `new WebDriverWait(driver, 120);` - the timeout is 120 seconds.","body":"<code>wait.until(...)</code> - wait until condition is valid or time expire. If time expire, it throws <code>TimeoutException</code>. <code>new WebDriverWait(driver, 120);</code> - the timeout is 120 seconds."}],"answers":[{"comments":[{"owner":{"account_id":6329922,"reputation":79,"user_id":4915108,"accept_rate":25,"display_name":"kush"},"score":0,"creation_date":1594472989,"post_id":62832984,"comment_id":111141401,"body_markdown":"Thanks Narendra, Your answer help me to gain more understanding about these APIs. Still, i am facing the same issue after refactoring as per your suggestion.  rg.openqa.selenium.TimeoutException: Expected condition failed: waiting for visibility of element located by By.xpath: /*//table[@class=&#39;urMatrixLayout urHtmlTableReset&#39;]//tr//table//tr//td//div//div/span[contains(text(),&#39;Violations&#39;)] (tried for 120 second(s) with 1000 milliseconds interval). Please check my Xpath and html tree in the question.  is there something like i am providing wrong path?","body":"Thanks Narendra, Your answer help me to gain more understanding about these APIs. Still, i am facing the same issue after refactoring as per your suggestion.  rg.openqa.selenium.TimeoutException: Expected condition failed: waiting for visibility of element located by By.xpath: /*//table[@class=&#39;urMatrixLayout urHtmlTableReset&#39;]//tr//table//tr//td//div//div/span[contain&zwnj;&#8203;s(text(),&#39;Violations&zwnj;&#8203;&#39;)] (tried for 120 second(s) with 1000 milliseconds interval). Please check my Xpath and html tree in the question.  is there something like i am providing wrong path?"},{"owner":{"account_id":6597861,"reputation":7627,"user_id":5097027,"accept_rate":71,"display_name":"NarendraR"},"score":0,"creation_date":1594475346,"post_id":62832984,"comment_id":111142056,"body_markdown":"@kush, I can&#39;t find the matching element with your xpath in HTML tree shared by you. How did you find this xpath? Make it more relative. Use this xpath `//div[@class=&#39;lsTbsEndMore2&#39;]/span[contains(.,&#39;Violations&#39;)]` and let me know.","body":"@kush, I can&#39;t find the matching element with your xpath in HTML tree shared by you. How did you find this xpath? Make it more relative. Use this xpath <code>&#47;&#47;div[@class=&#39;lsTbsEndMore2&#39;]&#47;span[contains(.,&#39;Violations&#39;)]</code> and let me know."}],"tags":[],"owner":{"account_id":6597861,"reputation":7627,"user_id":5097027,"accept_rate":71,"display_name":"NarendraR"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594379202,"creation_date":1594379202,"answer_id":62832984,"question_id":62830023,"body_markdown":"Seems the problem is with this code `wait.until(ExpectedConditions.and(ExpectedConditions.visibilityOfAllElementsLocatedBy(element),ExpectedConditions.elementToBeClickable(element)));`\r\n\r\nBoth condition are not getting full fill at the same time and after reaching threshold time limit it throws the Timeout Exception.\r\n\r\n**Solution:**\r\n\r\nSplit the and condition to identify which method causing issue:\r\n\r\n\twait.until(ExpectedConditions.visibilityOfAllElementsLocatedBy(element));\r\n\twait.until(ExpectedConditions.elementToBeClickable(element));\r\n\r\n\r\nAnother thing is try to replace `visibilityOfAllElementsLocatedBy` with [visibilityOf(element)][1] or [visibilityOfElementLocated(locator)][2] in your method. \r\n\r\n    wait.until(ExpectedConditions.visibilityOfElementLocated(element));\r\n\r\n`visibilityOfAllElementsLocatedBy` waits until **all the element** on the page get visible and it might be the case that all the element you are locating are not visible on page at same time. This method used for multiple element.\r\n\r\n\r\n  [1]: https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#visibilityOf-org.openqa.selenium.WebElement-\r\n  [2]: https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#visibilityOfElementLocated-org.openqa.selenium.By-","title":"org.openqa.selenium.TimeoutException: Expected condition failed: waiting for all conditions to be valid","body":"<p>Seems the problem is with this code <code>wait.until(ExpectedConditions.and(ExpectedConditions.visibilityOfAllElementsLocatedBy(element),ExpectedConditions.elementToBeClickable(element)));</code></p>\n<p>Both condition are not getting full fill at the same time and after reaching threshold time limit it throws the Timeout Exception.</p>\n<p><strong>Solution:</strong></p>\n<p>Split the and condition to identify which method causing issue:</p>\n<pre><code>wait.until(ExpectedConditions.visibilityOfAllElementsLocatedBy(element));\nwait.until(ExpectedConditions.elementToBeClickable(element));\n</code></pre>\n<p>Another thing is try to replace <code>visibilityOfAllElementsLocatedBy</code> with <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#visibilityOf-org.openqa.selenium.WebElement-\" rel=\"nofollow noreferrer\">visibilityOf(element)</a> or <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#visibilityOfElementLocated-org.openqa.selenium.By-\" rel=\"nofollow noreferrer\">visibilityOfElementLocated(locator)</a> in your method.</p>\n<pre><code>wait.until(ExpectedConditions.visibilityOfElementLocated(element));\n</code></pre>\n<p><code>visibilityOfAllElementsLocatedBy</code> waits until <strong>all the element</strong> on the page get visible and it might be the case that all the element you are locating are not visible on page at same time. This method used for multiple element.</p>\n"},{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594667320,"creation_date":1594667320,"answer_id":62882652,"question_id":62830023,"body_markdown":"1. Starting xpath from `/*//table` is the same as starting from `//table`\r\n2. Your xpath is incorrect. If you look at your html you will see that both tables having class `urMatrixLayout urHtmlTableReset` do not contain mentioned text\r\n3. Both conditions check is synchronized in time so at this point everything is okay\r\n4. You can test your code with this path: `//div[@id=&#39;WDED-panel&#39;]//span[contains(text(), &#39;Violations&#39;)]`","title":"org.openqa.selenium.TimeoutException: Expected condition failed: waiting for all conditions to be valid","body":"<ol>\n<li>Starting xpath from <code>/*//table</code> is the same as starting from <code>//table</code></li>\n<li>Your xpath is incorrect. If you look at your html you will see that both tables having class <code>urMatrixLayout urHtmlTableReset</code> do not contain mentioned text</li>\n<li>Both conditions check is synchronized in time so at this point everything is okay</li>\n<li>You can test your code with this path: <code>//div[@id='WDED-panel']//span[contains(text(), 'Violations')]</code></li>\n</ol>\n"}],"owner":{"account_id":6329922,"reputation":79,"user_id":4915108,"accept_rate":25,"display_name":"kush"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4402,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700831427,"creation_date":1594369008,"question_id":62830023,"body_markdown":"I am new to selenium, So very limited knowledge about the selenium. Here I am facing intermittent timeout issue for internet explorer. I had tried increasing timeout still it fails sometimes. \r\n \r\n**Error stack trace:**\r\n\r\n    org.openqa.selenium.TimeoutException: Expected condition failed: waiting for all conditions to be valid: visibility of all elements located by By.xpath: /*//table[@class=&#39;urMatrixLayout urHtmlTableReset&#39;]//tr//table//tr//td//div//div/span[contains(text(),&#39;Violations&#39;)] &amp;&amp; element to be clickable: By.xpath: /*//table[@class=&#39;urMatrixLayout urHtmlTableReset&#39;]//tr//table//tr//td//div//div/span[contains(text(),&#39;Violations&#39;)] (tried for 120 second(s) with 1000 milliseconds interval)\r\n    Build info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:17:03&#39;\r\n    System info: host: &#39;WIN-2PRR06VLLDC&#39;, ip: &#39;xxx.xxx.xx.xx&#39;, os.name: &#39;Windows Server 2019&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;1.8.0_241&#39;\r\n    Driver info: org.openqa.selenium.ie.InternetExplorerDriver\r\n    Capabilities {browserAttachTimeout: 0, browserName: internet explorer, elementScrollBehavior: 0, enableElementCacheCleanup: true, enablePersistentHover: false, ie.browserCommandLineSwitches: , ie.enableFullPageScreenshot: true, ie.ensureCleanSession: true, ie.fileUploadDialogTimeout: 3000, ie.forceCreateProcessApi: false, ie.forceShellWindowsApi: false, ignoreProtectedModeSettings: true, ignoreZoomSetting: true, initialBrowserUrl: , javascriptEnabled: true, nativeEvents: false, pageLoadStrategy: normal, platform: WINDOWS, platformName: WINDOWS, requireWindowFocus: false, unexpectedAlertBehaviour: dismiss, unhandledPromptBehavior: dismiss, version: 11}\r\n\r\nI have implemented code in the following way \r\n\r\n     public static void clickOnElement(By element, String comment, WebDriver driver) {\r\n        WebDriverWait wait = new WebDriverWait(driver, 120);\r\n        wait.pollingEvery(1000, TimeUnit.MILLISECONDS);\r\n        wait.ignoring(NoSuchElementException.class);\r\n        wait.ignoring(StaleElementReferenceException.class);\r\n        wait.until(ExpectedConditions.and(ExpectedConditions.visibilityOfAllElementsLocatedBy(element),\r\n                ExpectedConditions.elementToBeClickable(element)));\r\n        WebElement context = driver.findElement(element);\r\n        wait.until(new ExpectedCondition&lt;Boolean&gt;() {\r\n        @Override\r\n            public Boolean apply(WebDriver driver) {\r\n                return ((JavascriptExecutor) driver).executeScript(&quot;return document.readyState&quot;).equals(&quot;complete&quot;);\r\n            }\r\n        });\r\n        driver.manage().timeouts().pageLoadTimeout(120,TimeUnit.SECONDS);\r\n        context.click();\r\n        log.info(&quot;Clicked on element &quot; + comment);\r\n    }\r\n\r\nAny help will be much appreciated. Thanks in advance!!\r\n \r\n**Html** tree: \r\n\r\n     `&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; id=&quot;WDCC&quot; ct=&quot;ML&quot; lsdata=&quot; \r\n      {0:&#39;WDCC&#39;,7:&#39;LINE&#39;}&quot; class=&quot;urMatrixLayout urHtmlTableReset&quot; \r\n      role=&quot;presentation&quot; border=&quot;0&quot; style=&quot;border-collapse:collapse;&quot;&gt;\r\n      &lt;tbody class=&quot;urLinStd&quot;&gt;\r\n      &lt;tr&gt;\r\n         &lt;td ct=&quot;MLC&quot; lsdata=&quot;{}&quot; id=&quot;WDCE&quot; valign=&quot;baseline&quot; align=&quot;left&quot; \r\n      class=&quot;urLayoutDefault&quot; style=&quot;border-collapse:separate;white- \r\n      space:normal;&quot;&gt;&lt;label ct=&quot;L&quot; lsdata=&quot; \r\n      {1:&#39;WDD1&#39;,3:&#39;Business\\x20Process&#39;,4:true,11:&#39;ENDOFLINE&#39;,12:true}&quot; \r\n      id=&quot;WDCF&quot; f=&quot;WDD1&quot; class=&quot;urL&quot; style=&quot;text-align:right;line- \r\n      height:normal;display:inline-block;min-width:100%;white-space:nowrap;&quot;&gt; \r\n      &lt;span class=&quot;urLblReq&quot;&gt;*&lt;/span&gt;&amp;nbsp;Business Process:&lt;/label&gt;&lt;/td&gt;\r\n         &lt;td ct=&quot;MLC&quot; lsdata=&quot;{}&quot; id=&quot;WDD0&quot; valign=&quot;baseline&quot; align=&quot;left&quot; \r\n      class=&quot;urLayoutDefault&quot; style=&quot;border-collapse:separate;white- \r\n      space:normal;&quot;&gt;\r\n            &lt;span id=&quot;WDD1-r&quot; class=&quot;urCoB2Whl &quot;&gt;\r\n               &lt;input id=&quot;WDD1&quot; ct=&quot;CB&quot; lsdata=&quot; \r\n      {4:true,7:&#39;WDD2&#39;,8:&#39;Basis&#39;,10:&#39;Basis&#39;}&quot; lsevents=&quot;{Select: \r\n      [{ResponseData:&#39;delta&#39;,ClientAction:&#39;submit&#39;},{}]}&quot; type=&quot;text&quot; \r\n      autocomplete=&quot;off&quot; tabindex=&quot;0&quot; ti=&quot;0&quot; class=&quot;urEdf2TxtRadius \r\n      urEdf2TxtEnbl lsEdf3TxtHlpBtn lsEdfLeftBrdRadius urBorderBox&quot; \r\n      readonly=&quot;&quot; value=&quot;Basis&quot; role=&quot;combobox&quot; style=&quot;width:125px;&quot;&gt;\r\n               &lt;div id=&quot;WDD1-btn&quot; tabindex=&quot;-1&quot; ti=&quot;-1&quot; class=&quot;lsEdf3HlpBtnStd \r\n      urBorderBox lsEdf2HlpRadius lsEdf3HlpIcon lsEdf3HlpBtn lsEdf3HlpBtnCoB&quot; \r\n      role=&quot;button&quot; style=&quot;display:inline-block;&quot;&gt;&lt;/div&gt;\r\n            &lt;/span&gt;\r\n         &lt;/td&gt;\r\n      &lt;/tr&gt;\r\n      &lt;tr&gt;\r\n         &lt;td ct=&quot;MLC&quot; lsdata=&quot;{}&quot; id=&quot;WDE1&quot; valign=&quot;baseline&quot; align=&quot;left&quot; \r\n      class=&quot;urLayoutDefault&quot; style=&quot;border-collapse:separate;white- \r\n      space:normal;&quot;&gt;&lt;label ct=&quot;L&quot; lsdata=&quot; \r\n      {1:&#39;WDE4&#39;,3:&#39;Functional\\x20Area&#39;,11:&#39;ENDOFLINE&#39;,12:true}&quot; id=&quot;WDE2&quot; \r\n      f=&quot;WDE4&quot; class=&quot;urL&quot; style=&quot;text-align:right;line- \r\n      height:normal;display:inline-block;min-width:100%;white- \r\n      space:nowrap;&quot;&gt;Functional Area:&lt;/label&gt;&lt;/td&gt;\r\n         &lt;td ct=&quot;MLC&quot; lsdata=&quot;{}&quot; id=&quot;WDE3&quot; valign=&quot;baseline&quot; align=&quot;left&quot; \r\n      class=&quot;urLayoutDefault&quot; style=&quot;border-collapse:separate;white- \r\n      space:normal;&quot;&gt;\r\n            &lt;span id=&quot;WDE4-r&quot; class=&quot;urCoB2Whl &quot;&gt;\r\n               &lt;input id=&quot;WDE4&quot; ct=&quot;CB&quot; lsdata=&quot;{7:&#39;WDE5&#39;,10:&#39;Select&#39;}&quot; \r\n      lsevents=&quot;{Select:[{ResponseData:&#39;delta&#39;,ClientAction:&#39;submit&#39;},{}]}&quot; \r\n      type=&quot;text&quot; autocomplete=&quot;off&quot; tabindex=&quot;0&quot; ti=&quot;0&quot; \r\n      class=&quot;urEdf2TxtRadius urEdf2TxtEnbl lsEdf3TxtHlpBtn lsEdfLeftBrdRadius \r\n      urBorderBox&quot; readonly=&quot;&quot; value=&quot;Select&quot; role=&quot;combobox&quot; \r\n      style=&quot;width:125px;&quot;&gt;\r\n               &lt;div id=&quot;WDE4-btn&quot; tabindex=&quot;-1&quot; ti=&quot;-1&quot; class=&quot;lsEdf3HlpBtnStd \r\n      urBorderBox lsEdf2HlpRadius lsEdf3HlpIcon lsEdf3HlpBtn lsEdf3HlpBtnCoB&quot; \r\n      role=&quot;button&quot; style=&quot;display:inline-block;&quot;&gt;&lt;/div&gt;\r\n            &lt;/span&gt;\r\n         &lt;/td&gt;\r\n      &lt;/tr&gt;\r\n      &lt;/tbody&gt;\r\n      &lt;/table&gt;\r\n      &lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt; \r\n      &lt;/table&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt; \r\n      &lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/td&gt; \r\n      &lt;/tr&gt;\r\n      &lt;tr&gt;\r\n      &lt;td ct=&quot;MLC&quot; lsdata=&quot;{}&quot; id=&quot;WDE8&quot; valign=&quot;bottom&quot; align=&quot;left&quot; \r\n      class=&quot;urLayoutPadless&quot; style=&quot;border- \r\n      collapse:separate;width:100%;height:5px;white-space:normal;&quot;&gt;\r\n      &lt;div id=&quot;WDEA-r&quot;&gt;\r\n         &lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; id=&quot;WDEA&quot; ct=&quot;ML&quot; lsdata=&quot; \r\n       {0:&#39;WDEA&#39;,7:&#39;LINE&#39;}&quot; class=&quot;urMatrixLayout urHtmlTableReset&quot; \r\n       role=&quot;presentation&quot; border=&quot;0&quot; style=&quot;border-collapse:collapse;&quot;&gt;\r\n            &lt;tbody class=&quot;urLinStd&quot;&gt;\r\n               &lt;tr&gt;\r\n                  &lt;td&gt;&lt;/td&gt;\r\n               &lt;/tr&gt;\r\n            &lt;/tbody&gt;\r\n         &lt;/table&gt;\r\n        &lt;/div&gt;\r\n        &lt;/td&gt;\r\n        &lt;/tr&gt;\r\n         &lt;tr&gt;\r\n       &lt;td ct=&quot;MLC&quot; lsdata=&quot;{}&quot; id=&quot;WDEC&quot; valign=&quot;bottom&quot; align=&quot;left&quot; \r\n        class=&quot;urLayoutPadless&quot; style=&quot;border- \r\n        collapse:separate;width:100%;white-space:normal;&quot;&gt;\r\n      &lt;table border=&quot;0&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; id=&quot;WDED&quot; ct=&quot;TS&quot; \r\n      lsdata=&quot;{2:&#39;100\\x25&#39;,3:&#39;Choose\\x20Tab&#39;,6:true,7:false,8:false}&quot; \r\n      lsevents=&quot;{TabSelect:[{ResponseData:&#39;delta&#39;,ClientAction:&#39;submit&#39;}, \r\n       {}],Scroll:[{ResponseData:&#39;delta&#39;,EnqueueCardinality:&#39;single&#39;}, \r\n      {}],Hotkey:[{ResponseData:&#39;delta&#39;,ClientAction:&#39;submit&#39;},{}]}&quot; class=&quot;&quot; \r\n      role=&quot;presentation&quot; style=&quot;width:100%;&quot; tabindex=&quot;-1&quot; ti=&quot;-1&quot;&gt;\r\n      &lt;tbody&gt;\r\n      &lt;tr&gt;\r\n      &lt;td valign=&quot;bottom&quot; class=&quot;lsTbsPanelCnt&quot;&gt;\r\n         &lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; border=&quot;0&quot; \r\n       style=&quot;width:100%;&quot;&gt;\r\n      &lt;tbody&gt;\r\n      &lt;tr&gt;\r\n      &lt;td class=&quot;lsTbsPanelLeftBtns&quot; align=&quot;left&quot;&gt;&lt;a \r\n        class=&quot;lsTbsPgPrevLeftDisp lsTbsBtnIcon&quot; tabindex=&quot;-1&quot; ti=&quot;-1&quot; \r\n      id=&quot;WDED-prevLeft&quot; style=&quot;visibility:hidden;&quot;&gt;&lt;/a&gt;&lt;/td&gt;\r\n      &lt;td class=&quot;lsTbsPanel2&quot; width=&quot;90%&quot;&gt;\r\n         &lt;span itn=&quot;ITBB&quot; id=&quot;WDED-ITBB&quot; tabindex=&quot;0&quot; ti=&quot;0&quot; \r\n      style=&quot;position:absolute;top:-1000;height:1;&quot;&gt;&lt;/span&gt;\r\n         &lt;div id=&quot;WDED-panel&quot; class=&quot;lsTbsOvfl&quot; role=&quot;tablist&quot; aria- \r\n      controls=&quot;&quot; style=&quot;float:left;&quot;&gt;\r\n         &lt;div ct=&quot;TSITM&quot; lsdata=&quot;{0:&#39;WDEE&#39;,2:true,12:&#39;WDEF&#39;}&quot; id=&quot;WDEE&quot; \r\n      class=&quot;lsTbsEndMore2Sel&quot; style=&quot;visibility: visible;&quot;&gt;\r\n            &lt;span class=&quot;lsTbsFirst2Sel&quot;&gt;&lt;/span&gt;\r\n            &lt;span role=&quot;tab&quot; id=&quot;WDEE-focus&quot; tabindex=&quot;0&quot; ti=&quot;0&quot; \r\n      class=&quot;urNoUserSelect lsTbsLabel2Sel&quot;&gt;\r\n               User Access\r\n               &lt;div class=&quot;lsTbsTitleAlign&quot; aria-hidden=&quot;true&quot; \r\n       role=&quot;presentation&quot;&gt;User Access-&lt;/div&gt;\r\n            &lt;/span&gt;\r\n         &lt;/div&gt;\r\n         &lt;div ct=&quot;TSITM&quot; lsdata=&quot;{0:&#39;WD01B0&#39;,1:1,2:true,12:&#39;WD01B1&#39;}&quot; \r\n       id=&quot;WD01B0&quot; class=&quot;lsTbsEndMore2&quot; style=&quot;visibility: visible;&quot;&gt;\r\n         &lt;span class=&quot;lsTbsStartEnd2Sel&quot;&gt;&lt;/span&gt;\r\n         &lt;span role=&quot;tab&quot; id=&quot;WD01B0-focus&quot; tabindex=&quot;0&quot; ti=&quot;0&quot; \r\n       class=&quot;urNoUserSelect lsTbsLabel2&quot;&gt;\r\n            Violations\r\n            &lt;div class=&quot;lsTbsTitleAlign&quot; aria-hidden=&quot;true&quot; \r\n        role=&quot;presentation&quot;&gt;Violations-&lt;/div&gt;\r\n         &lt;/span&gt;`\r\n\r\n\r\n**Xpath** : \r\n\r\n    /*//table[@class=&#39;urMatrixLayout urHtmlTableReset&#39;]//tr//table//tr//td//div//div/span[contains(text(),&#39;Violations&#39;)]","title":"org.openqa.selenium.TimeoutException: Expected condition failed: waiting for all conditions to be valid","body":"<p>I am new to selenium, So very limited knowledge about the selenium. Here I am facing intermittent timeout issue for internet explorer. I had tried increasing timeout still it fails sometimes.</p>\n<p><strong>Error stack trace:</strong></p>\n<pre><code>org.openqa.selenium.TimeoutException: Expected condition failed: waiting for all conditions to be valid: visibility of all elements located by By.xpath: /*//table[@class='urMatrixLayout urHtmlTableReset']//tr//table//tr//td//div//div/span[contains(text(),'Violations')] &amp;&amp; element to be clickable: By.xpath: /*//table[@class='urMatrixLayout urHtmlTableReset']//tr//table//tr//td//div//div/span[contains(text(),'Violations')] (tried for 120 second(s) with 1000 milliseconds interval)\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'\nSystem info: host: 'WIN-2PRR06VLLDC', ip: 'xxx.xxx.xx.xx', os.name: 'Windows Server 2019', os.arch: 'amd64', os.version: '10.0', java.version: '1.8.0_241'\nDriver info: org.openqa.selenium.ie.InternetExplorerDriver\nCapabilities {browserAttachTimeout: 0, browserName: internet explorer, elementScrollBehavior: 0, enableElementCacheCleanup: true, enablePersistentHover: false, ie.browserCommandLineSwitches: , ie.enableFullPageScreenshot: true, ie.ensureCleanSession: true, ie.fileUploadDialogTimeout: 3000, ie.forceCreateProcessApi: false, ie.forceShellWindowsApi: false, ignoreProtectedModeSettings: true, ignoreZoomSetting: true, initialBrowserUrl: , javascriptEnabled: true, nativeEvents: false, pageLoadStrategy: normal, platform: WINDOWS, platformName: WINDOWS, requireWindowFocus: false, unexpectedAlertBehaviour: dismiss, unhandledPromptBehavior: dismiss, version: 11}\n</code></pre>\n<p>I have implemented code in the following way</p>\n<pre><code> public static void clickOnElement(By element, String comment, WebDriver driver) {\n    WebDriverWait wait = new WebDriverWait(driver, 120);\n    wait.pollingEvery(1000, TimeUnit.MILLISECONDS);\n    wait.ignoring(NoSuchElementException.class);\n    wait.ignoring(StaleElementReferenceException.class);\n    wait.until(ExpectedConditions.and(ExpectedConditions.visibilityOfAllElementsLocatedBy(element),\n            ExpectedConditions.elementToBeClickable(element)));\n    WebElement context = driver.findElement(element);\n    wait.until(new ExpectedCondition&lt;Boolean&gt;() {\n    @Override\n        public Boolean apply(WebDriver driver) {\n            return ((JavascriptExecutor) driver).executeScript(&quot;return document.readyState&quot;).equals(&quot;complete&quot;);\n        }\n    });\n    driver.manage().timeouts().pageLoadTimeout(120,TimeUnit.SECONDS);\n    context.click();\n    log.info(&quot;Clicked on element &quot; + comment);\n}\n</code></pre>\n<p>Any help will be much appreciated. Thanks in advance!!</p>\n<p><strong>Html</strong> tree:</p>\n<pre><code> `&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; id=&quot;WDCC&quot; ct=&quot;ML&quot; lsdata=&quot; \n  {0:'WDCC',7:'LINE'}&quot; class=&quot;urMatrixLayout urHtmlTableReset&quot; \n  role=&quot;presentation&quot; border=&quot;0&quot; style=&quot;border-collapse:collapse;&quot;&gt;\n  &lt;tbody class=&quot;urLinStd&quot;&gt;\n  &lt;tr&gt;\n     &lt;td ct=&quot;MLC&quot; lsdata=&quot;{}&quot; id=&quot;WDCE&quot; valign=&quot;baseline&quot; align=&quot;left&quot; \n  class=&quot;urLayoutDefault&quot; style=&quot;border-collapse:separate;white- \n  space:normal;&quot;&gt;&lt;label ct=&quot;L&quot; lsdata=&quot; \n  {1:'WDD1',3:'Business\\x20Process',4:true,11:'ENDOFLINE',12:true}&quot; \n  id=&quot;WDCF&quot; f=&quot;WDD1&quot; class=&quot;urL&quot; style=&quot;text-align:right;line- \n  height:normal;display:inline-block;min-width:100%;white-space:nowrap;&quot;&gt; \n  &lt;span class=&quot;urLblReq&quot;&gt;*&lt;/span&gt;&amp;nbsp;Business Process:&lt;/label&gt;&lt;/td&gt;\n     &lt;td ct=&quot;MLC&quot; lsdata=&quot;{}&quot; id=&quot;WDD0&quot; valign=&quot;baseline&quot; align=&quot;left&quot; \n  class=&quot;urLayoutDefault&quot; style=&quot;border-collapse:separate;white- \n  space:normal;&quot;&gt;\n        &lt;span id=&quot;WDD1-r&quot; class=&quot;urCoB2Whl &quot;&gt;\n           &lt;input id=&quot;WDD1&quot; ct=&quot;CB&quot; lsdata=&quot; \n  {4:true,7:'WDD2',8:'Basis',10:'Basis'}&quot; lsevents=&quot;{Select: \n  [{ResponseData:'delta',ClientAction:'submit'},{}]}&quot; type=&quot;text&quot; \n  autocomplete=&quot;off&quot; tabindex=&quot;0&quot; ti=&quot;0&quot; class=&quot;urEdf2TxtRadius \n  urEdf2TxtEnbl lsEdf3TxtHlpBtn lsEdfLeftBrdRadius urBorderBox&quot; \n  readonly=&quot;&quot; value=&quot;Basis&quot; role=&quot;combobox&quot; style=&quot;width:125px;&quot;&gt;\n           &lt;div id=&quot;WDD1-btn&quot; tabindex=&quot;-1&quot; ti=&quot;-1&quot; class=&quot;lsEdf3HlpBtnStd \n  urBorderBox lsEdf2HlpRadius lsEdf3HlpIcon lsEdf3HlpBtn lsEdf3HlpBtnCoB&quot; \n  role=&quot;button&quot; style=&quot;display:inline-block;&quot;&gt;&lt;/div&gt;\n        &lt;/span&gt;\n     &lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n     &lt;td ct=&quot;MLC&quot; lsdata=&quot;{}&quot; id=&quot;WDE1&quot; valign=&quot;baseline&quot; align=&quot;left&quot; \n  class=&quot;urLayoutDefault&quot; style=&quot;border-collapse:separate;white- \n  space:normal;&quot;&gt;&lt;label ct=&quot;L&quot; lsdata=&quot; \n  {1:'WDE4',3:'Functional\\x20Area',11:'ENDOFLINE',12:true}&quot; id=&quot;WDE2&quot; \n  f=&quot;WDE4&quot; class=&quot;urL&quot; style=&quot;text-align:right;line- \n  height:normal;display:inline-block;min-width:100%;white- \n  space:nowrap;&quot;&gt;Functional Area:&lt;/label&gt;&lt;/td&gt;\n     &lt;td ct=&quot;MLC&quot; lsdata=&quot;{}&quot; id=&quot;WDE3&quot; valign=&quot;baseline&quot; align=&quot;left&quot; \n  class=&quot;urLayoutDefault&quot; style=&quot;border-collapse:separate;white- \n  space:normal;&quot;&gt;\n        &lt;span id=&quot;WDE4-r&quot; class=&quot;urCoB2Whl &quot;&gt;\n           &lt;input id=&quot;WDE4&quot; ct=&quot;CB&quot; lsdata=&quot;{7:'WDE5',10:'Select'}&quot; \n  lsevents=&quot;{Select:[{ResponseData:'delta',ClientAction:'submit'},{}]}&quot; \n  type=&quot;text&quot; autocomplete=&quot;off&quot; tabindex=&quot;0&quot; ti=&quot;0&quot; \n  class=&quot;urEdf2TxtRadius urEdf2TxtEnbl lsEdf3TxtHlpBtn lsEdfLeftBrdRadius \n  urBorderBox&quot; readonly=&quot;&quot; value=&quot;Select&quot; role=&quot;combobox&quot; \n  style=&quot;width:125px;&quot;&gt;\n           &lt;div id=&quot;WDE4-btn&quot; tabindex=&quot;-1&quot; ti=&quot;-1&quot; class=&quot;lsEdf3HlpBtnStd \n  urBorderBox lsEdf2HlpRadius lsEdf3HlpIcon lsEdf3HlpBtn lsEdf3HlpBtnCoB&quot; \n  role=&quot;button&quot; style=&quot;display:inline-block;&quot;&gt;&lt;/div&gt;\n        &lt;/span&gt;\n     &lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;/tbody&gt;\n  &lt;/table&gt;\n  &lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt; \n  &lt;/table&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt; \n  &lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/td&gt; \n  &lt;/tr&gt;\n  &lt;tr&gt;\n  &lt;td ct=&quot;MLC&quot; lsdata=&quot;{}&quot; id=&quot;WDE8&quot; valign=&quot;bottom&quot; align=&quot;left&quot; \n  class=&quot;urLayoutPadless&quot; style=&quot;border- \n  collapse:separate;width:100%;height:5px;white-space:normal;&quot;&gt;\n  &lt;div id=&quot;WDEA-r&quot;&gt;\n     &lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; id=&quot;WDEA&quot; ct=&quot;ML&quot; lsdata=&quot; \n   {0:'WDEA',7:'LINE'}&quot; class=&quot;urMatrixLayout urHtmlTableReset&quot; \n   role=&quot;presentation&quot; border=&quot;0&quot; style=&quot;border-collapse:collapse;&quot;&gt;\n        &lt;tbody class=&quot;urLinStd&quot;&gt;\n           &lt;tr&gt;\n              &lt;td&gt;&lt;/td&gt;\n           &lt;/tr&gt;\n        &lt;/tbody&gt;\n     &lt;/table&gt;\n    &lt;/div&gt;\n    &lt;/td&gt;\n    &lt;/tr&gt;\n     &lt;tr&gt;\n   &lt;td ct=&quot;MLC&quot; lsdata=&quot;{}&quot; id=&quot;WDEC&quot; valign=&quot;bottom&quot; align=&quot;left&quot; \n    class=&quot;urLayoutPadless&quot; style=&quot;border- \n    collapse:separate;width:100%;white-space:normal;&quot;&gt;\n  &lt;table border=&quot;0&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; id=&quot;WDED&quot; ct=&quot;TS&quot; \n  lsdata=&quot;{2:'100\\x25',3:'Choose\\x20Tab',6:true,7:false,8:false}&quot; \n  lsevents=&quot;{TabSelect:[{ResponseData:'delta',ClientAction:'submit'}, \n   {}],Scroll:[{ResponseData:'delta',EnqueueCardinality:'single'}, \n  {}],Hotkey:[{ResponseData:'delta',ClientAction:'submit'},{}]}&quot; class=&quot;&quot; \n  role=&quot;presentation&quot; style=&quot;width:100%;&quot; tabindex=&quot;-1&quot; ti=&quot;-1&quot;&gt;\n  &lt;tbody&gt;\n  &lt;tr&gt;\n  &lt;td valign=&quot;bottom&quot; class=&quot;lsTbsPanelCnt&quot;&gt;\n     &lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; border=&quot;0&quot; \n   style=&quot;width:100%;&quot;&gt;\n  &lt;tbody&gt;\n  &lt;tr&gt;\n  &lt;td class=&quot;lsTbsPanelLeftBtns&quot; align=&quot;left&quot;&gt;&lt;a \n    class=&quot;lsTbsPgPrevLeftDisp lsTbsBtnIcon&quot; tabindex=&quot;-1&quot; ti=&quot;-1&quot; \n  id=&quot;WDED-prevLeft&quot; style=&quot;visibility:hidden;&quot;&gt;&lt;/a&gt;&lt;/td&gt;\n  &lt;td class=&quot;lsTbsPanel2&quot; width=&quot;90%&quot;&gt;\n     &lt;span itn=&quot;ITBB&quot; id=&quot;WDED-ITBB&quot; tabindex=&quot;0&quot; ti=&quot;0&quot; \n  style=&quot;position:absolute;top:-1000;height:1;&quot;&gt;&lt;/span&gt;\n     &lt;div id=&quot;WDED-panel&quot; class=&quot;lsTbsOvfl&quot; role=&quot;tablist&quot; aria- \n  controls=&quot;&quot; style=&quot;float:left;&quot;&gt;\n     &lt;div ct=&quot;TSITM&quot; lsdata=&quot;{0:'WDEE',2:true,12:'WDEF'}&quot; id=&quot;WDEE&quot; \n  class=&quot;lsTbsEndMore2Sel&quot; style=&quot;visibility: visible;&quot;&gt;\n        &lt;span class=&quot;lsTbsFirst2Sel&quot;&gt;&lt;/span&gt;\n        &lt;span role=&quot;tab&quot; id=&quot;WDEE-focus&quot; tabindex=&quot;0&quot; ti=&quot;0&quot; \n  class=&quot;urNoUserSelect lsTbsLabel2Sel&quot;&gt;\n           User Access\n           &lt;div class=&quot;lsTbsTitleAlign&quot; aria-hidden=&quot;true&quot; \n   role=&quot;presentation&quot;&gt;User Access-&lt;/div&gt;\n        &lt;/span&gt;\n     &lt;/div&gt;\n     &lt;div ct=&quot;TSITM&quot; lsdata=&quot;{0:'WD01B0',1:1,2:true,12:'WD01B1'}&quot; \n   id=&quot;WD01B0&quot; class=&quot;lsTbsEndMore2&quot; style=&quot;visibility: visible;&quot;&gt;\n     &lt;span class=&quot;lsTbsStartEnd2Sel&quot;&gt;&lt;/span&gt;\n     &lt;span role=&quot;tab&quot; id=&quot;WD01B0-focus&quot; tabindex=&quot;0&quot; ti=&quot;0&quot; \n   class=&quot;urNoUserSelect lsTbsLabel2&quot;&gt;\n        Violations\n        &lt;div class=&quot;lsTbsTitleAlign&quot; aria-hidden=&quot;true&quot; \n    role=&quot;presentation&quot;&gt;Violations-&lt;/div&gt;\n     &lt;/span&gt;`\n</code></pre>\n<p><strong>Xpath</strong> :</p>\n<pre><code>/*//table[@class='urMatrixLayout urHtmlTableReset']//tr//table//tr//td//div//div/span[contains(text(),'Violations')]\n</code></pre>\n"},{"tags":["java","selenium-webdriver","automated-tests"],"comments":[{"owner":{"account_id":8704816,"reputation":768,"user_id":6513289,"accept_rate":90,"display_name":"Appu Mistri"},"score":0,"creation_date":1563298607,"post_id":57062455,"comment_id":100650655,"body_markdown":"Rather than using a generic locator type (class here), Try using a more effective locator (like id, name, xpath, etc..). Make sure the element that you are trying to click is visible and enabled on the page.","body":"Rather than using a generic locator type (class here), Try using a more effective locator (like id, name, xpath, etc..). Make sure the element that you are trying to click is visible and enabled on the page."},{"owner":{"account_id":16090223,"reputation":23,"user_id":11793471,"display_name":"Anirudho Sengupta"},"score":0,"creation_date":1563325119,"post_id":57062455,"comment_id":100659017,"body_markdown":"Thanks for your reply @AppuMistr. I used Xpath and CSS as well but to no avail.To check their visibility,I used  the below mentioned code, but M getting &quot;Expected condition failed: waiting for element to be clickable&quot; error","body":"Thanks for your reply @AppuMistr. I used Xpath and CSS as well but to no avail.To check their visibility,I used  the below mentioned code, but M getting &quot;Expected condition failed: waiting for element to be clickable&quot; error"},{"owner":{"account_id":16090223,"reputation":23,"user_id":11793471,"display_name":"Anirudho Sengupta"},"score":0,"creation_date":1563325252,"post_id":57062455,"comment_id":100659033,"body_markdown":"public void inPage() throws InterruptedException {\n\t\n\t WebDriverWait wait = new WebDriverWait(driver, 100);\n\t  \n\t wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//*[@id=\\&quot;container\\&quot;]/div/div[3]/div[2]/div[1]/div[1]/div[2]/div/ul/li[2]/form/button&quot;)));\n\t \n\tboolean enabled = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;container\\&quot;]/div/div[3]/div[2]/div[1]/div[1]/div[2]/div/ul/li[2]/form/button&quot;)).isEnabled();\nboolean visible = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;container\\&quot;]/div/div[3]/div[2]/div[1]/div[1]/div[2]/div/ul/li[2]/form/button&quot;)).isDisplayed(); }","body":"public void inPage() throws InterruptedException { \t \t WebDriverWait wait = new WebDriverWait(driver, 100); \t   \t wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&zwnj;&#8203;&quot;//*[@id=\\&quot;container&zwnj;&#8203;\\&quot;]/div/div[3]/div[2&zwnj;&#8203;]/div[1]/div[1]/div[&zwnj;&#8203;2]/div/ul/li[2]/form&zwnj;&#8203;/button&quot;))); \t  \tboolean enabled = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;container\\&quot;]/div/div[&zwnj;&#8203;3]/div[2]/div[1]/div&zwnj;&#8203;[1]/div[2]/div/ul/li&zwnj;&#8203;[2]/form/button&quot;)).i&zwnj;&#8203;sEnabled(); boolean visible = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;container\\&quot;]/div/div[&zwnj;&#8203;3]/div[2]/div[1]/div&zwnj;&#8203;[1]/div[2]/div/ul/li&zwnj;&#8203;[2]/form/button&quot;)).i&zwnj;&#8203;sDisplayed(); }"},{"owner":{"account_id":8704816,"reputation":768,"user_id":6513289,"accept_rate":90,"display_name":"Appu Mistri"},"score":0,"creation_date":1563341908,"post_id":57062455,"comment_id":100662255,"body_markdown":"Does clicking on the first search result ( first iPhone link) takes you to a different tab? If so, switch to the new tab and perform the further actions.","body":"Does clicking on the first search result ( first iPhone link) takes you to a different tab? If so, switch to the new tab and perform the further actions."},{"owner":{"account_id":16090223,"reputation":23,"user_id":11793471,"display_name":"Anirudho Sengupta"},"score":0,"creation_date":1563495044,"post_id":57062455,"comment_id":100728810,"body_markdown":"Thanks a lot for this suggestion, it worked for me. God Bless you.","body":"Thanks a lot for this suggestion, it worked for me. God Bless you."}],"answers":[{"comments":[{"owner":{"account_id":16090223,"reputation":23,"user_id":11793471,"display_name":"Anirudho Sengupta"},"score":0,"creation_date":1563324704,"post_id":57064197,"comment_id":100658967,"body_markdown":"Thanks for your reply @ArunNair. When I directly navigate to this page, I am able to click as required, problem occurs when I land in homepage,Log in, search Iphone,choose first option and then come to this page. Please Suggest","body":"Thanks for your reply @ArunNair. When I directly navigate to this page, I am able to click as required, problem occurs when I land in homepage,Log in, search Iphone,choose first option and then come to this page. Please Suggest"}],"tags":[],"owner":{"account_id":7452628,"reputation":435,"user_id":5666850,"display_name":"Arun Nair"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563305210,"creation_date":1563305210,"answer_id":57064197,"question_id":57062455,"body_markdown":"Mistake you are doing is using spaces in classnames ie By.className(&quot;_2AkmmA _2Npkh4 _2kuvG8 _7UHT_c&quot; --&gt; This is incorrect.\r\n\r\n\t\t\tdriver.get(\r\n\t\t\t\t&quot;https://www.flipkart.com/apple-iphone-6-space-grey-32-gb/p/itmetmh3hfhnxtcj?pid=MOBETMH3ZYNDPVVC&amp;srno=s_1_1&amp;otracker=search&amp;otracker1=search&amp;lid=LSTMOBETMH3ZYNDPVVCO3WYBD&amp;fm=SEARCH&amp;iid=d9dfe6a7-d4c6-48b0-b4f2-2046c0033347.MOBETMH3ZYNDPVVC.SEARCH&amp;ppt=sp&amp;ppn=sp&amp;ssid=ouj8l7jf740000001563304721353&amp;qH=43a53d285ae7d271&quot;);\r\n\r\n\t\tWebElement addToCard = driver.findElementByClassName(&quot;_2AkmmA&quot;);\r\n\t\tSystem.out.println(&quot; addToCard text is &quot; + addToCard.getText());\r\n\r\n\t\tWebElement buyNowButton = driver.findElementByClassName(&quot;_2kuvG8&quot;);\r\n\t\tSystem.out.println(&quot; buyNowButton text is &quot; + buyNowButton.getText());\r\n\r\nI got the texts correctly","title":"Expected condition failed: waiting for element to be clickable in Selenium","body":"<p>Mistake you are doing is using spaces in classnames ie By.className(\"_2AkmmA _2Npkh4 _2kuvG8 _7UHT_c\" --> This is incorrect.</p>\n\n<pre><code>        driver.get(\n            \"https://www.flipkart.com/apple-iphone-6-space-grey-32-gb/p/itmetmh3hfhnxtcj?pid=MOBETMH3ZYNDPVVC&amp;srno=s_1_1&amp;otracker=search&amp;otracker1=search&amp;lid=LSTMOBETMH3ZYNDPVVCO3WYBD&amp;fm=SEARCH&amp;iid=d9dfe6a7-d4c6-48b0-b4f2-2046c0033347.MOBETMH3ZYNDPVVC.SEARCH&amp;ppt=sp&amp;ppn=sp&amp;ssid=ouj8l7jf740000001563304721353&amp;qH=43a53d285ae7d271\");\n\n    WebElement addToCard = driver.findElementByClassName(\"_2AkmmA\");\n    System.out.println(\" addToCard text is \" + addToCard.getText());\n\n    WebElement buyNowButton = driver.findElementByClassName(\"_2kuvG8\");\n    System.out.println(\" buyNowButton text is \" + buyNowButton.getText());\n</code></pre>\n\n<p>I got the texts correctly</p>\n"},{"comments":[{"owner":{"account_id":16090223,"reputation":23,"user_id":11793471,"display_name":"Anirudho Sengupta"},"score":0,"creation_date":1563495088,"post_id":57069767,"comment_id":100728818,"body_markdown":"Thanks Sir, this gave me the desired result","body":"Thanks Sir, this gave me the desired result"}],"tags":[],"owner":{"account_id":8704816,"reputation":768,"user_id":6513289,"accept_rate":90,"display_name":"Appu Mistri"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1563345022,"creation_date":1563345022,"answer_id":57069767,"question_id":57062455,"body_markdown":"I&#39;ve observed that clicking on the first search result (first iPhone) is opening up a new tab, in that case you have to switch to the new tab and perform the further actions.\r\n\r\n    driver.get(\r\n    \t\t&quot;https://www.flipkart.com/search?q=iphone&amp;sid=tyy%2C4io&amp;as=on&amp;as-show=on&amp;otracker=AS_QueryStore_OrganicAutoSuggest_0_4&amp;otracker1=AS_QueryStore_OrganicAutoSuggest_0_4&amp;as-pos=0&amp;as-type=RECENT&amp;as-backfill=on&quot;);\r\n    \r\n    By firstSearchResult = By.className(&quot;_3O0U0u&quot;);\r\n    driver.findElement(firstSearchResult).click();\r\n    \r\n    Thread.sleep(1000);\r\n    \r\n    String currentWindow = driver.getWindowHandle();\r\n    Set&lt;String&gt; windows = driver.getWindowHandles();\r\n    for (String window : windows) {\r\n    \tif (!window.equals(currentWindow)) {\r\n    \t\tdriver.switchTo().window(window);\r\n    \t}\r\n    }\r\n    \r\n    // I&#39;m performing these three steps to set pin-code, as i&#39;m not logging-in. You\r\n    // may not have to perform these three steps as you are already logged -in.\r\n    driver.findElement(By.id(&quot;pincodeInputId&quot;)).clear();\r\n    driver.findElement(By.id(&quot;pincodeInputId&quot;)).sendKeys(&quot;500081&quot;);\r\n    driver.findElement(By.xpath(&quot;//*[@class=&#39;_2aK_gu&#39; and text()[contains(.,&#39;Check&#39;)]]&quot;)).click();\r\n    \r\n    \r\n    By button = By.xpath(&quot;//button[text()[contains(.,&#39;BUY NOW&#39;)]]&quot;);\r\n    WebDriverWait wait = new WebDriverWait(driver, 15);\r\n    wait.until(ExpectedConditions.elementToBeClickable(button));\r\n    driver.findElement(button).click();","title":"Expected condition failed: waiting for element to be clickable in Selenium","body":"<p>I've observed that clicking on the first search result (first iPhone) is opening up a new tab, in that case you have to switch to the new tab and perform the further actions.</p>\n\n<pre><code>driver.get(\n        \"https://www.flipkart.com/search?q=iphone&amp;sid=tyy%2C4io&amp;as=on&amp;as-show=on&amp;otracker=AS_QueryStore_OrganicAutoSuggest_0_4&amp;otracker1=AS_QueryStore_OrganicAutoSuggest_0_4&amp;as-pos=0&amp;as-type=RECENT&amp;as-backfill=on\");\n\nBy firstSearchResult = By.className(\"_3O0U0u\");\ndriver.findElement(firstSearchResult).click();\n\nThread.sleep(1000);\n\nString currentWindow = driver.getWindowHandle();\nSet&lt;String&gt; windows = driver.getWindowHandles();\nfor (String window : windows) {\n    if (!window.equals(currentWindow)) {\n        driver.switchTo().window(window);\n    }\n}\n\n// I'm performing these three steps to set pin-code, as i'm not logging-in. You\n// may not have to perform these three steps as you are already logged -in.\ndriver.findElement(By.id(\"pincodeInputId\")).clear();\ndriver.findElement(By.id(\"pincodeInputId\")).sendKeys(\"500081\");\ndriver.findElement(By.xpath(\"//*[@class='_2aK_gu' and text()[contains(.,'Check')]]\")).click();\n\n\nBy button = By.xpath(\"//button[text()[contains(.,'BUY NOW')]]\");\nWebDriverWait wait = new WebDriverWait(driver, 15);\nwait.until(ExpectedConditions.elementToBeClickable(button));\ndriver.findElement(button).click();\n</code></pre>\n"}],"owner":{"account_id":16090223,"reputation":23,"user_id":11793471,"display_name":"Anirudho Sengupta"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8034,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57069767,"answer_count":2,"score":1,"last_activity_date":1700831339,"creation_date":1563297440,"question_id":57062455,"body_markdown":"Need some help.\r\n\r\nI am trying to Log into Flipkart and buy the first Iphone via selenium.\r\n\r\nHowever, I am getting stuck in the below mentioned page\r\n\r\nhttps://www.flipkart.com/apple-iphone-6/p/itmen2yynt6bz3gg\r\n\r\nI tried to click on the Compare Checkbox, 16GB Button, Buy Now button and Add to cart Button , but all of the operations are giving unable to locate error.\r\n\r\n\r\nAny help will be greatly appreciated.\r\n\r\nThanks in Advance\r\n\r\nI have used Implicit wait as well as Expected Wait but neither wait.\r\n\r\nI also check for iframes in the page, but that did not work either.\r\n\r\n\r\n     @Test(priority = 3,enabled = true)\r\n      public void inPage() throws InterruptedException {\r\n    \t  \r\n    \t  \r\n    \t\r\n    \t WebDriverWait wait = new WebDriverWait(driver, 100);\r\n    \t  \r\n    \t wait.until(ExpectedConditions.elementToBeClickable(By.className(&quot;_2AkmmA _2Npkh4 _2kuvG8 _7UHT_c&quot;))).click();\r\n    \t \r\n    \t\r\n      }\r\n\r\n\r\n\r\n    PASSED: logIn\r\n    PASSED: search\r\n    FAILED: inPage\r\n    org.openqa.selenium.TimeoutException: Expected condition failed: waiting for element to be clickable: By.className: _2AkmmA _2Npkh4 _2kuvG8 _7UHT_c (tried for 100 second(s) with 500 milliseconds interval)\r\n    \tat org.openqa.selenium.support.ui.WebDriverWait.timeoutException(WebDriverWait.java:95)\r\n    \tat org.openqa.selenium.support.ui.FluentWait.until(FluentWait.java:272)\r\n    \tat First.inPage(First.java:94)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:124)\r\n    \tat org.testng.internal.Invoker.invokeMethod(Invoker.java:583)\r\n    \tat org.testng.internal.Invoker.invokeTestMethod(Invoker.java:719)\r\n    \tat org.testng.internal.Invoker.invokeTestMethods(Invoker.java:989)\r\n    \tat","title":"Expected condition failed: waiting for element to be clickable in Selenium","body":"<p>Need some help.</p>\n<p>I am trying to Log into Flipkart and buy the first Iphone via selenium.</p>\n<p>However, I am getting stuck in the below mentioned page</p>\n<p><a href=\"https://www.flipkart.com/apple-iphone-6%E2%80%A6/p/itmen2yynt6bz3gg%E2%80%A6\" rel=\"nofollow noreferrer\">https://www.flipkart.com/apple-iphone-6/p/itmen2yynt6bz3gg</a></p>\n<p>I tried to click on the Compare Checkbox, 16GB Button, Buy Now button and Add to cart Button , but all of the operations are giving unable to locate error.</p>\n<p>Any help will be greatly appreciated.</p>\n<p>Thanks in Advance</p>\n<p>I have used Implicit wait as well as Expected Wait but neither wait.</p>\n<p>I also check for iframes in the page, but that did not work either.</p>\n<pre><code> @Test(priority = 3,enabled = true)\n  public void inPage() throws InterruptedException {\n      \n      \n    \n     WebDriverWait wait = new WebDriverWait(driver, 100);\n      \n     wait.until(ExpectedConditions.elementToBeClickable(By.className(&quot;_2AkmmA _2Npkh4 _2kuvG8 _7UHT_c&quot;))).click();\n     \n    \n  }\n\n\n\nPASSED: logIn\nPASSED: search\nFAILED: inPage\norg.openqa.selenium.TimeoutException: Expected condition failed: waiting for element to be clickable: By.className: _2AkmmA _2Npkh4 _2kuvG8 _7UHT_c (tried for 100 second(s) with 500 milliseconds interval)\n    at org.openqa.selenium.support.ui.WebDriverWait.timeoutException(WebDriverWait.java:95)\n    at org.openqa.selenium.support.ui.FluentWait.until(FluentWait.java:272)\n    at First.inPage(First.java:94)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:124)\n    at org.testng.internal.Invoker.invokeMethod(Invoker.java:583)\n    at org.testng.internal.Invoker.invokeTestMethod(Invoker.java:719)\n    at org.testng.internal.Invoker.invokeTestMethods(Invoker.java:989)\n    at\n</code></pre>\n"},{"tags":["java","spring","maven","junit","mocking"],"owner":{"account_id":2687469,"reputation":31,"user_id":2321572,"display_name":"Vaibhav Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700831327,"creation_date":1700831327,"question_id":77543390,"body_markdown":"Using junit5, Java21 \r\n\r\n```\r\n@Tag(&quot;IntegrationTest&quot;)\r\n@ExtendWith(SpringExtension.class)\r\n@WebMvcTest(controllers = ReasonsController.class)\r\npublic class ReasonsControllerIntegrationTest {\r\n\r\n    private static final String ROOT_URL = &quot;/company/00006400/extensions/requests/a1/reasons/&quot;;\r\n    private static final String SPECIFIC_URL = &quot;/company/00006400/extensions/requests/a1/reasons&quot; +\r\n        &quot;/b2&quot;;\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @MockBean\r\n    private ReasonsService reasonsService;\r\n\r\n @Test\r\n    public void canReachUpdateReasonEndpoint() throws Exception {\r\n        RequestBuilder requestBuilder = MockMvcRequestBuilders.patch(\r\n                SPECIFIC_URL)\r\n            .contentType(MediaType.APPLICATION_JSON)\r\n            .content(buildMockReason())\r\n            .accept(MediaType.APPLICATION_JSON);\r\n\r\n        Links links = new Links();\r\n        links.setLink(ExtensionsLinkKeys.SELF, &quot;url&quot;);\r\n        ExtensionReasonDTO dto = new ExtensionReasonDTO();\r\n        dto.setLinks(links);\r\n        when(reasonsService.patchReason(any(ExtensionCreateReason.class), any(String.class), any(String.class)))\r\n            .thenReturn(dto);\r\n        MvcResult result = mockMvc.perform(requestBuilder).andReturn();\r\n        assertEquals(200, result.getResponse().getStatus());\r\n    }\r\n\r\n    @Test\r\n    public void canReachGetReasonsEndPoint() throws Exception {\r\n        RequestBuilder requestBuilder = MockMvcRequestBuilders.get(&quot;/company/00006400/extensions/requests/a1/reasons/&quot;)\r\n            .accept(MediaType.APPLICATION_JSON).contentType(MediaType.APPLICATION_JSON);\r\n\r\n\r\n        ServiceResult&lt;ListResponse&lt;ExtensionReasonDTO&gt;&gt; expectedResult =\r\n            ServiceResult.found(ListResponse.&lt;ExtensionReasonDTO&gt;builder()\r\n                .withItems(Arrays.asList(new ExtensionReasonDTO()))\r\n                .build());\r\n        when(reasonsService.getReasons(anyString()))\r\n            .thenReturn(expectedResult);\r\n        MvcResult result = mockMvc.perform(requestBuilder).andReturn();\r\n        assertEquals(200, result.getResponse().getStatus());\r\n        assertEquals(mockGetResponse(), result.getResponse().getContentAsString());\r\n    }\r\n```\r\n\r\nI debugged and found out that library class DispatcherServlet.class has a method called doDispatch in this method we check Handlers and in case of get The controller class is not loaded but in case of patch it is loaded , How is it possible as both are within same class and configuration must be same\r\n\r\nThe library code line \r\n```\r\nprocessedRequest = this.checkMultipart(request);\r\nmultipartRequestParsed = processedRequest != request;\r\nmappedHandler = this.getHandler(processedRequest);\r\n```\r\nFor get call\r\nHandlerExecutionChain with [ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]] and 5 interceptors\r\n\r\nfor Patch call\r\nHandlerExecutionChain with [ReasonsController#patchReason(ExtensionCreateReason, String, String)] and 3 interceptors\r\n","title":"Integration Testing using Junit Patch and Delete end point work but get does not","body":"<p>Using junit5, Java21</p>\n<pre><code>@Tag(&quot;IntegrationTest&quot;)\n@ExtendWith(SpringExtension.class)\n@WebMvcTest(controllers = ReasonsController.class)\npublic class ReasonsControllerIntegrationTest {\n\n    private static final String ROOT_URL = &quot;/company/00006400/extensions/requests/a1/reasons/&quot;;\n    private static final String SPECIFIC_URL = &quot;/company/00006400/extensions/requests/a1/reasons&quot; +\n        &quot;/b2&quot;;\n    @Autowired\n    private MockMvc mockMvc;\n\n    @MockBean\n    private ReasonsService reasonsService;\n\n @Test\n    public void canReachUpdateReasonEndpoint() throws Exception {\n        RequestBuilder requestBuilder = MockMvcRequestBuilders.patch(\n                SPECIFIC_URL)\n            .contentType(MediaType.APPLICATION_JSON)\n            .content(buildMockReason())\n            .accept(MediaType.APPLICATION_JSON);\n\n        Links links = new Links();\n        links.setLink(ExtensionsLinkKeys.SELF, &quot;url&quot;);\n        ExtensionReasonDTO dto = new ExtensionReasonDTO();\n        dto.setLinks(links);\n        when(reasonsService.patchReason(any(ExtensionCreateReason.class), any(String.class), any(String.class)))\n            .thenReturn(dto);\n        MvcResult result = mockMvc.perform(requestBuilder).andReturn();\n        assertEquals(200, result.getResponse().getStatus());\n    }\n\n    @Test\n    public void canReachGetReasonsEndPoint() throws Exception {\n        RequestBuilder requestBuilder = MockMvcRequestBuilders.get(&quot;/company/00006400/extensions/requests/a1/reasons/&quot;)\n            .accept(MediaType.APPLICATION_JSON).contentType(MediaType.APPLICATION_JSON);\n\n\n        ServiceResult&lt;ListResponse&lt;ExtensionReasonDTO&gt;&gt; expectedResult =\n            ServiceResult.found(ListResponse.&lt;ExtensionReasonDTO&gt;builder()\n                .withItems(Arrays.asList(new ExtensionReasonDTO()))\n                .build());\n        when(reasonsService.getReasons(anyString()))\n            .thenReturn(expectedResult);\n        MvcResult result = mockMvc.perform(requestBuilder).andReturn();\n        assertEquals(200, result.getResponse().getStatus());\n        assertEquals(mockGetResponse(), result.getResponse().getContentAsString());\n    }\n</code></pre>\n<p>I debugged and found out that library class DispatcherServlet.class has a method called doDispatch in this method we check Handlers and in case of get The controller class is not loaded but in case of patch it is loaded , How is it possible as both are within same class and configuration must be same</p>\n<p>The library code line</p>\n<pre><code>processedRequest = this.checkMultipart(request);\nmultipartRequestParsed = processedRequest != request;\nmappedHandler = this.getHandler(processedRequest);\n</code></pre>\n<p>For get call\nHandlerExecutionChain with [ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]] and 5 interceptors</p>\n<p>for Patch call\nHandlerExecutionChain with [ReasonsController#patchReason(ExtensionCreateReason, String, String)] and 3 interceptors</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":29978791,"reputation":1,"user_id":22974303,"display_name":"Youssef Hassan"},"score":0,"creation_date":1700830283,"post_id":77540099,"comment_id":136704222,"body_markdown":"changes added @blackapps","body":"changes added @blackapps"},{"owner":{"account_id":29978791,"reputation":1,"user_id":22974303,"display_name":"Youssef Hassan"},"score":0,"creation_date":1700831042,"post_id":77540099,"comment_id":136704362,"body_markdown":"@blackapps sorry, its android 14","body":"@blackapps sorry, its android 14"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1700835462,"post_id":77540099,"comment_id":136705122,"body_markdown":"For Android 13+ devices you should not request this read permission. You have it by default in all public directories on external storage.","body":"For Android 13+ devices you should not request this read permission. You have it by default in all public directories on external storage."}],"owner":{"account_id":29978791,"reputation":1,"user_id":22974303,"display_name":"Youssef Hassan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700831027,"creation_date":1700783880,"question_id":77540099,"body_markdown":"I am building a small music player app but it wont request permission to read songs after launching\r\n\r\nPermission request for `READ_EXTERNAL_STORAGE` not triggering in Android app despite correct implementation. Manifest includes permission, code for runtime permission check and request is correctly implemented in the activity, but the `onRequestPermissionsResult` method isn&#39;t being called after the permission dialog interaction.I have latest android studio version. How can i solve this issue?\r\n\r\nThis is my android vversion that im using:\r\n\r\nAndroid Studio Giraffe | 2022.3.1 Patch 4\r\n\r\nRuntime version: 17.0.6+0-b2043.56-10027231 amd64\r\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\r\n\r\nAndroid of used device: Android 14\r\n\r\n\r\nThis is my code\r\n```\r\nif(ActivityCompat.checkSelfPermission(this, Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, REQUEST_PERMISSION);\r\n\r\n        }else{\r\n\r\n            //you have permission to read from external storage\r\n            getSongs();\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == REQUEST_PERMISSION) {\r\n            if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                getSongs();\r\n            }else{\r\n\r\n            }\r\n\r\n\r\n        }\r\n    }","title":"Permission for accesing external storage in android studio not showing after launch","body":"<p>I am building a small music player app but it wont request permission to read songs after launching</p>\n<p>Permission request for <code>READ_EXTERNAL_STORAGE</code> not triggering in Android app despite correct implementation. Manifest includes permission, code for runtime permission check and request is correctly implemented in the activity, but the <code>onRequestPermissionsResult</code> method isn't being called after the permission dialog interaction.I have latest android studio version. How can i solve this issue?</p>\n<p>This is my android vversion that im using:</p>\n<p>Android Studio Giraffe | 2022.3.1 Patch 4</p>\n<p>Runtime version: 17.0.6+0-b2043.56-10027231 amd64\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.</p>\n<p>Android of used device: Android 14</p>\n<p>This is my code</p>\n<pre><code>if(ActivityCompat.checkSelfPermission(this, Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, REQUEST_PERMISSION);\n\n        }else{\n\n            //you have permission to read from external storage\n            getSongs();\n        }\n\n\n\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (requestCode == REQUEST_PERMISSION) {\n            if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                getSongs();\n            }else{\n\n            }\n\n\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","kotlin","gradle"],"comments":[{"owner":{"account_id":734188,"reputation":2655,"user_id":697392,"display_name":"Dmitri"},"score":1,"creation_date":1700682708,"post_id":77531245,"comment_id":136685946,"body_markdown":"kotlin docs - https://kotlinlang.org/docs/whatsnew18.html#usage-of-the-latest-kotlin-stdlib-version-in-transitive-dependencies - suggest to try this when version clashes happen: implementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;)).. and of course, the age old invalidate caches and restart still a good option to try","body":"kotlin docs - <a href=\"https://kotlinlang.org/docs/whatsnew18.html#usage-of-the-latest-kotlin-stdlib-version-in-transitive-dependencies\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/&hellip;</a> - suggest to try this when version clashes happen: implementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8&zwnj;&#8203;.0&quot;)).. and of course, the age old invalidate caches and restart still a good option to try"},{"owner":{"account_id":12799592,"reputation":3910,"user_id":9261322,"accept_rate":75,"display_name":"Alexey Starinsky"},"score":0,"creation_date":1700749669,"post_id":77531245,"comment_id":136694645,"body_markdown":"@Dmitri tried but without a success, see EDIT1","body":"@Dmitri tried but without a success, see EDIT1"}],"answers":[{"tags":[],"owner":{"account_id":12799592,"reputation":3910,"user_id":9261322,"accept_rate":75,"display_name":"Alexey Starinsky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700830461,"creation_date":1700830461,"answer_id":77543304,"question_id":77531245,"body_markdown":"Looks like updating Gradle from 7.3.1 to 7.4.1 and updating Gradle wrapper finally helped.","title":"I still get &quot;Module was compiled with an incompatible version of Kotlin&quot; error","body":"<p>Looks like updating Gradle from 7.3.1 to 7.4.1 and updating Gradle wrapper finally helped.</p>\n"}],"owner":{"account_id":12799592,"reputation":3910,"user_id":9261322,"accept_rate":75,"display_name":"Alexey Starinsky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1700830461,"creation_date":1700667095,"question_id":77531245,"body_markdown":"I thought that [I fixed my build][1] by adding `ext.kotlin_version = &#39;1.8.0&#39;` to build.gradle in my Android app:\r\n\r\n    buildscript {\r\n        ext.kotlin_version = &#39;1.8.0&#39;\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n        }\r\n\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:7.3.1&#39;\r\n        }\r\n    }\r\n\r\n    ext.kotlin_version = &#39;1.8.0&#39;\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n\r\nbut actually I did not, and `ext.kotlin_version` did not take an effect and I still get this messages while building my app:\r\n\r\n    &gt; Task :lintVitalAnalyzeRelease\r\n    e: C:/Users/dmitr/.gradle/caches/modules-2/files-2.1/androidx.annotation/annotation-jvm/1.6.0/a7257339a052df0f91433cf9651231bbb802b502/annotation-jvm-1.6.0.jar!/META-INF/annotation.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\r\n    e: C:/Users/dmitr/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.8.22/636bf8b320e7627482771bbac9ed7246773c02bd/kotlin-stdlib-1.8.22.jar!/META-INF/kotlin-stdlib-jdk7.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\r\n    e: C:/Users/dmitr/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.8.22/636bf8b320e7627482771bbac9ed7246773c02bd/kotlin-stdlib-1.8.22.jar!/META-INF/kotlin-stdlib.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\r\n    e: C:/Users/dmitr/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.8.22/636bf8b320e7627482771bbac9ed7246773c02bd/kotlin-stdlib-1.8.22.jar!/META-INF/kotlin-stdlib-jdk8.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\r\n    e: C:/Users/dmitr/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-common/1.8.22/1a8e3601703ae14bb58757ea6b2d8e8e5935a586/kotlin-stdlib-common-1.8.22.jar!/META-INF/kotlin-stdlib-common.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\r\n\r\nWhat I missed when I thought that I fixed my build is that these messages appear only when I do a clean build and do not appear in subsequent builds.\r\n\r\nThe build succeeds:\r\n\r\n    &gt; Task :createDebugBundleListingFileRedirect\r\n    &gt; Task :bundleDebug\r\n    &gt; Task :bundle\r\n\r\n    BUILD SUCCESSFUL in 1m 7s\r\n    88 actionable tasks: 88 executed\r\n\r\nand the app works well enough on an Android device.\r\n\r\nWhat should I with these messages? Is it safe to ignore them?\r\n\r\nProbably I specified some wrong version with ext.kotlin_version = &#39;1.8.0&#39;?\r\n\r\n**EDIT1**\r\n\r\nAdded the following to my `build.gradle`:\r\n\r\n    dependencies {\r\n        implementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\r\n\r\nor\r\n\r\n    dependencies {\r\n        implementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.6.0&quot;))\r\n\r\nremoved `C:\\Users\\dmitr\\.gradle\\caches` directory and my build output directory, rebuilt the project and got the same messages.\r\n\r\nHonestly I still do not understand well enough is it safe to ignore these messages or not.\r\n\r\nAlso did [the following experiment][2] with this annoying madness:\r\n\r\n    classpath(&quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.8.0&quot;)\r\n\r\nAnd looks like I followed all the steps from [here][3].\r\n\r\nWhat else can be wrong?\r\n\r\n  [1]: https://stackoverflow.com/questions/77524713/module-was-compiled-with-an-incompatible-version-of-kotlin-its-metadata-is-1-8\r\n  [2]: https://stackoverflow.com/questions/75626057/kotlin-version-issues-the-binary-version-of-its-metadata-is-1-8-0-expected-ver\r\n  [3]: https://stackoverflow.com/questions/67699823/module-was-compiled-with-an-incompatible-version-of-kotlin-the-binary-version-o","title":"I still get &quot;Module was compiled with an incompatible version of Kotlin&quot; error","body":"<p>I thought that <a href=\"https://stackoverflow.com/questions/77524713/module-was-compiled-with-an-incompatible-version-of-kotlin-its-metadata-is-1-8\">I fixed my build</a> by adding <code>ext.kotlin_version = '1.8.0'</code> to build.gradle in my Android app:</p>\n<pre><code>buildscript {\n    ext.kotlin_version = '1.8.0'\n    repositories {\n        google()\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.3.1'\n    }\n}\n\next.kotlin_version = '1.8.0'\nrepositories {\n    google()\n    mavenCentral()\n}\n</code></pre>\n<p>but actually I did not, and <code>ext.kotlin_version</code> did not take an effect and I still get this messages while building my app:</p>\n<pre><code>&gt; Task :lintVitalAnalyzeRelease\ne: C:/Users/dmitr/.gradle/caches/modules-2/files-2.1/androidx.annotation/annotation-jvm/1.6.0/a7257339a052df0f91433cf9651231bbb802b502/annotation-jvm-1.6.0.jar!/META-INF/annotation.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/dmitr/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.8.22/636bf8b320e7627482771bbac9ed7246773c02bd/kotlin-stdlib-1.8.22.jar!/META-INF/kotlin-stdlib-jdk7.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/dmitr/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.8.22/636bf8b320e7627482771bbac9ed7246773c02bd/kotlin-stdlib-1.8.22.jar!/META-INF/kotlin-stdlib.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/dmitr/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.8.22/636bf8b320e7627482771bbac9ed7246773c02bd/kotlin-stdlib-1.8.22.jar!/META-INF/kotlin-stdlib-jdk8.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/dmitr/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-common/1.8.22/1a8e3601703ae14bb58757ea6b2d8e8e5935a586/kotlin-stdlib-common-1.8.22.jar!/META-INF/kotlin-stdlib-common.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\n</code></pre>\n<p>What I missed when I thought that I fixed my build is that these messages appear only when I do a clean build and do not appear in subsequent builds.</p>\n<p>The build succeeds:</p>\n<pre><code>&gt; Task :createDebugBundleListingFileRedirect\n&gt; Task :bundleDebug\n&gt; Task :bundle\n\nBUILD SUCCESSFUL in 1m 7s\n88 actionable tasks: 88 executed\n</code></pre>\n<p>and the app works well enough on an Android device.</p>\n<p>What should I with these messages? Is it safe to ignore them?</p>\n<p>Probably I specified some wrong version with ext.kotlin_version = '1.8.0'?</p>\n<p><strong>EDIT1</strong></p>\n<p>Added the following to my <code>build.gradle</code>:</p>\n<pre><code>dependencies {\n    implementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\n</code></pre>\n<p>or</p>\n<pre><code>dependencies {\n    implementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.6.0&quot;))\n</code></pre>\n<p>removed <code>C:\\Users\\dmitr\\.gradle\\caches</code> directory and my build output directory, rebuilt the project and got the same messages.</p>\n<p>Honestly I still do not understand well enough is it safe to ignore these messages or not.</p>\n<p>Also did <a href=\"https://stackoverflow.com/questions/75626057/kotlin-version-issues-the-binary-version-of-its-metadata-is-1-8-0-expected-ver\">the following experiment</a> with this annoying madness:</p>\n<pre><code>classpath(&quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.8.0&quot;)\n</code></pre>\n<p>And looks like I followed all the steps from <a href=\"https://stackoverflow.com/questions/67699823/module-was-compiled-with-an-incompatible-version-of-kotlin-the-binary-version-o\">here</a>.</p>\n<p>What else can be wrong?</p>\n"},{"tags":["java","spring-boot","mockito","junit5"],"answers":[{"tags":[],"owner":{"account_id":10595514,"reputation":1478,"user_id":7804385,"display_name":"Troley"},"comment_count":0,"down_vote_count":0,"up_vote_count":84,"is_accepted":true,"score":84,"last_activity_date":1582144805,"creation_date":1582144805,"answer_id":60308868,"question_id":60308578,"body_markdown":"**When involving Spring**:\r\n\r\nIf you want to use Spring test framework features in your tests like for example `@MockBean`, then you have to use `@ExtendWith(SpringExtension.class)`. It replaces the deprecated JUnit4 `@RunWith(SpringJUnit4ClassRunner.class)`\r\n\r\n**When NOT involving Spring**:\r\n\r\nIf you just want to involve Mockito and don&#39;t have to involve Spring, for example,  when you just want to use the `@Mock` / `@InjectMocks` annotations, then you want to use `@ExtendWith(MockitoExtension.class)`, as it doesn&#39;t load in a bunch of unneeded Spring stuff. It replaces the deprecated JUnit4 `@RunWith(MockitoJUnitRunner.class)`.\r\n\r\n**To answer your question**:\r\n\r\nYes you can just use `@ExtendWith(SpringExtension.class)`, but if you&#39;re not involving Spring test framework features in your tests, then you probably want to just use `@ExtendWith(MockitoExtension.class)`.","title":"What is the difference between @ExtendWith(SpringExtension.class) and @ExtendWith(MockitoExtension.class)?","body":"<p><strong>When involving Spring</strong>:</p>\n\n<p>If you want to use Spring test framework features in your tests like for example <code>@MockBean</code>, then you have to use <code>@ExtendWith(SpringExtension.class)</code>. It replaces the deprecated JUnit4 <code>@RunWith(SpringJUnit4ClassRunner.class)</code></p>\n\n<p><strong>When NOT involving Spring</strong>:</p>\n\n<p>If you just want to involve Mockito and don't have to involve Spring, for example,  when you just want to use the <code>@Mock</code> / <code>@InjectMocks</code> annotations, then you want to use <code>@ExtendWith(MockitoExtension.class)</code>, as it doesn't load in a bunch of unneeded Spring stuff. It replaces the deprecated JUnit4 <code>@RunWith(MockitoJUnitRunner.class)</code>.</p>\n\n<p><strong>To answer your question</strong>:</p>\n\n<p>Yes you can just use <code>@ExtendWith(SpringExtension.class)</code>, but if you're not involving Spring test framework features in your tests, then you probably want to just use <code>@ExtendWith(MockitoExtension.class)</code>.</p>\n"}],"owner":{"account_id":16211134,"reputation":533,"user_id":11705123,"display_name":"user11705123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26124,"favorite_count":0,"down_vote_count":1,"up_vote_count":38,"accepted_answer_id":60308868,"answer_count":1,"score":37,"last_activity_date":1700830077,"creation_date":1582143563,"question_id":60308578,"body_markdown":"I was using `@RunWith(MockitoJUnitRunner.class)` for my junit test with mockito. But now I am working with spring-boot and JUnit 5.&lt;br/&gt;\r\nWhat&#39;s the difference between the two annotations ? &lt;br/&gt;\r\nCan I use only `@ExtendWith(SpringExtension.class)` to mock my objects ?","title":"What is the difference between @ExtendWith(SpringExtension.class) and @ExtendWith(MockitoExtension.class)?","body":"<p>I was using <code>@RunWith(MockitoJUnitRunner.class)</code> for my junit test with mockito. But now I am working with spring-boot and JUnit 5.<br/>\nWhat's the difference between the two annotations ? <br/>\nCan I use only <code>@ExtendWith(SpringExtension.class)</code> to mock my objects ?</p>\n"},{"tags":["java","asynchronous","orm","vert.x"],"comments":[{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1584133231,"post_id":60677083,"comment_id":107353344,"body_markdown":"If you find a reactive ORM, sure. Not sure one exists. ORMs are heavy, cache based and transactional. In many ways the opposite of everything Vert.X is. Strongly consider whether you need an ORM.","body":"If you find a reactive ORM, sure. Not sure one exists. ORMs are heavy, cache based and transactional. In many ways the opposite of everything Vert.X is. Strongly consider whether you need an ORM."},{"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"score":0,"creation_date":1584397006,"post_id":60677083,"comment_id":107420011,"body_markdown":"I&#39;m using GORM like here: https://stackoverflow.com/questions/53621770/how-to-import-domain-classes-from-jar-into-a-micronaut-project/53629578#53629578","body":"I&#39;m using GORM like here: <a href=\"https://stackoverflow.com/questions/53621770/how-to-import-domain-classes-from-jar-into-a-micronaut-project/53629578#53629578\" title=\"how to import domain classes from jar into a micronaut project\">stackoverflow.com/questions/53621770/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584349159,"creation_date":1584349159,"answer_id":60702950,"question_id":60677083,"body_markdown":"I am not aware of any full-featured Java ORM that has non blocking APIs.\r\n\r\nThis is why if you want to use an ORM in a Vert.x application, you should use `executeBlocking` to wrap the ORM calls or put your persistence code in a worker verticle.\r\n\r\nThere&#39;s an [example][1] for this scenario in the `vertx-examples` repository.\r\n\r\nAlternatively, you could a tool like [JOOQ][2], an active community member has developed a [neat integration][3].\r\n\r\n\r\n  [1]: https://github.com/vert-x3/vertx-examples/tree/master/spring-examples/spring-worker-example\r\n  [2]: https://www.jooq.org/\r\n  [3]: https://github.com/jklingsporn/vertx-jooq","title":"Is it possible to use ORM together with Vert.x?","body":"<p>I am not aware of any full-featured Java ORM that has non blocking APIs.</p>\n\n<p>This is why if you want to use an ORM in a Vert.x application, you should use <code>executeBlocking</code> to wrap the ORM calls or put your persistence code in a worker verticle.</p>\n\n<p>There's an <a href=\"https://github.com/vert-x3/vertx-examples/tree/master/spring-examples/spring-worker-example\" rel=\"nofollow noreferrer\">example</a> for this scenario in the <code>vertx-examples</code> repository.</p>\n\n<p>Alternatively, you could a tool like <a href=\"https://www.jooq.org/\" rel=\"nofollow noreferrer\">JOOQ</a>, an active community member has developed a <a href=\"https://github.com/jklingsporn/vertx-jooq\" rel=\"nofollow noreferrer\">neat integration</a>.</p>\n"},{"tags":[],"owner":{"account_id":49543,"reputation":19032,"user_id":147530,"accept_rate":63,"display_name":"morpheus"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664666976,"creation_date":1664666976,"answer_id":73922412,"question_id":60677083,"body_markdown":"Check out [Hibernate Reactive](https://hibernate.org/reactive/documentation/1.0/reference/html_single/)\r\n\r\n&gt;Hibernate Reactive is a reactive API for Hibernate ORM, supporting non-blocking database drivers and a reactive style of interaction with the database.\r\n\r\n&gt;Out of the box, the Vert.x clients for PostgreSQL, MySQL, and DB2 are supported, though the architecture is not limited to these drivers.","title":"Is it possible to use ORM together with Vert.x?","body":"<p>Check out <a href=\"https://hibernate.org/reactive/documentation/1.0/reference/html_single/\" rel=\"nofollow noreferrer\">Hibernate Reactive</a></p>\n<blockquote>\n<p>Hibernate Reactive is a reactive API for Hibernate ORM, supporting non-blocking database drivers and a reactive style of interaction with the database.</p>\n</blockquote>\n<blockquote>\n<p>Out of the box, the Vert.x clients for PostgreSQL, MySQL, and DB2 are supported, though the architecture is not limited to these drivers.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4846874,"reputation":119,"user_id":3910282,"display_name":"roma2341"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700829910,"creation_date":1700829910,"answer_id":77543260,"question_id":60677083,"body_markdown":"You should not use a framework focused on fast query processing and an ORM that annihilates performance (and often makes deadlocks and other issues that are hard to be fixed)","title":"Is it possible to use ORM together with Vert.x?","body":"<p>You should not use a framework focused on fast query processing and an ORM that annihilates performance (and often makes deadlocks and other issues that are hard to be fixed)</p>\n"}],"owner":{"account_id":2036328,"reputation":14089,"user_id":1818608,"accept_rate":44,"display_name":"Gill Bates"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1975,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1700829910,"creation_date":1584132461,"question_id":60677083,"body_markdown":"As I understand there is an async JDBC driver that is Vert.x compatible:\r\nhttps://vertx.io/docs/vertx-jdbc-client/java/\r\n\r\nBut at the same time I haven&#39;t found any information about usage of Java ORMs together with Vert.x.\r\n\r\nCan someone shed some light on that?","title":"Is it possible to use ORM together with Vert.x?","body":"<p>As I understand there is an async JDBC driver that is Vert.x compatible:\n<a href=\"https://vertx.io/docs/vertx-jdbc-client/java/\" rel=\"nofollow noreferrer\">https://vertx.io/docs/vertx-jdbc-client/java/</a></p>\n\n<p>But at the same time I haven't found any information about usage of Java ORMs together with Vert.x.</p>\n\n<p>Can someone shed some light on that?</p>\n"},{"tags":["java","tomcat","charles-proxy"],"comments":[{"owner":{"account_id":1934419,"reputation":575,"user_id":1743046,"accept_rate":75,"display_name":"lehanh"},"score":0,"creation_date":1569569915,"post_id":19943890,"comment_id":102646988,"body_markdown":"you are using REST request such as HttpClient in tomcat service?","body":"you are using REST request such as HttpClient in tomcat service?"}],"answers":[{"tags":[],"owner":{"account_id":1832413,"reputation":101,"user_id":1663525,"display_name":"Rog&#233;rio Fonseca"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700829736,"creation_date":1700829736,"answer_id":77543238,"question_id":19943890,"body_markdown":"**Change this:**\r\n\r\n    -Dhttps.proxyHost=127.0.0.1 -Dhttp.proxyHost=127.0.0.1\r\n\r\n**To:**\r\n\r\n    -Dhttps.proxyHost=localhost.charlesproxy.com  -Dhttp.proxyHost=localhost.charlesproxy.com \r\n\r\n**Documentation:** [here][1]\r\n\r\nIf this doesn&#39;t work for you. Add the content below to the file `/etc/hosts`\r\n\r\n    127.0.0.1  localhost.charlesproxy.com\r\n\r\n  [1]: https://www.charlesproxy.com/documentation/faqs/localhost-traffic-doesnt-appear-in-charles/","title":"Use Charles Proxy to monitor tomcat service","body":"<p><strong>Change this:</strong></p>\n<pre><code>-Dhttps.proxyHost=127.0.0.1 -Dhttp.proxyHost=127.0.0.1\n</code></pre>\n<p><strong>To:</strong></p>\n<pre><code>-Dhttps.proxyHost=localhost.charlesproxy.com  -Dhttp.proxyHost=localhost.charlesproxy.com \n</code></pre>\n<p><strong>Documentation:</strong> <a href=\"https://www.charlesproxy.com/documentation/faqs/localhost-traffic-doesnt-appear-in-charles/\" rel=\"nofollow noreferrer\">here</a></p>\n<p>If this doesn't work for you. Add the content below to the file <code>/etc/hosts</code></p>\n<pre><code>127.0.0.1  localhost.charlesproxy.com\n</code></pre>\n"}],"owner":{"account_id":1964391,"reputation":377,"user_id":1765021,"accept_rate":50,"display_name":"abuuu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":661,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1700829736,"creation_date":1384308442,"question_id":19943890,"body_markdown":"I&#39;m using Charles Proxy to monitor the traffic in a tomcat service, after reading the document I add a line in catalina.bat:\r\n\r\nset JAVA_OPTS=%JAVA_OPTS% -agentpath:C:\\yjpagent.dll -Dhttps.proxyHost=127.0.0.1 -Dhttps.proxyPort=8888 -Dhttp.proxyHost=127.0.0.1 -Dhttp.proxyPort=8888\r\n\r\nBut the Charles Proxy does not show anything when the service runs.\r\n\r\nAny idea what should I do?\r\n\r\nThanks in advance.","title":"Use Charles Proxy to monitor tomcat service","body":"<p>I'm using Charles Proxy to monitor the traffic in a tomcat service, after reading the document I add a line in catalina.bat:</p>\n\n<p>set JAVA_OPTS=%JAVA_OPTS% -agentpath:C:\\yjpagent.dll -Dhttps.proxyHost=127.0.0.1 -Dhttps.proxyPort=8888 -Dhttp.proxyHost=127.0.0.1 -Dhttp.proxyPort=8888</p>\n\n<p>But the Charles Proxy does not show anything when the service runs.</p>\n\n<p>Any idea what should I do?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","sftp","sshj","aws-sftp"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1591334987,"creation_date":1591203686,"answer_id":62178484,"question_id":62170626,"body_markdown":"It seems that sshj [`SSHClient`](https://www.javadoc.io/doc/com.hierynomus/sshj/latest/net/schmizz/sshj/SSHClient.html) API does not allow preventing the use of the SETSTAT request. You will have to use more low level API, like [`SFTPFileTransfer`](https://www.javadoc.io/doc/com.hierynomus/sshj/latest/net/schmizz/sshj/sftp/SFTPFileTransfer.html):\r\n\r\n```\r\nSFTPEngine engine = new SFTPEngine(sshClient).init();\r\nSFTPFileTransfer xfer = new SFTPFileTransfer(engine);\r\nxfer.setPreserveAttributes(false);\r\nxfer.upload(&quot;/home/vm/test.txt&quot;, GetConfigValue(&quot;dds&quot;, &quot;RemoteDirectory&quot;));\r\n```","title":"Workaround for unsupported SETSTAT request on SFTP server with sshj","body":"<p>It seems that sshj <a href=\"https://www.javadoc.io/doc/com.hierynomus/sshj/latest/net/schmizz/sshj/SSHClient.html\" rel=\"nofollow noreferrer\"><code>SSHClient</code></a> API does not allow preventing the use of the SETSTAT request. You will have to use more low level API, like <a href=\"https://www.javadoc.io/doc/com.hierynomus/sshj/latest/net/schmizz/sshj/sftp/SFTPFileTransfer.html\" rel=\"nofollow noreferrer\"><code>SFTPFileTransfer</code></a>:</p>\n\n<pre><code>SFTPEngine engine = new SFTPEngine(sshClient).init();\nSFTPFileTransfer xfer = new SFTPFileTransfer(engine);\nxfer.setPreserveAttributes(false);\nxfer.upload(\"/home/vm/test.txt\", GetConfigValue(\"dds\", \"RemoteDirectory\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10741413,"reputation":131,"user_id":7904372,"display_name":"MrAaronOlsen"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1592415715,"creation_date":1592415715,"answer_id":62435176,"question_id":62170626,"body_markdown":"SSHJ does support skipping SETSTAT method.\r\n\r\n```\r\nsftpClient.getFileTransfer().setPreserveAttributes(false)\r\n```","title":"Workaround for unsupported SETSTAT request on SFTP server with sshj","body":"<p>SSHJ does support skipping SETSTAT method.</p>\n\n<pre><code>sftpClient.getFileTransfer().setPreserveAttributes(false)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6767185,"reputation":17855,"user_id":5211833,"accept_rate":83,"display_name":"Adriaan"},"score":2,"creation_date":1697456472,"post_id":77301623,"comment_id":136278119,"body_markdown":"Please [edit] your post to add code and data as text ([using code formatting](https://stackoverflow.com/editing-help#code)), not images. Images: A) don&#39;t allow us to copy-&amp;-paste the code/errors/data for testing; B) don&#39;t permit searching based on the code/error/data contents; and [many more reasons](https://meta.stackoverflow.com/a/285557). Images should only be used, in addition to text in code format, if having the image adds something significant that is not conveyed by just the text code/error/data.  See [mcve] on what code is required.","body":"Please <a href=\"https://stackoverflow.com/posts/77301623/edit\">edit</a> your post to add code and data as text (<a href=\"https://stackoverflow.com/editing-help#code\">using code formatting</a>), not images. Images: A) don&#39;t allow us to copy-&amp;-paste the code/errors/data for testing; B) don&#39;t permit searching based on the code/error/data contents; and <a href=\"https://meta.stackoverflow.com/a/285557\">many more reasons</a>. Images should only be used, in addition to text in code format, if having the image adds something significant that is not conveyed by just the text code/error/data.  See <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> on what code is required."}],"tags":[],"owner":{"account_id":7353328,"reputation":1,"user_id":6097679,"display_name":"Shreekant"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1700829523,"creation_date":1697455959,"answer_id":77301623,"question_id":62170626,"body_markdown":"&gt; By default the preserveAttributes of SFTPFileTransfer is true\r\n\r\n   \r\n\r\n     [private volatile boolean preserveAttributes = true;]\r\n\r\n\r\n\r\n\r\nHence, setting it to false for AWS services would stop preserving data during uploads.\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/com.hierynomus/sshj/0.22.0/net/schmizz/sshj/sftp/SFTPFileTransfer.html\r\n  ","title":"Workaround for unsupported SETSTAT request on SFTP server with sshj","body":"<blockquote>\n<p>By default the preserveAttributes of SFTPFileTransfer is true</p>\n</blockquote>\n<pre><code> [private volatile boolean preserveAttributes = true;]\n</code></pre>\n<p>Hence, setting it to false for AWS services would stop preserving data during uploads.</p>\n"}],"owner":{"account_id":971494,"reputation":1544,"user_id":993990,"accept_rate":96,"display_name":"conteh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8636,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":62178484,"answer_count":3,"score":3,"last_activity_date":1700829523,"creation_date":1591180083,"question_id":62170626,"body_markdown":"I&#39;m trying to SFTP to a server using identity string: SSH-2.0-AWS_SFTP_1.0 with the following Java code using sshj.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.hierynomus&lt;/groupId&gt;\r\n    &lt;artifactId&gt;sshj&lt;/artifactId&gt;\r\n    &lt;version&gt;0.29.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n```java\r\nprivate SSHClient setupSshj(String remoteHost, String username, String password) throws IOException {\r\n    SSHClient client = new SSHClient();\r\n    client.addHostKeyVerifier(new PromiscuousVerifier());\r\n    client.connect(remoteHost);\r\n    client.authPassword(username, password);\r\n    return client;\r\n}\r\n\r\npublic void sftpfiles() throws IOException {\r\n    if (Boolean.parseBoolean(GetConfigValue(&quot;dds&quot;, &quot;sendFiles&quot;))) {\r\n        SSHClient sshClient = setupSshj(GetConfigValue(&quot;dds&quot;, &quot;RemoteAddress&quot;), GetConfigValue(&quot;dds&quot;, &quot;RemoteLogin&quot;), GetConfigValue(&quot;dds&quot;, &quot;RemotePassword&quot;));\r\n        SFTPClient sftpClient = sshClient.newSFTPClient();\r\n        sftpClient.put(&quot;/home/vm/test.txt&quot;, GetConfigValue(&quot;dds&quot;, &quot;RemoteDirectory&quot;));\r\n        sftpClient.close();\r\n        sshClients.disconnect();\r\n    }\r\n}\r\n```\r\n\r\nand get the error \r\n\r\n&gt; Error SETSTAT unsupported\r\n\r\nI understand that the AWS service doesnt allow setting timestamps when uploading however I don&#39;t know what adjustments are required in order to configure the SFTP client.\r\n\r\n","title":"Workaround for unsupported SETSTAT request on SFTP server with sshj","body":"<p>I'm trying to SFTP to a server using identity string: SSH-2.0-AWS_SFTP_1.0 with the following Java code using sshj.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.hierynomus&lt;/groupId&gt;\n    &lt;artifactId&gt;sshj&lt;/artifactId&gt;\n    &lt;version&gt;0.29.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>private SSHClient setupSshj(String remoteHost, String username, String password) throws IOException {\n    SSHClient client = new SSHClient();\n    client.addHostKeyVerifier(new PromiscuousVerifier());\n    client.connect(remoteHost);\n    client.authPassword(username, password);\n    return client;\n}\n\npublic void sftpfiles() throws IOException {\n    if (Boolean.parseBoolean(GetConfigValue(&quot;dds&quot;, &quot;sendFiles&quot;))) {\n        SSHClient sshClient = setupSshj(GetConfigValue(&quot;dds&quot;, &quot;RemoteAddress&quot;), GetConfigValue(&quot;dds&quot;, &quot;RemoteLogin&quot;), GetConfigValue(&quot;dds&quot;, &quot;RemotePassword&quot;));\n        SFTPClient sftpClient = sshClient.newSFTPClient();\n        sftpClient.put(&quot;/home/vm/test.txt&quot;, GetConfigValue(&quot;dds&quot;, &quot;RemoteDirectory&quot;));\n        sftpClient.close();\n        sshClients.disconnect();\n    }\n}\n</code></pre>\n<p>and get the error</p>\n<blockquote>\n<p>Error SETSTAT unsupported</p>\n</blockquote>\n<p>I understand that the AWS service doesnt allow setting timestamps when uploading however I don't know what adjustments are required in order to configure the SFTP client.</p>\n"},{"tags":["java","spring-boot","java-9","java-module"],"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":1,"creation_date":1549378489,"post_id":54536895,"comment_id":95875601,"body_markdown":"not very sure about wsdl here...but, did you try adding a `module-info.java` to your project and/or ensure that the module you&#39;re depending upon (for classes `org.apache.cxf.endpoint.ClientImpl`) is resolved on the modulepath rather than the classpath.","body":"not very sure about wsdl here...but, did you try adding a <code>module-info.java</code> to your project and/or ensure that the module you&#39;re depending upon (for classes <code>org.apache.cxf.endpoint.ClientImpl</code>) is resolved on the modulepath rather than the classpath."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":28,"creation_date":1549804139,"post_id":54536895,"comment_id":96026301,"body_markdown":"There is no *because* in the error message. All this addendum tells you, is, that both classes are located in the same module, the unnamed module of loader &#39;app&#39;, which helps the reader to understand that this problem is entirely unrelated to modules. `ClientImpl` simply is not a subtype of `XigniteCurrenciesSoap`; it&#39;s an ordinary `ClassCastException`.","body":"There is no <i>because</i> in the error message. All this addendum tells you, is, that both classes are located in the same module, the unnamed module of loader &#39;app&#39;, which helps the reader to understand that this problem is entirely unrelated to modules. <code>ClientImpl</code> simply is not a subtype of <code>XigniteCurrenciesSoap</code>; it&#39;s an ordinary <code>ClassCastException</code>."},{"owner":{"account_id":3558487,"reputation":1004,"user_id":2971549,"display_name":"Saman Salehi"},"score":5,"creation_date":1623598585,"post_id":54536895,"comment_id":120119128,"body_markdown":"In my case it was a little bit different. Class Cast Exception sometime happen because of the conflict between different version of the java. in pom.xml i set to use  &quot;&lt;java.version&gt;1.8&lt;/java.version&gt; but in Intellje IDE i set to use java version 11. after changing java version from 11 to 8 problem solved for me.","body":"In my case it was a little bit different. Class Cast Exception sometime happen because of the conflict between different version of the java. in pom.xml i set to use  &quot;&lt;java.version&gt;1.8&lt;/java.version&gt; but in Intellje IDE i set to use java version 11. after changing java version from 11 to 8 problem solved for me."},{"owner":{"account_id":11699911,"reputation":363,"user_id":8565380,"display_name":"Harsh"},"score":0,"creation_date":1653983890,"post_id":54536895,"comment_id":127976996,"body_markdown":"I was using Kotlin alongside Java , simply recompiling the kotlin class resolved the issue","body":"I was using Kotlin alongside Java , simply recompiling the kotlin class resolved the issue"}],"answers":[{"comments":[{"owner":{"account_id":2820743,"reputation":482,"user_id":2424548,"accept_rate":56,"display_name":"Maarten Meeusen"},"score":8,"creation_date":1576749875,"post_id":57753612,"comment_id":105002455,"body_markdown":"I had a similar problem and thought it was impossible to be a ClassCastException. After finding this answer I properly examed the exception again and it turned out I was extending from a superclass with a same name in a different package. So even though it might look like a different problem, it really is a ClassCastException.","body":"I had a similar problem and thought it was impossible to be a ClassCastException. After finding this answer I properly examed the exception again and it turned out I was extending from a superclass with a same name in a different package. So even though it might look like a different problem, it really is a ClassCastException."},{"owner":{"account_id":2767223,"reputation":21433,"user_id":2382650,"accept_rate":92,"display_name":"Cisco"},"score":3,"creation_date":1610512797,"post_id":57753612,"comment_id":116154415,"body_markdown":"At the time I asked the question, I was still fairly new with Apache CXF. The reason for the class cast exception was because I was using JaxWsClientFactoryBean instead of JaxWsProxyFactoryBean. The former returns a ClientImpl while the latter returns a proxy that you must cast. I&#39;m working on something new for work and remembered this question.","body":"At the time I asked the question, I was still fairly new with Apache CXF. The reason for the class cast exception was because I was using JaxWsClientFactoryBean instead of JaxWsProxyFactoryBean. The former returns a ClientImpl while the latter returns a proxy that you must cast. I&#39;m working on something new for work and remembered this question."},{"owner":{"account_id":6547329,"reputation":843,"user_id":6492006,"accept_rate":83,"display_name":"cd491415"},"score":2,"creation_date":1634508499,"post_id":57753612,"comment_id":123037205,"body_markdown":"In my case, I am trying to convert List&lt;Object&gt; to List&lt;MyInterface&gt; and am getting same problem","body":"In my case, I am trying to convert List&lt;Object&gt; to List&lt;MyInterface&gt; and am getting same problem"},{"owner":{"account_id":6867511,"reputation":345,"user_id":5279345,"display_name":"Katia Savina"},"score":0,"creation_date":1689241715,"post_id":57753612,"comment_id":135186716,"body_markdown":"In my case, there are 2 similar classes in the *test* &amp; *app* modules of my project, and it was trying to cast `MyClass` from the *app* module to the `MyClass` from the *test* one.\n\nSince the *app* had been updated recently, I got to transfer the `MyClass` changes into the *test* module, and now it works!\n\n\n@Holger &amp; @orirab, thanks for your hints! :)","body":"In my case, there are 2 similar classes in the <i>test</i> &amp; <i>app</i> modules of my project, and it was trying to cast <code>MyClass</code> from the <i>app</i> module to the <code>MyClass</code> from the <i>test</i> one.  Since the <i>app</i> had been updated recently, I got to transfer the <code>MyClass</code> changes into the <i>test</i> module, and now it works!   @Holger &amp; @orirab, thanks for your hints! :)"},{"owner":{"account_id":2515170,"reputation":1590,"user_id":2186777,"accept_rate":83,"display_name":"fl4l"},"score":0,"creation_date":1692284726,"post_id":57753612,"comment_id":135605144,"body_markdown":"I faced this error during a migration of an old application written in Spring 3 running fine in Java 8 and JBoss EAP 7.4, to Spring 5 / Java 11 / Wildfly 26.1.3.\nThe old application was having some java classes generated from wsdl with xjc on jdk8 for a SOAP webservice that caused the above problem. In order to solve I have needed to regenerate the classes with jdk11 by using maven jaxb2-maven-plugin 2.5.0 version. That plugin version was needed due to generate classes with `import javax.xml.bind.*` and maintain the application dependency with jakarta.xml.bind-api 2.3.3","body":"I faced this error during a migration of an old application written in Spring 3 running fine in Java 8 and JBoss EAP 7.4, to Spring 5 / Java 11 / Wildfly 26.1.3. The old application was having some java classes generated from wsdl with xjc on jdk8 for a SOAP webservice that caused the above problem. In order to solve I have needed to regenerate the classes with jdk11 by using maven jaxb2-maven-plugin 2.5.0 version. That plugin version was needed due to generate classes with <code>import javax.xml.bind.*</code> and maintain the application dependency with jakarta.xml.bind-api 2.3.3"}],"tags":[],"owner":{"account_id":3496867,"reputation":3005,"user_id":2924784,"accept_rate":83,"display_name":"orirab"},"comment_count":5,"down_vote_count":0,"up_vote_count":83,"is_accepted":true,"score":83,"last_activity_date":1567412608,"creation_date":1567412608,"answer_id":57753612,"question_id":54536895,"body_markdown":"I had a similar case, and (as mentioned by @Holger in the comment) the module info in the message is simply misleading - this is an actual case of trying to cast something to something that doesn&#39;t match it.\r\n\r\nIn your case, `ClientImpl` simply is not a subtype of `XigniteCurrenciesSoap`.","title":"Cannot be cast to class - they are in unnamed module of loader &#39;app&#39;","body":"<p>I had a similar case, and (as mentioned by @Holger in the comment) the module info in the message is simply misleading - this is an actual case of trying to cast something to something that doesn't match it.</p>\n\n<p>In your case, <code>ClientImpl</code> simply is not a subtype of <code>XigniteCurrenciesSoap</code>.</p>\n"},{"tags":[],"owner":{"account_id":2050238,"reputation":96,"user_id":1829412,"display_name":"Hotpot with Kraut"},"comment_count":0,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1587938964,"creation_date":1587925782,"answer_id":61445969,"question_id":54536895,"body_markdown":"The stacktrace is trying to tell you that you have casted `XigniteCurrenciesSoap` to `ClientImpl`.\r\n\r\nSuch as the example below:\r\n\r\n```\r\nObject returnObj= getXigniteCurrenciesSoap();\r\nreturn (ClientImpl) returnObj;\r\n```\r\n\r\nYou have to find out where you did that in your code and fix it.\r\n","title":"Cannot be cast to class - they are in unnamed module of loader &#39;app&#39;","body":"<p>The stacktrace is trying to tell you that you have casted <code>XigniteCurrenciesSoap</code> to <code>ClientImpl</code>.</p>\n\n<p>Such as the example below:</p>\n\n<pre><code>Object returnObj= getXigniteCurrenciesSoap();\nreturn (ClientImpl) returnObj;\n</code></pre>\n\n<p>You have to find out where you did that in your code and fix it.</p>\n"},{"tags":[],"owner":{"account_id":3124328,"reputation":15,"user_id":5701594,"display_name":"zaher"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1651828160,"creation_date":1651828160,"answer_id":72138966,"question_id":54536895,"body_markdown":"I had the same problem. The problem in my case was that I already had a class with the same name in another place. So try changing the class name.","title":"Cannot be cast to class - they are in unnamed module of loader &#39;app&#39;","body":"<p>I had the same problem. The problem in my case was that I already had a class with the same name in another place. So try changing the class name.</p>\n"},{"tags":[],"owner":{"account_id":3773766,"reputation":103,"user_id":3135194,"display_name":"Sanjay Tank"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670355359,"creation_date":1663189510,"answer_id":73723149,"question_id":54536895,"body_markdown":"I was getting very similar above exception.&lt;/b&gt;\r\n\r\n```\r\njava.lang.ClassCastException: class [B cannot be cast to class org.apache.avro.generic.GenericRecord ([B is in module java.base of loader &#39;bootstrap&#39;; org.apache.avro.generic.GenericRecord is in unnamed module of loader org.springframework.boot.loader.LaunchedURLClassLoader \r\n```\r\n\r\n\r\nRoot cause was my Gradle dependency had exclude statement, i.e.\r\n\r\n```\r\nexclude group: &#39;org.springframework.cloud&#39;, module: &#39;spring-cloud-stram-binder-kafka&#39;,\r\n```\r\n\r\nI commented it as below and things were working fine after that:\r\n\r\n```lang-groovy\r\nimplementation (&#39;com.xyz.lux:lux-acitor:1.25.0&#39;) {\r\n  //exclude group: &#39;org.springframework.cloud&#39;, module: &#39;spring-cloud-stream-binder-kafka&#39;\r\n  exclude group: &#39;org.slf4j&#39;, module: &#39;slf4j-reload4j&#39;\r\n  exclude group: &#39;io.confluent&#39;, module: &#39;confluent-log4j&#39;\r\n}\r\n```","title":"Cannot be cast to class - they are in unnamed module of loader &#39;app&#39;","body":"<p>I was getting very similar above exception.</p>\n<pre><code>java.lang.ClassCastException: class [B cannot be cast to class org.apache.avro.generic.GenericRecord ([B is in module java.base of loader 'bootstrap'; org.apache.avro.generic.GenericRecord is in unnamed module of loader org.springframework.boot.loader.LaunchedURLClassLoader \n</code></pre>\n<p>Root cause was my Gradle dependency had exclude statement, i.e.</p>\n<pre><code>exclude group: 'org.springframework.cloud', module: 'spring-cloud-stram-binder-kafka',\n</code></pre>\n<p>I commented it as below and things were working fine after that:</p>\n<pre class=\"lang-groovy prettyprint-override\"><code>implementation ('com.xyz.lux:lux-acitor:1.25.0') {\n  //exclude group: 'org.springframework.cloud', module: 'spring-cloud-stream-binder-kafka'\n  exclude group: 'org.slf4j', module: 'slf4j-reload4j'\n  exclude group: 'io.confluent', module: 'confluent-log4j'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6210841,"reputation":63,"user_id":14101715,"display_name":"Pascoal Eddy Bayonne"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675860425,"creation_date":1675860425,"answer_id":75386016,"question_id":54536895,"body_markdown":"I had the same issue using spring cloud stream kafka, when i tried to consume the message it throw the exception. \r\n\r\nIn my case, it is because Spring boot needed any kind of dependency which would allow the Serde (serialisation or deserialisation). Just added the json one.\r\n\r\n    \t\t\r\n\r\n           &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-json&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\nafter that i was able to keep moving forward. Remember if you have Spring Web dependency then this above dependency is automatically included ","title":"Cannot be cast to class - they are in unnamed module of loader &#39;app&#39;","body":"<p>I had the same issue using spring cloud stream kafka, when i tried to consume the message it throw the exception.</p>\n<p>In my case, it is because Spring boot needed any kind of dependency which would allow the Serde (serialisation or deserialisation). Just added the json one.</p>\n<pre><code>       &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-json&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>after that i was able to keep moving forward. Remember if you have Spring Web dependency then this above dependency is automatically included</p>\n"},{"tags":[],"owner":{"account_id":2794316,"reputation":1918,"user_id":2403836,"accept_rate":72,"display_name":"mr nooby noob"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697460537,"creation_date":1697460537,"answer_id":77302098,"question_id":54536895,"body_markdown":"In my case I had a parent class with the following lombok annotations\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @SuperBuilder\r\n    public class Parent {\r\n    ...\r\n    }\r\n\r\nand then the child class looked like this\r\n\r\n    public class Child extends Parent {}\r\n\r\nIn the end I got it working by adding these two lombok annotations to the child class\r\n\r\n    @SuperBuilder\r\n    @EqualsAndHashCode(callSuper = true)\r\n\r\n","title":"Cannot be cast to class - they are in unnamed module of loader &#39;app&#39;","body":"<p>In my case I had a parent class with the following lombok annotations</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@SuperBuilder\npublic class Parent {\n...\n}\n</code></pre>\n<p>and then the child class looked like this</p>\n<pre><code>public class Child extends Parent {}\n</code></pre>\n<p>In the end I got it working by adding these two lombok annotations to the child class</p>\n<pre><code>@SuperBuilder\n@EqualsAndHashCode(callSuper = true)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":23004535,"reputation":1381,"user_id":17128041,"display_name":"sidharth vijayakumar"},"score":1,"creation_date":1700917873,"post_id":77543174,"comment_id":136712270,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77543174/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29562025,"reputation":1,"user_id":22656334,"display_name":"Adel Kh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700829176,"creation_date":1700829137,"answer_id":77543174,"question_id":54536895,"body_markdown":"In my case: i used one of auto-generators to generate data-classes from json-schema.\r\nAfter that i renamed Top-level data class i got from auto-generator. \r\nInside of that class was field with same name.\r\nJackson couldn&#39;t deserialize it.\r\n\r\nAfter i renamed top-level data class issue was fixed","title":"Cannot be cast to class - they are in unnamed module of loader &#39;app&#39;","body":"<p>In my case: i used one of auto-generators to generate data-classes from json-schema.\nAfter that i renamed Top-level data class i got from auto-generator.\nInside of that class was field with same name.\nJackson couldn't deserialize it.</p>\n<p>After i renamed top-level data class issue was fixed</p>\n"}],"owner":{"account_id":2767223,"reputation":21433,"user_id":2382650,"accept_rate":92,"display_name":"Cisco"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":365719,"favorite_count":0,"down_vote_count":0,"up_vote_count":140,"accepted_answer_id":57753612,"answer_count":7,"score":140,"last_activity_date":1700829176,"creation_date":1549377821,"question_id":54536895,"body_markdown":"I&#39;m trying to create a bean from sources that were generated by [`wsdl2java`](https://github.com/nilsmagnus/wsdl2java).\r\n\r\nEvery time I try to run my Spring Boot app, I get the following error:\r\n\r\n&gt; Caused by: java.lang.ClassCastException: class\r\n&gt; org.apache.cxf.endpoint.ClientImpl cannot be cast to class\r\n&gt; com.xignite.services.XigniteCurrenciesSoap\r\n&gt; (org.apache.cxf.endpoint.ClientImpl and\r\n&gt; com.xignite.services.XigniteCurrenciesSoap are in unnamed module of\r\n&gt; loader &#39;app&#39;)\r\n\r\nI&#39;m not sure how exactly I&#39;m to include generated sources in my main Spring Boot application as a module.\r\n\r\nMy directory structure is:\r\n\r\n     build\r\n    &#160;&#160;  generatedsources\r\n            src\r\n                main\r\n                    java\r\n                        com\r\n                            xignite\r\n                                services\r\n          \r\n     src\r\n         main\r\n             java\r\n            &#160;&#160;  io\r\n            &#160;&#160;      mateo\r\n            &#160;&#160;          stackoverflow\r\n            &#160;&#160;              soapconsumption\r\n             resources\r\n        &#160;&#160;      wsdls\r\n\r\nRelevant system info:\r\n\r\n    openjdk version &quot;11.0.1&quot; 2018-10-16\r\n    OpenJDK Runtime Environment 18.9 (build 11.0.1+13)\r\n    OpenJDK 64-Bit Server VM 18.9 (build 11.0.1+13, mixed mode)\r\n\r\n* Spring Boot 2.1.2.RELEASE\r\n* Gradle 5.2\r\n\r\nI&#39;ve also uploaded the project onto Github here: https://github.com/ciscoo/soap-consumption-spring-boot","title":"Cannot be cast to class - they are in unnamed module of loader &#39;app&#39;","body":"<p>I'm trying to create a bean from sources that were generated by <a href=\"https://github.com/nilsmagnus/wsdl2java\" rel=\"noreferrer\"><code>wsdl2java</code></a>.</p>\n\n<p>Every time I try to run my Spring Boot app, I get the following error:</p>\n\n<blockquote>\n  <p>Caused by: java.lang.ClassCastException: class\n  org.apache.cxf.endpoint.ClientImpl cannot be cast to class\n  com.xignite.services.XigniteCurrenciesSoap\n  (org.apache.cxf.endpoint.ClientImpl and\n  com.xignite.services.XigniteCurrenciesSoap are in unnamed module of\n  loader 'app')</p>\n</blockquote>\n\n<p>I'm not sure how exactly I'm to include generated sources in my main Spring Boot application as a module.</p>\n\n<p>My directory structure is:</p>\n\n<pre><code> build\n  generatedsources\n        src\n            main\n                java\n                    com\n                        xignite\n                            services\n      \n src\n     main\n         java\n          io\n              mateo\n                  stackoverflow\n                      soapconsumption\n         resources\n          wsdls\n</code></pre>\n\n<p>Relevant system info:</p>\n\n<pre><code>openjdk version \"11.0.1\" 2018-10-16\nOpenJDK Runtime Environment 18.9 (build 11.0.1+13)\nOpenJDK 64-Bit Server VM 18.9 (build 11.0.1+13, mixed mode)\n</code></pre>\n\n<ul>\n<li>Spring Boot 2.1.2.RELEASE</li>\n<li>Gradle 5.2</li>\n</ul>\n\n<p>I've also uploaded the project onto Github here: <a href=\"https://github.com/ciscoo/soap-consumption-spring-boot\" rel=\"noreferrer\">https://github.com/ciscoo/soap-consumption-spring-boot</a></p>\n"},{"tags":["java","io","flush"],"comments":[{"owner":{"account_id":996144,"reputation":1722,"user_id":1012022,"display_name":"robermann"},"score":0,"creation_date":1393845936,"post_id":22145523,"comment_id":33603143,"body_markdown":"I don&#39;t think it is really necessary. What says the javadoc?","body":"I don&#39;t think it is really necessary. What says the javadoc?"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":4,"creation_date":1393845950,"post_id":22145523,"comment_id":33603154,"body_markdown":"I don&#39;t see this all the time... or ever, in fact. Where are you encountering it?","body":"I don&#39;t see this all the time... or ever, in fact. Where are you encountering it?"},{"owner":{"account_id":3280268,"reputation":8445,"user_id":2761035,"accept_rate":74,"display_name":"codingenious"},"score":0,"creation_date":1393846109,"post_id":22145523,"comment_id":33603237,"body_markdown":"I never do that. And never faced problem too.","body":"I never do that. And never faced problem too."},{"owner":{"account_id":1126980,"reputation":3627,"user_id":1114024,"accept_rate":76,"display_name":"krystah"},"score":0,"creation_date":1393846551,"post_id":22145523,"comment_id":33603496,"body_markdown":"The javadocs doesn&#39;t specify to do so, but I&#39;ve had multiple professors and read quite a few tutorials suggesting that it&#39;s good practice, I just don&#39;t like doing stuff &quot;just because some smart guy said it&quot;.","body":"The javadocs doesn&#39;t specify to do so, but I&#39;ve had multiple professors and read quite a few tutorials suggesting that it&#39;s good practice, I just don&#39;t like doing stuff &quot;just because some smart guy said it&quot;."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1393846584,"post_id":22145523,"comment_id":33603506,"body_markdown":"Can you share links to these tutorials?","body":"Can you share links to these tutorials?"},{"owner":{"account_id":2132213,"reputation":11287,"user_id":1892802,"accept_rate":100,"display_name":"ug_"},"score":0,"creation_date":1393846925,"post_id":22145523,"comment_id":33603711,"body_markdown":"Is it possible you are seeing these flushes being called with server sockets. On these sockets you are creating the object output stream after sending prior data through the socket. I could see an instance where you write some data to the socket then want to write some more but it could take some time. In that case you would want to flush it prior to doing the heavy lifting.","body":"Is it possible you are seeing these flushes being called with server sockets. On these sockets you are creating the object output stream after sending prior data through the socket. I could see an instance where you write some data to the socket then want to write some more but it could take some time. In that case you would want to flush it prior to doing the heavy lifting."},{"owner":{"account_id":1126980,"reputation":3627,"user_id":1114024,"accept_rate":76,"display_name":"krystah"},"score":2,"creation_date":1393847479,"post_id":22145523,"comment_id":33604024,"body_markdown":"It&#39;s been a while since I read those tutorials, but I dug up a couple here:\nhttps://blogs.oracle.com/muraliveligeti/entry/j2ee_connecting_to_https_site\n\nhttp://www.binarytides.com/java-socket-programming-tutorial/","body":"It&#39;s been a while since I read those tutorials, but I dug up a couple here: <a href=\"https://blogs.oracle.com/muraliveligeti/entry/j2ee_connecting_to_https_site\" rel=\"nofollow noreferrer\">blogs.oracle.com/muraliveligeti/entry/&hellip;</a>  <a href=\"http://www.binarytides.com/java-socket-programming-tutorial/\" rel=\"nofollow noreferrer\">binarytides.com/java-socket-programming-tutorial</a>"},{"owner":{"account_id":1126980,"reputation":3627,"user_id":1114024,"accept_rate":76,"display_name":"krystah"},"score":0,"creation_date":1393847610,"post_id":22145523,"comment_id":33604109,"body_markdown":"I might be better off asking the professors why this is rather than looking up random tutorials in a hurry though.","body":"I might be better off asking the professors why this is rather than looking up random tutorials in a hurry though."}],"answers":[{"comments":[{"owner":{"account_id":265464,"reputation":38253,"user_id":552438,"display_name":"Anthony Grist"},"score":1,"creation_date":1393846233,"post_id":22145597,"comment_id":33603309,"body_markdown":"I&#39;m not sure this explains why it&#39;s necessary to flush the output stream *before* you perform any write operations.","body":"I&#39;m not sure this explains why it&#39;s necessary to flush the output stream <i>before</i> you perform any write operations."},{"owner":{"account_id":2132213,"reputation":11287,"user_id":1892802,"accept_rate":100,"display_name":"ug_"},"score":0,"creation_date":1393846237,"post_id":22145597,"comment_id":33603312,"body_markdown":"Yes after writing to the stream but what about after initial creation? I dont see the same situation occurring prior to writing anything.","body":"Yes after writing to the stream but what about after initial creation? I dont see the same situation occurring prior to writing anything."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1393846306,"post_id":22145597,"comment_id":33603352,"body_markdown":"True, but seems to have nothing to do with question. OP is asking why stream needs to be flushed right after it is created (where there shouldn&#39;t be any data in).","body":"True, but seems to have nothing to do with question. OP is asking why stream needs to be flushed right after it is created (where there shouldn&#39;t be any data in)."},{"owner":{"account_id":3845998,"reputation":1620,"user_id":3187537,"display_name":"Saurabh Jain"},"score":0,"creation_date":1393846892,"post_id":22145597,"comment_id":33603685,"body_markdown":"When reading a file, no flushing is required, so you won&#39;t even find a flush()method in a Reader kind of class.For all your output files, you might discover that the buffers dont get flushed, so the file will be incomplete and you may not see the output.","body":"When reading a file, no flushing is required, so you won&#39;t even find a flush()method in a Reader kind of class.For all your output files, you might discover that the buffers dont get flushed, so the file will be incomplete and you may not see the output."}],"tags":[],"owner":{"account_id":3845998,"reputation":1620,"user_id":3187537,"display_name":"Saurabh Jain"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1393846119,"creation_date":1393846119,"answer_id":22145597,"question_id":22145523,"body_markdown":"When you write data out to a stream, some amount of buffering will occur, and you never know for sure exactly when the last of the data will actually be sent. You might perform many rite operations on a stream before closing it, and invoking the flush()method guarantees that the last of the data you thought you had already written actually gets out to the file. Whenever you&#39;re done using a file, either reading it or writing to it, you should invoke the close()method. When you are doing file I/O you&#39;re using expensive and limited operating system resources, and so when you&#39;re done, invoking close()will free up those resources.","title":"Why is it necessary to flush the output buffer when it was just created?","body":"<p>When you write data out to a stream, some amount of buffering will occur, and you never know for sure exactly when the last of the data will actually be sent. You might perform many rite operations on a stream before closing it, and invoking the flush()method guarantees that the last of the data you thought you had already written actually gets out to the file. Whenever you're done using a file, either reading it or writing to it, you should invoke the close()method. When you are doing file I/O you're using expensive and limited operating system resources, and so when you're done, invoking close()will free up those resources.</p>\n"},{"comments":[{"owner":{"account_id":1126980,"reputation":3627,"user_id":1114024,"accept_rate":76,"display_name":"krystah"},"score":0,"creation_date":1393849773,"post_id":22145991,"comment_id":33605523,"body_markdown":"I am not confusing flushing after initial creation with flushing prior to closing streams. I have been led to believe that after retrieving the OutputStream-object, some stuff resides in the buffer from the very start. I just wanted to know *what* that is and why it is even there.","body":"I am not confusing flushing after initial creation with flushing prior to closing streams. I have been led to believe that after retrieving the OutputStream-object, some stuff resides in the buffer from the very start. I just wanted to know <i>what</i> that is and why it is even there."}],"tags":[],"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1393847312,"creation_date":1393847312,"answer_id":22145991,"question_id":22145523,"body_markdown":"In over 15 years of writing Java on a professional level I&#39;ve never once encountered a need to flush a stream before writing to it.&lt;br/&gt;\r\nThe flush operation would do nothing at all, as there&#39;s nothing to flush.&lt;br/&gt;\r\nYou want to flush the stream before closing it, though the close operation should do that for you it is often considered best practice to do it explicitly (and I have encountered situations where that did make a difference, where apparently the close operation did not actually do a flush first.&lt;br/&gt;\r\nMaybe you are confused with that?","title":"Why is it necessary to flush the output buffer when it was just created?","body":"<p>In over 15 years of writing Java on a professional level I've never once encountered a need to flush a stream before writing to it.<br/>\nThe flush operation would do nothing at all, as there's nothing to flush.<br/>\nYou want to flush the stream before closing it, though the close operation should do that for you it is often considered best practice to do it explicitly (and I have encountered situations where that did make a difference, where apparently the close operation did not actually do a flush first.<br/>\nMaybe you are confused with that?</p>\n"},{"tags":[],"owner":{"account_id":1677570,"reputation":18354,"user_id":1542723,"display_name":"Ferrybig"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1700829002,"creation_date":1454333548,"answer_id":35131843,"question_id":22145523,"body_markdown":"This is needed when using either `ObjectInputStream` and `ObjectOutputStream`, because they send a header over the stream before the first write is called. The call to `flush()` will send that header to the remote side.\r\n\r\nAccording to the [spec][1], the header exists of the following contents:\r\n\r\n&gt;     magic version\r\n\r\nIf the header doesn&#39;t arrive at the moment a ObjectInputStream is build, this call will hang until it received the header bytes.\r\n\r\nThis means that if the protocol in question is written with `ObjectStream`s, it should flush after creating a `ObjectOutputStream`.\r\n\r\nNote that this practice is only required when using the `ObjectOutputStream` to send to a real time viewer. If writing it to an file, it isn&#39;t typically needed\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/platform/serialization/spec/protocol.html#53688","title":"Why is it necessary to flush the output buffer when it was just created?","body":"<p>This is needed when using either <code>ObjectInputStream</code> and <code>ObjectOutputStream</code>, because they send a header over the stream before the first write is called. The call to <code>flush()</code> will send that header to the remote side.</p>\n<p>According to the <a href=\"https://docs.oracle.com/javase/7/docs/platform/serialization/spec/protocol.html#53688\" rel=\"nofollow noreferrer\">spec</a>, the header exists of the following contents:</p>\n<blockquote>\n<pre><code>magic version\n</code></pre>\n</blockquote>\n<p>If the header doesn't arrive at the moment a ObjectInputStream is build, this call will hang until it received the header bytes.</p>\n<p>This means that if the protocol in question is written with <code>ObjectStream</code>s, it should flush after creating a <code>ObjectOutputStream</code>.</p>\n<p>Note that this practice is only required when using the <code>ObjectOutputStream</code> to send to a real time viewer. If writing it to an file, it isn't typically needed</p>\n"}],"owner":{"account_id":1126980,"reputation":3627,"user_id":1114024,"accept_rate":76,"display_name":"krystah"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1510,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":35131843,"answer_count":3,"score":7,"last_activity_date":1700829002,"creation_date":1393845877,"question_id":22145523,"body_markdown":"In the following scenario\r\n    \r\n    ObjectOutputStream output = new ObjectOutputStream(socket.getOutputStream());\r\n    output.flush();\r\n    // Do stuff with it\r\n\r\nWhy is it always necessary to flush the buffer after initial creation?&lt;br /&gt;\r\nI see this all the time and I don&#39;t really understand *what* has to be flushed. I kind of expect newly created variables to be empty unless otherwise is specified.&lt;br /&gt;\r\n\r\nKind of like buying a trash-can and finding a tiny pile of trash inside that came with it.","title":"Why is it necessary to flush the output buffer when it was just created?","body":"<p>In the following scenario</p>\n\n<pre><code>ObjectOutputStream output = new ObjectOutputStream(socket.getOutputStream());\noutput.flush();\n// Do stuff with it\n</code></pre>\n\n<p>Why is it always necessary to flush the buffer after initial creation?<br />\nI see this all the time and I don't really understand <em>what</em> has to be flushed. I kind of expect newly created variables to be empty unless otherwise is specified.<br /></p>\n\n<p>Kind of like buying a trash-can and finding a tiny pile of trash inside that came with it.</p>\n"},{"tags":["java","testing","png"],"comments":[{"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":1,"creation_date":1292836136,"post_id":4488194,"comment_id":4909240,"body_markdown":"What you&#39;re looking for is OCR software. The `pngj` library does not mention it can do OCR.","body":"What you&#39;re looking for is OCR software. The <code>pngj</code> library does not mention it can do OCR."},{"owner":{"account_id":230362,"reputation":28330,"user_id":493928,"accept_rate":62,"display_name":"khachik"},"score":0,"creation_date":1292836155,"post_id":4488194,"comment_id":4909241,"body_markdown":"PNGJ can&#39;t to that. You need a library for text recognition.","body":"PNGJ can&#39;t to that. You need a library for text recognition."},{"owner":{"account_id":19881,"reputation":34837,"user_id":46991,"accept_rate":85,"display_name":"falstro"},"score":0,"creation_date":1292836229,"post_id":4488194,"comment_id":4909247,"body_markdown":"This is definitely not trivial. The general process is known as OCR (optical character recognition) which reads the text. However, it&#39;s far from perfect and might pick up stuff which isn&#39;t text, and if there&#39;s any more text in your graph (labels on axes etc), they will be read as well.","body":"This is definitely not trivial. The general process is known as OCR (optical character recognition) which reads the text. However, it&#39;s far from perfect and might pick up stuff which isn&#39;t text, and if there&#39;s any more text in your graph (labels on axes etc), they will be read as well."},{"owner":{"account_id":36819,"reputation":4724,"user_id":105104,"display_name":"dvhh"},"score":0,"creation_date":1292836295,"post_id":4488194,"comment_id":4909253,"body_markdown":"You are looking for OCR (Optical character recognition : http://en.wikipedia.org/wiki/Optical_character_recognition ). you should look here http://stackoverflow.com/questions/971344/java-based-ocr-sdk-api","body":"You are looking for OCR (Optical character recognition : <a href=\"http://en.wikipedia.org/wiki/Optical_character_recognition\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Optical_character_recognition</a> ). you should look here <a href=\"http://stackoverflow.com/questions/971344/java-based-ocr-sdk-api\">stackoverflow.com/questions/971344/java-based-ocr-sdk-api</a>"},{"owner":{"account_id":46128,"reputation":928,"user_id":136202,"accept_rate":62,"display_name":"Rajasankar"},"score":0,"creation_date":1292840838,"post_id":4488194,"comment_id":4909790,"body_markdown":"Thanks Pratik and dvhh. tesseract may be useful.","body":"Thanks Pratik and dvhh. tesseract may be useful."}],"answers":[{"comments":[{"owner":{"account_id":24377,"reputation":818073,"user_id":61974,"display_name":"Mark Byers"},"score":0,"creation_date":1292841859,"post_id":4488200,"comment_id":4909926,"body_markdown":"@Rajasankar: Something like a CSV file or an XML file would be a lot easier to parse than a PNG file.","body":"@Rajasankar: Something like a CSV file or an XML file would be a lot easier to parse than a PNG file."}],"tags":[],"owner":{"account_id":24377,"reputation":818073,"user_id":61974,"display_name":"Mark Byers"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1292836626,"creation_date":1292836112,"answer_id":4488200,"question_id":4488194,"body_markdown":"No, you can&#39;t do that with pngj. The text that is visible in the PNG image is not internally stored as text. You will need [OCR][1] software if you wish to identify the text.\r\n\r\nHowever it would be *much* better if you could get the data in another format that is easier to parse by a computer.\r\n\r\n[1]: http://en.wikipedia.org/wiki/Optical_character_recognition","title":"How to get text in png file using Java","body":"<p>No, you can't do that with pngj. The text that is visible in the PNG image is not internally stored as text. You will need <a href=\"http://en.wikipedia.org/wiki/Optical_character_recognition\" rel=\"nofollow\">OCR</a> software if you wish to identify the text.</p>\n\n<p>However it would be <em>much</em> better if you could get the data in another format that is easier to parse by a computer.</p>\n"},{"tags":[],"owner":{"account_id":82188,"reputation":7572,"user_id":231290,"accept_rate":94,"display_name":"Lukasz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1292836217,"creation_date":1292836217,"answer_id":4488215,"question_id":4488194,"body_markdown":"Yes, it seems to be possible. However, you should find a good OCR library. And then, assuming that your OCR library returned proper results you need to verify somehow if your legends are placed in proper positions.","title":"How to get text in png file using Java","body":"<p>Yes, it seems to be possible. However, you should find a good OCR library. And then, assuming that your OCR library returned proper results you need to verify somehow if your legends are placed in proper positions.</p>\n"},{"tags":[],"owner":{"account_id":153306,"reputation":11544,"user_id":368472,"accept_rate":95,"display_name":"Pratik"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1311844089,"creation_date":1292836791,"answer_id":4488280,"question_id":4488194,"body_markdown":"You can try [Asprise OCR][1] out.  It&#39;s a good OCR API available in Java.\r\n\r\n\r\n  [1]: http://asprise.com/product/ocr/index.php?lang=java","title":"How to get text in png file using Java","body":"<p>You can try <a href=\"http://asprise.com/product/ocr/index.php?lang=java\" rel=\"nofollow\">Asprise OCR</a> out.  It's a good OCR API available in Java.</p>\n"},{"tags":[],"owner":{"account_id":3236880,"reputation":12685,"user_id":2730862,"display_name":"Haimei"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467216492,"creation_date":1467216492,"answer_id":38104915,"question_id":4488194,"body_markdown":"Here I use scala to give out my solution. If you are java developer, it is quite easy for you to convert the scala code to your java code. \r\n\r\nStep1: in **build.sbt** to add one more line\r\n\r\n    libraryDependencies += &quot;com.asprise.ocr&quot; % &quot;java-ocr-api&quot; % &quot;[15,)&quot;\r\n\r\nStep2: **import** library\r\n\r\n    import com.asprise.ocr.Ocr\r\n\r\nStep2: scala code.Please note: here &lt;your_file&gt; is a **File** type. If you only have fileName/filePath, you need to use **new File(&lt;file_name&gt;)** to convert it. \r\n\r\n    \r\n\r\n    try {\r\n          // Image\r\n          Ocr.setUp()\r\n          val ocr = new Ocr\r\n          ocr.startEngine(&quot;eng&quot;, Ocr.SPEED_FASTEST)\r\n          val files = List(&lt;your_file&gt;)\r\n          val outputString = ocr.recognize(files.toArray, Ocr.RECOGNIZE_TYPE_ALL, Ocr.OUTPUT_FORMAT_PLAINTEXT)\r\n          ocr.stopEngine()\r\n          Some(outputString)\r\n    } catch {\r\n          case e: Exception =&gt; None // todo: to support multiple file types\r\n    }\r\n\r\nI also write a blog to give more details info about [how to extract text/content from another file(pdf, html, image, etc)][1]\r\n\r\nIf you want to read more about this java-ocr-api, you can read [its official website here][2].  \r\n\r\n\r\n  [1]: https://lihaimei.wordpress.com/2016/05/13/text-extraction-from-url-by-scala/\r\n  [2]: https://asprise.com/ocr/docs/html/asprise-ocr-api-java.html#recognizes-text-only-or-barcode-only","title":"How to get text in png file using Java","body":"<p>Here I use scala to give out my solution. If you are java developer, it is quite easy for you to convert the scala code to your java code. </p>\n\n<p>Step1: in <strong>build.sbt</strong> to add one more line</p>\n\n<pre><code>libraryDependencies += \"com.asprise.ocr\" % \"java-ocr-api\" % \"[15,)\"\n</code></pre>\n\n<p>Step2: <strong>import</strong> library</p>\n\n<pre><code>import com.asprise.ocr.Ocr\n</code></pre>\n\n<p>Step2: scala code.Please note: here  is a <strong>File</strong> type. If you only have fileName/filePath, you need to use <strong>new File()</strong> to convert it. </p>\n\n<pre><code>try {\n      // Image\n      Ocr.setUp()\n      val ocr = new Ocr\n      ocr.startEngine(\"eng\", Ocr.SPEED_FASTEST)\n      val files = List(&lt;your_file&gt;)\n      val outputString = ocr.recognize(files.toArray, Ocr.RECOGNIZE_TYPE_ALL, Ocr.OUTPUT_FORMAT_PLAINTEXT)\n      ocr.stopEngine()\n      Some(outputString)\n} catch {\n      case e: Exception =&gt; None // todo: to support multiple file types\n}\n</code></pre>\n\n<p>I also write a blog to give more details info about <a href=\"https://lihaimei.wordpress.com/2016/05/13/text-extraction-from-url-by-scala/\" rel=\"nofollow\">how to extract text/content from another file(pdf, html, image, etc)</a></p>\n\n<p>If you want to read more about this java-ocr-api, you can read <a href=\"https://asprise.com/ocr/docs/html/asprise-ocr-api-java.html#recognizes-text-only-or-barcode-only\" rel=\"nofollow\">its official website here</a>.  </p>\n"},{"tags":[],"owner":{"account_id":9674111,"reputation":19,"user_id":7178147,"display_name":"zamming"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700828831,"creation_date":1700828831,"answer_id":77543133,"question_id":4488194,"body_markdown":"You can use Tesserat.sample code below:-\r\n\r\n    String src = &quot;path of File&quot;;\r\n    String ocrString = &quot;&quot;;\r\n    Tesseract instance = new Tesseract();         instance.setDatapath(&quot;path of tessdata\\\\Tess4J\\\\tessdata&quot;);\r\n    BufferedImage bufferedImage = ImageIO.read(new File(src));\r\n    ocrString = instance.doOCR(new File(src));","title":"How to get text in png file using Java","body":"<p>You can use Tesserat.sample code below:-</p>\n<pre><code>String src = &quot;path of File&quot;;\nString ocrString = &quot;&quot;;\nTesseract instance = new Tesseract();         instance.setDatapath(&quot;path of tessdata\\\\Tess4J\\\\tessdata&quot;);\nBufferedImage bufferedImage = ImageIO.read(new File(src));\nocrString = instance.doOCR(new File(src));\n</code></pre>\n"}],"owner":{"account_id":46128,"reputation":928,"user_id":136202,"accept_rate":62,"display_name":"Rajasankar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3333,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":4488200,"answer_count":5,"score":3,"last_activity_date":1700828831,"creation_date":1292836008,"question_id":4488194,"body_markdown":"I want to check if particular string is present in the image. Is that possible? Is [pngj][1] can do that? \r\n\r\nMy file will contain a graph and some legends. I want to check the if the legends are correct. \r\n\r\n\r\n  [1]: http://code.google.com/p/pngj/","title":"How to get text in png file using Java","body":"<p>I want to check if particular string is present in the image. Is that possible? Is <a href=\"http://code.google.com/p/pngj/\" rel=\"nofollow\">pngj</a> can do that? </p>\n\n<p>My file will contain a graph and some legends. I want to check the if the legends are correct. </p>\n"},{"tags":["java","spring","authentication","spring-security","authorization"],"comments":[{"owner":{"account_id":27632834,"reputation":1,"user_id":21091349,"display_name":"Akshat Udeeniya"},"score":0,"creation_date":1700886234,"post_id":77542499,"comment_id":136710108,"body_markdown":"after doing changes according to you . problem not solve otherwise another problem raise @seenukarti","body":"after doing changes according to you . problem not solve otherwise another problem raise @seenukarti"}],"owner":{"account_id":27632834,"reputation":1,"user_id":21091349,"display_name":"Akshat Udeeniya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700828702,"creation_date":1700822479,"question_id":77542499,"body_markdown":"i am making contact manager project using spring boot security 6.1 version , when I hit Url it always redirect to default page login page which spring provide here ,I my code\r\npackage config\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class MyConfig {\r\n\r\n\t@Bean\r\n\tpublic UserDetailsService getUserDetailService() {\r\n\t\treturn new UserDetailsServiceImpl();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic BCryptPasswordEncoder passwordEncoder() {\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\r\n\tpublic DaoAuthenticationProvider authenticationProvider() {\r\n\t\tDaoAuthenticationProvider daoAuthenticationProvider = new DaoAuthenticationProvider();\r\n\t\tdaoAuthenticationProvider.setUserDetailsService(this.getUserDetailService());\r\n\t\tdaoAuthenticationProvider.setPasswordEncoder(passwordEncoder());\r\n\t\treturn daoAuthenticationProvider;\r\n\t}\r\n\r\n\tprotected void configure(AuthenticationManagerBuilder auth) {\r\n\t\tauth.authenticationProvider(authenticationProvider());\r\n\t}\r\n\t\r\n\t  \r\n\t  public SecurityFilterChain securityFilterChain(HttpSecurity  http) throws\r\n\t  Exception {\r\n\t  \r\n\t\t  http\r\n\t\t    .authorizeHttpRequests((authorize) -&gt; authorize\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t  .requestMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n\t\t\t\t\t\t\t  .requestMatchers(&quot;/user/**&quot;).hasRole(&quot;USER&quot;)\r\n\t\t\t\t\t\t\t  .requestMatchers(&quot;/**&quot;).permitAll()\r\n\t\t      \r\n\t\t    )  .formLogin(formLoginConfigurer -&gt; formLoginConfigurer\r\n\t\t            .loginPage(&quot;/signin&quot;));\r\n\r\n\t\t  return http.build();\r\n\t  }\r\n\t \r\n}\r\n```\r\n\r\n```\r\n@Controller\r\npublic class HomeController {\r\n   @Autowired\r\n\tprivate BCryptPasswordEncoder passwordEncoder;\r\n    \r\n\t@Autowired\r\n\tprivate UserRepository userRepository;\r\n\r\n\t@RequestMapping(&quot;/&quot;)\r\n\tpublic String home(Model model) {\r\n\t\tmodel.addAttribute(&quot;title&quot;, &quot;Home - smart contact manager page&quot;);\r\n\t\treturn &quot;home&quot;;\r\n\t}\r\n\r\n\t@RequestMapping(&quot;/about&quot;)\r\n\tpublic String about(Model model) {\r\n\t\tmodel.addAttribute(&quot;about&quot;, &quot;About - smart contact manager page&quot;);\r\n\t\treturn &quot;about&quot;;\r\n\t}\r\n\r\n\t@RequestMapping(&quot;/signup&quot;)\r\n\tpublic String signup(Model model) {\r\n\t\tmodel.addAttribute(&quot;about&quot;, &quot;Register - smart contact manager page&quot;);\r\n\t\tmodel.addAttribute(&quot;user&quot;, new User());\r\n\t\treturn &quot;signup&quot;;\r\n\t}\r\n\r\n\t// handeler for register user\r\n\r\n\t@RequestMapping(value = &quot;/do_register&quot;, method = RequestMethod.POST)\r\n\tpublic String registerUser( Model model, @Valid @ModelAttribute(&quot;user&quot;) User user, BindingResult result1,\r\n\t\t\t@RequestParam(value = &quot;agreement&quot;, defaultValue = &quot;false&quot;) boolean agreement,\r\n\t\t\tHttpSession session) {\r\n\t\tSystem.out.println(result1);\r\n\t\ttry {\r\n\r\n\t\t\t  if (! agreement) { System.out.println(&quot;Please click the check Button1&quot;);\r\n\t\t\t  throw new Exception(&quot;Please click the check Button&quot;); }\r\n\r\n\r\n\t\t\tif (result1.hasErrors()) {\r\n\t\t\t\tSystem.out.println(&quot;Error&quot; + result1.toString());\r\n\t\t\t\tmodel.addAttribute(&quot;user&quot;, user);\r\n\t\t\t\treturn &quot;signup&quot;;\r\n\t\t\t}\r\n\r\n\t\t\tSystem.out.println(&quot;Please click the check Button1&quot;);\r\n\r\n\t\t\tuser.setRole(&quot;ROLE_USER&quot;);\r\n\t\t\tuser.setEnabeld(true);\r\n\t\t\tuser.setImageUrl(&quot;contact_us.png&quot;);\r\n\t\t\tuser.setPassword(passwordEncoder.encode(user.getPassword()));\r\n\r\n\t\t\tSystem.out.println(&quot;Agreement&quot; + agreement);\r\n\t\t\tSystem.out.println(&quot;User&quot; + user);\r\n\r\n\t\t    this.userRepository.save(user);\r\n\r\n\t\t\tmodel.addAttribute(&quot;user&quot;, new User());\r\n\t\t\t// session.setAttribute(&quot;message&quot;, new Message(&quot;Successfully Regitered !!&quot; ,\r\n\t\t\t// &quot;alert-success&quot;));\r\n\t\t\tSystem.out.println(&quot;Please click the check Button3&quot;);\r\n\t\t\treturn &quot;signup&quot;;\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tSystem.out.println(&quot;inside catch statement&quot;);\r\n\t\t\tmodel.addAttribute(&quot;user&quot;, user);\r\n\t\t\t// session.setAttribute(&quot;message&quot;, new Message(&quot;Something went Wromg !!&quot;\r\n\t\t\t// +e.getMessage(), &quot;alert-danger&quot;));\r\n\t\t\treturn &quot;signup&quot;;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t//handler for custom user login page\r\n\t@GetMapping(&quot;/signin&quot;)\r\n\tpublic String customLogin(Model model) {\r\n\t\tmodel.addAttribute(&quot;title&quot;,&quot;login page&quot;);\r\n\t\treturn &quot;login&quot;;\r\n\t}\r\n}\r\n```\r\n\r\ni am trying to acess (/ , about and profile)this urls page directly but it redirect default login page in all urls after adding this line in main method `@SpringBootApplication(exclude = { SecurityAutoConfiguration.class })`","title":"Spring Boot Security 6.1 , always opens login page","body":"<p>i am making contact manager project using spring boot security 6.1 version , when I hit Url it always redirect to default page login page which spring provide here ,I my code\npackage config</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class MyConfig {\n\n    @Bean\n    public UserDetailsService getUserDetailService() {\n        return new UserDetailsServiceImpl();\n    }\n\n    @Bean\n    public BCryptPasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    public DaoAuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider daoAuthenticationProvider = new DaoAuthenticationProvider();\n        daoAuthenticationProvider.setUserDetailsService(this.getUserDetailService());\n        daoAuthenticationProvider.setPasswordEncoder(passwordEncoder());\n        return daoAuthenticationProvider;\n    }\n\n    protected void configure(AuthenticationManagerBuilder auth) {\n        auth.authenticationProvider(authenticationProvider());\n    }\n    \n      \n      public SecurityFilterChain securityFilterChain(HttpSecurity  http) throws\n      Exception {\n      \n          http\n            .authorizeHttpRequests((authorize) -&gt; authorize\n                            \n                              .requestMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\n                              .requestMatchers(&quot;/user/**&quot;).hasRole(&quot;USER&quot;)\n                              .requestMatchers(&quot;/**&quot;).permitAll()\n              \n            )  .formLogin(formLoginConfigurer -&gt; formLoginConfigurer\n                    .loginPage(&quot;/signin&quot;));\n\n          return http.build();\n      }\n     \n}\n</code></pre>\n<pre><code>@Controller\npublic class HomeController {\n   @Autowired\n    private BCryptPasswordEncoder passwordEncoder;\n    \n    @Autowired\n    private UserRepository userRepository;\n\n    @RequestMapping(&quot;/&quot;)\n    public String home(Model model) {\n        model.addAttribute(&quot;title&quot;, &quot;Home - smart contact manager page&quot;);\n        return &quot;home&quot;;\n    }\n\n    @RequestMapping(&quot;/about&quot;)\n    public String about(Model model) {\n        model.addAttribute(&quot;about&quot;, &quot;About - smart contact manager page&quot;);\n        return &quot;about&quot;;\n    }\n\n    @RequestMapping(&quot;/signup&quot;)\n    public String signup(Model model) {\n        model.addAttribute(&quot;about&quot;, &quot;Register - smart contact manager page&quot;);\n        model.addAttribute(&quot;user&quot;, new User());\n        return &quot;signup&quot;;\n    }\n\n    // handeler for register user\n\n    @RequestMapping(value = &quot;/do_register&quot;, method = RequestMethod.POST)\n    public String registerUser( Model model, @Valid @ModelAttribute(&quot;user&quot;) User user, BindingResult result1,\n            @RequestParam(value = &quot;agreement&quot;, defaultValue = &quot;false&quot;) boolean agreement,\n            HttpSession session) {\n        System.out.println(result1);\n        try {\n\n              if (! agreement) { System.out.println(&quot;Please click the check Button1&quot;);\n              throw new Exception(&quot;Please click the check Button&quot;); }\n\n\n            if (result1.hasErrors()) {\n                System.out.println(&quot;Error&quot; + result1.toString());\n                model.addAttribute(&quot;user&quot;, user);\n                return &quot;signup&quot;;\n            }\n\n            System.out.println(&quot;Please click the check Button1&quot;);\n\n            user.setRole(&quot;ROLE_USER&quot;);\n            user.setEnabeld(true);\n            user.setImageUrl(&quot;contact_us.png&quot;);\n            user.setPassword(passwordEncoder.encode(user.getPassword()));\n\n            System.out.println(&quot;Agreement&quot; + agreement);\n            System.out.println(&quot;User&quot; + user);\n\n            this.userRepository.save(user);\n\n            model.addAttribute(&quot;user&quot;, new User());\n            // session.setAttribute(&quot;message&quot;, new Message(&quot;Successfully Regitered !!&quot; ,\n            // &quot;alert-success&quot;));\n            System.out.println(&quot;Please click the check Button3&quot;);\n            return &quot;signup&quot;;\n\n        } catch (Exception e) {\n            e.printStackTrace();\n            System.out.println(&quot;inside catch statement&quot;);\n            model.addAttribute(&quot;user&quot;, user);\n            // session.setAttribute(&quot;message&quot;, new Message(&quot;Something went Wromg !!&quot;\n            // +e.getMessage(), &quot;alert-danger&quot;));\n            return &quot;signup&quot;;\n        }\n\n    }\n\n    //handler for custom user login page\n    @GetMapping(&quot;/signin&quot;)\n    public String customLogin(Model model) {\n        model.addAttribute(&quot;title&quot;,&quot;login page&quot;);\n        return &quot;login&quot;;\n    }\n}\n</code></pre>\n<p>i am trying to acess (/ , about and profile)this urls page directly but it redirect default login page in all urls after adding this line in main method <code>@SpringBootApplication(exclude = { SecurityAutoConfiguration.class })</code></p>\n"},{"tags":["java","file","amazon-web-services","amazon-s3","download"],"comments":[{"owner":{"account_id":39580,"reputation":385624,"user_id":114251,"accept_rate":87,"display_name":"Arun P Johny"},"score":0,"creation_date":1362023661,"post_id":15127131,"comment_id":21291053,"body_markdown":"If you want to search the content, I don&#39;t think there is any alternate to downloading the file","body":"If you want to search the content, I don&#39;t think there is any alternate to downloading the file"},{"owner":{"account_id":94068,"reputation":1538,"user_id":257036,"accept_rate":84,"display_name":"Jeff"},"score":0,"creation_date":1647874133,"post_id":15127131,"comment_id":127498464,"body_markdown":"Going forward, you can stream the files to CloudWatch Logs instead of or in addition to archiving on S3. Then you can easily search their contents. https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/WhatIsCloudWatchLogs.html","body":"Going forward, you can stream the files to CloudWatch Logs instead of or in addition to archiving on S3. Then you can easily search their contents. <a href=\"https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/WhatIsCloudWatchLogs.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/AmazonCloudWatch/latest/logs/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":283094,"reputation":10747,"user_id":580412,"accept_rate":96,"display_name":"phs"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1362023669,"creation_date":1362023669,"answer_id":15127167,"question_id":15127131,"body_markdown":"Nope!\r\n\r\nIf you can&#39;t infer where the matches are from object metadata (like, the file name), then you&#39;re stuck with downloading &amp; searching manually.  If you have spare bandwidth, I suggest downloading a few files at a time to speed things up.","title":"how to search for file contents in amazon S3 bucket without downloading the file","body":"<p>Nope!</p>\n\n<p>If you can't infer where the matches are from object metadata (like, the file name), then you're stuck with downloading &amp; searching manually.  If you have spare bandwidth, I suggest downloading a few files at a time to speed things up.</p>\n"},{"comments":[{"owner":{"account_id":1872215,"reputation":259,"user_id":1694210,"accept_rate":32,"display_name":"Ekata"},"score":0,"creation_date":1362023948,"post_id":15127182,"comment_id":21291129,"body_markdown":"i am not permitted to store to the file locally because everyone cannot download the file they can only view it.if i store it locally it will be accessible to the user right  hence i cannot store it locally .","body":"i am not permitted to store to the file locally because everyone cannot download the file they can only view it.if i store it locally it will be accessible to the user right  hence i cannot store it locally ."},{"owner":{"account_id":39580,"reputation":385624,"user_id":114251,"accept_rate":87,"display_name":"Arun P Johny"},"score":0,"creation_date":1362023998,"post_id":15127182,"comment_id":21291145,"body_markdown":"are you doing the search from server side or client?","body":"are you doing the search from server side or client?"},{"owner":{"account_id":1872215,"reputation":259,"user_id":1694210,"accept_rate":32,"display_name":"Ekata"},"score":0,"creation_date":1362024464,"post_id":15127182,"comment_id":21291254,"body_markdown":"client. its like a get the files based on content screen , the user will enter a string and i have to get all the files in the bucket and search each and every file content for that string","body":"client. its like a get the files based on content screen , the user will enter a string and i have to get all the files in the bucket and search each and every file content for that string"},{"owner":{"account_id":238552,"reputation":84589,"user_id":507519,"accept_rate":86,"display_name":"thkala"},"score":1,"creation_date":1362024593,"post_id":15127182,"comment_id":21291287,"body_markdown":"@Ekata: *&quot;cannot download the file they can only view it&quot;*: I hope that is not a security requirement, because let me tell you that if a client can view the file then generally they can also store it to their hard drive, even if it takes modifying the client software to do so...","body":"@Ekata: <i>&quot;cannot download the file they can only view it&quot;</i>: I hope that is not a security requirement, because let me tell you that if a client can view the file then generally they can also store it to their hard drive, even if it takes modifying the client software to do so..."},{"owner":{"account_id":1872215,"reputation":259,"user_id":1694210,"accept_rate":32,"display_name":"Ekata"},"score":0,"creation_date":1362024960,"post_id":15127182,"comment_id":21291385,"body_markdown":"but if i just get the input stream and if i dont use write function on the file i guess it will not store the locally right !!","body":"but if i just get the input stream and if i dont use write function on the file i guess it will not store the locally right !!"}],"tags":[],"owner":{"account_id":39580,"reputation":385624,"user_id":114251,"accept_rate":87,"display_name":"Arun P Johny"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1362023761,"creation_date":1362023761,"answer_id":15127182,"question_id":15127131,"body_markdown":"In single word NO!!\r\n\r\nI think you can do to imprrve the performance will be to cache the files locally so that you don&#39;t have to download the file again and again\r\n\r\nProbably you can use `Last-Modified` header to check whether the local file is dirty, then download it again","title":"how to search for file contents in amazon S3 bucket without downloading the file","body":"<p>In single word NO!!</p>\n\n<p>I think you can do to imprrve the performance will be to cache the files locally so that you don't have to download the file again and again</p>\n\n<p>Probably you can use <code>Last-Modified</code> header to check whether the local file is dirty, then download it again</p>\n"},{"comments":[{"owner":{"account_id":1872215,"reputation":259,"user_id":1694210,"accept_rate":32,"display_name":"Ekata"},"score":0,"creation_date":1362024698,"post_id":15127320,"comment_id":21291320,"body_markdown":"but i guess using indexing we can search only the metadata right?? and not the complete content","body":"but i guess using indexing we can search only the metadata right?? and not the complete content"}],"tags":[],"owner":{"account_id":238552,"reputation":84589,"user_id":507519,"accept_rate":86,"display_name":"thkala"},"comment_count":1,"down_vote_count":5,"up_vote_count":0,"is_accepted":true,"score":-5,"last_activity_date":1362025131,"creation_date":1362024478,"answer_id":15127320,"question_id":15127131,"body_markdown":"I am not familiar with Amazon S3, but the general way to deal with searching remote files is to use [indexing](http://en.wikipedia.org/wiki/Full_text_search#Indexing), with the index itself being stored on the remote server. That way each search will use the index to deduce a relatively small number of potential matching files and only those will be scanned directly to verify if they are indeed a match or not. Depending on your search terms and the complexity of the pattern, it might even be possible to avoid the direct file scan altogether.\r\n\r\nThat said, I do not know whether Amazon S3 has an indexing engine that you can use or whether there are supplemental libraries that do that for you, but the concept is simple enough that you should be able to get something working by yourself without too much work.\r\n\r\n**EDIT:**\r\n\r\nGenerally the tokens that exist in each file are what is indexed. For example if you want to search for *&quot;foo bar&quot;* the index will tell you which files contain *&quot;foo&quot;* and which contain *&quot;bar&quot;*. The cross-section of these results will be the files that contain both *&quot;foo&quot;* and *&quot;bar&quot;*. You will have to scan those files directly to select those (if any) where *&quot;foo&quot;* and *&quot;bar&quot;* are right next to each other in the right order.\r\n\r\nIn any case, the amount of data that is downloaded to the client would be far less than downloading and scanning everything, although that would also depend on how your files are structured and what your search patterns look like.\r\n","title":"how to search for file contents in amazon S3 bucket without downloading the file","body":"<p>I am not familiar with Amazon S3, but the general way to deal with searching remote files is to use <a href=\"http://en.wikipedia.org/wiki/Full_text_search#Indexing\" rel=\"nofollow\">indexing</a>, with the index itself being stored on the remote server. That way each search will use the index to deduce a relatively small number of potential matching files and only those will be scanned directly to verify if they are indeed a match or not. Depending on your search terms and the complexity of the pattern, it might even be possible to avoid the direct file scan altogether.</p>\n\n<p>That said, I do not know whether Amazon S3 has an indexing engine that you can use or whether there are supplemental libraries that do that for you, but the concept is simple enough that you should be able to get something working by yourself without too much work.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Generally the tokens that exist in each file are what is indexed. For example if you want to search for <em>\"foo bar\"</em> the index will tell you which files contain <em>\"foo\"</em> and which contain <em>\"bar\"</em>. The cross-section of these results will be the files that contain both <em>\"foo\"</em> and <em>\"bar\"</em>. You will have to scan those files directly to select those (if any) where <em>\"foo\"</em> and <em>\"bar\"</em> are right next to each other in the right order.</p>\n\n<p>In any case, the amount of data that is downloaded to the client would be far less than downloading and scanning everything, although that would also depend on how your files are structured and what your search patterns look like.</p>\n"},{"tags":[],"owner":{"account_id":141042,"reputation":9130,"user_id":347777,"display_name":"Viccari"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1362053640,"creation_date":1362053640,"answer_id":15135303,"question_id":15127131,"body_markdown":"My suggestion, since you seem to own the files, is to index them manually, based on content. If there is a lot of &quot;keywords&quot;, or metadata associated with each file, you can help yourself by using a lightweight database, where you will perform your queries and get the exact file(s) users are looking for. This will preserve bandwidth and also be much faster, at the cost of maintaining kind of an &quot;indexing&quot; system.\r\n\r\nAnother option (if each file does not contain much metadata) would be to reorganize the files in your buckets, adding prefixes which would &quot;auto-index&quot; them, like follows:\r\n\r\n/foo/bar/randomFileContainingFooBar.dat\r\n/foo/zar/anotherRandomFileContainingFooZar.dat.\r\n\r\nThis way you might end up scanning the whole bucket in order to find the set of files you need (this is why I suggested this option only if you have little metadata), but you will only download the matching ones, which is still much better than your original approach.","title":"how to search for file contents in amazon S3 bucket without downloading the file","body":"<p>My suggestion, since you seem to own the files, is to index them manually, based on content. If there is a lot of \"keywords\", or metadata associated with each file, you can help yourself by using a lightweight database, where you will perform your queries and get the exact file(s) users are looking for. This will preserve bandwidth and also be much faster, at the cost of maintaining kind of an \"indexing\" system.</p>\n\n<p>Another option (if each file does not contain much metadata) would be to reorganize the files in your buckets, adding prefixes which would \"auto-index\" them, like follows:</p>\n\n<p>/foo/bar/randomFileContainingFooBar.dat\n/foo/zar/anotherRandomFileContainingFooZar.dat.</p>\n\n<p>This way you might end up scanning the whole bucket in order to find the set of files you need (this is why I suggested this option only if you have little metadata), but you will only download the matching ones, which is still much better than your original approach.</p>\n"},{"comments":[{"owner":{"account_id":22797,"reputation":55130,"user_id":56621,"accept_rate":88,"display_name":"Alex from Jitbit"},"score":1,"creation_date":1613233850,"post_id":49129914,"comment_id":117015327,"body_markdown":"Please don&#39;t. Athena can query *structured* files (CSV, JSON etc) to generate reports. For full-text search use AWS Elastic or AWS CloudSearch\nhttps://stackoverflow.com/questions/28557719/how-do-you-full-text-search-an-amazon-s3-bucket","body":"Please don&#39;t. Athena can query <i>structured</i> files (CSV, JSON etc) to generate reports. For full-text search use AWS Elastic or AWS CloudSearch <a href=\"https://stackoverflow.com/questions/28557719/how-do-you-full-text-search-an-amazon-s3-bucket\" title=\"how do you full text search an amazon s3 bucket\">stackoverflow.com/questions/28557719/&hellip;</a>"}],"tags":[],"owner":{"account_id":41901,"reputation":8337,"user_id":121946,"accept_rate":58,"display_name":"Adrian Lynch"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1520336238,"creation_date":1520336238,"answer_id":49129914,"question_id":15127131,"body_markdown":"If your files contain CSV, TSV, JSON, Parquet or ORC, you can take a look at AWS&#39;s Athena: https://aws.amazon.com/athena/\r\n\r\nFrom their intro:\r\n\r\n&gt; Amazon Athena is a fast, cost-effective, interactive query service\r\n&gt; that makes it easy to analyze petabytes of data in S3 with no data\r\n&gt; warehouses or clusters to manage.\r\n\r\nUnlikely to help you though as it sounds like you have plain text to search through.\r\n\r\nThought I&#39;d mention it as it might help others looking to solve a similar problem.\r\n","title":"how to search for file contents in amazon S3 bucket without downloading the file","body":"<p>If your files contain CSV, TSV, JSON, Parquet or ORC, you can take a look at AWS's Athena: <a href=\"https://aws.amazon.com/athena/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/athena/</a></p>\n\n<p>From their intro:</p>\n\n<blockquote>\n  <p>Amazon Athena is a fast, cost-effective, interactive query service\n  that makes it easy to analyze petabytes of data in S3 with no data\n  warehouses or clusters to manage.</p>\n</blockquote>\n\n<p>Unlikely to help you though as it sounds like you have plain text to search through.</p>\n\n<p>Thought I'd mention it as it might help others looking to solve a similar problem.</p>\n"},{"comments":[{"owner":{"account_id":1685084,"reputation":1536,"user_id":1548557,"display_name":"MrMesees"},"score":0,"creation_date":1695240251,"post_id":72540814,"comment_id":135999708,"body_markdown":"Unless you have a use-case for searching a teensy piece of the file (want a sub-set of results) this isn&#39;t good. I Got pointed at this for a use-case where I just don&#39;t want to download a multi gigabyte file and store in RAM at once.\n\nApparently streaming chunks is the way around this.","body":"Unless you have a use-case for searching a teensy piece of the file (want a sub-set of results) this isn&#39;t good. I Got pointed at this for a use-case where I just don&#39;t want to download a multi gigabyte file and store in RAM at once.  Apparently streaming chunks is the way around this."}],"tags":[],"owner":{"account_id":10058690,"reputation":355,"user_id":7436117,"display_name":"AndrewK"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654668460,"creation_date":1654668460,"answer_id":72540814,"question_id":15127131,"body_markdown":"Yes, now it is possible with AWS S3 Select.  If your objects stored in CSV, JSON, or Apache Parquet format. \r\n\r\nAWS details: https://aws.amazon.com/blogs/developer/introducing-support-for-amazon-s3-select-in-the-aws-sdk-for-javascript/\r\n\r\nAws S3 Select getting started examples: https://docs.aws.amazon.com/AmazonS3/latest/userguide/using-select.html \r\n\r\nJust if anyone will be looking the same.\r\n\r\ni.e With SDK:\r\n\r\nif you have a csv like this:\r\n\r\n    \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    user_name,age\r\n    jsrocks,13\r\n    node4life,22\r\n    esfuture,29\r\n    ...\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAnd for example we would like to retrieve something like:\r\n\r\n    SELECT user_name FROM S3Object WHERE cast(age as int) &gt; 20\r\n\r\nThen in AWS SDK on JavaScript we do the following:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const S3 = require(&#39;aws-sdk/clients/s3&#39;);\r\n    const client = new S3({\r\n    \tregion: &#39;us-west-2&#39;\r\n    });\r\n\r\n    const params = {\r\n    \tBucket: &#39;my-bucket,\r\n    \tKey: &#39;target-file.csv&#39;,\r\n    \tExpressionType: &#39;SQL,\r\n    \tExpression: &#39;SELECT user_name FROM S3Object WHERE cast(age as int) &gt; 20&#39;,\r\n    \tInputSerialization: {\r\n    \t\tCSV: {\r\n    \t\t\tFileHeaderInfo: &#39;USE&#39;,\r\n    \t\t\tRecordDelimiter: &#39;\\n&#39;,\r\n    \t\t\tFieldDelimiter: &#39;,&#39;\r\n    \t\t}\r\n    \t},\r\n    \tOutputSerialization: {\r\n    \t\tCSV: {}\r\n    \t}\r\n    };\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"how to search for file contents in amazon S3 bucket without downloading the file","body":"<p>Yes, now it is possible with AWS S3 Select.  If your objects stored in CSV, JSON, or Apache Parquet format.</p>\n<p>AWS details: <a href=\"https://aws.amazon.com/blogs/developer/introducing-support-for-amazon-s3-select-in-the-aws-sdk-for-javascript/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/blogs/developer/introducing-support-for-amazon-s3-select-in-the-aws-sdk-for-javascript/</a></p>\n<p>Aws S3 Select getting started examples: <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/using-select.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AmazonS3/latest/userguide/using-select.html</a></p>\n<p>Just if anyone will be looking the same.</p>\n<p>i.e With SDK:</p>\n<p>if you have a csv like this:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>user_name,age\njsrocks,13\nnode4life,22\nesfuture,29\n...</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>And for example we would like to retrieve something like:</p>\n<pre><code>SELECT user_name FROM S3Object WHERE cast(age as int) &gt; 20\n</code></pre>\n<p>Then in AWS SDK on JavaScript we do the following:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const S3 = require('aws-sdk/clients/s3');\nconst client = new S3({\n    region: 'us-west-2'\n});\n\nconst params = {\n    Bucket: 'my-bucket,\n    Key: 'target-file.csv',\n    ExpressionType: 'SQL,\n    Expression: 'SELECT user_name FROM S3Object WHERE cast(age as int) &gt; 20',\n    InputSerialization: {\n        CSV: {\n            FileHeaderInfo: 'USE',\n            RecordDelimiter: '\\n',\n            FieldDelimiter: ','\n        }\n    },\n    OutputSerialization: {\n        CSV: {}\n    }\n};</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":2114516,"reputation":13402,"user_id":1879101,"accept_rate":88,"display_name":"Vitaly Zdanevich"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700828699,"creation_date":1700828699,"answer_id":77543122,"question_id":15127131,"body_markdown":"Mount a bucket and grep, official software https://github.com/awslabs/mountpoint-s3\r\n\r\nCommand:\r\n\r\n&gt; mountpoint-s3 my-bucket-name /mnt/\r\n\r\nAnd\r\n\r\n&gt; grep -r xxxx /mnt","title":"how to search for file contents in amazon S3 bucket without downloading the file","body":"<p>Mount a bucket and grep, official software <a href=\"https://github.com/awslabs/mountpoint-s3\" rel=\"nofollow noreferrer\">https://github.com/awslabs/mountpoint-s3</a></p>\n<p>Command:</p>\n<blockquote>\n<p>mountpoint-s3 my-bucket-name /mnt/</p>\n</blockquote>\n<p>And</p>\n<blockquote>\n<p>grep -r xxxx /mnt</p>\n</blockquote>\n"}],"owner":{"account_id":1872215,"reputation":259,"user_id":1694210,"accept_rate":32,"display_name":"Ekata"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20005,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":15127320,"answer_count":7,"score":5,"last_activity_date":1700828699,"creation_date":1362023480,"question_id":15127131,"body_markdown":"i have  **n number of files uploaded to amazon S3** i need**search** those files based on **occurrence of an string** in its **contents** , i tried one method of downloading the files from S3 bucket converting input stream to string and then search for the word in content , but if their are more than  five to six files it takes lot of time to do the above process,\r\n\r\nis their any other way to do this , please help thanks in advance.","title":"how to search for file contents in amazon S3 bucket without downloading the file","body":"<p>i have  <strong>n number of files uploaded to amazon S3</strong> i need*<em>search</em>* those files based on <strong>occurrence of an string</strong> in its <strong>contents</strong> , i tried one method of downloading the files from S3 bucket converting input stream to string and then search for the word in content , but if their are more than  five to six files it takes lot of time to do the above process,</p>\n\n<p>is their any other way to do this , please help thanks in advance.</p>\n"},{"tags":["java","garbage-collection","jvisualvm"],"answers":[{"comments":[{"owner":{"account_id":18983206,"reputation":53,"user_id":13854178,"display_name":"Jinke2017"},"score":0,"creation_date":1700875038,"post_id":77542388,"comment_id":136709488,"body_markdown":"Thanks. I trust this article at the beginning because it is written by the website author, not the individual author. And I also get the same opinion, like [another so thread](https://stackoverflow.com/questions/12150668/why-isnt-the-allocated-heap-memory-shrinking-when-usage-is-below-maxheapfreerat) which says `The -XX:ParallelGC switch inhibits heap shrinking`. These things confuse me.","body":"Thanks. I trust this article at the beginning because it is written by the website author, not the individual author. And I also get the same opinion, like <a href=\"https://stackoverflow.com/questions/12150668/why-isnt-the-allocated-heap-memory-shrinking-when-usage-is-below-maxheapfreerat\">another so thread</a> which says <code>The -XX:ParallelGC switch inhibits heap shrinking</code>. These things confuse me."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1701074285,"post_id":77542388,"comment_id":136725194,"body_markdown":"Before Java&#160;9, the Parallel GC did not respect the `-XX:MinHeapFreeRatio`/ `-XX:MaxHeapFreeRatio` settings. Whatever heuristic it is using in the older versions, its result is to release only tiny amounts, if any. I did a lot of tests with different settings and it did release tiny amounts in some configurations but nothing in others. I could not derive a rule from these results. But it showed that 1) Parallel GC has support for releasing memory even in older versions but 2) its not surprising that people think it hadnt if they made some tests with little variance in the configurations.","body":"Before Java 9, the Parallel GC did not respect the <code>-XX:MinHeapFreeRatio</code>/ <code>-XX:MaxHeapFreeRatio</code> settings. Whatever heuristic it is using in the older versions, its result is to release only tiny amounts, if any. I did a lot of tests with different settings and it did release tiny amounts in some configurations but nothing in others. I could not derive a rule from these results. But it showed that 1) Parallel GC has support for releasing memory even in older versions but 2) its not surprising that people think it hadnt if they made some tests with little variance in the configurations."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700821360,"creation_date":1700821360,"answer_id":77542388,"question_id":77540829,"body_markdown":"In [this bug report] about releasing memory, there is a [ten year old comment] from Jesper Wilhelmsson:\r\n\r\n&gt; I have verified that G1 (-XX:+UseG1GC), Parallel scavenge (-XX:+UseParallelGC) and ParallelOld (-XX:+UseParallelOldGC) do return memory when the heap shrinks. I&#39;m not so sure about Serial and CMS, they didn&#39;t shrink their heap in my experiments.\r\n&gt; \r\n&gt; Both parallel collectors do require a number of GCs before shrinking the heap down to an &quot;acceptable&quot; size. This is per design. They are deliberately holding on to the heap assuming that it will be needed in the future. Setting the flag -XX:GCTimeRatio=1 will improve the situation somewhat but it will still take several GCs to shrink a lot.\r\n\r\nI would trust the JDK developers more than articles on baeldung.com or rather, Id treat articles on baeldung.com with a grain of salt in general. There is no sign of a quality assurance process on that site and its not the first time, incorrect information has been found on that site.\r\n\r\n[this bug report]: https://bugs.openjdk.org/browse/JDK-6498735\r\n[ten year old comment]: https://bugs.openjdk.org/browse/JDK-6498735#comment-13388231","title":"Does Parallel GC support shrinking heap size?","body":"<p>In <a href=\"https://bugs.openjdk.org/browse/JDK-6498735\" rel=\"nofollow noreferrer\">this bug report</a> about releasing memory, there is a <a href=\"https://bugs.openjdk.org/browse/JDK-6498735#comment-13388231\" rel=\"nofollow noreferrer\">ten year old comment</a> from Jesper Wilhelmsson:</p>\n<blockquote>\n<p>I have verified that G1 (-XX:+UseG1GC), Parallel scavenge (-XX:+UseParallelGC) and ParallelOld (-XX:+UseParallelOldGC) do return memory when the heap shrinks. I'm not so sure about Serial and CMS, they didn't shrink their heap in my experiments.</p>\n<p>Both parallel collectors do require a number of GCs before shrinking the heap down to an &quot;acceptable&quot; size. This is per design. They are deliberately holding on to the heap assuming that it will be needed in the future. Setting the flag -XX:GCTimeRatio=1 will improve the situation somewhat but it will still take several GCs to shrink a lot.</p>\n</blockquote>\n<p>I would trust the JDK developers more than articles on baeldung.com or rather, Id treat articles on baeldung.com with a grain of salt in general. There is no sign of a quality assurance process on that site and its not the first time, incorrect information has been found on that site.</p>\n"},{"comments":[{"owner":{"account_id":18983206,"reputation":53,"user_id":13854178,"display_name":"Jinke2017"},"score":0,"creation_date":1700874075,"post_id":77543080,"comment_id":136709426,"body_markdown":"Thanks. I agree with you on the first question about the baeldung article. For the second question, as Figure 2 shows, I have already set up `-XX:MaxHeapFreeRatio=100` but it still shrinks(I tried it again just now, and the same thing happens). You said that `setting it to 100 makes it less aggressive`, so even though I set up `-XX:MaxHeapFreeRatio=100`,  it still be possible for GC to shrink and the JVM option is just a hint?","body":"Thanks. I agree with you on the first question about the baeldung article. For the second question, as Figure 2 shows, I have already set up <code>-XX:MaxHeapFreeRatio=100</code> but it still shrinks(I tried it again just now, and the same thing happens). You said that <code>setting it to 100 makes it less aggressive</code>, so even though I set up <code>-XX:MaxHeapFreeRatio=100</code>,  it still be possible for GC to shrink and the JVM option is just a hint?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1700908451,"post_id":77543080,"comment_id":136711539,"body_markdown":"@Jinke2017 the MaxHeapFreeRatio sets an upper bound on the (old gen) heap size - i.e. when growing the old gen heap it should never do it to a size so high that more than MaxHeapFreeRatio is free. As there can never be more than 100% heap free this means there is no upper bound (beyound what you set with -Xmx). But that setting doesn&#39;t imply that the JVM may not shrink the heap size. (For me it is not entirely clear how this apply to the young generation)","body":"@Jinke2017 the MaxHeapFreeRatio sets an upper bound on the (old gen) heap size - i.e. when growing the old gen heap it should never do it to a size so high that more than MaxHeapFreeRatio is free. As there can never be more than 100% heap free this means there is no upper bound (beyound what you set with -Xmx). But that setting doesn&#39;t imply that the JVM may not shrink the heap size. (For me it is not entirely clear how this apply to the young generation)"},{"owner":{"account_id":18983206,"reputation":53,"user_id":13854178,"display_name":"Jinke2017"},"score":0,"creation_date":1701135427,"post_id":77543080,"comment_id":136735297,"body_markdown":"I read the [java command doc](https://docs.oracle.com/javase/8/docs/technotes/tools/windows/java.html#BABHDABI), and it doesn&#39;t mention `MaxHeapFreeRatio` only applies on old generation. How do you get this information?","body":"I read the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/windows/java.html#BABHDABI\" rel=\"nofollow noreferrer\">java command doc</a>, and it doesn&#39;t mention <code>MaxHeapFreeRatio</code> only applies on old generation. How do you get this information?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1701152355,"post_id":77543080,"comment_id":136736613,"body_markdown":"I didn&#39;t claim that `MaxHeapFreeRatio` doesn&#39;t apply to the young generation. I wrote that _for me it is not entirely clear how this applies to the young generation_. And I wrote that because in my research into the source code (https://github.com/openjdk/jdk8u/tree/jdk8u272-ga/hotspot/src/share/vm/gc_implementation/parallelScavenge) I didn&#39;t find how it influences the young generation and I&#39;m too lazy to dig further into the sources.","body":"I didn&#39;t claim that <code>MaxHeapFreeRatio</code> doesn&#39;t apply to the young generation. I wrote that <i>for me it is not entirely clear how this applies to the young generation</i>. And I wrote that because in my research into the source code (<a href=\"https://github.com/openjdk/jdk8u/tree/jdk8u272-ga/hotspot/src/share/vm/gc_implementation/parallelScavenge\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk8u/tree/jdk8u272-ga/hotspot/src/share&zwnj;&#8203;/vm/&hellip;</a>) I didn&#39;t find how it influences the young generation and I&#39;m too lazy to dig further into the sources."}],"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700828306,"creation_date":1700828306,"answer_id":77543080,"question_id":77540829,"body_markdown":"I think you misread the baeldung article.\r\n\r\nThe article [Does GC Release Back Memory to OS?](https://www.baeldung.com/gc-release-memory#garbage-collectors) writes\r\n\r\n&gt; For example, Parallel GC doesnt release unused memory back to the OS readily.\r\n\r\nYou marked the first part but missed the last word: **readily**. That sentence is\r\n\r\n&gt; For example, **Parallel GC doesnt release unused memory** [..] **readily.**\r\n\r\ni.e. it can release memory back to the OS, but it is reluctant to do so (probably because releasing memory back to the OS just to allocate new memory from the OS is expensive).\r\n\r\n---\r\n&gt; The [so thread](https://stackoverflow.com/questions/30458195/does-gc-release-back-memory-to-os) says the -XX:MaxHeapFreeRatio will make some differences, but it didn&#39;t.\r\n\r\nYes it says so. And it writes that you can make the GC more aggresive by setting (among others) `-XX:MaxHeapFreeRatio=30`.\r\n\r\nThe point is: the default value for MaxHeapFreeRatio is 70. If setting it to 30 makes it more aggressive, then setting it to 100 makes it less aggressive.\r\n\r\nYou can actually see in [`PSAdaptiveSizePolicy::calculated_old_free_size_in_bytes()`](https://github.com/openjdk/jdk8u/blob/jdk8u272-ga/hotspot/src/share/vm/gc_implementation/parallelScavenge/psAdaptiveSizePolicy.cpp#L97) that setting the MaxHeapFreeRation to 100 effectively disables it.\r\n","title":"Does Parallel GC support shrinking heap size?","body":"<p>I think you misread the baeldung article.</p>\n<p>The article <a href=\"https://www.baeldung.com/gc-release-memory#garbage-collectors\" rel=\"nofollow noreferrer\">Does GC Release Back Memory to OS?</a> writes</p>\n<blockquote>\n<p>For example, Parallel GC doesnt release unused memory back to the OS readily.</p>\n</blockquote>\n<p>You marked the first part but missed the last word: <strong>readily</strong>. That sentence is</p>\n<blockquote>\n<p>For example, <strong>Parallel GC doesnt release unused memory</strong> [..] <strong>readily.</strong></p>\n</blockquote>\n<p>i.e. it can release memory back to the OS, but it is reluctant to do so (probably because releasing memory back to the OS just to allocate new memory from the OS is expensive).</p>\n<hr />\n<blockquote>\n<p>The <a href=\"https://stackoverflow.com/questions/30458195/does-gc-release-back-memory-to-os\">so thread</a> says the -XX:MaxHeapFreeRatio will make some differences, but it didn't.</p>\n</blockquote>\n<p>Yes it says so. And it writes that you can make the GC more aggresive by setting (among others) <code>-XX:MaxHeapFreeRatio=30</code>.</p>\n<p>The point is: the default value for MaxHeapFreeRatio is 70. If setting it to 30 makes it more aggressive, then setting it to 100 makes it less aggressive.</p>\n<p>You can actually see in <a href=\"https://github.com/openjdk/jdk8u/blob/jdk8u272-ga/hotspot/src/share/vm/gc_implementation/parallelScavenge/psAdaptiveSizePolicy.cpp#L97\" rel=\"nofollow noreferrer\"><code>PSAdaptiveSizePolicy::calculated_old_free_size_in_bytes()</code></a> that setting the MaxHeapFreeRation to 100 effectively disables it.</p>\n"}],"owner":{"account_id":18983206,"reputation":53,"user_id":13854178,"display_name":"Jinke2017"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700828306,"creation_date":1700802103,"question_id":77540829,"body_markdown":"I got two conflicting answers regarding this question from two places.\r\n 1. The [baeldung article][1] says\r\n&gt; For example, **Parallel GC doesnt release unused memory** back to the OS readily.&lt;br/&gt;\r\n\r\n&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; So I think Parallel GC **will not shrink** the heap size.\r\n\r\n 2. The [so thread][2] says\r\n&gt; you can make the GC more aggressive in general by setting -XX:GCTimeRatio=19 -XX:MinHeapFreeRatio=20 -XX:MaxHeapFreeRatio=30 which will allow it to spend more CPU time on **collecting and constrain the amount of allocated-but-unused heap memory** after a GC cycle.\r\n\r\n&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; So I think I can **force the garbage collector to shrink** the heap size.\r\n\r\n\r\n 3. Based on the above understanding, I do experiments on my machine.\r\n\r\n    3.1 The jdk:\r\n    &gt; java version &quot;1.8.0_271&quot; &lt;br/&gt;\r\n      Java(TM) SE Runtime Environment (build 1.8.0_271-b09)&lt;br/&gt;\r\n      Java HotSpot(TM) 64-Bit Server VM (build 25.271-b09, mixed mode)\r\n\r\n    3.2 I use `jmap -heap` command to print the GC information, the output is as below\r\n    &gt; .....(omit other infomration)&lt;br/&gt;\r\n    using thread-local object allocation. &lt;br/&gt;\r\n    **Parallel GC** with 8 thread(s)\r\n\r\n    3.3 I run an application with VM options `-Xmx10240m`(it is the only heap-related VM option I set manually), and open `jvisualvm` to observe the change of heap size. I notice the heap size(the orange part) shrinks when the used heap size(the blue part) becomes smaller. It violates the first article.\r\n    [![enter image description here][3]][3]\r\n\r\n    3.4 I run the same application with VM options `-Xmx10240m\r\n-XX: MaxHeapFreeRatio=100`, I set the option `-XX:MaxHeapFreeRatio=100` in order to tell GC not to shrink. But it does not work either.\r\n     [![enter image description here][4]][4]\r\n\r\n  4. My concrete question is:\r\n\r\n     4.1 The [baeldung article][1] says Parallel GC doesnt release unused memory, so why does the heap size in Figure 1 still shrink?\r\n\r\n     4.2 The [so thread][2] says the -XX:MaxHeapFreeRatio will make some differences, but it didn&#39;t.\r\n  \r\n  Any help will be appraciated.\r\n\r\n  [1]: https://www.baeldung.com/gc-release-memory\r\n  [2]: https://stackoverflow.com/questions/30458195/does-gc-release-back-memory-to-os\r\n  [3]: https://i.stack.imgur.com/cON8W.png\r\n  [4]: https://i.stack.imgur.com/GJY0h.png","title":"Does Parallel GC support shrinking heap size?","body":"<p>I got two conflicting answers regarding this question from two places.</p>\n<ol>\n<li>The <a href=\"https://www.baeldung.com/gc-release-memory\" rel=\"nofollow noreferrer\">baeldung article</a> says</li>\n</ol>\n<blockquote>\n<p>For example, <strong>Parallel GC doesnt release unused memory</strong> back to the OS readily.<br/></p>\n</blockquote>\n<p> So I think Parallel GC <strong>will not shrink</strong> the heap size.</p>\n<ol start=\"2\">\n<li>The <a href=\"https://stackoverflow.com/questions/30458195/does-gc-release-back-memory-to-os\">so thread</a> says</li>\n</ol>\n<blockquote>\n<p>you can make the GC more aggressive in general by setting -XX:GCTimeRatio=19 -XX:MinHeapFreeRatio=20 -XX:MaxHeapFreeRatio=30 which will allow it to spend more CPU time on <strong>collecting and constrain the amount of allocated-but-unused heap memory</strong> after a GC cycle.</p>\n</blockquote>\n<p> So I think I can <strong>force the garbage collector to shrink</strong> the heap size.</p>\n<ol start=\"3\">\n<li><p>Based on the above understanding, I do experiments on my machine.</p>\n<p>3.1 The jdk:</p>\n<blockquote>\n<p>java version &quot;1.8.0_271&quot; <br/>\nJava(TM) SE Runtime Environment (build 1.8.0_271-b09)<br/>\nJava HotSpot(TM) 64-Bit Server VM (build 25.271-b09, mixed mode)</p>\n</blockquote>\n<p>3.2 I use <code>jmap -heap</code> command to print the GC information, the output is as below</p>\n<blockquote>\n<p>.....(omit other infomration)<br/>\nusing thread-local object allocation. <br/>\n<strong>Parallel GC</strong> with 8 thread(s)</p>\n</blockquote>\n<p>3.3 I run an application with VM options <code>-Xmx10240m</code>(it is the only heap-related VM option I set manually), and open <code>jvisualvm</code> to observe the change of heap size. I notice the heap size(the orange part) shrinks when the used heap size(the blue part) becomes smaller. It violates the first article.\n<a href=\"https://i.stack.imgur.com/cON8W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cON8W.png\" alt=\"enter image description here\" /></a></p>\n<p>3.4 I run the same application with VM options <code>-Xmx10240m -XX: MaxHeapFreeRatio=100</code>, I set the option <code>-XX:MaxHeapFreeRatio=100</code> in order to tell GC not to shrink. But it does not work either.\n<a href=\"https://i.stack.imgur.com/GJY0h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GJY0h.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>My concrete question is:</p>\n<p>4.1 The <a href=\"https://www.baeldung.com/gc-release-memory\" rel=\"nofollow noreferrer\">baeldung article</a> says Parallel GC doesnt release unused memory, so why does the heap size in Figure 1 still shrink?</p>\n<p>4.2 The <a href=\"https://stackoverflow.com/questions/30458195/does-gc-release-back-memory-to-os\">so thread</a> says the -XX:MaxHeapFreeRatio will make some differences, but it didn't.</p>\n</li>\n</ol>\n<p>Any help will be appraciated.</p>\n"},{"tags":["java","firebase-cloud-messaging","firebase-admin"],"comments":[{"owner":{"account_id":1449614,"reputation":827,"user_id":1366937,"display_name":"Perdi Estaquel"},"score":0,"creation_date":1700830123,"post_id":77541555,"comment_id":136704192,"body_markdown":"Get an instance only once, and reuse it for all calls to send...()","body":"Get an instance only once, and reuse it for all calls to send...()"},{"owner":{"account_id":29981227,"reputation":1,"user_id":22976173,"display_name":"Siyu Chen"},"score":0,"creation_date":1701051885,"post_id":77541555,"comment_id":136723250,"body_markdown":"This doesn&#39;t work, it still prompts me that I can&#39;t create more threads","body":"This doesn&#39;t work, it still prompts me that I can&#39;t create more threads"},{"owner":{"account_id":1449614,"reputation":827,"user_id":1366937,"display_name":"Perdi Estaquel"},"score":0,"creation_date":1701094868,"post_id":77541555,"comment_id":136728839,"body_markdown":"what prompt? you told it to pool 10 threads, did it create 10 threads? or did it try to create more threads than 10? or did it say it cannot create 10 threads? Please edit your question with the error message / stack trace","body":"what prompt? you told it to pool 10 threads, did it create 10 threads? or did it try to create more threads than 10? or did it say it cannot create 10 threads? Please edit your question with the error message / stack trace"},{"owner":{"account_id":29981227,"reputation":1,"user_id":22976173,"display_name":"Siyu Chen"},"score":0,"creation_date":1701143358,"post_id":77541555,"comment_id":136735862,"body_markdown":"When I don&#39;t set poolSize, the sendEachForMulticastAsync method will create threads without restrictions, causing an OOM exception. When I rewrite ThreadManager and try to customize poolSize, I cannot receive a callback","body":"When I don&#39;t set poolSize, the sendEachForMulticastAsync method will create threads without restrictions, causing an OOM exception. When I rewrite ThreadManager and try to customize poolSize, I cannot receive a callback"}],"owner":{"account_id":29981227,"reputation":1,"user_id":22976173,"display_name":"Siyu Chen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700828192,"creation_date":1700813430,"question_id":77541555,"body_markdown":"I upgrade the firebase-admin to 9.2.0, and I want use `FirebaseMessaging.getInstance().sendEachForMulticastAsync(multicastMessage)` to instead of the `FirebaseMessaging.getInstance().sendMulticast(multicastMessage)`, but when `FirebaseMessaging.getInstance().sendEachForMulticastAsync(multicastMessage)` is called, it appears to create a new thread pool every time. This seems to cause an issue of excessive local thread pool creation when the method is invoked frequently, consuming significant system resources and potentially leading to performance degradation, memory errors, and related issues\r\n\r\nTo address thread overflow, I rewrote `ThreadManager`, and set the pookSize to 10, can not get the callback\r\n```\r\nFirebaseOptions options = FirebaseOptions.builder()\r\n                        .setCredentials(GoogleCredentials.fromStream(new FileInputStream(new File(filePath))))\r\n                        .setThreadManager(new CustomThreadManager(poolSize))\r\n                        .build()\r\n                FirebaseApp.initializeApp(options)\r\n```","title":"Thread pool not released","body":"<p>I upgrade the firebase-admin to 9.2.0, and I want use <code>FirebaseMessaging.getInstance().sendEachForMulticastAsync(multicastMessage)</code> to instead of the <code>FirebaseMessaging.getInstance().sendMulticast(multicastMessage)</code>, but when <code>FirebaseMessaging.getInstance().sendEachForMulticastAsync(multicastMessage)</code> is called, it appears to create a new thread pool every time. This seems to cause an issue of excessive local thread pool creation when the method is invoked frequently, consuming significant system resources and potentially leading to performance degradation, memory errors, and related issues</p>\n<p>To address thread overflow, I rewrote <code>ThreadManager</code>, and set the pookSize to 10, can not get the callback</p>\n<pre><code>FirebaseOptions options = FirebaseOptions.builder()\n                        .setCredentials(GoogleCredentials.fromStream(new FileInputStream(new File(filePath))))\n                        .setThreadManager(new CustomThreadManager(poolSize))\n                        .build()\n                FirebaseApp.initializeApp(options)\n</code></pre>\n"},{"tags":["java","json","hibernate","hibernate-validator"],"comments":[{"owner":{"account_id":8974783,"reputation":9445,"user_id":6692043,"display_name":"yrodiere"},"score":0,"creation_date":1663223090,"post_id":73723053,"comment_id":130189270,"body_markdown":"Does this answer your question? [hibernate validator not found in classpath](https://stackoverflow.com/questions/69075274/hibernate-validator-not-found-in-classpath)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/69075274/hibernate-validator-not-found-in-classpath\">hibernate validator not found in classpath</a>"},{"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"score":1,"creation_date":1663251013,"post_id":73723053,"comment_id":130199282,"body_markdown":"I&#39;m not using Spring or Springboot","body":"I&#39;m not using Spring or Springboot"}],"answers":[{"comments":[{"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"score":0,"creation_date":1663251068,"post_id":73723369,"comment_id":130199313,"body_markdown":"I realized that.  I&#39;ve updated my question","body":"I realized that.  I&#39;ve updated my question"}],"tags":[],"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663191104,"creation_date":1663191104,"answer_id":73723369,"question_id":73723053,"body_markdown":"hibernate-validator has been moved to group org.hibernate.validator\r\n```\r\n&lt;!-- https://mvnrepository.com/artifact/org.hibernate.validator/hibernate-validator --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n    &lt;version&gt;8.0.0.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n\r\n``` ","title":"Hibernate validation can&#39;t find provider","body":"<p>hibernate-validator has been moved to group org.hibernate.validator</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.hibernate.validator/hibernate-validator --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n    &lt;version&gt;8.0.0.Final&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"score":1,"creation_date":1663238579,"post_id":73728135,"comment_id":130194330,"body_markdown":"Just wanted to add that using HV 6.2 is a perfectly viable option as it&#39;s maintained and has the same feature as HV 7.0 and 8.0. You need some sort of consistency in the javax/jakarta artifacts you are using so pick a version that is consistent with the framework you are using.","body":"Just wanted to add that using HV 6.2 is a perfectly viable option as it&#39;s maintained and has the same feature as HV 7.0 and 8.0. You need some sort of consistency in the javax/jakarta artifacts you are using so pick a version that is consistent with the framework you are using."},{"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"score":1,"creation_date":1663248874,"post_id":73728135,"comment_id":130198314,"body_markdown":"I&#39;m afraid that switching to jakarta.validation-api still doesn&#39;t work.  I also tried downgrading to Hibernate 6.2.5.Final.  I will update the question with everything I have tried","body":"I&#39;m afraid that switching to jakarta.validation-api still doesn&#39;t work.  I also tried downgrading to Hibernate 6.2.5.Final.  I will update the question with everything I have tried"},{"owner":{"account_id":6366204,"reputation":2197,"user_id":4940126,"display_name":"mark_o"},"score":0,"creation_date":1663313400,"post_id":73728135,"comment_id":130214265,"body_markdown":"hmm in such a case I&#39;d suggest to try and run mvn dependency:tree and see if the validator or validation-api are not transiently brought by something else. And also double check the imports to make sure that everything is matching. If that doesn&#39;t help - maybe you could create a small reproducible project?","body":"hmm in such a case I&#39;d suggest to try and run mvn dependency:tree and see if the validator or validation-api are not transiently brought by something else. And also double check the imports to make sure that everything is matching. If that doesn&#39;t help - maybe you could create a small reproducible project?"}],"tags":[],"owner":{"account_id":6366204,"reputation":2197,"user_id":4940126,"display_name":"mark_o"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663231539,"creation_date":1663231539,"answer_id":73728135,"question_id":73723053,"body_markdown":"Hibernate Validator 8 is based on Jakarta. this means that if you want to use it you should add \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\ninstead of \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n    dependency&gt;\r\n\r\nif you want to use the javax classes then you need to go with latest 6.2 version of hibernate validator\r\n\r\nsee here for 8.0 documentation - https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#validator-gettingstarted-createproject","title":"Hibernate validation can&#39;t find provider","body":"<p>Hibernate Validator 8 is based on Jakarta. this means that if you want to use it you should add</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n    &lt;version&gt;3.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>instead of</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.1.Final&lt;/version&gt;\ndependency&gt;\n</code></pre>\n<p>if you want to use the javax classes then you need to go with latest 6.2 version of hibernate validator</p>\n<p>see here for 8.0 documentation - <a href=\"https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#validator-gettingstarted-createproject\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#validator-gettingstarted-createproject</a></p>\n"},{"tags":[],"owner":{"account_id":13418973,"reputation":159,"user_id":9682448,"display_name":"Javadee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700827908,"creation_date":1700827908,"answer_id":77543039,"question_id":73723053,"body_markdown":"I had the same issue. After wasting almost a day the below combination worked some how. Pasting here if it helps any one.\r\n\r\n\r\n`\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\r\n    &lt;version&gt;8.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n    &lt;version&gt;6.2.5.Final&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.el&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.4&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n`","title":"Hibernate validation can&#39;t find provider","body":"<p>I had the same issue. After wasting almost a day the below combination worked some how. Pasting here if it helps any one.</p>\n<p>`</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n&lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\n&lt;version&gt;8.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n&lt;version&gt;6.2.5.Final&lt;/version&gt;\n&lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n&lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n&lt;artifactId&gt;jakarta.el&lt;/artifactId&gt;\n&lt;version&gt;3.0.4&lt;/version&gt;\n&lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>`</p>\n"}],"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1180,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1700827908,"creation_date":1663188776,"question_id":73723053,"body_markdown":"I&#39;m trying to use the Hibernate validator, with Java 11 (no Spring or Springboot), but it can&#39;t seem to find the proper combination of dependencies.  I have the following dependencies\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/dependency\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.0.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.expressly&lt;/groupId&gt;\r\n            &lt;artifactId&gt;expressly&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nI get this error:\r\n```\r\nCaused by: javax.validation.NoProviderFoundException: Unable to create a Configuration, because no Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.\r\n```\r\n\r\nI can&#39;t seem to find the right combination that works\r\n\r\nThe code I&#39;m using is \r\n```\r\nValidator VALIDATOR = Validation.buildDefaultValidatorFactory().getValidator();\r\nSet&lt;ConstraintViolation&lt;T&gt;&gt; constraintViolations = VALIDATOR.validate(object);\r\n\r\n```\r\n\r\n# Update\r\n\r\nHere&#39;s evertyhing I&#39;ve tried.  I&#39;ve pretty much thrown the kitchen sink in there and just keep getting the same error\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.0.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;hibernate-validator-annotation-processor&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;version&gt;8.0.0.Final&lt;/version&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.el&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.0-M1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.el&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.el-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n\r\n        &lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;org.glassfish.expressly&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;expressly&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;version&gt;5.0.0&lt;/version&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n\r\n\r\n```","title":"Hibernate validation can&#39;t find provider","body":"<p>I'm trying to use the Hibernate validator, with Java 11 (no Spring or Springboot), but it can't seem to find the proper combination of dependencies.  I have the following dependencies</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/dependency\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;8.0.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.expressly&lt;/groupId&gt;\n            &lt;artifactId&gt;expressly&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I get this error:</p>\n<pre><code>Caused by: javax.validation.NoProviderFoundException: Unable to create a Configuration, because no Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.\n</code></pre>\n<p>I can't seem to find the right combination that works</p>\n<p>The code I'm using is</p>\n<pre><code>Validator VALIDATOR = Validation.buildDefaultValidatorFactory().getValidator();\nSet&lt;ConstraintViolation&lt;T&gt;&gt; constraintViolations = VALIDATOR.validate(object);\n\n</code></pre>\n<h1>Update</h1>\n<p>Here's evertyhing I've tried.  I've pretty much thrown the kitchen sink in there and just keep getting the same error</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;8.0.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;hibernate-validator-annotation-processor&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;8.0.0.Final&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.el&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0-M1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.el&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.el-api&lt;/artifactId&gt;\n            &lt;version&gt;5.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.glassfish.expressly&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;expressly&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;5.0.0&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n\n\n</code></pre>\n"},{"tags":["java","hibernate"],"answers":[{"comments":[{"owner":{"account_id":1582,"reputation":110802,"user_id":2119,"accept_rate":71,"display_name":"Can Berk G&#252;der"},"score":0,"creation_date":1236781338,"post_id":634576,"comment_id":447827,"body_markdown":"Yes, I tried that, but ClassMetadata doesn&#39;t seem to contain any information regarding the table","body":"Yes, I tried that, but ClassMetadata doesn&#39;t seem to contain any information regarding the table"}],"tags":[],"owner":{"account_id":24465,"reputation":6590,"user_id":62201,"accept_rate":50,"display_name":"Michael Pralow"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1236779206,"creation_date":1236779206,"answer_id":634576,"question_id":634342,"body_markdown":"maybe use [SessionFactory.getClassMetadata][1] ?\r\n\r\n  [1]: http://www.hibernate.org/hib_docs/v3/api/org/hibernate/SessionFactory.html#getClassMetadata(java.lang.String)","title":"Get the table name from the model in Hibernate","body":"<p>maybe use <a href=\"http://www.hibernate.org/hib_docs/v3/api/org/hibernate/SessionFactory.html#getClassMetadata(java.lang.String)\" rel=\"nofollow noreferrer\">SessionFactory.getClassMetadata</a> ?</p>\n"},{"comments":[{"owner":{"account_id":1582,"reputation":110802,"user_id":2119,"accept_rate":71,"display_name":"Can Berk G&#252;der"},"score":0,"creation_date":1236782179,"post_id":634629,"comment_id":447927,"body_markdown":"I&#39;m not (and honestly, I just learned about annotations), but this is a nice idea. Thanks.","body":"I&#39;m not (and honestly, I just learned about annotations), but this is a nice idea. Thanks."},{"owner":{"account_id":49859,"reputation":4437,"user_id":148607,"accept_rate":96,"display_name":"Justin"},"score":17,"creation_date":1302675511,"post_id":634629,"comment_id":6436508,"body_markdown":"Fairly sure this only works if you set the table annotation on every entity.  Hibernate works perfectly well if you don&#39;t (it derives the name from the entity name)","body":"Fairly sure this only works if you set the table annotation on every entity.  Hibernate works perfectly well if you don&#39;t (it derives the name from the entity name)"},{"owner":{"account_id":12609725,"reputation":235,"user_id":9169330,"display_name":"Alekya"},"score":0,"creation_date":1551767827,"post_id":634629,"comment_id":96749683,"body_markdown":"this is working fine but how can I get column names?","body":"this is working fine but how can I get column names?"}],"tags":[],"owner":{"account_id":25387,"reputation":1474,"user_id":65225,"display_name":"Alex Rockwell"},"comment_count":3,"down_vote_count":2,"up_vote_count":34,"is_accepted":false,"score":32,"last_activity_date":1236785896,"creation_date":1236780033,"answer_id":634629,"question_id":634342,"body_markdown":"If you&#39;re using the Table annotation you could do something like this:\r\n\r\n    Table table = Entity.class.getAnnotation(Table.class);\r\n    String tableName = table.name();","title":"Get the table name from the model in Hibernate","body":"<p>If you're using the Table annotation you could do something like this:</p>\n\n<pre><code>Table table = Entity.class.getAnnotation(Table.class);\nString tableName = table.name();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1582,"reputation":110802,"user_id":2119,"accept_rate":71,"display_name":"Can Berk G&#252;der"},"score":0,"creation_date":1236787893,"post_id":634811,"comment_id":448464,"body_markdown":"Yes, but how do I use Configuration? Can I just create a new instance?","body":"Yes, but how do I use Configuration? Can I just create a new instance?"},{"owner":{"account_id":8190,"reputation":13616,"user_id":14619,"accept_rate":90,"display_name":"Brian Deterling"},"score":0,"creation_date":1236791289,"post_id":634811,"comment_id":448684,"body_markdown":"Some options are to create a new instance like during initialization; keep it around as a static or singleton; or use reflection to grab it from the SessionFactory. Once you have the configuration:\n  configuration.getClassMapping(&quot;foo&quot;).getTable().getName();","body":"Some options are to create a new instance like during initialization; keep it around as a static or singleton; or use reflection to grab it from the SessionFactory. Once you have the configuration:   configuration.getClassMapping(&quot;foo&quot;).getTable().getName();"}],"tags":[],"owner":{"account_id":22560,"reputation":56311,"user_id":55774,"accept_rate":62,"display_name":"Frederik Gheysels"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1236782573,"creation_date":1236782573,"answer_id":634811,"question_id":634342,"body_markdown":"Using the Configuration, you can call the GetClassMapping() method for a specific type, which would give you some mapping information for that type.\r\n\r\n(At least, this is the case in NHibernate, but I suppose that this will be similar in Hibernate).","title":"Get the table name from the model in Hibernate","body":"<p>Using the Configuration, you can call the GetClassMapping() method for a specific type, which would give you some mapping information for that type.</p>\n\n<p>(At least, this is the case in NHibernate, but I suppose that this will be similar in Hibernate).</p>\n"},{"comments":[{"owner":{"account_id":364020,"reputation":1527,"user_id":708128,"accept_rate":64,"display_name":"P.P&#233;ter"},"score":2,"creation_date":1418637957,"post_id":665165,"comment_id":43395769,"body_markdown":"There is an extra parenthesis near the end of the fifth line. Someone with enough reputation should fix it. Also, see and think about https://meta.stackoverflow.com/questions/251580/what-is-the-reason-behind-the-6-character-minimum-for-suggested-edits and https://meta.stackoverflow.com/questions/277184/why-is-it-necessary-for-me-to-write-6-character-if-just-one-is-missing-and-what","body":"There is an extra parenthesis near the end of the fifth line. Someone with enough reputation should fix it. Also, see and think about <a href=\"https://meta.stackoverflow.com/questions/251580/what-is-the-reason-behind-the-6-character-minimum-for-suggested-edits\" title=\"what is the reason behind the 6 character minimum for suggested edits\">meta.stackoverflow.com/questions/251580/&hellip;</a> and <a href=\"https://meta.stackoverflow.com/questions/277184/why-is-it-necessary-for-me-to-write-6-character-if-just-one-is-missing-and-what\" title=\"why is it necessary for me to write 6 character if just one is missing and what\">meta.stackoverflow.com/questions/277184/&hellip;</a>"},{"owner":{"account_id":9346423,"reputation":1452,"user_id":6937584,"display_name":"cdalxndr"},"score":3,"creation_date":1591370135,"post_id":665165,"comment_id":110039326,"body_markdown":"`getClassMetadata` is deprecated","body":"<code>getClassMetadata</code> is deprecated"},{"owner":{"account_id":1069875,"reputation":357,"user_id":1069426,"display_name":"Antoine Meyer"},"score":0,"creation_date":1616686235,"post_id":665165,"comment_id":118086273,"body_markdown":"@cdalxndr yes, see https://stackoverflow.com/a/66802699/1069426 for an updated answer.","body":"@cdalxndr yes, see <a href=\"https://stackoverflow.com/a/66802699/1069426\">stackoverflow.com/a/66802699/1069426</a> for an updated answer."}],"tags":[],"owner":{"account_id":10282,"reputation":5778,"user_id":19347,"accept_rate":80,"display_name":"FoxyBOA"},"comment_count":3,"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1444808081,"creation_date":1237530215,"answer_id":665165,"question_id":634342,"body_markdown":"It&#39;s a bit weird but it works:\r\n\r\n    ClassMetadata hibernateMetadata = sessionFactory.getClassMetadata(pClassName);\r\n\r\n    if (hibernateMetadata == null)\r\n    {\r\n    \treturn;\r\n    }\r\n\r\n    if (hibernateMetadata instanceof AbstractEntityPersister)\r\n    {\r\n    \t AbstractEntityPersister persister = (AbstractEntityPersister) hibernateMetadata;\r\n    \t String tableName = persister.getTableName();\r\n    \t String[] columnNames = persister.getKeyColumnNames();\r\n    }","title":"Get the table name from the model in Hibernate","body":"<p>It's a bit weird but it works:</p>\n\n<pre><code>ClassMetadata hibernateMetadata = sessionFactory.getClassMetadata(pClassName);\n\nif (hibernateMetadata == null)\n{\n    return;\n}\n\nif (hibernateMetadata instanceof AbstractEntityPersister)\n{\n     AbstractEntityPersister persister = (AbstractEntityPersister) hibernateMetadata;\n     String tableName = persister.getTableName();\n     String[] columnNames = persister.getKeyColumnNames();\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"Kajal"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1243512985,"creation_date":1243503805,"answer_id":920030,"question_id":634342,"body_markdown":"    Configuration cfg = new Configuration().configure();\t\r\n    cfg.addResource(&quot;com/struts/Entities/User.hbm.xml&quot;);\r\n    cfg.setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MySQLDialect&quot;);\r\n    Mappings m=cfg.createMappings();\r\n    System.out.println(&quot;&gt;&gt; class: &quot;+m.getClass(className));\r\n    System.out.println(&quot;User table name:: &quot;+m.getClass(&quot;User&quot;).getTable().getName());","title":"Get the table name from the model in Hibernate","body":"<pre><code>Configuration cfg = new Configuration().configure();    \ncfg.addResource(\"com/struts/Entities/User.hbm.xml\");\ncfg.setProperty(\"hibernate.dialect\", \"org.hibernate.dialect.MySQLDialect\");\nMappings m=cfg.createMappings();\nSystem.out.println(\"&gt;&gt; class: \"+m.getClass(className));\nSystem.out.println(\"User table name:: \"+m.getClass(\"User\").getTable().getName());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1965862,"reputation":3669,"user_id":1766166,"accept_rate":71,"display_name":"zygimantus"},"score":2,"creation_date":1530090864,"post_id":34791209,"comment_id":89107870,"body_markdown":"This gives error `org.hibernate.SessionFactory.getAllClassMetadata is no longer supported`","body":"This gives error <code>org.hibernate.SessionFactory.getAllClassMetadata is no longer supported</code>"},{"owner":{"account_id":2629478,"reputation":7504,"user_id":2275818,"accept_rate":100,"display_name":"Anthony Raymond"},"score":0,"creation_date":1530091336,"post_id":34791209,"comment_id":89108173,"body_markdown":"Well, it means that this method is deprecated and does not work anymore","body":"Well, it means that this method is deprecated and does not work anymore"}],"tags":[],"owner":{"account_id":2629478,"reputation":7504,"user_id":2275818,"accept_rate":100,"display_name":"Anthony Raymond"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1452779428,"creation_date":1452779067,"answer_id":34791209,"question_id":634342,"body_markdown":"You can get every tables name in your project with this function :\r\n\r\n    public Set&lt;String&gt; getTablesName() {\r\n        Set&lt;String&gt; names = new HashSet&lt;&gt;();\r\n        SessionFactory sessionFactory = emf.unwrap(SessionFactory.class);\r\n\r\n        Map&lt;String, ClassMetadata&gt; classMetadataMap = sessionFactory.getAllClassMetadata();\r\n        for (ClassMetadata classMetadata : classMetadataMap.values()) {\r\n            AbstractEntityPersister aep = (AbstractEntityPersister) classMetadata;\r\n            String tableName = aep.getTableName();\r\n            if (StringUtils.isBlank(tableName) || StringUtils.containsWhitespace(tableName)) {\r\n                continue;\r\n            }\r\n            names.add(tableName);\r\n        }\r\n        return names;\r\n    }","title":"Get the table name from the model in Hibernate","body":"<p>You can get every tables name in your project with this function :</p>\n\n<pre><code>public Set&lt;String&gt; getTablesName() {\n    Set&lt;String&gt; names = new HashSet&lt;&gt;();\n    SessionFactory sessionFactory = emf.unwrap(SessionFactory.class);\n\n    Map&lt;String, ClassMetadata&gt; classMetadataMap = sessionFactory.getAllClassMetadata();\n    for (ClassMetadata classMetadata : classMetadataMap.values()) {\n        AbstractEntityPersister aep = (AbstractEntityPersister) classMetadata;\n        String tableName = aep.getTableName();\n        if (StringUtils.isBlank(tableName) || StringUtils.containsWhitespace(tableName)) {\n            continue;\n        }\n        names.add(tableName);\n    }\n    return names;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4670717,"reputation":813,"user_id":3782567,"accept_rate":30,"display_name":"Shilan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1459419233,"creation_date":1459419233,"answer_id":36330457,"question_id":634342,"body_markdown":"or displaying a list of all columns and all entities in the GUI, I needed to load a full list of table, entity, attributes and column names, types, setters, getters and even nice labels dynamically and that&#39;s how I did it based on @Tom Redfem solution refactored with java 8 stream:\r\n\r\n    public void loadHibernateMetadata() throws ClassNotFoundException {\r\n\t\tMap&lt;String, ClassMetadata&gt; hibernateMetadata = sessionFactory.getAllClassMetadata();\t\t\r\n\t\t\r\n\t\thibernateMetadata.values()\r\n\t\t\t.stream()\r\n\t\t\t.filter(metadata -&gt; metadata != null &amp;&amp; metadata instanceof AbstractEntityPersister)\r\n\t\t\t.map(AbstractEntityPersister.class::cast)\r\n\t\t\t.forEach( persister -&gt; createNewnParam(persister));\r\n\t\t\t;\r\n\t\t\t\r\n\t}\r\nand then createNewParam method is:\r\n\r\n    private void createNewParam(AbstractEntityPersister persister) {\r\n\t\ttry {\r\n\t\t\tClass&lt;?&gt; $class = Class.forName(persister.getEntityName());\r\n\r\n\t\t\t\r\n\t\t\tList&lt;String&gt; getterNameRoster = Lists.newArrayList($class.getMethods())\r\n\t\t\t\t\t.stream()\r\n\t\t\t\t\t.filter( method -&gt; method.getName().startsWith(&quot;get&quot;) || method.getName().startsWith(&quot;is&quot;))\r\n\t\t\t\t\t.map(getterName -&gt; getterName.getName())\r\n\t\t\t\t\t.collect(toList())\r\n\t\t\t\t\t;\r\n\t\t\t\r\n\t\t\tList&lt;String&gt; setterNameRoster = Lists.newArrayList($class.getMethods())\r\n\t\t\t\t\t.stream()\r\n\t\t\t\t\t.filter( method -&gt; method.getName().startsWith(&quot;set&quot;) )\r\n\t\t\t\t\t.map(setterName -&gt; setterName.getName())\r\n\t\t\t\t\t.collect(toList())\r\n\t\t\t\t\t;\t\t\t\r\n\t\t\t\r\n\t\t\tIterable&lt;AttributeDefinition&gt; attrs = persister.getAttributes();\r\n\t\t\tattrs.forEach(a -&gt; {\t\t\r\n\t\t\t\t\r\n\t\t\t\tString columnName = persister.getPropertyColumnNames(a.getName())[0];\r\n\t\t\t\torg.hibernate.type.Type hibernateType =persister.getPropertyType(a.getName());\r\n\t\t\t\t\r\n\t\t\t\tOptional&lt;String&gt; optionalGetter = getterNameRoster.stream()\r\n\t\t\t\t\t\t\t\t.filter(getterStr -&gt; getterStr.equalsIgnoreCase( String.format(&quot;get%s&quot;, a.getName()) ) ||\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t getterStr.equalsIgnoreCase( String.format(&quot;is%s&quot;, a.getName())) )\r\n\t\t\t\t\t\t\t\t.findFirst()\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t;\r\n\t\t\t\t\r\n\t\t\t\tString getterName = optionalGetter.isPresent() ? optionalGetter.get() : new String(&quot;&quot;);\r\n\t\t\t\t\r\n\t\t\t\tOptional&lt;String&gt; optionalSetter = setterNameRoster.stream()\r\n\t\t\t\t\t\t\t\t\t.filter(setterStr -&gt; setterStr.equalsIgnoreCase( String.format(&quot;set%s&quot;, a.getName()) ))\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t.findFirst()\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t;\r\n\t\t\t\tString setterName = optionalSetter.isPresent() ? optionalSetter.get() : new String(&quot;&quot;);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tParam param = new Param(persister.getEntityName(), \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpersister.getTableName().replaceAll(&quot;\\&quot;&quot;, &quot;&quot;).toUpperCase(), \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolumnName.replaceAll(&quot;\\&quot;&quot;, &quot;&quot;).toUpperCase(),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta.getName(),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgetterName, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetterName, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thibernateType.getName(), \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcapitalizeFirstLetter(splitCamelCase(a.getName()))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\thibernateParamList.add(param);\r\n\t\t\t\tlogger.debug(param.toString());\r\n\t\t\t});\r\n\t\t\r\n\t\t} catch (ClassNotFoundException e) {\r\n\t\t\tlogger.error(String.format(&quot;error occured generating the params %s&quot; , e));\r\n\t\t}\r\n\t}\r\nand two String helper method to generate nice labels, which can be irrelevant to this post\r\n\r\n    private String splitCamelCase(String s) {\r\n\t   return s.replaceAll(\r\n\t      String.format(&quot;%s|%s|%s&quot;,\r\n\t         &quot;(?&lt;=[A-Z])(?=[A-Z][a-z])&quot;,\r\n\t         &quot;(?&lt;=[^A-Z])(?=[A-Z])&quot;,\r\n\t         &quot;(?&lt;=[A-Za-z])(?=[^A-Za-z])&quot;\r\n\t      ),\r\n\t      &quot; &quot;\r\n\t   );\r\n\t}\r\n\t\r\n\tprivate String capitalizeFirstLetter(String s) {\r\n\t\treturn Character.toUpperCase(s.charAt(0)) + s.substring(1);\r\n\t}\r\nAnd of course in my WebAppConfig.class I get the session factory\r\n\r\n       \r\n   \r\n\r\n    public SessionFactory sessionFactory() {\r\n\t  LocalSessionFactoryBuilder builder =\r\n\t            new LocalSessionFactoryBuilder(dataSource());\r\n\t  builder.addProperties(hibernateProperties());\r\n\t  builder.scanPackages(new String[] { &quot;com....model&quot; });\r\n\t  SessionFactory sessionFactory = builder.buildSessionFactory();\r\n\t  \r\n      return sessionFactory;\r\n   }\r\n\r\nMaybe we can optimize streams a little bit more, but for me it was quite fast and easy.","title":"Get the table name from the model in Hibernate","body":"<p>or displaying a list of all columns and all entities in the GUI, I needed to load a full list of table, entity, attributes and column names, types, setters, getters and even nice labels dynamically and that's how I did it based on @Tom Redfem solution refactored with java 8 stream:</p>\n\n<pre><code>public void loadHibernateMetadata() throws ClassNotFoundException {\n    Map&lt;String, ClassMetadata&gt; hibernateMetadata = sessionFactory.getAllClassMetadata();        \n\n    hibernateMetadata.values()\n        .stream()\n        .filter(metadata -&gt; metadata != null &amp;&amp; metadata instanceof AbstractEntityPersister)\n        .map(AbstractEntityPersister.class::cast)\n        .forEach( persister -&gt; createNewnParam(persister));\n        ;\n\n}\n</code></pre>\n\n<p>and then createNewParam method is:</p>\n\n<pre><code>private void createNewParam(AbstractEntityPersister persister) {\n    try {\n        Class&lt;?&gt; $class = Class.forName(persister.getEntityName());\n\n\n        List&lt;String&gt; getterNameRoster = Lists.newArrayList($class.getMethods())\n                .stream()\n                .filter( method -&gt; method.getName().startsWith(\"get\") || method.getName().startsWith(\"is\"))\n                .map(getterName -&gt; getterName.getName())\n                .collect(toList())\n                ;\n\n        List&lt;String&gt; setterNameRoster = Lists.newArrayList($class.getMethods())\n                .stream()\n                .filter( method -&gt; method.getName().startsWith(\"set\") )\n                .map(setterName -&gt; setterName.getName())\n                .collect(toList())\n                ;           \n\n        Iterable&lt;AttributeDefinition&gt; attrs = persister.getAttributes();\n        attrs.forEach(a -&gt; {        \n\n            String columnName = persister.getPropertyColumnNames(a.getName())[0];\n            org.hibernate.type.Type hibernateType =persister.getPropertyType(a.getName());\n\n            Optional&lt;String&gt; optionalGetter = getterNameRoster.stream()\n                            .filter(getterStr -&gt; getterStr.equalsIgnoreCase( String.format(\"get%s\", a.getName()) ) ||\n                                                 getterStr.equalsIgnoreCase( String.format(\"is%s\", a.getName())) )\n                            .findFirst()                                \n                            ;\n\n            String getterName = optionalGetter.isPresent() ? optionalGetter.get() : new String(\"\");\n\n            Optional&lt;String&gt; optionalSetter = setterNameRoster.stream()\n                                .filter(setterStr -&gt; setterStr.equalsIgnoreCase( String.format(\"set%s\", a.getName()) ))                 \n                                .findFirst()                                    \n                                ;\n            String setterName = optionalSetter.isPresent() ? optionalSetter.get() : new String(\"\");\n\n\n            Param param = new Param(persister.getEntityName(), \n                                                        persister.getTableName().replaceAll(\"\\\"\", \"\").toUpperCase(), \n                                                        columnName.replaceAll(\"\\\"\", \"\").toUpperCase(),\n                                                        a.getName(),\n                                                        getterName, \n                                                        setterName, \n                                                        hibernateType.getName(), \n                                                        capitalizeFirstLetter(splitCamelCase(a.getName()))\n                                                        );\n            hibernateParamList.add(param);\n            logger.debug(param.toString());\n        });\n\n    } catch (ClassNotFoundException e) {\n        logger.error(String.format(\"error occured generating the params %s\" , e));\n    }\n}\n</code></pre>\n\n<p>and two String helper method to generate nice labels, which can be irrelevant to this post</p>\n\n<pre><code>private String splitCamelCase(String s) {\n   return s.replaceAll(\n      String.format(\"%s|%s|%s\",\n         \"(?&lt;=[A-Z])(?=[A-Z][a-z])\",\n         \"(?&lt;=[^A-Z])(?=[A-Z])\",\n         \"(?&lt;=[A-Za-z])(?=[^A-Za-z])\"\n      ),\n      \" \"\n   );\n}\n\nprivate String capitalizeFirstLetter(String s) {\n    return Character.toUpperCase(s.charAt(0)) + s.substring(1);\n}\n</code></pre>\n\n<p>And of course in my WebAppConfig.class I get the session factory</p>\n\n<pre><code>public SessionFactory sessionFactory() {\n  LocalSessionFactoryBuilder builder =\n            new LocalSessionFactoryBuilder(dataSource());\n  builder.addProperties(hibernateProperties());\n  builder.scanPackages(new String[] { \"com....model\" });\n  SessionFactory sessionFactory = builder.buildSessionFactory();\n\n  return sessionFactory;\n</code></pre>\n\n<p>}</p>\n\n<p>Maybe we can optimize streams a little bit more, but for me it was quite fast and easy.</p>\n"},{"tags":[],"owner":{"account_id":13174562,"reputation":99,"user_id":9515847,"display_name":"Karthik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603778190,"creation_date":1603778190,"answer_id":64548978,"question_id":634342,"body_markdown":"Since getClassMetadata method is deprecated. Try something like this.\r\n\r\n       Configuration configuration = new Configuration();\r\n        configuration.configure();\r\n        \r\n        StandardServiceRegistry standardRegistry = new StandardServiceRegistryBuilder().configure().build();\r\n        \r\n        Metadata = new MetadataSources(standardRegistry).getMetadataBuilder().build();\r\n        SessionFactory sessionFactory = configuration.buildSessionFactory();\r\n        \r\n        String tableName=Metadata.getEntityBinding(entityName).getQualifiedTableName().toString();\r\n\r\n","title":"Get the table name from the model in Hibernate","body":"<p>Since getClassMetadata method is deprecated. Try something like this.</p>\n<pre><code>   Configuration configuration = new Configuration();\n    configuration.configure();\n    \n    StandardServiceRegistry standardRegistry = new StandardServiceRegistryBuilder().configure().build();\n    \n    Metadata = new MetadataSources(standardRegistry).getMetadataBuilder().build();\n    SessionFactory sessionFactory = configuration.buildSessionFactory();\n    \n    String tableName=Metadata.getEntityBinding(entityName).getQualifiedTableName().toString();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2832467,"reputation":440,"user_id":2433769,"display_name":"eric.green"},"score":0,"creation_date":1654214114,"post_id":66802699,"comment_id":128044009,"body_markdown":"Unfortunately this relies upon an internal Hibernate class, MetamodelImpl, which is not guaranteed to retain an entityPersister method with subsequent Hibernate releases.","body":"Unfortunately this relies upon an internal Hibernate class, MetamodelImpl, which is not guaranteed to retain an entityPersister method with subsequent Hibernate releases."}],"tags":[],"owner":{"account_id":1069875,"reputation":357,"user_id":1069426,"display_name":"Antoine Meyer"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1616686143,"creation_date":1616686143,"answer_id":66802699,"question_id":634342,"body_markdown":"`classMetadata` is deprecated.\r\n\r\nUse:\r\n```\r\n@PersistenceContext\r\nprivate EntityManager entityManager;\r\n\r\npublic String extractTableName(final Class&lt;?&gt; modelClazz) {\r\n    final MetamodelImpl metamodel = (MetamodelImpl) entityManager.getMetamodel();\r\n    final EntityPersister entityPersister = metamodel.entityPersister(modelClazz);\r\n    if (entityPersister instanceof SingleTableEntityPersister) {\r\n        return ((SingleTableEntityPersister) entityPersister).getTableName();\r\n    } else {\r\n        throw new IllegalArgumentException(modelClazz + &quot; does not map to a single table.&quot;);\r\n    }\r\n}\r\n```","title":"Get the table name from the model in Hibernate","body":"<p><code>classMetadata</code> is deprecated.</p>\n<p>Use:</p>\n<pre><code>@PersistenceContext\nprivate EntityManager entityManager;\n\npublic String extractTableName(final Class&lt;?&gt; modelClazz) {\n    final MetamodelImpl metamodel = (MetamodelImpl) entityManager.getMetamodel();\n    final EntityPersister entityPersister = metamodel.entityPersister(modelClazz);\n    if (entityPersister instanceof SingleTableEntityPersister) {\n        return ((SingleTableEntityPersister) entityPersister).getTableName();\n    } else {\n        throw new IllegalArgumentException(modelClazz + &quot; does not map to a single table.&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9665250,"reputation":421,"user_id":7171936,"display_name":"Timz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700827711,"creation_date":1700827711,"answer_id":77543017,"question_id":634342,"body_markdown":"As in Hibernate 6 the mentioned solutions did not work for me I ended up with the following implementation:\r\n\r\n    private String getTableName(final Class&lt;?&gt; cls) {\r\n        final var sessionFactory = entityManager.getEntityManagerFactory().unwrap(SessionFactoryImplementor.class);\r\n        final var metaModel = sessionFactory.getRuntimeMetamodels().getMappingMetamodel();\r\n    \r\n        return metaModel.getEntityDescriptor(cls).getMappedTableDetails().getTableName();\r\n    }","title":"Get the table name from the model in Hibernate","body":"<p>As in Hibernate 6 the mentioned solutions did not work for me I ended up with the following implementation:</p>\n<pre><code>private String getTableName(final Class&lt;?&gt; cls) {\n    final var sessionFactory = entityManager.getEntityManagerFactory().unwrap(SessionFactoryImplementor.class);\n    final var metaModel = sessionFactory.getRuntimeMetamodels().getMappingMetamodel();\n\n    return metaModel.getEntityDescriptor(cls).getMappedTableDetails().getTableName();\n}\n</code></pre>\n"}],"owner":{"account_id":1582,"reputation":110802,"user_id":2119,"accept_rate":71,"display_name":"Can Berk G&#252;der"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51802,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"answer_count":10,"score":41,"last_activity_date":1700827711,"creation_date":1236775354,"question_id":634342,"body_markdown":"How do I get the table name for a model in Hibernate?\r\n\r\nApparently there used to be a `getTableName()` method in [`ClassMetadata`][1], but it&#39;s been removed.\r\n\r\nThere&#39;s a [`getClassMapping(String entityName)`][2] method in [`Configuration`][3], but I don&#39;t know how I can (or if I should) use Configuration from within my DAO implementation.\r\n\r\nMy DAO implementation is a subclass of [HibernateGeneralGenericDao][4].\r\n\r\n**UPDATE:** It turns out I can do what I&#39;m trying to do without the table name. However, I will keep the question open (and try the answers as they come) for the sake of reference.\r\n\r\n  [1]: http://www.hibernate.org/hib_docs/v3/api/org/hibernate/metadata/ClassMetadata.html\r\n  [2]: http://www.hibernate.org/hib_docs/v3/api/org/hibernate/cfg/Configuration.html#getClassMapping(java.lang.String)\r\n  [3]: http://www.hibernate.org/hib_docs/v3/api/org/hibernate/cfg/Configuration.html\r\n  [4]: https://source.sakaiproject.org/maven2/org/sakaiproject/generic-dao/site/apidocs/org/sakaiproject/genericdao/hibernate/HibernateGeneralGenericDao.html","title":"Get the table name from the model in Hibernate","body":"<p>How do I get the table name for a model in Hibernate?</p>\n\n<p>Apparently there used to be a <code>getTableName()</code> method in <a href=\"http://www.hibernate.org/hib_docs/v3/api/org/hibernate/metadata/ClassMetadata.html\" rel=\"noreferrer\"><code>ClassMetadata</code></a>, but it's been removed.</p>\n\n<p>There's a <a href=\"http://www.hibernate.org/hib_docs/v3/api/org/hibernate/cfg/Configuration.html#getClassMapping(java.lang.String)\" rel=\"noreferrer\"><code>getClassMapping(String entityName)</code></a> method in <a href=\"http://www.hibernate.org/hib_docs/v3/api/org/hibernate/cfg/Configuration.html\" rel=\"noreferrer\"><code>Configuration</code></a>, but I don't know how I can (or if I should) use Configuration from within my DAO implementation.</p>\n\n<p>My DAO implementation is a subclass of <a href=\"https://source.sakaiproject.org/maven2/org/sakaiproject/generic-dao/site/apidocs/org/sakaiproject/genericdao/hibernate/HibernateGeneralGenericDao.html\" rel=\"noreferrer\">HibernateGeneralGenericDao</a>.</p>\n\n<p><strong>UPDATE:</strong> It turns out I can do what I'm trying to do without the table name. However, I will keep the question open (and try the answers as they come) for the sake of reference.</p>\n"},{"tags":["java","tomcat","websocket","java-websocket"],"answers":[{"comments":[{"owner":{"account_id":3311299,"reputation":374,"user_id":2784748,"accept_rate":10,"display_name":"Vishwanath Washimkar"},"score":0,"creation_date":1614690840,"post_id":66436819,"comment_id":117457325,"body_markdown":"Thanks ton. Will test your suggestion and update","body":"Thanks ton. Will test your suggestion and update"}],"tags":[],"owner":{"account_id":18582602,"reputation":101,"user_id":13541788,"display_name":"rmfeldt"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614677929,"creation_date":1614677929,"answer_id":66436819,"question_id":66436496,"body_markdown":"I would suspect that the clients receive buffer is filled up and it cuts the connection. I know this will happen the other way around, when a client sends large data to an apache server and the server isn&#39;t configured to have an extended binary buffer. See:  org.apache.tomcat.websocket.binaryBufferSize\r\n\r\nPerhaps you can get around the problem by sending the data in smaller chunks, sendBytes have a partial version. \r\n\r\nhttps://tomcat.apache.org/tomcat-10.0-doc/websocketapi/index.html?jakarta/websocket/Session.html\r\n\r\n","title":"Write Timeout while writing bytes to web socket in apache tomcat","body":"<p>I would suspect that the clients receive buffer is filled up and it cuts the connection. I know this will happen the other way around, when a client sends large data to an apache server and the server isn't configured to have an extended binary buffer. See:  org.apache.tomcat.websocket.binaryBufferSize</p>\n<p>Perhaps you can get around the problem by sending the data in smaller chunks, sendBytes have a partial version.</p>\n<p><a href=\"https://tomcat.apache.org/tomcat-10.0-doc/websocketapi/index.html?jakarta/websocket/Session.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-10.0-doc/websocketapi/index.html?jakarta/websocket/Session.html</a></p>\n"},{"tags":[],"owner":{"account_id":2392650,"reputation":2659,"user_id":2092205,"display_name":"Matthew Wise"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700827417,"creation_date":1700827417,"answer_id":77542989,"question_id":66436496,"body_markdown":"See this similar SO question: https://stackoverflow.com/questions/66482114/how-can-you-set-org-apache-tomcat-websocket-blocking-send-timeout - setting/overriding `org.apache.tomcat.websocket.BLOCKING_SEND_TIMEOUT` has to be done in a very specific way in order to be picked up.\r\n\r\nAlso, as you are sending large messages, you probably also need to override the following properties on `WebSocketTransportRegistration` :\r\n```\r\n        registration.setSendBufferSizeLimit(10 * 1024 * 1024);\r\n        registration.setSendTimeLimit(120_000);\r\n```","title":"Write Timeout while writing bytes to web socket in apache tomcat","body":"<p>See this similar SO question: <a href=\"https://stackoverflow.com/questions/66482114/how-can-you-set-org-apache-tomcat-websocket-blocking-send-timeout\">How can you set org.apache.tomcat.websocket.BLOCKING_SEND_TIMEOUT?</a> - setting/overriding <code>org.apache.tomcat.websocket.BLOCKING_SEND_TIMEOUT</code> has to be done in a very specific way in order to be picked up.</p>\n<p>Also, as you are sending large messages, you probably also need to override the following properties on <code>WebSocketTransportRegistration</code> :</p>\n<pre><code>        registration.setSendBufferSizeLimit(10 * 1024 * 1024);\n        registration.setSendTimeLimit(120_000);\n</code></pre>\n"}],"owner":{"account_id":3311299,"reputation":374,"user_id":2784748,"accept_rate":10,"display_name":"Vishwanath Washimkar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":924,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700827417,"creation_date":1614676630,"question_id":66436496,"body_markdown":"I have Java web socket web application. The websocket endpoint interacts with mobile clients. In one of the use case, the web application needs to write bytes of the size of 10MB or more to the web-socket outputstream. Following is the code which writes to the output stream :\r\n\r\n```\r\n     if (webSocSession.isOpen()) {\r\n          webSocSession.getBasicRemote().sendBinary(byteBuffer);\r\n          byteBuffer.clear();\r\n        } \r\n```\r\n\r\nI am getting the following exception at times when the writing to the web-socket :\r\n\r\n```\r\nIOException writing to web-socket\r\njava.io.IOException:&#160;java.net.SocketTimeoutException: Write timeout\r\nat org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:324)\r\nat org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:259)\r\nat org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendBytes(WsRemoteEndpointImplBase.java:131)\r\nat org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendBinary(WsRemoteEndpointBasic.java:43)\r\nat test.web.websocket.LIMSEndpoint$SocketWorker.writeToWebSocket(LIMSEndpoint.java:1188)\r\nat test.web.websocket.LIMSEndpoint$SocketWorker.run(LIMSEndpoint.java:1127)\r\nCaused by:&#160;java.net.SocketTimeoutException: Write timeout\r\nat&#160;org.apache.tomcat.util.net.SocketWrapperBase.vectoredOperation(SocketWrapperBase.java:1458)\r\nat&#160;org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:1376)\r\nat&#160;org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:1347)\r\nat org.apache.tomcat.websocket.server.WsRemoteEndpointImplServer.doWrite(WsRemoteEndpointImplServer.java:93)\r\nat org.apache.tomcat.websocket.WsRemoteEndpointImplBase.writeMessagePart(WsRemoteEndpointImplBase.java:509)\r\nat org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:311)\r\n```\r\n\r\nI tried setting the up the following SEND timeout property to 0 ( infinite write timeout ) , but it does not help. The following Apache Tomcat doc helped - [https://tomcat.apache.org/tomcat-8.5-doc/web-socket-howto.html][1]\r\n\r\n```\r\norg.apache.tomcat.websocket.BLOCKING_SEND_TIMEOUT\r\n```\r\nThe web socket session max idle timeout has been set to 0 ( not to timeout )\r\n\r\n```\r\nSession.setMaxIdleTimeout(0) \r\n```\r\n\r\nAny help in this regard will be great help.\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-8.5-doc/web-socket-howto.html","title":"Write Timeout while writing bytes to web socket in apache tomcat","body":"<p>I have Java web socket web application. The websocket endpoint interacts with mobile clients. In one of the use case, the web application needs to write bytes of the size of 10MB or more to the web-socket outputstream. Following is the code which writes to the output stream :</p>\n<pre><code>     if (webSocSession.isOpen()) {\n          webSocSession.getBasicRemote().sendBinary(byteBuffer);\n          byteBuffer.clear();\n        } \n</code></pre>\n<p>I am getting the following exception at times when the writing to the web-socket :</p>\n<pre><code>IOException writing to web-socket\njava.io.IOException:java.net.SocketTimeoutException: Write timeout\nat org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:324)\nat org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:259)\nat org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendBytes(WsRemoteEndpointImplBase.java:131)\nat org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendBinary(WsRemoteEndpointBasic.java:43)\nat test.web.websocket.LIMSEndpoint$SocketWorker.writeToWebSocket(LIMSEndpoint.java:1188)\nat test.web.websocket.LIMSEndpoint$SocketWorker.run(LIMSEndpoint.java:1127)\nCaused by:java.net.SocketTimeoutException: Write timeout\natorg.apache.tomcat.util.net.SocketWrapperBase.vectoredOperation(SocketWrapperBase.java:1458)\natorg.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:1376)\natorg.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:1347)\nat org.apache.tomcat.websocket.server.WsRemoteEndpointImplServer.doWrite(WsRemoteEndpointImplServer.java:93)\nat org.apache.tomcat.websocket.WsRemoteEndpointImplBase.writeMessagePart(WsRemoteEndpointImplBase.java:509)\nat org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:311)\n</code></pre>\n<p>I tried setting the up the following SEND timeout property to 0 ( infinite write timeout ) , but it does not help. The following Apache Tomcat doc helped - <a href=\"https://tomcat.apache.org/tomcat-8.5-doc/web-socket-howto.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-8.5-doc/web-socket-howto.html</a></p>\n<pre><code>org.apache.tomcat.websocket.BLOCKING_SEND_TIMEOUT\n</code></pre>\n<p>The web socket session max idle timeout has been set to 0 ( not to timeout )</p>\n<pre><code>Session.setMaxIdleTimeout(0) \n</code></pre>\n<p>Any help in this regard will be great help.</p>\n"},{"tags":["java","android","kotlin","gradle-kotlin-dsl","android-multi-module"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1700829359,"post_id":77542974,"comment_id":136704047,"body_markdown":"You cannot have Module A depend on Module B and have Module B depend on Module A. Most likely, you will need this navigation logic to reside somewhere else, such as in an app module that depends on both Module A and Module B.","body":"You cannot have Module A depend on Module B and have Module B depend on Module A. Most likely, you will need this navigation logic to reside somewhere else, such as in an app module that depends on both Module A and Module B."},{"owner":{"account_id":29982938,"reputation":11,"user_id":22977537,"display_name":"sumit nagpal"},"score":0,"creation_date":1700832265,"post_id":77542974,"comment_id":136704558,"body_markdown":"@CommonsWare Could you please provide some example to achieve that","body":"@CommonsWare Could you please provide some example to achieve that"}],"owner":{"account_id":29982938,"reputation":11,"user_id":22977537,"display_name":"sumit nagpal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700827313,"creation_date":1700827313,"question_id":77542974,"body_markdown":"I have an Android project with two modules, let&#39;s call them Module A and Module B. In Module A, I have two activities, A and B. In Module B, I have an activity named X. I&#39;m trying to achieve a sequential flow where I start Activity X from Activity A and then start Activity B from Activity X.  \r\n\r\nwhenever i am trying to do so using intent or using navigator interface,i am getting circular dependency error.","title":"How to sequentially start activities across different Android modules in Kotlin?","body":"<p>I have an Android project with two modules, let's call them Module A and Module B. In Module A, I have two activities, A and B. In Module B, I have an activity named X. I'm trying to achieve a sequential flow where I start Activity X from Activity A and then start Activity B from Activity X.</p>\n<p>whenever i am trying to do so using intent or using navigator interface,i am getting circular dependency error.</p>\n"},{"tags":["java","spring","dependency-injection","properties"],"comments":[{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":2,"creation_date":1507120689,"post_id":46564999,"comment_id":80083649,"body_markdown":"Why did you make the method `propertySourcesPlaceholderConfigurer` in class `WebConfig` `static`?","body":"Why did you make the method <code>propertySourcesPlaceholderConfigurer</code> in class <code>WebConfig</code> <code>static</code>?"},{"owner":{"display_name":"user4856296"},"score":0,"creation_date":1507120748,"post_id":46564999,"comment_id":80083695,"body_markdown":"Can you post your configure **application.properties** file.","body":"Can you post your configure <b>application.properties</b> file."},{"owner":{"account_id":3853200,"reputation":251,"user_id":3192770,"display_name":"Ashish Malhotra"},"score":0,"creation_date":1507121232,"post_id":46564999,"comment_id":80084033,"body_markdown":"@Jesper Just trying one of the solution that I found in google, and it is not working even if you remove the static or completely remove the method","body":"@Jesper Just trying one of the solution that I found in google, and it is not working even if you remove the static or completely remove the method"},{"owner":{"account_id":3853200,"reputation":251,"user_id":3192770,"display_name":"Ashish Malhotra"},"score":0,"creation_date":1507121277,"post_id":46564999,"comment_id":80084057,"body_markdown":"@SamDev Its already in the question, check again","body":"@SamDev Its already in the question, check again"},{"owner":{"display_name":"user4856296"},"score":0,"creation_date":1507121828,"post_id":46564999,"comment_id":80084454,"body_markdown":"Take a review this URL https://stackoverflow.com/questions/41164983/spring-cloud-config-could-not-resolve-placeholder","body":"Take a review this URL <a href=\"https://stackoverflow.com/questions/41164983/spring-cloud-config-could-not-resolve-placeholder\" title=\"spring cloud config could not resolve placeholder\">stackoverflow.com/questions/41164983/&hellip;</a>"},{"owner":{"account_id":154192,"reputation":3472,"user_id":369946,"accept_rate":75,"display_name":"Matt"},"score":0,"creation_date":1507187939,"post_id":46564999,"comment_id":80112708,"body_markdown":"Do you have mixed XML/Java config? If so, check that you don&#39;t have a `context:property-placeholder` left.","body":"Do you have mixed XML/Java config? If so, check that you don&#39;t have a <code>context:property-placeholder</code> left."},{"owner":{"account_id":5068874,"reputation":4011,"user_id":4068240,"display_name":"Clijsters"},"score":0,"creation_date":1594053662,"post_id":46564999,"comment_id":110985544,"body_markdown":"Please take a look at [Minimal, Complete, and Verifiable Examples](http://stackoverflow.com/help/mcve). Your problem can only be reproduced with all necessary information. At least your spring version","body":"Please take a look at <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable Examples</a>. Your problem can only be reproduced with all necessary information. At least your spring version"}],"answers":[{"comments":[{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1507121474,"post_id":46565128,"comment_id":80084194,"body_markdown":"Any error? &quot;Not working for me&quot; doesn&#39;t help me either to find the solution that suits you.","body":"Any error? &quot;Not working for me&quot; doesn&#39;t help me either to find the solution that suits you."},{"owner":{"account_id":3853200,"reputation":251,"user_id":3192770,"display_name":"Ashish Malhotra"},"score":0,"creation_date":1507121512,"post_id":46565128,"comment_id":80084217,"body_markdown":"And it is just not working here, whereas in a similar way it is working in @Service class","body":"And it is just not working here, whereas in a similar way it is working in @Service class"},{"owner":{"account_id":3853200,"reputation":251,"user_id":3192770,"display_name":"Ashish Malhotra"},"score":0,"creation_date":1507121578,"post_id":46565128,"comment_id":80084259,"body_markdown":"Same error as mentioned in the question. java.lang.IllegalArgumentException: Could not resolve placeholder &#39;server.url&#39;","body":"Same error as mentioned in the question. java.lang.IllegalArgumentException: Could not resolve placeholder &#39;server.url&#39;"},{"owner":{"account_id":257480,"reputation":5081,"user_id":538921,"accept_rate":91,"display_name":"Edward J Beckett"},"score":1,"creation_date":1536774811,"post_id":46565128,"comment_id":91549530,"body_markdown":"I think you mean either `@ComponentScan` or `@PropertySource` because there is no annotation named `@PropertyScan`","body":"I think you mean either <code>@ComponentScan</code> or <code>@PropertySource</code> because there is no annotation named <code>@PropertyScan</code>"}],"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":4,"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1588090273,"creation_date":1507120817,"answer_id":46565128,"question_id":46564999,"body_markdown":"Use the `@PropertyScan` annotation in the class where a certain property will be used:\r\n\r\n    @Configuration\r\n    @PropertyScan(&quot;classpath:application.properties&quot;)\r\n    class MyServerConfig {\r\n\r\n        @Value( &quot;${server.url}&quot; )\r\n        private String url;\r\n    }","title":"@Value not working in Spring @Configuration","body":"<p>Use the <code>@PropertyScan</code> annotation in the class where a certain property will be used:</p>\n\n<pre><code>@Configuration\n@PropertyScan(\"classpath:application.properties\")\nclass MyServerConfig {\n\n    @Value( \"${server.url}\" )\n    private String url;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7074458,"reputation":3504,"user_id":5415018,"display_name":"Urosh T."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614288207,"creation_date":1507187295,"answer_id":46579821,"question_id":46564999,"body_markdown":"For getting the values for your `@Value` variables, the `application.properties` is not needed to be configured in any special way because this file is always scanned. So remove the `@PropertySource` annotation and `PropertySourcesPlaceholderConfigurer` bean. \r\n\r\nThese are used if you want to add other `.properties` files (e.g. `constants.properties`, `db-config.properties`).\r\n\r\nSo just remove those and try to run your application again\r\n\r\n**Very important:** \r\n\r\n1. Make sure you scan the class that uses the `@Value` annotation (If your BootApplication is in some package instead of the &#39;main&#39; package, add the proper `@SpringBootApplication(scanBasePackages = { &quot;com.my.project&quot; })` annotation). \r\n\r\n2. Make sure your `application.properties` is on your classpath.\r\n\r\n\r\n**Bonus** If you are using spring profiles (e.g: `prod`, `dev`), you can also have `application-prod.properties` and `application-dev.properties` files that will be scanned and included depending on which profile you are running.","title":"@Value not working in Spring @Configuration","body":"<p>For getting the values for your <code>@Value</code> variables, the <code>application.properties</code> is not needed to be configured in any special way because this file is always scanned. So remove the <code>@PropertySource</code> annotation and <code>PropertySourcesPlaceholderConfigurer</code> bean.</p>\n<p>These are used if you want to add other <code>.properties</code> files (e.g. <code>constants.properties</code>, <code>db-config.properties</code>).</p>\n<p>So just remove those and try to run your application again</p>\n<p><strong>Very important:</strong></p>\n<ol>\n<li><p>Make sure you scan the class that uses the <code>@Value</code> annotation (If your BootApplication is in some package instead of the 'main' package, add the proper <code>@SpringBootApplication(scanBasePackages = { &quot;com.my.project&quot; })</code> annotation).</p>\n</li>\n<li><p>Make sure your <code>application.properties</code> is on your classpath.</p>\n</li>\n</ol>\n<p><strong>Bonus</strong> If you are using spring profiles (e.g: <code>prod</code>, <code>dev</code>), you can also have <code>application-prod.properties</code> and <code>application-dev.properties</code> files that will be scanned and included depending on which profile you are running.</p>\n"}],"owner":{"account_id":3853200,"reputation":251,"user_id":3192770,"display_name":"Ashish Malhotra"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12817,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":2,"score":10,"last_activity_date":1700827245,"creation_date":1507120430,"question_id":46564999,"body_markdown":"Need help, where is the issue?\r\n\r\nI have a configuration class which is loading properties as\r\n\r\n**WebConfig.java**\r\n\r\n    @Configuration\r\n    @PropertySource(value={&quot;classpath:application.properties&quot;})\r\n    class WebConfig extends WebMvcConfigurerAdapter{\r\n    \r\n        @Bean\r\n        public static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() {\r\n           return new PropertySourcesPlaceholderConfigurer();\r\n        }\r\n    }\r\n\r\nI have another configuration class where I am trying to use the properties as\r\n\r\n**MyServerConfig.java**\r\n\r\n    @Configuration\r\n    class MyServerConfig {\r\n    \r\n        @Value(&quot;${server.url}&quot;)\r\n        private String url;\r\n    ...\r\n    }\r\n\r\n**application.properties**\r\n\r\n    server.url=http://localhost:8080/test/abc\r\n\r\nBut getting:\r\n\r\n&gt; java.lang.IllegalArgumentException: Could not resolve placeholder &#39;server.url&#39;.\r\n\r\nDon&#39;t know what is missing here? Any thoughts?\r\n\r\n","title":"@Value not working in Spring @Configuration","body":"<p>Need help, where is the issue?</p>\n\n<p>I have a configuration class which is loading properties as</p>\n\n<p><strong>WebConfig.java</strong></p>\n\n<pre><code>@Configuration\n@PropertySource(value={\"classpath:application.properties\"})\nclass WebConfig extends WebMvcConfigurerAdapter{\n\n    @Bean\n    public static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() {\n       return new PropertySourcesPlaceholderConfigurer();\n    }\n}\n</code></pre>\n\n<p>I have another configuration class where I am trying to use the properties as</p>\n\n<p><strong>MyServerConfig.java</strong></p>\n\n<pre><code>@Configuration\nclass MyServerConfig {\n\n    @Value(\"${server.url}\")\n    private String url;\n...\n}\n</code></pre>\n\n<p><strong>application.properties</strong></p>\n\n<pre><code>server.url=http://localhost:8080/test/abc\n</code></pre>\n\n<p>But getting:</p>\n\n<blockquote>\n  <p>java.lang.IllegalArgumentException: Could not resolve placeholder 'server.url'.</p>\n</blockquote>\n\n<p>Don't know what is missing here? Any thoughts?</p>\n"},{"tags":["java","rest","spring-mvc"],"comments":[{"owner":{"account_id":1336108,"reputation":8046,"user_id":1278839,"accept_rate":69,"display_name":"CodeChimp"},"score":0,"creation_date":1358959576,"post_id":14484657,"comment_id":20183112,"body_markdown":"If you are using Jackson or FlexJson, why can&#39;t you just return the Response object in your method instead?  The JSON serializer should be able to serialize any complex object.","body":"If you are using Jackson or FlexJson, why can&#39;t you just return the Response object in your method instead?  The JSON serializer should be able to serialize any complex object."},{"owner":{"account_id":330284,"reputation":521,"user_id":654308,"accept_rate":11,"display_name":"Eli Polonsky"},"score":0,"creation_date":1358966673,"post_id":14484657,"comment_id":20187026,"body_markdown":"i am using jackson. but i still would like the controller to return request specific java types. i think its cleaner and more intuitive.","body":"i am using jackson. but i still would like the controller to return request specific java types. i think its cleaner and more intuitive."},{"owner":{"account_id":330284,"reputation":521,"user_id":654308,"accept_rate":11,"display_name":"Eli Polonsky"},"score":0,"creation_date":1358966721,"post_id":14484657,"comment_id":20187054,"body_markdown":"plus there is some boiler plate code into constructing the response object, so i would like to do it just from one place","body":"plus there is some boiler plate code into constructing the response object, so i would like to do it just from one place"},{"owner":{"account_id":1336108,"reputation":8046,"user_id":1278839,"accept_rate":69,"display_name":"CodeChimp"},"score":0,"creation_date":1358971634,"post_id":14484657,"comment_id":20189636,"body_markdown":"What I was recommending is the same approach that @ben75 stated: Create your wrapper object, return it, let Jackson handle your serialization to JSON.  That&#39;s how I have ALWAYS seen it done.  You can either return the object out-right, or use Jackson to convert to a String and return that.  I have used the former when I didn&#39;t really care what the resulting JSON looked like (i.e. I am controlling the reciever, so I can make it do whatever is needed), and the latter approach when I don&#39;t control the reciever (i.e. someone else has dictated the formatting).","body":"What I was recommending is the same approach that @ben75 stated: Create your wrapper object, return it, let Jackson handle your serialization to JSON.  That&#39;s how I have ALWAYS seen it done.  You can either return the object out-right, or use Jackson to convert to a String and return that.  I have used the former when I didn&#39;t really care what the resulting JSON looked like (i.e. I am controlling the reciever, so I can make it do whatever is needed), and the latter approach when I don&#39;t control the reciever (i.e. someone else has dictated the formatting)."},{"owner":{"account_id":1336108,"reputation":8046,"user_id":1278839,"accept_rate":69,"display_name":"CodeChimp"},"score":0,"creation_date":1358971928,"post_id":14484657,"comment_id":20189788,"body_markdown":"The key is the (at)ResponseBody which tells Spring to take whatever is being returned and use that as the HttpResponse body, and some nifty PFM from Spring to auto-convert objects to JSON using Jackson.  I have even used (at)ResponseBody to return binary files, like images.","body":"The key is the (at)ResponseBody which tells Spring to take whatever is being returned and use that as the HttpResponse body, and some nifty PFM from Spring to auto-convert objects to JSON using Jackson.  I have even used (at)ResponseBody to return binary files, like images."}],"answers":[{"comments":[{"owner":{"account_id":330284,"reputation":521,"user_id":654308,"accept_rate":11,"display_name":"Eli Polonsky"},"score":0,"creation_date":1359016472,"post_id":14485140,"comment_id":20204415,"body_markdown":"the thing is that i want to avoid writing new Response() a lot of times. i want for the person implementing the controller methods to not have to be aware of the Response envelope, but just return a specific type and for interceptor to take that type and insert into the response envelope.","body":"the thing is that i want to avoid writing new Response() a lot of times. i want for the person implementing the controller methods to not have to be aware of the Response envelope, but just return a specific type and for interceptor to take that type and insert into the response envelope."},{"owner":{"account_id":330284,"reputation":521,"user_id":654308,"accept_rate":11,"display_name":"Eli Polonsky"},"score":0,"creation_date":1359043242,"post_id":14485140,"comment_id":20218719,"body_markdown":"thanks so much for the thorough reploy. but i really want to avoid a somewhat wrapper controller, plus i dont really like using reflection all that much. it looks like my best solution will come from something like what reidarok wrote below. can you share your insight on that maybe? thanks","body":"thanks so much for the thorough reploy. but i really want to avoid a somewhat wrapper controller, plus i dont really like using reflection all that much. it looks like my best solution will come from something like what reidarok wrote below. can you share your insight on that maybe? thanks"}],"tags":[],"owner":{"account_id":2035621,"reputation":29377,"user_id":1818045,"accept_rate":89,"display_name":"ben75"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1359020053,"creation_date":1358960276,"answer_id":14485140,"question_id":14484657,"body_markdown":"What you can do is having a `MyRestController` just wrapping the result in a `Response` like this:\r\n\r\n\r\n    @Controller\r\n    @RequestMapping(value = &quot;/mycontroller&quot;)\r\n    public class MyRestController {\r\n        \r\n        @Autowired\r\n        private MyController myController;\r\n\r\n        @RequestMapping(value = &quot;/details&quot;)\r\n        public @ResponseBody Response&lt;ServiceDetails&gt; getServiceDetails() {\r\n             return new Response(myController.getServiceDetails(),&quot;Operation OK&quot;);\r\n        }\r\n    }\r\n\r\nThis solution keep your original `MyController` independant from your REST code. It seems you need to include Jackson in your classpath so that Spring will auto-magically serialize to JSON (see [this][1] for details)\r\n\r\n**EDIT**\r\n\r\nIt seems you need something more generic... so here is a suggestion.\r\n\r\n    @Controller\r\n    @RequestMapping(value = &quot;/mycontroller&quot;)\r\n    public class MyGenericRestController {\r\n        \r\n        @Autowired\r\n        private MyController myController;\r\n\r\n        //this will match all &quot;/myController/*&quot;\r\n        @RequestMapping(value = &quot;/{operation}&quot;)\r\n        public @ResponseBody Response getGenericOperation(String @PathVariable operation) {\r\n              Method operationToInvoke = findMethodWithRequestMapping(operation);\r\n              Object responseBody = null;\r\n              try{\r\n                   responseBody = operationToInvoke.invoke(myController);\r\n              }catch(Exception e){\r\n                   e.printStackTrace();\r\n                   return new Response(null,&quot;operation failed&quot;);\r\n              }\r\n             return new Response(responseBody ,&quot;Operation OK&quot;);\r\n        }\r\n\r\n        private Method findMethodWithRequestMapping(String operation){\r\n             //TODO\r\n             //This method will use reflection to find a method annotated\r\n             //@RequestMapping(value=&lt;operation&gt;)\r\n             //in myController\r\n             return ...\r\n        }\r\n    }\r\n\r\nAnd keep your original &quot;myController&quot; almost as it was:\r\n\r\n    @Controller\r\n    public class MyController {\r\n\r\n        //this method is not expected to be called directly by spring MVC\r\n        @RequestMapping(value = &quot;/details&quot;)\r\n        public ServiceDetails getServiceDetails() {\r\n             return new ServiceDetails(&quot;MyService&quot;);\r\n        }\r\n    }\r\n\r\nMajor issue with this : the @RequestMapping in `MyController` need probably to be replaced by some custom annotation (and adapt `findMethodWithRequestMapping` to perform introspection on this custom annotation).\r\n  [1]: http://www.mkyong.com/spring-mvc/spring-3-mvc-and-json-example/","title":"How do I design a generic Response builder / RESTful Web Service using Spring MVC?","body":"<p>What you can do is having a <code>MyRestController</code> just wrapping the result in a <code>Response</code> like this:</p>\n\n<pre><code>@Controller\n@RequestMapping(value = \"/mycontroller\")\npublic class MyRestController {\n\n    @Autowired\n    private MyController myController;\n\n    @RequestMapping(value = \"/details\")\n    public @ResponseBody Response&lt;ServiceDetails&gt; getServiceDetails() {\n         return new Response(myController.getServiceDetails(),\"Operation OK\");\n    }\n}\n</code></pre>\n\n<p>This solution keep your original <code>MyController</code> independant from your REST code. It seems you need to include Jackson in your classpath so that Spring will auto-magically serialize to JSON (see <a href=\"http://www.mkyong.com/spring-mvc/spring-3-mvc-and-json-example/\" rel=\"nofollow\">this</a> for details)</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>It seems you need something more generic... so here is a suggestion.</p>\n\n<pre><code>@Controller\n@RequestMapping(value = \"/mycontroller\")\npublic class MyGenericRestController {\n\n    @Autowired\n    private MyController myController;\n\n    //this will match all \"/myController/*\"\n    @RequestMapping(value = \"/{operation}\")\n    public @ResponseBody Response getGenericOperation(String @PathVariable operation) {\n          Method operationToInvoke = findMethodWithRequestMapping(operation);\n          Object responseBody = null;\n          try{\n               responseBody = operationToInvoke.invoke(myController);\n          }catch(Exception e){\n               e.printStackTrace();\n               return new Response(null,\"operation failed\");\n          }\n         return new Response(responseBody ,\"Operation OK\");\n    }\n\n    private Method findMethodWithRequestMapping(String operation){\n         //TODO\n         //This method will use reflection to find a method annotated\n         //@RequestMapping(value=&lt;operation&gt;)\n         //in myController\n         return ...\n    }\n}\n</code></pre>\n\n<p>And keep your original \"myController\" almost as it was:</p>\n\n<pre><code>@Controller\npublic class MyController {\n\n    //this method is not expected to be called directly by spring MVC\n    @RequestMapping(value = \"/details\")\n    public ServiceDetails getServiceDetails() {\n         return new ServiceDetails(\"MyService\");\n    }\n}\n</code></pre>\n\n<p>Major issue with this : the @RequestMapping in <code>MyController</code> need probably to be replaced by some custom annotation (and adapt <code>findMethodWithRequestMapping</code> to perform introspection on this custom annotation).</p>\n"},{"comments":[{"owner":{"account_id":330284,"reputation":521,"user_id":654308,"accept_rate":11,"display_name":"Eli Polonsky"},"score":0,"creation_date":1359043421,"post_id":14502050,"comment_id":20218851,"body_markdown":"that looks nice. but that means this converter will be used for all of my controllers? i need it just for a specific one...is it possible? basically what i though was to override the MappingJacksonJsonView and using the custom view as the view for that specific controller, but that doesnt seem to work. spring always uses the default jackson view for some reason","body":"that looks nice. but that means this converter will be used for all of my controllers? i need it just for a specific one...is it possible? basically what i though was to override the MappingJacksonJsonView and using the custom view as the view for that specific controller, but that doesnt seem to work. spring always uses the default jackson view for some reason"},{"owner":{"account_id":49344,"reputation":361,"user_id":146870,"display_name":"reidarok"},"score":0,"creation_date":1359061809,"post_id":14502050,"comment_id":20228453,"body_markdown":"I&#39;m really not sure how to set a specific converter for just a single controller. Tedious, but maybe an acceptable solution would be to create a separate spring context (i.e. servlet) for this specific controller?","body":"I&#39;m really not sure how to set a specific converter for just a single controller. Tedious, but maybe an acceptable solution would be to create a separate spring context (i.e. servlet) for this specific controller?"}],"tags":[],"owner":{"account_id":49344,"reputation":361,"user_id":146870,"display_name":"reidarok"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1359032727,"creation_date":1359032727,"answer_id":14502050,"question_id":14484657,"body_markdown":"By default, Spring MVC uses org.springframework.http.converter.json.MappingJacksonHttpMessageConverter to serialize/deserialize JSON through Jackson.\r\n\r\nI&#39;m not sure if it&#39;s a great idea, but one way of solving your problem is to extend this class, and override the writeInternal method:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public class CustomMappingJacksonHttpMessageConverter extends MappingJacksonHttpMessageConverter {\r\n    \r\n        @Override\r\n        protected void writeInternal(Object object, HttpOutputMessage outputMessage) throws IOException, HttpMessageNotWritableException {\r\n            super.writeInternal(new Response(object, &quot;Operation OK&quot;), outputMessage);\r\n        }\r\n    }\r\n\r\nIf you&#39;re using XML configuration, you could enable the custom converter like this:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;mvc:annotation-driven&gt;\r\n        &lt;mvc:message-converters&gt;\r\n            &lt;bean class=&quot;path.to.CustomMappingJacksonHttpMessageConverter&quot;&gt;\r\n        &lt;/mvc:message-converters&gt;\r\n    &lt;/mvc:annotation-driven&gt;\r\n","title":"How do I design a generic Response builder / RESTful Web Service using Spring MVC?","body":"<p>By default, Spring MVC uses org.springframework.http.converter.json.MappingJacksonHttpMessageConverter to serialize/deserialize JSON through Jackson.</p>\n\n<p>I'm not sure if it's a great idea, but one way of solving your problem is to extend this class, and override the writeInternal method:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomMappingJacksonHttpMessageConverter extends MappingJacksonHttpMessageConverter {\n\n    @Override\n    protected void writeInternal(Object object, HttpOutputMessage outputMessage) throws IOException, HttpMessageNotWritableException {\n        super.writeInternal(new Response(object, \"Operation OK\"), outputMessage);\n    }\n}\n</code></pre>\n\n<p>If you're using XML configuration, you could enable the custom converter like this:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;mvc:annotation-driven&gt;\n    &lt;mvc:message-converters&gt;\n        &lt;bean class=\"path.to.CustomMappingJacksonHttpMessageConverter\"&gt;\n    &lt;/mvc:message-converters&gt;\n&lt;/mvc:annotation-driven&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5827480,"reputation":911,"user_id":4593280,"display_name":"vkstream"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666910828,"creation_date":1666910828,"answer_id":74229023,"question_id":14484657,"body_markdown":"Try the below solution.\r\n\r\n\r\n\r\n 1. Create a separate class such **ResponseEnvelop**. It must implement ResponseBodyAdvice&lt;Object&gt; interface.\r\n 2. Annotate the above class with ***@ControllerAdvice***\r\n 3. Autowire **HttpServletRequest**\r\n 4. Override methods according to your requirement. Take reference from below.\r\n\r\n\r\n\r\n\r\n----------\r\n   \r\n     @Override\r\n      public boolean supports(\r\n          MethodParameter returnType, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType) {\r\n        if (httpServletRequest.getRequestURI().startsWith(&quot;/api&quot;)) {\r\n          return true;\r\n        }\r\n        return false;\r\n      }\r\n\r\n    @Override\r\n      public Object beforeBodyWrite(\r\n          Object body,\r\n          MethodParameter returnType,\r\n          MediaType selectedContentType,\r\n          Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType,\r\n          ServerHttpRequest request,\r\n          ServerHttpResponse response) {\r\n    \r\n        if (((ServletServerHttpResponse) response).getServletResponse().getStatus()\r\n                == HttpStatus.OK.value()\r\n            || ((ServletServerHttpResponse) response).getServletResponse().getStatus()\r\n                == HttpStatus.CREATED.value()) {\r\n          return new EntityResponse(Constants.SUCCESS, body);\r\n        }\r\n        return body;\r\n      }\r\n\r\n","title":"How do I design a generic Response builder / RESTful Web Service using Spring MVC?","body":"<p>Try the below solution.</p>\n<ol>\n<li>Create a separate class such <strong>ResponseEnvelop</strong>. It must implement ResponseBodyAdvice interface.</li>\n<li>Annotate the above class with <em><strong>@ControllerAdvice</strong></em></li>\n<li>Autowire <strong>HttpServletRequest</strong></li>\n<li>Override methods according to your requirement. Take reference from below.</li>\n</ol>\n<hr />\n<pre><code> @Override\n  public boolean supports(\n      MethodParameter returnType, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType) {\n    if (httpServletRequest.getRequestURI().startsWith(&quot;/api&quot;)) {\n      return true;\n    }\n    return false;\n  }\n\n@Override\n  public Object beforeBodyWrite(\n      Object body,\n      MethodParameter returnType,\n      MediaType selectedContentType,\n      Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType,\n      ServerHttpRequest request,\n      ServerHttpResponse response) {\n\n    if (((ServletServerHttpResponse) response).getServletResponse().getStatus()\n            == HttpStatus.OK.value()\n        || ((ServletServerHttpResponse) response).getServletResponse().getStatus()\n            == HttpStatus.CREATED.value()) {\n      return new EntityResponse(Constants.SUCCESS, body);\n    }\n    return body;\n  }\n</code></pre>\n"}],"owner":{"account_id":330284,"reputation":521,"user_id":654308,"accept_rate":11,"display_name":"Eli Polonsky"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16674,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":3,"score":10,"last_activity_date":1700827245,"creation_date":1358958952,"question_id":14484657,"body_markdown":"Trying to build a RESTful web service using Spring MVC. \r\n\r\nThe controller should return specific Java types, but the response body must be a generic envelope.  How can this be done?  \r\n\r\nThe following sections of code are what I have so far:\r\n\r\nController method:\r\n\r\n        @Controller\r\n        @RequestMapping(value = &quot;/mycontroller&quot;)\r\n        public class MyController {\r\n            \r\n            public ServiceDetails getServiceDetails() {\r\n                 return new ServiceDetails(&quot;MyService&quot;);\r\n            }\r\n        }\r\n\r\nResponse envelope:\r\n\r\n        public class Response&lt;T&gt; {\r\n            \r\n            private String message;\r\n            private T responseBody;\r\n\r\n        }\r\n\r\n`ServiceDetails` code:\r\n\r\n        public class ServiceDetails {\r\n            \r\n            private String serviceName;\r\n\r\n            public ServiceDetails(String serviceName) {\r\n                this.serviceName = serviceName;\r\n            }\r\n        }\r\n\r\nIntended final response to clients should appear as:\r\n\r\n       {\r\n\r\n         &quot;message&quot; : &quot;Operation OK&quot;\r\n         &quot;responseBody&quot; : {\r\n                            &quot;serviceName&quot; : &quot;MyService&quot;\r\n                          }\r\n\r\n       }  ","title":"How do I design a generic Response builder / RESTful Web Service using Spring MVC?","body":"<p>Trying to build a RESTful web service using Spring MVC. </p>\n\n<p>The controller should return specific Java types, but the response body must be a generic envelope.  How can this be done?  </p>\n\n<p>The following sections of code are what I have so far:</p>\n\n<p>Controller method:</p>\n\n<pre><code>    @Controller\n    @RequestMapping(value = \"/mycontroller\")\n    public class MyController {\n\n        public ServiceDetails getServiceDetails() {\n             return new ServiceDetails(\"MyService\");\n        }\n    }\n</code></pre>\n\n<p>Response envelope:</p>\n\n<pre><code>    public class Response&lt;T&gt; {\n\n        private String message;\n        private T responseBody;\n\n    }\n</code></pre>\n\n<p><code>ServiceDetails</code> code:</p>\n\n<pre><code>    public class ServiceDetails {\n\n        private String serviceName;\n\n        public ServiceDetails(String serviceName) {\n            this.serviceName = serviceName;\n        }\n    }\n</code></pre>\n\n<p>Intended final response to clients should appear as:</p>\n\n<pre><code>   {\n\n     \"message\" : \"Operation OK\"\n     \"responseBody\" : {\n                        \"serviceName\" : \"MyService\"\n                      }\n\n   }  \n</code></pre>\n"},{"tags":["java","javascript","jquery","html","struts-1"],"comments":[{"owner":{"account_id":3578815,"reputation":715,"user_id":2987484,"display_name":"dev"},"score":1,"creation_date":1385447013,"post_id":20209487,"comment_id":30135062,"body_markdown":"There is no placeholder tag in struts.use HTML5 input type tag instead.","body":"There is no placeholder tag in struts.use HTML5 input type tag instead."},{"owner":{"display_name":"user2860053"},"score":0,"creation_date":1385447173,"post_id":20209487,"comment_id":30135121,"body_markdown":"You are write @Purnendu","body":"You are write @Purnendu"},{"owner":{"account_id":465863,"reputation":41382,"user_id":870248,"accept_rate":100,"display_name":"Paul Vargas"},"score":0,"creation_date":1385495671,"post_id":20209487,"comment_id":30163620,"body_markdown":"@KannanPriya You can use simple HTML. No need to add anything extra.","body":"@KannanPriya You can use simple HTML. No need to add anything extra."},{"owner":{"account_id":3019457,"reputation":3814,"user_id":2560836,"accept_rate":80,"display_name":"Chris311"},"score":0,"creation_date":1654247673,"post_id":20209487,"comment_id":128050519,"body_markdown":"Alternatively a tooltip might be a solution as well.\n&lt;html:text property=&quot;name&quot; styleClass=&quot;form-control&quot; title=&quot;some text&quot;/&gt;","body":"Alternatively a tooltip might be a solution as well. &lt;html:text property=&quot;name&quot; styleClass=&quot;form-control&quot; title=&quot;some text&quot;/&gt;"}],"answers":[{"tags":[],"owner":{"account_id":2436173,"reputation":5566,"user_id":2126023,"accept_rate":85,"display_name":"Saif Asif"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1385446699,"creation_date":1385445705,"answer_id":20209626,"question_id":20209487,"body_markdown":"There is a placeholder attribute in struts tags as well called placeholder\r\n\r\n    &lt;s:form action=&quot;Welcome&quot;&gt;\r\n\t  &lt;s:textfield name=&quot;username&quot; label=&quot;Username&quot; placeholder=&quot;Enter Your Name&quot; /&gt;\r\n\t  &lt;s:password name=&quot;password&quot; label=&quot;Password&quot; placeholder=&quot;Password&quot;/&gt;\r\n\t  &lt;s:submit/&gt;\r\n    &lt;/s:form&gt;\r\n\r\n**Edit**\r\n \r\nThere isn&#39;t an attribute with the name placeholder (sorry for the confusion), but if you type in placeholder like my code sample, the struts form will be evaluated as below\r\n\r\n    &lt;form id=&quot;Welcome&quot; name=&quot;Welcome&quot; action=&quot;/User/Welcome.action&quot; method=&quot;post&quot;&gt;\r\n      &lt;input type=&quot;text&quot; name=&quot;username&quot; value=&quot;&quot; id=&quot;Welcome_username&quot; placeholder=&quot;Enter your Name&quot;&gt;\r\n      &lt;input type=&quot;password&quot; name=&quot;password&quot; id=&quot;Welcome_password&quot; placeholder=&quot;Password&quot;&gt;\r\n    &lt;/form&gt;\r\n\r\nIf you notice, the placeholder attribute renders up just fine with the complete form","title":"How can I put a placeholder in a struts textfield tag?","body":"<p>There is a placeholder attribute in struts tags as well called placeholder</p>\n\n<pre><code>&lt;s:form action=\"Welcome\"&gt;\n  &lt;s:textfield name=\"username\" label=\"Username\" placeholder=\"Enter Your Name\" /&gt;\n  &lt;s:password name=\"password\" label=\"Password\" placeholder=\"Password\"/&gt;\n  &lt;s:submit/&gt;\n&lt;/s:form&gt;\n</code></pre>\n\n<p><strong>Edit</strong></p>\n\n<p>There isn't an attribute with the name placeholder (sorry for the confusion), but if you type in placeholder like my code sample, the struts form will be evaluated as below</p>\n\n<pre><code>&lt;form id=\"Welcome\" name=\"Welcome\" action=\"/User/Welcome.action\" method=\"post\"&gt;\n  &lt;input type=\"text\" name=\"username\" value=\"\" id=\"Welcome_username\" placeholder=\"Enter your Name\"&gt;\n  &lt;input type=\"password\" name=\"password\" id=\"Welcome_password\" placeholder=\"Password\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>If you notice, the placeholder attribute renders up just fine with the complete form</p>\n"},{"tags":[],"owner":{"account_id":1056525,"reputation":74395,"user_id":1059101,"accept_rate":100,"display_name":"Jai"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1385446898,"creation_date":1385446898,"answer_id":20209895,"question_id":20209487,"body_markdown":"You can try with jQuery to add this attribute when document gets ready:\r\n\r\n    &lt;html:text property=&quot;name&quot; styleClass=&quot;form-control&quot; styleId=&quot;xyz&quot; /&gt;\r\n\r\nthen try adding this jquery:\r\n\r\n    $(function(){\r\n        $(&#39;:input&#39;).each(function(){\r\n           $(this).attr(&quot;placeholder&quot;, this.id);\r\n        });\r\n    });\r\n\r\nor [this answer could help you.](https://stackoverflow.com/a/11827697/1059101)","title":"How can I put a placeholder in a struts textfield tag?","body":"<p>You can try with jQuery to add this attribute when document gets ready:</p>\n\n<pre><code>&lt;html:text property=\"name\" styleClass=\"form-control\" styleId=\"xyz\" /&gt;\n</code></pre>\n\n<p>then try adding this jquery:</p>\n\n<pre><code>$(function(){\n    $(':input').each(function(){\n       $(this).attr(\"placeholder\", this.id);\n    });\n});\n</code></pre>\n\n<p>or <a href=\"https://stackoverflow.com/a/11827697/1059101\">this answer could help you.</a></p>\n"},{"tags":[],"owner":{"account_id":972494,"reputation":10834,"user_id":994737,"accept_rate":40,"display_name":"rajesh kakawat"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1386188810,"creation_date":1385447069,"answer_id":20209937,"question_id":20209487,"body_markdown":"Use jQuery `attr` like below:\r\n\r\n    &lt;html:text property=&quot;name&quot; styleClass=&quot;form-control&quot; styleId=&quot;abc&quot; /&gt;\r\n\r\nJavaScript code:\r\n\r\n    $(function() {\r\n\t\t$(&quot;#abc&quot;).attr(&quot;placeholder&quot;, &quot;some text&quot;);\r\n    });\r\n\r\n    ","title":"How can I put a placeholder in a struts textfield tag?","body":"<p>Use jQuery <code>attr</code> like below:</p>\n\n<pre><code>&lt;html:text property=\"name\" styleClass=\"form-control\" styleId=\"abc\" /&gt;\n</code></pre>\n\n<p>JavaScript code:</p>\n\n<pre><code>$(function() {\n    $(\"#abc\").attr(\"placeholder\", \"some text\");\n});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":463980,"reputation":6172,"user_id":867206,"accept_rate":14,"display_name":"Ajay Takur"},"score":0,"creation_date":1477735919,"post_id":20226627,"comment_id":67892225,"body_markdown":"Replacing the struts html tag with normal html tag will result in Struts provided default functionalities(i18n and many more) will be lost.","body":"Replacing the struts html tag with normal html tag will result in Struts provided default functionalities(i18n and many more) will be lost."}],"tags":[],"owner":{"account_id":465863,"reputation":41382,"user_id":870248,"accept_rate":100,"display_name":"Paul Vargas"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1386188706,"creation_date":1385495557,"answer_id":20226627,"question_id":20209487,"body_markdown":"Just replace:\r\n\r\n    &lt;html:text property=&quot;name&quot; styleClass=&quot;form-control&quot; placeholder=&quot;some text&quot; /&gt;\r\n\r\n\r\nWith:\r\n\r\n    &lt;input type=&quot;text&quot; name=&quot;property&quot; class=&quot;form-control&quot; placeholder=&quot;some text&quot;\r\n                                 \r\n                                  Form property \r\n                                                        \r\n           value=&quot;&lt;bean:write name=&quot;name&quot; property=&quot;property&quot; /&gt;&quot; /&gt;\r\n                                                      \r\n                   Name of form-bean                 \r\n                                \r\n\r\nThe value of the attribute `name` must match the property of your form to *trip* in the request.","title":"How can I put a placeholder in a struts textfield tag?","body":"<p>Just replace:</p>\n\n<pre><code>&lt;html:text property=\"name\" styleClass=\"form-control\" placeholder=\"some text\" /&gt;\n</code></pre>\n\n<p>With:</p>\n\n<pre><code>&lt;input type=\"text\" name=\"property\" class=\"form-control\" placeholder=\"some text\"\n                             \n                              Form property \n                                                    \n       value=\"&lt;bean:write name=\"name\" property=\"property\" /&gt;\" /&gt;\n                                                  \n               Name of form-bean                 \n</code></pre>\n\n<p>The value of the attribute <code>name</code> must match the property of your form to <em>trip</em> in the request.</p>\n"},{"tags":[],"owner":{"account_id":5003517,"reputation":1,"user_id":4021777,"display_name":"NEERAJ TANDON"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1410245677,"creation_date":1410245634,"answer_id":25738338,"question_id":20209487,"body_markdown":"A simple alternative using javascript event is as follows :\r\n\r\n    &lt;html:text property=&quot;username&quot; value=&quot;Username&quot; onclick=&quot;this.value=&#39;&#39;&quot; /&gt;","title":"How can I put a placeholder in a struts textfield tag?","body":"<p>A simple alternative using javascript event is as follows :</p>\n\n<pre><code>&lt;html:text property=\"username\" value=\"Username\" onclick=\"this.value=''\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29982876,"reputation":1,"user_id":22977489,"display_name":"Leonardo Archini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700826504,"creation_date":1700826504,"answer_id":77542911,"question_id":20209487,"body_markdown":"Similar to something written above in jQuery, you can try with javascript :\r\n\r\n    &lt;html:text property=&quot;name&quot; styleClass=&quot;form-control&quot; styleId=&quot;myId&quot; /&gt;\r\n    &lt;script type=&quot;text/javascript&quot;&gt;\r\n        document.getElementById(&#39;myId&#39;).setAttribute(&quot;placeholder&quot;, &quot;my personal placeholder&quot;);\r\n    &lt;/script&gt;\t","title":"How can I put a placeholder in a struts textfield tag?","body":"<p>Similar to something written above in jQuery, you can try with javascript :</p>\n<pre><code>&lt;html:text property=&quot;name&quot; styleClass=&quot;form-control&quot; styleId=&quot;myId&quot; /&gt;\n&lt;script type=&quot;text/javascript&quot;&gt;\n    document.getElementById('myId').setAttribute(&quot;placeholder&quot;, &quot;my personal placeholder&quot;);\n&lt;/script&gt;   \n</code></pre>\n"}],"owner":{"account_id":3318484,"reputation":1119,"user_id":2790207,"accept_rate":33,"display_name":"Kannan Arumugam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19149,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":20209937,"answer_count":6,"score":18,"last_activity_date":1700826504,"creation_date":1385445112,"question_id":20209487,"body_markdown":"i got error because am using placeholder attribute in struts tags....\r\n\r\n`&lt;html:text property=&quot;name&quot; styleClass=&quot;form-control&quot; placeholder=&quot;some text&quot;/&gt;`\r\n\r\nhow can resolve the problem,pls help me.\r\n\r\nThanks in Advance.","title":"How can I put a placeholder in a struts textfield tag?","body":"<p>i got error because am using placeholder attribute in struts tags....</p>\n\n<p><code>&lt;html:text property=\"name\" styleClass=\"form-control\" placeholder=\"some text\"/&gt;</code></p>\n\n<p>how can resolve the problem,pls help me.</p>\n\n<p>Thanks in Advance.</p>\n"},{"tags":["java","string","character","alphanumeric"],"comments":[{"owner":{"account_id":182820,"reputation":5625,"user_id":417791,"accept_rate":96,"display_name":"Wojciech Owczarczyk"},"score":1,"creation_date":1322078183,"post_id":8248277,"comment_id":10148203,"body_markdown":"http://stackoverflow.com/questions/1795402/java-check-a-string-if-there-is-a-special-character-in-it","body":"<a href=\"http://stackoverflow.com/questions/1795402/java-check-a-string-if-there-is-a-special-character-in-it\" title=\"java check a string if there is a special character in it\">stackoverflow.com/questions/1795402/&hellip;</a>"},{"owner":{"account_id":450732,"reputation":43639,"user_id":1206051,"accept_rate":70,"display_name":"treecoder"},"score":0,"creation_date":1398996907,"post_id":8248277,"comment_id":35889455,"body_markdown":"http://stackoverflow.com/questions/11241690/regex-for-checking-if-a-string-is-strictly-alphanumeric","body":"<a href=\"http://stackoverflow.com/questions/11241690/regex-for-checking-if-a-string-is-strictly-alphanumeric\" title=\"regex for checking if a string is strictly alphanumeric\">stackoverflow.com/questions/11241690/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":315100,"reputation":2105,"user_id":630686,"accept_rate":73,"display_name":"Abhishek"},"score":1,"creation_date":1407325955,"post_id":8248315,"comment_id":39168652,"body_markdown":"For example, &quot;-1234&quot; is a number, not an alphanumeric string. But your logic Character.isDigit will return false for &quot;-&quot;. :(","body":"For example, &quot;-1234&quot; is a number, not an alphanumeric string. But your logic Character.isDigit will return false for &quot;-&quot;. :("},{"owner":{"account_id":8110288,"reputation":1297,"user_id":6110631,"accept_rate":100,"display_name":"InterLinked"},"score":0,"creation_date":1531590653,"post_id":8248315,"comment_id":89657309,"body_markdown":"I think it is Character.isLetter not Character.isletter","body":"I think it is Character.isLetter not Character.isletter"}],"tags":[],"owner":{"account_id":1004269,"reputation":4294,"user_id":1018419,"display_name":"Mechkov"},"comment_count":2,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1322078253,"creation_date":1322078253,"answer_id":8248315,"question_id":8248277,"body_markdown":"You have to go through each character in the String and check `Character.isDigit(char);` or `Character.isletter(char);`\r\n\r\nAlternatively, you can use regex.","title":"How to determine if a String has non-alphanumeric characters?","body":"<p>You have to go through each character in the String and check <code>Character.isDigit(char);</code> or <code>Character.isletter(char);</code></p>\n\n<p>Alternatively, you can use regex.</p>\n"},{"tags":[],"owner":{"account_id":82701,"reputation":2446,"user_id":232328,"display_name":"Shaun"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1437398981,"creation_date":1322078407,"answer_id":8248343,"question_id":8248277,"body_markdown":"If you can use the Apache Commons library, then Commons-Lang `StringUtils` has a method called `isAlphanumeric()` that does what you&#39;re looking for.","title":"How to determine if a String has non-alphanumeric characters?","body":"<p>If you can use the Apache Commons library, then Commons-Lang <code>StringUtils</code> has a method called <code>isAlphanumeric()</code> that does what you're looking for.</p>\n"},{"comments":[{"owner":{"account_id":1020478,"reputation":1055,"user_id":1030956,"accept_rate":53,"display_name":"lugeno"},"score":7,"creation_date":1322083146,"post_id":8248352,"comment_id":10149614,"body_markdown":"I would like to avoid importing external libraries if not strictly necessary. And yes: I want &#224; to be considered as non alphanumeric.","body":"I would like to avoid importing external libraries if not strictly necessary. And yes: I want &#224; to be considered as non alphanumeric."},{"owner":{"account_id":12917853,"reputation":997,"user_id":9341434,"display_name":"Brooklyn99"},"score":0,"creation_date":1611543006,"post_id":8248352,"comment_id":116477218,"body_markdown":"a *side note:* unrelated but just to remind ```StringUtils.isAlphaNumeric(&quot;abc&quot;);``` returns ```true``` if the str contains only alphabets.","body":"a <i>side note:</i> unrelated but just to remind <code>StringUtils.isAlphaNumeric(&quot;abc&quot;);</code> returns <code>true</code> if the str contains only alphabets."}],"tags":[],"owner":{"account_id":284516,"reputation":14349,"user_id":582675,"accept_rate":75,"display_name":"Fabian Barney"},"comment_count":2,"down_vote_count":0,"up_vote_count":164,"is_accepted":true,"score":164,"last_activity_date":1322080743,"creation_date":1322078443,"answer_id":8248352,"question_id":8248277,"body_markdown":"Using Apache Commons Lang:\r\n\r\n    !StringUtils.isAlphanumeric(String)\r\n\r\nAlternativly iterate over String&#39;s characters and check with:\r\n\r\n    !Character.isLetterOrDigit(char)\r\n\r\nYou&#39;ve still one problem left:\r\nYour example string &quot;abcdef&#224;&quot; is alphanumeric, since `&#224;` is a letter. But I think you want it to be considered non-alphanumeric, right?!\r\n\r\nSo you may want to use regular expression instead:\r\n\r\n\tString s = &quot;abcdef&#224;&quot;;\r\n\tPattern p = Pattern.compile(&quot;[^a-zA-Z0-9]&quot;);\r\n\tboolean hasSpecialChar = p.matcher(s).find();","title":"How to determine if a String has non-alphanumeric characters?","body":"<p>Using Apache Commons Lang:</p>\n\n<pre><code>!StringUtils.isAlphanumeric(String)\n</code></pre>\n\n<p>Alternativly iterate over String's characters and check with:</p>\n\n<pre><code>!Character.isLetterOrDigit(char)\n</code></pre>\n\n<p>You've still one problem left:\nYour example string \"abcdef\" is alphanumeric, since <code></code> is a letter. But I think you want it to be considered non-alphanumeric, right?!</p>\n\n<p>So you may want to use regular expression instead:</p>\n\n<pre><code>String s = \"abcdef\";\nPattern p = Pattern.compile(\"[^a-zA-Z0-9]\");\nboolean hasSpecialChar = p.matcher(s).find();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":284516,"reputation":14349,"user_id":582675,"accept_rate":75,"display_name":"Fabian Barney"},"score":0,"creation_date":1322078913,"post_id":8248376,"comment_id":10148377,"body_markdown":"+1: regex is here the winner I think since the OP does not really want to check for alphanumeric characters. He wants sth. like `hasSpecialCharacters(String)` with his own definition of &quot;special&quot;.","body":"+1: regex is here the winner I think since the OP does not really want to check for alphanumeric characters. He wants sth. like <code>hasSpecialCharacters(String)</code> with his own definition of &quot;special&quot;."},{"owner":{"account_id":953149,"reputation":177303,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"score":2,"creation_date":1322079618,"post_id":8248376,"comment_id":10148574,"body_markdown":"That won&#39;t quite work: `String.matches(...)` in Java checks if the regex matches the *whole* string.","body":"That won&#39;t quite work: <code>String.matches(...)</code> in Java checks if the regex matches the <i>whole</i> string."},{"owner":{"account_id":2273141,"reputation":353,"user_id":2000057,"accept_rate":33,"display_name":"Isaak Osipovich Dunayevsky"},"score":0,"creation_date":1527835798,"post_id":8248376,"comment_id":88285136,"body_markdown":"`boolean hasNonAlpha = !  ^[A-Za-z0-9 ]*$`","body":"<code>boolean hasNonAlpha = !  ^[A-Za-z0-9 ]*$</code>"}],"tags":[],"owner":{"account_id":970479,"reputation":1922,"user_id":993126,"accept_rate":50,"display_name":"loscuropresagio"},"comment_count":3,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1322080807,"creation_date":1322078596,"answer_id":8248376,"question_id":8248277,"body_markdown":"One approach is to do that using the String class itself.\r\nLet&#39;s say that your string is something like that:\r\n\r\n    String s = &quot;some text&quot;;\r\n    boolean hasNonAlpha = s.matches(&quot;^.*[^a-zA-Z0-9 ].*$&quot;);\r\n\r\none other is to use an external library, such as Apache commons:\r\n\r\n    String s = &quot;some text&quot;;\r\n    boolean hasNonAlpha = !StringUtils.isAlphanumeric(s);\r\n","title":"How to determine if a String has non-alphanumeric characters?","body":"<p>One approach is to do that using the String class itself.\nLet's say that your string is something like that:</p>\n\n<pre><code>String s = \"some text\";\nboolean hasNonAlpha = s.matches(\"^.*[^a-zA-Z0-9 ].*$\");\n</code></pre>\n\n<p>one other is to use an external library, such as Apache commons:</p>\n\n<pre><code>String s = \"some text\";\nboolean hasNonAlpha = !StringUtils.isAlphanumeric(s);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3749204,"reputation":39,"user_id":3117125,"display_name":"nike4613"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1437509880,"creation_date":1437509880,"answer_id":31548814,"question_id":8248277,"body_markdown":"`string.matches(&quot;^\\\\W*$&quot;);` should do what you want, but it does not include whitespace. `string.matches(&quot;^(?:\\\\W|\\\\s)*$&quot;);` does match whitespace as well.","title":"How to determine if a String has non-alphanumeric characters?","body":"<p><code>string.matches(\"^\\\\W*$\");</code> should do what you want, but it does not include whitespace. <code>string.matches(\"^(?:\\\\W|\\\\s)*$\");</code> does match whitespace as well.</p>\n"},{"tags":[],"owner":{"account_id":3657924,"reputation":1867,"user_id":3048431,"display_name":"Oguz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500412339,"creation_date":1500412339,"answer_id":45177172,"question_id":8248277,"body_markdown":"You can use isLetter(char c) static method of Character class in Java.lang .\r\n\r\n\tpublic boolean isAlpha(String s) {\r\n\t\tchar[] charArr = s.toCharArray();\r\n\t\t\r\n\t\tfor(char c : charArr) {\r\n\t\t\tif(!Character.isLetter(c)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}","title":"How to determine if a String has non-alphanumeric characters?","body":"<p>You can use isLetter(char c) static method of Character class in Java.lang .</p>\n\n<pre><code>public boolean isAlpha(String s) {\n    char[] charArr = s.toCharArray();\n\n    for(char c : charArr) {\n        if(!Character.isLetter(c)) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2856521,"reputation":7352,"user_id":2452680,"accept_rate":68,"display_name":"Dan Bray"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1508681715,"creation_date":1508681715,"answer_id":46875081,"question_id":8248277,"body_markdown":"Use this function to check if a string is alphanumeric:\r\n\r\n    public boolean isAlphanumeric(String str)\r\n    {\r\n        char[] charArray = str.toCharArray();\r\n        for(char c:charArray)\r\n        {\r\n            if (!Character.isLetterOrDigit(c))\r\n                return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\nIt saves having to import external libraries and the code can easily be modified should you later wish to perform different validation checks on strings.","title":"How to determine if a String has non-alphanumeric characters?","body":"<p>Use this function to check if a string is alphanumeric:</p>\n\n<pre><code>public boolean isAlphanumeric(String str)\n{\n    char[] charArray = str.toCharArray();\n    for(char c:charArray)\n    {\n        if (!Character.isLetterOrDigit(c))\n            return false;\n    }\n    return true;\n}\n</code></pre>\n\n<p>It saves having to import external libraries and the code can easily be modified should you later wish to perform different validation checks on strings.</p>\n"},{"tags":[],"owner":{"account_id":8114310,"reputation":363,"user_id":7946599,"display_name":"Abhishek Choudhary"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594969624,"creation_date":1594969624,"answer_id":62948845,"question_id":8248277,"body_markdown":"Though it won&#39;t work for numbers, you can check if the lowercase and uppercase values are same or not, For non-alphabetic characters they will be same, You should check for number before this for better usability","title":"How to determine if a String has non-alphanumeric characters?","body":"<p>Though it won't work for numbers, you can check if the lowercase and uppercase values are same or not, For non-alphabetic characters they will be same, You should check for number before this for better usability</p>\n"},{"tags":[],"owner":{"account_id":26749316,"reputation":11,"user_id":20348947,"display_name":"TheLittleChimp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700826473,"creation_date":1698306674,"answer_id":77365083,"question_id":8248277,"body_markdown":"I had to check a string contains at least 1 letter and 1 digit - my solution below    \r\n\r\n    /**\r\n     * &lt;p&gt;Checks if the String contains both letters and digits.&lt;/p&gt;\r\n     *\r\n     * &lt;p&gt;{@code null} will return {@code false}.\r\n     * An empty String str.isEmpty() will return {@code false}.&lt;/p&gt;\r\n     *\r\n     * @param str the String to check, may be null\r\n     * @return {@code true} if only contains letters and digits,\r\n     * and is non-null or not empty\r\n     */\r\n    public static boolean isAlphaAndNumeric(String str) {\r\n        if (str == null || str.isEmpty()) {\r\n            return false;\r\n        }\r\n\r\n        Pattern pattern = Pattern.compile(&quot;^[a-zA-Z0-9]*$&quot;);\r\n        boolean containsSpecialChars = !pattern.matcher(str).matches();\r\n        if (containsSpecialChars) {\r\n            return false;\r\n        }\r\n        \r\n        boolean containsLetter = false;\r\n        boolean containsDigit = false;\r\n        char[] chars = str.toCharArray();\r\n        int i = 0;\r\n        while (i &lt; chars.length) {\r\n            if (Character.isLetter(chars[i])) {\r\n                containsLetter = true;\r\n            }\r\n            if (Character.isDigit(chars[i])) {\r\n                containsDigit = true;\r\n            }\r\n            i++;\r\n            if (containsDigit &amp;&amp; containsLetter) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }","title":"How to determine if a String has non-alphanumeric characters?","body":"<p>I had to check a string contains at least 1 letter and 1 digit - my solution below</p>\n<pre><code>/**\n * &lt;p&gt;Checks if the String contains both letters and digits.&lt;/p&gt;\n *\n * &lt;p&gt;{@code null} will return {@code false}.\n * An empty String str.isEmpty() will return {@code false}.&lt;/p&gt;\n *\n * @param str the String to check, may be null\n * @return {@code true} if only contains letters and digits,\n * and is non-null or not empty\n */\npublic static boolean isAlphaAndNumeric(String str) {\n    if (str == null || str.isEmpty()) {\n        return false;\n    }\n\n    Pattern pattern = Pattern.compile(&quot;^[a-zA-Z0-9]*$&quot;);\n    boolean containsSpecialChars = !pattern.matcher(str).matches();\n    if (containsSpecialChars) {\n        return false;\n    }\n    \n    boolean containsLetter = false;\n    boolean containsDigit = false;\n    char[] chars = str.toCharArray();\n    int i = 0;\n    while (i &lt; chars.length) {\n        if (Character.isLetter(chars[i])) {\n            containsLetter = true;\n        }\n        if (Character.isDigit(chars[i])) {\n            containsDigit = true;\n        }\n        i++;\n        if (containsDigit &amp;&amp; containsLetter) {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n"}],"owner":{"account_id":1020478,"reputation":1055,"user_id":1030956,"accept_rate":53,"display_name":"lugeno"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250870,"favorite_count":0,"down_vote_count":2,"up_vote_count":85,"accepted_answer_id":8248352,"answer_count":9,"score":83,"last_activity_date":1700826473,"creation_date":1322078037,"question_id":8248277,"body_markdown":"I need a method that can tell me if a String has non alphanumeric characters.\r\n\r\nFor example if the String is &quot;abcdef?&quot; or &quot;abcdef&#224;&quot;, the method must return true.\r\n","title":"How to determine if a String has non-alphanumeric characters?","body":"<p>I need a method that can tell me if a String has non alphanumeric characters.</p>\n\n<p>For example if the String is \"abcdef?\" or \"abcdef\", the method must return true.</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud-gateway"],"answers":[{"tags":[],"owner":{"account_id":15026563,"reputation":117,"user_id":10846199,"display_name":"alexey kurbatov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700826344,"creation_date":1700826344,"answer_id":77542892,"question_id":77482576,"body_markdown":"Had a similar issue. I tried to configure DedupeResponseHeader in yml config but this filter was not appling to my routes. I did not find why and decided to configure DedupeResponseHeader in code. This is how my routing config looks like:\r\n\r\n    @Configuration\r\n    public class RoutingConfig {\r\n\r\n    @Bean\r\n    public RouteLocator routing(RouteLocatorBuilder builder) {\r\n        return builder.routes()\r\n            .route(r -&gt; r.path(&quot;/api/v1/orders/**&quot;).filters(dedupeResponseHeaders()).uri(&quot;http://example.com&quot;))\r\n            .build();\r\n    }\r\n\r\n    /**\r\n     * To remove duplicated CORS headers which might appear because they added by gateway and by downstream service\r\n     */\r\n    private Function&lt;GatewayFilterSpec, UriSpec&gt; dedupeResponseHeaders() {\r\n        String strategy = DedupeResponseHeaderGatewayFilterFactory.Strategy.RETAIN_FIRST.name();\r\n        return f -&gt; f.dedupeResponseHeader(HttpHeaders.ACCESS_CONTROL_ALLOW_ORIGIN, strategy)\r\n            .dedupeResponseHeader(HttpHeaders.ACCESS_CONTROL_ALLOW_CREDENTIALS, strategy);\r\n    }\r\n\r\n}","title":"DedupeResponseHeader In Spring boot Gateway not working","body":"<p>Had a similar issue. I tried to configure DedupeResponseHeader in yml config but this filter was not appling to my routes. I did not find why and decided to configure DedupeResponseHeader in code. This is how my routing config looks like:</p>\n<pre><code>@Configuration\npublic class RoutingConfig {\n\n@Bean\npublic RouteLocator routing(RouteLocatorBuilder builder) {\n    return builder.routes()\n        .route(r -&gt; r.path(&quot;/api/v1/orders/**&quot;).filters(dedupeResponseHeaders()).uri(&quot;http://example.com&quot;))\n        .build();\n}\n\n/**\n * To remove duplicated CORS headers which might appear because they added by gateway and by downstream service\n */\nprivate Function&lt;GatewayFilterSpec, UriSpec&gt; dedupeResponseHeaders() {\n    String strategy = DedupeResponseHeaderGatewayFilterFactory.Strategy.RETAIN_FIRST.name();\n    return f -&gt; f.dedupeResponseHeader(HttpHeaders.ACCESS_CONTROL_ALLOW_ORIGIN, strategy)\n        .dedupeResponseHeader(HttpHeaders.ACCESS_CONTROL_ALLOW_CREDENTIALS, strategy);\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":29688360,"reputation":1,"user_id":22753282,"display_name":"Nguyen Andrew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1700826344,"creation_date":1699982245,"question_id":77482576,"body_markdown":"i had a problem while trying to configure my gateway in spring cloud, I have added the following code in the yml file:\r\n```\r\nspring:\r\n  main:\r\n    allow-bean-definition-overriding: true\r\n  application:\r\n    name: &quot;gateway&quot;\r\n  cloud:\r\n    gateway:\r\n      default-filters:\r\n        - DedupeResponseHeader=Access-Control-Allow-Origin Access-Control-Allow-Credentials, RETAIN_UNIQUE\r\n      globalcors:\r\n        corsConfigurations:\r\n          &#39;[/**]&#39;:\r\n            allowedOrigins: &quot;*&quot;\r\n            allowedHeaders: &quot;*&quot;\r\n            allowedMethods: &quot;*&quot;\r\n            allowCredentials: true\r\n```\r\n\r\nBut when I receive the return response still includes `2 fields Access-Control-Allow-Origin` in the response header, this causes the CORS error below:\r\n[![enter image description here](https://i.stack.imgur.com/Epvan.png)](https://i.stack.imgur.com/Epvan.png)\r\n\r\n```\r\nAccess to XMLHttpRequest at &#39;https://xxxxx/api/authentication/send-sign-in-code&#39; from origin &#39;http://localhost:3000&#39; has been blocked by CORS policy: The &#39;Access-Control-Allow-Origin&#39; header contains multiple values &#39;*, *&#39;, but only one is allowed.\r\n```\r\nWhy doesn&#39;t DedupeResponseHeader work here? Thanks everyone and happy coding\r\n\r\n\r\ni tried changing `allowedOrigins` to `&quot;http://localhost:3000&quot;` but it still doesn&#39;t work and get the same error.","title":"DedupeResponseHeader In Spring boot Gateway not working","body":"<p>i had a problem while trying to configure my gateway in spring cloud, I have added the following code in the yml file:</p>\n<pre><code>spring:\n  main:\n    allow-bean-definition-overriding: true\n  application:\n    name: &quot;gateway&quot;\n  cloud:\n    gateway:\n      default-filters:\n        - DedupeResponseHeader=Access-Control-Allow-Origin Access-Control-Allow-Credentials, RETAIN_UNIQUE\n      globalcors:\n        corsConfigurations:\n          '[/**]':\n            allowedOrigins: &quot;*&quot;\n            allowedHeaders: &quot;*&quot;\n            allowedMethods: &quot;*&quot;\n            allowCredentials: true\n</code></pre>\n<p>But when I receive the return response still includes <code>2 fields Access-Control-Allow-Origin</code> in the response header, this causes the CORS error below:\n<a href=\"https://i.stack.imgur.com/Epvan.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Epvan.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>Access to XMLHttpRequest at 'https://xxxxx/api/authentication/send-sign-in-code' from origin 'http://localhost:3000' has been blocked by CORS policy: The 'Access-Control-Allow-Origin' header contains multiple values '*, *', but only one is allowed.\n</code></pre>\n<p>Why doesn't DedupeResponseHeader work here? Thanks everyone and happy coding</p>\n<p>i tried changing <code>allowedOrigins</code> to <code>&quot;http://localhost:3000&quot;</code> but it still doesn't work and get the same error.</p>\n"},{"tags":["java","trace","open-telemetry","mdc"],"answers":[{"comments":[{"owner":{"account_id":29982570,"reputation":1,"user_id":22977243,"display_name":"Abhishek Pandit"},"score":0,"creation_date":1701002335,"post_id":77542789,"comment_id":136718673,"body_markdown":"hey @Pino thanks for the suggestion. But this didn&#39;t resolve the issue. One another issue I want to point that both the traceId spanId are in different format than trace_id and span_id. I am guessing there might be some configuration that I am missing.","body":"hey @Pino thanks for the suggestion. But this didn&#39;t resolve the issue. One another issue I want to point that both the traceId spanId are in different format than trace_id and span_id. I am guessing there might be some configuration that I am missing."}],"tags":[],"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700825328,"creation_date":1700825328,"answer_id":77542789,"question_id":77542737,"body_markdown":"Always clear the MDC after use.  The MDC is tied to a thread but thread pooling can make it visible to subsequent requests.\r\n\r\n```\r\npublic class TracingFilter implements Filter {\r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException,\r\n            ServletException {\r\n        Tracer tracer = OpenTelemetrySdk.builder()\r\n                        .setTracerProvider(SdkTracerProvider.builder().build()).build()\r\n                        .getTracer(&quot;oTelTracer&quot;);\r\n        Span restSpan = tracer.spanBuilder(&quot;restSpan&quot;).setParent(Context.root()).startSpan();\r\n        try {\r\n            MDC.put(&quot;traceId&quot;, restSpan.getSpanContext().getTraceId());\r\n            MDC.put(&quot;spanId&quot;, restSpan.getSpanContext().getSpanId());\r\n            chain.doFilter(request, response);\r\n        } finally {\r\n            MDC.clear();\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Getting two traceId and spanId in my MDC logs","body":"<p>Always clear the MDC after use.  The MDC is tied to a thread but thread pooling can make it visible to subsequent requests.</p>\n<pre><code>public class TracingFilter implements Filter {\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException,\n            ServletException {\n        Tracer tracer = OpenTelemetrySdk.builder()\n                        .setTracerProvider(SdkTracerProvider.builder().build()).build()\n                        .getTracer(&quot;oTelTracer&quot;);\n        Span restSpan = tracer.spanBuilder(&quot;restSpan&quot;).setParent(Context.root()).startSpan();\n        try {\n            MDC.put(&quot;traceId&quot;, restSpan.getSpanContext().getTraceId());\n            MDC.put(&quot;spanId&quot;, restSpan.getSpanContext().getSpanId());\n            chain.doFilter(request, response);\n        } finally {\n            MDC.clear();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29982570,"reputation":1,"user_id":22977243,"display_name":"Abhishek Pandit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700825328,"creation_date":1700824776,"question_id":77542737,"body_markdown":"I am using opentelemetry for distributed logging. I have a TracingFilter from which I am putting the traceId and spanId in MDC so that I can use it later for some tracking purpose.\r\n\r\nTracingFilter.java\r\n\r\n```\r\npublic class TracingFilter implements Filter {\r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException,\r\n            ServletException {\r\n        Tracer tracer = OpenTelemetrySdk.builder()\r\n                        .setTracerProvider(SdkTracerProvider.builder().build()).build()\r\n                        .getTracer(&quot;oTelTracer&quot;);\r\n        Span restSpan = tracer.spanBuilder(&quot;restSpan&quot;).setParent(Context.root()).startSpan();\r\n        MDC.put(&quot;traceId&quot;, restSpan.getSpanContext().getTraceId());\r\n        MDC.put(&quot;spanId&quot;, restSpan.getSpanContext().getSpanId());\r\n        chain.doFilter(request, response);\r\n    }\r\n}\r\n```\r\n\r\nWhen I see logs I can see two traceIds in like this\r\n\r\n`[traceId=24bfdd47cbca0307, spanId=Vd7kdIYE4jIkv91Hy8oDByS/3UfLygMHAAAAAAAAAAA=, corrId=65a48a13-93cb-497b-a1d3-025b95351b40, trace_id=74f80fbcdcf3ecda30f0d62956c3d67a, trace_flags=01, span_id=a95f524c0383f822]\r\n`\r\n\r\nI want only one traceId in my logs. What am I missing here?\r\n\r\nI have tried to change how Tracer is created.","title":"Getting two traceId and spanId in my MDC logs","body":"<p>I am using opentelemetry for distributed logging. I have a TracingFilter from which I am putting the traceId and spanId in MDC so that I can use it later for some tracking purpose.</p>\n<p>TracingFilter.java</p>\n<pre><code>public class TracingFilter implements Filter {\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException,\n            ServletException {\n        Tracer tracer = OpenTelemetrySdk.builder()\n                        .setTracerProvider(SdkTracerProvider.builder().build()).build()\n                        .getTracer(&quot;oTelTracer&quot;);\n        Span restSpan = tracer.spanBuilder(&quot;restSpan&quot;).setParent(Context.root()).startSpan();\n        MDC.put(&quot;traceId&quot;, restSpan.getSpanContext().getTraceId());\n        MDC.put(&quot;spanId&quot;, restSpan.getSpanContext().getSpanId());\n        chain.doFilter(request, response);\n    }\n}\n</code></pre>\n<p>When I see logs I can see two traceIds in like this</p>\n<p><code>[traceId=24bfdd47cbca0307, spanId=Vd7kdIYE4jIkv91Hy8oDByS/3UfLygMHAAAAAAAAAAA=, corrId=65a48a13-93cb-497b-a1d3-025b95351b40, trace_id=74f80fbcdcf3ecda30f0d62956c3d67a, trace_flags=01, span_id=a95f524c0383f822] </code></p>\n<p>I want only one traceId in my logs. What am I missing here?</p>\n<p>I have tried to change how Tracer is created.</p>\n"},{"tags":["java","spring","spring-boot","feign"],"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700824735,"creation_date":1700824735,"question_id":77542730,"body_markdown":"I have a runnable task like so:\r\n```\r\npublic class Computation implements Runnable {\r\n    FeignClientInterface feignClient;\r\n\r\n    public Computation(FeignClientInterface feignClient) {\r\n        this.feignClient = feignClient;\r\n    }\r\n    @Override\r\n    public void run() {\r\n        feignClient.status(authorizationHeader, &quot;Ready&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI am calling it inside a `DelegatingSecurityContextAsyncTaskExecutor` like so:\r\n```\r\nComputation computation = new Computation();\r\nDelegatingSecurityContextAsyncTaskExecutor delegatingSecurityContextAsyncTaskExecutor = new DelegatingSecurityContextAsyncTaskExecutor(taskExecutor);\r\ndelegatingSecurityContextAsyncTaskExecutor.submit(computation);\r\n```\r\n\r\nThis project has a dependency that contains multiple `Filter` classes to handle exceptions. They are enabled by an annotation that imports `@Configuration` classes that create `@Bean` for each filter. This annotation is added to the main class of the project.\r\n\r\nThese filters work perfectly when I call the endpoint normally (not asynchonously/inside a runnable). However, when I execute the code like the one above, it never reaches the filters anymore (regardless of whether an exception is thrown or not).\r\n\r\nthe `Filter` class itself does not seem to mention whether it has a specific issue with asynchronous tasks so I am at a loss as to why the Filters are not triggered.","title":"Feign endpoint called within DelegatingSecurityContextAsyncTaskExecutor is not caught by Filter","body":"<p>I have a runnable task like so:</p>\n<pre><code>public class Computation implements Runnable {\n    FeignClientInterface feignClient;\n\n    public Computation(FeignClientInterface feignClient) {\n        this.feignClient = feignClient;\n    }\n    @Override\n    public void run() {\n        feignClient.status(authorizationHeader, &quot;Ready&quot;);\n    }\n}\n</code></pre>\n<p>I am calling it inside a <code>DelegatingSecurityContextAsyncTaskExecutor</code> like so:</p>\n<pre><code>Computation computation = new Computation();\nDelegatingSecurityContextAsyncTaskExecutor delegatingSecurityContextAsyncTaskExecutor = new DelegatingSecurityContextAsyncTaskExecutor(taskExecutor);\ndelegatingSecurityContextAsyncTaskExecutor.submit(computation);\n</code></pre>\n<p>This project has a dependency that contains multiple <code>Filter</code> classes to handle exceptions. They are enabled by an annotation that imports <code>@Configuration</code> classes that create <code>@Bean</code> for each filter. This annotation is added to the main class of the project.</p>\n<p>These filters work perfectly when I call the endpoint normally (not asynchonously/inside a runnable). However, when I execute the code like the one above, it never reaches the filters anymore (regardless of whether an exception is thrown or not).</p>\n<p>the <code>Filter</code> class itself does not seem to mention whether it has a specific issue with asynchronous tasks so I am at a loss as to why the Filters are not triggered.</p>\n"},{"tags":["java","algorithm","recursion","depth-first-search"],"comments":[{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":2,"creation_date":1700809833,"post_id":77541166,"comment_id":136700924,"body_markdown":"The output you provided is not generated by the code you have provided. Notably the first three lines of output... Please provide the code that initialises the grid and calls your function.","body":"The output you provided is not generated by the code you have provided. Notably the first three lines of output... Please provide the code that initialises the grid and calls your function."},{"owner":{"account_id":29950924,"reputation":39,"user_id":22953041,"display_name":"Root Groves"},"score":0,"creation_date":1700810112,"post_id":77541166,"comment_id":136700965,"body_markdown":"Ok cool will do!.","body":"Ok cool will do!."},{"owner":{"account_id":29950924,"reputation":39,"user_id":22953041,"display_name":"Root Groves"},"score":0,"creation_date":1700810429,"post_id":77541166,"comment_id":136701006,"body_markdown":"@trincot do you know how to link in files?","body":"@trincot do you know how to link in files?"},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1700810494,"post_id":77541166,"comment_id":136701016,"body_markdown":"You shouldn&#39;t link to files. The relevent code should be embedded inside the question, but only enough code to reproduce the problem. Not more, not less.","body":"You shouldn&#39;t link to files. The relevent code should be embedded inside the question, but only enough code to reproduce the problem. Not more, not less."},{"owner":{"account_id":29950924,"reputation":39,"user_id":22953041,"display_name":"Root Groves"},"score":0,"creation_date":1700810748,"post_id":77541166,"comment_id":136701061,"body_markdown":"Well I want to upload the .java files somehow?","body":"Well I want to upload the .java files somehow?"},{"owner":{"account_id":8306545,"reputation":47696,"user_id":6243352,"display_name":"ggorlen"},"score":1,"creation_date":1700811070,"post_id":77541166,"comment_id":136701100,"body_markdown":"No need to upload files, just copy the text as a [mcve]. Please format the code. If there&#39;s too much of it to share, then please minimize it further so it&#39;s in scope and answerable, without anything extra.","body":"No need to upload files, just copy the text as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Please format the code. If there&#39;s too much of it to share, then please minimize it further so it&#39;s in scope and answerable, without anything extra."},{"owner":{"account_id":29950924,"reputation":39,"user_id":22953041,"display_name":"Root Groves"},"score":0,"creation_date":1700811133,"post_id":77541166,"comment_id":136701111,"body_markdown":"There you go I tried to keep down the code simple so I wouldnt have to make you read all 3 .java files but I guess they are required for the problem to be understood!","body":"There you go I tried to keep down the code simple so I wouldnt have to make you read all 3 .java files but I guess they are required for the problem to be understood!"},{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":1,"creation_date":1700811344,"post_id":77541166,"comment_id":136701158,"body_markdown":"Please improve the quality of the code. Indention , remove empty lines (, maybe some comments what your intentions are in non trivial parts of the code ) ...","body":"Please improve the quality of the code. Indention , remove empty lines (, maybe some comments what your intentions are in non trivial parts of the code ) ..."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1700812139,"post_id":77541166,"comment_id":136701281,"body_markdown":"Please clean up your question. You have now provided some pieces of code twice.","body":"Please clean up your question. You have now provided some pieces of code twice."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1700812341,"post_id":77541166,"comment_id":136701314,"body_markdown":"Please explain what the expected output is.","body":"Please explain what the expected output is."},{"owner":{"account_id":29950924,"reputation":39,"user_id":22953041,"display_name":"Root Groves"},"score":0,"creation_date":1700812401,"post_id":77541166,"comment_id":136701322,"body_markdown":"@trincot you want me to remove off the code blocks before the edit?","body":"@trincot you want me to remove off the code blocks before the edit?"},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1700812465,"post_id":77541166,"comment_id":136701337,"body_markdown":"I think it is clear what I wrote? Avoid duplicate code in the question. So yes, remove the code blocks that you repeat later.","body":"I think it is clear what I wrote? Avoid duplicate code in the question. So yes, remove the code blocks that you repeat later."},{"owner":{"account_id":29950924,"reputation":39,"user_id":22953041,"display_name":"Root Groves"},"score":0,"creation_date":1700812599,"post_id":77541166,"comment_id":136701356,"body_markdown":"Well I expected :&quot;0 1 2 -&gt;Path has been blocked! 1 4 -&gt;Path has been blocked&quot; but it instead is looping in &quot;1 2&quot;.It takes out of account the 1 4 possible path.","body":"Well I expected :&quot;0 1 2 -&gt;Path has been blocked! 1 4 -&gt;Path has been blocked&quot; but it instead is looping in &quot;1 2&quot;.It takes out of account the 1 4 possible path."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1700812965,"post_id":77541166,"comment_id":136701416,"body_markdown":"It is looping because you haven&#39;t coded that a cell shouldn&#39;t be visited twice.","body":"It is looping because you haven&#39;t coded that a cell shouldn&#39;t be visited twice."},{"owner":{"account_id":29950924,"reputation":39,"user_id":22953041,"display_name":"Root Groves"},"score":0,"creation_date":1700813083,"post_id":77541166,"comment_id":136701432,"body_markdown":"But why is it looping?I dont understand.If the path leads to a dead end , we enter in our base case of recursion.","body":"But why is it looping?I dont understand.If the path leads to a dead end , we enter in our base case of recursion."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1700813354,"post_id":77541166,"comment_id":136701465,"body_markdown":"Yes, and then the caller of that recursive call will call `calc` on a position that it came from -&gt; cycle.","body":"Yes, and then the caller of that recursive call will call <code>calc</code> on a position that it came from -&gt; cycle."},{"owner":{"account_id":29950924,"reputation":39,"user_id":22953041,"display_name":"Root Groves"},"score":0,"creation_date":1700813445,"post_id":77541166,"comment_id":136701486,"body_markdown":"But isnt it that the point?To check over all possible paths starting from 1 node?When the recursive function returns a number it will move to the next instruction which is to move to the bottom.","body":"But isnt it that the point?To check over all possible paths starting from 1 node?When the recursive function returns a number it will move to the next instruction which is to move to the bottom."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1700813970,"post_id":77541166,"comment_id":136701556,"body_markdown":"It is OK to come back to the same node (when unwinding recursion), but it is wrong to make a recursive call to a node you have already visited. That produces a cycle in your search path, and you keep running in circles, going ever deeper into recursion","body":"It is OK to come back to the same node (when unwinding recursion), but it is wrong to make a recursive call to a node you have already visited. That produces a cycle in your search path, and you keep running in circles, going ever deeper into recursion"}],"answers":[{"comments":[{"owner":{"account_id":29950924,"reputation":39,"user_id":22953041,"display_name":"Root Groves"},"score":0,"creation_date":1700814624,"post_id":77541631,"comment_id":136701660,"body_markdown":"Hmm I actually prefer the array for the position to 2 seperate variables because it is more organized for but thanks a lot regardless!Have a good day!","body":"Hmm I actually prefer the array for the position to 2 seperate variables because it is more organized for but thanks a lot regardless!Have a good day!"},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1700814704,"post_id":77541631,"comment_id":136701675,"body_markdown":"You can still keep that position, but you will have less elegant code for the recursive calls then. One problem then is that you need to undo a change to a position before making the next recursive call, which is also a problem in your code. To me this suggests that `position` is a bad idea.","body":"You can still keep that position, but you will have less elegant code for the recursive calls then. One problem then is that you need to undo a change to a position before making the next recursive call, which is also a problem in your code. To me this suggests that <code>position</code> is a bad idea."}],"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700824094,"creation_date":1700814129,"answer_id":77541631,"question_id":77541166,"body_markdown":"You have not implemented the notion of &quot;visited&quot;. Positions that you have visited, should not be visited again. This is a basic principle in search algorithms. A node is called &quot;visited&quot; when you are ready to look at its neighbors. As you make a recursive call for a neighbor, that neighbor gets visited. If that neighbor is found to already have been visited, that indicates that neighbor is on the path you have already traversed, and so it should not be visited again. If you would, you would run in cycles, which is the problem you have encountered.\r\n\r\nSo you need to maintain a visited status somewhere. There are many ways to do that. One is to add a boolean field to `Node`.\r\n\r\n```\r\npublic class Node\r\n{\r\n    private int position;\r\n    private int type;\r\n    private boolean IsExit;\r\n    private boolean isVisited; // See also getter &amp; setter\r\n\r\n    public Node(int position,int type,boolean IsExit)\r\n    {\r\n        this.position = position;\r\n        this.type = type;\r\n        this.IsExit = IsExit;\r\n        this.isVisited = false;\r\n    }\r\n\r\n    public int getPosition()\r\n    {\r\n        return position;\r\n    }\r\n    \r\n    public int getType()\r\n    {\r\n        return type;\r\n    }\r\n    \r\n    public boolean getIsExit()\r\n    {\r\n        return IsExit;\r\n    }\r\n\r\n    public void setIsExit(boolean b)\r\n    {\r\n        IsExit = b;\r\n    }\r\n\r\n    public boolean getIsVisited() {\r\n        return isVisited;\r\n    }\r\n    \r\n    public void setIsVisited(boolean b) {\r\n        isVisited = b;\r\n    }\r\n}\r\n```\r\n\r\nI would also suggest to have `calc` return a `boolean` instead of `int`, since that is really what you do there: either the search succeeds, or it doesn&#39;t.\r\n\r\nAnother problem is that the change you make to `position` just before making the recursive call, should be reverted once you are back. Otherwise the calculation for the next neighbor position will be wrong.\r\n\r\nSo for example this:\r\n\r\n```\r\n    {\r\n        position[0]++;\r\n        calc(position);\r\n    }\r\n``` \r\n\r\nshould become:\r\n\r\n\r\n```\r\n    {\r\n        position[0]++;\r\n        calc(position);\r\n        position[0]--; // Bring position back to the original\r\n    }\r\n``` \r\n\r\nThis is quite cumbersome. Moreover, `position` should not be a field; it is just a local piece of information that is passed along with each recursive call. \r\n\r\nIt will also be easier if you don&#39;t pass `position` as an array of two, but pass two separate `int`s, one for `row`, one for `col`. \r\n\r\nHere is the updated `calc` method:\r\n\r\n```\r\nimport java.lang.System;\r\n\r\nclass DeepFirstSearch extends SearchAlgorithm {\r\n    public DeepFirstSearch(int gridSize) {\r\n        super(gridSize);\r\n    }\r\n        \r\n    public boolean calc(int row, int col)\r\n    {\r\n        // Perform all validity checks here, and test node was not yet visited\r\n        if (   row &gt;= gridLength\r\n            || row &lt; 0\r\n            || col &gt;= gridLength\r\n            || col &lt; 0\r\n            || grid[row][col].getIsVisited()\r\n        ) {\r\n            return false; // Target was not found here\r\n        }\r\n        Node node = grid[row][col];\r\n        node.setIsVisited(true); // Mark as visited\r\n        System.out.println(node.getPosition());\r\n        if (node.getType() == 1)\r\n        {\r\n            System.out.println(&quot;Path been blocked!Exit status: false&quot;);\r\n            return false; // Target was not found here\r\n        }\r\n        else if(node.getIsExit())\r\n        {\r\n            System.out.println(&quot;Path been found&quot;);\r\n            return true; // Target found!\r\n        }\r\n        else\r\n        {\r\n            // Use short circuit evaluation: as soon as one of the calls \r\n            //   returns true, no further calls will be made, and the return\r\n            //   value will be true if and only when that happens.\r\n            return calc(row + 1, col) || calc(row - 1, col) \r\n                || calc(row, col + 1) || calc(row, col - 1); \r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe initial call should then be:\r\n\r\n```\r\nclass Main {\r\n    public static void main(String[] args) {\r\n        DeepFirstSearch sch = new DeepFirstSearch(9);\r\n        sch.print();\r\n        sch.calc(0, 0);\r\n    }\r\n}\r\n```\r\n","title":"Depth first search implementation: algorithm keeps on searching out only to the right","body":"<p>You have not implemented the notion of &quot;visited&quot;. Positions that you have visited, should not be visited again. This is a basic principle in search algorithms. A node is called &quot;visited&quot; when you are ready to look at its neighbors. As you make a recursive call for a neighbor, that neighbor gets visited. If that neighbor is found to already have been visited, that indicates that neighbor is on the path you have already traversed, and so it should not be visited again. If you would, you would run in cycles, which is the problem you have encountered.</p>\n<p>So you need to maintain a visited status somewhere. There are many ways to do that. One is to add a boolean field to <code>Node</code>.</p>\n<pre><code>public class Node\n{\n    private int position;\n    private int type;\n    private boolean IsExit;\n    private boolean isVisited; // See also getter &amp; setter\n\n    public Node(int position,int type,boolean IsExit)\n    {\n        this.position = position;\n        this.type = type;\n        this.IsExit = IsExit;\n        this.isVisited = false;\n    }\n\n    public int getPosition()\n    {\n        return position;\n    }\n    \n    public int getType()\n    {\n        return type;\n    }\n    \n    public boolean getIsExit()\n    {\n        return IsExit;\n    }\n\n    public void setIsExit(boolean b)\n    {\n        IsExit = b;\n    }\n\n    public boolean getIsVisited() {\n        return isVisited;\n    }\n    \n    public void setIsVisited(boolean b) {\n        isVisited = b;\n    }\n}\n</code></pre>\n<p>I would also suggest to have <code>calc</code> return a <code>boolean</code> instead of <code>int</code>, since that is really what you do there: either the search succeeds, or it doesn't.</p>\n<p>Another problem is that the change you make to <code>position</code> just before making the recursive call, should be reverted once you are back. Otherwise the calculation for the next neighbor position will be wrong.</p>\n<p>So for example this:</p>\n<pre><code>    {\n        position[0]++;\n        calc(position);\n    }\n</code></pre>\n<p>should become:</p>\n<pre><code>    {\n        position[0]++;\n        calc(position);\n        position[0]--; // Bring position back to the original\n    }\n</code></pre>\n<p>This is quite cumbersome. Moreover, <code>position</code> should not be a field; it is just a local piece of information that is passed along with each recursive call.</p>\n<p>It will also be easier if you don't pass <code>position</code> as an array of two, but pass two separate <code>int</code>s, one for <code>row</code>, one for <code>col</code>.</p>\n<p>Here is the updated <code>calc</code> method:</p>\n<pre><code>import java.lang.System;\n\nclass DeepFirstSearch extends SearchAlgorithm {\n    public DeepFirstSearch(int gridSize) {\n        super(gridSize);\n    }\n        \n    public boolean calc(int row, int col)\n    {\n        // Perform all validity checks here, and test node was not yet visited\n        if (   row &gt;= gridLength\n            || row &lt; 0\n            || col &gt;= gridLength\n            || col &lt; 0\n            || grid[row][col].getIsVisited()\n        ) {\n            return false; // Target was not found here\n        }\n        Node node = grid[row][col];\n        node.setIsVisited(true); // Mark as visited\n        System.out.println(node.getPosition());\n        if (node.getType() == 1)\n        {\n            System.out.println(&quot;Path been blocked!Exit status: false&quot;);\n            return false; // Target was not found here\n        }\n        else if(node.getIsExit())\n        {\n            System.out.println(&quot;Path been found&quot;);\n            return true; // Target found!\n        }\n        else\n        {\n            // Use short circuit evaluation: as soon as one of the calls \n            //   returns true, no further calls will be made, and the return\n            //   value will be true if and only when that happens.\n            return calc(row + 1, col) || calc(row - 1, col) \n                || calc(row, col + 1) || calc(row, col - 1); \n        }\n    }\n}\n</code></pre>\n<p>The initial call should then be:</p>\n<pre><code>class Main {\n    public static void main(String[] args) {\n        DeepFirstSearch sch = new DeepFirstSearch(9);\n        sch.print();\n        sch.calc(0, 0);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29950924,"reputation":39,"user_id":22953041,"display_name":"Root Groves"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":77541631,"answer_count":1,"score":0,"last_activity_date":1700824094,"creation_date":1700808201,"question_id":77541166,"body_markdown":"I have a Depth First Search exercise.\r\n\r\nThe goal of this exercise is to find a valid path from the beginning of the maze to the end.\r\n\r\nThis is my code:\r\n\r\n### Node.java\r\n\r\n```java\r\npublic class Node\r\n{\r\n    private int position;\r\n    private int type;\r\n    private boolean IsExit;\r\n \r\n    public Node(int position,int type,boolean IsExit)\r\n    {\r\n        this.position = position;\r\n        this.type = type;\r\n        this.IsExit = IsExit;\r\n    }\r\n\r\n    public int getPosition()\r\n    {\r\n        return position;\r\n    }\r\n    \r\n    public int getType()\r\n    {\r\n        return type;\r\n    }\r\n    \r\n    public boolean getIsExit()\r\n    {\r\n        return IsExit;\r\n    }\r\n\r\n    public void setIsExit(boolean b)\r\n    {\r\n        IsExit = b;\r\n    }\r\n}\r\n```\r\n\r\n### SearchAlgorithm.java\r\n\r\n```java\r\nimport java.util.Random;\r\nimport java.lang.System;\r\n\r\npublic class SearchAlgorithm\r\n{\r\n    protected int gridSize;\r\n    protected int gridLength;\r\n    protected Node[][] grid;\r\n    \r\n    public SearchAlgorithm(int gridSize)\r\n    {\r\n        int gridLength  = (int) Math.sqrt(gridSize);\r\n        this.gridSize = gridSize;\r\n        this.gridLength = gridLength;\r\n        Node[][]arr = new Node[gridLength][gridLength];\r\n        Random r = new Random();\r\n        for(int i=0;i&lt;gridSize;i++)\r\n        {\r\n            Node n;\r\n            if(i==0)\r\n            {\r\n                n= new Node(i,0,false);\r\n                arr[i][i] = n;\r\n            }\r\n            else if(i==gridSize-1)\r\n            {\r\n                n = new Node(i,0,true);\r\n                arr[gridLength-1][gridLength-1] = n;\r\n            }\r\n            else\r\n            {\r\n                int x = i%gridLength;\r\n                int y = i/gridLength;\r\n                n = new Node(i,r.nextInt(2),false);\r\n                arr[x][y] = n;\r\n            }\r\n        }\r\n        this.grid = arr;\r\n    }\r\n        \r\n    public void print()\r\n    {\r\n        for(int i=0;i&lt;gridLength;i++)\r\n        {\r\n           for(int j=0;j&lt;gridLength;j++)\r\n           {\r\n                System.out.print(&quot;Position:&quot;+grid[j][i].getPosition()+&quot; Type:&quot;+grid[j][i].getType()+&quot; &quot;);\r\n           }\r\n           System.out.println();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe `grid` is a 2 dimensional array of the class `Node`: It has 2 coordinates x and y. X is found by `Node.position%i` and Y is found by `Node.position/i`.\r\n\r\n### DeepFirstSearch.java\r\n\r\n```java\r\nimport java.lang.System;\r\n\r\npublic class DeepFirstSearch extends SearchAlgorithm {\r\n    private  int[] position;\r\n\r\n    public DeepFirstSearch(int gridSize) {\r\n        super(gridSize);\r\n        position = new int[2];\r\n        position[0]=0;\r\n        position[1]=0;\r\n    }\r\n    \r\n    public int calc(int[]position)\r\n    {\r\n        System.out.println(grid[position[0]][position[1]].getPosition());\r\n        if(grid[position[0]][position[1]].getType()==1)\r\n        {\r\n           System.out.println(&quot;Path been blocked!Exit status:&quot;+1);\r\n           return 1;\r\n        }\r\n        else if(grid[position[0]][position[1]].getIsExit())\r\n        {\r\n            System.out.println(&quot;Path been found&quot;);\r\n            return 0;\r\n        }\r\n        else\r\n        {\r\n            if(position[0]&lt;gridLength-1)\r\n            {\r\n               position[0]++;\r\n               calc(position);\r\n            }\r\n            if(position[0]&gt;0)\r\n            {\r\n                position[0]--;\r\n                calc(position);\r\n            }\r\n            if(position[1]&lt;gridLength-1)\r\n            {\r\n                position[1]++;\r\n                calc(position);\r\n            }\r\n            if(position[1]&gt;0)\r\n            {\r\n                position[1]--;\r\n                calc(position);\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n}\r\n```\r\n\r\nThe `int[] position` stores the position of the current `Node`. If we hit a `Node` with `Node.getType()==1` then the path is not valid. A `Node` with `getIsExit()==true` is the desired destination (it is only 1 in my example).\r\n\r\n### Main.java\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        DeepFirstSearch sch = new DeepFirstSearch(9);\r\n        sch.print();\r\n        int[]pos = {0,0};\r\n        sch.calc(pos);\r\n    }\r\n}\r\n```\r\n\r\nI set up the initial position to `{0,0}` in the `main` function.\r\n\r\nThe issue is that when I run the program I get this output:\r\n\r\n```none\r\nPosition:0 Type:0 Position:1 Type:0 Position:2 Type:1 \r\nPosition:3 Type:1 Position:4 Type:1 Position:5 Type:1 \r\nPosition:6 Type:0 Position:7 Type:1 Position:8 Type:0 \r\n0\r\n1\r\n2\r\nPath been blocked!Exit status:1\r\n1\r\n2\r\nPath been blocked!Exit status:1\r\n1\r\n2\r\nPath been blocked!Exit status:1\r\n1\r\n2\r\nPath been blocked!Exit status:1\r\n1\r\n2\r\n...\r\n```\r\n\r\nand so it continues on until a `StackOverflowException` is thrown. Why does the algorithm keep on visiting the same nodes?","title":"Depth first search implementation: algorithm keeps on searching out only to the right","body":"<p>I have a Depth First Search exercise.</p>\n<p>The goal of this exercise is to find a valid path from the beginning of the maze to the end.</p>\n<p>This is my code:</p>\n<h3>Node.java</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public class Node\n{\n    private int position;\n    private int type;\n    private boolean IsExit;\n \n    public Node(int position,int type,boolean IsExit)\n    {\n        this.position = position;\n        this.type = type;\n        this.IsExit = IsExit;\n    }\n\n    public int getPosition()\n    {\n        return position;\n    }\n    \n    public int getType()\n    {\n        return type;\n    }\n    \n    public boolean getIsExit()\n    {\n        return IsExit;\n    }\n\n    public void setIsExit(boolean b)\n    {\n        IsExit = b;\n    }\n}\n</code></pre>\n<h3>SearchAlgorithm.java</h3>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Random;\nimport java.lang.System;\n\npublic class SearchAlgorithm\n{\n    protected int gridSize;\n    protected int gridLength;\n    protected Node[][] grid;\n    \n    public SearchAlgorithm(int gridSize)\n    {\n        int gridLength  = (int) Math.sqrt(gridSize);\n        this.gridSize = gridSize;\n        this.gridLength = gridLength;\n        Node[][]arr = new Node[gridLength][gridLength];\n        Random r = new Random();\n        for(int i=0;i&lt;gridSize;i++)\n        {\n            Node n;\n            if(i==0)\n            {\n                n= new Node(i,0,false);\n                arr[i][i] = n;\n            }\n            else if(i==gridSize-1)\n            {\n                n = new Node(i,0,true);\n                arr[gridLength-1][gridLength-1] = n;\n            }\n            else\n            {\n                int x = i%gridLength;\n                int y = i/gridLength;\n                n = new Node(i,r.nextInt(2),false);\n                arr[x][y] = n;\n            }\n        }\n        this.grid = arr;\n    }\n        \n    public void print()\n    {\n        for(int i=0;i&lt;gridLength;i++)\n        {\n           for(int j=0;j&lt;gridLength;j++)\n           {\n                System.out.print(&quot;Position:&quot;+grid[j][i].getPosition()+&quot; Type:&quot;+grid[j][i].getType()+&quot; &quot;);\n           }\n           System.out.println();\n        }\n    }\n}\n</code></pre>\n<p>The <code>grid</code> is a 2 dimensional array of the class <code>Node</code>: It has 2 coordinates x and y. X is found by <code>Node.position%i</code> and Y is found by <code>Node.position/i</code>.</p>\n<h3>DeepFirstSearch.java</h3>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.System;\n\npublic class DeepFirstSearch extends SearchAlgorithm {\n    private  int[] position;\n\n    public DeepFirstSearch(int gridSize) {\n        super(gridSize);\n        position = new int[2];\n        position[0]=0;\n        position[1]=0;\n    }\n    \n    public int calc(int[]position)\n    {\n        System.out.println(grid[position[0]][position[1]].getPosition());\n        if(grid[position[0]][position[1]].getType()==1)\n        {\n           System.out.println(&quot;Path been blocked!Exit status:&quot;+1);\n           return 1;\n        }\n        else if(grid[position[0]][position[1]].getIsExit())\n        {\n            System.out.println(&quot;Path been found&quot;);\n            return 0;\n        }\n        else\n        {\n            if(position[0]&lt;gridLength-1)\n            {\n               position[0]++;\n               calc(position);\n            }\n            if(position[0]&gt;0)\n            {\n                position[0]--;\n                calc(position);\n            }\n            if(position[1]&lt;gridLength-1)\n            {\n                position[1]++;\n                calc(position);\n            }\n            if(position[1]&gt;0)\n            {\n                position[1]--;\n                calc(position);\n            }\n        }\n        return -1;\n    }\n}\n</code></pre>\n<p>The <code>int[] position</code> stores the position of the current <code>Node</code>. If we hit a <code>Node</code> with <code>Node.getType()==1</code> then the path is not valid. A <code>Node</code> with <code>getIsExit()==true</code> is the desired destination (it is only 1 in my example).</p>\n<h3>Main.java</h3>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        DeepFirstSearch sch = new DeepFirstSearch(9);\n        sch.print();\n        int[]pos = {0,0};\n        sch.calc(pos);\n    }\n}\n</code></pre>\n<p>I set up the initial position to <code>{0,0}</code> in the <code>main</code> function.</p>\n<p>The issue is that when I run the program I get this output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Position:0 Type:0 Position:1 Type:0 Position:2 Type:1 \nPosition:3 Type:1 Position:4 Type:1 Position:5 Type:1 \nPosition:6 Type:0 Position:7 Type:1 Position:8 Type:0 \n0\n1\n2\nPath been blocked!Exit status:1\n1\n2\nPath been blocked!Exit status:1\n1\n2\nPath been blocked!Exit status:1\n1\n2\nPath been blocked!Exit status:1\n1\n2\n...\n</code></pre>\n<p>and so it continues on until a <code>StackOverflowException</code> is thrown. Why does the algorithm keep on visiting the same nodes?</p>\n"},{"tags":["java","sapi"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1700751962,"post_id":77537828,"comment_id":136695099,"body_markdown":"did you try `&amp;lt;` or just `&amp;lt` ?","body":"did you try <code>&amp;lt;</code> or just <code>&amp;lt</code> ?"}],"owner":{"account_id":2152111,"reputation":75,"user_id":1908198,"accept_rate":50,"display_name":"Andr&#233; Henriques"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700823980,"creation_date":1700751424,"question_id":77537828,"body_markdown":"I can&#39;t play a message that contains `&lt;`. From what I understood it is because it&#39;s considered as a XML tag. I could not find a way to escape it. \r\n\r\nI tried to replace it by `&amp;lt;` and play that chars literally. Also tried `SPEAKFLAGS SPF_IS_NOT_XML`, then it speaks the text but ignores the `&lt;`. \r\n\r\nIs there any way to easily speak &quot;lower than&quot; when it finds `&lt;`, as it does with `&gt;`?\r\n","title":"How to escape &quot;&lt;&quot; to be spoken by Microsoft Speech Api v5.4?","body":"<p>I can't play a message that contains <code>&lt;</code>. From what I understood it is because it's considered as a XML tag. I could not find a way to escape it.</p>\n<p>I tried to replace it by <code>&amp;lt;</code> and play that chars literally. Also tried <code>SPEAKFLAGS SPF_IS_NOT_XML</code>, then it speaks the text but ignores the <code>&lt;</code>.</p>\n<p>Is there any way to easily speak &quot;lower than&quot; when it finds <code>&lt;</code>, as it does with <code>&gt;</code>?</p>\n"},{"tags":["java","android","android-studio","gradle","android-gradle-plugin"],"comments":[{"owner":{"account_id":2013095,"reputation":5352,"user_id":1801072,"display_name":"Sam"},"score":0,"creation_date":1542116342,"post_id":53281612,"comment_id":93446116,"body_markdown":"Why are you walking all the paths in your layouts? I have no idea why you would ever need to do that. Please provide clarity as to what you are trying to accomplish and why you are walking the res paths. As you don&#39;t set res paths unless you are using an outdated structure or a hybrid tool that is using an outdated structure.","body":"Why are you walking all the paths in your layouts? I have no idea why you would ever need to do that. Please provide clarity as to what you are trying to accomplish and why you are walking the res paths. As you don&#39;t set res paths unless you are using an outdated structure or a hybrid tool that is using an outdated structure."},{"owner":{"account_id":3501848,"reputation":21,"user_id":2928438,"display_name":"declan"},"score":0,"creation_date":1542116596,"post_id":53281612,"comment_id":93446288,"body_markdown":"This is a project I have taken over, I am not sure why it is laid out like this. I am just wondering how the resources should be accessed in the AndoidManifest if this is the set up? Would I be better off restructuring?","body":"This is a project I have taken over, I am not sure why it is laid out like this. I am just wondering how the resources should be accessed in the AndoidManifest if this is the set up? Would I be better off restructuring?"},{"owner":{"account_id":2013095,"reputation":5352,"user_id":1801072,"display_name":"Sam"},"score":0,"creation_date":1542117340,"post_id":53281612,"comment_id":93446782,"body_markdown":"I would, yeah. You should use the natural folder structure or you will be fighting little one-off errors like this when it comes down to testing and unit testing and flavors later. The natural structure of a new android project is very easy to follow. Just create a new project to see how it should be laid out. Then start moving yours to match it. Once they match delete the res-dir snippet from your gradle. That will probably clear you up.","body":"I would, yeah. You should use the natural folder structure or you will be fighting little one-off errors like this when it comes down to testing and unit testing and flavors later. The natural structure of a new android project is very easy to follow. Just create a new project to see how it should be laid out. Then start moving yours to match it. Once they match delete the res-dir snippet from your gradle. That will probably clear you up."}],"answers":[{"tags":[],"owner":{"account_id":24706341,"reputation":11,"user_id":18597115,"display_name":"Jimmy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700823717,"creation_date":1700823717,"answer_id":77542646,"question_id":53281612,"body_markdown":"A bit late ... but simply removing `/` before `src` should redirect you to the proper directory.","title":"resource linking failed in AndroidManifest.xml when using sourceSets","body":"<p>A bit late ... but simply removing <code>/</code> before <code>src</code> should redirect you to the proper directory.</p>\n"}],"owner":{"account_id":3501848,"reputation":21,"user_id":2928438,"display_name":"declan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700823717,"creation_date":1542114170,"question_id":53281612,"body_markdown":"I am trying to run an Android Studio project, but I keep getting &#39;Android resource linking failed&#39; error for values in the AndroidManifest.xml. \r\n\r\nResource linking error\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhen I remove the sourceSets from the build.gradle it solves this problem but breaks imports of the files referenced in the sourceSets. \r\n\r\nThe sourceSets in build.gradle look like this:\r\n\r\n    sourceSets {\r\n        main {\r\n            res.srcDirs =\r\n                    [\r\n                            &#39;/src/main/res/layouts/administrator&#39;,\r\n                            &#39;/src/main/res/layouts/dashboard&#39;,\r\n                            &#39;/src/main/res/layouts/location_information&#39;,\r\n                            &#39;/src/main/res/layouts/login&#39;,\r\n                            &#39;/src/main/res/layouts/map&#39;,\r\n                            &#39;/src/main/res/layouts/non_activity&#39;,\r\n                            &#39;/src/main/res/layouts/register_location&#39;,\r\n                            &#39;/src/main/res/layouts/start_up&#39;,\r\n                            &#39;/src/main/res/layouts&#39;,\r\n                            &#39;/src/main/res&#39;\r\n                    ]\r\n        }\r\n    }\r\n\r\nThe Android Manifest looks like this:\r\n\r\nAndroidManifest cannot resolve @string\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIs there some other way I should be accessing the values in the AndroidManifest other than @string... ?\r\n\r\nI have tried various build tools versions and disabling AAPT2. Any help on resolving these linking issues would be appreciated.\r\n\r\nTop of build.gradle:\r\n\r\n    compileSdkVersion 28\r\n    buildToolsVersion &quot;28.0.3&quot;\r\n    defaultConfig {\r\n        applicationId &quot;com.example.example&quot;\r\n        minSdkVersion 16\r\n        targetSdkVersion 26\r\n        versionCode 4\r\n        versionName &quot;1.3.1&quot;\r\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n        vectorDrawables.useSupportLibrary = true\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aEDJB.png\r\n  [2]: https://i.stack.imgur.com/mwmzt.png","title":"resource linking failed in AndroidManifest.xml when using sourceSets","body":"<p>I am trying to run an Android Studio project, but I keep getting 'Android resource linking failed' error for values in the AndroidManifest.xml. </p>\n\n<p>Resource linking error</p>\n\n<p><a href=\"https://i.stack.imgur.com/aEDJB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aEDJB.png\" alt=\"enter image description here\"></a></p>\n\n<p>When I remove the sourceSets from the build.gradle it solves this problem but breaks imports of the files referenced in the sourceSets. </p>\n\n<p>The sourceSets in build.gradle look like this:</p>\n\n<pre><code>sourceSets {\n    main {\n        res.srcDirs =\n                [\n                        '/src/main/res/layouts/administrator',\n                        '/src/main/res/layouts/dashboard',\n                        '/src/main/res/layouts/location_information',\n                        '/src/main/res/layouts/login',\n                        '/src/main/res/layouts/map',\n                        '/src/main/res/layouts/non_activity',\n                        '/src/main/res/layouts/register_location',\n                        '/src/main/res/layouts/start_up',\n                        '/src/main/res/layouts',\n                        '/src/main/res'\n                ]\n    }\n}\n</code></pre>\n\n<p>The Android Manifest looks like this:</p>\n\n<p>AndroidManifest cannot resolve @string</p>\n\n<p><a href=\"https://i.stack.imgur.com/mwmzt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mwmzt.png\" alt=\"enter image description here\"></a></p>\n\n<p>Is there some other way I should be accessing the values in the AndroidManifest other than @string... ?</p>\n\n<p>I have tried various build tools versions and disabling AAPT2. Any help on resolving these linking issues would be appreciated.</p>\n\n<p>Top of build.gradle:</p>\n\n<pre><code>compileSdkVersion 28\nbuildToolsVersion \"28.0.3\"\ndefaultConfig {\n    applicationId \"com.example.example\"\n    minSdkVersion 16\n    targetSdkVersion 26\n    versionCode 4\n    versionName \"1.3.1\"\n    testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    vectorDrawables.useSupportLibrary = true\n}\n</code></pre>\n"},{"tags":["java","azure","azure-webapps"],"answers":[{"tags":[],"owner":{"account_id":6383695,"reputation":5206,"user_id":4952262,"accept_rate":71,"display_name":"Michu93"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700823649,"creation_date":1700823649,"answer_id":77542638,"question_id":77541707,"body_markdown":"I just change `Operation system` and `SKU and size`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vjaJG.png\r\n\r\n\r\nand it fixed issue:\r\n\r\n    Deployment succeed but the app is still starting at server side.\r\n\r\n","title":"Failed to deploy to Azure Web App(my-app) with resource creation or updating, unsupported text Content-Type Type: class java.lang.Object","body":"<p>I just change <code>Operation system</code> and <code>SKU and size</code></p>\n<p><a href=\"https://i.stack.imgur.com/vjaJG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vjaJG.png\" alt=\"enter image description here\" /></a></p>\n<p>and it fixed issue:</p>\n<pre><code>Deployment succeed but the app is still starting at server side.\n</code></pre>\n"}],"owner":{"account_id":6383695,"reputation":5206,"user_id":4952262,"accept_rate":71,"display_name":"Michu93"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1700823649,"creation_date":1700814877,"question_id":77541707,"body_markdown":"I just created Hello World Maven Archetype(`org.apache.maven.archetypes:maven-archetype-webapp`) application in IntelliJ Idea (following: https://learn.microsoft.com/en-us/azure/developer/java/toolkit-for-intellij/create-hello-world-web-app)\r\nApplication do nothing spectacular, just in `index.jsp` I have:\r\n\r\n    &lt;html&gt;\r\n    &lt;body&gt;\r\n    &lt;h2&gt;Hello World!&lt;/h2&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nI try to Deploy to Azure Web App but receive error:\r\n\r\n    Failed to deploy to Azure Web App(my-app) with resource creation or updating, unsupported text Content-Type Type: class java.lang.Object.\r\n\r\n\r\nMy Azure Web App has:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/stVtO.png","title":"Failed to deploy to Azure Web App(my-app) with resource creation or updating, unsupported text Content-Type Type: class java.lang.Object","body":"<p>I just created Hello World Maven Archetype(<code>org.apache.maven.archetypes:maven-archetype-webapp</code>) application in IntelliJ Idea (following: <a href=\"https://learn.microsoft.com/en-us/azure/developer/java/toolkit-for-intellij/create-hello-world-web-app\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/developer/java/toolkit-for-intellij/create-hello-world-web-app</a>)\nApplication do nothing spectacular, just in <code>index.jsp</code> I have:</p>\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n&lt;h2&gt;Hello World!&lt;/h2&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I try to Deploy to Azure Web App but receive error:</p>\n<pre><code>Failed to deploy to Azure Web App(my-app) with resource creation or updating, unsupported text Content-Type Type: class java.lang.Object.\n</code></pre>\n<p>My Azure Web App has:</p>\n<p><a href=\"https://i.stack.imgur.com/stVtO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/stVtO.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":7,"creation_date":1700823398,"post_id":77542599,"comment_id":136703134,"body_markdown":"You are **not** creating a `Comparable`, you are creating an **array** of comparables.","body":"You are <b>not</b> creating a <code>Comparable</code>, you are creating an <b>array</b> of comparables."},{"owner":{"account_id":20049678,"reputation":1,"user_id":17790595,"display_name":" "},"score":0,"creation_date":1700823479,"post_id":77542599,"comment_id":136703151,"body_markdown":"Well, then I can write it with any interface?","body":"Well, then I can write it with any interface?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1700824641,"post_id":77542599,"comment_id":136703330,"body_markdown":"Since you can do it with `Comparable`, there is no reason that it won&#39;t work with another interface.","body":"Since you can do it with <code>Comparable</code>, there is no reason that it won&#39;t work with another interface."},{"owner":{"account_id":20049678,"reputation":1,"user_id":17790595,"display_name":" "},"score":0,"creation_date":1700826082,"post_id":77542599,"comment_id":136703541,"body_markdown":"Well, now I understand what array `Comparable&lt;String&gt;[] comaparblesArray = new Comparable[10];` stores. Pointer `comparable` has interface type `Comparable`, but array objects has type `String` or any subclass of `String`.","body":"Well, now I understand what array <code>Comparable&lt;String&gt;[] comaparblesArray = new Comparable[10];</code> stores. Pointer <code>comparable</code> has interface type <code>Comparable</code>, but array objects has type <code>String</code> or any subclass of <code>String</code>."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1700826445,"post_id":77542599,"comment_id":136703594,"body_markdown":"@ minor nitpick: `String` is `final`, it can&#39;t have subclasses.","body":"@ minor nitpick: <code>String</code> is <code>final</code>, it can&#39;t have subclasses."},{"owner":{"account_id":20049678,"reputation":1,"user_id":17790595,"display_name":" "},"score":0,"creation_date":1700827019,"post_id":77542599,"comment_id":136703687,"body_markdown":"Meanwhile, I can&#39;t write `Comparable&lt;String&gt; comparable = new Comparable&lt;String&gt;(&quot;some text&quot;);` where I really try to create interface object explicitly.","body":"Meanwhile, I can&#39;t write <code>Comparable&lt;String&gt; comparable = new Comparable&lt;String&gt;(&quot;some text&quot;);</code> where I really try to create interface object explicitly."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1700827573,"post_id":77542599,"comment_id":136703746,"body_markdown":"You **can&#39;t** instantiate interface directly. You can however instantiate `String` because it is a class. You can do `yourComparableArray[0] = &quot;some string&quot;`, because a `String` **is** `Comparable` - `String` *implements* `Comparable`. You are instantiating concrete classes, which can be represented as some interface, because they implement it.","body":"You <b>can&#39;t</b> instantiate interface directly. You can however instantiate <code>String</code> because it is a class. You can do <code>yourComparableArray[0] = &quot;some string&quot;</code>, because a <code>String</code> <b>is</b> <code>Comparable</code> - <code>String</code> <i>implements</i> <code>Comparable</code>. You are instantiating concrete classes, which can be represented as some interface, because they implement it."}],"answers":[{"comments":[{"owner":{"account_id":20049678,"reputation":1,"user_id":17790595,"display_name":" "},"score":0,"creation_date":1700823590,"post_id":77542617,"comment_id":136703167,"body_markdown":"Well, may I create arrays of fixed size of any Interface?","body":"Well, may I create arrays of fixed size of any Interface?"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1700823676,"post_id":77542617,"comment_id":136703188,"body_markdown":"@ yes. Caveat though, since `Comparable` is a generic type (`Comparable&lt;T&gt;`), the created array will be of type `Comparable&lt;Object&gt;`. You should also get a compiler warning because of that.","body":"@ yes. Caveat though, since <code>Comparable</code> is a generic type (<code>Comparable&lt;T&gt;</code>), the created array will be of type <code>Comparable&lt;Object&gt;</code>. You should also get a compiler warning because of that."},{"owner":{"account_id":20049678,"reputation":1,"user_id":17790595,"display_name":" "},"score":0,"creation_date":1700823744,"post_id":77542617,"comment_id":136703198,"body_markdown":"Well, then all pointers inside Comparable array must be &#39;null&#39;.","body":"Well, then all pointers inside Comparable array must be &#39;null&#39;."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1700823807,"post_id":77542617,"comment_id":136703209,"body_markdown":"@ well yes, until you put something into it they are.","body":"@ well yes, until you put something into it they are."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1700823861,"post_id":77542617,"comment_id":136703216,"body_markdown":"@ no, it will be all `null`s after creation (as Federico says), but you can fill it: `var comps = new Comparable[3]; comps[0] = &quot;&quot;;` is perfectly fine (because &quot;&quot; is a `String` and `String` is `Comparable`).","body":"@ no, it will be all <code>null</code>s after creation (as Federico says), but you can fill it: <code>var comps = new Comparable[3]; comps[0] = &quot;&quot;;</code> is perfectly fine (because &quot;&quot; is a <code>String</code> and <code>String</code> is <code>Comparable</code>)."},{"owner":{"account_id":20049678,"reputation":1,"user_id":17790595,"display_name":" "},"score":0,"creation_date":1700824503,"post_id":77542617,"comment_id":136703308,"body_markdown":"But that means I created interface object. It shouldn&#39;t be legal, to my mind.","body":"But that means I created interface object. It shouldn&#39;t be legal, to my mind."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1700824695,"post_id":77542617,"comment_id":136703333,"body_markdown":"No, you created objects implementing that interface and stored them in an array for that interface. What makes you think it should be illegal?","body":"No, you created objects implementing that interface and stored them in an array for that interface. What makes you think it should be illegal?"},{"owner":{"account_id":20049678,"reputation":1,"user_id":17790595,"display_name":" "},"score":0,"creation_date":1700824828,"post_id":77542617,"comment_id":136703353,"body_markdown":"Because I read in Key Horstmann that you can&#39;t create interface object. But even in Eclispe I wrote &quot;comparable[1] = new String(&quot;popa&quot;);&quot; and it compiled without errors.","body":"Because I read in Key Horstmann that you can&#39;t create interface object. But even in Eclispe I wrote &quot;comparable[1] = new String(&quot;popa&quot;);&quot; and it compiled without errors."},{"owner":{"account_id":20049678,"reputation":1,"user_id":17790595,"display_name":" "},"score":0,"creation_date":1700825497,"post_id":77542617,"comment_id":136703457,"body_markdown":"Probably, for example, I should intepret code `Comparable&lt;String&gt;[] comparable = new Comparable[10];` like ten objects of class String that implements interface Comparable or its subclass that impelements this interface too.","body":"Probably, for example, I should intepret code <code>Comparable&lt;String&gt;[] comparable = new Comparable[10];</code> like ten objects of class String that implements interface Comparable or its subclass that impelements this interface too."},{"owner":{"account_id":62138,"reputation":3297,"user_id":184792,"accept_rate":81,"display_name":"msp"},"score":1,"creation_date":1700830874,"post_id":77542617,"comment_id":136704331,"body_markdown":"You could just interpret it as an empty box that fits ten `Comparable` objects.","body":"You could just interpret it as an empty box that fits ten <code>Comparable</code> objects."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1700846721,"post_id":77542617,"comment_id":136706827,"body_markdown":"@ Think of an interface as a contract. By implementing an interface, a class promises to abide by that contract, that is, promises to implement the methods listed in the interface. An array (or a `Collection`) of that interface type is a container to hold objects of any class implementing that interface, meeting the terms of that contract. If `Dog`, `Cat`, &amp; `Bird` all implement the interface `Animal`, then you can put objects of any or all of those classes into an array defined as holding `Animal`: `Animal[] animals = new Animal[ 15 ] ;`  `animals[0] = new Cat( &quot;Fluffy&quot; ) ;`","body":"@ Think of an interface as a contract. By implementing an interface, a class promises to abide by that contract, that is, promises to implement the methods listed in the interface. An array (or a <code>Collection</code>) of that interface type is a container to hold objects of any class implementing that interface, meeting the terms of that contract. If <code>Dog</code>, <code>Cat</code>, &amp; <code>Bird</code> all implement the interface <code>Animal</code>, then you can put objects of any or all of those classes into an array defined as holding <code>Animal</code>: <code>Animal[] animals = new Animal[ 15 ] ;</code>  <code>animals[0] = new Cat( &quot;Fluffy&quot; ) ;</code>"}],"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"comment_count":11,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1700823454,"creation_date":1700823454,"answer_id":77542617,"question_id":77542599,"body_markdown":"`new Comparable[]` doesn&#39;t create a `Comparable` object, it creates an array object of `Comparables`s.\r\n\r\nAlso, it&#39;s not correct Java code, because you need to give the array&#39;s size like in your second piece of code, ie `new Comparable[size]`.","title":"Why can I create Comparable objects with operator &quot;new&quot;?","body":"<p><code>new Comparable[]</code> doesn't create a <code>Comparable</code> object, it creates an array object of <code>Comparables</code>s.</p>\n<p>Also, it's not correct Java code, because you need to give the array's size like in your second piece of code, ie <code>new Comparable[size]</code>.</p>\n"}],"owner":{"account_id":20049678,"reputation":1,"user_id":17790595,"display_name":" "},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1700829886,"answer_count":1,"score":-4,"last_activity_date":1700823454,"creation_date":1700823265,"question_id":77542599,"body_markdown":"Why is \r\n\r\n    new Comparable[] \r\n\r\ncorrect code in Java? I have seen code like this\r\n\r\n    public class ArrayHeap&lt;T extends Comparable&lt;T&gt;&gt; implements Heap&lt;T&gt; {\r\n    \r\n        ...\r\n    \r\n    public ArrayHeap(int capacity) {\r\n        heap = (T[]) new Comparable[capacity];\r\n    }\r\n\r\nI confused over the code\r\n\r\n`heap = (T[]) new Comparable[capacity];`\r\n\r\nbecause Comparable&lt;T&gt; is interface and you can&#39;t create interface objects with operator &quot;new&quot;. Could you, please, explain me, why I am wrong?\r\n\r\nI don&#39;t even how to explain this phenomena!","title":"Why can I create Comparable objects with operator &quot;new&quot;?","body":"<p>Why is</p>\n<pre><code>new Comparable[] \n</code></pre>\n<p>correct code in Java? I have seen code like this</p>\n<pre><code>public class ArrayHeap&lt;T extends Comparable&lt;T&gt;&gt; implements Heap&lt;T&gt; {\n\n    ...\n\npublic ArrayHeap(int capacity) {\n    heap = (T[]) new Comparable[capacity];\n}\n</code></pre>\n<p>I confused over the code</p>\n<p><code>heap = (T[]) new Comparable[capacity];</code></p>\n<p>because Comparable is interface and you can't create interface objects with operator &quot;new&quot;. Could you, please, explain me, why I am wrong?</p>\n<p>I don't even how to explain this phenomena!</p>\n"},{"tags":["java","sql","spring","eclipse"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1605088879,"post_id":64783789,"comment_id":114542974,"body_markdown":"Help &gt; Install New Software... Choose your current release in &#39;Work With&#39; and them look at the Database Development section","body":"Help &gt; Install New Software... Choose your current release in &#39;Work With&#39; and them look at the Database Development section"},{"owner":{"account_id":19947980,"reputation":27,"user_id":14618235,"display_name":"tpnprogsdev"},"score":0,"creation_date":1605098679,"post_id":64783789,"comment_id":114547136,"body_markdown":"@greg-449 Thanks a LOT sir. I found a whole bunch of Database Development tools, which also included a lot of SQL development tools, by following your approach!","body":"@greg-449 Thanks a LOT sir. I found a whole bunch of Database Development tools, which also included a lot of SQL development tools, by following your approach!"}],"answers":[{"comments":[{"owner":{"account_id":19947980,"reputation":27,"user_id":14618235,"display_name":"tpnprogsdev"},"score":1,"creation_date":1605098000,"post_id":64783987,"comment_id":114546847,"body_markdown":"I&#39;m actually looking for ANY SQL development tool that enables people to create &amp; manage SQL databases WITHIN the Eclipse or STS IDE! Apparently, the most popular one used to be the &quot;SQL Developer Tools&quot; that was readily available via the Eclipse or STS marketplace search, but now, it seems to have vanished! The SQL Editor (returned as a search result) only helps in text-editing manually-created SQL files, and not creating/managing SQL databases. I&#39;m stuck, as a result, on a LOT of tutorial projects &amp; frankly, running out of valuable time to make them too! So if possible, please help!","body":"I&#39;m actually looking for ANY SQL development tool that enables people to create &amp; manage SQL databases WITHIN the Eclipse or STS IDE! Apparently, the most popular one used to be the &quot;SQL Developer Tools&quot; that was readily available via the Eclipse or STS marketplace search, but now, it seems to have vanished! The SQL Editor (returned as a search result) only helps in text-editing manually-created SQL files, and not creating/managing SQL databases. I&#39;m stuck, as a result, on a LOT of tutorial projects &amp; frankly, running out of valuable time to make them too! So if possible, please help!"}],"tags":[],"owner":{"account_id":10761539,"reputation":104,"user_id":7917785,"display_name":"thommyberglund"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605087825,"creation_date":1605087825,"answer_id":64783987,"question_id":64783789,"body_markdown":"I am a little bit unsure if it is exactly what you&#39;re looking for, but Data Tools Platform is the one i&#39;ve been using in the past to manage DBs:\r\n\r\nhttps://marketplace.eclipse.org/content/eclipse-dtp-data-tools-platform","title":"Where are the SQL development tools for the Eclipse IDE and Spring Tools Suite? Why are they seemingly unavailable in their marketplaces?","body":"<p>I am a little bit unsure if it is exactly what you're looking for, but Data Tools Platform is the one i've been using in the past to manage DBs:</p>\n<p><a href=\"https://marketplace.eclipse.org/content/eclipse-dtp-data-tools-platform\" rel=\"nofollow noreferrer\">https://marketplace.eclipse.org/content/eclipse-dtp-data-tools-platform</a></p>\n"},{"comments":[{"owner":{"account_id":23004535,"reputation":1381,"user_id":17128041,"display_name":"sidharth vijayakumar"},"score":1,"creation_date":1700834181,"post_id":77542616,"comment_id":136704878,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77542616/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29982507,"reputation":1,"user_id":22977196,"display_name":"charu"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1700823448,"creation_date":1700823448,"answer_id":77542616,"question_id":64783789,"body_markdown":"turnoff the firewall and then try to install it. It worked for me.\r\n","title":"Where are the SQL development tools for the Eclipse IDE and Spring Tools Suite? Why are they seemingly unavailable in their marketplaces?","body":"<p>turnoff the firewall and then try to install it. It worked for me.</p>\n"}],"owner":{"account_id":19947980,"reputation":27,"user_id":14618235,"display_name":"tpnprogsdev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1866,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1700823448,"creation_date":1605087009,"question_id":64783789,"body_markdown":"I&#39;m learning the Java Programming language and Spring, and when I try to follow some online tutorials or projects related to Spring technologies, I keep getting stuck whenever I need to create a new SQL file or a SQL database WITHIN the Eclipse IDE or Spring Tools Suite. I&#39;m simply unable to do so, and while various solutions online simply give instructions to &quot;search and install the SQL development tools or SQL editor from the Eclipse Marketplace&quot;, I am not able to find the SQL development tools, while the SQL editor is a very basic thing with no development facilities. So WHERE can I find the required tools/extensions for creating &amp; running SQL files, databases, etc, on the Eclipse IDE or Spring Tools Suite? Also, are there any alternative extensions/add-ons that have the SQL development capabilities? I would be really grateful if someone could answer.","title":"Where are the SQL development tools for the Eclipse IDE and Spring Tools Suite? Why are they seemingly unavailable in their marketplaces?","body":"<p>I'm learning the Java Programming language and Spring, and when I try to follow some online tutorials or projects related to Spring technologies, I keep getting stuck whenever I need to create a new SQL file or a SQL database WITHIN the Eclipse IDE or Spring Tools Suite. I'm simply unable to do so, and while various solutions online simply give instructions to &quot;search and install the SQL development tools or SQL editor from the Eclipse Marketplace&quot;, I am not able to find the SQL development tools, while the SQL editor is a very basic thing with no development facilities. So WHERE can I find the required tools/extensions for creating &amp; running SQL files, databases, etc, on the Eclipse IDE or Spring Tools Suite? Also, are there any alternative extensions/add-ons that have the SQL development capabilities? I would be really grateful if someone could answer.</p>\n"},{"tags":["java","regex","logging","log4j","log4j2"],"owner":{"account_id":5150173,"reputation":276,"user_id":4124999,"display_name":"cpawali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700823356,"creation_date":1700818817,"question_id":77542117,"body_markdown":"I am using log4j to for logging,\r\nI have example logs here \r\n\r\n\r\n    2023-11-24 14:01:11,656 [main] INFO  org.sparkproject.jetty.server.handler.ContextHandler - Started o.s.j.s.ServletContextHandler@77bb48d5{/metrics/json,null,AVAILABLE,@Spark}\r\n    2023-11-24 14:01:11,658 [main] INFO  org.apache.spark.scheduler.cluster.StandaloneSchedulerBackend - SchedulerBackend is ready for scheduling beginning after reached minRegisteredResourcesRatio: 0.0\r\n    2023-11-24 14:01:12,547 [main] INFO  org.apache.spark.SparkContext - Starting job: reduce at SparkPi.scala:38\r\n    2023-11-24 14:01:12,594 [dag-scheduler-event-loop] INFO  org.apache.spark.scheduler.DAGScheduler - Got job 0 (reduce at SparkPi.scala:38) with 10 output partitions\r\n    2023-11-24 14:01:12,616 [dag-scheduler-event-loop] INFO  org.apache.spark.scheduler.DAGScheduler - Submitting ResultStage 0 (MapPartitionsRDD[1] at map at SparkPi.scala:34), which has no missing parents\r\n    2023-11-24 14:01:12,653 [spark-listener-group-shared] INFO  org.apache.spark.scheduler.AsyncEventQueue - Process of event AdSparkListener(Map(Spark Properties -&gt; ArrayBuffer((spark.ad.connector.context,yarn;spark330;admin;test), (spark.ad.events.url,http://nifihost1.ops.iti.acceldata.dev:19005/eventsasync), (spark.app.startTime,1700814666085), (spark.app.submitTime,1700814665975), (spark.driver.extraJavaOptions,-XX:+IgnoreUnrecognizedVMOptions --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.net=ALL-UNNAMED --add-opens=java.base/java.nio=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED --add-opens=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/sun.nio.cs=ALL-UNNAMED --add-opens=java.base/sun.security.action=ALL-UNNAMED --add-opens=java.base/sun.util.calendar=ALL-UNNAMED --add-opens=java.security.jgss/sun.security.krb5=ALL-UNNAMED), \r\n    ...\r\n    [2023-11-24 13:00:53,937] [main] INFO  io.xyz.sparkstats.SparkListener - AdSparkListener 1.0 for Pulse 3.3.0 started for Spark 3.3.x with WaitPeriod=30 seconds\r\n\r\ni want to save logs which contains word **AdSparkListener** to different file like sparkListener.log.\r\n\r\nFor example from above log example **AdSparkListener** matched logs which i want in new file are:\r\n\r\n    2023-11-24 14:01:12,653 [spark-listener-group-shared] INFO  org.apache.spark.scheduler.AsyncEventQueue - Process of event AdSparkListener(Map(Spark Properties -&gt; ArrayBuffer((spark.ad.connector.context,yarn;spark330;admin;test), (spark.ad.events.url,http://nifihost1.ops.iti.acceldata.dev:19005/eventsasync), (spark.app.startTime,1700814666085), (spark.app.submitTime,1700814665975), (spark.driver.extraJavaOptions,-XX:+IgnoreUnrecognizedVMOptions --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.net=ALL-UNNAMED --add-opens=java.base/java.nio=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED --add-opens=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/sun.nio.cs=ALL-UNNAMED --add-opens=java.base/sun.security.action=ALL-UNNAMED --add-opens=java.base/sun.util.calendar=ALL-UNNAMED --add-opens=java.security.jgss/sun.security.krb5=ALL-UNNAMED), \r\n    ...\r\n    [2023-11-24 13:00:53,937] [main] INFO  io.xyz.sparkstats.SparkListener - AdSparkListener 1.0 for Pulse 3.3.0 started for Spark 3.3.x with WaitPeriod=30 seconds\r\n\r\nTried with **RegexFilter** Got empty file, didnt work for me\r\n\r\n    ##console appender\r\n    appender.console.type = Console\r\n    appender.console.name = LogToConsole\r\n    appender.console.layout.type = PatternLayout\r\n    appender.console.layout.pattern = %d [%t] %-5p %c - %m%n\r\n    \r\n    ## Root logger to catch all logs\r\n    rootLogger.level = INFO\r\n    rootLogger.appenderRefs = adSparkListener,console\r\n    rootLogger.appenderRef.adSparkListener.ref = adSparkListener\r\n    rootLogger.appenderRef.console.ref = LogToConsole\r\n    \r\n    ## Define the appender for logs containing AdSparkListener\r\n    appender.adSparkListener.type = RollingFile\r\n    appender.adSparkListener.name = adSparkListener\r\n    appender.adSparkListener.fileName = /root/sparklogs/adsparklistener.log\r\n    appender.adSparkListener.filePattern = /root/sparklogs/adsparklistener-%d{MM-dd-yyyy}-%i.log.gz\r\n    appender.adSparkListener.layout.type = PatternLayout\r\n    appender.adSparkListener.layout.pattern = [%d{yyyy-MM-dd HH:mm:ss,SSS}] [%t] %-5level %logger{36} - %msg%n\r\n    appender.adSparkListener.policies.type = Policies\r\n    appender.adSparkListener.policies.time.type = TimeBasedTriggeringPolicy\r\n    appender.adSparkListener.policies.time.interval = 1\r\n    appender.adSparkListener.policies.time.modulate = true\r\n    \r\n    ## Regex filter to match logs with adsparklistener\r\n    appender.adSparkListener.filter.regex.type = RegexFilter\r\n    appender.adSparkListener.filter.regex.regex = .*AdSparkListener.*\r\n    appender.adSparkListener.filter.regex.onMatch = ACCEPT\r\n    appender.adSparkListener.filter.regex.onMismatch = DENY\r\n\r\nIs there any config to filter logs based on matching key and save to specific file?","title":"log4j2: Save logs to different file based on log content","body":"<p>I am using log4j to for logging,\nI have example logs here</p>\n<pre><code>2023-11-24 14:01:11,656 [main] INFO  org.sparkproject.jetty.server.handler.ContextHandler - Started o.s.j.s.ServletContextHandler@77bb48d5{/metrics/json,null,AVAILABLE,@Spark}\n2023-11-24 14:01:11,658 [main] INFO  org.apache.spark.scheduler.cluster.StandaloneSchedulerBackend - SchedulerBackend is ready for scheduling beginning after reached minRegisteredResourcesRatio: 0.0\n2023-11-24 14:01:12,547 [main] INFO  org.apache.spark.SparkContext - Starting job: reduce at SparkPi.scala:38\n2023-11-24 14:01:12,594 [dag-scheduler-event-loop] INFO  org.apache.spark.scheduler.DAGScheduler - Got job 0 (reduce at SparkPi.scala:38) with 10 output partitions\n2023-11-24 14:01:12,616 [dag-scheduler-event-loop] INFO  org.apache.spark.scheduler.DAGScheduler - Submitting ResultStage 0 (MapPartitionsRDD[1] at map at SparkPi.scala:34), which has no missing parents\n2023-11-24 14:01:12,653 [spark-listener-group-shared] INFO  org.apache.spark.scheduler.AsyncEventQueue - Process of event AdSparkListener(Map(Spark Properties -&gt; ArrayBuffer((spark.ad.connector.context,yarn;spark330;admin;test), (spark.ad.events.url,http://nifihost1.ops.iti.acceldata.dev:19005/eventsasync), (spark.app.startTime,1700814666085), (spark.app.submitTime,1700814665975), (spark.driver.extraJavaOptions,-XX:+IgnoreUnrecognizedVMOptions --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.net=ALL-UNNAMED --add-opens=java.base/java.nio=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED --add-opens=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/sun.nio.cs=ALL-UNNAMED --add-opens=java.base/sun.security.action=ALL-UNNAMED --add-opens=java.base/sun.util.calendar=ALL-UNNAMED --add-opens=java.security.jgss/sun.security.krb5=ALL-UNNAMED), \n...\n[2023-11-24 13:00:53,937] [main] INFO  io.xyz.sparkstats.SparkListener - AdSparkListener 1.0 for Pulse 3.3.0 started for Spark 3.3.x with WaitPeriod=30 seconds\n</code></pre>\n<p>i want to save logs which contains word <strong>AdSparkListener</strong> to different file like sparkListener.log.</p>\n<p>For example from above log example <strong>AdSparkListener</strong> matched logs which i want in new file are:</p>\n<pre><code>2023-11-24 14:01:12,653 [spark-listener-group-shared] INFO  org.apache.spark.scheduler.AsyncEventQueue - Process of event AdSparkListener(Map(Spark Properties -&gt; ArrayBuffer((spark.ad.connector.context,yarn;spark330;admin;test), (spark.ad.events.url,http://nifihost1.ops.iti.acceldata.dev:19005/eventsasync), (spark.app.startTime,1700814666085), (spark.app.submitTime,1700814665975), (spark.driver.extraJavaOptions,-XX:+IgnoreUnrecognizedVMOptions --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.net=ALL-UNNAMED --add-opens=java.base/java.nio=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED --add-opens=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/sun.nio.cs=ALL-UNNAMED --add-opens=java.base/sun.security.action=ALL-UNNAMED --add-opens=java.base/sun.util.calendar=ALL-UNNAMED --add-opens=java.security.jgss/sun.security.krb5=ALL-UNNAMED), \n...\n[2023-11-24 13:00:53,937] [main] INFO  io.xyz.sparkstats.SparkListener - AdSparkListener 1.0 for Pulse 3.3.0 started for Spark 3.3.x with WaitPeriod=30 seconds\n</code></pre>\n<p>Tried with <strong>RegexFilter</strong> Got empty file, didnt work for me</p>\n<pre><code>##console appender\nappender.console.type = Console\nappender.console.name = LogToConsole\nappender.console.layout.type = PatternLayout\nappender.console.layout.pattern = %d [%t] %-5p %c - %m%n\n\n## Root logger to catch all logs\nrootLogger.level = INFO\nrootLogger.appenderRefs = adSparkListener,console\nrootLogger.appenderRef.adSparkListener.ref = adSparkListener\nrootLogger.appenderRef.console.ref = LogToConsole\n\n## Define the appender for logs containing AdSparkListener\nappender.adSparkListener.type = RollingFile\nappender.adSparkListener.name = adSparkListener\nappender.adSparkListener.fileName = /root/sparklogs/adsparklistener.log\nappender.adSparkListener.filePattern = /root/sparklogs/adsparklistener-%d{MM-dd-yyyy}-%i.log.gz\nappender.adSparkListener.layout.type = PatternLayout\nappender.adSparkListener.layout.pattern = [%d{yyyy-MM-dd HH:mm:ss,SSS}] [%t] %-5level %logger{36} - %msg%n\nappender.adSparkListener.policies.type = Policies\nappender.adSparkListener.policies.time.type = TimeBasedTriggeringPolicy\nappender.adSparkListener.policies.time.interval = 1\nappender.adSparkListener.policies.time.modulate = true\n\n## Regex filter to match logs with adsparklistener\nappender.adSparkListener.filter.regex.type = RegexFilter\nappender.adSparkListener.filter.regex.regex = .*AdSparkListener.*\nappender.adSparkListener.filter.regex.onMatch = ACCEPT\nappender.adSparkListener.filter.regex.onMismatch = DENY\n</code></pre>\n<p>Is there any config to filter logs based on matching key and save to specific file?</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data-jpa"],"owner":{"account_id":18624324,"reputation":186,"user_id":13573784,"display_name":"Vitor Nilson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700823182,"creation_date":1700757705,"question_id":77538486,"body_markdown":"I have two entities, Parent and Child.\r\n\r\nThe relationship is One parent can have many children and one child can have one parent.\r\n\r\nHere are my classes:\r\n\r\n```java\r\n@Data\r\n@Entity\r\n@Table(name = &quot;parent&quot;)\r\n@EntityListeners(AuditingEntityListener.class)\r\npublic class Parent {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private UUID id;\r\n\r\n    private String someThing;\r\n\r\n    @OneToMany(mappedBy = &quot;id.parent&quot;, fetch = FetchType.EAGER)\r\n    private List&lt;Child&gt; children = new ArrayList&lt;&gt;();\r\n\r\n    @Column(name = &quot;createdAt&quot;)\r\n    @CreatedDate\r\n    private LocalDateTime createdAt;\r\n\r\n    @Column(name = &quot;updatedAt&quot;)\r\n    @LastModifiedDate\r\n    private LocalDateTime updatedAt;\r\n    \r\n\r\n}\r\n\r\n\r\n\r\n@Data\r\n@Entity\r\n@Table(name = &quot;child&quot;)\r\n@EntityListeners({AuditingEntityListener.class, ChildListener.class})\r\npublic class Child {\r\n\r\n    @EmbeddedId\r\n    @JsonIgnore\r\n    private ChildPk id = new ChildPk();\r\n\r\n    private String otherThing;\r\n\r\n    @Column(name = &quot;createdAt&quot;)\r\n    @CreatedDate\r\n    private LocalDateTime createdAt;\r\n\r\n    @Column(name = &quot;updatedAt&quot;)\r\n    @LastModifiedDate\r\n    private LocalDateTime updatedAt;\r\n}\r\n\r\n```\r\n\r\n\r\n**What I need** is when a child got updated, the parent&#39;s &quot;updatedAt&quot; date got updated too.\r\n\r\nFor this, I have implemented the ChildListener that is an Entity Listener on the child class.\r\n\r\nThis is the code:\r\n\r\n```java\r\n\r\npublic class ChildListener {\r\n\r\n    private final ParentService parentService;\r\n\r\n    public IntegracaoListener(@Lazy ParentService parentService) {\r\n        this.parentService = parentService;\r\n    }\r\n\r\n    @PrePersist\r\n    @PreUpdate\r\n    private void before(Child child) {\r\n        parentService.updateParentsUpdatedAt(child.getId().getParent().getId());\r\n    }\r\n}\r\n\r\n// Parent Service:\r\n\r\n@Service\r\n@RequiredArgsConstructor\r\npublic ParentService {\r\n   private final ParentRepository repository;\r\n\r\n    @Transactional\r\n    public void updateParentsUpdatedAt(UUID id) {\r\n        var parent = repository.findById(id).orElseThrow(() -&gt; new SomeException(MessageError.SOMETHING));\r\n            parent.setUpdatedAt(LocalDateTime.now());\r\n            repository.saveAndFlush(parent); // This causes recursion.\r\n            // repository.save(ambiente); This simply doesn&#39;t works.\r\n\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nThe problem here is: When `repository.saveAndFlush(parent);` is executed, it triggers again the method `ChildListener.before(...)` and again, and again... until JVM throws stackoverflow.\r\n\r\nTo solve this, I simply moved the  `ParentService.updateParentsUpdatedAt(...)` to another Thread, so the Listener will not notice any change on the entity:\r\n\r\n```java\r\n\r\n@Service\r\n@RequiredArgsConstructor\r\npublic ParentService {\r\n   private final ParentRepository repository;\r\n\r\n    @Transactional\r\n    public void updateParentsUpdatedAt(UUID id) {\r\n        var thread = new Thread(() -&gt; {\r\n            var ambiente = repository.findById(id).orElseThrow(() -&gt; new SomeException(MessageError.SOMETHING));\r\n            ambiente.setDataModificacao(LocalDateTime.now());\r\n            repository.saveAndFlush(ambiente);\r\n            Thread.yield();\r\n        });\r\n        thread.setDaemon(true);\r\n        thread.start();\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nThis works... but... is this the best solution for this problem?\r\n \r\n","title":"Java 17 Recursive @EntityListeners - Spring Data Jpa","body":"<p>I have two entities, Parent and Child.</p>\n<p>The relationship is One parent can have many children and one child can have one parent.</p>\n<p>Here are my classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Entity\n@Table(name = &quot;parent&quot;)\n@EntityListeners(AuditingEntityListener.class)\npublic class Parent {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private UUID id;\n\n    private String someThing;\n\n    @OneToMany(mappedBy = &quot;id.parent&quot;, fetch = FetchType.EAGER)\n    private List&lt;Child&gt; children = new ArrayList&lt;&gt;();\n\n    @Column(name = &quot;createdAt&quot;)\n    @CreatedDate\n    private LocalDateTime createdAt;\n\n    @Column(name = &quot;updatedAt&quot;)\n    @LastModifiedDate\n    private LocalDateTime updatedAt;\n    \n\n}\n\n\n\n@Data\n@Entity\n@Table(name = &quot;child&quot;)\n@EntityListeners({AuditingEntityListener.class, ChildListener.class})\npublic class Child {\n\n    @EmbeddedId\n    @JsonIgnore\n    private ChildPk id = new ChildPk();\n\n    private String otherThing;\n\n    @Column(name = &quot;createdAt&quot;)\n    @CreatedDate\n    private LocalDateTime createdAt;\n\n    @Column(name = &quot;updatedAt&quot;)\n    @LastModifiedDate\n    private LocalDateTime updatedAt;\n}\n\n</code></pre>\n<p><strong>What I need</strong> is when a child got updated, the parent's &quot;updatedAt&quot; date got updated too.</p>\n<p>For this, I have implemented the ChildListener that is an Entity Listener on the child class.</p>\n<p>This is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class ChildListener {\n\n    private final ParentService parentService;\n\n    public IntegracaoListener(@Lazy ParentService parentService) {\n        this.parentService = parentService;\n    }\n\n    @PrePersist\n    @PreUpdate\n    private void before(Child child) {\n        parentService.updateParentsUpdatedAt(child.getId().getParent().getId());\n    }\n}\n\n// Parent Service:\n\n@Service\n@RequiredArgsConstructor\npublic ParentService {\n   private final ParentRepository repository;\n\n    @Transactional\n    public void updateParentsUpdatedAt(UUID id) {\n        var parent = repository.findById(id).orElseThrow(() -&gt; new SomeException(MessageError.SOMETHING));\n            parent.setUpdatedAt(LocalDateTime.now());\n            repository.saveAndFlush(parent); // This causes recursion.\n            // repository.save(ambiente); This simply doesn't works.\n\n    }\n}\n\n\n</code></pre>\n<p>The problem here is: When <code>repository.saveAndFlush(parent);</code> is executed, it triggers again the method <code>ChildListener.before(...)</code> and again, and again... until JVM throws stackoverflow.</p>\n<p>To solve this, I simply moved the  <code>ParentService.updateParentsUpdatedAt(...)</code> to another Thread, so the Listener will not notice any change on the entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Service\n@RequiredArgsConstructor\npublic ParentService {\n   private final ParentRepository repository;\n\n    @Transactional\n    public void updateParentsUpdatedAt(UUID id) {\n        var thread = new Thread(() -&gt; {\n            var ambiente = repository.findById(id).orElseThrow(() -&gt; new SomeException(MessageError.SOMETHING));\n            ambiente.setDataModificacao(LocalDateTime.now());\n            repository.saveAndFlush(ambiente);\n            Thread.yield();\n        });\n        thread.setDaemon(true);\n        thread.start();\n\n    }\n}\n\n</code></pre>\n<p>This works... but... is this the best solution for this problem?</p>\n"},{"tags":["java","postgresql","hibernate","kotlin","hibernate-mapping"],"answers":[{"comments":[{"owner":{"account_id":391620,"reputation":2118,"user_id":752385,"accept_rate":38,"display_name":"Strinder"},"score":0,"creation_date":1700823105,"post_id":63842502,"comment_id":136703089,"body_markdown":"This is no longer possible with Hibernate &gt;6 since TypeDef has been removed (see answer above)","body":"This is no longer possible with Hibernate &gt;6 since TypeDef has been removed (see answer above)"}],"tags":[],"owner":{"account_id":7740826,"reputation":5758,"user_id":5860648,"accept_rate":25,"display_name":"sjahan"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1599808966,"creation_date":1599808966,"answer_id":63842502,"question_id":63743920,"body_markdown":"I&#39;m posting my solution, I didn&#39;t succeed to get a `List&lt;Values&gt;`, although I got an `Array&lt;Values&gt;` which was fine with me.\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;test&quot;)\r\n@TypeDef(\r\n        name = &quot;values-array&quot;,\r\n        typeClass = EnumArrayType::class,\r\n        defaultForType = Array&lt;Values&gt;::class,\r\n        parameters = [\r\n          Parameter(\r\n                  name = EnumArrayType.SQL_ARRAY_TYPE,\r\n                  value = &quot;varchar&quot;\r\n          )\r\n        ]\r\n)\r\ndata class DbTest(\r\n        @Type(type = &quot;values-array&quot;)\r\n        @Column(name = &quot;my_values&quot;, columnDefinition = &quot;varchar[]&quot;)\r\n        val myValues: Array&lt;Values&gt;\r\n)\r\n\r\nenum class Values {\r\n       VAL1, VAL2\r\n}\r\n```\r\n\r\nThis is working like a charm and I can map my array to a list and vice versa quite easily, which is ok.\r\n\r\nHoping this will help someone someday ;)","title":"Hibernate mapping between Postgres array of varchar and a Java/Kotlin collection of enum","body":"<p>I'm posting my solution, I didn't succeed to get a <code>List&lt;Values&gt;</code>, although I got an <code>Array&lt;Values&gt;</code> which was fine with me.</p>\n<pre><code>@Entity\n@Table(name = &quot;test&quot;)\n@TypeDef(\n        name = &quot;values-array&quot;,\n        typeClass = EnumArrayType::class,\n        defaultForType = Array&lt;Values&gt;::class,\n        parameters = [\n          Parameter(\n                  name = EnumArrayType.SQL_ARRAY_TYPE,\n                  value = &quot;varchar&quot;\n          )\n        ]\n)\ndata class DbTest(\n        @Type(type = &quot;values-array&quot;)\n        @Column(name = &quot;my_values&quot;, columnDefinition = &quot;varchar[]&quot;)\n        val myValues: Array&lt;Values&gt;\n)\n\nenum class Values {\n       VAL1, VAL2\n}\n</code></pre>\n<p>This is working like a charm and I can map my array to a list and vice versa quite easily, which is ok.</p>\n<p>Hoping this will help someone someday ;)</p>\n"},{"comments":[{"owner":{"account_id":391620,"reputation":2118,"user_id":752385,"accept_rate":38,"display_name":"Strinder"},"score":0,"creation_date":1700822983,"post_id":71721965,"comment_id":136703064,"body_markdown":"This is no longer possible with Hibernate &gt;6 since TypeDef has been removed (see answer above)","body":"This is no longer possible with Hibernate &gt;6 since TypeDef has been removed (see answer above)"}],"tags":[],"owner":{"account_id":1880239,"reputation":927,"user_id":1700614,"display_name":"z0mb1ek"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1648943146,"creation_date":1648943146,"answer_id":71721965,"question_id":63743920,"body_markdown":"Previous answer does not work for me, but this working: \r\n\r\n        TypeDef(\r\n          name = &quot;enums-array&quot;,\r\n          typeClass = ListArrayType::class,\r\n          parameters = [Parameter(name = EnumArrayType.SQL_ARRAY_TYPE, value = &quot;varchar&quot;)]\r\n        )","title":"Hibernate mapping between Postgres array of varchar and a Java/Kotlin collection of enum","body":"<p>Previous answer does not work for me, but this working:</p>\n<pre><code>    TypeDef(\n      name = &quot;enums-array&quot;,\n      typeClass = ListArrayType::class,\n      parameters = [Parameter(name = EnumArrayType.SQL_ARRAY_TYPE, value = &quot;varchar&quot;)]\n    )\n</code></pre>\n"},{"tags":[],"owner":{"account_id":391620,"reputation":2118,"user_id":752385,"accept_rate":38,"display_name":"Strinder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700823053,"creation_date":1700735409,"answer_id":77536150,"question_id":63743920,"body_markdown":"If using Hibernate version &gt; 6 this changed and should look like this:\r\n\r\n    @Type(StringArrayType.class)\r\n    @Column(\r\n        name = &quot;sensor_names&quot;,\r\n        columnDefinition = &quot;text[]&quot;\r\n    )\r\n    private String[] sensorNames;\r\n \r\n    @Type(IntArrayType.class)\r\n    @Column(\r\n        name = &quot;sensor_values&quot;,\r\n        columnDefinition = &quot;integer[]&quot;\r\n    )\r\n    private int[] sensorValues;\r\n \r\n    @Type(\r\n        value = EnumArrayType.class,\r\n        parameters = @Parameter(\r\n            name = AbstractArrayType.SQL_ARRAY_TYPE,\r\n            value = &quot;sensor_state&quot;\r\n        )\r\n    )\r\n    @Column(\r\n        name = &quot;sensor_states&quot;,\r\n        columnDefinition = &quot;sensor_state[]&quot;\r\n    )\r\n    private SensorState[] sensorStates;\r\n\r\n**Note:** EnumArrayType comes from library [HypersistenceUtils][1]\r\n\r\n\r\n  [1]: https://github.com/vladmihalcea/hypersistence-utils","title":"Hibernate mapping between Postgres array of varchar and a Java/Kotlin collection of enum","body":"<p>If using Hibernate version &gt; 6 this changed and should look like this:</p>\n<pre><code>@Type(StringArrayType.class)\n@Column(\n    name = &quot;sensor_names&quot;,\n    columnDefinition = &quot;text[]&quot;\n)\nprivate String[] sensorNames;\n\n@Type(IntArrayType.class)\n@Column(\n    name = &quot;sensor_values&quot;,\n    columnDefinition = &quot;integer[]&quot;\n)\nprivate int[] sensorValues;\n\n@Type(\n    value = EnumArrayType.class,\n    parameters = @Parameter(\n        name = AbstractArrayType.SQL_ARRAY_TYPE,\n        value = &quot;sensor_state&quot;\n    )\n)\n@Column(\n    name = &quot;sensor_states&quot;,\n    columnDefinition = &quot;sensor_state[]&quot;\n)\nprivate SensorState[] sensorStates;\n</code></pre>\n<p><strong>Note:</strong> EnumArrayType comes from library <a href=\"https://github.com/vladmihalcea/hypersistence-utils\" rel=\"nofollow noreferrer\">HypersistenceUtils</a></p>\n"}],"owner":{"account_id":7740826,"reputation":5758,"user_id":5860648,"accept_rate":25,"display_name":"sjahan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1996,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":63842502,"answer_count":3,"score":3,"last_activity_date":1700823053,"creation_date":1599232813,"question_id":63743920,"body_markdown":"Basically everything is in the title. \r\n\r\nI have a column in my DB which is a `varchar[]`. \r\n\r\nI really would like to map it to a Java/Kotlin `enum`. We&#39;ve already got this working to fetch it as a list of `String`s (through `com.vladmihalcea:hibernate-types` and `StringArrayType`), but not with a mapping to an enum. Do you know if this is possible? \r\n\r\nSince we know how to map a `varchar` to an `enum`, and a `varchar[]` to a collection of `String`, I would be tempted to think that this should possible, but I didn&#39;t succeed yet.\r\n\r\nHere would be a simple sample of my current configuration: \r\n\r\n```\r\nCREATE TABLE test(my_values varchar[]) ;\r\nINSERT INTO test(my_values) values (&#39;{VAL1, VAL2}&#39;)\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;test&quot;)\r\ndata class DbTest(\r\n        @Column(name = &quot;my_values&quot;)\r\n        val myValues: List&lt;Values&gt;\r\n)\r\n\r\nenum class Values {\r\n       VAL1, VAL2\r\n}\r\n```\r\nI tried this: https://vladmihalcea.com/map-postgresql-enum-array-jpa-entity-property-hibernate/ which looks pretty good but you have to define the enum in the DB and we don&#39;t want that.\r\n\r\nThanks!","title":"Hibernate mapping between Postgres array of varchar and a Java/Kotlin collection of enum","body":"<p>Basically everything is in the title.</p>\n<p>I have a column in my DB which is a <code>varchar[]</code>.</p>\n<p>I really would like to map it to a Java/Kotlin <code>enum</code>. We've already got this working to fetch it as a list of <code>String</code>s (through <code>com.vladmihalcea:hibernate-types</code> and <code>StringArrayType</code>), but not with a mapping to an enum. Do you know if this is possible?</p>\n<p>Since we know how to map a <code>varchar</code> to an <code>enum</code>, and a <code>varchar[]</code> to a collection of <code>String</code>, I would be tempted to think that this should possible, but I didn't succeed yet.</p>\n<p>Here would be a simple sample of my current configuration:</p>\n<pre><code>CREATE TABLE test(my_values varchar[]) ;\nINSERT INTO test(my_values) values ('{VAL1, VAL2}')\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;test&quot;)\ndata class DbTest(\n        @Column(name = &quot;my_values&quot;)\n        val myValues: List&lt;Values&gt;\n)\n\nenum class Values {\n       VAL1, VAL2\n}\n</code></pre>\n<p>I tried this: <a href=\"https://vladmihalcea.com/map-postgresql-enum-array-jpa-entity-property-hibernate/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/map-postgresql-enum-array-jpa-entity-property-hibernate/</a> which looks pretty good but you have to define the enum in the DB and we don't want that.</p>\n<p>Thanks!</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9878,"page":39,"page_size":100}
