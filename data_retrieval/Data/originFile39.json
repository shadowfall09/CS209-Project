{"items":[{"tags":["java","spring-boot","elasticsearch"],"owner":{"account_id":13376026,"reputation":61,"user_id":9652891,"display_name":"Leva dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700765249,"creation_date":1700765249,"question_id":77539097,"body_markdown":"I have built the springboot project 2.6v with elasticsearch, I have an index named employee, this employee have 4 fields, firsname, lastname, section and salary, section is enum.\r\nI am using RestHighLevelClient to interact with elasticsearch. when I use it to perform get operation it works fine, but when I use it as create doc, by the following code:\r\n```\r\npublic Map&lt;String,String&gt; save(Employee employee) throws IOException {\r\n    IndexRequest request = new IndexRequest(&quot;employees&quot;);\r\n    String jsonString = objectMapper().writeValueAsString(employee);\r\n    request.source(jsonString, XContentType.JSON);\r\n    restHighLevelClient.index(request, RequestOptions.DEFAULT);\r\n    return Map.of(&quot;ack&quot;,&quot;true&quot;);\r\n}\r\n```\r\n it throws the following exception\r\n```\r\njava.io.IOException: Unable to parse response body for Response{requestLine=POST /logs/_doc?timeout=1m HTTP/1.1, host=http://127.0.0.1:9200, response=HTTP/1.1 201 Created}\r\n\tat org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1751) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\r\n\tat org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1702) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\r\n\tat org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:1672) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\r\n\tat org.elasticsearch.client.RestHighLevelClient.index(RestHighLevelClient.java:1029) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\r\n\tat io.arabot.elasticseach.service.LogService.save(LogService.java:115) ~[classes/:na]\r\n\tat io.arabot.elasticseach.controllers.LogController.createLog(LogController.java:41) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.58.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.58.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:359) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1735) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\nCaused by: java.lang.NullPointerException: null\r\n\tat java.base/java.util.Objects.requireNonNull(Objects.java:209) ~[na:na]\r\n\tat org.elasticsearch.action.DocWriteResponse.&lt;init&gt;(DocWriteResponse.java:116) ~[elasticsearch-7.15.2.jar:7.15.2]\r\n\tat org.elasticsearch.action.index.IndexResponse.&lt;init&gt;(IndexResponse.java:43) ~[elasticsearch-7.15.2.jar:7.15.2]\r\n\tat org.elasticsearch.action.index.IndexResponse.&lt;init&gt;(IndexResponse.java:28) ~[elasticsearch-7.15.2.jar:7.15.2]\r\n\tat org.elasticsearch.action.index.IndexResponse$Builder.build(IndexResponse.java:96) ~[elasticsearch-7.15.2.jar:7.15.2]\r\n\tat org.elasticsearch.action.index.IndexResponse.fromXContent(IndexResponse.java:78) ~[elasticsearch-7.15.2.jar:7.15.2]\r\n\tat org.elasticsearch.client.RestHighLevelClient.parseEntity(RestHighLevelClient.java:2011) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\r\n\tat org.elasticsearch.client.RestHighLevelClient.lambda$performRequestAndParseEntity$8(RestHighLevelClient.java:1673) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\r\n\tat org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1749) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\r\n\t... 55 common frames omitted\r\n\r\n```","title":"How to save document in elasticsearch by springboot app","body":"<p>I have built the springboot project 2.6v with elasticsearch, I have an index named employee, this employee have 4 fields, firsname, lastname, section and salary, section is enum.\nI am using RestHighLevelClient to interact with elasticsearch. when I use it to perform get operation it works fine, but when I use it as create doc, by the following code:</p>\n<pre><code>public Map&lt;String,String&gt; save(Employee employee) throws IOException {\n    IndexRequest request = new IndexRequest(&quot;employees&quot;);\n    String jsonString = objectMapper().writeValueAsString(employee);\n    request.source(jsonString, XContentType.JSON);\n    restHighLevelClient.index(request, RequestOptions.DEFAULT);\n    return Map.of(&quot;ack&quot;,&quot;true&quot;);\n}\n</code></pre>\n<p>it throws the following exception</p>\n<pre><code>java.io.IOException: Unable to parse response body for Response{requestLine=POST /logs/_doc?timeout=1m HTTP/1.1, host=http://127.0.0.1:9200, response=HTTP/1.1 201 Created}\n    at org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1751) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\n    at org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1702) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\n    at org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:1672) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\n    at org.elasticsearch.client.RestHighLevelClient.index(RestHighLevelClient.java:1029) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\n    at io.arabot.elasticseach.service.LogService.save(LogService.java:115) ~[classes/:na]\n    at io.arabot.elasticseach.controllers.LogController.createLog(LogController.java:41) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.58.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.58.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:359) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1735) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\nCaused by: java.lang.NullPointerException: null\n    at java.base/java.util.Objects.requireNonNull(Objects.java:209) ~[na:na]\n    at org.elasticsearch.action.DocWriteResponse.&lt;init&gt;(DocWriteResponse.java:116) ~[elasticsearch-7.15.2.jar:7.15.2]\n    at org.elasticsearch.action.index.IndexResponse.&lt;init&gt;(IndexResponse.java:43) ~[elasticsearch-7.15.2.jar:7.15.2]\n    at org.elasticsearch.action.index.IndexResponse.&lt;init&gt;(IndexResponse.java:28) ~[elasticsearch-7.15.2.jar:7.15.2]\n    at org.elasticsearch.action.index.IndexResponse$Builder.build(IndexResponse.java:96) ~[elasticsearch-7.15.2.jar:7.15.2]\n    at org.elasticsearch.action.index.IndexResponse.fromXContent(IndexResponse.java:78) ~[elasticsearch-7.15.2.jar:7.15.2]\n    at org.elasticsearch.client.RestHighLevelClient.parseEntity(RestHighLevelClient.java:2011) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\n    at org.elasticsearch.client.RestHighLevelClient.lambda$performRequestAndParseEntity$8(RestHighLevelClient.java:1673) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\n    at org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1749) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\n    ... 55 common frames omitted\n\n</code></pre>\n"},{"tags":["java","java-io","intellij-14"],"owner":{"account_id":26934922,"reputation":15,"user_id":20506688,"display_name":"Nicolas_Arias3142"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1700767069,"answer_count":0,"score":0,"last_activity_date":1700765071,"creation_date":1700765071,"question_id":77539085,"body_markdown":"I want to let the user input the file name, and be able to read through that file. I then get the error that the file is not found. The file is in the same module, and I want it to work without having to specify the absolute path.\r\nI am using Intellij. \r\n\r\n\r\n\r\nThis is what I want, but I get a FileNotFoundException.\r\n```\r\nFile dataFile = new File(&quot;lottacash.csv&quot;);\r\n```\r\nThis is the way I got it to work.\r\n\r\n```\r\nFile dataFile = new File(&quot;C:\\\\FolderWithModuels\\\\ModuelProject\\\\&quot;+ &quot;lottacash.csv&quot;);\r\n```\r\n","title":"Creating a file object only works when I use an absolute path","body":"<p>I want to let the user input the file name, and be able to read through that file. I then get the error that the file is not found. The file is in the same module, and I want it to work without having to specify the absolute path.\nI am using Intellij.</p>\n<p>This is what I want, but I get a FileNotFoundException.</p>\n<pre><code>File dataFile = new File(&quot;lottacash.csv&quot;);\n</code></pre>\n<p>This is the way I got it to work.</p>\n<pre><code>File dataFile = new File(&quot;C:\\\\FolderWithModuels\\\\ModuelProject\\\\&quot;+ &quot;lottacash.csv&quot;);\n</code></pre>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1645006194,"post_id":71139586,"comment_id":125753530,"body_markdown":"you probably loose your modal values on redirect. I don&#39;t remember exactly how it is in thymleaf but I am guessing it doesnt persist between requests","body":"you probably loose your modal values on redirect. I don&#39;t remember exactly how it is in thymleaf but I am guessing it doesnt persist between requests"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1645006233,"post_id":71139586,"comment_id":125753552,"body_markdown":"Don&#39;t add the `order` to the model, it is already part of it.","body":"Don&#39;t add the <code>order</code> to the model, it is already part of it."},{"owner":{"display_name":"user16722881"},"score":0,"creation_date":1645006333,"post_id":71139586,"comment_id":125753591,"body_markdown":"@JAsgarov the problem is that I am not redirecting, I trigger my bindingresults to fail with an empty field and it just does what is stated in the first if - returns the page filled with modal attributes.","body":"@JAsgarov the problem is that I am not redirecting, I trigger my bindingresults to fail with an empty field and it just does what is stated in the first if - returns the page filled with modal attributes."},{"owner":{"display_name":"user16722881"},"score":0,"creation_date":1645007337,"post_id":71139586,"comment_id":125753993,"body_markdown":"@M.Deinum thank you, it seems like this has something to do with adding new Order. The problem is that I have a form with `th:object=&quot;${order}&quot;` and it gives me an exception \n` Caused by: java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name &#39;order&#39; available as request attribute`\nIf I don&#39;t add it","body":"@M.Deinum thank you, it seems like this has something to do with adding new Order. The problem is that I have a form with <code>th:object=&quot;${order}&quot;</code> and it gives me an exception  ` Caused by: java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name &#39;order&#39; available as request attribute` If I don&#39;t add it"},{"owner":{"display_name":"user16722881"},"score":0,"creation_date":1645007525,"post_id":71139586,"comment_id":125754055,"body_markdown":"@M.Deinum the exception was fixed. God bless you!","body":"@M.Deinum the exception was fixed. God bless you!"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1645007823,"post_id":71139586,"comment_id":125754155,"body_markdown":"Due to the binding it is added automatically, you are replacing it with a new version which then invalidates the binding results as that was for a different object instance.","body":"Due to the binding it is added automatically, you are replacing it with a new version which then invalidates the binding results as that was for a different object instance."}],"answers":[{"tags":[],"owner":{"account_id":1813529,"reputation":1409,"user_id":1649124,"accept_rate":75,"display_name":"Peopleware"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700764732,"creation_date":1700764732,"answer_id":77539063,"question_id":71139586,"body_markdown":"The very same problem bothered me for a while and the solution is within the comments. So I&#39;d like to highlight it as an explicit fix.\r\n\r\nUser [M. Deinum][1] [wrote][2]:\r\n\r\n&gt; Don&#39;t add the order to the model, it is already part of it\r\n\r\nand\r\n\r\n&gt; Due to the binding it is added automatically, you are replacing it with a new version which then invalidates the binding results as that was for a different object instance\r\n\r\nIn my case I initialize a couple of model attributes and wrote a method to do this for both the `Get-` and the `PostMapping`. I did not realize that in the `Post` case it overrides the already given model attribute.\r\n\r\nThanks to the eyes of an experienced Spring user!\r\n\r\n  [1]: https://stackoverflow.com/users/2696260/m-deinum\r\n  [2]: https://stackoverflow.com/questions/71139586/bindingresult-does-not-work-thymeleaf-cant-see-it#comment125753552_71139586","title":"BindingResult does not work, thymeleaf can&#39;t see it","body":"<p>The very same problem bothered me for a while and the solution is within the comments. So I'd like to highlight it as an explicit fix.</p>\n<p>User <a href=\"https://stackoverflow.com/users/2696260/m-deinum\">M. Deinum</a> <a href=\"https://stackoverflow.com/questions/71139586/bindingresult-does-not-work-thymeleaf-cant-see-it#comment125753552_71139586\">wrote</a>:</p>\n<blockquote>\n<p>Don't add the order to the model, it is already part of it</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>Due to the binding it is added automatically, you are replacing it with a new version which then invalidates the binding results as that was for a different object instance</p>\n</blockquote>\n<p>In my case I initialize a couple of model attributes and wrote a method to do this for both the <code>Get-</code> and the <code>PostMapping</code>. I did not realize that in the <code>Post</code> case it overrides the already given model attribute.</p>\n<p>Thanks to the eyes of an experienced Spring user!</p>\n"}],"owner":{"display_name":"user16722881"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":568,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700764732,"creation_date":1645005250,"question_id":71139586,"body_markdown":"I have this method\r\n\r\n        @PostMapping\r\n    public String saveOrder(@Valid @ModelAttribute OrderCreationDto order,\r\n                            BindingResult bindingResult,\r\n                            @AuthenticationPrincipal AuthenticatedUser authenticatedUser,\r\n                            Model model) {\r\n        System.out.println(&quot;BINDING &quot; + bindingResult);\r\n\r\n        if (bindingResult.hasErrors()) {\r\n            fillMenuModelWithData(model);\r\n            return &quot;menu&quot;;\r\n        }\r\n\r\n\r\n        try {\r\n            orderService.saveOrder(order, authenticatedUser);\r\n        } catch (InsufficientFundsException e) {\r\n            log.debug(e.toString());\r\n            fillMenuModelWithData(model);\r\n            return &quot;menu&quot;;\r\n        }\r\n        return &quot;redirect:/orders/history&quot;;\r\n    }\r\n\r\nAnd this helper method just to fill models with needed attributes\r\n\r\n        private void fillMenuModelWithData(Model model) {\r\n        model.addAttribute(&quot;sortField&quot;, DEFAULT_SORT_FIELD);\r\n        model.addAttribute(&quot;sortDir&quot;, DEFAULT_SORT_DIR);\r\n        model.addAttribute(&quot;filterCategory&quot;, DEFAULT_CATEGRY);\r\n        model.addAttribute(&quot;pageSize&quot;, DEFAULT_PAGE_SIZE);\r\n        model.addAttribute(&quot;filterCategory&quot;, DEFAULT_CATEGRY);\r\n        model.addAttribute(&quot;order&quot;, new OrderCreationDto());\r\n        model.addAttribute(&quot;dishList&quot;, dishService.findAllDishesSorted(\r\n                DEFAULT_SORT_FIELD, DEFAULT_SORT_DIR));\r\n    }\r\n\r\nAs you can see, I print to console with `System.out.println` my BindingResult and it looks like this.\r\n\r\n&gt; BINDING org.springframework.validation.BeanPropertyBindingResult: 2\r\n&gt; errors \r\n\r\n&gt; Field error in object &#39;orderCreationDto&#39; on field &#39;address&#39;:\r\n&gt; rejected value [ ]; codes\r\n&gt; [NotBlank.orderCreationDto.address,NotBlank.address,NotBlank.java.lang.String,NotBlank];\r\n&gt; arguments\r\n&gt; [org.springframework.context.support.DefaultMessageSourceResolvable:\r\n&gt; codes [orderCreationDto.address,address]; arguments []; default\r\n&gt; message [address]]; default message [Address cannot be empty]\r\n&gt; \r\n&gt; Field error in object &#39;orderCreationDto&#39; on field &#39;dishIdQuantityMap&#39;:\r\n&gt; rejected value [{752=0, 952=0}]; codes\r\n&gt; [HasOrder.orderCreationDto.dishIdQuantityMap,HasOrder.dishIdQuantityMap,HasOrder.java.util.Map,HasOrder];\r\n&gt; arguments\r\n&gt; [org.springframework.context.support.DefaultMessageSourceResolvable:\r\n&gt; codes [orderCreationDto.dishIdQuantityMap,dishIdQuantityMap];\r\n&gt; arguments []; default message [dishIdQuantityMap]]; default message\r\n&gt; [Order does not contain any Dishes]\r\n\r\n\r\nSeems like everything ok, let&#39;s see if we have any erros on `menu` page.\r\n\r\n                   &lt;p th:text=&quot;${#fields.errors()}&quot;&gt;&lt;/p&gt;\r\n                &lt;p th:text=&quot;${#fields.hasAnyErrors()}&quot;&gt;&lt;/p&gt;\r\n\r\nAnd we see nothing\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ytk2M.png\r\nI&#39;ve tried to debug this on my own for the whole night, need your help a lot!\r\n\r\n\r\n\r\nUPD:\r\n\r\n\r\nHere is the error I get skip adding new Order in Post method   \r\n\r\n     Caused by: java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name &#39;order&#39; available as request attribute\r\n\r\n","title":"BindingResult does not work, thymeleaf can&#39;t see it","body":"<p>I have this method</p>\n<pre><code>    @PostMapping\npublic String saveOrder(@Valid @ModelAttribute OrderCreationDto order,\n                        BindingResult bindingResult,\n                        @AuthenticationPrincipal AuthenticatedUser authenticatedUser,\n                        Model model) {\n    System.out.println(&quot;BINDING &quot; + bindingResult);\n\n    if (bindingResult.hasErrors()) {\n        fillMenuModelWithData(model);\n        return &quot;menu&quot;;\n    }\n\n\n    try {\n        orderService.saveOrder(order, authenticatedUser);\n    } catch (InsufficientFundsException e) {\n        log.debug(e.toString());\n        fillMenuModelWithData(model);\n        return &quot;menu&quot;;\n    }\n    return &quot;redirect:/orders/history&quot;;\n}\n</code></pre>\n<p>And this helper method just to fill models with needed attributes</p>\n<pre><code>    private void fillMenuModelWithData(Model model) {\n    model.addAttribute(&quot;sortField&quot;, DEFAULT_SORT_FIELD);\n    model.addAttribute(&quot;sortDir&quot;, DEFAULT_SORT_DIR);\n    model.addAttribute(&quot;filterCategory&quot;, DEFAULT_CATEGRY);\n    model.addAttribute(&quot;pageSize&quot;, DEFAULT_PAGE_SIZE);\n    model.addAttribute(&quot;filterCategory&quot;, DEFAULT_CATEGRY);\n    model.addAttribute(&quot;order&quot;, new OrderCreationDto());\n    model.addAttribute(&quot;dishList&quot;, dishService.findAllDishesSorted(\n            DEFAULT_SORT_FIELD, DEFAULT_SORT_DIR));\n}\n</code></pre>\n<p>As you can see, I print to console with <code>System.out.println</code> my BindingResult and it looks like this.</p>\n<blockquote>\n<p>BINDING org.springframework.validation.BeanPropertyBindingResult: 2\nerrors</p>\n</blockquote>\n<blockquote>\n<p>Field error in object 'orderCreationDto' on field 'address':\nrejected value [ ]; codes\n[NotBlank.orderCreationDto.address,NotBlank.address,NotBlank.java.lang.String,NotBlank];\narguments\n[org.springframework.context.support.DefaultMessageSourceResolvable:\ncodes [orderCreationDto.address,address]; arguments []; default\nmessage [address]]; default message [Address cannot be empty]</p>\n<p>Field error in object 'orderCreationDto' on field 'dishIdQuantityMap':\nrejected value [{752=0, 952=0}]; codes\n[HasOrder.orderCreationDto.dishIdQuantityMap,HasOrder.dishIdQuantityMap,HasOrder.java.util.Map,HasOrder];\narguments\n[org.springframework.context.support.DefaultMessageSourceResolvable:\ncodes [orderCreationDto.dishIdQuantityMap,dishIdQuantityMap];\narguments []; default message [dishIdQuantityMap]]; default message\n[Order does not contain any Dishes]</p>\n</blockquote>\n<p>Seems like everything ok, let's see if we have any erros on <code>menu</code> page.</p>\n<pre><code>               &lt;p th:text=&quot;${#fields.errors()}&quot;&gt;&lt;/p&gt;\n            &lt;p th:text=&quot;${#fields.hasAnyErrors()}&quot;&gt;&lt;/p&gt;\n</code></pre>\n<p>And we see nothing</p>\n<p><a href=\"https://i.stack.imgur.com/ytk2M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ytk2M.png\" alt=\"enter image description here\" /></a></p>\n<p>I've tried to debug this on my own for the whole night, need your help a lot!</p>\n<p>UPD:</p>\n<p>Here is the error I get skip adding new Order in Post method</p>\n<pre><code> Caused by: java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name 'order' available as request attribute\n</code></pre>\n"},{"tags":["java","opencv","image-processing"],"answers":[{"tags":[],"owner":{"account_id":3487243,"reputation":971,"user_id":2917835,"accept_rate":79,"display_name":"medloh"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1428672233,"creation_date":1402343331,"answer_id":24127841,"question_id":24127138,"body_markdown":"Here&#39;s a way, not claiming its the best way.  \r\n\r\n    Mat m = ... // your smaller mat\r\n    Mat submat= matOrig.submat(new Rect(x,y, m.cols(), m.rows()) );\r\n    m.copyTo(submat);\r\n\r\nThat should work assuming m doesn&#39;t go out of bounds inside matOrig.  When you get a submat, it is still linked to its source Mat.\r\n","title":"How to replace a rectangular region of Mat image","body":"<p>Here's a way, not claiming its the best way.  </p>\n\n<pre><code>Mat m = ... // your smaller mat\nMat submat= matOrig.submat(new Rect(x,y, m.cols(), m.rows()) );\nm.copyTo(submat);\n</code></pre>\n\n<p>That should work assuming m doesn't go out of bounds inside matOrig.  When you get a submat, it is still linked to its source Mat.</p>\n"},{"tags":[],"owner":{"account_id":14559403,"reputation":1,"user_id":10515925,"display_name":"Siyan Ding"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1541436488,"creation_date":1541435064,"answer_id":53158328,"question_id":24127138,"body_markdown":" This is my code:\r\n \r\n    Mat m = new Mat(originalImg,new Rect(x,y,w, h));\r\n    double[] size = {w, h};\r\n    Imgproc.resize(logo,logo,new Size(size));// make sure your logo is the same size with your roi\r\n    Imgproc.cvtColor(logo, logo, Imgproc.COLOR_RGBA2RGB);//make sure your logo has the same channel with your dst img\r\n    congrats.copyTo(m);","title":"How to replace a rectangular region of Mat image","body":"<p>This is my code:</p>\n\n<pre><code>Mat m = new Mat(originalImg,new Rect(x,y,w, h));\ndouble[] size = {w, h};\nImgproc.resize(logo,logo,new Size(size));// make sure your logo is the same size with your roi\nImgproc.cvtColor(logo, logo, Imgproc.COLOR_RGBA2RGB);//make sure your logo has the same channel with your dst img\ncongrats.copyTo(m);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":426556,"reputation":934,"user_id":807828,"accept_rate":93,"display_name":"vextorspace"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700764561,"creation_date":1700764561,"answer_id":77539055,"question_id":24127138,"body_markdown":"Here is my kotlin code for this:\r\n\r\n    \r\n        val shifted = Mat.zeros(image.size(), image.type())\r\n        val copiedSize = Size(image.width() - abs(pixelOffset.x), image.height() - abs(pixelOffset.y))\r\n\r\n        val fromStartPoint = Point()\r\n        val toStartPoint = pixelOffset.clone()\r\n\r\n        val fromRect = Rect(fromStartPoint, copiedSize)\r\n        val toRect = Rect(toStartPoint, copiedSize)\r\n        image.submat(fromRect).copyTo(shifted.submat(toRect))\r\n        return shifted","title":"How to replace a rectangular region of Mat image","body":"<p>Here is my kotlin code for this:</p>\n<pre><code>    val shifted = Mat.zeros(image.size(), image.type())\n    val copiedSize = Size(image.width() - abs(pixelOffset.x), image.height() - abs(pixelOffset.y))\n\n    val fromStartPoint = Point()\n    val toStartPoint = pixelOffset.clone()\n\n    val fromRect = Rect(fromStartPoint, copiedSize)\n    val toRect = Rect(toStartPoint, copiedSize)\n    image.submat(fromRect).copyTo(shifted.submat(toRect))\n    return shifted\n</code></pre>\n"}],"owner":{"account_id":1606260,"reputation":170,"user_id":1486312,"accept_rate":50,"display_name":"shadee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4980,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1700764561,"creation_date":1402340674,"question_id":24127138,"body_markdown":"I am working with opencv image processing library. I just want to replace rectangular region(smaller than the original image) of my original Mat image with another small image. I couldn&#39;t find a direction to do this\r\n\r\nCan anybody help me please. Thanks in advance\r\n","title":"How to replace a rectangular region of Mat image","body":"<p>I am working with opencv image processing library. I just want to replace rectangular region(smaller than the original image) of my original Mat image with another small image. I couldn't find a direction to do this</p>\n\n<p>Can anybody help me please. Thanks in advance</p>\n"},{"tags":["java","java-17"],"answers":[{"tags":[],"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700755465,"creation_date":1700755465,"answer_id":77538254,"question_id":77538165,"body_markdown":"That&#39;s what interfaces are for, no?\r\n\r\n    public interface Dated {\r\n      LocalDate getDate();\r\n    } \r\n\r\n    public class ClassB implements Dated {\r\n      ...\r\n    }\r\n\r\n    public class ClassC implements Dated {\r\n      ...\r\n    }\r\n\r\nAnd for the setter, you can use `instanceOf`.\r\n\r\n    public void mapClassBToClassA(List&lt;? extends Dated&gt; b, List&lt;ClassA&gt; a){\r\n       Comparator&lt;Dated&gt; sortFunc = Comparator.comparing(Dated::getDate);\r\n       Collections.sort(b, sortFunc);\r\n       for (ClassA aObj : a){\r\n          LocalDate dateA = aObj.getDate();\r\n          Dated datedToUse = null;\r\n          for (Dated bObj : b){\r\n             LocalDate dateB = bObj.getDate();\r\n             if (dateB.isAfter(dateA)){\r\n                break;\r\n             }\r\n             else {\r\n                datedToUse = bObj; \r\n             } \r\n          }\r\n          if (datedToUse instanceOf ClassB bObjToUse) {\r\n             aObj.setClassB(bObjToUse);\r\n          }\r\n          else if (datedToUse instanceOf ClassC cObjToUse) {\r\n             aObj.setClassC(cObjToUse);\r\n          }\r\n       }\r\n    }","title":"How to make these two methods one?","body":"<p>That's what interfaces are for, no?</p>\n<pre><code>public interface Dated {\n  LocalDate getDate();\n} \n\npublic class ClassB implements Dated {\n  ...\n}\n\npublic class ClassC implements Dated {\n  ...\n}\n</code></pre>\n<p>And for the setter, you can use <code>instanceOf</code>.</p>\n<pre><code>public void mapClassBToClassA(List&lt;? extends Dated&gt; b, List&lt;ClassA&gt; a){\n   Comparator&lt;Dated&gt; sortFunc = Comparator.comparing(Dated::getDate);\n   Collections.sort(b, sortFunc);\n   for (ClassA aObj : a){\n      LocalDate dateA = aObj.getDate();\n      Dated datedToUse = null;\n      for (Dated bObj : b){\n         LocalDate dateB = bObj.getDate();\n         if (dateB.isAfter(dateA)){\n            break;\n         }\n         else {\n            datedToUse = bObj; \n         } \n      }\n      if (datedToUse instanceOf ClassB bObjToUse) {\n         aObj.setClassB(bObjToUse);\n      }\n      else if (datedToUse instanceOf ClassC cObjToUse) {\n         aObj.setClassC(cObjToUse);\n      }\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17353823,"reputation":67,"user_id":12571723,"display_name":"Talavera316"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1700764543,"creation_date":1700764543,"answer_id":77539052,"question_id":77538165,"body_markdown":"If you are interested in performance, first of all you should also sort the A (the second) list.\r\n\r\nWhen you find the closest younger (dateToUse) in the B list (the first list) then for the next item from A list you can start the B list looping from that point. \r\n\r\nSorting both lists you will get N (linear) complexity instead of N^2 that you have now.  \r\n","title":"How to make these two methods one?","body":"<p>If you are interested in performance, first of all you should also sort the A (the second) list.</p>\n<p>When you find the closest younger (dateToUse) in the B list (the first list) then for the next item from A list you can start the B list looping from that point.</p>\n<p>Sorting both lists you will get N (linear) complexity instead of N^2 that you have now.</p>\n"},{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1700764555,"creation_date":1700764555,"answer_id":77539054,"question_id":77538165,"body_markdown":"If you can&#39;t add a common interface to these classes you can add some functions to the method parameters:\r\n```java\r\npublic &lt;T&gt; void mapClassToClassA(List&lt;T&gt; t, List&lt;ClassA&gt; a,\r\n                                 Function&lt;T, LocalDate&gt; dateGetter,\r\n                                 BiConsumer&lt;ClassA, T&gt; setter) {\r\n\r\n    Comparator&lt;T&gt; sortFunc = Comparator.comparing(dateGetter);\r\n    Collections.sort(t, sortFunc);\r\n    for (ClassA aObj : a) {\r\n        LocalDate dateA = aObj.getDate();\r\n        T tToUse = null;\r\n        for (T tObj : t){\r\n            LocalDate dateT = dateGetter.apply(tObj);\r\n            if (dateT.isAfter(dateA)){\r\n                break;\r\n            }\r\n            tToUse = tObj; \r\n        }\r\n        setter.accept(aObj, tObjToUse);\r\n    }\r\n}\r\n```\r\nCall as follows:\r\n```java\r\nmapClassToClassA(b, a, ClassB::getDate, ClassA::setClassB);\r\nmapClassToClassA(c, a, ClassC::getDate, ClassA::setClassC);\r\n```","title":"How to make these two methods one?","body":"<p>If you can't add a common interface to these classes you can add some functions to the method parameters:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;T&gt; void mapClassToClassA(List&lt;T&gt; t, List&lt;ClassA&gt; a,\n                                 Function&lt;T, LocalDate&gt; dateGetter,\n                                 BiConsumer&lt;ClassA, T&gt; setter) {\n\n    Comparator&lt;T&gt; sortFunc = Comparator.comparing(dateGetter);\n    Collections.sort(t, sortFunc);\n    for (ClassA aObj : a) {\n        LocalDate dateA = aObj.getDate();\n        T tToUse = null;\n        for (T tObj : t){\n            LocalDate dateT = dateGetter.apply(tObj);\n            if (dateT.isAfter(dateA)){\n                break;\n            }\n            tToUse = tObj; \n        }\n        setter.accept(aObj, tObjToUse);\n    }\n}\n</code></pre>\n<p>Call as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>mapClassToClassA(b, a, ClassB::getDate, ClassA::setClassB);\nmapClassToClassA(c, a, ClassC::getDate, ClassA::setClassC);\n</code></pre>\n"}],"owner":{"account_id":24503923,"reputation":47,"user_id":18419195,"display_name":"StarMcSnow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77539054,"answer_count":3,"score":2,"last_activity_date":1700764555,"creation_date":1700754585,"question_id":77538165,"body_markdown":"I have two methods that are very similar. So I want to reduce this to one method, but I don&#39;t know how to do it.\r\n\r\nUsed like this:\r\n```\r\nmapClassBToClassA(&quot;a list o ClassB objs&quot;, &quot;a list of ClassA objs&quot;);\r\nmapClassCToClassA(&quot;a list o ClassC objs&quot;, &quot;a list of ClassA objs&quot;);\r\n```\r\nI want to change to:\r\n```\r\nmapClassToClassA(&quot;a list o ClassB objs&quot;, &quot;a list of ClassA objs&quot;);\r\nmapClassToClassA(&quot;a list o ClassC objs&quot;, &quot;a list of ClassA objs&quot;);\r\n```\r\n\r\nMethod ONE B =&gt; A\r\n```\r\npublic void mapClassBToClassA(List&lt;ClassB&gt; b, List&lt;ClassA&gt; a){\r\n   Comparator&lt;ClassB&gt; sortFunc = Comparator.comparing(ClassB::getDate);\r\n   Collections.sort(b, sortFunc);\r\n   for (ClassA aObj : a){\r\n      LocalDate dateA = aObj.getDate();\r\n      ClassB bObjToUse = null;\r\n      for (ClassB bObj : b){\r\n         LocalDate dateB = bObj.getDate();\r\n         if (dateB.isAfter(dateA)){\r\n            break;\r\n         }\r\n         else {\r\n            bObjToUse = bObj; \r\n         } \r\n      }\r\n      if (bObjToUse != null){\r\n         aObj.setClassB(bObjToUse);\r\n      }\r\n   }\r\n}\r\n```\r\nMethod TWO C =&gt; A\r\n```\r\npublic void mapClassCToClassA(List&lt;ClassC&gt; c, List&lt;ClassA&gt; a){\r\n   Comparator&lt;ClassC&gt; sortFunc = Comparator.comparing(ClassC::getDate);\r\n   Collections.sort(c, sortFunc);\r\n   for (ClassA aObj : a){\r\n      LocalDate dateA = aObj.getDate();\r\n      ClassC cObjToUse = null;\r\n      for (ClassC cObj : c){\r\n         LocalDate dateC = cObj.getDate();\r\n         if (dateC.isAfter(dateA)){\r\n            break;\r\n         }\r\n         else {\r\n            cObjToUse = cObj; \r\n         } \r\n      }\r\n      if (cObjToUse != null){\r\n         aObj.setClassC(cObjToUse);\r\n      }\r\n   }\r\n}\r\n```\r\nI want to make some thing like:\r\n\r\n```\r\npublic void mapClassToClassA(List&lt; **xx** &gt; t, List&lt;ClassA&gt; a){\r\n   Comparator&lt; **xx** &gt; sortFunc = Comparator.comparing( **xx** ::getDate);\r\n   Collections.sort( t , sortFunc);\r\n   for (ClassA aObj : a){\r\n      LocalDate dateA = aObj.getDate();\r\n      **xx** objToUse = null;\r\n      for (**xx** obj : t){\r\n         LocalDate dateT = obj.getDate();\r\n         if (dateT.isAfter(dateA)){\r\n            break;\r\n         }\r\n         else {\r\n            objToUse = bObj; \r\n         } \r\n      }\r\n      if (objToUse != null){\r\n         aObj.setClassXXX(objToUse);\r\n      }\r\n   }\r\n}\r\n```\r\nI tried using generics \r\n```\r\npublic &lt;T&gt; void mapToArende(List&lt;T&gt; t, List&lt;ClassA&gt; a){\r\n        ...\r\n           T objToUse = null;\r\n```\r\n\r\nbut that way:\r\n- I can&#39;t do the comparator, since this does not work\r\n  ```\r\n  Comparator.comparing(T::getFromdat);\r\n  ```\r\n           \r\n- And not the call to obj.getDate(), here I found a solution using reflection, but people recommend not to do that. But it works. How should I do instead?\r\n  ```\r\n  Method m = obj.getClass().getMethod(&quot;getDate&quot;);\r\n  LocalDate dateT = (LocalDate) m.invoke(obj);\r\n  ```\r\n\r\n- I can&#39;t figure out how to make the call to aObj.setClassXXX() as the method name is different for classB &amp; classC \r\n\r\nI read about lambdas but have some trouble seeing how to do with those.","title":"How to make these two methods one?","body":"<p>I have two methods that are very similar. So I want to reduce this to one method, but I don't know how to do it.</p>\n<p>Used like this:</p>\n<pre><code>mapClassBToClassA(&quot;a list o ClassB objs&quot;, &quot;a list of ClassA objs&quot;);\nmapClassCToClassA(&quot;a list o ClassC objs&quot;, &quot;a list of ClassA objs&quot;);\n</code></pre>\n<p>I want to change to:</p>\n<pre><code>mapClassToClassA(&quot;a list o ClassB objs&quot;, &quot;a list of ClassA objs&quot;);\nmapClassToClassA(&quot;a list o ClassC objs&quot;, &quot;a list of ClassA objs&quot;);\n</code></pre>\n<p>Method ONE B =&gt; A</p>\n<pre><code>public void mapClassBToClassA(List&lt;ClassB&gt; b, List&lt;ClassA&gt; a){\n   Comparator&lt;ClassB&gt; sortFunc = Comparator.comparing(ClassB::getDate);\n   Collections.sort(b, sortFunc);\n   for (ClassA aObj : a){\n      LocalDate dateA = aObj.getDate();\n      ClassB bObjToUse = null;\n      for (ClassB bObj : b){\n         LocalDate dateB = bObj.getDate();\n         if (dateB.isAfter(dateA)){\n            break;\n         }\n         else {\n            bObjToUse = bObj; \n         } \n      }\n      if (bObjToUse != null){\n         aObj.setClassB(bObjToUse);\n      }\n   }\n}\n</code></pre>\n<p>Method TWO C =&gt; A</p>\n<pre><code>public void mapClassCToClassA(List&lt;ClassC&gt; c, List&lt;ClassA&gt; a){\n   Comparator&lt;ClassC&gt; sortFunc = Comparator.comparing(ClassC::getDate);\n   Collections.sort(c, sortFunc);\n   for (ClassA aObj : a){\n      LocalDate dateA = aObj.getDate();\n      ClassC cObjToUse = null;\n      for (ClassC cObj : c){\n         LocalDate dateC = cObj.getDate();\n         if (dateC.isAfter(dateA)){\n            break;\n         }\n         else {\n            cObjToUse = cObj; \n         } \n      }\n      if (cObjToUse != null){\n         aObj.setClassC(cObjToUse);\n      }\n   }\n}\n</code></pre>\n<p>I want to make some thing like:</p>\n<pre><code>public void mapClassToClassA(List&lt; **xx** &gt; t, List&lt;ClassA&gt; a){\n   Comparator&lt; **xx** &gt; sortFunc = Comparator.comparing( **xx** ::getDate);\n   Collections.sort( t , sortFunc);\n   for (ClassA aObj : a){\n      LocalDate dateA = aObj.getDate();\n      **xx** objToUse = null;\n      for (**xx** obj : t){\n         LocalDate dateT = obj.getDate();\n         if (dateT.isAfter(dateA)){\n            break;\n         }\n         else {\n            objToUse = bObj; \n         } \n      }\n      if (objToUse != null){\n         aObj.setClassXXX(objToUse);\n      }\n   }\n}\n</code></pre>\n<p>I tried using generics</p>\n<pre><code>public &lt;T&gt; void mapToArende(List&lt;T&gt; t, List&lt;ClassA&gt; a){\n        ...\n           T objToUse = null;\n</code></pre>\n<p>but that way:</p>\n<ul>\n<li><p>I can't do the comparator, since this does not work</p>\n<pre><code>Comparator.comparing(T::getFromdat);\n</code></pre>\n</li>\n<li><p>And not the call to obj.getDate(), here I found a solution using reflection, but people recommend not to do that. But it works. How should I do instead?</p>\n<pre><code>Method m = obj.getClass().getMethod(&quot;getDate&quot;);\nLocalDate dateT = (LocalDate) m.invoke(obj);\n</code></pre>\n</li>\n<li><p>I can't figure out how to make the call to aObj.setClassXXX() as the method name is different for classB &amp; classC</p>\n</li>\n</ul>\n<p>I read about lambdas but have some trouble seeing how to do with those.</p>\n"},{"tags":["java","android","google-maps","google-maps-android-api-2"],"comments":[{"owner":{"account_id":29776118,"reputation":271,"user_id":22820043,"display_name":"Cloverleaf"},"score":3,"creation_date":1700771651,"post_id":77539053,"comment_id":136698028,"body_markdown":"I have never heard of such a possibility (a) or (b). But you can solve the problem this way: Calculate the distance to the tip location for all **clickable** markers and choose the one with the shortest distance. If this distance is shorter than an accuracy tolerance, consider the corresponding marker as clicked.","body":"I have never heard of such a possibility (a) or (b). But you can solve the problem this way: Calculate the distance to the tip location for all <b>clickable</b> markers and choose the one with the shortest distance. If this distance is shorter than an accuracy tolerance, consider the corresponding marker as clicked."},{"owner":{"account_id":1601476,"reputation":547,"user_id":1482428,"accept_rate":18,"display_name":"Henrik Berg"},"score":0,"creation_date":1700993420,"post_id":77539053,"comment_id":136717874,"body_markdown":"Thanks for the suggestion, I ended up implementing something along those lines.","body":"Thanks for the suggestion, I ended up implementing something along those lines."}],"owner":{"account_id":1601476,"reputation":547,"user_id":1482428,"accept_rate":18,"display_name":"Henrik Berg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1700764545,"creation_date":1700764545,"question_id":77539053,"body_markdown":"I am developing an Android app with a google map, which contain various markers. Some of these markers should be clickable, and it works nicely, using the `setOnMarkerClickListener` method on the `GoogleMap`-object. However, this does not allow me to select which markers are clickable. Of course, in the event handler, I can differentiate between the different markers, to see if the app should take any action or not. But if there are two markers partially overlapping each other in the map, the event handler will still only be called once for each click, alternating (it seems) between the two markers if I click several times.\r\n\r\nConsequently, the user will sometimes have to click several times in order to interact with the marker, this makes the app feel very unresponsive.\r\n\r\nIs there a way to either (a) tell the Google Maps API that a given marker (or set of markers) should not be clickable, or, maybe better, to (b) tell the API to fire the click event for EVERY marker clicked at once, rather than just one of them each time?","title":"How can I make only some markers clickable in Google map for Android?","body":"<p>I am developing an Android app with a google map, which contain various markers. Some of these markers should be clickable, and it works nicely, using the <code>setOnMarkerClickListener</code> method on the <code>GoogleMap</code>-object. However, this does not allow me to select which markers are clickable. Of course, in the event handler, I can differentiate between the different markers, to see if the app should take any action or not. But if there are two markers partially overlapping each other in the map, the event handler will still only be called once for each click, alternating (it seems) between the two markers if I click several times.</p>\n<p>Consequently, the user will sometimes have to click several times in order to interact with the marker, this makes the app feel very unresponsive.</p>\n<p>Is there a way to either (a) tell the Google Maps API that a given marker (or set of markers) should not be clickable, or, maybe better, to (b) tell the API to fire the click event for EVERY marker clicked at once, rather than just one of them each time?</p>\n"},{"tags":["java","swing","jframe","java-native-interface","jna"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1700779405,"post_id":77539045,"comment_id":136698741,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1700780612,"post_id":77539045,"comment_id":136698840,"body_markdown":"What is desktop peek?  Do you mean &quot;show desktop&quot;?","body":"What is desktop peek?  Do you mean &quot;show desktop&quot;?"},{"owner":{"account_id":23811671,"reputation":21,"user_id":17820402,"display_name":"Also Grinding For Reputation"},"score":0,"creation_date":1700803950,"post_id":77539045,"comment_id":136700362,"body_markdown":"@GilbertLeBlanc yea but when u just hover over it.","body":"@GilbertLeBlanc yea but when u just hover over it."}],"owner":{"account_id":23811671,"reputation":21,"user_id":17820402,"display_name":"Also Grinding For Reputation"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700764517,"creation_date":1700764488,"question_id":77539045,"body_markdown":"Since I use Rainmeter I noticed that it does not get hidden when using desktop peek. I was wondering if I could achieve something similar in Java using maybe JNA or JNI (Other libraries work fine too until it works).\r\n\r\nI spent quite a few hours researching but could not find the answer to this question anywhere, and in general do not know where to start.","title":"Windows - How can I prevent a JFrame from being hidden in desktop peek","body":"<p>Since I use Rainmeter I noticed that it does not get hidden when using desktop peek. I was wondering if I could achieve something similar in Java using maybe JNA or JNI (Other libraries work fine too until it works).</p>\n<p>I spent quite a few hours researching but could not find the answer to this question anywhere, and in general do not know where to start.</p>\n"},{"tags":["java","list","queue","stack","jgroups"],"answers":[{"tags":[],"owner":{"account_id":250292,"reputation":436,"user_id":526910,"display_name":"lbarowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700763996,"creation_date":1700763996,"answer_id":77539018,"question_id":77527118,"body_markdown":"You&#39;re close.\r\n\r\nI see you&#39;re using jGRASP, and debugging these kinds of problems is what it is made for. Set a breakpoint at the first statement inside the main loop (the &quot;if&quot; statement) and debug. From the &quot;Variables&quot; tab, drag out the operator and operand stacks and drop them anywhere. This will pop up &quot;viewers&quot; so that you can watch the stacks as they fill up and empty. You can also open a canvas and drag both variables there for convenience as shown in the image below (you can save the canvas for later reuse, unlike individual viewers). Hit &quot;resume&quot; on the debugger repeatedly and watch the stacks along with the &quot;token&quot; variable (which you could also drag onto a canvas for convenience) which at that point in the code will be the &quot;next&quot; token to be processed. Compare what is happening on the stacks to what should be happening based on precedence, like (349 % (23 ^ 2)) + ((4 ^ 4) % 5). When you spot the operator that causes the problem, quit and restart the debugger, resume until the problem point, then use the debugger &quot;step&quot; and/or &quot;step in&quot; button to go line-by-line until you see the cause.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BAqWt.png","title":"Is there a way to solve or fix the codes of my Exercise20_23.java for Revel?","body":"<p>You're close.</p>\n<p>I see you're using jGRASP, and debugging these kinds of problems is what it is made for. Set a breakpoint at the first statement inside the main loop (the &quot;if&quot; statement) and debug. From the &quot;Variables&quot; tab, drag out the operator and operand stacks and drop them anywhere. This will pop up &quot;viewers&quot; so that you can watch the stacks as they fill up and empty. You can also open a canvas and drag both variables there for convenience as shown in the image below (you can save the canvas for later reuse, unlike individual viewers). Hit &quot;resume&quot; on the debugger repeatedly and watch the stacks along with the &quot;token&quot; variable (which you could also drag onto a canvas for convenience) which at that point in the code will be the &quot;next&quot; token to be processed. Compare what is happening on the stacks to what should be happening based on precedence, like (349 % (23 ^ 2)) + ((4 ^ 4) % 5). When you spot the operator that causes the problem, quit and restart the debugger, resume until the problem point, then use the debugger &quot;step&quot; and/or &quot;step in&quot; button to go line-by-line until you see the cause.</p>\n<p><a href=\"https://i.stack.imgur.com/BAqWt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BAqWt.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":29374491,"reputation":5,"user_id":22506381,"display_name":"RWorker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77539018,"answer_count":1,"score":0,"last_activity_date":1700763996,"creation_date":1700622510,"question_id":77527118,"body_markdown":"I&#39;m trying to make that Exercise20_23.java work but it is not working.\r\n\r\nI tried this;\r\n\r\n```\r\nimport java.util.*;\r\n\r\npublic class Exercise20_23 {\r\n   public static void main(String[] args) {\r\n      Scanner scanner = new Scanner(System.in);\r\n      System.out.print(&quot;Enter an expression: &quot;);\r\n      String expression = scanner.nextLine();\r\n      \r\n      try {\r\n         System.out.println(expression + &quot; = &quot; + evaluateExpression(expression));\r\n      }\r\n      catch (Exception ex) {\r\n         System.out.println(&quot;Wrong expression: &quot; + expression);\r\n      }\r\n   }\r\n     \r\n   /** Evaluate an expression */\r\n   public static int evaluateExpression(String expression) {\r\n      // Create operandStack to store operands\r\n      Stack&lt;Integer&gt; operandStack = new Stack&lt;&gt;();\r\n    \r\n      // Create operatorStack to store operators\r\n      Stack&lt;Character&gt; operatorStack = new Stack&lt;&gt;();\r\n    \r\n      // Insert blanks around (, ), +, -, /, *, ^, and %\r\n      expression = insertBlanks(expression);\r\n   \r\n      // Extract operands and operators\r\n      String[] tokens = expression.split(&quot; &quot;);\r\n   \r\n      // Phase 1: Scan tokens\r\n      for (String token: tokens) {\r\n         if (token.length() == 0) // Blank space\r\n            continue; // Back to the for loop to extract the next token\r\n         else if (token.charAt(0) == &#39;+&#39; || token.charAt(0) == &#39;-&#39;) {\r\n            // Process all +, -, *, /, ^. % in the top of the operator stack \r\n            while (!operatorStack.isEmpty() &amp;&amp;\r\n               (operatorStack.peek() == &#39;+&#39; || \r\n                operatorStack.peek() == &#39;-&#39; ||\r\n                operatorStack.peek() == &#39;*&#39; ||\r\n                operatorStack.peek() == &#39;/&#39; ||\r\n                operatorStack.peek() == &#39;^&#39; ||\r\n                operatorStack.peek() == &#39;%&#39;)) {\r\n               processAnOperator(operandStack, operatorStack);\r\n            }\r\n         \r\n            // Push the + or - operator into the operator stack\r\n            operatorStack.push(token.charAt(0));\r\n         }\r\n         else if (token.charAt(0) == &#39;*&#39; || token.charAt(0) == &#39;/&#39; || token.charAt(0) == &#39;%&#39;) {\r\n            // Process all *, /, % in the top of the operator stack \r\n            while (!operatorStack.isEmpty() &amp;&amp;\r\n               (operatorStack.peek() == &#39;*&#39; ||\r\n                operatorStack.peek() == &#39;/&#39; ||\r\n                operatorStack.peek() == &#39;%&#39; )) {\r\n               processAnOperator(operandStack, operatorStack);\r\n            }\r\n         \r\n            // Push the *, /, or % operator into the operator stack\r\n            operatorStack.push(token.charAt(0));\r\n         }\r\n         else if (token.charAt(0) == &#39;^&#39;) {\r\n            // Process all ^ in the top of the operator stack \r\n            while (!operatorStack.isEmpty() &amp;&amp;\r\n               (operatorStack.peek() == &#39;^&#39;)) {\r\n               processAnOperator(operandStack, operatorStack);\r\n            }\r\n         \r\n            // Push the ^ operator into the operator stack\r\n            operatorStack.push(token.charAt(0));\r\n         }\r\n         else if (token.trim().charAt(0) == &#39;(&#39;) {\r\n            operatorStack.push(&#39;(&#39;); // Push &#39;(&#39; to stack\r\n         }\r\n         else if (token.trim().charAt(0) == &#39;)&#39;) {\r\n            // Process all the operators in the stack until seeing &#39;(&#39;\r\n            while (operatorStack.peek() != &#39;(&#39;) {\r\n               processAnOperator(operandStack, operatorStack);\r\n            }\r\n            \r\n            operatorStack.pop(); // Pop the &#39;(&#39; symbol from the stack\r\n         }\r\n         else { // An operand scanned\r\n            // Push an operand to the stack\r\n            operandStack.push(Integer.valueOf(token));\r\n         }\r\n      }\r\n   \r\n      // Phase 2: Process all the remaining operators in the stack \r\n      while (!operatorStack.isEmpty()) {\r\n         processAnOperator(operandStack, operatorStack);\r\n      }\r\n   \r\n      // Return the result\r\n      return operandStack.pop();\r\n   }\r\n\r\n   /** Process one operator: Take an operator from operatorStack and\r\n    *  apply it on the operands in the operandStack */\r\n   public static void processAnOperator(Stack&lt;Integer&gt; operandStack, Stack&lt;Character&gt; operatorStack) {\r\n      char op = operatorStack.pop();\r\n      int op1 = operandStack.pop();\r\n      int op2 = operandStack.pop();\r\n      if (op == &#39;+&#39;) \r\n         operandStack.push(op2 + op1);\r\n      else if (op == &#39;-&#39;) \r\n         operandStack.push(op2 - op1);\r\n      else if (op == &#39;*&#39;) \r\n         operandStack.push(op2 * op1);\r\n      else if (op == &#39;/&#39;) \r\n         operandStack.push(op2 / op1);\r\n      else if (op == &#39;^&#39;) \r\n         operandStack.push((int)Math.pow(op2, op1));\r\n      else if (op == &#39;%&#39;) \r\n         operandStack.push(op2 % op1);\r\n   }\r\n   \r\n   public static String insertBlanks(String s) {\r\n      String result = &quot;&quot;;\r\n      \r\n      for (int i = 0; i &lt; s.length(); i++) {\r\n         if (s.charAt(i) == &#39;(&#39; || s.charAt(i) == &#39;)&#39; || \r\n              s.charAt(i) == &#39;+&#39; || s.charAt(i) == &#39;-&#39; ||\r\n              s.charAt(i) == &#39;*&#39; || s.charAt(i) == &#39;/&#39; ||\r\n              s.charAt(i) == &#39;^&#39; || s.charAt(i) == &#39;%&#39;)\r\n            result += &quot; &quot; + s.charAt(i) + &quot; &quot;;\r\n         else\r\n            result += s.charAt(i);\r\n      }\r\n      \r\n      return result;\r\n   }\r\n   \r\n   /*\r\n   OUTPUT:\r\n       \r\n   ----jGRASP exec: java --module-path C:\\Users\\rmeri\\Downloads\\openjfx-19_windows-x64_bin-sdk\\javafx-sdk-19\\lib --add-modules=javafx.controls Exercise20_23\r\n  Enter an expression: (5 * 2 ^ 3 + 2 * 3 % 2) * 4\r\n  (5 * 2 ^ 3 + 2 * 3 % 2) * 4 = 160\r\n  \r\n   ----jGRASP: operation complete.\r\n  \r\n   ----jGRASP exec: java --module-path C:\\Users\\rmeri\\Downloads\\openjfx-19_windows-x64_bin-sdk\\javafx-sdk-19\\lib --add-modules=javafx.controls Exercise20_23\r\n  Enter an expression: 349 % 23 ^ 2 + 4 ^ 4 % 5\r\n  349 % 23 ^ 2 + 4 ^ 4 % 5 = 605\r\n  \r\n   ----jGRASP: operation complete.\r\n  \r\n   \r\n   */\r\n}\r\n```\r\n\r\nAnd I tried this;\r\n\r\n\r\n```\r\nimport java.util.*;\r\n\r\npublic class Exercise20_23 {\r\n  public static void main(String[] args) {\r\n    Scanner scanner = new Scanner(System.in);\r\n    System.out.print(&quot;Enter an expression: &quot;);\r\n    String expression = scanner.nextLine();\r\n    String temp = expression;\r\n    \r\n    try {\r\n      System.out.println(expression + &quot; = &quot; + evaluateExpression(expression));\r\n    }\r\n    catch (Exception ex) {\r\n      System.out.println(&quot;Wrong expression: &quot; + temp);\r\n    }\r\n  }\r\n    \r\n  /** Evaluate an expression */\r\n  public static int evaluateExpression(String expression) {\r\n    // Create operandStack to store operands\r\n    Stack&lt;Integer&gt; operandStack = new Stack&lt;&gt;();\r\n  \r\n    // Create operatorStack to store operators\r\n    Stack&lt;Character&gt; operatorStack = new Stack&lt;&gt;();\r\n  \r\n    // Insert blanks around (, ), +, -, /, *, ^, and %\r\n    expression = insertBlanks(expression);\r\n\r\n    // Extract operands and operators\r\n    String[] tokens = expression.split(&quot; &quot;);\r\n\r\n    // Phase 1: Scan tokens\r\n    for (String token: tokens) {\r\n      if (token.length() == 0) // Blank space\r\n        continue; // Back to the for loop to extract the next token\r\n      else if (token.charAt(0) == &#39;+&#39; || token.charAt(0) == &#39;-&#39;) {\r\n        // Process all +, -, *, /, ^. % in the top of the operator stack \r\n        while (!operatorStack.isEmpty() &amp;&amp;\r\n          (operatorStack.peek() == &#39;+&#39; || \r\n           operatorStack.peek() == &#39;-&#39; ||\r\n           operatorStack.peek() == &#39;*&#39; ||\r\n           operatorStack.peek() == &#39;/&#39; ||\r\n           operatorStack.peek() == &#39;^&#39; ||\r\n           operatorStack.peek() == &#39;%&#39;)) {\r\n          processAnOperator(operandStack, operatorStack);\r\n        }\r\n\r\n        // Push the + or - operator into the operator stack\r\n        operatorStack.push(token.charAt(0));\r\n      }\r\n      else if (token.charAt(0) == &#39;*&#39; || token.charAt(0) == &#39;/&#39; || token.charAt(0) == &#39;%&#39;) {\r\n        // Process all *, /, % in the top of the operator stack \r\n        while (!operatorStack.isEmpty() &amp;&amp;\r\n          (operatorStack.peek() == &#39;*&#39; ||\r\n           operatorStack.peek() == &#39;/&#39; ||\r\n           operatorStack.peek() == &#39;%&#39; )) {\r\n          processAnOperator(operandStack, operatorStack);\r\n        }\r\n\r\n        // Push the *, /, or % operator into the operator stack\r\n        operatorStack.push(token.charAt(0));\r\n      }\r\n      else if (token.charAt(0) == &#39;^&#39;) {\r\n        // Process all ^ in the top of the operator stack \r\n        while (!operatorStack.isEmpty() &amp;&amp;\r\n          (operatorStack.peek() == &#39;^&#39;)) {\r\n          processAnOperator(operandStack, operatorStack);\r\n        }\r\n\r\n        // Push the ^ operator into the operator stack\r\n        operatorStack.push(token.charAt(0));\r\n      }\r\n      else if (token.trim().charAt(0) == &#39;(&#39;) {\r\n        operatorStack.push(&#39;(&#39;); // Push &#39;(&#39; to stack\r\n      }\r\n      else if (token.trim().charAt(0) == &#39;)&#39;) {\r\n        // Process all the operators in the stack until seeing &#39;(&#39;\r\n        while (operatorStack.peek() != &#39;(&#39;) {\r\n          processAnOperator(operandStack, operatorStack);\r\n        }\r\n        \r\n        operatorStack.pop(); // Pop the &#39;(&#39; symbol from the stack\r\n      }\r\n      else { // An operand scanned\r\n        // Push an operand to the stack\r\n        operandStack.push(Integer.valueOf(token));\r\n      }\r\n    }\r\n\r\n    // Phase 2: Process all the remaining operators in the stack \r\n    while (!operatorStack.isEmpty()) {\r\n      processAnOperator(operandStack, operatorStack);\r\n    }\r\n\r\n    // Return the result\r\n    return operandStack.pop();\r\n  }\r\n\r\n  /** Process one operator: Take an operator from operatorStack and\r\n   *  apply it on the operands in the operandStack */\r\n  public static void processAnOperator(Stack&lt;Integer&gt; operandStack, Stack&lt;Character&gt; operatorStack) {\r\n    char op = operatorStack.pop();\r\n    int op1 = operandStack.pop();\r\n    int op2 = operandStack.pop();\r\n    if (op == &#39;+&#39;) \r\n      operandStack.push(op2 + op1);\r\n    else if (op == &#39;-&#39;) \r\n      operandStack.push(op2 - op1);\r\n    else if (op == &#39;*&#39;) \r\n      operandStack.push(op2 * op1);\r\n    else if (op == &#39;/&#39;) \r\n      operandStack.push(op2 / op1);\r\n    else if (op == &#39;^&#39;) \r\n      operandStack.push((int)Math.pow(op2, op1));\r\n    else if (op == &#39;%&#39;) \r\n      operandStack.push(op2 % op1);\r\n    else if (op != &#39;(&#39; || op != &#39;)&#39;) {\r\n    if (op == &#39;%&#39;) \r\n      operandStack.push(op2 % op1);\r\n    else if (op == &#39;^&#39;) \r\n      operandStack.push((int)Math.pow(op2, op1));\r\n    else if (op == &#39;+&#39;) \r\n      operandStack.push(op2 + op1);\r\n    else if (op == &#39;-&#39;) \r\n      operandStack.push(op2 - op1);\r\n    else if (op == &#39;*&#39;) \r\n      operandStack.push(op2 * op1);\r\n    else if (op == &#39;/&#39;) \r\n      operandStack.push(op2 / op1);\r\n   }\r\n  }\r\n  \r\n  public static String insertBlanks(String s) {\r\n    String result = &quot;&quot;;\r\n    \r\n    for (int i = 0; i &lt; s.length(); i++) {\r\n      if (s.charAt(i) == &#39;(&#39; || s.charAt(i) == &#39;)&#39; || \r\n          s.charAt(i) == &#39;+&#39; || s.charAt(i) == &#39;-&#39; ||\r\n          s.charAt(i) == &#39;*&#39; || s.charAt(i) == &#39;/&#39; ||\r\n          s.charAt(i) == &#39;^&#39; || s.charAt(i) == &#39;%&#39;)\r\n        result += &quot; &quot; + s.charAt(i) + &quot; &quot;;\r\n      else\r\n        result += s.charAt(i);\r\n    }\r\n    \r\n    return result;\r\n  }\r\n  \r\n  /*\r\n  OUTPUT:\r\n  \r\n  ----jGRASP exec: java --module-path C:\\Users\\rmeri\\Downloads\\openjfx-19_windows-x64_bin-sdk\\javafx-sdk-19\\lib --add-modules=javafx.controls Exercise20_23\r\n Enter an expression: (5 * 2 ^ 3 + 2 * 3 % 2) * 4\r\n (5 * 2 ^ 3 + 2 * 3 % 2) * 4 = 160\r\n \r\n  ----jGRASP: operation complete.\r\n \r\n  ----jGRASP exec: java --module-path C:\\Users\\rmeri\\Downloads\\openjfx-19_windows-x64_bin-sdk\\javafx-sdk-19\\lib --add-modules=javafx.controls Exercise20_23\r\n Enter an expression: 349 % 23 ^ 2 + 4 ^ 4 % 5\r\n 349 % 23 ^ 2 + 4 ^ 4 % 5 = 605\r\n \r\n  ----jGRASP: operation complete.\r\n \r\n  */\r\n}\r\n```\r\n\r\n\r\n\r\nBut both codes didn&#39;t the result I&#39;m looking for, according to this link[Please click the link here to see the correct output](https://i.stack.imgur.com/Jk2hu.png)]\r\n(https://i.stack.imgur.com/Jk2hu.png)\r\n\r\nI&#39;m trying to modify the Evaluate Expression into adding &#39;^&#39;, &#39;%&#39; chars for operators so I can complete the revel project but I don&#39;t know what else to I need to do, so if anyone can tell me what&#39;s wrong with both of those codes above, I will really appreciate it.\r\n","title":"Is there a way to solve or fix the codes of my Exercise20_23.java for Revel?","body":"<p>I'm trying to make that Exercise20_23.java work but it is not working.</p>\n<p>I tried this;</p>\n<pre><code>import java.util.*;\n\npublic class Exercise20_23 {\n   public static void main(String[] args) {\n      Scanner scanner = new Scanner(System.in);\n      System.out.print(&quot;Enter an expression: &quot;);\n      String expression = scanner.nextLine();\n      \n      try {\n         System.out.println(expression + &quot; = &quot; + evaluateExpression(expression));\n      }\n      catch (Exception ex) {\n         System.out.println(&quot;Wrong expression: &quot; + expression);\n      }\n   }\n     \n   /** Evaluate an expression */\n   public static int evaluateExpression(String expression) {\n      // Create operandStack to store operands\n      Stack&lt;Integer&gt; operandStack = new Stack&lt;&gt;();\n    \n      // Create operatorStack to store operators\n      Stack&lt;Character&gt; operatorStack = new Stack&lt;&gt;();\n    \n      // Insert blanks around (, ), +, -, /, *, ^, and %\n      expression = insertBlanks(expression);\n   \n      // Extract operands and operators\n      String[] tokens = expression.split(&quot; &quot;);\n   \n      // Phase 1: Scan tokens\n      for (String token: tokens) {\n         if (token.length() == 0) // Blank space\n            continue; // Back to the for loop to extract the next token\n         else if (token.charAt(0) == '+' || token.charAt(0) == '-') {\n            // Process all +, -, *, /, ^. % in the top of the operator stack \n            while (!operatorStack.isEmpty() &amp;&amp;\n               (operatorStack.peek() == '+' || \n                operatorStack.peek() == '-' ||\n                operatorStack.peek() == '*' ||\n                operatorStack.peek() == '/' ||\n                operatorStack.peek() == '^' ||\n                operatorStack.peek() == '%')) {\n               processAnOperator(operandStack, operatorStack);\n            }\n         \n            // Push the + or - operator into the operator stack\n            operatorStack.push(token.charAt(0));\n         }\n         else if (token.charAt(0) == '*' || token.charAt(0) == '/' || token.charAt(0) == '%') {\n            // Process all *, /, % in the top of the operator stack \n            while (!operatorStack.isEmpty() &amp;&amp;\n               (operatorStack.peek() == '*' ||\n                operatorStack.peek() == '/' ||\n                operatorStack.peek() == '%' )) {\n               processAnOperator(operandStack, operatorStack);\n            }\n         \n            // Push the *, /, or % operator into the operator stack\n            operatorStack.push(token.charAt(0));\n         }\n         else if (token.charAt(0) == '^') {\n            // Process all ^ in the top of the operator stack \n            while (!operatorStack.isEmpty() &amp;&amp;\n               (operatorStack.peek() == '^')) {\n               processAnOperator(operandStack, operatorStack);\n            }\n         \n            // Push the ^ operator into the operator stack\n            operatorStack.push(token.charAt(0));\n         }\n         else if (token.trim().charAt(0) == '(') {\n            operatorStack.push('('); // Push '(' to stack\n         }\n         else if (token.trim().charAt(0) == ')') {\n            // Process all the operators in the stack until seeing '('\n            while (operatorStack.peek() != '(') {\n               processAnOperator(operandStack, operatorStack);\n            }\n            \n            operatorStack.pop(); // Pop the '(' symbol from the stack\n         }\n         else { // An operand scanned\n            // Push an operand to the stack\n            operandStack.push(Integer.valueOf(token));\n         }\n      }\n   \n      // Phase 2: Process all the remaining operators in the stack \n      while (!operatorStack.isEmpty()) {\n         processAnOperator(operandStack, operatorStack);\n      }\n   \n      // Return the result\n      return operandStack.pop();\n   }\n\n   /** Process one operator: Take an operator from operatorStack and\n    *  apply it on the operands in the operandStack */\n   public static void processAnOperator(Stack&lt;Integer&gt; operandStack, Stack&lt;Character&gt; operatorStack) {\n      char op = operatorStack.pop();\n      int op1 = operandStack.pop();\n      int op2 = operandStack.pop();\n      if (op == '+') \n         operandStack.push(op2 + op1);\n      else if (op == '-') \n         operandStack.push(op2 - op1);\n      else if (op == '*') \n         operandStack.push(op2 * op1);\n      else if (op == '/') \n         operandStack.push(op2 / op1);\n      else if (op == '^') \n         operandStack.push((int)Math.pow(op2, op1));\n      else if (op == '%') \n         operandStack.push(op2 % op1);\n   }\n   \n   public static String insertBlanks(String s) {\n      String result = &quot;&quot;;\n      \n      for (int i = 0; i &lt; s.length(); i++) {\n         if (s.charAt(i) == '(' || s.charAt(i) == ')' || \n              s.charAt(i) == '+' || s.charAt(i) == '-' ||\n              s.charAt(i) == '*' || s.charAt(i) == '/' ||\n              s.charAt(i) == '^' || s.charAt(i) == '%')\n            result += &quot; &quot; + s.charAt(i) + &quot; &quot;;\n         else\n            result += s.charAt(i);\n      }\n      \n      return result;\n   }\n   \n   /*\n   OUTPUT:\n       \n   ----jGRASP exec: java --module-path C:\\Users\\rmeri\\Downloads\\openjfx-19_windows-x64_bin-sdk\\javafx-sdk-19\\lib --add-modules=javafx.controls Exercise20_23\n  Enter an expression: (5 * 2 ^ 3 + 2 * 3 % 2) * 4\n  (5 * 2 ^ 3 + 2 * 3 % 2) * 4 = 160\n  \n   ----jGRASP: operation complete.\n  \n   ----jGRASP exec: java --module-path C:\\Users\\rmeri\\Downloads\\openjfx-19_windows-x64_bin-sdk\\javafx-sdk-19\\lib --add-modules=javafx.controls Exercise20_23\n  Enter an expression: 349 % 23 ^ 2 + 4 ^ 4 % 5\n  349 % 23 ^ 2 + 4 ^ 4 % 5 = 605\n  \n   ----jGRASP: operation complete.\n  \n   \n   */\n}\n</code></pre>\n<p>And I tried this;</p>\n<pre><code>import java.util.*;\n\npublic class Exercise20_23 {\n  public static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    System.out.print(&quot;Enter an expression: &quot;);\n    String expression = scanner.nextLine();\n    String temp = expression;\n    \n    try {\n      System.out.println(expression + &quot; = &quot; + evaluateExpression(expression));\n    }\n    catch (Exception ex) {\n      System.out.println(&quot;Wrong expression: &quot; + temp);\n    }\n  }\n    \n  /** Evaluate an expression */\n  public static int evaluateExpression(String expression) {\n    // Create operandStack to store operands\n    Stack&lt;Integer&gt; operandStack = new Stack&lt;&gt;();\n  \n    // Create operatorStack to store operators\n    Stack&lt;Character&gt; operatorStack = new Stack&lt;&gt;();\n  \n    // Insert blanks around (, ), +, -, /, *, ^, and %\n    expression = insertBlanks(expression);\n\n    // Extract operands and operators\n    String[] tokens = expression.split(&quot; &quot;);\n\n    // Phase 1: Scan tokens\n    for (String token: tokens) {\n      if (token.length() == 0) // Blank space\n        continue; // Back to the for loop to extract the next token\n      else if (token.charAt(0) == '+' || token.charAt(0) == '-') {\n        // Process all +, -, *, /, ^. % in the top of the operator stack \n        while (!operatorStack.isEmpty() &amp;&amp;\n          (operatorStack.peek() == '+' || \n           operatorStack.peek() == '-' ||\n           operatorStack.peek() == '*' ||\n           operatorStack.peek() == '/' ||\n           operatorStack.peek() == '^' ||\n           operatorStack.peek() == '%')) {\n          processAnOperator(operandStack, operatorStack);\n        }\n\n        // Push the + or - operator into the operator stack\n        operatorStack.push(token.charAt(0));\n      }\n      else if (token.charAt(0) == '*' || token.charAt(0) == '/' || token.charAt(0) == '%') {\n        // Process all *, /, % in the top of the operator stack \n        while (!operatorStack.isEmpty() &amp;&amp;\n          (operatorStack.peek() == '*' ||\n           operatorStack.peek() == '/' ||\n           operatorStack.peek() == '%' )) {\n          processAnOperator(operandStack, operatorStack);\n        }\n\n        // Push the *, /, or % operator into the operator stack\n        operatorStack.push(token.charAt(0));\n      }\n      else if (token.charAt(0) == '^') {\n        // Process all ^ in the top of the operator stack \n        while (!operatorStack.isEmpty() &amp;&amp;\n          (operatorStack.peek() == '^')) {\n          processAnOperator(operandStack, operatorStack);\n        }\n\n        // Push the ^ operator into the operator stack\n        operatorStack.push(token.charAt(0));\n      }\n      else if (token.trim().charAt(0) == '(') {\n        operatorStack.push('('); // Push '(' to stack\n      }\n      else if (token.trim().charAt(0) == ')') {\n        // Process all the operators in the stack until seeing '('\n        while (operatorStack.peek() != '(') {\n          processAnOperator(operandStack, operatorStack);\n        }\n        \n        operatorStack.pop(); // Pop the '(' symbol from the stack\n      }\n      else { // An operand scanned\n        // Push an operand to the stack\n        operandStack.push(Integer.valueOf(token));\n      }\n    }\n\n    // Phase 2: Process all the remaining operators in the stack \n    while (!operatorStack.isEmpty()) {\n      processAnOperator(operandStack, operatorStack);\n    }\n\n    // Return the result\n    return operandStack.pop();\n  }\n\n  /** Process one operator: Take an operator from operatorStack and\n   *  apply it on the operands in the operandStack */\n  public static void processAnOperator(Stack&lt;Integer&gt; operandStack, Stack&lt;Character&gt; operatorStack) {\n    char op = operatorStack.pop();\n    int op1 = operandStack.pop();\n    int op2 = operandStack.pop();\n    if (op == '+') \n      operandStack.push(op2 + op1);\n    else if (op == '-') \n      operandStack.push(op2 - op1);\n    else if (op == '*') \n      operandStack.push(op2 * op1);\n    else if (op == '/') \n      operandStack.push(op2 / op1);\n    else if (op == '^') \n      operandStack.push((int)Math.pow(op2, op1));\n    else if (op == '%') \n      operandStack.push(op2 % op1);\n    else if (op != '(' || op != ')') {\n    if (op == '%') \n      operandStack.push(op2 % op1);\n    else if (op == '^') \n      operandStack.push((int)Math.pow(op2, op1));\n    else if (op == '+') \n      operandStack.push(op2 + op1);\n    else if (op == '-') \n      operandStack.push(op2 - op1);\n    else if (op == '*') \n      operandStack.push(op2 * op1);\n    else if (op == '/') \n      operandStack.push(op2 / op1);\n   }\n  }\n  \n  public static String insertBlanks(String s) {\n    String result = &quot;&quot;;\n    \n    for (int i = 0; i &lt; s.length(); i++) {\n      if (s.charAt(i) == '(' || s.charAt(i) == ')' || \n          s.charAt(i) == '+' || s.charAt(i) == '-' ||\n          s.charAt(i) == '*' || s.charAt(i) == '/' ||\n          s.charAt(i) == '^' || s.charAt(i) == '%')\n        result += &quot; &quot; + s.charAt(i) + &quot; &quot;;\n      else\n        result += s.charAt(i);\n    }\n    \n    return result;\n  }\n  \n  /*\n  OUTPUT:\n  \n  ----jGRASP exec: java --module-path C:\\Users\\rmeri\\Downloads\\openjfx-19_windows-x64_bin-sdk\\javafx-sdk-19\\lib --add-modules=javafx.controls Exercise20_23\n Enter an expression: (5 * 2 ^ 3 + 2 * 3 % 2) * 4\n (5 * 2 ^ 3 + 2 * 3 % 2) * 4 = 160\n \n  ----jGRASP: operation complete.\n \n  ----jGRASP exec: java --module-path C:\\Users\\rmeri\\Downloads\\openjfx-19_windows-x64_bin-sdk\\javafx-sdk-19\\lib --add-modules=javafx.controls Exercise20_23\n Enter an expression: 349 % 23 ^ 2 + 4 ^ 4 % 5\n 349 % 23 ^ 2 + 4 ^ 4 % 5 = 605\n \n  ----jGRASP: operation complete.\n \n  */\n}\n</code></pre>\n<p>But both codes didn't the result I'm looking for, according to this link<a href=\"https://i.stack.imgur.com/Jk2hu.png\" rel=\"nofollow noreferrer\">Please click the link here to see the correct output</a>]\n(<a href=\"https://i.stack.imgur.com/Jk2hu.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/Jk2hu.png</a>)</p>\n<p>I'm trying to modify the Evaluate Expression into adding '^', '%' chars for operators so I can complete the revel project but I don't know what else to I need to do, so if anyone can tell me what's wrong with both of those codes above, I will really appreciate it.</p>\n"},{"tags":["java","c#","programming-languages","covariance","contravariance"],"comments":[{"owner":{"account_id":15562,"reputation":125296,"user_id":33006,"accept_rate":88,"display_name":"Martin v. L&#246;wis"},"score":0,"creation_date":1248245757,"post_id":1163465,"comment_id":98337765,"body_markdown":"[http://en.wikipedia.org/wiki/Covariance_and_contravariance\\_(computer\\_science)](http://en.wikipedia.org/wiki/Covariance_and_contravariance_(computer_science))","body":"<a href=\"http://en.wikipedia.org/wiki/Covariance_and_contravariance_(computer_science)\" rel=\"nofollow noreferrer\">http://en.wikipedia.org/wiki/Covariance_and_contravariance_(&zwnj;&#8203;computer_science)</a>"},{"owner":{"account_id":44745,"reputation":4729,"user_id":131458,"accept_rate":100,"display_name":"Andy_Vulhop"},"score":10,"creation_date":1248280728,"post_id":1163465,"comment_id":985885,"body_markdown":"I smell a homework question.","body":"I smell a homework question."},{"owner":{"account_id":335069,"reputation":70755,"user_id":661933,"accept_rate":94,"display_name":"nawfal"},"score":1,"creation_date":1404725763,"post_id":1163465,"comment_id":38128434,"body_markdown":"possible duplicate of [C# : Is Variance (Covariance / Contravariance) another word for Polymorphism?](http://stackoverflow.com/questions/1078423/c-sharp-is-variance-covariance-contravariance-another-word-for-polymorphis)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1078423/c-sharp-is-variance-covariance-contravariance-another-word-for-polymorphis\">C# : Is Variance (Covariance / Contravariance) another word for Polymorphism?</a>"}],"answers":[{"tags":[],"owner":{"account_id":9178,"reputation":133573,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"down_vote_count":2,"up_vote_count":34,"is_accepted":true,"score":32,"last_activity_date":1297248800,"creation_date":1248245796,"answer_id":1163491,"question_id":1163465,"body_markdown":"*Covariance* is pretty simple and best thought of from the perspective of some collection class `List`. We can *parameterize* the `List` class with some type parameter `T`. That is, our list contains elements of type `T` for some `T`. List would be covariant if \n\n  &gt; S is a subtype of T iff List[S] is a subtype of List[T]\n\n(Where I&#39;m using the mathematical definition *iff* to mean *if and only if*.)\n\nThat is, a `List[Apple]` **is a** `List[Fruit]`. If there is some routine which accepts a `List[Fruit]` as a parameter, and I have a `List[Apple]`, then I can pass this in as a valid parameter.\n\n    def something(l: List[Fruit]) {\n        l.add(new Pear())\n    }\n\nIf our collection class `List` is mutable, then covariance makes no sense because we might assume that our routine could add some other fruit (which was not an apple) as above. Hence we should only like *immutable* collection classes to be covariant!\n","title":"What is the difference between covariance and contra-variance in programming languages?","body":"<p><em>Covariance</em> is pretty simple and best thought of from the perspective of some collection class <code>List</code>. We can <em>parameterize</em> the <code>List</code> class with some type parameter <code>T</code>. That is, our list contains elements of type <code>T</code> for some <code>T</code>. List would be covariant if</p>\n<blockquote>\n<p>S is a subtype of T iff List[S] is a subtype of List[T]</p>\n</blockquote>\n<p>(Where I'm using the mathematical definition <em>iff</em> to mean <em>if and only if</em>.)</p>\n<p>That is, a <code>List[Apple]</code> <strong>is a</strong> <code>List[Fruit]</code>. If there is some routine which accepts a <code>List[Fruit]</code> as a parameter, and I have a <code>List[Apple]</code>, then I can pass this in as a valid parameter.</p>\n<pre><code>def something(l: List[Fruit]) {\n    l.add(new Pear())\n}\n</code></pre>\n<p>If our collection class <code>List</code> is mutable, then covariance makes no sense because we might assume that our routine could add some other fruit (which was not an apple) as above. Hence we should only like <em>immutable</em> collection classes to be covariant!</p>\n"},{"tags":[],"owner":{"account_id":200982,"reputation":97509,"user_id":447156,"accept_rate":99,"display_name":"Soner G&#246;n&#252;l"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1700763672,"creation_date":1311855346,"answer_id":6858799,"question_id":1163465,"body_markdown":"There is a distinction being made between ***covariance*** and ***contravariance***. &lt;br/&gt;\r\nVery roughly, an operation is covariant if it preserves the ordering of types, and contravariant if it **reverses** this order. \r\n\r\nThe ordering itself is meant to represent more general types as larger than more specific types. &lt;br/&gt;\r\nHere&#39;s one example of a situation where C# supports covariance. First, this is an array of objects:\r\n\r\n\tvar objects = new object[3];\r\n\tobjects[0] = new object();\r\n\tobjects[1] = &quot;Just a string&quot;;\r\n\tobjects[2] = 10;\r\n\r\nOf course it is possible to insert different values into the array because in the end they all derive from `System.Object` in .Net framework. In other words, `System.Object` is a very general or **large** type. Now here&#39;s a spot where covariance is supported: \r\n&lt;br/&gt;***assigning a value of a smaller type to a variable of a larger type*** \r\n\r\n\tvar strings = new string[] { &quot;one&quot;, &quot;two&quot;, &quot;three&quot; };\r\n\tobjects = strings;\r\n\r\nThe variable objects, which is of type `object[]`, can store a value that is in fact of type `string[]`. \r\n\r\nThink about it  to a point, it&#39;s what you expect, but then again it isn&#39;t. After all, while `string` derives from `object`, `string[]` **DOES NOT** derive from `object[]`. The language support for covariance in this example makes the assignment possible anyway, which is something you&#39;ll find in many cases. *Variance* is a feature that makes the language work more intuitively. \r\n\r\nThe considerations around these topics are extremely complicated. For instance, based on the preceding code, here are two scenarios that will result in errors. \r\n\r\n\t// Runtime exception here - the array is still of type string[],\r\n\t// ints can&#39;t be inserted\r\n\tobjects[2]=10;\r\n\r\n\t// Compiler error here - covariance support in this scenario only\r\n\t// covers reference types, and int is a value type\r\n\tvar ints = new int[] { 1, 2, 3 };\r\n\tobjects = ints;\r\n    \r\nAn example for the workings of contravariance is a bit more complicated. Imagine these \r\ntwo classes: \r\n\r\n\tpublic partial class Person: IPerson \r\n    {\r\n\t\tpublic Person() \r\n        {\r\n\t\t}\r\n\t}\r\n\r\n\tpublic partial class Woman: Person\r\n    {\r\n\t\tpublic Woman()\r\n        {\r\n\t\t}\r\n\t}\r\n\r\n`Woman` is derived from `Person`, obviously. Now consider you have these two functions: \r\n\r\n\tstatic void WorkWithPerson(Person person)\r\n    {\r\n\t}\r\n\r\n\tstatic void WorkWithWoman(Woman woman)\r\n    {\r\n\t}\r\n\r\nOne of the functions does something(it doesn&#39;t matter what) with a `Woman`, the other is more general and can work with any type derived from `Person`. On the `Woman` side of things, you now also have these:\r\n\r\n\tdelegate void AcceptWomanDelegate(Woman person);\r\n\r\n\tstatic void DoWork(Woman woman, AcceptWomanDelegate acceptWoman)\r\n    {\r\n\t\tacceptWoman(woman);\r\n\t}\r\n\r\n`DoWork` is a function that can take a `Woman` and a reference to a function that also takes a `Woman`, and then it passes the instance of `Woman` to the delegate. Consider the *polymorphism* of the elements you have here. `Person` is *larger* than `Woman`, and `WorkWithPerson` is *larger* than `WorkWithWoman`. \r\n`WorkWithPerson` is also considered *larger* than `AcceptWomanDelegate` for the purpose of variance.\r\n\r\nFinally, you have these three lines of code:\r\n\r\n\tvar woman = new Woman();\r\n\tDoWork(woman, WorkWithWoman);\r\n\tDoWork(woman, WorkWithPerson);\r\n\r\nA `Woman` instance is created. Then DoWork is called, passing in the `Woman` instance as well as a reference to the `WorkWithWoman` method. The latter is obviously compatible with the delegate type `AcceptWomanDelegate`  one parameter of type `Woman`, no return type. \r\nThe third line is a bit odd, though. The method `WorkWithPerson` takes a `Person` as parameter, not a `Woman`, as required by `AcceptWomanDelegate`. Nevertheless, `WorkWithPerson` is compatible with the delegate type. ***Contravariance*** makes it possible, so in the case of delegates the larger type `WorkWithPerson` can be stored in a variable of the smaller type `AcceptWomanDelegate`. Once more it&#39;s the intuitive thing: ***if `WorkWithPerson` can work with any `Person`, passing in a `Woman` can&#39;t be wrong***, right?\r\n\r\nBy now, you may be wondering how all this relates to generics. The answer is that variance can be applied to generics as well. The preceding example used `object` and `string` arrays. Here the code uses generic lists instead of the arrays:\r\n\r\n\tvar objectList = new List&lt;object&gt;();\r\n\tvar stringList = new List&lt;string&gt;();\r\n\tobjectList = stringList;\r\n\r\nIf you try this out, you will find that this is not a supported scenario in C#. In C# version 4.0 as well as .Net framework 4.0, variance support in generics has been cleaned up, and it is now possible to use the new keywords ***in*** and ***out*** with generic type parameters. They can define and restrict the direction of data flow for a particular type parameter, allowing variance to work. But in the case of `List&lt;T&gt;`, the data of type `T` flows in both directions  there are methods on the type `List&lt;T&gt;` that return `T` values, and others that receive such values.\r\n\r\nThe point of these directional restrictions is **to allow variance where it makes sense**, but to **prevent problems** like the runtime error mentioned in one of the previous array examples. When type parameters are correctly decorated with *in* or *out*, the compiler can check, and allow or disallow, its variance at ***compile time***. Microsoft has gone to the effort of adding these keywords to many standard interfaces in .Net framework, like `IEnumerable&lt;T&gt;`: \r\n\r\n\tpublic interface IEnumerable&lt;out T&gt;: IEnumerable\r\n    {\r\n\t\t// ...\r\n\t}\r\n\r\nFor this interface, the data flow of type `T` objects is clear: ***they can only ever be retrieved from methods supported by this interface, not passed into them***. As a result, it is possible to construct an example similar to the `List&lt;T&gt;` attempt described previously, but using `IEnumerable&lt;T&gt;` :\r\n\r\n\tIEnumerable&lt;object&gt; objectSequence = new List&lt;object&gt;();\r\n\tIEnumerable&lt;string&gt; stringSequence = new List&lt;string&gt;();\r\n\tobjectSequence = stringSequence;\r\n\r\nThis code is acceptable to the C# compiler since version 4.0 because `IEnumerable&lt;T&gt;` is covariant due to the *out* specifier on the type parameter `T`. \r\n\r\nWhen working with generic types, it is important to be aware of variance and the way the compiler is applying various kinds of trickery in order to make your code work the way you expect it to. \r\n\r\nThere&#39;s more to know about variance than is covered in this chapter, but this shall suffice to make all further code understandable.\r\n\r\nRef: \r\n\r\n* [`PROFESSIONAL Functional Programming in C#`](http://www.amazon.com/Functional-Programming-Techniques-Projects-Programmer/dp/0470744588)\r\n","title":"What is the difference between covariance and contra-variance in programming languages?","body":"<p>There is a distinction being made between <em><strong>covariance</strong></em> and <em><strong>contravariance</strong></em>. <br/>\nVery roughly, an operation is covariant if it preserves the ordering of types, and contravariant if it <strong>reverses</strong> this order.</p>\n<p>The ordering itself is meant to represent more general types as larger than more specific types. <br/>\nHere's one example of a situation where C# supports covariance. First, this is an array of objects:</p>\n<pre><code>var objects = new object[3];\nobjects[0] = new object();\nobjects[1] = &quot;Just a string&quot;;\nobjects[2] = 10;\n</code></pre>\n<p>Of course it is possible to insert different values into the array because in the end they all derive from <code>System.Object</code> in .Net framework. In other words, <code>System.Object</code> is a very general or <strong>large</strong> type. Now here's a spot where covariance is supported:\n<br/><em><strong>assigning a value of a smaller type to a variable of a larger type</strong></em></p>\n<pre><code>var strings = new string[] { &quot;one&quot;, &quot;two&quot;, &quot;three&quot; };\nobjects = strings;\n</code></pre>\n<p>The variable objects, which is of type <code>object[]</code>, can store a value that is in fact of type <code>string[]</code>.</p>\n<p>Think about it  to a point, it's what you expect, but then again it isn't. After all, while <code>string</code> derives from <code>object</code>, <code>string[]</code> <strong>DOES NOT</strong> derive from <code>object[]</code>. The language support for covariance in this example makes the assignment possible anyway, which is something you'll find in many cases. <em>Variance</em> is a feature that makes the language work more intuitively.</p>\n<p>The considerations around these topics are extremely complicated. For instance, based on the preceding code, here are two scenarios that will result in errors.</p>\n<pre><code>// Runtime exception here - the array is still of type string[],\n// ints can't be inserted\nobjects[2]=10;\n\n// Compiler error here - covariance support in this scenario only\n// covers reference types, and int is a value type\nvar ints = new int[] { 1, 2, 3 };\nobjects = ints;\n</code></pre>\n<p>An example for the workings of contravariance is a bit more complicated. Imagine these\ntwo classes:</p>\n<pre><code>public partial class Person: IPerson \n{\n    public Person() \n    {\n    }\n}\n\npublic partial class Woman: Person\n{\n    public Woman()\n    {\n    }\n}\n</code></pre>\n<p><code>Woman</code> is derived from <code>Person</code>, obviously. Now consider you have these two functions:</p>\n<pre><code>static void WorkWithPerson(Person person)\n{\n}\n\nstatic void WorkWithWoman(Woman woman)\n{\n}\n</code></pre>\n<p>One of the functions does something(it doesn't matter what) with a <code>Woman</code>, the other is more general and can work with any type derived from <code>Person</code>. On the <code>Woman</code> side of things, you now also have these:</p>\n<pre><code>delegate void AcceptWomanDelegate(Woman person);\n\nstatic void DoWork(Woman woman, AcceptWomanDelegate acceptWoman)\n{\n    acceptWoman(woman);\n}\n</code></pre>\n<p><code>DoWork</code> is a function that can take a <code>Woman</code> and a reference to a function that also takes a <code>Woman</code>, and then it passes the instance of <code>Woman</code> to the delegate. Consider the <em>polymorphism</em> of the elements you have here. <code>Person</code> is <em>larger</em> than <code>Woman</code>, and <code>WorkWithPerson</code> is <em>larger</em> than <code>WorkWithWoman</code>.\n<code>WorkWithPerson</code> is also considered <em>larger</em> than <code>AcceptWomanDelegate</code> for the purpose of variance.</p>\n<p>Finally, you have these three lines of code:</p>\n<pre><code>var woman = new Woman();\nDoWork(woman, WorkWithWoman);\nDoWork(woman, WorkWithPerson);\n</code></pre>\n<p>A <code>Woman</code> instance is created. Then DoWork is called, passing in the <code>Woman</code> instance as well as a reference to the <code>WorkWithWoman</code> method. The latter is obviously compatible with the delegate type <code>AcceptWomanDelegate</code>  one parameter of type <code>Woman</code>, no return type.\nThe third line is a bit odd, though. The method <code>WorkWithPerson</code> takes a <code>Person</code> as parameter, not a <code>Woman</code>, as required by <code>AcceptWomanDelegate</code>. Nevertheless, <code>WorkWithPerson</code> is compatible with the delegate type. <em><strong>Contravariance</strong></em> makes it possible, so in the case of delegates the larger type <code>WorkWithPerson</code> can be stored in a variable of the smaller type <code>AcceptWomanDelegate</code>. Once more it's the intuitive thing: <em><strong>if <code>WorkWithPerson</code> can work with any <code>Person</code>, passing in a <code>Woman</code> can't be wrong</strong></em>, right?</p>\n<p>By now, you may be wondering how all this relates to generics. The answer is that variance can be applied to generics as well. The preceding example used <code>object</code> and <code>string</code> arrays. Here the code uses generic lists instead of the arrays:</p>\n<pre><code>var objectList = new List&lt;object&gt;();\nvar stringList = new List&lt;string&gt;();\nobjectList = stringList;\n</code></pre>\n<p>If you try this out, you will find that this is not a supported scenario in C#. In C# version 4.0 as well as .Net framework 4.0, variance support in generics has been cleaned up, and it is now possible to use the new keywords <em><strong>in</strong></em> and <em><strong>out</strong></em> with generic type parameters. They can define and restrict the direction of data flow for a particular type parameter, allowing variance to work. But in the case of <code>List&lt;T&gt;</code>, the data of type <code>T</code> flows in both directions  there are methods on the type <code>List&lt;T&gt;</code> that return <code>T</code> values, and others that receive such values.</p>\n<p>The point of these directional restrictions is <strong>to allow variance where it makes sense</strong>, but to <strong>prevent problems</strong> like the runtime error mentioned in one of the previous array examples. When type parameters are correctly decorated with <em>in</em> or <em>out</em>, the compiler can check, and allow or disallow, its variance at <em><strong>compile time</strong></em>. Microsoft has gone to the effort of adding these keywords to many standard interfaces in .Net framework, like <code>IEnumerable&lt;T&gt;</code>:</p>\n<pre><code>public interface IEnumerable&lt;out T&gt;: IEnumerable\n{\n    // ...\n}\n</code></pre>\n<p>For this interface, the data flow of type <code>T</code> objects is clear: <em><strong>they can only ever be retrieved from methods supported by this interface, not passed into them</strong></em>. As a result, it is possible to construct an example similar to the <code>List&lt;T&gt;</code> attempt described previously, but using <code>IEnumerable&lt;T&gt;</code> :</p>\n<pre><code>IEnumerable&lt;object&gt; objectSequence = new List&lt;object&gt;();\nIEnumerable&lt;string&gt; stringSequence = new List&lt;string&gt;();\nobjectSequence = stringSequence;\n</code></pre>\n<p>This code is acceptable to the C# compiler since version 4.0 because <code>IEnumerable&lt;T&gt;</code> is covariant due to the <em>out</em> specifier on the type parameter <code>T</code>.</p>\n<p>When working with generic types, it is important to be aware of variance and the way the compiler is applying various kinds of trickery in order to make your code work the way you expect it to.</p>\n<p>There's more to know about variance than is covered in this chapter, but this shall suffice to make all further code understandable.</p>\n<p>Ref:</p>\n<ul>\n<li><a href=\"https://rads.stackoverflow.com/amzn/click/com/0470744588\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\"><code>PROFESSIONAL Functional Programming in C#</code></a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1922764,"reputation":154,"user_id":1733857,"accept_rate":57,"display_name":"Skyrim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594938795,"creation_date":1351076122,"answer_id":13047778,"question_id":1163465,"body_markdown":"Both C# and the CLR allow for covariance and contra-variance of reference types when\r\nbinding a method to a delegate. Covariance means that a method can return a type that is\r\nderived from the delegates return type. Contra-variance means that a method can take a\r\nparameter that is a base of the delegates parameter type. For example, given a delegate\r\ndefined like this:\r\n\r\n    delegate Object MyCallback(FileStream s);\r\n\r\nIt is possible to construct an instance of this delegate type bound to a method that is prototyped\r\n\r\nLike this:\r\n\r\n    String SomeMethod(Stream s);\r\n\r\nHere, SomeMethods return type (String) is a type that is derived from the delegates return type (Object); this covariance is allowed. SomeMethods parameter type (Stream) is a type that is a base class of the delegates parameter type (FileStream); this contra-variance is allowed.\r\n\r\nNote that covariance and contra-variance are supported only for reference types, not for value types or for void. So, for example, I cannot bind the following method to the MyCallback delegate:\r\n\r\n    Int32 SomeOtherMethod(Stream s);\r\n\r\nEven though SomeOtherMethods return type (Int32) is derived from MyCallbacks return\r\ntype (Object), this form of covariance is not allowed because Int32 is a value type.\r\n\r\nObviously, the reason why value types and void cannot be used for covariance and\r\ncontra-variance is because the memory structure for these things varies, whereas the\r\nmemory structure for reference types is always a pointer. Fortunately, the C# compiler will\r\nproduce an error if you attempt to do something that is not supported.","title":"What is the difference between covariance and contra-variance in programming languages?","body":"<p>Both C# and the CLR allow for covariance and contra-variance of reference types when\nbinding a method to a delegate. Covariance means that a method can return a type that is\nderived from the delegates return type. Contra-variance means that a method can take a\nparameter that is a base of the delegates parameter type. For example, given a delegate\ndefined like this:</p>\n<pre><code>delegate Object MyCallback(FileStream s);\n</code></pre>\n<p>It is possible to construct an instance of this delegate type bound to a method that is prototyped</p>\n<p>Like this:</p>\n<pre><code>String SomeMethod(Stream s);\n</code></pre>\n<p>Here, SomeMethods return type (String) is a type that is derived from the delegates return type (Object); this covariance is allowed. SomeMethods parameter type (Stream) is a type that is a base class of the delegates parameter type (FileStream); this contra-variance is allowed.</p>\n<p>Note that covariance and contra-variance are supported only for reference types, not for value types or for void. So, for example, I cannot bind the following method to the MyCallback delegate:</p>\n<pre><code>Int32 SomeOtherMethod(Stream s);\n</code></pre>\n<p>Even though SomeOtherMethods return type (Int32) is derived from MyCallbacks return\ntype (Object), this form of covariance is not allowed because Int32 is a value type.</p>\n<p>Obviously, the reason why value types and void cannot be used for covariance and\ncontra-variance is because the memory structure for these things varies, whereas the\nmemory structure for reference types is always a pointer. Fortunately, the C# compiler will\nproduce an error if you attempt to do something that is not supported.</p>\n"},{"tags":[],"owner":{"account_id":6115775,"reputation":30435,"user_id":4770877,"display_name":"yoAlex5"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1658416095,"creation_date":1594026901,"answer_id":62752867,"question_id":1163465,"body_markdown":"**Variance, Covariance, Contravariance, Invariance**\r\n\r\n**Type(T)**\r\n\r\n`composite data type` - is a type which is built out of another type. For example it can be generic, container(collection), optional[&lt;sup&gt;\\[example\\]&lt;/sup&gt;][1] \r\n\r\n`method&#39;s type` - method&#39;s `parameter type`(pre-condition) and `return type`(post-condition)[&lt;sup&gt;\\[About\\]&lt;/sup&gt;][2]\r\n\r\n**Variance**\r\n\r\n`Variance` - is about assignment compatibility. It is an ability to use a `derived type` **instead of** `original type`. It is **not** `parent-child` relationship\r\n\r\n``` none\r\nX(T) - `composite data type` or `method type` X, with type T\r\n```\r\n\r\n`Covariance`(**same** subtyping direction) you are able to assign **more** `derived type` than `original type`(strives for -&gt; X(C))\r\n\r\n`X(T) covariant` or `X(T1) is covariant to X(T2)` when relation T1 to T2 is the same as X(T1) to X(T2)\r\n\r\n`Contravariance`(**opposite** subtyping direction) you are able to assign **less** `derived type` then `original type`(strives for -&gt; X(A))\r\n\r\n`X(T) contravariant` or `X(T1) is contravariant to X(T2)` when relation T1 to T2 is the same as X(T2) to X(T1)\r\n\r\n`Invariance` neither `Covariance` not `Contravariance`. There is exists also [&lt;sup&gt;\\[Class Invariant\\]&lt;/sup&gt;][3] \r\n\r\n\r\n**Examples**\r\n\r\nClass directions, pseudocode\r\n```\r\n//C -&gt; B -&gt; A\r\n\r\nclass A {}\r\nclass B: A {}\r\nclass C: B {}\r\n```\r\n\r\nReference type Array in Java is covariant\r\n``` Java\r\nA[] aArray = new A[2];\r\nB[] bArray = new B[2];\r\n\r\n//A - original type, B - more derived type\r\n//B[] is covariant to A[]\r\naArray = bArray;\r\n```\r\n\r\n``` Java\r\nclass Generic&lt;T&gt; { }\r\n\r\n//A - original type, B - more derived type\r\n//Generic&lt;B&gt; is covariant to Generic&lt;A&gt;\r\n//assign more derived type(B) than original type(A)\r\nGeneric&lt;? extends A&gt; ref = new Generic&lt;B&gt;(); //covariant\r\n\r\n//B - original type, A - less derived type\r\n//Generic&lt;B&gt; is contravariant to Generic&lt;A&gt;\r\n//assign less derived type(A) then original type(B)\r\nGeneric&lt;? super B&gt; ref = new Generic&lt;A&gt;(); //contravariant\r\n\r\n&lt;sub_type&gt; covariant/contravariant to &lt;super_type&gt;\r\n```\r\n\r\nSwift\r\n - Array\r\n - Generic\r\n - Closure\r\n\r\nSwift Array is covariance\r\n```\r\nlet array:[B] = [C()]\r\n```\r\n\r\nSwift Generic is Invariance\r\n```\r\nclass Wrapper&lt;T&gt; {\r\n    let value: T\r\n    \r\n    init(value: T) {\r\n        self.value = value\r\n    }\r\n}\r\n```\r\n\r\n```\r\nlet generic1: Wrapper&lt;A&gt; = Wrapper&lt;B&gt;(value: B()) //ERROR: Cannot assign value of type &#39;Wrapper&lt;B&gt;&#39; to type &#39;Wrapper&lt;A&gt;&#39;\r\nlet generic2: Wrapper&lt;B&gt; = Wrapper&lt;A&gt;(value: A()) //ERROR: Cannot assign value of type &#39;Wrapper&lt;A&gt;&#39; to type &#39;Wrapper&lt;B&gt;&#39;\r\n```\r\n\r\n**Swift closure**\r\n\r\nclosures return type is covariance\r\nclosures argument type is contravariance\r\n\r\n```\r\nvar foo1: (A) -&gt; C = { _ in return C() }\r\nlet foo2: (B) -&gt; B = foo1\r\n\r\ncovariance\r\n() -&gt; B = () -&gt; C\r\n\r\ncontravariance \r\n(A) -&gt; Void = (B) -&gt; Void\r\n```\r\n\r\n[\\[Liskov principle\\]][2]\r\n\r\n[\\[Java generics\\]][4]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/61232621/4770877\r\n  [2]: https://stackoverflow.com/a/64789005/4770877\r\n  [3]: https://stackoverflow.com/a/64788342/4770877\r\n  [4]: https://stackoverflow.com/a/62171149/4770877","title":"What is the difference between covariance and contra-variance in programming languages?","body":"<p><strong>Variance, Covariance, Contravariance, Invariance</strong></p>\n<p><strong>Type(T)</strong></p>\n<p><code>composite data type</code> - is a type which is built out of another type. For example it can be generic, container(collection), optional<a href=\"https://stackoverflow.com/a/61232621/4770877\"><sup>[example]</sup></a></p>\n<p><code>method's type</code> - method's <code>parameter type</code>(pre-condition) and <code>return type</code>(post-condition)<a href=\"https://stackoverflow.com/a/64789005/4770877\"><sup>[About]</sup></a></p>\n<p><strong>Variance</strong></p>\n<p><code>Variance</code> - is about assignment compatibility. It is an ability to use a <code>derived type</code> <strong>instead of</strong> <code>original type</code>. It is <strong>not</strong> <code>parent-child</code> relationship</p>\n<pre class=\"lang-none prettyprint-override\"><code>X(T) - `composite data type` or `method type` X, with type T\n</code></pre>\n<p><code>Covariance</code>(<strong>same</strong> subtyping direction) you are able to assign <strong>more</strong> <code>derived type</code> than <code>original type</code>(strives for -&gt; X(C))</p>\n<p><code>X(T) covariant</code> or <code>X(T1) is covariant to X(T2)</code> when relation T1 to T2 is the same as X(T1) to X(T2)</p>\n<p><code>Contravariance</code>(<strong>opposite</strong> subtyping direction) you are able to assign <strong>less</strong> <code>derived type</code> then <code>original type</code>(strives for -&gt; X(A))</p>\n<p><code>X(T) contravariant</code> or <code>X(T1) is contravariant to X(T2)</code> when relation T1 to T2 is the same as X(T2) to X(T1)</p>\n<p><code>Invariance</code> neither <code>Covariance</code> not <code>Contravariance</code>. There is exists also <a href=\"https://stackoverflow.com/a/64788342/4770877\"><sup>[Class Invariant]</sup></a></p>\n<p><strong>Examples</strong></p>\n<p>Class directions, pseudocode</p>\n<pre><code>//C -&gt; B -&gt; A\n\nclass A {}\nclass B: A {}\nclass C: B {}\n</code></pre>\n<p>Reference type Array in Java is covariant</p>\n<pre><code>A[] aArray = new A[2];\nB[] bArray = new B[2];\n\n//A - original type, B - more derived type\n//B[] is covariant to A[]\naArray = bArray;\n</code></pre>\n<pre><code>class Generic&lt;T&gt; { }\n\n//A - original type, B - more derived type\n//Generic&lt;B&gt; is covariant to Generic&lt;A&gt;\n//assign more derived type(B) than original type(A)\nGeneric&lt;? extends A&gt; ref = new Generic&lt;B&gt;(); //covariant\n\n//B - original type, A - less derived type\n//Generic&lt;B&gt; is contravariant to Generic&lt;A&gt;\n//assign less derived type(A) then original type(B)\nGeneric&lt;? super B&gt; ref = new Generic&lt;A&gt;(); //contravariant\n\n&lt;sub_type&gt; covariant/contravariant to &lt;super_type&gt;\n</code></pre>\n<p>Swift</p>\n<ul>\n<li>Array</li>\n<li>Generic</li>\n<li>Closure</li>\n</ul>\n<p>Swift Array is covariance</p>\n<pre><code>let array:[B] = [C()]\n</code></pre>\n<p>Swift Generic is Invariance</p>\n<pre><code>class Wrapper&lt;T&gt; {\n    let value: T\n    \n    init(value: T) {\n        self.value = value\n    }\n}\n</code></pre>\n<pre><code>let generic1: Wrapper&lt;A&gt; = Wrapper&lt;B&gt;(value: B()) //ERROR: Cannot assign value of type 'Wrapper&lt;B&gt;' to type 'Wrapper&lt;A&gt;'\nlet generic2: Wrapper&lt;B&gt; = Wrapper&lt;A&gt;(value: A()) //ERROR: Cannot assign value of type 'Wrapper&lt;A&gt;' to type 'Wrapper&lt;B&gt;'\n</code></pre>\n<p><strong>Swift closure</strong></p>\n<p>closures return type is covariance\nclosures argument type is contravariance</p>\n<pre><code>var foo1: (A) -&gt; C = { _ in return C() }\nlet foo2: (B) -&gt; B = foo1\n\ncovariance\n() -&gt; B = () -&gt; C\n\ncontravariance \n(A) -&gt; Void = (B) -&gt; Void\n</code></pre>\n<p><a href=\"https://stackoverflow.com/a/64789005/4770877\">[Liskov principle]</a></p>\n<p><a href=\"https://stackoverflow.com/a/62171149/4770877\">[Java generics]</a></p>\n"}],"owner":{"account_id":25344,"reputation":20890,"user_id":65120,"accept_rate":56,"display_name":"xdevel2000"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14031,"favorite_count":0,"down_vote_count":1,"up_vote_count":36,"closed_date":1594939393,"accepted_answer_id":1163491,"answer_count":4,"score":35,"last_activity_date":1700763672,"creation_date":1248245350,"question_id":1163465,"body_markdown":"Can anyone explain the concept of covariance and contravariance in\r\nprogramming language theory? ","title":"What is the difference between covariance and contra-variance in programming languages?","body":"<p>Can anyone explain the concept of covariance and contravariance in\nprogramming language theory?</p>\n"},{"tags":["java","loops"],"comments":[{"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"score":1,"creation_date":1700636538,"post_id":77527886,"comment_id":136677538,"body_markdown":"Does this answer your question? [What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?](https://stackoverflow.com/questions/5554734/what-causes-a-java-lang-arrayindexoutofboundsexception-and-how-do-i-prevent-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5554734/what-causes-a-java-lang-arrayindexoutofboundsexception-and-how-do-i-prevent-it\">What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?</a>"},{"owner":{"account_id":6234997,"reputation":317,"user_id":4850588,"display_name":"developer-vivekjain"},"score":2,"creation_date":1700637583,"post_id":77527886,"comment_id":136677694,"body_markdown":"while you are ruining your program, are you passing the parameter ? Might be that is causing the problem.","body":"while you are ruining your program, are you passing the parameter ? Might be that is causing the problem."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":2,"creation_date":1700639027,"post_id":77527886,"comment_id":136677923,"body_markdown":"that is not an &quot;*Eclipseerror*&quot; (as mentioned in the title) but just an &quot;*ArrayIndexOutOfBoundsException*&quot; (asked very often on this site) -- that happens if you code something like `args[0]` but the array does not have that element, that is, the index is out of bounds (negative or too large). In this particular case, the array is empty (program started without any arguments)","body":"that is not an &quot;<i>Eclipseerror</i>&quot; (as mentioned in the title) but just an &quot;<i>ArrayIndexOutOfBoundsException</i>&quot; (asked very often on this site) -- that happens if you code something like <code>args[0]</code> but the array does not have that element, that is, the index is out of bounds (negative or too large). In this particular case, the array is empty (program started without any arguments)"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1700639620,"post_id":77527886,"comment_id":136678016,"body_markdown":"Does this answer your question? [String\\[\\] args parameter: java.lang.ArrayIndexOutOfBoundsException](https://stackoverflow.com/questions/19007178/string-args-parameter-java-lang-arrayindexoutofboundsexception) Alternatively, you might want to check [this question and its answers](https://stackoverflow.com/q/373328/10871900)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/19007178/string-args-parameter-java-lang-arrayindexoutofboundsexception\">String&#91;&#93; args parameter: java.lang.ArrayIndexOutOfBoundsException</a> Alternatively, you might want to check <a href=\"https://stackoverflow.com/q/373328/10871900\">this question and its answers</a>"},{"owner":{"account_id":29963799,"reputation":11,"user_id":22962818,"display_name":"scorpianwolf"},"score":0,"creation_date":1700641476,"post_id":77527886,"comment_id":136678316,"body_markdown":"what should i do for it? @user85421","body":"what should i do for it? @user85421"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1700642030,"post_id":77527886,"comment_id":136678397,"body_markdown":"1) before accessing the array, check if it has enough elements (`args.length`), printing an error message (usage) if not; and 2) provide the required arguments when starting the program","body":"1) before accessing the array, check if it has enough elements (<code>args.length</code>), printing an error message (usage) if not; and 2) provide the required arguments when starting the program"},{"owner":{"account_id":29963799,"reputation":11,"user_id":22962818,"display_name":"scorpianwolf"},"score":0,"creation_date":1700642150,"post_id":77527886,"comment_id":136678418,"body_markdown":"i did all in earliear program above. same program run in cmd working ok but not in eclipse ,whenever i run a program there is a pop up occcure  in eclipse asking again to run and then this above error occure \n@developer-vivekjain","body":"i did all in earliear program above. same program run in cmd working ok but not in eclipse ,whenever i run a program there is a pop up occcure  in eclipse asking again to run and then this above error occure  @developer-vivekjain"}],"answers":[{"tags":[],"owner":{"account_id":5941380,"reputation":4114,"user_id":4672460,"accept_rate":100,"display_name":"Selaka Nanayakkara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700762154,"creation_date":1700762154,"answer_id":77538894,"question_id":77527886,"body_markdown":"You dont need to have String Args simple get he users input via scanner and check if it is passed or fail.\r\n\r\n&gt; Refer the below working exaple [here][1].\r\n\r\n\r\nSample code :\r\n\r\n    import java.util.Scanner;\r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            int mark =0;\r\n            \r\n            Scanner sn = new Scanner (System.in);\r\n            System.out.println (&quot;Enter the value =&quot;);\r\n            mark = sn.nextInt();\r\n      \r\n            if (mark&gt;=50) {\r\n                System.out.println(&quot;pass&quot;);\r\n            } else {\r\n                System.out.println(&quot;fail&quot;);\r\n            }   \r\n        }   \r\n    }\r\n\r\n\r\n  [1]: https://onlinegdb.com/s9ReZ4gzBV","title":"Eclipseerror while doind problem of if and else","body":"<p>You dont need to have String Args simple get he users input via scanner and check if it is passed or fail.</p>\n<blockquote>\n<p>Refer the below working exaple <a href=\"https://onlinegdb.com/s9ReZ4gzBV\" rel=\"nofollow noreferrer\">here</a>.</p>\n</blockquote>\n<p>Sample code :</p>\n<pre><code>import java.util.Scanner;\npublic class Main {\n\n    public static void main(String[] args) {\n        int mark =0;\n        \n        Scanner sn = new Scanner (System.in);\n        System.out.println (&quot;Enter the value =&quot;);\n        mark = sn.nextInt();\n  \n        if (mark&gt;=50) {\n            System.out.println(&quot;pass&quot;);\n        } else {\n            System.out.println(&quot;fail&quot;);\n        }   \n    }   \n}\n</code></pre>\n"}],"owner":{"account_id":29963799,"reputation":11,"user_id":22962818,"display_name":"scorpianwolf"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700762154,"creation_date":1700636382,"question_id":77527886,"body_markdown":"```java\r\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\r\n\tat newfreecode2.Main.main(Main.java:7)\r\n```\r\nthis error comes in while my code is \r\n```\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tint mark=Integer.parseInt(args[0]); \r\n\t\tif (mark&gt;=50) {\r\n\t\t    System.out.println(&quot;pass&quot;);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;fail&quot;);\r\n\t\t}\t\r\n    }\t\r\n}\r\n```\r\ni dont get what this error actually means i m new in java still learning could you help me please","title":"Eclipseerror while doind problem of if and else","body":"<pre class=\"lang-java prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\n    at newfreecode2.Main.main(Main.java:7)\n</code></pre>\n<p>this error comes in while my code is</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        int mark=Integer.parseInt(args[0]); \n        if (mark&gt;=50) {\n            System.out.println(&quot;pass&quot;);\n        } else {\n            System.out.println(&quot;fail&quot;);\n        }   \n    }   \n}\n</code></pre>\n<p>i dont get what this error actually means i m new in java still learning could you help me please</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":1,"creation_date":1700764442,"post_id":77538860,"comment_id":136697149,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"}],"owner":{"account_id":29977271,"reputation":1,"user_id":22973173,"display_name":"Ibrahim bwardy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700761812,"creation_date":1700761812,"question_id":77538860,"body_markdown":"I have this gcd calculation using the euclidean law .. then I calculate the linear combination as it shown under ... I wrote a program the finds them but I have a problem with the second part how could I print the linear combination backwards as it shown under In java (I want to sum the Coefficient of the same number)\r\n\r\nThis is the output of the program \r\n\r\n\r\n \r\n[enter image description here](https://i.stack.imgur.com/1BMUh.jpg)","title":"Gcd and linear combination (backwards) program in java with steps","body":"<p>I have this gcd calculation using the euclidean law .. then I calculate the linear combination as it shown under ... I wrote a program the finds them but I have a problem with the second part how could I print the linear combination backwards as it shown under In java (I want to sum the Coefficient of the same number)</p>\n<p>This is the output of the program</p>\n<p><a href=\"https://i.stack.imgur.com/1BMUh.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","elasticsearch","solr","lucene","opensearch"],"comments":[{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1700764461,"post_id":77538839,"comment_id":136697152,"body_markdown":"This is the same question as https://stackoverflow.com/questions/77536560/issues-on-searching-with-stop-words. Maybe delete the other one if this one is of better quality.","body":"This is the same question as <a href=\"https://stackoverflow.com/questions/77536560/issues-on-searching-with-stop-words\" title=\"issues on searching with stop words\">stackoverflow.com/questions/77536560/&hellip;</a>. Maybe delete the other one if this one is of better quality."},{"owner":{"account_id":46578,"reputation":50301,"user_id":137650,"display_name":"MatsLindh"},"score":0,"creation_date":1700769848,"post_id":77538839,"comment_id":136697799,"body_markdown":"I&#39;m not sure how this is related to Solr?","body":"I&#39;m not sure how this is related to Solr?"}],"owner":{"account_id":29218316,"reputation":13,"user_id":22384611,"display_name":"JAY"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700761629,"creation_date":1700761629,"question_id":77538839,"body_markdown":"In Elasticsearch, when searching with a stop keyword like &quot;is,&quot; &quot;on,&quot; or &quot;the,&quot; it gets replaced with &quot;?&quot; during the search process. For instance, &quot;circular on AI&quot; becomes &quot;circular ? AI,&quot; yielding the expected result. However, undesired results such as &quot;circular of AI&quot; or &quot;circular demo AI&quot; also appear. While it&#39;s acceptable for &quot;?&quot; to be replaced by a stop word, it&#39;s problematic when replaced by any word. The desired outcome is to obtain results containing only stop words, like &quot;circular stop word AI.&quot; How can I achieve this specific behavior in Elasticsearch?\r\n\r\nWhen using Elasticsearch, a search with stop keywords like &quot;is&quot; gets replaced with &quot;?&quot; but may also yield results with arbitrary words like &quot;of&quot; or &quot;demo.&quot; To ensure results only include stop words, such as &quot;circular stop word AI,&quot; rather than any word, how can this be achieved in Elasticsearch?","title":"Stop word in elasticsearch","body":"<p>In Elasticsearch, when searching with a stop keyword like &quot;is,&quot; &quot;on,&quot; or &quot;the,&quot; it gets replaced with &quot;?&quot; during the search process. For instance, &quot;circular on AI&quot; becomes &quot;circular ? AI,&quot; yielding the expected result. However, undesired results such as &quot;circular of AI&quot; or &quot;circular demo AI&quot; also appear. While it's acceptable for &quot;?&quot; to be replaced by a stop word, it's problematic when replaced by any word. The desired outcome is to obtain results containing only stop words, like &quot;circular stop word AI.&quot; How can I achieve this specific behavior in Elasticsearch?</p>\n<p>When using Elasticsearch, a search with stop keywords like &quot;is&quot; gets replaced with &quot;?&quot; but may also yield results with arbitrary words like &quot;of&quot; or &quot;demo.&quot; To ensure results only include stop words, such as &quot;circular stop word AI,&quot; rather than any word, how can this be achieved in Elasticsearch?</p>\n"},{"tags":["java","quarkus","quarkus-reactive"],"owner":{"account_id":29963100,"reputation":11,"user_id":22962284,"display_name":"Julia Muraveva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700761422,"creation_date":1700642215,"question_id":77528402,"body_markdown":"I&#39;m working on a reactive application using Hibernate Reactive with Panache and am trying to implement a repository-service-rest-controller architecture. \r\nHere&#39;s my rest-controller method:\r\n```\r\n@GET\r\n@Path(&quot;/translations/{language}&quot;)\r\npublic Uni&lt;List&lt;EntityTranslationTo&gt;&gt; getEntityTranslations(@PathParam(&quot;language&quot;) String langCode) {\r\n    return entityTranslationService.getAllEntityTranslationsTo(langCode);\r\n}\r\n```\r\n\r\nThis controller calls the following service method:\r\n```\r\npublic Uni&lt;List&lt;EntityTranslationTo&gt;&gt; getAllEntityTranslationsTo(String langCode) {\r\n    Uni&lt;List&lt;EntityTranslationTo&gt;&gt; entityTranslationQuery = repository.getAllEntityTranslations(langCode.toLowerCase())\r\n            .onItem().transform(translations -&gt; translations.stream()\r\n                    .map(translation -&gt; new EntityTranslationTo(translation.getEntity().getId(), translation.getTranslation()))\r\n                    .collect(Collectors.toList()));\r\n    return PanacheExceptionHandler.handleDatabaseError(entityTranslationQuery, &quot;Database connection exception&quot;);\r\n}\r\n```\r\n\r\nAnd the service, in turn, calls this repository method:\r\n```\r\npublic Uni&lt;List&lt;EntityTranslation&gt;&gt; getAllEntityTranslations(String langCode) {\r\n    Uni&lt;List&lt;EntityTranslation&gt;&gt; entityTranslationQuery = find(&quot;langCode&quot;, langCode).list();\r\n    return PanacheExceptionHandler.handleDatabaseError(entityTranslationQuery, &quot;Database connection exception&quot;);\r\n}\r\n```\r\n\r\nThis code worked flawlessly in Quarkus version 2.16.7.Final. However, after updating to 3.4.3, I&#39;m encountering this error:\r\n```\r\njava.lang.IllegalStateException: No current Mutiny.Session found\r\n- no reactive session was found in the context and the context was not marked to open a new session lazily\r\n- you might need to annotate the business method with @WithSession\r\n```\r\n\r\nThe migration guide for version 3.0 (https://github.com/quarkusio/quarkus/wiki/Migration-Guide-3.0#hibernate-reactive-panache) mentions that in some cases, the session is automatically opened on demand, especially when a Panache entity method is invoked in a JAX-RS resource method in an application with the quarkus-resteasy-reactive extension. But in other cases, it&#39;s not as clear.\r\n\r\nWhy is this happening? Both the service and the repository should be called within the JAX-RS context. If I move all the logic from the service to the controller and eliminate the service, the code works without errors. It seems that the context is somehow lost when the service is involved.\r\n\r\nIf the code is left as is and the @WithSession annotation is added to the repository method, it will also work.\r\n\r\nHas anyone faced this issue and found a solution? I couldn&#39;t find relevant examples in the official documentation.","title":"Missing @WithSession with quarkus-resteasy-reactive causes java.lang.IllegalStateException: No current Mutiny.Session found","body":"<p>I'm working on a reactive application using Hibernate Reactive with Panache and am trying to implement a repository-service-rest-controller architecture.\nHere's my rest-controller method:</p>\n<pre><code>@GET\n@Path(&quot;/translations/{language}&quot;)\npublic Uni&lt;List&lt;EntityTranslationTo&gt;&gt; getEntityTranslations(@PathParam(&quot;language&quot;) String langCode) {\n    return entityTranslationService.getAllEntityTranslationsTo(langCode);\n}\n</code></pre>\n<p>This controller calls the following service method:</p>\n<pre><code>public Uni&lt;List&lt;EntityTranslationTo&gt;&gt; getAllEntityTranslationsTo(String langCode) {\n    Uni&lt;List&lt;EntityTranslationTo&gt;&gt; entityTranslationQuery = repository.getAllEntityTranslations(langCode.toLowerCase())\n            .onItem().transform(translations -&gt; translations.stream()\n                    .map(translation -&gt; new EntityTranslationTo(translation.getEntity().getId(), translation.getTranslation()))\n                    .collect(Collectors.toList()));\n    return PanacheExceptionHandler.handleDatabaseError(entityTranslationQuery, &quot;Database connection exception&quot;);\n}\n</code></pre>\n<p>And the service, in turn, calls this repository method:</p>\n<pre><code>public Uni&lt;List&lt;EntityTranslation&gt;&gt; getAllEntityTranslations(String langCode) {\n    Uni&lt;List&lt;EntityTranslation&gt;&gt; entityTranslationQuery = find(&quot;langCode&quot;, langCode).list();\n    return PanacheExceptionHandler.handleDatabaseError(entityTranslationQuery, &quot;Database connection exception&quot;);\n}\n</code></pre>\n<p>This code worked flawlessly in Quarkus version 2.16.7.Final. However, after updating to 3.4.3, I'm encountering this error:</p>\n<pre><code>java.lang.IllegalStateException: No current Mutiny.Session found\n- no reactive session was found in the context and the context was not marked to open a new session lazily\n- you might need to annotate the business method with @WithSession\n</code></pre>\n<p>The migration guide for version 3.0 (<a href=\"https://github.com/quarkusio/quarkus/wiki/Migration-Guide-3.0#hibernate-reactive-panache\" rel=\"nofollow noreferrer\">https://github.com/quarkusio/quarkus/wiki/Migration-Guide-3.0#hibernate-reactive-panache</a>) mentions that in some cases, the session is automatically opened on demand, especially when a Panache entity method is invoked in a JAX-RS resource method in an application with the quarkus-resteasy-reactive extension. But in other cases, it's not as clear.</p>\n<p>Why is this happening? Both the service and the repository should be called within the JAX-RS context. If I move all the logic from the service to the controller and eliminate the service, the code works without errors. It seems that the context is somehow lost when the service is involved.</p>\n<p>If the code is left as is and the @WithSession annotation is added to the repository method, it will also work.</p>\n<p>Has anyone faced this issue and found a solution? I couldn't find relevant examples in the official documentation.</p>\n"},{"tags":["java","sql","database","oracle","apache-commons-dbutils"],"comments":[{"owner":{"account_id":26978029,"reputation":6997,"user_id":20542862,"display_name":"Paul W"},"score":1,"creation_date":1700767566,"post_id":77538647,"comment_id":136697551,"body_markdown":"The use of IN with 1000 parameters to do batching like this causes a lot of problems. The parse time is excessive, the memory requirements for each cursor is extremely high, parsing concurrency latches and mutexes are held longer causing issues for other sessions, and the lack of bind variables means a new cursor is needed every time. It&#39;s not scalable. We shut down any user using this methodology for this reason. The appropriate way is to loop one row at a time. If you need batch processing, array insert the IDs into a temp table and use that to drive a one-time update or merge on the status.","body":"The use of IN with 1000 parameters to do batching like this causes a lot of problems. The parse time is excessive, the memory requirements for each cursor is extremely high, parsing concurrency latches and mutexes are held longer causing issues for other sessions, and the lack of bind variables means a new cursor is needed every time. It&#39;s not scalable. We shut down any user using this methodology for this reason. The appropriate way is to loop one row at a time. If you need batch processing, array insert the IDs into a temp table and use that to drive a one-time update or merge on the status."},{"owner":{"account_id":26978029,"reputation":6997,"user_id":20542862,"display_name":"Paul W"},"score":1,"creation_date":1700767667,"post_id":77538647,"comment_id":136697562,"body_markdown":"You can also build a client array and bind it to a procedure parameter input, which then in PL/SQL loops through the array and processes each update singly. This will perform quite well because you&#39;ve taken the network out of the loop.","body":"You can also build a client array and bind it to a procedure parameter input, which then in PL/SQL loops through the array and processes each update singly. This will perform quite well because you&#39;ve taken the network out of the loop."},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":1,"creation_date":1700789701,"post_id":77538647,"comment_id":136699463,"body_markdown":"The traditional solution is to create a [private temporary table](https://docs.oracle.com/en/database/oracle/oracle-database/18/admin/managing-tables.html#GUID-9B373086-0760-4B18-9688-BACFF07EC74B), store all the IDs in it, and then just join it with the main query. This way the query won&#39;t be limited to 1000 elements, and can have much more values than that.","body":"The traditional solution is to create a <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/18/admin/managing-tables.html#GUID-9B373086-0760-4B18-9688-BACFF07EC74B\" rel=\"nofollow noreferrer\">private temporary table</a>, store all the IDs in it, and then just join it with the main query. This way the query won&#39;t be limited to 1000 elements, and can have much more values than that."},{"owner":{"account_id":7177469,"reputation":93,"user_id":5482836,"display_name":"Sijo Kurien"},"score":0,"creation_date":1700803090,"post_id":77538647,"comment_id":136700300,"body_markdown":"Thank you for the comments. That was helpful. What would be DBUtils.QueryRunner.batch would be doing? Will it create a temporary table internally? How is its mechanism of action? Also, it is mentioned looping will help but doesnt looping a performance hit, as it has to send the single query across network all the time?","body":"Thank you for the comments. That was helpful. What would be DBUtils.QueryRunner.batch would be doing? Will it create a temporary table internally? How is its mechanism of action? Also, it is mentioned looping will help but doesnt looping a performance hit, as it has to send the single query across network all the time?"}],"owner":{"account_id":7177469,"reputation":93,"user_id":5482836,"display_name":"Sijo Kurien"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700759299,"creation_date":1700759299,"question_id":77538647,"body_markdown":"We have an application which selects rows from database based on a status, processes it and updates the status, so that it is not picked up again. \r\nWe have been using Apache DBUtils Query Runner to execute the queries and to caste the items to a bean using a bean handler.\r\n\r\nWe have been using queryRunner.update(Connection, updateQuery) by giving a query which updates based on &#39;ID&#39;s using &#39;IN&#39; clause.\r\n\r\n    UPDATE TABLE SET STATUS = &#39;P&#39; WHERE ID IN (&#39;id1&#39;, &#39;id2&#39;....);\r\n\r\nBut we realized that Oracle has a limitation of 1000 items to keep in the &#39;IN&#39; clause but we wanted to try selecting more records and update them. This is because as the fetch count increased, we noticed better performance.\r\n\r\nSo we thought of using,\r\n\r\n    public int[] batch(Connection conn,\r\n                       String sql,\r\n                       Object[][] params)\r\n                throws SQLException;\r\n\r\nand pass the &#39;ID&#39;s in the params.\r\n\r\nI would like to know the below,\r\n\r\n1. In a plain select and update, which one will perform better, \r\n         a. Low fetch count and update using IN with lesser items. (higher number of loops).\r\n         b. Higher fetch count and update using IN with higher items. (lower number of loops).\r\n2. Does `QueryRunner.batch` have the limitation of 1000 items in &#39;IN&#39; statement or does it use a different mechanism? \r\n3. Does `QueryRunner.batch` actually update one by one and end up performing worse than using &#39;IN&#39; clause?\r\n\r\nKindly help me here. Apologies for multiple questions.","title":"DbUtils Query runner usage of batch performance","body":"<p>We have an application which selects rows from database based on a status, processes it and updates the status, so that it is not picked up again.\nWe have been using Apache DBUtils Query Runner to execute the queries and to caste the items to a bean using a bean handler.</p>\n<p>We have been using queryRunner.update(Connection, updateQuery) by giving a query which updates based on 'ID's using 'IN' clause.</p>\n<pre><code>UPDATE TABLE SET STATUS = 'P' WHERE ID IN ('id1', 'id2'....);\n</code></pre>\n<p>But we realized that Oracle has a limitation of 1000 items to keep in the 'IN' clause but we wanted to try selecting more records and update them. This is because as the fetch count increased, we noticed better performance.</p>\n<p>So we thought of using,</p>\n<pre><code>public int[] batch(Connection conn,\n                   String sql,\n                   Object[][] params)\n            throws SQLException;\n</code></pre>\n<p>and pass the 'ID's in the params.</p>\n<p>I would like to know the below,</p>\n<ol>\n<li>In a plain select and update, which one will perform better,\na. Low fetch count and update using IN with lesser items. (higher number of loops).\nb. Higher fetch count and update using IN with higher items. (lower number of loops).</li>\n<li>Does <code>QueryRunner.batch</code> have the limitation of 1000 items in 'IN' statement or does it use a different mechanism?</li>\n<li>Does <code>QueryRunner.batch</code> actually update one by one and end up performing worse than using 'IN' clause?</li>\n</ol>\n<p>Kindly help me here. Apologies for multiple questions.</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1700759635,"post_id":77538645,"comment_id":136696477,"body_markdown":"Are you sure you&#39;re reading the sheet you think you&#39;re reading? What happens if you print out the name of the sheet?","body":"Are you sure you&#39;re reading the sheet you think you&#39;re reading? What happens if you print out the name of the sheet?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1700760001,"post_id":77538645,"comment_id":136696532,"body_markdown":"`SXSSF` is not made for reading but only for writing. See https://poi.apache.org/components/spreadsheet/how-to.html#sxssf: &quot;SXSSF achieves its low memory footprint by limiting access to the rows that are within a sliding window, while XSSF gives access to all rows in the document. Older rows that are no longer in the window become inaccessible, as they are written to the disk.&quot;","body":"<code>SXSSF</code> is not made for reading but only for writing. See <a href=\"https://poi.apache.org/components/spreadsheet/how-to.html#sxssf\" rel=\"nofollow noreferrer\">poi.apache.org/components/spreadsheet/how-to.html#sxssf</a>: &quot;SXSSF achieves its low memory footprint by limiting access to the rows that are within a sliding window, while XSSF gives access to all rows in the document. Older rows that are no longer in the window become inaccessible, as they are written to the disk.&quot;"}],"owner":{"account_id":29976936,"reputation":1,"user_id":22972923,"display_name":"Radosaw Poprawa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700759271,"creation_date":1700759271,"question_id":77538645,"body_markdown":"I&#39;m trying to read rows from an Excel sheet which contains 148 rows. None of these rows are empty. When I use sheet.getRow(0), the result is null. The same situation occurs with sheet.getRow(47). However, starting from sheet.getRow(48), it returns the correct value.\r\n\r\nHere is a code:\r\n\r\n```\r\npublic void resizeColumns(){\r\n        if(workbook == null){\r\n            return;\r\n        }\r\n        var numberOfSheets = workbook.getNumberOfSheets();\r\n        for (int i = 0; i &lt; numberOfSheets; i++) {\r\n            var sheet = workbook.getSheetAt(i);\r\n            if (sheet.getPhysicalNumberOfRows() &gt; 0) {\r\n                var row = sheet.getRow(sheet.getFirstRowNum());\r\n                if(row != null){\r\n                    var cellIterator = row.cellIterator();\r\n                    while (cellIterator.hasNext()) {\r\n                        var cell = cellIterator.next();\r\n                        int columnIndex = cell.getColumnIndex();\r\n                        if (sheet instanceof SXSSFSheet) {\r\n                            ((SXSSFSheet) sheet).trackColumnForAutoSizing(columnIndex);\r\n                        }\r\n                        sheet.autoSizeColumn(columnIndex);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nI&#39;m using SXSSFWorkbook\r\n\r\nproblem line:\r\n\r\n```\r\nvar row = sheet.getRow(sheet.getFristRowNum())\r\n```\r\n\r\nI was trying to debug this method and observed the behavior I described above.","title":"Apache POI: getRow() Returns null although sheet contains non-empty rows","body":"<p>I'm trying to read rows from an Excel sheet which contains 148 rows. None of these rows are empty. When I use sheet.getRow(0), the result is null. The same situation occurs with sheet.getRow(47). However, starting from sheet.getRow(48), it returns the correct value.</p>\n<p>Here is a code:</p>\n<pre><code>public void resizeColumns(){\n        if(workbook == null){\n            return;\n        }\n        var numberOfSheets = workbook.getNumberOfSheets();\n        for (int i = 0; i &lt; numberOfSheets; i++) {\n            var sheet = workbook.getSheetAt(i);\n            if (sheet.getPhysicalNumberOfRows() &gt; 0) {\n                var row = sheet.getRow(sheet.getFirstRowNum());\n                if(row != null){\n                    var cellIterator = row.cellIterator();\n                    while (cellIterator.hasNext()) {\n                        var cell = cellIterator.next();\n                        int columnIndex = cell.getColumnIndex();\n                        if (sheet instanceof SXSSFSheet) {\n                            ((SXSSFSheet) sheet).trackColumnForAutoSizing(columnIndex);\n                        }\n                        sheet.autoSizeColumn(columnIndex);\n                    }\n                }\n            }\n        }\n    }\n</code></pre>\n<p>I'm using SXSSFWorkbook</p>\n<p>problem line:</p>\n<pre><code>var row = sheet.getRow(sheet.getFristRowNum())\n</code></pre>\n<p>I was trying to debug this method and observed the behavior I described above.</p>\n"},{"tags":["java","c++","winapi","cmd"],"comments":[{"owner":{"account_id":5809836,"reputation":33185,"user_id":4581301,"display_name":"user4581301"},"score":0,"creation_date":1700613986,"post_id":77526685,"comment_id":136675604,"body_markdown":"0xC0000005 is access violation. Somebody used a resource they don&#39;t own. Usually this is marching outside an array or using an uninitialized or dangling pointer, but just about anything could trigger it.","body":"0xC0000005 is access violation. Somebody used a resource they don&#39;t own. Usually this is marching outside an array or using an uninitialized or dangling pointer, but just about anything could trigger it."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1700617066,"post_id":77526685,"comment_id":136675883,"body_markdown":"You&#39;ll have to examine the complete OS stack dump (not the Java stack trace) to see where in the JNR-FFI library the error occurred.  Could be you passed an incorrect parameter somewhere, or there&#39;s a bug in the library.","body":"You&#39;ll have to examine the complete OS stack dump (not the Java stack trace) to see where in the JNR-FFI library the error occurred.  Could be you passed an incorrect parameter somewhere, or there&#39;s a bug in the library."}],"answers":[{"tags":[],"owner":{"account_id":29959217,"reputation":1,"user_id":22959393,"display_name":"SX12C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700759208,"creation_date":1700759066,"answer_id":77538627,"question_id":77526685,"body_markdown":"Somebody pointed out that the last parameter in `WriteConsoleOutputCharacterW()` should have been a Pointer to a long var instead of an int.\r\n\r\n---\r\n\r\nChanging this:\r\n`int lpNumberOfCharsWritten = 0;` in &#39;WroteCMD()&#39;\r\n\r\n\r\n---\r\nto this:\r\n`Pointer lpNumberOfCharsWritten = Runtime.getSystemRuntime().getMemoryManager().allocate( Runtime.getSystemRuntime().findType( TypeAlias.int32_t ).size() );`\r\n\r\n---\r\nfixed the issue. I was using an int as a memory address and this was trying to write to, in this case, address 0.","title":"Using JNR-FFI to output a char table to CMD screen buffer crashes","body":"<p>Somebody pointed out that the last parameter in <code>WriteConsoleOutputCharacterW()</code> should have been a Pointer to a long var instead of an int.</p>\n<hr />\n<p>Changing this:\n<code>int lpNumberOfCharsWritten = 0;</code> in 'WroteCMD()'</p>\n<hr />\n<p>to this:\n<code>Pointer lpNumberOfCharsWritten = Runtime.getSystemRuntime().getMemoryManager().allocate( Runtime.getSystemRuntime().findType( TypeAlias.int32_t ).size() );</code></p>\n<hr />\n<p>fixed the issue. I was using an int as a memory address and this was trying to write to, in this case, address 0.</p>\n"}],"owner":{"account_id":29959217,"reputation":1,"user_id":22959393,"display_name":"SX12C"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700759208,"creation_date":1700612766,"question_id":77526685,"body_markdown":"I&#39;m trying to write a library in Java that&#39;ll use C++ code to access an write directly to console screen buffer in CMD. I&#39;ve managed to print out one time, but it crashes after that with exit code `0xC0000005`\r\n\r\n\r\n\r\nI used JNR-FFI library. This code now prints out the first frame of animation, pauses on if for a second and crashes.\r\n\r\nHere&#39;s that code:\r\n\r\n```\r\nimport jnr.ffi.LibraryLoader;\r\nimport jnr.ffi.Pointer;\r\n\r\npublic class Main {\r\n\r\n    public interface Kernel32 {\r\n        Kernel32 INSTANCE = LibraryLoader.create(Kernel32.class).load(&quot;kernel32&quot;);\r\n\r\n        int GENERIC_READ = 0x80000000;\r\n        int GENERIC_WRITE = 0x40000000;\r\n        int FILE_SHARE_READ = 0x00000001;\r\n        int FILE_SHARE_WRITE = 0x00000002;\r\n        int CONSOLE_TEXTMODE_BUFFER = 1;\r\n\r\n        Pointer CreateConsoleScreenBuffer(int dwDesiredAccess, int dwShareMode, Pointer lpSecurityAttributes, int dwFlags, Pointer lpScreenBufferData);\r\n        void SetConsoleActiveScreenBuffer(Pointer hConsoleOutput);\r\n        int WriteConsoleOutputCharacterW(Pointer hConsoleOutput, char[] lpCharacter, int nLength, int dwWriteCoord, int lpNumberOfCharsWritten);\r\n    }\r\n\r\n    private static final int nScreenWidth = 240;\r\n    private static final int nScreenHeight = 135;\r\n\r\n    static Kernel32 kernel32 = Kernel32.INSTANCE;\r\n\r\n    private static Pointer hConsole = kernel32.CreateConsoleScreenBuffer(\r\n            Kernel32.GENERIC_WRITE | Kernel32.GENERIC_READ,\r\n            Kernel32.FILE_SHARE_READ | Kernel32.FILE_SHARE_WRITE,\r\n            null,\r\n            Kernel32.CONSOLE_TEXTMODE_BUFFER,\r\n            null\r\n    );\r\n\r\n    public static void writeCMD(char[] screen){\r\n        try {\r\n            if (screen.length == (nScreenWidth * nScreenHeight) + 1) {\r\n                int lpNumberOfCharsWritten = 0;\r\n                System.out.println(kernel32.WriteConsoleOutputCharacterW(hConsole, screen, (nScreenWidth * nScreenHeight) + 1, 0, lpNumberOfCharsWritten));\r\n            }\r\n        } catch (Exception t) {\r\n            t.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        kernel32.SetConsoleActiveScreenBuffer(hConsole);\r\n\r\n        char[] screen = new char[(nScreenWidth * nScreenHeight) + 1];\r\n        for (int i = 0; i &lt; screen.length - 1; i++) {\r\n            screen[i] = &#39;-&#39;;\r\n        }\r\n        screen[screen.length - 1] = &#39;\\0&#39;;\r\n\r\n        int position = 0;\r\n        while(true){\r\n            screen[position] = &#39;#&#39;;\r\n            writeCMD(screen);\r\n            screen[position] = &#39;-&#39;;\r\n            position++;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nRunning it in CMD as mentioned prints the first frame, freezes on that for a sec and crashes with no exception, but running it in IntelliJ console gave me exit code `0xc0000005&#39; and found this in event viewer:\r\n\r\n```\r\nFaulting application name: java.exe, version: 20.0.2.0, time stamp: 0x75f7bb13\r\nFaulting module name: KERNELBASE.dll, version: 10.0.22621.2715, time stamp: 0x10f6a783\r\nException code: 0xc0000005\r\nFault offset: 0x00000000000b5bdc\r\nFaulting process id: 0x0x5B98\r\nFaulting application start time: 0x0x1DA1CB1377C8871\r\nFaulting application path: C:\\Program Files\\Java\\jdk-20\\bin\\java.exe\r\nFaulting module path: C:\\Windows\\System32\\KERNELBASE.dll\r\nReport Id: 97a532d2-82fd-4b33-a399-ee74ea9e606d\r\nFaulting package full name: \r\nFaulting package-relative application ID: \r\n```\r\n\r\nTried googling it but didn&#39;t find anything I made sense of. Any help?","title":"Using JNR-FFI to output a char table to CMD screen buffer crashes","body":"<p>I'm trying to write a library in Java that'll use C++ code to access an write directly to console screen buffer in CMD. I've managed to print out one time, but it crashes after that with exit code <code>0xC0000005</code></p>\n<p>I used JNR-FFI library. This code now prints out the first frame of animation, pauses on if for a second and crashes.</p>\n<p>Here's that code:</p>\n<pre><code>import jnr.ffi.LibraryLoader;\nimport jnr.ffi.Pointer;\n\npublic class Main {\n\n    public interface Kernel32 {\n        Kernel32 INSTANCE = LibraryLoader.create(Kernel32.class).load(&quot;kernel32&quot;);\n\n        int GENERIC_READ = 0x80000000;\n        int GENERIC_WRITE = 0x40000000;\n        int FILE_SHARE_READ = 0x00000001;\n        int FILE_SHARE_WRITE = 0x00000002;\n        int CONSOLE_TEXTMODE_BUFFER = 1;\n\n        Pointer CreateConsoleScreenBuffer(int dwDesiredAccess, int dwShareMode, Pointer lpSecurityAttributes, int dwFlags, Pointer lpScreenBufferData);\n        void SetConsoleActiveScreenBuffer(Pointer hConsoleOutput);\n        int WriteConsoleOutputCharacterW(Pointer hConsoleOutput, char[] lpCharacter, int nLength, int dwWriteCoord, int lpNumberOfCharsWritten);\n    }\n\n    private static final int nScreenWidth = 240;\n    private static final int nScreenHeight = 135;\n\n    static Kernel32 kernel32 = Kernel32.INSTANCE;\n\n    private static Pointer hConsole = kernel32.CreateConsoleScreenBuffer(\n            Kernel32.GENERIC_WRITE | Kernel32.GENERIC_READ,\n            Kernel32.FILE_SHARE_READ | Kernel32.FILE_SHARE_WRITE,\n            null,\n            Kernel32.CONSOLE_TEXTMODE_BUFFER,\n            null\n    );\n\n    public static void writeCMD(char[] screen){\n        try {\n            if (screen.length == (nScreenWidth * nScreenHeight) + 1) {\n                int lpNumberOfCharsWritten = 0;\n                System.out.println(kernel32.WriteConsoleOutputCharacterW(hConsole, screen, (nScreenWidth * nScreenHeight) + 1, 0, lpNumberOfCharsWritten));\n            }\n        } catch (Exception t) {\n            t.printStackTrace();\n        }\n    }\n\n    public static void main(String[] args) {\n        kernel32.SetConsoleActiveScreenBuffer(hConsole);\n\n        char[] screen = new char[(nScreenWidth * nScreenHeight) + 1];\n        for (int i = 0; i &lt; screen.length - 1; i++) {\n            screen[i] = '-';\n        }\n        screen[screen.length - 1] = '\\0';\n\n        int position = 0;\n        while(true){\n            screen[position] = '#';\n            writeCMD(screen);\n            screen[position] = '-';\n            position++;\n        }\n    }\n}\n</code></pre>\n<p>Running it in CMD as mentioned prints the first frame, freezes on that for a sec and crashes with no exception, but running it in IntelliJ console gave me exit code `0xc0000005' and found this in event viewer:</p>\n<pre><code>Faulting application name: java.exe, version: 20.0.2.0, time stamp: 0x75f7bb13\nFaulting module name: KERNELBASE.dll, version: 10.0.22621.2715, time stamp: 0x10f6a783\nException code: 0xc0000005\nFault offset: 0x00000000000b5bdc\nFaulting process id: 0x0x5B98\nFaulting application start time: 0x0x1DA1CB1377C8871\nFaulting application path: C:\\Program Files\\Java\\jdk-20\\bin\\java.exe\nFaulting module path: C:\\Windows\\System32\\KERNELBASE.dll\nReport Id: 97a532d2-82fd-4b33-a399-ee74ea9e606d\nFaulting package full name: \nFaulting package-relative application ID: \n</code></pre>\n<p>Tried googling it but didn't find anything I made sense of. Any help?</p>\n"},{"tags":["java","selenium-webdriver","web-applications","selenide","autotest"],"owner":{"account_id":3046988,"reputation":1,"user_id":2582334,"display_name":"teem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700759019,"creation_date":1700550163,"question_id":77520866,"body_markdown":"I have a test that clicks on a button in my WEB-app and it causes opening a new page in the new browser tab. I want to make sure that it opens the expected site. URL of this new page contains generated part so I&#39;m using urlContaining() method which checks that the URL contains expected string:\r\n\r\n```\r\nlkPage.videoCheckButton.click();\r\nwebdriver().shouldHave(numberOfWindows(2));\r\nswitchTo().window(1);\r\nwebdriver().shouldHave(urlContaining(&quot;https://webinar.test.online/&quot;));\r\n```\r\n\r\nIf I run this test on my local environment, it performs with no issue.\r\nBut sometimes when I launch it on a remote machine (GitLab runner), I get strange log - test fails despite it shouldn&#39;t:\r\n&gt; webdriver should have url containing https://webinar.test.online/\r\n&gt;\r\n&gt;Actual value: https://webinar.test.online/b/m1r-7gk-gf7-jcu\r\n\r\nThat&#39;s not the first time I meet such issue. Couple of month ago I tried to write similiar test but used shouldHave(url()) instead of shouldHave(urlContaining()) (URL didn&#39;t contain generated part), so I got fail log like:\r\n&gt; webdriver should have url https://webinar.test.online/123\r\n&gt;\r\n&gt;Actual value: https://webinar.test.online/123\r\n\r\nWhat&#39;s wrong with my code or with this method?","title":"Selenide: URL check fails despite actual result is equal to expected","body":"<p>I have a test that clicks on a button in my WEB-app and it causes opening a new page in the new browser tab. I want to make sure that it opens the expected site. URL of this new page contains generated part so I'm using urlContaining() method which checks that the URL contains expected string:</p>\n<pre><code>lkPage.videoCheckButton.click();\nwebdriver().shouldHave(numberOfWindows(2));\nswitchTo().window(1);\nwebdriver().shouldHave(urlContaining(&quot;https://webinar.test.online/&quot;));\n</code></pre>\n<p>If I run this test on my local environment, it performs with no issue.\nBut sometimes when I launch it on a remote machine (GitLab runner), I get strange log - test fails despite it shouldn't:</p>\n<blockquote>\n<p>webdriver should have url containing <a href=\"https://webinar.test.online/\" rel=\"nofollow noreferrer\">https://webinar.test.online/</a></p>\n<p>Actual value: <a href=\"https://webinar.test.online/b/m1r-7gk-gf7-jcu\" rel=\"nofollow noreferrer\">https://webinar.test.online/b/m1r-7gk-gf7-jcu</a></p>\n</blockquote>\n<p>That's not the first time I meet such issue. Couple of month ago I tried to write similiar test but used shouldHave(url()) instead of shouldHave(urlContaining()) (URL didn't contain generated part), so I got fail log like:</p>\n<blockquote>\n<p>webdriver should have url <a href=\"https://webinar.test.online/123\" rel=\"nofollow noreferrer\">https://webinar.test.online/123</a></p>\n<p>Actual value: <a href=\"https://webinar.test.online/123\" rel=\"nofollow noreferrer\">https://webinar.test.online/123</a></p>\n</blockquote>\n<p>What's wrong with my code or with this method?</p>\n"},{"tags":["java","jpa","eclipselink","glassfish-3"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1700756110,"post_id":77538298,"comment_id":136695860,"body_markdown":"Please provide a [example].","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":4544346,"reputation":47,"user_id":3691373,"display_name":"fraaanz"},"score":0,"creation_date":1700758554,"post_id":77538298,"comment_id":136696285,"body_markdown":"@FedericoklezCulloca, yes I added the named query.","body":"@FedericoklezCulloca, yes I added the named query."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1700785701,"post_id":77538298,"comment_id":136699182,"body_markdown":"The error should give you more details on what it can&#39;t parse - how are you sure it is this query? If it works elsewhere, maybe check that you&#39;ve got the same classes and versions in both locations - the error states EclipseLink version 2.3.2 which is quite old.","body":"The error should give you more details on what it can&#39;t parse - how are you sure it is this query? If it works elsewhere, maybe check that you&#39;ve got the same classes and versions in both locations - the error states EclipseLink version 2.3.2 which is quite old."},{"owner":{"account_id":4544346,"reputation":47,"user_id":3691373,"display_name":"fraaanz"},"score":0,"creation_date":1700821511,"post_id":77538298,"comment_id":136702839,"body_markdown":"@Chris indeed you right this is the log where it works: Eclipse Persistence Services - 2.5.1.v20130918-f2b9fc5 and this is where it doesn&#39;t Eclipse Persistence Services - 2.3.2.v20111125-r10461.  But if I look at maven dependency they are the same, and yes the class are copied so they are almost equals","body":"@Chris indeed you right this is the log where it works: Eclipse Persistence Services - 2.5.1.v20130918-f2b9fc5 and this is where it doesn&#39;t Eclipse Persistence Services - 2.3.2.v20111125-r10461.  But if I look at maven dependency they are the same, and yes the class are copied so they are almost equals"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1700840088,"post_id":77538298,"comment_id":136705858,"body_markdown":"Maven doesn&#39;t control Glassfish internals and provided jars; I&#39;d update the jars in Glassfish if that is the version you need.","body":"Maven doesn&#39;t control Glassfish internals and provided jars; I&#39;d update the jars in Glassfish if that is the version you need."},{"owner":{"account_id":4544346,"reputation":47,"user_id":3691373,"display_name":"fraaanz"},"score":0,"creation_date":1700857309,"post_id":77538298,"comment_id":136708073,"body_markdown":"indeed I&#39; ve checked in glassfish if there is a eclipseLink jar, but din&#39;t find it: i do not know if eclipseLink is embeded in some way in glassfish, could you tell me if there is a way to understand that? thanks anyway so much","body":"indeed I&#39; ve checked in glassfish if there is a eclipseLink jar, but din&#39;t find it: i do not know if eclipseLink is embeded in some way in glassfish, could you tell me if there is a way to understand that? thanks anyway so much"}],"owner":{"account_id":4544346,"reputation":47,"user_id":3691373,"display_name":"fraaanz"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1700758480,"creation_date":1700755984,"question_id":77538298,"body_markdown":"I&#39;m going to deploy my ear file on glassfish but when i try to deploy the ear I get:\r\n\r\n`2023-11-23T10:46:59.388+0100|Severe: Exception while invoking class org.glassfish.persistence.jpa.JPADeployer prepare method\r\n2023-11-23T10:46:59.389+0100|Severe: Exception while invoking class org.glassfish.javaee.full.deployment.EarDeployer prepare method\r\n2023-11-23T10:46:59.389+0100|Severe: Exception while preparing the app\r\n2023-11-23T10:46:59.389+0100|Severe: Exception [EclipseLink-8025] (Eclipse Persistence Services - 2.3.2.v20111125-r10461): org.eclipse.persistence.exceptions.JPQLException\r\nException Description: Syntax error parsing the query`\r\n\r\nThe query is a named query and I&#39;ve tested it with eclipseLink too, in a different project that do not use glassfish (without deploy it on an application server) and it works well;\r\n\r\n\r\n\r\n\r\n\r\n\r\nI cannot figure out what&#39;s can be wrong, if the query works well using it dirctely, why it doesn&#39;t works when it is deployed on glassfish?   \r\n\r\nthis is the named query\r\n\r\n    @Entity\r\n    @Table(name = &quot;T_EXE_PROC&quot;)\r\n    @TableGenerator(name = &quot;ExecuProcGenerator&quot;, table = &quot;T_SEQ&quot;, pkColumnName = &quot;SEQ_COL&quot;, valueColumnName = &quot;SEQ_CONTATOR&quot;, pkColumnValue = &quot;EXE_PRO_SEQUE&quot;, allocationSize = 10, initialValue = 0)\r\n    @NamedQueries({ \r\n    \r\n    \t\t@NamedQuery(name = &quot;ExeProc.findLastExecProcs&quot;, query = &quot;SELECT DISTINCT (e.procedure) FROM ExeProc e WHERE e.cdExecProcs IN ( SELECT DISTINCT (e.cdExecProcs) FROM ExeProc e, ExeStep s where s.ExecProc.cdExecProcs = e.cdExecProcs AND s.stat.cdStation=:cdStation and s.oper.ceLogin=:ceLogin) and e.statusExecProc = :statusExecProc and e.procedure.status = 1 order by e.lastModifiedStepTime DESC&quot;),\r\n    \r\n    \t\t})\r\n    public class ExeProc implements Serializable {\r\n    \t\r\n    \tprivate static final long serialVersionUID = 12348979846545312L;\r\n    \t\r\n    \t\r\n    \tpublic static final String FIND_LAST_EXEC_PROC = &quot;ExeProc.findLastExecProcs&quot;;\r\n\r\n\r\n\r\n\r\n\r\nI&#39;ve used the query in an application java (a simple java project) and it works well;\r\nthe database is MSSQL\r\n","title":"getting syntax error on a query even if the query is right for sure","body":"<p>I'm going to deploy my ear file on glassfish but when i try to deploy the ear I get:</p>\n<p><code>2023-11-23T10:46:59.388+0100|Severe: Exception while invoking class org.glassfish.persistence.jpa.JPADeployer prepare method 2023-11-23T10:46:59.389+0100|Severe: Exception while invoking class org.glassfish.javaee.full.deployment.EarDeployer prepare method 2023-11-23T10:46:59.389+0100|Severe: Exception while preparing the app 2023-11-23T10:46:59.389+0100|Severe: Exception [EclipseLink-8025] (Eclipse Persistence Services - 2.3.2.v20111125-r10461): org.eclipse.persistence.exceptions.JPQLException Exception Description: Syntax error parsing the query</code></p>\n<p>The query is a named query and I've tested it with eclipseLink too, in a different project that do not use glassfish (without deploy it on an application server) and it works well;</p>\n<p>I cannot figure out what's can be wrong, if the query works well using it dirctely, why it doesn't works when it is deployed on glassfish?</p>\n<p>this is the named query</p>\n<pre><code>@Entity\n@Table(name = &quot;T_EXE_PROC&quot;)\n@TableGenerator(name = &quot;ExecuProcGenerator&quot;, table = &quot;T_SEQ&quot;, pkColumnName = &quot;SEQ_COL&quot;, valueColumnName = &quot;SEQ_CONTATOR&quot;, pkColumnValue = &quot;EXE_PRO_SEQUE&quot;, allocationSize = 10, initialValue = 0)\n@NamedQueries({ \n\n        @NamedQuery(name = &quot;ExeProc.findLastExecProcs&quot;, query = &quot;SELECT DISTINCT (e.procedure) FROM ExeProc e WHERE e.cdExecProcs IN ( SELECT DISTINCT (e.cdExecProcs) FROM ExeProc e, ExeStep s where s.ExecProc.cdExecProcs = e.cdExecProcs AND s.stat.cdStation=:cdStation and s.oper.ceLogin=:ceLogin) and e.statusExecProc = :statusExecProc and e.procedure.status = 1 order by e.lastModifiedStepTime DESC&quot;),\n\n        })\npublic class ExeProc implements Serializable {\n    \n    private static final long serialVersionUID = 12348979846545312L;\n    \n    \n    public static final String FIND_LAST_EXEC_PROC = &quot;ExeProc.findLastExecProcs&quot;;\n</code></pre>\n<p>I've used the query in an application java (a simple java project) and it works well;\nthe database is MSSQL</p>\n"},{"tags":["java","spring","reactive-programming"],"comments":[{"owner":{"account_id":10032454,"reputation":78,"user_id":7418420,"display_name":"ilovemilk"},"score":1,"creation_date":1574350380,"post_id":58978064,"comment_id":104210000,"body_markdown":"You can take a look at this post https://stackoverflow.com/questions/51843767/proper-way-to-create-a-flux-from-a-list-of-monos","body":"You can take a look at this post <a href=\"https://stackoverflow.com/questions/51843767/proper-way-to-create-a-flux-from-a-list-of-monos\" title=\"proper way to create a flux from a list of monos\">stackoverflow.com/questions/51843767/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":14246885,"reputation":197,"user_id":10291653,"display_name":"vijay krishna"},"down_vote_count":1,"up_vote_count":14,"is_accepted":true,"score":13,"last_activity_date":1574526424,"creation_date":1574351784,"answer_id":58978934,"question_id":58978064,"body_markdown":"    List&lt;Mono&lt;CustomObject &gt;&gt; monoList = new ArrayList&lt;&gt;();\r\n    monoList(object);\r\n    \r\n    Flux&lt;CustomObject&gt; flux = Flux.concat(monoList);","title":"Spring Reactive List of Mono to Flux","body":"<pre><code>List&lt;Mono&lt;CustomObject &gt;&gt; monoList = new ArrayList&lt;&gt;();\nmonoList(object);\n\nFlux&lt;CustomObject&gt; flux = Flux.concat(monoList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2243445,"reputation":1892,"user_id":1977415,"accept_rate":100,"display_name":"Pierre-Jean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686243378,"creation_date":1686243378,"answer_id":76434132,"question_id":58978064,"body_markdown":"Just use `Flux.concat` ([Documentation here][1]):\r\n```\r\nvar yourCode = list.stream().map(element -&gt; func());\r\nvar whatyouWant = Flux.concat(yourCode);\r\n```\r\n\r\nFrom the documentation:\r\n\r\n&gt; `public static &lt;T&gt; Flux&lt;T&gt; concat(Iterable&lt;? extends Publisher&lt;? extends T&gt;&gt; sources)`\r\n&gt; \r\n&gt; Concatenate all sources provided in an Iterable, forwarding elements emitted by the sources downstream.\r\n\r\nSo basically `concat` takes an Iterable of `Publisher` (which `Mono` is) and return a `Flux` for the type you want.\r\n\r\n \r\n\r\n[1]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#concat-java.lang.Iterable-\r\n\r\n","title":"Spring Reactive List of Mono to Flux","body":"<p>Just use <code>Flux.concat</code> (<a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#concat-java.lang.Iterable-\" rel=\"nofollow noreferrer\">Documentation here</a>):</p>\n<pre><code>var yourCode = list.stream().map(element -&gt; func());\nvar whatyouWant = Flux.concat(yourCode);\n</code></pre>\n<p>From the documentation:</p>\n<blockquote>\n<p><code>public static &lt;T&gt; Flux&lt;T&gt; concat(Iterable&lt;? extends Publisher&lt;? extends T&gt;&gt; sources)</code></p>\n<p>Concatenate all sources provided in an Iterable, forwarding elements emitted by the sources downstream.</p>\n</blockquote>\n<p>So basically <code>concat</code> takes an Iterable of <code>Publisher</code> (which <code>Mono</code> is) and return a <code>Flux</code> for the type you want.</p>\n"},{"tags":[],"owner":{"account_id":8104679,"reputation":1650,"user_id":6106641,"accept_rate":80,"display_name":"Archmede"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700758128,"creation_date":1700684713,"answer_id":77532895,"question_id":58978064,"body_markdown":"If you have an operation that maps a `List&lt;T&gt;` to a `List&lt;Mono&lt;U&gt;&gt;` then you can convert the original `List&lt;T&gt;` into a `Flux&lt;T&gt;`, for example.\r\n\r\nInstead of:\r\n\r\n    List&lt;T&gt; entities = ArrayList&lt;&gt;();\r\n    List&lt;Mono&lt;U&gt;&gt; monos = entities.map (this::operationThatReturnsMono);\r\n\r\nYou can do something like:\r\n\r\n    List&lt;T&gt; entities = ArrayList&lt;&gt;();\r\n    Flux&lt;U&gt; flux = Flux.fromIterable(entities).flatMap(this::operationThatReturnsMono)","title":"Spring Reactive List of Mono to Flux","body":"<p>If you have an operation that maps a <code>List&lt;T&gt;</code> to a <code>List&lt;Mono&lt;U&gt;&gt;</code> then you can convert the original <code>List&lt;T&gt;</code> into a <code>Flux&lt;T&gt;</code>, for example.</p>\n<p>Instead of:</p>\n<pre><code>List&lt;T&gt; entities = ArrayList&lt;&gt;();\nList&lt;Mono&lt;U&gt;&gt; monos = entities.map (this::operationThatReturnsMono);\n</code></pre>\n<p>You can do something like:</p>\n<pre><code>List&lt;T&gt; entities = ArrayList&lt;&gt;();\nFlux&lt;U&gt; flux = Flux.fromIterable(entities).flatMap(this::operationThatReturnsMono)\n</code></pre>\n"}],"owner":{"account_id":67400,"reputation":860,"user_id":197255,"accept_rate":54,"display_name":"Hubidubi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10585,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":58978934,"answer_count":3,"score":6,"last_activity_date":1700758128,"creation_date":1574349083,"question_id":58978064,"body_markdown":"I have a \r\n\r\n```\r\nlist.stream()\r\n.map(element -&gt; func());\r\n```\r\n\r\nwhere func() returns with Mono&lt;CustomObject&gt;. What is the easiest way to convert this list of ```Mono&lt;CustomObject&gt;``` objects to ```Flux&lt;CustomObject&gt;``` and return it from the stream?\r\n\r\n\r\n","title":"Spring Reactive List of Mono to Flux","body":"<p>I have a </p>\n\n<pre><code>list.stream()\n.map(element -&gt; func());\n</code></pre>\n\n<p>where func() returns with Mono. What is the easiest way to convert this list of <code>Mono&lt;CustomObject&gt;</code> objects to <code>Flux&lt;CustomObject&gt;</code> and return it from the stream?</p>\n"},{"tags":["java","maven","pom.xml","jax-ws"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1700756769,"post_id":77537299,"comment_id":136695982,"body_markdown":"Does this answer your question? [jaxws-maven-plugin 2.2 Failure with NoSuchMethodError()](https://stackoverflow.com/questions/13841437/jaxws-maven-plugin-2-2-failure-with-nosuchmethoderror)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/13841437/jaxws-maven-plugin-2-2-failure-with-nosuchmethoderror\">jaxws-maven-plugin 2.2 Failure with NoSuchMethodError()</a>"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1700758151,"post_id":77537299,"comment_id":136696219,"body_markdown":"Was it working before? Has something been changed?","body":"Was it working before? Has something been changed?"}],"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700757559,"creation_date":1700746404,"question_id":77537299,"body_markdown":"I am launching Maven command `jaxws:wsdlgen`, but it gives me this error\r\n\r\n    [INFO] jaxws:wsgen args: [-keep, -s, &#39;C:\\Users\\ActionICT-Motti\\IdeaProjects\\DocumentsStorage_v1\\target\\generated-sources\\wsgen&#39;, -d, &#39;C:\\Users\\ActionICT-Motti\\IdeaProjects\\DocumentsStorage_v1\\target\\generated-sources\\wsdl&#39;, -encoding, UTF-8, -wsdl, -r, &#39;C:\\Users\\ActionICT-Motti\\IdeaProjects\\DocumentsStorage_v1\\target\\generated-sources\\wsdl&#39;, it.bper.ws.DocumentsStorageV1Impl, -Xnosource]\r\n    Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n    \tat org.jvnet.jax_ws_commons.jaxws.Invoker.main(Invoker.java:72)\r\n    Caused by: java.lang.NoSuchMethodError: com.sun.xml.ws.util.ServiceFinder.find(Ljava/lang/Class;Ljava/util/ServiceLoader;)Lcom/sun/xml/ws/util/ServiceFinder;\r\n    \tat com.sun.tools.ws.wscompile.WsgenOptions.&lt;init&gt;(WsgenOptions.java:106)\r\n    \tat com.sun.tools.ws.wscompile.WsgenTool.&lt;init&gt;(WsgenTool.java:72)\r\n    \tat com.sun.tools.ws.wscompile.WsgenTool.&lt;init&gt;(WsgenTool.java:82)\r\n\r\nthe pom is\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;xxxx&lt;/groupId&gt;\r\n        &lt;artifactId&gt;xxxx&lt;/artifactId&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n        &lt;version&gt;1.22.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;xxxx&lt;/name&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n            &lt;filenet.cpe.install.path&gt;X:/Program Files/IBM/FileNet/ContentEngine&lt;/filenet.cpe.install.path&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;repositories&gt;\r\n            &lt;!-- Repository per scaricare JBoss AS --&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;jboss-enterprise-maven-repository&lt;/id&gt;\r\n                &lt;name&gt;JBoss Enterprise Maven Repository - Early-access repository&lt;/name&gt;\r\n                &lt;url&gt;https://maven.repository.redhat.com/earlyaccess/all&lt;/url&gt;\r\n                &lt;releases&gt;\r\n                    &lt;enabled&gt;true&lt;/enabled&gt;\r\n                &lt;/releases&gt;\r\n                &lt;snapshots&gt;\r\n                    &lt;enabled&gt;false&lt;/enabled&gt;\r\n                &lt;/snapshots&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;version&gt;1.18.26&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- Common libraries --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n                &lt;version&gt;3.13.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt;\r\n                &lt;artifactId&gt;wiremock-standalone&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.1&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!--\r\n                 IBM Filenet libraries\r\n                 A runtime servono tutti i JAR, come da documentazione FileNet:\r\n                 - Jace.jar\r\n                 - stax-api.jar\r\n                 - xlxpScanner.jar\r\n                 - xlxpScannerUtils.jar\r\n                 - log4j.jar (la versione nel FileNet di BPER e&#39; la 1.2.14)\r\n                 ma qui riportiamo solo quelli strettamente necessari per compilare\r\n                 ed eseguire i test, perche&#39; gli altri JAR sono in WEB-INF/lib\r\n                 quindi accessibili dal class loader della web application\r\n              --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.ibm.filenet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jace&lt;/artifactId&gt;\r\n                &lt;version&gt;4.5.2&lt;/version&gt;\r\n                &lt;scope&gt;system&lt;/scope&gt;\r\n                &lt;systemPath&gt;C:/Users/ActionICT-Motti/IdeaProjects/DocumentsStorage_v1/src/main/webapp/WEB-INF/lib/Jace.jar\r\n                &lt;/systemPath&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n                &lt;artifactId&gt;rt&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.14&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- Logging libraries --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n                &lt;version&gt;2.21.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- Test libraries --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n                &lt;version&gt;1.16.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;4.13.2&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n                &lt;version&gt;2.14.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\r\n                &lt;version&gt;2.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n          &lt;!--  &lt;dependency&gt;\r\n                &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &amp;lt;!&amp;ndash; https://mvnrepository.com/artifact/jakarta.xml.bind/jakarta.xml.bind-api-parent &amp;ndash;&amp;gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jakarta.xml.bind-api-parent&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.1&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;/dependency&gt;--&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.14.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4.0-b180830.0359&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.jws&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.jws-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4.0-b180830.0438&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.activation-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n                &lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.3.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/javax.xml.ws/jaxws-api --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.xml.soap&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.xml.soap-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.4.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.0.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!--&lt;dependency&gt;\r\n                &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-ri&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.3&lt;/version&gt;\r\n            &lt;/dependency&gt;--&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.2.1&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                                &lt;goal&gt;verify&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;parallel&gt;all&lt;/parallel&gt;\r\n                        &lt;useUnlimitedThreads&gt;false&lt;/useUnlimitedThreads&gt;\r\n                        &lt;threadCount&gt;6&lt;/threadCount&gt;\r\n                        &lt;perCoreThreadCount&gt;true&lt;/perCoreThreadCount&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;!--&lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.4.1&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;enforce-java&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;enforce&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;rules&gt;\r\n                                    &lt;requireJavaVersion&gt;\r\n                                        &lt;message&gt;Il JDK da utilizzare dev&#39;essere 1.7&lt;/message&gt;\r\n                                        &lt;version&gt;[17,)&lt;/version&gt;\r\n                                    &lt;/requireJavaVersion&gt;\r\n                                &lt;/rules&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;--&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.5.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;11&lt;/source&gt;\r\n                        &lt;target&gt;11&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;!--&lt;plugin&gt;\r\n                    &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;4.0.1&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;1&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;wsimport&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;xadditionalHeaders&gt;true&lt;/xadditionalHeaders&gt;\r\n                                &lt;executable&gt;${tool.wsimport}&lt;/executable&gt;&amp;lt;!&amp;ndash; Piu&#39; veloce nel generare i sorgenti &amp;ndash;&amp;gt;\r\n                                &lt;wsdlDirectory&gt;src/main/resources/wsdl&lt;/wsdlDirectory&gt;\r\n                                &lt;target&gt;3.0&lt;/target&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;--&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.3.6&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;1&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;wsimport&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;xadditionalHeaders&gt;true&lt;/xadditionalHeaders&gt;\r\n                                &lt;executable&gt;${tool.wsimport}&lt;/executable&gt;&lt;!-- Piu&#39; veloce nel generare i sorgenti --&gt;\r\n                                &lt;wsdlDirectory&gt;src/main/resources/wsdl&lt;/wsdlDirectory&gt;\r\n                                &lt;target&gt;2.1&lt;/target&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.4.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;external.atlassian.jgitflow&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jgitflow-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.0-m5.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;releaseBranchVersionSuffix&gt;RC&lt;/releaseBranchVersionSuffix&gt;\r\n                        &lt;noDeploy&gt;true&lt;/noDeploy&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;0.8.11&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;!-- test unitari--&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;prepare agent&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                        &lt;!-- test integrazione --&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;prepare agent integration&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;prepare-agent-integration&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;propertyName&gt;jacocoAgent&lt;/propertyName&gt;\r\n                                &lt;classDumpDir&gt;${project.build.directory}/dumpClassDir&lt;/classDumpDir&gt;\r\n                                &lt;output&gt;file&lt;/output&gt;\r\n                                &lt;append&gt;true&lt;/append&gt;\r\n                                &lt;dumpOnExit&gt;true&lt;/dumpOnExit&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;4.0.0.Final&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;!--\r\n                             In produzione c&#39;e&#39; JBoss EAP 6.3 =&gt; JBoss AS 7.4.0.Final\r\n                             ma tale release non e&#39; disponibile nei repo Maven\r\n                             quindi usiamo la versione piu&#39; simile disponibile\r\n                          --&gt;\r\n                        &lt;version&gt;23.0.0.Final&lt;/version&gt;\r\n                        &lt;javaOpts&gt;\r\n                            -Xms64m\r\n                            &lt;!--                        -Xmx512m--&gt;\r\n                            &lt;!--                        -XX:MaxMetaspaceSize=256m--&gt;\r\n                            -Djava.net.preferIPv4Stack=true\r\n                            -Dorg.jboss.resolver.warning=true\r\n                            -Dsun.rmi.dgc.client.gcInterval=3600000\r\n                            -Dsun.rmi.dgc.server.gcInterval=3600000\r\n                            -Djboss.socket.binding.port-offset=100\r\n                            -Djboss.server.config.dir=${project.build.testOutputDirectory}/configuration\r\n                            &lt;!--                        ${jacocoAgent}--&gt;\r\n                            &lt;!--                        &amp;lt;!&amp;ndash;per eseguire il debug remoto rimuovere il commento dalla riga sottostante--&gt;\r\n                            &lt;!--                            -Xrunjdwp:transport=dt_socket,address=33333,server=y,suspend=y--&gt;\r\n                        &lt;/javaOpts&gt;\r\n                        &lt;port&gt;10090&lt;/port&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;start&lt;/id&gt;\r\n                            &lt;phase&gt;pre-integration-test&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;start&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;startup-timeout&gt;120&lt;/startup-timeout&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;avoid-console-logging&lt;/id&gt;\r\n                            &lt;phase&gt;pre-integration-test&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;execute-commands&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;deploy&lt;/id&gt;\r\n                            &lt;phase&gt;pre-integration-test&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;deploy&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;stop&lt;/id&gt;\r\n                            &lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;undeploy&lt;/goal&gt;&lt;!-- Per eseguire &quot;mvn verify&quot; e non solo &quot;mvn clean verify&quot; --&gt;\r\n                                &lt;goal&gt;shutdown&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.1.0&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;loadProperties&lt;/id&gt;\r\n                            &lt;phase&gt;process-resources&lt;/phase&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;exportAntProperties&gt;true&lt;/exportAntProperties&gt;\r\n                                &lt;target&gt;\r\n                                    &lt;exec executable=&quot;hostname&quot; outputproperty=&quot;computer.hostname&quot;/&gt;\r\n                                    &lt;!-- Default &quot;overwrite=false&quot; =&gt; non sovrascrive l&#39;eventuale properties gia&#39; presente --&gt;\r\n                                    &lt;copy file=&quot;src/test/resources/local.properties&quot; tofile=&quot;${project.build.outputDirectory}/${computer.hostname}.properties&quot; /&gt;\r\n                                    &lt;loadproperties srcFile=&quot;${project.build.outputDirectory}/${computer.hostname}.properties&quot; /&gt;\r\n                                &lt;/target&gt;\r\n                            &lt;/configuration&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;run&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n            &lt;pluginManagement&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;!--This plugin&#39;s configuration is used to store Eclipse m2e settings\r\n                        only. It has no influence on the Maven build itself. --&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.0.0&lt;/version&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;lifecycleMappingMetadata&gt;\r\n                                &lt;pluginExecutions&gt;\r\n                                    &lt;pluginExecution&gt;\r\n                                        &lt;pluginExecutionFilter&gt;\r\n                                            &lt;groupId&gt;org.jvnet.jax-ws-commons&lt;/groupId&gt;\r\n                                            &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n                                            &lt;versionRange&gt;[2.3,)&lt;/versionRange&gt;\r\n                                            &lt;goals&gt;\r\n                                                &lt;goal&gt;wsimport&lt;/goal&gt;\r\n                                            &lt;/goals&gt;\r\n                                        &lt;/pluginExecutionFilter&gt;\r\n                                        &lt;action&gt;\r\n                                            &lt;execute/&gt;\r\n                                        &lt;/action&gt;\r\n                                    &lt;/pluginExecution&gt;\r\n                                &lt;/pluginExecutions&gt;\r\n                            &lt;/lifecycleMappingMetadata&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/pluginManagement&gt;\r\n        &lt;/build&gt;\r\n    \r\n        &lt;profiles&gt;\r\n    \r\n            &lt;profile&gt;\r\n                &lt;id&gt;Jenkins&lt;/id&gt;\r\n                &lt;build&gt;\r\n                    &lt;plugins&gt;\r\n                        &lt;!--forza l&#39;utilizzo della toolchain JDK 7 per la build --&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;maven-toolchains-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;3.1.0&lt;/version&gt;\r\n                            &lt;executions&gt;\r\n                                &lt;execution&gt;\r\n                                    &lt;goals&gt;\r\n                                        &lt;goal&gt;toolchain&lt;/goal&gt;\r\n                                    &lt;/goals&gt;\r\n                                &lt;/execution&gt;\r\n                            &lt;/executions&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;toolchains&gt;\r\n                                    &lt;jdk&gt;\r\n                                        &lt;version&gt;1.7&lt;/version&gt;\r\n                                    &lt;/jdk&gt;\r\n                                &lt;/toolchains&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/plugin&gt;\r\n                        &lt;!--Il plugin di JBoss non &#232; toolchain-aware, per cui si deve forzare l&#39;esecuzione di JBoss su JDK7 --&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;4.2.0.Final&lt;/version&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;javaHome&gt;${jdkJenkins}&lt;/javaHome&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/plugin&gt;\r\n                    &lt;/plugins&gt;\r\n                &lt;/build&gt;\r\n                &lt;properties&gt;\r\n                    &lt;jdkJenkins&gt;/opt/java/jdk1.7.0_71&lt;/jdkJenkins&gt;\r\n                    &lt;!--disabilita il plugin enforcer (perche&#39; non e&#39; toolchain-aware e comunque non serve dal --&gt;\r\n                    &lt;!--momento che si specifica esplicitamente il JDK utilizzato tramite JDK toolchain        --&gt;\r\n                    &lt;enforcer.skip&gt;true&lt;/enforcer.skip&gt;\r\n                    &lt;!-- imposta il path di wsimport nel server Jenkins per il maven-jaxws-plugin --&gt;\r\n                    &lt;tool.wsimport&gt;${jdkJenkins}/bin/wsimport&lt;/tool.wsimport&gt;\r\n                &lt;/properties&gt;\r\n            &lt;/profile&gt;\r\n        &lt;/profiles&gt;\r\n    &lt;/project&gt;\r\n\r\nI have tried to change the version and the dependencies, but nothing works to resolve the problem.\r\n\r\nEDIT: [This][1] is similar, but is not the same method that I&#39;ve reported here. I don&#39;t understand why someone suggested it...\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/13841437/jaxws-maven-plugin-2-2-failure-with-nosuchmethoderror","title":"NoSuchMethodError: com.sun.xml.ws.util.ServiceFinder.find","body":"<p>I am launching Maven command <code>jaxws:wsdlgen</code>, but it gives me this error</p>\n<pre><code>[INFO] jaxws:wsgen args: [-keep, -s, 'C:\\Users\\ActionICT-Motti\\IdeaProjects\\DocumentsStorage_v1\\target\\generated-sources\\wsgen', -d, 'C:\\Users\\ActionICT-Motti\\IdeaProjects\\DocumentsStorage_v1\\target\\generated-sources\\wsdl', -encoding, UTF-8, -wsdl, -r, 'C:\\Users\\ActionICT-Motti\\IdeaProjects\\DocumentsStorage_v1\\target\\generated-sources\\wsdl', it.bper.ws.DocumentsStorageV1Impl, -Xnosource]\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n    at org.jvnet.jax_ws_commons.jaxws.Invoker.main(Invoker.java:72)\nCaused by: java.lang.NoSuchMethodError: com.sun.xml.ws.util.ServiceFinder.find(Ljava/lang/Class;Ljava/util/ServiceLoader;)Lcom/sun/xml/ws/util/ServiceFinder;\n    at com.sun.tools.ws.wscompile.WsgenOptions.&lt;init&gt;(WsgenOptions.java:106)\n    at com.sun.tools.ws.wscompile.WsgenTool.&lt;init&gt;(WsgenTool.java:72)\n    at com.sun.tools.ws.wscompile.WsgenTool.&lt;init&gt;(WsgenTool.java:82)\n</code></pre>\n<p>the pom is</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;xxxx&lt;/groupId&gt;\n    &lt;artifactId&gt;xxxx&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;version&gt;1.22.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;xxxx&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;filenet.cpe.install.path&gt;X:/Program Files/IBM/FileNet/ContentEngine&lt;/filenet.cpe.install.path&gt;\n    &lt;/properties&gt;\n\n    &lt;repositories&gt;\n        &lt;!-- Repository per scaricare JBoss AS --&gt;\n        &lt;repository&gt;\n            &lt;id&gt;jboss-enterprise-maven-repository&lt;/id&gt;\n            &lt;name&gt;JBoss Enterprise Maven Repository - Early-access repository&lt;/name&gt;\n            &lt;url&gt;https://maven.repository.redhat.com/earlyaccess/all&lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/releases&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.26&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Common libraries --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.13.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt;\n            &lt;artifactId&gt;wiremock-standalone&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--\n             IBM Filenet libraries\n             A runtime servono tutti i JAR, come da documentazione FileNet:\n             - Jace.jar\n             - stax-api.jar\n             - xlxpScanner.jar\n             - xlxpScannerUtils.jar\n             - log4j.jar (la versione nel FileNet di BPER e' la 1.2.14)\n             ma qui riportiamo solo quelli strettamente necessari per compilare\n             ed eseguire i test, perche' gli altri JAR sono in WEB-INF/lib\n             quindi accessibili dal class loader della web application\n          --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.ibm.filenet&lt;/groupId&gt;\n            &lt;artifactId&gt;jace&lt;/artifactId&gt;\n            &lt;version&gt;4.5.2&lt;/version&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;systemPath&gt;C:/Users/ActionICT-Motti/IdeaProjects/DocumentsStorage_v1/src/main/webapp/WEB-INF/lib/Jace.jar\n            &lt;/systemPath&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;rt&lt;/artifactId&gt;\n            &lt;version&gt;2.3.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.14&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Logging libraries --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.21.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Test libraries --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n            &lt;version&gt;1.16.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.14.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\n            &lt;version&gt;2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n      &lt;!--  &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &amp;lt;!&amp;ndash; https://mvnrepository.com/artifact/jakarta.xml.bind/jakarta.xml.bind-api-parent &amp;ndash;&amp;gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.xml.bind-api-parent&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;--&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.14.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.4.0-b180830.0359&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.jws&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.jws-api&lt;/artifactId&gt;\n            &lt;version&gt;1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n            &lt;version&gt;2.4.0-b180830.0438&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.activation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n            &lt;artifactId&gt;activation&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.xml.ws/jaxws-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.soap&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.xml.soap-api&lt;/artifactId&gt;\n            &lt;version&gt;1.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--&lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-ri&lt;/artifactId&gt;\n            &lt;version&gt;2.3.3&lt;/version&gt;\n        &lt;/dependency&gt;--&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\n                            &lt;goal&gt;verify&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;parallel&gt;all&lt;/parallel&gt;\n                    &lt;useUnlimitedThreads&gt;false&lt;/useUnlimitedThreads&gt;\n                    &lt;threadCount&gt;6&lt;/threadCount&gt;\n                    &lt;perCoreThreadCount&gt;true&lt;/perCoreThreadCount&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;!--&lt;plugin&gt;\n                &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.4.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;enforce-java&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;enforce&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;rules&gt;\n                                &lt;requireJavaVersion&gt;\n                                    &lt;message&gt;Il JDK da utilizzare dev'essere 1.7&lt;/message&gt;\n                                    &lt;version&gt;[17,)&lt;/version&gt;\n                                &lt;/requireJavaVersion&gt;\n                            &lt;/rules&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;--&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;!--&lt;plugin&gt;\n                &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;4.0.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;1&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;wsimport&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;xadditionalHeaders&gt;true&lt;/xadditionalHeaders&gt;\n                            &lt;executable&gt;${tool.wsimport}&lt;/executable&gt;&amp;lt;!&amp;ndash; Piu' veloce nel generare i sorgenti &amp;ndash;&amp;gt;\n                            &lt;wsdlDirectory&gt;src/main/resources/wsdl&lt;/wsdlDirectory&gt;\n                            &lt;target&gt;3.0&lt;/target&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;--&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3.6&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;1&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;wsimport&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;xadditionalHeaders&gt;true&lt;/xadditionalHeaders&gt;\n                            &lt;executable&gt;${tool.wsimport}&lt;/executable&gt;&lt;!-- Piu' veloce nel generare i sorgenti --&gt;\n                            &lt;wsdlDirectory&gt;src/main/resources/wsdl&lt;/wsdlDirectory&gt;\n                            &lt;target&gt;2.1&lt;/target&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.4.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;external.atlassian.jgitflow&lt;/groupId&gt;\n                &lt;artifactId&gt;jgitflow-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.0-m5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;releaseBranchVersionSuffix&gt;RC&lt;/releaseBranchVersionSuffix&gt;\n                    &lt;noDeploy&gt;true&lt;/noDeploy&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.8.11&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;!-- test unitari--&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;prepare agent&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;!-- test integrazione --&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;prepare agent integration&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent-integration&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;propertyName&gt;jacocoAgent&lt;/propertyName&gt;\n                            &lt;classDumpDir&gt;${project.build.directory}/dumpClassDir&lt;/classDumpDir&gt;\n                            &lt;output&gt;file&lt;/output&gt;\n                            &lt;append&gt;true&lt;/append&gt;\n                            &lt;dumpOnExit&gt;true&lt;/dumpOnExit&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;4.0.0.Final&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;!--\n                         In produzione c'e' JBoss EAP 6.3 =&gt; JBoss AS 7.4.0.Final\n                         ma tale release non e' disponibile nei repo Maven\n                         quindi usiamo la versione piu' simile disponibile\n                      --&gt;\n                    &lt;version&gt;23.0.0.Final&lt;/version&gt;\n                    &lt;javaOpts&gt;\n                        -Xms64m\n                        &lt;!--                        -Xmx512m--&gt;\n                        &lt;!--                        -XX:MaxMetaspaceSize=256m--&gt;\n                        -Djava.net.preferIPv4Stack=true\n                        -Dorg.jboss.resolver.warning=true\n                        -Dsun.rmi.dgc.client.gcInterval=3600000\n                        -Dsun.rmi.dgc.server.gcInterval=3600000\n                        -Djboss.socket.binding.port-offset=100\n                        -Djboss.server.config.dir=${project.build.testOutputDirectory}/configuration\n                        &lt;!--                        ${jacocoAgent}--&gt;\n                        &lt;!--                        &amp;lt;!&amp;ndash;per eseguire il debug remoto rimuovere il commento dalla riga sottostante--&gt;\n                        &lt;!--                            -Xrunjdwp:transport=dt_socket,address=33333,server=y,suspend=y--&gt;\n                    &lt;/javaOpts&gt;\n                    &lt;port&gt;10090&lt;/port&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;start&lt;/id&gt;\n                        &lt;phase&gt;pre-integration-test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;start&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;startup-timeout&gt;120&lt;/startup-timeout&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;avoid-console-logging&lt;/id&gt;\n                        &lt;phase&gt;pre-integration-test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;execute-commands&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;deploy&lt;/id&gt;\n                        &lt;phase&gt;pre-integration-test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;deploy&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;stop&lt;/id&gt;\n                        &lt;phase&gt;post-integration-test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;undeploy&lt;/goal&gt;&lt;!-- Per eseguire &quot;mvn verify&quot; e non solo &quot;mvn clean verify&quot; --&gt;\n                            &lt;goal&gt;shutdown&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;loadProperties&lt;/id&gt;\n                        &lt;phase&gt;process-resources&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;exportAntProperties&gt;true&lt;/exportAntProperties&gt;\n                            &lt;target&gt;\n                                &lt;exec executable=&quot;hostname&quot; outputproperty=&quot;computer.hostname&quot;/&gt;\n                                &lt;!-- Default &quot;overwrite=false&quot; =&gt; non sovrascrive l'eventuale properties gia' presente --&gt;\n                                &lt;copy file=&quot;src/test/resources/local.properties&quot; tofile=&quot;${project.build.outputDirectory}/${computer.hostname}.properties&quot; /&gt;\n                                &lt;loadproperties srcFile=&quot;${project.build.outputDirectory}/${computer.hostname}.properties&quot; /&gt;\n                            &lt;/target&gt;\n                        &lt;/configuration&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;run&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;!--This plugin's configuration is used to store Eclipse m2e settings\n                    only. It has no influence on the Maven build itself. --&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\n                    &lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\n                    &lt;version&gt;1.0.0&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;lifecycleMappingMetadata&gt;\n                            &lt;pluginExecutions&gt;\n                                &lt;pluginExecution&gt;\n                                    &lt;pluginExecutionFilter&gt;\n                                        &lt;groupId&gt;org.jvnet.jax-ws-commons&lt;/groupId&gt;\n                                        &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n                                        &lt;versionRange&gt;[2.3,)&lt;/versionRange&gt;\n                                        &lt;goals&gt;\n                                            &lt;goal&gt;wsimport&lt;/goal&gt;\n                                        &lt;/goals&gt;\n                                    &lt;/pluginExecutionFilter&gt;\n                                    &lt;action&gt;\n                                        &lt;execute/&gt;\n                                    &lt;/action&gt;\n                                &lt;/pluginExecution&gt;\n                            &lt;/pluginExecutions&gt;\n                        &lt;/lifecycleMappingMetadata&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n\n    &lt;profiles&gt;\n\n        &lt;profile&gt;\n            &lt;id&gt;Jenkins&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;!--forza l'utilizzo della toolchain JDK 7 per la build --&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-toolchains-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.1.0&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;toolchain&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                        &lt;configuration&gt;\n                            &lt;toolchains&gt;\n                                &lt;jdk&gt;\n                                    &lt;version&gt;1.7&lt;/version&gt;\n                                &lt;/jdk&gt;\n                            &lt;/toolchains&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                    &lt;!--Il plugin di JBoss non  toolchain-aware, per cui si deve forzare l'esecuzione di JBoss su JDK7 --&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;4.2.0.Final&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;javaHome&gt;${jdkJenkins}&lt;/javaHome&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n            &lt;properties&gt;\n                &lt;jdkJenkins&gt;/opt/java/jdk1.7.0_71&lt;/jdkJenkins&gt;\n                &lt;!--disabilita il plugin enforcer (perche' non e' toolchain-aware e comunque non serve dal --&gt;\n                &lt;!--momento che si specifica esplicitamente il JDK utilizzato tramite JDK toolchain        --&gt;\n                &lt;enforcer.skip&gt;true&lt;/enforcer.skip&gt;\n                &lt;!-- imposta il path di wsimport nel server Jenkins per il maven-jaxws-plugin --&gt;\n                &lt;tool.wsimport&gt;${jdkJenkins}/bin/wsimport&lt;/tool.wsimport&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I have tried to change the version and the dependencies, but nothing works to resolve the problem.</p>\n<p>EDIT: <a href=\"https://stackoverflow.com/questions/13841437/jaxws-maven-plugin-2-2-failure-with-nosuchmethoderror\">This</a> is similar, but is not the same method that I've reported here. I don't understand why someone suggested it...</p>\n"},{"tags":["java","recursion","arraylist","subset","pass-by-reference"],"comments":[{"owner":{"account_id":6302434,"reputation":5409,"user_id":4896651,"accept_rate":75,"display_name":"Shadov"},"score":0,"creation_date":1700663564,"post_id":77530217,"comment_id":136682345,"body_markdown":"Because of `subset.remove()`, everything is always removed, because you are using the same instance. When you create a copy it&#39;s untouched.","body":"Because of <code>subset.remove()</code>, everything is always removed, because you are using the same instance. When you create a copy it&#39;s untouched."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1700664139,"post_id":77530217,"comment_id":136682482,"body_markdown":"Because in the original version you add a reference to the same list repeatedly to `ans`. And because `ans.add()` only adds a reference all subsequent changes on `subset` are visible through all the references that you added to `ans`.","body":"Because in the original version you add a reference to the same list repeatedly to <code>ans</code>. And because <code>ans.add()</code> only adds a reference all subsequent changes on <code>subset</code> are visible through all the references that you added to <code>ans</code>."}],"owner":{"account_id":29966576,"reputation":1,"user_id":22965017,"display_name":"Sarthak Sarangi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1700664017,"answer_count":0,"score":-2,"last_activity_date":1700757550,"creation_date":1700658541,"question_id":77530217,"body_markdown":"    class Solution {\r\n        public List&lt;List&lt;Integer&gt;&gt; subsets(int[] nums) {\r\n            List&lt;List&lt;Integer&gt;&gt; ans = new ArrayList&lt;&gt;();\r\n            \r\n            generateSubsets(0, ans,new ArrayList&lt;&gt;(), nums);\r\n            return ans;\r\n        }\r\n        public void generateSubsets(int i, List&lt;List&lt;Integer&gt;&gt; ans, List&lt;Integer&gt; subset, int[] nums ){\r\n            if( i == nums.length){\r\n                ans.add(subset); // adds all empty subsets in the ans\r\n                return;\r\n            }\r\n            subset.add(nums[i]);\r\n            generateSubsets(i+1, ans, subset, nums);\r\n            subset.remove(subset.size() -1);\r\n            generateSubsets(i+1, ans, subset, nums);\r\n        }\r\n    }\r\n    int[] nums = {1,2,3};\r\n    Output = [[],[],[],[],[],[],[],[]]\r\n\r\n[Original Question](https://i.stack.imgur.com/Cl1bA.png)Why do we always have to create a new arraylist and pass the subset arraylist in the parameter to copy the values?\r\nEven if the original arraylist subset will change in each recursive call the change will happen in the original arraylist then why in the answer all the arraylists are empty?\r\n\r\nPS: We have to create a new arraylist each time and add that arraylist to the ans.[Correct answer](https://i.stack.imgur.com/6iRIC.png)\r\n[Question Link:](https://leetcode.com/problems/subsets/)\r\n\r\nTried to generate all the subsets without creating a new ArrayList each time expected it to generate all the subsets as it was passed by reference.","title":"How the List&lt;List&lt;Integer&gt;&gt; ans contains only empty subsets?","body":"<pre><code>class Solution {\n    public List&lt;List&lt;Integer&gt;&gt; subsets(int[] nums) {\n        List&lt;List&lt;Integer&gt;&gt; ans = new ArrayList&lt;&gt;();\n        \n        generateSubsets(0, ans,new ArrayList&lt;&gt;(), nums);\n        return ans;\n    }\n    public void generateSubsets(int i, List&lt;List&lt;Integer&gt;&gt; ans, List&lt;Integer&gt; subset, int[] nums ){\n        if( i == nums.length){\n            ans.add(subset); // adds all empty subsets in the ans\n            return;\n        }\n        subset.add(nums[i]);\n        generateSubsets(i+1, ans, subset, nums);\n        subset.remove(subset.size() -1);\n        generateSubsets(i+1, ans, subset, nums);\n    }\n}\nint[] nums = {1,2,3};\nOutput = [[],[],[],[],[],[],[],[]]\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Cl1bA.png\" rel=\"nofollow noreferrer\">Original Question</a>Why do we always have to create a new arraylist and pass the subset arraylist in the parameter to copy the values?\nEven if the original arraylist subset will change in each recursive call the change will happen in the original arraylist then why in the answer all the arraylists are empty?</p>\n<p>PS: We have to create a new arraylist each time and add that arraylist to the ans.<a href=\"https://i.stack.imgur.com/6iRIC.png\" rel=\"nofollow noreferrer\">Correct answer</a>\n<a href=\"https://leetcode.com/problems/subsets/\" rel=\"nofollow noreferrer\">Question Link:</a></p>\n<p>Tried to generate all the subsets without creating a new ArrayList each time expected it to generate all the subsets as it was passed by reference.</p>\n"},{"tags":["java","javafx","fxml"],"comments":[{"owner":{"account_id":5476205,"reputation":459,"user_id":4354157,"accept_rate":20,"display_name":"kamel2005"},"score":0,"creation_date":1476310313,"post_id":15149843,"comment_id":67296550,"body_markdown":"if you are using NetBeans there is a plugin which does the job.","body":"if you are using NetBeans there is a plugin which does the job."}],"answers":[{"tags":[],"owner":{"account_id":1051359,"reputation":5876,"user_id":1055219,"display_name":"tomsontom"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1425285083,"creation_date":1362125687,"answer_id":15153287,"question_id":15149843,"body_markdown":"There isn&#39;t any support for this kind of thing. The idea is that you are using FXML to visually layout your UI and then connecting it to java using a controller class.\r\n\r\nSidenote: We at e(fx)clipse started a build addon that allows you to converter FXML-Files into Java-Files - because of performance reasons on embedded devices.","title":"How to Convert FXML to JAVA","body":"<p>There isn't any support for this kind of thing. The idea is that you are using FXML to visually layout your UI and then connecting it to java using a controller class.</p>\n\n<p>Sidenote: We at e(fx)clipse started a build addon that allows you to converter FXML-Files into Java-Files - because of performance reasons on embedded devices.</p>\n"},{"tags":[],"owner":{"account_id":3731085,"reputation":9146,"user_id":3103448,"accept_rate":43,"display_name":"marc-medley"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1700757515,"creation_date":1490813550,"answer_id":43101837,"question_id":15149843,"body_markdown":"&gt; Is that any program to convert it?\r\n\r\nYes. Netbeans [FXML 2 JAVA Converter](https://web.archive.org/web/20210304040347/http://plugins.netbeans.org/plugin/68619/fxml-2-java-converter) _via Archive.org 2021.03.04 capture for `plugins.netbeans.org/plugin/68619/fxml-2-java-converter`_.\r\n\r\n","title":"How to Convert FXML to JAVA","body":"<blockquote>\n<p>Is that any program to convert it?</p>\n</blockquote>\n<p>Yes. Netbeans <a href=\"https://web.archive.org/web/20210304040347/http://plugins.netbeans.org/plugin/68619/fxml-2-java-converter\" rel=\"nofollow noreferrer\">FXML 2 JAVA Converter</a> <em>via Archive.org 2021.03.04 capture for <code>plugins.netbeans.org/plugin/68619/fxml-2-java-converter</code></em>.</p>\n"}],"owner":{"account_id":2397490,"reputation":109,"user_id":2096019,"accept_rate":83,"display_name":"Ken Wong"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13712,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"closed_date":1642090712,"accepted_answer_id":15153287,"answer_count":2,"score":6,"last_activity_date":1700757515,"creation_date":1362107440,"question_id":15149843,"body_markdown":"I created a .fxml file using javafx scene builder in NetBeans.\r\n\r\nHow can I convert .fxml file in NetBeans to .java?\r\nIs that any program to convert it?\r\n\r\nI am not very good in fxml so I want to use .java file to code my javafx app.","title":"How to Convert FXML to JAVA","body":"<p>I created a .fxml file using javafx scene builder in NetBeans.</p>\n<p>How can I convert .fxml file in NetBeans to .java?\nIs that any program to convert it?</p>\n<p>I am not very good in fxml so I want to use .java file to code my javafx app.</p>\n"},{"tags":["java","loops","intellij-idea","while-loop","count"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":1,"creation_date":1696201444,"post_id":77212563,"comment_id":136119614,"body_markdown":"Replace `int integers = input.nextInt();` with `int integers = 1;` .  The scanner usage there is preventing the normal sequence of &quot;prompt followed by input&quot; that you have designed.  Setting it to `1` simply allows your loop to enter the first time - after that the scanner input dictates the loop.  Also maybe add a message once you exit the loop to indicate the program has finished.","body":"Replace <code>int integers = input.nextInt();</code> with <code>int integers = 1;</code> .  The scanner usage there is preventing the normal sequence of &quot;prompt followed by input&quot; that you have designed.  Setting it to <code>1</code> simply allows your loop to enter the first time - after that the scanner input dictates the loop.  Also maybe add a message once you exit the loop to indicate the program has finished."},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1696201863,"post_id":77212563,"comment_id":136119637,"body_markdown":"Also, I suspect your average calculation is not what is needed - if you need help with that I suggest adding some test data with expected results with your next question.","body":"Also, I suspect your average calculation is not what is needed - if you need help with that I suggest adding some test data with expected results with your next question."},{"owner":{"account_id":10341526,"reputation":284,"user_id":13157036,"display_name":"CodingNinja"},"score":0,"creation_date":1696201997,"post_id":77212563,"comment_id":136119648,"body_markdown":"you might want to make integers into an `int[]` array","body":"you might want to make integers into an <code>int[]</code> array"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1696202249,"post_id":77212563,"comment_id":136119674,"body_markdown":"By the way, a good question like this should have examples, where each example has input, actual output, and expected output.","body":"By the way, a good question like this should have examples, where each example has input, actual output, and expected output."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1696202573,"post_id":77212563,"comment_id":136119714,"body_markdown":"**1st:** Off-topic critique: You have `Enter integers ending with 0:` before `integers = input.nextInt();` inside the while loop. Why not have it also before `integers = input.nextInt();` before the `while` loop? Why not be consistent with prompting the user? **2nd:** You are throwing away the first value the user inputs. Is that what you intended?  Note there is no prompt for the user. Try running the program. If it seems to hang up, try entering a number.  **3rd** Consider using a `do { ... } while ( ... )` loop instead.","body":"<b>1st:</b> Off-topic critique: You have <code>Enter integers ending with 0:</code> before <code>integers = input.nextInt();</code> inside the while loop. Why not have it also before <code>integers = input.nextInt();</code> before the <code>while</code> loop? Why not be consistent with prompting the user? <b>2nd:</b> You are throwing away the first value the user inputs. Is that what you intended?  Note there is no prompt for the user. Try running the program. If it seems to hang up, try entering a number.  <b>3rd</b> Consider using a <code>do { ... } while ( ... )</code> loop instead."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696203207,"creation_date":1696203207,"answer_id":77212667,"question_id":77212563,"body_markdown":"Utilize a _do-while loop_, and a _boolean_.\r\n\r\nAdditionally, you can use the _[BigInteger](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/BigInteger.html)_ class for _positiveSum_ and _negativeSum_.\r\n\r\nHere is an example.\r\n\r\n```java\r\nimport static java.math.BigInteger.ZERO;\r\nimport java.math.BigInteger;\r\nimport java.util.Scanner;\r\n```\r\n\r\n```java\r\nScanner in = new Scanner(System.in);\r\nint i;\r\nBigInteger x, a = ZERO, b = ZERO;\r\nboolean exit = false;\r\ndo {\r\n    x = in.nextBigInteger();\r\n    i = x.compareTo(ZERO);\r\n    if (i == 0) exit = true;\r\n    else if (i &lt; 0) a = a.add(x);\r\n    else b = b.add(x);\r\n} while (!exit);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n1 2 3 -4 -5 -6 0\r\na = -15\r\nb = 6\r\n```","title":"While loop with input is not displaying any kind of prompt for input or result","body":"<p>Utilize a <em>do-while loop</em>, and a <em>boolean</em>.</p>\n<p>Additionally, you can use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/BigInteger.html\" rel=\"nofollow noreferrer\">BigInteger</a></em> class for <em>positiveSum</em> and <em>negativeSum</em>.</p>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static java.math.BigInteger.ZERO;\nimport java.math.BigInteger;\nimport java.util.Scanner;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner in = new Scanner(System.in);\nint i;\nBigInteger x, a = ZERO, b = ZERO;\nboolean exit = false;\ndo {\n    x = in.nextBigInteger();\n    i = x.compareTo(ZERO);\n    if (i == 0) exit = true;\n    else if (i &lt; 0) a = a.add(x);\n    else b = b.add(x);\n} while (!exit);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>1 2 3 -4 -5 -6 0\na = -15\nb = 6\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700757286,"creation_date":1696254869,"answer_id":77216079,"question_id":77212563,"body_markdown":"`&quot;When I do try running the program, I get a pathway to the directory in which intellij is held in my downloads folder.&quot;`\r\n\r\nI have absolutely no idea what you mean by that :/ but, it seems more like an IntelliJ setup issue rather than an actual code problem which you do have. How are you running the code to have this particular issue? Explain that in you posted question.\r\n\r\n----------\r\n\r\nBelow is an example runnable that explains how this can be done with User Input Validation (read the comments in code - The comments make the code look like quite a bit but really it isn&#39;t. You can delete them when your done with them if you like:\r\n\r\nThe only Scanner method used in the demo is the [Scanner#nextLine()](https://www.tutorialspoint.com/java/util/scanner_nextline.htm) method which I think provides better input control but that&#39;s just my opinion. To carry out User Input Validation, the demo utilizes the [String#matches()](https://www.tutorialspoint.com/java/java_string_matches.htm) method which is passed a small [Regular Expression](https://www.vogella.com/tutorials/JavaRegularExpressions/article.html) (regex): `&quot;-?\\\\d+&quot;` and this is basically what it means:\r\n\r\n - `-?` The numerical string may, or may not, start with the minus\r\n   character indicating whether or not the string value is signed\r\n   (negative if it&#39;s there) or unsigned (positive if it&#39;s not there);\r\n - `\\\\d+` The numerical string contains *one or more* numerical digits\r\n   from **0** to **9** *only*.\r\n\r\n```\r\npublic class LoopPractice {\r\n    // A variable to hold the OS dependent newline character sequence:\r\n    private final String ls = System.lineSeparator();\r\n    \r\n    // Declare a Scanner Object:\r\n    private java.util.Scanner input;\r\n\r\n    \r\n    // Application Entry Point:\r\n    public static void main(String[] args) {\r\n        /* App is opened this way to avoid the need for \r\n           statics (unless we want them):        */\r\n        new LoopPractice().startApp(args);\r\n    }\r\n    \r\n    private void startApp(String[] args) {\r\n        /* Open a keyboard input stream. Do Not close this particular stream!\r\n           The JVM will close this resource automatically when the application \r\n           closes.        */\r\n        input = new java.util.Scanner(System.in);\r\n        \r\n        // A List Interface of Integer to hold supplied unsigned (positive)integer numbers:\r\n        java.util.List&lt;Integer&gt; unsignedInts = new java.util.ArrayList&lt;&gt;();\r\n        \r\n        // A List Interface of Integer to hold supplied signed (negative) integer numbers:\r\n        java.util.List&lt;Integer&gt; signedInts = new java.util.ArrayList&lt;&gt;();\r\n        \r\n        // Will hold the actual valid integer number supplied once converted:\r\n        int intNumber;\r\n        \r\n        /* Will hold the current prompt count so the User always\r\n           knows what the numbers count is they are currently\r\n           working on:        */\r\n        int cnt = 0; \r\n        \r\n        /* This variable will actually hold the User&#39;s numerical input\r\n           and yes, it is of type String. I like to accept string input\r\n           from the User because I think it&#39;s easier to validate and \r\n           other things like &quot;(q to quit)&quot; can be added to the prompt.\r\n           There should be no need to catch Exceptions for input \r\n           validation:        */\r\n        String numString;\r\n        \r\n        /* Boolean Flag used as the condition for the outer `while` \r\n           loop. If false, we keep looping. If true, we exit the \r\n           loop:                   */\r\n        boolean quit = false;\r\n       \r\n        /* Describe what is &quot;expeted&quot; from the User. \r\n           This greatly helps the User make proper \r\n           entries:                            */\r\n        System.out.println(&quot;Enter a series of valid signed or unsigned integers.&quot; + ls\r\n                         + &quot;All the numbers you supply MUST end with 0 otherwise&quot; + ls\r\n                         + &quot;that number will be considered Invalid and you will &quot; + ls\r\n                         + &quot;need to re-enter the desired number. Entering just 0&quot; + ls\r\n                         + &quot;is Invalid as is any number that contains alpha type &quot; + ls\r\n                         + &quot;characters. The integer numbers you supply can not be&quot; + ls\r\n                         + &quot;less than the value of  -2147483648  and, can not be &quot; + ls\r\n                         + &quot;greater than the value of 2147483647:&quot; + ls);\r\n       // Keep looping while the `quit` variable holds false:\r\n        while (!quit) {\r\n            numString = &quot;&quot;; // Set `numString` to Null String (&quot;&quot;):\r\n            \r\n            /* Keep looping while the `numString` variable is \r\n               Empty (holds Null String(&quot;&quot;):            */\r\n            while (numString.isEmpty()) {\r\n                cnt++;  // Increment the prompt counter by 1\r\n                // Display the prompt to User:\r\n                System.out.print(&quot;Enter Integer #&quot; + cnt + &quot; (or q to quit): -&gt; &quot;);\r\n                \r\n                /* Get keyboard input from User. The code halts here\r\n                   and waits for the User to enter something from the \r\n                   keyboard and hit the ENTER key:                */\r\n                numString = input.nextLine().trim();\r\n                \r\n                // Is quit desired......\r\n                if (numString.equalsIgnoreCase(&quot;q&quot;)) {\r\n                    /* Yes...set the `quit` variable to boolean true \r\n                       and exit this inner loop:                */\r\n                    quit = true;\r\n                    break;\r\n                }\r\n                \r\n                // INPUT VALIDATION:\r\n                /* Is the supplied string representation of a numerical \r\n                   value a signed or unsigned integer value which contains \r\n                   a 0 on the end, is greater than Integer.MIN_VALUE (-2147483648)\r\n                   and is less than Integer.MAX_VALUE (2147483647), and \r\n                   finally, is not just 0:\r\n                */\r\n                if (!numString.matches(&quot;-?\\\\d+&quot;) || !numString.endsWith(&quot;0&quot;)\r\n                                                 || Long.parseLong(numString) &lt; Integer.MIN_VALUE\r\n                                                 || Long.parseLong(numString) &gt; Integer.MAX_VALUE\r\n                                                 || Integer.parseInt(numString) == 0) {\r\n                    // NO...Inform the User of an Invalid Entry and to try again...\r\n                    System.out.println(&quot;Invalid Numerical Entry (&quot; + numString + &quot;)! - Try again...&quot; + ls);\r\n                    // Decrement the prompt counter because of an Invalid Entry:\r\n                    cnt--; \r\n                    /* Empty the `numString` variable to ensure re-loop\r\n                       so the User can try again:             */\r\n                    numString = &quot;&quot;;\r\n                }\r\n            }\r\n            \r\n            /* If we get to this point then either `q` for quit \r\n               was entered or a VALID integer value was supplied.  */\r\n            if (quit) {\r\n                continue;\r\n            }\r\n            \r\n            // Convert the String numerical value to int:\r\n            intNumber = Integer.parseInt(numString);\r\n            \r\n            /* If the supplied integer number is greater than 0\r\n               then the value supplied is an unsigned (positive)\r\n               integer number so, add it to the `unsignedInts`\r\n               List otherwise add it to the   `signedInts` List.\r\n               We know it can&#39;t be 0 because that wouldn&#39;t have\r\n               passed validation: We used an `if` statement with \r\n               Ternary Operator for this:               */\r\n            if (intNumber &gt; 0 ? unsignedInts.add(intNumber) : signedInts.add(intNumber));\r\n        }\r\n        \r\n        /* Count the total number of Integer values the User supplied.\r\n           These values are held within the `unsignedInts` and the \r\n           `signedInts` Lists so, to find out how many VALID numbers\r\n           were entered, we sum together the size of both lists:   */\r\n        int totalNumberOfInts = (unsignedInts.size() + signedInts.size());\r\n        \r\n        /* If both Lists contain nothing then `totalNumberOfInts` would\r\n           contain 0. Chances are, the `q` for quit was supplied before \r\n           any valid integer numbers could be established so, inform the\r\n           User that there is nothing to report and return which will\r\n           effectively end the application (or the entry session):   */\r\n        if (totalNumberOfInts == 0) {\r\n            System.out.println(&quot;No Results To Show!&quot; + ls + &quot;Quiting - Bye Bye&quot;);\r\n            return;\r\n        }\r\n        \r\n        // Otherwise, report the results of the values that were entered then quit.\r\n        \r\n        // Sum the values containd within the `unsignedInts` List:\r\n        int sumOfUnsignedIntegers = unsignedInts.stream().mapToInt(Integer::intValue).sum();\r\n        \r\n        // Sum the values containd within the `signedInts` List:\r\n        int sumOfSignedIntegers = signedInts.stream().mapToInt(Integer::intValue).sum();\r\n        \r\n        // Acquire the Overall Sum of the two Lists:\r\n        int overallSum = (sumOfUnsignedIntegers + sumOfSignedIntegers);\r\n        \r\n        // Start displaying the calcualted results into the Console Window:\r\n        System.out.println();\r\n        System.out.println(&quot;The total number integers supplied was:            &quot; \r\n                            + totalNumberOfInts);\r\n        System.out.println(&quot;The number of unsigned (positive) integers is:     &quot; \r\n                            + unsignedInts.size() + &quot;  -&gt;  &quot; + unsignedInts);\r\n        System.out.println(&quot;The number of signed (negative) integers is:       &quot; \r\n                            + signedInts.size() + &quot;  -&gt;  &quot; + signedInts);\r\n        System.out.println(&quot;The total sum of unsigned integers is:             &quot; \r\n                            + sumOfUnsignedIntegers);\r\n        System.out.println(&quot;The total sum of signed (negative) integers is:    &quot; \r\n                            + sumOfSignedIntegers);\r\n        System.out.println(&quot;The overall total sum of all supplied integers is: &quot; \r\n                            + overallSum);\r\n        \r\n        // Calculate the Average (cast the int&#39;s to doubles):\r\n        double average = ((double)overallSum / (double)totalNumberOfInts);\r\n        \r\n        // Display the Average within the Console Window:\r\n        System.out.println(&quot;The overall Average is:                            &quot; \r\n                            + average);\r\n        \r\n        // Inform of Quiting:\r\n        System.out.println(ls + &quot;Quiting - Bye Bye&quot; + ls);\r\n    }   \r\n}\r\n```","title":"While loop with input is not displaying any kind of prompt for input or result","body":"<p><code>&quot;When I do try running the program, I get a pathway to the directory in which intellij is held in my downloads folder.&quot;</code></p>\n<p>I have absolutely no idea what you mean by that :/ but, it seems more like an IntelliJ setup issue rather than an actual code problem which you do have. How are you running the code to have this particular issue? Explain that in you posted question.</p>\n<hr />\n<p>Below is an example runnable that explains how this can be done with User Input Validation (read the comments in code - The comments make the code look like quite a bit but really it isn't. You can delete them when your done with them if you like:</p>\n<p>The only Scanner method used in the demo is the <a href=\"https://www.tutorialspoint.com/java/util/scanner_nextline.htm\" rel=\"nofollow noreferrer\">Scanner#nextLine()</a> method which I think provides better input control but that's just my opinion. To carry out User Input Validation, the demo utilizes the <a href=\"https://www.tutorialspoint.com/java/java_string_matches.htm\" rel=\"nofollow noreferrer\">String#matches()</a> method which is passed a small <a href=\"https://www.vogella.com/tutorials/JavaRegularExpressions/article.html\" rel=\"nofollow noreferrer\">Regular Expression</a> (regex): <code>&quot;-?\\\\d+&quot;</code> and this is basically what it means:</p>\n<ul>\n<li><code>-?</code> The numerical string may, or may not, start with the minus\ncharacter indicating whether or not the string value is signed\n(negative if it's there) or unsigned (positive if it's not there);</li>\n<li><code>\\\\d+</code> The numerical string contains <em>one or more</em> numerical digits\nfrom <strong>0</strong> to <strong>9</strong> <em>only</em>.</li>\n</ul>\n<pre><code>public class LoopPractice {\n    // A variable to hold the OS dependent newline character sequence:\n    private final String ls = System.lineSeparator();\n    \n    // Declare a Scanner Object:\n    private java.util.Scanner input;\n\n    \n    // Application Entry Point:\n    public static void main(String[] args) {\n        /* App is opened this way to avoid the need for \n           statics (unless we want them):        */\n        new LoopPractice().startApp(args);\n    }\n    \n    private void startApp(String[] args) {\n        /* Open a keyboard input stream. Do Not close this particular stream!\n           The JVM will close this resource automatically when the application \n           closes.        */\n        input = new java.util.Scanner(System.in);\n        \n        // A List Interface of Integer to hold supplied unsigned (positive)integer numbers:\n        java.util.List&lt;Integer&gt; unsignedInts = new java.util.ArrayList&lt;&gt;();\n        \n        // A List Interface of Integer to hold supplied signed (negative) integer numbers:\n        java.util.List&lt;Integer&gt; signedInts = new java.util.ArrayList&lt;&gt;();\n        \n        // Will hold the actual valid integer number supplied once converted:\n        int intNumber;\n        \n        /* Will hold the current prompt count so the User always\n           knows what the numbers count is they are currently\n           working on:        */\n        int cnt = 0; \n        \n        /* This variable will actually hold the User's numerical input\n           and yes, it is of type String. I like to accept string input\n           from the User because I think it's easier to validate and \n           other things like &quot;(q to quit)&quot; can be added to the prompt.\n           There should be no need to catch Exceptions for input \n           validation:        */\n        String numString;\n        \n        /* Boolean Flag used as the condition for the outer `while` \n           loop. If false, we keep looping. If true, we exit the \n           loop:                   */\n        boolean quit = false;\n       \n        /* Describe what is &quot;expeted&quot; from the User. \n           This greatly helps the User make proper \n           entries:                            */\n        System.out.println(&quot;Enter a series of valid signed or unsigned integers.&quot; + ls\n                         + &quot;All the numbers you supply MUST end with 0 otherwise&quot; + ls\n                         + &quot;that number will be considered Invalid and you will &quot; + ls\n                         + &quot;need to re-enter the desired number. Entering just 0&quot; + ls\n                         + &quot;is Invalid as is any number that contains alpha type &quot; + ls\n                         + &quot;characters. The integer numbers you supply can not be&quot; + ls\n                         + &quot;less than the value of  -2147483648  and, can not be &quot; + ls\n                         + &quot;greater than the value of 2147483647:&quot; + ls);\n       // Keep looping while the `quit` variable holds false:\n        while (!quit) {\n            numString = &quot;&quot;; // Set `numString` to Null String (&quot;&quot;):\n            \n            /* Keep looping while the `numString` variable is \n               Empty (holds Null String(&quot;&quot;):            */\n            while (numString.isEmpty()) {\n                cnt++;  // Increment the prompt counter by 1\n                // Display the prompt to User:\n                System.out.print(&quot;Enter Integer #&quot; + cnt + &quot; (or q to quit): -&gt; &quot;);\n                \n                /* Get keyboard input from User. The code halts here\n                   and waits for the User to enter something from the \n                   keyboard and hit the ENTER key:                */\n                numString = input.nextLine().trim();\n                \n                // Is quit desired......\n                if (numString.equalsIgnoreCase(&quot;q&quot;)) {\n                    /* Yes...set the `quit` variable to boolean true \n                       and exit this inner loop:                */\n                    quit = true;\n                    break;\n                }\n                \n                // INPUT VALIDATION:\n                /* Is the supplied string representation of a numerical \n                   value a signed or unsigned integer value which contains \n                   a 0 on the end, is greater than Integer.MIN_VALUE (-2147483648)\n                   and is less than Integer.MAX_VALUE (2147483647), and \n                   finally, is not just 0:\n                */\n                if (!numString.matches(&quot;-?\\\\d+&quot;) || !numString.endsWith(&quot;0&quot;)\n                                                 || Long.parseLong(numString) &lt; Integer.MIN_VALUE\n                                                 || Long.parseLong(numString) &gt; Integer.MAX_VALUE\n                                                 || Integer.parseInt(numString) == 0) {\n                    // NO...Inform the User of an Invalid Entry and to try again...\n                    System.out.println(&quot;Invalid Numerical Entry (&quot; + numString + &quot;)! - Try again...&quot; + ls);\n                    // Decrement the prompt counter because of an Invalid Entry:\n                    cnt--; \n                    /* Empty the `numString` variable to ensure re-loop\n                       so the User can try again:             */\n                    numString = &quot;&quot;;\n                }\n            }\n            \n            /* If we get to this point then either `q` for quit \n               was entered or a VALID integer value was supplied.  */\n            if (quit) {\n                continue;\n            }\n            \n            // Convert the String numerical value to int:\n            intNumber = Integer.parseInt(numString);\n            \n            /* If the supplied integer number is greater than 0\n               then the value supplied is an unsigned (positive)\n               integer number so, add it to the `unsignedInts`\n               List otherwise add it to the   `signedInts` List.\n               We know it can't be 0 because that wouldn't have\n               passed validation: We used an `if` statement with \n               Ternary Operator for this:               */\n            if (intNumber &gt; 0 ? unsignedInts.add(intNumber) : signedInts.add(intNumber));\n        }\n        \n        /* Count the total number of Integer values the User supplied.\n           These values are held within the `unsignedInts` and the \n           `signedInts` Lists so, to find out how many VALID numbers\n           were entered, we sum together the size of both lists:   */\n        int totalNumberOfInts = (unsignedInts.size() + signedInts.size());\n        \n        /* If both Lists contain nothing then `totalNumberOfInts` would\n           contain 0. Chances are, the `q` for quit was supplied before \n           any valid integer numbers could be established so, inform the\n           User that there is nothing to report and return which will\n           effectively end the application (or the entry session):   */\n        if (totalNumberOfInts == 0) {\n            System.out.println(&quot;No Results To Show!&quot; + ls + &quot;Quiting - Bye Bye&quot;);\n            return;\n        }\n        \n        // Otherwise, report the results of the values that were entered then quit.\n        \n        // Sum the values containd within the `unsignedInts` List:\n        int sumOfUnsignedIntegers = unsignedInts.stream().mapToInt(Integer::intValue).sum();\n        \n        // Sum the values containd within the `signedInts` List:\n        int sumOfSignedIntegers = signedInts.stream().mapToInt(Integer::intValue).sum();\n        \n        // Acquire the Overall Sum of the two Lists:\n        int overallSum = (sumOfUnsignedIntegers + sumOfSignedIntegers);\n        \n        // Start displaying the calcualted results into the Console Window:\n        System.out.println();\n        System.out.println(&quot;The total number integers supplied was:            &quot; \n                            + totalNumberOfInts);\n        System.out.println(&quot;The number of unsigned (positive) integers is:     &quot; \n                            + unsignedInts.size() + &quot;  -&gt;  &quot; + unsignedInts);\n        System.out.println(&quot;The number of signed (negative) integers is:       &quot; \n                            + signedInts.size() + &quot;  -&gt;  &quot; + signedInts);\n        System.out.println(&quot;The total sum of unsigned integers is:             &quot; \n                            + sumOfUnsignedIntegers);\n        System.out.println(&quot;The total sum of signed (negative) integers is:    &quot; \n                            + sumOfSignedIntegers);\n        System.out.println(&quot;The overall total sum of all supplied integers is: &quot; \n                            + overallSum);\n        \n        // Calculate the Average (cast the int's to doubles):\n        double average = ((double)overallSum / (double)totalNumberOfInts);\n        \n        // Display the Average within the Console Window:\n        System.out.println(&quot;The overall Average is:                            &quot; \n                            + average);\n        \n        // Inform of Quiting:\n        System.out.println(ls + &quot;Quiting - Bye Bye&quot; + ls);\n    }   \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29456424,"reputation":11,"user_id":22572198,"display_name":"Himanshu Gupta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696258292,"creation_date":1696258099,"answer_id":77216456,"question_id":77212563,"body_markdown":"When you execute your code, it stops at \r\n\r\n&quot;int integers = input.nextInt();&quot;\r\n\r\nand expects you to provide an input before moving down the loop. You invoked nextInt() method while declaring int variable and hence the scanner is expecting an int input. That is why you see a blank after intellij directory.\r\n\r\nI adjusted your code a little bit while keeping rest of it same.I printed a statement before you declaring integers variable. So, that the first input you provide counts when you move inside the loop, once a loop is at end, we again check for new input.(Alternatively, you can go with do while loop as Reilas suggested)\r\n\r\nchanged few variable names numberOfPositive &gt; positiveEntries. . .etc. \r\n\r\n_____________________________________________________________\r\n\r\npublic static void main(String[] args) {\r\n        Scanner input = new Scanner(System.in);\r\n\r\n        int positiveSum = 0;\r\n        int negativeSum = 0;\r\n        int PositveEntries = 0;\r\n        int NegativeEntries = 0;\r\n        int totalEntries = 0;\r\n        int totalSum;\r\n        double average;\r\n\r\n\r\n\r\n        System.out.println(&quot;Enter integers ending with 0: &quot;);\r\n        int integers = input.nextInt();\r\n\r\n        while(integers != 0){\r\n\r\n\r\n\r\n            if (integers &gt; 0) {\r\n                positiveSum += integers;\r\n                PositveEntries++;\r\n                totalEntries++;\r\n                System.out.println(&quot;Sum of positive entries &quot; + positiveSum);\r\n\r\n            } else  if (integers &lt; 0) {\r\n                negativeSum += integers;\r\n                NegativeEntries++;\r\n                totalEntries++;\r\n                System.out.println(&quot;Sum of negative entries &quot; + negativeSum);\r\n            }\r\n            totalSum = positiveSum + negativeSum;\r\n            average =  totalSum / totalEntries;\r\n            System.out.println(&quot;Total sum = &quot; + totalSum + &quot;. Average = &quot;+ average);\r\n\r\n            System.out.println(&quot;Enter another sum or enter 0 to terminate&quot;);\r\n            integers = input.nextInt();\r\n        }\r\n        System.out.println(&quot;program terminated&quot;);\r\n\r\n\r\n\r\n    }","title":"While loop with input is not displaying any kind of prompt for input or result","body":"<p>When you execute your code, it stops at</p>\n<p>&quot;int integers = input.nextInt();&quot;</p>\n<p>and expects you to provide an input before moving down the loop. You invoked nextInt() method while declaring int variable and hence the scanner is expecting an int input. That is why you see a blank after intellij directory.</p>\n<p>I adjusted your code a little bit while keeping rest of it same.I printed a statement before you declaring integers variable. So, that the first input you provide counts when you move inside the loop, once a loop is at end, we again check for new input.(Alternatively, you can go with do while loop as Reilas suggested)</p>\n<p>changed few variable names numberOfPositive &gt; positiveEntries. . .etc.</p>\n<hr />\n<p>public static void main(String[] args) {\nScanner input = new Scanner(System.in);</p>\n<pre><code>    int positiveSum = 0;\n    int negativeSum = 0;\n    int PositveEntries = 0;\n    int NegativeEntries = 0;\n    int totalEntries = 0;\n    int totalSum;\n    double average;\n\n\n\n    System.out.println(&quot;Enter integers ending with 0: &quot;);\n    int integers = input.nextInt();\n\n    while(integers != 0){\n\n\n\n        if (integers &gt; 0) {\n            positiveSum += integers;\n            PositveEntries++;\n            totalEntries++;\n            System.out.println(&quot;Sum of positive entries &quot; + positiveSum);\n\n        } else  if (integers &lt; 0) {\n            negativeSum += integers;\n            NegativeEntries++;\n            totalEntries++;\n            System.out.println(&quot;Sum of negative entries &quot; + negativeSum);\n        }\n        totalSum = positiveSum + negativeSum;\n        average =  totalSum / totalEntries;\n        System.out.println(&quot;Total sum = &quot; + totalSum + &quot;. Average = &quot;+ average);\n\n        System.out.println(&quot;Enter another sum or enter 0 to terminate&quot;);\n        integers = input.nextInt();\n    }\n    System.out.println(&quot;program terminated&quot;);\n\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":22831551,"reputation":1,"user_id":16979922,"display_name":"Larry Sizemore"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1700757286,"creation_date":1696200345,"question_id":77212563,"body_markdown":"I am currently writing a program as practice for class, where the user is prompted to input a series of numbers, where the input should end with 0. The program should be able to add one to the variable positive sum when it comes into contact with a positive number from the input. The program should be able to add one to the variable negative sum when it comes into contact with a negative number from the input. The program should add all of these numbers together in order to get total. The program should be able to get the average and display it as a double.\r\n\r\nWhen I do try running the program, I get a pathway to the directory in which intellij is held in my downloads folder. \r\n\r\n\r\nI&#39;m not necessarily sure what I could try differently. No error warnings are popping up in my IDE.\r\n\r\nThis is my code:\r\n\r\n`   import java.util.Scanner;\r\n\r\n    public class LoopPractice {\r\n    public static void main(String[] args) {\r\n    //create scanner object\r\n        Scanner input = new Scanner(System.in);\r\n\r\n        int positiveSum = 0;\r\n        int negativeSum = 0;\r\n        int numberOfPositive = 0;\r\n        int numberOfNegative = 0;\r\n        int totalNumbers = 0;\r\n        int integers = input.nextInt();\r\n\r\n        while(integers != 0){\r\n            System.out.println(&quot;Enter integers ending with 0: &quot;);\r\n            integers = input.nextInt();\r\n\r\n                if (integers &gt; 0) {\r\n                    positiveSum += integers;\r\n                    numberOfPositive++;\r\n                    totalNumbers++;\r\n                    System.out.println(&quot;The number of positives is &quot; + positiveSum);\r\n\r\n                } else  if (integers &lt; 0) {\r\n                    negativeSum += integers;\r\n                    numberOfNegative++;\r\n                    totalNumbers++;\r\n                    System.out.println(&quot;The number of negatives is &quot; + negativeSum);\r\n                }\r\n            double average =  (numberOfPositive + numberOfNegative) / totalNumbers;\r\n            System.out.println(&quot;The total is: &quot; + totalNumbers);\r\n                System.out.println(&quot;The average is: &quot; + average);\r\n                }\r\n            }\r\n         }\r\n\r\n`","title":"While loop with input is not displaying any kind of prompt for input or result","body":"<p>I am currently writing a program as practice for class, where the user is prompted to input a series of numbers, where the input should end with 0. The program should be able to add one to the variable positive sum when it comes into contact with a positive number from the input. The program should be able to add one to the variable negative sum when it comes into contact with a negative number from the input. The program should add all of these numbers together in order to get total. The program should be able to get the average and display it as a double.</p>\n<p>When I do try running the program, I get a pathway to the directory in which intellij is held in my downloads folder.</p>\n<p>I'm not necessarily sure what I could try differently. No error warnings are popping up in my IDE.</p>\n<p>This is my code:</p>\n<p>`   import java.util.Scanner;</p>\n<pre><code>public class LoopPractice {\npublic static void main(String[] args) {\n//create scanner object\n    Scanner input = new Scanner(System.in);\n\n    int positiveSum = 0;\n    int negativeSum = 0;\n    int numberOfPositive = 0;\n    int numberOfNegative = 0;\n    int totalNumbers = 0;\n    int integers = input.nextInt();\n\n    while(integers != 0){\n        System.out.println(&quot;Enter integers ending with 0: &quot;);\n        integers = input.nextInt();\n\n            if (integers &gt; 0) {\n                positiveSum += integers;\n                numberOfPositive++;\n                totalNumbers++;\n                System.out.println(&quot;The number of positives is &quot; + positiveSum);\n\n            } else  if (integers &lt; 0) {\n                negativeSum += integers;\n                numberOfNegative++;\n                totalNumbers++;\n                System.out.println(&quot;The number of negatives is &quot; + negativeSum);\n            }\n        double average =  (numberOfPositive + numberOfNegative) / totalNumbers;\n        System.out.println(&quot;The total is: &quot; + totalNumbers);\n            System.out.println(&quot;The average is: &quot; + average);\n            }\n        }\n     }\n</code></pre>\n<p>`</p>\n"},{"tags":["java","spring-boot","java-8","mongodb-query","microservices"],"comments":[{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan lleez"},"score":0,"creation_date":1697614650,"post_id":77314268,"comment_id":136300467,"body_markdown":"First of all are you sure that sort is not null. Also I am pretty sure that it is simple sorting you can find in stackoverflow.","body":"First of all are you sure that sort is not null. Also I am pretty sure that it is simple sorting you can find in stackoverflow."},{"owner":{"account_id":6839241,"reputation":31,"user_id":5260160,"accept_rate":0,"display_name":"Agrawal"},"score":0,"creation_date":1697614822,"post_id":77314268,"comment_id":136300489,"body_markdown":"Yes, very obvious. It&#39;s not null. That&#39;s why I am getting 5 -&gt; 11 -&gt; 10.\nAnd actually I checked, but same results","body":"Yes, very obvious. It&#39;s not null. That&#39;s why I am getting 5 -&gt; 11 -&gt; 10. And actually I checked, but same results"},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan lleez"},"score":0,"creation_date":1697615568,"post_id":77314268,"comment_id":136300611,"body_markdown":"Can you send structure of document that you are using? Maybe Id is not in first layer of json","body":"Can you send structure of document that you are using? Maybe Id is not in first layer of json"},{"owner":{"account_id":6839241,"reputation":31,"user_id":5260160,"accept_rate":0,"display_name":"Agrawal"},"score":0,"creation_date":1697616327,"post_id":77314268,"comment_id":136300773,"body_markdown":"{\n  &quot;_id&quot;: &quot;5&quot;,\n managementId: &quot;238764827364827t367&quot;,\n &quot;source&quot;: {\n      &quot;refValue&quot;: &quot;http://cvVYqgTCOAfKG.hldhdbTbO2djQIWelGBb&quot;,\n    type&quot;: reference&quot;,\n    baseType&quot;: &quot;netstats&quot;\n  },\n type: netstatic\n}","body":"{   &quot;_id&quot;: &quot;5&quot;,  managementId: &quot;238764827364827t367&quot;,  &quot;source&quot;: {       &quot;refValue&quot;: &quot;<a href=\"http://cvVYqgTCOAfKG.hldhdbTbO2djQIWelGBb\" rel=\"nofollow noreferrer\">cvVYqgTCOAfKG.hldhdbTbO2djQIWelGBb</a>&quot;,     type&quot;: reference&quot;,     baseType&quot;: &quot;netstats&quot;   },  type: netstatic }"}],"answers":[{"tags":[],"owner":{"account_id":8884226,"reputation":514,"user_id":6633045,"display_name":"phuongnq1995"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700757275,"creation_date":1697616141,"answer_id":77314470,"question_id":77314268,"body_markdown":"It&#39;s correct because your `id` is `String` which `&#39;10&#39; &lt; &#39;5&#39;`. To solve this issue we have 2 options:\r\n\r\n 1. Change your `id` type from `String` to `Long` or `Integer` in your document class. \r\n```\r\n{ \r\n    &quot;_id&quot;: 5 &lt;- this is a number not string\r\n    // other fields\r\n}\r\n```\r\n2. Create another field with `Long` or `Integer` in your document class for sorting. Automatic fill up this column with numeric type by your `id`. Example: setter for new column `Integer.parseInt(getId())`, and sort method will be `Sort.by(Sort.Direction.ASC, &quot;numericFieldName&quot;)`\r\n```\r\n{ \r\n    &quot;_id&quot;: &quot;5&quot;,\r\n    &quot;numericFieldName&quot;: 5 &lt;- this is a number\r\n    // other fields\r\n}\r\n```","title":"Spring MongoDB JAVA Sorting Query","body":"<p>It's correct because your <code>id</code> is <code>String</code> which <code>'10' &lt; '5'</code>. To solve this issue we have 2 options:</p>\n<ol>\n<li>Change your <code>id</code> type from <code>String</code> to <code>Long</code> or <code>Integer</code> in your document class.</li>\n</ol>\n<pre><code>{ \n    &quot;_id&quot;: 5 &lt;- this is a number not string\n    // other fields\n}\n</code></pre>\n<ol start=\"2\">\n<li>Create another field with <code>Long</code> or <code>Integer</code> in your document class for sorting. Automatic fill up this column with numeric type by your <code>id</code>. Example: setter for new column <code>Integer.parseInt(getId())</code>, and sort method will be <code>Sort.by(Sort.Direction.ASC, &quot;numericFieldName&quot;)</code></li>\n</ol>\n<pre><code>{ \n    &quot;_id&quot;: &quot;5&quot;,\n    &quot;numericFieldName&quot;: 5 &lt;- this is a number\n    // other fields\n}\n</code></pre>\n"}],"owner":{"account_id":6839241,"reputation":31,"user_id":5260160,"accept_rate":0,"display_name":"Agrawal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700757275,"creation_date":1697614086,"question_id":77314268,"body_markdown":"I have tried with the below code to short id(string) parameter but it is not sorting correctly.\r\n\r\n    // Apply sorting \r\n       if (sort != null) {\r\n       query.with(Sort.by(Sort.Direction.DESC, sort));\r\n\r\n  **OR**\r\n\r\n    // Apply sorting\r\n    if (sort != null) {\r\n        Sort sortOptions = Sort.by(Sort.Order.desc(sort)); // Sort in descending order\r\n        query.with(sortOptions);\r\n    }\r\n\r\n**OUTPUT** :\r\n\r\n\r\nSuppose IDs are 5, 10, and 11.\r\nIt gives 5 -&gt; 11 -&gt; 10 but it should be 11, 10, 5.\r\n\r\n","title":"Spring MongoDB JAVA Sorting Query","body":"<p>I have tried with the below code to short id(string) parameter but it is not sorting correctly.</p>\n<pre><code>// Apply sorting \n   if (sort != null) {\n   query.with(Sort.by(Sort.Direction.DESC, sort));\n</code></pre>\n<p><strong>OR</strong></p>\n<pre><code>// Apply sorting\nif (sort != null) {\n    Sort sortOptions = Sort.by(Sort.Order.desc(sort)); // Sort in descending order\n    query.with(sortOptions);\n}\n</code></pre>\n<p><strong>OUTPUT</strong> :</p>\n<p>Suppose IDs are 5, 10, and 11.\nIt gives 5 -&gt; 11 -&gt; 10 but it should be 11, 10, 5.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1700555657,"post_id":77521162,"comment_id":136665943,"body_markdown":"How many numbers are there between 0 and `size`?","body":"How many numbers are there between 0 and <code>size</code>?"},{"owner":{"account_id":182974,"reputation":6286,"user_id":418066,"display_name":"Biffen"},"score":1,"creation_date":1700557458,"post_id":77521162,"comment_id":136666251,"body_markdown":"Does this answer your question? [What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?](https://stackoverflow.com/questions/5554734/what-causes-a-java-lang-arrayindexoutofboundsexception-and-how-do-i-prevent-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5554734/what-causes-a-java-lang-arrayindexoutofboundsexception-and-how-do-i-prevent-it\">What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?</a>"}],"answers":[{"tags":[],"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700554670,"creation_date":1700554670,"answer_id":77521254,"question_id":77521162,"body_markdown":"for both x and j the condition should be **x &lt; num.length** and **j &lt; num.length**\r\n\r\n(not &lt;=) because arrays are 0 indexed so an array of length 5 have indexes of 0 =&gt; 4 (index &lt; 5) ","title":"Arrays going out of Bounds in java","body":"<p>for both x and j the condition should be <strong>x &lt; num.length</strong> and <strong>j &lt; num.length</strong></p>\n<p>(not &lt;=) because arrays are 0 indexed so an array of length 5 have indexes of 0 =&gt; 4 (index &lt; 5)</p>\n"},{"tags":[],"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700555587,"creation_date":1700555587,"answer_id":77521346,"question_id":77521162,"body_markdown":"Looping over an Array / List via indexed access always needs to implement the check to be\r\n\r\n    i &lt; array.length\r\n\r\nand NOT \r\n\r\n    i &lt;= array.length //Out of Bounds!\r\n\r\nImagine this array: `{1, 2, 3, 4, 5}` now the length will be `5`. But `array[5]` is out of bounds because the indices start at `0`. Thus you need to check for your index to be small than the length of the array. ","title":"Arrays going out of Bounds in java","body":"<p>Looping over an Array / List via indexed access always needs to implement the check to be</p>\n<pre><code>i &lt; array.length\n</code></pre>\n<p>and NOT</p>\n<pre><code>i &lt;= array.length //Out of Bounds!\n</code></pre>\n<p>Imagine this array: <code>{1, 2, 3, 4, 5}</code> now the length will be <code>5</code>. But <code>array[5]</code> is out of bounds because the indices start at <code>0</code>. Thus you need to check for your index to be small than the length of the array.</p>\n"},{"tags":[],"owner":{"account_id":29681914,"reputation":1,"user_id":22748368,"display_name":"Adripoblado"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700565652,"creation_date":1700555985,"answer_id":77521386,"question_id":77521162,"body_markdown":"This was answered more than once ([for example here][1])\r\n\r\nYou are exceeding array length when asking for values.\r\nYour code is asking for one more value than the array can store.\r\n\r\nJust change the \r\n```\r\nfor(int x = 0; x &lt;= num.length; x++)\r\n``` \r\nto\r\n\r\n```\r\nfor (int x = 0; x &lt; num.length; x++)\r\n```\r\n\r\nin both cases so it does not overflow your array length when reaching the end of them.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/29775607/22748368","title":"Arrays going out of Bounds in java","body":"<p>This was answered more than once (<a href=\"https://stackoverflow.com/a/29775607/22748368\">for example here</a>)</p>\n<p>You are exceeding array length when asking for values.\nYour code is asking for one more value than the array can store.</p>\n<p>Just change the</p>\n<pre><code>for(int x = 0; x &lt;= num.length; x++)\n</code></pre>\n<p>to</p>\n<pre><code>for (int x = 0; x &lt; num.length; x++)\n</code></pre>\n<p>in both cases so it does not overflow your array length when reaching the end of them.</p>\n"},{"tags":[],"owner":{"account_id":5941380,"reputation":4114,"user_id":4672460,"accept_rate":100,"display_name":"Selaka Nanayakkara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700757160,"creation_date":1700556154,"answer_id":77521399,"question_id":77521162,"body_markdown":"This is a runtime exception in Java that occurs when you try to access an array with an illegal index. The index is either negative or greater than or equal to the size of the array. In order to fix this error in your code.\r\n\r\nChange `i &lt;= array.length` to `i &lt; array.length`\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main\r\n    {\r\n      public static void main (String[]args)\r\n      {\r\n        Scanner sn = new Scanner (System.in);\r\n    \r\n        int size;\r\n          System.out.println (&quot;Enter the size of the array =&quot;);\r\n          size = sn.nextInt ();\r\n        int[] num = new int[size];\r\n    \r\n          System.out.println (&quot;Created a Numerical Array&quot;);\r\n    \r\n        for (int x = 0; x &lt; num.length; x++)\r\n          {\r\n    \tSystem.out.println (&quot;Enter data into the &quot; + x + &quot; index = &quot;);\r\n    \tnum[x] = sn.nextInt ();\r\n    \r\n          }\r\n        for (int j = 0; j &lt; num.length; j++)\r\n          {\r\n    \tint temp2 = j + 1;\r\n    \tSystem.out.println (temp2 + &quot; index contains= &quot; + num[j]);\r\n          }\r\n    \r\n      }\r\n    }\r\n\r\nRefer the working code [here][1]\r\n\r\n  [1]: https://onlinegdb.com/DYQ_qO3tL","title":"Arrays going out of Bounds in java","body":"<p>This is a runtime exception in Java that occurs when you try to access an array with an illegal index. The index is either negative or greater than or equal to the size of the array. In order to fix this error in your code.</p>\n<p>Change <code>i &lt;= array.length</code> to <code>i &lt; array.length</code></p>\n<pre><code>import java.util.Scanner;\n\npublic class Main\n{\n  public static void main (String[]args)\n  {\n    Scanner sn = new Scanner (System.in);\n\n    int size;\n      System.out.println (&quot;Enter the size of the array =&quot;);\n      size = sn.nextInt ();\n    int[] num = new int[size];\n\n      System.out.println (&quot;Created a Numerical Array&quot;);\n\n    for (int x = 0; x &lt; num.length; x++)\n      {\n    System.out.println (&quot;Enter data into the &quot; + x + &quot; index = &quot;);\n    num[x] = sn.nextInt ();\n\n      }\n    for (int j = 0; j &lt; num.length; j++)\n      {\n    int temp2 = j + 1;\n    System.out.println (temp2 + &quot; index contains= &quot; + num[j]);\n      }\n\n  }\n}\n</code></pre>\n<p>Refer the working code <a href=\"https://onlinegdb.com/DYQ_qO3tL\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":25538860,"reputation":35,"user_id":19325373,"display_name":"Ashitosh bendre"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":4,"score":-1,"last_activity_date":1700757169,"creation_date":1700553616,"question_id":77521162,"body_markdown":"I created a simple method which takes array size for user and enters data into array and print the array, but this code is always giving out of bounds error pls help.\r\nHere&#39;s the code.\r\n\r\n\r\n    static void arrrays()\r\n    {\r\n        Scanner sn = new Scanner(System.in);\r\n\r\n        /*\r\n            arrays = stores multiples values of similar variables\r\n\r\n            WAYS TO DECLEAR A ARRAY\r\n            1.String[] cars = new String[3];\r\n            2.String[] cars={&quot;Camaro&quot;,&quot;Corvette&quot;,&quot;Tesla&quot;};\r\n\r\n        */\r\n\r\n        int size;\r\n        System.out.println(&quot;Enter the size of the array =&quot;);\r\n        size=sn.nextInt();\r\n\r\n        int[] num= new int[size];\r\n\r\n        System.out.println(&quot;Created a Numerical Array&quot;);\r\n\r\n        for (int x=0;x&lt;=num.length;x++)\r\n        {\r\n            System.out.println(&quot;Enter data into the &quot; + x + &quot; index = &quot; );\r\n            num[x]=sn.nextInt();\r\n\r\n        }\r\n        for(int j=0;j&lt;=num.length;j++)\r\n        {\r\n            int temp2=j+1;\r\n            System.out.println(temp2 +&quot; index contains= &quot;+num[j]);\r\n        }\r\n\r\n\r\n        /*//Printing arrays\r\n        String[] cars={&quot;Camaro&quot;,&quot;Corvette&quot;,&quot;Tesla&quot;};\r\n\r\n        for(int i=0;i&lt; cars.length;i++)\r\n        {\r\n            System.out.println(cars[i]);\r\n        }*/\r\n\r\n    }\r\n\r\n","title":"Arrays going out of Bounds in java","body":"<p>I created a simple method which takes array size for user and enters data into array and print the array, but this code is always giving out of bounds error pls help.\nHere's the code.</p>\n<pre><code>static void arrrays()\n{\n    Scanner sn = new Scanner(System.in);\n\n    /*\n        arrays = stores multiples values of similar variables\n\n        WAYS TO DECLEAR A ARRAY\n        1.String[] cars = new String[3];\n        2.String[] cars={&quot;Camaro&quot;,&quot;Corvette&quot;,&quot;Tesla&quot;};\n\n    */\n\n    int size;\n    System.out.println(&quot;Enter the size of the array =&quot;);\n    size=sn.nextInt();\n\n    int[] num= new int[size];\n\n    System.out.println(&quot;Created a Numerical Array&quot;);\n\n    for (int x=0;x&lt;=num.length;x++)\n    {\n        System.out.println(&quot;Enter data into the &quot; + x + &quot; index = &quot; );\n        num[x]=sn.nextInt();\n\n    }\n    for(int j=0;j&lt;=num.length;j++)\n    {\n        int temp2=j+1;\n        System.out.println(temp2 +&quot; index contains= &quot;+num[j]);\n    }\n\n\n    /*//Printing arrays\n    String[] cars={&quot;Camaro&quot;,&quot;Corvette&quot;,&quot;Tesla&quot;};\n\n    for(int i=0;i&lt; cars.length;i++)\n    {\n        System.out.println(cars[i]);\n    }*/\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-boot-actuator"],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603469789,"creation_date":1603469789,"answer_id":64503710,"question_id":64503501,"body_markdown":"    info:\r\n        app:\r\n            name: @project.name@\r\n            version: @project.version@\r\n        external-resources:\r\n            services:\r\n                &#39;[service.util]&#39;: ${service.util.url}\r\n                another_service: ${service.host}\r\n            database:\r\n                url: ${spring.datasource.url}\r\n                username: ${spring.datasource.username}\r\n        build:\r\n            date: @timestamp@\r\n            commit-sha: ${COMMIT_SHORT_SHA:xxx}\r\n        deployment:\r\n            date: ${DEPLOYMENT_TIME:xxx}\r\n\r\nJust put all you need under `info` section of the `application.yml`","title":"Custom health actuator properties","body":"<pre><code>info:\n    app:\n        name: @project.name@\n        version: @project.version@\n    external-resources:\n        services:\n            '[service.util]': ${service.util.url}\n            another_service: ${service.host}\n        database:\n            url: ${spring.datasource.url}\n            username: ${spring.datasource.username}\n    build:\n        date: @timestamp@\n        commit-sha: ${COMMIT_SHORT_SHA:xxx}\n    deployment:\n        date: ${DEPLOYMENT_TIME:xxx}\n</code></pre>\n<p>Just put all you need under <code>info</code> section of the <code>application.yml</code></p>\n"},{"tags":[],"owner":{"account_id":1628102,"reputation":3602,"user_id":1503163,"display_name":"Sanjay Bharwani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700757015,"creation_date":1700757015,"answer_id":77538402,"question_id":64503501,"body_markdown":"Custom properties can be added to the `/actuator/info` response by implementing `InfoContributor`\r\n\r\n    @Component\r\n    public class CustomInfoContributor implements InfoContributor {\r\n    @Override\r\n      public void contribute(Info.Builder builder) {\r\n        builder.withDetails(Map.of(&quot;custom-prop-1&quot;, &quot;custom-value-1&quot;));\r\n      }\r\n    }\r\n\r\nThis will expose a new field and value in actuator/info response.\r\nThis structure can be a complex map of map as well.\r\n\r\nfor e.g. \r\n\r\n \r\n\r\n    @Component\r\n        public class CustomInfoContributor implements InfoContributor {\r\n        @Override\r\n          public void contribute(Info.Builder builder) {\r\n            builder.withDetails(Map.of(&quot;custom-props&quot;, Map.of(&quot;custom-prop-1&quot;,&quot;custom-val-1&quot;,&quot;custom-prop-2&quot;, &quot;custom-val-2&quot;));\r\n          }\r\n        }\r\n\r\nThis will expose additional structure as below\r\n\r\n    &quot;custom-props&quot;: {\r\n    &quot;custom-prop-1&quot;: &quot;custom-val-1&quot;,\r\n    &quot;custom-prop-2&quot;:&quot;custom-val-2&quot;\r\n    }\r\n\r\n","title":"Custom health actuator properties","body":"<p>Custom properties can be added to the <code>/actuator/info</code> response by implementing <code>InfoContributor</code></p>\n<pre><code>@Component\npublic class CustomInfoContributor implements InfoContributor {\n@Override\n  public void contribute(Info.Builder builder) {\n    builder.withDetails(Map.of(&quot;custom-prop-1&quot;, &quot;custom-value-1&quot;));\n  }\n}\n</code></pre>\n<p>This will expose a new field and value in actuator/info response.\nThis structure can be a complex map of map as well.</p>\n<p>for e.g.</p>\n<pre><code>@Component\n    public class CustomInfoContributor implements InfoContributor {\n    @Override\n      public void contribute(Info.Builder builder) {\n        builder.withDetails(Map.of(&quot;custom-props&quot;, Map.of(&quot;custom-prop-1&quot;,&quot;custom-val-1&quot;,&quot;custom-prop-2&quot;, &quot;custom-val-2&quot;));\n      }\n    }\n</code></pre>\n<p>This will expose additional structure as below</p>\n<pre><code>&quot;custom-props&quot;: {\n&quot;custom-prop-1&quot;: &quot;custom-val-1&quot;,\n&quot;custom-prop-2&quot;:&quot;custom-val-2&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":9828070,"reputation":59,"user_id":7280680,"accept_rate":40,"display_name":"Nas Sim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700757015,"creation_date":1603469031,"question_id":64503501,"body_markdown":"I&#39;m working in java **springBoot** application **v 1.5.3**\r\ni added **health actuator** and is working fine.\r\nwhat i need to do is costomise status properties and put an other **properties name** like in the picture.\r\nSo i put for example globalStatus in place of status\r\nDoes any one have an idea how it should be done\r\n\r\nthanks!\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N84y3.png","title":"Custom health actuator properties","body":"<p>I'm working in java <strong>springBoot</strong> application <strong>v 1.5.3</strong>\ni added <strong>health actuator</strong> and is working fine.\nwhat i need to do is costomise status properties and put an other <strong>properties name</strong> like in the picture.\nSo i put for example globalStatus in place of status\nDoes any one have an idea how it should be done</p>\n<p>thanks!</p>\n<p><a href=\"https://i.stack.imgur.com/N84y3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N84y3.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","android-studio","payment-gateway","phonepe"],"comments":[{"owner":{"account_id":369824,"reputation":1540,"user_id":717417,"accept_rate":100,"display_name":"santosh-patil"},"score":0,"creation_date":1700730356,"post_id":77534388,"comment_id":136691060,"body_markdown":"Please share the error response you&#39;re getting","body":"Please share the error response you&#39;re getting"}],"owner":{"account_id":29823981,"reputation":57,"user_id":22856447,"display_name":"Mr. Programmer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700756540,"creation_date":1700714492,"question_id":77534388,"body_markdown":"I am implementing PhonePe Payment Gateway inside my application, but its displays toast Payment Cancelled always whenever I run my application. I am using Android Studio with Java as backend. Here is my code:\r\n\r\n    private void payUsingPhonePe() throws PhonePeInitException {\r\n        String MERCHANT_ID = &quot;MERCHANTUAT&quot;;\r\n        String salt = &quot;a6334ff7-da0e-4d51-a9ce-76b97d518b1e&quot;;\r\n        String apiEndPoint = &quot;/pg/v1/pay&quot;;\r\n        PhonePe.init(Checkout.this, PhonePeEnvironment.RELEASE, MERCHANT_ID, &quot;com.igcshop.igc&quot;);\r\n        HashMap&lt;String, Object&gt; data = new HashMap&lt;&gt;();\r\n        data.put(&quot;merchantId&quot;, MERCHANT_ID);\r\n        data.put(&quot;merchantTransactionId&quot;, orderId);\r\n        data.put(&quot;merchantUserId&quot;, custID);\r\n        data.put(&quot;amount&quot;, total * 100);\r\n        data.put(&quot;mobileNumber&quot;, phone);\r\n        data.put(&quot;callbackUrl&quot;, &quot;https://webhook.site/callback-url&quot;);\r\n        HashMap&lt;String, Object&gt; paymentInstrument = new HashMap&lt;&gt;();\r\n        paymentInstrument.put(&quot;type&quot;, &quot;UPI_INTENT&quot;);\r\n        paymentInstrument.put(&quot;targetApp&quot;, &quot;com.phonepe.app&quot;);\r\n        data.put(&quot;paymentInstrument&quot;, paymentInstrument);\r\n        HashMap&lt;String, Object&gt; deviceContext = new HashMap&lt;&gt;();\r\n        deviceContext.put(&quot;deviceOS&quot;, &quot;ANDROID&quot;);\r\n        data.put(&quot;deviceContext&quot;, deviceContext);\r\n        String payloadBase64 = convertDataToBase64(data);\r\n        String checksum = generateChecksum(payloadBase64, apiEndPoint, salt);\r\n        B2BPGRequest b2BPGRequest = new B2BPGRequestBuilder()\r\n                .setData(Objects.requireNonNull(payloadBase64))\r\n                .setChecksum(Objects.requireNonNull(checksum))\r\n                .setUrl(apiEndPoint)\r\n                .build();\r\n        List&lt;UPIApplicationInfo&gt; upiApps = PhonePe.getUpiApps();\r\n        startActivityForResult(PhonePe.getImplicitIntent(this, b2BPGRequest, upiApps.toString()), 777);\r\n    }\r\n\r\n    public static String convertDataToBase64(HashMap&lt;String, Object&gt; data) {\r\n        try {\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            String jsonString = objectMapper.writeValueAsString(data);\r\n            byte[] base64Bytes = Base64.encode(jsonString.getBytes(), Base64.DEFAULT);\r\n            return new String(base64Bytes);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n\r\n    public static String generateChecksum(String payloadBase64, String apiEndPoint, String salt) {\r\n        try {\r\n            String dataToHash = payloadBase64 + apiEndPoint + salt;\r\n            MessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n            md.update(dataToHash.getBytes());\r\n            byte[] byteData = md.digest();\r\n            StringBuilder checksumBuilder = new StringBuilder();\r\n            for (byte b : byteData) {\r\n                checksumBuilder.append(String.format(&quot;%02x&quot;, b));\r\n            }\r\n            return checksumBuilder + &quot;###1&quot;;\r\n        } catch (NoSuchAlgorithmException e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        String result = null;\r\n        if (data != null) {\r\n            result = data.getStringExtra(&quot;key_txn_result&quot;);\r\n            if (data.getExtras() != null &amp;&amp; data.getExtras().keySet().size() &gt; 0) {\r\n                Log.i(TAG, &quot;result has extras&quot;);\r\n                for (String key : data.getExtras().keySet()) {\r\n                    Log.i(TAG, key + &quot; = &quot; + data.getExtras().get(key));\r\n                }\r\n            } else {\r\n                Log.i(TAG, &quot;result has 0 extras&quot;);\r\n            }\r\n        }\r\n        if (resultCode != Activity.RESULT_CANCELED) {\r\n            Toast.makeText(this, &quot;Result: &quot; + result, Toast.LENGTH_SHORT).show();\r\n        } else {\r\n            if (requestCode == 777 &amp;&amp; data != null &amp;&amp; data.getExtras().containsKey(&quot;key_error_result&quot;))\r\n                result = data.getStringExtra(&quot;key_error_result&quot;);\r\n            Toast.makeText(this, &quot;Failed: &quot; + result, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\nPlease look the above code and let me know what could be possible reason of getting such error.","title":"PhonePe Payment Gateway Not Working Inside Java Android","body":"<p>I am implementing PhonePe Payment Gateway inside my application, but its displays toast Payment Cancelled always whenever I run my application. I am using Android Studio with Java as backend. Here is my code:</p>\n<pre><code>private void payUsingPhonePe() throws PhonePeInitException {\n    String MERCHANT_ID = &quot;MERCHANTUAT&quot;;\n    String salt = &quot;a6334ff7-da0e-4d51-a9ce-76b97d518b1e&quot;;\n    String apiEndPoint = &quot;/pg/v1/pay&quot;;\n    PhonePe.init(Checkout.this, PhonePeEnvironment.RELEASE, MERCHANT_ID, &quot;com.igcshop.igc&quot;);\n    HashMap&lt;String, Object&gt; data = new HashMap&lt;&gt;();\n    data.put(&quot;merchantId&quot;, MERCHANT_ID);\n    data.put(&quot;merchantTransactionId&quot;, orderId);\n    data.put(&quot;merchantUserId&quot;, custID);\n    data.put(&quot;amount&quot;, total * 100);\n    data.put(&quot;mobileNumber&quot;, phone);\n    data.put(&quot;callbackUrl&quot;, &quot;https://webhook.site/callback-url&quot;);\n    HashMap&lt;String, Object&gt; paymentInstrument = new HashMap&lt;&gt;();\n    paymentInstrument.put(&quot;type&quot;, &quot;UPI_INTENT&quot;);\n    paymentInstrument.put(&quot;targetApp&quot;, &quot;com.phonepe.app&quot;);\n    data.put(&quot;paymentInstrument&quot;, paymentInstrument);\n    HashMap&lt;String, Object&gt; deviceContext = new HashMap&lt;&gt;();\n    deviceContext.put(&quot;deviceOS&quot;, &quot;ANDROID&quot;);\n    data.put(&quot;deviceContext&quot;, deviceContext);\n    String payloadBase64 = convertDataToBase64(data);\n    String checksum = generateChecksum(payloadBase64, apiEndPoint, salt);\n    B2BPGRequest b2BPGRequest = new B2BPGRequestBuilder()\n            .setData(Objects.requireNonNull(payloadBase64))\n            .setChecksum(Objects.requireNonNull(checksum))\n            .setUrl(apiEndPoint)\n            .build();\n    List&lt;UPIApplicationInfo&gt; upiApps = PhonePe.getUpiApps();\n    startActivityForResult(PhonePe.getImplicitIntent(this, b2BPGRequest, upiApps.toString()), 777);\n}\n\npublic static String convertDataToBase64(HashMap&lt;String, Object&gt; data) {\n    try {\n        ObjectMapper objectMapper = new ObjectMapper();\n        String jsonString = objectMapper.writeValueAsString(data);\n        byte[] base64Bytes = Base64.encode(jsonString.getBytes(), Base64.DEFAULT);\n        return new String(base64Bytes);\n    } catch (IOException e) {\n        e.printStackTrace();\n        return null;\n    }\n}\n\npublic static String generateChecksum(String payloadBase64, String apiEndPoint, String salt) {\n    try {\n        String dataToHash = payloadBase64 + apiEndPoint + salt;\n        MessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;);\n        md.update(dataToHash.getBytes());\n        byte[] byteData = md.digest();\n        StringBuilder checksumBuilder = new StringBuilder();\n        for (byte b : byteData) {\n            checksumBuilder.append(String.format(&quot;%02x&quot;, b));\n        }\n        return checksumBuilder + &quot;###1&quot;;\n    } catch (NoSuchAlgorithmException e) {\n        e.printStackTrace();\n        return null;\n    }\n}\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    String result = null;\n    if (data != null) {\n        result = data.getStringExtra(&quot;key_txn_result&quot;);\n        if (data.getExtras() != null &amp;&amp; data.getExtras().keySet().size() &gt; 0) {\n            Log.i(TAG, &quot;result has extras&quot;);\n            for (String key : data.getExtras().keySet()) {\n                Log.i(TAG, key + &quot; = &quot; + data.getExtras().get(key));\n            }\n        } else {\n            Log.i(TAG, &quot;result has 0 extras&quot;);\n        }\n    }\n    if (resultCode != Activity.RESULT_CANCELED) {\n        Toast.makeText(this, &quot;Result: &quot; + result, Toast.LENGTH_SHORT).show();\n    } else {\n        if (requestCode == 777 &amp;&amp; data != null &amp;&amp; data.getExtras().containsKey(&quot;key_error_result&quot;))\n            result = data.getStringExtra(&quot;key_error_result&quot;);\n        Toast.makeText(this, &quot;Failed: &quot; + result, Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n<p>Please look the above code and let me know what could be possible reason of getting such error.</p>\n"},{"tags":["java","spring-security","oauth-2.0","openid"],"comments":[{"owner":{"account_id":2064278,"reputation":13118,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":3,"creation_date":1700757331,"post_id":77538290,"comment_id":136696077,"body_markdown":"It would help if you showed the code you currently have in your spring auth server, and what you have tried that didnt work, and what error you got when trying. Stack overflow is not a development team where you place orders on features.","body":"It would help if you showed the code you currently have in your spring auth server, and what you have tried that didnt work, and what error you got when trying. Stack overflow is not a development team where you place orders on features."}],"owner":{"account_id":17523454,"reputation":1,"user_id":12708997,"display_name":"Dilz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":0,"score":-3,"last_activity_date":1700755916,"creation_date":1700755916,"question_id":77538290,"body_markdown":"I have a Spring OAuth server and a resource server that use opaque tokens as access token. I need to customize my introspection endpoint to include authorities in it\r\n\r\nMy expectation is something\r\n\r\nfrom \r\n```\r\n{\r\n    &quot;active&quot;: true,\r\n    &quot;sub&quot;: &quot;test&quot;,\r\n    &quot;aud&quot;: [\r\n        &quot;client&quot;\r\n    ],\r\n    &quot;nbf&quot;: 1700750571,\r\n    &quot;scope&quot;: &quot;openid&quot;,\r\n    &quot;iss&quot;: &quot;http://localhost:8080&quot;,\r\n    &quot;exp&quot;: 1700836971,\r\n    &quot;iat&quot;: 1700750571,\r\n    &quot;jti&quot;: &quot;4871af52-5d28-4e08-94d1-963c4a940c15&quot;,\r\n    &quot;client_id&quot;: &quot;client&quot;,\r\n    &quot;token_type&quot;: &quot;Bearer&quot;\r\n}\r\n```\r\nto like\r\n\r\n```\r\n{\r\n    &quot;active&quot;: true,\r\n    &quot;sub&quot;: &quot;test&quot;,\r\n    &quot;aud&quot;: [\r\n        &quot;client&quot;\r\n    ],\r\n    &quot;nbf&quot;: 1700750571,\r\n    &quot;scope&quot;: &quot;openid&quot;,\r\n    &quot;iss&quot;: &quot;http://localhost:8080&quot;,\r\n    &quot;exp&quot;: 1700836971,\r\n    &quot;iat&quot;: 1700750571,\r\n    &quot;jti&quot;: &quot;4871af52-5d28-4e08-94d1-963c4a940c15&quot;,\r\n    &quot;client_id&quot;: &quot;client&quot;,\r\n    &quot;token_type&quot;: &quot;Bearer&quot;,\r\n    **&quot;Authorities&quot; : [&quot;READ&quot;,&quot;WRITE&quot;]**\r\n}\r\n```\r\n\r\nplease advice me on how to archive that","title":"How to add custom authorities to the opaque token in Spring OAuth Server","body":"<p>I have a Spring OAuth server and a resource server that use opaque tokens as access token. I need to customize my introspection endpoint to include authorities in it</p>\n<p>My expectation is something</p>\n<p>from</p>\n<pre><code>{\n    &quot;active&quot;: true,\n    &quot;sub&quot;: &quot;test&quot;,\n    &quot;aud&quot;: [\n        &quot;client&quot;\n    ],\n    &quot;nbf&quot;: 1700750571,\n    &quot;scope&quot;: &quot;openid&quot;,\n    &quot;iss&quot;: &quot;http://localhost:8080&quot;,\n    &quot;exp&quot;: 1700836971,\n    &quot;iat&quot;: 1700750571,\n    &quot;jti&quot;: &quot;4871af52-5d28-4e08-94d1-963c4a940c15&quot;,\n    &quot;client_id&quot;: &quot;client&quot;,\n    &quot;token_type&quot;: &quot;Bearer&quot;\n}\n</code></pre>\n<p>to like</p>\n<pre><code>{\n    &quot;active&quot;: true,\n    &quot;sub&quot;: &quot;test&quot;,\n    &quot;aud&quot;: [\n        &quot;client&quot;\n    ],\n    &quot;nbf&quot;: 1700750571,\n    &quot;scope&quot;: &quot;openid&quot;,\n    &quot;iss&quot;: &quot;http://localhost:8080&quot;,\n    &quot;exp&quot;: 1700836971,\n    &quot;iat&quot;: 1700750571,\n    &quot;jti&quot;: &quot;4871af52-5d28-4e08-94d1-963c4a940c15&quot;,\n    &quot;client_id&quot;: &quot;client&quot;,\n    &quot;token_type&quot;: &quot;Bearer&quot;,\n    **&quot;Authorities&quot; : [&quot;READ&quot;,&quot;WRITE&quot;]**\n}\n</code></pre>\n<p>please advice me on how to archive that</p>\n"},{"tags":["java","concurrency"],"comments":[{"owner":{"account_id":5783887,"reputation":3326,"user_id":4563745,"accept_rate":80,"display_name":"Vasiliy Vlasov"},"score":1,"creation_date":1497784278,"post_id":44614323,"comment_id":76215067,"body_markdown":"Probably this could be an example: https://stackoverflow.com/a/1084124/4563745","body":"Probably this could be an example: <a href=\"https://stackoverflow.com/a/1084124/4563745\">stackoverflow.com/a/1084124/4563745</a>"},{"owner":{"account_id":8153345,"reputation":396,"user_id":6139703,"accept_rate":75,"display_name":"agienka"},"score":0,"creation_date":1497785169,"post_id":44614323,"comment_id":76215297,"body_markdown":"Ok, this is nice use case, but I still don&#39;t understand what is wrong with such escaping reference - even if I&#39;d do ThisEscape.this.doSomething(); from within anonymous implementation, &#39;this&#39; still stays visible within ThisEscape only.","body":"Ok, this is nice use case, but I still don&#39;t understand what is wrong with such escaping reference - even if I&#39;d do ThisEscape.this.doSomething(); from within anonymous implementation, &#39;this&#39; still stays visible within ThisEscape only."},{"owner":{"account_id":123958,"reputation":109285,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"score":0,"creation_date":1497785668,"post_id":44614323,"comment_id":76215426,"body_markdown":"The event source can send events before ThisEscape constructor has finished. The events will be processed with the object in an unpredictable state.","body":"The event source can send events before ThisEscape constructor has finished. The events will be processed with the object in an unpredictable state."},{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":0,"creation_date":1497787399,"post_id":44614323,"comment_id":76215841,"body_markdown":"Possible duplicate of [Allowing the this reference to escape](https://stackoverflow.com/questions/20474521/allowing-the-this-reference-to-escape)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/20474521/allowing-the-this-reference-to-escape\">Allowing the this reference to escape</a>"},{"owner":{"account_id":8153345,"reputation":396,"user_id":6139703,"accept_rate":75,"display_name":"agienka"},"score":0,"creation_date":1497814814,"post_id":44614323,"comment_id":76223561,"body_markdown":"I found another great explanation for the same issue: https://stackoverflow.com/questions/28676796/how-does-this-reference-to-an-outer-class-escape-through-publishing-inner-clas?rq=1","body":"I found another great explanation for the same issue: <a href=\"https://stackoverflow.com/questions/28676796/how-does-this-reference-to-an-outer-class-escape-through-publishing-inner-clas?rq=1\" title=\"how does this reference to an outer class escape through publishing inner clas\">stackoverflow.com/questions/28676796/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2533222,"reputation":4782,"user_id":2201050,"display_name":"folkol"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1497785766,"creation_date":1497785766,"answer_id":44614554,"question_id":44614323,"body_markdown":"The problem with escaping this references is that code in other threads might start interacting with the object before the constructor is finished constructing it.\r\n\r\nConsider this example:\r\n\r\n    public class ThisEscape\r\n    {\r\n        Foo foo;\r\n        public ThisEscape(EventSource source) {\r\n            source.registerListener(new EventListener()\r\n            {\r\n                public void onEvent(Event e) {\r\n                    doSomething(e);\r\n                }\r\n            });\r\n\r\n            // Possible Thread Context switch\r\n\r\n            // More important initialization\r\n            foo = new Foo();\r\n        }\r\n\r\n        public void doSomething(Event e) {\r\n            // Might throw NullPointerException, by being invoked\r\n            // through the EventListener before foo is initialized\r\n            foo.bar();\r\n        }\r\n    }\r\n\r\n","title":"Java escaping reference to &#39;this&#39;","body":"<p>The problem with escaping this references is that code in other threads might start interacting with the object before the constructor is finished constructing it.</p>\n\n<p>Consider this example:</p>\n\n<pre><code>public class ThisEscape\n{\n    Foo foo;\n    public ThisEscape(EventSource source) {\n        source.registerListener(new EventListener()\n        {\n            public void onEvent(Event e) {\n                doSomething(e);\n            }\n        });\n\n        // Possible Thread Context switch\n\n        // More important initialization\n        foo = new Foo();\n    }\n\n    public void doSomething(Event e) {\n        // Might throw NullPointerException, by being invoked\n        // through the EventListener before foo is initialized\n        foo.bar();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13259968,"reputation":25,"user_id":9574849,"display_name":"Flamer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700755664,"creation_date":1700755664,"answer_id":77538272,"question_id":44614323,"body_markdown":"I also encounter this problem.Then I lookup the [whole code from the official site][1].You will understand naturally.The whole `ThisEscape` class looks like this:\r\n\r\n```\r\npackage net.jcip.examples;\r\n\r\n/**\r\n * ThisEscape\r\n * &lt;p/&gt;\r\n * Implicitly allowing the this reference to escape\r\n *\r\n * @author Brian Goetz and Tim Peierls\r\n */\r\npublic class ThisEscape {\r\n    public ThisEscape(EventSource source) {\r\n        source.registerListener(new EventListener() {\r\n            public void onEvent(Event e) {\r\n                doSomething(e);\r\n            }\r\n        });\r\n    }\r\n\r\n    void doSomething(Event e) {\r\n    }\r\n\r\n\r\n    interface EventSource {\r\n        void registerListener(EventListener e);\r\n    }\r\n\r\n    interface EventListener {\r\n        void onEvent(Event e);\r\n    }\r\n\r\n    interface Event {\r\n    }\r\n}\r\n```\r\n\r\nNotice that the `doSomething` method is part of the `ThisEscape` class, which means that another thread could potentially access the object through the `this` reference before the object has finished constructing itself.\r\n\r\n  [1]: https://jcip.net/listings/ThisEscape.java","title":"Java escaping reference to &#39;this&#39;","body":"<p>I also encounter this problem.Then I lookup the <a href=\"https://jcip.net/listings/ThisEscape.java\" rel=\"nofollow noreferrer\">whole code from the official site</a>.You will understand naturally.The whole <code>ThisEscape</code> class looks like this:</p>\n<pre><code>package net.jcip.examples;\n\n/**\n * ThisEscape\n * &lt;p/&gt;\n * Implicitly allowing the this reference to escape\n *\n * @author Brian Goetz and Tim Peierls\n */\npublic class ThisEscape {\n    public ThisEscape(EventSource source) {\n        source.registerListener(new EventListener() {\n            public void onEvent(Event e) {\n                doSomething(e);\n            }\n        });\n    }\n\n    void doSomething(Event e) {\n    }\n\n\n    interface EventSource {\n        void registerListener(EventListener e);\n    }\n\n    interface EventListener {\n        void onEvent(Event e);\n    }\n\n    interface Event {\n    }\n}\n</code></pre>\n<p>Notice that the <code>doSomething</code> method is part of the <code>ThisEscape</code> class, which means that another thread could potentially access the object through the <code>this</code> reference before the object has finished constructing itself.</p>\n"}],"owner":{"account_id":8153345,"reputation":396,"user_id":6139703,"accept_rate":75,"display_name":"agienka"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":757,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":44614554,"answer_count":2,"score":6,"last_activity_date":1700755664,"creation_date":1497783939,"question_id":44614323,"body_markdown":"I started reading [Java Concurrency in Practice][1] and I came across the following example (this is a negative example - shows bad practice):\r\n\r\n    public class ThisEscape {\r\n        public ThisEscape(EventSource source) {\r\n            source.registerListener(new EventListener() {\r\n                public void onEvent(Event e) {\r\n                    doSomething(e);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nThe author in the book writes:\r\n\r\n&gt; When ThisEscape publishes the EventListener, it implicitly publishes the enclosing ThisEscape instance as well, because inner class instances contain a hidden reference to the enclosing instance.\r\n\r\nWhen I think about the usage of such code, I could do something like so:\r\n\r\n    EventSource eventSource = new EventSource();\r\n    ThisEscape thisEscape = new ThisEscape(eventSource);\r\n\r\nand I can get the reference to the registered EventListener, but what does it mean that I could obtain the reference to the enclosing ThisEscape instance?\r\n\r\nCould someone give me an example of such a behaviour? What is the use case?\r\n\r\n\r\n  [1]: https://books.google.pl/books?id=EK43StEVfJIC","title":"Java escaping reference to &#39;this&#39;","body":"<p>I started reading <a href=\"https://books.google.pl/books?id=EK43StEVfJIC\" rel=\"noreferrer\">Java Concurrency in Practice</a> and I came across the following example (this is a negative example - shows bad practice):</p>\n\n<pre><code>public class ThisEscape {\n    public ThisEscape(EventSource source) {\n        source.registerListener(new EventListener() {\n            public void onEvent(Event e) {\n                doSomething(e);\n            }\n        });\n    }\n}\n</code></pre>\n\n<p>The author in the book writes:</p>\n\n<blockquote>\n  <p>When ThisEscape publishes the EventListener, it implicitly publishes the enclosing ThisEscape instance as well, because inner class instances contain a hidden reference to the enclosing instance.</p>\n</blockquote>\n\n<p>When I think about the usage of such code, I could do something like so:</p>\n\n<pre><code>EventSource eventSource = new EventSource();\nThisEscape thisEscape = new ThisEscape(eventSource);\n</code></pre>\n\n<p>and I can get the reference to the registered EventListener, but what does it mean that I could obtain the reference to the enclosing ThisEscape instance?</p>\n\n<p>Could someone give me an example of such a behaviour? What is the use case?</p>\n"},{"tags":["java","java-11","java-http-client"],"comments":[{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":4,"creation_date":1540478466,"post_id":52988677,"comment_id":92889249,"body_markdown":"You need to instantiate an `SSLContext` that is going to ignore the bad certs, then use that to build the connection.","body":"You need to instantiate an <code>SSLContext</code> that is going to ignore the bad certs, then use that to build the connection."}],"answers":[{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":2,"up_vote_count":22,"is_accepted":true,"score":20,"last_activity_date":1542382047,"creation_date":1540490252,"answer_id":52995420,"question_id":52988677,"body_markdown":"With Java 11, as well you can do a similar effort [as mentioned in the selected answer in the link shared](https://stackoverflow.com/a/1201102/1746118) with the `HttpClient` built as:\r\n\r\n       \r\n\r\n    HttpClient httpClient = HttpClient.newBuilder()\r\n            .connectTimeout(Duration.ofMillis(&lt;timeoutInSeconds&gt; * 1000))\r\n            .sslContext(sc) // SSL context &#39;sc&#39; initialised as earlier\r\n            .sslParameters(parameters) // ssl parameters if overriden\r\n            .build();\r\n\r\nwith a sample request\r\n\r\n    HttpRequest requestBuilder = HttpRequest.newBuilder()\r\n                .uri(URI.create(&quot;https://www.example.com/getSomething&quot;))\r\n                .GET()\r\n                .build();\r\n\r\ncan be executed as:\r\n\r\n    httpClient.send(requestBuilder, HttpResponse.BodyHandlers.ofString()); // sends the request\r\n\r\n\r\n----------\r\n\r\nUpdate from comments, to disable the hostname verification, currently one can use the system property: \r\n\r\n    -Djdk.internal.httpclient.disableHostnameVerification\r\n\r\n\r\nwhich can be [set programmatically](https://stackoverflow.com/questions/52988677/allow-insecure-https-connection-for-java-jdk-11-httpclient/52995420?noredirect=1#comment93560348_52995420) as following :-\r\n\r\n    final Properties props = System.getProperties(); \r\n    props.setProperty(&quot;jdk.internal.httpclient.disableHostnameVerification&quot;, Boolean.TRUE.toString());","title":"Allow insecure HTTPS connection for Java JDK 11 HttpClient","body":"<p>With Java 11, as well you can do a similar effort <a href=\"https://stackoverflow.com/a/1201102/1746118\">as mentioned in the selected answer in the link shared</a> with the <code>HttpClient</code> built as:</p>\n\n<pre><code>HttpClient httpClient = HttpClient.newBuilder()\n        .connectTimeout(Duration.ofMillis(&lt;timeoutInSeconds&gt; * 1000))\n        .sslContext(sc) // SSL context 'sc' initialised as earlier\n        .sslParameters(parameters) // ssl parameters if overriden\n        .build();\n</code></pre>\n\n<p>with a sample request</p>\n\n<pre><code>HttpRequest requestBuilder = HttpRequest.newBuilder()\n            .uri(URI.create(\"https://www.example.com/getSomething\"))\n            .GET()\n            .build();\n</code></pre>\n\n<p>can be executed as:</p>\n\n<pre><code>httpClient.send(requestBuilder, HttpResponse.BodyHandlers.ofString()); // sends the request\n</code></pre>\n\n<hr>\n\n<p>Update from comments, to disable the hostname verification, currently one can use the system property: </p>\n\n<pre><code>-Djdk.internal.httpclient.disableHostnameVerification\n</code></pre>\n\n<p>which can be <a href=\"https://stackoverflow.com/questions/52988677/allow-insecure-https-connection-for-java-jdk-11-httpclient/52995420?noredirect=1#comment93560348_52995420\">set programmatically</a> as following :-</p>\n\n<pre><code>final Properties props = System.getProperties(); \nprops.setProperty(\"jdk.internal.httpclient.disableHostnameVerification\", Boolean.TRUE.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6699714,"reputation":311,"user_id":5166651,"display_name":"louisburgh"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1540998607,"creation_date":1540998607,"answer_id":53086587,"question_id":52988677,"body_markdown":"As suggested already you need an SSLContext which ignores the bad certificates. The exact code which obtains the SSLContext in one of the links in the question should work by basically creating a null TrustManager which doesn&#39;t look at the certs:\r\n\r\n    private static TrustManager[] trustAllCerts = new TrustManager[]{\r\n        new X509TrustManager() {\r\n            public java.security.cert.X509Certificate[] getAcceptedIssuers() {\r\n                return null;\r\n            }\r\n            public void checkClientTrusted(\r\n                java.security.cert.X509Certificate[] certs, String authType) {\r\n            }\r\n            public void checkServerTrusted(\r\n                java.security.cert.X509Certificate[] certs, String authType) {\r\n            }\r\n        }\r\n    };\r\n\r\n    public static  void main (String[] args) throws Exception {\r\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n        sslContext.init(null, trustAllCerts, new SecureRandom());\r\n\r\n        HttpClient client = HttpClient.newBuilder()\r\n            .sslContext(sslContext)\r\n            .build();\r\n\r\nThe problem with the above is obviously that server authentication is disabled completely for all sites. If there were only one bad certificate then you could import it into a keystore with:\r\n\r\n    keytool -importcert -keystore keystorename -storepass pass -alias cert -file certfile\r\n\r\nand then initialize the SSLContext using an InputStream reading the keystore as follows:\r\n\r\n    char[] passphrase = ..\r\n    KeyStore ks = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n    ks.load(i, passphrase); // i is an InputStream reading the keystore\r\n\r\n    KeyManagerFactory kmf = KeyManagerFactory.getInstance(&quot;PKIX&quot;);\r\n    kmf.init(ks, passphrase);\r\n\r\n    TrustManagerFactory tmf = TrustManagerFactory.getInstance(&quot;PKIX&quot;);\r\n    tmf.init(ks);\r\n\r\n    sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n    sslContext.init(kmf.getKeyManagers(), tmf.getTrustManagers(), null);\r\n\r\nEither of the above solutions will work for a self-signed certificate. A third option is in the case where the server provides a valid, non self-signed certificate but for a host which does not match any of the names in the certificate it provides, then a system property  &quot;jdk.internal.httpclient.disableHostnameVerification&quot; can be set to &quot;true&quot; and this will force the certificate to be accepted in the same way that the HostnameVerifier API was used previously. Note, that in normal deployments it isn&#39;t expected that any of these mechanisms would be used, as it should be possible to automatically verify the certificate supplied by any correctly configured HTTPS server.\r\n","title":"Allow insecure HTTPS connection for Java JDK 11 HttpClient","body":"<p>As suggested already you need an SSLContext which ignores the bad certificates. The exact code which obtains the SSLContext in one of the links in the question should work by basically creating a null TrustManager which doesn't look at the certs:</p>\n\n<pre><code>private static TrustManager[] trustAllCerts = new TrustManager[]{\n    new X509TrustManager() {\n        public java.security.cert.X509Certificate[] getAcceptedIssuers() {\n            return null;\n        }\n        public void checkClientTrusted(\n            java.security.cert.X509Certificate[] certs, String authType) {\n        }\n        public void checkServerTrusted(\n            java.security.cert.X509Certificate[] certs, String authType) {\n        }\n    }\n};\n\npublic static  void main (String[] args) throws Exception {\n    SSLContext sslContext = SSLContext.getInstance(\"TLS\");\n    sslContext.init(null, trustAllCerts, new SecureRandom());\n\n    HttpClient client = HttpClient.newBuilder()\n        .sslContext(sslContext)\n        .build();\n</code></pre>\n\n<p>The problem with the above is obviously that server authentication is disabled completely for all sites. If there were only one bad certificate then you could import it into a keystore with:</p>\n\n<pre><code>keytool -importcert -keystore keystorename -storepass pass -alias cert -file certfile\n</code></pre>\n\n<p>and then initialize the SSLContext using an InputStream reading the keystore as follows:</p>\n\n<pre><code>char[] passphrase = ..\nKeyStore ks = KeyStore.getInstance(\"PKCS12\");\nks.load(i, passphrase); // i is an InputStream reading the keystore\n\nKeyManagerFactory kmf = KeyManagerFactory.getInstance(\"PKIX\");\nkmf.init(ks, passphrase);\n\nTrustManagerFactory tmf = TrustManagerFactory.getInstance(\"PKIX\");\ntmf.init(ks);\n\nsslContext = SSLContext.getInstance(\"TLS\");\nsslContext.init(kmf.getKeyManagers(), tmf.getTrustManagers(), null);\n</code></pre>\n\n<p>Either of the above solutions will work for a self-signed certificate. A third option is in the case where the server provides a valid, non self-signed certificate but for a host which does not match any of the names in the certificate it provides, then a system property  \"jdk.internal.httpclient.disableHostnameVerification\" can be set to \"true\" and this will force the certificate to be accepted in the same way that the HostnameVerifier API was used previously. Note, that in normal deployments it isn't expected that any of these mechanisms would be used, as it should be possible to automatically verify the certificate supplied by any correctly configured HTTPS server.</p>\n"},{"tags":[],"owner":{"account_id":23965940,"reputation":151,"user_id":17955445,"display_name":"Colin Chambers"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1687447470,"creation_date":1642425311,"answer_id":70741993,"question_id":52988677,"body_markdown":"Providing an X509TrustManager that does not do certificate verification (as in the answers above) is insufficient to disable hostname verification because the implementation of SSLContext &quot;wraps&quot; the provided X509TrustManager with an X509ExtendedTrustManager if it is not an X509ExtendedTrustManager.  The wrapping &quot;Extended&quot; X509ExtendedTrustManager performs hostname verification.\r\n\r\nA way to avoid hostname verification therefore is to provide an X509ExtendedTrustManager that does not do hostname verification.  This may be done as follows:\r\n\r\n\r\n    import java.net.Socket;\r\n    import java.security.cert.X509Certificate;\r\n    import javax.net.ssl.SSLContext;\r\n    import javax.net.ssl.SSLEngine;\r\n    import javax.net.ssl.TrustManager;\r\n    import javax.net.ssl.X509ExtendedTrustManager;\r\n\r\n    SSLContext context = SSLContext.getInstance(&quot;TLS&quot;);\r\n    context.init(\r\n        null,\r\n        new TrustManager[]\r\n        {\r\n            new X509ExtendedTrustManager()\r\n            {\r\n                public X509Certificate[] getAcceptedIssuers()\r\n                {\r\n                    return null;\r\n                }\r\n\r\n                public void checkClientTrusted(\r\n                    final X509Certificate[] a_certificates,\r\n                    final String a_auth_type)\r\n                {\r\n                }\r\n\r\n                public void checkServerTrusted(\r\n                    final X509Certificate[] a_certificates,\r\n                    final String a_auth_type)\r\n                {\r\n                }\r\n                public void checkClientTrusted(\r\n                    final X509Certificate[] a_certificates,\r\n                    final String a_auth_type,\r\n                    final Socket a_socket)\r\n                {\r\n                }\r\n                public void checkServerTrusted(\r\n                    final X509Certificate[] a_certificates,\r\n                    final String a_auth_type,\r\n                    final Socket a_socket)\r\n                {\r\n                }\r\n                public void checkClientTrusted(\r\n                    final X509Certificate[] a_certificates,\r\n                    final String a_auth_type,\r\n                    final SSLEngine a_engine)\r\n                {\r\n                }\r\n                public void checkServerTrusted(\r\n                    final X509Certificate[] a_certificates,\r\n                    final String a_auth_type,\r\n                    final SSLEngine a_engine)\r\n                {\r\n                }\r\n            }\r\n        },\r\n        null);\r\n    \r\n\r\nSupply this SSLContext to the HTTPClient.Builder in the usual way (as shown in earlier answers).\r\n\r\nThis method has the benefit of applying on a per HttpClient basis (i.e. not JVM-wide).\r\n\r\n","title":"Allow insecure HTTPS connection for Java JDK 11 HttpClient","body":"<p>Providing an X509TrustManager that does not do certificate verification (as in the answers above) is insufficient to disable hostname verification because the implementation of SSLContext &quot;wraps&quot; the provided X509TrustManager with an X509ExtendedTrustManager if it is not an X509ExtendedTrustManager.  The wrapping &quot;Extended&quot; X509ExtendedTrustManager performs hostname verification.</p>\n<p>A way to avoid hostname verification therefore is to provide an X509ExtendedTrustManager that does not do hostname verification.  This may be done as follows:</p>\n<pre><code>import java.net.Socket;\nimport java.security.cert.X509Certificate;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.SSLEngine;\nimport javax.net.ssl.TrustManager;\nimport javax.net.ssl.X509ExtendedTrustManager;\n\nSSLContext context = SSLContext.getInstance(&quot;TLS&quot;);\ncontext.init(\n    null,\n    new TrustManager[]\n    {\n        new X509ExtendedTrustManager()\n        {\n            public X509Certificate[] getAcceptedIssuers()\n            {\n                return null;\n            }\n\n            public void checkClientTrusted(\n                final X509Certificate[] a_certificates,\n                final String a_auth_type)\n            {\n            }\n\n            public void checkServerTrusted(\n                final X509Certificate[] a_certificates,\n                final String a_auth_type)\n            {\n            }\n            public void checkClientTrusted(\n                final X509Certificate[] a_certificates,\n                final String a_auth_type,\n                final Socket a_socket)\n            {\n            }\n            public void checkServerTrusted(\n                final X509Certificate[] a_certificates,\n                final String a_auth_type,\n                final Socket a_socket)\n            {\n            }\n            public void checkClientTrusted(\n                final X509Certificate[] a_certificates,\n                final String a_auth_type,\n                final SSLEngine a_engine)\n            {\n            }\n            public void checkServerTrusted(\n                final X509Certificate[] a_certificates,\n                final String a_auth_type,\n                final SSLEngine a_engine)\n            {\n            }\n        }\n    },\n    null);\n</code></pre>\n<p>Supply this SSLContext to the HTTPClient.Builder in the usual way (as shown in earlier answers).</p>\n<p>This method has the benefit of applying on a per HttpClient basis (i.e. not JVM-wide).</p>\n"},{"tags":[],"owner":{"account_id":23997392,"reputation":1,"user_id":17982750,"display_name":"cc company"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694532224,"creation_date":1694485325,"answer_id":77085734,"question_id":52988677,"body_markdown":"Before request: \r\n\r\n```java\r\nSystem.setProperty(&quot;jdk.internal.httpclient.disableHostnameVerification&quot;, &quot;true&quot;);\r\n```","title":"Allow insecure HTTPS connection for Java JDK 11 HttpClient","body":"<p>Before request:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.setProperty(&quot;jdk.internal.httpclient.disableHostnameVerification&quot;, &quot;true&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1810587,"reputation":1264,"user_id":1646741,"accept_rate":75,"display_name":"Sami Korhonen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700755604,"creation_date":1700753277,"answer_id":77538035,"question_id":52988677,"body_markdown":"Be aware, all the previous answers do more than just disable hostname verification. They disable certificate verification completely.\r\n\r\nWhile these solutions work perfectly for development environments, they are not something you want to ever use in production.\r\n\r\nHere&#39;s a solution that allows you to modify certificate in a way that you think is most suitable (e.g. replace SAN with another)\r\n\r\nFirst a class that is used to wrap default TrustManager to intercept calls:\r\n\r\n    public class TrustManagers {\r\n        /**\r\n         * Create {@link TrustManager} wrapper that disables certificate hostname validation\r\n         *\r\n         * @param tm trust manager\r\n         * @param altNames alternative subject names to allow\r\n         * @return requested trustmanager\r\n         */\r\n        public static TrustManager disableHostnameValidation(\r\n                TrustManager tm, Collection&lt;X509SubjectAltName&gt; altNames) {\r\n            if (tm instanceof X509ExtendedTrustManager x509tm) {\r\n                return new X509ExtendedTrustManager() {\r\n                    @Override\r\n                    public void checkServerTrusted(X509Certificate[] chain, String authType)\r\n                            throws CertificateException {\r\n                        x509tm.checkServerTrusted(modifySAN(chain), authType);\r\n                    }\r\n    \r\n                    @Override\r\n                    public void checkServerTrusted(\r\n                            X509Certificate[] chain, String authType, Socket socket)\r\n                            throws CertificateException {\r\n                        x509tm.checkServerTrusted(modifySAN(chain), authType, socket);\r\n                    }\r\n    \r\n                    @Override\r\n                    public void checkServerTrusted(\r\n                            X509Certificate[] chain, String authType, SSLEngine engine)\r\n                            throws CertificateException {\r\n                        x509tm.checkServerTrusted(modifySAN(chain), authType, engine);\r\n                    }\r\n    \r\n                    private X509Certificate[] modifySAN(X509Certificate[] chain) {\r\n                        if (chain.length &lt; 1) {\r\n                            return chain;\r\n                        }\r\n                        var result = new X509Certificate[chain.length];\r\n                        System.arraycopy(chain, 0, result, 0, chain.length);\r\n                        result[0] = new FixedSANX509Certificate(chain[0], altNames);\r\n                        return result;\r\n                    }\r\n    \r\n                    // only delegates below\r\n                    @Override\r\n                    public X509Certificate[] getAcceptedIssuers() {\r\n                        return x509tm.getAcceptedIssuers();\r\n                    }\r\n    \r\n                    @Override\r\n                    public void checkClientTrusted(X509Certificate[] chain, String authType)\r\n                            throws CertificateException {\r\n                        x509tm.checkClientTrusted(chain, authType);\r\n                    }\r\n    \r\n                    @Override\r\n                    public void checkClientTrusted(\r\n                            X509Certificate[] chain, String authType, Socket socket)\r\n                            throws CertificateException {\r\n                        x509tm.checkClientTrusted(chain, authType, socket);\r\n                    }\r\n    \r\n                    @Override\r\n                    public void checkClientTrusted(\r\n                            X509Certificate[] chain, String authType, SSLEngine engine)\r\n                            throws CertificateException {\r\n                        x509tm.checkClientTrusted(chain, authType);\r\n                    }\r\n                };\r\n            }\r\n            return tm;\r\n        }\r\n    }\r\n\r\nThen a class that allows you to modify certificate&#39;s contents. You are likely to be interested in SANs:\r\n\r\n    /**\r\n     * X509Certificate with subject alternative names (SAN) added to list of SANs in certificate. This\r\n     * effectively bypasses hostname validation, but allows other validations\r\n     */\r\n    @AllArgsConstructor\r\n    public class FixedSANX509Certificate extends X509Certificate {\r\n        private final X509Certificate cert;\r\n        private final Collection&lt;X509SubjectAltName&gt; altNames;\r\n    \r\n        @Override\r\n        public Collection&lt;List&lt;?&gt;&gt; getSubjectAlternativeNames() throws CertificateParsingException {\r\n            return Stream.concat(\r\n                            cert.getSubjectAlternativeNames().stream(),\r\n                            altNames.stream()\r\n                                    .flatMap(\r\n                                            altName -&gt;\r\n                                                    Stream.of(\r\n                                                            List.of(\r\n                                                                    altName.type().getCode(),\r\n                                                                    altName.value()))))\r\n                    .toList();\r\n        }\r\n    \r\n        // only delegates below\r\n        @Override\r\n        public boolean hasUnsupportedCriticalExtension() {\r\n            return cert.hasUnsupportedCriticalExtension();\r\n        }\r\n    \r\n        @Override\r\n        public Set&lt;String&gt; getCriticalExtensionOIDs() {\r\n            return cert.getCriticalExtensionOIDs();\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object other) {\r\n            return cert.equals(other);\r\n        }\r\n    \r\n        @Override\r\n        public Set&lt;String&gt; getNonCriticalExtensionOIDs() {\r\n            return cert.getNonCriticalExtensionOIDs();\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return cert.hashCode();\r\n        }\r\n    \r\n        @Override\r\n        public void checkValidity()\r\n                throws CertificateExpiredException, CertificateNotYetValidException {\r\n            cert.checkValidity();\r\n        }\r\n    \r\n        @Override\r\n        public byte[] getEncoded() throws CertificateEncodingException {\r\n            return cert.getEncoded();\r\n        }\r\n    \r\n        @Override\r\n        public void verify(PublicKey key)\r\n                throws CertificateException,\r\n                        NoSuchAlgorithmException,\r\n                        InvalidKeyException,\r\n                        NoSuchProviderException,\r\n                        SignatureException {\r\n            cert.verify(key);\r\n        }\r\n    \r\n        @Override\r\n        public void checkValidity(Date date)\r\n                throws CertificateExpiredException, CertificateNotYetValidException {\r\n            cert.checkValidity(date);\r\n        }\r\n    \r\n        @Override\r\n        public byte[] getExtensionValue(String oid) {\r\n            return cert.getExtensionValue(oid);\r\n        }\r\n    \r\n        @Override\r\n        public void verify(PublicKey key, String sigProvider)\r\n                throws CertificateException,\r\n                        NoSuchAlgorithmException,\r\n                        InvalidKeyException,\r\n                        NoSuchProviderException,\r\n                        SignatureException {\r\n            cert.verify(key, sigProvider);\r\n        }\r\n    \r\n        @Override\r\n        public int getVersion() {\r\n            return cert.getVersion();\r\n        }\r\n    \r\n        @Override\r\n        public BigInteger getSerialNumber() {\r\n            return cert.getSerialNumber();\r\n        }\r\n    \r\n        @Override\r\n        public Principal getIssuerDN() {\r\n            return cert.getIssuerDN();\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return cert.toString();\r\n        }\r\n    \r\n        @Override\r\n        public PublicKey getPublicKey() {\r\n            return cert.getPublicKey();\r\n        }\r\n    \r\n        @Override\r\n        public X500Principal getIssuerX500Principal() {\r\n            return cert.getIssuerX500Principal();\r\n        }\r\n    \r\n        @Override\r\n        public Principal getSubjectDN() {\r\n            return cert.getSubjectDN();\r\n        }\r\n    \r\n        @Override\r\n        public X500Principal getSubjectX500Principal() {\r\n            return cert.getSubjectX500Principal();\r\n        }\r\n    \r\n        @Override\r\n        public Date getNotBefore() {\r\n            return cert.getNotBefore();\r\n        }\r\n    \r\n        @Override\r\n        public Date getNotAfter() {\r\n            return cert.getNotAfter();\r\n        }\r\n    \r\n        @Override\r\n        public byte[] getTBSCertificate() throws CertificateEncodingException {\r\n            return cert.getTBSCertificate();\r\n        }\r\n    \r\n        @Override\r\n        public byte[] getSignature() {\r\n            return cert.getSignature();\r\n        }\r\n    \r\n        @Override\r\n        public String getSigAlgName() {\r\n            return cert.getSigAlgName();\r\n        }\r\n    \r\n        @Override\r\n        public String getSigAlgOID() {\r\n            return cert.getSigAlgOID();\r\n        }\r\n    \r\n        @Override\r\n        public byte[] getSigAlgParams() {\r\n            return cert.getSigAlgParams();\r\n        }\r\n    \r\n        @Override\r\n        public boolean[] getIssuerUniqueID() {\r\n            return cert.getIssuerUniqueID();\r\n        }\r\n    \r\n        @Override\r\n        public boolean[] getSubjectUniqueID() {\r\n            return cert.getSubjectUniqueID();\r\n        }\r\n    \r\n        @Override\r\n        public boolean[] getKeyUsage() {\r\n            return cert.getKeyUsage();\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;String&gt; getExtendedKeyUsage() throws CertificateParsingException {\r\n            return cert.getExtendedKeyUsage();\r\n        }\r\n    \r\n        @Override\r\n        public int getBasicConstraints() {\r\n            return cert.getBasicConstraints();\r\n        }\r\n    \r\n        @Override\r\n        public Collection&lt;List&lt;?&gt;&gt; getIssuerAlternativeNames() throws CertificateParsingException {\r\n            return cert.getIssuerAlternativeNames();\r\n        }\r\n    \r\n        @Override\r\n        public void verify(PublicKey key, Provider sigProvider)\r\n                throws CertificateException,\r\n                        NoSuchAlgorithmException,\r\n                        InvalidKeyException,\r\n                        SignatureException {\r\n            cert.verify(key, sigProvider);\r\n        }\r\n    }\r\n\r\nRecord and enum classes to make configuration less painful:\r\n\r\n    public record X509SubjectAltName(X509SubjectAltType type, String value) {}\r\n\r\n    /** SAN value types. Aligns with {@link X509Certificate#getSubjectAlternativeNames} */\r\n    public enum X509SubjectAltType {\r\n        HOSTNAME(2),\r\n        IP(7);\r\n    \r\n        final int code;\r\n    \r\n        private X509SubjectAltType(int code) {\r\n            this.code = code;\r\n        }\r\n    \r\n        public int getCode() {\r\n            return code;\r\n        }\r\n    }\r\n\r\nThis would be used to create SSLContext like:\r\n\r\n    private SSLContext createSSLContext(Collection&lt;X509SubjectAltName&gt; altNames)\r\n            throws GeneralSecurityException {\r\n        var trustManagerFactory =\r\n                TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n        trustManagerFactory.init((KeyStore) null);\r\n\r\n        var trustManagers =\r\n                Stream.of(trustManagerFactory.getTrustManagers())\r\n                        .map(tm -&gt; TrustManagers.disableHostnameValidation(tm, altNames))\r\n                        .toArray(TrustManager[]::new);\r\n\r\n        var sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n        sslContext.init(null, trustManagers, null);\r\n\r\n        return sslContext;\r\n    }\r\n\r\nAnd this is how you would allow connections to ip 1.2.3.4:\r\n\r\n    createSSLContext(List.of(new X509SubjectAltName(X509SubjectAltType.IP, &quot;1.2.3.4&quot;)))","title":"Allow insecure HTTPS connection for Java JDK 11 HttpClient","body":"<p>Be aware, all the previous answers do more than just disable hostname verification. They disable certificate verification completely.</p>\n<p>While these solutions work perfectly for development environments, they are not something you want to ever use in production.</p>\n<p>Here's a solution that allows you to modify certificate in a way that you think is most suitable (e.g. replace SAN with another)</p>\n<p>First a class that is used to wrap default TrustManager to intercept calls:</p>\n<pre><code>public class TrustManagers {\n    /**\n     * Create {@link TrustManager} wrapper that disables certificate hostname validation\n     *\n     * @param tm trust manager\n     * @param altNames alternative subject names to allow\n     * @return requested trustmanager\n     */\n    public static TrustManager disableHostnameValidation(\n            TrustManager tm, Collection&lt;X509SubjectAltName&gt; altNames) {\n        if (tm instanceof X509ExtendedTrustManager x509tm) {\n            return new X509ExtendedTrustManager() {\n                @Override\n                public void checkServerTrusted(X509Certificate[] chain, String authType)\n                        throws CertificateException {\n                    x509tm.checkServerTrusted(modifySAN(chain), authType);\n                }\n\n                @Override\n                public void checkServerTrusted(\n                        X509Certificate[] chain, String authType, Socket socket)\n                        throws CertificateException {\n                    x509tm.checkServerTrusted(modifySAN(chain), authType, socket);\n                }\n\n                @Override\n                public void checkServerTrusted(\n                        X509Certificate[] chain, String authType, SSLEngine engine)\n                        throws CertificateException {\n                    x509tm.checkServerTrusted(modifySAN(chain), authType, engine);\n                }\n\n                private X509Certificate[] modifySAN(X509Certificate[] chain) {\n                    if (chain.length &lt; 1) {\n                        return chain;\n                    }\n                    var result = new X509Certificate[chain.length];\n                    System.arraycopy(chain, 0, result, 0, chain.length);\n                    result[0] = new FixedSANX509Certificate(chain[0], altNames);\n                    return result;\n                }\n\n                // only delegates below\n                @Override\n                public X509Certificate[] getAcceptedIssuers() {\n                    return x509tm.getAcceptedIssuers();\n                }\n\n                @Override\n                public void checkClientTrusted(X509Certificate[] chain, String authType)\n                        throws CertificateException {\n                    x509tm.checkClientTrusted(chain, authType);\n                }\n\n                @Override\n                public void checkClientTrusted(\n                        X509Certificate[] chain, String authType, Socket socket)\n                        throws CertificateException {\n                    x509tm.checkClientTrusted(chain, authType, socket);\n                }\n\n                @Override\n                public void checkClientTrusted(\n                        X509Certificate[] chain, String authType, SSLEngine engine)\n                        throws CertificateException {\n                    x509tm.checkClientTrusted(chain, authType);\n                }\n            };\n        }\n        return tm;\n    }\n}\n</code></pre>\n<p>Then a class that allows you to modify certificate's contents. You are likely to be interested in SANs:</p>\n<pre><code>/**\n * X509Certificate with subject alternative names (SAN) added to list of SANs in certificate. This\n * effectively bypasses hostname validation, but allows other validations\n */\n@AllArgsConstructor\npublic class FixedSANX509Certificate extends X509Certificate {\n    private final X509Certificate cert;\n    private final Collection&lt;X509SubjectAltName&gt; altNames;\n\n    @Override\n    public Collection&lt;List&lt;?&gt;&gt; getSubjectAlternativeNames() throws CertificateParsingException {\n        return Stream.concat(\n                        cert.getSubjectAlternativeNames().stream(),\n                        altNames.stream()\n                                .flatMap(\n                                        altName -&gt;\n                                                Stream.of(\n                                                        List.of(\n                                                                altName.type().getCode(),\n                                                                altName.value()))))\n                .toList();\n    }\n\n    // only delegates below\n    @Override\n    public boolean hasUnsupportedCriticalExtension() {\n        return cert.hasUnsupportedCriticalExtension();\n    }\n\n    @Override\n    public Set&lt;String&gt; getCriticalExtensionOIDs() {\n        return cert.getCriticalExtensionOIDs();\n    }\n\n    @Override\n    public boolean equals(Object other) {\n        return cert.equals(other);\n    }\n\n    @Override\n    public Set&lt;String&gt; getNonCriticalExtensionOIDs() {\n        return cert.getNonCriticalExtensionOIDs();\n    }\n\n    @Override\n    public int hashCode() {\n        return cert.hashCode();\n    }\n\n    @Override\n    public void checkValidity()\n            throws CertificateExpiredException, CertificateNotYetValidException {\n        cert.checkValidity();\n    }\n\n    @Override\n    public byte[] getEncoded() throws CertificateEncodingException {\n        return cert.getEncoded();\n    }\n\n    @Override\n    public void verify(PublicKey key)\n            throws CertificateException,\n                    NoSuchAlgorithmException,\n                    InvalidKeyException,\n                    NoSuchProviderException,\n                    SignatureException {\n        cert.verify(key);\n    }\n\n    @Override\n    public void checkValidity(Date date)\n            throws CertificateExpiredException, CertificateNotYetValidException {\n        cert.checkValidity(date);\n    }\n\n    @Override\n    public byte[] getExtensionValue(String oid) {\n        return cert.getExtensionValue(oid);\n    }\n\n    @Override\n    public void verify(PublicKey key, String sigProvider)\n            throws CertificateException,\n                    NoSuchAlgorithmException,\n                    InvalidKeyException,\n                    NoSuchProviderException,\n                    SignatureException {\n        cert.verify(key, sigProvider);\n    }\n\n    @Override\n    public int getVersion() {\n        return cert.getVersion();\n    }\n\n    @Override\n    public BigInteger getSerialNumber() {\n        return cert.getSerialNumber();\n    }\n\n    @Override\n    public Principal getIssuerDN() {\n        return cert.getIssuerDN();\n    }\n\n    @Override\n    public String toString() {\n        return cert.toString();\n    }\n\n    @Override\n    public PublicKey getPublicKey() {\n        return cert.getPublicKey();\n    }\n\n    @Override\n    public X500Principal getIssuerX500Principal() {\n        return cert.getIssuerX500Principal();\n    }\n\n    @Override\n    public Principal getSubjectDN() {\n        return cert.getSubjectDN();\n    }\n\n    @Override\n    public X500Principal getSubjectX500Principal() {\n        return cert.getSubjectX500Principal();\n    }\n\n    @Override\n    public Date getNotBefore() {\n        return cert.getNotBefore();\n    }\n\n    @Override\n    public Date getNotAfter() {\n        return cert.getNotAfter();\n    }\n\n    @Override\n    public byte[] getTBSCertificate() throws CertificateEncodingException {\n        return cert.getTBSCertificate();\n    }\n\n    @Override\n    public byte[] getSignature() {\n        return cert.getSignature();\n    }\n\n    @Override\n    public String getSigAlgName() {\n        return cert.getSigAlgName();\n    }\n\n    @Override\n    public String getSigAlgOID() {\n        return cert.getSigAlgOID();\n    }\n\n    @Override\n    public byte[] getSigAlgParams() {\n        return cert.getSigAlgParams();\n    }\n\n    @Override\n    public boolean[] getIssuerUniqueID() {\n        return cert.getIssuerUniqueID();\n    }\n\n    @Override\n    public boolean[] getSubjectUniqueID() {\n        return cert.getSubjectUniqueID();\n    }\n\n    @Override\n    public boolean[] getKeyUsage() {\n        return cert.getKeyUsage();\n    }\n\n    @Override\n    public List&lt;String&gt; getExtendedKeyUsage() throws CertificateParsingException {\n        return cert.getExtendedKeyUsage();\n    }\n\n    @Override\n    public int getBasicConstraints() {\n        return cert.getBasicConstraints();\n    }\n\n    @Override\n    public Collection&lt;List&lt;?&gt;&gt; getIssuerAlternativeNames() throws CertificateParsingException {\n        return cert.getIssuerAlternativeNames();\n    }\n\n    @Override\n    public void verify(PublicKey key, Provider sigProvider)\n            throws CertificateException,\n                    NoSuchAlgorithmException,\n                    InvalidKeyException,\n                    SignatureException {\n        cert.verify(key, sigProvider);\n    }\n}\n</code></pre>\n<p>Record and enum classes to make configuration less painful:</p>\n<pre><code>public record X509SubjectAltName(X509SubjectAltType type, String value) {}\n\n/** SAN value types. Aligns with {@link X509Certificate#getSubjectAlternativeNames} */\npublic enum X509SubjectAltType {\n    HOSTNAME(2),\n    IP(7);\n\n    final int code;\n\n    private X509SubjectAltType(int code) {\n        this.code = code;\n    }\n\n    public int getCode() {\n        return code;\n    }\n}\n</code></pre>\n<p>This would be used to create SSLContext like:</p>\n<pre><code>private SSLContext createSSLContext(Collection&lt;X509SubjectAltName&gt; altNames)\n        throws GeneralSecurityException {\n    var trustManagerFactory =\n            TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n    trustManagerFactory.init((KeyStore) null);\n\n    var trustManagers =\n            Stream.of(trustManagerFactory.getTrustManagers())\n                    .map(tm -&gt; TrustManagers.disableHostnameValidation(tm, altNames))\n                    .toArray(TrustManager[]::new);\n\n    var sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n    sslContext.init(null, trustManagers, null);\n\n    return sslContext;\n}\n</code></pre>\n<p>And this is how you would allow connections to ip 1.2.3.4:</p>\n<pre><code>createSSLContext(List.of(new X509SubjectAltName(X509SubjectAltType.IP, &quot;1.2.3.4&quot;)))\n</code></pre>\n"}],"owner":{"account_id":4468857,"reputation":897,"user_id":3635669,"display_name":"vagran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40276,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":52995420,"answer_count":5,"score":38,"last_activity_date":1700755604,"creation_date":1540468454,"question_id":52988677,"body_markdown":"Sometimes it is needed to allow insecure HTTPS connections, e.g. in some web-crawling applications which should work with any site. I used [one such solution][1] with old HttpsURLConnection API which was recently superseded by the [new HttpClient API][2] in JDK 11. What is the way to allow insecure HTTPS connections (self-signed or expired certificate) with this new API?\r\n\r\nUPD: The code I tried (in Kotlin but maps directly to Java):\r\n\r\n        val trustAllCerts = arrayOf&lt;TrustManager&gt;(object: X509TrustManager {\r\n            override fun getAcceptedIssuers(): Array&lt;X509Certificate&gt;? = null\r\n            override fun checkClientTrusted(certs: Array&lt;X509Certificate&gt;, authType: String) {}\r\n            override fun checkServerTrusted(certs: Array&lt;X509Certificate&gt;, authType: String) {}\r\n        })\r\n\r\n        val sslContext = SSLContext.getInstance(&quot;SSL&quot;)\r\n        sslContext.init(null, trustAllCerts, SecureRandom())\r\n\r\n        val sslParams = SSLParameters()\r\n        // This should prevent host validation\r\n        sslParams.endpointIdentificationAlgorithm = &quot;&quot;\r\n\r\n        httpClient = HttpClient.newBuilder()\r\n            .sslContext(sslContext)\r\n            .sslParameters(sslParams)\r\n            .build()\r\n\r\nBut on sending I have exception (trying on localhost with self-signed certificate):\r\n\r\n    java.io.IOException: No name matching localhost found\r\n\r\nUsing IP address instead of localhost gives &quot;No subject alternative names present&quot; exception.\r\n\r\nAfter some debugging of JDK I found that `sslParams` are really ignored in the place the exception is thrown and some locally created instance is used. Further debugging revealed that the only way to affect the hostname verification algorithm is setting `jdk.internal.httpclient.disableHostnameVerification` system property to true. And that&#39;s seems to be a solution. `SSLParameters` in the code above have no effect so this part can be discarded. Making it configurable only globally looks like serious design flaw in new HttpClient API.\r\n\r\n  [1]: https://stackoverflow.com/questions/1201048/allowing-java-to-use-an-untrusted-certificate-for-ssl-https-connection\r\n  [2]: https://openjdk.java.net/groups/net/httpclient/intro.html","title":"Allow insecure HTTPS connection for Java JDK 11 HttpClient","body":"<p>Sometimes it is needed to allow insecure HTTPS connections, e.g. in some web-crawling applications which should work with any site. I used <a href=\"https://stackoverflow.com/questions/1201048/allowing-java-to-use-an-untrusted-certificate-for-ssl-https-connection\">one such solution</a> with old HttpsURLConnection API which was recently superseded by the <a href=\"https://openjdk.java.net/groups/net/httpclient/intro.html\" rel=\"noreferrer\">new HttpClient API</a> in JDK 11. What is the way to allow insecure HTTPS connections (self-signed or expired certificate) with this new API?</p>\n\n<p>UPD: The code I tried (in Kotlin but maps directly to Java):</p>\n\n<pre><code>    val trustAllCerts = arrayOf&lt;TrustManager&gt;(object: X509TrustManager {\n        override fun getAcceptedIssuers(): Array&lt;X509Certificate&gt;? = null\n        override fun checkClientTrusted(certs: Array&lt;X509Certificate&gt;, authType: String) {}\n        override fun checkServerTrusted(certs: Array&lt;X509Certificate&gt;, authType: String) {}\n    })\n\n    val sslContext = SSLContext.getInstance(\"SSL\")\n    sslContext.init(null, trustAllCerts, SecureRandom())\n\n    val sslParams = SSLParameters()\n    // This should prevent host validation\n    sslParams.endpointIdentificationAlgorithm = \"\"\n\n    httpClient = HttpClient.newBuilder()\n        .sslContext(sslContext)\n        .sslParameters(sslParams)\n        .build()\n</code></pre>\n\n<p>But on sending I have exception (trying on localhost with self-signed certificate):</p>\n\n<pre><code>java.io.IOException: No name matching localhost found\n</code></pre>\n\n<p>Using IP address instead of localhost gives \"No subject alternative names present\" exception.</p>\n\n<p>After some debugging of JDK I found that <code>sslParams</code> are really ignored in the place the exception is thrown and some locally created instance is used. Further debugging revealed that the only way to affect the hostname verification algorithm is setting <code>jdk.internal.httpclient.disableHostnameVerification</code> system property to true. And that's seems to be a solution. <code>SSLParameters</code> in the code above have no effect so this part can be discarded. Making it configurable only globally looks like serious design flaw in new HttpClient API.</p>\n"},{"tags":["java","redis","jedis"],"comments":[{"owner":{"account_id":18239208,"reputation":149,"user_id":13276541,"display_name":"Ahmed Mera"},"score":0,"creation_date":1700748005,"post_id":77537450,"comment_id":136694371,"body_markdown":"Can you share the code of conection?","body":"Can you share the code of conection?"},{"owner":{"account_id":29975560,"reputation":1,"user_id":22971869,"display_name":"Mart"},"score":0,"creation_date":1700748362,"post_id":77537450,"comment_id":136694440,"body_markdown":"Jedis jedis = new Jedis(IP, port, timeout);","body":"Jedis jedis = new Jedis(IP, port, timeout);"},{"owner":{"account_id":29975560,"reputation":1,"user_id":22971869,"display_name":"Mart"},"score":0,"creation_date":1700748413,"post_id":77537450,"comment_id":136694449,"body_markdown":"jedis.auth(user,password);","body":"jedis.auth(user,password);"}],"answers":[{"tags":[],"owner":{"account_id":18239208,"reputation":149,"user_id":13276541,"display_name":"Ahmed Mera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700755102,"creation_date":1700755102,"answer_id":77538216,"question_id":77537450,"body_markdown":"You can set the timeout for connection and for Socket:\r\n\r\n```\r\ntry {\r\n    Jedis jedis = new Jedis(host, port); \r\n    jedis.connectTimeout(3000);// 3 seconds for connection \r\n    jedis.getClient().setSoTimeout(5000); // 5 seconds for Socket\r\n} catch (JedisConnectionException e) {\r\n    // Handle connection error\r\n} \r\n\r\n``` \r\n\r\nTry it and let me know","title":"Stop Redis serwer Threads stil waiting","body":"<p>You can set the timeout for connection and for Socket:</p>\n<pre><code>try {\n    Jedis jedis = new Jedis(host, port); \n    jedis.connectTimeout(3000);// 3 seconds for connection \n    jedis.getClient().setSoTimeout(5000); // 5 seconds for Socket\n} catch (JedisConnectionException e) {\n    // Handle connection error\n} \n\n</code></pre>\n<p>Try it and let me know</p>\n"}],"owner":{"account_id":29975560,"reputation":1,"user_id":22971869,"display_name":"Mart"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700755102,"creation_date":1700747550,"question_id":77537450,"body_markdown":"I wrote Java code that connects to Redis and performs operations. When I shut down the Redis server, the thread throws an error but doesn&#39;t terminate. It&#39;s in TIMED_WAITING status, and the thread waits indefinitely. What should I do to ensure the thread doesn&#39;t wait indefinitely for the server response? I want it to simply finish its work.\r\n\r\nI tried adding a timeout in the Jedis constructor, but it didn&#39;t work. The threads were still running.","title":"Stop Redis serwer Threads stil waiting","body":"<p>I wrote Java code that connects to Redis and performs operations. When I shut down the Redis server, the thread throws an error but doesn't terminate. It's in TIMED_WAITING status, and the thread waits indefinitely. What should I do to ensure the thread doesn't wait indefinitely for the server response? I want it to simply finish its work.</p>\n<p>I tried adding a timeout in the Jedis constructor, but it didn't work. The threads were still running.</p>\n"},{"tags":["javascript","java","spring","datatable","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700755042,"creation_date":1700515671,"answer_id":77518995,"question_id":77516265,"body_markdown":"The datatable is populated by javascript (jQuery) and Thymeleaf has nothing to do with it.\r\n\r\nSaying the above, you can load the `authorities` in the html page as a json array and check for the permission when constructing the rows in the datatable.\r\n\r\n    // somewhere in the html\r\n    &lt;script th:inline=&quot;javascript&quot;&gt;\r\n        // authorities as a json array\r\n        const authorities = /*[[${authorities}]]*/ &#39;&#39;;\r\n        const deleteUrl = /*[[@{drink/delete}]]*/ &#39;&#39;; // we will use this later, maybe this is resolving to the path &quot;drink/delete-drink&quot;\r\n    &lt;/script&gt;\r\n\r\n\r\nUsually the rows in the datatable result set are represented by an array of objects. If we are displaying a array of &#39;Drink&#39; objects, most probably the dataset in the response would be something like:\r\n\r\n    &quot;data&quot;: [\r\n       {\r\n          &quot;drinkId&quot; : 1,\r\n          &quot;name&quot; : &quot;Coca cola&quot;\r\n       },\r\n       {\r\n          &quot;drinkId&quot; : 2,\r\n          &quot;name&quot; : &quot;Pepsi&quot;\r\n       },\r\n       {\r\n          &quot;drinkId&quot; : 3,\r\n          &quot;name&quot; : &quot;Expresso&quot;\r\n       }\r\n    ]\r\n\r\n\r\nNow the conditional rendering is done purely with javascript, no thymeleaf here.\r\n\r\n    &quot;columns&quot;: [\r\n        // ... other columns\r\n        {\r\n            &quot;data&quot;: null,\r\n            &quot;render&quot;: function (data, type, row) {\r\n                var hasDeleteRole = authorities.includes(&#39;DELETE&#39;);\r\n    \r\n                if (hasDeleteRole) {\r\n                    // just an example of how to use the delete url and the drinkId which is unique per row\r\n                    return &#39;&lt;a href=&quot;deleteUrl + \\&#39;?id=&#39; + row.drinkId + &#39;\\&#39;&quot;/&gt;&#39;\r\n                    // after resolving the above, it should something look like this in the html &lt;a href=&quot;http://localhost/drink/delete-drink?id=3&quot;/&gt;\r\n                } else {\r\n                    return &#39;No action&#39;;\r\n                }\r\n            }\r\n        }\r\n        // ... other columns\r\n    ],\r\n","title":"How can HTML rendering be conditionally managed when integrating DataTables initialization with a Spring Boot backend API for server-side processing?","body":"<p>The datatable is populated by javascript (jQuery) and Thymeleaf has nothing to do with it.</p>\n<p>Saying the above, you can load the <code>authorities</code> in the html page as a json array and check for the permission when constructing the rows in the datatable.</p>\n<pre><code>// somewhere in the html\n&lt;script th:inline=&quot;javascript&quot;&gt;\n    // authorities as a json array\n    const authorities = /*[[${authorities}]]*/ '';\n    const deleteUrl = /*[[@{drink/delete}]]*/ ''; // we will use this later, maybe this is resolving to the path &quot;drink/delete-drink&quot;\n&lt;/script&gt;\n</code></pre>\n<p>Usually the rows in the datatable result set are represented by an array of objects. If we are displaying a array of 'Drink' objects, most probably the dataset in the response would be something like:</p>\n<pre><code>&quot;data&quot;: [\n   {\n      &quot;drinkId&quot; : 1,\n      &quot;name&quot; : &quot;Coca cola&quot;\n   },\n   {\n      &quot;drinkId&quot; : 2,\n      &quot;name&quot; : &quot;Pepsi&quot;\n   },\n   {\n      &quot;drinkId&quot; : 3,\n      &quot;name&quot; : &quot;Expresso&quot;\n   }\n]\n</code></pre>\n<p>Now the conditional rendering is done purely with javascript, no thymeleaf here.</p>\n<pre><code>&quot;columns&quot;: [\n    // ... other columns\n    {\n        &quot;data&quot;: null,\n        &quot;render&quot;: function (data, type, row) {\n            var hasDeleteRole = authorities.includes('DELETE');\n\n            if (hasDeleteRole) {\n                // just an example of how to use the delete url and the drinkId which is unique per row\n                return '&lt;a href=&quot;deleteUrl + \\'?id=' + row.drinkId + '\\'&quot;/&gt;'\n                // after resolving the above, it should something look like this in the html &lt;a href=&quot;http://localhost/drink/delete-drink?id=3&quot;/&gt;\n            } else {\n                return 'No action';\n            }\n        }\n    }\n    // ... other columns\n],\n</code></pre>\n"}],"owner":{"account_id":27490497,"reputation":93,"user_id":20975951,"display_name":"Jaiylon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1700755042,"creation_date":1700486908,"question_id":77516265,"body_markdown":"**Conditionally Rendering DataTables Actions Based on User Roles in a Spring Boot Application**\r\nI have a DataTables implementation in my Spring Boot application, and I&#39;m trying to conditionally render actions in the DataTable based on the user&#39;s roles. The DataTable includes an action column that should display edit, delete, and view buttons only if the user has the EDITOR role.\r\n\r\nHere&#39;s the Thymeleaf code for conditionally rendering the delete button:\r\n```\r\n&lt;form th:if=&quot;${#lists.contains(roles, &#39;EDITOR&#39;)}&quot; style=&quot;display:inline !important;&quot; th:action=&quot;@{/touchPoint/delete/}&quot; method=&quot;post&quot; onsubmit=&quot;return confirm(&#39;Do you really want to delete this Assignment? This action cannot be reversed.&#39;);&quot;&gt;\r\n    &lt;input type=&quot;hidden&quot; name=&quot;id&quot; th:value=&quot;*{TouchPointID}&quot;/&gt;\r\n    &lt;button class=&quot;form-command btn btn-danger btn-sm&quot; type=&quot;submit&quot;&gt;&lt;i class=&quot;fa fa-trash-o&quot;&gt;&lt;/i&gt;&lt;/button&gt;\r\n&lt;/form&gt;\r\n```\r\nIn my DataTables configuration, I&#39;m sending the user roles in the API response:\r\n```\r\n// Controller API method\r\nAuthentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n        Collection&lt;? extends GrantedAuthority&gt; authorities = authentication.getAuthorities();\r\n\r\n        List&lt;String&gt; authorityStrings = authorities.stream()\r\n                .map(GrantedAuthority::getAuthority)\r\n                .collect(Collectors.toList());\r\nresponse.put(&quot;authorities&quot;, authorityStrings); // places the authorities in the &#39;authorities&#39; obj\r\n```\r\n\r\nAnd here&#39;s the relevant part of my DataTables configuration, the actions columns:\r\n```\r\n&quot;columns&quot;: [\r\n    // ... other columns\r\n    {\r\n        &quot;data&quot;: null,\r\n        &quot;render&quot;: function (data, type, row) {\r\n            var authorities = json.authorities || [];\r\n            var hasEditorRole = authorities.includes(&#39;EDITOR&#39;);\r\n\r\n            if (hasEditorRole) {\r\n                return &#39;&lt;button class=&quot;edit-button&quot;&gt;Edit&lt;/button&gt;&#39;;\r\n            } else {\r\n                return &#39;No action&#39;;\r\n            }\r\n        }\r\n    }\r\n    // ... other columns\r\n],\r\n```\r\n\r\n","title":"How can HTML rendering be conditionally managed when integrating DataTables initialization with a Spring Boot backend API for server-side processing?","body":"<p><strong>Conditionally Rendering DataTables Actions Based on User Roles in a Spring Boot Application</strong>\nI have a DataTables implementation in my Spring Boot application, and I'm trying to conditionally render actions in the DataTable based on the user's roles. The DataTable includes an action column that should display edit, delete, and view buttons only if the user has the EDITOR role.</p>\n<p>Here's the Thymeleaf code for conditionally rendering the delete button:</p>\n<pre><code>&lt;form th:if=&quot;${#lists.contains(roles, 'EDITOR')}&quot; style=&quot;display:inline !important;&quot; th:action=&quot;@{/touchPoint/delete/}&quot; method=&quot;post&quot; onsubmit=&quot;return confirm('Do you really want to delete this Assignment? This action cannot be reversed.');&quot;&gt;\n    &lt;input type=&quot;hidden&quot; name=&quot;id&quot; th:value=&quot;*{TouchPointID}&quot;/&gt;\n    &lt;button class=&quot;form-command btn btn-danger btn-sm&quot; type=&quot;submit&quot;&gt;&lt;i class=&quot;fa fa-trash-o&quot;&gt;&lt;/i&gt;&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n<p>In my DataTables configuration, I'm sending the user roles in the API response:</p>\n<pre><code>// Controller API method\nAuthentication authentication = SecurityContextHolder.getContext().getAuthentication();\n        Collection&lt;? extends GrantedAuthority&gt; authorities = authentication.getAuthorities();\n\n        List&lt;String&gt; authorityStrings = authorities.stream()\n                .map(GrantedAuthority::getAuthority)\n                .collect(Collectors.toList());\nresponse.put(&quot;authorities&quot;, authorityStrings); // places the authorities in the 'authorities' obj\n</code></pre>\n<p>And here's the relevant part of my DataTables configuration, the actions columns:</p>\n<pre><code>&quot;columns&quot;: [\n    // ... other columns\n    {\n        &quot;data&quot;: null,\n        &quot;render&quot;: function (data, type, row) {\n            var authorities = json.authorities || [];\n            var hasEditorRole = authorities.includes('EDITOR');\n\n            if (hasEditorRole) {\n                return '&lt;button class=&quot;edit-button&quot;&gt;Edit&lt;/button&gt;';\n            } else {\n                return 'No action';\n            }\n        }\n    }\n    // ... other columns\n],\n</code></pre>\n"},{"tags":["java","spring-boot","encryption","aes","pkcs#7"],"comments":[{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1700750120,"post_id":77537522,"comment_id":136694744,"body_markdown":"Are you aware of the Cipher input and output streams?","body":"Are you aware of the Cipher input and output streams?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1700753234,"post_id":77537522,"comment_id":136695343,"body_markdown":"Two things: a. use `org.bouncycastle.crypto.io.CipherInputStream;` (and equiv. output) b. post the input file as text *formatted as code*","body":"Two things: a. use <code>org.bouncycastle.crypto.io.CipherInputStream;</code> (and equiv. output) b. post the input file as text <i>formatted as code</i>"},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1700755063,"post_id":77537522,"comment_id":136695684,"body_markdown":"As alluded to by @user207421, you are welcome to use the BouncyCastle API but, as far as I can see, there is no advantage to using it in your code sample. By using Java builti-in cryptography, CipherInputStream and CipherOutputStream, and the File.copy() methods you can reduce all this jumble of code to just a few lines.","body":"As alluded to by @user207421, you are welcome to use the BouncyCastle API but, as far as I can see, there is no advantage to using it in your code sample. By using Java builti-in cryptography, CipherInputStream and CipherOutputStream, and the File.copy() methods you can reduce all this jumble of code to just a few lines."},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1700766333,"post_id":77537522,"comment_id":136697383,"body_markdown":"@PresidentJamesK.Polk Cipher stream classes come with the JRE. I didnt say anything about BouncyCastle and I dont see any reason to use it here.","body":"@PresidentJamesK.Polk Cipher stream classes come with the JRE. I didnt say anything about BouncyCastle and I dont see any reason to use it here."}],"answers":[{"tags":[],"owner":{"account_id":2527500,"reputation":7300,"user_id":2196561,"display_name":"Ebbe M. Pedersen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700754584,"creation_date":1700753270,"answer_id":77538034,"question_id":77537522,"body_markdown":"`getOutputSize(..)` don&#39;t return what you expect:\r\n\r\n&gt;  `int\tgetOutputSize(int len)`\r\n&gt;           return the size of the output buffer required for an update plus a doFinal with an input of len bytes.\r\n\r\nThe method is used for calculate how big a message will be when encrypted .. not for decryption. \r\n\r\nYou can only see the size of the decrypted message after the padding have been removed, which happens during decryption. You actually calculate the size of the decrypted message in `bytesWritten` and then ignores the result.\r\n\r\n","title":"Null spaces getting added to decrypted D01 file while using AES-256/CBC/PKCS7PADDING","body":"<p><code>getOutputSize(..)</code> don't return what you expect:</p>\n<blockquote>\n<p><code>int getOutputSize(int len)</code>\nreturn the size of the output buffer required for an update plus a doFinal with an input of len bytes.</p>\n</blockquote>\n<p>The method is used for calculate how big a message will be when encrypted .. not for decryption.</p>\n<p>You can only see the size of the decrypted message after the padding have been removed, which happens during decryption. You actually calculate the size of the decrypted message in <code>bytesWritten</code> and then ignores the result.</p>\n"}],"owner":{"account_id":16232132,"reputation":341,"user_id":11720605,"display_name":"TJ32"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1700754584,"creation_date":1700748280,"question_id":77537522,"body_markdown":"I am using AES-256/CBC/PKCS7PADDING for encrypting a d01 file. After encrypting the file I am performing decrypting the same file for my testing but While decrypting the file extra null values are getting added to the do1 file. I am using bouncycastle library here.\r\n\r\n\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.nio.file.Files;\r\n    import java.security.SecureRandom;\r\n    import org.bouncycastle.crypto.BlockCipher;\r\n    import org.bouncycastle.crypto.BufferedBlockCipher;\r\n    import org.bouncycastle.crypto.CipherParameters;\r\n    import org.bouncycastle.crypto.DataLengthException;\r\n    import org.bouncycastle.crypto.InvalidCipherTextException;\r\n    import org.bouncycastle.crypto.engines.AESEngine;\r\n    import org.bouncycastle.crypto.engines.AESFastEngine;\r\n    import org.bouncycastle.crypto.modes.CBCBlockCipher;\r\n    import org.bouncycastle.crypto.paddings.BlockCipherPadding;\r\n    import org.bouncycastle.crypto.paddings.PKCS7Padding;\r\n    import org.bouncycastle.crypto.paddings.PaddedBufferedBlockCipher;\r\n    import org.bouncycastle.crypto.params.KeyParameter;\r\n    import org.bouncycastle.crypto.params.ParametersWithIV;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class CryptoUtilsV2 {\r\n    \r\n       public static byte[] iv = generateIV();\r\n      public int encryptDCRenewal(String keyText, File inputFile, File outputFile)\r\n          throws Exception {\r\n    \t//inputFile is d01 file and outfile is the d01 file to which encrypted data is written\r\n       // initialize key and iv\r\n        byte[] secretKey = keyText.getBytes(StandardCharsets.UTF_8);\r\n        FileInputStream inputStream = new FileInputStream(inputFile);\r\n        byte[] inputBytes = new byte[(int) inputFile.length()];\r\n        inputStream.read(inputBytes);\r\n        inputStream.close();\r\n        // Encrypt the message\r\n        byte[] ciphertext = encrypt(inputBytes, secretKey, iv);\r\n        FileOutputStream outputStream = new FileOutputStream(outputFile);\r\n        outputStream.write(ciphertext);\r\n        outputStream.close();\r\n        return 0;\r\n      }\r\n    \r\n      public int decryptDCRenewal(String keyText, File inputFile, File outputFile)\r\n          throws Exception {\r\n        // initialize key and iv\r\n    \t//inputFile is encrypted d01 file and outfile is the do1 file to which decrypted data is written\r\n        byte[] secretKey = keyText.getBytes(StandardCharsets.UTF_8);\r\n        FileInputStream inputStream = new FileInputStream(inputFile);\r\n        byte[] inputBytes = new byte[(int) inputFile.length()];\r\n        inputStream.read(inputBytes);\r\n        inputStream.close();\r\n        // Encrypt the message\r\n        byte[] decryptedText = decrypt(inputBytes, secretKey, iv);\r\n        FileOutputStream outputStream = new FileOutputStream(outputFile);\r\n        outputStream.write(decryptedText);\r\n        outputStream.close();\r\n        return 0;\r\n      }\r\n    \r\n      private static byte[] decrypt(byte[] ciphertext, byte[] key, byte[] iv) throws Exception {\r\n        BufferedBlockCipher cipher = createCipher(false, key, iv);\r\n        byte[] output = new byte[cipher.getOutputSize(ciphertext.length)];\r\n        int bytesWritten = cipher.processBytes(ciphertext, 0, ciphertext.length, output, 0);\r\n        bytesWritten += cipher.doFinal(output, bytesWritten);\r\n        return output;\r\n      }\r\n      private static byte[] encrypt(byte[] input, byte[] key, byte[] iv) throws Exception {\r\n        BufferedBlockCipher cipher = createCipher(true, key, iv);\r\n        byte[] output = new byte[cipher.getOutputSize(input.length)];\r\n        int bytesWritten = cipher.processBytes(input, 0, input.length, output, 0);\r\n        bytesWritten += cipher.doFinal(output, bytesWritten);\r\n        return output;\r\n      }\r\n    \r\n      private static BufferedBlockCipher createCipher(boolean forEncryption, byte[] key, byte[] iv) {\r\n        BlockCipherPadding padding = new PKCS7Padding();\r\n        BufferedBlockCipher cipher = new PaddedBufferedBlockCipher(\r\n            new CBCBlockCipher(new AESEngine()), padding);\r\n        CipherParameters params = new ParametersWithIV(new KeyParameter(key), iv);\r\n        cipher.init(forEncryption, params);\r\n        return cipher;\r\n      }\r\n      private static byte[] generateIV() {\r\n        byte[] iv = new byte[16]; // AES 256 use 16 byte IV\r\n        new SecureRandom().nextBytes(iv);\r\n        return iv;\r\n      }\r\n    }\r\n\r\n \r\n\r\nthe key value is : Qxyyywqg1UdBRpUV\r\n\r\noriginal d01 file content \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nthe decrypted d01 file content:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/W7Oi3.png\r\n  [2]: https://i.stack.imgur.com/9p6ER.png","title":"Null spaces getting added to decrypted D01 file while using AES-256/CBC/PKCS7PADDING","body":"<p>I am using AES-256/CBC/PKCS7PADDING for encrypting a d01 file. After encrypting the file I am performing decrypting the same file for my testing but While decrypting the file extra null values are getting added to the do1 file. I am using bouncycastle library here.</p>\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.nio.charset.StandardCharsets;\nimport java.nio.file.Files;\nimport java.security.SecureRandom;\nimport org.bouncycastle.crypto.BlockCipher;\nimport org.bouncycastle.crypto.BufferedBlockCipher;\nimport org.bouncycastle.crypto.CipherParameters;\nimport org.bouncycastle.crypto.DataLengthException;\nimport org.bouncycastle.crypto.InvalidCipherTextException;\nimport org.bouncycastle.crypto.engines.AESEngine;\nimport org.bouncycastle.crypto.engines.AESFastEngine;\nimport org.bouncycastle.crypto.modes.CBCBlockCipher;\nimport org.bouncycastle.crypto.paddings.BlockCipherPadding;\nimport org.bouncycastle.crypto.paddings.PKCS7Padding;\nimport org.bouncycastle.crypto.paddings.PaddedBufferedBlockCipher;\nimport org.bouncycastle.crypto.params.KeyParameter;\nimport org.bouncycastle.crypto.params.ParametersWithIV;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class CryptoUtilsV2 {\n\n   public static byte[] iv = generateIV();\n  public int encryptDCRenewal(String keyText, File inputFile, File outputFile)\n      throws Exception {\n    //inputFile is d01 file and outfile is the d01 file to which encrypted data is written\n   // initialize key and iv\n    byte[] secretKey = keyText.getBytes(StandardCharsets.UTF_8);\n    FileInputStream inputStream = new FileInputStream(inputFile);\n    byte[] inputBytes = new byte[(int) inputFile.length()];\n    inputStream.read(inputBytes);\n    inputStream.close();\n    // Encrypt the message\n    byte[] ciphertext = encrypt(inputBytes, secretKey, iv);\n    FileOutputStream outputStream = new FileOutputStream(outputFile);\n    outputStream.write(ciphertext);\n    outputStream.close();\n    return 0;\n  }\n\n  public int decryptDCRenewal(String keyText, File inputFile, File outputFile)\n      throws Exception {\n    // initialize key and iv\n    //inputFile is encrypted d01 file and outfile is the do1 file to which decrypted data is written\n    byte[] secretKey = keyText.getBytes(StandardCharsets.UTF_8);\n    FileInputStream inputStream = new FileInputStream(inputFile);\n    byte[] inputBytes = new byte[(int) inputFile.length()];\n    inputStream.read(inputBytes);\n    inputStream.close();\n    // Encrypt the message\n    byte[] decryptedText = decrypt(inputBytes, secretKey, iv);\n    FileOutputStream outputStream = new FileOutputStream(outputFile);\n    outputStream.write(decryptedText);\n    outputStream.close();\n    return 0;\n  }\n\n  private static byte[] decrypt(byte[] ciphertext, byte[] key, byte[] iv) throws Exception {\n    BufferedBlockCipher cipher = createCipher(false, key, iv);\n    byte[] output = new byte[cipher.getOutputSize(ciphertext.length)];\n    int bytesWritten = cipher.processBytes(ciphertext, 0, ciphertext.length, output, 0);\n    bytesWritten += cipher.doFinal(output, bytesWritten);\n    return output;\n  }\n  private static byte[] encrypt(byte[] input, byte[] key, byte[] iv) throws Exception {\n    BufferedBlockCipher cipher = createCipher(true, key, iv);\n    byte[] output = new byte[cipher.getOutputSize(input.length)];\n    int bytesWritten = cipher.processBytes(input, 0, input.length, output, 0);\n    bytesWritten += cipher.doFinal(output, bytesWritten);\n    return output;\n  }\n\n  private static BufferedBlockCipher createCipher(boolean forEncryption, byte[] key, byte[] iv) {\n    BlockCipherPadding padding = new PKCS7Padding();\n    BufferedBlockCipher cipher = new PaddedBufferedBlockCipher(\n        new CBCBlockCipher(new AESEngine()), padding);\n    CipherParameters params = new ParametersWithIV(new KeyParameter(key), iv);\n    cipher.init(forEncryption, params);\n    return cipher;\n  }\n  private static byte[] generateIV() {\n    byte[] iv = new byte[16]; // AES 256 use 16 byte IV\n    new SecureRandom().nextBytes(iv);\n    return iv;\n  }\n}\n</code></pre>\n<p>the key value is : Qxyyywqg1UdBRpUV</p>\n<p>original d01 file content</p>\n<p><a href=\"https://i.stack.imgur.com/W7Oi3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W7Oi3.png\" alt=\"enter image description here\" /></a></p>\n<p>the decrypted d01 file content:</p>\n<p><a href=\"https://i.stack.imgur.com/9p6ER.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9p6ER.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","null","apache-camel","quarkus"],"answers":[{"tags":[],"owner":{"account_id":8333120,"reputation":832,"user_id":12868186,"display_name":"wpnpeiris"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1700754282,"creation_date":1700752680,"answer_id":77537972,"question_id":77537945,"body_markdown":"According to the error log, it is , `Message.getHeader(String)` returns null.\r\n\r\nYour statement could be corrected as the following.\r\n\r\n    Optional&lt;String&gt; optionalServices= Optional.ofNullable(exchange.getIn().getHeader(&quot;services&quot;))\r\n                    .map(Object::toString)\r\n\r\nIf I explain the above in multiple steps.\r\n\r\n    Optional&lt;Object&gt; optObj = Optional.ofNullable(exchange.getIn().getHeader(&quot;services&quot;)); \r\n    Optional&lt;String&gt; optStr = optObj.map(obj -&gt; obj.toString());\r\n\r\n\r\nSo, the function (`obj -&gt; obj.toString()`) within `Optional.map()` is called only when Optional has a value.\r\n\r\n","title":"Optional null with Apache Camel to get header parameters","body":"<p>According to the error log, it is , <code>Message.getHeader(String)</code> returns null.</p>\n<p>Your statement could be corrected as the following.</p>\n<pre><code>Optional&lt;String&gt; optionalServices= Optional.ofNullable(exchange.getIn().getHeader(&quot;services&quot;))\n                .map(Object::toString)\n</code></pre>\n<p>If I explain the above in multiple steps.</p>\n<pre><code>Optional&lt;Object&gt; optObj = Optional.ofNullable(exchange.getIn().getHeader(&quot;services&quot;)); \nOptional&lt;String&gt; optStr = optObj.map(obj -&gt; obj.toString());\n</code></pre>\n<p>So, the function (<code>obj -&gt; obj.toString()</code>) within <code>Optional.map()</code> is called only when Optional has a value.</p>\n"}],"owner":{"account_id":16016597,"reputation":743,"user_id":11559150,"display_name":"Cesar Justo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77537972,"answer_count":1,"score":0,"last_activity_date":1700754282,"creation_date":1700752388,"question_id":77537945,"body_markdown":"\r\nGood morning.\r\n\r\nCurrently I am developing an API in Apache Camel in which I have to use queryParameters for the query and some parameters may be mandatory and others not, so I need to handle in case I don&#39;t send the parameter have some way to handle the nullPointerException, I was using Optional However, I don&#39;t know if I&#39;m using it incorrectly, but I&#39;m not getting the error:\r\n\r\nCurrently I am using the following line that in theory if it receives a null value, it would return an empty optional, however, I get an error:\r\n\r\n    Optional&lt;String&gt; optionalServices= Optional.ofNullable(exchange.getIn().getHeader(&quot;services&quot;).toString());\r\n\r\nException\r\n\r\n    Stacktrace\r\n    ---------------------------------------------------------------------------------------------------------------------------------------: java.lang.NullPointerException: Cannot invoke &quot;Object.toString()&quot; because the return value of &quot;org.apache.camel.Message.getHeader(String)&quot; is null\r\n    \tat org.tmve.customer.ms.processor.UserProfileProcessorQueryParamReq.process(UserProfileProcessorQueryParamReq.java:35)\r\n    \tat org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:65)\r\n    \tat org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:392)\r\n    \tat org.apache.camel.processor.Pipeline$PipelineTask.run(Pipeline.java:104)\r\n    \tat org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:181)\r\n    \tat org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)\r\n    \tat org.apache.camel.processor.Pipeline.process(Pipeline.java:165)\r\n    \tat org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:392)\r\n    \tat org.apache.camel.component.platform.http.vertx.VertxPlatformHttpConsumer.lambda$handleRequest$2(VertxPlatformHttpConsumer.java:201)\r\n    \tat io.vertx.core.impl.ContextBase.lambda$null$0(ContextBase.java:137)\r\n    \tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:264)\r\n    \tat io.vertx.core.impl.ContextBase.lambda$executeBlocking$1(ContextBase.java:135)\r\n    \tat org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n    \tat org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n    \tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n    \tat org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\r\n    \tat org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:840)\r\n\r\nThis is how I am testing from postman when it does not send the value:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIn this case, how can I handle the value of the Query Parameters if it is not sent?\r\n\r\n  [1]: https://i.stack.imgur.com/uPx5I.png","title":"Optional null with Apache Camel to get header parameters","body":"<p>Good morning.</p>\n<p>Currently I am developing an API in Apache Camel in which I have to use queryParameters for the query and some parameters may be mandatory and others not, so I need to handle in case I don't send the parameter have some way to handle the nullPointerException, I was using Optional However, I don't know if I'm using it incorrectly, but I'm not getting the error:</p>\n<p>Currently I am using the following line that in theory if it receives a null value, it would return an empty optional, however, I get an error:</p>\n<pre><code>Optional&lt;String&gt; optionalServices= Optional.ofNullable(exchange.getIn().getHeader(&quot;services&quot;).toString());\n</code></pre>\n<p>Exception</p>\n<pre><code>Stacktrace\n---------------------------------------------------------------------------------------------------------------------------------------: java.lang.NullPointerException: Cannot invoke &quot;Object.toString()&quot; because the return value of &quot;org.apache.camel.Message.getHeader(String)&quot; is null\n    at org.tmve.customer.ms.processor.UserProfileProcessorQueryParamReq.process(UserProfileProcessorQueryParamReq.java:35)\n    at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:65)\n    at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:392)\n    at org.apache.camel.processor.Pipeline$PipelineTask.run(Pipeline.java:104)\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:181)\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)\n    at org.apache.camel.processor.Pipeline.process(Pipeline.java:165)\n    at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:392)\n    at org.apache.camel.component.platform.http.vertx.VertxPlatformHttpConsumer.lambda$handleRequest$2(VertxPlatformHttpConsumer.java:201)\n    at io.vertx.core.impl.ContextBase.lambda$null$0(ContextBase.java:137)\n    at io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:264)\n    at io.vertx.core.impl.ContextBase.lambda$executeBlocking$1(ContextBase.java:135)\n    at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\n    at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n    at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\n    at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:840)\n</code></pre>\n<p>This is how I am testing from postman when it does not send the value:</p>\n<p><a href=\"https://i.stack.imgur.com/uPx5I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uPx5I.png\" alt=\"enter image description here\" /></a></p>\n<p>In this case, how can I handle the value of the Query Parameters if it is not sent?</p>\n"},{"tags":["java","maven","gson"],"comments":[{"owner":{"account_id":18814702,"reputation":82,"user_id":13722122,"display_name":"Seabass"},"score":0,"creation_date":1669791914,"post_id":74623316,"comment_id":131720754,"body_markdown":"The scope of the dependencies are differently configured.","body":"The scope of the dependencies are differently configured."},{"owner":{"account_id":18814702,"reputation":82,"user_id":13722122,"display_name":"Seabass"},"score":0,"creation_date":1669792361,"post_id":74623316,"comment_id":131720880,"body_markdown":"Probably, Tinify has it&#39;s GSON dependency scope set to transitive and Adobe has set GSON to provided. For good measure, you should consider providing the GSON dependency yourself.","body":"Probably, Tinify has it&#39;s GSON dependency scope set to transitive and Adobe has set GSON to provided. For good measure, you should consider providing the GSON dependency yourself."},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1670007660,"post_id":74623316,"comment_id":131780649,"body_markdown":"Apparently `aem-sdk-api` is a JAR with dependencies. Not sure if that is the cause for this specific problem, but you will for sure have more _fun_ due to this in the future. Might be good to clarify why Adobe distributes this as JAR with dependencies on Maven because that defeats the purpose of using Maven as tool for dependency management.","body":"Apparently <code>aem-sdk-api</code> is a JAR with dependencies. Not sure if that is the cause for this specific problem, but you will for sure have more <i>fun</i> due to this in the future. Might be good to clarify why Adobe distributes this as JAR with dependencies on Maven because that defeats the purpose of using Maven as tool for dependency management."}],"answers":[{"tags":[],"owner":{"account_id":1738252,"reputation":608,"user_id":1590324,"display_name":"Manu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700754030,"creation_date":1700754030,"answer_id":77538108,"question_id":74623316,"body_markdown":"I had the same issue and I fixed it by adding into the core/pom.xml file the following dependency, the scope will make available the classes that the unit test needs\r\n\r\n        &lt;dependency&gt; \r\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.10.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nSources\r\n[Unable to create a gson object in a test class in AEM 6.4][1]\r\nand [Maven repo for the gson library][2]\r\nHope this helps\r\n\r\n\r\n  [1]: https://experienceleaguecommunities.adobe.com/t5/adobe-experience-manager/unable-to-create-a-gson-object-in-a-test-class-in-aem-6-4/m-p/272100\r\n  [2]: https://mvnrepository.com/artifact/com.google.code.gson/gson","title":"NoClassDefFoundError for junits during mvn test","body":"<p>I had the same issue and I fixed it by adding into the core/pom.xml file the following dependency, the scope will make available the classes that the unit test needs</p>\n<pre><code>    &lt;dependency&gt; \n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\n        &lt;version&gt;2.10.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Sources\n<a href=\"https://experienceleaguecommunities.adobe.com/t5/adobe-experience-manager/unable-to-create-a-gson-object-in-a-test-class-in-aem-6-4/m-p/272100\" rel=\"nofollow noreferrer\">Unable to create a gson object in a test class in AEM 6.4</a>\nand <a href=\"https://mvnrepository.com/artifact/com.google.code.gson/gson\" rel=\"nofollow noreferrer\">Maven repo for the gson library</a>\nHope this helps</p>\n"}],"owner":{"account_id":5219511,"reputation":2533,"user_id":4173416,"accept_rate":0,"display_name":"SubSul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700754030,"creation_date":1669786860,"question_id":74623316,"body_markdown":"I have the below two dependencies in my current setup.\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.adobe.aem&lt;/groupId&gt;\r\n    &lt;artifactId&gt;aem-sdk-api&lt;/artifactId&gt;\r\n    &lt;version&gt;${aem.sdk.api}&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.tinify&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tinify&lt;/artifactId&gt;\r\n    &lt;version&gt;1.6.4&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAnd I have this test class which uses the gson dependency from `com.adobe.aem` package, at least that is what the IDE says\r\n\r\n[![Test class][1]][1]\r\n\r\nWhen I run tests from the IDE or do a `mvn clean install`, all the tests execute fine.\r\n\r\n----------------------------------------\r\n\r\nI have no use for the `com.tinify` package now and I remove this dependency from the pom.xml.\r\nRunning the tests from IDE (right click and execute test) works fine but when I do a `mvn clean install` or `mvn test`, I get a `NoClassDefFoundError` for the `gson` library.\r\n\r\n```\r\njava.lang.NoClassDefFoundError: com/google/gson/internal/LinkedTreeMap\r\n\tat com.......\r\n```\r\n\r\nRunning `mvn dependency:tree` with the `com.tinify` package gives me this\r\n\r\n```\r\n[INFO] +- com.tinify:tinify:jar:1.6.4:provided\r\n[INFO] |  +- com.squareup.okhttp3:okhttp:jar:3.10.0:provided\r\n[INFO] |  |  \\- com.squareup.okio:okio:jar:1.14.0:provided\r\n[INFO] |  \\- com.google.code.gson:gson:jar:2.8.5:provided\r\n```\r\n\r\nFrom this I understand, mvn uses the gson library from the `com.tinify` package and removing it is causing this exception. But the `com.adobe.aem` dependency also contains the `gson` package.\r\n\r\nHow do I get mvn to use the gson library from `com.adobe.aem` package ?\r\n\r\n  [1]: https://i.stack.imgur.com/7cAmt.png","title":"NoClassDefFoundError for junits during mvn test","body":"<p>I have the below two dependencies in my current setup.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.adobe.aem&lt;/groupId&gt;\n    &lt;artifactId&gt;aem-sdk-api&lt;/artifactId&gt;\n    &lt;version&gt;${aem.sdk.api}&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.tinify&lt;/groupId&gt;\n    &lt;artifactId&gt;tinify&lt;/artifactId&gt;\n    &lt;version&gt;1.6.4&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And I have this test class which uses the gson dependency from <code>com.adobe.aem</code> package, at least that is what the IDE says</p>\n<p><a href=\"https://i.stack.imgur.com/7cAmt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7cAmt.png\" alt=\"Test class\" /></a></p>\n<p>When I run tests from the IDE or do a <code>mvn clean install</code>, all the tests execute fine.</p>\n<hr />\n<p>I have no use for the <code>com.tinify</code> package now and I remove this dependency from the pom.xml.\nRunning the tests from IDE (right click and execute test) works fine but when I do a <code>mvn clean install</code> or <code>mvn test</code>, I get a <code>NoClassDefFoundError</code> for the <code>gson</code> library.</p>\n<pre><code>java.lang.NoClassDefFoundError: com/google/gson/internal/LinkedTreeMap\n    at com.......\n</code></pre>\n<p>Running <code>mvn dependency:tree</code> with the <code>com.tinify</code> package gives me this</p>\n<pre><code>[INFO] +- com.tinify:tinify:jar:1.6.4:provided\n[INFO] |  +- com.squareup.okhttp3:okhttp:jar:3.10.0:provided\n[INFO] |  |  \\- com.squareup.okio:okio:jar:1.14.0:provided\n[INFO] |  \\- com.google.code.gson:gson:jar:2.8.5:provided\n</code></pre>\n<p>From this I understand, mvn uses the gson library from the <code>com.tinify</code> package and removing it is causing this exception. But the <code>com.adobe.aem</code> dependency also contains the <code>gson</code> package.</p>\n<p>How do I get mvn to use the gson library from <code>com.adobe.aem</code> package ?</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","java-record"],"comments":[{"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"score":3,"creation_date":1641434694,"post_id":70601508,"comment_id":124806536,"body_markdown":"No records break multiple requirements of a classic JPA entity. Entities shouldn&#39;t be final, a no-args constructor is required and the attributes can not be final.","body":"No records break multiple requirements of a classic JPA entity. Entities shouldn&#39;t be final, a no-args constructor is required and the attributes can not be final."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1700753740,"creation_date":1641434528,"answer_id":70601646,"question_id":70601508,"body_markdown":"# tl;dr\r\n\r\nNo support currently, but likely in the future, perhaps next year, 2024.\r\n\r\n# Future\r\n\r\nAccording to [*Jakarta EE 11: The Next Major Jakarta EE Update Is Shaping Up*](https://newsroom.eclipse.org/eclipse-newsletter/2023/august/jakarta-ee-11-next-major-jakarta-ee-update-shaping) by Ivar Grimstad, 2023-08:\r\n\r\n - In [*Jakarta Persistence 3.2*][1], Java Records will be usable as an embeddable type. \r\n - [*Jakarta Validation 3.1*][2] will add support for Java Records.\r\n\r\n# Present\r\n\r\nSee the article, [*Using Records as Projections in JPA*](https://wkorando.github.io/sip-of-java/015.html) by Billy Korando. The following is a brief summary.\r\n\r\n## Records cannot be Entities\r\n\r\n[*Jakarta Persistence* ](https://en.wikipedia.org/wiki/Jakarta_Persistence) (*JPA*; formerly *Java Persistence API*) implementations such as [*Hibernate*](https://en.wikipedia.org/wiki/Hibernate_(framework)) depend on features either forbidden or not recommended by the [JEP 395: Records][3] spec: no-arg constructors, non-final fields, setters, etc. \r\n\r\n So, no, records cannot be used as JPA `Entity`. \r\n\r\n## Other uses of records\r\n\r\nYou can use records with:\r\n\r\n - `CriteriaBuilder`\r\n - `TypedQuery`\r\n - `NativeQuery`\r\n - Mapping definition\r\n\r\nSpring data has some support as well. \r\n\r\nSee that article linked above for details, and for links to two other articles.\r\n\r\n\r\n  [1]: https://jakarta.ee/specifications/persistence/3.2/\r\n  [2]: https://jakarta.ee/specifications/bean-validation/3.1/\r\n  [3]: https://openjdk.java.net/jeps/395","title":"Can I use Java 16 record with JPA entity?","body":"<h1>tl;dr</h1>\n<p>No support currently, but likely in the future, perhaps next year, 2024.</p>\n<h1>Future</h1>\n<p>According to <a href=\"https://newsroom.eclipse.org/eclipse-newsletter/2023/august/jakarta-ee-11-next-major-jakarta-ee-update-shaping\" rel=\"nofollow noreferrer\"><em>Jakarta EE 11: The Next Major Jakarta EE Update Is Shaping Up</em></a> by Ivar Grimstad, 2023-08:</p>\n<ul>\n<li>In <a href=\"https://jakarta.ee/specifications/persistence/3.2/\" rel=\"nofollow noreferrer\"><em>Jakarta Persistence 3.2</em></a>, Java Records will be usable as an embeddable type.</li>\n<li><a href=\"https://jakarta.ee/specifications/bean-validation/3.1/\" rel=\"nofollow noreferrer\"><em>Jakarta Validation 3.1</em></a> will add support for Java Records.</li>\n</ul>\n<h1>Present</h1>\n<p>See the article, <a href=\"https://wkorando.github.io/sip-of-java/015.html\" rel=\"nofollow noreferrer\"><em>Using Records as Projections in JPA</em></a> by Billy Korando. The following is a brief summary.</p>\n<h2>Records cannot be Entities</h2>\n<p><a href=\"https://en.wikipedia.org/wiki/Jakarta_Persistence\" rel=\"nofollow noreferrer\"><em>Jakarta Persistence</em> </a> (<em>JPA</em>; formerly <em>Java Persistence API</em>) implementations such as <a href=\"https://en.wikipedia.org/wiki/Hibernate_(framework)\" rel=\"nofollow noreferrer\"><em>Hibernate</em></a> depend on features either forbidden or not recommended by the <a href=\"https://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">JEP 395: Records</a> spec: no-arg constructors, non-final fields, setters, etc.</p>\n<p> So, no, records cannot be used as JPA <code>Entity</code>.</p>\n<h2>Other uses of records</h2>\n<p>You can use records with:</p>\n<ul>\n<li><code>CriteriaBuilder</code></li>\n<li><code>TypedQuery</code></li>\n<li><code>NativeQuery</code></li>\n<li>Mapping definition</li>\n</ul>\n<p>Spring data has some support as well.</p>\n<p>See that article linked above for details, and for links to two other articles.</p>\n"}],"owner":{"account_id":22260406,"reputation":353,"user_id":16491901,"display_name":"MongGu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10647,"favorite_count":0,"down_vote_count":1,"up_vote_count":25,"accepted_answer_id":70601646,"answer_count":1,"score":24,"last_activity_date":1700753740,"creation_date":1641432692,"question_id":70601508,"body_markdown":"I am trying to do something similar like below.\r\n\r\n    @Entity\r\n    @Table(name=&quot;Sample&quot;)\r\n    public record Sample(Integer id, String name) {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name=&quot;user_id&quot;)\r\n        private Integer id;\r\n    \r\n        @Column(name=&quot;username&quot;)\r\n        private String name;\r\n    \r\n    }\r\n\r\nHowever, it gives me error &quot;User declared non-static fields id are not permitted in a record&quot;\r\nand same for name field as well. \r\n\r\nIs there a way to use new java feature &quot;record&quot; with JPA annotation? \r\n","title":"Can I use Java 16 record with JPA entity?","body":"<p>I am trying to do something similar like below.</p>\n<pre><code>@Entity\n@Table(name=&quot;Sample&quot;)\npublic record Sample(Integer id, String name) {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=&quot;user_id&quot;)\n    private Integer id;\n\n    @Column(name=&quot;username&quot;)\n    private String name;\n\n}\n</code></pre>\n<p>However, it gives me error &quot;User declared non-static fields id are not permitted in a record&quot;\nand same for name field as well.</p>\n<p>Is there a way to use new java feature &quot;record&quot; with JPA annotation?</p>\n"},{"tags":["java","spring","unit-testing","integration-testing"],"comments":[{"owner":{"account_id":451021,"reputation":181,"user_id":846668,"display_name":"Tyutyutyu"},"score":1,"creation_date":1700778402,"post_id":77538054,"comment_id":136698673,"body_markdown":"1. Upgrade the library and post a pull request. The maintainer maybe create a new release. 2. Upgrade the library and create a new custom release in-house.","body":"1. Upgrade the library and post a pull request. The maintainer maybe create a new release. 2. Upgrade the library and create a new custom release in-house."},{"owner":{"account_id":21704500,"reputation":75,"user_id":16017180,"display_name":"Joan"},"score":0,"creation_date":1700782707,"post_id":77538054,"comment_id":136698979,"body_markdown":"Good idea. I have actually overriden most of the classes, so most of the work is done. Thanks man.","body":"Good idea. I have actually overriden most of the classes, so most of the work is done. Thanks man."},{"owner":{"account_id":451021,"reputation":181,"user_id":846668,"display_name":"Tyutyutyu"},"score":1,"creation_date":1700784764,"post_id":77538054,"comment_id":136699117,"body_markdown":"If you duplicate a class (one in the original library and one in your source) with the same name and same package, it will be environment-dependent which class will be loaded by the class loader.","body":"If you duplicate a class (one in the original library and one in your source) with the same name and same package, it will be environment-dependent which class will be loaded by the class loader."},{"owner":{"account_id":21704500,"reputation":75,"user_id":16017180,"display_name":"Joan"},"score":0,"creation_date":1701697024,"post_id":77538054,"comment_id":136804049,"body_markdown":"You can post the comment as answer and I will mark it as correct. I did upgrade the library , posted the PR and now it is released in maven. Thanks a lot for reminding me. The link to the PR: https://github.com/ozimov/spring-boot-email-tools/pull/85","body":"You can post the comment as answer and I will mark it as correct. I did upgrade the library , posted the PR and now it is released in maven. Thanks a lot for reminding me. The link to the PR: <a href=\"https://github.com/ozimov/spring-boot-email-tools/pull/85\" rel=\"nofollow noreferrer\">github.com/ozimov/spring-boot-email-tools/pull/85</a>"},{"owner":{"account_id":451021,"reputation":181,"user_id":846668,"display_name":"Tyutyutyu"},"score":1,"creation_date":1701786307,"post_id":77538054,"comment_id":136816744,"body_markdown":"You solved the problem, so you can post your own solution as an answer.","body":"You solved the problem, so you can post your own solution as an answer."}],"owner":{"account_id":21704500,"reputation":75,"user_id":16017180,"display_name":"Joan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700753532,"creation_date":1700753532,"question_id":77538054,"body_markdown":"Upgrading from Spring Boot 2 to 3 brought some problems with our app. \r\nThe following Dependency \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;it.ozimov&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-freemarker-email&lt;/artifactId&gt;\r\n            &lt;version&gt;0.6.3&lt;/version&gt; \r\n        &lt;/dependency&gt;\r\ncannot be upgraded. So I overrode the classes, and replaced all javax lines/usages with jakarta.\r\nAnd used BeanProcessor to lazyly init the bean inside the library for the Spring App as follows.\r\n\r\n        @Component\r\n      public class BeanProcessor implements BeanFactoryPostProcessor {\r\n        @Override\r\n        public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\r\n            BeanDefinitionRegistry beanDefinitionRegistry = (BeanDefinitionRegistry) beanFactory;\r\n    \r\n            beanDefinitionRegistry\r\n                    .getBeanDefinition(&quot;defaultEmailService&quot;)\r\n                    .setLazyInit(true);\r\n    \r\n        }\r\n    }\r\n\r\nHowever, when attempting to start the Application Context inside the test files annotating it with @SpringBootTest,\r\nit gives me the following stacktrace:\r\n\r\n\r\n    java.lang.IllegalStateException: Failed to load ApplicationContext for...\r\n    Caused by: java.lang.IllegalStateException: Failed to introspect Class [it.ozimov.springboot.mail.service.defaultimpl.DefaultEmailService] from ClassLoader ....\r\n    Caused by: java.lang.ClassNotFoundException: javax.activation.DataSource\r\n\r\n**Meaning the class *DefaultEmailService*, requires the *javax.activation.DataSource* to be compiled correctly.\r\nI have overriden this bean in the main app, however, tests apparently need the whole code to compile.**\r\n\r\nAny suggestions on how to overcome this ? (instead of changing the entire library, we don&#39;t have that much time)\r\n\r\n","title":"How to solve &quot;Failed to instrospect class&quot; in Spring Testing Context?","body":"<p>Upgrading from Spring Boot 2 to 3 brought some problems with our app.\nThe following Dependency</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;it.ozimov&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-freemarker-email&lt;/artifactId&gt;\n        &lt;version&gt;0.6.3&lt;/version&gt; \n    &lt;/dependency&gt;\n</code></pre>\n<p>cannot be upgraded. So I overrode the classes, and replaced all javax lines/usages with jakarta.\nAnd used BeanProcessor to lazyly init the bean inside the library for the Spring App as follows.</p>\n<pre><code>    @Component\n  public class BeanProcessor implements BeanFactoryPostProcessor {\n    @Override\n    public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\n        BeanDefinitionRegistry beanDefinitionRegistry = (BeanDefinitionRegistry) beanFactory;\n\n        beanDefinitionRegistry\n                .getBeanDefinition(&quot;defaultEmailService&quot;)\n                .setLazyInit(true);\n\n    }\n}\n</code></pre>\n<p>However, when attempting to start the Application Context inside the test files annotating it with @SpringBootTest,\nit gives me the following stacktrace:</p>\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext for...\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [it.ozimov.springboot.mail.service.defaultimpl.DefaultEmailService] from ClassLoader ....\nCaused by: java.lang.ClassNotFoundException: javax.activation.DataSource\n</code></pre>\n<p><strong>Meaning the class <em>DefaultEmailService</em>, requires the <em>javax.activation.DataSource</em> to be compiled correctly.\nI have overriden this bean in the main app, however, tests apparently need the whole code to compile.</strong></p>\n<p>Any suggestions on how to overcome this ? (instead of changing the entire library, we don't have that much time)</p>\n"},{"tags":["java","neo4j"],"answers":[{"tags":[],"owner":{"account_id":26739540,"reputation":91,"user_id":20340543,"display_name":"Podbrushkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700753520,"creation_date":1700243597,"answer_id":77503708,"question_id":77428848,"body_markdown":"Looks like it is Neo4j Browser is that you&#39;re interested in, not Neo4j Desktop. Most straightforward way is to connect Neo4j Browser to your embedded database while your app is running. But also indeed you can export whole database to a file and import it in Neo4j Browser which is connected to some other db, preferably empty.\r\n\r\n## Connect from Neo4j Browser in Neo4j Desktop\r\n\r\nIf you have started Neo4j Embedded with these settings:\r\n```\r\n.setConfig( BoltConnector.enabled, true )`\r\n.setConfig(BoltConnector.encryption_level, BoltConnector.EncryptionLevel.DISABLED)\r\n```\r\n\r\nthen you can connect to it while application is running by pointing Neo4j Browser to localhost:7687 and `No authentication` option:\r\n\r\n[![connect to db with neo4j browser in neo4j desktop][1]][1]\r\n\r\n---\r\n\r\n## Connect from Neo4j Browser in Docker Neo4j image\r\n\r\nIf you have **Docker**, you can access database created by your application without application itself and without *Neo4j Desktop* installed.\r\n\r\nIf you are creating your embedded db like that:\r\n```\r\nDatabaseManagementService managementService = \r\n    new  DatabaseManagementServiceBuilder(new File(&quot;target/mydb&quot;).toPath())\r\n```\r\nit means database is located at `/target/mydb/` directory. It stays there even after application is stopped.\r\n\r\nYou can run a new neo4j server with this database by executing this bash command in directory with `pom.xml` once your application is stopped:\r\n```\r\nsudo docker run --rm -p 7474:7474 -p 7687:7687 -v $PWD/target/mydb/data:/data --name neo4j-1 neo4j\r\n```\r\n\r\nI am using powershell and actual commands I execute are:\r\n```\r\n$neo4jDataDir = &#39;./target/mydb/data/&#39;\r\ndocker run --name neo4j-1 --rm -v $neo4jDataDir`:/data -p 7474:7474 -p 7687:7687 -e NEO4J_AUTH=neo4j/qwertyuiop -d neo4j\r\n# Checkout what&#39;s happening:\r\ndocker logs neo4j-1\r\n# Stop server:\r\ndocker stop neo4j-1\r\n```\r\n\r\nOnce server is up and running, **Neo4j Browser** becomes available at localhost:7474 in web browser.\r\n\r\nAlso I&#39;ve noticed when you stop server, **Neo4j Browser** keeps working until you will close it&#39;s tab in web browser.\r\n\r\n## Export database and import in Neo4j Browser\r\n\r\nIf for some reason you can&#39;t connect to your database with Neo4j Browser, you can dump your db to a file and import it afterwards in Neo4j Browser which is connected to a different db, preferably empty. For this you will need external plugin Apoc.\r\n\r\n1. Add these dependencies to project:\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.neo4j.procedure&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;apoc-core&lt;/artifactId&gt;\r\n\t&lt;version&gt;${neo4j.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.neo4j.procedure&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;apoc-common&lt;/artifactId&gt;\r\n\t&lt;version&gt;${neo4j.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n2. Register procedure you will use:\r\n```java\r\n...\r\nGraphDatabaseService db = graphDb.database(GraphDatabaseSettings.DEFAULT_DATABASE_NAME);\r\nregisterProcedure(db,\r\n\t\tapoc.export.cypher.ExportCypher.class);\r\n...\r\npublic static void registerProcedure(GraphDatabaseService db, Class&lt;?&gt;... procedures) {\r\n\tGlobalProcedures globalProcedures = ((GraphDatabaseAPI) db).getDependencyResolver()\r\n\t\t\t.resolveDependency(GlobalProcedures.class);\r\n\tfor (Class&lt;?&gt; procedure : procedures) {\r\n\t\ttry {\r\n\t\t\tglobalProcedures.registerProcedure(procedure);\r\n\t\t\tglobalProcedures.registerFunction(procedure);\r\n\t\t\tglobalProcedures.registerAggregationFunction(procedure);\r\n\t\t} catch (KernelException e) {\r\n\t\t\tthrow new RuntimeException(&quot;while registering &quot; + procedure, e);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n3. Enable exporting to a file:\r\n```java\r\nApocConfig.apocConfig().setProperty(ApocConfig.APOC_EXPORT_FILE_ENABLED, true);\r\n```\r\n\r\n4. Execute procedure:\r\n```java\r\ntry (\r\n\tvar driver = GraphDatabase.driver(&quot;bolt://localhost:7687&quot;, AuthTokens.none());\r\n\tvar session = driver.session()) {\r\n\tvar query = &quot;&quot;&quot;\r\n\t\t\tCALL apoc.export.cypher.all(&quot;all-plain.cypher&quot;, {\r\n\t\t\t\tformat: &quot;plain&quot;,\r\n\t\t\t\tuseOptimizations: {type: &quot;UNWIND_BATCH&quot;, unwindBatchSize: 20}\r\n\t\t\t})\r\n\t\t\t&quot;&quot;&quot;;\r\n\tsession.executeRead(t -&gt; t.run(query).consume());\r\n}\r\n```\r\n\r\n5. Find a `./target/mydb/all-plain.cypher` text file with all your data in Cypher format.\r\n\r\n6. Drag and drop it to Neo4j Browser or copy-paste it&#39;s contents. \r\n\r\nFully working example of dumping database to a file can be found [in this Gist](https://gist.github.com/Podbrushkin/3f16feb9b9da22ab27ee2878c38633aa).\r\n\r\n  [1]: https://i.stack.imgur.com/PHRyl.gif","title":"Embedded database to neo4j desktop","body":"<p>Looks like it is Neo4j Browser is that you're interested in, not Neo4j Desktop. Most straightforward way is to connect Neo4j Browser to your embedded database while your app is running. But also indeed you can export whole database to a file and import it in Neo4j Browser which is connected to some other db, preferably empty.</p>\n<h2>Connect from Neo4j Browser in Neo4j Desktop</h2>\n<p>If you have started Neo4j Embedded with these settings:</p>\n<pre><code>.setConfig( BoltConnector.enabled, true )`\n.setConfig(BoltConnector.encryption_level, BoltConnector.EncryptionLevel.DISABLED)\n</code></pre>\n<p>then you can connect to it while application is running by pointing Neo4j Browser to localhost:7687 and <code>No authentication</code> option:</p>\n<p><a href=\"https://i.stack.imgur.com/PHRyl.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PHRyl.gif\" alt=\"connect to db with neo4j browser in neo4j desktop\" /></a></p>\n<hr />\n<h2>Connect from Neo4j Browser in Docker Neo4j image</h2>\n<p>If you have <strong>Docker</strong>, you can access database created by your application without application itself and without <em>Neo4j Desktop</em> installed.</p>\n<p>If you are creating your embedded db like that:</p>\n<pre><code>DatabaseManagementService managementService = \n    new  DatabaseManagementServiceBuilder(new File(&quot;target/mydb&quot;).toPath())\n</code></pre>\n<p>it means database is located at <code>/target/mydb/</code> directory. It stays there even after application is stopped.</p>\n<p>You can run a new neo4j server with this database by executing this bash command in directory with <code>pom.xml</code> once your application is stopped:</p>\n<pre><code>sudo docker run --rm -p 7474:7474 -p 7687:7687 -v $PWD/target/mydb/data:/data --name neo4j-1 neo4j\n</code></pre>\n<p>I am using powershell and actual commands I execute are:</p>\n<pre><code>$neo4jDataDir = './target/mydb/data/'\ndocker run --name neo4j-1 --rm -v $neo4jDataDir`:/data -p 7474:7474 -p 7687:7687 -e NEO4J_AUTH=neo4j/qwertyuiop -d neo4j\n# Checkout what's happening:\ndocker logs neo4j-1\n# Stop server:\ndocker stop neo4j-1\n</code></pre>\n<p>Once server is up and running, <strong>Neo4j Browser</strong> becomes available at localhost:7474 in web browser.</p>\n<p>Also I've noticed when you stop server, <strong>Neo4j Browser</strong> keeps working until you will close it's tab in web browser.</p>\n<h2>Export database and import in Neo4j Browser</h2>\n<p>If for some reason you can't connect to your database with Neo4j Browser, you can dump your db to a file and import it afterwards in Neo4j Browser which is connected to a different db, preferably empty. For this you will need external plugin Apoc.</p>\n<ol>\n<li>Add these dependencies to project:</li>\n</ol>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.neo4j.procedure&lt;/groupId&gt;\n    &lt;artifactId&gt;apoc-core&lt;/artifactId&gt;\n    &lt;version&gt;${neo4j.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.neo4j.procedure&lt;/groupId&gt;\n    &lt;artifactId&gt;apoc-common&lt;/artifactId&gt;\n    &lt;version&gt;${neo4j.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Register procedure you will use:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>...\nGraphDatabaseService db = graphDb.database(GraphDatabaseSettings.DEFAULT_DATABASE_NAME);\nregisterProcedure(db,\n        apoc.export.cypher.ExportCypher.class);\n...\npublic static void registerProcedure(GraphDatabaseService db, Class&lt;?&gt;... procedures) {\n    GlobalProcedures globalProcedures = ((GraphDatabaseAPI) db).getDependencyResolver()\n            .resolveDependency(GlobalProcedures.class);\n    for (Class&lt;?&gt; procedure : procedures) {\n        try {\n            globalProcedures.registerProcedure(procedure);\n            globalProcedures.registerFunction(procedure);\n            globalProcedures.registerAggregationFunction(procedure);\n        } catch (KernelException e) {\n            throw new RuntimeException(&quot;while registering &quot; + procedure, e);\n        }\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>Enable exporting to a file:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>ApocConfig.apocConfig().setProperty(ApocConfig.APOC_EXPORT_FILE_ENABLED, true);\n</code></pre>\n<ol start=\"4\">\n<li>Execute procedure:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>try (\n    var driver = GraphDatabase.driver(&quot;bolt://localhost:7687&quot;, AuthTokens.none());\n    var session = driver.session()) {\n    var query = &quot;&quot;&quot;\n            CALL apoc.export.cypher.all(&quot;all-plain.cypher&quot;, {\n                format: &quot;plain&quot;,\n                useOptimizations: {type: &quot;UNWIND_BATCH&quot;, unwindBatchSize: 20}\n            })\n            &quot;&quot;&quot;;\n    session.executeRead(t -&gt; t.run(query).consume());\n}\n</code></pre>\n<ol start=\"5\">\n<li><p>Find a <code>./target/mydb/all-plain.cypher</code> text file with all your data in Cypher format.</p>\n</li>\n<li><p>Drag and drop it to Neo4j Browser or copy-paste it's contents.</p>\n</li>\n</ol>\n<p>Fully working example of dumping database to a file can be found <a href=\"https://gist.github.com/Podbrushkin/3f16feb9b9da22ab27ee2878c38633aa\" rel=\"nofollow noreferrer\">in this Gist</a>.</p>\n"}],"owner":{"account_id":20062508,"reputation":5,"user_id":14708942,"display_name":"AES"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77503708,"answer_count":1,"score":0,"last_activity_date":1700753520,"creation_date":1699247159,"question_id":77428848,"body_markdown":"I&#39;m currently using `DatabaseManagementServiceBuilder` to store `neo4j` data on my local host. Is there anyway to import the data to `neo4j` desktop or any other tool for visualisation? for example by creating a `.csv` file or dumping the data.\r\n\r\nThis is how my directories look like.\r\n\r\nfirst  \r\n![first][1]\r\n\r\nsecond  \r\n![second][2]\r\n\r\nthird  \r\n![third][3]\r\n\r\nI tried to replace the `/data` directory in a `neo4j` desktop database with my own `/data` directory but it didn&#39;t work (`neo4j` desktop kept giving an error which was no surprise).\r\n\r\n\r\n[enter image description here][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QLm9Z.jpg\r\n  [2]: https://i.stack.imgur.com/3EW2r.jpg\r\n  [3]: https://i.stack.imgur.com/uU9xt.jpg\r\n\r\nthis is my code for connecting\r\n  [4]: https://i.stack.imgur.com/GkIKu.png","title":"Embedded database to neo4j desktop","body":"<p>I'm currently using <code>DatabaseManagementServiceBuilder</code> to store <code>neo4j</code> data on my local host. Is there anyway to import the data to <code>neo4j</code> desktop or any other tool for visualisation? for example by creating a <code>.csv</code> file or dumping the data.</p>\n<p>This is how my directories look like.</p>\n<p>first<br />\n<img src=\"https://i.stack.imgur.com/QLm9Z.jpg\" alt=\"first\" /></p>\n<p>second<br />\n<img src=\"https://i.stack.imgur.com/3EW2r.jpg\" alt=\"second\" /></p>\n<p>third<br />\n<img src=\"https://i.stack.imgur.com/uU9xt.jpg\" alt=\"third\" /></p>\n<p>I tried to replace the <code>/data</code> directory in a <code>neo4j</code> desktop database with my own <code>/data</code> directory but it didn't work (<code>neo4j</code> desktop kept giving an error which was no surprise).</p>\n<p>[enter image description here][4]</p>\n<p>this is my code for connecting\n[4]: <a href=\"https://i.stack.imgur.com/GkIKu.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/GkIKu.png</a></p>\n"},{"tags":["java","spring-boot","spring-data-jpa","spring-data"],"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700753303,"creation_date":1700753303,"question_id":77538037,"body_markdown":"I was reading [Spring Data documentation][1] and noticed this example:\r\n```java\r\ninterface PersonRepository extends Repository&lt;Person, UUID&gt; {\r\n\r\n  Collection&lt;NamesOnly&gt; findByLastname(String lastname);\r\n}\r\n```\r\n```java\r\ninterface NamesOnly {\r\n\r\n  String getFirstname();\r\n  String getLastname();\r\n}\r\n```\r\nIt should work with DTOs too:\r\n\r\n&gt; Another way of defining projections is by using value type DTOs (Data Transfer Objects) that hold properties for the fields that are supposed to be retrieved. These DTO types can be used in exactly the same way projection interfaces are used, except that no proxying happens and no nested projections can be applied.\r\n&gt;\r\n&gt; If the store optimizes the query execution by limiting the fields to be loaded, the fields to be loaded are determined from the parameter names of the constructor that is exposed.\r\n\r\nIt caught my attention since it can theoretically rid us of at least some of the mappers in our project. However, it couldn&#39;t be pulled off right away. An MRE:\r\n```java\r\npublic interface CardRepository extends Repository&lt;Card, UUID&gt; {\r\n    List&lt;CardIdDto&gt; findCardIdsByAccountId(UUID accountId);\r\n}\r\n```\r\n```java\r\n@Entity\r\n@Table(name = &quot;card&quot;)\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\npublic class Card {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private UUID id;\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;account_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Account account;\r\n    @Enumerated(value = EnumType.STRING)\r\n    private CardStatus status;\r\n}\r\n```\r\n```java\r\npublic enum CardStatus {\r\n    ACTIVE, NON_ACTIVE\r\n}\r\n```\r\n```java\r\n@Entity\r\n@Table(name = &quot;account&quot;)\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\npublic class Account {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;)\r\n    private UUID id;\r\n    @OneToMany(mappedBy = &quot;account&quot;)\r\n    private List&lt;Card&gt; cards;\r\n}\r\n```\r\n```java\r\n@Getter\r\n@EqualsAndHashCode\r\n@ToString\r\n@AllArgsConstructor\r\npublic class CardIdDto {\r\n    private UUID id;\r\n}\r\n```\r\n```java\r\n@DataJpaTest\r\n@ActiveProfiles(&quot;test&quot;) // for additional logs, ddl-auto is disabled too\r\n@Sql(\r\n        executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD,\r\n        scripts = {&quot;/schema-h2.sql&quot;, &quot;/data-h2.sql&quot;}\r\n)\r\nclass CardRepositoryTest {\r\n\r\n    @Autowired\r\n    private CardRepository cardRepository;\r\n    private final static UUID ACCOUNT_ID = UUID.fromString(&quot;00000000-0000-0000-0000-000000000ac1&quot;);\r\n\r\n    @Test\r\n    void testFindIds() {\r\n        List&lt;CardIdDto&gt; cardIds = cardRepository.findCardIdsByAccountId(ACCOUNT_ID);\r\n        assertThat(cardIds).asList().hasSize(2);\r\n    }\r\n}\r\n```\r\n```sql\r\n-- schema\r\n\r\nCREATE TABLE IF NOT EXISTS PUBLIC.account\r\n(\r\n    id                        UUID           PRIMARY KEY\r\n);\r\nCREATE TABLE IF NOT EXISTS PUBLIC.card\r\n(\r\n    id                UUID             PRIMARY KEY,\r\n    account_id        UUID             NOT NULL REFERENCES account (id),\r\n    status            VARCHAR(30)      NOT NULL\r\n);\r\n```\r\n```sql\r\n-- data\r\n\r\nINSERT INTO PUBLIC.ACCOUNT\r\nVALUES (&#39;00000000-0000-0000-0000-000000000ac1&#39;);\r\n\r\nINSERT INTO PUBLIC.CARD\r\nVALUES (&#39;00000000-0000-0000-0000-0000000000c1&#39;, &#39;00000000-0000-0000-0000-000000000ac1&#39;, &#39;ACTIVE&#39;);\r\n\r\nINSERT INTO PUBLIC.CARD\r\nVALUES (&#39;00000000-0000-0000-0000-0000000000c2&#39;, &#39;00000000-0000-0000-0000-000000000ac1&#39;, &#39;ACTIVE&#39;);\r\n```\r\nThe exception message is not helpful:\r\n```\r\njava.lang.ClassCastException: class org.hibernate.hql.internal.ast.tree.SqlNode cannot be cast to class org.hibernate.hql.internal.ast.tree.FromReferenceNode (org.hibernate.hql.internal.ast.tree.SqlNode and org.hibernate.hql.internal.ast.tree.FromReferenceNode are in unnamed module of loader &#39;app&#39;)\r\n```\r\nSo I am wondering, is the trick possible in Spring Data 2 (we haven&#39;t upgraded to 3)\r\n\r\n\r\n  [1]: https://web.archive.org/web/20230929080923/https://docs.spring.io/spring-data/jpa/docs/current/reference/html/","title":"Can you have DTOs as return types of Spring Data 2 methods?","body":"<p>I was reading <a href=\"https://web.archive.org/web/20230929080923/https://docs.spring.io/spring-data/jpa/docs/current/reference/html/\" rel=\"nofollow noreferrer\">Spring Data documentation</a> and noticed this example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface PersonRepository extends Repository&lt;Person, UUID&gt; {\n\n  Collection&lt;NamesOnly&gt; findByLastname(String lastname);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>interface NamesOnly {\n\n  String getFirstname();\n  String getLastname();\n}\n</code></pre>\n<p>It should work with DTOs too:</p>\n<blockquote>\n<p>Another way of defining projections is by using value type DTOs (Data Transfer Objects) that hold properties for the fields that are supposed to be retrieved. These DTO types can be used in exactly the same way projection interfaces are used, except that no proxying happens and no nested projections can be applied.</p>\n<p>If the store optimizes the query execution by limiting the fields to be loaded, the fields to be loaded are determined from the parameter names of the constructor that is exposed.</p>\n</blockquote>\n<p>It caught my attention since it can theoretically rid us of at least some of the mappers in our project. However, it couldn't be pulled off right away. An MRE:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface CardRepository extends Repository&lt;Card, UUID&gt; {\n    List&lt;CardIdDto&gt; findCardIdsByAccountId(UUID accountId);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;card&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class Card {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private UUID id;\n    @ManyToOne\n    @JoinColumn(name = &quot;account_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Account account;\n    @Enumerated(value = EnumType.STRING)\n    private CardStatus status;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public enum CardStatus {\n    ACTIVE, NON_ACTIVE\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;account&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class Account {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private UUID id;\n    @OneToMany(mappedBy = &quot;account&quot;)\n    private List&lt;Card&gt; cards;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@EqualsAndHashCode\n@ToString\n@AllArgsConstructor\npublic class CardIdDto {\n    private UUID id;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@DataJpaTest\n@ActiveProfiles(&quot;test&quot;) // for additional logs, ddl-auto is disabled too\n@Sql(\n        executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD,\n        scripts = {&quot;/schema-h2.sql&quot;, &quot;/data-h2.sql&quot;}\n)\nclass CardRepositoryTest {\n\n    @Autowired\n    private CardRepository cardRepository;\n    private final static UUID ACCOUNT_ID = UUID.fromString(&quot;00000000-0000-0000-0000-000000000ac1&quot;);\n\n    @Test\n    void testFindIds() {\n        List&lt;CardIdDto&gt; cardIds = cardRepository.findCardIdsByAccountId(ACCOUNT_ID);\n        assertThat(cardIds).asList().hasSize(2);\n    }\n}\n</code></pre>\n<pre class=\"lang-sql prettyprint-override\"><code>-- schema\n\nCREATE TABLE IF NOT EXISTS PUBLIC.account\n(\n    id                        UUID           PRIMARY KEY\n);\nCREATE TABLE IF NOT EXISTS PUBLIC.card\n(\n    id                UUID             PRIMARY KEY,\n    account_id        UUID             NOT NULL REFERENCES account (id),\n    status            VARCHAR(30)      NOT NULL\n);\n</code></pre>\n<pre class=\"lang-sql prettyprint-override\"><code>-- data\n\nINSERT INTO PUBLIC.ACCOUNT\nVALUES ('00000000-0000-0000-0000-000000000ac1');\n\nINSERT INTO PUBLIC.CARD\nVALUES ('00000000-0000-0000-0000-0000000000c1', '00000000-0000-0000-0000-000000000ac1', 'ACTIVE');\n\nINSERT INTO PUBLIC.CARD\nVALUES ('00000000-0000-0000-0000-0000000000c2', '00000000-0000-0000-0000-000000000ac1', 'ACTIVE');\n</code></pre>\n<p>The exception message is not helpful:</p>\n<pre><code>java.lang.ClassCastException: class org.hibernate.hql.internal.ast.tree.SqlNode cannot be cast to class org.hibernate.hql.internal.ast.tree.FromReferenceNode (org.hibernate.hql.internal.ast.tree.SqlNode and org.hibernate.hql.internal.ast.tree.FromReferenceNode are in unnamed module of loader 'app')\n</code></pre>\n<p>So I am wondering, is the trick possible in Spring Data 2 (we haven't upgraded to 3)</p>\n"},{"tags":["java","properties","resourcebundle"],"answers":[{"tags":[],"owner":{"account_id":2370868,"reputation":8183,"user_id":2075524,"accept_rate":88,"display_name":"Ross Drew"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1422461172,"creation_date":1385114602,"answer_id":20142051,"question_id":20142002,"body_markdown":"[ResourceBundle][1] doesn&#39;t load files?  You need to get the files into a resource first.  How about just loading into a [FileInputStream][2] then a [PropertyResourceBundle][3]\r\n\r\n       FileInputStream fis = new FileInputStream(&quot;skyscrapper.properties&quot;);\r\n       resourceBundle = new PropertyResourceBundle(fis);\r\n\r\nOr if you need the locale specific code, something like this should work\r\n\r\n    File file = new File(&quot;skyscrapper.properties&quot;);\r\n    URL[] urls = {file.toURI().toURL()};\r\n    ClassLoader loader = new URLClassLoader(urls);\r\n    ResourceBundle rb = ResourceBundle.getBundle(&quot;skyscrapper&quot;, Locale.getDefault(), loader);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/ResourceBundle.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/io/FileInputStream.html\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/util/PropertyResourceBundle.html","title":"java.util.MissingResourceException: Can&#39;t find bundle for base name &#39;property_file name&#39;, locale en_US","body":"<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/ResourceBundle.html\" rel=\"noreferrer\">ResourceBundle</a> doesn't load files?  You need to get the files into a resource first.  How about just loading into a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/FileInputStream.html\" rel=\"noreferrer\">FileInputStream</a> then a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/PropertyResourceBundle.html\" rel=\"noreferrer\">PropertyResourceBundle</a></p>\n\n<pre><code>   FileInputStream fis = new FileInputStream(\"skyscrapper.properties\");\n   resourceBundle = new PropertyResourceBundle(fis);\n</code></pre>\n\n<p>Or if you need the locale specific code, something like this should work</p>\n\n<pre><code>File file = new File(\"skyscrapper.properties\");\nURL[] urls = {file.toURI().toURL()};\nClassLoader loader = new URLClassLoader(urls);\nResourceBundle rb = ResourceBundle.getBundle(\"skyscrapper\", Locale.getDefault(), loader);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":377411,"reputation":2773,"user_id":729513,"accept_rate":100,"display_name":"Bludzee"},"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1385116287,"creation_date":1385116287,"answer_id":20142626,"question_id":20142002,"body_markdown":"Try with the **fully qualified name** for the resource:&lt;br/&gt;\r\n\r\n    private static final String FILENAME = &quot;resources/skyscrapper&quot;;","title":"java.util.MissingResourceException: Can&#39;t find bundle for base name &#39;property_file name&#39;, locale en_US","body":"<p>Try with the <strong>fully qualified name</strong> for the resource:<br/></p>\n\n<pre><code>private static final String FILENAME = \"resources/skyscrapper\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2337675,"reputation":143,"user_id":2049626,"display_name":"Sudeep Krishnan M"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1422461272,"creation_date":1415012507,"answer_id":26712825,"question_id":20142002,"body_markdown":"Use the Resource like\r\n\r\n    ResourceBundle rb = ResourceBundle.getBundle(&quot;com//sudeep//internationalization//MyApp&quot;,locale);\r\n    or\r\n    ResourceBundle rb = ResourceBundle.getBundle(&quot;com.sudeep.internationalization.MyApp&quot;,locale);\r\n\r\nJust give the qualified path .. Its working for me!!!","title":"java.util.MissingResourceException: Can&#39;t find bundle for base name &#39;property_file name&#39;, locale en_US","body":"<p>Use the Resource like</p>\n\n<pre><code>ResourceBundle rb = ResourceBundle.getBundle(\"com//sudeep//internationalization//MyApp\",locale);\nor\nResourceBundle rb = ResourceBundle.getBundle(\"com.sudeep.internationalization.MyApp\",locale);\n</code></pre>\n\n<p>Just give the qualified path .. Its working for me!!!</p>\n"},{"tags":[],"owner":{"account_id":4941402,"reputation":2504,"user_id":3977996,"accept_rate":96,"display_name":"Alireza Alallah"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1505234091,"creation_date":1460727580,"answer_id":36648793,"question_id":20142002,"body_markdown":"You should set property file name without `.properties` extension,\r\nit works correctly for me:)","title":"java.util.MissingResourceException: Can&#39;t find bundle for base name &#39;property_file name&#39;, locale en_US","body":"<p>You should set property file name without <code>.properties</code> extension,\nit works correctly for me:)</p>\n"},{"tags":[],"owner":{"account_id":419030,"reputation":612,"user_id":795969,"display_name":"peihan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1471852514,"creation_date":1471852514,"answer_id":39074049,"question_id":20142002,"body_markdown":"I&#39;d like to share my experience of using Ant in building projects, *.properties files should be **copied explicitly**. This is because Ant will not compile *.properties files into the build working directory by default (javac just ignore *.properties). For example:\r\n\r\n\t&lt;target name=&quot;compile&quot; depends=&quot;init&quot;&gt;\r\n\t\t&lt;javac destdir=&quot;${dst}&quot; srcdir=&quot;${src}&quot; debug=&quot;on&quot; encoding=&quot;utf-8&quot; includeantruntime=&quot;false&quot;&gt;\r\n\t\t\t&lt;include name=&quot;com/example/**&quot; /&gt;\r\n\t\t\t&lt;classpath refid=&quot;libs&quot; /&gt;\r\n\t\t&lt;/javac&gt;\r\n\t\t&lt;copy todir=&quot;${dst}&quot;&gt;\r\n\t\t\t&lt;fileset dir=&quot;${src}&quot; includes=&quot;**/*.properties&quot; /&gt;\r\n\t\t&lt;/copy&gt;\r\n\t&lt;/target&gt;\r\n\r\n\t&lt;target name=&quot;jars&quot; depends=&quot;compile&quot;&gt;\r\n\t\t&lt;jar jarfile=&quot;${app_jar}&quot; basedir=&quot;${dst}&quot; includes=&quot;com/example/**/*.*&quot; /&gt;\r\n\t&lt;/target&gt;\r\n\r\n\r\nPlease notice that &#39;copy&#39; section under the &#39;compile&#39; target, it will replicate *.properties files into the build working directory. Without the &#39;copy&#39; section the jar file will not contain the properties files, then you may encounter the java.util.MissingResourceException.","title":"java.util.MissingResourceException: Can&#39;t find bundle for base name &#39;property_file name&#39;, locale en_US","body":"<p>I'd like to share my experience of using Ant in building projects, *.properties files should be <strong>copied explicitly</strong>. This is because Ant will not compile *.properties files into the build working directory by default (javac just ignore *.properties). For example:</p>\n\n<pre><code>&lt;target name=\"compile\" depends=\"init\"&gt;\n    &lt;javac destdir=\"${dst}\" srcdir=\"${src}\" debug=\"on\" encoding=\"utf-8\" includeantruntime=\"false\"&gt;\n        &lt;include name=\"com/example/**\" /&gt;\n        &lt;classpath refid=\"libs\" /&gt;\n    &lt;/javac&gt;\n    &lt;copy todir=\"${dst}\"&gt;\n        &lt;fileset dir=\"${src}\" includes=\"**/*.properties\" /&gt;\n    &lt;/copy&gt;\n&lt;/target&gt;\n\n&lt;target name=\"jars\" depends=\"compile\"&gt;\n    &lt;jar jarfile=\"${app_jar}\" basedir=\"${dst}\" includes=\"com/example/**/*.*\" /&gt;\n&lt;/target&gt;\n</code></pre>\n\n<p>Please notice that 'copy' section under the 'compile' target, it will replicate *.properties files into the build working directory. Without the 'copy' section the jar file will not contain the properties files, then you may encounter the java.util.MissingResourceException.</p>\n"},{"tags":[],"owner":{"account_id":5572329,"reputation":57,"user_id":4417101,"display_name":"TontonZition"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1479570323,"creation_date":1479570323,"answer_id":40694770,"question_id":20142002,"body_markdown":"With Eclipse and Windows:\r\n\r\nyou have to copy 2 files\r\n- xxxPROJECTxxx.properties\r\n- log4j.properties\r\nhere :  C:\\Eclipse\\CONTENER\\TOMCAT\\apache-tomcat-7\\lib","title":"java.util.MissingResourceException: Can&#39;t find bundle for base name &#39;property_file name&#39;, locale en_US","body":"<p>With Eclipse and Windows:</p>\n\n<p>you have to copy 2 files\n- xxxPROJECTxxx.properties\n- log4j.properties\nhere :  C:\\Eclipse\\CONTENER\\TOMCAT\\apache-tomcat-7\\lib</p>\n"},{"tags":[],"owner":{"account_id":7629995,"reputation":301,"user_id":5785358,"accept_rate":0,"display_name":"Etch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528255481,"creation_date":1528255481,"answer_id":50711813,"question_id":20142002,"body_markdown":"I have just realized that my error was caused in the naming convention of my property file. When i used xxxx.xxxx.properties i got the error: \r\n\r\njava.util.MissingResourceException: Can&#39;t find bundle for base name &#39;property_file name&#39;, locale en_US\r\n\r\nChanging it to something like xxx-xxxx.properties works like a charm. Hope i help someone!\r\n","title":"java.util.MissingResourceException: Can&#39;t find bundle for base name &#39;property_file name&#39;, locale en_US","body":"<p>I have just realized that my error was caused in the naming convention of my property file. When i used xxxx.xxxx.properties i got the error: </p>\n\n<p>java.util.MissingResourceException: Can't find bundle for base name 'property_file name', locale en_US</p>\n\n<p>Changing it to something like xxx-xxxx.properties works like a charm. Hope i help someone!</p>\n"},{"tags":[],"owner":{"account_id":14487360,"reputation":1,"user_id":10464827,"display_name":"karuthiruman karthikeyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538808608,"creation_date":1538808608,"answer_id":52676446,"question_id":20142002,"body_markdown":"just right click on the project file in eclipse and in build path select &quot;Use as source folder&quot;...It worked for me\r\n","title":"java.util.MissingResourceException: Can&#39;t find bundle for base name &#39;property_file name&#39;, locale en_US","body":"<p>just right click on the project file in eclipse and in build path select \"Use as source folder\"...It worked for me</p>\n"},{"tags":[],"owner":{"account_id":16872570,"reputation":613,"user_id":12200765,"display_name":"Sudheer Singh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1586342817,"creation_date":1586337729,"answer_id":61097321,"question_id":20142002,"body_markdown":"The simplest code would be like, keep your properties files into resources folder, either in src/main/resource or in src/test/resource. Then use below code to read properties files:\r\n\r\n    public class Utilities {\r\n        static {\r\n            rb1 = ResourceBundle.getBundle(&quot;fileNameWithoutExtension&quot;); \r\n                  // do not use .properties extension\r\n        }\r\n        public static String getConfigProperties(String keyString) {\r\n            return rb1.getString(keyString);\r\n        }\r\n    }","title":"java.util.MissingResourceException: Can&#39;t find bundle for base name &#39;property_file name&#39;, locale en_US","body":"<p>The simplest code would be like, keep your properties files into resources folder, either in src/main/resource or in src/test/resource. Then use below code to read properties files:</p>\n\n<pre><code>public class Utilities {\n    static {\n        rb1 = ResourceBundle.getBundle(\"fileNameWithoutExtension\"); \n              // do not use .properties extension\n    }\n    public static String getConfigProperties(String keyString) {\n        return rb1.getString(keyString);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8212780,"reputation":173,"user_id":6180243,"display_name":"iamfnizami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632666825,"creation_date":1632666825,"answer_id":69335922,"question_id":20142002,"body_markdown":"You can try anyone with resources-\r\n\r\n    private static final String FILENAME = &quot;resources.skyscrapper&quot;;\r\n    private static final String FILENAME = &quot;resources/skyscrapper&quot;;\r\n    private static final String FILENAME = &quot;resources\\\\skyscrapper&quot;;\r\n    private static final String FILENAME = &quot;resources//skyscrapper&quot;;\r\n\r\nBy default it tries to find &#39;skyscrapper.properties&#39; file inside &#39;src&#39; but you have placed your file inside a sub-directory &#39;resources&#39; which is unreachable.\r\n\r\nIn a maven project-\r\n\r\nIt looks like- &#39;src/main/resources/skyscrapper.properties&#39; then\r\n   use-\r\n\r\n    private static final String FILENAME = &quot;skyscrapper&quot;;\r\n\r\nAnd if it looks like-\r\n   &#39;src/main/resources/prop/xyz/skyscrapper.properties&#39; then use-\r\n\r\n    private static final String FILENAME = &quot;prop/xyz/skyscrapper&quot;;\r\n    private static final String FILENAME = &quot;prop.xyz.skyscrapper&quot;;\r\n\r\nIn this case by default it tries to find &#39;skyscrapper.properties&#39; file inside &#39;src/main/resources&#39; but your file is actually inside a subdirectory of resources then you need to provide relative path otherwise you may receive exception like-\r\n\r\n    Exception in thread &quot;main&quot; java.util.MissingResourceException: Can&#39;t find bundle for base name src\\main\\resources\\prop\\xyz\\skyscrapper.","title":"java.util.MissingResourceException: Can&#39;t find bundle for base name &#39;property_file name&#39;, locale en_US","body":"<p>You can try anyone with resources-</p>\n<pre><code>private static final String FILENAME = &quot;resources.skyscrapper&quot;;\nprivate static final String FILENAME = &quot;resources/skyscrapper&quot;;\nprivate static final String FILENAME = &quot;resources\\\\skyscrapper&quot;;\nprivate static final String FILENAME = &quot;resources//skyscrapper&quot;;\n</code></pre>\n<p>By default it tries to find 'skyscrapper.properties' file inside 'src' but you have placed your file inside a sub-directory 'resources' which is unreachable.</p>\n<p>In a maven project-</p>\n<p>It looks like- 'src/main/resources/skyscrapper.properties' then\nuse-</p>\n<pre><code>private static final String FILENAME = &quot;skyscrapper&quot;;\n</code></pre>\n<p>And if it looks like-\n'src/main/resources/prop/xyz/skyscrapper.properties' then use-</p>\n<pre><code>private static final String FILENAME = &quot;prop/xyz/skyscrapper&quot;;\nprivate static final String FILENAME = &quot;prop.xyz.skyscrapper&quot;;\n</code></pre>\n<p>In this case by default it tries to find 'skyscrapper.properties' file inside 'src/main/resources' but your file is actually inside a subdirectory of resources then you need to provide relative path otherwise you may receive exception like-</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.MissingResourceException: Can't find bundle for base name src\\main\\resources\\prop\\xyz\\skyscrapper.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7635211,"reputation":81,"user_id":5788964,"display_name":"Pekmezli D&#252;r&#252;m"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655808470,"creation_date":1655808470,"answer_id":72699445,"question_id":20142002,"body_markdown":"Check project build path. May be only the *.java files are included. This problem occured in my Maven project. I needed to alter my pom.xml file. \r\n\r\n    &lt;build&gt;\r\n    \t\t&lt;resources&gt;\r\n    \t\t\t&lt;resource&gt;\r\n    \t\t\t\t&lt;directory&gt;src/main/java&lt;/directory&gt;\r\n    \t\t\t\t&lt;filtering&gt;true&lt;/filtering&gt;\r\n    \t\t\t\t&lt;includes&gt;\r\n    \t\t\t\t\t&lt;include&gt;**/*.properties&lt;/include&gt;\r\n    \t\t\t\t&lt;/includes&gt;\r\n    \t\t\t&lt;/resource&gt;\r\n    \t\t&lt;/resources&gt;\r\n    &lt;/build&gt;","title":"java.util.MissingResourceException: Can&#39;t find bundle for base name &#39;property_file name&#39;, locale en_US","body":"<p>Check project build path. May be only the *.java files are included. This problem occured in my Maven project. I needed to alter my pom.xml file.</p>\n<pre><code>&lt;build&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/java&lt;/directory&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/*.properties&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9281135,"reputation":817,"user_id":6892294,"display_name":"DocJ457"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660194670,"creation_date":1660194670,"answer_id":73315534,"question_id":20142002,"body_markdown":"if you are using maven try this: \r\n\r\n    public static Connection getConnection(){\r\n        //*******************************************************************\r\n        try(InputStream input = new FileInputStream(&quot;path to file&quot;)){\r\n            Properties prop = new Properties();\r\n            prop.load(input);\r\n            String driver = prop.getProperty(&quot;driver&quot;);\r\n            String url = prop.getProperty(&quot;url&quot;);\r\n            String user = prop.getProperty(&quot;user&quot;);\r\n            String password = prop.getProperty(&quot;password&quot;);\r\n            //Class.forName(driver);\r\n            connection = DriverManager.getConnection(url, user, password);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n\r\n        }\r\n\r\n        return connection;","title":"java.util.MissingResourceException: Can&#39;t find bundle for base name &#39;property_file name&#39;, locale en_US","body":"<p>if you are using maven try this:</p>\n<pre><code>public static Connection getConnection(){\n    //*******************************************************************\n    try(InputStream input = new FileInputStream(&quot;path to file&quot;)){\n        Properties prop = new Properties();\n        prop.load(input);\n        String driver = prop.getProperty(&quot;driver&quot;);\n        String url = prop.getProperty(&quot;url&quot;);\n        String user = prop.getProperty(&quot;user&quot;);\n        String password = prop.getProperty(&quot;password&quot;);\n        //Class.forName(driver);\n        connection = DriverManager.getConnection(url, user, password);\n    } catch (Exception e) {\n        e.printStackTrace();\n\n    }\n\n    return connection;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17363545,"reputation":21,"user_id":12579252,"display_name":"user12579252"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691971944,"creation_date":1691971069,"answer_id":76895656,"question_id":20142002,"body_markdown":"I had the same problem, but when I moved two (name. properties or name.config) files to **&quot;NetBeansProjects\\projectName\\target\\classes&quot;**, I mean locate your properties file or config file in **target\\classes** directory in your project director, because once it&#39;s compiled one copy goes there so if you put early it&#39;s working. I am using Netbean Apache IDE 14. \r\nfor you it should be in **PBSkyScraper\\build\\skyscrapper.properties** directory. ","title":"java.util.MissingResourceException: Can&#39;t find bundle for base name &#39;property_file name&#39;, locale en_US","body":"<p>I had the same problem, but when I moved two (name. properties or name.config) files to <strong>&quot;NetBeansProjects\\projectName\\target\\classes&quot;</strong>, I mean locate your properties file or config file in <strong>target\\classes</strong> directory in your project director, because once it's compiled one copy goes there so if you put early it's working. I am using Netbean Apache IDE 14.\nfor you it should be in <strong>PBSkyScraper\\build\\skyscrapper.properties</strong> directory.</p>\n"},{"tags":[],"owner":{"account_id":2043806,"reputation":4771,"user_id":2118777,"display_name":"Pipo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700753043,"creation_date":1700753043,"answer_id":77538009,"question_id":20142002,"body_markdown":"In my particular case of injected AppContext and in a @PostConstruct context I had to add `@LocalBean` for the init() method to work and find the bundle\r\n\r\n    @Singleton(name = &quot;AppContext&quot;)\r\n    @Startup\r\n    @LocalBean\r\n    public class AppContext {\r\n\r\n        @PostConstruct\r\n        public void init() {\r\n            ResourceBundle resources = ResourceBundle.getBundle(&quot;propertiesFileNameWithoutExtension&quot;);\r\n        }\r\n        \r\n    }\r\n\r\n\r\n    @RequestScoped\r\n    class Foo {\r\n\r\n        @Inject\r\n        protected AppContext appContext;\r\n        \r\n        ...\r\n    }","title":"java.util.MissingResourceException: Can&#39;t find bundle for base name &#39;property_file name&#39;, locale en_US","body":"<p>In my particular case of injected AppContext and in a @PostConstruct context I had to add <code>@LocalBean</code> for the init() method to work and find the bundle</p>\n<pre><code>@Singleton(name = &quot;AppContext&quot;)\n@Startup\n@LocalBean\npublic class AppContext {\n\n    @PostConstruct\n    public void init() {\n        ResourceBundle resources = ResourceBundle.getBundle(&quot;propertiesFileNameWithoutExtension&quot;);\n    }\n    \n}\n\n\n@RequestScoped\nclass Foo {\n\n    @Inject\n    protected AppContext appContext;\n    \n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":1587261,"reputation":9583,"user_id":1471314,"accept_rate":43,"display_name":"roger_that"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251324,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":20142626,"answer_count":14,"score":45,"last_activity_date":1700753043,"creation_date":1385114481,"question_id":20142002,"body_markdown":"I am trying to create a utility class `ReadPropertyUtil.java` for reading data from property file. While my class is located under a util directory , my `skyscrapper.properties` file is placed in some other directory.\r\n\r\nBut , when i try to access the properties using `[ResourceBundle][1]`, i get exceptions, that bundle can&#39;t be loaded.\r\n\r\nBelow is the code on how I am reading the properties and also an image which shows my directory structure.\r\n\r\n**ReadPropertiesUtil.java**\r\n    \r\n    /**\r\n     * Properties file name.\r\n     */\r\n    private static final String FILENAME = &quot;skyscrapper&quot;;\r\n\r\n    /**\r\n     * Resource bundle.\r\n     */\r\n    private static ResourceBundle resourceBundle = ResourceBundle.getBundle(FILENAME);\r\n    \r\n    /**\r\n     * Method to read the property value.\r\n     * \r\n     * @param key\r\n     * @return\r\n     */\r\n    public static String getProperty(final String key) {\r\n        String str = null;\r\n        if (resourceBundle != null) {\r\n            str = resourceBundle.getString(key);\r\n                LOGGER.debug(&quot;Value found: &quot; + str + &quot; for key: &quot; + key);\r\n        } else {\r\n                LOGGER.debug(&quot;Properties file was not loaded correctly!!&quot;);\r\n        }\r\n        return str;\r\n    }\r\n\r\n**Directory Structure**\r\n\r\n![enter image description here][2]\r\n\r\n\r\n\r\nThis line is giving the error `private static ResourceBundle resourceBundle = ResourceBundle.getBundle(FILENAME);`\r\n\r\nI am unable to understand why isn&#39;t this working and what is the solution. The `src` folder is already added in build path completely.\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/ResourceBundle.html\r\n  [2]: http://i.stack.imgur.com/ACdp4.png","title":"java.util.MissingResourceException: Can&#39;t find bundle for base name &#39;property_file name&#39;, locale en_US","body":"<p>I am trying to create a utility class <code>ReadPropertyUtil.java</code> for reading data from property file. While my class is located under a util directory , my <code>skyscrapper.properties</code> file is placed in some other directory.</p>\n\n<p>But , when i try to access the properties using <code>[ResourceBundle][1]</code>, i get exceptions, that bundle can't be loaded.</p>\n\n<p>Below is the code on how I am reading the properties and also an image which shows my directory structure.</p>\n\n<p><strong>ReadPropertiesUtil.java</strong></p>\n\n<pre><code>/**\n * Properties file name.\n */\nprivate static final String FILENAME = \"skyscrapper\";\n\n/**\n * Resource bundle.\n */\nprivate static ResourceBundle resourceBundle = ResourceBundle.getBundle(FILENAME);\n\n/**\n * Method to read the property value.\n * \n * @param key\n * @return\n */\npublic static String getProperty(final String key) {\n    String str = null;\n    if (resourceBundle != null) {\n        str = resourceBundle.getString(key);\n            LOGGER.debug(\"Value found: \" + str + \" for key: \" + key);\n    } else {\n            LOGGER.debug(\"Properties file was not loaded correctly!!\");\n    }\n    return str;\n}\n</code></pre>\n\n<p><strong>Directory Structure</strong></p>\n\n<p><img src=\"https://i.stack.imgur.com/ACdp4.png\" alt=\"enter image description here\"></p>\n\n<p>This line is giving the error <code>private static ResourceBundle resourceBundle = ResourceBundle.getBundle(FILENAME);</code></p>\n\n<p>I am unable to understand why isn't this working and what is the solution. The <code>src</code> folder is already added in build path completely.</p>\n"},{"tags":["java","android","android-ndk","java-native-interface"],"answers":[{"tags":[],"owner":{"account_id":2592553,"reputation":463,"user_id":2246932,"display_name":"Domin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1416351463,"creation_date":1416351463,"answer_id":27005751,"question_id":27005501,"body_markdown":"I had the same problem and I don&#39;t find a &quot;clean&quot; solution.\r\n\r\nFinally, I decided to create a dummy class with same methods but declared as native.\r\nThen I use javah to create the header file and I take the signature from that header file. \r\n\r\nI know that it does not look nice... but I don&#39;t find a better option (except creating it &quot;manually&quot; based on the Method properties).\r\n","title":"How to get JNI-style signature string for a field or method?","body":"<p>I had the same problem and I don't find a \"clean\" solution.</p>\n\n<p>Finally, I decided to create a dummy class with same methods but declared as native.\nThen I use javah to create the header file and I take the signature from that header file. </p>\n\n<p>I know that it does not look nice... but I don't find a better option (except creating it \"manually\" based on the Method properties).</p>\n"},{"tags":[],"owner":{"account_id":447650,"reputation":734,"user_id":841390,"display_name":"astraujums"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700753034,"creation_date":1700753034,"answer_id":77538008,"question_id":27005501,"body_markdown":"I had a similar need and found a solution by digging through `JavapTask.java` from the [source code][1] of the `javap` tool.\r\n\r\nHere is a snippet that does what you want:\r\n\r\n``` lang-java\r\npublic class Test {\r\n    String foo(int bar) { return &quot;This is foo &quot; + bar; }\r\n\r\n    public static void main(String[] args) {\r\n        Class&lt;?&gt; c = Test.class;\r\n        java.lang.reflect.Method methods[] = c.getDeclaredMethods();\r\n        System.out.println(&quot;Class : &quot; + c.getName());\r\n        System.out.println(&quot;Number of methods : &quot; + methods.length);\r\n        for (java.lang.reflect.Method m : methods) {\r\n            java.lang.invoke.MethodType mt = java.lang.invoke.MethodType.methodType(m.getReturnType(), m.getParameterTypes());\r\n            System.out.println(m.getName() + &quot; : &quot; + mt.toMethodDescriptorString());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIt prints out the following:\r\n```\r\nClass : Test\r\nNumber of methods : 2\r\nmain : ([Ljava/lang/String;)V\r\nfoo : (I)Ljava/lang/String;\r\n```\r\n\r\n  [1]: https://github.com/openjdk/jdk/tree/3787ff8d1d8dbcaaebb9616c5bc543e2fe21a90c/src/jdk.jdeps/share/classes/com/sun/tools/javap","title":"How to get JNI-style signature string for a field or method?","body":"<p>I had a similar need and found a solution by digging through <code>JavapTask.java</code> from the <a href=\"https://github.com/openjdk/jdk/tree/3787ff8d1d8dbcaaebb9616c5bc543e2fe21a90c/src/jdk.jdeps/share/classes/com/sun/tools/javap\" rel=\"nofollow noreferrer\">source code</a> of the <code>javap</code> tool.</p>\n<p>Here is a snippet that does what you want:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n    String foo(int bar) { return &quot;This is foo &quot; + bar; }\n\n    public static void main(String[] args) {\n        Class&lt;?&gt; c = Test.class;\n        java.lang.reflect.Method methods[] = c.getDeclaredMethods();\n        System.out.println(&quot;Class : &quot; + c.getName());\n        System.out.println(&quot;Number of methods : &quot; + methods.length);\n        for (java.lang.reflect.Method m : methods) {\n            java.lang.invoke.MethodType mt = java.lang.invoke.MethodType.methodType(m.getReturnType(), m.getParameterTypes());\n            System.out.println(m.getName() + &quot; : &quot; + mt.toMethodDescriptorString());\n        }\n    }\n}\n</code></pre>\n<p>It prints out the following:</p>\n<pre><code>Class : Test\nNumber of methods : 2\nmain : ([Ljava/lang/String;)V\nfoo : (I)Ljava/lang/String;\n</code></pre>\n"}],"owner":{"account_id":124026,"reputation":5244,"user_id":318857,"accept_rate":68,"display_name":"fluffy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2284,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77538008,"answer_count":2,"score":2,"last_activity_date":1700753034,"creation_date":1416350305,"question_id":27005501,"body_markdown":"I am trying to inspect a Java class and automatically retrieve all of its methods and fields in a way that I can invoke them via JNI on Android. However, I can&#39;t figure out how to actually get the textual signature string programmatically; I know how to get it via `javap -s` from the command line but I would like to get it from within my program.\r\n\r\nThe closest I can find is using `clazz.getMethods()` to get the individual methods, and then `Method.toGenericString()` to get a human-readable string, but that string is formatted like the Java code signature (e.g. `public int someMethod(int foo, java.lang.String bar)`) when I really just want the JNI-style signature (e.g. `(ILjava/lang/String;)I`), as I will need that string to call `getMethodID()` from JNI and I already have a perfectly-good parser that parses those JNI signatures in the first place.\r\n\r\nI could just manually maintain bindings for the classes I actually care about accessing from JNI, but I&#39;d much rather just have everything handled as automatically as possible; less code is better, after all.\r\n\r\nI did find [ASM](asm.ow2.org) which provides helper methods for this, but it appears to be a bytecode generation framework and I am not sure if it will be compatible with Android.\r\n\r\nOr, in other words, given the following class:\r\n\r\n    class SomeClass {\r\n        String foo(int bar) { return &quot;This is foo &quot; + bar; }\r\n    }\r\n\r\nI want to create a class called `ClassInspector` which can do something like:\r\n\r\n    ClassInspector ci = new ClassInspector(SomeClass.class);\r\n    int n = ci.getMethodCount(); // returns 1\r\n    String name = ci.getMethodName(0); // returns &quot;foo&quot;\r\n    String sig = ci.getMethodSignature(0); // returns &quot;(I)Ljava/lang/string;&quot;\r\n\r\nWhich is to say that I want to be able to get the output of `javap -s` from within Java, so that I can call Java methods from the native side.","title":"How to get JNI-style signature string for a field or method?","body":"<p>I am trying to inspect a Java class and automatically retrieve all of its methods and fields in a way that I can invoke them via JNI on Android. However, I can't figure out how to actually get the textual signature string programmatically; I know how to get it via <code>javap -s</code> from the command line but I would like to get it from within my program.</p>\n\n<p>The closest I can find is using <code>clazz.getMethods()</code> to get the individual methods, and then <code>Method.toGenericString()</code> to get a human-readable string, but that string is formatted like the Java code signature (e.g. <code>public int someMethod(int foo, java.lang.String bar)</code>) when I really just want the JNI-style signature (e.g. <code>(ILjava/lang/String;)I</code>), as I will need that string to call <code>getMethodID()</code> from JNI and I already have a perfectly-good parser that parses those JNI signatures in the first place.</p>\n\n<p>I could just manually maintain bindings for the classes I actually care about accessing from JNI, but I'd much rather just have everything handled as automatically as possible; less code is better, after all.</p>\n\n<p>I did find ASM which provides helper methods for this, but it appears to be a bytecode generation framework and I am not sure if it will be compatible with Android.</p>\n\n<p>Or, in other words, given the following class:</p>\n\n<pre><code>class SomeClass {\n    String foo(int bar) { return \"This is foo \" + bar; }\n}\n</code></pre>\n\n<p>I want to create a class called <code>ClassInspector</code> which can do something like:</p>\n\n<pre><code>ClassInspector ci = new ClassInspector(SomeClass.class);\nint n = ci.getMethodCount(); // returns 1\nString name = ci.getMethodName(0); // returns \"foo\"\nString sig = ci.getMethodSignature(0); // returns \"(I)Ljava/lang/string;\"\n</code></pre>\n\n<p>Which is to say that I want to be able to get the output of <code>javap -s</code> from within Java, so that I can call Java methods from the native side.</p>\n"},{"tags":["java","minecraft","bukkit","spigot"],"comments":[{"owner":{"account_id":10503317,"reputation":51,"user_id":7741366,"display_name":"Cx Vercility"},"score":0,"creation_date":1700752513,"post_id":77537516,"comment_id":136695205,"body_markdown":"That would heavily depend on your definition of &quot;between&quot;. A straight line would probably yield no entity 99.9% of the time.\nIn any case, there are commands e.g to get all entities in a radius of a specific location. I&#39;d assume there are other command that take different restrictions, you&#39;ll have to google them yourselves though.","body":"That would heavily depend on your definition of &quot;between&quot;. A straight line would probably yield no entity 99.9% of the time. In any case, there are commands e.g to get all entities in a radius of a specific location. I&#39;d assume there are other command that take different restrictions, you&#39;ll have to google them yourselves though."},{"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1702066975,"post_id":77537516,"comment_id":136856158,"body_markdown":"What are you trying to achieve? Are you trying to get the closest entity to the player?","body":"What are you trying to achieve? Are you trying to get the closest entity to the player?"}],"owner":{"account_id":29975695,"reputation":1,"user_id":22971977,"display_name":"vitekform"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700752890,"creation_date":1700748233,"question_id":77537516,"body_markdown":"```\r\nVMPlugin plugin = VMPlugin.getPlugin(VMPlugin.class);\r\nLocation target = p.getTargetBlock(null, 5).getLocation();\r\nWorld world = target.getWorld();\r\nLocation ploc = p.getLocation();\r\nEntity[] entities = //Entities between ploc and target (edit : straight line and everything up to 0.25 blocks away from it)\r\n```\r\n\r\nI tried Vector, but I don&#39;t know how to use it well.\r\n                    \r\nAlso if it is possible I would like to get only the first entity (If the EntityArray will work i will use just entities[0]).","title":"How to get every entity between two locations","body":"<pre><code>VMPlugin plugin = VMPlugin.getPlugin(VMPlugin.class);\nLocation target = p.getTargetBlock(null, 5).getLocation();\nWorld world = target.getWorld();\nLocation ploc = p.getLocation();\nEntity[] entities = //Entities between ploc and target (edit : straight line and everything up to 0.25 blocks away from it)\n</code></pre>\n<p>I tried Vector, but I don't know how to use it well.</p>\n<p>Also if it is possible I would like to get only the first entity (If the EntityArray will work i will use just entities[0]).</p>\n"},{"tags":["java","spring-boot","jackson"],"comments":[{"owner":{"account_id":11683,"reputation":1438111,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1700728262,"post_id":77535330,"comment_id":136690666,"body_markdown":"Well you&#39;ve explicitly annotated the class with `@JsonFormat(shape = JsonFormat.Shape.ARRAY)`. How would you expect the field names to be expressed in an array?","body":"Well you&#39;ve explicitly annotated the class with <code>@JsonFormat(shape = JsonFormat.Shape.ARRAY)</code>. How would you expect the field names to be expressed in an array?"},{"owner":{"account_id":15326941,"reputation":685,"user_id":11057811,"display_name":"BitQueen"},"score":0,"creation_date":1700728368,"post_id":77535330,"comment_id":136690685,"body_markdown":"the original 3rd party API response I was tryxing to map to java objects looks exactly like my controllers response. The original 3rd party api response has no field names, but I need field names thats why I am trying to map in the first place.","body":"the original 3rd party API response I was tryxing to map to java objects looks exactly like my controllers response. The original 3rd party api response has no field names, but I need field names thats why I am trying to map in the first place."},{"owner":{"account_id":11683,"reputation":1438111,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1700728510,"post_id":77535330,"comment_id":136690719,"body_markdown":"Okay, it&#39;s really not clear from the question that you&#39;re trying to change the shape of the JSON. it would help if you&#39;d provide a *minimal* example, with the incoming JSON and the expected resulting JSON *in text* rather than as an image. I suspect you may need to have two different classes: one with an array shape and one with an object shape.","body":"Okay, it&#39;s really not clear from the question that you&#39;re trying to change the shape of the JSON. it would help if you&#39;d provide a <i>minimal</i> example, with the incoming JSON and the expected resulting JSON <i>in text</i> rather than as an image. I suspect you may need to have two different classes: one with an array shape and one with an object shape."},{"owner":{"account_id":15326941,"reputation":685,"user_id":11057811,"display_name":"BitQueen"},"score":0,"creation_date":1700751935,"post_id":77535330,"comment_id":136695093,"body_markdown":"what is weird for me is that basically after mapping to my pojo, logging the pojo.toString() everything looks correct. Only my RestControllers response List&lt;myPojo&gt; returns an array containing multiple arrays without field names still instead of the pojo structure.","body":"what is weird for me is that basically after mapping to my pojo, logging the pojo.toString() everything looks correct. Only my RestControllers response List&lt;myPojo&gt; returns an array containing multiple arrays without field names still instead of the pojo structure."},{"owner":{"account_id":11683,"reputation":1438111,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1700752443,"post_id":77535330,"comment_id":136695192,"body_markdown":"Well yes, because presumably `pojo.toString()` isn&#39;t taking account of the `@JsonFormat` you&#39;ve got declared, but your controller is. That doesn&#39;t surprise me at all.","body":"Well yes, because presumably <code>pojo.toString()</code> isn&#39;t taking account of the <code>@JsonFormat</code> you&#39;ve got declared, but your controller is. That doesn&#39;t surprise me at all."},{"owner":{"account_id":15326941,"reputation":685,"user_id":11057811,"display_name":"BitQueen"},"score":0,"creation_date":1700752604,"post_id":77535330,"comment_id":136695223,"body_markdown":"I dont understand unfortunatly","body":"I dont understand unfortunatly"},{"owner":{"account_id":11683,"reputation":1438111,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1700753020,"post_id":77535330,"comment_id":136695307,"body_markdown":"Your `Kline` class *specifically* is annotated with `@JsonFormat(shape = JsonFormat.Shape.ARRAY)`. I believe that means &quot;Hey, JSON formatter - please serialize instances of this type as arrays rather than objects.&quot; Do you understand that much? (It&#39;s likely you need that in order to parse the incoming JSON - but if you want to format outgoing JSON in a different way, my guess is you&#39;ll need a different class that doesn&#39;t have that annotation...)","body":"Your <code>Kline</code> class <i>specifically</i> is annotated with <code>@JsonFormat(shape = JsonFormat.Shape.ARRAY)</code>. I believe that means &quot;Hey, JSON formatter - please serialize instances of this type as arrays rather than objects.&quot; Do you understand that much? (It&#39;s likely you need that in order to parse the incoming JSON - but if you want to format outgoing JSON in a different way, my guess is you&#39;ll need a different class that doesn&#39;t have that annotation...)"},{"owner":{"account_id":15326941,"reputation":685,"user_id":11057811,"display_name":"BitQueen"},"score":0,"creation_date":1700753169,"post_id":77535330,"comment_id":136695332,"body_markdown":"Ah yes I was not too sure about that. In fact, whenever I left out that annotation I got an error trying to map the incoming JSON thats why I thought it is  correct to leave that on.  So basically I need a class like PojoResponse and map that to Pojo without array annotation?","body":"Ah yes I was not too sure about that. In fact, whenever I left out that annotation I got an error trying to map the incoming JSON thats why I thought it is  correct to leave that on.  So basically I need a class like PojoResponse and map that to Pojo without array annotation?"},{"owner":{"account_id":11683,"reputation":1438111,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1700753303,"post_id":77535330,"comment_id":136695356,"body_markdown":"I don&#39;t know what you mean by PojoResponse here, but as I said 6 hours ago: &quot;I suspect you may need to have two different classes: one with an array shape and one with an object shape.&quot; Either that, or you&#39;ll need a different way of influencing the parser/formatter. I don&#39;t know the details of JSON in Java, but at least hopefully you now understand what&#39;s going on.","body":"I don&#39;t know what you mean by PojoResponse here, but as I said 6 hours ago: &quot;I suspect you may need to have two different classes: one with an array shape and one with an object shape.&quot; Either that, or you&#39;ll need a different way of influencing the parser/formatter. I don&#39;t know the details of JSON in Java, but at least hopefully you now understand what&#39;s going on."},{"owner":{"account_id":15326941,"reputation":685,"user_id":11057811,"display_name":"BitQueen"},"score":0,"creation_date":1700753374,"post_id":77535330,"comment_id":136695368,"body_markdown":"Yes I understand what you mean, will try to come up with a way and try out","body":"Yes I understand what you mean, will try to come up with a way and try out"}],"owner":{"account_id":15326941,"reputation":685,"user_id":11057811,"display_name":"BitQueen"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700752677,"creation_date":1700727878,"question_id":77535330,"body_markdown":"I am parsing a 3rd party API Response into a custom class I made which seems to work fine. However, the JSON response from my own controller does not contain any field names of these objects. In code, the getters and setters work, but the JSON response is just an array of arrays like the original 3rd party API response I was trying to map.\r\n\r\nHere is the service method where I parse to my custom java object class\r\n\r\n        public List&lt;Kline&gt;klines(String symbol, String interval) {\r\n        try {\r\n            LinkedHashMap&lt;String, Object&gt; parameters = new LinkedHashMap&lt;&gt;();\r\n            parameters.put(&quot;symbol&quot;, symbol);\r\n            parameters.put(&quot;interval&quot;, interval);\r\n            String result = client.createMarket().klines(parameters);\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            return objectMapper.readValue(result, new TypeReference&lt;List&lt;Kline&gt;&gt;() { });\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n\r\n\r\nHere is the custom class I am trying to map the original 3rd party API response to\r\n\r\n    \r\n    @GetMapping(&quot;/klines&quot;)\r\n    public List&lt;Kline&gt; klines() {\r\n        return service.klines(&quot;BTCUSDT&quot;, &quot;1h&quot;);\r\n    }\r\n\r\n[![My Controllers JSON Response - no field names][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kHe3j.png\r\n\r\n\r\nMy Pojo Class\r\n\r\n    \r\n    @Data\r\n    @JsonFormat(shape = JsonFormat.Shape.ARRAY)\r\n    @JsonPropertyOrder({ &quot;openTime&quot;, &quot;open&quot;, &quot;high&quot;, &quot;low&quot;, &quot;close&quot;, \r\n    &quot;volume&quot;, &quot;closeTime&quot;, &quot;quoteAssetVolume&quot;,\r\n        &quot;numberOfTrades&quot;, &quot;takerBuyBaseAssetVolume&quot;, \r\n    &quot;takerBuyQuoteAssetVolume&quot; })\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class Kline {\r\n\r\n    private Long openTime;\r\n\r\n    private double open;\r\n\r\n    private double high;\r\n\r\n    private double low;\r\n\r\n    private double close;\r\n\r\n    private double volume;\r\n\r\n    private Long closeTime;\r\n\r\n    private double quoteAssetVolume;\r\n\r\n    private int numberOfTrades;\r\n\r\n    private double takerBuyBaseAssetVolume;\r\n\r\n    private double takerBuyQuoteAssetVolume;\r\n\r\n    }","title":"JSON Response not holding field names of java object","body":"<p>I am parsing a 3rd party API Response into a custom class I made which seems to work fine. However, the JSON response from my own controller does not contain any field names of these objects. In code, the getters and setters work, but the JSON response is just an array of arrays like the original 3rd party API response I was trying to map.</p>\n<p>Here is the service method where I parse to my custom java object class</p>\n<pre><code>    public List&lt;Kline&gt;klines(String symbol, String interval) {\n    try {\n        LinkedHashMap&lt;String, Object&gt; parameters = new LinkedHashMap&lt;&gt;();\n        parameters.put(&quot;symbol&quot;, symbol);\n        parameters.put(&quot;interval&quot;, interval);\n        String result = client.createMarket().klines(parameters);\n        ObjectMapper objectMapper = new ObjectMapper();\n        return objectMapper.readValue(result, new TypeReference&lt;List&lt;Kline&gt;&gt;() { });\n    } catch (Exception e) {\n        e.printStackTrace();\n        return null;\n    }\n}\n</code></pre>\n<p>Here is the custom class I am trying to map the original 3rd party API response to</p>\n<pre><code>@GetMapping(&quot;/klines&quot;)\npublic List&lt;Kline&gt; klines() {\n    return service.klines(&quot;BTCUSDT&quot;, &quot;1h&quot;);\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/kHe3j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kHe3j.png\" alt=\"My Controllers JSON Response - no field names\" /></a></p>\n<p>My Pojo Class</p>\n<pre><code>@Data\n@JsonFormat(shape = JsonFormat.Shape.ARRAY)\n@JsonPropertyOrder({ &quot;openTime&quot;, &quot;open&quot;, &quot;high&quot;, &quot;low&quot;, &quot;close&quot;, \n&quot;volume&quot;, &quot;closeTime&quot;, &quot;quoteAssetVolume&quot;,\n    &quot;numberOfTrades&quot;, &quot;takerBuyBaseAssetVolume&quot;, \n&quot;takerBuyQuoteAssetVolume&quot; })\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Kline {\n\nprivate Long openTime;\n\nprivate double open;\n\nprivate double high;\n\nprivate double low;\n\nprivate double close;\n\nprivate double volume;\n\nprivate Long closeTime;\n\nprivate double quoteAssetVolume;\n\nprivate int numberOfTrades;\n\nprivate double takerBuyBaseAssetVolume;\n\nprivate double takerBuyQuoteAssetVolume;\n\n}\n</code></pre>\n"},{"tags":["java","unit-testing","apache-kafka-streams"],"owner":{"account_id":2040244,"reputation":93,"user_id":1821635,"display_name":"paulf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700752632,"creation_date":1700752632,"question_id":77537967,"body_markdown":"It&#39;s been a year or two since I&#39;ve written Streams apps, and I see that some API cleanup has happened, notably here, that ValueTransformers have been deprecated in favor of FixedKeyProcessors. But searching around, I&#39;ve not found the magic class that would perform like the other MockProcessorContexts (used in Processor or Transformer). Am I supposed to mockito my own here? Or can I use a richer mock from the library? (I&#39;m using version 3.5.0)","title":"Where is the MockProcessorContext for unit testing FixedKeyProcessors in Kafka Streams?","body":"<p>It's been a year or two since I've written Streams apps, and I see that some API cleanup has happened, notably here, that ValueTransformers have been deprecated in favor of FixedKeyProcessors. But searching around, I've not found the magic class that would perform like the other MockProcessorContexts (used in Processor or Transformer). Am I supposed to mockito my own here? Or can I use a richer mock from the library? (I'm using version 3.5.0)</p>\n"},{"tags":["java","apache-commons-math","symja"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1689758736,"post_id":76719752,"comment_id":135257373,"body_markdown":"One idea might be https://products.wolframalpha.com/api (I&#39;ve never used it myself)","body":"One idea might be <a href=\"https://products.wolframalpha.com/api\" rel=\"nofollow noreferrer\">products.wolframalpha.com/api</a> (I&#39;ve never used it myself)"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1689759517,"post_id":76719752,"comment_id":135257541,"body_markdown":"Nothing native within the framework.  You can try an open sourced project; _https://github.com/yeko0990/MathSolver_.","body":"Nothing native within the framework.  You can try an open sourced project; <i><a href=\"https://github.com/yeko0990/MathSolver\" rel=\"nofollow noreferrer\">github.com/yeko0990/MathSolver</a></i>."}],"answers":[{"tags":[],"owner":{"account_id":12562,"reputation":958,"user_id":24819,"display_name":"axelclk"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1700752254,"creation_date":1700752254,"answer_id":77537930,"question_id":76719752,"body_markdown":"In [Symja][1] you can write:\r\n\r\n    import org.matheclipse.core.eval.ExprEvaluator;\r\n    import org.matheclipse.core.expression.F;\r\n    import org.matheclipse.core.interfaces.IExpr;\r\n    import org.matheclipse.core.interfaces.ISymbol;\r\n    \r\n    public class SolveExample {\r\n    \r\n      public static void main(String[] args) {\r\n    \r\n        ExprEvaluator util = new ExprEvaluator();\r\n        IExpr result = util.eval(&quot;Solve(x +(23 + 78 ) == (32112 / 432),x)&quot;);\r\n        // print: {{x-&gt;-80/3}}\r\n        System.out.println(result.toString());\r\n    \r\n        ISymbol x = F.Dummy(&#39;x&#39;);\r\n        result = util.eval(F.Solve(F.Equal(F.Plus(x, F.ZZ(23L), F.ZZ(78L)), F.QQ(32112L, 432L)), x));\r\n        // print: {{x-&gt;-80/3}}\r\n        System.out.println(result.toString());\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/axkr/symja_android_library","title":"Java Equation Evaluation","body":"<p>In <a href=\"https://github.com/axkr/symja_android_library\" rel=\"nofollow noreferrer\">Symja</a> you can write:</p>\n<pre><code>import org.matheclipse.core.eval.ExprEvaluator;\nimport org.matheclipse.core.expression.F;\nimport org.matheclipse.core.interfaces.IExpr;\nimport org.matheclipse.core.interfaces.ISymbol;\n\npublic class SolveExample {\n\n  public static void main(String[] args) {\n\n    ExprEvaluator util = new ExprEvaluator();\n    IExpr result = util.eval(&quot;Solve(x +(23 + 78 ) == (32112 / 432),x)&quot;);\n    // print: {{x-&gt;-80/3}}\n    System.out.println(result.toString());\n\n    ISymbol x = F.Dummy('x');\n    result = util.eval(F.Solve(F.Equal(F.Plus(x, F.ZZ(23L), F.ZZ(78L)), F.QQ(32112L, 432L)), x));\n    // print: {{x-&gt;-80/3}}\n    System.out.println(result.toString());\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":7183667,"reputation":333,"user_id":5486546,"display_name":"Sameesh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1700752254,"creation_date":1689758426,"question_id":76719752,"body_markdown":"I have string equation like \r\n```\r\nx +(23 + 78 ) = (32112 / 432)\r\n```\r\nand inputting this equation I need to get the value of &#39;x&#39; programmatically, also equation might be different in different times, but it will only have one variable, and I need this variable value computed. Is there any Java library available for the above requirement? if exist please provide one sample also. ","title":"Java Equation Evaluation","body":"<p>I have string equation like</p>\n<pre><code>x +(23 + 78 ) = (32112 / 432)\n</code></pre>\n<p>and inputting this equation I need to get the value of 'x' programmatically, also equation might be different in different times, but it will only have one variable, and I need this variable value computed. Is there any Java library available for the above requirement? if exist please provide one sample also.</p>\n"},{"tags":["java","hadoop","mapreduce"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700752144,"creation_date":1700752144,"answer_id":77537916,"question_id":77537089,"body_markdown":"Unclear what you expected since, with the code shown, the set and map are both empty and your conditional is false\r\n\r\nReducers are stateless and do not share data between all instances\r\n\r\nIterate over values, not try to use a new, empty set or map. Or add data to either, rather than write the context, then iterate them (for example, to output unique values) ","title":"My hadoop reducer writes the output to the context only if I write the original value to the context","body":"<p>Unclear what you expected since, with the code shown, the set and map are both empty and your conditional is false</p>\n<p>Reducers are stateless and do not share data between all instances</p>\n<p>Iterate over values, not try to use a new, empty set or map. Or add data to either, rather than write the context, then iterate them (for example, to output unique values)</p>\n"}],"owner":{"account_id":14263385,"reputation":46,"user_id":10303384,"display_name":"Kinyanjui Karanja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700752144,"creation_date":1700744431,"question_id":77537089,"body_markdown":"I have this code:\r\n\r\n``` java\r\n@Override\r\nprotected void reduce(Text key, Iterable&lt;Text&gt; values, Context context)\r\n                throws IOException, InterruptedException {\r\n    Set&lt;String&gt; mySet = new HashSet&lt;&gt;();\r\n    Map&lt;String, String myMap = new HashMap&lt;&gt;();\r\n    for (Text value : values) {\r\n        // context.write(key, value);\r\n        ... \r\n    }\r\n    for (String str : mySet) {\r\n        if(myMap.containsKey(str)){\r\n            outputValue.set(str + myMap.get(str));\r\n            context.write(key, outputValue);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIf I uncomment the commented line, the output is written as well as each input value. However, when I comment the line, the output is not written. What could be the issue?\r\n\r\nI only want the output to be written to context.","title":"My hadoop reducer writes the output to the context only if I write the original value to the context","body":"<p>I have this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void reduce(Text key, Iterable&lt;Text&gt; values, Context context)\n                throws IOException, InterruptedException {\n    Set&lt;String&gt; mySet = new HashSet&lt;&gt;();\n    Map&lt;String, String myMap = new HashMap&lt;&gt;();\n    for (Text value : values) {\n        // context.write(key, value);\n        ... \n    }\n    for (String str : mySet) {\n        if(myMap.containsKey(str)){\n            outputValue.set(str + myMap.get(str));\n            context.write(key, outputValue);\n        }\n    }\n}\n</code></pre>\n<p>If I uncomment the commented line, the output is written as well as each input value. However, when I comment the line, the output is not written. What could be the issue?</p>\n<p>I only want the output to be written to context.</p>\n"},{"tags":["java","javadoc","java-record"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1685294955,"post_id":76352287,"comment_id":134638449,"body_markdown":"I see that javadoc (in JDK 20.0.1) emits a warning when theres no `@param` tag for constructor arguments except in the case of record constructors.  It requires a description, but does not require `@param` tags.","body":"I see that javadoc (in JDK 20.0.1) emits a warning when theres no <code>@param</code> tag for constructor arguments except in the case of record constructors.  It requires a description, but does not require <code>@param</code> tags."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1685295122,"post_id":76352287,"comment_id":134638463,"body_markdown":"I forgot to mention I&#39;m using Java 17. So you say this might be fixed in Java 20+? But does this include `-Xdoclint:all`? I&#39;m not just talking about normal Javadoc. I&#39;m talking about Javadoc with linting.","body":"I forgot to mention I&#39;m using Java 17. So you say this might be fixed in Java 20+? But does this include <code>-Xdoclint:all</code>? I&#39;m not just talking about normal Javadoc. I&#39;m talking about Javadoc with linting."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1685304674,"post_id":76352287,"comment_id":134639664,"body_markdown":"Yes, with -Xdoclint:all.  It appears this behavior started with Java 19.  With Java 18, I get a warning.","body":"Yes, with -Xdoclint:all.  It appears this behavior started with Java 19.  With Java 18, I get a warning."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1685304910,"post_id":76352287,"comment_id":134639687,"body_markdown":"Oh, good news. Before I saw your last comment I sent an improvement request to OpenJDK, so perhaps they can verify not only that the warning is suppressed but that it also copies over the information (as it does by default if there is no explicit constructor given).","body":"Oh, good news. Before I saw your last comment I sent an improvement request to OpenJDK, so perhaps they can verify not only that the warning is suppressed but that it also copies over the information (as it does by default if there is no explicit constructor given)."},{"owner":{"account_id":9998366,"reputation":2256,"user_id":7395227,"accept_rate":100,"display_name":"Andreas moved to Codidact"},"score":0,"creation_date":1685304941,"post_id":76352287,"comment_id":134639690,"body_markdown":"I strongly suggest just using a @NotNull annotation, and call it a day.","body":"I strongly suggest just using a @NotNull annotation, and call it a day."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1685305012,"post_id":76352287,"comment_id":134639699,"body_markdown":"I use `@NotNull`, yes! Great advice! But I don&#39;t call it a day. Good programming calls for precondition checks, to catch bad input as soon as possible and fail fast.","body":"I use <code>@NotNull</code>, yes! Great advice! But I don&#39;t call it a day. Good programming calls for precondition checks, to catch bad input as soon as possible and fail fast."},{"owner":{"account_id":9998366,"reputation":2256,"user_id":7395227,"accept_rate":100,"display_name":"Andreas moved to Codidact"},"score":0,"creation_date":1685307245,"post_id":76352287,"comment_id":134639920,"body_markdown":"@GarretWilson If you use the Jetbrains `@Nullable` and `@NotNull`, these preconditions are inserted automatically. It makes you completely stop worrying about NPs at all. Not all of these annotations are supported for automatic insertion of checks, though.","body":"@GarretWilson If you use the Jetbrains <code>@Nullable</code> and <code>@NotNull</code>, these preconditions are inserted automatically. It makes you completely stop worrying about NPs at all. Not all of these annotations are supported for automatic insertion of checks, though."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1685308539,"post_id":76352287,"comment_id":134640038,"body_markdown":"By the way, cutting down on boilerplate is explicitly  *not* the purpose of [records](https://openjdk.org/jeps/395). The purpose is to create classes that act as transparent carriers for immutable data  *nominal tuples*. The improved concision is merely a pleasant side-effect.","body":"By the way, cutting down on boilerplate is explicitly  <i>not</i> the purpose of <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">records</a>. The purpose is to create classes that act as transparent carriers for immutable data  <i>nominal tuples</i>. The improved concision is merely a pleasant side-effect."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":6,"creation_date":1685315494,"post_id":76352287,"comment_id":134640565,"body_markdown":"&quot;If you use the Jetbrains `@Nullable` and `@NotNull`, these preconditions are inserted automatically.&quot; Andreas I believe you have to use some library or extension or Jetbrains IDE. Null checking doesn&#39;t happen automatically just by throwing in an annotation. Besides, this misses the larger point; I gave `null`-checking as an example. There are many other validation checks (e.g. &quot;argument must be a power of two&quot;) for which there are no general annotations and still require a custom constructor for validation.","body":"&quot;If you use the Jetbrains <code>@Nullable</code> and <code>@NotNull</code>, these preconditions are inserted automatically.&quot; Andreas I believe you have to use some library or extension or Jetbrains IDE. Null checking doesn&#39;t happen automatically just by throwing in an annotation. Besides, this misses the larger point; I gave <code>null</code>-checking as an example. There are many other validation checks (e.g. &quot;argument must be a power of two&quot;) for which there are no general annotations and still require a custom constructor for validation."},{"owner":{"account_id":9998366,"reputation":2256,"user_id":7395227,"accept_rate":100,"display_name":"Andreas moved to Codidact"},"score":0,"creation_date":1685456794,"post_id":76352287,"comment_id":134660636,"body_markdown":"@GarretWilson Yeah, youre right. But for nullability, I do think the solution is not to pollute the JavaDoc with it, but annotate it, and have it managed by automated tools. Java should have been non-null by default. But yes, I did miss the point about other kinds of validation. Personally, I wouldnt document the constructor; Id put it in the records main JavaDoc, and suppress warnings about missing documentation on the constructor. The limits of permitted values is a property of the record itself, not just its constructor.","body":"@GarretWilson Yeah, youre right. But for nullability, I do think the solution is not to pollute the JavaDoc with it, but annotate it, and have it managed by automated tools. Java should have been non-null by default. But yes, I did miss the point about other kinds of validation. Personally, I wouldnt document the constructor; Id put it in the records main JavaDoc, and suppress warnings about missing documentation on the constructor. The limits of permitted values is a property of the record itself, not just its constructor."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1685293424,"creation_date":1685291213,"answer_id":76352472,"question_id":76352287,"body_markdown":"To directly answer your question: No, there is no way to tell the javadoc tool to copy the `@param` values from the record itself to its construcor or vice versa.\r\n\r\nHowever, the nature of the question seems to go a little further than that and is opening the door to asking &#39;why were things designed this way&#39; (that&#39;s bordering on unsuitable for SO) or &#39;should I be doing things in a different way? I care in particular about avoiding boilerplate&#39; - and that one seems fair enough for Stack Overflow.\r\n\r\n## vanilla Javadoc and &#39;no boilerplate&#39; are fundamentally incompatible\r\n\r\nThat&#39;s the fundamental problem. Here is a trivial example of some code:\r\n\r\n```\r\n/**\r\n * A student at our university.\r\n *\r\n * All students have a unique student ID which consists of\r\n * 11 digits and which is assigned upon enrollment automatically.\r\n * The first 2 digits are a checksum generated just like the IBAN\r\n * algorithm does: (Explanation of that checksum algorithm here).\r\n *\r\n * And many more details about the rest of the student class here.\r\n */\r\npublic class Student {\r\n```\r\n\r\nLet&#39;s call all that stuff in the middle paragraph the &#39;ID explanation&#39;.\r\n\r\nJust including the actual student ID parts of the student class, we get this complete farce:\r\n\r\n```\r\n/**\r\n * Blabla student class.\r\n *\r\n * ID explanation.\r\n *\r\n * More about nature of student objects.\r\n */\r\npublic class Student {\r\n\r\n  /** ID explanation. */\r\n  private final long studentId;\r\n\r\n  /**\r\n   * blabla.\r\n   *\r\n   * @param studentId ID Explanation.\r\n   */\r\n  public Student(long studentId) {\r\n    ...\r\n  }\r\n\r\n  /**\r\n   * returns the ID (Explanation).\r\n   * @return the ID.\r\n   */\r\n  public long getStudentId() {\r\n    return studentId;\r\n  }\r\n\r\n  /**\r\n   * Sets the student ID. (Explanation)\r\n   *\r\n   * @param id The new student ID.\r\n   */\r\n  public void setStudentId(long id) {\r\n    this.studentId = studentId;\r\n  }\r\n}\r\n```\r\n\r\nThis code&#39;s javadoc contains the word &#39;student ID&#39; __seven__ times, and assuming you hold to the rule that you take all the linter rules used by the vanilla `javadoc` tool at face value, you can eliminate only about 2 of those (the field, because you might not adhere to the rule that private members need javadoc, and the explanation in the type itself, where it is not required you explain it. Though, this is a bit bizarre; in many ways, that&#39;s the best place to explain it).\r\n\r\nWe now get into opinion territory. However, I&#39;m going to assume you, the reader, would agree that if we have 2 goals:\r\n\r\n* Have `javadoc` emit no warnings\r\n* Write good documentation\r\n\r\nthe best effort is probably: Explain the details about the ID at the class level, and then just call it &#39;student ID&#39; with either no explanation at all, or by using `@link` or `@see` to link back to the right section in the main javadoc, getting our fancy HTML out to make some named anchors so we can link to the right section. This is by and large echoed by the javadoc on `java.*` classes which tend to do it that way.\r\n\r\nHowever, this has then reduced our complex case into the trivial, and rather stupid, scenario where we just keep repeating ourselves over and over. This:\r\n\r\n```\r\n/**\r\n * Returns the name.\r\n * @return The name.\r\n */\r\npublic String getName() { return this.name; }\r\n```\r\n\r\nIs a severe violation of DRY, and ridiculous levels of boilerplate. And yet, for &#39;properties&#39; (i.e. the use case records are designed for explicitly), this happens all the time. __even when__ there is a lot more to say about a given property (such as our &#39;student ID&#39; case with the checksum stuff), you _still_ end up here, because where else do you put all that? Surely you don&#39;t copy/paste it to 2 to 5 locations (between constructor, setter, getter,&#39;builder method&#39;, and wither).\r\n\r\nThis gets us to a simple truth, and this truth has nothing whatsoever to do with records:\r\n\r\n__The linter rules enabled by default in `javadoc` INHERENTLY demand you commit a ton of DRY violations__.\r\n\r\nNow we go to pure conjecture/opinion: That means the javadoc default configuration is simply unfit for purpose, and _nobody should ever listen to those rules_. Take em out. javadoc&#39;s default output leads one to write horrible code. Double horrible, because unit testing documentation is not possible.\r\n\r\nThis gets us to a new &#39;view&#39; on javadoc:\r\n\r\n* Disable the silly linter rules.\r\n* Make a decision about DRY _within the documentation itself_.\r\n\r\nHere&#39;s the key question you need to answer. What is better:\r\n\r\n```\r\n/**\r\n * Returns the name.\r\n *\r\n * @return The name\r\n */\r\npublic String getName() { return this.name; }\r\n```\r\n\r\nor:\r\n\r\n\r\n```\r\npublic String getName() { return this.name; }\r\n```\r\n\r\nAs in, _no javadoc __at all___. I&#39;m strongly suggesting you cozy up to the second case and get comfy with it. The biggest issue (other than the linter tool complaining about the second case!) is that a documentation reader might assume there are interesting things to say about the `getName()` method but that the author of the class file has failed to state them, whereas with the explicit javadoc the reader may surmise that, truly, this method returns &#39;the name&#39;, and from the context of what this class is about, there really isn&#39;t anything more to say.\r\n\r\nHowever, that&#39;s a false conclusion. Because of course there _could_ be quite interesting things to say about name (just like there were interesting things to say about student ID, such as about its checksum coding system), but they are said elsewhere (such as in the class-level javadoc), or have been left unsaid. Javadoc is not unit-testable, the fact that there _is_ javadoc does not mean that it is correct, nor that it is complete.\r\n\r\nHence, __there is no point to the javadoc here, at all__ - if the name of the method 100% covers what the docs ought to say about it, don&#39;t javadoc it.\r\n\r\nThis gets a little bit trickier when you have nothing to say _because it was said elsewhere_, such as at the class level. You may want to add the useless javadoc (`/** Returns the name.  @return The name */`), just so you can `{@link}` them to the right section where you expand on the details.\r\n\r\n## To the point: records and javadoc\r\n\r\nI therefore very strongly suggest you do the following:\r\n\r\n* Document everything inherent about the properties of your record __on the record&#39;s own javadoc__.\r\n* Assume the reader is smart enough to look there and simply leave anything completely unjavadocced if the record-level javadoc + the name of the thing combine to say all there is to say.\r\n\r\nWith these rules in places, _The constructor in the snippet included in this question should remain completely unjavadocced_. The record-level javadoc + the notion of &#39;this is a constructor for it&#39; completely cover what you want to say.\r\n\r\nThe one thing that you should put in the javadoc of a record constructor are notes about the construction process itself that the record-level javadoc doesn&#39;t mention. I can imagine, if you want to be ridiculously thorough, that you write this:\r\n\r\n```\r\n/**\r\n * @param foo Some foo thing; cannot be {@code null}.\r\n * @param bar Some bar thing; cannot be {@code null}.\r\n */\r\npublic record FooBar(String foo, String bar) {\r\n  /**\r\n   * @throws NullPointerException If either {@code foo} or {@code bar} is {@code null}.\r\n   */\r\n  public FooBar {\r\n    Objects.requireNonNull(foo);\r\n    Objects.requireNonNull(bar);\r\n  }\r\n}\r\n```\r\n\r\nYes, javadoc will throw a small fit: Will complain about lack of a body, and lack of `@param` values for the 2 constructor parameters. If you remove the `@throws` note (and with that, the entire javadoc), `javadoc` indeed complains that there is no javadoc.\r\n\r\nBut, it __will__ mention this constructor in the generated javadoc. It simply will not have any text beyond its signature. __Which is fine__. Or at least, either you accept that this is fine, _or_ you accept that massive boilerplate/DRY violations are unavoidable when writing javadoc, especially for &#39;properties&#39; - whether you use records to represent them, or not.\r\n","title":"Avoiding Javadoc duplication in Java records","body":"<p>To directly answer your question: No, there is no way to tell the javadoc tool to copy the <code>@param</code> values from the record itself to its construcor or vice versa.</p>\n<p>However, the nature of the question seems to go a little further than that and is opening the door to asking 'why were things designed this way' (that's bordering on unsuitable for SO) or 'should I be doing things in a different way? I care in particular about avoiding boilerplate' - and that one seems fair enough for Stack Overflow.</p>\n<h2>vanilla Javadoc and 'no boilerplate' are fundamentally incompatible</h2>\n<p>That's the fundamental problem. Here is a trivial example of some code:</p>\n<pre><code>/**\n * A student at our university.\n *\n * All students have a unique student ID which consists of\n * 11 digits and which is assigned upon enrollment automatically.\n * The first 2 digits are a checksum generated just like the IBAN\n * algorithm does: (Explanation of that checksum algorithm here).\n *\n * And many more details about the rest of the student class here.\n */\npublic class Student {\n</code></pre>\n<p>Let's call all that stuff in the middle paragraph the 'ID explanation'.</p>\n<p>Just including the actual student ID parts of the student class, we get this complete farce:</p>\n<pre><code>/**\n * Blabla student class.\n *\n * ID explanation.\n *\n * More about nature of student objects.\n */\npublic class Student {\n\n  /** ID explanation. */\n  private final long studentId;\n\n  /**\n   * blabla.\n   *\n   * @param studentId ID Explanation.\n   */\n  public Student(long studentId) {\n    ...\n  }\n\n  /**\n   * returns the ID (Explanation).\n   * @return the ID.\n   */\n  public long getStudentId() {\n    return studentId;\n  }\n\n  /**\n   * Sets the student ID. (Explanation)\n   *\n   * @param id The new student ID.\n   */\n  public void setStudentId(long id) {\n    this.studentId = studentId;\n  }\n}\n</code></pre>\n<p>This code's javadoc contains the word 'student ID' <strong>seven</strong> times, and assuming you hold to the rule that you take all the linter rules used by the vanilla <code>javadoc</code> tool at face value, you can eliminate only about 2 of those (the field, because you might not adhere to the rule that private members need javadoc, and the explanation in the type itself, where it is not required you explain it. Though, this is a bit bizarre; in many ways, that's the best place to explain it).</p>\n<p>We now get into opinion territory. However, I'm going to assume you, the reader, would agree that if we have 2 goals:</p>\n<ul>\n<li>Have <code>javadoc</code> emit no warnings</li>\n<li>Write good documentation</li>\n</ul>\n<p>the best effort is probably: Explain the details about the ID at the class level, and then just call it 'student ID' with either no explanation at all, or by using <code>@link</code> or <code>@see</code> to link back to the right section in the main javadoc, getting our fancy HTML out to make some named anchors so we can link to the right section. This is by and large echoed by the javadoc on <code>java.*</code> classes which tend to do it that way.</p>\n<p>However, this has then reduced our complex case into the trivial, and rather stupid, scenario where we just keep repeating ourselves over and over. This:</p>\n<pre><code>/**\n * Returns the name.\n * @return The name.\n */\npublic String getName() { return this.name; }\n</code></pre>\n<p>Is a severe violation of DRY, and ridiculous levels of boilerplate. And yet, for 'properties' (i.e. the use case records are designed for explicitly), this happens all the time. <strong>even when</strong> there is a lot more to say about a given property (such as our 'student ID' case with the checksum stuff), you <em>still</em> end up here, because where else do you put all that? Surely you don't copy/paste it to 2 to 5 locations (between constructor, setter, getter,'builder method', and wither).</p>\n<p>This gets us to a simple truth, and this truth has nothing whatsoever to do with records:</p>\n<p><strong>The linter rules enabled by default in <code>javadoc</code> INHERENTLY demand you commit a ton of DRY violations</strong>.</p>\n<p>Now we go to pure conjecture/opinion: That means the javadoc default configuration is simply unfit for purpose, and <em>nobody should ever listen to those rules</em>. Take em out. javadoc's default output leads one to write horrible code. Double horrible, because unit testing documentation is not possible.</p>\n<p>This gets us to a new 'view' on javadoc:</p>\n<ul>\n<li>Disable the silly linter rules.</li>\n<li>Make a decision about DRY <em>within the documentation itself</em>.</li>\n</ul>\n<p>Here's the key question you need to answer. What is better:</p>\n<pre><code>/**\n * Returns the name.\n *\n * @return The name\n */\npublic String getName() { return this.name; }\n</code></pre>\n<p>or:</p>\n<pre><code>public String getName() { return this.name; }\n</code></pre>\n<p>As in, <em>no javadoc <strong>at all</strong></em>. I'm strongly suggesting you cozy up to the second case and get comfy with it. The biggest issue (other than the linter tool complaining about the second case!) is that a documentation reader might assume there are interesting things to say about the <code>getName()</code> method but that the author of the class file has failed to state them, whereas with the explicit javadoc the reader may surmise that, truly, this method returns 'the name', and from the context of what this class is about, there really isn't anything more to say.</p>\n<p>However, that's a false conclusion. Because of course there <em>could</em> be quite interesting things to say about name (just like there were interesting things to say about student ID, such as about its checksum coding system), but they are said elsewhere (such as in the class-level javadoc), or have been left unsaid. Javadoc is not unit-testable, the fact that there <em>is</em> javadoc does not mean that it is correct, nor that it is complete.</p>\n<p>Hence, <strong>there is no point to the javadoc here, at all</strong> - if the name of the method 100% covers what the docs ought to say about it, don't javadoc it.</p>\n<p>This gets a little bit trickier when you have nothing to say <em>because it was said elsewhere</em>, such as at the class level. You may want to add the useless javadoc (<code>/** Returns the name.  @return The name */</code>), just so you can <code>{@link}</code> them to the right section where you expand on the details.</p>\n<h2>To the point: records and javadoc</h2>\n<p>I therefore very strongly suggest you do the following:</p>\n<ul>\n<li>Document everything inherent about the properties of your record <strong>on the record's own javadoc</strong>.</li>\n<li>Assume the reader is smart enough to look there and simply leave anything completely unjavadocced if the record-level javadoc + the name of the thing combine to say all there is to say.</li>\n</ul>\n<p>With these rules in places, <em>The constructor in the snippet included in this question should remain completely unjavadocced</em>. The record-level javadoc + the notion of 'this is a constructor for it' completely cover what you want to say.</p>\n<p>The one thing that you should put in the javadoc of a record constructor are notes about the construction process itself that the record-level javadoc doesn't mention. I can imagine, if you want to be ridiculously thorough, that you write this:</p>\n<pre><code>/**\n * @param foo Some foo thing; cannot be {@code null}.\n * @param bar Some bar thing; cannot be {@code null}.\n */\npublic record FooBar(String foo, String bar) {\n  /**\n   * @throws NullPointerException If either {@code foo} or {@code bar} is {@code null}.\n   */\n  public FooBar {\n    Objects.requireNonNull(foo);\n    Objects.requireNonNull(bar);\n  }\n}\n</code></pre>\n<p>Yes, javadoc will throw a small fit: Will complain about lack of a body, and lack of <code>@param</code> values for the 2 constructor parameters. If you remove the <code>@throws</code> note (and with that, the entire javadoc), <code>javadoc</code> indeed complains that there is no javadoc.</p>\n<p>But, it <strong>will</strong> mention this constructor in the generated javadoc. It simply will not have any text beyond its signature. <strong>Which is fine</strong>. Or at least, either you accept that this is fine, <em>or</em> you accept that massive boilerplate/DRY violations are unavoidable when writing javadoc, especially for 'properties' - whether you use records to represent them, or not.</p>\n"},{"tags":[],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1700752043,"creation_date":1685295636,"answer_id":76352773,"question_id":76352287,"body_markdown":"I just filed an OpenJDK improvement request for this. The request is now public at [JDK-8309252][1], although it&#39;s not clear if they have verified that the Javadoc comments are copied over to an explicit record constructor, or if the warnings have merely been removed. (I sent a follow-up query but have not yet received any reply or ticket update.)\r\n\r\nHere is an excerpt from my request:\r\n\r\n&gt; Please improve Javadoc so that if a constructor is provided for a record, for each missing `@param` Javadoc will use the `@param` provided in the record description. This is analogous to how Javadoc already copies method API documentation for a method `@Override` if no documentation is given.\r\n&gt;\r\n&gt; \r\n&gt;\r\n&gt; An analogous situation which Javadoc (now) handles correctly is when overriding methods. A developer may leave off documentation for a method annotated with `@Override`, and Javadoc will copy over the documentation from the overridden class or interface. In this case there is no need for an `@Override` annotation, as the semantics are implicit by the context.\r\n&gt;\r\n&gt; Javadoc provides an `{@inheritDoc}` mechanism for when the developer wants to duplicate the documentation for an overridden method and then add to it. Perhaps Javadoc might provide a `{@defaultDoc}` or `{@recordDoc}` or some similar mechanism to add to the record-level documentation.\r\n&gt;\r\n&gt; Still by default, if no documentation at all is provided for a custom constructor, Javadoc should copy over the record-level `@param` documentation as it does already if no custom constructor is provided, and emit no doclint warning.\r\n\r\nIn the meantime, for a workaround, it appears (see [JDK-8275351][2]) that in Java 18 I may be able to [suppress](https://docs.oracle.com/en/java/javase/18/docs/specs/man/javadoc.html#suppressing-messages) the warnings using `@SuppressWarnings(&quot;doclint:missing&quot;)`. I have not verified this. I&#39;ll update this answer later this year when I move to Java 21 after it is released.\r\n\r\n_Update 2023-11-23:_ I have confirmed that Java 21 brings an improvement. A warning is emitted if the record fields themselves are not documented, but no warning is generated if a validating constructor is present, whether or not it has a Javadoc comment. Unfortunately as Holger mentioned, the record-level field documentation is not copied over (reflecting the unfinished state of JDK-[8309252][3]). Instead, boilerplate phrases to the effect of &quot;the value for the `foo` record component&quot; is inserted. If main documentation is provided for the validating, I still gate &quot;warning: no comment&quot;. And if I do provide a main description for the validating constructor, no field documentation is copied at all. At least the suppression of the warning is an improvement.\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=JDK-8309252\r\n  [2]: https://bugs.openjdk.org/browse/JDK-8275351\r\n  [3]: https://bugs.openjdk.org/browse/JDK-8309252","title":"Avoiding Javadoc duplication in Java records","body":"<p>I just filed an OpenJDK improvement request for this. The request is now public at <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=JDK-8309252\" rel=\"nofollow noreferrer\">JDK-8309252</a>, although it's not clear if they have verified that the Javadoc comments are copied over to an explicit record constructor, or if the warnings have merely been removed. (I sent a follow-up query but have not yet received any reply or ticket update.)</p>\n<p>Here is an excerpt from my request:</p>\n<blockquote>\n<p>Please improve Javadoc so that if a constructor is provided for a record, for each missing <code>@param</code> Javadoc will use the <code>@param</code> provided in the record description. This is analogous to how Javadoc already copies method API documentation for a method <code>@Override</code> if no documentation is given.</p>\n<p></p>\n<p>An analogous situation which Javadoc (now) handles correctly is when overriding methods. A developer may leave off documentation for a method annotated with <code>@Override</code>, and Javadoc will copy over the documentation from the overridden class or interface. In this case there is no need for an <code>@Override</code> annotation, as the semantics are implicit by the context.</p>\n<p>Javadoc provides an <code>{@inheritDoc}</code> mechanism for when the developer wants to duplicate the documentation for an overridden method and then add to it. Perhaps Javadoc might provide a <code>{@defaultDoc}</code> or <code>{@recordDoc}</code> or some similar mechanism to add to the record-level documentation.</p>\n<p>Still by default, if no documentation at all is provided for a custom constructor, Javadoc should copy over the record-level <code>@param</code> documentation as it does already if no custom constructor is provided, and emit no doclint warning.</p>\n</blockquote>\n<p>In the meantime, for a workaround, it appears (see <a href=\"https://bugs.openjdk.org/browse/JDK-8275351\" rel=\"nofollow noreferrer\">JDK-8275351</a>) that in Java 18 I may be able to <a href=\"https://docs.oracle.com/en/java/javase/18/docs/specs/man/javadoc.html#suppressing-messages\" rel=\"nofollow noreferrer\">suppress</a> the warnings using <code>@SuppressWarnings(&quot;doclint:missing&quot;)</code>. I have not verified this. I'll update this answer later this year when I move to Java 21 after it is released.</p>\n<p><em>Update 2023-11-23:</em> I have confirmed that Java 21 brings an improvement. A warning is emitted if the record fields themselves are not documented, but no warning is generated if a validating constructor is present, whether or not it has a Javadoc comment. Unfortunately as Holger mentioned, the record-level field documentation is not copied over (reflecting the unfinished state of JDK-<a href=\"https://bugs.openjdk.org/browse/JDK-8309252\" rel=\"nofollow noreferrer\">8309252</a>). Instead, boilerplate phrases to the effect of &quot;the value for the <code>foo</code> record component&quot; is inserted. If main documentation is provided for the validating, I still gate &quot;warning: no comment&quot;. And if I do provide a main description for the validating constructor, no field documentation is copied at all. At least the suppression of the warning is an improvement.</p>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":76352773,"answer_count":2,"score":7,"last_activity_date":1700752043,"creation_date":1685288599,"question_id":76352287,"body_markdown":"The new Java `record` is supposed to cut down on boilerplate. I can quickly create an immutable `FooBar` class with `foo` and `bar` components without worrying about local variables, constructor value copying, and getters, like this:\r\n\r\n```java\r\n/**\r\n * Foo bar record.\r\n */\r\npublic record FooBar(String foo, String bar) {\r\n}\r\n```\r\n\r\nOf course I want to document what the record components are, so they will show up in the generated Javadocs! So I add this:\r\n\r\n```java\r\n/**\r\n * Foo bar record.\r\n * @param foo That foo thing; cannot be &lt;code&gt;null&lt;/code&gt;.\r\n * @param bar That bar thing; cannot be &lt;code&gt;null&lt;/code&gt;.\r\n */\r\npublic record FooBar(String foo, String bar) {\r\n}\r\n```\r\n\r\nThat works nicelythe record components show up in the documentation.\r\n\r\nExcept that for almost 100% of records, as a good developer of course I need to validate the `foo` and `bar` to ensure they are non-null, right? (Right.) Records allow this easily:\r\n\r\n```java\r\n/**\r\n * Foo bar record.\r\n * @param foo That foo thing; cannot be &lt;code&gt;null&lt;/code&gt;.\r\n * @param bar That bar thing; cannot be &lt;code&gt;null&lt;/code&gt;.\r\n */\r\npublic record FooBar(String foo, String bar) {\r\n\r\n  /** Constructor for argument validation and normalization. */\r\n  public FooBar {\r\n    Objects.requireNonNull(foo);\r\n    Objects.requireNonNull(bar);\r\n  }\r\n\r\n}\r\n```\r\n\r\nAnd now, since I am using `-Xdoclint:all`, I get a warning because the construct doesn&#39;t document its (implicit) parameters:\r\n\r\n```\r\n[WARNING] Javadoc Warnings\r\n[WARNING] /FooBar.java:xx: warning: no @param for foo\r\n[WARNING] public FooBar {\r\n[WARNING] ^\r\n[WARNING] /FooBar.java:xx: warning: no @param for bar\r\n[WARNING] public FooBar {\r\n[WARNING] ^\r\n[WARNING] 2 warnings\r\n```\r\n\r\nIf you say &quot;just turn off `-Xdoclint:all`&quot;, you&#39;re missing the point. The warning is valid, because indeed no documentation shows up for the constructor in the generated Javadocs! If there is a constructor, there should be documentation for the parameters. So I&#39;m forced to do the old copy and paste:\r\n\r\n```java\r\n/**\r\n * Foo bar record.\r\n * @param foo That foo thing; cannot be &lt;code&gt;null&lt;/code&gt;.\r\n * @param bar That bar thing; cannot be &lt;code&gt;null&lt;/code&gt;.\r\n */\r\npublic record FooBar(String foo, String bar) {\r\n\r\n  /**\r\n   * Constructor for argument validation and normalization.\r\n   * @param foo That foo thing; cannot be &lt;code&gt;null&lt;/code&gt;.\r\n   * @param bar That bar thing; cannot be &lt;code&gt;null&lt;/code&gt;.\r\n   */\r\n  public FooBar {\r\n    Objects.requireNonNull(foo);\r\n    Objects.requireNonNull(bar);\r\n  }\r\n\r\n}\r\n```\r\n\r\nWait, what happened to cutting down on boilerplate? The boilerplate seems almost as bad as before, if not worse, because now it&#39;s complete duplication. Sure, maybe the semantics are slightly different, so maybe I could tweak the wording. Maybe one should say &quot;can never be `null`&quot; and the other should say &quot;throws an exception if `null`&quot;, but really, this is not ideal.\r\n\r\nJavadoc isn&#39;t this unintelligent when I&#39;m overriding methods. If I leave off the Javadoc for a method with an `@Override` annotation, then Javadoc copies over the documentation from the overridden class or interface. And if I decide I want to tweak the documentation, I even have a `{@inheritDoc}` Javadoc tag that allows me to copy the documentation from the method I&#39;m overriding.\r\n\r\nWhat&#39;s the solution here? Is there a way I can tell Javadoc to use the main record parameter documentation for the constructor or vice versa? Is there some Javadoc tag I can use to make it happen automatically? Because the situation as-is is very far from ideal.","title":"Avoiding Javadoc duplication in Java records","body":"<p>The new Java <code>record</code> is supposed to cut down on boilerplate. I can quickly create an immutable <code>FooBar</code> class with <code>foo</code> and <code>bar</code> components without worrying about local variables, constructor value copying, and getters, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Foo bar record.\n */\npublic record FooBar(String foo, String bar) {\n}\n</code></pre>\n<p>Of course I want to document what the record components are, so they will show up in the generated Javadocs! So I add this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Foo bar record.\n * @param foo That foo thing; cannot be &lt;code&gt;null&lt;/code&gt;.\n * @param bar That bar thing; cannot be &lt;code&gt;null&lt;/code&gt;.\n */\npublic record FooBar(String foo, String bar) {\n}\n</code></pre>\n<p>That works nicelythe record components show up in the documentation.</p>\n<p>Except that for almost 100% of records, as a good developer of course I need to validate the <code>foo</code> and <code>bar</code> to ensure they are non-null, right? (Right.) Records allow this easily:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Foo bar record.\n * @param foo That foo thing; cannot be &lt;code&gt;null&lt;/code&gt;.\n * @param bar That bar thing; cannot be &lt;code&gt;null&lt;/code&gt;.\n */\npublic record FooBar(String foo, String bar) {\n\n  /** Constructor for argument validation and normalization. */\n  public FooBar {\n    Objects.requireNonNull(foo);\n    Objects.requireNonNull(bar);\n  }\n\n}\n</code></pre>\n<p>And now, since I am using <code>-Xdoclint:all</code>, I get a warning because the construct doesn't document its (implicit) parameters:</p>\n<pre><code>[WARNING] Javadoc Warnings\n[WARNING] /FooBar.java:xx: warning: no @param for foo\n[WARNING] public FooBar {\n[WARNING] ^\n[WARNING] /FooBar.java:xx: warning: no @param for bar\n[WARNING] public FooBar {\n[WARNING] ^\n[WARNING] 2 warnings\n</code></pre>\n<p>If you say &quot;just turn off <code>-Xdoclint:all</code>&quot;, you're missing the point. The warning is valid, because indeed no documentation shows up for the constructor in the generated Javadocs! If there is a constructor, there should be documentation for the parameters. So I'm forced to do the old copy and paste:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Foo bar record.\n * @param foo That foo thing; cannot be &lt;code&gt;null&lt;/code&gt;.\n * @param bar That bar thing; cannot be &lt;code&gt;null&lt;/code&gt;.\n */\npublic record FooBar(String foo, String bar) {\n\n  /**\n   * Constructor for argument validation and normalization.\n   * @param foo That foo thing; cannot be &lt;code&gt;null&lt;/code&gt;.\n   * @param bar That bar thing; cannot be &lt;code&gt;null&lt;/code&gt;.\n   */\n  public FooBar {\n    Objects.requireNonNull(foo);\n    Objects.requireNonNull(bar);\n  }\n\n}\n</code></pre>\n<p>Wait, what happened to cutting down on boilerplate? The boilerplate seems almost as bad as before, if not worse, because now it's complete duplication. Sure, maybe the semantics are slightly different, so maybe I could tweak the wording. Maybe one should say &quot;can never be <code>null</code>&quot; and the other should say &quot;throws an exception if <code>null</code>&quot;, but really, this is not ideal.</p>\n<p>Javadoc isn't this unintelligent when I'm overriding methods. If I leave off the Javadoc for a method with an <code>@Override</code> annotation, then Javadoc copies over the documentation from the overridden class or interface. And if I decide I want to tweak the documentation, I even have a <code>{@inheritDoc}</code> Javadoc tag that allows me to copy the documentation from the method I'm overriding.</p>\n<p>What's the solution here? Is there a way I can tell Javadoc to use the main record parameter documentation for the constructor or vice versa? Is there some Javadoc tag I can use to make it happen automatically? Because the situation as-is is very far from ideal.</p>\n"},{"tags":["java","gradle","jvm","classloader"],"comments":[{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1700751343,"post_id":77537803,"comment_id":136694970,"body_markdown":"The class affected is `com.whatsapp.api.domain.webhook.WebHookEvent`, which is unlikely to be a class that you compiled yourself (unless you work for Facebook/Whatsapp), but comes from a library you&#39;re using. The error means that class was compiled to target Java 17. You cannot use it on Java 8. You need to downgrade the library used to a version which was compiled targetting Java 8 or lower.","body":"The class affected is <code>com.whatsapp.api.domain.webhook.WebHookEvent</code>, which is unlikely to be a class that you compiled yourself (unless you work for Facebook/Whatsapp), but comes from a library you&#39;re using. The error means that class was compiled to target Java 17. You cannot use it on Java 8. You need to downgrade the library used to a version which was compiled targetting Java 8 or lower."},{"owner":{"account_id":45934,"reputation":203639,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1700751645,"post_id":77537803,"comment_id":136695029,"body_markdown":"Is there a reason why you are still using Java 8, which is an outdated Java version? If you can, update your Java version to at least Java 17.","body":"Is there a reason why you are still using Java 8, which is an outdated Java version? If you can, update your Java version to at least Java 17."},{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1700753261,"post_id":77537803,"comment_id":136695349,"body_markdown":"@Jesper Although it is an older version, it is still actively supported (until 2026 by most OpenJDK derivatives, and until 2030 if you pay Oracle), so in that sense it is not outdated.","body":"@Jesper Although it is an older version, it is still actively supported (until 2026 by most OpenJDK derivatives, and until 2030 if you pay Oracle), so in that sense it is not outdated."}],"owner":{"account_id":27579851,"reputation":1,"user_id":21049290,"display_name":"Otabek Eshpo&#39;latov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1700758649,"answer_count":0,"score":-1,"last_activity_date":1700751376,"creation_date":1700751151,"question_id":77537803,"body_markdown":"```none\r\ncom/whatsapp/api/domain/webhook/WebHookEvent has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n\tat java.lang.ClassLoader.defineClass1(Native Method) ~[na:1.8.0_382]\r\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:756) ~[na:1.8.0_382]\r\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142) ~[na:1.8.0_382]\r\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:473) ~[na:1.8.0_382]\r\n\tat java.net.URLClassLoader.access$100(URLClassLoader.java:74) ~[na:1.8.0_382]\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:369) ~[na:1.8.0_382]\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:363) ~[na:1.8.0_382]\r\n\tat java.security.AccessController.doPrivileged(Native Method) ~[na:1.8.0_382]\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:362) ~[na:1.8.0_382]\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418) ~[na:1.8.0_382]\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351) ~[na:1.8.0_382]\r\n\tat java.lang.Class.forName0(Native Method) ~[na:1.8.0_382]\r\n```\r\n\r\nNo exceptions happened during compilation. \r\n\r\nMy project is in Java 8 and when I run the program after adding external library through Gradle, that&#39;s what happened. However, the class is built with 1.8.0_292jdk. How is that possible? \r\n\r\nI even cleaned caches inside .m2 and .gradle/caches but still I don&#39;t see any change.","title":"Class has been compiled by a more recent version of the Java Runtime","body":"<pre class=\"lang-none prettyprint-override\"><code>com/whatsapp/api/domain/webhook/WebHookEvent has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n    at java.lang.ClassLoader.defineClass1(Native Method) ~[na:1.8.0_382]\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:756) ~[na:1.8.0_382]\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142) ~[na:1.8.0_382]\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:473) ~[na:1.8.0_382]\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:74) ~[na:1.8.0_382]\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:369) ~[na:1.8.0_382]\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:363) ~[na:1.8.0_382]\n    at java.security.AccessController.doPrivileged(Native Method) ~[na:1.8.0_382]\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:362) ~[na:1.8.0_382]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418) ~[na:1.8.0_382]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351) ~[na:1.8.0_382]\n    at java.lang.Class.forName0(Native Method) ~[na:1.8.0_382]\n</code></pre>\n<p>No exceptions happened during compilation.</p>\n<p>My project is in Java 8 and when I run the program after adding external library through Gradle, that's what happened. However, the class is built with 1.8.0_292jdk. How is that possible?</p>\n<p>I even cleaned caches inside .m2 and .gradle/caches but still I don't see any change.</p>\n"},{"tags":["java","android","eclipse"],"comments":[{"owner":{"account_id":2200360,"reputation":8355,"user_id":1944896,"accept_rate":80,"display_name":"TheLittleNaruto"},"score":0,"creation_date":1510251078,"post_id":47205880,"comment_id":81366636,"body_markdown":"Could you switch to Android Studio instead ? Because Eclipse is deprecated now.","body":"Could you switch to Android Studio instead ? Because Eclipse is deprecated now."}],"answers":[{"tags":[],"owner":{"account_id":11655101,"reputation":797,"user_id":8535087,"display_name":"Ash_s94"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1567695610,"creation_date":1510242140,"answer_id":47205957,"question_id":47205880,"body_markdown":"Are you using Maven? If so,\r\n\r\n 1. Right-click on the project, Build Path and go to Configure Build Path\r\n 2. Click the libraries tab. If Maven dependencies are not in the list, you need to add it.\r\n 3. Close the dialog.\r\n\r\nTo add it:\r\nRight-click on the project, Maven  Disable Maven Nature\r\nRight-click on the project, Configure  Convert to Maven Project.\r\n\r\nAnd then clean\r\n\r\n**Edit 1:**\r\n\r\nIf that doesn&#39;t resolve the issue try right-clicking on your project and select properties. Select Java Build Path  Library tab. Look for a JVM. If it&#39;s not there, click to add Library and add the default JVM. If VM is there, click edit and select the default JVM. Hopefully, that works.\r\n\r\n**Edit 2:**\r\n\r\nYou can also try going into the folder where you have all your projects and delete the `.metadata` for eclipse (be aware that you&#39;ll have to re-import all the projects afterwards! Also all the environment settings you&#39;ve set would also have to be redone). After it was deleted just import the project again, and hopefully, it works.","title":"Eclipse Oxygen - The project was not built since its build path is incomplete","body":"<p>Are you using Maven? If so,</p>\n\n<ol>\n<li>Right-click on the project, Build Path and go to Configure Build Path</li>\n<li>Click the libraries tab. If Maven dependencies are not in the list, you need to add it.</li>\n<li>Close the dialog.</li>\n</ol>\n\n<p>To add it:\nRight-click on the project, Maven  Disable Maven Nature\nRight-click on the project, Configure  Convert to Maven Project.</p>\n\n<p>And then clean</p>\n\n<p><strong>Edit 1:</strong></p>\n\n<p>If that doesn't resolve the issue try right-clicking on your project and select properties. Select Java Build Path  Library tab. Look for a JVM. If it's not there, click to add Library and add the default JVM. If VM is there, click edit and select the default JVM. Hopefully, that works.</p>\n\n<p><strong>Edit 2:</strong></p>\n\n<p>You can also try going into the folder where you have all your projects and delete the <code>.metadata</code> for eclipse (be aware that you'll have to re-import all the projects afterwards! Also all the environment settings you've set would also have to be redone). After it was deleted just import the project again, and hopefully, it works.</p>\n"},{"tags":[],"owner":{"account_id":7139664,"reputation":50256,"user_id":5457853,"accept_rate":75,"display_name":"Thracian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510245969,"creation_date":1510245969,"answer_id":47207330,"question_id":47205880,"body_markdown":"I&#39;m also using Eclipse Oxygen, migrated from Mars. I faced the same error. I deleted `.metadata`, `.recommenders` folders and added projects from archive and issue is solved. I also use Android Studio but i like Eclipse much more.","title":"Eclipse Oxygen - The project was not built since its build path is incomplete","body":"<p>I'm also using Eclipse Oxygen, migrated from Mars. I faced the same error. I deleted <code>.metadata</code>, <code>.recommenders</code> folders and added projects from archive and issue is solved. I also use Android Studio but i like Eclipse much more.</p>\n"},{"tags":[],"owner":{"account_id":2340745,"reputation":7243,"user_id":2052097,"accept_rate":85,"display_name":"z atef"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1598588123,"creation_date":1541870668,"answer_id":53241530,"question_id":47205880,"body_markdown":"Here is what made the error disappear for me: \r\n\r\n\r\nClose eclipse, open up a terminal window and run: \r\n\r\n    $ mvn clean eclipse:clean eclipse:eclipse","title":"Eclipse Oxygen - The project was not built since its build path is incomplete","body":"<p>Here is what made the error disappear for me:</p>\n<p>Close eclipse, open up a terminal window and run:</p>\n<pre><code>$ mvn clean eclipse:clean eclipse:eclipse\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14034553,"reputation":1,"user_id":10137582,"display_name":"Thomas P."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570516422,"creation_date":1570516422,"answer_id":58281185,"question_id":47205880,"body_markdown":"At my system the Java Runtime JAR file **jrt-fs.jar** was not found because it was in the wrong directory. This file should be located in the &quot;lib&quot; subfolder. If you installed Java at &quot;C:\\Temp\\java&quot; the file should be here at C:\\Temp\\java\\lib\\jrt-fs.jar . \r\n\r\nThese are the steps to make **jrt-fs.jar** available to Eclipse:\r\n\r\n 1. Window / Preferences -&gt; the &quot;Preferences&quot; Window opens\r\n 2. Select in the left menu: Java / Installed JREs\r\n 3. Press the [Add...] Button -&gt; A window opens\r\n 4.  Select &quot;Standard VM&quot; - The window &quot;JRE Definition&quot; opens.\r\n 5.  Enter your path information:\r\n 6. JRE home = &quot;C:\\Temp\\java&quot;\r\n 7. JRE name = &quot;MyJRE&quot;\r\n 8. Select [Add External JARs...] to link the jrt-fs.jar\r\n 9. JRE system libaries: &quot;C:\\Temp\\java\\lib\\jrt-fs.jar&quot;\r\n\r\nIt worked for me with OpenJDK12 and Eclipse 2019-09 (4.13.0).\r\nEclipse reported me this error:\r\n\r\n    The project was not built since its build path is incomplete. Cannot find the class file for java.lang.Object. Fix the build path then try building this project","title":"Eclipse Oxygen - The project was not built since its build path is incomplete","body":"<p>At my system the Java Runtime JAR file <strong>jrt-fs.jar</strong> was not found because it was in the wrong directory. This file should be located in the \"lib\" subfolder. If you installed Java at \"C:\\Temp\\java\" the file should be here at C:\\Temp\\java\\lib\\jrt-fs.jar . </p>\n\n<p>These are the steps to make <strong>jrt-fs.jar</strong> available to Eclipse:</p>\n\n<ol>\n<li>Window / Preferences -> the \"Preferences\" Window opens</li>\n<li>Select in the left menu: Java / Installed JREs</li>\n<li>Press the [Add...] Button -> A window opens</li>\n<li>Select \"Standard VM\" - The window \"JRE Definition\" opens.</li>\n<li>Enter your path information:</li>\n<li>JRE home = \"C:\\Temp\\java\"</li>\n<li>JRE name = \"MyJRE\"</li>\n<li>Select [Add External JARs...] to link the jrt-fs.jar</li>\n<li>JRE system libaries: \"C:\\Temp\\java\\lib\\jrt-fs.jar\"</li>\n</ol>\n\n<p>It worked for me with OpenJDK12 and Eclipse 2019-09 (4.13.0).\nEclipse reported me this error:</p>\n\n<pre><code>The project was not built since its build path is incomplete. Cannot find the class file for java.lang.Object. Fix the build path then try building this project\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7842025,"reputation":1,"user_id":5928209,"display_name":"Abinash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577643408,"creation_date":1577643408,"answer_id":59522067,"question_id":47205880,"body_markdown":"I had faced this problem. I added the C:\\Users\\Office 2\\android-sdks\\platforms\\android-19\\android.jar to the Java Build Path&#39;s Library. And the project started to run again.\r\nThe problem occurred due to my carelessness. Yesterday night I was updating the Android SDK, and at the same time I tried to run the project,  while the SDK Manager was uncompressing the system image. The Project couldn&#39;t start and the error occurred. \r\n\r\nI tried all the methods given by others. But nothing worked. It solved when I added the android.jar to the library.\r\n\r\nI guessed it that android library is missing. not the Java, when I saw the errors only at the android methods and imports. But when I read the posts, I got confused and wasted some time trying wrong way.\r\n\r\n","title":"Eclipse Oxygen - The project was not built since its build path is incomplete","body":"<p>I had faced this problem. I added the C:\\Users\\Office 2\\android-sdks\\platforms\\android-19\\android.jar to the Java Build Path's Library. And the project started to run again.\nThe problem occurred due to my carelessness. Yesterday night I was updating the Android SDK, and at the same time I tried to run the project,  while the SDK Manager was uncompressing the system image. The Project couldn't start and the error occurred. </p>\n\n<p>I tried all the methods given by others. But nothing worked. It solved when I added the android.jar to the library.</p>\n\n<p>I guessed it that android library is missing. not the Java, when I saw the errors only at the android methods and imports. But when I read the posts, I got confused and wasted some time trying wrong way.</p>\n"},{"tags":[],"owner":{"account_id":2093262,"reputation":9483,"user_id":1862590,"display_name":"Sathiamoorthy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615877791,"creation_date":1586335772,"answer_id":61096765,"question_id":47205880,"body_markdown":"I had faced the same issue and tried different solutions, I have reinstalled my JDK 11 and restarted the machine, after that the issue gets resolved.","title":"Eclipse Oxygen - The project was not built since its build path is incomplete","body":"<p>I had faced the same issue and tried different solutions, I have reinstalled my JDK 11 and restarted the machine, after that the issue gets resolved.</p>\n"},{"tags":[],"owner":{"account_id":6069196,"reputation":59,"user_id":4738573,"display_name":"art"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661349382,"creation_date":1619044170,"answer_id":67204261,"question_id":47205880,"body_markdown":"I have similar issue when importing Spring Boot, jdk 11 (using \r\ninside docker) project to Eclipse 2019 (2021), in Ubuntu, instead when \r\nimporting to Inteelij IDEA Community or NetBeans IDEs they do \r\nnot produce the same set of after-import errors as in Eclipse. \r\nThe Spring Boot is multimodule maven projects and two child \r\nmodules give such 2 &quot;problems&quot; in appropriate problems tab:\r\n\r\n    The project was not built since its build path is incomplete. \r\n    Cannot find the class file for java.lang.Object. Fix the build \r\n    path then try building this project\r\n\r\nNext 2 errors are produced in two classes of aforementioned\r\nmaven modules:\r\n\r\n    The type java.lang.Object cannot be resolved. It is \r\n    indirectly referenced from required .class files\r\n\r\nManipulation with adding JDK 11 to submodules buildpath\r\njust leads to the thousands of problems. Also it is\r\ngot when I use Eclipse-File-Maven-Update.\r\nMoreover when I try to edit most of existing classes or add new ones\r\nI got red underline that tells\r\n\r\n    Implicit super constructor Object() is undefined for default \r\n    constructor. Must define an explicit constructor\r\n\r\n. So almost no opportunity to use Eclipse\r\neven at prebuild stage as docker-compose should run build and \r\nrun. Indeed I noted that such issue is produced just when project \r\nalso uses modules (module-info files introduced in java9).\r\nWhen I import project on jdk 8 (even not installed on \r\nsystem), or even on jdk11 without module-info files all\r\nis fine in Eclipse after import.\r\nAnother difference is that of when I use problem old no module \r\nproject the Build Path is composed with jre environment 8 and \r\nmaven dependency items, but when using\r\n&quot;module-info&quot; project the Build path contains -module path, \r\nand -classpath. So I even do not know where to add jre 11,\r\nindeed adding does not resolve issue, just make more errors.\r\nSo what is the resolution of the case??? What settings to do \r\nin Eclipse?","title":"Eclipse Oxygen - The project was not built since its build path is incomplete","body":"<p>I have similar issue when importing Spring Boot, jdk 11 (using\ninside docker) project to Eclipse 2019 (2021), in Ubuntu, instead when\nimporting to Inteelij IDEA Community or NetBeans IDEs they do\nnot produce the same set of after-import errors as in Eclipse.\nThe Spring Boot is multimodule maven projects and two child\nmodules give such 2 &quot;problems&quot; in appropriate problems tab:</p>\n<pre><code>The project was not built since its build path is incomplete. \nCannot find the class file for java.lang.Object. Fix the build \npath then try building this project\n</code></pre>\n<p>Next 2 errors are produced in two classes of aforementioned\nmaven modules:</p>\n<pre><code>The type java.lang.Object cannot be resolved. It is \nindirectly referenced from required .class files\n</code></pre>\n<p>Manipulation with adding JDK 11 to submodules buildpath\njust leads to the thousands of problems. Also it is\ngot when I use Eclipse-File-Maven-Update.\nMoreover when I try to edit most of existing classes or add new ones\nI got red underline that tells</p>\n<pre><code>Implicit super constructor Object() is undefined for default \nconstructor. Must define an explicit constructor\n</code></pre>\n<p>. So almost no opportunity to use Eclipse\neven at prebuild stage as docker-compose should run build and\nrun. Indeed I noted that such issue is produced just when project\nalso uses modules (module-info files introduced in java9).\nWhen I import project on jdk 8 (even not installed on\nsystem), or even on jdk11 without module-info files all\nis fine in Eclipse after import.\nAnother difference is that of when I use problem old no module\nproject the Build Path is composed with jre environment 8 and\nmaven dependency items, but when using\n&quot;module-info&quot; project the Build path contains -module path,\nand -classpath. So I even do not know where to add jre 11,\nindeed adding does not resolve issue, just make more errors.\nSo what is the resolution of the case??? What settings to do\nin Eclipse?</p>\n"},{"tags":[],"owner":{"account_id":1661507,"reputation":9916,"user_id":1529709,"accept_rate":100,"display_name":"zb226"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661349316,"creation_date":1661349316,"answer_id":73474451,"question_id":47205880,"body_markdown":"I got this out of the blue in a workspace that was working properly before. This problem seems to indicate that the project configuration somehow got corrupted.\r\n\r\nRestarting Eclipse didn&#39;t help, but in the same vein as the answers dealing with Maven, regenerating the Eclipse project config with:\r\n\r\n    ./gradle eclipse\r\n\r\nor\r\n\r\n    ./gradlew eclipse\r\n\r\nif you use the wrapper, solved this problem for me.\r\n","title":"Eclipse Oxygen - The project was not built since its build path is incomplete","body":"<p>I got this out of the blue in a workspace that was working properly before. This problem seems to indicate that the project configuration somehow got corrupted.</p>\n<p>Restarting Eclipse didn't help, but in the same vein as the answers dealing with Maven, regenerating the Eclipse project config with:</p>\n<pre><code>./gradle eclipse\n</code></pre>\n<p>or</p>\n<pre><code>./gradlew eclipse\n</code></pre>\n<p>if you use the wrapper, solved this problem for me.</p>\n"},{"tags":[],"owner":{"account_id":11170080,"reputation":1139,"user_id":8663316,"display_name":"Faizan Haidar Khan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666695633,"creation_date":1666695633,"answer_id":74193038,"question_id":47205880,"body_markdown":"In Eclipse, Right click Project -&gt; `Maven` -&gt; `Update Project`. It fixed errors in my project. ","title":"Eclipse Oxygen - The project was not built since its build path is incomplete","body":"<p>In Eclipse, Right click Project -&gt; <code>Maven</code> -&gt; <code>Update Project</code>. It fixed errors in my project.</p>\n"},{"tags":[],"owner":{"account_id":4306599,"reputation":3578,"user_id":3518815,"accept_rate":25,"display_name":"Kuntal Ghosh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678521978,"creation_date":1678521978,"answer_id":75703596,"question_id":47205880,"body_markdown":"Below are the steps of how I resolved the issue in my system.\r\n\r\n - Restarted eclipse\r\n - Right click on pom.xml and hit maven clean\r\n - Again right click on pom.xml and hit maven install\r\n\r\nI get build success after maven install is completed.","title":"Eclipse Oxygen - The project was not built since its build path is incomplete","body":"<p>Below are the steps of how I resolved the issue in my system.</p>\n<ul>\n<li>Restarted eclipse</li>\n<li>Right click on pom.xml and hit maven clean</li>\n<li>Again right click on pom.xml and hit maven install</li>\n</ul>\n<p>I get build success after maven install is completed.</p>\n"},{"tags":[],"owner":{"account_id":29976136,"reputation":1,"user_id":22972303,"display_name":"Akshay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700751177,"creation_date":1700751098,"answer_id":77537797,"question_id":47205880,"body_markdown":"This Helped me\r\n\r\nSteps:\r\n 1. How to resolve java build path problem in Eclipse\r\n 2. Right click the project - select build path - click configure build path\r\n 3. click the librarie tab\r\n 4. remove the jre (error jre) we need to jdk\r\n 5. click Add Library\r\n 6. select JRE system library\r\n 7. click installed jre\r\n 8. click add button : or select jdk in this window if not available the jdk click add button\r\n 9. select the jdk directory in the system\r\n 10. select jdk and apply close\r\n 11. building the project\r\n 12. check it the build path problem resolved\r\n\r\nYou Can check the link below video:- \r\nhttps://www.youtube.com/watch?v=WHjfJnpwcTQ","title":"Eclipse Oxygen - The project was not built since its build path is incomplete","body":"<p>This Helped me</p>\n<p>Steps:</p>\n<ol>\n<li>How to resolve java build path problem in Eclipse</li>\n<li>Right click the project - select build path - click configure build path</li>\n<li>click the librarie tab</li>\n<li>remove the jre (error jre) we need to jdk</li>\n<li>click Add Library</li>\n<li>select JRE system library</li>\n<li>click installed jre</li>\n<li>click add button : or select jdk in this window if not available the jdk click add button</li>\n<li>select the jdk directory in the system</li>\n<li>select jdk and apply close</li>\n<li>building the project</li>\n<li>check it the build path problem resolved</li>\n</ol>\n<p>You Can check the link below video:-\n<a href=\"https://www.youtube.com/watch?v=WHjfJnpwcTQ\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=WHjfJnpwcTQ</a></p>\n"}],"owner":{"account_id":6532591,"reputation":1944,"user_id":5053275,"accept_rate":53,"display_name":"user123456789"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107218,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"answer_count":11,"score":23,"last_activity_date":1700751177,"creation_date":1510241938,"question_id":47205880,"body_markdown":"I just installed Eclipse Oxygen and tried to open an existing project into the workbench but I get this error:\r\n\r\n&gt; The project was not built since its build path is incomplete. Cannot\r\n&gt; find the class file for java.lang.Object. Fix the build path then try\r\n&gt; building this project\r\n\r\nI tried right clicking on the project - went to Properties - Java Build Path - Libraries - Add Library - JRE System Library and selected Workbench default JRE (jre1.8.0_60).\r\n\r\nI then cleaned and rebuilt the project but it then causes more errors to come up like:\r\n\r\n    ActionBar cannot be resolved to a type\r\n    Activity cannot be resolved to a variable\r\n    AdapterView cannot be resolved to a type\r\n    ArrayAdapter cannot be resolved to a type\r\n\r\n","title":"Eclipse Oxygen - The project was not built since its build path is incomplete","body":"<p>I just installed Eclipse Oxygen and tried to open an existing project into the workbench but I get this error:</p>\n\n<blockquote>\n  <p>The project was not built since its build path is incomplete. Cannot\n  find the class file for java.lang.Object. Fix the build path then try\n  building this project</p>\n</blockquote>\n\n<p>I tried right clicking on the project - went to Properties - Java Build Path - Libraries - Add Library - JRE System Library and selected Workbench default JRE (jre1.8.0_60).</p>\n\n<p>I then cleaned and rebuilt the project but it then causes more errors to come up like:</p>\n\n<pre><code>ActionBar cannot be resolved to a type\nActivity cannot be resolved to a variable\nAdapterView cannot be resolved to a type\nArrayAdapter cannot be resolved to a type\n</code></pre>\n"},{"tags":["java","sql","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1700756641,"post_id":77537757,"comment_id":136695952,"body_markdown":"Please read [How to Ask](https://stackoverflow.com/help/how-to-ask). You should provide [complete error message](https://meta.stackoverflow.com/questions/359146/why-should-i-post-complete-errors-why-isnt-the-message-itself-enough)","body":"Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a>. You should provide <a href=\"https://meta.stackoverflow.com/questions/359146/why-should-i-post-complete-errors-why-isnt-the-message-itself-enough\">complete error message</a>"}],"owner":{"account_id":14203739,"reputation":41,"user_id":10260948,"display_name":"Ashika Jinturkar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700750683,"creation_date":1700750683,"question_id":77537757,"body_markdown":"I am trying to upload multiple files in MySQL database. I am using Multipart to achieve it. While defining the Model &#39;FileDB&#39;, I came across an issue with size of Column that stores the Attached Documents.\r\nMy requirement is the Database Column should store list of Documents I will upload i.e 120 MB of files for one record. Is it possible? How should I specify the size of column through Spring Boot\r\n\r\n```\r\npackage springboot.uploadfilesdatabase.model;\r\n\r\n\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.Lob;\r\nimport jakarta.persistence.Table;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Entity\r\n@Table(name = &quot;files&quot;)\r\n@Data\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n\r\npublic class FileDB {\r\n\r\n\r\n\t  @Id\r\n\t  @GeneratedValue(strategy = GenerationType.AUTO)\r\n\t\r\n\t  private long id;\r\n\r\n\t  private String name;\r\n\t  \r\n\t  private String type;\r\n\r\n\t  @Lob\r\n\t  @Column(length = &quot;?&quot;)\r\n\t  private byte[] data;\r\n\t  \r\n\t  \r\n\t\r\n}\r\n\r\n```\r\n \r\n\r\nI tried without specifying length, but its throwing Exception That I have designed.\r\nAs per my understandings, The appropriate size is not specified during Entity Code.","title":"Size of @Lob annotation column to accept multiple large files of around 100 mb","body":"<p>I am trying to upload multiple files in MySQL database. I am using Multipart to achieve it. While defining the Model 'FileDB', I came across an issue with size of Column that stores the Attached Documents.\nMy requirement is the Database Column should store list of Documents I will upload i.e 120 MB of files for one record. Is it possible? How should I specify the size of column through Spring Boot</p>\n<pre><code>package springboot.uploadfilesdatabase.model;\n\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Lob;\nimport jakarta.persistence.Table;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Entity\n@Table(name = &quot;files&quot;)\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n\npublic class FileDB {\n\n\n      @Id\n      @GeneratedValue(strategy = GenerationType.AUTO)\n    \n      private long id;\n\n      private String name;\n      \n      private String type;\n\n      @Lob\n      @Column(length = &quot;?&quot;)\n      private byte[] data;\n      \n      \n    \n}\n\n</code></pre>\n<p>I tried without specifying length, but its throwing Exception That I have designed.\nAs per my understandings, The appropriate size is not specified during Entity Code.</p>\n"},{"tags":["java","json","jackson","xss"],"comments":[{"owner":{"account_id":7748730,"reputation":1941,"user_id":8027026,"display_name":"Paul Benn"},"score":1,"creation_date":1528988217,"post_id":50857625,"comment_id":88723371,"body_markdown":"Another approach could be to iterate over the object entries and individually escape each key and value - that way there is also less chance of malformed data getting passed to your JS. Since you read the OWASP guide you may want to take a look at [their anti-XSS encoder](https://github.com/OWASP/owasp-java-encoder) too.","body":"Another approach could be to iterate over the object entries and individually escape each key and value - that way there is also less chance of malformed data getting passed to your JS. Since you read the OWASP guide you may want to take a look at <a href=\"https://github.com/OWASP/owasp-java-encoder\" rel=\"nofollow noreferrer\">their anti-XSS encoder</a> too."},{"owner":{"account_id":13259,"reputation":67744,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"score":0,"creation_date":1529016802,"post_id":50857625,"comment_id":88736214,"body_markdown":"thanks! that&#39;s a great suggestion. I was considering it, but was hoping that owasp or someone else had wrapped up this task exactly.","body":"thanks! that&#39;s a great suggestion. I was considering it, but was hoping that owasp or someone else had wrapped up this task exactly."}],"answers":[{"tags":[],"owner":{"account_id":7748730,"reputation":1941,"user_id":8027026,"display_name":"Paul Benn"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1580456666,"creation_date":1529051716,"answer_id":50871867,"question_id":50857625,"body_markdown":"A possible approach could be to iterate over the object entries and individually escape each key and value once the node is constructed by your chosen library.\r\n\r\nFollowing my comment above, I&#39;ve implemented a simple recursive solution using both [Jackson][1] (from your question) and [GSON][2], a different library where objects are slightly easier to construct and the code is more readable. The escaping mechanism used is the [OWASP Java Encoder][3]:\r\n\r\n##Jackson\r\n\r\n    private static JsonNode clean(JsonNode node) {\r\n        if(node.isValueNode()) { // Base case - we have a Number, Boolean or String\r\n            if(JsonNodeType.STRING == node.getNodeType()) {\r\n                // Escape all String values\r\n                return JsonNodeFactory.instance.textNode(Encode.forHtml(node.asText()));\r\n            } else {\r\n                return node;\r\n            }\r\n        } else { // Recursive case - iterate over JSON object entries\r\n            ObjectNode clean = JsonNodeFactory.instance.objectNode();\r\n            for (Iterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; it = node.fields(); it.hasNext(); ) {\r\n                Map.Entry&lt;String, JsonNode&gt; entry = it.next();\r\n                // Encode the key right away and encode the value recursively\r\n                clean.set(Encode.forHtml(entry.getKey()), clean(entry.getValue()));\r\n            }\r\n            return clean;\r\n        }\r\n    }\r\n\r\n##GSON\r\n\r\n    private static JsonElement clean(JsonElement elem) {\r\n        if (elem.isJsonPrimitive()) { // Base case - we have a Number, Boolean or String\r\n            JsonPrimitive primitive = elem.getAsJsonPrimitive();\r\n            if(primitive.isString()) {\r\n                // Escape all String values\r\n                return new JsonPrimitive(Encode.forHtml(primitive.getAsString()));\r\n            } else {\r\n                return primitive;\r\n            }\r\n        } else if (elem.isJsonArray()) { // We have an array - GSON requires handling this separately\r\n\t\t\tJsonArray cleanArray = new JsonArray();\r\n\t\t\tfor(JsonElement arrayElement: elem.getAsJsonArray()) {\r\n\t\t\t\tcleanArray.add(clean(arrayElement));\r\n\t\t\t}\r\n\t\t\treturn cleanArray;\r\n\t\t} else { // Recursive case - iterate over JSON object entries\r\n            JsonObject obj = elem.getAsJsonObject();\r\n            JsonObject clean = new JsonObject();\r\n            for(Map.Entry&lt;String, JsonElement&gt; entry :  obj.entrySet()) {\r\n                // Encode the key right away and encode the value recursively\r\n                clean.add(Encode.forHtml(entry.getKey()), clean(entry.getValue()));\r\n            }\r\n            return clean;\r\n        }\r\n    }\r\n\r\nSample input (both libraries):\r\n\r\n    {\r\n        &quot;nested&quot;: {\r\n            &quot;&lt;html&gt;&quot;: &quot;&lt;script&gt;(function(){alert(&#39;xss1&#39;)})();&lt;/script&gt;&quot;\r\n        },\r\n        &quot;xss&quot;: &quot;&lt;script&gt;(function(){alert(&#39;xss2&#39;)})();&lt;/script&gt;&quot;\r\n    }\r\n\r\nSample output (both libraries):\r\n\r\n    {\r\n        &quot;nested&quot;: {\r\n            &quot;&amp;lt;html&amp;gt;&quot;: &quot;&amp;lt;script&amp;gt;(function(){alert(&amp;#39;xss1&amp;#39;)})();&amp;lt;/script&amp;gt;&quot;\r\n        },\r\n        &quot;xss&quot;: &quot;&amp;lt;script&amp;gt;(function(){alert(&amp;#39;xss2&amp;#39;)})();&amp;lt;/script&amp;gt;&quot;\r\n    }\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson\r\n  [2]: https://github.com/google/gson\r\n  [3]: https://github.com/OWASP/owasp-java-encoder","title":"Java and XSS: How to html escape a JSON string to protect against XSS?","body":"<p>A possible approach could be to iterate over the object entries and individually escape each key and value once the node is constructed by your chosen library.</p>\n\n<p>Following my comment above, I've implemented a simple recursive solution using both <a href=\"https://github.com/FasterXML/jackson\" rel=\"noreferrer\">Jackson</a> (from your question) and <a href=\"https://github.com/google/gson\" rel=\"noreferrer\">GSON</a>, a different library where objects are slightly easier to construct and the code is more readable. The escaping mechanism used is the <a href=\"https://github.com/OWASP/owasp-java-encoder\" rel=\"noreferrer\">OWASP Java Encoder</a>:</p>\n\n<h2>Jackson</h2>\n\n<pre><code>private static JsonNode clean(JsonNode node) {\n    if(node.isValueNode()) { // Base case - we have a Number, Boolean or String\n        if(JsonNodeType.STRING == node.getNodeType()) {\n            // Escape all String values\n            return JsonNodeFactory.instance.textNode(Encode.forHtml(node.asText()));\n        } else {\n            return node;\n        }\n    } else { // Recursive case - iterate over JSON object entries\n        ObjectNode clean = JsonNodeFactory.instance.objectNode();\n        for (Iterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; it = node.fields(); it.hasNext(); ) {\n            Map.Entry&lt;String, JsonNode&gt; entry = it.next();\n            // Encode the key right away and encode the value recursively\n            clean.set(Encode.forHtml(entry.getKey()), clean(entry.getValue()));\n        }\n        return clean;\n    }\n}\n</code></pre>\n\n<h2>GSON</h2>\n\n<pre><code>private static JsonElement clean(JsonElement elem) {\n    if (elem.isJsonPrimitive()) { // Base case - we have a Number, Boolean or String\n        JsonPrimitive primitive = elem.getAsJsonPrimitive();\n        if(primitive.isString()) {\n            // Escape all String values\n            return new JsonPrimitive(Encode.forHtml(primitive.getAsString()));\n        } else {\n            return primitive;\n        }\n    } else if (elem.isJsonArray()) { // We have an array - GSON requires handling this separately\n        JsonArray cleanArray = new JsonArray();\n        for(JsonElement arrayElement: elem.getAsJsonArray()) {\n            cleanArray.add(clean(arrayElement));\n        }\n        return cleanArray;\n    } else { // Recursive case - iterate over JSON object entries\n        JsonObject obj = elem.getAsJsonObject();\n        JsonObject clean = new JsonObject();\n        for(Map.Entry&lt;String, JsonElement&gt; entry :  obj.entrySet()) {\n            // Encode the key right away and encode the value recursively\n            clean.add(Encode.forHtml(entry.getKey()), clean(entry.getValue()));\n        }\n        return clean;\n    }\n}\n</code></pre>\n\n<p>Sample input (both libraries):</p>\n\n<pre><code>{\n    \"nested\": {\n        \"&lt;html&gt;\": \"&lt;script&gt;(function(){alert('xss1')})();&lt;/script&gt;\"\n    },\n    \"xss\": \"&lt;script&gt;(function(){alert('xss2')})();&lt;/script&gt;\"\n}\n</code></pre>\n\n<p>Sample output (both libraries):</p>\n\n<pre><code>{\n    \"nested\": {\n        \"&amp;lt;html&amp;gt;\": \"&amp;lt;script&amp;gt;(function(){alert(&amp;#39;xss1&amp;#39;)})();&amp;lt;/script&amp;gt;\"\n    },\n    \"xss\": \"&amp;lt;script&amp;gt;(function(){alert(&amp;#39;xss2&amp;#39;)})();&amp;lt;/script&amp;gt;\"\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13259,"reputation":67744,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1529408174,"creation_date":1529323546,"answer_id":50909176,"question_id":50857625,"body_markdown":"I think [Paul Benn&#39;s answer](https://stackoverflow.com/a/50871867/26510) is the best approach overall, but if you don&#39;t want to iterate over the json nodes, you could consider using [Encode.forHtmlContent](https://owasp.github.io/owasp-java-encoder/encoder/apidocs/org/owasp/encoder/Encode.html#forHtmlContent-java.lang.String-), which doesn&#39;t escape quotes. I feel this is probably safe as I can&#39;t think of how introducing an additional quote into a quoted string could cause an exploit. I&#39;ll leave it to the reader to review the docs and decide for themselves!\r\n\r\n### ivy.xml\r\n\r\n    &lt;dependency org=&quot;org.owasp.encoder&quot; name=&quot;encoder&quot; rev=&quot;1.2.1&quot;/&gt;\r\n\r\nand some code to do the html encoding\r\n\r\n    private String objectToJson(Object value)\r\n    {\r\n        String result;\r\n        try\r\n        {\r\n            result = jsonWriter.writeValueAsString(value);\r\n            return Encode.forHtmlContent(result);\r\n        }\r\n        catch (JsonProcessingException e)\r\n        {\r\n            return &quot;null&quot;;\r\n        }\r\n    }\r\n\r\n","title":"Java and XSS: How to html escape a JSON string to protect against XSS?","body":"<p>I think <a href=\"https://stackoverflow.com/a/50871867/26510\">Paul Benn's answer</a> is the best approach overall, but if you don't want to iterate over the json nodes, you could consider using <a href=\"https://owasp.github.io/owasp-java-encoder/encoder/apidocs/org/owasp/encoder/Encode.html#forHtmlContent-java.lang.String-\" rel=\"nofollow noreferrer\">Encode.forHtmlContent</a>, which doesn't escape quotes. I feel this is probably safe as I can't think of how introducing an additional quote into a quoted string could cause an exploit. I'll leave it to the reader to review the docs and decide for themselves!</p>\n\n<h3>ivy.xml</h3>\n\n<pre><code>&lt;dependency org=\"org.owasp.encoder\" name=\"encoder\" rev=\"1.2.1\"/&gt;\n</code></pre>\n\n<p>and some code to do the html encoding</p>\n\n<pre><code>private String objectToJson(Object value)\n{\n    String result;\n    try\n    {\n        result = jsonWriter.writeValueAsString(value);\n        return Encode.forHtmlContent(result);\n    }\n    catch (JsonProcessingException e)\n    {\n        return \"null\";\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12461944,"reputation":125,"user_id":9073305,"display_name":"JKRo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1580400732,"creation_date":1580400732,"answer_id":59990125,"question_id":50857625,"body_markdown":"Updating [Paul Benn&#39;s](https://stackoverflow.com/users/8027026/paul-benn) answer of the Gson version to include json value being an array\r\n\r\n```\r\nprivate static JsonElement clean(JsonElement elem) {\r\n    if(elem.isJsonPrimitive()) { // Base case - we have a Number, Boolean or String\r\n        JsonPrimitive primitive = elem.getAsJsonPrimitive();\r\n        if(primitive.isString()) {\r\n            // Escape all String values\r\n            return new JsonPrimitive(Encode.forHtml(primitive.getAsString()));\r\n        } else {\r\n            return primitive;\r\n        }\r\n    }  else if( elem.isJsonArray()  ) { // If the object is an array  &quot;cars&quot;: [&quot;toyota&quot;, &quot;nissan&quot;, &quot;bmw&quot;]\r\n        JsonArray jsonA = elem.getAsJsonArray();\r\n        JsonArray cleanedNewArray = new JsonArray();\r\n        for(JsonElement jsonAE: jsonA) {\r\n            cleanedNewArray.add(clean(jsonAE));\r\n        }\r\n        return cleanedNewArray;\r\n    } else { // Recursive case - iterate over JSON object entries\r\n        JsonObject obj = elem.getAsJsonObject();\r\n        JsonObject clean = new JsonObject();\r\n        for(Map.Entry&lt;String, JsonElement&gt; entry :  obj.entrySet()) {\r\n            // Encode the key right away and encode the value recursively\r\n            clean.add(Encode.forHtml(entry.getKey()), clean(entry.getValue()));\r\n        }\r\n        return clean;\r\n    }\r\n}\r\n\r\n```","title":"Java and XSS: How to html escape a JSON string to protect against XSS?","body":"<p>Updating <a href=\"https://stackoverflow.com/users/8027026/paul-benn\">Paul Benn's</a> answer of the Gson version to include json value being an array</p>\n\n<pre><code>private static JsonElement clean(JsonElement elem) {\n    if(elem.isJsonPrimitive()) { // Base case - we have a Number, Boolean or String\n        JsonPrimitive primitive = elem.getAsJsonPrimitive();\n        if(primitive.isString()) {\n            // Escape all String values\n            return new JsonPrimitive(Encode.forHtml(primitive.getAsString()));\n        } else {\n            return primitive;\n        }\n    }  else if( elem.isJsonArray()  ) { // If the object is an array  \"cars\": [\"toyota\", \"nissan\", \"bmw\"]\n        JsonArray jsonA = elem.getAsJsonArray();\n        JsonArray cleanedNewArray = new JsonArray();\n        for(JsonElement jsonAE: jsonA) {\n            cleanedNewArray.add(clean(jsonAE));\n        }\n        return cleanedNewArray;\n    } else { // Recursive case - iterate over JSON object entries\n        JsonObject obj = elem.getAsJsonObject();\n        JsonObject clean = new JsonObject();\n        for(Map.Entry&lt;String, JsonElement&gt; entry :  obj.entrySet()) {\n            // Encode the key right away and encode the value recursively\n            clean.add(Encode.forHtml(entry.getKey()), clean(entry.getValue()));\n        }\n        return clean;\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9271043,"reputation":21,"user_id":6885003,"display_name":"Benji Villarreal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700750239,"creation_date":1604479596,"answer_id":64676721,"question_id":50857625,"body_markdown":"Adding a version of [JKRo][1] using Jackson with Esapi.\r\n\r\n    private JsonNode clean(JsonNode node, ObjectMapper mapper) {\r\n        if(node.isValueNode()) { // Base case - we have a Number, Boolean or String\r\n            if(JsonNodeType.STRING == node.getNodeType()) {\r\n                // Escape all String values\r\n                return JsonNodeFactory.instance.textNode(ESAPI.encoder().encodeForHTML(node.asText()));\r\n            } else {\r\n                return node;\r\n            }\r\n        } else if(node.isArray()) { // If the object is an array  &quot;cars&quot;: [&quot;toyota&quot;, &quot;nissan&quot;, &quot;bmw&quot;]\r\n            ArrayNode cleanedNewArray = mapper.createArrayNode();\r\n            for (final JsonNode objNode : node) {\r\n                cleanedNewArray.add(clean(objNode, mapper));\r\n            }\r\n            return cleanedNewArray;\r\n        } else { // Recursive case - iterate over JSON object entries\r\n            ObjectNode clean = JsonNodeFactory.instance.objectNode();\r\n\r\n            for (Iterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; it = node.fields(); it.hasNext(); ) {\r\n                Map.Entry&lt;String, JsonNode&gt; entry = it.next();\r\n                // Encode the key right away and encode the value recursively\r\n                clean.set(ESAPI.encoder().encodeForHTML(entry.getKey()), clean(entry.getValue(), mapper));\r\n            }\r\n            return clean;\r\n        }\r\n    }\r\n\r\nRequest Body: \r\n\r\n    {\r\n    &quot;param1&quot;: &quot;&lt;input class=&#39;btn btn-default&#39; value=&#39;0&#39; placeholder=&#39;Ingrese sus datos&#39;&gt;&lt;/input&gt;&quot;,\r\n    &quot;param3&quot;: [\r\n    {\r\n        &quot;nombre&quot; : &quot;&lt;input class=&#39;btn btn-default&#39; value=&#39;0&#39; placeholder=&#39;Ingrese sus datos&#39;&gt;&lt;/input&gt;&quot;,\r\n        &quot;apellido&quot;: &quot;&lt;script&gt;alert(&#39;Hola mundex&#39;);&lt;/script&gt;&quot;\r\n    },\r\n    {\r\n        &quot;param4&quot;: {\r\n            &quot;nombre&quot; : &quot;&lt;input class=&#39;btn btn-default&#39; value=&#39;0&#39; placeholder=&#39;Ingrese sus datos&#39;&gt;&lt;/input&gt;&quot;,\r\n            &quot;apellido&quot;: &quot;&lt;script&gt;alert(&#39;Hola mundex&#39;);&lt;/script&gt;&quot;\r\n        }\r\n    }],\r\n    &quot;param2&quot;: &quot;alert(&#39;Hola&#39;)&quot;\r\n    }\r\n\r\nResponse Body:\r\n\r\n    {\r\n    &quot;param1&quot;: &quot;&amp;lt;input class&amp;#x3d;&amp;#x27;btn btn-default&amp;#x27; value&amp;#x3d;&amp;#x27;0&amp;#x27; placeholder&amp;#x3d;&amp;#x27;Ingrese sus datos&amp;#x27;&amp;gt;&amp;lt;&amp;#x2f;input&amp;gt;&quot;,\r\n    &quot;param3&quot;: [\r\n        {\r\n            &quot;nombre&quot;: &quot;&amp;lt;input class&amp;#x3d;&amp;#x27;btn btn-default&amp;#x27; value&amp;#x3d;&amp;#x27;0&amp;#x27; placeholder&amp;#x3d;&amp;#x27;Ingrese sus datos&amp;#x27;&amp;gt;&amp;lt;&amp;#x2f;input&amp;gt;&quot;,\r\n            &quot;apellido&quot;: &quot;&amp;lt;script&amp;gt;alert&amp;#x28;&amp;#x27;Hola mundex&amp;#x27;&amp;#x29;&amp;#x3b;&amp;lt;&amp;#x2f;script&amp;gt;&quot;\r\n        },\r\n        {\r\n            &quot;param4&quot;: {\r\n                &quot;nombre&quot;: &quot;&amp;lt;input class&amp;#x3d;&amp;#x27;btn btn-default&amp;#x27; value&amp;#x3d;&amp;#x27;0&amp;#x27; placeholder&amp;#x3d;&amp;#x27;Ingrese sus datos&amp;#x27;&amp;gt;&amp;lt;&amp;#x2f;input&amp;gt;&quot;,\r\n                &quot;apellido&quot;: &quot;&amp;lt;script&amp;gt;alert&amp;#x28;&amp;#x27;Hola mundex&amp;#x27;&amp;#x29;&amp;#x3b;&amp;lt;&amp;#x2f;script&amp;gt;&quot;\r\n            }\r\n        }\r\n    ],\r\n    &quot;param2&quot;: &quot;alert&amp;#x28;&amp;#x27;Hola&amp;#x27;&amp;#x29;&quot;\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/users/9073305/jkro","title":"Java and XSS: How to html escape a JSON string to protect against XSS?","body":"<p>Adding a version of <a href=\"https://stackoverflow.com/users/9073305/jkro\">JKRo</a> using Jackson with Esapi.</p>\n<pre><code>private JsonNode clean(JsonNode node, ObjectMapper mapper) {\n    if(node.isValueNode()) { // Base case - we have a Number, Boolean or String\n        if(JsonNodeType.STRING == node.getNodeType()) {\n            // Escape all String values\n            return JsonNodeFactory.instance.textNode(ESAPI.encoder().encodeForHTML(node.asText()));\n        } else {\n            return node;\n        }\n    } else if(node.isArray()) { // If the object is an array  &quot;cars&quot;: [&quot;toyota&quot;, &quot;nissan&quot;, &quot;bmw&quot;]\n        ArrayNode cleanedNewArray = mapper.createArrayNode();\n        for (final JsonNode objNode : node) {\n            cleanedNewArray.add(clean(objNode, mapper));\n        }\n        return cleanedNewArray;\n    } else { // Recursive case - iterate over JSON object entries\n        ObjectNode clean = JsonNodeFactory.instance.objectNode();\n\n        for (Iterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; it = node.fields(); it.hasNext(); ) {\n            Map.Entry&lt;String, JsonNode&gt; entry = it.next();\n            // Encode the key right away and encode the value recursively\n            clean.set(ESAPI.encoder().encodeForHTML(entry.getKey()), clean(entry.getValue(), mapper));\n        }\n        return clean;\n    }\n}\n</code></pre>\n<p>Request Body:</p>\n<pre><code>{\n&quot;param1&quot;: &quot;&lt;input class='btn btn-default' value='0' placeholder='Ingrese sus datos'&gt;&lt;/input&gt;&quot;,\n&quot;param3&quot;: [\n{\n    &quot;nombre&quot; : &quot;&lt;input class='btn btn-default' value='0' placeholder='Ingrese sus datos'&gt;&lt;/input&gt;&quot;,\n    &quot;apellido&quot;: &quot;&lt;script&gt;alert('Hola mundex');&lt;/script&gt;&quot;\n},\n{\n    &quot;param4&quot;: {\n        &quot;nombre&quot; : &quot;&lt;input class='btn btn-default' value='0' placeholder='Ingrese sus datos'&gt;&lt;/input&gt;&quot;,\n        &quot;apellido&quot;: &quot;&lt;script&gt;alert('Hola mundex');&lt;/script&gt;&quot;\n    }\n}],\n&quot;param2&quot;: &quot;alert('Hola')&quot;\n}\n</code></pre>\n<p>Response Body:</p>\n<pre><code>{\n&quot;param1&quot;: &quot;&amp;lt;input class&amp;#x3d;&amp;#x27;btn btn-default&amp;#x27; value&amp;#x3d;&amp;#x27;0&amp;#x27; placeholder&amp;#x3d;&amp;#x27;Ingrese sus datos&amp;#x27;&amp;gt;&amp;lt;&amp;#x2f;input&amp;gt;&quot;,\n&quot;param3&quot;: [\n    {\n        &quot;nombre&quot;: &quot;&amp;lt;input class&amp;#x3d;&amp;#x27;btn btn-default&amp;#x27; value&amp;#x3d;&amp;#x27;0&amp;#x27; placeholder&amp;#x3d;&amp;#x27;Ingrese sus datos&amp;#x27;&amp;gt;&amp;lt;&amp;#x2f;input&amp;gt;&quot;,\n        &quot;apellido&quot;: &quot;&amp;lt;script&amp;gt;alert&amp;#x28;&amp;#x27;Hola mundex&amp;#x27;&amp;#x29;&amp;#x3b;&amp;lt;&amp;#x2f;script&amp;gt;&quot;\n    },\n    {\n        &quot;param4&quot;: {\n            &quot;nombre&quot;: &quot;&amp;lt;input class&amp;#x3d;&amp;#x27;btn btn-default&amp;#x27; value&amp;#x3d;&amp;#x27;0&amp;#x27; placeholder&amp;#x3d;&amp;#x27;Ingrese sus datos&amp;#x27;&amp;gt;&amp;lt;&amp;#x2f;input&amp;gt;&quot;,\n            &quot;apellido&quot;: &quot;&amp;lt;script&amp;gt;alert&amp;#x28;&amp;#x27;Hola mundex&amp;#x27;&amp;#x29;&amp;#x3b;&amp;lt;&amp;#x2f;script&amp;gt;&quot;\n        }\n    }\n],\n&quot;param2&quot;: &quot;alert&amp;#x28;&amp;#x27;Hola&amp;#x27;&amp;#x29;&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6273150,"reputation":326,"user_id":4876728,"display_name":"DBE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700750182,"creation_date":1700705074,"answer_id":77533986,"question_id":50857625,"body_markdown":"If the contents inside the variable &quot;data&quot; will be used for creating HTML markup with dangerous DOM methods (as explained in the OWASP guides) then it is okay to employ the provided answers.\r\n\r\nBut maybe you need to preserve the actual values of the json data for further processing (including its dangerous characters), then the only obvious issue in your example occurs when the json includes a closing SCRIPT tag (which breaks the browser&#39;s JavaScript parsing and may allow the inclusion of an attacker provided new script.) It will NOT be detected by Jackson!\r\n\r\nA solution using base64 encoding:\r\n\r\n```\r\nString json = jsonWriter.writeValueAsString(complexObject);\r\nString encoded = Base64.getEncoder().encodeToString(json.getBytes(&quot;UTF-8&quot;));\r\nout.write(&quot;var encodedData = &#39;&quot; + json + &quot;&#39;;&quot;);\r\nout.write(&quot;var data = JSON.parse(window.atob(encodedData));&quot;);\r\n```\r\n\r\nSee also:\r\nhttps://stackoverflow.com/questions/28288322/how-to-get-jackson-to-escape-a-script-in-output-string","title":"Java and XSS: How to html escape a JSON string to protect against XSS?","body":"<p>If the contents inside the variable &quot;data&quot; will be used for creating HTML markup with dangerous DOM methods (as explained in the OWASP guides) then it is okay to employ the provided answers.</p>\n<p>But maybe you need to preserve the actual values of the json data for further processing (including its dangerous characters), then the only obvious issue in your example occurs when the json includes a closing SCRIPT tag (which breaks the browser's JavaScript parsing and may allow the inclusion of an attacker provided new script.) It will NOT be detected by Jackson!</p>\n<p>A solution using base64 encoding:</p>\n<pre><code>String json = jsonWriter.writeValueAsString(complexObject);\nString encoded = Base64.getEncoder().encodeToString(json.getBytes(&quot;UTF-8&quot;));\nout.write(&quot;var encodedData = '&quot; + json + &quot;';&quot;);\nout.write(&quot;var data = JSON.parse(window.atob(encodedData));&quot;);\n</code></pre>\n<p>See also:\n<a href=\"https://stackoverflow.com/questions/28288322/how-to-get-jackson-to-escape-a-script-in-output-string\">How to get Jackson to escape a &lt;/script&gt; in output string?</a></p>\n"}],"owner":{"account_id":13259,"reputation":67744,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19006,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":50871867,"answer_count":5,"score":11,"last_activity_date":1700750239,"creation_date":1528979491,"question_id":50857625,"body_markdown":"In Java, we&#39;ve got some code that takes a complex java object and serializes it to json. It then writes that json directly to the markup of a page, in a script tag, assigning it to a variable.\r\n\r\n    // Get object as JSON using Jackson\r\n    ObjectWriter jsonWriter = new ObjectMapper().writer().withDefaultPrettyPrinter();\r\n    String json = jsonWriter.writeValueAsString(complexObject);\r\n    \r\n    // Write JSON out to page, and assign it to a javascript variable.\r\n    Writer out = environment.getOut();\r\n    out.write(&quot;var data = &quot; + json);\r\n\r\nThe complex object can have end user content in it, which could open us up to XSS attacks.\r\n\r\n**How can I get a json version of the complex java object that has each json attribute HTML escaped, to protect against XSS injection?**\r\n\r\nI&#39;ve read the [OWASP XSS Guide](https://www.owasp.org/index.php/XSS_(Cross_Site_Scripting)_Prevention_Cheat_Sheet) and the best I&#39;ve come up with so far is this, which HTML escapes the entire JSON string, then undoes the quotes, so it can be assigned to a variable in javascript. I&#39;m sure there are better ways to do this, but this seems to work. Any suggestions?\r\n\r\n\tprivate String objectToHtmlEscapedJson(Object value) {\r\n\t\ttry {\r\n\t\t\tString result = jsonWriter.writeValueAsString(value);\r\n\t\t\tresult = StringEscapeUtils.escapeHtml(result);\r\n\t\t\tresult = result.replace(&quot;&amp;quot;&quot;, &quot;\\&quot;&quot;);\r\n\t\t\treturn result;\r\n\t\t} catch (JsonProcessingException e) {\r\n\t\t\treturn &quot;null&quot;;\r\n\t\t}\r\n\t}\r\n\r\n\r\n","title":"Java and XSS: How to html escape a JSON string to protect against XSS?","body":"<p>In Java, we've got some code that takes a complex java object and serializes it to json. It then writes that json directly to the markup of a page, in a script tag, assigning it to a variable.</p>\n\n<pre><code>// Get object as JSON using Jackson\nObjectWriter jsonWriter = new ObjectMapper().writer().withDefaultPrettyPrinter();\nString json = jsonWriter.writeValueAsString(complexObject);\n\n// Write JSON out to page, and assign it to a javascript variable.\nWriter out = environment.getOut();\nout.write(\"var data = \" + json);\n</code></pre>\n\n<p>The complex object can have end user content in it, which could open us up to XSS attacks.</p>\n\n<p><strong>How can I get a json version of the complex java object that has each json attribute HTML escaped, to protect against XSS injection?</strong></p>\n\n<p>I've read the <a href=\"https://www.owasp.org/index.php/XSS_(Cross_Site_Scripting)_Prevention_Cheat_Sheet\" rel=\"noreferrer\">OWASP XSS Guide</a> and the best I've come up with so far is this, which HTML escapes the entire JSON string, then undoes the quotes, so it can be assigned to a variable in javascript. I'm sure there are better ways to do this, but this seems to work. Any suggestions?</p>\n\n<pre><code>private String objectToHtmlEscapedJson(Object value) {\n    try {\n        String result = jsonWriter.writeValueAsString(value);\n        result = StringEscapeUtils.escapeHtml(result);\n        result = result.replace(\"&amp;quot;\", \"\\\"\");\n        return result;\n    } catch (JsonProcessingException e) {\n        return \"null\";\n    }\n}\n</code></pre>\n"},{"tags":["java","oop","generics","instance","equals"],"comments":[{"owner":{"account_id":1273420,"reputation":4594,"user_id":1229192,"accept_rate":50,"display_name":"Michal Borek"},"score":2,"creation_date":1367743965,"post_id":16382887,"comment_id":23479957,"body_markdown":"The error you have is because anyway the generic types are erased. I think the &quot;T&quot; should take care of the check of whether passed element is of the same class","body":"The error you have is because anyway the generic types are erased. I think the &quot;T&quot; should take care of the check of whether passed element is of the same class"},{"owner":{"account_id":402964,"reputation":22541,"user_id":770452,"accept_rate":49,"display_name":"David T."},"score":0,"creation_date":1367745248,"post_id":16382887,"comment_id":23480176,"body_markdown":"@MichalBorek mmm could you please elaborate a bit? i&#39;m not fully grasping. So in another class, if i do: `new SingularNode&lt;Integer&gt;(5).equals(new SingularNode&lt;Character&gt;(&#39;k&#39;));` do you happen to know where the check is happening?","body":"@MichalBorek mmm could you please elaborate a bit? i&#39;m not fully grasping. So in another class, if i do: <code>new SingularNode&lt;Integer&gt;(5).equals(new SingularNode&lt;Character&gt;(&#39;k&#39;));</code> do you happen to know where the check is happening?"},{"owner":{"account_id":1273420,"reputation":4594,"user_id":1229192,"accept_rate":50,"display_name":"Michal Borek"},"score":0,"creation_date":1367745508,"post_id":16382887,"comment_id":23480234,"body_markdown":"I added answer to put a bunch of code.","body":"I added answer to put a bunch of code."}],"answers":[{"tags":[],"owner":{"account_id":1273420,"reputation":4594,"user_id":1229192,"accept_rate":50,"display_name":"Michal Borek"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1457621659,"creation_date":1367745486,"answer_id":16383080,"question_id":16382887,"body_markdown":"I put answer here to put code..\r\n\r\nIn your example you have (in pseudo code) `Integer(5).equals(Char(&#39;k&#39;))` which is `false`, according to following equals implementation on `java.lang.Integer`:\r\n\r\n    public boolean equals(Object obj) {\r\n        if (obj instanceof Integer) {\r\n            return value == ((Integer)obj).intValue();\r\n        }\r\n        return false;\r\n    }\r\n\r\nGoing that way you don&#39;t have to worry about casting.","title":"How to implement &quot;equals&quot; method for generics using &quot;instanceof&quot;?","body":"<p>I put answer here to put code..</p>\n\n<p>In your example you have (in pseudo code) <code>Integer(5).equals(Char('k'))</code> which is <code>false</code>, according to following equals implementation on <code>java.lang.Integer</code>:</p>\n\n<pre><code>public boolean equals(Object obj) {\n    if (obj instanceof Integer) {\n        return value == ((Integer)obj).intValue();\n    }\n    return false;\n}\n</code></pre>\n\n<p>Going that way you don't have to worry about casting.</p>\n"},{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":1,"up_vote_count":37,"is_accepted":true,"score":36,"last_activity_date":1445886763,"creation_date":1367745837,"answer_id":16383120,"question_id":16382887,"body_markdown":"This version gives no warnings\r\n\r\n    public boolean equals(Object other){\r\n        if (other instanceof SingularNode&lt;?&gt;){\r\n            if ( ((SingularNode&lt;?&gt;)other).value.equals(value) ){\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\nAs for casting to `SingularNode&lt;T&gt;` it does not help anything, you cannot assume that `T` can be anything but `Object`. \r\n\r\nLearn more about how generics are compiled in Java at\r\n\r\n&gt; https://docs.oracle.com/javase/tutorial/java/generics/erasure.html\r\n","title":"How to implement &quot;equals&quot; method for generics using &quot;instanceof&quot;?","body":"<p>This version gives no warnings</p>\n\n<pre><code>public boolean equals(Object other){\n    if (other instanceof SingularNode&lt;?&gt;){\n        if ( ((SingularNode&lt;?&gt;)other).value.equals(value) ){\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n\n<p>As for casting to <code>SingularNode&lt;T&gt;</code> it does not help anything, you cannot assume that <code>T</code> can be anything but <code>Object</code>. </p>\n\n<p>Learn more about how generics are compiled in Java at</p>\n\n<blockquote>\n  <p><a href=\"https://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/tutorial/java/generics/erasure.html</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1367770125,"creation_date":1367770125,"answer_id":16386463,"question_id":16382887,"body_markdown":"[Evgeniy&#39;s solution][1] and [Michal&#39;s reasoning][2] are correct - you don&#39;t need to worry about the type of `T` here. The reason is that the [`equals`][3] method doesn&#39;t depend on generics to work correctly. Instead, it is declared by `Object` and it takes an `Object`. Thus, it&#39;s responsible for checking the runtime type of whatever was passed in.\r\n\r\nIf `this` happens to be `SingularNode&lt;String&gt;` and you compare it with a `SingularNode&lt;Integer&gt;`, then `((SingularNode&lt;?&gt;)other).value.equals(value)` is perfectly fine because calling `Integer.equals` with a `String` argument will correctly return `false`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/16383120/697449\r\n  [2]: https://stackoverflow.com/a/16383080/697449\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals%28java.lang.Object%29","title":"How to implement &quot;equals&quot; method for generics using &quot;instanceof&quot;?","body":"<p><a href=\"https://stackoverflow.com/a/16383120/697449\">Evgeniy's solution</a> and <a href=\"https://stackoverflow.com/a/16383080/697449\">Michal's reasoning</a> are correct - you don't need to worry about the type of <code>T</code> here. The reason is that the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals%28java.lang.Object%29\" rel=\"noreferrer\"><code>equals</code></a> method doesn't depend on generics to work correctly. Instead, it is declared by <code>Object</code> and it takes an <code>Object</code>. Thus, it's responsible for checking the runtime type of whatever was passed in.</p>\n\n<p>If <code>this</code> happens to be <code>SingularNode&lt;String&gt;</code> and you compare it with a <code>SingularNode&lt;Integer&gt;</code>, then <code>((SingularNode&lt;?&gt;)other).value.equals(value)</code> is perfectly fine because calling <code>Integer.equals</code> with a <code>String</code> argument will correctly return <code>false</code>.</p>\n"},{"tags":[],"owner":{"account_id":910727,"reputation":670,"user_id":944663,"accept_rate":50,"display_name":"Atish Narlawar"},"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1382457158,"creation_date":1382457158,"answer_id":19522666,"question_id":16382887,"body_markdown":"You dont need to use any casting.\r\nBest equals to implementation I see like this\r\n\r\n \r\n\r\n    @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (!(o instanceof VehicleModel)) return false;\r\n    \r\n            VehicleModel that = (VehicleModel) o;\r\n    \r\n            if (vehicleName != null ? !vehicleName.equals(that.vehicleName) : that.vehicleName != null)\r\n                return false;\r\n    \r\n            return true;\r\n        }","title":"How to implement &quot;equals&quot; method for generics using &quot;instanceof&quot;?","body":"<p>You dont need to use any casting.\nBest equals to implementation I see like this</p>\n\n<pre><code>@Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (!(o instanceof VehicleModel)) return false;\n\n        VehicleModel that = (VehicleModel) o;\n\n        if (vehicleName != null ? !vehicleName.equals(that.vehicleName) : that.vehicleName != null)\n            return false;\n\n        return true;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4872592,"reputation":865,"user_id":3928593,"accept_rate":86,"display_name":"JiangHongTiao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1516984791,"creation_date":1516984368,"answer_id":48465565,"question_id":16382887,"body_markdown":"I have the same problem, however it is more general. I have a class where I do have 3 generic types. I do not need to store any variable of those types because this class is used for transformation. However there are stored &#39;request&#39; variables and I do use cache based on this class, so I need to implement equals() method that is based on those generics. \r\n\r\nDo you know if there is any approach how to do it without reflection? Maybe internal variable of that type.. However it&#39;s null then. \r\n\r\n\r\n    public class TheClass&lt;I, O, M&gt; {\r\n\r\n        private ClassA param1;\r\n        private ClassB param2;\r\n        private ClassC&lt;M&gt; param3;\r\n        private BiFunction&lt;ClassC&lt;M&gt;, I, Optional&lt;O&gt;&gt; mapping;\r\n        \r\n        public ClassD&lt;O, M&gt; doSomething(ClassD&lt;I, M&gt; param) {\r\n            ...\r\n        }\r\n\r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) {\r\n                return true;\r\n            }\r\n            if (o == null) {\r\n                return false;\r\n            }\r\n            if (getClass() != o.getClass()) {\r\n                return false;\r\n            }\r\n            TheClass&lt;?, ?, ?&gt; that = (TheClass&lt;?, ?, ?&gt;) o;\r\n\r\n            return Objects.equals(getParam1(), that.getParam1()) &amp;&amp;\r\n                    Objects.equals(getParam2(), that.getParam2()) &amp;&amp;\r\n                    Objects.equals(getParam3(), that.getParam3());\r\n        }\r\n    }\r\n\r\nFor a better imagination... I have set of DAO objects getting data from database. On the other hand, we do have another set of API providers that provide similar data in different format (REST, internal systems..)\r\nWe need a mapping function from one type to another. We use caching for better performance and the only man-in-the-middle is this class.","title":"How to implement &quot;equals&quot; method for generics using &quot;instanceof&quot;?","body":"<p>I have the same problem, however it is more general. I have a class where I do have 3 generic types. I do not need to store any variable of those types because this class is used for transformation. However there are stored 'request' variables and I do use cache based on this class, so I need to implement equals() method that is based on those generics. </p>\n\n<p>Do you know if there is any approach how to do it without reflection? Maybe internal variable of that type.. However it's null then. </p>\n\n<pre><code>public class TheClass&lt;I, O, M&gt; {\n\n    private ClassA param1;\n    private ClassB param2;\n    private ClassC&lt;M&gt; param3;\n    private BiFunction&lt;ClassC&lt;M&gt;, I, Optional&lt;O&gt;&gt; mapping;\n\n    public ClassD&lt;O, M&gt; doSomething(ClassD&lt;I, M&gt; param) {\n        ...\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) {\n            return true;\n        }\n        if (o == null) {\n            return false;\n        }\n        if (getClass() != o.getClass()) {\n            return false;\n        }\n        TheClass&lt;?, ?, ?&gt; that = (TheClass&lt;?, ?, ?&gt;) o;\n\n        return Objects.equals(getParam1(), that.getParam1()) &amp;&amp;\n                Objects.equals(getParam2(), that.getParam2()) &amp;&amp;\n                Objects.equals(getParam3(), that.getParam3());\n    }\n}\n</code></pre>\n\n<p>For a better imagination... I have set of DAO objects getting data from database. On the other hand, we do have another set of API providers that provide similar data in different format (REST, internal systems..)\nWe need a mapping function from one type to another. We use caching for better performance and the only man-in-the-middle is this class.</p>\n"},{"tags":[],"owner":{"account_id":2584833,"reputation":2656,"user_id":2240780,"accept_rate":78,"display_name":"Julien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700750213,"creation_date":1700750213,"answer_id":77537702,"question_id":16382887,"body_markdown":"This is how HashMap handles it : \r\n\r\n```\r\n        public final boolean equals(Object o) {\r\n            if (o == this)\r\n                return true;\r\n\r\n            return o instanceof Map.Entry&lt;?, ?&gt; e\r\n                    &amp;&amp; Objects.equals(key, e.getKey())\r\n                    &amp;&amp; Objects.equals(value, e.getValue());\r\n        }\r\n```\r\n","title":"How to implement &quot;equals&quot; method for generics using &quot;instanceof&quot;?","body":"<p>This is how HashMap handles it :</p>\n<pre><code>        public final boolean equals(Object o) {\n            if (o == this)\n                return true;\n\n            return o instanceof Map.Entry&lt;?, ?&gt; e\n                    &amp;&amp; Objects.equals(key, e.getKey())\n                    &amp;&amp; Objects.equals(value, e.getValue());\n        }\n</code></pre>\n"}],"owner":{"account_id":402964,"reputation":22541,"user_id":770452,"accept_rate":49,"display_name":"David T."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40874,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":16383120,"answer_count":6,"score":30,"last_activity_date":1700750213,"creation_date":1367743757,"question_id":16382887,"body_markdown":"I have a class that accepts a _generic type_, and I want to override the `equals` method in a non-awkward way (i.e. something that looks clean and has minimal amount of code, but for a very general use case).\r\n\r\nRight now I have something like this:\r\n\r\n    public class SingularNode&lt;T&gt; {\r\n        private T value;\r\n\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        @Override\r\n        public boolean equals(Object other){\r\n            if(other instanceof SingularNode&lt;?&gt;){\r\n                if(((SingularNode&lt;T&gt;)other).value.equals(value)){\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n    }\r\n\r\nWhich, I&#39;m guessing, is pretty flawed - I&#39;m doing a cast to `SingularNode&lt;T&gt;` on the `other` object, which could potentially _throw an error_. \r\n\r\nAnother thing is - when I do `if(other instanceof SingularNode&lt;?&gt;)` I&#39;m actually not checking exactly the right thing. I actually want to check against type `T` and not type `?`. Whenever I try to make the `?` into `T`, I get some error like:\r\n\r\n&gt; **Cannot perform instanceof check against parameterized type `SingularNode&lt;T&gt;`. Use the form `SingularNode&lt;?&gt;` instead, since further generic type information will be erased at runtime**\r\n\r\nHow can I get around this? Is there some way to do `T.class.isInstance(other);` ?\r\n\r\nI suppose there&#39;s one really ugly hack solution like this:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public boolean isEqualTo(Class&lt;?&gt; c, Object obj){\r\n        if(c.isInstance(obj) &amp;&amp; c.isInstance(this)){\r\n            if(((SingularNode&lt;T&gt;)obj).value.equals(value)){\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\nBut that just looks really awkward with the extra method parameter, and it&#39;s also not a built-in function like `equals` is.\r\n\r\nAny one who understand generics please explain this? I&#39;m not that proficient with Java, as you can clearly see, so please explain with a tad bit more detail!","title":"How to implement &quot;equals&quot; method for generics using &quot;instanceof&quot;?","body":"<p>I have a class that accepts a <em>generic type</em>, and I want to override the <code>equals</code> method in a non-awkward way (i.e. something that looks clean and has minimal amount of code, but for a very general use case).</p>\n\n<p>Right now I have something like this:</p>\n\n<pre><code>public class SingularNode&lt;T&gt; {\n    private T value;\n\n    @SuppressWarnings(\"unchecked\")\n    @Override\n    public boolean equals(Object other){\n        if(other instanceof SingularNode&lt;?&gt;){\n            if(((SingularNode&lt;T&gt;)other).value.equals(value)){\n                return true;\n            }\n        }\n        return false;\n    }\n}\n</code></pre>\n\n<p>Which, I'm guessing, is pretty flawed - I'm doing a cast to <code>SingularNode&lt;T&gt;</code> on the <code>other</code> object, which could potentially <em>throw an error</em>. </p>\n\n<p>Another thing is - when I do <code>if(other instanceof SingularNode&lt;?&gt;)</code> I'm actually not checking exactly the right thing. I actually want to check against type <code>T</code> and not type <code>?</code>. Whenever I try to make the <code>?</code> into <code>T</code>, I get some error like:</p>\n\n<blockquote>\n  <p><strong>Cannot perform instanceof check against parameterized type <code>SingularNode&lt;T&gt;</code>. Use the form <code>SingularNode&lt;?&gt;</code> instead, since further generic type information will be erased at runtime</strong></p>\n</blockquote>\n\n<p>How can I get around this? Is there some way to do <code>T.class.isInstance(other);</code> ?</p>\n\n<p>I suppose there's one really ugly hack solution like this:</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\npublic boolean isEqualTo(Class&lt;?&gt; c, Object obj){\n    if(c.isInstance(obj) &amp;&amp; c.isInstance(this)){\n        if(((SingularNode&lt;T&gt;)obj).value.equals(value)){\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n\n<p>But that just looks really awkward with the extra method parameter, and it's also not a built-in function like <code>equals</code> is.</p>\n\n<p>Any one who understand generics please explain this? I'm not that proficient with Java, as you can clearly see, so please explain with a tad bit more detail!</p>\n"},{"tags":["java","compression","javax.imageio","jai","image-compression"],"answers":[{"tags":[],"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1700750055,"creation_date":1404463296,"answer_id":24570100,"question_id":24538455,"body_markdown":"**Update**: The default `com.sun.imageio.plugins.png.PNGImageWriter` that is bundled with the JDK now supports setting and specifying the compression level, since Java 9. \r\n\r\nThere is also a [back port](https://github.com/gredler/jdk9-png-writer-backport) available, if you are still on Java 8 or older. \r\n\r\n*The rest of this answer assumes you are using an older version of Java, without the backport (don&#39;t do that! &#128521; ) .*\r\n\r\n----\r\n\r\nIt seems the default `com.sun.imageio.plugins.png.PNGImageWriter` that is bundled with the JRE does not support *setting* compression. This is kind of surprising, as the format obviously supports compression. However, the `PNGImageWriter` *always* writes compressed. \r\n\r\nYou can see from the source code that it uses:\r\n\r\n    Deflater def = new Deflater(Deflater.BEST_COMPRESSION);\r\n\r\nWhich will give you good, but slow compression. It might be good enough for you, but for some cases it might be better to use faster compression and larger files.\r\n\r\nTo fix your code, so that it would work with any format name, change the lines:\r\n \r\n    ImageWriteParam param = writer.getDefaultWriteParam();\r\n    param.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\r\n    param.setCompressionQuality(0.5f);\r\n\r\nto:\r\n\r\n    ImageWriteParam param = writer.getDefaultWriteParam();\r\n\r\n    if (param.canWriteCompressed()) { \r\n        // NOTE: Any method named [set|get]Compression.* throws UnsupportedOperationException if false\r\n        param.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\r\n        param.setCompressionQuality(0.5f);\r\n    }\r\n\r\nIt will still write compressed PNGs.\r\n\r\nIf you need more control over the PNG compression, like setting compression or filter used, you need to find an `ImageWriter` that supports it. As you mention JAI, I think the `CLibPNGImageWriter` that is part of `jai-imageio.jar` or `jai-imageio-tools.jar` supports setting compression. You just need to look through the `ImageWriter`s iterator, to see if you have it installed:\r\n\r\n    Iterator&lt;ImageWriter&gt;writers = ImageIO.getImageWritersByFormatName(&quot;png&quot;);\r\n    ImageWriter writer = null;\r\n        \r\n    while (writers.hasNext()) {\r\n        ImageWriter candidate = writers.next();\r\n            \r\n        if (candidate.getClass().getSimpleName().equals(&quot;CLibPNGImageWriter&quot;)) {\r\n            writer = candidate; // This is the one we want\r\n            break;\r\n        }\r\n        else if (writer == null) {\r\n            writer = candidate; // Any writer is better than no writer ;-)\r\n        }\r\n    }\r\n\r\nWith the correct `ImageWriter`, your code should work as expected.","title":"Compression of PNG using JAI (Java Advanced Imaging)","body":"<p><strong>Update</strong>: The default <code>com.sun.imageio.plugins.png.PNGImageWriter</code> that is bundled with the JDK now supports setting and specifying the compression level, since Java 9.</p>\n<p>There is also a <a href=\"https://github.com/gredler/jdk9-png-writer-backport\" rel=\"nofollow noreferrer\">back port</a> available, if you are still on Java 8 or older.</p>\n<p><em>The rest of this answer assumes you are using an older version of Java, without the backport (don't do that!  ) .</em></p>\n<hr />\n<p>It seems the default <code>com.sun.imageio.plugins.png.PNGImageWriter</code> that is bundled with the JRE does not support <em>setting</em> compression. This is kind of surprising, as the format obviously supports compression. However, the <code>PNGImageWriter</code> <em>always</em> writes compressed.</p>\n<p>You can see from the source code that it uses:</p>\n<pre><code>Deflater def = new Deflater(Deflater.BEST_COMPRESSION);\n</code></pre>\n<p>Which will give you good, but slow compression. It might be good enough for you, but for some cases it might be better to use faster compression and larger files.</p>\n<p>To fix your code, so that it would work with any format name, change the lines:</p>\n<pre><code>ImageWriteParam param = writer.getDefaultWriteParam();\nparam.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\nparam.setCompressionQuality(0.5f);\n</code></pre>\n<p>to:</p>\n<pre><code>ImageWriteParam param = writer.getDefaultWriteParam();\n\nif (param.canWriteCompressed()) { \n    // NOTE: Any method named [set|get]Compression.* throws UnsupportedOperationException if false\n    param.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\n    param.setCompressionQuality(0.5f);\n}\n</code></pre>\n<p>It will still write compressed PNGs.</p>\n<p>If you need more control over the PNG compression, like setting compression or filter used, you need to find an <code>ImageWriter</code> that supports it. As you mention JAI, I think the <code>CLibPNGImageWriter</code> that is part of <code>jai-imageio.jar</code> or <code>jai-imageio-tools.jar</code> supports setting compression. You just need to look through the <code>ImageWriter</code>s iterator, to see if you have it installed:</p>\n<pre><code>Iterator&lt;ImageWriter&gt;writers = ImageIO.getImageWritersByFormatName(&quot;png&quot;);\nImageWriter writer = null;\n    \nwhile (writers.hasNext()) {\n    ImageWriter candidate = writers.next();\n        \n    if (candidate.getClass().getSimpleName().equals(&quot;CLibPNGImageWriter&quot;)) {\n        writer = candidate; // This is the one we want\n        break;\n    }\n    else if (writer == null) {\n        writer = candidate; // Any writer is better than no writer ;-)\n    }\n}\n</code></pre>\n<p>With the correct <code>ImageWriter</code>, your code should work as expected.</p>\n"},{"tags":[],"owner":{"account_id":4794607,"reputation":23,"user_id":3872885,"accept_rate":50,"display_name":"byreddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406971578,"creation_date":1406971578,"answer_id":25093572,"question_id":24538455,"body_markdown":"Please check that this code may work for you.\r\n   \r\n    ImageWriteParam writeParam = writer.getDefaultWriteParam();\r\n    \r\n    writeParam.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\r\n    \t\t\r\n    writeParam.setCompressionType(&quot;PackBits&quot;);\r\n    \t\r\n    writeParam.setCompressionQuality(0.5f);\r\n\r\nThanks.","title":"Compression of PNG using JAI (Java Advanced Imaging)","body":"<p>Please check that this code may work for you.</p>\n\n<pre><code>ImageWriteParam writeParam = writer.getDefaultWriteParam();\n\nwriteParam.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\n\nwriteParam.setCompressionType(\"PackBits\");\n\nwriteParam.setCompressionQuality(0.5f);\n</code></pre>\n\n<p>Thanks.</p>\n"}],"owner":{"account_id":30976,"reputation":8154,"user_id":84761,"accept_rate":80,"display_name":"Gnaniyar Zubair"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10586,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1700750055,"creation_date":1404325719,"question_id":24538455,"body_markdown":"I am using javax.imageio API and JAI for compressing different types of images. It works fine for JPEG using `JPEGImageWriter` and GIF using `GIFImageWriter`. But it is not supporting for PNG compression using `PNGImageWriter` which throws an exception like compression type is not set or &quot;No valid compression&quot;, etc. So I used this below `ImageWriter` for PNG. It works but image quality is too bad. \r\n\r\nCan anyone suggest how to use `PNGImageWriter` for PNG compression and which JAR contains it?\r\n\r\n    File input = new File(&quot;test.png&quot;);\r\n\r\n    InputStream is = new FileInputStream(input);\r\n    BufferedImage image = ImageIO.read(is);\r\n\t     \r\n    File compressedImageFile = new File(input.getName());\r\n\t    \r\n    OutputStream os =new FileOutputStream(compressedImageFile);\r\n\t      \r\n    Iterator&lt;ImageWriter&gt;writers = \r\n            ImageIO.getImageWritersByFormatName(&quot;jpg&quot;); // here &quot;png&quot; does not work\r\n    ImageWriter writer = (ImageWriter) writers.next();\r\n\t      \r\n    ImageOutputStream ios = ImageIO.createImageOutputStream(os);\r\n    writer.setOutput(ios);\r\n\r\n    ImageWriteParam param = writer.getDefaultWriteParam();\r\n    param.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\r\n    param.setCompressionQuality(0.5f);\r\n\t    \r\n    writer.write(null, new IIOImage(image, null, null), param);","title":"Compression of PNG using JAI (Java Advanced Imaging)","body":"<p>I am using javax.imageio API and JAI for compressing different types of images. It works fine for JPEG using <code>JPEGImageWriter</code> and GIF using <code>GIFImageWriter</code>. But it is not supporting for PNG compression using <code>PNGImageWriter</code> which throws an exception like compression type is not set or \"No valid compression\", etc. So I used this below <code>ImageWriter</code> for PNG. It works but image quality is too bad. </p>\n\n<p>Can anyone suggest how to use <code>PNGImageWriter</code> for PNG compression and which JAR contains it?</p>\n\n<pre><code>File input = new File(\"test.png\");\n\nInputStream is = new FileInputStream(input);\nBufferedImage image = ImageIO.read(is);\n\nFile compressedImageFile = new File(input.getName());\n\nOutputStream os =new FileOutputStream(compressedImageFile);\n\nIterator&lt;ImageWriter&gt;writers = \n        ImageIO.getImageWritersByFormatName(\"jpg\"); // here \"png\" does not work\nImageWriter writer = (ImageWriter) writers.next();\n\nImageOutputStream ios = ImageIO.createImageOutputStream(os);\nwriter.setOutput(ios);\n\nImageWriteParam param = writer.getDefaultWriteParam();\nparam.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\nparam.setCompressionQuality(0.5f);\n\nwriter.write(null, new IIOImage(image, null, null), param);\n</code></pre>\n"},{"tags":["java","vert.x","vertx-verticle"],"answers":[{"tags":[],"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695894764,"creation_date":1695894764,"answer_id":77193930,"question_id":77188452,"body_markdown":"`SchemaParser` is deprecated in favor of [`SchemaRepository`][1].\r\n\r\nFirst, create the repository:\r\n\r\n    SchemaRepository sr = SchemaRepository.create(new JsonSchemaOptions().setDraft(Draft.DRAFT7));\r\n\r\nThen use it in the `ValidationHandlerBuilder`:\r\n    \r\n    router.post(&quot;/demo&quot;)\r\n      .handler(BodyHandler.create())\r\n      .handler(ValidationHandlerBuilder.create(sr)\r\n        .body(Bodies.json(objectSchemaBuilder))\r\n        .body(Bodies.formUrlEncoded(objectSchemaBuilder))\r\n        .build())\r\n      .handler(this::greet);\r\n\r\n\r\n  [1]: https://vertx.io/docs/vertx-json-schema/java/#_schemarepository","title":"Vertx 4.4.4 SchemaParser deprecation","body":"<p><code>SchemaParser</code> is deprecated in favor of <a href=\"https://vertx.io/docs/vertx-json-schema/java/#_schemarepository\" rel=\"nofollow noreferrer\"><code>SchemaRepository</code></a>.</p>\n<p>First, create the repository:</p>\n<pre><code>SchemaRepository sr = SchemaRepository.create(new JsonSchemaOptions().setDraft(Draft.DRAFT7));\n</code></pre>\n<p>Then use it in the <code>ValidationHandlerBuilder</code>:</p>\n<pre><code>router.post(&quot;/demo&quot;)\n  .handler(BodyHandler.create())\n  .handler(ValidationHandlerBuilder.create(sr)\n    .body(Bodies.json(objectSchemaBuilder))\n    .body(Bodies.formUrlEncoded(objectSchemaBuilder))\n    .build())\n  .handler(this::greet);\n</code></pre>\n"}],"owner":{"account_id":7760897,"reputation":1420,"user_id":5873698,"accept_rate":48,"display_name":"Amar Dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700749811,"creation_date":1695825081,"question_id":77188452,"body_markdown":"I am using vertx 4.4.4 and tried to use the following code snippet\r\n\r\n    SchemaParser parser = SchemaParser.createDraft7SchemaParser(\r\n          SchemaRouter.create(vertx, new SchemaRouterOptions()));\r\n\r\nI get a deprecation warning for `SchemaParser, SchemaRouter, SchemaRouterOptions`\r\n\r\nI tried to read through the docs to find what is the suggested approach but could not find it.\r\n\r\nI later use the ```parser``` in the following code\r\n\r\n```\r\nrouter.post(&quot;/demo&quot;)\r\n      .handler(new BodyHandlerImpl())\r\n      .handler(ValidationHandlerBuilder.create(parser)\r\n        .body(Bodies.json(objectSchemaBuilder))\r\n          .body(Bodies.formUrlEncoded(objectSchemaBuilder))\r\n        .build())\r\n      .handler(this::greet);\r\n```\r\n","title":"Vertx 4.4.4 SchemaParser deprecation","body":"<p>I am using vertx 4.4.4 and tried to use the following code snippet</p>\n<pre><code>SchemaParser parser = SchemaParser.createDraft7SchemaParser(\n      SchemaRouter.create(vertx, new SchemaRouterOptions()));\n</code></pre>\n<p>I get a deprecation warning for <code>SchemaParser, SchemaRouter, SchemaRouterOptions</code></p>\n<p>I tried to read through the docs to find what is the suggested approach but could not find it.</p>\n<p>I later use the <code>parser</code> in the following code</p>\n<pre><code>router.post(&quot;/demo&quot;)\n      .handler(new BodyHandlerImpl())\n      .handler(ValidationHandlerBuilder.create(parser)\n        .body(Bodies.json(objectSchemaBuilder))\n          .body(Bodies.formUrlEncoded(objectSchemaBuilder))\n        .build())\n      .handler(this::greet);\n</code></pre>\n"},{"tags":["java","hibernate","jpa","inheritance","criteriaquery"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1700752849,"post_id":77537629,"comment_id":136695267,"body_markdown":"Vehicle doesn&#39;t have a &quot;passengerData&quot; reference to CarriageEntity, which is what your join looks setup to handle. What you want is to &quot;treat&quot; the Vehicle root as a CarriageEntity to allow you to then join to the PassengerDataEntity passengerData &quot;cb.treat(vehicle, CarriageEntity.class).join(&quot;passengerData&quot;)&quot;. But since you are performing a join, why not just query on the CarriageEntity directly instead of VehicleEntity?","body":"Vehicle doesn&#39;t have a &quot;passengerData&quot; reference to CarriageEntity, which is what your join looks setup to handle. What you want is to &quot;treat&quot; the Vehicle root as a CarriageEntity to allow you to then join to the PassengerDataEntity passengerData &quot;cb.treat(vehicle, CarriageEntity.class).join(&quot;passengerData&quot;)&quot;. But since you are performing a join, why not just query on the CarriageEntity directly instead of VehicleEntity?"},{"owner":{"account_id":13886390,"reputation":43,"user_id":10025420,"display_name":"Marc Serret i Garcia"},"score":0,"creation_date":1700814432,"post_id":77537629,"comment_id":136701623,"body_markdown":"Thank you for your assistance, Chris. The provided example is a minified version. I have four classes that inherit from VehicleEntity, and I need to retrieve instances of all these classes using the same method simultaneously. That&#39;s why I&#39;m using the parent class (VehicleEntity) as the root. Up until now, I&#39;ve been filtering based on the fields common to all classes (the fields in VehicleEntity). However, I now need to filter based on attributes specific to the inherited classes. I&#39;m going to try the suggested solution. Thank you!","body":"Thank you for your assistance, Chris. The provided example is a minified version. I have four classes that inherit from VehicleEntity, and I need to retrieve instances of all these classes using the same method simultaneously. That&#39;s why I&#39;m using the parent class (VehicleEntity) as the root. Up until now, I&#39;ve been filtering based on the fields common to all classes (the fields in VehicleEntity). However, I now need to filter based on attributes specific to the inherited classes. I&#39;m going to try the suggested solution. Thank you!"},{"owner":{"account_id":13886390,"reputation":43,"user_id":10025420,"display_name":"Marc Serret i Garcia"},"score":0,"creation_date":1701076757,"post_id":77537629,"comment_id":136725658,"body_markdown":"Hi Chris,\n\nGenerally, your solution works fine. However, when I attempt to retrieve data using a field of an inherited class, the results of all queries are limited to only the inherited class. For example, if I filter by getting all the Wagons and then use an OR condition to retrieve the Carriages whose passenger data is X, it only retrieves CarriageEntities from the database, excluding other inherited classes from VehicleEntity. The filters without treats over the inherited classes are working fine. Do you have any ideas on how to overcome this?\n\nThank you!","body":"Hi Chris,  Generally, your solution works fine. However, when I attempt to retrieve data using a field of an inherited class, the results of all queries are limited to only the inherited class. For example, if I filter by getting all the Wagons and then use an OR condition to retrieve the Carriages whose passenger data is X, it only retrieves CarriageEntities from the database, excluding other inherited classes from VehicleEntity. The filters without treats over the inherited classes are working fine. Do you have any ideas on how to overcome this?  Thank you!"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1701096698,"post_id":77537629,"comment_id":136729248,"body_markdown":"Show what you tried, as the spec states it should work. It gives an example (section  4.4.9) &quot;WHERE TREAT(p AS LargeProject).budget &gt; 1000\n      OR TREAT(p AS SmallProject).name LIKE &#39;Persist%&#39;&quot;","body":"Show what you tried, as the spec states it should work. It gives an example (section  4.4.9) &quot;WHERE TREAT(p AS LargeProject).budget &gt; 1000       OR TREAT(p AS SmallProject).name LIKE &#39;Persist%&#39;&quot;"}],"owner":{"account_id":13886390,"reputation":43,"user_id":10025420,"display_name":"Marc Serret i Garcia"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700749356,"creation_date":1700749356,"question_id":77537629,"body_markdown":"I am facing an issue while trying to perform a join involving entities in a Hibernate Single Table Inheritance scenario. I have two entities: VehicleEntity (base class) and CarriageEntity (subclass with discriminator value &quot;CARRIAGE&quot;).\r\n\r\n```java\r\n// VehicleEntity\r\n@Entity\r\n@Table(name = &quot;vehicle&quot;)\r\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\r\n@DiscriminatorColumn(name = &quot;vehicle_type_id&quot;, discriminatorType = DiscriminatorType.STRING)\r\npublic class VehicleEntity {\r\n    // ... (fields and annotations)\r\n}\r\n\r\n// CarriageEntity\r\n@Entity\r\n@Data\r\n@DiscriminatorValue(&quot;CARRIAGE&quot;)\r\n@EqualsAndHashCode(callSuper = true)\r\npublic class CarriageEntity extends VehicleEntity {\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    private PassengerDataEntity passengerData;\r\n}\r\n```\r\nI am attempting to join VehicleEntity with CarriageEntity using the passengerData field, which exists only in CarriageEntity. However, my current approach is resulting in the error:\r\n```\r\nUnable to locate Attribute with the given name [passengerData] on this ManagedType [es.adif.sit.reg.rollingstock.access.model.VehicleEntity]\r\n```\r\nHere&#39;s a simplified version of the code where the error is occurring:\r\n```java\r\nCriteriaQuery&lt;Tuple&gt; cQ = cb.createTupleQuery();\r\nRoot&lt;VehicleEntity&gt; vehicle = cQ.from(VehicleEntity.class);\r\nJoin&lt;VehicleEntity, CarriageEntity&gt; carriage = vehicle.join(&quot;passengerData&quot;);\r\n```\r\nI&#39;ve tried various approaches, including using treat and JoinType.LEFT, but I haven&#39;t been successful. How can I properly join VehicleEntity and CarriageEntity when the join involves a field that exists only in the subclass?\r\n\r\nAny insights or examples on how to perform this type of join correctly would be greatly appreciated. Thank you!","title":"CriteriaQuery Joining entities in Hibernate single table inheritance","body":"<p>I am facing an issue while trying to perform a join involving entities in a Hibernate Single Table Inheritance scenario. I have two entities: VehicleEntity (base class) and CarriageEntity (subclass with discriminator value &quot;CARRIAGE&quot;).</p>\n<pre class=\"lang-java prettyprint-override\"><code>// VehicleEntity\n@Entity\n@Table(name = &quot;vehicle&quot;)\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\n@DiscriminatorColumn(name = &quot;vehicle_type_id&quot;, discriminatorType = DiscriminatorType.STRING)\npublic class VehicleEntity {\n    // ... (fields and annotations)\n}\n\n// CarriageEntity\n@Entity\n@Data\n@DiscriminatorValue(&quot;CARRIAGE&quot;)\n@EqualsAndHashCode(callSuper = true)\npublic class CarriageEntity extends VehicleEntity {\n    @OneToOne(cascade = CascadeType.ALL)\n    private PassengerDataEntity passengerData;\n}\n</code></pre>\n<p>I am attempting to join VehicleEntity with CarriageEntity using the passengerData field, which exists only in CarriageEntity. However, my current approach is resulting in the error:</p>\n<pre><code>Unable to locate Attribute with the given name [passengerData] on this ManagedType [es.adif.sit.reg.rollingstock.access.model.VehicleEntity]\n</code></pre>\n<p>Here's a simplified version of the code where the error is occurring:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CriteriaQuery&lt;Tuple&gt; cQ = cb.createTupleQuery();\nRoot&lt;VehicleEntity&gt; vehicle = cQ.from(VehicleEntity.class);\nJoin&lt;VehicleEntity, CarriageEntity&gt; carriage = vehicle.join(&quot;passengerData&quot;);\n</code></pre>\n<p>I've tried various approaches, including using treat and JoinType.LEFT, but I haven't been successful. How can I properly join VehicleEntity and CarriageEntity when the join involves a field that exists only in the subclass?</p>\n<p>Any insights or examples on how to perform this type of join correctly would be greatly appreciated. Thank you!</p>\n"},{"tags":["java","maven","open-liberty","hot-reload","hotswap"],"answers":[{"tags":[],"owner":{"account_id":1623729,"reputation":5190,"user_id":1499766,"accept_rate":86,"display_name":"Scott Kurz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700419037,"creation_date":1700328098,"answer_id":77507965,"question_id":77505568,"body_markdown":"# You can&#39;t update an application class without app restart but you can use debugger HCR\r\n\r\nThe reason you can&#39;t update an application &quot;on disk&quot; without an app restart isn&#39;t because of the Liberty Maven/Gradle plugins, but because of the Liberty runtime itself.  The application classloader doesn&#39;t allow for a new version of a single class to be swapped into a started application.\r\n\r\n(Though you can update static content like .html files without an app update).\r\n\r\n## Use Debugger Hot Code Replace (HCR) to avoid app restart \r\n\r\nIn many cases, you can leverage the debugger HCR to replace a class implementation at a &quot;lower level&quot;.  \r\n\r\nThere are limitations and only a subset of all possible changes can be successfully replaced this way, e.g. as mentioned [here](https://wiki.eclipse.org/FAQ_What_is_hot_code_replace%3F) you can generally do things like replace a method body and generally not do things like change method signatures.\r\n\r\n## Use IDE tools\r\n\r\nThough you can certainly use a Java debugger without Liberty-specific IDE tooling, for completeness, let me point you to our &quot;Liberty Tools&quot; IDE tools for the three popular editors:\r\n\r\n* [Liberty Tools for VS Code](https://marketplace.visualstudio.com/items?itemName=Open-Liberty.liberty-dev-vscode-ext)\r\n* [Liberty Tools for Intellij IDEA](https://plugins.jetbrains.com/plugin/14856-liberty-tools)\r\n* [Liberty Tools for Eclipse](https://marketplace.eclipse.org/content/liberty-tools)\r\n\r\nThere is also an older Eclipse feature, [&quot;Liberty Developer Tools&quot;](https://marketplace.eclipse.org/content/ibm-liberty-developer-tools).  For newer Maven/Gradle apps we generally recommend the newer &quot;Liberty Tools for Eclipse&quot; feature mentioned above, with support for Jakarta EE 9/10 and MicroProfile development.  That said, the app update support is a bit nicer in Liberty Developer Tools at this point in time, (as noted briefly below).\r\n\r\n## Disable application monitor updates \r\n\r\nIf you&#39;re using some sort of rapid iterative development environment, like Liberty [&quot;dev mode&quot;](https://openliberty.io/docs/latest/development-mode.html) then with the default Liberty config, the app will update upon every class update.  Application update can, depending on the app, take a significant amount of time, which is likely exactly what led you to asking this question in the first place.\r\n\r\nYou can disable this behavior by configuring an `&lt;applicationMonitor&gt;` element in your **server.xml**:\r\n\r\n```xml\r\n &lt;applicationMonitor updateTrigger=&quot;mbean&quot; ... /&gt; \r\n```\r\n\r\nAlternately, you could use &quot;disabled&quot; in place of &quot;mbean&quot; as the attribute value.\r\n\r\n### Explanation\r\n\r\nAt the moment, in **Liberty Tools** there is no special assistance for app update, so there&#39;s no difference between &quot;mbean&quot; and &quot;disabled&quot;.  In the older, &quot;Liberty Developer Tools&quot; we have some &quot;smarter&quot; function in this area and so &quot;mbean&quot; would be a better choice.\r\n\r\n\r\n\r\n\r\n","title":"Can maven open-liberty plugin hot-reload single class file without stopping and restarting the whole application?","body":"<h1>You can't update an application class without app restart but you can use debugger HCR</h1>\n<p>The reason you can't update an application &quot;on disk&quot; without an app restart isn't because of the Liberty Maven/Gradle plugins, but because of the Liberty runtime itself.  The application classloader doesn't allow for a new version of a single class to be swapped into a started application.</p>\n<p>(Though you can update static content like .html files without an app update).</p>\n<h2>Use Debugger Hot Code Replace (HCR) to avoid app restart</h2>\n<p>In many cases, you can leverage the debugger HCR to replace a class implementation at a &quot;lower level&quot;.</p>\n<p>There are limitations and only a subset of all possible changes can be successfully replaced this way, e.g. as mentioned <a href=\"https://wiki.eclipse.org/FAQ_What_is_hot_code_replace%3F\" rel=\"nofollow noreferrer\">here</a> you can generally do things like replace a method body and generally not do things like change method signatures.</p>\n<h2>Use IDE tools</h2>\n<p>Though you can certainly use a Java debugger without Liberty-specific IDE tooling, for completeness, let me point you to our &quot;Liberty Tools&quot; IDE tools for the three popular editors:</p>\n<ul>\n<li><a href=\"https://marketplace.visualstudio.com/items?itemName=Open-Liberty.liberty-dev-vscode-ext\" rel=\"nofollow noreferrer\">Liberty Tools for VS Code</a></li>\n<li><a href=\"https://plugins.jetbrains.com/plugin/14856-liberty-tools\" rel=\"nofollow noreferrer\">Liberty Tools for Intellij IDEA</a></li>\n<li><a href=\"https://marketplace.eclipse.org/content/liberty-tools\" rel=\"nofollow noreferrer\">Liberty Tools for Eclipse</a></li>\n</ul>\n<p>There is also an older Eclipse feature, <a href=\"https://marketplace.eclipse.org/content/ibm-liberty-developer-tools\" rel=\"nofollow noreferrer\">&quot;Liberty Developer Tools&quot;</a>.  For newer Maven/Gradle apps we generally recommend the newer &quot;Liberty Tools for Eclipse&quot; feature mentioned above, with support for Jakarta EE 9/10 and MicroProfile development.  That said, the app update support is a bit nicer in Liberty Developer Tools at this point in time, (as noted briefly below).</p>\n<h2>Disable application monitor updates</h2>\n<p>If you're using some sort of rapid iterative development environment, like Liberty <a href=\"https://openliberty.io/docs/latest/development-mode.html\" rel=\"nofollow noreferrer\">&quot;dev mode&quot;</a> then with the default Liberty config, the app will update upon every class update.  Application update can, depending on the app, take a significant amount of time, which is likely exactly what led you to asking this question in the first place.</p>\n<p>You can disable this behavior by configuring an <code>&lt;applicationMonitor&gt;</code> element in your <strong>server.xml</strong>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code> &lt;applicationMonitor updateTrigger=&quot;mbean&quot; ... /&gt; \n</code></pre>\n<p>Alternately, you could use &quot;disabled&quot; in place of &quot;mbean&quot; as the attribute value.</p>\n<h3>Explanation</h3>\n<p>At the moment, in <strong>Liberty Tools</strong> there is no special assistance for app update, so there's no difference between &quot;mbean&quot; and &quot;disabled&quot;.  In the older, &quot;Liberty Developer Tools&quot; we have some &quot;smarter&quot; function in this area and so &quot;mbean&quot; would be a better choice.</p>\n"}],"owner":{"account_id":109585,"reputation":8067,"user_id":290284,"accept_rate":95,"display_name":"Cui Pengfei "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700749325,"creation_date":1700276984,"question_id":77505568,"body_markdown":"https://github.com/eugenp/tutorials/tree/master/microservices-modules/open-liberty\r\n\r\nI am using the above code to test maven open-liberty plugin.\r\n\r\n```\r\nmvn liberty:dev\r\n```\r\ncan start the app, no problem here.\r\n\r\nThen when one jave file gets editted, it gets detected and recompiled, also good.\r\n\r\nHowever, the whole application gets stopped and restarted.\r\n\r\nCan open-liberty be configured to only hot-reload one single class file without rebooting the whole app?\r\n","title":"Can maven open-liberty plugin hot-reload single class file without stopping and restarting the whole application?","body":"<p><a href=\"https://github.com/eugenp/tutorials/tree/master/microservices-modules/open-liberty\" rel=\"nofollow noreferrer\">https://github.com/eugenp/tutorials/tree/master/microservices-modules/open-liberty</a></p>\n<p>I am using the above code to test maven open-liberty plugin.</p>\n<pre><code>mvn liberty:dev\n</code></pre>\n<p>can start the app, no problem here.</p>\n<p>Then when one jave file gets editted, it gets detected and recompiled, also good.</p>\n<p>However, the whole application gets stopped and restarted.</p>\n<p>Can open-liberty be configured to only hot-reload one single class file without rebooting the whole app?</p>\n"},{"tags":["java","maven","bitbucket"],"owner":{"account_id":1432735,"reputation":775,"user_id":1354768,"accept_rate":54,"display_name":"BlackEye"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700749218,"creation_date":1700749218,"question_id":77537622,"body_markdown":"I try upgrading one of our plugins to the new API version of Bitbucket and a transitive dependency cannot be found in any repository. Googeling didn&#39;t help yet.\r\n\r\n```[ERROR] Failed to execute goal on project bitbucket-plugin: Could not resolve dependencies for project orga:bitbucket-plugin:atlassian-plugin:3.3-SNAPSHOT: Failed to collect dependencies at com.atlassian.bitbucket.server:bitbucket-web-common:jar:8.9.5 -&gt; com.atlassian.bitbucket.server:bitbucket-spi:jar:8.9.5 -&gt; com.atlassian.plugins:atlassian-plugins-core:jar:7.1.5 -&gt; com.atlassian.plugins:atlassian-plugins-api:jar:7.1.5 -&gt; io.atlassian.fugue:fugue:jar:5.0.0: Failed to read artifact descriptor for io.atlassian.fugue:fugue:jar:5.0.0: Could not find artifact io.atlassian.fugue:fugue-parent:pom:5.0.0 in orga.public (https://organexus/content/groups/public/) -&gt; [Help 1]```\r\n\r\nThe Nexus group contains:\r\n\r\n - Maven Central\r\n - https://maven.atlassian.com/repository/public/\r\n - https://packages.atlassian.com/3rdparty/","title":"Bitbucket Server Plugin cannot be built because transitive dependency is in no repository","body":"<p>I try upgrading one of our plugins to the new API version of Bitbucket and a transitive dependency cannot be found in any repository. Googeling didn't help yet.</p>\n<p><code>[ERROR] Failed to execute goal on project bitbucket-plugin: Could not resolve dependencies for project orga:bitbucket-plugin:atlassian-plugin:3.3-SNAPSHOT: Failed to collect dependencies at com.atlassian.bitbucket.server:bitbucket-web-common:jar:8.9.5 -&gt; com.atlassian.bitbucket.server:bitbucket-spi:jar:8.9.5 -&gt; com.atlassian.plugins:atlassian-plugins-core:jar:7.1.5 -&gt; com.atlassian.plugins:atlassian-plugins-api:jar:7.1.5 -&gt; io.atlassian.fugue:fugue:jar:5.0.0: Failed to read artifact descriptor for io.atlassian.fugue:fugue:jar:5.0.0: Could not find artifact io.atlassian.fugue:fugue-parent:pom:5.0.0 in orga.public (https://organexus/content/groups/public/) -&gt; [Help 1]</code></p>\n<p>The Nexus group contains:</p>\n<ul>\n<li>Maven Central</li>\n<li><a href=\"https://maven.atlassian.com/repository/public/\" rel=\"nofollow noreferrer\">https://maven.atlassian.com/repository/public/</a></li>\n<li><a href=\"https://packages.atlassian.com/3rdparty/\" rel=\"nofollow noreferrer\">https://packages.atlassian.com/3rdparty/</a></li>\n</ul>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1700739372,"post_id":77536018,"comment_id":136692843,"body_markdown":"Could you also update the question with `pom.xml` or `gradle.build`  file ?","body":"Could you also update the question with <code>pom.xml</code> or <code>gradle.build</code>  file ?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1700741613,"post_id":77536018,"comment_id":136693182,"body_markdown":"Do you by any change configure the entitymanagerfactory yourself instead of using the spring auto configured one? Also yes it needs a default constructor and the field should be marked with the `@Autowired` annotation. This is kind of enforced by the specification. If configured properly it will still ask Spring to autowire the dependencies. It doesn&#39;t need to be an `@Component`. In short you cannot opt-out of the no-args constructor as that is what it needs to have according to the specification.","body":"Do you by any change configure the entitymanagerfactory yourself instead of using the spring auto configured one? Also yes it needs a default constructor and the field should be marked with the <code>@Autowired</code> annotation. This is kind of enforced by the specification. If configured properly it will still ask Spring to autowire the dependencies. It doesn&#39;t need to be an <code>@Component</code>. In short you cannot opt-out of the no-args constructor as that is what it needs to have according to the specification."},{"owner":{"account_id":6310497,"reputation":136,"user_id":4902186,"accept_rate":62,"display_name":"Stieg"},"score":0,"creation_date":1700748581,"post_id":77536018,"comment_id":136694470,"body_markdown":"@AndreiLisa This project has got 4 pom files, it&#39;d be easier to post only what you&#39;d like to see","body":"@AndreiLisa This project has got 4 pom files, it&#39;d be easier to post only what you&#39;d like to see"},{"owner":{"account_id":6310497,"reputation":136,"user_id":4902186,"accept_rate":62,"display_name":"Stieg"},"score":0,"creation_date":1700748762,"post_id":77536018,"comment_id":136694506,"body_markdown":"@M.Deinum No, I just checked no mention of any entitymanagerfactory in the whole project.","body":"@M.Deinum No, I just checked no mention of any entitymanagerfactory in the whole project."},{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1700750080,"post_id":77536018,"comment_id":136694731,"body_markdown":"`mvn dependency:tree` run check if there are some `javax` dependencies","body":"<code>mvn dependency:tree</code> run check if there are some <code>javax</code> dependencies"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1700751660,"post_id":77536018,"comment_id":136695033,"body_markdown":"As mentioned in my previous comment you simply need the no-args constructor. Add an `@Autowired` field and remove the `@Component`.","body":"As mentioned in my previous comment you simply need the no-args constructor. Add an <code>@Autowired</code> field and remove the <code>@Component</code>."},{"owner":{"account_id":6310497,"reputation":136,"user_id":4902186,"accept_rate":62,"display_name":"Stieg"},"score":0,"creation_date":1700818971,"post_id":77536018,"comment_id":136702398,"body_markdown":"@M.Deinum I&#39;m just trying that, but first, I had to change the field to the f Bean type of the cunstructor I was using before. The thing is that now, it&#39;s tekking me that Cannot invoke &quot;com.tss.pago.core.validation.config.ValidationProperties.getZipcode()&quot; because &quot;this.validationProperties&quot; is null, validation properties is the new field.","body":"@M.Deinum I&#39;m just trying that, but first, I had to change the field to the f Bean type of the cunstructor I was using before. The thing is that now, it&#39;s tekking me that Cannot invoke &quot;com.tss.pago.core.validation.config.ValidationProperties.ge&zwnj;&#8203;tZipcode()&quot; because &quot;this.validationProperties&quot; is null, validation properties is the new field."},{"owner":{"account_id":6310497,"reputation":136,"user_id":4902186,"accept_rate":62,"display_name":"Stieg"},"score":0,"creation_date":1700819202,"post_id":77536018,"comment_id":136702435,"body_markdown":"@AndreiLisa no javax dependencencies in the dependency tree","body":"@AndreiLisa no javax dependencencies in the dependency tree"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1700822208,"post_id":77536018,"comment_id":136702943,"body_markdown":"It is complaining **where**... Please don&#39;t describe code but instead **show code**. What did you do to modify it? And just making your curent constructor a no-arg constructor will fail!. What you have in your constructor needs to move to the `initialize` method instead.","body":"It is complaining <b>where</b>... Please don&#39;t describe code but instead <b>show code</b>. What did you do to modify it? And just making your curent constructor a no-arg constructor will fail!. What you have in your constructor needs to move to the <code>initialize</code> method instead."},{"owner":{"account_id":6310497,"reputation":136,"user_id":4902186,"accept_rate":62,"display_name":"Stieg"},"score":0,"creation_date":1701245286,"post_id":77536018,"comment_id":136750315,"body_markdown":"@M.Deinum sorry, that comment was clearly poorly written. That said, it&#39;s hard to show code in comments due to character number constraints. I did remove the `@Component` and added `@Autowired\n    private ValidationProperties validationProperties;` as you suggested and got `Cannot invoke &quot;*.validation.config.ValidationProperties.getZipcode()&quot; because &quot;this.validationProperties&quot; is null`.  In the next comment I&#39;ll share the ValidationProperties.","body":"@M.Deinum sorry, that comment was clearly poorly written. That said, it&#39;s hard to show code in comments due to character number constraints. I did remove the <code>@Component</code> and added <code>@Autowired     private ValidationProperties validationProperties;</code> as you suggested and got <code>Cannot invoke &quot;*.validation.config.ValidationProperties.getZipcode()&quot; because &quot;this.validationProperties&quot; is null</code>.  In the next comment I&#39;ll share the ValidationProperties."},{"owner":{"account_id":6310497,"reputation":136,"user_id":4902186,"accept_rate":62,"display_name":"Stieg"},"score":0,"creation_date":1701245325,"post_id":77536018,"comment_id":136750321,"body_markdown":"`@Data\n@Configuration\n@ConfigurationProperties(prefix = &quot;validation&quot;)\npublic class ValidationProperties {\n    Map&lt;String, String&gt; zipcode;\n    Map&lt;String, String&gt; taxcode;\n}`","body":"<code>@Data @Configuration @ConfigurationProperties(prefix = &quot;validation&quot;) public class ValidationProperties {     Map&lt;String, String&gt; zipcode;     Map&lt;String, String&gt; taxcode; }</code>"}],"owner":{"account_id":6310497,"reputation":136,"user_id":4902186,"accept_rate":62,"display_name":"Stieg"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700748906,"creation_date":1700734284,"question_id":77536018,"body_markdown":"I&#39;ve been tasked to migrate to Spring Boot 3, so I&#39;m taking the oportunity to simple update to the latest version. As I expected there are some migration pains that I have been dealing with. At the moment I&#39;m stuck with the ConstraintValidators, I can&#39;t seem to find in any documentation any breaking changes but now it wants to have No Args constructors, so I checked this post https://stackoverflow.com/a/67515823/4902186 and went to a rabbit hole trying to make that work and decided against it (my unit tests got messed up and then I found a wierd behaviour that I&#39;m explaining next). \r\n\r\nFor a brief time the errors I was getting from it wanting a no arg constructor (at runtime, it would compile and run properly) but then I noticed a couple of wierd things, validations would be triggered at the end of the API call (to be honest I&#39;m unsure that was the case before but it&#39;s strange to me) and when it tried to persist (again, at the end of the call) it would do it at least twice and it&#39;d throw a SQL exception stating that you cannot duplicate primary keys. Ultimately I am trying to look elsewhere but I&#39;m unable to find anyone with this exact problem online.\r\n\r\nSo, here&#39;s an example of a validator that I&#39;m having problems with:\r\n\r\n    @Component\r\n    public class CustomerAddressValidator implements ConstraintValidator&lt;CustomerAddressValid, CustomerAddress&gt; {\r\n    \r\n        private Map&lt;CountryCode, Pattern&gt; regexPatterns;\r\n    \r\n        @Autowired\r\n        CustomerAddressValidator(ValidationProperties validationProperties) {\r\n            regexPatterns = validationProperties.getZipcode().entrySet().stream()\r\n                    .collect(Collectors.toMap(\r\n                            e1 -&gt; CountryCode.valueOf(e1.getKey().toUpperCase()),\r\n                            e2 -&gt; Pattern.compile(Optional.ofNullable(e2.getValue())\r\n                                    .orElseThrow(() -&gt; new NullPointerException(&quot;zip code validation configuration failure for country code: &quot; + e2.getKey())))));\r\n        }\r\n    \r\n        @Override\r\n        public void initialize(CustomerAddressValid constraintAnnotation) {\r\n            // Does not have a special initialization logic\r\n        }\r\n    \r\n        @Override\r\n        public boolean isValid(CustomerAddress address, ConstraintValidatorContext cxt) {\r\n            return allValid(isZipCodeValid(address, cxt),isAddressValid(address, cxt));\r\n        }\r\n    \r\n        private boolean isZipCodeValid(CustomerAddress address, ConstraintValidatorContext cxt) {\r\n            if (address == null || address.getZipCode() == null || address.getCountryCode() == null) return true;\r\n            Pattern pattern = regexPatterns.get(address.getCountryCode());\r\n            boolean isValid = pattern == null || pattern.matcher(address.getZipCode()).matches();\r\n            if (!isValid)\r\n                cxt.buildConstraintViolationWithTemplate(&quot;zip code must match with pattern: &quot; + pattern.toString())\r\n                        .addPropertyNode(&quot;zipCode&quot;)\r\n                        .addConstraintViolation();\r\n            return isValid;\r\n        }\r\n    \r\n        /**\r\n         * Validates the combination of the address fields street, houseNumber and lineOne\r\n         *\r\n         * @param address the customer address\r\n         * @param cxt     the validator context\r\n         * @return true if the address rules are valid\r\n         */\r\n        private boolean isAddressValid(CustomerAddress address, ConstraintValidatorContext cxt) {\r\n            String street = address.getStreet();\r\n            String houseNumber = address.getHouseNumber();\r\n            String lineOne = address.getLineOne();\r\n    \r\n            if ((street == null || StringUtils.isEmpty(street)) &amp;&amp; (houseNumber == null || StringUtils.isEmpty(houseNumber)) &amp;&amp; (lineOne == null || StringUtils.isEmpty(lineOne))) {\r\n                cxt.buildConstraintViolationWithTemplate(&quot;Either the fields &#39;street&#39; and &#39;houseNumber&#39; must be filled or field &#39;lineOne&#39;.&quot;)\r\n                        .addPropertyNode(&quot;lineOne&quot;)\r\n                        .addConstraintViolation();\r\n                return false;\r\n            }\r\n    \r\n    \r\n            if ((street == null || StringUtils.isEmpty(street)) &amp;&amp; (houseNumber != null &amp;&amp; !StringUtils.isEmpty(houseNumber))) {\r\n                cxt.buildConstraintViolationWithTemplate(&quot;If the field &#39;houseNumber&#39; is filled, please fill in the field &#39;street&#39;.&quot;)\r\n                        .addPropertyNode(&quot;houseNumber&quot;)\r\n                        .addConstraintViolation();\r\n                return false;\r\n            }\r\n    \r\n            if ((lineOne != null &amp;&amp; !StringUtils.isEmpty(lineOne)) &amp;&amp; (street != null &amp;&amp; !StringUtils.isEmpty(street))) {\r\n                cxt.buildConstraintViolationWithTemplate(&quot;Either the fields &#39;street&#39; and &#39;houseNumber&#39; must be filled or field &#39;lineOne&#39;.&quot;)\r\n                        .addPropertyNode(&quot;lineOne&quot;)\r\n                        .addConstraintViolation();\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n    \r\n        private boolean allValid(Boolean... validations) {\r\n            return Arrays.stream(validations).allMatch(isValid -&gt; isValid);\r\n        }\r\n    }\r\n\r\n\r\n\r\nAnd here&#39;s the stack trace I get whenever I try to create a Customer, meaning I call one of the APIs using this validation:\r\n\r\n```\r\njakarta.validation.ValidationException: HV000064: Unable to instantiate ConstraintValidator: *.validation.CustomerAddressValidator.\r\n\tat org.hibernate.validator.internal.util.privilegedactions.NewInstance.run(NewInstance.java:44) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\r\n\tat org.hibernate.validator.internal.engine.constraintvalidation.ConstraintValidatorFactoryImpl.run(ConstraintValidatorFactoryImpl.java:45) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\r\n\tat org.hibernate.validator.internal.engine.constraintvalidation.ConstraintValidatorFactoryImpl.getInstance(ConstraintValidatorFactoryImpl.java:29) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\r\n\tat org.hibernate.validator.internal.engine.constraintvalidation.ClassBasedValidatorDescriptor.newInstance(ClassBasedValidatorDescriptor.java:84) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\r\n\tat org.hibernate.validator.internal.engine.constraintvalidation.AbstractConstraintValidatorManagerImpl.createAndInitializeValidator(AbstractConstraintValidatorManagerImpl.java:89) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\r\n\tat org.hibernate.validator.internal.engine.constraintvalidation.ConstraintValidatorManagerImpl.getInitializedValidator(ConstraintValidatorManagerImpl.java:117) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\r\n\tat org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.getInitializedConstraintValidator(ConstraintTree.java:136) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\r\n\tat org.hibernate.validator.internal.engine.constraintvalidation.SimpleConstraintTree.validateConstraints(SimpleConstraintTree.java:58) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\r\n\tat org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.validateConstraints(ConstraintTree.java:75) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\r\n\tat org.hibernate.validator.internal.metadata.core.MetaConstraint.doValidateConstraint(MetaConstraint.java:130) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\r\n\tat org.hibernate.validator.internal.metadata.core.MetaConstraint$TypeParameterValueReceiver.doValidate(MetaConstraint.java:246) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\r\n\tat org.hibernate.validator.internal.metadata.core.MetaConstraint$TypeParameterValueReceiver.indexedValue(MetaConstraint.java:212) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\r\n\tat org.hibernate.validator.internal.engine.valueextraction.ListValueExtractor.extractValues(ListValueExtractor.java:28) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\r\n\tat org.hibernate.validator.internal.engine.valueextraction.ListValueExtractor.extractValues(ListValueExtractor.java:17) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\r\n\tat org.hibernate.validator.internal.engine.valueextraction.ValueExtractorHelper.extractValues(ValueExtractorHelper.java:42) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\r\n\tat org.hibernate.validator.internal.metadata.core.MetaConstraint.validateConstraint(MetaConstraint.java:117) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\r\n\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraint(ValidatorImpl.java:555) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\r\n\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForSingleDefaultGroupElement(ValidatorImpl.java:518) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\r\n\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForDefaultGroup(ValidatorImpl.java:488) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\r\n\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForCurrentGroup(ValidatorImpl.java:450) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\r\n\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateInContext(ValidatorImpl.java:400) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\r\n\tat org.hibernate.validator.internal.engine.ValidatorImpl.validate(ValidatorImpl.java:172) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\r\n\tat org.hibernate.boot.beanvalidation.BeanValidationEventListener.validate(BeanValidationEventListener.java:128) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.boot.beanvalidation.BeanValidationEventListener.onPreInsert(BeanValidationEventListener.java:81) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.action.internal.EntityInsertAction.preInsert(EntityInsertAction.java:215) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:98) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:635) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:502) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:364) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.event.internal.DefaultAutoFlushEventListener.onAutoFlush(DefaultAutoFlushEventListener.java:55) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.internal.SessionImpl.autoFlushIfRequired(SessionImpl.java:1375) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:108) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:303) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.query.Query.getResultList(Query.java:119) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129) ~[spring-data-jpa-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92) ~[spring-data-jpa-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149) ~[spring-data-jpa-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137) ~[spring-data-jpa-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar:6.0.13]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar:6.0.13]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) ~[spring-data-jpa-3.1.5.jar:3.1.5]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy204.findAllByCustomerId(Unknown Source) ~[na:na]\r\n\tat *.JpaCustomerService.toDto(JpaCustomerService.java:295) ~[classes/:na]\r\n\tat *.JpaCustomerService.createCustomer(JpaCustomerService.java:545) ~[classes/:na]\r\n\tat *.JpaCustomerService.createCustomer(JpaCustomerService.java:516) ~[classes/:na]\r\n...\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\nCaused by: java.lang.NoSuchMethodException: *.validation.CustomerAddressValidator.&lt;init&gt;()\r\n\tat java.base/java.lang.Class.getConstructor0(Class.java:3585) ~[na:na]\r\n\tat java.base/java.lang.Class.getConstructor(Class.java:2271) ~[na:na]\r\n\tat org.hibernate.validator.internal.util.privilegedactions.NewInstance.run(NewInstance.java:41) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\r\n\t... 197 common frames omitted\r\n```\r\n\r\nI&#39;m looking for any light on this problem, why do I now appearantly need a No args constructor and how should I act on it.\r\n\r\nEdit: this is not the only validation with this problem, but also I can&#39;t say for sure that every validation is failing.","title":"ConstraintValidator after migrating from Spring boot 2.7.15 -&gt; 3.1.X","body":"<p>I've been tasked to migrate to Spring Boot 3, so I'm taking the oportunity to simple update to the latest version. As I expected there are some migration pains that I have been dealing with. At the moment I'm stuck with the ConstraintValidators, I can't seem to find in any documentation any breaking changes but now it wants to have No Args constructors, so I checked this post <a href=\"https://stackoverflow.com/a/67515823/4902186\">https://stackoverflow.com/a/67515823/4902186</a> and went to a rabbit hole trying to make that work and decided against it (my unit tests got messed up and then I found a wierd behaviour that I'm explaining next).</p>\n<p>For a brief time the errors I was getting from it wanting a no arg constructor (at runtime, it would compile and run properly) but then I noticed a couple of wierd things, validations would be triggered at the end of the API call (to be honest I'm unsure that was the case before but it's strange to me) and when it tried to persist (again, at the end of the call) it would do it at least twice and it'd throw a SQL exception stating that you cannot duplicate primary keys. Ultimately I am trying to look elsewhere but I'm unable to find anyone with this exact problem online.</p>\n<p>So, here's an example of a validator that I'm having problems with:</p>\n<pre><code>@Component\npublic class CustomerAddressValidator implements ConstraintValidator&lt;CustomerAddressValid, CustomerAddress&gt; {\n\n    private Map&lt;CountryCode, Pattern&gt; regexPatterns;\n\n    @Autowired\n    CustomerAddressValidator(ValidationProperties validationProperties) {\n        regexPatterns = validationProperties.getZipcode().entrySet().stream()\n                .collect(Collectors.toMap(\n                        e1 -&gt; CountryCode.valueOf(e1.getKey().toUpperCase()),\n                        e2 -&gt; Pattern.compile(Optional.ofNullable(e2.getValue())\n                                .orElseThrow(() -&gt; new NullPointerException(&quot;zip code validation configuration failure for country code: &quot; + e2.getKey())))));\n    }\n\n    @Override\n    public void initialize(CustomerAddressValid constraintAnnotation) {\n        // Does not have a special initialization logic\n    }\n\n    @Override\n    public boolean isValid(CustomerAddress address, ConstraintValidatorContext cxt) {\n        return allValid(isZipCodeValid(address, cxt),isAddressValid(address, cxt));\n    }\n\n    private boolean isZipCodeValid(CustomerAddress address, ConstraintValidatorContext cxt) {\n        if (address == null || address.getZipCode() == null || address.getCountryCode() == null) return true;\n        Pattern pattern = regexPatterns.get(address.getCountryCode());\n        boolean isValid = pattern == null || pattern.matcher(address.getZipCode()).matches();\n        if (!isValid)\n            cxt.buildConstraintViolationWithTemplate(&quot;zip code must match with pattern: &quot; + pattern.toString())\n                    .addPropertyNode(&quot;zipCode&quot;)\n                    .addConstraintViolation();\n        return isValid;\n    }\n\n    /**\n     * Validates the combination of the address fields street, houseNumber and lineOne\n     *\n     * @param address the customer address\n     * @param cxt     the validator context\n     * @return true if the address rules are valid\n     */\n    private boolean isAddressValid(CustomerAddress address, ConstraintValidatorContext cxt) {\n        String street = address.getStreet();\n        String houseNumber = address.getHouseNumber();\n        String lineOne = address.getLineOne();\n\n        if ((street == null || StringUtils.isEmpty(street)) &amp;&amp; (houseNumber == null || StringUtils.isEmpty(houseNumber)) &amp;&amp; (lineOne == null || StringUtils.isEmpty(lineOne))) {\n            cxt.buildConstraintViolationWithTemplate(&quot;Either the fields 'street' and 'houseNumber' must be filled or field 'lineOne'.&quot;)\n                    .addPropertyNode(&quot;lineOne&quot;)\n                    .addConstraintViolation();\n            return false;\n        }\n\n\n        if ((street == null || StringUtils.isEmpty(street)) &amp;&amp; (houseNumber != null &amp;&amp; !StringUtils.isEmpty(houseNumber))) {\n            cxt.buildConstraintViolationWithTemplate(&quot;If the field 'houseNumber' is filled, please fill in the field 'street'.&quot;)\n                    .addPropertyNode(&quot;houseNumber&quot;)\n                    .addConstraintViolation();\n            return false;\n        }\n\n        if ((lineOne != null &amp;&amp; !StringUtils.isEmpty(lineOne)) &amp;&amp; (street != null &amp;&amp; !StringUtils.isEmpty(street))) {\n            cxt.buildConstraintViolationWithTemplate(&quot;Either the fields 'street' and 'houseNumber' must be filled or field 'lineOne'.&quot;)\n                    .addPropertyNode(&quot;lineOne&quot;)\n                    .addConstraintViolation();\n            return false;\n        }\n        return true;\n    }\n\n    private boolean allValid(Boolean... validations) {\n        return Arrays.stream(validations).allMatch(isValid -&gt; isValid);\n    }\n}\n</code></pre>\n<p>And here's the stack trace I get whenever I try to create a Customer, meaning I call one of the APIs using this validation:</p>\n<pre><code>jakarta.validation.ValidationException: HV000064: Unable to instantiate ConstraintValidator: *.validation.CustomerAddressValidator.\n    at org.hibernate.validator.internal.util.privilegedactions.NewInstance.run(NewInstance.java:44) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\n    at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintValidatorFactoryImpl.run(ConstraintValidatorFactoryImpl.java:45) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\n    at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintValidatorFactoryImpl.getInstance(ConstraintValidatorFactoryImpl.java:29) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\n    at org.hibernate.validator.internal.engine.constraintvalidation.ClassBasedValidatorDescriptor.newInstance(ClassBasedValidatorDescriptor.java:84) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\n    at org.hibernate.validator.internal.engine.constraintvalidation.AbstractConstraintValidatorManagerImpl.createAndInitializeValidator(AbstractConstraintValidatorManagerImpl.java:89) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\n    at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintValidatorManagerImpl.getInitializedValidator(ConstraintValidatorManagerImpl.java:117) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\n    at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.getInitializedConstraintValidator(ConstraintTree.java:136) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\n    at org.hibernate.validator.internal.engine.constraintvalidation.SimpleConstraintTree.validateConstraints(SimpleConstraintTree.java:58) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\n    at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.validateConstraints(ConstraintTree.java:75) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\n    at org.hibernate.validator.internal.metadata.core.MetaConstraint.doValidateConstraint(MetaConstraint.java:130) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\n    at org.hibernate.validator.internal.metadata.core.MetaConstraint$TypeParameterValueReceiver.doValidate(MetaConstraint.java:246) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\n    at org.hibernate.validator.internal.metadata.core.MetaConstraint$TypeParameterValueReceiver.indexedValue(MetaConstraint.java:212) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\n    at org.hibernate.validator.internal.engine.valueextraction.ListValueExtractor.extractValues(ListValueExtractor.java:28) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\n    at org.hibernate.validator.internal.engine.valueextraction.ListValueExtractor.extractValues(ListValueExtractor.java:17) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\n    at org.hibernate.validator.internal.engine.valueextraction.ValueExtractorHelper.extractValues(ValueExtractorHelper.java:42) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\n    at org.hibernate.validator.internal.metadata.core.MetaConstraint.validateConstraint(MetaConstraint.java:117) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\n    at org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraint(ValidatorImpl.java:555) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\n    at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForSingleDefaultGroupElement(ValidatorImpl.java:518) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\n    at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForDefaultGroup(ValidatorImpl.java:488) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\n    at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForCurrentGroup(ValidatorImpl.java:450) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\n    at org.hibernate.validator.internal.engine.ValidatorImpl.validateInContext(ValidatorImpl.java:400) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\n    at org.hibernate.validator.internal.engine.ValidatorImpl.validate(ValidatorImpl.java:172) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\n    at org.hibernate.boot.beanvalidation.BeanValidationEventListener.validate(BeanValidationEventListener.java:128) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.boot.beanvalidation.BeanValidationEventListener.onPreInsert(BeanValidationEventListener.java:81) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.action.internal.EntityInsertAction.preInsert(EntityInsertAction.java:215) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:98) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:635) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:502) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:364) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.event.internal.DefaultAutoFlushEventListener.onAutoFlush(DefaultAutoFlushEventListener.java:55) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.internal.SessionImpl.autoFlushIfRequired(SessionImpl.java:1375) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:108) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:303) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.query.Query.getResultList(Query.java:119) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129) ~[spring-data-jpa-3.1.5.jar:3.1.5]\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92) ~[spring-data-jpa-3.1.5.jar:3.1.5]\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149) ~[spring-data-jpa-3.1.5.jar:3.1.5]\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137) ~[spring-data-jpa-3.1.5.jar:3.1.5]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar:6.0.13]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar:6.0.13]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) ~[spring-data-jpa-3.1.5.jar:3.1.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244) ~[spring-aop-6.0.13.jar:6.0.13]\n    at jdk.proxy2/jdk.proxy2.$Proxy204.findAllByCustomerId(Unknown Source) ~[na:na]\n    at *.JpaCustomerService.toDto(JpaCustomerService.java:295) ~[classes/:na]\n    at *.JpaCustomerService.createCustomer(JpaCustomerService.java:545) ~[classes/:na]\n    at *.JpaCustomerService.createCustomer(JpaCustomerService.java:516) ~[classes/:na]\n...\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\nCaused by: java.lang.NoSuchMethodException: *.validation.CustomerAddressValidator.&lt;init&gt;()\n    at java.base/java.lang.Class.getConstructor0(Class.java:3585) ~[na:na]\n    at java.base/java.lang.Class.getConstructor(Class.java:2271) ~[na:na]\n    at org.hibernate.validator.internal.util.privilegedactions.NewInstance.run(NewInstance.java:41) ~[hibernate-validator-8.0.1.Final.jar:8.0.1.Final]\n    ... 197 common frames omitted\n</code></pre>\n<p>I'm looking for any light on this problem, why do I now appearantly need a No args constructor and how should I act on it.</p>\n<p>Edit: this is not the only validation with this problem, but also I can't say for sure that every validation is failing.</p>\n"},{"tags":["java","jakarta-ee","rest-client","payara","microprofile"],"owner":{"account_id":26819117,"reputation":1,"user_id":20408719,"display_name":"Silas Z"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700748604,"creation_date":1700741389,"question_id":77536759,"body_markdown":"I&#39;m encountering an issue when attempting to use RestClientBuilder in my Java code to build a client with MicroProfile. I&#39;m receiving the error message &quot;No RestClientBuilderResolver implementation found!&quot; Here&#39;s the segement that causes the issue:\r\n\r\n```\r\nMyClient myClient = RestClientBuilder.newBuilder()\r\n        .baseUri(new URI(Url))\r\n        .build(MyClient.class);\r\n```\r\nAnd here&#39;s my MyClient interface:\r\n\r\n```\r\n@Path(&quot;/root&quot;)\r\n@RegisterRestClient\r\n@ClientHeaderParam(name = &quot;x-api-key&quot;, value = MyKey)\r\npublic interface MyClient {\r\n\r\n    @POST\r\n    @Path(&quot;/endpoint1&quot;)\r\n    public MyObj getDeviceState(JsonObject body);\r\n\r\n    @POST\r\n    @Path(&quot;/endpoint2&quot;)\r\n    public MyObj getGatewayState(JsonObject body);\r\n}\r\n```\r\nI&#39;ve verified that the dependencies for the necessary are correctly included. However, despite this, I&#39;m still encountering the error mentioned above.\r\n\r\nI am using Payara 6.2023.11, jakarta ee 10 and i am using the following dependencies\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.microprofile.rest.client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;microprofile-rest-client-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.microprofile&lt;/groupId&gt;\r\n            &lt;artifactId&gt;microprofile&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nI tried multiple versions of them and also used them alone or together.\r\n\r\nI also have tested to use\r\n\r\n\r\n```\r\nRestClientBuilder builder = RestClientBuilderResolver.instance().newBuilder();\r\nMyClient myClient = builder\r\n                    .baseUri(new URI(URL))\r\n                    .build(MyClient.class);\r\n```\r\n\r\nand here I could go the the implementation of RestClientBuilderResolver which doesn&#39;t make sense to me.\r\n\r\nI tried to do a small side project where I did the same and it worked. Then I added all the dependencies that were on my Main project and it still worked, so it don&#39;t think there is a dependency conflict.\r\n\r\nCould someone guide me on what might be causing this issue and how I could resolve it? Any help would be greatly appreciated. Thank you!\r\n\r\n","title":"Getting &quot;No RestClientBuilderResolver implementation found!&quot; when using RestClientBuilder","body":"<p>I'm encountering an issue when attempting to use RestClientBuilder in my Java code to build a client with MicroProfile. I'm receiving the error message &quot;No RestClientBuilderResolver implementation found!&quot; Here's the segement that causes the issue:</p>\n<pre><code>MyClient myClient = RestClientBuilder.newBuilder()\n        .baseUri(new URI(Url))\n        .build(MyClient.class);\n</code></pre>\n<p>And here's my MyClient interface:</p>\n<pre><code>@Path(&quot;/root&quot;)\n@RegisterRestClient\n@ClientHeaderParam(name = &quot;x-api-key&quot;, value = MyKey)\npublic interface MyClient {\n\n    @POST\n    @Path(&quot;/endpoint1&quot;)\n    public MyObj getDeviceState(JsonObject body);\n\n    @POST\n    @Path(&quot;/endpoint2&quot;)\n    public MyObj getGatewayState(JsonObject body);\n}\n</code></pre>\n<p>I've verified that the dependencies for the necessary are correctly included. However, despite this, I'm still encountering the error mentioned above.</p>\n<p>I am using Payara 6.2023.11, jakarta ee 10 and i am using the following dependencies</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.microprofile.rest.client&lt;/groupId&gt;\n            &lt;artifactId&gt;microprofile-rest-client-api&lt;/artifactId&gt;\n            &lt;version&gt;3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.microprofile&lt;/groupId&gt;\n            &lt;artifactId&gt;microprofile&lt;/artifactId&gt;\n            &lt;version&gt;5.0&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I tried multiple versions of them and also used them alone or together.</p>\n<p>I also have tested to use</p>\n<pre><code>RestClientBuilder builder = RestClientBuilderResolver.instance().newBuilder();\nMyClient myClient = builder\n                    .baseUri(new URI(URL))\n                    .build(MyClient.class);\n</code></pre>\n<p>and here I could go the the implementation of RestClientBuilderResolver which doesn't make sense to me.</p>\n<p>I tried to do a small side project where I did the same and it worked. Then I added all the dependencies that were on my Main project and it still worked, so it don't think there is a dependency conflict.</p>\n<p>Could someone guide me on what might be causing this issue and how I could resolve it? Any help would be greatly appreciated. Thank you!</p>\n"},{"tags":["java","access-denied","smb","jcifs","failed-to-connect"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1700751625,"post_id":77537525,"comment_id":136695024,"body_markdown":"Please **do not** post images of code, data, error messages, etc. Copy or type the text into the question. Please reserve the use of images for diagrams or demonstrating rendering bugs, things that are impossible to describe accurately via text. Code or sample data in images can&#39;t be copied and pasted in order to search about a problem or reproduce it. For more details read the Meta FAQ entry [Why not upload images of code/errors when asking a question?](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557)","body":"Please <b>do not</b> post images of code, data, error messages, etc. Copy or type the text into the question. Please reserve the use of images for diagrams or demonstrating rendering bugs, things that are impossible to describe accurately via text. Code or sample data in images can&#39;t be copied and pasted in order to search about a problem or reproduce it. For more details read the Meta FAQ entry <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">Why not upload images of code/errors when asking a question?</a>"}],"owner":{"account_id":27974997,"reputation":1,"user_id":21363999,"display_name":"Kevin Heloise"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700748571,"creation_date":1700748330,"question_id":77537525,"body_markdown":"I&#39;m experiencing an issue with accessing an SMB share in both a Java application and a Node.js script. When I connect to the SMB share via CMD using a specific service account (username and password), it works flawlessly. However, when trying to access the same SMB share in my Java (using JCIFS) and Node.js applications with the same service account credentials, I encounter an &quot;Access is Denied&quot; error.\r\n\r\nHere&#39;s what I&#39;ve tried so far:\r\n- Confirmed the correctness of username, password, and domain in the Java and Node.js applications.\r\n- Checked SMB server permissions for the service account.\r\n- Increased logging level in JCIFS to gather more details, but couldn&#39;t pinpoint the issue.\r\n- Looked through JCIFS documentation for any potential misconfigurations.\r\n\r\nIt&#39;s puzzling why the access is successful via CMD but fails in both Java and Node.js. I&#39;m attaching screenshots of the error and relevant code snippets for clarity. Any insights or suggestions on what might be causing this issue and how to resolve it would be greatly appreciated.\r\n\r\nThank you!\r\n\r\n\r\n```\r\n public FichierService() {\r\n        try {\r\n            Properties smbProps = new Properties();\r\n            smbProps.put(&quot;jcifs.smb.client.username&quot;, &quot;XXXXXXXXXX&quot;); \r\n            smbProps.put(&quot;jcifs.smb.client.password&quot;, &quot;XXXXXXX&quot;);\r\n            smbProps.put(&quot;jcifs.smb.client.domain&quot;, &quot;xxxxx.com&quot;);\r\n            Configuration config = new PropertyConfiguration(smbProps);\r\n            cifsContext = new BaseContext(config);\r\n            System.out.println(&quot;CIFS context initialized&quot;);\r\n        } catch (CIFSException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public byte[] recupererFichiersZip(List&lt;Long&gt; audrosIds) throws IOException {\r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        ZipOutputStream zos = new ZipOutputStream(baos);\r\n        System.out.println(&quot;Starting to process files...&quot;);\r\n        \r\n        for (Long audrosId : audrosIds) {\r\n            List&lt;Object[]&gt; resultList = repository.findFilesByIdAttach(Collections.singletonList(audrosId));\r\n            if (!resultList.isEmpty()) {\r\n                Object[] fileData = resultList.get(0);\r\n                String chemin = (String) fileData[0];\r\n                String namefile= &quot;236973_NSA_2110_H.pdf&quot;;\r\n                String smbPath = &quot;smb://srvptzxx.xxxx/Test_partage/xxxx/&quot; + namefile;\r\n\r\n                System.out.println(smbPath);\r\n\r\n                try {\r\n                    SmbFile smbFile = new SmbFile(smbPath, cifsContext);\r\n                    System.out.println(smbFile);\r\n                    if (smbFile.exists()) {\r\n                        System.out.println(&quot;File exists: &quot; + smbPath);\r\n                        SmbFileInputStream smbStream = new SmbFileInputStream(smbFile);\r\n\r\n                        ZipEntry entry = new ZipEntry(nomfich);\r\n                        zos.putNextEntry(entry);\r\n\r\n                        byte[] buffer = new byte[1024];\r\n                        int length;\r\n                        while ((length = smbStream.read(buffer)) &gt; 0) {\r\n                            zos.write(buffer, 0, length);\r\n                        }\r\n\r\n                        zos.closeEntry();\r\n                        smbStream.close();\r\n                    } else {\r\n                        System.out.println(&quot;Le fichier n&#39;existe pas ou ne peut pas &#234;tre lu : &quot; + smbPath);\r\n                    }\r\n                } catch (Exception e) {\r\n                    System.out.println(&quot;Erreur lors de l&#39;acc&#232;s au fichier : &quot; + smbPath);\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n\r\n        try {\r\n            zos.close();\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;Erreur lors de la fermeture du flux ZipOutputStream.&quot;);\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return baos.toByteArray();\r\n    }\r\n```\r\nand here the log\r\n\r\n[enter image description here](https://i.stack.imgur.com/b5EXd.png)\r\n\r\n\r\nI have no more ideas to solve this problem I tried with or without domain name","title":"SMB Access Denied in Java and Node.js Despite Successful CMD Connection with Service Account","body":"<p>I'm experiencing an issue with accessing an SMB share in both a Java application and a Node.js script. When I connect to the SMB share via CMD using a specific service account (username and password), it works flawlessly. However, when trying to access the same SMB share in my Java (using JCIFS) and Node.js applications with the same service account credentials, I encounter an &quot;Access is Denied&quot; error.</p>\n<p>Here's what I've tried so far:</p>\n<ul>\n<li>Confirmed the correctness of username, password, and domain in the Java and Node.js applications.</li>\n<li>Checked SMB server permissions for the service account.</li>\n<li>Increased logging level in JCIFS to gather more details, but couldn't pinpoint the issue.</li>\n<li>Looked through JCIFS documentation for any potential misconfigurations.</li>\n</ul>\n<p>It's puzzling why the access is successful via CMD but fails in both Java and Node.js. I'm attaching screenshots of the error and relevant code snippets for clarity. Any insights or suggestions on what might be causing this issue and how to resolve it would be greatly appreciated.</p>\n<p>Thank you!</p>\n<pre><code> public FichierService() {\n        try {\n            Properties smbProps = new Properties();\n            smbProps.put(&quot;jcifs.smb.client.username&quot;, &quot;XXXXXXXXXX&quot;); \n            smbProps.put(&quot;jcifs.smb.client.password&quot;, &quot;XXXXXXX&quot;);\n            smbProps.put(&quot;jcifs.smb.client.domain&quot;, &quot;xxxxx.com&quot;);\n            Configuration config = new PropertyConfiguration(smbProps);\n            cifsContext = new BaseContext(config);\n            System.out.println(&quot;CIFS context initialized&quot;);\n        } catch (CIFSException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public byte[] recupererFichiersZip(List&lt;Long&gt; audrosIds) throws IOException {\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        ZipOutputStream zos = new ZipOutputStream(baos);\n        System.out.println(&quot;Starting to process files...&quot;);\n        \n        for (Long audrosId : audrosIds) {\n            List&lt;Object[]&gt; resultList = repository.findFilesByIdAttach(Collections.singletonList(audrosId));\n            if (!resultList.isEmpty()) {\n                Object[] fileData = resultList.get(0);\n                String chemin = (String) fileData[0];\n                String namefile= &quot;236973_NSA_2110_H.pdf&quot;;\n                String smbPath = &quot;smb://srvptzxx.xxxx/Test_partage/xxxx/&quot; + namefile;\n\n                System.out.println(smbPath);\n\n                try {\n                    SmbFile smbFile = new SmbFile(smbPath, cifsContext);\n                    System.out.println(smbFile);\n                    if (smbFile.exists()) {\n                        System.out.println(&quot;File exists: &quot; + smbPath);\n                        SmbFileInputStream smbStream = new SmbFileInputStream(smbFile);\n\n                        ZipEntry entry = new ZipEntry(nomfich);\n                        zos.putNextEntry(entry);\n\n                        byte[] buffer = new byte[1024];\n                        int length;\n                        while ((length = smbStream.read(buffer)) &gt; 0) {\n                            zos.write(buffer, 0, length);\n                        }\n\n                        zos.closeEntry();\n                        smbStream.close();\n                    } else {\n                        System.out.println(&quot;Le fichier n'existe pas ou ne peut pas tre lu : &quot; + smbPath);\n                    }\n                } catch (Exception e) {\n                    System.out.println(&quot;Erreur lors de l'accs au fichier : &quot; + smbPath);\n                    e.printStackTrace();\n                }\n            }\n        }\n\n        try {\n            zos.close();\n        } catch (IOException e) {\n            System.out.println(&quot;Erreur lors de la fermeture du flux ZipOutputStream.&quot;);\n            e.printStackTrace();\n        }\n\n        return baos.toByteArray();\n    }\n</code></pre>\n<p>and here the log</p>\n<p><a href=\"https://i.stack.imgur.com/b5EXd.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I have no more ideas to solve this problem I tried with or without domain name</p>\n"},{"tags":["java","memgraph"],"comments":[{"owner":{"account_id":12635829,"reputation":176,"user_id":9185287,"display_name":"Ante Javor"},"score":0,"creation_date":1699005504,"post_id":77415578,"comment_id":136479067,"body_markdown":"Hi @simonC, can you maybe share what version of Memgraph and Java driver you are using in this case? I guess both Lab and Java driver are querying the same instance?","body":"Hi @simonC, can you maybe share what version of Memgraph and Java driver you are using in this case? I guess both Lab and Java driver are querying the same instance?"},{"owner":{"account_id":153072,"reputation":4177,"user_id":368068,"accept_rate":51,"display_name":"simonC"},"score":0,"creation_date":1699009184,"post_id":77415578,"comment_id":136479664,"body_markdown":"@AnteJavor I have updated the question with the versions we are using ... we are using bolt protocol bolt://localhost:7687","body":"@AnteJavor I have updated the question with the versions we are using ... we are using bolt protocol bolt://localhost:7687"},{"owner":{"account_id":12635829,"reputation":176,"user_id":9185287,"display_name":"Ante Javor"},"score":0,"creation_date":1699018655,"post_id":77415578,"comment_id":136481449,"body_markdown":"Hi @simonC, is &quot;MATCH (o:Noad)&quot; intentional? Do you maybe have a typo in this query? \nShould it be MATCH (o:Node)?","body":"Hi @simonC, is &quot;MATCH (o:Noad)&quot; intentional? Do you maybe have a typo in this query?  Should it be MATCH (o:Node)?"},{"owner":{"account_id":153072,"reputation":4177,"user_id":368068,"accept_rate":51,"display_name":"simonC"},"score":0,"creation_date":1699019053,"post_id":77415578,"comment_id":136481542,"body_markdown":"@AnteJavor no it is a typo","body":"@AnteJavor no it is a typo"},{"owner":{"account_id":12635829,"reputation":176,"user_id":9185287,"display_name":"Ante Javor"},"score":1,"creation_date":1699019183,"post_id":77415578,"comment_id":136481572,"body_markdown":"If that is a typo, and the lab query is correct using: MATCH (o:Node) you are probably not utilizing an index there, on label + property from the driver side. Can you check that?","body":"If that is a typo, and the lab query is correct using: MATCH (o:Node) you are probably not utilizing an index there, on label + property from the driver side. Can you check that?"},{"owner":{"account_id":153072,"reputation":4177,"user_id":368068,"accept_rate":51,"display_name":"simonC"},"score":0,"creation_date":1699263017,"post_id":77415578,"comment_id":136504871,"body_markdown":"@AnteJavor no I am using the sam query ... copy paste in the lab ... I have changed the query using WITH and UNWIND to pass the ids and it is working much faster ... but if I use the mentioned query it is very slow","body":"@AnteJavor no I am using the sam query ... copy paste in the lab ... I have changed the query using WITH and UNWIND to pass the ids and it is working much faster ... but if I use the mentioned query it is very slow"},{"owner":{"account_id":12635829,"reputation":176,"user_id":9185287,"display_name":"Ante Javor"},"score":0,"creation_date":1699530094,"post_id":77415578,"comment_id":136545016,"body_markdown":"Ok, I ran a small test of this and didn&#39;t experience the issue you mentioned.  Will spend some time and try to replicate it. Will keep you posted here.","body":"Ok, I ran a small test of this and didn&#39;t experience the issue you mentioned.  Will spend some time and try to replicate it. Will keep you posted here."},{"owner":{"account_id":12635829,"reputation":176,"user_id":9185287,"display_name":"Ante Javor"},"score":0,"creation_date":1700748001,"post_id":77415578,"comment_id":136694370,"body_markdown":"I think I have managed to find the issue with this. I have noticed that closing a session after the query took 6 seconds on Memgraph 2.12. Query execution was still quite fast in the milliseconds range. \n\nCan you measure the time passed for opening and closing a session + execution of a query? \n\nHere is what I did: https://github.com/memgraph/memgraph/issues/1450","body":"I think I have managed to find the issue with this. I have noticed that closing a session after the query took 6 seconds on Memgraph 2.12. Query execution was still quite fast in the milliseconds range.   Can you measure the time passed for opening and closing a session + execution of a query?   Here is what I did: <a href=\"https://github.com/memgraph/memgraph/issues/1450\" rel=\"nofollow noreferrer\">github.com/memgraph/memgraph/issues/1450</a>"},{"owner":{"account_id":153072,"reputation":4177,"user_id":368068,"accept_rate":51,"display_name":"simonC"},"score":0,"creation_date":1700813722,"post_id":77415578,"comment_id":136701524,"body_markdown":"but with WITH and UNWIND it works much faster ... why would the session be the cause?","body":"but with WITH and UNWIND it works much faster ... why would the session be the cause?"},{"owner":{"account_id":12635829,"reputation":176,"user_id":9185287,"display_name":"Ante Javor"},"score":0,"creation_date":1701075226,"post_id":77415578,"comment_id":136725336,"body_markdown":"Take a look at the sample code that is linked to the issue (https://github.com/memgraph/memgraph/issues/1450) query execution is very fast, and session close is much slower, it took 6 seconds at some point on 2.11. \n\nYou mentioned that the query works very fast with Lab. Lab does not use Java driver, and if query + dataset is the same in Lab and your Java code, then it is probably related to the driver. \n\nSessions seems like possible cause. \n\nHave you tried measuring passed time for opening and closing sessions + execution?","body":"Take a look at the sample code that is linked to the issue (<a href=\"https://github.com/memgraph/memgraph/issues/1450\" rel=\"nofollow noreferrer\">github.com/memgraph/memgraph/issues/1450</a>) query execution is very fast, and session close is much slower, it took 6 seconds at some point on 2.11.   You mentioned that the query works very fast with Lab. Lab does not use Java driver, and if query + dataset is the same in Lab and your Java code, then it is probably related to the driver.   Sessions seems like possible cause.   Have you tried measuring passed time for opening and closing sessions + execution?"}],"answers":[{"tags":[],"owner":{"account_id":12635829,"reputation":176,"user_id":9185287,"display_name":"Ante Javor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700748210,"creation_date":1700748210,"answer_id":77537513,"question_id":77415578,"body_markdown":"For the time being, I think this is related to potentially slow session closing with Neo4j driver, not actual query execution: https://github.com/memgraph/memgraph/issues/1450\r\n\r\n","title":"Memgraph very slow query when using neo4j java driver","body":"<p>For the time being, I think this is related to potentially slow session closing with Neo4j driver, not actual query execution: <a href=\"https://github.com/memgraph/memgraph/issues/1450\" rel=\"nofollow noreferrer\">https://github.com/memgraph/memgraph/issues/1450</a></p>\n"}],"owner":{"account_id":153072,"reputation":4177,"user_id":368068,"accept_rate":51,"display_name":"simonC"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1700748210,"creation_date":1699004196,"question_id":77415578,"body_markdown":"My setup: \r\n\r\n1.) memgraph in a docker image locally with 500k nodes inserted\r\n\r\n2.) I have a query with in clause in java using neo4j driver like \r\n\r\n    MATCH (n:SomeNode) where n.compoundKey in $ids RETURN n \r\n\r\n\r\nthis query for lets say 180 ids is executing 22sec ins java but if i execute the query  in the memgraph lab it takes 5ms \r\n\r\nIs there something specific with the java driver that I need to take care of? \r\n\r\nthe java code look like this\r\n\r\n    public List&lt;Noad&gt; getByKeys(Collection&lt;String&gt; keys) {\r\n        try (Session session = driver.session()) {\r\n            Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\r\n            params.put(&quot;ids&quot;, keys);\r\n            final String query = &quot;&quot;&quot;\r\n                    MATCH (n:SomeNode)\r\n                    WHERE n.compoundKey IN $ids\r\n                    RETURN n\r\n                    &quot;&quot;&quot;;\r\n            Result result = session.run(query, params);\r\n            .......\r\n        }\r\n    }\r\n\r\n\r\nUsing \r\n\r\nneo4j driver\r\n\r\n    org.neo4j.driver:neo4j-java-driver:5.13.0\r\n\r\nJava 21\r\n\r\nMemgraph 2.11.0 running locally in a docker\r\n\r\n\r\nsettings for the driver inside quarkus app\r\n\r\n       neo4j:\r\n        pool:\r\n          max-connection-pool-size: 50\r\n          log-leaked-sessions: true\r\n        uri: bolt://localhost:7687","title":"Memgraph very slow query when using neo4j java driver","body":"<p>My setup:</p>\n<p>1.) memgraph in a docker image locally with 500k nodes inserted</p>\n<p>2.) I have a query with in clause in java using neo4j driver like</p>\n<pre><code>MATCH (n:SomeNode) where n.compoundKey in $ids RETURN n \n</code></pre>\n<p>this query for lets say 180 ids is executing 22sec ins java but if i execute the query  in the memgraph lab it takes 5ms</p>\n<p>Is there something specific with the java driver that I need to take care of?</p>\n<p>the java code look like this</p>\n<pre><code>public List&lt;Noad&gt; getByKeys(Collection&lt;String&gt; keys) {\n    try (Session session = driver.session()) {\n        Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\n        params.put(&quot;ids&quot;, keys);\n        final String query = &quot;&quot;&quot;\n                MATCH (n:SomeNode)\n                WHERE n.compoundKey IN $ids\n                RETURN n\n                &quot;&quot;&quot;;\n        Result result = session.run(query, params);\n        .......\n    }\n}\n</code></pre>\n<p>Using</p>\n<p>neo4j driver</p>\n<pre><code>org.neo4j.driver:neo4j-java-driver:5.13.0\n</code></pre>\n<p>Java 21</p>\n<p>Memgraph 2.11.0 running locally in a docker</p>\n<p>settings for the driver inside quarkus app</p>\n<pre><code>   neo4j:\n    pool:\n      max-connection-pool-size: 50\n      log-leaked-sessions: true\n    uri: bolt://localhost:7687\n</code></pre>\n"},{"tags":["java","spring","eclipse","maven","spring-tool-suite"],"comments":[{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1501615661,"post_id":45441725,"comment_id":77853388,"body_markdown":"You seemed to be having internet connections problems or are behind a corporate firewall / proxy...which is not correctly configured..Furthermore you pom file looks wrong it contains absolute paths...never use this...","body":"You seemed to be having internet connections problems or are behind a corporate firewall / proxy...which is not correctly configured..Furthermore you pom file looks wrong it contains absolute paths...never use this..."}],"answers":[{"tags":[],"owner":{"account_id":10591336,"reputation":3484,"user_id":7801800,"display_name":"Anshul Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501605381,"creation_date":1501605381,"answer_id":45443266,"question_id":45441725,"body_markdown":"you need to add `maven-resources-plugin` plugin, you can fine code below:\r\n\r\n    &lt;build&gt;\r\n            &lt;pluginManagement&gt;\r\n              &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                  &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                  &lt;version&gt;2.7&lt;/version&gt;\r\n                &lt;/plugin&gt;           \r\n              &lt;/plugins&gt;\r\n            &lt;/pluginManagement&gt;   \r\n        &lt;/build&gt;\r\n\r\n\r\nadd below code into `settins.xml`:   \r\n    \r\n        &lt;proxy&gt;\r\n          &lt;id&gt;optional&lt;/id&gt;\r\n          &lt;active&gt;true&lt;/active&gt;\r\n          &lt;protocol&gt;http&lt;/protocol&gt;\r\n          &lt;username&gt;optional-proxyUser&lt;/username&gt;\r\n          &lt;password&gt;optional-proxyPassword&lt;/password&gt;\r\n          &lt;host&gt;proxy.host.net&lt;/host&gt;\r\n          &lt;port&gt;80&lt;/port&gt;\r\n          &lt;nonProxyHosts&gt;some.demo.com&lt;/nonProxyHosts&gt;\r\n        &lt;/proxy&gt;\r\n\r\n\r\nafter this add `settings.xml` into project: goto Preferences&gt;Maven&gt;User-Settings&gt;select your settings.xml and click apply and ok.\r\n\r\n","title":"on new Maven Project: Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:2.6?","body":"<p>you need to add <code>maven-resources-plugin</code> plugin, you can fine code below:</p>\n\n<pre><code>&lt;build&gt;\n        &lt;pluginManagement&gt;\n          &lt;plugins&gt;\n            &lt;plugin&gt;\n              &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n              &lt;version&gt;2.7&lt;/version&gt;\n            &lt;/plugin&gt;           \n          &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;   \n    &lt;/build&gt;\n</code></pre>\n\n<p>add below code into <code>settins.xml</code>:   </p>\n\n<pre><code>    &lt;proxy&gt;\n      &lt;id&gt;optional&lt;/id&gt;\n      &lt;active&gt;true&lt;/active&gt;\n      &lt;protocol&gt;http&lt;/protocol&gt;\n      &lt;username&gt;optional-proxyUser&lt;/username&gt;\n      &lt;password&gt;optional-proxyPassword&lt;/password&gt;\n      &lt;host&gt;proxy.host.net&lt;/host&gt;\n      &lt;port&gt;80&lt;/port&gt;\n      &lt;nonProxyHosts&gt;some.demo.com&lt;/nonProxyHosts&gt;\n    &lt;/proxy&gt;\n</code></pre>\n\n<p>after this add <code>settings.xml</code> into project: goto Preferences>Maven>User-Settings>select your settings.xml and click apply and ok.</p>\n"},{"tags":[],"owner":{"account_id":4558317,"reputation":41,"user_id":5586361,"display_name":"Arun S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543484463,"creation_date":1543484463,"answer_id":53535935,"question_id":45441725,"body_markdown":"I deleted the repository folder [found here ~/.m2/repository] and after that it worked for me.","title":"on new Maven Project: Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:2.6?","body":"<p>I deleted the repository folder [found here ~/.m2/repository] and after that it worked for me.</p>\n"}],"owner":{"account_id":10225555,"reputation":35,"user_id":7548282,"accept_rate":50,"display_name":"Marco Antonio L&#243;pez B&#225;ez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10308,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700748185,"creation_date":1501600841,"question_id":45441725,"body_markdown":"I&#39;m using Spring Tool Suite, with embebbed maven, I get this problem creating a new Maven Project. \r\nI have tried every answer given in similar posts; cleaning repository and rebuilding, proxies in settings.xml, pointing to the correct xml, using own maven and so on, what am i doing wrong?\r\nFull description of the problem:\r\n\r\n    Could not calculate build plan: Plugin org.apache.maven.plugins:maven-\r\n    resources-plugin:2.6 or one of its dependencies could not be resolved: \r\n    Failed to read artifact descriptor for org.apache.maven.plugins:maven-\r\n    resources-plugin:jar:2.6\r\n    Plugin org.apache.maven.plugins:maven-resources-plugin:2.6 or one of its \r\n    dependencies could not be resolved: Failed to read artifact descriptor for \r\n    org.apache.maven.plugins:maven-resources-plugin:jar:2.6\r\n\r\nsettins.xml\r\n\r\n    &lt;proxies&gt;&#160;\r\n    &lt;!--&#160;proxy | Specification for one proxy, to be used in connecting to the \r\n    network. | &lt;proxy&gt; &lt;id&gt;optional&lt;/id&gt; &lt;active&gt;true&lt;/active&gt; \r\n    &lt;protocol&gt;http&lt;/protocol&gt; &lt;username&gt;proxyuser&lt;/username&gt; \r\n    &lt;password&gt;proxypass&lt;/password&gt; &lt;host&gt;proxy.host.net&lt;/host&gt; &lt;port&gt;80&lt;/port&gt; \r\n    &lt;nonProxyHosts&gt;local.net|some.host.com&lt;/nonProxyHosts&gt; &lt;/proxy&gt;&#160;--&gt;\r\n    &lt;proxy&gt;\r\n\t    &lt;id&gt;proxy&lt;/id&gt;\r\n\t    &lt;active&gt;true&lt;/active&gt;\r\n\t    &lt;protocol&gt;http&lt;/protocol&gt;\r\n\t    &lt;host&gt;proxy-ccy.houston.hp.com&lt;/host&gt;\r\n\t    &lt;port&gt;8080&lt;/port&gt;\r\n    &lt;/proxy&gt;\r\n    &lt;proxy&gt;\r\n\t    &lt;id&gt;proxy1&lt;/id&gt;\r\n\t    &lt;active&gt;true&lt;/active&gt;\r\n\t    &lt;protocol&gt;http&lt;/protocol&gt;\r\n\t    &lt;host&gt;proxy.austin.hp.com&lt;/host&gt;\r\n\t    &lt;port&gt;8080&lt;/port&gt;\r\n    &lt;/proxy&gt;\r\n    &lt;/proxies&gt; \r\n\r\npom.xml\r\n\r\n\r\n   \r\n\r\n     &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.marco.arale&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-arale&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;name&gt;maven-arale&lt;/name&gt;\r\n      &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n          &lt;snapshots&gt;\r\n            &lt;enabled&gt;false&lt;/enabled&gt;\r\n          &lt;/snapshots&gt;\r\n          &lt;id&gt;central&lt;/id&gt;\r\n          &lt;name&gt;Central Repository&lt;/name&gt;\r\n          &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n      &lt;/repositories&gt;\r\n      &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n          &lt;releases&gt;\r\n            &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\r\n          &lt;/releases&gt;\r\n          &lt;snapshots&gt;\r\n            &lt;enabled&gt;false&lt;/enabled&gt;\r\n          &lt;/snapshots&gt;\r\n          &lt;id&gt;central&lt;/id&gt;\r\n          &lt;name&gt;Central Repository&lt;/name&gt;\r\n          &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\r\n        &lt;/pluginRepository&gt;\r\n      &lt;/pluginRepositories&gt;\r\n      &lt;build&gt;\r\n        &lt;sourceDirectory&gt;C:\\Users\\lopezbae\\Documents\\stsworkspace\\maven-arale\\src\\main\\java&lt;/sourceDirectory&gt;\r\n        &lt;scriptSourceDirectory&gt;C:\\Users\\lopezbae\\Documents\\stsworkspace\\maven-arale\\src\\main\\scripts&lt;/scriptSourceDirectory&gt;\r\n        &lt;testSourceDirectory&gt;C:\\Users\\lopezbae\\Documents\\stsworkspace\\maven-arale\\src\\test\\java&lt;/testSourceDirectory&gt;\r\n        &lt;outputDirectory&gt;C:\\Users\\lopezbae\\Documents\\stsworkspace\\maven-arale\\target\\classes&lt;/outputDirectory&gt;\r\n        &lt;testOutputDirectory&gt;C:\\Users\\lopezbae\\Documents\\stsworkspace\\maven-arale\\target\\test-classes&lt;/testOutputDirectory&gt;\r\n        &lt;resources&gt;\r\n          &lt;resource&gt;\r\n            &lt;directory&gt;C:\\Users\\lopezbae\\Documents\\stsworkspace\\maven-arale\\src\\main\\resources&lt;/directory&gt;\r\n          &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n        &lt;testResources&gt;\r\n          &lt;testResource&gt;\r\n            &lt;directory&gt;C:\\Users\\lopezbae\\Documents\\stsworkspace\\maven-arale\\src\\test\\resources&lt;/directory&gt;\r\n          &lt;/testResource&gt;\r\n        &lt;/testResources&gt;\r\n        &lt;directory&gt;C:\\Users\\lopezbae\\Documents\\stsworkspace\\maven-    &lt;finalName&gt;maven-arale-0.0.1-SNAPSHOT&lt;/finalName&gt;\r\n        &lt;pluginManagement&gt;arale\\target&lt;/directory&gt;\r\n          &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;1.3&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.2-beta-5&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.8&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.3.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;default-clean&lt;/id&gt;\r\n                &lt;phase&gt;clean&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;clean&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;default-testResources&lt;/id&gt;\r\n                &lt;phase&gt;process-test-resources&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;testResources&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;default-resources&lt;/id&gt;\r\n                &lt;phase&gt;process-resources&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;resources&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;default-jar&lt;/id&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;jar&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;default-compile&lt;/id&gt;\r\n                &lt;phase&gt;compile&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;compile&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;default-testCompile&lt;/id&gt;\r\n                &lt;phase&gt;test-compile&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;testCompile&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.12.4&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;default-test&lt;/id&gt;\r\n                &lt;phase&gt;test&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;test&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;default-install&lt;/id&gt;\r\n                &lt;phase&gt;install&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;install&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;default-deploy&lt;/id&gt;\r\n                &lt;phase&gt;deploy&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;deploy&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;default-site&lt;/id&gt;\r\n                &lt;phase&gt;site&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;site&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;outputDirectory&gt;C:\\Users\\lopezbae\\Documents\\stsworkspace\\maven-arale\\target\\site&lt;/outputDirectory&gt;\r\n                  &lt;reportPlugins&gt;\r\n                    &lt;reportPlugin&gt;\r\n                      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                      &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n                    &lt;/reportPlugin&gt;\r\n                  &lt;/reportPlugins&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;default-deploy&lt;/id&gt;\r\n                &lt;phase&gt;site-deploy&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;deploy&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;outputDirectory&gt;C:\\Users\\lopezbae\\Documents\\stsworkspace\\maven-arale\\target\\site&lt;/outputDirectory&gt;\r\n                  &lt;reportPlugins&gt;\r\n                    &lt;reportPlugin&gt;\r\n                      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                      &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n                    &lt;/reportPlugin&gt;\r\n                  &lt;/reportPlugins&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;configuration&gt;\r\n              &lt;outputDirectory&gt;C:\\Users\\lopezbae\\Documents\\stsworkspace\\maven-arale\\target\\site&lt;/outputDirectory&gt;\r\n              &lt;reportPlugins&gt;\r\n                &lt;reportPlugin&gt;\r\n                  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n                &lt;/reportPlugin&gt;\r\n              &lt;/reportPlugins&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n      &lt;reporting&gt;\r\n        &lt;outputDirectory&gt;C:\\Users\\lopezbae\\Documents\\stsworkspace\\maven-arale\\target\\site&lt;/outputDirectory&gt;\r\n      &lt;/reporting&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"on new Maven Project: Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:2.6?","body":"<p>I'm using Spring Tool Suite, with embebbed maven, I get this problem creating a new Maven Project. \nI have tried every answer given in similar posts; cleaning repository and rebuilding, proxies in settings.xml, pointing to the correct xml, using own maven and so on, what am i doing wrong?\nFull description of the problem:</p>\n\n<pre><code>Could not calculate build plan: Plugin org.apache.maven.plugins:maven-\nresources-plugin:2.6 or one of its dependencies could not be resolved: \nFailed to read artifact descriptor for org.apache.maven.plugins:maven-\nresources-plugin:jar:2.6\nPlugin org.apache.maven.plugins:maven-resources-plugin:2.6 or one of its \ndependencies could not be resolved: Failed to read artifact descriptor for \norg.apache.maven.plugins:maven-resources-plugin:jar:2.6\n</code></pre>\n\n<p>settins.xml</p>\n\n<pre><code>&lt;proxies&gt;\n&lt;!--proxy | Specification for one proxy, to be used in connecting to the \nnetwork. | &lt;proxy&gt; &lt;id&gt;optional&lt;/id&gt; &lt;active&gt;true&lt;/active&gt; \n&lt;protocol&gt;http&lt;/protocol&gt; &lt;username&gt;proxyuser&lt;/username&gt; \n&lt;password&gt;proxypass&lt;/password&gt; &lt;host&gt;proxy.host.net&lt;/host&gt; &lt;port&gt;80&lt;/port&gt; \n&lt;nonProxyHosts&gt;local.net|some.host.com&lt;/nonProxyHosts&gt; &lt;/proxy&gt;--&gt;\n&lt;proxy&gt;\n    &lt;id&gt;proxy&lt;/id&gt;\n    &lt;active&gt;true&lt;/active&gt;\n    &lt;protocol&gt;http&lt;/protocol&gt;\n    &lt;host&gt;proxy-ccy.houston.hp.com&lt;/host&gt;\n    &lt;port&gt;8080&lt;/port&gt;\n&lt;/proxy&gt;\n&lt;proxy&gt;\n    &lt;id&gt;proxy1&lt;/id&gt;\n    &lt;active&gt;true&lt;/active&gt;\n    &lt;protocol&gt;http&lt;/protocol&gt;\n    &lt;host&gt;proxy.austin.hp.com&lt;/host&gt;\n    &lt;port&gt;8080&lt;/port&gt;\n&lt;/proxy&gt;\n&lt;/proxies&gt; \n</code></pre>\n\n<p>pom.xml</p>\n\n<pre><code> &lt;?xml version=\"1.0\"?&gt;\n&lt;project xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\" xmlns=\"http://maven.apache.org/POM/4.0.0\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.marco.arale&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-arale&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;maven-arale&lt;/name&gt;\n  &lt;repositories&gt;\n    &lt;repository&gt;\n      &lt;snapshots&gt;\n        &lt;enabled&gt;false&lt;/enabled&gt;\n      &lt;/snapshots&gt;\n      &lt;id&gt;central&lt;/id&gt;\n      &lt;name&gt;Central Repository&lt;/name&gt;\n      &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\n    &lt;/repository&gt;\n  &lt;/repositories&gt;\n  &lt;pluginRepositories&gt;\n    &lt;pluginRepository&gt;\n      &lt;releases&gt;\n        &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\n      &lt;/releases&gt;\n      &lt;snapshots&gt;\n        &lt;enabled&gt;false&lt;/enabled&gt;\n      &lt;/snapshots&gt;\n      &lt;id&gt;central&lt;/id&gt;\n      &lt;name&gt;Central Repository&lt;/name&gt;\n      &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\n    &lt;/pluginRepository&gt;\n  &lt;/pluginRepositories&gt;\n  &lt;build&gt;\n    &lt;sourceDirectory&gt;C:\\Users\\lopezbae\\Documents\\stsworkspace\\maven-arale\\src\\main\\java&lt;/sourceDirectory&gt;\n    &lt;scriptSourceDirectory&gt;C:\\Users\\lopezbae\\Documents\\stsworkspace\\maven-arale\\src\\main\\scripts&lt;/scriptSourceDirectory&gt;\n    &lt;testSourceDirectory&gt;C:\\Users\\lopezbae\\Documents\\stsworkspace\\maven-arale\\src\\test\\java&lt;/testSourceDirectory&gt;\n    &lt;outputDirectory&gt;C:\\Users\\lopezbae\\Documents\\stsworkspace\\maven-arale\\target\\classes&lt;/outputDirectory&gt;\n    &lt;testOutputDirectory&gt;C:\\Users\\lopezbae\\Documents\\stsworkspace\\maven-arale\\target\\test-classes&lt;/testOutputDirectory&gt;\n    &lt;resources&gt;\n      &lt;resource&gt;\n        &lt;directory&gt;C:\\Users\\lopezbae\\Documents\\stsworkspace\\maven-arale\\src\\main\\resources&lt;/directory&gt;\n      &lt;/resource&gt;\n    &lt;/resources&gt;\n    &lt;testResources&gt;\n      &lt;testResource&gt;\n        &lt;directory&gt;C:\\Users\\lopezbae\\Documents\\stsworkspace\\maven-arale\\src\\test\\resources&lt;/directory&gt;\n      &lt;/testResource&gt;\n    &lt;/testResources&gt;\n    &lt;directory&gt;C:\\Users\\lopezbae\\Documents\\stsworkspace\\maven-    &lt;finalName&gt;maven-arale-0.0.1-SNAPSHOT&lt;/finalName&gt;\n    &lt;pluginManagement&gt;arale\\target&lt;/directory&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n          &lt;version&gt;1.3&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.2-beta-5&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.8&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.3.2&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.5&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;default-clean&lt;/id&gt;\n            &lt;phase&gt;clean&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;clean&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.6&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;default-testResources&lt;/id&gt;\n            &lt;phase&gt;process-test-resources&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;testResources&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n          &lt;execution&gt;\n            &lt;id&gt;default-resources&lt;/id&gt;\n            &lt;phase&gt;process-resources&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;resources&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.4&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;default-jar&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;jar&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.1&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;default-compile&lt;/id&gt;\n            &lt;phase&gt;compile&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;compile&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n          &lt;execution&gt;\n            &lt;id&gt;default-testCompile&lt;/id&gt;\n            &lt;phase&gt;test-compile&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;testCompile&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.12.4&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;default-test&lt;/id&gt;\n            &lt;phase&gt;test&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;test&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.4&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;default-install&lt;/id&gt;\n            &lt;phase&gt;install&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;install&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.7&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;default-deploy&lt;/id&gt;\n            &lt;phase&gt;deploy&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;deploy&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;default-site&lt;/id&gt;\n            &lt;phase&gt;site&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;site&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;outputDirectory&gt;C:\\Users\\lopezbae\\Documents\\stsworkspace\\maven-arale\\target\\site&lt;/outputDirectory&gt;\n              &lt;reportPlugins&gt;\n                &lt;reportPlugin&gt;\n                  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                  &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n                &lt;/reportPlugin&gt;\n              &lt;/reportPlugins&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n          &lt;execution&gt;\n            &lt;id&gt;default-deploy&lt;/id&gt;\n            &lt;phase&gt;site-deploy&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;deploy&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;outputDirectory&gt;C:\\Users\\lopezbae\\Documents\\stsworkspace\\maven-arale\\target\\site&lt;/outputDirectory&gt;\n              &lt;reportPlugins&gt;\n                &lt;reportPlugin&gt;\n                  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                  &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n                &lt;/reportPlugin&gt;\n              &lt;/reportPlugins&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n          &lt;outputDirectory&gt;C:\\Users\\lopezbae\\Documents\\stsworkspace\\maven-arale\\target\\site&lt;/outputDirectory&gt;\n          &lt;reportPlugins&gt;\n            &lt;reportPlugin&gt;\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n              &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n            &lt;/reportPlugin&gt;\n          &lt;/reportPlugins&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  &lt;reporting&gt;\n    &lt;outputDirectory&gt;C:\\Users\\lopezbae\\Documents\\stsworkspace\\maven-arale\\target\\site&lt;/outputDirectory&gt;\n  &lt;/reporting&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1700745928,"post_id":77537202,"comment_id":136693992,"body_markdown":"You&#39;ve defined `Err` as being generic on types `T` and `E`. **Why** are you adding `newT` and `newE`? The problem is `E error` is not a `newE`.","body":"You&#39;ve defined <code>Err</code> as being generic on types <code>T</code> and <code>E</code>. <b>Why</b> are you adding <code>newT</code> and <code>newE</code>? The problem is <code>E error</code> is not a <code>newE</code>."},{"owner":{"account_id":39208,"reputation":251211,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":4,"creation_date":1700745950,"post_id":77537202,"comment_id":136693999,"body_markdown":"Because `E` could be `MyCoolError` (`extends MyErrror`) and `newE` could be `MyEvenCoolerError` (`extends MyError`), but `MyEvenCoolerError` is not assignable to `MyCoolError` and vice versa","body":"Because <code>E</code> could be <code>MyCoolError</code> (<code>extends MyErrror</code>) and <code>newE</code> could be <code>MyEvenCoolerError</code> (<code>extends MyError</code>), but <code>MyEvenCoolerError</code> is not assignable to <code>MyCoolError</code> and vice versa"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":1,"creation_date":1700746990,"post_id":77537202,"comment_id":136694157,"body_markdown":"&quot;*Isn&#39;t both `E` and `newE` have the same bounds so they should be interchangeable?*&quot; - No, that&#39;s where it falls apart. `E` and `newE` could still be of different types, just as @knittl mentioned. For the same reason you can&#39;t interchange `String` and `Integer`, even though they both extend `Object`","body":"&quot;<i>Isn&#39;t both <code>E</code> and <code>newE</code> have the same bounds so they should be interchangeable?</i>&quot; - No, that&#39;s where it falls apart. <code>E</code> and <code>newE</code> could still be of different types, just as @knittl mentioned. For the same reason you can&#39;t interchange <code>String</code> and <code>Integer</code>, even though they both extend <code>Object</code>"}],"answers":[{"tags":[],"owner":{"account_id":8333120,"reputation":832,"user_id":12868186,"display_name":"wpnpeiris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700746313,"creation_date":1700745956,"answer_id":77537248,"question_id":77537202,"body_markdown":"It would have the same bound if it was defined as the following\r\n\r\n    public class Err&lt;T, E extends MyError&gt; {\r\n        private final E error;\r\n    \r\n        Err(E error) {\r\n            this.error = error;\r\n        }\r\n    \r\n        public  Err&lt;T, E&gt; doSomething() {\r\n            return new Err&lt;&gt;(error);\r\n        }\r\n    }","title":"Java different generic bounds extending the same class","body":"<p>It would have the same bound if it was defined as the following</p>\n<pre><code>public class Err&lt;T, E extends MyError&gt; {\n    private final E error;\n\n    Err(E error) {\n        this.error = error;\n    }\n\n    public  Err&lt;T, E&gt; doSomething() {\n        return new Err&lt;&gt;(error);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":45934,"reputation":203639,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700748116,"creation_date":1700745970,"answer_id":77537250,"question_id":77537202,"body_markdown":"The compiler (or IntelliJ) says that because the type parameters `E` and `newE` are completely separate type parameters.\r\n\r\nNote that the field `error` is of type `E`, and inside your method you are treating it as if it is of type `newE` - you get an error because those are not the same types.\r\n\r\nWhy did you declare the type parameters `newT` and `newE` on the method? You could just use the `T` and `E` that were declared on the class:\r\n\r\n    class Err&lt;T, E extends MyError&gt; {\r\n        private E error;\r\n    \r\n        Err(E error) {\r\n            this.error = error;\r\n        }\r\n    \r\n        public Err&lt;T, E&gt; doSomething() {\r\n            return new Err&lt;&gt;(error);\r\n        }\r\n    }\r\n\r\n(Note: class `Err` in your example is also missing a constructor).\r\n\r\n","title":"Java different generic bounds extending the same class","body":"<p>The compiler (or IntelliJ) says that because the type parameters <code>E</code> and <code>newE</code> are completely separate type parameters.</p>\n<p>Note that the field <code>error</code> is of type <code>E</code>, and inside your method you are treating it as if it is of type <code>newE</code> - you get an error because those are not the same types.</p>\n<p>Why did you declare the type parameters <code>newT</code> and <code>newE</code> on the method? You could just use the <code>T</code> and <code>E</code> that were declared on the class:</p>\n<pre><code>class Err&lt;T, E extends MyError&gt; {\n    private E error;\n\n    Err(E error) {\n        this.error = error;\n    }\n\n    public Err&lt;T, E&gt; doSomething() {\n        return new Err&lt;&gt;(error);\n    }\n}\n</code></pre>\n<p>(Note: class <code>Err</code> in your example is also missing a constructor).</p>\n"}],"owner":{"account_id":6122397,"reputation":492,"user_id":4775534,"accept_rate":86,"display_name":"Dmitry Zlykh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77537250,"answer_count":2,"score":0,"last_activity_date":1700748116,"creation_date":1700745506,"question_id":77537202,"body_markdown":"What is a reason behind class generic declaration and method generic argument `E extends MyError` are not considered to have the same bound?\r\n\r\n```\r\nclass Err&lt;T, E extends MyError&gt; {\r\n    private E error;\r\n\r\n    public &lt;newT, newE extends MyError&gt; Err&lt;newT, newE&gt; doSomething() {\r\n        return new Err&lt;newT, newE&gt;(error);\r\n    }\r\n}\r\n```\r\nIntelliJ says `Required type:newE, Provided:E`\r\n\r\nIsn&#39;t both `E` and `newE` have the same bounds so they should be interchangeable? Meaning `newE` return type extends `MyError` and E also extends `MyError`, so why can&#39;t I use error value if both `E` and `newE` bounds are the same (e.g. extends MyError)?\r\n\r\nHow can I keep this `X extends Y` dynamic behavior so that everything that satisfies `extends MyError` can be used to instantiate `Err` class?","title":"Java different generic bounds extending the same class","body":"<p>What is a reason behind class generic declaration and method generic argument <code>E extends MyError</code> are not considered to have the same bound?</p>\n<pre><code>class Err&lt;T, E extends MyError&gt; {\n    private E error;\n\n    public &lt;newT, newE extends MyError&gt; Err&lt;newT, newE&gt; doSomething() {\n        return new Err&lt;newT, newE&gt;(error);\n    }\n}\n</code></pre>\n<p>IntelliJ says <code>Required type:newE, Provided:E</code></p>\n<p>Isn't both <code>E</code> and <code>newE</code> have the same bounds so they should be interchangeable? Meaning <code>newE</code> return type extends <code>MyError</code> and E also extends <code>MyError</code>, so why can't I use error value if both <code>E</code> and <code>newE</code> bounds are the same (e.g. extends MyError)?</p>\n<p>How can I keep this <code>X extends Y</code> dynamic behavior so that everything that satisfies <code>extends MyError</code> can be used to instantiate <code>Err</code> class?</p>\n"},{"tags":["java","exception","transactions","error-handling"],"comments":[{"owner":{"account_id":100718,"reputation":43156,"user_id":271357,"accept_rate":83,"display_name":"dacwe"},"score":0,"creation_date":1293627192,"post_id":4554230,"comment_id":4993178,"body_markdown":"Why not rethrow the a non-checked exception like `throw new RuntimeException(e)`?","body":"Why not rethrow the a non-checked exception like <code>throw new RuntimeException(e)</code>?"},{"owner":{"account_id":52616,"reputation":1042896,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":3,"creation_date":1293627647,"post_id":4554230,"comment_id":4993244,"body_markdown":"@dacwe: -gak- If the code doesn&#39;t *handle* the checked exception, it shouldn&#39;t lie in its signature by hiding it in a runtime exception. Handle it, or declare that you&#39;re not handling it, but don&#39;t hide it.","body":"@dacwe: -gak- If the code doesn&#39;t <i>handle</i> the checked exception, it shouldn&#39;t lie in its signature by hiding it in a runtime exception. Handle it, or declare that you&#39;re not handling it, but don&#39;t hide it."},{"owner":{"account_id":100718,"reputation":43156,"user_id":271357,"accept_rate":83,"display_name":"dacwe"},"score":0,"creation_date":1293628791,"post_id":4554230,"comment_id":4993403,"body_markdown":"@T.J. Crowder: What if it is like `Integer.parseInt(..)` then? Well, I see your point - I would change the signature of the method! :)","body":"@T.J. Crowder: What if it is like <code>Integer.parseInt(..)</code> then? Well, I see your point - I would change the signature of the method! :)"}],"answers":[{"tags":[],"owner":{"account_id":52616,"reputation":1042896,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1293629563,"creation_date":1293627153,"answer_id":4554253,"question_id":4554230,"body_markdown":"At least two approaches come to mind, which are usually going to be **combined** depending on what you want `foo` to do:\r\n\r\n### 1. Catch and rethrow only the relevant exceptions\r\n\r\nThere are only so many exceptions the code in your main flow can throw (probably mostly `SqlException`s). So only catch and rethrow those, and declare that you&#39;re doing so. More to the point, rethrow only the ones you&#39;re not actually handling (in your simplified sample code, you&#39;re not handling any, but your real life code is probably more subtle).\r\n\r\nMind you, some of the exceptions may be runtime exceptions, and so you may want to combine this with the below.\r\n\r\n### 2. Don&#39;t catch the exception at all\r\n\r\nLike this:\r\n\r\n    // Signature changes to include any exceptions that really can be thrown\r\n    public void foo() throws XYZException, ABCException {\r\n     // A flag indicating that the commit succeeded\r\n     boolean done = false;\r\n\r\n     begin();\r\n     try {\r\n      // Don&#39;t have any `return` statements in here (or if you do,\r\n      // set `done` to `true` first)\r\n\r\n      ...\r\n      commit();\r\n      done = true; // Commit didn&#39;t throw an exception, we&#39;re done\r\n     } finally {\r\n      // finally clause always happens regardless\r\n      if (!done) {\r\n        // We must be processing an exception; rollback\r\n        try {\r\n          rollback();\r\n        } catch (Exception e) {\r\n          // quash it (e.g., leave this block empty), we don&#39;t want\r\n          // to mask the real exception by throwing a different one\r\n        }\r\n      }\r\n     }\r\n    }\r\n\r\nNaturally your signature needs to include any exceptions that may be thrown in the main flow, but that&#39;s what you&#39;re trying to do, if I&#39;m understanding you correctly.\r\n\r\nAgain, you may well **combine** these two approaches, because you may want to *handle* some exceptions and not others.","title":"Rethrowing checked exceptions","body":"<p>At least two approaches come to mind, which are usually going to be <strong>combined</strong> depending on what you want <code>foo</code> to do:</p>\n\n<h3>1. Catch and rethrow only the relevant exceptions</h3>\n\n<p>There are only so many exceptions the code in your main flow can throw (probably mostly <code>SqlException</code>s). So only catch and rethrow those, and declare that you're doing so. More to the point, rethrow only the ones you're not actually handling (in your simplified sample code, you're not handling any, but your real life code is probably more subtle).</p>\n\n<p>Mind you, some of the exceptions may be runtime exceptions, and so you may want to combine this with the below.</p>\n\n<h3>2. Don't catch the exception at all</h3>\n\n<p>Like this:</p>\n\n<pre><code>// Signature changes to include any exceptions that really can be thrown\npublic void foo() throws XYZException, ABCException {\n // A flag indicating that the commit succeeded\n boolean done = false;\n\n begin();\n try {\n  // Don't have any `return` statements in here (or if you do,\n  // set `done` to `true` first)\n\n  ...\n  commit();\n  done = true; // Commit didn't throw an exception, we're done\n } finally {\n  // finally clause always happens regardless\n  if (!done) {\n    // We must be processing an exception; rollback\n    try {\n      rollback();\n    } catch (Exception e) {\n      // quash it (e.g., leave this block empty), we don't want\n      // to mask the real exception by throwing a different one\n    }\n  }\n }\n}\n</code></pre>\n\n<p>Naturally your signature needs to include any exceptions that may be thrown in the main flow, but that's what you're trying to do, if I'm understanding you correctly.</p>\n\n<p>Again, you may well <strong>combine</strong> these two approaches, because you may want to <em>handle</em> some exceptions and not others.</p>\n"},{"tags":[],"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1293627155,"creation_date":1293627155,"answer_id":4554254,"question_id":4554230,"body_markdown":"Wrap it with some RuntimeException which is unchecked. ","title":"Rethrowing checked exceptions","body":"<p>Wrap it with some RuntimeException which is unchecked. </p>\n"},{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1293627186,"creation_date":1293627186,"answer_id":4554261,"question_id":4554230,"body_markdown":"&gt;Adding that wouldn&#39;t make do the method&#39;s usability a lot of good either.\r\n\r\n**No**. It will be good at documentation, also caller will take care handling it.\r\n\r\n**Also See**\r\n\r\n - [exception-thrown-inside-catch-block-will-it-be-caught-again][1]  \r\n\r\n - [throws-or-try-catch][2]\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/143622/exception-thrown-inside-catch-block-will-it-be-caught-again\r\n  [2]: https://stackoverflow.com/questions/3203297/throws-or-try-catch","title":"Rethrowing checked exceptions","body":"<blockquote>\n  <p>Adding that wouldn't make do the method's usability a lot of good either.</p>\n</blockquote>\n\n<p><strong>No</strong>. It will be good at documentation, also caller will take care handling it.</p>\n\n<p><strong>Also See</strong></p>\n\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/143622/exception-thrown-inside-catch-block-will-it-be-caught-again\">exception-thrown-inside-catch-block-will-it-be-caught-again</a>  </p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/3203297/throws-or-try-catch\">throws-or-try-catch</a></p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16878,"reputation":306133,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1293627187,"creation_date":1293627187,"answer_id":4554262,"question_id":4554230,"body_markdown":"I&#39;d say that in this case rolling back *is* handling the exception appropriately.  It&#39;s one of the few cases where it&#39;s legitimate to catch and re-throw.\r\n\r\nSimply catching and logging an exception is not what I would consider handling.  Rather than rethrowing, in that case I&#39;d rather see checked exceptions added to the method signature and let it bubble up.\r\n","title":"Rethrowing checked exceptions","body":"<p>I'd say that in this case rolling back <em>is</em> handling the exception appropriately.  It's one of the few cases where it's legitimate to catch and re-throw.</p>\n\n<p>Simply catching and logging an exception is not what I would consider handling.  Rather than rethrowing, in that case I'd rather see checked exceptions added to the method signature and let it bubble up.</p>\n"},{"tags":[],"owner":{"account_id":242238,"reputation":464,"user_id":513621,"accept_rate":56,"display_name":"Gerhard Presser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1293627213,"creation_date":1293627213,"answer_id":4554266,"question_id":4554230,"body_markdown":"you may throw a subclass of RuntimeException - they don&#39;t require a catch()","title":"Rethrowing checked exceptions","body":"<p>you may throw a subclass of RuntimeException - they don't require a catch()</p>\n"},{"tags":[],"owner":{"account_id":222951,"reputation":5271,"user_id":481863,"accept_rate":90,"display_name":"Erhan Bagdemir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1293627281,"creation_date":1293627281,"answer_id":4554274,"question_id":4554230,"body_markdown":"the key point is, why should you throw a new Exception from a catch block. \r\nif you use catch then handle your exception there in your catch. If you have to inform the caller method with an exception, then don&#39;t catch the exception with try-catch, instead, sign your method with throws and let the caller catch the e xception.\r\n\r\nor throw a RuntimeException, i find this idea less useful because of lack of readability, then you don&#39;t need to sign your method with throws.","title":"Rethrowing checked exceptions","body":"<p>the key point is, why should you throw a new Exception from a catch block. \nif you use catch then handle your exception there in your catch. If you have to inform the caller method with an exception, then don't catch the exception with try-catch, instead, sign your method with throws and let the caller catch the e xception.</p>\n\n<p>or throw a RuntimeException, i find this idea less useful because of lack of readability, then you don't need to sign your method with throws.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527336,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1448355021,"creation_date":1293636432,"answer_id":4555351,"question_id":4554230,"body_markdown":"Since Java 8 we use\r\n\r\n    /**\r\n     * Cast a CheckedException as an unchecked one.\r\n     *\r\n     * @param throwable to cast\r\n     * @param &lt;T&gt; the type of the Throwable\r\n     * @return this method will never return a Throwable instance, it will just throw it.\r\n     * @throws T the throwable as an unchecked throwable\r\n     */\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public static &lt;T extends Throwable&gt; RuntimeException rethrow(Throwable throwable) throws T {\r\n        throw (T) throwable; // rely on vacuous cast\r\n    }\r\n\r\n---\r\n\r\nYou can rethrow a checked exception, but only by avoiding the compilers checked exception validation.\r\n\r\n    public void foo() throws MyCheckedException {\r\n     begin();\r\n     try {\r\n      ...\r\n      commit();\r\n     } catch (Exception e) {\r\n      rollback();\r\n      // same as throwing an exception without the compiler knowing.\r\n      Thread.currentThread().stop(e); \r\n     }\r\n    }\r\n\r\nBefore you use stop() you should read http://download.oracle.com/javase/6/docs/technotes/guides/concurrency/threadPrimitiveDeprecation.html\r\n\r\n&gt; Thread.currentThread().stop(e) .. is behaviorally identical to Java&#39;s throw operation, but circumvents the compiler&#39;s attempts to guarantee that the calling method has declared all of the checked exceptions that it may throw:","title":"Rethrowing checked exceptions","body":"<p>Since Java 8 we use</p>\n\n<pre><code>/**\n * Cast a CheckedException as an unchecked one.\n *\n * @param throwable to cast\n * @param &lt;T&gt; the type of the Throwable\n * @return this method will never return a Throwable instance, it will just throw it.\n * @throws T the throwable as an unchecked throwable\n */\n@SuppressWarnings(\"unchecked\")\npublic static &lt;T extends Throwable&gt; RuntimeException rethrow(Throwable throwable) throws T {\n    throw (T) throwable; // rely on vacuous cast\n}\n</code></pre>\n\n<hr>\n\n<p>You can rethrow a checked exception, but only by avoiding the compilers checked exception validation.</p>\n\n<pre><code>public void foo() throws MyCheckedException {\n begin();\n try {\n  ...\n  commit();\n } catch (Exception e) {\n  rollback();\n  // same as throwing an exception without the compiler knowing.\n  Thread.currentThread().stop(e); \n }\n}\n</code></pre>\n\n<p>Before you use stop() you should read <a href=\"http://download.oracle.com/javase/6/docs/technotes/guides/concurrency/threadPrimitiveDeprecation.html\" rel=\"noreferrer\">http://download.oracle.com/javase/6/docs/technotes/guides/concurrency/threadPrimitiveDeprecation.html</a></p>\n\n<blockquote>\n  <p>Thread.currentThread().stop(e) .. is behaviorally identical to Java's throw operation, but circumvents the compiler's attempts to guarantee that the calling method has declared all of the checked exceptions that it may throw:</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":118803,"reputation":2451,"user_id":310092,"display_name":"mezmo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1371565923,"creation_date":1293639047,"answer_id":4555718,"question_id":4554230,"body_markdown":"Here you&#39;ve chanced on one of the biggest religious schisms in the Java, ( if not wider ) , world. It boils down to those that feel, as TJ seems to, and I do too, that checked exceptions are valuable for many reasons, VS the Rod Johnson/Spring school that in the design of Java, checked exceptions were used in many instances where they shouldn&#39;t, say closing a resultset or socket, so because it was wrongly used in many cases, it makes them useless so all exceptions should be unchecked. There are many classes in the Spring framework that are very thin wrappers around standard Java objects, but convert checked exceptions to unchecked. It drives me berserk! \r\n\r\nAnyway, put me down as strongly agreeing with everything TJ has said, but know that you&#39;ll probably never find a &quot;right&quot; answer.\r\n","title":"Rethrowing checked exceptions","body":"<p>Here you've chanced on one of the biggest religious schisms in the Java, ( if not wider ) , world. It boils down to those that feel, as TJ seems to, and I do too, that checked exceptions are valuable for many reasons, VS the Rod Johnson/Spring school that in the design of Java, checked exceptions were used in many instances where they shouldn't, say closing a resultset or socket, so because it was wrongly used in many cases, it makes them useless so all exceptions should be unchecked. There are many classes in the Spring framework that are very thin wrappers around standard Java objects, but convert checked exceptions to unchecked. It drives me berserk! </p>\n\n<p>Anyway, put me down as strongly agreeing with everything TJ has said, but know that you'll probably never find a \"right\" answer.</p>\n"},{"tags":[],"owner":{"account_id":309680,"reputation":4046,"user_id":622266,"accept_rate":60,"display_name":"Pawel Veselov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1448353129,"creation_date":1448353129,"answer_id":33888522,"question_id":4554230,"body_markdown":"It&#39;s worth mentioning some advances in this area.\r\n\r\nFirst, in Java 7, it&#39;s possible to catch and throw generic exceptions, as long as what&#39;s declared inside the try block is caught or declared in the outer block. So this would compile:\r\n\r\n    void test() throws SQLException {\r\n      try { \r\n        conn.commit();\r\n      } catch (Throwable t) {\r\n        // do something\r\n        throw t;\r\n      }\r\n    }\r\n\r\nThis is well explained here : http://docs.oracle.com/javase/7/docs/technotes/guides/language/catch-multiple.html\r\n\r\n----------\r\n\r\nAnother way is described here : http://blog.jooq.org/2012/09/14/throw-checked-exceptions-like-runtime-exceptions-in-java/\r\n\r\nThe reason you may want to use that has often to do with lambdas, or throwing exceptions from some generic methods. I ran into this when I wanted to replace repeating constructs of:\r\n\r\n    try {\r\n      do_operation\r\n      flag_success\r\n    } catch (Throwable e) {\r\n      flag_error\r\n      throw e;\r\n    }\r\n\r\nWith using a method of:\r\n\r\n    public static void wrapExec(RunnableT s) {\r\n        try {\r\n            s.run();\r\n            flag_success\r\n        } catch (Throwable t) {\r\n            flag_error\r\n            doThrow(t);\r\n        }\r\n    }\r\n\r\nand therefore replacing the whole try/catch block with just\r\n\r\n    wrapExec(()-&gt;{do_operation})\r\n\r\n\r\n    ","title":"Rethrowing checked exceptions","body":"<p>It's worth mentioning some advances in this area.</p>\n\n<p>First, in Java 7, it's possible to catch and throw generic exceptions, as long as what's declared inside the try block is caught or declared in the outer block. So this would compile:</p>\n\n<pre><code>void test() throws SQLException {\n  try { \n    conn.commit();\n  } catch (Throwable t) {\n    // do something\n    throw t;\n  }\n}\n</code></pre>\n\n<p>This is well explained here : <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/language/catch-multiple.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/technotes/guides/language/catch-multiple.html</a></p>\n\n<hr>\n\n<p>Another way is described here : <a href=\"http://blog.jooq.org/2012/09/14/throw-checked-exceptions-like-runtime-exceptions-in-java/\" rel=\"nofollow\">http://blog.jooq.org/2012/09/14/throw-checked-exceptions-like-runtime-exceptions-in-java/</a></p>\n\n<p>The reason you may want to use that has often to do with lambdas, or throwing exceptions from some generic methods. I ran into this when I wanted to replace repeating constructs of:</p>\n\n<pre><code>try {\n  do_operation\n  flag_success\n} catch (Throwable e) {\n  flag_error\n  throw e;\n}\n</code></pre>\n\n<p>With using a method of:</p>\n\n<pre><code>public static void wrapExec(RunnableT s) {\n    try {\n        s.run();\n        flag_success\n    } catch (Throwable t) {\n        flag_error\n        doThrow(t);\n    }\n}\n</code></pre>\n\n<p>and therefore replacing the whole try/catch block with just</p>\n\n<pre><code>wrapExec(()-&gt;{do_operation})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":153319,"reputation":2930,"user_id":368491,"display_name":"Soulman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700747505,"creation_date":1700747127,"answer_id":77537396,"question_id":4554230,"body_markdown":"If you use Java 7 or newer, you can declare the function to throw the same checked exceptions as the code in the `try` block. This change is described in detail in the section [Rethrowing Exceptions with More Inclusive Type Checking][1].\r\n\r\nIn brief, you can catch a supertype of the exception types thrown from a `try` block and then rethrow it without any extra checked exceptions. So if the code in the `try` block only throws runtime exceptions, you can still catch and rethrow `Exception` or even `Throwable` without declaring any checked exceptions.\r\n\r\n[1]: https://docs.oracle.com/javase/7/docs/technotes/guides/language/catch-multiple.html","title":"Rethrowing checked exceptions","body":"<p>If you use Java 7 or newer, you can declare the function to throw the same checked exceptions as the code in the <code>try</code> block. This change is described in detail in the section <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/language/catch-multiple.html\" rel=\"nofollow noreferrer\">Rethrowing Exceptions with More Inclusive Type Checking</a>.</p>\n<p>In brief, you can catch a supertype of the exception types thrown from a <code>try</code> block and then rethrow it without any extra checked exceptions. So if the code in the <code>try</code> block only throws runtime exceptions, you can still catch and rethrow <code>Exception</code> or even <code>Throwable</code> without declaring any checked exceptions.</p>\n"}],"owner":{"account_id":31293,"reputation":43494,"user_id":85821,"accept_rate":73,"display_name":"Bart van Heukelom"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9665,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":4554253,"answer_count":10,"score":4,"last_activity_date":1700747505,"creation_date":1293627002,"question_id":4554230,"body_markdown":"    public void foo() {\r\n     begin();\r\n     try {\r\n      ...\r\n      commit();\r\n     } catch (Exception e) {\r\n      rollback();\r\n      throw e;\r\n     }\r\n    }\r\n\r\nIn the sample above, there is an error because `foo` has no `throws Exception`. Adding that wouldn&#39;t make do the method&#39;s usability a lot of good either.\r\n\r\nWhat&#39;s the best way to do this? How do you do something if an error occurs without really &quot;handling&quot; the error?","title":"Rethrowing checked exceptions","body":"<pre><code>public void foo() {\n begin();\n try {\n  ...\n  commit();\n } catch (Exception e) {\n  rollback();\n  throw e;\n }\n}\n</code></pre>\n\n<p>In the sample above, there is an error because <code>foo</code> has no <code>throws Exception</code>. Adding that wouldn't make do the method's usability a lot of good either.</p>\n\n<p>What's the best way to do this? How do you do something if an error occurs without really \"handling\" the error?</p>\n"},{"tags":["java","spring","spring-boot","docker","microservices"],"comments":[{"owner":{"account_id":6926363,"reputation":2155,"user_id":5317332,"display_name":"Alez"},"score":0,"creation_date":1685537000,"post_id":76329284,"comment_id":134673666,"body_markdown":"How are you running the Docker containers?","body":"How are you running the Docker containers?"},{"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"score":0,"creation_date":1685684864,"post_id":76329284,"comment_id":134698095,"body_markdown":"The request to `auth-server` looks to be resolved correctly but `auth-server` seems to be having some issues handling the request `/auth-service/register`. Maybe verify the logs of the `auth-server` to see if there are any errors.","body":"The request to <code>auth-server</code> looks to be resolved correctly but <code>auth-server</code> seems to be having some issues handling the request <code>&#47;auth-service&#47;register</code>. Maybe verify the logs of the <code>auth-server</code> to see if there are any errors."},{"owner":{"account_id":114470,"reputation":874,"user_id":300978,"accept_rate":80,"display_name":"brohjoe"},"score":0,"creation_date":1685820552,"post_id":76329284,"comment_id":134715692,"body_markdown":"If I use Postman to connect to the auth-server at port 9898, I can reach auth-service/register just fine.  I really don&#39;t understand the problem here.","body":"If I use Postman to connect to the auth-server at port 9898, I can reach auth-service/register just fine.  I really don&#39;t understand the problem here."}],"answers":[{"tags":[],"owner":{"account_id":21967042,"reputation":84,"user_id":16244113,"display_name":"mamJavad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685609280,"creation_date":1685609280,"answer_id":76380150,"question_id":76329284,"body_markdown":"you need to use a service discovery like netflix eureka to register your applications like auth service in this service and gateway can find auth service by name -&gt; \r\n\r\n&gt; routes:\r\n        - id: auth-service\r\n          uri: lb://auth-service\r\n          predicates:\r\n            - Path=/auth-service/**\r\n          filters:\r\n            - RewritePath=/auth-service/(?&lt;path&gt;.*), /$\\{path}\r\n\r\nI think maybe somehow if you define DNS in your docker and setting the auth service name to the auth service ip and port no need to using discovery service","title":"Spring boot 3 gateway showing 503 service_unavailable","body":"<p>you need to use a service discovery like netflix eureka to register your applications like auth service in this service and gateway can find auth service by name -&gt;</p>\n<blockquote>\n<p>routes:\n- id: auth-service\nuri: lb://auth-service\npredicates:\n- Path=/auth-service/**\nfilters:\n- RewritePath=/auth-service/(?.*), /${path}</p>\n</blockquote>\n<p>I think maybe somehow if you define DNS in your docker and setting the auth service name to the auth service ip and port no need to using discovery service</p>\n"},{"tags":[],"owner":{"account_id":17391812,"reputation":67,"user_id":12602207,"display_name":"Naveen Negi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685624350,"creation_date":1685624350,"answer_id":76382148,"question_id":76329284,"body_markdown":"The log traces you&#39;ve shared suggest that your application is attempting to connect to a service labeled &#39;auth-service&#39;, but it can&#39;t find any instances of that service. This scenario is typically seen in microservices architectures, where services discover each other using tools like Netflix&#39;s Eureka or Kubernetes service discovery.\r\n\r\nLooking at the message &quot;No servers available for service: auth-service&quot;, it seems that the service discovery component (likely Eureka, based on your POM file) isn&#39;t able to locate any registered &#39;auth-service&#39; instances.\r\n\r\nHere&#39;s a list of potential issues that you might want to investigate:\r\n\r\n1. Confirm whether the &#39;auth-service&#39; is currently operational. If it&#39;s not, you&#39;ll need to get it running.\r\n\r\n2. If the &#39;auth-service&#39; is indeed running, ensure that it&#39;s properly registered with the service discovery component (possibly Eureka). To verify this, you can check the Eureka dashboard or inspect the logs from &#39;auth-service&#39;.\r\n\r\n3. Make sure that &#39;auth-service&#39; and the gateway are on the same network. If they aren&#39;t, network issues might prevent service discovery from functioning correctly.\r\n\r\n4. Review the &#39;auth-service&#39; configuration. It should be set up with the correct Eureka server address, and its instance name should be &#39;auth-service&#39;.\r\n\r\n5. Sometimes, the issue can be a matter of timing. One service might start and try to discover other services before they&#39;ve had a chance to register with the service discovery tool. In such a case, implementing a retry mechanism or ensuring services start in the right order might help.\r\n\r\nIf you&#39;re still experiencing issues after checking these potential problems, please share more information or context about your setup so that I can provide more targeted assistance.\r\n","title":"Spring boot 3 gateway showing 503 service_unavailable","body":"<p>The log traces you've shared suggest that your application is attempting to connect to a service labeled 'auth-service', but it can't find any instances of that service. This scenario is typically seen in microservices architectures, where services discover each other using tools like Netflix's Eureka or Kubernetes service discovery.</p>\n<p>Looking at the message &quot;No servers available for service: auth-service&quot;, it seems that the service discovery component (likely Eureka, based on your POM file) isn't able to locate any registered 'auth-service' instances.</p>\n<p>Here's a list of potential issues that you might want to investigate:</p>\n<ol>\n<li><p>Confirm whether the 'auth-service' is currently operational. If it's not, you'll need to get it running.</p>\n</li>\n<li><p>If the 'auth-service' is indeed running, ensure that it's properly registered with the service discovery component (possibly Eureka). To verify this, you can check the Eureka dashboard or inspect the logs from 'auth-service'.</p>\n</li>\n<li><p>Make sure that 'auth-service' and the gateway are on the same network. If they aren't, network issues might prevent service discovery from functioning correctly.</p>\n</li>\n<li><p>Review the 'auth-service' configuration. It should be set up with the correct Eureka server address, and its instance name should be 'auth-service'.</p>\n</li>\n<li><p>Sometimes, the issue can be a matter of timing. One service might start and try to discover other services before they've had a chance to register with the service discovery tool. In such a case, implementing a retry mechanism or ensuring services start in the right order might help.</p>\n</li>\n</ol>\n<p>If you're still experiencing issues after checking these potential problems, please share more information or context about your setup so that I can provide more targeted assistance.</p>\n"},{"tags":[],"owner":{"account_id":25635314,"reputation":3,"user_id":19405000,"display_name":"chao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685671481,"creation_date":1685671417,"answer_id":76386707,"question_id":76329284,"body_markdown":"according to this tip\r\n\r\n    2023-05-25T05:45:20.461939954Z 2023-05-25 05:45:20 [,] -DEBUG [afe63e91-2] Resolved [NotFoundException: 503 SERVICE_UNAVAILABLE &quot;Unable to find instance for auth-service&quot;] for HTTP POST /auth-service/register\r\n\r\nYou can try these methods\r\n1. Check your eureka, does the eureka service have the same name as the gateway route?\r\n2. Check if your docker exposes the port?\r\n3. Your gateway is running in docker, so your routing address cannot be 127.0.0.1 or localhost, but should be an ip address of an intranet or public network\r\n\r\n","title":"Spring boot 3 gateway showing 503 service_unavailable","body":"<p>according to this tip</p>\n<pre><code>2023-05-25T05:45:20.461939954Z 2023-05-25 05:45:20 [,] -DEBUG [afe63e91-2] Resolved [NotFoundException: 503 SERVICE_UNAVAILABLE &quot;Unable to find instance for auth-service&quot;] for HTTP POST /auth-service/register\n</code></pre>\n<p>You can try these methods</p>\n<ol>\n<li>Check your eureka, does the eureka service have the same name as the gateway route?</li>\n<li>Check if your docker exposes the port?</li>\n<li>Your gateway is running in docker, so your routing address cannot be 127.0.0.1 or localhost, but should be an ip address of an intranet or public network</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":20523120,"reputation":1,"user_id":16595092,"display_name":"Douglas Martinez"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1688568656,"creation_date":1688493561,"answer_id":76614949,"question_id":76329284,"body_markdown":"\r\nremove the  \r\n\r\n    - RewritePath=/auth-service/(?&lt;path&gt;.*), /$\\{path}\r\n\r\nand add a - StripPrefix=1 and you will be able to access your service\r\n\r\n\r\nor else you should redirect\r\n\r\n    RewritePath=/auth-service/( ?&lt;path&gt;. *), /oauth/token/$\\{path} \r\n\r\n/oauth/token is the default oauth url\r\n\r\n\r\nI hope to help you\r\n\r\n","title":"Spring boot 3 gateway showing 503 service_unavailable","body":"<p>remove the</p>\n<pre><code>- RewritePath=/auth-service/(?&lt;path&gt;.*), /$\\{path}\n</code></pre>\n<p>and add a - StripPrefix=1 and you will be able to access your service</p>\n<p>or else you should redirect</p>\n<pre><code>RewritePath=/auth-service/( ?&lt;path&gt;. *), /oauth/token/$\\{path} \n</code></pre>\n<p>/oauth/token is the default oauth url</p>\n<p>I hope to help you</p>\n"},{"tags":[],"owner":{"account_id":24234267,"reputation":16,"user_id":18187616,"display_name":"Giovanni Cannarile"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700747154,"creation_date":1700747154,"answer_id":77537399,"question_id":76329284,"body_markdown":"I had the same issue and I&#39;ve solved by simply adding the server context path to the service name you&#39;ve provided in your yaml. I&#39;m pretty sure that you, like me, have forgotten to insert the server context path of the authentication service.\r\nSo suppose your auth service acts at context path &quot;/auth&quot;, then you need to modify your gateway configuration like below\r\n\r\n    lb://auth-service/auth\r\n    \r\nThis happens because eureka service registers only the host (localhost in this case) and the port the service is listening to. So basically, you are sending your requests to the wrong path, that&#39;s the reason why you are getting NotFound","title":"Spring boot 3 gateway showing 503 service_unavailable","body":"<p>I had the same issue and I've solved by simply adding the server context path to the service name you've provided in your yaml. I'm pretty sure that you, like me, have forgotten to insert the server context path of the authentication service.\nSo suppose your auth service acts at context path &quot;/auth&quot;, then you need to modify your gateway configuration like below</p>\n<pre><code>lb://auth-service/auth\n</code></pre>\n<p>This happens because eureka service registers only the host (localhost in this case) and the port the service is listening to. So basically, you are sending your requests to the wrong path, that's the reason why you are getting NotFound</p>\n"}],"owner":{"account_id":114470,"reputation":874,"user_id":300978,"accept_rate":80,"display_name":"brohjoe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1495,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1700747154,"creation_date":1684993967,"question_id":76329284,"body_markdown":"I&#39;m getting a `NotFoundException: 503 SERVICE_UNAVAILABLE` exception in the gateway-server logs.  I&#39;m running microservices in docker containers.  I have an `auth-service` microservice which handles authentication and Jwt. I can connect directly to the auth-service using Postman and register, validate and receive tokens via the auth-service&#39;s AuthController. However, using the gateway causes the 503 error.  Since the problem is with the gateway, I will highlight pertinent gateway code:\r\n\r\n***SecurityConfig***\r\n```\r\n\r\npackage com.microservices.gatewayserver.config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.web.reactive.EnableWebFluxSecurity;\r\nimport org.springframework.security.config.web.server.ServerHttpSecurity;\r\nimport org.springframework.security.web.server.SecurityWebFilterChain;\r\n\r\n@Configuration\r\n@EnableWebFluxSecurity\r\npublic class SecurityConfig {\r\n//Configures security settings for the gateway server. Authentication uses JWT tokens\r\n//    for the pathMatchers and disables CSRF protection.\r\n    @Bean\r\n    public SecurityWebFilterChain securityWebFilterChain(ServerHttpSecurity http) {\r\n        http.authorizeExchange(exchanges -&gt; exchanges\r\n                        .pathMatchers(&quot;/login-service/**&quot;).authenticated()\r\n                        .pathMatchers(&quot;/employee-service/**&quot;).authenticated()\r\n                        .pathMatchers(&quot;/registration-service/**&quot;).authenticated()\r\n                        .pathMatchers(&quot;/auth-service/**&quot;).permitAll())\r\n                        //.pathMatchers(&quot;/actuator/**&quot;).permitAll())\r\n                .oauth2ResourceServer()\r\n                .jwt();\r\n        http.csrf().disable();\r\n        return http.build();\r\n    }\r\n\r\n}\r\n```\r\n***GatewayServerApplication***\r\n```\r\npackage com.microservices.gatewayserver;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.cloud.client.discovery.EnableDiscoveryClient;\r\nimport org.springframework.cloud.loadbalancer.annotation.LoadBalancerClient;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\n@SpringBootApplication\r\n@EnableDiscoveryClient\r\n@LoadBalancerClient(name= &quot;auth-service&quot;)\r\npublic class GatewayServerApplication {\r\n\r\n   public static final Logger LOGGER = LoggerFactory\r\n           .getLogger(GatewayServerApplication.class);\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(GatewayServerApplication.class, args);\r\n    }\r\n\r\n```\r\n***application.yml***\r\n```\r\nserver:\r\n  port: 8097\r\n\r\nspring:\r\n  application:\r\n    name: gateway-service\r\n  output:\r\n    ansi:\r\n      enabled: always\r\n  cloud:\r\n    config:\r\n      enabled: false\r\n    gateway:\r\n      discovery:\r\n        locator:\r\n          enabled: true\r\n      routes:\r\n        - id: auth-service\r\n          uri: lb://auth-service\r\n          predicates:\r\n            - Path=/auth-service/**\r\n          filters:\r\n            - RewritePath=/auth-service/(?&lt;path&gt;.*), /$\\{path}\r\n\r\n        - id: employee-service\r\n          uri: lb://employee-service\r\n          predicates:\r\n            - Path=/employee/**\r\n          filters:\r\n            - RewritePath=/employee/(?&lt;path&gt;.*), /$\\{path}\r\n\r\n        - id: login-service\r\n          uri: lb://login-service\r\n          predicates:\r\n            - Path=/login/**\r\n          filters:\r\n            - RewritePath=/login/(?&lt;path&gt;.*), /$\\{path}\r\n\r\n        - id: registration-service\r\n          uri: lb://registration-service\r\n          predicates:\r\n            - Path=/registration/**\r\n          filters:\r\n            - RewritePath=/registration/(?&lt;path&gt;.*), /$\\{path}\r\n\r\n        - id: openapi\r\n          uri: http://localhost:${server.port}\r\n          predicates:\r\n            - Path=/v3/api-docs/**\r\n          filters:\r\n            - RewritePath=/v3/api-docs/(?&lt;path&gt;.*), /$\\{path}/v3/api-docs\r\n\r\n  main:\r\n    web-application-type: reactive\r\n\r\n  security:\r\n    oauth2:\r\n      resourceserver:\r\n        jwt:\r\n          jwk-set-uri: http://localhost:7080/realms/master/protocol/openid-connect/certs\r\neureka:\r\n  client:\r\n    serviceUrl:\r\n      defaultZone: http://discovery-service-container:8761/eureka/\r\n\r\nspringdoc:\r\n  swagger-ui:\r\n    urls:\r\n      - name: auth\r\n        url: /v3/api-docs/auth\r\n      - name: employee\r\n        url: /v3/api-docs/employee\r\n      - name: login\r\n        url: /v3/api-docs/login\r\n      - name: registration\r\n        url: /v3/api-docs/registration\r\n\r\nlogging:\r\n  pattern:\r\n    console: &quot;%d{yyyy-MM-dd HH:mm:ss} [%X{traceId:-},%X{spanId:-}] ${LOG_LEVEL_PATTERN:-%5p} %m%n&quot;\r\n  level:\r\n    springframework:\r\n      boot:\r\n        autoconfigure: DEBUG\r\n    web: DEBUG\r\n    root: DEBUG\r\n\r\n\r\n\r\n```\r\n***POM***\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.6&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;gateway-server&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.6-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;spring-cloud.version&gt;2022.0.2&lt;/spring-cloud.version&gt;\r\n        &lt;sonar.moduleKey&gt;${project.artifactId}&lt;/sonar.moduleKey&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-loadbalancer&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micrometer-tracing-bridge-otel&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;\r\n            &lt;artifactId&gt;opentelemetry-exporter-zipkin&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-oauth2-resource-server&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n                &lt;artifactId&gt;micrometer-tracing-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${micrometer-tracing.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\r\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;true&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;spring-milestones&lt;/id&gt;\r\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\r\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;true&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/pluginRepository&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;spring-milestones&lt;/id&gt;\r\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n\r\n\r\n&lt;/project&gt;\r\n```\r\n***Stacktrace***\r\n```\r\n2023-05-25 05:45:20 [,] -DEBUG Trying to match using PathMatcherServerWebExchangeMatcher{pattern=&#39;/auth-service/**&#39;, method=null}\r\n2023-05-25T05:45:20.457679873Z 2023-05-25 05:45:20 [,] -DEBUG Checking match of request : &#39;/auth-service/register&#39;; against &#39;/auth-service/**&#39;\r\n2023-05-25T05:45:20.457699175Z 2023-05-25 05:45:20 [,] -DEBUG matched\r\n2023-05-25T05:45:20.457742344Z 2023-05-25 05:45:20 [,] -DEBUG Checking authorization on &#39;/auth-service/register&#39; using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda$648/0x00000008010ce248@1b9bc02\r\n2023-05-25T05:45:20.458327743Z 2023-05-25 05:45:20 [,] -DEBUG Authorization successful\r\n2023-05-25T05:45:20.459204178Z 2023-05-25 05:45:20 [,] -DEBUG Route matched: auth-service\r\n2023-05-25T05:45:20.459229258Z 2023-05-25 05:45:20 [,] -DEBUG Mapping [Exchange: POST http://localhost:8097/auth-service/register] to Route{id=&#39;auth-service&#39;, uri=lb://auth-service, order=0, predicate=Paths: [/auth-service/**], match trailing slash: true, gatewayFilters=[[[RewritePath /auth-service/(?&lt;path&gt;.*) = &#39;/${path}&#39;], order = 1]], metadata={}}\r\n2023-05-25T05:45:20.459233539Z 2023-05-25 05:45:20 [,] -DEBUG [afe63e91-2] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@363dab18\r\n2023-05-25T05:45:20.459345964Z 2023-05-25 05:45:20 [,] -DEBUG Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@6a74d228}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@720653c2}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@36bc415e}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@3e134896}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@2e3a5237}, order = 0], [[RewritePath /auth-service/(?&lt;path&gt;.*) = &#39;/${path}&#39;], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@349d0836}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@301d8120}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@6d367020}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@72ba28ee}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@72458efc}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6a714237}, order = 2147483647]]\r\n2023-05-25T05:45:20.460796164Z 2023-05-25 05:45:20 [,] - WARN No servers available for service: auth-service\r\n2023-05-25T05:45:20.461939954Z 2023-05-25 05:45:20 [,] -DEBUG [afe63e91-2] Resolved [NotFoundException: 503 SERVICE_UNAVAILABLE &quot;Unable to find instance for auth-service&quot;] for HTTP POST /auth-service/register\r\n2023-05-25T05:45:20.462477063Z 2023-05-25 05:45:20 [,] -DEBUG [afe63e91-2] Encoding [{timestamp=Thu May 25 05:45:20 GMT 2023, path=/auth-service/register, status=503, error=Service Unav (truncated)...]\r\n2023-05-25T05:45:20.467139970Z 2023-05-25 05:45:20 [,] -DEBUG [afe63e91-2, L:/172.27.0.9:8097 - R:/172.27.0.1:58344] Decreasing pending responses, now 0\r\n2023-05-25T05:45:20.468226365Z 2023-05-25 05:45:20 [,] -DEBUG [afe63e91-2] Completed 503 SERVICE_UNAVAILABLE\r\n2023-05-25T05:45:20.468294940Z 2023-05-25 05:45:20 [,] -DEBUG [afe63e91-2, L:/172.27.0.9:8097 - R:/172.27.0.1:58344] Last HTTP response frame\r\n```\r\n\r\n ","title":"Spring boot 3 gateway showing 503 service_unavailable","body":"<p>I'm getting a <code>NotFoundException: 503 SERVICE_UNAVAILABLE</code> exception in the gateway-server logs.  I'm running microservices in docker containers.  I have an <code>auth-service</code> microservice which handles authentication and Jwt. I can connect directly to the auth-service using Postman and register, validate and receive tokens via the auth-service's AuthController. However, using the gateway causes the 503 error.  Since the problem is with the gateway, I will highlight pertinent gateway code:</p>\n<p><em><strong>SecurityConfig</strong></em></p>\n<pre><code>\npackage com.microservices.gatewayserver.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.reactive.EnableWebFluxSecurity;\nimport org.springframework.security.config.web.server.ServerHttpSecurity;\nimport org.springframework.security.web.server.SecurityWebFilterChain;\n\n@Configuration\n@EnableWebFluxSecurity\npublic class SecurityConfig {\n//Configures security settings for the gateway server. Authentication uses JWT tokens\n//    for the pathMatchers and disables CSRF protection.\n    @Bean\n    public SecurityWebFilterChain securityWebFilterChain(ServerHttpSecurity http) {\n        http.authorizeExchange(exchanges -&gt; exchanges\n                        .pathMatchers(&quot;/login-service/**&quot;).authenticated()\n                        .pathMatchers(&quot;/employee-service/**&quot;).authenticated()\n                        .pathMatchers(&quot;/registration-service/**&quot;).authenticated()\n                        .pathMatchers(&quot;/auth-service/**&quot;).permitAll())\n                        //.pathMatchers(&quot;/actuator/**&quot;).permitAll())\n                .oauth2ResourceServer()\n                .jwt();\n        http.csrf().disable();\n        return http.build();\n    }\n\n}\n</code></pre>\n<p><em><strong>GatewayServerApplication</strong></em></p>\n<pre><code>package com.microservices.gatewayserver;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cloud.client.discovery.EnableDiscoveryClient;\nimport org.springframework.cloud.loadbalancer.annotation.LoadBalancerClient;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@SpringBootApplication\n@EnableDiscoveryClient\n@LoadBalancerClient(name= &quot;auth-service&quot;)\npublic class GatewayServerApplication {\n\n   public static final Logger LOGGER = LoggerFactory\n           .getLogger(GatewayServerApplication.class);\n\n    public static void main(String[] args) {\n        SpringApplication.run(GatewayServerApplication.class, args);\n    }\n\n</code></pre>\n<p><em><strong>application.yml</strong></em></p>\n<pre><code>server:\n  port: 8097\n\nspring:\n  application:\n    name: gateway-service\n  output:\n    ansi:\n      enabled: always\n  cloud:\n    config:\n      enabled: false\n    gateway:\n      discovery:\n        locator:\n          enabled: true\n      routes:\n        - id: auth-service\n          uri: lb://auth-service\n          predicates:\n            - Path=/auth-service/**\n          filters:\n            - RewritePath=/auth-service/(?&lt;path&gt;.*), /$\\{path}\n\n        - id: employee-service\n          uri: lb://employee-service\n          predicates:\n            - Path=/employee/**\n          filters:\n            - RewritePath=/employee/(?&lt;path&gt;.*), /$\\{path}\n\n        - id: login-service\n          uri: lb://login-service\n          predicates:\n            - Path=/login/**\n          filters:\n            - RewritePath=/login/(?&lt;path&gt;.*), /$\\{path}\n\n        - id: registration-service\n          uri: lb://registration-service\n          predicates:\n            - Path=/registration/**\n          filters:\n            - RewritePath=/registration/(?&lt;path&gt;.*), /$\\{path}\n\n        - id: openapi\n          uri: http://localhost:${server.port}\n          predicates:\n            - Path=/v3/api-docs/**\n          filters:\n            - RewritePath=/v3/api-docs/(?&lt;path&gt;.*), /$\\{path}/v3/api-docs\n\n  main:\n    web-application-type: reactive\n\n  security:\n    oauth2:\n      resourceserver:\n        jwt:\n          jwk-set-uri: http://localhost:7080/realms/master/protocol/openid-connect/certs\neureka:\n  client:\n    serviceUrl:\n      defaultZone: http://discovery-service-container:8761/eureka/\n\nspringdoc:\n  swagger-ui:\n    urls:\n      - name: auth\n        url: /v3/api-docs/auth\n      - name: employee\n        url: /v3/api-docs/employee\n      - name: login\n        url: /v3/api-docs/login\n      - name: registration\n        url: /v3/api-docs/registration\n\nlogging:\n  pattern:\n    console: &quot;%d{yyyy-MM-dd HH:mm:ss} [%X{traceId:-},%X{spanId:-}] ${LOG_LEVEL_PATTERN:-%5p} %m%n&quot;\n  level:\n    springframework:\n      boot:\n        autoconfigure: DEBUG\n    web: DEBUG\n    root: DEBUG\n\n\n\n</code></pre>\n<p><em><strong>POM</strong></em></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;gateway-server&lt;/artifactId&gt;\n    &lt;version&gt;3.0.6-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2022.0.2&lt;/spring-cloud.version&gt;\n        &lt;sonar.moduleKey&gt;${project.artifactId}&lt;/sonar.moduleKey&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-loadbalancer&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n            &lt;artifactId&gt;micrometer-tracing-bridge-otel&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;\n            &lt;artifactId&gt;opentelemetry-exporter-zipkin&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-resource-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n                &lt;artifactId&gt;micrometer-tracing-bom&lt;/artifactId&gt;\n                &lt;version&gt;${micrometer-tracing.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n<p><em><strong>Stacktrace</strong></em></p>\n<pre><code>2023-05-25 05:45:20 [,] -DEBUG Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/auth-service/**', method=null}\n2023-05-25T05:45:20.457679873Z 2023-05-25 05:45:20 [,] -DEBUG Checking match of request : '/auth-service/register'; against '/auth-service/**'\n2023-05-25T05:45:20.457699175Z 2023-05-25 05:45:20 [,] -DEBUG matched\n2023-05-25T05:45:20.457742344Z 2023-05-25 05:45:20 [,] -DEBUG Checking authorization on '/auth-service/register' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda$648/0x00000008010ce248@1b9bc02\n2023-05-25T05:45:20.458327743Z 2023-05-25 05:45:20 [,] -DEBUG Authorization successful\n2023-05-25T05:45:20.459204178Z 2023-05-25 05:45:20 [,] -DEBUG Route matched: auth-service\n2023-05-25T05:45:20.459229258Z 2023-05-25 05:45:20 [,] -DEBUG Mapping [Exchange: POST http://localhost:8097/auth-service/register] to Route{id='auth-service', uri=lb://auth-service, order=0, predicate=Paths: [/auth-service/**], match trailing slash: true, gatewayFilters=[[[RewritePath /auth-service/(?&lt;path&gt;.*) = '/${path}'], order = 1]], metadata={}}\n2023-05-25T05:45:20.459233539Z 2023-05-25 05:45:20 [,] -DEBUG [afe63e91-2] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@363dab18\n2023-05-25T05:45:20.459345964Z 2023-05-25 05:45:20 [,] -DEBUG Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@6a74d228}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@720653c2}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@36bc415e}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@3e134896}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@2e3a5237}, order = 0], [[RewritePath /auth-service/(?&lt;path&gt;.*) = '/${path}'], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@349d0836}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@301d8120}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@6d367020}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@72ba28ee}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@72458efc}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6a714237}, order = 2147483647]]\n2023-05-25T05:45:20.460796164Z 2023-05-25 05:45:20 [,] - WARN No servers available for service: auth-service\n2023-05-25T05:45:20.461939954Z 2023-05-25 05:45:20 [,] -DEBUG [afe63e91-2] Resolved [NotFoundException: 503 SERVICE_UNAVAILABLE &quot;Unable to find instance for auth-service&quot;] for HTTP POST /auth-service/register\n2023-05-25T05:45:20.462477063Z 2023-05-25 05:45:20 [,] -DEBUG [afe63e91-2] Encoding [{timestamp=Thu May 25 05:45:20 GMT 2023, path=/auth-service/register, status=503, error=Service Unav (truncated)...]\n2023-05-25T05:45:20.467139970Z 2023-05-25 05:45:20 [,] -DEBUG [afe63e91-2, L:/172.27.0.9:8097 - R:/172.27.0.1:58344] Decreasing pending responses, now 0\n2023-05-25T05:45:20.468226365Z 2023-05-25 05:45:20 [,] -DEBUG [afe63e91-2] Completed 503 SERVICE_UNAVAILABLE\n2023-05-25T05:45:20.468294940Z 2023-05-25 05:45:20 [,] -DEBUG [afe63e91-2, L:/172.27.0.9:8097 - R:/172.27.0.1:58344] Last HTTP response frame\n</code></pre>\n"},{"tags":["java","spring-boot","ldap"],"comments":[{"owner":{"account_id":1239958,"reputation":39014,"user_id":1202807,"display_name":"Gabriel Luci"},"score":0,"creation_date":1685450814,"post_id":76340351,"comment_id":134658999,"body_markdown":"You should be able to get the rest using [Paged Search Results](https://docs.spring.io/spring-ldap/docs/1.3.2.RELEASE/reference/html/processor.html#:~:text=5.3.%C2%A0Paged%20Search%20Results)","body":"You should be able to get the rest using <a href=\"https://docs.spring.io/spring-ldap/docs/1.3.2.RELEASE/reference/html/processor.html#:~:text=5.3.%C2%A0Paged%20Search%20Results\" rel=\"nofollow noreferrer\">Paged Search Results</a>"}],"owner":{"account_id":27831680,"reputation":83,"user_id":21249956,"display_name":"Kumar Sourav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700746652,"creation_date":1685100339,"question_id":76340351,"body_markdown":"   \r\n\r\n     public List&lt;LdapUserDetails&gt; findLdapUsers(String filter){\r\n        List&lt;LdapUserDetails&gt; subUsers = new ArrayList&lt;&gt;();\r\n        boolean finished = true;\r\n        int count = 0;\r\n        do {try {\r\n         subUsers = ldapTemplate.search(BASE_EU, filter, new PersonAttributesMapper());\r\n             System.out.println(subUsers.size());\r\n            } catch (Exception e) {\r\n            \tSystem.out.println(&quot;Catch Error &quot;+e);\r\n                if (e instanceof CommunicationException) {\r\n                    finished = false;\r\n                }\r\n            }\r\n            if (!finished) {\r\n                count++;\r\n                if (count &gt; MAX_RETRY) {\r\n                    finished = true;\r\n                }\r\n            }\r\n        } while (!finished);\r\n        return subUsers;\r\n    }\r\n\r\nI am trying to fetch approx. 20k records from active directory but getting only 2500 records\r\nLdapSearchfilter I have used (&amp;(sAMAccountType=805306368)(!userAccountControl:1.2.840.113556.1.4.803:=512))) \r\n","title":"How to Fetch all user details from ldap using Ldaptemplate java spring boot?","body":"<pre><code> public List&lt;LdapUserDetails&gt; findLdapUsers(String filter){\n    List&lt;LdapUserDetails&gt; subUsers = new ArrayList&lt;&gt;();\n    boolean finished = true;\n    int count = 0;\n    do {try {\n     subUsers = ldapTemplate.search(BASE_EU, filter, new PersonAttributesMapper());\n         System.out.println(subUsers.size());\n        } catch (Exception e) {\n            System.out.println(&quot;Catch Error &quot;+e);\n            if (e instanceof CommunicationException) {\n                finished = false;\n            }\n        }\n        if (!finished) {\n            count++;\n            if (count &gt; MAX_RETRY) {\n                finished = true;\n            }\n        }\n    } while (!finished);\n    return subUsers;\n}\n</code></pre>\n<p>I am trying to fetch approx. 20k records from active directory but getting only 2500 records\nLdapSearchfilter I have used (&amp;(sAMAccountType=805306368)(!userAccountControl:1.2.840.113556.1.4.803:=512)))</p>\n"},{"tags":["java","spring","controller","spring-resttemplate"],"answers":[{"tags":[],"owner":{"account_id":7527661,"reputation":440,"user_id":5717198,"display_name":"Abhijay Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700744364,"creation_date":1700744364,"answer_id":77537080,"question_id":77536837,"body_markdown":"It&#39;s a bad practice to have a space in your request URI. Check this [answer](https://stackoverflow.com/questions/5442658/spaces-in-urls) on why a URL should not contain a literal space. I think the issue in your case is that the space character is being encoded twice. A space character gets URL encoded to `%20` and a `%` character is encoded to `%25`. Thus your URL gets encoded twice to `%2520`. I suspect that `builder.toUriString()` maybe encoding it once followed by another encoding in `restTemplate.exchange()`. I&#39;m not sure but it is quite likely that one of the implementations changed in Java 17 and that is why it is a terrible idea and design to have a space in your URI. I would rather have it as a query parameter that ensures the safe encoding of most characters.\r\n\r\n`http://localhost:80/v1/accounts/{accountId}?name=QA%20Analyst`\r\n\r\nA good practice for RESTful API design is that path parameters are used to identify a specific resource, while query parameters are used to sort/filter those resources. In your case, it appears that you are doing a filtering/search by name.","title":"Handling special characters in uri","body":"<p>It's a bad practice to have a space in your request URI. Check this <a href=\"https://stackoverflow.com/questions/5442658/spaces-in-urls\">answer</a> on why a URL should not contain a literal space. I think the issue in your case is that the space character is being encoded twice. A space character gets URL encoded to <code>%20</code> and a <code>%</code> character is encoded to <code>%25</code>. Thus your URL gets encoded twice to <code>%2520</code>. I suspect that <code>builder.toUriString()</code> maybe encoding it once followed by another encoding in <code>restTemplate.exchange()</code>. I'm not sure but it is quite likely that one of the implementations changed in Java 17 and that is why it is a terrible idea and design to have a space in your URI. I would rather have it as a query parameter that ensures the safe encoding of most characters.</p>\n<p><code>http://localhost:80/v1/accounts/{accountId}?name=QA%20Analyst</code></p>\n<p>A good practice for RESTful API design is that path parameters are used to identify a specific resource, while query parameters are used to sort/filter those resources. In your case, it appears that you are doing a filtering/search by name.</p>\n"},{"tags":[],"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700746130,"creation_date":1700746130,"answer_id":77537271,"question_id":77536837,"body_markdown":"It seems that `fromHttpUrl()` method encodes url and then in `RestTemplate#exchange` your url is encoded twice. \r\nSo, try this:\r\n```\r\n  String uri = UriComponentsBuilder.fromHttpUrl(&quot;http://localhost:80&quot;)\r\n                  .path(&quot;/v1/accounts/{accountId}/name/{roleName}&quot;)\r\n                  .buildAndExpand(&quot;60a362bd6b84a37effc8f5a3&quot;, &quot;QA Analyst&quot;)\r\n                  .toUriString();\r\n\r\n   System.out.println(uri); // not encoded yet: http://localhost:80/v1/accounts/60a362bd6b84a37effc8f5a3/name/QA Analyst\r\n\r\n  responseEntity = this.restTemplate.exchange(uri, HttpMethod.GET, entity, RoleResponse.class, new Object[0]);\r\n\r\n```","title":"Handling special characters in uri","body":"<p>It seems that <code>fromHttpUrl()</code> method encodes url and then in <code>RestTemplate#exchange</code> your url is encoded twice.\nSo, try this:</p>\n<pre><code>  String uri = UriComponentsBuilder.fromHttpUrl(&quot;http://localhost:80&quot;)\n                  .path(&quot;/v1/accounts/{accountId}/name/{roleName}&quot;)\n                  .buildAndExpand(&quot;60a362bd6b84a37effc8f5a3&quot;, &quot;QA Analyst&quot;)\n                  .toUriString();\n\n   System.out.println(uri); // not encoded yet: http://localhost:80/v1/accounts/60a362bd6b84a37effc8f5a3/name/QA Analyst\n\n  responseEntity = this.restTemplate.exchange(uri, HttpMethod.GET, entity, RoleResponse.class, new Object[0]);\n\n</code></pre>\n"}],"owner":{"account_id":26095047,"reputation":11,"user_id":19791278,"display_name":"Marcus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700746130,"creation_date":1700742151,"question_id":77536837,"body_markdown":"The below mentioned is my requestUrl\r\n&quot;http://localhost:80/v1/accounts/60a362bd6b84a37effc8f5a3/name/QA Analyst&quot;\r\nI am using the following code\r\n\r\n    UriComponentsBuilder builder = UriComponentsBuilder.fromHttpUrl(requestUrl);\r\n    ResponseEntity&lt;RoleResponse&gt; responseEntity = null;\r\n    HttpEntity&lt;?&gt; entity = new HttpEntity(RestUtil.getHeaders(this.appSecret));\r\n\r\n    try {\r\n      responseEntity = this.restTemplate.exchange(builder.toUriString(), HttpMethod.GET, entity, RoleResponse.class, new Object[0]);\r\n    } catch (Exception var9) {\r\n      log.error(&quot;Error occurred while getting role by name for accountId {}&quot;, accountId, var9);\r\n      throw new RestClientException(&quot;rest_client_exception&quot;, &quot;Unable to get role by name for account&quot;);\r\n    }\r\n\r\nIn the service which is running on port 80 with java 8 version, I can see the following uri being hit\r\n&quot;v1/accounts/60a362bd6b84a37effc8f5a3/name/QA%2520Analyst&quot;\r\nbut this uri is being handled and can get responsecode 200.\r\nNow I migrated to java 17 and the request is throwing 400 BAD_REQUEST.\r\nWhat is the reason and how can I handle this ?\r\nThe restTemplate I am using is of   org.springframework.web.client","title":"Handling special characters in uri","body":"<p>The below mentioned is my requestUrl\n&quot;http://localhost:80/v1/accounts/60a362bd6b84a37effc8f5a3/name/QA Analyst&quot;\nI am using the following code</p>\n<pre><code>UriComponentsBuilder builder = UriComponentsBuilder.fromHttpUrl(requestUrl);\nResponseEntity&lt;RoleResponse&gt; responseEntity = null;\nHttpEntity&lt;?&gt; entity = new HttpEntity(RestUtil.getHeaders(this.appSecret));\n\ntry {\n  responseEntity = this.restTemplate.exchange(builder.toUriString(), HttpMethod.GET, entity, RoleResponse.class, new Object[0]);\n} catch (Exception var9) {\n  log.error(&quot;Error occurred while getting role by name for accountId {}&quot;, accountId, var9);\n  throw new RestClientException(&quot;rest_client_exception&quot;, &quot;Unable to get role by name for account&quot;);\n}\n</code></pre>\n<p>In the service which is running on port 80 with java 8 version, I can see the following uri being hit\n&quot;v1/accounts/60a362bd6b84a37effc8f5a3/name/QA%2520Analyst&quot;\nbut this uri is being handled and can get responsecode 200.\nNow I migrated to java 17 and the request is throwing 400 BAD_REQUEST.\nWhat is the reason and how can I handle this ?\nThe restTemplate I am using is of   org.springframework.web.client</p>\n"},{"tags":["java","mysql","kubernetes","keycloak","keycloak-services"],"owner":{"account_id":11519617,"reputation":103,"user_id":13722908,"display_name":"aditya_sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700745947,"creation_date":1695289869,"question_id":77149103,"body_markdown":"Context:&lt;br&gt;\r\nI am installing **keycloak** using helm chart in a kubernetes environment. This creates a single deployment and pod with other required resources in my k8s environment. The image used in the helm chart is ```quay.io/keycloak/keycloak:20.0 ``` . I am not doing any custom configuration and letting keycloak create the tables on start-up in the database (I am using MySQL). Previously I used the same keycloak chart with normal single instance oracle cloud MySQL database , where keycloak was able to create 92 tables required for its functioning. &lt;br&gt;\r\n\r\nNow when I switched to an HA(Highly available) oracle cloud MySQL instance , Then what is happening is , it is giving me this error :&lt;br&gt;\r\n\r\n``` 2023-09-21 09:26:04,394 ERROR [org.keycloak.quarkus.runtime.cli.ExecutionExceptionHandler] (main) ERROR: Failed to start server in (production) mode\r\n\r\n2023-09-21 09:26:04,394 ERROR [org.keycloak.quarkus.runtime.cli.ExecutionExceptionHandler] (main) ERROR: Failed to update database\r\n\r\n2023-09-21 09:26:04,394 ERROR [org.keycloak.quarkus.runtime.cli.ExecutionExceptionHandler] (main) ERROR: liquibase.exception.MigrationFailedException: Migration failed for changeset META-INF/jpa-changelog-1.0.0.Final.xml::1.0.0.Final-KEYCLOAK-5461::sthorger@redhat.com:\r\n\r\n     Reason: liquibase.exception.DatabaseException: Table &#39;APPLICATION_DEFAULT_ROLES&#39; already exists [Failed SQL: (1050) CREATE TABLE keycloak.APPLICATION_DEFAULT_ROLES (APPLICATION_ID VARCHAR(36) NOT NULL, ROLE_ID VARCHAR(36) NOT NULL)]\r\n\r\n2023-09-21 09:26:04,395 ERROR [org.keycloak.quarkus.runtime.cli.ExecutionExceptionHandler] (main) ERROR: Migration failed for changeset META-INF/jpa-changelog-1.0.0.Final.xml::1.0.0.Final-KEYCLOAK-5461::sthorger@redhat.com:\r\n\r\n     Reason: liquibase.exception.DatabaseException: Table &#39;APPLICATION_DEFAULT_ROLES&#39; already exists [Failed SQL: (1050) CREATE TABLE keycloak.APPLICATION_DEFAULT_ROLES (APPLICATION_ID VARCHAR(36) NOT NULL, ROLE_ID VARCHAR(36) NOT NULL)]\r\n\r\n2023-09-21 09:26:04,395 ERROR [org.keycloak.quarkus.runtime.cli.ExecutionExceptionHandler] (main) ERROR: Table &#39;APPLICATION_DEFAULT_ROLES&#39; already exists [Failed SQL: (1050) CREATE TABLE keycloak.APPLICATION_DEFAULT_ROLES (APPLICATION_ID VARCHAR(36) NOT NULL, ROLE_ID VARCHAR(36) NOT NULL)]\r\n\r\n2023-09-21 09:26:04,395 ERROR [org.keycloak.quarkus.runtime.cli.ExecutionExceptionHandler] (main) ERROR: Table &#39;APPLICATION_DEFAULT_ROLES&#39; already exists\r\n\r\n2023-09-21 09:26:04,395 ERROR [org.keycloak.quarkus.runtime.cli.ExecutionExceptionHandler] (main) For more details run the same command passing the \r\n``` \r\n\r\nThe issue is I had never seen this table in the single instance DB so why would this be created now? So I checked the keycloak repo for some clues. Here are my findings:&lt;br&gt;\r\n\r\n1. link to &lt;https://github.com/search?q=repo%3Akeycloak%2Fkeycloak%20path%3A%2F%5Emodel%5C%2Fjpa%5C%2Fsrc%5C%2Fmain%5C%2Fresources%5C%2FMETA-INF%5C%2F%2F%20APPLICATION_DEFAULT_ROLES&amp;type=code&gt; with search item as &quot;APPLICATION_DEFAULT_ROLES&quot; :&lt;br&gt;\r\n\r\nhere i found that using liquibase changesets, it is creating this table, making some relations and then renaming the table to **CLIENT_DEFAULT_ROLES**. &lt;br&gt;\r\n\r\n2. link to &lt;https://github.com/search?q=repo%3Akeycloak%2Fkeycloak+path%3A%2F%5Emodel%5C%2Fjpa%5C%2Fsrc%5C%2Fmain%5C%2Fresources%5C%2FMETA-INF%5C%2F%2F+CLIENT_DEFAULT_ROLES&amp;type=code&gt; with search item as &quot;CLIENT_DEFAULT_ROLES&quot;: &lt;br&gt;\r\n\r\nhere I found that using liquibase changesets, it is modifying the CLIENT_DEFAULT_ROLES table and then dropping it in one of the changesets, so at the end it would not be visible.\r\n\r\nMy question is what made keycloak throw this error if in a single instance mysql it was working and in an HA it is giving this error?\r\n\r\n**Note**: Previously it was giving me errors (only in HA env, in single instance it works flawlessly) related to the primary key as this table if you see in the change sets does not have a primary key so previous error was: **not able to create table** . But I switched off the primary key check(I know it is not recommended and will find another way but for now just to get to the root cause of the error i allowed it) so that this table can be created. Now after creating i do not know why every time on startup it is trying to create this table even after creating this once. Also due to this, only 30 out 92 tables are created and then it fails. \r\n&lt;br&gt;\r\nPlease ask for any information required incase I missed something which can help in debugging. \r\n","title":"Keycloak CREATE TABLE APPLICATION_DEFAULT_ROLES giving already exists error","body":"<p>Context:<br>\nI am installing <strong>keycloak</strong> using helm chart in a kubernetes environment. This creates a single deployment and pod with other required resources in my k8s environment. The image used in the helm chart is <code>quay.io/keycloak/keycloak:20.0 </code> . I am not doing any custom configuration and letting keycloak create the tables on start-up in the database (I am using MySQL). Previously I used the same keycloak chart with normal single instance oracle cloud MySQL database , where keycloak was able to create 92 tables required for its functioning. <br></p>\n<p>Now when I switched to an HA(Highly available) oracle cloud MySQL instance , Then what is happening is , it is giving me this error :<br></p>\n<pre><code>\n2023-09-21 09:26:04,394 ERROR [org.keycloak.quarkus.runtime.cli.ExecutionExceptionHandler] (main) ERROR: Failed to update database\n\n2023-09-21 09:26:04,394 ERROR [org.keycloak.quarkus.runtime.cli.ExecutionExceptionHandler] (main) ERROR: liquibase.exception.MigrationFailedException: Migration failed for changeset META-INF/jpa-changelog-1.0.0.Final.xml::1.0.0.Final-KEYCLOAK-5461::sthorger@redhat.com:\n\n     Reason: liquibase.exception.DatabaseException: Table 'APPLICATION_DEFAULT_ROLES' already exists [Failed SQL: (1050) CREATE TABLE keycloak.APPLICATION_DEFAULT_ROLES (APPLICATION_ID VARCHAR(36) NOT NULL, ROLE_ID VARCHAR(36) NOT NULL)]\n\n2023-09-21 09:26:04,395 ERROR [org.keycloak.quarkus.runtime.cli.ExecutionExceptionHandler] (main) ERROR: Migration failed for changeset META-INF/jpa-changelog-1.0.0.Final.xml::1.0.0.Final-KEYCLOAK-5461::sthorger@redhat.com:\n\n     Reason: liquibase.exception.DatabaseException: Table 'APPLICATION_DEFAULT_ROLES' already exists [Failed SQL: (1050) CREATE TABLE keycloak.APPLICATION_DEFAULT_ROLES (APPLICATION_ID VARCHAR(36) NOT NULL, ROLE_ID VARCHAR(36) NOT NULL)]\n\n2023-09-21 09:26:04,395 ERROR [org.keycloak.quarkus.runtime.cli.ExecutionExceptionHandler] (main) ERROR: Table 'APPLICATION_DEFAULT_ROLES' already exists [Failed SQL: (1050) CREATE TABLE keycloak.APPLICATION_DEFAULT_ROLES (APPLICATION_ID VARCHAR(36) NOT NULL, ROLE_ID VARCHAR(36) NOT NULL)]\n\n2023-09-21 09:26:04,395 ERROR [org.keycloak.quarkus.runtime.cli.ExecutionExceptionHandler] (main) ERROR: Table 'APPLICATION_DEFAULT_ROLES' already exists\n\n2023-09-21 09:26:04,395 ERROR [org.keycloak.quarkus.runtime.cli.ExecutionExceptionHandler] (main) For more details run the same command passing the \n</code></pre>\n<p>The issue is I had never seen this table in the single instance DB so why would this be created now? So I checked the keycloak repo for some clues. Here are my findings:<br></p>\n<ol>\n<li>link to <a href=\"https://github.com/search?q=repo%3Akeycloak%2Fkeycloak%20path%3A%2F%5Emodel%5C%2Fjpa%5C%2Fsrc%5C%2Fmain%5C%2Fresources%5C%2FMETA-INF%5C%2F%2F%20APPLICATION_DEFAULT_ROLES&amp;type=code\" rel=\"nofollow noreferrer\">https://github.com/search?q=repo%3Akeycloak%2Fkeycloak%20path%3A%2F%5Emodel%5C%2Fjpa%5C%2Fsrc%5C%2Fmain%5C%2Fresources%5C%2FMETA-INF%5C%2F%2F%20APPLICATION_DEFAULT_ROLES&amp;type=code</a> with search item as &quot;APPLICATION_DEFAULT_ROLES&quot; :<br></li>\n</ol>\n<p>here i found that using liquibase changesets, it is creating this table, making some relations and then renaming the table to <strong>CLIENT_DEFAULT_ROLES</strong>. <br></p>\n<ol start=\"2\">\n<li>link to <a href=\"https://github.com/search?q=repo%3Akeycloak%2Fkeycloak+path%3A%2F%5Emodel%5C%2Fjpa%5C%2Fsrc%5C%2Fmain%5C%2Fresources%5C%2FMETA-INF%5C%2F%2F+CLIENT_DEFAULT_ROLES&amp;type=code\" rel=\"nofollow noreferrer\">https://github.com/search?q=repo%3Akeycloak%2Fkeycloak+path%3A%2F%5Emodel%5C%2Fjpa%5C%2Fsrc%5C%2Fmain%5C%2Fresources%5C%2FMETA-INF%5C%2F%2F+CLIENT_DEFAULT_ROLES&amp;type=code</a> with search item as &quot;CLIENT_DEFAULT_ROLES&quot;: <br></li>\n</ol>\n<p>here I found that using liquibase changesets, it is modifying the CLIENT_DEFAULT_ROLES table and then dropping it in one of the changesets, so at the end it would not be visible.</p>\n<p>My question is what made keycloak throw this error if in a single instance mysql it was working and in an HA it is giving this error?</p>\n<p><strong>Note</strong>: Previously it was giving me errors (only in HA env, in single instance it works flawlessly) related to the primary key as this table if you see in the change sets does not have a primary key so previous error was: <strong>not able to create table</strong> . But I switched off the primary key check(I know it is not recommended and will find another way but for now just to get to the root cause of the error i allowed it) so that this table can be created. Now after creating i do not know why every time on startup it is trying to create this table even after creating this once. Also due to this, only 30 out 92 tables are created and then it fails.\n<br>\nPlease ask for any information required incase I missed something which can help in debugging.</p>\n"},{"tags":["java","design-patterns"],"comments":[{"owner":{"account_id":5501406,"reputation":4041,"user_id":4370629,"accept_rate":67,"display_name":"Spotted"},"score":0,"creation_date":1480071580,"post_id":40711727,"comment_id":68827651,"body_markdown":"Looks like an [XY Problem](http://xyproblem.info/). Why do you think you **need** to add a try/catch for every method ? Shouldn&#39;t some method only throws the exception ? Why do you think only a design pattern can solve this ? Can you provide more explicit code (insteand of `do something`) ?","body":"Looks like an <a href=\"http://xyproblem.info/\" rel=\"nofollow noreferrer\">XY Problem</a>. Why do you think you <b>need</b> to add a try/catch for every method ? Shouldn&#39;t some method only throws the exception ? Why do you think only a design pattern can solve this ? Can you provide more explicit code (insteand of <code>do something</code>) ?"}],"answers":[{"tags":[],"owner":{"account_id":9314168,"reputation":1674,"user_id":6914992,"accept_rate":44,"display_name":"jace"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1479694077,"creation_date":1479694077,"answer_id":40711783,"question_id":40711727,"body_markdown":"If your do something have just the same values need for try catch, then you can put it this way\r\n\r\n    public class Test {\r\n        public void a() {\r\n            //do other stuffs that don&#39;t require try catch and different from b\r\n            c(); //pass some values if you need too\r\n        }\r\n\r\n        public void b() {\r\n            //do other stuffs that don&#39;t require try catch and different from a\r\n            c(); //pass some values if you need too\r\n        }\r\n\r\n        public void c() { //catch values if you pass something from a and b\r\n            try {\r\n                do something;\r\n            } catch (Exception e) {\r\n                logger.error(&quot;error happened&quot;);\r\n            }\r\n        }//put return if you like.\r\n    }\r\n\r\nbut if you have different do something and try catch value for each method, you really have to do it that way.","title":"how to deal with exceptions for every method in a class","body":"<p>If your do something have just the same values need for try catch, then you can put it this way</p>\n\n<pre><code>public class Test {\n    public void a() {\n        //do other stuffs that don't require try catch and different from b\n        c(); //pass some values if you need too\n    }\n\n    public void b() {\n        //do other stuffs that don't require try catch and different from a\n        c(); //pass some values if you need too\n    }\n\n    public void c() { //catch values if you pass something from a and b\n        try {\n            do something;\n        } catch (Exception e) {\n            logger.error(\"error happened\");\n        }\n    }//put return if you like.\n}\n</code></pre>\n\n<p>but if you have different do something and try catch value for each method, you really have to do it that way.</p>\n"},{"tags":[],"owner":{"account_id":3167480,"reputation":766,"user_id":2677145,"display_name":"Fu Xu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479697402,"creation_date":1479697402,"answer_id":40712136,"question_id":40711727,"body_markdown":"why not try to catch the exception outside the method?\r\n\r\nyou need only to make sure what exception will throw from this method\r\n\r\neg:\r\n\r\n    Test a = new Test();\r\n\r\n    try {\r\n        a.a();\r\n        a.b();\r\n    } catch (Exception e) {\r\n        logger.error(&quot;error happened&quot;);\r\n    }","title":"how to deal with exceptions for every method in a class","body":"<p>why not try to catch the exception outside the method?</p>\n\n<p>you need only to make sure what exception will throw from this method</p>\n\n<p>eg:</p>\n\n<pre><code>Test a = new Test();\n\ntry {\n    a.a();\n    a.b();\n} catch (Exception e) {\n    logger.error(\"error happened\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":77859,"reputation":71371,"user_id":221955,"accept_rate":88,"display_name":"Michael Anderson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479697780,"creation_date":1479697780,"answer_id":40712184,"question_id":40711727,"body_markdown":"You can do some of this with an &quot;Execute around&quot; idiom, but it wont save you much boilerplate. The following wont quite work - you&#39;ll need to a define `TestLambda` class. But theres a few things to watch out for. \r\n\r\n 1. `executeAround` will need variants depending on return values etc.\r\n 2. Your `TestLambda` definition needs to throw exceptions. (Which the standard Java 8 lambdas do not.)\r\n 3. It&#39;s a bad practice to just swallow exceptions.\r\n\r\n&lt;br&gt;\r\n\r\n    public static class Test {\r\n        public void a() {\r\n           executeAround( ()-&gt;{ do_something ; } );\r\n        }\r\n        public void b() {\r\n           executeAround( ()-&gt;{ do_something_else; } );\r\n        }\r\n\r\n        private void executeAround( TestLambda fn ) {\r\n           try {\r\n              fn();\r\n           } catch( Exception e) {\r\n              logger.error(&quot;error happened&quot;);\r\n           }\r\n        } \r\n     }","title":"how to deal with exceptions for every method in a class","body":"<p>You can do some of this with an \"Execute around\" idiom, but it wont save you much boilerplate. The following wont quite work - you'll need to a define <code>TestLambda</code> class. But theres a few things to watch out for. </p>\n\n<ol>\n<li><code>executeAround</code> will need variants depending on return values etc.</li>\n<li>Your <code>TestLambda</code> definition needs to throw exceptions. (Which the standard Java 8 lambdas do not.)</li>\n<li>It's a bad practice to just swallow exceptions.</li>\n</ol>\n\n<p><br></p>\n\n<pre><code>public static class Test {\n    public void a() {\n       executeAround( ()-&gt;{ do_something ; } );\n    }\n    public void b() {\n       executeAround( ()-&gt;{ do_something_else; } );\n    }\n\n    private void executeAround( TestLambda fn ) {\n       try {\n          fn();\n       } catch( Exception e) {\n          logger.error(\"error happened\");\n       }\n    } \n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2156100,"reputation":11279,"user_id":1911306,"accept_rate":83,"display_name":"Marcin Szymczak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1480068577,"creation_date":1480068577,"answer_id":40802376,"question_id":40711727,"body_markdown":"One of practical solutions is to use frameworks such as [spring ExceptionHandler][1]\r\n\r\nEssentially you use `throws SomeException` in lower layers of your application and catch everything in top layer\r\n\r\nController:\r\n\r\n      @ExceptionHandler({SQLException.class,DataAccessException.class})\r\n      public String databaseError() {\r\n        return &quot;databaseError&quot;;\r\n      } \r\n\r\nLayers below:\r\n\r\n    public void doStufff throws SQLexception{\r\n        // do stuff which may throw exception\r\n    }\r\n\r\n  [1]: https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc","title":"how to deal with exceptions for every method in a class","body":"<p>One of practical solutions is to use frameworks such as <a href=\"https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc\" rel=\"nofollow noreferrer\">spring ExceptionHandler</a></p>\n\n<p>Essentially you use <code>throws SomeException</code> in lower layers of your application and catch everything in top layer</p>\n\n<p>Controller:</p>\n\n<pre><code>  @ExceptionHandler({SQLException.class,DataAccessException.class})\n  public String databaseError() {\n    return \"databaseError\";\n  } \n</code></pre>\n\n<p>Layers below:</p>\n\n<pre><code>public void doStufff throws SQLexception{\n    // do stuff which may throw exception\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12460630,"reputation":1,"user_id":14811316,"display_name":"skarplex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700745832,"creation_date":1700745832,"answer_id":77537236,"question_id":40711727,"body_markdown":"You **could** use a java.lang.reflect.Proxy to solve this kind of problem but should be sure whether you really want to do this. &lt;br&gt;\r\nSince you are working with reflection here, which is much less performant and you would have to create additional classes and interfaces, this solution is only really practicable in very few use cases.\r\n\r\nFirst of all you&#39;ll need a interface to be proxied:\r\n\r\n    public interface YourInterface {\r\n        void a();\r\n        void b();\r\n    }\r\n\r\nThis interface then have to be implemented by your class:\r\n    \r\n    public class YourClass implements YourInterface {\r\n        public void a() {}\r\n        public void b() {}\r\n    }\r\n\r\nThe class which will do the common exception handling has to be an InvocationHandler. This class could be a general implementation and could be used for different target classes:\r\n\r\n    public static class ExceptionHandler implements InvocationHandler {\r\n        private final Map&lt;String, Method&gt; methods = new HashMap&lt;&gt;();\r\n    \r\n        private Object target;\r\n    \r\n        public ExceptionHandler(Object target) {\r\n            this.target = target;\r\n    \r\n            for(Method method: target.getClass().getDeclaredMethods())\r\n                this.methods.put(method.getName(), method);\r\n        }\r\n    \r\n        @Override\r\n        public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\r\n            try {\r\n                return this.methods.get(method.getName()).invoke(this.target, args);\r\n            } catch (Exception ex) {\r\n                // do common handling here\r\n            }\r\n        }\r\n    }\r\n\r\nYou could then use all this like that:\r\n\r\n    YourClass yourObj = new YourClass();\r\n\r\n    YourInterface yourProxy = (YourInterface) Proxy.newProxyInstance(\r\n                YourInterface.class.getClassLoader(), new Class[]{YourInterface.class}, new ExceptionHandler(yourObj));\r\n\r\n    yourProxy.a();\r\n\r\nAs you see your object instatioation will differ but the methods will be used as you would do it usually.  \r\nIn this case, the method is processed by the InvocationHandler, which delegates the call to your actual object. However, if an exception occurs, it first lands in the invoke method of the InvocationHandler and can be handled there.","title":"how to deal with exceptions for every method in a class","body":"<p>You <strong>could</strong> use a java.lang.reflect.Proxy to solve this kind of problem but should be sure whether you really want to do this. <br>\nSince you are working with reflection here, which is much less performant and you would have to create additional classes and interfaces, this solution is only really practicable in very few use cases.</p>\n<p>First of all you'll need a interface to be proxied:</p>\n<pre><code>public interface YourInterface {\n    void a();\n    void b();\n}\n</code></pre>\n<p>This interface then have to be implemented by your class:</p>\n<pre><code>public class YourClass implements YourInterface {\n    public void a() {}\n    public void b() {}\n}\n</code></pre>\n<p>The class which will do the common exception handling has to be an InvocationHandler. This class could be a general implementation and could be used for different target classes:</p>\n<pre><code>public static class ExceptionHandler implements InvocationHandler {\n    private final Map&lt;String, Method&gt; methods = new HashMap&lt;&gt;();\n\n    private Object target;\n\n    public ExceptionHandler(Object target) {\n        this.target = target;\n\n        for(Method method: target.getClass().getDeclaredMethods())\n            this.methods.put(method.getName(), method);\n    }\n\n    @Override\n    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n        try {\n            return this.methods.get(method.getName()).invoke(this.target, args);\n        } catch (Exception ex) {\n            // do common handling here\n        }\n    }\n}\n</code></pre>\n<p>You could then use all this like that:</p>\n<pre><code>YourClass yourObj = new YourClass();\n\nYourInterface yourProxy = (YourInterface) Proxy.newProxyInstance(\n            YourInterface.class.getClassLoader(), new Class[]{YourInterface.class}, new ExceptionHandler(yourObj));\n\nyourProxy.a();\n</code></pre>\n<p>As you see your object instatioation will differ but the methods will be used as you would do it usually.<br />\nIn this case, the method is processed by the InvocationHandler, which delegates the call to your actual object. However, if an exception occurs, it first lands in the invoke method of the InvocationHandler and can be handled there.</p>\n"}],"owner":{"account_id":9175392,"reputation":201,"user_id":6821157,"accept_rate":14,"display_name":"Dale"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1431,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1700745832,"creation_date":1479693505,"question_id":40711727,"body_markdown":"I hava a class, i need add try catch for every method, but it looks redundant, so i need a good way to fix it, what kind of design pattern can solve this?\r\n\r\n    public class Test {\r\n    \tpublic void a() {\r\n    \t\ttry {\r\n    \t\t\tdo something;\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tlogger.error(&quot;error happened&quot;);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic void b() {\r\n    \t\ttry {\r\n    \t\t\tdo something;\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tlogger.error(&quot;error happened&quot;);\r\n    \t\t}\r\n    \t}\r\n    }","title":"how to deal with exceptions for every method in a class","body":"<p>I hava a class, i need add try catch for every method, but it looks redundant, so i need a good way to fix it, what kind of design pattern can solve this?</p>\n\n<pre><code>public class Test {\n    public void a() {\n        try {\n            do something;\n        } catch (Exception e) {\n            logger.error(\"error happened\");\n        }\n    }\n\n    public void b() {\n        try {\n            do something;\n        } catch (Exception e) {\n            logger.error(\"error happened\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":4774363,"reputation":723,"user_id":3858003,"display_name":"Abass A"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1497259164,"creation_date":1497259164,"answer_id":44495766,"question_id":44494576,"body_markdown":"When you enable hibernate statistics you get session statistics information every time a session is closed.\r\nif you dont want this behavior you can disable it with adding of following entry in your log4j file:\r\n\r\n    log4j.logger.org.hibernate.engine.internal.StatisticalLoggingSessionEventListener=OFF","title":"When does Hibernate print statistics?","body":"<p>When you enable hibernate statistics you get session statistics information every time a session is closed.\nif you dont want this behavior you can disable it with adding of following entry in your log4j file:</p>\n\n<pre><code>log4j.logger.org.hibernate.engine.internal.StatisticalLoggingSessionEventListener=OFF\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2680207,"reputation":521,"user_id":2315724,"display_name":"Chaithu Narayana"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1525786878,"creation_date":1525786878,"answer_id":50235095,"question_id":44494576,"body_markdown":"If you don&#39;t want to get to as deep as session events, you can disable them from getting logged by using this property &quot;**hibernate.session.events.log=false**&quot;. (You may do it with your log4j configuration also, based on your needs).\r\n\r\nIt appears that since hibernate 4, if you enable &quot;**hibernate.generate_statistics**&quot;, the session events are also logged by default. But the logs will get filled up heavily as the events are logged per session. So, use when you need to analyze any performance issues locally. \r\n\r\nMore details on enabling/disabling the event logs here:\r\nhttps://hibernate.atlassian.net/browse/HHH-8793","title":"When does Hibernate print statistics?","body":"<p>If you don't want to get to as deep as session events, you can disable them from getting logged by using this property \"<strong>hibernate.session.events.log=false</strong>\". (You may do it with your log4j configuration also, based on your needs).</p>\n\n<p>It appears that since hibernate 4, if you enable \"<strong>hibernate.generate_statistics</strong>\", the session events are also logged by default. But the logs will get filled up heavily as the events are logged per session. So, use when you need to analyze any performance issues locally. </p>\n\n<p>More details on enabling/disabling the event logs here:\n<a href=\"https://hibernate.atlassian.net/browse/HHH-8793\" rel=\"noreferrer\">https://hibernate.atlassian.net/browse/HHH-8793</a></p>\n"},{"tags":[],"owner":{"account_id":8284855,"reputation":101,"user_id":6228268,"display_name":"Alexander Lu"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1590419139,"creation_date":1590419139,"answer_id":62005246,"question_id":44494576,"body_markdown":"It helped me:\r\n\r\n    spring:\r\n      jpa:\r\n        properties:\r\n          generate_statistics: false\r\n\r\nin application.yml","title":"When does Hibernate print statistics?","body":"<p>It helped me:</p>\n\n<pre><code>spring:\n  jpa:\n    properties:\n      generate_statistics: false\n</code></pre>\n\n<p>in application.yml</p>\n"},{"tags":[],"owner":{"account_id":9500256,"reputation":983,"user_id":7061661,"display_name":"P&#233;ter Veres"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599835004,"creation_date":1599835004,"answer_id":63849196,"question_id":44494576,"body_markdown":"for **Quarkus** the relevant application.properties entry is:\r\n\r\n```\r\nquarkus.hibernate-orm.metrics.enabled = false\r\n```","title":"When does Hibernate print statistics?","body":"<p>for <strong>Quarkus</strong> the relevant application.properties entry is:</p>\n<pre><code>quarkus.hibernate-orm.metrics.enabled = false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2118041,"reputation":2108,"user_id":1881894,"accept_rate":76,"display_name":"Morez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643271312,"creation_date":1643271312,"answer_id":70875264,"question_id":44494576,"body_markdown":"I disabled it by using removing or disabling below property -\r\n\r\n`spring.jpa.properties.hibernate.generate_statistics = false`","title":"When does Hibernate print statistics?","body":"<p>I disabled it by using removing or disabling below property -</p>\n<p><code>spring.jpa.properties.hibernate.generate_statistics = false</code></p>\n"},{"tags":[],"owner":{"account_id":16458154,"reputation":113,"user_id":11889864,"display_name":"Jitendra Asawa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694430623,"creation_date":1694430623,"answer_id":77081122,"question_id":44494576,"body_markdown":"We can disable logging specifically for this class by adding a property in logback.xml or log4j.xml file:\r\n\r\n \t&lt;logger name=&quot;org.hibernate.engine.internal.StatisticalLoggingSessionEventListener&quot; level=&quot;OFF&quot;/&gt;","title":"When does Hibernate print statistics?","body":"<p>We can disable logging specifically for this class by adding a property in logback.xml or log4j.xml file:</p>\n<pre><code>&lt;logger name=&quot;org.hibernate.engine.internal.StatisticalLoggingSessionEventListener&quot; level=&quot;OFF&quot;/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3850494,"reputation":381,"user_id":3190811,"display_name":"Mojtaba Shayegh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700745353,"creation_date":1700745353,"answer_id":77537184,"question_id":44494576,"body_markdown":"You could use:\r\n\r\n    spring:\r\n      jpa:\r\n          properties:\r\n            hibernate:\r\n              generate_statistics: false\r\n\r\n","title":"When does Hibernate print statistics?","body":"<p>You could use:</p>\n<pre><code>spring:\n  jpa:\n      properties:\n        hibernate:\n          generate_statistics: false\n</code></pre>\n"}],"owner":{"account_id":2036858,"reputation":1586,"user_id":1819007,"accept_rate":68,"display_name":"sudshekhar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15573,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":44495766,"answer_count":7,"score":14,"last_activity_date":1700745353,"creation_date":1497255525,"question_id":44494576,"body_markdown":"I&#39;ve recently integrated hibernate into my webapp and am trying to see the performance impact/frequency of db calls that are happening.\r\n\r\nAfter enabling `show_sql` and `generate_statistics`, when I run the application I see the sql queries run by hibernate and also hibernate statistics. Eg:\r\n\r\n    08:04:53.724 [http-apr-8080-exec-1] INFO  o.h.e.i.StatisticalLoggingSessionEventListener - Session Metrics {\r\n    85648 nanoseconds spent acquiring 1 JDBC connections;\r\n    0 nanoseconds spent releasing 0 JDBC connections;\r\n    0 nanoseconds spent preparing 0 JDBC statements;\r\n    0 nanoseconds spent executing 0 JDBC statements;\r\n    0 nanoseconds spent executing 0 JDBC batches;\r\n    0 nanoseconds spent performing 0 L2C puts;\r\n    0 nanoseconds spent performing 0 L2C hits;\r\n    0 nanoseconds spent performing 0 L2C misses;\r\n    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);\r\n    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)\r\n    }\r\n\r\nHowever the statistics statement gets printed multiple times per api call while the query statements are much lower in number. Also, its very rare to see a non zero value for any other metric except `acquiring 1 JDBC connections` in Statistics logs.\r\n\r\nSo when exactly does the logger run and what am I doing wrong to get so many metric logs?\r\n\r\n\r\nThanks","title":"When does Hibernate print statistics?","body":"<p>I've recently integrated hibernate into my webapp and am trying to see the performance impact/frequency of db calls that are happening.</p>\n\n<p>After enabling <code>show_sql</code> and <code>generate_statistics</code>, when I run the application I see the sql queries run by hibernate and also hibernate statistics. Eg:</p>\n\n<pre><code>08:04:53.724 [http-apr-8080-exec-1] INFO  o.h.e.i.StatisticalLoggingSessionEventListener - Session Metrics {\n85648 nanoseconds spent acquiring 1 JDBC connections;\n0 nanoseconds spent releasing 0 JDBC connections;\n0 nanoseconds spent preparing 0 JDBC statements;\n0 nanoseconds spent executing 0 JDBC statements;\n0 nanoseconds spent executing 0 JDBC batches;\n0 nanoseconds spent performing 0 L2C puts;\n0 nanoseconds spent performing 0 L2C hits;\n0 nanoseconds spent performing 0 L2C misses;\n0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);\n0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)\n}\n</code></pre>\n\n<p>However the statistics statement gets printed multiple times per api call while the query statements are much lower in number. Also, its very rare to see a non zero value for any other metric except <code>acquiring 1 JDBC connections</code> in Statistics logs.</p>\n\n<p>So when exactly does the logger run and what am I doing wrong to get so many metric logs?</p>\n\n<p>Thanks</p>\n"},{"tags":["javascript","java","android","reactjs","react-native"],"answers":[{"tags":[],"owner":{"account_id":283183,"reputation":9890,"user_id":580552,"accept_rate":52,"display_name":"sebastianf182"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1508728594,"creation_date":1508728594,"answer_id":46881456,"question_id":46878638,"body_markdown":"Have you tried gradle cleanBuildCache?\r\n\r\nhttps://developer.android.com/studio/build/build-cache.html#clear_the_build_cache","title":"How to clear react-native cache?","body":"<p>Have you tried gradle cleanBuildCache?</p>\n\n<p><a href=\"https://developer.android.com/studio/build/build-cache.html#clear_the_build_cache\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/build/build-cache.html#clear_the_build_cache</a></p>\n"},{"tags":[],"owner":{"account_id":6289296,"reputation":2656,"user_id":4887505,"accept_rate":100,"display_name":"Vikram Biwal"},"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1550821443,"creation_date":1531812033,"answer_id":51375437,"question_id":46878638,"body_markdown":"Clearing the Cache of your React Native Project:\r\n\r\nnpm &lt; 6.0 and RN &lt; 0.50:\r\n\r\n     watchman watch-del-all &amp;&amp; rm -rf $TMPDIR/react-* &amp;&amp;\r\n     rm -rf node_modules/ &amp;&amp; npm cache clean &amp;&amp; npm install &amp;&amp; \r\n     npm start -- --reset-cache\r\n\r\nnpm &gt;= 6.0 and RN &gt;= 0.50:\r\n\r\n     watchman watch-del-all &amp;&amp; rm -rf $TMPDIR/react-native-packager-cache-* &amp;&amp;\r\n     rm -rf $TMPDIR/metro-bundler-cache-* &amp;&amp; rm -rf node_modules/ &amp;&amp; npm cache clean --force &amp;&amp;\r\n     npm install &amp;&amp; npm start -- --reset-cache\r\n\r\n\r\n","title":"How to clear react-native cache?","body":"<p>Clearing the Cache of your React Native Project:</p>\n\n<p>npm &lt; 6.0 and RN &lt; 0.50:</p>\n\n<pre><code> watchman watch-del-all &amp;&amp; rm -rf $TMPDIR/react-* &amp;&amp;\n rm -rf node_modules/ &amp;&amp; npm cache clean &amp;&amp; npm install &amp;&amp; \n npm start -- --reset-cache\n</code></pre>\n\n<p>npm >= 6.0 and RN >= 0.50:</p>\n\n<pre><code> watchman watch-del-all &amp;&amp; rm -rf $TMPDIR/react-native-packager-cache-* &amp;&amp;\n rm -rf $TMPDIR/metro-bundler-cache-* &amp;&amp; rm -rf node_modules/ &amp;&amp; npm cache clean --force &amp;&amp;\n npm install &amp;&amp; npm start -- --reset-cache\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10283972,"reputation":2070,"user_id":9798214,"display_name":"Haris Anwar"},"down_vote_count":2,"up_vote_count":181,"is_accepted":false,"score":179,"last_activity_date":1537265492,"creation_date":1537264339,"answer_id":52383821,"question_id":46878638,"body_markdown":"For React Native Init approach (without expo) use:\r\n\r\n    npm start -- --reset-cache","title":"How to clear react-native cache?","body":"<p>For React Native Init approach (without expo) use:</p>\n\n<pre><code>npm start -- --reset-cache\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1078395,"reputation":184,"user_id":1076047,"accept_rate":0,"display_name":"Abhishek Nalwaya"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1546589895,"creation_date":1546589895,"answer_id":54035288,"question_id":46878638,"body_markdown":"You can clean cache in React Native &gt;= 0.50 and npm &gt; 5 :\r\n\r\n    watchman watch-del-all &amp;&amp; \r\n    rm -rf $TMPDIR/react-native-packager-cache-* &amp;&amp;\r\n    rm -rf $TMPDIR/metro-bundler-cache-* &amp;&amp; \r\n    rm -rf node_modules/ \r\n    &amp;&amp; npm cache clean --force &amp;&amp;\r\n    npm install &amp;&amp; \r\n    npm start -- --reset-cache\r\n\r\nApart from cleaning npm cache you might need to [reset simulator or clean build][1] etc.\r\n\r\n\r\n  [1]: https://medium.com/@abhisheknalwaya/how-to-clear-react-native-cache-c435c258834e","title":"How to clear react-native cache?","body":"<p>You can clean cache in React Native >= 0.50 and npm > 5 :</p>\n\n<pre><code>watchman watch-del-all &amp;&amp; \nrm -rf $TMPDIR/react-native-packager-cache-* &amp;&amp;\nrm -rf $TMPDIR/metro-bundler-cache-* &amp;&amp; \nrm -rf node_modules/ \n&amp;&amp; npm cache clean --force &amp;&amp;\nnpm install &amp;&amp; \nnpm start -- --reset-cache\n</code></pre>\n\n<p>Apart from cleaning npm cache you might need to <a href=\"https://medium.com/@abhisheknalwaya/how-to-clear-react-native-cache-c435c258834e\" rel=\"nofollow noreferrer\">reset simulator or clean build</a> etc.</p>\n"},{"tags":[],"owner":{"account_id":4722238,"reputation":1596,"user_id":3819810,"accept_rate":42,"display_name":"Mohsin"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1546594085,"creation_date":1546594085,"answer_id":54036153,"question_id":46878638,"body_markdown":"For those who are using expo-cli\r\n\r\n&gt; expo start -c\r\n","title":"How to clear react-native cache?","body":"<p>For those who are using expo-cli</p>\n\n<blockquote>\n  <p>expo start -c</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6616659,"reputation":1959,"user_id":5109625,"display_name":"Firoz Ahmed"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1641452816,"creation_date":1560846802,"answer_id":56644902,"question_id":46878638,"body_markdown":"This is what works for me:\r\n\r\n    watchman watch-del-all &amp;&amp; rm -f podfile.lock &amp;&amp; rm -rf node_modules &amp;&amp; yarn &amp;&amp; yarn start --reset-cache","title":"How to clear react-native cache?","body":"<p>This is what works for me:</p>\n<pre><code>watchman watch-del-all &amp;&amp; rm -f podfile.lock &amp;&amp; rm -rf node_modules &amp;&amp; yarn &amp;&amp; yarn start --reset-cache\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9879674,"reputation":1096,"user_id":7316181,"display_name":"spacedev"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1562584850,"creation_date":1562584850,"answer_id":56933829,"question_id":46878638,"body_markdown":"try this\r\n\r\n    react-native start --reset-cache\r\n\r\n","title":"How to clear react-native cache?","body":"<p>try this</p>\n\n<pre><code>react-native start --reset-cache\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7373604,"reputation":681,"user_id":5613054,"display_name":"Jack Wire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564175807,"creation_date":1564175807,"answer_id":57227113,"question_id":46878638,"body_markdown":"I had a similar problem, I tried to clear all the caches possible (tried almost all the solutions above) and the only thing that worked for me was to kill the expo app and to restart it.","title":"How to clear react-native cache?","body":"<p>I had a similar problem, I tried to clear all the caches possible (tried almost all the solutions above) and the only thing that worked for me was to kill the expo app and to restart it.</p>\n"},{"tags":[],"owner":{"account_id":304520,"reputation":6057,"user_id":614065,"accept_rate":88,"display_name":"Olcay Erta"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1582724370,"creation_date":1582724370,"answer_id":60415243,"question_id":46878638,"body_markdown":"If you are using `WebStorm`, press configuration selection drop down button left of the run button and select edit configurations:\r\n\r\n[![edit configurations][1]][1]\r\n\r\nDouble click on `Start React Native Bundler` at bottom in `Before launch` section:\r\n\r\n[![before launch][2]][2]\r\n\r\nEnter `--reset-cache` to `Arguments` section:\r\n\r\n[![arguments][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5Ypl1.png\r\n  [2]: https://i.stack.imgur.com/13Bq3.png\r\n  [3]: https://i.stack.imgur.com/3vaAR.png","title":"How to clear react-native cache?","body":"<p>If you are using <code>WebStorm</code>, press configuration selection drop down button left of the run button and select edit configurations:</p>\n\n<p><a href=\"https://i.stack.imgur.com/5Ypl1.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5Ypl1.png\" alt=\"edit configurations\"></a></p>\n\n<p>Double click on <code>Start React Native Bundler</code> at bottom in <code>Before launch</code> section:</p>\n\n<p><a href=\"https://i.stack.imgur.com/13Bq3.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/13Bq3.png\" alt=\"before launch\"></a></p>\n\n<p>Enter <code>--reset-cache</code> to <code>Arguments</code> section:</p>\n\n<p><a href=\"https://i.stack.imgur.com/3vaAR.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/3vaAR.png\" alt=\"arguments\"></a></p>\n"},{"tags":[],"owner":{"account_id":17674896,"reputation":81,"user_id":13144771,"display_name":"Fabricio Cunha"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1589943407,"creation_date":1589942823,"answer_id":61904215,"question_id":46878638,"body_markdown":"Clearing the Cache of your React Native Project:\r\nif you are sure the module exists, try this steps:\r\n\r\n1. Clear watchman watches:\r\nnpm watchman watch-del-all\r\n2. Delete node_modules:\r\nrm -rf node_modules and run yarn install\r\n3. Reset Metro&#39;s cache:\r\nyarn start --reset-cache\r\n4. Remove the cache: rm -rf /tmp/metro-*\r\n","title":"How to clear react-native cache?","body":"<p>Clearing the Cache of your React Native Project:\nif you are sure the module exists, try this steps:</p>\n\n<ol>\n<li>Clear watchman watches:\nnpm watchman watch-del-all</li>\n<li>Delete node_modules:\nrm -rf node_modules and run yarn install</li>\n<li>Reset Metro's cache:\nyarn start --reset-cache</li>\n<li>Remove the cache: rm -rf /tmp/metro-*</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":17095092,"reputation":516,"user_id":12370254,"display_name":"Glitch_Znab"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1590115313,"creation_date":1590112239,"answer_id":61946607,"question_id":46878638,"body_markdown":"Here&#39;s a great discussion on GitHub which helped me a lot.\r\n[Clearing the Cache of your React Native Project][1] by [Jarret Moses][2]\r\n\r\nThere are solutions for 4 different instances.\r\n\r\n \r\n\r\n 1. RN &lt;0.50 -  \r\n`watchman watch-del-all &amp;&amp; rm -rf $TMPDIR/react-* &amp;&amp; rm -rf node_modules/ &amp;&amp; npm cache clean &amp;&amp; npm install &amp;&amp; npm start -- --reset-cache`\r\n\r\n 2. RN &gt;=0.50 - \r\n`watchman watch-del-all &amp;&amp; rm -rf $TMPDIR/react-native-packager-cache-* &amp;&amp; rm -rf $TMPDIR/metro-bundler-cache-* &amp;&amp; rm -rf node_modules/ &amp;&amp; npm cache clean &amp;&amp; npm install &amp;&amp; npm start -- --reset-cache`\r\n 3. NPM &gt;=5 - \r\n`watchman watch-del-all &amp;&amp; rm -rf $TMPDIR/react-* &amp;&amp; rm -rf node_modules/ &amp;&amp; npm cache verify &amp;&amp; npm install &amp;&amp; npm start -- --reset-cache`\r\n 4. Windows - \r\n`del %appdata%\\Temp\\react-native-* &amp; cd android &amp; gradlew clean &amp; cd .. &amp; del node_modules/ &amp; npm cache clean --force &amp; npm install &amp; npm start -- --reset-cache`\r\n \r\n\r\n\r\nThe solution is similar to [Vikram Biwal&#39;s Answer.][3]\r\n\r\nAnd there is a discussion below in the given link, so even if the above 4 cases don&#39;t work for you, you can scroll through and find a possible solution.\r\n\r\n\r\n  [1]: https://gist.github.com/jarretmoses/c2e4786fd342b3444f3bc6beff32098d\r\n  [2]: https://gist.github.com/jarretmoses\r\n  [3]: https://stackoverflow.com/questions/46878638/how-to-clear-react-native-cache/51375437#51375437","title":"How to clear react-native cache?","body":"<p>Here's a great discussion on GitHub which helped me a lot.\n<a href=\"https://gist.github.com/jarretmoses/c2e4786fd342b3444f3bc6beff32098d\" rel=\"noreferrer\">Clearing the Cache of your React Native Project</a> by <a href=\"https://gist.github.com/jarretmoses\" rel=\"noreferrer\">Jarret Moses</a></p>\n\n<p>There are solutions for 4 different instances.</p>\n\n<ol>\n<li><p>RN &lt;0.50 -<br>\n<code>watchman watch-del-all &amp;&amp; rm -rf $TMPDIR/react-* &amp;&amp; rm -rf node_modules/ &amp;&amp; npm cache clean &amp;&amp; npm install &amp;&amp; npm start -- --reset-cache</code></p></li>\n<li><p>RN >=0.50 - \n<code>watchman watch-del-all &amp;&amp; rm -rf $TMPDIR/react-native-packager-cache-* &amp;&amp; rm -rf $TMPDIR/metro-bundler-cache-* &amp;&amp; rm -rf node_modules/ &amp;&amp; npm cache clean &amp;&amp; npm install &amp;&amp; npm start -- --reset-cache</code></p></li>\n<li>NPM >=5 - \n<code>watchman watch-del-all &amp;&amp; rm -rf $TMPDIR/react-* &amp;&amp; rm -rf node_modules/ &amp;&amp; npm cache verify &amp;&amp; npm install &amp;&amp; npm start -- --reset-cache</code></li>\n<li>Windows - \n<code>del %appdata%\\Temp\\react-native-* &amp; cd android &amp; gradlew clean &amp; cd .. &amp; del node_modules/ &amp; npm cache clean --force &amp; npm install &amp; npm start -- --reset-cache</code></li>\n</ol>\n\n<p>The solution is similar to <a href=\"https://stackoverflow.com/questions/46878638/how-to-clear-react-native-cache/51375437#51375437\">Vikram Biwal's Answer.</a></p>\n\n<p>And there is a discussion below in the given link, so even if the above 4 cases don't work for you, you can scroll through and find a possible solution.</p>\n"},{"tags":[],"owner":{"account_id":11445556,"reputation":10075,"user_id":8389576,"display_name":"Balaji"},"down_vote_count":0,"up_vote_count":127,"is_accepted":false,"score":127,"last_activity_date":1592769171,"creation_date":1592769171,"answer_id":62503701,"question_id":46878638,"body_markdown":"Simplest one(react native,npm and expo )\r\n\r\nFor React Native \r\n\r\n    react-native start --reset-cache\r\n\r\nfor npm\r\n\r\n    npm start -- --reset-cache\r\n\r\nfor Expo\r\n\r\n    expo start -c","title":"How to clear react-native cache?","body":"<p>Simplest one(react native,npm and expo )</p>\n<p>For React Native</p>\n<pre><code>react-native start --reset-cache\n</code></pre>\n<p>for npm</p>\n<pre><code>npm start -- --reset-cache\n</code></pre>\n<p>for Expo</p>\n<pre><code>expo start -c\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14626015,"reputation":579,"user_id":10563344,"display_name":"Eddie Lam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600428950,"creation_date":1600428950,"answer_id":63955017,"question_id":46878638,"body_markdown":"I went into this issue today, too. The cause was kinda silly -- `vscode` auto imported something from `express-validator` and caused the bug. &lt;br&gt;\r\n&lt;br&gt;\r\nJust mentioning this in case anyone has done all the steps to clear cache/ delete modules or what not.","title":"How to clear react-native cache?","body":"<p>I went into this issue today, too. The cause was kinda silly -- <code>vscode</code> auto imported something from <code>express-validator</code> and caused the bug. <br>\n<br>\nJust mentioning this in case anyone has done all the steps to clear cache/ delete modules or what not.</p>\n"},{"tags":[],"owner":{"account_id":15541518,"reputation":13537,"user_id":11212074,"display_name":"hong developer"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1686163922,"creation_date":1610418306,"answer_id":65677206,"question_id":46878638,"body_markdown":"Currently, it is built using `npx`, so it needs to be updated.\r\n\r\n**Terminal** : `npx react-native start --reset-cache`\r\n\r\n**iOS** : `Xcode -&gt; Product -&gt; Clean Build Folder`\r\n\r\n**Android** : `Android Studio -&gt; Build -&gt; Clean Project`","title":"How to clear react-native cache?","body":"<p>Currently, it is built using <code>npx</code>, so it needs to be updated.</p>\n<p><strong>Terminal</strong> : <code>npx react-native start --reset-cache</code></p>\n<p><strong>iOS</strong> : <code>Xcode -&gt; Product -&gt; Clean Build Folder</code></p>\n<p><strong>Android</strong> : <code>Android Studio -&gt; Build -&gt; Clean Project</code></p>\n"},{"tags":[],"owner":{"account_id":7623557,"reputation":291,"user_id":5780831,"display_name":"mmafrar"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1619087481,"creation_date":1619087481,"answer_id":67211500,"question_id":46878638,"body_markdown":"Below commands worked for me for Android and Yarn,\r\n\r\n    cd android &amp;&amp; ./gradlew cleanBuildCache &amp;&amp; cd .. &amp;&amp;\r\n    watchman watch-del-all &amp;&amp; rm -rf node_modules/ &amp;&amp;\r\n    rm -rf $TMPDIR/react-native-packager-cache-* &amp;&amp;\r\n    rm -rf $TMPDIR/metro-bundler-cache-* &amp;&amp;  \r\n    yarn cache clean &amp;&amp; yarn install &amp;&amp; \r\n    yarn start --reset-cache","title":"How to clear react-native cache?","body":"<p>Below commands worked for me for Android and Yarn,</p>\n<pre><code>cd android &amp;&amp; ./gradlew cleanBuildCache &amp;&amp; cd .. &amp;&amp;\nwatchman watch-del-all &amp;&amp; rm -rf node_modules/ &amp;&amp;\nrm -rf $TMPDIR/react-native-packager-cache-* &amp;&amp;\nrm -rf $TMPDIR/metro-bundler-cache-* &amp;&amp;  \nyarn cache clean &amp;&amp; yarn install &amp;&amp; \nyarn start --reset-cache\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19602810,"reputation":99,"user_id":14347216,"display_name":"Code Drop"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630439199,"creation_date":1630439199,"answer_id":69004563,"question_id":46878638,"body_markdown":"Well.. i want to share my experience about this issue: \r\n\r\nI was facing this problem, and when I opened the task manager I notice many tasks being executed, and they were linked to my project folder.\r\n\r\nSo I restarted my PC, and when it turned on, I could install all I needed, so the problem got solved itself, it worked to me, hope this help somebody...","title":"How to clear react-native cache?","body":"<p>Well.. i want to share my experience about this issue:</p>\n<p>I was facing this problem, and when I opened the task manager I notice many tasks being executed, and they were linked to my project folder.</p>\n<p>So I restarted my PC, and when it turned on, I could install all I needed, so the problem got solved itself, it worked to me, hope this help somebody...</p>\n"},{"tags":[],"owner":{"account_id":4196640,"reputation":11746,"user_id":3437900,"accept_rate":76,"display_name":"Shiva"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1637586375,"creation_date":1637586375,"answer_id":70066243,"question_id":46878638,"body_markdown":"### TO Clear cache in IOS/Xcode\r\n\r\n Delete folders in \r\n`  /Users/{YOUR_USERNAME}/Library/Developer/Xcode/DerivedData/`\r\nand try again.\r\n\r\n    rm ~/Library/Developer/Xcode/DerivedData/* ","title":"How to clear react-native cache?","body":"<h3>TO Clear cache in IOS/Xcode</h3>\n<p>Delete folders in\n<code>  /Users/{YOUR_USERNAME}/Library/Developer/Xcode/DerivedData/</code>\nand try again.</p>\n<pre><code>rm ~/Library/Developer/Xcode/DerivedData/* \n</code></pre>\n"},{"tags":[],"owner":{"account_id":15424156,"reputation":8990,"user_id":11127383,"display_name":"Daniel Danielecki"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1647246639,"creation_date":1647246639,"answer_id":71464874,"question_id":46878638,"body_markdown":"Run in your terminal: `expo prebuild --clean`","title":"How to clear react-native cache?","body":"<p>Run in your terminal: <code>expo prebuild --clean</code></p>\n"},{"tags":[],"owner":{"account_id":23888517,"reputation":301,"user_id":17888442,"display_name":"Saif Mohmd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668778728,"creation_date":1661723678,"answer_id":73522544,"question_id":46878638,"body_markdown":"For android and Npm\r\n\r\n``` cd android &amp;&amp; ./gradlew cleanBuildCache &amp;&amp; cd .. &amp;&amp;\r\nwatchman watch-del-all &amp;&amp; rm -rf node_modules/ &amp;&amp;\r\nrm -rf $TMPDIR/react-native-packager-cache-* &amp;&amp;\r\nrm -rf $TMPDIR/metro-bundler-cache-* &amp;&amp;  \r\nnpm cache clean &amp;&amp; yarn install &amp;&amp; \r\nnpm start --reset-cache","title":"How to clear react-native cache?","body":"<p>For android and Npm</p>\n<pre><code>watchman watch-del-all &amp;&amp; rm -rf node_modules/ &amp;&amp;\nrm -rf $TMPDIR/react-native-packager-cache-* &amp;&amp;\nrm -rf $TMPDIR/metro-bundler-cache-* &amp;&amp;  \nnpm cache clean &amp;&amp; yarn install &amp;&amp; \nnpm start --reset-cache\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24276306,"reputation":76,"user_id":18223566,"display_name":"Rushikesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667307897,"creation_date":1667306834,"answer_id":74276190,"question_id":46878638,"body_markdown":"React native\r\n\r\n  \r\n\r\n     npm start -r-cache\r\nor \r\n\r\n    yarn cache clean\r\n\r\nExpo \r\n\r\n    expo start -c","title":"How to clear react-native cache?","body":"<p>React native</p>\n<pre><code> npm start -r-cache\n</code></pre>\n<p>or</p>\n<pre><code>yarn cache clean\n</code></pre>\n<p>Expo</p>\n<pre><code>expo start -c\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25333752,"reputation":451,"user_id":19153194,"display_name":"Vaishnavi Maske"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675411495,"creation_date":1675411495,"answer_id":75332973,"question_id":46878638,"body_markdown":"npm start -- --reset-cache\r\n\r\nClean build cache \r\n\r\n\r\ncd android &amp;&amp; ./gradlew cleanBuildCache\r\n\r\nhttps://medium.com/@abhisheknalwaya/how-to-clear-react-native-cache-c435c258834e","title":"How to clear react-native cache?","body":"<p>npm start -- --reset-cache</p>\n<p>Clean build cache</p>\n<p>cd android &amp;&amp; ./gradlew cleanBuildCache</p>\n<p><a href=\"https://medium.com/@abhisheknalwaya/how-to-clear-react-native-cache-c435c258834e\" rel=\"nofollow noreferrer\">https://medium.com/@abhisheknalwaya/how-to-clear-react-native-cache-c435c258834e</a></p>\n"},{"tags":[],"owner":{"account_id":22516601,"reputation":849,"user_id":16710738,"display_name":"Deepak Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680611810,"creation_date":1680604910,"answer_id":75928396,"question_id":46878638,"body_markdown":"Consider using the below code for a clean ios build:\r\n\r\n    cd ios &amp;&amp; xcodebuild clean &amp;&amp; cd .. &amp;&amp; npm run ios\r\n\r\n","title":"How to clear react-native cache?","body":"<p>Consider using the below code for a clean ios build:</p>\n<pre><code>cd ios &amp;&amp; xcodebuild clean &amp;&amp; cd .. &amp;&amp; npm run ios\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8044443,"reputation":520,"user_id":6065048,"display_name":"Matt Fleming"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695869849,"creation_date":1695276205,"answer_id":77147544,"question_id":46878638,"body_markdown":"Here&#39;s some cache cleaning scripts to add to your package.json. It includes a &#39;secret-cache&#39; workaround to clear a cache that is missed by `react-native clean`.\r\n\r\nThey will clean all the build &amp; react-native caches, but not the package or pod caches, which is usually what you want.\r\n\r\n```js\r\n    &quot;clean:gradle&quot;: &quot;cd android &amp;&amp; ./gradlew --stop; rm -rf ~/.gradle/caches/*&quot;,\r\n    &quot;clean:android&quot;: &quot;yarn clean:secret-cache &amp;&amp; react-native clean --include android,metro,watchman&quot;,\r\n    &quot;clean:ios&quot;: &quot;yarn clean:secret-cache &amp;&amp; react-native clean --include metro,watchman &amp;&amp; cd ios &amp;&amp; xattr -w com.apple.xcode.CreatedByBuildSystem true build &amp;&amp; xcodebuild clean; cd ..&quot;,\r\n    &quot;clean:secret-cache&quot;: &quot;npx react-native start --reset-cache --projectRoot null 1&gt;/dev/null 2&gt;&amp;1 || true&quot;,\r\n```\r\n\r\nThe &#39;secret-cache&#39; script will allow your .env updates to work even if you experience the react native dotenv cache bug:\r\nhttps://github.com/goatandsheep/react-native-dotenv#cacheing\r\n\r\nAdd them to package.json then `yarn clean:ios &amp;&amp; yarn ios` or `yarn clean:android &amp;&amp; yarn android`\r\n\r\nIn some cases this may still not be enough (e.g. react-native-auth0 still caches auth0Domain). So here&#39;s the nuclear option (requires package.json updates above):\r\n\r\n```sh\r\n# Nuclear option (100% definitely clean everything) - go get a coffee or something\r\nyarn clean:secret-cache &amp;&amp; npx react-native clean-project-auto &amp;&amp; yarn clean:gradle &amp;&amp; yarn &amp;&amp; cd android &amp;&amp; ./gradlew assemble\r\n```\r\n","title":"How to clear react-native cache?","body":"<p>Here's some cache cleaning scripts to add to your package.json. It includes a 'secret-cache' workaround to clear a cache that is missed by <code>react-native clean</code>.</p>\n<p>They will clean all the build &amp; react-native caches, but not the package or pod caches, which is usually what you want.</p>\n<pre class=\"lang-js prettyprint-override\"><code>    &quot;clean:gradle&quot;: &quot;cd android &amp;&amp; ./gradlew --stop; rm -rf ~/.gradle/caches/*&quot;,\n    &quot;clean:android&quot;: &quot;yarn clean:secret-cache &amp;&amp; react-native clean --include android,metro,watchman&quot;,\n    &quot;clean:ios&quot;: &quot;yarn clean:secret-cache &amp;&amp; react-native clean --include metro,watchman &amp;&amp; cd ios &amp;&amp; xattr -w com.apple.xcode.CreatedByBuildSystem true build &amp;&amp; xcodebuild clean; cd ..&quot;,\n    &quot;clean:secret-cache&quot;: &quot;npx react-native start --reset-cache --projectRoot null 1&gt;/dev/null 2&gt;&amp;1 || true&quot;,\n</code></pre>\n<p>The 'secret-cache' script will allow your .env updates to work even if you experience the react native dotenv cache bug:\n<a href=\"https://github.com/goatandsheep/react-native-dotenv#cacheing\" rel=\"nofollow noreferrer\">https://github.com/goatandsheep/react-native-dotenv#cacheing</a></p>\n<p>Add them to package.json then <code>yarn clean:ios &amp;&amp; yarn ios</code> or <code>yarn clean:android &amp;&amp; yarn android</code></p>\n<p>In some cases this may still not be enough (e.g. react-native-auth0 still caches auth0Domain). So here's the nuclear option (requires package.json updates above):</p>\n<pre class=\"lang-bash prettyprint-override\"><code># Nuclear option (100% definitely clean everything) - go get a coffee or something\nyarn clean:secret-cache &amp;&amp; npx react-native clean-project-auto &amp;&amp; yarn clean:gradle &amp;&amp; yarn &amp;&amp; cd android &amp;&amp; ./gradlew assemble\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11682536,"reputation":956,"user_id":8553678,"display_name":"karim elsaidy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695276529,"creation_date":1695276529,"answer_id":77147570,"question_id":46878638,"body_markdown":" - android\r\n cd android &amp;&amp; ./gradlew clean\r\n - ios\r\n open xcode then choose product =&gt; clear all issue and clean build folder\r\n\r\nthen yarn start --reset-cache\r\n","title":"How to clear react-native cache?","body":"<ul>\n<li>android\ncd android &amp;&amp; ./gradlew clean</li>\n<li>ios\nopen xcode then choose product =&gt; clear all issue and clean build folder</li>\n</ul>\n<p>then yarn start --reset-cache</p>\n"},{"tags":[],"owner":{"account_id":17750035,"reputation":551,"user_id":13348408,"display_name":"Roman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700745152,"creation_date":1698059575,"answer_id":77344697,"question_id":46878638,"body_markdown":"For React Native &gt; v0.7 (without expo) use:\r\n\r\n    watchman watch-del-all\r\n    rm -rf yarn.lock package-lock.json node_modules\r\n    rm -rf android/app/build\r\n    rm ios/Pods ios/Podfile.lock\r\n    rm -rf ~/Library/Developer/Xcode/DerivedData\r\n    $TMPDIR/react-native-packager-cache-* $ rm -rf $TMPDIR/metro-bundler-cache-*\r\n    npm install &amp;&amp; cd ios &amp;&amp; pod update &amp;&amp; cd ..\r\n    cd android &amp;&amp; ./gradlew clean &amp;&amp; cd ..\r\n    npm start --reset-cache","title":"How to clear react-native cache?","body":"<p>For React Native &gt; v0.7 (without expo) use:</p>\n<pre><code>watchman watch-del-all\nrm -rf yarn.lock package-lock.json node_modules\nrm -rf android/app/build\nrm ios/Pods ios/Podfile.lock\nrm -rf ~/Library/Developer/Xcode/DerivedData\n$TMPDIR/react-native-packager-cache-* $ rm -rf $TMPDIR/metro-bundler-cache-*\nnpm install &amp;&amp; cd ios &amp;&amp; pod update &amp;&amp; cd ..\ncd android &amp;&amp; ./gradlew clean &amp;&amp; cd ..\nnpm start --reset-cache\n</code></pre>\n"}],"owner":{"account_id":5926657,"reputation":19289,"user_id":4662347,"accept_rate":72,"display_name":"Ville Miekk-oja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":583543,"favorite_count":0,"down_vote_count":0,"up_vote_count":166,"answer_count":25,"score":166,"last_activity_date":1700745152,"creation_date":1508702800,"question_id":46878638,"body_markdown":"In react-native development, there are multiple caches used when the app is built:\n\n1. React-native packager cache\n2. Emulator cache\n3. Java side cache (.gradle) folder (only in android)\n4. npm cache (if relevant?)\n\nAm I missing something also? Because I&#39;m trying to clear cache in react-native, to be able to repeat a bug that only occurs on first usage. But clearing those caches above did not help. This is on android. When the app is building, most of the rows DO NOT say UP-TO-DATE, as expected, because I cleared the cache.\n\nBut, there are still many rows where this text is printed. Like:\n\n&gt; app:preBuild UP-TO-DATE\n&gt;\n&gt; app:preDebugBuild UP-TO-DATE\n&gt;\n&gt; :app:preReleaseBuild UP-TO-DATE\n\n\nThe question is, how can I clear the whole cache related to react-native development?","title":"How to clear react-native cache?","body":"<p>In react-native development, there are multiple caches used when the app is built:</p>\n<ol>\n<li>React-native packager cache</li>\n<li>Emulator cache</li>\n<li>Java side cache (.gradle) folder (only in android)</li>\n<li>npm cache (if relevant?)</li>\n</ol>\n<p>Am I missing something also? Because I'm trying to clear cache in react-native, to be able to repeat a bug that only occurs on first usage. But clearing those caches above did not help. This is on android. When the app is building, most of the rows DO NOT say UP-TO-DATE, as expected, because I cleared the cache.</p>\n<p>But, there are still many rows where this text is printed. Like:</p>\n<blockquote>\n<p>app:preBuild UP-TO-DATE</p>\n<p>app:preDebugBuild UP-TO-DATE</p>\n<p>:app:preReleaseBuild UP-TO-DATE</p>\n</blockquote>\n<p>The question is, how can I clear the whole cache related to react-native development?</p>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":9885814,"reputation":1371,"user_id":7320372,"display_name":"Thomas Lang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":0,"score":-1,"last_activity_date":1700744881,"creation_date":1700744881,"question_id":77537145,"body_markdown":"I have this async code:\r\n```\r\nprivate CompletableFuture&lt;Boolean&gt; createAndMergeAndUploadOffer(OfferDto offer, Locale locale) {\r\n        return this.offerTemplatingService.prepareHtmlViewForDocument(offer, locale)\r\n                .thenApply(htmlContent -&gt; documentService.generatePdfDocumentFromHtml(htmlContent, ASSETS))\r\n                .thenCombine(CompletableFuture.supplyAsync(() -&gt; this.gbtService.readGbtDocument(locale)),\r\n                        this::mergeDocuments)\r\n                .thenCompose(result -&gt; jiraConnectorService.uploadAttachment(documentNameGenerator\r\n                        .apply(new DocumentInformation(DocumentType.OFFER,\r\n                                offer.getIssueKey(), EXTENSION)), offer.getIssueKey(), result));\r\n    }\r\n```\r\n\r\nThis does the following:\r\n\r\n - render a html offer document\r\n - generate a pdf out of this html template\r\n - fetch a pdf file from an external service\r\n - merge both pdf documents\r\n - upload the merged pdf document to a JIRA api\r\n\r\nFor this i use the following ThreadPoolTaskExecutor:\r\n\r\n```java\r\n@Bean\r\n    Executor executor() {    \r\n        ThreadPoolTaskExecutor threadPoolTaskExecutor = new ThreadPoolTaskExecutor();\r\n        threadPoolTaskExecutor.setCorePoolSize(4);\r\n        threadPoolTaskExecutor.setMaxPoolSize(4);\r\n        threadPoolTaskExecutor.setQueueCapacity(50);\r\n        // by setting core and max to the same value - we use a fixed thread pool\r\n        threadPoolTaskExecutor.setRejectedExecutionHandler(this.createRejectionHandler());\r\n        threadPoolTaskExecutor.setAllowCoreThreadTimeOut(true);\r\n        threadPoolTaskExecutor.initialize();\r\n\r\n        log.info(&quot;Using a dedicated ThreadPoolTaskExecutor bean with a core pool size of {} and a max pool size of {} ...&quot;,\r\n                threadPoolTaskExecutor.getCorePoolSize(), threadPoolTaskExecutor.getMaxPoolSize());\r\n        return new DelegatingSecurityContextAsyncTaskExecutor(threadPoolTaskExecutor);\r\n    }\r\n\r\n```\r\n\r\nWhen i run the code above (createAndMergeAndUploadOffer) i get an AsyncRequestTimeoutException ... After further investigation i became aware of the problem that the task for uploading the document via Spring&#180;s RestTemplate is somehow not submitted resulting in this above exception.\r\n\r\nPlease note:  \r\n\r\nWhen i update the ThreadPoolTaskExecutor the following:\r\n```java\r\nthreadPoolTaskExecutor.setCorePoolSize(8);\r\nthreadPoolTaskExecutor.setMaxPoolSize(8);\r\n```\r\nit works?\r\n\r\nWhat is the issue here?","title":"Thread pool stops accepting tasks","body":"<p>I have this async code:</p>\n<pre><code>private CompletableFuture&lt;Boolean&gt; createAndMergeAndUploadOffer(OfferDto offer, Locale locale) {\n        return this.offerTemplatingService.prepareHtmlViewForDocument(offer, locale)\n                .thenApply(htmlContent -&gt; documentService.generatePdfDocumentFromHtml(htmlContent, ASSETS))\n                .thenCombine(CompletableFuture.supplyAsync(() -&gt; this.gbtService.readGbtDocument(locale)),\n                        this::mergeDocuments)\n                .thenCompose(result -&gt; jiraConnectorService.uploadAttachment(documentNameGenerator\n                        .apply(new DocumentInformation(DocumentType.OFFER,\n                                offer.getIssueKey(), EXTENSION)), offer.getIssueKey(), result));\n    }\n</code></pre>\n<p>This does the following:</p>\n<ul>\n<li>render a html offer document</li>\n<li>generate a pdf out of this html template</li>\n<li>fetch a pdf file from an external service</li>\n<li>merge both pdf documents</li>\n<li>upload the merged pdf document to a JIRA api</li>\n</ul>\n<p>For this i use the following ThreadPoolTaskExecutor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n    Executor executor() {    \n        ThreadPoolTaskExecutor threadPoolTaskExecutor = new ThreadPoolTaskExecutor();\n        threadPoolTaskExecutor.setCorePoolSize(4);\n        threadPoolTaskExecutor.setMaxPoolSize(4);\n        threadPoolTaskExecutor.setQueueCapacity(50);\n        // by setting core and max to the same value - we use a fixed thread pool\n        threadPoolTaskExecutor.setRejectedExecutionHandler(this.createRejectionHandler());\n        threadPoolTaskExecutor.setAllowCoreThreadTimeOut(true);\n        threadPoolTaskExecutor.initialize();\n\n        log.info(&quot;Using a dedicated ThreadPoolTaskExecutor bean with a core pool size of {} and a max pool size of {} ...&quot;,\n                threadPoolTaskExecutor.getCorePoolSize(), threadPoolTaskExecutor.getMaxPoolSize());\n        return new DelegatingSecurityContextAsyncTaskExecutor(threadPoolTaskExecutor);\n    }\n\n</code></pre>\n<p>When i run the code above (createAndMergeAndUploadOffer) i get an AsyncRequestTimeoutException ... After further investigation i became aware of the problem that the task for uploading the document via Springs RestTemplate is somehow not submitted resulting in this above exception.</p>\n<p>Please note:</p>\n<p>When i update the ThreadPoolTaskExecutor the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>threadPoolTaskExecutor.setCorePoolSize(8);\nthreadPoolTaskExecutor.setMaxPoolSize(8);\n</code></pre>\n<p>it works?</p>\n<p>What is the issue here?</p>\n"},{"tags":["java","apache-kafka","quarkus","tibco-ems","mutiny"],"comments":[{"owner":{"account_id":3568344,"reputation":643,"user_id":2979325,"display_name":"Serkan"},"score":0,"creation_date":1700748396,"post_id":77537144,"comment_id":136694446,"body_markdown":"reactive-messaging-jms is not fully integrated with Quarkus. See also: https://github.com/quarkusio/quarkus/issues/30943","body":"reactive-messaging-jms is not fully integrated with Quarkus. See also: <a href=\"https://github.com/quarkusio/quarkus/issues/30943\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus/issues/30943</a>"},{"owner":{"account_id":4056112,"reputation":107,"user_id":3486666,"display_name":"andrean"},"score":0,"creation_date":1701175529,"post_id":77537144,"comment_id":136740388,"body_markdown":"@Serkan, given that reactive-messaging-jms is not fully integrated with Quarkus as highlighted in the issue, is it possible to manually implement a reactive messaging system using Quarkus, Vert.x, and Mutiny? If so, could you suggest some resources or provide guidelines on how to get started?","body":"@Serkan, given that reactive-messaging-jms is not fully integrated with Quarkus as highlighted in the issue, is it possible to manually implement a reactive messaging system using Quarkus, Vert.x, and Mutiny? If so, could you suggest some resources or provide guidelines on how to get started?"},{"owner":{"account_id":3568344,"reputation":643,"user_id":2979325,"display_name":"Serkan"},"score":0,"creation_date":1701347125,"post_id":77537144,"comment_id":136765741,"body_markdown":"There is already a smallrye-reactive-jms implementation, but somehow this doesn&#39;t work with Quarkus. I think you can ask this question in their Zulip chat channel, and most probably Clement can help you with it.\n\nSee smallrye-reactive-jms:\nhttps://smallrye.io/smallrye-reactive-messaging/4.12.0/jms/jms/\n\nSee Zulip chat channel:\nhttps://quarkusio.zulipchat.com/#narrow/stream/187030-users","body":"There is already a smallrye-reactive-jms implementation, but somehow this doesn&#39;t work with Quarkus. I think you can ask this question in their Zulip chat channel, and most probably Clement can help you with it.  See smallrye-reactive-jms: <a href=\"https://smallrye.io/smallrye-reactive-messaging/4.12.0/jms/jms/\" rel=\"nofollow noreferrer\">smallrye.io/smallrye-reactive-messaging/4.12.0/jms/jms</a>  See Zulip chat channel: <a href=\"https://quarkusio.zulipchat.com/#narrow/stream/187030-users\" rel=\"nofollow noreferrer\">quarkusio.zulipchat.com/#narrow/stream/187030-users</a>"}],"owner":{"account_id":4056112,"reputation":107,"user_id":3486666,"display_name":"andrean"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700744877,"creation_date":1700744877,"question_id":77537144,"body_markdown":"I&#39;m working with a Quarkus application where I need to consume messages from Tibco EMS and then process these messages. Below is the snippet of my current implementation:\r\n\r\n    Session session = connection.createSession();\r\n    Destination destination = session.createQueue(configurationProperties.queueFlight());\r\n    MessageConsumer consumer = session.createConsumer(destination);\r\n    \r\n    consumer.setMessageListener(message -&gt; {\r\n      FlightData flightData = flightDataConverter.toFlightData(message);\r\n      // TODO: send to kafka\r\n    });\r\n\r\nThis code is part of a method that&#39;s called at the start of the Quarkus application. It successfully receives messages from Tibco EMS. However, my goal is to enhance this process by implementing a reactive approach, possibly using Mutiny.\r\n\r\nI&#39;m seeking advice on whether it&#39;s possible to refactor this code to a reactive model with Mutiny, and if so, how I might go about it. Any suggestions or examples would be greatly appreciated.\r\n\r\nThanks!","title":"Consuming message from Tibco EMS with Quarkus","body":"<p>I'm working with a Quarkus application where I need to consume messages from Tibco EMS and then process these messages. Below is the snippet of my current implementation:</p>\n<pre><code>Session session = connection.createSession();\nDestination destination = session.createQueue(configurationProperties.queueFlight());\nMessageConsumer consumer = session.createConsumer(destination);\n\nconsumer.setMessageListener(message -&gt; {\n  FlightData flightData = flightDataConverter.toFlightData(message);\n  // TODO: send to kafka\n});\n</code></pre>\n<p>This code is part of a method that's called at the start of the Quarkus application. It successfully receives messages from Tibco EMS. However, my goal is to enhance this process by implementing a reactive approach, possibly using Mutiny.</p>\n<p>I'm seeking advice on whether it's possible to refactor this code to a reactive model with Mutiny, and if so, how I might go about it. Any suggestions or examples would be greatly appreciated.</p>\n<p>Thanks!</p>\n"},{"tags":["java","mysql","spring-boot","java-time"],"comments":[{"owner":{"account_id":9225619,"reputation":1240,"user_id":9107502,"display_name":"0x1C1B"},"score":1,"creation_date":1632578291,"post_id":69326726,"comment_id":122533637,"body_markdown":"Seems like there&#39;s a problem during &quot;deserialization&quot; of your time object. Do you also create database records using Spring Data JPA, I guess you&#39;re using Spring Data JPA right? What column definition (SQL Type) do you use? `TIME`? `30:00:00` is obvouisly no valid time...","body":"Seems like there&#39;s a problem during &quot;deserialization&quot; of your time object. Do you also create database records using Spring Data JPA, I guess you&#39;re using Spring Data JPA right? What column definition (SQL Type) do you use? <code>TIME</code>? <code>30:00:00</code> is obvouisly no valid time..."},{"owner":{"account_id":7612423,"reputation":82476,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1632578680,"post_id":69326726,"comment_id":122533733,"body_markdown":"Isnt the message in your screen shot pretty accurate and helpful? *If you are treating this type as a duration, consider retrieving this value as a string and and dealing with it according to your requirements.*","body":"Isnt the message in your screen shot pretty accurate and helpful? <i>If you are treating this type as a duration, consider retrieving this value as a string and and dealing with it according to your requirements.</i>"},{"owner":{"account_id":21635585,"reputation":17,"user_id":15958535,"display_name":"user15958535"},"score":0,"creation_date":1632579444,"post_id":69326726,"comment_id":122533911,"body_markdown":"@0x1C1B yes i&#39;m using Spring Data JPA And using time datatype for  column , How can i overcome this problem","body":"@0x1C1B yes i&#39;m using Spring Data JPA And using time datatype for  column , How can i overcome this problem"},{"owner":{"account_id":21635585,"reputation":17,"user_id":15958535,"display_name":"user15958535"},"score":0,"creation_date":1632579523,"post_id":69326726,"comment_id":122533932,"body_markdown":"@OleV.V. tried to retriew as string but getting same error , can you give an example how  to do that.","body":"@OleV.V. tried to retriew as string but getting same error , can you give an example how  to do that."},{"owner":{"account_id":7612423,"reputation":82476,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1632630119,"post_id":69326726,"comment_id":122542445,"body_markdown":"I dont have Spring Boot, so sorry, I cant (my question was meant as that, a question). Are you saying that you tried to declare `String findbytaskid(@Param(&quot;taskId&quot;) Integer taskId);` and got *If you are treating this type as a duration, consider retrieving this value as a string and and dealing with it according to your requirements.*? I find that funny.","body":"I dont have Spring Boot, so sorry, I cant (my question was meant as that, a question). Are you saying that you tried to declare <code>String findbytaskid(@Param(&quot;taskId&quot;) Integer taskId);</code> and got <i>If you are treating this type as a duration, consider retrieving this value as a string and and dealing with it according to your requirements.</i>? I find that funny."}],"answers":[{"tags":[],"owner":{"account_id":22856810,"reputation":1,"user_id":17001553,"display_name":"Amit Soni"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1632579783,"creation_date":1632579783,"answer_id":69327039,"question_id":69326726,"body_markdown":"It is mentioned in error message that time in mysql database is invalid format So that is why when your application returns time from database application is unable to recognize valid time format. \r\nAlso check data type corresponding to this time in the database. \r\n\r\n","title":"Retrieving time from mysql database by spring boot","body":"<p>It is mentioned in error message that time in mysql database is invalid format So that is why when your application returns time from database application is unable to recognize valid time format.\nAlso check data type corresponding to this time in the database.</p>\n"},{"tags":[],"owner":{"account_id":16796365,"reputation":36,"user_id":12142750,"display_name":"Danish Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700744816,"creation_date":1700744816,"answer_id":77537133,"question_id":69326726,"body_markdown":"The problem is you are retrieving a DURATION into a TIME object. That doesn&#39;t work if the DURATION is greater than 24 hours.\r\nOne of the work around could be you, can retrieve it as a String and do the further processing like this:\r\n\r\n```\r\n@Query(value = &quot;SELECT CONCAT(total_hours, &#39;&#39;) total_hours FROM tasks WHERE id=:taskId&quot;, nativeQuery = true)\r\nString findbytaskid(@Param(&quot;taskId&quot;) Integer taskId);\r\n```","title":"Retrieving time from mysql database by spring boot","body":"<p>The problem is you are retrieving a DURATION into a TIME object. That doesn't work if the DURATION is greater than 24 hours.\nOne of the work around could be you, can retrieve it as a String and do the further processing like this:</p>\n<pre><code>@Query(value = &quot;SELECT CONCAT(total_hours, '') total_hours FROM tasks WHERE id=:taskId&quot;, nativeQuery = true)\nString findbytaskid(@Param(&quot;taskId&quot;) Integer taskId);\n</code></pre>\n"}],"owner":{"account_id":21635585,"reputation":17,"user_id":15958535,"display_name":"user15958535"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":777,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700744816,"creation_date":1632577424,"question_id":69326726,"body_markdown":"I have database column with time datatype and I am trying to get that time to do some operations, if that column having more than 23:59:59 hour I&#39;m getting error.\r\n\r\nService class:\r\n\r\n    LocalTime taskMaxTime = repository.findbytaskid(timeSheet.getTaskId());\r\n\r\n    // here instead of LocalTime I have tried String , java.time.Duration , \r\n       java.sql.Time and org.apache.tomcat.jni.Time but didn&#39;t worked\r\n\r\nRepository:\r\n\r\n    @Query(value = &quot;SELECT total_hours FROM tasks WHERE id=:taskId&quot;, nativeQuery = true)\r\n    LocalTime findbytaskid(@Param(&quot;taskId&quot;) Integer taskId);\r\n\r\n   \r\nI&#39;m getting this error:\r\n\r\n    2021-09-25 19:05:32.625  WARN 116 --- [nio-8080-exec-1]o.h.engine.jdbc.spi.SqlExceptionHelper: \r\n    SQL Error: 0, SQLState: S10092021-09-25 19:05:32.625 ERROR 116 --- [nio-8080-exec-1] \r\n    o.h.engine.jdbc.spi.SqlExceptionHelper   : The value &#39;30:00:00&#39; is an invalid TIME value. \r\n    JDBC Time objects represent a wall-clock time and not a duration as MySQL treats them. If you \r\n    are treating this type as a duration, consider retrieving this value as a string and dealing \r\n    with it according to your requirements.\r\n\r\n      2021-09-25 19:05:32.649 ERROR 116 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/]. \r\n      [dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with \r\n      path [] threw exception [Request processing failed; nested exception is \r\n      org.springframework.orm.jpa.JpaSystemException: could not execute query; nested exception is \r\n      org.hibernate.exception.GenericJDBCException: could not execute query] with root cause\r\n\r\n      com.mysql.cj.exceptions.DataReadException: The value &#39;30:00:00&#39; is an invalid TIME value. \r\n      JDBC Time objects represent a wall-clock time and not a duration as MySQL treats them. If \r\n      you are treating this type as a duration, consider retrieving this value as a string and \r\n      dealing with it according to your requirements.\r\n[error Screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4RG5w.png\r\n\r\n\r\n\r\nI&#39;ve been stuck on this for so many days... can anyone provide a solution for this?\r\n\r\nThanks","title":"Retrieving time from mysql database by spring boot","body":"<p>I have database column with time datatype and I am trying to get that time to do some operations, if that column having more than 23:59:59 hour I'm getting error.</p>\n<p>Service class:</p>\n<pre><code>LocalTime taskMaxTime = repository.findbytaskid(timeSheet.getTaskId());\n\n// here instead of LocalTime I have tried String , java.time.Duration , \n   java.sql.Time and org.apache.tomcat.jni.Time but didn't worked\n</code></pre>\n<p>Repository:</p>\n<pre><code>@Query(value = &quot;SELECT total_hours FROM tasks WHERE id=:taskId&quot;, nativeQuery = true)\nLocalTime findbytaskid(@Param(&quot;taskId&quot;) Integer taskId);\n</code></pre>\n<p>I'm getting this error:</p>\n<pre><code>2021-09-25 19:05:32.625  WARN 116 --- [nio-8080-exec-1]o.h.engine.jdbc.spi.SqlExceptionHelper: \nSQL Error: 0, SQLState: S10092021-09-25 19:05:32.625 ERROR 116 --- [nio-8080-exec-1] \no.h.engine.jdbc.spi.SqlExceptionHelper   : The value '30:00:00' is an invalid TIME value. \nJDBC Time objects represent a wall-clock time and not a duration as MySQL treats them. If you \nare treating this type as a duration, consider retrieving this value as a string and dealing \nwith it according to your requirements.\n\n  2021-09-25 19:05:32.649 ERROR 116 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/]. \n  [dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with \n  path [] threw exception [Request processing failed; nested exception is \n  org.springframework.orm.jpa.JpaSystemException: could not execute query; nested exception is \n  org.hibernate.exception.GenericJDBCException: could not execute query] with root cause\n\n  com.mysql.cj.exceptions.DataReadException: The value '30:00:00' is an invalid TIME value. \n  JDBC Time objects represent a wall-clock time and not a duration as MySQL treats them. If \n  you are treating this type as a duration, consider retrieving this value as a string and \n  dealing with it according to your requirements.\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/4RG5w.png\" rel=\"nofollow noreferrer\">error Screenshot</a></p>\n<p>I've been stuck on this for so many days... can anyone provide a solution for this?</p>\n<p>Thanks</p>\n"},{"tags":["java","android-studio","compiler-errors","build.gradle","adb"],"comments":[{"owner":{"account_id":50585,"reputation":39930,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1700744727,"post_id":77534156,"comment_id":136693780,"body_markdown":"I think you misunderstood gradle. Gradle is a build system for [app] development that is executed on the device you develop (usually a PC or Mac). It is not a shell script that is executed on the phone. For installing apps you need to have adb enabled, and you can not use gradle to enable it.","body":"I think you misunderstood gradle. Gradle is a build system for [app] development that is executed on the device you develop (usually a PC or Mac). It is not a shell script that is executed on the phone. For installing apps you need to have adb enabled, and you can not use gradle to enable it."},{"owner":{"account_id":24878970,"reputation":1,"user_id":22968550,"display_name":"felipe.php"},"score":0,"creation_date":1700784871,"post_id":77534156,"comment_id":136699123,"body_markdown":"oh okay,what can i do to activate it? since i don&#39;t have access to the device because the screen is broken...","body":"oh okay,what can i do to activate it? since i don&#39;t have access to the device because the screen is broken..."},{"owner":{"account_id":50585,"reputation":39930,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1700820481,"post_id":77534156,"comment_id":136702693,"body_markdown":"https://android.stackexchange.com/questions/tagged/broken-screen","body":"<a href=\"https://android.stackexchange.com/questions/tagged/broken-screen\">android.stackexchange.com/questions/tagged/broken-screen</a>"}],"owner":{"account_id":24878970,"reputation":1,"user_id":22968550,"display_name":"felipe.php"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700744592,"creation_date":1700709089,"question_id":77534156,"body_markdown":"```\r\nBuild file &#39;C:\\Users\\Felipe\\AndroidStudioProjects\\MyApplication\\build.gradle&#39; line: 23\r\n\r\nCould not compile build file &#39;C:\\Users\\Felipe\\AndroidStudioProjects\\MyApplication\\build.gradle&#39;.\r\n&gt; startup failed:\r\n  build file &#39;C:\\Users\\Felipe\\AndroidStudioProjects\\MyApplication\\build.gradle&#39;: 23: Unexpected input: &#39;1 &gt;&gt; /system/&#39; @ line 23, column 44.\r\n     ervice.developermode.enable = 1 &gt;&gt; /syst\r\n                                   ^\r\n    echo:\r\n    persist.service.developermode.enable = 1 &gt;&gt; /system/ build.protectionDomain\r\n    echo:\r\n    persist.service.service.adb.enable = 1 &gt;&gt; /system/ build.protectionDomain\r\n    echo:\r\n    persit.debuggable =1 &gt;&gt; /system/ build.protectionDomain\r\n    reboot\r\n    dependencies {compile group(org.bukkit), name: &#39;bukkit&#39;, version: &#39;1.7.9-R0.1-SNAPSHOT&#39;}\r\n    compile(&#39;io.ibj:MattLib:1.1-SNAPSHOT&#39;) {exlude group: &#39;de.bananaco&#39; exclude &#39;net.milkbow:vault:1.2.27&#39;}\r\n    compile group: &#39;net.citizensnpcs&#39;, name: &#39;citizens&#39;, version: &#39;2.0.12&#39;\r\n    compile group: &#39;com.sk89q&#39;, name: &#39;worldedit&#39;, version: &#39;5.6.1&#39;\r\n    compile group: &#39;net.milkbowl&#39;, name: &#39;vault&#39;, version: &#39;1.2.12&#39;\r\n    compile fileTree(annotationProcessOptions)\r\n    includeCompileClasspath true\r\n\r\n}\r\n```\r\n\r\n\r\ni&#39;m trying to activate USB debugging on my phone with the broken screen... i followed a guide, but i got this error... i&#39;m using Android Studio.","title":"build.gradle file not compile","body":"<pre><code>Build file 'C:\\Users\\Felipe\\AndroidStudioProjects\\MyApplication\\build.gradle' line: 23\n\nCould not compile build file 'C:\\Users\\Felipe\\AndroidStudioProjects\\MyApplication\\build.gradle'.\n&gt; startup failed:\n  build file 'C:\\Users\\Felipe\\AndroidStudioProjects\\MyApplication\\build.gradle': 23: Unexpected input: '1 &gt;&gt; /system/' @ line 23, column 44.\n     ervice.developermode.enable = 1 &gt;&gt; /syst\n                                   ^\n    echo:\n    persist.service.developermode.enable = 1 &gt;&gt; /system/ build.protectionDomain\n    echo:\n    persist.service.service.adb.enable = 1 &gt;&gt; /system/ build.protectionDomain\n    echo:\n    persit.debuggable =1 &gt;&gt; /system/ build.protectionDomain\n    reboot\n    dependencies {compile group(org.bukkit), name: 'bukkit', version: '1.7.9-R0.1-SNAPSHOT'}\n    compile('io.ibj:MattLib:1.1-SNAPSHOT') {exlude group: 'de.bananaco' exclude 'net.milkbow:vault:1.2.27'}\n    compile group: 'net.citizensnpcs', name: 'citizens', version: '2.0.12'\n    compile group: 'com.sk89q', name: 'worldedit', version: '5.6.1'\n    compile group: 'net.milkbowl', name: 'vault', version: '1.2.12'\n    compile fileTree(annotationProcessOptions)\n    includeCompileClasspath true\n\n}\n</code></pre>\n<p>i'm trying to activate USB debugging on my phone with the broken screen... i followed a guide, but i got this error... i'm using Android Studio.</p>\n"},{"tags":["java","spring","backend","restful-url"],"comments":[{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1700754215,"post_id":77537104,"comment_id":136695515,"body_markdown":"https://en.m.wikipedia.org/wiki/HTTP_404","body":"<a href=\"https://en.m.wikipedia.org/wiki/HTTP_404\" rel=\"nofollow noreferrer\">en.m.wikipedia.org/wiki/HTTP_404</a>"},{"owner":{"account_id":1810821,"reputation":475,"user_id":1646928,"accept_rate":71,"display_name":"JamesB"},"score":0,"creation_date":1700758620,"post_id":77537104,"comment_id":136696306,"body_markdown":"@YI Chen Wang Post code.","body":"@YI Chen Wang Post code."}],"owner":{"account_id":22754486,"reputation":11,"user_id":16914146,"display_name":"YI Chen Wang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700744511,"creation_date":1700744511,"question_id":77537104,"body_markdown":"I&#39;m using Java with swing to consume a RESTful Web Service , I&#39;ve follow the instructions of the [official site][1] to realize it . Currently using Ecplise with Maven.\r\n\r\n [1]: https://spring.io/guides/gs/consuming-rest/\r\n\r\nNow there&#39;re some error showing up , after I complete the steps provided from the website ,\r\nalready check the &#39;/api/random&#39; at my CMD , and it return  &quot;Failed to connect to localhost port 8081 &quot; . \r\n\r\nI&#39;ve also checked the Application Properties in my Java project . \r\n\r\nStill haven&#39;t solve the problem yet , so I came here to seek for more aids , thanks . \r\n\r\nHere&#39;s a glimpse of my error message, \r\n\r\n```Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n[2m2023-11-20T18:22:41.291+08:00[0;39m [31mERROR[0;39m [35m6844[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.boot.SpringApplication              [0;39m [2m:[0;39m Application run failed\r\njava.lang.IllegalStateException: Failed to execute CommandLineRunner```\r\n\r\n...\r\n\r\nCaused by: org.springframework.web.client.HttpClientErrorException$NotFound: 404 : &quot;{&quot;timestamp&quot;:&quot;2023-11-20T10:22:41.242+00:00&quot;,&quot;status&quot;:404,&quot;error&quot;:&quot;Not Found&quot;,&quot;path&quot;:&quot;/api/random&quot;}&quot;\r\n\r\n\r\n \r\n\r\n","title":"Having trouble consuming RESTful Web Service","body":"<p>I'm using Java with swing to consume a RESTful Web Service , I've follow the instructions of the <a href=\"https://spring.io/guides/gs/consuming-rest/\" rel=\"nofollow noreferrer\">official site</a> to realize it . Currently using Ecplise with Maven.</p>\n<p>Now there're some error showing up , after I complete the steps provided from the website ,\nalready check the '/api/random' at my CMD , and it return  &quot;Failed to connect to localhost port 8081 &quot; .</p>\n<p>I've also checked the Application Properties in my Java project .</p>\n<p>Still haven't solve the problem yet , so I came here to seek for more aids , thanks .</p>\n<p>Here's a glimpse of my error message,</p>\n<pre><code>[2m2023-11-20T18:22:41.291+08:00[0;39m [31mERROR[0;39m [35m6844[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.boot.SpringApplication              [0;39m [2m:[0;39m Application run failed\njava.lang.IllegalStateException: Failed to execute CommandLineRunner```\n\n...\n\nCaused by: org.springframework.web.client.HttpClientErrorException$NotFound: 404 : &quot;{&quot;timestamp&quot;:&quot;2023-11-20T10:22:41.242+00:00&quot;,&quot;status&quot;:404,&quot;error&quot;:&quot;Not Found&quot;,&quot;path&quot;:&quot;/api/random&quot;}&quot;\n\n\n \n\n</code></pre>\n"},{"tags":["java","eclipse","jar","saaj"],"comments":[{"owner":{"account_id":4427596,"reputation":887,"user_id":3605642,"display_name":"Michal Lonski"},"score":0,"creation_date":1510224858,"post_id":47199846,"comment_id":81348420,"body_markdown":"Do you have this class &quot;com.sun.xml.internal.messaging.saaj.soap.SAAJMetaFactoryImpl&quot; in jar file or in classpath?","body":"Do you have this class &quot;com.sun.xml.internal.messaging.saaj.soap.SAAJMetaFactoryImp&zwnj;&#8203;l&quot; in jar file or in classpath?"},{"owner":{"account_id":3238388,"reputation":487,"user_id":2731978,"display_name":"Hakello"},"score":0,"creation_date":1510229251,"post_id":47199846,"comment_id":81351199,"body_markdown":"If I include the referenced file as as jar file (https://mvnrepository.com/artifact/com.sun.xml.messaging.saaj/saaj-impl/1.3) it works after beeing packaged. So to rephrase: I do not understand why it works in eclipse without that library.","body":"If I include the referenced file as as jar file (<a href=\"https://mvnrepository.com/artifact/com.sun.xml.messaging.saaj/saaj-impl/1.3\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.sun.xml.messaging.saaj/saaj-&zwnj;&#8203;impl/&hellip;</a>) it works after beeing packaged. So to rephrase: I do not understand why it works in eclipse without that library."},{"owner":{"account_id":4427596,"reputation":887,"user_id":3605642,"display_name":"Michal Lonski"},"score":1,"creation_date":1510229551,"post_id":47199846,"comment_id":81351394,"body_markdown":"Probably eclipse has its own classpath built. You can try print it at the runtime and compare the results.","body":"Probably eclipse has its own classpath built. You can try print it at the runtime and compare the results."},{"owner":{"account_id":3238388,"reputation":487,"user_id":2731978,"display_name":"Hakello"},"score":0,"creation_date":1510230423,"post_id":47199846,"comment_id":81351935,"body_markdown":"Well @Michal, you are on to something... I could not run the sample that prints the classpath on runtime after packaging it to a JAR either (eclipse ran fine)... So I uninstalled JDK 9. Both the classpath thing and the actual SOAP call work  great on the latest JDK8 (which eclipse still had as default).","body":"Well @Michal, you are on to something... I could not run the sample that prints the classpath on runtime after packaging it to a JAR either (eclipse ran fine)... So I uninstalled JDK 9. Both the classpath thing and the actual SOAP call work  great on the latest JDK8 (which eclipse still had as default)."},{"owner":{"account_id":14703555,"reputation":1,"user_id":10618952,"display_name":"Evgeny  Artemev"},"score":0,"creation_date":1576661843,"post_id":47199846,"comment_id":104968663,"body_markdown":"I got this error when switching to Java 11. https://stackoverflow.com/questions/54573998/java-11-package-javax-xml-soap-does-not-exist","body":"I got this error when switching to Java 11. <a href=\"https://stackoverflow.com/questions/54573998/java-11-package-javax-xml-soap-does-not-exist\" title=\"java 11 package javax xml soap does not exist\">stackoverflow.com/questions/54573998/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":8081995,"reputation":953,"user_id":6090844,"display_name":"Manoel Campos"},"down_vote_count":0,"up_vote_count":54,"is_accepted":true,"score":54,"last_activity_date":1586283160,"creation_date":1537047911,"answer_id":52349146,"question_id":47199846,"body_markdown":"I just added the following [dependency][1] to my project:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\r\n        &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\r\n        &lt;version&gt;1.5.1&lt;/version&gt;\r\n    &lt;/dependency&gt;                \r\n\r\nIf you are using a version older than 1.5.1, you need to create the file `META-INF/services/javax.xml.soap.SAAJMetaFactory` with the following line to provide the fully-qualified name of the SAAJ factory class and it worked:\r\n\r\n    com.sun.xml.messaging.saaj.soap.SAAJMetaFactoryImpl\r\n\r\n\r\nThe [javax.xml.soap.saaj-api][2] seems to be abandoned.\r\nAnd it&#39;s very strange that a package named `com.sun` is the one to work.\r\nAnyway, it works.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.sun.xml.messaging.saaj/saaj-impl/1.5.0\r\n  [2]: https://mvnrepository.com/artifact/javax.xml.soap/saaj-api/1.3.5","title":"Unable to create SAAJ meta-factory after packaging as JAR","body":"<p>I just added the following <a href=\"https://mvnrepository.com/artifact/com.sun.xml.messaging.saaj/saaj-impl/1.5.0\" rel=\"noreferrer\">dependency</a> to my project:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\n    &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\n    &lt;version&gt;1.5.1&lt;/version&gt;\n&lt;/dependency&gt;                \n</code></pre>\n\n<p>If you are using a version older than 1.5.1, you need to create the file <code>META-INF/services/javax.xml.soap.SAAJMetaFactory</code> with the following line to provide the fully-qualified name of the SAAJ factory class and it worked:</p>\n\n<pre><code>com.sun.xml.messaging.saaj.soap.SAAJMetaFactoryImpl\n</code></pre>\n\n<p>The <a href=\"https://mvnrepository.com/artifact/javax.xml.soap/saaj-api/1.3.5\" rel=\"noreferrer\">javax.xml.soap.saaj-api</a> seems to be abandoned.\nAnd it's very strange that a package named <code>com.sun</code> is the one to work.\nAnyway, it works.</p>\n"},{"tags":[],"owner":{"account_id":5686053,"reputation":41,"user_id":4495592,"display_name":"Arturo Bernal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598957723,"creation_date":1598957723,"answer_id":63686270,"question_id":47199846,"body_markdown":"I have solved the problem by adding the following two dependencies\r\n\r\n       &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.5.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.xml.soap&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;saaj-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.3.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"Unable to create SAAJ meta-factory after packaging as JAR","body":"<p>I have solved the problem by adding the following two dependencies</p>\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\n        &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\n        &lt;version&gt;1.5.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.soap&lt;/groupId&gt;\n        &lt;artifactId&gt;saaj-api&lt;/artifactId&gt;\n        &lt;version&gt;1.3.5&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20135092,"reputation":11,"user_id":14766347,"display_name":"user14766347"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607121487,"creation_date":1607121487,"answer_id":65151725,"question_id":47199846,"body_markdown":"I&#39;m using Spring Boot 2.4.0 and Java 11.  This is what worked for me:\r\n\r\n\r\n    implementation &#39;javax.xml.ws:jaxws-api:2.3.1&#39;\r\n\timplementation &#39;javax.jws:javax.jws-api:1.1&#39;\r\n    implementation &#39;com.sun.xml.messaging.saaj:saaj-impl:1.5.1&#39;\r\n    implementation &#39;jakarta.xml.bind:jakarta.xml.bind-api:2.3.2&#39;\r\n    implementation &#39;org.glassfish.jaxb:jaxb-runtime:2.3.2&#39;\r\n\r\n","title":"Unable to create SAAJ meta-factory after packaging as JAR","body":"<p>I'm using Spring Boot 2.4.0 and Java 11.  This is what worked for me:</p>\n<pre><code>implementation 'javax.xml.ws:jaxws-api:2.3.1'\nimplementation 'javax.jws:javax.jws-api:1.1'\nimplementation 'com.sun.xml.messaging.saaj:saaj-impl:1.5.1'\nimplementation 'jakarta.xml.bind:jakarta.xml.bind-api:2.3.2'\nimplementation 'org.glassfish.jaxb:jaxb-runtime:2.3.2'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":129401,"reputation":2460,"user_id":327961,"accept_rate":50,"display_name":"user327961"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625673706,"creation_date":1625673706,"answer_id":68289393,"question_id":47199846,"body_markdown":"The answers above (adding saaj-impl and saak-api) work for most projects, but I found out that if your project has a dependency on javax.xml webservices-api, you also need to remove that dependency in order to stop getting that error in Java 11.\r\n\r\nExemple of the dependency to **remove** in Maven :\r\n\r\n       &lt;dependency&gt;\r\n         &lt;groupId&gt;javax.xml&lt;/groupId&gt;\r\n         &lt;artifactId&gt;webservices-api&lt;/artifactId&gt;\r\n         &lt;version&gt;2.0.1&lt;/version&gt;\r\n       &lt;/dependency&gt;","title":"Unable to create SAAJ meta-factory after packaging as JAR","body":"<p>The answers above (adding saaj-impl and saak-api) work for most projects, but I found out that if your project has a dependency on javax.xml webservices-api, you also need to remove that dependency in order to stop getting that error in Java 11.</p>\n<p>Exemple of the dependency to <strong>remove</strong> in Maven :</p>\n<pre><code>   &lt;dependency&gt;\n     &lt;groupId&gt;javax.xml&lt;/groupId&gt;\n     &lt;artifactId&gt;webservices-api&lt;/artifactId&gt;\n     &lt;version&gt;2.0.1&lt;/version&gt;\n   &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20762967,"reputation":21,"user_id":16548953,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1627505613,"creation_date":1627505613,"answer_id":68567225,"question_id":47199846,"body_markdown":"I&#39;m using Java 11 and in addition to the \r\n\r\n    implementation group: &#39;com.sun.xml.messaging.saaj&#39;, name: &#39;saaj-impl&#39;, version: &#39;1.5.2&#39;\r\nadd \r\n  \r\n\r\n    implementation group: &#39;javax.xml.soap&#39;, name: &#39;javax.xml.soap-api&#39;, version: &#39;1.4.0&#39;\r\nbut **necessarily turn off**  `implementation group: &#39;com.sun.xml.messaging.saaj&#39;, name: &#39;saaj-impl&#39;, version: &#39;1.5.2&#39;`","title":"Unable to create SAAJ meta-factory after packaging as JAR","body":"<p>I'm using Java 11 and in addition to the</p>\n<pre><code>implementation group: 'com.sun.xml.messaging.saaj', name: 'saaj-impl', version: '1.5.2'\n</code></pre>\n<p>add</p>\n<pre><code>implementation group: 'javax.xml.soap', name: 'javax.xml.soap-api', version: '1.4.0'\n</code></pre>\n<p>but <strong>necessarily turn off</strong>  <code>implementation group: 'com.sun.xml.messaging.saaj', name: 'saaj-impl', version: '1.5.2'</code></p>\n"},{"tags":[],"owner":{"account_id":12713061,"reputation":45,"user_id":9236061,"display_name":"Arif K."},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1649334600,"creation_date":1649334600,"answer_id":71782226,"question_id":47199846,"body_markdown":"After switching my jdk to 11,I had same problem.\r\nUppgrading apache.cxf jar  to 3.5.1 solved my problem.Was using 3.1.2 with jdk 1.8","title":"Unable to create SAAJ meta-factory after packaging as JAR","body":"<p>After switching my jdk to 11,I had same problem.\nUppgrading apache.cxf jar  to 3.5.1 solved my problem.Was using 3.1.2 with jdk 1.8</p>\n"},{"tags":[],"owner":{"account_id":25868156,"reputation":1,"user_id":19599441,"display_name":"esarregui"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658769795,"creation_date":1658473054,"answer_id":73076264,"question_id":47199846,"body_markdown":"If you are using Weblogic, change the value of the parameter `prefer-web-inf-classes` at weblogic.xml file.\r\nIt worked for me.","title":"Unable to create SAAJ meta-factory after packaging as JAR","body":"<p>If you are using Weblogic, change the value of the parameter <code>prefer-web-inf-classes</code> at weblogic.xml file.\nIt worked for me.</p>\n"},{"tags":[],"owner":{"account_id":450009,"reputation":1499,"user_id":845117,"display_name":"Dirk Schumacher"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694598289,"creation_date":1694597348,"answer_id":77095817,"question_id":47199846,"body_markdown":"Yet another answer to get it working...\r\n\r\nI am changing from Springboot2 to Version 3. I included a lib which uses some SOAP requests by/within an externally delivered Jar.  \r\nIn order to solve the issue I have to include these __two__ jars:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.5.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nNot having the `jaxb-impl` artefact got me an Exception: `java.lang.NoClassDefFoundError; message=com/sun/xml/bind/api/TypeReference`. I just looked up in what Jar the missing class is contained.  \r\nAlso see https://stackoverflow.com/a/45429691/845117   \r\n\r\nJust this setting of pom _versions_ does work for me. There are newer libs listed but they don&#39;t work but lead to Exceptions. Fair question by Houcem Berrayana in another comment why just _this version_ does work but no greater major one...","title":"Unable to create SAAJ meta-factory after packaging as JAR","body":"<p>Yet another answer to get it working...</p>\n<p>I am changing from Springboot2 to Version 3. I included a lib which uses some SOAP requests by/within an externally delivered Jar.<br />\nIn order to solve the issue I have to include these <strong>two</strong> jars:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\n        &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\n        &lt;version&gt;1.5.3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n        &lt;version&gt;2.3.3&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Not having the <code>jaxb-impl</code> artefact got me an Exception: <code>java.lang.NoClassDefFoundError; message=com/sun/xml/bind/api/TypeReference</code>. I just looked up in what Jar the missing class is contained.<br />\nAlso see <a href=\"https://stackoverflow.com/a/45429691/845117\">https://stackoverflow.com/a/45429691/845117</a></p>\n<p>Just this setting of pom <em>versions</em> does work for me. There are newer libs listed but they don't work but lead to Exceptions. Fair question by Houcem Berrayana in another comment why just <em>this version</em> does work but no greater major one...</p>\n"},{"tags":[],"owner":{"account_id":15936333,"reputation":11,"user_id":11499432,"display_name":"Surya Senthilnathan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700744409,"creation_date":1700744409,"answer_id":77537086,"question_id":47199846,"body_markdown":"Use the latest &quot;saaj-impl&quot; maven dependency to resolve this issue.\r\n\r\n&gt; \r\n&gt;&lt;dependency&gt;\r\n&gt;   &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\r\n&gt;   &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\r\n&gt;   &lt;version&gt;3.0.3&lt;/version&gt;\r\n&gt; &lt;/dependency&gt;\r\n\r\nAs the &quot;com.sun.xml.messaging.saaj.soap.SAAJMetaFactoryImpl&quot; is not found, it is looking for default fallback package &quot;com.sun.xml.internal.messaging.saaj.soap.SAAJMetaFactoryImpl&quot;.","title":"Unable to create SAAJ meta-factory after packaging as JAR","body":"<p>Use the latest &quot;saaj-impl&quot; maven dependency to resolve this issue.</p>\n<blockquote>\n\n  com.sun.xml.messaging.saaj\n  saaj-impl\n  3.0.3\n\n</blockquote>\n<p>As the &quot;com.sun.xml.messaging.saaj.soap.SAAJMetaFactoryImpl&quot; is not found, it is looking for default fallback package &quot;com.sun.xml.internal.messaging.saaj.soap.SAAJMetaFactoryImpl&quot;.</p>\n"}],"owner":{"account_id":3238388,"reputation":487,"user_id":2731978,"display_name":"Hakello"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63611,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":52349146,"answer_count":9,"score":32,"last_activity_date":1700744409,"creation_date":1510224410,"question_id":47199846,"body_markdown":"For testing an application I am creating SOAP messages. This works when run directly from Eclipse (Oxygen.1a) but after packaging as runnable jar (option: package required libraries into generated jar) I get the following error:\r\n\r\n    javax.xml.soap.SOAPException: Unable to create SAAJ meta-factoryProvider com.sun.xml.internal.messaging.saaj.soap.SAAJMetaFactoryImpl not found\r\n        at javax.xml.soap.SAAJMetaFactory.getInstance(SAAJMetaFactory.java:94)\r\n        at javax.xml.soap.MessageFactory.newInstance(MessageFactory.java:138)\r\n\r\ntriggered by:\r\n\r\n    MessageFactory factory = MessageFactory.newInstance(SOAPConstants.SOAP_1_1_PROTOCOL);\r\n\r\nSo I understand that the MessageFactory uses a sun package\r\n    \r\n    static private final String DEFAULT_META_FACTORY_CLASS =\r\n        &quot;com.sun.xml.internal.messaging.saaj.soap.SAAJMetaFactoryImpl&quot;;\r\n\r\nBut I am absolutly clueless as to why it is unable to find this class after packaging to a runnable JAR. Any hints or directions would be greatly apreciated.","title":"Unable to create SAAJ meta-factory after packaging as JAR","body":"<p>For testing an application I am creating SOAP messages. This works when run directly from Eclipse (Oxygen.1a) but after packaging as runnable jar (option: package required libraries into generated jar) I get the following error:</p>\n\n<pre><code>javax.xml.soap.SOAPException: Unable to create SAAJ meta-factoryProvider com.sun.xml.internal.messaging.saaj.soap.SAAJMetaFactoryImpl not found\n    at javax.xml.soap.SAAJMetaFactory.getInstance(SAAJMetaFactory.java:94)\n    at javax.xml.soap.MessageFactory.newInstance(MessageFactory.java:138)\n</code></pre>\n\n<p>triggered by:</p>\n\n<pre><code>MessageFactory factory = MessageFactory.newInstance(SOAPConstants.SOAP_1_1_PROTOCOL);\n</code></pre>\n\n<p>So I understand that the MessageFactory uses a sun package</p>\n\n<pre><code>static private final String DEFAULT_META_FACTORY_CLASS =\n    \"com.sun.xml.internal.messaging.saaj.soap.SAAJMetaFactoryImpl\";\n</code></pre>\n\n<p>But I am absolutly clueless as to why it is unable to find this class after packaging to a runnable JAR. Any hints or directions would be greatly apreciated.</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":11445067,"reputation":512,"user_id":8389244,"display_name":"Max M"},"score":0,"creation_date":1700718900,"post_id":77534586,"comment_id":136689409,"body_markdown":"Sounds like you could organize your data in POJO or Record objects and use [jackson](https://mvnrepository.com/artifact/com.fasterxml.jackson.core) for runtime parsing. Jackson supports both parsing directions: Object &lt;-&gt; JSON","body":"Sounds like you could organize your data in POJO or Record objects and use <a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.core\" rel=\"nofollow noreferrer\">jackson</a> for runtime parsing. Jackson supports both parsing directions: Object &lt;-&gt; JSON"},{"owner":{"account_id":10777955,"reputation":13,"user_id":7929288,"display_name":"Abdullah Chougle"},"score":0,"creation_date":1700725584,"post_id":77534586,"comment_id":136690160,"body_markdown":"I could do that if the JSON structure was known at all times. I am storing the JSON in a CLOB field in a different table and the payload structure that I receive every time would be different from each sender. These senders would let me know which placeholder value is to be used for some of their attributes.","body":"I could do that if the JSON structure was known at all times. I am storing the JSON in a CLOB field in a different table and the payload structure that I receive every time would be different from each sender. These senders would let me know which placeholder value is to be used for some of their attributes."},{"owner":{"account_id":10777955,"reputation":13,"user_id":7929288,"display_name":"Abdullah Chougle"},"score":0,"creation_date":1700725814,"post_id":77534586,"comment_id":136690204,"body_markdown":"My service doesn&#39;t deem it necessary to know the POJO the JSON object would be mapped to. It is a medium to allow the payloads to be stored and passed on to a different service by manipulating certain values. \n\nFor example the sender has the value A for place holder 1 and the corresponding value for the receiver is B for the same place holder 1","body":"My service doesn&#39;t deem it necessary to know the POJO the JSON object would be mapped to. It is a medium to allow the payloads to be stored and passed on to a different service by manipulating certain values.   For example the sender has the value A for place holder 1 and the corresponding value for the receiver is B for the same place holder 1"},{"owner":{"account_id":9664937,"reputation":69,"user_id":7171710,"display_name":"Abned"},"score":0,"creation_date":1700744297,"post_id":77534586,"comment_id":136693690,"body_markdown":"@AbdullahChougle Why not use Map&lt;String, String&gt; as a POJO? You can see my anwer below.","body":"@AbdullahChougle Why not use Map&lt;String, String&gt; as a POJO? You can see my anwer below."}],"answers":[{"tags":[],"owner":{"account_id":9664937,"reputation":69,"user_id":7171710,"display_name":"Abned"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700743986,"creation_date":1700743986,"answer_id":77537037,"question_id":77534586,"body_markdown":"Here is my solution for your problem:\r\n```java\r\ntry {\r\n    String input = &quot;{\\&quot;attr1\\&quot;:\\&quot;value1\\&quot;, \\&quot;attr2\\&quot;:\\&quot;value2\\&quot;}&quot;;\r\n    Map&lt;String, String&gt; data = new HashMap&lt;&gt;();\r\n    // this mapper is an instance of ObjectMapper from Spring (jackson library)\r\n    data = mapper.readValue(input, data.getClass());\r\n    System.out.println(data.toString());\r\n    // here you can manipulate data and serialize it to string again if needed\r\n} catch (JsonProcessingException e) {\r\n    // TODO Auto-generated catch block\r\n    e.printStackTrace();\r\n}\r\n```\r\n\r\nTake a note that the **readValue** has a warning but you can ignore it by **SuppressWarning(&quot;unchecked&quot;)**.","title":"JSON object with place holders","body":"<p>Here is my solution for your problem:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    String input = &quot;{\\&quot;attr1\\&quot;:\\&quot;value1\\&quot;, \\&quot;attr2\\&quot;:\\&quot;value2\\&quot;}&quot;;\n    Map&lt;String, String&gt; data = new HashMap&lt;&gt;();\n    // this mapper is an instance of ObjectMapper from Spring (jackson library)\n    data = mapper.readValue(input, data.getClass());\n    System.out.println(data.toString());\n    // here you can manipulate data and serialize it to string again if needed\n} catch (JsonProcessingException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n</code></pre>\n<p>Take a note that the <strong>readValue</strong> has a warning but you can ignore it by <strong>SuppressWarning(&quot;unchecked&quot;)</strong>.</p>\n"}],"owner":{"account_id":10777955,"reputation":13,"user_id":7929288,"display_name":"Abdullah Chougle"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700743986,"creation_date":1700718366,"question_id":77534586,"body_markdown":"I have a use case where I have to create a JSON object with place holders in my java application. The following JSON object has attribute1 and attribute3 required to resolved in my other microservice that has a register of these placeholders. \r\n\r\n```\r\n{ \r\n  &quot;Attribute1&quot;: &quot;myPlaceholder1&quot;\r\n  &quot;Attribute2&quot;: &quot;Value of Attribute 2&quot;\r\n  &quot;Attribute3&quot;: &quot;myPlaceholder2&quot;...\r\n}\r\n```\r\n\r\nI have a registry with the corresponding placeholder values to replace. \r\n\r\n|Place holder id| Place holder value|\r\n|---------------|-------------------|\r\n|myPlaceholder1|U1|\r\n|myPlaceholder2|U2|\r\n\r\nIs there a java/JSON library that allows me to define placeholders and allow me to replace these values at runtime?\r\n\r\nThanks! ","title":"JSON object with place holders","body":"<p>I have a use case where I have to create a JSON object with place holders in my java application. The following JSON object has attribute1 and attribute3 required to resolved in my other microservice that has a register of these placeholders.</p>\n<pre><code>{ \n  &quot;Attribute1&quot;: &quot;myPlaceholder1&quot;\n  &quot;Attribute2&quot;: &quot;Value of Attribute 2&quot;\n  &quot;Attribute3&quot;: &quot;myPlaceholder2&quot;...\n}\n</code></pre>\n<p>I have a registry with the corresponding placeholder values to replace.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Place holder id</th>\n<th>Place holder value</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>myPlaceholder1</td>\n<td>U1</td>\n</tr>\n<tr>\n<td>myPlaceholder2</td>\n<td>U2</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Is there a java/JSON library that allows me to define placeholders and allow me to replace these values at runtime?</p>\n<p>Thanks!</p>\n"},{"tags":["java","android","mongodb","realm","mongodb-atlas"],"owner":{"account_id":4273026,"reputation":759,"user_id":3494397,"accept_rate":62,"display_name":"hkchakladar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700743919,"creation_date":1700679634,"question_id":77532518,"body_markdown":"I&#39;m using Realm Android Java SDK with Sync feature. I&#39;m getting `Configurations cannot be different if used to open the same file` error, although I&#39;m using code in both the activities. These are the codes I&#39;m using to get Realm Instance on `MainActivity`:\r\n```java\r\nApp app = new App(new AppConfiguration.Builder(&quot;application-0&quot;).build());\r\nSyncConfiguration config = new SyncConfiguration.Builder(app.currentUser()).build();\r\nRealm realm = Realm.getInstance(config);\r\n```\r\nAnd using the exact same code on another activity `CustomerActivity`:\r\n```java\r\nApp app = new App(new AppConfiguration.Builder(&quot;application-0&quot;).build());\r\nSyncConfiguration config = new SyncConfiguration.Builder(app.currentUser()).build();\r\nRealm realm = Realm.getInstance(config);\r\n```\r\nStill getting this error:\r\n```\r\njava.lang.IllegalArgumentException: Configurations cannot be different if used to open the same file. \r\n Cached configuration: \r\n  realmDirectory: /data/user/0/com.in/files/mongodb-realm/application-0/65566a52ab8ce3e71ebdcf22\r\n  realmFileName : default.realm\r\n  canonicalPath: /data/user/0/com.in/files/mongodb-realm/application-0/65566a52ab8ce3e71ebdcf22/default.realm\r\n  key: [length: 0]\r\n  schemaVersion: 0\r\n  migration: null\r\n  deleteRealmIfMigrationNeeded: false\r\n  durability: FULL\r\n  schemaMediator: io.realm.DefaultRealmModuleMediator@fcf6dfb\r\n  readOnly: false\r\n  compactOnLaunch: null\r\n  maxNumberOfActiveVersions: 9223372036854775807\r\n  serverUrl: wss://realm.mongodb.com/\r\n  user: io.realm.mongodb.User@95acac88\r\n  errorHandler: io.realm.mongodb.AppConfiguration$Builder$1@fcda401\r\n  initialSubscriptions: null\r\n  deleteRealmOnLogout: false\r\n  syncClientValidateSsl: true\r\n  serverCertificateAssetName: null\r\n  serverCertificateFilePath: null\r\n  waitForInitialData: false\r\n  initialDataTimeoutMillis: 9223372036854775807\r\n  sessionStopPolicy: AFTER_CHANGES_UPLOADED\r\n  syncUrlPrefix: /api/client/v2.0/app/application-0-vaocb/realm-sync\r\n  partitionValue: null\r\n    \r\n New configuration: \r\n  realmDirectory: /data/user/0/com.in/files/mongodb-realm/application-0/65566a52ab8ce3e71ebdcf22\r\n  realmFileName : default.realm\r\n  canonicalPath: /data/user/0/com.in/files/mongodb-realm/application-0/65566a52ab8ce3e71ebdcf22/default.realm\r\n  key: [length: 0]\r\n  schemaVersion: 0\r\n  migration: null\r\n  deleteRealmIfMigrationNeeded: false\r\n  durability: FULL\r\n  schemaMediator: io.realm.DefaultRealmModuleMediator@fcf6dfb\r\n  readOnly: false\r\n  compactOnLaunch: null\r\n  maxNumberOfActiveVersions: 9223372036854775807\r\n  serverUrl: wss://realm.mongodb.com/\r\n  user: io.realm.mongodb.User@e4199dbc\r\n  errorHandler: io.realm.mongodb.AppConfiguration$Builder$1@7bbf883\r\n  initialSubscriptions: null\r\n  deleteRealmOnLogout: false\r\n  syncClientValidateSsl: true\r\n  serverCertificateAssetName: null\r\n  serverCertificateFilePath: null\r\n  waitForInitialData: false\r\n  initialDataTimeoutMillis: 9223372036854775807\r\n  sessionStopPolicy: AFTER_CHANGES_UPLOADED\r\n  syncUrlPrefix: /api/client/v2.0/app/application-0-vaocb/realm-sync\r\n  partitionValue: null\r\n```\r\n\r\nHere is the diffchecker screenshot:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ze8Nt.png","title":"Using exactly same configuration but still get Configurations cannot be different error in Realm Java SDK","body":"<p>I'm using Realm Android Java SDK with Sync feature. I'm getting <code>Configurations cannot be different if used to open the same file</code> error, although I'm using code in both the activities. These are the codes I'm using to get Realm Instance on <code>MainActivity</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>App app = new App(new AppConfiguration.Builder(&quot;application-0&quot;).build());\nSyncConfiguration config = new SyncConfiguration.Builder(app.currentUser()).build();\nRealm realm = Realm.getInstance(config);\n</code></pre>\n<p>And using the exact same code on another activity <code>CustomerActivity</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>App app = new App(new AppConfiguration.Builder(&quot;application-0&quot;).build());\nSyncConfiguration config = new SyncConfiguration.Builder(app.currentUser()).build();\nRealm realm = Realm.getInstance(config);\n</code></pre>\n<p>Still getting this error:</p>\n<pre><code>java.lang.IllegalArgumentException: Configurations cannot be different if used to open the same file. \n Cached configuration: \n  realmDirectory: /data/user/0/com.in/files/mongodb-realm/application-0/65566a52ab8ce3e71ebdcf22\n  realmFileName : default.realm\n  canonicalPath: /data/user/0/com.in/files/mongodb-realm/application-0/65566a52ab8ce3e71ebdcf22/default.realm\n  key: [length: 0]\n  schemaVersion: 0\n  migration: null\n  deleteRealmIfMigrationNeeded: false\n  durability: FULL\n  schemaMediator: io.realm.DefaultRealmModuleMediator@fcf6dfb\n  readOnly: false\n  compactOnLaunch: null\n  maxNumberOfActiveVersions: 9223372036854775807\n  serverUrl: wss://realm.mongodb.com/\n  user: io.realm.mongodb.User@95acac88\n  errorHandler: io.realm.mongodb.AppConfiguration$Builder$1@fcda401\n  initialSubscriptions: null\n  deleteRealmOnLogout: false\n  syncClientValidateSsl: true\n  serverCertificateAssetName: null\n  serverCertificateFilePath: null\n  waitForInitialData: false\n  initialDataTimeoutMillis: 9223372036854775807\n  sessionStopPolicy: AFTER_CHANGES_UPLOADED\n  syncUrlPrefix: /api/client/v2.0/app/application-0-vaocb/realm-sync\n  partitionValue: null\n    \n New configuration: \n  realmDirectory: /data/user/0/com.in/files/mongodb-realm/application-0/65566a52ab8ce3e71ebdcf22\n  realmFileName : default.realm\n  canonicalPath: /data/user/0/com.in/files/mongodb-realm/application-0/65566a52ab8ce3e71ebdcf22/default.realm\n  key: [length: 0]\n  schemaVersion: 0\n  migration: null\n  deleteRealmIfMigrationNeeded: false\n  durability: FULL\n  schemaMediator: io.realm.DefaultRealmModuleMediator@fcf6dfb\n  readOnly: false\n  compactOnLaunch: null\n  maxNumberOfActiveVersions: 9223372036854775807\n  serverUrl: wss://realm.mongodb.com/\n  user: io.realm.mongodb.User@e4199dbc\n  errorHandler: io.realm.mongodb.AppConfiguration$Builder$1@7bbf883\n  initialSubscriptions: null\n  deleteRealmOnLogout: false\n  syncClientValidateSsl: true\n  serverCertificateAssetName: null\n  serverCertificateFilePath: null\n  waitForInitialData: false\n  initialDataTimeoutMillis: 9223372036854775807\n  sessionStopPolicy: AFTER_CHANGES_UPLOADED\n  syncUrlPrefix: /api/client/v2.0/app/application-0-vaocb/realm-sync\n  partitionValue: null\n</code></pre>\n<p>Here is the diffchecker screenshot:\n<a href=\"https://i.stack.imgur.com/ze8Nt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ze8Nt.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jflex"],"owner":{"account_id":28383622,"reputation":15,"user_id":21710497,"display_name":"Lucas Rus Gallego"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700743815,"creation_date":1700743815,"question_id":77537024,"body_markdown":"When generating the tokens from a txt document using this code:\r\n```\r\npackage codigo;\r\n\r\nimport static codigo.Tokens.;\r\n\r\n%%\r\n%class Lexer\r\n%type Tokens\r\nL=[a-zA-Z_]+\r\nD=[0-9]+\r\nespacio=[ ,\\t,\\r,\\n]+\r\n\r\n%{\r\n    public String lexeme;\r\n%}\r\n\r\nComment = {TraditionalComment}\r\n\r\nTraditionalComment   = &quot;/&quot; [^] ~&quot;/&quot; | &quot;/&quot; &quot;&quot;+ &quot;/&quot;\r\n\r\n\r\n%%\r\nint {return INT;}\r\nif {return IF;}\r\nelse {return ELSE;}\r\nwhile {return WHILE;}\r\nlet {return LET;}\r\nput {return PUT;}\r\nreturn {return RETURN;}\r\nboolean {return BOOLEAN;}\r\ndo {return DO;}\r\nget {return GET;}\r\nfunction {return FUNCTION;}\r\nvoid {return VOID;}\r\nstring {return STRING;}\r\n\r\n{espacio} {/* Ignore /}\r\n{Comment} { / ignore / }\r\n&quot;=&quot; {return OPIGUAL;}\r\n&quot;+&quot; {return OPSUMA;}\r\n&quot;-&quot; {return OPRESTA;}\r\n&quot;&quot; {return OPMUL;}\r\n&quot;/&quot; {return OPDIV;}\r\n&quot;(&quot; {return PARENTESISABIERTO;}\r\n&quot;)&quot; {return PARENTESISCERRADO;}\r\n&quot;{&quot; {return LLAVEABIERTA;}\r\n&quot;}&quot; {return LLAVECERRADA;}\r\n&quot;,&quot; {return COMA;}\r\n&quot;;&quot; {return PUNTOYCOMA;}\r\n&quot;%=&quot; {return RESTOIGUAL;}\r\n\r\n{L}({L}|{D})* {lexeme=yytext(); return ID;}\r\n(&quot;(-&quot;{D}+&quot;)&quot;|{D}+) {lexeme=yytext(); return ENTERO;}\r\n\r\n. { /* Ignore other characters in the default state */ }\r\n```\r\nit detects the multiline comments as tokens and not the whole thing as a comment, I would also like to detect character Strings, genereted when detecting characters between &quot;&quot;, but I run into the same problem, they are detected separately\r\n","title":"When detecting the tokens with JFlex, the characters in a comment shouldn&#180;t generate tokens but do","body":"<p>When generating the tokens from a txt document using this code:</p>\n<pre><code>package codigo;\n\nimport static codigo.Tokens.;\n\n%%\n%class Lexer\n%type Tokens\nL=[a-zA-Z_]+\nD=[0-9]+\nespacio=[ ,\\t,\\r,\\n]+\n\n%{\n    public String lexeme;\n%}\n\nComment = {TraditionalComment}\n\nTraditionalComment   = &quot;/&quot; [^] ~&quot;/&quot; | &quot;/&quot; &quot;&quot;+ &quot;/&quot;\n\n\n%%\nint {return INT;}\nif {return IF;}\nelse {return ELSE;}\nwhile {return WHILE;}\nlet {return LET;}\nput {return PUT;}\nreturn {return RETURN;}\nboolean {return BOOLEAN;}\ndo {return DO;}\nget {return GET;}\nfunction {return FUNCTION;}\nvoid {return VOID;}\nstring {return STRING;}\n\n{espacio} {/* Ignore /}\n{Comment} { / ignore / }\n&quot;=&quot; {return OPIGUAL;}\n&quot;+&quot; {return OPSUMA;}\n&quot;-&quot; {return OPRESTA;}\n&quot;&quot; {return OPMUL;}\n&quot;/&quot; {return OPDIV;}\n&quot;(&quot; {return PARENTESISABIERTO;}\n&quot;)&quot; {return PARENTESISCERRADO;}\n&quot;{&quot; {return LLAVEABIERTA;}\n&quot;}&quot; {return LLAVECERRADA;}\n&quot;,&quot; {return COMA;}\n&quot;;&quot; {return PUNTOYCOMA;}\n&quot;%=&quot; {return RESTOIGUAL;}\n\n{L}({L}|{D})* {lexeme=yytext(); return ID;}\n(&quot;(-&quot;{D}+&quot;)&quot;|{D}+) {lexeme=yytext(); return ENTERO;}\n\n. { /* Ignore other characters in the default state */ }\n</code></pre>\n<p>it detects the multiline comments as tokens and not the whole thing as a comment, I would also like to detect character Strings, genereted when detecting characters between &quot;&quot;, but I run into the same problem, they are detected separately</p>\n"},{"tags":["java","arrays","hashmap"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1700742576,"post_id":77536834,"comment_id":136693358,"body_markdown":"There are various ways to approach this. Like: first take your example input, and ask yourself why you would get to 6. Then ... take your algorithm, and run it yourself, using a pen and a piece of paper. Write down the relevant variables, and then go through the whole thing, &quot;instruction by instruction&quot;. Yes, that is very tedious, but there is no better way to understand your code . Alternatively, add print statements to your code, so that *any* relevant operation gets printed. Again, tedious, but in the end: you have to enable yourself to understand what your code is doing.","body":"There are various ways to approach this. Like: first take your example input, and ask yourself why you would get to 6. Then ... take your algorithm, and run it yourself, using a pen and a piece of paper. Write down the relevant variables, and then go through the whole thing, &quot;instruction by instruction&quot;. Yes, that is very tedious, but there is no better way to understand your code . Alternatively, add print statements to your code, so that <i>any</i> relevant operation gets printed. Again, tedious, but in the end: you have to enable yourself to understand what your code is doing."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1700742915,"post_id":77536834,"comment_id":136693427,"body_markdown":"And note: consider to use more telling names for your variable names. `arr` doesn&#39;t tell much to the reader. Okay, an array, but what is its purpose. Same for `m`. So, a map ... but what do the keys and values represent?!","body":"And note: consider to use more telling names for your variable names. <code>arr</code> doesn&#39;t tell much to the reader. Okay, an array, but what is its purpose. Same for <code>m</code>. So, a map ... but what do the keys and values represent?!"}],"owner":{"display_name":"user22931577"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700743282,"creation_date":1700742116,"question_id":77536834,"body_markdown":"I am trying to solve the following Question:\r\n\r\n&gt; \r\n&gt; A Power Pokemon Couple is a pair of pokemons with a sum of their power levels equal to a power of two.\r\n&gt; You are given an array power, containing the power levels of many pokemons. You can pick any two to make a power couple.\r\n&gt; Print the number of such power pokemon couples you can form using the given array.\r\n&gt; Note: Pokemons with different indices are considered different even if they have the same power level. Since the answer can be huge, print it modulo 10^9 + 7\r\n\r\n&gt;**Contraints**\r\n&gt;```\r\n&gt;1 &lt;= power.length &lt;= 10^5\r\n&gt; 0 &lt;= power[i] &lt;= 22\r\n&gt;```\r\n\r\n&gt; **Sample Input:**\r\n&gt;  ```\r\n&gt;  5\r\n&gt;  1 3 5 7 9\r\n&gt;```\r\n&gt; **Sample Output:**\r\n&gt; ```4```\r\n\r\n&gt; **Explanation:**\r\n&gt;  The power pokemon couples formed are (1,3), (1,7), (3,5) and, (7,9).\r\n&gt;  Their respective sums are 4, 8, 8, and 16, all of which are powers of 2. \r\n\r\nMy Brute force solution for the Question is:\r\n\r\n```java\r\nstatic int countPair(int[] input, int n) { \r\n        int mod = 1000000007;\r\n\t\tMap&lt;Integer, Integer&gt; freq = new HashMap&lt;&gt;(); \r\n\r\n\t\tfor (int i = 0; i &lt; n; i++) \r\n\t\t\tfreq.put(input[i], freq.getOrDefault(input[i], 0)+ 1); \r\n\r\n\t\tint pairsCount = 0; \r\n\t\tfor (int i = 0; i &lt; 23; i++) { \r\n\t\t\tint power = (int)Math.pow(2, i); \r\n\t\t\tfor (int j = 0; j &lt; input.length; j++) { \r\n\t\t\t\tint key = power - input[j]; \r\n\t\t\t\tif(freq.containsKey(key)){\r\n                    pairsCount += freq.get(k);\r\n                }\r\n                pairsCount = pairsCount%mod;\r\n\t\t\t} \r\n\t\t} \r\n\t\treturn pairsCount / 2; \r\n\t} \r\n```\r\n\r\nMy code fails in larger test cases and in case of duplicate numbers. For example in an array [4,4,4,4], the answer must be 6 but my code gives 8. \r\n\r\n\r\n\r\nI want a optimized code for the problem that works fine in array with duplicate numbers too. ","title":"Optimized Solution for Power Pokemon Problem","body":"<p>I am trying to solve the following Question:</p>\n<blockquote>\n<p>A Power Pokemon Couple is a pair of pokemons with a sum of their power levels equal to a power of two.\nYou are given an array power, containing the power levels of many pokemons. You can pick any two to make a power couple.\nPrint the number of such power pokemon couples you can form using the given array.\nNote: Pokemons with different indices are considered different even if they have the same power level. Since the answer can be huge, print it modulo 10^9 + 7</p>\n</blockquote>\n<blockquote>\n<p><strong>Contraints</strong></p>\n<pre><code>1 &lt;= power.length &lt;= 10^5\n0 &lt;= power[i] &lt;= 22\n</code></pre>\n</blockquote>\n<blockquote>\n<p><strong>Sample Input:</strong></p>\n<pre><code>5\n1 3 5 7 9\n</code></pre>\n<p><strong>Sample Output:</strong>\n<code>4</code></p>\n</blockquote>\n<blockquote>\n<p><strong>Explanation:</strong>\nThe power pokemon couples formed are (1,3), (1,7), (3,5) and, (7,9).\nTheir respective sums are 4, 8, 8, and 16, all of which are powers of 2.</p>\n</blockquote>\n<p>My Brute force solution for the Question is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static int countPair(int[] input, int n) { \n        int mod = 1000000007;\n        Map&lt;Integer, Integer&gt; freq = new HashMap&lt;&gt;(); \n\n        for (int i = 0; i &lt; n; i++) \n            freq.put(input[i], freq.getOrDefault(input[i], 0)+ 1); \n\n        int pairsCount = 0; \n        for (int i = 0; i &lt; 23; i++) { \n            int power = (int)Math.pow(2, i); \n            for (int j = 0; j &lt; input.length; j++) { \n                int key = power - input[j]; \n                if(freq.containsKey(key)){\n                    pairsCount += freq.get(k);\n                }\n                pairsCount = pairsCount%mod;\n            } \n        } \n        return pairsCount / 2; \n    } \n</code></pre>\n<p>My code fails in larger test cases and in case of duplicate numbers. For example in an array [4,4,4,4], the answer must be 6 but my code gives 8.</p>\n<p>I want a optimized code for the problem that works fine in array with duplicate numbers too.</p>\n"},{"tags":["java","spring","openapi","openapi-generator","openapi-generator-maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":3233742,"reputation":95,"user_id":2728393,"accept_rate":78,"display_name":"pswrdf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700742391,"creation_date":1700741677,"answer_id":77536787,"question_id":77515177,"body_markdown":"So at this point openapi-generator doesn&#39;t use @NotBlank and @NotEmpty annotations, only @NotNull. But it can be done via:\r\n\r\n    x-field-extra-annotation: &quot;@jakarta.validation.constraints.NotBlank&quot;\r\n\r\nsee https://stackoverflow.com/a/71526062/2728393","title":"OpenApi-generator do not insert @NotBlank annotation for string","body":"<p>So at this point openapi-generator doesn't use @NotBlank and @NotEmpty annotations, only @NotNull. But it can be done via:</p>\n<pre><code>x-field-extra-annotation: &quot;@jakarta.validation.constraints.NotBlank&quot;\n</code></pre>\n<p>see <a href=\"https://stackoverflow.com/a/71526062/2728393\">https://stackoverflow.com/a/71526062/2728393</a></p>\n"}],"owner":{"account_id":3233742,"reputation":95,"user_id":2728393,"accept_rate":78,"display_name":"pswrdf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77536787,"answer_count":1,"score":0,"last_activity_date":1700742391,"creation_date":1700476705,"question_id":77515177,"body_markdown":"I use `openapi-generator-maven-plugin:7.1.0` with properties:\r\n\r\n```\r\n&lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\r\n&lt;skipDefaultInterface&gt;true&lt;/skipDefaultInterface&gt;\r\n&lt;useSpringBoot3&gt;true&lt;/useSpringBoot3&gt;\r\n&lt;useSpringController&gt;true&lt;/useSpringController&gt;\r\n&lt;openApiNullable&gt;false&lt;/openApiNullable&gt;\r\n&lt;performBeanValidation&gt;true&lt;/performBeanValidation&gt;\r\n```\r\n\r\nIt generates only `@NotNull` annotation in model, for required String field in spec, \r\nI have no idea how to generate `@NotBlank` also.","title":"OpenApi-generator do not insert @NotBlank annotation for string","body":"<p>I use <code>openapi-generator-maven-plugin:7.1.0</code> with properties:</p>\n<pre><code>&lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\n&lt;skipDefaultInterface&gt;true&lt;/skipDefaultInterface&gt;\n&lt;useSpringBoot3&gt;true&lt;/useSpringBoot3&gt;\n&lt;useSpringController&gt;true&lt;/useSpringController&gt;\n&lt;openApiNullable&gt;false&lt;/openApiNullable&gt;\n&lt;performBeanValidation&gt;true&lt;/performBeanValidation&gt;\n</code></pre>\n<p>It generates only <code>@NotNull</code> annotation in model, for required String field in spec,\nI have no idea how to generate <code>@NotBlank</code> also.</p>\n"},{"tags":["java","nuxt.js"],"owner":{"account_id":25611323,"reputation":11,"user_id":19384710,"display_name":"Pasha Kolyada"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700742289,"creation_date":1700742289,"question_id":77536856,"body_markdown":"The project has back and front containers hanging in one docker-compose.  [![enter image description here](https://i.stack.imgur.com/niulv.png)](https://i.stack.imgur.com/niulv.png)\r\n\r\nIf i run projet locally, make some request from nuxt server render to backend, i get\r\n\r\n`Error in created hook (Promise/async): &quot;Error: connect ECONNREFUSED 172.18.0.3:80&quot;`\r\n\r\nit looks like the nxt is making a request to its own container, and not to the backend container.\r\n\r\n Our project use nuxt 2.15.8","title":"How to configure nuxt to work with requests during server rendering?","body":"<p>The project has back and front containers hanging in one docker-compose.  <a href=\"https://i.stack.imgur.com/niulv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/niulv.png\" alt=\"enter image description here\" /></a></p>\n<p>If i run projet locally, make some request from nuxt server render to backend, i get</p>\n<p><code>Error in created hook (Promise/async): &quot;Error: connect ECONNREFUSED 172.18.0.3:80&quot;</code></p>\n<p>it looks like the nxt is making a request to its own container, and not to the backend container.</p>\n<p>Our project use nuxt 2.15.8</p>\n"},{"tags":["java","spring-boot","eclipse","mockito","junit5"],"comments":[{"owner":{"account_id":1287025,"reputation":749,"user_id":1239904,"accept_rate":64,"display_name":"Mahatma_Fatal_Error"},"score":1,"creation_date":1700653753,"post_id":77529599,"comment_id":136680525,"body_markdown":"I assume that nobody can help you with your issue based on your description. What would be needed are e.g. precise version information, logs and most importantly a minimal sample project to reproduce the problem https://stackoverflow.com/help/minimal-reproducible-example","body":"I assume that nobody can help you with your issue based on your description. What would be needed are e.g. precise version information, logs and most importantly a minimal sample project to reproduce the problem <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1700726177,"post_id":77529599,"comment_id":136690274,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":25241485,"reputation":1,"user_id":19075299,"display_name":"Anudeep T"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700742288,"creation_date":1700652925,"question_id":77529599,"body_markdown":"I am using Eclipse to develop a large Spring Boot (Gradle 6.3) project (dozens of dependencies). And having controllers and different util files When I try to run a unit test, the status shows &quot;verifying launch attributes&quot;, and it&#39;s loading infinitely. How can I solve it? And even when I try to terminate, it just shows the same error.\r\n\r\nI am using JDK 11 and Eclipse 2020 for running the project. And JUnit-5 and Mockito 3 for writing the test cases.\r\n\r\nHere are the JUnit and Mockito dependencies I am using in the build.gradle file.\r\n\r\n\r\n```gradle\r\n\ttestImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.9.2&#39;\r\n\ttestImplementation &#39;org.junit.jupiter:junit-jupiter-engine:5.9.2&#39;\r\n\ttestImplementation &#39;org.mockito:mockito-core:4.1.0&#39;\r\n\ttestImplementation &#39;org.mockito:mockito-junit-jupiter:4.1.0&#39;\r\n\ttestImplementation &#39;org.mockito:mockito-inline:4.1.0&#39;\r\n\ttestImplementation &#39;org.junit.jupiter:junit-jupiter-params:5.9.2&#39;\r\n\ttestImplementation &#39;org.junit.platform:junit-platform-suite-api:1.9.2&#39;\r\n\timplementation &#39;net.bytebuddy:byte-buddy:1.13.0&#39;\r\n\ttestImplementation &#39;net.bytebuddy:byte-buddy-agent:1.13.0&#39;\r\n\ttestImplementation &#39;javax.servlet:javax.servlet-api:4.0.1&#39;\r\n\ttestImplementation &#39;net.java.dev.jna:jna:5.10.0&#39;\r\n\ttestImplementation &#39;org.hamcrest:hamcrest-all:1.3&#39;\r\n```\r\n\r\n**Image**: [The progress keeps on loading and can&#39;t even stop it](https://i.stack.imgur.com/wVe35.png)\r\n\r\n1. I tried closing all other projects in Eclipse\r\n2. Even created a new eclipse-workspace and cloned the project, But still getting the same issue.","title":"Why is my Eclipse hanging at 45% while running the JUnit coverage. I am using JUnit 5 and Mockito","body":"<p>I am using Eclipse to develop a large Spring Boot (Gradle 6.3) project (dozens of dependencies). And having controllers and different util files When I try to run a unit test, the status shows &quot;verifying launch attributes&quot;, and it's loading infinitely. How can I solve it? And even when I try to terminate, it just shows the same error.</p>\n<p>I am using JDK 11 and Eclipse 2020 for running the project. And JUnit-5 and Mockito 3 for writing the test cases.</p>\n<p>Here are the JUnit and Mockito dependencies I am using in the build.gradle file.</p>\n<pre><code>    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.9.2'\n    testImplementation 'org.junit.jupiter:junit-jupiter-engine:5.9.2'\n    testImplementation 'org.mockito:mockito-core:4.1.0'\n    testImplementation 'org.mockito:mockito-junit-jupiter:4.1.0'\n    testImplementation 'org.mockito:mockito-inline:4.1.0'\n    testImplementation 'org.junit.jupiter:junit-jupiter-params:5.9.2'\n    testImplementation 'org.junit.platform:junit-platform-suite-api:1.9.2'\n    implementation 'net.bytebuddy:byte-buddy:1.13.0'\n    testImplementation 'net.bytebuddy:byte-buddy-agent:1.13.0'\n    testImplementation 'javax.servlet:javax.servlet-api:4.0.1'\n    testImplementation 'net.java.dev.jna:jna:5.10.0'\n    testImplementation 'org.hamcrest:hamcrest-all:1.3'\n</code></pre>\n<p><strong>Image</strong>: <a href=\"https://i.stack.imgur.com/wVe35.png\" rel=\"nofollow noreferrer\">The progress keeps on loading and can't even stop it</a></p>\n<ol>\n<li>I tried closing all other projects in Eclipse</li>\n<li>Even created a new eclipse-workspace and cloned the project, But still getting the same issue.</li>\n</ol>\n"},{"tags":["java","spring-boot","spring-webflux"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1700741809,"post_id":77536770,"comment_id":136693209,"body_markdown":"Instead of randomly modify the code, measure. Measure what is slow and figure out how to make that faster. You might not even be able to make it as fast as you want.","body":"Instead of randomly modify the code, measure. Measure what is slow and figure out how to make that faster. You might not even be able to make it as fast as you want."}],"owner":{"account_id":23855851,"reputation":1,"user_id":17859343,"display_name":"Ahmed Yusuf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700741777,"creation_date":1700741502,"question_id":77536770,"body_markdown":"i am working on a springboot project. i have an api which takes around 7-8 secs for response. i want to reduce it to less than a sec.\r\nplease find below the code : \r\n\r\nCONTROLLER: \r\n```\r\n @GetMapping(&quot;/agent/V2&quot;)\r\n    public Flux&lt;TaskMinimizedDtoForAgent&gt; findAllTaskByAgentIdV2(@RequestParam UUID agentId) {\r\n        return agentService.findAllTaskByAgentIdV2WithStatus(agentId);\r\n    }\r\n```\r\n\r\n\r\n\r\nSERVICE: \r\n\r\n    public Flux&lt;TaskMinimizedDtoForAgent&gt; findAllTaskByAgentIdV2WithStatus(UUID agentId) {\r\n\r\n        return findAllTaskByAgentIdV2(agentId)\r\n                .flatMap(taskMinimizedDto -&gt; updateTaskAndProcessWithStatus(agentId, taskMinimizedDto));\r\n    }\r\n\r\n    private Mono&lt;TaskMinimizedDtoForAgent&gt; updateTaskAndProcessWithStatus(UUID agentId, TaskMinimizedDtoForAgent taskMinimizedDto) {\r\n        return processService.getOverallStatusForAgentForProcesses(agentId)\r\n                .flatMap(processStatusMap -&gt; {\r\n                    // Update process status in TaskMinimizedDtoForAgent if corresponding processId exists\r\n                    taskMinimizedDto.getProcesses().forEach(processDto -&gt; {\r\n                        String processId = processDto.getId().toString();\r\n                        if (processStatusMap.containsKey(processId)) {\r\n                            // Set the status from the second method\r\n                            processDto.setStatus(processStatusMap.get(processId));\r\n                        }\r\n                    });\r\n\r\n                    // Update the overall task status\r\n                    return processService.getCombinedStatusForAgentForATask(agentId, taskMinimizedDto.getId())\r\n                            .map(overallStatusForTask -&gt; {\r\n                                taskMinimizedDto.setStatus(overallStatusForTask);\r\n                                return taskMinimizedDto;\r\n                            });\r\n                });\r\n    }\r\n\r\n\r\nTHE code in service layer needs to be optimized to reduce response time.\r\n\r\ni tried to reduce response time by using parallel processing as below: \r\n```\r\nprivate Mono&lt;TaskMinimizedDtoForAgent&gt; updateTaskAndProcessWithStatus(UUID agentId, TaskMinimizedDtoForAgent taskMinimizedDto) {\r\n    Mono&lt;Map&lt;String, StatusEnum&gt;&gt; overallStatusMono = processService.getOverallStatusForAgentForProcesses(agentId)\r\n            .subscribeOn(Schedulers.parallel());\r\n\r\n    Mono&lt;StatusEnum&gt; combinedStatusMono = processService.getCombinedStatusForAgentForATask(agentId, taskMinimizedDto.getId())\r\n            .subscribeOn(Schedulers.parallel());\r\n\r\n    return Mono.zip(overallStatusMono, combinedStatusMono)\r\n            .flatMap(tuple -&gt; {\r\n                Map&lt;String, StatusEnum&gt; processStatusMap = tuple.getT1();\r\n\r\n                // Update process status in TaskMinimizedDtoForAgent if corresponding processId exists\r\n                taskMinimizedDto.getProcesses().forEach(processDto -&gt; {\r\n                    String processId = processDto.getId().toString();\r\n                    if (processStatusMap.containsKey(processId)) {\r\n                        // Set the status from the first method\r\n                        processDto.setStatus(processStatusMap.get(processId));\r\n                    }\r\n                });\r\n\r\n                // Update the overall task status\r\n                StatusEnum overallStatusForTask = tuple.getT2();\r\n                taskMinimizedDto.setStatus(overallStatusForTask);\r\n\r\n                return Mono.just(taskMinimizedDto);\r\n            });\r\n}\r\n```\r\nbut the response time is almost same.  is there a better way to optimize ?","title":"reduce response time of an api call in springboot webflux project","body":"<p>i am working on a springboot project. i have an api which takes around 7-8 secs for response. i want to reduce it to less than a sec.\nplease find below the code :</p>\n<p>CONTROLLER:</p>\n<pre><code> @GetMapping(&quot;/agent/V2&quot;)\n    public Flux&lt;TaskMinimizedDtoForAgent&gt; findAllTaskByAgentIdV2(@RequestParam UUID agentId) {\n        return agentService.findAllTaskByAgentIdV2WithStatus(agentId);\n    }\n</code></pre>\n<p>SERVICE:</p>\n<pre><code>public Flux&lt;TaskMinimizedDtoForAgent&gt; findAllTaskByAgentIdV2WithStatus(UUID agentId) {\n\n    return findAllTaskByAgentIdV2(agentId)\n            .flatMap(taskMinimizedDto -&gt; updateTaskAndProcessWithStatus(agentId, taskMinimizedDto));\n}\n\nprivate Mono&lt;TaskMinimizedDtoForAgent&gt; updateTaskAndProcessWithStatus(UUID agentId, TaskMinimizedDtoForAgent taskMinimizedDto) {\n    return processService.getOverallStatusForAgentForProcesses(agentId)\n            .flatMap(processStatusMap -&gt; {\n                // Update process status in TaskMinimizedDtoForAgent if corresponding processId exists\n                taskMinimizedDto.getProcesses().forEach(processDto -&gt; {\n                    String processId = processDto.getId().toString();\n                    if (processStatusMap.containsKey(processId)) {\n                        // Set the status from the second method\n                        processDto.setStatus(processStatusMap.get(processId));\n                    }\n                });\n\n                // Update the overall task status\n                return processService.getCombinedStatusForAgentForATask(agentId, taskMinimizedDto.getId())\n                        .map(overallStatusForTask -&gt; {\n                            taskMinimizedDto.setStatus(overallStatusForTask);\n                            return taskMinimizedDto;\n                        });\n            });\n}\n</code></pre>\n<p>THE code in service layer needs to be optimized to reduce response time.</p>\n<p>i tried to reduce response time by using parallel processing as below:</p>\n<pre><code>private Mono&lt;TaskMinimizedDtoForAgent&gt; updateTaskAndProcessWithStatus(UUID agentId, TaskMinimizedDtoForAgent taskMinimizedDto) {\n    Mono&lt;Map&lt;String, StatusEnum&gt;&gt; overallStatusMono = processService.getOverallStatusForAgentForProcesses(agentId)\n            .subscribeOn(Schedulers.parallel());\n\n    Mono&lt;StatusEnum&gt; combinedStatusMono = processService.getCombinedStatusForAgentForATask(agentId, taskMinimizedDto.getId())\n            .subscribeOn(Schedulers.parallel());\n\n    return Mono.zip(overallStatusMono, combinedStatusMono)\n            .flatMap(tuple -&gt; {\n                Map&lt;String, StatusEnum&gt; processStatusMap = tuple.getT1();\n\n                // Update process status in TaskMinimizedDtoForAgent if corresponding processId exists\n                taskMinimizedDto.getProcesses().forEach(processDto -&gt; {\n                    String processId = processDto.getId().toString();\n                    if (processStatusMap.containsKey(processId)) {\n                        // Set the status from the first method\n                        processDto.setStatus(processStatusMap.get(processId));\n                    }\n                });\n\n                // Update the overall task status\n                StatusEnum overallStatusForTask = tuple.getT2();\n                taskMinimizedDto.setStatus(overallStatusForTask);\n\n                return Mono.just(taskMinimizedDto);\n            });\n}\n</code></pre>\n<p>but the response time is almost same.  is there a better way to optimize ?</p>\n"},{"tags":["java","youtube-api","youtube-data-api"],"comments":[{"owner":{"account_id":17676716,"reputation":1,"user_id":12831529,"display_name":"Raneen Bsais"},"score":0,"creation_date":1701250086,"post_id":77536793,"comment_id":136751172,"body_markdown":"any update related to this ticket?","body":"any update related to this ticket?"}],"owner":{"account_id":17676716,"reputation":1,"user_id":12831529,"display_name":"Raneen Bsais"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700741700,"creation_date":1700741700,"question_id":77536793,"body_markdown":"I trying to send this request to get the activity data:\r\n\r\n```\r\nYouTube.Activities.List activitiesListByIdRequest = youtubeService.activities().list(Collections.singletonList(&quot;contentDetails&quot;));\r\nactivitiesListByIdRequest.setChannelId(&quot;xxx&quot;,&quot;yyy&quot;);\r\nactivitiesListByIdRequest.setMaxResults(Long.valueOf(50));\r\n```\r\n\r\nfrom this response, we get the list of the video id, we send the list to this request:\r\n\r\n```\r\nYouTube.Videos.List vidoesListByIdRequest = youtubeService.videos().list(Collections.singletonList(&quot;snippet,contentDetails,statistics&quot;));\r\nvidoesListByIdRequest.setId(videosListPerPage);\r\nvidoesListByIdRequest.setMaxResults(Long.valueOf(50));\r\n```\r\n\r\nrelated to this response we should get only these channels(&quot;xxx&quot;,&quot;yyy&quot;) under the snippet.channelId.\r\n\r\nbut I get these channels and more channels differently.\r\n\r\nthe question: did this is the correct behavior? if yes why?\r\n\r\nif not how can we resolve this issue?\r\n\r\nexpecting to get these channels(&quot;xxx&quot;,&quot;yyy&quot;) under the snippet.channelId.\r\n\r\nbut we get these channels and more channels differently.","title":"Discrepancy in Video Data From Activity Reports","body":"<p>I trying to send this request to get the activity data:</p>\n<pre><code>YouTube.Activities.List activitiesListByIdRequest = youtubeService.activities().list(Collections.singletonList(&quot;contentDetails&quot;));\nactivitiesListByIdRequest.setChannelId(&quot;xxx&quot;,&quot;yyy&quot;);\nactivitiesListByIdRequest.setMaxResults(Long.valueOf(50));\n</code></pre>\n<p>from this response, we get the list of the video id, we send the list to this request:</p>\n<pre><code>YouTube.Videos.List vidoesListByIdRequest = youtubeService.videos().list(Collections.singletonList(&quot;snippet,contentDetails,statistics&quot;));\nvidoesListByIdRequest.setId(videosListPerPage);\nvidoesListByIdRequest.setMaxResults(Long.valueOf(50));\n</code></pre>\n<p>related to this response we should get only these channels(&quot;xxx&quot;,&quot;yyy&quot;) under the snippet.channelId.</p>\n<p>but I get these channels and more channels differently.</p>\n<p>the question: did this is the correct behavior? if yes why?</p>\n<p>if not how can we resolve this issue?</p>\n<p>expecting to get these channels(&quot;xxx&quot;,&quot;yyy&quot;) under the snippet.channelId.</p>\n<p>but we get these channels and more channels differently.</p>\n"},{"tags":["java","android","android-studio","android-layout"],"comments":[{"owner":{"account_id":10821091,"reputation":631,"user_id":7958563,"display_name":"Ivan Shafran"},"score":0,"creation_date":1700518879,"post_id":77518843,"comment_id":136662398,"body_markdown":"Hi! Try finishing the current activity when you move to the game over the screen. Call `finish()` after `change_to_game_over_activity `. That way your game activity screen will be started from scratch. I suppose this can help","body":"Hi! Try finishing the current activity when you move to the game over the screen. Call <code>finish()</code> after <code>change_to_game_over_activity </code>. That way your game activity screen will be started from scratch. I suppose this can help"},{"owner":{"account_id":29952015,"reputation":1,"user_id":22953844,"display_name":"Gensik Rubio"},"score":0,"creation_date":1700618612,"post_id":77518843,"comment_id":136676002,"body_markdown":"@Ivan Shafran your answer helped, I also needed to clear some arrays. Thank you so much for your help.","body":"@Ivan Shafran your answer helped, I also needed to clear some arrays. Thank you so much for your help."}],"answers":[{"tags":[],"owner":{"account_id":29815737,"reputation":37,"user_id":22850056,"display_name":"rv_5143"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700741674,"creation_date":1700551618,"answer_id":77520994,"question_id":77518843,"body_markdown":"did you add this autoplay=true in xml?","title":"How do I make sure that the animation on an activity works more than just once","body":"<p>did you add this autoplay=true in xml?</p>\n"},{"tags":[],"owner":{"account_id":29952015,"reputation":1,"user_id":22953844,"display_name":"Gensik Rubio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700618542,"creation_date":1700618542,"answer_id":77526950,"question_id":77518843,"body_markdown":"Fixed by calling finish(), and clearing all the arrays containing the mole images when on the onStop() callback.","title":"How do I make sure that the animation on an activity works more than just once","body":"<p>Fixed by calling finish(), and clearing all the arrays containing the mole images when on the onStop() callback.</p>\n"},{"tags":[],"owner":{"account_id":23936770,"reputation":128,"user_id":17930413,"display_name":"Rahul Rokade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700642130,"creation_date":1700642130,"answer_id":77528393,"question_id":77518843,"body_markdown":"*Your Activity closed then please finish() method*\r\n\r\n    public void change_to_game_over_activity()\r\n    {\r\n        Intent intent = new Intent(Game_Activity.this, Game_Over_Activity.class);\r\n        startActivity(intent); finish();\r\n    }","title":"How do I make sure that the animation on an activity works more than just once","body":"<p><em>Your Activity closed then please finish() method</em></p>\n<pre><code>public void change_to_game_over_activity()\n{\n    Intent intent = new Intent(Game_Activity.this, Game_Over_Activity.class);\n    startActivity(intent); finish();\n}\n</code></pre>\n"}],"owner":{"account_id":29952015,"reputation":1,"user_id":22953844,"display_name":"Gensik Rubio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1700741674,"creation_date":1700513655,"question_id":77518843,"body_markdown":"I am currently doing a basic Whack a Mole game on Android Studios for a school project. I got everything pretty much working, including the moles moving up, and down when clicked.\r\nThe problem is whenever a game is ended and I choose to &quot;play again&quot; the game activity starts again with the timer and everything, but the mole animation no longer works.\r\n\r\nWhenever the game ends I change activity to a game_over activity where the user can choose to play again or return to the main menu.\r\nThis is all I am doing to change activity:\r\n\r\n\r\n```\r\npublic void change_to_game_over_activity()\r\n    {\r\n        Intent intent = new Intent(Game_Activity.this, Game_Over_Activity.class);\r\n        startActivity(intent);\r\n    }\r\n```\r\n\r\n\r\nI am guessing I am not properly ending the animation when changing activities because I thought when the user presses play again, the activity was going to start everything from zero.\r\n\r\nWhat functions can I use to properly transition to the game_over activity and back again to the game activity if the user chooses to?\r\n\r\nThanks in advance for your help.","title":"How do I make sure that the animation on an activity works more than just once","body":"<p>I am currently doing a basic Whack a Mole game on Android Studios for a school project. I got everything pretty much working, including the moles moving up, and down when clicked.\nThe problem is whenever a game is ended and I choose to &quot;play again&quot; the game activity starts again with the timer and everything, but the mole animation no longer works.</p>\n<p>Whenever the game ends I change activity to a game_over activity where the user can choose to play again or return to the main menu.\nThis is all I am doing to change activity:</p>\n<pre><code>public void change_to_game_over_activity()\n    {\n        Intent intent = new Intent(Game_Activity.this, Game_Over_Activity.class);\n        startActivity(intent);\n    }\n</code></pre>\n<p>I am guessing I am not properly ending the animation when changing activities because I thought when the user presses play again, the activity was going to start everything from zero.</p>\n<p>What functions can I use to properly transition to the game_over activity and back again to the game activity if the user chooses to?</p>\n<p>Thanks in advance for your help.</p>\n"},{"tags":["java","eclipse","installation","plugins","pde"],"comments":[{"owner":{"account_id":3159259,"reputation":109665,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1700742295,"post_id":77536747,"comment_id":136693298,"body_markdown":"Just putting a plugin in the plugins directory has not been supported as a way of installing for a long time now - a proper installable or using the &#39;dropins&#39; folder is required. You should also update the version number each time as well.","body":"Just putting a plugin in the plugins directory has not been supported as a way of installing for a long time now - a proper installable or using the &#39;dropins&#39; folder is required. You should also update the version number each time as well."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1700746651,"post_id":77536747,"comment_id":136694112,"body_markdown":"What version of Eclipse are you running?  What version of Eclipse is your friend running?  What version of Java is your friend running?  What version of Java are you running?","body":"What version of Eclipse are you running?  What version of Eclipse is your friend running?  What version of Java is your friend running?  What version of Java are you running?"}],"owner":{"account_id":29974839,"reputation":1,"user_id":22971326,"display_name":"MomoxRifboy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700741282,"creation_date":1700741282,"question_id":77536747,"body_markdown":"I am a student, and I am currently working on a project to develop a plugin editor for Eclipse using Java 1.7. So far, I have successfully implemented the syntax coloring feature. To test my plugin, I exported it as a deployable Plugin JAR File. I copied the JAR File into the plugins folder of my Eclipse, restarted Eclipse, and was able to use my editor, and it worked correctly.\r\n\r\nHowever, when I sent the JAR File to a friend for testing, and he followed the same steps, he could open the editor, but the syntax coloring did not work for him. \r\n\r\nDoes anyone have an idea why I am experiencing this issue?","title":"Custom Plugin in Eclipse","body":"<p>I am a student, and I am currently working on a project to develop a plugin editor for Eclipse using Java 1.7. So far, I have successfully implemented the syntax coloring feature. To test my plugin, I exported it as a deployable Plugin JAR File. I copied the JAR File into the plugins folder of my Eclipse, restarted Eclipse, and was able to use my editor, and it worked correctly.</p>\n<p>However, when I sent the JAR File to a friend for testing, and he followed the same steps, he could open the editor, but the syntax coloring did not work for him.</p>\n<p>Does anyone have an idea why I am experiencing this issue?</p>\n"},{"tags":["java","jvm-hotspot","decompiler"],"comments":[{"owner":{"account_id":195331,"reputation":275368,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1700664847,"post_id":77530858,"comment_id":136682610,"body_markdown":"Examples: https://stackoverflow.com/questions/42403347/java-for-statement-implementation-prevents-garbage-collecting and https://stackoverflow.com/questions/21437699/outofmemoryerror-when-seemingly-unrelated-code-block-commented-out","body":"Examples: <a href=\"https://stackoverflow.com/questions/42403347/java-for-statement-implementation-prevents-garbage-collecting\" title=\"java for statement implementation prevents garbage collecting\">stackoverflow.com/questions/42403347/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/21437699/outofmemoryerror-when-seemingly-unrelated-code-block-commented-out\" title=\"outofmemoryerror when seemingly unrelated code block commented out\">stackoverflow.com/questions/21437699/&hellip;</a>"},{"owner":{"account_id":109320,"reputation":5333,"user_id":289718,"accept_rate":75,"display_name":"neocanable"},"score":0,"creation_date":1700665629,"post_id":77530858,"comment_id":136682802,"body_markdown":"@SotiriosDelimanolis thank you, you save lot lot lot my days","body":"@SotiriosDelimanolis thank you, you save lot lot lot my days"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1700667111,"post_id":77530858,"comment_id":136683120,"body_markdown":"@neocanable, here&#39;s the latest documentation, _https://docs.oracle.com/javase/specs/jvms/se21/html/jvms-4.html#jvms-4.7.13_.","body":"@neocanable, here&#39;s the latest documentation, <i><a href=\"https://docs.oracle.com/javase/specs/jvms/se21/html/jvms-4.html#jvms-4.7.13\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jvms/se21/html/&hellip;</a></i>."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1700740286,"creation_date":1700740286,"answer_id":77536649,"question_id":77530858,"body_markdown":"There is no java&#39;s assembly language so you can not compile a pseudo assembly code with the tools provided by the JDK. You can only use the other direction, print the bytecode of a compiled class with `javap`.\r\n\r\nThere are 3rd party tools providing an assembly language for the JVM, e.g. Krakatau, but neither is part of a standard. Most of those languages will look similar or even offer compatibility with other tools though, as they use the same mnemonics from the JVM specification and the output format of `javap` as a starting point.\r\n\r\nReusing variable slots is a trivial thing. It happens all the time when local variables have disjunct scopes. E.g.\r\n\r\n```java\r\nimport java.util.spi.ToolProvider;\r\n\r\npublic class ReusedVariableSlots {\r\n    static class Example {\r\n      public static void exampleMethod() {\r\n          { short s = 1234; }\r\n          { Object o = null; }\r\n      }\r\n      private Example() {}\r\n  }\r\n  public static void main(String... arg) {\r\n      ToolProvider.findFirst(&quot;javap&quot;).ifPresentOrElse(\r\n          javap -&gt;javap.run(System.out, System.err, &quot;-c&quot;, Example.class.getName()),\r\n          () -&gt; System.out.println(&quot;javap not found&quot;));\r\n  }\r\n}\r\n```\r\n\r\nwill print something like\r\n\r\n```none\r\nCompiled from &quot;ReusedVariableSlots.java&quot;\r\nclass ReusedVariableSlots$Example {\r\n  public static void exampleMethod();\r\n    Code:\r\n       0: sipush        1234\r\n       3: istore_0\r\n       4: aconst_null\r\n       5: astore_0\r\n       6: return\r\n}\r\n```\r\n\r\n[online demo on tio.run](https://tio.run/##bZBNboMwEIX3nGLECiQYqT871O7SXZpI7QUcbIipsS17jFpFOTs1gSik6iyskd/TzPemYwMrO/41jrK3xhF08QMDSYXeSvw0Ru2dGSQXrkqSWjHvYcukhlMCsTwxkjXM/5tv1lslFmkqGw4qyotrMJKDmE1bQUfDs3xlnuoE/jhReHiBh8en5wrOf/TdoRM1gYkGHZRaG26ddXJgJK5E05pZnN9/sPqYKfsgJ3WLiMBcu0ZbnwEbqfmbdJ6ydDqWTXOUzd4JLzTt3EZ5kd0xX0xQvs4NuhAX/XgSPZpABSy9cK6AtKzT4kqNl6tiK@id9TFDXtyNjaHizNskjKE1Kb1QgTYEjQmap3leLeHPyTj@Ag)","title":"Is there any good examples of jvm reuse LocalVariableTable slot?","body":"<p>There is no java's assembly language so you can not compile a pseudo assembly code with the tools provided by the JDK. You can only use the other direction, print the bytecode of a compiled class with <code>javap</code>.</p>\n<p>There are 3rd party tools providing an assembly language for the JVM, e.g. Krakatau, but neither is part of a standard. Most of those languages will look similar or even offer compatibility with other tools though, as they use the same mnemonics from the JVM specification and the output format of <code>javap</code> as a starting point.</p>\n<p>Reusing variable slots is a trivial thing. It happens all the time when local variables have disjunct scopes. E.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.spi.ToolProvider;\n\npublic class ReusedVariableSlots {\n    static class Example {\n      public static void exampleMethod() {\n          { short s = 1234; }\n          { Object o = null; }\n      }\n      private Example() {}\n  }\n  public static void main(String... arg) {\n      ToolProvider.findFirst(&quot;javap&quot;).ifPresentOrElse(\n          javap -&gt;javap.run(System.out, System.err, &quot;-c&quot;, Example.class.getName()),\n          () -&gt; System.out.println(&quot;javap not found&quot;));\n  }\n}\n</code></pre>\n<p>will print something like</p>\n<pre class=\"lang-none prettyprint-override\"><code>Compiled from &quot;ReusedVariableSlots.java&quot;\nclass ReusedVariableSlots$Example {\n  public static void exampleMethod();\n    Code:\n       0: sipush        1234\n       3: istore_0\n       4: aconst_null\n       5: astore_0\n       6: return\n}\n</code></pre>\n<p><a href=\"https://tio.run/##bZBNboMwEIX3nGLECiQYqT871O7SXZpI7QUcbIipsS17jFpFOTs1gSik6iyskd/TzPemYwMrO/41jrK3xhF08QMDSYXeSvw0Ru2dGSQXrkqSWjHvYcukhlMCsTwxkjXM/5tv1lslFmkqGw4qyotrMJKDmE1bQUfDs3xlnuoE/jhReHiBh8en5wrOf/TdoRM1gYkGHZRaG26ddXJgJK5E05pZnN9/sPqYKfsgJ3WLiMBcu0ZbnwEbqfmbdJ6ydDqWTXOUzd4JLzTt3EZ5kd0xX0xQvs4NuhAX/XgSPZpABSy9cK6AtKzT4kqNl6tiK@id9TFDXtyNjaHizNskjKE1Kb1QgTYEjQmap3leLeHPyTj@Ag\" rel=\"nofollow noreferrer\">online demo on tio.run</a></p>\n"}],"owner":{"account_id":109320,"reputation":5333,"user_id":289718,"accept_rate":75,"display_name":"neocanable"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77536649,"answer_count":1,"score":0,"last_activity_date":1700740949,"creation_date":1700663940,"question_id":77530858,"body_markdown":"I&#39;m learning Java&#39;s assembly language by read the [Java Virtual Machine Specification](https://docs.oracle.com/javase/specs/jvms/se15/html/jvms-4.html#jvms-4.7.13)\r\n\r\nI&#39;m confused about the LocalVariableTable attribute, which official document says when executing a .class file, all slots of LocalVariableTable may be reused.\r\n\r\nI cannot write any code compiled like this:\r\n```java\r\nsipush xxx\r\nistore_0\r\n.....\r\ndup\r\nastore_0\r\n```\r\n\r\nCan anyone give me some examples?\r\n","title":"Is there any good examples of jvm reuse LocalVariableTable slot?","body":"<p>I'm learning Java's assembly language by read the <a href=\"https://docs.oracle.com/javase/specs/jvms/se15/html/jvms-4.html#jvms-4.7.13\" rel=\"nofollow noreferrer\">Java Virtual Machine Specification</a></p>\n<p>I'm confused about the LocalVariableTable attribute, which official document says when executing a .class file, all slots of LocalVariableTable may be reused.</p>\n<p>I cannot write any code compiled like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>sipush xxx\nistore_0\n.....\ndup\nastore_0\n</code></pre>\n<p>Can anyone give me some examples?</p>\n"},{"tags":["java","swing","geometry","simulation"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1700699241,"post_id":77533654,"comment_id":136688011,"body_markdown":"See: https://stackoverflow.com/a/54028681/131872 for one approach.","body":"See: <a href=\"https://stackoverflow.com/a/54028681/131872\">stackoverflow.com/a/54028681/131872</a> for one approach."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1700725857,"post_id":77533654,"comment_id":136690211,"body_markdown":"The AWT package has a [Rectangle](https://docs.oracle.com/javase/8/docs/api/java/awt/Rectangle.html) class.  The `Rectangle` class has an `intersects` method that takes other rectangles.  Walls are flat rectangles.  The intersects method of a ball (circle) is simply less than or equal to the radius of the circle.  Keep track of the ball using polar coordinates and convert them to cartesian coordinates for drawing and intersect calculations.","body":"The AWT package has a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/Rectangle.html\" rel=\"nofollow noreferrer\">Rectangle</a> class.  The <code>Rectangle</code> class has an <code>intersects</code> method that takes other rectangles.  Walls are flat rectangles.  The intersects method of a ball (circle) is simply less than or equal to the radius of the circle.  Keep track of the ball using polar coordinates and convert them to cartesian coordinates for drawing and intersect calculations."}],"owner":{"account_id":29970354,"reputation":1,"user_id":22967823,"display_name":"Vincent DeCampo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700740902,"creation_date":1700696672,"question_id":77533654,"body_markdown":"I&#39;m a relatively new programmer, and I&#39;m trying to write a simple simulation in Java for personal enrichment using the swing library. One thing I&#39;m struggling with is updating my entities (a ball in this case) to their points of contact with a wall. Currently, I detect collisions a step before they happen so that I can bounce them off of walls. My simulation&#39;s update function is as follows, as well as my `Entity`&#39;s update functions (I know it&#39;s VERY messy; I plan on cleaning it up once it&#39;s working):\r\n\r\n\r\n```\r\npublic void update()\r\n{\r\n\t// Iterate through each entity in the list\r\n\tfor (Entity entity : entities)\r\n\t{\r\n\t\t// Flag to determine if the entity has bounced off a wall\r\n\t\tboolean bounced = false;\r\n\r\n\t\t// Iterate through each wall in the list\r\n\t\tfor (Wall wall : walls)\r\n\t\t{\r\n\t\t\t// Get the future position of the entity\r\n\t\t\tfloat[] nextPos = entity.getFuture();\r\n\r\n\t\t\t// Check if the entity is a Ball\r\n\t\t\tif (entity instanceof Ball)\r\n\t\t\t{\r\n\t\t\t\t// Create a vector representing the wall\r\n\t\t\t\tVector wallVector = new Vector(wall.p2.x, wall.p2.y).vsubtract(new Vector(wall.p1.x, wall.p1.y));\r\n\r\n\t\t\t\t// Calculate vectors from the ball&#39;s center to the wall\r\n\t\t\t\tVector ballPosToWall = new Vector(((Ball) entity).centerx, ((Ball) entity).centery).vsubtract(new Vector(wall.p1.x, wall.p1.y));\r\n\t\t\t\tVector nextPosToWall = new Vector(nextPos[0], nextPos[1]).vsubtract(new Vector(wall.p1.x, wall.p1.y));\r\n\r\n\t\t\t\t// Calculate interpolation values for the current and next positions\r\n\t\t\t\tfloat ballInterp = ballPosToWall.dot(wallVector) / wallVector.getLengthSquared();\r\n\t\t\t\tfloat nextInterp = nextPosToWall.dot(wallVector) / wallVector.getLengthSquared();\r\n\r\n\t\t\t\t// Clamp interpolation values to the range [0, 1]\r\n\t\t\t\tballInterp = Math.max(0, Math.min(1, ballInterp));\r\n\t\t\t\tnextInterp = Math.max(0, Math.min(1, nextInterp));\r\n\r\n\t\t\t\t// Calculate points on the wall corresponding to the ball&#39;s current and next positions\r\n\t\t\t\tVector ballPoint = wallVector.scale(ballInterp).vadd(new Vector(wall.p1.x, wall.p1.y));\r\n\t\t\t\tVector nextPoint = wallVector.scale(nextInterp).vadd(new Vector(wall.p1.x, wall.p1.y));\r\n\r\n\t\t\t\t// Calculate distances from the ball to the wall at the current and next positions\r\n\t\t\t\tfloat currentDistance = (float) Math.sqrt(((ballPoint.dx - ((Ball) entity).centerx) * (ballPoint.dx - ((Ball) entity).centerx)) \r\n\t\t\t\t\t\t+ ((ballPoint.dy - ((Ball) entity).centery) * (ballPoint.dy - ((Ball) entity).centery)));\r\n\r\n\t\t\t\tfloat nextDistance = (float) Math.sqrt(((nextPoint.dx - nextPos[0]) * (nextPoint.dx - nextPos[0])) \r\n\t\t\t\t\t\t+ ((nextPoint.dy - nextPos[1]) * (nextPoint.dy - nextPos[1])));\r\n\r\n\t\t\t\t// Check if the ball will collide with the wall in the next position\r\n\t\t\t\tif (nextDistance &lt;= entity.width / 2)\r\n\t\t\t\t{\r\n\t\t\t\t\t// Calculate the portion of the step before the collision and after the bounce\r\n\t\t\t\t\t// float stepsToWall = ???\r\n\t\t\t\t\t// float stepsAfterBounce = 1 - stepsToWall;\r\n\r\n\t\t\t\t\t// Update the entity up to the collision point\r\n\t\t\t\t\t// entity.update(stepsToWall);\r\n\r\n\t\t\t\t\t// Reflect the entity&#39;s vector based on the wall&#39;s normal, simulating a bounce\r\n\t\t\t\t\tentity.setVector(entity.getVector().reflect(wallVector.normalize()));\r\n\r\n\t\t\t\t\t// Update the entity after the bounce\r\n\t\t\t\t\t// entity.update(stepsAfterBounce);\r\n\r\n\t\t\t\t\t// Set the bounce flag to true\r\n\t\t\t\t\tbounced = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// If the entity did not bounce off of any walls, update it normally\r\n\t\tif (!bounced)\r\n\t\t\tentity.update();\r\n\t}\r\n}\r\n```\r\n\r\n\r\n```\r\npublic void update()\r\n{\r\n\tx += velocity.dx;\r\n\ty += velocity.dy;\r\n}\r\n\r\npublic void update(float steps)\r\n{\r\n\tx += velocity.dx * steps;\r\n\ty += velocity.dy * steps;\r\n}\r\n```\r\n\r\nMy `Wall` class simply houses two endpoints. I also wrote a custom `Vector` class (which houses a dx and dy value) to handle all of the vector calculations, which works as intended.\r\n\r\nEverything (as far as I know) works, except I can&#39;t seem to find a calculation to get the `stepsToWall`. I&#39;ve tried a number of things but I know I&#39;m not in the right ballpark, and I&#39;m not the greatest at math. I DO know that it should be a number between 0 and 1. Any ideas or suggestions would be greatly appreciated, and yes, I&#39;m aware the code needs cleaning :P. This is my first question, so sorry if I didn&#39;t provide adequate information. If anything else is wanted or needed I will provide it.","title":"How can I determine the &quot;time&quot; of contact between a circle and a wall?","body":"<p>I'm a relatively new programmer, and I'm trying to write a simple simulation in Java for personal enrichment using the swing library. One thing I'm struggling with is updating my entities (a ball in this case) to their points of contact with a wall. Currently, I detect collisions a step before they happen so that I can bounce them off of walls. My simulation's update function is as follows, as well as my <code>Entity</code>'s update functions (I know it's VERY messy; I plan on cleaning it up once it's working):</p>\n<pre><code>public void update()\n{\n    // Iterate through each entity in the list\n    for (Entity entity : entities)\n    {\n        // Flag to determine if the entity has bounced off a wall\n        boolean bounced = false;\n\n        // Iterate through each wall in the list\n        for (Wall wall : walls)\n        {\n            // Get the future position of the entity\n            float[] nextPos = entity.getFuture();\n\n            // Check if the entity is a Ball\n            if (entity instanceof Ball)\n            {\n                // Create a vector representing the wall\n                Vector wallVector = new Vector(wall.p2.x, wall.p2.y).vsubtract(new Vector(wall.p1.x, wall.p1.y));\n\n                // Calculate vectors from the ball's center to the wall\n                Vector ballPosToWall = new Vector(((Ball) entity).centerx, ((Ball) entity).centery).vsubtract(new Vector(wall.p1.x, wall.p1.y));\n                Vector nextPosToWall = new Vector(nextPos[0], nextPos[1]).vsubtract(new Vector(wall.p1.x, wall.p1.y));\n\n                // Calculate interpolation values for the current and next positions\n                float ballInterp = ballPosToWall.dot(wallVector) / wallVector.getLengthSquared();\n                float nextInterp = nextPosToWall.dot(wallVector) / wallVector.getLengthSquared();\n\n                // Clamp interpolation values to the range [0, 1]\n                ballInterp = Math.max(0, Math.min(1, ballInterp));\n                nextInterp = Math.max(0, Math.min(1, nextInterp));\n\n                // Calculate points on the wall corresponding to the ball's current and next positions\n                Vector ballPoint = wallVector.scale(ballInterp).vadd(new Vector(wall.p1.x, wall.p1.y));\n                Vector nextPoint = wallVector.scale(nextInterp).vadd(new Vector(wall.p1.x, wall.p1.y));\n\n                // Calculate distances from the ball to the wall at the current and next positions\n                float currentDistance = (float) Math.sqrt(((ballPoint.dx - ((Ball) entity).centerx) * (ballPoint.dx - ((Ball) entity).centerx)) \n                        + ((ballPoint.dy - ((Ball) entity).centery) * (ballPoint.dy - ((Ball) entity).centery)));\n\n                float nextDistance = (float) Math.sqrt(((nextPoint.dx - nextPos[0]) * (nextPoint.dx - nextPos[0])) \n                        + ((nextPoint.dy - nextPos[1]) * (nextPoint.dy - nextPos[1])));\n\n                // Check if the ball will collide with the wall in the next position\n                if (nextDistance &lt;= entity.width / 2)\n                {\n                    // Calculate the portion of the step before the collision and after the bounce\n                    // float stepsToWall = ???\n                    // float stepsAfterBounce = 1 - stepsToWall;\n\n                    // Update the entity up to the collision point\n                    // entity.update(stepsToWall);\n\n                    // Reflect the entity's vector based on the wall's normal, simulating a bounce\n                    entity.setVector(entity.getVector().reflect(wallVector.normalize()));\n\n                    // Update the entity after the bounce\n                    // entity.update(stepsAfterBounce);\n\n                    // Set the bounce flag to true\n                    bounced = true;\n                }\n            }\n        }\n\n        // If the entity did not bounce off of any walls, update it normally\n        if (!bounced)\n            entity.update();\n    }\n}\n</code></pre>\n<pre><code>public void update()\n{\n    x += velocity.dx;\n    y += velocity.dy;\n}\n\npublic void update(float steps)\n{\n    x += velocity.dx * steps;\n    y += velocity.dy * steps;\n}\n</code></pre>\n<p>My <code>Wall</code> class simply houses two endpoints. I also wrote a custom <code>Vector</code> class (which houses a dx and dy value) to handle all of the vector calculations, which works as intended.</p>\n<p>Everything (as far as I know) works, except I can't seem to find a calculation to get the <code>stepsToWall</code>. I've tried a number of things but I know I'm not in the right ballpark, and I'm not the greatest at math. I DO know that it should be a number between 0 and 1. Any ideas or suggestions would be greatly appreciated, and yes, I'm aware the code needs cleaning :P. This is my first question, so sorry if I didn't provide adequate information. If anything else is wanted or needed I will provide it.</p>\n"},{"tags":["java","mockserver","mockserver-netty"],"owner":{"account_id":29974812,"reputation":1,"user_id":22971305,"display_name":"Adamx2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700740821,"creation_date":1700740821,"question_id":77536702,"body_markdown":"I am developing web application and I need to find some solution how to test some components which are from third-party so when the application is on server, I want to use mockserver to be able to mock this components from third-party. Is there any possible way how to use mockserver with the expectations which are defined in json file through the java and be able to deploy this standalone application with mockserver on my server with my application?\r\n\r\nLocally it is not problem, I am able to use something like this \r\n\r\n`version: &quot;2.4&quot;\r\nservices:\r\n  mockServer:\r\n    image: mockserver/mockserver\r\n    ports:\r\n      - &quot;1080:1080&quot;\r\n    environment:\r\n      MOCKSERVER_PROPERTY_FILE: /config/mockserver.properties\r\n      MOCKSERVER_INITIALIZATION_JSON_PATH: /config/initializer.json\r\n    volumes:\r\n      - type: bind\r\n        source: .\r\n        target: /config`\r\nand through this I was able to access my defined requests / responses and also home page from mockserver something like : localhost:1080/mockserver/dashboard. I would like to make something similar but through the java. I was searching in documentation and I did not find there something like this and I am not sure if it even possible to do it in Java.\r\n\r\nPlease if you have any advices / options how to do it, it would help me a lot.\r\nThank you.\r\n\r\n`public class MockServer {\r\n    private static final int PORT = 1080;\r\n\r\n    public static void main(String[] args) {\r\n        ClientAndServer mockServer = ClientAndServer.startClientAndServer(PORT);\r\n\r\n        ConfigurationProperties.initializationJsonPath(&quot;initializer.json&quot;);\r\n        \r\n        new MockServerClient(&quot;localhost&quot;, PORT);\r\n\r\n\r\n    }\r\n}`\r\n\r\nI was trying to do something like this but without success I was not able to access the expectations from json file and as I mentioned I am not sure if it is possible to do it.","title":"Is there any way how to use mockserver in java and run it with expectations and access it through the URL in web browser?","body":"<p>I am developing web application and I need to find some solution how to test some components which are from third-party so when the application is on server, I want to use mockserver to be able to mock this components from third-party. Is there any possible way how to use mockserver with the expectations which are defined in json file through the java and be able to deploy this standalone application with mockserver on my server with my application?</p>\n<p>Locally it is not problem, I am able to use something like this</p>\n<p><code>version: &quot;2.4&quot; services: mockServer: image: mockserver/mockserver ports: - &quot;1080:1080&quot; environment: MOCKSERVER_PROPERTY_FILE: /config/mockserver.properties MOCKSERVER_INITIALIZATION_JSON_PATH: /config/initializer.json volumes: - type: bind source: . target: /config</code>\nand through this I was able to access my defined requests / responses and also home page from mockserver something like : localhost:1080/mockserver/dashboard. I would like to make something similar but through the java. I was searching in documentation and I did not find there something like this and I am not sure if it even possible to do it in Java.</p>\n<p>Please if you have any advices / options how to do it, it would help me a lot.\nThank you.</p>\n<p>`public class MockServer {\nprivate static final int PORT = 1080;</p>\n<pre><code>public static void main(String[] args) {\n    ClientAndServer mockServer = ClientAndServer.startClientAndServer(PORT);\n\n    ConfigurationProperties.initializationJsonPath(&quot;initializer.json&quot;);\n    \n    new MockServerClient(&quot;localhost&quot;, PORT);\n\n\n}\n</code></pre>\n<p>}`</p>\n<p>I was trying to do something like this but without success I was not able to access the expectations from json file and as I mentioned I am not sure if it is possible to do it.</p>\n"},{"tags":["java","jpa","criteria","criteria-api","openjpa"],"owner":{"account_id":15491250,"reputation":11,"user_id":11175638,"display_name":"Rich Le"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700740472,"creation_date":1700728912,"question_id":77535412,"body_markdown":"I&#39;m using OpenJPA 3.2.2 and trying some CRUD by OpenJPA - criteria API but got some errors\r\n\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.UnsupportedOperationException: JPA 2.1\r\n\tat org.apache.openjpa.persistence.criteria.CriteriaBuilderImpl.createCriteriaUpdate(CriteriaBuilderImpl.java:127)\r\n\tat org.example.repositories.BaseRepository.deleteById(BaseRepository.java:63)\r\n```\r\n\r\nAs my googling, seem like my OpenJPA verssion does not support &quot;createCriteriaUpdate&quot; and &quot;createCriteriaDelete&quot; anymore.\r\nI just wanna ensure that the root issue come from me(my code, my configuration) or those methods is depreciated.\r\n\r\nMy pom.xml:\r\n\r\n```xml\r\n&lt;properties&gt;\r\n\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t&lt;openjpa.version&gt;3.2.2&lt;/openjpa.version&gt;\r\n&lt;/properties&gt;\r\n&lt;dependencies&gt;\r\n\t&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;8.0.30&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.apache.openjpa/openjpa-all --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.openjpa&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;openjpa-all&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;${openjpa.version}&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.eclipse.jdt&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;org.eclipse.jdt.annotation&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.2.600&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;16.0.3&lt;/version&gt;\r\n\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nMy method:\r\n\r\n```java\r\n@Override\r\npublic void deleteById(Long id) {\r\n\tSystem.out.println(&quot;deleting...&quot;);\r\n\ttry {\r\n\t\tbegin();\r\n\t\tCriteriaBuilder builder = entityManager.getCriteriaBuilder();\r\n\t\tCriteriaUpdate&lt;User&gt; softDelete = builder.createCriteriaUpdate(User.class);\r\n\t\tRoot&lt;User&gt; userRoot = softDelete.from(User.class);\r\n\r\n\t\t// conditions\r\n\t\tPredicate condition1 = builder.equal(userRoot.get(&quot;id&quot;), id);\r\n\r\n\t\tsoftDelete.set(&quot;isDeleted&quot;, true);\r\n\t\tsoftDelete.where(condition1);\r\n\r\n\t\tint countDeleted = entityManager.createQuery(softDelete).executeUpdate();\r\n\t\tSystem.out.println(countDeleted);\r\n\r\n\t\tcommit();\r\n\t} catch (OpenJPAException ex) {\r\n\t\trollback();\r\n\t\tthrow new RuntimeException(ex.getMessage());\r\n\t}\r\n}\r\n```\r\n\r\n[![enter image description here](https://i.stack.imgur.com/z9Svu.png)](https://i.stack.imgur.com/z9Svu.png)\r\n\r\nAs my googling, seem like my OpenJPA verssion does not support `createCriteriaUpdate` and `createCriteriaDelete` anymore.\r\nI just wanna ensure that the root issue come from me(my code, my configuration) or those methods is depreciated.","title":"OpenJPA Criteria API - createCriteriaUpdate and createCriteriaDelete","body":"<p>I'm using OpenJPA 3.2.2 and trying some CRUD by OpenJPA - criteria API but got some errors</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException: JPA 2.1\n    at org.apache.openjpa.persistence.criteria.CriteriaBuilderImpl.createCriteriaUpdate(CriteriaBuilderImpl.java:127)\n    at org.example.repositories.BaseRepository.deleteById(BaseRepository.java:63)\n</code></pre>\n<p>As my googling, seem like my OpenJPA verssion does not support &quot;createCriteriaUpdate&quot; and &quot;createCriteriaDelete&quot; anymore.\nI just wanna ensure that the root issue come from me(my code, my configuration) or those methods is depreciated.</p>\n<p>My pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;openjpa.version&gt;3.2.2&lt;/openjpa.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;8.0.30&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.openjpa/openjpa-all --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.openjpa&lt;/groupId&gt;\n        &lt;artifactId&gt;openjpa-all&lt;/artifactId&gt;\n        &lt;version&gt;${openjpa.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.jdt&lt;/groupId&gt;\n        &lt;artifactId&gt;org.eclipse.jdt.annotation&lt;/artifactId&gt;\n        &lt;version&gt;2.2.600&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n        &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n        &lt;version&gt;16.0.3&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>My method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void deleteById(Long id) {\n    System.out.println(&quot;deleting...&quot;);\n    try {\n        begin();\n        CriteriaBuilder builder = entityManager.getCriteriaBuilder();\n        CriteriaUpdate&lt;User&gt; softDelete = builder.createCriteriaUpdate(User.class);\n        Root&lt;User&gt; userRoot = softDelete.from(User.class);\n\n        // conditions\n        Predicate condition1 = builder.equal(userRoot.get(&quot;id&quot;), id);\n\n        softDelete.set(&quot;isDeleted&quot;, true);\n        softDelete.where(condition1);\n\n        int countDeleted = entityManager.createQuery(softDelete).executeUpdate();\n        System.out.println(countDeleted);\n\n        commit();\n    } catch (OpenJPAException ex) {\n        rollback();\n        throw new RuntimeException(ex.getMessage());\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/z9Svu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z9Svu.png\" alt=\"enter image description here\" /></a></p>\n<p>As my googling, seem like my OpenJPA verssion does not support <code>createCriteriaUpdate</code> and <code>createCriteriaDelete</code> anymore.\nI just wanna ensure that the root issue come from me(my code, my configuration) or those methods is depreciated.</p>\n"},{"tags":["java","android","mysql","jdbc","sleep-mode"],"comments":[{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1700740482,"post_id":77528891,"comment_id":136693003,"body_markdown":"You shouldn&#39;t be using JDBC from Android in the first place, but use a REST API or other form of web API. The obvious solution/workaround to this is to not use a persistent connection, but create connections for a unit of work and close them immediately when done with the unit. But the real solution is to switch to a web-based (REST) service to mediate between your app and the database.","body":"You shouldn&#39;t be using JDBC from Android in the first place, but use a REST API or other form of web API. The obvious solution/workaround to this is to not use a persistent connection, but create connections for a unit of work and close them immediately when done with the unit. But the real solution is to switch to a web-based (REST) service to mediate between your app and the database."}],"owner":{"account_id":29964952,"reputation":11,"user_id":22963754,"display_name":"Le Timo&#39;"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1700740376,"creation_date":1700646880,"question_id":77528891,"body_markdown":"I spent several days trying to resolve an error &quot;communication link failure&quot; that arises exclusively after my device enters sleep mode. The error manifests when I perform an action in my app that triggers a database-related action. Strangely, if I return to my app immediately after the device wakes from sleep mode and wait between 20 to 30 seconds before executing a database-related action, the error does not occur but if I don&#39;t wait the error occur.\r\n\r\nNotably, the error doesn&#39;t surface when my device is charging or connected to a PC via USB.\r\n\r\nFor context, I am currently working for a company and I am developing that app alone. This app is use by factory workers and I can&#39;t afford to have users wait 20 seconds every time the device goes into sleep mode.\r\n\r\nI&#39;m developing on Java with Android Studio using mysql-connector-java version &quot;5.1.38&quot;, my device is also connected to a VPN using OpenVPN Connect.\r\n\r\nI tried many things to resolve this issue:\r\n\r\n- close and recreate connection on OnPause and OnResume method\r\n- Reconnected before any database action.\r\n- Updated MySQL version.\r\n- Set USB configuration to &#39;charge&#39;.\r\n\r\nNo one on the internet looks like troubleshooting the same issue. I have no idea how to solve this issue and I really need to find a solution.\r\n","title":"&quot;Communication link failure&quot; using mysql.jdbc after my device goes to sleep mode","body":"<p>I spent several days trying to resolve an error &quot;communication link failure&quot; that arises exclusively after my device enters sleep mode. The error manifests when I perform an action in my app that triggers a database-related action. Strangely, if I return to my app immediately after the device wakes from sleep mode and wait between 20 to 30 seconds before executing a database-related action, the error does not occur but if I don't wait the error occur.</p>\n<p>Notably, the error doesn't surface when my device is charging or connected to a PC via USB.</p>\n<p>For context, I am currently working for a company and I am developing that app alone. This app is use by factory workers and I can't afford to have users wait 20 seconds every time the device goes into sleep mode.</p>\n<p>I'm developing on Java with Android Studio using mysql-connector-java version &quot;5.1.38&quot;, my device is also connected to a VPN using OpenVPN Connect.</p>\n<p>I tried many things to resolve this issue:</p>\n<ul>\n<li>close and recreate connection on OnPause and OnResume method</li>\n<li>Reconnected before any database action.</li>\n<li>Updated MySQL version.</li>\n<li>Set USB configuration to 'charge'.</li>\n</ul>\n<p>No one on the internet looks like troubleshooting the same issue. I have no idea how to solve this issue and I really need to find a solution.</p>\n"},{"tags":["java","android","firebase","crashlytics","app-quality-insights"],"comments":[{"owner":{"account_id":14722107,"reputation":5143,"user_id":10632369,"display_name":"tomerpacific"},"score":0,"creation_date":1700740504,"post_id":77536527,"comment_id":136693010,"body_markdown":"Does [this](https://stackoverflow.com/questions/70006956/firebase-crashlytics-not-showing-crash-reports-even-though-it-has-crashes?rq=2) help?","body":"Does <a href=\"https://stackoverflow.com/questions/70006956/firebase-crashlytics-not-showing-crash-reports-even-though-it-has-crashes?rq=2\">this</a> help?"},{"owner":{"account_id":7247949,"reputation":4924,"user_id":5529263,"display_name":"Boken"},"score":0,"creation_date":1700779676,"post_id":77536527,"comment_id":136698768,"body_markdown":"You can try to add `&lt;meta-data android:name=&quot;firebase_crashlytics_collection_enabled&quot; android:value=&quot;true&quot; /&gt;` to your manifest or just call from your code `FirebaseCrashlytics.getInstance().setCrashlyticsCollectionEnabled(true)`.","body":"You can try to add <code>&lt;meta-data android:name=&quot;firebase_crashlytics_collection_enabled&quot; android:value=&quot;true&quot; &#47;&gt;</code> to your manifest or just call from your code <code>FirebaseCrashlytics.getInstance().setCrashlyticsCollectionEn&zwnj;&#8203;abled(true)</code>."}],"owner":{"account_id":29870969,"reputation":1,"user_id":22892345,"display_name":"PnmaAndro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700740342,"creation_date":1700739108,"question_id":77536527,"body_markdown":"I am using Firebase Crashlytics whereas I can&#39;t see my crashes on both App Quality Insight and Firebase Console.\r\n\r\nInitially it displayed &quot;Currently logged in user has no permission on this project&quot;Later i resolved that and now its showing &quot;You don&#39;t have any issues yet&quot;, Even though the Crash occurs.\r\n\r\nNPE is showing on logcat but not on App Quality Insight.\r\n\r\nAnyone faced the same?\r\n\r\nI tried Changing my Package Name and Registering in Firebase Console.Cleaned and Rebuilt Project n time but no use.\r\n\r\n ","title":"Firebase Crashlytics not showing crash reports","body":"<p>I am using Firebase Crashlytics whereas I can't see my crashes on both App Quality Insight and Firebase Console.</p>\n<p>Initially it displayed &quot;Currently logged in user has no permission on this project&quot;Later i resolved that and now its showing &quot;You don't have any issues yet&quot;, Even though the Crash occurs.</p>\n<p>NPE is showing on logcat but not on App Quality Insight.</p>\n<p>Anyone faced the same?</p>\n<p>I tried Changing my Package Name and Registering in Firebase Console.Cleaned and Rebuilt Project n time but no use.</p>\n"},{"tags":["java","datetime","java-8","jodatime","java-time"],"comments":[{"owner":{"account_id":1266169,"reputation":5108,"user_id":1223436,"accept_rate":76,"display_name":"Zack"},"score":8,"creation_date":1404822890,"post_id":24631909,"comment_id":38175702,"body_markdown":"It is not, that is pertaining to Java 7, not Java 8. The answer to that question was edited for Java 8 with very very little detail. My question specifically is asking about Java 8&#39;s new DateTime API, not Java 7&#39;s java.util.Date. I&#39;m just looking for an answer that compares Java 8 to JodaTime.","body":"It is not, that is pertaining to Java 7, not Java 8. The answer to that question was edited for Java 8 with very very little detail. My question specifically is asking about Java 8&#39;s new DateTime API, not Java 7&#39;s java.util.Date. I&#39;m just looking for an answer that compares Java 8 to JodaTime."},{"owner":{"account_id":1379898,"reputation":12933,"user_id":1313143,"accept_rate":87,"display_name":"MarioDS"},"score":2,"creation_date":1404822949,"post_id":24631909,"comment_id":38175739,"body_markdown":"perhaps [this Oracle document](http://www.oracle.com/technetwork/articles/java/jf14-date-time-2125367.html) can help you.","body":"perhaps <a href=\"http://www.oracle.com/technetwork/articles/java/jf14-date-time-2125367.html\" rel=\"nofollow noreferrer\">this Oracle document</a> can help you."},{"owner":{"account_id":23121,"reputation":527336,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1404824438,"post_id":24631909,"comment_id":38176681,"body_markdown":"If you have Java 7, use the additional library, if you have Java 8, use the built in library.  Since both libraries are basically designed by the same person, I am not sure what major differences you are expecting.","body":"If you have Java 7, use the additional library, if you have Java 8, use the built in library.  Since both libraries are basically designed by the same person, I am not sure what major differences you are expecting."},{"owner":{"account_id":60494,"reputation":34013,"user_id":180659,"accept_rate":54,"display_name":"jarnbjo"},"score":2,"creation_date":1404825999,"post_id":24631909,"comment_id":38177821,"body_markdown":"@PeterLawrey: Joda-Time and the Java 8 date and time API are actually quite different.","body":"@PeterLawrey: Joda-Time and the Java 8 date and time API are actually quite different."},{"owner":{"account_id":317896,"reputation":233661,"user_id":634824,"accept_rate":87,"display_name":"Matt Johnson-Pint"},"score":5,"creation_date":1404833204,"post_id":24631909,"comment_id":38183101,"body_markdown":"You can also read [this blog post](http://blog.joda.org/2009/11/why-jsr-310-isn-joda-time_4941.html) from Stephen Colbourne - the primary author of both projects.","body":"You can also read <a href=\"http://blog.joda.org/2009/11/why-jsr-310-isn-joda-time_4941.html\" rel=\"nofollow noreferrer\">this blog post</a> from Stephen Colbourne - the primary author of both projects."}],"answers":[{"tags":[],"owner":{"account_id":4335413,"reputation":2785,"user_id":3540002,"accept_rate":100,"display_name":"OO7"},"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1700740085,"creation_date":1404826536,"answer_id":24633272,"question_id":24631909,"body_markdown":"**Java 8 Date/Time :**\r\n\r\n1. Java 8 classes are built around the human time. It makes them fast for human datetime arithmetics/conversion.\r\n2. Date/time component getters like `getDayOfMonth` have O(1) complexity in Java 8 implementation.\r\n3. Parsing of `OffsetDateTime`/`OffsetTime`/`ZonedDateTime` is very slow in Java 8 ea b121 due to exceptions thrown and caught internally in the JDK. \r\n4. A set of packages: `java.time.*`, `java.time.chrono.*`, `java.time.format.*`, `java.time.temporal.*`, `java.time.zone.*`\r\n5. Instants (timestamps) Date and Time Partial Date and Time Parser and Formatter Time zones Different chronologies (calendars). \r\n6. Existing classes have issues like Date has no support for I18N or L10N. They are mutable!\r\n7. Simpler &amp; more robust.\r\n8. Clocks can be injected. \r\n9. Clocks can be created with various properties - Static clocks, Mocked clocks, Low-precision clocks (whole seconds, whole minutes, etc). \r\n10. Clocks can be created with specific time zones. `Clock.system(Zone.of(&quot;America/Los_Angeles&quot;))`. \r\n11. Makes code handling date and time testable. \r\n12. Makes tests independent of timezone.\r\n\r\n\r\n\r\n**Joda-Time :**\r\n\r\n1. Joda-Time is using machine time inside. A manual implementation based on int/long values would be much faster.\r\n2. Joda-Time getters require the computer-to-human time calculation on every getter call, which makes Joda-Time a bottleneck in such scenarios. \r\n3. It is composed of immutable classes it handles Instants, Date &amp; Time, Partials, and Durations It is flexible It is well designed. \r\n4. Represents dates as instants. But a date&amp;time may correspond to more than one instant. Overlap hour when daylight savings end. As well as not have any instant that corresponds to it at all. Gap hour when daylight starts. Has to perform complex computations for simple operations. \r\n5. Accepts nulls as valid values on most of its methods. Leads to subtle bugs. \r\n\r\n\r\n**For more detailed comparision see :-**\r\n\r\n[Java 8 Date/Time library performance (as well as Joda-Time 2.3 and j.u.Calendar)][1]. &amp;\r\n[New Date &amp; Time API in Java 8][2]\r\n\r\n\r\n  [1]: https://web.archive.org/web/20181018123257/http://java-performance.info/jsr-310-java-8-datetime-library-performance-well-joda-time-2-3-j-u-calendar\r\n  [2]: https://stackoverflow.com/questions/17527468/new-date-time-api-in-java-8","title":"Differences between Java 8 Date Time API (java.time) and Joda-Time","body":"<p><strong>Java 8 Date/Time :</strong></p>\n<ol>\n<li>Java 8 classes are built around the human time. It makes them fast for human datetime arithmetics/conversion.</li>\n<li>Date/time component getters like <code>getDayOfMonth</code> have O(1) complexity in Java 8 implementation.</li>\n<li>Parsing of <code>OffsetDateTime</code>/<code>OffsetTime</code>/<code>ZonedDateTime</code> is very slow in Java 8 ea b121 due to exceptions thrown and caught internally in the JDK.</li>\n<li>A set of packages: <code>java.time.*</code>, <code>java.time.chrono.*</code>, <code>java.time.format.*</code>, <code>java.time.temporal.*</code>, <code>java.time.zone.*</code></li>\n<li>Instants (timestamps) Date and Time Partial Date and Time Parser and Formatter Time zones Different chronologies (calendars).</li>\n<li>Existing classes have issues like Date has no support for I18N or L10N. They are mutable!</li>\n<li>Simpler &amp; more robust.</li>\n<li>Clocks can be injected.</li>\n<li>Clocks can be created with various properties - Static clocks, Mocked clocks, Low-precision clocks (whole seconds, whole minutes, etc).</li>\n<li>Clocks can be created with specific time zones. <code>Clock.system(Zone.of(&quot;America/Los_Angeles&quot;))</code>.</li>\n<li>Makes code handling date and time testable.</li>\n<li>Makes tests independent of timezone.</li>\n</ol>\n<p><strong>Joda-Time :</strong></p>\n<ol>\n<li>Joda-Time is using machine time inside. A manual implementation based on int/long values would be much faster.</li>\n<li>Joda-Time getters require the computer-to-human time calculation on every getter call, which makes Joda-Time a bottleneck in such scenarios.</li>\n<li>It is composed of immutable classes it handles Instants, Date &amp; Time, Partials, and Durations It is flexible It is well designed.</li>\n<li>Represents dates as instants. But a date&amp;time may correspond to more than one instant. Overlap hour when daylight savings end. As well as not have any instant that corresponds to it at all. Gap hour when daylight starts. Has to perform complex computations for simple operations.</li>\n<li>Accepts nulls as valid values on most of its methods. Leads to subtle bugs.</li>\n</ol>\n<p><strong>For more detailed comparision see :-</strong></p>\n<p><a href=\"https://web.archive.org/web/20181018123257/http://java-performance.info/jsr-310-java-8-datetime-library-performance-well-joda-time-2-3-j-u-calendar\" rel=\"nofollow noreferrer\">Java 8 Date/Time library performance (as well as Joda-Time 2.3 and j.u.Calendar)</a>. &amp;\n<a href=\"https://stackoverflow.com/questions/17527468/new-date-time-api-in-java-8\">New Date &amp; Time API in Java 8</a></p>\n"},{"tags":[],"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"down_vote_count":0,"up_vote_count":467,"is_accepted":true,"score":467,"last_activity_date":1454497039,"creation_date":1404832843,"answer_id":24635657,"question_id":24631909,"body_markdown":"**Common features**\r\n\r\na) Both libraries use immutable types. Joda-Time also offers additional mutable types like `MutableDateTime`. \r\n\r\nb) Furthermore: Both libraries are inspired by the design study [&quot;TimeAndMoney&quot; from Eric Evans][1] or ideas from [Martin Fowler about domain driven style][2] so they strive more or less for a [fluent programming style][3] (although not always perfect ;-)).\r\n\r\nc) With both libraries we get a real calendar date type (called `LocalDate`), a real wall time type (called `LocalTime`) and the composition (called `LocalDateTime`). That is a very big win compared with old `java.util.Calendar` and `java.util.Date`.\r\n\r\nd) Both libraries use a method-centric approach meaning they encourage the user to use `getDayOfYear()` instead of `get(DAY_OF_YEAR)`. This causes a lot of extra methods compared with `java.util.Calendar` (although latter is not type-safe at all due to excessive use of ints).\r\n\r\n**Performance**\r\n\r\nSee the other answer by @OO7 pointing to the analysis of Mikhail Vorontsov although point 3 (exception catching) is probably obsolete - see [this JDK-bug][4]. The different performance (which is in general favour of [JSR-310][5]) is mainly due to the fact that the internal implementation of [Joda-Time][6] always use a machine-time-like long-primitive (in milliseconds).\r\n\r\n**Null**\r\n\r\nJoda-Time often use NULL as default for system timezone, default locale, current timestamp etc. while JSR-310 almost always rejects NULL values.\r\n\r\n**Precision**\r\n\r\nJSR-310 handles [nanosecond][7] precision while Joda-Time is limited to [millisecond][8] precision. \r\n\r\n**Supported fields:**\r\n\r\nAn overview about supported fields in Java-8 (JSR-310) is given by some classes in the temporal-package (for example [ChronoField][9] and [WeekFields][10]) while Joda-Time is rather weak on this area - see [DateTimeFieldType][11]. The biggest lack of Joda-Time is here the absence of localized week-related fields. A common feature of both field implementation design is that both are based on values of type long (no other types, not even enums).\r\n\r\n**Enum**\r\n\r\nJSR-310 offers [enums][12] like `DayOfWeek` or `Month` while Joda-Time does not offer this because it was mainly developed in years 2002-2004 before [Java 5][13].\r\n\r\n**Zone API**\r\n\r\na) JSR-310 offers more timezone features than Joda-Time. Latter is not able to yield a programmatical access to the history of timezone offset transitions while JSR-310 is capable to do this.\r\n\r\nb) For your information: JSR-310 has moved its internal timezone repository to a new location and a different format. The old library folder lib/zi does not exist any more.\r\n\r\n**Adjuster vs. Property**\r\n\r\nJSR-310 has introduced the `TemporalAdjuster`-interface as a formalized way to externalize temporal calculations and manipulations, especially for library or framework-writers this is a nice and relative easy way to embed new extensions of JSR-310 (a kind of equivalent to static helper classes for former `java.util.Date`).\r\n\r\nFor most users however, this feature has very limited value because the burden to write code is still with the user. Built-in solutions based on the new `TemporalAdjuster`-concept are not so many, there is currently only the helper class `TemporalAdjusters` with a limited set of manipulations (and the enums `Month` or other temporal types). \r\n\r\nJoda-Time offers a field-package but practice has shown evidence that new field implementations are very hard to code. On the other side Joda-Time offers so-called properties which make some manipulations much easier and more elegant than in JSR-310, for example [property.withMaximumValue()][14].\r\n\r\n**Calendar systems**\r\n\r\nJSR-310 offers 4 extra calendar systems. The most interesting one is [Umalqura][15] (used in Saudi Arabia). The other 3 are: [Minguo][16] (Taiwan), Japanese (only the modern calendar since 1871!) and [ThaiBuddhist][17] (only correct after 1940).\r\n\r\nJoda-Time offers an [Islamic calendar][18] based on calculatory base - not a sighting-based calendar like Umalqura. Thai-Buddhist is also offered by Joda-Time in a similar form, Minguo and the japanese one not. Otherwise Joda-Time offers coptic and ethiopic calendar, too (but without any support for internationalization).\r\n\r\nMore interesting for Europeans: Joda-Time also offers a [Gregorian][19], [Julian][20] and mixed-gregorian-julian calendar. However, the practical value for real historical calculations is limited because important features like different year starts in date history are not supported at all (the same criticism is valid for old `java.util.GregorianCalendar`).\r\n\r\nOther calendars like [Hebrew][21] or [Persian][22] or [Hindu][23] are completely missing in both libraries.\r\n\r\n**Epoch days**\r\n\r\nJSR-310 has the class [JulianFields][24] while Joda-Time (version 2.0) offers some helper methods in the class [DateTimeUtils][25].\r\n\r\n**Clocks**\r\n\r\nJSR-310 has no interface (a design mistake) but an abstract class `java.time.Clock` which can be used for any clock dependency injection. Joda-Time offers the interface [MillisProvider][26] and some helper methods in [DateTimeUtils][27] instead. So this way Joda-Time is also capable of supporting test-driven models with different clocks (mocking etc.).\r\n\r\n**Duration arithmetic**\r\n\r\nBoth libraries support the calculation of time distances in one or more temporal units. However, when handling single-unit-durations the JSR-310-style is obviously nicer (and long-based instead of using int):\r\n\r\nJSR-310 =&amp;gt; `long days = ChronoUnit.DAYS.between(date1, date2);`\r\n\r\nJoda-Time =&amp;gt; `int days = DAYS.daysBetween(date1, date2).getDays();`\r\n\r\nHandling of multiple-unit-durations are also different. Even the calculation results can differ - see this closed [Joda-Time issue][28]. While JSR-310 use a very simple and limited approach to use just the classes `Period` (duration based on years, months and days) and `Duration` (based on seconds and nanoseconds), Joda-Time uses a more sophisticated way using the class `PeriodType` in order to control in which units a duration (Joda-Time call it &quot;Period&quot;) shall be expressed. While the `PeriodType`-API is somehow awkward to use a similar way is not offered by JSR-310 at all. Especially it is not yet possible in JSR-310 to define mixed date and time durations (based on days and hours for example). So be warned if it comes to migration from one library to another. The libraries in discussion are incompatible - despite of partially same class names.\r\n\r\n**Intervals**\r\n\r\nJSR-310 does not support this feature while Joda-Time has limited support. See also this [SO-answer][29].\r\n\r\n**Formatting and Parsing**\r\n\r\nBest way to compare both libraries is to view the equal-named classes [DateTimeFormatterBuilder][30] (JSR-310) and [DateTimeFormatterBuilder][31] (Joda-Time). The JSR-310-variant is a little bit more powerful (can also handle any kind of `TemporalField` provided the field implementor has managed to code some extension points like [resolve()][32]). Most important difference is however - in my opinion: \r\n\r\nJSR-310 can much better parse timezone names (format pattern symbol z) while Joda-Time could not do this at all in its earlier versions and now only in a very limited way.\r\n\r\nAnother advantage of JSR-310 is support for standalone month names which is important in languages like Russian or Polish etc. Joda-Time has [no access to such resources][33] - not even on Java-8 platforms.\r\n\r\nThe pattern syntax in JSR-310 is also more flexible than in Joda-Time, allows for optional sections (using square brackets), is more orientated towards CLDR-standard and offers padding (letter symbol p) and more fields.\r\n\r\nOtherwise it should be noted that Joda-Time can format durations using [PeriodFormatter][34]. JSR-310 cannot do this.\r\n\r\n----------\r\n\r\nHope this overview helps. All the gathered information is mainly there due to my efforts and investigations how to design and implement a better date-and-time library (nothing is perfect).\r\n\r\n**Update from 2015-06-24:**\r\n\r\nMeanwhile I have found the time to write and [publish a tabular overview][35] for different time libraries in Java. The tables also contain a comparison between Joda-Time v2.8.1 and Java-8 (JSR-310). It is more detailed than this post.\r\n\r\n\r\n  [1]: http://timeandmoney.sourceforge.net/\r\n  [2]: http://martinfowler.com/tags/domain%20driven%20design.html\r\n  [3]: http://en.wikipedia.org/wiki/Fluent_interface\r\n  [4]: https://bugs.openjdk.java.net/browse/JDK-8046707\r\n  [5]: https://jcp.org/en/jsr/detail?id=310\r\n  [6]: http://www.joda.org/joda-time/\r\n  [7]: http://en.wikipedia.org/wiki/Nanosecond\r\n  [8]: http://en.wikipedia.org/wiki/Millisecond\r\n  [9]: http://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoField.html\r\n  [10]: http://docs.oracle.com/javase/8/docs/api/java/time/temporal/WeekFields.html\r\n  [11]: http://www.joda.org/joda-time/apidocs/org/joda/time/DateTimeFieldType.html\r\n  [12]: http://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\r\n  [13]: http://en.wikipedia.org/wiki/Java_version_history#J2SE_5.0_.28September_30.2C_2004.29\r\n  [14]: http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.Property.html#withMaximumValue()\r\n  [15]: http://en.wikipedia.org/wiki/Islamic_calendar#Saudi_Arabia.27s_Umm_al-Qura_calendar\r\n  [16]: http://en.wikipedia.org/wiki/Minguo_calendar\r\n  [17]: http://en.wikipedia.org/wiki/Buddhist_calendar\r\n  [18]: http://joda-time.sourceforge.net/cal_islamic.html\r\n  [19]: http://en.wikipedia.org/wiki/Gregorian_calendar\r\n  [20]: http://en.wikipedia.org/wiki/Julian_calendar\r\n  [21]: http://en.wikipedia.org/wiki/Hebrew_calendar\r\n  [22]: http://en.wikipedia.org/wiki/Iranian_calendars\r\n  [23]: http://en.wikipedia.org/wiki/Hindu_calendar\r\n  [24]: http://docs.oracle.com/javase/8/docs/api/java/time/temporal/JulianFields.html\r\n  [25]: http://www.joda.org/joda-time/apidocs/org/joda/time/DateTimeUtils.html#fromJulianDay(double)\r\n  [26]: http://www.joda.org/joda-time/apidocs/org/joda/time/DateTimeUtils.MillisProvider.html\r\n  [27]: http://www.joda.org/joda-time/apidocs/org/joda/time/DateTimeUtils.html#setCurrentMillisProvider(org.joda.time.DateTimeUtils.MillisProvider)\r\n  [28]: https://github.com/JodaOrg/joda-time/issues/132\r\n  [29]: https://stackoverflow.com/questions/22150722/is-there-a-class-in-java-time-comparable-to-the-joda-time-interval/22152890#22152890\r\n  [30]: http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html\r\n  [31]: http://www.joda.org/joda-time/apidocs/org/joda/time/format/DateTimeFormatterBuilder.html\r\n  [32]: http://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalField.html#resolve-java.util.Map-java.time.temporal.TemporalAccessor-java.time.format.ResolverStyle-\r\n  [33]: https://github.com/JodaOrg/joda-time/issues/273\r\n  [34]: http://www.joda.org/joda-time/apidocs/org/joda/time/format/PeriodFormatter.html\r\n  [35]: http://time4j.net/tutorial/appendix.html","title":"Differences between Java 8 Date Time API (java.time) and Joda-Time","body":"<p><strong>Common features</strong></p>\n\n<p>a) Both libraries use immutable types. Joda-Time also offers additional mutable types like <code>MutableDateTime</code>. </p>\n\n<p>b) Furthermore: Both libraries are inspired by the design study <a href=\"http://timeandmoney.sourceforge.net/\">\"TimeAndMoney\" from Eric Evans</a> or ideas from <a href=\"http://martinfowler.com/tags/domain%20driven%20design.html\">Martin Fowler about domain driven style</a> so they strive more or less for a <a href=\"http://en.wikipedia.org/wiki/Fluent_interface\">fluent programming style</a> (although not always perfect ;-)).</p>\n\n<p>c) With both libraries we get a real calendar date type (called <code>LocalDate</code>), a real wall time type (called <code>LocalTime</code>) and the composition (called <code>LocalDateTime</code>). That is a very big win compared with old <code>java.util.Calendar</code> and <code>java.util.Date</code>.</p>\n\n<p>d) Both libraries use a method-centric approach meaning they encourage the user to use <code>getDayOfYear()</code> instead of <code>get(DAY_OF_YEAR)</code>. This causes a lot of extra methods compared with <code>java.util.Calendar</code> (although latter is not type-safe at all due to excessive use of ints).</p>\n\n<p><strong>Performance</strong></p>\n\n<p>See the other answer by @OO7 pointing to the analysis of Mikhail Vorontsov although point 3 (exception catching) is probably obsolete - see <a href=\"https://bugs.openjdk.java.net/browse/JDK-8046707\">this JDK-bug</a>. The different performance (which is in general favour of <a href=\"https://jcp.org/en/jsr/detail?id=310\">JSR-310</a>) is mainly due to the fact that the internal implementation of <a href=\"http://www.joda.org/joda-time/\">Joda-Time</a> always use a machine-time-like long-primitive (in milliseconds).</p>\n\n<p><strong>Null</strong></p>\n\n<p>Joda-Time often use NULL as default for system timezone, default locale, current timestamp etc. while JSR-310 almost always rejects NULL values.</p>\n\n<p><strong>Precision</strong></p>\n\n<p>JSR-310 handles <a href=\"http://en.wikipedia.org/wiki/Nanosecond\">nanosecond</a> precision while Joda-Time is limited to <a href=\"http://en.wikipedia.org/wiki/Millisecond\">millisecond</a> precision. </p>\n\n<p><strong>Supported fields:</strong></p>\n\n<p>An overview about supported fields in Java-8 (JSR-310) is given by some classes in the temporal-package (for example <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoField.html\">ChronoField</a> and <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/temporal/WeekFields.html\">WeekFields</a>) while Joda-Time is rather weak on this area - see <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/DateTimeFieldType.html\">DateTimeFieldType</a>. The biggest lack of Joda-Time is here the absence of localized week-related fields. A common feature of both field implementation design is that both are based on values of type long (no other types, not even enums).</p>\n\n<p><strong>Enum</strong></p>\n\n<p>JSR-310 offers <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\">enums</a> like <code>DayOfWeek</code> or <code>Month</code> while Joda-Time does not offer this because it was mainly developed in years 2002-2004 before <a href=\"http://en.wikipedia.org/wiki/Java_version_history#J2SE_5.0_.28September_30.2C_2004.29\">Java 5</a>.</p>\n\n<p><strong>Zone API</strong></p>\n\n<p>a) JSR-310 offers more timezone features than Joda-Time. Latter is not able to yield a programmatical access to the history of timezone offset transitions while JSR-310 is capable to do this.</p>\n\n<p>b) For your information: JSR-310 has moved its internal timezone repository to a new location and a different format. The old library folder lib/zi does not exist any more.</p>\n\n<p><strong>Adjuster vs. Property</strong></p>\n\n<p>JSR-310 has introduced the <code>TemporalAdjuster</code>-interface as a formalized way to externalize temporal calculations and manipulations, especially for library or framework-writers this is a nice and relative easy way to embed new extensions of JSR-310 (a kind of equivalent to static helper classes for former <code>java.util.Date</code>).</p>\n\n<p>For most users however, this feature has very limited value because the burden to write code is still with the user. Built-in solutions based on the new <code>TemporalAdjuster</code>-concept are not so many, there is currently only the helper class <code>TemporalAdjusters</code> with a limited set of manipulations (and the enums <code>Month</code> or other temporal types). </p>\n\n<p>Joda-Time offers a field-package but practice has shown evidence that new field implementations are very hard to code. On the other side Joda-Time offers so-called properties which make some manipulations much easier and more elegant than in JSR-310, for example <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.Property.html#withMaximumValue()\">property.withMaximumValue()</a>.</p>\n\n<p><strong>Calendar systems</strong></p>\n\n<p>JSR-310 offers 4 extra calendar systems. The most interesting one is <a href=\"http://en.wikipedia.org/wiki/Islamic_calendar#Saudi_Arabia.27s_Umm_al-Qura_calendar\">Umalqura</a> (used in Saudi Arabia). The other 3 are: <a href=\"http://en.wikipedia.org/wiki/Minguo_calendar\">Minguo</a> (Taiwan), Japanese (only the modern calendar since 1871!) and <a href=\"http://en.wikipedia.org/wiki/Buddhist_calendar\">ThaiBuddhist</a> (only correct after 1940).</p>\n\n<p>Joda-Time offers an <a href=\"http://joda-time.sourceforge.net/cal_islamic.html\">Islamic calendar</a> based on calculatory base - not a sighting-based calendar like Umalqura. Thai-Buddhist is also offered by Joda-Time in a similar form, Minguo and the japanese one not. Otherwise Joda-Time offers coptic and ethiopic calendar, too (but without any support for internationalization).</p>\n\n<p>More interesting for Europeans: Joda-Time also offers a <a href=\"http://en.wikipedia.org/wiki/Gregorian_calendar\">Gregorian</a>, <a href=\"http://en.wikipedia.org/wiki/Julian_calendar\">Julian</a> and mixed-gregorian-julian calendar. However, the practical value for real historical calculations is limited because important features like different year starts in date history are not supported at all (the same criticism is valid for old <code>java.util.GregorianCalendar</code>).</p>\n\n<p>Other calendars like <a href=\"http://en.wikipedia.org/wiki/Hebrew_calendar\">Hebrew</a> or <a href=\"http://en.wikipedia.org/wiki/Iranian_calendars\">Persian</a> or <a href=\"http://en.wikipedia.org/wiki/Hindu_calendar\">Hindu</a> are completely missing in both libraries.</p>\n\n<p><strong>Epoch days</strong></p>\n\n<p>JSR-310 has the class <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/temporal/JulianFields.html\">JulianFields</a> while Joda-Time (version 2.0) offers some helper methods in the class <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/DateTimeUtils.html#fromJulianDay(double)\">DateTimeUtils</a>.</p>\n\n<p><strong>Clocks</strong></p>\n\n<p>JSR-310 has no interface (a design mistake) but an abstract class <code>java.time.Clock</code> which can be used for any clock dependency injection. Joda-Time offers the interface <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/DateTimeUtils.MillisProvider.html\">MillisProvider</a> and some helper methods in <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/DateTimeUtils.html#setCurrentMillisProvider(org.joda.time.DateTimeUtils.MillisProvider)\">DateTimeUtils</a> instead. So this way Joda-Time is also capable of supporting test-driven models with different clocks (mocking etc.).</p>\n\n<p><strong>Duration arithmetic</strong></p>\n\n<p>Both libraries support the calculation of time distances in one or more temporal units. However, when handling single-unit-durations the JSR-310-style is obviously nicer (and long-based instead of using int):</p>\n\n<p>JSR-310 =&gt; <code>long days = ChronoUnit.DAYS.between(date1, date2);</code></p>\n\n<p>Joda-Time =&gt; <code>int days = DAYS.daysBetween(date1, date2).getDays();</code></p>\n\n<p>Handling of multiple-unit-durations are also different. Even the calculation results can differ - see this closed <a href=\"https://github.com/JodaOrg/joda-time/issues/132\">Joda-Time issue</a>. While JSR-310 use a very simple and limited approach to use just the classes <code>Period</code> (duration based on years, months and days) and <code>Duration</code> (based on seconds and nanoseconds), Joda-Time uses a more sophisticated way using the class <code>PeriodType</code> in order to control in which units a duration (Joda-Time call it \"Period\") shall be expressed. While the <code>PeriodType</code>-API is somehow awkward to use a similar way is not offered by JSR-310 at all. Especially it is not yet possible in JSR-310 to define mixed date and time durations (based on days and hours for example). So be warned if it comes to migration from one library to another. The libraries in discussion are incompatible - despite of partially same class names.</p>\n\n<p><strong>Intervals</strong></p>\n\n<p>JSR-310 does not support this feature while Joda-Time has limited support. See also this <a href=\"https://stackoverflow.com/questions/22150722/is-there-a-class-in-java-time-comparable-to-the-joda-time-interval/22152890#22152890\">SO-answer</a>.</p>\n\n<p><strong>Formatting and Parsing</strong></p>\n\n<p>Best way to compare both libraries is to view the equal-named classes <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html\">DateTimeFormatterBuilder</a> (JSR-310) and <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/format/DateTimeFormatterBuilder.html\">DateTimeFormatterBuilder</a> (Joda-Time). The JSR-310-variant is a little bit more powerful (can also handle any kind of <code>TemporalField</code> provided the field implementor has managed to code some extension points like <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalField.html#resolve-java.util.Map-java.time.temporal.TemporalAccessor-java.time.format.ResolverStyle-\">resolve()</a>). Most important difference is however - in my opinion: </p>\n\n<p>JSR-310 can much better parse timezone names (format pattern symbol z) while Joda-Time could not do this at all in its earlier versions and now only in a very limited way.</p>\n\n<p>Another advantage of JSR-310 is support for standalone month names which is important in languages like Russian or Polish etc. Joda-Time has <a href=\"https://github.com/JodaOrg/joda-time/issues/273\">no access to such resources</a> - not even on Java-8 platforms.</p>\n\n<p>The pattern syntax in JSR-310 is also more flexible than in Joda-Time, allows for optional sections (using square brackets), is more orientated towards CLDR-standard and offers padding (letter symbol p) and more fields.</p>\n\n<p>Otherwise it should be noted that Joda-Time can format durations using <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/format/PeriodFormatter.html\">PeriodFormatter</a>. JSR-310 cannot do this.</p>\n\n<hr>\n\n<p>Hope this overview helps. All the gathered information is mainly there due to my efforts and investigations how to design and implement a better date-and-time library (nothing is perfect).</p>\n\n<p><strong>Update from 2015-06-24:</strong></p>\n\n<p>Meanwhile I have found the time to write and <a href=\"http://time4j.net/tutorial/appendix.html\">publish a tabular overview</a> for different time libraries in Java. The tables also contain a comparison between Joda-Time v2.8.1 and Java-8 (JSR-310). It is more detailed than this post.</p>\n"},{"tags":[],"owner":{"account_id":1744260,"reputation":14886,"user_id":1594823,"accept_rate":64,"display_name":"Saikat"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1591512865,"creation_date":1591464256,"answer_id":62235378,"question_id":24631909,"body_markdown":"# Joda-Time is now in maintenance-mode\r\n\r\nNot a direct answer to the question but the [*Joda-Time*][1] project is no longer in active development. The team suggests users migrate to the newer *java.time* API. See [tutorial by Oracle][2].\r\n\r\nFrom the official [GitHub][3] project page:\r\n\r\n&gt; Joda-time is no longer in active development except to keep timezone\r\n&gt; data up to date. From Java SE 8 onwards, users are asked to migrate to\r\n&gt; java.time (JSR-310) - a core part of the JDK which replaces this\r\n&gt; project. For Android users, java.time is added in API 26+. Projects\r\n&gt; needing to support lower API levels can use the ThreeTenABP library.\r\n\r\n\r\n  [1]: https://www.joda.org/joda-time/\r\n  [2]: https://docs.oracle.com/javase/tutorial/datetime/TOC.html\r\n  [3]: https://github.com/JodaOrg/joda-time","title":"Differences between Java 8 Date Time API (java.time) and Joda-Time","body":"<h1>Joda-Time is now in maintenance-mode</h1>\n\n<p>Not a direct answer to the question but the <a href=\"https://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project is no longer in active development. The team suggests users migrate to the newer <em>java.time</em> API. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\">tutorial by Oracle</a>.</p>\n\n<p>From the official <a href=\"https://github.com/JodaOrg/joda-time\" rel=\"noreferrer\">GitHub</a> project page:</p>\n\n<blockquote>\n  <p>Joda-time is no longer in active development except to keep timezone\n  data up to date. From Java SE 8 onwards, users are asked to migrate to\n  java.time (JSR-310) - a core part of the JDK which replaces this\n  project. For Android users, java.time is added in API 26+. Projects\n  needing to support lower API levels can use the ThreeTenABP library.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":12209596,"reputation":100,"user_id":8911724,"display_name":"Mohamed Ismail M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624691038,"creation_date":1624691038,"answer_id":68140031,"question_id":24631909,"body_markdown":"&gt; The project has been led jointly by the author of Joda-Time (Stephen Colebourne) and Oracle, under JSR 310, and will appear in the new Java SE 8 package java.time.\r\n\r\n\r\nhttps://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\r\n\r\n","title":"Differences between Java 8 Date Time API (java.time) and Joda-Time","body":"<blockquote>\n<p>The project has been led jointly by the author of Joda-Time (Stephen Colebourne) and Oracle, under JSR 310, and will appear in the new Java SE 8 package java.time.</p>\n</blockquote>\n<p><a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html</a></p>\n"}],"owner":{"account_id":1266169,"reputation":5108,"user_id":1223436,"accept_rate":76,"display_name":"Zack"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96531,"favorite_count":0,"down_vote_count":0,"up_vote_count":300,"accepted_answer_id":24635657,"answer_count":4,"score":300,"last_activity_date":1700740085,"creation_date":1404822537,"question_id":24631909,"body_markdown":"I know there are questions relating to [java.util.Date][1] and Joda-Time. But after some digging, I couldn&#39;t find a thread about the differences between the [java.time API][2] (new in [Java 8][3], defined by [JSR 310][4]) and [Joda-Time][5].\r\n\r\nI have heard that Java 8s java.time API is much cleaner and can do much more than Joda-Time. But I cannot find examples comparing the two. \r\n\r\n - What can java.time do that Joda-Time cannot? \r\n - What can java.time do better than Joda-Time? \r\n - Is the performance better with java.time?\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/Date.html\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [3]: http://en.wikipedia.org/wiki/Java_version_history#Java_SE_8_.28March_18.2C_2014.29\r\n  [4]: https://jcp.org/en/jsr/detail?id=310\r\n  [5]: http://www.joda.org/joda-time/","title":"Differences between Java 8 Date Time API (java.time) and Joda-Time","body":"<p>I know there are questions relating to <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Date.html\">java.util.Date</a> and Joda-Time. But after some digging, I couldn't find a thread about the differences between the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\">java.time API</a> (new in <a href=\"http://en.wikipedia.org/wiki/Java_version_history#Java_SE_8_.28March_18.2C_2014.29\">Java 8</a>, defined by <a href=\"https://jcp.org/en/jsr/detail?id=310\">JSR 310</a>) and <a href=\"http://www.joda.org/joda-time/\">Joda-Time</a>.</p>\n\n<p>I have heard that Java 8s java.time API is much cleaner and can do much more than Joda-Time. But I cannot find examples comparing the two. </p>\n\n<ul>\n<li>What can java.time do that Joda-Time cannot? </li>\n<li>What can java.time do better than Joda-Time? </li>\n<li>Is the performance better with java.time?</li>\n</ul>\n"},{"tags":["java","multithreading","concurrency","jvm"],"comments":[{"owner":{"account_id":17033694,"reputation":4572,"user_id":12323248,"display_name":"akuzminykh"},"score":0,"creation_date":1700737863,"post_id":77536304,"comment_id":136692591,"body_markdown":"Where is `putLongVolatile`?","body":"Where is <code>putLongVolatile</code>?"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":2,"creation_date":1700738318,"post_id":77536304,"comment_id":136692664,"body_markdown":"My guess would be that the JDK uses the same code for both 64-bit and 32-bit platforms. On 32-bit platforms, long operations need to be guarded because they involve two separate 32-bit operations.","body":"My guess would be that the JDK uses the same code for both 64-bit and 32-bit platforms. On 32-bit platforms, long operations need to be guarded because they involve two separate 32-bit operations."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1700738710,"post_id":77536304,"comment_id":136692722,"body_markdown":"@akuzminykh https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/concurrent/atomic/AtomicLong.java#L115","body":"@akuzminykh <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/concurrent/atomic/AtomicLong.java#L115\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/blob/master/src/java.base/share/class&zwnj;&#8203;es/&hellip;</a>"},{"owner":{"account_id":17033694,"reputation":4572,"user_id":12323248,"display_name":"akuzminykh"},"score":0,"creation_date":1700739618,"post_id":77536304,"comment_id":136692880,"body_markdown":"https://bugs.openjdk.org/browse/JDK-8180620","body":"<a href=\"https://bugs.openjdk.org/browse/JDK-8180620\" rel=\"nofollow noreferrer\">bugs.openjdk.org/browse/JDK-8180620</a>"}],"owner":{"account_id":49766,"reputation":1746,"user_id":148320,"accept_rate":65,"display_name":"mykola"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700740041,"creation_date":1700736947,"question_id":77536304,"body_markdown":"Considering this statement from [Java documentation][1]:\r\n&gt;    - Reads and writes are atomic for all variables declared volatile\r\n&gt;        (including long and double variables).\r\n\r\nWhy does `AtomicLong` uses some native method `putLongVolatile` instead of just setting its volatile `value` like `AtomicInteger` does?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/concurrency/atomic.html","title":"Why AtomicLong uses putLongVolatile to set its value?","body":"<p>Considering this statement from <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/atomic.html\" rel=\"nofollow noreferrer\">Java documentation</a>:</p>\n<blockquote>\n<ul>\n<li>Reads and writes are atomic for all variables declared volatile\n(including long and double variables).</li>\n</ul>\n</blockquote>\n<p>Why does <code>AtomicLong</code> uses some native method <code>putLongVolatile</code> instead of just setting its volatile <code>value</code> like <code>AtomicInteger</code> does?</p>\n"},{"tags":["java","maven","gitlab","gitlab-ci"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1700724611,"post_id":77533613,"comment_id":136690001,"body_markdown":"Usually, the better approach for this is to use a multi-module project.","body":"Usually, the better approach for this is to use a multi-module project."},{"owner":{"account_id":17835,"reputation":303885,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1700729441,"post_id":77533613,"comment_id":136690869,"body_markdown":"Usually there&#39;s one of two scenarios: either the two projects are related strongly to each other, then they should probably live in the same repository, or they don&#39;t then one should just publish the artifacts (maybe to a private repo, if you don&#39;t want it to be public) and the other should &quot;pull&quot; the updated dependency, potentially through some automation like renovatebot or similar. Hand-grafted ad-hoc solutions like you describe are rarely the best idea.","body":"Usually there&#39;s one of two scenarios: either the two projects are related strongly to each other, then they should probably live in the same repository, or they don&#39;t then one should just publish the artifacts (maybe to a private repo, if you don&#39;t want it to be public) and the other should &quot;pull&quot; the updated dependency, potentially through some automation like renovatebot or similar. Hand-grafted ad-hoc solutions like you describe are rarely the best idea."}],"answers":[{"tags":[],"owner":{"account_id":16126423,"reputation":2171,"user_id":11641073,"display_name":"bhito"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1700729066,"creation_date":1700729066,"answer_id":77535423,"question_id":77533613,"body_markdown":"Given the scenario you are describing, a good approach is to use multi-project pipelines. If yours projects look like this:\r\n\r\n - Project A: Packages and uploads jar to Gitlab\r\n - Project B: Downloads package generated by Project A\r\n\r\nThen by using a multi-project pipeline, you can trigger a new pipeline on your Project B as soon as the artifact is created, ensuring that it&#39;ll exist and that your pipeline won&#39;t break because of a race condition. Moreover, you can even [fetch generated artifacts](https://docs.gitlab.com/ee/ci/pipelines/downstream_pipelines.html#fetch-artifacts-from-an-upstream-pipeline) from the Project A pipeline directly, instead of having to read from any Package Registry.\r\n\r\nAll the related documentation can be found [here](https://docs.gitlab.com/ee/ci/pipelines/downstream_pipelines.html#multi-project-pipelines)","title":"How to update one Gitlab project from another project","body":"<p>Given the scenario you are describing, a good approach is to use multi-project pipelines. If yours projects look like this:</p>\n<ul>\n<li>Project A: Packages and uploads jar to Gitlab</li>\n<li>Project B: Downloads package generated by Project A</li>\n</ul>\n<p>Then by using a multi-project pipeline, you can trigger a new pipeline on your Project B as soon as the artifact is created, ensuring that it'll exist and that your pipeline won't break because of a race condition. Moreover, you can even <a href=\"https://docs.gitlab.com/ee/ci/pipelines/downstream_pipelines.html#fetch-artifacts-from-an-upstream-pipeline\" rel=\"nofollow noreferrer\">fetch generated artifacts</a> from the Project A pipeline directly, instead of having to read from any Package Registry.</p>\n<p>All the related documentation can be found <a href=\"https://docs.gitlab.com/ee/ci/pipelines/downstream_pipelines.html#multi-project-pipelines\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":26746848,"reputation":226,"user_id":20346807,"display_name":"Joan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1700729453,"creation_date":1700729453,"answer_id":77535449,"question_id":77533613,"body_markdown":"From what I understand you have two isolated projects. Let&#39;s call them &quot;library_project&quot; and &quot;main_project&quot;.\r\n\r\nThe first thing you need to do is **publish** the &quot;library_project&quot;. To do that, you have two options:\r\n\r\n - Publish it locally by doing a `mvn clean install`\r\n - Publish it to a package registry:\r\n   - For example, for GitLab you can use the following the guide: https://docs.gitlab.com/ee/user/packages/maven_repository/\r\n\r\nAfter that, you will need to configure your &quot;main_project&quot; to use that library. To do that there are two steps you will need to do:\r\n\r\n - Configure the Maven to read from the registry were you have your library is published by updating the maven settings:\r\n   - For GitLab you can follow the same guide: https://docs.gitlab.com/ee/user/packages/maven_repository/\r\n   - For locally published libraries you may need to build the &quot;main_project&quot; with offline mode. Meaning: `mvn -o clean package`. Please, note that any non already downloaded dependencies will fail on offline mode. There&#39;s a guide here with more details here: https://www.baeldung.com/maven-offline\r\n\r\n- Once you have configured your setting you can import the library as any other library\r\n\r\n\r\n\r\n","title":"How to update one Gitlab project from another project","body":"<p>From what I understand you have two isolated projects. Let's call them &quot;library_project&quot; and &quot;main_project&quot;.</p>\n<p>The first thing you need to do is <strong>publish</strong> the &quot;library_project&quot;. To do that, you have two options:</p>\n<ul>\n<li>Publish it locally by doing a <code>mvn clean install</code></li>\n<li>Publish it to a package registry:\n<ul>\n<li>For example, for GitLab you can use the following the guide: <a href=\"https://docs.gitlab.com/ee/user/packages/maven_repository/\" rel=\"nofollow noreferrer\">https://docs.gitlab.com/ee/user/packages/maven_repository/</a></li>\n</ul>\n</li>\n</ul>\n<p>After that, you will need to configure your &quot;main_project&quot; to use that library. To do that there are two steps you will need to do:</p>\n<ul>\n<li><p>Configure the Maven to read from the registry were you have your library is published by updating the maven settings:</p>\n<ul>\n<li>For GitLab you can follow the same guide: <a href=\"https://docs.gitlab.com/ee/user/packages/maven_repository/\" rel=\"nofollow noreferrer\">https://docs.gitlab.com/ee/user/packages/maven_repository/</a></li>\n<li>For locally published libraries you may need to build the &quot;main_project&quot; with offline mode. Meaning: <code>mvn -o clean package</code>. Please, note that any non already downloaded dependencies will fail on offline mode. There's a guide here with more details here: <a href=\"https://www.baeldung.com/maven-offline\" rel=\"nofollow noreferrer\">https://www.baeldung.com/maven-offline</a></li>\n</ul>\n</li>\n<li><p>Once you have configured your setting you can import the library as any other library</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":17659766,"reputation":300,"user_id":12818462,"display_name":"Muravyev Maxim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700739747,"creation_date":1700739747,"answer_id":77536584,"question_id":77533613,"body_markdown":"@bhito has a good answer. I will add a couple of words.\r\n\r\nIt&#39;s mostly better to push all artifacts from PROJECT_X (like Jar files you have) into the registry (like Artifactory, Nexus, etc.) with the appropriate concrete version. Then, specify a dependency in PROJECT_Y with that version, and in this way, trigger the project&#39;s pipeline by git-committing without building complex GitLab downstream pipelines. One more benefit, you definitely ensure that always pin lib&#39;s versions.","title":"How to update one Gitlab project from another project","body":"<p>@bhito has a good answer. I will add a couple of words.</p>\n<p>It's mostly better to push all artifacts from PROJECT_X (like Jar files you have) into the registry (like Artifactory, Nexus, etc.) with the appropriate concrete version. Then, specify a dependency in PROJECT_Y with that version, and in this way, trigger the project's pipeline by git-committing without building complex GitLab downstream pipelines. One more benefit, you definitely ensure that always pin lib's versions.</p>\n"}],"owner":{"account_id":1039893,"reputation":2144,"user_id":1046184,"accept_rate":56,"display_name":"Factor Three"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1700739747,"creation_date":1700695911,"question_id":77533613,"body_markdown":"On my Gitlab installation, I have a library project that creates a Java jar file which I want to use in other projects. I would like to be able to update another project whenever I make changes in my jar library.\r\n\r\nI am using Maven to compile and package the jar file, and I am also using Maven in my pipeline for the other project. Both the jar file and the application jar are artifacts generated by the pipeline. I believe that I should be able to automatically copy the library jar from its target folder into the folder used by my dependent project.\r\n\r\nProblem is, ,I don&#39;t know how to do this. I have read a lot of CI/CD documentation for Gitlab and have not been able to find anything about how to update a project so that it can use a library generated from another project.\r\n\r\nHas anyone done this before? Can someone tell me how to cause an update to my application project whenever I make changes to the jar in my library project?\r\n","title":"How to update one Gitlab project from another project","body":"<p>On my Gitlab installation, I have a library project that creates a Java jar file which I want to use in other projects. I would like to be able to update another project whenever I make changes in my jar library.</p>\n<p>I am using Maven to compile and package the jar file, and I am also using Maven in my pipeline for the other project. Both the jar file and the application jar are artifacts generated by the pipeline. I believe that I should be able to automatically copy the library jar from its target folder into the folder used by my dependent project.</p>\n<p>Problem is, ,I don't know how to do this. I have read a lot of CI/CD documentation for Gitlab and have not been able to find anything about how to update a project so that it can use a library generated from another project.</p>\n<p>Has anyone done this before? Can someone tell me how to cause an update to my application project whenever I make changes to the jar in my library project?</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1700735465,"post_id":77535201,"comment_id":136692088,"body_markdown":"Sorry, what&#39;s your problem? You&#39;re only sending 2 records here, not 5? There&#39;s no good way to test that exactly message 2 will fail without mocking and actually injecting the failure, since it&#39;s all asynchronous (message 2 could be flushed and message1 could fail instead). Don&#39;t depend on external network rules or firewalls","body":"Sorry, what&#39;s your problem? You&#39;re only sending 2 records here, not 5? There&#39;s no good way to test that exactly message 2 will fail without mocking and actually injecting the failure, since it&#39;s all asynchronous (message 2 could be flushed and message1 could fail instead). Don&#39;t depend on external network rules or firewalls"},{"owner":{"account_id":28611501,"reputation":1,"user_id":21906406,"display_name":"xiaochun xie"},"score":0,"creation_date":1701143435,"post_id":77535201,"comment_id":136735870,"body_markdown":"Hello, the above code is just an example, even if I send 10 messages, I can not make one of them fail to retry, and the order will be disordered after retry. Do you have a code demo for my reference","body":"Hello, the above code is just an example, even if I send 10 messages, I can not make one of them fail to retry, and the order will be disordered after retry. Do you have a code demo for my reference"},{"owner":{"account_id":28611501,"reputation":1,"user_id":21906406,"display_name":"xiaochun xie"},"score":0,"creation_date":1701143526,"post_id":77535201,"comment_id":136735879,"body_markdown":"Unless the simulation and actual injection failed?\nI don&#39;t know what to do","body":"Unless the simulation and actual injection failed? I don&#39;t know what to do"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1701182447,"post_id":77535201,"comment_id":136741779,"body_markdown":"I don&#39;t have any example code that wouldn&#39;t otherwise be in the Kafka unit tests themselves","body":"I don&#39;t have any example code that wouldn&#39;t otherwise be in the Kafka unit tests themselves"},{"owner":{"account_id":28611501,"reputation":1,"user_id":21906406,"display_name":"xiaochun xie"},"score":0,"creation_date":1701609454,"post_id":77535201,"comment_id":136794624,"body_markdown":"Okay, I&#39;ll go check out kafka unit testing","body":"Okay, I&#39;ll go check out kafka unit testing"}],"owner":{"account_id":28611501,"reputation":1,"user_id":21906406,"display_name":"xiaochun xie"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700739691,"creation_date":1700726381,"question_id":77535201,"body_markdown":"I want to use a producer to specify a fixed partition, asynchronously send five data to the topic, msg1, msg2, msg3, msg4, msg5, but the second data, msg2, is retried because of a network problem. Finally, the data order of this partition `msg1`, `msg3`, `msg4`, `msg5`, `msg2`.\r\n\r\n\r\nI wrote demo, and by setting iptables rules, and can not achieve, so I need help, the following is my code\r\n\r\n```\r\npublic class MyKafkaProducer1 {\r\n\r\n\tstatic {\r\n\t\tILoggerFactory iLoggerFactory = LoggerFactory.getILoggerFactory();\r\n\t\tLoggerContext loggerContext = (LoggerContext) iLoggerFactory;\r\n\t\tLogger root = loggerContext.getLogger(&quot;root&quot;);\r\n\t\troot.setLevel(Level.ERROR);\r\n\t}\r\n\r\n\tpublic static void main(String[] args) throws InterruptedException {\r\n\t\tProperties props = new Properties();\r\n\t\tprops.put(&quot;bootstrap.servers&quot;, &quot;192.168.227.103:9092&quot;);\r\n\t\tprops.put(&quot;acks&quot;, &quot;1&quot;);\r\n\t\tprops.put(&quot;delivery.timeout.ms&quot;, 6000);\r\n\t\tprops.put(&quot;retries&quot;, 2);\r\n\t\tprops.put(&quot;retry.backoff.ms&quot;, 30000);\r\n\t\tprops.put(&quot;batch.size&quot;, 16384);\r\n\t\tprops.put(&quot;request.timeout.ms&quot;, 5000);\r\n\t\tprops.put(&quot;linger.ms&quot;, 1);\r\n\t\tprops.put(&quot;buffer.memory&quot;, 33554432);\r\n\t\tprops.put(&quot;key.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n\t\tprops.put(&quot;value.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n\t\tprops.put(&quot;max.in.flight.requests.per.connection&quot;, 5);\r\n\r\n\t\tProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(props);\r\n\t\tThread.sleep(5000);\r\n\r\n\t\tproducer.send(new ProducerRecord&lt;&gt;(&quot;testTopic&quot;, 0, &quot;key&quot; + 1, Integer.toString(1)), (metadata, exception) -&gt; {\r\n\r\n\t\t\tif (exception != null) {\r\n\t\t\t\t//code\r\n\t\t\t}\r\n\t\t\tif (metadata != null) {\r\n\t\t\t\t//code\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tproducer.send(new ProducerRecord&lt;&gt;(&quot;testTopic&quot;, 0, &quot;key&quot; + 2, Integer.toString(2)), (metadata, exception) -&gt; {\r\n\r\n\t\t\tif (exception != null) {\r\n\t\t\t\t//code\r\n\t\t\t}\r\n\t\t\tif (metadata != null) {\r\n\t\t\t\t//code\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tproducer.close();\r\n\t}\r\n}\r\n```","title":"kafka version 2.12-2.8.8 The message was out of order due to message retry","body":"<p>I want to use a producer to specify a fixed partition, asynchronously send five data to the topic, msg1, msg2, msg3, msg4, msg5, but the second data, msg2, is retried because of a network problem. Finally, the data order of this partition <code>msg1</code>, <code>msg3</code>, <code>msg4</code>, <code>msg5</code>, <code>msg2</code>.</p>\n<p>I wrote demo, and by setting iptables rules, and can not achieve, so I need help, the following is my code</p>\n<pre><code>public class MyKafkaProducer1 {\n\n    static {\n        ILoggerFactory iLoggerFactory = LoggerFactory.getILoggerFactory();\n        LoggerContext loggerContext = (LoggerContext) iLoggerFactory;\n        Logger root = loggerContext.getLogger(&quot;root&quot;);\n        root.setLevel(Level.ERROR);\n    }\n\n    public static void main(String[] args) throws InterruptedException {\n        Properties props = new Properties();\n        props.put(&quot;bootstrap.servers&quot;, &quot;192.168.227.103:9092&quot;);\n        props.put(&quot;acks&quot;, &quot;1&quot;);\n        props.put(&quot;delivery.timeout.ms&quot;, 6000);\n        props.put(&quot;retries&quot;, 2);\n        props.put(&quot;retry.backoff.ms&quot;, 30000);\n        props.put(&quot;batch.size&quot;, 16384);\n        props.put(&quot;request.timeout.ms&quot;, 5000);\n        props.put(&quot;linger.ms&quot;, 1);\n        props.put(&quot;buffer.memory&quot;, 33554432);\n        props.put(&quot;key.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\n        props.put(&quot;value.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\n        props.put(&quot;max.in.flight.requests.per.connection&quot;, 5);\n\n        Producer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(props);\n        Thread.sleep(5000);\n\n        producer.send(new ProducerRecord&lt;&gt;(&quot;testTopic&quot;, 0, &quot;key&quot; + 1, Integer.toString(1)), (metadata, exception) -&gt; {\n\n            if (exception != null) {\n                //code\n            }\n            if (metadata != null) {\n                //code\n            }\n        });\n\n        producer.send(new ProducerRecord&lt;&gt;(&quot;testTopic&quot;, 0, &quot;key&quot; + 2, Integer.toString(2)), (metadata, exception) -&gt; {\n\n            if (exception != null) {\n                //code\n            }\n            if (metadata != null) {\n                //code\n            }\n        });\n\n        producer.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","redis","redisson","connection-pool"],"owner":{"account_id":13032390,"reputation":44,"user_id":9418390,"display_name":" "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700739429,"creation_date":1700666116,"question_id":77531136,"body_markdown":"I had different objects, saved in `redis`. This objects has different structures.\r\nI need to use custom codec to serialize and deserialize it.\r\nI had three beans.\r\n\r\n```java\r\n@Bean(destroyMethod = &quot;shutdown&quot;)\r\npublic RedissonClient redissonClientA() {\r\n\tConfig config = getConfig();\r\n\tconfig.setCodec(new ObjectABaseCodec(objectMapper));\r\n\treturn Redisson.create(config);\r\n}\r\n\r\n@Bean(destroyMethod = &quot;shutdown&quot;)\r\npublic RedissonClient redissonClientB() {\r\n\tConfig config = getConfig();\r\n\tconfig.setCodec(new ObjectBBaseCodec(objectMapper));\r\n\treturn Redisson.create(config);\r\n}\r\n\r\n@Bean(destroyMethod = &quot;shutdown&quot;)\r\npublic RedissonClient redissonClientC() {\r\n\tConfig config = getConfig();\r\n\tconfig.setCodec(new ObjectCBaseCodec(objectMapper));\r\n\treturn Redisson.create(config);\r\n}\r\n```\r\n\r\nAnd I had three redisson client with three objects with connections to redis.\r\nAnd in nearest future we planned add new objects. And I don&#39;t want increase count of connections to redis.\r\n\r\n\r\nFirst Idea: I want, but I don&#39;t wont how share redisson connection pool between several redisson clients.\r\n\r\nSecond Idea:use common codec and inside common codec decide which object I have and after that use current codec implementation.\r\n\r\nMaybe you know how i can realize first idea?","title":"Sharing redisson client connection pool between several redisson client bean","body":"<p>I had different objects, saved in <code>redis</code>. This objects has different structures.\nI need to use custom codec to serialize and deserialize it.\nI had three beans.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean(destroyMethod = &quot;shutdown&quot;)\npublic RedissonClient redissonClientA() {\n    Config config = getConfig();\n    config.setCodec(new ObjectABaseCodec(objectMapper));\n    return Redisson.create(config);\n}\n\n@Bean(destroyMethod = &quot;shutdown&quot;)\npublic RedissonClient redissonClientB() {\n    Config config = getConfig();\n    config.setCodec(new ObjectBBaseCodec(objectMapper));\n    return Redisson.create(config);\n}\n\n@Bean(destroyMethod = &quot;shutdown&quot;)\npublic RedissonClient redissonClientC() {\n    Config config = getConfig();\n    config.setCodec(new ObjectCBaseCodec(objectMapper));\n    return Redisson.create(config);\n}\n</code></pre>\n<p>And I had three redisson client with three objects with connections to redis.\nAnd in nearest future we planned add new objects. And I don't want increase count of connections to redis.</p>\n<p>First Idea: I want, but I don't wont how share redisson connection pool between several redisson clients.</p>\n<p>Second Idea:use common codec and inside common codec decide which object I have and after that use current codec implementation.</p>\n<p>Maybe you know how i can realize first idea?</p>\n"},{"tags":["java","spring","maven"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1673676413,"post_id":75116023,"comment_id":132556193,"body_markdown":"What if you try the latest version of Spring Boot, which [appears to be 3.0.1](https://spring.io/projects/spring-boot)?","body":"What if you try the latest version of Spring Boot, which <a href=\"https://spring.io/projects/spring-boot\" rel=\"nofollow noreferrer\">appears to be 3.0.1</a>?"},{"owner":{"account_id":3567308,"reputation":774,"user_id":2978502,"display_name":"dhanyn10"},"score":0,"creation_date":1673677184,"post_id":75116023,"comment_id":132556277,"body_markdown":"@Slaw JpaRepository not working from tutorial. it will need different code.","body":"@Slaw JpaRepository not working from tutorial. it will need different code."},{"owner":{"account_id":9911689,"reputation":303,"user_id":7338170,"display_name":"P.Sanjay"},"score":1,"creation_date":1673681487,"post_id":75116023,"comment_id":132556596,"body_markdown":"Please refer https://stackoverflow.com/questions/68117860/eclipse-2021-06-classformaterror-accessible-module-java-base-does-not-opens-j","body":"Please refer <a href=\"https://stackoverflow.com/questions/68117860/eclipse-2021-06-classformaterror-accessible-module-java-base-does-not-opens-j\" title=\"eclipse 2021 06 classformaterror accessible module java base does not opens j\">stackoverflow.com/questions/68117860/&hellip;</a>"},{"owner":{"account_id":3567308,"reputation":774,"user_id":2978502,"display_name":"dhanyn10"},"score":0,"creation_date":1673685114,"post_id":75116023,"comment_id":132556926,"body_markdown":"@P.Sanjay still not working","body":"@P.Sanjay still not working"}],"answers":[{"tags":[],"owner":{"account_id":27561647,"reputation":307,"user_id":21034601,"display_name":"Kappa97"},"down_vote_count":2,"up_vote_count":31,"is_accepted":false,"score":29,"last_activity_date":1674365779,"creation_date":1674036410,"answer_id":75157549,"question_id":75116023,"body_markdown":"I had the same issue. It was because my project was written in Java 8 but I tried to start in Java 17. I just changed the configuration for Build&amp;Run  in IntelliJ from SDK 17 to the correct Java Version 8 and it worked. Maybe you used another Java version for building the project in IntelliJ.\r\n\r\nHere&#39;s the configuration screenshot.\r\n\r\n[![configuration screen][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xMw3o.png","title":"Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass","body":"<p>I had the same issue. It was because my project was written in Java 8 but I tried to start in Java 17. I just changed the configuration for Build&amp;Run  in IntelliJ from SDK 17 to the correct Java Version 8 and it worked. Maybe you used another Java version for building the project in IntelliJ.</p>\n<p>Here's the configuration screenshot.</p>\n<p><a href=\"https://i.stack.imgur.com/xMw3o.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xMw3o.png\" alt=\"configuration screen\" /></a></p>\n"},{"tags":[],"owner":{"account_id":8604168,"reputation":1277,"user_id":6444809,"display_name":"Mohammed Fathi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1687087075,"creation_date":1687087075,"answer_id":76500263,"question_id":75116023,"body_markdown":"I was still getting getting the same error after changing the project to 1.8 as suggested above , but it worked for me after updating the spring boot version from 2.0.2.RELEASE to 2.7.7 , so \r\n\r\n    &lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.0.2.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\nbecame \r\n\r\n    &lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.7&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n","title":"Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass","body":"<p>I was still getting getting the same error after changing the project to 1.8 as suggested above , but it worked for me after updating the spring boot version from 2.0.2.RELEASE to 2.7.7 , so</p>\n<pre><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.0.2.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>became</p>\n<pre><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.7&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2373536,"reputation":172,"user_id":2077554,"display_name":"Hemanth Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692134496,"creation_date":1692134496,"answer_id":76909179,"question_id":75116023,"body_markdown":"note: writing this as answer as code sample is involved.\r\n\r\nWhat @P.Sanjay said was right and helpful. This is based on the Sanjay&#39;s direction and this blog would be helpful as well https://www.springcloud.io/post/2022-07/inaccessibleobjectexception/#gsc.tab=0\r\n\r\nyou have to find a way to pass these params to spring boot java instance. \r\nAs I was starting the server (liberty server) directly I had to modify the binary sh file which starts the server. (this is an example from liberty server).\r\nI had to add this server file(which starts/stop/restarts the server) which was sort of using &quot;JVM_OPTIONS_QUOTED&quot; variable. I tried to add to jvm.options file but somehow it dint work (may be was not passing things properly) otherwise suggest you add there. \r\n\r\n    JVM_OPTIONS_QUOTED=&quot;-Djava.awt.headless=true -Djdk.attach.allowAttachSelf=true -Dcom.ibm.tools.attach.enable=yes -Dsun.misc.URLClassPath.disableJarChecking=true  --add-opens jdk.naming.rmi/com.sun.jndi.rmi.registry=ALL-UNNAMED&quot;\r\n\r\nwhich would be later called like this\r\n\r\n          java &#39;&#39; &quot;${JVM_OPTIONS_QUOTED}&quot; &quot;${SERVER_NAME}&quot; --pid=&quot;${PID}&quot; --package &quot;$@&quot; \r\n\r\nthat fixed the issue for me. \r\nSo I think in your case you have add the corresponding package accordingly. \r\n\r\nFurther I strongly feel this is local/development fix. For production I feel the dependencies have to updated to latest ones, where this is fixed or not used.  ","title":"Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass","body":"<p>note: writing this as answer as code sample is involved.</p>\n<p>What @P.Sanjay said was right and helpful. This is based on the Sanjay's direction and this blog would be helpful as well <a href=\"https://www.springcloud.io/post/2022-07/inaccessibleobjectexception/#gsc.tab=0\" rel=\"nofollow noreferrer\">https://www.springcloud.io/post/2022-07/inaccessibleobjectexception/#gsc.tab=0</a></p>\n<p>you have to find a way to pass these params to spring boot java instance.\nAs I was starting the server (liberty server) directly I had to modify the binary sh file which starts the server. (this is an example from liberty server).\nI had to add this server file(which starts/stop/restarts the server) which was sort of using &quot;JVM_OPTIONS_QUOTED&quot; variable. I tried to add to jvm.options file but somehow it dint work (may be was not passing things properly) otherwise suggest you add there.</p>\n<pre><code>JVM_OPTIONS_QUOTED=&quot;-Djava.awt.headless=true -Djdk.attach.allowAttachSelf=true -Dcom.ibm.tools.attach.enable=yes -Dsun.misc.URLClassPath.disableJarChecking=true  --add-opens jdk.naming.rmi/com.sun.jndi.rmi.registry=ALL-UNNAMED&quot;\n</code></pre>\n<p>which would be later called like this</p>\n<pre><code>      java '' &quot;${JVM_OPTIONS_QUOTED}&quot; &quot;${SERVER_NAME}&quot; --pid=&quot;${PID}&quot; --package &quot;$@&quot; \n</code></pre>\n<p>that fixed the issue for me.\nSo I think in your case you have add the corresponding package accordingly.</p>\n<p>Further I strongly feel this is local/development fix. For production I feel the dependencies have to updated to latest ones, where this is fixed or not used.</p>\n"},{"tags":[],"owner":{"account_id":7584988,"reputation":1,"user_id":5754432,"display_name":"Gary Smith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700738892,"creation_date":1700738892,"answer_id":77536497,"question_id":75116023,"body_markdown":"For Netbeans, I had to set\r\nFile / Properties / Libriaries / Java Platform JDK 1.8.\r\nIt had switched to Java 17.\r\n","title":"Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass","body":"<p>For Netbeans, I had to set\nFile / Properties / Libriaries / Java Platform JDK 1.8.\nIt had switched to Java 17.</p>\n"}],"owner":{"account_id":3567308,"reputation":774,"user_id":2978502,"display_name":"dhanyn10"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47696,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":4,"score":20,"last_activity_date":1700738892,"creation_date":1673674595,"question_id":75116023,"body_markdown":"currently i follow course video from this youtube:https://www.youtube.com/watch?v=BHoiNd64w0c&amp;list=PLQag1tT77Ben3dupVMgYtoi_PVVQVRdD6&amp;index=13  \r\neverything works fine, i run my project by clicking play button in eclipse, a little different by instructor because he used sts tool. But the error happen when trying to `right click &gt; run as &gt; maven install`  \r\nbased on this question https://stackoverflow.com/questions/68221781/how-to-fix-unable-to-make-protected-final-java-lang-class-java-lang-classloader, im already used the newer spring version. Here&#39;s my pom.xml:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.7&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;java-login-security&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;login-system&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;login-system&lt;/name&gt;\r\n\t&lt;description&gt;login system&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;tomcat-jasper&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;9.0.70&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\nand here more error log:\r\n```\r\n .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v2.7.7)\r\n\r\n2023-01-14 12:19:00.834  INFO 2373 --- [           main] j.l.LoginSystemApplicationTests          : Starting LoginSystemApplicationTests using Java 17.0.4.1 on dna with PID 2373 (started by dna in /media/dna/data/koding/java/login-system)\r\n2023-01-14 12:19:00.835  INFO 2373 --- [           main] j.l.LoginSystemApplicationTests          : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-01-14 12:19:01.333  INFO 2373 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-01-14 12:19:01.380  INFO 2373 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 41 ms. Found 1 JPA repository interfaces.\r\n2023-01-14 12:19:01.530 ERROR 2373 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.cglib.core.CodeGenerationException: java.lang.reflect.InaccessibleObjectException--&gt;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @78dd667e\r\n\tat org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:598) ~[spring-core-5.3.24.jar:5.3.24]\r\n\tat org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:363) ~[spring-core-5.3.24.jar:5.3.24]\r\n// ...more error log here...\r\n```\r\nmy java version:\r\n```sh\r\ndna@dna:/$ java -version\r\nopenjdk version &quot;17.0.5&quot; 2022-10-18\r\nOpenJDK Runtime Environment (build 17.0.5+8-Ubuntu-2ubuntu122.04)\r\nOpenJDK 64-Bit Server VM (build 17.0.5+8-Ubuntu-2ubuntu122.04, mixed mode, sharing)\r\n```\r\n[update]\r\nyou can check my project here:\r\nhttps://github.com/dhanyn10/java/tree/main/login-system","title":"Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass","body":"<p>currently i follow course video from this youtube:<a href=\"https://www.youtube.com/watch?v=BHoiNd64w0c&amp;list=PLQag1tT77Ben3dupVMgYtoi_PVVQVRdD6&amp;index=13\" rel=\"noreferrer\">https://www.youtube.com/watch?v=BHoiNd64w0c&amp;list=PLQag1tT77Ben3dupVMgYtoi_PVVQVRdD6&amp;index=13</a><br />\neverything works fine, i run my project by clicking play button in eclipse, a little different by instructor because he used sts tool. But the error happen when trying to <code>right click &gt; run as &gt; maven install</code><br />\nbased on this question <a href=\"https://stackoverflow.com/questions/68221781/how-to-fix-unable-to-make-protected-final-java-lang-class-java-lang-classloader\">How to fix &quot;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass?</a>, im already used the newer spring version. Here's my pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.7&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;java-login-security&lt;/groupId&gt;\n    &lt;artifactId&gt;login-system&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;login-system&lt;/name&gt;\n    &lt;description&gt;login system&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-jasper&lt;/artifactId&gt;\n            &lt;version&gt;9.0.70&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>and here more error log:</p>\n<pre><code> .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.7.7)\n\n2023-01-14 12:19:00.834  INFO 2373 --- [           main] j.l.LoginSystemApplicationTests          : Starting LoginSystemApplicationTests using Java 17.0.4.1 on dna with PID 2373 (started by dna in /media/dna/data/koding/java/login-system)\n2023-01-14 12:19:00.835  INFO 2373 --- [           main] j.l.LoginSystemApplicationTests          : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-01-14 12:19:01.333  INFO 2373 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-01-14 12:19:01.380  INFO 2373 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 41 ms. Found 1 JPA repository interfaces.\n2023-01-14 12:19:01.530 ERROR 2373 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.cglib.core.CodeGenerationException: java.lang.reflect.InaccessibleObjectException--&gt;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @78dd667e\n    at org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:598) ~[spring-core-5.3.24.jar:5.3.24]\n    at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:363) ~[spring-core-5.3.24.jar:5.3.24]\n// ...more error log here...\n</code></pre>\n<p>my java version:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>dna@dna:/$ java -version\nopenjdk version &quot;17.0.5&quot; 2022-10-18\nOpenJDK Runtime Environment (build 17.0.5+8-Ubuntu-2ubuntu122.04)\nOpenJDK 64-Bit Server VM (build 17.0.5+8-Ubuntu-2ubuntu122.04, mixed mode, sharing)\n</code></pre>\n<p>[update]\nyou can check my project here:\n<a href=\"https://github.com/dhanyn10/java/tree/main/login-system\" rel=\"noreferrer\">https://github.com/dhanyn10/java/tree/main/login-system</a></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9819,"page":39,"page_size":100}
