{"items":[{"tags":["java","apache-poi","xhtml","doc"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1673411946,"post_id":75070258,"comment_id":132490602,"body_markdown":"`OutputStream in`  well...why? First: This `XHTMLConverter` is **not** part of the Apache POI project. Second: It tries converting **from** `XWPFDocument` **to** XHTML and not the other way around. Third: `org.apache.poi.xwpf.converter.xhtml.XHTMLConverter` is pretty old and will not wotk using  `XWPFDocument` from current Apache POI versions. Current version is `fr.opensagres.poi.xwpf.converter.xhtml.XHTMLConverter`.","body":"<code>OutputStream in</code>  well...why? First: This <code>XHTMLConverter</code> is <b>not</b> part of the Apache POI project. Second: It tries converting <b>from</b> <code>XWPFDocument</code> <b>to</b> XHTML and not the other way around. Third: <code>org.apache.poi.xwpf.converter.xhtml.XHTMLConverter</code> is pretty old and will not wotk using  <code>XWPFDocument</code> from current Apache POI versions. Current version is <code>fr.opensagres.poi.xwpf.converter.xhtml.XHTMLConverter</code>."}],"owner":{"account_id":27488224,"reputation":1,"user_id":20974105,"display_name":"Alan Vallv i Bonet External"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":413,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673356935,"creation_date":1673355041,"question_id":75070258,"body_markdown":"I need to transform HTML to a doc file, the HTML is filled with custom information and the images and CSS change depending on what is request.\r\n\r\nI&#39;m trying to use Apache POI for this, but I&#39;m having an error\r\n\r\n    `\r\n    org.apache.poi.xwpf.converter.core.XWPFConverterException: java.lang.IllegalStateException: Expecting one Styles document part, but found 0\r\n    \r\n    \tat org.apache.poi.xwpf.converter.xhtml.XHTMLConverter.convert(XHTMLConverter.java:72)\r\n    \tat org.apache.poi.xwpf.converter.xhtml.XHTMLConverter.doConvert(XHTMLConverter.java:58)\r\n    \tat org.apache.poi.xwpf.converter.xhtml.XHTMLConverter.doConvert(XHTMLConverter.java:38)\r\n    \tat org.apache.poi.xwpf.converter.core.AbstractXWPFConverter.convert(AbstractXWPFConverter.java:45)\r\n\r\n    \r\nMy code is this: \r\n    \r\n  \r\n\r\n      // Load the HTML file\r\n                //Doc file\r\n                String htmlFile = &quot;pathToHtml/file.html&quot;;\r\n                //String htmlFile = parseHTMLTemplate(disputeLetterDetails, template, fileExtension);\r\n        \r\n                //new File(htmlFile);\r\n                //File file = new FileReader(htmlFile);\r\n        \r\n                Path path = Path.of(htmlFile);\r\n        \r\n                OutputStream in = new FileOutputStream(htmlFile, true);\r\n        \r\n        \r\n                // Create a new XWPFDocument\r\n                XWPFDocument document = new XWPFDocument();\r\n                // Set up the XHTML options\r\n                XHTMLOptions options = XHTMLOptions.create().URIResolver(new FileURIResolver(new File(&quot;./images/&quot;)));\r\n                options.setExtractor(new FileImageExtractor(new File(&quot;./images/&quot;)));\r\n                // Convert the HTML to XWPFDocument\r\n                XHTMLConverter.getInstance().convert(document, in, options);\r\n                // Save the document to a .doc file\r\n                FileOutputStream out = new FileOutputStream(&quot;pathToHtml/OUT_from_XHTML_TEST.docx&quot;);\r\n                document.write(out);\r\n                out.close();\r\n        \r\n        `\r\n\r\n\r\n\r\nI want to get a docx file from an HTML file with the same styles but I&#39;m getting this error `\r\n\r\n    org.apache.poi.xwpf.converter.core.XWPFConverterException: java.lang.IllegalStateException: Expecting one Styles document part, but found 0\r\n    \r\n    \tat org.apache.poi.xwpf.converter.xhtml.XHTMLConverter.convert(XHTMLConverter.java:72)\r\n    \tat org.apache.poi.xwpf.converter.xhtml.XHTMLConverter.doConvert(XHTMLConverter.java:58)\r\n    \tat org.apache.poi.xwpf.converter.xhtml.XHTMLConverter.doConvert(XHTMLConverter.java:38)\r\n    \tat org.apache.poi.xwpf.converter.core.AbstractXWPFConverter.convert(AbstractXWPFConverter.java:45)\r\n    `","title":"Apache POI convert HTML/XHTML to DOC/DOCX","body":"<p>I need to transform HTML to a doc file, the HTML is filled with custom information and the images and CSS change depending on what is request.</p>\n<p>I'm trying to use Apache POI for this, but I'm having an error</p>\n<pre><code>`\norg.apache.poi.xwpf.converter.core.XWPFConverterException: java.lang.IllegalStateException: Expecting one Styles document part, but found 0\n\n    at org.apache.poi.xwpf.converter.xhtml.XHTMLConverter.convert(XHTMLConverter.java:72)\n    at org.apache.poi.xwpf.converter.xhtml.XHTMLConverter.doConvert(XHTMLConverter.java:58)\n    at org.apache.poi.xwpf.converter.xhtml.XHTMLConverter.doConvert(XHTMLConverter.java:38)\n    at org.apache.poi.xwpf.converter.core.AbstractXWPFConverter.convert(AbstractXWPFConverter.java:45)\n</code></pre>\n<p>My code is this:</p>\n<pre><code>  // Load the HTML file\n            //Doc file\n            String htmlFile = &quot;pathToHtml/file.html&quot;;\n            //String htmlFile = parseHTMLTemplate(disputeLetterDetails, template, fileExtension);\n    \n            //new File(htmlFile);\n            //File file = new FileReader(htmlFile);\n    \n            Path path = Path.of(htmlFile);\n    \n            OutputStream in = new FileOutputStream(htmlFile, true);\n    \n    \n            // Create a new XWPFDocument\n            XWPFDocument document = new XWPFDocument();\n            // Set up the XHTML options\n            XHTMLOptions options = XHTMLOptions.create().URIResolver(new FileURIResolver(new File(&quot;./images/&quot;)));\n            options.setExtractor(new FileImageExtractor(new File(&quot;./images/&quot;)));\n            // Convert the HTML to XWPFDocument\n            XHTMLConverter.getInstance().convert(document, in, options);\n            // Save the document to a .doc file\n            FileOutputStream out = new FileOutputStream(&quot;pathToHtml/OUT_from_XHTML_TEST.docx&quot;);\n            document.write(out);\n            out.close();\n    \n    `\n</code></pre>\n<p>I want to get a docx file from an HTML file with the same styles but I'm getting this error `</p>\n<pre><code>org.apache.poi.xwpf.converter.core.XWPFConverterException: java.lang.IllegalStateException: Expecting one Styles document part, but found 0\n\n    at org.apache.poi.xwpf.converter.xhtml.XHTMLConverter.convert(XHTMLConverter.java:72)\n    at org.apache.poi.xwpf.converter.xhtml.XHTMLConverter.doConvert(XHTMLConverter.java:58)\n    at org.apache.poi.xwpf.converter.xhtml.XHTMLConverter.doConvert(XHTMLConverter.java:38)\n    at org.apache.poi.xwpf.converter.core.AbstractXWPFConverter.convert(AbstractXWPFConverter.java:45)\n`\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":425982,"reputation":1814,"user_id":806925,"display_name":"Steve Wang"},"score":0,"creation_date":1343158060,"post_id":11637930,"comment_id":15415608,"body_markdown":"Will text like [[this]] (i.e. nested braces) appear anywhere? If so, this is probably something you don&#39;t want to do with regex :)","body":"Will text like [[this]] (i.e. nested braces) appear anywhere? If so, this is probably something you don&#39;t want to do with regex :)"}],"answers":[{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1343158180,"creation_date":1343158180,"answer_id":11637975,"question_id":11637930,"body_markdown":"Here are some web sites that might be helpful:\r\n\r\n - http://www.cis.upenn.edu/~matuszek/General/RegexTester/regex-tester.html\r\n - http://txt2re.com/index.php3?s=Test+test+june+2011+test&amp;submit=Show+Matches\r\n - http://www.regexplanet.com/simple/\r\n\r\n","title":"Regular expression help in java","body":"<p>Here are some web sites that might be helpful:</p>\n\n<ul>\n<li><a href=\"http://www.cis.upenn.edu/~matuszek/General/RegexTester/regex-tester.html\" rel=\"nofollow\">http://www.cis.upenn.edu/~matuszek/General/RegexTester/regex-tester.html</a></li>\n<li><a href=\"http://txt2re.com/index.php3?s=Test+test+june+2011+test&amp;submit=Show+Matches\" rel=\"nofollow\">http://txt2re.com/index.php3?s=Test+test+june+2011+test&amp;submit=Show+Matches</a></li>\n<li><a href=\"http://www.regexplanet.com/simple/\" rel=\"nofollow\">http://www.regexplanet.com/simple/</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":425982,"reputation":1814,"user_id":806925,"display_name":"Steve Wang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1343159847,"creation_date":1343158591,"answer_id":11638074,"question_id":11637930,"body_markdown":"If you&#39;re sure enough of your inputs, you can probably use something like `/\\[(\\~|\\!|\\?)?(?:((?:[^:\\]]*?)+):)?([^\\]]+?)\\]/`. (to translate that into Java, you&#39;ll want to escape the backslashes and use quotation marks instead of forward slashes)","title":"Regular expression help in java","body":"<p>If you're sure enough of your inputs, you can probably use something like <code>/\\[(\\~|\\!|\\?)?(?:((?:[^:\\]]*?)+):)?([^\\]]+?)\\]/</code>. (to translate that into Java, you'll want to escape the backslashes and use quotation marks instead of forward slashes)</p>\n"},{"tags":[],"owner":{"account_id":1535131,"reputation":4145,"user_id":1431389,"accept_rate":73,"display_name":"Sturm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1343159996,"creation_date":1343158646,"answer_id":11638090,"question_id":11637930,"body_markdown":"I believe that this should work:\r\n\r\n    /[(.*?)(?:\\|(.*?))*]/\r\n\r\nAlso:\r\n\r\n    [a-z]*","title":"Regular expression help in java","body":"<p>I believe that this should work:</p>\n\n<pre><code>/[(.*?)(?:\\|(.*?))*]/\n</code></pre>\n\n<p>Also:</p>\n\n<pre><code>[a-z]*\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1343160266,"creation_date":1343158831,"answer_id":11638140,"question_id":11637930,"body_markdown":"Try this code\r\n\r\n    final Pattern\r\n      outerP = Pattern.compile(&quot;\\\\[.*?\\\\]&quot;),\r\n      innerP = Pattern.compile(&quot;\\\\[([~!?]?)([^:]*):?(.*)\\\\]&quot;);\r\n    for (String s : asList(\r\n        &quot;[~class:obj]&quot;,\r\n        &quot;[if][~class:obj]&quot;,\r\n         &quot;[~class|class2|more classes:obj]&quot;,\r\n         &quot;[!class:obj]&quot;,\r\n         &quot;[!class|class2|more classes:obj]&quot;,\r\n         &quot;[?method:class]&quot;,\r\n         &quot;[text]&quot;))\r\n    {\r\n      final Matcher outerM = outerP.matcher(s);\r\n      System.out.println(&quot;Input: &quot; + s);\r\n      while (outerM.find()) {\r\n        final Matcher m = innerP.matcher(outerM.group());\r\n        if (m.matches()) System.out.println(\r\n           m.group(1) + &quot;;&quot; + m.group(2) + &quot;;&quot; + m.group(3));\r\n        else System.out.println(&quot;No match&quot;);\r\n      }\r\n    }\r\n","title":"Regular expression help in java","body":"<p>Try this code</p>\n\n<pre><code>final Pattern\n  outerP = Pattern.compile(\"\\\\[.*?\\\\]\"),\n  innerP = Pattern.compile(\"\\\\[([~!?]?)([^:]*):?(.*)\\\\]\");\nfor (String s : asList(\n    \"[~class:obj]\",\n    \"[if][~class:obj]\",\n     \"[~class|class2|more classes:obj]\",\n     \"[!class:obj]\",\n     \"[!class|class2|more classes:obj]\",\n     \"[?method:class]\",\n     \"[text]\"))\n{\n  final Matcher outerM = outerP.matcher(s);\n  System.out.println(\"Input: \" + s);\n  while (outerM.find()) {\n    final Matcher m = innerP.matcher(outerM.group());\n    if (m.matches()) System.out.println(\n       m.group(1) + \";\" + m.group(2) + \";\" + m.group(3));\n    else System.out.println(\"No match\");\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":1255541,"reputation":647,"user_id":1215080,"accept_rate":81,"display_name":"Scott Deutsch"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":11638074,"answer_count":4,"score":1,"last_activity_date":1673356517,"creation_date":1343157942,"question_id":11637930,"body_markdown":"I am lost when it comes to building regex strings. I need a regular expression that does the following. \r\n\r\nI have the following strings:\r\n\r\n    [~class:obj]\r\n    [~class|class2|more classes:obj]\r\n    [!class:obj]\r\n    [!class|class2|more classes:obj]\r\n    [?method:class]\r\n    [text]\r\n\r\nA string can have multiple of whats above. Example string would be &quot;[if] [!class:obj]&quot;\r\n\r\nI want to know what is in between the [] and broken into match groups. For example, the first match group would be the symbol if present (~|!|?) next what is before the : so that could be class or class|class2|etc... then what is on the right of the : and stop before the ].  There may be no : and what goes before it, but just something between the []. \r\n\r\nSo, how would I go about writing this regex?  And is it possible to give the match group names so I know what it matched?\r\n\r\nThis is for a java project.\r\n","title":"Regular expression help in java","body":"<p>I am lost when it comes to building regex strings. I need a regular expression that does the following.</p>\n<p>I have the following strings:</p>\n<pre><code>[~class:obj]\n[~class|class2|more classes:obj]\n[!class:obj]\n[!class|class2|more classes:obj]\n[?method:class]\n[text]\n</code></pre>\n<p>A string can have multiple of whats above. Example string would be &quot;[if] [!class:obj]&quot;</p>\n<p>I want to know what is in between the [] and broken into match groups. For example, the first match group would be the symbol if present (~|!|?) next what is before the : so that could be class or class|class2|etc... then what is on the right of the : and stop before the ].  There may be no : and what goes before it, but just something between the [].</p>\n<p>So, how would I go about writing this regex?  And is it possible to give the match group names so I know what it matched?</p>\n<p>This is for a java project.</p>\n"},{"tags":["java","xml","maven"],"comments":[{"owner":{"account_id":11889649,"reputation":1404,"user_id":8700934,"display_name":"Lakshan"},"score":0,"creation_date":1627316907,"post_id":68509657,"comment_id":121118384,"body_markdown":"Does this answer your question? [Runtime error while running a Spring Session + Spring Boot application](https://stackoverflow.com/questions/28571460/runtime-error-while-running-a-spring-session-spring-boot-application)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/28571460/runtime-error-while-running-a-spring-session-spring-boot-application\">Runtime error while running a Spring Session + Spring Boot application</a>"}],"answers":[{"tags":[],"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627158331,"creation_date":1627158331,"answer_id":68513586,"question_id":68509657,"body_markdown":"It could be a conflicting version of some dependencies and `spring-boot` version. Change the version of `spring-boot` then retry.","title":"An internal error occurred during: &quot;Building&quot;. java.lang.reflect.InvocationTargetException","body":"<p>It could be a conflicting version of some dependencies and <code>spring-boot</code> version. Change the version of <code>spring-boot</code> then retry.</p>\n"},{"tags":[],"owner":{"account_id":13644019,"reputation":15,"user_id":9843470,"display_name":"Conner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658835325,"creation_date":1658835325,"answer_id":73122660,"question_id":68509657,"body_markdown":"Try adding below dependency in pom.xml\r\n\r\n     &lt;dependencies&gt;\r\n    \t&lt;dependency&gt;\r\n    \t &lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n    \t &lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n    \t &lt;version&gt;1.1.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;","title":"An internal error occurred during: &quot;Building&quot;. java.lang.reflect.InvocationTargetException","body":"<p>Try adding below dependency in pom.xml</p>\n<pre><code> &lt;dependencies&gt;\n    &lt;dependency&gt;\n     &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n     &lt;artifactId&gt;activation&lt;/artifactId&gt;\n     &lt;version&gt;1.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27488402,"reputation":1,"user_id":20974251,"display_name":"supriya v"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673355736,"creation_date":1673355736,"answer_id":75070409,"question_id":68509657,"body_markdown":"The problem is the different Java version and JAXB2 plugin version I was using. In my case it is Java version 11 - check pom.xml:\r\n\r\n\r\n\r\n&lt;properties&gt;\r\n\r\n  &lt;java.version&gt;11&lt;/java.version&gt;\r\n\r\n&lt;/properties&gt;\r\n\r\n\r\n\r\nAs a result of this, the JAXB2 plugin version 2.5.0 should be used (not 1.6 as mentioned in the video):\r\n\r\n&lt;version&gt;2.5.0&lt;/version&gt;\r\n\r\n\r\n\r\nThis version change of the plugin will require this setting to be modified:\r\n\r\n&lt;schemaDirectory&gt;${project.basedir}/src/main/resources&lt;/schemaDirectory&gt;\r\n\r\n... into this:\r\n\r\n&lt;sources&gt;\r\n\r\n  &lt;source&gt;${project.basedir}/src/main/resources/course-details.xsd&lt;/source&gt;\r\n\r\n&lt;/sources&gt;\r\n\r\n\r\n\r\nThen, do a right click on the project &gt; Maven &gt; Update Project (no further checkboxes to check)... That&#39;s it.\r\n\r\n\r\n\r\nHere the plugin snippet in the pom.xml:\r\n\r\n...\r\n\r\n&lt;plugin&gt;\r\n\r\n   &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\r\n  &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n\r\n&lt;version&gt;2.5.0&lt;/version&gt;\r\n\r\n  &lt;executions&gt;\r\n\r\n    &lt;execution&gt;\r\n\r\n      &lt;id&gt;xjc&lt;/id&gt;\r\n\r\n      &lt;goals&gt;\r\n\r\n        &lt;goal&gt;xjc&lt;/goal&gt;\r\n\r\n      &lt;/goals&gt;\r\n\r\n    &lt;/execution&gt;\r\n\r\n  &lt;/executions&gt;\r\n\r\n  &lt;configuration&gt;\r\n\r\n    &lt;sources&gt;\r\n\r\n      &lt;source&gt;${project.basedir}/src/main/resources/course-details.xsd&lt;/source&gt;\r\n\r\n    &lt;/sources&gt;\r\n\r\n    &lt;outputDirectory&gt;${project.basedir}/src/main/java&lt;/outputDirectory&gt;\r\n\r\n    &lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\r\n\r\n  &lt;/configuration&gt;\r\n\r\n&lt;/plugin&gt;\r\n","title":"An internal error occurred during: &quot;Building&quot;. java.lang.reflect.InvocationTargetException","body":"<p>The problem is the different Java version and JAXB2 plugin version I was using. In my case it is Java version 11 - check pom.xml:</p>\n\n<p>&lt;java.version&gt;11&lt;/java.version&gt;</p>\n\n<p>As a result of this, the JAXB2 plugin version 2.5.0 should be used (not 1.6 as mentioned in the video):</p>\n<p>2.5.0</p>\n<p>This version change of the plugin will require this setting to be modified:</p>\n<p>${project.basedir}/src/main/resources</p>\n<p>... into this:</p>\n\n  ${project.basedir}/src/main/resources/course-details.xsd\n\n<p>Then, do a right click on the project &gt; Maven &gt; Update Project (no further checkboxes to check)... That's it.</p>\n<p>Here the plugin snippet in the pom.xml:</p>\n<p>...</p>\n\n<p>org.codehaus.mojo</p>\n<p>jaxb2-maven-plugin</p>\n<p>2.5.0</p>\n  \n<pre><code>&lt;execution&gt;\n\n  &lt;id&gt;xjc&lt;/id&gt;\n\n  &lt;goals&gt;\n\n    &lt;goal&gt;xjc&lt;/goal&gt;\n\n  &lt;/goals&gt;\n\n&lt;/execution&gt;\n</code></pre>\n  \n  \n<pre><code>&lt;sources&gt;\n\n  &lt;source&gt;${project.basedir}/src/main/resources/course-details.xsd&lt;/source&gt;\n\n&lt;/sources&gt;\n\n&lt;outputDirectory&gt;${project.basedir}/src/main/java&lt;/outputDirectory&gt;\n\n&lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\n</code></pre>\n  \n\n"}],"owner":{"account_id":22289136,"reputation":11,"user_id":16516296,"display_name":"pga2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1691,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1673355736,"creation_date":1627127039,"question_id":68509657,"body_markdown":"I&#39;m learning from [in28minutes][1] course &quot;Master Java Web Services and REST API with Spring Boot&quot;.\r\n\r\n### Errors\r\nWhen I try Maven&#39;s command *Update Project*, I get these internal errors:\r\n\r\n&gt; An internal error occurred during: &quot;Building&quot;.\r\n&gt;\r\n&gt; java.lang.reflect.InvocationTargetException\r\n\r\n&gt; An internal error occurred during: &quot;Updating Maven Project&quot;.\r\n&gt; \r\n&gt; java.lang.reflect.InvocationTargetException\r\n\r\n### My `pom.xml` file\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.0-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.in28minutes.soap.webservices&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;soap-course-management&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;soap-course-management&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t            &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n\t            &lt;version&gt;1.6&lt;/version&gt;\r\n\t            &lt;executions&gt;\r\n\t                &lt;execution&gt;\r\n\t                    &lt;id&gt;xjc&lt;/id&gt;\r\n\t                    &lt;goals&gt;\r\n\t                        &lt;goal&gt;xjc&lt;/goal&gt;\r\n\t                    &lt;/goals&gt;\r\n\t                &lt;/execution&gt;\r\n\t            &lt;/executions&gt;\r\n\t            &lt;configuration&gt;\r\n\t                &lt;schemaDirectory&gt;${project.basedir}/src/main/resources&lt;/schemaDirectory&gt;\r\n\t                &lt;outputDirectory&gt;${project.basedir}/src/main/java&lt;/outputDirectory&gt;\r\n\t                &lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\r\n\t            &lt;/configuration&gt;\r\n\t        &lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/repository&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n\t\t\t&lt;releases&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/releases&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\t&lt;pluginRepositories&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n\t\t\t&lt;releases&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/releases&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t&lt;/pluginRepositories&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n### Another file `src/main/resources/course-details.xsd`\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; \r\ntargetNamespace=&quot;http://in28minutes.com/courses&quot; \r\nxmlns:tns=&quot;http://in28minutes.com/courses&quot; elementFormDefault=&quot;qualified&quot;&gt;\r\n\t&lt;xs:element name=&quot;GetCourseDetailsRequest&quot;&gt;\r\n\t\t&lt;xs:complexType&gt;\r\n\t\t\t&lt;xs:sequence&gt;\r\n\t\t\t\t&lt;xs:element name=&quot;id&quot; type=&quot;xs:integer&quot;/&gt;\t\t\r\n\t\t\t&lt;/xs:sequence&gt;\r\n\t\t&lt;/xs:complexType&gt;\r\n\t&lt;/xs:element&gt;\r\n\t&lt;xs:element name=&quot;GetCourseDetailsResponse&quot;&gt;\r\n\t\t&lt;xs:complexType&gt;\r\n\t\t\t&lt;xs:sequence&gt;\r\n\t\t\t\t&lt;xs:element name=&quot;CourseDetails&quot; type=&quot;tns:CourseDetails&quot;/&gt;\t\t\r\n\t\t\t&lt;/xs:sequence&gt;\r\n\t\t&lt;/xs:complexType&gt;\r\n\t&lt;/xs:element&gt;\r\n\t&lt;xs:complexType name=&quot;CourseDetails&quot;&gt;\r\n\t\t&lt;xs:sequence&gt;\r\n\t\t\t&lt;xs:element name=&quot;id&quot; type=&quot;xs:integer&quot;/&gt;\r\n\t\t\t&lt;xs:element name=&quot;name&quot; type=&quot;xs:string&quot;/&gt;\r\n\t\t\t&lt;xs:element name=&quot;description&quot; type=&quot;xs:string&quot;/&gt;\r\n\t\t&lt;/xs:sequence&gt;\r\n\t&lt;/xs:complexType&gt;\r\n\t\r\n\r\n&lt;/xs:schema&gt;\r\n```\r\n\r\nI tried using Java 8,11,16.\r\n\r\n\r\n  [1]: https://www.udemy.com/user/in28minutes/","title":"An internal error occurred during: &quot;Building&quot;. java.lang.reflect.InvocationTargetException","body":"<p>I'm learning from <a href=\"https://www.udemy.com/user/in28minutes/\" rel=\"nofollow noreferrer\">in28minutes</a> course &quot;Master Java Web Services and REST API with Spring Boot&quot;.</p>\n<h3 id=\"errors-hiee\">Errors</h3>\n<p>When I try Maven's command <em>Update Project</em>, I get these internal errors:</p>\n<blockquote>\n<p>An internal error occurred during: &quot;Building&quot;.</p>\n<p>java.lang.reflect.InvocationTargetException</p>\n</blockquote>\n<blockquote>\n<p>An internal error occurred during: &quot;Updating Maven Project&quot;.</p>\n<p>java.lang.reflect.InvocationTargetException</p>\n</blockquote>\n<h3 id=\"my-pom.xml-file-l260\">My <code>pom.xml</code> file</h3>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.0-SNAPSHOT&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.in28minutes.soap.webservices&lt;/groupId&gt;\n    &lt;artifactId&gt;soap-course-management&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;soap-course-management&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.6&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;xjc&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;xjc&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;schemaDirectory&gt;${project.basedir}/src/main/resources&lt;/schemaDirectory&gt;\n                    &lt;outputDirectory&gt;${project.basedir}/src/main/java&lt;/outputDirectory&gt;\n                    &lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/releases&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/releases&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n&lt;/project&gt;\n</code></pre>\n<h3 id=\"another-file-srcmainresourcescourse-details.xsd-ufpv\">Another file <code>src/main/resources/course-details.xsd</code></h3>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; \ntargetNamespace=&quot;http://in28minutes.com/courses&quot; \nxmlns:tns=&quot;http://in28minutes.com/courses&quot; elementFormDefault=&quot;qualified&quot;&gt;\n    &lt;xs:element name=&quot;GetCourseDetailsRequest&quot;&gt;\n        &lt;xs:complexType&gt;\n            &lt;xs:sequence&gt;\n                &lt;xs:element name=&quot;id&quot; type=&quot;xs:integer&quot;/&gt;       \n            &lt;/xs:sequence&gt;\n        &lt;/xs:complexType&gt;\n    &lt;/xs:element&gt;\n    &lt;xs:element name=&quot;GetCourseDetailsResponse&quot;&gt;\n        &lt;xs:complexType&gt;\n            &lt;xs:sequence&gt;\n                &lt;xs:element name=&quot;CourseDetails&quot; type=&quot;tns:CourseDetails&quot;/&gt;     \n            &lt;/xs:sequence&gt;\n        &lt;/xs:complexType&gt;\n    &lt;/xs:element&gt;\n    &lt;xs:complexType name=&quot;CourseDetails&quot;&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element name=&quot;id&quot; type=&quot;xs:integer&quot;/&gt;\n            &lt;xs:element name=&quot;name&quot; type=&quot;xs:string&quot;/&gt;\n            &lt;xs:element name=&quot;description&quot; type=&quot;xs:string&quot;/&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n    \n\n&lt;/xs:schema&gt;\n</code></pre>\n<p>I tried using Java 8,11,16.</p>\n"},{"tags":["java","linux","javafx"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1673282725,"post_id":75060410,"comment_id":132458909,"body_markdown":"are you using the same command on windows and linux to run this?","body":"are you using the same command on windows and linux to run this?"},{"owner":{"account_id":8648244,"reputation":367,"user_id":6474819,"accept_rate":89,"display_name":"M. Rogers"},"score":0,"creation_date":1673283583,"post_id":75060410,"comment_id":132459210,"body_markdown":"Yes, &quot;java -jar T.jar&quot;","body":"Yes, &quot;java -jar T.jar&quot;"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1673284296,"post_id":75060410,"comment_id":132459453,"body_markdown":"JavaFX was never included in the Linux JRE, if I remember correctly","body":"JavaFX was never included in the Linux JRE, if I remember correctly"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1673289598,"post_id":75060410,"comment_id":132461159,"body_markdown":"What is the value of the `Main-Class` attribute in the manifest? What happens when you recompile? Oracle&#39;s Java SE Development Kit 8u351 is current; I&#39;ve experienced regressions in prior versions; I see that several Linux architectures are supported, but I haven&#39;t tried any; on macOS, the SDK has included JavaFX for over a decade.","body":"What is the value of the <code>Main-Class</code> attribute in the manifest? What happens when you recompile? Oracle&#39;s Java SE Development Kit 8u351 is current; I&#39;ve experienced regressions in prior versions; I see that several Linux architectures are supported, but I haven&#39;t tried any; on macOS, the SDK has included JavaFX for over a decade."},{"owner":{"account_id":8648244,"reputation":367,"user_id":6474819,"accept_rate":89,"display_name":"M. Rogers"},"score":0,"creation_date":1673289856,"post_id":75060410,"comment_id":132461241,"body_markdown":"Main-Class is &quot;application.Main&quot; which is what I expect it to be","body":"Main-Class is &quot;application.Main&quot; which is what I expect it to be"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1673295488,"post_id":75060410,"comment_id":132462754,"body_markdown":"Oracle JDK 8 for Linux includes JavaFX, you could use that to run a JavaFX 8 application jar file.  Most OpenJDK 8 distributions for Linux do not include JavaFX 8, though some allow you to add JavaFX (for example [in debian](https://stackoverflow.com/a/35956637/1155209)).  In general, it is probably better to switch to a modern JDK/JavaFX version (19+) and a different packaging solution (jlink or jpackage).","body":"Oracle JDK 8 for Linux includes JavaFX, you could use that to run a JavaFX 8 application jar file.  Most OpenJDK 8 distributions for Linux do not include JavaFX 8, though some allow you to add JavaFX (for example <a href=\"https://stackoverflow.com/a/35956637/1155209\">in debian</a>).  In general, it is probably better to switch to a modern JDK/JavaFX version (19+) and a different packaging solution (jlink or jpackage)."},{"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"score":1,"creation_date":1673301063,"post_id":75060410,"comment_id":132464257,"body_markdown":"I had javafx on java 8  on linux ubuntu 64 14.04  . no extra libs needed","body":"I had javafx on java 8  on linux ubuntu 64 14.04  . no extra libs needed"},{"owner":{"account_id":6179310,"reputation":2644,"user_id":4815321,"display_name":"mr mcwolf"},"score":0,"creation_date":1673332214,"post_id":75060410,"comment_id":132468896,"body_markdown":"First it should be clarified that `javafx` is part of `java 8` platform **only** in oracle version. Second, the `ubuntu` repositories have `openjdk` which, despite being version 8, does **not include** javafx. Your post is missing information about exactly what platform you are using (just the version is not enough).","body":"First it should be clarified that <code>javafx</code> is part of <code>java 8</code> platform <b>only</b> in oracle version. Second, the <code>ubuntu</code> repositories have <code>openjdk</code> which, despite being version 8, does <b>not include</b> javafx. Your post is missing information about exactly what platform you are using (just the version is not enough)."}],"owner":{"account_id":8648244,"reputation":367,"user_id":6474819,"accept_rate":89,"display_name":"M. Rogers"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673355544,"creation_date":1673282601,"question_id":75060410,"body_markdown":"I know this is often a common issue but the Java 8 aspect confuses me. I&#39;m aware that since Oracle removed JavaFX from the Java distribution, this issue is usually resolved with VM arguments (--module-path,--add-modules, etc).\r\n\r\nHowever, I&#39;m exporting a .jar file using jre 1.8.0_202 in eclipse. And this works great without any arguments on my windows machine. Sadly when I move this jar to my linux machine, I see the classic &quot;Cloud not find or load main class&quot;. For reference, the linux machine is running 1.8.0_342. I would think that this shouldn&#39;t be an issue because I&#39;m using older Java versions?\r\n\r\nAny insight on why this works on one platform and not the other?","title":"JavaFX Could not find or load main class Java 8 Linux","body":"<p>I know this is often a common issue but the Java 8 aspect confuses me. I'm aware that since Oracle removed JavaFX from the Java distribution, this issue is usually resolved with VM arguments (--module-path,--add-modules, etc).</p>\n<p>However, I'm exporting a .jar file using jre 1.8.0_202 in eclipse. And this works great without any arguments on my windows machine. Sadly when I move this jar to my linux machine, I see the classic &quot;Cloud not find or load main class&quot;. For reference, the linux machine is running 1.8.0_342. I would think that this shouldn't be an issue because I'm using older Java versions?</p>\n<p>Any insight on why this works on one platform and not the other?</p>\n"},{"tags":["java","linux","tomcat","fusionreactor"],"owner":{"account_id":18410786,"reputation":49,"user_id":13411151,"display_name":"bpm2021"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673355415,"creation_date":1673355415,"question_id":75070337,"body_markdown":"I have tired to add FusionReactor  agent to my tomcat on the linux server, but it was failed.\r\nFirst, i have created a directory where are located files of FusionReactor  then into  JAVA_OPTS(for tomcat) variable has added the next equery:\r\n\r\n    -javaagent:/opt/fusionreactor/instance/tomcat/fusionreactor.jar=address=8080 -agentpath:/opt/fusionreactor/instance/tomcat/libfrjvmti_x64.so\r\n\r\nAfter the server was restarted. I have expected thatit will be successfully launched, but actially it was finished with the next error\r\n\r\n\r\n    FusionReactor JVMTI Revision: 9.1.0 Build: 1837.391d431697a9fcba6366edbd202476ca511a1fbb.9.1.0 \r\n    Warning:  Could not initialize the framework - FusionReactor may be unavailable: No such file or directory\r\n    Warning:  Could not initialize the framework - FusionReactor may be unavailable: No such file or directory\r\n    java.io.IOException: No such file or directory\r\n    at java.io.UnixFileSystem.createFileExclusively(Native Method)\r\n    at java.io.File.createNewFile(File.java:1023)\r\n    at com.intergral.fusionreactor.agent.frameworkhostmanager.FrameworkHostManager.init(FrameworkHostManager.java:82)\r\n    at com.intergral.fusionreactor.agent.Agent.startup(Agent.java:525)\r\n    at com.intergral.fusionreactor.agent.Agent.access$100(Agent.java:40)\r\n    at com.intergral.fusionreactor.agent.Agent$2.run(Agent.java:272)\r\n    at java.lang.Thread.run(Thread.java:750)\r\n    org.apache.catalina.startup.ClassLoaderFactory validateFile\r\n\r\nWhy this error has occurred? \r\n\r\nI have add all grants for  libfrjvmti_x64.so, fusionreactor.jar, but it looks like unavailable.\r\n\r\n\r\n","title":"Why is FusionReactor not working with tomcat?","body":"<p>I have tired to add FusionReactor  agent to my tomcat on the linux server, but it was failed.\nFirst, i have created a directory where are located files of FusionReactor  then into  JAVA_OPTS(for tomcat) variable has added the next equery:</p>\n<pre><code>-javaagent:/opt/fusionreactor/instance/tomcat/fusionreactor.jar=address=8080 -agentpath:/opt/fusionreactor/instance/tomcat/libfrjvmti_x64.so\n</code></pre>\n<p>After the server was restarted. I have expected thatit will be successfully launched, but actially it was finished with the next error</p>\n<pre><code>FusionReactor JVMTI Revision: 9.1.0 Build: 1837.391d431697a9fcba6366edbd202476ca511a1fbb.9.1.0 \nWarning:  Could not initialize the framework - FusionReactor may be unavailable: No such file or directory\nWarning:  Could not initialize the framework - FusionReactor may be unavailable: No such file or directory\njava.io.IOException: No such file or directory\nat java.io.UnixFileSystem.createFileExclusively(Native Method)\nat java.io.File.createNewFile(File.java:1023)\nat com.intergral.fusionreactor.agent.frameworkhostmanager.FrameworkHostManager.init(FrameworkHostManager.java:82)\nat com.intergral.fusionreactor.agent.Agent.startup(Agent.java:525)\nat com.intergral.fusionreactor.agent.Agent.access$100(Agent.java:40)\nat com.intergral.fusionreactor.agent.Agent$2.run(Agent.java:272)\nat java.lang.Thread.run(Thread.java:750)\norg.apache.catalina.startup.ClassLoaderFactory validateFile\n</code></pre>\n<p>Why this error has occurred?</p>\n<p>I have add all grants for  libfrjvmti_x64.so, fusionreactor.jar, but it looks like unavailable.</p>\n"},{"tags":["java","git","eclipse","svn","configuration"],"comments":[{"owner":{"account_id":397129,"reputation":30060,"user_id":761095,"accept_rate":91,"display_name":"bahrep"},"score":0,"creation_date":1673274431,"post_id":75058085,"comment_id":132455500,"body_markdown":"AFAIK, with git you either clone the whole repo or nothing. With Subversion, you can check out a subdirectory, but with git you can&#39;t.","body":"AFAIK, with git you either clone the whole repo or nothing. With Subversion, you can check out a subdirectory, but with git you can&#39;t."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1673283493,"post_id":75058085,"comment_id":132459180,"body_markdown":"&quot;Its import only allows for repository roots to be entered.&quot; Show us, because many, many Git repositories contain more than one Eclipse workspace project.","body":"&quot;Its import only allows for repository roots to be entered.&quot; Show us, because many, many Git repositories contain more than one Eclipse workspace project."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1673346085,"post_id":75058085,"comment_id":132472791,"body_markdown":"Did you tried _File &gt; Open Projects from File System..._?","body":"Did you tried <i>File &gt; Open Projects from File System...</i>?"},{"owner":{"account_id":13830008,"reputation":89,"user_id":9983181,"display_name":"CoderMSL"},"score":0,"creation_date":1673352569,"post_id":75058085,"comment_id":132474792,"body_markdown":"Possible duplicate of https://stackoverflow.com/questions/600079/how-do-i-clone-a-subdirectory-only-of-a-git-repository and https://stackoverflow.com/questions/180052/checkout-subdirectories-in-git Please read following answers: https://stackoverflow.com/a/13738951/9983181\nhttps://stackoverflow.com/a/2303645/9983181","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/600079/how-do-i-clone-a-subdirectory-only-of-a-git-repository\" title=\"how do i clone a subdirectory only of a git repository\">stackoverflow.com/questions/600079/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/180052/checkout-subdirectories-in-git\" title=\"checkout subdirectories in git\">stackoverflow.com/questions/180052/&hellip;</a> Please read following answers: <a href=\"https://stackoverflow.com/a/13738951/9983181\">stackoverflow.com/a/13738951/9983181</a> <a href=\"https://stackoverflow.com/a/2303645/9983181\">stackoverflow.com/a/2303645/9983181</a>"}],"answers":[{"tags":[],"owner":{"account_id":13830008,"reputation":89,"user_id":9983181,"display_name":"CoderMSL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673355395,"creation_date":1673355395,"answer_id":75070332,"question_id":75058085,"body_markdown":"As you are migrating from SVN to GIT personally I strongly suggest you to change also way of working to use GIT in a more efficient way. So I think that you should consider if it&#39;s worth to split it into separate repositories (which is my suggestion). \r\n\r\nIt&#39;s like with a mobile phone and a smartphone. It&#39;s hard to change standard mobile phone and replace it with a new smartphone without changing your habits and way how you are going to use it, right? Or similar with migration from Windows to MacOS. It&#39;s hard to switch to MacOS and use it like it&#39;s a Windows system. \r\n\r\nHowever if you are still stick to SVN way of work please read about `sparse-checkout`: \r\nhttps://stackoverflow.com/a/13738951/9983181\r\n\r\nhttps://stackoverflow.com/a/2303645/9983181\r\n\r\nand git submodules:\r\n\r\nhttps://git-scm.com/book/en/v2/Git-Tools-Submodules\r\n","title":"how can I import a part of repository as an Eclipse project?","body":"<p>As you are migrating from SVN to GIT personally I strongly suggest you to change also way of working to use GIT in a more efficient way. So I think that you should consider if it's worth to split it into separate repositories (which is my suggestion).</p>\n<p>It's like with a mobile phone and a smartphone. It's hard to change standard mobile phone and replace it with a new smartphone without changing your habits and way how you are going to use it, right? Or similar with migration from Windows to MacOS. It's hard to switch to MacOS and use it like it's a Windows system.</p>\n<p>However if you are still stick to SVN way of work please read about <code>sparse-checkout</code>:\n<a href=\"https://stackoverflow.com/a/13738951/9983181\">https://stackoverflow.com/a/13738951/9983181</a></p>\n<p><a href=\"https://stackoverflow.com/a/2303645/9983181\">https://stackoverflow.com/a/2303645/9983181</a></p>\n<p>and git submodules:</p>\n<p><a href=\"https://git-scm.com/book/en/v2/Git-Tools-Submodules\" rel=\"nofollow noreferrer\">https://git-scm.com/book/en/v2/Git-Tools-Submodules</a></p>\n"}],"owner":{"account_id":22418943,"reputation":39,"user_id":16626558,"display_name":"Impatient Hippo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673355395,"creation_date":1673271457,"question_id":75058085,"body_markdown":"I am (finally) in the progress of migrating a svn repository to git. Transforming the repo itself was not much of a problem, but I cannot make Eclipse play well with the result. (I am kinda new to git, btw).\r\n\r\nThe repo contains amongst lots(!) of other things a subdirectory with java code which I would like to use in Eclipse as the base directory of a project. The SVN plugin offered a wizard I could use (New &gt; Other &gt; SVN &gt; Checkout Projects from SVN &gt; svn://host/repo/subdir), but the Git plugin does not seem to offer such kind of workflow. Its import only allows for repository roots to be entered.\r\n\r\nIs there a way to make git do my bidding\r\n* without ripping my repo into subrepositories \r\n* without creating some kind of git-svn proxy\r\n* by somehow connect the project to the repo after creation?\r\n\r\nDoes anyone have any ideas?\r\n\r\nI am running Eclipse 12/2022, Git Integration 6.4.0, Subclipse 4.3\r\n","title":"how can I import a part of repository as an Eclipse project?","body":"<p>I am (finally) in the progress of migrating a svn repository to git. Transforming the repo itself was not much of a problem, but I cannot make Eclipse play well with the result. (I am kinda new to git, btw).</p>\n<p>The repo contains amongst lots(!) of other things a subdirectory with java code which I would like to use in Eclipse as the base directory of a project. The SVN plugin offered a wizard I could use (New &gt; Other &gt; SVN &gt; Checkout Projects from SVN &gt; svn://host/repo/subdir), but the Git plugin does not seem to offer such kind of workflow. Its import only allows for repository roots to be entered.</p>\n<p>Is there a way to make git do my bidding</p>\n<ul>\n<li>without ripping my repo into subrepositories</li>\n<li>without creating some kind of git-svn proxy</li>\n<li>by somehow connect the project to the repo after creation?</li>\n</ul>\n<p>Does anyone have any ideas?</p>\n<p>I am running Eclipse 12/2022, Git Integration 6.4.0, Subclipse 4.3</p>\n"},{"tags":["java","amazon-web-services","docker","deployment"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1673356307,"post_id":75070317,"comment_id":132476135,"body_markdown":"Do you put Spring Boot war to Standalone Tomcat ?","body":"Do you put Spring Boot war to Standalone Tomcat ?"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1673356494,"post_id":75070317,"comment_id":132476216,"body_markdown":"If You packaging Spring Boot war for Stand alone Tomcat, You need add `&lt;scope&gt;provided&lt;/scope&gt;` , For `&lt;dependency&gt;\n\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;tomcat-embed-XXXX&lt;/artifactId&gt;\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\n\t\t&lt;/dependency&gt;`","body":"If You packaging Spring Boot war for Stand alone Tomcat, You need add <code>&lt;scope&gt;provided&lt;&#47;scope&gt;</code> , For <code>&lt;dependency&gt; \t&lt;groupId&gt;org.apache.tomcat.embed&lt;&#47;groupId&gt; \t\t\t&lt;artifactId&gt;tomcat-embed-XXXX&lt;&#47;artifactId&gt; \t\t\t&lt;scope&gt;provided&lt;&#47;scope&gt; \t\t&lt;&#47;dependency&gt;</code>"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1673356686,"post_id":75070317,"comment_id":132476285,"body_markdown":"Spring Boot 3.x need  run with JDK 17.","body":"Spring Boot 3.x need  run with JDK 17."},{"owner":{"account_id":27487600,"reputation":31,"user_id":20973578,"display_name":"kalkam"},"score":0,"creation_date":1673357038,"post_id":75070317,"comment_id":132476417,"body_markdown":"here is how i do it:\n````&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;11.0.0-M1&lt;/version&gt;\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\n\t\t&lt;/dependency&gt;````\n\nI run it with JDK 17","body":"here is how i do it: <code>&lt;dependency&gt; \t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;&#47;groupId&gt; \t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;&#47;artifactId&gt; \t\t\t&lt;version&gt;11.0.0-M1&lt;&#47;version&gt; \t\t\t&lt;scope&gt;provided&lt;&#47;scope&gt; \t\t&lt;&#47;dependency&gt;</code>  I run it with JDK 17"},{"owner":{"account_id":27487600,"reputation":31,"user_id":20973578,"display_name":"kalkam"},"score":0,"creation_date":1673357069,"post_id":75070317,"comment_id":132476428,"body_markdown":"I think its same as yours?","body":"I think its same as yours?"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1673357182,"post_id":75070317,"comment_id":132476462,"body_markdown":"Do you put war in standalone tomcat ? or Run it like `java -jar xxxx.war`?","body":"Do you put war in standalone tomcat ? or Run it like <code>java -jar xxxx.war</code>?"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1673357234,"post_id":75070317,"comment_id":132476488,"body_markdown":"Can you show you pom.xml ?","body":"Can you show you pom.xml ?"},{"owner":{"account_id":27487600,"reputation":31,"user_id":20973578,"display_name":"kalkam"},"score":0,"creation_date":1673357516,"post_id":75070317,"comment_id":132476604,"body_markdown":"i tried to run it with java -jar xxxx.war when i deployed it to railway.app\n\nI dont know how does AWS do it, but i just uploaded war to elastic beanstalk (i think its the same way as you writted)","body":"i tried to run it with java -jar xxxx.war when i deployed it to railway.app  I dont know how does AWS do it, but i just uploaded war to elastic beanstalk (i think its the same way as you writted)"},{"owner":{"account_id":27487600,"reputation":31,"user_id":20973578,"display_name":"kalkam"},"score":0,"creation_date":1673357638,"post_id":75070317,"comment_id":132476652,"body_markdown":"https://justpaste.it/bbig4\n\nhere is my pom bro","body":"<a href=\"https://justpaste.it/bbig4\" rel=\"nofollow noreferrer\">justpaste.it/bbig4</a>  here is my pom bro"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1673358004,"post_id":75070317,"comment_id":132476779,"body_markdown":"Your original Question, how do you run your spring boot web application ? (1) Run in Standalone Tomcat server (2) Run `java -jar xxx.war` (3) or others ?","body":"Your original Question, how do you run your spring boot web application ? (1) Run in Standalone Tomcat server (2) Run <code>java -jar xxx.war</code> (3) or others ?"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1673358112,"post_id":75070317,"comment_id":132476821,"body_markdown":"(1) If you want to use `java -jar xxxx.war` , change your Spring Boot version to 2.7.6, do not use Spring Boot 3.x. (2) And it is no need to add `version`.(For tomcat-embed-XXXX) (3) if you want to \n use  `java -jar xxxx.war` , Remove `&lt;scope&gt;provided&lt;/scope&gt;`","body":"(1) If you want to use <code>java -jar xxxx.war</code> , change your Spring Boot version to 2.7.6, do not use Spring Boot 3.x. (2) And it is no need to add <code>version</code>.(For tomcat-embed-XXXX) (3) if you want to   use  <code>java -jar xxxx.war</code> , Remove <code>&lt;scope&gt;provided&lt;&#47;scope&gt;</code>"},{"owner":{"account_id":27487600,"reputation":31,"user_id":20973578,"display_name":"kalkam"},"score":0,"creation_date":1673359916,"post_id":75070317,"comment_id":132477481,"body_markdown":"I used ````import jakarta.persistence.*;```` to mark annotations such as @Entity or @Table and it does not work now. Do you know what to do?","body":"I used <code>import jakarta.persistence.*;</code> to mark annotations such as @Entity or @Table and it does not work now. Do you know what to do?"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1673363591,"post_id":75070317,"comment_id":132478870,"body_markdown":"After change to Spring Boot version 2.7.6 ?","body":"After change to Spring Boot version 2.7.6 ?"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1673363799,"post_id":75070317,"comment_id":132478945,"body_markdown":"Spring Boot 2.7.6 use javax.xxxx; Spring Boot 3.x use jakarta.xxxx;","body":"Spring Boot 2.7.6 use javax.xxxx; Spring Boot 3.x use jakarta.xxxx;"},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1673372490,"post_id":75070317,"comment_id":132482258,"body_markdown":"You can create a Spring Boot app and deploy it to a container using AWS Fargate. I have done this successfully and it works fine. If you are not familiar with AWS Fargate, I suggest reading the AWS Fargate docs.","body":"You can create a Spring Boot app and deploy it to a container using AWS Fargate. I have done this successfully and it works fine. If you are not familiar with AWS Fargate, I suggest reading the AWS Fargate docs."},{"owner":{"account_id":27487600,"reputation":31,"user_id":20973578,"display_name":"kalkam"},"score":0,"creation_date":1673390561,"post_id":75070317,"comment_id":132487378,"body_markdown":"https://stackoverflow.com/questions/75076547/failed-to-start-webserverstartstop-spring-boot-app","body":"<a href=\"https://stackoverflow.com/questions/75076547/failed-to-start-webserverstartstop-spring-boot-app\" title=\"failed to start webserverstartstop spring boot app\">stackoverflow.com/questions/75076547/&hellip;</a>"}],"owner":{"account_id":27487600,"reputation":31,"user_id":20973578,"display_name":"kalkam"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673355313,"creation_date":1673355313,"question_id":75070317,"body_markdown":"I face that problem everytime i want to deploy my Spring Boot application which opens webserver at localhost:8080. It works at localhost.\r\n\r\n\r\n&gt; 2023-01-10T12:40:42.326Z  INFO 1 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n&gt; 2023-01-10T12:40:42.326Z  INFO 1 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.4]\r\n&gt; 2023-01-10T12:40:42.605Z ERROR 1 --- [           main] org.apache.catalina.core.ContainerBase   : A child container failed during start\r\n&gt; java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]\r\n&gt; at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:na]\r\n&gt; at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191) ~[na:na]\r\n&gt; at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:923) ~[tomcat-embed-core-10.1.4.jar!/:na]\r\n&gt; at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:886) ~[tomcat-embed-core-10.1.4.jar!/:na]\r\n&gt; at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.4.jar!/:na]\r\n&gt; at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1393) ~[tomcat-embed-core-10.1.4.jar!/:na]\r\n&gt; at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1383) ~[tomcat-embed-core-10.1.4.jar!/:na]\r\n&gt; at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n&gt; at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.4.jar!/:11.0.0-M1]\r\n&gt; at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n&gt; at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916) ~[tomcat-embed-core-10.1.4.jar!/:na]\r\n&gt; at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:252) ~[tomcat-embed-core-10.1.4.jar!/:na]\r\n&gt; at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.4.jar!/:na]\r\n&gt; at org.apache.catalina.core.StandardService.startInternal(StandardService.java:430) ~[tomcat-embed-core-10.1.4.jar!/:na]\r\n&gt; at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.4.jar!/:na]\r\n&gt; at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:926) ~[tomcat-embed-core-10.1.4.jar!/:na]\r\n&gt; at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.4.jar!/:na]\r\n&gt; at org.apache.catalina.startup.Tomcat.start(Tomcat.java:485) ~[tomcat-embed-core-10.1.4.jar!/:na]\r\n&gt; at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-3.0.1.jar!/:3.0.1]\r\n&gt; at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-3.0.1.jar!/:3.0.1]\r\n&gt; at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:486) ~[spring-boot-3.0.1.jar!/:3.0.1]\r\n&gt; at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:210) ~[spring-boot-3.0.1.jar!/:3.0.1]\r\n&gt; at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:183) ~[spring-boot-3.0.1.jar!/:3.0.1]\r\n&gt; at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:161) ~[spring-boot-3.0.1.jar!/:3.0.1]\r\n&gt; at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:578) ~[spring-context-6.0.3.jar!/:6.0.3]\r\n&gt; at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.1.jar!/:3.0.1]\r\n&gt; at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.1.jar!/:3.0.1]\r\n&gt; at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.1.jar!/:3.0.1]\r\n&gt; at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.1.jar!/:3.0.1]\r\n&gt; at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.1.jar!/:3.0.1]\r\n&gt; at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.1.jar!/:3.0.1]\r\n&gt; at com.example.RappersInfo.demo.RappersInfo.main(RappersInfo.java:19) ~[classes!/:0.0.1-SNAPSHOT]\r\n&gt; at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n&gt; at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n&gt; at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n&gt; at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n&gt; at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[demo-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n&gt; at org.springframework.boot.loader.Launcher.launch(Launcher.java:95) ~[demo-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n&gt; at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[demo-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n&gt; at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[demo-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n&gt; Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]\r\n&gt; at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440) ~[tomcat-embed-core-10.1.4.jar!/:na]\r\n&gt; at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198) ~[tomcat-embed-core-10.1.4.jar!/:na]\r\n&gt; at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1393) ~[tomcat-embed-core-10.1.4.jar!/:na]\r\n&gt; at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1383) ~[tomcat-embed-core-10.1.4.jar!/:na]\r\n&gt; at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n&gt; at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.4.jar!/:11.0.0-M1]\r\n&gt; at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n&gt; at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916) ~[tomcat-embed-core-10.1.4.jar!/:na]\r\n&gt; 37 common frames omitted\r\n&gt; Caused by: java.lang.IllegalStateException: zip file closed\r\n&gt; at java.base/java.util.zip.ZipFile.ensureOpen(ZipFile.java:831) ~[na:na]\r\n&gt; at java.base/java.util.zip.ZipFile.getManifestName(ZipFile.java:1057) ~[na:na]\r\n&gt; at java.base/java.util.zip.ZipFile$1.getManifestName(ZipFile.java:1100) ~[na:na]\r\n&gt; at java.base/java.util.jar.JarFile.getManEntry(JarFile.java:937) ~[na:na]\r\n&gt; at java.base/java.util.jar.JarFile.checkForSpecialAttributes(JarFile.java:1000) ~[na:na]\r\n&gt; at java.base/java.util.jar.JarFile.isMultiRelease(JarFile.java:389) ~[na:na]\r\n&gt; at org.apache.tomcat.util.scan.JarFileUrlJar.&lt;init&gt;(JarFileUrlJar.java:68) ~[tomcat-embed-core-10.1.4.jar!/:11.0.0-M1]\r\n&gt; at org.apache.tomcat.util.scan.JarFactory.newInstance(JarFactory.java:41) ~[tomcat-embed-core-10.1.4.jar!/:11.0.0-M1]\r\n&gt; at org.apache.tomcat.util.scan.StandardJarScanner.process(StandardJarScanner.java:393) ~[tomcat-embed-core-10.1.4.jar!/:11.0.0-M1]\r\n&gt; at org.apache.tomcat.util.scan.StandardJarScanner.processURLs(StandardJarScanner.java:328) ~[tomcat-embed-core-10.1.4.jar!/:11.0.0-M1]\r\n&gt; at org.apache.tomcat.util.scan.StandardJarScanner.doScanClassPath(StandardJarScanner.java:271) ~[tomcat-embed-core-10.1.4.jar!/:11.0.0-M1]\r\n&gt; at org.apache.tomcat.util.scan.StandardJarScanner.scan(StandardJarScanner.java:234) ~[tomcat-embed-core-10.1.4.jar!/:11.0.0-M1]\r\n&gt; at org.apache.jasper.servlet.TldScanner.scanJars(TldScanner.java:262) ~[tomcat-embed-jasper-11.0.0-M1.jar!/:11.0.0-M1]\r\n&gt; at org.apache.jasper.servlet.TldScanner.scan(TldScanner.java:104) ~[tomcat-embed-jasper-11.0.0-M1.jar!/:11.0.0-M1]\r\n&gt; at org.apache.jasper.servlet.JasperInitializer.onStartup(JasperInitializer.java:83) ~[tomcat-embed-jasper-11.0.0-M1.jar!/:11.0.0-M1]\r\n&gt; at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5144) ~[tomcat-embed-core-10.1.4.jar!/:na]\r\n&gt; at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.4.jar!/:na]\r\n&gt; 43 common frames omitted\r\n&gt; 2023-01-10T12:40:42.615Z ERROR 1 --- [           main] org.apache.catalina.core.ContainerBase   : A child container failed during start\r\n&gt; java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: A child container failed during start\r\n&gt; at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:na]\r\n&gt; at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191) ~[na:na]\r\n&gt; at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:923) ~[tomcat-embed-core-10.1.4.jar!/:na]\r\n&gt; at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:252) ~[tomcat-embed-core-10.1.4.jar!/:na]\r\n&gt; at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.4.jar!/:na]\r\n&gt; at org.apache.catalina.core.StandardService.startInternal(StandardService.java:430) ~[tomcat-embed-core-10.1.4.jar!/:na]\r\n&gt; at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.4.jar!/:na]\r\n&gt; at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:926) ~[tomcat-embed-core-10.1.4.jar!/:na]\r\n&gt; at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.4.jar!/:na]`\r\n&gt; at org.apache.catalina.startup.Tomcat.start(Tomcat.java:485) ~[tomcat-embed-core-10.1.4.jar!/:na]\r\n&gt; at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-3.0.1.jar!/:3.0.1]\r\n&gt; at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-3.0.1.jar!/:3.0.1]\r\n\r\n\r\nWhat can i do?\r\n\r\nI tried changing it to war and it deploys sucessfully to docker image but it doesnt work for AWS and railway.app or any other cloud.\r\n\r\nAnd general question, somehow related to this one:\r\n\r\nHow can i deploy my app in other way which is good-practice for the future? I mean should I maybe try other way than deploying it to cloud, for example running it on my PC and then changing some ports in my router?\r\n\r\nI want my app to be visible in public domain.\r\n\r\nI also have Raspberry Pi so it could be my server.","title":"&quot;zip file closed&quot; when deploying Spring Boot application to AWS/railway.app/docker","body":"<p>I face that problem everytime i want to deploy my Spring Boot application which opens webserver at localhost:8080. It works at localhost.</p>\n<blockquote>\n<p>2023-01-10T12:40:42.326Z  INFO 1 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-01-10T12:40:42.326Z  INFO 1 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.4]\n2023-01-10T12:40:42.605Z ERROR 1 --- [           main] org.apache.catalina.core.ContainerBase   : A child container failed during start\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]\nat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:na]\nat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191) ~[na:na]\nat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:923) ~[tomcat-embed-core-10.1.4.jar!/:na]\nat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:886) ~[tomcat-embed-core-10.1.4.jar!/:na]\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.4.jar!/:na]\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1393) ~[tomcat-embed-core-10.1.4.jar!/:na]\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1383) ~[tomcat-embed-core-10.1.4.jar!/:na]\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\nat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.4.jar!/:11.0.0-M1]\nat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\nat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916) ~[tomcat-embed-core-10.1.4.jar!/:na]\nat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:252) ~[tomcat-embed-core-10.1.4.jar!/:na]\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.4.jar!/:na]\nat org.apache.catalina.core.StandardService.startInternal(StandardService.java:430) ~[tomcat-embed-core-10.1.4.jar!/:na]\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.4.jar!/:na]\nat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:926) ~[tomcat-embed-core-10.1.4.jar!/:na]\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.4.jar!/:na]\nat org.apache.catalina.startup.Tomcat.start(Tomcat.java:485) ~[tomcat-embed-core-10.1.4.jar!/:na]\nat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-3.0.1.jar!/:3.0.1]\nat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.(TomcatWebServer.java:104) ~[spring-boot-3.0.1.jar!/:3.0.1]\nat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:486) ~[spring-boot-3.0.1.jar!/:3.0.1]\nat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:210) ~[spring-boot-3.0.1.jar!/:3.0.1]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:183) ~[spring-boot-3.0.1.jar!/:3.0.1]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:161) ~[spring-boot-3.0.1.jar!/:3.0.1]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:578) ~[spring-context-6.0.3.jar!/:6.0.3]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.1.jar!/:3.0.1]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.1.jar!/:3.0.1]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.1.jar!/:3.0.1]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.1.jar!/:3.0.1]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.1.jar!/:3.0.1]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.1.jar!/:3.0.1]\nat com.example.RappersInfo.demo.RappersInfo.main(RappersInfo.java:19) ~[classes!/:0.0.1-SNAPSHOT]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\nat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[demo-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\nat org.springframework.boot.loader.Launcher.launch(Launcher.java:95) ~[demo-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\nat org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[demo-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\nat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[demo-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]\nat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440) ~[tomcat-embed-core-10.1.4.jar!/:na]\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198) ~[tomcat-embed-core-10.1.4.jar!/:na]\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1393) ~[tomcat-embed-core-10.1.4.jar!/:na]\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1383) ~[tomcat-embed-core-10.1.4.jar!/:na]\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\nat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.4.jar!/:11.0.0-M1]\nat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\nat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916) ~[tomcat-embed-core-10.1.4.jar!/:na]\n37 common frames omitted\nCaused by: java.lang.IllegalStateException: zip file closed\nat java.base/java.util.zip.ZipFile.ensureOpen(ZipFile.java:831) ~[na:na]\nat java.base/java.util.zip.ZipFile.getManifestName(ZipFile.java:1057) ~[na:na]\nat java.base/java.util.zip.ZipFile$1.getManifestName(ZipFile.java:1100) ~[na:na]\nat java.base/java.util.jar.JarFile.getManEntry(JarFile.java:937) ~[na:na]\nat java.base/java.util.jar.JarFile.checkForSpecialAttributes(JarFile.java:1000) ~[na:na]\nat java.base/java.util.jar.JarFile.isMultiRelease(JarFile.java:389) ~[na:na]\nat org.apache.tomcat.util.scan.JarFileUrlJar.(JarFileUrlJar.java:68) ~[tomcat-embed-core-10.1.4.jar!/:11.0.0-M1]\nat org.apache.tomcat.util.scan.JarFactory.newInstance(JarFactory.java:41) ~[tomcat-embed-core-10.1.4.jar!/:11.0.0-M1]\nat org.apache.tomcat.util.scan.StandardJarScanner.process(StandardJarScanner.java:393) ~[tomcat-embed-core-10.1.4.jar!/:11.0.0-M1]\nat org.apache.tomcat.util.scan.StandardJarScanner.processURLs(StandardJarScanner.java:328) ~[tomcat-embed-core-10.1.4.jar!/:11.0.0-M1]\nat org.apache.tomcat.util.scan.StandardJarScanner.doScanClassPath(StandardJarScanner.java:271) ~[tomcat-embed-core-10.1.4.jar!/:11.0.0-M1]\nat org.apache.tomcat.util.scan.StandardJarScanner.scan(StandardJarScanner.java:234) ~[tomcat-embed-core-10.1.4.jar!/:11.0.0-M1]\nat org.apache.jasper.servlet.TldScanner.scanJars(TldScanner.java:262) ~[tomcat-embed-jasper-11.0.0-M1.jar!/:11.0.0-M1]\nat org.apache.jasper.servlet.TldScanner.scan(TldScanner.java:104) ~[tomcat-embed-jasper-11.0.0-M1.jar!/:11.0.0-M1]\nat org.apache.jasper.servlet.JasperInitializer.onStartup(JasperInitializer.java:83) ~[tomcat-embed-jasper-11.0.0-M1.jar!/:11.0.0-M1]\nat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5144) ~[tomcat-embed-core-10.1.4.jar!/:na]\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.4.jar!/:na]\n43 common frames omitted\n2023-01-10T12:40:42.615Z ERROR 1 --- [           main] org.apache.catalina.core.ContainerBase   : A child container failed during start\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: A child container failed during start\nat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:na]\nat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191) ~[na:na]\nat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:923) ~[tomcat-embed-core-10.1.4.jar!/:na]\nat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:252) ~[tomcat-embed-core-10.1.4.jar!/:na]\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.4.jar!/:na]\nat org.apache.catalina.core.StandardService.startInternal(StandardService.java:430) ~[tomcat-embed-core-10.1.4.jar!/:na]\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.4.jar!/:na]\nat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:926) ~[tomcat-embed-core-10.1.4.jar!/:na]\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.4.jar!/:na]`\nat org.apache.catalina.startup.Tomcat.start(Tomcat.java:485) ~[tomcat-embed-core-10.1.4.jar!/:na]\nat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-3.0.1.jar!/:3.0.1]\nat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.(TomcatWebServer.java:104) ~[spring-boot-3.0.1.jar!/:3.0.1]</p>\n</blockquote>\n<p>What can i do?</p>\n<p>I tried changing it to war and it deploys sucessfully to docker image but it doesnt work for AWS and railway.app or any other cloud.</p>\n<p>And general question, somehow related to this one:</p>\n<p>How can i deploy my app in other way which is good-practice for the future? I mean should I maybe try other way than deploying it to cloud, for example running it on my PC and then changing some ports in my router?</p>\n<p>I want my app to be visible in public domain.</p>\n<p>I also have Raspberry Pi so it could be my server.</p>\n"},{"tags":["java","animated-gif","trayicon"],"comments":[{"owner":{"account_id":4571235,"reputation":938,"user_id":3710879,"display_name":"Pablo Gallego Falc&#243;n"},"score":0,"creation_date":1419608683,"post_id":27658796,"comment_id":43733758,"body_markdown":"There is a similar question here:\r\nhttp://stackoverflow.com/questions/12707401/blinking-tray-icon","body":"There is a similar question here:  <a href=\"http://stackoverflow.com/questions/12707401/blinking-tray-icon\">stackoverflow.com/questions/12707401/blinking-tray-icon</a>"}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1419609141,"creation_date":1419608686,"answer_id":27659053,"question_id":27658796,"body_markdown":"Check out the Swing tutorial on [How to Use the System Tray](http://docs.oracle.com/javase/tutorial/uiswing/misc/systemtray.html).\r\n\r\nI just changed the gif and it worked fine for me. \r\n\r\nThe gif I was using was 16x16. I also tried with a 137x116 gif and it worked, although I first had to right click on the &quot;empty area&quot; in the tray and then select the &quot;Auto size&quot; option.","title":"Java TrayIcon image to be animated","body":"<p>Check out the Swing tutorial on <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/misc/systemtray.html\" rel=\"nofollow\">How to Use the System Tray</a>.</p>\n\n<p>I just changed the gif and it worked fine for me. </p>\n\n<p>The gif I was using was 16x16. I also tried with a 137x116 gif and it worked, although I first had to right click on the \"empty area\" in the tray and then select the \"Auto size\" option.</p>\n"},{"tags":[],"owner":{"account_id":1380605,"reputation":157,"user_id":1313699,"display_name":"Branislav Kuliha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673355117,"creation_date":1673355117,"answer_id":75070278,"question_id":27658796,"body_markdown":"Old question, but in case anyone needs this like me - you have to load the GIF image with `new ImageIcon` and not `ImageIO.read`.\r\n\r\n    trayImage = ImageIO.read(getClass().getClassLoader().getResource(&quot;logo.gif&quot;)); // DOESN&#39;T WORK\r\n    trayImage = new ImageIcon(getClass().getClassLoader().getResource(&quot;logo.gif&quot;)).getImage(); // WORKS","title":"Java TrayIcon image to be animated","body":"<p>Old question, but in case anyone needs this like me - you have to load the GIF image with <code>new ImageIcon</code> and not <code>ImageIO.read</code>.</p>\n<pre><code>trayImage = ImageIO.read(getClass().getClassLoader().getResource(&quot;logo.gif&quot;)); // DOESN'T WORK\ntrayImage = new ImageIcon(getClass().getClassLoader().getResource(&quot;logo.gif&quot;)).getImage(); // WORKS\n</code></pre>\n"}],"owner":{"account_id":119476,"reputation":2837,"user_id":311188,"accept_rate":32,"display_name":"FlamingMoe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1006,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1673355117,"creation_date":1419607055,"question_id":27658796,"body_markdown":"In Java documentation about TrayIcon&#39;s setImage method (http://docs.oracle.com/javase/7/docs/api/java/awt/TrayIcon.html#setImage(java.awt.Image) says:\r\n\r\n    If the image represents an animated image, it will be animated automatically.\r\n\r\nBut I can&#39;t get an animated image in the trayicon.\r\n\r\nI&#39;ve tested with PNG and GIF animated, 32x32, 64x64 and 128x128 combinations. But no one works.\r\n\r\nIs there any specific format to thses animated tray icon images ?","title":"Java TrayIcon image to be animated","body":"<p>In Java documentation about TrayIcon's setImage method (<a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/TrayIcon.html#setImage(java.awt.Image)\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/awt/TrayIcon.html#setImage(java.awt.Image)</a> says:</p>\n\n<pre><code>If the image represents an animated image, it will be animated automatically.\n</code></pre>\n\n<p>But I can't get an animated image in the trayicon.</p>\n\n<p>I've tested with PNG and GIF animated, 32x32, 64x64 and 128x128 combinations. But no one works.</p>\n\n<p>Is there any specific format to thses animated tray icon images ?</p>\n"},{"tags":["java","android","typescript","react-native","command-line-interface"],"answers":[{"tags":[],"owner":{"account_id":3319649,"reputation":2683,"user_id":2791142,"display_name":"Kirill Novikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671112384,"creation_date":1671112384,"answer_id":74812645,"question_id":74807023,"body_markdown":"You should create Native module as described in RN documentation https://reactnative.dev/docs/native-modules-android because you need to provide a way of communication between JS and Native side.","title":"Is there a clean way to call an external sdk with Java files in React Native?","body":"<p>You should create Native module as described in RN documentation <a href=\"https://reactnative.dev/docs/native-modules-android\" rel=\"nofollow noreferrer\">https://reactnative.dev/docs/native-modules-android</a> because you need to provide a way of communication between JS and Native side.</p>\n"}],"owner":{"account_id":23999971,"reputation":108,"user_id":17985021,"display_name":"Aerith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673354250,"creation_date":1671080734,"question_id":74807023,"body_markdown":"I have a React Native cli project for an Android app. I want to use a java sdk to call some functions from there for my Android app. Since this is an sdk that changes I don&#39;t want to change the java code inside of this (so I can&#39;t change the code to use NativeModules). Is there a clean solution for my problem or would it be possible to make another Folder where I have Java files that implement the NativeModules and just call the original Java files from the sdk?","title":"Is there a clean way to call an external sdk with Java files in React Native?","body":"<p>I have a React Native cli project for an Android app. I want to use a java sdk to call some functions from there for my Android app. Since this is an sdk that changes I don't want to change the java code inside of this (so I can't change the code to use NativeModules). Is there a clean solution for my problem or would it be possible to make another Folder where I have Java files that implement the NativeModules and just call the original Java files from the sdk?</p>\n"},{"tags":["javascript","java","html","jsp"],"answers":[{"tags":[],"owner":{"account_id":112084,"reputation":171457,"user_id":295783,"accept_rate":81,"display_name":"mplungjan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673354181,"creation_date":1673354181,"answer_id":75070079,"question_id":75069964,"body_markdown":"Try delegation and do not follow the link\r\n\r\n    document.getElementById(&quot;someContainerId&quot;).addEventListener(&quot;click&quot;, e =&gt; {\r\n      const tgt = e.target;\r\n      if (!tgt.matches(&#39;data-toggle&#39;)) return; // not a link\r\n      e.preventDefault(); // stop the click on the link\r\n      document.getElementById(&#39;send_mess_btn&#39;).value = this.dataset.username;\r\n    })\r\n\r\nwhere you have changed the link to \r\n\r\n     &lt;a href=&quot;#&lt;%=acc.selectByUsername(listamit.get(l)).getUsername()%&gt;&quot; data-username=&quot;&lt;%=param%&gt;&quot; data-toggle=&quot;tab&quot;&gt;\r\n\r\nchange \r\n\r\n    getElementById(&quot;someContainerId&quot;)\r\n\r\nto a selector that is the nearest static container selector to the links","title":"Change a button value with js in a JSP","body":"<p>Try delegation and do not follow the link</p>\n<pre><code>document.getElementById(&quot;someContainerId&quot;).addEventListener(&quot;click&quot;, e =&gt; {\n  const tgt = e.target;\n  if (!tgt.matches('data-toggle')) return; // not a link\n  e.preventDefault(); // stop the click on the link\n  document.getElementById('send_mess_btn').value = this.dataset.username;\n})\n</code></pre>\n<p>where you have changed the link to</p>\n<pre><code> &lt;a href=&quot;#&lt;%=acc.selectByUsername(listamit.get(l)).getUsername()%&gt;&quot; data-username=&quot;&lt;%=param%&gt;&quot; data-toggle=&quot;tab&quot;&gt;\n</code></pre>\n<p>change</p>\n<pre><code>getElementById(&quot;someContainerId&quot;)\n</code></pre>\n<p>to a selector that is the nearest static container selector to the links</p>\n"}],"owner":{"account_id":16210405,"reputation":17,"user_id":11704574,"display_name":"Claudio Rizzi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673354181,"creation_date":1673353569,"question_id":75069964,"body_markdown":"I have a link list generate dynamically in a form in the type of\r\n\r\n        &lt;%String param = acc.selectByUsername(listamit.get(l)).getUsername();%&gt;\r\n        &lt;a href=&quot;#&lt;%=acc.selectByUsername(listamit.get(l)).getUsername()%&gt;&quot; onclick=&quot;myFunction(&#39;&lt;%=param%&gt;&#39;)&quot; data-toggle=&quot;tab&quot;&gt;\r\n\r\nit insert in the &quot;a&quot; href and id of the type #username\r\nwhen i click on each different link i want to call a function that it`s in the head:\r\n\r\n        &lt;script type=&quot;text/javascript&quot;&gt;\r\n           \tmyFunction(str){\r\n           \t\tdocument.getElementById(&quot;send_mess_btn&quot;).value = str;\r\n           \t}\r\n\t    &lt;/script&gt;\r\n\r\nand change the value of this button that is a submit of a form to use it as a parameter in a servlet:\r\n\r\n        &lt;form action=&quot;insert_message?chat=yes&quot; method=&quot;post&quot;&gt;\r\n\t       &lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;text_send_mess&quot; placeholder=&quot;Scrivi il tuo messaggio&quot;&gt;\r\n\t       &lt;span class=&quot;input-group-btn&quot;&gt;\r\n\t          &lt;button class=&quot;btn btn-default&quot; id=&quot;send_mess_btn&quot; value=&quot;&quot; type=&quot;submit&quot;&gt;Invia&lt;/button&gt;         \r\n\t       &lt;/span&gt;\r\n\t    &lt;/form&gt;\r\n\r\nThis don`t work for me.. so thank you for your help.","title":"Change a button value with js in a JSP","body":"<p>I have a link list generate dynamically in a form in the type of</p>\n<pre><code>    &lt;%String param = acc.selectByUsername(listamit.get(l)).getUsername();%&gt;\n    &lt;a href=&quot;#&lt;%=acc.selectByUsername(listamit.get(l)).getUsername()%&gt;&quot; onclick=&quot;myFunction('&lt;%=param%&gt;')&quot; data-toggle=&quot;tab&quot;&gt;\n</code></pre>\n<p>it insert in the &quot;a&quot; href and id of the type #username\nwhen i click on each different link i want to call a function that it`s in the head:</p>\n<pre><code>    &lt;script type=&quot;text/javascript&quot;&gt;\n        myFunction(str){\n            document.getElementById(&quot;send_mess_btn&quot;).value = str;\n        }\n    &lt;/script&gt;\n</code></pre>\n<p>and change the value of this button that is a submit of a form to use it as a parameter in a servlet:</p>\n<pre><code>    &lt;form action=&quot;insert_message?chat=yes&quot; method=&quot;post&quot;&gt;\n       &lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;text_send_mess&quot; placeholder=&quot;Scrivi il tuo messaggio&quot;&gt;\n       &lt;span class=&quot;input-group-btn&quot;&gt;\n          &lt;button class=&quot;btn btn-default&quot; id=&quot;send_mess_btn&quot; value=&quot;&quot; type=&quot;submit&quot;&gt;Invia&lt;/button&gt;         \n       &lt;/span&gt;\n    &lt;/form&gt;\n</code></pre>\n<p>This don`t work for me.. so thank you for your help.</p>\n"},{"tags":["java","sql","spring","jpa","jpql"],"answers":[{"tags":[],"owner":{"account_id":8986732,"reputation":1074,"user_id":6700091,"display_name":"Kamil Bęben"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673341164,"creation_date":1673341164,"answer_id":75067596,"question_id":75067582,"body_markdown":"You can do this using JpaSpecificationExecutor ([scroll down to section 5][1]\r\n\r\nThis way you can programmatically define what fields are you going to add to your where clause, like this .:\r\n\r\n    (Specification&lt;Book&gt;) (book, cq, cb) -&gt;\r\n      cb.and(\r\n        // You can dynamically construct that array of predicates based on which fields are set in the form\r\n        cb.like(book.get(&quot;author&quot;), &quot;%&quot; + author + &quot;%&quot;),\r\n        cb.like(book.get(&quot;title&quot;), &quot;%&quot; + title + &quot;%&quot;)\r\n      )\r\n\r\n  [1]: https://www.baeldung.com/spring-data-criteria-queries","title":"JPQL select based on non null dto values","body":"<p>You can do this using JpaSpecificationExecutor (<a href=\"https://www.baeldung.com/spring-data-criteria-queries\" rel=\"nofollow noreferrer\">scroll down to section 5</a></p>\n<p>This way you can programmatically define what fields are you going to add to your where clause, like this .:</p>\n<pre><code>(Specification&lt;Book&gt;) (book, cq, cb) -&gt;\n  cb.and(\n    // You can dynamically construct that array of predicates based on which fields are set in the form\n    cb.like(book.get(&quot;author&quot;), &quot;%&quot; + author + &quot;%&quot;),\n    cb.like(book.get(&quot;title&quot;), &quot;%&quot; + title + &quot;%&quot;)\n  )\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2484523,"reputation":111,"user_id":2163230,"display_name":"Rafael de Oliveira Maia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673341600,"creation_date":1673341600,"answer_id":75067677,"question_id":75067582,"body_markdown":"one alternative is to use Spring Data JPA Specification. \r\n\r\nWith that you can create your criteria search for the fields that are present. \r\n\r\n```\r\npublic Predicate toPredicate\r\n      (Root&lt;User&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {\r\n \r\n        if (criteria.getOperation().equalsIgnoreCase(&quot;&gt;&quot;)) {\r\n            return builder.greaterThanOrEqualTo(\r\n              root.&lt;String&gt; get(criteria.getKey()), criteria.getValue().toString());\r\n        } \r\n        else if (criteria.getOperation().equalsIgnoreCase(&quot;&lt;&quot;)) {\r\n            return builder.lessThanOrEqualTo(\r\n              root.&lt;String&gt; get(criteria.getKey()), criteria.getValue().toString());\r\n        } \r\n        else if (criteria.getOperation().equalsIgnoreCase(&quot;:&quot;)) {\r\n            if (root.get(criteria.getKey()).getJavaType() == String.class) {\r\n                return builder.like(\r\n                  root.&lt;String&gt;get(criteria.getKey()), &quot;%&quot; + criteria.getValue() + &quot;%&quot;);\r\n            } else {\r\n                return builder.equal(root.get(criteria.getKey()), criteria.getValue());\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n```\r\nreference: https://www.baeldung.com/rest-api-search-language-spring-data-specifications\r\n\r\n","title":"JPQL select based on non null dto values","body":"<p>one alternative is to use Spring Data JPA Specification.</p>\n<p>With that you can create your criteria search for the fields that are present.</p>\n<pre><code>public Predicate toPredicate\n      (Root&lt;User&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {\n \n        if (criteria.getOperation().equalsIgnoreCase(&quot;&gt;&quot;)) {\n            return builder.greaterThanOrEqualTo(\n              root.&lt;String&gt; get(criteria.getKey()), criteria.getValue().toString());\n        } \n        else if (criteria.getOperation().equalsIgnoreCase(&quot;&lt;&quot;)) {\n            return builder.lessThanOrEqualTo(\n              root.&lt;String&gt; get(criteria.getKey()), criteria.getValue().toString());\n        } \n        else if (criteria.getOperation().equalsIgnoreCase(&quot;:&quot;)) {\n            if (root.get(criteria.getKey()).getJavaType() == String.class) {\n                return builder.like(\n                  root.&lt;String&gt;get(criteria.getKey()), &quot;%&quot; + criteria.getValue() + &quot;%&quot;);\n            } else {\n                return builder.equal(root.get(criteria.getKey()), criteria.getValue());\n            }\n        }\n        return null;\n    }\n</code></pre>\n<p>reference: <a href=\"https://www.baeldung.com/rest-api-search-language-spring-data-specifications\" rel=\"nofollow noreferrer\">https://www.baeldung.com/rest-api-search-language-spring-data-specifications</a></p>\n"},{"tags":[],"owner":{"account_id":7788110,"reputation":1429,"user_id":6306585,"accept_rate":60,"display_name":"Shakirov Ramil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673354066,"creation_date":1673354066,"answer_id":75070047,"question_id":75067582,"body_markdown":"You can try Example query.\r\n\r\nhttps://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html/ch17.html#querycriteria-examples\r\n\r\nExample queries\r\nThe class org.hibernate.criterion.Example allows you to construct a query criterion from a given instance.\r\n\r\n    Cat cat = new Cat();\r\n    cat.setSex(&#39;F&#39;);\r\n    cat.setColor(Color.BLACK);\r\n    List results = session.createCriteria(Cat.class)\r\n        .add( Example.create(cat) )\r\n        .list();\r\n\r\nVersion properties, identifiers and associations are ignored. By default, null valued properties are excluded.\r\n\r\nYou can adjust how the Example is applied.\r\n\r\n    Example example = Example.create(cat)\r\n        .excludeZeroes()           //exclude zero valued properties\r\n        .excludeProperty(&quot;color&quot;)  //exclude the property named &quot;color&quot;\r\n        .ignoreCase()              //perform case insensitive string comparisons\r\n        .enableLike();             //use like for string comparisons\r\n    List results = session.createCriteria(Cat.class)\r\n        .add(example)\r\n        .list();\r\n\r\nYou can even use examples to place criteria upon associated objects.\r\n\r\n    List results = session.createCriteria(Cat.class)\r\n        .add( Example.create(cat) )\r\n        .createCriteria(&quot;mate&quot;)\r\n            .add( Example.create( cat.getMate() ) )\r\n        .list();","title":"JPQL select based on non null dto values","body":"<p>You can try Example query.</p>\n<p><a href=\"https://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html/ch17.html#querycriteria-examples\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html/ch17.html#querycriteria-examples</a></p>\n<p>Example queries\nThe class org.hibernate.criterion.Example allows you to construct a query criterion from a given instance.</p>\n<pre><code>Cat cat = new Cat();\ncat.setSex('F');\ncat.setColor(Color.BLACK);\nList results = session.createCriteria(Cat.class)\n    .add( Example.create(cat) )\n    .list();\n</code></pre>\n<p>Version properties, identifiers and associations are ignored. By default, null valued properties are excluded.</p>\n<p>You can adjust how the Example is applied.</p>\n<pre><code>Example example = Example.create(cat)\n    .excludeZeroes()           //exclude zero valued properties\n    .excludeProperty(&quot;color&quot;)  //exclude the property named &quot;color&quot;\n    .ignoreCase()              //perform case insensitive string comparisons\n    .enableLike();             //use like for string comparisons\nList results = session.createCriteria(Cat.class)\n    .add(example)\n    .list();\n</code></pre>\n<p>You can even use examples to place criteria upon associated objects.</p>\n<pre><code>List results = session.createCriteria(Cat.class)\n    .add( Example.create(cat) )\n    .createCriteria(&quot;mate&quot;)\n        .add( Example.create( cat.getMate() ) )\n    .list();\n</code></pre>\n"}],"owner":{"account_id":9614093,"reputation":39,"user_id":7137509,"display_name":"Ahmed M. Elzubair"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1673354066,"creation_date":1673341059,"question_id":75067582,"body_markdown":"Hi everyone I am using spring JPA and I am trying to filter my query result based on nonnull DTO field values. \r\n\r\nThe reason is every time I have different DTO fields and I should get books based on just the existing fields or in other words the nonnull fields.\r\n\r\nMy DB table is books and I have the following DTO for it\r\n\r\n    public class BookDTO {\r\n    private String name;\r\n    private String title;\r\n    private String isbn;\r\n    private String author;\r\n    private int pages;\r\n    private String size;\r\n    }\r\n\r\nI searched over the web but I didn&#39;t find a solution for this kind of issue anyway to achieve this using Spring JPQL\r\n","title":"JPQL select based on non null dto values","body":"<p>Hi everyone I am using spring JPA and I am trying to filter my query result based on nonnull DTO field values.</p>\n<p>The reason is every time I have different DTO fields and I should get books based on just the existing fields or in other words the nonnull fields.</p>\n<p>My DB table is books and I have the following DTO for it</p>\n<pre><code>public class BookDTO {\nprivate String name;\nprivate String title;\nprivate String isbn;\nprivate String author;\nprivate int pages;\nprivate String size;\n}\n</code></pre>\n<p>I searched over the web but I didn't find a solution for this kind of issue anyway to achieve this using Spring JPQL</p>\n"},{"tags":["java","multithreading","gatk"],"answers":[{"tags":[],"owner":{"account_id":10247288,"reputation":366,"user_id":7562715,"display_name":"dthorbur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644944550,"creation_date":1644944550,"answer_id":71130481,"question_id":71053941,"body_markdown":"In case anyone else has the same problem, it turned out I had to configure the submission as an MPI job. \r\n\r\nSo on the HPC I use, here is the nextflow process:\r\n```\r\nprocess DNA_HCG {\r\n  errorStrategy { sleep(Math.pow(2, task.attempt) * 600 as long); return &#39;retry&#39; }\r\n  maxRetries 3\r\n  maxForks params.HCG_Forks\r\n\r\n  tag { SampleID+&quot;-&quot;+chrom }\r\n\r\n  executor = &#39;pbspro&#39;\r\n  clusterOptions = &quot;-lselect=1:ncpus=${params.HCG_threads}:mem=${params.HCG_memory}gb:mpiprocs=1:ompthreads=${params.HCG_threads} -lwalltime=${params.HCG_walltime}:00:00&quot;\r\n\r\n  publishDir(\r\n    path: &quot;${params.HCDir}&quot;,\r\n    mode: &#39;copy&#39;,\r\n  )\r\n\r\n  input:\r\n  each chrom from chromosomes_ch\r\n  set SampleID, path(bam), path(bai) from processed_bams\r\n  path ref_genome\r\n  path ref_dict\r\n  path ref_index\r\n\r\n  output:\r\n  tuple chrom, path(&quot;${SampleID}_${chrom}.vcf&quot;) into HCG_ch\r\n  path(&quot;${SampleID}_${chrom}.vcf.idx&quot;) into idx_ch\r\n  \r\n  beforeScript &#39;module load anaconda3/personal; source activate NF_GATK&#39;\r\n\r\n  script:\r\n  &quot;&quot;&quot;\r\n  mkdir tmp\r\n  n_slots=`expr ${params.GVCF_threads} / 2 - 3`\r\n  if [ \\$n_slots -le 0 ]; then n_slots=1; fi\r\n  taskset -c 0-\\${n_slots} gatk --java-options \\&quot;-Xmx${params.HCG_memory}G -XX:+UseParallelGC -XX:ParallelGCThreads=\\${n_slots}\\&quot; HaplotypeCaller \\\\\r\n    --tmp-dir tmp/ \\\\\r\n    --pair-hmm-implementation AVX_LOGLESS_CACHING_OMP \\\\\r\n    --native-pair-hmm-threads \\${n_slots} \\\\\r\n    -ERC GVCF \\\\\r\n    -L ${chrom} \\\\\r\n    -R ${ref_genome} \\\\\r\n    -I ${bam} \\\\\r\n    -O ${SampleID}_${chrom}.vcf ${params.GVCF_args}\r\n  &quot;&quot;&quot;\r\n}","title":"GATK: HaplotypceCaller IntelPairHmm only detecting 1 thread","body":"<p>In case anyone else has the same problem, it turned out I had to configure the submission as an MPI job.</p>\n<p>So on the HPC I use, here is the nextflow process:</p>\n<pre><code>process DNA_HCG {\n  errorStrategy { sleep(Math.pow(2, task.attempt) * 600 as long); return 'retry' }\n  maxRetries 3\n  maxForks params.HCG_Forks\n\n  tag { SampleID+&quot;-&quot;+chrom }\n\n  executor = 'pbspro'\n  clusterOptions = &quot;-lselect=1:ncpus=${params.HCG_threads}:mem=${params.HCG_memory}gb:mpiprocs=1:ompthreads=${params.HCG_threads} -lwalltime=${params.HCG_walltime}:00:00&quot;\n\n  publishDir(\n    path: &quot;${params.HCDir}&quot;,\n    mode: 'copy',\n  )\n\n  input:\n  each chrom from chromosomes_ch\n  set SampleID, path(bam), path(bai) from processed_bams\n  path ref_genome\n  path ref_dict\n  path ref_index\n\n  output:\n  tuple chrom, path(&quot;${SampleID}_${chrom}.vcf&quot;) into HCG_ch\n  path(&quot;${SampleID}_${chrom}.vcf.idx&quot;) into idx_ch\n  \n  beforeScript 'module load anaconda3/personal; source activate NF_GATK'\n\n  script:\n  &quot;&quot;&quot;\n  mkdir tmp\n  n_slots=`expr ${params.GVCF_threads} / 2 - 3`\n  if [ \\$n_slots -le 0 ]; then n_slots=1; fi\n  taskset -c 0-\\${n_slots} gatk --java-options \\&quot;-Xmx${params.HCG_memory}G -XX:+UseParallelGC -XX:ParallelGCThreads=\\${n_slots}\\&quot; HaplotypeCaller \\\\\n    --tmp-dir tmp/ \\\\\n    --pair-hmm-implementation AVX_LOGLESS_CACHING_OMP \\\\\n    --native-pair-hmm-threads \\${n_slots} \\\\\n    -ERC GVCF \\\\\n    -L ${chrom} \\\\\n    -R ${ref_genome} \\\\\n    -I ${bam} \\\\\n    -O ${SampleID}_${chrom}.vcf ${params.GVCF_args}\n  &quot;&quot;&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10272707,"reputation":527,"user_id":7580614,"display_name":"jgarces"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673354037,"creation_date":1673280266,"answer_id":75059954,"question_id":71053941,"body_markdown":"I think I solved this problem (at least for me, it worked well on _SLURM_). This comes from how _GATK_ is configured for parallelizing jobs: it&#39;s based on OpenMP, so you should add to the beginning of your script something like this:\r\n\r\n`export OMP_NUM_THREADS=$SLURM_CPUS_PER_TASK`\r\n\r\n[source](https://www.hpc2n.umu.se/documentation/batchsystem/openmp-examples)","title":"GATK: HaplotypceCaller IntelPairHmm only detecting 1 thread","body":"<p>I think I solved this problem (at least for me, it worked well on <em>SLURM</em>). This comes from how <em>GATK</em> is configured for parallelizing jobs: it's based on OpenMP, so you should add to the beginning of your script something like this:</p>\n<p><code>export OMP_NUM_THREADS=$SLURM_CPUS_PER_TASK</code></p>\n<p><a href=\"https://www.hpc2n.umu.se/documentation/batchsystem/openmp-examples\" rel=\"nofollow noreferrer\">source</a></p>\n"}],"owner":{"account_id":10247288,"reputation":366,"user_id":7562715,"display_name":"dthorbur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":505,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71130481,"answer_count":2,"score":2,"last_activity_date":1673354037,"creation_date":1644427068,"question_id":71053941,"body_markdown":"I can&#39;t seem to get GATK to recognise the number of available threads. I am running GATK (4.2.4.1) in a conda environment which is part of a nextflow (v20.10.0) pipeline I&#39;m writing. For whatever reason, I cannot get GATK to see there is more than one thread. I&#39;ve tried different node types, increasing and decreasing the number of cpus available, providing java arguments such as `-XX:ActiveProcessorCount=16`, using `taskset`, but it always just detects 1. \r\n\r\nHere is the command from the `.command.sh`:\r\n```\r\ngatk HaplotypeCaller \\\r\n  --tmp-dir tmp/ \\\r\n  -ERC GVCF \\\r\n  -R VectorBase-54_AgambiaePEST_Genome.fasta \\\r\n  -I AE12A_S24_BP.bam \\\r\n  -O AE12A_S24_BP.vcf\r\n```\r\nAnd here is the top of the `.command.log` file:\r\n```\r\n12:10:00.695 INFO  HaplotypeCaller - ------------------------------------------------------------\r\n12:10:00.695 INFO  HaplotypeCaller - The Genome Analysis Toolkit (GATK) v4.2.4.1\r\n12:10:00.695 INFO  HaplotypeCaller - For support and documentation go to https://software.broadinstitute.org/gatk/\r\n12:10:00.696 INFO  HaplotypeCaller - Executing on Linux v4.18.0-193.6.3.el8_2.x86_64 amd64\r\n12:10:00.696 INFO  HaplotypeCaller - Java runtime: OpenJDK 64-Bit Server VM v11.0.13+7-b1751.21\r\n12:10:00.696 INFO  HaplotypeCaller - Start Date/Time: 9 February 2022 at 12:10:00 GMT\r\n12:10:00.696 INFO  HaplotypeCaller - ------------------------------------------------------------\r\n12:10:00.696 INFO  HaplotypeCaller - ------------------------------------------------------------\r\n12:10:00.697 INFO  HaplotypeCaller - HTSJDK Version: 2.24.1\r\n12:10:00.697 INFO  HaplotypeCaller - Picard Version: 2.25.4\r\n12:10:00.697 INFO  HaplotypeCaller - Built for Spark Version: 2.4.5\r\n12:10:00.697 INFO  HaplotypeCaller - HTSJDK Defaults.COMPRESSION_LEVEL : 2\r\n12:10:00.697 INFO  HaplotypeCaller - HTSJDK Defaults.USE_ASYNC_IO_READ_FOR_SAMTOOLS : false\r\n12:10:00.697 INFO  HaplotypeCaller - HTSJDK Defaults.USE_ASYNC_IO_WRITE_FOR_SAMTOOLS : true\r\n12:10:00.697 INFO  HaplotypeCaller - HTSJDK Defaults.USE_ASYNC_IO_WRITE_FOR_TRIBBLE : false\r\n12:10:00.697 INFO  HaplotypeCaller - Deflater: IntelDeflater\r\n12:10:00.697 INFO  HaplotypeCaller - Inflater: IntelInflater\r\n12:10:00.697 INFO  HaplotypeCaller - GCS max retries/reopens: 20\r\n12:10:00.698 INFO  HaplotypeCaller - Requester pays: disabled\r\n12:10:00.698 INFO  HaplotypeCaller - Initializing engine\r\n12:10:01.126 INFO  HaplotypeCaller - Done initializing engine\r\n12:10:01.129 INFO  HaplotypeCallerEngine - Tool is in reference confidence mode and the annotation, the following changes will be made to any specified annotations: &#39;StrandBiasBySample&#39; will be enabled. &#39;ChromosomeCounts&#39;, &#39;FisherStrand&#39;, &#39;StrandOddsRatio&#39; and &#39;QualByDepth&#39; annotations have been disabled\r\n12:10:01.143 INFO  HaplotypeCallerEngine - Standard Emitting and Calling confidence set to 0.0 for reference-model confidence output\r\n12:10:01.143 INFO  HaplotypeCallerEngine - All sites annotated with PLs forced to true for reference-model confidence output\r\n12:10:01.162 INFO  NativeLibraryLoader - Loading libgkl_utils.so from jar:file:/home/anaconda3/envs/NF_GATK/share/gatk4-4.2.4.1-0/gatk-package-4.2.4.1-local.jar!/com/intel/gkl/native/libgkl_utils.so\r\n12:10:01.169 INFO  NativeLibraryLoader - Loading libgkl_pairhmm_omp.so from jar:file:/home/anaconda3/envs/NF_GATK/share/gatk4-4.2.4.1-0/gatk-package-4.2.4.1-local.jar!/com/intel/gkl/native/libgkl_pairhmm_omp.so\r\n12:10:01.209 INFO  IntelPairHmm - Flush-to-zero (FTZ) is enabled when running PairHMM\r\n12:10:01.210 INFO  IntelPairHmm - Available threads: 1\r\n12:10:01.210 INFO  IntelPairHmm - Requested threads: 4\r\n12:10:01.210 WARN  IntelPairHmm - Using 1 available threads, but 4 were requested\r\n12:10:01.210 INFO  PairHMM - Using the OpenMP multi-threaded AVX-accelerated native PairHMM implementation\r\n12:10:01.271 INFO  ProgressMeter - Starting traversal\r\n```\r\n\r\nI found a [thread](https://gatk.broadinstitute.org/hc/en-us/community/posts/360077885431--HaplotypeCaller-Seeing-only-1-thread-on-GCP-instance) on the broad institute website suggesting it might be the OMP library, but this is seemingly loaded, and I&#39;m using the version they suggested updating to... \r\n\r\nNeedless to say, this is a little slow. I can always parallelise by using the `-L` option, but this doesn&#39;t solve that every step in the pipeline will be very slow.\r\n\r\nThanks in advance.  ","title":"GATK: HaplotypceCaller IntelPairHmm only detecting 1 thread","body":"<p>I can't seem to get GATK to recognise the number of available threads. I am running GATK (4.2.4.1) in a conda environment which is part of a nextflow (v20.10.0) pipeline I'm writing. For whatever reason, I cannot get GATK to see there is more than one thread. I've tried different node types, increasing and decreasing the number of cpus available, providing java arguments such as <code>-XX:ActiveProcessorCount=16</code>, using <code>taskset</code>, but it always just detects 1.</p>\n<p>Here is the command from the <code>.command.sh</code>:</p>\n<pre><code>gatk HaplotypeCaller \\\n  --tmp-dir tmp/ \\\n  -ERC GVCF \\\n  -R VectorBase-54_AgambiaePEST_Genome.fasta \\\n  -I AE12A_S24_BP.bam \\\n  -O AE12A_S24_BP.vcf\n</code></pre>\n<p>And here is the top of the <code>.command.log</code> file:</p>\n<pre><code>12:10:00.695 INFO  HaplotypeCaller - ------------------------------------------------------------\n12:10:00.695 INFO  HaplotypeCaller - The Genome Analysis Toolkit (GATK) v4.2.4.1\n12:10:00.695 INFO  HaplotypeCaller - For support and documentation go to https://software.broadinstitute.org/gatk/\n12:10:00.696 INFO  HaplotypeCaller - Executing on Linux v4.18.0-193.6.3.el8_2.x86_64 amd64\n12:10:00.696 INFO  HaplotypeCaller - Java runtime: OpenJDK 64-Bit Server VM v11.0.13+7-b1751.21\n12:10:00.696 INFO  HaplotypeCaller - Start Date/Time: 9 February 2022 at 12:10:00 GMT\n12:10:00.696 INFO  HaplotypeCaller - ------------------------------------------------------------\n12:10:00.696 INFO  HaplotypeCaller - ------------------------------------------------------------\n12:10:00.697 INFO  HaplotypeCaller - HTSJDK Version: 2.24.1\n12:10:00.697 INFO  HaplotypeCaller - Picard Version: 2.25.4\n12:10:00.697 INFO  HaplotypeCaller - Built for Spark Version: 2.4.5\n12:10:00.697 INFO  HaplotypeCaller - HTSJDK Defaults.COMPRESSION_LEVEL : 2\n12:10:00.697 INFO  HaplotypeCaller - HTSJDK Defaults.USE_ASYNC_IO_READ_FOR_SAMTOOLS : false\n12:10:00.697 INFO  HaplotypeCaller - HTSJDK Defaults.USE_ASYNC_IO_WRITE_FOR_SAMTOOLS : true\n12:10:00.697 INFO  HaplotypeCaller - HTSJDK Defaults.USE_ASYNC_IO_WRITE_FOR_TRIBBLE : false\n12:10:00.697 INFO  HaplotypeCaller - Deflater: IntelDeflater\n12:10:00.697 INFO  HaplotypeCaller - Inflater: IntelInflater\n12:10:00.697 INFO  HaplotypeCaller - GCS max retries/reopens: 20\n12:10:00.698 INFO  HaplotypeCaller - Requester pays: disabled\n12:10:00.698 INFO  HaplotypeCaller - Initializing engine\n12:10:01.126 INFO  HaplotypeCaller - Done initializing engine\n12:10:01.129 INFO  HaplotypeCallerEngine - Tool is in reference confidence mode and the annotation, the following changes will be made to any specified annotations: 'StrandBiasBySample' will be enabled. 'ChromosomeCounts', 'FisherStrand', 'StrandOddsRatio' and 'QualByDepth' annotations have been disabled\n12:10:01.143 INFO  HaplotypeCallerEngine - Standard Emitting and Calling confidence set to 0.0 for reference-model confidence output\n12:10:01.143 INFO  HaplotypeCallerEngine - All sites annotated with PLs forced to true for reference-model confidence output\n12:10:01.162 INFO  NativeLibraryLoader - Loading libgkl_utils.so from jar:file:/home/anaconda3/envs/NF_GATK/share/gatk4-4.2.4.1-0/gatk-package-4.2.4.1-local.jar!/com/intel/gkl/native/libgkl_utils.so\n12:10:01.169 INFO  NativeLibraryLoader - Loading libgkl_pairhmm_omp.so from jar:file:/home/anaconda3/envs/NF_GATK/share/gatk4-4.2.4.1-0/gatk-package-4.2.4.1-local.jar!/com/intel/gkl/native/libgkl_pairhmm_omp.so\n12:10:01.209 INFO  IntelPairHmm - Flush-to-zero (FTZ) is enabled when running PairHMM\n12:10:01.210 INFO  IntelPairHmm - Available threads: 1\n12:10:01.210 INFO  IntelPairHmm - Requested threads: 4\n12:10:01.210 WARN  IntelPairHmm - Using 1 available threads, but 4 were requested\n12:10:01.210 INFO  PairHMM - Using the OpenMP multi-threaded AVX-accelerated native PairHMM implementation\n12:10:01.271 INFO  ProgressMeter - Starting traversal\n</code></pre>\n<p>I found a <a href=\"https://gatk.broadinstitute.org/hc/en-us/community/posts/360077885431--HaplotypeCaller-Seeing-only-1-thread-on-GCP-instance\" rel=\"nofollow noreferrer\">thread</a> on the broad institute website suggesting it might be the OMP library, but this is seemingly loaded, and I'm using the version they suggested updating to...</p>\n<p>Needless to say, this is a little slow. I can always parallelise by using the <code>-L</code> option, but this doesn't solve that every step in the pipeline will be very slow.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","android","c++","arduino","esp32"],"answers":[{"tags":[],"owner":{"account_id":27299232,"reputation":31,"user_id":20816352,"display_name":"Benjam2k4"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673353924,"creation_date":1673353924,"answer_id":75070027,"question_id":75062515,"body_markdown":"After much research I have a functioning code that, when pressing the &quot;Send Data&quot; button on the Android app, it blinks the onboard LED of the ESP32 twice to signify it has received the string. Very happy!\r\n\r\nIn the end the reason was I did not have any permission to use the internet. I used the USB debugging and put in some log.d and it showed me I didn&#39;t have access to use the internet so putting in that permission and some toast messages to check the permission fixed it.\r\n\r\nC++ and XML code remained the same but in the Android XML manifest file I added:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\nAnd the final Java code is as follows:\r\n\r\n```\r\npackage com.benledmatrix.esp32controloverwifi;\r\n\r\nimport android.Manifest;\r\nimport android.content.pm.PackageManager;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport java.net.Socket;\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private static final int PERMISSION_REQUEST_CODE = 1;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        // Check for Internet permission for SDK 23 or higher\r\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.INTERNET) != PackageManager.PERMISSION_GRANTED) {\r\n            if (ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.INTERNET)) {\r\n\r\n                //rationale to display why the permission is needed\r\n                Toast.makeText(this, &quot;The app needs access to the Internet to send data to the ESP32&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.INTERNET}, PERMISSION_REQUEST_CODE);\r\n        }\r\n\r\n        // Set up a button to send data when clicked\r\n        Button sendButton = findViewById(R.id.send_button);\r\n        sendButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                sendData();\r\n            }\r\n        });\r\n    }\r\n\r\n    //Check for result of permissions and feedback accordingly\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == PERMISSION_REQUEST_CODE) {\r\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                // Permission granted, you can perform the network operation here\r\n                Log.d(&quot;Permission&quot;, &quot;Granted&quot;);\r\n            } else {\r\n                // Permission denied, show a message to the user\r\n                Log.d(&quot;Permission&quot;, &quot;Denied&quot;);\r\n                Toast.makeText(this, &quot;Permission denied, you cannot perform network operations&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n\r\n    private void sendData() {\r\n        // Set up a thread to send the data in the background\r\n        new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    // Connect to the ESP32&#39;s IP address and port\r\n                    Log.d(&quot;Sending Data&quot;, &quot;Button Pressed, connecting to ESP32.....&quot;);\r\n                    Socket socket = new Socket(&quot;192.168.4.1&quot;, 80);\r\n                    PrintWriter out = new PrintWriter(socket.getOutputStream());\r\n\r\n                    // Send the data\r\n                    out.println(&quot;Hello, ESP32!&quot;);\r\n                    out.flush();\r\n                    Log.d(&quot;Sending Data&quot;, &quot;Data Sent!&quot;);\r\n\r\n                    // Close the connection\r\n                    out.close();\r\n                    socket.close();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                    Log.e(&quot;Sending Data&quot;, &quot;Error Sending Data: &quot;+e.getMessage());\r\n                }\r\n            }\r\n        }).start();\r\n    }\r\n}\r\n\r\n```\r\n\r\nOf course any further advice on things I perhaps don&#39;t need or improvements I could make would be great.\r\n\r\nMany thanks\r\nBen\r\n","title":"Trying to send data over WiFi to an ESP32 from an Android app - Data seemingly not sending","body":"<p>After much research I have a functioning code that, when pressing the &quot;Send Data&quot; button on the Android app, it blinks the onboard LED of the ESP32 twice to signify it has received the string. Very happy!</p>\n<p>In the end the reason was I did not have any permission to use the internet. I used the USB debugging and put in some log.d and it showed me I didn't have access to use the internet so putting in that permission and some toast messages to check the permission fixed it.</p>\n<p>C++ and XML code remained the same but in the Android XML manifest file I added:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n</code></pre>\n<p>And the final Java code is as follows:</p>\n<pre><code>package com.benledmatrix.esp32controloverwifi;\n\nimport android.Manifest;\nimport android.content.pm.PackageManager;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.net.Socket;\n\n\npublic class MainActivity extends AppCompatActivity {\n\n    private static final int PERMISSION_REQUEST_CODE = 1;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // Check for Internet permission for SDK 23 or higher\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.INTERNET) != PackageManager.PERMISSION_GRANTED) {\n            if (ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.INTERNET)) {\n\n                //rationale to display why the permission is needed\n                Toast.makeText(this, &quot;The app needs access to the Internet to send data to the ESP32&quot;, Toast.LENGTH_SHORT).show();\n            }\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.INTERNET}, PERMISSION_REQUEST_CODE);\n        }\n\n        // Set up a button to send data when clicked\n        Button sendButton = findViewById(R.id.send_button);\n        sendButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                sendData();\n            }\n        });\n    }\n\n    //Check for result of permissions and feedback accordingly\n    @Override\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (requestCode == PERMISSION_REQUEST_CODE) {\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                // Permission granted, you can perform the network operation here\n                Log.d(&quot;Permission&quot;, &quot;Granted&quot;);\n            } else {\n                // Permission denied, show a message to the user\n                Log.d(&quot;Permission&quot;, &quot;Denied&quot;);\n                Toast.makeText(this, &quot;Permission denied, you cannot perform network operations&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n\n    private void sendData() {\n        // Set up a thread to send the data in the background\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    // Connect to the ESP32's IP address and port\n                    Log.d(&quot;Sending Data&quot;, &quot;Button Pressed, connecting to ESP32.....&quot;);\n                    Socket socket = new Socket(&quot;192.168.4.1&quot;, 80);\n                    PrintWriter out = new PrintWriter(socket.getOutputStream());\n\n                    // Send the data\n                    out.println(&quot;Hello, ESP32!&quot;);\n                    out.flush();\n                    Log.d(&quot;Sending Data&quot;, &quot;Data Sent!&quot;);\n\n                    // Close the connection\n                    out.close();\n                    socket.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                    Log.e(&quot;Sending Data&quot;, &quot;Error Sending Data: &quot;+e.getMessage());\n                }\n            }\n        }).start();\n    }\n}\n\n</code></pre>\n<p>Of course any further advice on things I perhaps don't need or improvements I could make would be great.</p>\n<p>Many thanks\nBen</p>\n"}],"owner":{"account_id":27299232,"reputation":31,"user_id":20816352,"display_name":"Benjam2k4"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1047,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673353924,"creation_date":1673295549,"question_id":75062515,"body_markdown":"I&#39;m more OK with the C++ on the ESP32 (arduino IDE) than I am with the Java of the Android app so I think the problem is laying with the Java code not actually sending any data.\r\n\r\nHere is expected behaviour:\r\n\r\n 1. ESP32 initiates as an access point (they have all have WiFi chips so can be programmed as so)\r\n 2. Android devices goes to network settings and connects to the ESP32 hotspot/access point\r\n 3. Android device goes back to the app and presses a button to send a string of data\r\n 4. ESP32 is listening for any data ending with &#39;\\n&#39; to then blink an onboard LED. In the case of my Java code the code for sending is using the PrintWriter class and the println method (meaning any data sent will have &#39;\\n&#39; as a suffix\r\n\r\nI made the APK today and installed it on an android phone, fired up the ESP32 and checked the serial monitor to make sure the IP is the same as what I have specified in the Java code, the port (80) is also the same.\r\n\r\nI connect to the ESP32 from my Android device and go back to the app, press the button and nothing happens. The serial monitor in the Arduino IDE for the ESP32 is also showing nothing (it should print the received data).\r\n\r\nSo I&#39;ll paste the Java code, which is where I think the error might be. As you can see I am trying to send &quot;Hello ESP32&quot; as a string.\r\n\r\n```\r\npackage com.benledmatrix.esp32controloverwifi;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport java.net.Socket;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        // Set up a button to send data when clicked\r\n        Button sendButton = findViewById(R.id.send_button);\r\n        sendButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                sendData();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void sendData() {\r\n        // Set up a thread to send the data in the background\r\n        new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    // Connect to the ESP32&#39;s IP address and port\r\n                    Socket socket = new Socket(&quot;192.168.4.1&quot;, 80);\r\n                    PrintWriter out = new PrintWriter(socket.getOutputStream());\r\n\r\n                    // Send the data\r\n                    out.println(&quot;Hello, ESP32!&quot;);\r\n                    out.flush();\r\n\r\n                    // Close the connection\r\n                    out.close();\r\n                    socket.close();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }).start();\r\n    }\r\n}\r\n```\r\n\r\nAnd here is the Arduino C++ code that is on the ESP32\r\n\r\n```\r\n#include &lt;WiFi.h&gt;\r\n\r\nconst char* ssid = &quot;ESP32 HotSpot&quot;;\r\nconst char* password = &quot;password&quot;;\r\n\r\nWiFiServer server(80);  // Create a server on port 80\r\n\r\nvoid setup() {\r\n\r\n  Serial.begin(115200);\r\n  WiFi.mode(WIFI_AP);\r\n  WiFi.softAP(ssid, password);\r\n  Serial.print(&quot;IP address: &quot;);\r\n  Serial.println(WiFi.softAPIP());\r\n  server.begin();      // Start the server\r\n  pinMode(2, OUTPUT);  // Set onboard LED as an output\r\n}\r\n\r\nvoid loop() {\r\n  WiFiClient client = server.available();  // Listen for incoming clients\r\n\r\n  if (client) {                                  // If a client connects\r\n    String data = client.readStringUntil(&#39;\\n&#39;);  // Read the data from the client\r\n    Serial.println(data);                        // Print the data to the serial monitor\r\n\r\n    if (data == &quot;Hello, ESP32!&quot;) {  // If the data is &quot;Hello, ESP32!&quot;\r\n      // Flash the onboard LED twice\r\n      for (int i = 0; i &lt; 2; i++) {\r\n        digitalWrite(2, HIGH);\r\n        delay(200);\r\n        digitalWrite(2, LOW);\r\n        delay(200);\r\n      }\r\n    } else {\r\n      // Flash the onboard LED once\r\n      digitalWrite(2, HIGH);\r\n      delay(200);\r\n      digitalWrite(2, LOW);\r\n      delay(200);\r\n    }\r\n\r\n    client.stop();  // Disconnect the client\r\n  }\r\n}\r\n```\r\n\r\nAnd just in case I am being a complete div here is the XML code for the button :D you never know\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/send_button&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_centerInParent=&quot;true&quot;\r\n            android:background=&quot;#008080&quot;\r\n            android:text=&quot;Send Data&quot; /&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nSorry for such a dump but as I&#39;m not that experienced with Android I thought it best to put everything in there. It compiles fine and no bugs found but just doesn&#39;t do the desired action.\r\n\r\nIf someone has an idea I will try it.\r\nMany thanks\r\nBen\r\n\r\n\r\n","title":"Trying to send data over WiFi to an ESP32 from an Android app - Data seemingly not sending","body":"<p>I'm more OK with the C++ on the ESP32 (arduino IDE) than I am with the Java of the Android app so I think the problem is laying with the Java code not actually sending any data.</p>\n<p>Here is expected behaviour:</p>\n<ol>\n<li>ESP32 initiates as an access point (they have all have WiFi chips so can be programmed as so)</li>\n<li>Android devices goes to network settings and connects to the ESP32 hotspot/access point</li>\n<li>Android device goes back to the app and presses a button to send a string of data</li>\n<li>ESP32 is listening for any data ending with '\\n' to then blink an onboard LED. In the case of my Java code the code for sending is using the PrintWriter class and the println method (meaning any data sent will have '\\n' as a suffix</li>\n</ol>\n<p>I made the APK today and installed it on an android phone, fired up the ESP32 and checked the serial monitor to make sure the IP is the same as what I have specified in the Java code, the port (80) is also the same.</p>\n<p>I connect to the ESP32 from my Android device and go back to the app, press the button and nothing happens. The serial monitor in the Arduino IDE for the ESP32 is also showing nothing (it should print the received data).</p>\n<p>So I'll paste the Java code, which is where I think the error might be. As you can see I am trying to send &quot;Hello ESP32&quot; as a string.</p>\n<pre><code>package com.benledmatrix.esp32controloverwifi;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.net.Socket;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // Set up a button to send data when clicked\n        Button sendButton = findViewById(R.id.send_button);\n        sendButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                sendData();\n            }\n        });\n    }\n\n    private void sendData() {\n        // Set up a thread to send the data in the background\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    // Connect to the ESP32's IP address and port\n                    Socket socket = new Socket(&quot;192.168.4.1&quot;, 80);\n                    PrintWriter out = new PrintWriter(socket.getOutputStream());\n\n                    // Send the data\n                    out.println(&quot;Hello, ESP32!&quot;);\n                    out.flush();\n\n                    // Close the connection\n                    out.close();\n                    socket.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }).start();\n    }\n}\n</code></pre>\n<p>And here is the Arduino C++ code that is on the ESP32</p>\n<pre><code>#include &lt;WiFi.h&gt;\n\nconst char* ssid = &quot;ESP32 HotSpot&quot;;\nconst char* password = &quot;password&quot;;\n\nWiFiServer server(80);  // Create a server on port 80\n\nvoid setup() {\n\n  Serial.begin(115200);\n  WiFi.mode(WIFI_AP);\n  WiFi.softAP(ssid, password);\n  Serial.print(&quot;IP address: &quot;);\n  Serial.println(WiFi.softAPIP());\n  server.begin();      // Start the server\n  pinMode(2, OUTPUT);  // Set onboard LED as an output\n}\n\nvoid loop() {\n  WiFiClient client = server.available();  // Listen for incoming clients\n\n  if (client) {                                  // If a client connects\n    String data = client.readStringUntil('\\n');  // Read the data from the client\n    Serial.println(data);                        // Print the data to the serial monitor\n\n    if (data == &quot;Hello, ESP32!&quot;) {  // If the data is &quot;Hello, ESP32!&quot;\n      // Flash the onboard LED twice\n      for (int i = 0; i &lt; 2; i++) {\n        digitalWrite(2, HIGH);\n        delay(200);\n        digitalWrite(2, LOW);\n        delay(200);\n      }\n    } else {\n      // Flash the onboard LED once\n      digitalWrite(2, HIGH);\n      delay(200);\n      digitalWrite(2, LOW);\n      delay(200);\n    }\n\n    client.stop();  // Disconnect the client\n  }\n}\n</code></pre>\n<p>And just in case I am being a complete div here is the XML code for the button :D you never know</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;RelativeLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/send_button&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_centerInParent=&quot;true&quot;\n            android:background=&quot;#008080&quot;\n            android:text=&quot;Send Data&quot; /&gt;\n\n    &lt;/RelativeLayout&gt;\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Sorry for such a dump but as I'm not that experienced with Android I thought it best to put everything in there. It compiles fine and no bugs found but just doesn't do the desired action.</p>\n<p>If someone has an idea I will try it.\nMany thanks\nBen</p>\n"},{"tags":["java","vaadin","vaadin-flow","vaadin14","vaadin-session"],"comments":[{"owner":{"account_id":4430906,"reputation":3990,"user_id":3608089,"display_name":"ollitietavainen"},"score":0,"creation_date":1673351164,"post_id":75069445,"comment_id":132474325,"body_markdown":"It would probably be easier to help if you asked about what you want to achieve instead of telling about how SessionDestroyListener doesn&#39;t work.","body":"It would probably be easier to help if you asked about what you want to achieve instead of telling about how SessionDestroyListener doesn&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":2759852,"reputation":7920,"user_id":2376954,"display_name":"Leif &#197;strand"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673352631,"creation_date":1673352631,"answer_id":75069779,"question_id":75069445,"body_markdown":"You can do per-session actions with `VaadinService::addSessionDestroyListener` by adding the actual listener only once (e.g. in a `VaadinServiceInitListener` and storing the actual thing to do as an attribute in each session.\r\n\r\nFor the particular example you show, you might want to store the list item to remove in each session:\r\n```\r\nsomeSession.setAttribute(&quot;item-to-remove&quot;, someItem);\r\n```\r\n\r\nAnd then then singleton listener can do something like like this:\r\n```\r\nObject itemToRemove = event.getSession().getAttribute(&quot;item-to-remove&quot;);\r\nlist.remove(itemToRemove);\r\n```\r\n\r\nFor more complex cases, you can also store a callback in the session instead of only data.\r\n\r\nOne unrelated thing to notice is that multiple session destroy events may be fired concurrently which means that you need to guard your list against concurrent modification e.g. by using a `CopyOnWriteArrayList` or using `Collections::synchronizedList`.\r\n","title":"Vaadin 14 addDestroyListener for session other way than by int SessionDestroyListener","body":"<p>You can do per-session actions with <code>VaadinService::addSessionDestroyListener</code> by adding the actual listener only once (e.g. in a <code>VaadinServiceInitListener</code> and storing the actual thing to do as an attribute in each session.</p>\n<p>For the particular example you show, you might want to store the list item to remove in each session:</p>\n<pre><code>someSession.setAttribute(&quot;item-to-remove&quot;, someItem);\n</code></pre>\n<p>And then then singleton listener can do something like like this:</p>\n<pre><code>Object itemToRemove = event.getSession().getAttribute(&quot;item-to-remove&quot;);\nlist.remove(itemToRemove);\n</code></pre>\n<p>For more complex cases, you can also store a callback in the session instead of only data.</p>\n<p>One unrelated thing to notice is that multiple session destroy events may be fired concurrently which means that you need to guard your list against concurrent modification e.g. by using a <code>CopyOnWriteArrayList</code> or using <code>Collections::synchronizedList</code>.</p>\n"},{"tags":[],"owner":{"account_id":19662820,"reputation":169,"user_id":14393923,"display_name":"Miłosz Bąbliński"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673353790,"creation_date":1673353790,"answer_id":75070000,"question_id":75069445,"body_markdown":"I made it work with mapping VaadinSession to SpringVaadinSession and then using addDestroyLsitener:\r\n\r\n    VaadinSession session = SpringVaadinSession.getCurrent();\r\n    if(session instanceof SpringVaadinSession) {\r\n    \t((SpringVaadinSession) session).addDestroyListener(evt -&gt; {\r\n    \t\t\tsomeFunctionThatIsfiredWhenSessionIsDestoryed();\r\n    \t});\r\n    }\r\n\r\nI created this issue with as simple code as i could but i want to use it for more complex actions like for executing longer than one code line functions.","title":"Vaadin 14 addDestroyListener for session other way than by int SessionDestroyListener","body":"<p>I made it work with mapping VaadinSession to SpringVaadinSession and then using addDestroyLsitener:</p>\n<pre><code>VaadinSession session = SpringVaadinSession.getCurrent();\nif(session instanceof SpringVaadinSession) {\n    ((SpringVaadinSession) session).addDestroyListener(evt -&gt; {\n            someFunctionThatIsfiredWhenSessionIsDestoryed();\n    });\n}\n</code></pre>\n<p>I created this issue with as simple code as i could but i want to use it for more complex actions like for executing longer than one code line functions.</p>\n"}],"owner":{"account_id":19662820,"reputation":169,"user_id":14393923,"display_name":"Miłosz Bąbliński"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673353790,"creation_date":1673350777,"question_id":75069445,"body_markdown":"is there any other way to add actions for destroying specific session in other way than by implementing SessionDestroyListener. I want to fire it in other places in code. For example i want to delete some data from static list that are assigned for session that will be destroyed but left other elements in this list that are assigned for still living sessions. I tried to add something like this:\r\n\r\n    ui.getSession().getService().addSessionDestroyListener( evt -&gt; {\r\n    \t\t\t\tlist.remove(this);\r\n    \t\t\t});\r\nBut then this listener is fired as excpected when some session is destroyed but then it is fired also for still living sessions. So after one session is detroyed then element for all sessions are removed. In debugging i discoverd that each Session have this same Service.\r\n\r\nI&#39;m using Vaadin 14.8.14.\r\n\r\nI want to fire destroy listener only for session where it was added.","title":"Vaadin 14 addDestroyListener for session other way than by int SessionDestroyListener","body":"<p>is there any other way to add actions for destroying specific session in other way than by implementing SessionDestroyListener. I want to fire it in other places in code. For example i want to delete some data from static list that are assigned for session that will be destroyed but left other elements in this list that are assigned for still living sessions. I tried to add something like this:</p>\n<pre><code>ui.getSession().getService().addSessionDestroyListener( evt -&gt; {\n                list.remove(this);\n            });\n</code></pre>\n<p>But then this listener is fired as excpected when some session is destroyed but then it is fired also for still living sessions. So after one session is detroyed then element for all sessions are removed. In debugging i discoverd that each Session have this same Service.</p>\n<p>I'm using Vaadin 14.8.14.</p>\n<p>I want to fire destroy listener only for session where it was added.</p>\n"},{"tags":["java","json","spring-boot","api","okhttp"],"answers":[{"tags":[],"owner":{"account_id":26701199,"reputation":21,"user_id":20308225,"display_name":"miguel30452"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673351734,"creation_date":1673351734,"answer_id":75069609,"question_id":74920547,"body_markdown":"In my opinion, a good solution would be to use a mapper and a DTO to deal with the json, since there you could use the @JsonProperty tag that allows you to make the json field not mandatory.\r\n\r\n**Here&#39;s how to use a mapper:**\r\n````\r\n ObjectMapper om = new ObjectMapper();\r\n        om.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\r\n        JSONObject battle= new JSONObject(text);\r\n        JSONObject battleObject = battle.getJSONObject(JsonObject);\r\n        try{\r\n            Battle battleDto =  om.readValue(battleObject.toString(), Battle.class);\r\n            return battleDto;\r\n        }catch (JsonProcessingException e ){\r\n            throw new NoStarPlayerException(&quot;No starPlayer for this battle =&quot;+battle.toString());\r\n        }\r\n````\r\n**And here the DTO:**\r\n````\r\npublic class Battle {\r\n    @JsonProperty(&quot;battleTime&quot;)\r\n    String battletime;\r\n    @JsonIgnore()\r\n    String map;\r\n    @JsonProperty(&quot;mode&quot;)\r\n    String mode;\r\n    @JsonProperty(&quot;type&quot;)\r\n    String type;\r\n    @JsonProperty(&quot;result&quot;)\r\n    String result;\r\n    @JsonProperty(&quot;duration&quot;)\r\n    int duration;\r\n    @JsonProperty(&quot;trophyChange&quot;)\r\n    int trophyChange;\r\n    @JsonProperty(&quot;starPlayer&quot;)\r\n    StarPlayer starPlayer;\r\n    @JsonProperty(&quot;teams&quot;)\r\n    ArrayList&lt;ArrayList&lt;Player&gt;&gt; teams;\r\n    @JsonProperty(&quot;players&quot;)\r\n    ArrayList&lt;Player&gt;players;\r\n    @JsonProperty(&quot;rank&quot;)\r\n    int rank;\r\n````\r\nTo work around a missing Json field, you can use @JsonIgnore(If you are not interested in the field ever) or @JsonProperty(value = &quot;battleTime&quot;,required = false) if it may or may not be null.\r\n\r\nI hope I have helped you, Regards","title":"Needed to filter null values from JSON response in spring boot project","body":"<p>In my opinion, a good solution would be to use a mapper and a DTO to deal with the json, since there you could use the @JsonProperty tag that allows you to make the json field not mandatory.</p>\n<p><strong>Here's how to use a mapper:</strong></p>\n<pre><code> ObjectMapper om = new ObjectMapper();\n        om.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\n        JSONObject battle= new JSONObject(text);\n        JSONObject battleObject = battle.getJSONObject(JsonObject);\n        try{\n            Battle battleDto =  om.readValue(battleObject.toString(), Battle.class);\n            return battleDto;\n        }catch (JsonProcessingException e ){\n            throw new NoStarPlayerException(&quot;No starPlayer for this battle =&quot;+battle.toString());\n        }\n</code></pre>\n<p><strong>And here the DTO:</strong></p>\n<pre><code>public class Battle {\n    @JsonProperty(&quot;battleTime&quot;)\n    String battletime;\n    @JsonIgnore()\n    String map;\n    @JsonProperty(&quot;mode&quot;)\n    String mode;\n    @JsonProperty(&quot;type&quot;)\n    String type;\n    @JsonProperty(&quot;result&quot;)\n    String result;\n    @JsonProperty(&quot;duration&quot;)\n    int duration;\n    @JsonProperty(&quot;trophyChange&quot;)\n    int trophyChange;\n    @JsonProperty(&quot;starPlayer&quot;)\n    StarPlayer starPlayer;\n    @JsonProperty(&quot;teams&quot;)\n    ArrayList&lt;ArrayList&lt;Player&gt;&gt; teams;\n    @JsonProperty(&quot;players&quot;)\n    ArrayList&lt;Player&gt;players;\n    @JsonProperty(&quot;rank&quot;)\n    int rank;\n</code></pre>\n<p>To work around a missing Json field, you can use @JsonIgnore(If you are not interested in the field ever) or @JsonProperty(value = &quot;battleTime&quot;,required = false) if it may or may not be null.</p>\n<p>I hope I have helped you, Regards</p>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673353367,"creation_date":1673353367,"answer_id":75069926,"question_id":74920547,"body_markdown":"json.org library that you use is a good training tool for JSON but not very good for practical use. The best libraries available are [JSON-Jackson][1] and [Gson][2] (of Google). I personally prefer JSON-Jackson. Use one of those to parse your JSON and you will solve your problem easily. &lt;br&gt;&lt;br&gt;Also, For simplistic case like this I wrote my own thin wrapper over JSON-Jackson library that allows you to serialize and parse and serialize JSON to/from java class. Here is [Javadoc for JsonUtils class][3].\r\nYour code may look something like this:\r\n\r\n       HashMap&lt;String, Object&gt; map;\r\n        try {\r\n            map = JsonUtils.readObjectFromJsonString(jsonStr, Map.class);\r\n        } catch (IOException e) {\r\n            ...\r\n        }\r\n\r\nInstead of Map you can write your own DTO class and than substitute `Map.class` with your own class instance. JsonUtils class comes with Open Source MgntUtils library written and maintained by me. The library can be obtained from Maven Central [here][4] or from [Github][5]\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson\r\n  [2]: https://github.com/google/gson\r\n  [3]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\r\n  [4]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\r\n  [5]: https://github.com/michaelgantman/Mgnt/releases","title":"Needed to filter null values from JSON response in spring boot project","body":"<p>json.org library that you use is a good training tool for JSON but not very good for practical use. The best libraries available are <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">JSON-Jackson</a> and <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">Gson</a> (of Google). I personally prefer JSON-Jackson. Use one of those to parse your JSON and you will solve your problem easily. <br><br>Also, For simplistic case like this I wrote my own thin wrapper over JSON-Jackson library that allows you to serialize and parse and serialize JSON to/from java class. Here is <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\" rel=\"nofollow noreferrer\">Javadoc for JsonUtils class</a>.\nYour code may look something like this:</p>\n<pre><code>   HashMap&lt;String, Object&gt; map;\n    try {\n        map = JsonUtils.readObjectFromJsonString(jsonStr, Map.class);\n    } catch (IOException e) {\n        ...\n    }\n</code></pre>\n<p>Instead of Map you can write your own DTO class and than substitute <code>Map.class</code> with your own class instance. JsonUtils class comes with Open Source MgntUtils library written and maintained by me. The library can be obtained from Maven Central <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">here</a> or from <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">Github</a></p>\n"}],"owner":{"account_id":27356299,"reputation":1,"user_id":20864643,"display_name":"Viswanadh bhaskarla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":621,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673353367,"creation_date":1672059548,"question_id":74920547,"body_markdown":"public class APIService {\r\n\t\t\r\n\tprivate List&lt;CoinDTO&gt; coinList = new ArrayList&lt;&gt;();\r\n\t\r\n\tprivate final TrackerConfigProperties trackerConfig;\r\n\t\r\n\t//Injecting configuration properties into the constructor.\r\n\tpublic APIService(TrackerConfigProperties trackerConfig) {\r\n\t\tthis.trackerConfig = trackerConfig;\r\n\t}\r\n\t\r\n\tpublic List&lt;CoinDTO&gt; getCoinList() {\r\n\t\treturn coinList;\r\n\t}\r\n\r\n\tpublic void setCoinList(List&lt;CoinDTO&gt; coinList) {\r\n\t\tthis.coinList = coinList;\r\n\t}\r\n\t\r\n\t@PostConstruct\r\n\t@Scheduled(cron = &quot;* * 1 * * *&quot;)\r\n\tpublic void getAPIData() throws IOException, JSONException{\t\t\r\n\t\tList&lt;CoinDTO&gt; newData = new ArrayList&lt;&gt;();\r\n\t\tOkHttpClient client = new OkHttpClient();\r\n\t\t\r\n\t\tJSONObject obj = null;\r\n\t\tJSONObject data = null;\r\n\r\n\t\t//Use request builder to configure api \r\n\t\tRequest request = new Request.Builder()\r\n\t\t\t.url(trackerConfig.apiUrl())\r\n\t\t\t.get()\r\n\t\t\t.addHeader(&quot;X-RapidAPI-Key&quot;, trackerConfig.apiKey())\r\n\t\t\t.addHeader(&quot;X-RapidAPI-Host&quot;, trackerConfig.apiHost())\r\n\t\t\t.build();\r\n\t\t\r\n\t\tResponse response = null;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tresponse = client.newCall(request).execute();\r\n\t\t\t\t\t\t\r\n\t\t\tString jsonResponse = response.body().string();\r\n\t\t\tSystem.out.println(jsonResponse);\r\n\r\n\t\t\t\r\n\t\t\tobj = new JSONObject(jsonResponse);\r\n\t\t\tdata = obj.getJSONObject(&quot;data&quot;);\r\n\t\t\tJSONArray arr = data.getJSONArray(&quot;coins&quot;);\r\n\t\t\t\t\t\t\r\n\t\t\tSystem.out.println(arr);\r\n\r\n\t\t\tfor(int i=0; i&lt;arr.length(); i++) {\r\n\t\t\t\tCoinDTO coinRecords = new CoinDTO();\r\n\t\t\t\tcoinRecords.setName(arr.getJSONObject(i).getString(&quot;name&quot;));\r\n\t\t\t\tcoinRecords.setSymbol(arr.getJSONObject(i).getString(&quot;symbol&quot;));\r\n\t\t\t\tcoinRecords.setPrice(arr.getJSONObject(i).getFloat(&quot;price&quot;));\r\n\t\t\t\tcoinRecords.setRank(arr.getJSONObject(i).getInt(&quot;rank&quot;));\r\n\t\t\t\tcoinRecords.setChange(arr.getJSONObject(i).getFloat(&quot;change&quot;));\r\n\t\t\t\tcoinRecords.setUrl(arr.getJSONObject(i).getString(&quot;iconUrl&quot;));\r\n\t\t\t\tcoinRecords.setMarketCap(arr.getJSONObject(i).getString(&quot;marketCap&quot;));\r\n\t\t\t\tnewData.add(coinRecords);\r\n\t\t\t}\r\n\t\t\tthis.coinList = newData;\r\n\t\t\t\r\n\t\t}catch(IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\t// Requesting response.body().string() more than once will cause illegal state exception. \t\r\n\t}\r\n}\r\n\r\nThe JSON response from crypto API looks very fishy. 1-60 results, there is no problem in getting the data. But when I increase the response count to 100 coins. A few of them have null values and this is giving me number format exception. As shown below,\r\n\r\n\r\n```\r\nCaused by: org.json.JSONException: JSONObject[&quot;change&quot;] is not a number.\r\n\tat org.json.JSONObject.getFloat(JSONObject.java:655) ~[json-20180130.jar:na]\r\n\tat com.vish.trackerapp.service.APIService.getAPIData(APIService.java:86) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:424) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:368) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:192) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\t... 37 common frames omitted\r\n```\r\n\r\n```\r\nCaused by: java.lang.NumberFormatException: For input string: &quot;null&quot;\r\n\tat java.base/jdk.internal.math.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:2054) ~[na:na]\r\n\tat java.base/jdk.internal.math.FloatingDecimal.parseFloat(FloatingDecimal.java:122) ~[na:na]\r\n\tat java.base/java.lang.Float.parseFloat(Float.java:476) ~[na:na]\r\n\tat org.json.JSONObject.getFloat(JSONObject.java:653) ~[json-20180130.jar:na]\r\n\t... 45 common frames omitted\r\n```\r\n\r\n\r\nJson response is as follows, \r\n\r\n\r\n```\r\n{\r\n                &quot;uuid&quot;: &quot;aQx_vW8s1&quot;,\r\n                &quot;symbol&quot;: &quot;XEC&quot;,\r\n                &quot;name&quot;: &quot;eCash&quot;,\r\n                &quot;color&quot;: null,\r\n                &quot;iconUrl&quot;: &quot;https://cdn.coinranking.com/wdqRaUEhn/xec.png&quot;,\r\n                &quot;marketCap&quot;: &quot;458134192&quot;,\r\n                &quot;price&quot;: &quot;0.000023888579923343&quot;,\r\n                &quot;listedAt&quot;: 1634887994,\r\n                &quot;tier&quot;: 1,\r\n                &quot;change&quot;: &quot;0.07&quot;,\r\n                &quot;rank&quot;: 73,\r\n                &quot;sparkline&quot;: [\r\n                    &quot;0.000023888455899517&quot;,\r\n                    &quot;0.000023873825475088&quot;,\r\n                    &quot;0.00002383507280166&quot;,\r\n                    &quot;0.000023738913764452&quot;,\r\n                    &quot;0.000023705304867018&quot;,\r\n                    &quot;0.000023643911925818&quot;,\r\n                    &quot;0.000023626155269768&quot;,\r\n                    &quot;0.000023699523887097&quot;,\r\n                    &quot;0.000023745220955252&quot;,\r\n                    &quot;0.000023820571142281&quot;,\r\n                    &quot;0.000023801617704237&quot;,\r\n                    &quot;0.000023816460854558&quot;,\r\n                    &quot;0.000023795169626986&quot;,\r\n                    &quot;0.000023858079419847&quot;,\r\n                    &quot;0.000023892553157129&quot;,\r\n                    &quot;0.000023849240281632&quot;,\r\n                    &quot;0.000023857584839752&quot;,\r\n                    &quot;0.000024048737766589&quot;,\r\n                    &quot;0.00002392004515143&quot;,\r\n                    &quot;0.000023808725016789&quot;,\r\n                    &quot;0.000023751508927767&quot;,\r\n                    &quot;0.000023764344487179&quot;,\r\n                    &quot;0.000023826878245569&quot;,\r\n                    &quot;0.000023885406955056&quot;,\r\n                    &quot;0.000023888537567965&quot;\r\n                ],\r\n                &quot;lowVolume&quot;: false,\r\n                &quot;coinrankingUrl&quot;: &quot;https://coinranking.com/coin/aQx_vW8s1+ecash-xec&quot;,\r\n                &quot;24hVolume&quot;: &quot;5918517&quot;,\r\n                &quot;btcPrice&quot;: &quot;1.416302521e-9&quot;\r\n            }\r\n```\r\n\r\n\r\nI tried this idea, but couldn&#39;t figure it out how to include in my code. \r\n\r\n\r\n```\r\n\t\t\tnewData.stream().filter(v -&gt; v != null);\r\n\r\n```\r\n\r\nGreatly appreciate any suggestions or ideas. \r\n","title":"Needed to filter null values from JSON response in spring boot project","body":"<p>public class APIService {</p>\n<pre><code>private List&lt;CoinDTO&gt; coinList = new ArrayList&lt;&gt;();\n\nprivate final TrackerConfigProperties trackerConfig;\n\n//Injecting configuration properties into the constructor.\npublic APIService(TrackerConfigProperties trackerConfig) {\n    this.trackerConfig = trackerConfig;\n}\n\npublic List&lt;CoinDTO&gt; getCoinList() {\n    return coinList;\n}\n\npublic void setCoinList(List&lt;CoinDTO&gt; coinList) {\n    this.coinList = coinList;\n}\n\n@PostConstruct\n@Scheduled(cron = &quot;* * 1 * * *&quot;)\npublic void getAPIData() throws IOException, JSONException{     \n    List&lt;CoinDTO&gt; newData = new ArrayList&lt;&gt;();\n    OkHttpClient client = new OkHttpClient();\n    \n    JSONObject obj = null;\n    JSONObject data = null;\n\n    //Use request builder to configure api \n    Request request = new Request.Builder()\n        .url(trackerConfig.apiUrl())\n        .get()\n        .addHeader(&quot;X-RapidAPI-Key&quot;, trackerConfig.apiKey())\n        .addHeader(&quot;X-RapidAPI-Host&quot;, trackerConfig.apiHost())\n        .build();\n    \n    Response response = null;\n    \n    try {\n        response = client.newCall(request).execute();\n                    \n        String jsonResponse = response.body().string();\n        System.out.println(jsonResponse);\n\n        \n        obj = new JSONObject(jsonResponse);\n        data = obj.getJSONObject(&quot;data&quot;);\n        JSONArray arr = data.getJSONArray(&quot;coins&quot;);\n                    \n        System.out.println(arr);\n\n        for(int i=0; i&lt;arr.length(); i++) {\n            CoinDTO coinRecords = new CoinDTO();\n            coinRecords.setName(arr.getJSONObject(i).getString(&quot;name&quot;));\n            coinRecords.setSymbol(arr.getJSONObject(i).getString(&quot;symbol&quot;));\n            coinRecords.setPrice(arr.getJSONObject(i).getFloat(&quot;price&quot;));\n            coinRecords.setRank(arr.getJSONObject(i).getInt(&quot;rank&quot;));\n            coinRecords.setChange(arr.getJSONObject(i).getFloat(&quot;change&quot;));\n            coinRecords.setUrl(arr.getJSONObject(i).getString(&quot;iconUrl&quot;));\n            coinRecords.setMarketCap(arr.getJSONObject(i).getString(&quot;marketCap&quot;));\n            newData.add(coinRecords);\n        }\n        this.coinList = newData;\n        \n    }catch(IOException e) {\n        e.printStackTrace();\n    }\n    \n    // Requesting response.body().string() more than once will cause illegal state exception.   \n}\n</code></pre>\n<p>}</p>\n<p>The JSON response from crypto API looks very fishy. 1-60 results, there is no problem in getting the data. But when I increase the response count to 100 coins. A few of them have null values and this is giving me number format exception. As shown below,</p>\n<pre><code>Caused by: org.json.JSONException: JSONObject[&quot;change&quot;] is not a number.\n    at org.json.JSONObject.getFloat(JSONObject.java:655) ~[json-20180130.jar:na]\n    at com.vish.trackerapp.service.APIService.getAPIData(APIService.java:86) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:424) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:368) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:192) ~[spring-beans-6.0.2.jar:6.0.2]\n    ... 37 common frames omitted\n</code></pre>\n<pre><code>Caused by: java.lang.NumberFormatException: For input string: &quot;null&quot;\n    at java.base/jdk.internal.math.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:2054) ~[na:na]\n    at java.base/jdk.internal.math.FloatingDecimal.parseFloat(FloatingDecimal.java:122) ~[na:na]\n    at java.base/java.lang.Float.parseFloat(Float.java:476) ~[na:na]\n    at org.json.JSONObject.getFloat(JSONObject.java:653) ~[json-20180130.jar:na]\n    ... 45 common frames omitted\n</code></pre>\n<p>Json response is as follows,</p>\n<pre><code>{\n                &quot;uuid&quot;: &quot;aQx_vW8s1&quot;,\n                &quot;symbol&quot;: &quot;XEC&quot;,\n                &quot;name&quot;: &quot;eCash&quot;,\n                &quot;color&quot;: null,\n                &quot;iconUrl&quot;: &quot;https://cdn.coinranking.com/wdqRaUEhn/xec.png&quot;,\n                &quot;marketCap&quot;: &quot;458134192&quot;,\n                &quot;price&quot;: &quot;0.000023888579923343&quot;,\n                &quot;listedAt&quot;: 1634887994,\n                &quot;tier&quot;: 1,\n                &quot;change&quot;: &quot;0.07&quot;,\n                &quot;rank&quot;: 73,\n                &quot;sparkline&quot;: [\n                    &quot;0.000023888455899517&quot;,\n                    &quot;0.000023873825475088&quot;,\n                    &quot;0.00002383507280166&quot;,\n                    &quot;0.000023738913764452&quot;,\n                    &quot;0.000023705304867018&quot;,\n                    &quot;0.000023643911925818&quot;,\n                    &quot;0.000023626155269768&quot;,\n                    &quot;0.000023699523887097&quot;,\n                    &quot;0.000023745220955252&quot;,\n                    &quot;0.000023820571142281&quot;,\n                    &quot;0.000023801617704237&quot;,\n                    &quot;0.000023816460854558&quot;,\n                    &quot;0.000023795169626986&quot;,\n                    &quot;0.000023858079419847&quot;,\n                    &quot;0.000023892553157129&quot;,\n                    &quot;0.000023849240281632&quot;,\n                    &quot;0.000023857584839752&quot;,\n                    &quot;0.000024048737766589&quot;,\n                    &quot;0.00002392004515143&quot;,\n                    &quot;0.000023808725016789&quot;,\n                    &quot;0.000023751508927767&quot;,\n                    &quot;0.000023764344487179&quot;,\n                    &quot;0.000023826878245569&quot;,\n                    &quot;0.000023885406955056&quot;,\n                    &quot;0.000023888537567965&quot;\n                ],\n                &quot;lowVolume&quot;: false,\n                &quot;coinrankingUrl&quot;: &quot;https://coinranking.com/coin/aQx_vW8s1+ecash-xec&quot;,\n                &quot;24hVolume&quot;: &quot;5918517&quot;,\n                &quot;btcPrice&quot;: &quot;1.416302521e-9&quot;\n            }\n</code></pre>\n<p>I tried this idea, but couldn't figure it out how to include in my code.</p>\n<pre><code>            newData.stream().filter(v -&gt; v != null);\n\n</code></pre>\n<p>Greatly appreciate any suggestions or ideas.</p>\n"},{"tags":["java","spring-boot","interceptor"],"comments":[{"owner":{"account_id":7587430,"reputation":27,"user_id":5756037,"display_name":"YoramEi"},"score":0,"creation_date":1673257606,"post_id":75055425,"comment_id":132449463,"body_markdown":"java : 8\nspring-boot version: 2.5.6\nspringframework-security: 5.5.3","body":"java : 8 spring-boot version: 2.5.6 springframework-security: 5.5.3"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673259484,"post_id":75055425,"comment_id":132450100,"body_markdown":"The `DispatcherServlet` by default doesn&#39;t dispatch TRACE request. Add `spring.mvc.dispatch-trace-request=true` to your properties.","body":"The <code>DispatcherServlet</code> by default doesn&#39;t dispatch TRACE request. Add <code>spring.mvc.dispatch-trace-request=true</code> to your properties."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673352885,"creation_date":1673352885,"answer_id":75069822,"question_id":75055425,"body_markdown":"As explained in the [JavaDoc for the `DispatcherServlet`][1] the TRACE request are by default not dispatched, hence they will never reach your controllers/interceptor. \r\n\r\nLuckily you are using Spring Boot which makes configuring this quite easy through the `spring.mvc.dispatch-trace-request` property, which is by default `false`. Setting this to `true` in your `application.properties` will enable dispatching for TRACE request. \r\n\r\n```properties\r\nspring.mvc.dispatch-trace-request=true\r\n```\r\n\r\nAdding the above to your properties will enable it and will make things work as you expect. \r\n\r\n\r\n[1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/FrameworkServlet.html#setDispatchTraceRequest(boolean)","title":"springboot java interceptor doesn&#39;t invoke TRACE commad","body":"<p>As explained in the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/FrameworkServlet.html#setDispatchTraceRequest(boolean)\" rel=\"nofollow noreferrer\">JavaDoc for the <code>DispatcherServlet</code></a> the TRACE request are by default not dispatched, hence they will never reach your controllers/interceptor.</p>\n<p>Luckily you are using Spring Boot which makes configuring this quite easy through the <code>spring.mvc.dispatch-trace-request</code> property, which is by default <code>false</code>. Setting this to <code>true</code> in your <code>application.properties</code> will enable dispatching for TRACE request.</p>\n<pre><code>spring.mvc.dispatch-trace-request=true\n</code></pre>\n<p>Adding the above to your properties will enable it and will make things work as you expect.</p>\n"}],"owner":{"account_id":7587430,"reputation":27,"user_id":5756037,"display_name":"YoramEi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75069822,"answer_count":1,"score":0,"last_activity_date":1673352885,"creation_date":1673257344,"question_id":75055425,"body_markdown":"I define an interceptor in spring-boot.\r\nI override the `preHandle` method.\r\nthe interceptor is invoking for all HTTP commands : GET/PUT/POST/PATCH/DELETE/HEAD/OPTIONS\r\nbut it doesn&#39;t invoked for TRACE command.\r\n\r\nwhat am I miss?\r\n\r\nthe interceptor:\r\n\r\n\r\n\r\n    @Component\r\n    public class BlockingHttpInterceptor implements HandlerInterceptor {\r\n    \r\n        private final Class&lt;?&gt; thisClass = this.getClass();\r\n    \r\n        private String BASE_URL = &quot;/subscribers&quot;;\r\n    \r\n        @Override\r\n        public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\r\n            if (HttpMethod.GET.matches(request.getMethod())\r\n                    || HttpMethod.POST.matches(request.getMethod())\r\n                    || (HttpMethod.DELETE.matches(request.getMethod()) &amp;&amp; request.getRequestURI().startsWith(BASE_URL))\r\n                    || HttpMethod.PATCH.matches(request.getMethod())) {\r\n                return true;\r\n            } else {\r\n                response.sendError(HttpStatus.METHOD_NOT_ALLOWED.value());\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n\r\nthe interceptor config:\r\n\r\n    @Configuration\r\n    public class InterceptorConfig implements WebMvcConfigurer {\r\n    \r\n        @Autowired\r\n        private BlockingHttpInterceptor blockingHttpInterceptor;\r\n    \r\n        @Override\r\n        public void addInterceptors(InterceptorRegistry registry){\r\n            registry.addInterceptor(blockingHttpInterceptor).addPathPatterns(&quot;/**&quot;);\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"springboot java interceptor doesn&#39;t invoke TRACE commad","body":"<p>I define an interceptor in spring-boot.\nI override the <code>preHandle</code> method.\nthe interceptor is invoking for all HTTP commands : GET/PUT/POST/PATCH/DELETE/HEAD/OPTIONS\nbut it doesn't invoked for TRACE command.</p>\n<p>what am I miss?</p>\n<p>the interceptor:</p>\n<pre><code>@Component\npublic class BlockingHttpInterceptor implements HandlerInterceptor {\n\n    private final Class&lt;?&gt; thisClass = this.getClass();\n\n    private String BASE_URL = &quot;/subscribers&quot;;\n\n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\n        if (HttpMethod.GET.matches(request.getMethod())\n                || HttpMethod.POST.matches(request.getMethod())\n                || (HttpMethod.DELETE.matches(request.getMethod()) &amp;&amp; request.getRequestURI().startsWith(BASE_URL))\n                || HttpMethod.PATCH.matches(request.getMethod())) {\n            return true;\n        } else {\n            response.sendError(HttpStatus.METHOD_NOT_ALLOWED.value());\n            return false;\n        }\n    }\n}\n</code></pre>\n<p>the interceptor config:</p>\n<pre><code>@Configuration\npublic class InterceptorConfig implements WebMvcConfigurer {\n\n    @Autowired\n    private BlockingHttpInterceptor blockingHttpInterceptor;\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry){\n        registry.addInterceptor(blockingHttpInterceptor).addPathPatterns(&quot;/**&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-autoconfiguration"],"comments":[{"owner":{"account_id":14601909,"reputation":955,"user_id":10545973,"display_name":"Rick"},"score":2,"creation_date":1673352902,"post_id":75069788,"comment_id":132474903,"body_markdown":"This seems highly dependent on the specific use case and is likely to lead to opinionated answers.","body":"This seems highly dependent on the specific use case and is likely to lead to opinionated answers."},{"owner":{"account_id":14980452,"reputation":65,"user_id":11817022,"display_name":"Tech Guy"},"score":0,"creation_date":1673353042,"post_id":75069788,"comment_id":132474940,"body_markdown":"@Rick Is there any bad aspect of what I am doing?","body":"@Rick Is there any bad aspect of what I am doing?"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1673353486,"post_id":75069788,"comment_id":132475080,"body_markdown":"If I found a random, unsubstantiated claim in some random person&#39;s blog post, I would give it less weight than you seem to be. Their job as an author is to convince you that their approach has tangible benefits. If they don&#39;t convince you then ignore them. It&#39;s not your job to try and infer what those benefits might be.","body":"If I found a random, unsubstantiated claim in some random person&#39;s blog post, I would give it less weight than you seem to be. Their job as an author is to convince you that their approach has tangible benefits. If they don&#39;t convince you then ignore them. It&#39;s not your job to try and infer what those benefits might be."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1673355832,"post_id":75069788,"comment_id":132475930,"body_markdown":"If actual context is [this blogpost](https://piotrminkowski.com/2020/08/04/guide-to-building-spring-boot-library/), I believe the main idea was following: typically `spring-boot` starters define beans together with `@ConditionalOnMissingBean` annotation in order to give a chance consumer to override something (looks like a typical `spring-boot` convention), and you may not use `@ConditionalOnMissingBean` together with `@Component/@Service` annotations, please read javadoc: &quot;it is strongly recommended to use this condition on auto-configuration classes only&quot;","body":"If actual context is <a href=\"https://piotrminkowski.com/2020/08/04/guide-to-building-spring-boot-library/\" rel=\"nofollow noreferrer\">this blogpost</a>, I believe the main idea was following: typically <code>spring-boot</code> starters define beans together with <code>@ConditionalOnMissingBean</code> annotation in order to give a chance consumer to override something (looks like a typical <code>spring-boot</code> convention), and you may not use <code>@ConditionalOnMissingBean</code> together with <code>@Component&#47;@Service</code> annotations, please read javadoc: &quot;it is strongly recommended to use this condition on auto-configuration classes only&quot;"},{"owner":{"account_id":14980452,"reputation":65,"user_id":11817022,"display_name":"Tech Guy"},"score":0,"creation_date":1673371131,"post_id":75069788,"comment_id":132481801,"body_markdown":"@AndreyB.Panfilov Exactly that is the post I was reading. Thank you for the response and I understand. And thank you everyone shared the ideas. I appreciate it.","body":"@AndreyB.Panfilov Exactly that is the post I was reading. Thank you for the response and I understand. And thank you everyone shared the ideas. I appreciate it."}],"owner":{"account_id":14980452,"reputation":65,"user_id":11817022,"display_name":"Tech Guy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":353,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"closed_date":1673356195,"answer_count":0,"score":3,"last_activity_date":1673352668,"creation_date":1673352668,"question_id":75069788,"body_markdown":"I am creating a Spring Boot library which can be used for my main projects. Is it not a good practice to annotate beans inside a custom library with @Component or @Service in Spring Boot? If so, why? \r\n\r\nBecause I saw an article saying,\r\n\r\n&gt; Do not annotate each of your beans inside a library with @Component or\r\n&gt; @Service, but define them in an auto-configured module.\r\n\r\nBut I have 2 classes which I annotated as `@Service` and inside those 2 classes they have some beans configured as follows,\r\n\r\n    @Service\r\n    public class SomeClass {\r\n    \r\n    private @Autowired SomeClient client;\r\n    \r\n    @Bean\r\n    public SomeClient client(@Value(&quot;${some.param}) String key) {\r\n       return new SomeClient(key);\r\n    }\r\n    \r\n    public void use() {\r\n       // use the @Autowired client and do a task\r\n    }\r\n    }\r\n\r\nWhen I used this library as a dependency in my main project it is working fine. But I need to know what is the best practice since that article says not to do this. But if I have to configure these inside `AutoConfiguration` class it&#39;s tedious. So can anyone guide me to the correct path? Thank you.","title":"Is it a good practice to annotate beans inside a custom library with @Component or @Service in Spring Boot?","body":"<p>I am creating a Spring Boot library which can be used for my main projects. Is it not a good practice to annotate beans inside a custom library with @Component or @Service in Spring Boot? If so, why?</p>\n<p>Because I saw an article saying,</p>\n<blockquote>\n<p>Do not annotate each of your beans inside a library with @Component or\n@Service, but define them in an auto-configured module.</p>\n</blockquote>\n<p>But I have 2 classes which I annotated as <code>@Service</code> and inside those 2 classes they have some beans configured as follows,</p>\n<pre><code>@Service\npublic class SomeClass {\n\nprivate @Autowired SomeClient client;\n\n@Bean\npublic SomeClient client(@Value(&quot;${some.param}) String key) {\n   return new SomeClient(key);\n}\n\npublic void use() {\n   // use the @Autowired client and do a task\n}\n}\n</code></pre>\n<p>When I used this library as a dependency in my main project it is working fine. But I need to know what is the best practice since that article says not to do this. But if I have to configure these inside <code>AutoConfiguration</code> class it's tedious. So can anyone guide me to the correct path? Thank you.</p>\n"},{"tags":["java","android","kotlin","view"],"owner":{"account_id":2673198,"reputation":116,"user_id":2310109,"display_name":"vishal_ratna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673352541,"creation_date":1673352148,"question_id":75069679,"body_markdown":"I am thinking, if we create a custom view using MutableContextWrapper(applicationContext), and keep it in singleton scope. And when we enter into different activities, we can do,\r\n Fetch the view instance from the singleton. Then, \r\n(MutableContextWrapper(view.getContext())).setBaseContext(activityCtxA).\r\n\r\nI know it is not recommended to cache views like this but what are the side effects of it?\r\n\r\n\r\n\r\nWhen I tried following the above approach, things are working fine prima facie as expected. I want to understand the corner cases that could break.\r\n","title":"Is there a possibility of caching custom views across activities using MutableContextWrapper?","body":"<p>I am thinking, if we create a custom view using MutableContextWrapper(applicationContext), and keep it in singleton scope. And when we enter into different activities, we can do,\nFetch the view instance from the singleton. Then,\n(MutableContextWrapper(view.getContext())).setBaseContext(activityCtxA).</p>\n<p>I know it is not recommended to cache views like this but what are the side effects of it?</p>\n<p>When I tried following the above approach, things are working fine prima facie as expected. I want to understand the corner cases that could break.</p>\n"},{"tags":["java","functional-programming","java-8"],"answers":[{"tags":[],"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1406886440,"creation_date":1406886440,"answer_id":25077381,"question_id":25077203,"body_markdown":"You could easily write your own:\r\n\r\n    public static &lt;T&gt; void fillArray(T[] array, Supplier&lt;? extends T&gt; supplier) {\r\n        for(int k = 0; k &lt; array.length; k++)\r\n            array[k] = supplier.get();\r\n    }","title":"Java 8 fill array with supplier","body":"<p>You could easily write your own:</p>\n\n<pre><code>public static &lt;T&gt; void fillArray(T[] array, Supplier&lt;? extends T&gt; supplier) {\n    for(int k = 0; k &lt; array.length; k++)\n        array[k] = supplier.get();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4326511,"reputation":8441,"user_id":3533191,"accept_rate":62,"display_name":"Syam S"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1406888612,"creation_date":1406887044,"answer_id":25077583,"question_id":25077203,"body_markdown":"Alternative to Pshemo&#39;s solution you could use map method.\r\n\r\n\tObject[] array = new Object[size];\r\n\tarray = Arrays.stream(array).map(a -&gt; new Object()).toArray();","title":"Java 8 fill array with supplier","body":"<p>Alternative to Pshemo's solution you could use map method.</p>\n\n<pre><code>Object[] array = new Object[size];\narray = Arrays.stream(array).map(a -&gt; new Object()).toArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1673352453,"creation_date":1406887659,"answer_id":25077786,"question_id":25077203,"body_markdown":"In case you want to ***create new array*** filled with results generated by Supplier you can use \r\n\r\n    Object[] array = Stream.generate(supplier)\r\n                           .limit(arraySize)\r\n                           .toArray(); // will generate new *Object[]* array\r\n\r\nFor different types than `Object[]` you can use `toArray(IntFunction&lt;YourType[]&gt; generator);` like `toArray(YourType[]::new)` ([credits to][5] [@Holger][3]).\r\n\r\n    String[] array  = Stream.generate(supplier)\r\n                            .limit(10)\r\n                            .toArray(String[]::new); //now *String[]* array will be returned\r\n\r\nStreams also allow us to work with most &quot;popular&quot; primitive types which are `int` `long` and `double`. For instance we can use `IntStream#toArray` to create `int[]` holding elements from `IntStream`. To &quot;fill&quot; `IntStream` with elements from supplier we can use `IntStream.generate(intSupplier)` like\r\n\r\n    int[] array = IntStream.generate(()-&gt;1)\r\n                           .limit(5)\r\n                           .toArray(); //returns `new Int[]{1,1,1,1,1}\r\n\r\n---\r\n\r\nIn case when you want to fill ***already existing array*** with data from Supplier see [answer][1] posted by [Stuart Marks][2] based on `Arrays.setAll(array, supplier)` which aside from handling arrays of objects also supports *some* arrays of primitive types: `double[]` `int[]` and `long[]` . \r\n\r\n**Other alternative** is to use *creative* solution from [@Hogler&#39;s][3] [comment][4]:\r\n\r\n    Arrays.asList(array).replaceAll(x -&gt; supplier.get()); \r\n    //you can even overwrite a range using `subList`\r\n\r\njust be aware that `Arrays.asList` is designed to work with arrays of reference type (non-primitive ones), so it will not handle &quot;properly&quot; arrays like `int[]` as explained by Jon Skeet in answer: https://stackoverflow.com/a/1467940.\r\n\r\n  [1]: https://stackoverflow.com/a/25082456/1393766\r\n  [2]: https://stackoverflow.com/users/1441122/stuart-marks\r\n  [3]: https://stackoverflow.com/users/2711488/holger\r\n  [4]: https://stackoverflow.com/questions/25077203/java-8-fill-array-with-supplier/25077786#comment39019224_25077786\r\n  [5]: https://stackoverflow.com/questions/25077203/java-8-fill-array-with-supplier/25077583?noredirect=1#comment39016740_25077786","title":"Java 8 fill array with supplier","body":"<p>In case you want to <em><strong>create new array</strong></em> filled with results generated by Supplier you can use</p>\n<pre><code>Object[] array = Stream.generate(supplier)\n                       .limit(arraySize)\n                       .toArray(); // will generate new *Object[]* array\n</code></pre>\n<p>For different types than <code>Object[]</code> you can use <code>toArray(IntFunction&lt;YourType[]&gt; generator);</code> like <code>toArray(YourType[]::new)</code> (<a href=\"https://stackoverflow.com/questions/25077203/java-8-fill-array-with-supplier/25077583?noredirect=1#comment39016740_25077786\">credits to</a> <a href=\"https://stackoverflow.com/users/2711488/holger\">@Holger</a>).</p>\n<pre><code>String[] array  = Stream.generate(supplier)\n                        .limit(10)\n                        .toArray(String[]::new); //now *String[]* array will be returned\n</code></pre>\n<p>Streams also allow us to work with most &quot;popular&quot; primitive types which are <code>int</code> <code>long</code> and <code>double</code>. For instance we can use <code>IntStream#toArray</code> to create <code>int[]</code> holding elements from <code>IntStream</code>. To &quot;fill&quot; <code>IntStream</code> with elements from supplier we can use <code>IntStream.generate(intSupplier)</code> like</p>\n<pre><code>int[] array = IntStream.generate(()-&gt;1)\n                       .limit(5)\n                       .toArray(); //returns `new Int[]{1,1,1,1,1}\n</code></pre>\n<hr />\n<p>In case when you want to fill <em><strong>already existing array</strong></em> with data from Supplier see <a href=\"https://stackoverflow.com/a/25082456/1393766\">answer</a> posted by <a href=\"https://stackoverflow.com/users/1441122/stuart-marks\">Stuart Marks</a> based on <code>Arrays.setAll(array, supplier)</code> which aside from handling arrays of objects also supports <em>some</em> arrays of primitive types: <code>double[]</code> <code>int[]</code> and <code>long[]</code> .</p>\n<p><strong>Other alternative</strong> is to use <em>creative</em> solution from <a href=\"https://stackoverflow.com/users/2711488/holger\">@Hogler's</a> <a href=\"https://stackoverflow.com/questions/25077203/java-8-fill-array-with-supplier/25077786#comment39019224_25077786\">comment</a>:</p>\n<pre><code>Arrays.asList(array).replaceAll(x -&gt; supplier.get()); \n//you can even overwrite a range using `subList`\n</code></pre>\n<p>just be aware that <code>Arrays.asList</code> is designed to work with arrays of reference type (non-primitive ones), so it will not handle &quot;properly&quot; arrays like <code>int[]</code> as explained by Jon Skeet in answer: <a href=\"https://stackoverflow.com/a/1467940\">https://stackoverflow.com/a/1467940</a>.</p>\n"},{"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1425147461,"creation_date":1406903247,"answer_id":25082456,"question_id":25077203,"body_markdown":"In [`java.util.Arrays`][1] there is\r\n\r\n    &lt;T&gt; void Arrays.setAll(T[] array, IntFunction&lt;T&gt; generator)\r\n\r\nThis doesn&#39;t take a supplier; instead it takes an `IntFunction` whose input argument is the array index being filled. If your objects aren&#39;t dependent upon the destination array index, you can disregard the parameter and call a supplier like this:\r\n\r\n    Arrays.setAll(array, i -&gt; supplier.get());\r\n\r\nThere are overloads for arrays of primitives as well as arrays of reference type. There is also a corresponding family of methods `parallelSetAll()` that does the same thing, except in parallel. (It uses streams internally.)\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#setAll-T:A-java.util.function.IntFunction-","title":"Java 8 fill array with supplier","body":"<p>In <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#setAll-T:A-java.util.function.IntFunction-\" rel=\"noreferrer\"><code>java.util.Arrays</code></a> there is</p>\n\n<pre><code>&lt;T&gt; void Arrays.setAll(T[] array, IntFunction&lt;T&gt; generator)\n</code></pre>\n\n<p>This doesn't take a supplier; instead it takes an <code>IntFunction</code> whose input argument is the array index being filled. If your objects aren't dependent upon the destination array index, you can disregard the parameter and call a supplier like this:</p>\n\n<pre><code>Arrays.setAll(array, i -&gt; supplier.get());\n</code></pre>\n\n<p>There are overloads for arrays of primitives as well as arrays of reference type. There is also a corresponding family of methods <code>parallelSetAll()</code> that does the same thing, except in parallel. (It uses streams internally.)</p>\n"}],"owner":{"account_id":1744405,"reputation":28860,"user_id":1594933,"accept_rate":74,"display_name":"gontard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20149,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":25077786,"answer_count":4,"score":26,"last_activity_date":1673352453,"creation_date":1406885809,"question_id":25077203,"body_markdown":"Is there a way to fill an array using java 8 [`Supplier`][1] ? \r\n\r\nI would like to write:\r\n\r\n    Supplier&lt;Object&gt; supplier = () -&gt; new Object();\r\n    Object[] array = new Object[size];\r\n    Arrays.fill(array, supplier);\r\n\r\nNote:\r\nI know i could write my own method.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/function/Supplier.html","title":"Java 8 fill array with supplier","body":"<p>Is there a way to fill an array using java 8 <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/function/Supplier.html\" rel=\"noreferrer\"><code>Supplier</code></a> ? </p>\n\n<p>I would like to write:</p>\n\n<pre><code>Supplier&lt;Object&gt; supplier = () -&gt; new Object();\nObject[] array = new Object[size];\nArrays.fill(array, supplier);\n</code></pre>\n\n<p>Note:\nI know i could write my own method.</p>\n"},{"tags":["java","kotlin","build.gradle"],"comments":[{"owner":{"account_id":1951,"reputation":26904,"user_id":2684,"accept_rate":87,"display_name":"Martin Marconcini"},"score":0,"creation_date":1673350010,"post_id":75069264,"comment_id":132473973,"body_markdown":"Does this answer your question? [In Gradle, is there a better way to get Environment Variables?](https://stackoverflow.com/questions/9854176/in-gradle-is-there-a-better-way-to-get-environment-variables)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/9854176/in-gradle-is-there-a-better-way-to-get-environment-variables\">In Gradle, is there a better way to get Environment Variables?</a>"},{"owner":{"account_id":26077349,"reputation":79,"user_id":19776112,"display_name":"justrying"},"score":0,"creation_date":1673350095,"post_id":75069264,"comment_id":132473993,"body_markdown":"Hi @MartinMarconcini nope it doesn&#39;t, I know how to that, my question is how to migrate the build.gradle variables to build.gradle.kts","body":"Hi @MartinMarconcini nope it doesn&#39;t, I know how to that, my question is how to migrate the build.gradle variables to build.gradle.kts"}],"answers":[{"tags":[],"owner":{"account_id":1951,"reputation":26904,"user_id":2684,"accept_rate":87,"display_name":"Martin Marconcini"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673352193,"creation_date":1673350724,"answer_id":75069428,"question_id":75069264,"body_markdown":"Well, the issue is shown in [the other question](https://stackoverflow.com/questions/9854176/in-gradle-is-there-a-better-way-to-get-environment-variables), `System.getenv` is a static java method that doesn&#39;t guarantee the nullability of the returned String. In Kotlin, this is a compilation error. So what the compiler is telling you is &quot;I cannot guarantee that calling `toString()` on the returned string won&#39;t crash with a NullPointerException because the JVM method `getenv` doesn&#39;t guarantee it&quot;. I&#39;d argue that you don&#39;t need the `toString()` call at all.\r\n\r\n```\r\nlateinit var db: String\r\n// or\r\nvar db: String? = null //this can now be null\r\n\r\n\r\n//then\r\next {\r\n    db = System.getenv(&quot;YOUR_DB&quot;) ?: &quot;&quot; //UPDATE: you also need this since getenv can return null, or you need to make the variable `String?`\r\n//or\r\n    db = System.getenv(&quot;YOUR_DB&quot;) ?: &quot;&quot; // since it can be null, set some fallback, like empty or null\r\n}\r\n```\r\n\r\nThis should work no problem.\r\n\r\n### UPDATE\r\n\r\nI&#39;ve created a new empty android project with compose (which uses build.gradle.kt instead of groovy), and added this:\r\n\r\n```\r\nlateinit var something1: String\r\nvar something2: String? = null\r\n\r\next {\r\n    something1 = System.getenv(&quot;something&quot;) ?: &quot;&quot;\r\n    something2 = System.getenv(&quot;something2&quot;) ?: &quot;&quot;\r\n}\r\n```\r\n\r\n[![Image of Android Studio editor with a short code snippet][1]][1]\r\n\r\nIt compiled no problem. (And I&#39;d assume it would work if the environment variables were set).\r\n\r\n`BUILD SUCCESSFUL in 25s`\r\n\r\n\r\n### Update 2 a real test\r\n\r\nI&#39;ve actually done this \r\n\r\n```\r\nlateinit var something1: String\r\nvar something2: String? = null\r\n\r\next {\r\n    something1 = System.getenv(&quot;SHELL&quot;) ?: &quot;&quot;\r\n    something2 = System.getenv(&quot;SHELL&quot;) ?: &quot;&quot;\r\n}\r\n\r\ntasks.register(&quot;printSomething&quot;) {\r\n    println(&quot;Something 1 is $something1&quot;)\r\n    println(&quot;Something 2 is $something2&quot;)\r\n}\r\n```\r\n\r\nThen I ran `./gradle printSomething`\r\n\r\nAnd here&#39;s the result:\r\n\r\n[![Image of terminal emulator where gradlew printsomething was executed and the output is as expected according the code snipet above this image.][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mIjxR.png\r\n  [2]: https://i.stack.imgur.com/Awx9W.png","title":"How do you setup variables in build.gradle.kts","body":"<p>Well, the issue is shown in <a href=\"https://stackoverflow.com/questions/9854176/in-gradle-is-there-a-better-way-to-get-environment-variables\">the other question</a>, <code>System.getenv</code> is a static java method that doesn't guarantee the nullability of the returned String. In Kotlin, this is a compilation error. So what the compiler is telling you is &quot;I cannot guarantee that calling <code>toString()</code> on the returned string won't crash with a NullPointerException because the JVM method <code>getenv</code> doesn't guarantee it&quot;. I'd argue that you don't need the <code>toString()</code> call at all.</p>\n<pre><code>lateinit var db: String\n// or\nvar db: String? = null //this can now be null\n\n\n//then\next {\n    db = System.getenv(&quot;YOUR_DB&quot;) ?: &quot;&quot; //UPDATE: you also need this since getenv can return null, or you need to make the variable `String?`\n//or\n    db = System.getenv(&quot;YOUR_DB&quot;) ?: &quot;&quot; // since it can be null, set some fallback, like empty or null\n}\n</code></pre>\n<p>This should work no problem.</p>\n<h3>UPDATE</h3>\n<p>I've created a new empty android project with compose (which uses build.gradle.kt instead of groovy), and added this:</p>\n<pre><code>lateinit var something1: String\nvar something2: String? = null\n\next {\n    something1 = System.getenv(&quot;something&quot;) ?: &quot;&quot;\n    something2 = System.getenv(&quot;something2&quot;) ?: &quot;&quot;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/mIjxR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mIjxR.png\" alt=\"Image of Android Studio editor with a short code snippet\" /></a></p>\n<p>It compiled no problem. (And I'd assume it would work if the environment variables were set).</p>\n<p><code>BUILD SUCCESSFUL in 25s</code></p>\n<h3>Update 2 a real test</h3>\n<p>I've actually done this</p>\n<pre><code>lateinit var something1: String\nvar something2: String? = null\n\next {\n    something1 = System.getenv(&quot;SHELL&quot;) ?: &quot;&quot;\n    something2 = System.getenv(&quot;SHELL&quot;) ?: &quot;&quot;\n}\n\ntasks.register(&quot;printSomething&quot;) {\n    println(&quot;Something 1 is $something1&quot;)\n    println(&quot;Something 2 is $something2&quot;)\n}\n</code></pre>\n<p>Then I ran <code>./gradle printSomething</code></p>\n<p>And here's the result:</p>\n<p><a href=\"https://i.stack.imgur.com/Awx9W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Awx9W.png\" alt=\"Image of terminal emulator where gradlew printsomething was executed and the output is as expected according the code snipet above this image.\" /></a></p>\n"}],"owner":{"account_id":26077349,"reputation":79,"user_id":19776112,"display_name":"justrying"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":654,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75069428,"answer_count":1,"score":2,"last_activity_date":1673352193,"creation_date":1673349874,"question_id":75069264,"body_markdown":"In build.gradle I Know you can do this\r\n\r\n    ext {\r\n        dbUsername = System.getenv(&quot;DB_USER&quot;).toString()\r\n        dbPassword = System.getenv(&quot;DB_PASS&quot;).toString()\r\n        libsUserNameNew = System.getenv(&quot;LIBS_USERNAME_NEW&quot;).toString()\r\n        libsPassNew = System.getenv(&quot;LIBS_PASS_NEW&quot;).toString()\r\n        gitShortTag = System.getenv(&quot;SHORT_SHA&quot;).toString()\r\n        repoName = System.getenv(&quot;REPO_NAME&quot;).toString()\r\n        group = &quot;app.test.customerservicepoc&quot;\r\n        mainClass = &quot;app.test.customerservicepoc.CustomerServicePOC&quot;\r\n    }\r\n\r\nHow can I achieve the same using `build.gradle.kts`\r\nThis is what I have tried \r\n\r\n    var dbUsername =&quot;&quot;\r\n    var dbPassword =&quot;&quot;\r\n    var LibsUserNameNew = &quot;&quot;\r\n    var LibsPassNew = &quot;&quot;\r\n    var gitShortTag  = &quot;&quot;\r\n    var repoName = &quot;&quot;\r\n\r\nand then\r\n\r\n    ext {\r\n        dbUsername = System.getenv(&quot;DB_USER&quot;).toString()\r\n        dbPassword = System.getenv(&quot;DB_PASS&quot;).toString()\r\n        kyoskLibsUserNameNew = System.getenv(&quot;LIBS_USERNAME_NEW&quot;).toString()\r\n        LibsPassNew = System.getenv(&quot;LIBS_PASS_NEW&quot;).toString()\r\n        gitShortTag = System.getenv(&quot;SHORT_SHA&quot;).toString()\r\n        repoName = System.getenv(&quot;REPO_NAME&quot;).toString()\r\n        group = &quot;app.test.mms&quot;\r\n    }\r\n\r\nduring build I end up getting errors\r\n\r\n&gt; * What went wrong: 945 Cannot invoke &quot;String.toString()&quot; because the return value of\r\n&gt; &quot;org.gradle.internal.classpath.Instrumented.getenv(String, String)&quot; is\r\n&gt; null\r\n\r\nI am migrating the project to `kotlin gradle`, how can I define the variables in kotlin gradle?\r\n\r\n","title":"How do you setup variables in build.gradle.kts","body":"<p>In build.gradle I Know you can do this</p>\n<pre><code>ext {\n    dbUsername = System.getenv(&quot;DB_USER&quot;).toString()\n    dbPassword = System.getenv(&quot;DB_PASS&quot;).toString()\n    libsUserNameNew = System.getenv(&quot;LIBS_USERNAME_NEW&quot;).toString()\n    libsPassNew = System.getenv(&quot;LIBS_PASS_NEW&quot;).toString()\n    gitShortTag = System.getenv(&quot;SHORT_SHA&quot;).toString()\n    repoName = System.getenv(&quot;REPO_NAME&quot;).toString()\n    group = &quot;app.test.customerservicepoc&quot;\n    mainClass = &quot;app.test.customerservicepoc.CustomerServicePOC&quot;\n}\n</code></pre>\n<p>How can I achieve the same using <code>build.gradle.kts</code>\nThis is what I have tried</p>\n<pre><code>var dbUsername =&quot;&quot;\nvar dbPassword =&quot;&quot;\nvar LibsUserNameNew = &quot;&quot;\nvar LibsPassNew = &quot;&quot;\nvar gitShortTag  = &quot;&quot;\nvar repoName = &quot;&quot;\n</code></pre>\n<p>and then</p>\n<pre><code>ext {\n    dbUsername = System.getenv(&quot;DB_USER&quot;).toString()\n    dbPassword = System.getenv(&quot;DB_PASS&quot;).toString()\n    kyoskLibsUserNameNew = System.getenv(&quot;LIBS_USERNAME_NEW&quot;).toString()\n    LibsPassNew = System.getenv(&quot;LIBS_PASS_NEW&quot;).toString()\n    gitShortTag = System.getenv(&quot;SHORT_SHA&quot;).toString()\n    repoName = System.getenv(&quot;REPO_NAME&quot;).toString()\n    group = &quot;app.test.mms&quot;\n}\n</code></pre>\n<p>during build I end up getting errors</p>\n<blockquote>\n<ul>\n<li>What went wrong: 945 Cannot invoke &quot;String.toString()&quot; because the return value of\n&quot;org.gradle.internal.classpath.Instrumented.getenv(String, String)&quot; is\nnull</li>\n</ul>\n</blockquote>\n<p>I am migrating the project to <code>kotlin gradle</code>, how can I define the variables in kotlin gradle?</p>\n"},{"tags":["javascript","java","jquery","google-chrome","manifest"],"owner":{"account_id":18872527,"reputation":11,"user_id":13766745,"display_name":"Sathiya Kennady"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673352132,"creation_date":1673352132,"question_id":75069676,"body_markdown":"Chrome extension version v3 automatically   runs the chrome.runtime.setUninstallURL function. So its automatically triggers the logout.\r\n\r\nI need the why its occur in v3 but not in v2.\r\n\r\n ","title":"Extension calls uninstalled function in V3 automatically","body":"<p>Chrome extension version v3 automatically   runs the chrome.runtime.setUninstallURL function. So its automatically triggers the logout.</p>\n<p>I need the why its occur in v3 but not in v2.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1673337236,"post_id":75066907,"comment_id":132470107,"body_markdown":"Might be because extending `JpaRepository` already makes it a repo so Spring would handle it accordingly even without the annotation.","body":"Might be because extending <code>JpaRepository</code> already makes it a repo so Spring would handle it accordingly even without the annotation."},{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1673337341,"post_id":75066907,"comment_id":132470139,"body_markdown":"@Thomas Does it&#39;s a good way to wokring with spring like that? because previously when I was working on spring boot this warning was not came in a repository.","body":"@Thomas Does it&#39;s a good way to wokring with spring like that? because previously when I was working on spring boot this warning was not came in a repository."},{"owner":{"account_id":13692434,"reputation":478,"user_id":9879898,"display_name":"sge"},"score":0,"creation_date":1673337819,"post_id":75066907,"comment_id":132470265,"body_markdown":"according to the javadoc at org.springframework.data.repository.Repository spring will discover interfaces that extend this interface during classpath scanning.","body":"according to the javadoc at org.springframework.data.repository.Repository spring will discover interfaces that extend this interface during classpath scanning."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1673338038,"post_id":75066907,"comment_id":132470318,"body_markdown":"I&#39;d assume it&#39;s Spring&#39;s annotation processor that&#39;s generating that warning, right? Can you share a stack trace? Additionally, I can&#39;t tell when or why that warning was added but I&#39;d assume there&#39;s a good reason for this which probably is not grave enough to warrant an error.","body":"I&#39;d assume it&#39;s Spring&#39;s annotation processor that&#39;s generating that warning, right? Can you share a stack trace? Additionally, I can&#39;t tell when or why that warning was added but I&#39;d assume there&#39;s a good reason for this which probably is not grave enough to warrant an error."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1673339415,"post_id":75066907,"comment_id":132470689,"body_markdown":"That stack trace doesn&#39;t seem to be related to your question at all. When I asked for one I was asking for the trace that shows the warning. If there is none because it&#39;s in your IDE only then what IDE are you using, how did you configure annotation processing etc.?","body":"That stack trace doesn&#39;t seem to be related to your question at all. When I asked for one I was asking for the trace that shows the warning. If there is none because it&#39;s in your IDE only then what IDE are you using, how did you configure annotation processing etc.?"},{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1673341687,"post_id":75066907,"comment_id":132471392,"body_markdown":"@Thomas I am using a `Sprintg Tool Suites 4` IDE and I know this stack trace is not related to my question","body":"@Thomas I am using a <code>Sprintg Tool Suites 4</code> IDE and I know this stack trace is not related to my question"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1673342138,"post_id":75066907,"comment_id":132471536,"body_markdown":"If the stack trace isn&#39;t related to your question why did you post it?","body":"If the stack trace isn&#39;t related to your question why did you post it?"}],"answers":[{"tags":[],"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1673338152,"creation_date":1673338152,"answer_id":75067111,"question_id":75066907,"body_markdown":"You are extending `JpaRepository&lt;T, ID&gt;` interface, it means that spring boot must autoconfigure this repository bean for you, namely, it will be configured a proxy bean of [`SimpleJpaRepository&lt;T, ID&gt;`](https://docs.spring.io/spring-data/data-jpa/docs/current/api/org/springframework/data/jpa/repository/support/SimpleJpaRepository.html).\r\n\r\nIn simple words, we do not just create a bean using `@Repository` or `@Component` annotation, we extend the `spring-data` interface and then our repository bean will be autoconfigured.","title":"Why get warning in repository &quot;Unnecessary `@Repository`&quot;","body":"<p>You are extending <code>JpaRepository&lt;T, ID&gt;</code> interface, it means that spring boot must autoconfigure this repository bean for you, namely, it will be configured a proxy bean of <a href=\"https://docs.spring.io/spring-data/data-jpa/docs/current/api/org/springframework/data/jpa/repository/support/SimpleJpaRepository.html\" rel=\"noreferrer\"><code>SimpleJpaRepository&lt;T, ID&gt;</code></a>.</p>\n<p>In simple words, we do not just create a bean using <code>@Repository</code> or <code>@Component</code> annotation, we extend the <code>spring-data</code> interface and then our repository bean will be autoconfigured.</p>\n"},{"tags":[],"owner":{"account_id":25630067,"reputation":1,"user_id":19400589,"display_name":"Dheeraj Kashyap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673339434,"creation_date":1673339434,"answer_id":75067306,"question_id":75066907,"body_markdown":"The Solution depends upon what type of database you intend to use. &quot;Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.&quot; Error you&#39;re getting is because you have not set the url for the database in the application.properties. To solve this issue I would recommend you to Open the application.properties and add the following according to your system:\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/restapi\r\n    spring.datasource.username=root\r\n    spring.datasource.password=","title":"Why get warning in repository &quot;Unnecessary `@Repository`&quot;","body":"<p>The Solution depends upon what type of database you intend to use. &quot;Failed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.&quot; Error you're getting is because you have not set the url for the database in the application.properties. To solve this issue I would recommend you to Open the application.properties and add the following according to your system:</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/restapi\nspring.datasource.username=root\nspring.datasource.password=\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1673351782,"creation_date":1673351210,"answer_id":75069517,"question_id":75066907,"body_markdown":" When to use `@Repository`\r\n-------------------------\r\n\r\nYou want to provide your own implementation of how to access the data layer and what should be done. In this case marking your implementation class with `@Repository` will allow you to have this class managed by spring so that you can autowire necessary fields to access data layer like `EntityManager` , `JdbcTemplate` ...etc. Although `Component`, and `@Repository` in the most fundamental level just register spring beans there are some slight enhancements using `@Repository` which might make it neccessary to use and also best practice in the current case.\r\n\r\nAs per [doc1][2]\r\n\r\n&gt; A class thus annotated with `@Repository` is eligible for Spring\r\n&gt; DataAccessException translation when used in conjunction with a\r\n&gt; PersistenceExceptionTranslationPostProcessor.,\r\n\r\nand [doc2][1]\r\n&gt; \r\n&gt; PersistenceExceptionTranslationPostProcessor\r\n&gt;\r\n&gt; Bean post-processor that\r\n&gt; automatically applies persistence exception translation to any bean\r\n&gt; marked with Spring&#39;s @Repository annotation, adding a corresponding \r\n&gt; PersistenceExceptionTranslationAdvisor to the exposed proxy\r\n\r\nExample of above case use with `@Repository`.\r\n\r\n    @Repository\r\n    public class CustomCarRepositoryImpl implements CustomCarRepository {\r\n    \r\n        @PersistenceContext\r\n        private EntityManager entityManager;\r\n    \r\n        @Override\r\n        public List&lt;CarEntity&gt; findCarsWithSpeed(Integer speed) {\r\n    \r\n            return entityManager.createQuery(&quot;Query to execute&quot;)\r\n                    .setMaxResults(50).getResultList();\r\n        }\r\n     }\r\n\r\n    public interface CustomCarRepository { \r\n         List&lt;CarEntity&gt; findCarsWithSpeed(Integer speed);\r\n    }\r\n\r\nThen you can autowire in your other components the `CustomCarRepository` and access the data layer as you have implemented.\r\n\r\nWhen Not to use `@Repository`\r\n-----------------------------\r\n\r\nWhen you just declare your interface and you extend from any Spring child interface of `Repository` from `org.springframework.data.repository`.\r\n\r\nExample \r\n\r\n    public interface CarRepository extends JpaRepository&lt;CarEntity, Long&gt; {\r\n        List&lt;CarEntity&gt; findCarsWithSpeed(Integer speed);\r\n    }\r\n\r\nIn that case `Spring Boot` will be able to create the repository bean for you automatically from `auto configuration`.\r\n\r\nThe only further action needed is if your own interfaces extending from `Repository` do not exist in the same package or subpackage of where your `@Configuration` or `@SpringBootApplication` exists then you would need\r\n\r\n  *  either `@EnableJpaRepositories(basePackages = {&quot;base-package-where-repositories-exist&quot;})`\r\n  * or `@AutoConfigurationPackage(basePackages = {&quot;base-package-where-repositories-exist&quot;})`\r\n\r\nas to help spring boot identify the package it should look for the auto configuration of that repository. ( The later `@AutoConfigurationPackage` will affect both repositories and other things required for auto configuration like entities scan and more. So it should be used with care in a project and not just for repositories.)\r\n\r\n  \r\n\r\n[1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/dao/annotation/PersistenceExceptionTranslationPostProcessor.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/stereotype/Repository.html\r\n","title":"Why get warning in repository &quot;Unnecessary `@Repository`&quot;","body":"<h2>When to use <code>@Repository</code></h2>\n<p>You want to provide your own implementation of how to access the data layer and what should be done. In this case marking your implementation class with <code>@Repository</code> will allow you to have this class managed by spring so that you can autowire necessary fields to access data layer like <code>EntityManager</code> , <code>JdbcTemplate</code> ...etc. Although <code>Component</code>, and <code>@Repository</code> in the most fundamental level just register spring beans there are some slight enhancements using <code>@Repository</code> which might make it neccessary to use and also best practice in the current case.</p>\n<p>As per <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/stereotype/Repository.html\" rel=\"noreferrer\">doc1</a></p>\n<blockquote>\n<p>A class thus annotated with <code>@Repository</code> is eligible for Spring\nDataAccessException translation when used in conjunction with a\nPersistenceExceptionTranslationPostProcessor.,</p>\n</blockquote>\n<p>and <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/dao/annotation/PersistenceExceptionTranslationPostProcessor.html\" rel=\"noreferrer\">doc2</a></p>\n<blockquote>\n<p>PersistenceExceptionTranslationPostProcessor</p>\n<p>Bean post-processor that\nautomatically applies persistence exception translation to any bean\nmarked with Spring's @Repository annotation, adding a corresponding\nPersistenceExceptionTranslationAdvisor to the exposed proxy</p>\n</blockquote>\n<p>Example of above case use with <code>@Repository</code>.</p>\n<pre><code>@Repository\npublic class CustomCarRepositoryImpl implements CustomCarRepository {\n\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    @Override\n    public List&lt;CarEntity&gt; findCarsWithSpeed(Integer speed) {\n\n        return entityManager.createQuery(&quot;Query to execute&quot;)\n                .setMaxResults(50).getResultList();\n    }\n }\n\npublic interface CustomCarRepository { \n     List&lt;CarEntity&gt; findCarsWithSpeed(Integer speed);\n}\n</code></pre>\n<p>Then you can autowire in your other components the <code>CustomCarRepository</code> and access the data layer as you have implemented.</p>\n<h2>When Not to use <code>@Repository</code></h2>\n<p>When you just declare your interface and you extend from any Spring child interface of <code>Repository</code> from <code>org.springframework.data.repository</code>.</p>\n<p>Example</p>\n<pre><code>public interface CarRepository extends JpaRepository&lt;CarEntity, Long&gt; {\n    List&lt;CarEntity&gt; findCarsWithSpeed(Integer speed);\n}\n</code></pre>\n<p>In that case <code>Spring Boot</code> will be able to create the repository bean for you automatically from <code>auto configuration</code>.</p>\n<p>The only further action needed is if your own interfaces extending from <code>Repository</code> do not exist in the same package or subpackage of where your <code>@Configuration</code> or <code>@SpringBootApplication</code> exists then you would need</p>\n<ul>\n<li>either <code>@EnableJpaRepositories(basePackages = {&quot;base-package-where-repositories-exist&quot;})</code></li>\n<li>or <code>@AutoConfigurationPackage(basePackages = {&quot;base-package-where-repositories-exist&quot;})</code></li>\n</ul>\n<p>as to help spring boot identify the package it should look for the auto configuration of that repository. ( The later <code>@AutoConfigurationPackage</code> will affect both repositories and other things required for auto configuration like entities scan and more. So it should be used with care in a project and not just for repositories.)</p>\n"}],"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1671,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":75067111,"answer_count":3,"score":4,"last_activity_date":1673351782,"creation_date":1673336907,"question_id":75066907,"body_markdown":"I am working on Spring Boot project. I have repository file in my project but it will show me a warning message in repository class `Unnecessary @Repository`. I am extending a `JpaRepository&lt;&gt;` with my repository. My Spring version is **4** and JDK version is **17**.\r\n\r\nHere is my dependencies\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t&lt;optional&gt;true&lt;/optional&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t&lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nHere is my repository\r\n```java\r\n@Repository // Here I get a warning to remove this annotation becasue its unnecessary\r\npublic interface CollegeRepo extends JpaRepository&lt;College, Integer&gt;{\r\n\t\r\n}\r\n```","title":"Why get warning in repository &quot;Unnecessary `@Repository`&quot;","body":"<p>I am working on Spring Boot project. I have repository file in my project but it will show me a warning message in repository class <code>Unnecessary @Repository</code>. I am extending a <code>JpaRepository&lt;&gt;</code> with my repository. My Spring version is <strong>4</strong> and JDK version is <strong>17</strong>.</p>\n<p>Here is my dependencies</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Here is my repository</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository // Here I get a warning to remove this annotation becasue its unnecessary\npublic interface CollegeRepo extends JpaRepository&lt;College, Integer&gt;{\n    \n}\n</code></pre>\n"},{"tags":["java","gwt","java-module"],"comments":[{"owner":{"account_id":40213,"reputation":64391,"user_id":116472,"display_name":"Thomas Broyer"},"score":0,"creation_date":1659088174,"post_id":73150888,"comment_id":129217316,"body_markdown":"Maybe the problem is specifically that you&#39;re using the &quot;eclipse container&quot; for GWT rather than Gradle. The JARs published to Central bundle much fewer third-party libs.","body":"Maybe the problem is specifically that you&#39;re using the &quot;eclipse container&quot; for GWT rather than Gradle. The JARs published to Central bundle much fewer third-party libs."},{"owner":{"account_id":1256428,"reputation":4264,"user_id":1215791,"accept_rate":48,"display_name":"Andrei F"},"score":0,"creation_date":1659090070,"post_id":73150888,"comment_id":129218036,"body_markdown":"Hi, yes i just noticed today. Will try, thanks!","body":"Hi, yes i just noticed today. Will try, thanks!"},{"owner":{"account_id":3954020,"reputation":90,"user_id":3263238,"accept_rate":17,"display_name":"Thiago Suchorski"},"score":0,"creation_date":1672766136,"post_id":73150888,"comment_id":132346363,"body_markdown":"How to solve that? Didn&#39;t found a solution. THanks","body":"How to solve that? Didn&#39;t found a solution. THanks"},{"owner":{"account_id":1256428,"reputation":4264,"user_id":1215791,"accept_rate":48,"display_name":"Andrei F"},"score":0,"creation_date":1673351008,"post_id":73150888,"comment_id":132474271,"body_markdown":"I updated my gradle files to use the &quot;com.google.gwt&quot; dependencies for gwt-user.jar and gwt-dev.jar. I will post as answer in a few minutes...","body":"I updated my gradle files to use the &quot;com.google.gwt&quot; dependencies for gwt-user.jar and gwt-dev.jar. I will post as answer in a few minutes..."}],"answers":[{"tags":[],"owner":{"account_id":1256428,"reputation":4264,"user_id":1215791,"accept_rate":48,"display_name":"Andrei F"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673351585,"creation_date":1673351585,"answer_id":75069578,"question_id":73150888,"body_markdown":"In the end, I solved my issue by getting the dependencies from com.google.gwt bundle. But I had a lot of issues here because I am using gwt material, which at that moment was also getting the &quot;big jars&quot; dependencies. So my gradle looks like this now:\r\n\r\n    //for Eclipse with GWT plugin (which creates the gwt classpath container):\r\n    classpath {\r\n        ...\r\n        containers GWT_CONTAINER //from my gradle properties - com.gwtplugins.gwt.eclipse.core.GWT_CONTAINER/gwt-2.10.0\r\n    }\r\n    \r\n    def gmdVersion = &#39;2.6.0&#39; //library GWT Material\r\n    def gwtVersion = GWT_VERSION//from my gradle properties file - 2.10.0\r\n    def gwtNamespace = &#39;com.google.gwt&#39; //org.gwtproject in the future i think\r\n    \r\n    api (group: &quot;${gwtNamespace}&quot;, name: &#39;gwt-dev&#39;, version: GWT_VERSION)\r\n    api (group: &quot;${gwtNamespace}&quot;, name: &#39;gwt-user&#39;, version: GWT_VERSION) \r\n    \r\n    api (group: &#39;com.github.gwtmaterialdesign&#39;, name: &#39;gwt-material&#39;, version: &quot;${gmdVersion}&quot;) {\r\n    \t\texclude group:&quot;${gwtNamespace}&quot;, module: &quot;gwt-user&quot;\r\n    \t\texclude group:&quot;${gwtNamespace}&quot;, module: &quot;gwt-dev&quot;\r\n    \t\t...\r\n    \t}\r\n    \r\n    api (group: &#39;com.github.gwtmaterialdesign&#39;, name: &#39;gwt-material-jquery&#39;, version: &quot;${gmdVersion}&quot;) {\r\n    \t\texclude group:&quot;${gwtNamespace}&quot;, module: &quot;gwt-user&quot;\r\n    \t\texclude group:&quot;${gwtNamespace}&quot;, module: &quot;gwt-dev&quot;\r\n    \t\t...\r\n    \t}\r\n    api (group: &#39;com.github.gwtmaterialdesign&#39;, name: &#39;gwt-material-addins&#39;, version: &quot;${gmdVersion}&quot;) {\r\n    \t\texclude group:&quot;${gwtNamespace}&quot;, module: &quot;gwt-user&quot;\r\n    \t\texclude group:&quot;${gwtNamespace}&quot;, module: &quot;gwt-dev&quot;\r\n    \t\t...\r\n    \t}\r\n\r\nDepending on each person&#39;s project structure, some other dependencies might also cause a similar issue, so if this doesn&#39;t work from the start, you need to check which other classes are imported from multiple dependency jars. Or, you can try to create a new project where you can simulate the error just for GWT related classes (just a simple new empty project where you configure just basic dependencies), then you try this solution and it should work.","title":"gwt-user.jar with Java 11 - The package javax.xml.parsers is accessible from more than one module: &lt;unnamed&gt;, java.xml","body":"<p>In the end, I solved my issue by getting the dependencies from com.google.gwt bundle. But I had a lot of issues here because I am using gwt material, which at that moment was also getting the &quot;big jars&quot; dependencies. So my gradle looks like this now:</p>\n<pre><code>//for Eclipse with GWT plugin (which creates the gwt classpath container):\nclasspath {\n    ...\n    containers GWT_CONTAINER //from my gradle properties - com.gwtplugins.gwt.eclipse.core.GWT_CONTAINER/gwt-2.10.0\n}\n\ndef gmdVersion = '2.6.0' //library GWT Material\ndef gwtVersion = GWT_VERSION//from my gradle properties file - 2.10.0\ndef gwtNamespace = 'com.google.gwt' //org.gwtproject in the future i think\n\napi (group: &quot;${gwtNamespace}&quot;, name: 'gwt-dev', version: GWT_VERSION)\napi (group: &quot;${gwtNamespace}&quot;, name: 'gwt-user', version: GWT_VERSION) \n\napi (group: 'com.github.gwtmaterialdesign', name: 'gwt-material', version: &quot;${gmdVersion}&quot;) {\n        exclude group:&quot;${gwtNamespace}&quot;, module: &quot;gwt-user&quot;\n        exclude group:&quot;${gwtNamespace}&quot;, module: &quot;gwt-dev&quot;\n        ...\n    }\n\napi (group: 'com.github.gwtmaterialdesign', name: 'gwt-material-jquery', version: &quot;${gmdVersion}&quot;) {\n        exclude group:&quot;${gwtNamespace}&quot;, module: &quot;gwt-user&quot;\n        exclude group:&quot;${gwtNamespace}&quot;, module: &quot;gwt-dev&quot;\n        ...\n    }\napi (group: 'com.github.gwtmaterialdesign', name: 'gwt-material-addins', version: &quot;${gmdVersion}&quot;) {\n        exclude group:&quot;${gwtNamespace}&quot;, module: &quot;gwt-user&quot;\n        exclude group:&quot;${gwtNamespace}&quot;, module: &quot;gwt-dev&quot;\n        ...\n    }\n</code></pre>\n<p>Depending on each person's project structure, some other dependencies might also cause a similar issue, so if this doesn't work from the start, you need to check which other classes are imported from multiple dependency jars. Or, you can try to create a new project where you can simulate the error just for GWT related classes (just a simple new empty project where you configure just basic dependencies), then you try this solution and it should work.</p>\n"}],"owner":{"account_id":1256428,"reputation":4264,"user_id":1215791,"accept_rate":48,"display_name":"Andrei F"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1673351585,"creation_date":1659002435,"question_id":73150888,"body_markdown":"I am trying to switch to GWT 2.10 and Java 11 (using Eclipse container for GWT and gradle for dependencies), but because some java packages are bundled in gwt-user.jar I get the error:\r\n\r\n    The package javax.xml.parsers is accessible from more than one module: &lt;unnamed&gt;, java.xml\r\n\r\nSearching the web, the solutions I found were either to repackage the gwt-user.jar by removing the packages or to turn my project into a module (which I don&#39;t see it recommended and also I don&#39;t know what implications/chain reaction has). Neither of these options seem good. \r\n\r\nIs there an alternative to solve this issue?","title":"gwt-user.jar with Java 11 - The package javax.xml.parsers is accessible from more than one module: &lt;unnamed&gt;, java.xml","body":"<p>I am trying to switch to GWT 2.10 and Java 11 (using Eclipse container for GWT and gradle for dependencies), but because some java packages are bundled in gwt-user.jar I get the error:</p>\n<pre><code>The package javax.xml.parsers is accessible from more than one module: &lt;unnamed&gt;, java.xml\n</code></pre>\n<p>Searching the web, the solutions I found were either to repackage the gwt-user.jar by removing the packages or to turn my project into a module (which I don't see it recommended and also I don't know what implications/chain reaction has). Neither of these options seem good.</p>\n<p>Is there an alternative to solve this issue?</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"owner":{"account_id":26751709,"reputation":33,"user_id":20351068,"display_name":"rattulus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1673627517,"answer_count":2,"score":-1,"last_activity_date":1673351550,"creation_date":1673309946,"question_id":75064232,"body_markdown":"I have a DataBase that stores multiple tables related to each other. The tutorials I&#39;ve seen on how to do implement this kind of thing in Spring Boot often make one Controller and Service per entity, for example. \r\n\r\nWhat I mean to ask is: is this really necessary? I imagine this could be done with an abstract class, but wanted confirmation. \r\n\r\nOn that note, is it normal to not have a lot of stuff other than the basics in a Service or Controller application? My implementations seem _terrifyingly_ simple in the sense of &quot;there must be something missing. it can&#39;t be this easy&quot;.\r\n\r\nIf moderation is really against asking two questions, then please, answer the first one only, sorry for any troubles, but I believe they are simple enough questions to not warrant any trouble :)","title":"Spring Boot best practices for handling Multiple Entities","body":"<p>I have a DataBase that stores multiple tables related to each other. The tutorials I've seen on how to do implement this kind of thing in Spring Boot often make one Controller and Service per entity, for example.</p>\n<p>What I mean to ask is: is this really necessary? I imagine this could be done with an abstract class, but wanted confirmation.</p>\n<p>On that note, is it normal to not have a lot of stuff other than the basics in a Service or Controller application? My implementations seem <em>terrifyingly</em> simple in the sense of &quot;there must be something missing. it can't be this easy&quot;.</p>\n<p>If moderation is really against asking two questions, then please, answer the first one only, sorry for any troubles, but I believe they are simple enough questions to not warrant any trouble :)</p>\n"},{"tags":["java","api","scim"],"answers":[{"tags":[],"owner":{"account_id":19136734,"reputation":779,"user_id":13977580,"display_name":"Zollnerd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673351249,"creation_date":1673351249,"answer_id":75069526,"question_id":75064106,"body_markdown":"There are a few possible ways to approach this. The simplest and most likely to actually be implemented (IMO) would be if the SCIM service provider in question supports SCIM Bulk (https://datatracker.ietf.org/doc/html/rfc7644#section-3.7). In that case, you&#39;d make one bulk request calling out each individual group membership to remove as a separate action inside of the bulk request. This still requires the discovery and iterating through the groups to construct the patch requests, just with fewer HTTP requests being made.\r\n\r\nAnother option, but less likely to be implemented by the average SCIM service provider, would be to do a PATCH to /Groups?filter=members.value eq &quot;userIDValue&quot; with the body being a PATCH remove members[value eq &quot;userIDValue&quot;]. In practice, I don&#39;t think many SCIM implementations support modifying resources using a filter to select a set of targets, but the spec does allow for it. ","title":"SCIM - Remove a user from all groups","body":"<p>There are a few possible ways to approach this. The simplest and most likely to actually be implemented (IMO) would be if the SCIM service provider in question supports SCIM Bulk (<a href=\"https://datatracker.ietf.org/doc/html/rfc7644#section-3.7\" rel=\"nofollow noreferrer\">https://datatracker.ietf.org/doc/html/rfc7644#section-3.7</a>). In that case, you'd make one bulk request calling out each individual group membership to remove as a separate action inside of the bulk request. This still requires the discovery and iterating through the groups to construct the patch requests, just with fewer HTTP requests being made.</p>\n<p>Another option, but less likely to be implemented by the average SCIM service provider, would be to do a PATCH to /Groups?filter=members.value eq &quot;userIDValue&quot; with the body being a PATCH remove members[value eq &quot;userIDValue&quot;]. In practice, I don't think many SCIM implementations support modifying resources using a filter to select a set of targets, but the spec does allow for it.</p>\n"}],"owner":{"account_id":23174728,"reputation":3,"user_id":17273424,"display_name":"Bohrnhard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75069526,"answer_count":1,"score":0,"last_activity_date":1673351249,"creation_date":1673308493,"question_id":75064106,"body_markdown":"Is it possible to remove a user from all of its groups on a **single call** to a SCIM API?\r\n\r\nMy current implementation to do so works the following way:\r\n1. Get the user groups attibute to collect all the group memberships of the users.\r\n2. Iterate through all of the groups and calling a PATCH method to remove the user.\r\n\r\nThis approach relies on too many calls to the SCIM API and I would like to know if there is a &quot;shortcut&quot; to it.","title":"SCIM - Remove a user from all groups","body":"<p>Is it possible to remove a user from all of its groups on a <strong>single call</strong> to a SCIM API?</p>\n<p>My current implementation to do so works the following way:</p>\n<ol>\n<li>Get the user groups attibute to collect all the group memberships of the users.</li>\n<li>Iterate through all of the groups and calling a PATCH method to remove the user.</li>\n</ol>\n<p>This approach relies on too many calls to the SCIM API and I would like to know if there is a &quot;shortcut&quot; to it.</p>\n"},{"tags":["java","android","upload","retrofit"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1673360544,"post_id":75069502,"comment_id":132477741,"body_markdown":"If you have a nice uri then use the uri to upload the file. All you do trying to get a path is wrong. As you have seen. As /document/do.... is an impossible &#39;path&#39; as you have seen. Use the uri.","body":"If you have a nice uri then use the uri to upload the file. All you do trying to get a path is wrong. As you have seen. As /document/do.... is an impossible &#39;path&#39; as you have seen. Use the uri."}],"owner":{"account_id":19259870,"reputation":1,"user_id":14075987,"display_name":"Muthukumaran M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673351113,"creation_date":1673351113,"question_id":75069502,"body_markdown":"I was trying to upload a file(pdf, zip, etc). But I got an error while I pick a file **/document/document:1000012662:open failed: ENOENT (No such file or directory)**. Please find my code below. Below code is working fine when I upload images and videos not able to upload other files. I gave access all permission too.\r\n\r\n\r\n\r\n**AndroidManifest.xml**\r\n\r\n\r\n```\r\n &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission\r\n        android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\r\n        tools:remove=&quot;android:maxSdkVersion&quot; /&gt;\r\n    &lt;uses-permission\r\n        android:name=&quot;android.permission.DOWNLOAD_WITHOUT_NOTIFICATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:hardwareAccelerated=&quot;true&quot;\r\n        android:icon=&quot;@drawable/anna_university_logo&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:largeHeap=&quot;true&quot;\r\n        android:requestLegacyExternalStorage=&quot;true&quot;\r\n        android:roundIcon=&quot;@drawable/mylogo&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n        tools:replace=&quot;android:icon&quot;\r\n        tools:targetApi=&quot;m&quot;&gt;\r\n\r\n\r\n&lt;/application&gt;\r\n```\r\n\r\n\r\n**MainActivity.java**\r\n\r\n```\r\nIntent intent = new Intent();\r\nintent.setAction(Intent.ACTION_GET_CONTENT);\r\nintent.setType(&quot;*/*&quot;);\r\nstartActivityForResult(Intent.createChooser(intent, &quot;Choose a file&quot;), 2 );\r\n```\r\n \r\n**To enable all files access**\r\n\r\n```\r\nif (Build.VERSION.SDK_INT &gt;= 30){\r\n            if (!Environment.isExternalStorageManager()) {\r\n                Toast.makeText(this, &quot;Please Enable access all files&quot;, Toast.LENGTH_LONG).show();\r\n\r\n                try {\r\n                    Uri uri = Uri.parse(&quot;package:&quot; + BuildConfig.APPLICATION_ID);\r\n                    Intent getpermission = new Intent(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION, uri);\r\n                    startActivity(getpermission);\r\n\r\n                } catch (Exception e) {\r\n                    Intent intent = new Intent();\r\n                    intent.setAction(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\r\n                    startActivity(intent);\r\n\r\n                }\r\n            }\r\n        }\r\n```\r\n\r\n\r\n\r\n```\r\n@Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if(resultCode !=RESULT_CANCELED){\r\n\r\n            switch (requestCode){\r\n                case 0:\r\n                    if(resultCode == RESULT_OK &amp;&amp; data !=null){\r\n                        Bitmap image = (Bitmap) data.getExtras().get(&quot;data&quot;);\r\n                        selectedImage = FileUtils.getPath(MainActivity.this, getImageUri(MainActivity.this,image));\r\n                        uploadFileToServer();\r\n                    }\r\n                    break;\r\n                case 1:\r\n                case 2:\r\n                case 4:\r\n                case 3:\r\n                    if(resultCode == RESULT_OK &amp;&amp; data !=null){\r\n\r\n                        Uri image = data.getData();\r\n\r\n                        selectedImage = FileUtils.getPath(MainActivity.this,image);\r\n                        \r\n                        uploadFileToServer();\r\n                    }\r\n                    break;\r\n                \r\n            }\r\n\r\n        }\r\n    }\r\n```\r\n\r\n\r\n\r\n```\r\n\r\n    public void uploadFileToServer(){\r\n\r\n        File file = new File(Uri.parse(selectedImage).getPath());\r\n        RequestBody requestBody = RequestBody.create(MediaType.parse(&quot;multipart/form-data&quot;),file);\r\n        MultipartBody.Part filePart = MultipartBody.Part.createFormData(\r\n                &quot;sendfile&quot;,file.getName(),\r\n                requestBody);\r\n\r\n        ApiInterface service = RetrofitUploadBuilder.getClient().create(ApiInterface.class);\r\n\r\n        Call&lt;FileUploadModel&gt; call = service.performUploadAFile(filePart);\r\n        call.enqueue(new Callback&lt;FileUploadModel&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;FileUploadModel&gt; call, Response&lt;FileUploadModel&gt; response) {\r\n                loadingdialog.dismissdialog();\r\n                if (response.isSuccessful()) {\r\n\r\n                   \r\n                }\r\n                else\r\n                {\r\n\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;FileUploadModel&gt; call, Throwable t) {\r\n                \r\n               track.setText(t.getMessage());\r\n                \r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n```\r\n\r\n\r\n\r\n\r\n Please give a solution. Advance thanks","title":"/document/document:1000012662:open failed: ENOENT (No such file or directory)","body":"<p>I was trying to upload a file(pdf, zip, etc). But I got an error while I pick a file <strong>/document/document:1000012662:open failed: ENOENT (No such file or directory)</strong>. Please find my code below. Below code is working fine when I upload images and videos not able to upload other files. I gave access all permission too.</p>\n<p><strong>AndroidManifest.xml</strong></p>\n<pre><code> &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission\n        android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\n        tools:remove=&quot;android:maxSdkVersion&quot; /&gt;\n    &lt;uses-permission\n        android:name=&quot;android.permission.DOWNLOAD_WITHOUT_NOTIFICATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:hardwareAccelerated=&quot;true&quot;\n        android:icon=&quot;@drawable/anna_university_logo&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:largeHeap=&quot;true&quot;\n        android:requestLegacyExternalStorage=&quot;true&quot;\n        android:roundIcon=&quot;@drawable/mylogo&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;\n        android:usesCleartextTraffic=&quot;true&quot;\n        tools:replace=&quot;android:icon&quot;\n        tools:targetApi=&quot;m&quot;&gt;\n\n\n&lt;/application&gt;\n</code></pre>\n<p><strong>MainActivity.java</strong></p>\n<pre><code>Intent intent = new Intent();\nintent.setAction(Intent.ACTION_GET_CONTENT);\nintent.setType(&quot;*/*&quot;);\nstartActivityForResult(Intent.createChooser(intent, &quot;Choose a file&quot;), 2 );\n</code></pre>\n<p><strong>To enable all files access</strong></p>\n<pre><code>if (Build.VERSION.SDK_INT &gt;= 30){\n            if (!Environment.isExternalStorageManager()) {\n                Toast.makeText(this, &quot;Please Enable access all files&quot;, Toast.LENGTH_LONG).show();\n\n                try {\n                    Uri uri = Uri.parse(&quot;package:&quot; + BuildConfig.APPLICATION_ID);\n                    Intent getpermission = new Intent(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION, uri);\n                    startActivity(getpermission);\n\n                } catch (Exception e) {\n                    Intent intent = new Intent();\n                    intent.setAction(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\n                    startActivity(intent);\n\n                }\n            }\n        }\n</code></pre>\n<pre><code>@Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        if(resultCode !=RESULT_CANCELED){\n\n            switch (requestCode){\n                case 0:\n                    if(resultCode == RESULT_OK &amp;&amp; data !=null){\n                        Bitmap image = (Bitmap) data.getExtras().get(&quot;data&quot;);\n                        selectedImage = FileUtils.getPath(MainActivity.this, getImageUri(MainActivity.this,image));\n                        uploadFileToServer();\n                    }\n                    break;\n                case 1:\n                case 2:\n                case 4:\n                case 3:\n                    if(resultCode == RESULT_OK &amp;&amp; data !=null){\n\n                        Uri image = data.getData();\n\n                        selectedImage = FileUtils.getPath(MainActivity.this,image);\n                        \n                        uploadFileToServer();\n                    }\n                    break;\n                \n            }\n\n        }\n    }\n</code></pre>\n<pre><code>\n    public void uploadFileToServer(){\n\n        File file = new File(Uri.parse(selectedImage).getPath());\n        RequestBody requestBody = RequestBody.create(MediaType.parse(&quot;multipart/form-data&quot;),file);\n        MultipartBody.Part filePart = MultipartBody.Part.createFormData(\n                &quot;sendfile&quot;,file.getName(),\n                requestBody);\n\n        ApiInterface service = RetrofitUploadBuilder.getClient().create(ApiInterface.class);\n\n        Call&lt;FileUploadModel&gt; call = service.performUploadAFile(filePart);\n        call.enqueue(new Callback&lt;FileUploadModel&gt;() {\n            @Override\n            public void onResponse(Call&lt;FileUploadModel&gt; call, Response&lt;FileUploadModel&gt; response) {\n                loadingdialog.dismissdialog();\n                if (response.isSuccessful()) {\n\n                   \n                }\n                else\n                {\n\n                }\n            }\n\n            @Override\n            public void onFailure(Call&lt;FileUploadModel&gt; call, Throwable t) {\n                \n               track.setText(t.getMessage());\n                \n            }\n        });\n\n\n\n\n    }\n\n</code></pre>\n<p>Please give a solution. Advance thanks</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user2030471"},"score":3,"creation_date":1361953881,"post_id":15107313,"comment_id":21256018,"body_markdown":"From the perspective of the world today, &quot;1234&quot; is both I think?","body":"From the perspective of the world today, &quot;1234&quot; is both I think?"},{"owner":{"account_id":8291,"reputation":860437,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"score":0,"creation_date":1361953975,"post_id":15107313,"comment_id":21256066,"body_markdown":"@Nishant, does Arabic use regular numbers or Rumi?","body":"@Nishant, does Arabic use regular numbers or Rumi?"},{"owner":{"account_id":545798,"reputation":7654,"user_id":951181,"display_name":"Martin"},"score":2,"creation_date":1361953982,"post_id":15107313,"comment_id":21256070,"body_markdown":"Do you mean whether it contains english or arabic text, or whether is it encoded that way ? The second case should be quite easy, as the characters are not in the same Unicode range (see : http://en.wikipedia.org/wiki/Arabic_alphabet).","body":"Do you mean whether it contains english or arabic text, or whether is it encoded that way ? The second case should be quite easy, as the characters are not in the same Unicode range (see : <a href=\"http://en.wikipedia.org/wiki/Arabic_alphabet\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Arabic_alphabet</a>)."},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":1,"creation_date":1361954312,"post_id":15107313,"comment_id":21256234,"body_markdown":"You can&#39;t do this in a deterministic way. All information must tell what it is. That is the reason for [content-type](http://en.wikipedia.org/wiki/MIME), encoding, etc. But you may guess.","body":"You can&#39;t do this in a deterministic way. All information must tell what it is. That is the reason for <a href=\"http://en.wikipedia.org/wiki/MIME\" rel=\"nofollow noreferrer\">content-type</a>, encoding, etc. But you may guess."}],"answers":[{"tags":[],"owner":{"account_id":447475,"reputation":1,"user_id":841108,"accept_rate":61,"display_name":"Basile Starynkevitch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361953831,"creation_date":1361953831,"answer_id":15107351,"question_id":15107313,"body_markdown":"You could use *N-gram-based text categorization* (google for that phrase) but it is not a fail-proof technique, and it may require a not too short string.\r\n\r\nYou might also decide that a string with only ASCII letters is not Arabic.","title":"How to determine a string is english or arabic?","body":"<p>You could use <em>N-gram-based text categorization</em> (google for that phrase) but it is not a fail-proof technique, and it may require a not too short string.</p>\n\n<p>You might also decide that a string with only ASCII letters is not Arabic.</p>\n"},{"tags":[],"owner":{"account_id":8291,"reputation":860437,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1361954163,"creation_date":1361953848,"answer_id":15107359,"question_id":15107313,"body_markdown":"You can usually tell by the code points within the string itself. Arabic occupies [certain blocks][1] in the Unicode code space.\r\n\r\nIt&#39;s a fairly safe bet that, if a substantial proportion of the characters exist in those blocks (such as `بلدي الحوامات مليء الثعابينة`), it&#39;s Arabic text.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Arabic_script_in_Unicode","title":"How to determine a string is english or arabic?","body":"<p>You can usually tell by the code points within the string itself. Arabic occupies <a href=\"http://en.wikipedia.org/wiki/Arabic_script_in_Unicode\" rel=\"nofollow\">certain blocks</a> in the Unicode code space.</p>\n\n<p>It's a fairly safe bet that, if a substantial proportion of the characters exist in those blocks (such as <code>بلدي الحوامات مليء الثعابينة</code>), it's Arabic text.</p>\n"},{"tags":[],"owner":{"account_id":66969,"reputation":22196,"user_id":196211,"accept_rate":67,"display_name":"Eyal Schneider"},"down_vote_count":1,"up_vote_count":54,"is_accepted":true,"score":53,"last_activity_date":1460188481,"creation_date":1361955033,"answer_id":15107721,"question_id":15107313,"body_markdown":"Here is a simple logic that I just tried:\r\n\r\n      public static boolean isProbablyArabic(String s) {\r\n        for (int i = 0; i &lt; s.length();) {\r\n            int c = s.codePointAt(i);\r\n            if (c &gt;= 0x0600 &amp;&amp; c &lt;= 0x06E0)\r\n                return true;\r\n            i += Character.charCount(c);            \r\n        }\r\n        return false;\r\n      }\r\n\r\nIt declares the text as arabic if and only if an arabic unicode code point is found in the text. You can enhance this logic to be more suitable for your needs.\r\n\r\nThe range 0600 - 06E0 is the code point range of Arabic characters and symbols (See [Unicode tables][1])\r\n\r\n\r\n  [1]: http://www.tamasoft.co.jp/en/general-info/unicode.html","title":"How to determine a string is english or arabic?","body":"<p>Here is a simple logic that I just tried:</p>\n\n<pre><code>  public static boolean isProbablyArabic(String s) {\n    for (int i = 0; i &lt; s.length();) {\n        int c = s.codePointAt(i);\n        if (c &gt;= 0x0600 &amp;&amp; c &lt;= 0x06E0)\n            return true;\n        i += Character.charCount(c);            \n    }\n    return false;\n  }\n</code></pre>\n\n<p>It declares the text as arabic if and only if an arabic unicode code point is found in the text. You can enhance this logic to be more suitable for your needs.</p>\n\n<p>The range 0600 - 06E0 is the code point range of Arabic characters and symbols (See <a href=\"http://www.tamasoft.co.jp/en/general-info/unicode.html\" rel=\"noreferrer\">Unicode tables</a>)</p>\n"},{"tags":[],"owner":{"account_id":3276582,"reputation":2281,"user_id":2802706,"accept_rate":82,"display_name":"Saeid"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1411561987,"creation_date":1411561987,"answer_id":26017027,"question_id":15107313,"body_markdown":"Try This :\r\n\r\n    internal static bool ContainsArabicLetters(string text)\r\n \r\n    {\r\n \r\n    foreach (char character in text.ToCharArray())\r\n    {\r\n        if (character &gt;= 0x600 &amp;&amp; character &lt;= 0x6ff)\r\n            return true;\r\n        if (character &gt;= 0x750 &amp;&amp; character &lt;= 0x77f)\r\n            return true;\r\n        if (character &gt;= 0xfb50 &amp;&amp; character &lt;= 0xfc3f)\r\n            return true;\r\n        if (character &gt;= 0xfe70 &amp;&amp; character &lt;= 0xfefc)\r\n            return true;\r\n    }\r\n    return false;\r\n    }","title":"How to determine a string is english or arabic?","body":"<p>Try This :</p>\n\n<pre><code>internal static bool ContainsArabicLetters(string text)\n\n{\n\nforeach (char character in text.ToCharArray())\n{\n    if (character &gt;= 0x600 &amp;&amp; character &lt;= 0x6ff)\n        return true;\n    if (character &gt;= 0x750 &amp;&amp; character &lt;= 0x77f)\n        return true;\n    if (character &gt;= 0xfb50 &amp;&amp; character &lt;= 0xfc3f)\n        return true;\n    if (character &gt;= 0xfe70 &amp;&amp; character &lt;= 0xfefc)\n        return true;\n}\nreturn false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1923707,"reputation":123,"user_id":1734638,"display_name":"RamDroid"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1425474773,"creation_date":1425473468,"answer_id":28854997,"question_id":15107313,"body_markdown":"A minor change to cover all arabic characters and symbols range\r\n\r\n\r\n\r\n\r\n    private boolean isArabic(String text){\r\n\t\t\tString textWithoutSpace = text.trim().replaceAll(&quot; &quot;,&quot;&quot;); //to ignore whitepace\r\n\t\t    for (int i = 0; i &lt; textWithoutSpace.length();) {\r\n\t\t        int c = textWithoutSpace.codePointAt(i);\r\n\t\t      //range of arabic chars/symbols is from 0x0600 to 0x06ff\r\n\t\t        //the arabic letter &#39;لا&#39; is special case having the range from 0xFE70 to 0xFEFF\r\n\t\t        if (c &gt;= 0x0600 &amp;&amp; c &lt;=0x06FF || (c &gt;= 0xFE70 &amp;&amp; c&lt;=0xFEFF)) \r\n\t\t        \ti += Character.charCount(c);   \r\n\t\t        else\t\t\t\t\r\n\t\t        \treturn false;\r\n\t\t        \r\n\t\t    } \r\n\t    \treturn true;\r\n\t\t  }\r\n\r\n\r\n","title":"How to determine a string is english or arabic?","body":"<p>A minor change to cover all arabic characters and symbols range</p>\n\n<pre><code>private boolean isArabic(String text){\n        String textWithoutSpace = text.trim().replaceAll(\" \",\"\"); //to ignore whitepace\n        for (int i = 0; i &lt; textWithoutSpace.length();) {\n            int c = textWithoutSpace.codePointAt(i);\n          //range of arabic chars/symbols is from 0x0600 to 0x06ff\n            //the arabic letter 'لا' is special case having the range from 0xFE70 to 0xFEFF\n            if (c &gt;= 0x0600 &amp;&amp; c &lt;=0x06FF || (c &gt;= 0xFE70 &amp;&amp; c&lt;=0xFEFF)) \n                i += Character.charCount(c);   \n            else                \n                return false;\n\n        } \n        return true;\n      }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3526451,"reputation":661,"user_id":2947397,"display_name":"Gaurav Tyagi"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1526465153,"creation_date":1475488559,"answer_id":39828897,"question_id":15107313,"body_markdown":"Java in itself supports various language checks by unicode, Arabic is also supported. Much simpler and smallest way to do the same is by UnicodeBlock\r\n\r\n    public static boolean textContainsArabic(String text) {\r\n        for (char charac : text.toCharArray()) {\r\n            if (Character.UnicodeBlock.of(charac) == Character.UnicodeBlock.ARABIC) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }","title":"How to determine a string is english or arabic?","body":"<p>Java in itself supports various language checks by unicode, Arabic is also supported. Much simpler and smallest way to do the same is by UnicodeBlock</p>\n\n<pre><code>public static boolean textContainsArabic(String text) {\n    for (char charac : text.toCharArray()) {\n        if (Character.UnicodeBlock.of(charac) == Character.UnicodeBlock.ARABIC) {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7764055,"reputation":2778,"user_id":5875797,"accept_rate":25,"display_name":"pvrforpranavvr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544035239,"creation_date":1544034743,"answer_id":53638637,"question_id":15107313,"body_markdown":"  English characters tend to be in these 4 Unicode blocks: \r\n\r\n - BASIC_LATIN\r\n - LATIN_1_SUPPLEMENT\r\n - LATIN_EXTENDED_A\r\n - GENERAL_PUNCTUATION\r\n\r\n        public static boolean isEnglish(String text) {\r\n\r\n         boolean onlyEnglish = false;\r\n\r\n         for (char character : text.toCharArray()) {\r\n\r\n            if (Character.UnicodeBlock.of(character) == Character.UnicodeBlock.BASIC_LATIN\r\n                    || Character.UnicodeBlock.of(character) == Character.UnicodeBlock.LATIN_1_SUPPLEMENT\r\n                    || Character.UnicodeBlock.of(character) == Character.UnicodeBlock.LATIN_EXTENDED_A\r\n                    || Character.UnicodeBlock.of(character) == Character.UnicodeBlock.GENERAL_PUNCTUATION) {\r\n\r\n                onlyEnglish = true;\r\n            } else {\r\n\r\n                onlyEnglish = false;\r\n            }\r\n         }\r\n\r\n          return onlyEnglish;\r\n        }","title":"How to determine a string is english or arabic?","body":"<p>English characters tend to be in these 4 Unicode blocks: </p>\n\n<ul>\n<li>BASIC_LATIN</li>\n<li>LATIN_1_SUPPLEMENT</li>\n<li>LATIN_EXTENDED_A</li>\n<li><p>GENERAL_PUNCTUATION</p>\n\n<pre><code>public static boolean isEnglish(String text) {\n\n boolean onlyEnglish = false;\n\n for (char character : text.toCharArray()) {\n\n    if (Character.UnicodeBlock.of(character) == Character.UnicodeBlock.BASIC_LATIN\n            || Character.UnicodeBlock.of(character) == Character.UnicodeBlock.LATIN_1_SUPPLEMENT\n            || Character.UnicodeBlock.of(character) == Character.UnicodeBlock.LATIN_EXTENDED_A\n            || Character.UnicodeBlock.of(character) == Character.UnicodeBlock.GENERAL_PUNCTUATION) {\n\n        onlyEnglish = true;\n    } else {\n\n        onlyEnglish = false;\n    }\n }\n\n  return onlyEnglish;\n}\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4640232,"reputation":5623,"user_id":3760297,"accept_rate":67,"display_name":"Iman Marashi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583784459,"creation_date":1583784459,"answer_id":60607646,"question_id":15107313,"body_markdown":"[This answer][1] is somewhat correct. But when we combine Farsi and English letters it returns **TRUE**!, which is not true.\r\nHere I modified the same method so that it works well\r\n\r\n     public static boolean isProbablyArabic(String s) {\r\n        for (int i = 0; i &lt; s.length();) {\r\n            int c = s.codePointAt(i);\r\n            if (!(c &gt;= 0x0600 &amp;&amp; c &lt;= 0x06E0))\r\n                return false;\r\n            i += Character.charCount(c);\r\n        }\r\n        return true;\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/15107721/3760297","title":"How to determine a string is english or arabic?","body":"<p><a href=\"https://stackoverflow.com/a/15107721/3760297\">This answer</a> is somewhat correct. But when we combine Farsi and English letters it returns <strong>TRUE</strong>!, which is not true.\nHere I modified the same method so that it works well</p>\n\n<pre><code> public static boolean isProbablyArabic(String s) {\n    for (int i = 0; i &lt; s.length();) {\n        int c = s.codePointAt(i);\n        if (!(c &gt;= 0x0600 &amp;&amp; c &lt;= 0x06E0))\n            return false;\n        i += Character.charCount(c);\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9462283,"reputation":1332,"user_id":7035703,"display_name":"anro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673349538,"creation_date":1673349538,"answer_id":75069199,"question_id":15107313,"body_markdown":"Just an adaptation of existing answer to Kotlin:\r\n\r\n    fun String.textContainsArabic(): Boolean =\r\n        any { Character.UnicodeBlock.of(it) == Character.UnicodeBlock.ARABIC }","title":"How to determine a string is english or arabic?","body":"<p>Just an adaptation of existing answer to Kotlin:</p>\n<pre><code>fun String.textContainsArabic(): Boolean =\n    any { Character.UnicodeBlock.of(it) == Character.UnicodeBlock.ARABIC }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14589181,"reputation":285,"user_id":10536936,"display_name":"Ali Zedan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673350598,"creation_date":1673350598,"answer_id":75069402,"question_id":15107313,"body_markdown":"I tried this with my code and it works fine. \r\nUsing codePointAt which is a method that returns the Unicode value of the character at the specified index in a string.\r\n\r\n   \r\n      public static boolean isItArabic(String someText)\r\n    {\r\n        for(int i = 0; i&lt;someText.length(); i++)\r\n        {\r\n            int point = someText.codePointAt(i);\r\n            if(!(point &gt;= 1536 &amp;&amp; point &lt;= 1791)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }","title":"How to determine a string is english or arabic?","body":"<p>I tried this with my code and it works fine.\nUsing codePointAt which is a method that returns the Unicode value of the character at the specified index in a string.</p>\n<pre><code>  public static boolean isItArabic(String someText)\n{\n    for(int i = 0; i&lt;someText.length(); i++)\n    {\n        int point = someText.codePointAt(i);\n        if(!(point &gt;= 1536 &amp;&amp; point &lt;= 1791)) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":1583324,"reputation":4071,"user_id":1468181,"accept_rate":77,"display_name":"Victor S"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26331,"favorite_count":0,"down_vote_count":1,"up_vote_count":32,"accepted_answer_id":15107721,"answer_count":10,"score":31,"last_activity_date":1673350598,"creation_date":1361953706,"question_id":15107313,"body_markdown":"Is there a way to determine a string is English or Arabic?","title":"How to determine a string is english or arabic?","body":"<p>Is there a way to determine a string is English or Arabic?</p>\n"},{"tags":["java","android","appium"],"comments":[{"owner":{"account_id":7865489,"reputation":380,"user_id":5944412,"display_name":"Bipin Kumar Chaurasia"},"score":0,"creation_date":1657651506,"post_id":72811551,"comment_id":128859986,"body_markdown":"Did you tried with disabling and enabling the debugging mode on test device and also kill &amp; restart your appium server?","body":"Did you tried with disabling and enabling the debugging mode on test device and also kill &amp; restart your appium server?"},{"owner":{"account_id":14915043,"reputation":93,"user_id":10769117,"display_name":"J.Klimov"},"score":0,"creation_date":1657812181,"post_id":72811551,"comment_id":128904186,"body_markdown":"Yes, it didn&#39;t helped","body":"Yes, it didn&#39;t helped"},{"owner":{"account_id":7865489,"reputation":380,"user_id":5944412,"display_name":"Bipin Kumar Chaurasia"},"score":0,"creation_date":1657812870,"post_id":72811551,"comment_id":128904456,"body_markdown":"Can you please share the github link to your script so that the issue can be debugged &amp; identified for resolution?","body":"Can you please share the github link to your script so that the issue can be debugged &amp; identified for resolution?"},{"owner":{"account_id":6435356,"reputation":1329,"user_id":4987105,"accept_rate":70,"display_name":"Don Diego"},"score":0,"creation_date":1667574401,"post_id":72811551,"comment_id":131205667,"body_markdown":"same issue here. Just put the basic settings through a file and tried to start a super simple test, same error.","body":"same issue here. Just put the basic settings through a file and tried to start a super simple test, same error."}],"answers":[{"tags":[],"owner":{"account_id":13923830,"reputation":11,"user_id":10053611,"display_name":"Lionel Oye"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673350175,"creation_date":1673311261,"answer_id":75064339,"question_id":72811551,"body_markdown":"i got this issue when using \r\nAppium-Server-GUI-windows-1.22.3-4, \r\nand the appium-server-non-gui-1.23 has the same issue\r\nwith android 11 real device,\r\npython3.11, Appium-python-Client version 2.7.1. \r\nSo i change to Appium-Server-windows-1.21.0-GUI, and it works ok.","title":"How to avoid error while running mobile tests: Original error: socket hang up","body":"<p>i got this issue when using\nAppium-Server-GUI-windows-1.22.3-4,\nand the appium-server-non-gui-1.23 has the same issue\nwith android 11 real device,\npython3.11, Appium-python-Client version 2.7.1.\nSo i change to Appium-Server-windows-1.21.0-GUI, and it works ok.</p>\n"}],"owner":{"account_id":14915043,"reputation":93,"user_id":10769117,"display_name":"J.Klimov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1369,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673350175,"creation_date":1656572653,"question_id":72811551,"body_markdown":"I have android tests which are running through jenkins on appium docker image, but everytime causes this error: \r\n\r\n    Original error: Could not proxy command to the remote server. Original error: socket hang up\r\n\r\nWhat i tried:\r\n\r\n 1. Updated all binaries and appium version\r\n 2. Implemented dynamic port change\r\n 3. Implemented listener to quit/close app\r\n\r\nDon&#39;t know what causes it and what to do.","title":"How to avoid error while running mobile tests: Original error: socket hang up","body":"<p>I have android tests which are running through jenkins on appium docker image, but everytime causes this error:</p>\n<pre><code>Original error: Could not proxy command to the remote server. Original error: socket hang up\n</code></pre>\n<p>What i tried:</p>\n<ol>\n<li>Updated all binaries and appium version</li>\n<li>Implemented dynamic port change</li>\n<li>Implemented listener to quit/close app</li>\n</ol>\n<p>Don't know what causes it and what to do.</p>\n"},{"tags":["java","spring","class","autowired"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1673348803,"post_id":75069018,"comment_id":132473546,"body_markdown":"It&#39;s not java doing this. It&#39;s spring. Autowiring is (part of) the reason spring is used. It&#39;s the bit of &quot;magic&quot; that it adds to the table. I&#39;m afraid explaining how exactly spring does that is a bit too broad a topic to explain here.","body":"It&#39;s not java doing this. It&#39;s spring. Autowiring is (part of) the reason spring is used. It&#39;s the bit of &quot;magic&quot; that it adds to the table. I&#39;m afraid explaining how exactly spring does that is a bit too broad a topic to explain here."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1673348964,"post_id":75069018,"comment_id":132473620,"body_markdown":"On the Java side, there&#39;s nothing special happening here. But Spring includes a &quot;dependency injection framework&quot;. It manages the instances of `BusinessCalculationService` for you. Part of this is calling the constructor, most likely reflectively (see the `java.lang.reflect` package). It searches for available implementations of the constructor parameter. In this case, it finds two, but one is marked `@Primary`, so it instantiates that one (or grabs it from a cache), and passes the instance of `MySQLDataService` to the constructor of `BusinessCalculationService`.","body":"On the Java side, there&#39;s nothing special happening here. But Spring includes a &quot;dependency injection framework&quot;. It manages the instances of <code>BusinessCalculationService</code> for you. Part of this is calling the constructor, most likely reflectively (see the <code>java.lang.reflect</code> package). It searches for available implementations of the constructor parameter. In this case, it finds two, but one is marked <code>@Primary</code>, so it instantiates that one (or grabs it from a cache), and passes the instance of <code>MySQLDataService</code> to the constructor of <code>BusinessCalculationService</code>."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":7,"creation_date":1673348994,"post_id":75069018,"comment_id":132473631,"body_markdown":"If you&#39;re still learning how the *language* works, then stay clear of any tutorials that use Spring. Not because Spring is bad (it&#39;s a useful tool that does many useful things), but because it adds a whole other layer of complexity **on top of** the basics of the language. So in order to learn about Spring, you should be **really solid** in the basics of Java itself.","body":"If you&#39;re still learning how the <i>language</i> works, then stay clear of any tutorials that use Spring. Not because Spring is bad (it&#39;s a useful tool that does many useful things), but because it adds a whole other layer of complexity <b>on top of</b> the basics of the language. So in order to learn about Spring, you should be <b>really solid</b> in the basics of Java itself."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1673349157,"post_id":75069018,"comment_id":132473681,"body_markdown":"(although your `BusinessCalculationService` constructor might need to be annotated with `@Autowired` for this to work, not sure).","body":"(although your <code>BusinessCalculationService</code> constructor might need to be annotated with <code>@Autowired</code> for this to work, not sure)."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1673349267,"post_id":75069018,"comment_id":132473725,"body_markdown":"In that specific line, only an instance-field of your class is set to a new value. This field lets you access the other instance from your object. Same as `Object obj = new Object()` assigns a reference to the variable.","body":"In that specific line, only an instance-field of your class is set to a new value. This field lets you access the other instance from your object. Same as <code>Object obj = new Object()</code> assigns a reference to the variable."},{"owner":{"account_id":12733618,"reputation":634,"user_id":9249298,"display_name":"Nick"},"score":0,"creation_date":1673349483,"post_id":75069018,"comment_id":132473780,"body_markdown":"@knittl what you said made it click in my head. thank you","body":"@knittl what you said made it click in my head. thank you"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1673349668,"post_id":75069018,"comment_id":132473844,"body_markdown":"To be a little more relatable, it&#39;s like `List&lt;String&gt; list = new ArrayList&lt;&gt;()`. A concrete implementation of your `DataService` interface is being injected, but it can be _any_ implementation, and you only see it as a `DataService`.","body":"To be a little more relatable, it&#39;s like <code>List&lt;String&gt; list = new ArrayList&lt;&gt;()</code>. A concrete implementation of your <code>DataService</code> interface is being injected, but it can be <i>any</i> implementation, and you only see it as a <code>DataService</code>."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1673349690,"post_id":75069018,"comment_id":132473851,"body_markdown":"Also, this may be helpful regarding dependency injection: https://stackoverflow.com/questions/43514699/how-does-spring-achieve-dependency-injection-at-runtime","body":"Also, this may be helpful regarding dependency injection: <a href=\"https://stackoverflow.com/questions/43514699/how-does-spring-achieve-dependency-injection-at-runtime\" title=\"how does spring achieve dependency injection at runtime\">stackoverflow.com/questions/43514699/&hellip;</a>"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1673350036,"post_id":75069018,"comment_id":132473980,"body_markdown":"@Slaw re: &quot;*might need to be annotated*&quot;, it doesn&#39;t have to be. See my answer here  https://stackoverflow.com/a/68544892/1898563 83000 views. A common misconception, it seems.","body":"@Slaw re: &quot;<i>might need to be annotated</i>&quot;, it doesn&#39;t have to be. See my answer here  <a href=\"https://stackoverflow.com/a/68544892/1898563\">stackoverflow.com/a/68544892/1898563</a> 83000 views. A common misconception, it seems."}],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1673349630,"creation_date":1673349630,"answer_id":75069222,"question_id":75069018,"body_markdown":"&gt; what exactly is happening in the background when this line of code is\r\n&gt; compiled / executed?\r\n&gt; ```\r\n&gt; public BusinessCalculationService(DataService dataService) {\r\n&gt;     this.dataService = dataService;\r\n&gt; }\r\n&gt; ````\r\n\r\n\r\nThat line? A reference to an object is being assigned to an instance field. That&#39;s it. It&#39;s not really any different than a local variable `int foo = 1`, except that the variable belongs to an object.\r\n\r\nThe &quot;magic&quot; is from the caller, the thing that&#39;s invoking the constructor. That&#39;s Spring, and that&#39;s buried deep in their framework; you&#39;re not supposed to see that. Notice how you never call `new BusinessCalculationService(...)` but somehow an instance is being created.\r\n\r\nBefore invoking that constructor, it&#39;s searching its records for a single &quot;bean&quot; - an object registered with the framework - that matches the type that the constructor is asking for.\r\n\r\nIf it can unambiguously find one and only one matching bean then it will &quot;auto-wire&quot; that instance - supply it to the constructor - *auto*matically *wiring* together beans, kind of like you&#39;d wire together electrical components.\r\n\r\nIf there&#39;s more than one match, then it will throw an error that what you&#39;re requesting is ambiguous. If there are no matches, then it will throw an error too.\r\n\r\nMore here: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#spring-core","title":"What is happening when you pass Java Object into a new class constructor?","body":"<blockquote>\n<p>what exactly is happening in the background when this line of code is\ncompiled / executed?</p>\n<pre><code>public BusinessCalculationService(DataService dataService) {\n    this.dataService = dataService;\n}\n</code></pre>\n</blockquote>\n<p>That line? A reference to an object is being assigned to an instance field. That's it. It's not really any different than a local variable <code>int foo = 1</code>, except that the variable belongs to an object.</p>\n<p>The &quot;magic&quot; is from the caller, the thing that's invoking the constructor. That's Spring, and that's buried deep in their framework; you're not supposed to see that. Notice how you never call <code>new BusinessCalculationService(...)</code> but somehow an instance is being created.</p>\n<p>Before invoking that constructor, it's searching its records for a single &quot;bean&quot; - an object registered with the framework - that matches the type that the constructor is asking for.</p>\n<p>If it can unambiguously find one and only one matching bean then it will &quot;auto-wire&quot; that instance - supply it to the constructor - <em>auto</em>matically <em>wiring</em> together beans, kind of like you'd wire together electrical components.</p>\n<p>If there's more than one match, then it will throw an error that what you're requesting is ambiguous. If there are no matches, then it will throw an error too.</p>\n<p>More here: <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#spring-core\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#spring-core</a></p>\n"}],"owner":{"account_id":12733618,"reputation":634,"user_id":9249298,"display_name":"Nick"},"comment_count":9,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"closed_date":1673351012,"answer_count":1,"score":-4,"last_activity_date":1673349630,"creation_date":1673348668,"question_id":75069018,"body_markdown":"I am still learning how the Java language works.\r\n\r\nI have a interface called `DataService`. which serves as a interface between different database services; `MongoDbDataservice.java` and `MySQLDataService.java`\r\n\r\n**DataService.java**\r\n\r\n    public interface DataService {\r\n        int[] retrieveData(); // Method to retrieve data from different databases\r\n\r\n**MongoDbDataService.java**\r\n\r\n    @Component\r\n    public class MongoDbDataService implements DataService {\r\n        public int[] retrieveData() {\r\n            return new int[] {11, 22, 33, 44, 55};\r\n        }\r\n    }\r\n\r\n**MySQLDataService.java**\r\n\r\n    @Component\r\n    @Primary\r\n    public class MySQLDataService implements DataService {\r\n    \r\n        public int[] retrieveData() {\r\n            return new int[] {1,2,3,4,5};\r\n        }\r\n    }\r\n\r\n\r\n**BusinessCalculationService.java**\r\n\r\n    @Component\r\n    public class BusinessCalculationService {\r\n        private  DataService dataService;\r\n    \r\n        public BusinessCalculationService(DataService dataService) {\r\n            this.dataService = dataService;\r\n        }\r\n\r\n        public int findMax() {\r\n            return Arrays.stream(dataService.retrieveData()).max().orElse(0);\r\n        }\r\n    }\r\n\r\n\r\nMy question is what exactly is happening in the background when this line of code is compiled / executed?\r\n\r\n\r\n    public BusinessCalculationService(DataService dataService) {\r\n                this.dataService = dataService;\r\n            }\r\n\r\nHow is the `DataService` object being &quot;tied&quot; or &quot;wired&quot; to `BusinessCalculationService` and what does it mean to be &quot;wired&quot;\r\n\r\nEverything up to that point makes sense to me except this. I should mention I am using Spring framework.\r\n\r\n\r\nThank you in advanced.","title":"What is happening when you pass Java Object into a new class constructor?","body":"<p>I am still learning how the Java language works.</p>\n<p>I have a interface called <code>DataService</code>. which serves as a interface between different database services; <code>MongoDbDataservice.java</code> and <code>MySQLDataService.java</code></p>\n<p><strong>DataService.java</strong></p>\n<pre><code>public interface DataService {\n    int[] retrieveData(); // Method to retrieve data from different databases\n</code></pre>\n<p><strong>MongoDbDataService.java</strong></p>\n<pre><code>@Component\npublic class MongoDbDataService implements DataService {\n    public int[] retrieveData() {\n        return new int[] {11, 22, 33, 44, 55};\n    }\n}\n</code></pre>\n<p><strong>MySQLDataService.java</strong></p>\n<pre><code>@Component\n@Primary\npublic class MySQLDataService implements DataService {\n\n    public int[] retrieveData() {\n        return new int[] {1,2,3,4,5};\n    }\n}\n</code></pre>\n<p><strong>BusinessCalculationService.java</strong></p>\n<pre><code>@Component\npublic class BusinessCalculationService {\n    private  DataService dataService;\n\n    public BusinessCalculationService(DataService dataService) {\n        this.dataService = dataService;\n    }\n\n    public int findMax() {\n        return Arrays.stream(dataService.retrieveData()).max().orElse(0);\n    }\n}\n</code></pre>\n<p>My question is what exactly is happening in the background when this line of code is compiled / executed?</p>\n<pre><code>public BusinessCalculationService(DataService dataService) {\n            this.dataService = dataService;\n        }\n</code></pre>\n<p>How is the <code>DataService</code> object being &quot;tied&quot; or &quot;wired&quot; to <code>BusinessCalculationService</code> and what does it mean to be &quot;wired&quot;</p>\n<p>Everything up to that point makes sense to me except this. I should mention I am using Spring framework.</p>\n<p>Thank you in advanced.</p>\n"},{"tags":["java","arrays","copy","element"],"comments":[{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1412546291,"post_id":26207611,"comment_id":41098248,"body_markdown":"What are `tab` and `tab2`? And &quot;but it doesnt work&quot; is not a good replacement for an error message.","body":"What are <code>tab</code> and <code>tab2</code>? And &quot;but it doesnt work&quot; is not a good replacement for an error message."},{"owner":{"account_id":2726221,"reputation":325,"user_id":2351210,"accept_rate":82,"display_name":"Bob J"},"score":0,"creation_date":1412546550,"post_id":26207611,"comment_id":41098306,"body_markdown":"my bad, tab is array and tab2 is array2","body":"my bad, tab is array and tab2 is array2"},{"owner":{"account_id":121246,"reputation":899,"user_id":314198,"accept_rate":83,"display_name":"Jonatan Cloutier"},"score":0,"creation_date":1412546852,"post_id":26207611,"comment_id":41098368,"body_markdown":"What exactly doesnt work? do you get an error? another result? just plain nothing?","body":"What exactly doesnt work? do you get an error? another result? just plain nothing?"}],"answers":[{"tags":[],"owner":{"account_id":4776452,"reputation":582,"user_id":3859405,"display_name":"Abbath"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1412546391,"creation_date":1412546391,"answer_id":26207657,"question_id":26207611,"body_markdown":"    int j = 0;\r\n    int count = 0; //Set this variable to the number of times the &#39;remove&#39; item appears in the list\r\n    int[] array2 = new int[array.length - count];\r\n    int remove = 6;\r\n    for(int i=0; i &lt; array.length; i++)\r\n    {\r\n       if(array[i] != remove)\r\n           array2[j++] = array[i];\r\n    }\r\n       ","title":"copy array without specified element java","body":"<pre><code>int j = 0;\nint count = 0; //Set this variable to the number of times the 'remove' item appears in the list\nint[] array2 = new int[array.length - count];\nint remove = 6;\nfor(int i=0; i &lt; array.length; i++)\n{\n   if(array[i] != remove)\n       array2[j++] = array[i];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1635690,"reputation":150047,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1673349339,"creation_date":1498739426,"answer_id":44825225,"question_id":26207611,"body_markdown":"You can also do it using Java 8&#39;s streams and lambda expressions:\r\n\r\n    int[] array= { 0, 1, 2, 3, 4, 5, 6, 7, 8, 9 };\r\n    int[] array2 = Arrays.stream( array ).filter( value -&gt; value != 6 ).toArray();\r\n    System.out.println( Arrays.toString( array2 ) );\r\n    // Outputs: [0, 1, 2, 3, 4, 5, 7, 8, 9]","title":"copy array without specified element java","body":"<p>You can also do it using Java 8's streams and lambda expressions:</p>\n<pre><code>int[] array= { 0, 1, 2, 3, 4, 5, 6, 7, 8, 9 };\nint[] array2 = Arrays.stream( array ).filter( value -&gt; value != 6 ).toArray();\nSystem.out.println( Arrays.toString( array2 ) );\n// Outputs: [0, 1, 2, 3, 4, 5, 7, 8, 9]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1534622,"reputation":1593,"user_id":1430991,"display_name":"gce"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649772498,"creation_date":1649772498,"answer_id":71844190,"question_id":26207611,"body_markdown":"`ArrayUtils.remove(array, 6)` from *apache.commons.lang* might also be suitable","title":"copy array without specified element java","body":"<p><code>ArrayUtils.remove(array, 6)</code> from <em>apache.commons.lang</em> might also be suitable</p>\n"}],"owner":{"account_id":2726221,"reputation":325,"user_id":2351210,"accept_rate":82,"display_name":"Bob J"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6771,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":26207657,"answer_count":3,"score":4,"last_activity_date":1673349339,"creation_date":1412546051,"question_id":26207611,"body_markdown":"i&#39;m trying copy an array without a specified element. Let&#39;s say I have the following arrays:\r\n\r\n    int[] array = {1,2,3,4,5,6,7,8,9};\r\n    int[] array2 = new int[array.length-1];\r\n\r\nwhat I want is to copy array to array2 without the element containing the int &quot;6&quot; so it will contain \r\n&quot;{1,2,3,4,5,7,8,9}&quot;\r\n\r\nI only want to use for loops and this is what I have so far but it doesnt work\r\n\r\n    int[] array= { 0, 1, 2, 3, 4, 5, 6, 7, 8, 9 };\r\n\t\tint[] array2= new int[array.length - 1];\r\n\t\tint remove = 6;\r\n\t\tfor (int i = 0; i &lt; array2.length; i++) {\r\n\t\t\tif (array[i] != remove) {\r\n\t\t\t\tarray2[i] = array[i];\r\n\t\t\t} else {\r\n\t\t\t\tarray2[i] = array[i + 1];\r\n\t\t\t\ti++;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (int i = 0; i &lt; array2.length; i++) {\r\n\t\t\tSystem.out.println(array2[i]);\r\n\t\t}\r\n\r\nThanks","title":"copy array without specified element java","body":"<p>i'm trying copy an array without a specified element. Let's say I have the following arrays:</p>\n\n<pre><code>int[] array = {1,2,3,4,5,6,7,8,9};\nint[] array2 = new int[array.length-1];\n</code></pre>\n\n<p>what I want is to copy array to array2 without the element containing the int \"6\" so it will contain \n\"{1,2,3,4,5,7,8,9}\"</p>\n\n<p>I only want to use for loops and this is what I have so far but it doesnt work</p>\n\n<pre><code>int[] array= { 0, 1, 2, 3, 4, 5, 6, 7, 8, 9 };\n    int[] array2= new int[array.length - 1];\n    int remove = 6;\n    for (int i = 0; i &lt; array2.length; i++) {\n        if (array[i] != remove) {\n            array2[i] = array[i];\n        } else {\n            array2[i] = array[i + 1];\n            i++;\n        }\n    }\n    for (int i = 0; i &lt; array2.length; i++) {\n        System.out.println(array2[i]);\n    }\n</code></pre>\n\n<p>Thanks</p>\n"},{"tags":["java","java-9"],"comments":[{"owner":{"account_id":15650323,"reputation":835,"user_id":11291844,"display_name":"happy songs"},"score":0,"creation_date":1673351148,"post_id":75068486,"comment_id":132474318,"body_markdown":"From what I know, you can&#39;t exit a stream early and return a value. So the way is to use a classic for loop on a collection (maybe convert your stream to a list). There you can implement the logic mentioned above.","body":"From what I know, you can&#39;t exit a stream early and return a value. So the way is to use a classic for loop on a collection (maybe convert your stream to a list). There you can implement the logic mentioned above."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1673352623,"post_id":75068486,"comment_id":132474807,"body_markdown":"A classic loop isn&#39;t necessary, but you will need to collect the stream into a `List&lt;Optional&gt;`. You can then use its `isEmpty()` method for the &quot;stream is empty case&quot;, and get a new stream from it otherwise for the remainder of the code.","body":"A classic loop isn&#39;t necessary, but you will need to collect the stream into a <code>List&lt;Optional&gt;</code>. You can then use its <code>isEmpty()</code> method for the &quot;stream is empty case&quot;, and get a new stream from it otherwise for the remainder of the code."},{"owner":{"account_id":16677350,"reputation":65,"user_id":12053423,"display_name":"Urben"},"score":0,"creation_date":1673352854,"post_id":75068486,"comment_id":132474881,"body_markdown":"@RobSpoor Would I get the closest to my intention to not always get all elements if I used `stream.iterator()` instead of collecting it? I just would have to make sure to only use the iterator once, in one for loop, right?","body":"@RobSpoor Would I get the closest to my intention to not always get all elements if I used <code>stream.iterator()</code> instead of collecting it? I just would have to make sure to only use the iterator once, in one for loop, right?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1673354425,"post_id":75068486,"comment_id":132475421,"body_markdown":"@happysongs you _can_ exit a stream early using `findFirst()` or `findAny()` etc. - this basically exists the stream on the first value encountered.","body":"@happysongs you <i>can</i> exit a stream early using <code>findFirst()</code> or <code>findAny()</code> etc. - this basically exists the stream on the first value encountered."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1673354517,"post_id":75068486,"comment_id":132475458,"body_markdown":"&quot;Variables used in Lambda expressions have to be final&quot; - that&#39;s true but the values of those don&#39;t have to be immutable. So you _could_ try to replace `boolean empty` with `AtomicBoolean empty` - there might be other considerations that I&#39;m missing atm though.","body":"&quot;Variables used in Lambda expressions have to be final&quot; - that&#39;s true but the values of those don&#39;t have to be immutable. So you <i>could</i> try to replace <code>boolean empty</code> with <code>AtomicBoolean empty</code> - there might be other considerations that I&#39;m missing atm though."},{"owner":{"account_id":15650323,"reputation":835,"user_id":11291844,"display_name":"happy songs"},"score":0,"creation_date":1673354990,"post_id":75068486,"comment_id":132475625,"body_markdown":"@Thomas , I meant you can&#39;t exit a stream while filtering for present optionals. It could be done with a classic for loop.","body":"@Thomas , I meant you can&#39;t exit a stream while filtering for present optionals. It could be done with a classic for loop."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1673355396,"post_id":75068486,"comment_id":132475752,"body_markdown":"@happysongs I&#39;m not sure I get your meaning but you wouldn&#39;t wait for the filtering of all elements to be done before further processing, i.e. with `findFirst()` you&#39;d exit stream processing which includes filtering - so if the first element is non-empty there&#39;d be only one filter operation done (assuming the stream is not a parallel one). This is quite similar to how a classic loop would do it (think of the loop body as being like the stream operations until a terminal operation is encountered).","body":"@happysongs I&#39;m not sure I get your meaning but you wouldn&#39;t wait for the filtering of all elements to be done before further processing, i.e. with <code>findFirst()</code> you&#39;d exit stream processing which includes filtering - so if the first element is non-empty there&#39;d be only one filter operation done (assuming the stream is not a parallel one). This is quite similar to how a classic loop would do it (think of the loop body as being like the stream operations until a terminal operation is encountered)."},{"owner":{"account_id":15650323,"reputation":835,"user_id":11291844,"display_name":"happy songs"},"score":0,"creation_date":1673358816,"post_id":75068486,"comment_id":132477072,"body_markdown":"@Thomas, it&#39;s correct what you&#39;re saying. What I understood from the question is that he wants to get the first element which is present. If one is found, it should immediately return it and stop checking `isPresent()` for other elements in the stream. In case all optionals are empty, it throws an exception. He doesn&#39;t want to filter the entire stream before calling `findFirst()`.","body":"@Thomas, it&#39;s correct what you&#39;re saying. What I understood from the question is that he wants to get the first element which is present. If one is found, it should immediately return it and stop checking <code>isPresent()</code> for other elements in the stream. In case all optionals are empty, it throws an exception. He doesn&#39;t want to filter the entire stream before calling <code>findFirst()</code>."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1673359449,"post_id":75068486,"comment_id":132477286,"body_markdown":"@happysongs exactly. Assuming the stream is sequential this should amount to an ordered processing where filtering only happens until the first element has been found. In a parallel stream this should come down to local sequential processing until each batch has a first element and then checking which one was the actual first.","body":"@happysongs exactly. Assuming the stream is sequential this should amount to an ordered processing where filtering only happens until the first element has been found. In a parallel stream this should come down to local sequential processing until each batch has a first element and then checking which one was the actual first."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1673516371,"post_id":75068486,"comment_id":132518401,"body_markdown":"Why do you have a `Stream&lt;Optional&lt;MyType&gt;&gt;` to begin with? That’s the real problem.","body":"Why do you have a <code>Stream&lt;Optional&lt;MyType&gt;&gt;</code> to begin with? That’s the real problem."}],"owner":{"account_id":16677350,"reputation":65,"user_id":12053423,"display_name":"Urben"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1673407948,"answer_count":0,"score":3,"last_activity_date":1673349176,"creation_date":1673345804,"question_id":75068486,"body_markdown":"I have a `Stream&lt;Optional&lt;T&gt;&gt;`.\r\n\r\nI want to use the `findFirst()`/`findAny()` methods to return a value. However I want to throw different exceptions depending on the Stream being empty or not.\r\n\r\n```java\r\nStream&lt;Optional&lt;MyType&gt;&gt; stream = ...;\r\nreturn stream\r\n  .flatMap(Optional::stream)\r\n  .findFirst()\r\n  .orElseThrow(() -&gt; {\r\n    // I want to know here if the stream was empty or not but flatMap forgot that\r\n});\r\n```\r\n\r\nThe logic should still be lazily evaluated, once I found a non-empty Optional, the stream should not be further progressed and the value should be returned early.\r\n\r\nI tried to mutate a variable in the upper scope in a map to read from it but variables used in Lambda expressions have to be final.\r\n\r\n\r\n```java\r\nboolean empty = true;\r\nStream&lt;Optional&lt;MyType&gt;&gt; stream = ...;\r\nreturn stream\r\n  .map(t -&gt; {\r\n    empty = false; //error, must be final\r\n    return t;\r\n  })\r\n  .flatMap(Optional::stream)\r\n  .findFirst()\r\n  .orElseThrow(() -&gt; {\r\n    if (empty) {\r\n      throw ...;\r\n    } else {\r\n      throw ...;\r\n    }\r\n});\r\n```\r\n\r\n\r\nI tried to write a plain for loop but this does not work with streams:\r\n\r\n```java\r\nboolean empty = true;\r\nStream&lt;Optional&lt;MyType&gt;&gt; stream = ...;\r\nfor (Optional&lt;MyType&gt; o: stream) { //error, can&#39;t for loop on type Stream&lt;...&gt;\r\n  if (o.isEmpty()) {\r\n    empty = false;\r\n  } else {\r\n    return o.get();\r\n  }\r\n}\r\nif (empty) {\r\n  throw ...;\r\n} else {\r\n  throw ...;\r\n}\r\n```\r\n\r\nWhat can I do here?","title":"Distinguish empty Stream, Stream of empty Optionals only, Stream with at least one non-empty Optional","body":"<p>I have a <code>Stream&lt;Optional&lt;T&gt;&gt;</code>.</p>\n<p>I want to use the <code>findFirst()</code>/<code>findAny()</code> methods to return a value. However I want to throw different exceptions depending on the Stream being empty or not.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Stream&lt;Optional&lt;MyType&gt;&gt; stream = ...;\nreturn stream\n  .flatMap(Optional::stream)\n  .findFirst()\n  .orElseThrow(() -&gt; {\n    // I want to know here if the stream was empty or not but flatMap forgot that\n});\n</code></pre>\n<p>The logic should still be lazily evaluated, once I found a non-empty Optional, the stream should not be further progressed and the value should be returned early.</p>\n<p>I tried to mutate a variable in the upper scope in a map to read from it but variables used in Lambda expressions have to be final.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean empty = true;\nStream&lt;Optional&lt;MyType&gt;&gt; stream = ...;\nreturn stream\n  .map(t -&gt; {\n    empty = false; //error, must be final\n    return t;\n  })\n  .flatMap(Optional::stream)\n  .findFirst()\n  .orElseThrow(() -&gt; {\n    if (empty) {\n      throw ...;\n    } else {\n      throw ...;\n    }\n});\n</code></pre>\n<p>I tried to write a plain for loop but this does not work with streams:</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean empty = true;\nStream&lt;Optional&lt;MyType&gt;&gt; stream = ...;\nfor (Optional&lt;MyType&gt; o: stream) { //error, can't for loop on type Stream&lt;...&gt;\n  if (o.isEmpty()) {\n    empty = false;\n  } else {\n    return o.get();\n  }\n}\nif (empty) {\n  throw ...;\n} else {\n  throw ...;\n}\n</code></pre>\n<p>What can I do here?</p>\n"},{"tags":["java","apache-camel"],"comments":[{"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"score":3,"creation_date":1486542564,"post_id":42090708,"comment_id":71385092,"body_markdown":"handled(true) stops continue routing, if you want to keep routing, then use continued(true) instead","body":"handled(true) stops continue routing, if you want to keep routing, then use continued(true) instead"},{"owner":{"account_id":293739,"reputation":2461,"user_id":597222,"accept_rate":92,"display_name":"zdenda.online"},"score":2,"creation_date":1486574480,"post_id":42090708,"comment_id":71407521,"body_markdown":"well but if go continued(true), then processing will continue from where it stopped. But I want to skip processors behind exception - only to route to direct:sync.\n\nAnyway that doesnt explain why aggregation strategy si invoked only once while processing behind it proceeds","body":"well but if go continued(true), then processing will continue from where it stopped. But I want to skip processors behind exception - only to route to direct:sync.  Anyway that doesnt explain why aggregation strategy si invoked only once while processing behind it proceeds"},{"owner":{"account_id":4810539,"reputation":1183,"user_id":3884173,"accept_rate":71,"display_name":"prashanth-g"},"score":0,"creation_date":1598803564,"post_id":42090708,"comment_id":112570484,"body_markdown":"Did you get answer for this @zdenda.online","body":"Did you get answer for this @zdenda.online"}],"answers":[{"tags":[],"owner":{"account_id":3816145,"reputation":21,"user_id":3165472,"display_name":"Naga"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1555900474,"creation_date":1555900474,"answer_id":55788521,"question_id":42090708,"body_markdown":"Replace handled(true) with continue(true) on onException block. \r\nRefer this for more info\r\nhttp://camel.apache.org/exception-clause.html","title":"Apache Camel aggregate route with exception","body":"<p>Replace handled(true) with continue(true) on onException block. \nRefer this for more info\n<a href=\"http://camel.apache.org/exception-clause.html\" rel=\"nofollow noreferrer\">http://camel.apache.org/exception-clause.html</a></p>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673348931,"creation_date":1673347814,"answer_id":75068856,"question_id":42090708,"body_markdown":"I have a possible solution: \r\n\r\n1. `continued(true)` at the end of your `onException()`\r\n2. in the processor of exception, add some prop into exchange, like `skipNextStep = true`. \r\n3. At the end of exception handler, add your desired body for aggregation\r\n3. Surround the rest of your route with `.choice().when(simple(&quot;${exchangeProperty.skipNextStep == null}&quot;))` and `.end()`, so that if it&#39;s not set, means previous step work, process; if not, do nothing and return same exchange. So you can skip rest of the split route and go to aggregation directly.  \r\n\r\nNot a perfect solution but a workaround.\r\n\r\nI think split part can add a keyword like `when().skipRestAndAggregate()` so that it skips rest of the route and shortcircuit.","title":"Apache Camel aggregate route with exception","body":"<p>I have a possible solution:</p>\n<ol>\n<li><code>continued(true)</code> at the end of your <code>onException()</code></li>\n<li>in the processor of exception, add some prop into exchange, like <code>skipNextStep = true</code>.</li>\n<li>At the end of exception handler, add your desired body for aggregation</li>\n<li>Surround the rest of your route with <code>.choice().when(simple(&quot;${exchangeProperty.skipNextStep == null}&quot;))</code> and <code>.end()</code>, so that if it's not set, means previous step work, process; if not, do nothing and return same exchange. So you can skip rest of the split route and go to aggregation directly.</li>\n</ol>\n<p>Not a perfect solution but a workaround.</p>\n<p>I think split part can add a keyword like <code>when().skipRestAndAggregate()</code> so that it skips rest of the route and shortcircuit.</p>\n"}],"owner":{"account_id":293739,"reputation":2461,"user_id":597222,"accept_rate":92,"display_name":"zdenda.online"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2473,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1673348931,"creation_date":1486472914,"question_id":42090708,"body_markdown":"I want to use Apache Camel parallel multicast to 3 routes and aggregate (and wait for) 2 of them while leave 3rd go on its own (3rd one should not block first two). I also need to process these two in &quot;all&quot; cases meaning that if one of them fails (e.g. throws an exception during processing), it should be aggregated as well. \r\n\r\nFrom what I understood from Camel documentation, that behavior should be &quot;default&quot; as long as you don&#39;t specify say stopOnException. But what happens is that exchange with exception never gets to my AggregationStrategy. What is kind of weird is that processors behind aggregate get executed even when there is completionSize(2).\r\n\r\nSo my question is: How is it possible that route after aggregation continues without processing exchange with the exception in AggregationStrategy? And how to solve my case correctly? Please note that doing .to(&quot;direct:sync&quot;) is not that case because this exception may be thrown from the route that is completely out of multicast-aggregate part of routes.\r\n\r\nHere is the sample code (ExceptionThrowingProcessor throws MyException, PropertySetterProcessor is not important):\r\n\r\n    CamelContext context = new DefaultCamelContext();\r\n    RouteBuilder builder = new RouteBuilder() {\r\n        @Override\r\n        public void configure() throws Exception {\r\n        }\r\n    };\r\n\r\n    builder.onException(MyException.class)\r\n            .process(new PropertySetterProcessor(&quot;a&quot;, &quot;onException&quot;))\r\n            .handled(true);\r\n\r\n    builder.from(&quot;direct:input&quot;)\r\n            .process(new PropertySetterProcessor(&quot;a&quot;, &quot;before-multicast&quot;))\r\n            .multicast()\r\n            .parallelProcessing()\r\n            .shareUnitOfWork()\r\n            .to(&quot;direct:part1&quot;, &quot;direct:part2&quot;, &quot;direct:part3&quot;)\r\n\r\n    builder.from(&quot;direct:part1&quot;)\r\n            .process(new PropertySetterProcessor(&quot;a&quot;, &quot;part1&quot;))\r\n            .to(&quot;direct:sync&quot;);\r\n\r\n    builder.from(&quot;direct:part2&quot;)\r\n            .process(new PropertySetterProcessor(&quot;a&quot;, &quot;part2&quot;))\r\n            .process(new ExceptionThrowingProcessor(&quot;oops&quot;)) // throws MyException\r\n            .to(&quot;direct:sync&quot;);\r\n\r\n    builder.from(&quot;direct:part3&quot;)\r\n            .process(new PropertySetterProcessor(&quot;a&quot;, &quot;part3&quot;));\r\n    // don&#39;t want this to be aggregated within direct:sync\r\n\r\n    builder.from(&quot;direct:sync&quot;)\r\n            .aggregate(new TestAggregationStrategy())\r\n            // strategy.aggregate is called only once (from part1) but not from part2 :(\r\n            .constant(true)\r\n            .completionSize(2)\r\n            .process(new PropertySetterProcessor(&quot;a&quot;, &quot;after-aggregation&quot;));\r\n\r\n    context.addRoutes(builder);\r\n    context.start();\r\n\r\n    ProducerTemplate template = context.createProducerTemplate();\r\n    template.send(&quot;direct:input&quot;, new DefaultExchange(context, ExchangePattern.InOut));","title":"Apache Camel aggregate route with exception","body":"<p>I want to use Apache Camel parallel multicast to 3 routes and aggregate (and wait for) 2 of them while leave 3rd go on its own (3rd one should not block first two). I also need to process these two in \"all\" cases meaning that if one of them fails (e.g. throws an exception during processing), it should be aggregated as well. </p>\n\n<p>From what I understood from Camel documentation, that behavior should be \"default\" as long as you don't specify say stopOnException. But what happens is that exchange with exception never gets to my AggregationStrategy. What is kind of weird is that processors behind aggregate get executed even when there is completionSize(2).</p>\n\n<p>So my question is: How is it possible that route after aggregation continues without processing exchange with the exception in AggregationStrategy? And how to solve my case correctly? Please note that doing .to(\"direct:sync\") is not that case because this exception may be thrown from the route that is completely out of multicast-aggregate part of routes.</p>\n\n<p>Here is the sample code (ExceptionThrowingProcessor throws MyException, PropertySetterProcessor is not important):</p>\n\n<pre><code>CamelContext context = new DefaultCamelContext();\nRouteBuilder builder = new RouteBuilder() {\n    @Override\n    public void configure() throws Exception {\n    }\n};\n\nbuilder.onException(MyException.class)\n        .process(new PropertySetterProcessor(\"a\", \"onException\"))\n        .handled(true);\n\nbuilder.from(\"direct:input\")\n        .process(new PropertySetterProcessor(\"a\", \"before-multicast\"))\n        .multicast()\n        .parallelProcessing()\n        .shareUnitOfWork()\n        .to(\"direct:part1\", \"direct:part2\", \"direct:part3\")\n\nbuilder.from(\"direct:part1\")\n        .process(new PropertySetterProcessor(\"a\", \"part1\"))\n        .to(\"direct:sync\");\n\nbuilder.from(\"direct:part2\")\n        .process(new PropertySetterProcessor(\"a\", \"part2\"))\n        .process(new ExceptionThrowingProcessor(\"oops\")) // throws MyException\n        .to(\"direct:sync\");\n\nbuilder.from(\"direct:part3\")\n        .process(new PropertySetterProcessor(\"a\", \"part3\"));\n// don't want this to be aggregated within direct:sync\n\nbuilder.from(\"direct:sync\")\n        .aggregate(new TestAggregationStrategy())\n        // strategy.aggregate is called only once (from part1) but not from part2 :(\n        .constant(true)\n        .completionSize(2)\n        .process(new PropertySetterProcessor(\"a\", \"after-aggregation\"));\n\ncontext.addRoutes(builder);\ncontext.start();\n\nProducerTemplate template = context.createProducerTemplate();\ntemplate.send(\"direct:input\", new DefaultExchange(context, ExchangePattern.InOut));\n</code></pre>\n"},{"tags":["java","apache-kafka","apache-camel"],"owner":{"account_id":19656070,"reputation":185,"user_id":14388691,"display_name":"Aayush Saini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1673348730,"creation_date":1673348730,"question_id":75069033,"body_markdown":"This is the given route of the ActiveMQ in the camel.\r\n\r\n    &lt;route id=&quot;readInactiveRecordNotification&quot;&gt;\r\n            &lt;from uri=&quot;appActiveMQConsumer:queue:Consumer.hydra.ldap_updates_poller.VirtualTopic.ldap.in&quot; /&gt;\r\n\r\nThe Bean is given below:\r\n\r\n```\r\n   @Bean(name = &quot;appActiveMQConsumer&quot;)\r\n    public ActiveMQComponent amqConsumer() throws Exception {\r\n        ActiveMQComponent amqConsumer = new ActiveMQComponent();\r\n        amqConsumer.setConnectionFactory(pooledConnectionFactoryConsumer());\r\n        amqConsumer.setTransacted(true);\r\n        amqConsumer.setDeliveryPersistent(true);\r\n        amqConsumer.setCacheLevelName(&quot;CACHE_CONSUMER&quot;);\r\n        amqConsumer.setAcknowledgementModeName(&quot;SESSION_TRANSACTED&quot;);\r\n        return amqConsumer;\r\n    }\r\n}\r\n```\r\n\r\nI want to migrate this with Kafka. I have written the bean\r\n\r\n```\r\n @Bean(name=&quot;appkafkaConsumer&quot;)\r\n    public KafkaComponent kafkaComponentConsumer(){\r\n\r\n        KafkaComponent kafkaComponentConsumer = new KafkaComponent();\r\n        kafkaComponentConsumer.setConfiguration(kafkaConfiguration());\r\n        return kafkaComponentConsumer;\r\n\r\n    }\r\n```\r\n\r\nWhat is the correct way to migrate the above route?","title":"Converting ActiveMQ bean to Camel Kafka","body":"<p>This is the given route of the ActiveMQ in the camel.</p>\n<pre><code>&lt;route id=&quot;readInactiveRecordNotification&quot;&gt;\n        &lt;from uri=&quot;appActiveMQConsumer:queue:Consumer.hydra.ldap_updates_poller.VirtualTopic.ldap.in&quot; /&gt;\n</code></pre>\n<p>The Bean is given below:</p>\n<pre><code>   @Bean(name = &quot;appActiveMQConsumer&quot;)\n    public ActiveMQComponent amqConsumer() throws Exception {\n        ActiveMQComponent amqConsumer = new ActiveMQComponent();\n        amqConsumer.setConnectionFactory(pooledConnectionFactoryConsumer());\n        amqConsumer.setTransacted(true);\n        amqConsumer.setDeliveryPersistent(true);\n        amqConsumer.setCacheLevelName(&quot;CACHE_CONSUMER&quot;);\n        amqConsumer.setAcknowledgementModeName(&quot;SESSION_TRANSACTED&quot;);\n        return amqConsumer;\n    }\n}\n</code></pre>\n<p>I want to migrate this with Kafka. I have written the bean</p>\n<pre><code> @Bean(name=&quot;appkafkaConsumer&quot;)\n    public KafkaComponent kafkaComponentConsumer(){\n\n        KafkaComponent kafkaComponentConsumer = new KafkaComponent();\n        kafkaComponentConsumer.setConfiguration(kafkaConfiguration());\n        return kafkaComponentConsumer;\n\n    }\n</code></pre>\n<p>What is the correct way to migrate the above route?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":1,"creation_date":1673348316,"post_id":75068908,"comment_id":132473391,"body_markdown":"mapedBy uses the name of the variable or class you give in springboot not the name you give to the db colum or table","body":"mapedBy uses the name of the variable or class you give in springboot not the name you give to the db colum or table"}],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673348403,"creation_date":1673348403,"answer_id":75068967,"question_id":75068908,"body_markdown":"You have to reference the property fro the `Queue`class\r\n\r\n     @OneToMany(mappedBy = &quot;queueClinic&quot;, ...","title":"Java spring mappedBy reference an unknown target entity property","body":"<p>You have to reference the property fro the <code>Queue</code>class</p>\n<pre><code> @OneToMany(mappedBy = &quot;queueClinic&quot;, ...\n</code></pre>\n"}],"owner":{"account_id":8656323,"reputation":51,"user_id":6480460,"display_name":"CKW"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673348403,"creation_date":1673348099,"question_id":75068908,"body_markdown":"I have one exception, which is I have no mapping on my table. I have this Exeption \r\n\r\n    Cannot resolve reference to bean &#39;sessionFactory&#39; while setting bean property &#39;sessionFactory&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sessionFactory&#39; defined in class path resource [applicationContext-service.xml]: Invocation of init method failed; nested exception is org.hibernate.AnnotationException: mappedBy reference an unknown target entity property: org.openmrs.module.queue.model.Queue.queue_clinic in org.openmrs.module.queue.model.QueueClinic.queue \r\n\r\nI have a table called ```queue``` with a foreign key called ```queue_clinic_id``` and another table called ```queue_clinic```with a primary key ```queue_clinic_id```\r\n\r\nQueue entity is here:\r\n\r\n    @EqualsAndHashCode(callSuper = true)\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;queue&quot;)\r\n    public class Queue extends BaseChangeableOpenmrsMetadata {\r\n    \t\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.AUTO)\r\n    \t@Column(name = &quot;queue_id&quot;)\r\n    \tprivate Integer queueId;\r\n    \t\r\n    \t@ManyToOne\r\n    \t@JoinColumn(name = &quot;location_id&quot;, nullable = false)\r\n    \tprivate Location location;\r\n    \t\r\n    \t@ManyToOne\r\n    \t@JoinColumn(name = &quot;service&quot;, referencedColumnName = &quot;concept_id&quot;, nullable = false)\r\n    \tprivate Concept service;\r\n    \t\r\n    \t@ManyToOne\r\n    \t@JoinColumn(name = &quot;queue_clinic_id&quot;, nullable = true)\r\n    \tpublic QueueClinic queueClinic;\r\n    \t\r\n    \t@OneToMany(mappedBy = &quot;queue&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n    \t@Where(clause = &quot;voided = 0 and (started_at &lt;= current_timestamp() and ended_at is null)&quot;)\r\n    \tprivate List&lt;QueueEntry&gt; queueEntries;\r\n    \t\r\n    \t@Override\r\n    \tpublic Integer getId() {\r\n    \t\treturn getQueueId();\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void setId(Integer id) {\r\n    \t\tthis.setQueueId(id);\r\n    \t}\r\n    }\r\n    \r\n\r\nAnd queue clinic entity is here : \r\n\r\n    @EqualsAndHashCode(callSuper = true)\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;queue_clinic&quot;)\r\n    public class QueueClinic extends BaseChangeableOpenmrsMetadata {\r\n    \t\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.AUTO)\r\n    \t@Column(name = &quot;queue_clinic_id&quot;)\r\n    \tprivate Integer queueClinicId;\r\n    \t\r\n    \t@Override\r\n    \t@OneToMany(mappedBy = &quot;queue_clinic&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n    \t@Where(clause = &quot;voided = 0 and (started_at &lt;= current_timestamp() and ended_at is null)&quot;)\r\n    \tprivate List&lt;Queue&gt; queue;\r\n    \t\r\n    \t@Override\r\n    \tpublic Integer getId() {\r\n    \t\treturn getQueueClinicId();\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void setId(Integer id) {\r\n    \t\tthis.setQueueClinicId(id);\r\n    \t}\r\n    }\r\n\r\nWhat im i doing wrong? Any assistance will be appreciated.\r\n\r\n\r\n\r\n","title":"Java spring mappedBy reference an unknown target entity property","body":"<p>I have one exception, which is I have no mapping on my table. I have this Exeption</p>\n<pre><code>Cannot resolve reference to bean 'sessionFactory' while setting bean property 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [applicationContext-service.xml]: Invocation of init method failed; nested exception is org.hibernate.AnnotationException: mappedBy reference an unknown target entity property: org.openmrs.module.queue.model.Queue.queue_clinic in org.openmrs.module.queue.model.QueueClinic.queue \n</code></pre>\n<p>I have a table called <code>queue</code> with a foreign key called <code>queue_clinic_id</code> and another table called <code>queue_clinic</code>with a primary key <code>queue_clinic_id</code></p>\n<p>Queue entity is here:</p>\n<pre><code>@EqualsAndHashCode(callSuper = true)\n@Data\n@Entity\n@Table(name = &quot;queue&quot;)\npublic class Queue extends BaseChangeableOpenmrsMetadata {\n    \n    private static final long serialVersionUID = 1L;\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;queue_id&quot;)\n    private Integer queueId;\n    \n    @ManyToOne\n    @JoinColumn(name = &quot;location_id&quot;, nullable = false)\n    private Location location;\n    \n    @ManyToOne\n    @JoinColumn(name = &quot;service&quot;, referencedColumnName = &quot;concept_id&quot;, nullable = false)\n    private Concept service;\n    \n    @ManyToOne\n    @JoinColumn(name = &quot;queue_clinic_id&quot;, nullable = true)\n    public QueueClinic queueClinic;\n    \n    @OneToMany(mappedBy = &quot;queue&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    @Where(clause = &quot;voided = 0 and (started_at &lt;= current_timestamp() and ended_at is null)&quot;)\n    private List&lt;QueueEntry&gt; queueEntries;\n    \n    @Override\n    public Integer getId() {\n        return getQueueId();\n    }\n    \n    @Override\n    public void setId(Integer id) {\n        this.setQueueId(id);\n    }\n}\n</code></pre>\n<p>And queue clinic entity is here :</p>\n<pre><code>@EqualsAndHashCode(callSuper = true)\n@Data\n@Entity\n@Table(name = &quot;queue_clinic&quot;)\npublic class QueueClinic extends BaseChangeableOpenmrsMetadata {\n    \n    private static final long serialVersionUID = 1L;\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;queue_clinic_id&quot;)\n    private Integer queueClinicId;\n    \n    @Override\n    @OneToMany(mappedBy = &quot;queue_clinic&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    @Where(clause = &quot;voided = 0 and (started_at &lt;= current_timestamp() and ended_at is null)&quot;)\n    private List&lt;Queue&gt; queue;\n    \n    @Override\n    public Integer getId() {\n        return getQueueClinicId();\n    }\n    \n    @Override\n    public void setId(Integer id) {\n        this.setQueueClinicId(id);\n    }\n}\n</code></pre>\n<p>What im i doing wrong? Any assistance will be appreciated.</p>\n"},{"tags":["java","multithreading","lua","interrupt","luaj"],"answers":[{"tags":[],"owner":{"account_id":3011861,"reputation":1,"user_id":2555167,"display_name":"user2555167"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1373063315,"creation_date":1373063315,"answer_id":17497610,"question_id":17496868,"body_markdown":"I&#39;ve never used Luaj before, but could you not put your one line\r\n\r\n    JsePlatform.standardGlobals().loadFile(&quot;badscript.lua&quot;).call();\r\nInto a new thread of its own, which you can then terminate from the main thread?\r\n\r\nThis would require you to make some sort of a supervisor thread (class) and pass any started scripts to it to supervise and eventually terminate if they don&#39;t terminate on their own.","title":"Lua / Java / LuaJ - Handling or Interrupting Infinite Loops and Threads","body":"<p>I've never used Luaj before, but could you not put your one line</p>\n\n<pre><code>JsePlatform.standardGlobals().loadFile(\"badscript.lua\").call();\n</code></pre>\n\n<p>Into a new thread of its own, which you can then terminate from the main thread?</p>\n\n<p>This would require you to make some sort of a supervisor thread (class) and pass any started scripts to it to supervise and eventually terminate if they don't terminate on their own.</p>\n"},{"tags":[],"owner":{"account_id":1143897,"reputation":1651,"user_id":1127098,"display_name":"xikkub"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392150392,"creation_date":1373235149,"answer_id":17516912,"question_id":17496868,"body_markdown":"**EDIT:** I&#39;ve not found any way to safely terminate LuaJ&#39;s threads without modifying LuaJ itself. The following was what I came up with, though it doesn&#39;t work with LuaJ. However, it can be easily modified to do its job in pure Lua. I may be switching to a Python binding for Java since LuaJ threading is so problematic.\r\n\r\n***--- I came up with the following, but it doesn&#39;t work with LuaJ ---***\r\n\r\n[Here][1] is a possible solution. I register a hook with debug.sethook that gets triggered on &quot;count&quot; events (these events occur even in a `while true do end`). I also pass a custom &quot;ScriptState&quot; Java object I created which contains a boolean flag indicating whether the script should terminate or not. The Java object is queried in the Lua hook &lt;s&gt;which will throw an error to close the script if the flag is set&lt;/s&gt; **(edit: throwing an error doesn&#39;t actually terminate the script)**. The terminate flag may also be set from inside the Lua script.\r\n\r\nIf you wish to automatically terminate unyielding infinite loops, it&#39;s straightforward enough to implement a timer system which records the last time a call was made to the ScriptState, then automatically terminate the script if sufficient time passes without an API call **(edit: this only works if the thread can be interrupted)**. If you want to kill infinite loops but not interrupt certain blocking operations, you can adjust the ScriptState object to include other state information that allows you to temporarily pause auto-termination, etc.\r\n\r\nHere is my `interpreter.lua` which can be used to call another script and interrupt it if/when necessary. It makes calls to Java methods so it will not run without LuaJ (or some other Lua-Java library) unless it&#39;s modified **(edit: again, it can be easily modified to work in pure Lua)**.\r\n\r\n    function hook_line(e)\r\n        if jthread:getDone() then\r\n            -- I saw someone else use error(), but an infinite loop still seems to evade it.\r\n            -- os.exit() seems to take care of it well.\r\n            os.exit()\r\n        end\r\n    end\r\n\r\n    function inithook()\r\n        -- the hook will run every 100 million instructions.\r\n        -- the time it takes for 100 million instructions to occur\r\n        --   is based on computer speed and the calling environment\r\n        debug.sethook(hook_line, &quot;&quot;, 1e8)\r\n        local ret = dofile(jLuaScript)\r\n        debug.sethook()\r\n        return ret\r\n    end\r\n\r\n    args = { ... }\r\n    if jthread == nil then\r\n        error(&quot;jthread object is nil. Please set it in the Java environment.&quot;,2)\r\n    elseif jLuaScript == nil then\r\n        error(&quot;jLuaScript not set. Please set it in the Java environment.&quot;,2)\r\n    else\r\n        local x,y = xpcall(inithook, debug.traceback)\r\n    end\r\n\r\nHere&#39;s the `ScriptState` class that stores the flag and a `main()` to demonstrate:\r\n\r\n    public class ScriptState {\r\n\r\n        private AtomicBoolean isDone = new AtomicBoolean(true);\r\n        public boolean getDone() { return isDone.get(); }\r\n        public void setDone(boolean v) { isDone.set(v); }\r\n\r\n        public static void main(String[] args) {\r\n            Thread t = new Thread() {\r\n                public void run() {\r\n                    System.out.println(&quot;J: Lua script started.&quot;);\r\n                    ScriptState s = new ScriptState();\r\n                    Globals g = JsePlatform.debugGlobals();\r\n                    g.set(&quot;jLuaScript&quot;, &quot;res/main.lua&quot;);\r\n                    g.set(&quot;jthread&quot;, CoerceJavaToLua.coerce(s));\r\n                    try {\r\n                        g.loadFile(&quot;res/_interpreter.lua&quot;).call();\r\n                    } catch (Exception e) {\r\n                        System.err.println(&quot;There was a Lua error!&quot;);\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            };\r\n            t.start();\r\n            try { t.join(); } catch (Exception e) { System.err.println(&quot;Error waiting for thread&quot;); }\r\n            System.out.println(&quot;J: End main&quot;);\r\n        }\r\n    }\r\n\r\n`res/main.lua` contains the target Lua code to be run. Use environment variables or parameters to pass additional information to the script as usual. Remember to use `JsePlatform.debugGlobals()` instead of `JsePlatform.standardGlobals()` if you want to use the `debug` library in Lua.\r\n\r\n**EDIT: I just noticed that `os.exit()` not only terminates the Lua script but also the calling *process*. It seems to be the equivalent of `System.exit()`. `error()` will throw an error but will not cause the Lua script to terminate. I&#39;m trying to find a solution for this now.**\r\n\r\n  [1]: https://stackoverflow.com/questions/11268857/how-to-enforce-lua-scripts-runtime-limit","title":"Lua / Java / LuaJ - Handling or Interrupting Infinite Loops and Threads","body":"<p><strong>EDIT:</strong> I've not found any way to safely terminate LuaJ's threads without modifying LuaJ itself. The following was what I came up with, though it doesn't work with LuaJ. However, it can be easily modified to do its job in pure Lua. I may be switching to a Python binding for Java since LuaJ threading is so problematic.</p>\n\n<p><strong><em>--- I came up with the following, but it doesn't work with LuaJ ---</em></strong></p>\n\n<p><a href=\"https://stackoverflow.com/questions/11268857/how-to-enforce-lua-scripts-runtime-limit\">Here</a> is a possible solution. I register a hook with debug.sethook that gets triggered on \"count\" events (these events occur even in a <code>while true do end</code>). I also pass a custom \"ScriptState\" Java object I created which contains a boolean flag indicating whether the script should terminate or not. The Java object is queried in the Lua hook <s>which will throw an error to close the script if the flag is set</s> <strong>(edit: throwing an error doesn't actually terminate the script)</strong>. The terminate flag may also be set from inside the Lua script.</p>\n\n<p>If you wish to automatically terminate unyielding infinite loops, it's straightforward enough to implement a timer system which records the last time a call was made to the ScriptState, then automatically terminate the script if sufficient time passes without an API call <strong>(edit: this only works if the thread can be interrupted)</strong>. If you want to kill infinite loops but not interrupt certain blocking operations, you can adjust the ScriptState object to include other state information that allows you to temporarily pause auto-termination, etc.</p>\n\n<p>Here is my <code>interpreter.lua</code> which can be used to call another script and interrupt it if/when necessary. It makes calls to Java methods so it will not run without LuaJ (or some other Lua-Java library) unless it's modified <strong>(edit: again, it can be easily modified to work in pure Lua)</strong>.</p>\n\n<pre><code>function hook_line(e)\n    if jthread:getDone() then\n        -- I saw someone else use error(), but an infinite loop still seems to evade it.\n        -- os.exit() seems to take care of it well.\n        os.exit()\n    end\nend\n\nfunction inithook()\n    -- the hook will run every 100 million instructions.\n    -- the time it takes for 100 million instructions to occur\n    --   is based on computer speed and the calling environment\n    debug.sethook(hook_line, \"\", 1e8)\n    local ret = dofile(jLuaScript)\n    debug.sethook()\n    return ret\nend\n\nargs = { ... }\nif jthread == nil then\n    error(\"jthread object is nil. Please set it in the Java environment.\",2)\nelseif jLuaScript == nil then\n    error(\"jLuaScript not set. Please set it in the Java environment.\",2)\nelse\n    local x,y = xpcall(inithook, debug.traceback)\nend\n</code></pre>\n\n<p>Here's the <code>ScriptState</code> class that stores the flag and a <code>main()</code> to demonstrate:</p>\n\n<pre><code>public class ScriptState {\n\n    private AtomicBoolean isDone = new AtomicBoolean(true);\n    public boolean getDone() { return isDone.get(); }\n    public void setDone(boolean v) { isDone.set(v); }\n\n    public static void main(String[] args) {\n        Thread t = new Thread() {\n            public void run() {\n                System.out.println(\"J: Lua script started.\");\n                ScriptState s = new ScriptState();\n                Globals g = JsePlatform.debugGlobals();\n                g.set(\"jLuaScript\", \"res/main.lua\");\n                g.set(\"jthread\", CoerceJavaToLua.coerce(s));\n                try {\n                    g.loadFile(\"res/_interpreter.lua\").call();\n                } catch (Exception e) {\n                    System.err.println(\"There was a Lua error!\");\n                    e.printStackTrace();\n                }\n            }\n        };\n        t.start();\n        try { t.join(); } catch (Exception e) { System.err.println(\"Error waiting for thread\"); }\n        System.out.println(\"J: End main\");\n    }\n}\n</code></pre>\n\n<p><code>res/main.lua</code> contains the target Lua code to be run. Use environment variables or parameters to pass additional information to the script as usual. Remember to use <code>JsePlatform.debugGlobals()</code> instead of <code>JsePlatform.standardGlobals()</code> if you want to use the <code>debug</code> library in Lua.</p>\n\n<p><strong>EDIT: I just noticed that <code>os.exit()</code> not only terminates the Lua script but also the calling <em>process</em>. It seems to be the equivalent of <code>System.exit()</code>. <code>error()</code> will throw an error but will not cause the Lua script to terminate. I'm trying to find a solution for this now.</strong></p>\n"},{"tags":[],"owner":{"account_id":1691641,"reputation":161,"user_id":1553860,"display_name":"David Lewis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1404556560,"creation_date":1404556560,"answer_id":24585514,"question_id":17496868,"body_markdown":"There are problems, but this goes a long way towards answering your question.\r\n\r\nThe following proof-of-concept demonstrates a basic level of sandboxing and throttling of arbitrary user code. It runs ~250 instructions of poorly crafted &#39;user input&#39; and then discards the coroutine. You could use a mechanism like the one in [this answer][1] to query Java and conditionally yield inside a hook function, instead of yielding every time.\r\n\r\nSandboxTest.java:\r\n\r\n    public static void main(String[] args) {\r\n\t\tGlobals globals = JsePlatform.debugGlobals();\r\n\t\t\r\n\t\tLuaValue chunk = globals.loadfile(&quot;res/test.lua&quot;);\r\n\t\t\t\t\r\n\t\tchunk.call();\r\n    }\r\n\r\nres/test.lua:\r\n\r\n    function sandbox(fn)\r\n    \t-- read script and set the environment\r\n    \tf = loadfile(fn, &quot;t&quot;)\r\n    \tdebug.setupvalue(f, 1, {print = print})\r\n    \t\r\n    \t-- create a coroutine and have it yield every 50 instructions\r\n    \tlocal co = coroutine.create(f)\r\n    \tdebug.sethook(co, coroutine.yield, &quot;&quot;, 50)\r\n    \t\r\n    \t-- demonstrate stepped execution, 5 &#39;ticks&#39;\r\n    \tfor i = 1, 5 do\r\n    \t\tprint(&quot;tick&quot;)\r\n    \t\tcoroutine.resume(co)\r\n    \tend\r\n    end\r\n    \r\n    sandbox(&quot;res/badfile.lua&quot;)\r\n\r\nres/badfile.lua:\r\n\r\n    while 1 do\r\n        print(&quot;&quot;, &quot;badfile&quot;)\r\n    end\r\n\r\nUnfortunately, while the control flow works as intended, something in the way the &#39;abandoned&#39; coroutine should get garbage collected is not working correctly. The corresponding `LuaThread` in Java hangs around forever in a wait loop, keeping the process alive. Details here:\r\n\r\n[How can I abandon a LuaJ coroutine LuaThread?][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/17516912/1553860\r\n  [2]: https://stackoverflow.com/questions/24585279/how-can-i-abandon-a-luaj-coroutine-luathread","title":"Lua / Java / LuaJ - Handling or Interrupting Infinite Loops and Threads","body":"<p>There are problems, but this goes a long way towards answering your question.</p>\n\n<p>The following proof-of-concept demonstrates a basic level of sandboxing and throttling of arbitrary user code. It runs ~250 instructions of poorly crafted 'user input' and then discards the coroutine. You could use a mechanism like the one in <a href=\"https://stackoverflow.com/a/17516912/1553860\">this answer</a> to query Java and conditionally yield inside a hook function, instead of yielding every time.</p>\n\n<p>SandboxTest.java:</p>\n\n<pre><code>public static void main(String[] args) {\n    Globals globals = JsePlatform.debugGlobals();\n\n    LuaValue chunk = globals.loadfile(\"res/test.lua\");\n\n    chunk.call();\n}\n</code></pre>\n\n<p>res/test.lua:</p>\n\n<pre><code>function sandbox(fn)\n    -- read script and set the environment\n    f = loadfile(fn, \"t\")\n    debug.setupvalue(f, 1, {print = print})\n\n    -- create a coroutine and have it yield every 50 instructions\n    local co = coroutine.create(f)\n    debug.sethook(co, coroutine.yield, \"\", 50)\n\n    -- demonstrate stepped execution, 5 'ticks'\n    for i = 1, 5 do\n        print(\"tick\")\n        coroutine.resume(co)\n    end\nend\n\nsandbox(\"res/badfile.lua\")\n</code></pre>\n\n<p>res/badfile.lua:</p>\n\n<pre><code>while 1 do\n    print(\"\", \"badfile\")\nend\n</code></pre>\n\n<p>Unfortunately, while the control flow works as intended, something in the way the 'abandoned' coroutine should get garbage collected is not working correctly. The corresponding <code>LuaThread</code> in Java hangs around forever in a wait loop, keeping the process alive. Details here:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/24585279/how-can-i-abandon-a-luaj-coroutine-luathread\">How can I abandon a LuaJ coroutine LuaThread?</a></p>\n"},{"tags":[],"owner":{"account_id":1596247,"reputation":388,"user_id":1478302,"display_name":"Seldon"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1428097209,"creation_date":1428089404,"answer_id":29438498,"question_id":17496868,"body_markdown":"I struggled with the same issue and after some digging through the debug library&#39;s implementation, I created a solution similar to the one proposed by David Lewis, but did so by providing my own DebugLibrary:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package org.luaj.vm2.lib;\r\n    \r\n    import org.luaj.vm2.LuaValue;\r\n    import org.luaj.vm2.Varargs;\r\n    \r\n    public class CustomDebugLib extends DebugLib {\r\n        public boolean interrupted = false;\r\n    \r\n        @Override\r\n        public void onInstruction(int pc, Varargs v, int top) {\r\n            if (interrupted) {\r\n                throw new ScriptInterruptException();\r\n            }\r\n            super.onInstruction(pc, v, top);\r\n        }\r\n    \r\n        public static class ScriptInterruptException extends RuntimeException {}\r\n    }\r\n\r\nJust execute your script from inside a new thread and set `interrupted` to true to stop the execution. The exception will be encapsulated as the cause of a `LuaError` when thrown.","title":"Lua / Java / LuaJ - Handling or Interrupting Infinite Loops and Threads","body":"<p>I struggled with the same issue and after some digging through the debug library's implementation, I created a solution similar to the one proposed by David Lewis, but did so by providing my own DebugLibrary:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package org.luaj.vm2.lib;\n\nimport org.luaj.vm2.LuaValue;\nimport org.luaj.vm2.Varargs;\n\npublic class CustomDebugLib extends DebugLib {\n    public boolean interrupted = false;\n\n    @Override\n    public void onInstruction(int pc, Varargs v, int top) {\n        if (interrupted) {\n            throw new ScriptInterruptException();\n        }\n        super.onInstruction(pc, v, top);\n    }\n\n    public static class ScriptInterruptException extends RuntimeException {}\n}\n</code></pre>\n\n<p>Just execute your script from inside a new thread and set <code>interrupted</code> to true to stop the execution. The exception will be encapsulated as the cause of a <code>LuaError</code> when thrown.</p>\n"},{"tags":[],"owner":{"account_id":5729155,"reputation":442,"user_id":4525236,"display_name":"Paulus Limma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673348368,"creation_date":1673348368,"answer_id":75068949,"question_id":17496868,"body_markdown":"Thanks to @Seldon for suggesting the use of custom DebugLib. I implemented a simplified version of that by just checking before every instruction if a predefined amount of time is elapsed. This is of course not super accurate because there is some time between class creation and script execution. Requires no separate threads.\r\n\r\n```kotlin\r\nclass DebugLibWithTimeout(\r\n    timeout: Duration,\r\n) : DebugLib() {\r\n\r\n    private val timeoutOn = Instant.now() + timeout\r\n\r\n    override fun onInstruction(pc: Int, v: Varargs, top: Int) {\r\n        val timeoutElapsed = Instant.now() &gt; timeoutOn\r\n        if (timeoutElapsed)\r\n            throw Exception(&quot;Timeout&quot;)\r\n        super.onInstruction(pc, v, top)\r\n    }\r\n}\r\n```\r\n\r\nImportant note: if you sandbox an untrusted script calling `load` function on Lua-code and passing a separate environment to it, this will not work. `onInstruction()` seems to be called only if the function environment is a reference to _G. I dealt with that by stripping everything from _G and then adding whitelisted items back.\r\n\r\n```lua\r\n-- whitelisted items\r\nlocal sandbox_globals = {\r\n    print = print\r\n}\r\n\r\nlocal original_globals = {}\r\nfor key, value in pairs(_G) do\r\n    original_globals[key] = value\r\nend\r\n\r\nlocal sandbox_env = _G\r\n-- Remove everything from _G\r\nfor key, _ in pairs(sandbox_env) do\r\n    sandbox_env[key] = nil\r\nend\r\n\r\n-- Add whitelisted items back.\r\n-- Global pairs-function cannot be used now.\r\nfor key, value in original_globals.pairs(sandbox_globals) do\r\n    sandbox_env[key] = value\r\nend\r\n\r\nlocal function run_user_script(script)\r\n    local script_function, message = original_globals.load(script, nil, &#39;t&#39;, sandbox_env)\r\n    if not script_function then\r\n        return false, message\r\n    end\r\n\r\n    return pcall(script_function)\r\nend\r\n```","title":"Lua / Java / LuaJ - Handling or Interrupting Infinite Loops and Threads","body":"<p>Thanks to @Seldon for suggesting the use of custom DebugLib. I implemented a simplified version of that by just checking before every instruction if a predefined amount of time is elapsed. This is of course not super accurate because there is some time between class creation and script execution. Requires no separate threads.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class DebugLibWithTimeout(\n    timeout: Duration,\n) : DebugLib() {\n\n    private val timeoutOn = Instant.now() + timeout\n\n    override fun onInstruction(pc: Int, v: Varargs, top: Int) {\n        val timeoutElapsed = Instant.now() &gt; timeoutOn\n        if (timeoutElapsed)\n            throw Exception(&quot;Timeout&quot;)\n        super.onInstruction(pc, v, top)\n    }\n}\n</code></pre>\n<p>Important note: if you sandbox an untrusted script calling <code>load</code> function on Lua-code and passing a separate environment to it, this will not work. <code>onInstruction()</code> seems to be called only if the function environment is a reference to _G. I dealt with that by stripping everything from _G and then adding whitelisted items back.</p>\n<pre class=\"lang-lua prettyprint-override\"><code>-- whitelisted items\nlocal sandbox_globals = {\n    print = print\n}\n\nlocal original_globals = {}\nfor key, value in pairs(_G) do\n    original_globals[key] = value\nend\n\nlocal sandbox_env = _G\n-- Remove everything from _G\nfor key, _ in pairs(sandbox_env) do\n    sandbox_env[key] = nil\nend\n\n-- Add whitelisted items back.\n-- Global pairs-function cannot be used now.\nfor key, value in original_globals.pairs(sandbox_globals) do\n    sandbox_env[key] = value\nend\n\nlocal function run_user_script(script)\n    local script_function, message = original_globals.load(script, nil, 't', sandbox_env)\n    if not script_function then\n        return false, message\n    end\n\n    return pcall(script_function)\nend\n</code></pre>\n"}],"owner":{"account_id":1143897,"reputation":1651,"user_id":1127098,"display_name":"xikkub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3439,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":29438498,"answer_count":5,"score":4,"last_activity_date":1673348368,"creation_date":1373058405,"question_id":17496868,"body_markdown":"I&#39;m using LuaJ to run user-created Lua scripts in Java. However, running a Lua script that never returns causes the Java thread to freeze. This also renders the thread uninterruptible. I run the Lua script with:\r\n\r\n    JsePlatform.standardGlobals().loadFile(&quot;badscript.lua&quot;).call();\r\n\r\n`badscript.lua` contains `while true do end`.\r\n\r\nI&#39;d like to be able to automatically terminate scripts which are stuck in unyielding loops and also allow users to manually terminate their Lua scripts while they are running. I&#39;ve read about [debug.sethook][1] and [pcall][2], though I&#39;m not sure how I&#39;d properly use them for my purposes. I&#39;ve also heard that sandboxing is a better alternative, though that&#39;s a bit out of my reach.\r\n\r\nThis question might also be extended to Java threads alone. I&#39;ve not found any definitive information on interrupting Java threads stuck in a `while (true);`.\r\n\r\nThe online [Lua demo][3] was **very** promising, but it seems the detection and termination of &quot;bad&quot; scripts is done in the CGI script and not Lua. Would I be able to use Java to call a CGI script which in turn calls the Lua script? I&#39;m not sure that would allow users to *manually* terminate their scripts, though. I lost the link for the Lua demo source code but I have it on hand. This is the magic line:\r\n\r\n    tee -a $LOG | (ulimit -t 1 ; $LUA demo.lua 2&gt;&amp;1 | head -c 8k)\r\n\r\nCan someone point me in the right direction?\r\n\r\nSome sources:\r\n\r\n - https://stackoverflow.com/questions/5134287/embedded-lua-timing-out-rogue-scripts-e-g-infinite-loop-an-example-anyone?lq=1\r\n - https://stackoverflow.com/questions/10352092/prevent-lua-infinite-loop\r\n - https://stackoverflow.com/questions/5134287/embedded-lua-timing-out-rogue-scripts-e-g-infinite-loop-an-example-anyone\r\n - https://stackoverflow.com/questions/1204565/how-to-interrupt-the-thread-when-it-is-inside-some-loop-doing-long-task\r\n - https://stackoverflow.com/questions/2733356/killing-thread-after-some-specified-time-limit-in-java\r\n\r\n\r\n  [1]: http://www.lua.org/pil/23.2.html\r\n  [2]: http://www.lua.org/pil/8.4.html\r\n  [3]: http://www.lua.org/cgi-bin/demo","title":"Lua / Java / LuaJ - Handling or Interrupting Infinite Loops and Threads","body":"<p>I'm using LuaJ to run user-created Lua scripts in Java. However, running a Lua script that never returns causes the Java thread to freeze. This also renders the thread uninterruptible. I run the Lua script with:</p>\n\n<pre><code>JsePlatform.standardGlobals().loadFile(\"badscript.lua\").call();\n</code></pre>\n\n<p><code>badscript.lua</code> contains <code>while true do end</code>.</p>\n\n<p>I'd like to be able to automatically terminate scripts which are stuck in unyielding loops and also allow users to manually terminate their Lua scripts while they are running. I've read about <a href=\"http://www.lua.org/pil/23.2.html\" rel=\"nofollow noreferrer\">debug.sethook</a> and <a href=\"http://www.lua.org/pil/8.4.html\" rel=\"nofollow noreferrer\">pcall</a>, though I'm not sure how I'd properly use them for my purposes. I've also heard that sandboxing is a better alternative, though that's a bit out of my reach.</p>\n\n<p>This question might also be extended to Java threads alone. I've not found any definitive information on interrupting Java threads stuck in a <code>while (true);</code>.</p>\n\n<p>The online <a href=\"http://www.lua.org/cgi-bin/demo\" rel=\"nofollow noreferrer\">Lua demo</a> was <strong>very</strong> promising, but it seems the detection and termination of \"bad\" scripts is done in the CGI script and not Lua. Would I be able to use Java to call a CGI script which in turn calls the Lua script? I'm not sure that would allow users to <em>manually</em> terminate their scripts, though. I lost the link for the Lua demo source code but I have it on hand. This is the magic line:</p>\n\n<pre><code>tee -a $LOG | (ulimit -t 1 ; $LUA demo.lua 2&gt;&amp;1 | head -c 8k)\n</code></pre>\n\n<p>Can someone point me in the right direction?</p>\n\n<p>Some sources:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/5134287/embedded-lua-timing-out-rogue-scripts-e-g-infinite-loop-an-example-anyone?lq=1\">Embedded Lua - timing out rogue scripts (e.g. infinite loop) - an example anyone?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/10352092/prevent-lua-infinite-loop\">Prevent Lua infinite loop</a></li>\n<li><a href=\"https://stackoverflow.com/questions/5134287/embedded-lua-timing-out-rogue-scripts-e-g-infinite-loop-an-example-anyone\">Embedded Lua - timing out rogue scripts (e.g. infinite loop) - an example anyone?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/1204565/how-to-interrupt-the-thread-when-it-is-inside-some-loop-doing-long-task\">How to interrupt the Thread when it is inside some loop doing long task?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2733356/killing-thread-after-some-specified-time-limit-in-java\">Killing thread after some specified time limit in Java</a></li>\n</ul>\n"},{"tags":["java","android","android-ndk","ffi","jnr"],"owner":{"account_id":9796487,"reputation":610,"user_id":7259343,"display_name":"Arthur Chaloin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673348050,"creation_date":1673348050,"question_id":75068898,"body_markdown":"I am trying to call some C code from my Android application.\r\n\r\nI&#39;ve built my native code into shared libraries for every abi.\r\nI am using [JNR FFI](https://github.com/jnr/jnr-ffi) as an interface.\r\nMy libraries are properly located into `src/main/jniLibs/&lt;abi&gt;/libXXX.so`.\r\nI followed the JNR FFI documentation and the Android app builds successfully.\r\nI am testing on a ARM M1 mac running Monterey.\r\n\r\nHowever when running on Android emulator (Pixel 4 API 31), I get the following error :\r\n\r\n```\r\nCould not invoke MyModule.myMethod\r\n\r\nnull\r\n\r\ncould not load FFI provider\r\njnr.ffi.provider.jffi.Provider\r\n\r\ncould not get native definition for type `POINTER`, original error message follows:\r\njava.lang.UnsatisfiedLinkError: could not locate stub library in jar file.\r\nTried: [jni/aarch64-Linux/libjffi-1.2.so, /jni/aarch64-Linux/libjffi-1.2.so]\r\n```\r\n\r\nBy doing some googling it seems related to the M1 architecture.\r\n\r\nRelated discussions :\r\n- https://github.com/jnr/jnr-ffi/issues/215\r\n- https://github.com/jnr/jnr-ffi/issues/310\r\n- https://github.com/jnr/jnr-ffi/issues/155","title":"How to get Java JNR-FFI work on Android emulator running on ARM mac?","body":"<p>I am trying to call some C code from my Android application.</p>\n<p>I've built my native code into shared libraries for every abi.\nI am using <a href=\"https://github.com/jnr/jnr-ffi\" rel=\"nofollow noreferrer\">JNR FFI</a> as an interface.\nMy libraries are properly located into <code>src/main/jniLibs/&lt;abi&gt;/libXXX.so</code>.\nI followed the JNR FFI documentation and the Android app builds successfully.\nI am testing on a ARM M1 mac running Monterey.</p>\n<p>However when running on Android emulator (Pixel 4 API 31), I get the following error :</p>\n<pre><code>Could not invoke MyModule.myMethod\n\nnull\n\ncould not load FFI provider\njnr.ffi.provider.jffi.Provider\n\ncould not get native definition for type `POINTER`, original error message follows:\njava.lang.UnsatisfiedLinkError: could not locate stub library in jar file.\nTried: [jni/aarch64-Linux/libjffi-1.2.so, /jni/aarch64-Linux/libjffi-1.2.so]\n</code></pre>\n<p>By doing some googling it seems related to the M1 architecture.</p>\n<p>Related discussions :</p>\n<ul>\n<li><a href=\"https://github.com/jnr/jnr-ffi/issues/215\" rel=\"nofollow noreferrer\">https://github.com/jnr/jnr-ffi/issues/215</a></li>\n<li><a href=\"https://github.com/jnr/jnr-ffi/issues/310\" rel=\"nofollow noreferrer\">https://github.com/jnr/jnr-ffi/issues/310</a></li>\n<li><a href=\"https://github.com/jnr/jnr-ffi/issues/155\" rel=\"nofollow noreferrer\">https://github.com/jnr/jnr-ffi/issues/155</a></li>\n</ul>\n"},{"tags":["java","swt","jface","rcp"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1673352229,"post_id":75068842,"comment_id":132474699,"body_markdown":"This depends on the window manager of the operating system you are using. On macOS just SWT.RESIZE does work but other systems may insist on some sort of title bar.","body":"This depends on the window manager of the operating system you are using. On macOS just SWT.RESIZE does work but other systems may insist on some sort of title bar."},{"owner":{"account_id":14966819,"reputation":1,"user_id":10804801,"display_name":"nimisha boney"},"score":0,"creation_date":1673411069,"post_id":75068842,"comment_id":132490488,"body_markdown":"Is there any other way to create a window without the title bar but with resizable functionality in swt?","body":"Is there any other way to create a window without the title bar but with resizable functionality in swt?"}],"owner":{"account_id":14966819,"reputation":1,"user_id":10804801,"display_name":"nimisha boney"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673347724,"creation_date":1673347724,"question_id":75068842,"body_markdown":"I created a new shell using the following code:\r\nShell shell = new Shell( parent, SWT.RESIZE);\r\n\r\nI am getting a resizable shell but with a small title bar on the top which I dont want.\r\n\r\n[This is what I am getting after using this code](https://i.stack.imgur.com/KTWnq.png).\r\n\r\n\r\n\r\nIs there any way to remove that title bar/border in the top but with retaining resizable functionality.\r\nHelp would be appreciated. Thanks!","title":"How to create a resizable SWT shell without title bar","body":"<p>I created a new shell using the following code:\nShell shell = new Shell( parent, SWT.RESIZE);</p>\n<p>I am getting a resizable shell but with a small title bar on the top which I dont want.</p>\n<p><a href=\"https://i.stack.imgur.com/KTWnq.png\" rel=\"nofollow noreferrer\">This is what I am getting after using this code</a>.</p>\n<p>Is there any way to remove that title bar/border in the top but with retaining resizable functionality.\nHelp would be appreciated. Thanks!</p>\n"},{"tags":["java","gradle","javafx","saxon"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1673288120,"post_id":75061336,"comment_id":132460760,"body_markdown":"See: [JavaFX with Gradle error module not found](https://stackoverflow.com/questions/71562138/javafx-with-gradle-error-module-not-found/71564960#71564960)","body":"See: <a href=\"https://stackoverflow.com/questions/71562138/javafx-with-gradle-error-module-not-found/71564960#71564960\">JavaFX with Gradle error module not found</a>"},{"owner":{"account_id":27237191,"reputation":11,"user_id":20763918,"display_name":"Max Gr&#252;ntgens"},"score":1,"creation_date":1673351691,"post_id":75061336,"comment_id":132474500,"body_markdown":"@jewelsea Thank you very much for your help! I switched to Maven and am now able to package my app into a standalone jar file. Do you think it&#39;s worthwhile putting this forward at Saxonica as a bug (or maybe a feature request)? Because as I understand it, what is holding me off from using Saxon-HE in modular Gradle setup is the lack of a `module-info.java` and/or property `Automatic-Module-Name` in its manifest file within the Saxon dependency. So when Saxonica would provide these, the incorporation in Gradle should work?","body":"@jewelsea Thank you very much for your help! I switched to Maven and am now able to package my app into a standalone jar file. Do you think it&#39;s worthwhile putting this forward at Saxonica as a bug (or maybe a feature request)? Because as I understand it, what is holding me off from using Saxon-HE in modular Gradle setup is the lack of a <code>module-info.java</code> and/or property <code>Automatic-Module-Name</code> in its manifest file within the Saxon dependency. So when Saxonica would provide these, the incorporation in Gradle should work?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1673357559,"post_id":75061336,"comment_id":132476621,"body_markdown":"It would be a feature request.  It isn&#39;t a bug not to support the module system by providing a `module-info.java`.  You can log it with them if you like, check to see that it is not already logged.  Could be that the project isn&#39;t actively developed, which might be why it is not modular yet.  If you changed the Gradle build script it could be made to work the way Maven defaults to (I just don&#39;t know how to do that), but yes, it is easier and better to work with Gradle when all of the modules are properly defined, especially if you want a modular project yourself.","body":"It would be a feature request.  It isn&#39;t a bug not to support the module system by providing a <code>module-info.java</code>.  You can log it with them if you like, check to see that it is not already logged.  Could be that the project isn&#39;t actively developed, which might be why it is not modular yet.  If you changed the Gradle build script it could be made to work the way Maven defaults to (I just don&#39;t know how to do that), but yes, it is easier and better to work with Gradle when all of the modules are properly defined, especially if you want a modular project yourself."},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1673622730,"post_id":75061336,"comment_id":132547363,"body_markdown":"The project is certainly actively maintained, but we haven&#39;t got around to supporting Java modules yet. I&#39;ve put it on the list for consideration at https://saxonica.plan.io/issues/5813","body":"The project is certainly actively maintained, but we haven&#39;t got around to supporting Java modules yet. I&#39;ve put it on the list for consideration at <a href=\"https://saxonica.plan.io/issues/5813\" rel=\"nofollow noreferrer\">saxonica.plan.io/issues/5813</a>"}],"owner":{"account_id":27237191,"reputation":11,"user_id":20763918,"display_name":"Max Gr&#252;ntgens"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1673357574,"answer_count":0,"score":1,"last_activity_date":1673347708,"creation_date":1673287784,"question_id":75061336,"body_markdown":"&gt; **Solution**: Thanks to jewelsea&#39;s comment [here][1] I switched the project to Maven and won&#39;t be using Gradle anymore. \r\n\r\nI try to include Saxon-HE within a modular Gradle project, based on the autogenerated JavaFX project within intellij. The error message I get when running in Intellij is:\r\n\r\n```\r\nError occurred during initialization of boot layer\r\njava.lang.module.FindException: Module Saxon.HE not found, required by org.proj.xslgui\r\n```\r\n\r\nDependencies in `build.gradle`:\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;application&#39;\r\n    id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.13&#39;\r\n    id &#39;org.beryx.jlink&#39; version &#39;2.25.0&#39;\r\n}\r\n\r\ngroup &#39;org.proj&#39;\r\nversion &#39;1.0&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\next {\r\n    junitVersion = &#39;5.9.1&#39;\r\n}\r\n\r\nsourceCompatibility = &#39;17&#39;\r\ntargetCompatibility = &#39;17&#39;\r\n\r\ntasks.withType(JavaCompile) {\r\n    options.encoding = &#39;UTF-8&#39;\r\n}\r\n\r\napplication {\r\n    mainModule = &#39;org.proj.xslgui&#39;\r\n    mainClass = &#39;org.proj.xslgui.HelloApplication&#39;\r\n}\r\n\r\njavafx {\r\n    version = &#39;17.0.2&#39;\r\n    modules = [&#39;javafx.controls&#39;, &#39;javafx.fxml&#39;]\r\n}\r\n\r\ndependencies {\r\n    implementation(&quot;net.sf.saxon:Saxon-HE:11.4&quot;)\r\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;)\r\n    testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n\r\njlink {\r\n    imageZip = project.file(&quot;${buildDir}/distributions/app-${javafx.platform.classifier}.zip&quot;)\r\n    options = [&#39;--strip-debug&#39;, &#39;--compress&#39;, &#39;2&#39;, &#39;--no-header-files&#39;, &#39;--no-man-pages&#39;]\r\n    launcher {\r\n        name = &#39;app&#39;\r\n    }\r\n}\r\n\r\njlinkZip {\r\n    group = &#39;distribution&#39;\r\n}\r\n```\r\n\r\nThe main part of the `build.gradle` is autogenerated by intellij. \r\n\r\nMy `settings.gradle`:\r\n\r\n```\r\nrootProject.name = &quot;XSLGui&quot;\r\n```\r\n\r\nMy `module-info.java`:\r\n\r\n```\r\nmodule org.proj.xslgui {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n    requires java.xml;\r\n    requires Saxon.HE;\r\n\r\n    opens org.proj.xslgui to javafx.fxml;\r\n    exports org.proj.xslgui;\r\n}\r\n```\r\n\r\nThe Saxon.jar shows up in the external libraries. And within the classes everything gets resolved just fine. I have no idea why it can&#39;t find the modul, ... intellij itself autogenerated the `require Saxon.HE` in the `module-info.java`... I think Saxon just isn&#39;t a module at all (can&#39;t find a module-info.java), so maybe that&#39;s where the problem starts...  \r\n\r\nI expected that adding the dependency in the `build.gradle` and adding the `require` in the `module-info.java` would suffice for the library to be available in order to run the program. I read the Gradle documentation and googled/stackoverflowed, I didn&#39;t find a solution for this problem though. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/71562138/javafx-with-gradle-error-module-not-found/71564960#71564960","title":"Saxon HE Gradle: Error occurred during initialization of boot layer java.lang.module.FindException: Module Saxon.HE not found","body":"<blockquote>\n<p><strong>Solution</strong>: Thanks to jewelsea's comment <a href=\"https://stackoverflow.com/questions/71562138/javafx-with-gradle-error-module-not-found/71564960#71564960\">here</a> I switched the project to Maven and won't be using Gradle anymore.</p>\n</blockquote>\n<p>I try to include Saxon-HE within a modular Gradle project, based on the autogenerated JavaFX project within intellij. The error message I get when running in Intellij is:</p>\n<pre><code>Error occurred during initialization of boot layer\njava.lang.module.FindException: Module Saxon.HE not found, required by org.proj.xslgui\n</code></pre>\n<p>Dependencies in <code>build.gradle</code>:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n    id 'org.openjfx.javafxplugin' version '0.0.13'\n    id 'org.beryx.jlink' version '2.25.0'\n}\n\ngroup 'org.proj'\nversion '1.0'\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    junitVersion = '5.9.1'\n}\n\nsourceCompatibility = '17'\ntargetCompatibility = '17'\n\ntasks.withType(JavaCompile) {\n    options.encoding = 'UTF-8'\n}\n\napplication {\n    mainModule = 'org.proj.xslgui'\n    mainClass = 'org.proj.xslgui.HelloApplication'\n}\n\njavafx {\n    version = '17.0.2'\n    modules = ['javafx.controls', 'javafx.fxml']\n}\n\ndependencies {\n    implementation(&quot;net.sf.saxon:Saxon-HE:11.4&quot;)\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;)\n    testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\n}\n\ntest {\n    useJUnitPlatform()\n}\n\njlink {\n    imageZip = project.file(&quot;${buildDir}/distributions/app-${javafx.platform.classifier}.zip&quot;)\n    options = ['--strip-debug', '--compress', '2', '--no-header-files', '--no-man-pages']\n    launcher {\n        name = 'app'\n    }\n}\n\njlinkZip {\n    group = 'distribution'\n}\n</code></pre>\n<p>The main part of the <code>build.gradle</code> is autogenerated by intellij.</p>\n<p>My <code>settings.gradle</code>:</p>\n<pre><code>rootProject.name = &quot;XSLGui&quot;\n</code></pre>\n<p>My <code>module-info.java</code>:</p>\n<pre><code>module org.proj.xslgui {\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires java.xml;\n    requires Saxon.HE;\n\n    opens org.proj.xslgui to javafx.fxml;\n    exports org.proj.xslgui;\n}\n</code></pre>\n<p>The Saxon.jar shows up in the external libraries. And within the classes everything gets resolved just fine. I have no idea why it can't find the modul, ... intellij itself autogenerated the <code>require Saxon.HE</code> in the <code>module-info.java</code>... I think Saxon just isn't a module at all (can't find a module-info.java), so maybe that's where the problem starts...</p>\n<p>I expected that adding the dependency in the <code>build.gradle</code> and adding the <code>require</code> in the <code>module-info.java</code> would suffice for the library to be available in order to run the program. I read the Gradle documentation and googled/stackoverflowed, I didn't find a solution for this problem though.</p>\n"},{"tags":["java","spring-boot","hibernate","rest","spring-security"],"comments":[{"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"score":0,"creation_date":1673344498,"post_id":75067920,"comment_id":132472304,"body_markdown":"Set a breakpoint in the `RestExceptionHandler#handleAuthenticationException` and check the cause of the `AuthenticationException`. What does it say? :)","body":"Set a breakpoint in the <code>RestExceptionHandler#handleAuthenticationException</code> and check the cause of the <code>AuthenticationException</code>. What does it say? :)"},{"owner":{"account_id":21446068,"reputation":101,"user_id":15799612,"display_name":"Nicolas"},"score":0,"creation_date":1673347091,"post_id":75067920,"comment_id":132473059,"body_markdown":"The same as in the above logs : `org.springframework.security.authentication.AuthenticationCredentialsNotFoundException: An Authentication object was not found in the SecurityContext`","body":"The same as in the above logs : <code>org.springframework.security.authentication.AuthenticationCr&zwnj;&#8203;edentialsNotFoundExc&zwnj;&#8203;eption: An Authentication object was not found in the SecurityContext</code>"},{"owner":{"account_id":20679093,"reputation":316,"user_id":15183075,"display_name":"Yannick Mussche"},"score":0,"creation_date":1673348029,"post_id":75067920,"comment_id":132473304,"body_markdown":"Why are you using authenticationmanager and dao authentication provider?","body":"Why are you using authenticationmanager and dao authentication provider?"},{"owner":{"account_id":21446068,"reputation":101,"user_id":15799612,"display_name":"Nicolas"},"score":0,"creation_date":1673370199,"post_id":75067920,"comment_id":132481478,"body_markdown":"@YannickMussche I need a bean AuthenticationManager. If there is not,spring boot does not start. I have already made some attempts of code before. This is the last.  Before I used ```@Bean\n  public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n    return authenticationConfiguration.getAuthenticationManager();\n  }``` whith the same result","body":"@YannickMussche I need a bean AuthenticationManager. If there is not,spring boot does not start. I have already made some attempts of code before. This is the last.  Before I used <code>@Bean   public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {     return authenticationConfiguration.getAuthenticationManager();   }</code> whith the same result"},{"owner":{"account_id":21446068,"reputation":101,"user_id":15799612,"display_name":"Nicolas"},"score":0,"creation_date":1673370449,"post_id":75067920,"comment_id":132481572,"body_markdown":"@YannickMussche `.authenticationProvider(daoAuthenticationProvider())` is an other attempt. Without this code there is the same result","body":"@YannickMussche <code>.authenticationProvider(daoAuthenticationProvider())</code> is an other attempt. Without this code there is the same result"},{"owner":{"account_id":20679093,"reputation":316,"user_id":15183075,"display_name":"Yannick Mussche"},"score":0,"creation_date":1673430695,"post_id":75067920,"comment_id":132495361,"body_markdown":"I&#39;ve struggled to with getting the new Spring working, But I managed to get the authentication done with the bean you mentioned in the comment. I couldn&#39;t get my authentication inside the authorizeRequest so  I did it outside.","body":"I&#39;ve struggled to with getting the new Spring working, But I managed to get the authentication done with the bean you mentioned in the comment. I couldn&#39;t get my authentication inside the authorizeRequest so  I did it outside."},{"owner":{"account_id":20679093,"reputation":316,"user_id":15183075,"display_name":"Yannick Mussche"},"score":0,"creation_date":1673430792,"post_id":75067920,"comment_id":132495383,"body_markdown":"I&#39;m only struggling with the role recognisition, rest works, you can find my code here: https://stackoverflow.com/questions/74951295/how-to-setup-preauthorize-with-spring-security-5-7, It migt help you to get the authentication done","body":"I&#39;m only struggling with the role recognisition, rest works, you can find my code here: <a href=\"https://stackoverflow.com/questions/74951295/how-to-setup-preauthorize-with-spring-security-5-7\" title=\"how to setup preauthorize with spring security 5 7\">stackoverflow.com/questions/74951295/&hellip;</a>, It migt help you to get the authentication done"},{"owner":{"account_id":5295180,"reputation":192,"user_id":4226541,"display_name":"ad3luc"},"score":0,"creation_date":1695967725,"post_id":75067920,"comment_id":136096344,"body_markdown":"@YannickMussche your link is sending to a 404 page","body":"@YannickMussche your link is sending to a 404 page"}],"owner":{"account_id":21446068,"reputation":101,"user_id":15799612,"display_name":"Nicolas"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1054,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673347378,"creation_date":1673342972,"question_id":75067920,"body_markdown":"After successful basic authentication (login/password in body) when I access to an other secured controller&#39;s method I have a 401 error.\r\nI&#39;m not sure but it seems the security context is not set.\r\n\r\nDo you have an idea or a line of research?\r\n\r\n**Use case with swagger**\r\n\r\n 1. call `http://localhost:8080/api/v1/auth/login` as admin =&gt; success and `SecurityContextHolder.getContext()` has an authentication as `UsernamePasswordAuthenticationToken`\r\n 2. call `http://localhost:8080/api/v1/auth/me` =&gt; success. authentication is always `UsernamePasswordAuthenticationToken` and the user admin is returned\r\n 3. call `http://localhost:8080/api/v1/distributors/isauthenticated` =&gt; failed and return a 401 http status.\r\n\r\n**The step 3 logs**\r\n```\r\n2023-01-10 10:16:48,523 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping         : Mapped to fr.gregoire.passpro.backend.controller.DistributorsController#test()\r\n2023-01-10 10:16:48,524 [http-nio-8080-exec-1] INFO  Spring Security Debugger                           : \r\n\r\n************************************************************\r\n\r\nRequest received for GET &#39;/api/v1/distributors/isauthenticated&#39;:\r\n\r\norg.apache.catalina.connector.RequestFacade@5d0e637c\r\n\r\nservletPath:/api/v1/distributors/isauthenticated\r\npathInfo:null\r\nheaders: \r\nhost: localhost:8080\r\nuser-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:108.0) Gecko/20100101 Firefox/108.0\r\naccept: */*\r\naccept-language: fr,fr-FR;q=0.8,en-US;q=0.5,en;q=0.3\r\naccept-encoding: gzip, deflate, br\r\nreferer: http://localhost:8080/swagger-ui/index.html\r\nconnection: keep-alive\r\ncookie: JSESSIONID=F6F38EADC8BA2ADF82A519C33507D25F\r\nsec-fetch-dest: empty\r\nsec-fetch-mode: cors\r\nsec-fetch-site: same-origin\r\n\r\n\r\nSecurity filter chain: no match\r\n\r\n\r\n************************************************************\r\n\r\n\r\n2023-01-10 10:16:48,524 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping         : Mapped to fr.gregoire.passpro.backend.controller.DistributorsController#test()\r\n2023-01-10 10:16:48,524 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet  : GET &quot;/api/v1/distributors/isauthenticated&quot;, parameters={}\r\n2023-01-10 10:16:48,524 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping         : Mapped to fr.gregoire.passpro.backend.controller.DistributorsController#test()\r\n2023-01-10 10:16:48,524 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public void fr.gregoire.passpro.backend.controller.DistributorsController.test() throws java.lang.Exception; target is of class [fr.gregoire.passpro.backend.controller.DistributorsController]\r\n2023-01-10 10:16:48,525 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver    : Using @ExceptionHandler fr.gregoire.passpro.backend.resterror.RestExceptionHandler#handleAuthenticationException(AuthenticationException)\r\n2023-01-10 10:16:48,526 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor   : Using &#39;application/json&#39;, given [*/*] and supported [application/json, application/*+json]\r\n2023-01-10 10:16:48,526 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor   : Writing [fr.gregoire.passpro.backend.resterror.RestErrors@55eb7689]\r\n2023-01-10 10:16:48,527 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver    : Resolved [org.springframework.security.authentication.AuthenticationCredentialsNotFoundException: An Authentication object was not found in the SecurityContext]\r\n2023-01-10 10:16:48,528 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet  : Completed 401 UNAUTHORIZED\r\n\r\n```\r\n\r\n**Quick info**\r\n\r\n - spring boot 3\r\n - spring security 6\r\n\r\n**Code**\r\n```\r\npackage fr.gregoire.passpro.backend.config;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.ProviderManager;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.authentication.HttpStatusEntryPoint;\r\nimport org.springframework.security.web.context.DelegatingSecurityContextRepository;\r\nimport org.springframework.security.web.context.HttpSessionSecurityContextRepository;\r\nimport org.springframework.security.web.context.RequestAttributeSecurityContextRepository;\r\nimport org.springframework.security.web.context.SecurityContextRepository;\r\nimport org.springframework.security.web.savedrequest.HttpSessionRequestCache;\r\n\r\n@Configuration\r\n@EnableWebSecurity(debug = true)\r\n@EnableMethodSecurity(securedEnabled = true)\r\npublic class SecurityConfig {\r\n\r\n  @Autowired\r\n  UserDetailsService userDetailsService;\r\n\r\n  @Bean\r\n  public SecurityContextRepository securityContextRepository() {\r\n    return new HttpSessionSecurityContextRepository();\r\n  }\r\n\r\n  @Bean\r\n  public AuthenticationManager authenticationManager(UserDetailsService userDetailsService) throws Exception {\r\n    return new ProviderManager(daoAuthenticationProvider());\r\n  }\r\n\r\n  @Bean\r\n  public PasswordEncoder passwordEncoder() {\r\n    return new BCryptPasswordEncoder();\r\n  }\r\n\r\n  @Bean\r\n  public DaoAuthenticationProvider daoAuthenticationProvider() {\r\n    DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\r\n    provider.setUserDetailsService(userDetailsService);\r\n    provider.setPasswordEncoder(passwordEncoder());\r\n    return provider;\r\n  }\r\n\r\n  @Bean\r\n  SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    HttpSessionRequestCache requestCache = new HttpSessionRequestCache();\r\n    requestCache.setMatchingRequestParameterName(&quot;continue&quot;);\r\n    // @formatter:off\r\n    http\r\n    .headers().frameOptions().disable().and()\r\n    .cors().and()\r\n    .csrf().disable()\r\n    .formLogin().disable()\r\n    .exceptionHandling().authenticationEntryPoint(new HttpStatusEntryPoint(HttpStatus.UNAUTHORIZED)).and()\r\n    .securityMatcher(&quot;/api/*/auth/**&quot;)\r\n    .authorizeHttpRequests(authz -&gt; authz.requestMatchers(&quot;/api/*/auth/**&quot;).permitAll()\r\n                                        .requestMatchers(&quot;/api/v1/auth/me&quot;).permitAll()\r\n                                        .requestMatchers(&quot;/api/*/public/**&quot;).permitAll()\r\n                                        .requestMatchers(&quot;/api/*/catalogs/*/documents/*/file&quot;).permitAll()\r\n                                        .requestMatchers(req -&gt; req.getRequestURI().contains(&quot;mail-images&quot;)).permitAll()\r\n                                        .requestMatchers(req -&gt; req.getRequestURI().contains(&quot;api-docs&quot;)).permitAll()\r\n                                        .requestMatchers(req -&gt; req.getRequestURI().contains(&quot;swagger-ui&quot;)).permitAll()\r\n                                        .requestMatchers(req -&gt; req.getRequestURI().contains(&quot;h2-console&quot;)).permitAll()\r\n                                        .anyRequest().authenticated())\r\n    .authenticationProvider(daoAuthenticationProvider())\r\n    .securityContext((securityContext) -&gt; securityContext.requireExplicitSave(false)) // Spring secu 5.8\r\n    .securityContext((securityContext) -&gt; securityContext.securityContextRepository(new DelegatingSecurityContextRepository(\r\n      new RequestAttributeSecurityContextRepository(),\r\n      securityContextRepository()\r\n    )))\r\n    ;\r\n    // @formatter:on\r\n\r\n    return http.build();\r\n  }\r\n}\r\n```\r\n\r\n```\r\npackage fr.gregoire.passpro.backend.controller;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.security.web.authentication.session.SessionAuthenticationException;\r\nimport org.springframework.security.web.context.SecurityContextRepository;\r\nimport org.springframework.validation.annotation.Validated;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.ResponseStatus;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport fr.gregoire.passpro.backend.dto.LoginDto;\r\nimport fr.gregoire.passpro.backend.dto.UserDto;\r\nimport fr.gregoire.passpro.backend.exception.NotFoundException;\r\nimport fr.gregoire.passpro.backend.mapper.UserDtoMapper;\r\nimport fr.gregoire.passpro.backend.model.UserEntity;\r\nimport fr.gregoire.passpro.backend.service.UserService;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\nimport jakarta.validation.Valid;\r\nimport jakarta.validation.constraints.NotNull;\r\n\r\n@Validated\r\n@RestController\r\n@RequestMapping(path = &quot;/api/v1/auth&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\npublic class AuthenticationController {\r\n\r\n  @Autowired\r\n  private SecurityContextRepository securityContextRepository;\r\n\r\n  @Autowired\r\n  private AuthenticationManager authenticationManager;\r\n\r\n  @Autowired\r\n  private UserService userService;\r\n\r\n  @Autowired\r\n  private UserDtoMapper userDtoMapper;\r\n\r\n  @PostMapping(&quot;/login&quot;)\r\n  public ResponseEntity&lt;UserDto&gt; login(@NotNull @Valid @RequestBody LoginDto loginDto, HttpServletRequest request, HttpServletResponse response) {\r\n    final Authentication authentication = this.authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(loginDto.getLogin(), loginDto.getPassword()));\r\n\r\n    SecurityContextHolder.getContext()\r\n      .setAuthentication(authentication);\r\n    securityContextRepository.saveContext(SecurityContextHolder.getContext(), request, response);\r\n\r\n    return ResponseEntity.ok(this.userDtoMapper.modelToDto((UserEntity) authentication.getPrincipal()));\r\n  }\r\n\r\n  @PostMapping(&quot;/logout&quot;)\r\n  @ResponseStatus(HttpStatus.NO_CONTENT)\r\n  public void logout() {\r\n    SecurityContextHolder.clearContext();\r\n  }\r\n\r\n  @GetMapping(&quot;/me&quot;)\r\n  public ResponseEntity&lt;UserDto&gt; getAuthenticatedUser() throws NotFoundException {\r\n    Authentication authentication = SecurityContextHolder.getContext()\r\n      .getAuthentication();\r\n\r\n    if (null == authentication || !authentication.isAuthenticated() || !(authentication.getPrincipal() instanceof UserEntity)) {\r\n      throw new SessionAuthenticationException(&quot;UNAUTHORIZED&quot;);\r\n    }\r\n\r\n    return ResponseEntity.ok(this.userDtoMapper.modelToDto(this.userService.findById(((UserEntity) authentication.getPrincipal()).getId())));\r\n  }\r\n}\r\n```\r\n\r\n```\r\n@Validated\r\n@RestController\r\n@RequestMapping(path = &quot;/api/v1/distributors&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\npublic class DistributorsController {\r\n\r\n  @GetMapping(&quot;/isauthenticated&quot;)\r\n  @Secured(RoleEnumConstants.ROLE_ADMIN)\r\n  public void test() throws Exception {\r\n    Authentication authentication = SecurityContextHolder.getContext()\r\n      .getAuthentication();\r\n    System.out.println(authentication.getClass()\r\n      .getCanonicalName());\r\n    System.out.println(authentication.getCredentials());\r\n    System.out.println(authentication.isAuthenticated());\r\n    System.out.println(authentication.getDetails());\r\n    System.out.println(authentication.getAuthorities());\r\n  }\r\n}\r\n```\r\n\r\nThanks for your help and have a nice day,\r\nNicolas","title":"Spring Security 6 : can&#39;t access to secured method after authentication","body":"<p>After successful basic authentication (login/password in body) when I access to an other secured controller's method I have a 401 error.\nI'm not sure but it seems the security context is not set.</p>\n<p>Do you have an idea or a line of research?</p>\n<p><strong>Use case with swagger</strong></p>\n<ol>\n<li>call <code>http://localhost:8080/api/v1/auth/login</code> as admin =&gt; success and <code>SecurityContextHolder.getContext()</code> has an authentication as <code>UsernamePasswordAuthenticationToken</code></li>\n<li>call <code>http://localhost:8080/api/v1/auth/me</code> =&gt; success. authentication is always <code>UsernamePasswordAuthenticationToken</code> and the user admin is returned</li>\n<li>call <code>http://localhost:8080/api/v1/distributors/isauthenticated</code> =&gt; failed and return a 401 http status.</li>\n</ol>\n<p><strong>The step 3 logs</strong></p>\n<pre><code>2023-01-10 10:16:48,523 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping         : Mapped to fr.gregoire.passpro.backend.controller.DistributorsController#test()\n2023-01-10 10:16:48,524 [http-nio-8080-exec-1] INFO  Spring Security Debugger                           : \n\n************************************************************\n\nRequest received for GET '/api/v1/distributors/isauthenticated':\n\norg.apache.catalina.connector.RequestFacade@5d0e637c\n\nservletPath:/api/v1/distributors/isauthenticated\npathInfo:null\nheaders: \nhost: localhost:8080\nuser-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:108.0) Gecko/20100101 Firefox/108.0\naccept: */*\naccept-language: fr,fr-FR;q=0.8,en-US;q=0.5,en;q=0.3\naccept-encoding: gzip, deflate, br\nreferer: http://localhost:8080/swagger-ui/index.html\nconnection: keep-alive\ncookie: JSESSIONID=F6F38EADC8BA2ADF82A519C33507D25F\nsec-fetch-dest: empty\nsec-fetch-mode: cors\nsec-fetch-site: same-origin\n\n\nSecurity filter chain: no match\n\n\n************************************************************\n\n\n2023-01-10 10:16:48,524 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping         : Mapped to fr.gregoire.passpro.backend.controller.DistributorsController#test()\n2023-01-10 10:16:48,524 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet  : GET &quot;/api/v1/distributors/isauthenticated&quot;, parameters={}\n2023-01-10 10:16:48,524 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping         : Mapped to fr.gregoire.passpro.backend.controller.DistributorsController#test()\n2023-01-10 10:16:48,524 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public void fr.gregoire.passpro.backend.controller.DistributorsController.test() throws java.lang.Exception; target is of class [fr.gregoire.passpro.backend.controller.DistributorsController]\n2023-01-10 10:16:48,525 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver    : Using @ExceptionHandler fr.gregoire.passpro.backend.resterror.RestExceptionHandler#handleAuthenticationException(AuthenticationException)\n2023-01-10 10:16:48,526 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor   : Using 'application/json', given [*/*] and supported [application/json, application/*+json]\n2023-01-10 10:16:48,526 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor   : Writing [fr.gregoire.passpro.backend.resterror.RestErrors@55eb7689]\n2023-01-10 10:16:48,527 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver    : Resolved [org.springframework.security.authentication.AuthenticationCredentialsNotFoundException: An Authentication object was not found in the SecurityContext]\n2023-01-10 10:16:48,528 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet  : Completed 401 UNAUTHORIZED\n\n</code></pre>\n<p><strong>Quick info</strong></p>\n<ul>\n<li>spring boot 3</li>\n<li>spring security 6</li>\n</ul>\n<p><strong>Code</strong></p>\n<pre><code>package fr.gregoire.passpro.backend.config;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.ProviderManager;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.HttpStatusEntryPoint;\nimport org.springframework.security.web.context.DelegatingSecurityContextRepository;\nimport org.springframework.security.web.context.HttpSessionSecurityContextRepository;\nimport org.springframework.security.web.context.RequestAttributeSecurityContextRepository;\nimport org.springframework.security.web.context.SecurityContextRepository;\nimport org.springframework.security.web.savedrequest.HttpSessionRequestCache;\n\n@Configuration\n@EnableWebSecurity(debug = true)\n@EnableMethodSecurity(securedEnabled = true)\npublic class SecurityConfig {\n\n  @Autowired\n  UserDetailsService userDetailsService;\n\n  @Bean\n  public SecurityContextRepository securityContextRepository() {\n    return new HttpSessionSecurityContextRepository();\n  }\n\n  @Bean\n  public AuthenticationManager authenticationManager(UserDetailsService userDetailsService) throws Exception {\n    return new ProviderManager(daoAuthenticationProvider());\n  }\n\n  @Bean\n  public PasswordEncoder passwordEncoder() {\n    return new BCryptPasswordEncoder();\n  }\n\n  @Bean\n  public DaoAuthenticationProvider daoAuthenticationProvider() {\n    DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\n    provider.setUserDetailsService(userDetailsService);\n    provider.setPasswordEncoder(passwordEncoder());\n    return provider;\n  }\n\n  @Bean\n  SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    HttpSessionRequestCache requestCache = new HttpSessionRequestCache();\n    requestCache.setMatchingRequestParameterName(&quot;continue&quot;);\n    // @formatter:off\n    http\n    .headers().frameOptions().disable().and()\n    .cors().and()\n    .csrf().disable()\n    .formLogin().disable()\n    .exceptionHandling().authenticationEntryPoint(new HttpStatusEntryPoint(HttpStatus.UNAUTHORIZED)).and()\n    .securityMatcher(&quot;/api/*/auth/**&quot;)\n    .authorizeHttpRequests(authz -&gt; authz.requestMatchers(&quot;/api/*/auth/**&quot;).permitAll()\n                                        .requestMatchers(&quot;/api/v1/auth/me&quot;).permitAll()\n                                        .requestMatchers(&quot;/api/*/public/**&quot;).permitAll()\n                                        .requestMatchers(&quot;/api/*/catalogs/*/documents/*/file&quot;).permitAll()\n                                        .requestMatchers(req -&gt; req.getRequestURI().contains(&quot;mail-images&quot;)).permitAll()\n                                        .requestMatchers(req -&gt; req.getRequestURI().contains(&quot;api-docs&quot;)).permitAll()\n                                        .requestMatchers(req -&gt; req.getRequestURI().contains(&quot;swagger-ui&quot;)).permitAll()\n                                        .requestMatchers(req -&gt; req.getRequestURI().contains(&quot;h2-console&quot;)).permitAll()\n                                        .anyRequest().authenticated())\n    .authenticationProvider(daoAuthenticationProvider())\n    .securityContext((securityContext) -&gt; securityContext.requireExplicitSave(false)) // Spring secu 5.8\n    .securityContext((securityContext) -&gt; securityContext.securityContextRepository(new DelegatingSecurityContextRepository(\n      new RequestAttributeSecurityContextRepository(),\n      securityContextRepository()\n    )))\n    ;\n    // @formatter:on\n\n    return http.build();\n  }\n}\n</code></pre>\n<pre><code>package fr.gregoire.passpro.backend.controller;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.web.authentication.session.SessionAuthenticationException;\nimport org.springframework.security.web.context.SecurityContextRepository;\nimport org.springframework.validation.annotation.Validated;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.ResponseStatus;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport fr.gregoire.passpro.backend.dto.LoginDto;\nimport fr.gregoire.passpro.backend.dto.UserDto;\nimport fr.gregoire.passpro.backend.exception.NotFoundException;\nimport fr.gregoire.passpro.backend.mapper.UserDtoMapper;\nimport fr.gregoire.passpro.backend.model.UserEntity;\nimport fr.gregoire.passpro.backend.service.UserService;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport jakarta.validation.Valid;\nimport jakarta.validation.constraints.NotNull;\n\n@Validated\n@RestController\n@RequestMapping(path = &quot;/api/v1/auth&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\npublic class AuthenticationController {\n\n  @Autowired\n  private SecurityContextRepository securityContextRepository;\n\n  @Autowired\n  private AuthenticationManager authenticationManager;\n\n  @Autowired\n  private UserService userService;\n\n  @Autowired\n  private UserDtoMapper userDtoMapper;\n\n  @PostMapping(&quot;/login&quot;)\n  public ResponseEntity&lt;UserDto&gt; login(@NotNull @Valid @RequestBody LoginDto loginDto, HttpServletRequest request, HttpServletResponse response) {\n    final Authentication authentication = this.authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(loginDto.getLogin(), loginDto.getPassword()));\n\n    SecurityContextHolder.getContext()\n      .setAuthentication(authentication);\n    securityContextRepository.saveContext(SecurityContextHolder.getContext(), request, response);\n\n    return ResponseEntity.ok(this.userDtoMapper.modelToDto((UserEntity) authentication.getPrincipal()));\n  }\n\n  @PostMapping(&quot;/logout&quot;)\n  @ResponseStatus(HttpStatus.NO_CONTENT)\n  public void logout() {\n    SecurityContextHolder.clearContext();\n  }\n\n  @GetMapping(&quot;/me&quot;)\n  public ResponseEntity&lt;UserDto&gt; getAuthenticatedUser() throws NotFoundException {\n    Authentication authentication = SecurityContextHolder.getContext()\n      .getAuthentication();\n\n    if (null == authentication || !authentication.isAuthenticated() || !(authentication.getPrincipal() instanceof UserEntity)) {\n      throw new SessionAuthenticationException(&quot;UNAUTHORIZED&quot;);\n    }\n\n    return ResponseEntity.ok(this.userDtoMapper.modelToDto(this.userService.findById(((UserEntity) authentication.getPrincipal()).getId())));\n  }\n}\n</code></pre>\n<pre><code>@Validated\n@RestController\n@RequestMapping(path = &quot;/api/v1/distributors&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\npublic class DistributorsController {\n\n  @GetMapping(&quot;/isauthenticated&quot;)\n  @Secured(RoleEnumConstants.ROLE_ADMIN)\n  public void test() throws Exception {\n    Authentication authentication = SecurityContextHolder.getContext()\n      .getAuthentication();\n    System.out.println(authentication.getClass()\n      .getCanonicalName());\n    System.out.println(authentication.getCredentials());\n    System.out.println(authentication.isAuthenticated());\n    System.out.println(authentication.getDetails());\n    System.out.println(authentication.getAuthorities());\n  }\n}\n</code></pre>\n<p>Thanks for your help and have a nice day,\nNicolas</p>\n"},{"tags":["java","sonarqube","sonarqube-scan","findbugs"],"answers":[{"tags":[],"owner":{"account_id":8765633,"reputation":84,"user_id":10929107,"display_name":"MohammadMH"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673347224,"creation_date":1673347224,"answer_id":75068760,"question_id":75068608,"body_markdown":"when you put initiation on ```(HttpsURLConnection)urlStr.openConnection(proxy);``` it is possible to have an exception and don&#39;t initiate conn also finally will be run at any situation so sonar predicate a nullPointerException. maybe you need check ```conn != null``` before calling ```conn.disconnect();``` in finally.","title":"SonarQube A NullPointerException could be thrown; Conn is nullable here","body":"<p>when you put initiation on <code>(HttpsURLConnection)urlStr.openConnection(proxy);</code> it is possible to have an exception and don't initiate conn also finally will be run at any situation so sonar predicate a nullPointerException. maybe you need check <code>conn != null</code> before calling <code>conn.disconnect();</code> in finally.</p>\n"},{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673347286,"creation_date":1673347286,"answer_id":75068773,"question_id":75068608,"body_markdown":"Let me highlight the location of a possible exception:\r\n\r\n```\r\nProxy proxy = new Proxy(Proxy.Type.HTTP, proxnet);    \r\nHttpsURLConnection conn;\r\nconn = (HttpsURLConnection)urlStr.openConnection(proxy) /* EXCEPTION! variable is not assigned */;\r\ncon.set...();\r\n\r\nfinally{\r\n   conn.disconnect();\r\n}\r\n```\r\n\r\n`conn` remains set to its initial value (`null`). The safe route is to add a null check in the finally block:\r\n\r\n```\r\nfinally {\r\n  if (conn != null) conn.disconnect();\r\n}\r\n```","title":"SonarQube A NullPointerException could be thrown; Conn is nullable here","body":"<p>Let me highlight the location of a possible exception:</p>\n<pre><code>Proxy proxy = new Proxy(Proxy.Type.HTTP, proxnet);    \nHttpsURLConnection conn;\nconn = (HttpsURLConnection)urlStr.openConnection(proxy) /* EXCEPTION! variable is not assigned */;\ncon.set...();\n\nfinally{\n   conn.disconnect();\n}\n</code></pre>\n<p><code>conn</code> remains set to its initial value (<code>null</code>). The safe route is to add a null check in the finally block:</p>\n<pre><code>finally {\n  if (conn != null) conn.disconnect();\n}\n</code></pre>\n"}],"owner":{"account_id":1003835,"reputation":1376,"user_id":1018075,"accept_rate":74,"display_name":"Mdhar9e"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75068773,"answer_count":2,"score":2,"last_activity_date":1673347286,"creation_date":1673346404,"question_id":75068608,"body_markdown":"I have created the connection from HttpsURLConnection to set all the parameters to it. In the end finally block i am disconnecting it as showin below. But the SonarQube build is not passing. Showing as bug while disconnecting the connection.\r\n\r\n    Proxy proxy = new Proxy(Proxy.Type.HTTP, proxnet);    \r\n    HttpsURLConnection conn = (HttpsURLConnection)urlStr.openConnection(proxy);\r\n    con.set...();\r\n    \r\n    finally{\r\n       conn.disconnect();\r\n    }\r\n\r\nSonarQube addressing the Bug inside finally block with NullPointerException.\r\n\r\nkeeping a NotNull check enough to the conn object? Or is anything to be done here apart from a not-null check? I am trying in different ways.\r\n\r\nA &quot;NullPointerException&quot; could be thrown; &quot;conn&quot; is nullable here.","title":"SonarQube A NullPointerException could be thrown; Conn is nullable here","body":"<p>I have created the connection from HttpsURLConnection to set all the parameters to it. In the end finally block i am disconnecting it as showin below. But the SonarQube build is not passing. Showing as bug while disconnecting the connection.</p>\n<pre><code>Proxy proxy = new Proxy(Proxy.Type.HTTP, proxnet);    \nHttpsURLConnection conn = (HttpsURLConnection)urlStr.openConnection(proxy);\ncon.set...();\n\nfinally{\n   conn.disconnect();\n}\n</code></pre>\n<p>SonarQube addressing the Bug inside finally block with NullPointerException.</p>\n<p>keeping a NotNull check enough to the conn object? Or is anything to be done here apart from a not-null check? I am trying in different ways.</p>\n<p>A &quot;NullPointerException&quot; could be thrown; &quot;conn&quot; is nullable here.</p>\n"},{"tags":["java","spring","exception","arguments"],"comments":[{"owner":{"account_id":6790232,"reputation":331,"user_id":5227637,"display_name":"Joan Sanchez"},"score":1,"creation_date":1673284692,"post_id":75060503,"comment_id":132459610,"body_markdown":"I think you have to anotate your method with @ExceptionHandler(MethodArgumentNotValidException.class) and return statement like return ResponseEntity.badRequest().body(msg);","body":"I think you have to anotate your method with @ExceptionHandler(MethodArgumentNotValidException.class) and return statement like return ResponseEntity.badRequest().body(msg);"},{"owner":{"account_id":13681177,"reputation":355,"user_id":9871487,"display_name":"Sereyn"},"score":0,"creation_date":1673342932,"post_id":75060503,"comment_id":132471786,"body_markdown":"When I use \\@ExceptionHandler the server doesn&#39;t start and crash: java.lang.IllegalStateException: Ambiguous \\@ExceptionHandler method mapped for [class org.springframework.web.bind.MethodArgumentNotValidException]","body":"When I use \\@ExceptionHandler the server doesn&#39;t start and crash: java.lang.IllegalStateException: Ambiguous \\@ExceptionHandler method mapped for [class org.springframework.web.bind.MethodArgumentNotValidException&zwnj;&#8203;]"}],"answers":[{"tags":[],"owner":{"account_id":13681177,"reputation":355,"user_id":9871487,"display_name":"Sereyn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673347068,"creation_date":1673347068,"answer_id":75068732,"question_id":75060503,"body_markdown":"```java\r\n@Order(Ordered.HIGHEST_PRECEDENCE)\r\n@ControllerAdvice\r\npublic class CustomExceptionHandler {\r\n\r\n    @ResponseStatus(BAD_REQUEST)\r\n    @ResponseBody\r\n    @ExceptionHandler(MethodArgumentNotValidException.class)\r\n    public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; methodArgumentNotValidException(MethodArgumentNotValidException ex, WebRequest request) {\r\n        // Make the message\r\n        FieldError err = ex.getBindingResult().getFieldErrors().get(0);\r\n        String msg = &quot;Unknown error&quot;;\r\n        if (err != null) {\r\n            msg = err.getField() + &quot;: &quot; + err.getDefaultMessage();\r\n        }\r\n\r\n        // Set attributes\r\n        request.setAttribute(&quot;javax.servlet.error.status_code&quot;, BAD_REQUEST.value(), WebRequest.SCOPE_REQUEST);\r\n        request.setAttribute(&quot;javax.servlet.error.message&quot;, msg, WebRequest.SCOPE_REQUEST);\r\n\r\n        // Return the error\r\n        DefaultErrorAttributes errorAttributes = new DefaultErrorAttributes();\r\n        return ResponseEntity.badRequest().body(errorAttributes.getErrorAttributes(request, false));\r\n    }\r\n\r\n}\r\n```","title":"How to send the same response body as &quot;ResponseStatusException&quot; in a custom &quot;ResponseEntityExceptionHandler&quot; in Spring?","body":"<pre class=\"lang-java prettyprint-override\"><code>@Order(Ordered.HIGHEST_PRECEDENCE)\n@ControllerAdvice\npublic class CustomExceptionHandler {\n\n    @ResponseStatus(BAD_REQUEST)\n    @ResponseBody\n    @ExceptionHandler(MethodArgumentNotValidException.class)\n    public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; methodArgumentNotValidException(MethodArgumentNotValidException ex, WebRequest request) {\n        // Make the message\n        FieldError err = ex.getBindingResult().getFieldErrors().get(0);\n        String msg = &quot;Unknown error&quot;;\n        if (err != null) {\n            msg = err.getField() + &quot;: &quot; + err.getDefaultMessage();\n        }\n\n        // Set attributes\n        request.setAttribute(&quot;javax.servlet.error.status_code&quot;, BAD_REQUEST.value(), WebRequest.SCOPE_REQUEST);\n        request.setAttribute(&quot;javax.servlet.error.message&quot;, msg, WebRequest.SCOPE_REQUEST);\n\n        // Return the error\n        DefaultErrorAttributes errorAttributes = new DefaultErrorAttributes();\n        return ResponseEntity.badRequest().body(errorAttributes.getErrorAttributes(request, false));\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":13681177,"reputation":355,"user_id":9871487,"display_name":"Sereyn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75068732,"answer_count":1,"score":0,"last_activity_date":1673347068,"creation_date":1673283080,"question_id":75060503,"body_markdown":"When a `MethodArgumentNotValidException` is thrown in my Spring app I would like the response to:\r\n1) Have a 400 code\r\n2) Have a body similar to the one you get when you throw a `ResponseStatusException` in a regular controller\r\n\r\nHere&#39;s my code for now:\r\n\r\n```java\r\n@ControllerAdvice\r\npublic class CustomExceptionHandlers extends ResponseEntityExceptionHandler {\r\n    @Override\r\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\r\n        FieldError err = ex.getBindingResult().getFieldErrors().get(0);\r\n        String msg = &quot;Unknown error&quot;;\r\n        if (err != null) {\r\n            msg = err.getField() + &quot;: &quot; + err.getDefaultMessage();\r\n        }\r\n        throw new ResponseStatusException(HttpStatus.BAD_REQUEST, msg);\r\n    }\r\n}\r\n```\r\n\r\nThe problem is: it does nothing (I guess). I feel like I shouldn&#39;t throw an exception in a `ResponseEntityExceptionHandler`.\r\n\r\nAny idea?\r\n\r\n**Edit:** Apparently I want what `DefaultErrorAttributes` produces, but I still don&#39;t know how to use it.\r\n","title":"How to send the same response body as &quot;ResponseStatusException&quot; in a custom &quot;ResponseEntityExceptionHandler&quot; in Spring?","body":"<p>When a <code>MethodArgumentNotValidException</code> is thrown in my Spring app I would like the response to:</p>\n<ol>\n<li>Have a 400 code</li>\n<li>Have a body similar to the one you get when you throw a <code>ResponseStatusException</code> in a regular controller</li>\n</ol>\n<p>Here's my code for now:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ControllerAdvice\npublic class CustomExceptionHandlers extends ResponseEntityExceptionHandler {\n    @Override\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\n        FieldError err = ex.getBindingResult().getFieldErrors().get(0);\n        String msg = &quot;Unknown error&quot;;\n        if (err != null) {\n            msg = err.getField() + &quot;: &quot; + err.getDefaultMessage();\n        }\n        throw new ResponseStatusException(HttpStatus.BAD_REQUEST, msg);\n    }\n}\n</code></pre>\n<p>The problem is: it does nothing (I guess). I feel like I shouldn't throw an exception in a <code>ResponseEntityExceptionHandler</code>.</p>\n<p>Any idea?</p>\n<p><strong>Edit:</strong> Apparently I want what <code>DefaultErrorAttributes</code> produces, but I still don't know how to use it.</p>\n"},{"tags":["java","spring","google-app-engine","google-cloud-sql"],"owner":{"account_id":25976960,"reputation":37,"user_id":19691283,"display_name":"Sahil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3032,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673346798,"creation_date":1673338145,"question_id":75067109,"body_markdown":"I am trying to connect my service file to cloud sql instance. But I am geeting java.lang.NoClassDefFoundError: Could not initialize class com.blacklight.common.DBManager \r\n\r\nHere is my class\r\n\r\n    package com.blacklight.common;\r\n    \r\n    import com.zaxxer.hikari.HikariConfig;\r\n    import com.zaxxer.hikari.HikariDataSource;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    import javax.servlet.ServletContextEvent;\r\n    import javax.servlet.ServletContextListener;\r\n    import javax.servlet.annotation.WebListener;\r\n    import javax.sql.DataSource;\r\n    import java.io.InputStream;\r\n    import java.sql.Connection;\r\n    import java.sql.SQLException;\r\n    import java.util.Properties;\r\n    \r\n    @WebListener(&quot;Initialize db upon initialization of application context&quot;)\r\n    public class DBManager implements ServletContextListener {\r\n    \r\n        private static final Logger LOGGER = LoggerFactory.getLogger(DBManager.class);\r\n    \r\n        private static final Object dataSourceLock = new Object();\r\n        private static DataSource dataSource = null;\r\n    \r\n        static {\r\n            dataSource = initDataSource();\r\n        }\r\n    \r\n        private static DataSource initDataSource() {\r\n            synchronized (dataSourceLock) {\r\n                try  {\r\n                    String username = &quot;aaaa&quot;;\r\n                    String password = &quot;bbbb&quot;;\r\n    \r\n                    String driverName = &quot;com.mysql.jdbc.Driver&quot;;\r\n                    String instance = &quot;project-Id:location:database-name&quot;;\r\n   \r\n    \r\n                    if (dataSource == null) {\r\n    \r\n                        HikariConfig config = new HikariConfig();\r\n                        config.setUsername(username);\r\n                        config.setPassword(password);\r\n    \r\n                        config.setJdbcUrl(&quot;jdbc:mysql:///Features&quot;);\r\n                        config.setUsername(username);\r\n                        config.setPassword(password);\r\n    \r\n                        config.setDriverClassName(driverName);\r\n                        config.setConnectionInitSql(&quot;SET NAMES &#39;utf8mb4&#39;&quot;);\r\n                        config.addDataSourceProperty(&quot;socketFactory&quot;,&quot;com.google.cloud.sql.mysql.SocketFactory&quot;);\r\n                        config.addDataSourceProperty(&quot;cloudSqlInstance&quot;, instance);\r\n                        config.addDataSourceProperty(&quot;characterEncoding&quot;, &quot;UTF-8&quot;);\r\n                        config.addDataSourceProperty(&quot;useUnicode&quot;, &quot;true&quot;);\r\n    //                    config.addDataSourceProperty(&quot;noAccessToProcedureBodies&quot;, &quot;true&quot;);\r\n    \r\n                        config.addDataSourceProperty(&quot;useSSL&quot;, &quot;true&quot;);\r\n                        config.addDataSourceProperty(&quot;ipTypes&quot;, &quot;PRIVATE,PUBLIC&quot;);\r\n    \r\n                        config.setMaximumPoolSize(50);\r\n                        config.setMinimumIdle(5);\r\n                        config.setConnectionTimeout(10000);\r\n                        config.setIdleTimeout(600000);\r\n                        config.setMaxLifetime(1800000);\r\n    \r\n                        dataSource = new HikariDataSource(config);\r\n                    }\r\n                    return dataSource;\r\n                } catch (Exception e) {\r\n                    System.out.println(&quot;Error&quot;);\r\n                    LOGGER.error(e.getMessage(), e);\r\n                }\r\n                throw new RuntimeException(&quot;Couldn&#39;t initialize datasource&quot;);\r\n            }\r\n        }\r\n    \r\n        public static Connection getConnection() throws SQLException {\r\n            if (dataSource == null) {\r\n                dataSource = initDataSource();\r\n            }\r\n            return dataSource.getConnection();\r\n        }\r\n    \r\n        @Override\r\n        public void contextInitialized(ServletContextEvent event) {\r\n            dataSource = initDataSource();\r\n        }\r\n    \r\n        @Override\r\n        public void contextDestroyed(ServletContextEvent event) {\r\n            if (dataSource != null) {\r\n                ((HikariDataSource) dataSource).close();\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n\r\nand my error logs are\r\ncom.blacklight.common.DBManager initDataSource: Failed to initialize pool: Communications link failure\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\ncom.zaxxer.hikari.pool.HikariPool$PoolInitializationException: Failed to initialize pool: Communications link failure\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\tat com.zaxxer.hikari.pool.HikariPool.throwPoolInitializationException(HikariPool.java:596)\r\n\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:582)\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115)\r\n\tat com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:81)\r\n\tat com.blacklight.common.DBManager.initDataSource(DBManager.java:71)\r\n\tat com.blacklight.common.DBManager.&lt;clinit&gt;(DBManager.java:26)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler$StaticContext.createInstance(ContextHandler.java:2902)\r\n\tat org.eclipse.jetty.servlet.ServletContextHandler$Context.createInstance(ServletContextHandler.java:1299)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler$StaticContext.createListener(ContextHandler.java:2913)\r\n\tat org.eclipse.jetty.servlet.ListenerHolder.doStart(ListenerHolder.java:94)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\r\n\tat org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:369)\r\n\tat org.eclipse.jetty.webapp.WebAppContext.startWebapp(WebAppContext.java:1449)\r\n\tat com.google.apphosting.runtime.jetty94.AppEngineWebAppContext.startWebapp(AppEngineWebAppContext.java:274)\r\n\tat org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1414)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:916)\r\n\tat org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:288)\r\n\tat org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:524)\r\n\tat com.google.apphosting.runtime.jetty94.AppEngineWebAppContext.doStart(AppEngineWebAppContext.java:218)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\r\n\tat com.google.apphosting.runtime.jetty94.AppVersionHandlerFactory.doCreateHandler(AppVersionHandlerFactory.java:207)\r\n\tat com.google.apphosting.runtime.jetty94.AppVersionHandlerFactory.createHandler(AppVersionHandlerFactory.java:125)\r\n\tat com.google.apphosting.runtime.jetty94.AppVersionHandlerMap.getHandler(AppVersionHandlerMap.java:82)\r\n\tat com.google.apphosting.runtime.jetty94.JettyServletEngineAdapter.serviceRequest(JettyServletEngineAdapter.java:176)\r\n\tat com.google.apphosting.runtime.RequestRunner.dispatchServletRequest(RequestRunner.java:264)\r\n\tat com.google.apphosting.runtime.RequestRunner.dispatchRequest(RequestRunner.java:229)\r\n\tat com.google.apphosting.runtime.RequestRunner.run(RequestRunner.java:194)\r\n\tat com.google.apphosting.runtime.ThreadGroupPool$PoolEntry.run(ThreadGroupPool.java:273)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\nCaused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:408)\r\n\tat com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:1117)\r\n\tat com.mysql.jdbc.MysqlIO.&lt;init&gt;(MysqlIO.java:350)\r\n\tat com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2416)\r\n\tat com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2450)\r\n\tat com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2235)\r\n\tat com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:818)\r\n\tat com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:46)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:408)\r\n\tat com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:404)\r\n\tat com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:307)\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)\r\n\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)\r\n\t... 31 more\r\nCaused by: java.net.ConnectException: Connection timed out (Connection timed out)\r\n\tat java.net.PlainSocketImpl.socketConnect(Native Method)\r\n\tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\r\n\tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\r\n\tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\r\n\tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n\tat java.net.Socket.connect(Socket.java:607)\r\n\tat sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:293)\r\n\tat sun.security.ssl.BaseSSLSocketImpl.connect(BaseSSLSocketImpl.java:173)\r\n\tat com.google.cloud.sql.core.CoreSocketFactory.createSslSocket(CoreSocketFactory.java:275)\r\n\tat com.google.cloud.sql.core.CoreSocketFactory.connect(CoreSocketFactory.java:229)\r\n\tat com.google.cloud.sql.core.CoreSocketFactory.connect(CoreSocketFactory.java:188)\r\n\tat com.google.cloud.sql.mysql.SocketFactory.connect(SocketFactory.java:41)\r\n\tat com.mysql.jdbc.MysqlIO.&lt;init&gt;(MysqlIO.java:300)","title":"java.lang.NoClassDefFoundError: Could not initialize class com.blacklight.common.DBManager","body":"<p>I am trying to connect my service file to cloud sql instance. But I am geeting java.lang.NoClassDefFoundError: Could not initialize class com.blacklight.common.DBManager</p>\n<p>Here is my class</p>\n<pre><code>package com.blacklight.common;\n\nimport com.zaxxer.hikari.HikariConfig;\nimport com.zaxxer.hikari.HikariDataSource;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport javax.servlet.ServletContextEvent;\nimport javax.servlet.ServletContextListener;\nimport javax.servlet.annotation.WebListener;\nimport javax.sql.DataSource;\nimport java.io.InputStream;\nimport java.sql.Connection;\nimport java.sql.SQLException;\nimport java.util.Properties;\n\n@WebListener(&quot;Initialize db upon initialization of application context&quot;)\npublic class DBManager implements ServletContextListener {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(DBManager.class);\n\n    private static final Object dataSourceLock = new Object();\n    private static DataSource dataSource = null;\n\n    static {\n        dataSource = initDataSource();\n    }\n\n    private static DataSource initDataSource() {\n        synchronized (dataSourceLock) {\n            try  {\n                String username = &quot;aaaa&quot;;\n                String password = &quot;bbbb&quot;;\n\n                String driverName = &quot;com.mysql.jdbc.Driver&quot;;\n                String instance = &quot;project-Id:location:database-name&quot;;\n\n\n                if (dataSource == null) {\n\n                    HikariConfig config = new HikariConfig();\n                    config.setUsername(username);\n                    config.setPassword(password);\n\n                    config.setJdbcUrl(&quot;jdbc:mysql:///Features&quot;);\n                    config.setUsername(username);\n                    config.setPassword(password);\n\n                    config.setDriverClassName(driverName);\n                    config.setConnectionInitSql(&quot;SET NAMES 'utf8mb4'&quot;);\n                    config.addDataSourceProperty(&quot;socketFactory&quot;,&quot;com.google.cloud.sql.mysql.SocketFactory&quot;);\n                    config.addDataSourceProperty(&quot;cloudSqlInstance&quot;, instance);\n                    config.addDataSourceProperty(&quot;characterEncoding&quot;, &quot;UTF-8&quot;);\n                    config.addDataSourceProperty(&quot;useUnicode&quot;, &quot;true&quot;);\n//                    config.addDataSourceProperty(&quot;noAccessToProcedureBodies&quot;, &quot;true&quot;);\n\n                    config.addDataSourceProperty(&quot;useSSL&quot;, &quot;true&quot;);\n                    config.addDataSourceProperty(&quot;ipTypes&quot;, &quot;PRIVATE,PUBLIC&quot;);\n\n                    config.setMaximumPoolSize(50);\n                    config.setMinimumIdle(5);\n                    config.setConnectionTimeout(10000);\n                    config.setIdleTimeout(600000);\n                    config.setMaxLifetime(1800000);\n\n                    dataSource = new HikariDataSource(config);\n                }\n                return dataSource;\n            } catch (Exception e) {\n                System.out.println(&quot;Error&quot;);\n                LOGGER.error(e.getMessage(), e);\n            }\n            throw new RuntimeException(&quot;Couldn't initialize datasource&quot;);\n        }\n    }\n\n    public static Connection getConnection() throws SQLException {\n        if (dataSource == null) {\n            dataSource = initDataSource();\n        }\n        return dataSource.getConnection();\n    }\n\n    @Override\n    public void contextInitialized(ServletContextEvent event) {\n        dataSource = initDataSource();\n    }\n\n    @Override\n    public void contextDestroyed(ServletContextEvent event) {\n        if (dataSource != null) {\n            ((HikariDataSource) dataSource).close();\n        }\n    }\n\n}\n</code></pre>\n<p>and my error logs are\ncom.blacklight.common.DBManager initDataSource: Failed to initialize pool: Communications link failure</p>\n<p>The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\ncom.zaxxer.hikari.pool.HikariPool$PoolInitializationException: Failed to initialize pool: Communications link failure</p>\n<p>The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\nat com.zaxxer.hikari.pool.HikariPool.throwPoolInitializationException(HikariPool.java:596)\nat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:582)\nat com.zaxxer.hikari.pool.HikariPool.(HikariPool.java:115)\nat com.zaxxer.hikari.HikariDataSource.(HikariDataSource.java:81)\nat com.blacklight.common.DBManager.initDataSource(DBManager.java:71)\nat com.blacklight.common.DBManager.(DBManager.java:26)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\nat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\nat org.eclipse.jetty.server.handler.ContextHandler$StaticContext.createInstance(ContextHandler.java:2902)\nat org.eclipse.jetty.servlet.ServletContextHandler$Context.createInstance(ServletContextHandler.java:1299)\nat org.eclipse.jetty.server.handler.ContextHandler$StaticContext.createListener(ContextHandler.java:2913)\nat org.eclipse.jetty.servlet.ListenerHolder.doStart(ListenerHolder.java:94)\nat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\nat org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:369)\nat org.eclipse.jetty.webapp.WebAppContext.startWebapp(WebAppContext.java:1449)\nat com.google.apphosting.runtime.jetty94.AppEngineWebAppContext.startWebapp(AppEngineWebAppContext.java:274)\nat org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1414)\nat org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:916)\nat org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:288)\nat org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:524)\nat com.google.apphosting.runtime.jetty94.AppEngineWebAppContext.doStart(AppEngineWebAppContext.java:218)\nat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\nat com.google.apphosting.runtime.jetty94.AppVersionHandlerFactory.doCreateHandler(AppVersionHandlerFactory.java:207)\nat com.google.apphosting.runtime.jetty94.AppVersionHandlerFactory.createHandler(AppVersionHandlerFactory.java:125)\nat com.google.apphosting.runtime.jetty94.AppVersionHandlerMap.getHandler(AppVersionHandlerMap.java:82)\nat com.google.apphosting.runtime.jetty94.JettyServletEngineAdapter.serviceRequest(JettyServletEngineAdapter.java:176)\nat com.google.apphosting.runtime.RequestRunner.dispatchServletRequest(RequestRunner.java:264)\nat com.google.apphosting.runtime.RequestRunner.dispatchRequest(RequestRunner.java:229)\nat com.google.apphosting.runtime.RequestRunner.run(RequestRunner.java:194)\nat com.google.apphosting.runtime.ThreadGroupPool$PoolEntry.run(ThreadGroupPool.java:273)\nat java.lang.Thread.run(Thread.java:750)\nCaused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure</p>\n<p>The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\nat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\nat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\nat com.mysql.jdbc.Util.handleNewInstance(Util.java:408)\nat com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:1117)\nat com.mysql.jdbc.MysqlIO.(MysqlIO.java:350)\nat com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2416)\nat com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2450)\nat com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2235)\nat com.mysql.jdbc.ConnectionImpl.(ConnectionImpl.java:818)\nat com.mysql.jdbc.JDBC4Connection.(JDBC4Connection.java:46)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\nat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\nat com.mysql.jdbc.Util.handleNewInstance(Util.java:408)\nat com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:404)\nat com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:307)\nat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\nat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)\nat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)\nat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)\nat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)\n... 31 more\nCaused by: java.net.ConnectException: Connection timed out (Connection timed out)\nat java.net.PlainSocketImpl.socketConnect(Native Method)\nat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\nat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\nat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\nat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\nat java.net.Socket.connect(Socket.java:607)\nat sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:293)\nat sun.security.ssl.BaseSSLSocketImpl.connect(BaseSSLSocketImpl.java:173)\nat com.google.cloud.sql.core.CoreSocketFactory.createSslSocket(CoreSocketFactory.java:275)\nat com.google.cloud.sql.core.CoreSocketFactory.connect(CoreSocketFactory.java:229)\nat com.google.cloud.sql.core.CoreSocketFactory.connect(CoreSocketFactory.java:188)\nat com.google.cloud.sql.mysql.SocketFactory.connect(SocketFactory.java:41)\nat com.mysql.jdbc.MysqlIO.(MysqlIO.java:300)</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":10201069,"reputation":5579,"user_id":8625512,"accept_rate":100,"display_name":"Andrei Suvorkov"},"score":0,"creation_date":1530536385,"post_id":51136790,"comment_id":89257600,"body_markdown":"Can you show us your code?","body":"Can you show us your code?"},{"owner":{"account_id":1184027,"reputation":759,"user_id":1158354,"accept_rate":68,"display_name":"Nagarjuna Reddy"},"score":0,"creation_date":1530536654,"post_id":51136790,"comment_id":89257743,"body_markdown":"@AndreiSuvorkov which part you want to see, method trying to check clickable is updated in the question. `isDisplayed` is the default method comes with selenium","body":"@AndreiSuvorkov which part you want to see, method trying to check clickable is updated in the question. <code>isDisplayed</code> is the default method comes with selenium"},{"owner":{"account_id":10201069,"reputation":5579,"user_id":8625512,"accept_rate":100,"display_name":"Andrei Suvorkov"},"score":0,"creation_date":1530536834,"post_id":51136790,"comment_id":89257851,"body_markdown":"Nice, and I would see also how you located the element","body":"Nice, and I would see also how you located the element"},{"owner":{"account_id":1184027,"reputation":759,"user_id":1158354,"accept_rate":68,"display_name":"Nagarjuna Reddy"},"score":0,"creation_date":1530536977,"post_id":51136790,"comment_id":89257930,"body_markdown":"@AndreiSuvorkov `xpath = &quot;//button[@id=&#39;filterButton&#39; and text()[contains(.,&#39;Filter&#39;)]]` this way","body":"@AndreiSuvorkov <code>xpath = &quot;&#47;&#47;button[@id=&#39;filterButton&#39; and text()[contains(.,&#39;Filter&#39;)]]</code> this way"},{"owner":{"account_id":3067097,"reputation":1005,"user_id":2598543,"display_name":"Naeem A. Malik"},"score":0,"creation_date":1530539853,"post_id":51136790,"comment_id":89259764,"body_markdown":"The control definition doesn&#39;t contain anything that would make the button invisible or disabled. Try adding dead wait, like 2000 ms and see if it works.","body":"The control definition doesn&#39;t contain anything that would make the button invisible or disabled. Try adding dead wait, like 2000 ms and see if it works."},{"owner":{"account_id":1184027,"reputation":759,"user_id":1158354,"accept_rate":68,"display_name":"Nagarjuna Reddy"},"score":0,"creation_date":1530600793,"post_id":51136790,"comment_id":89280482,"body_markdown":"@NaeemA.Malik I checked multiple times in debug mode where i waited more time to check the conditions like clickable, enabled, visible, everything returned true. Any other options?","body":"@NaeemA.Malik I checked multiple times in debug mode where i waited more time to check the conditions like clickable, enabled, visible, everything returned true. Any other options?"},{"owner":{"account_id":3208596,"reputation":48991,"user_id":2709090,"display_name":"Thomas Walpole"},"score":0,"creation_date":1530727013,"post_id":51136790,"comment_id":89340349,"body_markdown":"From your pictures even though the text of the button isn&#39;t being shown (it&#39;s not clear how that is being done from the question) the button still has size on the page which means it is visible and clickable.","body":"From your pictures even though the text of the button isn&#39;t being shown (it&#39;s not clear how that is being done from the question) the button still has size on the page which means it is visible and clickable."},{"owner":{"account_id":1184027,"reputation":759,"user_id":1158354,"accept_rate":68,"display_name":"Nagarjuna Reddy"},"score":0,"creation_date":1530728247,"post_id":51136790,"comment_id":89340736,"body_markdown":"@Thomas if you notice the second screen shot, the button is hidden. How is it clickable, even selenium throws the exception when click command is passed.  Is there any other option to check if the button is visible/clickable.","body":"@Thomas if you notice the second screen shot, the button is hidden. How is it clickable, even selenium throws the exception when click command is passed.  Is there any other option to check if the button is visible/clickable."},{"owner":{"account_id":3208596,"reputation":48991,"user_id":2709090,"display_name":"Thomas Walpole"},"score":0,"creation_date":1530728562,"post_id":51136790,"comment_id":89340837,"body_markdown":"@NagarjunaReddy The second screen shot shows the element has dimensions of 62.03 x 21.99 on the page so it&#39;s still taking up space on the page - therefore it is visible and potentially clickable -- how exactly are you &quot;hiding&quot; the button.","body":"@NagarjunaReddy The second screen shot shows the element has dimensions of 62.03 x 21.99 on the page so it&#39;s still taking up space on the page - therefore it is visible and potentially clickable -- how exactly are you &quot;hiding&quot; the button."},{"owner":{"account_id":1184027,"reputation":759,"user_id":1158354,"accept_rate":68,"display_name":"Nagarjuna Reddy"},"score":0,"creation_date":1530728705,"post_id":51136790,"comment_id":89340896,"body_markdown":"@ThomasWalpole There is a Filter button at top of the page which is not shown in the screenshot which hides and unhides the filter options show in the first screenshot. If the element is clickable, the click should happen successfully which is not the case. Only when checking clickable returning true which is actually false","body":"@ThomasWalpole There is a Filter button at top of the page which is not shown in the screenshot which hides and unhides the filter options show in the first screenshot. If the element is clickable, the click should happen successfully which is not the case. Only when checking clickable returning true which is actually false"},{"owner":{"account_id":3208596,"reputation":48991,"user_id":2709090,"display_name":"Thomas Walpole"},"score":0,"creation_date":1530729085,"post_id":51136790,"comment_id":89341044,"body_markdown":"@NagarjunaReddy &quot;is clickable&quot; is actually &quot;is potentially clickable&quot; - it doesn&#39;t actually mean a click will succeed.  For instance if an element is shown on the page but would need to be scrolled to be clicked that would be &quot;potentially clickable&quot; so &quot;is clickable&quot; would return true.  However if when you scrolled there was an overlay element moved to always cover the original element any attempt to click it would actually fail.  When I asked how exactly you are &quot;hiding&quot; the button I meant what is occurring on the page - CSS applied, overlay, etc. not that you click a button to hide it.","body":"@NagarjunaReddy &quot;is clickable&quot; is actually &quot;is potentially clickable&quot; - it doesn&#39;t actually mean a click will succeed.  For instance if an element is shown on the page but would need to be scrolled to be clicked that would be &quot;potentially clickable&quot; so &quot;is clickable&quot; would return true.  However if when you scrolled there was an overlay element moved to always cover the original element any attempt to click it would actually fail.  When I asked how exactly you are &quot;hiding&quot; the button I meant what is occurring on the page - CSS applied, overlay, etc. not that you click a button to hide it."},{"owner":{"account_id":1184027,"reputation":759,"user_id":1158354,"accept_rate":68,"display_name":"Nagarjuna Reddy"},"score":0,"creation_date":1530769667,"post_id":51136790,"comment_id":89350002,"body_markdown":"@ThomasWalpole It&#39;s the combination of javascript and CSS","body":"@ThomasWalpole It&#39;s the combination of javascript and CSS"},{"owner":{"account_id":3208596,"reputation":48991,"user_id":2709090,"display_name":"Thomas Walpole"},"score":0,"creation_date":1530805303,"post_id":51136790,"comment_id":89372193,"body_markdown":"@NagarjunaReddy You&#39;re reticence to provide actual detailed information so we can provide a solution for you is staggering. I&#39;ve explained why you&#39;re getting the result you are but without details it&#39;s impossible to provide you a solution. Good luck.","body":"@NagarjunaReddy You&#39;re reticence to provide actual detailed information so we can provide a solution for you is staggering. I&#39;ve explained why you&#39;re getting the result you are but without details it&#39;s impossible to provide you a solution. Good luck."},{"owner":{"account_id":1184027,"reputation":759,"user_id":1158354,"accept_rate":68,"display_name":"Nagarjuna Reddy"},"score":0,"creation_date":1531124171,"post_id":51136790,"comment_id":89460561,"body_markdown":"@ThomasWalpole I gave all the information I&#39;m aware of. Maybe I&#39;m missing something. Thank you for the help","body":"@ThomasWalpole I gave all the information I&#39;m aware of. Maybe I&#39;m missing something. Thank you for the help"}],"answers":[{"tags":[],"owner":{"account_id":10201069,"reputation":5579,"user_id":8625512,"accept_rate":100,"display_name":"Andrei Suvorkov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530537652,"creation_date":1530537346,"answer_id":51137100,"question_id":51136790,"body_markdown":"Try this:\r\n\r\n    public boolean isClickable(WebElement el) \r\n    {\r\n        try{\r\n            WebDriverWait wait = new WebDriverWait(driver, 6);\r\n            wait.until(ExpectedConditions.elementToBeClickable(el));\r\n            return el.isDisplayed() &amp;&amp; el.isEnabled();\r\n        }\r\n        catch (Exception e){\r\n            return false;\r\n        }\r\n    }\r\n","title":"Selenium returning the hidden element as visible, clickable and enabled when element is hidden &amp; not clickable","body":"<p>Try this:</p>\n\n<pre><code>public boolean isClickable(WebElement el) \n{\n    try{\n        WebDriverWait wait = new WebDriverWait(driver, 6);\n        wait.until(ExpectedConditions.elementToBeClickable(el));\n        return el.isDisplayed() &amp;&amp; el.isEnabled();\n    }\n    catch (Exception e){\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3067097,"reputation":1005,"user_id":2598543,"display_name":"Naeem A. Malik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530621053,"creation_date":1530621053,"answer_id":51154716,"question_id":51136790,"body_markdown":"Please use the &lt;input&gt; element with id=__multiselect_mediatag instead of its child elements. ","title":"Selenium returning the hidden element as visible, clickable and enabled when element is hidden &amp; not clickable","body":"<p>Please use the  element with id=__multiselect_mediatag instead of its child elements. </p>\n"},{"tags":[],"owner":{"account_id":1184027,"reputation":759,"user_id":1158354,"accept_rate":68,"display_name":"Nagarjuna Reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1531135715,"creation_date":1531135715,"answer_id":51244490,"question_id":51136790,"body_markdown":"Though I didn&#39;t get the answer exactly, found some workaround. Checked a parent element class if it&#39;s visible or not using the javascript executor.\r\n\r\nStill not sure why I&#39;m getting visible for an invisible element.\r\n\r\n    JavascriptExecutor js = (JavascriptExecutor)driver;\r\n    String className = (String) js.executeScript(&quot;return document.getElementById(&#39;chat-users&#39;).getAttribute(&#39;class&#39;);&quot;);\r\n\r\n","title":"Selenium returning the hidden element as visible, clickable and enabled when element is hidden &amp; not clickable","body":"<p>Though I didn't get the answer exactly, found some workaround. Checked a parent element class if it's visible or not using the javascript executor.</p>\n\n<p>Still not sure why I'm getting visible for an invisible element.</p>\n\n<pre><code>JavascriptExecutor js = (JavascriptExecutor)driver;\nString className = (String) js.executeScript(\"return document.getElementById('chat-users').getAttribute('class');\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25215899,"reputation":11,"user_id":19053031,"display_name":"Zaleth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673346789,"creation_date":1673346789,"answer_id":75068681,"question_id":51136790,"body_markdown":"I had a similar problem. As part of client-side input validation, we provide a box listing all errors found. Of course, the box contains all possible error messages, and we toggle their display from Javascript. However, after filling one input field (and its related error message getting hidden) a new query would report it as still visible.\r\n```\r\n// always returns the same list as the first time it&#39;s called\r\npublic static List&lt;String&gt; getErrorGroupMsgs(TestState state) {\r\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n    WebDriver driver = state.getDriver();\r\n    WebElement errorBox = driver.findElement(By.id(state.getProperty(&quot;errorBoxGroupId&quot;)));\r\n    for(WebElement div : errorBox.findElements(By.tagName(&quot;div&quot;))) {\r\n        if(div.isDisplayed()) {\r\n            list.add(div.getDomProperty(&quot;innerText&quot;).trim());\r\n        }\r\n    }\r\n    return list;\r\n}\r\n```\r\nAdding delays between sending text to the input field and re-reading the displayed messages did not help, but what finally did help was to interleave another call to **findElements()** with different parameters.\r\n```\r\n// returns an updated view of the world\r\npublic static List&lt;String&gt; getErrorGroupMsgs(TestState state) {\r\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n    WebDriver driver = state.getDriver();\r\n    WebElement errorBox = driver.findElement(By.id(state.getProperty(&quot;errorBoxGroupId&quot;)));\r\n    // this line refreshes the errorBox element so we can get an accurate count below ....\r\n    errorBox.findElements(By.cssSelector(&quot;div[display=&#39;block&#39;]&quot;));\r\n    for(WebElement div : errorBox.findElements(By.tagName(&quot;div&quot;))) {\r\n        if(div.isDisplayed()) {\r\n            list.add(div.getDomProperty(&quot;innerText&quot;).trim());\r\n        }\r\n    }\r\n    return list;\r\n}\r\n```","title":"Selenium returning the hidden element as visible, clickable and enabled when element is hidden &amp; not clickable","body":"<p>I had a similar problem. As part of client-side input validation, we provide a box listing all errors found. Of course, the box contains all possible error messages, and we toggle their display from Javascript. However, after filling one input field (and its related error message getting hidden) a new query would report it as still visible.</p>\n<pre><code>// always returns the same list as the first time it's called\npublic static List&lt;String&gt; getErrorGroupMsgs(TestState state) {\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\n    WebDriver driver = state.getDriver();\n    WebElement errorBox = driver.findElement(By.id(state.getProperty(&quot;errorBoxGroupId&quot;)));\n    for(WebElement div : errorBox.findElements(By.tagName(&quot;div&quot;))) {\n        if(div.isDisplayed()) {\n            list.add(div.getDomProperty(&quot;innerText&quot;).trim());\n        }\n    }\n    return list;\n}\n</code></pre>\n<p>Adding delays between sending text to the input field and re-reading the displayed messages did not help, but what finally did help was to interleave another call to <strong>findElements()</strong> with different parameters.</p>\n<pre><code>// returns an updated view of the world\npublic static List&lt;String&gt; getErrorGroupMsgs(TestState state) {\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\n    WebDriver driver = state.getDriver();\n    WebElement errorBox = driver.findElement(By.id(state.getProperty(&quot;errorBoxGroupId&quot;)));\n    // this line refreshes the errorBox element so we can get an accurate count below ....\n    errorBox.findElements(By.cssSelector(&quot;div[display='block']&quot;));\n    for(WebElement div : errorBox.findElements(By.tagName(&quot;div&quot;))) {\n        if(div.isDisplayed()) {\n            list.add(div.getDomProperty(&quot;innerText&quot;).trim());\n        }\n    }\n    return list;\n}\n</code></pre>\n"}],"owner":{"account_id":1184027,"reputation":759,"user_id":1158354,"accept_rate":68,"display_name":"Nagarjuna Reddy"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":560,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":51244490,"answer_count":4,"score":0,"last_activity_date":1673346789,"creation_date":1530536204,"question_id":51136790,"body_markdown":"I want to open the filters only if they are not already open. For that, I&#39;m checking if &quot;Apply Filter&quot; button is visible/clickable.\r\n\r\nTo my surprise, I&#39;m getting the element as visible/clickable even though it is not.\r\n\r\nButton code mentioned below,\r\n\r\n    &lt;div class=&quot;m-t-20 text-left filter-btn-holder &quot;&gt;\r\n       &lt;input type=&quot;hidden&quot; id=&quot;filterType&quot; value=&quot;&quot;&gt;\r\n       &lt;button type=&quot;button&quot; class=&quot;submit btn btn-primary btn-mini filter-focus&quot; id=&quot;filterButton&quot; onclick=&quot;javascript:getFilteredMedia(true);&quot; &quot;=&quot;&quot;&gt;Filter&lt;/button&gt;\r\n       &lt;button type=&quot;button&quot; class=&quot;submit btn btn-danger btn-mini&quot; id=&quot;filterButton&quot; onclick=&quot;clearFilter();&quot;&gt;Reset&lt;/button&gt;\r\n       &lt;button type=&quot;button&quot; class=&quot;submit btn btn-mini&quot; data-webarch=&quot;toggle-right-side&quot; id=&quot;closeButton&quot;&gt;&lt;i class=&quot;fa fa-times&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;&lt;/button&gt;\r\n    &lt;/div&gt;\r\n\r\n[![Screenshot when the button is visible][1]][1]\r\n\r\n[![Screenshot when the button is not visible][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ouH5G.png\r\n  [2]: https://i.stack.imgur.com/MGANn.png\r\n\r\nMethod trying to check if element is clickable\r\n\r\n    public boolean isClickable(WebElement el) \r\n    \t{\r\n    \t\ttry{\r\n    \t\t\tWebDriverWait wait = new WebDriverWait(driver, 6);\r\n    \t\t\twait.until(ExpectedConditions.elementToBeClickable(el));\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\tcatch (Exception e){\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t}\r\n\r\nXPath of the button: `xpath = &quot;//button[@id=&#39;filterButton&#39; and text()[contains(.,&#39;Filter&#39;)]]`","title":"Selenium returning the hidden element as visible, clickable and enabled when element is hidden &amp; not clickable","body":"<p>I want to open the filters only if they are not already open. For that, I'm checking if \"Apply Filter\" button is visible/clickable.</p>\n\n<p>To my surprise, I'm getting the element as visible/clickable even though it is not.</p>\n\n<p>Button code mentioned below,</p>\n\n<pre><code>&lt;div class=\"m-t-20 text-left filter-btn-holder \"&gt;\n   &lt;input type=\"hidden\" id=\"filterType\" value=\"\"&gt;\n   &lt;button type=\"button\" class=\"submit btn btn-primary btn-mini filter-focus\" id=\"filterButton\" onclick=\"javascript:getFilteredMedia(true);\" \"=\"\"&gt;Filter&lt;/button&gt;\n   &lt;button type=\"button\" class=\"submit btn btn-danger btn-mini\" id=\"filterButton\" onclick=\"clearFilter();\"&gt;Reset&lt;/button&gt;\n   &lt;button type=\"button\" class=\"submit btn btn-mini\" data-webarch=\"toggle-right-side\" id=\"closeButton\"&gt;&lt;i class=\"fa fa-times\" aria-hidden=\"true\"&gt;&lt;/i&gt;&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/ouH5G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ouH5G.png\" alt=\"Screenshot when the button is visible\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/MGANn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MGANn.png\" alt=\"Screenshot when the button is not visible\"></a></p>\n\n<p>Method trying to check if element is clickable</p>\n\n<pre><code>public boolean isClickable(WebElement el) \n    {\n        try{\n            WebDriverWait wait = new WebDriverWait(driver, 6);\n            wait.until(ExpectedConditions.elementToBeClickable(el));\n            return true;\n        }\n        catch (Exception e){\n            return false;\n        }\n    }\n</code></pre>\n\n<p>XPath of the button: <code>xpath = \"//button[@id='filterButton' and text()[contains(.,'Filter')]]</code></p>\n"},{"tags":["java","git","gradle","google-cloud-platform","google-cloud-functions"],"comments":[{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1643213388,"post_id":70866450,"comment_id":125280933,"body_markdown":"You might have edited a shell script on Windows; this is coming from a shebang with the wrong line-ending. Try running `npm install` and watch it fail.","body":"You might have edited a shell script on Windows; this is coming from a shebang with the wrong line-ending. Try running <code>npm install</code> and watch it fail."},{"owner":{"account_id":9704622,"reputation":11,"user_id":7198429,"display_name":"Joy Saha"},"score":0,"creation_date":1643251742,"post_id":70866450,"comment_id":125292444,"body_markdown":"@MartinZeitler Do you have any idea how that might have happened or how it can be fixed? It just worked couple of days ago, and now it just doesn&#39;t.","body":"@MartinZeitler Do you have any idea how that might have happened or how it can be fixed? It just worked couple of days ago, and now it just doesn&#39;t."},{"owner":{"account_id":9704622,"reputation":11,"user_id":7198429,"display_name":"Joy Saha"},"score":0,"creation_date":1643252628,"post_id":70866450,"comment_id":125292624,"body_markdown":"@MartinZeitler I am not facing the same problem for another project.","body":"@MartinZeitler I am not facing the same problem for another project."}],"answers":[{"tags":[],"owner":{"account_id":12153575,"reputation":1,"user_id":8873085,"display_name":"Johannes Manner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673346079,"creation_date":1673346079,"answer_id":75068542,"question_id":70866450,"body_markdown":"Had the same issue. \r\nSeems to be a line-ending issue as already said.\r\n\r\nUse **dos2unix** for the whole source code repo and it worked for me.\r\n\r\n```find . -type f -print0 | xargs -0 dos2unix```\r\n\r\nCommand is copied from [here](https://stackoverflow.com/questions/11929461/how-can-i-run-dos2unix-on-an-entire-directory).","title":"Google cloud function deploy throwing /usr/bin/env: &#39;sh\\r&#39;: No such file or directory; Error ID: 42fc8383","body":"<p>Had the same issue.\nSeems to be a line-ending issue as already said.</p>\n<p>Use <strong>dos2unix</strong> for the whole source code repo and it worked for me.</p>\n<p><code>find . -type f -print0 | xargs -0 dos2unix</code></p>\n<p>Command is copied from <a href=\"https://stackoverflow.com/questions/11929461/how-can-i-run-dos2unix-on-an-entire-directory\">here</a>.</p>\n"}],"owner":{"account_id":9704622,"reputation":11,"user_id":7198429,"display_name":"Joy Saha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673346079,"creation_date":1643212908,"question_id":70866450,"body_markdown":"A google cloud functions project in java, which has worked perfectly before is suddenly all of a sudden throwing the following error\r\n\r\n    (gcloud.functions.deploy) OperationError: code=3, message=Build failed: /usr/bin/env: &#39;sh\\r&#39;: No such file or directory; Error ID: 42fc8383\r\n\r\nThis is my deploy command \r\n\r\n    gcloud functions deploy pdf-function --entry-point de.uniba.dsg.cloudfunction.Function --runtime java11 --region europe-west3 --trigger-http --allow-unauthenticated --env-vars-file .env.yaml\r\n\r\nThere is no such environment variable named sh\\r in the .env.yaml file, nor have I used it anywhere. Also this has ran without any problems previously.\r\n\r\nEDIT: This is most likely also a git issue, but I still haven&#39;t been able to solve it. I use a windows OS. I have changed between branches in the git and since then the problem started, even though the code is unchanged. I am using gradle as the build tool.","title":"Google cloud function deploy throwing /usr/bin/env: &#39;sh\\r&#39;: No such file or directory; Error ID: 42fc8383","body":"<p>A google cloud functions project in java, which has worked perfectly before is suddenly all of a sudden throwing the following error</p>\n<pre><code>(gcloud.functions.deploy) OperationError: code=3, message=Build failed: /usr/bin/env: 'sh\\r': No such file or directory; Error ID: 42fc8383\n</code></pre>\n<p>This is my deploy command</p>\n<pre><code>gcloud functions deploy pdf-function --entry-point de.uniba.dsg.cloudfunction.Function --runtime java11 --region europe-west3 --trigger-http --allow-unauthenticated --env-vars-file .env.yaml\n</code></pre>\n<p>There is no such environment variable named sh\\r in the .env.yaml file, nor have I used it anywhere. Also this has ran without any problems previously.</p>\n<p>EDIT: This is most likely also a git issue, but I still haven't been able to solve it. I use a windows OS. I have changed between branches in the git and since then the problem started, even though the code is unchanged. I am using gradle as the build tool.</p>\n"},{"tags":["java","pdf","openhtmltopdf"],"owner":{"account_id":25230704,"reputation":19,"user_id":19065902,"display_name":"Ganesh Mandapati"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673345620,"creation_date":1673345620,"question_id":75068454,"body_markdown":"I have a Hashmap as a source of data and I&#39;m generating a separate pdf for each key. But when the hashmap length is greater than 2 I&#39;m getting only the 2nd pdf. 2nd one overrides the 1st pdf.(I&#39;m storing HTML in the body key as you can see in the code). I don&#39;t want to create separate HTML files and store them in sever.Is there any way where I can store the HTML and generate separate pdf for all keys in hashmap\r\n\r\n        public byte[] BulkPdf(Map jsonObject) throws ApplicationException, IOException {\r\n            LinkedHashMap&lt;String, List&lt;Map&lt;String, Object&gt;&gt;&gt; hashMapDept = new LinkedHashMap&lt;&gt;();\r\n             byte[] reportByte = null;\r\n          \r\n            if (!hashMapDept.isEmpty()) {\r\n                Integer count = 0;\r\n                for (Entry&lt;String, List&lt;Map&lt;String, Object&gt;&gt;&gt; entry : hashMapDept.\r\n                        entrySet()) {\r\n                   \r\n                   String body = &quot;&quot;;\r\n                   Writer out = new StringWriter();\r\n                  Configuration cfg = new Configuration();\r\n                    try {\r\n                       \r\n           cfg.setObjectWrapper(new DefaultObjectWrapper());\r\n             String templateStr = UUID.randomUUID().\r\n                        toString().\r\n                        replaceAll(&quot;-&quot;,\r\n                                &quot;&quot;);\r\n                logger.debug(&quot;templatename --&gt; &quot;,\r\n                        templateStr);\r\n                freemarker.template.Template freemarkerTemplate = new freemarker.template.Template(\r\n                        templateStr,\r\n                        new StringReader(html),\r\n                        cfg);\r\n    \r\n                    freemarkerTemplate.process(jsonObject,\r\n                        out);\r\n                body = out.toString();\r\n                    } catch (TemplateException | IOException | ApplicationException e) {\r\n                       logger.debug(&quot;template pdf exception --&gt; &quot;,\r\n                        e.getMessage());\r\n                        out.flush();\r\n                        e.printStackTrace();\r\n                        cfg.clearTemplateCache();\r\n                    } finally {\r\n                        out.flush();\r\n                        cfg.clearTemplateCache();\r\n                    }\r\n    \r\n    try (ByteArrayOutputStream outputStream = new ByteArrayOutputStream()) {\r\n                PdfRendererBuilder builder = new PdfRendererBuilder();\r\n                builder.withHtmlContent(body,\r\n                        &quot;pathforpdf&quot;);\r\n                builder.useFastMode();\r\n                builder.toStream(outputStream);\r\n                builder.run();\r\n                reportByte = outputStream.toByteArray();\r\n                outputStream.close();\r\n                \r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n                  \r\n                }\r\n            }\r\n    \r\n            return reportByte;\r\n        }","title":"How to convert multiple html string to multiple pdf using openhtmltopdf library","body":"<p>I have a Hashmap as a source of data and I'm generating a separate pdf for each key. But when the hashmap length is greater than 2 I'm getting only the 2nd pdf. 2nd one overrides the 1st pdf.(I'm storing HTML in the body key as you can see in the code). I don't want to create separate HTML files and store them in sever.Is there any way where I can store the HTML and generate separate pdf for all keys in hashmap</p>\n<pre><code>    public byte[] BulkPdf(Map jsonObject) throws ApplicationException, IOException {\n        LinkedHashMap&lt;String, List&lt;Map&lt;String, Object&gt;&gt;&gt; hashMapDept = new LinkedHashMap&lt;&gt;();\n         byte[] reportByte = null;\n      \n        if (!hashMapDept.isEmpty()) {\n            Integer count = 0;\n            for (Entry&lt;String, List&lt;Map&lt;String, Object&gt;&gt;&gt; entry : hashMapDept.\n                    entrySet()) {\n               \n               String body = &quot;&quot;;\n               Writer out = new StringWriter();\n              Configuration cfg = new Configuration();\n                try {\n                   \n       cfg.setObjectWrapper(new DefaultObjectWrapper());\n         String templateStr = UUID.randomUUID().\n                    toString().\n                    replaceAll(&quot;-&quot;,\n                            &quot;&quot;);\n            logger.debug(&quot;templatename --&gt; &quot;,\n                    templateStr);\n            freemarker.template.Template freemarkerTemplate = new freemarker.template.Template(\n                    templateStr,\n                    new StringReader(html),\n                    cfg);\n\n                freemarkerTemplate.process(jsonObject,\n                    out);\n            body = out.toString();\n                } catch (TemplateException | IOException | ApplicationException e) {\n                   logger.debug(&quot;template pdf exception --&gt; &quot;,\n                    e.getMessage());\n                    out.flush();\n                    e.printStackTrace();\n                    cfg.clearTemplateCache();\n                } finally {\n                    out.flush();\n                    cfg.clearTemplateCache();\n                }\n\ntry (ByteArrayOutputStream outputStream = new ByteArrayOutputStream()) {\n            PdfRendererBuilder builder = new PdfRendererBuilder();\n            builder.withHtmlContent(body,\n                    &quot;pathforpdf&quot;);\n            builder.useFastMode();\n            builder.toStream(outputStream);\n            builder.run();\n            reportByte = outputStream.toByteArray();\n            outputStream.close();\n            \n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n              \n            }\n        }\n\n        return reportByte;\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1669038726,"post_id":74486009,"comment_id":131545423,"body_markdown":"There is something strange going on; with that configuration there should only be one producer created, shared by all. You should not be getting multiple produers.","body":"There is something strange going on; with that configuration there should only be one producer created, shared by all. You should not be getting multiple produers."}],"owner":{"account_id":4367621,"reputation":11,"user_id":3562827,"display_name":"lucas_08"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":796,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673345422,"creation_date":1668755145,"question_id":74486009,"body_markdown":"I&#39;m trying to Download Emails from Graph API and Once Mails are downloaded I&#39;m Using Kafka Producer to send a Notification To Consumer read those Mails.\r\n\r\nCurrently I&#39;m using Spring-Kafka Version 2.8.0 and Kafka Version 3.3.1\r\n\r\nBut after some time Kafka Producer has Created too Many **kafka-producer-network-thread** due to which there is no Buffer Space to create new Connections.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/FhauO.png)](https://i.stack.imgur.com/FhauO.png)\r\n\r\n```\r\nCaused by: java.net.SocketException: No buffer space available (maximum connections reached?): connect\r\n        at java.net.DualStackPlainSocketImpl.connect0(Native Method)\r\n        at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79)\r\n        at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:476)\r\n        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:218)\r\n        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:200)\r\n        at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:162)\r\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:394)\r\n        at java.net.Socket.connect(Socket.java:606)\r\n        at sun.net.NetworkClient.doConnect(NetworkClient.java:175)\r\n        at sun.net.www.http.HttpClient.openServer(HttpClient.java:463)\r\n        at sun.net.www.http.HttpClient.openServer(HttpClient.java:558)\r\n        at sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:242)\r\n        at sun.net.www.http.HttpClient.New(HttpClient.java:339)\r\n        at sun.net.www.http.HttpClient.New(HttpClient.java:357)\r\n        at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1226)\r\n        at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1162)\r\n        at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1056)\r\n        at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:990)\r\n        at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76)\r\n        at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\r\n        at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)\r\n        at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:775)\r\n```\r\n\r\nI&#39;ve tried Different Properties in order to Reduce the batch Size, Increasing the Buffer Space and other Different Configurations based on one the Ref that I found in StackOverflow(https://jaceklaskowski.gitbooks.io/apache-kafka/content/kafka-producer-internals-Sender.html) But none of them Worked as of now\r\n\r\nThis is my Producer\r\n\r\n```\r\npublic void send(String topic, String key, KafkaMessageEmailPolling kafkaMessageEmailPolling) {\r\n    \ttry {\r\n    \t\tkafkaTemplate = kafkaTemplate();\r\n            kafkaTemplate.send(topic, key, kafkaMessageEmailPolling);\r\n           \r\n    \t}catch (Exception e) {\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    }\r\n    \r\n    public ProducerFactory&lt;String, Object&gt; producerFactory() {\r\n        return new DefaultKafkaProducerFactory&lt;String, Object&gt;(producerConfigs());\r\n    }\r\n\r\n    public Map&lt;String, Object&gt; producerConfigs() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\r\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, CustomSerializerEmailPolling.class);\r\n      //Added Changes\r\n        props.put(ProducerConfig.ACKS_CONFIG, &quot;1&quot;);\r\n        props.put(ProducerConfig.BATCH_SIZE_CONFIG, 10); //16384\r\n        props.put(ProducerConfig.RETRIES_CONFIG, 3);\r\n        props.put(ProducerConfig.LINGER_MS_CONFIG, 5);\r\n        props.put(ProducerConfig.ACKS_CONFIG, &quot;all&quot;);\r\n        props.put(ProducerConfig.BUFFER_MEMORY_CONFIG, 33554432);\r\n        props.put(ProducerConfig.MAX_REQUEST_SIZE_CONFIG, 1024);\r\n\r\n        return props;\r\n    }\r\n\r\n    public KafkaTemplate&lt;String, Object&gt; kafkaTemplate() {\r\n        return new KafkaTemplate&lt;String, Object&gt;(producerFactory());\r\n    }\r\n```\r\n\r\nAnd This is my Consumer\r\n\r\n```\r\n\t@Autowired\r\n\tprivate WorkItemService workItemService;\r\n\t\r\n\tpublic static Consumer&lt;?, ?&gt; createConsumer(String topic) {\r\n        Properties properties = new Properties();\r\n        properties.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\r\n        properties.put(ConsumerConfig.GROUP_ID_CONFIG, topic);\r\n        properties.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\r\n        properties.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, CustomDeserializerEmailPolling.class.getName());\r\n        return new KafkaConsumer&lt;&gt;(properties);\r\n    }\r\n\t\r\n\tpublic void consumeMessage(String topic) {\r\n        Consumer&lt;?, ?&gt; consumer = createConsumer(topic);\r\n        List&lt;ConsumerRecord&lt;?, ?&gt;&gt; buffer = new ArrayList&lt;&gt;();\r\n        while (true) {\r\n            //subscribe topic and consume message\r\n            consumer.subscribe(Collections.singletonList(topic));\r\n\r\n            ConsumerRecords&lt;?, ?&gt; consumerRecords =\r\n                    consumer.poll(Duration.ofMillis(600000));\r\n            for (ConsumerRecord&lt;?, ?&gt; record : consumerRecords) {\r\n            \tOptional&lt;?&gt; value = Optional.ofNullable(record.value());\r\n            \tbuffer.add(record);\r\n                log.info(&quot;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;--------Consumer is Listening--------------&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\r\n                if (value.isPresent()) {\r\n\r\n                \tKafkaMessageEmailPolling message = (KafkaMessageEmailPolling)value.get();\r\n                \tlog.info(&quot;----&gt;&quot;+message.getId()+&quot;----&gt;&quot;+message.getSendTime()+&quot;----&gt;&quot;+message.getEmailWorkItemConfig());\r\n                \tlog.info(&quot;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;-----------------&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\r\n                \tworkItemService.createWorkItem(message);\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nPlease help me know what I&#39;m missing out and what are the Suggested changes here because as soon as I start Sending Notification about Downloaded Emails with Kafka My Application will stop working within an Hour or Two as total Thread Count Reaches to around 16K","title":"Kafka is Creating too Many kafka-producer-network-thread due to which there is no Buffer Space to create new Connections","body":"<p>I'm trying to Download Emails from Graph API and Once Mails are downloaded I'm Using Kafka Producer to send a Notification To Consumer read those Mails.</p>\n<p>Currently I'm using Spring-Kafka Version 2.8.0 and Kafka Version 3.3.1</p>\n<p>But after some time Kafka Producer has Created too Many <strong>kafka-producer-network-thread</strong> due to which there is no Buffer Space to create new Connections.</p>\n<p><a href=\"https://i.stack.imgur.com/FhauO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FhauO.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>Caused by: java.net.SocketException: No buffer space available (maximum connections reached?): connect\n        at java.net.DualStackPlainSocketImpl.connect0(Native Method)\n        at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79)\n        at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:476)\n        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:218)\n        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:200)\n        at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:162)\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:394)\n        at java.net.Socket.connect(Socket.java:606)\n        at sun.net.NetworkClient.doConnect(NetworkClient.java:175)\n        at sun.net.www.http.HttpClient.openServer(HttpClient.java:463)\n        at sun.net.www.http.HttpClient.openServer(HttpClient.java:558)\n        at sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:242)\n        at sun.net.www.http.HttpClient.New(HttpClient.java:339)\n        at sun.net.www.http.HttpClient.New(HttpClient.java:357)\n        at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1226)\n        at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1162)\n        at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1056)\n        at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:990)\n        at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76)\n        at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\n        at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)\n        at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:775)\n</code></pre>\n<p>I've tried Different Properties in order to Reduce the batch Size, Increasing the Buffer Space and other Different Configurations based on one the Ref that I found in StackOverflow(<a href=\"https://jaceklaskowski.gitbooks.io/apache-kafka/content/kafka-producer-internals-Sender.html\" rel=\"nofollow noreferrer\">https://jaceklaskowski.gitbooks.io/apache-kafka/content/kafka-producer-internals-Sender.html</a>) But none of them Worked as of now</p>\n<p>This is my Producer</p>\n<pre><code>public void send(String topic, String key, KafkaMessageEmailPolling kafkaMessageEmailPolling) {\n        try {\n            kafkaTemplate = kafkaTemplate();\n            kafkaTemplate.send(topic, key, kafkaMessageEmailPolling);\n           \n        }catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n    \n    public ProducerFactory&lt;String, Object&gt; producerFactory() {\n        return new DefaultKafkaProducerFactory&lt;String, Object&gt;(producerConfigs());\n    }\n\n    public Map&lt;String, Object&gt; producerConfigs() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, CustomSerializerEmailPolling.class);\n      //Added Changes\n        props.put(ProducerConfig.ACKS_CONFIG, &quot;1&quot;);\n        props.put(ProducerConfig.BATCH_SIZE_CONFIG, 10); //16384\n        props.put(ProducerConfig.RETRIES_CONFIG, 3);\n        props.put(ProducerConfig.LINGER_MS_CONFIG, 5);\n        props.put(ProducerConfig.ACKS_CONFIG, &quot;all&quot;);\n        props.put(ProducerConfig.BUFFER_MEMORY_CONFIG, 33554432);\n        props.put(ProducerConfig.MAX_REQUEST_SIZE_CONFIG, 1024);\n\n        return props;\n    }\n\n    public KafkaTemplate&lt;String, Object&gt; kafkaTemplate() {\n        return new KafkaTemplate&lt;String, Object&gt;(producerFactory());\n    }\n</code></pre>\n<p>And This is my Consumer</p>\n<pre><code>    @Autowired\n    private WorkItemService workItemService;\n    \n    public static Consumer&lt;?, ?&gt; createConsumer(String topic) {\n        Properties properties = new Properties();\n        properties.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\n        properties.put(ConsumerConfig.GROUP_ID_CONFIG, topic);\n        properties.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\n        properties.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, CustomDeserializerEmailPolling.class.getName());\n        return new KafkaConsumer&lt;&gt;(properties);\n    }\n    \n    public void consumeMessage(String topic) {\n        Consumer&lt;?, ?&gt; consumer = createConsumer(topic);\n        List&lt;ConsumerRecord&lt;?, ?&gt;&gt; buffer = new ArrayList&lt;&gt;();\n        while (true) {\n            //subscribe topic and consume message\n            consumer.subscribe(Collections.singletonList(topic));\n\n            ConsumerRecords&lt;?, ?&gt; consumerRecords =\n                    consumer.poll(Duration.ofMillis(600000));\n            for (ConsumerRecord&lt;?, ?&gt; record : consumerRecords) {\n                Optional&lt;?&gt; value = Optional.ofNullable(record.value());\n                buffer.add(record);\n                log.info(&quot;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;--------Consumer is Listening--------------&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\n                if (value.isPresent()) {\n\n                    KafkaMessageEmailPolling message = (KafkaMessageEmailPolling)value.get();\n                    log.info(&quot;----&gt;&quot;+message.getId()+&quot;----&gt;&quot;+message.getSendTime()+&quot;----&gt;&quot;+message.getEmailWorkItemConfig());\n                    log.info(&quot;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;-----------------&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\n                    workItemService.createWorkItem(message);\n                }\n            }\n        }\n    }\n</code></pre>\n<p>Please help me know what I'm missing out and what are the Suggested changes here because as soon as I start Sending Notification about Downloaded Emails with Kafka My Application will stop working within an Hour or Two as total Thread Count Reaches to around 16K</p>\n"},{"tags":["java","spring-boot","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":22247129,"reputation":2052,"user_id":16480631,"display_name":"Pasi &#214;sterman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673345083,"creation_date":1673344579,"answer_id":75068229,"question_id":75067818,"body_markdown":"The `com.fasterxml.jackson.databind.JsonMappingException: Illegal unquoted character ((CTRL-CHAR, code 0)):` means that the JSON-response has illegal character. When this happens you should write the failed JSON response to a file and view it in VSCode or some other editor that supports syntax-highlighting for JSON. \r\n\r\n```java\r\nfrom(&quot;direct:fetchData&quot;)\r\n    .onException(JsonMappingException.class)\r\n        .log(LoggingLevel.ERROR, &quot;Json mapping failed. ${exception.message}&quot;)\r\n        .to(&quot;file:{{fetchdata.mapping.failed}}&quot;)\r\n    .end()\r\n    // ...\r\n;\r\n```\r\n\r\nOnce had this happen with client when users had copy pasted data directly from pdf files which had control characters like STX (Start of text).\r\n\r\nThis is best fixed in the source to avoid having to clean this in every application using the REST-API, but you can also remove specific control characters from message body using replaceAll and regex. \r\n\r\n```java\r\n// Removes stx control character from message body\r\nString body = exchange.getMessage().getBody(String.class);\r\nexchange.getMessage().setBody(body.replaceAll(&quot;[\\\\x02]&quot;, &quot;&quot;));\r\n```\r\n\r\nThe `.toD(&quot;header.dataSetAccessUrl&quot;)` has nothing to do with this but you might want to validate that header at the start of the route. Like throwing exception when the header is null. ","title":"Getting incomplete json as result of toD(url) for few cases","body":"<p>The <code>com.fasterxml.jackson.databind.JsonMappingException: Illegal unquoted character ((CTRL-CHAR, code 0)):</code> means that the JSON-response has illegal character. When this happens you should write the failed JSON response to a file and view it in VSCode or some other editor that supports syntax-highlighting for JSON.</p>\n<pre class=\"lang-java prettyprint-override\"><code>from(&quot;direct:fetchData&quot;)\n    .onException(JsonMappingException.class)\n        .log(LoggingLevel.ERROR, &quot;Json mapping failed. ${exception.message}&quot;)\n        .to(&quot;file:{{fetchdata.mapping.failed}}&quot;)\n    .end()\n    // ...\n;\n</code></pre>\n<p>Once had this happen with client when users had copy pasted data directly from pdf files which had control characters like STX (Start of text).</p>\n<p>This is best fixed in the source to avoid having to clean this in every application using the REST-API, but you can also remove specific control characters from message body using replaceAll and regex.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Removes stx control character from message body\nString body = exchange.getMessage().getBody(String.class);\nexchange.getMessage().setBody(body.replaceAll(&quot;[\\\\x02]&quot;, &quot;&quot;));\n</code></pre>\n<p>The <code>.toD(&quot;header.dataSetAccessUrl&quot;)</code> has nothing to do with this but you might want to validate that header at the start of the route. Like throwing exception when the header is null.</p>\n"}],"owner":{"account_id":15567334,"reputation":65,"user_id":11230693,"display_name":"Trups"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673345083,"creation_date":1673342443,"question_id":75067818,"body_markdown":"I am using apache camel and fetching data from data lake which is owned by another system.\r\nWhile in most of the cases this flow works absolutely fine but for very few events i have observed that incomplete data is received by my application\r\nand flow breaks saying \r\ncom.fasterxml.jackson.databind.JsonMappingException: Illegal unquoted character ((CTRL-CHAR, code 0)): has to be escaped using backslash to be included in string value\r\n\r\nI have check with the team who source the data - but they had already confirmed that no changes has happened at there end, which left me clueless how can i troubleshoot this issue further\r\n\r\nif i use curl command and download the data from data lake i get the complete json\r\nis there any other way in apache camel which i can try to download the data from the dataSetAccessUrl ? \r\nquick help will be appreciated as this is a prod issue\r\n\r\nusing : \r\ncamel-spring-boot-bom &gt; 3.9.0\r\ncamel-spring-boot-dependencies &gt; 3.9.0\r\n\r\n\t\tfrom(&quot;direct:fetchData&quot;)\r\n\t\t.log(LoggingLevel.INFO, LOGGER, &quot;Invoking API &quot;)\r\n\t\t.toD(&quot;${header.dataSetAccessUrl}&quot;) // accessing CCO  data sets\r\n\t\t.log(LoggingLevel.INFO, LOGGER, &quot;response code is: ${header.CamelHttpResponseCode}, JSON Response ${body}&quot;)\r\n\t\t.log(LoggingLevel.DEBUG, LOGGER, &quot;JSON Response ${body}&quot;).end();\r\n\r\n\r\n","title":"Getting incomplete json as result of toD(url) for few cases","body":"<p>I am using apache camel and fetching data from data lake which is owned by another system.\nWhile in most of the cases this flow works absolutely fine but for very few events i have observed that incomplete data is received by my application\nand flow breaks saying\ncom.fasterxml.jackson.databind.JsonMappingException: Illegal unquoted character ((CTRL-CHAR, code 0)): has to be escaped using backslash to be included in string value</p>\n<p>I have check with the team who source the data - but they had already confirmed that no changes has happened at there end, which left me clueless how can i troubleshoot this issue further</p>\n<p>if i use curl command and download the data from data lake i get the complete json\nis there any other way in apache camel which i can try to download the data from the dataSetAccessUrl ?\nquick help will be appreciated as this is a prod issue</p>\n<p>using :\ncamel-spring-boot-bom &gt; 3.9.0\ncamel-spring-boot-dependencies &gt; 3.9.0</p>\n<pre><code>    from(&quot;direct:fetchData&quot;)\n    .log(LoggingLevel.INFO, LOGGER, &quot;Invoking API &quot;)\n    .toD(&quot;${header.dataSetAccessUrl}&quot;) // accessing CCO  data sets\n    .log(LoggingLevel.INFO, LOGGER, &quot;response code is: ${header.CamelHttpResponseCode}, JSON Response ${body}&quot;)\n    .log(LoggingLevel.DEBUG, LOGGER, &quot;JSON Response ${body}&quot;).end();\n</code></pre>\n"},{"tags":["java","gradle","build.gradle"],"comments":[{"owner":{"account_id":1129600,"reputation":1292,"user_id":1115989,"accept_rate":67,"display_name":"user2234"},"score":0,"creation_date":1691362711,"post_id":75067038,"comment_id":135477471,"body_markdown":"I am facing the same, how did you solve it?","body":"I am facing the same, how did you solve it?"},{"owner":{"account_id":6299962,"reputation":580,"user_id":4894924,"accept_rate":43,"display_name":"Pracheer Pancholi"},"score":0,"creation_date":1693373060,"post_id":75067038,"comment_id":135750271,"body_markdown":"you need to set the proxy settings for that.","body":"you need to set the proxy settings for that."}],"owner":{"account_id":6299962,"reputation":580,"user_id":4894924,"accept_rate":43,"display_name":"Pracheer Pancholi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1347,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1673344815,"creation_date":1673337753,"question_id":75067038,"body_markdown":"I am trying to run gradle build for my project with gradle version 6.9 and zulu 11 but it fails with below error :\r\n\r\n      A problem occurred configuring root project &#39;Auth-mapper&#39;.\r\n       &gt; Could not resolve all artifacts for configuration &#39;:classpath&#39;.\r\n       &gt; Could not download commons-codec-1.11.jar (commons-codec:commons-codec:1.11)\r\n      &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/commons-codec/commons-codec/1.11/commons-codec-1.11.jar&#39;.\r\n         &gt; Could not HEAD &#39;https://repo.maven.apache.org/maven2/commons-codec/commons-codec/1.11/commons-codec-1.11.jar&#39;.\r\n            &gt; The server may not support the client&#39;s requested TLS protocol versions: (TLSv1.2, TLSv1.3). You may need to configure the client to allow other protocols to be used. See: https://docs.gradle.org/6.9/userguide/build_environment.html#gradle_system_properties\r\n               &gt; PKIX path building failed: \r\n    sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification \r\n    path to requested target\r\n\r\nI have imported the certificate for https://repo.maven.apache.org/maven2 in cacerts of zulu-11 folder but still this issue is coming up.Also I am setting below properties in gradle.properties :\r\n\r\n    systemProp.javax.net.ssl.trustStore=cacerts\r\n    systemProp.javax.net.ssl.trustStorePassword=changeit\r\n\r\ncacerts I copied to root folder of the project where build.gradle file is.\r\n\r\n","title":"gradle build failed due to the server may not support the client&#39;s requested TLS protocol versions: (TLSv1.2, TLSv1.3) PKIX path building failed","body":"<p>I am trying to run gradle build for my project with gradle version 6.9 and zulu 11 but it fails with below error :</p>\n<pre><code>  A problem occurred configuring root project 'Auth-mapper'.\n   &gt; Could not resolve all artifacts for configuration ':classpath'.\n   &gt; Could not download commons-codec-1.11.jar (commons-codec:commons-codec:1.11)\n  &gt; Could not get resource 'https://repo.maven.apache.org/maven2/commons-codec/commons-codec/1.11/commons-codec-1.11.jar'.\n     &gt; Could not HEAD 'https://repo.maven.apache.org/maven2/commons-codec/commons-codec/1.11/commons-codec-1.11.jar'.\n        &gt; The server may not support the client's requested TLS protocol versions: (TLSv1.2, TLSv1.3). You may need to configure the client to allow other protocols to be used. See: https://docs.gradle.org/6.9/userguide/build_environment.html#gradle_system_properties\n           &gt; PKIX path building failed: \nsun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification \npath to requested target\n</code></pre>\n<p>I have imported the certificate for <a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a> in cacerts of zulu-11 folder but still this issue is coming up.Also I am setting below properties in gradle.properties :</p>\n<pre><code>systemProp.javax.net.ssl.trustStore=cacerts\nsystemProp.javax.net.ssl.trustStorePassword=changeit\n</code></pre>\n<p>cacerts I copied to root folder of the project where build.gradle file is.</p>\n"},{"tags":["java","spring","spring-boot","exception","dependencies"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673345276,"post_id":75068044,"comment_id":132472553,"body_markdown":"Have you read the stack trace... It complains that a bean needs a `ClassBRepoHibernate` so somewhere in your code you aren&#39;t programming to the interface but require the actual class. Either fix the injection point to use the interface instead of the class or use `@MockBean` on a field of the actual class and not the interface.","body":"Have you read the stack trace... It complains that a bean needs a <code>ClassBRepoHibernate</code> so somewhere in your code you aren&#39;t programming to the interface but require the actual class. Either fix the injection point to use the interface instead of the class or use <code>@MockBean</code> on a field of the actual class and not the interface."}],"answers":[{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673344588,"creation_date":1673344271,"answer_id":75068166,"question_id":75068044,"body_markdown":"You have a `@MockBean` for `ClassBRepo` but the error message is a `NoSuchBeanDefinitionException` for `ClassBRepoHibernate`.\r\n\r\nI&#39;m guessing somewhere in your code you are referencing the concrete class. Eg:\r\n\r\n```java\r\npublic class SomeOtherClass {\r\n   @Autowired\r\n   ClassBRepoHibernate repoB;\r\n   ...\r\n}\r\n```\r\n\r\nThis will need to change to the interface. Eg:\r\n\r\n```java\r\npublic class SomeOtherClass {\r\n   @Autowired\r\n   ClassBRepo repoB;\r\n   ...\r\n}\r\n```\r\n   ","title":"NoSuchBeanException: expected at least 1 bean which qualifies as autowire candidate. But only on one class during MockBean?","body":"<p>You have a <code>@MockBean</code> for <code>ClassBRepo</code> but the error message is a <code>NoSuchBeanDefinitionException</code> for <code>ClassBRepoHibernate</code>.</p>\n<p>I'm guessing somewhere in your code you are referencing the concrete class. Eg:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SomeOtherClass {\n   @Autowired\n   ClassBRepoHibernate repoB;\n   ...\n}\n</code></pre>\n<p>This will need to change to the interface. Eg:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SomeOtherClass {\n   @Autowired\n   ClassBRepo repoB;\n   ...\n}\n</code></pre>\n"}],"owner":{"account_id":7656937,"reputation":53,"user_id":5803464,"display_name":"Kristian -"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":463,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75068166,"answer_count":1,"score":2,"last_activity_date":1673344588,"creation_date":1673343644,"question_id":75068044,"body_markdown":"There&#39;s this weird problem.\r\n\r\nI&#39;m currently testing two repository classes that I plan to use as MockBean.\r\n\r\nThe snippets of the code are as follows:\r\n\r\nFor ClassARepoHibernate\r\n\r\n```\r\n@Repository\r\npublic class ClassARepoHibernate implements ClassARepo {\r\n\r\n    @Autowired\r\n    JdbcTemplate jdbcTemplate;\r\n....\r\n```\r\n\r\nFor ClassBRepoHibernate\r\n\r\n```\r\n@Repository\r\npublic class ClassBRepoHibernate implements ClassBRepo {\r\n\r\n    @Autowired\r\n    JdbcTemplate jdbcTemplate;\r\n....\r\n```\r\n\r\nNow then, on the testing class, I put this up:\r\n\r\n```\r\n@SpringBootTest\r\npublic class unitTest{\r\n    @MockBean\r\n    ClassARepo repoA;\r\n\r\n    @MockBean\r\n    ClassBRepo repoB;\r\n\r\n    @Test\r\n    public void testing(){\r\n        System.out.println(&quot;Start&quot;);//I put breakpoint here\r\n        when (repoA.function(any())).thenReturn(null);\r\n        when (repoB.function(any())).thenReturn(null);\r\n        System.out.println(&quot;End&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nWhen I run this test, it gives out this error before even going to the breakpoint if I debug:\r\n\r\n```\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;ClassBRepoHibernate&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n```\r\n\r\nThis confuses me because generally, both classes are similar in structure. But somehow, my project recognizes ClassARepo while not recognizing ClassBRepo. Like, if I just comment out everything about ClassBRepo, then the test works out.\r\n\r\nAdditionally, if I use an actual run on the application instead of testing, ClassBRepo works fine.\r\n\r\nWhat goes wrong here? Here&#39;s my pom.xml for good measure.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.6&lt;/version&gt;&lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;id.co.test&lt;/groupId&gt;\r\n    &lt;artifactId&gt;test/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;test&lt;/name&gt;\r\n    &lt;description&gt;Test Project&lt;/description&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;android-json&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n            &lt;version&gt;19.8.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;version&gt;20190722&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.13.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.13.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n            &lt;version&gt;2.13.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;2.13.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;test&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n                                &lt;packagingExcludes&gt;**/*.properties&lt;/packagingExcludes&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/plugin&gt;\r\n                        \r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nI&#39;ve tried adding @Service and @Component on ClassBRepo. I studied the structure of both classes and found out that they are the same (same package, especially), hoping that it&#39;ll get past the NoSuchBeanDefinitionException part.\r\n\r\nI also tried putting this line in application-test.properties:\r\n\r\n`spring.jpa.properties.hibernate.globally_quoted_identifiers=true`\r\n\r\nI still end up with the same result.\r\n\r\nThanks in advance for the help.","title":"NoSuchBeanException: expected at least 1 bean which qualifies as autowire candidate. But only on one class during MockBean?","body":"<p>There's this weird problem.</p>\n<p>I'm currently testing two repository classes that I plan to use as MockBean.</p>\n<p>The snippets of the code are as follows:</p>\n<p>For ClassARepoHibernate</p>\n<pre><code>@Repository\npublic class ClassARepoHibernate implements ClassARepo {\n\n    @Autowired\n    JdbcTemplate jdbcTemplate;\n....\n</code></pre>\n<p>For ClassBRepoHibernate</p>\n<pre><code>@Repository\npublic class ClassBRepoHibernate implements ClassBRepo {\n\n    @Autowired\n    JdbcTemplate jdbcTemplate;\n....\n</code></pre>\n<p>Now then, on the testing class, I put this up:</p>\n<pre><code>@SpringBootTest\npublic class unitTest{\n    @MockBean\n    ClassARepo repoA;\n\n    @MockBean\n    ClassBRepo repoB;\n\n    @Test\n    public void testing(){\n        System.out.println(&quot;Start&quot;);//I put breakpoint here\n        when (repoA.function(any())).thenReturn(null);\n        when (repoB.function(any())).thenReturn(null);\n        System.out.println(&quot;End&quot;);\n    }\n\n}\n</code></pre>\n<p>When I run this test, it gives out this error before even going to the breakpoint if I debug:</p>\n<pre><code>Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'ClassBRepoHibernate' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n</code></pre>\n<p>This confuses me because generally, both classes are similar in structure. But somehow, my project recognizes ClassARepo while not recognizing ClassBRepo. Like, if I just comment out everything about ClassBRepo, then the test works out.</p>\n<p>Additionally, if I use an actual run on the application instead of testing, ClassBRepo works fine.</p>\n<p>What goes wrong here? Here's my pom.xml for good measure.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.6&lt;/version&gt;&lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;id.co.test&lt;/groupId&gt;\n    &lt;artifactId&gt;test/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;test&lt;/name&gt;\n    &lt;description&gt;Test Project&lt;/description&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.json&lt;/groupId&gt;\n                    &lt;artifactId&gt;json&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\n                    &lt;artifactId&gt;android-json&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n            &lt;version&gt;19.8.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20190722&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n            &lt;version&gt;2.13.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.13.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n            &lt;version&gt;2.13.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n            &lt;version&gt;2.13.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n\n    &lt;build&gt;\n        &lt;finalName&gt;test&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n                        &lt;plugin&gt;\n                            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                            &lt;configuration&gt;\n                                &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                                &lt;packagingExcludes&gt;**/*.properties&lt;/packagingExcludes&gt;\n                            &lt;/configuration&gt;\n                        &lt;/plugin&gt;\n                        \n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I've tried adding @Service and @Component on ClassBRepo. I studied the structure of both classes and found out that they are the same (same package, especially), hoping that it'll get past the NoSuchBeanDefinitionException part.</p>\n<p>I also tried putting this line in application-test.properties:</p>\n<p><code>spring.jpa.properties.hibernate.globally_quoted_identifiers=true</code></p>\n<p>I still end up with the same result.</p>\n<p>Thanks in advance for the help.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2313483,"reputation":3391,"user_id":2031068,"accept_rate":62,"display_name":"Evgeniy Mishustin"},"score":1,"creation_date":1462796068,"post_id":37115538,"comment_id":61772092,"body_markdown":"please feel free to tell what you&#39;ve did so far","body":"please feel free to tell what you&#39;ve did so far"},{"owner":{"account_id":8349624,"reputation":15,"user_id":6272245,"display_name":"Calvin O&#39;Brien"},"score":0,"creation_date":1462796231,"post_id":37115538,"comment_id":61772207,"body_markdown":"So far nothing really I am currently researching methods of how i can stop the app from opening, the setting the time part isn&#39;t as important","body":"So far nothing really I am currently researching methods of how i can stop the app from opening, the setting the time part isn&#39;t as important"},{"owner":{"account_id":2313483,"reputation":3391,"user_id":2031068,"accept_rate":62,"display_name":"Evgeniy Mishustin"},"score":0,"creation_date":1462796454,"post_id":37115538,"comment_id":61772337,"body_markdown":"do you know how the applications is started in Android ?","body":"do you know how the applications is started in Android ?"},{"owner":{"account_id":8349624,"reputation":15,"user_id":6272245,"display_name":"Calvin O&#39;Brien"},"score":0,"creation_date":1462796690,"post_id":37115538,"comment_id":61772490,"body_markdown":"Well the &quot;AppBlock&quot; application is available on the PlayStore and starts like any other app and gives you the devices list of applications, so i am trying to do something like this","body":"Well the &quot;AppBlock&quot; application is available on the PlayStore and starts like any other app and gives you the devices list of applications, so i am trying to do something like this"}],"answers":[{"tags":[],"owner":{"account_id":2313483,"reputation":3391,"user_id":2031068,"accept_rate":62,"display_name":"Evgeniy Mishustin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1462796949,"creation_date":1462796949,"answer_id":37115856,"question_id":37115538,"body_markdown":"You cannot actually block start of another application.\r\nThe only way that I see it is possible: you need to save the list of applications Info in your app that need to be blocked with the time when it need to be blocked. Implement a `service` that runs &quot;forever&quot; and detects started applications.\r\nRefer to [this answer][1] about how to do it. On each detection you should check if application present in your database and if the time now says it need to be blocked. If it is - close the application. Refer to [this answer][2] for learning how to do it.\r\nThat is global architecture I think you should follow.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/8061179/broadcast-receiver-to-detect-application-start\r\n  [2]: https://stackoverflow.com/questions/3773516/how-to-close-another-app-in-android","title":"How to block application launch in Android","body":"<p>You cannot actually block start of another application.\nThe only way that I see it is possible: you need to save the list of applications Info in your app that need to be blocked with the time when it need to be blocked. Implement a <code>service</code> that runs \"forever\" and detects started applications.\nRefer to <a href=\"https://stackoverflow.com/questions/8061179/broadcast-receiver-to-detect-application-start\">this answer</a> about how to do it. On each detection you should check if application present in your database and if the time now says it need to be blocked. If it is - close the application. Refer to <a href=\"https://stackoverflow.com/questions/3773516/how-to-close-another-app-in-android\">this answer</a> for learning how to do it.\nThat is global architecture I think you should follow.</p>\n"},{"tags":[],"owner":{"account_id":24173407,"reputation":1,"user_id":18135162,"display_name":"M. Qasim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673344587,"creation_date":1673344587,"answer_id":75068232,"question_id":37115538,"body_markdown":"To Build App Block u need the following things \r\n1-Accessibity services (AS)2-Forground Services (FS)\r\nBY AS you will be able to stop activity that you have in your bloker list \r\nFS will alive your application context that help to find block app\r\n","title":"How to block application launch in Android","body":"<p>To Build App Block u need the following things\n1-Accessibity services (AS)2-Forground Services (FS)\nBY AS you will be able to stop activity that you have in your bloker list\nFS will alive your application context that help to find block app</p>\n"}],"owner":{"account_id":8349624,"reputation":15,"user_id":6272245,"display_name":"Calvin O&#39;Brien"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5521,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"answer_count":2,"score":-2,"last_activity_date":1673344587,"creation_date":1462795984,"question_id":37115538,"body_markdown":"I want to create an application in Android that will show the devices list of applications and then allow the user to select which apps they want to be restricted access to for a certain period of time.\r\n\r\nI am aware there is an Android Application named &quot;AppBlock&quot; but i don&#39;t know how this works.\r\n\r\nYou select the app, the period of time and then it doesn&#39;t allow you to open the app.","title":"How to block application launch in Android","body":"<p>I want to create an application in Android that will show the devices list of applications and then allow the user to select which apps they want to be restricted access to for a certain period of time.</p>\n\n<p>I am aware there is an Android Application named \"AppBlock\" but i don't know how this works.</p>\n\n<p>You select the app, the period of time and then it doesn't allow you to open the app.</p>\n"},{"tags":["java","spring","spring-batch-admin"],"answers":[{"tags":[],"owner":{"account_id":11754567,"reputation":35,"user_id":8602663,"display_name":"Saum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1630830263,"creation_date":1630830263,"answer_id":69061715,"question_id":69061463,"body_markdown":"This was just gross oversight, I missed that the FlatFileItemWriter needs a stream. \r\nI&#39;m somewhat disappointed to put up this question, but I&#39;m posting the answer just in case it helps someone.\r\n\r\nThe solution was as simple as adding a `stream(dupItemWriter)` to the Job Definition.\r\n\r\nhttps://stackoverflow.com/questions/65996526/flatfileitemwriter-with-compositewriter-example\r\n\r\n\r\n```\r\n@Bean(name = &quot;fileLoadJob&quot;)\r\n    @Autowired\r\n    public Job fileLoadJob(JobBuilderFactory jobs, StepBuilderFactory steps,\r\n            FlatFileItemReader&lt;inventoryFileItem&gt; fileItemReader,\r\n            CompositeItemProcessor compositeItemProcessor,\r\n            @Qualifier(value = &quot;itemWriter&quot;) ItemWriter&lt;InventoryItem&gt; itemWriter,\r\n@Qualifier(value = &quot;duplicateItemWriter&quot;)FlatFileItemWriter&lt;InventoryFileItem&gt; dupItemWriter,\r\n            StepSkipListener skipListener) {\r\n\r\n        return jobs.get(&quot;libraryFileLoadJob&quot;)\r\n                .start(steps.get(&quot;step&quot;).&lt;InventoryFileItem, InventoryItem&gt;chunk(chunkSize)\r\n                        .reader(FileItemReader)\r\n                        .processor(compositeItemProcessor)\r\n                        .writer(itemWriter)\r\n                        .faultTolerant()\r\n                        .skip(Exception.class)\r\n                        .skipLimit(Integer.parseInt(skipLimit))\r\n                        .listener(skipListener)\r\n                        .stream(dupItemWriter)\r\n                        .build())\r\n                .build();\r\n    }\r\n```","title":"FlatFileItemWriter - Writer must be open before it can be written to","body":"<p>This was just gross oversight, I missed that the FlatFileItemWriter needs a stream.\nI'm somewhat disappointed to put up this question, but I'm posting the answer just in case it helps someone.</p>\n<p>The solution was as simple as adding a <code>stream(dupItemWriter)</code> to the Job Definition.</p>\n<p><a href=\"https://stackoverflow.com/questions/65996526/flatfileitemwriter-with-compositewriter-example\">FlatfileItemWriter with Compositewriter example</a></p>\n<pre><code>@Bean(name = &quot;fileLoadJob&quot;)\n    @Autowired\n    public Job fileLoadJob(JobBuilderFactory jobs, StepBuilderFactory steps,\n            FlatFileItemReader&lt;inventoryFileItem&gt; fileItemReader,\n            CompositeItemProcessor compositeItemProcessor,\n            @Qualifier(value = &quot;itemWriter&quot;) ItemWriter&lt;InventoryItem&gt; itemWriter,\n@Qualifier(value = &quot;duplicateItemWriter&quot;)FlatFileItemWriter&lt;InventoryFileItem&gt; dupItemWriter,\n            StepSkipListener skipListener) {\n\n        return jobs.get(&quot;libraryFileLoadJob&quot;)\n                .start(steps.get(&quot;step&quot;).&lt;InventoryFileItem, InventoryItem&gt;chunk(chunkSize)\n                        .reader(FileItemReader)\n                        .processor(compositeItemProcessor)\n                        .writer(itemWriter)\n                        .faultTolerant()\n                        .skip(Exception.class)\n                        .skipLimit(Integer.parseInt(skipLimit))\n                        .listener(skipListener)\n                        .stream(dupItemWriter)\n                        .build())\n                .build();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9105547,"reputation":644,"user_id":6776142,"display_name":"Jet_C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652906701,"creation_date":1652906701,"answer_id":72295776,"question_id":69061463,"body_markdown":"Its not absolutely necessary to include the `.stream(dupItemWriter)`\r\nyou can also call the writer&#39;s `.open()` method instead.\r\n\r\nIn my case I was creating dynamic/programmatic ItemWriters so adding them to the streams was not feasible.\r\n\r\n    .stream(writer-1)\r\n    .stream(writer-2)\r\n    .stream(writer-N)\r\n\r\nInstead I called .open() method myself:\r\n\r\n\r\n    FlatFileItemWriter&lt;OutputContact&gt; itemWriter = new FlatFileItemWriter&lt;&gt;();\r\n    itemWriter.setResource(outPutResource);\r\n    itemWriter.setAppendAllowed(true);\r\n    itemWriter.setLineAggregator(lineAggregator);\r\n    itemWriter.setHeaderCallback(writer -&gt; writer.write(&quot;ACCT,MEMBER,SOURCE&quot;));\r\n    itemWriter.open(new ExecutionContext());\r\n\r\n","title":"FlatFileItemWriter - Writer must be open before it can be written to","body":"<p>Its not absolutely necessary to include the <code>.stream(dupItemWriter)</code>\nyou can also call the writer's <code>.open()</code> method instead.</p>\n<p>In my case I was creating dynamic/programmatic ItemWriters so adding them to the streams was not feasible.</p>\n<pre><code>.stream(writer-1)\n.stream(writer-2)\n.stream(writer-N)\n</code></pre>\n<p>Instead I called .open() method myself:</p>\n<pre><code>FlatFileItemWriter&lt;OutputContact&gt; itemWriter = new FlatFileItemWriter&lt;&gt;();\nitemWriter.setResource(outPutResource);\nitemWriter.setAppendAllowed(true);\nitemWriter.setLineAggregator(lineAggregator);\nitemWriter.setHeaderCallback(writer -&gt; writer.write(&quot;ACCT,MEMBER,SOURCE&quot;));\nitemWriter.open(new ExecutionContext());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9049597,"reputation":88,"user_id":6740371,"display_name":"Mohammed ESSABRI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673344152,"creation_date":1673344152,"answer_id":75068133,"question_id":69061463,"body_markdown":"I had the same issue, \r\nI created two writers by inheritance of FlatFileItemWriter&lt;T&gt;. \r\nThat was working before I added @StepScope annotation. But after that, the first one throws an Exception with &quot;Writer must be open before it can be written to&quot; error message. But the second one worked without any problem.\r\nI solved that by calling the method open(new ExecutionContext()); but i still not understand why the second one works but not the first one.\r\n\r\n","title":"FlatFileItemWriter - Writer must be open before it can be written to","body":"<p>I had the same issue,\nI created two writers by inheritance of FlatFileItemWriter.\nThat was working before I added @StepScope annotation. But after that, the first one throws an Exception with &quot;Writer must be open before it can be written to&quot; error message. But the second one worked without any problem.\nI solved that by calling the method open(new ExecutionContext()); but i still not understand why the second one works but not the first one.</p>\n"}],"owner":{"account_id":11754567,"reputation":35,"user_id":8602663,"display_name":"Saum"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2914,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69061715,"answer_count":3,"score":-1,"last_activity_date":1673344152,"creation_date":1630827815,"question_id":69061463,"body_markdown":"I&#39;ve a SpringBatch Job where I skip all duplicate items write to a Flat file.\r\n\r\nHowever the FlatFileItemWriter throws the below error whenever there&#39;s a duplicate:\r\n\r\n```Writer must be open before it can be written to```\r\n\r\nBelow is the Writer &amp; SkipListener configuration - \r\n```\r\n\t@Bean(name = &quot;duplicateItemWriter&quot;)\r\n\tpublic FlatFileItemWriter&lt;InventoryFileItem&gt; dupItemWriter(){\r\n\r\n\t\treturn new FlatFileItemWriterBuilder&lt;InventoryFileItem&gt;()\r\n\t\t\t\t.name(&quot;duplicateItemWriter&quot;)\r\n\t\t\t\t.resource(new FileSystemResource(&quot;duplicateItem.txt&quot;))\r\n\t\t\t\t.lineAggregator(new PassThroughLineAggregator&lt;&gt;())\r\n\t\t\t\t.append(true)\r\n\t\t\t\t.shouldDeleteIfExists(true)\r\n\t\t\t\t.build();\r\n\t}\r\n\r\n\r\npublic class StepSkipListener implements SkipListener&lt;InventoryFileItem, InventoryItem&gt; {\r\n\r\n\tprivate FlatFileItemWriter&lt;InventoryFileItem&gt; skippedItemsWriter;\r\n\t\r\n\tpublic StepSkipListener(FlatFileItemWriter&lt;InventoryFileItem&gt; skippedItemsWriter) {\r\n        this.skippedItemsWriter = skippedItemsWriter;\r\n    }\r\n    @Override\r\n\tpublic void onSkipInProcess(InventoryFileItem item, Throwable t) {\r\n\t\tSystem.out.println(item.getBibNum() + &quot; Process - &quot; + t.getMessage());\r\n\t\t\r\n\t\ttry {\r\n            skippedItemsWriter.write(Collections.singletonList(item));\r\n        } catch (Exception e) {\r\n        \tSystem.out.println(e.getMessage());\r\n        }\r\n\t}\r\n\r\n\r\n```\r\n\r\nThe overall Job is defined as below and I&#39;m using the duplicateItemWriter from the SkipListener.\r\n\r\n\r\n```\r\n@Bean(name = &quot;fileLoadJob&quot;)\r\n\t@Autowired\r\n\tpublic Job fileLoadJob(JobBuilderFactory jobs, StepBuilderFactory steps,\r\n\t\t\tFlatFileItemReader&lt;inventoryFileItem&gt; fileItemReader,\r\n\t\t\tCompositeItemProcessor compositeItemProcessor,\r\n\t\t\t@Qualifier(value = &quot;itemWriter&quot;) ItemWriter&lt;InventoryItem&gt; itemWriter,\r\n\t\t\tStepSkipListener skipListener) {\r\n\r\n\t\treturn jobs.get(&quot;libraryFileLoadJob&quot;)\r\n\t\t\t\t.start(steps.get(&quot;step&quot;).&lt;InventoryFileItem, InventoryItem&gt;chunk(chunkSize)\r\n\t\t\t\t\t\t.reader(FileItemReader)\r\n\t\t\t\t\t\t.processor(compositeItemProcessor)\r\n\t\t\t\t\t\t.writer(itemWriter)\r\n\t\t\t\t\t\t.faultTolerant()\r\n\t\t\t\t\t\t.skip(Exception.class)\r\n\t\t\t\t\t\t.skipLimit(Integer.parseInt(skipLimit))\r\n\t\t\t\t\t\t.listener(skipListener)\r\n\t\t\t\t\t\t.build())\r\n\t\t\t\t.build();\r\n\t}\r\n```\r\nI&#39;ve also tried to write all data to FlatFileItemWriter - that doesn&#39;t work as well. However if write to a DB, then there&#39;s no issue with it.\r\n\r\nThe Spring-Batch version I&#39;m using is - 4.3.3\r\nI&#39;ve referred to the below threads as well:\r\n\r\n - https://stackoverflow.com/questions/63596068/unit-testing-a-flatfileitemwriter-outside-of-spring-writer-must-be-open-befor  \r\n - https://stackoverflow.com/questions/43043554/spring-batch-writernotopenexception\r\n - https://stackoverflow.com/questions/65996526/flatfileitemwriter-with-compositewriter-example","title":"FlatFileItemWriter - Writer must be open before it can be written to","body":"<p>I've a SpringBatch Job where I skip all duplicate items write to a Flat file.</p>\n<p>However the FlatFileItemWriter throws the below error whenever there's a duplicate:</p>\n<p><code>Writer must be open before it can be written to</code></p>\n<p>Below is the Writer &amp; SkipListener configuration -</p>\n<pre><code>    @Bean(name = &quot;duplicateItemWriter&quot;)\n    public FlatFileItemWriter&lt;InventoryFileItem&gt; dupItemWriter(){\n\n        return new FlatFileItemWriterBuilder&lt;InventoryFileItem&gt;()\n                .name(&quot;duplicateItemWriter&quot;)\n                .resource(new FileSystemResource(&quot;duplicateItem.txt&quot;))\n                .lineAggregator(new PassThroughLineAggregator&lt;&gt;())\n                .append(true)\n                .shouldDeleteIfExists(true)\n                .build();\n    }\n\n\npublic class StepSkipListener implements SkipListener&lt;InventoryFileItem, InventoryItem&gt; {\n\n    private FlatFileItemWriter&lt;InventoryFileItem&gt; skippedItemsWriter;\n    \n    public StepSkipListener(FlatFileItemWriter&lt;InventoryFileItem&gt; skippedItemsWriter) {\n        this.skippedItemsWriter = skippedItemsWriter;\n    }\n    @Override\n    public void onSkipInProcess(InventoryFileItem item, Throwable t) {\n        System.out.println(item.getBibNum() + &quot; Process - &quot; + t.getMessage());\n        \n        try {\n            skippedItemsWriter.write(Collections.singletonList(item));\n        } catch (Exception e) {\n            System.out.println(e.getMessage());\n        }\n    }\n\n\n</code></pre>\n<p>The overall Job is defined as below and I'm using the duplicateItemWriter from the SkipListener.</p>\n<pre><code>@Bean(name = &quot;fileLoadJob&quot;)\n    @Autowired\n    public Job fileLoadJob(JobBuilderFactory jobs, StepBuilderFactory steps,\n            FlatFileItemReader&lt;inventoryFileItem&gt; fileItemReader,\n            CompositeItemProcessor compositeItemProcessor,\n            @Qualifier(value = &quot;itemWriter&quot;) ItemWriter&lt;InventoryItem&gt; itemWriter,\n            StepSkipListener skipListener) {\n\n        return jobs.get(&quot;libraryFileLoadJob&quot;)\n                .start(steps.get(&quot;step&quot;).&lt;InventoryFileItem, InventoryItem&gt;chunk(chunkSize)\n                        .reader(FileItemReader)\n                        .processor(compositeItemProcessor)\n                        .writer(itemWriter)\n                        .faultTolerant()\n                        .skip(Exception.class)\n                        .skipLimit(Integer.parseInt(skipLimit))\n                        .listener(skipListener)\n                        .build())\n                .build();\n    }\n</code></pre>\n<p>I've also tried to write all data to FlatFileItemWriter - that doesn't work as well. However if write to a DB, then there's no issue with it.</p>\n<p>The Spring-Batch version I'm using is - 4.3.3\nI've referred to the below threads as well:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/63596068/unit-testing-a-flatfileitemwriter-outside-of-spring-writer-must-be-open-befor\">unit testing a FlatFileItemWriter outside of Spring - &quot;Writer must be open before it can be written to&quot; exception</a></li>\n<li><a href=\"https://stackoverflow.com/questions/43043554/spring-batch-writernotopenexception\">Spring Batch WriterNotOpenException</a></li>\n<li><a href=\"https://stackoverflow.com/questions/65996526/flatfileitemwriter-with-compositewriter-example\">FlatfileItemWriter with Compositewriter example</a></li>\n</ul>\n"},{"tags":["java","spring","vaadin"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1673321737,"post_id":75064382,"comment_id":132467401,"body_markdown":"What other behavior would you expect from lazy loading? If you want to avoid repeated calls by caching in memory, use eager loading rather than lazy loading.","body":"What other behavior would you expect from lazy loading? If you want to avoid repeated calls by caching in memory, use eager loading rather than lazy loading."}],"answers":[{"tags":[],"owner":{"account_id":4430906,"reputation":3990,"user_id":3608089,"display_name":"ollitietavainen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673333762,"creation_date":1673333762,"answer_id":75066445,"question_id":75064382,"body_markdown":"Like this:\r\n```java\r\nGrid&lt;YourData&gt; grid = new Grid&lt;&gt;();\r\ngrid.setItems(getAllItems());\r\n```\r\n\r\nwhere `getAllItems()` returns a stream of all the items in your database. \r\n\r\nIf you don&#39;t want to load all of the items in one go, but still want to avoid fetching the same data items again, you&#39;ll need to implement your own caching; you can do this in your `getData` method.","title":"Vaadin grid lazy loading while scrolling up pages are loaded again with call to DB. How to stop this behaviour?","body":"<p>Like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Grid&lt;YourData&gt; grid = new Grid&lt;&gt;();\ngrid.setItems(getAllItems());\n</code></pre>\n<p>where <code>getAllItems()</code> returns a stream of all the items in your database.</p>\n<p>If you don't want to load all of the items in one go, but still want to avoid fetching the same data items again, you'll need to implement your own caching; you can do this in your <code>getData</code> method.</p>\n"}],"owner":{"account_id":27483156,"reputation":1,"user_id":20969856,"display_name":"Shivam Verma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673342674,"creation_date":1673311730,"question_id":75064382,"body_markdown":"In Vaadin grid lazy loading while scrolling up pages are loaded again with call to DB. How to stop this behaviour?I do not want repetitive calls to backend.\r\n\r\n```\r\ngrid.setItems(query -&gt; getData(id, query.getPage(), query.getPageSize()).stream());\r\n```\r\n","title":"Vaadin grid lazy loading while scrolling up pages are loaded again with call to DB. How to stop this behaviour?","body":"<p>In Vaadin grid lazy loading while scrolling up pages are loaded again with call to DB. How to stop this behaviour?I do not want repetitive calls to backend.</p>\n<pre><code>grid.setItems(query -&gt; getData(id, query.getPage(), query.getPageSize()).stream());\n</code></pre>\n"},{"tags":["java","specifications","operands"],"answers":[{"tags":[],"owner":{"display_name":"user19443549"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673326094,"creation_date":1673326094,"answer_id":75065577,"question_id":75065538,"body_markdown":"Use below piece of code -\r\n\r\n      if(object == null || (object != null &amp;&amp; &quot; &quot;.equals(object.value))) {\r\n            // do something\r\n        }\r\n        else {\r\n            // do something else \r\n        }\r\n\r\nAlso Always keep constant values in left side of equals, it will prevent NPE.\r\n\r\nFor Above code if object is null or object.value is &quot; &quot;(space), it will go inside if otherwise it will go in else.\r\n","title":"How to properly handle if statements containing both null checks and non-null checks together in an OR expression","body":"<p>Use below piece of code -</p>\n<pre><code>  if(object == null || (object != null &amp;&amp; &quot; &quot;.equals(object.value))) {\n        // do something\n    }\n    else {\n        // do something else \n    }\n</code></pre>\n<p>Also Always keep constant values in left side of equals, it will prevent NPE.</p>\n<p>For Above code if object is null or object.value is &quot; &quot;(space), it will go inside if otherwise it will go in else.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673329009,"creation_date":1673327632,"answer_id":75065729,"question_id":75065538,"body_markdown":"In Java `&amp;&amp;` and `||` are **short circuit** (boolean!) operators. So **everything works as assumed**. No unnecessary evaluation running into an error. Some languages Name these _and-then_, _or-else_.\r\n\r\n    boolean newGraphRequired = graphNode == null\r\n        || gaphNode.timeStamp() != moduleNode.timeStamp();\r\n\r\nConditions become more straightforward.","title":"How to properly handle if statements containing both null checks and non-null checks together in an OR expression","body":"<p>In Java <code>&amp;&amp;</code> and <code>||</code> are <strong>short circuit</strong> (boolean!) operators. So <strong>everything works as assumed</strong>. No unnecessary evaluation running into an error. Some languages Name these <em>and-then</em>, <em>or-else</em>.</p>\n<pre><code>boolean newGraphRequired = graphNode == null\n    || gaphNode.timeStamp() != moduleNode.timeStamp();\n</code></pre>\n<p>Conditions become more straightforward.</p>\n"}],"owner":{"account_id":20913585,"reputation":55,"user_id":15363867,"display_name":"Lauren_G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1673328609,"accepted_answer_id":75065729,"answer_count":2,"score":2,"last_activity_date":1673342024,"creation_date":1673325729,"question_id":75065538,"body_markdown":"I have some code that does the following:\r\n\r\n    if(object == null || object.value.equals(&quot; &quot;)) {\r\n        // do something\r\n    }\r\n    else {\r\n       // do something else \r\n    }\r\n\r\nThe above seems dangerous to me because if I switched the order of the two conditions or changed this to an AND expression, the code will crash when object is null, but I also read somewhere that Java guarantees operands are evaluated from left to right. That said, I also read do not assume this to be true. \r\n\r\nI am confused by all this conflicting advice and wondering whether the above code constitutes a bug. That said, what is the best way to recode this if indeed this is considered bad practice?","title":"How to properly handle if statements containing both null checks and non-null checks together in an OR expression","body":"<p>I have some code that does the following:</p>\n<pre><code>if(object == null || object.value.equals(&quot; &quot;)) {\n    // do something\n}\nelse {\n   // do something else \n}\n</code></pre>\n<p>The above seems dangerous to me because if I switched the order of the two conditions or changed this to an AND expression, the code will crash when object is null, but I also read somewhere that Java guarantees operands are evaluated from left to right. That said, I also read do not assume this to be true.</p>\n<p>I am confused by all this conflicting advice and wondering whether the above code constitutes a bug. That said, what is the best way to recode this if indeed this is considered bad practice?</p>\n"},{"tags":["java","json","google-compute-engine","google-cloud-dataproc"],"answers":[{"tags":[],"owner":{"account_id":4663564,"reputation":10587,"user_id":3777211,"display_name":"Dennis Huo"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1456346100,"creation_date":1456345131,"answer_id":35612233,"question_id":35611770,"body_markdown":"We&#39;re hoping to have a more thorough guide shortly on the [official documentation](https://cloud.google.com/dataproc/overview), but to get started, visit the following API overview: https://developers.google.com/api-client-library/java/apis/dataproc/v1\r\n\r\nIt includes links to the [Dataproc javadocs](https://developers.google.com/resources/api-libraries/documentation/dataproc/v1/java/latest/); if your server is making calls on behalf of your own project and not on behalf of your end-users&#39; Google projects, then you probably want the [keyfile-based service-account auth explained here](https://developers.google.com/api-client-library/java/google-api-java-client/oauth2#service_accounts) to create the `Credential` object you use to initialize the `Dataproc` client stub.\r\n\r\nAs for the dataproc-specific parts, this just means you add the following dependency to your Maven pomfile if using Maven:\r\n\r\n    &lt;project&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n          &lt;artifactId&gt;google-api-services-dataproc&lt;/artifactId&gt;\r\n          &lt;version&gt;v1-rev4-1.21.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nAnd then you&#39;ll have code like:\r\n\r\n    Dataproc dataproc = new Dataproc.Builder(new NetHttpTransport(), new JacksonFactory(), credential)\r\n        .setApplicationName(&quot;my-webabb/1.0&quot;)\r\n        .build();\r\n    dataproc.projects().regions().jobs().submit(\r\n        projectId, &quot;global&quot;, new SubmitJobRequest()\r\n            .setJob(new Job()\r\n                .setPlacement(new JobPlacement()\r\n                    .setClusterName(&quot;my-spark-cluster&quot;))\r\n                .setSparkJob(new SparkJob()\r\n                    .setMainClass(&quot;FooSparkJobMain&quot;)\r\n                    .setJarFileUris(ImmutableList.of(&quot;gs://bucket/path/to/your/spark-job.jar&quot;))\r\n                    .setArgs(ImmutableList.of(\r\n                        &quot;arg1&quot;, &quot;arg2&quot;, &quot;arg3&quot;)))))\r\n        .execute();\r\n\r\nSince different intermediary servers may do low-level retries or your request may throw an IOException where you don&#39;t know whether the job-submission succeeded or not, an addition step you may want to take is to generate your own `jobId`; then you know what jobId to poll on to figure out if it got submitted even if your request times out or throws some unknown exception:\r\n\r\n    import java.util.UUID;\r\n\r\n    ...\r\n\r\n    Dataproc dataproc = new Dataproc.Builder(new NetHttpTransport(), new JacksonFactory(), credential)\r\n        .setApplicationName(&quot;my-webabb/1.0&quot;)\r\n        .build();\r\n\r\n    String curJobId = &quot;json-agg-job-&quot; + UUID.randomUUID().toString();\r\n    Job jobSnapshot = null;\r\n    try {\r\n      jobSnapshot = dataproc.projects().regions().jobs().submit(\r\n          projectId, &quot;global&quot;, new SubmitJobRequest()\r\n              .setJob(new Job()\r\n                  .setReference(new JobReference()\r\n                       .setJobId(curJobId))\r\n                  .setPlacement(new JobPlacement()\r\n                      .setClusterName(&quot;my-spark-cluster&quot;))\r\n                  .setSparkJob(new SparkJob()\r\n                      .setMainClass(&quot;FooSparkJobMain&quot;)\r\n                      .setJarFileUris(ImmutableList.of(&quot;gs://bucket/path/to/your/spark-job.jar&quot;))\r\n                      .setArgs(ImmutableList.of(\r\n                          &quot;arg1&quot;, &quot;arg2&quot;, &quot;arg3&quot;)))))\r\n          .execute();\r\n    } catch (IOException ioe) {\r\n      try {\r\n        jobSnapshot = dataproc.projects().regions().jobs().get(\r\n            projectId, &quot;global&quot;, curJobId).execute();\r\n        logger.info(ioe, &quot;Despite exception, job was verified submitted&quot;);\r\n      } catch (IOException ioe2) {\r\n        // Handle differently; if it&#39;s a GoogleJsonResponseException you can inspect the error\r\n        // code, and if it&#39;s a 404, then it means the job didn&#39;t get submitted; you can add retry\r\n        // logic in that case.\r\n      }\r\n    }\r\n\r\n    // We can poll on dataproc.projects().regions().jobs().get(...) until the job reports being\r\n    // completed or failed now.\r\n\r\n","title":"How do you use the Google DataProc Java Client to submit spark jobs using jar files and classes in associated GS bucket?","body":"<p>We're hoping to have a more thorough guide shortly on the <a href=\"https://cloud.google.com/dataproc/overview\" rel=\"noreferrer\">official documentation</a>, but to get started, visit the following API overview: <a href=\"https://developers.google.com/api-client-library/java/apis/dataproc/v1\" rel=\"noreferrer\">https://developers.google.com/api-client-library/java/apis/dataproc/v1</a></p>\n\n<p>It includes links to the <a href=\"https://developers.google.com/resources/api-libraries/documentation/dataproc/v1/java/latest/\" rel=\"noreferrer\">Dataproc javadocs</a>; if your server is making calls on behalf of your own project and not on behalf of your end-users' Google projects, then you probably want the <a href=\"https://developers.google.com/api-client-library/java/google-api-java-client/oauth2#service_accounts\" rel=\"noreferrer\">keyfile-based service-account auth explained here</a> to create the <code>Credential</code> object you use to initialize the <code>Dataproc</code> client stub.</p>\n\n<p>As for the dataproc-specific parts, this just means you add the following dependency to your Maven pomfile if using Maven:</p>\n\n<pre><code>&lt;project&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n      &lt;artifactId&gt;google-api-services-dataproc&lt;/artifactId&gt;\n      &lt;version&gt;v1-rev4-1.21.0&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>And then you'll have code like:</p>\n\n<pre><code>Dataproc dataproc = new Dataproc.Builder(new NetHttpTransport(), new JacksonFactory(), credential)\n    .setApplicationName(\"my-webabb/1.0\")\n    .build();\ndataproc.projects().regions().jobs().submit(\n    projectId, \"global\", new SubmitJobRequest()\n        .setJob(new Job()\n            .setPlacement(new JobPlacement()\n                .setClusterName(\"my-spark-cluster\"))\n            .setSparkJob(new SparkJob()\n                .setMainClass(\"FooSparkJobMain\")\n                .setJarFileUris(ImmutableList.of(\"gs://bucket/path/to/your/spark-job.jar\"))\n                .setArgs(ImmutableList.of(\n                    \"arg1\", \"arg2\", \"arg3\")))))\n    .execute();\n</code></pre>\n\n<p>Since different intermediary servers may do low-level retries or your request may throw an IOException where you don't know whether the job-submission succeeded or not, an addition step you may want to take is to generate your own <code>jobId</code>; then you know what jobId to poll on to figure out if it got submitted even if your request times out or throws some unknown exception:</p>\n\n<pre><code>import java.util.UUID;\n\n...\n\nDataproc dataproc = new Dataproc.Builder(new NetHttpTransport(), new JacksonFactory(), credential)\n    .setApplicationName(\"my-webabb/1.0\")\n    .build();\n\nString curJobId = \"json-agg-job-\" + UUID.randomUUID().toString();\nJob jobSnapshot = null;\ntry {\n  jobSnapshot = dataproc.projects().regions().jobs().submit(\n      projectId, \"global\", new SubmitJobRequest()\n          .setJob(new Job()\n              .setReference(new JobReference()\n                   .setJobId(curJobId))\n              .setPlacement(new JobPlacement()\n                  .setClusterName(\"my-spark-cluster\"))\n              .setSparkJob(new SparkJob()\n                  .setMainClass(\"FooSparkJobMain\")\n                  .setJarFileUris(ImmutableList.of(\"gs://bucket/path/to/your/spark-job.jar\"))\n                  .setArgs(ImmutableList.of(\n                      \"arg1\", \"arg2\", \"arg3\")))))\n      .execute();\n} catch (IOException ioe) {\n  try {\n    jobSnapshot = dataproc.projects().regions().jobs().get(\n        projectId, \"global\", curJobId).execute();\n    logger.info(ioe, \"Despite exception, job was verified submitted\");\n  } catch (IOException ioe2) {\n    // Handle differently; if it's a GoogleJsonResponseException you can inspect the error\n    // code, and if it's a 404, then it means the job didn't get submitted; you can add retry\n    // logic in that case.\n  }\n}\n\n// We can poll on dataproc.projects().regions().jobs().get(...) until the job reports being\n// completed or failed now.\n</code></pre>\n"}],"owner":{"account_id":7896744,"reputation":97,"user_id":5965148,"accept_rate":60,"display_name":"pashupati"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3101,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":35612233,"answer_count":1,"score":6,"last_activity_date":1673341646,"creation_date":1456343679,"question_id":35611770,"body_markdown":"I need to trigger Spark Jobs to aggregate data from a JSON file using an API call. I use spring-boot to create the resources. Thus, the steps for the solution is the following:\r\n\r\n1. User makes an POST request with a json file as the input\r\n2. The JSON file is stored in google bucket associated with dataproc cluster. \r\n3. A aggregating spark job is triggered from within the REST method with the specified jars, classes and the argument is the json file link. \r\n\r\nI want the job to be triggered using Dataproc&#39;s Java Client instead of console or command line. How do you do it?","title":"How do you use the Google DataProc Java Client to submit spark jobs using jar files and classes in associated GS bucket?","body":"<p>I need to trigger Spark Jobs to aggregate data from a JSON file using an API call. I use spring-boot to create the resources. Thus, the steps for the solution is the following:</p>\n\n<ol>\n<li>User makes an POST request with a json file as the input</li>\n<li>The JSON file is stored in google bucket associated with dataproc cluster. </li>\n<li>A aggregating spark job is triggered from within the REST method with the specified jars, classes and the argument is the json file link. </li>\n</ol>\n\n<p>I want the job to be triggered using Dataproc's Java Client instead of console or command line. How do you do it?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630497268,"creation_date":1630491732,"answer_id":69011946,"question_id":69011792,"body_markdown":"The way you do it `Comment comment` is a new transient entity which is related to an already maintained entity of `post`. During save first hibernate will try to update post to match with that comment but that comment does not exist yet and so it fails.\r\n\r\nA better workflow for you would be the following.\r\n\r\nIt makes better sense to return the Post with all coments as return and also just append the new comment to an already existing post. That way hibernate will first go and create the comment entity and then relate it to post which already exists and will not face any problem.\r\n\r\n    @PostMapping(&quot;/posts/{postId}/comments&quot;)\r\n    public Post createComment(@PathVariable (value = &quot;postId&quot;) Long postId,\r\n                                 @Valid @RequestBody Comment comment) {\r\n        Optional&lt;Post&gt; postOpt = postRepository.findById(postId);\r\n          if (postOpt.isPresent()) {\r\n            comment.setPost(postOpt.get()); &lt;----------------\r\n            postOpt.get().getComments().add(comment);\r\n            postRepository.save(postOpt.get());\r\n            return postOpt.get();\r\n          } else {\r\n            throw new ResourceNotFoundException(&quot;PostId &quot; + postId + &quot; not found&quot;);\r\n          }\r\n    \r\n       }\r\n\r\n   ","title":"Error - not-null property references a null or transient value","body":"<p>The way you do it <code>Comment comment</code> is a new transient entity which is related to an already maintained entity of <code>post</code>. During save first hibernate will try to update post to match with that comment but that comment does not exist yet and so it fails.</p>\n<p>A better workflow for you would be the following.</p>\n<p>It makes better sense to return the Post with all coments as return and also just append the new comment to an already existing post. That way hibernate will first go and create the comment entity and then relate it to post which already exists and will not face any problem.</p>\n<pre><code>@PostMapping(&quot;/posts/{postId}/comments&quot;)\npublic Post createComment(@PathVariable (value = &quot;postId&quot;) Long postId,\n                             @Valid @RequestBody Comment comment) {\n    Optional&lt;Post&gt; postOpt = postRepository.findById(postId);\n      if (postOpt.isPresent()) {\n        comment.setPost(postOpt.get()); &lt;----------------\n        postOpt.get().getComments().add(comment);\n        postRepository.save(postOpt.get());\n        return postOpt.get();\n      } else {\n        throw new ResourceNotFoundException(&quot;PostId &quot; + postId + &quot; not found&quot;);\n      }\n\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3245618,"reputation":372,"user_id":2737303,"display_name":"jsmin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643789119,"creation_date":1643789119,"answer_id":70952216,"question_id":69011792,"body_markdown":"I had a similar issue and to solve it you need to set the parent into child object.\r\nIt&#39;ll be something like this\r\n\r\n    post.getComments().stream().forEach(c -&gt; c.setPost(post));\r\n","title":"Error - not-null property references a null or transient value","body":"<p>I had a similar issue and to solve it you need to set the parent into child object.\nIt'll be something like this</p>\n<pre><code>post.getComments().stream().forEach(c -&gt; c.setPost(post));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2045119,"reputation":1,"user_id":1825375,"display_name":"user1825375"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673341596,"creation_date":1673301745,"answer_id":75063412,"question_id":69011792,"body_markdown":"I had a similar issue and to solve it I had to change the `Entity` object to `nullable`.\r\n\r\n```java\r\n@Column(name = &quot;dog&quot;, nullable = true) \r\nprivate String dog;\r\n```","title":"Error - not-null property references a null or transient value","body":"<p>I had a similar issue and to solve it I had to change the <code>Entity</code> object to <code>nullable</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Column(name = &quot;dog&quot;, nullable = true) \nprivate String dog;\n</code></pre>\n"}],"owner":{"account_id":18606616,"reputation":418,"user_id":14731849,"display_name":"Seeschon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5469,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1673341596,"creation_date":1630491036,"question_id":69011792,"body_markdown":"I&#39;m a newbie in Spring. I make an API that based on relationship between two tables, for that use a OneToMany annotation &amp; for API test I&#39;ve postman. My aim is to save requested data in two seperate entities which are mentioned hereunder. When I try to post a data in postman: \r\n1-3 fields are related to Post entity whereas text field belong to Comment entity (comments is joining field)\r\n\r\n    {\r\n    &quot;title&quot;: &quot;Post1&quot;,\r\n    &quot;description&quot;: &quot;Post 1 description&quot;,\r\n    &quot;content&quot;: &quot;Post 1 content&quot;,\r\n    &quot;comments&quot;: [\r\n        {\r\n            &quot;text&quot;: &quot;Java best selling book&quot;\r\n        },\r\n        {\r\n            &quot;text&quot;: &quot;Exploring spring boot&quot;\r\n        }\r\n    ]\r\n   }\r\n\r\nI get an error as follows:\r\n\r\n    Hibernate: insert into posts (content, description, title) values (?, ?, ?)\r\n    2021-09-01 11:55:09.786 TRACE 9884 --- [nio-8089-exec-2] o.h.type.descriptor.sql.BasicBinder      \r\n    : binding parameter [1] as [VARCHAR] - [Post 1 content]\r\n    2021-09-01 11:55:09.786 TRACE 9884 --- [nio-8089-exec-2] o.h.type.descriptor.sql.BasicBinder      \r\n    : binding parameter [2] as [VARCHAR] - [Post 1 description]\r\n    2021-09-01 11:55:09.786 TRACE 9884 --- [nio-8089-exec-2] o.h.type.descriptor.sql.BasicBinder      \r\n    : binding parameter [3] as [VARCHAR] - [Post1]\r\n    2021-09-01 11:55:09.815 ERROR 9884 --- [nio-8089-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    \r\n    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception \r\n    [Request processing failed; nested exception is \r\n    org.springframework.dao.DataIntegrityViolationException: not-null property references a null \r\n    or transient value : com.techspring.entity.Comment.post; nested exception is \r\n    org.hibernate.PropertyValueException: not-null property references a null or transient value : \r\n    com.techspring.entity.Comment.post] with root cause\r\n\r\nMy MVCs are as follows: \r\n\r\nPost.java\r\n\r\n    @Entity\r\n    @Table(name = &quot;posts&quot;)\r\n    public class Post {\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n      private Long id;\r\n      private String title;\r\n      private String description;\r\n      private String content;\r\n      @OneToMany(cascade = CascadeType.ALL,\r\n            fetch = FetchType.LAZY,\r\n            mappedBy = &quot;post&quot;)\r\n      private Set&lt;Comment&gt; comments = new HashSet&lt;&gt;();\r\n\r\n      GET, SET;\r\n\r\nComment.java\r\n\r\n    @Entity\r\n    @Table(name = &quot;comments&quot;)\r\n    public class Comment {\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n      private Long id;\r\n      private String text;\r\n\r\n      @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n      @JoinColumn(name = &quot;post_id&quot;, nullable = false)\r\n      private Post post;\r\n\r\n      Get, Set;\r\n\r\nPostController.java\r\n\r\nRestController\r\npublic class PostController {\r\n\r\n    @Autowired\r\n    private PostRepository postRepository;\r\n\r\n    @PostMapping(&quot;/posts&quot;)\r\n    public Post createPost(@Valid @RequestBody Post post) {\r\n        return postRepository.save(post);\r\n    }      \r\n\r\nCommentController.java\r\n\r\n    @RestController\r\n    public class CommentController {\r\n\r\n    @Autowired\r\n    private CommentRepository commentRepository;\r\n\r\n    @Autowired\r\n    private PostRepository postRepository;\r\n\r\n  \r\n    @PostMapping(&quot;/posts/{postId}/comments&quot;)\r\n    public Comment createComment(@PathVariable (value = &quot;postId&quot;) Long postId,\r\n                                 @Valid @RequestBody Comment comment) {\r\n        return postRepository.findById(postId).map(post -&gt; {\r\n            comment.setPost(post);\r\n            return commentRepository.save(comment);\r\n        }).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;PostId &quot; + postId + &quot; not found&quot;));\r\n\r\n\r\nAppreciate for the help.\r\n","title":"Error - not-null property references a null or transient value","body":"<p>I'm a newbie in Spring. I make an API that based on relationship between two tables, for that use a OneToMany annotation &amp; for API test I've postman. My aim is to save requested data in two seperate entities which are mentioned hereunder. When I try to post a data in postman:\n1-3 fields are related to Post entity whereas text field belong to Comment entity (comments is joining field)</p>\n<pre><code>{\n&quot;title&quot;: &quot;Post1&quot;,\n&quot;description&quot;: &quot;Post 1 description&quot;,\n&quot;content&quot;: &quot;Post 1 content&quot;,\n&quot;comments&quot;: [\n    {\n        &quot;text&quot;: &quot;Java best selling book&quot;\n    },\n    {\n        &quot;text&quot;: &quot;Exploring spring boot&quot;\n    }\n]\n</code></pre>\n<p>}</p>\n<p>I get an error as follows:</p>\n<pre><code>Hibernate: insert into posts (content, description, title) values (?, ?, ?)\n2021-09-01 11:55:09.786 TRACE 9884 --- [nio-8089-exec-2] o.h.type.descriptor.sql.BasicBinder      \n: binding parameter [1] as [VARCHAR] - [Post 1 content]\n2021-09-01 11:55:09.786 TRACE 9884 --- [nio-8089-exec-2] o.h.type.descriptor.sql.BasicBinder      \n: binding parameter [2] as [VARCHAR] - [Post 1 description]\n2021-09-01 11:55:09.786 TRACE 9884 --- [nio-8089-exec-2] o.h.type.descriptor.sql.BasicBinder      \n: binding parameter [3] as [VARCHAR] - [Post1]\n2021-09-01 11:55:09.815 ERROR 9884 --- [nio-8089-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    \n: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception \n[Request processing failed; nested exception is \norg.springframework.dao.DataIntegrityViolationException: not-null property references a null \nor transient value : com.techspring.entity.Comment.post; nested exception is \norg.hibernate.PropertyValueException: not-null property references a null or transient value : \ncom.techspring.entity.Comment.post] with root cause\n</code></pre>\n<p>My MVCs are as follows:</p>\n<p>Post.java</p>\n<pre><code>@Entity\n@Table(name = &quot;posts&quot;)\npublic class Post {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Long id;\n  private String title;\n  private String description;\n  private String content;\n  @OneToMany(cascade = CascadeType.ALL,\n        fetch = FetchType.LAZY,\n        mappedBy = &quot;post&quot;)\n  private Set&lt;Comment&gt; comments = new HashSet&lt;&gt;();\n\n  GET, SET;\n</code></pre>\n<p>Comment.java</p>\n<pre><code>@Entity\n@Table(name = &quot;comments&quot;)\npublic class Comment {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Long id;\n  private String text;\n\n  @ManyToOne(fetch = FetchType.LAZY, optional = false)\n  @JoinColumn(name = &quot;post_id&quot;, nullable = false)\n  private Post post;\n\n  Get, Set;\n</code></pre>\n<p>PostController.java</p>\n<p>RestController\npublic class PostController {</p>\n<pre><code>@Autowired\nprivate PostRepository postRepository;\n\n@PostMapping(&quot;/posts&quot;)\npublic Post createPost(@Valid @RequestBody Post post) {\n    return postRepository.save(post);\n}      \n</code></pre>\n<p>CommentController.java</p>\n<pre><code>@RestController\npublic class CommentController {\n\n@Autowired\nprivate CommentRepository commentRepository;\n\n@Autowired\nprivate PostRepository postRepository;\n\n\n@PostMapping(&quot;/posts/{postId}/comments&quot;)\npublic Comment createComment(@PathVariable (value = &quot;postId&quot;) Long postId,\n                             @Valid @RequestBody Comment comment) {\n    return postRepository.findById(postId).map(post -&gt; {\n        comment.setPost(post);\n        return commentRepository.save(comment);\n    }).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;PostId &quot; + postId + &quot; not found&quot;));\n</code></pre>\n<p>Appreciate for the help.</p>\n"},{"tags":["java","mongodb","spring-data-jpa"],"comments":[{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1620807233,"post_id":67499348,"comment_id":119307144,"body_markdown":"You can use BETWEEN as shown in this post: https://stackoverflow.com/questions/42189770/mongorepository-query-for-between-dates","body":"You can use BETWEEN as shown in this post: <a href=\"https://stackoverflow.com/questions/42189770/mongorepository-query-for-between-dates\" title=\"mongorepository query for between dates\">stackoverflow.com/questions/42189770/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7141303,"reputation":6626,"user_id":5458827,"accept_rate":0,"display_name":"riorio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620806803,"creation_date":1620806803,"answer_id":67499603,"question_id":67499348,"body_markdown":"To solve this there was a need to change the Spring-Data method, and to use `Between`:\r\n\r\n    Page&lt;Dog&gt; findAllByCreationDateBetween(LocalDateTime createdAfter, LocalDateTime createdBefore, Pageable pageable);","title":"Spring Data - &quot;Due to limitations of the com.mongodb.BasicDocument, you can&#39;t add a second &#39;creationDate&quot;","body":"<p>To solve this there was a need to change the Spring-Data method, and to use <code>Between</code>:</p>\n<pre><code>Page&lt;Dog&gt; findAllByCreationDateBetween(LocalDateTime createdAfter, LocalDateTime createdBefore, Pageable pageable);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27476517,"reputation":1,"user_id":20964406,"display_name":"Prakhar Tiwari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673341547,"creation_date":1673341547,"answer_id":75067669,"question_id":67499348,"body_markdown":"**FOR MULTIPLE CRITERIA YOU CAN USE COMMA...\r\n\t\r\nQuery query = new Query(\r\n\t\tCriteria.where(&quot;ip&quot;).is(ip)\r\n\t\t.andOperator(\r\n\t\t\tCriteria.where(&quot;createdDate&quot;).lt(endDate),\r\n\t\t\tCriteria.where(&quot;createdDate&quot;).gte(startDate)\r\n\t\t)\r\n\t);**\r\n","title":"Spring Data - &quot;Due to limitations of the com.mongodb.BasicDocument, you can&#39;t add a second &#39;creationDate&quot;","body":"<p>**FOR MULTIPLE CRITERIA YOU CAN USE COMMA...</p>\n<p>Query query = new Query(\nCriteria.where(&quot;ip&quot;).is(ip)\n.andOperator(\nCriteria.where(&quot;createdDate&quot;).lt(endDate),\nCriteria.where(&quot;createdDate&quot;).gte(startDate)\n)\n);**</p>\n"}],"owner":{"account_id":7141303,"reputation":6626,"user_id":5458827,"accept_rate":0,"display_name":"riorio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1093,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673341547,"creation_date":1620805802,"question_id":67499348,"body_markdown":"Working with a Spring Boot and Spring data, I have this Mongo Doc:\r\n\r\n    @Document(collection = &quot;dogs&quot;)\r\n    public class Dog{\r\n\r\n      @Id\r\n      private long dogId;\r\n      private LocalDateTime creationDate;\r\n      ...\r\n    }\r\n\r\nI added this method to the Repository:\r\n\r\n    @Repository\r\n    public interface DogRepository extends CrudRepository&lt;Dog, Long&gt;, PagingAndSortingRepository&lt;Dog, Long&gt; {\r\n\r\n\r\n        Page&lt;Dog&gt; findAllByCreationDateAfterAndCreationDateBefore(LocalDateTime createdAfter, LocalDateTime createdBefore, Pageable pageable);\r\n\r\n\r\nWhen trying to access the method in run time, I get the following error:\r\n\r\n&gt; &quot;Due to limitations of the com.mongodb.BasicDocument, you can&#39;t add a second &#39;creationDate&#39; expression specified as &#39;creationDate : Document{{$lt=2021-05-12T09:42:08.549}}&#39;. Criteria already contains &#39;creationDate : Document{{$gt=2021-05-12T09:42:07.486}}&#39;.&quot;\r\n\r\n\r\n","title":"Spring Data - &quot;Due to limitations of the com.mongodb.BasicDocument, you can&#39;t add a second &#39;creationDate&quot;","body":"<p>Working with a Spring Boot and Spring data, I have this Mongo Doc:</p>\n<pre><code>@Document(collection = &quot;dogs&quot;)\npublic class Dog{\n\n  @Id\n  private long dogId;\n  private LocalDateTime creationDate;\n  ...\n}\n</code></pre>\n<p>I added this method to the Repository:</p>\n<pre><code>@Repository\npublic interface DogRepository extends CrudRepository&lt;Dog, Long&gt;, PagingAndSortingRepository&lt;Dog, Long&gt; {\n\n\n    Page&lt;Dog&gt; findAllByCreationDateAfterAndCreationDateBefore(LocalDateTime createdAfter, LocalDateTime createdBefore, Pageable pageable);\n</code></pre>\n<p>When trying to access the method in run time, I get the following error:</p>\n<blockquote>\n<p>&quot;Due to limitations of the com.mongodb.BasicDocument, you can't add a second 'creationDate' expression specified as 'creationDate : Document{{$lt=2021-05-12T09:42:08.549}}'. Criteria already contains 'creationDate : Document{{$gt=2021-05-12T09:42:07.486}}'.&quot;</p>\n</blockquote>\n"},{"tags":["java","spring","spring-boot","config"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1673333806,"post_id":75066433,"comment_id":132469235,"body_markdown":"Did you try `FileInputStream`/`FileReader`?","body":"Did you try <code>FileInputStream</code>/<code>FileReader</code>?"},{"owner":{"account_id":27485249,"reputation":11,"user_id":20971616,"display_name":"EV Experience"},"score":0,"creation_date":1673334300,"post_id":75066433,"comment_id":132469346,"body_markdown":"I have tried this - ```String s = new String(Files.readAllBytes(Paths.get(&quot;test.pem&quot;)));\n\t\t\tSystem.out.println(&quot;s=&quot; + s);```.   -&gt; it gives me no such file exception --&gt; Caused by: java.nio.file.NoSuchFileException: test.pem---&gt; I don&#39;t want to give full absolute path since my requirement is to read from directory which is in the root of my spring boot folder","body":"I have tried this - <code>String s = new String(Files.readAllBytes(Paths.get(&quot;test.pem&quot;))); \t\t\tSystem.out.println(&quot;s=&quot; + s);</code>.   -&gt; it gives me no such file exception --&gt; Caused by: java.nio.file.NoSuchFileException: test.pem---&gt; I don&#39;t want to give full absolute path since my requirement is to read from directory which is in the root of my spring boot folder"},{"owner":{"account_id":13692434,"reputation":478,"user_id":9879898,"display_name":"sge"},"score":0,"creation_date":1673334515,"post_id":75066433,"comment_id":132469392,"body_markdown":"Did you try:\n    FileSystemResource resource = new FileSystemResource(&quot;test.pem&quot;);\n    IOUtils.toString(resource.getInputStream(), StandardCharsets.UTF_8);\n\nsee also https://www.baeldung.com/spring-properties-file-outside-jar","body":"Did you try:     FileSystemResource resource = new FileSystemResource(&quot;test.pem&quot;);     IOUtils.toString(resource.getInputStream(), StandardCharsets.UTF_8);  see also <a href=\"https://www.baeldung.com/spring-properties-file-outside-jar\" rel=\"nofollow noreferrer\">baeldung.com/spring-properties-file-outside-jar</a>"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1673334593,"post_id":75066433,"comment_id":132469409,"body_markdown":"What bothers me is that OP is able to use IOC container like Spring with a deep understanding of how its external configuration works (profiles, additional-location etc) and yet does not know the very bacis like reading files. How come?","body":"What bothers me is that OP is able to use IOC container like Spring with a deep understanding of how its external configuration works (profiles, additional-location etc) and yet does not know the very bacis like reading files. How come?"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1673334697,"post_id":75066433,"comment_id":132469429,"body_markdown":"Have you tried using absolute path to the file? Most probably relative path `test.pem` is not pointing to the place you think it does.","body":"Have you tried using absolute path to the file? Most probably relative path <code>test.pem</code> is not pointing to the place you think it does."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1673335153,"post_id":75066433,"comment_id":132469548,"body_markdown":"Where is the `test.pem` file located? Where is the application (JAR) located? What location are you running the `java` command from?","body":"Where is the <code>test.pem</code> file located? Where is the application (JAR) located? What location are you running the <code>java</code> command from?"},{"owner":{"account_id":27485249,"reputation":11,"user_id":20971616,"display_name":"EV Experience"},"score":0,"creation_date":1673340574,"post_id":75066433,"comment_id":132471050,"body_markdown":"rather than this , how can I pass the entire pem file in some arguement let&#39;s say ```-DmyPem=/location/test.pem``` and then read this pem file in my code. how can I achieve this ? any idea and then I ll run my jar file like this ```java -jar myjar.jar -DmyPem=/location/test.pem```","body":"rather than this , how can I pass the entire pem file in some arguement let&#39;s say <code>-DmyPem=&#47;location&#47;test.pem</code> and then read this pem file in my code. how can I achieve this ? any idea and then I ll run my jar file like this <code>java -jar myjar.jar -DmyPem=&#47;location&#47;test.pem</code>"}],"answers":[{"tags":[],"owner":{"account_id":447545,"reputation":2029,"user_id":841221,"accept_rate":75,"display_name":"Aakash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673335169,"creation_date":1673335169,"answer_id":75066653,"question_id":75066433,"body_markdown":"As far as I understand, **-Dspring.config.additional-location** reads any **property** file or equivalent of it. *.pem files are not equivalent of property files so they should be ignored. [Read Spring documentation][1]\r\n\r\nWhat you should do instead, put a property in your property file specifying your .pem file location and later, use that property to read the contents of your .pem file in whatever format seems fit to you.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.1.9.RELEASE/reference/html/boot-features-external-config.html","title":"Cannot read file from config in spring boot","body":"<p>As far as I understand, <strong>-Dspring.config.additional-location</strong> reads any <strong>property</strong> file or equivalent of it. *.pem files are not equivalent of property files so they should be ignored. <a href=\"https://docs.spring.io/spring-boot/docs/2.1.9.RELEASE/reference/html/boot-features-external-config.html\" rel=\"nofollow noreferrer\">Read Spring documentation</a></p>\n<p>What you should do instead, put a property in your property file specifying your .pem file location and later, use that property to read the contents of your .pem file in whatever format seems fit to you.</p>\n"}],"owner":{"account_id":27485249,"reputation":11,"user_id":20971616,"display_name":"EV Experience"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673341321,"creation_date":1673333660,"question_id":75066433,"body_markdown":"I am working on spring boot app and in my config file I have couple o file and I want to read them. so I have tried below stuffs.\r\n\r\n```\r\n-Dspring.profiles.active=local -Dserver.port=8080 -Dajp.port=0 -Dspring.datasource.url=jdbc:oracle:thin:@localhost:1521:OraDoc -Dspring.datasource.username=system -Dspring.datasource.password=MyPasswd123 -Dspring.config.additional-location=file:/Users/bharatsuthar/HGW/codebaseDevelopmentRepo1/data-generation-tool/rdk-factory-data-config/ -Dlogging.config=file:/Users/bharatsuthar/HGW/codebaseDevelopmentRepo1/data-generation-tool/rdk-factory-data-config/logback-spring.xml\r\n```\r\n\r\nI am able to read all files since spring is supporting this by using **-Dspring.config.additional-location** but I am not sure how to read **test.pem** file in my java code as a String only.\r\n\r\nbelow is my test.pem file location under **rdk-factory-data-config directory**\r\n\r\n[location of test pem file]\r\n(https://i.stack.imgur.com/4T0Y8.png)\r\n\r\nI tried with **-Dspring.config.additional-location** here i am able to read file like application.yml and application-dev.yml but how can I read the **test.pem** file to String in my java code.\r\nI want to read pem file into String so that I can read the data in my spring boot app.\r\n\r\ncontent of pem file :\r\n\r\n```\r\n-----BEGIN CERTIFICATE-----\r\nMIIChjCCAg2gAwIBAgIQKgFtzZclg1CxcBAHZDc2cTAKBggqhkjOPQQDAzAzMQsw\r\nCQYDVQQGEwJTSzEUMBIGA1UEChMLUkRLIEZhY3RvcnkxDjAMBgNVBAMTBVNLIFIx\r\nMB4XDTIyMTAxMzA5MDAzMloXDTQ3MTAxMzIzNTk1OVowMzELMAkGA1UEBhMCU0sx\r\nFDASBgNVBAoTC1JESyBGYWN0b3J5MQ4wDAYDVQQDEwVTSyBDMTB2MBAGByqGSM49\r\nAgEGBSuBBAAiA2IABDSRscO50mm3uzavmLTS2DEw/J/1dRp5nmyWJNMp+B0/w5y7\r\nAAvOLtcJDpulCFCXa/UhEfvbGEVvDtS9jY75YtOqvQkPIIuE6IUC6kyTXZaPOe+3\r\nWwYbzYxpOXuMDOzZbaOB5TCB4jAOBgNVHQ8BAf8EBAMCAQYwHQYDVR0OBBYEFJJS\r\njPquJiIZ49geOU/NCAsvRaPOMB8GA1UdIwQYMBaAFPS8o9tW37TZ6W+OKy7hznHt\r\nFR0dMBIGA1UdEwEB/wQIMAYBAf8CAQAwNwYDVR0fBDAwLjAsoCqgKIYmaHR0cDov\r\nL2NybC5yZGsudGVsZXNlasdfasdfsYy5kZS9ybC9TS19SMS5jcmwwQwYIKwYBBQUHAQEENzA1\r\nMDMGCCsGAQUFBzAqwrrewrChidodHRwOi8vY3J0LnJkay50ZWxlc2VjLmRlL2NydC9TS19S\r\nMS5jcnQwCgYIKoZIzj0EAwMDZwAwZAIwITubLwiMJ6KpTmyI41kOcCd3VzjbdPsx\r\nNB3RZIBf4o3BYBzT1FQqbXvnYHsEGX/oAjAm8cTa9+tcLrrxN/RGwr53apg6FYlz\r\nxRKbLjARTg/dFAn4W0w59XZXJ/fBZ4F6m5A=\r\n-----END CERTIFICATE-----\r\n```\r\nI have tried this - \r\n```\r\nString s = new String(Files.readAllBytes(Paths.get(&quot;test.pem&quot;))); \t\t\tSystem.out.println(&quot;s=&quot; + s);\r\n```\r\n -&gt; it gives me no such file exception --&gt;\r\n```\r\nCaused by: java.nio.file.NoSuchFileException: test.pem\r\n```\r\n---&gt; I don&#39;t want to give full absolute path since my requirement is to read from directory which is in the root of my spring boot folder\r\n\r\nthank you so much","title":"Cannot read file from config in spring boot","body":"<p>I am working on spring boot app and in my config file I have couple o file and I want to read them. so I have tried below stuffs.</p>\n<pre><code>-Dspring.profiles.active=local -Dserver.port=8080 -Dajp.port=0 -Dspring.datasource.url=jdbc:oracle:thin:@localhost:1521:OraDoc -Dspring.datasource.username=system -Dspring.datasource.password=MyPasswd123 -Dspring.config.additional-location=file:/Users/bharatsuthar/HGW/codebaseDevelopmentRepo1/data-generation-tool/rdk-factory-data-config/ -Dlogging.config=file:/Users/bharatsuthar/HGW/codebaseDevelopmentRepo1/data-generation-tool/rdk-factory-data-config/logback-spring.xml\n</code></pre>\n<p>I am able to read all files since spring is supporting this by using <strong>-Dspring.config.additional-location</strong> but I am not sure how to read <strong>test.pem</strong> file in my java code as a String only.</p>\n<p>below is my test.pem file location under <strong>rdk-factory-data-config directory</strong></p>\n<p>[location of test pem file]\n(<a href=\"https://i.stack.imgur.com/4T0Y8.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/4T0Y8.png</a>)</p>\n<p>I tried with <strong>-Dspring.config.additional-location</strong> here i am able to read file like application.yml and application-dev.yml but how can I read the <strong>test.pem</strong> file to String in my java code.\nI want to read pem file into String so that I can read the data in my spring boot app.</p>\n<p>content of pem file :</p>\n<pre><code>-----BEGIN CERTIFICATE-----\nMIIChjCCAg2gAwIBAgIQKgFtzZclg1CxcBAHZDc2cTAKBggqhkjOPQQDAzAzMQsw\nCQYDVQQGEwJTSzEUMBIGA1UEChMLUkRLIEZhY3RvcnkxDjAMBgNVBAMTBVNLIFIx\nMB4XDTIyMTAxMzA5MDAzMloXDTQ3MTAxMzIzNTk1OVowMzELMAkGA1UEBhMCU0sx\nFDASBgNVBAoTC1JESyBGYWN0b3J5MQ4wDAYDVQQDEwVTSyBDMTB2MBAGByqGSM49\nAgEGBSuBBAAiA2IABDSRscO50mm3uzavmLTS2DEw/J/1dRp5nmyWJNMp+B0/w5y7\nAAvOLtcJDpulCFCXa/UhEfvbGEVvDtS9jY75YtOqvQkPIIuE6IUC6kyTXZaPOe+3\nWwYbzYxpOXuMDOzZbaOB5TCB4jAOBgNVHQ8BAf8EBAMCAQYwHQYDVR0OBBYEFJJS\njPquJiIZ49geOU/NCAsvRaPOMB8GA1UdIwQYMBaAFPS8o9tW37TZ6W+OKy7hznHt\nFR0dMBIGA1UdEwEB/wQIMAYBAf8CAQAwNwYDVR0fBDAwLjAsoCqgKIYmaHR0cDov\nL2NybC5yZGsudGVsZXNlasdfasdfsYy5kZS9ybC9TS19SMS5jcmwwQwYIKwYBBQUHAQEENzA1\nMDMGCCsGAQUFBzAqwrrewrChidodHRwOi8vY3J0LnJkay50ZWxlc2VjLmRlL2NydC9TS19S\nMS5jcnQwCgYIKoZIzj0EAwMDZwAwZAIwITubLwiMJ6KpTmyI41kOcCd3VzjbdPsx\nNB3RZIBf4o3BYBzT1FQqbXvnYHsEGX/oAjAm8cTa9+tcLrrxN/RGwr53apg6FYlz\nxRKbLjARTg/dFAn4W0w59XZXJ/fBZ4F6m5A=\n-----END CERTIFICATE-----\n</code></pre>\n<p>I have tried this -</p>\n<pre><code>String s = new String(Files.readAllBytes(Paths.get(&quot;test.pem&quot;)));           System.out.println(&quot;s=&quot; + s);\n</code></pre>\n<p>-&gt; it gives me no such file exception --&gt;</p>\n<pre><code>Caused by: java.nio.file.NoSuchFileException: test.pem\n</code></pre>\n<p>---&gt; I don't want to give full absolute path since my requirement is to read from directory which is in the root of my spring boot folder</p>\n<p>thank you so much</p>\n"},{"tags":["java","spring","spring-boot","java-8","tls1.3"],"owner":{"account_id":8984672,"reputation":7,"user_id":6698605,"display_name":"shagun dhiman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1084,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673341140,"creation_date":1670394964,"question_id":74712636,"body_markdown":"How to configure TLSv1.3 in java spring application? \r\nJdk 8 support 1.3 version of TLS and also has the backward compatibility.\r\nCan anyone please help?\r\n\r\n","title":"How to enable TLSv1.3 in jdk 8 by default?","body":"<p>How to configure TLSv1.3 in java spring application?\nJdk 8 support 1.3 version of TLS and also has the backward compatibility.\nCan anyone please help?</p>\n"},{"tags":["java","postgresql","plpgsql","jdbctemplate"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1432717445,"post_id":30477741,"comment_id":49034734,"body_markdown":"`BYTEA[]`?? an *array* of blobs? Are you sure you want to pass **multiple** BLOB values into that function? Each one potentially 2GB in size?","body":"<code>BYTEA[]</code>?? an <i>array</i> of blobs? Are you sure you want to pass <b>multiple</b> BLOB values into that function? Each one potentially 2GB in size?"},{"owner":{"account_id":3737361,"reputation":479,"user_id":3108006,"accept_rate":38,"display_name":"Qeychon"},"score":0,"creation_date":1432717937,"post_id":30477741,"comment_id":49035054,"body_markdown":"Yes, the BLOB is an encrypted string, so the datas are not very big.","body":"Yes, the BLOB is an encrypted string, so the datas are not very big."}],"answers":[{"tags":[],"owner":{"account_id":11711219,"reputation":497,"user_id":8573084,"display_name":"manikanta nvsr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673340651,"creation_date":1673340651,"answer_id":75067524,"question_id":30477741,"body_markdown":"Use keyword **VARIADIC** in the function definition for array parameter.\r\n\r\n    CREATE OR REPLACE FUNCTION create_workflow_archive(VARCHAR(6), VARIADIC BYTEA[]) RETURNS SETOF TEXT\r\n\r\nThe sql statement changes as:\r\n\r\n    String sql = &quot;SELECT * FROM create_workflow_archive(:mid, :datas)&quot;;\r\n\r\nReference:\r\nhttps://www.postgresonline.com/journal/archives/211-Variadic-Functions-in-PostgreSQL.html\r\n","title":"Call a PL/pgSQL function with NamedParameterJdbcTemplate","body":"<p>Use keyword <strong>VARIADIC</strong> in the function definition for array parameter.</p>\n<pre><code>CREATE OR REPLACE FUNCTION create_workflow_archive(VARCHAR(6), VARIADIC BYTEA[]) RETURNS SETOF TEXT\n</code></pre>\n<p>The sql statement changes as:</p>\n<pre><code>String sql = &quot;SELECT * FROM create_workflow_archive(:mid, :datas)&quot;;\n</code></pre>\n<p>Reference:\n<a href=\"https://www.postgresonline.com/journal/archives/211-Variadic-Functions-in-PostgreSQL.html\" rel=\"nofollow noreferrer\">https://www.postgresonline.com/journal/archives/211-Variadic-Functions-in-PostgreSQL.html</a></p>\n"}],"owner":{"account_id":3737361,"reputation":479,"user_id":3108006,"accept_rate":38,"display_name":"Qeychon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":885,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673340651,"creation_date":1432717232,"question_id":30477741,"body_markdown":"i have a PL/pgSQL function with following function head:\r\n\r\n    CREATE OR REPLACE FUNCTION create_workflow_archive(VARCHAR(6),BYTEA[]) RETURNS SETOF TEXT\r\nThe function was tested successfully.\r\nSo i want to call the function with the NamedParameterJdbcTemplate of the spring framework. My java code is following:\r\n\r\n        String mId; List&lt;byte[]&gt; datas; // Has a valid value\r\n        String sql = &quot;SELECT * FROM create_workflow_archive(:mid, ARRAY[:datas])&quot;;\r\n        NamedParameterJdbcTemplate createArchive = new NamedParameterJdbcTemplate(this.dataSource);\r\n        MapSqlParameterSource parameters = new MapSqlParameterSource();\r\n        parameters.addValue(&quot;mid&quot;, mId, Types.VARCHAR);\r\n        parameters.addValue(&quot;datas&quot;, datas);\r\n        return createArchive.query(sql, parameters, new RowMapper&lt;UUID&gt;() {\r\n            public UUID mapRow(ResultSet resultSet, int i) throws SQLException {\r\n                return UUID.fromString(resultSet.getString(&quot;data&quot;));\r\n            }\r\n        });\r\n\r\nbut I received the exception:\r\n\r\n    org.springframework.dao.InvalidDataAccessApiUsageException: No value supplied for the SQL parameter &#39;datas]&#39;: No value registered for key &#39;datas]&#39;\r\n\r\nHow is the right syntax for the JdbcTemplate call of a PL/pgSQL function?","title":"Call a PL/pgSQL function with NamedParameterJdbcTemplate","body":"<p>i have a PL/pgSQL function with following function head:</p>\n\n<pre><code>CREATE OR REPLACE FUNCTION create_workflow_archive(VARCHAR(6),BYTEA[]) RETURNS SETOF TEXT\n</code></pre>\n\n<p>The function was tested successfully.\nSo i want to call the function with the NamedParameterJdbcTemplate of the spring framework. My java code is following:</p>\n\n<pre><code>    String mId; List&lt;byte[]&gt; datas; // Has a valid value\n    String sql = \"SELECT * FROM create_workflow_archive(:mid, ARRAY[:datas])\";\n    NamedParameterJdbcTemplate createArchive = new NamedParameterJdbcTemplate(this.dataSource);\n    MapSqlParameterSource parameters = new MapSqlParameterSource();\n    parameters.addValue(\"mid\", mId, Types.VARCHAR);\n    parameters.addValue(\"datas\", datas);\n    return createArchive.query(sql, parameters, new RowMapper&lt;UUID&gt;() {\n        public UUID mapRow(ResultSet resultSet, int i) throws SQLException {\n            return UUID.fromString(resultSet.getString(\"data\"));\n        }\n    });\n</code></pre>\n\n<p>but I received the exception:</p>\n\n<pre><code>org.springframework.dao.InvalidDataAccessApiUsageException: No value supplied for the SQL parameter 'datas]': No value registered for key 'datas]'\n</code></pre>\n\n<p>How is the right syntax for the JdbcTemplate call of a PL/pgSQL function?</p>\n"},{"tags":["java","hibernate","junit5","entitymanager","hibernate-envers"],"comments":[{"owner":{"account_id":5255222,"reputation":573,"user_id":4198317,"display_name":"St&#233;phane Jeandeaux"},"score":0,"creation_date":1672778108,"post_id":74928742,"comment_id":132349734,"body_markdown":"Does ObjectRollbackServiceImpl contain constructor or setters to inject the mocks?\n \nhttps://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/InjectMocks.html","body":"Does ObjectRollbackServiceImpl contain constructor or setters to inject the mocks?   <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/InjectMocks.html\" rel=\"nofollow noreferrer\">javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/&hellip;</a>"},{"owner":{"account_id":5255222,"reputation":573,"user_id":4198317,"display_name":"St&#233;phane Jeandeaux"},"score":0,"creation_date":1672778691,"post_id":74928742,"comment_id":132349887,"body_markdown":"With this code, it seems difficult to have auditReader as a mock in  ObjectRollbackServiceImpl","body":"With this code, it seems difficult to have auditReader as a mock in  ObjectRollbackServiceImpl"}],"answers":[{"tags":[],"owner":{"account_id":9176602,"reputation":26,"user_id":14393863,"display_name":"hariprasad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672829835,"creation_date":1672829835,"answer_id":75004394,"question_id":74928742,"body_markdown":"you autowired the entityManager. when you apply @PersistenceUnit on entityManager fields it tries to create the real instance. But we need a mock instance. Apply @Mock and try.","title":"Junit Test with envers","body":"<p>you autowired the entityManager. when you apply @PersistenceUnit on entityManager fields it tries to create the real instance. But we need a mock instance. Apply @Mock and try.</p>\n"},{"tags":[],"owner":{"account_id":4286286,"reputation":783,"user_id":3503970,"accept_rate":100,"display_name":"Alex Blasco"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673191444,"creation_date":1673016713,"answer_id":75032490,"question_id":74928742,"body_markdown":"You are using `@AllArgsConstructor` so it is creating behind the scenes a constructor with the following signature:\r\n\r\n    ObjectRollbackServiceImpl(EntityManager entityManager,\r\n                              ObjectRollbackRepository objectRollbackRepository)\r\n\r\n\r\nSo when you use `@InjectMocks` it expects you to mock the parameters of the constructor:\r\n\r\n\r\n    @Mock\r\n    EntityManager entityManager;\r\n    @Mock\r\n    ObjectRollbackRepository objectRollbackRepository;\r\n    @InjectMocks\r\n    ObjectRollbackServiceImpl objectRollbackServiceImpl;","title":"Junit Test with envers","body":"<p>You are using <code>@AllArgsConstructor</code> so it is creating behind the scenes a constructor with the following signature:</p>\n<pre><code>ObjectRollbackServiceImpl(EntityManager entityManager,\n                          ObjectRollbackRepository objectRollbackRepository)\n</code></pre>\n<p>So when you use <code>@InjectMocks</code> it expects you to mock the parameters of the constructor:</p>\n<pre><code>@Mock\nEntityManager entityManager;\n@Mock\nObjectRollbackRepository objectRollbackRepository;\n@InjectMocks\nObjectRollbackServiceImpl objectRollbackServiceImpl;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1387645,"reputation":7926,"user_id":1319284,"accept_rate":69,"display_name":"kutschkem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673340536,"creation_date":1673340536,"answer_id":75067491,"question_id":74928742,"body_markdown":"You can try mocking `AuditReaderFactory.get` to give you the mocked AuditReader instance.\r\n\r\nSee [this question][1] with its answers for further reference.\r\n\r\n\r\nSo, in your case it could look something like this (code adapted from one of the answers to the other question):\r\n\r\n```\r\n  @Test\r\n  public void testStaticMockWithVerification() {\r\n    try (MockedStatic&lt;AuditReaderFactory&gt; dummy = Mockito.mockStatic(AuditReaderFactory.class)) {\r\n      dummy.when(() -&gt; AuditReaderFactory.get(Mockito.any(EntityManager.class)))\r\n        .thenReturn(auditReader);\r\n\r\n      factory.getConnection();\r\n\r\n    }\r\n  }\r\n```\r\n\r\nAnd instead of using the @Mock annotation, probably create the Mock ObjectRollbackServiceImpl instance in some setup method or static initialization block, so you can set this static mock up beforehand.\r\n\r\n  [1]: https://stackoverflow.com/q/21105403/1319284","title":"Junit Test with envers","body":"<p>You can try mocking <code>AuditReaderFactory.get</code> to give you the mocked AuditReader instance.</p>\n<p>See <a href=\"https://stackoverflow.com/q/21105403/1319284\">this question</a> with its answers for further reference.</p>\n<p>So, in your case it could look something like this (code adapted from one of the answers to the other question):</p>\n<pre><code>  @Test\n  public void testStaticMockWithVerification() {\n    try (MockedStatic&lt;AuditReaderFactory&gt; dummy = Mockito.mockStatic(AuditReaderFactory.class)) {\n      dummy.when(() -&gt; AuditReaderFactory.get(Mockito.any(EntityManager.class)))\n        .thenReturn(auditReader);\n\n      factory.getConnection();\n\n    }\n  }\n</code></pre>\n<p>And instead of using the @Mock annotation, probably create the Mock ObjectRollbackServiceImpl instance in some setup method or static initialization block, so you can set this static mock up beforehand.</p>\n"}],"owner":{"account_id":9248229,"reputation":137,"user_id":6869483,"display_name":"Rachel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":568,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75067491,"answer_count":3,"score":2,"last_activity_date":1673340536,"creation_date":1672140808,"question_id":74928742,"body_markdown":"I &#39;ve trying to test a service which uses hibernate envers to perform a rollback. Everything is working fine but the test is driving me mad. \r\n\r\nThis is the beginning of the service:\r\n```\r\n@Slf4j\r\n@AllArgsConstructor\r\n@Service\r\npublic class ObjectRollbackServiceImpl implements ObjectRollbackService {\r\n\r\n  @Autowired\r\n  private EntityManager entityManager;\r\n\r\n  @Autowired private ObjectRollbackRepository objectRollbackRepository;\r\n\r\n  private void restorePreviousVersionOfObject(Long id, Boolean isDelete) {\r\n\r\n    AuditReader auditReader = AuditReaderFactory.get(entityManager);\r\n\r\n    List&lt;Number&gt; revNumbers = auditReader.getRevisions(ObjectEntity.class, id); \r\n```\r\n\r\nAnd this is the test:\r\n\r\n\r\n```\r\nclass ObjectRollbackServiceTests {\r\n\r\n  private static final Long objectId = 1L;\r\n  @InjectMocks\r\n  ObjectRollbackServiceImpl objectRollbackServiceImpl;\r\n  @Mock\r\n  ObjectRollbackRepository objectRollbackRepository;\r\n\r\n  @PersistenceUnit\r\n  private EntityManagerFactory entityManagerFactory;\r\n\r\n\r\n  @Mock\r\n  AuditReader auditReader;\r\n\r\n\r\n  @BeforeEach\r\n  void setUp() throws Exception {\r\n    MockitoAnnotations.openMocks(this);\r\n\r\n  }\r\n\r\n  @Test\r\n  void testRestorePreviousVersionOfEditedObjectOk() {\r\n    ObjectEntity object = ObjectEntity.builder().build();\r\n    List&lt;Number&gt; listRevisions = Lists.newArrayList();\r\n    listRevisions.add(1);\r\n\r\n    when(auditReader.getRevisions(any(), any(Long.class))).thenReturn(listRevisions);\r\n    when(auditReader.find(any(), any(Long.class), any(Number.class))).thenReturn(object);\r\n    when(objectRollbackRepository.findById(any(Long.class))).thenReturn(Optional.of(object));\r\n    when(objectRollbackRepository.saveAndFlush(any(ObjectEntity.class))).thenReturn(object);\r\n    doNothing().when(objectRollbackRepository).updateAuditDates(any(ZonedDateTime.class)\r\n    , any(Integer.class)\r\n    , any(AuditorBO.class)\r\n    , any(Long.class));\r\n\r\n    doNothing().when(objectRollbackRepository).deleteRevisionsNotEqualsToCurrentAndPrevious(any(Integer.class), any(Long.class));\r\n\r\n    assertDoesNotThrow(() -&gt; objectRollbackServiceImpl.restorePreviousVersionOfEditedObject(1L));\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n}\r\n```\r\n\r\nSo the problem is that entityManager is null when trying to execute this line:\r\n\r\nAuditReader auditReader = AuditReaderFactory.get(entityManager);\r\n\r\n\r\nWhat am I missing?\r\n\r\n","title":"Junit Test with envers","body":"<p>I 've trying to test a service which uses hibernate envers to perform a rollback. Everything is working fine but the test is driving me mad.</p>\n<p>This is the beginning of the service:</p>\n<pre><code>@Slf4j\n@AllArgsConstructor\n@Service\npublic class ObjectRollbackServiceImpl implements ObjectRollbackService {\n\n  @Autowired\n  private EntityManager entityManager;\n\n  @Autowired private ObjectRollbackRepository objectRollbackRepository;\n\n  private void restorePreviousVersionOfObject(Long id, Boolean isDelete) {\n\n    AuditReader auditReader = AuditReaderFactory.get(entityManager);\n\n    List&lt;Number&gt; revNumbers = auditReader.getRevisions(ObjectEntity.class, id); \n</code></pre>\n<p>And this is the test:</p>\n<pre><code>class ObjectRollbackServiceTests {\n\n  private static final Long objectId = 1L;\n  @InjectMocks\n  ObjectRollbackServiceImpl objectRollbackServiceImpl;\n  @Mock\n  ObjectRollbackRepository objectRollbackRepository;\n\n  @PersistenceUnit\n  private EntityManagerFactory entityManagerFactory;\n\n\n  @Mock\n  AuditReader auditReader;\n\n\n  @BeforeEach\n  void setUp() throws Exception {\n    MockitoAnnotations.openMocks(this);\n\n  }\n\n  @Test\n  void testRestorePreviousVersionOfEditedObjectOk() {\n    ObjectEntity object = ObjectEntity.builder().build();\n    List&lt;Number&gt; listRevisions = Lists.newArrayList();\n    listRevisions.add(1);\n\n    when(auditReader.getRevisions(any(), any(Long.class))).thenReturn(listRevisions);\n    when(auditReader.find(any(), any(Long.class), any(Number.class))).thenReturn(object);\n    when(objectRollbackRepository.findById(any(Long.class))).thenReturn(Optional.of(object));\n    when(objectRollbackRepository.saveAndFlush(any(ObjectEntity.class))).thenReturn(object);\n    doNothing().when(objectRollbackRepository).updateAuditDates(any(ZonedDateTime.class)\n    , any(Integer.class)\n    , any(AuditorBO.class)\n    , any(Long.class));\n\n    doNothing().when(objectRollbackRepository).deleteRevisionsNotEqualsToCurrentAndPrevious(any(Integer.class), any(Long.class));\n\n    assertDoesNotThrow(() -&gt; objectRollbackServiceImpl.restorePreviousVersionOfEditedObject(1L));\n\n\n  }\n\n\n\n}\n</code></pre>\n<p>So the problem is that entityManager is null when trying to execute this line:</p>\n<p>AuditReader auditReader = AuditReaderFactory.get(entityManager);</p>\n<p>What am I missing?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":26782616,"reputation":313,"user_id":20377250,"display_name":"Alex_X1"},"score":0,"creation_date":1673339640,"post_id":75067313,"comment_id":132470755,"body_markdown":"Please provide the code causing the error.","body":"Please provide the code causing the error."},{"owner":{"account_id":27485740,"reputation":1,"user_id":20972032,"display_name":"duncan_89"},"score":0,"creation_date":1673340359,"post_id":75067313,"comment_id":132470967,"body_markdown":"I&#39;ve add info above","body":"I&#39;ve add info above"},{"owner":{"account_id":22443986,"reputation":2042,"user_id":16648127,"display_name":"Enfield Li"},"score":0,"creation_date":1673343273,"post_id":75067313,"comment_id":132471903,"body_markdown":"Plz post the repository file","body":"Plz post the repository file"}],"owner":{"account_id":27485740,"reputation":1,"user_id":20972032,"display_name":"duncan_89"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673340212,"creation_date":1673339484,"question_id":75067313,"body_markdown":"I&#39;m working on a Spring Boot project. I got a weird error when I start AppRun\r\nBelow is the error:\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;xxManagerFactory&#39; defined in class path resource [xxDataSourceConfig.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;refreshEventListener&#39; defined in class path resource [org/springframework/cloud/autoconfigure/RefreshAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;refreshEventListener&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;configDataContextRefresher&#39; defined in class path resource [org/springframework/cloud/autoconfigure/RefreshAutoConfiguration.class]: Post-processing of merged bean definition failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.context.refresh.ConfigDataContextRefresher] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@3b192d32]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)\r\n\t\r\n```\r\n[enter image description here][1]\r\n\r\n\r\nI&#39;ve checked springboot version and spring cloud version:\r\n\r\n```\r\n&lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.6.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n&lt;/parent&gt;\r\n\r\n&lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;Hoxton.SR3&lt;/version&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n```\r\n\r\nI can build jar file, but I can not run the service.\r\nPlease Help! THanks a lot!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3ZBbi.png","title":"Springboot AppRun failed:Error creating bean with name &#39;configDataContextRefresher&#39;","body":"<p>I'm working on a Spring Boot project. I got a weird error when I start AppRun\nBelow is the error:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'xxManagerFactory' defined in class path resource [xxDataSourceConfig.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'refreshEventListener' defined in class path resource [org/springframework/cloud/autoconfigure/RefreshAutoConfiguration.class]: Unsatisfied dependency expressed through method 'refreshEventListener' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'configDataContextRefresher' defined in class path resource [org/springframework/cloud/autoconfigure/RefreshAutoConfiguration.class]: Post-processing of merged bean definition failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.context.refresh.ConfigDataContextRefresher] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@3b192d32]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)\n    \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/3ZBbi.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I've checked springboot version and spring cloud version:</p>\n<pre><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.6.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt;\n&lt;/parent&gt;\n\n&lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;Hoxton.SR3&lt;/version&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n</code></pre>\n<p>I can build jar file, but I can not run the service.\nPlease Help! THanks a lot!</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":16795084,"reputation":232,"user_id":12141701,"display_name":"lukwas"},"score":1,"creation_date":1673274693,"post_id":75058716,"comment_id":132455622,"body_markdown":"best way to check is to set breakepoint and run app in debug","body":"best way to check is to set breakepoint and run app in debug"}],"owner":{"account_id":8742745,"reputation":93,"user_id":6540440,"display_name":"Manish Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673340106,"creation_date":1673274539,"question_id":75058716,"body_markdown":"In spring security, I created my own ```customAuthenticationprovider```. when i call ```auth.authenticationProvider(customAuthenticationProvider)``` it should call the ```authenticate()``` present inside the ```customAuthenticationprovider``` class right. But there is no such flow i am able to figure out where it is calling the ```authenticate``` method.\r\nAll i want to know how ```authenticate()``` method get called. I know it is ```authenticationProvider``` which is making call to authenticate but how and where is the code?\r\n\r\n```\r\n @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) {\r\n        auth.authenticationProvider(customAuthenticationProvider);\r\n    }\r\n\r\n```\r\n\r\nMy \r\n\r\n```\r\n@Component\r\npublic class CustomAuthenticationProvider implements AuthenticationProvider {\r\n\r\n    @Autowired\r\n    private UserDetailsService userDetailsService;\r\n\r\n    @Autowired\r\n    private PasswordEncoder passwordEncoder;\r\n\r\n    @Override\r\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n        String username = authentication.getName();\r\n        String password = String.valueOf(authentication.getCredentials());\r\n        UserDetails ud = userDetailsService.loadUserByUsername(username); // our own userDetailService is being used.\r\n        if (ud != null) {\r\n            if (passwordEncoder.matches(ud.getPassword(), password)) {  // our own passwordEncoder is being used.\r\n                var a = new UsernamePasswordAuthenticationToken(username, password, ud.getAuthorities());\r\n                return a;\r\n            }\r\n        }\r\n        throw new BadCredentialsException(&quot;Error!&quot;);\r\n    }\r\n\r\n    @Override\r\n    public boolean supports(Class&lt;?&gt; authType) {\r\n        return UsernamePasswordAuthenticationToken.class.equals(authType);\r\n    }\r\n}\r\n```","title":"How Authenticate() method get called in AuthenticationProvider class in Spring security?","body":"<p>In spring security, I created my own <code>customAuthenticationprovider</code>. when i call <code>auth.authenticationProvider(customAuthenticationProvider)</code> it should call the <code>authenticate()</code> present inside the <code>customAuthenticationprovider</code> class right. But there is no such flow i am able to figure out where it is calling the <code>authenticate</code> method.\nAll i want to know how <code>authenticate()</code> method get called. I know it is <code>authenticationProvider</code> which is making call to authenticate but how and where is the code?</p>\n<pre><code> @Override\n    protected void configure(AuthenticationManagerBuilder auth) {\n        auth.authenticationProvider(customAuthenticationProvider);\n    }\n\n</code></pre>\n<p>My</p>\n<pre><code>@Component\npublic class CustomAuthenticationProvider implements AuthenticationProvider {\n\n    @Autowired\n    private UserDetailsService userDetailsService;\n\n    @Autowired\n    private PasswordEncoder passwordEncoder;\n\n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n        String username = authentication.getName();\n        String password = String.valueOf(authentication.getCredentials());\n        UserDetails ud = userDetailsService.loadUserByUsername(username); // our own userDetailService is being used.\n        if (ud != null) {\n            if (passwordEncoder.matches(ud.getPassword(), password)) {  // our own passwordEncoder is being used.\n                var a = new UsernamePasswordAuthenticationToken(username, password, ud.getAuthorities());\n                return a;\n            }\n        }\n        throw new BadCredentialsException(&quot;Error!&quot;);\n    }\n\n    @Override\n    public boolean supports(Class&lt;?&gt; authType) {\n        return UsernamePasswordAuthenticationToken.class.equals(authType);\n    }\n}\n</code></pre>\n"},{"tags":["java","classpath","drools","jackson-databind","kie-server"],"answers":[{"tags":[],"owner":{"account_id":1197384,"reputation":6314,"user_id":1168802,"display_name":"Esteban Aliverti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673340052,"creation_date":1673340052,"answer_id":75067402,"question_id":75054159,"body_markdown":"If you are lucky, then you may be able to exclude the transitive dependency from `kie-server-spring-boot-starter-drools` and just use the newer one. Have you tried that? ","title":"Repurposed Kie server having classpath issue with a higher version of com.fasterxml.jackson.core:jackson-databind:2.13..2.2","body":"<p>If you are lucky, then you may be able to exclude the transitive dependency from <code>kie-server-spring-boot-starter-drools</code> and just use the newer one. Have you tried that?</p>\n"}],"owner":{"account_id":5819045,"reputation":1,"user_id":4587692,"display_name":"Sethukumar Ramachandran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673340052,"creation_date":1673248722,"question_id":75054159,"body_markdown":"I have a classpath issue for a repurposed Kie server (a spring boot service based on 2.6.6 spring-boot-starter packages) for rule engine as a service. This service already have a transitive dependency on com.fasterxml.jackson.core:jackson-databind:2.13.2.2 and the version of kie-server-spring-boot-starter-drools that I have tried were 7.53.0.Final to 7.73.0.Final and in here the jackson library version dependency for a plain Kie server (no other libraries used in pom) is 2.11.2. \r\nWhile trying to create the KieServicesClient with a KieServicesConfiguration instance (having url,username, password and set the mardshalling to JSON), there is a request to the Kie-server that look for the ServerInfo followed by few steps and then by JSONMarshalling where it encounters an exception (apparently due to the jackson library version mismatches) and getting a server 500 error. The stacktrace look like this: \r\n\r\n&gt;Caused by: java.lang.NoSuchFieldError: _typeCache at org.kie.server.api.marshalling.json.FallbackableTypeFactory.withFallbackClassLoader(FallbackableTypeFactory.java:62) at org.kie.server.api.marshalling.json.JSONMarshaller.configureMarshaller(JSONMarshaller.java:295) at org.kie.server.api.marshalling.json.JSONMarshaller.&lt;init&gt;(JSONMarshaller.java:191) at org.kie.server.api.marshalling.json.JSONMarshaller.&lt;init&gt;(JSONMarshaller.java:183) at org.kie.server.api.marshalling.BaseMarshallerBuilder.build(BaseMarshallerBuilder.java:45) at org.kie.server.api.marshalling.MarshallerFactory.getMarshaller(MarshallerFactory.java:50) at org.kie.server.services.impl.marshal.MarshallerHelper.marshal(MarshallerHelper.java:78) at org.kie.server.remote.rest.common.util.RestUtils.createCorrectVariant(RestUtils.java:62) at org.kie.server.remote.rest.common.util.RestUtils.createCorrectVariant(RestUtils.java:51) at org.kie.server.remote.rest.common.resource.KieServerRestImpl.getInfo(KieServerRestImpl.java:106) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:498) at org.apache.cxf.service.invoker.AbstractInvoker.performInvocation(AbstractInvoker.java:179) at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:96) ... 93 common frames omitted \r\n\r\nMy objective is to repurpose an existing service which has transitive dependency on jackson version 2.13.2 whereas the latest kie-server-spring-boot-starter-drools library has jackson dependency on a lower version. Probably a standalone lean Kie server with single responsibility is the way to go. I&#39;m looking for any suggestions where I can repurpose the service that I&#39;m trying to overload with rule engine feature. Any suggestions for improvement is appreciated. \r\n\r\nthanks \r\n\r\nI have tried a plain standalone Kie server were there are no errors and it work as expected. When I try to repurpose a service that has a transitive dependency on a higher version of jackson-databind than that expected for the kie-server-spring-boot-starter-drools library. I have debugged the kie server library and found that JSONMarshaller.java from kie-server-api:7.53.0.Final library has a method\r\n```\r\nprotected void configureMarshaller(Set&lt;Class&lt;?&gt;&gt; classes, ClassLoader classLoader) {}\r\n```\r\nand on line number 149 there is this code as below which produces an exception (i guess it is due the jackson library version mismatches) \r\n```java\r\nTypeResolverBuilder&lt;?&gt; typer = \r\n    new DefaultTypeResolverBuilder(DefaultTyping.NON_FINAL) { \r\n        public boolean useForType(JavaType t) {\r\n            return JSONMarshaller.this.classesSet.contains(t.getRawClass());\r\n        }\r\n    };\r\n```","title":"Repurposed Kie server having classpath issue with a higher version of com.fasterxml.jackson.core:jackson-databind:2.13..2.2","body":"<p>I have a classpath issue for a repurposed Kie server (a spring boot service based on 2.6.6 spring-boot-starter packages) for rule engine as a service. This service already have a transitive dependency on com.fasterxml.jackson.core:jackson-databind:2.13.2.2 and the version of kie-server-spring-boot-starter-drools that I have tried were 7.53.0.Final to 7.73.0.Final and in here the jackson library version dependency for a plain Kie server (no other libraries used in pom) is 2.11.2.\nWhile trying to create the KieServicesClient with a KieServicesConfiguration instance (having url,username, password and set the mardshalling to JSON), there is a request to the Kie-server that look for the ServerInfo followed by few steps and then by JSONMarshalling where it encounters an exception (apparently due to the jackson library version mismatches) and getting a server 500 error. The stacktrace look like this:</p>\n<blockquote>\n<p>Caused by: java.lang.NoSuchFieldError: _typeCache at org.kie.server.api.marshalling.json.FallbackableTypeFactory.withFallbackClassLoader(FallbackableTypeFactory.java:62) at org.kie.server.api.marshalling.json.JSONMarshaller.configureMarshaller(JSONMarshaller.java:295) at org.kie.server.api.marshalling.json.JSONMarshaller.(JSONMarshaller.java:191) at org.kie.server.api.marshalling.json.JSONMarshaller.(JSONMarshaller.java:183) at org.kie.server.api.marshalling.BaseMarshallerBuilder.build(BaseMarshallerBuilder.java:45) at org.kie.server.api.marshalling.MarshallerFactory.getMarshaller(MarshallerFactory.java:50) at org.kie.server.services.impl.marshal.MarshallerHelper.marshal(MarshallerHelper.java:78) at org.kie.server.remote.rest.common.util.RestUtils.createCorrectVariant(RestUtils.java:62) at org.kie.server.remote.rest.common.util.RestUtils.createCorrectVariant(RestUtils.java:51) at org.kie.server.remote.rest.common.resource.KieServerRestImpl.getInfo(KieServerRestImpl.java:106) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:498) at org.apache.cxf.service.invoker.AbstractInvoker.performInvocation(AbstractInvoker.java:179) at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:96) ... 93 common frames omitted</p>\n</blockquote>\n<p>My objective is to repurpose an existing service which has transitive dependency on jackson version 2.13.2 whereas the latest kie-server-spring-boot-starter-drools library has jackson dependency on a lower version. Probably a standalone lean Kie server with single responsibility is the way to go. I'm looking for any suggestions where I can repurpose the service that I'm trying to overload with rule engine feature. Any suggestions for improvement is appreciated.</p>\n<p>thanks</p>\n<p>I have tried a plain standalone Kie server were there are no errors and it work as expected. When I try to repurpose a service that has a transitive dependency on a higher version of jackson-databind than that expected for the kie-server-spring-boot-starter-drools library. I have debugged the kie server library and found that JSONMarshaller.java from kie-server-api:7.53.0.Final library has a method</p>\n<pre><code>protected void configureMarshaller(Set&lt;Class&lt;?&gt;&gt; classes, ClassLoader classLoader) {}\n</code></pre>\n<p>and on line number 149 there is this code as below which produces an exception (i guess it is due the jackson library version mismatches)</p>\n<pre class=\"lang-java prettyprint-override\"><code>TypeResolverBuilder&lt;?&gt; typer = \n    new DefaultTypeResolverBuilder(DefaultTyping.NON_FINAL) { \n        public boolean useForType(JavaType t) {\n            return JSONMarshaller.this.classesSet.contains(t.getRawClass());\n        }\n    };\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-session"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673270935,"post_id":75057166,"comment_id":132454110,"body_markdown":"Do you really have that many sessions you need to keep in-memory, looks like cleanup isn&#39;t properly configured/working. Also keeping that many in-memory will also lead to memory issues, you currently configured it unbounded IIRC.","body":"Do you really have that many sessions you need to keep in-memory, looks like cleanup isn&#39;t properly configured/working. Also keeping that many in-memory will also lead to memory issues, you currently configured it unbounded IIRC."},{"owner":{"account_id":27477096,"reputation":21,"user_id":20964898,"display_name":"matt2022"},"score":0,"creation_date":1673272127,"post_id":75057166,"comment_id":132454645,"body_markdown":"Yes we get that much sessions and we are okay to scaleup when memory issues hit. thanks","body":"Yes we get that much sessions and we are okay to scaleup when memory issues hit. thanks"}],"answers":[{"tags":[],"owner":{"account_id":27477096,"reputation":21,"user_id":20964898,"display_name":"matt2022"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673329201,"creation_date":1673329201,"answer_id":75065895,"question_id":75057166,"body_markdown":"I finally found a solution that worked for me.\r\n\r\n    @Bean\r\n    public WebSessionManager webSessionManager () {\r\n        DefaultWebSessionManager webSessionManager = new DefaultWebSessionManager();\r\n        InMemoryWebSessionStore inMemoryWebSessionStore = new InMemoryWebSessionStore();\r\n        inMemoryWebSessionStore.setMaxSessions(2147483647); //2147483647 - MAX_VALUE of Integer\r\n        webSessionManager.setSessionStore(inMemoryWebSessionStore);\r\n        return webSessionManager;\r\n    }\r\n\r\n","title":"How can I increase the in memory session store to maximum","body":"<p>I finally found a solution that worked for me.</p>\n<pre><code>@Bean\npublic WebSessionManager webSessionManager () {\n    DefaultWebSessionManager webSessionManager = new DefaultWebSessionManager();\n    InMemoryWebSessionStore inMemoryWebSessionStore = new InMemoryWebSessionStore();\n    inMemoryWebSessionStore.setMaxSessions(2147483647); //2147483647 - MAX_VALUE of Integer\n    webSessionManager.setSessionStore(inMemoryWebSessionStore);\n    return webSessionManager;\n}\n</code></pre>\n"}],"owner":{"account_id":27477096,"reputation":21,"user_id":20964898,"display_name":"matt2022"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":422,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75065895,"answer_count":1,"score":0,"last_activity_date":1673339995,"creation_date":1673266624,"question_id":75057166,"body_markdown":"Please note this is not about concurrent user session. This is about the total sessions can be stored in the in memory. \r\n\r\nHere is the log :\r\n\r\n```\r\njava.lang.IllegalStateException: Max sessions limit reached: 10000\r\n\tat org.springframework.web.server.session.InMemoryWebSessionStore$InMemoryWebSession.checkMaxSessionsLimit(InMemoryWebSessionStore.java:276)\r\n\tat org.springframework.web.server.session.InMemoryWebSessionStore$InMemoryWebSession.save(InMemoryWebSessionStore.java:251)\r\n\tat org.springframework.web.server.session.DefaultWebSessionManager.save(DefaultWebSessionManager.java:123)\r\n\tat org.springframework.web.server.session.DefaultWebSessionManager.lambda$null$0(DefaultWebSessionManager.java:88)\r\n\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:113)\r\n\tat reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:272)\r\n\tat reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:230)\r\n\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.request(FluxMapFuseable.java:171)\r\n\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onSubscribe(FluxConcatMap.java:236)\r\n\r\n```\r\n\r\nYou can find the spring doc here https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/server/session/InMemoryWebSessionStore.html\r\n\r\nI created a bean like below but not sure about this :\r\n  \r\n```\r\n    @Bean\r\n    public InMemoryWebSessionStore inMemoryWebSessionStore() {\r\n        InMemoryWebSessionStore inMemoryWebSessionStore = new InMemoryWebSessionStore();\r\n        inMemoryWebSessionStore.setMaxSessions(-1);\r\n        return inMemoryWebSessionStore;\r\n    }\r\n\r\n```","title":"How can I increase the in memory session store to maximum","body":"<p>Please note this is not about concurrent user session. This is about the total sessions can be stored in the in memory.</p>\n<p>Here is the log :</p>\n<pre><code>java.lang.IllegalStateException: Max sessions limit reached: 10000\n    at org.springframework.web.server.session.InMemoryWebSessionStore$InMemoryWebSession.checkMaxSessionsLimit(InMemoryWebSessionStore.java:276)\n    at org.springframework.web.server.session.InMemoryWebSessionStore$InMemoryWebSession.save(InMemoryWebSessionStore.java:251)\n    at org.springframework.web.server.session.DefaultWebSessionManager.save(DefaultWebSessionManager.java:123)\n    at org.springframework.web.server.session.DefaultWebSessionManager.lambda$null$0(DefaultWebSessionManager.java:88)\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:113)\n    at reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:272)\n    at reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:230)\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.request(FluxMapFuseable.java:171)\n    at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onSubscribe(FluxConcatMap.java:236)\n\n</code></pre>\n<p>You can find the spring doc here <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/server/session/InMemoryWebSessionStore.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/server/session/InMemoryWebSessionStore.html</a></p>\n<p>I created a bean like below but not sure about this :</p>\n<pre><code>    @Bean\n    public InMemoryWebSessionStore inMemoryWebSessionStore() {\n        InMemoryWebSessionStore inMemoryWebSessionStore = new InMemoryWebSessionStore();\n        inMemoryWebSessionStore.setMaxSessions(-1);\n        return inMemoryWebSessionStore;\n    }\n\n</code></pre>\n"},{"tags":["java","javabeans","beancreationexception","jmix"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673335361,"post_id":75066641,"comment_id":132469599,"body_markdown":"I only see *Error creating bean with name &#39;dataSource&#39;: Requested bean is currently in creation: Is there an unresolvable circular reference?* Not the error you mentioned in the title","body":"I only see <i>Error creating bean with name &#39;dataSource&#39;: Requested bean is currently in creation: Is there an unresolvable circular reference?</i> Not the error you mentioned in the title"},{"owner":{"account_id":13052561,"reputation":11,"user_id":9432387,"display_name":"kiranouseph"},"score":0,"creation_date":1673336609,"post_id":75066641,"comment_id":132469936,"body_markdown":"for the above error stack do you know any solution","body":"for the above error stack do you know any solution"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673337853,"post_id":75066641,"comment_id":132470271,"body_markdown":"Not without related code","body":"Not without related code"}],"answers":[{"tags":[],"owner":{"account_id":13830008,"reputation":89,"user_id":9983181,"display_name":"CoderMSL"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1673336969,"creation_date":1673336969,"answer_id":75066919,"question_id":75066641,"body_markdown":"First of all please fix the title as it says something different that enclosed stacktrace. Please read \r\n\r\n&gt; Requested bean is currently in creation: Is there an unresolvable circular reference?\r\n\r\nIt means that you have a bean &quot;A&quot; which depends on another bean &quot;B&quot; but &quot;B&quot; depends on &quot;A&quot; and this is the reason of a circular reference. Of course this cycle can be longer, for example: `A -&gt; B -&gt; C -&gt; A`. You have to follow good design principles and remove this cycle somehow or you can use `@Lazy` annotation on a field to initiate a bean later (by default it&#39;s eager dependency). ","title":"Requested bean is currently in creation: Is there an unresolvable circular reference During adding one spring boot applciation to another?","body":"<p>First of all please fix the title as it says something different that enclosed stacktrace. Please read</p>\n<blockquote>\n<p>Requested bean is currently in creation: Is there an unresolvable circular reference?</p>\n</blockquote>\n<p>It means that you have a bean &quot;A&quot; which depends on another bean &quot;B&quot; but &quot;B&quot; depends on &quot;A&quot; and this is the reason of a circular reference. Of course this cycle can be longer, for example: <code>A -&gt; B -&gt; C -&gt; A</code>. You have to follow good design principles and remove this cycle somehow or you can use <code>@Lazy</code> annotation on a field to initiate a bean later (by default it's eager dependency).</p>\n"}],"owner":{"account_id":13052561,"reputation":11,"user_id":9432387,"display_name":"kiranouseph"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2466,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1673339720,"creation_date":1673335107,"question_id":75066641,"body_markdown":"Scenario :\r\nI have a springboot applcation which perform a batch like functionality (Reading data from s3 processing and writing to sql tables).\r\n \r\nI also have a seperate Jmix application.\r\nSo in need to add the batch to this jmix application so that i can run the batch from jmix application\r\n\r\nI was able to add it in buid.gradle and i done like below in main class of jmix application\r\n\r\n    @SpringBootApplication(scanBasePackages = {&quot;com.publicismedia.uniquebatchjava&quot;})\r\n    @EnableJmixDataRepositories(basePackages = {})\r\n    @EnableJpaRepositories(basePackages = {&quot;com.publicismedia.uniquebatchjava.repository&quot;})\r\n\r\nSo that we can use the beans in the Jmix app(`scanBasePackages = {&quot;com.publicismedia.uniquebatchjava&quot;}`)\r\nJmix tries to create bean for all repository class whether it is on main application or dependency application\r\nSo i am adding this `@EnableJmixDataRepositories(basePackages = {})` to avoid jmix to scan nothing and `@EnableJpaRepositories(basePackages = {&quot;com.publicismedia.uniquebatchjava.repository&quot;})` to allow jpa to scan dependent application \r\n\r\nAnd the error now is \r\n\r\n&gt; Caused by:\r\n&gt; org.springframework.beans.factory.UnsatisfiedDependencyException:\r\n&gt; Error creating bean with name\r\n&gt; &#39;OAuth2AuthorizationServerConfiguration&#39;: Unsatisfied dependency\r\n&gt; expressed through field &#39;tokenStore&#39;; nested exception is\r\n&gt; org.springframework.beans.factory.UnsatisfiedDependencyException:\r\n&gt; Error creating bean with name &#39;sec_TokenStore&#39; defined in class path\r\n&gt; resource\r\n&gt; [io/jmix/autoconfigure/securityoauth2/SecurityOAuth2AutoConfiguration$JdbcTokenStoreConfiguration.class]:\r\n&gt; Unsatisfied dependency expressed through method &#39;tokenStore&#39; parameter\r\n&gt; 0; nested exception is\r\n&gt; org.springframework.beans.factory.UnsatisfiedDependencyException:\r\n&gt; Error creating bean with name &#39;stellantisroiApplication&#39;: Unsatisfied\r\n&gt; dependency expressed through field &#39;batchExecuter&#39;; nested exception\r\n&gt; is org.springframework.beans.factory.UnsatisfiedDependencyException:\r\n&gt; Error creating bean with name &#39;batchExecuter&#39;: Unsatisfied dependency\r\n&gt; expressed through field &#39;batchConfigRepository&#39;; nested exception is\r\n&gt; org.springframework.beans.factory.BeanCreationException: Error\r\n&gt; creating bean with name &#39;batchConfigRepository&#39; defined in\r\n&gt; com.publicismedia.uniquebatchjava.repository.BatchConfigRepository\r\n&gt; defined in @EnableJpaRepositories declared on\r\n&gt; StellantisroiApplication: Cannot create inner bean &#39;(inner\r\n&gt; bean)#51e0629a&#39; of type\r\n&gt; [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting\r\n&gt; bean property &#39;entityManager&#39;; nested exception is\r\n&gt; org.springframework.beans.factory.BeanCreationException: Error\r\n&gt; creating bean with name &#39;(inner bean)#51e0629a&#39;: Cannot resolve\r\n&gt; reference to bean &#39;entityManagerFactory&#39; while setting constructor\r\n&gt; argument; nested exception is\r\n&gt; org.springframework.beans.factory.UnsatisfiedDependencyException:\r\n&gt; Error creating bean with name &#39;jmix_Liquibase&#39; defined in class path\r\n&gt; resource\r\n&gt; [io/jmix/autoconfigure/data/JmixLiquibaseAutoConfiguration.class]:\r\n&gt; Unsatisfied dependency expressed through method &#39;liquibase&#39; parameter\r\n&gt; 0; nested exception is\r\n&gt; org.springframework.beans.factory.BeanCurrentlyInCreationException:\r\n&gt; Error creating bean with name &#39;dataSource&#39;: Requested bean is\r\n&gt; currently in creation: Is there an unresolvable circular reference?\r\n\r\nDo any one has any solution or simply how to add a spring boot maven app in to other spring boot maven app considering `com.package1.*` is main app and `com.package2.*` as dependent application\r\n\r\n\r\n\r\n","title":"Requested bean is currently in creation: Is there an unresolvable circular reference During adding one spring boot applciation to another?","body":"<p>Scenario :\nI have a springboot applcation which perform a batch like functionality (Reading data from s3 processing and writing to sql tables).</p>\n<p>I also have a seperate Jmix application.\nSo in need to add the batch to this jmix application so that i can run the batch from jmix application</p>\n<p>I was able to add it in buid.gradle and i done like below in main class of jmix application</p>\n<pre><code>@SpringBootApplication(scanBasePackages = {&quot;com.publicismedia.uniquebatchjava&quot;})\n@EnableJmixDataRepositories(basePackages = {})\n@EnableJpaRepositories(basePackages = {&quot;com.publicismedia.uniquebatchjava.repository&quot;})\n</code></pre>\n<p>So that we can use the beans in the Jmix app(<code>scanBasePackages = {&quot;com.publicismedia.uniquebatchjava&quot;}</code>)\nJmix tries to create bean for all repository class whether it is on main application or dependency application\nSo i am adding this <code>@EnableJmixDataRepositories(basePackages = {})</code> to avoid jmix to scan nothing and <code>@EnableJpaRepositories(basePackages = {&quot;com.publicismedia.uniquebatchjava.repository&quot;})</code> to allow jpa to scan dependent application</p>\n<p>And the error now is</p>\n<blockquote>\n<p>Caused by:\norg.springframework.beans.factory.UnsatisfiedDependencyException:\nError creating bean with name\n'OAuth2AuthorizationServerConfiguration': Unsatisfied dependency\nexpressed through field 'tokenStore'; nested exception is\norg.springframework.beans.factory.UnsatisfiedDependencyException:\nError creating bean with name 'sec_TokenStore' defined in class path\nresource\n[io/jmix/autoconfigure/securityoauth2/SecurityOAuth2AutoConfiguration$JdbcTokenStoreConfiguration.class]:\nUnsatisfied dependency expressed through method 'tokenStore' parameter\n0; nested exception is\norg.springframework.beans.factory.UnsatisfiedDependencyException:\nError creating bean with name 'stellantisroiApplication': Unsatisfied\ndependency expressed through field 'batchExecuter'; nested exception\nis org.springframework.beans.factory.UnsatisfiedDependencyException:\nError creating bean with name 'batchExecuter': Unsatisfied dependency\nexpressed through field 'batchConfigRepository'; nested exception is\norg.springframework.beans.factory.BeanCreationException: Error\ncreating bean with name 'batchConfigRepository' defined in\ncom.publicismedia.uniquebatchjava.repository.BatchConfigRepository\ndefined in @EnableJpaRepositories declared on\nStellantisroiApplication: Cannot create inner bean '(inner\nbean)#51e0629a' of type\n[org.springframework.orm.jpa.SharedEntityManagerCreator] while setting\nbean property 'entityManager'; nested exception is\norg.springframework.beans.factory.BeanCreationException: Error\ncreating bean with name '(inner bean)#51e0629a': Cannot resolve\nreference to bean 'entityManagerFactory' while setting constructor\nargument; nested exception is\norg.springframework.beans.factory.UnsatisfiedDependencyException:\nError creating bean with name 'jmix_Liquibase' defined in class path\nresource\n[io/jmix/autoconfigure/data/JmixLiquibaseAutoConfiguration.class]:\nUnsatisfied dependency expressed through method 'liquibase' parameter\n0; nested exception is\norg.springframework.beans.factory.BeanCurrentlyInCreationException:\nError creating bean with name 'dataSource': Requested bean is\ncurrently in creation: Is there an unresolvable circular reference?</p>\n</blockquote>\n<p>Do any one has any solution or simply how to add a spring boot maven app in to other spring boot maven app considering <code>com.package1.*</code> is main app and <code>com.package2.*</code> as dependent application</p>\n"},{"tags":["java","android","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":18378745,"reputation":802,"user_id":13387235,"display_name":"Dhruv Sakariya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673336398,"creation_date":1673336342,"answer_id":75066822,"question_id":75066784,"body_markdown":"You have get data first and then set adapter(copy this and try)\r\n\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        Context context;\r\n        TextView textView;\r\n        RecyclerView recyclerView;\r\n        LinearLayoutManager layoutManager;\r\n        DetailsAdapter detailsAdapter;\r\n        List&lt;Details&gt; detailsList = new ArrayList&lt;&gt;();\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            context = getApplicationContext();\r\n            getDetails();\r\n            textView = findViewById(R.id.textView);\r\n            recyclerView = findViewById(R.id.recyclerview);\r\n            layoutManager = new LinearLayoutManager(this);\r\n            recyclerView.setLayoutManager(layoutManager);\r\n            detailsAdapter = new DetailsAdapter(detailsList, context);\r\n            recyclerView.setAdapter(detailsAdapter);\r\n    \r\n            \r\n    \r\n            \r\n        }\r\n    \r\n        private void getDetails() {\r\n    \r\n            RetrofitClient.getRetrofitClient().getDetails().enqueue(new Callback&lt;List&lt;Details&gt;&gt;() {\r\n                @Override\r\n                public void onResponse(Call&lt;List&lt;Details&gt;&gt; call, Response&lt;List&lt;Details&gt;&gt; response) {\r\n                    if(response.isSuccessful() &amp;&amp; response.body() != null){\r\n    \r\n                        detailsList.addAll(response.body());\r\n                        detailsAdapter.notifyDataSetChanged();\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onFailure(Call&lt;List&lt;Details&gt;&gt; call, Throwable t) {\r\n                    textView.setText((t.getMessage()));\r\n                }\r\n            });\r\n        }","title":"Crasing app with &#39;java.lang.String android.content.Context.getPackageName()&#39; on a null object reference","body":"<p>You have get data first and then set adapter(copy this and try)</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    Context context;\n    TextView textView;\n    RecyclerView recyclerView;\n    LinearLayoutManager layoutManager;\n    DetailsAdapter detailsAdapter;\n    List&lt;Details&gt; detailsList = new ArrayList&lt;&gt;();\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        context = getApplicationContext();\n        getDetails();\n        textView = findViewById(R.id.textView);\n        recyclerView = findViewById(R.id.recyclerview);\n        layoutManager = new LinearLayoutManager(this);\n        recyclerView.setLayoutManager(layoutManager);\n        detailsAdapter = new DetailsAdapter(detailsList, context);\n        recyclerView.setAdapter(detailsAdapter);\n\n        \n\n        \n    }\n\n    private void getDetails() {\n\n        RetrofitClient.getRetrofitClient().getDetails().enqueue(new Callback&lt;List&lt;Details&gt;&gt;() {\n            @Override\n            public void onResponse(Call&lt;List&lt;Details&gt;&gt; call, Response&lt;List&lt;Details&gt;&gt; response) {\n                if(response.isSuccessful() &amp;&amp; response.body() != null){\n\n                    detailsList.addAll(response.body());\n                    detailsAdapter.notifyDataSetChanged();\n                }\n            }\n\n            @Override\n            public void onFailure(Call&lt;List&lt;Details&gt;&gt; call, Throwable t) {\n                textView.setText((t.getMessage()));\n            }\n        });\n    }\n</code></pre>\n"}],"owner":{"account_id":25755853,"reputation":5,"user_id":19507538,"display_name":"Subhashana.S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673336381,"accepted_answer_id":75066822,"answer_count":1,"score":0,"last_activity_date":1673339552,"creation_date":1673336077,"question_id":75066784,"body_markdown":"I&#39;ve created a recycler view to display data. I want to display a toast message when clicking interview.  so, I set this,\r\n\r\n```\r\nholder.itemView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Toast.makeText(context, &quot;item clicked!!&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n```\r\n\r\nin onbindViewHolder method in the adapter class. After run the app app crashed and displayed this error.\r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.ss.newapp, PID: 27382\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String android.content.Context.getPackageName()&#39; on a null object reference\r\n        at android.widget.Toast.&lt;init&gt;(Toast.java:178)\r\n        at android.widget.Toast.makeText(Toast.java:595)\r\n        at android.widget.Toast.makeText(Toast.java:583)\r\n        at com.ss.newapp.DetailsAdapter$1.onClick(DetailsAdapter.java:50)\r\n        at android.view.View.performClick(View.java:7509)\r\n        at android.view.View.performClickInternal(View.java:7486)\r\n        at android.view.View.access$3600(View.java:841)\r\n        at android.view.View$PerformClick.run(View.java:28709)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:236)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8061)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:656)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:967)\r\nD/OOMEventManagerFK: checkEventAndDumpForJE: 0\r\nI/Process: Sending signal. PID: 27382 SIG: 9\r\nDisconnected from the target VM, address: &#39;localhost:53359&#39;, transport: &#39;socket&#39;\r\n```\r\n\r\nI checked other solutions reguarding to this error in SO, but it didn&#39;t work for my code.\r\n\r\nHere is my Adapter.java class\r\n\r\n```\r\npublic class DetailsAdapter extends\r\n        RecyclerView.Adapter&lt;DetailsAdapter.ViewHolder&gt; {\r\n\r\n    private List&lt;Details&gt; detailsList;\r\n    Context context;\r\n   \r\n    public DetailsAdapter(List&lt;Details&gt; detailsList, Context context){\r\n\r\n        this.detailsList = detailsList;\r\n        this.context = context;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public DetailsAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent,\r\n                                                        int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext())\r\n                .inflate(R.layout.list_item,parent,false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull DetailsAdapter.ViewHolder holder,\r\n                                 int position) {\r\n        holder.txtCusCode.setText(detailsList.get(position).getCode());\r\n        holder.txtCusName.setText(detailsList.get(position).getName());\r\n       \r\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Toast.makeText(context, &quot;item clicked!!&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return detailsList.size();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder{\r\n\r\n        TextView txtCusName, txtCusCode;\r\n\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            txtCusCode = itemView.findViewById(R.id.cusCodeTxt);\r\n            txtCusName = itemView.findViewById(R.id.cusNameTxt);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nMainActivity.java\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    Context context;\r\n    TextView textView;\r\n    RecyclerView recyclerView;\r\n    LinearLayoutManager layoutManager;\r\n    DetailsAdapter detailsAdapter;\r\n    List&lt;Details&gt; detailsList = new ArrayList&lt;&gt;();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        textView = findViewById(R.id.textView);\r\n        recyclerView = findViewById(R.id.recyclerview);\r\n        layoutManager = new LinearLayoutManager(this);\r\n        recyclerView.setLayoutManager(layoutManager);\r\n        detailsAdapter = new DetailsAdapter(detailsList, context);\r\n        recyclerView.setAdapter(detailsAdapter);\r\n\r\n        context = getApplicationContext();\r\n\r\n        getDetails();\r\n    }\r\n\r\n    private void getDetails() {\r\n    }\r\n```","title":"Crasing app with &#39;java.lang.String android.content.Context.getPackageName()&#39; on a null object reference","body":"<p>I've created a recycler view to display data. I want to display a toast message when clicking interview.  so, I set this,</p>\n<pre><code>holder.itemView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Toast.makeText(context, &quot;item clicked!!&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n</code></pre>\n<p>in onbindViewHolder method in the adapter class. After run the app app crashed and displayed this error.</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.ss.newapp, PID: 27382\n    java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String android.content.Context.getPackageName()' on a null object reference\n        at android.widget.Toast.&lt;init&gt;(Toast.java:178)\n        at android.widget.Toast.makeText(Toast.java:595)\n        at android.widget.Toast.makeText(Toast.java:583)\n        at com.ss.newapp.DetailsAdapter$1.onClick(DetailsAdapter.java:50)\n        at android.view.View.performClick(View.java:7509)\n        at android.view.View.performClickInternal(View.java:7486)\n        at android.view.View.access$3600(View.java:841)\n        at android.view.View$PerformClick.run(View.java:28709)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:236)\n        at android.app.ActivityThread.main(ActivityThread.java:8061)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:656)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:967)\nD/OOMEventManagerFK: checkEventAndDumpForJE: 0\nI/Process: Sending signal. PID: 27382 SIG: 9\nDisconnected from the target VM, address: 'localhost:53359', transport: 'socket'\n</code></pre>\n<p>I checked other solutions reguarding to this error in SO, but it didn't work for my code.</p>\n<p>Here is my Adapter.java class</p>\n<pre><code>public class DetailsAdapter extends\n        RecyclerView.Adapter&lt;DetailsAdapter.ViewHolder&gt; {\n\n    private List&lt;Details&gt; detailsList;\n    Context context;\n   \n    public DetailsAdapter(List&lt;Details&gt; detailsList, Context context){\n\n        this.detailsList = detailsList;\n        this.context = context;\n    }\n\n    @NonNull\n    @Override\n    public DetailsAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent,\n                                                        int viewType) {\n        View view = LayoutInflater.from(parent.getContext())\n                .inflate(R.layout.list_item,parent,false);\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull DetailsAdapter.ViewHolder holder,\n                                 int position) {\n        holder.txtCusCode.setText(detailsList.get(position).getCode());\n        holder.txtCusName.setText(detailsList.get(position).getName());\n       \n        holder.itemView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Toast.makeText(context, &quot;item clicked!!&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n\n    @Override\n    public int getItemCount() {\n        return detailsList.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder{\n\n        TextView txtCusName, txtCusCode;\n\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            txtCusCode = itemView.findViewById(R.id.cusCodeTxt);\n            txtCusName = itemView.findViewById(R.id.cusNameTxt);\n        }\n    }\n}\n</code></pre>\n<p>MainActivity.java</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    Context context;\n    TextView textView;\n    RecyclerView recyclerView;\n    LinearLayoutManager layoutManager;\n    DetailsAdapter detailsAdapter;\n    List&lt;Details&gt; detailsList = new ArrayList&lt;&gt;();\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        textView = findViewById(R.id.textView);\n        recyclerView = findViewById(R.id.recyclerview);\n        layoutManager = new LinearLayoutManager(this);\n        recyclerView.setLayoutManager(layoutManager);\n        detailsAdapter = new DetailsAdapter(detailsList, context);\n        recyclerView.setAdapter(detailsAdapter);\n\n        context = getApplicationContext();\n\n        getDetails();\n    }\n\n    private void getDetails() {\n    }\n</code></pre>\n"},{"tags":["java","arrays","json","jsonpath"],"comments":[{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":0,"creation_date":1673337956,"post_id":75066997,"comment_id":132470292,"body_markdown":"which library you are using for JSON support?","body":"which library you are using for JSON support?"},{"owner":{"account_id":25888760,"reputation":1,"user_id":19616469,"display_name":"Ramesh"},"score":0,"creation_date":1673338144,"post_id":75066997,"comment_id":132470343,"body_markdown":"@Pavel using Json.simple, json-path","body":"@Pavel using Json.simple, json-path"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1673338185,"post_id":75066997,"comment_id":132470351,"body_markdown":"What version of JsonPath are you using? Did you check you&#39;ve imported the correct class?","body":"What version of JsonPath are you using? Did you check you&#39;ve imported the correct class?"},{"owner":{"account_id":25888760,"reputation":1,"user_id":19616469,"display_name":"Ramesh"},"score":0,"creation_date":1673338233,"post_id":75066997,"comment_id":132470364,"body_markdown":"@Thomas i am using 5.2.0","body":"@Thomas i am using 5.2.0"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1673338474,"post_id":75066997,"comment_id":132470440,"body_markdown":"Are you _sure_ you&#39;re using `com.jayway.jsonpath.JsonPath`? That class has `read(String, String, Predicate...)` but the version is only 2.7.0. The other library I found that has a version 5.2.0 is Rest Assured which has [`io.restassured.path.json.JsonPath`](https://www.javadoc.io/doc/io.rest-assured/json-path/5.2.0/io/restassured/path/json/JsonPath.html) but not the method you want to use.","body":"Are you <i>sure</i> you&#39;re using <code>com.jayway.jsonpath.JsonPath</code>? That class has <code>read(String, String, Predicate...)</code> but the version is only 2.7.0. The other library I found that has a version 5.2.0 is Rest Assured which has <a href=\"https://www.javadoc.io/doc/io.rest-assured/json-path/5.2.0/io/restassured/path/json/JsonPath.html\" rel=\"nofollow noreferrer\"><code>io.restassured.path.json.JsonPath</code></a> but not the method you want to use."},{"owner":{"account_id":25888760,"reputation":1,"user_id":19616469,"display_name":"Ramesh"},"score":0,"creation_date":1673338830,"post_id":75066997,"comment_id":132470519,"body_markdown":"@Thomas After changing the version i am able to access the method thx","body":"@Thomas After changing the version i am able to access the method thx"}],"answers":[{"tags":[],"owner":{"account_id":25888760,"reputation":1,"user_id":19616469,"display_name":"Ramesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673339007,"creation_date":1673339007,"answer_id":75067241,"question_id":75066997,"body_markdown":"After changing the json path verion to 2.7.0 able to access the Jsonpath.read method","title":"The method read(String, String) is undefined for the type JsonPath","body":"<p>After changing the json path verion to 2.7.0 able to access the Jsonpath.read method</p>\n"}],"owner":{"account_id":25888760,"reputation":1,"user_id":19616469,"display_name":"Ramesh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673339007,"creation_date":1673337463,"question_id":75066997,"body_markdown":"am using the below code get the value from json file using jsonexpression, iam unable to use Jsonpath.read method getting pop saying that **The method read(String, String) is undefined for the type JsonPath**\r\n \r\n\r\n\t\ttry {\r\n\t\t\tBufferedReader bufferreader = new BufferedReader(\r\n\t\t\t\t\tnew FileReader(&quot;C:\\\\Users\\\\****\\\\eclipse-workspace\\\\json_files\\\\jsonfile\\\\db-AAPL.json&quot;));\r\n\t\t\tString line = null;\r\n\t\t\tStringBuilder builder = new StringBuilder();\r\n\t\t\twhile ((line = bufferreader.readLine()) != null) {\r\n\t\t\t\tbuilder.append(line);\r\n\t\t\t}\r\n\t\t\tString jsoncontent = builder.toString();\r\n\t\t\tJSONArray  array=JsonPath.read(jsoncontent,&quot;$.response.data.arrayRowData[1].header.headerId&quot;);\r\n\t\t\tSystem.out.println(array.get(0));\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\r\n\r\n\r\n ","title":"The method read(String, String) is undefined for the type JsonPath","body":"<p>am using the below code get the value from json file using jsonexpression, iam unable to use Jsonpath.read method getting pop saying that <strong>The method read(String, String) is undefined for the type JsonPath</strong></p>\n<pre><code>    try {\n        BufferedReader bufferreader = new BufferedReader(\n                new FileReader(&quot;C:\\\\Users\\\\****\\\\eclipse-workspace\\\\json_files\\\\jsonfile\\\\db-AAPL.json&quot;));\n        String line = null;\n        StringBuilder builder = new StringBuilder();\n        while ((line = bufferreader.readLine()) != null) {\n            builder.append(line);\n        }\n        String jsoncontent = builder.toString();\n        JSONArray  array=JsonPath.read(jsoncontent,&quot;$.response.data.arrayRowData[1].header.headerId&quot;);\n        System.out.println(array.get(0));\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":["java","android","json","xml","http"],"answers":[{"tags":[],"owner":{"account_id":7325625,"reputation":1784,"user_id":5580095,"accept_rate":61,"display_name":"Bui Quang Huy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458288876,"creation_date":1458288876,"answer_id":36079292,"question_id":36079186,"body_markdown":"You should you HttpUrlConnection instead :\r\n\r\n    public class MessageSender {\r\n        private int responseCode;\r\n    \r\n    \r\n        public boolean sendPost(YourParameter param) {\r\n    \r\n            HttpURLConnection connection;\r\n            try {\r\n                URL gcmAPI = new URL(&quot;your api url&quot;);\r\n                connection = (HttpURLConnection) gcmAPI.openConnection();\r\n    \r\n                connection.setRequestMethod(&quot;POST&quot;);\r\n                connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n                              connection.setDoOutput(true);\r\n    \r\n                ObjectMapper mapper = new ObjectMapper();\r\n                mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\r\n                DataOutputStream dataOutputStream = new DataOutputStream(connection.getOutputStream());\r\n    \r\n                mapper.writeValue(dataOutputStream, param);\r\n    \r\n                dataOutputStream.flush();\r\n                dataOutputStream.close();\r\n    \r\n                responseCode = connection.getResponseCode();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            if (responseCode == 200) {\r\n                Log.i(&quot;Request Status&quot;, &quot;This is success response status from server: &quot; + responseCode);\r\n                return true;\r\n            } else {\r\n                Log.i(&quot;Request Status&quot;, &quot;This is failure response status from server: &quot; + responseCode);\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n\r\nIn your activity:\r\n\r\n    MessageSender mgsSender = new MessageSender();\r\n                        new AsyncTask&lt;Void, Void, Void&gt;() {\r\n                            @Override\r\n                            protected Void doInBackground(Void... params) {\r\n                                                   \r\n                                mgsSender.sendPost(mgsContent);\r\n     \r\n                                }\r\n                                return null;\r\n                            }\r\n                        }.execute();","title":"Sending Parameter using POST method in Android","body":"<p>You should you HttpUrlConnection instead :</p>\n\n<pre><code>public class MessageSender {\n    private int responseCode;\n\n\n    public boolean sendPost(YourParameter param) {\n\n        HttpURLConnection connection;\n        try {\n            URL gcmAPI = new URL(\"your api url\");\n            connection = (HttpURLConnection) gcmAPI.openConnection();\n\n            connection.setRequestMethod(\"POST\");\n            connection.setRequestProperty(\"Content-Type\", \"application/json\");\n                          connection.setDoOutput(true);\n\n            ObjectMapper mapper = new ObjectMapper();\n            mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\n            DataOutputStream dataOutputStream = new DataOutputStream(connection.getOutputStream());\n\n            mapper.writeValue(dataOutputStream, param);\n\n            dataOutputStream.flush();\n            dataOutputStream.close();\n\n            responseCode = connection.getResponseCode();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        if (responseCode == 200) {\n            Log.i(\"Request Status\", \"This is success response status from server: \" + responseCode);\n            return true;\n        } else {\n            Log.i(\"Request Status\", \"This is failure response status from server: \" + responseCode);\n            return false;\n        }\n    }\n}\n</code></pre>\n\n<p>In your activity:</p>\n\n<pre><code>MessageSender mgsSender = new MessageSender();\n                    new AsyncTask&lt;Void, Void, Void&gt;() {\n                        @Override\n                        protected Void doInBackground(Void... params) {\n\n                            mgsSender.sendPost(mgsContent);\n\n                            }\n                            return null;\n                        }\n                    }.execute();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6495359,"reputation":563,"user_id":5028137,"display_name":"Prakash Gajera"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1458289215,"creation_date":1458289215,"answer_id":36079368,"question_id":36079186,"body_markdown":"try and use this code:\r\n\r\n        \r\n    ServiceHandler sh = new ServiceHandler();\r\n    List&lt;NameValuePair&gt; params = new ArrayList&lt;NameValuePair&gt;();\r\n\r\n    @Override\r\n    protected void onPreExecute() {\r\n        // TODO Auto-generated method stub\r\n        super.onPreExecute();\r\n\t\t\t\r\n        \r\n        params.add(new BasicNameValuePair(&quot;pkey&quot;, &quot;pvalue&quot;));\r\n\r\n\t}\r\n\r\n    @Override\r\n    protected String doInBackground(String... param) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tString json;\r\n\t\t\ttry {\r\n\t\t\t\tjson = sh.makeServiceCall(url, ServiceHandler.POST, params);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\tLog.d(&quot;Response: &quot;, &quot;&gt; &quot; + json);\r\n\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n    @Override\r\n    protected void onPostExecute(String result) {\r\n    \t// TODO Auto-generated method stub\r\n    \tsuper.onPostExecute(result);\r\n\r\n\t\t\r\n\t\t}","title":"Sending Parameter using POST method in Android","body":"<p>try and use this code:</p>\n\n<pre><code>ServiceHandler sh = new ServiceHandler();\nList&lt;NameValuePair&gt; params = new ArrayList&lt;NameValuePair&gt;();\n\n@Override\nprotected void onPreExecute() {\n    // TODO Auto-generated method stub\n    super.onPreExecute();\n\n\n    params.add(new BasicNameValuePair(\"pkey\", \"pvalue\"));\n\n}\n\n@Override\nprotected String doInBackground(String... param) {\n        // TODO Auto-generated method stub\n        String json;\n        try {\n            json = sh.makeServiceCall(url, ServiceHandler.POST, params);\n\n            Log.d(\"Response: \", \"&gt; \" + json);\n\n        } catch (Exception e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n        return null;\n    }\n\n@Override\nprotected void onPostExecute(String result) {\n    // TODO Auto-generated method stub\n    super.onPostExecute(result);\n\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4873504,"reputation":567,"user_id":3929274,"accept_rate":50,"display_name":"Amit Ranjan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673338570,"creation_date":1458289537,"answer_id":36079446,"question_id":36079186,"body_markdown":"Change this line on your service handler class\r\n    \r\n    public JSONObject makeHttpRequest(String url, String method,\r\n    List&lt;NameValuePair&gt; params) {\r\n        if(method == &quot;POST&quot;){\r\n            // Stuff\r\n        }\r\n        else if(method == &quot;GET&quot;){\r\n            // Stuff\r\n        }\r\n    }\r\n    \r\nIn your activity class in doinbackground\r\n\r\n    sh.makeServiceCall(url,&quot;POST&quot;, params);","title":"Sending Parameter using POST method in Android","body":"<p>Change this line on your service handler class</p>\n<pre><code>public JSONObject makeHttpRequest(String url, String method,\nList&lt;NameValuePair&gt; params) {\n    if(method == &quot;POST&quot;){\n        // Stuff\n    }\n    else if(method == &quot;GET&quot;){\n        // Stuff\n    }\n}\n</code></pre>\n<p>In your activity class in doinbackground</p>\n<pre><code>sh.makeServiceCall(url,&quot;POST&quot;, params);\n</code></pre>\n"}],"owner":{"account_id":7885931,"reputation":275,"user_id":5958001,"accept_rate":44,"display_name":"Uday"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4724,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":36079368,"answer_count":3,"score":1,"last_activity_date":1673338570,"creation_date":1458288518,"question_id":36079186,"body_markdown":"I want to send a parameter using POST method to server. \r\n\r\nI&#39;m using a ServiceHandler.java file to process the request \r\n\r\n    public class ServiceHandler {\r\n    \r\n        static String response = null;\r\n        public final static int GET = 1;\r\n        public final static int POST = 2;\r\n    \r\n        public ServiceHandler() {\r\n    \r\n        }\r\n    \r\n        /**\r\n         * Making service call\r\n         * @url - url to make request\r\n         * @method - http request method\r\n         * */\r\n        public String makeServiceCall(String url, int method) {\r\n            return this.makeServiceCall(url, method, null);\r\n        }\r\n    \r\n        /**\r\n         * Making service call\r\n         * @url - url to make request\r\n         * @method - http request method\r\n         * @params - http request params\r\n         * */\r\n        public String makeServiceCall(String url, int method,\r\n                                      List&lt;NameValuePair&gt; params) {\r\n            try {\r\n                // http client\r\n                DefaultHttpClient httpClient = new DefaultHttpClient();\r\n                HttpEntity httpEntity = null;\r\n                HttpResponse httpResponse = null;\r\n    \r\n                // Checking http request method type\r\n                if (method == POST) {\r\n                    HttpPost httpPost = new HttpPost(url);\r\n    \r\n                    // adding post params\r\n                    if (params != null) {\r\n                        httpPost.setEntity(new UrlEncodedFormEntity(params));\r\n                    }\r\n    \r\n                    httpResponse = httpClient.execute(httpPost);\r\n    \r\n                } else if (method == GET) {\r\n                    // appending params to url\r\n                    if (params != null) {\r\n                        String paramString = URLEncodedUtils\r\n                                .format(params, &quot;utf-8&quot;);\r\n                        url += &quot;?&quot; + paramString;\r\n                    }\r\n                    HttpGet httpGet = new HttpGet(url);\r\n    \r\n                    httpResponse = httpClient.execute(httpGet);\r\n    \r\n                }\r\n                httpEntity = httpResponse.getEntity();\r\n                response = EntityUtils.toString(httpEntity);\r\n    \r\n            } catch (UnsupportedEncodingException e) {\r\n                e.printStackTrace();\r\n            } catch (ClientProtocolException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return response;\r\n    \r\n        }\r\n    }\r\n\r\n \r\nAnd I&#39;m passing the parameters from my Activity file \r\n\r\n    // BACKGROUND EXECUTION STARTS\r\n            @Override\r\n            protected Void doInBackground(Void... arg0) {\r\n    \r\n    \r\n                // Creating service handler class instance\r\n                ServiceHandler sh = new ServiceHandler();\r\n    \r\n               List&lt;NameValuePair&gt; params = new ArrayList&lt;NameValuePair&gt;();\r\n                params.add(new BasicNameValuePair(&quot;pkey&quot;, &quot;pvalue&quot;));\r\n                sh.makeServiceCall(url, ServiceHandler.POST, params);\r\n    \r\n    \r\n                // Making a request to url and getting response\r\n                String jsonStr = sh.makeServiceCall(url, ServiceHandler.POST);\r\n    \r\n                Log.d(&quot;Response: &quot;, &quot;&gt; &quot; + jsonStr);\r\n\r\nI&#39;m able to connect to my server but it is not receiving any parameters from my application.\r\n\r\nCan someone modify it and send the working code \r\nThank You","title":"Sending Parameter using POST method in Android","body":"<p>I want to send a parameter using POST method to server. </p>\n\n<p>I'm using a ServiceHandler.java file to process the request </p>\n\n<pre><code>public class ServiceHandler {\n\n    static String response = null;\n    public final static int GET = 1;\n    public final static int POST = 2;\n\n    public ServiceHandler() {\n\n    }\n\n    /**\n     * Making service call\n     * @url - url to make request\n     * @method - http request method\n     * */\n    public String makeServiceCall(String url, int method) {\n        return this.makeServiceCall(url, method, null);\n    }\n\n    /**\n     * Making service call\n     * @url - url to make request\n     * @method - http request method\n     * @params - http request params\n     * */\n    public String makeServiceCall(String url, int method,\n                                  List&lt;NameValuePair&gt; params) {\n        try {\n            // http client\n            DefaultHttpClient httpClient = new DefaultHttpClient();\n            HttpEntity httpEntity = null;\n            HttpResponse httpResponse = null;\n\n            // Checking http request method type\n            if (method == POST) {\n                HttpPost httpPost = new HttpPost(url);\n\n                // adding post params\n                if (params != null) {\n                    httpPost.setEntity(new UrlEncodedFormEntity(params));\n                }\n\n                httpResponse = httpClient.execute(httpPost);\n\n            } else if (method == GET) {\n                // appending params to url\n                if (params != null) {\n                    String paramString = URLEncodedUtils\n                            .format(params, \"utf-8\");\n                    url += \"?\" + paramString;\n                }\n                HttpGet httpGet = new HttpGet(url);\n\n                httpResponse = httpClient.execute(httpGet);\n\n            }\n            httpEntity = httpResponse.getEntity();\n            response = EntityUtils.toString(httpEntity);\n\n        } catch (UnsupportedEncodingException e) {\n            e.printStackTrace();\n        } catch (ClientProtocolException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        return response;\n\n    }\n}\n</code></pre>\n\n<p>And I'm passing the parameters from my Activity file </p>\n\n<pre><code>// BACKGROUND EXECUTION STARTS\n        @Override\n        protected Void doInBackground(Void... arg0) {\n\n\n            // Creating service handler class instance\n            ServiceHandler sh = new ServiceHandler();\n\n           List&lt;NameValuePair&gt; params = new ArrayList&lt;NameValuePair&gt;();\n            params.add(new BasicNameValuePair(\"pkey\", \"pvalue\"));\n            sh.makeServiceCall(url, ServiceHandler.POST, params);\n\n\n            // Making a request to url and getting response\n            String jsonStr = sh.makeServiceCall(url, ServiceHandler.POST);\n\n            Log.d(\"Response: \", \"&gt; \" + jsonStr);\n</code></pre>\n\n<p>I'm able to connect to my server but it is not receiving any parameters from my application.</p>\n\n<p>Can someone modify it and send the working code \nThank You</p>\n"},{"tags":["java","spring","spring-boot","security","reactive"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1673023863,"post_id":75028627,"comment_id":132411521,"body_markdown":"What is in your application.properties? You request your app to be both a resource-server and a client (you declared dependencies on both starters). Is it intentional?","body":"What is in your application.properties? You request your app to be both a resource-server and a client (you declared dependencies on both starters). Is it intentional?"},{"owner":{"account_id":6724723,"reputation":43,"user_id":5183214,"display_name":"Adek"},"score":0,"creation_date":1673338053,"post_id":75028627,"comment_id":132470322,"body_markdown":"Hi @ch4mp Thanks for the comment, yeah it acts as a resource server as well as a client for the AWS Cognito. that&#39;s the feature I&#39;m trying to implement here. Btw I was able to resolve the above mentioned issue that was related to the few of SecurityWebFilterChain that I have used and when I altered/changed the order of it the app started running but still it doesn&#39;t call the custom authentication manager that I implemented. For that I have to dig deeper I guess.","body":"Hi @ch4mp Thanks for the comment, yeah it acts as a resource server as well as a client for the AWS Cognito. that&#39;s the feature I&#39;m trying to implement here. Btw I was able to resolve the above mentioned issue that was related to the few of SecurityWebFilterChain that I have used and when I altered/changed the order of it the app started running but still it doesn&#39;t call the custom authentication manager that I implemented. For that I have to dig deeper I guess."}],"answers":[{"tags":[],"owner":{"account_id":6724723,"reputation":43,"user_id":5183214,"display_name":"Adek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673338487,"creation_date":1673338487,"answer_id":75067162,"question_id":75028627,"body_markdown":"I was able to start the application without above mentioned error by changing/altering the SecurityWebFilterChains\r\n\r\n```\r\n@Configuration\r\n@EnableWebFluxSecurity\r\n@EnableReactiveMethodSecurity\r\npublic class WebSecurityConfiguration {\r\n\r\n    @Bean\r\n    public SecurityWebFilterChain springSecurityFilterChain(\r\n            ServerHttpSecurity http) {\r\n        http.csrf().disable().cors()\r\n                .and().authorizeExchange().anyExchange().authenticated()\r\n.and().oauth2ResourceServer().authenticationManagerResolver(customAuthenticationManager());\r\n\r\n        return http.build();\r\n    }\r\n}\r\n```","title":"Unsatisfied dependency expressed through method &#39;setSecurityWebFilterChains&#39; parameter 0 : authenticationManager cannot be null","body":"<p>I was able to start the application without above mentioned error by changing/altering the SecurityWebFilterChains</p>\n<pre><code>@Configuration\n@EnableWebFluxSecurity\n@EnableReactiveMethodSecurity\npublic class WebSecurityConfiguration {\n\n    @Bean\n    public SecurityWebFilterChain springSecurityFilterChain(\n            ServerHttpSecurity http) {\n        http.csrf().disable().cors()\n                .and().authorizeExchange().anyExchange().authenticated()\n.and().oauth2ResourceServer().authenticationManagerResolver(customAuthenticationManager());\n\n        return http.build();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6724723,"reputation":43,"user_id":5183214,"display_name":"Adek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1359,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75067162,"answer_count":1,"score":0,"last_activity_date":1673338487,"creation_date":1672994132,"question_id":75028627,"body_markdown":"I&#39;m getting the below error after I try to implement the SecurityWebFilterChain for the reactive application. I think this could be related to the dependency versioning issue because without WebSecurityConfiguration class changes the application started fine.\r\n\r\n```\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.security.config.annotation.web.reactive.WebFluxSecurityConfiguration&#39;: Unsatisfied dependency expressed through method &#39;setSecurityWebFilterChains&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;springSecurityFilterChain&#39; defined in class path resource [com/test123/test123/security/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.server.SecurityWebFilterChain]: Factory method &#39;springSecurityFilterChain&#39; threw exception; nested exception is java.lang.IllegalArgumentException: authenticationManager cannot be null\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:768) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:720) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:66) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat com.test123.test123.Test123Application.main(Test123Application.java:12) ~[classes/:na]\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;springSecurityFilterChain&#39; defined in class path resource [com/test123/test123/security/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.server.SecurityWebFilterChain]: Factory method &#39;springSecurityFilterChain&#39; threw exception; nested exception is java.lang.IllegalArgumentException: authenticationManager cannot be null\r\n\t\r\n\r\n```\r\n\r\nWeb security configuration file:\r\n\r\n```\r\n@Configuration\r\n@EnableWebFluxSecurity\r\n@EnableReactiveMethodSecurity\r\npublic class WebSecurityConfiguration {\r\n\r\n    @Bean\r\n    public SecurityWebFilterChain springSecurityFilterChain(\r\n            ServerHttpSecurity http) {\r\n        http.csrf().disable()\r\n                .authorizeExchange()\r\n                .pathMatchers(&quot;/test&quot;).permitAll()\r\n//                .and().formLogin().authenticationFailureHandler((exchage, exception) -&gt; Mono.error(exception))\r\n                        .and().httpBasic();\r\n//                .and().oauth2ResourceServer().authenticationManagerResolver(customAuthenticationManager());\r\n        return http.build();\r\n    }\r\n}\r\n\r\n```\r\n\r\npom.xml file:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.7&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.test123&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;test123&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;test123&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;spring.cloud-version&gt;2021.0.5&lt;/spring.cloud-version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb-reactive&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.nimbusds&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;oauth2-oidc-sdk&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.nimbusds&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;nimbus-jose-jwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.21&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring.cloud-version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nOne other thing I noticed when I removed the oauth2 resource server dependency the application is starting fine. but since i want to implement custom authentication manager i need that dependency as well\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Unsatisfied dependency expressed through method &#39;setSecurityWebFilterChains&#39; parameter 0 : authenticationManager cannot be null","body":"<p>I'm getting the below error after I try to implement the SecurityWebFilterChain for the reactive application. I think this could be related to the dependency versioning issue because without WebSecurityConfiguration class changes the application started fine.</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.reactive.WebFluxSecurityConfiguration': Unsatisfied dependency expressed through method 'setSecurityWebFilterChains' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain' defined in class path resource [com/test123/test123/security/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.server.SecurityWebFilterChain]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalArgumentException: authenticationManager cannot be null\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:768) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:720) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:66) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.7.jar:2.7.7]\n    at com.test123.test123.Test123Application.main(Test123Application.java:12) ~[classes/:na]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain' defined in class path resource [com/test123/test123/security/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.server.SecurityWebFilterChain]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalArgumentException: authenticationManager cannot be null\n    \n\n</code></pre>\n<p>Web security configuration file:</p>\n<pre><code>@Configuration\n@EnableWebFluxSecurity\n@EnableReactiveMethodSecurity\npublic class WebSecurityConfiguration {\n\n    @Bean\n    public SecurityWebFilterChain springSecurityFilterChain(\n            ServerHttpSecurity http) {\n        http.csrf().disable()\n                .authorizeExchange()\n                .pathMatchers(&quot;/test&quot;).permitAll()\n//                .and().formLogin().authenticationFailureHandler((exchage, exception) -&gt; Mono.error(exception))\n                        .and().httpBasic();\n//                .and().oauth2ResourceServer().authenticationManagerResolver(customAuthenticationManager());\n        return http.build();\n    }\n}\n\n</code></pre>\n<p>pom.xml file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.7&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.test123&lt;/groupId&gt;\n    &lt;artifactId&gt;test123&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;test123&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;spring.cloud-version&gt;2021.0.5&lt;/spring.cloud-version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb-reactive&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.nimbusds&lt;/groupId&gt;\n            &lt;artifactId&gt;oauth2-oidc-sdk&lt;/artifactId&gt;\n            &lt;version&gt;6.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.nimbusds&lt;/groupId&gt;\n            &lt;artifactId&gt;nimbus-jose-jwt&lt;/artifactId&gt;\n            &lt;version&gt;8.21&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring.cloud-version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>One other thing I noticed when I removed the oauth2 resource server dependency the application is starting fine. but since i want to implement custom authentication manager i need that dependency as well</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","public-key","private-key"],"comments":[{"owner":{"account_id":1305028,"reputation":7232,"user_id":1254166,"display_name":"Eli Rosencruft"},"score":0,"creation_date":1349853120,"post_id":8434428,"comment_id":17330568,"body_markdown":"See http://stackoverflow.com/questions/11345346/how-to-get-a-rsa-publickey-by-giving-a-privatekey and below answer based on answer to that question.","body":"See <a href=\"http://stackoverflow.com/questions/11345346/how-to-get-a-rsa-publickey-by-giving-a-privatekey\" title=\"how to get a rsa publickey by giving a privatekey\">stackoverflow.com/questions/11345346/&hellip;</a> and below answer based on answer to that question."}],"answers":[{"tags":[],"owner":{"account_id":952951,"reputation":27864,"user_id":978756,"accept_rate":76,"display_name":"Polynomial"},"down_vote_count":22,"up_vote_count":13,"is_accepted":true,"score":-9,"last_activity_date":1519036287,"creation_date":1323362539,"answer_id":8434440,"question_id":8434428,"body_markdown":"You cannot generate either key directly from the other. It is mathematically impossible. If you had a key blob that contained *both* the public and private keys, you could extract either one of them with relative ease.\r\n\r\n**EDIT, 2017:** Many years and a much better understanding of crypto later, and it&#39;s now clear to me that this answer isn&#39;t really correct.\r\n\r\nTo quote Wikipedia:\r\n\r\n&gt; The public key consists of the modulus n and the public (or encryption) exponent e. The private key consists of the modulus n and the private (or decryption) exponent d, which must be kept secret. p, q, and λ(n) must also be kept secret because they can be used to calculate d.\r\n\r\nThe public modulus n can be computed as p &amp;times; q. The only thing missing from a raw private key is e, but this value is usually selected as 65537, and if not you can still compute e from d and λ(n).\r\n\r\nHowever, many private key storage formats actually contain the public modulus n alongside the other components, so you can just do a direct extraction of the values.\r\n\r\n**EDIT, 2018:** Still getting downvotes for this, and rightly so! I&#39;m leaving this answer up so people can see why I was originally wrong, and to remind myself not to be wrong in future.","title":"Get public key from private in Java","body":"<p>You cannot generate either key directly from the other. It is mathematically impossible. If you had a key blob that contained <em>both</em> the public and private keys, you could extract either one of them with relative ease.</p>\n\n<p><strong>EDIT, 2017:</strong> Many years and a much better understanding of crypto later, and it's now clear to me that this answer isn't really correct.</p>\n\n<p>To quote Wikipedia:</p>\n\n<blockquote>\n  <p>The public key consists of the modulus n and the public (or encryption) exponent e. The private key consists of the modulus n and the private (or decryption) exponent d, which must be kept secret. p, q, and λ(n) must also be kept secret because they can be used to calculate d.</p>\n</blockquote>\n\n<p>The public modulus n can be computed as p &times; q. The only thing missing from a raw private key is e, but this value is usually selected as 65537, and if not you can still compute e from d and λ(n).</p>\n\n<p>However, many private key storage formats actually contain the public modulus n alongside the other components, so you can just do a direct extraction of the values.</p>\n\n<p><strong>EDIT, 2018:</strong> Still getting downvotes for this, and rightly so! I'm leaving this answer up so people can see why I was originally wrong, and to remind myself not to be wrong in future.</p>\n"},{"tags":[],"owner":{"account_id":1305028,"reputation":7232,"user_id":1254166,"display_name":"Eli Rosencruft"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1427489715,"creation_date":1349852472,"answer_id":12813708,"question_id":8434428,"body_markdown":"The assumption is that we are talking about RSA private and Public keys. Then, if you are working from a PEM format file, then first you need to read the private key from the file into a PrivateKey object:\r\n\r\n        public PrivateKey readPemRsaPrivateKey(String pemFilename) throws\r\n                java.io.IOException,\r\n                java.security.NoSuchAlgorithmException,\r\n                java.security.spec.InvalidKeySpecException\r\n        {\r\n                String pemString = File2String(pemFilename);\r\n\r\n                pemString = pemString.replace(&quot;-----BEGIN RSA PRIVATE KEY-----\\n&quot;, &quot;&quot;);\r\n                pemString = pemString.replace(&quot;-----END RSA PRIVATE KEY-----&quot;, &quot;&quot;);\r\n\r\n                byte[] decoded = Base64.decodeBase64(pemString);\r\n\r\n                PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(decoded);\r\n                KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n\r\n                return kf.generatePrivate(keySpec);\r\n        }\r\n\r\nwhere File2String is something like:\r\n\r\n        private static String File2String(String fileName) throws\r\n                java.io.FileNotFoundException, java.io.IOException\r\n        {\r\n                File file = new File(fileName);\r\n\r\n                char[] buffer = null;\r\n\r\n                BufferedReader bufferedReader = new BufferedReader(new FileReader(file));\r\n\r\n                buffer = new char[(int)file.length()];\r\n\r\n                int i = 0;\r\n                int c = bufferedReader.read();\r\n\r\n                while (c != -1) {\r\n                        buffer[i++] = (char)c;\r\n                        c = bufferedReader.read();\r\n                }\r\n                return new String(buffer);\r\n        }\r\n\r\nNow you can generate the corresponding PublicKey with code like this:\r\n\r\n        import java.security.interfaces.RSAPrivateCrtKey;\r\n        import java.security.spec.RSAPublicKeySpec;\r\n\r\n...\r\n\r\n        PrivateKey myPrivateKey = readPemRsaPrivateKey(myPrivateKeyPemFileName);\r\n        RSAPrivateCrtKey privk = (RSAPrivateCrtKey)myPrivateKey;\r\n\r\n        RSAPublicKeySpec publicKeySpec = new java.security.spec.RSAPublicKeySpec(privk.getModulus(), privk.getPublicExponent());\r\n\r\n        KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        PublicKey myPublicKey = keyFactory.generatePublic(publicKeySpec);\r\n\r\n\r\nCredits: https://stackoverflow.com/questions/11345346/how-to-get-a-rsa-publickey-by-giving-a-privatekey","title":"Get public key from private in Java","body":"<p>The assumption is that we are talking about RSA private and Public keys. Then, if you are working from a PEM format file, then first you need to read the private key from the file into a PrivateKey object:</p>\n\n<pre><code>    public PrivateKey readPemRsaPrivateKey(String pemFilename) throws\n            java.io.IOException,\n            java.security.NoSuchAlgorithmException,\n            java.security.spec.InvalidKeySpecException\n    {\n            String pemString = File2String(pemFilename);\n\n            pemString = pemString.replace(\"-----BEGIN RSA PRIVATE KEY-----\\n\", \"\");\n            pemString = pemString.replace(\"-----END RSA PRIVATE KEY-----\", \"\");\n\n            byte[] decoded = Base64.decodeBase64(pemString);\n\n            PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(decoded);\n            KeyFactory kf = KeyFactory.getInstance(\"RSA\");\n\n            return kf.generatePrivate(keySpec);\n    }\n</code></pre>\n\n<p>where File2String is something like:</p>\n\n<pre><code>    private static String File2String(String fileName) throws\n            java.io.FileNotFoundException, java.io.IOException\n    {\n            File file = new File(fileName);\n\n            char[] buffer = null;\n\n            BufferedReader bufferedReader = new BufferedReader(new FileReader(file));\n\n            buffer = new char[(int)file.length()];\n\n            int i = 0;\n            int c = bufferedReader.read();\n\n            while (c != -1) {\n                    buffer[i++] = (char)c;\n                    c = bufferedReader.read();\n            }\n            return new String(buffer);\n    }\n</code></pre>\n\n<p>Now you can generate the corresponding PublicKey with code like this:</p>\n\n<pre><code>    import java.security.interfaces.RSAPrivateCrtKey;\n    import java.security.spec.RSAPublicKeySpec;\n</code></pre>\n\n<p>...</p>\n\n<pre><code>    PrivateKey myPrivateKey = readPemRsaPrivateKey(myPrivateKeyPemFileName);\n    RSAPrivateCrtKey privk = (RSAPrivateCrtKey)myPrivateKey;\n\n    RSAPublicKeySpec publicKeySpec = new java.security.spec.RSAPublicKeySpec(privk.getModulus(), privk.getPublicExponent());\n\n    KeyFactory keyFactory = KeyFactory.getInstance(\"RSA\");\n    PublicKey myPublicKey = keyFactory.generatePublic(publicKeySpec);\n</code></pre>\n\n<p>Credits: <a href=\"https://stackoverflow.com/questions/11345346/how-to-get-a-rsa-publickey-by-giving-a-privatekey\">How to get a RSA PublicKey by giving a PrivateKey?</a></p>\n"},{"tags":[],"owner":{"account_id":4435613,"reputation":101,"user_id":3611538,"display_name":"caschulz88"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1406103494,"creation_date":1406103494,"answer_id":24905237,"question_id":8434428,"body_markdown":"Please make sure that Eli Rosencruft answer is basically correct, but the order of the modulus and the public exponent are incorrect! This is the correct statement:\r\n\r\n    RSAPublicKeySpec publicKeySpec = new java.security.spec.RSAPublicKeySpec(privk.getModulus(), privk.getPublicExponent());","title":"Get public key from private in Java","body":"<p>Please make sure that Eli Rosencruft answer is basically correct, but the order of the modulus and the public exponent are incorrect! This is the correct statement:</p>\n\n<pre><code>RSAPublicKeySpec publicKeySpec = new java.security.spec.RSAPublicKeySpec(privk.getModulus(), privk.getPublicExponent());\n</code></pre>\n"}],"owner":{"account_id":1002078,"reputation":6393,"user_id":1016721,"accept_rate":91,"display_name":"BRabbit27"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31635,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":8434440,"answer_count":3,"score":21,"last_activity_date":1673338441,"creation_date":1323362482,"question_id":8434428,"body_markdown":"I remember do this long time ago with OpenSSL, but I want to know if it&#39;s possible and how, I&#39;ve never used Cryptography on java.\r\n","title":"Get public key from private in Java","body":"<p>I remember do this long time ago with OpenSSL, but I want to know if it's possible and how, I've never used Cryptography on java.</p>\n"},{"tags":["java","spring","spring-boot","maven","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673333579,"post_id":75066324,"comment_id":132469184,"body_markdown":"The problem is your project setup. You&#39;ve included the `spring-boot-maven-plugin` in your root pom, as all the others use this as the parent the `spring-boot-maven-plugin` applies to that as well and thus not building a regular jar but a spring boot jar, which is different. You should create another module and only that module should have the `spring-boot-maven-plugin` the others should just build a a regular jar.","body":"The problem is your project setup. You&#39;ve included the <code>spring-boot-maven-plugin</code> in your root pom, as all the others use this as the parent the <code>spring-boot-maven-plugin</code> applies to that as well and thus not building a regular jar but a spring boot jar, which is different. You should create another module and only that module should have the <code>spring-boot-maven-plugin</code> the others should just build a a regular jar."},{"owner":{"account_id":17325610,"reputation":93,"user_id":12549915,"display_name":"Shahzaib"},"score":1,"creation_date":1673333745,"post_id":75066324,"comment_id":132469223,"body_markdown":"Hi @M.Deinum I included that plugin following a solution from someone on stackoverflow, However I get the same error with or without that plugin.","body":"Hi @M.Deinum I included that plugin following a solution from someone on stackoverflow, However I get the same error with or without that plugin."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1673335096,"post_id":75066324,"comment_id":132469535,"body_markdown":"I am concerned about all the spaces surrounding the `=` signs","body":"I am concerned about all the spaces surrounding the <code>=</code> signs"},{"owner":{"account_id":17325610,"reputation":93,"user_id":12549915,"display_name":"Shahzaib"},"score":0,"creation_date":1673335356,"post_id":75066324,"comment_id":132469597,"body_markdown":"@XtremeBaumer Deleted the extra spaces around = signs, still getting the same error","body":"@XtremeBaumer Deleted the extra spaces around = signs, still getting the same error"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1673335927,"post_id":75066324,"comment_id":132469748,"body_markdown":"`Failed to instantiate [com.zaxxer.hikari.HikariDataSource]` -&gt; your configuration is not set up for hikari datasources. The pattern is different: `@ConfigurationProperties(prefix = &quot;spring.datasource.hikari&quot;)`","body":"<code>Failed to instantiate [com.zaxxer.hikari.HikariDataSource]</code> -&gt; your configuration is not set up for hikari datasources. The pattern is different: <code>@ConfigurationProperties(prefix = &quot;spring.datasource.hikari&quot;)</code>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1673336626,"post_id":75066324,"comment_id":132469942,"body_markdown":"Still the problem is related to the fact that all your modules have the wrong structure. You should have 1 module that builds with the `spring-boot-maven-plugin` and contains the `application.properties`. That file should only exists once, also you should ditch the `maven-resource-plugin` as that is already applied. The proble is your structure and building. The root pom should be of type `pom` and not the default `jar` as well.","body":"Still the problem is related to the fact that all your modules have the wrong structure. You should have 1 module that builds with the <code>spring-boot-maven-plugin</code> and contains the <code>application.properties</code>. That file should only exists once, also you should ditch the <code>maven-resource-plugin</code> as that is already applied. The proble is your structure and building. The root pom should be of type <code>pom</code> and not the default <code>jar</code> as well."},{"owner":{"account_id":17325610,"reputation":93,"user_id":12549915,"display_name":"Shahzaib"},"score":0,"creation_date":1673337242,"post_id":75066324,"comment_id":132470108,"body_markdown":"@XtremeBaumer I added &#39;@ConfigurationProperties(prefix = &quot;spring.datasource.hikari&quot;)&#39; on my sprig boot application class but it doesn&#39;t change anything, still getting the same error.","body":"@XtremeBaumer I added &#39;@ConfigurationProperties(prefix = &quot;spring.datasource.hikari&quot;)&#39; on my sprig boot application class but it doesn&#39;t change anything, still getting the same error."},{"owner":{"account_id":17325610,"reputation":93,"user_id":12549915,"display_name":"Shahzaib"},"score":1,"creation_date":1673337414,"post_id":75066324,"comment_id":132470161,"body_markdown":"@M.Deinum thanks, The root pom type is pom, but I think I understand what you mean by having an additional module that builds with the spring-boot-maven plugin, can you guide me a little about how I should go about structuring the project for that?","body":"@M.Deinum thanks, The root pom type is pom, but I think I understand what you mean by having an additional module that builds with the spring-boot-maven plugin, can you guide me a little about how I should go about structuring the project for that?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1673337417,"post_id":75066324,"comment_id":132470163,"body_markdown":"No, you need `spring.datasource.hikari.url` in your properties file","body":"No, you need <code>spring.datasource.hikari.url</code> in your properties file"},{"owner":{"account_id":17325610,"reputation":93,"user_id":12549915,"display_name":"Shahzaib"},"score":0,"creation_date":1673338451,"post_id":75066324,"comment_id":132470430,"body_markdown":"@XtremeBaumer made the changes for `spring.datasource.hikari.url`, new application.properties is in the edited question however it causes the same error as before.","body":"@XtremeBaumer made the changes for <code>spring.datasource.hikari.url</code>, new application.properties is in the edited question however it causes the same error as before."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673339017,"post_id":75066324,"comment_id":132470577,"body_markdown":"The regular `spring.datasource.url` will work. You can just add another module next to `controller`, `data` etc. named `app` which has all the other modules as a dependency, includes the configuration and builds the executable jar (and ofcourse contains the `application.properties`.","body":"The regular <code>spring.datasource.url</code> will work. You can just add another module next to <code>controller</code>, <code>data</code> etc. named <code>app</code> which has all the other modules as a dependency, includes the configuration and builds the executable jar (and ofcourse contains the <code>application.properties</code>."},{"owner":{"account_id":17325610,"reputation":93,"user_id":12549915,"display_name":"Shahzaib"},"score":1,"creation_date":1673342029,"post_id":75066324,"comment_id":132471496,"body_markdown":"@M.Deinum should this app module be a maven module or spring boot project? All other modules are maven modules right now. And should I just run from main function in  root project?","body":"@M.Deinum should this app module be a maven module or spring boot project? All other modules are maven modules right now. And should I just run from main function in  root project?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1673344499,"post_id":75066324,"comment_id":132472305,"body_markdown":"Why wouldn&#39;t a spring boot project be a module? It is just a maven module with the Spring Boot plugin and a class with a main bootstrapping the application.","body":"Why wouldn&#39;t a spring boot project be a module? It is just a maven module with the Spring Boot plugin and a class with a main bootstrapping the application."}],"answers":[{"tags":[],"owner":{"account_id":25387686,"reputation":83,"user_id":19199234,"display_name":"Rayyan Karimi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673336388,"creation_date":1673336388,"answer_id":75066832,"question_id":75066324,"body_markdown":"The JPA (Java persistence API) is a java specification for ORM (Object-Relational Mapping) tools. The &quot;spring-boot-starter-data-jpa&quot; dependency enables ORM in the context of the spring boot framework.\r\n\r\nThe JPA auto configuration feature of the spring boot application attempts to establish database connection using JPA Datasource. The JPA DataSource bean requires database driver to connect to a database.\r\n\r\nThe database driver should be available as a dependency in the pom.xml file. For the external databases such as Oracle, SQL Server, MySql, DB2, Postgres, MongoDB etc requires the database JDBC connection properties to establish the connection.\r\n\r\nYou need to configure the database driver and the JDBC connection properties to fix this exception -&gt; Failed to configure a DataSource: ‘url’ attribute is not specified and no embedded datasource could be configured. Reason: Failed to determine a suitable driver class.\r\n\r\napplication.properties\r\n\r\n    spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration \r\n\r\napplication.yaml\r\n\r\n    spring:\r\n      autoconfigure:\r\n        exclude: org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration\r\n\r\nBy Programming :**Try this one, I built your demo project and ran it successfully using this one.**\r\n\r\n    @SpringBootApplication(exclude =  {DataSourceAutoConfiguration.class })","title":"Spring Boot Modular Project: Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured","body":"<p>The JPA (Java persistence API) is a java specification for ORM (Object-Relational Mapping) tools. The &quot;spring-boot-starter-data-jpa&quot; dependency enables ORM in the context of the spring boot framework.</p>\n<p>The JPA auto configuration feature of the spring boot application attempts to establish database connection using JPA Datasource. The JPA DataSource bean requires database driver to connect to a database.</p>\n<p>The database driver should be available as a dependency in the pom.xml file. For the external databases such as Oracle, SQL Server, MySql, DB2, Postgres, MongoDB etc requires the database JDBC connection properties to establish the connection.</p>\n<p>You need to configure the database driver and the JDBC connection properties to fix this exception -&gt; Failed to configure a DataSource: ‘url’ attribute is not specified and no embedded datasource could be configured. Reason: Failed to determine a suitable driver class.</p>\n<p>application.properties</p>\n<pre><code>spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration \n</code></pre>\n<p>application.yaml</p>\n<pre><code>spring:\n  autoconfigure:\n    exclude: org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration\n</code></pre>\n<p>By Programming :<strong>Try this one, I built your demo project and ran it successfully using this one.</strong></p>\n<pre><code>@SpringBootApplication(exclude =  {DataSourceAutoConfiguration.class })\n</code></pre>\n"}],"owner":{"account_id":17325610,"reputation":93,"user_id":12549915,"display_name":"Shahzaib"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":626,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673338383,"creation_date":1673332815,"question_id":75066324,"body_markdown":"I&#39;m working on a Modular Spring Boot application following guidelines from : [https://www.section.io/engineering-education/multi-module-architecture-with-spring-boot-and-maven/][1]\r\n\r\nHowever this article does not speak about application.properties files for different modules. I&#39;ve included this in my **root application.properties** file:\r\n\r\n    spring.datasource.url = jdbc:mysql://localhost:3306/spring\r\n    spring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n    spring.datasource.username = root\r\n    spring.datasource.password =\r\n    \r\n    spring.jpa.show-sql = true\r\n    \r\n    spring.jpa.hibernate.ddl-auto = update\r\n    \r\n    spring.jpa.hibernate.naming.physical-strategy = org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n    \r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQLDialect\r\n\r\n**Project Structure**\r\n\r\n[![Project Structure][2]][2]\r\n\r\n\r\nHere the root is a spring boot application and the data, service &amp; controller are maven modules.\r\n\r\n**Root pom.xml file**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.dbiz&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;esuite&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;esuite&lt;/name&gt;\r\n    \t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \t&lt;description&gt;eSuite project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;19&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                    &lt;/plugin&gt;\t\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \t&lt;modules&gt;\r\n    \t\t&lt;module&gt;data&lt;/module&gt;\r\n    \t\t&lt;module&gt;service&lt;/module&gt;\r\n    \t\t&lt;module&gt;controller&lt;/module&gt;\r\n    \t&lt;/modules&gt;\r\n    &lt;/project&gt;\r\n\r\n**Modules pom.xml file**\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;artifactId&gt;controller&lt;/artifactId&gt;\r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n        &lt;parent&gt;\r\n        &lt;groupId&gt;com.dbiz&lt;/groupId&gt;\r\n        &lt;artifactId&gt;esuite&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;/parent&gt;\r\n      &lt;dependencies&gt;\r\n      \t&lt;dependency&gt;\r\n      \t\t&lt;groupId&gt;com.dbiz&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;service&lt;/artifactId&gt;\r\n      \t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t&lt;dependency&gt;\r\n      \t\t&lt;groupId&gt;com.dbiz&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;data&lt;/artifactId&gt;\r\n      \t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nThe other modules pom.xml files are similar.\r\n\r\n**Stack Trace**\r\n\r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::                (v3.0.1)\r\n    \r\n    2023-01-10T11:14:27.773+05:00  INFO 13664 --- [           main] com.dbiz.esuite.EsuiteApplication        : Starting EsuiteApplication using Java 19.0.1 with PID 13664 (D:\\eclipse-workspace\\esuite\\target\\classes started by Dell in D:\\eclipse-workspace\\esuite)\r\n    2023-01-10T11:14:27.782+05:00  INFO 13664 --- [           main] com.dbiz.esuite.EsuiteApplication        : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2023-01-10T11:14:31.986+05:00  INFO 13664 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2023-01-10T11:14:32.210+05:00  INFO 13664 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 33 ms. Found 0 JPA repository interfaces.\r\n    2023-01-10T11:14:38.609+05:00  INFO 13664 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2023-01-10T11:14:38.647+05:00  INFO 13664 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2023-01-10T11:14:38.647+05:00  INFO 13664 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.4]\r\n    2023-01-10T11:14:39.413+05:00  INFO 13664 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2023-01-10T11:14:39.416+05:00  INFO 13664 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 11128 ms\r\n    2023-01-10T11:14:39.553+05:00  WARN 13664 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method &#39;dataSourceScriptDatabaseInitializer&#39; parameter 0: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception with message: Failed to determine a suitable driver class\r\n    2023-01-10T11:14:39.558+05:00  INFO 13664 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n    2023-01-10T11:14:45.176+05:00  INFO 13664 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \r\n    \r\n    Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n    2023-01-10T11:14:45.236+05:00 ERROR 13664 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n    \r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n    \r\n    Reason: Failed to determine a suitable driver class\r\n\r\n\r\nI&#39;ve tried all the solution I can find on Stackoverflow and other forums however none of them is working for me. Any hints or suggestions will be highly appreciated.\r\n\r\nThanks!\r\n\r\n**Edit**\r\n\r\nMade changes to the application.properties file by using `spring.datasource.hikari.url`\r\n\r\n**New Application.properties file**\r\n\r\n    spring.datasource.hikari.driver-class-name=com.mysql.jdbc.Driver\r\n    spring.datasource.hikari.minimum-idle=5\r\n    spring.datasource.hikari.idle-timeout=180000\r\n    spring.datasource.hikari.maximum-pool-size=20\r\n    spring.datasource.hikari.auto-commit=true\r\n    spring.datasource.hikari.pool-name=Mysql-spring.datasource.hikariCP\r\n    spring.datasource.hikari.max-lifetime=1800000\r\n    spring.datasource.hikari.connection-timeout=30000\r\n    spring.datasource.hikari.connection-test-query=SELECT 1\r\n    spring.datasource.hikari.validation-timeout=5000\r\n    spring.datasource.hikari.jdbc-url=jdbc:mysql://localhost:3306/spring\r\n    spring.datasource.hikari.username=root\r\n    spring.datasource.hikari.password=\r\n    \r\n    spring.jpa.show-sql=true\r\n    \r\n    spring.jpa.hibernate.ddl-auto=update\r\n    \r\n    spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n    \r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n\r\n**Result**\r\nStill getting the same error.\r\n\r\n\r\n  [1]: https://www.section.io/engineering-education/multi-module-architecture-with-spring-boot-and-maven/\r\n  [2]: https://i.stack.imgur.com/6GT26.png\r\n\r\n","title":"Spring Boot Modular Project: Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured","body":"<p>I'm working on a Modular Spring Boot application following guidelines from : <a href=\"https://www.section.io/engineering-education/multi-module-architecture-with-spring-boot-and-maven/\" rel=\"nofollow noreferrer\">https://www.section.io/engineering-education/multi-module-architecture-with-spring-boot-and-maven/</a></p>\n<p>However this article does not speak about application.properties files for different modules. I've included this in my <strong>root application.properties</strong> file:</p>\n<pre><code>spring.datasource.url = jdbc:mysql://localhost:3306/spring\nspring.datasource.driver-class-name=com.mysql.jdbc.Driver\nspring.datasource.username = root\nspring.datasource.password =\n\nspring.jpa.show-sql = true\n\nspring.jpa.hibernate.ddl-auto = update\n\nspring.jpa.hibernate.naming.physical-strategy = org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQLDialect\n</code></pre>\n<p><strong>Project Structure</strong></p>\n<p><a href=\"https://i.stack.imgur.com/6GT26.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6GT26.png\" alt=\"Project Structure\" /></a></p>\n<p>Here the root is a spring boot application and the data, service &amp; controller are maven modules.</p>\n<p><strong>Root pom.xml file</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.dbiz&lt;/groupId&gt;\n    &lt;artifactId&gt;esuite&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;esuite&lt;/name&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;description&gt;eSuite project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;19&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;/plugin&gt;   \n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;data&lt;/module&gt;\n        &lt;module&gt;service&lt;/module&gt;\n        &lt;module&gt;controller&lt;/module&gt;\n    &lt;/modules&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>Modules pom.xml file</strong></p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;artifactId&gt;controller&lt;/artifactId&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;parent&gt;\n    &lt;groupId&gt;com.dbiz&lt;/groupId&gt;\n    &lt;artifactId&gt;esuite&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;/parent&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.dbiz&lt;/groupId&gt;\n        &lt;artifactId&gt;service&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.dbiz&lt;/groupId&gt;\n        &lt;artifactId&gt;data&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The other modules pom.xml files are similar.</p>\n<p><strong>Stack Trace</strong></p>\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.0.1)\n\n2023-01-10T11:14:27.773+05:00  INFO 13664 --- [           main] com.dbiz.esuite.EsuiteApplication        : Starting EsuiteApplication using Java 19.0.1 with PID 13664 (D:\\eclipse-workspace\\esuite\\target\\classes started by Dell in D:\\eclipse-workspace\\esuite)\n2023-01-10T11:14:27.782+05:00  INFO 13664 --- [           main] com.dbiz.esuite.EsuiteApplication        : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-01-10T11:14:31.986+05:00  INFO 13664 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-01-10T11:14:32.210+05:00  INFO 13664 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 33 ms. Found 0 JPA repository interfaces.\n2023-01-10T11:14:38.609+05:00  INFO 13664 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-01-10T11:14:38.647+05:00  INFO 13664 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-01-10T11:14:38.647+05:00  INFO 13664 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.4]\n2023-01-10T11:14:39.413+05:00  INFO 13664 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-01-10T11:14:39.416+05:00  INFO 13664 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 11128 ms\n2023-01-10T11:14:39.553+05:00  WARN 13664 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to determine a suitable driver class\n2023-01-10T11:14:39.558+05:00  INFO 13664 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-01-10T11:14:45.176+05:00  INFO 13664 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-01-10T11:14:45.236+05:00 ERROR 13664 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nFailed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n</code></pre>\n<p>I've tried all the solution I can find on Stackoverflow and other forums however none of them is working for me. Any hints or suggestions will be highly appreciated.</p>\n<p>Thanks!</p>\n<p><strong>Edit</strong></p>\n<p>Made changes to the application.properties file by using <code>spring.datasource.hikari.url</code></p>\n<p><strong>New Application.properties file</strong></p>\n<pre><code>spring.datasource.hikari.driver-class-name=com.mysql.jdbc.Driver\nspring.datasource.hikari.minimum-idle=5\nspring.datasource.hikari.idle-timeout=180000\nspring.datasource.hikari.maximum-pool-size=20\nspring.datasource.hikari.auto-commit=true\nspring.datasource.hikari.pool-name=Mysql-spring.datasource.hikariCP\nspring.datasource.hikari.max-lifetime=1800000\nspring.datasource.hikari.connection-timeout=30000\nspring.datasource.hikari.connection-test-query=SELECT 1\nspring.datasource.hikari.validation-timeout=5000\nspring.datasource.hikari.jdbc-url=jdbc:mysql://localhost:3306/spring\nspring.datasource.hikari.username=root\nspring.datasource.hikari.password=\n\nspring.jpa.show-sql=true\n\nspring.jpa.hibernate.ddl-auto=update\n\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\n</code></pre>\n<p><strong>Result</strong>\nStill getting the same error.</p>\n"},{"tags":["java","android","playback"],"comments":[{"owner":{"account_id":13938108,"reputation":106,"user_id":10064680,"display_name":"Pradeep Kumar"},"score":0,"creation_date":1673327218,"post_id":75065319,"comment_id":132468059,"body_markdown":"It could also be that there is a problem with the way that you are attempting to change the language within your app. Could you provide more information about how you are implementing the language change feature in your app?","body":"It could also be that there is a problem with the way that you are attempting to change the language within your app. Could you provide more information about how you are implementing the language change feature in your app?"}],"answers":[{"tags":[],"owner":{"account_id":310854,"reputation":33070,"user_id":624069,"accept_rate":66,"display_name":"Niranj Patel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1673331360,"creation_date":1673331360,"answer_id":75066149,"question_id":75065319,"body_markdown":"When you upload bundle file (.aab) to publish app on Play Store then it will removes localization files based on the user&#39;s phone settings during installation.\r\n\r\nTo avoid this, you need to add below line in **build.gradle** file\r\n\r\n    android {\r\n    \r\n      bundle {\r\n    \r\n         language {\r\n           enableSplit = false\r\n         }\r\n       }\r\n    }","title":"App Language Changing don&#39;t work after publishing in play console?","body":"<p>When you upload bundle file (.aab) to publish app on Play Store then it will removes localization files based on the user's phone settings during installation.</p>\n<p>To avoid this, you need to add below line in <strong>build.gradle</strong> file</p>\n<pre><code>android {\n\n  bundle {\n\n     language {\n       enableSplit = false\n     }\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":27484140,"reputation":11,"user_id":20970679,"display_name":"Mahdin Abid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":504,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673338104,"creation_date":1673322977,"question_id":75065319,"body_markdown":"This app has 4 languages. If I install it via android studio or create APK and then install it on any phone, then changing the language works perfectly. But, After publishing on Play Console and downloading from the store, the app changing language doesn&#39;t work. Only stays English default \r\n\r\nI just added some extra translatable lines in strings of other languages ( string.kurdish, string.german). I do want not it works as changing the language after publishing in-store!","title":"App Language Changing don&#39;t work after publishing in play console?","body":"<p>This app has 4 languages. If I install it via android studio or create APK and then install it on any phone, then changing the language works perfectly. But, After publishing on Play Console and downloading from the store, the app changing language doesn't work. Only stays English default</p>\n<p>I just added some extra translatable lines in strings of other languages ( string.kurdish, string.german). I do want not it works as changing the language after publishing in-store!</p>\n"},{"tags":["java","oracle"],"answers":[{"tags":[],"owner":{"account_id":2273757,"reputation":5020,"user_id":2000555,"display_name":"kakoni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673337690,"creation_date":1673337690,"answer_id":75067030,"question_id":74051989,"body_markdown":"Bit late to answer but could you try this;\r\n\r\n     in:\r\n       type: oracle\r\n       ...\r\n       column_options:\r\n         CTOIAWASE_NO: { value_type: long }\r\n         CTOIAWASE_YY: { value_type: long }\r\n         NSYDN_ORDER: { value_type: long }\r\n(Assuming that those columns are numeric)","title":"Embulk: ignores last record value using incremental data with multiple primary key","body":"<p>Bit late to answer but could you try this;</p>\n<pre><code> in:\n   type: oracle\n   ...\n   column_options:\n     CTOIAWASE_NO: { value_type: long }\n     CTOIAWASE_YY: { value_type: long }\n     NSYDN_ORDER: { value_type: long }\n</code></pre>\n<p>(Assuming that those columns are numeric)</p>\n"}],"owner":{"account_id":26184242,"reputation":11,"user_id":19867048,"display_name":"Saito Mieko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673337690,"creation_date":1665646229,"question_id":74051989,"body_markdown":"Why embulk skips a last record value?\r\n\r\nIs there a workaround?\r\n\r\nCase: a wrong table\r\n```test.yml.liquid\r\nexec:&lt;omit&gt;\r\nin:\r\n  type: oracle\r\n{% include &#39;inc/oracle_axlink&#39; %}  # connection info\r\n  query: |\r\n    SELECT CTOIAWASE_NO, CTOIAWASE_YY, NSYDN_ORDER\r\n    FROM TEST.TABLE1\r\n    WHERE CTOIAWASE_NO &gt;= :CTOIAWASE_NO\r\n    AND   CTOIAWASE_YY &gt;= :CTOIAWASE_YY\r\n    AND   NSYDN_ORDER &gt;= :NSYDN_ORDER\r\n  use_raw_query_with_incremental: true\r\n  incremental_columns: [ CTOIAWASE_NO, CTOIAWASE_YY, NSYDN_ORDER ]\r\n  incremental: true\r\n  last_record: [ &quot;00100002&quot;, &quot;2020&quot;, 1 ]\r\n  options: {characterEncoding: MS932, characterSetResults: MS932,serverTimezone: JST}\r\n  fetch_rows: 10000\r\n  default_column_options:\r\n     NUMERIC: { value_type: long }\r\n     DECIMAL: { value_type: long }\r\nout:&lt;omit&gt;\r\n\r\n```\r\n\r\nError\r\n```\r\n\\$ embulk run test.yml.liquid -c test_diff.yml.liquid\r\n2022-10-13 15:51:59.959 +0900: Embulk v0.9.23\r\n2022-10-13 15:52:01.231 +0900 [WARN] (main): DEPRECATION: JRuby org.jruby.embed.ScriptingContainer is directly injected.\r\n2022-10-13 15:52:04.168 +0900 [INFO] (main): Gem&#39;s home and path are set by default: &quot;/home/dbdevelop/.embulk/lib/gems&quot;\r\n2022-10-13 15:52:07.121 +0900 [INFO] (main): Started Embulk v0.9.23\r\n2022-10-13 15:52:07.323 +0900 [INFO] (0001:transaction): Loaded plugin embulk-input-oracle (0.9.3)\r\n2022-10-13 15:52:07.428 +0900 [INFO] (0001:transaction): Loaded plugin embulk-output-s3_parquet (0.5.2)\r\n2022-10-13 15:52:07.527 +0900 [INFO] (0001:transaction): Connecting to jdbc:oracle:thin:@XXX.XXXX.XXX.XXX:1521/TEST options {oracle.jdbc.ReadTimeout=1800000, user=XXXXXX, serverTimezone=JST, password=***, characterEncoding=MS932, oracle.net.CONNECT_TIMEOUT=300000, characterSetResults=MS932}\r\n2022-10-13 15:52:08.025 +0900 [INFO] (0001:transaction): Using JDBC Driver 12.1.0.2.0\r\n2022-10-13 15:52:08.109 +0900 [INFO] (0001:transaction): Using local thread executor with max_threads=1 / tasks=1\r\n2022-10-13 15:52:08.565 +0900 [INFO] (0001:transaction): === Output Parquet Schema ===\r\n2022-10-13 15:52:08.566 +0900 [INFO] (0001:transaction): message embulk {\r\n2022-10-13 15:52:08.566 +0900 [INFO] (0001:transaction):   optional binary CTOIAWASE_NO (STRING);\r\n2022-10-13 15:52:08.566 +0900 [INFO] (0001:transaction):   optional binary CTOIAWASE_YY (STRING);\r\n2022-10-13 15:52:08.566 +0900 [INFO] (0001:transaction):   optional int64 NSYDN_ORDER;\r\n2022-10-13 15:52:08.566 +0900 [INFO] (0001:transaction): }\r\n2022-10-13 15:52:08.566 +0900 [INFO] (0001:transaction): =============================\r\n2022-10-13 15:52:08.584 +0900 [INFO] (0001:transaction): {done:  0 / 1, running: 0}\r\n2022-10-13 15:52:08.884 +0900 [WARN] (0017:task-0000): Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\nlog4j:WARN No appenders could be found for logger (org.apache.htrace.core.Tracer).\r\nlog4j:WARN Please initialize the log4j system properly.\r\nlog4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\r\n2022-10-13 15:52:09.016 +0900 [INFO] (0017:task-0000): Got brand-new compressor [.snappy]\r\n2022-10-13 15:52:09.347 +0900 [INFO] (0017:task-0000): Local Buffer File: /tmp/embulk-output-s3_parquet-12345678912345/embulk-output-s3_parquet-task-0-0.parquet, Destination: s3://testtesttest-1234567890/append/test/table1.snappy.parquet\r\n2022-10-13 15:52:09.403 +0900 [INFO] (0017:task-0000): Connecting to jdbc:oracle:thin:@XXX.XXX.XXX.XXX:1521/TEST options {oracle.jdbc.ReadTimeout=1800000, user=XXXXXXX, serverTimezone=JST, password=***, characterEncoding=MS932, oracle.net.CONNECT_TIMEOUT=300000, characterSetResults=MS932}\r\n2022-10-13 15:52:09.455 +0900 [INFO] (0017:task-0000): SQL: SELECT CTOIAWASE_NO, CTOIAWASE_YY, NSYDN_ORDER\r\nFROM TEST.TABLE1\r\nWHERE CTOIAWASE_NO &gt;= ?\r\nAND   CTOIAWASE_YY &gt;= :CTOIAWASE_YY\r\nAND   NSYDN_ORDER &gt;= ?\r\n\r\n2022-10-13 15:52:09.455 +0900 [INFO] (0017:task-0000): Parameters: [&quot;2020&quot;, 1]\r\n2022-10-13 15:52:09.703 +0900 [INFO] (0001:transaction): {done:  1 / 1, running: 0}\r\norg.embulk.exec.PartialExecutionException: java.lang.RuntimeException: java.sql.SQLException: INまたはOUTパラメータがありま せん - 索引:: 3\r\n        at org.embulk.exec.BulkLoader$LoaderState.buildPartialExecuteException(BulkLoader.java:340)\r\n        at org.embulk.exec.BulkLoader.doRun(BulkLoader.java:566)\r\n        at org.embulk.exec.BulkLoader.access$000(BulkLoader.java:35)\r\n        at org.embulk.exec.BulkLoader$1.run(BulkLoader.java:353)\r\n        at org.embulk.exec.BulkLoader$1.run(BulkLoader.java:350)\r\n        at org.embulk.spi.Exec.doWith(Exec.java:22)\r\n        at org.embulk.exec.BulkLoader.run(BulkLoader.java:350)\r\n        at org.embulk.EmbulkEmbed.run(EmbulkEmbed.java:242)\r\n        at org.embulk.EmbulkRunner.runInternal(EmbulkRunner.java:291)\r\n        at org.embulk.EmbulkRunner.run(EmbulkRunner.java:155)\r\n        at org.embulk.cli.EmbulkRun.runSubcommand(EmbulkRun.java:431)\r\n        at org.embulk.cli.EmbulkRun.run(EmbulkRun.java:90)\r\n        at org.embulk.cli.Main.main(Main.java:64)\r\nCaused by: java.lang.RuntimeException: java.sql.SQLException: INまたはOUTパラメータがありません - 索引:: 3\r\n        at com.google.common.base.Throwables.propagate(Throwables.java:160)\r\n        at org.embulk.input.jdbc.AbstractJdbcInputPlugin.run(AbstractJdbcInputPlugin.java:509)\r\n        at org.embulk.spi.util.Executors.process(Executors.java:62)\r\n        at org.embulk.spi.util.Executors.process(Executors.java:38)\r\n        at org.embulk.exec.LocalExecutorPlugin$DirectExecutor$1.call(LocalExecutorPlugin.java:170)\r\n        at org.embulk.exec.LocalExecutorPlugin$DirectExecutor$1.call(LocalExecutorPlugin.java:167)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n        at java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.sql.SQLException: INまたはOUTパラメータがありません - 索引:: 3\r\n        at oracle.jdbc.driver.OraclePreparedStatement.processCompletedBindRow(OraclePreparedStatement.java:2076)\r\n        at oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:4790)\r\n        at oracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:4845)\r\n        at oracle.jdbc.driver.OraclePreparedStatementWrapper.executeQuery(OraclePreparedStatementWrapper.java:1501)\r\n        at org.embulk.input.jdbc.JdbcInputConnection$SingleSelect.fetch(JdbcInputConnection.java:194)\r\n        at org.embulk.input.jdbc.AbstractJdbcInputPlugin.fetch(AbstractJdbcInputPlugin.java:571)\r\n        at org.embulk.input.jdbc.AbstractJdbcInputPlugin.run(AbstractJdbcInputPlugin.java:480)\r\n        ... 8 more\r\n\r\nError: java.lang.RuntimeException: java.sql.SQLException: INまたはOUTパラメータがありません - 索引:: 3\r\n```\r\n\r\n&lt;pre&gt;\r\nError: java.lang.RuntimeException: java.sql.SQLException: INまたはOUTパラメータがありません - 索引:: 3\r\nis \r\nError: org.embulk.spi.DataException: Converting last_record value 1 to column index 2 is not supported\r\n&lt;/pre&gt;","title":"Embulk: ignores last record value using incremental data with multiple primary key","body":"<p>Why embulk skips a last record value?</p>\n<p>Is there a workaround?</p>\n<p>Case: a wrong table</p>\n<pre><code>exec:&lt;omit&gt;\nin:\n  type: oracle\n{% include 'inc/oracle_axlink' %}  # connection info\n  query: |\n    SELECT CTOIAWASE_NO, CTOIAWASE_YY, NSYDN_ORDER\n    FROM TEST.TABLE1\n    WHERE CTOIAWASE_NO &gt;= :CTOIAWASE_NO\n    AND   CTOIAWASE_YY &gt;= :CTOIAWASE_YY\n    AND   NSYDN_ORDER &gt;= :NSYDN_ORDER\n  use_raw_query_with_incremental: true\n  incremental_columns: [ CTOIAWASE_NO, CTOIAWASE_YY, NSYDN_ORDER ]\n  incremental: true\n  last_record: [ &quot;00100002&quot;, &quot;2020&quot;, 1 ]\n  options: {characterEncoding: MS932, characterSetResults: MS932,serverTimezone: JST}\n  fetch_rows: 10000\n  default_column_options:\n     NUMERIC: { value_type: long }\n     DECIMAL: { value_type: long }\nout:&lt;omit&gt;\n\n</code></pre>\n<p>Error</p>\n<pre><code>\\$ embulk run test.yml.liquid -c test_diff.yml.liquid\n2022-10-13 15:51:59.959 +0900: Embulk v0.9.23\n2022-10-13 15:52:01.231 +0900 [WARN] (main): DEPRECATION: JRuby org.jruby.embed.ScriptingContainer is directly injected.\n2022-10-13 15:52:04.168 +0900 [INFO] (main): Gem's home and path are set by default: &quot;/home/dbdevelop/.embulk/lib/gems&quot;\n2022-10-13 15:52:07.121 +0900 [INFO] (main): Started Embulk v0.9.23\n2022-10-13 15:52:07.323 +0900 [INFO] (0001:transaction): Loaded plugin embulk-input-oracle (0.9.3)\n2022-10-13 15:52:07.428 +0900 [INFO] (0001:transaction): Loaded plugin embulk-output-s3_parquet (0.5.2)\n2022-10-13 15:52:07.527 +0900 [INFO] (0001:transaction): Connecting to jdbc:oracle:thin:@XXX.XXXX.XXX.XXX:1521/TEST options {oracle.jdbc.ReadTimeout=1800000, user=XXXXXX, serverTimezone=JST, password=***, characterEncoding=MS932, oracle.net.CONNECT_TIMEOUT=300000, characterSetResults=MS932}\n2022-10-13 15:52:08.025 +0900 [INFO] (0001:transaction): Using JDBC Driver 12.1.0.2.0\n2022-10-13 15:52:08.109 +0900 [INFO] (0001:transaction): Using local thread executor with max_threads=1 / tasks=1\n2022-10-13 15:52:08.565 +0900 [INFO] (0001:transaction): === Output Parquet Schema ===\n2022-10-13 15:52:08.566 +0900 [INFO] (0001:transaction): message embulk {\n2022-10-13 15:52:08.566 +0900 [INFO] (0001:transaction):   optional binary CTOIAWASE_NO (STRING);\n2022-10-13 15:52:08.566 +0900 [INFO] (0001:transaction):   optional binary CTOIAWASE_YY (STRING);\n2022-10-13 15:52:08.566 +0900 [INFO] (0001:transaction):   optional int64 NSYDN_ORDER;\n2022-10-13 15:52:08.566 +0900 [INFO] (0001:transaction): }\n2022-10-13 15:52:08.566 +0900 [INFO] (0001:transaction): =============================\n2022-10-13 15:52:08.584 +0900 [INFO] (0001:transaction): {done:  0 / 1, running: 0}\n2022-10-13 15:52:08.884 +0900 [WARN] (0017:task-0000): Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\nlog4j:WARN No appenders could be found for logger (org.apache.htrace.core.Tracer).\nlog4j:WARN Please initialize the log4j system properly.\nlog4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\n2022-10-13 15:52:09.016 +0900 [INFO] (0017:task-0000): Got brand-new compressor [.snappy]\n2022-10-13 15:52:09.347 +0900 [INFO] (0017:task-0000): Local Buffer File: /tmp/embulk-output-s3_parquet-12345678912345/embulk-output-s3_parquet-task-0-0.parquet, Destination: s3://testtesttest-1234567890/append/test/table1.snappy.parquet\n2022-10-13 15:52:09.403 +0900 [INFO] (0017:task-0000): Connecting to jdbc:oracle:thin:@XXX.XXX.XXX.XXX:1521/TEST options {oracle.jdbc.ReadTimeout=1800000, user=XXXXXXX, serverTimezone=JST, password=***, characterEncoding=MS932, oracle.net.CONNECT_TIMEOUT=300000, characterSetResults=MS932}\n2022-10-13 15:52:09.455 +0900 [INFO] (0017:task-0000): SQL: SELECT CTOIAWASE_NO, CTOIAWASE_YY, NSYDN_ORDER\nFROM TEST.TABLE1\nWHERE CTOIAWASE_NO &gt;= ?\nAND   CTOIAWASE_YY &gt;= :CTOIAWASE_YY\nAND   NSYDN_ORDER &gt;= ?\n\n2022-10-13 15:52:09.455 +0900 [INFO] (0017:task-0000): Parameters: [&quot;2020&quot;, 1]\n2022-10-13 15:52:09.703 +0900 [INFO] (0001:transaction): {done:  1 / 1, running: 0}\norg.embulk.exec.PartialExecutionException: java.lang.RuntimeException: java.sql.SQLException: INまたはOUTパラメータがありま せん - 索引:: 3\n        at org.embulk.exec.BulkLoader$LoaderState.buildPartialExecuteException(BulkLoader.java:340)\n        at org.embulk.exec.BulkLoader.doRun(BulkLoader.java:566)\n        at org.embulk.exec.BulkLoader.access$000(BulkLoader.java:35)\n        at org.embulk.exec.BulkLoader$1.run(BulkLoader.java:353)\n        at org.embulk.exec.BulkLoader$1.run(BulkLoader.java:350)\n        at org.embulk.spi.Exec.doWith(Exec.java:22)\n        at org.embulk.exec.BulkLoader.run(BulkLoader.java:350)\n        at org.embulk.EmbulkEmbed.run(EmbulkEmbed.java:242)\n        at org.embulk.EmbulkRunner.runInternal(EmbulkRunner.java:291)\n        at org.embulk.EmbulkRunner.run(EmbulkRunner.java:155)\n        at org.embulk.cli.EmbulkRun.runSubcommand(EmbulkRun.java:431)\n        at org.embulk.cli.EmbulkRun.run(EmbulkRun.java:90)\n        at org.embulk.cli.Main.main(Main.java:64)\nCaused by: java.lang.RuntimeException: java.sql.SQLException: INまたはOUTパラメータがありません - 索引:: 3\n        at com.google.common.base.Throwables.propagate(Throwables.java:160)\n        at org.embulk.input.jdbc.AbstractJdbcInputPlugin.run(AbstractJdbcInputPlugin.java:509)\n        at org.embulk.spi.util.Executors.process(Executors.java:62)\n        at org.embulk.spi.util.Executors.process(Executors.java:38)\n        at org.embulk.exec.LocalExecutorPlugin$DirectExecutor$1.call(LocalExecutorPlugin.java:170)\n        at org.embulk.exec.LocalExecutorPlugin$DirectExecutor$1.call(LocalExecutorPlugin.java:167)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at java.lang.Thread.run(Thread.java:748)\nCaused by: java.sql.SQLException: INまたはOUTパラメータがありません - 索引:: 3\n        at oracle.jdbc.driver.OraclePreparedStatement.processCompletedBindRow(OraclePreparedStatement.java:2076)\n        at oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:4790)\n        at oracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:4845)\n        at oracle.jdbc.driver.OraclePreparedStatementWrapper.executeQuery(OraclePreparedStatementWrapper.java:1501)\n        at org.embulk.input.jdbc.JdbcInputConnection$SingleSelect.fetch(JdbcInputConnection.java:194)\n        at org.embulk.input.jdbc.AbstractJdbcInputPlugin.fetch(AbstractJdbcInputPlugin.java:571)\n        at org.embulk.input.jdbc.AbstractJdbcInputPlugin.run(AbstractJdbcInputPlugin.java:480)\n        ... 8 more\n\nError: java.lang.RuntimeException: java.sql.SQLException: INまたはOUTパラメータがありません - 索引:: 3\n</code></pre>\n<pre>\nError: java.lang.RuntimeException: java.sql.SQLException: INまたはOUTパラメータがありません - 索引:: 3\nis \nError: org.embulk.spi.DataException: Converting last_record value 1 to column index 2 is not supported\n</pre>\n"},{"tags":["java","assertion","effective-java"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":5,"creation_date":1673328330,"post_id":75065805,"comment_id":132468218,"body_markdown":"You can, and it&#39;s not a terrible idea.  But the idea is that the input is coming from code you trust, so it&#39;s only a matter of testing, not validation.","body":"You can, and it&#39;s not a terrible idea.  But the idea is that the input is coming from code you trust, so it&#39;s only a matter of testing, not validation."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1673334714,"post_id":75065805,"comment_id":132469438,"body_markdown":"Assertions are usually turned off, but it&#39;s good practice to turn them on during testing. That way, tests will fail if the assertions don&#39;t hold, which means there&#39;s an error in the code.","body":"Assertions are usually turned off, but it&#39;s good practice to turn them on during testing. That way, tests will fail if the assertions don&#39;t hold, which means there&#39;s an error in the code."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1673337645,"creation_date":1673336704,"answer_id":75066878,"question_id":75065805,"body_markdown":"We need to unpick what you mean by &quot;validation&quot;.\r\n\r\nCase #1: If you are talking about internal consistency checks within your module, library or application, *that you want to happen at test time*, then `assert` statements are an appropriate way to do that.  \r\n\r\nThe kind of internal consistency checks that you might implement with `assert` statements could be expensive.  For instance you might &quot;assert&quot; that some invariant is true after each operation.  This extra checking could well alter the computational complexity of operations when asserting checking is on.  You don&#39;t want this kind of validation to happen in production.\r\n\r\nCase #2: If you are talking about validation of external inputs to your application, using `assert` is not the right way to do it.  The main reason is that Java assertion checking can be turned off.  Indeed, they routinely *are* turned off in production; see above for the reason.  But you don&#39;t want validation of external (e.g. user) input to be turned off because that is liable to cause other problems such as bad data in your database, vulnerabilities, etc.\r\n\r\nThis kind of validation should not be done using `assert`.\r\n\r\nCase #3: Between those two cases above, we have the case where you are performing defensive validation on (say) parameters passed to some internal API within your code base.\r\n\r\n  - Typically you don&#39;t want these checks to be turned off at runtime.  Turning them off is liable to allow the effects of a problem (e.g. a previously undetected bug) to spread further.\r\n  - But typically you don&#39;t also want the *other* internal `assert` checks (i.e. the &quot;test time&quot; checks from case 1) to be turned on because they are liable to be expensive.\r\n\r\nSo that means that you probably should not be using `assert` for these tests either.\r\n\r\n----------------------------\r\n\r\nAccording to the above reasoning, it doesn&#39;t really make any difference if the methods in which you are doing the validation are `public`, `private` or something else.  Using `assert` or not is an orthogonal issue.\r\n\r\nFinally, it is worth saying that many Java programmers avoid using the `assert` statement entirely.  A lot of the validation you would do using `assert` at test time can also be done using mocking.  By not using `assert` at all, you avoid the scenario where someone creates performance problems for your application by turning on assertion checks in production!\r\n","title":"What is the benefits to use assertion in Java&#39;s private methods","body":"<p>We need to unpick what you mean by &quot;validation&quot;.</p>\n<p>Case #1: If you are talking about internal consistency checks within your module, library or application, <em>that you want to happen at test time</em>, then <code>assert</code> statements are an appropriate way to do that.</p>\n<p>The kind of internal consistency checks that you might implement with <code>assert</code> statements could be expensive.  For instance you might &quot;assert&quot; that some invariant is true after each operation.  This extra checking could well alter the computational complexity of operations when asserting checking is on.  You don't want this kind of validation to happen in production.</p>\n<p>Case #2: If you are talking about validation of external inputs to your application, using <code>assert</code> is not the right way to do it.  The main reason is that Java assertion checking can be turned off.  Indeed, they routinely <em>are</em> turned off in production; see above for the reason.  But you don't want validation of external (e.g. user) input to be turned off because that is liable to cause other problems such as bad data in your database, vulnerabilities, etc.</p>\n<p>This kind of validation should not be done using <code>assert</code>.</p>\n<p>Case #3: Between those two cases above, we have the case where you are performing defensive validation on (say) parameters passed to some internal API within your code base.</p>\n<ul>\n<li>Typically you don't want these checks to be turned off at runtime.  Turning them off is liable to allow the effects of a problem (e.g. a previously undetected bug) to spread further.</li>\n<li>But typically you don't also want the <em>other</em> internal <code>assert</code> checks (i.e. the &quot;test time&quot; checks from case 1) to be turned on because they are liable to be expensive.</li>\n</ul>\n<p>So that means that you probably should not be using <code>assert</code> for these tests either.</p>\n<hr />\n<p>According to the above reasoning, it doesn't really make any difference if the methods in which you are doing the validation are <code>public</code>, <code>private</code> or something else.  Using <code>assert</code> or not is an orthogonal issue.</p>\n<p>Finally, it is worth saying that many Java programmers avoid using the <code>assert</code> statement entirely.  A lot of the validation you would do using <code>assert</code> at test time can also be done using mocking.  By not using <code>assert</code> at all, you avoid the scenario where someone creates performance problems for your application by turning on assertion checks in production!</p>\n"}],"owner":{"account_id":8105935,"reputation":19,"user_id":6107466,"display_name":"hounan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75066878,"answer_count":1,"score":0,"last_activity_date":1673337645,"creation_date":1673328281,"question_id":75065805,"body_markdown":"I&#39;m reading Effective Java Item 49.\r\nI am a bit confused about the example using assertion to validate params in private methods.\r\n\r\nSome posts explained why we can use assertions in private because public methods are responsible for ensuring that the correct arguments are passed. So no risk to use assertion for the private methods.\r\n\r\nBut why don&#39;t we use `Objects.requireNonNull` in private methods. \r\nAnd since assertion can be turned off, why do we still use it in private, it won;t do validation if we don&#39;t enable it? \r\n\r\n","title":"What is the benefits to use assertion in Java&#39;s private methods","body":"<p>I'm reading Effective Java Item 49.\nI am a bit confused about the example using assertion to validate params in private methods.</p>\n<p>Some posts explained why we can use assertions in private because public methods are responsible for ensuring that the correct arguments are passed. So no risk to use assertion for the private methods.</p>\n<p>But why don't we use <code>Objects.requireNonNull</code> in private methods.\nAnd since assertion can be turned off, why do we still use it in private, it won;t do validation if we don't enable it?</p>\n"},{"tags":["java","spring-boot","spring-security","oauth-2.0","spring-webflux"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1647757990,"post_id":71537058,"comment_id":126448420,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1647715153,"creation_date":1647715153,"answer_id":71541008,"question_id":71537058,"body_markdown":"In reactive application authentication information is stored in the Reactive flow and accessible from `Mono`/`Flux`. You could use [`ReactiveSecurityContextHolder`](https://docs.spring.io/spring-security/reference/reactive/authorization/method.html) to obtain the currently authenticated principal, or an authentication request token.\r\n\r\n```\r\n@PreAuthorize(&quot;hasRole(&#39;ROLE_USER&#39;)&quot;)\r\npublic Mono&lt;String&gt; details() {\r\n        return ReactiveSecurityContextHolder.getContext()\r\n                .map(ctx -&gt; ((Principal) ctx.getAuthentication().getPrincipal()).getName());\r\n    }\r\n```","title":"How to get spring security context in reactive webflux","body":"<p>In reactive application authentication information is stored in the Reactive flow and accessible from <code>Mono</code>/<code>Flux</code>. You could use <a href=\"https://docs.spring.io/spring-security/reference/reactive/authorization/method.html\" rel=\"noreferrer\"><code>ReactiveSecurityContextHolder</code></a> to obtain the currently authenticated principal, or an authentication request token.</p>\n<pre><code>@PreAuthorize(&quot;hasRole('ROLE_USER')&quot;)\npublic Mono&lt;String&gt; details() {\n        return ReactiveSecurityContextHolder.getContext()\n                .map(ctx -&gt; ((Principal) ctx.getAuthentication().getPrincipal()).getName());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":217966,"reputation":12429,"user_id":474034,"accept_rate":67,"display_name":"lanoxx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673337544,"creation_date":1673337544,"answer_id":75067010,"question_id":71537058,"body_markdown":"I found this answer looking for a way to add the access token to my webclient requests. If we are using OAuth2 or OpenID Connect and want to access the token instead of the principal&#39;s name, then this is not possible via the principal in the security context. \r\n\r\nInstead we need to create a `ServerOAuth2AuthorizedClientExchangeFilterFunction` and register it as a filter function to the WebClient:\r\n\r\n```\r\nServerOAuth2AuthorizedClientExchangeFilterFunction oauth =\r\n    new ServerOAuth2AuthorizedClientExchangeFilterFunction(\r\n        clientRegistrations,\r\n        authorizedClients);\r\n\r\n        oauth.setDefaultOAuth2AuthorizedClient(true);\r\n```\r\n\r\nwhere `clientRegistrations` is an injectabile bean of type `ReactiveClientRegistrationRepository` and `authorizedClients` is an injectable bean of type `ServerOAuth2AuthorizedClientRepository`.\r\n\r\nWe can then use the `filters` method for the builder to add our filter function to the `exchangeFilterFunctions`:\r\n\r\n```\r\nWebClient.builder()\r\n         .filters(exchangeFilterFunctions -&gt; {\r\n                    exchangeFilterFunctions.add(oauth);\r\n                  })\r\n         .build();\r\n```\r\n\r\nBaeldung has a nice background article about this, which explains it in more detail: https://www.baeldung.com/spring-webclient-oauth2","title":"How to get spring security context in reactive webflux","body":"<p>I found this answer looking for a way to add the access token to my webclient requests. If we are using OAuth2 or OpenID Connect and want to access the token instead of the principal's name, then this is not possible via the principal in the security context.</p>\n<p>Instead we need to create a <code>ServerOAuth2AuthorizedClientExchangeFilterFunction</code> and register it as a filter function to the WebClient:</p>\n<pre><code>ServerOAuth2AuthorizedClientExchangeFilterFunction oauth =\n    new ServerOAuth2AuthorizedClientExchangeFilterFunction(\n        clientRegistrations,\n        authorizedClients);\n\n        oauth.setDefaultOAuth2AuthorizedClient(true);\n</code></pre>\n<p>where <code>clientRegistrations</code> is an injectabile bean of type <code>ReactiveClientRegistrationRepository</code> and <code>authorizedClients</code> is an injectable bean of type <code>ServerOAuth2AuthorizedClientRepository</code>.</p>\n<p>We can then use the <code>filters</code> method for the builder to add our filter function to the <code>exchangeFilterFunctions</code>:</p>\n<pre><code>WebClient.builder()\n         .filters(exchangeFilterFunctions -&gt; {\n                    exchangeFilterFunctions.add(oauth);\n                  })\n         .build();\n</code></pre>\n<p>Baeldung has a nice background article about this, which explains it in more detail: <a href=\"https://www.baeldung.com/spring-webclient-oauth2\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-webclient-oauth2</a></p>\n"}],"owner":{"account_id":10188651,"reputation":31,"user_id":7522780,"display_name":"Ultracoder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5132,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1673337544,"creation_date":1647682958,"question_id":71537058,"body_markdown":"I have a problem with my spring boot application (version 2.6.3). \r\nI have configured reactive spring security like there: \r\n\r\n**MyApplication.java:** \r\n```\r\n@SpringBootApplication\r\n@EnableWebFlux\r\n@EnableWebFluxSecurity\r\n@EnableReactiveMethodSecurity\r\npublic class MyApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(MyApplication.class);\r\n    }\r\n\r\n    @Bean\r\n\tpublic SecurityWebFilterChain springSecurityFilterChain(final ServerHttpSecurity http, final ReactiveOpaqueTokenIntrospector reactiveOpaqueTokenIntrospector) {\r\n\t\treturn http.authorizeExchange()\r\n\t\t\t\t.anyExchange().authenticated()\r\n\t\t\t\t.and()\r\n\t\t\t\t.httpBasic().disable()\r\n\t\t\t\t.cors().and()\r\n\t\t\t\t.logout().disable()\r\n\t\t\t\t.formLogin().disable()\r\n\t\t\t\t.oauth2ResourceServer()\r\n\t\t\t\t.opaqueToken()\r\n\t\t\t\t.introspector(reactiveOpaqueTokenIntrospector)\r\n\t\t\t\t.and().and()\r\n\t\t\t\t.csrf()\r\n\t\t\t\t.disable()\r\n\t\t\t\t.build();\r\n\t}\r\n    \r\n}\r\n```\r\n\r\n\r\nAnd this is my web resource (controller):\r\n\r\n**MyWebResource.java:** \r\n```\r\n@RestController\r\npublic class MyWebResource implements MyWebResourceApi {\r\n\r\n    \r\n    @PreAuthorize(&quot;hasRole(&#39;ROLE_USER&#39;)&quot;)\r\n    @Override\r\n    public Mono&lt;String&gt; details(String userId, ServerWebExchange exchange) {\r\n        return exchange.getPrincipal().map(Principal::getName);\r\n    }\r\n}\r\n```\r\n\r\nIt&#39;s work fine, when my access token is expired or incorrect the request should be denied. However when PreAuthorized allow request, my user principal will be never resolved in my exchange...\r\n","title":"How to get spring security context in reactive webflux","body":"<p>I have a problem with my spring boot application (version 2.6.3).\nI have configured reactive spring security like there:</p>\n<p><strong>MyApplication.java:</strong></p>\n<pre><code>@SpringBootApplication\n@EnableWebFlux\n@EnableWebFluxSecurity\n@EnableReactiveMethodSecurity\npublic class MyApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MyApplication.class);\n    }\n\n    @Bean\n    public SecurityWebFilterChain springSecurityFilterChain(final ServerHttpSecurity http, final ReactiveOpaqueTokenIntrospector reactiveOpaqueTokenIntrospector) {\n        return http.authorizeExchange()\n                .anyExchange().authenticated()\n                .and()\n                .httpBasic().disable()\n                .cors().and()\n                .logout().disable()\n                .formLogin().disable()\n                .oauth2ResourceServer()\n                .opaqueToken()\n                .introspector(reactiveOpaqueTokenIntrospector)\n                .and().and()\n                .csrf()\n                .disable()\n                .build();\n    }\n    \n}\n</code></pre>\n<p>And this is my web resource (controller):</p>\n<p><strong>MyWebResource.java:</strong></p>\n<pre><code>@RestController\npublic class MyWebResource implements MyWebResourceApi {\n\n    \n    @PreAuthorize(&quot;hasRole('ROLE_USER')&quot;)\n    @Override\n    public Mono&lt;String&gt; details(String userId, ServerWebExchange exchange) {\n        return exchange.getPrincipal().map(Principal::getName);\n    }\n}\n</code></pre>\n<p>It's work fine, when my access token is expired or incorrect the request should be denied. However when PreAuthorized allow request, my user principal will be never resolved in my exchange...</p>\n"},{"tags":["java","oracle","weblogic"],"comments":[{"owner":{"account_id":1543453,"reputation":992,"user_id":1437558,"accept_rate":86,"display_name":"Emre T&#252;rkiş"},"score":0,"creation_date":1483028332,"post_id":41276579,"comment_id":69968834,"body_markdown":"have you tried creating the registry key yourself to see if you really have admin privileges? what&#39;s your OS?","body":"have you tried creating the registry key yourself to see if you really have admin privileges? what&#39;s your OS?"},{"owner":{"account_id":9897954,"reputation":11,"user_id":7328818,"display_name":"Anand"},"score":0,"creation_date":1483436663,"post_id":41276579,"comment_id":70086994,"body_markdown":"Yes, Turkis. I do have Admin privileges..OS is Windows 7,64 Bit","body":"Yes, Turkis. I do have Admin privileges..OS is Windows 7,64 Bit"}],"answers":[{"tags":[],"owner":{"account_id":6754711,"reputation":61,"user_id":5203598,"display_name":"Bharath Raj"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1491912847,"creation_date":1491912310,"answer_id":43345405,"question_id":41276579,"body_markdown":"1. Open the command prompt in administrator mode, then try this\r\n2. java -d64 -jar fmw_12.2.1.2.0_wls.jar\r\n\r\nRefer this link for further details:\r\n[https://docs.oracle.com/cd/E24329_01/doc.1211/e24492/guimode.htm#WLSIG198][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/cd/E24329_01/doc.1211/e24492/guimode.htm#WLSIG198","title":"unable to install Weblogic server 12C, the jar file is not even opening","body":"<ol>\n<li>Open the command prompt in administrator mode, then try this</li>\n<li>java -d64 -jar fmw_12.2.1.2.0_wls.jar</li>\n</ol>\n\n<p>Refer this link for further details:\n<a href=\"https://docs.oracle.com/cd/E24329_01/doc.1211/e24492/guimode.htm#WLSIG198\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E24329_01/doc.1211/e24492/guimode.htm#WLSIG198</a></p>\n"},{"tags":[],"owner":{"account_id":16803080,"reputation":13,"user_id":12147910,"display_name":"Helder Costa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569925976,"creation_date":1569925976,"answer_id":58182965,"question_id":41276579,"body_markdown":"I know this is an old post but, if someone new drops by, this may be usefull.\r\nThis problem is caused by a lack of permissions with the current OS Windows user.\r\nYou need to right click on top of the CMD icon and choose Run as Administrator.\r\nInside the DOS command line window go to your JDK source folder.\r\nThen type the following command line:\r\njava.exe -jar &quot;path to the weblogic jar file&quot;.\r\nSeveral checks will be madde and the weblogic installation window will appear.","title":"unable to install Weblogic server 12C, the jar file is not even opening","body":"<p>I know this is an old post but, if someone new drops by, this may be usefull.\nThis problem is caused by a lack of permissions with the current OS Windows user.\nYou need to right click on top of the CMD icon and choose Run as Administrator.\nInside the DOS command line window go to your JDK source folder.\nThen type the following command line:\njava.exe -jar \"path to the weblogic jar file\".\nSeveral checks will be madde and the weblogic installation window will appear.</p>\n"},{"tags":[],"owner":{"account_id":13389934,"reputation":97,"user_id":9662569,"display_name":"kupendra pola"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1592139276,"creation_date":1592138144,"answer_id":62372604,"question_id":41276579,"body_markdown":"Even I have got the same problem and its resolved, \r\nMake sure you have done the below steps,\r\n\r\n    1.install java, a  compatible version from the internet, and set JAVA_HOME and path variables.\r\n    JAVA_HOME: JDK home directory path\r\n    path: jdk&gt;bin directory path\r\n    \r\n    2.execute the below line in command prompt which is opened with a privilege [Run As An Administrator].\r\n      java -jar D:\\softwares\\servers\\fmw_12.1.3.0.0_wls.jar\r\n    \r\n    3.it will take a moment to extract all the files and installation begins.\r\n\r\n","title":"unable to install Weblogic server 12C, the jar file is not even opening","body":"<p>Even I have got the same problem and its resolved, \nMake sure you have done the below steps,</p>\n\n<pre><code>1.install java, a  compatible version from the internet, and set JAVA_HOME and path variables.\nJAVA_HOME: JDK home directory path\npath: jdk&gt;bin directory path\n\n2.execute the below line in command prompt which is opened with a privilege [Run As An Administrator].\n  java -jar D:\\softwares\\servers\\fmw_12.1.3.0.0_wls.jar\n\n3.it will take a moment to extract all the files and installation begins.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19162581,"reputation":1,"user_id":13998051,"display_name":"Deeksha D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673337388,"creation_date":1673337388,"answer_id":75066986,"question_id":41276579,"body_markdown":"&quot;C:\\Program Files\\Java\\jdk1.8.0_351\\bin\\java&quot; -jar weblogic.jar\r\nthe above command works fine. you need to have the latest version of jdk installed in your machine.\r\nweblogic.jar is the jar filename which has been downloaded.","title":"unable to install Weblogic server 12C, the jar file is not even opening","body":"<p>&quot;C:\\Program Files\\Java\\jdk1.8.0_351\\bin\\java&quot; -jar weblogic.jar\nthe above command works fine. you need to have the latest version of jdk installed in your machine.\nweblogic.jar is the jar filename which has been downloaded.</p>\n"}],"owner":{"account_id":9897954,"reputation":11,"user_id":7328818,"display_name":"Anand"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16602,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1673337388,"creation_date":1482386027,"question_id":41276579,"body_markdown":"**unable to install Weblogic server 12C, the jar file is not even opening. Tried instaling from command prompt as Admin , ended up with error unable to access jar file. I have java 7 installed. Please help**\r\n    \r\n    \r\n**info copied from log file..**\r\n    \r\n    2016-12-22 10:30:19,591 INFO  [1] com.oracle.cie.nextgen.launcher.LogUtils - Extracting the installer . . .\r\n    2016-12-22 10:30:23,626 INFO  [1] com.oracle.cie.nextgen.launcher.LogUtils - Finished self extraction to C:\\Users\\Anand\\AppData\\Local\\Temp\\orcl3227252922117189327.tmp.\r\n    2016-12-22 10:30:23,839 WARNING [1] com.oracle.cie.common.jni.WinRegistryHelper - Create Key Failed: HKEY_LOCAL_MACHINE\\Software\\Oracle\r\n    2016-12-22 10:30:23,839 SEVERE [1] com.oracle.cie.nextgen.launcher.PlatformHelper - createRegistry to add a value failed\r\n    2016-12-22 10:30:23,839 SEVERE [1] com.oracle.cie.nextgen.launcher.Launcher - Unable to access or modify the system registry.  Select Run as Administrator when opening the Command Prompt and try again.\r\n    2016-12-22 10:30:23,872 SEVERE [1] com.oracle.cie.nextgen.launcher.Launcher - Unable to access or modify the system registry.  Select Run as Administrator when opening the Command Prompt and try again.","title":"unable to install Weblogic server 12C, the jar file is not even opening","body":"<p><strong>unable to install Weblogic server 12C, the jar file is not even opening. Tried instaling from command prompt as Admin , ended up with error unable to access jar file. I have java 7 installed. Please help</strong></p>\n\n<p><strong>info copied from log file..</strong></p>\n\n<pre><code>2016-12-22 10:30:19,591 INFO  [1] com.oracle.cie.nextgen.launcher.LogUtils - Extracting the installer . . .\n2016-12-22 10:30:23,626 INFO  [1] com.oracle.cie.nextgen.launcher.LogUtils - Finished self extraction to C:\\Users\\Anand\\AppData\\Local\\Temp\\orcl3227252922117189327.tmp.\n2016-12-22 10:30:23,839 WARNING [1] com.oracle.cie.common.jni.WinRegistryHelper - Create Key Failed: HKEY_LOCAL_MACHINE\\Software\\Oracle\n2016-12-22 10:30:23,839 SEVERE [1] com.oracle.cie.nextgen.launcher.PlatformHelper - createRegistry to add a value failed\n2016-12-22 10:30:23,839 SEVERE [1] com.oracle.cie.nextgen.launcher.Launcher - Unable to access or modify the system registry.  Select Run as Administrator when opening the Command Prompt and try again.\n2016-12-22 10:30:23,872 SEVERE [1] com.oracle.cie.nextgen.launcher.Launcher - Unable to access or modify the system registry.  Select Run as Administrator when opening the Command Prompt and try again.\n</code></pre>\n"},{"tags":["java","spring-security","vaadin"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1673260408,"post_id":75055697,"comment_id":132450392,"body_markdown":"Which version of Vaadin are you using?","body":"Which version of Vaadin are you using?"},{"owner":{"account_id":2464083,"reputation":856,"user_id":2147581,"accept_rate":68,"display_name":"S&#252;ni&#218;r"},"score":0,"creation_date":1673265471,"post_id":75055697,"comment_id":132452042,"body_markdown":"Vaadin 23.3.0 , I also updated the question with it.","body":"Vaadin 23.3.0 , I also updated the question with it."},{"owner":{"account_id":26005,"reputation":8101,"user_id":67373,"accept_rate":100,"display_name":"Sujoy"},"score":0,"creation_date":1673268002,"post_id":75055697,"comment_id":132452945,"body_markdown":"In chrome - Settings &gt; Autofill &gt; Password Manager \nCheck if Offer to save passwords option is switched on","body":"In chrome - Settings &gt; Autofill &gt; Password Manager  Check if Offer to save passwords option is switched on"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1673269286,"post_id":75055697,"comment_id":132453422,"body_markdown":"I have no issues with that. Firefox and also 1Password work fine. But I use LoginOverlay. https://vaadin.com/docs/latest/components/login","body":"I have no issues with that. Firefox and also 1Password work fine. But I use LoginOverlay. <a href=\"https://vaadin.com/docs/latest/components/login\" rel=\"nofollow noreferrer\">vaadin.com/docs/latest/components/login</a>"}],"owner":{"account_id":2464083,"reputation":856,"user_id":2147581,"accept_rate":68,"display_name":"S&#252;ni&#218;r"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673337111,"creation_date":1673258745,"question_id":75055697,"body_markdown":"Update:\r\nIf I disable https redirection its works, can you help me what I am doing wrong with redirection?\r\napplication.prioerties:\r\n\r\n    server.http.port=8080\r\n    ## SSL\r\n    server.port=443\r\n\r\nRedirect:\r\n\r\n\r\n    import org.apache.catalina.Context;\r\n    import org.apache.catalina.connector.Connector;\r\n    import org.apache.tomcat.util.descriptor.web.SecurityCollection;\r\n    import org.apache.tomcat.util.descriptor.web.SecurityConstraint;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\r\n    import org.springframework.boot.web.servlet.server.ServletWebServerFactory;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.core.env.Environment;\r\n    \r\n    @Configuration\r\n    public class HttpsConfiguration {\r\n    \r\n    \t@Autowired\r\n    \tprivate Environment environment;\r\n    \r\n    \t@Bean\r\n    \tpublic ServletWebServerFactory servletContainer() {\r\n    \t\tTomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory() {\r\n    \t\t\t@Override\r\n    \t\t\tprotected void postProcessContext(Context context) {\r\n    \t\t\t\tSecurityConstraint securityConstraint = new SecurityConstraint();\r\n    \t\t\t\tsecurityConstraint.setUserConstraint(&quot;CONFIDENTIAL&quot;);\r\n    \t\t\t\tSecurityCollection collection = new SecurityCollection();\r\n    \t\t\t\tcollection.addPattern(&quot;/*&quot;);\r\n    \t\t\t\tsecurityConstraint.addCollection(collection);\r\n    \t\t\t\tcontext.addConstraint(securityConstraint);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\ttomcat.addAdditionalTomcatConnectors(redirectConnector());\r\n    \t\treturn tomcat;\r\n    \t}\r\n    \r\n    //\t@Value(&quot;${server.port2}&quot;) // Defined in application.properties file\r\n    //\tint httpPort = ;\r\n    \r\n    //\t@Value(&quot;${server.port}&quot;) // Defined in application.properties file\r\n    //\tint httpsPort =;\r\n    \r\n    \tprivate Connector redirectConnector() {\r\n    \t\tConnector connector = new Connector(TomcatServletWebServerFactory.DEFAULT_PROTOCOL);\r\n    \t\tconnector.setScheme(&quot;http&quot;);\r\n    \t\tconnector.setPort(Integer.parseInt(environment.getProperty(&quot;server.http.port&quot;)));\r\n    \t\tconnector.setSecure(false);\r\n    \t\tconnector.setRedirectPort( Integer.parseInt(environment.getProperty(&quot;server.port&quot;)));\r\n    \t\treturn connector;\r\n    \t}\r\n    }\r\n\r\nSecurityConfig:\r\n\r\n\r\n    @EnableWebSecurity\r\n    @Configuration\r\n    public class SecurityConfiguration extends VaadinWebSecurityConfigurerAdapter {\r\n    \r\n    \t@Autowired\r\n    \tprivate RequestUtil requestUtil;\r\n    \r\n    \t@Autowired\r\n    \tprivate VaadinDefaultRequestCache vaadinDefaultRequestCache;\r\n    \r\n    \t@Autowired\r\n    \tprivate ViewAccessChecker viewAccessChecker;\r\n    \r\n    \t@Lazy\r\n    \t@Autowired\r\n    \tCustomAuthenticationProvider customAuthenticationProvider;\r\n    \r\n    \t@Autowired\r\n    \tReportService reportService;\r\n    \r\n    \tpublic static final String LOGOUT_URL = &quot;/&quot;;\r\n    \r\n    \t@Bean\r\n    \tpublic PasswordEncoder passwordEncoder() {\r\n    \t\treturn new BCryptPasswordEncoder();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void configure(HttpSecurity http) throws Exception {\r\n    \r\n    //\t\tsuper.configure(http);\r\n    \r\n    //\t\t\r\n    \r\n    \t\thttp.csrf().ignoringRequestMatchers(requestUtil::isFrameworkInternalRequest);\r\n    \t\t// nor with endpoints\r\n    \t\thttp.csrf().ignoringRequestMatchers(requestUtil::isEndpointRequest);\r\n    \r\n    \t\t// Ensure automated requests to e.g. closing push channels, service\r\n    \t\t// workers,\r\n    \t\t// endpoints are not counted as valid targets to redirect user to on\r\n    \t\t// login\r\n    \t\thttp.requestCache().requestCache(vaadinDefaultRequestCache);\r\n    \r\n    \t\thttp.authorizeRequests().antMatchers(&quot;/api/**&quot;).permitAll();\r\n    \t\t// TODO LOCAL HOST ENABLE AND ADMIN\r\n    \t\t// .hasIpAddress(LOGOUT_URL , hasROle\r\n    \r\n    \t\tExpressionUrlAuthorizationConfigurer&lt;HttpSecurity&gt;.ExpressionInterceptUrlRegistry urlRegistry = http\r\n    \t\t\t\t.authorizeRequests();\r\n    \r\n    \t\t// Vaadin internal requests must always be allowed to allow public Flow\r\n    \t\t// pages\r\n    \t\t// and/or login page implemented using Flow.\r\n    \t\turlRegistry.requestMatchers(requestUtil::isFrameworkInternalRequest).permitAll();\r\n    \t\t// Public endpoints are OK to access\r\n    \t\turlRegistry.requestMatchers(requestUtil::isAnonymousEndpoint).permitAll();\r\n    \t\t// Public routes are OK to access\r\n    \t\turlRegistry.requestMatchers(requestUtil::isAnonymousRoute).permitAll();\r\n    \t\turlRegistry.requestMatchers(getDefaultHttpSecurityPermitMatcher()).permitAll();\r\n    \r\n    \t\t// all other requests require authentication\r\n    \t\turlRegistry.anyRequest().authenticated();\r\n    \r\n    \t\t// Enable view access control\r\n    \t\tviewAccessChecker.enable();\r\n    \r\n    \t\tsetLoginView(http, LoginView.class, LOGOUT_URL);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n    \r\n    \t\t/*\r\n    \t\t * auth.ldapAuthentication().userDnPatterns(&quot;uid={0},ou=people&quot;).groupSearchBase\r\n    \t\t * (&quot;ou=Budapest,ou=Hungary,ou=Users,ou=Company_OU,dc=groupad1,dc=com&quot;).\r\n    \t\t * contextSource()\r\n    \t\t * .url(&quot;ldap:///dc=springframework,dc=org&quot;).and().\r\n    \t\t * passwordCompare() .passwordEncoder(new\r\n    \t\t * BCryptPasswordEncoder()).passwordAttribute(&quot;userPassword&quot;);\r\n    \t\t */\r\n    \t\t// Custom authentication provider - Order 1\r\n    \t\tauth.authenticationProvider(customAuthenticationProvider);\r\n    \r\n    //\t\t Built-in authentication provider - Order 2\r\n    //\t\tauth.inMemoryAuthentication().withUser(&quot;admin&quot;).password(&quot;{noop}admin@password&quot;)\r\n    //\t\t\t\t// {noop} makes sure that the password encoder doesn&#39;t do anything\r\n    //\t\t\t\t.roles(&quot;ADMIN&quot;) // Role of the user\r\n    //\t\t\t\t.and().withUser(&quot;user&quot;).password(&quot;{noop}user@password&quot;).credentialsExpired(true).accountExpired(true)\r\n    //\t\t\t\t.accountLocked(true).roles(&quot;USER&quot;);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void configure(WebSecurity web) throws Exception {\r\n    \t\tsuper.configure(web);\r\n    \t\tweb.ignoring().antMatchers(&quot;/images/*.png&quot;);\r\n    //\t\tweb.ignoring().antMatchers(&quot;/api/*&quot;);\r\n    \t}\r\n    }\r\n\r\n\r\nI have a basic fresh Vaadin tutorial based login view (https://vaadin.com/docs/latest/security/enabling-security)\r\n\r\nEDIT: I think the main problem that the browsers think the login form is a simple form... and not a login form . eg: it pops up my email address for username and I click manage it brings me to chrome address form options and not the password... \r\n\r\nMy main problem is that Chrome or any other browser not ask to save the password after login.. and neither fill out the form even if its stored at the same host (eg: localhost:8080)\r\n*The problem is in the login view, because the chrome work properly and store passwords others sites for me and for other test users .*\r\n\r\nThe other problem is that the following configure part is deprecated and I couldnt find the updated one, since all tutorial use this.\r\n\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        ...\r\n            setLoginView(http, LoginView.class, LOGOUT_URL);\r\n\r\nthis function is deprecated and I do\r\n\r\n    @Route(&quot;login&quot;)\r\n    @PageTitle(&quot;Login | My App&quot;)\r\n    public class LoginView extends VerticalLayout implements BeforeEnterObserver {\r\n    \r\n    \tprivate final LoginForm login = new LoginForm();\r\n    \r\n    \tpublic LoginView() {\r\n    \t\taddClassName(&quot;login-view&quot;);\r\n    \t\tsetSizeFull();\r\n    \t\tsetAlignItems(Alignment.CENTER);\r\n    \t\tsetJustifyContentMode(JustifyContentMode.CENTER);\r\n    \r\n    \t\tlogin.setAction(&quot;login&quot;);\r\n    \t\tlogin.setForgotPasswordButtonVisible(false);\r\n  \r\n    \t\tadd(new H1(&quot;My App&quot;), login);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void beforeEnter(BeforeEnterEvent beforeEnterEvent) {\r\n    \t\t// inform the user about an authentication error\r\n    \t\tif (beforeEnterEvent.getLocation().getQueryParameters().getParameters().containsKey(&quot;error&quot;)) {\r\n    \t\t\tlogin.setError(true);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nMaven pom with versions:\r\n \r\n\r\n       &lt;properties&gt;\r\n        \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n        \t\t&lt;vaadin.version&gt;23.3.0&lt;/vaadin.version&gt;\r\n        \t&lt;/properties&gt;\r\n        \r\n        \t&lt;parent&gt;\r\n        \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        \t\t&lt;!-- &lt;version&gt;2.5.4&lt;/version&gt; --&gt;\r\n        \t\t&lt;version&gt;2.7.0&lt;/version&gt;\r\n        \t&lt;/parent&gt;","title":"Vaadin Login view Chrome not save password","body":"<p>Update:\nIf I disable https redirection its works, can you help me what I am doing wrong with redirection?\napplication.prioerties:</p>\n<pre><code>server.http.port=8080\n## SSL\nserver.port=443\n</code></pre>\n<p>Redirect:</p>\n<pre><code>import org.apache.catalina.Context;\nimport org.apache.catalina.connector.Connector;\nimport org.apache.tomcat.util.descriptor.web.SecurityCollection;\nimport org.apache.tomcat.util.descriptor.web.SecurityConstraint;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\nimport org.springframework.boot.web.servlet.server.ServletWebServerFactory;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.env.Environment;\n\n@Configuration\npublic class HttpsConfiguration {\n\n    @Autowired\n    private Environment environment;\n\n    @Bean\n    public ServletWebServerFactory servletContainer() {\n        TomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory() {\n            @Override\n            protected void postProcessContext(Context context) {\n                SecurityConstraint securityConstraint = new SecurityConstraint();\n                securityConstraint.setUserConstraint(&quot;CONFIDENTIAL&quot;);\n                SecurityCollection collection = new SecurityCollection();\n                collection.addPattern(&quot;/*&quot;);\n                securityConstraint.addCollection(collection);\n                context.addConstraint(securityConstraint);\n            }\n        };\n        tomcat.addAdditionalTomcatConnectors(redirectConnector());\n        return tomcat;\n    }\n\n//  @Value(&quot;${server.port2}&quot;) // Defined in application.properties file\n//  int httpPort = ;\n\n//  @Value(&quot;${server.port}&quot;) // Defined in application.properties file\n//  int httpsPort =;\n\n    private Connector redirectConnector() {\n        Connector connector = new Connector(TomcatServletWebServerFactory.DEFAULT_PROTOCOL);\n        connector.setScheme(&quot;http&quot;);\n        connector.setPort(Integer.parseInt(environment.getProperty(&quot;server.http.port&quot;)));\n        connector.setSecure(false);\n        connector.setRedirectPort( Integer.parseInt(environment.getProperty(&quot;server.port&quot;)));\n        return connector;\n    }\n}\n</code></pre>\n<p>SecurityConfig:</p>\n<pre><code>@EnableWebSecurity\n@Configuration\npublic class SecurityConfiguration extends VaadinWebSecurityConfigurerAdapter {\n\n    @Autowired\n    private RequestUtil requestUtil;\n\n    @Autowired\n    private VaadinDefaultRequestCache vaadinDefaultRequestCache;\n\n    @Autowired\n    private ViewAccessChecker viewAccessChecker;\n\n    @Lazy\n    @Autowired\n    CustomAuthenticationProvider customAuthenticationProvider;\n\n    @Autowired\n    ReportService reportService;\n\n    public static final String LOGOUT_URL = &quot;/&quot;;\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n//      super.configure(http);\n\n//      \n\n        http.csrf().ignoringRequestMatchers(requestUtil::isFrameworkInternalRequest);\n        // nor with endpoints\n        http.csrf().ignoringRequestMatchers(requestUtil::isEndpointRequest);\n\n        // Ensure automated requests to e.g. closing push channels, service\n        // workers,\n        // endpoints are not counted as valid targets to redirect user to on\n        // login\n        http.requestCache().requestCache(vaadinDefaultRequestCache);\n\n        http.authorizeRequests().antMatchers(&quot;/api/**&quot;).permitAll();\n        // TODO LOCAL HOST ENABLE AND ADMIN\n        // .hasIpAddress(LOGOUT_URL , hasROle\n\n        ExpressionUrlAuthorizationConfigurer&lt;HttpSecurity&gt;.ExpressionInterceptUrlRegistry urlRegistry = http\n                .authorizeRequests();\n\n        // Vaadin internal requests must always be allowed to allow public Flow\n        // pages\n        // and/or login page implemented using Flow.\n        urlRegistry.requestMatchers(requestUtil::isFrameworkInternalRequest).permitAll();\n        // Public endpoints are OK to access\n        urlRegistry.requestMatchers(requestUtil::isAnonymousEndpoint).permitAll();\n        // Public routes are OK to access\n        urlRegistry.requestMatchers(requestUtil::isAnonymousRoute).permitAll();\n        urlRegistry.requestMatchers(getDefaultHttpSecurityPermitMatcher()).permitAll();\n\n        // all other requests require authentication\n        urlRegistry.anyRequest().authenticated();\n\n        // Enable view access control\n        viewAccessChecker.enable();\n\n        setLoginView(http, LoginView.class, LOGOUT_URL);\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n\n        /*\n         * auth.ldapAuthentication().userDnPatterns(&quot;uid={0},ou=people&quot;).groupSearchBase\n         * (&quot;ou=Budapest,ou=Hungary,ou=Users,ou=Company_OU,dc=groupad1,dc=com&quot;).\n         * contextSource()\n         * .url(&quot;ldap:///dc=springframework,dc=org&quot;).and().\n         * passwordCompare() .passwordEncoder(new\n         * BCryptPasswordEncoder()).passwordAttribute(&quot;userPassword&quot;);\n         */\n        // Custom authentication provider - Order 1\n        auth.authenticationProvider(customAuthenticationProvider);\n\n//       Built-in authentication provider - Order 2\n//      auth.inMemoryAuthentication().withUser(&quot;admin&quot;).password(&quot;{noop}admin@password&quot;)\n//              // {noop} makes sure that the password encoder doesn't do anything\n//              .roles(&quot;ADMIN&quot;) // Role of the user\n//              .and().withUser(&quot;user&quot;).password(&quot;{noop}user@password&quot;).credentialsExpired(true).accountExpired(true)\n//              .accountLocked(true).roles(&quot;USER&quot;);\n    }\n\n    @Override\n    public void configure(WebSecurity web) throws Exception {\n        super.configure(web);\n        web.ignoring().antMatchers(&quot;/images/*.png&quot;);\n//      web.ignoring().antMatchers(&quot;/api/*&quot;);\n    }\n}\n</code></pre>\n<p>I have a basic fresh Vaadin tutorial based login view (<a href=\"https://vaadin.com/docs/latest/security/enabling-security\" rel=\"nofollow noreferrer\">https://vaadin.com/docs/latest/security/enabling-security</a>)</p>\n<p>EDIT: I think the main problem that the browsers think the login form is a simple form... and not a login form . eg: it pops up my email address for username and I click manage it brings me to chrome address form options and not the password...</p>\n<p>My main problem is that Chrome or any other browser not ask to save the password after login.. and neither fill out the form even if its stored at the same host (eg: localhost:8080)\n<em>The problem is in the login view, because the chrome work properly and store passwords others sites for me and for other test users .</em></p>\n<p>The other problem is that the following configure part is deprecated and I couldnt find the updated one, since all tutorial use this.</p>\n<pre><code>protected void configure(HttpSecurity http) throws Exception {\n    ...\n        setLoginView(http, LoginView.class, LOGOUT_URL);\n</code></pre>\n<p>this function is deprecated and I do</p>\n<pre><code>@Route(&quot;login&quot;)\n@PageTitle(&quot;Login | My App&quot;)\npublic class LoginView extends VerticalLayout implements BeforeEnterObserver {\n\n    private final LoginForm login = new LoginForm();\n\n    public LoginView() {\n        addClassName(&quot;login-view&quot;);\n        setSizeFull();\n        setAlignItems(Alignment.CENTER);\n        setJustifyContentMode(JustifyContentMode.CENTER);\n\n        login.setAction(&quot;login&quot;);\n        login.setForgotPasswordButtonVisible(false);\n\n        add(new H1(&quot;My App&quot;), login);\n    }\n\n    @Override\n    public void beforeEnter(BeforeEnterEvent beforeEnterEvent) {\n        // inform the user about an authentication error\n        if (beforeEnterEvent.getLocation().getQueryParameters().getParameters().containsKey(&quot;error&quot;)) {\n            login.setError(true);\n        }\n    }\n}\n</code></pre>\n<p>Maven pom with versions:</p>\n<pre><code>   &lt;properties&gt;\n            &lt;java.version&gt;17&lt;/java.version&gt;\n            &lt;vaadin.version&gt;23.3.0&lt;/vaadin.version&gt;\n        &lt;/properties&gt;\n    \n        &lt;parent&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n            &lt;!-- &lt;version&gt;2.5.4&lt;/version&gt; --&gt;\n            &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;/parent&gt;\n</code></pre>\n"},{"tags":["java","spring","apache-camel","distributed-transactions","narayana"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673278484,"post_id":75005808,"comment_id":132457164,"body_markdown":"`DriverManagerDataSource` isn&#39;t XA capable, next you are using MySQL make sure you are using InnoDB tables and not MyISAM tables (the latter don&#39;t support transactions).","body":"<code>DriverManagerDataSource</code> isn&#39;t XA capable, next you are using MySQL make sure you are using InnoDB tables and not MyISAM tables (the latter don&#39;t support transactions)."}],"answers":[{"tags":[],"owner":{"account_id":7446889,"reputation":46,"user_id":5662757,"display_name":"Zheng Feng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673278315,"creation_date":1673278315,"answer_id":75059530,"question_id":75005808,"body_markdown":"It looks like you need to use `jdbc:arjuna:` as a prefix for the jdbc url propery. So try to use\r\n```\r\n&lt;bean id=&quot;dataSource1&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt; \r\n    &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot; /&gt; \r\n    &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/jdbctest&quot; /&gt; \r\n    &lt;property name=&quot;username&quot; value=&quot;root&quot; /&gt;\r\n    &lt;property name=&quot;password&quot; value=&quot;Govinda@1&quot; /&gt; \r\n&lt;/bean&gt;\r\n&lt;bean id=&quot;xaDataSource1&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n    &lt;property name=&quot;driverClassName&quot; value=&quot;com.arjuna.ats.jdbc.TransactionalDriver&quot; /&gt;\r\n    &lt;property name=&quot;XADATASOURCE&quot; ref=&quot;dataSource1&quot;/&gt;\r\n    &lt;property name=&quot;url&quot; value=&quot;jdbc:arjuna:&quot;/&gt;\r\n    &lt;property name=&quot;username&quot; value=&quot;root&quot; /&gt;\r\n    &lt;property name=&quot;password&quot; value=&quot;Govinda@1&quot; /&gt;    \r\n&lt;/bean&gt;\r\n\r\n```\r\n\r\nand use `#xaDataSource1` in the camel route define.","title":"Narayana Transaction Manager configuration - Not rolling back","body":"<p>It looks like you need to use <code>jdbc:arjuna:</code> as a prefix for the jdbc url propery. So try to use</p>\n<pre><code>&lt;bean id=&quot;dataSource1&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt; \n    &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot; /&gt; \n    &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/jdbctest&quot; /&gt; \n    &lt;property name=&quot;username&quot; value=&quot;root&quot; /&gt;\n    &lt;property name=&quot;password&quot; value=&quot;Govinda@1&quot; /&gt; \n&lt;/bean&gt;\n&lt;bean id=&quot;xaDataSource1&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\n    &lt;property name=&quot;driverClassName&quot; value=&quot;com.arjuna.ats.jdbc.TransactionalDriver&quot; /&gt;\n    &lt;property name=&quot;XADATASOURCE&quot; ref=&quot;dataSource1&quot;/&gt;\n    &lt;property name=&quot;url&quot; value=&quot;jdbc:arjuna:&quot;/&gt;\n    &lt;property name=&quot;username&quot; value=&quot;root&quot; /&gt;\n    &lt;property name=&quot;password&quot; value=&quot;Govinda@1&quot; /&gt;    \n&lt;/bean&gt;\n\n</code></pre>\n<p>and use <code>#xaDataSource1</code> in the camel route define.</p>\n"}],"owner":{"account_id":25720765,"reputation":1,"user_id":19477804,"display_name":"chandrahas g"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673336181,"creation_date":1672837139,"question_id":75005808,"body_markdown":"I am trying to configure the narayana transaction manager with camel and spring. I have created two data source objects and inserting two records in to two different databases. I am throwing error after the first insert and excepting to roll back. In the logs it showing that transaction manager has started but not rolling back.\r\n\r\nBelow is the camel-context.xml\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!-- Configures the Camel Context--&gt;\r\n\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xsi:schemaLocation=&quot;\r\n       http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n       http://camel.apache.org/schema/spring http://camel.apache.org/schema/spring/camel-spring.xsd&quot;&gt;\r\n       \r\n\t&lt;bean id=&quot;dataSource1&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt; \r\n \t\t&lt;property name=&quot;driverClassName&quot; value=&quot;com.arjuna.ats.jdbc.TransactionalDriver&quot; /&gt; \r\n     \t&lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/jdbctest&quot; /&gt; \r\n     \t&lt;property name=&quot;username&quot; value=&quot;root&quot; /&gt;\r\n     \t&lt;property name=&quot;password&quot; value=&quot;Govinda@1&quot; /&gt; \r\n \t&lt;/bean&gt; \r\n\t\r\n\t&lt;bean id=&quot;dataSource2&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n\t\t&lt;property name=&quot;driverClassName&quot; value=&quot;com.arjuna.ats.jdbc.TransactionalDriver&quot; /&gt;\r\n    \t&lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/springtransaction1&quot; /&gt;\r\n    \t&lt;property name=&quot;username&quot; value=&quot;root&quot; /&gt;\r\n    \t&lt;property name=&quot;password&quot; value=&quot;Govinda@1&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\t\r\n\t&lt;bean id=&quot;jtaTransactionManager&quot; class=&quot;org.springframework.transaction.jta.JtaTransactionManager&quot;&gt;\r\n\t\t&lt;property name=&quot;transactionManager&quot;&gt;\r\n\t\t\t&lt;bean class=&quot;com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionManagerImple&quot; /&gt;\r\n\t\t&lt;/property&gt;\r\n\t\t&lt;property name=&quot;userTransaction&quot;&gt;\r\n\t\t\t&lt;bean class=&quot;com.arjuna.ats.internal.jta.transaction.arjunacore.UserTransactionImple&quot; /&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;PROPAGATION_REQUIRED&quot; class=&quot;org.apache.camel.spring.spi.SpringTransactionPolicy&quot;&gt;\r\n\t\t&lt;property name=&quot;transactionManager&quot; ref=&quot;jtaTransactionManager&quot; /&gt;\r\n\t\t&lt;property name=&quot;propagationBehaviorName&quot; value=&quot;PROPAGATION_REQUIRED&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\t&lt;bean id=&quot;myError&quot;\tclass=&quot;com.rwx.camelspringnarayana.MyError&quot; /&gt;\r\n\t\r\n  &lt;camelContext xmlns=&quot;http://camel.apache.org/schema/spring&quot;&gt;\r\n    &lt;!-- here is a sample which processes the input files\r\n         (leaving them in place - see the &#39;noop&#39; flag)\r\n         then performs content based routing on the message using XPath --&gt;\r\n\r\n\t\t&lt;route&gt;\r\n\t\t\t&lt;from uri=&quot;timer:myTimer1?repeatCount=1&quot; /&gt;\r\n\t\t\t&lt;transacted ref=&quot;PROPAGATION_REQUIRED&quot;/&gt;\r\n\t\t\t&lt;log message=&quot;timer1 started&quot; /&gt;\r\n\t\t\t&lt;to uri=&quot;sql:insert into cars values(1896, &#39;Jaldut&#39;)?dataSource=#dataSource1&quot; /&gt;\r\n\t\t\t&lt;bean ref=&quot;myError&quot; /&gt;\r\n\t\t\t&lt;to uri=&quot;sql:insert into cars values(1922, &#39;Rwx Car&#39;)?dataSource=#dataSource1&quot; /&gt; \r\n\t\t\t&lt;log message=&quot;${body}&quot; /&gt;\r\n\t\t&lt;/route&gt;\r\n\r\n\t\t&lt;route&gt;\r\n\t\t\t&lt;from uri=&quot;timer:myTimer2?repeatCount=1&quot; /&gt;\r\n\t\t\t&lt;delay&gt;\r\n\t\t\t\t&lt;constant&gt;5000&lt;/constant&gt;\r\n\t\t\t&lt;/delay&gt;\r\n\t\t\t&lt;log message=&quot;timer2 started&quot; /&gt;\r\n\t\t\t&lt;to uri=&quot;sql:select * from cars where car_no in (1896,1922)?dataSource=#dataSource1&quot; /&gt;\r\n\t\t\t&lt;log message=&quot;${body}&quot; /&gt;\r\n\t\t&lt;/route&gt;\r\n\t\t\r\n\t \t\r\n\t\t&lt;route&gt;\r\n\t\t\t&lt;from uri=&quot;timer:myTimer4?repeatCount=1&quot; /&gt;\r\n\t\t\t&lt;delay&gt;\r\n\t\t\t\t&lt;constant&gt;5000&lt;/constant&gt;\r\n\t\t\t&lt;/delay&gt;\r\n\t\t\t&lt;log message=&quot;timer 4 started&quot; /&gt;\r\n\t\t\t&lt;to uri=&quot;sql:select * from user_tb where id =2 ?dataSource=#dataSource2&quot; /&gt;\r\n\t\t\t&lt;log message=&quot;${body}&quot; /&gt;\r\n\t\t&lt;/route&gt;\r\n\t\t\t\t \r\n\t\t&lt;route&gt;\r\n\t\t\t&lt;from uri=&quot;timer:myTimer3?repeatCount=1&quot; /&gt;\r\n\t\t\t&lt;delay&gt;&lt;constant&gt;10000&lt;/constant&gt;&lt;/delay&gt;\r\n\t\t\t&lt;log message=&quot;timer3 started&quot; /&gt;\r\n\t\t\t&lt;to uri=&quot;sql:delete from cars where car_no in (1896,1922)?dataSource=#dataSource1&quot; /&gt;\r\n\t\t\t&lt;log message=&quot;No of rows deleted are = ${headers.camelSqlUpdateCount}&quot; /&gt;\r\n\t\t&lt;/route&gt;\r\n\t \t\r\n\t\t&lt;route&gt;\r\n\t\t\t&lt;from uri=&quot;timer:myTimer5?repeatCount=1&quot; /&gt;\r\n\t\t\t&lt;delay&gt;&lt;constant&gt;10000&lt;/constant&gt;&lt;/delay&gt;\r\n\t\t\t&lt;log message=&quot;timer 5started&quot; /&gt;\r\n\t\t\t&lt;to uri=&quot;sql:delete from user_tb where id =2?dataSource=#dataSource2&quot; /&gt;\r\n\t\t\t&lt;log message=&quot;No of rows deleted are = ${headers.camelSqlUpdateCount}&quot; /&gt;\r\n\t\t&lt;/route&gt;\r\n\t\t\r\n  &lt;/camelContext&gt;\r\n\r\n&lt;/beans&gt;\r\n```\r\n\r\n\r\n**It is not rolling back. even though exception is thrown. I want it to rollback.\r\nwe see one record is added. and it is deleted which means that it is now rolling back\r\n**\r\n` []\r\n[el (camel-1) thread #8 - Delay] route2                         INFO  [{car_no=1896, carName=Jaldut}]\r\n[l (camel-1) thread #10 - Delay] route5                         INFO  timer 5started\r\n[el (camel-1) thread #9 - Delay] route4                         INFO  timer3 started\r\n[l (camel-1) thread #10 - Delay] route5                         INFO  No of rows deleted are = 0\r\n[el (camel-1) thread #9 - Delay] route4                         INFO  No of rows deleted are = 1`\r\n","title":"Narayana Transaction Manager configuration - Not rolling back","body":"<p>I am trying to configure the narayana transaction manager with camel and spring. I have created two data source objects and inserting two records in to two different databases. I am throwing error after the first insert and excepting to roll back. In the logs it showing that transaction manager has started but not rolling back.</p>\n<p>Below is the camel-context.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!-- Configures the Camel Context--&gt;\n\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xsi:schemaLocation=&quot;\n       http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n       http://camel.apache.org/schema/spring http://camel.apache.org/schema/spring/camel-spring.xsd&quot;&gt;\n       \n    &lt;bean id=&quot;dataSource1&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt; \n        &lt;property name=&quot;driverClassName&quot; value=&quot;com.arjuna.ats.jdbc.TransactionalDriver&quot; /&gt; \n        &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/jdbctest&quot; /&gt; \n        &lt;property name=&quot;username&quot; value=&quot;root&quot; /&gt;\n        &lt;property name=&quot;password&quot; value=&quot;Govinda@1&quot; /&gt; \n    &lt;/bean&gt; \n    \n    &lt;bean id=&quot;dataSource2&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\n        &lt;property name=&quot;driverClassName&quot; value=&quot;com.arjuna.ats.jdbc.TransactionalDriver&quot; /&gt;\n        &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/springtransaction1&quot; /&gt;\n        &lt;property name=&quot;username&quot; value=&quot;root&quot; /&gt;\n        &lt;property name=&quot;password&quot; value=&quot;Govinda@1&quot; /&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;jtaTransactionManager&quot; class=&quot;org.springframework.transaction.jta.JtaTransactionManager&quot;&gt;\n        &lt;property name=&quot;transactionManager&quot;&gt;\n            &lt;bean class=&quot;com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionManagerImple&quot; /&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;userTransaction&quot;&gt;\n            &lt;bean class=&quot;com.arjuna.ats.internal.jta.transaction.arjunacore.UserTransactionImple&quot; /&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;PROPAGATION_REQUIRED&quot; class=&quot;org.apache.camel.spring.spi.SpringTransactionPolicy&quot;&gt;\n        &lt;property name=&quot;transactionManager&quot; ref=&quot;jtaTransactionManager&quot; /&gt;\n        &lt;property name=&quot;propagationBehaviorName&quot; value=&quot;PROPAGATION_REQUIRED&quot; /&gt;\n    &lt;/bean&gt;\n    &lt;bean id=&quot;myError&quot;  class=&quot;com.rwx.camelspringnarayana.MyError&quot; /&gt;\n    \n  &lt;camelContext xmlns=&quot;http://camel.apache.org/schema/spring&quot;&gt;\n    &lt;!-- here is a sample which processes the input files\n         (leaving them in place - see the 'noop' flag)\n         then performs content based routing on the message using XPath --&gt;\n\n        &lt;route&gt;\n            &lt;from uri=&quot;timer:myTimer1?repeatCount=1&quot; /&gt;\n            &lt;transacted ref=&quot;PROPAGATION_REQUIRED&quot;/&gt;\n            &lt;log message=&quot;timer1 started&quot; /&gt;\n            &lt;to uri=&quot;sql:insert into cars values(1896, 'Jaldut')?dataSource=#dataSource1&quot; /&gt;\n            &lt;bean ref=&quot;myError&quot; /&gt;\n            &lt;to uri=&quot;sql:insert into cars values(1922, 'Rwx Car')?dataSource=#dataSource1&quot; /&gt; \n            &lt;log message=&quot;${body}&quot; /&gt;\n        &lt;/route&gt;\n\n        &lt;route&gt;\n            &lt;from uri=&quot;timer:myTimer2?repeatCount=1&quot; /&gt;\n            &lt;delay&gt;\n                &lt;constant&gt;5000&lt;/constant&gt;\n            &lt;/delay&gt;\n            &lt;log message=&quot;timer2 started&quot; /&gt;\n            &lt;to uri=&quot;sql:select * from cars where car_no in (1896,1922)?dataSource=#dataSource1&quot; /&gt;\n            &lt;log message=&quot;${body}&quot; /&gt;\n        &lt;/route&gt;\n        \n        \n        &lt;route&gt;\n            &lt;from uri=&quot;timer:myTimer4?repeatCount=1&quot; /&gt;\n            &lt;delay&gt;\n                &lt;constant&gt;5000&lt;/constant&gt;\n            &lt;/delay&gt;\n            &lt;log message=&quot;timer 4 started&quot; /&gt;\n            &lt;to uri=&quot;sql:select * from user_tb where id =2 ?dataSource=#dataSource2&quot; /&gt;\n            &lt;log message=&quot;${body}&quot; /&gt;\n        &lt;/route&gt;\n                 \n        &lt;route&gt;\n            &lt;from uri=&quot;timer:myTimer3?repeatCount=1&quot; /&gt;\n            &lt;delay&gt;&lt;constant&gt;10000&lt;/constant&gt;&lt;/delay&gt;\n            &lt;log message=&quot;timer3 started&quot; /&gt;\n            &lt;to uri=&quot;sql:delete from cars where car_no in (1896,1922)?dataSource=#dataSource1&quot; /&gt;\n            &lt;log message=&quot;No of rows deleted are = ${headers.camelSqlUpdateCount}&quot; /&gt;\n        &lt;/route&gt;\n        \n        &lt;route&gt;\n            &lt;from uri=&quot;timer:myTimer5?repeatCount=1&quot; /&gt;\n            &lt;delay&gt;&lt;constant&gt;10000&lt;/constant&gt;&lt;/delay&gt;\n            &lt;log message=&quot;timer 5started&quot; /&gt;\n            &lt;to uri=&quot;sql:delete from user_tb where id =2?dataSource=#dataSource2&quot; /&gt;\n            &lt;log message=&quot;No of rows deleted are = ${headers.camelSqlUpdateCount}&quot; /&gt;\n        &lt;/route&gt;\n        \n  &lt;/camelContext&gt;\n\n&lt;/beans&gt;\n</code></pre>\n<p>**It is not rolling back. even though exception is thrown. I want it to rollback.\nwe see one record is added. and it is deleted which means that it is now rolling back\n**\n<code> [] [el (camel-1) thread #8 - Delay] route2                         INFO  [{car_no=1896, carName=Jaldut}] [l (camel-1) thread #10 - Delay] route5                         INFO  timer 5started [el (camel-1) thread #9 - Delay] route4                         INFO  timer3 started [l (camel-1) thread #10 - Delay] route5                         INFO  No of rows deleted are = 0 [el (camel-1) thread #9 - Delay] route4                         INFO  No of rows deleted are = 1</code></p>\n"},{"tags":["java","collections","iterator"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1673321212,"post_id":75065129,"comment_id":132467336,"body_markdown":"yep. According to this [link](https://stackoverflow.com/a/27728424/16034206), everytime you call set.iterator() you get a new iterator that starts at the beginning, and you call .next on it so you get the first item, then you reset the iterator again","body":"yep. According to this <a href=\"https://stackoverflow.com/a/27728424/16034206\">link</a>, everytime you call set.iterator() you get a new iterator that starts at the beginning, and you call .next on it so you get the first item, then you reset the iterator again"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1673339397,"post_id":75065129,"comment_id":132470686,"body_markdown":"The sentence “I use the Iterator to create an iterator object” makes no sense.","body":"The sentence “I use the Iterator to create an iterator object” makes no sense."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673335799,"creation_date":1673335253,"answer_id":75066667,"question_id":75065129,"body_markdown":"Iterators are _stateful_ and maintain their own state. Simplified: they remember their current position in the collection.\r\n\r\nCalling `.iterator()` on a collection (actually a `java.lang.Iterable&lt;T&gt;`) gives you a _NEW_ iterator instance every time. So `while (set.iterator.hasNext())` will always create a new iterator which starts at the beginning. The only way this loop can exit is by having an empty set (in that case, the loop will never be entered).\r\n\r\nBy calling `.iterator()` only once and storing the instance in a variable, you can advance this iterator (and update its internal state/position).","title":"Why do I get different results when calling the iterator with different methods?","body":"<p>Iterators are <em>stateful</em> and maintain their own state. Simplified: they remember their current position in the collection.</p>\n<p>Calling <code>.iterator()</code> on a collection (actually a <code>java.lang.Iterable&lt;T&gt;</code>) gives you a <em>NEW</em> iterator instance every time. So <code>while (set.iterator.hasNext())</code> will always create a new iterator which starts at the beginning. The only way this loop can exit is by having an empty set (in that case, the loop will never be entered).</p>\n<p>By calling <code>.iterator()</code> only once and storing the instance in a variable, you can advance this iterator (and update its internal state/position).</p>\n"}],"owner":{"account_id":24817952,"reputation":1,"user_id":18698583,"display_name":"Mazai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673335799,"creation_date":1673320848,"question_id":75065129,"body_markdown":"\r\n\r\n    Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\n    for (int i = 0; i &lt; 10; i++) {\r\n        set.add(i);\r\n    }\r\n\r\n    Iterator iterator = set.iterator();\r\n    while (iterator.hasNext()){\r\n        System.out.println(iterator.next());\r\n    }\r\n\r\n    System.out.println(&quot;================================&quot;);\r\n\r\n    while (set.iterator().hasNext()){\r\n        System.out.println(set.iterator().next());\r\n    }\r\n\r\n[you&#39;re supposed to actually enter image description here](https://i.stack.imgur.com/BJwAq.png)\r\n\r\n\r\nI want to traverse the set collection, so I use the Iterator to create an iterator object and use the collection to call iterator directly, but the former gives the correct result, while the latter is an infinite loop.\r\nI don&#39;t understand it and could you tell me the difference between these two? thank you!\r\n","title":"Why do I get different results when calling the iterator with different methods?","body":"<pre><code>Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\nfor (int i = 0; i &lt; 10; i++) {\n    set.add(i);\n}\n\nIterator iterator = set.iterator();\nwhile (iterator.hasNext()){\n    System.out.println(iterator.next());\n}\n\nSystem.out.println(&quot;================================&quot;);\n\nwhile (set.iterator().hasNext()){\n    System.out.println(set.iterator().next());\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/BJwAq.png\" rel=\"nofollow noreferrer\">you're supposed to actually enter image description here</a></p>\n<p>I want to traverse the set collection, so I use the Iterator to create an iterator object and use the collection to call iterator directly, but the former gives the correct result, while the latter is an infinite loop.\nI don't understand it and could you tell me the difference between these two? thank you!</p>\n"},{"tags":["java","eclipse","tomcat","servlets"],"answers":[{"tags":[],"owner":{"account_id":1414924,"reputation":959,"user_id":1340768,"display_name":"Jimmy Zhang"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1446047545,"creation_date":1338485414,"answer_id":10838402,"question_id":10838109,"body_markdown":"Make two folders: `final/src/` to store the source java code, and\r\n`final/WebRoot/`.\r\n\r\nYou cannot put the source and the webroot together. I think you may misunderstand your teacher.","title":"Eclipse Build Path Nesting Errors","body":"<p>Make two folders: <code>final/src/</code> to store the source java code, and\n<code>final/WebRoot/</code>.</p>\n\n<p>You cannot put the source and the webroot together. I think you may misunderstand your teacher.</p>\n"},{"tags":[],"owner":{"account_id":263393,"reputation":6812,"user_id":548915,"accept_rate":56,"display_name":"Kristof Jozsa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1338486168,"creation_date":1338486168,"answer_id":10838561,"question_id":10838109,"body_markdown":"You have to separate your sources and your target directory where the build output goes. It&#39;s also important to note that no class files ever can end up in the source directory. This is not against your professor&#39;s advice - actually he&#39;s promoting the maven standard source structure going for ./src/main/java and ./src/main/webapp. The second one should hold eg. the mandatory WEB-INF/web.xml file but you will never put actual classes there.\r\n\r\nWhat you need to change is your target directory. I suggest going with the same standards and choosing the name &quot;./target&quot; for this. All the built files will go in here and packaging that up will result a correct deployable artifact. Should you migrate to using maven later, it&#39;ll also help doing this in a scripted, repeatable way.\r\n\r\nHope that clears up your issue.","title":"Eclipse Build Path Nesting Errors","body":"<p>You have to separate your sources and your target directory where the build output goes. It's also important to note that no class files ever can end up in the source directory. This is not against your professor's advice - actually he's promoting the maven standard source structure going for ./src/main/java and ./src/main/webapp. The second one should hold eg. the mandatory WEB-INF/web.xml file but you will never put actual classes there.</p>\n\n<p>What you need to change is your target directory. I suggest going with the same standards and choosing the name \"./target\" for this. All the built files will go in here and packaging that up will result a correct deployable artifact. Should you migrate to using maven later, it'll also help doing this in a scripted, repeatable way.</p>\n\n<p>Hope that clears up your issue.</p>\n"},{"tags":[],"owner":{"account_id":44380,"reputation":3720,"user_id":130228,"accept_rate":88,"display_name":"Sasha O"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1338515290,"creation_date":1338515290,"answer_id":10843446,"question_id":10838109,"body_markdown":"For Eclipse compiler to work properly you need to remove final/src from the source path and add final/src/main/java instead. This may also solve your problem as now the build directory won&#39;t be inside the Java source folder.","title":"Eclipse Build Path Nesting Errors","body":"<p>For Eclipse compiler to work properly you need to remove final/src from the source path and add final/src/main/java instead. This may also solve your problem as now the build directory won't be inside the Java source folder.</p>\n"},{"tags":[],"owner":{"account_id":1896086,"reputation":5499,"user_id":1713031,"accept_rate":71,"display_name":"acheron55"},"down_vote_count":2,"up_vote_count":350,"is_accepted":true,"score":348,"last_activity_date":1363268959,"creation_date":1363268959,"answer_id":15411137,"question_id":10838109,"body_markdown":"I had the same problem even when I created a fresh project. \r\nI was creating the Java project within Eclipse, then mavenize it, then going into java build path properties removing `src/` and adding `src/main/java` and `src/test/java`. When I run Maven update it used to give nested path error. &lt;br&gt;\r\nThen I finally realized -because I had not seen that entry before- there is a `&lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;` line in pom file written when I mavenize it. It was resolved after removing it.","title":"Eclipse Build Path Nesting Errors","body":"<p>I had the same problem even when I created a fresh project. \nI was creating the Java project within Eclipse, then mavenize it, then going into java build path properties removing <code>src/</code> and adding <code>src/main/java</code> and <code>src/test/java</code>. When I run Maven update it used to give nested path error. <br>\nThen I finally realized -because I had not seen that entry before- there is a <code>&lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;</code> line in pom file written when I mavenize it. It was resolved after removing it.</p>\n"},{"tags":[],"owner":{"account_id":2348323,"reputation":13158,"user_id":2057902,"accept_rate":80,"display_name":"Sireesh Yarlagadda"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1454361325,"creation_date":1400879086,"answer_id":23838314,"question_id":10838109,"body_markdown":"Try this:\r\n\r\nFrom the libraries tab:\r\n\r\n    Eclipse -&gt; right click on project name in sidebar -&gt; configure build path -&gt; Libraries\r\n\r\nRemove your web app libraries:\r\n\r\n    click on &quot;Web App Libraries&quot; -&gt; click &quot;remove&quot;\r\n\r\nAdd them back in:\r\n\r\n    click &quot;Add Library&quot; -&gt; click to highlight &quot;Web App Libraries&quot; -&gt; click &quot;next&quot; -&gt; confirm your desired project is the selected option -&gt; click &quot;Finish&quot;\r\n\r\nHighlighting &quot;Web App Libraries&quot;:\r\n\r\n![Highlighting &quot;Web App Libraries&quot;][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/urVnc.png","title":"Eclipse Build Path Nesting Errors","body":"<p>Try this:</p>\n\n<p>From the libraries tab:</p>\n\n<pre><code>Eclipse -&gt; right click on project name in sidebar -&gt; configure build path -&gt; Libraries\n</code></pre>\n\n<p>Remove your web app libraries:</p>\n\n<pre><code>click on \"Web App Libraries\" -&gt; click \"remove\"\n</code></pre>\n\n<p>Add them back in:</p>\n\n<pre><code>click \"Add Library\" -&gt; click to highlight \"Web App Libraries\" -&gt; click \"next\" -&gt; confirm your desired project is the selected option -&gt; click \"Finish\"\n</code></pre>\n\n<p>Highlighting \"Web App Libraries\":</p>\n\n<p><img src=\"https://i.stack.imgur.com/urVnc.png\" alt=\"Highlighting &quot;Web App Libraries&quot;\"></p>\n"},{"tags":[],"owner":{"account_id":4713249,"reputation":2149,"user_id":3813155,"accept_rate":79,"display_name":"heez"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1523658802,"creation_date":1456153207,"answer_id":35556852,"question_id":10838109,"body_markdown":"I wanted to throw in a non-mavenish answer to this thread.\r\n\r\nDue to version control and strict directory structure reasons, I was unable to follow Acheron&#39;s answer (the best answer) of doing something similar to removing `src/` and adding `src/main/java` and `src/test/java` to the build path.\r\n\r\nI had actually been off-and-on battling this nested build path issue for a couple weeks.  The answer to the problem is hinted in the error message:\r\n\r\n`To enable the nesting exclude &#39;main/&#39; from &#39;final/src&#39;`\r\n\r\n**Fix**\r\n\r\nIn your build path, you need to edit your `Inclusion and Exclusion Patterns` by clicking on `Excluded: (None)` and then `Edit...`:\r\n\r\n 1. Go to the navigator and press right click on the project\r\n 2. Build Path\r\n 3. Configure Build Path\r\n 4. Source (tab)\r\n\r\n[![Exclusion Patterns][1]][1]\r\n\r\nThere you can add `main/webapp/WEB-INF/classes` as an `Exclusion Pattern`.  Then it should allow you to add `main/webapp/WEB-INF/classes` to the build path as a separate source folder.\r\n\r\n  [1]: http://i.stack.imgur.com/UekJ7.png","title":"Eclipse Build Path Nesting Errors","body":"<p>I wanted to throw in a non-mavenish answer to this thread.</p>\n\n<p>Due to version control and strict directory structure reasons, I was unable to follow Acheron's answer (the best answer) of doing something similar to removing <code>src/</code> and adding <code>src/main/java</code> and <code>src/test/java</code> to the build path.</p>\n\n<p>I had actually been off-and-on battling this nested build path issue for a couple weeks.  The answer to the problem is hinted in the error message:</p>\n\n<p><code>To enable the nesting exclude 'main/' from 'final/src'</code></p>\n\n<p><strong>Fix</strong></p>\n\n<p>In your build path, you need to edit your <code>Inclusion and Exclusion Patterns</code> by clicking on <code>Excluded: (None)</code> and then <code>Edit...</code>:</p>\n\n<ol>\n<li>Go to the navigator and press right click on the project</li>\n<li>Build Path</li>\n<li>Configure Build Path</li>\n<li>Source (tab)</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/UekJ7.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/UekJ7.png\" alt=\"Exclusion Patterns\"></a></p>\n\n<p>There you can add <code>main/webapp/WEB-INF/classes</code> as an <code>Exclusion Pattern</code>.  Then it should allow you to add <code>main/webapp/WEB-INF/classes</code> to the build path as a separate source folder.</p>\n"},{"tags":[],"owner":{"account_id":3481109,"reputation":2349,"user_id":2917707,"accept_rate":46,"display_name":"Hatem Jaber"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1491318405,"creation_date":1491318405,"answer_id":43211013,"question_id":10838109,"body_markdown":"I had the same issue and correct answer above did not work for me. What I did to resolve it was to go to `Build Path-&gt;Configure Build Path` and under the source tab I removed all the sources (which only had one source) and reconfigured them from there. I ended up removing the project from eclipse and import the maven project again in order to clear up the error.","title":"Eclipse Build Path Nesting Errors","body":"<p>I had the same issue and correct answer above did not work for me. What I did to resolve it was to go to <code>Build Path-&gt;Configure Build Path</code> and under the source tab I removed all the sources (which only had one source) and reconfigured them from there. I ended up removing the project from eclipse and import the maven project again in order to clear up the error.</p>\n"},{"tags":[],"owner":{"account_id":989887,"reputation":738,"user_id":1007494,"accept_rate":100,"display_name":"Chad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1507188243,"creation_date":1507188243,"answer_id":46580081,"question_id":10838109,"body_markdown":"The accepted solution didn&#39;t work for me but I did some digging on the project settings. \r\n\r\nThe following solution fixed it for me at least IF you are using a Dynamic Web Project:\r\n\r\n 1. Right click on the project then properties. (or alt-enter on the project)\r\n 2. Under Deployment Assembly remove &quot;src&quot;.\r\n\r\nYou should be able to add the src/main/java. It also automatically adds it to Deployment Assembly.\r\n\r\nCaveat: If you added a src/test/java note that it also adds it to Deployment Assembly. Generally, you don&#39;t need this. You may remove it.\r\n\r\n","title":"Eclipse Build Path Nesting Errors","body":"<p>The accepted solution didn't work for me but I did some digging on the project settings. </p>\n\n<p>The following solution fixed it for me at least IF you are using a Dynamic Web Project:</p>\n\n<ol>\n<li>Right click on the project then properties. (or alt-enter on the project)</li>\n<li>Under Deployment Assembly remove \"src\".</li>\n</ol>\n\n<p>You should be able to add the src/main/java. It also automatically adds it to Deployment Assembly.</p>\n\n<p>Caveat: If you added a src/test/java note that it also adds it to Deployment Assembly. Generally, you don't need this. You may remove it.</p>\n"},{"tags":[],"owner":{"account_id":1260099,"reputation":18217,"user_id":1218618,"accept_rate":100,"display_name":"albciff"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1520524339,"creation_date":1520524339,"answer_id":49177226,"question_id":10838109,"body_markdown":"In my case I have a gradle nature project in _eclipse_, the problem was in a `build.gradle`, where this `sourceSets` is specified:\r\n\r\n\tsourceSets {\r\n\t\tmain {\r\n\t\t\tjava {\r\n\t\t\t\tsrcDir &#39;src&#39;\r\n\t\t\t}\r\n\t\t}\r\n     }\r\n\r\nThis seems to works well with _intelliJ_,however seems than _eclipse_ doesn&#39;t like nest `src`, `src/java`, `src/resources`. In _eclipse_ I must change it to:\r\n\r\n\tsourceSets {\r\n\t\tmain {\r\n\t\t\tjava {\r\n\t\t\t\tsrcDir &#39;src/main/java&#39;\r\n\t\t\t}\r\n\t\t}\r\n    }","title":"Eclipse Build Path Nesting Errors","body":"<p>In my case I have a gradle nature project in <em>eclipse</em>, the problem was in a <code>build.gradle</code>, where this <code>sourceSets</code> is specified:</p>\n\n<pre><code>sourceSets {\n    main {\n        java {\n            srcDir 'src'\n        }\n    }\n }\n</code></pre>\n\n<p>This seems to works well with <em>intelliJ</em>,however seems than <em>eclipse</em> doesn't like nest <code>src</code>, <code>src/java</code>, <code>src/resources</code>. In <em>eclipse</em> I must change it to:</p>\n\n<pre><code>sourceSets {\n    main {\n        java {\n            srcDir 'src/main/java'\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5375671,"reputation":1157,"user_id":4282688,"accept_rate":87,"display_name":"Carson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532530234,"creation_date":1532530234,"answer_id":51521883,"question_id":10838109,"body_markdown":"This started taking me down a huge rabbit hole of fixing glitches with Eclipse, however I just deleted the project from Eclipse and reimported it to fix it.","title":"Eclipse Build Path Nesting Errors","body":"<p>This started taking me down a huge rabbit hole of fixing glitches with Eclipse, however I just deleted the project from Eclipse and reimported it to fix it.</p>\n"},{"tags":[],"owner":{"account_id":2337694,"reputation":506,"user_id":2049642,"display_name":"abhijeet104"},"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1554987847,"creation_date":1554984153,"answer_id":55632049,"question_id":10838109,"body_markdown":"Here is a simple solution:\r\n\r\n 1. Right click the project &gt;&gt; properties &gt;&gt; build path;\r\n 2. In Source tab, Select all the source folders;\r\n 3. Remove them;\r\n 4. Right click on project, Maven &gt;&gt; Update the project.","title":"Eclipse Build Path Nesting Errors","body":"<p>Here is a simple solution:</p>\n\n<ol>\n<li>Right click the project >> properties >> build path;</li>\n<li>In Source tab, Select all the source folders;</li>\n<li>Remove them;</li>\n<li>Right click on project, Maven >> Update the project.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":14351860,"reputation":57,"user_id":10367066,"display_name":"yrz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569350560,"creation_date":1569345758,"answer_id":58085370,"question_id":10838109,"body_markdown":"[![STS IDE ][1]][1]\n\nIt depends on which folder one is telling &quot;Use as Source Folder&quot; to. In the structure on the picture if one says it to the folder &quot;target&quot; or &quot;generated&quot;, he gets the &quot;nested&quot; error. But on &quot;cxf&quot; folder, which is the last, mentioned in the pom.xml&#39;s &#39;plugin&#39; section and where from the package structure begins (as shown on .wsdl file), i.e. - the right folder to do it &#39;source&#39; one, then there is no error\n\n  [1]: https://i.stack.imgur.com/r6H7O.png","title":"Eclipse Build Path Nesting Errors","body":"<p><a href=\"https://i.stack.imgur.com/r6H7O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r6H7O.png\" alt=\"STS IDE \" /></a></p>\n<p>It depends on which folder one is telling &quot;Use as Source Folder&quot; to. In the structure on the picture if one says it to the folder &quot;target&quot; or &quot;generated&quot;, he gets the &quot;nested&quot; error. But on &quot;cxf&quot; folder, which is the last, mentioned in the pom.xml's 'plugin' section and where from the package structure begins (as shown on .wsdl file), i.e. - the right folder to do it 'source' one, then there is no error</p>\n"},{"tags":[],"owner":{"account_id":19038431,"reputation":11,"user_id":13899072,"display_name":"Way"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594346067,"creation_date":1594346067,"answer_id":62826225,"question_id":10838109,"body_markdown":"Got similar issue. Did following steps, issue resolved:\n1. Remove project in eclipse.\n2. Delete .Project file and . Settings folder.\n3. Import project as existing maven project again to eclipse.","title":"Eclipse Build Path Nesting Errors","body":"<p>Got similar issue. Did following steps, issue resolved:</p>\n<ol>\n<li>Remove project in eclipse.</li>\n<li>Delete .Project file and . Settings folder.</li>\n<li>Import project as existing maven project again to eclipse.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1816046,"reputation":1389,"user_id":1651107,"accept_rate":100,"display_name":"Piro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673335773,"creation_date":1673335773,"answer_id":75066744,"question_id":10838109,"body_markdown":"If other solutions did not work and you are using any plugin adding sources in your pom.xml check it. I used build-helper-maven-plugin to add classes generated from openapi specification with incorrect configuration:\r\n\r\n    &lt;source&gt;${project.build.directory}/generated-sources/openapi/src&lt;/source&gt;\r\n\r\ninstead of correct: \r\n\r\n    &lt;source&gt;${project.build.directory}/generated-sources/openapi/src/main/java/&lt;/source&gt;\r\n\r\nSo after correcting:\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.3.0&lt;/version&gt;\r\n    \t&lt;executions&gt;\r\n    \t\t&lt;execution&gt;\r\n    \t\t\t&lt;id&gt;add-source&lt;/id&gt;\r\n    \t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n    \t\t\t&lt;goals&gt;\r\n    \t\t\t\t&lt;goal&gt;add-source&lt;/goal&gt;\r\n    \t\t\t&lt;/goals&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;sources&gt;\r\n    \t\t\t\t\t&lt;source&gt;${project.build.directory}/generated-sources/openapi/src&lt;/source&gt;\r\n    \t\t\t\t&lt;/sources&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t&lt;/execution&gt;\r\n    \t&lt;/executions&gt;\r\n    &lt;/plugin&gt;","title":"Eclipse Build Path Nesting Errors","body":"<p>If other solutions did not work and you are using any plugin adding sources in your pom.xml check it. I used build-helper-maven-plugin to add classes generated from openapi specification with incorrect configuration:</p>\n<pre><code>&lt;source&gt;${project.build.directory}/generated-sources/openapi/src&lt;/source&gt;\n</code></pre>\n<p>instead of correct:</p>\n<pre><code>&lt;source&gt;${project.build.directory}/generated-sources/openapi/src/main/java/&lt;/source&gt;\n</code></pre>\n<p>So after correcting:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.3.0&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;add-source&lt;/id&gt;\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;add-source&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;sources&gt;\n                    &lt;source&gt;${project.build.directory}/generated-sources/openapi/src&lt;/source&gt;\n                &lt;/sources&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":121184,"reputation":1739,"user_id":314085,"accept_rate":100,"display_name":"0xBrandon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147925,"favorite_count":0,"down_vote_count":0,"up_vote_count":144,"accepted_answer_id":15411137,"answer_count":14,"score":144,"last_activity_date":1673335773,"creation_date":1338484104,"question_id":10838109,"body_markdown":"I&#39;m working on a simple JSP/Servlet/Tomcat webapp for my class. The professor asked us to use a folder structure that is slightly different than the default dynamic web project structure. Rather than using the webcontent folder he wants all of our source code under src/main/java and src/main/webapp.\r\n\r\nWhen I run the app my welcome file displays fine, but when I try to access my servlets I get:\r\n\r\n     Http 500 SEVERE: Allocate exception for servlet InitDb\r\njava.lang.ClassNotFoundException. I&#39;m pretty sure it&#39;s a build path error. I have final/src on the build path but I am receiving the warning  \r\n\r\n    &quot;Cannot nest &#39;final/src/main/webapp/WEB-INF/classes&#39; inside &#39;final/src&#39;. To enable the    nesting exclude &#39;main/&#39; from &#39;final/src&#39;\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/WbiGC.jpg\r\n\r\nI have this in my deployment assembly: \r\n\r\n    &lt;wb-resource deploy-path=&quot;/&quot; source-path=&quot;/src/main/webapp&quot; tag=&quot;defaultRootSource&quot;/&gt; \r\n\r\nWhen I exclude main/ the warning goes away, but it doesn&#39;t fix the problem. I would appreciate any advice. Thanks. ","title":"Eclipse Build Path Nesting Errors","body":"<p>I'm working on a simple JSP/Servlet/Tomcat webapp for my class. The professor asked us to use a folder structure that is slightly different than the default dynamic web project structure. Rather than using the webcontent folder he wants all of our source code under src/main/java and src/main/webapp.</p>\n\n<p>When I run the app my welcome file displays fine, but when I try to access my servlets I get:</p>\n\n<pre><code> Http 500 SEVERE: Allocate exception for servlet InitDb\n</code></pre>\n\n<p>java.lang.ClassNotFoundException. I'm pretty sure it's a build path error. I have final/src on the build path but I am receiving the warning  </p>\n\n<pre><code>\"Cannot nest 'final/src/main/webapp/WEB-INF/classes' inside 'final/src'. To enable the    nesting exclude 'main/' from 'final/src'\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/WbiGC.jpg\" alt=\"enter image description here\"></p>\n\n<p>I have this in my deployment assembly: </p>\n\n<pre><code>&lt;wb-resource deploy-path=\"/\" source-path=\"/src/main/webapp\" tag=\"defaultRootSource\"/&gt; \n</code></pre>\n\n<p>When I exclude main/ the warning goes away, but it doesn't fix the problem. I would appreciate any advice. Thanks. </p>\n"},{"tags":["java","android"],"owner":{"account_id":22517343,"reputation":45,"user_id":16711389,"display_name":"Harry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673335517,"creation_date":1673268544,"question_id":75057503,"body_markdown":"I am trying to compare 2 values from a single list in recyclerview adapter.\r\nI need to get the status of current item &amp; the next item &amp; compare both. So far I&#39;m here but it doesn&#39;t work. Any suggestions appreciated!\r\n\r\nExample\r\n\r\n        int curr = position;\r\n        int next = position + 1;\r\n\r\n            String s1 = null, s2 = null;\r\n\r\n            if (position == curr) {\r\n                s1 = item.getStatus();\r\n            }\r\n\r\n            if (position == next) {\r\n                s2 = item.getStatus();\r\n            }\r\n\r\n            if(s1.equals(s2))\r\n            {\r\n            //print ok\r\n            } else {\r\n            //not ok\r\n            }","title":"Compare two item values from a single list in recyclerview adapter","body":"<p>I am trying to compare 2 values from a single list in recyclerview adapter.\nI need to get the status of current item &amp; the next item &amp; compare both. So far I'm here but it doesn't work. Any suggestions appreciated!</p>\n<p>Example</p>\n<pre><code>    int curr = position;\n    int next = position + 1;\n\n        String s1 = null, s2 = null;\n\n        if (position == curr) {\n            s1 = item.getStatus();\n        }\n\n        if (position == next) {\n            s2 = item.getStatus();\n        }\n\n        if(s1.equals(s2))\n        {\n        //print ok\n        } else {\n        //not ok\n        }\n</code></pre>\n"},{"tags":["java","android","kotlin"],"owner":{"account_id":17573137,"reputation":464,"user_id":12748481,"display_name":"Surajkaran Meghwanshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673334808,"creation_date":1673334808,"question_id":75066589,"body_markdown":"I am trying to run my project , then showing `java.lang.ClassNotFoundException: javax.xml.bind.JAXBException` error\r\n\r\n        java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\r\n    \tat java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\r\n    \tat java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3137)\r\n    \tat java.base/java.lang.Class.getConstructor0(Class.java:3342)\r\n    \tat java.base/java.lang.Class.newInstance(Class.java:556)\r\n    \tat org.jetbrains.kotlin.cli.jvm.plugins.ServiceLoaderLite.loadImplementations(ServiceLoaderLite.kt:50)\r\n    \tat org.jetbrains.kotlin.kapt3.ClasspathBasedKapt3Extension$loadProcessors$efficientProcessorLoader$1.doLoadProcessors(Kapt3Extension.kt:83)\r\n    \tat org.jetbrains.kotlin.kapt3.base.ProcessorLoader.loadProcessors(ProcessorLoader.kt:42)\r\n    \tat org.jetbrains.kotlin.kapt3.base.ProcessorLoader.loadProcessors$default(ProcessorLoader.kt:25)\r\n    \tat org.jetbrains.kotlin.kapt3.ClasspathBasedKapt3Extension.loadProcessors(Kapt3Extension.kt:88)\r\n    \tat org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.analysisCompleted(Kapt3Extension.kt:171)\r\n    \tat org.jetbrains.kotlin.kapt3.ClasspathBasedKapt3Extension.analysisCompleted(Kapt3Extension.kt:98)\r\n    \tat org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM$analyzeFilesWithJavaIntegration$2.invoke(TopDownAnalyzerFacadeForJVM.kt:96)\r\n    \tat org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration(TopDownAnalyzerFacadeForJVM.kt:106)\r\n    \tat org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration$default(TopDownAnalyzerFacadeForJVM.kt:82)\r\n    \tat org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:384)\r\n    \tat org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:70)\r\n    \tat org.jetbrains.kotlin.cli.common.messages.AnalyzerWithCompilerReport.analyzeAndReport(AnalyzerWithCompilerReport.kt:107)\r\n    \tat org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.analyze(KotlinToJVMBytecodeCompiler.kt:375)\r\n    \tat org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules$cli(KotlinToJVMBytecodeCompiler.kt:123)\r\n    \tat org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:159)\r\n    \tat org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:57)\r\n    \tat org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:96)\r\n    \tat org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:52)\r\n    \tat org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:93)\r\n    \tat org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$1$2.invoke(CompileServiceImpl.kt:442)\r\n    \tat org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$1$2.invoke(CompileServiceImpl.kt:102)\r\n    \tat org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:1013)\r\n    \tat org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:102)\r\n    \tat org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)\r\n    \tat org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:1055)\r\n    \tat org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:1012)\r\n    \tat org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:441)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:359)\r\n    \tat java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)\r\n    \tat java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)\r\n    \tat java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:562)\r\n    \tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:796)\r\n    \tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:677)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:676)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n    Caused by: java.lang.ClassNotFoundException: javax.xml.bind.JAXBException\r\n    \tat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:471)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:589)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n    \t... 49 more\r\n\r\nI tried many stackoverflow answer but not resolve issue and getting same error.\r\n\r\nTried :-\r\n\r\nadding these into gradle file as a classpath\r\n\r\n    \r\n        classpath &#39;javax.xml.bind:jaxb-api:2.3.1&#39;\r\n        classpath &#39;com.sun.xml.bind:jaxb-impl:2.3.0&#39;\r\n\r\n        classpath &#39;com.sun.xml.bind:jaxb-core:2.3.0&#39;\r\n        classpath &#39;org.glassfish.jaxb:jaxb-runtime:2.3.0&#39;\r\n        classpath &#39;javax.activation:activation:1.1.1&#39;\r\n\r\n\r\nIs there any solution to resolve this issue.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GI3Bg.png","title":"java.lang.ClassNotFoundException: javax.xml.bind.JAXBException android","body":"<p>I am trying to run my project , then showing <code>java.lang.ClassNotFoundException: javax.xml.bind.JAXBException</code> error</p>\n<pre><code>    java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\n    at java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\n    at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3137)\n    at java.base/java.lang.Class.getConstructor0(Class.java:3342)\n    at java.base/java.lang.Class.newInstance(Class.java:556)\n    at org.jetbrains.kotlin.cli.jvm.plugins.ServiceLoaderLite.loadImplementations(ServiceLoaderLite.kt:50)\n    at org.jetbrains.kotlin.kapt3.ClasspathBasedKapt3Extension$loadProcessors$efficientProcessorLoader$1.doLoadProcessors(Kapt3Extension.kt:83)\n    at org.jetbrains.kotlin.kapt3.base.ProcessorLoader.loadProcessors(ProcessorLoader.kt:42)\n    at org.jetbrains.kotlin.kapt3.base.ProcessorLoader.loadProcessors$default(ProcessorLoader.kt:25)\n    at org.jetbrains.kotlin.kapt3.ClasspathBasedKapt3Extension.loadProcessors(Kapt3Extension.kt:88)\n    at org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.analysisCompleted(Kapt3Extension.kt:171)\n    at org.jetbrains.kotlin.kapt3.ClasspathBasedKapt3Extension.analysisCompleted(Kapt3Extension.kt:98)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM$analyzeFilesWithJavaIntegration$2.invoke(TopDownAnalyzerFacadeForJVM.kt:96)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration(TopDownAnalyzerFacadeForJVM.kt:106)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration$default(TopDownAnalyzerFacadeForJVM.kt:82)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:384)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:70)\n    at org.jetbrains.kotlin.cli.common.messages.AnalyzerWithCompilerReport.analyzeAndReport(AnalyzerWithCompilerReport.kt:107)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.analyze(KotlinToJVMBytecodeCompiler.kt:375)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules$cli(KotlinToJVMBytecodeCompiler.kt:123)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:159)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:57)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:96)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:52)\n    at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:93)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$1$2.invoke(CompileServiceImpl.kt:442)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$1$2.invoke(CompileServiceImpl.kt:102)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:1013)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:102)\n    at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:1055)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:1012)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:441)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:359)\n    at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)\n    at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:562)\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:796)\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:677)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:676)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.JAXBException\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:471)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:589)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 49 more\n</code></pre>\n<p>I tried many stackoverflow answer but not resolve issue and getting same error.</p>\n<p>Tried :-</p>\n<p>adding these into gradle file as a classpath</p>\n<pre><code>    classpath 'javax.xml.bind:jaxb-api:2.3.1'\n    classpath 'com.sun.xml.bind:jaxb-impl:2.3.0'\n\n    classpath 'com.sun.xml.bind:jaxb-core:2.3.0'\n    classpath 'org.glassfish.jaxb:jaxb-runtime:2.3.0'\n    classpath 'javax.activation:activation:1.1.1'\n</code></pre>\n<p>Is there any solution to resolve this issue.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673332685,"post_id":75066269,"comment_id":132468996,"body_markdown":"Sounds like you using an old version of the code","body":"Sounds like you using an old version of the code"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1673333909,"post_id":75066269,"comment_id":132469256,"body_markdown":"Your code works for me in VSCode 1.74.2 and JDK 19.","body":"Your code works for me in VSCode 1.74.2 and JDK 19."},{"owner":{"account_id":27417057,"reputation":1,"user_id":20916062,"display_name":"Cookies"},"score":0,"creation_date":1673334329,"post_id":75066269,"comment_id":132469355,"body_markdown":"I&#39;m also using VSCode 1.74.2 and just upgraded to JDK 19. Still doesn&#39;t work for me. Geany does though.","body":"I&#39;m also using VSCode 1.74.2 and just upgraded to JDK 19. Still doesn&#39;t work for me. Geany does though."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1673337022,"post_id":75066269,"comment_id":132470052,"body_markdown":"Then I would say that the problem is not with your code but rather with how you have configured your VSCode.","body":"Then I would say that the problem is not with your code but rather with how you have configured your VSCode."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1673337797,"post_id":75066269,"comment_id":132470259,"body_markdown":"I can also run your code with no problems: VS Code 1.74.2, Java 18.0.2 and 19.0.1. It compiles and runs just fine manually using `javac` and `java`, as well. You must not be running what you think you&#39;re running and/or there&#39;s something wrong with your configuration.","body":"I can also run your code with no problems: VS Code 1.74.2, Java 18.0.2 and 19.0.1. It compiles and runs just fine manually using <code>javac</code> and <code>java</code>, as well. You must not be running what you think you&#39;re running and/or there&#39;s something wrong with your configuration."},{"owner":{"display_name":"user15314575"},"score":0,"creation_date":1673340960,"post_id":75066269,"comment_id":132471181,"body_markdown":"Check your imports! This problem can be caused by importing another `Vehicle` class which does not contain a `fuelNeeded ` method.","body":"Check your imports! This problem can be caused by importing another <code>Vehicle</code> class which does not contain a <code>fuelNeeded </code> method."}],"answers":[{"tags":[],"owner":{"account_id":24889803,"reputation":11,"user_id":18761929,"display_name":"CarpeWang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673333053,"creation_date":1673333053,"answer_id":75066360,"question_id":75066269,"body_markdown":"checking your java version that I think it&#39;s old. ","title":"VSCode unable to find method on fully functional code","body":"<p>checking your java version that I think it's old.</p>\n"}],"owner":{"account_id":27417057,"reputation":1,"user_id":20916062,"display_name":"Cookies"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673334694,"creation_date":1673332379,"question_id":75066269,"body_markdown":"On Geany and my friend&#39;s computer this code works. But on my VSCode app it gives the error\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \r\n        The method fuelNeeded(int) is undefined for the type Vehicle\r\n        The method fuelNeeded(int) is undefined for the type Vehicle\r\n        at AddParamVehicle.main(AddParamVehicle.java:18)\r\n\r\nI would like to understand why this happens and how to fix it. Thanks. \r\nEdited after I updated to JDK 19, still giving same error.\r\n\r\n```\r\npublic class AddParamVehicle {\r\n    public static void main (String[] args){\r\n        Vehicle minivan = new Vehicle();\r\n        Vehicle sportscar = new Vehicle();\r\n        double gallons;\r\n        int dist = 252;\r\n\r\n        // assign values to fields in  minivan\r\n        minivan.passengers = 7;\r\n        minivan.fuelcap =16;\r\n        minivan.mpg = 21;\r\n\r\n        //assign vlaues to fields in sportscar\r\n        sportscar.passengers = 2;\r\n        sportscar.fuelcap = 14;\r\n        sportscar.mpg = 12;\r\n\r\n        gallons = minivan.fuelNeeded (dist);\r\n\r\n        System.out.println(&quot;To go &quot; + dist + &quot; miles minivan needs &quot; + gallons + &quot; gallons of fuel.&quot;);\r\n        \r\n        gallons = sportscar.fuelNeeded (dist);\r\n\r\n        System.out.println(&quot;To go &quot; + dist + &quot; miles sportscar needs &quot; + gallons + &quot; gallons of fuel.&quot;);\r\n        \r\n    }\r\n    \r\n}\r\n\r\n class Vehicle{\r\n    int passengers;\r\n    int fuelcap;\r\n    int mpg;\r\n\r\n    // return the range\r\n   public int range() {\r\n        return fuelcap * mpg;\r\n    }\r\n\r\n    // compute fuel needed for a given distance\r\n    public double fuelNeeded (int miles) {\r\n        return (double) miles / mpg;\r\n    }\r\n}\r\n\r\n```","title":"VSCode unable to find method on fully functional code","body":"<p>On Geany and my friend's computer this code works. But on my VSCode app it gives the error</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems:\nThe method fuelNeeded(int) is undefined for the type Vehicle\nThe method fuelNeeded(int) is undefined for the type Vehicle\nat AddParamVehicle.main(AddParamVehicle.java:18)</p>\n</blockquote>\n<p>I would like to understand why this happens and how to fix it. Thanks.\nEdited after I updated to JDK 19, still giving same error.</p>\n<pre><code>public class AddParamVehicle {\n    public static void main (String[] args){\n        Vehicle minivan = new Vehicle();\n        Vehicle sportscar = new Vehicle();\n        double gallons;\n        int dist = 252;\n\n        // assign values to fields in  minivan\n        minivan.passengers = 7;\n        minivan.fuelcap =16;\n        minivan.mpg = 21;\n\n        //assign vlaues to fields in sportscar\n        sportscar.passengers = 2;\n        sportscar.fuelcap = 14;\n        sportscar.mpg = 12;\n\n        gallons = minivan.fuelNeeded (dist);\n\n        System.out.println(&quot;To go &quot; + dist + &quot; miles minivan needs &quot; + gallons + &quot; gallons of fuel.&quot;);\n        \n        gallons = sportscar.fuelNeeded (dist);\n\n        System.out.println(&quot;To go &quot; + dist + &quot; miles sportscar needs &quot; + gallons + &quot; gallons of fuel.&quot;);\n        \n    }\n    \n}\n\n class Vehicle{\n    int passengers;\n    int fuelcap;\n    int mpg;\n\n    // return the range\n   public int range() {\n        return fuelcap * mpg;\n    }\n\n    // compute fuel needed for a given distance\n    public double fuelNeeded (int miles) {\n        return (double) miles / mpg;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring-boot","elasticsearch","elasticsearch-java-api"],"comments":[{"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"score":0,"creation_date":1673267613,"post_id":75054183,"comment_id":132452820,"body_markdown":"did you tried `hit.innerHits().get(&quot;comment&quot;).hits().hits().toString()`","body":"did you tried <code>hit.innerHits().get(&quot;comment&quot;).hits().hits().toString()</code>"},{"owner":{"account_id":17296142,"reputation":23,"user_id":12526771,"display_name":"Ali Abbasi"},"score":0,"creation_date":1673327883,"post_id":75054183,"comment_id":132468154,"body_markdown":"@SagarPatel Same Response `[co.elastic.clients.elasticsearch.core.search.Hit@50cb9a2]`","body":"@SagarPatel Same Response <code>[co.elastic.clients.elasticsearch.core.search.Hit@50cb9a2]</code>"}],"answers":[{"tags":[],"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673270668,"creation_date":1673270668,"answer_id":75057925,"question_id":75054183,"body_markdown":"I created a class Comment with property &quot;c_text&quot; and did a cast before adding inside a lists comments.\r\n\r\n     var comments = new ArrayList&lt;Comment&gt;();\r\n        for (var hit : response.hits().hits()) {\r\n          comments.addAll(hit.innerHits().get(&quot;comment&quot;).hits().hits().stream().map(\r\n              h -&gt; h.source().to(Comment.class)\r\n          ).collect(Collectors.toList()));\r\n        }\r\n        System.out.println(comments);","title":"Elasticsearch inner hits reponse","body":"<p>I created a class Comment with property &quot;c_text&quot; and did a cast before adding inside a lists comments.</p>\n<pre><code> var comments = new ArrayList&lt;Comment&gt;();\n    for (var hit : response.hits().hits()) {\n      comments.addAll(hit.innerHits().get(&quot;comment&quot;).hits().hits().stream().map(\n          h -&gt; h.source().to(Comment.class)\n      ).collect(Collectors.toList()));\n    }\n    System.out.println(comments);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17296142,"reputation":23,"user_id":12526771,"display_name":"Ali Abbasi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673334085,"creation_date":1673334085,"answer_id":75066491,"question_id":75054183,"body_markdown":"This properly works for me in console :\r\n```\r\n for (var hit : response.hits().hits()) {\r\n        var innerHits = hit.innerHits().get(&quot;comment&quot;).hits().hits();\r\n        for (var innerHit : innerHits) {\r\n            JsonData source = innerHit.source();\r\n            String jsonDataString = source.toString();\r\n            System.out.println(&quot;Matched comments&quot;+jsonDataString);\r\n        }\r\n    }\r\n```","title":"Elasticsearch inner hits reponse","body":"<p>This properly works for me in console :</p>\n<pre><code> for (var hit : response.hits().hits()) {\n        var innerHits = hit.innerHits().get(&quot;comment&quot;).hits().hits();\n        for (var innerHit : innerHits) {\n            JsonData source = innerHit.source();\n            String jsonDataString = source.toString();\n            System.out.println(&quot;Matched comments&quot;+jsonDataString);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":17296142,"reputation":23,"user_id":12526771,"display_name":"Ali Abbasi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75066491,"answer_count":2,"score":0,"last_activity_date":1673334085,"creation_date":1673248947,"question_id":75054183,"body_markdown":"This is my query function :\r\n```\r\npublic  List&lt;feed&gt; search(String id) throws IOException {    \r\n    Query nestedQuery = NestedQuery.of(nq -&gt;nq.path(&quot;comment&quot;).innerHits(InnerHits.of(ih -&gt; ih)).query(MatchQuery\r\n    \t\t            .of(mq -&gt; mq.field(&quot;comment.c_text&quot;).query(id))._toQuery()))._toQuery();\r\n    Query termQueryTitle = TermQuery.of(tq -&gt; tq.field(&quot;title&quot;).value(id))._toQuery();\r\n    Query termQueryBody = TermQuery.of(tq -&gt; tq.field(&quot;body&quot;).value(id))._toQuery();\r\n    Query boolQuery = BoolQuery.of(bq -&gt; bq.should(nestedQuery, termQueryBody, termQueryTitle))._toQuery();\r\n    SearchRequest searchRequest = SearchRequest.of(s -&gt; s.index(indexName).query(boolQuery));\r\n    var response = elasticsearchClient.search(searchRequest, feed.class);\r\n    for (var hit : response.hits().hits()){\r\n    \tSystem.out.println(&quot;this is inner hit response: &quot; + (hit.innerHits().get(&quot;comment&quot;).hits().hits()));  }\r\n           List&lt;Hit&lt;feed&gt;&gt; hits = response.hits().hits();\r\n           List&lt;feed&gt; feeds = new ArrayList&lt;&gt;();\r\n           feed f=null;\r\n           for(Hit object : hits){\r\n        \t   f = (feed) object.source();\r\n        \t feeds.add(f); }   \r\n           return feeds;\r\n           }\r\n\r\n```\r\n\r\ni have add this code \r\n```\r\n for (var hit : response.hits().hits()){\r\n    \tSystem.out.println(&quot;this is inner hit response: &quot; + (hit.innerHits().get(&quot;comment&quot;).hits().hits()));  }\r\n```\r\nif it founds 2 records it gives me the refrence of 2  records but dont show me the actual records like its outpout is as follow if it founds 2 records in inner hit :\r\n```\r\nthis is inner hit response [co.elastic.clients.elasticsearch.core.search.Hit@75679b1a]\r\nthis is inner hit response [co.elastic.clients.elasticsearch.core.search.Hit@1916d9c6]\r\n```\r\ncan anyone help me to poput the actual records ","title":"Elasticsearch inner hits reponse","body":"<p>This is my query function :</p>\n<pre><code>public  List&lt;feed&gt; search(String id) throws IOException {    \n    Query nestedQuery = NestedQuery.of(nq -&gt;nq.path(&quot;comment&quot;).innerHits(InnerHits.of(ih -&gt; ih)).query(MatchQuery\n                        .of(mq -&gt; mq.field(&quot;comment.c_text&quot;).query(id))._toQuery()))._toQuery();\n    Query termQueryTitle = TermQuery.of(tq -&gt; tq.field(&quot;title&quot;).value(id))._toQuery();\n    Query termQueryBody = TermQuery.of(tq -&gt; tq.field(&quot;body&quot;).value(id))._toQuery();\n    Query boolQuery = BoolQuery.of(bq -&gt; bq.should(nestedQuery, termQueryBody, termQueryTitle))._toQuery();\n    SearchRequest searchRequest = SearchRequest.of(s -&gt; s.index(indexName).query(boolQuery));\n    var response = elasticsearchClient.search(searchRequest, feed.class);\n    for (var hit : response.hits().hits()){\n        System.out.println(&quot;this is inner hit response: &quot; + (hit.innerHits().get(&quot;comment&quot;).hits().hits()));  }\n           List&lt;Hit&lt;feed&gt;&gt; hits = response.hits().hits();\n           List&lt;feed&gt; feeds = new ArrayList&lt;&gt;();\n           feed f=null;\n           for(Hit object : hits){\n               f = (feed) object.source();\n             feeds.add(f); }   \n           return feeds;\n           }\n\n</code></pre>\n<p>i have add this code</p>\n<pre><code> for (var hit : response.hits().hits()){\n        System.out.println(&quot;this is inner hit response: &quot; + (hit.innerHits().get(&quot;comment&quot;).hits().hits()));  }\n</code></pre>\n<p>if it founds 2 records it gives me the refrence of 2  records but dont show me the actual records like its outpout is as follow if it founds 2 records in inner hit :</p>\n<pre><code>this is inner hit response [co.elastic.clients.elasticsearch.core.search.Hit@75679b1a]\nthis is inner hit response [co.elastic.clients.elasticsearch.core.search.Hit@1916d9c6]\n</code></pre>\n<p>can anyone help me to poput the actual records</p>\n"},{"tags":["java","naming-conventions"],"comments":[{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":3,"creation_date":1328718557,"post_id":9197316,"comment_id":11574855,"body_markdown":"Note that those &quot;fields&quot; in methods as in your example do not compile, the `private` modifier is illegal there. That should already have turned on a light bulb :)","body":"Note that those &quot;fields&quot; in methods as in your example do not compile, the <code>private</code> modifier is illegal there. That should already have turned on a light bulb :)"},{"owner":{"account_id":194597,"reputation":41281,"user_id":437039,"accept_rate":89,"display_name":"sandalone"},"score":0,"creation_date":1328718774,"post_id":9197316,"comment_id":11574953,"body_markdown":"@BalusC Sorry, this was just an example. I did copy&amp;paste without taking too much care.","body":"@BalusC Sorry, this was just an example. I did copy&amp;paste without taking too much care."},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":3,"creation_date":1328718893,"post_id":9197316,"comment_id":11575010,"body_markdown":"Okay. My point was, you can&#39;t tune the visibility of local variables nor make them static, so the statement &quot;non-public, non-static&quot; would already make no sense.","body":"Okay. My point was, you can&#39;t tune the visibility of local variables nor make them static, so the statement &quot;non-public, non-static&quot; would already make no sense."},{"owner":{"account_id":194597,"reputation":41281,"user_id":437039,"accept_rate":89,"display_name":"sandalone"},"score":0,"creation_date":1328718935,"post_id":9197316,"comment_id":11575030,"body_markdown":"@BalusC Hahaha you&#39;re absolutely right!","body":"@BalusC Hahaha you&#39;re absolutely right!"},{"owner":{"account_id":355044,"reputation":37880,"user_id":693752,"accept_rate":63,"display_name":"Snicolas"},"score":0,"creation_date":1328730835,"post_id":9197316,"comment_id":11579671,"body_markdown":"I still wonder why there are some android coding rules when there have always been java coding rules...","body":"I still wonder why there are some android coding rules when there have always been java coding rules..."},{"owner":{"account_id":194597,"reputation":41281,"user_id":437039,"accept_rate":89,"display_name":"sandalone"},"score":0,"creation_date":1328778952,"post_id":9197316,"comment_id":11590639,"body_markdown":"@Snicolas Why not? We use Java, but making SDK specific coding rules makes such apps distinctive. Like, when you see some image title ic_launcher_app, you immediatelly know it&#39;s an image for Android app.","body":"@Snicolas Why not? We use Java, but making SDK specific coding rules makes such apps distinctive. Like, when you see some image title ic_launcher_app, you immediatelly know it&#39;s an image for Android app."},{"owner":{"account_id":355044,"reputation":37880,"user_id":693752,"accept_rate":63,"display_name":"Snicolas"},"score":0,"creation_date":1328783169,"post_id":9197316,"comment_id":11592006,"body_markdown":"@bergnam and you touch the central point; there is absolutely no need to distinguish android code from java code. There is no special way to program for using swing or any other API and android only differs by its API. It would help building pure java core modules in android apps if there would be no specific coding rules just because you use a few android classeS.","body":"@bergnam and you touch the central point; there is absolutely no need to distinguish android code from java code. There is no special way to program for using swing or any other API and android only differs by its API. It would help building pure java core modules in android apps if there would be no specific coding rules just because you use a few android classeS."},{"owner":{"account_id":194597,"reputation":41281,"user_id":437039,"accept_rate":89,"display_name":"sandalone"},"score":0,"creation_date":1328787265,"post_id":9197316,"comment_id":11593415,"body_markdown":"@Snicolas You&#39;re right, unless Google has some plans for the future, like making AJava language :), the same way Apple made Objective C. Just a thought... But frankly, I haven&#39;t seen any huge differences in Android Code Style, except that they added a few suggestions on how to name new things which came with Android SDK. Can you name what Android Style changed from the original Java?","body":"@Snicolas You&#39;re right, unless Google has some plans for the future, like making AJava language :), the same way Apple made Objective C. Just a thought... But frankly, I haven&#39;t seen any huge differences in Android Code Style, except that they added a few suggestions on how to name new things which came with Android SDK. Can you name what Android Style changed from the original Java?"},{"owner":{"account_id":355044,"reputation":37880,"user_id":693752,"accept_rate":63,"display_name":"Snicolas"},"score":1,"creation_date":1328795554,"post_id":9197316,"comment_id":11596402,"body_markdown":"@bergmam : conding conventions (to my mind absolutely awful and useless) for naming private fields, static fields. Other ad-hoc conventions that seem ackward include onXXX for event methods, OnXXX for event listener interface names, unique listener registration method instead of the common  multiple listener registration (setOnXXXListener instead of addXXXListener/removeXXXListener). Not that much, but poorly enough, not real plus value..","body":"@bergmam : conding conventions (to my mind absolutely awful and useless) for naming private fields, static fields. Other ad-hoc conventions that seem ackward include onXXX for event methods, OnXXX for event listener interface names, unique listener registration method instead of the common  multiple listener registration (setOnXXXListener instead of addXXXListener/removeXXXListener). Not that much, but poorly enough, not real plus value.."},{"owner":{"account_id":481416,"reputation":355314,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"score":1,"creation_date":1455040466,"post_id":9197316,"comment_id":58307885,"body_markdown":"android: http://stackoverflow.com/questions/2092098/why-do-most-variables-in-android-tutorial-start-with-m","body":"android: <a href=\"http://stackoverflow.com/questions/2092098/why-do-most-variables-in-android-tutorial-start-with-m\" title=\"why do most variables in android tutorial start with m\">stackoverflow.com/questions/2092098/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":11787,"reputation":15498,"user_id":22904,"accept_rate":44,"display_name":"Giulio Piancastelli"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1328718351,"creation_date":1328718351,"answer_id":9197348,"question_id":9197316,"body_markdown":"In your second example, `mMethodFieldOne` and `mMethodFieldTwo` are not fields, just variables local to `someMethod`, so the naming convention does not apply.","title":"Which field names get prefix &#39;m&#39;?","body":"<p>In your second example, <code>mMethodFieldOne</code> and <code>mMethodFieldTwo</code> are not fields, just variables local to <code>someMethod</code>, so the naming convention does not apply.</p>\n"},{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1328718402,"creation_date":1328718402,"answer_id":9197372,"question_id":9197316,"body_markdown":"It refers to *fields* only, which are the class members (= `m`). The others are *local variables*.","title":"Which field names get prefix &#39;m&#39;?","body":"<p>It refers to <em>fields</em> only, which are the class members (= <code>m</code>). The others are <em>local variables</em>.</p>\n"},{"tags":[],"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1328718580,"creation_date":1328718580,"answer_id":9197425,"question_id":9197316,"body_markdown":"Inside method access modifier (private) are not acceptable, compile time error. &quot;&quot;Non-public, non-static field names start with m&quot; means instance variables, which is first case. Inside method it will just start with small letter. ","title":"Which field names get prefix &#39;m&#39;?","body":"<p>Inside method access modifier (private) are not acceptable, compile time error. \"\"Non-public, non-static field names start with m\" means instance variables, which is first case. Inside method it will just start with small letter. </p>\n"},{"tags":[],"owner":{"account_id":420884,"reputation":1310,"user_id":798810,"accept_rate":50,"display_name":"seufagner"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1673334030,"creation_date":1364705499,"answer_id":15726468,"question_id":9197316,"body_markdown":"This is an Android contributor guideline, not Java community.\r\n\r\n&gt; Follow Field Naming Conventions Non-public, non-static field names\r\n&gt; start with m.\r\n&gt; \r\n&gt; Static field names start with s.\r\n&gt; \r\n&gt; Other fields start with a lower case letter.\r\n&gt; \r\n&gt; Public static final fields (constants) are ALL_CAPS_WITH_UNDERSCORES.\r\n\r\n[http://source.android.com/source/code-style.html#follow-field-naming-conventions][1]\r\n\r\n\r\n  [1]: http://source.android.com/source/code-style.html#follow-field-naming-conventions\r\n\r\n\r\nAnyway, I think that this isn&#39;t necessary and don&#39;t agree with the style.","title":"Which field names get prefix &#39;m&#39;?","body":"<p>This is an Android contributor guideline, not Java community.</p>\n<blockquote>\n<p>Follow Field Naming Conventions Non-public, non-static field names\nstart with m.</p>\n<p>Static field names start with s.</p>\n<p>Other fields start with a lower case letter.</p>\n<p>Public static final fields (constants) are ALL_CAPS_WITH_UNDERSCORES.</p>\n</blockquote>\n<p><a href=\"http://source.android.com/source/code-style.html#follow-field-naming-conventions\" rel=\"nofollow noreferrer\">http://source.android.com/source/code-style.html#follow-field-naming-conventions</a></p>\n<p>Anyway, I think that this isn't necessary and don't agree with the style.</p>\n"}],"owner":{"account_id":194597,"reputation":41281,"user_id":437039,"accept_rate":89,"display_name":"sandalone"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4502,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"accepted_answer_id":9197348,"answer_count":4,"score":11,"last_activity_date":1673334030,"creation_date":1328718223,"question_id":9197316,"body_markdown":"The convention says: &quot;Non-public, non-static field names start with m. Other fields start with a lower case letter&quot;. Does it refer to class field only (like in example 1) or to all field (like in example 2)?\r\n\r\nExample 1\r\n\r\n    public class One {\r\n       private int mFieldOne;\r\n       private int mFieldTwo;\r\n    \r\n       public void someMethod(){\r\n          int methodFieldOne;\r\n          int methodFieldTwo;\r\n       }\r\n    }\r\n\r\nExample 2\r\n\r\n    public class Two {\r\n       private int mFieldOne;\r\n       private int mFieldTwo;\r\n    \r\n       public void someMethod(){\r\n          int mMethodFieldOne; //see m here\r\n          int mMethodFieldTwo; //see m here\r\n       }\r\n    } ","title":"Which field names get prefix &#39;m&#39;?","body":"<p>The convention says: \"Non-public, non-static field names start with m. Other fields start with a lower case letter\". Does it refer to class field only (like in example 1) or to all field (like in example 2)?</p>\n\n<p>Example 1</p>\n\n<pre><code>public class One {\n   private int mFieldOne;\n   private int mFieldTwo;\n\n   public void someMethod(){\n      int methodFieldOne;\n      int methodFieldTwo;\n   }\n}\n</code></pre>\n\n<p>Example 2</p>\n\n<pre><code>public class Two {\n   private int mFieldOne;\n   private int mFieldTwo;\n\n   public void someMethod(){\n      int mMethodFieldOne; //see m here\n      int mMethodFieldTwo; //see m here\n   }\n} \n</code></pre>\n"},{"tags":["java","selenium","file","selenium-webdriver","base64"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673333837,"creation_date":1673322805,"answer_id":75065305,"question_id":75063183,"body_markdown":"The cause of your problem is that Windows won&#39;t let your application open the &quot;Screenshots/image.png&quot; file for writing because something else already has it open.  It just won&#39;t.  See [File Locking](https://en.wikipedia.org/wiki/File_locking#In_Microsoft_Windows) for an overview of Windows file locks and their purpose.\r\n\r\nThis SuperUser Q&amp;A gives a number of ways to figure out which other application holds the file lock:  \r\n\r\n  - [Find out which process is locking a file or folder in Windows](https://superuser.com/questions/117902)\r\n\r\nYour use of Selenium in this instance is (probably) not apropos.\r\n\r\n-------------------\r\n\r\nYou will most likely need to do one of the following to resolve this.\r\n\r\n  - Change your application to write the screenshot to another file if the first target file it chooses is locked.\r\n  - Tell the user that your application can&#39;t write the file.  The user message could suggest that they need to close whatever other application it is that has the image file open at the moment.\r\n  - If the other application is Windows itself (for some reason) you will probably need to rethink what you trying to do.","title":"How to resolve java.nio.file.FileSystemException The process cannot access the file because it is being used by another process","body":"<p>The cause of your problem is that Windows won't let your application open the &quot;Screenshots/image.png&quot; file for writing because something else already has it open.  It just won't.  See <a href=\"https://en.wikipedia.org/wiki/File_locking#In_Microsoft_Windows\" rel=\"nofollow noreferrer\">File Locking</a> for an overview of Windows file locks and their purpose.</p>\n<p>This SuperUser Q&amp;A gives a number of ways to figure out which other application holds the file lock:</p>\n<ul>\n<li><a href=\"https://superuser.com/questions/117902\">Find out which process is locking a file or folder in Windows</a></li>\n</ul>\n<p>Your use of Selenium in this instance is (probably) not apropos.</p>\n<hr />\n<p>You will most likely need to do one of the following to resolve this.</p>\n<ul>\n<li>Change your application to write the screenshot to another file if the first target file it chooses is locked.</li>\n<li>Tell the user that your application can't write the file.  The user message could suggest that they need to close whatever other application it is that has the image file open at the moment.</li>\n<li>If the other application is Windows itself (for some reason) you will probably need to rethink what you trying to do.</li>\n</ul>\n"}],"owner":{"account_id":27005268,"reputation":1,"user_id":20565860,"display_name":"derren dhanraj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673333837,"creation_date":1673300223,"question_id":75063183,"body_markdown":"I am getting the exception (java.nio.file.FileSystemException) while I run the this code \r\n\r\npublic String getScreenShotAsBase64() throws IOException {\r\n\t\t\r\n\tFile source = ((TakesScreenshot)driver).getScreenshotAs(OutputType.FILE);\r\n\tString path = System.getProperty(&quot;user.dir&quot;) + &quot;/Screenshots/image.png&quot;;\r\n\tFileUtils.copyFile(source, new File(path));\r\n\tbyte[] imageBytes = IOUtils.toByteArray(new FileInputStream(path));\r\n\treturn Base64.getEncoder().encodeToString(imageBytes);\r\n}\r\n\r\nwhen I try to run the method it is not working throws exception.","title":"How to resolve java.nio.file.FileSystemException The process cannot access the file because it is being used by another process","body":"<p>I am getting the exception (java.nio.file.FileSystemException) while I run the this code</p>\n<p>public String getScreenShotAsBase64() throws IOException {</p>\n<pre><code>File source = ((TakesScreenshot)driver).getScreenshotAs(OutputType.FILE);\nString path = System.getProperty(&quot;user.dir&quot;) + &quot;/Screenshots/image.png&quot;;\nFileUtils.copyFile(source, new File(path));\nbyte[] imageBytes = IOUtils.toByteArray(new FileInputStream(path));\nreturn Base64.getEncoder().encodeToString(imageBytes);\n</code></pre>\n<p>}</p>\n<p>when I try to run the method it is not working throws exception.</p>\n"},{"tags":["java","gradle","protocol-buffers","protobuf-java"],"owner":{"account_id":27485208,"reputation":11,"user_id":20971581,"display_name":"software-surgeon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673333734,"creation_date":1673333734,"question_id":75066441,"body_markdown":"I am working on a service serialization enhancement to introduce Google Protobuf. One additional design flexibility, I am attempting to accomplish is to enhance the ease of extensibility of the serialization mechanisms. The idea I got is to define an interface that contains a subset of the *Builder.java Protobuf generated java code, then append the generated *Builder.java class to implement that newly defined interface. My questions are:\r\n\r\n1. How I can append that interface syntax to the generated class?\r\n2. Does Protobuf have a native way to support such a scenario?\r\n3. If Google Protobuf doesn&#39;t support that approach natively, is there a different, better approach to do it? (other than encapsulating the *Builder.java class in a wrapper object?)\r\n4. In light of Protobuf&#39;s best practices, does anyone thinks doing a code-gen that generates and appends the needed code to the *Builder.java at the coding build stage is feasible?\r\n\r\nI have looked in blog posts and it seems the way that people are implementing it is using gradle to append the interface implementation syntax `implements user_defined_interface`into the protobuf generated Java code *Builder.java class","title":"How to force a Google Protobuf generated java code to implement a user-defined interface","body":"<p>I am working on a service serialization enhancement to introduce Google Protobuf. One additional design flexibility, I am attempting to accomplish is to enhance the ease of extensibility of the serialization mechanisms. The idea I got is to define an interface that contains a subset of the *Builder.java Protobuf generated java code, then append the generated *Builder.java class to implement that newly defined interface. My questions are:</p>\n<ol>\n<li>How I can append that interface syntax to the generated class?</li>\n<li>Does Protobuf have a native way to support such a scenario?</li>\n<li>If Google Protobuf doesn't support that approach natively, is there a different, better approach to do it? (other than encapsulating the *Builder.java class in a wrapper object?)</li>\n<li>In light of Protobuf's best practices, does anyone thinks doing a code-gen that generates and appends the needed code to the *Builder.java at the coding build stage is feasible?</li>\n</ol>\n<p>I have looked in blog posts and it seems the way that people are implementing it is using gradle to append the interface implementation syntax <code>implements user_defined_interface</code>into the protobuf generated Java code *Builder.java class</p>\n"},{"tags":["java","json","spring-boot","jackson-databind","objectmapper"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1673330455,"post_id":75066012,"comment_id":132468587,"body_markdown":"I would say use the JsonIgnoreProperties annotation and ignoreUnknown=true, then readValue() into a HashMap of &lt;String, TokenAccessResponseDTO&gt;","body":"I would say use the JsonIgnoreProperties annotation and ignoreUnknown=true, then readValue() into a HashMap of &lt;String, TokenAccessResponseDTO&gt;"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":2,"creation_date":1673330755,"post_id":75066012,"comment_id":132468637,"body_markdown":"Though if you rather have a method to unpack the nested object directly without reading into hashmap, you could do so. Reference material [here](https://www.baeldung.com/jackson-nested-values)","body":"Though if you rather have a method to unpack the nested object directly without reading into hashmap, you could do so. Reference material <a href=\"https://www.baeldung.com/jackson-nested-values\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":38330,"reputation":15203,"user_id":109941,"accept_rate":91,"display_name":"Jim G."},"score":1,"creation_date":1673366322,"post_id":75066012,"comment_id":132480003,"body_markdown":"Does this answer your question? [How can I deserialize it using Java?](https://stackoverflow.com/questions/69917981/how-can-i-deserialize-it-using-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/69917981/how-can-i-deserialize-it-using-java\">How can I deserialize it using Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":15887085,"reputation":137,"user_id":11463156,"display_name":"Bhavesh Shah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673333668,"creation_date":1673333668,"answer_id":75066435,"question_id":75066012,"body_markdown":"I solved this issue by mapping JSON Object to JsonNode and then adding the below syntax to fetch token \r\n\r\n```jsonNode.findValue(&quot;token&quot;).asText()```","title":"How to map JSON object with java Pojo class ignoring parent class spring boot?","body":"<p>I solved this issue by mapping JSON Object to JsonNode and then adding the below syntax to fetch token</p>\n<p><code>jsonNode.findValue(&quot;token&quot;).asText()</code></p>\n"}],"owner":{"account_id":15887085,"reputation":137,"user_id":11463156,"display_name":"Bhavesh Shah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1673333668,"creation_date":1673330304,"question_id":75066012,"body_markdown":"I want to map below Json object with Java Pojo class ignoring parent class AuthToken.\r\n```\r\n{\r\n  &quot;AuthToken&quot; : \r\n  {\r\n    &quot;id&quot; : &quot;1&quot;,\r\n    &quot;token&quot; : &quot;abcde1234xyz&quot;,\r\n    &quot;extendSession&quot; : null\r\n  } \r\n}\r\n```\r\n\r\nPojo Class \r\n\r\n```\r\npublic class TokenAccessResponseDTO {\r\n\r\n\tprivate String token;\r\n\r\n\tpublic String getToken() {\r\n\t\treturn token;\r\n\t}\r\n\r\n\tpublic void setToken(String token) {\r\n\t\tthis.token = token;\r\n\t}\r\n\r\n}\r\n```","title":"How to map JSON object with java Pojo class ignoring parent class spring boot?","body":"<p>I want to map below Json object with Java Pojo class ignoring parent class AuthToken.</p>\n<pre><code>{\n  &quot;AuthToken&quot; : \n  {\n    &quot;id&quot; : &quot;1&quot;,\n    &quot;token&quot; : &quot;abcde1234xyz&quot;,\n    &quot;extendSession&quot; : null\n  } \n}\n</code></pre>\n<p>Pojo Class</p>\n<pre><code>public class TokenAccessResponseDTO {\n\n    private String token;\n\n    public String getToken() {\n        return token;\n    }\n\n    public void setToken(String token) {\n        this.token = token;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","naming-conventions"],"comments":[{"owner":{"account_id":137712,"reputation":7725,"user_id":342095,"accept_rate":73,"display_name":"SMUsamaShah"},"score":0,"creation_date":1440391759,"post_id":4237469,"comment_id":52235337,"body_markdown":"http://stackoverflow.com/a/7072899/342095","body":"<a href=\"http://stackoverflow.com/a/7072899/342095\">stackoverflow.com/a/7072899/342095</a>"},{"owner":{"account_id":8825308,"reputation":341,"user_id":6593749,"display_name":"mavesonzini"},"score":4,"creation_date":1511173947,"post_id":4237469,"comment_id":81732735,"body_markdown":"Hi! This is no longer used, it&#39;s bad variable naming! It&#39;s called Hungarian Notation. This tarted life in the platform inside of AOSP so it adhered to the AOSP style. Android Studio and IntelliJ IDEA visually distinguish field names based on membership (instance or static). IDEs will enforce correct membership, visibility, and types by default so a naming convention isn’t going to add anything here.  Cheers!","body":"Hi! This is no longer used, it&#39;s bad variable naming! It&#39;s called Hungarian Notation. This tarted life in the platform inside of AOSP so it adhered to the AOSP style. Android Studio and IntelliJ IDEA visually distinguish field names based on membership (instance or static). IDEs will enforce correct membership, visibility, and types by default so a naming convention isn’t going to add anything here.  Cheers!"}],"answers":[{"tags":[],"owner":{"account_id":217320,"reputation":42820,"user_id":473070,"accept_rate":82,"display_name":"Vladimir Ivanov"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1673333597,"creation_date":1290336975,"answer_id":4237475,"question_id":4237469,"body_markdown":"&#39;m&#39; means member of the class. So, if you don&#39;t use IDE to highlight your members, then you will understand that it is a member by its name.","title":"Why do variable names often start with the letter &#39;m&#39;?","body":"<p>'m' means member of the class. So, if you don't use IDE to highlight your members, then you will understand that it is a member by its name.</p>\n"},{"tags":[],"owner":{"account_id":20130,"reputation":279845,"user_id":47773,"accept_rate":52,"display_name":"Matthew Flaschen"},"down_vote_count":1,"up_vote_count":336,"is_accepted":true,"score":335,"last_activity_date":1356738550,"creation_date":1290336979,"answer_id":4237476,"question_id":4237469,"body_markdown":"It stands for member.  I personally find this convention unhelpful, but it&#39;s subjective.","title":"Why do variable names often start with the letter &#39;m&#39;?","body":"<p>It stands for member.  I personally find this convention unhelpful, but it's subjective.</p>\n"},{"tags":[],"owner":{"account_id":178289,"reputation":675,"user_id":410160,"display_name":"swcai"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1290336982,"creation_date":1290336982,"answer_id":4237477,"question_id":4237469,"body_markdown":"&#39;m&#39; means the variable is a member variable of the class...","title":"Why do variable names often start with the letter &#39;m&#39;?","body":"<p>'m' means the variable is a member variable of the class...</p>\n"},{"tags":[],"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1290337486,"creation_date":1290337486,"answer_id":4237511,"question_id":4237469,"body_markdown":"As already answered this prefix indcates that a variable is member. \r\n\r\nSomtimes people use other prefixes if you discover some variables starting with &#39;i&#39; or &#39;s&#39; it could also be a variant of the [Hungarian Notation](http://en.wikipedia.org/wiki/Hungarian_notation)","title":"Why do variable names often start with the letter &#39;m&#39;?","body":"<p>As already answered this prefix indcates that a variable is member. </p>\n\n<p>Somtimes people use other prefixes if you discover some variables starting with 'i' or 's' it could also be a variant of the <a href=\"http://en.wikipedia.org/wiki/Hungarian_notation\" rel=\"noreferrer\">Hungarian Notation</a></p>\n"},{"tags":[],"owner":{"account_id":107628,"reputation":3549,"user_id":286094,"accept_rate":90,"display_name":"chunkyguy"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1297550073,"creation_date":1297550073,"answer_id":4981062,"question_id":4237469,"body_markdown":"not only in java, I&#39;ve seen similar convention in cocos2d+box2d samples where some of the variables start with m_, but others don&#39;t, very confusing.\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\nb2World* world;\r\nGLESDebugDraw *m_debugDraw;\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nI guess to differentiate C++ box2d variables from Obj-C variables.","title":"Why do variable names often start with the letter &#39;m&#39;?","body":"<p>not only in java, I've seen similar convention in cocos2d+box2d samples where some of the variables start with m_, but others don't, very confusing.</p>\n\n<pre><code>\nb2World* world;\nGLESDebugDraw *m_debugDraw;\n</code></pre>\n\n<p>I guess to differentiate C++ box2d variables from Obj-C variables.</p>\n"},{"tags":[],"owner":{"account_id":389037,"reputation":1463,"user_id":748281,"display_name":"Warren Chu"},"down_vote_count":0,"up_vote_count":122,"is_accepted":false,"score":122,"last_activity_date":1492444332,"creation_date":1308044199,"answer_id":6341653,"question_id":4237469,"body_markdown":"See [Code Style Guidelines for Contributors: Follow Field Naming Conventions][1]. The use of the &quot;m&quot; prefix is more specific that simply denoting a &quot;member&quot; variable: It&#39;s for &quot;non-public, non-static field names.&quot;\r\n\r\n\r\n  [1]: http://source.android.com/source/code-style.html#follow-field-naming-conventions &quot;Code Style Guidelines for Contributors: Follow Field Naming Conventions&quot;","title":"Why do variable names often start with the letter &#39;m&#39;?","body":"<p>See <a href=\"http://source.android.com/source/code-style.html#follow-field-naming-conventions\" rel=\"noreferrer\" title=\"Code Style Guidelines for Contributors: Follow Field Naming Conventions\">Code Style Guidelines for Contributors: Follow Field Naming Conventions</a>. The use of the \"m\" prefix is more specific that simply denoting a \"member\" variable: It's for \"non-public, non-static field names.\"</p>\n"},{"tags":[],"owner":{"account_id":3349789,"reputation":1181,"user_id":2814058,"accept_rate":100,"display_name":"Klaus"},"down_vote_count":2,"up_vote_count":49,"is_accepted":false,"score":47,"last_activity_date":1437051273,"creation_date":1437051273,"answer_id":31454775,"question_id":4237469,"body_markdown":"The m is here to indicate a **m**ember variable.\r\n\r\nIt has 2 huge advantages:\r\n\r\n - If you see it, you instantly recognize it as a member variable.\r\n - Press m and you get all members via the auto completer. (This one is not in the other answers)","title":"Why do variable names often start with the letter &#39;m&#39;?","body":"<p>The m is here to indicate a <strong>m</strong>ember variable.</p>\n\n<p>It has 2 huge advantages:</p>\n\n<ul>\n<li>If you see it, you instantly recognize it as a member variable.</li>\n<li>Press m and you get all members via the auto completer. (This one is not in the other answers)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5174636,"reputation":1370,"user_id":4142196,"accept_rate":50,"display_name":"Danilo Dughetti"},"down_vote_count":0,"up_vote_count":106,"is_accepted":false,"score":106,"last_activity_date":1505111312,"creation_date":1442325086,"answer_id":32587898,"question_id":4237469,"body_markdown":"[According to Android source code documentation][1]:\r\n\r\n - Non-public, non-static field names start with m.\r\n - Static field names start with s.\r\n - Other fields start with a lower case letter.\r\n - Public static final fields (constants)  are ALL_CAPS_WITH_UNDERSCORES.\r\n\r\nNote that this is for writing Android source code.  For creating Android apps, the [Google Java Style Guide][2] may be more helpful.\r\n\r\n  [1]: http://source.android.com/source/code-style.html#follow-field-naming-conventions\r\n  [2]: https://google.github.io/styleguide/javaguide.html","title":"Why do variable names often start with the letter &#39;m&#39;?","body":"<p><a href=\"http://source.android.com/source/code-style.html#follow-field-naming-conventions\" rel=\"noreferrer\">According to Android source code documentation</a>:</p>\n\n<ul>\n<li>Non-public, non-static field names start with m.</li>\n<li>Static field names start with s.</li>\n<li>Other fields start with a lower case letter.</li>\n<li>Public static final fields (constants)  are ALL_CAPS_WITH_UNDERSCORES.</li>\n</ul>\n\n<p>Note that this is for writing Android source code.  For creating Android apps, the <a href=\"https://google.github.io/styleguide/javaguide.html\" rel=\"noreferrer\">Google Java Style Guide</a> may be more helpful.</p>\n"}],"owner":{"account_id":243079,"reputation":5382,"user_id":515029,"accept_rate":78,"display_name":"Kallja"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98167,"favorite_count":0,"down_vote_count":0,"up_vote_count":275,"closed_date":1455102860,"accepted_answer_id":4237476,"answer_count":8,"score":275,"last_activity_date":1673333597,"creation_date":1290336859,"question_id":4237469,"body_markdown":"Looking at the Android tutorials such as [the Notepad tutorial](http://developer.android.com/resources/tutorials/notepad/notepad-ex1.html), I noticed that almost all variables are named starting with the letter &#39;m&#39;. What convention is this, and where does it originate from?\r\n","title":"Why do variable names often start with the letter &#39;m&#39;?","body":"<p>Looking at the Android tutorials such as <a href=\"http://developer.android.com/resources/tutorials/notepad/notepad-ex1.html\">the Notepad tutorial</a>, I noticed that almost all variables are named starting with the letter 'm'. What convention is this, and where does it originate from?</p>\n"},{"tags":["java","selenium","iframe","frame"],"comments":[{"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"score":0,"creation_date":1673011951,"post_id":75030023,"comment_id":132407363,"body_markdown":"I guess, issue is not with switching frames its with `getElements()`. Have you tried wait statements here?","body":"I guess, issue is not with switching frames its with <code>getElements()</code>. Have you tried wait statements here?"},{"owner":{"account_id":27450373,"reputation":1,"user_id":20942713,"display_name":"mori400"},"score":0,"creation_date":1673048947,"post_id":75030023,"comment_id":132417947,"body_markdown":"Yes, as mentioned, I have tried but no luck.  When the entire page was fetched via get(), I do see the embedded iframe source content as well via print.  I’m just trying to frame switch to it but it seems to end up loading empty without any errors/exceptions…","body":"Yes, as mentioned, I have tried but no luck.  When the entire page was fetched via get(), I do see the embedded iframe source content as well via print.  I’m just trying to frame switch to it but it seems to end up loading empty without any errors/exceptions…"},{"owner":{"account_id":27450373,"reputation":1,"user_id":20942713,"display_name":"mori400"},"score":0,"creation_date":1673333325,"post_id":75030023,"comment_id":132469133,"body_markdown":"After a further look, seems it&#39;s something to do with &quot;srcdoc&quot; attribute.  The iframe I&#39;m trying to parse is defined by &quot;srcdoc&quot; embedded, not by &quot;src&quot;.   Does &quot;HtmlUnitDriver&quot; work ok to load up(i.e. switch) this type of iframe?  Or, is there any limitation or known bugs?","body":"After a further look, seems it&#39;s something to do with &quot;srcdoc&quot; attribute.  The iframe I&#39;m trying to parse is defined by &quot;srcdoc&quot; embedded, not by &quot;src&quot;.   Does &quot;HtmlUnitDriver&quot; work ok to load up(i.e. switch) this type of iframe?  Or, is there any limitation or known bugs?"},{"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"score":0,"creation_date":1673422121,"post_id":75030023,"comment_id":132492522,"body_markdown":"Please share the HTML code or web page url","body":"Please share the HTML code or web page url"}],"owner":{"account_id":27450373,"reputation":1,"user_id":20942713,"display_name":"mori400"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673333468,"creation_date":1673002469,"question_id":75030023,"body_markdown":"I have a java program to scrape a web page, using selenium-server-standalone-3.9.1 jar.\r\n\r\nI create org.openga.selenium.htmlunit.HtmlUnitDriver to fetch the page which contains 2 iframes inside. JavascriptEnabled is true.\r\n\r\nI can access the page and parse ok without issues, but for some reason, switching to those frames, doesn&#39;t seem to work.  Here is a snippet of the code.\r\n\r\n\r\n```\r\ndriver.switchTo().defaultContent();\r\n\r\n//The below line works fine without issues, so I&#39;m assuming switching is succeeding.\r\n//FYI if I give a bogus bad frame name here, it does raise an exception, which indicates that //the driver is recognizing the frame ok \r\n\r\ndriver.switchTo().frame(driver.findElement(By.id(&quot;xyz&quot;))); //no exceptions raised\r\n\r\n//Here, driver.getPageSource() here shows no content, just have an empty as follows\r\n//&lt;html&gt;\r\n// &lt;head/&gt;\r\n// &lt;body/&gt;\r\n//&lt;/html&gt;\r\n// So, I can&#39;t get any actually existing elements inside the iframe at all here..\r\n// i.e. getElements() etc would return nothing..\r\n\r\ndriver.switchTo().defaultContent();\r\ndriver.getPageSource(); //shows the full page ok again..\r\n\r\n```\r\n\r\nI don&#39;t believe it&#39;s page loading issue as the full source dump from the driver does show the contents of those embedded iframes source ok. So, I don&#39;t think &quot;wait&quot; would help here.\r\nWhat am I missing here?\r\n\r\n\r\nTried to use WebDriverWait to wait for frames to be available etc, no luck.","title":"Issue with HtmlUnitDriver&#39;s frame switch in Java / Issue with switching to a &#39;srcdoc&#39; based iframe","body":"<p>I have a java program to scrape a web page, using selenium-server-standalone-3.9.1 jar.</p>\n<p>I create org.openga.selenium.htmlunit.HtmlUnitDriver to fetch the page which contains 2 iframes inside. JavascriptEnabled is true.</p>\n<p>I can access the page and parse ok without issues, but for some reason, switching to those frames, doesn't seem to work.  Here is a snippet of the code.</p>\n<pre><code>driver.switchTo().defaultContent();\n\n//The below line works fine without issues, so I'm assuming switching is succeeding.\n//FYI if I give a bogus bad frame name here, it does raise an exception, which indicates that //the driver is recognizing the frame ok \n\ndriver.switchTo().frame(driver.findElement(By.id(&quot;xyz&quot;))); //no exceptions raised\n\n//Here, driver.getPageSource() here shows no content, just have an empty as follows\n//&lt;html&gt;\n// &lt;head/&gt;\n// &lt;body/&gt;\n//&lt;/html&gt;\n// So, I can't get any actually existing elements inside the iframe at all here..\n// i.e. getElements() etc would return nothing..\n\ndriver.switchTo().defaultContent();\ndriver.getPageSource(); //shows the full page ok again..\n\n</code></pre>\n<p>I don't believe it's page loading issue as the full source dump from the driver does show the contents of those embedded iframes source ok. So, I don't think &quot;wait&quot; would help here.\nWhat am I missing here?</p>\n<p>Tried to use WebDriverWait to wait for frames to be available etc, no luck.</p>\n"},{"tags":["java","jpa","spring-data-jpa","locking","optimistic-locking"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1673282471,"post_id":75060130,"comment_id":132458818,"body_markdown":"Are your update calls done in separate transactions or the same one? Save is likely a no-op - nothing happens until the transaction is synchronized and the context flushes statements to the database, so your try/catch around the save call isn&#39;t likely to ever get an OptimisticLockException unless you force a flush on the context somehow, or ensure the save is in its own transaction.","body":"Are your update calls done in separate transactions or the same one? Save is likely a no-op - nothing happens until the transaction is synchronized and the context flushes statements to the database, so your try/catch around the save call isn&#39;t likely to ever get an OptimisticLockException unless you force a flush on the context somehow, or ensure the save is in its own transaction."},{"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"score":0,"creation_date":1673290643,"post_id":75060130,"comment_id":132461445,"body_markdown":"two differents transactions?","body":"two differents transactions?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1673300508,"post_id":75060130,"comment_id":132464116,"body_markdown":"There is no optimistic lock exception because there is nothing changed between the save calls.","body":"There is no optimistic lock exception because there is nothing changed between the save calls."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1673333651,"post_id":75060130,"comment_id":132469204,"body_markdown":"if you catch it in the catch block, the test won&#39;t pick it up.","body":"if you catch it in the catch block, the test won&#39;t pick it up."},{"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"score":0,"creation_date":1673335182,"post_id":75060130,"comment_id":132469563,"body_markdown":"@dan1st even i don&#39;t catch the exception, it isn&#39;t throw.","body":"@dan1st even i don&#39;t catch the exception, it isn&#39;t throw."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1673335403,"post_id":75060130,"comment_id":132469610,"body_markdown":"You do have a `try`-`catch`-block in `update()` - even if it threw the exception. `assertThrows()` would fail.","body":"You do have a <code>try</code>-<code>catch</code>-block in <code>update()</code> - even if it threw the exception. <code>assertThrows()</code> would fail."},{"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"score":0,"creation_date":1673337023,"post_id":75060130,"comment_id":132470053,"body_markdown":"i removed the `try`-`catch` but the `exception` is not threw","body":"i removed the <code>try</code>-<code>catch</code> but the <code>exception</code> is not threw"}],"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673333398,"creation_date":1673281229,"question_id":75060130,"body_markdown":"I want to test the behavior of an OptimisticLockException.\r\n\r\nMy entity:\r\n```\r\n@Entity(name = &quot;&quot;)\r\n@Table(name = &quot;&quot;)\r\n@Setter\r\n@Getter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class EntityA\r\n{\r\n\r\n   @Id\r\n   private String id;\r\n   @Version\r\n   private Timestamp lastChange;\r\n```\r\n\r\nMy update Method:\r\n```\r\npublic void update(EntityA entityA, String attribute)\r\ntry {\r\n            entityA.setSomeAttribute(attribute);\r\n            jpaRepository.save(entityA);\r\n            return;\r\n         } catch (OptimisticLockException e) {\r\n            log.debug(e.getMessage());\r\n         }\r\n```\r\n\r\nMy Unittest:\r\n```\r\nEntityA entity_1 = createEntity(&quot;789&quot;, 2);\r\nEntityA entity_2 = createEntity(&quot;987&quot;, 2);\r\nservice.update(entity_1);\r\nassertThrows(OptimisticLockException.class, () -&gt; service.update(entity_2)); // this one should throw an OptimisticLockException \r\nverify(jpaRepository).save(entity_1);\r\n```\r\n\r\nThe second call of `update` doesn&#39;t throw an `OptimisticLockException`","title":"OptimisticLockException test behaviour with unit test","body":"<p>I want to test the behavior of an OptimisticLockException.</p>\n<p>My entity:</p>\n<pre><code>@Entity(name = &quot;&quot;)\n@Table(name = &quot;&quot;)\n@Setter\n@Getter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class EntityA\n{\n\n   @Id\n   private String id;\n   @Version\n   private Timestamp lastChange;\n</code></pre>\n<p>My update Method:</p>\n<pre><code>public void update(EntityA entityA, String attribute)\ntry {\n            entityA.setSomeAttribute(attribute);\n            jpaRepository.save(entityA);\n            return;\n         } catch (OptimisticLockException e) {\n            log.debug(e.getMessage());\n         }\n</code></pre>\n<p>My Unittest:</p>\n<pre><code>EntityA entity_1 = createEntity(&quot;789&quot;, 2);\nEntityA entity_2 = createEntity(&quot;987&quot;, 2);\nservice.update(entity_1);\nassertThrows(OptimisticLockException.class, () -&gt; service.update(entity_2)); // this one should throw an OptimisticLockException \nverify(jpaRepository).save(entity_1);\n</code></pre>\n<p>The second call of <code>update</code> doesn't throw an <code>OptimisticLockException</code></p>\n"},{"tags":["java","spring","spring-boot","design-patterns","microservices"],"comments":[{"owner":{"account_id":1979094,"reputation":3912,"user_id":1776132,"display_name":"Smile"},"score":0,"creation_date":1673331855,"post_id":75066147,"comment_id":132468826,"body_markdown":"This question is not suitable for stackoverflow. There are no hard rules which say your design is correct or not. It all depends on your use case. Instead of picking design patterns first, initial step would be a high level design for your use case. Though, in the end you will find you are using multiple design patterns.","body":"This question is not suitable for stackoverflow. There are no hard rules which say your design is correct or not. It all depends on your use case. Instead of picking design patterns first, initial step would be a high level design for your use case. Though, in the end you will find you are using multiple design patterns."},{"owner":{"account_id":11129218,"reputation":654,"user_id":8169680,"display_name":"Surya"},"score":0,"creation_date":1673332962,"post_id":75066147,"comment_id":132469042,"body_markdown":"Ok, thanks for the comment. Where should I post it then?","body":"Ok, thanks for the comment. Where should I post it then?"}],"answers":[{"tags":[],"owner":{"account_id":25387686,"reputation":83,"user_id":19199234,"display_name":"Rayyan Karimi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673332972,"creation_date":1673332972,"answer_id":75066347,"question_id":75066147,"body_markdown":"**You don&#39;t need to use the same design pattern all over your software.**\r\n\r\nSo actually, every functionality may, according to its own needs, comprise of a recognised design pattern which is most likely to be efficient while solving that kind of problem; if at all there are multiple solutions to it!\r\n\r\nSo, its very likely that the pattern we may use in our various functionalities of our project may **depend on what that feature is doing.** The reason being that, every architecture by definition, is targeted towards solving a different set of **business requirements!** And therefore, every architecture will eventually use **its own set of patterns.. .**\r\n\r\nYou can safely assume that any reasonable system will use multiple patterns. However, without understanding thoroughly what your requirements will be for that specific, you cant jump on to like, &quot;I will use this specific pattern only&quot;.\r\n\r\nI strongly recommend the book &quot;Head first design patterns&quot; which is a superb introduction to design patterns, which will help you to understand the &quot;why&quot; part of design patterns, and not just the &quot;what&quot;.\r\n\r\nOne precaution you may take is to avoid random articles from places like CodeProject and stick to the book &quot;Head first design patterns&quot;, because to truly understand the concept, the book will be good for developing your skill in the field.","title":"Which design patterns we need to use in Microservice Architecture when we use API Gateway","body":"<p><strong>You don't need to use the same design pattern all over your software.</strong></p>\n<p>So actually, every functionality may, according to its own needs, comprise of a recognised design pattern which is most likely to be efficient while solving that kind of problem; if at all there are multiple solutions to it!</p>\n<p>So, its very likely that the pattern we may use in our various functionalities of our project may <strong>depend on what that feature is doing.</strong> The reason being that, every architecture by definition, is targeted towards solving a different set of <strong>business requirements!</strong> And therefore, every architecture will eventually use <strong>its own set of patterns.. .</strong></p>\n<p>You can safely assume that any reasonable system will use multiple patterns. However, without understanding thoroughly what your requirements will be for that specific, you cant jump on to like, &quot;I will use this specific pattern only&quot;.</p>\n<p>I strongly recommend the book &quot;Head first design patterns&quot; which is a superb introduction to design patterns, which will help you to understand the &quot;why&quot; part of design patterns, and not just the &quot;what&quot;.</p>\n<p>One precaution you may take is to avoid random articles from places like CodeProject and stick to the book &quot;Head first design patterns&quot;, because to truly understand the concept, the book will be good for developing your skill in the field.</p>\n"}],"owner":{"account_id":11129218,"reputation":654,"user_id":8169680,"display_name":"Surya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":242,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1673334774,"answer_count":1,"score":0,"last_activity_date":1673332972,"creation_date":1673331359,"question_id":75066147,"body_markdown":"I have checked various documents and could see there are couple of design patterns in Microservices.\r\n\r\n    Aggregator Design Pattern\r\n    API Gateway Design Pattern\r\n    Chained or Chain of Responsibility Design Pattern\r\n    Asynchronous Messaging Design Pattern\r\n    Database or Shared Data Design Pattern\r\n    Event Sourcing Design Pattern\r\n    Circuit Breaker Design Pattern\r\n    Decomposition Design Pattern\r\n    etc.\r\n\r\nI am going to use `API Gateway` in Microservices. As I am using `API Gateway`, I am using `API Gateway Design Pattern` obviously. I am also having `Database per Service`, so I am using `Database per Service Design Pattern` as well. I am also using `Asynchronous Messaging` for inter service communications. So in that case I am using `Asynchronous Messaging Design Pattern` as well.\r\n\r\nSo basically, I am combining multiple Design Patterns like `API Gateway Design Pattern`, `Database per Service Design Pattern` &amp; `Asynchronous Messaging Design Pattern`. So is it correct to combine multiple design patterns together when designing Microservices or we should stick to only one Design Pattern?\r\n\r\n**Note**: I will be writing Microservices in Java &amp; Spring Boot.","title":"Which design patterns we need to use in Microservice Architecture when we use API Gateway","body":"<p>I have checked various documents and could see there are couple of design patterns in Microservices.</p>\n<pre><code>Aggregator Design Pattern\nAPI Gateway Design Pattern\nChained or Chain of Responsibility Design Pattern\nAsynchronous Messaging Design Pattern\nDatabase or Shared Data Design Pattern\nEvent Sourcing Design Pattern\nCircuit Breaker Design Pattern\nDecomposition Design Pattern\netc.\n</code></pre>\n<p>I am going to use <code>API Gateway</code> in Microservices. As I am using <code>API Gateway</code>, I am using <code>API Gateway Design Pattern</code> obviously. I am also having <code>Database per Service</code>, so I am using <code>Database per Service Design Pattern</code> as well. I am also using <code>Asynchronous Messaging</code> for inter service communications. So in that case I am using <code>Asynchronous Messaging Design Pattern</code> as well.</p>\n<p>So basically, I am combining multiple Design Patterns like <code>API Gateway Design Pattern</code>, <code>Database per Service Design Pattern</code> &amp; <code>Asynchronous Messaging Design Pattern</code>. So is it correct to combine multiple design patterns together when designing Microservices or we should stick to only one Design Pattern?</p>\n<p><strong>Note</strong>: I will be writing Microservices in Java &amp; Spring Boot.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":3925658,"reputation":5569,"user_id":3246362,"display_name":"Sam"},"score":0,"creation_date":1634840027,"post_id":69666581,"comment_id":123141595,"body_markdown":"Have a look at https://stackoverflow.com/help/how-to-ask","body":"Have a look at <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1673337180,"post_id":69666581,"comment_id":132470089,"body_markdown":"Take a look at [this](https://stackoverflow.com/a/75039665/16034206). Very similar question","body":"Take a look at <a href=\"https://stackoverflow.com/a/75039665/16034206\">this</a>. Very similar question"}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634845032,"creation_date":1634843680,"answer_id":69667605,"question_id":69666581,"body_markdown":"A 2D array of chars may be used to represent the graph field to &quot;draw&quot; vertical bars `char[][] map`.\r\n\r\nThe dimensions of this array are:\r\n* height: the maximal number in the input `arr`\r\n* width: the number of columns (`arr.length`) plus an empty column between each asterisk bar, that makes: `2 * arr.length - 1`\r\n\r\n_it may be better to have a parameter `space` between the bars and calculate the width of map accordingly:_ `(space + 1) * arr.length - space`\r\n\r\nPopulate each row of the map with default whitespaces (maybe using `Arrays.fill`).\r\n\r\nNested loops: Fill asterisks in the relevant columns from bottom to top, calculate indexes of the columns with regard to `space` parameter.\r\n\r\nLoop: Print each row of `map` converting the `char[]` into String.\r\n\r\nCoding is left for exercise.","title":"i want to create a bar chart of array with given user inputs","body":"<p>A 2D array of chars may be used to represent the graph field to &quot;draw&quot; vertical bars <code>char[][] map</code>.</p>\n<p>The dimensions of this array are:</p>\n<ul>\n<li>height: the maximal number in the input <code>arr</code></li>\n<li>width: the number of columns (<code>arr.length</code>) plus an empty column between each asterisk bar, that makes: <code>2 * arr.length - 1</code></li>\n</ul>\n<p><em>it may be better to have a parameter <code>space</code> between the bars and calculate the width of map accordingly:</em> <code>(space + 1) * arr.length - space</code></p>\n<p>Populate each row of the map with default whitespaces (maybe using <code>Arrays.fill</code>).</p>\n<p>Nested loops: Fill asterisks in the relevant columns from bottom to top, calculate indexes of the columns with regard to <code>space</code> parameter.</p>\n<p>Loop: Print each row of <code>map</code> converting the <code>char[]</code> into String.</p>\n<p>Coding is left for exercise.</p>\n"},{"tags":[],"owner":{"account_id":27484824,"reputation":1,"user_id":20971249,"display_name":"Hitesh Agrawal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673332742,"creation_date":1673329706,"answer_id":75065950,"question_id":69666581,"body_markdown":"    //finding largest element in an array\r\n    int l = arr[0];\r\n    for(int i = 1; i &lt; n; i++) {\r\n        if(arr[i] &gt; l)\r\n        \tl = arr[i];\r\n    }\r\n    //traversing using largest element as no. of rows\r\n    for(int i = l; i &gt; 0; i--) {\r\n        for(int j = 0; j &lt; n; j++) {\r\n        \tif(i &lt;= arr[j])\r\n        \t\tSystem.out.print(&quot;*       &quot;);\r\n        \telse\r\n        \t\tSystem.out.print(&quot;        &quot;);\r\n       \t}\r\n       \tSystem.out.println();\r\n    }\r\n","title":"i want to create a bar chart of array with given user inputs","body":"<pre><code>//finding largest element in an array\nint l = arr[0];\nfor(int i = 1; i &lt; n; i++) {\n    if(arr[i] &gt; l)\n        l = arr[i];\n}\n//traversing using largest element as no. of rows\nfor(int i = l; i &gt; 0; i--) {\n    for(int j = 0; j &lt; n; j++) {\n        if(i &lt;= arr[j])\n            System.out.print(&quot;*       &quot;);\n        else\n            System.out.print(&quot;        &quot;);\n    }\n    System.out.println();\n}\n</code></pre>\n"}],"owner":{"display_name":"user15237617"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":875,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1673332742,"creation_date":1634838412,"question_id":69666581,"body_markdown":"1. You are given a number n, representing the size of array a.\r\n2. You are given n numbers, representing elements of array a.\r\n3. You are required to print a bar chart representing value of arr a.\r\n\r\nA bar chart of asterisks representing value of array a\r\n\r\nSAMPLE INPUT:-\r\n5\r\n3\r\n1\r\n0\r\n7\r\n5\r\n\r\nSAMPLE OUTPUT:-\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI  tried  getting this input from this approach can anyone help me? What should I do to get the same?\r\n\t\t\t\r\n```java\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        // write your code here\r\n        Scanner sc = new Scanner(System.in);\r\n        int n = sc.nextInt();\r\n        int[] arr = new int[n];\r\n        for (int i = 0; i &lt; n; i++) {\r\n            arr[i] = sc.nextInt();\r\n        }\r\n        for (int i = 0; i &lt; n; i++) {\r\n            int x = arr[i];\r\n            for (int j = 0; j &lt; x; j++) {\r\n                System.out.print(&quot;*&quot; + &quot;\\n&quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SQE8r.png","title":"i want to create a bar chart of array with given user inputs","body":"<ol>\n<li>You are given a number n, representing the size of array a.</li>\n<li>You are given n numbers, representing elements of array a.</li>\n<li>You are required to print a bar chart representing value of arr a.</li>\n</ol>\n<p>A bar chart of asterisks representing value of array a</p>\n<p>SAMPLE INPUT:-\n5\n3\n1\n0\n7\n5</p>\n<p>SAMPLE OUTPUT:-</p>\n<p><a href=\"https://i.stack.imgur.com/SQE8r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SQE8r.png\" alt=\"enter image description here\" /></a></p>\n<p>I  tried  getting this input from this approach can anyone help me? What should I do to get the same?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\nimport java.util.*;\n\npublic class Main {\n\n    public static void main(String[] args) throws Exception {\n        // write your code here\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt();\n        int[] arr = new int[n];\n        for (int i = 0; i &lt; n; i++) {\n            arr[i] = sc.nextInt();\n        }\n        for (int i = 0; i &lt; n; i++) {\n            int x = arr[i];\n            for (int j = 0; j &lt; x; j++) {\n                System.out.print(&quot;*&quot; + &quot;\\n&quot;);\n            }\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","subset","dynamic-programming","subset-sum"],"owner":{"account_id":7745969,"reputation":409,"user_id":6310237,"accept_rate":25,"display_name":"Student NL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673331347,"creation_date":1673286633,"question_id":75061144,"body_markdown":"Currently, I implemented the perfect subset sum problem using the implementation provided on geeksfor geeks ([1], java implementation). The number of subsets with `sum=k` increases exponentially with the set size from which the subsets are taken. As I consider the subsets in increasing size, I would like to be able to first generate all subsets with size `n`, then all subsets with size `n+1`, etc. This way, if some criteria is not satisfied for size `n`, I would no longer have to generate all subsets with size `n+1`.\r\n\r\nThe question remains how to efficiently generate *all* subsets with sum `k` and size `n` only. I have check several threads here on stackoverflow, but none gave me a useful and insightful approach.\r\n\r\nAny suggestions would be more than welcome!\r\n\r\n  [1]: https://www.geeksforgeeks.org/perfect-sum-problem-print-subsets-given-sum/","title":"Perfect subset sum problem with limit on subset size","body":"<p>Currently, I implemented the perfect subset sum problem using the implementation provided on geeksfor geeks (<a href=\"https://www.geeksforgeeks.org/perfect-sum-problem-print-subsets-given-sum/\" rel=\"nofollow noreferrer\">1</a>, java implementation). The number of subsets with <code>sum=k</code> increases exponentially with the set size from which the subsets are taken. As I consider the subsets in increasing size, I would like to be able to first generate all subsets with size <code>n</code>, then all subsets with size <code>n+1</code>, etc. This way, if some criteria is not satisfied for size <code>n</code>, I would no longer have to generate all subsets with size <code>n+1</code>.</p>\n<p>The question remains how to efficiently generate <em>all</em> subsets with sum <code>k</code> and size <code>n</code> only. I have check several threads here on stackoverflow, but none gave me a useful and insightful approach.</p>\n<p>Any suggestions would be more than welcome!</p>\n"},{"tags":["java","jar","exe","distribute"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1673326693,"post_id":75065550,"comment_id":132467989,"body_markdown":"Have you tried/considered creating a self-contained application (i.e., embed the JRE), such as via [jpackage](https://docs.oracle.com/en/java/javase/19/jpackage/packaging-overview.html)?","body":"Have you tried/considered creating a self-contained application (i.e., embed the JRE), such as via <a href=\"https://docs.oracle.com/en/java/javase/19/jpackage/packaging-overview.html\" rel=\"nofollow noreferrer\">jpackage</a>?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1673331188,"post_id":75065550,"comment_id":132468718,"body_markdown":"This question has been asked many times before in various ways.  Please read the duplinks.  If they don&#39;t help, Google can find lots more Q&amp;A&#39;s, articles, etc on this.","body":"This question has been asked many times before in various ways.  Please read the duplinks.  If they don&#39;t help, Google can find lots more Q&amp;A&#39;s, articles, etc on this."}],"owner":{"account_id":27477999,"reputation":27,"user_id":20965651,"display_name":"Lol Lol"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673330806,"answer_count":0,"score":0,"last_activity_date":1673331070,"creation_date":1673325884,"question_id":75065550,"body_markdown":"Can there be some converters or packer that would make my program run on windows? Maybe downloading JRE in the background or smt like this, so clients are not required to go to their site and download it manually\r\n\r\nI tried some programs like j2e and some online converters, but they aren&#39;t precise (my program appears differently)","title":"How to distribute a jar program without requiring clients to download JDK?","body":"<p>Can there be some converters or packer that would make my program run on windows? Maybe downloading JRE in the background or smt like this, so clients are not required to go to their site and download it manually</p>\n<p>I tried some programs like j2e and some online converters, but they aren't precise (my program appears differently)</p>\n"},{"tags":["java","amazon-dynamodb","aws-sdk","dynamodb-queries"],"owner":{"account_id":8560083,"reputation":199,"user_id":6414385,"accept_rate":71,"display_name":"yogas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673330497,"creation_date":1673330497,"question_id":75066039,"body_markdown":"I am getting this error on trying to make an update in local dynamodb\r\n&#39;One or more parameter values were invalid: Value must be provided when Exists is true for Attribute: AssetLabel (Service: null; Status Code: 400; Error Code: ValidationException; Request ID: null; Proxy: null)\r\n    [junit] com.amazonaws.AmazonServiceException: One or more parameter values were invalid: Value must be provided when Exists is true for Attribute: AssetLabel (Service: null; Status Code: 400; Error Code: ValidationException; Request ID: null; Proxy: null)&#39;\r\n\r\ni can see the attribute assetLabel is present in the object. still the error says assetLabel is missing. \r\n\r\n```\r\n    @Test\r\n    public void testExecuteBackfill() throws FileNotFoundException {\r\n        // Setup\r\n        AssetRecord assetDetailsRecord = createAssetDetailsRecord(TestConstants.ASSET_LABEL_1, AssetStatusBO.ACTIVE);\r\n        localDynamoMapper.save(assetDetailsRecord);\r\n\r\n        // Assert Asset mapping unchanged\r\n        AssetRecord fetchedAssetMappingRecord = loadAssetRecord(TestConstants.ASSET_LABEL_1, TestConstants.RANGE_KEY_LATEST);\r\n\r\n        // Assert Asset detail changes\r\n        AssetRecord fetchedAssetDetailsRecord = loadAssetRecord(TestConstants.ASSET_LABEL_1, TestConstants.RANGE_KEY_LATEST);\r\n        System.out.println(&quot;fetchedAssetDetailsRecord = &quot; +fetchedAssetDetailsRecord);\r\n        //Mockito.when(assetDAO.getAssetByAssetLabel(TestConstants.ASSET_LABEL_1)).thenReturn(TestConstants.ASSET_BO);\r\n        remarksAndMonitoringStatusBackfillerScriptHelper.executeBackfill(TEST_IOT_DATA_FILE_PATH);\r\n\r\n        // Assert Asset detail changes\r\n        fetchedAssetDetailsRecord = loadAssetRecord(TestConstants.ASSET_LABEL_1, TestConstants.RANGE_KEY_LATEST);\r\n    }\r\n```\r\n\r\n\r\ncode for creating table\r\n```\r\n    private void createTable() {\r\n        final CreateTableRequest createTableRequest\r\n                = localDynamoMapper.generateCreateTableRequest(AssetRecord.class);\r\n        createTableRequest.setProvisionedThroughput(new ProvisionedThroughput(1L, 1L));\r\n        createTableRequest.getGlobalSecondaryIndexes().forEach(index -&gt; {\r\n            index.setProjection(new Projection().withProjectionType(&quot;ALL&quot;));\r\n            index.setProvisionedThroughput(new ProvisionedThroughput(1L, 1L));\r\n        });\r\n        localDynamo.createTable(createTableRequest);\r\n    }\r\n```\r\n\r\n\r\nEntity used to create table\r\n```\r\n@Getter\r\n@Setter\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor(access = AccessLevel.PRIVATE)\r\n@DynamoDBTable(tableName = AssetRecordConstants.TABLE_NAME)\r\npublic class AssetRecord {\r\n\r\n    @DynamoDBHashKey(attributeName = AssetRecordConstants.ASSET_LABEL)\r\n    private String assetLabel;\r\n\r\n    @DynamoDBRangeKey(attributeName = AssetRecordConstants.RANGE_KEY)\r\n    private String rangeKey;\r\n\r\n    @DynamoDBAttribute(attributeName = AssetRecordConstants.NODE_ID)\r\n    @DynamoDBIndexHashKey(globalSecondaryIndexNames =\r\n            {AssetRecordConstants.ASSET_TYPE_INDEX, AssetRecordConstants.MAPPED_RESOURCE_LABEL_INDEX})\r\n    private String nodeId;\r\n\r\n    @DynamoDBTypeConvertedEnum\r\n    @DynamoDBAttribute(attributeName = AssetRecordConstants.ASSET_TYPE)\r\n    @DynamoDBIndexRangeKey(globalSecondaryIndexName = AssetRecordConstants.ASSET_TYPE_INDEX)\r\n    private AssetTypeBO assetType;\r\n}\r\n```","title":"DynamoDB conditional write error : Value must be provided when Exists is true for Attribute:","body":"<p>I am getting this error on trying to make an update in local dynamodb\n'One or more parameter values were invalid: Value must be provided when Exists is true for Attribute: AssetLabel (Service: null; Status Code: 400; Error Code: ValidationException; Request ID: null; Proxy: null)\n[junit] com.amazonaws.AmazonServiceException: One or more parameter values were invalid: Value must be provided when Exists is true for Attribute: AssetLabel (Service: null; Status Code: 400; Error Code: ValidationException; Request ID: null; Proxy: null)'</p>\n<p>i can see the attribute assetLabel is present in the object. still the error says assetLabel is missing.</p>\n<pre><code>    @Test\n    public void testExecuteBackfill() throws FileNotFoundException {\n        // Setup\n        AssetRecord assetDetailsRecord = createAssetDetailsRecord(TestConstants.ASSET_LABEL_1, AssetStatusBO.ACTIVE);\n        localDynamoMapper.save(assetDetailsRecord);\n\n        // Assert Asset mapping unchanged\n        AssetRecord fetchedAssetMappingRecord = loadAssetRecord(TestConstants.ASSET_LABEL_1, TestConstants.RANGE_KEY_LATEST);\n\n        // Assert Asset detail changes\n        AssetRecord fetchedAssetDetailsRecord = loadAssetRecord(TestConstants.ASSET_LABEL_1, TestConstants.RANGE_KEY_LATEST);\n        System.out.println(&quot;fetchedAssetDetailsRecord = &quot; +fetchedAssetDetailsRecord);\n        //Mockito.when(assetDAO.getAssetByAssetLabel(TestConstants.ASSET_LABEL_1)).thenReturn(TestConstants.ASSET_BO);\n        remarksAndMonitoringStatusBackfillerScriptHelper.executeBackfill(TEST_IOT_DATA_FILE_PATH);\n\n        // Assert Asset detail changes\n        fetchedAssetDetailsRecord = loadAssetRecord(TestConstants.ASSET_LABEL_1, TestConstants.RANGE_KEY_LATEST);\n    }\n</code></pre>\n<p>code for creating table</p>\n<pre><code>    private void createTable() {\n        final CreateTableRequest createTableRequest\n                = localDynamoMapper.generateCreateTableRequest(AssetRecord.class);\n        createTableRequest.setProvisionedThroughput(new ProvisionedThroughput(1L, 1L));\n        createTableRequest.getGlobalSecondaryIndexes().forEach(index -&gt; {\n            index.setProjection(new Projection().withProjectionType(&quot;ALL&quot;));\n            index.setProvisionedThroughput(new ProvisionedThroughput(1L, 1L));\n        });\n        localDynamo.createTable(createTableRequest);\n    }\n</code></pre>\n<p>Entity used to create table</p>\n<pre><code>@Getter\n@Setter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor(access = AccessLevel.PRIVATE)\n@DynamoDBTable(tableName = AssetRecordConstants.TABLE_NAME)\npublic class AssetRecord {\n\n    @DynamoDBHashKey(attributeName = AssetRecordConstants.ASSET_LABEL)\n    private String assetLabel;\n\n    @DynamoDBRangeKey(attributeName = AssetRecordConstants.RANGE_KEY)\n    private String rangeKey;\n\n    @DynamoDBAttribute(attributeName = AssetRecordConstants.NODE_ID)\n    @DynamoDBIndexHashKey(globalSecondaryIndexNames =\n            {AssetRecordConstants.ASSET_TYPE_INDEX, AssetRecordConstants.MAPPED_RESOURCE_LABEL_INDEX})\n    private String nodeId;\n\n    @DynamoDBTypeConvertedEnum\n    @DynamoDBAttribute(attributeName = AssetRecordConstants.ASSET_TYPE)\n    @DynamoDBIndexRangeKey(globalSecondaryIndexName = AssetRecordConstants.ASSET_TYPE_INDEX)\n    private AssetTypeBO assetType;\n}\n</code></pre>\n"},{"tags":["java","reactive-programming","spring-webflux"],"comments":[{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1673312980,"post_id":75064291,"comment_id":132466316,"body_markdown":"Does it mean `findAllUsersByIds` returns `Flux&lt;User&gt;`?","body":"Does it mean <code>findAllUsersByIds</code> returns <code>Flux&lt;User&gt;</code>?"},{"owner":{"account_id":2026634,"reputation":1388,"user_id":1811426,"accept_rate":70,"display_name":"Upen"},"score":0,"creation_date":1673313695,"post_id":75064291,"comment_id":132466393,"body_markdown":"Yes. I will get a flux of users with multiple rows for the same user with multiple departments.","body":"Yes. I will get a flux of users with multiple rows for the same user with multiple departments."}],"answers":[{"tags":[],"owner":{"account_id":14614685,"reputation":61,"user_id":10555123,"display_name":"bidulgi69"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673328835,"creation_date":1673328835,"answer_id":75065863,"question_id":75064291,"body_markdown":"I&#39;m not a native English speaker. So sorry for my bad English.&lt;br&gt;\r\n\r\n\r\nI think you can use `groupBy` on the `Flux`.&lt;br&gt;\r\n`groupBy` needs a keyMapper. In your case, it would be a user&#39;s `id` and `name`.\r\n```\r\nuserRepo.findAllUsersByIds()\r\n.groupBy(user -&gt; new UserDto(user.getId(), user.getName()))\r\n```\r\n\r\nAfter grouping the `Flux`, there are `GroupedFlux` in your stream.&lt;br&gt;\r\n`GroupedFlux` has a key and value. Key is the value passed through keyMapper above.\r\n`GroupedFlux` itself are the values grouped by key. So `GroupedFlux.collectList()` would return `List&lt;User&gt;`.\r\n\r\n```\r\n.flatMap(groupedFlux -&gt; \r\n    Mono.zip(\r\n        groupedFlux.key(),\r\n        groupedFlux.collectList()\r\n    )\r\n)\r\n```\r\n\r\nThe value passed through `flatMap` is a tuple that has `UserDto` and `List&lt;User&gt;`.&lt;br&gt;So cast it into `UserDto` that you want to respond.\r\n```\r\n.flatMap(tuple -&gt; {\r\n    // tuple.getT2() would be the grouped user list. (List&lt;User&gt;)\r\n    // cast it into List&lt;DepartmentDTO&gt;\r\n    // ...\r\n    tuple.t1.setDepartmentDto(...);\r\n\r\n    // return UserDto\r\n    return Mono.just(\r\n        tuple.t1\r\n    );\r\n})\r\n```\r\n\r\nThe overall code would be like\r\n\r\n```\r\nuserRepo.findAllUsersByIds()\r\n.groupBy(user -&gt; new UserDto(user.getId(), user.getName()))\r\n.flatMap(groupedFlux -&gt; \r\n    Mono.zip(\r\n        groupedFlux.key(),\r\n        groupedFlux.collectList()\r\n    )\r\n)\r\n.flatMap(tuple -&gt; {\r\n    // tuple.getT2() would be the grouped user list. (List&lt;User&gt;)\r\n    // cast it into List&lt;DepartmentDTO&gt;\r\n    // ...\r\n    tuple.t1.setDepartmentDto(...);\r\n\r\n    // return UserDto\r\n    return Mono.just(\r\n        tuple.t1\r\n    );\r\n})\r\n```","title":"Spring webflux convert flux to DTO after grouping certain fields into a child DTO object","body":"<p>I'm not a native English speaker. So sorry for my bad English.<br></p>\n<p>I think you can use <code>groupBy</code> on the <code>Flux</code>.<br>\n<code>groupBy</code> needs a keyMapper. In your case, it would be a user's <code>id</code> and <code>name</code>.</p>\n<pre><code>userRepo.findAllUsersByIds()\n.groupBy(user -&gt; new UserDto(user.getId(), user.getName()))\n</code></pre>\n<p>After grouping the <code>Flux</code>, there are <code>GroupedFlux</code> in your stream.<br>\n<code>GroupedFlux</code> has a key and value. Key is the value passed through keyMapper above.\n<code>GroupedFlux</code> itself are the values grouped by key. So <code>GroupedFlux.collectList()</code> would return <code>List&lt;User&gt;</code>.</p>\n<pre><code>.flatMap(groupedFlux -&gt; \n    Mono.zip(\n        groupedFlux.key(),\n        groupedFlux.collectList()\n    )\n)\n</code></pre>\n<p>The value passed through <code>flatMap</code> is a tuple that has <code>UserDto</code> and <code>List&lt;User&gt;</code>.<br>So cast it into <code>UserDto</code> that you want to respond.</p>\n<pre><code>.flatMap(tuple -&gt; {\n    // tuple.getT2() would be the grouped user list. (List&lt;User&gt;)\n    // cast it into List&lt;DepartmentDTO&gt;\n    // ...\n    tuple.t1.setDepartmentDto(...);\n\n    // return UserDto\n    return Mono.just(\n        tuple.t1\n    );\n})\n</code></pre>\n<p>The overall code would be like</p>\n<pre><code>userRepo.findAllUsersByIds()\n.groupBy(user -&gt; new UserDto(user.getId(), user.getName()))\n.flatMap(groupedFlux -&gt; \n    Mono.zip(\n        groupedFlux.key(),\n        groupedFlux.collectList()\n    )\n)\n.flatMap(tuple -&gt; {\n    // tuple.getT2() would be the grouped user list. (List&lt;User&gt;)\n    // cast it into List&lt;DepartmentDTO&gt;\n    // ...\n    tuple.t1.setDepartmentDto(...);\n\n    // return UserDto\n    return Mono.just(\n        tuple.t1\n    );\n})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673330083,"creation_date":1673330083,"answer_id":75065988,"question_id":75064291,"body_markdown":"You can use `groupBy` operator to group by `id` and then map every group into a `UserDTO`\r\n\r\n\r\n```\r\nFlux&lt;UserDTO&gt; res = userRepo.findAllUsersByIds()\r\n\t\t.groupBy(user -&gt; user.getId())\r\n\t\t.flatMap(group -&gt;\r\n\t\t\t\tgroup.collectList()\r\n\t\t\t\t\t\t.map(users -&gt; {\r\n\t\t\t\t\t\t\tvar userDto = new UserDTO();\r\n\t\t\t\t\t\t\tuserDto.setId(group.key());\r\n\t\t\t\t\t\t\tuserDto.setName(users.get(0).getName());\r\n\t\t\t\t\t\t\tuserDto.setDepartmentDTO(\r\n\t\t\t\t\t\t\t\t\tusers.stream()\r\n\t\t\t\t\t\t\t\t\t\t\t.map(user -&gt; {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar deptDto = new DepartmentDTO();\r\n\t\t\t\t\t\t\t\t\t\t\t\tdeptDto.setName(user.getDepartment());\r\n\t\t\t\t\t\t\t\t\t\t\t\tdeptDto.setArea(user.getDepartmentArea());\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn deptDto;\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t.toList()\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\treturn userDto;\r\n\t\t\t\t\t\t})\r\n\t\t);\r\n```","title":"Spring webflux convert flux to DTO after grouping certain fields into a child DTO object","body":"<p>You can use <code>groupBy</code> operator to group by <code>id</code> and then map every group into a <code>UserDTO</code></p>\n<pre><code>Flux&lt;UserDTO&gt; res = userRepo.findAllUsersByIds()\n        .groupBy(user -&gt; user.getId())\n        .flatMap(group -&gt;\n                group.collectList()\n                        .map(users -&gt; {\n                            var userDto = new UserDTO();\n                            userDto.setId(group.key());\n                            userDto.setName(users.get(0).getName());\n                            userDto.setDepartmentDTO(\n                                    users.stream()\n                                            .map(user -&gt; {\n                                                var deptDto = new DepartmentDTO();\n                                                deptDto.setName(user.getDepartment());\n                                                deptDto.setArea(user.getDepartmentArea());\n                                                return deptDto;\n                                            })\n                                            .toList()\n                            );\n                            return userDto;\n                        })\n        );\n</code></pre>\n"}],"owner":{"account_id":2026634,"reputation":1388,"user_id":1811426,"accept_rate":70,"display_name":"Upen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":633,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75065988,"answer_count":2,"score":0,"last_activity_date":1673330083,"creation_date":1673310612,"question_id":75064291,"body_markdown":"My rest api is using Spring Webflux. While fetching an Entity from Postgres which is denormalized table, I am getting multiple rows for the same object. While converting to DTO, I need to iterate through multiple User objects for the same user and make a list of all departments he/she is part of and then add the list to the DTO. This way, I can send back a single row per User. How can I achieve this without blocking.\r\n\r\n    @Entity\r\n    public Class User {\r\n    \r\n        private int id;\r\n        private String name;\r\n        private String department;\r\n        private String departmentArea;\r\n    \r\n    }\r\n\r\n    public Class UserDTO {\r\n        \r\n        private int id;\r\n        private String name;\r\n        private List&lt;DepartmentDTO&gt; departmentDTO;\r\n        \r\n    }\r\n\r\nHow to I convert the User objects into a UserDTO with a list of DepartmentDTO\r\n\r\nCurrent implementation in service\r\n\r\n    userRepo.findAllUsersByIds().map(mapper::mapUserDTO));","title":"Spring webflux convert flux to DTO after grouping certain fields into a child DTO object","body":"<p>My rest api is using Spring Webflux. While fetching an Entity from Postgres which is denormalized table, I am getting multiple rows for the same object. While converting to DTO, I need to iterate through multiple User objects for the same user and make a list of all departments he/she is part of and then add the list to the DTO. This way, I can send back a single row per User. How can I achieve this without blocking.</p>\n<pre><code>@Entity\npublic Class User {\n\n    private int id;\n    private String name;\n    private String department;\n    private String departmentArea;\n\n}\n\npublic Class UserDTO {\n    \n    private int id;\n    private String name;\n    private List&lt;DepartmentDTO&gt; departmentDTO;\n    \n}\n</code></pre>\n<p>How to I convert the User objects into a UserDTO with a list of DepartmentDTO</p>\n<p>Current implementation in service</p>\n<pre><code>userRepo.findAllUsersByIds().map(mapper::mapUserDTO));\n</code></pre>\n"},{"tags":["java","icons","jbutton"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1673340102,"post_id":75065943,"comment_id":132470894,"body_markdown":"Try to load the image manually, e.g. via `ImageIO.read(…)`. This way, you get a feedback on errors. Then, just use the [`ImageIcon` constructor accepting an `Image`](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/ImageIcon.html#%3Cinit%3E(java.awt.Image))","body":"Try to load the image manually, e.g. via <code>ImageIO.read(…)</code>. This way, you get a feedback on errors. Then, just use the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/ImageIcon.html#%3Cinit%3E(java.awt.Image)\" rel=\"nofollow noreferrer\"><code>ImageIcon</code> constructor accepting an <code>Image</code></a>"}],"answers":[{"tags":[],"owner":{"account_id":27230648,"reputation":1,"user_id":20758408,"display_name":"Oppressor Ordinary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673330050,"creation_date":1673330050,"answer_id":75065986,"question_id":75065943,"body_markdown":"Where is img.bmp stored relative to the\r\n&quot;working directory&quot;?\r\nImageIcon (String) expects to find a\r\nfile on the disk, in this case, in the root of\r\nthe &quot;working directory&quot;. If you don&#39;t know\r\nthe working directory, add\r\nSystem. out.println(System.getPro\r\nperty(&quot;user.dir&quot;)); to your code,\r\nthe image you&#39;re trying to load should be\r\nstored there. The problem with this though,\r\nis the working directory can change. You&#39;d\r\nbe better of using embedded resources","title":"How can I add picture as a JButton background?","body":"<p>Where is img.bmp stored relative to the\n&quot;working directory&quot;?\nImageIcon (String) expects to find a\nfile on the disk, in this case, in the root of\nthe &quot;working directory&quot;. If you don't know\nthe working directory, add\nSystem. out.println(System.getPro\nperty(&quot;user.dir&quot;)); to your code,\nthe image you're trying to load should be\nstored there. The problem with this though,\nis the working directory can change. You'd\nbe better of using embedded resources</p>\n"}],"owner":{"account_id":27045384,"reputation":1,"user_id":20599648,"display_name":"AlexTemnikof"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673330050,"creation_date":1673329642,"question_id":75065943,"body_markdown":"I&#39;m trying to add an image to JButton so there will be some kind of icon. And I&#39;m not sure where is my mistake. When I run the following code, there is no changes in how button looks.\r\n\r\n```\r\nImageIcon img = new ImageIcon(&quot;img.bmp&quot;);\r\nJButton button = new JButton(img);\r\nframe.add(button);\r\n```\r\n\r\n\r\nI&#39;ve already tried to debug my code, although there was nothing useful.","title":"How can I add picture as a JButton background?","body":"<p>I'm trying to add an image to JButton so there will be some kind of icon. And I'm not sure where is my mistake. When I run the following code, there is no changes in how button looks.</p>\n<pre><code>ImageIcon img = new ImageIcon(&quot;img.bmp&quot;);\nJButton button = new JButton(img);\nframe.add(button);\n</code></pre>\n<p>I've already tried to debug my code, although there was nothing useful.</p>\n"},{"tags":["java","mysql","spring-boot","classcastexception","spring-boot-actuator"],"owner":{"account_id":26173202,"reputation":11,"user_id":19857831,"display_name":"Saif Quazi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673330012,"creation_date":1673263368,"question_id":75056557,"body_markdown":"```\r\n@RestController\r\npublic class ChangePasswordController {\r\n\r\n\t@Autowired\r\n\tprivate UserService userService;\r\n\r\n\t@Autowired\r\n\tprivate PasswordEncoder passwordEncoder;\r\n\r\n\t@PostMapping(&quot;/change-password&quot;)\r\n\tpublic Response processChangePassword(@RequestParam String newPassword, @RequestParam String oldPass,\r\n\t\t\t@RequestParam long tenantId) throws ServletException {\r\n\t\tAuthentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n\t\tCustomUserDetails details = (CustomUserDetails) authentication\r\n\t\t\t\t.getPrincipal();\r\n\t\tUser user = details.getUser();\r\n\r\n\t\tif (oldPass.equals(newPassword)) {\r\n\t\t\treturn new Response(&quot;Your new password must be different than the old one.&quot;, null, new Date(),\r\n\t\t\t\t\tHttpStatus.BAD_REQUEST.value());\r\n\t\t}\r\n\t\tif (!passwordEncoder.matches(oldPass, user.getPassword())) {\r\n\t\t\treturn new Response(&quot;Your old password is incorrect.&quot;, null, new Date(), HttpStatus.BAD_REQUEST.value()); \r\n\r\n\t\t} else {\r\n\t\t\tuserService.changePassword(user, newPassword, tenantId);\r\n\t\t\treturn new Response(&quot;password change sucessfully !&quot;, null, new Date(), HttpStatus.OK.value());\r\n\t\t}\r\n\r\n\t}\r\n}\r\n```\r\n\r\n\r\nAbove is my code and when I Call the API ```/change password```. It give me an  error ```java.lang.ClassCastException:```\r\n\r\n\r\n the error details is bellow \r\n\r\n**ERROR**\r\n```\r\n2023-01-09 16:43:13 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/api/tenant-service] threw exception [Request processing failed; nested exception is java.lang.ClassCastException: class org.springframework.security.core.userdetails.User cannot be cast to class com.shopwaala.tenant.master.service.CustomUserDetails (org.springframework.security.core.userdetails.User and com.shopwaala.tenant.master.service.CustomUserDetails are in unnamed module of loader &#39;app&#39;)] with root cause\r\njava.lang.ClassCastException: class org.springframework.security.core.userdetails.User cannot be cast to class com.ABC.tenant.master.service.CustomUserDetails (org.springframework.security.core.userdetails.User and com.shopwaala.tenant.master.service.CustomUserDetails are in unnamed module of loader &#39;app&#39;)\r\n\tat com.shopwaala.auth.controller.ChangePasswordController.processChangePassword(ChangePasswordController.java:32)\r\n```","title":"org.springframework.security.core.userdetails.User cannot be cast","body":"<pre><code>@RestController\npublic class ChangePasswordController {\n\n    @Autowired\n    private UserService userService;\n\n    @Autowired\n    private PasswordEncoder passwordEncoder;\n\n    @PostMapping(&quot;/change-password&quot;)\n    public Response processChangePassword(@RequestParam String newPassword, @RequestParam String oldPass,\n            @RequestParam long tenantId) throws ServletException {\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n        CustomUserDetails details = (CustomUserDetails) authentication\n                .getPrincipal();\n        User user = details.getUser();\n\n        if (oldPass.equals(newPassword)) {\n            return new Response(&quot;Your new password must be different than the old one.&quot;, null, new Date(),\n                    HttpStatus.BAD_REQUEST.value());\n        }\n        if (!passwordEncoder.matches(oldPass, user.getPassword())) {\n            return new Response(&quot;Your old password is incorrect.&quot;, null, new Date(), HttpStatus.BAD_REQUEST.value()); \n\n        } else {\n            userService.changePassword(user, newPassword, tenantId);\n            return new Response(&quot;password change sucessfully !&quot;, null, new Date(), HttpStatus.OK.value());\n        }\n\n    }\n}\n</code></pre>\n<p>Above is my code and when I Call the API <code>/change password</code>. It give me an  error <code>java.lang.ClassCastException:</code></p>\n<p>the error details is bellow</p>\n<p><strong>ERROR</strong></p>\n<pre><code>2023-01-09 16:43:13 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/api/tenant-service] threw exception [Request processing failed; nested exception is java.lang.ClassCastException: class org.springframework.security.core.userdetails.User cannot be cast to class com.shopwaala.tenant.master.service.CustomUserDetails (org.springframework.security.core.userdetails.User and com.shopwaala.tenant.master.service.CustomUserDetails are in unnamed module of loader 'app')] with root cause\njava.lang.ClassCastException: class org.springframework.security.core.userdetails.User cannot be cast to class com.ABC.tenant.master.service.CustomUserDetails (org.springframework.security.core.userdetails.User and com.shopwaala.tenant.master.service.CustomUserDetails are in unnamed module of loader 'app')\n    at com.shopwaala.auth.controller.ChangePasswordController.processChangePassword(ChangePasswordController.java:32)\n</code></pre>\n"},{"tags":["java","java-8","persistence","oracle12c","executorservice"],"comments":[{"owner":{"account_id":1816046,"reputation":1389,"user_id":1651107,"accept_rate":100,"display_name":"Piro"},"score":0,"creation_date":1675687798,"post_id":75065889,"comment_id":132976297,"body_markdown":"Maybe you did check, but is it really not throwing any exception? Since your sample has syntax error and does not handle exception in any way. Problem could be also with parsing given file but we do not know since you do not show us the file (at least sample), do not specify format and do not show parsing method. Did you debug it? What parsing returned for erroneous file?","body":"Maybe you did check, but is it really not throwing any exception? Since your sample has syntax error and does not handle exception in any way. Problem could be also with parsing given file but we do not know since you do not show us the file (at least sample), do not specify format and do not show parsing method. Did you debug it? What parsing returned for erroneous file?"}],"owner":{"account_id":4073072,"reputation":43,"user_id":3345426,"display_name":"sharad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673329155,"creation_date":1673329155,"question_id":75065889,"body_markdown":"I am trying to insert the records after reading them from a file. There are bunch of files, I read/parse one file at a time and insert all the records from that file at a time. This works fine in most cases, but I have noticed, there is one file which has 879 records which are not getting inserted or not appearing in DB table. The same code works fine, if I remove or add any 1 record from the file. DB is Oracle 12c. \r\nThe file whose records are not inserted is not throwing any error.\r\nCan anybody please point out what could cause such a behavior?\r\n\r\nThis is how the code looks like.. \r\n\r\n```\r\nExecutorService executorService = Executors.newFixedThreadPool(threadCount);\r\nList&lt;CompletableFuture&lt;Void&gt;&gt; completableFutures = \r\n     pnlFiles.stream().map(pnlFileForTheBook -&gt;    CompletableFuture.runAsync(() -&gt; {\r\n            String pnlFileName = &quot;&quot;;\r\n            String cobDate = &quot;&quot;;\r\n            String filePath = &quot;&quot;;\r\n            try {\r\n                File localPnlFile = nasDataLoader.downloadFile(pnlFileForTheBook, filePath);\r\n                if(localPnlFile != null) {\r\n                    List&lt;PnlFile&gt; pnlFileLines = parse(localPnlFile, PnlFile.class);\r\n                    List&lt;PnlFileDsl&gt; pnlFileDsls = pnlFileLines.stream().map(line -&gt; {\r\n                        return new PnlFileDsl(line, cobDate);\r\n                    }).collect(Collectors.toList());\r\n                    persistenceManager.persist(pnlFileDsls);\r\n                }\r\n            } \r\n              catch () {} \r\n           }, executorService)).collect(Collectors.toList());\r\n\r\n        List&lt;Void&gt; result = completableFutures.stream().map(CompletableFuture::join)\r\n                                                       .collect(Collectors.toList());\r\n\r\n\r\n```\r\n\r\n\r\n\r\nThe same code works with all other files, the file whose records are not appearing has no issues.\r\n","title":"Some inserts are not appearing in DB table","body":"<p>I am trying to insert the records after reading them from a file. There are bunch of files, I read/parse one file at a time and insert all the records from that file at a time. This works fine in most cases, but I have noticed, there is one file which has 879 records which are not getting inserted or not appearing in DB table. The same code works fine, if I remove or add any 1 record from the file. DB is Oracle 12c.\nThe file whose records are not inserted is not throwing any error.\nCan anybody please point out what could cause such a behavior?</p>\n<p>This is how the code looks like..</p>\n<pre><code>ExecutorService executorService = Executors.newFixedThreadPool(threadCount);\nList&lt;CompletableFuture&lt;Void&gt;&gt; completableFutures = \n     pnlFiles.stream().map(pnlFileForTheBook -&gt;    CompletableFuture.runAsync(() -&gt; {\n            String pnlFileName = &quot;&quot;;\n            String cobDate = &quot;&quot;;\n            String filePath = &quot;&quot;;\n            try {\n                File localPnlFile = nasDataLoader.downloadFile(pnlFileForTheBook, filePath);\n                if(localPnlFile != null) {\n                    List&lt;PnlFile&gt; pnlFileLines = parse(localPnlFile, PnlFile.class);\n                    List&lt;PnlFileDsl&gt; pnlFileDsls = pnlFileLines.stream().map(line -&gt; {\n                        return new PnlFileDsl(line, cobDate);\n                    }).collect(Collectors.toList());\n                    persistenceManager.persist(pnlFileDsls);\n                }\n            } \n              catch () {} \n           }, executorService)).collect(Collectors.toList());\n\n        List&lt;Void&gt; result = completableFutures.stream().map(CompletableFuture::join)\n                                                       .collect(Collectors.toList());\n\n\n</code></pre>\n<p>The same code works with all other files, the file whose records are not appearing has no issues.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9251,"page":741,"page_size":100}
