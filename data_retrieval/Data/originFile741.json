{"items":[{"tags":["java","spring","amazon-iam","amazon-sqs","refresh-token"],"comments":[{"owner":{"account_id":58377,"reputation":247920,"user_id":174777,"display_name":"John Rotenstein"},"score":0,"creation_date":1630101158,"post_id":68947757,"comment_id":121872874,"body_markdown":"Can&#39;t you just call `AssumeRole` again?","body":"Can&#39;t you just call <code>AssumeRole</code> again?"},{"owner":{"account_id":22578987,"reputation":11,"user_id":16763921,"display_name":"suru"},"score":0,"creation_date":1630201366,"post_id":68947757,"comment_id":121890583,"body_markdown":"QueueMessagingTemplate is autowired into my application queue listener class and BasicSessionCredentials are atuowired into QueueMessagingTemplate.  How can I re-initialize these spring beans.","body":"QueueMessagingTemplate is autowired into my application queue listener class and BasicSessionCredentials are atuowired into QueueMessagingTemplate.  How can I re-initialize these spring beans."},{"owner":{"account_id":22578987,"reputation":11,"user_id":16763921,"display_name":"suru"},"score":0,"creation_date":1630202008,"post_id":68947757,"comment_id":121890660,"body_markdown":"My spring SQS is implemented like below except the credentials are  AssumeRole (temp credentials) https://examples.javacodegeeks.com/using-amazon-sqs-with-spring-boot/. AWS SDK is supposed to recognize that the credentials have expired and refresh them, but that doesn&#39;t seem to be working.","body":"My spring SQS is implemented like below except the credentials are  AssumeRole (temp credentials) <a href=\"https://examples.javacodegeeks.com/using-amazon-sqs-with-spring-boot/\" rel=\"nofollow noreferrer\">examples.javacodegeeks.com/using-amazon-sqs-with-spring-boot</a>&zwnj;&#8203;. AWS SDK is supposed to recognize that the credentials have expired and refresh them, but that doesn&#39;t seem to be working."},{"owner":{"account_id":58377,"reputation":247920,"user_id":174777,"display_name":"John Rotenstein"},"score":0,"creation_date":1630203943,"post_id":68947757,"comment_id":121890869,"body_markdown":"I don&#39;t think it can auto-refresh credentials that you have extracted from AssumeRole and put into `sessionCred`. It has no ability to call `AssumeRole` on its own. When using an IAM Role assigned to an EC2 instance, the credentials are auto-refreshed, but not if you assume the role in your own program.","body":"I don&#39;t think it can auto-refresh credentials that you have extracted from AssumeRole and put into <code>sessionCred</code>. It has no ability to call <code>AssumeRole</code> on its own. When using an IAM Role assigned to an EC2 instance, the credentials are auto-refreshed, but not if you assume the role in your own program."},{"owner":{"account_id":22578987,"reputation":11,"user_id":16763921,"display_name":"suru"},"score":0,"creation_date":1630299727,"post_id":68947757,"comment_id":121908965,"body_markdown":"Thank you. I will try this out. If  the IAM Role assigned to an EC2 instance, BasicSessionCredentials will be auto-refreshed ?","body":"Thank you. I will try this out. If  the IAM Role assigned to an EC2 instance, BasicSessionCredentials will be auto-refreshed ?"},{"owner":{"account_id":58377,"reputation":247920,"user_id":174777,"display_name":"John Rotenstein"},"score":0,"creation_date":1630300531,"post_id":68947757,"comment_id":121909095,"body_markdown":"When an IAM Role is assigned to an Amazon EC2 instance, then the AWS SDK will automatically receive credentials. There is no need to process credentials unless you wish to assume different credentials.","body":"When an IAM Role is assigned to an Amazon EC2 instance, then the AWS SDK will automatically receive credentials. There is no need to process credentials unless you wish to assume different credentials."}],"answers":[{"comments":[{"owner":{"account_id":18094497,"reputation":702,"user_id":13153117,"display_name":"Stan"},"score":0,"creation_date":1674169449,"post_id":75076923,"comment_id":132664024,"body_markdown":"For sure this can be accepted as answer!!! Using StsAssumeRoleCredentialsProvider will auto-refresh the sts token!","body":"For sure this can be accepted as answer!!! Using StsAssumeRoleCredentialsProvider will auto-refresh the sts token!"}],"tags":[],"owner":{"account_id":2190376,"reputation":533,"user_id":1937593,"display_name":"paranoidAndroid"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673394341,"creation_date":1673393485,"answer_id":75076923,"question_id":68947757,"body_markdown":"I was just about to implement it myself and then i found that in version 2 of the sdk its already there, you can use `StsAssumeRoleCredentialsProvider` which takes care of refreshing the token when it is about to expire. I don&#39;t know if there is something equivalent in the old SDK.\r\n\r\nBut you can implement it pretty easily for the older SDK as well, just store the expiry and make another assumeRole request when it&#39;s about to expire\r\n\r\nEdit- I was confused because you use the v1 sdk for SQS but you do use the V2 SDK for STS, so you can simply use StsAssumeRoleCredentialsProvider instead. Also, I suggest using either V1 or V2, but not both","title":"how to auto-refresh AWS STS Temporary security credentials when it expires while accessing Amazon SQS?","body":"<p>I was just about to implement it myself and then i found that in version 2 of the sdk its already there, you can use <code>StsAssumeRoleCredentialsProvider</code> which takes care of refreshing the token when it is about to expire. I don't know if there is something equivalent in the old SDK.</p>\n<p>But you can implement it pretty easily for the older SDK as well, just store the expiry and make another assumeRole request when it's about to expire</p>\n<p>Edit- I was confused because you use the v1 sdk for SQS but you do use the V2 SDK for STS, so you can simply use StsAssumeRoleCredentialsProvider instead. Also, I suggest using either V1 or V2, but not both</p>\n"}],"owner":{"account_id":22578987,"reputation":11,"user_id":16763921,"display_name":"suru"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4160,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673394341,"creation_date":1630035487,"question_id":68947757,"body_markdown":"I&#39;ve spring boot app with QueueMessagingTemplate as client to access Amazon SQS using temporary security credentials(STS). Getting temp token using STS-AssumeRole . Can you help me how to refresh/auto-refresh session token when it expires?\r\n\r\nError:\r\ncom.amazonaws.services.sqs.model.AmazonSQSException: The security token included in the request is expired\r\n\r\nHere is the code:\r\n\r\n    @Configuration\r\n    @Slf4j\r\n    public class QueueConfig {\r\n    \r\n        @Bean\r\n        public QueueMessagingTemplate queueMessagingTemplate(@Autowired BasicSessionCredentials sessionCredentials) {\r\n                log.info(&quot;queueMessagingTemplate refresh&quot;);\r\n                return new QueueMessagingTemplate(amazonSQSAsync(sessionCredentials));\r\n        }\r\n    \r\n        @Bean\r\n        @Primary\r\n        public AmazonSQSAsync amazonSQSAsync(BasicSessionCredentials sessionCredentials) {\r\n                return AmazonSQSAsyncClientBuilder\r\n                        .standard()\r\n                        .withRegion(Regions.US_WEST_1)\r\n                        .withCredentials(new AWSStaticCredentialsProvider(sessionCredentials))\r\n                        .build();\r\n        }\r\n    }\r\n\r\nHere is the code for AWS STS cred \r\n\r\n    @Configuration\r\n    @Slf4j\r\n    public class AwsRoleCredentials {\r\n    \r\n        @Bean(name = &quot;sessionCredentials&quot;)\r\n        public BasicSessionCredentials sessionCredentials(){\r\n            try {\r\n                String roleArn = &quot;XXXX&quot;;\r\n                String roleSessionName = &quot;XXX&quot;;\r\n                Region region = Region.US_WEST_1;\r\n    \r\n                StsClient stsClient = StsClient.builder()\r\n                        .region(region)\r\n                        .build();\r\n    \r\n                AssumeRoleRequest roleRequest = AssumeRoleRequest.builder()\r\n                        .roleArn(roleArn)\r\n                        .roleSessionName(roleSessionName)\r\n                        .build();\r\n    \r\n                AssumeRoleResponse roleResponse = stsClient.assumeRole(roleRequest);\r\n                Credentials myCreds = roleResponse.credentials();\r\n    \r\n    \r\n                BasicSessionCredentials sessionCred = new BasicSessionCredentials(\r\n                        myCreds.accessKeyId(),\r\n                        myCreds.secretAccessKey(),\r\n                        myCreds.sessionToken());\r\n                return sessionCred;\r\n    \r\n            } catch (StsException e) {\r\n                log.error(&quot;ERROR while get token:&quot;+ e.getMessage());\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n        \r\n\r\n","title":"how to auto-refresh AWS STS Temporary security credentials when it expires while accessing Amazon SQS?","body":"<p>I've spring boot app with QueueMessagingTemplate as client to access Amazon SQS using temporary security credentials(STS). Getting temp token using STS-AssumeRole . Can you help me how to refresh/auto-refresh session token when it expires?</p>\n<p>Error:\ncom.amazonaws.services.sqs.model.AmazonSQSException: The security token included in the request is expired</p>\n<p>Here is the code:</p>\n<pre><code>@Configuration\n@Slf4j\npublic class QueueConfig {\n\n    @Bean\n    public QueueMessagingTemplate queueMessagingTemplate(@Autowired BasicSessionCredentials sessionCredentials) {\n            log.info(&quot;queueMessagingTemplate refresh&quot;);\n            return new QueueMessagingTemplate(amazonSQSAsync(sessionCredentials));\n    }\n\n    @Bean\n    @Primary\n    public AmazonSQSAsync amazonSQSAsync(BasicSessionCredentials sessionCredentials) {\n            return AmazonSQSAsyncClientBuilder\n                    .standard()\n                    .withRegion(Regions.US_WEST_1)\n                    .withCredentials(new AWSStaticCredentialsProvider(sessionCredentials))\n                    .build();\n    }\n}\n</code></pre>\n<p>Here is the code for AWS STS cred</p>\n<pre><code>@Configuration\n@Slf4j\npublic class AwsRoleCredentials {\n\n    @Bean(name = &quot;sessionCredentials&quot;)\n    public BasicSessionCredentials sessionCredentials(){\n        try {\n            String roleArn = &quot;XXXX&quot;;\n            String roleSessionName = &quot;XXX&quot;;\n            Region region = Region.US_WEST_1;\n\n            StsClient stsClient = StsClient.builder()\n                    .region(region)\n                    .build();\n\n            AssumeRoleRequest roleRequest = AssumeRoleRequest.builder()\n                    .roleArn(roleArn)\n                    .roleSessionName(roleSessionName)\n                    .build();\n\n            AssumeRoleResponse roleResponse = stsClient.assumeRole(roleRequest);\n            Credentials myCreds = roleResponse.credentials();\n\n\n            BasicSessionCredentials sessionCred = new BasicSessionCredentials(\n                    myCreds.accessKeyId(),\n                    myCreds.secretAccessKey(),\n                    myCreds.sessionToken());\n            return sessionCred;\n\n        } catch (StsException e) {\n            log.error(&quot;ERROR while get token:&quot;+ e.getMessage());\n        }\n        return null;\n    }\n}\n    \n</code></pre>\n"},{"tags":["java","android","flutter","module"],"comments":[{"owner":{"account_id":6483758,"reputation":398,"user_id":5019995,"display_name":"Felipe Palma"},"score":0,"creation_date":1673399795,"post_id":75076984,"comment_id":132488918,"body_markdown":"Hello, Maria, maybe this link can help you: https://stackoverflow.com/questions/33508777/gradle-error-in-android-studio-plugin-with-id-com-android-library-not-found","body":"Hello, Maria, maybe this link can help you: <a href=\"https://stackoverflow.com/questions/33508777/gradle-error-in-android-studio-plugin-with-id-com-android-library-not-found\" title=\"gradle error in android studio plugin with id com android library not found\">stackoverflow.com/questions/33508777/&hellip;</a>"}],"owner":{"account_id":6867156,"reputation":1,"user_id":8245873,"display_name":"Maria Lins"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673394315,"creation_date":1673394315,"question_id":75076984,"body_markdown":"I&#39;m creating a Flutter Project and I need import a Java module to use the Samsung IAP, but, when I insert the module, I get this problem: Plugin with id &#39;com.android.library&#39; not found.\r\n\r\n\r\n\r\nThis is the build.gradle of the Samsung IAP Helper (IAP6Helper):\r\n\r\n\r\n```\r\napply plugin: &#39;com.android.library&#39;\r\nandroid {\r\n    compileSdkVersion 26\r\n    buildToolsVersion &#39;28.0.3&#39;\r\n\r\n    defaultConfig {\r\n        minSdkVersion 18\r\n        targetSdkVersion 26\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.txt&#39;\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n}\r\n```\r\n\r\nThis is the build.gradle of the Samsung IAP Sample (IAP6Sample):\r\n\r\n```\r\napply plugin: &#39;com.android.application&#39;\r\n\r\nandroid {\r\n    compileSdkVersion 26\r\n    buildToolsVersion &#39;28.0.3&#39;\r\n\r\n    defaultConfig {\r\n        applicationId &#39;com.samsung.android.sdk.iap.v6.sample1&#39;\r\n        minSdkVersion 18\r\n        targetSdkVersion 26\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.txt&#39;\r\n        }\r\n    }\r\n\r\n    productFlavors {\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation project(&#39;:IAP6Helper&#39;)\r\n}\r\n```\r\n\r\nI see in some\r\n\r\n```\r\ndependencies {\r\n    classpath &#39;com.android.tools.build:gradle:7.1.3&#39;\r\n}\r\n```\r\n\r\nI already saw in some answers here that I should add the code below in my code, but it always was and nothing solves it.\r\n\r\nSorry my bad English.\r\n\r\n\r\n","title":"Bug &#39;Plugin with id &#39;com.android.library&#39; not found.&#39; when include java module in flutter project","body":"<p>I'm creating a Flutter Project and I need import a Java module to use the Samsung IAP, but, when I insert the module, I get this problem: Plugin with id 'com.android.library' not found.</p>\n<p>This is the build.gradle of the Samsung IAP Helper (IAP6Helper):</p>\n<pre><code>apply plugin: 'com.android.library'\nandroid {\n    compileSdkVersion 26\n    buildToolsVersion '28.0.3'\n\n    defaultConfig {\n        minSdkVersion 18\n        targetSdkVersion 26\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.txt'\n        }\n    }\n}\n\ndependencies {\n}\n</code></pre>\n<p>This is the build.gradle of the Samsung IAP Sample (IAP6Sample):</p>\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 26\n    buildToolsVersion '28.0.3'\n\n    defaultConfig {\n        applicationId 'com.samsung.android.sdk.iap.v6.sample1'\n        minSdkVersion 18\n        targetSdkVersion 26\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.txt'\n        }\n    }\n\n    productFlavors {\n    }\n}\n\ndependencies {\n    implementation project(':IAP6Helper')\n}\n</code></pre>\n<p>I see in some</p>\n<pre><code>dependencies {\n    classpath 'com.android.tools.build:gradle:7.1.3'\n}\n</code></pre>\n<p>I already saw in some answers here that I should add the code below in my code, but it always was and nothing solves it.</p>\n<p>Sorry my bad English.</p>\n"},{"tags":["java","apache-kafka","spring-kafka","spring-cloud-stream","spring-cloud-stream-binder-kafka"],"comments":[{"owner":{"account_id":445335,"reputation":5970,"user_id":837717,"display_name":"Oleg Zhurakousky"},"score":0,"creation_date":1614772109,"post_id":66456062,"comment_id":117485321,"body_markdown":"This should work perfectly fine. I can&#39;t see any issues in your configuration. Perhaps you can post/push a slimmed down version of your project - just a bare minimum to reproduce the issue so we can take a look? Also, any stack trace or things in the log that you may have missed?","body":"This should work perfectly fine. I can&#39;t see any issues in your configuration. Perhaps you can post/push a slimmed down version of your project - just a bare minimum to reproduce the issue so we can take a look? Also, any stack trace or things in the log that you may have missed?"},{"owner":{"account_id":2365019,"reputation":5194,"user_id":2070861,"accept_rate":100,"display_name":"sobychacko"},"score":0,"creation_date":1614808081,"post_id":66456062,"comment_id":117501458,"body_markdown":"In addition to what Oleg suggested in the above comment, you also don&#39;t need any configuration for `spring.cloud.stream.kafka.streams..` as I don&#39;t see the use for Kafka Streams in your application.","body":"In addition to what Oleg suggested in the above comment, you also don&#39;t need any configuration for <code>spring.cloud.stream.kafka.streams..</code> as I don&#39;t see the use for Kafka Streams in your application."},{"owner":{"account_id":1033346,"reputation":1,"user_id":6019760,"display_name":"Amol Joshi"},"score":0,"creation_date":1614882592,"post_id":66456062,"comment_id":117528302,"body_markdown":"Thanks @Oleg for the response.   I pushed minimal application at:\n[link](https://github.com/ajoshi83/orderanalytics/tree/master)","body":"Thanks @Oleg for the response.   I pushed minimal application at: <a href=\"https://github.com/ajoshi83/orderanalytics/tree/master\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":1033346,"reputation":1,"user_id":6019760,"display_name":"Amol Joshi"},"score":0,"creation_date":1614882783,"post_id":66456062,"comment_id":117528373,"body_markdown":"@sobychacko thanks.  I will remove the streams config but I have a plan to use Kafka steams later once the application behaves as expected.","body":"@sobychacko thanks.  I will remove the streams config but I have a plan to use Kafka steams later once the application behaves as expected."},{"owner":{"account_id":2365019,"reputation":5194,"user_id":2070861,"accept_rate":100,"display_name":"sobychacko"},"score":0,"creation_date":1614885961,"post_id":66456062,"comment_id":117529572,"body_markdown":"Hi, Try to share a minimally reproducible example, and then we can triage further.","body":"Hi, Try to share a minimally reproducible example, and then we can triage further."},{"owner":{"account_id":1033346,"reputation":1,"user_id":6019760,"display_name":"Amol Joshi"},"score":0,"creation_date":1614939286,"post_id":66456062,"comment_id":117544078,"body_markdown":"@sobychacko, thanks.  I pushed my minimally reproducible code at Github.  The link :   \n\n[link](https://github.com/ajoshi83/orderanalytics/tree/master)","body":"@sobychacko, thanks.  I pushed my minimally reproducible code at Github.  The link :     <a href=\"https://github.com/ajoshi83/orderanalytics/tree/master\" rel=\"nofollow noreferrer\">link</a>"}],"answers":[{"tags":[],"owner":{"account_id":2365019,"reputation":5194,"user_id":2070861,"accept_rate":100,"display_name":"sobychacko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615410456,"creation_date":1615410456,"answer_id":66572863,"question_id":66456062,"body_markdown":"Apologies for the delay in response. There was an issue with the application&#39;s configuration. Since you have two different functions in the application, you need to tell the framework which functions need to be activated. After adding the following configuration, I was able to run the application and then produce/consume the data.\r\n\r\n```\r\nspring.cloud.function.definition: orderCreated;processOrder\r\n```","title":"Can&#39;t produce and consume events to and from Kafka in same spring boot application","body":"<p>Apologies for the delay in response. There was an issue with the application's configuration. Since you have two different functions in the application, you need to tell the framework which functions need to be activated. After adding the following configuration, I was able to run the application and then produce/consume the data.</p>\n<pre><code>spring.cloud.function.definition: orderCreated;processOrder\n</code></pre>\n"}],"owner":{"account_id":1033346,"reputation":1,"user_id":6019760,"display_name":"Amol Joshi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":601,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673393938,"creation_date":1614770679,"question_id":66456062,"body_markdown":"1. Running Kafka on my local machine `localhost:9092`\r\n2. Created a topic `ProductOrders` with `Replica 1` and `Partition 3`\r\n3. Created a `spring-boot 2.4.3`, `spring-kafka 2.6.6` and `spring-cloud-stream 3.1.1` application with a POJO OrderEvent, OrderEventPublisher, and OrderEventConsumer\r\n45. Want to publish `OrderEvent` on the topic `ProductOrders` and consume `OrderEvent` from the topic `OrderEvent`\r\n5. Running the application, I can&#39;t see OrderEvent(s) being published or consumed through the application.  Also verified, even the `kafka-console-consumer` can&#39;t see the events.\r\n\r\n`application.yml`\r\n\r\n```\r\nspring:\r\n  cloud.stream:\r\n    bindings:\r\n      orderCreated-out-0:\r\n        destination: ProductOrders\r\n      processOrder-in-0:\r\n        destination: ProductOrders\r\n    kafka.streams.broker:\r\n      configuration:\r\n        commit.interval.ms: 1000\r\n        default.key.serde: org.apache.kafka.common.serialization.Serdes$StringSerde\r\n        default.value.serde: org.springframework.kafka.support.serializer.JsonSerde\r\n        spring.json.trusted.packages: &#39;*&#39;\r\n        spring.json.value.default.type: com.poc.kafka.orderanalytics.events.OrderEvent\r\n      brokers: localhost:9092\r\n      serdeError: logAndContinue\r\n\r\n  kafka:\r\n    bootstrap-servers: localhost:9092\r\n```\r\n\r\n`OrderEventPublisher.java`\r\n```\r\npublic class OrderEventPublisher {\r\n    @Bean\r\n    public Supplier&lt;OrderEvent&gt; orderCreated() {\r\n        log.info(&quot;Configuring Order Data&quot;);\r\n        Map&lt;String, String[]&gt; orders = new HashMap&lt;&gt;();\r\n        orders.put(&quot;home_appliances&quot;, new String[] {&quot;Toaster&quot;,&quot;Grill&quot;,&quot;Veg Cutter&quot;});\r\n        orders.put(&quot;gardening&quot;, new String[] {&quot;Coco Pit&quot;,&quot;Vermi Compost&quot;,&quot;Petunia Seeds&quot;});\r\n        orders.put(&quot;toys&quot;, new String[] {&quot;Dump Truck&quot;,&quot;Fighter Jet&quot;,&quot;Fire Truck&quot;});\r\n        orders.put(&quot;books&quot;, new String[] {&quot;Let Us C&quot;,&quot;Effective Java&quot;,&quot;Apache Kafka, complete guide&quot;});\r\n        orders.put(&quot;cloths&quot;, new String[] {&quot;T Shirt&quot;,&quot;Short&quot;,&quot;Vests&quot;});\r\n        return () -&gt; {\r\n            log.info(&quot;Creating order&quot;);\r\n            String category = (String) orders.keySet().toArray()[new Random().nextInt(orders.size())];\r\n            String name = orders.get(category)[new Random().nextInt(orders.get(category).length)];\r\n            OrderEvent orderEvent = new OrderEvent();\r\n            orderEvent.setCategory(category);\r\n            orderEvent.setName(name);\r\n            orderEvent.setQuantity(1);\r\n            return orderEvent;\r\n        };\r\n    }\r\n}\r\n```\r\n\r\n`OrderEventConsumer.java`\r\n```\r\npublic class OrderEventConsumer {\r\n    @Bean\r\n    public Consumer&lt;OrderEvent&gt; processOrder() {\r\n        log.info(&quot;Consuming the order&quot;);\r\n        return orderEvent -&gt; {\r\n          log.info(&quot;Order Consumed with category: {}, name: {}, qty: {}&quot;,orderEvent.getCategory(), orderEvent.getName(), orderEvent.getQuantity());\r\n        };\r\n    }\r\n}\r\n```\r\n\r\n**If I break producer and consumer into two different spring boot applications, all work as expected.  What could be the issue that it doesn&#39;t work when both producer and consumer exists in a single spring boot application?**","title":"Can&#39;t produce and consume events to and from Kafka in same spring boot application","body":"<ol>\n<li>Running Kafka on my local machine <code>localhost:9092</code></li>\n<li>Created a topic <code>ProductOrders</code> with <code>Replica 1</code> and <code>Partition 3</code></li>\n<li>Created a <code>spring-boot 2.4.3</code>, <code>spring-kafka 2.6.6</code> and <code>spring-cloud-stream 3.1.1</code> application with a POJO OrderEvent, OrderEventPublisher, and OrderEventConsumer</li>\n<li>Want to publish <code>OrderEvent</code> on the topic <code>ProductOrders</code> and consume <code>OrderEvent</code> from the topic <code>OrderEvent</code></li>\n<li>Running the application, I can't see OrderEvent(s) being published or consumed through the application.  Also verified, even the <code>kafka-console-consumer</code> can't see the events.</li>\n</ol>\n<p><code>application.yml</code></p>\n<pre><code>spring:\n  cloud.stream:\n    bindings:\n      orderCreated-out-0:\n        destination: ProductOrders\n      processOrder-in-0:\n        destination: ProductOrders\n    kafka.streams.broker:\n      configuration:\n        commit.interval.ms: 1000\n        default.key.serde: org.apache.kafka.common.serialization.Serdes$StringSerde\n        default.value.serde: org.springframework.kafka.support.serializer.JsonSerde\n        spring.json.trusted.packages: '*'\n        spring.json.value.default.type: com.poc.kafka.orderanalytics.events.OrderEvent\n      brokers: localhost:9092\n      serdeError: logAndContinue\n\n  kafka:\n    bootstrap-servers: localhost:9092\n</code></pre>\n<p><code>OrderEventPublisher.java</code></p>\n<pre><code>public class OrderEventPublisher {\n    @Bean\n    public Supplier&lt;OrderEvent&gt; orderCreated() {\n        log.info(&quot;Configuring Order Data&quot;);\n        Map&lt;String, String[]&gt; orders = new HashMap&lt;&gt;();\n        orders.put(&quot;home_appliances&quot;, new String[] {&quot;Toaster&quot;,&quot;Grill&quot;,&quot;Veg Cutter&quot;});\n        orders.put(&quot;gardening&quot;, new String[] {&quot;Coco Pit&quot;,&quot;Vermi Compost&quot;,&quot;Petunia Seeds&quot;});\n        orders.put(&quot;toys&quot;, new String[] {&quot;Dump Truck&quot;,&quot;Fighter Jet&quot;,&quot;Fire Truck&quot;});\n        orders.put(&quot;books&quot;, new String[] {&quot;Let Us C&quot;,&quot;Effective Java&quot;,&quot;Apache Kafka, complete guide&quot;});\n        orders.put(&quot;cloths&quot;, new String[] {&quot;T Shirt&quot;,&quot;Short&quot;,&quot;Vests&quot;});\n        return () -&gt; {\n            log.info(&quot;Creating order&quot;);\n            String category = (String) orders.keySet().toArray()[new Random().nextInt(orders.size())];\n            String name = orders.get(category)[new Random().nextInt(orders.get(category).length)];\n            OrderEvent orderEvent = new OrderEvent();\n            orderEvent.setCategory(category);\n            orderEvent.setName(name);\n            orderEvent.setQuantity(1);\n            return orderEvent;\n        };\n    }\n}\n</code></pre>\n<p><code>OrderEventConsumer.java</code></p>\n<pre><code>public class OrderEventConsumer {\n    @Bean\n    public Consumer&lt;OrderEvent&gt; processOrder() {\n        log.info(&quot;Consuming the order&quot;);\n        return orderEvent -&gt; {\n          log.info(&quot;Order Consumed with category: {}, name: {}, qty: {}&quot;,orderEvent.getCategory(), orderEvent.getName(), orderEvent.getQuantity());\n        };\n    }\n}\n</code></pre>\n<p><strong>If I break producer and consumer into two different spring boot applications, all work as expected.  What could be the issue that it doesn't work when both producer and consumer exists in a single spring boot application?</strong></p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1673392512,"post_id":75076791,"comment_id":132487792,"body_markdown":"The code you posted defines five `String` variables which consist of concatenated literals. There is no logic here.","body":"The code you posted defines five <code>String</code> variables which consist of concatenated literals. There is no logic here."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":2,"creation_date":1673393660,"post_id":75076791,"comment_id":132488018,"body_markdown":"The code and algorithm can be found at https://liveexample.pearsoncmg.com/html/GuessBirthday.html . Note there are 5 &quot;yes / no&quot; questions. That gives 32 distinct possibilities.","body":"The code and algorithm can be found at <a href=\"https://liveexample.pearsoncmg.com/html/GuessBirthday.html\" rel=\"nofollow noreferrer\">liveexample.pearsoncmg.com/html/GuessBirthday.html</a> . Note there are 5 &quot;yes / no&quot; questions. That gives 32 distinct possibilities."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1673394752,"post_id":75076791,"comment_id":132488193,"body_markdown":"A python version is at https://github.com/amandeepthakur/guessingBirthday/blob/master/birthdayGuessing.py","body":"A python version is at <a href=\"https://github.com/amandeepthakur/guessingBirthday/blob/master/birthdayGuessing.py\" rel=\"nofollow noreferrer\">github.com/amandeepthakur/guessingBirthday/blob/master/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1673393583,"creation_date":1673393583,"answer_id":75076927,"question_id":75076791,"body_markdown":"The algorithm is based on binary numbers notation.\r\n\r\n- By asking &quot;is the number contained in the first set?&quot; he displays all numbers that have the 2^0 bit set. Note the response.\r\n- By asking &quot;is the number contained in the second set?&quot; he displays all numbers that have the 2^1 bit set. Note the response.\r\n- By asking &quot;is the number contained in the third set?&quot; he displays all numbers that have the 2^2 bit set. Note the response.\r\n- By asking &quot;is the number contained in the fourth set?&quot; he displays all numbers that have the 2^3 bit set. Note the response.\r\n- By asking &quot;is the number contained in the fifth set?&quot; he displays all numbers that have the 2^4 bit set. Note the response.\r\n\r\nNow you have the responses indicating which bits are set in the birthday&#39;s binary number. Just convert the binary notation to decimal, and this can be done by simply summing up the first value of a set if the response was &#39;yes&#39;.\r\n\r\nIf you still struggle to understand, make the effort and write down all numbers from a set in decimal and binary and compare the patterns.","title":"how guessing a birthday works","body":"<p>The algorithm is based on binary numbers notation.</p>\n<ul>\n<li>By asking &quot;is the number contained in the first set?&quot; he displays all numbers that have the 2^0 bit set. Note the response.</li>\n<li>By asking &quot;is the number contained in the second set?&quot; he displays all numbers that have the 2^1 bit set. Note the response.</li>\n<li>By asking &quot;is the number contained in the third set?&quot; he displays all numbers that have the 2^2 bit set. Note the response.</li>\n<li>By asking &quot;is the number contained in the fourth set?&quot; he displays all numbers that have the 2^3 bit set. Note the response.</li>\n<li>By asking &quot;is the number contained in the fifth set?&quot; he displays all numbers that have the 2^4 bit set. Note the response.</li>\n</ul>\n<p>Now you have the responses indicating which bits are set in the birthday's binary number. Just convert the binary notation to decimal, and this can be done by simply summing up the first value of a set if the response was 'yes'.</p>\n<p>If you still struggle to understand, make the effort and write down all numbers from a set in decimal and binary and compare the patterns.</p>\n"}],"owner":{"account_id":9954945,"reputation":73,"user_id":7366237,"display_name":"Nader Abd Alhamed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1673394570,"accepted_answer_id":75076927,"answer_count":1,"score":-2,"last_activity_date":1673393583,"creation_date":1673392273,"question_id":75076791,"body_markdown":"I am reading an example in the &quot;Introduction to Java Programming&quot; by Y. Daniel Liang book\r\n\\*\\*wondering how this algorithm works behind the scene \\*\\*\r\n\r\n```\r\nString set1 = \r\n    &quot;  1  3  5  7\\n&quot; +\r\n    &quot;  9 11 13 15\\n&quot; +\r\n    &quot; 17 19 21 23\\n&quot; + \r\n    &quot; 25 27 29 31&quot;;\r\n\r\n    String set2 = \r\n    &quot;  2  3  6  7\\n&quot; +\r\n    &quot; 10 11 14 15\\n&quot; +\r\n    &quot; 18 19 22 23\\n&quot; + \r\n    &quot; 26 27 30 31&quot;;\r\n\r\n    String set3 = \r\n    &quot;  4  5  6  7\\n&quot; +\r\n    &quot; 12 13 14 15\\n&quot; +\r\n    &quot; 20 21 22 23\\n&quot; + \r\n    &quot; 28 29 30 31&quot;;\r\n\r\n    String set4 = \r\n    &quot;  8  9 10 11\\n&quot; +\r\n    &quot; 12 13 14 15\\n&quot; +\r\n    &quot; 24 25 26 27\\n&quot; + \r\n    &quot; 28 29 30 31&quot;;\r\n\r\n    String set5 = \r\n    &quot; 16 17 18 19\\n&quot; +\r\n    &quot; 20 21 22 23\\n&quot; +\r\n    &quot; 24 25 26 27\\n&quot; + \r\n    &quot; 28 29 30 31&quot;;\r\n```\r\n\r\nhe displays 5 sets , and if his birthday in this set he add the first number in the string , if not ignoring this set and continue to second set until reach set5 summing all first entry in the set if his birthday in the set\r\n\r\nI read the explanation and couldn&#39;t understand it , so Can anyone explain how it was done , and how this sets placed ?","title":"how guessing a birthday works","body":"<p>I am reading an example in the &quot;Introduction to Java Programming&quot; by Y. Daniel Liang book\n**wondering how this algorithm works behind the scene **</p>\n<pre><code>String set1 = \n    &quot;  1  3  5  7\\n&quot; +\n    &quot;  9 11 13 15\\n&quot; +\n    &quot; 17 19 21 23\\n&quot; + \n    &quot; 25 27 29 31&quot;;\n\n    String set2 = \n    &quot;  2  3  6  7\\n&quot; +\n    &quot; 10 11 14 15\\n&quot; +\n    &quot; 18 19 22 23\\n&quot; + \n    &quot; 26 27 30 31&quot;;\n\n    String set3 = \n    &quot;  4  5  6  7\\n&quot; +\n    &quot; 12 13 14 15\\n&quot; +\n    &quot; 20 21 22 23\\n&quot; + \n    &quot; 28 29 30 31&quot;;\n\n    String set4 = \n    &quot;  8  9 10 11\\n&quot; +\n    &quot; 12 13 14 15\\n&quot; +\n    &quot; 24 25 26 27\\n&quot; + \n    &quot; 28 29 30 31&quot;;\n\n    String set5 = \n    &quot; 16 17 18 19\\n&quot; +\n    &quot; 20 21 22 23\\n&quot; +\n    &quot; 24 25 26 27\\n&quot; + \n    &quot; 28 29 30 31&quot;;\n</code></pre>\n<p>he displays 5 sets , and if his birthday in this set he add the first number in the string , if not ignoring this set and continue to second set until reach set5 summing all first entry in the set if his birthday in the set</p>\n<p>I read the explanation and couldn't understand it , so Can anyone explain how it was done , and how this sets placed ?</p>\n"},{"tags":["java","android","junit","appium-android","aws-device-farm"],"comments":[{"owner":{"account_id":13915967,"reputation":637,"user_id":10047792,"display_name":"Tobe E"},"score":0,"creation_date":1624652737,"post_id":68063432,"comment_id":120426206,"body_markdown":"Do you have a relevant stack trace showcasing the issue? It&#39;s possible Google Play was not accessible during your test run.","body":"Do you have a relevant stack trace showcasing the issue? It&#39;s possible Google Play was not accessible during your test run."}],"answers":[{"comments":[{"owner":{"account_id":12712466,"reputation":6028,"user_id":9235649,"display_name":"Artur Kasprzak"},"score":0,"creation_date":1673256232,"post_id":69444734,"comment_id":132449053,"body_markdown":"The link is no longer working. Could you provide us with the answer in this thread or update the link?","body":"The link is no longer working. Could you provide us with the answer in this thread or update the link?"},{"owner":{"account_id":21570581,"reputation":119,"user_id":15903511,"display_name":"Jon Sims"},"score":1,"creation_date":1673391416,"post_id":69444734,"comment_id":132487601,"body_markdown":"Thanks for the heads up Artur. I have updated the link to https://github.com/aristeia/GoogleAccountSignInScript","body":"Thanks for the heads up Artur. I have updated the link to <a href=\"https://github.com/aristeia/GoogleAccountSignInScript\" rel=\"nofollow noreferrer\">github.com/aristeia/GoogleAccountSignInScript</a>"}],"tags":[],"owner":{"account_id":21570581,"reputation":119,"user_id":15903511,"display_name":"Jon Sims"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673391401,"creation_date":1633405998,"answer_id":69444734,"question_id":68063432,"body_markdown":"The problem is that you need to install your Google account onto Device Farm devices before downloading apps from the app store. I have developed sample code for doing both of these things (installing your account and downloading apps) here: https://github.com/aristeia/GoogleAccountSignInScript . Please give this a try and let me know your thoughts.\r\n\r\nThanks,\r\nJon","title":"Is it possible to install application from playstore in device farm?","body":"<p>The problem is that you need to install your Google account onto Device Farm devices before downloading apps from the app store. I have developed sample code for doing both of these things (installing your account and downloading apps) here: <a href=\"https://github.com/aristeia/GoogleAccountSignInScript\" rel=\"nofollow noreferrer\">https://github.com/aristeia/GoogleAccountSignInScript</a> . Please give this a try and let me know your thoughts.</p>\n<p>Thanks,\nJon</p>\n"}],"owner":{"account_id":5422434,"reputation":1373,"user_id":4315695,"display_name":"Jyubin Patel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":732,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673391401,"creation_date":1624257872,"question_id":68063432,"body_markdown":"\r\nI am using AppiumDriver to install android application on Amazon device farm.\r\nAnd i have tested this in real device and it&#39;s working perfectly fine but when I am putting same code into Device Farm at that time it want work. It want open play store application and get below error.\r\n\r\n&gt; Unable to create a new remote session. Original error: connect timed out Build info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:17:03&#39; System info: host: &#39;ip-172-31-13-65&#39;, ip: &#39;172.31.13.65&#39;, os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;3.13.0-139-generic&#39;, java.version: &#39;1.8.0_151&#39; Driver info: driver.version: AndroidDriver\r\nTests failed\r\n\r\nPlease check below code for it.\r\n\r\n    @Before\r\n\tpublic void setup() throws MalformedURLException {\r\n        DesiredCapabilities desiredCapabilities = new DesiredCapabilities();\r\n\t\tdesiredCapabilities.setCapability(MobileCapabilityType.UDID, &quot;FA8351A00767&quot;);\r\n\t\tdesiredCapabilities.setCapability(MobileCapabilityType.DEVICE_NAME, &quot;Google Pixel 2&quot;);\r\n\t\tdesiredCapabilities.setCapability(MobileCapabilityType.PLATFORM_VERSION, &quot;9&quot;);\r\n\t\tdesiredCapabilities.setCapability(MobileCapabilityType.PLATFORM_NAME, &quot;Android&quot;);\r\n\t\tdesiredCapabilities.setCapability(MobileCapabilityType.NO_RESET, true);\r\n\t\tdriver = new AndroidDriver(new URL(&quot;http://0.0.0.0:4723/wd/hub&quot;), desiredCapabilities);\r\n\t\tif (!isShopperAppAvailable()) {\r\n\t\t\tdesiredCapabilities.setCapability(AndroidMobileCapabilityType.APP_PACKAGE, &quot;com.android.vending&quot;);\r\n\t\t\tdesiredCapabilities.setCapability(AndroidMobileCapabilityType.APP_ACTIVITY,\r\n\t\t\t\t\t&quot;com.google.android.finsky.activities.MainActivity&quot;);\r\n\t\t} else {\r\n\t\t\tdesiredCapabilities.setCapability(AndroidMobileCapabilityType.APP_PACKAGE, &quot;your application package&quot;);\r\n\t\t\tdesiredCapabilities.setCapability(AndroidMobileCapabilityType.APP_ACTIVITY,\r\n\t\t\t\t\t&quot;your app&#39;s launcher activity&quot;);\r\n\t\t}\r\n\t\tdriver = new AndroidDriver(new URL(&quot;http://0.0.0.0:4723/wd/hub&quot;), desiredCapabilities);\r\n     }\r\n\r\n    public boolean isShopperAppAvailable() {\r\n\t\tboolean isShopperAppAvailable = false;\r\n\t\tif (driver != null) {\r\n\t\t\tisShopperAppAvailable = driver.isAppInstalled(&quot;your application package&quot;);\r\n\t\t}\r\n\t\treturn isShopperAppAvailable;\r\n\t}\r\n\r\n    @Test\r\n\tpublic void testGooglePlayApp() throws InterruptedException {\r\n\t\tif (!isShopperAppAvailable()) {\r\n\t\t\tString appName = &quot;Search your application&quot;;\r\n\t\t\tdriver.findElementById(&quot;com.android.vending:id/0_resource_name_obfuscated&quot;).click();\r\n\t\t\tThread.sleep(500);\r\n\t\t\tdriver.findElementByXPath(\r\n\t\t\t\t\t&quot;/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.FrameLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.widget.FrameLayout/android.widget.FrameLayout[2]/android.widget.FrameLayout/android.view.ViewGroup/android.widget.LinearLayout/android.widget.EditText&quot;)\r\n\t\t\t\t\t.sendKeys(appName);\r\n\t\t\tThread.sleep(500);\r\n\t\t\tdriver.findElement(By.xpath(\r\n\t\t\t\t\t&quot;/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.FrameLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.widget.FrameLayout/android.widget.FrameLayout[1]/android.widget.FrameLayout/android.widget.FrameLayout/android.widget.FrameLayout[2]/android.support.v7.widget.RecyclerView/android.widget.LinearLayout&quot;))\r\n\t\t\t\t\t.click();\r\n\t\t\tThread.sleep(500);\r\n\t\t\tMobileElement installButton = (MobileElement) driver.findElementByXPath(\r\n\t\t\t\t\t&quot;/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.FrameLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.widget.FrameLayout/android.widget.FrameLayout[1]/android.widget.FrameLayout/android.widget.FrameLayout/android.support.v7.widget.RecyclerView/android.widget.FrameLayout[1]/android.widget.LinearLayout/android.widget.FrameLayout/android.view.ViewGroup/android.widget.Button&quot;);\r\n\t\t\tinstallButton.click();\r\n\t\t\tThread.sleep(10000);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;open your app and do something&quot;);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t@After\r\n\tpublic void tearDown() {\r\n\t\tif (driver != null) {\r\n\t\t\tdriver.quit();\r\n\t\t}\r\n\t}\r\n\r\n\r\n ","title":"Is it possible to install application from playstore in device farm?","body":"<p>I am using AppiumDriver to install android application on Amazon device farm.\nAnd i have tested this in real device and it's working perfectly fine but when I am putting same code into Device Farm at that time it want work. It want open play store application and get below error.</p>\n<blockquote>\n<p>Unable to create a new remote session. Original error: connect timed out Build info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03' System info: host: 'ip-172-31-13-65', ip: '172.31.13.65', os.name: 'Linux', os.arch: 'amd64', os.version: '3.13.0-139-generic', java.version: '1.8.0_151' Driver info: driver.version: AndroidDriver\nTests failed</p>\n</blockquote>\n<p>Please check below code for it.</p>\n<pre><code>@Before\npublic void setup() throws MalformedURLException {\n    DesiredCapabilities desiredCapabilities = new DesiredCapabilities();\n    desiredCapabilities.setCapability(MobileCapabilityType.UDID, &quot;FA8351A00767&quot;);\n    desiredCapabilities.setCapability(MobileCapabilityType.DEVICE_NAME, &quot;Google Pixel 2&quot;);\n    desiredCapabilities.setCapability(MobileCapabilityType.PLATFORM_VERSION, &quot;9&quot;);\n    desiredCapabilities.setCapability(MobileCapabilityType.PLATFORM_NAME, &quot;Android&quot;);\n    desiredCapabilities.setCapability(MobileCapabilityType.NO_RESET, true);\n    driver = new AndroidDriver(new URL(&quot;http://0.0.0.0:4723/wd/hub&quot;), desiredCapabilities);\n    if (!isShopperAppAvailable()) {\n        desiredCapabilities.setCapability(AndroidMobileCapabilityType.APP_PACKAGE, &quot;com.android.vending&quot;);\n        desiredCapabilities.setCapability(AndroidMobileCapabilityType.APP_ACTIVITY,\n                &quot;com.google.android.finsky.activities.MainActivity&quot;);\n    } else {\n        desiredCapabilities.setCapability(AndroidMobileCapabilityType.APP_PACKAGE, &quot;your application package&quot;);\n        desiredCapabilities.setCapability(AndroidMobileCapabilityType.APP_ACTIVITY,\n                &quot;your app's launcher activity&quot;);\n    }\n    driver = new AndroidDriver(new URL(&quot;http://0.0.0.0:4723/wd/hub&quot;), desiredCapabilities);\n }\n\npublic boolean isShopperAppAvailable() {\n    boolean isShopperAppAvailable = false;\n    if (driver != null) {\n        isShopperAppAvailable = driver.isAppInstalled(&quot;your application package&quot;);\n    }\n    return isShopperAppAvailable;\n}\n\n@Test\npublic void testGooglePlayApp() throws InterruptedException {\n    if (!isShopperAppAvailable()) {\n        String appName = &quot;Search your application&quot;;\n        driver.findElementById(&quot;com.android.vending:id/0_resource_name_obfuscated&quot;).click();\n        Thread.sleep(500);\n        driver.findElementByXPath(\n                &quot;/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.FrameLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.widget.FrameLayout/android.widget.FrameLayout[2]/android.widget.FrameLayout/android.view.ViewGroup/android.widget.LinearLayout/android.widget.EditText&quot;)\n                .sendKeys(appName);\n        Thread.sleep(500);\n        driver.findElement(By.xpath(\n                &quot;/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.FrameLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.widget.FrameLayout/android.widget.FrameLayout[1]/android.widget.FrameLayout/android.widget.FrameLayout/android.widget.FrameLayout[2]/android.support.v7.widget.RecyclerView/android.widget.LinearLayout&quot;))\n                .click();\n        Thread.sleep(500);\n        MobileElement installButton = (MobileElement) driver.findElementByXPath(\n                &quot;/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.FrameLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.widget.FrameLayout/android.widget.FrameLayout[1]/android.widget.FrameLayout/android.widget.FrameLayout/android.support.v7.widget.RecyclerView/android.widget.FrameLayout[1]/android.widget.LinearLayout/android.widget.FrameLayout/android.view.ViewGroup/android.widget.Button&quot;);\n        installButton.click();\n        Thread.sleep(10000);\n    } else {\n        System.out.println(&quot;open your app and do something&quot;);\n    }\n\n}\n\n@After\npublic void tearDown() {\n    if (driver != null) {\n        driver.quit();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","notifications"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1673391344,"post_id":75076622,"comment_id":132487585,"body_markdown":"If you&#39;re using geofencing to notify of when you&#39;re close (please tell me you&#39;re not using normal location updates for this) this is all handled for you.  It notifies a BroadcastReceiver, which can put up a notification  https://developer.android.com/training/location/geofencing","body":"If you&#39;re using geofencing to notify of when you&#39;re close (please tell me you&#39;re not using normal location updates for this) this is all handled for you.  It notifies a BroadcastReceiver, which can put up a notification  <a href=\"https://developer.android.com/training/location/geofencing\" rel=\"nofollow noreferrer\">developer.android.com/training/location/geofencing</a>"},{"owner":{"account_id":27493273,"reputation":1,"user_id":20978205,"display_name":"preno1221"},"score":0,"creation_date":1673392438,"post_id":75076622,"comment_id":132487772,"body_markdown":"hmm im not yet using anything to notify when a user is close... but this seems interesting.\nI haven&#39;t using geofencing yet (i have a feature in my app to get the current location, which uses normal location upadtes...) but I&#39;ll try to use it now with notifications. Many thanks.","body":"hmm im not yet using anything to notify when a user is close... but this seems interesting. I haven&#39;t using geofencing yet (i have a feature in my app to get the current location, which uses normal location upadtes...) but I&#39;ll try to use it now with notifications. Many thanks."},{"owner":{"account_id":27493273,"reputation":1,"user_id":20978205,"display_name":"preno1221"},"score":0,"creation_date":1673393547,"post_id":75076622,"comment_id":132487992,"body_markdown":"Wait, will this also work when the app is closed?\nHow can I make it so?\nDo i still need to use a service?","body":"Wait, will this also work when the app is closed? How can I make it so? Do i still need to use a service?"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1673413969,"post_id":75076622,"comment_id":132490882,"body_markdown":"You just register for a geofence.  That&#39;s all.  The system will wake you up and call your BroadcastReceiver when needed.","body":"You just register for a geofence.  That&#39;s all.  The system will wake you up and call your BroadcastReceiver when needed."},{"owner":{"account_id":27493273,"reputation":1,"user_id":20978205,"display_name":"preno1221"},"score":0,"creation_date":1673427940,"post_id":75076622,"comment_id":132494375,"body_markdown":"Will the broadcast receiver work even if the app is closed? all I have to for example, is register geofences for location the user adds?","body":"Will the broadcast receiver work even if the app is closed? all I have to for example, is register geofences for location the user adds?"},{"owner":{"account_id":27493273,"reputation":1,"user_id":20978205,"display_name":"preno1221"},"score":0,"creation_date":1673428052,"post_id":75076622,"comment_id":132494411,"body_markdown":"Im storing the locations in the database. If the user deletes a location i guess I have to &quot;deregister&quot; the geofence as well? Im sorry for asking so much question - but im not quite sure :( - can you link me to some kind of basic tutorial? Thr android developer&#39;s one is kinda messy and I didnt find any other good ones....","body":"Im storing the locations in the database. If the user deletes a location i guess I have to &quot;deregister&quot; the geofence as well? Im sorry for asking so much question - but im not quite sure :( - can you link me to some kind of basic tutorial? Thr android developer&#39;s one is kinda messy and I didnt find any other good ones...."}],"owner":{"account_id":27493273,"reputation":1,"user_id":20978205,"display_name":"preno1221"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673390819,"creation_date":1673390819,"question_id":75076622,"body_markdown":"Im making a reminder app that&#39;s based on location.\r\nOne of it&#39;s main features is to send the user a notification when he is close to one of the locations he set.\r\n\r\nI&#39;ve tried and searched the web, but still couldn&#39;t find a way to send a notification - when the app is closed (e.g. the user force closed it (not force stopped!)).\r\n\r\nI&#39;ve come across the idea of `foreground service` - which isn&#39;t bad, but has one problem - it HAS to send a notification when it is started.\r\n\r\nI want the notifications to be like most apps&#39; notification - for example, instagram just sends a notification that a message has been received. There&#39;s no notification saying that a service has started.\r\n\r\nIf someone knows a way - please, tell me. I&#39;m lost :)\r\n\r\nIm sorry for not including code. Everything i&#39;ve tried so far isn&#39;t relevant - I need ideas.","title":"How to send notification when the app is closed? (android java)","body":"<p>Im making a reminder app that's based on location.\nOne of it's main features is to send the user a notification when he is close to one of the locations he set.</p>\n<p>I've tried and searched the web, but still couldn't find a way to send a notification - when the app is closed (e.g. the user force closed it (not force stopped!)).</p>\n<p>I've come across the idea of <code>foreground service</code> - which isn't bad, but has one problem - it HAS to send a notification when it is started.</p>\n<p>I want the notifications to be like most apps' notification - for example, instagram just sends a notification that a message has been received. There's no notification saying that a service has started.</p>\n<p>If someone knows a way - please, tell me. I'm lost :)</p>\n<p>Im sorry for not including code. Everything i've tried so far isn't relevant - I need ideas.</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1397052183,"post_id":22964789,"comment_id":35064644,"body_markdown":"Which is basically what you want, from a security perspective. You don&#39;t want to tell the user that the **username** doesn&#39;t exist. A hacker then goes on to the next username, until he gets a different message (that the password was wrong) he will then start hacking the password.","body":"Which is basically what you want, from a security perspective. You don&#39;t want to tell the user that the <b>username</b> doesn&#39;t exist. A hacker then goes on to the next username, until he gets a different message (that the password was wrong) he will then start hacking the password."},{"owner":{"account_id":2010611,"reputation":1199,"user_id":1799129,"accept_rate":86,"display_name":"Gonz"},"score":0,"creation_date":1397052627,"post_id":22964789,"comment_id":35064992,"body_markdown":"Yeah, I get what you mean, but this is business logic, like for example the credentials are OK, but the password expired,  or user is not yet active. The user should see those messages.","body":"Yeah, I get what you mean, but this is business logic, like for example the credentials are OK, but the password expired,  or user is not yet active. The user should see those messages."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1397053319,"post_id":22964789,"comment_id":35065609,"body_markdown":"Please elaborate in your question as currently it is unclear what you want. Your comment and question don&#39;t relate as you are talking about a `UsernameNotFoundException` which has no relation to expired credentials of not active users.","body":"Please elaborate in your question as currently it is unclear what you want. Your comment and question don&#39;t relate as you are talking about a <code>UsernameNotFoundException</code> which has no relation to expired credentials of not active users."},{"owner":{"account_id":2010611,"reputation":1199,"user_id":1799129,"accept_rate":86,"display_name":"Gonz"},"score":0,"creation_date":1397053930,"post_id":22964789,"comment_id":35066075,"body_markdown":"The firm of the method throws the `UsernameNotFoundException`. Here is it:\n`org.springframework.security.userdetails.UserDetails loadUserByUsername(java.lang.String s) throws org.springframework.security.userdetails.UsernameNotFoundException, org.springframework.dao.DataAccessException;`\nBut I will try to clarify the question!","body":"The firm of the method throws the <code>UsernameNotFoundException</code>. Here is it: <code>org.springframework.security.userdetails.UserDetails loadUserByUsername(java.lang.String s) throws org.springframework.security.userdetails.UsernameNotFoundExc&zwnj;&#8203;eption, org.springframework.dao.DataAccessException;</code> But I will try to clarify the question!"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1397109434,"post_id":22964789,"comment_id":35091539,"body_markdown":"Spring will always display a &#39;Bad Credentials&#39; it will not give more information. You can check how the exception is handled in the `ExceptionTranslationFilter` and the other components it uses (like an  `EntryPoint` etc.).","body":"Spring will always display a &#39;Bad Credentials&#39; it will not give more information. You can check how the exception is handled in the <code>ExceptionTranslationFilter</code> and the other components it uses (like an  <code>EntryPoint</code> etc.)."}],"answers":[{"tags":[],"owner":{"account_id":2010611,"reputation":1199,"user_id":1799129,"accept_rate":86,"display_name":"Gonz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1429669125,"creation_date":1429669125,"answer_id":29786573,"question_id":22964789,"body_markdown":"Just to close it. As @M. Deinum mentioned in the comments. Spring handle this way for security purposes. The implementation can be seen in the [ExceptionTranslationFilter][1] class.\r\n\r\n\r\n  [1]: http://grepcode.com/file/repo1.maven.org/maven2/org.springframework.security/spring-security-web/3.0.2.RELEASE/org/springframework/security/web/access/ExceptionTranslationFilter.java","title":"Custom messages in Spring security with UserDetailsService implementation and Exceptions","body":"<p>Just to close it. As @M. Deinum mentioned in the comments. Spring handle this way for security purposes. The implementation can be seen in the <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/org.springframework.security/spring-security-web/3.0.2.RELEASE/org/springframework/security/web/access/ExceptionTranslationFilter.java\" rel=\"nofollow\">ExceptionTranslationFilter</a> class.</p>\n"},{"tags":[],"owner":{"account_id":1477140,"reputation":1906,"user_id":1387275,"accept_rate":100,"display_name":"Shessuky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673390811,"creation_date":1662648157,"answer_id":73650965,"question_id":22964789,"body_markdown":"That problem was nagging me for a while before finding an efficient &amp; easy solution.\r\n\r\nThe issue was resolved by using a custom AuthenticationFailureHandler (that is added to HttpSecurity configuration) to get the custom error message from UserDetailsService before sending it back to login page as error parameter \r\n\r\nThe custom AuthenticationFailureHandler is defined like following:\r\n\r\n    @Component(&quot;CustomAuthenticationFailureHandler&quot;)\r\n    public class CustomAuthenticationFailureHandler implements AuthenticationFailureHandler {\r\n    \r\n        private RedirectStrategy redirectStrategy = new DefaultRedirectStrategy();\r\n    \r\n        @Override\r\n        public void onAuthenticationFailure(HttpServletRequest request, HttpServletResponse response,\r\n                AuthenticationException exception) throws IOException, ServletException {\r\n            String encodedErrorMessage = null;\r\n    \t\t// Get AuthenticationException that was thrown in UserDetailsService, retrieve the error message and attach it as encoded error parameter of the error login page\r\n            if (exception != null) {\r\n                String errorMessage = exception.getMessage();\r\n                encodedErrorMessage = Base64.getUrlEncoder().encodeToString(errorMessage.getBytes());\r\n            }\r\n            redirectStrategy.sendRedirect(request, response, &quot;/login?error=&quot; + encodedErrorMessage);\r\n        }\r\n    }\r\n\r\nThen the CustomAuthenticationFailureHandler is configured in WebSecurityConfigurerAdapter (also the configureGlobal is updated) as following:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n        \r\n\t\t@Autowired\r\n        private UserDetailsService userDetailsService;\r\n\r\n        @Autowired\r\n        CustomAuthenticationFailureHandler customAuthenticationFailureHandler;\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.authorizeRequests().anyRequest().authenticated()\r\n                    .and().formLogin().loginPage(&quot;/login&quot;).permitAll()\r\n                    .failureHandler(customAuthenticationFailureHandler) // Add failure handler class\r\n    \t\t// ...\r\n\t\t\t// ...\r\n        }\r\n\t\t\r\n        @Autowired\r\n        public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.authenticationProvider(authProvider());\r\n        }\r\n        \r\n        @Bean\r\n        public BCryptPasswordEncoder bCryptPasswordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n\r\n        public AuthenticationProvider authProvider() {\r\n            DaoAuthenticationProvider impl = new DaoAuthenticationProvider();\r\n            impl.setUserDetailsService(userDetailsService);\r\n            impl.setPasswordEncoder(bCryptPasswordEncoder());\r\n\t\t\t// setHideUserNotFoundExceptions is set to false in order to get the exceptions CustomAuthenticationFailureHandler  \r\n            impl.setHideUserNotFoundExceptions(false);\r\n            return impl;\r\n        }\r\n    }\r\n\r\nThe exceptions related to user account (UsernameNotFoundException) are always thrown in UserDetailsService interface:\r\n\r\n    @Service\r\n    public class UserDetailsServiceImpl implements UserDetailsService{\r\n        private UserDetails getUserByUsername(String username) {\r\n            UserDTO userDTO = userService.findByUsername(username);\r\n            if (userDTO == null) {\r\n    \t\t    // Custom error message when no account was found by the given username \r\n                throw new UsernameNotFoundException(&quot;No user account was found by the username [&quot; + username + &quot;]&quot;);\r\n            }\r\n            Date expirationDate = userDTO.getExpirationDate();\r\n            if(expirationDate != null) {\r\n                if(expirationDate.before(new Date())) {\r\n    \t\t\t    // Custom error message when the account is expired \r\n                    throw new UsernameNotFoundException(&quot;The user account [&quot; + username + &quot;] is expired&quot;);\r\n                }\r\n            }\r\n    \t\t// Can add more UsernameNotFoundException with custom messages based on functional requirements\r\n    \t\t// ...\r\n            List&lt;GrantedAuthority&gt; grantedAuthorities = getGrantedAutorities(userDTO);\r\n            return new org.springframework.security.core.userdetails.User(userDTO.getUsername(), userDTO.getPassword(), grantedAuthorities);\r\n        }\r\n    }\r\n\r\nThe exceptions are handled in CustomAuthenticationFailureHandler in order to send the custom error messages (encoded using Base64) like following :\r\n\r\n    @Component(&quot;CustomAuthenticationFailureHandler&quot;)\r\n    public class CustomAuthenticationFailureHandler implements AuthenticationFailureHandler {\r\n    \r\n        private RedirectStrategy redirectStrategy = new DefaultRedirectStrategy();\r\n    \r\n        @Override\r\n        public void onAuthenticationFailure(HttpServletRequest request, HttpServletResponse response,\r\n                AuthenticationException exception) throws IOException, ServletException {\r\n            String encodedErrorMessage = null;\r\n    \t\t// Get AuthenticationException that was thrown in UserDetailsService, retrieve the error message and attach it as encoded error parameter of the error login page\r\n            if (exception != null) {\r\n                String errorMessage = exception.getMessage();\r\n                encodedErrorMessage = Base64.getUrlEncoder().encodeToString(errorMessage.getBytes());\r\n            }\r\n            redirectStrategy.sendRedirect(request, response, &quot;/login?error=&quot; + encodedErrorMessage);\r\n        }\r\n    }\r\n\r\nThen the error message is retrieved in the Controller like following:\r\n\r\n    @GetMapping(value = {&quot;/login&quot;, &quot;/&quot;})\r\n    public String login(Model model, @RequestParam(name=&quot;error&quot;, required = false) String error) {\r\n        if (error != null) {\r\n            byte[] decodedBytes = Base64.getDecoder().decode(error);\r\n            String decodedString = new String(decodedBytes);\r\n            model.addAttribute(&quot;error&quot;, decodedString);\r\n        }\r\n   \r\n        return &quot;login&quot;;\r\n    }\r\n","title":"Custom messages in Spring security with UserDetailsService implementation and Exceptions","body":"<p>That problem was nagging me for a while before finding an efficient &amp; easy solution.</p>\n<p>The issue was resolved by using a custom AuthenticationFailureHandler (that is added to HttpSecurity configuration) to get the custom error message from UserDetailsService before sending it back to login page as error parameter</p>\n<p>The custom AuthenticationFailureHandler is defined like following:</p>\n<pre><code>@Component(&quot;CustomAuthenticationFailureHandler&quot;)\npublic class CustomAuthenticationFailureHandler implements AuthenticationFailureHandler {\n\n    private RedirectStrategy redirectStrategy = new DefaultRedirectStrategy();\n\n    @Override\n    public void onAuthenticationFailure(HttpServletRequest request, HttpServletResponse response,\n            AuthenticationException exception) throws IOException, ServletException {\n        String encodedErrorMessage = null;\n        // Get AuthenticationException that was thrown in UserDetailsService, retrieve the error message and attach it as encoded error parameter of the error login page\n        if (exception != null) {\n            String errorMessage = exception.getMessage();\n            encodedErrorMessage = Base64.getUrlEncoder().encodeToString(errorMessage.getBytes());\n        }\n        redirectStrategy.sendRedirect(request, response, &quot;/login?error=&quot; + encodedErrorMessage);\n    }\n}\n</code></pre>\n<p>Then the CustomAuthenticationFailureHandler is configured in WebSecurityConfigurerAdapter (also the configureGlobal is updated) as following:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n    \n    @Autowired\n    private UserDetailsService userDetailsService;\n\n    @Autowired\n    CustomAuthenticationFailureHandler customAuthenticationFailureHandler;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests().anyRequest().authenticated()\n                .and().formLogin().loginPage(&quot;/login&quot;).permitAll()\n                .failureHandler(customAuthenticationFailureHandler) // Add failure handler class\n        // ...\n        // ...\n    }\n    \n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(authProvider());\n    }\n    \n    @Bean\n    public BCryptPasswordEncoder bCryptPasswordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    public AuthenticationProvider authProvider() {\n        DaoAuthenticationProvider impl = new DaoAuthenticationProvider();\n        impl.setUserDetailsService(userDetailsService);\n        impl.setPasswordEncoder(bCryptPasswordEncoder());\n        // setHideUserNotFoundExceptions is set to false in order to get the exceptions CustomAuthenticationFailureHandler  \n        impl.setHideUserNotFoundExceptions(false);\n        return impl;\n    }\n}\n</code></pre>\n<p>The exceptions related to user account (UsernameNotFoundException) are always thrown in UserDetailsService interface:</p>\n<pre><code>@Service\npublic class UserDetailsServiceImpl implements UserDetailsService{\n    private UserDetails getUserByUsername(String username) {\n        UserDTO userDTO = userService.findByUsername(username);\n        if (userDTO == null) {\n            // Custom error message when no account was found by the given username \n            throw new UsernameNotFoundException(&quot;No user account was found by the username [&quot; + username + &quot;]&quot;);\n        }\n        Date expirationDate = userDTO.getExpirationDate();\n        if(expirationDate != null) {\n            if(expirationDate.before(new Date())) {\n                // Custom error message when the account is expired \n                throw new UsernameNotFoundException(&quot;The user account [&quot; + username + &quot;] is expired&quot;);\n            }\n        }\n        // Can add more UsernameNotFoundException with custom messages based on functional requirements\n        // ...\n        List&lt;GrantedAuthority&gt; grantedAuthorities = getGrantedAutorities(userDTO);\n        return new org.springframework.security.core.userdetails.User(userDTO.getUsername(), userDTO.getPassword(), grantedAuthorities);\n    }\n}\n</code></pre>\n<p>The exceptions are handled in CustomAuthenticationFailureHandler in order to send the custom error messages (encoded using Base64) like following :</p>\n<pre><code>@Component(&quot;CustomAuthenticationFailureHandler&quot;)\npublic class CustomAuthenticationFailureHandler implements AuthenticationFailureHandler {\n\n    private RedirectStrategy redirectStrategy = new DefaultRedirectStrategy();\n\n    @Override\n    public void onAuthenticationFailure(HttpServletRequest request, HttpServletResponse response,\n            AuthenticationException exception) throws IOException, ServletException {\n        String encodedErrorMessage = null;\n        // Get AuthenticationException that was thrown in UserDetailsService, retrieve the error message and attach it as encoded error parameter of the error login page\n        if (exception != null) {\n            String errorMessage = exception.getMessage();\n            encodedErrorMessage = Base64.getUrlEncoder().encodeToString(errorMessage.getBytes());\n        }\n        redirectStrategy.sendRedirect(request, response, &quot;/login?error=&quot; + encodedErrorMessage);\n    }\n}\n</code></pre>\n<p>Then the error message is retrieved in the Controller like following:</p>\n<pre><code>@GetMapping(value = {&quot;/login&quot;, &quot;/&quot;})\npublic String login(Model model, @RequestParam(name=&quot;error&quot;, required = false) String error) {\n    if (error != null) {\n        byte[] decodedBytes = Base64.getDecoder().decode(error);\n        String decodedString = new String(decodedBytes);\n        model.addAttribute(&quot;error&quot;, decodedString);\n    }\n\n    return &quot;login&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":2010611,"reputation":1199,"user_id":1799129,"accept_rate":86,"display_name":"Gonz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1757,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":29786573,"answer_count":2,"score":2,"last_activity_date":1673390811,"creation_date":1397051611,"question_id":22964789,"body_markdown":"I&#39;m working with Spring Security 2.0.7. It had been implemented the `UserDetailsService`  with a `preAuthenticatedUserDetailsService` bean.\r\n\r\nIt&#39;s working fine. Now I want to add a new custom error messages. \r\nIn the method `loadUserByUsername` I want to add some custom bussines logic.\r\nFor ex. based on some attribute, I don&#39;t want the user to log in so I throw a `UsernameNotFoundException` with a custom message. \r\n\r\nSpring is the one who handdle the exception and set it to the session, but when I retrive the exception from the session with &quot;SPRING_SECURITY_LAST_EXCEPTION&quot; key I get a &quot;Bad credentials&quot; message.\r\n\r\nAt the moment is fixed with a nasty workarround, mostly I want to understand what happend!\r\n\r\nIdeas?\r\n\r\nPs. I read a lot of this issue here in SO but mostly all with Spring security 3.0","title":"Custom messages in Spring security with UserDetailsService implementation and Exceptions","body":"<p>I'm working with Spring Security 2.0.7. It had been implemented the <code>UserDetailsService</code>  with a <code>preAuthenticatedUserDetailsService</code> bean.</p>\n\n<p>It's working fine. Now I want to add a new custom error messages. \nIn the method <code>loadUserByUsername</code> I want to add some custom bussines logic.\nFor ex. based on some attribute, I don't want the user to log in so I throw a <code>UsernameNotFoundException</code> with a custom message. </p>\n\n<p>Spring is the one who handdle the exception and set it to the session, but when I retrive the exception from the session with \"SPRING_SECURITY_LAST_EXCEPTION\" key I get a \"Bad credentials\" message.</p>\n\n<p>At the moment is fixed with a nasty workarround, mostly I want to understand what happend!</p>\n\n<p>Ideas?</p>\n\n<p>Ps. I read a lot of this issue here in SO but mostly all with Spring security 3.0</p>\n"},{"tags":["java","swing","jfilechooser","filechooser"],"answers":[{"comments":[{"owner":{"account_id":17780988,"reputation":307,"user_id":12912189,"display_name":"Geo Tech"},"score":0,"creation_date":1589883992,"post_id":61886326,"comment_id":109463290,"body_markdown":"When I use this, it&#39;s appear that save a file. But actually it&#39;s save only temporally file in root  file","body":"When I use this, it&#39;s appear that save a file. But actually it&#39;s save only temporally file in root  file"},{"owner":{"account_id":18469543,"reputation":76,"user_id":13454816,"display_name":"omido"},"score":0,"creation_date":1589889807,"post_id":61886326,"comment_id":109466429,"body_markdown":"@GeoTech `getSelecteFile()`should return the value you need. I&#39;ve updated my answer to clarify this, or do I miss something? What do you mean with &#39;temporally file in the root file&#39;?","body":"@GeoTech <code>getSelecteFile()</code>should return the value you need. I&#39;ve updated my answer to clarify this, or do I miss something? What do you mean with &#39;temporally file in the root file&#39;?"},{"owner":{"account_id":17780988,"reputation":307,"user_id":12912189,"display_name":"Geo Tech"},"score":0,"creation_date":1589892104,"post_id":61886326,"comment_id":109467751,"body_markdown":"It&#39;s save file named &quot;Supplier Details Report.pdf&quot; in my root folder.And update every time when  save a file.","body":"It&#39;s save file named &quot;Supplier Details Report.pdf&quot; in my root folder.And update every time when  save a file."},{"owner":{"account_id":18469543,"reputation":76,"user_id":13454816,"display_name":"omido"},"score":0,"creation_date":1589892593,"post_id":61886326,"comment_id":109468042,"body_markdown":"Do you pass the `File` from `getSelectedFile()` into the `FileOutputStream`? (There was an typo in my code. Should be fileToSave instead of file)","body":"Do you pass the <code>File</code> from <code>getSelectedFile()</code> into the <code>FileOutputStream</code>? (There was an typo in my code. Should be fileToSave instead of file)"}],"tags":[],"owner":{"account_id":18469543,"reputation":76,"user_id":13454816,"display_name":"omido"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673389949,"creation_date":1589876264,"answer_id":61886326,"question_id":61885015,"body_markdown":"As I see in your code you&#39;re using Swing.\r\nYou can use the [JFileChooser][1] class.\r\nIt has some basic file chooser layouts. One of them is a save dialog.\r\n\r\n        JFrame parentComponent = new JFrame();\r\n        JFileChooser fileChooser= new JFileChooser();\r\n        // Some init code, if you need one, like setting title\r\n        int returnVal = fileChooser.showOpenDialog(parentComponent)\r\n        if ( returnVal == JFileChooser.APPROVE_OPTION) {\r\n            File fileToSave = fileChooser.getSelectedFile();\r\n            try{\r\n                Document document = new Document();//library: itextpdf\r\n                PdfWriter writer =PdfWriter.getInstance(document, new FileOutputStream(fileToSave ));\r\n                document.open();\r\n                //code for generate pdf\r\n                document.close();\r\n                JOptionPane.showMessageDialog(null, &quot;PDF Saved&quot;);\r\n            }\r\n            catch(Exception e){\r\n                JOptionPane.showMessageDialog(null, e);\r\n            }\r\n        }\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/javax/swing/JFileChooser.html","title":"How to allow the user to choose save location and filename","body":"<p>As I see in your code you're using Swing.\nYou can use the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/javax/swing/JFileChooser.html\" rel=\"nofollow noreferrer\">JFileChooser</a> class.\nIt has some basic file chooser layouts. One of them is a save dialog.</p>\n<pre><code>    JFrame parentComponent = new JFrame();\n    JFileChooser fileChooser= new JFileChooser();\n    // Some init code, if you need one, like setting title\n    int returnVal = fileChooser.showOpenDialog(parentComponent)\n    if ( returnVal == JFileChooser.APPROVE_OPTION) {\n        File fileToSave = fileChooser.getSelectedFile();\n        try{\n            Document document = new Document();//library: itextpdf\n            PdfWriter writer =PdfWriter.getInstance(document, new FileOutputStream(fileToSave ));\n            document.open();\n            //code for generate pdf\n            document.close();\n            JOptionPane.showMessageDialog(null, &quot;PDF Saved&quot;);\n        }\n        catch(Exception e){\n            JOptionPane.showMessageDialog(null, e);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":17780988,"reputation":307,"user_id":12912189,"display_name":"Geo Tech"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1911,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61886326,"answer_count":1,"score":0,"last_activity_date":1673389949,"creation_date":1589871648,"question_id":61885015,"body_markdown":"I want to allow the user to choose the PDF file save location and filename. I&#39;m generating PDF by using iText library. In the code I used, it&#39;s saving the PDF file in a predefined name and root folder.\r\n\r\n```java\r\ntry {\r\n    Document document = new Document();\r\n    PdfWriter writer = PdfWriter.getInstance(document, new FileOutputStream(&quot;Supplier Details Report.pdf&quot;));\r\n       \r\n    document.open();\r\n    //code for generate pdf\r\n\r\n    document.close();\r\n   \r\n    JOptionPane.showMessageDialog(null, &quot;PDF Saved&quot;);\r\n} catch(Exception e) {\r\n    JOptionPane.showMessageDialog(null, e);\r\n}\r\n\r\n```","title":"How to allow the user to choose save location and filename","body":"<p>I want to allow the user to choose the PDF file save location and filename. I'm generating PDF by using iText library. In the code I used, it's saving the PDF file in a predefined name and root folder.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    Document document = new Document();\n    PdfWriter writer = PdfWriter.getInstance(document, new FileOutputStream(\"Supplier Details Report.pdf\"));\n\n    document.open();\n    //code for generate pdf\n\n    document.close();\n\n    JOptionPane.showMessageDialog(null, \"PDF Saved\");\n} catch(Exception e) {\n    JOptionPane.showMessageDialog(null, e);\n}\n\n</code></pre>\n"},{"tags":["java","maven","maven-3","artifactory"],"comments":[{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1635181947,"post_id":69712014,"comment_id":123222187,"body_markdown":"You usually should not need any of that business in the `maven-deploy-plugin` stanza. Instead, you should have a server defined in `distributionManagement.repository` (and matching credentials in your `.m2/settings.xml`).","body":"You usually should not need any of that business in the <code>maven-deploy-plugin</code> stanza. Instead, you should have a server defined in <code>distributionManagement.repository</code> (and matching credentials in your <code>.m2&#47;settings.xml</code>)."},{"owner":{"account_id":1925103,"reputation":30437,"user_id":1735756,"accept_rate":65,"display_name":"Haifeng Zhang"},"score":0,"creation_date":1635182396,"post_id":69712014,"comment_id":123222375,"body_markdown":"@chrylis-cautiouslyoptimistic- Hi chrylis, I have the settings in my pom and I have past it into the question. Does that mean I don&#39;t need to specify the url in the maven-deploy-plugin chunk?","body":"@chrylis-cautiouslyoptimistic- Hi chrylis, I have the settings in my pom and I have past it into the question. Does that mean I don&#39;t need to specify the url in the maven-deploy-plugin chunk?"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1635182553,"post_id":69712014,"comment_id":123222431,"body_markdown":"Only define distributionManagement and NOT using maven-install-plugin, maven-deploy-plugin...as you have done...","body":"Only define distributionManagement and NOT using maven-install-plugin, maven-deploy-plugin...as you have done..."},{"owner":{"account_id":1925103,"reputation":30437,"user_id":1735756,"accept_rate":65,"display_name":"Haifeng Zhang"},"score":0,"creation_date":1635183148,"post_id":69712014,"comment_id":123222692,"body_markdown":"Hi chrylis-cautiouslyoptimistic- and khmarbaise Thanks for both of you, your suggestions are working like a charm, if you want please make the comment as an answer and i will upvote for them. Thank you again.","body":"Hi chrylis-cautiouslyoptimistic- and khmarbaise Thanks for both of you, your suggestions are working like a charm, if you want please make the comment as an answer and i will upvote for them. Thank you again."}],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635184489,"creation_date":1635184489,"answer_id":69712679,"question_id":69712014,"body_markdown":"Maven is configured with built-in defaults that work in most cases, and the standard Maven-aware repository servers like Nexus and Artifactory will work with them with minimal configuration.\r\n\r\nCut out the custom configuration you have for `maven-deploy-plugin` and let it use the default setup. Instead, add a `distributionManagement` section with a `repository` for your server, and make sure you have matching credentials in your `~/.m2/settings.xml` file.","title":"Got &quot;401 Unauthorized&quot; error when deploy a maven artifact","body":"<p>Maven is configured with built-in defaults that work in most cases, and the standard Maven-aware repository servers like Nexus and Artifactory will work with them with minimal configuration.</p>\n<p>Cut out the custom configuration you have for <code>maven-deploy-plugin</code> and let it use the default setup. Instead, add a <code>distributionManagement</code> section with a <code>repository</code> for your server, and make sure you have matching credentials in your <code>~/.m2/settings.xml</code> file.</p>\n"},{"tags":[],"owner":{"account_id":3504594,"reputation":3961,"user_id":2930417,"display_name":"hatanooh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657695618,"creation_date":1657695618,"answer_id":72962108,"question_id":69712014,"body_markdown":"In my case, the point is `id`: repository.id and server.id must be the same.\r\n\r\npom.xml:\r\n\r\n    &lt;distributionManagement&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;cloud-3party&lt;/id&gt;\r\n\t\t\t&lt;name&gt;cloud-3party&lt;/name&gt;\r\n\t\t\t&lt;url&gt;xxx&lt;/url&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/distributionManagement&gt;\r\n\r\napaphe-maven-3.6.3/conf/setting.xml\r\n\r\n    &lt;server&gt;\r\n\t  &lt;id&gt;cloud-3party&lt;/id&gt;\r\n\t  &lt;username&gt;xxx&lt;/username&gt;\r\n\t  &lt;password&gt;xxx&lt;/password&gt;\r\n    &lt;/server&gt;\r\n","title":"Got &quot;401 Unauthorized&quot; error when deploy a maven artifact","body":"<p>In my case, the point is <code>id</code>: repository.id and server.id must be the same.</p>\n<p>pom.xml:</p>\n<pre><code>&lt;distributionManagement&gt;\n    &lt;repository&gt;\n        &lt;id&gt;cloud-3party&lt;/id&gt;\n        &lt;name&gt;cloud-3party&lt;/name&gt;\n        &lt;url&gt;xxx&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/distributionManagement&gt;\n</code></pre>\n<p>apaphe-maven-3.6.3/conf/setting.xml</p>\n<pre><code>&lt;server&gt;\n  &lt;id&gt;cloud-3party&lt;/id&gt;\n  &lt;username&gt;xxx&lt;/username&gt;\n  &lt;password&gt;xxx&lt;/password&gt;\n&lt;/server&gt;\n</code></pre>\n"}],"owner":{"account_id":1925103,"reputation":30437,"user_id":1735756,"accept_rate":65,"display_name":"Haifeng Zhang"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10917,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69712679,"answer_count":2,"score":0,"last_activity_date":1673389715,"creation_date":1635181147,"question_id":69712014,"body_markdown":"**Update based on comment:**\r\n\r\n      &lt;distributionManagement&gt;\r\n        &lt;repository&gt;\r\n          &lt;id&gt;releases&lt;/id&gt;\r\n          &lt;name&gt;Releases&lt;/name&gt;\r\n          &lt;url&gt;https://mycompany.jfrog.io/artifactory/my-app-libs-release&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    \r\n        &lt;snapshotRepository&gt;\r\n          &lt;id&gt;snapshots&lt;/id&gt;\r\n          &lt;name&gt;Snapshots&lt;/name&gt;\r\n          &lt;url&gt;https://mycompany.jfrog.io/artifactory/my-app-libs-snapshot/&lt;/url&gt;\r\n        &lt;/snapshotRepository&gt;\r\n      &lt;/distributionManagement&gt;\r\n\r\n\r\n\r\n**Original:**\r\n\r\nMy goal is to play with an end-to-end maven repository deployment and dependency import. \r\n\r\nI am working on deploying a maven project(project name my-app) artifact to jFrog and then add the artifact as an dependency to another maven project(project name is my-second-app)\r\n\r\n1. I have setup the jFrog account\r\n2. Initialized settings.xml under folder `~/.m2/` with the jFrog credentials(username and password) and specified the URL for release and snapshots\r\n3. I have added the following plugins in project my-app:\r\n```\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;id&gt;make-a-jar&lt;/id&gt;\r\n              &lt;phase&gt;compile&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;jar&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;phase&gt;install&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;install-file&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n              &lt;configuration&gt;\r\n                &lt;packaging&gt;jar&lt;/packaging&gt;\r\n                &lt;artifactId&gt;${project.artifactId}&lt;/artifactId&gt;\r\n                &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n                &lt;version&gt;${project.version}&lt;/version&gt;\r\n                &lt;file&gt;\r\n                          ${project.build.directory}/${project.artifactId}-${project.version}.jar\r\n                      &lt;/file&gt;\r\n              &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;phase&gt;deploy&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;deploy-file&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n              &lt;configuration&gt;\r\n                &lt;packaging&gt;jar&lt;/packaging&gt;\r\n                &lt;generatePom&gt;true&lt;/generatePom&gt;\r\n                &lt;url&gt;https://mycompany.jfrog.io/artifactory/my-app-libs-release&lt;/url&gt;\r\n                &lt;artifactId&gt;${project.artifactId}&lt;/artifactId&gt;\r\n                &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n                &lt;version&gt;${project.version}&lt;/version&gt;\r\n                &lt;file&gt;${project.build.directory}/${project.artifactId}-${project.version}.jar&lt;/file&gt;\r\n              &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n```\r\n4. When I run `mvn deploy`, the projects shows 401 Unauthorized error but the artifact is deployed and can be found in jFrog packages.\r\n5. I have added the dependency in project my-second-app and the dependency can be downloaded when run `mvn install`\r\n```\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.mycompany.app&lt;/groupId&gt;\r\n      &lt;artifactId&gt;my-app&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.6-SNAPSHOT&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n```\r\n[![enter image description here][1]][1]\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.7:deploy-file (default) on project my-app: Failed to retrieve remote metadata com.mycompany.app:my-app:0.0.6-SNAPSHOT/maven-metadata.xml: Could not transfer metadata com.mycompany.app:my-app:0.0.6-SNAPSHOT/maven-metadata.xml from/to remote-repository (https://myurl.jfrog.io/artifactory/my-app-libs-release): authentication failed for https://mycompany.jfrog.io/artifactory/my-app-libs-release/com/mycompany/app/my-app/0.0.6-SNAPSHOT/maven-metadata.xml, status: 401 Unauthorized -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\nDoes anyone know what I have been missing? Why I got the 401 unauthorized error? I have added the credentials in settings.xml, my understanding is it is not required to add any credential in project level.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fnNxa.png","title":"Got &quot;401 Unauthorized&quot; error when deploy a maven artifact","body":"<p><strong>Update based on comment:</strong></p>\n<pre><code>  &lt;distributionManagement&gt;\n    &lt;repository&gt;\n      &lt;id&gt;releases&lt;/id&gt;\n      &lt;name&gt;Releases&lt;/name&gt;\n      &lt;url&gt;https://mycompany.jfrog.io/artifactory/my-app-libs-release&lt;/url&gt;\n    &lt;/repository&gt;\n\n    &lt;snapshotRepository&gt;\n      &lt;id&gt;snapshots&lt;/id&gt;\n      &lt;name&gt;Snapshots&lt;/name&gt;\n      &lt;url&gt;https://mycompany.jfrog.io/artifactory/my-app-libs-snapshot/&lt;/url&gt;\n    &lt;/snapshotRepository&gt;\n  &lt;/distributionManagement&gt;\n</code></pre>\n<p><strong>Original:</strong></p>\n<p>My goal is to play with an end-to-end maven repository deployment and dependency import.</p>\n<p>I am working on deploying a maven project(project name my-app) artifact to jFrog and then add the artifact as an dependency to another maven project(project name is my-second-app)</p>\n<ol>\n<li>I have setup the jFrog account</li>\n<li>Initialized settings.xml under folder <code>~/.m2/</code> with the jFrog credentials(username and password) and specified the URL for release and snapshots</li>\n<li>I have added the following plugins in project my-app:</li>\n</ol>\n<pre><code>        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;executions&gt;\n            &lt;execution&gt;\n              &lt;id&gt;make-a-jar&lt;/id&gt;\n              &lt;phase&gt;compile&lt;/phase&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;jar&lt;/goal&gt;\n              &lt;/goals&gt;\n            &lt;/execution&gt;\n          &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;executions&gt;\n            &lt;execution&gt;\n              &lt;phase&gt;install&lt;/phase&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;install-file&lt;/goal&gt;\n              &lt;/goals&gt;\n              &lt;configuration&gt;\n                &lt;packaging&gt;jar&lt;/packaging&gt;\n                &lt;artifactId&gt;${project.artifactId}&lt;/artifactId&gt;\n                &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n                &lt;version&gt;${project.version}&lt;/version&gt;\n                &lt;file&gt;\n                          ${project.build.directory}/${project.artifactId}-${project.version}.jar\n                      &lt;/file&gt;\n              &lt;/configuration&gt;\n            &lt;/execution&gt;\n          &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;executions&gt;\n            &lt;execution&gt;\n              &lt;phase&gt;deploy&lt;/phase&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;deploy-file&lt;/goal&gt;\n              &lt;/goals&gt;\n              &lt;configuration&gt;\n                &lt;packaging&gt;jar&lt;/packaging&gt;\n                &lt;generatePom&gt;true&lt;/generatePom&gt;\n                &lt;url&gt;https://mycompany.jfrog.io/artifactory/my-app-libs-release&lt;/url&gt;\n                &lt;artifactId&gt;${project.artifactId}&lt;/artifactId&gt;\n                &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n                &lt;version&gt;${project.version}&lt;/version&gt;\n                &lt;file&gt;${project.build.directory}/${project.artifactId}-${project.version}.jar&lt;/file&gt;\n              &lt;/configuration&gt;\n            &lt;/execution&gt;\n          &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<ol start=\"4\">\n<li>When I run <code>mvn deploy</code>, the projects shows 401 Unauthorized error but the artifact is deployed and can be found in jFrog packages.</li>\n<li>I have added the dependency in project my-second-app and the dependency can be downloaded when run <code>mvn install</code></li>\n</ol>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;com.mycompany.app&lt;/groupId&gt;\n      &lt;artifactId&gt;my-app&lt;/artifactId&gt;\n      &lt;version&gt;0.0.6-SNAPSHOT&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/fnNxa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fnNxa.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.7:deploy-file (default) on project my-app: Failed to retrieve remote metadata com.mycompany.app:my-app:0.0.6-SNAPSHOT/maven-metadata.xml: Could not transfer metadata com.mycompany.app:my-app:0.0.6-SNAPSHOT/maven-metadata.xml from/to remote-repository (https://myurl.jfrog.io/artifactory/my-app-libs-release): authentication failed for https://mycompany.jfrog.io/artifactory/my-app-libs-release/com/mycompany/app/my-app/0.0.6-SNAPSHOT/maven-metadata.xml, status: 401 Unauthorized -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p>Does anyone know what I have been missing? Why I got the 401 unauthorized error? I have added the credentials in settings.xml, my understanding is it is not required to add any credential in project level.</p>\n"},{"tags":["java","sockets","netty"],"answers":[{"tags":[],"owner":{"account_id":12519802,"reputation":352,"user_id":11450331,"display_name":"omri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673389444,"creation_date":1673388413,"answer_id":75076355,"question_id":75064095,"body_markdown":"I was using a process builder to spawn a process to run this application. But I didn&#39;t inherit the IO for the process. \r\n\r\nThis is what I needed: \r\nhttps://stackoverflow.com/a/55629297/11450331","title":"Scheduled executor service of 10 threads halts after 5 iterations of using Netty client to send and receive messages","body":"<p>I was using a process builder to spawn a process to run this application. But I didn't inherit the IO for the process.</p>\n<p>This is what I needed:\n<a href=\"https://stackoverflow.com/a/55629297/11450331\">https://stackoverflow.com/a/55629297/11450331</a></p>\n"}],"owner":{"account_id":12519802,"reputation":352,"user_id":11450331,"display_name":"omri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75076355,"answer_count":1,"score":0,"last_activity_date":1673389444,"creation_date":1673308352,"question_id":75064095,"body_markdown":"I have an application which uses a ScheduledExecutorService: \r\n\r\n`private final ScheduledExecutorService ses = Executors.newScheduledThreadPool(10);`\r\n\r\nAll it does right is now is use a Netty client to connect to a Netty server and send test heartbeats (JSON strings) to the server: \r\n\r\n    log.info(&quot;Starting up signaling client.&quot;);\r\n            this.signalingClient = new SignalingClient(host, port, this);\r\n\r\n            signalingClient.getChannelFuture().addListener(future -&gt; {\r\n                if (future.isSuccess()) {\r\n                    log.info(&quot;Connection to signaling server completed. Scheduling heartbeat task.&quot;);\r\n                    ses.scheduleAtFixedRate(() -&gt; signalingClient.sendMessage(testHeartBeat()),\r\n                            3L, 30L, TimeUnit.SECONDS);\r\n                } else {\r\n                    log.info(&quot;Connection to signaling server completed with exception.&quot;);\r\n                }\r\n            });\r\n        } else {\r\n            log.warn(&quot;Unable to start Signaling Gateway. Args must match --voice.adapter.endpoint=127.0.0.1:[port]&quot;);\r\n        }\r\n\r\nHere is the Signaling Client&#39;s sendMessage(): \r\n\r\n    public void sendMessage(WrappedMessage msg) {\r\n        if (channel != null &amp;&amp; channel.isActive()) {\r\n            log.info(&quot;Writing msg to the channel.&quot;);\r\n            channel.writeAndFlush(msg);\r\n        } else {\r\n            log.info(&quot;Unable to write message to channel.&quot;);\r\n        }\r\n    }\r\n\r\nAnd here is the client initialization: \r\n\r\n    public SignalingClient(String host, int port, MessageHandler handler) {\r\n        serverAddress = new InetSocketAddress(host, port);\r\n\r\n        bootstrap.group(bossGroup)\r\n                .channel(NioSocketChannel.class)\r\n                .option(ChannelOption.SO_KEEPALIVE, true)\r\n                .handler(new ChannelInitializer&lt;SocketChannel&gt;() {\r\n                    @Override\r\n                    public void initChannel(SocketChannel ch) {\r\n                        ch.pipeline().addLast(new LoggingHandler(LogLevel.DEBUG))\r\n                                .addLast(new MessageDecoder(MessageDecoder.DecodingState.VERSION))\r\n                                .addLast(new MessageEncoder())\r\n                                .addLast(new AdapterClientStreamHandler(handler));\r\n                    }\r\n                });\r\n\r\n        this.f = doConnect();\r\n        if (f != null) {\r\n            f.syncUninterruptibly();\r\n        }\r\n    }\r\n\r\n    private ChannelFuture doConnect() {\r\n            try {\r\n                f = bootstrap.connect(serverAddress);\r\n                f.addListener(future -&gt; channel = f.channel());\r\n                return f;\r\n            } catch (Exception ex) {\r\n                log.warn(&quot;Connection to signaling server failed: {}.&quot;, ex.getMessage());\r\n                return null;\r\n            }\r\n        }\r\n\r\nGiven that the connection is healthy and heartbeats can be exchanged, why might it be that after 5 iterations of the executor service does the application halt?  \r\n\r\n\r\nHere&#39;s a bit of an update with some log lines and added a future listener for send message: \r\n\r\n     public void sendMessage(WrappedMessage msg) {\r\n        if (channel != null &amp;&amp; channel.isActive()) {\r\n            log.info(&quot;Writing msg to the channel.&quot;);\r\n            try {\r\n                channel.writeAndFlush(msg).addListener(f -&gt; {\r\n                    if (f.isSuccess()) {\r\n                        log.info(&quot;Successfully wrote message to the channel.&quot;);\r\n                    } else {\r\n                        log.info(&quot;Failed to write message to the channel.&quot;);\r\n                    }\r\n                });\r\n            } catch (Exception e) {\r\n                log.info(&quot;Caught exception in writing message: &quot;, e);\r\n            }\r\n\r\n        } else {\r\n            log.info(&quot;Unable to write message to channel.&quot;);\r\n        }\r\n    }\r\n\r\n        2023-01-09 17:05:13.635-0800  [I] [26] Writing msg to the channel.\r\n    2023-01-09 17:05:13.661-0800  [I] [25] Successfully wrote message to the channel.\r\n    2023-01-09 17:05:13.698-0800  [I] [25] Beginning message decode.\r\n    2023-01-09 17:05:13.699-0800  [I] [25] Finished decoding message.\r\n    2023-01-09 17:05:13.700-0800  [I] [25] Received message from v&#39;1&#39; signaling server: Type: &#39;HEARTBEAT&#39;, Data: &#39;{&quot;type&quot;:&quot;heartbeat&quot;,&quot;data&quot;:{&quot;version&quot;:&quot;&quot;,&quot;connections&quot;:0,&quot;capabilities&quot;:{&quot;udp&quot;:[{&quot;address&quot;:&quot;10.128.32.86&quot;,&quot;port&quot;:44678}],&quot;tcp&quot;:[{&quot;address&quot;:&quot;10.128.32.86&quot;,&quot;port&quot;:36197}],&quot;dtls&quot;:[{&quot;address&quot;:&quot;10.128.32.86&quot;,&quot;port&quot;:44215}]},&quot;expire&quot;:&quot;1671582427&quot;,&quot;instanceId&quot;:&quot;b7ea0ad2-363c-40e2-ab15-10eeda74350a&quot;}}&#39;.\r\n    2023-01-09 17:05:23.625-0800  [I] [26] Writing msg to the channel.\r\n    2023-01-09 17:05:23.626-0800  [I] [25] Successfully wrote message to the channel.\r\n    2023-01-09 17:05:23.627-0800  [I] [25] Beginning message decode.\r\n    2023-01-09 17:05:23.627-0800  [I] [25] Finished decoding message.\r\n    2023-01-09 17:05:23.627-0800  [I] [25] Received message from v&#39;1&#39; signaling server: Type: &#39;HEARTBEAT&#39;, Data: &#39;{&quot;type&quot;:&quot;heartbeat&quot;,&quot;data&quot;:{&quot;version&quot;:&quot;&quot;,&quot;connections&quot;:0,&quot;capabilities&quot;:{&quot;udp&quot;:[{&quot;address&quot;:&quot;10.128.32.86&quot;,&quot;port&quot;:44678}],&quot;tcp&quot;:[{&quot;address&quot;:&quot;10.128.32.86&quot;,&quot;port&quot;:36197}],&quot;dtls&quot;:[{&quot;address&quot;:&quot;10.128.32.86&quot;,&quot;port&quot;:44215}]},&quot;expire&quot;:&quot;1671582427&quot;,&quot;instanceId&quot;:&quot;b7ea0ad2-363c-40e2-ab15-10eeda74350a&quot;}}&#39;.\r\n    2023-01-09 17:05:33.624-0800  [I] [28] Writing msg to the channel.\r\n    2023-01-09 17:05:33.626-0800  [I] [25] Successfully wrote message to the channel.\r\n    2023-01-09 17:05:33.627-0800  [I] [25] Beginning message decode.\r\n    2023-01-09 17:05:33.627-0800  [I] [25] Finished decoding message.\r\n    2023-01-09 17:05:33.627-0800  [I] [25] Received message from v&#39;1&#39; signaling server: Type: &#39;HEARTBEAT&#39;, Data: &#39;{&quot;type&quot;:&quot;heartbeat&quot;,&quot;data&quot;:{&quot;version&quot;:&quot;&quot;,&quot;connections&quot;:0,&quot;capabilities&quot;:{&quot;udp&quot;:[{&quot;address&quot;:&quot;10.128.32.86&quot;,&quot;port&quot;:44678}],&quot;tcp&quot;:[{&quot;address&quot;:&quot;10.128.32.86&quot;,&quot;port&quot;:36197}],&quot;dtls&quot;:[{&quot;address&quot;:&quot;10.128.32.86&quot;,&quot;port&quot;:44215}]},&quot;expire&quot;:&quot;1671582427&quot;,&quot;instanceId&quot;:&quot;b7ea0ad2-363c-40e2-ab15-10eeda74350a&quot;}}&#39;.\r\n    2023-01-09 17:05:43.626-0800  [I] [26] Writing msg to the channel.\r\n    2023-01-09 17:05:43.627-0800  [I] [25] Successfully wrote message to the channel.\r\n    2023-01-09 17:05:43.628-0800  [I] [25] Beginning message decode.\r\n    2023-01-09 17:05:43.628-0800  [I] [25] Finished decoding message.\r\n    2023-01-09 17:05:43.628-0800  [I] [25] Received message from v&#39;1&#39; signaling server: Type: &#39;HEARTBEAT&#39;, Data: &#39;{&quot;type&quot;:&quot;heartbeat&quot;,&quot;data&quot;:{&quot;version&quot;:&quot;&quot;,&quot;connections&quot;:0,&quot;capabilities&quot;:{&quot;udp&quot;:[{&quot;address&quot;:&quot;10.128.32.86&quot;,&quot;port&quot;:44678}],&quot;tcp&quot;:[{&quot;address&quot;:&quot;10.128.32.86&quot;,&quot;port&quot;:36197}],&quot;dtls&quot;:[{&quot;address&quot;:&quot;10.128.32.86&quot;,&quot;port&quot;:44215}]},&quot;expire&quot;:&quot;1671582427&quot;,&quot;instanceId&quot;:&quot;b7ea0ad2-363c-40e2-ab15-10eeda74350a&quot;}}&#39;.\r\n    2023-01-09 17:05:53.625-0800  [I] [29] Writing msg to the channel.\r\n\r\nIn the last iteration, the channel future does not complete. Why could this be happening?\r\n\r\nHere&#39;s another thing I tried in the channelActive of the client handler: \r\n\r\n    @Override\r\n        public void channelActive(ChannelHandlerContext ctx) {\r\n            log.info(&quot;Connection to the signaling adapter successful. Scheduling heartbeat task.&quot;);\r\n            ctx.executor().scheduleAtFixedRate(() -&gt; ctx.writeAndFlush(testHeartBeat()), 0L, 60L, TimeUnit.SECONDS);\r\n        }\r\n\r\nBut the executor still only executes five times. \r\n\r\nUpdate: Increasing the frequency of the executor is allowing the heartbeat signals to persist. So perhaps the channel is idling out? I don&#39;t have a lot of Netty experience so I&#39;m bumbling in the dark a little bit. \r\n\r\n \r\nAnother update: I ran my application directly from the command line, as opposed to how it will normally run under production by being a spawned process using a ProcessBuilder. I found that the application runs fine on the command line, but it stops after a few minutes after being spawned by ProcessBuilder. What gives? ","title":"Scheduled executor service of 10 threads halts after 5 iterations of using Netty client to send and receive messages","body":"<p>I have an application which uses a ScheduledExecutorService:</p>\n<p><code>private final ScheduledExecutorService ses = Executors.newScheduledThreadPool(10);</code></p>\n<p>All it does right is now is use a Netty client to connect to a Netty server and send test heartbeats (JSON strings) to the server:</p>\n<pre><code>log.info(&quot;Starting up signaling client.&quot;);\n        this.signalingClient = new SignalingClient(host, port, this);\n\n        signalingClient.getChannelFuture().addListener(future -&gt; {\n            if (future.isSuccess()) {\n                log.info(&quot;Connection to signaling server completed. Scheduling heartbeat task.&quot;);\n                ses.scheduleAtFixedRate(() -&gt; signalingClient.sendMessage(testHeartBeat()),\n                        3L, 30L, TimeUnit.SECONDS);\n            } else {\n                log.info(&quot;Connection to signaling server completed with exception.&quot;);\n            }\n        });\n    } else {\n        log.warn(&quot;Unable to start Signaling Gateway. Args must match --voice.adapter.endpoint=127.0.0.1:[port]&quot;);\n    }\n</code></pre>\n<p>Here is the Signaling Client's sendMessage():</p>\n<pre><code>public void sendMessage(WrappedMessage msg) {\n    if (channel != null &amp;&amp; channel.isActive()) {\n        log.info(&quot;Writing msg to the channel.&quot;);\n        channel.writeAndFlush(msg);\n    } else {\n        log.info(&quot;Unable to write message to channel.&quot;);\n    }\n}\n</code></pre>\n<p>And here is the client initialization:</p>\n<pre><code>public SignalingClient(String host, int port, MessageHandler handler) {\n    serverAddress = new InetSocketAddress(host, port);\n\n    bootstrap.group(bossGroup)\n            .channel(NioSocketChannel.class)\n            .option(ChannelOption.SO_KEEPALIVE, true)\n            .handler(new ChannelInitializer&lt;SocketChannel&gt;() {\n                @Override\n                public void initChannel(SocketChannel ch) {\n                    ch.pipeline().addLast(new LoggingHandler(LogLevel.DEBUG))\n                            .addLast(new MessageDecoder(MessageDecoder.DecodingState.VERSION))\n                            .addLast(new MessageEncoder())\n                            .addLast(new AdapterClientStreamHandler(handler));\n                }\n            });\n\n    this.f = doConnect();\n    if (f != null) {\n        f.syncUninterruptibly();\n    }\n}\n\nprivate ChannelFuture doConnect() {\n        try {\n            f = bootstrap.connect(serverAddress);\n            f.addListener(future -&gt; channel = f.channel());\n            return f;\n        } catch (Exception ex) {\n            log.warn(&quot;Connection to signaling server failed: {}.&quot;, ex.getMessage());\n            return null;\n        }\n    }\n</code></pre>\n<p>Given that the connection is healthy and heartbeats can be exchanged, why might it be that after 5 iterations of the executor service does the application halt?</p>\n<p>Here's a bit of an update with some log lines and added a future listener for send message:</p>\n<pre><code> public void sendMessage(WrappedMessage msg) {\n    if (channel != null &amp;&amp; channel.isActive()) {\n        log.info(&quot;Writing msg to the channel.&quot;);\n        try {\n            channel.writeAndFlush(msg).addListener(f -&gt; {\n                if (f.isSuccess()) {\n                    log.info(&quot;Successfully wrote message to the channel.&quot;);\n                } else {\n                    log.info(&quot;Failed to write message to the channel.&quot;);\n                }\n            });\n        } catch (Exception e) {\n            log.info(&quot;Caught exception in writing message: &quot;, e);\n        }\n\n    } else {\n        log.info(&quot;Unable to write message to channel.&quot;);\n    }\n}\n\n    2023-01-09 17:05:13.635-0800  [I] [26] Writing msg to the channel.\n2023-01-09 17:05:13.661-0800  [I] [25] Successfully wrote message to the channel.\n2023-01-09 17:05:13.698-0800  [I] [25] Beginning message decode.\n2023-01-09 17:05:13.699-0800  [I] [25] Finished decoding message.\n2023-01-09 17:05:13.700-0800  [I] [25] Received message from v'1' signaling server: Type: 'HEARTBEAT', Data: '{&quot;type&quot;:&quot;heartbeat&quot;,&quot;data&quot;:{&quot;version&quot;:&quot;&quot;,&quot;connections&quot;:0,&quot;capabilities&quot;:{&quot;udp&quot;:[{&quot;address&quot;:&quot;10.128.32.86&quot;,&quot;port&quot;:44678}],&quot;tcp&quot;:[{&quot;address&quot;:&quot;10.128.32.86&quot;,&quot;port&quot;:36197}],&quot;dtls&quot;:[{&quot;address&quot;:&quot;10.128.32.86&quot;,&quot;port&quot;:44215}]},&quot;expire&quot;:&quot;1671582427&quot;,&quot;instanceId&quot;:&quot;b7ea0ad2-363c-40e2-ab15-10eeda74350a&quot;}}'.\n2023-01-09 17:05:23.625-0800  [I] [26] Writing msg to the channel.\n2023-01-09 17:05:23.626-0800  [I] [25] Successfully wrote message to the channel.\n2023-01-09 17:05:23.627-0800  [I] [25] Beginning message decode.\n2023-01-09 17:05:23.627-0800  [I] [25] Finished decoding message.\n2023-01-09 17:05:23.627-0800  [I] [25] Received message from v'1' signaling server: Type: 'HEARTBEAT', Data: '{&quot;type&quot;:&quot;heartbeat&quot;,&quot;data&quot;:{&quot;version&quot;:&quot;&quot;,&quot;connections&quot;:0,&quot;capabilities&quot;:{&quot;udp&quot;:[{&quot;address&quot;:&quot;10.128.32.86&quot;,&quot;port&quot;:44678}],&quot;tcp&quot;:[{&quot;address&quot;:&quot;10.128.32.86&quot;,&quot;port&quot;:36197}],&quot;dtls&quot;:[{&quot;address&quot;:&quot;10.128.32.86&quot;,&quot;port&quot;:44215}]},&quot;expire&quot;:&quot;1671582427&quot;,&quot;instanceId&quot;:&quot;b7ea0ad2-363c-40e2-ab15-10eeda74350a&quot;}}'.\n2023-01-09 17:05:33.624-0800  [I] [28] Writing msg to the channel.\n2023-01-09 17:05:33.626-0800  [I] [25] Successfully wrote message to the channel.\n2023-01-09 17:05:33.627-0800  [I] [25] Beginning message decode.\n2023-01-09 17:05:33.627-0800  [I] [25] Finished decoding message.\n2023-01-09 17:05:33.627-0800  [I] [25] Received message from v'1' signaling server: Type: 'HEARTBEAT', Data: '{&quot;type&quot;:&quot;heartbeat&quot;,&quot;data&quot;:{&quot;version&quot;:&quot;&quot;,&quot;connections&quot;:0,&quot;capabilities&quot;:{&quot;udp&quot;:[{&quot;address&quot;:&quot;10.128.32.86&quot;,&quot;port&quot;:44678}],&quot;tcp&quot;:[{&quot;address&quot;:&quot;10.128.32.86&quot;,&quot;port&quot;:36197}],&quot;dtls&quot;:[{&quot;address&quot;:&quot;10.128.32.86&quot;,&quot;port&quot;:44215}]},&quot;expire&quot;:&quot;1671582427&quot;,&quot;instanceId&quot;:&quot;b7ea0ad2-363c-40e2-ab15-10eeda74350a&quot;}}'.\n2023-01-09 17:05:43.626-0800  [I] [26] Writing msg to the channel.\n2023-01-09 17:05:43.627-0800  [I] [25] Successfully wrote message to the channel.\n2023-01-09 17:05:43.628-0800  [I] [25] Beginning message decode.\n2023-01-09 17:05:43.628-0800  [I] [25] Finished decoding message.\n2023-01-09 17:05:43.628-0800  [I] [25] Received message from v'1' signaling server: Type: 'HEARTBEAT', Data: '{&quot;type&quot;:&quot;heartbeat&quot;,&quot;data&quot;:{&quot;version&quot;:&quot;&quot;,&quot;connections&quot;:0,&quot;capabilities&quot;:{&quot;udp&quot;:[{&quot;address&quot;:&quot;10.128.32.86&quot;,&quot;port&quot;:44678}],&quot;tcp&quot;:[{&quot;address&quot;:&quot;10.128.32.86&quot;,&quot;port&quot;:36197}],&quot;dtls&quot;:[{&quot;address&quot;:&quot;10.128.32.86&quot;,&quot;port&quot;:44215}]},&quot;expire&quot;:&quot;1671582427&quot;,&quot;instanceId&quot;:&quot;b7ea0ad2-363c-40e2-ab15-10eeda74350a&quot;}}'.\n2023-01-09 17:05:53.625-0800  [I] [29] Writing msg to the channel.\n</code></pre>\n<p>In the last iteration, the channel future does not complete. Why could this be happening?</p>\n<p>Here's another thing I tried in the channelActive of the client handler:</p>\n<pre><code>@Override\n    public void channelActive(ChannelHandlerContext ctx) {\n        log.info(&quot;Connection to the signaling adapter successful. Scheduling heartbeat task.&quot;);\n        ctx.executor().scheduleAtFixedRate(() -&gt; ctx.writeAndFlush(testHeartBeat()), 0L, 60L, TimeUnit.SECONDS);\n    }\n</code></pre>\n<p>But the executor still only executes five times.</p>\n<p>Update: Increasing the frequency of the executor is allowing the heartbeat signals to persist. So perhaps the channel is idling out? I don't have a lot of Netty experience so I'm bumbling in the dark a little bit.</p>\n<p>Another update: I ran my application directly from the command line, as opposed to how it will normally run under production by being a spawned process using a ProcessBuilder. I found that the application runs fine on the command line, but it stops after a few minutes after being spawned by ProcessBuilder. What gives?</p>\n"},{"tags":["java","mysql","swing","jdbc","windowbuilder"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1673160002,"post_id":75045859,"comment_id":132433051,"body_markdown":"`[C@44d2e990` is actually a `char[]` (array)&#39;s `toString` response.  The question then becomes, how are you inserting the `String`, but, in reality, you shouldn&#39;t be &quot;asking&quot; for the password, but should be selecting the user properties where the name and password match a record in the database (ie `select username from signup where username = ? and password = ?`) and I would consider hashing the passwords","body":"<code>[C@44d2e990</code> is actually a <code>char[]</code> (array)&#39;s <code>toString</code> response.  The question then becomes, how are you inserting the <code>String</code>, but, in reality, you shouldn&#39;t be &quot;asking&quot; for the password, but should be selecting the user properties where the name and password match a record in the database (ie <code>select username from signup where username = ? and password = ?</code>) and I would consider hashing the passwords"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1673173393,"post_id":75045859,"comment_id":132434818,"body_markdown":"Yes, as @MadProgrammer says, it&#39;s bad practice to store passwords as plaintext. Show that you know how this should be done in a real world app by storing the Java `hashCode()` of the password as a string","body":"Yes, as @MadProgrammer says, it&#39;s bad practice to store passwords as plaintext. Show that you know how this should be done in a real world app by storing the Java <code>hashCode()</code> of the password as a string"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1673208848,"post_id":75045859,"comment_id":132441617,"body_markdown":"@g00se This is probably just me, but I would make use of an appropriate one-way hashing algorithm over using `hashCode`","body":"@g00se This is probably just me, but I would make use of an appropriate one-way hashing algorithm over using <code>hashCode</code>"},{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1673210956,"post_id":75045859,"comment_id":132441993,"body_markdown":"Similar question: https://stackoverflow.com/questions/66841282/cannot-connect-wit-the-database-table/66841712#66841712 .","body":"Similar question: <a href=\"https://stackoverflow.com/questions/66841282/cannot-connect-wit-the-database-table/66841712#66841712\" title=\"cannot connect wit the database table\">stackoverflow.com/questions/66841282/&hellip;</a> ."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673214983,"post_id":75045859,"comment_id":132442715,"body_markdown":"@MadProgrammer most definitely but I think in this case it&#39;s likely to be an assignment rather than a real world professional solution so proper hashing is probably not necessary","body":"@MadProgrammer most definitely but I think in this case it&#39;s likely to be an assignment rather than a real world professional solution so proper hashing is probably not necessary"},{"owner":{"account_id":24617435,"reputation":1,"user_id":18518243,"display_name":"ImLoop"},"score":0,"creation_date":1673336112,"post_id":75045859,"comment_id":132469795,"body_markdown":"@LukeWoodward I did try the solution but it didn&#39;t work for me.","body":"@LukeWoodward I did try the solution but it didn&#39;t work for me."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673390551,"post_id":75045859,"comment_id":132487375,"body_markdown":"*I did try the solution but it didn&#39;t work for me* really tells us nothing and doesn&#39;t help us to help you","body":"<i>I did try the solution but it didn&#39;t work for me</i> really tells us nothing and doesn&#39;t help us to help you"}],"answers":[{"tags":[],"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673389182,"creation_date":1673389182,"answer_id":75076457,"question_id":75045859,"body_markdown":"I think the first thing you need to do is to get away from the idea that a value such as `[C@44d2e990` is in any way encrypted.\r\n\r\nIt&#39;s what the hash code of the character array that contained the password was at the time the array was created. There&#39;s simply no way to recover what the password in that array was at the time.\r\n\r\nYou haven&#39;t explained how the passwords ended up in your database as something like `[C@44d2e990`. You have only shown us the code that queries the database when a user logs in. You will need to look into why the passwords incorrectly end up in the database as something like `[C@44d2e990` first. Any passwords of this form are useless and should be deleted.\r\n\r\nOnce you can get the passwords into the database correctly, then I would expect  the login code in your question to work, as it does appear to handle the fact that `JPasswordField.getPassword()` returns a character array and not a string. However, I haven&#39;t tested it. I do note, as did the commenters, that it is inefficient. You don&#39;t need to fetch all values from the database table and compare each of them in turn with the details entered: you can get the database to find the matching row (if there is one) and then return that.\r\n\r\nFinally, if this code is for your own learning purposes and will never be used in production by other people, then you can probably do without hashing the passwords, as discussed in the  comments. Certainly don&#39;t bother doing this until you can get the passwords working in plain text. If you did want to has passwords, you would need to look at cryptographic hashes such as SHA256 (not to be confused with the hash codes returned by `.hashCode()`), and also consider salting the hash.","title":"Retrieving password from sql table after inserting the password from JPasswordField","body":"<p>I think the first thing you need to do is to get away from the idea that a value such as <code>[C@44d2e990</code> is in any way encrypted.</p>\n<p>It's what the hash code of the character array that contained the password was at the time the array was created. There's simply no way to recover what the password in that array was at the time.</p>\n<p>You haven't explained how the passwords ended up in your database as something like <code>[C@44d2e990</code>. You have only shown us the code that queries the database when a user logs in. You will need to look into why the passwords incorrectly end up in the database as something like <code>[C@44d2e990</code> first. Any passwords of this form are useless and should be deleted.</p>\n<p>Once you can get the passwords into the database correctly, then I would expect  the login code in your question to work, as it does appear to handle the fact that <code>JPasswordField.getPassword()</code> returns a character array and not a string. However, I haven't tested it. I do note, as did the commenters, that it is inefficient. You don't need to fetch all values from the database table and compare each of them in turn with the details entered: you can get the database to find the matching row (if there is one) and then return that.</p>\n<p>Finally, if this code is for your own learning purposes and will never be used in production by other people, then you can probably do without hashing the passwords, as discussed in the  comments. Certainly don't bother doing this until you can get the passwords working in plain text. If you did want to has passwords, you would need to look at cryptographic hashes such as SHA256 (not to be confused with the hash codes returned by <code>.hashCode()</code>), and also consider salting the hash.</p>\n"}],"owner":{"account_id":24617435,"reputation":1,"user_id":18518243,"display_name":"ImLoop"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673389182,"creation_date":1673158449,"question_id":75045859,"body_markdown":"    \r\n I am trying to implement a login page, the user is supposed to enter their name and password. These values will be compared from the SQL table and the user will be allowed to log in if they match. But here the password uses `JPasswordField` from *Swing* and on searching for the password, the SQL table provides an encrypted password like this `[C@44d2e990`. I am unable to compare the password as user input is in form of a string while the table gives an encrypted string of password.\r\n     \r\n```java\r\nJOptionPane.showMessageDialog(null, new String(passwordField.getPassword()));\r\nPreparedStatement stmt = con.prepareStatement(&quot;select username, password from signup&quot;);\r\nResultSet rs = stmt.executeQuery();\r\nwhile (rs.next()) {\r\n    String un = rs.getString(&quot;username&quot;);\r\n    String pwd = rs.getString(&quot;password&quot;);\r\n    JOptionPane.showMessageDialog(null,pwd);\r\n    if (un.equals(textField.getText()) &amp;&amp; pwd.equals(new String(passwordField.getPassword()))) {\r\n        JOptionPane.showMessageDialog(null,new String(passwordField.getPassword()));\r\n        JOptionPane.showMessageDialog(null, &quot;Login Successful..&quot;);\r\n        flag = 1;\r\n        break;\r\n    }\r\n}\r\nif (flag != 1) {\r\n    JOptionPane.showMessageDialog(null, &quot;Login unsuccessful..\\nTry again.&quot;);\r\n    textField.setText(&quot;&quot;);\r\n    passwordField.setText(&quot;&quot;);\r\n}\r\n```\r\n","title":"Retrieving password from sql table after inserting the password from JPasswordField","body":"<p>I am trying to implement a login page, the user is supposed to enter their name and password. These values will be compared from the SQL table and the user will be allowed to log in if they match. But here the password uses <code>JPasswordField</code> from <em>Swing</em> and on searching for the password, the SQL table provides an encrypted password like this <code>[C@44d2e990</code>. I am unable to compare the password as user input is in form of a string while the table gives an encrypted string of password.</p>\n<pre class=\"lang-java prettyprint-override\"><code>JOptionPane.showMessageDialog(null, new String(passwordField.getPassword()));\nPreparedStatement stmt = con.prepareStatement(&quot;select username, password from signup&quot;);\nResultSet rs = stmt.executeQuery();\nwhile (rs.next()) {\n    String un = rs.getString(&quot;username&quot;);\n    String pwd = rs.getString(&quot;password&quot;);\n    JOptionPane.showMessageDialog(null,pwd);\n    if (un.equals(textField.getText()) &amp;&amp; pwd.equals(new String(passwordField.getPassword()))) {\n        JOptionPane.showMessageDialog(null,new String(passwordField.getPassword()));\n        JOptionPane.showMessageDialog(null, &quot;Login Successful..&quot;);\n        flag = 1;\n        break;\n    }\n}\nif (flag != 1) {\n    JOptionPane.showMessageDialog(null, &quot;Login unsuccessful..\\nTry again.&quot;);\n    textField.setText(&quot;&quot;);\n    passwordField.setText(&quot;&quot;);\n}\n</code></pre>\n"},{"tags":["java","mongodb","docker","docker-compose","mongo-express"],"owner":{"account_id":21133263,"reputation":41,"user_id":15537188,"display_name":"Beigut Beisenkhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673388968,"creation_date":1673388968,"question_id":75076421,"body_markdown":"I am trying to use MongoDB and Mongo Express, but now I am having trouble to connect to Mongo Express.\r\n\r\nSo when I go to the **localhost:4301**\r\n[![enter image description here][1]][1]\r\n\r\nIn **Docker Desktop**:\r\n[![enter image description here][2]][2]\r\n\r\n**My application.yaml:**\r\n\r\n```\r\nspring:\r\n  data:\r\n    mongodb:\r\n      database: redo_report\r\n      uri: mongodb://root:root@localhost:27018/redo_report?authSource=admin\r\n      username: root\r\n      password: root\r\n  liquibase:\r\n    change-log: classpath:db/changelog/db.changelog-master.xml\r\n  kafka:\r\n    bootstrap-servers: http://redo-kafka:9092\r\n    consumer:\r\n      auto-offset-reset: earliest\r\n      group-id: redo_report_group\r\n      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\r\n      value-deserializer: org.apache.kafka.common.serialization.StringDeserializer\r\nredo-notes-link: https://localhost/app/view/\r\nredo-version: v0.1 (2022.10.28)\r\napplication:\r\n  kafka-topics:\r\n    doc-events: doc.events\r\n\r\n```\r\n\r\n**My docker-compose.yml**\r\n\r\n```\r\nspring:\r\n  data:\r\n    mongodb:\r\n      database: redo_report\r\n      uri: mongodb://root:root@localhost:27018/redo_report?authSource=admin\r\n      username: root\r\n      password: root\r\n  liquibase:\r\n    change-log: classpath:db/changelog/db.changelog-master.xml\r\n  kafka:\r\n    bootstrap-servers: http://redo-kafka:9092\r\n    consumer:\r\n      auto-offset-reset: earliest\r\n      group-id: redo_report_group\r\n      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\r\n      value-deserializer: org.apache.kafka.common.serialization.StringDeserializer\r\nredo-notes-link: https://localhost/app/view/\r\nredo-version: v0.1 (2022.10.28)\r\napplication:\r\n  kafka-topics:\r\n    doc-events: doc.events\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LZ2Wt.png\r\n  [2]: https://i.stack.imgur.com/masPe.png","title":"Cannot access to Mongo Express webpage running by docker-compose, but it is running on docker desktop?","body":"<p>I am trying to use MongoDB and Mongo Express, but now I am having trouble to connect to Mongo Express.</p>\n<p>So when I go to the <strong>localhost:4301</strong>\n<a href=\"https://i.stack.imgur.com/LZ2Wt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LZ2Wt.png\" alt=\"enter image description here\" /></a></p>\n<p>In <strong>Docker Desktop</strong>:\n<a href=\"https://i.stack.imgur.com/masPe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/masPe.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>My application.yaml:</strong></p>\n<pre><code>spring:\n  data:\n    mongodb:\n      database: redo_report\n      uri: mongodb://root:root@localhost:27018/redo_report?authSource=admin\n      username: root\n      password: root\n  liquibase:\n    change-log: classpath:db/changelog/db.changelog-master.xml\n  kafka:\n    bootstrap-servers: http://redo-kafka:9092\n    consumer:\n      auto-offset-reset: earliest\n      group-id: redo_report_group\n      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\n      value-deserializer: org.apache.kafka.common.serialization.StringDeserializer\nredo-notes-link: https://localhost/app/view/\nredo-version: v0.1 (2022.10.28)\napplication:\n  kafka-topics:\n    doc-events: doc.events\n\n</code></pre>\n<p><strong>My docker-compose.yml</strong></p>\n<pre><code>spring:\n  data:\n    mongodb:\n      database: redo_report\n      uri: mongodb://root:root@localhost:27018/redo_report?authSource=admin\n      username: root\n      password: root\n  liquibase:\n    change-log: classpath:db/changelog/db.changelog-master.xml\n  kafka:\n    bootstrap-servers: http://redo-kafka:9092\n    consumer:\n      auto-offset-reset: earliest\n      group-id: redo_report_group\n      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\n      value-deserializer: org.apache.kafka.common.serialization.StringDeserializer\nredo-notes-link: https://localhost/app/view/\nredo-version: v0.1 (2022.10.28)\napplication:\n  kafka-topics:\n    doc-events: doc.events\n</code></pre>\n"},{"tags":["java","processing","papplet"],"comments":[{"owner":{"account_id":17715726,"reputation":2215,"user_id":12862111,"display_name":"apodidae"},"score":0,"creation_date":1673376437,"post_id":75070968,"comment_id":132483428,"body_markdown":"Where are the folders?  Have you considered using separate tabs inside the main sketch?","body":"Where are the folders?  Have you considered using separate tabs inside the main sketch?"},{"owner":{"account_id":16680284,"reputation":5,"user_id":12055565,"display_name":"BoomDev"},"score":0,"creation_date":1673388219,"post_id":75070968,"comment_id":132486865,"body_markdown":"@apodidae the folders would be saved in the same folder alongside my main sketch.pde. The problem with using multiple tabs is that I have games that use up to 5-8+ tabs and that would eventually just clutter everything. So I&#39;m looking for a way to store games in individual folders and then access within my main sketch.pde each individual game&#39;s main java file","body":"@apodidae the folders would be saved in the same folder alongside my main sketch.pde. The problem with using multiple tabs is that I have games that use up to 5-8+ tabs and that would eventually just clutter everything. So I&#39;m looking for a way to store games in individual folders and then access within my main sketch.pde each individual game&#39;s main java file"},{"owner":{"account_id":17715726,"reputation":2215,"user_id":12862111,"display_name":"apodidae"},"score":0,"creation_date":1673409191,"post_id":75070968,"comment_id":132490295,"body_markdown":"Any way to combine those games with multiple tabs into a single tab?  Processing works fine with tabs; folders could be problematic.","body":"Any way to combine those games with multiple tabs into a single tab?  Processing works fine with tabs; folders could be problematic."}],"owner":{"account_id":16680284,"reputation":5,"user_id":12055565,"display_name":"BoomDev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673388539,"creation_date":1673358831,"question_id":75070968,"body_markdown":"I&#39;m trying to create a program that allows you to run multiple sketches off of one master sketch through using the PApplet.runSketch function. This has posed the best option for me but I want to be able to access a collection of java files within multiple folders for better organization of the games. The problem is I have no idea how to do so within the constraints of the function and when I search for pre-existing examples, none properly solve it the way I&#39;d like.\r\n\r\n&lt;b&gt;Reason for wanting folders instead of multiple tabs:&lt;/b&gt;&lt;br /&gt;\r\nThe folders would be saved in the same folder alongside my main sketch.pde. The problem with using multiple tabs is that I have games that use up to 5-8+ tabs and that would eventually just clutter everything. So I&#39;m looking for a way to store games in individual folders and then access within my main sketch.pde each individual game&#39;s main java file\r\n\r\n\r\nHere&#39;s my code&lt;br /&gt;\r\n\\sketch.pde\r\n```java\r\nvoid settings() {\r\n  size(600, 200);\r\n}\r\n\r\nvoid setup() {\r\n  String args[] = {\r\n    &quot;--display=1&quot;,\r\n    &quot;--location=0,0&quot;,\r\n    &quot;--sketch-path=&quot; + sketchPath(&quot;Game1&quot;),\r\n    &quot;Game1&quot;\r\n  };\r\n  Game1 g = new Game1(320, 420);\r\n  PApplet.runSketch(args, g);\r\n}\r\n\r\nvoid draw() {\r\n  background(0);\r\n  ellipse(50, 50, 10, 10);\r\n}\r\n```\r\n\r\n\\Game1\\Game1.java\r\n```java\r\nimport processing.core.*;\r\n\r\npublic class Game1 extends PApplet {\r\n  \r\n    private final int w, h;\r\n\r\n    public Game1(int w, int h) {\r\n        this.w = w;\r\n        this.h = h;\r\n    }\r\n\r\n    public void settings() {\r\n        size(this.w, this.h);\r\n    } \r\n\r\n    public void draw() {\r\n        background(0);\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe problem is that the Game1 class is not recognized because the Game1.java file is within a folder and not present with the sketch.pde, but that is how I want to be able to run the sketches. Any ideas?","title":"PApplet.runSketch trying to access java class in my sketch from a java file inside a folder","body":"<p>I'm trying to create a program that allows you to run multiple sketches off of one master sketch through using the PApplet.runSketch function. This has posed the best option for me but I want to be able to access a collection of java files within multiple folders for better organization of the games. The problem is I have no idea how to do so within the constraints of the function and when I search for pre-existing examples, none properly solve it the way I'd like.</p>\n<p><b>Reason for wanting folders instead of multiple tabs:</b><br />\nThe folders would be saved in the same folder alongside my main sketch.pde. The problem with using multiple tabs is that I have games that use up to 5-8+ tabs and that would eventually just clutter everything. So I'm looking for a way to store games in individual folders and then access within my main sketch.pde each individual game's main java file</p>\n<p>Here's my code<br />\n\\sketch.pde</p>\n<pre class=\"lang-java prettyprint-override\"><code>void settings() {\n  size(600, 200);\n}\n\nvoid setup() {\n  String args[] = {\n    &quot;--display=1&quot;,\n    &quot;--location=0,0&quot;,\n    &quot;--sketch-path=&quot; + sketchPath(&quot;Game1&quot;),\n    &quot;Game1&quot;\n  };\n  Game1 g = new Game1(320, 420);\n  PApplet.runSketch(args, g);\n}\n\nvoid draw() {\n  background(0);\n  ellipse(50, 50, 10, 10);\n}\n</code></pre>\n<p>\\Game1\\Game1.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>import processing.core.*;\n\npublic class Game1 extends PApplet {\n  \n    private final int w, h;\n\n    public Game1(int w, int h) {\n        this.w = w;\n        this.h = h;\n    }\n\n    public void settings() {\n        size(this.w, this.h);\n    } \n\n    public void draw() {\n        background(0);\n    }\n\n}\n</code></pre>\n<p>The problem is that the Game1 class is not recognized because the Game1.java file is within a folder and not present with the sketch.pde, but that is how I want to be able to run the sketches. Any ideas?</p>\n"},{"tags":["java","networking","udp"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1673388623,"post_id":75076271,"comment_id":132486947,"body_markdown":"`Is it possible in real cases that an packet can be lost while sending without getting a code exception?` Yes, very much so.  What you are doing is re-inventing TCP.  This is fine for a class when learning, but what you are learning is that TCP is a lot more complex than it appears at first.  Normally TCP is a wheel that you would never consider re-inventing.","body":"<code>Is it possible in real cases that an packet can be lost while sending without getting a code exception?</code> Yes, very much so.  What you are doing is re-inventing TCP.  This is fine for a class when learning, but what you are learning is that TCP is a lot more complex than it appears at first.  Normally TCP is a wheel that you would never consider re-inventing."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1673388814,"post_id":75076271,"comment_id":132486996,"body_markdown":"I think what you are struggling with in your question specifically is called TCP Retransmission Timeout, and it&#39;s a real thing: https://www.extrahop.com/company/blog/2016/retransmission-timeouts-rtos-application-performance-degradation/","body":"I think what you are struggling with in your question specifically is called TCP Retransmission Timeout, and it&#39;s a real thing: <a href=\"https://www.extrahop.com/company/blog/2016/retransmission-timeouts-rtos-application-performance-degradation/\" rel=\"nofollow noreferrer\">extrahop.com/company/blog/2016/&hellip;</a>"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1673389080,"post_id":75076271,"comment_id":132487057,"body_markdown":"And the other is TCP Idle Timeout: you keep trying to get an ACK or other message from the other side and it just never sends anything.  Once a sufficient amount of time has passed with no packets from the other side the connection can be deleted and an error passed to the calling application.  I recall idle being 45 seconds but this site says it defaults to 300 seconds: https://support.f5.com/csp/article/K13004262","body":"And the other is TCP Idle Timeout: you keep trying to get an ACK or other message from the other side and it just never sends anything.  Once a sufficient amount of time has passed with no packets from the other side the connection can be deleted and an error passed to the calling application.  I recall idle being 45 seconds but this site says it defaults to 300 seconds: <a href=\"https://support.f5.com/csp/article/K13004262\" rel=\"nofollow noreferrer\">support.f5.com/csp/article/K13004262</a>"},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1673390922,"post_id":75076271,"comment_id":132487470,"body_markdown":"*IIs it possible in real cases that an packet can be lost while sending without getting a code exception?*  Yes. If what you send is corrupted in transit across any link in the network, then it&#39;s not going to be received by the remote UDP, so there&#39;s no-one to tell you anything. Think of a datagram as like a postcard written on very thin paper  :-)","body":"<i>IIs it possible in real cases that an packet can be lost while sending without getting a code exception?</i>  Yes. If what you send is corrupted in transit across any link in the network, then it&#39;s not going to be received by the remote UDP, so there&#39;s no-one to tell you anything. Think of a datagram as like a postcard written on very thin paper  :-)"},{"owner":{"account_id":27464220,"reputation":1,"user_id":20954227,"display_name":"Maxim Haschke"},"score":0,"creation_date":1673391443,"post_id":75076271,"comment_id":132487607,"body_markdown":"@markspace thanks for your explanations! I have now made it, that the client sends the packet again if it doesn&#39;t receive an ack in a given time. in my opinion this is very inefficient, since the server already got the correct data, only that ack did not arrive. Anyways i hope my prof is satisfied","body":"@markspace thanks for your explanations! I have now made it, that the client sends the packet again if it doesn&#39;t receive an ack in a given time. in my opinion this is very inefficient, since the server already got the correct data, only that ack did not arrive. Anyways i hope my prof is satisfied"},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":1,"creation_date":1673396677,"post_id":75076271,"comment_id":132488483,"body_markdown":"You cannot **know** whether the server got the correct data or that you failed to get the acknowledgement.  The only way you&#39;d be able to know that is if you could communicate with the server, but you&#39;re in a situation where you&#39;ve failed to communicate with the server.  Sure, maybe you could invent a new message &#39;did you get my previous message #N&#39;, but (a) if the answer is &#39;no&#39;, you need to retransmit, and the extra round-trip was wasted, and (b) that message or its reply can get lost....","body":"You cannot <b>know</b> whether the server got the correct data or that you failed to get the acknowledgement.  The only way you&#39;d be able to know that is if you could communicate with the server, but you&#39;re in a situation where you&#39;ve failed to communicate with the server.  Sure, maybe you could invent a new message &#39;did you get my previous message #N&#39;, but (a) if the answer is &#39;no&#39;, you need to retransmit, and the extra round-trip was wasted, and (b) that message or its reply can get lost...."},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":1,"creation_date":1673396798,"post_id":75076271,"comment_id":132488502,"body_markdown":"You do however need to make sure that if the server gets the same message more than once, that it is harmless.  Either detect and discard the duplicate, or else have all messages designed such that duplication is harmless.","body":"You do however need to make sure that if the server gets the same message more than once, that it is harmless.  Either detect and discard the duplicate, or else have all messages designed such that duplication is harmless."}],"answers":[{"tags":[],"owner":{"account_id":3701398,"reputation":116692,"user_id":3081018,"display_name":"Steffen Ullrich"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673388053,"creation_date":1673388053,"answer_id":75076301,"question_id":75076271,"body_markdown":"&gt; Is it possible in real cases that an packet can be lost while sending without getting a code exception?\r\n\r\nEasy. Simply send the packets from your application faster than the network interface can forward these. Of course any intermediate systems on the way (i.e. switches, routers) might also get overloaded and loose packets.\r\n\r\nBut at the end it does not actually matter how the packet is lost, i.e. if one the local system while sending, on the remote system while receiving or in between while forwarding. One simply cannot assume that a successful `send` will be matched by a successful `recv`.","title":"UDP Packet loss when sending possible?","body":"<blockquote>\n<p>Is it possible in real cases that an packet can be lost while sending without getting a code exception?</p>\n</blockquote>\n<p>Easy. Simply send the packets from your application faster than the network interface can forward these. Of course any intermediate systems on the way (i.e. switches, routers) might also get overloaded and loose packets.</p>\n<p>But at the end it does not actually matter how the packet is lost, i.e. if one the local system while sending, on the remote system while receiving or in between while forwarding. One simply cannot assume that a successful <code>send</code> will be matched by a successful <code>recv</code>.</p>\n"},{"tags":[],"owner":{"account_id":4620081,"reputation":6197,"user_id":3745413,"display_name":"Ron Maupin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673388177,"creation_date":1673388177,"answer_id":75076318,"question_id":75076271,"body_markdown":"IP packets contain the transport protocol (TCP, UDP, etc.) in their payload, and you lose IP packets all the time due to things like oversubscription at some point in the path. QoS, controls can also use something like RED that purposely discards packets in order to keep queues from filling and doing tail-drop. TCP can realize that TCP segments (not packets) are lost and resend them, but UDP has no mechanism to realize that its datagrams (not packets) are lost. UDP is a fire-and-forget protocol.","title":"UDP Packet loss when sending possible?","body":"<p>IP packets contain the transport protocol (TCP, UDP, etc.) in their payload, and you lose IP packets all the time due to things like oversubscription at some point in the path. QoS, controls can also use something like RED that purposely discards packets in order to keep queues from filling and doing tail-drop. TCP can realize that TCP segments (not packets) are lost and resend them, but UDP has no mechanism to realize that its datagrams (not packets) are lost. UDP is a fire-and-forget protocol.</p>\n"}],"owner":{"account_id":27464220,"reputation":1,"user_id":20954227,"display_name":"Maxim Haschke"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673388177,"creation_date":1673387860,"question_id":75076271,"body_markdown":"My professor gave me the task to realize a file transfer via UDP, which implements the protection mechanisms for reliability like as TCP (CRC check, correct packet order, ACK/NACK). I got some default classes from him (Socket &amp; Channel) to simulate packet loss and delay on local machine. A packet loss when sending the packets is also simulated in its classes. However, this means that if an ACK is not sent correctly i can&#39;t notice it either, since an ACK from server to client is not confirmed with an ACK for an ACK from client to server.\r\nI thought that packet loss can only happen when receiving packets.\r\nIs it possible in real cases that an packet can be lost while sending without getting a code exception?\r\n\r\nGreetings","title":"UDP Packet loss when sending possible?","body":"<p>My professor gave me the task to realize a file transfer via UDP, which implements the protection mechanisms for reliability like as TCP (CRC check, correct packet order, ACK/NACK). I got some default classes from him (Socket &amp; Channel) to simulate packet loss and delay on local machine. A packet loss when sending the packets is also simulated in its classes. However, this means that if an ACK is not sent correctly i can't notice it either, since an ACK from server to client is not confirmed with an ACK for an ACK from client to server.\nI thought that packet loss can only happen when receiving packets.\nIs it possible in real cases that an packet can be lost while sending without getting a code exception?</p>\n<p>Greetings</p>\n"},{"tags":["java","intellij-idea","lombok","intellij-14"],"comments":[{"owner":{"account_id":2007700,"reputation":7372,"user_id":1797098,"accept_rate":69,"display_name":"embert"},"score":0,"creation_date":1691740251,"post_id":66790198,"comment_id":135535248,"body_markdown":"I just upgraded to 2023.2 and now I have the exact problem :/","body":"I just upgraded to 2023.2 and now I have the exact problem :/"}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1616624581,"creation_date":1616624581,"answer_id":66790271,"question_id":66790198,"body_markdown":"It&#39;s a [known issue](https://youtrack.jetbrains.com/issue/IDEA-262693). Note that Lombok in 2020.3.3 is also affected by the [serious performance regression](https://youtrack.jetbrains.com/issue/IDEA-264579).\r\n\r\n[Downgrading](https://www.jetbrains.com/idea/download/previous.html) to 2020.3.2 is recommended.","title":"Lombok @Builder Cannot resolve method &#39;builder&#39;","body":"<p>It's a <a href=\"https://youtrack.jetbrains.com/issue/IDEA-262693\" rel=\"nofollow noreferrer\">known issue</a>. Note that Lombok in 2020.3.3 is also affected by the <a href=\"https://youtrack.jetbrains.com/issue/IDEA-264579\" rel=\"nofollow noreferrer\">serious performance regression</a>.</p>\n<p><a href=\"https://www.jetbrains.com/idea/download/previous.html\" rel=\"nofollow noreferrer\">Downgrading</a> to 2020.3.2 is recommended.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1673383737,"post_id":75074624,"comment_id":132485605,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75074624/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26351827,"reputation":176,"user_id":20009330,"display_name":"Felix Olszewski"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673388058,"creation_date":1673377113,"answer_id":75074624,"question_id":66790198,"body_markdown":"in my case the issue was, that I used the .builder() method on an abstract class","title":"Lombok @Builder Cannot resolve method &#39;builder&#39;","body":"<p>in my case the issue was, that I used the .builder() method on an abstract class</p>\n"}],"owner":{"account_id":6173545,"reputation":51,"user_id":4811169,"display_name":"Antonio Silvan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2765,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1673388058,"creation_date":1616624163,"question_id":66790198,"body_markdown":"IntelliJ is throwing an error compilation &quot;Lombok Cannot resolve method &#39;builder&#39;&quot; on the builder method using @Builder annotation.","title":"Lombok @Builder Cannot resolve method &#39;builder&#39;","body":"<p>IntelliJ is throwing an error compilation &quot;Lombok Cannot resolve method 'builder'&quot; on the builder method using @Builder annotation.</p>\n"},{"tags":["java","eclipse","latex","javadoc"],"comments":[{"owner":{"account_id":1048433,"reputation":4098,"user_id":1052931,"display_name":"Philip Whitehouse"},"score":0,"creation_date":1404896596,"post_id":24250916,"comment_id":38208933,"body_markdown":"Eclipse disabled JavaScript in hovers due to the potiential for malicious exploits. https://bugs.eclipse.org/bugs/show_bug.cgi?id=228608 I don&#39;t know if you could somehow selectively re-enable it. This would seem to be the most straightforward option.","body":"Eclipse disabled JavaScript in hovers due to the potiential for malicious exploits. <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=228608\" rel=\"nofollow noreferrer\">bugs.eclipse.org/bugs/show_bug.cgi?id=228608</a> I don&#39;t know if you could somehow selectively re-enable it. This would seem to be the most straightforward option."}],"answers":[{"comments":[{"owner":{"account_id":2230860,"reputation":4665,"user_id":1968462,"accept_rate":83,"display_name":"Kat"},"score":1,"creation_date":1405009998,"post_id":24670406,"comment_id":38269175,"body_markdown":"I&#39;ve tried this one, as well, and couldn&#39;t find a way to get it to display in Eclipse&#39;s hover. Can you confirm that this displays in the hover, and explain how to configure Eclipse to use a taglet in the hover?","body":"I&#39;ve tried this one, as well, and couldn&#39;t find a way to get it to display in Eclipse&#39;s hover. Can you confirm that this displays in the hover, and explain how to configure Eclipse to use a taglet in the hover?"}],"tags":[],"owner":{"account_id":2741125,"reputation":1487,"user_id":2362664,"accept_rate":90,"display_name":"Khinsu"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1404976447,"creation_date":1404975917,"answer_id":24670406,"question_id":24250916,"body_markdown":"You can try `LaTeXlet`\r\n\r\nTake a look at: http://users.informatik.uni-halle.de/~grau/LaTeXlet/\r\n\r\nLaTeXlet is a taglet that allows to use LaTeX within Javadoc comments.\r\n\r\nHere are an Example: \r\n\r\nhttp://users.informatik.uni-halle.de/~grau/LaTeXlet/doc/latexlet/BlockLaTeXlet.html","title":"Eclipse JavaDoc LaTeX equations","body":"<p>You can try <code>LaTeXlet</code></p>\n\n<p>Take a look at: <a href=\"http://users.informatik.uni-halle.de/~grau/LaTeXlet/\" rel=\"nofollow\">http://users.informatik.uni-halle.de/~grau/LaTeXlet/</a></p>\n\n<p>LaTeXlet is a taglet that allows to use LaTeX within Javadoc comments.</p>\n\n<p>Here are an Example: </p>\n\n<p><a href=\"http://users.informatik.uni-halle.de/~grau/LaTeXlet/doc/latexlet/BlockLaTeXlet.html\" rel=\"nofollow\">http://users.informatik.uni-halle.de/~grau/LaTeXlet/doc/latexlet/BlockLaTeXlet.html</a></p>\n"},{"comments":[{"owner":{"account_id":2230860,"reputation":4665,"user_id":1968462,"accept_rate":83,"display_name":"Kat"},"score":0,"creation_date":1405010086,"post_id":24672158,"comment_id":38269229,"body_markdown":"I did try that, as noted in the post. I&#39;m very on the edge, however, about how readable LaTeX is in the JavaDoc comments. It should be noted that the code I&#39;m using uses the Eclipse JavaDoc hover heavily, but doesn&#39;t currently use the HTML JavaDocs. As well, complicated formulas can still be somewhat difficult to read in LaTeX (although better than MathML).","body":"I did try that, as noted in the post. I&#39;m very on the edge, however, about how readable LaTeX is in the JavaDoc comments. It should be noted that the code I&#39;m using uses the Eclipse JavaDoc hover heavily, but doesn&#39;t currently use the HTML JavaDocs. As well, complicated formulas can still be somewhat difficult to read in LaTeX (although better than MathML)."},{"owner":{"account_id":2230860,"reputation":4665,"user_id":1968462,"accept_rate":83,"display_name":"Kat"},"score":0,"creation_date":1405010195,"post_id":24672158,"comment_id":38269301,"body_markdown":"One &quot;solution&quot; I&#39;m considering is converting the LaTeX to an image and including that image in the JavaDoc (Eclipse will display images) with the LaTeX code as the image&#39;s alt text (for ease of updating the image in the future). I really would prefer a way to automatically generate the equations images directly from the JavaDocs, though.","body":"One &quot;solution&quot; I&#39;m considering is converting the LaTeX to an image and including that image in the JavaDoc (Eclipse will display images) with the LaTeX code as the image&#39;s alt text (for ease of updating the image in the future). I really would prefer a way to automatically generate the equations images directly from the JavaDocs, though."},{"owner":{"account_id":82244,"reputation":16384,"user_id":231397,"accept_rate":24,"display_name":"Christian Fries"},"score":0,"creation_date":1405058092,"post_id":24672158,"comment_id":38286038,"body_markdown":"Converting it to an image is what MathJax does. Converts it on the fly. If you convert it in a preprocessing you will have an ugly image tag and - I assume that you like to keep the latex for editing - the raw latex too. I believe it should be possible to enable JavaScript processing in Eclipse hover and solve the problem that way.","body":"Converting it to an image is what MathJax does. Converts it on the fly. If you convert it in a preprocessing you will have an ugly image tag and - I assume that you like to keep the latex for editing - the raw latex too. I believe it should be possible to enable JavaScript processing in Eclipse hover and solve the problem that way."},{"owner":{"account_id":2230860,"reputation":4665,"user_id":1968462,"accept_rate":83,"display_name":"Kat"},"score":0,"creation_date":1405090883,"post_id":24672158,"comment_id":38304398,"body_markdown":"True, but the issue is getting the image to display in Eclipse&#39;s hover. I&#39;ve already tried MathJax, and Eclipse doesn&#39;t execute JS in the hovers. This works for the HTML output only (which I&#39;m not using).","body":"True, but the issue is getting the image to display in Eclipse&#39;s hover. I&#39;ve already tried MathJax, and Eclipse doesn&#39;t execute JS in the hovers. This works for the HTML output only (which I&#39;m not using)."},{"owner":{"account_id":82244,"reputation":16384,"user_id":231397,"accept_rate":24,"display_name":"Christian Fries"},"score":0,"creation_date":1405103305,"post_id":24672158,"comment_id":38311087,"body_markdown":"I added CLSI to my answer, which might help you in creating that image (e.g. via REST like server).","body":"I added CLSI to my answer, which might help you in creating that image (e.g. via REST like server)."},{"owner":{"account_id":2230860,"reputation":4665,"user_id":1968462,"accept_rate":83,"display_name":"Kat"},"score":0,"creation_date":1405103944,"post_id":24672158,"comment_id":38311391,"body_markdown":"The CLSI solution works. Although instead of running a local server, I used CodeCog&#39;s Latex-to-image service. It&#39;s not perfect: I&#39;d prefer a local solution that doesn&#39;t require installing additional software, but it works. The URLs are *almost* LaTeX (spaces and plus signs are encoded), so it&#39;s mostly editable. I can also swap this out for a local service in the future, if needed.","body":"The CLSI solution works. Although instead of running a local server, I used CodeCog&#39;s Latex-to-image service. It&#39;s not perfect: I&#39;d prefer a local solution that doesn&#39;t require installing additional software, but it works. The URLs are <i>almost</i> LaTeX (spaces and plus signs are encoded), so it&#39;s mostly editable. I can also swap this out for a local service in the future, if needed."},{"owner":{"account_id":2230860,"reputation":4665,"user_id":1968462,"accept_rate":83,"display_name":"Kat"},"score":0,"creation_date":1405104122,"post_id":24672158,"comment_id":38311486,"body_markdown":"To elaborate, one can then include, for example, `&lt;img src=&quot;http://latex.codecogs.com/png.latex?\\frac{x&amp;space;&amp;plus;&amp;space;2}{\\pi}&quot; /&gt;` in their JavaDocs. Eclipse is able to properly display this as an image, and the LaTeX is in the URL in a somewhat readable fashion.","body":"To elaborate, one can then include, for example, <code>&lt;img src=&quot;http:&#47;&#47;latex.codecogs.com&#47;png.latex?\\frac{x&amp;space;&amp;plus&zwnj;&#8203;;&amp;space;2}{\\pi}&quot; &#47;&gt;</code> in their JavaDocs. Eclipse is able to properly display this as an image, and the LaTeX is in the URL in a somewhat readable fashion."},{"owner":{"account_id":2230860,"reputation":4665,"user_id":1968462,"accept_rate":83,"display_name":"Kat"},"score":0,"creation_date":1405104375,"post_id":24672158,"comment_id":38311610,"body_markdown":"Actually, it looks like you don&#39;t have to encode the spaces and + signs. `&lt;img src=&quot;http://latex.codecogs.com/png.latex?\\frac{x + 2}{\\pi}&quot; /&gt;` works fine. This is much more readable and would allow you to easily edit the equation directly in the JavaDoc comment. Of course, the spaces are encoded as `%20` by the software (eg, the browser), but work correctly in source code, anyway.","body":"Actually, it looks like you don&#39;t have to encode the spaces and + signs. <code>&lt;img src=&quot;http:&#47;&#47;latex.codecogs.com&#47;png.latex?\\frac{x + 2}{\\pi}&quot; &#47;&gt;</code> works fine. This is much more readable and would allow you to easily edit the equation directly in the JavaDoc comment. Of course, the spaces are encoded as <code>%20</code> by the software (eg, the browser), but work correctly in source code, anyway."},{"owner":{"account_id":82244,"reputation":16384,"user_id":231397,"accept_rate":24,"display_name":"Christian Fries"},"score":0,"creation_date":1405111705,"post_id":24672158,"comment_id":38315340,"body_markdown":"This is interesting. I would prefer the first solution, but maybe I try out the CLSI solution myself.","body":"This is interesting. I would prefer the first solution, but maybe I try out the CLSI solution myself."},{"owner":{"account_id":511520,"reputation":5175,"user_id":1339651,"display_name":"Peter Krautzberger"},"score":0,"creation_date":1492759306,"post_id":24672158,"comment_id":74124856,"body_markdown":"Note from the future: cdn.mathjax.org is nearing its end-of-life, check https://www.mathjax.org/cdn-shutting-down for migration tips (and perhaps update your answer for future readers).","body":"Note from the future: cdn.mathjax.org is nearing its end-of-life, check <a href=\"https://www.mathjax.org/cdn-shutting-down\" rel=\"nofollow noreferrer\">mathjax.org/cdn-shutting-down</a> for migration tips (and perhaps update your answer for future readers)."}],"tags":[],"owner":{"account_id":82244,"reputation":16384,"user_id":231397,"accept_rate":24,"display_name":"Christian Fries"},"comment_count":10,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673387971,"creation_date":1404982163,"answer_id":24672158,"question_id":24250916,"body_markdown":"**Suggestion 1: Use MathJax**\r\n\r\nI use MathJax to write LaTeX equations in JavaDoc. You may see the result here:\r\nhttps://javadoc.io/static/net.finmath/finmath-lib/6.0.12/net.finmath.lib/net/finmath/montecarlo/interestrate/models/LIBORMarketModelFromCovarianceModel.html\r\n\r\nHowever, MathJax relies on JavaScript and the Eclipse Hover does not support JavaScript. But then I must say that the MathJax LaTeX can be read even without renderer, so for me it is OK to have LaTeX code in the hover text. You will see it if you enable JavaScript in the hover text - but that is a different question.\r\n\r\nTo enable MathJax you just need to include a header in your docket config like\r\n\r\n    \t\t\t\t&lt;header&gt;\r\n\t\t\t   \t\t\t&lt;![CDATA[\r\n\t\t\t\t\t\t&lt;script type=&quot;text/javascript&quot; src=&quot;http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML&quot;&gt;\r\n\t\t\t\t\t\t&lt;/script&gt;\r\n\t\t\t   \t\t\t]]&gt;\r\n\t\t\t\t\t&lt;/header&gt;\r\n\r\n**Suggestion 2: Use CLSI on your local machine**\r\n\r\nIf you need this only for yourself you could run a [CLSI][1] (common-latex-service-interface). Then, maybe it is possible to just have an image tag with the latex code in its URL which returns an image). I have not elaborated on this... (personally I would prefer option 1, because it will also generate the LaTeX in the JavaDoc.\r\n\r\n\r\n  [1]: https://code.google.com/p/common-latex-service-interface/","title":"Eclipse JavaDoc LaTeX equations","body":"<p><strong>Suggestion 1: Use MathJax</strong></p>\n<p>I use MathJax to write LaTeX equations in JavaDoc. You may see the result here:\n<a href=\"https://javadoc.io/static/net.finmath/finmath-lib/6.0.12/net.finmath.lib/net/finmath/montecarlo/interestrate/models/LIBORMarketModelFromCovarianceModel.html\" rel=\"nofollow noreferrer\">https://javadoc.io/static/net.finmath/finmath-lib/6.0.12/net.finmath.lib/net/finmath/montecarlo/interestrate/models/LIBORMarketModelFromCovarianceModel.html</a></p>\n<p>However, MathJax relies on JavaScript and the Eclipse Hover does not support JavaScript. But then I must say that the MathJax LaTeX can be read even without renderer, so for me it is OK to have LaTeX code in the hover text. You will see it if you enable JavaScript in the hover text - but that is a different question.</p>\n<p>To enable MathJax you just need to include a header in your docket config like</p>\n<pre><code>                &lt;header&gt;\n                    &lt;![CDATA[\n                    &lt;script type=&quot;text/javascript&quot; src=&quot;http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML&quot;&gt;\n                    &lt;/script&gt;\n                    ]]&gt;\n                &lt;/header&gt;\n</code></pre>\n<p><strong>Suggestion 2: Use CLSI on your local machine</strong></p>\n<p>If you need this only for yourself you could run a <a href=\"https://code.google.com/p/common-latex-service-interface/\" rel=\"nofollow noreferrer\">CLSI</a> (common-latex-service-interface). Then, maybe it is possible to just have an image tag with the latex code in its URL which returns an image). I have not elaborated on this... (personally I would prefer option 1, because it will also generate the LaTeX in the JavaDoc.</p>\n"}],"owner":{"account_id":2230860,"reputation":4665,"user_id":1968462,"accept_rate":83,"display_name":"Kat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2368,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":24672158,"answer_count":2,"score":5,"last_activity_date":1673387971,"creation_date":1402947434,"question_id":24250916,"body_markdown":"I have code where it&#39;s common to have many equations in JavaDoc comments. I&#39;m currently using MathML to display these equations, as it&#39;s the only way I&#39;ve been able to get equations that can display in Eclipse&#39;s hover tooltips.\r\n\r\nI don&#39;t actually care about created HTML. I just need Eclipse&#39;s hover to display equations correctly.\r\n\r\nUnfortunately, MathML is **insanely** verbose. One line of *simple* LaTeX becomes 50 lines of MathML! It&#39;s cluttering up my source and the JavaDoc comments are unreadable in the source code (you *have* to hover over the method to read the comment).\r\n\r\nDoes anyone know a way to use LaTeX equations in Eclipse that will show up in this hover text?\r\n\r\nEDIT: Something like [this](http://zverovich.net/2012/01/14/beautiful-math-in-javadoc.html) would be preferable, but this doesn&#39;t work in Eclipse&#39;s hovers. Presumably there&#39;s no way to inject JavaScript in those.","title":"Eclipse JavaDoc LaTeX equations","body":"<p>I have code where it's common to have many equations in JavaDoc comments. I'm currently using MathML to display these equations, as it's the only way I've been able to get equations that can display in Eclipse's hover tooltips.</p>\n\n<p>I don't actually care about created HTML. I just need Eclipse's hover to display equations correctly.</p>\n\n<p>Unfortunately, MathML is <strong>insanely</strong> verbose. One line of <em>simple</em> LaTeX becomes 50 lines of MathML! It's cluttering up my source and the JavaDoc comments are unreadable in the source code (you <em>have</em> to hover over the method to read the comment).</p>\n\n<p>Does anyone know a way to use LaTeX equations in Eclipse that will show up in this hover text?</p>\n\n<p>EDIT: Something like <a href=\"http://zverovich.net/2012/01/14/beautiful-math-in-javadoc.html\" rel=\"nofollow\">this</a> would be preferable, but this doesn't work in Eclipse's hovers. Presumably there's no way to inject JavaScript in those.</p>\n"},{"tags":["java","google-bigquery","google-cloud-dataflow","apache-beam"],"comments":[{"owner":{"account_id":541415,"reputation":1277,"user_id":1260237,"accept_rate":80,"display_name":"Jeff Klukas"},"score":0,"creation_date":1673383411,"post_id":75075060,"comment_id":132485503,"body_markdown":"It looks like there may be no default coder registered for type TableRow. You can try calling `.setCoder(TableRowJsonCoder)` (see [docs for that class](https://beam.apache.org/releases/javadoc/2.40.0/org/apache/beam/sdk/io/gcp/bigquery/TableRowJsonCoder.html)) right before `.apply(&quot;Write to BQ&quot;, ...`","body":"It looks like there may be no default coder registered for type TableRow. You can try calling <code>.setCoder(TableRowJsonCoder)</code> (see <a href=\"https://beam.apache.org/releases/javadoc/2.40.0/org/apache/beam/sdk/io/gcp/bigquery/TableRowJsonCoder.html\" rel=\"nofollow noreferrer\">docs for that class</a>) right before <code>.apply(&quot;Write to BQ&quot;, ...</code>"},{"owner":{"account_id":18604807,"reputation":75,"user_id":13558695,"display_name":"Ben Delany"},"score":0,"creation_date":1673383874,"post_id":75075060,"comment_id":132485652,"body_markdown":"Tht sounds right. How do I instantiate the TableRowJsonCoder? TableRowJsonCoder.of(Schema) and TableRowJsonCoder.of(TableSchema) both give type mismatch errors, but the docs don&#39;t say which type is expected.","body":"Tht sounds right. How do I instantiate the TableRowJsonCoder? TableRowJsonCoder.of(Schema) and TableRowJsonCoder.of(TableSchema) both give type mismatch errors, but the docs don&#39;t say which type is expected."},{"owner":{"account_id":18604807,"reputation":75,"user_id":13558695,"display_name":"Ben Delany"},"score":0,"creation_date":1673384627,"post_id":75075060,"comment_id":132485869,"body_markdown":"I get the same error when adding: \n\n.setCoder(TableRowJsonCoder.of())\n.apply(&quot;Write to BQ&quot;,...","body":"I get the same error when adding:   .setCoder(TableRowJsonCoder.of()) .apply(&quot;Write to BQ&quot;,..."},{"owner":{"account_id":12799902,"reputation":5994,"user_id":9261558,"display_name":"Mazlum Tosun"},"score":0,"creation_date":1673385898,"post_id":75075060,"comment_id":132486244,"body_markdown":"How your schema is created in the `withSchema(schema)` method ?","body":"How your schema is created in the <code>withSchema(schema)</code> method ?"},{"owner":{"account_id":12799902,"reputation":5994,"user_id":9261558,"display_name":"Mazlum Tosun"},"score":0,"creation_date":1673385956,"post_id":75075060,"comment_id":132486265,"body_markdown":"I think your error is due to a bad schema in the `withSchema(schema)` function","body":"I think your error is due to a bad schema in the <code>withSchema(schema)</code> function"},{"owner":{"account_id":18604807,"reputation":75,"user_id":13558695,"display_name":"Ben Delany"},"score":0,"creation_date":1673386455,"post_id":75075060,"comment_id":132486384,"body_markdown":"I set the schema using the following - withSchema() requires a TableSchema.\n\nTableSchema SCHEMA = new TableSchema();\n    SCHEMA.set(&quot;STATE_C&quot;, Schema.FieldType.STRING);\n    SCHEMA.set(&quot;NAME&quot;, Schema.FieldType.STRING);\n    SCHEMA.set(&quot;TITLE&quot;, Schema.FieldType.STRING);\n    SCHEMA.set(&quot;ABBR&quot;, Schema.FieldType.STRING);\n    SCHEMA.set(&quot;INTERNAL_ID&quot;, Schema.FieldType.STRING);","body":"I set the schema using the following - withSchema() requires a TableSchema.  TableSchema SCHEMA = new TableSchema();     SCHEMA.set(&quot;STATE_C&quot;, Schema.FieldType.STRING);     SCHEMA.set(&quot;NAME&quot;, Schema.FieldType.STRING);     SCHEMA.set(&quot;TITLE&quot;, Schema.FieldType.STRING);     SCHEMA.set(&quot;ABBR&quot;, Schema.FieldType.STRING);     SCHEMA.set(&quot;INTERNAL_ID&quot;, Schema.FieldType.STRING);"}],"answers":[{"comments":[{"owner":{"account_id":12799902,"reputation":5994,"user_id":9261558,"display_name":"Mazlum Tosun"},"score":0,"creation_date":1673389436,"post_id":75076099,"comment_id":132487140,"body_markdown":"If you use Json schema, you have to use `withJsonSchema` method instead of `withSchema`","body":"If you use Json schema, you have to use <code>withJsonSchema</code> method instead of <code>withSchema</code>"}],"tags":[],"owner":{"account_id":12799902,"reputation":5994,"user_id":9261558,"display_name":"Mazlum Tosun"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673386905,"creation_date":1673386456,"answer_id":75076099,"question_id":75075060,"body_markdown":"The current error is due to a bad schema passed in the `withSchema(schema)` method in `BigQueryIO`.\r\n\r\nThe schema can be created with `TableSchema` object : \r\n\r\n```java\r\nTableSchema schema =\r\n        new TableSchema()\r\n            .setFields(\r\n                Arrays.asList(\r\n                    new TableFieldSchema()\r\n                        .setName(&quot;string_field&quot;)\r\n                        .setType(&quot;STRING&quot;)\r\n                        .setMode(&quot;REQUIRED&quot;),\r\n                    new TableFieldSchema()\r\n                        .setName(&quot;int64_field&quot;)\r\n                        .setType(&quot;INT64&quot;)\r\n                        .setMode(&quot;NULLABLE&quot;),\r\n                    new TableFieldSchema()\r\n                        .setName(&quot;float64_field&quot;)\r\n                        .setType(&quot;FLOAT64&quot;), // default mode is &quot;NULLABLE&quot;\r\n                    new TableFieldSchema().setName(&quot;numeric_field&quot;).setType(&quot;NUMERIC&quot;),\r\n                    new TableFieldSchema().setName(&quot;bool_field&quot;).setType(&quot;BOOL&quot;),\r\n                    new TableFieldSchema().setName(&quot;bytes_field&quot;).setType(&quot;BYTES&quot;),\r\n                    new TableFieldSchema().setName(&quot;date_field&quot;).setType(&quot;DATE&quot;),\r\n                    new TableFieldSchema().setName(&quot;datetime_field&quot;).setType(&quot;DATETIME&quot;),\r\n                    new TableFieldSchema().setName(&quot;time_field&quot;).setType(&quot;TIME&quot;),\r\n                    new TableFieldSchema().setName(&quot;timestamp_field&quot;).setType(&quot;TIMESTAMP&quot;),\r\n                    new TableFieldSchema().setName(&quot;geography_field&quot;).setType(&quot;GEOGRAPHY&quot;),\r\n                    new TableFieldSchema()\r\n                        .setName(&quot;array_field&quot;)\r\n                        .setType(&quot;INT64&quot;)\r\n                        .setMode(&quot;REPEATED&quot;)\r\n                        .setDescription(&quot;Setting the mode to REPEATED makes this an ARRAY&lt;INT64&gt;.&quot;),\r\n                    new TableFieldSchema()\r\n                        .setName(&quot;struct_field&quot;)\r\n                        .setType(&quot;STRUCT&quot;)\r\n                        .setDescription(\r\n                            &quot;A STRUCT accepts a custom data class, the fields must match the custom class fields.&quot;)\r\n                        .setFields(\r\n                            Arrays.asList(\r\n                                new TableFieldSchema().setName(&quot;string_value&quot;).setType(&quot;STRING&quot;),\r\n                                new TableFieldSchema().setName(&quot;int64_value&quot;).setType(&quot;INT64&quot;)))));\r\n    return schema;\r\n\r\n// In the IO.\r\nrows.apply(\r\n        &quot;Write to BigQuery&quot;,\r\n        BigQueryIO.writeTableRows()\r\n            .to(String.format(&quot;%s:%s.%s&quot;, project, dataset, table))\r\n            .withSchema(schema)\r\n            ...\r\n```\r\n\r\nYou can also use a `Json` schema : \r\n\r\n```java\r\nString tableSchemaJson =\r\n    &quot;&quot;\r\n        + &quot;{&quot;\r\n        + &quot;  \\&quot;fields\\&quot;: [&quot;\r\n        + &quot;    {&quot;\r\n        + &quot;      \\&quot;name\\&quot;: \\&quot;source\\&quot;,&quot;\r\n        + &quot;      \\&quot;type\\&quot;: \\&quot;STRING\\&quot;,&quot;\r\n        + &quot;      \\&quot;mode\\&quot;: \\&quot;NULLABLE\\&quot;&quot;\r\n        + &quot;    },&quot;\r\n        + &quot;    {&quot;\r\n        + &quot;      \\&quot;name\\&quot;: \\&quot;quote\\&quot;,&quot;\r\n        + &quot;      \\&quot;type\\&quot;: \\&quot;STRING\\&quot;,&quot;\r\n        + &quot;      \\&quot;mode\\&quot;: \\&quot;REQUIRED\\&quot;&quot;\r\n        + &quot;    }&quot;\r\n        + &quot;  ]&quot;\r\n        + &quot;}&quot;;\r\n\r\n// In the IO.\r\nrows.apply(\r\n        &quot;Write to BigQuery&quot;,\r\n        BigQueryIO.writeTableRows()\r\n            .to(String.format(&quot;%s:%s.%s&quot;, project, dataset, table))\r\n            .withJsonSchema(tableSchemaJson)\r\n            ...\r\n```\r\n\r\nYou can check the [documentation](https://beam.apache.org/documentation/io/built-in/google-bigquery/) to have more details.\r\n\r\n\r\n\r\n","title":"Null Pointer in BigQueryIO Write","body":"<p>The current error is due to a bad schema passed in the <code>withSchema(schema)</code> method in <code>BigQueryIO</code>.</p>\n<p>The schema can be created with <code>TableSchema</code> object :</p>\n<pre class=\"lang-java prettyprint-override\"><code>TableSchema schema =\n        new TableSchema()\n            .setFields(\n                Arrays.asList(\n                    new TableFieldSchema()\n                        .setName(&quot;string_field&quot;)\n                        .setType(&quot;STRING&quot;)\n                        .setMode(&quot;REQUIRED&quot;),\n                    new TableFieldSchema()\n                        .setName(&quot;int64_field&quot;)\n                        .setType(&quot;INT64&quot;)\n                        .setMode(&quot;NULLABLE&quot;),\n                    new TableFieldSchema()\n                        .setName(&quot;float64_field&quot;)\n                        .setType(&quot;FLOAT64&quot;), // default mode is &quot;NULLABLE&quot;\n                    new TableFieldSchema().setName(&quot;numeric_field&quot;).setType(&quot;NUMERIC&quot;),\n                    new TableFieldSchema().setName(&quot;bool_field&quot;).setType(&quot;BOOL&quot;),\n                    new TableFieldSchema().setName(&quot;bytes_field&quot;).setType(&quot;BYTES&quot;),\n                    new TableFieldSchema().setName(&quot;date_field&quot;).setType(&quot;DATE&quot;),\n                    new TableFieldSchema().setName(&quot;datetime_field&quot;).setType(&quot;DATETIME&quot;),\n                    new TableFieldSchema().setName(&quot;time_field&quot;).setType(&quot;TIME&quot;),\n                    new TableFieldSchema().setName(&quot;timestamp_field&quot;).setType(&quot;TIMESTAMP&quot;),\n                    new TableFieldSchema().setName(&quot;geography_field&quot;).setType(&quot;GEOGRAPHY&quot;),\n                    new TableFieldSchema()\n                        .setName(&quot;array_field&quot;)\n                        .setType(&quot;INT64&quot;)\n                        .setMode(&quot;REPEATED&quot;)\n                        .setDescription(&quot;Setting the mode to REPEATED makes this an ARRAY&lt;INT64&gt;.&quot;),\n                    new TableFieldSchema()\n                        .setName(&quot;struct_field&quot;)\n                        .setType(&quot;STRUCT&quot;)\n                        .setDescription(\n                            &quot;A STRUCT accepts a custom data class, the fields must match the custom class fields.&quot;)\n                        .setFields(\n                            Arrays.asList(\n                                new TableFieldSchema().setName(&quot;string_value&quot;).setType(&quot;STRING&quot;),\n                                new TableFieldSchema().setName(&quot;int64_value&quot;).setType(&quot;INT64&quot;)))));\n    return schema;\n\n// In the IO.\nrows.apply(\n        &quot;Write to BigQuery&quot;,\n        BigQueryIO.writeTableRows()\n            .to(String.format(&quot;%s:%s.%s&quot;, project, dataset, table))\n            .withSchema(schema)\n            ...\n</code></pre>\n<p>You can also use a <code>Json</code> schema :</p>\n<pre class=\"lang-java prettyprint-override\"><code>String tableSchemaJson =\n    &quot;&quot;\n        + &quot;{&quot;\n        + &quot;  \\&quot;fields\\&quot;: [&quot;\n        + &quot;    {&quot;\n        + &quot;      \\&quot;name\\&quot;: \\&quot;source\\&quot;,&quot;\n        + &quot;      \\&quot;type\\&quot;: \\&quot;STRING\\&quot;,&quot;\n        + &quot;      \\&quot;mode\\&quot;: \\&quot;NULLABLE\\&quot;&quot;\n        + &quot;    },&quot;\n        + &quot;    {&quot;\n        + &quot;      \\&quot;name\\&quot;: \\&quot;quote\\&quot;,&quot;\n        + &quot;      \\&quot;type\\&quot;: \\&quot;STRING\\&quot;,&quot;\n        + &quot;      \\&quot;mode\\&quot;: \\&quot;REQUIRED\\&quot;&quot;\n        + &quot;    }&quot;\n        + &quot;  ]&quot;\n        + &quot;}&quot;;\n\n// In the IO.\nrows.apply(\n        &quot;Write to BigQuery&quot;,\n        BigQueryIO.writeTableRows()\n            .to(String.format(&quot;%s:%s.%s&quot;, project, dataset, table))\n            .withJsonSchema(tableSchemaJson)\n            ...\n</code></pre>\n<p>You can check the <a href=\"https://beam.apache.org/documentation/io/built-in/google-bigquery/\" rel=\"nofollow noreferrer\">documentation</a> to have more details.</p>\n"}],"owner":{"account_id":18604807,"reputation":75,"user_id":13558695,"display_name":"Ben Delany"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673386905,"creation_date":1673379768,"question_id":75075060,"body_markdown":"I&#39;m getting a null pointer exception in my Dataflow pipeline, but all of the values at the location of the exception are defined correctly. In this code I am reading from a database, doing some conversions on the result set, and then trying o create a table in an existing dataset based on the table rows in that result set. I&#39;ve confirmed the values passed to the BigQueryIO.writeTableRows() call are all valid, but still I get an exception on the line where I try to carry out the write to Big Query. I starred the location of the null pointer exception in the code below. \r\n\r\n\r\n        // Gather First query results\r\n    WriteResult results = pipeline\r\n            .apply(&quot;Connect&quot;, JdbcIO.&lt;TableRow&gt;read()\r\n                    .withDataSourceConfiguration(buildDataSourceConfig(options, URL))\r\n                    .withQuery(query)\r\n                    .withRowMapper(new JdbcIO.RowMapper&lt;TableRow&gt;() {\r\n                      // Convert ResultSet to PCollection\r\n                      public TableRow mapRow(ResultSet rs) throws Exception {\r\n\r\n                        ResultSetMetaData md = rs.getMetaData();\r\n                        int columnCount = md.getColumnCount();\r\n                        TableRow tr = new TableRow();\r\n                        for (int i = 1; i &lt;= columnCount; i++ ) {\r\n                          String name = md.getColumnName(i);\r\n                          tr.set(name, rs.getString(name));\r\n                        }\r\n                        return tr;\r\n                      }\r\n                    }))\r\n            .setCoder(TableRowJsonCoder.of())\r\n            .apply(&quot;Write to BQ&quot;,\r\n                    BigQueryIO.writeTableRows()\r\n                            .withSchema(schema)\r\n                            .to(dataset)\r\n                            .withWriteDisposition(BigQueryIO.Write.WriteDisposition.WRITE_TRUNCATE)\r\n                            .withCreateDisposition(BigQueryIO.Write.CreateDisposition.CREATE_IF_NEEDED));\r\n---\r\n\r\n    023-01-10T20:33:22.4214526Z WARNING: Unable to infer a schema for type com.google.api.services.bigquery.model.TableRow. Attempting to infer a coder without a schema.\r\n    2023-01-10T20:33:22.4216783Z Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n    2023-01-10T20:33:22.4218945Z \tat org.apache.beam.sdk.io.gcp.bigquery.BigQueryIO$Write.validateNoJsonTypeInSchema(BigQueryIO.java:3035)\r\n    2023-01-10T20:33:22.4221029Z \tat org.apache.beam.sdk.io.gcp.bigquery.BigQueryIO$Write.continueExpandTyped(BigQueryIO.java:2949)\r\n    2023-01-10T20:33:22.4222727Z \tat org.apache.beam.sdk.io.gcp.bigquery.BigQueryIO$Write.expandTyped(BigQueryIO.java:2880)\r\n    2023-01-10T20:33:22.4226464Z \tat org.apache.beam.sdk.io.gcp.bigquery.BigQueryIO$Write.expand(BigQueryIO.java:2776)\r\n    2023-01-10T20:33:22.4228072Z \tat org.apache.beam.sdk.io.gcp.bigquery.BigQueryIO$Write.expand(BigQueryIO.java:1786)\r\n    2023-01-10T20:33:22.4234778Z \tat org.apache.beam.sdk.Pipeline.applyInternal(Pipeline.java:548)\r\n    2023-01-10T20:33:22.4237961Z \tat org.apache.beam.sdk.Pipeline.applyTransform(Pipeline.java:499)\r\n    2023-01-10T20:33:22.4240010Z \tat org.apache.beam.sdk.values.PCollection.apply(PCollection.java:376)\r\n    2023-01-10T20:33:22.4242466Z \tat edu.mayo.mcc.aide.sqaTransfer.SqaTransfer.buildPipeline(SqaTransfer.java:133)\r\n    2023-01-10T20:33:22.4244722Z \tat edu.mayo.mcc.aide.sqaTransfer.SqaTransfer.main(SqaTransfer.java:99)\r\n    2023-01-10T20:33:22.4246444Z . exit status 1","title":"Null Pointer in BigQueryIO Write","body":"<p>I'm getting a null pointer exception in my Dataflow pipeline, but all of the values at the location of the exception are defined correctly. In this code I am reading from a database, doing some conversions on the result set, and then trying o create a table in an existing dataset based on the table rows in that result set. I've confirmed the values passed to the BigQueryIO.writeTableRows() call are all valid, but still I get an exception on the line where I try to carry out the write to Big Query. I starred the location of the null pointer exception in the code below.</p>\n<pre><code>    // Gather First query results\nWriteResult results = pipeline\n        .apply(&quot;Connect&quot;, JdbcIO.&lt;TableRow&gt;read()\n                .withDataSourceConfiguration(buildDataSourceConfig(options, URL))\n                .withQuery(query)\n                .withRowMapper(new JdbcIO.RowMapper&lt;TableRow&gt;() {\n                  // Convert ResultSet to PCollection\n                  public TableRow mapRow(ResultSet rs) throws Exception {\n\n                    ResultSetMetaData md = rs.getMetaData();\n                    int columnCount = md.getColumnCount();\n                    TableRow tr = new TableRow();\n                    for (int i = 1; i &lt;= columnCount; i++ ) {\n                      String name = md.getColumnName(i);\n                      tr.set(name, rs.getString(name));\n                    }\n                    return tr;\n                  }\n                }))\n        .setCoder(TableRowJsonCoder.of())\n        .apply(&quot;Write to BQ&quot;,\n                BigQueryIO.writeTableRows()\n                        .withSchema(schema)\n                        .to(dataset)\n                        .withWriteDisposition(BigQueryIO.Write.WriteDisposition.WRITE_TRUNCATE)\n                        .withCreateDisposition(BigQueryIO.Write.CreateDisposition.CREATE_IF_NEEDED));\n</code></pre>\n<hr />\n<pre><code>023-01-10T20:33:22.4214526Z WARNING: Unable to infer a schema for type com.google.api.services.bigquery.model.TableRow. Attempting to infer a coder without a schema.\n2023-01-10T20:33:22.4216783Z Exception in thread &quot;main&quot; java.lang.NullPointerException\n2023-01-10T20:33:22.4218945Z    at org.apache.beam.sdk.io.gcp.bigquery.BigQueryIO$Write.validateNoJsonTypeInSchema(BigQueryIO.java:3035)\n2023-01-10T20:33:22.4221029Z    at org.apache.beam.sdk.io.gcp.bigquery.BigQueryIO$Write.continueExpandTyped(BigQueryIO.java:2949)\n2023-01-10T20:33:22.4222727Z    at org.apache.beam.sdk.io.gcp.bigquery.BigQueryIO$Write.expandTyped(BigQueryIO.java:2880)\n2023-01-10T20:33:22.4226464Z    at org.apache.beam.sdk.io.gcp.bigquery.BigQueryIO$Write.expand(BigQueryIO.java:2776)\n2023-01-10T20:33:22.4228072Z    at org.apache.beam.sdk.io.gcp.bigquery.BigQueryIO$Write.expand(BigQueryIO.java:1786)\n2023-01-10T20:33:22.4234778Z    at org.apache.beam.sdk.Pipeline.applyInternal(Pipeline.java:548)\n2023-01-10T20:33:22.4237961Z    at org.apache.beam.sdk.Pipeline.applyTransform(Pipeline.java:499)\n2023-01-10T20:33:22.4240010Z    at org.apache.beam.sdk.values.PCollection.apply(PCollection.java:376)\n2023-01-10T20:33:22.4242466Z    at edu.mayo.mcc.aide.sqaTransfer.SqaTransfer.buildPipeline(SqaTransfer.java:133)\n2023-01-10T20:33:22.4244722Z    at edu.mayo.mcc.aide.sqaTransfer.SqaTransfer.main(SqaTransfer.java:99)\n2023-01-10T20:33:22.4246444Z . exit status 1\n</code></pre>\n"},{"tags":["java","arrays","algorithm","sorting"],"comments":[{"owner":{"account_id":443256,"reputation":12498,"user_id":834362,"display_name":"home"},"score":1,"creation_date":1328896615,"post_id":9232413,"comment_id":11627649,"body_markdown":"Please tell us about your question?","body":"Please tell us about your question?"},{"owner":{"account_id":278712,"reputation":12609,"user_id":573432,"accept_rate":93,"display_name":"Phonon"},"score":0,"creation_date":1328896676,"post_id":9232413,"comment_id":11627667,"body_markdown":"This should go on code review instead","body":"This should go on code review instead"},{"owner":{"account_id":366091,"reputation":13257,"user_id":711416,"accept_rate":86,"display_name":"Nahydrin"},"score":0,"creation_date":1328896714,"post_id":9232413,"comment_id":11627685,"body_markdown":"Just because one array is bigger, does not mean combining both arrays will result in the same size.","body":"Just because one array is bigger, does not mean combining both arrays will result in the same size."},{"owner":{"account_id":886478,"reputation":9207,"user_id":925806,"display_name":"Ashwinee K Jha"},"score":0,"creation_date":1328896892,"post_id":9232413,"comment_id":11627753,"body_markdown":"@BrianGraham OP is creating new array with appropriate size at end of the program so this should not be a problem.","body":"@BrianGraham OP is creating new array with appropriate size at end of the program so this should not be a problem."},{"owner":{"account_id":366091,"reputation":13257,"user_id":711416,"accept_rate":86,"display_name":"Nahydrin"},"score":0,"creation_date":1328897043,"post_id":9232413,"comment_id":11627804,"body_markdown":"@AKJ If I have `[0, 1, 2, 3, 4]` and `[5, 6, 4, 9, 8]`, the resulting intersection is larger than how he&#39;s determing the size; resulting in missing values.","body":"@AKJ If I have <code>[0, 1, 2, 3, 4]</code> and <code>[5, 6, 4, 9, 8]</code>, the resulting intersection is larger than how he&#39;s determing the size; resulting in missing values."},{"owner":{"account_id":1187979,"reputation":143,"user_id":1161544,"display_name":"Artur Galiullin"},"score":0,"creation_date":1328897510,"post_id":9232413,"comment_id":11627968,"body_markdown":"@BrianGraham the size is determined by index ci, which increments only when equal values are detected.","body":"@BrianGraham the size is determined by index ci, which increments only when equal values are detected."},{"owner":{"account_id":366091,"reputation":13257,"user_id":711416,"accept_rate":86,"display_name":"Nahydrin"},"score":0,"creation_date":1328897724,"post_id":9232413,"comment_id":11628050,"body_markdown":"You both don&#39;t see the problem, I&#39;m amazed at that. I&#39;ll move this to an answer...","body":"You both don&#39;t see the problem, I&#39;m amazed at that. I&#39;ll move this to an answer..."},{"owner":{"account_id":1187979,"reputation":143,"user_id":1161544,"display_name":"Artur Galiullin"},"score":0,"creation_date":1328897836,"post_id":9232413,"comment_id":11628082,"body_markdown":"@BrianGraham I&#39;ve added your test case in my edit (only the second array input is sorted, as per the spec)","body":"@BrianGraham I&#39;ve added your test case in my edit (only the second array input is sorted, as per the spec)"},{"owner":{"account_id":366091,"reputation":13257,"user_id":711416,"accept_rate":86,"display_name":"Nahydrin"},"score":0,"creation_date":1328898101,"post_id":9232413,"comment_id":11628182,"body_markdown":"Alright then, at least it works.","body":"Alright then, at least it works."},{"owner":{"account_id":202552,"reputation":12096,"user_id":449693,"accept_rate":58,"display_name":"Tony Ennis"},"score":0,"creation_date":1328899707,"post_id":9232413,"comment_id":11628651,"body_markdown":"The right answer is to just slam the vales into a TreeMap then produce the output array using a getter.  The solution above is what a C programmer would do.   What happens when the next interview question is, &quot;Same question, but what if the input lists are not sorted?&quot;  The TreeMap solution requires no change.","body":"The right answer is to just slam the vales into a TreeMap then produce the output array using a getter.  The solution above is what a C programmer would do.   What happens when the next interview question is, &quot;Same question, but what if the input lists are not sorted?&quot;  The TreeMap solution requires no change."},{"owner":{"account_id":1187979,"reputation":143,"user_id":1161544,"display_name":"Artur Galiullin"},"score":0,"creation_date":1328905014,"post_id":9232413,"comment_id":11630421,"body_markdown":"@TonyEnnis The question asks to intersect the arrays, not merge them, I&#39;m sorry if that wasn&#39;t clear (I will include an example); I&#39;m not sure how a TreeMap can help in that regard. Also, just inserting all elements into a TreeMap (a Red-Black tree) will increase the complexity to O((M+N)*log(M+N)), where M and N are sizes of A and B respectively. Please correct me if I&#39;m wrong.","body":"@TonyEnnis The question asks to intersect the arrays, not merge them, I&#39;m sorry if that wasn&#39;t clear (I will include an example); I&#39;m not sure how a TreeMap can help in that regard. Also, just inserting all elements into a TreeMap (a Red-Black tree) will increase the complexity to O((M+N)*log(M+N)), where M and N are sizes of A and B respectively. Please correct me if I&#39;m wrong."},{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1673447105,"post_id":9232413,"comment_id":132501274,"body_markdown":"See also: [How to intersect two sorted arrays the fastest possible way?](https://stackoverflow.com/q/42538902)","body":"See also: <a href=\"https://stackoverflow.com/q/42538902\">How to intersect two sorted arrays the fastest possible way?</a>"}],"answers":[{"comments":[{"owner":{"account_id":886478,"reputation":9207,"user_id":925806,"display_name":"Ashwinee K Jha"},"score":0,"creation_date":1328897045,"post_id":9232479,"comment_id":11627806,"body_markdown":"@aix I dont see a loop here. Also what if indices goes out of array length.","body":"@aix I dont see a loop here. Also what if indices goes out of array length."},{"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"score":0,"creation_date":1328897196,"post_id":9232479,"comment_id":11627859,"body_markdown":"@AKJ: There was no loop in the very first version I posted (due to a bizarre copy-and-paste error on my part). I&#39;ve fixed that a while ago. If you refresh, you should see the correct version.","body":"@AKJ: There was no loop in the very first version I posted (due to a bizarre copy-and-paste error on my part). I&#39;ve fixed that a while ago. If you refresh, you should see the correct version."},{"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"score":0,"creation_date":1328897704,"post_id":9232479,"comment_id":11628040,"body_markdown":"@AKJ: I am not sure what you mean by &quot;indices goes out of array length&quot;. `ai` and `bi` are constrained by the `while` condition, and `c` is large enough by construction.","body":"@AKJ: I am not sure what you mean by &quot;indices goes out of array length&quot;. <code>ai</code> and <code>bi</code> are constrained by the <code>while</code> condition, and <code>c</code> is large enough by construction."},{"owner":{"account_id":886478,"reputation":9207,"user_id":925806,"display_name":"Ashwinee K Jha"},"score":0,"creation_date":1328898865,"post_id":9232479,"comment_id":11628399,"body_markdown":"@aix, I was looking at the code without while loop hence the confusion.","body":"@aix, I was looking at the code without while loop hence the confusion."},{"owner":{"account_id":1187979,"reputation":143,"user_id":1161544,"display_name":"Artur Galiullin"},"score":0,"creation_date":1328905688,"post_id":9232479,"comment_id":11630649,"body_markdown":"I like this. Signficiant compression without loss of readibility. Thanks!","body":"I like this. Signficiant compression without loss of readibility. Thanks!"},{"owner":{"account_id":131288,"reputation":17504,"user_id":331174,"accept_rate":61,"display_name":"Muhammad Adeel Zahid"},"score":0,"creation_date":1486500149,"post_id":9232479,"comment_id":71369425,"body_markdown":"can&#39;t get `int[] c = new int[Math.min(a.length, b.length)];`. shouldn&#39;t the merged array size be equal to `a.length + b.length`? Shouldn&#39;t the array indices go out of bound in this case?","body":"can&#39;t get <code>int[] c = new int[Math.min(a.length, b.length)];</code>. shouldn&#39;t the merged array size be equal to <code>a.length + b.length</code>? Shouldn&#39;t the array indices go out of bound in this case?"}],"tags":[],"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"comment_count":6,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1328903156,"creation_date":1328896691,"answer_id":9232479,"question_id":9232413,"body_markdown":"How about:\r\n\r\n\tpublic static int[] intersectSortedArrays(int[] a, int[] b){\r\n\t    int[] c = new int[Math.min(a.length, b.length)]; \r\n\t    int ai = 0, bi = 0, ci = 0;\r\n\t    while (ai &lt; a.length &amp;&amp; bi &lt; b.length) {\r\n\t    \tif (a[ai] &lt; b[bi]) {\r\n\t    \t\tai++;\r\n\t    \t} else if (a[ai] &gt; b[bi]) {\r\n\t    \t\tbi++;\r\n\t    \t} else {\r\n\t    \t\tif (ci == 0 || a[ai] != c[ci - 1]) {\r\n\t    \t\t\tc[ci++] = a[ai];\r\n\t    \t\t}\r\n\t    \t\tai++; bi++;\r\n\t    \t}\r\n\t    }\r\n    \treturn Arrays.copyOfRange(c, 0, ci); \r\n\t}\r\n\r\nConceptually it&#39;s similar to yours, but contains a number of simplifications.\r\n\r\nI don&#39;t think you can improve on the time complexity.\r\n\r\n**edit:** I&#39;ve tried this code, and it passes all of your unit tests.","title":"How to intersect two sorted integer arrays without duplicates?","body":"<p>How about:</p>\n\n<pre><code>public static int[] intersectSortedArrays(int[] a, int[] b){\n    int[] c = new int[Math.min(a.length, b.length)]; \n    int ai = 0, bi = 0, ci = 0;\n    while (ai &lt; a.length &amp;&amp; bi &lt; b.length) {\n        if (a[ai] &lt; b[bi]) {\n            ai++;\n        } else if (a[ai] &gt; b[bi]) {\n            bi++;\n        } else {\n            if (ci == 0 || a[ai] != c[ci - 1]) {\n                c[ci++] = a[ai];\n            }\n            ai++; bi++;\n        }\n    }\n    return Arrays.copyOfRange(c, 0, ci); \n}\n</code></pre>\n\n<p>Conceptually it's similar to yours, but contains a number of simplifications.</p>\n\n<p>I don't think you can improve on the time complexity.</p>\n\n<p><strong>edit:</strong> I've tried this code, and it passes all of your unit tests.</p>\n"},{"comments":[{"owner":{"account_id":202552,"reputation":12096,"user_id":449693,"accept_rate":58,"display_name":"Tony Ennis"},"score":0,"creation_date":1328899949,"post_id":9233119,"comment_id":11628724,"body_markdown":"This is more idiomatic though a TreeSet (etc) may be nice to use.","body":"This is more idiomatic though a TreeSet (etc) may be nice to use."},{"owner":{"account_id":173196,"reputation":2231,"user_id":401727,"accept_rate":100,"display_name":"bchetty"},"score":0,"creation_date":1328900117,"post_id":9233119,"comment_id":11628799,"body_markdown":"Also, a bit idiotic (specially if someone is trying to learn algorithms). :)","body":"Also, a bit idiotic (specially if someone is trying to learn algorithms). :)"},{"owner":{"account_id":173196,"reputation":2231,"user_id":401727,"accept_rate":100,"display_name":"bchetty"},"score":0,"creation_date":1328900550,"post_id":9233119,"comment_id":11628946,"body_markdown":"Tony, tried to post a fast solution and forgot that. I edited the code to use TreeSet. Thanks for the suggestion. :)","body":"Tony, tried to post a fast solution and forgot that. I edited the code to use TreeSet. Thanks for the suggestion. :)"},{"owner":{"account_id":202552,"reputation":12096,"user_id":449693,"accept_rate":58,"display_name":"Tony Ennis"},"score":0,"creation_date":1328902941,"post_id":9233119,"comment_id":11629762,"body_markdown":"Your solution is a *far* better interview answer.  I would probably reject an interviewee who answered with the &quot;C-like&quot; solution.","body":"Your solution is a <i>far</i> better interview answer.  I would probably reject an interviewee who answered with the &quot;C-like&quot; solution."},{"owner":{"account_id":1187979,"reputation":143,"user_id":1161544,"display_name":"Artur Galiullin"},"score":0,"creation_date":1328904232,"post_id":9233119,"comment_id":11630197,"body_markdown":"Actually, the question asks to intersect the arrays, not merge them.","body":"Actually, the question asks to intersect the arrays, not merge them."},{"owner":{"account_id":202552,"reputation":12096,"user_id":449693,"accept_rate":58,"display_name":"Tony Ennis"},"score":1,"creation_date":1328904718,"post_id":9233119,"comment_id":11630340,"body_markdown":"-1 for reading comprehension for me.  Was that changed after the question was originally posted?","body":"-1 for reading comprehension for me.  Was that changed after the question was originally posted?"},{"owner":{"account_id":1187979,"reputation":143,"user_id":1161544,"display_name":"Artur Galiullin"},"score":0,"creation_date":1328905194,"post_id":9233119,"comment_id":11630483,"body_markdown":"@TonyEnnis No, but I just added an example for clarity.","body":"@TonyEnnis No, but I just added an example for clarity."},{"owner":{"account_id":55050,"reputation":190529,"user_id":164835,"accept_rate":80,"display_name":"Kent"},"score":0,"creation_date":1328924126,"post_id":9233119,"comment_id":11634755,"body_markdown":"I think if the question tagged as algorithm, the high level api like list.contains(e) might be not allowed to be used... otherwise, I would suggest guava or apache commons, with an oneliner to get the thing. ;)","body":"I think if the question tagged as algorithm, the high level api like list.contains(e) might be not allowed to be used... otherwise, I would suggest guava or apache commons, with an oneliner to get the thing. ;)"}],"tags":[],"owner":{"account_id":173196,"reputation":2231,"user_id":401727,"accept_rate":100,"display_name":"bchetty"},"comment_count":8,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1328918124,"creation_date":1328899779,"answer_id":9233119,"question_id":9232413,"body_markdown":"If you are using &#39;Integer&#39; (object) arrays and would like to use the java API methods, you can check the below code. Note that the below code probably has more complexity (as it uses some conversion logic from one datastructure to other) and memory consumption (because of using objects) than the primitive method, as listed above. I just tried it (*shrugs*):\r\n\r\n    public class MergeCollections {\r\n        public static void main(String[] args) {\r\n            Integer[] intArray1 = new Integer[] {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\r\n            Integer[] intArray2 = new Integer[] {2, 3, 5, 7, 8, 11, 13};\r\n            \r\n            Set&lt;Integer&gt; intSet1 = new TreeSet&lt;Integer&gt;();\r\n            intSet1.addAll(Arrays.asList(intArray1));\r\n            intSet1.addAll(Arrays.asList(intArray2));\r\n            System.out.println(intSet1);\r\n        }\r\n    }\r\n\r\nAnd the output:\r\n\r\n    [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 13]\r\n\r\nAlso, check this link: [Algolist - Algo to merge sorted arrays][1]\r\n\r\n**EDIT**: Changed HashSet to TreeSet\r\n\r\n**EDIT 2**: Now that the question is edited and clear, I&#39;m adding a simple solution to find intersection :\r\n\r\n    public class Intersection {\r\n        public static void main(String[] args) {\r\n            Integer[] intArray1 = new Integer[] {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\r\n            Integer[] intArray2 = new Integer[] {2, 3, 5, 7, 8, 11, 13};\r\n            \r\n            List&lt;Integer&gt; list1 = Arrays.asList(intArray1);\r\n            Set&lt;Integer&gt; commonSet = new TreeSet&lt;Integer&gt;();\r\n            for(Integer i: intArray2) {\r\n                if(list1.contains(i)) {\r\n                    commonSet.add(i);\r\n                }\r\n            }\r\n            \r\n            System.out.println(commonSet);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://www.algolist.net/Algorithms/Merge/Sorted_arrays","title":"How to intersect two sorted integer arrays without duplicates?","body":"<p>If you are using 'Integer' (object) arrays and would like to use the java API methods, you can check the below code. Note that the below code probably has more complexity (as it uses some conversion logic from one datastructure to other) and memory consumption (because of using objects) than the primitive method, as listed above. I just tried it (<em>shrugs</em>):</p>\n\n<pre><code>public class MergeCollections {\n    public static void main(String[] args) {\n        Integer[] intArray1 = new Integer[] {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\n        Integer[] intArray2 = new Integer[] {2, 3, 5, 7, 8, 11, 13};\n\n        Set&lt;Integer&gt; intSet1 = new TreeSet&lt;Integer&gt;();\n        intSet1.addAll(Arrays.asList(intArray1));\n        intSet1.addAll(Arrays.asList(intArray2));\n        System.out.println(intSet1);\n    }\n}\n</code></pre>\n\n<p>And the output:</p>\n\n<pre><code>[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 13]\n</code></pre>\n\n<p>Also, check this link: <a href=\"http://www.algolist.net/Algorithms/Merge/Sorted_arrays\" rel=\"nofollow\">Algolist - Algo to merge sorted arrays</a></p>\n\n<p><strong>EDIT</strong>: Changed HashSet to TreeSet</p>\n\n<p><strong>EDIT 2</strong>: Now that the question is edited and clear, I'm adding a simple solution to find intersection :</p>\n\n<pre><code>public class Intersection {\n    public static void main(String[] args) {\n        Integer[] intArray1 = new Integer[] {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\n        Integer[] intArray2 = new Integer[] {2, 3, 5, 7, 8, 11, 13};\n\n        List&lt;Integer&gt; list1 = Arrays.asList(intArray1);\n        Set&lt;Integer&gt; commonSet = new TreeSet&lt;Integer&gt;();\n        for(Integer i: intArray2) {\n            if(list1.contains(i)) {\n                commonSet.add(i);\n            }\n        }\n\n        System.out.println(commonSet);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":55050,"reputation":190529,"user_id":164835,"accept_rate":80,"display_name":"Kent"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1328923272,"creation_date":1328923272,"answer_id":9236971,"question_id":9232413,"body_markdown":"I don&#39;t know if it is a good idea to solve the problem in this way:\r\n\r\nsay \r\n  \r\n\r\n      A,B are 1 based arrays\r\n        A.length=m\r\n        B.length=n\r\n\r\n1) init an array, C,  with min(m,n) length\r\n\r\n2) only focus on the common part by checking the first and last\r\n    element. here binary search could be used. take an example to save\r\n    some words: \r\n    \r\n   \r\n\r\n     A[11,13,15,18,20,28,29,80,90,100.........300,400]\r\n        ^                                          ^\r\n     B[3,4,5,6,7.8.9.10.12,14,16,18,20,..400.....9999]\r\n                         ^                ^\r\n\r\n \r\n    then we need only focus  on\r\n    \r\n        A[start=1](11)-A[end=m](400)\r\n        and\r\n        B[start=9](12)-B[end](400)\r\n\r\n3).  compare the *range* `(end-start)` of both Arrays. taking the array with smaller *range* , say A, for each element  `A[i]` from `A[start] ~ A[end]`, do binary search in `B[start,end]`, \r\n\r\n - if found, put element in C, reset B.start to foundIdx+1,\r\n\r\n \r\n - otherwise B.start is set to the smallest element [j], which B[j] is\r\n   greater than A[i], to narrow the range\r\n\r\n4) continue 3) untill all elements in A[start, end] was processed.\r\n\r\n - by step 1, we could find the case if there is no intersection between\r\n   two Array.\r\n - when doing binary search in step 3, we compare A[i] with A[i-1], if\r\n   same, skip A[i]. in order to keep elements in C are unique.\r\n\r\n\r\n\r\nin this way, worse case would be lg(n!) if(A and B are same) ? not sure.\r\n\r\nAvg case? \r\n","title":"How to intersect two sorted integer arrays without duplicates?","body":"<p>I don't know if it is a good idea to solve the problem in this way:</p>\n\n<p>say </p>\n\n<pre><code>  A,B are 1 based arrays\n    A.length=m\n    B.length=n\n</code></pre>\n\n<p>1) init an array, C,  with min(m,n) length</p>\n\n<p>2) only focus on the common part by checking the first and last\n    element. here binary search could be used. take an example to save\n    some words: </p>\n\n<pre><code> A[11,13,15,18,20,28,29,80,90,100.........300,400]\n    ^                                          ^\n B[3,4,5,6,7.8.9.10.12,14,16,18,20,..400.....9999]\n                     ^                ^\n\n\nthen we need only focus  on\n\n    A[start=1](11)-A[end=m](400)\n    and\n    B[start=9](12)-B[end](400)\n</code></pre>\n\n<p>3).  compare the <em>range</em> <code>(end-start)</code> of both Arrays. taking the array with smaller <em>range</em> , say A, for each element  <code>A[i]</code> from <code>A[start] ~ A[end]</code>, do binary search in <code>B[start,end]</code>, </p>\n\n<ul>\n<li><p>if found, put element in C, reset B.start to foundIdx+1,</p></li>\n<li><p>otherwise B.start is set to the smallest element [j], which B[j] is\ngreater than A[i], to narrow the range</p></li>\n</ul>\n\n<p>4) continue 3) untill all elements in A[start, end] was processed.</p>\n\n<ul>\n<li>by step 1, we could find the case if there is no intersection between\ntwo Array.</li>\n<li>when doing binary search in step 3, we compare A[i] with A[i-1], if\nsame, skip A[i]. in order to keep elements in C are unique.</li>\n</ul>\n\n<p>in this way, worse case would be lg(n!) if(A and B are same) ? not sure.</p>\n\n<p>Avg case? </p>\n"},{"comments":[{"owner":{"account_id":1187979,"reputation":143,"user_id":1161544,"display_name":"Artur Galiullin"},"score":0,"creation_date":1329091940,"post_id":9237187,"comment_id":11661075,"body_markdown":"Very nice connection -- I can see now how this problem is relevant in the context of DBMS (and probably most prevalent).","body":"Very nice connection -- I can see now how this problem is relevant in the context of DBMS (and probably most prevalent)."}],"tags":[],"owner":{"account_id":1091454,"reputation":1062,"user_id":1086020,"display_name":"Tim Gee"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1328927038,"creation_date":1328925716,"answer_id":9237187,"question_id":9232413,"body_markdown":"This problem essentially reduces to a *join* operation and then a *filter* operation (to remove duplicates and only keep inner matches).\r\n\r\nAs the inputs are both already sorted, the join can be efficiently achieved through a [merge join][1], with O(size(a) + size(b)).\r\n\r\nThe *filter* operation will be O(n) because the output of the join is sorted and to remove duplicates all you have to do is check if the each element is the same as the one before it. Filtering only the inner matches is trivial, you just discard any elements that were not matched (the outer joins).\r\n\r\nThere are opportunities for parallelism (both in the join and filter) to achieve better performance. For example the [Apache Pig][2] framework on Hadoop offers a [parallel implementation][3] of a merge join. \r\n\r\nThere are obvious trade-offs between performance and complexity (and thus maintainability). So I would say a good answer to a interview question really needs to take account of the performance demands. \r\n\r\n - Set based comparison  - O(nlogn) - Relatively slow, very simple, use if there are no performance concerns. Simplicity wins.\r\n\r\n - Merge join + Filter   - O(n) - Fast, prone to coding error, use if\r\n   performance is an issue. Ideally try to leverage an existing library to do this, or perhaps even use a database if appropriate.\r\n\r\n - Parallel Implementation - O(n/p) - Very\r\n   fast, requires other infrastructure in place, use if  the volume is\r\n   very large and anticipated to grow and this is a major performance\r\n   bottleneck.\r\n\r\n(Also note that the function in the question *intersectSortedArrays* is essentially a modified merge join, where the filter is done during the join. You can filter afterwards at no performance loss, although a slightly increased memory footprint).\r\n\r\n*Final thought.* \r\n\r\nIn fact, I suspect most modern commercial RDBMSs offer thread parallelism in their implementation of joins, so what the Hadoop version offers is machine-level parallelism (distribution). From a design point of view, perhaps a good, simple solution to the question is to put the data on a database, index on A and B (effectively sorting the data) and use an SQL inner join.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Sort-merge_join\r\n  [2]: http://pig.apache.org/\r\n  [3]: http://wiki.apache.org/pig/PigMergeJoin","title":"How to intersect two sorted integer arrays without duplicates?","body":"<p>This problem essentially reduces to a <em>join</em> operation and then a <em>filter</em> operation (to remove duplicates and only keep inner matches).</p>\n\n<p>As the inputs are both already sorted, the join can be efficiently achieved through a <a href=\"http://en.wikipedia.org/wiki/Sort-merge_join\" rel=\"noreferrer\">merge join</a>, with O(size(a) + size(b)).</p>\n\n<p>The <em>filter</em> operation will be O(n) because the output of the join is sorted and to remove duplicates all you have to do is check if the each element is the same as the one before it. Filtering only the inner matches is trivial, you just discard any elements that were not matched (the outer joins).</p>\n\n<p>There are opportunities for parallelism (both in the join and filter) to achieve better performance. For example the <a href=\"http://pig.apache.org/\" rel=\"noreferrer\">Apache Pig</a> framework on Hadoop offers a <a href=\"http://wiki.apache.org/pig/PigMergeJoin\" rel=\"noreferrer\">parallel implementation</a> of a merge join. </p>\n\n<p>There are obvious trade-offs between performance and complexity (and thus maintainability). So I would say a good answer to a interview question really needs to take account of the performance demands. </p>\n\n<ul>\n<li><p>Set based comparison  - O(nlogn) - Relatively slow, very simple, use if there are no performance concerns. Simplicity wins.</p></li>\n<li><p>Merge join + Filter   - O(n) - Fast, prone to coding error, use if\nperformance is an issue. Ideally try to leverage an existing library to do this, or perhaps even use a database if appropriate.</p></li>\n<li><p>Parallel Implementation - O(n/p) - Very\nfast, requires other infrastructure in place, use if  the volume is\nvery large and anticipated to grow and this is a major performance\nbottleneck.</p></li>\n</ul>\n\n<p>(Also note that the function in the question <em>intersectSortedArrays</em> is essentially a modified merge join, where the filter is done during the join. You can filter afterwards at no performance loss, although a slightly increased memory footprint).</p>\n\n<p><em>Final thought.</em> </p>\n\n<p>In fact, I suspect most modern commercial RDBMSs offer thread parallelism in their implementation of joins, so what the Hadoop version offers is machine-level parallelism (distribution). From a design point of view, perhaps a good, simple solution to the question is to put the data on a database, index on A and B (effectively sorting the data) and use an SQL inner join.</p>\n"},{"comments":[{"owner":{"account_id":1187979,"reputation":143,"user_id":1161544,"display_name":"Artur Galiullin"},"score":0,"creation_date":1329092340,"post_id":9241778,"comment_id":11661126,"body_markdown":"Isn&#39;t Big Theta a tighter bound than Big Oh? I think in my solution, the worst case is asymptotically equivalent to the best case, hence I used Big Theta. I found an interesting SO discussion [here](http://stackoverflow.com/questions/471199/what-is-the-difference-between-n-and-on).","body":"Isn&#39;t Big Theta a tighter bound than Big Oh? I think in my solution, the worst case is asymptotically equivalent to the best case, hence I used Big Theta. I found an interesting SO discussion <a href=\"http://stackoverflow.com/questions/471199/what-is-the-difference-between-n-and-on\">here</a>."},{"owner":{"account_id":311168,"reputation":4441,"user_id":624590,"accept_rate":75,"display_name":"DRobinson"},"score":0,"creation_date":1329136933,"post_id":9241778,"comment_id":11670366,"body_markdown":"Eek, I&#39;m sorry I was a little tired and had read Theta as Omega (not word for word, but in meaning). You&#39;re absolutely correct, I&#39;ve edited my post. \n\nThat said, the main point of the post was to explain that using a dynamic data structure would be a very good idea because you don&#39;t need full search and you&#39;re parsing it to a new array at the end anyway.","body":"Eek, I&#39;m sorry I was a little tired and had read Theta as Omega (not word for word, but in meaning). You&#39;re absolutely correct, I&#39;ve edited my post.   That said, the main point of the post was to explain that using a dynamic data structure would be a very good idea because you don&#39;t need full search and you&#39;re parsing it to a new array at the end anyway."}],"tags":[],"owner":{"account_id":311168,"reputation":4441,"user_id":624590,"accept_rate":75,"display_name":"DRobinson"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1329136976,"creation_date":1328977309,"answer_id":9241778,"question_id":9232413,"body_markdown":"Here&#39;s a memory improvement:\r\n\r\nIt would be better to store your results (C) in a dynamic structure, like a linked list, and create an array after you&#39;re done finding the intersecting elements (exactly as you do with array r). This technique would be especially good if you have very large arrays for A and B and expect the common elements to be few in comparison (why search for a huge chunk of contiguous memory when you only need a small amount?). \r\n\r\n\r\nEDIT: one more thing that I would change, and this might be just a little nit-picky, is that I would avoid using unbound loops when the worst case number of iterations is known before hand.","title":"How to intersect two sorted integer arrays without duplicates?","body":"<p>Here's a memory improvement:</p>\n\n<p>It would be better to store your results (C) in a dynamic structure, like a linked list, and create an array after you're done finding the intersecting elements (exactly as you do with array r). This technique would be especially good if you have very large arrays for A and B and expect the common elements to be few in comparison (why search for a huge chunk of contiguous memory when you only need a small amount?). </p>\n\n<p>EDIT: one more thing that I would change, and this might be just a little nit-picky, is that I would avoid using unbound loops when the worst case number of iterations is known before hand.</p>\n"},{"comments":[{"owner":{"account_id":8248505,"reputation":116,"user_id":6203891,"display_name":"alemures"},"score":0,"creation_date":1489062679,"post_id":9245875,"comment_id":72512897,"body_markdown":"Just to clarify to new readers, the result in this solution may contain duplicated values.","body":"Just to clarify to new readers, the result in this solution may contain duplicated values."}],"tags":[],"owner":{"account_id":1201626,"reputation":663,"user_id":1172175,"accept_rate":71,"display_name":"Periastron"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1329014039,"creation_date":1329013159,"answer_id":9245875,"question_id":9232413,"body_markdown":"Using arraylist to store result. \r\n\r\n    public ArrayList&lt;Integer&gt; arrayIntersection(int [] a, int[] b)\r\n\t{\r\n\t\tint len_a=a.length;\r\n\t\tint len_b=b.length;\r\n\t\tint i=0;\r\n\t\tint j=0;\r\n\t\tArrayList&lt;Integer&gt; alist=new ArrayList();\r\n\t\t\r\n\t\twhile(i&lt;len_a &amp;&amp; j&lt;len_b)\r\n\t\t{\r\n\t\t\tif(a[i]&lt;b[j])\r\n\t\t\t\ti++;\r\n\t\t\telse if(a[i]&gt;b[j])\r\n\t\t\t\tj++;\r\n\t\t\telse if(a[i]==b[j])\r\n\t\t\t{\r\n\t\t\t\talist.add(a[i]);\r\n\t\t\t\ti++;\r\n\t\t\t\tj++;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t   return alist;\t\r\n\t  }","title":"How to intersect two sorted integer arrays without duplicates?","body":"<p>Using arraylist to store result. </p>\n\n<pre><code>public ArrayList&lt;Integer&gt; arrayIntersection(int [] a, int[] b)\n{\n    int len_a=a.length;\n    int len_b=b.length;\n    int i=0;\n    int j=0;\n    ArrayList&lt;Integer&gt; alist=new ArrayList();\n\n    while(i&lt;len_a &amp;&amp; j&lt;len_b)\n    {\n        if(a[i]&lt;b[j])\n            i++;\n        else if(a[i]&gt;b[j])\n            j++;\n        else if(a[i]==b[j])\n        {\n            alist.add(a[i]);\n            i++;\n            j++;\n\n        }\n    }\n\n   return alist;    \n  }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":1,"creation_date":1673429707,"post_id":75076129,"comment_id":132495014,"body_markdown":"What would make the code presented noteworthy?","body":"What would make the code presented noteworthy?"}],"tags":[],"owner":{"account_id":27492936,"reputation":1,"user_id":20977917,"display_name":"Pavel Kosarev"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673386873,"creation_date":1673386672,"answer_id":75076129,"question_id":9232413,"body_markdown":"    public static int[] getIntersectionOfSortedArrays(int[] numbers1, int[] numbers2) {\r\n        var size1 = numbers1.length;\r\n        var size2 = numbers2.length;\r\n\r\n        var elementsCount = Math.min(size1, size2);\r\n        var result = new int[elementsCount];\r\n\r\n        var i1 = 0;\r\n        var i2 = 0;\r\n        var index = 0;\r\n\r\n        while (i1 &lt; size1 &amp;&amp; i2 &lt; size2) {\r\n            if (numbers1[i1] == numbers2[i2]\r\n                    &amp;&amp; (index == 0 ||  numbers1[i1] != result[index - 1])) {\r\n                result[index] = numbers1[i1];\r\n                i1++;\r\n                i2++;\r\n                index++;\r\n            } else if (numbers1[i1] &gt; numbers2[i2]) {\r\n                i2++;\r\n            } else {\r\n                i1++;\r\n            }\r\n        }\r\n\r\n        return Arrays.copyOf(result, index);\r\n    }","title":"How to intersect two sorted integer arrays without duplicates?","body":"<pre><code>public static int[] getIntersectionOfSortedArrays(int[] numbers1, int[] numbers2) {\n    var size1 = numbers1.length;\n    var size2 = numbers2.length;\n\n    var elementsCount = Math.min(size1, size2);\n    var result = new int[elementsCount];\n\n    var i1 = 0;\n    var i2 = 0;\n    var index = 0;\n\n    while (i1 &lt; size1 &amp;&amp; i2 &lt; size2) {\n        if (numbers1[i1] == numbers2[i2]\n                &amp;&amp; (index == 0 ||  numbers1[i1] != result[index - 1])) {\n            result[index] = numbers1[i1];\n            i1++;\n            i2++;\n            index++;\n        } else if (numbers1[i1] &gt; numbers2[i2]) {\n            i2++;\n        } else {\n            i1++;\n        }\n    }\n\n    return Arrays.copyOf(result, index);\n}\n</code></pre>\n"}],"owner":{"account_id":1187979,"reputation":143,"user_id":1161544,"display_name":"Artur Galiullin"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13431,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"accepted_answer_id":9237187,"answer_count":7,"score":12,"last_activity_date":1673386873,"creation_date":1328896400,"question_id":9232413,"body_markdown":"This is an interview question that I am using as a programming exercise.\r\n\r\n**Input:** Two sorted integer arrays A and B in increasing order and of different sizes N and M, respectively\r\n\r\n**Output:** A sorted integer array C in increasing order that contains elements that appear in both A and B\r\n\r\n**Contraints:** No duplicates are allowed in C\r\n\r\n**Example:** For input A = {3,6,8,9} and B = {4,5,6,9,10,11}, the output should be C = {6,9}\r\n\r\nThank you for your answers, all! To summarize, there are two main approaches to this problem:\r\n\r\n\r\nMy original solution was to keep two pointers, one for each array, and scanning the arrays from left to right interchangeably, while picking out elements that match. So when we the current element of one array is larger than the second array, we keep incrementing the pointer of the second array until we either find the current first array element or overpass it (find one larger). I keep all matched in a separate array, which is returned once we reach the end of either one of the input arrays.\r\n\r\nAnother way that we could do this is to scan one of the arrays linearly, while using binary search to find a match in the second array. This would mean O(N*log(M)) time, if we scan A and for each of its N elements binary search on B (O(log(M)) time).\r\n\r\nI&#39;ve implemented both approaches and ran an experiment to see how the two compare (details on this can be found [here][1]). The Binary Search method seems to win when M is roughly 70 times larger than N, when N has 1 million elements.\r\n\r\n\r\n  [1]: http://letsalgorithm.blogspot.com/2012/02/intersecting-two-sorted-integer-arrays.html","title":"How to intersect two sorted integer arrays without duplicates?","body":"<p>This is an interview question that I am using as a programming exercise.</p>\n\n<p><strong>Input:</strong> Two sorted integer arrays A and B in increasing order and of different sizes N and M, respectively</p>\n\n<p><strong>Output:</strong> A sorted integer array C in increasing order that contains elements that appear in both A and B</p>\n\n<p><strong>Contraints:</strong> No duplicates are allowed in C</p>\n\n<p><strong>Example:</strong> For input A = {3,6,8,9} and B = {4,5,6,9,10,11}, the output should be C = {6,9}</p>\n\n<p>Thank you for your answers, all! To summarize, there are two main approaches to this problem:</p>\n\n<p>My original solution was to keep two pointers, one for each array, and scanning the arrays from left to right interchangeably, while picking out elements that match. So when we the current element of one array is larger than the second array, we keep incrementing the pointer of the second array until we either find the current first array element or overpass it (find one larger). I keep all matched in a separate array, which is returned once we reach the end of either one of the input arrays.</p>\n\n<p>Another way that we could do this is to scan one of the arrays linearly, while using binary search to find a match in the second array. This would mean O(N*log(M)) time, if we scan A and for each of its N elements binary search on B (O(log(M)) time).</p>\n\n<p>I've implemented both approaches and ran an experiment to see how the two compare (details on this can be found <a href=\"http://letsalgorithm.blogspot.com/2012/02/intersecting-two-sorted-integer-arrays.html\">here</a>). The Binary Search method seems to win when M is roughly 70 times larger than N, when N has 1 million elements.</p>\n"},{"tags":["java","sockets","serversocket"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1673386646,"post_id":75075601,"comment_id":132486441,"body_markdown":"A few things I created back in the day that might help you: ServerSocketEx (https://sourceforge.net/p/tus/code/HEAD/tree/tjacobs/io/ServerSocketEx.java) and DataFetcher https://sourceforge.net/p/tus/code/HEAD/tree/tjacobs/io/DataFetcher.java","body":"A few things I created back in the day that might help you: ServerSocketEx (<a href=\"https://sourceforge.net/p/tus/code/HEAD/tree/tjacobs/io/ServerSocketEx.java\" rel=\"nofollow noreferrer\">sourceforge.net/p/tus/code/HEAD/tree/tjacobs/io/&hellip;</a>) and DataFetcher <a href=\"https://sourceforge.net/p/tus/code/HEAD/tree/tjacobs/io/DataFetcher.java\" rel=\"nofollow noreferrer\">sourceforge.net/p/tus/code/HEAD/tree/tjacobs/io/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":27492393,"reputation":1,"user_id":20977488,"display_name":"banana13"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673386342,"creation_date":1673386342,"answer_id":75076084,"question_id":75075601,"body_markdown":"Never mind, I found a bug. bufferedWriter.flush() should be after bufferedWriter.newLine();\r\n\r\n    Socket socketToWorld = new Socket(&quot;127.0.0.1&quot;,2002);\r\n                    BufferedWriter bufferedWriter = new BufferedWriter(new OutputStreamWriter(socketToWorld.getOutputStream()));\r\n                    BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(socketToWorld.getInputStream()));\r\n                    bufferedWriter.write(&quot;initialize&quot;);\r\n                    bufferedWriter.newLine();\r\n    bufferedWriter.flush();\r\n\r\n","title":"Why my ServerSocket doesn&#39;t receive message from socket?","body":"<p>Never mind, I found a bug. bufferedWriter.flush() should be after bufferedWriter.newLine();</p>\n<pre><code>Socket socketToWorld = new Socket(&quot;127.0.0.1&quot;,2002);\n                BufferedWriter bufferedWriter = new BufferedWriter(new OutputStreamWriter(socketToWorld.getOutputStream()));\n                BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(socketToWorld.getInputStream()));\n                bufferedWriter.write(&quot;initialize&quot;);\n                bufferedWriter.newLine();\nbufferedWriter.flush();\n</code></pre>\n"}],"owner":{"account_id":27492393,"reputation":1,"user_id":20977488,"display_name":"banana13"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75076084,"answer_count":1,"score":0,"last_activity_date":1673386342,"creation_date":1673383265,"question_id":75075601,"body_markdown":"My ServerSocket can&#39;t get message from socket.\r\n\r\nMy class World with ServerSocket:\r\n\r\n```\r\npackage main;\r\n\r\nimport panels.MainFrameConsole;\r\n\r\nimport java.io.*;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\nimport java.util.Random;\r\n\r\npublic class World {\r\n    ServerSocket serverSocket;\r\n    Thread threadServer;\r\n\r\n    public static void main(String[] args) {\r\n        MainFrameConsole mainFrameConsole = new MainFrameConsole(&quot;World&quot;);\r\n        World world = new World();\r\n        world.startConsole();\r\n    }\r\n\r\n\r\n    public void startConsole()\r\n    {\r\n        threadServer = new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    serverSocket = new ServerSocket(2002);\r\n                    while (!serverSocket.isClosed())\r\n                    {\r\n                        System.out.println(&quot;here&quot;);\r\n                        Socket socketShip = serverSocket.accept();\r\n                        System.out.println(&quot;here2&quot;);\r\n                        BufferedReader reader = new BufferedReader(new InputStreamReader(socketShip.getInputStream()));\r\n                        BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(socketShip.getOutputStream()));\r\n                        String str = reader.readLine();\r\n\r\n                        System.out.println(str);\r\n                        if (str.startsWith(&quot;initialize&quot;))\r\n                           writer.write(initializeShip(str));\r\n                    }\r\n                }\r\n                catch (IOException e)\r\n                {\r\n\r\n                }\r\n            }\r\n        });\r\n        threadServer.start();\r\n    }\r\n}\r\n```\r\n\r\nMy class with Socket:\r\n\r\n```\r\npackage main;\r\n\r\nimport panels.MainFrameConsole;\r\nimport panels.PanelInside;\r\nimport panels.PanelRegion;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.net.*;\r\nimport java.io.*;\r\n\r\npublic class Ship {\r\n    int x;\r\n    int y;\r\n    String id;\r\n    MainFrameConsole frameConsole;\r\n\r\n    public static void main(String[] args) {\r\n        Ship ship = new Ship();\r\n        ship.createFrame();\r\n    }\r\n\r\n    public void createFrame()\r\n    {\r\n        frameConsole = new MainFrameConsole(&quot;Ship &quot; + id,new OptionPanel());\r\n    }\r\n    public void initialize()\r\n    {\r\n        Thread threadShip = new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    Socket socketToWorld = new Socket(&quot;127.0.0.1&quot;,2002);\r\n                    BufferedWriter bufferedWriter = new BufferedWriter(new OutputStreamWriter(socketToWorld.getOutputStream()));\r\n                    BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(socketToWorld.getInputStream()));\r\n                    bufferedWriter.write(&quot;initialize&quot;);\r\n                    bufferedWriter.newLine();\r\n\r\n                    String str = bufferedReader.readLine();\r\n                    String[] array = str.split(&quot; &quot;);\r\n                    id = array[0];\r\n                    y = Integer.parseInt(array[1]);\r\n                    x = Integer.parseInt(array[2]);\r\n\r\n                    frameConsole.getPanelConsole().getArrayOfPanelsMain()[countRegionY(y)][countRegionX(x)].getPanels()[y%5][x%5].setShape(1);\r\n                    frameConsole.getPanelConsole().getArrayOfPanelsMain()[countRegionY(y)][countRegionX(x)].getPanels()[y%5][x%5].repaint();\r\n\r\n                    bufferedWriter.flush();\r\n                    bufferedWriter.close();\r\n                    bufferedReader.close();\r\n                    socketToWorld.close();\r\n                }\r\n                catch (IOException e)\r\n                {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n        threadShip.start();\r\n    }\r\n}\r\n```\r\n\r\n\r\nI&#39;m running 2 apps: Ship and World\r\nIn frameConsole, i&#39;ve got button which run ship.initialize(). When I click it, in console I&#39;ve got only output:\r\nhere\r\nhere2\r\n\r\nWhy serverSocket can&#39;t get message from socket (&quot;initialize&quot;)?","title":"Why my ServerSocket doesn&#39;t receive message from socket?","body":"<p>My ServerSocket can't get message from socket.</p>\n<p>My class World with ServerSocket:</p>\n<pre><code>package main;\n\nimport panels.MainFrameConsole;\n\nimport java.io.*;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.util.Random;\n\npublic class World {\n    ServerSocket serverSocket;\n    Thread threadServer;\n\n    public static void main(String[] args) {\n        MainFrameConsole mainFrameConsole = new MainFrameConsole(&quot;World&quot;);\n        World world = new World();\n        world.startConsole();\n    }\n\n\n    public void startConsole()\n    {\n        threadServer = new Thread(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    serverSocket = new ServerSocket(2002);\n                    while (!serverSocket.isClosed())\n                    {\n                        System.out.println(&quot;here&quot;);\n                        Socket socketShip = serverSocket.accept();\n                        System.out.println(&quot;here2&quot;);\n                        BufferedReader reader = new BufferedReader(new InputStreamReader(socketShip.getInputStream()));\n                        BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(socketShip.getOutputStream()));\n                        String str = reader.readLine();\n\n                        System.out.println(str);\n                        if (str.startsWith(&quot;initialize&quot;))\n                           writer.write(initializeShip(str));\n                    }\n                }\n                catch (IOException e)\n                {\n\n                }\n            }\n        });\n        threadServer.start();\n    }\n}\n</code></pre>\n<p>My class with Socket:</p>\n<pre><code>package main;\n\nimport panels.MainFrameConsole;\nimport panels.PanelInside;\nimport panels.PanelRegion;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.net.*;\nimport java.io.*;\n\npublic class Ship {\n    int x;\n    int y;\n    String id;\n    MainFrameConsole frameConsole;\n\n    public static void main(String[] args) {\n        Ship ship = new Ship();\n        ship.createFrame();\n    }\n\n    public void createFrame()\n    {\n        frameConsole = new MainFrameConsole(&quot;Ship &quot; + id,new OptionPanel());\n    }\n    public void initialize()\n    {\n        Thread threadShip = new Thread(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    Socket socketToWorld = new Socket(&quot;127.0.0.1&quot;,2002);\n                    BufferedWriter bufferedWriter = new BufferedWriter(new OutputStreamWriter(socketToWorld.getOutputStream()));\n                    BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(socketToWorld.getInputStream()));\n                    bufferedWriter.write(&quot;initialize&quot;);\n                    bufferedWriter.newLine();\n\n                    String str = bufferedReader.readLine();\n                    String[] array = str.split(&quot; &quot;);\n                    id = array[0];\n                    y = Integer.parseInt(array[1]);\n                    x = Integer.parseInt(array[2]);\n\n                    frameConsole.getPanelConsole().getArrayOfPanelsMain()[countRegionY(y)][countRegionX(x)].getPanels()[y%5][x%5].setShape(1);\n                    frameConsole.getPanelConsole().getArrayOfPanelsMain()[countRegionY(y)][countRegionX(x)].getPanels()[y%5][x%5].repaint();\n\n                    bufferedWriter.flush();\n                    bufferedWriter.close();\n                    bufferedReader.close();\n                    socketToWorld.close();\n                }\n                catch (IOException e)\n                {\n                    e.printStackTrace();\n                }\n            }\n        });\n        threadShip.start();\n    }\n}\n</code></pre>\n<p>I'm running 2 apps: Ship and World\nIn frameConsole, i've got button which run ship.initialize(). When I click it, in console I've got only output:\nhere\nhere2</p>\n<p>Why serverSocket can't get message from socket (&quot;initialize&quot;)?</p>\n"},{"tags":["java","spring-boot","junit"],"answers":[{"tags":[],"owner":{"account_id":7812117,"reputation":2519,"user_id":5908014,"display_name":"tpschmidt"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595840035,"creation_date":1595839505,"answer_id":63111698,"question_id":63110545,"body_markdown":"I think the issues arises due to the different ports of the app and the actuator.\r\n\r\nChanging it to 0 should do the trick for your tests:\r\n\r\n    @TestPropertySource(properties = { &quot;management.server.port=0&quot; })\r\n\r\n**Edit** - I&#39;ve found a related post, maybe you can check out other solutions proposed there (even there&#39;s no accepted answer): [Unit testing of Spring Boot Actuator endpoints not working when specifying a port][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/38505434/unit-testing-of-spring-boot-actuator-endpoints-not-working-when-specifying-a-por","title":"Spring Boot MockMvc test giving 404 for actuator endpoint when using the &quot;management.server.port&quot; property instead of the deprecated &quot;management.port&quot;","body":"<p>I think the issues arises due to the different ports of the app and the actuator.</p>\n<p>Changing it to 0 should do the trick for your tests:</p>\n<pre><code>@TestPropertySource(properties = { &quot;management.server.port=0&quot; })\n</code></pre>\n<p><strong>Edit</strong> - I've found a related post, maybe you can check out other solutions proposed there (even there's no accepted answer): <a href=\"https://stackoverflow.com/questions/38505434/unit-testing-of-spring-boot-actuator-endpoints-not-working-when-specifying-a-por\">Unit testing of Spring Boot Actuator endpoints not working when specifying a port</a></p>\n"},{"tags":[],"owner":{"account_id":6193930,"reputation":2587,"user_id":4825845,"display_name":"Juan Moreno"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673385397,"creation_date":1673385397,"answer_id":75075947,"question_id":63110545,"body_markdown":"You can use the same approach as the [official guide][1] says.\r\n\r\n```java\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n@TestPropertySource(properties = {&quot;management.port=0&quot;})\r\npublic class HelloWorldApplicationTests {\r\n\r\n  @LocalServerPort\r\n  private int port;\r\n\r\n  @Value(&quot;${local.management.port}&quot;)\r\n  private int mgt;\r\n\r\n  @Autowired\r\n  private TestRestTemplate testRestTemplate;\r\n\r\n  @Test\r\n  public void shouldReturn200WhenSendingRequestToController() throws Exception {\r\n    @SuppressWarnings(&quot;rawtypes&quot;)\r\n    ResponseEntity&lt;Map&gt; entity = this.testRestTemplate.getForEntity(\r\n        &quot;http://localhost:&quot; + this.port + &quot;/hello-world&quot;, Map.class);\r\n\r\n    then(entity.getStatusCode()).isEqualTo(HttpStatus.OK);\r\n  }\r\n\r\n  @Test\r\n  public void shouldReturn200WhenSendingRequestToManagementEndpoint() throws Exception {\r\n    @SuppressWarnings(&quot;rawtypes&quot;)\r\n    ResponseEntity&lt;Map&gt; entity = this.testRestTemplate.getForEntity(\r\n        &quot;http://localhost:&quot; + this.mgt + &quot;/actuator&quot;, Map.class);\r\n    then(entity.getStatusCode()).isEqualTo(HttpStatus.OK);\r\n  }\r\n\r\n}\r\n```\r\n\r\n  [1]: https://spring.io/guides/gs/actuator-service/","title":"Spring Boot MockMvc test giving 404 for actuator endpoint when using the &quot;management.server.port&quot; property instead of the deprecated &quot;management.port&quot;","body":"<p>You can use the same approach as the <a href=\"https://spring.io/guides/gs/actuator-service/\" rel=\"nofollow noreferrer\">official guide</a> says.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@TestPropertySource(properties = {&quot;management.port=0&quot;})\npublic class HelloWorldApplicationTests {\n\n  @LocalServerPort\n  private int port;\n\n  @Value(&quot;${local.management.port}&quot;)\n  private int mgt;\n\n  @Autowired\n  private TestRestTemplate testRestTemplate;\n\n  @Test\n  public void shouldReturn200WhenSendingRequestToController() throws Exception {\n    @SuppressWarnings(&quot;rawtypes&quot;)\n    ResponseEntity&lt;Map&gt; entity = this.testRestTemplate.getForEntity(\n        &quot;http://localhost:&quot; + this.port + &quot;/hello-world&quot;, Map.class);\n\n    then(entity.getStatusCode()).isEqualTo(HttpStatus.OK);\n  }\n\n  @Test\n  public void shouldReturn200WhenSendingRequestToManagementEndpoint() throws Exception {\n    @SuppressWarnings(&quot;rawtypes&quot;)\n    ResponseEntity&lt;Map&gt; entity = this.testRestTemplate.getForEntity(\n        &quot;http://localhost:&quot; + this.mgt + &quot;/actuator&quot;, Map.class);\n    then(entity.getStatusCode()).isEqualTo(HttpStatus.OK);\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":5739310,"reputation":155,"user_id":4532475,"display_name":"GauravEdekar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2562,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1673385397,"creation_date":1595834751,"question_id":63110545,"body_markdown":"I was earlier using the management.port in the application yaml for the management endpoint port. However, changed it to using as in the below application yaml file. It has been failing my actuator test for the health endpoint. The endpoint works as normal when i run the application.\r\n\r\napplication.yaml\r\n\r\n``` \r\nspring:\r\n  profiles.active: development\r\n\r\nmanagement:\r\n  endpoints:\r\n    web:\r\n      exposure:\r\n        include: &quot;*&quot;\r\n  server:\r\n    port: 9000\r\n\r\nserver:\r\n  port: 8000\r\n---\r\nspring:\r\n  profiles: development\r\n\r\nlogging:\r\n  level:\r\n    root: INFO\r\n    org.springframework.web: INFO\r\n\r\n---\r\nspring:\r\n  profiles: staging\r\n\r\nlogging:\r\n  level:\r\n    root: ERROR\r\n    org.springframework.web: ERROR\r\n``` \r\n\r\nIntegration Test Class\r\n\r\n``` \r\npackage com.rps;\r\n\r\nimport static org.junit.Assert.assertNotNull;\r\nimport static org.junit.Assert.assertThat;\r\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.content;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\r\n\r\nimport com.rps.infrastructure.repository.PlayersInMemoryRepository;\r\nimport org.hamcrest.Matchers;\r\nimport org.junit.Before;\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.test.context.ActiveProfiles;\r\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders;\r\nimport org.springframework.web.context.WebApplicationContext;\r\n\r\n/**\r\n * Integration testing the actual API Check the guide here: https://spring.io/guides/gs/testing-web/\r\n */\r\n@SpringBootTest\r\n@RunWith(SpringJUnit4ClassRunner.class)\r\npublic class RPSApplicationIT {\r\n\r\n  @Autowired\r\n  private WebApplicationContext context;\r\n\r\n  @Autowired\r\n  private PlayersInMemoryRepository playersInMemoryRepository;\r\n\r\n  private MockMvc mockMvc;\r\n\r\n  @Before\r\n  public void setupMockMvc() {\r\n    mockMvc = MockMvcBuilders.webAppContextSetup(context).build();\r\n  }\r\n\r\n  @Test\r\n  public void shouldReturnActuatorHealthResponse() throws Exception {\r\n    this.mockMvc.perform(get(&quot;/actuator/health&quot;))\r\n        .andDo(print())\r\n        .andExpect(status().isOk())\r\n        .andExpect(content().json(&quot;{\\&quot;status\\&quot;:\\&quot;UP\\&quot;}&quot;));\r\n  }\r\n\r\n}\r\n\r\n``` \r\n\r\n","title":"Spring Boot MockMvc test giving 404 for actuator endpoint when using the &quot;management.server.port&quot; property instead of the deprecated &quot;management.port&quot;","body":"<p>I was earlier using the management.port in the application yaml for the management endpoint port. However, changed it to using as in the below application yaml file. It has been failing my actuator test for the health endpoint. The endpoint works as normal when i run the application.</p>\n<p>application.yaml</p>\n<pre><code>spring:\n  profiles.active: development\n\nmanagement:\n  endpoints:\n    web:\n      exposure:\n        include: &quot;*&quot;\n  server:\n    port: 9000\n\nserver:\n  port: 8000\n---\nspring:\n  profiles: development\n\nlogging:\n  level:\n    root: INFO\n    org.springframework.web: INFO\n\n---\nspring:\n  profiles: staging\n\nlogging:\n  level:\n    root: ERROR\n    org.springframework.web: ERROR\n</code></pre>\n<p>Integration Test Class</p>\n<pre><code>package com.rps;\n\nimport static org.junit.Assert.assertNotNull;\nimport static org.junit.Assert.assertThat;\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\nimport static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.content;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\n\nimport com.rps.infrastructure.repository.PlayersInMemoryRepository;\nimport org.hamcrest.Matchers;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.http.MediaType;\nimport org.springframework.test.context.ActiveProfiles;\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders;\nimport org.springframework.web.context.WebApplicationContext;\n\n/**\n * Integration testing the actual API Check the guide here: https://spring.io/guides/gs/testing-web/\n */\n@SpringBootTest\n@RunWith(SpringJUnit4ClassRunner.class)\npublic class RPSApplicationIT {\n\n  @Autowired\n  private WebApplicationContext context;\n\n  @Autowired\n  private PlayersInMemoryRepository playersInMemoryRepository;\n\n  private MockMvc mockMvc;\n\n  @Before\n  public void setupMockMvc() {\n    mockMvc = MockMvcBuilders.webAppContextSetup(context).build();\n  }\n\n  @Test\n  public void shouldReturnActuatorHealthResponse() throws Exception {\n    this.mockMvc.perform(get(&quot;/actuator/health&quot;))\n        .andDo(print())\n        .andExpect(status().isOk())\n        .andExpect(content().json(&quot;{\\&quot;status\\&quot;:\\&quot;UP\\&quot;}&quot;));\n  }\n\n}\n\n</code></pre>\n"},{"tags":["java","archunit"],"answers":[{"tags":[],"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673385381,"creation_date":1673385381,"answer_id":75075942,"question_id":75072867,"body_markdown":"You can implement a &quot;non-local&quot; `ArchCondition` (i.e. one that relies on all objects to test) by overwriting its [`init(Collection&lt;T&gt; allObjectsToTest)`](https://javadoc.io/static/com.tngtech.archunit/archunit/1.0.1/com/tngtech/archunit/lang/ArchCondition.html#init(java.util.Collection)) method.\r\n\r\nArchUnit&#39;s library of `GeneralCodingRules` has a [`testClassesShouldResideInTheSamePackageAsImplementation()`](https://javadoc.io/static/com.tngtech.archunit/archunit/1.0.1/com/tngtech/archunit/library/GeneralCodingRules.html#testClassesShouldResideInTheSamePackageAsImplementation()), whose [implementation](https://github.com/TNG/ArchUnit/blob/v1.0.1/archunit/src/main/java/com/tngtech/archunit/library/GeneralCodingRules.java#L423-L482) is a good starting point to come up with something like this:\r\n\r\n```java\r\n@ArchTest\r\nstatic final ArchRule relevant_classes_should_have_tests =\r\n        classes()\r\n            .that()\r\n                .areTopLevelClasses()\r\n                .and().areNotInterfaces()\r\n                .and().areNotRecords()\r\n                .and().areNotEnums()\r\n            .should(haveACorrespondingClassEndingWith(&quot;Test&quot;));\r\n\r\nprivate static ArchCondition&lt;JavaClass&gt; haveACorrespondingClassEndingWith(String testClassSuffix) {\r\n    return new ArchCondition&lt;JavaClass&gt;(&quot;have a corresponding class with suffix &quot; + testClassSuffix) {\r\n        Set&lt;String&gt; testedClasseNames = emptySet();\r\n\r\n        @Override\r\n        public void init(Collection&lt;JavaClass&gt; allClasses) {\r\n            testedClasseNames = allClasses.stream()\r\n                    .map(JavaClass::getName)\r\n                    .filter(className -&gt; className.endsWith(testClassSuffix))\r\n                    .map(className -&gt; className.substring(0, className.length() - testClassSuffix.length()))\r\n                    .collect(toSet());\r\n        }\r\n\r\n        @Override\r\n        public void check(JavaClass clazz, ConditionEvents events) {\r\n            if (!clazz.getName().endsWith(testClassSuffix)) {\r\n                boolean satisfied = testedClasseNames.contains(clazz.getName());\r\n                String message = createMessage(clazz, &quot;has &quot; + (satisfied ? &quot;a&quot; : &quot;no&quot;) + &quot; corresponding test class&quot;);\r\n                events.add(new SimpleConditionEvent(clazz, satisfied, message));\r\n            }\r\n        }\r\n    };\r\n}\r\n```","title":"Archunit enforce test coverage","body":"<p>You can implement a &quot;non-local&quot; <code>ArchCondition</code> (i.e. one that relies on all objects to test) by overwriting its <a href=\"https://javadoc.io/static/com.tngtech.archunit/archunit/1.0.1/com/tngtech/archunit/lang/ArchCondition.html#init(java.util.Collection)\" rel=\"nofollow noreferrer\"><code>init(Collection&lt;T&gt; allObjectsToTest)</code></a> method.</p>\n<p>ArchUnit's library of <code>GeneralCodingRules</code> has a <a href=\"https://javadoc.io/static/com.tngtech.archunit/archunit/1.0.1/com/tngtech/archunit/library/GeneralCodingRules.html#testClassesShouldResideInTheSamePackageAsImplementation()\" rel=\"nofollow noreferrer\"><code>testClassesShouldResideInTheSamePackageAsImplementation()</code></a>, whose <a href=\"https://github.com/TNG/ArchUnit/blob/v1.0.1/archunit/src/main/java/com/tngtech/archunit/library/GeneralCodingRules.java#L423-L482\" rel=\"nofollow noreferrer\">implementation</a> is a good starting point to come up with something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ArchTest\nstatic final ArchRule relevant_classes_should_have_tests =\n        classes()\n            .that()\n                .areTopLevelClasses()\n                .and().areNotInterfaces()\n                .and().areNotRecords()\n                .and().areNotEnums()\n            .should(haveACorrespondingClassEndingWith(&quot;Test&quot;));\n\nprivate static ArchCondition&lt;JavaClass&gt; haveACorrespondingClassEndingWith(String testClassSuffix) {\n    return new ArchCondition&lt;JavaClass&gt;(&quot;have a corresponding class with suffix &quot; + testClassSuffix) {\n        Set&lt;String&gt; testedClasseNames = emptySet();\n\n        @Override\n        public void init(Collection&lt;JavaClass&gt; allClasses) {\n            testedClasseNames = allClasses.stream()\n                    .map(JavaClass::getName)\n                    .filter(className -&gt; className.endsWith(testClassSuffix))\n                    .map(className -&gt; className.substring(0, className.length() - testClassSuffix.length()))\n                    .collect(toSet());\n        }\n\n        @Override\n        public void check(JavaClass clazz, ConditionEvents events) {\n            if (!clazz.getName().endsWith(testClassSuffix)) {\n                boolean satisfied = testedClasseNames.contains(clazz.getName());\n                String message = createMessage(clazz, &quot;has &quot; + (satisfied ? &quot;a&quot; : &quot;no&quot;) + &quot; corresponding test class&quot;);\n                events.add(new SimpleConditionEvent(clazz, satisfied, message));\n            }\n        }\n    };\n}\n</code></pre>\n"}],"owner":{"account_id":24287116,"reputation":408,"user_id":18232723,"display_name":"kylie.zoltan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75075942,"answer_count":1,"score":0,"last_activity_date":1673385381,"creation_date":1673367467,"question_id":75072867,"body_markdown":"How can I enforce using Archunit that every class has a correspondent test class?\r\n\r\nI&#39;m able to get all the class that I want to check using this Rule:\r\n\r\n```\r\n        classes().that()\r\n                 .areNotInterfaces()\r\n                 .and()\r\n                 .areNotAnonymousClasses()\r\n                 .and()\r\n                 .areNotRecords()\r\n                 .and()\r\n                 .areNotEnums()\r\n                 .should()\r\n```\r\n\r\nBut not sure where to go from here.\r\n\r\nThanks","title":"Archunit enforce test coverage","body":"<p>How can I enforce using Archunit that every class has a correspondent test class?</p>\n<p>I'm able to get all the class that I want to check using this Rule:</p>\n<pre><code>        classes().that()\n                 .areNotInterfaces()\n                 .and()\n                 .areNotAnonymousClasses()\n                 .and()\n                 .areNotRecords()\n                 .and()\n                 .areNotEnums()\n                 .should()\n</code></pre>\n<p>But not sure where to go from here.</p>\n<p>Thanks</p>\n"},{"tags":["java","sdk","android-uiautomator"],"answers":[{"comments":[{"owner":{"account_id":12682352,"reputation":117,"user_id":9215534,"display_name":"prasad_21"},"score":1,"creation_date":1583855376,"post_id":51700454,"comment_id":107249721,"body_markdown":"It is the way to get the job done, but it is not secure to downgrade java as it could affect other programs and it is not secure either","body":"It is the way to get the job done, but it is not secure to downgrade java as it could affect other programs and it is not secure either"},{"owner":{"account_id":15012948,"reputation":926,"user_id":10837620,"display_name":"Atul KS"},"score":1,"creation_date":1612826724,"post_id":51700454,"comment_id":116883374,"body_markdown":"Found a solution which DON&#39;T NEED ONE TO DOWNGRADE TO JAVA 8 so, there is option for JRE to run VM for &quot;uiautomatorviewer&quot;.\n\nOne needs to install Android Studio and add the below location to &quot;path&quot; System Variable\n\nC:\\Program Files\\Android\\Android Studio\\jre\\bin\nI have jdk-11.0.6 and &quot;uiautomatorviewer&quot; is working fine","body":"Found a solution which DON&#39;T NEED ONE TO DOWNGRADE TO JAVA 8 so, there is option for JRE to run VM for &quot;uiautomatorviewer&quot;.  One needs to install Android Studio and add the below location to &quot;path&quot; System Variable  C:\\Program Files\\Android\\Android Studio\\jre\\bin I have jdk-11.0.6 and &quot;uiautomatorviewer&quot; is working fine"}],"tags":[],"owner":{"account_id":2066910,"reputation":191,"user_id":1842262,"display_name":"Venkatesh"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1533528665,"creation_date":1533528665,"answer_id":51700454,"question_id":49072271,"body_markdown":"If your using JDK 9 or 10 Please downgrade it to JDK 8. It should solve the problem. \r\n\r\nAlso ensure you have set the below path&#39;s correctly. \r\n\r\nANDROID_HOME  C:\\Users\\xxx\\AppData\\Local\\Android\\Sdk\r\n\r\nJAVA_HOME     C:\\Program Files\\Java\\jdk1.8.0_181\r\n\r\nUnder path in System variables \r\n\r\nC:\\Users\\xxx\\AppData\\Local\\Android\\Sdk\\tools\\bin \r\n\r\nC:\\Users\\xxx\\AppData\\Local\\Android\\Sdk\\tools\r\n\r\nC:\\Users\\xxx\\AppData\\Local\\Android\\Sdk\\platform-tools\r\n\r\nC:\\Program Files\\Java\\jdk1.8.0_181\\bin","title":"Unable to launch the UI Automator viewer","body":"<p>If your using JDK 9 or 10 Please downgrade it to JDK 8. It should solve the problem. </p>\n\n<p>Also ensure you have set the below path's correctly. </p>\n\n<p>ANDROID_HOME  C:\\Users\\xxx\\AppData\\Local\\Android\\Sdk</p>\n\n<p>JAVA_HOME     C:\\Program Files\\Java\\jdk1.8.0_181</p>\n\n<p>Under path in System variables </p>\n\n<p>C:\\Users\\xxx\\AppData\\Local\\Android\\Sdk\\tools\\bin </p>\n\n<p>C:\\Users\\xxx\\AppData\\Local\\Android\\Sdk\\tools</p>\n\n<p>C:\\Users\\xxx\\AppData\\Local\\Android\\Sdk\\platform-tools</p>\n\n<p>C:\\Program Files\\Java\\jdk1.8.0_181\\bin</p>\n"},{"comments":[{"owner":{"account_id":12825431,"reputation":143,"user_id":11802483,"display_name":"Abhijit"},"score":0,"creation_date":1673384910,"post_id":73725475,"comment_id":132485961,"body_markdown":"https://stackoverflow.com/a/75075862/11802483 please check this comment","body":"<a href=\"https://stackoverflow.com/a/75075862/11802483\">stackoverflow.com/a/75075862/11802483</a> please check this comment"}],"tags":[],"owner":{"account_id":15012948,"reputation":926,"user_id":10837620,"display_name":"Atul KS"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663214391,"creation_date":1663214391,"answer_id":73725475,"question_id":49072271,"body_markdown":"Adding here as Answer so that It should be clear to everyone.\r\n\r\nFound a solution which **DON&#39;T NEED ONE TO DOWNGRADE TO JAVA 8**+\r\nso, there is an option for JRE to run VM for &quot;uiautomatorviewer&quot;. \r\n\r\nStep:1\r\n One needs to install Android Studio\r\n\r\nStep:2\r\nAdd the below location to &quot;path&quot; System Variable-\r\n   \r\n    C:\\Program Files\\Android\\Android Studio\\jre\\bin\r\n\r\n I have jdk-11.0.6 and &quot;uiautomatorviewer&quot; is working fine","title":"Unable to launch the UI Automator viewer","body":"<p>Adding here as Answer so that It should be clear to everyone.</p>\n<p>Found a solution which <strong>DON'T NEED ONE TO DOWNGRADE TO JAVA 8</strong>+\nso, there is an option for JRE to run VM for &quot;uiautomatorviewer&quot;.</p>\n<p>Step:1\nOne needs to install Android Studio</p>\n<p>Step:2\nAdd the below location to &quot;path&quot; System Variable-</p>\n<pre><code>C:\\Program Files\\Android\\Android Studio\\jre\\bin\n</code></pre>\n<p>I have jdk-11.0.6 and &quot;uiautomatorviewer&quot; is working fine</p>\n"}],"owner":{"account_id":8326585,"reputation":355,"user_id":6256497,"display_name":"mudassar munir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3842,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1673384853,"creation_date":1520004624,"question_id":49072271,"body_markdown":"I am unable to launch the UI Automator viewer can anyone help me ?how can I launch it? when I double click on &quot;uiautomatorviewer&quot;  for some time black window  opens but closed automatically even I had set variables in windows path variable \r\nANDROID_HOME%\\tools;\r\n%ANDROID_HOME%\\platform-tools;\r\neven i am not sure how I can alaunch it?","title":"Unable to launch the UI Automator viewer","body":"<p>I am unable to launch the UI Automator viewer can anyone help me ?how can I launch it? when I double click on \"uiautomatorviewer\"  for some time black window  opens but closed automatically even I had set variables in windows path variable \nANDROID_HOME%\\tools;\n%ANDROID_HOME%\\platform-tools;\neven i am not sure how I can alaunch it?</p>\n"},{"tags":["java","spring-boot","maven","spring-tool-suite"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1673383699,"post_id":75075639,"comment_id":132485590,"body_markdown":"Unclear. How are your classes related? What is `nameClass` (hint: your code does not compile). Where are the entity instances created and where do instances of your other class exist? Why can&#39;t you pass a reference of one to the other and then call the getter?","body":"Unclear. How are your classes related? What is <code>nameClass</code> (hint: your code does not compile). Where are the entity instances created and where do instances of your other class exist? Why can&#39;t you pass a reference of one to the other and then call the getter?"},{"owner":{"account_id":23738666,"reputation":31,"user_id":17757015,"display_name":"Samee_code"},"score":0,"creation_date":1673384105,"post_id":75075639,"comment_id":132485731,"body_markdown":"I wanted to know how to import and use it inside the method. Like how would I use exampleName1 inside the method. Im a beginner at this.\nCan I do like a \npublic static Javaclass1 javaClass1;\nThen do like if(javaClass1.exampleName1 == true){}, then add the remaining if condition inside the method","body":"I wanted to know how to import and use it inside the method. Like how would I use exampleName1 inside the method. Im a beginner at this. Can I do like a  public static Javaclass1 javaClass1; Then do like if(javaClass1.exampleName1 == true){}, then add the remaining if condition inside the method"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1673384447,"post_id":75075639,"comment_id":132485826,"body_markdown":"There are many different ways how to &quot;use&quot; the field of a class in another class, it all depends on what you want your program to do (inject in constructor, construct new instance, pass as method parameter, have a singleton, expose via other class, create from factory, look up in container, …). Note that &quot;import&quot; has a very specific meaning in Java and one does not generally &quot;import a class into a method&quot;. Private fields are generally not accessible from other classes.","body":"There are many different ways how to &quot;use&quot; the field of a class in another class, it all depends on what you want your program to do (inject in constructor, construct new instance, pass as method parameter, have a singleton, expose via other class, create from factory, look up in container, …). Note that &quot;import&quot; has a very specific meaning in Java and one does not generally &quot;import a class into a method&quot;. Private fields are generally not accessible from other classes."},{"owner":{"account_id":23738666,"reputation":31,"user_id":17757015,"display_name":"Samee_code"},"score":0,"creation_date":1673385142,"post_id":75075639,"comment_id":132486027,"body_markdown":"got it ill look into each of those details. Thanks for the direction","body":"got it ill look into each of those details. Thanks for the direction"}],"answers":[{"comments":[{"owner":{"account_id":23738666,"reputation":31,"user_id":17757015,"display_name":"Samee_code"},"score":0,"creation_date":1673384449,"post_id":75075759,"comment_id":132485829,"body_markdown":"Can I pass in the private attribute of the entity without having to change the parameters for myMethod?","body":"Can I pass in the private attribute of the entity without having to change the parameters for myMethod?"},{"owner":{"account_id":8765633,"reputation":84,"user_id":10929107,"display_name":"MohammadMH"},"score":0,"creation_date":1673384542,"post_id":75075759,"comment_id":132485853,"body_markdown":"No, you can reach them just by call their getters","body":"No, you can reach them just by call their getters"},{"owner":{"account_id":8765633,"reputation":84,"user_id":10929107,"display_name":"MohammadMH"},"score":0,"creation_date":1673384744,"post_id":75075759,"comment_id":132485908,"body_markdown":"and one thing more please add datatypes in your methods signs like\n ```public static String myMethod(String name1, String nameClass, Javaclass1 javaClass1)```","body":"and one thing more please add datatypes in your methods signs like  <code>public static String myMethod(String name1, String nameClass, Javaclass1 javaClass1)</code>"},{"owner":{"account_id":8765633,"reputation":84,"user_id":10929107,"display_name":"MohammadMH"},"score":0,"creation_date":1673385426,"post_id":75075759,"comment_id":132486093,"body_markdown":"You&#39;re welcome\nHope be a great developer. keep trying...","body":"You&#39;re welcome Hope be a great developer. keep trying..."},{"owner":{"account_id":23738666,"reputation":31,"user_id":17757015,"display_name":"Samee_code"},"score":0,"creation_date":1673385650,"post_id":75075759,"comment_id":132486161,"body_markdown":"All these different concepts and ways to do certain things I feel is never-ending. There always a better way to do something. My head gets fried at times.","body":"All these different concepts and ways to do certain things I feel is never-ending. There always a better way to do something. My head gets fried at times."}],"tags":[],"owner":{"account_id":8765633,"reputation":84,"user_id":10929107,"display_name":"MohammadMH"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673384763,"creation_date":1673384200,"answer_id":75075759,"question_id":75075639,"body_markdown":"If you want to read a private attribute from another entity (in your example something like ```getExampleName1()```) you should have instance of that entity at first. you should import your entity by Name and then call the getter name. for example:\r\n```\r\npublic static String myMethod(String name1, String nameClass, Javaclass1 javaClass1){\r\n   if(nameClass != null &amp;&amp; javaClass1.getExampleName1 == true ){\r\n       return name1;\r\n  }\r\n}\r\n```","title":"How to reference a variable of Domain class in my method","body":"<p>If you want to read a private attribute from another entity (in your example something like <code>getExampleName1()</code>) you should have instance of that entity at first. you should import your entity by Name and then call the getter name. for example:</p>\n<pre><code>public static String myMethod(String name1, String nameClass, Javaclass1 javaClass1){\n   if(nameClass != null &amp;&amp; javaClass1.getExampleName1 == true ){\n       return name1;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":23738666,"reputation":31,"user_id":17757015,"display_name":"Samee_code"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75075759,"answer_count":1,"score":0,"last_activity_date":1673384763,"creation_date":1673383524,"question_id":75075639,"body_markdown":"I want to check if a boolean variable from a Domain class equates to true in my method.\r\n\r\n    private Boolean exampleName1 = null;\r\n\r\nThis is in a @Entity class called Javaclass1.java\r\n\r\nMy method is in JavaClass2.java\r\n\r\n    public static String myMethod(name1, nameClass){\r\n       if(nameClass != null){\r\n           return name1;\r\n      }\r\n    }\r\n\r\nI want to execute the if condition above only if the boolean for exampleName1 in the entity class is true. It has a getter and setter.\r\nHow would I import and setup the if condition?","title":"How to reference a variable of Domain class in my method","body":"<p>I want to check if a boolean variable from a Domain class equates to true in my method.</p>\n<pre><code>private Boolean exampleName1 = null;\n</code></pre>\n<p>This is in a @Entity class called Javaclass1.java</p>\n<p>My method is in JavaClass2.java</p>\n<pre><code>public static String myMethod(name1, nameClass){\n   if(nameClass != null){\n       return name1;\n  }\n}\n</code></pre>\n<p>I want to execute the if condition above only if the boolean for exampleName1 in the entity class is true. It has a getter and setter.\nHow would I import and setup the if condition?</p>\n"},{"tags":["java","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":889764,"reputation":4441,"user_id":928276,"accept_rate":75,"display_name":"soorapadman"},"score":0,"creation_date":1533962494,"post_id":51792313,"comment_id":90550153,"body_markdown":"Use `WebMvcConfigurer` instead of `WebMvcConfigurerAdapter ` . one thing i suspect is the path pattern might be the cause . for secure page you should add .","body":"Use <code>WebMvcConfigurer</code> instead of <code>WebMvcConfigurerAdapter </code> . one thing i suspect is the path pattern might be the cause . for secure page you should add ."},{"owner":{"account_id":12895134,"reputation":483,"user_id":9325709,"display_name":"maxwellhertz"},"score":0,"creation_date":1533964436,"post_id":51792313,"comment_id":90550412,"body_markdown":"@soorapadman I checked the path of view again and again but I didn&#39;t find what was wrong.","body":"@soorapadman I checked the path of view again and again but I didn&#39;t find what was wrong."}],"answers":[{"comments":[{"owner":{"account_id":12895134,"reputation":483,"user_id":9325709,"display_name":"maxwellhertz"},"score":0,"creation_date":1533928497,"post_id":51792456,"comment_id":90543062,"body_markdown":"Oh, I have tried this one but it didn&#39;t work either. It&#39;s strange.","body":"Oh, I have tried this one but it didn&#39;t work either. It&#39;s strange."},{"owner":{"account_id":9190575,"reputation":8919,"user_id":6831257,"display_name":"GolamMazid Sajib"},"score":0,"creation_date":1533928942,"post_id":51792456,"comment_id":90543290,"body_markdown":"give your stacktrace?","body":"give your stacktrace?"}],"tags":[],"owner":{"account_id":9190575,"reputation":8919,"user_id":6831257,"display_name":"GolamMazid Sajib"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1533926882,"creation_date":1533926882,"answer_id":51792456,"question_id":51792313,"body_markdown":"To render view you need to use `@Controller`.\r\n\r\nChange this:\r\n\r\n    @RestController\r\n    public class LoginController {\r\n    }\r\n\r\nTo:\r\n\r\n    @Controller\r\n    public class LoginController {\r\n    }","title":"Spring Boot can&#39;t resolve Thymeleaf view","body":"<p>To render view you need to use <code>@Controller</code>.</p>\n\n<p>Change this:</p>\n\n<pre><code>@RestController\npublic class LoginController {\n}\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>@Controller\npublic class LoginController {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12236729,"reputation":440,"user_id":8930916,"display_name":"Chetan Oswal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673384742,"creation_date":1673384742,"answer_id":75075841,"question_id":51792313,"body_markdown":"Instead of using ModelAndView, try using `Model`. Do following - \r\n\r\n1. Use `Controller` instead of `RestController`.\r\n2. Change return type to String.\r\n3. Add thymeleaf attributes to your Model object.\r\n4. Return the template name you want to display.\r\n5. Configure the template path in your properties/YML file - \r\n\r\n    spring.thymeleaf.prefix = classpath:/YOUR FOLDER NAME/","title":"Spring Boot can&#39;t resolve Thymeleaf view","body":"<p>Instead of using ModelAndView, try using <code>Model</code>. Do following -</p>\n<ol>\n<li><p>Use <code>Controller</code> instead of <code>RestController</code>.</p>\n</li>\n<li><p>Change return type to String.</p>\n</li>\n<li><p>Add thymeleaf attributes to your Model object.</p>\n</li>\n<li><p>Return the template name you want to display.</p>\n</li>\n<li><p>Configure the template path in your properties/YML file -</p>\n<p>spring.thymeleaf.prefix = classpath:/YOUR FOLDER NAME/</p>\n</li>\n</ol>\n"}],"owner":{"account_id":12895134,"reputation":483,"user_id":9325709,"display_name":"maxwellhertz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1055,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":51792456,"answer_count":2,"score":1,"last_activity_date":1673384742,"creation_date":1533926220,"question_id":51792313,"body_markdown":"I integrate Spring Boot with Thymeleaf but the web doesn&#39;t redirect or forward after the controller returns a view.\r\nThis is Thymeleaf page:\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    \r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;\r\n        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\r\n        &lt;title&gt;login&lt;/title&gt;\r\n    \r\n        &lt;link href=&quot;https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css&quot; th:href=&quot;@{/webjars/bootstrap/3.3.7/css/bootstrap.css}&quot; rel=&quot;stylesheet&quot;&gt;\r\n        &lt;link rel=&#39;stylesheet&#39; href=&#39;https://fonts.googleapis.com/css?family=Open+Sans:400,300&#39;&gt;\r\n        &lt;link rel=&#39;stylesheet&#39; href=&#39;https://fonts.googleapis.com/icon?family=Material+Icons&#39;&gt;\r\n    \r\n        &lt;link rel=&quot;stylesheet&quot; href=&quot;css/style.css&quot; th:href=&quot;@{/css/style.css}&quot;&gt;\r\n    \r\n    \r\n    &lt;/head&gt;\r\n    \r\n    &lt;body&gt;\r\n\r\n                &lt;div class=&quot;cont_forms&quot;&gt;\r\n                    &lt;div class=&quot;cont_img_back_&quot;&gt;\r\n                        &lt;img src=&quot;https://images.unsplash.com/42/U7Fc1sy5SCUDIu4tlJY3_NY_by_PhilippHenzler_philmotion.de.jpg?ixlib=rb-0.3.5&amp;q=50&amp;fm=jpg&amp;crop=entropy&amp;s=7686972873678f32efaf2cd79671673d&quot;\r\n                             alt=&quot;&quot;/&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;cont_form_login&quot;&gt;\r\n                        &lt;a href=&quot;#&quot; onclick=&quot;ocultar_login_sign_up()&quot;&gt;&lt;i class=&quot;material-icons&quot;&gt;&amp;#xE5C4;&lt;/i&gt;&lt;/a&gt;\r\n                        &lt;h3&gt;login&lt;/h3&gt;\r\n                        &lt;input id=&quot;login_name&quot; type=&quot;text&quot; placeholder=&quot;username&quot;/&gt;\r\n                        &lt;input id=&quot;login_password&quot; type=&quot;password&quot; placeholder=&quot;password&quot;/&gt;\r\n                        &lt;div class=&quot;checkbox mb-3&quot; style=&quot;margin:5% auto 0% 2%&quot;&gt;\r\n                            &lt;label&gt;\r\n                                &lt;input type=&quot;checkbox&quot; id=&quot;remember&quot;&gt; Remember me\r\n                            &lt;/label&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;p style=&quot;color: red&quot; th:text=&quot;${msg}&quot; th:if=&quot;${not #strings.isEmpty(msg)}&quot;&gt;&lt;/p&gt;\r\n                        &lt;button class=&quot;btn_login&quot; onclick=&quot;login(&#39;http://localhost:8080/assignment/user/login&#39;)&quot;&gt;login&lt;/button&gt;\r\n                    &lt;/div&gt;\r\n   \r\n                &lt;/div&gt;\r\n    \r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;script src=&quot;https://cdn.bootcss.com/jquery/1.12.4/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script src=&quot;https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script src=&quot;js/index.js&quot;&gt;&lt;/script&gt;\r\n    \r\n    &lt;script&gt;\r\n        function login(url) {\r\n            var username = document.getElementById(&quot;login_name&quot;).value;\r\n            var password = document.getElementById(&quot;login_password&quot;).value;\r\n            $.post(url, {&#39;username&#39;:username, &#39;password&#39;:password});\r\n        }\r\n\r\n    &lt;/script&gt;\r\n    \r\n    &lt;/body&gt;\r\n    \r\n    &lt;/html&gt;\r\n\r\nAnd I have a controller:\r\n\r\n    @RestController\r\n    public class LoginController {\r\n    \r\n        @Autowired\r\n        private StudentRepository studentRepository;\r\n    \r\n        @Autowired\r\n        private TeacherRepository teacherRepository;\r\n    \r\n        @PostMapping(value = &quot;/user/login&quot;)\r\n        public ModelAndView login(@RequestParam(&quot;username&quot;) String username,\r\n                                  @RequestParam(&quot;password&quot;) String password,\r\n                                  Map&lt;String, Object&gt; info,\r\n                                  HttpSession session) {\r\n            ModelAndView mv = new ModelAndView();\r\n            mv.setViewName(&quot;index&quot;);\r\n                Optional&lt;Student&gt; student = studentRepository.findById(username);\r\n                if (!student.isPresent()) {\r\n                    info.put(&quot;msg&quot;, &quot;User doesn&#39;t exist.&quot;);\r\n                } else {\r\n                    try {\r\n                        if (!EncryptUtil.aesDecrypt(student.get().getPassword()).equals(password)) {\r\n                            info.put(&quot;msg&quot;, &quot;Wrong password!&quot;);\r\n                        } else {\r\n                            System.out.println(&quot;-------------------------success&quot;);\r\n                            session.setAttribute(&quot;user&quot;, student.get().getName()); \r\n                            mv.setViewName(&quot;student/homework&quot;);\r\n                        }\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            return mv;\r\n        }\r\n    }\r\nI can see `------------------------success` in the console which means method `login` has exited succefully ** but the page doesn&#39;t change.** It doesn&#39;t just go to the view `student/homework`. Anyony helps?\r\nAdditionally this is the `pom.xml`:\r\n   \r\n\r\n     &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.4.RELEASE&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n            &lt;thymeleaf.version&gt;3.0.9.RELEASE&lt;/thymeleaf.version&gt;\r\n            &lt;thymeleaf-layout-dialect.version&gt;2.2.2&lt;/thymeleaf-layout-dialect.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jquery&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n                &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.7&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n\r\n-------------------------UPDATE------------------------------- &lt;br&gt;\r\nThis is the stack trace:\r\n\r\n    2018-08-11 12:21:29.824  INFO 13220 --- [nio-8080-exec-1] o.a.c.c.C.[.[localhost].[/assignment]    : Initializing Spring FrameworkServlet &#39;dispatcherServlet&#39;\r\n    2018-08-11 12:21:29.824  INFO 13220 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet &#39;dispatcherServlet&#39;: initialization started\r\n    2018-08-11 12:21:29.876  INFO 13220 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet &#39;dispatcherServlet&#39;: initialization completed in 52 ms\r\n    Hibernate: select student0_.id as id1_0_0_, student0_.name as name2_0_0_, student0_.password as password3_0_0_ from students student0_ where student0_.id=?\r\n    -------------------------success\r\n\r\nAlso, I find another problem. I tried to custom Spring MVC so I wrote a configuration class :\r\n\r\n    @Configuration\r\n    public class MvcConfig extends WebMvcConfigurerAdapter {\r\n    \r\n        @Bean\r\n        public WebMvcConfigurerAdapter webMvcConfigurerAdapter() {\r\n            WebMvcConfigurerAdapter adapter = new WebMvcConfigurerAdapter() {\r\n                @Override\r\n                public void addViewControllers(ViewControllerRegistry registry) {\r\n                    // welcome page\r\n                    registry.addViewController(&quot;/&quot;).setViewName(&quot;index&quot;);\r\n                    registry.addViewController(&quot;/index.html&quot;).setViewName(&quot;index&quot;);\r\n                }\r\n            };\r\n            return adapter;\r\n        }\r\n    }\r\n\r\nBut IDEA shows that `WebMvcConfigurerAdapter` has been deprecated. What should I do? I can&#39;t find a solution in the Spring Boot reference doc.\r\n","title":"Spring Boot can&#39;t resolve Thymeleaf view","body":"<p>I integrate Spring Boot with Thymeleaf but the web doesn't redirect or forward after the controller returns a view.\nThis is Thymeleaf page:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\" xmlns:th=\"http://www.thymeleaf.org\"&gt;\n\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n    &lt;title&gt;login&lt;/title&gt;\n\n    &lt;link href=\"https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css\" th:href=\"@{/webjars/bootstrap/3.3.7/css/bootstrap.css}\" rel=\"stylesheet\"&gt;\n    &lt;link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Open+Sans:400,300'&gt;\n    &lt;link rel='stylesheet' href='https://fonts.googleapis.com/icon?family=Material+Icons'&gt;\n\n    &lt;link rel=\"stylesheet\" href=\"css/style.css\" th:href=\"@{/css/style.css}\"&gt;\n\n\n&lt;/head&gt;\n\n&lt;body&gt;\n\n            &lt;div class=\"cont_forms\"&gt;\n                &lt;div class=\"cont_img_back_\"&gt;\n                    &lt;img src=\"https://images.unsplash.com/42/U7Fc1sy5SCUDIu4tlJY3_NY_by_PhilippHenzler_philmotion.de.jpg?ixlib=rb-0.3.5&amp;q=50&amp;fm=jpg&amp;crop=entropy&amp;s=7686972873678f32efaf2cd79671673d\"\n                         alt=\"\"/&gt;\n                &lt;/div&gt;\n                &lt;div class=\"cont_form_login\"&gt;\n                    &lt;a href=\"#\" onclick=\"ocultar_login_sign_up()\"&gt;&lt;i class=\"material-icons\"&gt;&amp;#xE5C4;&lt;/i&gt;&lt;/a&gt;\n                    &lt;h3&gt;login&lt;/h3&gt;\n                    &lt;input id=\"login_name\" type=\"text\" placeholder=\"username\"/&gt;\n                    &lt;input id=\"login_password\" type=\"password\" placeholder=\"password\"/&gt;\n                    &lt;div class=\"checkbox mb-3\" style=\"margin:5% auto 0% 2%\"&gt;\n                        &lt;label&gt;\n                            &lt;input type=\"checkbox\" id=\"remember\"&gt; Remember me\n                        &lt;/label&gt;\n                    &lt;/div&gt;\n                    &lt;p style=\"color: red\" th:text=\"${msg}\" th:if=\"${not #strings.isEmpty(msg)}\"&gt;&lt;/p&gt;\n                    &lt;button class=\"btn_login\" onclick=\"login('http://localhost:8080/assignment/user/login')\"&gt;login&lt;/button&gt;\n                &lt;/div&gt;\n\n            &lt;/div&gt;\n\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;script src=\"https://cdn.bootcss.com/jquery/1.12.4/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"js/index.js\"&gt;&lt;/script&gt;\n\n&lt;script&gt;\n    function login(url) {\n        var username = document.getElementById(\"login_name\").value;\n        var password = document.getElementById(\"login_password\").value;\n        $.post(url, {'username':username, 'password':password});\n    }\n\n&lt;/script&gt;\n\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>And I have a controller:</p>\n\n<pre><code>@RestController\npublic class LoginController {\n\n    @Autowired\n    private StudentRepository studentRepository;\n\n    @Autowired\n    private TeacherRepository teacherRepository;\n\n    @PostMapping(value = \"/user/login\")\n    public ModelAndView login(@RequestParam(\"username\") String username,\n                              @RequestParam(\"password\") String password,\n                              Map&lt;String, Object&gt; info,\n                              HttpSession session) {\n        ModelAndView mv = new ModelAndView();\n        mv.setViewName(\"index\");\n            Optional&lt;Student&gt; student = studentRepository.findById(username);\n            if (!student.isPresent()) {\n                info.put(\"msg\", \"User doesn't exist.\");\n            } else {\n                try {\n                    if (!EncryptUtil.aesDecrypt(student.get().getPassword()).equals(password)) {\n                        info.put(\"msg\", \"Wrong password!\");\n                    } else {\n                        System.out.println(\"-------------------------success\");\n                        session.setAttribute(\"user\", student.get().getName()); \n                        mv.setViewName(\"student/homework\");\n                    }\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        return mv;\n    }\n}\n</code></pre>\n\n<p>I can see <code>------------------------success</code> in the console which means method <code>login</code> has exited succefully ** but the page doesn't change.** It doesn't just go to the view <code>student/homework</code>. Anyony helps?\nAdditionally this is the <code>pom.xml</code>:</p>\n\n<pre><code> &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.0.4.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;thymeleaf.version&gt;3.0.9.RELEASE&lt;/thymeleaf.version&gt;\n        &lt;thymeleaf-layout-dialect.version&gt;2.2.2&lt;/thymeleaf-layout-dialect.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;jquery&lt;/artifactId&gt;\n            &lt;version&gt;3.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\n            &lt;version&gt;3.3.7&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n\n<p>-------------------------UPDATE------------------------------- <br>\nThis is the stack trace:</p>\n\n<pre><code>2018-08-11 12:21:29.824  INFO 13220 --- [nio-8080-exec-1] o.a.c.c.C.[.[localhost].[/assignment]    : Initializing Spring FrameworkServlet 'dispatcherServlet'\n2018-08-11 12:21:29.824  INFO 13220 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started\n2018-08-11 12:21:29.876  INFO 13220 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 52 ms\nHibernate: select student0_.id as id1_0_0_, student0_.name as name2_0_0_, student0_.password as password3_0_0_ from students student0_ where student0_.id=?\n-------------------------success\n</code></pre>\n\n<p>Also, I find another problem. I tried to custom Spring MVC so I wrote a configuration class :</p>\n\n<pre><code>@Configuration\npublic class MvcConfig extends WebMvcConfigurerAdapter {\n\n    @Bean\n    public WebMvcConfigurerAdapter webMvcConfigurerAdapter() {\n        WebMvcConfigurerAdapter adapter = new WebMvcConfigurerAdapter() {\n            @Override\n            public void addViewControllers(ViewControllerRegistry registry) {\n                // welcome page\n                registry.addViewController(\"/\").setViewName(\"index\");\n                registry.addViewController(\"/index.html\").setViewName(\"index\");\n            }\n        };\n        return adapter;\n    }\n}\n</code></pre>\n\n<p>But IDEA shows that <code>WebMvcConfigurerAdapter</code> has been deprecated. What should I do? I can't find a solution in the Spring Boot reference doc.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":17787151,"reputation":378,"user_id":12916990,"display_name":"Vijay S"},"score":0,"creation_date":1638425253,"post_id":70194837,"comment_id":124085770,"body_markdown":"Google play Console  accept .apk file also.","body":"Google play Console  accept .apk file also."},{"owner":{"account_id":22355057,"reputation":359,"user_id":16572497,"display_name":"Kirollos Mallak"},"score":0,"creation_date":1638426231,"post_id":70194837,"comment_id":124085977,"body_markdown":"you can try it from Android Studio. it&#39;s easy","body":"you can try it from Android Studio. it&#39;s easy"}],"answers":[{"comments":[{"owner":{"account_id":138710,"reputation":3796,"user_id":343825,"accept_rate":80,"display_name":"Henrik Erlandsson"},"score":0,"creation_date":1666042627,"post_id":70194958,"comment_id":130837631,"body_markdown":"This is false information. &quot;Upload a valid app bundle&quot;. https://developer.android.com/guide/app-bundle#get_started","body":"This is false information. &quot;Upload a valid app bundle&quot;. <a href=\"https://developer.android.com/guide/app-bundle#get_started\" rel=\"nofollow noreferrer\">developer.android.com/guide/app-bundle#get_started</a>"}],"tags":[],"owner":{"display_name":"user14616876"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1638426066,"creation_date":1638426066,"answer_id":70194958,"question_id":70194837,"body_markdown":"Yes, They still accept apk files. However, Apk files are 32 bit now. For Later Android releases like 12 and above, move your Project To Android Studio. There is no option other than using android studio because there is no other ide to support it at the moment. Please Contact google If needed any more assistance.","title":"Convert .apk file to .abb file without Android studio","body":"<p>Yes, They still accept apk files. However, Apk files are 32 bit now. For Later Android releases like 12 and above, move your Project To Android Studio. There is no option other than using android studio because there is no other ide to support it at the moment. Please Contact google If needed any more assistance.</p>\n"},{"comments":[{"owner":{"account_id":9547948,"reputation":997,"user_id":7093155,"display_name":"Robin"},"score":6,"creation_date":1638429541,"post_id":70195422,"comment_id":124086739,"body_markdown":"I mean, he specifically mentioned &quot;WITHOUT&quot; Android studio","body":"I mean, he specifically mentioned &quot;WITHOUT&quot; Android studio"},{"owner":{"account_id":22355057,"reputation":359,"user_id":16572497,"display_name":"Kirollos Mallak"},"score":0,"creation_date":1638429664,"post_id":70195422,"comment_id":124086765,"body_markdown":"I just recommended using android studio ...","body":"I just recommended using android studio ..."},{"owner":{"account_id":9547948,"reputation":997,"user_id":7093155,"display_name":"Robin"},"score":0,"creation_date":1638429908,"post_id":70195422,"comment_id":124086838,"body_markdown":"Okay. But since he did it with AIDE which is a mobile IDE suggesting how to get the files to the PC should be included too.","body":"Okay. But since he did it with AIDE which is a mobile IDE suggesting how to get the files to the PC should be included too."},{"owner":{"account_id":13819119,"reputation":1911,"user_id":9975029,"display_name":"Dyno Cris"},"score":0,"creation_date":1648043732,"post_id":70195422,"comment_id":126524205,"body_markdown":"Why I don&#39;t have the Gererate Signed Bundle button, just Generate Signed Apk...","body":"Why I don&#39;t have the Gererate Signed Bundle button, just Generate Signed Apk..."},{"owner":{"account_id":2401408,"reputation":1650,"user_id":2098993,"accept_rate":75,"display_name":"sonertbnc"},"score":0,"creation_date":1650375541,"post_id":70195422,"comment_id":127096340,"body_markdown":"which android studio version are u using for it, because new version is  not support or I couldn&#39;t find it","body":"which android studio version are u using for it, because new version is  not support or I couldn&#39;t find it"}],"tags":[],"owner":{"account_id":22355057,"reputation":359,"user_id":16572497,"display_name":"Kirollos Mallak"},"comment_count":5,"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1638429368,"creation_date":1638429368,"answer_id":70195422,"question_id":70194837,"body_markdown":"&gt; 1- setup  [Android Studio][1] \r\n&gt; \r\n&gt; 2- open your project in Android studio \r\n&gt; \r\n&gt; 3- from `the Menu` at the top choose `Build` then `Generate Signed\r\n&gt; Bundle/APK...`\r\n\r\n[![enter image description here][2]][2]\r\n\r\n&gt; 4- in dialog box mark at `Android App Bundle(aab)` ***and follow steps that it***\r\n\r\n[![enter image description here][3]][3]\r\n\r\n  [1]: https://developer.android.com/studio\r\n  [2]: https://i.stack.imgur.com/qLqNv.png\r\n  [3]: https://i.stack.imgur.com/Rilq5.png","title":"Convert .apk file to .abb file without Android studio","body":"<blockquote>\n<p>1- setup  <a href=\"https://developer.android.com/studio\" rel=\"nofollow noreferrer\">Android Studio</a></p>\n<p>2- open your project in Android studio</p>\n<p>3- from <code>the Menu</code> at the top choose <code>Build</code> then <code>Generate Signed Bundle/APK...</code></p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/qLqNv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qLqNv.png\" alt=\"enter image description here\" /></a></p>\n<blockquote>\n<p>4- in dialog box mark at <code>Android App Bundle(aab)</code> <em><strong>and follow steps that it</strong></em></p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/Rilq5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Rilq5.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":6773257,"reputation":29,"user_id":5215971,"display_name":"spenat28"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1653638508,"creation_date":1653638508,"answer_id":72402277,"question_id":70194837,"body_markdown":"Via gradle - without android studio, you would use task &#39;bundle&#39; instead of &#39;assemble&#39;","title":"Convert .apk file to .abb file without Android studio","body":"<p>Via gradle - without android studio, you would use task 'bundle' instead of 'assemble'</p>\n"}],"owner":{"account_id":18976962,"reputation":21,"user_id":13849220,"display_name":"Amos Ayomide"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15899,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1673384550,"creation_date":1638425023,"question_id":70194837,"body_markdown":"Please how can I convert .apk to .aab without Android studio\r\n\r\nI created an Android app using AIDE and I wanted to upload to Google Play Store and then I discovered it&#39;s only .aab file format of the app they accept.","title":"Convert .apk file to .abb file without Android studio","body":"<p>Please how can I convert .apk to .aab without Android studio</p>\n<p>I created an Android app using AIDE and I wanted to upload to Google Play Store and then I discovered it's only .aab file format of the app they accept.</p>\n"},{"tags":["java","authentication","netbeans","ibm-midrange"],"answers":[{"tags":[],"owner":{"account_id":4802130,"reputation":586,"user_id":3878472,"display_name":"jweberhard"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673381288,"creation_date":1673381288,"answer_id":75075298,"question_id":75074910,"body_markdown":"Looking at the documention at https://www.ibm.com/docs/en/i/7.3?topic=ssw_ibm_i_73/rzahh/javadoc/com/ibm/as400/access/doc-files/JDBCProperties.htm, I see the prompt JDBC property should do the trick.\r\n\r\nUse the prompt=false on your JDBC URL, i.e.\r\n\r\n    Connection connectionAS400 = DriverManager.getConnection(&quot;jdbc:as400://&quot; + serverAS400+&quot;;prompt=false&#39;, usuario, contrasena);\r\n   ","title":"AS400 username and password verification in java. (Problem when putting the wrong credentials)","body":"<p>Looking at the documention at <a href=\"https://www.ibm.com/docs/en/i/7.3?topic=ssw_ibm_i_73/rzahh/javadoc/com/ibm/as400/access/doc-files/JDBCProperties.htm\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/i/7.3?topic=ssw_ibm_i_73/rzahh/javadoc/com/ibm/as400/access/doc-files/JDBCProperties.htm</a>, I see the prompt JDBC property should do the trick.</p>\n<p>Use the prompt=false on your JDBC URL, i.e.</p>\n<pre><code>Connection connectionAS400 = DriverManager.getConnection(&quot;jdbc:as400://&quot; + serverAS400+&quot;;prompt=false', usuario, contrasena);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8829300,"reputation":1,"user_id":6596378,"display_name":"Laura P&#233;rez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673384463,"creation_date":1673384463,"answer_id":75075796,"question_id":75074910,"body_markdown":"----------\r\nhttps://stackoverflow.com/questions/75074910/as400-username-and-password-verification-in-java-problem-when-putting-the-wron\r\n\r\n\r\nIt seems that you don&#39;t get the error message because your code execution never enters that block of code since connectionAS400 variable of type Connection is not null even if the user is not correct, you need to check for the negative value contained in connectionAS400.\r\n\r\nDriverManager.getConnection returns a url or exceptions, you can check the developer reference here: [DriverManager Java Developer Reference][1]\r\n\r\n\r\n[1]:https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/DriverManager.html#getConnection(java.lang.String,java.util.Properties)","title":"AS400 username and password verification in java. (Problem when putting the wrong credentials)","body":"<hr />\n<p><a href=\"https://stackoverflow.com/questions/75074910/as400-username-and-password-verification-in-java-problem-when-putting-the-wron\">AS400 username and password verification in java. (Problem when putting the wrong credentials)</a></p>\n<p>It seems that you don't get the error message because your code execution never enters that block of code since connectionAS400 variable of type Connection is not null even if the user is not correct, you need to check for the negative value contained in connectionAS400.</p>\n<p>DriverManager.getConnection returns a url or exceptions, you can check the developer reference here: <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/DriverManager.html#getConnection(java.lang.String,java.util.Properties)\" rel=\"nofollow noreferrer\">DriverManager Java Developer Reference</a></p>\n"}],"owner":{"account_id":27454567,"reputation":3,"user_id":20946250,"display_name":"Mauricio Vasquez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75075298,"answer_count":2,"score":0,"last_activity_date":1673384463,"creation_date":1673378850,"question_id":75074910,"body_markdown":"So when i introduce a wrong username and password it should show me only the message:&quot;Intente otra vez&quot;\r\n\r\nHere is my code:\r\n\r\n```\r\ntry {\r\n            String usuario=txtUsu.getText();\r\n            String password=contrasena.getText();\r\n            ModeloExcel modeloE = new ModeloExcel();\r\n            //loginAS400       \r\n            if(modeloE.loginAS400( usuario, password)==true){\r\n                VistaExcel vistaE = new VistaExcel(usuario, password);\r\n                ControladorExcel contraControladorExcel = new ControladorExcel(vistaE, modeloE);\r\n                try {\r\n                    modeloE.loginAS400(usuario, password);\r\n               } catch (SQLException ex) {\r\n                    Logger.getLogger(VistaLogin.class.getName()).log(Level.SEVERE, null, ex);\r\n                } catch (IOException ex) {\r\n                    Logger.getLogger(VistaLogin.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n                vistaE.setVisible(true);\r\n                vistaE.setLocationRelativeTo(null);\r\n                this.setVisible(false);\r\n            } else if(modeloE.loginAS400( usuario, password)==false){\r\n                JOptionPane.showMessageDialog(null,&quot;Intente otra vez&quot;);\r\n                txtUsu.setText(&quot;&quot;);\r\n                System.exit(0);\r\n            }\r\n        } catch (SQLException ex) {\r\n            Logger.getLogger(VistaLogin.class.getName()).log(Level.SEVERE, null, ex);\r\n        } catch (IOException ex) {\r\n            Logger.getLogger(VistaLogin.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n```\r\n\r\nand the loginAS400:\r\n\r\n```\r\npublic static boolean loginAS400(String usuario, String contrasena) throws SQLException, IOException {\r\n        String serverAS400 = &quot;ip&quot;; \r\n        Driver d=new com.ibm.as400.access.AS400JDBCDriver();\r\n        DriverManager.registerDriver(d);\r\n        Connection connectionAS400 = DriverManager.getConnection(&quot;jdbc:as400://&quot; + serverAS400, usuario, contrasena);\r\n        if (connectionAS400!=null) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n```\r\n\r\n\r\n[It shows me this...](https://i.stack.imgur.com/c4oJ2.png)\r\n\r\nBut as you can see, it shows me the as400 login error. and it keeps showing after every cancel or exit.\r\nOnly after a few cancels, the program closes and returns me to the login in my project.\r\n\r\n\r\nSo i&#39;m wondering if there is something i can do to make it not show me the AS400 program login.","title":"AS400 username and password verification in java. (Problem when putting the wrong credentials)","body":"<p>So when i introduce a wrong username and password it should show me only the message:&quot;Intente otra vez&quot;</p>\n<p>Here is my code:</p>\n<pre><code>try {\n            String usuario=txtUsu.getText();\n            String password=contrasena.getText();\n            ModeloExcel modeloE = new ModeloExcel();\n            //loginAS400       \n            if(modeloE.loginAS400( usuario, password)==true){\n                VistaExcel vistaE = new VistaExcel(usuario, password);\n                ControladorExcel contraControladorExcel = new ControladorExcel(vistaE, modeloE);\n                try {\n                    modeloE.loginAS400(usuario, password);\n               } catch (SQLException ex) {\n                    Logger.getLogger(VistaLogin.class.getName()).log(Level.SEVERE, null, ex);\n                } catch (IOException ex) {\n                    Logger.getLogger(VistaLogin.class.getName()).log(Level.SEVERE, null, ex);\n                }\n                vistaE.setVisible(true);\n                vistaE.setLocationRelativeTo(null);\n                this.setVisible(false);\n            } else if(modeloE.loginAS400( usuario, password)==false){\n                JOptionPane.showMessageDialog(null,&quot;Intente otra vez&quot;);\n                txtUsu.setText(&quot;&quot;);\n                System.exit(0);\n            }\n        } catch (SQLException ex) {\n            Logger.getLogger(VistaLogin.class.getName()).log(Level.SEVERE, null, ex);\n        } catch (IOException ex) {\n            Logger.getLogger(VistaLogin.class.getName()).log(Level.SEVERE, null, ex);\n        }\n</code></pre>\n<p>and the loginAS400:</p>\n<pre><code>public static boolean loginAS400(String usuario, String contrasena) throws SQLException, IOException {\n        String serverAS400 = &quot;ip&quot;; \n        Driver d=new com.ibm.as400.access.AS400JDBCDriver();\n        DriverManager.registerDriver(d);\n        Connection connectionAS400 = DriverManager.getConnection(&quot;jdbc:as400://&quot; + serverAS400, usuario, contrasena);\n        if (connectionAS400!=null) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/c4oJ2.png\" rel=\"nofollow noreferrer\">It shows me this...</a></p>\n<p>But as you can see, it shows me the as400 login error. and it keeps showing after every cancel or exit.\nOnly after a few cancels, the program closes and returns me to the login in my project.</p>\n<p>So i'm wondering if there is something i can do to make it not show me the AS400 program login.</p>\n"},{"tags":["java","spring-boot","junit","yaml"],"answers":[{"comments":[{"owner":{"display_name":"user1410223"},"score":0,"creation_date":1664402249,"post_id":73040739,"comment_id":130466286,"body_markdown":"Hi! What about the Factory?","body":"Hi! What about the Factory?"}],"tags":[],"owner":{"account_id":1362416,"reputation":4479,"user_id":1299533,"display_name":"Scott Frederick"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658249289,"creation_date":1658249289,"answer_id":73040739,"question_id":73020838,"body_markdown":"Your `ExcludePopulationProperties` class should not be annotated with `@Component`. Instead, you should have the annotation `@EnableConfigurationProperties(ExcludePopulationProperties.class)` on a configuration class in your project (the main application class will work). \r\n\r\nChange your properties class to look like this (removing `@Component`): \r\n\r\n\r\n```\r\n@Data\r\n@ConfigurationProperties(prefix = &quot;project&quot;)\r\npublic class ExcludePopulationProperties {\r\n   ...\r\n}\r\n```\r\n\r\nChange your application class to enable the configuration properties: \r\n\r\n```\r\n@SpringBootApplication\r\n@EnableConfigurationProperties(ExcludePopulationProperties.class)\r\npublic class DemoApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nAnd the `YamlTest` class to look like this (using `@SpringBootTest`): \r\n\r\n```\r\n@SpringBootTest\r\n@ContextConfiguration(classes = { DemoApplication.class })\r\n@TestPropertySource(properties = { &quot;spring.config.location=classpath:application-test.yaml&quot; })\r\nclass YamlTest {\r\n\r\n\t@Autowired\r\n\tprivate ExcludePopulationProperties excludePopulationProperties;\r\n\r\n\t@Test\r\n\tvoid testExternalConfiguration() {\r\n\t\tMap&lt;String, String&gt; map = excludePopulationProperties.getTest().getService().getComputator().getPopulation().getExclude();\r\n\t\tassertNotNull(map);\r\n\t\tassertEquals(map.get(&quot;InputClass&quot;), &quot;myDate&quot;);\r\n\t\tassertEquals(map.get(&quot;AnotherClass&quot;), &quot;myName&quot;);\r\n\t}\r\n}\r\n\r\n```","title":"How to test ConfigurationProperties with JUnit?","body":"<p>Your <code>ExcludePopulationProperties</code> class should not be annotated with <code>@Component</code>. Instead, you should have the annotation <code>@EnableConfigurationProperties(ExcludePopulationProperties.class)</code> on a configuration class in your project (the main application class will work).</p>\n<p>Change your properties class to look like this (removing <code>@Component</code>):</p>\n<pre><code>@Data\n@ConfigurationProperties(prefix = &quot;project&quot;)\npublic class ExcludePopulationProperties {\n   ...\n}\n</code></pre>\n<p>Change your application class to enable the configuration properties:</p>\n<pre><code>@SpringBootApplication\n@EnableConfigurationProperties(ExcludePopulationProperties.class)\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>And the <code>YamlTest</code> class to look like this (using <code>@SpringBootTest</code>):</p>\n<pre><code>@SpringBootTest\n@ContextConfiguration(classes = { DemoApplication.class })\n@TestPropertySource(properties = { &quot;spring.config.location=classpath:application-test.yaml&quot; })\nclass YamlTest {\n\n    @Autowired\n    private ExcludePopulationProperties excludePopulationProperties;\n\n    @Test\n    void testExternalConfiguration() {\n        Map&lt;String, String&gt; map = excludePopulationProperties.getTest().getService().getComputator().getPopulation().getExclude();\n        assertNotNull(map);\n        assertEquals(map.get(&quot;InputClass&quot;), &quot;myDate&quot;);\n        assertEquals(map.get(&quot;AnotherClass&quot;), &quot;myName&quot;);\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667895328,"creation_date":1658759008,"answer_id":73110842,"question_id":73020838,"body_markdown":"With these little changes, now I&#39;m able to test the properties from YAML file.\r\n\r\nI improved the yaml a little bit:      \r\n\r\n    # test placeholders\r\n    project:\r\n      test:\r\n        service:\r\n          computator:\r\n            # exclude field from beeing randomly valorized\r\n            population:\r\n              exclude:\r\n                InputClass: \r\n                   - &#39;myDate&#39;\r\n                AnotherClass: \r\n                   - &#39;myName&#39;\r\n\r\nso now the ExcludePopulationProperties have a Map&lt;String, List&amp;lt;String&gt;&gt; instead of Map&lt;String, String&gt;, in this way I will be able to exclude more than one field from the same class:\r\n\r\n    @Data\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;project&quot;)\r\n    @PropertySource(value = &quot;classpath:application-_test.yaml&quot;, factory = YamlPropertySourceFactory.class)\r\n    public class ExcludePopulationProperties {\r\n    \r\n        private Test test;\r\n    \r\n        @Data\r\n        public static class Test {\r\n            private Service service;\r\n        }\r\n    \r\n        @Data\r\n        public static class Service {\r\n            private Computator computator;\r\n        }\r\n    \r\n        @Data\r\n        public static class Computator {\r\n            private Population population;\r\n        }\r\n    \r\n        @Data\r\n        public static class Population {\r\n            private Map&lt;String, List&lt;String&gt;&gt; exclude;\r\n        }\r\n    \r\n    }\r\n\r\nYamlPropertySourceFactory is a class implemented by Baeldung in this guide: \r\n [@PropertySource with YAML Files in Spring Boot][1]\r\n\r\n\r\n    public class YamlPropertySourceFactory implements PropertySourceFactory {\r\n    \r\n    \t@Override\r\n    \tpublic PropertySource&lt;?&gt; createPropertySource(String name, EncodedResource resource) throws IOException {\r\n    \t\tYamlPropertiesFactoryBean factory = new YamlPropertiesFactoryBean();\r\n    \t\tfactory.setResources(resource.getResource());\r\n    \r\n    \t\tProperties properties = factory.getObject();\r\n    \r\n    \t\treturn new PropertiesPropertySource(resource.getResource().getFilename(), properties);\r\n    \t}\r\n    \r\n    }\r\n\r\nTest Class :\r\n\r\n    @EnableConfigurationProperties\r\n    @ContextConfiguration(classes = { ExcludePopulationProperties.class })\r\n    @TestPropertySource(properties = { &quot;spring.config.location=classpath:application-_test.yaml&quot; })\r\n    @ExtendWith(SpringExtension.class)\r\n    class YamlTest {\r\n    \r\n        @Autowired\r\n        private ExcludePopulationProperties excludePopulationProperties;\r\n    \r\n        @Test\r\n        void testExternalConfiguration() {\r\n            Map&lt;String, List&lt;String&gt;&gt; map = excludePopulationProperties.getTest().getService().getComputator().getPopulation().getExclude();\r\n            assertNotNull(map);\r\n        }\r\n    \r\n    }\r\n\r\nPlease note that for Mockito you need to use both, SpringExtension and MockitoExtension:\r\n\r\n    @EnableConfigurationProperties\r\n    @ContextConfiguration(classes = { ExcludePopulationProperties.class })\r\n    @Extensions({\r\n    \t\t@ExtendWith(SpringExtension.class),\r\n    \t\t@ExtendWith(MockitoExtension.class)\r\n    })\r\n    class YamlTest {\r\n    \r\n    }\r\n\r\n&lt;h1&gt;UPDATE&lt;/h1&gt;\r\n\r\nI find a better solution in order to avoid writing the annotations on all test classes.\r\n\r\nadd the jackson [jackson-dataformat-yaml][2] dependency\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jackson-dataformat-yaml&lt;/artifactId&gt;\r\n      &lt;version&gt;${jackson-dataformat-yaml.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThe configuration properties class will be:\r\n\r\n    @Data\r\n    public class ExcludePopulationProperties {\r\n    \r\n        private Project project;\r\n    \r\n    \t@Data\r\n    \tpublic static class Project {\r\n    \t\tprivate Test test;\r\n    \t}\r\n    \r\n        @Data\r\n        public static class Test {\r\n            private Service service;\r\n        }\r\n    \r\n        @Data\r\n        public static class Service {\r\n            private Computator computator;\r\n        }\r\n    \r\n        @Data\r\n        public static class Computator {\r\n            private Population population;\r\n        }\r\n    \r\n        @Data\r\n        public static class Population {\r\n            private Map&lt;String, List&lt;String&gt;&gt; exclude;\r\n        }\r\n    \r\n    \tpublic static ExcludePopulationProperties build() throws IOException {\r\n    \t\tInputStream inputStream = new FileInputStream(new File(&quot;./src/test/resources/&quot; + &quot;application-_test.yaml&quot;));\r\n    \t\tYAMLMapper mapper = new YAMLMapper();\r\n    \t\tmapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\r\n    \t\tmapper.enable(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY);\r\n    \t\treturn mapper.readValue(inputStream, ExcludePopulationProperties.class);\r\n    \t}\r\n    \r\n    }\r\n\r\nthen, wherever you need, simply call the static build method, the test class will be more simple :\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    class YamlTest {\r\n    \r\n        @Test\r\n        void testExternalConfiguration() throws IOException {\r\n            Map&lt;String, List&lt;String&gt;&gt; map = ExcludePopulationProperties.build().getProject().getTest().getService().getComputator().getPopulation().getExclude();\r\n            assertNotNull(map);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-yaml-propertysource\r\n  [2]: https://github.com/FasterXML/jackson-dataformat-yaml","title":"How to test ConfigurationProperties with JUnit?","body":"<p>With these little changes, now I'm able to test the properties from YAML file.</p>\n<p>I improved the yaml a little bit:</p>\n<pre><code># test placeholders\nproject:\n  test:\n    service:\n      computator:\n        # exclude field from beeing randomly valorized\n        population:\n          exclude:\n            InputClass: \n               - 'myDate'\n            AnotherClass: \n               - 'myName'\n</code></pre>\n<p>so now the ExcludePopulationProperties have a Map&lt;String, List&lt;String&gt;&gt; instead of Map&lt;String, String&gt;, in this way I will be able to exclude more than one field from the same class:</p>\n<pre><code>@Data\n@Configuration\n@ConfigurationProperties(prefix = &quot;project&quot;)\n@PropertySource(value = &quot;classpath:application-_test.yaml&quot;, factory = YamlPropertySourceFactory.class)\npublic class ExcludePopulationProperties {\n\n    private Test test;\n\n    @Data\n    public static class Test {\n        private Service service;\n    }\n\n    @Data\n    public static class Service {\n        private Computator computator;\n    }\n\n    @Data\n    public static class Computator {\n        private Population population;\n    }\n\n    @Data\n    public static class Population {\n        private Map&lt;String, List&lt;String&gt;&gt; exclude;\n    }\n\n}\n</code></pre>\n<p>YamlPropertySourceFactory is a class implemented by Baeldung in this guide:\n<a href=\"https://www.baeldung.com/spring-yaml-propertysource\" rel=\"nofollow noreferrer\">@PropertySource with YAML Files in Spring Boot</a></p>\n<pre><code>public class YamlPropertySourceFactory implements PropertySourceFactory {\n\n    @Override\n    public PropertySource&lt;?&gt; createPropertySource(String name, EncodedResource resource) throws IOException {\n        YamlPropertiesFactoryBean factory = new YamlPropertiesFactoryBean();\n        factory.setResources(resource.getResource());\n\n        Properties properties = factory.getObject();\n\n        return new PropertiesPropertySource(resource.getResource().getFilename(), properties);\n    }\n\n}\n</code></pre>\n<p>Test Class :</p>\n<pre><code>@EnableConfigurationProperties\n@ContextConfiguration(classes = { ExcludePopulationProperties.class })\n@TestPropertySource(properties = { &quot;spring.config.location=classpath:application-_test.yaml&quot; })\n@ExtendWith(SpringExtension.class)\nclass YamlTest {\n\n    @Autowired\n    private ExcludePopulationProperties excludePopulationProperties;\n\n    @Test\n    void testExternalConfiguration() {\n        Map&lt;String, List&lt;String&gt;&gt; map = excludePopulationProperties.getTest().getService().getComputator().getPopulation().getExclude();\n        assertNotNull(map);\n    }\n\n}\n</code></pre>\n<p>Please note that for Mockito you need to use both, SpringExtension and MockitoExtension:</p>\n<pre><code>@EnableConfigurationProperties\n@ContextConfiguration(classes = { ExcludePopulationProperties.class })\n@Extensions({\n        @ExtendWith(SpringExtension.class),\n        @ExtendWith(MockitoExtension.class)\n})\nclass YamlTest {\n\n}\n</code></pre>\n<h1>UPDATE</h1>\n<p>I find a better solution in order to avoid writing the annotations on all test classes.</p>\n<p>add the jackson <a href=\"https://github.com/FasterXML/jackson-dataformat-yaml\" rel=\"nofollow noreferrer\">jackson-dataformat-yaml</a> dependency</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n  &lt;artifactId&gt;jackson-dataformat-yaml&lt;/artifactId&gt;\n  &lt;version&gt;${jackson-dataformat-yaml.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The configuration properties class will be:</p>\n<pre><code>@Data\npublic class ExcludePopulationProperties {\n\n    private Project project;\n\n    @Data\n    public static class Project {\n        private Test test;\n    }\n\n    @Data\n    public static class Test {\n        private Service service;\n    }\n\n    @Data\n    public static class Service {\n        private Computator computator;\n    }\n\n    @Data\n    public static class Computator {\n        private Population population;\n    }\n\n    @Data\n    public static class Population {\n        private Map&lt;String, List&lt;String&gt;&gt; exclude;\n    }\n\n    public static ExcludePopulationProperties build() throws IOException {\n        InputStream inputStream = new FileInputStream(new File(&quot;./src/test/resources/&quot; + &quot;application-_test.yaml&quot;));\n        YAMLMapper mapper = new YAMLMapper();\n        mapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\n        mapper.enable(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY);\n        return mapper.readValue(inputStream, ExcludePopulationProperties.class);\n    }\n\n}\n</code></pre>\n<p>then, wherever you need, simply call the static build method, the test class will be more simple :</p>\n<pre><code>@ExtendWith(SpringExtension.class)\nclass YamlTest {\n\n    @Test\n    void testExternalConfiguration() throws IOException {\n        Map&lt;String, List&lt;String&gt;&gt; map = ExcludePopulationProperties.build().getProject().getTest().getService().getComputator().getPopulation().getExclude();\n        assertNotNull(map);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73110842,"answer_count":2,"score":0,"last_activity_date":1673384281,"creation_date":1658140094,"question_id":73020838,"body_markdown":"This is my first time working with Externalized Configuration and yaml.\r\n\r\nI created a yaml where I use the class name as KEY, and the field name as VALUE\r\n\r\nYAML:\r\n\r\n    project:\r\n      test:\r\n        service:\r\n          computator:\r\n            # exclude field from beeing randomly valorized\r\n            population:\r\n              exclude:\r\n                InputClass: &#39;myDate&#39;\r\n                AnotherClass: &#39;myName&#39;\r\n\r\nExcludePopulationProperties:\r\n\r\n    @Data\r\n    @Component\r\n    @ConfigurationProperties(prefix = &quot;project&quot;)\r\n    public class ExcludePopulationProperties {\r\n    \r\n    \tprivate Test test;\r\n    \r\n    \t@Data\r\n    \tpublic static class Test {\r\n    \t\tprivate Service service;\r\n    \t}\r\n    \r\n    \t@Data\r\n    \tpublic static class Service {\r\n    \t\tprivate Computator computator;\r\n    \t}\r\n    \r\n    \t@Data\r\n    \tpublic static class Computator {\r\n    \t\tprivate Population population;\r\n    \t}\r\n    \r\n    \t@Data\r\n    \tpublic static class Population {\r\n    \t\tprivate Map&lt;String, String&gt; exclude;\r\n    \t}\r\n    \r\n    }\r\n\r\nTest with JUnit 5:\r\n\r\n    @ContextConfiguration(classes = { ExcludePopulationProperties.class })\r\n    @ExtendWith(SpringExtension.class)\r\n    class YamlTest {\r\n    \r\n    \t@Autowired\r\n    \tprivate ExcludePopulationProperties excludePopulationProperties;\r\n    \r\n    \t@Test\r\n    \tvoid testExternalConfiguration() {\r\n    \t\tMap&lt;String, String&gt; map = excludePopulationProperties.getTest().getService().getComputator().getPopulation().getExclude();\r\n    \t\tassertNotNull(map);\r\n    \t}\r\n\r\nThe problem is that I have a NullPointerException because test is null [![enter image description here][2]][2]\r\n\r\nSo I&#39;m not sure what is wrong here, I was expecting that the map was correctly populated.\r\n\r\nI also tried to add \r\n\r\n    @TestPropertySource(properties = { &quot;spring.config.location=classpath:application-_test.yaml&quot; })\r\n\r\non the YamlTest\r\n\r\n\r\n  [2]: https://i.stack.imgur.com/U3IR2.png","title":"How to test ConfigurationProperties with JUnit?","body":"<p>This is my first time working with Externalized Configuration and yaml.</p>\n<p>I created a yaml where I use the class name as KEY, and the field name as VALUE</p>\n<p>YAML:</p>\n<pre><code>project:\n  test:\n    service:\n      computator:\n        # exclude field from beeing randomly valorized\n        population:\n          exclude:\n            InputClass: 'myDate'\n            AnotherClass: 'myName'\n</code></pre>\n<p>ExcludePopulationProperties:</p>\n<pre><code>@Data\n@Component\n@ConfigurationProperties(prefix = &quot;project&quot;)\npublic class ExcludePopulationProperties {\n\n    private Test test;\n\n    @Data\n    public static class Test {\n        private Service service;\n    }\n\n    @Data\n    public static class Service {\n        private Computator computator;\n    }\n\n    @Data\n    public static class Computator {\n        private Population population;\n    }\n\n    @Data\n    public static class Population {\n        private Map&lt;String, String&gt; exclude;\n    }\n\n}\n</code></pre>\n<p>Test with JUnit 5:</p>\n<pre><code>@ContextConfiguration(classes = { ExcludePopulationProperties.class })\n@ExtendWith(SpringExtension.class)\nclass YamlTest {\n\n    @Autowired\n    private ExcludePopulationProperties excludePopulationProperties;\n\n    @Test\n    void testExternalConfiguration() {\n        Map&lt;String, String&gt; map = excludePopulationProperties.getTest().getService().getComputator().getPopulation().getExclude();\n        assertNotNull(map);\n    }\n</code></pre>\n<p>The problem is that I have a NullPointerException because test is null <a href=\"https://i.stack.imgur.com/U3IR2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U3IR2.png\" alt=\"enter image description here\" /></a></p>\n<p>So I'm not sure what is wrong here, I was expecting that the map was correctly populated.</p>\n<p>I also tried to add</p>\n<pre><code>@TestPropertySource(properties = { &quot;spring.config.location=classpath:application-_test.yaml&quot; })\n</code></pre>\n<p>on the YamlTest</p>\n"},{"tags":["java","twilio","sms","bulk"],"answers":[{"tags":[],"owner":{"account_id":9365930,"reputation":470,"user_id":6950847,"display_name":"zeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614901873,"creation_date":1614901873,"answer_id":66484736,"question_id":66482220,"body_markdown":"Here is the official guide how to do that in java:\r\n\r\nhttps://www.twilio.com/docs/libraries/java","title":"How to send bulk SMS messages with Twilio Java SDK?","body":"<p>Here is the official guide how to do that in java:</p>\n<p><a href=\"https://www.twilio.com/docs/libraries/java\" rel=\"nofollow noreferrer\">https://www.twilio.com/docs/libraries/java</a></p>\n"},{"comments":[{"owner":{"account_id":10082145,"reputation":93,"user_id":7482915,"display_name":"holymoof"},"score":0,"creation_date":1614943669,"post_id":66486547,"comment_id":117545897,"body_markdown":"Thanks for your answer, I want to take the opportunity and ask if there is a way to receive status callback updates for each SMS message in the bulk? Is it possible and if so can you please share a link to the documentation? Thanks in advance!","body":"Thanks for your answer, I want to take the opportunity and ask if there is a way to receive status callback updates for each SMS message in the bulk? Is it possible and if so can you please share a link to the documentation? Thanks in advance!"},{"owner":{"account_id":13978,"reputation":71456,"user_id":28376,"accept_rate":86,"display_name":"philnash"},"score":0,"creation_date":1614944134,"post_id":66486547,"comment_id":117546110,"body_markdown":"In the Messaging Service that you set up for Notify you can set up a Delivery Status Callback URL in the Integration settings and it will send you updates for each message sent through the service.","body":"In the Messaging Service that you set up for Notify you can set up a Delivery Status Callback URL in the Integration settings and it will send you updates for each message sent through the service."},{"owner":{"account_id":10082145,"reputation":93,"user_id":7482915,"display_name":"holymoof"},"score":0,"creation_date":1614945305,"post_id":66486547,"comment_id":117546582,"body_markdown":"So each message will have an sid on status callback, but I wonder how can I get those after sending a batch so I can store it for further message identification on delivery status callback?","body":"So each message will have an sid on status callback, but I wonder how can I get those after sending a batch so I can store it for further message identification on delivery status callback?"},{"owner":{"account_id":13978,"reputation":71456,"user_id":28376,"accept_rate":86,"display_name":"philnash"},"score":0,"creation_date":1614945506,"post_id":66486547,"comment_id":117546674,"body_markdown":"You can’t get that from the initial request. You do get other details in the callback that you could use to match it back, like the number you sent the message to. Could you use that?","body":"You can’t get that from the initial request. You do get other details in the callback that you could use to match it back, like the number you sent the message to. Could you use that?"},{"owner":{"account_id":10082145,"reputation":93,"user_id":7482915,"display_name":"holymoof"},"score":0,"creation_date":1614945629,"post_id":66486547,"comment_id":117546728,"body_markdown":"Nope, there may be multiple records for the same number :(","body":"Nope, there may be multiple records for the same number :("},{"owner":{"account_id":13978,"reputation":71456,"user_id":28376,"accept_rate":86,"display_name":"philnash"},"score":1,"creation_date":1614945701,"post_id":66486547,"comment_id":117546752,"body_markdown":"You may want to send the messages with the regular message API then, rather than Notify. Then you can get the SID back in the response. You will just need to make one request to the API per message rather than sending in bulk.","body":"You may want to send the messages with the regular message API then, rather than Notify. Then you can get the SID back in the response. You will just need to make one request to the API per message rather than sending in bulk."}],"tags":[],"owner":{"account_id":13978,"reputation":71456,"user_id":28376,"accept_rate":86,"display_name":"philnash"},"comment_count":6,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1614916570,"creation_date":1614916570,"answer_id":66486547,"question_id":66482220,"body_markdown":"Twilio developer evangelist here.\r\n\r\nThere is an example of [sending bulk SMS messages with Java in the documentation for Twilio Notify][1].\r\n\r\nHere is the example:\r\n\r\n```java\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport com.twilio.Twilio;\r\nimport com.twilio.rest.notify.v1.service.Notification;\r\n\r\npublic class Example {\r\n  // Find your Account Sid and Token at twilio.com/user/account\r\n  public static final String ACCOUNT_SID = &quot;ACXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX&quot;;\r\n  public static final String AUTH_TOKEN = &quot;your_auth_token&quot;;\r\n\r\n  public static final String SERVICE_SID = &quot;ISXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX&quot;;\r\n\r\n  public static void main(String[] args) {\r\n    // Initialize the client\r\n    Twilio.init(ACCOUNT_SID, AUTH_TOKEN);\r\n\r\n    List&lt;String&gt; toBindings = Arrays.asList(\r\n    &quot;{\\&quot;binding_type\\&quot;:\\&quot;sms\\&quot;,\\&quot;address\\&quot;:\\&quot;+15555555555\\&quot;}&quot;,\r\n    &quot;{\\&quot;binding_type\\&quot;:\\&quot;facebook-messenger\\&quot;,\\&quot;address\\&quot;:\\&quot;123456789123\\&quot;}&quot;);\r\n\r\n    Notification notification = Notification\r\n        .creator(SERVICE_SID)\r\n        .setBody(&quot;Hello Bob&quot;)\r\n        .setToBinding(toBindings)\r\n        .create();\r\n\r\n    System.out.println(notification.getSid());\r\n  }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.twilio.com/docs/notify/api/notification-resource?code-sample=code-send-a-notification-to-bindings-in-the-request&amp;code-language=Java&amp;code-sdk-version=7.x","title":"How to send bulk SMS messages with Twilio Java SDK?","body":"<p>Twilio developer evangelist here.</p>\n<p>There is an example of <a href=\"https://www.twilio.com/docs/notify/api/notification-resource?code-sample=code-send-a-notification-to-bindings-in-the-request&amp;code-language=Java&amp;code-sdk-version=7.x\" rel=\"nofollow noreferrer\">sending bulk SMS messages with Java in the documentation for Twilio Notify</a>.</p>\n<p>Here is the example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.List;\nimport com.twilio.Twilio;\nimport com.twilio.rest.notify.v1.service.Notification;\n\npublic class Example {\n  // Find your Account Sid and Token at twilio.com/user/account\n  public static final String ACCOUNT_SID = &quot;ACXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX&quot;;\n  public static final String AUTH_TOKEN = &quot;your_auth_token&quot;;\n\n  public static final String SERVICE_SID = &quot;ISXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX&quot;;\n\n  public static void main(String[] args) {\n    // Initialize the client\n    Twilio.init(ACCOUNT_SID, AUTH_TOKEN);\n\n    List&lt;String&gt; toBindings = Arrays.asList(\n    &quot;{\\&quot;binding_type\\&quot;:\\&quot;sms\\&quot;,\\&quot;address\\&quot;:\\&quot;+15555555555\\&quot;}&quot;,\n    &quot;{\\&quot;binding_type\\&quot;:\\&quot;facebook-messenger\\&quot;,\\&quot;address\\&quot;:\\&quot;123456789123\\&quot;}&quot;);\n\n    Notification notification = Notification\n        .creator(SERVICE_SID)\n        .setBody(&quot;Hello Bob&quot;)\n        .setToBinding(toBindings)\n        .create();\n\n    System.out.println(notification.getSid());\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673554172,"post_id":75075743,"comment_id":132531627,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75075743/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":20683611,"reputation":1187,"user_id":15186569,"display_name":"ThrowsError"},"score":0,"creation_date":1673777790,"post_id":75075743,"comment_id":132569953,"body_markdown":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - [From Review](/review/late-answers/33603331)","body":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - <a href=\"/review/late-answers/33603331\">From Review</a>"}],"tags":[],"owner":{"account_id":27492175,"reputation":1,"user_id":20977325,"display_name":"EzyTxt"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673384112,"creation_date":1673384112,"answer_id":75075743,"question_id":66482220,"body_markdown":"Twilio developer evangelist here. You can get started with free credits here which should last you a month or two if you’re using it for personal use. https://www.twilio.com/try-twilio\r\n\r\nMore details on working with your trial account here: https://www.twilio.com/docs/usage/tutorials/how-to-use-your-free-trial-account","title":"How to send bulk SMS messages with Twilio Java SDK?","body":"<p>Twilio developer evangelist here. You can get started with free credits here which should last you a month or two if you’re using it for personal use. <a href=\"https://www.twilio.com/try-twilio\" rel=\"nofollow noreferrer\">https://www.twilio.com/try-twilio</a></p>\n<p>More details on working with your trial account here: <a href=\"https://www.twilio.com/docs/usage/tutorials/how-to-use-your-free-trial-account\" rel=\"nofollow noreferrer\">https://www.twilio.com/docs/usage/tutorials/how-to-use-your-free-trial-account</a></p>\n"}],"owner":{"account_id":10082145,"reputation":93,"user_id":7482915,"display_name":"holymoof"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":801,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":66486547,"answer_count":3,"score":2,"last_activity_date":1673384112,"creation_date":1614888129,"question_id":66482220,"body_markdown":"I&#39;ve found plenty of information on how to send bulk of sms messages with Js, Python, PHP SDKs but nothing on **how to achieve this using Java**?\r\n\r\nHere is a code snippet demonstrating the implementation for Python.\r\n\r\n    from twilio.rest import Client\r\n\r\n\r\n    account = &quot;AC98e9a2817c2e0b4d38b42d1445ef42d9&quot;\r\n    token = &quot;your_auth_token&quot;\r\n    client = Client(account, token)\r\n\r\n    notification = client.notify.services(&quot;ISXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX&quot;)\\\r\n       .notifications.create(\r\n        to_binding=[\r\n            &quot;{\\&quot;binding_type\\&quot;:\\&quot;sms\\&quot;,\\&quot;address\\&quot;:\\&quot;+15555555555\\&quot;}&quot;,\r\n            &quot;{\\&quot;binding_type\\&quot;:\\&quot;facebook-messenger\\&quot;,\\&quot;address\\&quot;:\\&quot;123456789123\\&quot;}&quot;\r\n        ],\r\n        body=&quot;Hello Bob&quot;)","title":"How to send bulk SMS messages with Twilio Java SDK?","body":"<p>I've found plenty of information on how to send bulk of sms messages with Js, Python, PHP SDKs but nothing on <strong>how to achieve this using Java</strong>?</p>\n<p>Here is a code snippet demonstrating the implementation for Python.</p>\n<pre><code>from twilio.rest import Client\n\n\naccount = &quot;AC98e9a2817c2e0b4d38b42d1445ef42d9&quot;\ntoken = &quot;your_auth_token&quot;\nclient = Client(account, token)\n\nnotification = client.notify.services(&quot;ISXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX&quot;)\\\n   .notifications.create(\n    to_binding=[\n        &quot;{\\&quot;binding_type\\&quot;:\\&quot;sms\\&quot;,\\&quot;address\\&quot;:\\&quot;+15555555555\\&quot;}&quot;,\n        &quot;{\\&quot;binding_type\\&quot;:\\&quot;facebook-messenger\\&quot;,\\&quot;address\\&quot;:\\&quot;123456789123\\&quot;}&quot;\n    ],\n    body=&quot;Hello Bob&quot;)\n</code></pre>\n"},{"tags":["java","android","kotlin","admob"],"owner":{"account_id":21695027,"reputation":31,"user_id":16009088,"display_name":"Abdellah SAYOUL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1673383267,"creation_date":1673383267,"question_id":75075602,"body_markdown":"can anyone please help me.\r\nI&#39;m trying to preload the Native template Ads but i don&#39;t know if it&#39;s possible.\r\nThis is the code of it.\r\n\r\n    MobileAds.initialize(this);\r\n    AdLoader adLoader = new AdLoader.Builder(this, &quot;ca-app-pub-3940256099942544/2247696110&quot;)\r\n        .forNativeAd(new NativeAd.OnNativeAdLoadedListener() {\r\n            @Override\r\n            public void onNativeAdLoaded(NativeAd nativeAd) {\r\n                NativeTemplateStyle styles = new\r\n                  NativeTemplateStyle.Builder().withMainBackgroundColor(background).build();\r\n                TemplateView template = findViewById(R.id.my_template);\r\n                template.setStyles(styles);\r\n                template.setNativeAd(nativeAd);\r\n            }\r\n         })\r\n         .build();\r\n    \r\n    adLoader.loadAd(new AdRequest.Builder().build());\r\n\r\nAs you can see you need to specify the template on onNativeAdLoaded().","title":"Preload admob Native Template ad","body":"<p>can anyone please help me.\nI'm trying to preload the Native template Ads but i don't know if it's possible.\nThis is the code of it.</p>\n<pre><code>MobileAds.initialize(this);\nAdLoader adLoader = new AdLoader.Builder(this, &quot;ca-app-pub-3940256099942544/2247696110&quot;)\n    .forNativeAd(new NativeAd.OnNativeAdLoadedListener() {\n        @Override\n        public void onNativeAdLoaded(NativeAd nativeAd) {\n            NativeTemplateStyle styles = new\n              NativeTemplateStyle.Builder().withMainBackgroundColor(background).build();\n            TemplateView template = findViewById(R.id.my_template);\n            template.setStyles(styles);\n            template.setNativeAd(nativeAd);\n        }\n     })\n     .build();\n\nadLoader.loadAd(new AdRequest.Builder().build());\n</code></pre>\n<p>As you can see you need to specify the template on onNativeAdLoaded().</p>\n"},{"tags":["java","file"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":2,"creation_date":1673382890,"post_id":75075412,"comment_id":132485334,"body_markdown":"I’m voting to close this question because it is off topic for Stack Overflow, but also off topic for the options under Stack Exchange network.","body":"I’m voting to close this question because it is off topic for Stack Overflow, but also off topic for the options under Stack Exchange network."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1673383174,"post_id":75075412,"comment_id":132485424,"body_markdown":"@hfontanez Why? Seems like a reasonable question to me. Although why-based questions often drift into opinion territory, this was clearly a deliberate decision that served a specific purpose.","body":"@hfontanez Why? Seems like a reasonable question to me. Although why-based questions often drift into opinion territory, this was clearly a deliberate decision that served a specific purpose."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1673383585,"post_id":75075412,"comment_id":132485557,"body_markdown":"@shmosel It is a reasonable question. I never said it wasn&#39;t. But I don&#39;t think it belongs here. I have seen other similarly reasonable questions being shut down for being &quot;off topic&quot;. So, I exercised my judgment and did what I think is right. Notice that I didn&#39;t downvote the question. I do not operate that way.","body":"@shmosel It is a reasonable question. I never said it wasn&#39;t. But I don&#39;t think it belongs here. I have seen other similarly reasonable questions being shut down for being &quot;off topic&quot;. So, I exercised my judgment and did what I think is right. Notice that I didn&#39;t downvote the question. I do not operate that way."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":3,"creation_date":1673384066,"post_id":75075412,"comment_id":132485719,"body_markdown":"I think this question should be left open, for the reason mentioned by shmosel. The JavaDocs suggest that this was not a kind of &quot;because the API authors designed it this way&quot;, but it rather suggests that this was a deliberate choice.","body":"I think this question should be left open, for the reason mentioned by shmosel. The JavaDocs suggest that this was not a kind of &quot;because the API authors designed it this way&quot;, but it rather suggests that this was a deliberate choice."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1673386212,"post_id":75075412,"comment_id":132486326,"body_markdown":"@shmosel I think when it comes to &quot;api design choices&quot; like this - unless it&#39;s clearly documented, it begins to reach into the area of &quot;opinion&quot; - I tend to agree, while it&#39;s a reasonable question, I&#39;m not convinced it&#39;s within scope for SO.  When you have a look at the source code, there is no explanation of &quot;why&quot;, so unless we happen to have the original author(s) of the code, we can only &quot;guess&quot; at the reasoning","body":"@shmosel I think when it comes to &quot;api design choices&quot; like this - unless it&#39;s clearly documented, it begins to reach into the area of &quot;opinion&quot; - I tend to agree, while it&#39;s a reasonable question, I&#39;m not convinced it&#39;s within scope for SO.  When you have a look at the source code, there is no explanation of &quot;why&quot;, so unless we happen to have the original author(s) of the code, we can only &quot;guess&quot; at the reasoning"}],"answers":[{"tags":[],"owner":{"account_id":20376718,"reputation":3,"user_id":14947702,"display_name":"BlockManBlue"},"comment_count":0,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1673383017,"creation_date":1673383017,"answer_id":75075565,"question_id":75075412,"body_markdown":"Likely a limitation that was on older hardware or an older version of an operating system Java works on. You might be able to go around the limitation by putting a space after the prefix to make it longer, like this:\r\n```\r\nFile tempFile = File.createTempFile(&quot;te &quot;, &quot;.tmp&quot;);\r\n```\r\nHowever, I have not used `File.createTempFile()` before, only creating permanent files, such as:\r\n```\r\nFile file = new File(&quot;te.tmp&quot;);\r\nfile.createNewFile();\r\n```\r\nAnd I have had no reason to make a file shorter than 3 characters, so I don&#39;t know whether or not it would work with a permanent file. Let me know if this helps.","title":"Why Java File.createNewFile requires prefix to be at least three characters long?","body":"<p>Likely a limitation that was on older hardware or an older version of an operating system Java works on. You might be able to go around the limitation by putting a space after the prefix to make it longer, like this:</p>\n<pre><code>File tempFile = File.createTempFile(&quot;te &quot;, &quot;.tmp&quot;);\n</code></pre>\n<p>However, I have not used <code>File.createTempFile()</code> before, only creating permanent files, such as:</p>\n<pre><code>File file = new File(&quot;te.tmp&quot;);\nfile.createNewFile();\n</code></pre>\n<p>And I have had no reason to make a file shorter than 3 characters, so I don't know whether or not it would work with a permanent file. Let me know if this helps.</p>\n"}],"owner":{"account_id":4791763,"reputation":5956,"user_id":3870761,"accept_rate":75,"display_name":"sergioFC"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":388,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"closed_date":1673401195,"answer_count":1,"score":5,"last_activity_date":1673383017,"creation_date":1673382090,"question_id":75075412,"body_markdown":"According to [java.io.File.createTempFile](https://docs.oracle.com/javase/8/docs/api/java/io/File.html#createTempFile-java.lang.String-java.lang.String-), the prefix to create a temp file must be at least 3 characters long. Why does java API have this restriction? See following javadoc (emphasis mine)\r\n\r\n\r\n&gt; public static&#160;File&#160;**createTempFile(String&#160;prefix, String&#160;suffix) throws IOException**\r\n&gt;\r\n&gt; Creates an empty file in the default temporary-file directory, using the given prefix and suffix to generate its name. Invoking this method is equivalent to invoking createTempFile(prefix,&#160;suffix,&#160;null).\r\n&gt;\r\n&gt; The Files.createTempFile method provides an alternative method to create an empty file in the temporary-file directory. Files created by that method may have more restrictive access permissions to files created by this method and so may be more suited to security-sensitive applications.\r\n&gt;\r\n&gt; Parameters:\r\n&gt;\r\n&gt;    **prefix - The prefix string to be used in generating the file&#39;s name; must be at least three characters long**\r\n&gt;\r\n&gt;    suffix - The suffix string to be used in generating the file&#39;s name; may be null, in which case the suffix &quot;.tmp&quot; will be used\r\n&gt;\r\n&gt; Returns: An abstract pathname denoting a newly-created empty file\r\n&gt;\r\n&gt; Throws: **IllegalArgumentException - If the prefix argument contains fewer than three characters**\r\n&gt;\r\n&gt; IOException - If a file could not be created\r\n&gt;\r\n&gt; SecurityException - If a security manager exists and its SecurityManager.checkWrite(java.lang.String) method does not allow a file to be created\r\n\r\nFor example this prefix is invalid as it has only two characters\r\n\r\n    // Throws IllegalArgumentException: Prefix string &quot;te&quot; too short: length must be at least 3\r\n    File tempFile = File.createTempFile(&quot;te&quot;, &quot;.tmp&quot;);\r\n\r\nWhile this prefix is valid because it has 4 characters:\r\n\r\n    // Creates temp file test14287484991844360415.tmp\r\n    File tempFile = File.createTempFile(&quot;test&quot;, &quot;.tmp&quot;);\r\n\r\nThe new java API ([java.nio.file.Files.createTempFile](https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#createTempFile-java.lang.String-java.lang.String-java.nio.file.attribute.FileAttribute...-)) does not have this restriction, and works whit prefix shorter than 3 characters, so what is the reason why the old java File API requires prefix to be at least three characters long?","title":"Why Java File.createNewFile requires prefix to be at least three characters long?","body":"<p>According to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/File.html#createTempFile-java.lang.String-java.lang.String-\" rel=\"noreferrer\">java.io.File.createTempFile</a>, the prefix to create a temp file must be at least 3 characters long. Why does java API have this restriction? See following javadoc (emphasis mine)</p>\n<blockquote>\n<p>public static File <strong>createTempFile(String prefix, String suffix) throws IOException</strong></p>\n<p>Creates an empty file in the default temporary-file directory, using the given prefix and suffix to generate its name. Invoking this method is equivalent to invoking createTempFile(prefix, suffix, null).</p>\n<p>The Files.createTempFile method provides an alternative method to create an empty file in the temporary-file directory. Files created by that method may have more restrictive access permissions to files created by this method and so may be more suited to security-sensitive applications.</p>\n<p>Parameters:</p>\n<p><strong>prefix - The prefix string to be used in generating the file's name; must be at least three characters long</strong></p>\n<p>suffix - The suffix string to be used in generating the file's name; may be null, in which case the suffix &quot;.tmp&quot; will be used</p>\n<p>Returns: An abstract pathname denoting a newly-created empty file</p>\n<p>Throws: <strong>IllegalArgumentException - If the prefix argument contains fewer than three characters</strong></p>\n<p>IOException - If a file could not be created</p>\n<p>SecurityException - If a security manager exists and its SecurityManager.checkWrite(java.lang.String) method does not allow a file to be created</p>\n</blockquote>\n<p>For example this prefix is invalid as it has only two characters</p>\n<pre><code>// Throws IllegalArgumentException: Prefix string &quot;te&quot; too short: length must be at least 3\nFile tempFile = File.createTempFile(&quot;te&quot;, &quot;.tmp&quot;);\n</code></pre>\n<p>While this prefix is valid because it has 4 characters:</p>\n<pre><code>// Creates temp file test14287484991844360415.tmp\nFile tempFile = File.createTempFile(&quot;test&quot;, &quot;.tmp&quot;);\n</code></pre>\n<p>The new java API (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#createTempFile-java.lang.String-java.lang.String-java.nio.file.attribute.FileAttribute...-\" rel=\"noreferrer\">java.nio.file.Files.createTempFile</a>) does not have this restriction, and works whit prefix shorter than 3 characters, so what is the reason why the old java File API requires prefix to be at least three characters long?</p>\n"},{"tags":["java","spring-boot","lombok","java-17","intellij-lombok-plugin"],"comments":[{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1672817299,"post_id":75001427,"comment_id":132356202,"body_markdown":"Can you please share pom.xml?","body":"Can you please share pom.xml?"},{"owner":{"account_id":20655562,"reputation":73,"user_id":15164774,"display_name":"Utkarsh Sharma"},"score":0,"creation_date":1672825119,"post_id":75001427,"comment_id":132358254,"body_markdown":"It&#39;s a huge pom.xml with custom artefacts.\nBut I can share a few relevant snippets .\nI&#39;ve updated the page with few snippets, please lemme know if u need more info.\nThanks @RohitAgarwal","body":"It&#39;s a huge pom.xml with custom artefacts. But I can share a few relevant snippets . I&#39;ve updated the page with few snippets, please lemme know if u need more info. Thanks @RohitAgarwal"},{"owner":{"account_id":7779182,"reputation":374,"user_id":5886180,"accept_rate":25,"display_name":"Henrik Klev"},"score":0,"creation_date":1672826533,"post_id":75001427,"comment_id":132358713,"body_markdown":"Does this clarify anything? https://stackoverflow.com/questions/68538851/lombok-and-autowired","body":"Does this clarify anything? <a href=\"https://stackoverflow.com/questions/68538851/lombok-and-autowired\" title=\"lombok and autowired\">stackoverflow.com/questions/68538851/lombok-and-autowired</a>"}],"answers":[{"comments":[{"owner":{"account_id":20655562,"reputation":73,"user_id":15164774,"display_name":"Utkarsh Sharma"},"score":0,"creation_date":1673382149,"post_id":75018011,"comment_id":132485146,"body_markdown":"getting symbol not found error on `onConstructor_ `","body":"getting symbol not found error on <code>onConstructor_ </code>"}],"tags":[],"owner":{"account_id":7699131,"reputation":411,"user_id":5832409,"display_name":"Sourav Jha"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673270098,"creation_date":1672919768,"answer_id":75018011,"question_id":75001427,"body_markdown":"As per lombok doc https://www.javadoc.io/doc/org.projectlombok/lombok/1.16.18/lombok/RequiredArgsConstructor.html, the syntax has been updated to\r\n\r\n    @RequiredArgsConstructor(onConstructor_={@AnnotationsGohere})","title":"getting symbol not found for lombok annotation after upgrading java version from 8 to 17","body":"<p>As per lombok doc <a href=\"https://www.javadoc.io/doc/org.projectlombok/lombok/1.16.18/lombok/RequiredArgsConstructor.html\" rel=\"nofollow noreferrer\">https://www.javadoc.io/doc/org.projectlombok/lombok/1.16.18/lombok/RequiredArgsConstructor.html</a>, the syntax has been updated to</p>\n<pre><code>@RequiredArgsConstructor(onConstructor_={@AnnotationsGohere})\n</code></pre>\n"}],"owner":{"account_id":20655562,"reputation":73,"user_id":15164774,"display_name":"Utkarsh Sharma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":930,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673382232,"creation_date":1672811692,"question_id":75001427,"body_markdown":"I&#39;ve been trying to upgrade the java version[from 8 -&gt; 17] of a spring boot 2.6.4 project.\r\nAfter setting the `java.version` property to 17 in pom.xml , I started getting the following issue.\r\n\r\n```\r\n[ERROR] Constructing Javadoc information...\r\n[ERROR] @RequiredArgsConstructor(onConstructor = @__(@Autowired))\r\n[ERROR]                                           ^\r\n[ERROR]   symbol: class __\r\n[ERROR] 2 errors\r\n[ERROR] \r\n[ERROR] Command line was: /Users/utkarsh.s/Library/Java/JavaVirtualMachines/corretto-17.0.5/Contents/Home/bin/javadoc @options @packages\r\n[ERROR] \r\n[ERROR] Refer to the generated Javadoc files in &#39;/Users/utkarsh.s/Development/apps/sample_project/target/apidocs&#39; dir.\r\n[ERROR] \r\n\r\n```\r\n\r\n\r\nPlease Note : \r\n - I&#39;m using IntelliJ 2022.2.3 \r\n - My lombok version is : `1.18.22` and it is working properly with java8.\r\n - In order to upgrade the java version for my project , i have done the following :\r\n     - \r\n     - Installed jdk17 `Amazon Correto 17.0.5`. [I installed it with intelliJ]\r\n     - updated maven setting to use `JDK for importer` as 17.\r\n     - set the project SDK as 17.\r\n    \r\nAttaching few snippets of the pom file .\r\n\r\n```\r\n    &lt;properties&gt;\r\n         &lt;lombok.version&gt;1.18.22&lt;/lombok.version&gt;\r\n         &lt;java.version&gt;17&lt;java.version&gt;\r\n    &lt;properties&gt;\r\n    .\r\n    .\r\n    .\r\n    &lt;dependencies&gt;\r\n    .\r\n    .\r\n    .\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    .\r\n    .\r\n    .\r\n    &lt;/dependencies&gt;\r\n\r\n```\r\n","title":"getting symbol not found for lombok annotation after upgrading java version from 8 to 17","body":"<p>I've been trying to upgrade the java version[from 8 -&gt; 17] of a spring boot 2.6.4 project.\nAfter setting the <code>java.version</code> property to 17 in pom.xml , I started getting the following issue.</p>\n<pre><code>[ERROR] Constructing Javadoc information...\n[ERROR] @RequiredArgsConstructor(onConstructor = @__(@Autowired))\n[ERROR]                                           ^\n[ERROR]   symbol: class __\n[ERROR] 2 errors\n[ERROR] \n[ERROR] Command line was: /Users/utkarsh.s/Library/Java/JavaVirtualMachines/corretto-17.0.5/Contents/Home/bin/javadoc @options @packages\n[ERROR] \n[ERROR] Refer to the generated Javadoc files in '/Users/utkarsh.s/Development/apps/sample_project/target/apidocs' dir.\n[ERROR] \n\n</code></pre>\n<p>Please Note :</p>\n<ul>\n<li>I'm using IntelliJ 2022.2.3</li>\n<li>My lombok version is : <code>1.18.22</code> and it is working properly with java8.</li>\n<li>In order to upgrade the java version for my project , i have done the following :\n-\n<ul>\n<li>Installed jdk17 <code>Amazon Correto 17.0.5</code>. [I installed it with intelliJ]</li>\n<li>updated maven setting to use <code>JDK for importer</code> as 17.</li>\n<li>set the project SDK as 17.</li>\n</ul>\n</li>\n</ul>\n<p>Attaching few snippets of the pom file .</p>\n<pre><code>    &lt;properties&gt;\n         &lt;lombok.version&gt;1.18.22&lt;/lombok.version&gt;\n         &lt;java.version&gt;17&lt;java.version&gt;\n    &lt;properties&gt;\n    .\n    .\n    .\n    &lt;dependencies&gt;\n    .\n    .\n    .\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    .\n    .\n    .\n    &lt;/dependencies&gt;\n\n</code></pre>\n"},{"tags":["java","memory","memory-management"],"comments":[{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1673382340,"post_id":75034744,"comment_id":132485187,"body_markdown":"Please show your findings of memory usage and how you got them.","body":"Please show your findings of memory usage and how you got them."}],"owner":{"account_id":16520930,"reputation":1,"user_id":15220770,"display_name":"Priyanshu Jain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673382141,"creation_date":1673029239,"question_id":75034744,"body_markdown":"\r\n```\r\nclass Solution1 {\r\n  public int removeElement(int[] nums, int val) {\r\n    int length = nums.length-1;\r\n    for(int i=length; i&gt;=0 ; --i){\r\n      if(nums[i] == val){\r\n        nums[i] = nums[length];\r\n        --length;\r\n      }\r\n    }return length + 1;\r\n  }\r\n}\r\n```\r\n```\r\nclass Solution2 {\r\n  public int removeElement(int[] nums, int val) {\r\n    int index = 0;\r\n    for(int i = 0; i &lt; nums.length; i++){\r\n      if(nums[i] != val){\r\n        nums[index++] = nums[i];\r\n      }\r\n    }\r\n    return index;\r\n  }\r\n}\r\n```\r\n\r\n/\\* -- both solutions perform same task (of removing all occurrences of &quot;int val&quot; in &quot;int nums\\[\\]&quot; in-place), but solution 1 uses abot 10 percent more memory than solution 2 , i am not sure why? please help \\*/\r\n\r\nI am not sure why is there difference in memory usage.","title":"Different algorithm for same task , with same number and type of variables used but different memory usage?","body":"<pre><code>class Solution1 {\n  public int removeElement(int[] nums, int val) {\n    int length = nums.length-1;\n    for(int i=length; i&gt;=0 ; --i){\n      if(nums[i] == val){\n        nums[i] = nums[length];\n        --length;\n      }\n    }return length + 1;\n  }\n}\n</code></pre>\n<pre><code>class Solution2 {\n  public int removeElement(int[] nums, int val) {\n    int index = 0;\n    for(int i = 0; i &lt; nums.length; i++){\n      if(nums[i] != val){\n        nums[index++] = nums[i];\n      }\n    }\n    return index;\n  }\n}\n</code></pre>\n<p>/* -- both solutions perform same task (of removing all occurrences of &quot;int val&quot; in &quot;int nums[]&quot; in-place), but solution 1 uses abot 10 percent more memory than solution 2 , i am not sure why? please help */</p>\n<p>I am not sure why is there difference in memory usage.</p>\n"},{"tags":["java","server","arduino","appdomain"],"answers":[{"tags":[],"owner":{"account_id":13264264,"reputation":712,"user_id":9577694,"display_name":"Nino"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673382122,"creation_date":1673382122,"answer_id":75075418,"question_id":75075001,"body_markdown":"You need a server, and you may be able to get one for free, but if you can&#39;t than you would need to rent a server from one of the many companies offering such service. You can get one from Amazon AWS, Google GCP, or smaller but not less reliable companies like Digital Ocean.\r\n\r\nYou need the minimum and least expensive configuration of a virtual machine which you will connect to using SSH text terminal. For instance you can get a Linux server and have your code run behind Apache webserver.\r\n\r\nYou can send data from Arduino to your server using simple GET strings over HTTP/S or utilize MQTT if you need the server to also send commands to the board.\r\n\r\n\r\n","title":"How to make a server to send arduino sensors data to use it in my java application","body":"<p>You need a server, and you may be able to get one for free, but if you can't than you would need to rent a server from one of the many companies offering such service. You can get one from Amazon AWS, Google GCP, or smaller but not less reliable companies like Digital Ocean.</p>\n<p>You need the minimum and least expensive configuration of a virtual machine which you will connect to using SSH text terminal. For instance you can get a Linux server and have your code run behind Apache webserver.</p>\n<p>You can send data from Arduino to your server using simple GET strings over HTTP/S or utilize MQTT if you need the server to also send commands to the board.</p>\n"}],"owner":{"account_id":14665911,"reputation":13,"user_id":10591778,"display_name":"user10591778"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75075418,"answer_count":1,"score":0,"last_activity_date":1673382122,"creation_date":1673379414,"question_id":75075001,"body_markdown":"I have an arduino device and i want to send the arduino sensors data to a server so i can fetch the data and store it in sqlite database and use it in my java application. \r\n\r\n\r\n\r\nI already bought a domain name from goDaddy but I don’t know to do next, can you please help me?","title":"How to make a server to send arduino sensors data to use it in my java application","body":"<p>I have an arduino device and i want to send the arduino sensors data to a server so i can fetch the data and store it in sqlite database and use it in my java application.</p>\n<p>I already bought a domain name from goDaddy but I don’t know to do next, can you please help me?</p>\n"},{"tags":["java","jpa"],"answers":[{"comments":[{"owner":{"account_id":5047495,"reputation":490,"user_id":4053006,"accept_rate":20,"display_name":"Anshul Gupta"},"score":0,"creation_date":1544506163,"post_id":30091036,"comment_id":94289563,"body_markdown":"Even after using updatable and insertable, it still says\n&quot;Unknown column &#39;xxx&#39; in &#39;field list&quot;","body":"Even after using updatable and insertable, it still says &quot;Unknown column &#39;xxx&#39; in &#39;field list&quot;"},{"owner":{"account_id":3838375,"reputation":10942,"user_id":3182188,"accept_rate":75,"display_name":"Raniz"},"score":0,"creation_date":1544510991,"post_id":30091036,"comment_id":94291085,"body_markdown":"@a-g: It sounds like you&#39;re having a different issue than the one solved here. Open a new question and provide some details and I&#39;m sure someone will help you solve it!","body":"@a-g: It sounds like you&#39;re having a different issue than the one solved here. Open a new question and provide some details and I&#39;m sure someone will help you solve it!"}],"tags":[],"owner":{"account_id":3838375,"reputation":10942,"user_id":3182188,"accept_rate":75,"display_name":"Raniz"},"comment_count":2,"down_vote_count":1,"up_vote_count":51,"is_accepted":true,"score":50,"last_activity_date":1430966480,"creation_date":1430966480,"answer_id":30091036,"question_id":30090941,"body_markdown":"From [here](http://en.wikibooks.org/wiki/Java_Persistence/Basic_Attributes#Insertable.2C_Updatable_.2F_Read_Only_Fields_.2F_Returning)\r\n\r\n&gt; The Column annotation and XML element defines insertable and updatable options. These allow for this column, or foreign key field to be omitted from the SQL INSERT or UPDATE statement. These can be used if constraints on the table prevent insert or update operations. They can also be used if multiple attributes map to the same database column, such as with a foreign key field through a ManyToOne and Id or Basic mapping. Setting both insertable and updatable to false, effectively mark the attribute as read-only.\r\n\r\nSo \r\n\r\n        @Column(name=&quot;USER_ID&quot;, nullable=false, length=30,\r\n            updatable=false, insertable=false)\r\n        private String userId;\r\n\r\nshould do it","title":"JPA readonly mapping","body":"<p>From <a href=\"http://en.wikibooks.org/wiki/Java_Persistence/Basic_Attributes#Insertable.2C_Updatable_.2F_Read_Only_Fields_.2F_Returning\">here</a></p>\n\n<blockquote>\n  <p>The Column annotation and XML element defines insertable and updatable options. These allow for this column, or foreign key field to be omitted from the SQL INSERT or UPDATE statement. These can be used if constraints on the table prevent insert or update operations. They can also be used if multiple attributes map to the same database column, such as with a foreign key field through a ManyToOne and Id or Basic mapping. Setting both insertable and updatable to false, effectively mark the attribute as read-only.</p>\n</blockquote>\n\n<p>So </p>\n\n<pre><code>    @Column(name=\"USER_ID\", nullable=false, length=30,\n        updatable=false, insertable=false)\n    private String userId;\n</code></pre>\n\n<p>should do it</p>\n"},{"tags":[],"owner":{"account_id":57788,"reputation":46120,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673382041,"creation_date":1673381420,"answer_id":75075310,"question_id":30090941,"body_markdown":"`updatable=false, insertable=false` might not be enough. Hibernate exposes additional requirement:\r\n\r\n```\r\norg.hibernate.DuplicateMappingException:\r\n  Table [passenger] contains physical column name [parent_id]\r\n  referred to by multiple logical column names: [parent_id], [parentId]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl$TableColumnNameBinding.bindPhysicalToLogical(InFlightMetadataCollectorImpl.java:1055)\r\n\r\n```\r\n\r\nThe logical name `parent_id` comes from:\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(insertable = false, updatable = false)\r\n    private Passenger parent;\r\n\r\nwhile `parentId` comes from:\r\n\r\n    private Long parentId;\r\n\r\nTo harmonize logical names correct one (or set both) explicitly:\r\n\r\n    @Column(name = &quot;parent_id&quot;)\r\n    private Long parentId;\r\n\r\nRequirements for `updatable=false, insertable=false` comes from:\r\n\r\n```java\r\nfor ( Selectable columnOrFormula : value.getSelectables() ) {\r\n  if ( !columnOrFormula.isFormula() ) {\r\n    Column col = (Column) columnOrFormula;\r\n    if ( !distinctColumns.add( col.getName() ) ) {\r\n      throw new MappingException(\r\n        &quot;Column &#39;&quot; + col.getName()\r\n           + &quot;&#39; is duplicated in mapping for entity &#39;&quot; + getEntityName()\r\n           + &quot;&#39; (use &#39;@Column(insertable=false, updatable=false)&#39; when mapping multiple properties to the same column)&quot;\r\n```\r\n\r\nlocated:\r\n\r\n```\r\nat org.hibernate.mapping.PersistentClass.checkColumnDuplication(PersistentClass.java:1009)\r\nat org.hibernate.mapping.PersistentClass.checkPropertyColumnDuplication(PersistentClass.java:1027)\r\nat org.hibernate.mapping.PersistentClass.checkColumnDuplication(PersistentClass.java:1055)\r\nat org.hibernate.mapping.PersistentClass.validate(PersistentClass.java:720)\r\nat org.hibernate.mapping.RootClass.validate(RootClass.java:283)\r\nat org.hibernate.boot.internal.MetadataImpl.validate(MetadataImpl.java:376)\r\n```\r\n\r\n","title":"JPA readonly mapping","body":"<p><code>updatable=false, insertable=false</code> might not be enough. Hibernate exposes additional requirement:</p>\n<pre><code>org.hibernate.DuplicateMappingException:\n  Table [passenger] contains physical column name [parent_id]\n  referred to by multiple logical column names: [parent_id], [parentId]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl$TableColumnNameBinding.bindPhysicalToLogical(InFlightMetadataCollectorImpl.java:1055)\n\n</code></pre>\n<p>The logical name <code>parent_id</code> comes from:</p>\n<pre><code>@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(insertable = false, updatable = false)\nprivate Passenger parent;\n</code></pre>\n<p>while <code>parentId</code> comes from:</p>\n<pre><code>private Long parentId;\n</code></pre>\n<p>To harmonize logical names correct one (or set both) explicitly:</p>\n<pre><code>@Column(name = &quot;parent_id&quot;)\nprivate Long parentId;\n</code></pre>\n<p>Requirements for <code>updatable=false, insertable=false</code> comes from:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for ( Selectable columnOrFormula : value.getSelectables() ) {\n  if ( !columnOrFormula.isFormula() ) {\n    Column col = (Column) columnOrFormula;\n    if ( !distinctColumns.add( col.getName() ) ) {\n      throw new MappingException(\n        &quot;Column '&quot; + col.getName()\n           + &quot;' is duplicated in mapping for entity '&quot; + getEntityName()\n           + &quot;' (use '@Column(insertable=false, updatable=false)' when mapping multiple properties to the same column)&quot;\n</code></pre>\n<p>located:</p>\n<pre><code>at org.hibernate.mapping.PersistentClass.checkColumnDuplication(PersistentClass.java:1009)\nat org.hibernate.mapping.PersistentClass.checkPropertyColumnDuplication(PersistentClass.java:1027)\nat org.hibernate.mapping.PersistentClass.checkColumnDuplication(PersistentClass.java:1055)\nat org.hibernate.mapping.PersistentClass.validate(PersistentClass.java:720)\nat org.hibernate.mapping.RootClass.validate(RootClass.java:283)\nat org.hibernate.boot.internal.MetadataImpl.validate(MetadataImpl.java:376)\n</code></pre>\n"}],"owner":{"account_id":5988795,"reputation":813,"user_id":4705481,"accept_rate":81,"display_name":"Jackie Dong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28489,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":30091036,"answer_count":2,"score":22,"last_activity_date":1673382041,"creation_date":1430965818,"question_id":30090941,"body_markdown":"Toplink can use read-only mappings when multiple attributes in an object map to the same fields in the database but only one of the mappings can write to the field.\r\n\r\nDoes JPA has such feature, how to write annotation? I have one `@ManyToOne` and one `@Column` annotation which need to map to same field in database.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @ManyToOne(optional=false, fetch=FetchType.LAZY)\r\n    @JoinColumn(name=&quot;USR_ID&quot;, referencedColumnName=&quot;USER_ID&quot;, nullable=false)\r\n    private User user;\r\n    \t\r\n    /** @generated **/\r\n    @Column(name=&quot;USER_ID&quot;, nullable=false, length=30)\r\n    private String userId;\r\n\r\n","title":"JPA readonly mapping","body":"<p>Toplink can use read-only mappings when multiple attributes in an object map to the same fields in the database but only one of the mappings can write to the field.</p>\n<p>Does JPA has such feature, how to write annotation? I have one <code>@ManyToOne</code> and one <code>@Column</code> annotation which need to map to same field in database.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ManyToOne(optional=false, fetch=FetchType.LAZY)\n@JoinColumn(name=&quot;USR_ID&quot;, referencedColumnName=&quot;USER_ID&quot;, nullable=false)\nprivate User user;\n    \n/** @generated **/\n@Column(name=&quot;USER_ID&quot;, nullable=false, length=30)\nprivate String userId;\n</code></pre>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1673380341,"post_id":75075141,"comment_id":132484594,"body_markdown":"`map1.keySet().stream().filter(map2::containsKey).collect(toSet())`","body":"<code>map1.keySet().stream().filter(map2::containsKey).collect(toS&zwnj;&#8203;et())</code>"},{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1673381531,"post_id":75075141,"comment_id":132484953,"body_markdown":"What form do you want the output to be in? An array? A Set? A new Map?","body":"What form do you want the output to be in? An array? A Set? A new Map?"}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673380558,"creation_date":1673380558,"answer_id":75075184,"question_id":75075141,"body_markdown":"Filter the keys from the second regarding if they are in the second map\r\n\r\n    // import static java.util.stream.Collectors.toSet;\r\n    Map&lt;String, Integer&gt; map = Map.of(&quot;abc&quot;, 123, &quot;def&quot;, 234, &quot;jkl&quot;, 567);\r\n    Map&lt;String, Integer&gt; map2 = Map.of(&quot;abc&quot;, 123, &quot;def&quot;, 234, &quot;j___&quot;, 567);\r\n    \r\n    Set&lt;String&gt; keys = map.keySet().stream().filter(map2::containsKey).collect(toSet());\r\n    System.out.println(keys); // [abc, def]\r\n\r\n","title":"How to find all the keys in a Map that match the key values of a separate Map","body":"<p>Filter the keys from the second regarding if they are in the second map</p>\n<pre><code>// import static java.util.stream.Collectors.toSet;\nMap&lt;String, Integer&gt; map = Map.of(&quot;abc&quot;, 123, &quot;def&quot;, 234, &quot;jkl&quot;, 567);\nMap&lt;String, Integer&gt; map2 = Map.of(&quot;abc&quot;, 123, &quot;def&quot;, 234, &quot;j___&quot;, 567);\n\nSet&lt;String&gt; keys = map.keySet().stream().filter(map2::containsKey).collect(toSet());\nSystem.out.println(keys); // [abc, def]\n</code></pre>\n"}],"owner":{"account_id":4659923,"reputation":63,"user_id":3774443,"display_name":"Rohit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75075184,"answer_count":1,"score":1,"last_activity_date":1673381503,"creation_date":1673380266,"question_id":75075141,"body_markdown":"I have a Map that has some entires like \r\n\r\n```\r\nmap.put(&quot;abc&quot;, 123)\r\nmap.put(&quot;def&quot;,234)\r\nmap.put(&quot;jkl&quot;, 567)\r\n```\r\n\r\nAnd a separate map that has entries\r\n\r\n```\r\nmap.put(&quot;abc&quot;, 123)\r\nmap.put(&quot;def&quot;,234)\r\nmap.put(&quot;jddj&quot;, 567)\r\n```\r\n\r\nHow can I write logic in java 8 so that I am returned &quot;abc&quot; and &quot;def&quot; as matched keys. ","title":"How to find all the keys in a Map that match the key values of a separate Map","body":"<p>I have a Map that has some entires like</p>\n<pre><code>map.put(&quot;abc&quot;, 123)\nmap.put(&quot;def&quot;,234)\nmap.put(&quot;jkl&quot;, 567)\n</code></pre>\n<p>And a separate map that has entries</p>\n<pre><code>map.put(&quot;abc&quot;, 123)\nmap.put(&quot;def&quot;,234)\nmap.put(&quot;jddj&quot;, 567)\n</code></pre>\n<p>How can I write logic in java 8 so that I am returned &quot;abc&quot; and &quot;def&quot; as matched keys.</p>\n"},{"tags":["java","lambda","enums"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1552569212,"post_id":55162147,"comment_id":97065859,"body_markdown":"Enum constants should be in UPPER_SNAKE_CASE.","body":"Enum constants should be in UPPER_SNAKE_CASE."},{"owner":{"account_id":11564221,"reputation":5963,"user_id":8473028,"accept_rate":94,"display_name":"DodgyCodeException"},"score":2,"creation_date":1552570261,"post_id":55162147,"comment_id":97066638,"body_markdown":"In the version that works, it&#39;s because the arguments to the enum instances are objects of totally separate classes, but lambda expressions are not exactly the same thing, as they share the context in which they are defined. They are not just syntactic sugar for anonymous classes.","body":"In the version that works, it&#39;s because the arguments to the enum instances are objects of totally separate classes, but lambda expressions are not exactly the same thing, as they share the context in which they are defined. They are not just syntactic sugar for anonymous classes."}],"answers":[{"comments":[{"owner":{"account_id":482558,"reputation":29193,"user_id":897024,"accept_rate":100,"display_name":"kapex"},"score":0,"creation_date":1552567553,"post_id":55162533,"comment_id":97064644,"body_markdown":"In this case you don&#39;t even need the OppositeHolder. You could just pass the opposite name as String to the constructor and look up the value there. Usually I would say using constants would be better but since `valueOf` would throw an exception at application start if it can&#39;t find an enum, I think this is fine.","body":"In this case you don&#39;t even need the OppositeHolder. You could just pass the opposite name as String to the constructor and look up the value there. Usually I would say using constants would be better but since <code>valueOf</code> would throw an exception at application start if it can&#39;t find an enum, I think this is fine."},{"owner":{"account_id":6643172,"reputation":560,"user_id":5128241,"accept_rate":65,"display_name":"Vishal Tyagi"},"score":0,"creation_date":1552567793,"post_id":55162533,"comment_id":97064816,"body_markdown":"I am sorry but the link that i have mentioned does compile just fine even though it does use the enums before they are declared. Would be helpful if you could go through the link first.","body":"I am sorry but the link that i have mentioned does compile just fine even though it does use the enums before they are declared. Would be helpful if you could go through the link first."},{"owner":{"account_id":6643172,"reputation":560,"user_id":5128241,"accept_rate":65,"display_name":"Vishal Tyagi"},"score":0,"creation_date":1552568499,"post_id":55162533,"comment_id":97065299,"body_markdown":"Also, i can&#39;t really have the enums in strings there because of maintainablity issues.","body":"Also, i can&#39;t really have the enums in strings there because of maintainablity issues."},{"owner":{"account_id":15315092,"reputation":587,"user_id":11049187,"display_name":"Wisthler"},"score":1,"creation_date":1552574921,"post_id":55162533,"comment_id":97070191,"body_markdown":"@VishalTyagi as explained in a previous comment, annonymous class and lambda are not fully equivalent. Something about initialization order. Now, based on your question, the point was to have the same result using lambda which is shorter to write. That&#39;s what I did. If it does not match you real problem, you should then update your question to match that problem.","body":"@VishalTyagi as explained in a previous comment, annonymous class and lambda are not fully equivalent. Something about initialization order. Now, based on your question, the point was to have the same result using lambda which is shorter to write. That&#39;s what I did. If it does not match you real problem, you should then update your question to match that problem."}],"tags":[],"owner":{"account_id":15315092,"reputation":587,"user_id":11049187,"display_name":"Wisthler"},"comment_count":4,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1552566452,"creation_date":1552566452,"answer_id":55162533,"question_id":55162147,"body_markdown":"the issue is that your using variable before they are defined even if it&#39;s a lambda call. A workaround can be to use ```valueOf```\r\n\r\n```\r\npublic enum Baz {\r\n\r\n        yin(() -&gt; Baz.valueOf(&quot;yang&quot;)),\r\n        yang(() -&gt; Baz.valueOf(&quot;yin&quot;)),\r\n        good(() -&gt; Baz.valueOf(&quot;evil&quot;)),\r\n        evil(() -&gt; Baz.valueOf(&quot;good&quot;))\r\n        ;\r\n\r\n        private final OppositeHolder oppositeHolder;\r\n\r\n        private Baz(OppositeHolder oppositeHolder) {\r\n            this.oppositeHolder = oppositeHolder;\r\n        }\r\n\r\n        private static interface OppositeHolder {\r\n            public Baz getOpposite();\r\n        }\r\n    }\r\n\r\n    public static void main(String... args){\r\n        System.out.println(Baz.yin);\r\n        System.out.println(Baz.yin.oppositeHolder.getOpposite());\r\n\r\n    }\r\n```\r\n\r\noutput is \r\n```\r\nyin\r\nyang\r\n```\r\n","title":"Accessing Same Class&#39; enum value inside an enum declaration within a lambda doesn&#39;t compile","body":"<p>the issue is that your using variable before they are defined even if it's a lambda call. A workaround can be to use <code>valueOf</code></p>\n\n<pre><code>public enum Baz {\n\n        yin(() -&gt; Baz.valueOf(\"yang\")),\n        yang(() -&gt; Baz.valueOf(\"yin\")),\n        good(() -&gt; Baz.valueOf(\"evil\")),\n        evil(() -&gt; Baz.valueOf(\"good\"))\n        ;\n\n        private final OppositeHolder oppositeHolder;\n\n        private Baz(OppositeHolder oppositeHolder) {\n            this.oppositeHolder = oppositeHolder;\n        }\n\n        private static interface OppositeHolder {\n            public Baz getOpposite();\n        }\n    }\n\n    public static void main(String... args){\n        System.out.println(Baz.yin);\n        System.out.println(Baz.yin.oppositeHolder.getOpposite());\n\n    }\n</code></pre>\n\n<p>output is </p>\n\n<pre><code>yin\nyang\n</code></pre>\n"},{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1673381456,"creation_date":1552578234,"answer_id":55166692,"question_id":55162147,"body_markdown":"This cannot be done by simply replacing anonymous interface implementations by corresponding lambda expressions, because they are not the same thing.\r\n\r\nA lambda body does not have its own context. This is defined in the [Java Language Specification, &#167; 15.27.2][1]:\r\n\r\n&gt; Unlike code appearing in anonymous class declarations, the meaning of names and the `this` and  `super` keywords appearing in a lambda body, **along with the accessibility of referenced declarations**, are the same as in the surrounding context (except that lambda parameters introduce new names).\r\n\r\n&lt;sup&gt;(Emphasis mine)&lt;/sup&gt;\r\n\r\nThat means you have effectively the same problem as the OP of [your linked question][2].\r\n\r\n----\r\n\r\nI doubt if I would follow your approach. I personally prefer the code from [this answer][3].\r\n\r\n```java\r\nenum Baz {\r\n\r\n    YIN,\r\n    YANG,\r\n    GOOD,\r\n    EVIL;\r\n\r\n    private static final Map&lt;Baz, Baz&gt; OPPOSITES;\r\n    static {\r\n        Map&lt;Baz, Baz&gt; m = new EnumMap&lt;&gt;(Baz.class);\r\n        m.put(YIN, YANG);\r\n        m.put(YANG, YIN);\r\n        m.put(GOOD, EVIL);\r\n        m.put(EVIL, GOOD);\r\n        OPPOSITES = Collections.unmodifiableMap(m);\r\n    }\r\n\r\n    public Baz opposite() {\r\n        return Objects.requireNonNull(OPPOSITES.get(this));\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se11/html/jls-15.html#jls-15.27.2\r\n  [2]: https://stackoverflow.com/q/12592286/507738\r\n  [3]: https://stackoverflow.com/a/12592539/507738","title":"Accessing Same Class&#39; enum value inside an enum declaration within a lambda doesn&#39;t compile","body":"<p>This cannot be done by simply replacing anonymous interface implementations by corresponding lambda expressions, because they are not the same thing.</p>\n<p>A lambda body does not have its own context. This is defined in the <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-15.html#jls-15.27.2\" rel=\"nofollow noreferrer\">Java Language Specification, § 15.27.2</a>:</p>\n<blockquote>\n<p>Unlike code appearing in anonymous class declarations, the meaning of names and the <code>this</code> and  <code>super</code> keywords appearing in a lambda body, <strong>along with the accessibility of referenced declarations</strong>, are the same as in the surrounding context (except that lambda parameters introduce new names).</p>\n</blockquote>\n<p><sup>(Emphasis mine)</sup></p>\n<p>That means you have effectively the same problem as the OP of <a href=\"https://stackoverflow.com/q/12592286/507738\">your linked question</a>.</p>\n<hr />\n<p>I doubt if I would follow your approach. I personally prefer the code from <a href=\"https://stackoverflow.com/a/12592539/507738\">this answer</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum Baz {\n\n    YIN,\n    YANG,\n    GOOD,\n    EVIL;\n\n    private static final Map&lt;Baz, Baz&gt; OPPOSITES;\n    static {\n        Map&lt;Baz, Baz&gt; m = new EnumMap&lt;&gt;(Baz.class);\n        m.put(YIN, YANG);\n        m.put(YANG, YIN);\n        m.put(GOOD, EVIL);\n        m.put(EVIL, GOOD);\n        OPPOSITES = Collections.unmodifiableMap(m);\n    }\n\n    public Baz opposite() {\n        return Objects.requireNonNull(OPPOSITES.get(this));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6643172,"reputation":560,"user_id":5128241,"accept_rate":65,"display_name":"Vishal Tyagi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1673381456,"creation_date":1552565215,"question_id":55162147,"body_markdown":"I am trying to access an enum value inside the declaration of another enum value in the same class. Following is the way I found to get that done .\r\n\r\n[Java enum- Cannot reference a field before it is defined][1]\r\n\r\n  [1]: https://stackoverflow.com/a/29199198/5128241\r\n\r\nwhich compiles just fine but since it involves a lot of formal code, I tried to replace the interface implementations with a Lambda but it doesn&#39;s compile with an error such as \r\n\r\n`Cannot reference a field before it is defined`\r\n\r\nFollowing is the lambda replacement I did.\r\n\r\n    package test;\r\n    public enum Baz {\r\n\r\n\tyin(() -&gt; {\r\n\t\treturn Baz.yang;//doesnt compile. -&gt;Cannot reference a field before it is defined\r\n\t}),\r\n\tyang(new OppositeHolder() {\r\n\t\t@Override\r\n\t\tpublic Baz getOpposite() {\r\n\t\t\treturn yin;\r\n\t\t}\r\n\t}),\r\n\tgood(new OppositeHolder() {\r\n\t\t@Override\r\n\t\tpublic Baz getOpposite() {\r\n\t\t\treturn evil;//BUT THIS COMPILES JUST FINE, EVEN THOUGH IT ACCESSES evil WHICH HAS BEEN DECLARED LATER.\r\n\t\t}\r\n\t}),\r\n\tevil(new OppositeHolder() {\r\n\t\t@Override\r\n\t\tpublic Baz getOpposite() {\r\n\t\t\treturn good;\r\n\t\t}\r\n\t});\r\n\r\n\tprivate final OppositeHolder oppositeHolder;\r\n\r\n\tprivate Baz(OppositeHolder oppositeHolder) {\r\n\t\tthis.oppositeHolder = oppositeHolder;\r\n\t}\r\n\r\n\tprivate static interface OppositeHolder {\r\n\t\tpublic Baz getOpposite();\r\n\t}\r\n\r\n}\r\n\r\nIs there any way I could do this with the help of lambda expressions, since I could be seeing a lot of enums in this class and i don&#39;t really want to repeat the boiler plate code.\r\n\r\n**EDIT**\r\nI know that the error means that I cannot access an Enum that has been declared later. Also, I cannot really have the enum name stored as a string since that would be a maintenance nightmare for me. Also, I am curious why the example in the link compiles but mine does not.","title":"Accessing Same Class&#39; enum value inside an enum declaration within a lambda doesn&#39;t compile","body":"<p>I am trying to access an enum value inside the declaration of another enum value in the same class. Following is the way I found to get that done .</p>\n<p><a href=\"https://stackoverflow.com/a/29199198/5128241\">Java enum- Cannot reference a field before it is defined</a></p>\n<p>which compiles just fine but since it involves a lot of formal code, I tried to replace the interface implementations with a Lambda but it doesn's compile with an error such as</p>\n<p><code>Cannot reference a field before it is defined</code></p>\n<p>Following is the lambda replacement I did.</p>\n<pre><code>package test;\npublic enum Baz {\n\nyin(() -&gt; {\n    return Baz.yang;//doesnt compile. -&gt;Cannot reference a field before it is defined\n}),\nyang(new OppositeHolder() {\n    @Override\n    public Baz getOpposite() {\n        return yin;\n    }\n}),\ngood(new OppositeHolder() {\n    @Override\n    public Baz getOpposite() {\n        return evil;//BUT THIS COMPILES JUST FINE, EVEN THOUGH IT ACCESSES evil WHICH HAS BEEN DECLARED LATER.\n    }\n}),\nevil(new OppositeHolder() {\n    @Override\n    public Baz getOpposite() {\n        return good;\n    }\n});\n\nprivate final OppositeHolder oppositeHolder;\n\nprivate Baz(OppositeHolder oppositeHolder) {\n    this.oppositeHolder = oppositeHolder;\n}\n\nprivate static interface OppositeHolder {\n    public Baz getOpposite();\n}\n</code></pre>\n<p>}</p>\n<p>Is there any way I could do this with the help of lambda expressions, since I could be seeing a lot of enums in this class and i don't really want to repeat the boiler plate code.</p>\n<p><strong>EDIT</strong>\nI know that the error means that I cannot access an Enum that has been declared later. Also, I cannot really have the enum name stored as a string since that would be a maintenance nightmare for me. Also, I am curious why the example in the link compiles but mine does not.</p>\n"},{"tags":["java","android","nullpointerexception"],"owner":{"account_id":20753948,"reputation":1,"user_id":15240786,"display_name":"Anik Chakraborty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673381222,"creation_date":1673381222,"question_id":75075285,"body_markdown":"**I want to pick multiple or single images from phone gallery. But my code returning null pointer also one major problem I have notice the createChooser runs twice.**\r\n\r\n&gt; *After tries two pick image two time it sends me to the parent activity*\r\n\r\n*OnCreate Method*\r\n\r\n\r\n&gt; @Override\r\n&gt;     protected void onCreate(Bundle savedInstanceState) {\r\n&gt;         super.onCreate(savedInstanceState);\r\n&gt;         setContentView(R.layout.activity_add_item_business);\r\n&gt; \r\n&gt; \r\n&gt;         ItemName = findViewById(R.id.item_name);\r\n&gt;         ItemDes = findViewById(R.id.item_des);\r\n&gt;         pickImage = findViewById(R.id.pickImage);\r\n&gt; \r\n&gt;         ChooseImageList = new ArrayList&lt;&gt;();\r\n&gt;         UrlsList = new ArrayList&lt;&gt;();\r\n&gt; \r\n&gt; \r\n&gt;         pickImage.setOnClickListener(new View.OnClickListener() {\r\n&gt;             @Override\r\n&gt;             public void onClick(View v) {\r\n&gt;                 CheckPermission();\r\n&gt;                 PickImageFromGallery();\r\n&gt;             }\r\n&gt;         });\r\n&gt; \r\n&gt;     }\r\n\r\n*Checking Permission*\r\n\r\n    \r\n\r\n    private void CheckPermission() {\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                if (ContextCompat.checkSelfPermission(addItemBusiness.this,\r\n                        Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\r\n                    ActivityCompat.requestPermissions(addItemBusiness.this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, 2);\r\n                } else {\r\n                    PickImageFromGallery();\r\n                }\r\n            }\r\n        }\r\n\r\n*Move to gallery*\r\n\r\n\r\n    private void PickImageFromGallery() {\r\n       Intent intent = new Intent(Intent.ACTION_PICK,\r\n                android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n        intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\r\n        startActivityForResult(Intent.createChooser(intent, &quot;Select images&quot;), 100);\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n       Log.i(&quot;result&quot;, &quot;inside activity result&quot;);\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (requestCode == 100 &amp;&amp; resultCode == RESULT_OK) {\r\n            Log.i(&quot;result&quot;, &quot;result is ok&quot;);\r\n            if (data.getClipData() != null) {\r\n                Log.i(&quot;result&quot;, &quot;fine&quot;);\r\n                int count = data.getClipData().getItemCount();\r\n                for (int i = 0; i &lt; count; i++) {\r\n                    ImageUri = data.getClipData().getItemAt(i).getUri();\r\n                    ChooseImageList.add(ImageUri);\r\n                    SetAdapter();\r\n                }\r\n            } else if (data.getData() != null) {\r\n                Log.i(&quot;result&quot;, &quot;clip data is null&quot;);\r\n                ImageUri = data.getData();\r\n                ChooseImageList.add(ImageUri);\r\n                SetAdapter();\r\n            }\r\n        }\r\n\r\n    }\r\n*Adapter*\r\n   \r\n\r\n     private void SetAdapter(){\r\n            ViewPagerAdapter adapter = new ViewPagerAdapter(this, ChooseImageList);\r\n            viewPager.setAdapter(adapter);\r\n        }\r\n\r\n\r\n*Adapter Class*\r\n\r\n    private Context context;\r\n        ArrayList&lt;Uri&gt; ImageUrls;\r\n        LayoutInflater layoutInflater;\r\n    \r\n        public ViewPagerAdapter(Context context, ArrayList&lt;Uri&gt; imageUrls) {\r\n            this.context = context;\r\n            ImageUrls = imageUrls;\r\n            layoutInflater= (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n        }\r\n    \r\n        @Override\r\n        public int getCount() {\r\n            return ImageUrls.size();\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public Object instantiateItem(@NonNull ViewGroup container, int position) {\r\n            View view=layoutInflater.inflate(R.layout.show_imgaes_layout,container,false);\r\n            ImageView imageView=view.findViewById(R.id.UploadImage);\r\n            imageView.setImageURI(ImageUrls.get(position));\r\n            container.addView(view);\r\n    \r\n            return view ;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isViewFromObject(@NonNull View view, @NonNull Object object) {\r\n            return view== object;\r\n        }\r\n    \r\n        @Override\r\n        public void destroyItem(@NonNull View container, int position, @NonNull Object object) {\r\n            ((RelativeLayout)object).removeView(container);\r\n        }\r\n\r\nHope that you can find the issue. Thank you","title":"Choose multiple or single images from the phone storage without having a null exception pointer and with or without using startActivityForResult()","body":"<p><strong>I want to pick multiple or single images from phone gallery. But my code returning null pointer also one major problem I have notice the createChooser runs twice.</strong></p>\n<blockquote>\n<p><em>After tries two pick image two time it sends me to the parent activity</em></p>\n</blockquote>\n<p><em>OnCreate Method</em></p>\n<blockquote>\n<p>@Override\nprotected void onCreate(Bundle savedInstanceState) {\nsuper.onCreate(savedInstanceState);\nsetContentView(R.layout.activity_add_item_business);</p>\n<pre><code>    ItemName = findViewById(R.id.item_name);\n    ItemDes = findViewById(R.id.item_des);\n    pickImage = findViewById(R.id.pickImage);\n\n    ChooseImageList = new ArrayList&lt;&gt;();\n    UrlsList = new ArrayList&lt;&gt;();\n\n\n    pickImage.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            CheckPermission();\n            PickImageFromGallery();\n        }\n    });\n\n}\n</code></pre>\n</blockquote>\n<p><em>Checking Permission</em></p>\n<pre><code>private void CheckPermission() {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            if (ContextCompat.checkSelfPermission(addItemBusiness.this,\n                    Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\n                ActivityCompat.requestPermissions(addItemBusiness.this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, 2);\n            } else {\n                PickImageFromGallery();\n            }\n        }\n    }\n</code></pre>\n<p><em>Move to gallery</em></p>\n<pre><code>private void PickImageFromGallery() {\n   Intent intent = new Intent(Intent.ACTION_PICK,\n            android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n    intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\n    startActivityForResult(Intent.createChooser(intent, &quot;Select images&quot;), 100);\n\n}\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n   Log.i(&quot;result&quot;, &quot;inside activity result&quot;);\n    super.onActivityResult(requestCode, resultCode, data);\n\n    if (requestCode == 100 &amp;&amp; resultCode == RESULT_OK) {\n        Log.i(&quot;result&quot;, &quot;result is ok&quot;);\n        if (data.getClipData() != null) {\n            Log.i(&quot;result&quot;, &quot;fine&quot;);\n            int count = data.getClipData().getItemCount();\n            for (int i = 0; i &lt; count; i++) {\n                ImageUri = data.getClipData().getItemAt(i).getUri();\n                ChooseImageList.add(ImageUri);\n                SetAdapter();\n            }\n        } else if (data.getData() != null) {\n            Log.i(&quot;result&quot;, &quot;clip data is null&quot;);\n            ImageUri = data.getData();\n            ChooseImageList.add(ImageUri);\n            SetAdapter();\n        }\n    }\n\n}\n</code></pre>\n<p><em>Adapter</em></p>\n<pre><code> private void SetAdapter(){\n        ViewPagerAdapter adapter = new ViewPagerAdapter(this, ChooseImageList);\n        viewPager.setAdapter(adapter);\n    }\n</code></pre>\n<p><em>Adapter Class</em></p>\n<pre><code>private Context context;\n    ArrayList&lt;Uri&gt; ImageUrls;\n    LayoutInflater layoutInflater;\n\n    public ViewPagerAdapter(Context context, ArrayList&lt;Uri&gt; imageUrls) {\n        this.context = context;\n        ImageUrls = imageUrls;\n        layoutInflater= (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n    }\n\n    @Override\n    public int getCount() {\n        return ImageUrls.size();\n    }\n\n    @NonNull\n    @Override\n    public Object instantiateItem(@NonNull ViewGroup container, int position) {\n        View view=layoutInflater.inflate(R.layout.show_imgaes_layout,container,false);\n        ImageView imageView=view.findViewById(R.id.UploadImage);\n        imageView.setImageURI(ImageUrls.get(position));\n        container.addView(view);\n\n        return view ;\n    }\n\n    @Override\n    public boolean isViewFromObject(@NonNull View view, @NonNull Object object) {\n        return view== object;\n    }\n\n    @Override\n    public void destroyItem(@NonNull View container, int position, @NonNull Object object) {\n        ((RelativeLayout)object).removeView(container);\n    }\n</code></pre>\n<p>Hope that you can find the issue. Thank you</p>\n"},{"tags":["java","algorithm","function","collections","stream"],"comments":[{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":0,"creation_date":1673344970,"post_id":75068263,"comment_id":132472447,"body_markdown":"What if you have a Product with a unique name in your DB and add another with the same name (but other category) should the formally unique one also change its name in the DB?","body":"What if you have a Product with a unique name in your DB and add another with the same name (but other category) should the formally unique one also change its name in the DB?"},{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":0,"creation_date":1673345061,"post_id":75068263,"comment_id":132472482,"body_markdown":"We need to see your code when you add a new Product because in this case you may need to change the FrontName of the new Product and potentially also of an old one.","body":"We need to see your code when you add a new Product because in this case you may need to change the FrontName of the new Product and potentially also of an old one."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1673345407,"post_id":75068263,"comment_id":132472597,"body_markdown":"Its a two step process. First you need to identify which are the unique names. Ones you have done this, you can perform the required operations","body":"Its a two step process. First you need to identify which are the unique names. Ones you have done this, you can perform the required operations"},{"owner":{"account_id":26346751,"reputation":27,"user_id":20004990,"display_name":"Alex Grimaldo"},"score":0,"creation_date":1673346250,"post_id":75068263,"comment_id":132472835,"body_markdown":"@XtremeBaumer There is a list of products class Product. If a sheet contains a product whose name occurs only once in the collection, it is unique. And for it I need to do product.setFrontName(product.getName).","body":"@XtremeBaumer There is a list of products class Product. If a sheet contains a product whose name occurs only once in the collection, it is unique. And for it I need to do product.setFrontName(product.getName)."},{"owner":{"account_id":26346751,"reputation":27,"user_id":20004990,"display_name":"Alex Grimaldo"},"score":0,"creation_date":1673346258,"post_id":75068263,"comment_id":132472840,"body_markdown":"If the list contains products whose name occurs more than once, then it is not unique and for such a product I need to do product.setFrontName (product.getName + &quot;,&quot; product.getCategoryName)","body":"If the list contains products whose name occurs more than once, then it is not unique and for such a product I need to do product.setFrontName (product.getName + &quot;,&quot; product.getCategoryName)"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1673346799,"post_id":75068263,"comment_id":132472965,"body_markdown":"Still a two step process. You need to identify the unique ones within your code, which is easiest done with counting occurrences of names. Ones you have a list of the unique ones, you can iterate all products and check if the name is in the unique list and depending on the result you perform the required action","body":"Still a two step process. You need to identify the unique ones within your code, which is easiest done with counting occurrences of names. Ones you have a list of the unique ones, you can iterate all products and check if the name is in the unique list and depending on the result you perform the required action"},{"owner":{"account_id":26346751,"reputation":27,"user_id":20004990,"display_name":"Alex Grimaldo"},"score":0,"creation_date":1673347057,"post_id":75068263,"comment_id":132473049,"body_markdown":"@XtremeBaumer yes, I understand that I need to do exactly that. But I&#39;m having trouble with the implementation (","body":"@XtremeBaumer yes, I understand that I need to do exactly that. But I&#39;m having trouble with the implementation ("}],"answers":[{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1673381059,"post_id":75068968,"comment_id":132484824,"body_markdown":"This Answer could be improved with some explanation. Stack Overflow is meant to me more than a code snippet library.","body":"This Answer could be improved with some explanation. Stack Overflow is meant to me more than a code snippet library."}],"tags":[],"owner":{"account_id":2255092,"reputation":31,"user_id":1986444,"display_name":"user1986444"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673380990,"creation_date":1673348405,"answer_id":75068968,"question_id":75068263,"body_markdown":"please see the following code:\r\n    \r\n    Set&lt;String&gt; items = new HashSet&lt;&gt;()\r\n    Set&lt;String&gt; duplicateProduct = \r\n        productList\r\n                .stream()\r\n                .filter(p -&gt; !items.add(p.name))\r\n                .map(Product::getName) // Set.add() returns false if the element was already in the set.\r\n                .collect(Collectors.toSet());\r\n\r\n        productList.forEach( p -&gt;{\r\n           if(duplicateProduct.contains(p.getName())){\r\n               p.setFrontName(p.getName() + &quot;,&quot; + p.getCategoryName());\r\n           } else {\r\n               p.setFrontName(p.getName());\r\n           }\r\n        });","title":"Changing the field value of unique and non-unique objects","body":"<p>please see the following code:</p>\n<pre><code>Set&lt;String&gt; items = new HashSet&lt;&gt;()\nSet&lt;String&gt; duplicateProduct = \n    productList\n            .stream()\n            .filter(p -&gt; !items.add(p.name))\n            .map(Product::getName) // Set.add() returns false if the element was already in the set.\n            .collect(Collectors.toSet());\n\n    productList.forEach( p -&gt;{\n       if(duplicateProduct.contains(p.getName())){\n           p.setFrontName(p.getName() + &quot;,&quot; + p.getCategoryName());\n       } else {\n           p.setFrontName(p.getName());\n       }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9721440,"reputation":53,"user_id":7210052,"accept_rate":83,"display_name":"ZedZerg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673351081,"creation_date":1673351081,"answer_id":75069495,"question_id":75068263,"body_markdown":"There&#39;s a few ways you can approach a solution.\r\n\r\nMy first idea is for example say that you have a List&lt; Product&gt; containing all the products, then you need to:\r\n\r\n1) Iterate through all the products and save each product by name in a Map&lt;String, List&lt; Product&gt;&gt;. Products under the same name should be stored in the List&lt; Product&gt; value that has the name as key.\r\n\r\n2) Iterate through all the entries of this map and check if the size of the list is greater than 1, it means the product has duplicate (or more) name with other products. Otherwise it&#39;s unique.","title":"Changing the field value of unique and non-unique objects","body":"<p>There's a few ways you can approach a solution.</p>\n<p>My first idea is for example say that you have a List&lt; Product&gt; containing all the products, then you need to:</p>\n<ol>\n<li><p>Iterate through all the products and save each product by name in a Map&lt;String, List&lt; Product&gt;&gt;. Products under the same name should be stored in the List&lt; Product&gt; value that has the name as key.</p>\n</li>\n<li><p>Iterate through all the entries of this map and check if the size of the list is greater than 1, it means the product has duplicate (or more) name with other products. Otherwise it's unique.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":26346751,"reputation":27,"user_id":20004990,"display_name":"Alex Grimaldo"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1673381984,"answer_count":2,"score":-1,"last_activity_date":1673380990,"creation_date":1673344742,"question_id":75068263,"body_markdown":"I have such a product class. \r\n\r\n\r\n    @Data\r\n    public class Product {\r\n        private UUID id;\r\n        private String name;\r\n        private String categoryName;\r\n        private String frontName;\r\n    }\r\n\r\n\r\nAnd I have a list of products - some product names are the same even though they have different category.I need to do the following for products that have the same names:\r\nproduct.setFrontName(product.getName() + &quot;,&quot; product.getCategoryName())\r\n\r\nAnd for products with unique names, it&#39;s just to do: product.setFrontName(product.getName())\r\n\r\nI tried various options with streams, but in the end I could not find a solution.\r\n\r\nCould you share a more efficient solution to this task. Thank you.\r\n\r\n\r\n","title":"Changing the field value of unique and non-unique objects","body":"<p>I have such a product class.</p>\n<pre><code>@Data\npublic class Product {\n    private UUID id;\n    private String name;\n    private String categoryName;\n    private String frontName;\n}\n</code></pre>\n<p>And I have a list of products - some product names are the same even though they have different category.I need to do the following for products that have the same names:\nproduct.setFrontName(product.getName() + &quot;,&quot; product.getCategoryName())</p>\n<p>And for products with unique names, it's just to do: product.setFrontName(product.getName())</p>\n<p>I tried various options with streams, but in the end I could not find a solution.</p>\n<p>Could you share a more efficient solution to this task. Thank you.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1673340644,"post_id":75067467,"comment_id":132471077,"body_markdown":"You can have one layout per [panel](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JPanel.html) So you can keep the frame’s borderlayout, create one panel with a gridlayout and add it to the center of the frame and create a footer panel containing the button (and perhaps more elements in the future) and add it to the frame’s south.","body":"You can have one layout per <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JPanel.html\" rel=\"nofollow noreferrer\">panel</a> So you can keep the frame’s borderlayout, create one panel with a gridlayout and add it to the center of the frame and create a footer panel containing the button (and perhaps more elements in the future) and add it to the frame’s south."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1673341097,"post_id":75067467,"comment_id":132471232,"body_markdown":"Use multiple containers, each with their own layout manager, then combine them together in a parent container, for [example](https://stackoverflow.com/questions/26411775/how-i-can-do-swing-complex-layout-java/26412976#26412976); [example](https://stackoverflow.com/questions/24462297/layout-relative-to-screensize/24462643#24462643); [example](https://stackoverflow.com/questions/33946629/relative-and-absolute-positioning-issues-with-swing/33947433#33947433); [example](https://stackoverflow.com/questions/33576358/how-to-use-java-swing-layout-manager-to-make-this-gui/33577874#33577874)","body":"Use multiple containers, each with their own layout manager, then combine them together in a parent container, for <a href=\"https://stackoverflow.com/questions/26411775/how-i-can-do-swing-complex-layout-java/26412976#26412976\">example</a>; <a href=\"https://stackoverflow.com/questions/24462297/layout-relative-to-screensize/24462643#24462643\">example</a>; <a href=\"https://stackoverflow.com/questions/33946629/relative-and-absolute-positioning-issues-with-swing/33947433#33947433\">example</a>; <a href=\"https://stackoverflow.com/questions/33576358/how-to-use-java-swing-layout-manager-to-make-this-gui/33577874#33577874\">example</a>"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1673348818,"post_id":75067467,"comment_id":132473548,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) section.","body":"Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> section."}],"answers":[{"tags":[],"owner":{"account_id":1295413,"reputation":617,"user_id":1246600,"display_name":"Michael"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673380926,"creation_date":1673380926,"answer_id":75075244,"question_id":75067467,"body_markdown":"One solution is to use two JPanel instances (with each having its own LayoutManager).\r\n\r\nThen you add these two JPanel instances to your JFrame.\r\n\r\nExample:\r\n\r\n\tpublic class MyApplication extends JFrame {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSwingUtilities.invokeLater(new Runnable() {\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\tMyApplication app = new MyApplication();\r\n\t\t\t\t\tapp.setVisible(true);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tprivate MyApplication() {\r\n\t\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tsetSize(600, 600);\r\n\t\t\tsetTitle(&quot;Connect Four&quot;);\r\n\t\t\tsetLocationRelativeTo(null);\r\n\r\n\t\t\tJPanel buttonPanel = new JPanel();\r\n\t\t\tbuttonPanel.setLayout(new BoxLayout(buttonPanel, BoxLayout.Y_AXIS));\r\n\t\t\tJButton resetButton = new JButton();\r\n\t\t\tresetButton.setName(&quot;reset button&quot;);\r\n\t\t\tresetButton.setText(&quot;Reset&quot;);\r\n\t\t\tresetButton.setAlignmentX(Component.RIGHT_ALIGNMENT);\r\n\t\t\tbuttonPanel.add(resetButton);\r\n\r\n\t\t\t// add buttonPanel to JFrame\r\n\t\t\tadd(buttonPanel, BorderLayout.SOUTH);\r\n\r\n\t\t\tJPanel mainPanel = new JPanel(new GridLayout(6, 7, 0, 0));\r\n\r\n\t\t\tfor (int i = 6; i &gt; 0; i--) {\r\n\t\t\t\tfor (char c = &#39;A&#39;; c &lt;= &#39;G&#39;; c++) {\r\n\t\t\t\t\tString cell = &quot;&quot; + c + i;\r\n\t\t\t\t\tJButton cellButton = new JButton(&quot; &quot;);\r\n\r\n\t\t\t\t\tcellButton.setBackground(Color.LIGHT_GRAY);\r\n\t\t\t\t\tcellButton.setName(&quot;Button&quot; + cell);\r\n\t\t\t\t\tmainPanel.add(cellButton);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// add mainPanel to JFrame\r\n\t\t\tadd(mainPanel, BorderLayout.CENTER);\r\n\r\n\t\t\tsetVisible(true);\r\n\t\t}\r\n\r\n\t}","title":"Jawa Swing multiple layouts in one frame","body":"<p>One solution is to use two JPanel instances (with each having its own LayoutManager).</p>\n<p>Then you add these two JPanel instances to your JFrame.</p>\n<p>Example:</p>\n<pre><code>public class MyApplication extends JFrame {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            public void run() {\n                MyApplication app = new MyApplication();\n                app.setVisible(true);\n            }\n        });\n    }\n\n    private MyApplication() {\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setSize(600, 600);\n        setTitle(&quot;Connect Four&quot;);\n        setLocationRelativeTo(null);\n\n        JPanel buttonPanel = new JPanel();\n        buttonPanel.setLayout(new BoxLayout(buttonPanel, BoxLayout.Y_AXIS));\n        JButton resetButton = new JButton();\n        resetButton.setName(&quot;reset button&quot;);\n        resetButton.setText(&quot;Reset&quot;);\n        resetButton.setAlignmentX(Component.RIGHT_ALIGNMENT);\n        buttonPanel.add(resetButton);\n\n        // add buttonPanel to JFrame\n        add(buttonPanel, BorderLayout.SOUTH);\n\n        JPanel mainPanel = new JPanel(new GridLayout(6, 7, 0, 0));\n\n        for (int i = 6; i &gt; 0; i--) {\n            for (char c = 'A'; c &lt;= 'G'; c++) {\n                String cell = &quot;&quot; + c + i;\n                JButton cellButton = new JButton(&quot; &quot;);\n\n                cellButton.setBackground(Color.LIGHT_GRAY);\n                cellButton.setName(&quot;Button&quot; + cell);\n                mainPanel.add(cellButton);\n            }\n        }\n\n        // add mainPanel to JFrame\n        add(mainPanel, BorderLayout.CENTER);\n\n        setVisible(true);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":14512731,"reputation":249,"user_id":10482658,"display_name":"Michal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75075244,"answer_count":1,"score":0,"last_activity_date":1673380926,"creation_date":1673340397,"question_id":75067467,"body_markdown":"I&#39;m trying to create Connect 4 game which would look like on this picture:\r\n[![enter image description here][1]][1]\r\nI&#39;ve been able to create a gridlayout with 42 buttons and now I need to add Reset button. I believe that I need to combine 2 layouts in one frame but I dont know how to do that and cant find any answer anywhere. \r\nThank you for your help and time.\r\n```\r\npublic class ApplicationRunner {\r\n\r\npublic static void main(String[] args) {\r\n    new ConnectFour();\r\n    }\r\n} \r\n```\r\n``` \r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class ConnectFour extends JFrame {\r\n    private String buttonLbl = &quot;X&quot;;\r\n    HashMap&lt;String, JButton&gt; buttons;\r\n    public ConnectFour() {\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        setSize(600, 600);\r\n        setTitle(&quot;Connect Four&quot;);\r\n        setLocationRelativeTo(null);\r\n\r\n        JButton resetButton = new JButton();\r\n        resetButton.setName(&quot;reset button&quot;);\r\n        resetButton.setText(&quot;Reset&quot;);\r\n\r\n        for (int i = 6; i &gt; 0; i--) {\r\n            for (char c = &#39;A&#39;; c &lt;= &#39;G&#39;; c++) {\r\n                String cell = &quot;&quot; + c + i;\r\n                JButton cellButton = new JButton(&quot; &quot;);\r\n\r\n                cellButton.setBackground(Color.LIGHT_GRAY);\r\n                cellButton.setName(&quot;Button&quot; + cell);\r\n                add(cellButton);\r\n            }\r\n        }\r\n\r\n        GridLayout gl = new GridLayout(6, 7, 0, 0);\r\n        setLayout(gl);\r\n        setVisible(true);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XEgbo.jpg","title":"Jawa Swing multiple layouts in one frame","body":"<p>I'm trying to create Connect 4 game which would look like on this picture:\n<a href=\"https://i.stack.imgur.com/XEgbo.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XEgbo.jpg\" alt=\"enter image description here\" /></a>\nI've been able to create a gridlayout with 42 buttons and now I need to add Reset button. I believe that I need to combine 2 layouts in one frame but I dont know how to do that and cant find any answer anywhere.\nThank you for your help and time.</p>\n<pre><code>public class ApplicationRunner {\n\npublic static void main(String[] args) {\n    new ConnectFour();\n    }\n} \n</code></pre>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class ConnectFour extends JFrame {\n    private String buttonLbl = &quot;X&quot;;\n    HashMap&lt;String, JButton&gt; buttons;\n    public ConnectFour() {\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setSize(600, 600);\n        setTitle(&quot;Connect Four&quot;);\n        setLocationRelativeTo(null);\n\n        JButton resetButton = new JButton();\n        resetButton.setName(&quot;reset button&quot;);\n        resetButton.setText(&quot;Reset&quot;);\n\n        for (int i = 6; i &gt; 0; i--) {\n            for (char c = 'A'; c &lt;= 'G'; c++) {\n                String cell = &quot;&quot; + c + i;\n                JButton cellButton = new JButton(&quot; &quot;);\n\n                cellButton.setBackground(Color.LIGHT_GRAY);\n                cellButton.setName(&quot;Button&quot; + cell);\n                add(cellButton);\n            }\n        }\n\n        GridLayout gl = new GridLayout(6, 7, 0, 0);\n        setLayout(gl);\n        setVisible(true);\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium","file-upload","automated-tests"],"comments":[{"owner":{"account_id":15083819,"reputation":33038,"user_id":10885684,"display_name":"KunduK"},"score":1,"creation_date":1663844601,"post_id":73813289,"comment_id":130337301,"body_markdown":"Are you able to upload multiple files at one go manually?","body":"Are you able to upload multiple files at one go manually?"},{"owner":{"account_id":24977904,"reputation":109,"user_id":18951958,"display_name":"hetacz"},"score":0,"creation_date":1663857400,"post_id":73813289,"comment_id":130342515,"body_markdown":"One input definitly allows it, I am not sure about the other.","body":"One input definitly allows it, I am not sure about the other."},{"owner":{"account_id":19019725,"reputation":951,"user_id":13884034,"display_name":"Sonali Das"},"score":1,"creation_date":1663914398,"post_id":73813289,"comment_id":130355436,"body_markdown":"could you pls share code for  method uploadFilePO.uploadFile(filepath, fileInput, progressBar)","body":"could you pls share code for  method uploadFilePO.uploadFile(filepath, fileInput, progressBar)"},{"owner":{"account_id":24977904,"reputation":109,"user_id":18951958,"display_name":"hetacz"},"score":0,"creation_date":1664029851,"post_id":73813289,"comment_id":130380409,"body_markdown":"@SonaliDas I added requested code and edited question to add more explanations.","body":"@SonaliDas I added requested code and edited question to add more explanations."}],"answers":[{"tags":[],"owner":{"account_id":24977904,"reputation":109,"user_id":18951958,"display_name":"hetacz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664208478,"creation_date":1664208478,"answer_id":73856917,"question_id":73813289,"body_markdown":"I found the answer to my problem. An input element has to be provided with a string containing absolute paths to the files one wants to upload joined with &quot; \\n &quot;.\r\n\r\nSo this is the piece of code I am using now:\r\n\r\n```\r\n    public void uploadFiles(@NotNull List&lt;String&gt; filenames, By input, By progressBar) {\r\n        String upload = String.join(&quot; \\n &quot;, filenames\r\n                .stream()\r\n                .map(filename -&gt; new File(Objects.requireNonNull(\r\n                        getClass().getClassLoader().getResource(filename)).getFile()).getAbsolutePath())\r\n                .toList());\r\n        getExistingElement(input).sendKeys(upload);\r\n        wait.until(ExpectedConditions.invisibilityOfAllElements(driver.findElements(progressBar)));\r\n    }\r\n```","title":"Selenium multiple upload input","body":"<p>I found the answer to my problem. An input element has to be provided with a string containing absolute paths to the files one wants to upload joined with &quot; \\n &quot;.</p>\n<p>So this is the piece of code I am using now:</p>\n<pre><code>    public void uploadFiles(@NotNull List&lt;String&gt; filenames, By input, By progressBar) {\n        String upload = String.join(&quot; \\n &quot;, filenames\n                .stream()\n                .map(filename -&gt; new File(Objects.requireNonNull(\n                        getClass().getClassLoader().getResource(filename)).getFile()).getAbsolutePath())\n                .toList());\n        getExistingElement(input).sendKeys(upload);\n        wait.until(ExpectedConditions.invisibilityOfAllElements(driver.findElements(progressBar)));\n    }\n</code></pre>\n"}],"owner":{"account_id":24977904,"reputation":109,"user_id":18951958,"display_name":"hetacz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73856917,"answer_count":1,"score":2,"last_activity_date":1673380591,"creation_date":1663843521,"question_id":73813289,"body_markdown":"I know that there is some kind of bug in selenium that causes uploading multiple files at once a trouble (I&#39;m using v4.4.0). When I try to do it, I can upload 1st file, but 2nd file from the list will be uploaded along with 1st and 3rd along with 1st and 2nd, resulting in 3x1st file, 2x2nd file, 1x3rd file.\r\n\r\nWherever I need to upload multiple files, I visit upload place, upload 1st file, save, return, then visit again and upload 2nd file, and so on. But it&#39;s technically invoking method with a single upload few times.\r\n\r\nNow I am in place, where such a tactic can&#39;t be chosen. I read that using `\\n` as delimiter of String of files can help, but it just doesn&#39;t seem to work for me.\r\n\r\nIf only one file were to be sent (`filepaths` is list of only one element) it works fine.\r\n\r\n```\r\n    public ApplyFilesPO uploadFile(@NotNull List&lt;String&gt; filepaths) {\r\n        String filepath = String.join(&quot;\\n&quot;, filepaths);\r\n        uploadFilePO.uploadFile(filepath, fileInput, progressBar);\r\n        return this; // doesn&#39;t work if list contains more than 1 element\r\n    }\r\n```\r\n\r\nThis is `UploadFilePO#uploadFile(String, By, By)` method:\r\n\r\n```\r\n    public void uploadFile(String filename, By input, By progressBar) {\r\n        File file = new File(Objects\r\n                .requireNonNull(getClass().getClassLoader().getResource(filename))\r\n                .getFile());\r\n        getExistingElement(input).sendKeys(file.toString());\r\n        waitForElementToDisappear(progressBar);\r\n    }\r\n```\r\n\r\nThe input is 2px x 0px element, real user opens select file window by clicking on some button.\r\n\r\n`getExistingElement`:\r\n```\r\n    protected final WebElement getExistingElement(By locator) {\r\n        return wait.until(ExpectedConditions.presenceOfElementLocated(locator));\r\n    }\r\n```\r\n\r\n`waitForElementToDisappear` (Progress bar shows immediately after uploading file, and disappears after it is uploaded, so I added this method to be sure that uploading is done:\r\n\r\n```\r\n    protected final &lt;T&gt; void waitForElementToDisappear(T locator) {\r\n        wait.until(isBy(locator)\r\n                ? ExpectedConditions.invisibilityOfElementLocated((By) locator)\r\n                : ExpectedConditions.invisibilityOf((WebElement) locator));\r\n    }\r\n```","title":"Selenium multiple upload input","body":"<p>I know that there is some kind of bug in selenium that causes uploading multiple files at once a trouble (I'm using v4.4.0). When I try to do it, I can upload 1st file, but 2nd file from the list will be uploaded along with 1st and 3rd along with 1st and 2nd, resulting in 3x1st file, 2x2nd file, 1x3rd file.</p>\n<p>Wherever I need to upload multiple files, I visit upload place, upload 1st file, save, return, then visit again and upload 2nd file, and so on. But it's technically invoking method with a single upload few times.</p>\n<p>Now I am in place, where such a tactic can't be chosen. I read that using <code>\\n</code> as delimiter of String of files can help, but it just doesn't seem to work for me.</p>\n<p>If only one file were to be sent (<code>filepaths</code> is list of only one element) it works fine.</p>\n<pre><code>    public ApplyFilesPO uploadFile(@NotNull List&lt;String&gt; filepaths) {\n        String filepath = String.join(&quot;\\n&quot;, filepaths);\n        uploadFilePO.uploadFile(filepath, fileInput, progressBar);\n        return this; // doesn't work if list contains more than 1 element\n    }\n</code></pre>\n<p>This is <code>UploadFilePO#uploadFile(String, By, By)</code> method:</p>\n<pre><code>    public void uploadFile(String filename, By input, By progressBar) {\n        File file = new File(Objects\n                .requireNonNull(getClass().getClassLoader().getResource(filename))\n                .getFile());\n        getExistingElement(input).sendKeys(file.toString());\n        waitForElementToDisappear(progressBar);\n    }\n</code></pre>\n<p>The input is 2px x 0px element, real user opens select file window by clicking on some button.</p>\n<p><code>getExistingElement</code>:</p>\n<pre><code>    protected final WebElement getExistingElement(By locator) {\n        return wait.until(ExpectedConditions.presenceOfElementLocated(locator));\n    }\n</code></pre>\n<p><code>waitForElementToDisappear</code> (Progress bar shows immediately after uploading file, and disappears after it is uploaded, so I added this method to be sure that uploading is done:</p>\n<pre><code>    protected final &lt;T&gt; void waitForElementToDisappear(T locator) {\n        wait.until(isBy(locator)\n                ? ExpectedConditions.invisibilityOfElementLocated((By) locator)\n                : ExpectedConditions.invisibilityOf((WebElement) locator));\n    }\n</code></pre>\n"},{"tags":["java","android","xml"],"owner":{"account_id":27480440,"reputation":1,"user_id":20967632,"display_name":"Ayush Verma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673380560,"creation_date":1673289358,"question_id":75061602,"body_markdown":"I&#39;m working on a menu navigation drawer , in that I&#39;m not able to click items when I&#39;m adding a constraint layout inside the drawer layout. But after removing that click, the menu item works fine. So please tell me how can I fix this issue.\r\n\r\nhere below is my `activity_main.xml`\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.drawerlayout.widget.DrawerLayout\r\n    tools:context=&quot;.MainActivity&quot;\r\n    android:id=&quot;@+id/drawerlayout&quot;\r\n    android:fitsSystemWindows=&quot;true&quot;\r\n    tools:openDrawer=&quot;start&quot;&gt;\r\n\r\n    &lt;include layout=&quot;@layout/appbar&quot;&gt;\r\n    &lt;/include&gt;\r\n\r\n    &lt;com.google.android.material.navigation.NavigationView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:menu=&quot;@menu/navigationitem&quot;\r\n        android:id=&quot;@+id/navigationview&quot;\r\n        app:headerLayout=&quot;@layout/header_layout&quot;\r\n        android:layout_gravity=&quot;start&quot;&gt;\r\n    &lt;/com.google.android.material.navigation.NavigationView&gt;\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Test&quot;\r\n            android:textColor=&quot;@color/white&quot;&gt;\r\n        &lt;/TextView&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\r\n```\r\n\r\n And here below is my `mainactivity` \r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n        DrawerLayout drawerLayout;\r\n        Toolbar toolbar1;\r\n        NavigationView navigationView;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n\r\n            drawerLayout=findViewById(R.id.drawerlayout);\r\n            toolbar1=findViewById(R.id.tbar);\r\n            navigationView=findViewById(R.id.navigationview);\r\n    \r\n            toolbar1.inflateMenu(R.menu.navigationitem);\r\n\r\n            ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this,drawerLayout,toolbar1,R.string.nav_open,R.string.nav_close);\r\n\r\n            drawerLayout.addDrawerListener(toggle);\r\n\r\n            toggle.syncState();\r\n\r\n            navigationView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {\r\n                @Override\r\n                public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n                    int id = item.getItemId();\r\n    \r\n                    if (id==R.id.profile){\r\n                        Toast.makeText(MainActivity.this, &quot;Profile&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                    else if(id==R.id.contact){\r\n                        Toast.makeText(MainActivity.this, &quot;Contact&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                    else{\r\n                        Toast.makeText(MainActivity.this, &quot;Logoutact&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                    drawerLayout.closeDrawer(GravityCompat.START);\r\n\r\n                    return true;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nNow, How Can Solve This Problem?","title":"In android navigation menu, menu item is not clickable","body":"<p>I'm working on a menu navigation drawer , in that I'm not able to click items when I'm adding a constraint layout inside the drawer layout. But after removing that click, the menu item works fine. So please tell me how can I fix this issue.</p>\n<p>here below is my <code>activity_main.xml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout\n    tools:context=&quot;.MainActivity&quot;\n    android:id=&quot;@+id/drawerlayout&quot;\n    android:fitsSystemWindows=&quot;true&quot;\n    tools:openDrawer=&quot;start&quot;&gt;\n\n    &lt;include layout=&quot;@layout/appbar&quot;&gt;\n    &lt;/include&gt;\n\n    &lt;com.google.android.material.navigation.NavigationView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:menu=&quot;@menu/navigationitem&quot;\n        android:id=&quot;@+id/navigationview&quot;\n        app:headerLayout=&quot;@layout/header_layout&quot;\n        android:layout_gravity=&quot;start&quot;&gt;\n    &lt;/com.google.android.material.navigation.NavigationView&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;Test&quot;\n            android:textColor=&quot;@color/white&quot;&gt;\n        &lt;/TextView&gt;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n</code></pre>\n<p>And here below is my <code>mainactivity</code></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    DrawerLayout drawerLayout;\n    Toolbar toolbar1;\n    NavigationView navigationView;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        drawerLayout=findViewById(R.id.drawerlayout);\n        toolbar1=findViewById(R.id.tbar);\n        navigationView=findViewById(R.id.navigationview);\n\n        toolbar1.inflateMenu(R.menu.navigationitem);\n\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this,drawerLayout,toolbar1,R.string.nav_open,R.string.nav_close);\n\n        drawerLayout.addDrawerListener(toggle);\n\n        toggle.syncState();\n\n        navigationView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {\n            @Override\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n                int id = item.getItemId();\n\n                if (id==R.id.profile){\n                    Toast.makeText(MainActivity.this, &quot;Profile&quot;, Toast.LENGTH_SHORT).show();\n                }\n                else if(id==R.id.contact){\n                    Toast.makeText(MainActivity.this, &quot;Contact&quot;, Toast.LENGTH_SHORT).show();\n                }\n                else{\n                    Toast.makeText(MainActivity.this, &quot;Logoutact&quot;, Toast.LENGTH_SHORT).show();\n                }\n                drawerLayout.closeDrawer(GravityCompat.START);\n\n                return true;\n            }\n        });\n    }\n}\n</code></pre>\n<p>Now, How Can Solve This Problem?</p>\n"},{"tags":["java","arrays","methods"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":3,"creation_date":1673369444,"post_id":75073262,"comment_id":132481210,"body_markdown":"No. You can&#39;t add methods to arrays. To achieve something like `manyElements.add(newElement)` in a way similar to array we use lists like ArrayList. They also store elements at indexes and unlike arrays don&#39;t have fixed size. So your code would be like `list.add(element)`.","body":"No. You can&#39;t add methods to arrays. To achieve something like <code>manyElements.add(newElement)</code> in a way similar to array we use lists like ArrayList. They also store elements at indexes and unlike arrays don&#39;t have fixed size. So your code would be like <code>list.add(element)</code>."},{"owner":{"account_id":5860066,"reputation":13485,"user_id":4616087,"display_name":"Marvin"},"score":1,"creation_date":1673369537,"post_id":75073262,"comment_id":132481240,"body_markdown":"_&quot;I&#39;m trying to achieve this without using ArrayLists and NestedLists&quot;_ - is this an academic question or do you have actual requirements to work without lists?","body":"<i>&quot;I&#39;m trying to achieve this without using ArrayLists and NestedLists&quot;</i> - is this an academic question or do you have actual requirements to work without lists?"},{"owner":{"account_id":14357818,"reputation":213,"user_id":10371141,"display_name":"Dark Rebellion"},"score":1,"creation_date":1673372065,"post_id":75073262,"comment_id":132482113,"body_markdown":"@Marvin we haven&#39;t been taught Lists in school and I don&#39;t want to get penalized for using them (yes, it happens), but at the same time I don&#39;t want my code to be too messy. I was hoping to be able to &quot;create&quot; my own ArrayList by only using what we have already been taught.","body":"@Marvin we haven&#39;t been taught Lists in school and I don&#39;t want to get penalized for using them (yes, it happens), but at the same time I don&#39;t want my code to be too messy. I was hoping to be able to &quot;create&quot; my own ArrayList by only using what we have already been taught."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1673373158,"post_id":75073262,"comment_id":132482484,"body_markdown":"The Java [Arrays API](https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Arrays.html) does have methods that can resize arrays. If an array is made larger, zeroes are added. See  [`public static&#160;int[]&#160;copyOf​(int[]&#160;original, int&#160;newLength)`](https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Arrays.html#copyOf(int%5B%5D,int)), for example.","body":"The Java <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Arrays.html\" rel=\"nofollow noreferrer\">Arrays API</a> does have methods that can resize arrays. If an array is made larger, zeroes are added. See  <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Arrays.html#copyOf(int%5B%5D,int)\" rel=\"nofollow noreferrer\"><code>public static int[] copyOf​(int[] original, int newLength)</code></a>, for example."}],"answers":[{"comments":[{"owner":{"account_id":14357818,"reputation":213,"user_id":10371141,"display_name":"Dark Rebellion"},"score":0,"creation_date":1673372237,"post_id":75073593,"comment_id":132482172,"body_markdown":"Could you elaborate on the &quot;interface that wraps an array&quot; part, if it&#39;s not too much work? &quot;Creating&quot; my own ArrayList in some way is exactly what I was trying to achieve.","body":"Could you elaborate on the &quot;interface that wraps an array&quot; part, if it&#39;s not too much work? &quot;Creating&quot; my own ArrayList in some way is exactly what I was trying to achieve."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1673372916,"post_id":75073593,"comment_id":132482406,"body_markdown":"`interface MyIntList { void add(int value); ...probably other methods here... } class MyIntListImpl implements MyIntList { private int[] internalArray; ...your implementation here... }`","body":"<code>interface MyIntList { void add(int value); ...probably other methods here... } class MyIntListImpl implements MyIntList { private int[] internalArray; ...your implementation here... }</code>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1673372954,"post_id":75073593,"comment_id":132482420,"body_markdown":"@DarkRebellion see the answers at https://stackoverflow.com/questions/889160/what-is-a-wrapper-class","body":"@DarkRebellion see the answers at <a href=\"https://stackoverflow.com/questions/889160/what-is-a-wrapper-class\" title=\"what is a wrapper class\">stackoverflow.com/questions/889160/what-is-a-wrapper-class</a>"}],"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673370992,"creation_date":1673370992,"answer_id":75073593,"question_id":75073262,"body_markdown":"&gt; Is there a way to implement the method as non-static (in a &quot;predefined array class&quot; or something? I&#39;m not too sure how to express it better) in such a way that it would work as follows instead?\r\n\r\nNo, there is not.  You must use something like `List`, or optionally write your own interface that _wraps_ an array (it cannot itself be an array).","title":"How to add a method to &quot;the array class&quot; in Java?","body":"<blockquote>\n<p>Is there a way to implement the method as non-static (in a &quot;predefined array class&quot; or something? I'm not too sure how to express it better) in such a way that it would work as follows instead?</p>\n</blockquote>\n<p>No, there is not.  You must use something like <code>List</code>, or optionally write your own interface that <em>wraps</em> an array (it cannot itself be an array).</p>\n"},{"tags":[],"owner":{"account_id":4702310,"reputation":21,"user_id":3805562,"display_name":"hamza moslah"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673373215,"creation_date":1673373215,"answer_id":75073986,"question_id":75073262,"body_markdown":"You cannot add a method to &quot;the array class&quot;, same for all predefined classes, the only solution for other predefined classes is to inherit them and add the methods you want, but, this cannot be done for arrays as it has not a specific predefined class, **it can be defined as a container object that holds a fixed number of values of a single type** ([Arrays][1]).\r\n\r\nThe alternative solutions for what you want:\r\n\r\n - Use Lists (`ArrayList` for example), as described in the comments.\r\n - concatenate the array original content with the new element, for this solution, you can use [ArrayUtils.addAll(T[] array1, T... array2)][2] or [System.arraycopy][3] like the following sample (convert the new element to an array before)\r\n\r\n       String[] both = ArrayUtils.addAll(first, second);\r\n\r\n - Create a class to wrap the array (adding the array as a variable in this class), and create addElement method containing something like the following:\r\n\r\n   \r\n        int[] newArray = new int[length + 1];\r\n        for (int i = 0; i &lt; length; i++)\r\n            newArray[i] = this.array[i];\r\n        newArray[length] = element;\r\n        length ++;\r\n        array = newArray;\r\n    \r\n\r\n \r\n\r\n \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\r\n  [2]: https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/ArrayUtils.html#addAll%28T%5B%5D,%20T...%29\r\n  [3]: https://docs.oracle.com/javase/6/docs/api/java/lang/System.html#arraycopy%28java.lang.Object,%20int,%20java.lang.Object,%20int,%20int%29\r\n\r\n","title":"How to add a method to &quot;the array class&quot; in Java?","body":"<p>You cannot add a method to &quot;the array class&quot;, same for all predefined classes, the only solution for other predefined classes is to inherit them and add the methods you want, but, this cannot be done for arrays as it has not a specific predefined class, <strong>it can be defined as a container object that holds a fixed number of values of a single type</strong> (<a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"nofollow noreferrer\">Arrays</a>).</p>\n<p>The alternative solutions for what you want:</p>\n<ul>\n<li><p>Use Lists (<code>ArrayList</code> for example), as described in the comments.</p>\n</li>\n<li><p>concatenate the array original content with the new element, for this solution, you can use <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/ArrayUtils.html#addAll%28T%5B%5D,%20T...%29\" rel=\"nofollow noreferrer\">ArrayUtils.addAll(T[] array1, T... array2)</a> or <a href=\"https://docs.oracle.com/javase/6/docs/api/java/lang/System.html#arraycopy%28java.lang.Object,%20int,%20java.lang.Object,%20int,%20int%29\" rel=\"nofollow noreferrer\">System.arraycopy</a> like the following sample (convert the new element to an array before)</p>\n<pre><code>String[] both = ArrayUtils.addAll(first, second);\n</code></pre>\n</li>\n<li><p>Create a class to wrap the array (adding the array as a variable in this class), and create addElement method containing something like the following:</p>\n<pre><code> int[] newArray = new int[length + 1];\n for (int i = 0; i &lt; length; i++)\n     newArray[i] = this.array[i];\n newArray[length] = element;\n length ++;\n array = newArray;\n</code></pre>\n</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":14357818,"reputation":213,"user_id":10371141,"display_name":"Dark Rebellion"},"score":0,"creation_date":1673373718,"post_id":75074023,"comment_id":132482663,"body_markdown":"I got the idea exactly from seeing how ArrayLists get implemented, that is by creating a new array with greater length and copying all the items from the original array. But I am stuck at making it look like &quot;array.add(5)&quot; rather than &quot;array = add(array, 5)&quot;","body":"I got the idea exactly from seeing how ArrayLists get implemented, that is by creating a new array with greater length and copying all the items from the original array. But I am stuck at making it look like &quot;array.add(5)&quot; rather than &quot;array = add(array, 5)&quot;"}],"tags":[],"owner":{"account_id":25959386,"reputation":1,"user_id":19676247,"display_name":"Tarun Pura"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673373467,"creation_date":1673373467,"answer_id":75074023,"question_id":75073262,"body_markdown":"I think you should take a reference of How ArrayList is getting implemented and how its size increases dynamically. Since it uses Array internally for the implementation, you might get some suggestions from there. ","title":"How to add a method to &quot;the array class&quot; in Java?","body":"<p>I think you should take a reference of How ArrayList is getting implemented and how its size increases dynamically. Since it uses Array internally for the implementation, you might get some suggestions from there.</p>\n"},{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673379946,"creation_date":1673379946,"answer_id":75075088,"question_id":75073262,"body_markdown":"What you&#39;re asking for are called [&quot;extension methods&quot; in C#][1], but as others have already answered, they don&#39;t exist in Java. However, [Project Lombok][2] (which is full of very useful features that most professional Java developers should be aware of and use), implements them with [a simple annotation][3].\r\n\r\nHere&#39;s an example:\r\n\r\n```java\r\npackage so_75073262;\r\n\r\npublic class ArrayExtensions {\r\n\r\n\tpublic static int[] add(int[] oldArray, int value) {\r\n\t\tint n = oldArray.length;\r\n\t\tint[] newArray = new int[n + 1];\r\n\r\n\t\tfor (int i = 0; i &lt; n; i++) {\r\n\t\t\tnewArray[i] = oldArray[i];\r\n\t\t}\r\n\t\tnewArray[n] = value;\r\n\t\treturn newArray;\r\n\t}\r\n}\r\n```\r\n```java\r\npackage so_75073262;\r\n\r\nimport lombok.experimental.ExtensionMethod;\r\n\r\n@ExtensionMethod(ArrayExtensions.class)\r\npublic class Usage {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint[] original = {2,5};\r\n\t\tint[] modified = original.add(7);\r\n\r\n\t\tSystem.out.println(modified[0]);\r\n\t\tSystem.out.println(modified[1]);\r\n\t\tSystem.out.println(modified[2]);\r\n\t}\r\n}\r\n```\r\n\r\nLombok is a form of &quot;magic&quot; and probably would get &quot;interesting&quot; responses from some course instructors; I&#39;m not sure I&#39;d recommend using this in an introductory Java class. But it&#39;s still useful to know about; it&#39;s a powerful tool to have in your toolbox, and can help keep code tidy and uncluttered.\r\n\r\n  [1]: https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/extension-methods\r\n  [2]: https://projectlombok.org/\r\n  [3]: https://projectlombok.org/features/experimental/ExtensionMethod","title":"How to add a method to &quot;the array class&quot; in Java?","body":"<p>What you're asking for are called <a href=\"https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/extension-methods\" rel=\"nofollow noreferrer\">&quot;extension methods&quot; in C#</a>, but as others have already answered, they don't exist in Java. However, <a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\">Project Lombok</a> (which is full of very useful features that most professional Java developers should be aware of and use), implements them with <a href=\"https://projectlombok.org/features/experimental/ExtensionMethod\" rel=\"nofollow noreferrer\">a simple annotation</a>.</p>\n<p>Here's an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package so_75073262;\n\npublic class ArrayExtensions {\n\n    public static int[] add(int[] oldArray, int value) {\n        int n = oldArray.length;\n        int[] newArray = new int[n + 1];\n\n        for (int i = 0; i &lt; n; i++) {\n            newArray[i] = oldArray[i];\n        }\n        newArray[n] = value;\n        return newArray;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package so_75073262;\n\nimport lombok.experimental.ExtensionMethod;\n\n@ExtensionMethod(ArrayExtensions.class)\npublic class Usage {\n\n    public static void main(String[] args) {\n        int[] original = {2,5};\n        int[] modified = original.add(7);\n\n        System.out.println(modified[0]);\n        System.out.println(modified[1]);\n        System.out.println(modified[2]);\n    }\n}\n</code></pre>\n<p>Lombok is a form of &quot;magic&quot; and probably would get &quot;interesting&quot; responses from some course instructors; I'm not sure I'd recommend using this in an introductory Java class. But it's still useful to know about; it's a powerful tool to have in your toolbox, and can help keep code tidy and uncluttered.</p>\n"}],"owner":{"account_id":14357818,"reputation":213,"user_id":10371141,"display_name":"Dark Rebellion"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1673379946,"creation_date":1673369274,"question_id":75073262,"body_markdown":"I have built a static method that adds an element to an array (which has a fixed size). You don&#39;t have to look at the entire method, it just creates a new array with a greater length and adds an element at the end of it, then returns the new array.\r\n```\r\nstatic int[] add(int[] oldArray, int value){\r\n\tint n = oldArray.length;\r\n\tint[] newArray = new int[n+1];\r\n\tfor(int i=0; i&lt;n; i++){\r\n\t\tnewArray[i]=oldArray[i];\r\n\t}\r\n\tnewArray[n] = value;\r\n\treturn newArray;\r\n}\r\n```\r\nThe method is supposed to be used as follows\r\n```\r\nint[] a = {2, 5};\r\na = add(a, 7);\r\n```\r\nNow the array a has three elements instead of two, namely 2, 5 and 7. The problem is, this is still a little messy. Is there a way to implement the method as non-static (in a &quot;predefined array class&quot; or something? I&#39;m not too sure how to express it better) in such a way that it would work as follows instead?\r\n```\r\nint[] a = {2, 5};\r\na.add(7);\r\n```\r\nI&#39;m trying to achieve this without using ArrayLists and NestedLists.","title":"How to add a method to &quot;the array class&quot; in Java?","body":"<p>I have built a static method that adds an element to an array (which has a fixed size). You don't have to look at the entire method, it just creates a new array with a greater length and adds an element at the end of it, then returns the new array.</p>\n<pre><code>static int[] add(int[] oldArray, int value){\n    int n = oldArray.length;\n    int[] newArray = new int[n+1];\n    for(int i=0; i&lt;n; i++){\n        newArray[i]=oldArray[i];\n    }\n    newArray[n] = value;\n    return newArray;\n}\n</code></pre>\n<p>The method is supposed to be used as follows</p>\n<pre><code>int[] a = {2, 5};\na = add(a, 7);\n</code></pre>\n<p>Now the array a has three elements instead of two, namely 2, 5 and 7. The problem is, this is still a little messy. Is there a way to implement the method as non-static (in a &quot;predefined array class&quot; or something? I'm not too sure how to express it better) in such a way that it would work as follows instead?</p>\n<pre><code>int[] a = {2, 5};\na.add(7);\n</code></pre>\n<p>I'm trying to achieve this without using ArrayLists and NestedLists.</p>\n"},{"tags":["java","spring-boot","apache-camel","spring-boot-test","springmockito"],"answers":[{"tags":[],"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673379847,"creation_date":1673379847,"answer_id":75075072,"question_id":75072614,"body_markdown":"You can enable _advice with_ in the unit test - then you need to start Camel manually.\r\n\r\nhttps://camel.apache.org/manual/advice-with.html#_enabling_advice_during_testing","title":"How to mock Apache Camel Route before CamelContext is started in CamelSpringBootTest","body":"<p>You can enable <em>advice with</em> in the unit test - then you need to start Camel manually.</p>\n<p><a href=\"https://camel.apache.org/manual/advice-with.html#_enabling_advice_during_testing\" rel=\"nofollow noreferrer\">https://camel.apache.org/manual/advice-with.html#_enabling_advice_during_testing</a></p>\n"}],"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673379847,"creation_date":1673366333,"question_id":75072614,"body_markdown":"Maybe a rather uncommon issue, but I&#39;d like to **mock** certain Camel routes, in the **JUnit setup method** \r\n\r\n\r\n```\r\n@BeforeEach\r\nvoid setUp() {\r\n}\r\n```\r\n\r\n\r\n**before** the \r\n\r\n\r\n```\r\n@Override\r\npublic void configure() throws Exception {\r\n\r\n}\r\n```\r\n\r\n**is executed**, which seems to happen, as soon as the **CamelContext** is autowired\r\n\r\n\r\n```\r\n@Autowired\r\nprotected CamelContext camelContext;\r\n\r\n```\r\n\r\n\r\n**What do I need to do, to prevent autostarting of the Camel Context, in order to be able to mock my routes in the setup method and start it manually?**\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to mock Apache Camel Route before CamelContext is started in CamelSpringBootTest","body":"<p>Maybe a rather uncommon issue, but I'd like to <strong>mock</strong> certain Camel routes, in the <strong>JUnit setup method</strong></p>\n<pre><code>@BeforeEach\nvoid setUp() {\n}\n</code></pre>\n<p><strong>before</strong> the</p>\n<pre><code>@Override\npublic void configure() throws Exception {\n\n}\n</code></pre>\n<p><strong>is executed</strong>, which seems to happen, as soon as the <strong>CamelContext</strong> is autowired</p>\n<pre><code>@Autowired\nprotected CamelContext camelContext;\n\n</code></pre>\n<p><strong>What do I need to do, to prevent autostarting of the Camel Context, in order to be able to mock my routes in the setup method and start it manually?</strong></p>\n"},{"tags":["java","android","notifications"],"owner":{"account_id":27491861,"reputation":11,"user_id":20977067,"display_name":"20_028_Yash _Vajapara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1673379651,"creation_date":1673379651,"question_id":75075037,"body_markdown":"[How can I fix this in mediastylenotifications?](https://i.stack.imgur.com/ID4PP.jpg)\r\n\r\n[I want to do that ](https://i.stack.imgur.com/ojiVM.jpg)","title":"Mediastyle notification not proper seen when screen is lock","body":"<p><a href=\"https://i.stack.imgur.com/ID4PP.jpg\" rel=\"nofollow noreferrer\">How can I fix this in mediastylenotifications?</a></p>\n<p><a href=\"https://i.stack.imgur.com/ojiVM.jpg\" rel=\"nofollow noreferrer\">I want to do that </a></p>\n"},{"tags":["java","swing","javafx","jfxpanel"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1673375048,"post_id":75074229,"comment_id":132483052,"body_markdown":"Do you need to mix JavaFX and Swing? This isn&#39;t really recommended. If you really need to do that, you&#39;ll need to pass a reference to the `JFrame` to the controller, and have the controller call `setVisible(false)` on the `JFrame` (which will need to be done on the AWT event dispatching thread, not on the FX Application Thread).","body":"Do you need to mix JavaFX and Swing? This isn&#39;t really recommended. If you really need to do that, you&#39;ll need to pass a reference to the <code>JFrame</code> to the controller, and have the controller call <code>setVisible(false)</code> on the <code>JFrame</code> (which will need to be done on the AWT event dispatching thread, not on the FX Application Thread)."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1673375756,"post_id":75074229,"comment_id":132483250,"body_markdown":"In my previous comment, I&#39;m assuming you want to close the actual window (which is what the code would do if you were displaying in a stage). Obviously, if you want to display a different FXML in the same panel, you don&#39;t need any of this. Your question says &quot;I am trying to close the current *fxml* to move to the next one&quot; (my emphasis), but the question you link is about closing the current *window*. What exactly do you want to do?","body":"In my previous comment, I&#39;m assuming you want to close the actual window (which is what the code would do if you were displaying in a stage). Obviously, if you want to display a different FXML in the same panel, you don&#39;t need any of this. Your question says &quot;I am trying to close the current <i>fxml</i> to move to the next one&quot; (my emphasis), but the question you link is about closing the current <i>window</i>. What exactly do you want to do?"},{"owner":{"account_id":19519664,"reputation":15,"user_id":14281832,"display_name":"Minh Long Vu"},"score":0,"creation_date":1673375878,"post_id":75074229,"comment_id":132483271,"body_markdown":"@James_D it follows the instruction in my assignment and I&#39;m not allowed to change it. I&#39;ll try your suggestion and give an update later.","body":"@James_D it follows the instruction in my assignment and I&#39;m not allowed to change it. I&#39;ll try your suggestion and give an update later."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1673375917,"post_id":75074229,"comment_id":132483280,"body_markdown":"So what does it actually say to do? Close the window? Or just display another FXML?","body":"So what does it actually say to do? Close the window? Or just display another FXML?"},{"owner":{"account_id":19519664,"reputation":15,"user_id":14281832,"display_name":"Minh Long Vu"},"score":0,"creation_date":1673376288,"post_id":75074229,"comment_id":132483388,"body_markdown":"The way I am working right now is it opens a new window for each fxml. The idea to display another FXML in the same panel didn&#39;t occur in my head. It should actually be better to do that.\nI still need to also return to the interface created by swing however. For this specific action, I should do as your first comment?","body":"The way I am working right now is it opens a new window for each fxml. The idea to display another FXML in the same panel didn&#39;t occur in my head. It should actually be better to do that. I still need to also return to the interface created by swing however. For this specific action, I should do as your first comment?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1673384876,"post_id":75074229,"comment_id":132485948,"body_markdown":"It should also be noted that the cast in the original question you linked is unnecessary. You can just do `closeButton.getScene().getWindow().hide()`, and for a `Stage` (the context for the original question), `close()` is equivalent to the superclass method `hide()`. The `EmbeddedWindow` that is returned by `getWindow()` when the scene is displayed in a `JFXPanel` is of course a subclass of `Window`, so you can make the same call here, though I have no idea what it will actually do (i.e. I don&#39;t know what the implementation of `EmbeddedWindow.hide()` is).","body":"It should also be noted that the cast in the original question you linked is unnecessary. You can just do <code>closeButton.getScene().getWindow().hide()</code>, and for a <code>Stage</code> (the context for the original question), <code>close()</code> is equivalent to the superclass method <code>hide()</code>. The <code>EmbeddedWindow</code> that is returned by <code>getWindow()</code> when the scene is displayed in a <code>JFXPanel</code> is of course a subclass of <code>Window</code>, so you can make the same call here, though I have no idea what it will actually do (i.e. I don&#39;t know what the implementation of <code>EmbeddedWindow.hide()</code> is)."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1673399087,"post_id":75074229,"comment_id":132488829,"body_markdown":"*“it follows the instruction in my assignment and I&#39;m not allowed to change it”* -&gt; it boggles the mind that somebody would actually create an assignment requiring mixing JavaFX and Swing/AWT.","body":"<i>“it follows the instruction in my assignment and I&#39;m not allowed to change it”</i> -&gt; it boggles the mind that somebody would actually create an assignment requiring mixing JavaFX and Swing/AWT."}],"answers":[{"comments":[{"owner":{"account_id":19519664,"reputation":15,"user_id":14281832,"display_name":"Minh Long Vu"},"score":0,"creation_date":1673379212,"post_id":75074730,"comment_id":132484259,"body_markdown":"I don&#39;t understand this part: `Runnable windowCloser = () -&gt; SwingUtilities.runLater(() -&gt; this.setVisible(false));`. Also it is giving me the error `The method runLater(() -&gt; {}) is undefined for the type SwingUtilities`.","body":"I don&#39;t understand this part: <code>Runnable windowCloser = () -&gt; SwingUtilities.runLater(() -&gt; this.setVisible(false));</code>. Also it is giving me the error <code>The method runLater(() -&gt; {}) is undefined for the type SwingUtilities</code>."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1673379692,"post_id":75074730,"comment_id":132484399,"body_markdown":"@MinhLongVu Sorry, `SwingUtilities.invokeLater(...)` (my Swing knowledge is almost never used these days). What don&#39;t you understand about the code?","body":"@MinhLongVu Sorry, <code>SwingUtilities.invokeLater(...)</code> (my Swing knowledge is almost never used these days). What don&#39;t you understand about the code?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1673379698,"post_id":75074730,"comment_id":132484402,"body_markdown":"@MinhLongVu `SwingUtilties.invokeLater(...)` schedules the `Runnable` to run on the _event-dispatch thread_ (EDT). That&#39;s the Swing UI thread. The equivalent in JavaFX is `Platform.runLater(...)`, which schedules the `Runnable` to run on the _JavaFX Application Thread_ (the JavaFX UI thread). The `() -&gt; ...` bits are lambda expressions. If you don&#39;t understand lambdas, check out https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html or https://www.geeksforgeeks.org/lambda-expressions-java-8/","body":"@MinhLongVu <code>SwingUtilties.invokeLater(...)</code> schedules the <code>Runnable</code> to run on the <i>event-dispatch thread</i> (EDT). That&#39;s the Swing UI thread. The equivalent in JavaFX is <code>Platform.runLater(...)</code>, which schedules the <code>Runnable</code> to run on the <i>JavaFX Application Thread</i> (the JavaFX UI thread). The <code>() -&gt; ...</code> bits are lambda expressions. If you don&#39;t understand lambdas, check out <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/javaOO/&hellip;</a> or <a href=\"https://www.geeksforgeeks.org/lambda-expressions-java-8/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/lambda-expressions-java-8</a>"},{"owner":{"account_id":19519664,"reputation":15,"user_id":14281832,"display_name":"Minh Long Vu"},"score":0,"creation_date":1673379956,"post_id":75074730,"comment_id":132484462,"body_markdown":"Yes, invokeLater worked. I also tried changing SwingUtilities.runLater(...) to Platform.runLater(...) and it also worked at closing the window. Are they any different?","body":"Yes, invokeLater worked. I also tried changing SwingUtilities.runLater(...) to Platform.runLater(...) and it also worked at closing the window. Are they any different?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1673379956,"post_id":75074730,"comment_id":132484463,"body_markdown":"If it&#39;s the &quot;nested lambda&quot; that is confusing, just consider it as `Runnable r = () -&gt; this.setVisible(false);`. Then `r` is a `Runnable` that closes the window, but it must be run on the AWT Event Dispatch Thread, so to pass it to the FXML controller, you need `Runnable windowCloser = () -&gt; SwingUtilities.invokeLater(r);`.","body":"If it&#39;s the &quot;nested lambda&quot; that is confusing, just consider it as <code>Runnable r = () -&gt; this.setVisible(false);</code>. Then <code>r</code> is a <code>Runnable</code> that closes the window, but it must be run on the AWT Event Dispatch Thread, so to pass it to the FXML controller, you need <code>Runnable windowCloser = () -&gt; SwingUtilities.invokeLater(r);</code>."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1673380119,"post_id":75074730,"comment_id":132484535,"body_markdown":"@MinhLongVu `Platform.runLater(...)` is incorrect there.  That would close the Swing window on the FX Application Thread, which is [not allowed](https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/javax/swing/package-summary.html).","body":"@MinhLongVu <code>Platform.runLater(...)</code> is incorrect there.  That would close the Swing window on the FX Application Thread, which is <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/javax/swing/package-summary.html\" rel=\"nofollow noreferrer\">not allowed</a>."}],"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":6,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1673379645,"creation_date":1673377734,"answer_id":75074730,"question_id":75074229,"body_markdown":"To close the containing `JFrame` in a mixed Swing and JavaFX application, from a JavaFX controller, you need to provide the controller with sufficient information to close the window. Probably the best way to decouple this properly is to just have a `Runnable` in the controller that knows how to close the window:\r\n\r\n    public class ScreenController {\r\n    \r\n        private Runnable windowCloser ;\r\n    \r\n        public void setWindowCloser(Runnable windowCloser) {\r\n            this.windowCloser = windowCloser;\r\n        }\r\n    \r\n        // ...\r\n    \r\n        @FXML\r\n        private void closeButtonAction(){\r\n            \r\n            // do what you have to do\r\n\r\n            // close the current window:\r\n            windowCloser.run();\r\n        }\r\n    \r\n        // ...\r\n    }\r\n\r\nAnd then:\r\n\r\n        JFXPanel fxPanel = new JFXPanel();\r\n        this.add(fxPanel);\r\n        \r\n        this.setTitle(&quot;Title&quot;);\r\n        this.setSize(1024, 768);\r\n        this.setVisible(true);\r\n\r\n        // Assuming this is a JFrame subclass\r\n        // (otherwise replace &quot;this&quot; with a reference to the JFrame):\r\n\r\n        Runnable windowCloser = () -&gt; SwingUtilities.invokeLater(\r\n            () -&gt; this.setVisible(false)\r\n        );\r\n\r\n        Platform.runLater(() -&gt; {\r\n\r\n            try {\r\n                FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;&lt;String url to my fxml file&gt;&quot;));\r\n                ScreenController controller = new ScreenController();\r\n\r\n                controller.setWindowCloser(windowCloser);\r\n\r\n                loader.setController(controller);\r\n                Parent root = loader.load();\r\n                fxPanel.setScene(new Scene(root));\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        });\r\n\r\nYou should also consider just loading the FXML into the current `JFXPanel`, which is much easier:\r\n\r\n    public class ScreenController {\r\n    \r\n    \r\n        // ...\r\n    \r\n        @FXML\r\n        private Button closeButton;\r\n    \r\n        @FXML\r\n        private void closeButtonAction(){\r\n    \r\n            Parent root = /* load next FXML */ ;\r\n            closeButton.getScene().setRoot(root);\r\n        }\r\n    \r\n        // ...\r\n    }","title":"Cannot get JavaFx Stage from Node because class com.sun.javafx.stage.EmbeddedWindow cannot be cast to class javafx.stage.Stage","body":"<p>To close the containing <code>JFrame</code> in a mixed Swing and JavaFX application, from a JavaFX controller, you need to provide the controller with sufficient information to close the window. Probably the best way to decouple this properly is to just have a <code>Runnable</code> in the controller that knows how to close the window:</p>\n<pre><code>public class ScreenController {\n\n    private Runnable windowCloser ;\n\n    public void setWindowCloser(Runnable windowCloser) {\n        this.windowCloser = windowCloser;\n    }\n\n    // ...\n\n    @FXML\n    private void closeButtonAction(){\n        \n        // do what you have to do\n\n        // close the current window:\n        windowCloser.run();\n    }\n\n    // ...\n}\n</code></pre>\n<p>And then:</p>\n<pre><code>    JFXPanel fxPanel = new JFXPanel();\n    this.add(fxPanel);\n    \n    this.setTitle(&quot;Title&quot;);\n    this.setSize(1024, 768);\n    this.setVisible(true);\n\n    // Assuming this is a JFrame subclass\n    // (otherwise replace &quot;this&quot; with a reference to the JFrame):\n\n    Runnable windowCloser = () -&gt; SwingUtilities.invokeLater(\n        () -&gt; this.setVisible(false)\n    );\n\n    Platform.runLater(() -&gt; {\n\n        try {\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;&lt;String url to my fxml file&gt;&quot;));\n            ScreenController controller = new ScreenController();\n\n            controller.setWindowCloser(windowCloser);\n\n            loader.setController(controller);\n            Parent root = loader.load();\n            fxPanel.setScene(new Scene(root));\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    });\n</code></pre>\n<p>You should also consider just loading the FXML into the current <code>JFXPanel</code>, which is much easier:</p>\n<pre><code>public class ScreenController {\n\n\n    // ...\n\n    @FXML\n    private Button closeButton;\n\n    @FXML\n    private void closeButtonAction(){\n\n        Parent root = /* load next FXML */ ;\n        closeButton.getScene().setRoot(root);\n    }\n\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":19519664,"reputation":15,"user_id":14281832,"display_name":"Minh Long Vu"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75074730,"answer_count":1,"score":0,"last_activity_date":1673379645,"creation_date":1673374679,"question_id":75074229,"body_markdown":"I am trying to close the current fxml to move to the next one. I followed the reply from this question: [close fxml window by code, javafx][1]:\r\n```java\r\n@FXML private javafx.scene.control.Button closeButton;\r\n\r\n@FXML\r\nprivate void closeButtonAction(){\r\n    // get a handle to the stage\r\n    Stage stage = (Stage) closeButton.getScene().getWindow();\r\n    // do what you have to do\r\n    stage.close();\r\n}\r\n```\r\nAnd I encountered the same problem as the unanswered comment below it:\r\n```\r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.ClassCastException: com.sun.javafx.stage.EmbeddedWindow cannot be cast to javafx.stage.Stage\r\n```\r\nAll of the other answers also doesn&#39;t help. There are little discussion on EmbeddedWindow so I have no clue on what to do next. The previous screen was made with javax.swing, not JavaFx, and the transition is as follow:\r\n```java\r\nimport javafx.embed.swing.JFXPanel;\r\n\r\n// more code\r\n\r\n        JFXPanel fxPanel = new JFXPanel();\r\n\t\tthis.add(fxPanel);\r\n\t\t\r\n\t\tthis.setTitle(&quot;Title&quot;);\r\n\t\tthis.setSize(1024, 768);\r\n\t\tthis.setVisible(true);\r\n\t\tPlatform.runLater(new Runnable() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\ttry {\r\n\t\t\t\t\tFXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;&lt;String url to my fxml file&gt;&quot;));\r\n\t\t\t\t\tScreenController controller = new ScreenController();\r\n\t\t\t\t\tloader.setController(controller);\r\n\t\t\t\t\tParent root = loader.load();\r\n\t\t\t\t\tfxPanel.setScene(new Scene(root));\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n// more code\r\n```\r\nBy the time I&#39;m done writing the context, I think the problem may lie in the usage of JFXPanel, but I can&#39;t find a solution either. So helps are appreciated. Thanks!\r\n\r\n  [1]: https://stackoverflow.com/questions/13567019/close-fxml-window-by-code-javafx","title":"Cannot get JavaFx Stage from Node because class com.sun.javafx.stage.EmbeddedWindow cannot be cast to class javafx.stage.Stage","body":"<p>I am trying to close the current fxml to move to the next one. I followed the reply from this question: <a href=\"https://stackoverflow.com/questions/13567019/close-fxml-window-by-code-javafx\">close fxml window by code, javafx</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FXML private javafx.scene.control.Button closeButton;\n\n@FXML\nprivate void closeButtonAction(){\n    // get a handle to the stage\n    Stage stage = (Stage) closeButton.getScene().getWindow();\n    // do what you have to do\n    stage.close();\n}\n</code></pre>\n<p>And I encountered the same problem as the unanswered comment below it:</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.ClassCastException: com.sun.javafx.stage.EmbeddedWindow cannot be cast to javafx.stage.Stage\n</code></pre>\n<p>All of the other answers also doesn't help. There are little discussion on EmbeddedWindow so I have no clue on what to do next. The previous screen was made with javax.swing, not JavaFx, and the transition is as follow:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.embed.swing.JFXPanel;\n\n// more code\n\n        JFXPanel fxPanel = new JFXPanel();\n        this.add(fxPanel);\n        \n        this.setTitle(&quot;Title&quot;);\n        this.setSize(1024, 768);\n        this.setVisible(true);\n        Platform.runLater(new Runnable() {\n            \n            @Override\n            public void run() {\n                // TODO Auto-generated method stub\n                try {\n                    FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;&lt;String url to my fxml file&gt;&quot;));\n                    ScreenController controller = new ScreenController();\n                    loader.setController(controller);\n                    Parent root = loader.load();\n                    fxPanel.setScene(new Scene(root));\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n\n// more code\n</code></pre>\n<p>By the time I'm done writing the context, I think the problem may lie in the usage of JFXPanel, but I can't find a solution either. So helps are appreciated. Thanks!</p>\n"},{"tags":["java","localdate","localdatetime"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1673323594,"post_id":75065328,"comment_id":132467618,"body_markdown":"By &quot;more than current hour&quot;, do you mean more than 1 hour, or the hour component just has to be more? In other words, would shipping time being 00:59:59 and the current time being 01:00:00 fulfil the condition? The same goes for the second condition. Does it need to be 24 hours more, or are you only looking at the calendar day?","body":"By &quot;more than current hour&quot;, do you mean more than 1 hour, or the hour component just has to be more? In other words, would shipping time being 00:59:59 and the current time being 01:00:00 fulfil the condition? The same goes for the second condition. Does it need to be 24 hours more, or are you only looking at the calendar day?"},{"owner":{"account_id":2204191,"reputation":63,"user_id":1947796,"display_name":"Omar Abdullwahhab"},"score":0,"creation_date":1673324078,"post_id":75065328,"comment_id":132467672,"body_markdown":"The LocalDateTime class has getHour(), getMinute(), and getSecond() methods you can use it for comparing the time fields, you can have a look at the LocalDateTime api here https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html","body":"The LocalDateTime class has getHour(), getMinute(), and getSecond() methods you can use it for comparing the time fields, you can have a look at the LocalDateTime api here <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.ht&zwnj;&#8203;ml</a>"},{"owner":{"account_id":4644332,"reputation":29,"user_id":3763183,"display_name":"user3763183"},"score":0,"creation_date":1673325691,"post_id":75065328,"comment_id":132467865,"body_markdown":"more than 1 hour","body":"more than 1 hour"},{"owner":{"account_id":4644332,"reputation":29,"user_id":3763183,"display_name":"user3763183"},"score":0,"creation_date":1673325817,"post_id":75065328,"comment_id":132467892,"body_markdown":"If shipping date and current date is same and Shipping Time 8 PM and Current Time 7PM  then condition true :  Deliver Today at 8 PM","body":"If shipping date and current date is same and Shipping Time 8 PM and Current Time 7PM  then condition true :  Deliver Today at 8 PM"},{"owner":{"account_id":4644332,"reputation":29,"user_id":3763183,"display_name":"user3763183"},"score":0,"creation_date":1673325882,"post_id":75065328,"comment_id":132467903,"body_markdown":"If shipping date equals to tomorrow current date is same and Shipping Time 8 PM and Current Time 7PM then. : Deliver Tomorrow 8PM","body":"If shipping date equals to tomorrow current date is same and Shipping Time 8 PM and Current Time 7PM then. : Deliver Tomorrow 8PM"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1673326455,"post_id":75065328,"comment_id":132467959,"body_markdown":"Maybe 1) `current.toLocalDate().isEqual(shipping.toLocalDate()) &amp;&amp; shipping.getHour() &gt; current.getHour()`?","body":"Maybe 1) <code>current.toLocalDate().isEqual(shipping.toLocalDate()) &amp;&amp; shipping.getHour() &gt; current.getHour()</code>?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1673326480,"post_id":75065328,"comment_id":132467964,"body_markdown":"And 2) `current.toLocalDate().plusDays(1).isEqual(shipping.toLocalDate())`?","body":"And 2) <code>current.toLocalDate().plusDays(1).isEqual(shipping.toLocalDa&zwnj;&#8203;te())</code>?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1673333318,"post_id":75065328,"comment_id":132469132,"body_markdown":"For 1) the last part of the condition is `shippingdate.isAfter(currentDateTime.plusHours(1))`.  I think. Also @Slaw","body":"For 1) the last part of the condition is <code>shippingdate.isAfter(currentDateTime.plusHours(1))</code>.  I think. Also @Slaw"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1673334970,"post_id":75065328,"comment_id":132469505,"body_markdown":"`compareTo()` only tells you which date-time is after which one, not by how much.","body":"<code>compareTo()</code> only tells you which date-time is after which one, not by how much."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1673335394,"post_id":75065328,"comment_id":132469606,"body_markdown":"Is your shipping input meant to represent a date and time as seen with an offset from UTC of zero hours-minutes-seconds? Your code implies that, but you should say so explicitly.","body":"Is your shipping input meant to represent a date and time as seen with an offset from UTC of zero hours-minutes-seconds? Your code implies that, but you should say so explicitly."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673336478,"post_id":75065328,"comment_id":132469885,"body_markdown":"In addition to what @BasilBourque says the question of &quot;same date&quot; depends heavily on time zone. You may not want to use UTC here?? Would the user expect it to use their time zone?","body":"In addition to what @BasilBourque says the question of &quot;same date&quot; depends heavily on time zone. You may not want to use UTC here?? Would the user expect it to use their time zone?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1673336698,"post_id":75065328,"comment_id":132469964,"body_markdown":"You should be editing your Question, rewriting to make it clear and specific.","body":"You should be editing your Question, rewriting to make it clear and specific."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673379298,"creation_date":1673336580,"answer_id":75066865,"question_id":75065328,"body_markdown":"# `LocalDateTime` cannot represent a moment\r\n\r\nOne problem is your inappropriate use of the `LocalDateTime` class. That class purposely lacks the context of a time zone or office from UTC. So that class cannot represent a moment, a specific point on the timeline. Yet you are trying to track moments, apparently. \r\n\r\nIf handed a date and time only, parse as a `LocalDateTime`. \r\n\r\n    LocalDateTime ldt = LocalDateTime.parse( &quot;2023-01-11T01:25:59&quot; ) ;\r\n\r\n# `OffsetDateTime`\r\n\r\nBut if you are certain that date and time was meant to represent a moment as seen with an offset of zero, immediately convert to an [`OffsetDateTime`][1]. Meanwhile, educate the publisher of your input data about their failure to communicate all three pieces of vital info (date, time, *and* offset/zone). \r\n\r\n    OffsetDateTime odt = ldt.atOffset( ZoneOffset.UTC ) ; \r\n\r\nThe idea here is to “tell the truth”. If the intention is a date with time as seen in UTC, then our code should represent a date with time as seen in UTC. \r\n\r\nApparently you want to compare this date-time in UTC against the current moment as seen in UTC. \r\n\r\n    OffsetDateTime now = OffsetDateTime.now( ZoneOffset.UTC ) ;\r\n\r\n# `LocalDate`\r\n\r\nYour primary concern is the date. \r\n\r\n    LocalDate shippingDate = odt.toLocalDate() ;\r\n    LocalDate today = now.toLocalDate() ;\r\n    LocalDate tomorrow = today.plusDays( 1 ) ;\r\n\r\n    if ( shippingDate.isBefore( today ) { … is past }\r\n    else if ( shippingDate.isEqual( today ) { … is today }\r\n    else if ( shippingDate.isEqual( tomorrow ) { … is tomorrow }\r\n    else if ( shippingDate.isAfter( tomorrow ) { … is future }\r\n    else { … throw exception because we should never reach this point }\r\n\r\n# `OffsetDateTime#getHour`\r\n\r\nYour secondary concern was apparently that you want to know, if today, is the target hour the same as the current hour. Your writing is not at all clear on this point, but that is my guess. \r\n\r\nSo add a nested test within the “is equal to today” test branch above. \r\n\r\n    if( odt.getHour() == now.getHour() ) { … same clock hour }\r\n\r\nOr perhaps you want to test for a later, future hour. \r\n\r\n    if( odt.getHour() &gt; now.getHour() ) { … later, future hour }\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/OffsetDateTime.html","title":"how compare localdatetime with current date including hours in java","body":"<h1><code>LocalDateTime</code> cannot represent a moment</h1>\n<p>One problem is your inappropriate use of the <code>LocalDateTime</code> class. That class purposely lacks the context of a time zone or office from UTC. So that class cannot represent a moment, a specific point on the timeline. Yet you are trying to track moments, apparently.</p>\n<p>If handed a date and time only, parse as a <code>LocalDateTime</code>.</p>\n<pre><code>LocalDateTime ldt = LocalDateTime.parse( &quot;2023-01-11T01:25:59&quot; ) ;\n</code></pre>\n<h1><code>OffsetDateTime</code></h1>\n<p>But if you are certain that date and time was meant to represent a moment as seen with an offset of zero, immediately convert to an <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/OffsetDateTime.html\" rel=\"nofollow noreferrer\"><code>OffsetDateTime</code></a>. Meanwhile, educate the publisher of your input data about their failure to communicate all three pieces of vital info (date, time, <em>and</em> offset/zone).</p>\n<pre><code>OffsetDateTime odt = ldt.atOffset( ZoneOffset.UTC ) ; \n</code></pre>\n<p>The idea here is to “tell the truth”. If the intention is a date with time as seen in UTC, then our code should represent a date with time as seen in UTC.</p>\n<p>Apparently you want to compare this date-time in UTC against the current moment as seen in UTC.</p>\n<pre><code>OffsetDateTime now = OffsetDateTime.now( ZoneOffset.UTC ) ;\n</code></pre>\n<h1><code>LocalDate</code></h1>\n<p>Your primary concern is the date.</p>\n<pre><code>LocalDate shippingDate = odt.toLocalDate() ;\nLocalDate today = now.toLocalDate() ;\nLocalDate tomorrow = today.plusDays( 1 ) ;\n\nif ( shippingDate.isBefore( today ) { … is past }\nelse if ( shippingDate.isEqual( today ) { … is today }\nelse if ( shippingDate.isEqual( tomorrow ) { … is tomorrow }\nelse if ( shippingDate.isAfter( tomorrow ) { … is future }\nelse { … throw exception because we should never reach this point }\n</code></pre>\n<h1><code>OffsetDateTime#getHour</code></h1>\n<p>Your secondary concern was apparently that you want to know, if today, is the target hour the same as the current hour. Your writing is not at all clear on this point, but that is my guess.</p>\n<p>So add a nested test within the “is equal to today” test branch above.</p>\n<pre><code>if( odt.getHour() == now.getHour() ) { … same clock hour }\n</code></pre>\n<p>Or perhaps you want to test for a later, future hour.</p>\n<pre><code>if( odt.getHour() &gt; now.getHour() ) { … later, future hour }\n</code></pre>\n"}],"owner":{"account_id":4644332,"reputation":29,"user_id":3763183,"display_name":"user3763183"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673379298,"creation_date":1673323127,"question_id":75065328,"body_markdown":"My Local date Time(Shipping) in the format like &quot;2023-01-11T01:25:59&quot;\r\n\r\nI need to compare with current time do the below conditions\r\n\r\n1) If both are in same date and Shipping hour more than current hour\r\n\r\n2) Shipping Date equals next Current date ( In this case Shipping Date = 2023-01-11 == Current date + 1 day\r\n\r\nI did this but it&#39;s not working with hours\r\n\r\n```\r\nLocalDateTime shippingdate= (calling funtion)\r\nSystem.out.println(&quot;shippingdate &quot;+shippingdate);  //2023-01-11T01:25:59 \r\n\r\nLocalDateTime currentDateTime = LocalDateTime.now(ZoneId.of(&quot;UTC&quot;));\r\nSystem.out.println(&quot;currentTime &quot;+currentDateTime);   //2023-01-10T03:42:52.574994\r\n\r\nint diff = shippingdate.compareTo(currentDateTime);\r\n\r\nif (diff==1) {\r\n}\r\n\r\nif (diff &gt; 1) {\r\n}\r\n\r\n\r\nLocalDateTime currentDateTime = LocalDateTime.now(ZoneId.of(&quot;UTC&quot;));\r\n```\r\n","title":"how compare localdatetime with current date including hours in java","body":"<p>My Local date Time(Shipping) in the format like &quot;2023-01-11T01:25:59&quot;</p>\n<p>I need to compare with current time do the below conditions</p>\n<ol>\n<li><p>If both are in same date and Shipping hour more than current hour</p>\n</li>\n<li><p>Shipping Date equals next Current date ( In this case Shipping Date = 2023-01-11 == Current date + 1 day</p>\n</li>\n</ol>\n<p>I did this but it's not working with hours</p>\n<pre><code>LocalDateTime shippingdate= (calling funtion)\nSystem.out.println(&quot;shippingdate &quot;+shippingdate);  //2023-01-11T01:25:59 \n\nLocalDateTime currentDateTime = LocalDateTime.now(ZoneId.of(&quot;UTC&quot;));\nSystem.out.println(&quot;currentTime &quot;+currentDateTime);   //2023-01-10T03:42:52.574994\n\nint diff = shippingdate.compareTo(currentDateTime);\n\nif (diff==1) {\n}\n\nif (diff &gt; 1) {\n}\n\n\nLocalDateTime currentDateTime = LocalDateTime.now(ZoneId.of(&quot;UTC&quot;));\n</code></pre>\n"},{"tags":["java","unit-testing","junit","junit4","junit3"],"comments":[{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1380111386,"post_id":19004611,"comment_id":28076390,"body_markdown":"Debug your test and inspect the value of `val` right before that `assertTrue` statement. Is it still 5?","body":"Debug your test and inspect the value of <code>val</code> right before that <code>assertTrue</code> statement. Is it still 5?"}],"answers":[{"tags":[],"owner":{"account_id":2643114,"reputation":972,"user_id":2286380,"accept_rate":75,"display_name":"smajlo"},"comment_count":0,"down_vote_count":1,"up_vote_count":29,"is_accepted":true,"score":28,"last_activity_date":1380112058,"creation_date":1380111746,"answer_id":19004795,"question_id":19004611,"body_markdown":"ive tried to write quick test:\r\n\r\n    @Test\r\n    public void testName() {\r\n        int i = 5;\r\n        junit.framework.Assert.assertTrue(i == 3 || i == 5);\r\n\r\n    }\r\n\r\nits passing always so i guess there is some inbetween code when your value is changed. \r\nYou can use\r\n\r\n    org.junit.Assert.assertEquals(5, i);\r\nto check value - this assertion will print out nice info whats wrong, for example:\r\n\r\n\r\n    java.lang.AssertionError: \r\n    Expected :4\r\n    Actual   :5","title":"Junit assert OR condition in my test case","body":"<p>ive tried to write quick test:</p>\n\n<pre><code>@Test\npublic void testName() {\n    int i = 5;\n    junit.framework.Assert.assertTrue(i == 3 || i == 5);\n\n}\n</code></pre>\n\n<p>its passing always so i guess there is some inbetween code when your value is changed. \nYou can use</p>\n\n<pre><code>org.junit.Assert.assertEquals(5, i);\n</code></pre>\n\n<p>to check value - this assertion will print out nice info whats wrong, for example:</p>\n\n<pre><code>java.lang.AssertionError: \nExpected :4\nActual   :5\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3021726,"reputation":1856,"user_id":2562592,"display_name":"toongeorges"},"score":4,"creation_date":1487083534,"post_id":19064484,"comment_id":71617510,"body_markdown":"For this to work one has to include a dependency on hamcrest-library.  JUnit only depends on hamcrest-core, which does not include the Matchers class.","body":"For this to work one has to include a dependency on hamcrest-library.  JUnit only depends on hamcrest-core, which does not include the Matchers class."},{"owner":{"account_id":13455741,"reputation":4930,"user_id":9709361,"display_name":"cgrim"},"score":4,"creation_date":1549371324,"post_id":19064484,"comment_id":95871283,"body_markdown":"Tor those who don&#39;t have `Matchers` class in the Hamcrest library, you can use `org.hamcrest.CoreMatchers` instead. The example from the answer is than in this form: `assertThat(i, CoreMatchers.either(CoreMatchers.is(3)).or(CoreMatchers.is(5))`","body":"Tor those who don&#39;t have <code>Matchers</code> class in the Hamcrest library, you can use <code>org.hamcrest.CoreMatchers</code> instead. The example from the answer is than in this form: <code>assertThat(i, CoreMatchers.either(CoreMatchers.is(3)).or(CoreMatchers.is(5&zwnj;&#8203;))</code>"}],"tags":[],"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"comment_count":2,"down_vote_count":1,"up_vote_count":60,"is_accepted":false,"score":59,"last_activity_date":1473375575,"creation_date":1380352922,"answer_id":19064484,"question_id":19004611,"body_markdown":"You can use [Hamcrest matchers](http://code.google.com/p/hamcrest/wiki/Tutorial) to get a clearer error message here:\r\n\r\n    int i = 2;\r\n    assertThat(i, Matchers.either(Matchers.is(3)).or(Matchers.is(5))\r\n\r\n    or\r\n\r\n    int i = 2;\r\n    assertThat(i, Matchers.anyOf(Matchers.is(3),Matchers.is(5)));\r\n\r\nThis will more clearly explain:\r\n\r\n    Expected: (is &lt;3&gt; or is &lt;5&gt;)\r\n         but: was &lt;2&gt;\r\n\r\nshowing exactly the expectation and the incorrect value that was provided.\r\n","title":"Junit assert OR condition in my test case","body":"<p>You can use <a href=\"http://code.google.com/p/hamcrest/wiki/Tutorial\" rel=\"noreferrer\">Hamcrest matchers</a> to get a clearer error message here:</p>\n\n<pre><code>int i = 2;\nassertThat(i, Matchers.either(Matchers.is(3)).or(Matchers.is(5))\n\nor\n\nint i = 2;\nassertThat(i, Matchers.anyOf(Matchers.is(3),Matchers.is(5)));\n</code></pre>\n\n<p>This will more clearly explain:</p>\n\n<pre><code>Expected: (is &lt;3&gt; or is &lt;5&gt;)\n     but: was &lt;2&gt;\n</code></pre>\n\n<p>showing exactly the expectation and the incorrect value that was provided.</p>\n"},{"comments":[{"owner":{"account_id":7826717,"reputation":3033,"user_id":5961990,"accept_rate":29,"display_name":"garci560"},"score":0,"creation_date":1504090516,"post_id":27962617,"comment_id":78874757,"body_markdown":"You would need to define a constant for each test case; I don&#39;t think this is reasonable beyond a couple of test cases. These constants will potentially be far from the place they&#39;re used. Another readability problem: `Foo.VALID_VALUES.contains(i)` is less clear than the approach with Harmcrest matchers.\nHarmcrest also provides a matcher with contains, which would also be much better than this.","body":"You would need to define a constant for each test case; I don&#39;t think this is reasonable beyond a couple of test cases. These constants will potentially be far from the place they&#39;re used. Another readability problem: <code>Foo.VALID_VALUES.contains(i)</code> is less clear than the approach with Harmcrest matchers. Harmcrest also provides a matcher with contains, which would also be much better than this."},{"owner":{"account_id":5203,"reputation":15153,"user_id":8261,"accept_rate":78,"display_name":"Rich"},"score":3,"creation_date":1563531558,"post_id":27962617,"comment_id":100739999,"body_markdown":"The Hamcrest version is a lot better because it will print the observed value on failure. There is nothing more annoying than getting a test failure back from a long CI build which just says &quot;false was not true&quot;.","body":"The Hamcrest version is a lot better because it will print the observed value on failure. There is nothing more annoying than getting a test failure back from a long CI build which just says &quot;false was not true&quot;."}],"tags":[],"owner":{"account_id":1005292,"reputation":20271,"user_id":1019227,"display_name":"A. Rodas"},"comment_count":2,"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1421322055,"creation_date":1421322055,"answer_id":27962617,"question_id":19004611,"body_markdown":"While Harmcrest matchers can do the job, these constants can be easily refactored to a more meaninful constant, like a list of valid values. Then you can use the `contains` method to check that the value is present in the list - IMO is also easier to read:\r\n\r\n    public class Foo {\r\n        public static final List&lt;Integer&gt; VALID_VALUES = Arrays.asList(3, 5);\r\n    }\r\n\r\n    @Test\r\n    public void testName() {\r\n        int i = 5;\r\n        Assert.assertTrue(Foo.VALID_VALUES.contains(i));\r\n    }\r\n\r\n","title":"Junit assert OR condition in my test case","body":"<p>While Harmcrest matchers can do the job, these constants can be easily refactored to a more meaninful constant, like a list of valid values. Then you can use the <code>contains</code> method to check that the value is present in the list - IMO is also easier to read:</p>\n\n<pre><code>public class Foo {\n    public static final List&lt;Integer&gt; VALID_VALUES = Arrays.asList(3, 5);\n}\n\n@Test\npublic void testName() {\n    int i = 5;\n    Assert.assertTrue(Foo.VALID_VALUES.contains(i));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4395937,"reputation":2784,"user_id":3582996,"accept_rate":100,"display_name":"Mohamed Ibrahim Elsayed"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1542895636,"creation_date":1542895636,"answer_id":53432757,"question_id":19004611,"body_markdown":"In my case I wanted to do some complex assertion logic, so I simply implemented a method that returns a boolean and it did the job, the way it would be implemented in this example is as follows:\r\n\r\n    private Boolean is3or5(Integer val) {\r\n        if(val == 3 || val == 5) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\nThen do the assertion:\r\n\r\n    assertTrue(is3or5(val));\r\nOf course the method can contain more complex logic if needed\r\n\r\n","title":"Junit assert OR condition in my test case","body":"<p>In my case I wanted to do some complex assertion logic, so I simply implemented a method that returns a boolean and it did the job, the way it would be implemented in this example is as follows:</p>\n\n<pre><code>private Boolean is3or5(Integer val) {\n    if(val == 3 || val == 5) {\n        return true;\n    }\n    return false;\n}\n</code></pre>\n\n<p>Then do the assertion:</p>\n\n<pre><code>assertTrue(is3or5(val));\n</code></pre>\n\n<p>Of course the method can contain more complex logic if needed</p>\n"},{"tags":[],"owner":{"account_id":13694686,"reputation":1029,"user_id":9881679,"display_name":"Adrian Jimenez"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1673379160,"creation_date":1673379160,"answer_id":75074963,"question_id":19004611,"body_markdown":"with TestNG this is also possible\r\n\r\n    Assert.assertTrue(val == 3 || val==5)","title":"Junit assert OR condition in my test case","body":"<p>with TestNG this is also possible</p>\n<pre><code>Assert.assertTrue(val == 3 || val==5)\n</code></pre>\n"}],"owner":{"account_id":929610,"reputation":41151,"user_id":959734,"accept_rate":53,"display_name":"Leem.fin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65626,"favorite_count":0,"down_vote_count":1,"up_vote_count":38,"accepted_answer_id":19004795,"answer_count":5,"score":37,"last_activity_date":1673379160,"creation_date":1380111240,"question_id":19004611,"body_markdown":"In my test case, I get an integer value:\r\n\r\n    int val = getXXX();\r\n\r\nThen, I would like to check if `val` either equals to 3 or equals to 5 which is OK in either case. So, I did:\r\n\r\n    assertTrue(val == 3 || val==5);\r\n\r\nI run my test, the log shows `val` is 5, but my above assertion code failed with **AssertionFailedError**. Seems I can not use `assertTrue(...)` in this way, then, how to check true for OR condition?","title":"Junit assert OR condition in my test case","body":"<p>In my test case, I get an integer value:</p>\n\n<pre><code>int val = getXXX();\n</code></pre>\n\n<p>Then, I would like to check if <code>val</code> either equals to 3 or equals to 5 which is OK in either case. So, I did:</p>\n\n<pre><code>assertTrue(val == 3 || val==5);\n</code></pre>\n\n<p>I run my test, the log shows <code>val</code> is 5, but my above assertion code failed with <strong>AssertionFailedError</strong>. Seems I can not use <code>assertTrue(...)</code> in this way, then, how to check true for OR condition?</p>\n"},{"tags":["java","dictionary"],"comments":[{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":0,"creation_date":1620072879,"post_id":67374992,"comment_id":119088623,"body_markdown":"How about `animalMap.values().stream().max(Comparator.comparingInt(Animal::getWeight))`.","body":"How about <code>animalMap.values().stream().max(Comparator.comparingInt(Anim&zwnj;&#8203;al::getWeight))</code>."}],"answers":[{"tags":[],"owner":{"account_id":21480022,"reputation":128,"user_id":15827548,"display_name":"MattDog_222 Overwatch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620089663,"creation_date":1620089663,"answer_id":67377502,"question_id":67374992,"body_markdown":"If I&#39;m understanding correctly, you can make a static method that takes in an animal[]. Have a currentMax value, initialized to Double.MIN_VALUE and for each index in the array, if arr[i].getWeight() &gt; currentMax -&gt; currentMax = arr[i].getWeight(). Then return the max currentMax at the end. Add an index value if you want the location of it that stores the index of i whenever the currentMax gets updated.","title":"Find animals with the highest weight without sorted() (map&lt;String, Animal&gt; (Where Animal - class))","body":"<p>If I'm understanding correctly, you can make a static method that takes in an animal[]. Have a currentMax value, initialized to Double.MIN_VALUE and for each index in the array, if arr[i].getWeight() &gt; currentMax -&gt; currentMax = arr[i].getWeight(). Then return the max currentMax at the end. Add an index value if you want the location of it that stores the index of i whenever the currentMax gets updated.</p>\n"},{"comments":[{"owner":{"account_id":6495279,"reputation":1061,"user_id":5028085,"display_name":"AndroidEngineX"},"score":0,"creation_date":1673383440,"post_id":75074931,"comment_id":132485515,"body_markdown":"Answer is out of context","body":"Answer is out of context"}],"tags":[],"owner":{"account_id":27491916,"reputation":1,"user_id":20977115,"display_name":"zine mohamed"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673378967,"creation_date":1673378967,"answer_id":75074931,"question_id":67374992,"body_markdown":"There are many different animals that can have extremely high weights, depending on the species and whether they are domesticated or wild. Some examples of animals that can weigh a lot include:\r\n\r\nAfrican elephants can weigh up to around 6,000 kg (13,227 lbs)\r\nBlue whales can weigh up to around 200,000 kg (440,925 lbs)\r\nHippopotamuses can weigh up to around 1,500 kg (3,307 lbs)\r\nGiraffes can weigh up to around 1,200 kg (2,646 lbs)\r\nWhite rhinoceroses can weigh up to around 2,300 kg (5,071 lbs)\r\nSaltwater crocodiles can weigh up to around 1,000 kg (2,205 lbs)\r\nKeep in mind that this is not an exhaustive list and there may be other animals that weigh even more.**strong text**","title":"Find animals with the highest weight without sorted() (map&lt;String, Animal&gt; (Where Animal - class))","body":"<p>There are many different animals that can have extremely high weights, depending on the species and whether they are domesticated or wild. Some examples of animals that can weigh a lot include:</p>\n<p>African elephants can weigh up to around 6,000 kg (13,227 lbs)\nBlue whales can weigh up to around 200,000 kg (440,925 lbs)\nHippopotamuses can weigh up to around 1,500 kg (3,307 lbs)\nGiraffes can weigh up to around 1,200 kg (2,646 lbs)\nWhite rhinoceroses can weigh up to around 2,300 kg (5,071 lbs)\nSaltwater crocodiles can weigh up to around 1,000 kg (2,205 lbs)\nKeep in mind that this is not an exhaustive list and there may be other animals that weigh even more.<strong>strong text</strong></p>\n"}],"owner":{"account_id":13979350,"reputation":1,"user_id":10095925,"display_name":"Yanok"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1673378967,"creation_date":1620071463,"question_id":67374992,"body_markdown":"I have problem with task. I must find animal with the highest weight but without sorted() in map&lt;String,Animal&gt;. Probles is I cannot get the value body_wt. \r\nI tried to make it through **double maxWeight = (Collections.max(map.));** where map **Map&lt;String, Animal&gt;** but nothing works\r\n\r\nClass Animal\r\n\r\n        package com.company;\r\n    \r\n    public class Animal {\r\n        public double body_wt;\r\n        public double brain_wt;\r\n        public double non_dreaming;\r\n        public double dreaming;\r\n        public double total_sleep;\r\n        public double life_span;\r\n        public double gestation;\r\n        public int predation;\r\n        public int exposure;\r\n        public int danger;\r\n    \r\n        //getters and setters\r\n        @Override\r\n        public String toString()\r\n        {\r\n    \r\n            return &quot;AnimalCharacteristics{bodyWt=&quot;+getValue(body_wt)+&quot;, brainWt=&quot;+getValue(brain_wt)+&quot;, nonDreaming=&quot; +\r\n                    getValue(non_dreaming)+ &quot;, dreaming=&quot;+ getValue(dreaming)+ &quot;, totalSleep=&quot;+getValue(total_sleep)+\r\n                    &quot;, lifeSpan=&quot;+getValue(life_span)+&quot;, gestation=&quot;+ getValue(gestation)+&quot;, predation=&quot;+predation+&quot;, exposure=&quot;+exposure+&quot;, danger=&quot;+danger+&quot;}&quot;;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nI read Animals from txt file \r\n\r\n    public static Map&lt;String, Animal&gt; readAnimals(){\r\n        Map&lt;String, Animal&gt; animals = new HashMap &lt;&gt;();\r\n        Scanner devScanner = null;\r\n        try {\r\n            devScanner = new Scanner(new File(&quot;mammals.txt&quot;));\r\n\r\n            String species = &quot;q&quot;;\r\n            devScanner.nextLine();\r\n            while (devScanner.hasNext()) {\r\n                Animal animal = new Animal();\r\n                String nextLine = devScanner.nextLine();\r\n                String[] anData = nextLine.split(&quot;;&quot;);\r\n                for (int i = 0; i &lt; anData.length; i++) {\r\n                    if (anData[i].isEmpty()) continue;\r\n                    switch(i){\r\n                        case 0:  species = anData[0];continue;\r\n                        case 1: if(anData[1].equals(&quot;NA&quot;)){animal.setBody_wt(0);} else{ animal.setBody_wt(Double.parseDouble(anData[1]));} continue;\r\n                        case 2: if(anData[2].equals(&quot;NA&quot;)){animal.setBrain_wt(0);} else{ animal.setBrain_wt(Double.parseDouble(anData[2]));} continue;\r\n                        case 3: if(anData[3].equals(&quot;NA&quot;)){animal.setNon_dreaming(0);} else{ animal.setNon_dreaming(Double.parseDouble(anData[3]));} continue;\r\n                        case 4: if(anData[4].equals(&quot;NA&quot;)){animal.setDreaming(0);} else{ animal.setDreaming(Double.parseDouble(anData[4]));} continue;\r\n                        case 5: if(anData[5].equals(&quot;NA&quot;)){animal.setTotal_sleep(0);} else{ animal.setTotal_sleep(Double.parseDouble(anData[5]));} continue;\r\n                        case 6: if(anData[6].equals(&quot;NA&quot;)){animal.setLife_span(0);} else{ animal.setLife_span(Double.parseDouble(anData[6]));} continue;\r\n                        case 7: if(anData[7].equals(&quot;NA&quot;)){animal.setGestation(0);} else{ animal.setGestation(Double.parseDouble(anData[7]));} continue;\r\n                        case 8: if(anData[8].equals(&quot;NA&quot;)){animal.setPredation(0);} else { animal.setPredation(Integer.parseInt(anData[8]));} continue;\r\n                        case 9: if(anData[9].equals(&quot;NA&quot;)){animal.setExposure(0);} else { animal.setExposure(Integer.parseInt(anData[9]));} continue;\r\n                        case 10: if(anData[10].equals(&quot;NA&quot;)){animal.setDanger(0);} else { animal.setDanger(Integer.parseInt(anData[10]));} break;\r\n                    }\r\n                }\r\n                animals.put(species, animal);\r\n            }\r\n\r\n\r\n\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return animals;\r\n    }\r\n\r\n\r\n","title":"Find animals with the highest weight without sorted() (map&lt;String, Animal&gt; (Where Animal - class))","body":"<p>I have problem with task. I must find animal with the highest weight but without sorted() in map&lt;String,Animal&gt;. Probles is I cannot get the value body_wt.\nI tried to make it through <strong>double maxWeight = (Collections.max(map.));</strong> where map <strong>Map&lt;String, Animal&gt;</strong> but nothing works</p>\n<p>Class Animal</p>\n<pre><code>    package com.company;\n\npublic class Animal {\n    public double body_wt;\n    public double brain_wt;\n    public double non_dreaming;\n    public double dreaming;\n    public double total_sleep;\n    public double life_span;\n    public double gestation;\n    public int predation;\n    public int exposure;\n    public int danger;\n\n    //getters and setters\n    @Override\n    public String toString()\n    {\n\n        return &quot;AnimalCharacteristics{bodyWt=&quot;+getValue(body_wt)+&quot;, brainWt=&quot;+getValue(brain_wt)+&quot;, nonDreaming=&quot; +\n                getValue(non_dreaming)+ &quot;, dreaming=&quot;+ getValue(dreaming)+ &quot;, totalSleep=&quot;+getValue(total_sleep)+\n                &quot;, lifeSpan=&quot;+getValue(life_span)+&quot;, gestation=&quot;+ getValue(gestation)+&quot;, predation=&quot;+predation+&quot;, exposure=&quot;+exposure+&quot;, danger=&quot;+danger+&quot;}&quot;;\n    }\n\n}\n</code></pre>\n<p>I read Animals from txt file</p>\n<pre><code>public static Map&lt;String, Animal&gt; readAnimals(){\n    Map&lt;String, Animal&gt; animals = new HashMap &lt;&gt;();\n    Scanner devScanner = null;\n    try {\n        devScanner = new Scanner(new File(&quot;mammals.txt&quot;));\n\n        String species = &quot;q&quot;;\n        devScanner.nextLine();\n        while (devScanner.hasNext()) {\n            Animal animal = new Animal();\n            String nextLine = devScanner.nextLine();\n            String[] anData = nextLine.split(&quot;;&quot;);\n            for (int i = 0; i &lt; anData.length; i++) {\n                if (anData[i].isEmpty()) continue;\n                switch(i){\n                    case 0:  species = anData[0];continue;\n                    case 1: if(anData[1].equals(&quot;NA&quot;)){animal.setBody_wt(0);} else{ animal.setBody_wt(Double.parseDouble(anData[1]));} continue;\n                    case 2: if(anData[2].equals(&quot;NA&quot;)){animal.setBrain_wt(0);} else{ animal.setBrain_wt(Double.parseDouble(anData[2]));} continue;\n                    case 3: if(anData[3].equals(&quot;NA&quot;)){animal.setNon_dreaming(0);} else{ animal.setNon_dreaming(Double.parseDouble(anData[3]));} continue;\n                    case 4: if(anData[4].equals(&quot;NA&quot;)){animal.setDreaming(0);} else{ animal.setDreaming(Double.parseDouble(anData[4]));} continue;\n                    case 5: if(anData[5].equals(&quot;NA&quot;)){animal.setTotal_sleep(0);} else{ animal.setTotal_sleep(Double.parseDouble(anData[5]));} continue;\n                    case 6: if(anData[6].equals(&quot;NA&quot;)){animal.setLife_span(0);} else{ animal.setLife_span(Double.parseDouble(anData[6]));} continue;\n                    case 7: if(anData[7].equals(&quot;NA&quot;)){animal.setGestation(0);} else{ animal.setGestation(Double.parseDouble(anData[7]));} continue;\n                    case 8: if(anData[8].equals(&quot;NA&quot;)){animal.setPredation(0);} else { animal.setPredation(Integer.parseInt(anData[8]));} continue;\n                    case 9: if(anData[9].equals(&quot;NA&quot;)){animal.setExposure(0);} else { animal.setExposure(Integer.parseInt(anData[9]));} continue;\n                    case 10: if(anData[10].equals(&quot;NA&quot;)){animal.setDanger(0);} else { animal.setDanger(Integer.parseInt(anData[10]));} break;\n                }\n            }\n            animals.put(species, animal);\n        }\n\n\n\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    }\n    return animals;\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-sagemaker"],"comments":[{"owner":{"account_id":5354234,"reputation":2652,"user_id":4267439,"accept_rate":64,"display_name":"rok"},"score":0,"creation_date":1620309328,"post_id":67404280,"comment_id":119167325,"body_markdown":"I am not an expert, so just guessing.. is there any possibility that the image has not been tagged with &quot;latest&quot; ?","body":"I am not an expert, so just guessing.. is there any possibility that the image has not been tagged with &quot;latest&quot; ?"}],"answers":[{"tags":[],"owner":{"account_id":8556052,"reputation":390,"user_id":6411548,"display_name":"Raghu Ramesha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626977680,"creation_date":1626977680,"answer_id":68489735,"question_id":67404280,"body_markdown":"Please follow along with the example [here][1] to create a training job using Java API and make sure the region in which the ECR image is same as your reference and is tagged appropriately.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/code-samples/latest/catalog/javav2-sagemaker-src-main-java-com-example-sage-CreateTrainingJob.java.html","title":"SageMaker exception","body":"<p>Please follow along with the example <a href=\"https://docs.aws.amazon.com/code-samples/latest/catalog/javav2-sagemaker-src-main-java-com-example-sage-CreateTrainingJob.java.html\" rel=\"nofollow noreferrer\">here</a> to create a training job using Java API and make sure the region in which the ECR image is same as your reference and is tagged appropriately.</p>\n"},{"tags":[],"owner":{"account_id":15451110,"reputation":45,"user_id":11146517,"display_name":"Ridham Zalavadia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673378926,"creation_date":1673378926,"answer_id":75074925,"question_id":67404280,"body_markdown":"I believe that the docker image is pulled not by your role but by the sagemaker role (look for something like `Sagemaker_role` in IAM.) This role transfer is done because Sagemaker requires iam:PassRole which changes the role of the job from the caller (you) to the sagemaker role `Sagemaker_role`. It seems that `Sagemaker_role` doesn&#39;t have permissions to pull an image from ECR. The role being used is based on the role you pass to [EstimatorBase][1] (python api but roughly similar.)\r\n\r\n  [1]: https://sagemaker.readthedocs.io/en/stable/api/training/estimators.html#sagemaker.estimator.EstimatorBase","title":"SageMaker exception","body":"<p>I believe that the docker image is pulled not by your role but by the sagemaker role (look for something like <code>Sagemaker_role</code> in IAM.) This role transfer is done because Sagemaker requires iam:PassRole which changes the role of the job from the caller (you) to the sagemaker role <code>Sagemaker_role</code>. It seems that <code>Sagemaker_role</code> doesn't have permissions to pull an image from ECR. The role being used is based on the role you pass to <a href=\"https://sagemaker.readthedocs.io/en/stable/api/training/estimators.html#sagemaker.estimator.EstimatorBase\" rel=\"nofollow noreferrer\">EstimatorBase</a> (python api but roughly similar.)</p>\n"}],"owner":{"account_id":9160862,"reputation":149,"user_id":6812209,"accept_rate":18,"display_name":"codeworks"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673378926,"creation_date":1620228453,"question_id":67404280,"body_markdown":"I am trying to create a model on AWS Sagemaker by triggering it from Java.\r\n\r\nThe steps I am following are the following,\r\n* Upload the csv of the training data with the target field as the first one - WORKED\r\n* Create a Training Job using SageMaker by using createTrainingJob API from the AWS SDK - Issue here\r\n\r\nI am getting the following exception while I try to create the image \r\n\r\n`Cannot find the requested image: 777445444252.dkr.ecr.eu-west-1.amazonaws.com/sagemakerimage with tag: latest and digest: null. Please check if your ECR image exists and role arn:aws:iam::777445444252:role/sagemaker has proper pull permissions for SageMaker: ecr:BatchCheckLayerAvailability, ecr:BatchGetImage, ecr:GetDownloadUrlForLayer`\r\n\r\nI have created role `sagemaker` with permissions as,\r\n[![enter image description here][1]][1]\r\nso that it can access all repositories in ECR with full permissions. \r\n\r\nI have also made sure I have the repository `sagemakerimage` created in ECR\r\nBut I still get this error. I am not sure what is wrong in what I am trying to do.\r\n\r\nAlso, I thought the image was supposed to be created?\r\n\r\n  [1]: https://i.stack.imgur.com/f5T6W.png","title":"SageMaker exception","body":"<p>I am trying to create a model on AWS Sagemaker by triggering it from Java.</p>\n<p>The steps I am following are the following,</p>\n<ul>\n<li>Upload the csv of the training data with the target field as the first one - WORKED</li>\n<li>Create a Training Job using SageMaker by using createTrainingJob API from the AWS SDK - Issue here</li>\n</ul>\n<p>I am getting the following exception while I try to create the image</p>\n<p><code>Cannot find the requested image: 777445444252.dkr.ecr.eu-west-1.amazonaws.com/sagemakerimage with tag: latest and digest: null. Please check if your ECR image exists and role arn:aws:iam::777445444252:role/sagemaker has proper pull permissions for SageMaker: ecr:BatchCheckLayerAvailability, ecr:BatchGetImage, ecr:GetDownloadUrlForLayer</code></p>\n<p>I have created role <code>sagemaker</code> with permissions as,\n<a href=\"https://i.stack.imgur.com/f5T6W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f5T6W.png\" alt=\"enter image description here\" /></a>\nso that it can access all repositories in ECR with full permissions.</p>\n<p>I have also made sure I have the repository <code>sagemakerimage</code> created in ECR\nBut I still get this error. I am not sure what is wrong in what I am trying to do.</p>\n<p>Also, I thought the image was supposed to be created?</p>\n"},{"tags":["java","spring","jwt","bcrypt","boot"],"comments":[{"owner":{"account_id":87204,"reputation":22463,"user_id":241990,"accept_rate":100,"display_name":"Shaun the Sheep"},"score":0,"creation_date":1673371723,"post_id":75072822,"comment_id":132481993,"body_markdown":"It sounds like you aren&#39;t storing bcrypt encoded passwords in your database, but the configuration is expecting them. Either that or the password hashes are invalid. When you register a new user, you should make sure the password is hashed using bcrypt before you store the user.","body":"It sounds like you aren&#39;t storing bcrypt encoded passwords in your database, but the configuration is expecting them. Either that or the password hashes are invalid. When you register a new user, you should make sure the password is hashed using bcrypt before you store the user."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673379677,"post_id":75072822,"comment_id":132484394,"body_markdown":"The code that is in your controller should be in a service but alas. What does your `UserService.save` method do? What does your `User` entity look like, how are you storing things in the dabase?","body":"The code that is in your controller should be in a service but alas. What does your <code>UserService.save</code> method do? What does your <code>User</code> entity look like, how are you storing things in the dabase?"}],"answers":[{"tags":[],"owner":{"account_id":25387686,"reputation":83,"user_id":19199234,"display_name":"Rayyan Karimi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673378910,"creation_date":1673378910,"answer_id":75074923,"question_id":75072822,"body_markdown":"It seems that you are not actually storing `bcrypt` encoded passwords in your database.\r\n\r\nHowever, the system is expecting them. Either that or the password hashes are invalid. When you register a new user, you should make sure the password is hashed using `bcrypt` before you store the user.\r\n\r\nTry checking your database manually first, by looking into the `UserEntity` you may have created on the corresponding table.\r\n\r\nIf the `password` is not being encrypted, make sure it is being used by a `passwordEncoder()` method which should in turn be using a `BCryptPasswordEncoder` object to actually encode your input password.\r\n\r\nHope it helped!!","title":"Spring Boot Security - Encoded password does not look like BCrypt/Ecommence Method Failed","body":"<p>It seems that you are not actually storing <code>bcrypt</code> encoded passwords in your database.</p>\n<p>However, the system is expecting them. Either that or the password hashes are invalid. When you register a new user, you should make sure the password is hashed using <code>bcrypt</code> before you store the user.</p>\n<p>Try checking your database manually first, by looking into the <code>UserEntity</code> you may have created on the corresponding table.</p>\n<p>If the <code>password</code> is not being encrypted, make sure it is being used by a <code>passwordEncoder()</code> method which should in turn be using a <code>BCryptPasswordEncoder</code> object to actually encode your input password.</p>\n<p>Hope it helped!!</p>\n"}],"owner":{"account_id":27472340,"reputation":1,"user_id":20975683,"display_name":"Tsu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673378910,"creation_date":1673367251,"question_id":75072822,"body_markdown":"I&#39;m new in Java/Spring boot and I&#39;m doing a login with jwt. \r\n\r\nWhat happens is that I got well to the part of creating users, the issue is that when I want to log in postman I get &quot;401 bad credentials&quot; and in the netbeans console I get Encoded password does not look like Bcrypt and I fail the commence method.\r\n\r\nI read my code like crazy and still can&#39;t figure out what&#39;s wrong with it.\r\n\r\nAuthcontroller.java\r\n\r\n```\r\njava\r\n@RestController\r\n@RequestMapping(&quot;/auth&quot;)\r\n@CrossOrigin\r\npublic class AuthController {\r\n    \r\n    @Autowired\r\n    PasswordEncoder passwordEncoder;\r\n    \r\n    @Autowired\r\n    AuthenticationManager authenticationManager;\r\n    \r\n    @Autowired\r\n    UserService userService;\r\n    \r\n    @Autowired\r\n    RolService rolService;\r\n    \r\n    @Autowired\r\n    JwtProvider jwtProvider;\r\n    \r\n    @PostMapping(&quot;/new&quot;)\r\n    public ResponseEntity&lt;?&gt; nuevo(@Valid @RequestBody NewUser newUser, BindingResult bindingResult){\r\n        if(bindingResult.hasErrors())\r\n            return new ResponseEntity(new Msg(&quot;Campos o email inv&#195;&#161;lido&quot;), HttpStatus.BAD_REQUEST);\r\n        \r\n        if(userService.existsByUsername(newUser.getUsername))\r\n            return new ResponseEntity(new Msg(&quot;Nombre de usuario existente&quot;), HttpStatus.BAD_REQUEST);\r\n        \r\n        if(userService.existsByEmail(newUser.getEmail))\r\n            return new ResponseEntity(new Msg(&quot;Email existente&quot;), HttpStatus.BAD_REQUEST);\r\n        \r\n        User user = new User(newUser.getName(), newUser.getUsername(), newUser.getEmail(), passwordEncoder.encode(newUser.getPassword()));\r\n        \r\n        Set&lt;Rol&gt; roles = new HashSet&lt;&gt;();\r\n        roles.add(rolService.getByRolName(RolName.ROLE_USER).get());\r\n        \r\n        if(newUser.getRoles().contains(&quot;admin&quot;))\r\n            roles.add(rolService.getByRolName(RolName.ROLE_ADMIN).get());\r\n        \r\n        user.setRoles(roles);\r\n        userService.save(user);\r\n        \r\n        return new ResponseEntity(new Msg(&quot;usuario guardado&quot;), HttpStatus.CREATED);\r\n    }\r\n    \r\n    @PostMapping(&quot;/login&quot;)\r\n    public ResponseEntity&lt;JwtDto&gt; login (@Valid @RequestBody UserLogin userLogin, BindingResult bindingResult){\r\n        if (bindingResult.hasErrors())\r\n            return new ResponseEntity(new Msg(&quot;Campos mal ingresados&quot;), HttpStatus.BAD_REQUEST);\r\n        Authentication authentication = authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(\r\n        userLogin.getUsername(), userLogin.getPassword()));\r\n        \r\n        SecurityContextHolder.getContext().setAuthentication(authentication);\r\n        \r\n        String jwt = jwtProvider.generateToken(authentication);\r\n        \r\n        UserDetails userDetails = (UserDetails) authentication.getPrincipal();\r\n        \r\n        JwtDto jwtDto = new JwtDto(jwt, userDetails.getUsername(), userDetails.getAuthorities());\r\n        \r\n        return new ResponseEntity(jwtDto, HttpStatus.OK);\r\n    }\r\n    \r\n    \r\n}\r\n```\r\n\r\n\r\nMainSecurity.java\r\n\r\n\r\n```\r\njava\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableMethodSecurity\r\npublic class MainSecurity {\r\n\r\n    @Autowired\r\n    UserDetailsServiceImpl userDetailsServiceImpl;\r\n\r\n    @Autowired\r\n    JwtEntryPoint jwtEntryPoint;\r\n\r\n    @Bean\r\n    public JwtTokenFilter jwtTokenFilter() {\r\n        return new JwtTokenFilter();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration)\r\n            throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.cors().and().csrf().disable()\r\n                .exceptionHandling().authenticationEntryPoint(jwtEntryPoint).and()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/**&quot;).permitAll()\r\n                .anyRequest().authenticated();\r\n\r\n        http.addFilterBefore(jwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public WebMvcConfigurer corsConfigurer() {\r\n        return new WebMvcConfigurer() {\r\n            @Override\r\n            public void addCorsMappings(CorsRegistry registry) {\r\n                registry.addMapping(&quot;/**&quot;)\r\n                        .allowedMethods(&quot;*&quot;);\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n","title":"Spring Boot Security - Encoded password does not look like BCrypt/Ecommence Method Failed","body":"<p>I'm new in Java/Spring boot and I'm doing a login with jwt.</p>\n<p>What happens is that I got well to the part of creating users, the issue is that when I want to log in postman I get &quot;401 bad credentials&quot; and in the netbeans console I get Encoded password does not look like Bcrypt and I fail the commence method.</p>\n<p>I read my code like crazy and still can't figure out what's wrong with it.</p>\n<p>Authcontroller.java</p>\n<pre><code>java\n@RestController\n@RequestMapping(&quot;/auth&quot;)\n@CrossOrigin\npublic class AuthController {\n    \n    @Autowired\n    PasswordEncoder passwordEncoder;\n    \n    @Autowired\n    AuthenticationManager authenticationManager;\n    \n    @Autowired\n    UserService userService;\n    \n    @Autowired\n    RolService rolService;\n    \n    @Autowired\n    JwtProvider jwtProvider;\n    \n    @PostMapping(&quot;/new&quot;)\n    public ResponseEntity&lt;?&gt; nuevo(@Valid @RequestBody NewUser newUser, BindingResult bindingResult){\n        if(bindingResult.hasErrors())\n            return new ResponseEntity(new Msg(&quot;Campos o email invÃ¡lido&quot;), HttpStatus.BAD_REQUEST);\n        \n        if(userService.existsByUsername(newUser.getUsername))\n            return new ResponseEntity(new Msg(&quot;Nombre de usuario existente&quot;), HttpStatus.BAD_REQUEST);\n        \n        if(userService.existsByEmail(newUser.getEmail))\n            return new ResponseEntity(new Msg(&quot;Email existente&quot;), HttpStatus.BAD_REQUEST);\n        \n        User user = new User(newUser.getName(), newUser.getUsername(), newUser.getEmail(), passwordEncoder.encode(newUser.getPassword()));\n        \n        Set&lt;Rol&gt; roles = new HashSet&lt;&gt;();\n        roles.add(rolService.getByRolName(RolName.ROLE_USER).get());\n        \n        if(newUser.getRoles().contains(&quot;admin&quot;))\n            roles.add(rolService.getByRolName(RolName.ROLE_ADMIN).get());\n        \n        user.setRoles(roles);\n        userService.save(user);\n        \n        return new ResponseEntity(new Msg(&quot;usuario guardado&quot;), HttpStatus.CREATED);\n    }\n    \n    @PostMapping(&quot;/login&quot;)\n    public ResponseEntity&lt;JwtDto&gt; login (@Valid @RequestBody UserLogin userLogin, BindingResult bindingResult){\n        if (bindingResult.hasErrors())\n            return new ResponseEntity(new Msg(&quot;Campos mal ingresados&quot;), HttpStatus.BAD_REQUEST);\n        Authentication authentication = authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(\n        userLogin.getUsername(), userLogin.getPassword()));\n        \n        SecurityContextHolder.getContext().setAuthentication(authentication);\n        \n        String jwt = jwtProvider.generateToken(authentication);\n        \n        UserDetails userDetails = (UserDetails) authentication.getPrincipal();\n        \n        JwtDto jwtDto = new JwtDto(jwt, userDetails.getUsername(), userDetails.getAuthorities());\n        \n        return new ResponseEntity(jwtDto, HttpStatus.OK);\n    }\n    \n    \n}\n</code></pre>\n<p>MainSecurity.java</p>\n<pre><code>java\n@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity\npublic class MainSecurity {\n\n    @Autowired\n    UserDetailsServiceImpl userDetailsServiceImpl;\n\n    @Autowired\n    JwtEntryPoint jwtEntryPoint;\n\n    @Bean\n    public JwtTokenFilter jwtTokenFilter() {\n        return new JwtTokenFilter();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration)\n            throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.cors().and().csrf().disable()\n                .exceptionHandling().authenticationEntryPoint(jwtEntryPoint).and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/**&quot;).permitAll()\n                .anyRequest().authenticated();\n\n        http.addFilterBefore(jwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n\n        return http.build();\n    }\n\n    @Bean\n    public WebMvcConfigurer corsConfigurer() {\n        return new WebMvcConfigurer() {\n            @Override\n            public void addCorsMappings(CorsRegistry registry) {\n                registry.addMapping(&quot;/**&quot;)\n                        .allowedMethods(&quot;*&quot;);\n            }\n        };\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":16369925,"reputation":21,"user_id":11823416,"display_name":"Ghost"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673377774,"creation_date":1673377774,"answer_id":75074738,"question_id":75074412,"body_markdown":"try setting your imageview width to 0dp and if this doesn&#39;t work then try setting scaleType to fitXY.\r\nLet me know if this works or not! ","title":"I do not fit the image I received from the user in Android studio fully into the imageview","body":"<p>try setting your imageview width to 0dp and if this doesn't work then try setting scaleType to fitXY.\nLet me know if this works or not!</p>\n"},{"tags":[],"owner":{"account_id":6643996,"reputation":1451,"user_id":5128831,"display_name":"Homayoon Ahmadi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673378085,"creation_date":1673378085,"answer_id":75074794,"question_id":75074412,"body_markdown":"Try using `adjustViewBounds` attribute, also you can use `scaleType` attribute if you want to scale the image:\r\n\r\n    &lt;ImageView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:adjustViewBounds=&quot;true&quot;\r\n            android:src=&quot;@drawable/ic_launcher_background&quot; /&gt;","title":"I do not fit the image I received from the user in Android studio fully into the imageview","body":"<p>Try using <code>adjustViewBounds</code> attribute, also you can use <code>scaleType</code> attribute if you want to scale the image:</p>\n<pre><code>&lt;ImageView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:adjustViewBounds=&quot;true&quot;\n        android:src=&quot;@drawable/ic_launcher_background&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":27128058,"reputation":9,"user_id":20670707,"display_name":"YUSUF ORHAN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673378085,"creation_date":1673375740,"question_id":75074412,"body_markdown":"[enter image description here](https://i.stack.imgur.com/MfgLU.jpg)\r\n\r\nthis is my application. I want the images in this recycler view to fill the whole screen. As in Instagram (I set the width of the Image View to match parent)\r\n\r\n[enter image description here](https://i.stack.imgur.com/4KrwM.jpg)\r\n\r\nI want it to look like this","title":"I do not fit the image I received from the user in Android studio fully into the imageview","body":"<p><a href=\"https://i.stack.imgur.com/MfgLU.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>this is my application. I want the images in this recycler view to fill the whole screen. As in Instagram (I set the width of the Image View to match parent)</p>\n<p><a href=\"https://i.stack.imgur.com/4KrwM.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I want it to look like this</p>\n"},{"tags":["java","gradle","intellij-idea"],"comments":[{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":1,"creation_date":1673441575,"post_id":75074471,"comment_id":132499099,"body_markdown":"Probably Gradle has some additional configuration for compilation. Please check this thread for possible solutions: https://stackoverflow.com/a/53192674/2000323","body":"Probably Gradle has some additional configuration for compilation. Please check this thread for possible solutions: <a href=\"https://stackoverflow.com/a/53192674/2000323\">stackoverflow.com/a/53192674/2000323</a>"}],"owner":{"account_id":14305969,"reputation":135,"user_id":10333868,"display_name":"Jeongkuk Seo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673377987,"creation_date":1673376055,"question_id":75074471,"body_markdown":"I am using IntelliJ.\r\n\r\nWhen i build and run with gradle, my all tests are success.\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nBut if i change with IntelliJ IDEA, one test is fail.\r\n[![enter image description here][3]][3]\r\n[![enter image description here][4]][4]\r\n\r\nThe reason why one test fail, no constructor is not exist in response dto.\r\n```\r\npublic class PathResponse {\r\n    private List&lt;StationResponse&gt; stations;\r\n    private int distance;\r\n\r\n    public PathResponse(List&lt;StationResponse&gt; stations, int distance) {\r\n        this.stations = stations;\r\n        this.distance = distance;\r\n    }\r\n\r\n    protected PathResponse() {} // &lt;- if put this, no error with InterlliJ IDEA also.\r\n```\r\n\r\nYes. i success the test with IntelliJ IDEA. \r\n\r\nBut i wonder why Gradle and IntelliJ IDEA test result is different.\r\n\r\nCan someone tell me reason..???\r\n\r\n  [1]: https://i.stack.imgur.com/6e6kg.png\r\n  [2]: https://i.stack.imgur.com/NPnp1.png\r\n  [3]: https://i.stack.imgur.com/olF8H.png\r\n  [4]: https://i.stack.imgur.com/FmmwO.png","title":"Intellij Run test using with Gradle success but Intellij IDEA test fail","body":"<p>I am using IntelliJ.</p>\n<p>When i build and run with gradle, my all tests are success.\n<a href=\"https://i.stack.imgur.com/6e6kg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6e6kg.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/NPnp1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NPnp1.png\" alt=\"enter image description here\" /></a></p>\n<p>But if i change with IntelliJ IDEA, one test is fail.\n<a href=\"https://i.stack.imgur.com/olF8H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/olF8H.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/FmmwO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FmmwO.png\" alt=\"enter image description here\" /></a></p>\n<p>The reason why one test fail, no constructor is not exist in response dto.</p>\n<pre><code>public class PathResponse {\n    private List&lt;StationResponse&gt; stations;\n    private int distance;\n\n    public PathResponse(List&lt;StationResponse&gt; stations, int distance) {\n        this.stations = stations;\n        this.distance = distance;\n    }\n\n    protected PathResponse() {} // &lt;- if put this, no error with InterlliJ IDEA also.\n</code></pre>\n<p>Yes. i success the test with IntelliJ IDEA.</p>\n<p>But i wonder why Gradle and IntelliJ IDEA test result is different.</p>\n<p>Can someone tell me reason..???</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":2,"creation_date":1673376420,"post_id":75074505,"comment_id":132483422,"body_markdown":"What is the output you expect ? I don&#39;t see any use of Deck and Deck.Sort","body":"What is the output you expect ? I don&#39;t see any use of Deck and Deck.Sort"},{"owner":{"account_id":24825089,"reputation":1,"user_id":18704995,"display_name":"chunk"},"score":0,"creation_date":1673376579,"post_id":75074505,"comment_id":132483465,"body_markdown":"i need it to print the cards in ascending order but i haven&#39;t figured out how to do that yet.","body":"i need it to print the cards in ascending order but i haven&#39;t figured out how to do that yet."},{"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1673376619,"post_id":75074505,"comment_id":132483475,"body_markdown":"Can you share Card class ? so we can reproduce","body":"Can you share Card class ? so we can reproduce"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1673376649,"post_id":75074505,"comment_id":132483485,"body_markdown":"Also, it seems odd that `Sort` calls `Collections.shuffle` at the end. And why does `Sort` take a parameter? Shouldn&#39;t it work on the `card` member array? If not, you can make it `static`. Lastly, the `Deck` constructor creates an array that can hold 52 cards but only creates 5.","body":"Also, it seems odd that <code>Sort</code> calls <code>Collections.shuffle</code> at the end. And why does <code>Sort</code> take a parameter? Shouldn&#39;t it work on the <code>card</code> member array? If not, you can make it <code>static</code>. Lastly, the <code>Deck</code> constructor creates an array that can hold 52 cards but only creates 5."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1673376806,"post_id":75074505,"comment_id":132483525,"body_markdown":"My advice: have the `Deck` class create all 52 cards and shuffle them. Then make a `Hand` class that can hold 5 cards and sort them.","body":"My advice: have the <code>Deck</code> class create all 52 cards and shuffle them. Then make a <code>Hand</code> class that can hold 5 cards and sort them."},{"owner":{"account_id":24825089,"reputation":1,"user_id":18704995,"display_name":"chunk"},"score":0,"creation_date":1673377031,"post_id":75074505,"comment_id":132483582,"body_markdown":"i updated and provided my card class. the sort should work on the card array, im not sure how id go about fixing that. what should my Hand class look like?","body":"i updated and provided my card class. the sort should work on the card array, im not sure how id go about fixing that. what should my Hand class look like?"}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673377574,"creation_date":1673377574,"answer_id":75074703,"question_id":75074505,"body_markdown":"You can make `Card implements Comparable`, that&#39;s easy\r\n\r\n    class Card implements Comparable&lt;Card&gt; {\r\n        @Override\r\n        public int compareTo(Card o) {\r\n            return Integer.compare(rank, o.rank);\r\n        }\r\n    }\r\n\r\nThen the sort of the deck is easy\r\n\r\n\r\n    class Deck {    \r\n        public void sort() {\r\n            Arrays.sort(this.cards);\r\n        }\r\n    }\r\n\r\n----\r\n\r\nBut if you have `null` elements in your array (for now your loop stops at 5 not 52) you need a comparator that handles such nulls\r\n\r\nSo the `Deck.sort` would look like this\r\n\r\n    public void sort() {\r\n        Arrays.sort(this.cards, (o1, o2) -&gt; {\r\n            if (o1 == null &amp;&amp; o2 == null) return 0;\r\n            if (o1 == null) return 1;\r\n            if (o2 == null) return -1;\r\n            return o1.compareTo(o2);\r\n        });\r\n    }\r\n\r\n\r\n---\r\n\r\n\r\nHere&#39;s what you would have\r\n\r\n    Deck d = new Deck();\r\n    System.out.println(d); // [Jack of Hearts, Queen of Diamonds, 8 of Clubs, 7 of Diamonds ...\r\n    d.sort();\r\n    System.out.println(d); // [2 of Spades, 2 of Spades, 2 of Diamonds, 2 of Diamonds, 2 of C\r\n\r\n","title":"Deck of Cards (unable to print ordered deck)","body":"<p>You can make <code>Card implements Comparable</code>, that's easy</p>\n<pre><code>class Card implements Comparable&lt;Card&gt; {\n    @Override\n    public int compareTo(Card o) {\n        return Integer.compare(rank, o.rank);\n    }\n}\n</code></pre>\n<p>Then the sort of the deck is easy</p>\n<pre><code>class Deck {    \n    public void sort() {\n        Arrays.sort(this.cards);\n    }\n}\n</code></pre>\n<hr />\n<p>But if you have <code>null</code> elements in your array (for now your loop stops at 5 not 52) you need a comparator that handles such nulls</p>\n<p>So the <code>Deck.sort</code> would look like this</p>\n<pre><code>public void sort() {\n    Arrays.sort(this.cards, (o1, o2) -&gt; {\n        if (o1 == null &amp;&amp; o2 == null) return 0;\n        if (o1 == null) return 1;\n        if (o2 == null) return -1;\n        return o1.compareTo(o2);\n    });\n}\n</code></pre>\n<hr />\n<p>Here's what you would have</p>\n<pre><code>Deck d = new Deck();\nSystem.out.println(d); // [Jack of Hearts, Queen of Diamonds, 8 of Clubs, 7 of Diamonds ...\nd.sort();\nSystem.out.println(d); // [2 of Spades, 2 of Spades, 2 of Diamonds, 2 of Diamonds, 2 of C\n</code></pre>\n"}],"owner":{"account_id":24825089,"reputation":1,"user_id":18704995,"display_name":"chunk"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673377574,"creation_date":1673376362,"question_id":75074505,"body_markdown":"i am creating a card game that needs to deal out a number of cards between 5-10 depending on user input. i created a card class and now i&#39;m working on the deck but feeling lost plus not being able to organise it to display in ascending order.\r\n\r\nthis is my Deck so far\r\n\r\n&gt; ```\r\n&gt; import java.util.Arrays;\r\n&gt; import java.util.Collections;\r\n&gt; \r\n&gt; public class Deck {\r\n&gt;     private Card card[];\r\n&gt; \r\n&gt;     public Deck() {\r\n&gt;         this.card = new Card[52];\r\n&gt;         for (int i = 0; i &lt; 5; i++) {\r\n&gt;             Card card = new Card(); //Instantiate a Card\r\n&gt;             this.card[i] = card; //Adding card to the Deck\r\n&gt;         }\r\n&gt;     }\r\n&gt; \r\n&gt; \r\n&gt;     private void Sort(Card[] deck){\r\n&gt; \r\n&gt;         for (int i = 1; i &lt; deck.length; i++){\r\n&gt;             int nextToInsertRank = deck[i].getRankValue();\r\n&gt;             Card nextToInsert = deck[i];\r\n&gt;             int index;\r\n&gt;             index = i - 1;\r\n&gt; \r\n&gt;             while (index &gt;= 0 &amp;&amp; deck[index].getRankValue() &gt; nextToInsertRank){\r\n&gt;                 deck[index + 1] = deck[index];\r\n&gt;                 index--;\r\n&gt;             }\r\n&gt;             deck[index + 1] = nextToInsert;\r\n&gt;         }\r\n&gt;         Collections.shuffle(Arrays.asList(this.card));\r\n&gt;     }\r\n&gt; }\r\n&gt; ```\r\n\r\nthis is my Card class.\r\n\r\nimport java.util.Random;\r\nimport java.util.Arrays;\r\n\r\npublic class Card{\r\n\r\n    private final int RANK, SUIT;\r\n    private static final Random GENERATOR = new Random();\r\n\r\n    private static final String[] RANKS = {&quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;, &quot;Jack&quot;, &quot;Queen&quot;, &quot;King&quot;, &quot;Ace&quot;};\r\n    private static final String[] SUITS = {&quot;Clubs&quot;, &quot;Diamonds&quot;, &quot;Hearts&quot;, &quot;Spades&quot;};\r\n\r\n    public Card(){\r\n        RANK = GENERATOR.nextInt(RANKS.length);\r\n        SUIT = GENERATOR.nextInt(SUITS.length);\r\n\r\n    }\r\n\r\n    public static void SortCards(Card[] hand) {\r\n        for(int i = 0; i &lt; 5; i++) {\r\n            Arrays.sort(RANKS);\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n    public String getRank() {\r\n        return RANKS[RANK];\r\n    }\r\n\r\n    public String getSuit(){\r\n        return SUITS[SUIT];\r\n    }\r\n\r\n    public int getRankValue(){\r\n       return RANK;\r\n    }\r\n\r\n    @Override\r\n    public String toString(){\r\n        return getRank() + &quot; of &quot; + getSuit();\r\n    }\r\n}\r\n\r\n\r\nthis is the code i use to get it printed.\r\n\r\n&gt; ```\r\n&gt; Card card1 = new Card();\r\n&gt; Card card2 = new Card();\r\n&gt; Card card3 = new Card();\r\n&gt; Card card4 = new Card();\r\n&gt; Card card5 = new Card();\r\n&gt; \r\n&gt; System.out.println(&quot;A: &quot; + card1);\r\n&gt; System.out.println(&quot;B: &quot; + card2);\r\n&gt; System.out.println(&quot;C: &quot; + card3);\r\n&gt; System.out.println(&quot;D: &quot; + card4);\r\n&gt; System.out.println(&quot;E: &quot; + card5);\r\n&gt; ```\r\n\r\nthis is the result i get.\r\n\r\n&gt; A: 9 of Spades\r\n&gt;\r\n&gt; B: 10 of Clubs\r\n&gt;\r\n&gt; C: 2 of Hearts\r\n&gt;\r\n&gt; D: 2 of Clubs\r\n&gt;\r\n&gt; E: 9 of Spades\r\n\r\ni&#39;ve tried a few different things but cant seem to get it to print correctly. any improvements to the code to make it work effectively would be appreciated.","title":"Deck of Cards (unable to print ordered deck)","body":"<p>i am creating a card game that needs to deal out a number of cards between 5-10 depending on user input. i created a card class and now i'm working on the deck but feeling lost plus not being able to organise it to display in ascending order.</p>\n<p>this is my Deck so far</p>\n<blockquote>\n<pre><code>import java.util.Arrays;\nimport java.util.Collections;\n\npublic class Deck {\n    private Card card[];\n\n    public Deck() {\n        this.card = new Card[52];\n        for (int i = 0; i &lt; 5; i++) {\n            Card card = new Card(); //Instantiate a Card\n            this.card[i] = card; //Adding card to the Deck\n        }\n    }\n\n\n    private void Sort(Card[] deck){\n\n        for (int i = 1; i &lt; deck.length; i++){\n            int nextToInsertRank = deck[i].getRankValue();\n            Card nextToInsert = deck[i];\n            int index;\n            index = i - 1;\n\n            while (index &gt;= 0 &amp;&amp; deck[index].getRankValue() &gt; nextToInsertRank){\n                deck[index + 1] = deck[index];\n                index--;\n            }\n            deck[index + 1] = nextToInsert;\n        }\n        Collections.shuffle(Arrays.asList(this.card));\n    }\n}\n</code></pre>\n</blockquote>\n<p>this is my Card class.</p>\n<p>import java.util.Random;\nimport java.util.Arrays;</p>\n<p>public class Card{</p>\n<pre><code>private final int RANK, SUIT;\nprivate static final Random GENERATOR = new Random();\n\nprivate static final String[] RANKS = {&quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;, &quot;Jack&quot;, &quot;Queen&quot;, &quot;King&quot;, &quot;Ace&quot;};\nprivate static final String[] SUITS = {&quot;Clubs&quot;, &quot;Diamonds&quot;, &quot;Hearts&quot;, &quot;Spades&quot;};\n\npublic Card(){\n    RANK = GENERATOR.nextInt(RANKS.length);\n    SUIT = GENERATOR.nextInt(SUITS.length);\n\n}\n\npublic static void SortCards(Card[] hand) {\n    for(int i = 0; i &lt; 5; i++) {\n        Arrays.sort(RANKS);\n        System.out.println();\n    }\n}\n\npublic String getRank() {\n    return RANKS[RANK];\n}\n\npublic String getSuit(){\n    return SUITS[SUIT];\n}\n\npublic int getRankValue(){\n   return RANK;\n}\n\n@Override\npublic String toString(){\n    return getRank() + &quot; of &quot; + getSuit();\n}\n</code></pre>\n<p>}</p>\n<p>this is the code i use to get it printed.</p>\n<blockquote>\n<pre><code>Card card1 = new Card();\nCard card2 = new Card();\nCard card3 = new Card();\nCard card4 = new Card();\nCard card5 = new Card();\n\nSystem.out.println(&quot;A: &quot; + card1);\nSystem.out.println(&quot;B: &quot; + card2);\nSystem.out.println(&quot;C: &quot; + card3);\nSystem.out.println(&quot;D: &quot; + card4);\nSystem.out.println(&quot;E: &quot; + card5);\n</code></pre>\n</blockquote>\n<p>this is the result i get.</p>\n<blockquote>\n<p>A: 9 of Spades</p>\n<p>B: 10 of Clubs</p>\n<p>C: 2 of Hearts</p>\n<p>D: 2 of Clubs</p>\n<p>E: 9 of Spades</p>\n</blockquote>\n<p>i've tried a few different things but cant seem to get it to print correctly. any improvements to the code to make it work effectively would be appreciated.</p>\n"},{"tags":["java","lambda","enums","circular-reference","anonymous-class"],"comments":[{"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"score":0,"creation_date":1673368268,"post_id":75072937,"comment_id":132480784,"body_markdown":"Interesting experiment. https://jenkov.com/tutorials/java/lambda-expressions.html states &quot;Java lambda expressions can only be used where the type they are matched against is a single method interface&quot;.  So it looks like where you tried to apply a lambda is not an ok place to apply it.","body":"Interesting experiment. <a href=\"https://jenkov.com/tutorials/java/lambda-expressions.html\" rel=\"nofollow noreferrer\">jenkov.com/tutorials/java/lambda-expressions.html</a> states &quot;Java lambda expressions can only be used where the type they are matched against is a single method interface&quot;.  So it looks like where you tried to apply a lambda is not an ok place to apply it."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":1,"creation_date":1673368352,"post_id":75072937,"comment_id":132480824,"body_markdown":"@ZackMacomber Thank you for your response. I am not sure you are correct though. Isn&#39;t the interface I am matching against supposed to be my `Supplier&lt;RPS1&gt;`?","body":"@ZackMacomber Thank you for your response. I am not sure you are correct though. Isn&#39;t the interface I am matching against supposed to be my <code>Supplier&lt;RPS1&gt;</code>?"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1673368429,"post_id":75072937,"comment_id":132480848,"body_markdown":"Very good question but I&#39;ve edited it for brevity. I don&#39;t think your (unfortunately fruitless) searches really add much, and I think it&#39;s a better question without them. If you strongly disagree then feel free to add it back, but perhaps edit to the salient points.","body":"Very good question but I&#39;ve edited it for brevity. I don&#39;t think your (unfortunately fruitless) searches really add much, and I think it&#39;s a better question without them. If you strongly disagree then feel free to add it back, but perhaps edit to the salient points."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1673368986,"post_id":75072937,"comment_id":132481047,"body_markdown":"@Michael I see your edits. Thank you for the changes. I made a simple bullet list of the searches I tried to make. That should satisfy brevity while allowing people&#39;s support to be more informed/directed. Please edit my edit if you feel it should be different.","body":"@Michael I see your edits. Thank you for the changes. I made a simple bullet list of the searches I tried to make. That should satisfy brevity while allowing people&#39;s support to be more informed/directed. Please edit my edit if you feel it should be different."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":2,"creation_date":1673370050,"post_id":75072937,"comment_id":132481431,"body_markdown":"Does this answer your question? [Accessing Same Class&#39; enum value inside an enum declaration within a lambda doesn&#39;t compile](https://stackoverflow.com/questions/55162147/acessing-same-class-enum-inside-an-enum-constructor-within-a-lambda-doesnt-com)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/55162147/acessing-same-class-enum-inside-an-enum-constructor-within-a-lambda-doesnt-com\">Accessing Same Class&#39; enum value inside an enum declaration within a lambda doesn&#39;t compile</a>"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1673370160,"post_id":75072937,"comment_id":132481463,"body_markdown":"@DidierL Ohhhh, I think you found it Didier. I am reading further, but this might be it","body":"@DidierL Ohhhh, I think you found it Didier. I am reading further, but this might be it"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1673371305,"post_id":75072937,"comment_id":132481848,"body_markdown":"@DidierL I think that you are correct. Both of our questions fail for the reason mentioned in the answer. I have edited my answer to include a reference to that question and a simple explanation. Thank you for the help. https://stackoverflow.com/a/55166692/10118965","body":"@DidierL I think that you are correct. Both of our questions fail for the reason mentioned in the answer. I have edited my answer to include a reference to that question and a simple explanation. Thank you for the help. <a href=\"https://stackoverflow.com/a/55166692/10118965\">stackoverflow.com/a/55166692/10118965</a>"}],"answers":[{"comments":[{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1673369108,"post_id":75073194,"comment_id":132481088,"body_markdown":"Thank you for your answer. I see what you are saying. I understand that the act of using the enum value is saved until the method is actually called. My confusion is, why doesn&#39;t the same occur for the lambda? The lambda should not be using the enum value yet. Even something like `ROCK(() -&gt; {return RPS1.SCISSORS;}),` still fails.","body":"Thank you for your answer. I see what you are saying. I understand that the act of using the enum value is saved until the method is actually called. My confusion is, why doesn&#39;t the same occur for the lambda? The lambda should not be using the enum value yet. Even something like <code>ROCK(() -&gt; {return RPS1.SCISSORS;}),</code> still fails."}],"tags":[],"owner":{"account_id":5505647,"reputation":129,"user_id":4373567,"accept_rate":25,"display_name":"CSDragon"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1673368937,"creation_date":1673368937,"answer_id":75073194,"question_id":75072937,"body_markdown":"I&#39;m not an expert so I could be wrong but this is my understanding.\r\n\r\nAn Illegal Forward Reference means that you&#39;re trying to use a variable before it has been defined.\r\nIt&#39;s like saying `&quot;i = 10; int i;&quot;`.\r\n\r\nThe first two actually use the variable that was passed. RPS0 and RPS1 assign an unknown variable SCISSORS to a field expecting an RPS0/RPS1 variable. This should be the expected result.\r\n\r\nFor the Anonymous Class then, it must be doing something different.\r\nJava must be re-ordering the definitions to first define the RPS2 instances first, then instancing them after.","title":"Why does my lambda get illegal forward reference, but my anonymous class does not?","body":"<p>I'm not an expert so I could be wrong but this is my understanding.</p>\n<p>An Illegal Forward Reference means that you're trying to use a variable before it has been defined.\nIt's like saying <code>&quot;i = 10; int i;&quot;</code>.</p>\n<p>The first two actually use the variable that was passed. RPS0 and RPS1 assign an unknown variable SCISSORS to a field expecting an RPS0/RPS1 variable. This should be the expected result.</p>\n<p>For the Anonymous Class then, it must be doing something different.\nJava must be re-ordering the definitions to first define the RPS2 instances first, then instancing them after.</p>\n"},{"comments":[{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1673369655,"post_id":75073267,"comment_id":132481278,"body_markdown":"Thank you for your response. I don&#39;t know if binding is the right word, but it definitely points me in the right direction. To make sure I understand, it sounds like you are saying that the real issue here is that Java attempts to &quot;Bind&quot; earlier for lambdas than it does for anonymous classes, thus causing this issue to occur?","body":"Thank you for your response. I don&#39;t know if binding is the right word, but it definitely points me in the right direction. To make sure I understand, it sounds like you are saying that the real issue here is that Java attempts to &quot;Bind&quot; earlier for lambdas than it does for anonymous classes, thus causing this issue to occur?"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1673370595,"post_id":75073267,"comment_id":132481618,"body_markdown":"Expression target is a very helpful phrase, thank you. And I understand you better now. It&#39;s still very off-putting to me though that the lambda solution fails, but yours succeeds. It is almost as if they put in a check to prevent what we are trying to do, but your solution just happens to be one level of indirection further than they cared to prevent, while mine was not. For right now, I&#39;ll accept this as the answer, but this is aggravating to be frank.","body":"Expression target is a very helpful phrase, thank you. And I understand you better now. It&#39;s still very off-putting to me though that the lambda solution fails, but yours succeeds. It is almost as if they put in a check to prevent what we are trying to do, but your solution just happens to be one level of indirection further than they cared to prevent, while mine was not. For right now, I&#39;ll accept this as the answer, but this is aggravating to be frank."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1673370685,"post_id":75073267,"comment_id":132481644,"body_markdown":"Also, someone in the comments recommended this link -- https://stackoverflow.com/questions/55162147/acessing-same-class-enum-inside-an-enum-constructor-within-a-lambda-doesnt-com -- I bring it up in case you can make more sense of it than I can. I am still struggling to grasp it, but it sounds like your answer and theirs is implying the same thing.","body":"Also, someone in the comments recommended this link -- <a href=\"https://stackoverflow.com/questions/55162147/acessing-same-class-enum-inside-an-enum-constructor-within-a-lambda-doesnt-com\" title=\"acessing same class enum inside an enum constructor within a lambda doesnt com\">stackoverflow.com/questions/55162147/&hellip;</a> -- I bring it up in case you can make more sense of it than I can. I am still struggling to grasp it, but it sounds like your answer and theirs is implying the same thing."},{"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"score":2,"creation_date":1673371133,"post_id":75073267,"comment_id":132481803,"body_markdown":"&quot;It&#39;s really nothing directly to do with lambdas or anonymous classes&quot; - I think it does directly have to do with &quot;classes&quot;. The instant you use a DIFFERENT (whether anonymous or whatever) class, the illegal forward reference goes away. Lambda expressions are not classes as far as I know.","body":"&quot;It&#39;s really nothing directly to do with lambdas or anonymous classes&quot; - I think it does directly have to do with &quot;classes&quot;. The instant you use a DIFFERENT (whether anonymous or whatever) class, the illegal forward reference goes away. Lambda expressions are not classes as far as I know."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1673371507,"post_id":75073267,"comment_id":132481908,"body_markdown":"@ZackMacomber I understand what you are saying. Another answer to a different question brought up the concept of a &quot;context&quot;, saying that the JLS says the context for a lambda is different than that of an anonymous class. Here is the answer -- https://stackoverflow.com/a/55166692/10118965","body":"@ZackMacomber I understand what you are saying. Another answer to a different question brought up the concept of a &quot;context&quot;, saying that the JLS says the context for a lambda is different than that of an anonymous class. Here is the answer -- <a href=\"https://stackoverflow.com/a/55166692/10118965\">stackoverflow.com/a/55166692/10118965</a>"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1673371603,"post_id":75073267,"comment_id":132481943,"body_markdown":"@Michael I see your edit. I don&#39;t understand about the null. Could you explain that further?","body":"@Michael I see your edit. I don&#39;t understand about the null. Could you explain that further?"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":1,"creation_date":1673371792,"post_id":75073267,"comment_id":132482024,"body_markdown":"@Michael Silly me, I should have run it before I commented. I see what you mean now. Thank you.","body":"@Michael Silly me, I should have run it before I commented. I see what you mean now. Thank you."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1673372124,"post_id":75073267,"comment_id":132482132,"body_markdown":"@Michael And I see your latest edit. That clarifies things a lot more, thank you. So, in short, lambdas, methods, and any other form of indirection simply isn&#39;t going to work because they all pass in the field prior to its initialization. You demonstrated how we can trick the compiler into not catching the danger in us doing that, but it doesn&#39;t take away from the fact that all we are doing is stopping the compiler from saving us from doing something bad. In reality, the only way to achieve what I want is through the anonymous class, because it doesn&#39;t evaluate anything until method call. Yes?","body":"@Michael And I see your latest edit. That clarifies things a lot more, thank you. So, in short, lambdas, methods, and any other form of indirection simply isn&#39;t going to work because they all pass in the field prior to its initialization. You demonstrated how we can trick the compiler into not catching the danger in us doing that, but it doesn&#39;t take away from the fact that all we are doing is stopping the compiler from saving us from doing something bad. In reality, the only way to achieve what I want is through the anonymous class, because it doesn&#39;t evaluate anything until method call. Yes?"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":1,"creation_date":1673372815,"post_id":75073267,"comment_id":132482371,"body_markdown":"@Michael Thank you for your patience in helping me understand this. Scoping and how variables are picked up is one of the things I never really understood about Java that well. It took me a long time to understand about lambdas and how they cannot reference fields until they are effectively final. It&#39;s rather difficult to research this facet of Java, since most of it happens under the hood, and kind of depends on you knowing and staying on the &quot;Happy Path&quot;.","body":"@Michael Thank you for your patience in helping me understand this. Scoping and how variables are picked up is one of the things I never really understood about Java that well. It took me a long time to understand about lambdas and how they cannot reference fields until they are effectively final. It&#39;s rather difficult to research this facet of Java, since most of it happens under the hood, and kind of depends on you knowing and staying on the &quot;Happy Path&quot;."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1673377689,"post_id":75073267,"comment_id":132483781,"body_markdown":"@Michael It is an excellent answer, thank you for doing this. This clarifies a lot. Funnily enough, your question led me to another -- the part where you said &quot;Annoying, really&quot;, aren&#39;t we just as vulnerable to that via Anonymous classes as we would be with the `Supplier&lt;RPS1&gt;`? I edited my question, please see what I mean. It is `RPS4`.","body":"@Michael It is an excellent answer, thank you for doing this. This clarifies a lot. Funnily enough, your question led me to another -- the part where you said &quot;Annoying, really&quot;, aren&#39;t we just as vulnerable to that via Anonymous classes as we would be with the <code>Supplier&lt;RPS1&gt;</code>? I edited my question, please see what I mean. It is <code>RPS4</code>."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1673380939,"post_id":75073267,"comment_id":132484784,"body_markdown":"@davidalayachew Yeah, RPS4 still fails. Change the field initializer to `this.winsAgainst = Objects.requireNonNull(this.winsAgainst());` It will blow up. It&#39;s worth noting that the field is not adding any value here, though. You can just call `winsAgainst()` every time you would access the field, and then it will work.","body":"@davidalayachew Yeah, RPS4 still fails. Change the field initializer to <code>this.winsAgainst = Objects.requireNonNull(this.winsAgainst());</code> It will blow up. It&#39;s worth noting that the field is not adding any value here, though. You can just call <code>winsAgainst()</code> every time you would access the field, and then it will work."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1673381355,"post_id":75073267,"comment_id":132484905,"body_markdown":"@Michael Oh absolutely, I am being intentionally obtuse to show that the warning is a rather short fence. Regardless, with this edit, I think you struck the issue at the heart -- the JDK folks gave a stronger set of compiler errors to lambdas than they did for anonymous classes, with the intent of protecting us, referencing definite assignment and the JLS links I posted. That said, both solutions are still prone to indirection and damage. And because of all of this, going the way that you did, with a `Supplier` (or my anonymous class) is the &quot;safest&quot; solution still allowed. Thank you so much!","body":"@Michael Oh absolutely, I am being intentionally obtuse to show that the warning is a rather short fence. Regardless, with this edit, I think you struck the issue at the heart -- the JDK folks gave a stronger set of compiler errors to lambdas than they did for anonymous classes, with the intent of protecting us, referencing definite assignment and the JLS links I posted. That said, both solutions are still prone to indirection and damage. And because of all of this, going the way that you did, with a <code>Supplier</code> (or my anonymous class) is the &quot;safest&quot; solution still allowed. Thank you so much!"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1673381573,"post_id":75073267,"comment_id":132484966,"body_markdown":"And to be clear, these &quot;protections&quot; are them making a best effort attempt at protecting people from stumbling into the same pothole. But of course, they can&#39;t (or chose not to) make the check 100% exhaustive for every possibility. And as a result, this is still possible to break, like you showed with null. That said, they made a greater effort attempt to protect us with lambdas, which explains the discrepancies. Not to mention, lambdas have more room for abuse, and the problems with anonymous classes had been well known at that point. If all of this is true, then I understand entirely now.","body":"And to be clear, these &quot;protections&quot; are them making a best effort attempt at protecting people from stumbling into the same pothole. But of course, they can&#39;t (or chose not to) make the check 100% exhaustive for every possibility. And as a result, this is still possible to break, like you showed with null. That said, they made a greater effort attempt to protect us with lambdas, which explains the discrepancies. Not to mention, lambdas have more room for abuse, and the problems with anonymous classes had been well known at that point. If all of this is true, then I understand entirely now."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":1,"creation_date":1673381633,"post_id":75073267,"comment_id":132484987,"body_markdown":"Thank you again for taking the time to walk me through this. Thanks to yours and everyone else&#39;s efforts, I feel like I understand the full scale of the &quot;why&quot;, and not just the &quot;what&quot;.","body":"Thank you again for taking the time to walk me through this. Thanks to yours and everyone else&#39;s efforts, I feel like I understand the full scale of the &quot;why&quot;, and not just the &quot;what&quot;."}],"tags":[],"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"comment_count":14,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673377113,"creation_date":1673369306,"answer_id":75073267,"question_id":75072937,"body_markdown":"I believe this is rooted in what the JLS calls [&quot;definite assignment&quot;](https://docs.oracle.com/javase/specs/jls/se19/html/jls-16.html).\r\n\r\nFirst, it may be helpful to outline the order in which the enum is initialized for your first example.\r\n\r\n 1. Some other class refers to the enum class for the first time, e.g. `RPS0.ROCK.winsAgainst()`\r\n 2. The &quot;clinit&quot; (static initializer is invoked)  \r\n 3. The enum constants are initialized in order of declaration\r\n    1. An equivalent of `public static final RPS0 ROCK = new RPS0(SCISSORS);`\r\n    2. An equivalent of `public static final RPS0 PAPER = new RPS0(ROCK);`\r\n    3. An equivalent of `public static final RPS0 SCISSORS = new RPS0(PAPER);`\r\n 4. The enum class is now loaded\r\n 5. The expression `RPS0.ROCK` is evaluated for that referencing class in #1\r\n 6. `winsAgainst` is invoked on that instance.\r\n\r\nThe reason this fails on the `ROCK` line is because `SCISSORS` is not &quot;definitely assigned&quot;. Knowing the order of initialization, we can see it&#39;s even worse than that. Not only is it *not definitely* assigned, it&#39;s *definitely not* assigned. The assignment of `SCISSORS` (3.3) happens after `ROCK` (3.1). \r\n\r\n`SCISSORS` would be null when `ROCK` tried to access it, if the compiler were to allow this. It&#39;s assigned later.\r\n\r\nWe can see this for ourselves if we introduce some indirection. The definite assignment problem is now gone because our constructors aren&#39;t referencing the fields directly. The compiler isn&#39;t checking for any definite assignment in the constructor expression. The constructor is using result of a method invocation, not a field.\r\n\r\nAll we&#39;ve done is trick the compiler into allowing something that&#39;s going to fail.\r\n\r\n    enum RPS0\r\n    {\r\n        ROCK(scissors()),\r\n        PAPER(rock()),\r\n        SCISSORS(paper());\r\n    \r\n        public final RPS0 winsAgainst;\r\n    \r\n        RPS0(final RPS0 winsAgainst)\r\n        {\r\n            this.winsAgainst = Objects.requireNonNull(winsAgainst); // boom\r\n        }\r\n        \r\n        \r\n        \r\n        private static RPS0 scissors() {\r\n            return RPS0.SCISSORS;\r\n        }\r\n    \r\n        private static RPS0 rock() {\r\n            return RPS0.ROCK;\r\n        }\r\n    \r\n        private static RPS0 paper() {\r\n            return RPS0.PAPER;\r\n        }\r\n    }\r\n\r\nThe lambda case is pretty much identical. The value is still not definitely assigned. Consider a case where the enum constructor calls `get` on the `Supplier`. Refer back to the order of initialization above. In the example below, `ROCK` would be trying to access `SCISSORS` before it was initialized, and that&#39;s a potential bug that the compiler is trying to protect you from.\r\n\r\n    enum RPS1\r\n    {\r\n        ROCK(() -&gt; SCISSORS), // compiler error\r\n        PAPER(() -&gt; ROCK),\r\n        SCISSORS(() -&gt; PAPER);\r\n         \r\n        private final Supplier&lt;RPS1&gt; winsAgainst;\r\n         \r\n        RPS1(final Supplier&lt;RPS1&gt; winsAgainst)\r\n        {\r\n            RPS1.get(); // doesn&#39;t compile, but would be null if it did\r\n        }\r\n    }\r\n\r\nAnnoying, really, because you know you&#39;re *not* using the Supplier in that way, and that&#39;s the only time it may not be assigned yet.\r\n\r\nThe reason the abstract class works is because the expression-target in the constructor is now gone completely. Again, refer back to the order of initialization. You should be able to see that for anything which calls `winsAgainst`, e.g. the example in #1, that invocation (#6) necessarily occurs after *all* enum constants have already been initialized (#3). The compiler can guarantee this access is safe. \r\n\r\nPutting together two of the things we know - that we can use indirection to stop the compiler complaining about lack of definite assignment, and that `Supplier` can supply a value lazily - we can create an alternative solution:\r\n\r\n    enum RPS0\r\n    {\r\n        ROCK(RPS0::scissors), // i.e. () -&gt; scissors()\r\n        PAPER(RPS0::rock),\r\n        SCISSORS(RPS0::paper);\r\n    \r\n        public final Supplier&lt;RPS0&gt; winsAgainst;\r\n    \r\n        RPS0(Supplier&lt;RPS0&gt; winsAgainst) {\r\n            this.winsAgainst = winsAgainst;\r\n        }\r\n        \r\n        public RPS0 winsAgainst() {\r\n            return winsAgainst.get();\r\n        }\r\n\r\n\r\n        // Private indirection methods\r\n        private static RPS0 scissors() {\r\n            return RPS0.SCISSORS;\r\n        }\r\n    \r\n        private static RPS0 rock() {\r\n            return RPS0.ROCK;\r\n        }\r\n    \r\n        private static RPS0 paper() {\r\n            return RPS0.PAPER;\r\n        }\r\n    }\r\n\r\nThis is provably safe, provided that the constructor never calls `Supplier.get` (including any methods the constructor itself calls).","title":"Why does my lambda get illegal forward reference, but my anonymous class does not?","body":"<p>I believe this is rooted in what the JLS calls <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-16.html\" rel=\"nofollow noreferrer\">&quot;definite assignment&quot;</a>.</p>\n<p>First, it may be helpful to outline the order in which the enum is initialized for your first example.</p>\n<ol>\n<li>Some other class refers to the enum class for the first time, e.g. <code>RPS0.ROCK.winsAgainst()</code></li>\n<li>The &quot;clinit&quot; (static initializer is invoked)</li>\n<li>The enum constants are initialized in order of declaration\n<ol>\n<li>An equivalent of <code>public static final RPS0 ROCK = new RPS0(SCISSORS);</code></li>\n<li>An equivalent of <code>public static final RPS0 PAPER = new RPS0(ROCK);</code></li>\n<li>An equivalent of <code>public static final RPS0 SCISSORS = new RPS0(PAPER);</code></li>\n</ol>\n</li>\n<li>The enum class is now loaded</li>\n<li>The expression <code>RPS0.ROCK</code> is evaluated for that referencing class in #1</li>\n<li><code>winsAgainst</code> is invoked on that instance.</li>\n</ol>\n<p>The reason this fails on the <code>ROCK</code> line is because <code>SCISSORS</code> is not &quot;definitely assigned&quot;. Knowing the order of initialization, we can see it's even worse than that. Not only is it <em>not definitely</em> assigned, it's <em>definitely not</em> assigned. The assignment of <code>SCISSORS</code> (3.3) happens after <code>ROCK</code> (3.1).</p>\n<p><code>SCISSORS</code> would be null when <code>ROCK</code> tried to access it, if the compiler were to allow this. It's assigned later.</p>\n<p>We can see this for ourselves if we introduce some indirection. The definite assignment problem is now gone because our constructors aren't referencing the fields directly. The compiler isn't checking for any definite assignment in the constructor expression. The constructor is using result of a method invocation, not a field.</p>\n<p>All we've done is trick the compiler into allowing something that's going to fail.</p>\n<pre><code>enum RPS0\n{\n    ROCK(scissors()),\n    PAPER(rock()),\n    SCISSORS(paper());\n\n    public final RPS0 winsAgainst;\n\n    RPS0(final RPS0 winsAgainst)\n    {\n        this.winsAgainst = Objects.requireNonNull(winsAgainst); // boom\n    }\n    \n    \n    \n    private static RPS0 scissors() {\n        return RPS0.SCISSORS;\n    }\n\n    private static RPS0 rock() {\n        return RPS0.ROCK;\n    }\n\n    private static RPS0 paper() {\n        return RPS0.PAPER;\n    }\n}\n</code></pre>\n<p>The lambda case is pretty much identical. The value is still not definitely assigned. Consider a case where the enum constructor calls <code>get</code> on the <code>Supplier</code>. Refer back to the order of initialization above. In the example below, <code>ROCK</code> would be trying to access <code>SCISSORS</code> before it was initialized, and that's a potential bug that the compiler is trying to protect you from.</p>\n<pre><code>enum RPS1\n{\n    ROCK(() -&gt; SCISSORS), // compiler error\n    PAPER(() -&gt; ROCK),\n    SCISSORS(() -&gt; PAPER);\n     \n    private final Supplier&lt;RPS1&gt; winsAgainst;\n     \n    RPS1(final Supplier&lt;RPS1&gt; winsAgainst)\n    {\n        RPS1.get(); // doesn't compile, but would be null if it did\n    }\n}\n</code></pre>\n<p>Annoying, really, because you know you're <em>not</em> using the Supplier in that way, and that's the only time it may not be assigned yet.</p>\n<p>The reason the abstract class works is because the expression-target in the constructor is now gone completely. Again, refer back to the order of initialization. You should be able to see that for anything which calls <code>winsAgainst</code>, e.g. the example in #1, that invocation (#6) necessarily occurs after <em>all</em> enum constants have already been initialized (#3). The compiler can guarantee this access is safe.</p>\n<p>Putting together two of the things we know - that we can use indirection to stop the compiler complaining about lack of definite assignment, and that <code>Supplier</code> can supply a value lazily - we can create an alternative solution:</p>\n<pre><code>enum RPS0\n{\n    ROCK(RPS0::scissors), // i.e. () -&gt; scissors()\n    PAPER(RPS0::rock),\n    SCISSORS(RPS0::paper);\n\n    public final Supplier&lt;RPS0&gt; winsAgainst;\n\n    RPS0(Supplier&lt;RPS0&gt; winsAgainst) {\n        this.winsAgainst = winsAgainst;\n    }\n    \n    public RPS0 winsAgainst() {\n        return winsAgainst.get();\n    }\n\n\n    // Private indirection methods\n    private static RPS0 scissors() {\n        return RPS0.SCISSORS;\n    }\n\n    private static RPS0 rock() {\n        return RPS0.ROCK;\n    }\n\n    private static RPS0 paper() {\n        return RPS0.PAPER;\n    }\n}\n</code></pre>\n<p>This is provably safe, provided that the constructor never calls <code>Supplier.get</code> (including any methods the constructor itself calls).</p>\n"},{"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1673369586,"post_id":75073316,"comment_id":132481256,"body_markdown":"If that&#39;s what you&#39;re going with, you don&#39;t need the supplier. You can use an anonymous class for the first one. This only works because rock papers scissors has a cyclic relationship, but for a complex state transition model, I suspect this method of &quot;breaking&quot; the cyclic relationships is either extremely tedious, to physically impossible.","body":"If that&#39;s what you&#39;re going with, you don&#39;t need the supplier. You can use an anonymous class for the first one. This only works because rock papers scissors has a cyclic relationship, but for a complex state transition model, I suspect this method of &quot;breaking&quot; the cyclic relationships is either extremely tedious, to physically impossible."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":1,"creation_date":1673369827,"post_id":75073316,"comment_id":132481350,"body_markdown":"Thank you for your response. This makes me laugh because it really ties down the difference between the 2. Maybe if we get compact methods, this might be more terse.","body":"Thank you for your response. This makes me laugh because it really ties down the difference between the 2. Maybe if we get compact methods, this might be more terse."}],"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673369533,"creation_date":1673369533,"answer_id":75073316,"question_id":75072937,"body_markdown":"Not really an answer, but as soon as you replace the first lambda expression with an anonymous class, it gets to work. \r\n\r\n```java\r\nenum RPS1 {\r\n\tROCK(new Supplier&lt;&gt;() {\r\n\t\t@Override\r\n\t\tpublic RPS1 get() {\r\n\t\t\treturn SCISSORS;\r\n\t\t}\r\n\t}),\r\n\t\t\r\n\tPAPER(() -&gt; ROCK),\r\n\tSCISSORS(() -&gt; PAPER);\r\n\r\n\tprivate final Supplier&lt;RPS1&gt; winsAgainst;\r\n\r\n\tRPS1(final Supplier&lt;RPS1&gt; winsAgainst) {\r\n\t\tthis.winsAgainst = winsAgainst;\r\n\t}\r\n\r\n\tpublic RPS1 winsAgainst() {\r\n\t\treturn this.winsAgainst.get();\r\n\t}\r\n}\r\n```","title":"Why does my lambda get illegal forward reference, but my anonymous class does not?","body":"<p>Not really an answer, but as soon as you replace the first lambda expression with an anonymous class, it gets to work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum RPS1 {\n    ROCK(new Supplier&lt;&gt;() {\n        @Override\n        public RPS1 get() {\n            return SCISSORS;\n        }\n    }),\n        \n    PAPER(() -&gt; ROCK),\n    SCISSORS(() -&gt; PAPER);\n\n    private final Supplier&lt;RPS1&gt; winsAgainst;\n\n    RPS1(final Supplier&lt;RPS1&gt; winsAgainst) {\n        this.winsAgainst = winsAgainst;\n    }\n\n    public RPS1 winsAgainst() {\n        return this.winsAgainst.get();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1673370323,"post_id":75073412,"comment_id":132481527,"body_markdown":"Thank you for your response. I sort of understand. I guess the next question is, why isn&#39;t a lambda body considered a different class? Isn&#39;t the purpose of a lambda to provide a function whose scope is it&#39;s own, but with some fields/methods/etc borrowed from the scope that it is in? Perhaps I am wrong.","body":"Thank you for your response. I sort of understand. I guess the next question is, why isn&#39;t a lambda body considered a different class? Isn&#39;t the purpose of a lambda to provide a function whose scope is it&#39;s own, but with some fields/methods/etc borrowed from the scope that it is in? Perhaps I am wrong."}],"tags":[],"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673370104,"creation_date":1673370104,"answer_id":75073412,"question_id":75072937,"body_markdown":"https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.3.3\r\n\r\nBased on the rules in there, it looks like the anonymous class is considered acceptable because it&#39;s a &quot;different class&quot;.\r\n\r\nThere are several comments in the example that say &quot;ok - occurs in a different class&quot;\r\n\r\n\r\n\r\n","title":"Why does my lambda get illegal forward reference, but my anonymous class does not?","body":"<p><a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.3.3\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.3.3</a></p>\n<p>Based on the rules in there, it looks like the anonymous class is considered acceptable because it's a &quot;different class&quot;.</p>\n<p>There are several comments in the example that say &quot;ok - occurs in a different class&quot;</p>\n"}],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"closed_date":1673371145,"accepted_answer_id":75073267,"answer_count":4,"score":5,"last_activity_date":1673377542,"creation_date":1673367734,"question_id":75072937,"body_markdown":"I am trying to represent a [State Transition Diagram][1], and I want to do this with a Java enum. I am well aware that there are many other ways to accomplish this with `Map&lt;K, V&gt;` or maybe with a static initialization block in my enum. However, I am trying to understand why the following occurs.\r\n\r\nHere is a(n extremely) simplified example of what I am trying to do.\r\n\r\n```java\r\n\r\nenum RPS0\r\n{\r\n  \r\n    ROCK(SCISSORS),\r\n    PAPER(ROCK),\r\n    SCISSORS(PAPER);\r\n     \r\n    public final RPS0 winsAgainst;\r\n     \r\n    RPS0(final RPS0 winsAgainst)\r\n    {\r\n        this.winsAgainst = winsAgainst;\r\n    }\r\n}\r\n```\r\n\r\nObviously, this fails due to an illegal forward reference.\r\n\r\n```\r\nScratchPad.java:150: error: illegal forward reference\r\n         ROCK(SCISSORS),\r\n              ^\r\n```\r\n\r\nThat&#39;s fine, I accept that. Trying to manually insert `SCISSORS` there would require Java to try and setup `SCISSORS`, which would then trigger setting up `PAPER`, which would then trigger setting up `ROCK`, leading to an infinite loop. I can easily understand then why this direct reference is not acceptable, and is prohibited with a compiler error.\r\n\r\nSo, I experimented and tried to do the same with lambdas.\r\n\r\n```java\r\nenum RPS1\r\n{\r\n    ROCK(() -&gt; SCISSORS),\r\n    PAPER(() -&gt; ROCK),\r\n    SCISSORS(() -&gt; PAPER);\r\n     \r\n    private final Supplier&lt;RPS1&gt; winsAgainst;\r\n     \r\n    RPS1(final Supplier&lt;RPS1&gt; winsAgainst)\r\n    {\r\n        this.winsAgainst = winsAgainst;\r\n    }\r\n     \r\n    public RPS1 winsAgainst()\r\n    {\r\n        return this.winsAgainst.get();\r\n    }\r\n}\r\n```\r\n\r\nIt failed with basically the same error.\r\n\r\n```\r\nScratchPad.java:169: error: illegal forward reference\r\n         ROCK(() -&gt; SCISSORS),\r\n                    ^\r\n```\r\n\r\nI was a little more bothered by this, since I really felt like the lambda should have allowed it to not fail. But admittedly, I didn&#39;t understand nearly enough about the rules, scoping, and boundaries of lambdas to have a firmer opinion.\r\n\r\nBy the way, I experimented with adding curly braces and a return to the lambda, but that didn&#39;t help either.\r\n\r\nSo, I tried with an anonymous class.\r\n\r\n```java\r\nenum RPS2\r\n{\r\n    ROCK\r\n    {\r\n        public RPS2 winsAgainst()\r\n        {\r\n            return SCISSORS;\r\n        } \r\n    },\r\n         \r\n    PAPER\r\n    {\r\n        public RPS2 winsAgainst()\r\n        {\r\n            return ROCK;\r\n        }     \r\n    },\r\n         \r\n    SCISSORS\r\n    {\r\n        public RPS2 winsAgainst()\r\n        {\r\n            return PAPER;\r\n        }\r\n    };\r\n         \r\n    public abstract RPS2 winsAgainst();   \r\n}\r\n```\r\n\r\nShockingly enough, it worked.\r\n\r\n```\r\nSystem.out.println(RPS2.ROCK.winsAgainst()); //returns &quot;SCISSORS&quot;\r\n```\r\n\r\nSo then, I thought to search the [Java Language Specification for Java 19][2] for answers, but my searches ended up returning nothing. I tried doing Ctrl+F searches (case-insensitive) for relevant phrases like &quot;***Illegal***&quot;, &quot;***Forward***&quot;, &quot;***Reference***&quot;, &quot;***Enum***&quot;, &quot;***Lambda***&quot;, &quot;***Anonymous***&quot; and more. Here are some of the links I searched. Maybe I missed something in them that answers my question?\r\n\r\n - [Anonymous Class][3]\r\n - [Lambda][4]\r\n - [Restrictions on Field References][5]\r\n - [Restriction on Enum Constant Self-Reference][6]\r\n\r\nNone of them answered my question. Could someone help me understand the rules in play that prevented me from using lambdas but allowed anonymous classes? \r\n\r\n***EDIT*** - @DidierL pointed out a link to [another StackOverflow post][7] that deals with something similar. I think the answer given to that question is the same answer to mine. In short, an anonymous class has its own &quot;context&quot;, while a lambda does not. Therefore, when the lambda attempts to fetch declarations of variables/methods/etc., it would be the same as if you did it inline, like my RPS0 example above.\r\n\r\nIt&#39;s frustrating, but I think that, as well as @Michael&#39;s answer have both answered my question to completion.\r\n\r\n***EDIT 2*** - Adding this snippet for my discussion with @Michael.\r\n\r\n```java\r\n\r\n      enum RPS4\r\n      {\r\n      \r\n         ROCK\r\n         {\r\n            \r\n            public RPS4 winsAgainst()\r\n            {\r\n            \r\n               return SCISSORS;\r\n            }\r\n         \r\n         },\r\n         \r\n         PAPER\r\n         {\r\n         \r\n            public RPS4 winsAgainst()\r\n            {\r\n            \r\n               return ROCK;\r\n               \r\n            }\r\n            \r\n         },\r\n         \r\n         SCISSORS\r\n         {\r\n         \r\n            public RPS4 winsAgainst()\r\n            {\r\n            \r\n               return PAPER;\r\n            \r\n            }\r\n         \r\n         },\r\n         ;\r\n         \r\n         public final RPS4 winsAgainst;\r\n         \r\n         RPS4()\r\n         {\r\n         \r\n            this.winsAgainst = this.winsAgainst();\r\n         \r\n         }\r\n         \r\n         public abstract RPS4 winsAgainst();\r\n      \r\n      }\r\n   \r\n```\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/State_diagram\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se19/html/index.html\r\n  [3]: https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.9.5\r\n  [4]: https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.27\r\n  [5]: https://docs.oracle.com/javase/specs/jls/se19/html/jls-8.html#d5e14309\r\n  [6]: https://docs.oracle.com/javase/specs/jls/se19/html/jls-8.html#d5e16611\r\n  [7]: https://stackoverflow.com/a/55166692/10118965","title":"Why does my lambda get illegal forward reference, but my anonymous class does not?","body":"<p>I am trying to represent a <a href=\"https://en.wikipedia.org/wiki/State_diagram\" rel=\"nofollow noreferrer\">State Transition Diagram</a>, and I want to do this with a Java enum. I am well aware that there are many other ways to accomplish this with <code>Map&lt;K, V&gt;</code> or maybe with a static initialization block in my enum. However, I am trying to understand why the following occurs.</p>\n<p>Here is a(n extremely) simplified example of what I am trying to do.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nenum RPS0\n{\n  \n    ROCK(SCISSORS),\n    PAPER(ROCK),\n    SCISSORS(PAPER);\n     \n    public final RPS0 winsAgainst;\n     \n    RPS0(final RPS0 winsAgainst)\n    {\n        this.winsAgainst = winsAgainst;\n    }\n}\n</code></pre>\n<p>Obviously, this fails due to an illegal forward reference.</p>\n<pre><code>ScratchPad.java:150: error: illegal forward reference\n         ROCK(SCISSORS),\n              ^\n</code></pre>\n<p>That's fine, I accept that. Trying to manually insert <code>SCISSORS</code> there would require Java to try and setup <code>SCISSORS</code>, which would then trigger setting up <code>PAPER</code>, which would then trigger setting up <code>ROCK</code>, leading to an infinite loop. I can easily understand then why this direct reference is not acceptable, and is prohibited with a compiler error.</p>\n<p>So, I experimented and tried to do the same with lambdas.</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum RPS1\n{\n    ROCK(() -&gt; SCISSORS),\n    PAPER(() -&gt; ROCK),\n    SCISSORS(() -&gt; PAPER);\n     \n    private final Supplier&lt;RPS1&gt; winsAgainst;\n     \n    RPS1(final Supplier&lt;RPS1&gt; winsAgainst)\n    {\n        this.winsAgainst = winsAgainst;\n    }\n     \n    public RPS1 winsAgainst()\n    {\n        return this.winsAgainst.get();\n    }\n}\n</code></pre>\n<p>It failed with basically the same error.</p>\n<pre><code>ScratchPad.java:169: error: illegal forward reference\n         ROCK(() -&gt; SCISSORS),\n                    ^\n</code></pre>\n<p>I was a little more bothered by this, since I really felt like the lambda should have allowed it to not fail. But admittedly, I didn't understand nearly enough about the rules, scoping, and boundaries of lambdas to have a firmer opinion.</p>\n<p>By the way, I experimented with adding curly braces and a return to the lambda, but that didn't help either.</p>\n<p>So, I tried with an anonymous class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum RPS2\n{\n    ROCK\n    {\n        public RPS2 winsAgainst()\n        {\n            return SCISSORS;\n        } \n    },\n         \n    PAPER\n    {\n        public RPS2 winsAgainst()\n        {\n            return ROCK;\n        }     \n    },\n         \n    SCISSORS\n    {\n        public RPS2 winsAgainst()\n        {\n            return PAPER;\n        }\n    };\n         \n    public abstract RPS2 winsAgainst();   \n}\n</code></pre>\n<p>Shockingly enough, it worked.</p>\n<pre><code>System.out.println(RPS2.ROCK.winsAgainst()); //returns &quot;SCISSORS&quot;\n</code></pre>\n<p>So then, I thought to search the <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/index.html\" rel=\"nofollow noreferrer\">Java Language Specification for Java 19</a> for answers, but my searches ended up returning nothing. I tried doing Ctrl+F searches (case-insensitive) for relevant phrases like &quot;<em><strong>Illegal</strong></em>&quot;, &quot;<em><strong>Forward</strong></em>&quot;, &quot;<em><strong>Reference</strong></em>&quot;, &quot;<em><strong>Enum</strong></em>&quot;, &quot;<em><strong>Lambda</strong></em>&quot;, &quot;<em><strong>Anonymous</strong></em>&quot; and more. Here are some of the links I searched. Maybe I missed something in them that answers my question?</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.9.5\" rel=\"nofollow noreferrer\">Anonymous Class</a></li>\n<li><a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.27\" rel=\"nofollow noreferrer\">Lambda</a></li>\n<li><a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-8.html#d5e14309\" rel=\"nofollow noreferrer\">Restrictions on Field References</a></li>\n<li><a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-8.html#d5e16611\" rel=\"nofollow noreferrer\">Restriction on Enum Constant Self-Reference</a></li>\n</ul>\n<p>None of them answered my question. Could someone help me understand the rules in play that prevented me from using lambdas but allowed anonymous classes?</p>\n<p><em><strong>EDIT</strong></em> - @DidierL pointed out a link to <a href=\"https://stackoverflow.com/a/55166692/10118965\">another StackOverflow post</a> that deals with something similar. I think the answer given to that question is the same answer to mine. In short, an anonymous class has its own &quot;context&quot;, while a lambda does not. Therefore, when the lambda attempts to fetch declarations of variables/methods/etc., it would be the same as if you did it inline, like my RPS0 example above.</p>\n<p>It's frustrating, but I think that, as well as @Michael's answer have both answered my question to completion.</p>\n<p><em><strong>EDIT 2</strong></em> - Adding this snippet for my discussion with @Michael.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n      enum RPS4\n      {\n      \n         ROCK\n         {\n            \n            public RPS4 winsAgainst()\n            {\n            \n               return SCISSORS;\n            }\n         \n         },\n         \n         PAPER\n         {\n         \n            public RPS4 winsAgainst()\n            {\n            \n               return ROCK;\n               \n            }\n            \n         },\n         \n         SCISSORS\n         {\n         \n            public RPS4 winsAgainst()\n            {\n            \n               return PAPER;\n            \n            }\n         \n         },\n         ;\n         \n         public final RPS4 winsAgainst;\n         \n         RPS4()\n         {\n         \n            this.winsAgainst = this.winsAgainst();\n         \n         }\n         \n         public abstract RPS4 winsAgainst();\n      \n      }\n   \n</code></pre>\n"},{"tags":["java","selenium","properties","properties-file"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1673378554,"post_id":75074653,"comment_id":132484078,"body_markdown":"try `${browser:-}`, `${browser:}`, or `${browser-}`","body":"try <code>${browser:-}</code>, <code>${browser:}</code>, or <code>${browser-}</code>"},{"owner":{"account_id":17501311,"reputation":1,"user_id":12691505,"display_name":"Athul Devkar"},"score":0,"creation_date":1673392627,"post_id":75074653,"comment_id":132487810,"body_markdown":"Thanks for the response. However, that didn&#39;t work :(","body":"Thanks for the response. However, that didn&#39;t work :("}],"owner":{"account_id":17501311,"reputation":1,"user_id":12691505,"display_name":"Athul Devkar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673377266,"creation_date":1673377266,"question_id":75074653,"body_markdown":"So, we have this selenium.properties file from where we get the browser details from the below tag.\r\n\r\nbrowser = ${browser}\r\n\r\nWhen we run through maven command, this value get populated based on what we pass in -Dbrowser and its all good. However, when we don&#39;t pass in a browser value, instead of returning us null value getProperty is returning &quot;${browser}&quot; as value. How to avoid this?\r\n\r\n\r\n\r\nTried googling about this but no real info on how to fix this.","title":"getProperty from Properties.java file is returning ${browser} instead of null when no value is passed","body":"<p>So, we have this selenium.properties file from where we get the browser details from the below tag.</p>\n<p>browser = ${browser}</p>\n<p>When we run through maven command, this value get populated based on what we pass in -Dbrowser and its all good. However, when we don't pass in a browser value, instead of returning us null value getProperty is returning &quot;${browser}&quot; as value. How to avoid this?</p>\n<p>Tried googling about this but no real info on how to fix this.</p>\n"},{"tags":["java","spring","keycloak"],"answers":[{"comments":[{"owner":{"account_id":15040369,"reputation":909,"user_id":10855224,"display_name":"Woodsman"},"score":0,"creation_date":1656392839,"post_id":65250525,"comment_id":128554136,"body_markdown":"For those implementing this, step 1&#39;s class appears to be extending KeycloakWebSecurityConfigurerAdapter.","body":"For those implementing this, step 1&#39;s class appears to be extending KeycloakWebSecurityConfigurerAdapter."}],"tags":[],"owner":{"account_id":20179486,"reputation":101,"user_id":14800355,"display_name":"Mariusz"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1607686167,"creation_date":1607686167,"answer_id":65250525,"question_id":65232897,"body_markdown":"I&#39;ll answer to my question as I managed to find the solution (in case anyone in future faces similar problem). So basically two things are needed:\r\n\r\n 1. Overwrite the KeycloakAuthenticationProcessingFilter bean with setting custom URL in the request matcher:\r\n```\r\n@Bean\r\n    @Override\r\n    protected KeycloakAuthenticationProcessingFilter keycloakAuthenticationProcessingFilter() throws Exception {\r\n        RequestMatcher requestMatcher =\r\n                new OrRequestMatcher(\r\n                        new AntPathRequestMatcher(&quot;/custom_url/sso/login&quot;),\r\n                        new RequestHeaderRequestMatcher(&quot;Authorization&quot;),\r\n                        new QueryParamPresenceRequestMatcher(&quot;access_token&quot;),\r\n                        new AdapterStateCookieRequestMatcher());\r\n\r\n        return new KeycloakAuthenticationProcessingFilter(authenticationManagerBean(), requestMatcher);\r\n    }\r\n```\r\n 2. Set proper authentication entry point:\r\n```\r\n@Override\r\n    protected void configure(final HttpSecurity http) throws Exception {\r\n        KeycloakAuthenticationEntryPoint entryPoint = (KeycloakAuthenticationEntryPoint)authenticationEntryPoint();\r\n        entryPoint.setLoginUri(&quot;/custom_url/sso/login&quot;);\r\n\r\n        super.configure(http);\r\n        http\r\n                .authorizeRequests()\r\n                //...\r\n                .and()\r\n                .exceptionHandling()\r\n                .authenticationEntryPoint(entryPoint)\r\n                .and()\r\n                .csrf().disable();\r\n\r\n\r\n    }\r\n```","title":"Keycloak, spring and /sso/login URL setup","body":"<p>I'll answer to my question as I managed to find the solution (in case anyone in future faces similar problem). So basically two things are needed:</p>\n<ol>\n<li>Overwrite the KeycloakAuthenticationProcessingFilter bean with setting custom URL in the request matcher:</li>\n</ol>\n<pre><code>@Bean\n    @Override\n    protected KeycloakAuthenticationProcessingFilter keycloakAuthenticationProcessingFilter() throws Exception {\n        RequestMatcher requestMatcher =\n                new OrRequestMatcher(\n                        new AntPathRequestMatcher(&quot;/custom_url/sso/login&quot;),\n                        new RequestHeaderRequestMatcher(&quot;Authorization&quot;),\n                        new QueryParamPresenceRequestMatcher(&quot;access_token&quot;),\n                        new AdapterStateCookieRequestMatcher());\n\n        return new KeycloakAuthenticationProcessingFilter(authenticationManagerBean(), requestMatcher);\n    }\n</code></pre>\n<ol start=\"2\">\n<li>Set proper authentication entry point:</li>\n</ol>\n<pre><code>@Override\n    protected void configure(final HttpSecurity http) throws Exception {\n        KeycloakAuthenticationEntryPoint entryPoint = (KeycloakAuthenticationEntryPoint)authenticationEntryPoint();\n        entryPoint.setLoginUri(&quot;/custom_url/sso/login&quot;);\n\n        super.configure(http);\n        http\n                .authorizeRequests()\n                //...\n                .and()\n                .exceptionHandling()\n                .authenticationEntryPoint(entryPoint)\n                .and()\n                .csrf().disable();\n\n\n    }\n</code></pre>\n"}],"owner":{"account_id":20179486,"reputation":101,"user_id":14800355,"display_name":"Mariusz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5842,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":65250525,"answer_count":1,"score":6,"last_activity_date":1673377121,"creation_date":1607596582,"question_id":65232897,"body_markdown":"I have a spring boot app which is hidden behind reverse proxy. When user sends request to a resource without authorization he is redirected to keycloak login page with `redirect_uri` param set to e.g. `http://some_url/sso/login` (the URL is always relative to context path). I need to change this URL to something like `http://some_url/api/my_api/sso/login` so that reverse proxy knows where to redirect such request. Any idea how to achieve this? Is there any keycloak adapter configuration option to set it (I haven&#39;t found any) or some bean need to be overwritten?","title":"Keycloak, spring and /sso/login URL setup","body":"<p>I have a spring boot app which is hidden behind reverse proxy. When user sends request to a resource without authorization he is redirected to keycloak login page with <code>redirect_uri</code> param set to e.g. <code>http://some_url/sso/login</code> (the URL is always relative to context path). I need to change this URL to something like <code>http://some_url/api/my_api/sso/login</code> so that reverse proxy knows where to redirect such request. Any idea how to achieve this? Is there any keycloak adapter configuration option to set it (I haven't found any) or some bean need to be overwritten?</p>\n"},{"tags":["java","apache-kafka","apache-zookeeper","sasl"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673377207,"post_id":75066018,"comment_id":132483644,"body_markdown":"Why do you think a restart is necessary? I think you want to use `--bootstrap-server` and `--command-config` for authenticating **that command**... Otherwise, you seem to be missing `--zk-tls-config-file` argument","body":"Why do you think a restart is necessary? I think you want to use <code>--bootstrap-server</code> and <code>--command-config</code> for authenticating <b>that command</b>... Otherwise, you seem to be missing <code>--zk-tls-config-file</code> argument"}],"owner":{"account_id":27484777,"reputation":1,"user_id":20971208,"display_name":"kimiya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673377077,"creation_date":1673330340,"question_id":75066018,"body_markdown":"We want to add authentication to our kafka cluster by using SASL_SSL.\r\nAs we see that we want to be able to frequently add users we are looking for at way to do this without having to perform a rolling restart.\r\nserver.properties\r\n\r\n```\r\n\r\nlisteners=PLAINTEXT://localhost:9092,SASL_SSL://localhost:9093\r\nadvertised.listeners=PLAINTEXT://localhost:9092,SASL_SSL://localhost:9093\r\nlistener.security.protocol.map=PLAINTEXT:PLAINTEXT,SASL_SSL:SASL_SSL\r\n#SASL_SSL:Listener with TLS-based encryption and SASL-based authentication.\r\nsasl.mechanism.inter.broker.protocol=SCRAM-SHA-256\r\nsasl.enabled.mechanisms=SCRAM-SHA-256\r\ninter.broker.listener.name=PLAINTEXT\r\nssl.endpoint.identification.algorithm=\r\nssl.client.auth=required\r\n\r\nssl.enabled.protocols =  TLSv1.2,TLSv1.1,TLSv1\r\nsasl.mechanism.controller.protocol=SCRAM-SHA-256\r\n\r\nssl.keystore.location=certs\\\\server.keystore.jks\r\nssl.keystore.password=******\r\nssl.truststore.location=certs\\\\server.truststore.jks\r\nssl.truststore.password==******\r\nssl.key.password==******\r\n\r\nsuper.users=User:admin\r\nzookeeper.set.acl=true\r\nallow.everyone.if.no.acl.found=true\r\n```\r\n\r\nzookeeper.properties\r\n\r\n```\r\nauthProvider.1=org.apache.zookeeper.server.auth.SASLAuthenticationProvider\r\nauthProvider.2=org.apache.zookeeper.server.auth.DigestAuthenticationProvider\r\nrequireClientAuthScheme=sasl\r\nsasl.client=true\r\nsasl.clientconfig=Client\r\n```\r\n\r\nproducer.properties &amp; consumer.properties\r\n\r\n```\r\n\r\nsecurity.protocol=SASL_SSL\r\nsasl.mechanism=SCRAM-SHA-256\r\nsasl.jaas.config=org.apache.kafka.common.security.scram.ScramLoginModule required username=&quot;alice&quot; password=&quot;alice-secret&quot;;\r\nssl.keystore.location=certs\\\\client.keystore.jks\r\nssl.keystore.password==******\r\nssl.key.password==******\r\nssl.truststore.location=certs\\\\client.truststore.jks\r\nssl.truststore.password==******\r\n```\r\n\r\nzookeeper and kafka start.....\r\n\r\nthen add user with below command throw Exception:\r\n\r\nsh kafka-configs.sh --zookeeper localhost:2181 --alter --add-config &#39;SCRAM-SHA-256=[password=&#39;testUSer-secret&#39;]&#39; --entity-type users --entity-name testUSer\r\n\r\nexception:\r\n\r\norg.apache.zookeeper.keeperException$NoAuthException:KeeperErrorCode = NoAuth for config/users/testUser\r\n\r\nIs it possible to add new users to the SASL JAAS configuration without restarting the Kafka cluster?","title":"add user to kafka authentication without cluster restart","body":"<p>We want to add authentication to our kafka cluster by using SASL_SSL.\nAs we see that we want to be able to frequently add users we are looking for at way to do this without having to perform a rolling restart.\nserver.properties</p>\n<pre><code>\nlisteners=PLAINTEXT://localhost:9092,SASL_SSL://localhost:9093\nadvertised.listeners=PLAINTEXT://localhost:9092,SASL_SSL://localhost:9093\nlistener.security.protocol.map=PLAINTEXT:PLAINTEXT,SASL_SSL:SASL_SSL\n#SASL_SSL:Listener with TLS-based encryption and SASL-based authentication.\nsasl.mechanism.inter.broker.protocol=SCRAM-SHA-256\nsasl.enabled.mechanisms=SCRAM-SHA-256\ninter.broker.listener.name=PLAINTEXT\nssl.endpoint.identification.algorithm=\nssl.client.auth=required\n\nssl.enabled.protocols =  TLSv1.2,TLSv1.1,TLSv1\nsasl.mechanism.controller.protocol=SCRAM-SHA-256\n\nssl.keystore.location=certs\\\\server.keystore.jks\nssl.keystore.password=******\nssl.truststore.location=certs\\\\server.truststore.jks\nssl.truststore.password==******\nssl.key.password==******\n\nsuper.users=User:admin\nzookeeper.set.acl=true\nallow.everyone.if.no.acl.found=true\n</code></pre>\n<p>zookeeper.properties</p>\n<pre><code>authProvider.1=org.apache.zookeeper.server.auth.SASLAuthenticationProvider\nauthProvider.2=org.apache.zookeeper.server.auth.DigestAuthenticationProvider\nrequireClientAuthScheme=sasl\nsasl.client=true\nsasl.clientconfig=Client\n</code></pre>\n<p>producer.properties &amp; consumer.properties</p>\n<pre><code>\nsecurity.protocol=SASL_SSL\nsasl.mechanism=SCRAM-SHA-256\nsasl.jaas.config=org.apache.kafka.common.security.scram.ScramLoginModule required username=&quot;alice&quot; password=&quot;alice-secret&quot;;\nssl.keystore.location=certs\\\\client.keystore.jks\nssl.keystore.password==******\nssl.key.password==******\nssl.truststore.location=certs\\\\client.truststore.jks\nssl.truststore.password==******\n</code></pre>\n<p>zookeeper and kafka start.....</p>\n<p>then add user with below command throw Exception:</p>\n<p>sh kafka-configs.sh --zookeeper localhost:2181 --alter --add-config 'SCRAM-SHA-256=[password='testUSer-secret']' --entity-type users --entity-name testUSer</p>\n<p>exception:</p>\n<p>org.apache.zookeeper.keeperException$NoAuthException:KeeperErrorCode = NoAuth for config/users/testUser</p>\n<p>Is it possible to add new users to the SASL JAAS configuration without restarting the Kafka cluster?</p>\n"},{"tags":["java","spring","hibernate","jpa"],"answers":[{"comments":[{"owner":{"account_id":7406499,"reputation":5,"user_id":5635288,"display_name":"Cucunimbus"},"score":0,"creation_date":1673446956,"post_id":75074594,"comment_id":132501210,"body_markdown":"Actually, it had to do with the number of arguments passed. It is 6 instead of 5. I think it is because it tries to insert twice the domain_id because it belongs to both of the JoinColumns","body":"Actually, it had to do with the number of arguments passed. It is 6 instead of 5. I think it is because it tries to insert twice the domain_id because it belongs to both of the JoinColumns"}],"tags":[],"owner":{"account_id":25387686,"reputation":83,"user_id":19199234,"display_name":"Rayyan Karimi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673376882,"creation_date":1673376882,"answer_id":75074594,"question_id":75073018,"body_markdown":"For anyone else stumbling on this - it has to do with the data you are trying to insert - for me it was attempting to insert a String that was longer than the size set in the Hibernate annotations. *In debugging*, you can follow the *cause of the Exception* to find the root cause.\r\n\r\nHope it helps!!","title":"Table joined with different tables with one common column in the foreign key","body":"<p>For anyone else stumbling on this - it has to do with the data you are trying to insert - for me it was attempting to insert a String that was longer than the size set in the Hibernate annotations. <em>In debugging</em>, you can follow the <em>cause of the Exception</em> to find the root cause.</p>\n<p>Hope it helps!!</p>\n"}],"owner":{"account_id":7406499,"reputation":5,"user_id":5635288,"display_name":"Cucunimbus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673376882,"creation_date":1673368107,"question_id":75073018,"body_markdown":"I have a problem with JPA when I try to join a table on 2 other tables using one common column.\r\n\r\n\r\n\r\nI have a table project_user mapped to the class ProjectUser with the columns\r\n- project_id (composite foreign key to the table project)\r\n_ user_account_token (composite foreign key to the table domain_user)\r\n- domain_id (composite foreign key to the table project AND domain_user)\r\n\r\nA table project with primary key\r\n- project_id\r\n- domain_id\r\n\r\nAnd a table domain_user with primary key\r\n- user_account_token_id\r\n- domain_id\r\n\r\nHere is the code :\r\n\r\n```\r\n@Entity\r\n@Data\r\n@Table(name = &quot;project_users&quot;, schema = &quot;public&quot;)\r\n@IdClass(ProjectUserId.class)\r\npublic class ProjectUser implements Persistable&lt;ProjectUserId&gt; {\r\n    @Transient\r\n    private boolean isNew = true;\r\n\r\n    @Id\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumns({\r\n            @JoinColumn(name = &quot;project_id&quot;, referencedColumnName = &quot;id&quot;, insertable = false, updatable = false),\r\n            @JoinColumn(name = &quot;domain_id&quot;, referencedColumnName = &quot;domain_id&quot;, insertable = false, updatable = false)\r\n    })\r\n    private Project project;\r\n\r\n    @Id\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumns({\r\n            @JoinColumn(name = &quot;domain_id&quot;, referencedColumnName = &quot;domain_id&quot;, insertable = false, updatable = false),\r\n            @JoinColumn(name = &quot;user_account_token&quot;, referencedColumnName = &quot;user_account_token_id&quot;, insertable = false, updatable = false)\r\n    })\r\n    private DomainUser domainUser;\r\n}\r\n```\r\n\r\nThis does not seem to work, the error I get is :\r\n&gt; could not insert: [commodel.ProjectUser]; SQL [insert into public.project_users (last_access, ref_project_user_role_id, domain_id, user_account_token, project_id) values (?, ?, ?, ?, ?)]; nested exception is org.hibernate.exception.DataException: could not insert: [model.ProjectUser]","title":"Table joined with different tables with one common column in the foreign key","body":"<p>I have a problem with JPA when I try to join a table on 2 other tables using one common column.</p>\n<p>I have a table project_user mapped to the class ProjectUser with the columns</p>\n<ul>\n<li>project_id (composite foreign key to the table project)\n_ user_account_token (composite foreign key to the table domain_user)</li>\n<li>domain_id (composite foreign key to the table project AND domain_user)</li>\n</ul>\n<p>A table project with primary key</p>\n<ul>\n<li>project_id</li>\n<li>domain_id</li>\n</ul>\n<p>And a table domain_user with primary key</p>\n<ul>\n<li>user_account_token_id</li>\n<li>domain_id</li>\n</ul>\n<p>Here is the code :</p>\n<pre><code>@Entity\n@Data\n@Table(name = &quot;project_users&quot;, schema = &quot;public&quot;)\n@IdClass(ProjectUserId.class)\npublic class ProjectUser implements Persistable&lt;ProjectUserId&gt; {\n    @Transient\n    private boolean isNew = true;\n\n    @Id\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumns({\n            @JoinColumn(name = &quot;project_id&quot;, referencedColumnName = &quot;id&quot;, insertable = false, updatable = false),\n            @JoinColumn(name = &quot;domain_id&quot;, referencedColumnName = &quot;domain_id&quot;, insertable = false, updatable = false)\n    })\n    private Project project;\n\n    @Id\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumns({\n            @JoinColumn(name = &quot;domain_id&quot;, referencedColumnName = &quot;domain_id&quot;, insertable = false, updatable = false),\n            @JoinColumn(name = &quot;user_account_token&quot;, referencedColumnName = &quot;user_account_token_id&quot;, insertable = false, updatable = false)\n    })\n    private DomainUser domainUser;\n}\n</code></pre>\n<p>This does not seem to work, the error I get is :</p>\n<blockquote>\n<p>could not insert: [commodel.ProjectUser]; SQL [insert into public.project_users (last_access, ref_project_user_role_id, domain_id, user_account_token, project_id) values (?, ?, ?, ?, ?)]; nested exception is org.hibernate.exception.DataException: could not insert: [model.ProjectUser]</p>\n</blockquote>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10155,"reputation":7189,"user_id":19038,"accept_rate":64,"display_name":"Kevin"},"score":1,"creation_date":1673114857,"post_id":75042449,"comment_id":132427354,"body_markdown":"I&#39;m not exactly sure what you are trying to do or what problem you are facing.  Since you say you are an amateur, don&#39;t try to put it in overly technical terms or even coding terms at all.  Describe, in plain language, what you are trying to do and what problem you are facing.    \nEX: I am trying to create a maze of random height and width.  The problem is my maze doesn&#39;t have any entrances or exits.","body":"I&#39;m not exactly sure what you are trying to do or what problem you are facing.  Since you say you are an amateur, don&#39;t try to put it in overly technical terms or even coding terms at all.  Describe, in plain language, what you are trying to do and what problem you are facing.     EX: I am trying to create a maze of random height and width.  The problem is my maze doesn&#39;t have any entrances or exits."},{"owner":{"account_id":27462906,"reputation":1,"user_id":20953161,"display_name":"Чертков Бронислав"},"score":0,"creation_date":1673121693,"post_id":75042449,"comment_id":132428716,"body_markdown":"I apologize if I give the impression of someone who resorts to abstract terminology, but this has more to do with the mother dialect, I will try to say very simply what I am trying to achieve. \nI&#39;m trying to make a labyrinth that builds itself. \nHaving a large area, I want to put other rooms inside, which are smaller, and build a labyrinth out of them.","body":"I apologize if I give the impression of someone who resorts to abstract terminology, but this has more to do with the mother dialect, I will try to say very simply what I am trying to achieve.  I&#39;m trying to make a labyrinth that builds itself.  Having a large area, I want to put other rooms inside, which are smaller, and build a labyrinth out of them."},{"owner":{"account_id":10155,"reputation":7189,"user_id":19038,"accept_rate":64,"display_name":"Kevin"},"score":0,"creation_date":1673277962,"post_id":75042449,"comment_id":132456960,"body_markdown":"It would appear that the maze function and the room function do exactly the same thing. If you call Maze(40) and then Room(10), the call to Room(10) will completely overwrite what was done in Maze(40).  Are you trying to make a maze with 40 rooms and have each room have 10 smaller rooms in them?","body":"It would appear that the maze function and the room function do exactly the same thing. If you call Maze(40) and then Room(10), the call to Room(10) will completely overwrite what was done in Maze(40).  Are you trying to make a maze with 40 rooms and have each room have 10 smaller rooms in them?"},{"owner":{"account_id":27462906,"reputation":1,"user_id":20953161,"display_name":"Чертков Бронислав"},"score":0,"creation_date":1673347430,"post_id":75042449,"comment_id":132473153,"body_markdown":"Yes it is, I know that the initialization of the rooms with the maze itself is identical just with this initialization was easier for me to separate the zones of work \n\nAnd yes, I&#39;m trying to do exactly what you described.","body":"Yes it is, I know that the initialization of the rooms with the maze itself is identical just with this initialization was easier for me to separate the zones of work   And yes, I&#39;m trying to do exactly what you described."},{"owner":{"account_id":10155,"reputation":7189,"user_id":19038,"accept_rate":64,"display_name":"Kevin"},"score":0,"creation_date":1673366171,"post_id":75042449,"comment_id":132479952,"body_markdown":"Do you want all the rooms within the maze to be the same size?  Or can they be different sizes?","body":"Do you want all the rooms within the maze to be the same size?  Or can they be different sizes?"},{"owner":{"account_id":27462906,"reputation":1,"user_id":20953161,"display_name":"Чертков Бронислав"},"score":0,"creation_date":1673370230,"post_id":75042449,"comment_id":132481492,"body_markdown":"different sizes. I added random for this purpose","body":"different sizes. I added random for this purpose"}],"answers":[{"tags":[],"owner":{"account_id":10155,"reputation":7189,"user_id":19038,"accept_rate":64,"display_name":"Kevin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673375686,"creation_date":1673375686,"answer_id":75074402,"question_id":75042449,"body_markdown":"Based on your comments, you need to change the room function to use a local string[][] instead of the static string[][] maze declared by the class and change your return statement to process that instead.  \r\n\r\nThen change your maze function to call the room function each loop instead of doing its own thing","title":"How to put a one two-dimensional array into another","body":"<p>Based on your comments, you need to change the room function to use a local string[][] instead of the static string[][] maze declared by the class and change your return statement to process that instead.</p>\n<p>Then change your maze function to call the room function each loop instead of doing its own thing</p>\n"}],"owner":{"account_id":27462906,"reputation":1,"user_id":20953161,"display_name":"Чертков Бронислав"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1673375686,"creation_date":1673113057,"question_id":75042449,"body_markdown":"The question is how do I put one two-dimensional array into another if I explain simply the meaning of this project is a self-constructed maze of room which I, as an amateur, cannot describe with due detail because\r\nI don&#39;t know what details to add.\r\n\r\n```\r\nimport java.util.concurrent.ThreadLocalRandom;\r\nimport java.util.Arrays;\r\nimport java.util.*;\r\npublic class Main\r\n{\r\n\tstatic String[][] maze;\r\n\tpublic static String Room (int x)\r\n\t{\r\n\t\t// create random number \r\n\t    int randomNum = ThreadLocalRandom.current ().nextInt (5, x + 1);\r\n\t    maze = new String[randomNum][randomNum];\r\n\t    for (int i = 0; i &lt; maze.length; i++) {\r\n\t\t\tfor (int j = 0; j &lt; maze.length; j++) {\r\n\t    \t\t//create the ROOM\r\n            \tmaze[i][j] = &quot;c&quot;;\r\n\t\t\t    maze[0][j] = &quot;\\u2014&quot;;\r\n\t\t\t    maze[maze.length - 1][j] = &quot;\\u2014&quot;;\r\n\t    \t\tmaze[i][0] = &quot;\\u007c&quot;;\r\n\t\t    \tmaze[i][maze.length - 1] = &quot;\\u007c&quot;;\r\n\t\t\t    maze[0][maze.length - 1] = &quot;+&quot;;\r\n\t\t    \tmaze[maze.length - 1][0] = &quot;+&quot;;\r\n\t\t\t    maze[0][0] = &quot;+&quot;;\r\n\t\t    \tmaze[maze.length - 1][maze.length - 1] = &quot;+&quot;;\r\n\t\t  \t}\r\n\t\t}\r\n\r\n\t    return (Arrays.deepToString(maze)\r\n\t\t\t.replace(&quot;]&quot;, &quot;\\n&quot;)\r\n\t\t\t.replace(&quot;[[&quot;, &quot; &quot;)\r\n\t\t\t.replace(&quot;[&quot;, &quot;&quot;)\r\n\t\t\t.replace(&quot;,&quot;, &quot;&quot;));\r\n\t}\r\n\r\n\tpublic static String Maze(int x) {\r\n\t\tint randomNum = ThreadLocalRandom.current ().nextInt (40, x + 1);\r\n\t\tmaze = new String[randomNum][randomNum];\r\n\t\tfor (int i = 0; i &lt; maze.length; i++) {\r\n\t\t\t// create the maze \r\n\t\t\tfor (int j = 0; j &lt; maze.length; j++) {\r\n\t\t\t\tmaze[i][j] = &quot;r&quot;;\r\n\t\t\t    maze[0][j] = &quot;\\u2014&quot;;\r\n\t    \t\tmaze[maze.length - 1][j] = &quot;\\u2014&quot;;\r\n\t\t\t    maze[i][0] = &quot;\\u007c&quot;;\r\n\t    \t\tmaze[i][maze.length - 1] = &quot;\\u007c&quot;;\r\n\t\t\t    maze[0][maze.length - 1] = &quot;+&quot;;\r\n\t    \t\tmaze[maze.length - 1][0] = &quot;+&quot;;\r\n\t\t\t    maze[0][0] = &quot;+&quot;;\r\n\t    \t\tmaze[maze.length - 1][maze.length - 1] = &quot;+&quot;;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn (Arrays.deepToString(maze)\r\n\t\t\t\t.replace(&quot;]&quot;, &quot;\\n&quot;)\r\n\t\t\t\t.replace (&quot;[[&quot;, &quot; &quot;)\r\n\t\t\t\t.replace (&quot;[&quot;, &quot;&quot;)\r\n\t\t\t\t.replace (&quot;,&quot;, &quot;&quot;));\r\n\t}\r\n\r\n\tpublic static void main (String[] args) { \r\n\t\t// just output   \r\n\t\tString a = Maze(40);\r\n\t\tString x = Room(10);\r\n\t\tSystem.out.println(a);\r\n\t\tSystem.out.println(x);\r\n\t}\r\n}\r\n```\r\n","title":"How to put a one two-dimensional array into another","body":"<p>The question is how do I put one two-dimensional array into another if I explain simply the meaning of this project is a self-constructed maze of room which I, as an amateur, cannot describe with due detail because\nI don't know what details to add.</p>\n<pre><code>import java.util.concurrent.ThreadLocalRandom;\nimport java.util.Arrays;\nimport java.util.*;\npublic class Main\n{\n    static String[][] maze;\n    public static String Room (int x)\n    {\n        // create random number \n        int randomNum = ThreadLocalRandom.current ().nextInt (5, x + 1);\n        maze = new String[randomNum][randomNum];\n        for (int i = 0; i &lt; maze.length; i++) {\n            for (int j = 0; j &lt; maze.length; j++) {\n                //create the ROOM\n                maze[i][j] = &quot;c&quot;;\n                maze[0][j] = &quot;\\u2014&quot;;\n                maze[maze.length - 1][j] = &quot;\\u2014&quot;;\n                maze[i][0] = &quot;\\u007c&quot;;\n                maze[i][maze.length - 1] = &quot;\\u007c&quot;;\n                maze[0][maze.length - 1] = &quot;+&quot;;\n                maze[maze.length - 1][0] = &quot;+&quot;;\n                maze[0][0] = &quot;+&quot;;\n                maze[maze.length - 1][maze.length - 1] = &quot;+&quot;;\n            }\n        }\n\n        return (Arrays.deepToString(maze)\n            .replace(&quot;]&quot;, &quot;\\n&quot;)\n            .replace(&quot;[[&quot;, &quot; &quot;)\n            .replace(&quot;[&quot;, &quot;&quot;)\n            .replace(&quot;,&quot;, &quot;&quot;));\n    }\n\n    public static String Maze(int x) {\n        int randomNum = ThreadLocalRandom.current ().nextInt (40, x + 1);\n        maze = new String[randomNum][randomNum];\n        for (int i = 0; i &lt; maze.length; i++) {\n            // create the maze \n            for (int j = 0; j &lt; maze.length; j++) {\n                maze[i][j] = &quot;r&quot;;\n                maze[0][j] = &quot;\\u2014&quot;;\n                maze[maze.length - 1][j] = &quot;\\u2014&quot;;\n                maze[i][0] = &quot;\\u007c&quot;;\n                maze[i][maze.length - 1] = &quot;\\u007c&quot;;\n                maze[0][maze.length - 1] = &quot;+&quot;;\n                maze[maze.length - 1][0] = &quot;+&quot;;\n                maze[0][0] = &quot;+&quot;;\n                maze[maze.length - 1][maze.length - 1] = &quot;+&quot;;\n            }\n        }\n        return (Arrays.deepToString(maze)\n                .replace(&quot;]&quot;, &quot;\\n&quot;)\n                .replace (&quot;[[&quot;, &quot; &quot;)\n                .replace (&quot;[&quot;, &quot;&quot;)\n                .replace (&quot;,&quot;, &quot;&quot;));\n    }\n\n    public static void main (String[] args) { \n        // just output   \n        String a = Maze(40);\n        String x = Room(10);\n        System.out.println(a);\n        System.out.println(x);\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-commons"],"comments":[{"owner":{"account_id":18432157,"reputation":1275,"user_id":13426975,"display_name":"Bernard Borg"},"score":0,"creation_date":1673375105,"post_id":75074263,"comment_id":132483069,"body_markdown":"Are you sure DEFAULT_ENVIRONMENT is not null?","body":"Are you sure DEFAULT_ENVIRONMENT is not null?"},{"owner":{"account_id":15891790,"reputation":21,"user_id":11466703,"display_name":"steven.ang"},"score":0,"creation_date":1673375642,"post_id":75074263,"comment_id":132483217,"body_markdown":"@BernardBorg Yes. The `DEFAULT_ENVIRONMENT` is not null. As I said, this only occurred when I execute `mvn clean install` locally","body":"@BernardBorg Yes. The <code>DEFAULT_ENVIRONMENT</code> is not null. As I said, this only occurred when I execute <code>mvn clean install</code> locally"},{"owner":{"account_id":18432157,"reputation":1275,"user_id":13426975,"display_name":"Bernard Borg"},"score":0,"creation_date":1673375957,"post_id":75074263,"comment_id":132483293,"body_markdown":"Is the combinedConfiguration null or the combinedConfiguration.getString() result null?","body":"Is the combinedConfiguration null or the combinedConfiguration.getString() result null?"},{"owner":{"account_id":15891790,"reputation":21,"user_id":11466703,"display_name":"steven.ang"},"score":0,"creation_date":1673376230,"post_id":75074263,"comment_id":132483374,"body_markdown":"@BernardBorg combinedConfiguration.getString() is resulting null","body":"@BernardBorg combinedConfiguration.getString() is resulting null"},{"owner":{"account_id":18432157,"reputation":1275,"user_id":13426975,"display_name":"Bernard Borg"},"score":0,"creation_date":1673376762,"post_id":75074263,"comment_id":132483514,"body_markdown":"Could you debug the line and tell me what the value of DEFAULT_ENVIRONMENT is?","body":"Could you debug the line and tell me what the value of DEFAULT_ENVIRONMENT is?"},{"owner":{"account_id":15891790,"reputation":21,"user_id":11466703,"display_name":"steven.ang"},"score":0,"creation_date":1673377601,"post_id":75074263,"comment_id":132483747,"body_markdown":"@BernardBorg the value is `dev` which matched with what I set","body":"@BernardBorg the value is <code>dev</code> which matched with what I set"},{"owner":{"account_id":18432157,"reputation":1275,"user_id":13426975,"display_name":"Bernard Borg"},"score":0,"creation_date":1673378239,"post_id":75074263,"comment_id":132483962,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/251013/discussion-between-bernard-borg-and-steven-ang).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/251013/discussion-between-bernard-borg-and-steven-ang\">continue this discussion in chat</a>."}],"owner":{"account_id":15891790,"reputation":21,"user_id":11466703,"display_name":"steven.ang"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673374871,"creation_date":1673374871,"question_id":75074263,"body_markdown":"I have a weird error with my short code. The code is running well when I ran the test class inside IntelliJ and also drone tasks (which just executing command `mvn clean install`).  But error occurred when I tried to run the mvn command using command line.\r\n\r\n\r\n\r\nAfter debugging, I found out a NullPointerException occurred in the following code:\r\n`combinedConfiguration.getString(&quot;application.env&quot;, DEFAULT_ENVIRONMENT).toLowerCase();`\r\n\r\ncombinedConfiguration is an instance of `org.apache.commons.configuration2.CombinedConfiguration`.\r\n\r\nBased on the API documentation, a method `getString(key, devaultValue)` shall return the defaultValue when key is not exist in CombinedConfiguration. So I totally don&#39;t understand why the NullPointerException occurred. Can anyone help?","title":"CombinedConfiguration.getString(key, defaultValue) is not working in MVN","body":"<p>I have a weird error with my short code. The code is running well when I ran the test class inside IntelliJ and also drone tasks (which just executing command <code>mvn clean install</code>).  But error occurred when I tried to run the mvn command using command line.</p>\n<p>After debugging, I found out a NullPointerException occurred in the following code:\n<code>combinedConfiguration.getString(&quot;application.env&quot;, DEFAULT_ENVIRONMENT).toLowerCase();</code></p>\n<p>combinedConfiguration is an instance of <code>org.apache.commons.configuration2.CombinedConfiguration</code>.</p>\n<p>Based on the API documentation, a method <code>getString(key, devaultValue)</code> shall return the defaultValue when key is not exist in CombinedConfiguration. So I totally don't understand why the NullPointerException occurred. Can anyone help?</p>\n"},{"tags":["java","servlets","guava","classnotfoundexception"],"comments":[{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1378065394,"post_id":18562280,"comment_id":27309498,"body_markdown":"where have you put the JAR file?","body":"where have you put the JAR file?"},{"owner":{"account_id":3245203,"reputation":75,"user_id":2736993,"accept_rate":60,"display_name":"user2736993"},"score":0,"creation_date":1378065722,"post_id":18562280,"comment_id":27309586,"body_markdown":"I have right clicked the project-&gt;Configure Build Path-&gt;add Library-&gt;and selected guava. Its in the lib folder inside project. Look at the link I edited","body":"I have right clicked the project-&gt;Configure Build Path-&gt;add Library-&gt;and selected guava. Its in the lib folder inside project. Look at the link I edited"},{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1378065934,"post_id":18562280,"comment_id":27309641,"body_markdown":"Your lib folder should be in `/WebContent/WEB-INF` folder. Currently you are having it under Java Resources. Remove it from there.","body":"Your lib folder should be in <code>&#47;WebContent&#47;WEB-INF</code> folder. Currently you are having it under Java Resources. Remove it from there."}],"answers":[{"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":3,"creation_date":1378067387,"post_id":18562441,"comment_id":27310060,"body_markdown":"Jars don&#39;t go in /classes.  Classes do.","body":"Jars don&#39;t go in /classes.  Classes do."},{"owner":{"account_id":144324,"reputation":209,"user_id":2725217,"display_name":"Heikki"},"score":0,"creation_date":1378564361,"post_id":18562441,"comment_id":27504156,"body_markdown":"@Thorbj&#248;rnRavnAndersen you are absolutely correct. It&#39;s good to drive the consistency for example. in case of running the app in debug mode,  hot-swap:ing or overriding classes.","body":"@Thorbj&#248;rnRavnAndersen you are absolutely correct. It&#39;s good to drive the consistency for example. in case of running the app in debug mode,  hot-swap:ing or overriding classes."},{"owner":{"account_id":3536612,"reputation":1811,"user_id":2954747,"display_name":"Eric Ferreira"},"score":1,"creation_date":1484205058,"post_id":18562441,"comment_id":70415927,"body_markdown":"Thanks for pointing out the jar&#39;s name! Poorly documented dependencies lead to complications when trying to import a package :p","body":"Thanks for pointing out the jar&#39;s name! Poorly documented dependencies lead to complications when trying to import a package :p"}],"tags":[],"owner":{"account_id":144324,"reputation":209,"user_id":2725217,"display_name":"Heikki"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1378066274,"creation_date":1378066274,"answer_id":18562441,"question_id":18562280,"body_markdown":"Obvious answer is that; \r\nThe Google guava jar is not found from the classpath dictated by the application server. The jar should be present in either **WEB-INF/classes** or **WEB-INF/lib**. Apache Tomcat also loads common classes from **$CATALINA_HOME/lib** folder.","title":"com.google.common.cache.Cache class not found error","body":"<p>Obvious answer is that; \nThe Google guava jar is not found from the classpath dictated by the application server. The jar should be present in either <strong>WEB-INF/classes</strong> or <strong>WEB-INF/lib</strong>. Apache Tomcat also loads common classes from <strong>$CATALINA_HOME/lib</strong> folder.</p>\n"}],"owner":{"account_id":3245203,"reputation":75,"user_id":2736993,"accept_rate":60,"display_name":"user2736993"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15503,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":18562441,"answer_count":1,"score":1,"last_activity_date":1673374218,"creation_date":1378065125,"question_id":18562280,"body_markdown":"I am using Guava 14.0 jar and following is my code\r\n\r\n    package org.user.module.test;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.PrintWriter;\r\n    import java.util.concurrent.TimeUnit;\r\n    import com.google.common.cache.CacheBuilder;\r\n    import com.google.common.cache.Cache;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.annotation.WebServlet;\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    \r\n    /**\r\n     * Servlet implementation class test\r\n     */\r\n    @WebServlet(&quot;/test&quot;)\r\n    public class test extends HttpServlet  {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n           \r\n        Cache&lt;String, Integer&gt; map;\r\n    \t\r\n        public test() {\r\n            super();\r\n            // TODO Auto-generated constructor stub\r\n        }\r\n        \r\n        public void init() throws ServletException\r\n        {\r\n            map=CacheBuilder.newBuilder().\r\n    \t\t\t\tmaximumSize(100).\r\n    \t\t\t\texpireAfterAccess(10, TimeUnit.MINUTES).\r\n    \t\t\t\tbuild();\r\n            \r\n        }\r\n    \r\n    \t/**\r\n    \t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\r\n    \t */\r\n    \tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    \t\tPrintWriter out=response.getWriter();\r\n    \t\tString p=request.getParameter(&quot;v&quot;);\r\n    \t\tInteger a=map.getIfPresent(p);\r\n    \t\tif(a==null){\r\n    \t\t\tmap.put(p, 1);\r\n    \t\t\tout.println(&quot;Putting The Integer:&quot;+a);\r\n    \t\t}\r\n    \t\telse{\r\n    \t\t\tmap.put(p,a++);\r\n    \t\t\tout.println(&quot;A is already present and the value is:&quot;+a);\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\r\n    \t */\r\n    \tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    \t\tdoGet(request,response);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nError:\r\n\r\n&gt; SEVERE: Allocate exception for servlet org.user.module.test.test\r\n&gt; java.lang.ClassNotFoundException: com.google.common.cache.Cache \tat\r\n&gt; org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1701)\r\n&gt; \tat\r\n&gt; org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1546)\r\n&gt; \tat java.lang.Class.getDeclaredFields0(Native Method) \tat\r\n&gt; java.lang.Class.privateGetDeclaredFields(Class.java:2317) \tat\r\n&gt; java.lang.Class.getDeclaredFields(Class.java:1762) \tat\r\n&gt; org.apache.catalina.core.DefaultInstanceManager.populateAnnotationsCache(DefaultInstanceManager.java:276)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:143)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:125)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1136)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:857)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:135)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:169)\r\n&gt; \tat\r\n&gt; org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)\r\n&gt; \tat\r\n&gt; org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)\r\n&gt; \tat\r\n&gt; org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\r\n&gt; \tat\r\n&gt; org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)\r\n&gt; \tat\r\n&gt; org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:987)\r\n&gt; \tat\r\n&gt; org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:579)\r\n&gt; \tat\r\n&gt; org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:307)\r\n&gt; \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n&gt; \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n&gt; \tat java.lang.Thread.run(Thread.java:722)\r\n\r\ndownloaded jar from here [Downlaod Link][1]\r\nLink to my project folder(Project name:test2) [LINK][2]\r\n\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/wiki/Release14\r\n  [2]: https://docs.google.com/file/d/0B_pKO9JFqkPsX042OEN1ZnVDa1U/edit?usp=sharing","title":"com.google.common.cache.Cache class not found error","body":"<p>I am using Guava 14.0 jar and following is my code</p>\n\n<pre><code>package org.user.module.test;\n\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.util.concurrent.TimeUnit;\nimport com.google.common.cache.CacheBuilder;\nimport com.google.common.cache.Cache;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n/**\n * Servlet implementation class test\n */\n@WebServlet(\"/test\")\npublic class test extends HttpServlet  {\n    private static final long serialVersionUID = 1L;\n\n    Cache&lt;String, Integer&gt; map;\n\n    public test() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n\n    public void init() throws ServletException\n    {\n        map=CacheBuilder.newBuilder().\n                maximumSize(100).\n                expireAfterAccess(10, TimeUnit.MINUTES).\n                build();\n\n    }\n\n    /**\n     * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n     */\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        PrintWriter out=response.getWriter();\n        String p=request.getParameter(\"v\");\n        Integer a=map.getIfPresent(p);\n        if(a==null){\n            map.put(p, 1);\n            out.println(\"Putting The Integer:\"+a);\n        }\n        else{\n            map.put(p,a++);\n            out.println(\"A is already present and the value is:\"+a);\n        }\n\n    }\n\n    /**\n     * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n     */\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        doGet(request,response);\n    }\n\n}\n</code></pre>\n\n<p>Error:</p>\n\n<blockquote>\n  <p>SEVERE: Allocate exception for servlet org.user.module.test.test\n  java.lang.ClassNotFoundException: com.google.common.cache.Cache   at\n  org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1701)\n    at\n  org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1546)\n    at java.lang.Class.getDeclaredFields0(Native Method)    at\n  java.lang.Class.privateGetDeclaredFields(Class.java:2317)     at\n  java.lang.Class.getDeclaredFields(Class.java:1762)    at\n  org.apache.catalina.core.DefaultInstanceManager.populateAnnotationsCache(DefaultInstanceManager.java:276)\n    at\n  org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:143)\n    at\n  org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:125)\n    at\n  org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1136)\n    at\n  org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:857)\n    at\n  org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:135)\n    at\n  org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:169)\n    at\n  org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\n    at\n  org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)\n    at\n  org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)\n    at\n  org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)\n    at\n  org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n    at\n  org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)\n    at\n  org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:987)\n    at\n  org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:579)\n    at\n  org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:307)\n    at\n  java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at\n  java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:722)</p>\n</blockquote>\n\n<p>downloaded jar from here <a href=\"http://code.google.com/p/guava-libraries/wiki/Release14\" rel=\"nofollow\">Downlaod Link</a>\nLink to my project folder(Project name:test2) <a href=\"https://docs.google.com/file/d/0B_pKO9JFqkPsX042OEN1ZnVDa1U/edit?usp=sharing\" rel=\"nofollow\">LINK</a></p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":7119515,"reputation":6055,"user_id":5444618,"accept_rate":83,"display_name":"Guillaume F."},"score":1,"creation_date":1643996366,"post_id":70990212,"comment_id":125496263,"body_markdown":"Compose your `Comparator` with `.thenCompare(..)`, build it in a factory based on your `Pageable.Sort property`.","body":"Compose your <code>Comparator</code> with <code>.thenCompare(..)</code>, build it in a factory based on your <code>Pageable.Sort property</code>."},{"owner":{"account_id":22488356,"reputation":93,"user_id":16686416,"display_name":"Curry"},"score":0,"creation_date":1660721577,"post_id":70990212,"comment_id":129596583,"body_markdown":"Did you find a solution to this problem? I am facing the exact situation of needing to sort DTO with pageable and cannot use Spring Data JPA way to do so.","body":"Did you find a solution to this problem? I am facing the exact situation of needing to sort DTO with pageable and cannot use Spring Data JPA way to do so."},{"owner":{"account_id":16567284,"reputation":71,"user_id":11971503,"display_name":"rortegat"},"score":0,"creation_date":1660777573,"post_id":70990212,"comment_id":129615950,"body_markdown":"I just added the answer to this question. I created a PageUtils class that receives a list of objects and applies a Pageable to it using Reflection, hope it helps.","body":"I just added the answer to this question. I created a PageUtils class that receives a list of objects and applies a Pageable to it using Reflection, hope it helps."}],"answers":[{"tags":[],"owner":{"account_id":23890523,"reputation":139,"user_id":17890254,"display_name":"Medamine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644009042,"creation_date":1644009042,"answer_id":70992868,"question_id":70990212,"body_markdown":"in case you want to retrieve users from DB, you can use spring data as follow: \r\n\r\n    public interface UserRepository extends JpaRepository&lt;UserDto, String&gt;{\r\n    \r\n        List&lt;UserDto&gt; findByFirstNameAscLastNameDesc(Pageable pageable);\r\n    \r\n    \r\n    }","title":"Sort a List of objects multiple times","body":"<p>in case you want to retrieve users from DB, you can use spring data as follow:</p>\n<pre><code>public interface UserRepository extends JpaRepository&lt;UserDto, String&gt;{\n\n    List&lt;UserDto&gt; findByFirstNameAscLastNameDesc(Pageable pageable);\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16567284,"reputation":71,"user_id":11971503,"display_name":"rortegat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673373301,"creation_date":1660777057,"answer_id":73395742,"question_id":70990212,"body_markdown":"If someone is having this same question I&#39;ve created an Util class using Java Reflection to paginate lists.\r\n\r\nYou can find the code in the following Github repo:\r\n\r\nhttps://github.com/rortegat/generic-pageable/blob/master/src/main/java/com/rortegat/genericpageable/util/PageUtils.java\r\n","title":"Sort a List of objects multiple times","body":"<p>If someone is having this same question I've created an Util class using Java Reflection to paginate lists.</p>\n<p>You can find the code in the following Github repo:</p>\n<p><a href=\"https://github.com/rortegat/generic-pageable/blob/master/src/main/java/com/rortegat/genericpageable/util/PageUtils.java\" rel=\"nofollow noreferrer\">https://github.com/rortegat/generic-pageable/blob/master/src/main/java/com/rortegat/genericpageable/util/PageUtils.java</a></p>\n"}],"owner":{"account_id":16567284,"reputation":71,"user_id":11971503,"display_name":"rortegat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73395742,"answer_count":2,"score":0,"last_activity_date":1673373301,"creation_date":1643994392,"question_id":70990212,"body_markdown":"I have a list of objects retrieved through an external REST service that I&#39;d like to sort with user defined values in the Pageable.Sort property.\r\n\r\nThis is my DTO object:\r\n\r\n```java\r\n@Data\r\n@Builder\r\npublic class UserDto {\r\n    private String guid;\r\n    private String firstName;\r\n    private String lastName;\r\n}\r\n```\r\n\r\nGiven a list of UserDto and a Pageable.Sort. I&#39;m trying to sort the list for each defined attribute and its direction.\r\n\r\n\r\n```java\r\npublic Page&lt;UserDto&gt; listToPage(List&lt;UserDto&gt; list, Pageable pageable) {\r\n\r\n        var sorts = pageable.getSort();\r\n\r\n        //Retrieves the name of all object fields\r\n        var fields = Arrays.stream(UserDto.class.getDeclaredFields())\r\n                .map(Field::getName)\r\n                .collect(Collectors.toList());\r\n\r\n        //For each sort specified in the pageable I need to sort the list of objects\r\n        for (var sort : sorts) {\r\n            //If a given property does not exist. Throws an exception.\r\n            if (!fields.contains(sort.getProperty()))\r\n                throw new InvalidDataException(&quot;Property [&quot; + sort.getProperty() + &quot;] does not exists in &quot; + UserDto.class.getName() + &quot; class&quot;);\r\n\r\n            //Looks for the property and its direction\r\n            switch (sort.getProperty()) {\r\n                case &quot;guid&quot;:\r\n                    list = sort.getDirection().isDescending() ?\r\n                            list.stream().sorted(Comparator.comparing(UserDto::getGuid).reversed()).collect(Collectors.toList()) :\r\n                            list.stream().sorted(Comparator.comparing(UserDto::getGuid)).collect(Collectors.toList());\r\n                    break;\r\n                case &quot;firstName&quot;:\r\n                    list = sort.getDirection().isDescending() ?\r\n                            list.stream().sorted(Comparator.comparing(UserDto::getFirstName).reversed()).collect(Collectors.toList()) :\r\n                            list.stream().sorted(Comparator.comparing(UserDto::getFirstName)).collect(Collectors.toList());\r\n                    break;\r\n                case &quot;lastName&quot;:\r\n                    list = sort.getDirection().isDescending() ?\r\n                            list.stream().sorted(Comparator.comparing(UserDto::getLastName).reversed()).collect(Collectors.toList()) :\r\n                            list.stream().sorted(Comparator.comparing(UserDto::getLastName)).collect(Collectors.toList());\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n\r\n        final int start = (int) pageable.getOffset();\r\n        final int end = Math.min((start + pageable.getPageSize()), list.size());\r\n        \r\n        var subList = list.subList(start, end);\r\n        return new PageImpl&lt;&gt;(subList, pageable, list.size());\r\n    }\r\n\r\n```\r\n\r\nAll works fine, except when I pass multiple attributes to sort the users list.\r\n\r\nThe first round should sort by firstName:ASC and then, in the second round, it should be sorted by lastName:DESC keeping in mind the first sort order, but this is not doing that.\r\n\r\nIs there any way to handle multiple sorts on the same list but in different rounds? I don&#39;t want to use thenComparing operator because I want to do this dynamically with user interaction.\r\n\r\nA future approach is make this function in a generic way to handle any object and sort its attributes to take advantage of this JPA provided class.\r\n\r\nThis is my test case:\r\n\r\n```java\r\n @Test\r\n    void testCase1() {\r\n        var userDtoList = List.of(\r\n                UserDto.builder().firstName(&quot;A3&quot;).lastName(&quot;B7&quot;).guid(&quot;G000a&quot;).build(),\r\n                UserDto.builder().firstName(&quot;A2&quot;).lastName(&quot;B4&quot;).guid(&quot;G000b&quot;).build(),\r\n                UserDto.builder().firstName(&quot;A3&quot;).lastName(&quot;B1&quot;).guid(&quot;G000c&quot;).build(),\r\n                UserDto.builder().firstName(&quot;A2&quot;).lastName(&quot;B5&quot;).guid(&quot;G000d&quot;).build(),\r\n                UserDto.builder().firstName(&quot;A1&quot;).lastName(&quot;B6&quot;).guid(&quot;G000e&quot;).build(),\r\n                UserDto.builder().firstName(&quot;A2&quot;).lastName(&quot;B3&quot;).guid(&quot;G000f&quot;).build(),\r\n                UserDto.builder().firstName(&quot;A1&quot;).lastName(&quot;B2&quot;).guid(&quot;G000g&quot;).build()\r\n        );\r\n\r\n        Sort firstNameSort = Sort.by(&quot;firstName&quot;);\r\n        Sort lastNameSort = Sort.by(&quot;lastName&quot;).descending();\r\n\r\n        Sort sort = firstNameSort.and(lastNameSort);\r\n\r\n        var pageable = PageRequest.of(0, 5, sort);\r\n        \r\n        var result = userService.listToPage(userDtoList, pageable);\r\n        result.getContent().forEach(System.out::println);\r\n\r\n        assertEquals(5, result.getContent().size());\r\n\r\n    }\r\n\r\n```","title":"Sort a List of objects multiple times","body":"<p>I have a list of objects retrieved through an external REST service that I'd like to sort with user defined values in the Pageable.Sort property.</p>\n<p>This is my DTO object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Builder\npublic class UserDto {\n    private String guid;\n    private String firstName;\n    private String lastName;\n}\n</code></pre>\n<p>Given a list of UserDto and a Pageable.Sort. I'm trying to sort the list for each defined attribute and its direction.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Page&lt;UserDto&gt; listToPage(List&lt;UserDto&gt; list, Pageable pageable) {\n\n        var sorts = pageable.getSort();\n\n        //Retrieves the name of all object fields\n        var fields = Arrays.stream(UserDto.class.getDeclaredFields())\n                .map(Field::getName)\n                .collect(Collectors.toList());\n\n        //For each sort specified in the pageable I need to sort the list of objects\n        for (var sort : sorts) {\n            //If a given property does not exist. Throws an exception.\n            if (!fields.contains(sort.getProperty()))\n                throw new InvalidDataException(&quot;Property [&quot; + sort.getProperty() + &quot;] does not exists in &quot; + UserDto.class.getName() + &quot; class&quot;);\n\n            //Looks for the property and its direction\n            switch (sort.getProperty()) {\n                case &quot;guid&quot;:\n                    list = sort.getDirection().isDescending() ?\n                            list.stream().sorted(Comparator.comparing(UserDto::getGuid).reversed()).collect(Collectors.toList()) :\n                            list.stream().sorted(Comparator.comparing(UserDto::getGuid)).collect(Collectors.toList());\n                    break;\n                case &quot;firstName&quot;:\n                    list = sort.getDirection().isDescending() ?\n                            list.stream().sorted(Comparator.comparing(UserDto::getFirstName).reversed()).collect(Collectors.toList()) :\n                            list.stream().sorted(Comparator.comparing(UserDto::getFirstName)).collect(Collectors.toList());\n                    break;\n                case &quot;lastName&quot;:\n                    list = sort.getDirection().isDescending() ?\n                            list.stream().sorted(Comparator.comparing(UserDto::getLastName).reversed()).collect(Collectors.toList()) :\n                            list.stream().sorted(Comparator.comparing(UserDto::getLastName)).collect(Collectors.toList());\n                    break;\n                default:\n                    break;\n            }\n        }\n\n        final int start = (int) pageable.getOffset();\n        final int end = Math.min((start + pageable.getPageSize()), list.size());\n        \n        var subList = list.subList(start, end);\n        return new PageImpl&lt;&gt;(subList, pageable, list.size());\n    }\n\n</code></pre>\n<p>All works fine, except when I pass multiple attributes to sort the users list.</p>\n<p>The first round should sort by firstName:ASC and then, in the second round, it should be sorted by lastName:DESC keeping in mind the first sort order, but this is not doing that.</p>\n<p>Is there any way to handle multiple sorts on the same list but in different rounds? I don't want to use thenComparing operator because I want to do this dynamically with user interaction.</p>\n<p>A future approach is make this function in a generic way to handle any object and sort its attributes to take advantage of this JPA provided class.</p>\n<p>This is my test case:</p>\n<pre class=\"lang-java prettyprint-override\"><code> @Test\n    void testCase1() {\n        var userDtoList = List.of(\n                UserDto.builder().firstName(&quot;A3&quot;).lastName(&quot;B7&quot;).guid(&quot;G000a&quot;).build(),\n                UserDto.builder().firstName(&quot;A2&quot;).lastName(&quot;B4&quot;).guid(&quot;G000b&quot;).build(),\n                UserDto.builder().firstName(&quot;A3&quot;).lastName(&quot;B1&quot;).guid(&quot;G000c&quot;).build(),\n                UserDto.builder().firstName(&quot;A2&quot;).lastName(&quot;B5&quot;).guid(&quot;G000d&quot;).build(),\n                UserDto.builder().firstName(&quot;A1&quot;).lastName(&quot;B6&quot;).guid(&quot;G000e&quot;).build(),\n                UserDto.builder().firstName(&quot;A2&quot;).lastName(&quot;B3&quot;).guid(&quot;G000f&quot;).build(),\n                UserDto.builder().firstName(&quot;A1&quot;).lastName(&quot;B2&quot;).guid(&quot;G000g&quot;).build()\n        );\n\n        Sort firstNameSort = Sort.by(&quot;firstName&quot;);\n        Sort lastNameSort = Sort.by(&quot;lastName&quot;).descending();\n\n        Sort sort = firstNameSort.and(lastNameSort);\n\n        var pageable = PageRequest.of(0, 5, sort);\n        \n        var result = userService.listToPage(userDtoList, pageable);\n        result.getContent().forEach(System.out::println);\n\n        assertEquals(5, result.getContent().size());\n\n    }\n\n</code></pre>\n"},{"tags":["java","api"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1673371158,"post_id":75073614,"comment_id":132481810,"body_markdown":"Did you try to google anything about &quot;thread synchronization&quot;?","body":"Did you try to google anything about &quot;thread synchronization&quot;?"},{"owner":{"account_id":3034856,"reputation":95,"user_id":2573197,"accept_rate":46,"display_name":"uchi"},"score":0,"creation_date":1673371251,"post_id":75073614,"comment_id":132481834,"body_markdown":"Yes, some tries involved syncronized(lock), executor, concurrentexecutor.... but im (ironically) locked xD","body":"Yes, some tries involved syncronized(lock), executor, concurrentexecutor.... but im (ironically) locked xD"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1673371803,"post_id":75073614,"comment_id":132482026,"body_markdown":"But you didnt show any atempt of synchronization whatsoever.","body":"But you didnt show any atempt of synchronization whatsoever."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1673371829,"post_id":75073614,"comment_id":132482035,"body_markdown":"They&#39;re alternative solutions that have evolved over time. For instance, there&#39;s `ReadWriteLock`.","body":"They&#39;re alternative solutions that have evolved over time. For instance, there&#39;s <code>ReadWriteLock</code>."},{"owner":{"account_id":3034856,"reputation":95,"user_id":2573197,"accept_rate":46,"display_name":"uchi"},"score":0,"creation_date":1673371944,"post_id":75073614,"comment_id":132482071,"body_markdown":"@Antoniossss use syncronization is as easy as put &quot;synchronize(lock) { code} lock.notify() I thought it was unnecessary to put all the code again. i will look into ReadWriteLock that, thanks!","body":"@Antoniossss use syncronization is as easy as put &quot;synchronize(lock) { code} lock.notify() I thought it was unnecessary to put all the code again. i will look into ReadWriteLock that, thanks!"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":1,"creation_date":1673372186,"post_id":75073614,"comment_id":132482152,"body_markdown":"you see, there it is - the code you have show in the comment is simmply invalid and will synchronize almost nothing in your case as it must `notify/notifyAll` must be used with `wait` in order to work as intended.","body":"you see, there it is - the code you have show in the comment is simmply invalid and will synchronize almost nothing in your case as it must <code>notify&#47;notifyAll</code> must be used with <code>wait</code> in order to work as intended."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1673372283,"post_id":75073614,"comment_id":132482185,"body_markdown":"Right.  You should just have `synchronized` and _not_ `notify`, to use that approach.  But more to the point, we can&#39;t help you much if you don&#39;t show us the code you tried to do the synchronization with, so we can tell you the bugs.","body":"Right.  You should just have <code>synchronized</code> and <i>not</i> <code>notify</code>, to use that approach.  But more to the point, we can&#39;t help you much if you don&#39;t show us the code you tried to do the synchronization with, so we can tell you the bugs."},{"owner":{"account_id":3034856,"reputation":95,"user_id":2573197,"accept_rate":46,"display_name":"uchi"},"score":0,"creation_date":1673372678,"post_id":75073614,"comment_id":132482323,"body_markdown":"I have edited to add my syncro attempt.","body":"I have edited to add my syncro attempt."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1673373242,"post_id":75073614,"comment_id":132482515,"body_markdown":"`Thread.sleep()` does not release ownership of the monitor, don&#39;t sleep in a synchronized block.","body":"<code>Thread.sleep()</code> does not release ownership of the monitor, don&#39;t sleep in a synchronized block."}],"answers":[{"comments":[{"owner":{"account_id":3034856,"reputation":95,"user_id":2573197,"accept_rate":46,"display_name":"uchi"},"score":0,"creation_date":1673373598,"post_id":75073994,"comment_id":132482624,"body_markdown":"Im stupid, your right, im notifying after the sleep... thank you.","body":"Im stupid, your right, im notifying after the sleep... thank you."}],"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673373263,"creation_date":1673373263,"answer_id":75073994,"question_id":75073614,"body_markdown":"It&#39;s because that&#39;s not how the wait/notify system should be used.\r\n\r\n&gt; ```java\r\n&gt; // first snippet\r\n&gt;  synchronized (lock) {\r\n&gt; ```\r\n\r\nAs long as this thread&#39;s &#39;location&#39; (what it is executing) is within the body of this `synchronized` block, any other thread, if it hits a `synchronized (lock)` statement, will __wait__. Only one thread can &#39;hold the lock&#39;. With one exception: `lock.wait()`.\r\n\r\n&gt; ```java\r\n&gt; // still first snippet\r\n&gt; Thread.sleep(10000);\r\n&gt; ```\r\n\r\nCalling `sleep` inside any `synchronized` block is virtually guaranteed to be a grave mistake. __You are still holding the `lock`__ - 10 seconds long then, no other thread can enter `synchronized (lock)`. I highly doubt that&#39;s what you want. Stop with the `synchronized` and pick it up again afterwards.\r\n\r\n&gt; ```java\r\n&gt; // second snippet\r\n&gt; lock.wait();\r\n&gt; ```\r\n\r\n`wait` is unique: It releases the lock, then waits for a notify. Once a notification is received, it will __reacquire the lock__ (which will by definition be impossible; whatever thread did the notifying still holds it, as you cannot call `lock.notify()` unless you are inside `synchronized(lock)`, hence, the other thread has the lock and the thread with the `wait()` command cannot reacquire it). This will take some time (the other thread needs to get out of the synchronized block first).\r\n\r\nIt will then continue.\r\n\r\nCrucially then, the thread that does the notifying __does need to stop being in the synchronized block at some point__.\r\n\r\nThe general &#39;look&#39; of a notifying block of code that runs on a simple timer is thus something like this:\r\n\r\n```\r\nwhile (running) {\r\n  synchronized (lock) {\r\n    // Do relevant stuff\r\n    lock.notify();\r\n  }\r\n  Thread.sleep(10000);\r\n}\r\n```\r\n\r\nNote how we __do not__ hold that synchronized lock when sleeping.\r\n\r\nGenerally you&#39;re better off using something relevant from the java.util.concurrent package. Which _might_ be a lock, but more often is a latch, or a collection, or anything else of the many, many things that package has to offer. I&#39;m not quite clear on the underlying problem you&#39;re trying to solve, so I&#39;m not sure what to recommend.\r\n","title":"How can I lock/unlock resources between threads?","body":"<p>It's because that's not how the wait/notify system should be used.</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>// first snippet\n synchronized (lock) {\n</code></pre>\n</blockquote>\n<p>As long as this thread's 'location' (what it is executing) is within the body of this <code>synchronized</code> block, any other thread, if it hits a <code>synchronized (lock)</code> statement, will <strong>wait</strong>. Only one thread can 'hold the lock'. With one exception: <code>lock.wait()</code>.</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>// still first snippet\nThread.sleep(10000);\n</code></pre>\n</blockquote>\n<p>Calling <code>sleep</code> inside any <code>synchronized</code> block is virtually guaranteed to be a grave mistake. <strong>You are still holding the <code>lock</code></strong> - 10 seconds long then, no other thread can enter <code>synchronized (lock)</code>. I highly doubt that's what you want. Stop with the <code>synchronized</code> and pick it up again afterwards.</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>// second snippet\nlock.wait();\n</code></pre>\n</blockquote>\n<p><code>wait</code> is unique: It releases the lock, then waits for a notify. Once a notification is received, it will <strong>reacquire the lock</strong> (which will by definition be impossible; whatever thread did the notifying still holds it, as you cannot call <code>lock.notify()</code> unless you are inside <code>synchronized(lock)</code>, hence, the other thread has the lock and the thread with the <code>wait()</code> command cannot reacquire it). This will take some time (the other thread needs to get out of the synchronized block first).</p>\n<p>It will then continue.</p>\n<p>Crucially then, the thread that does the notifying <strong>does need to stop being in the synchronized block at some point</strong>.</p>\n<p>The general 'look' of a notifying block of code that runs on a simple timer is thus something like this:</p>\n<pre><code>while (running) {\n  synchronized (lock) {\n    // Do relevant stuff\n    lock.notify();\n  }\n  Thread.sleep(10000);\n}\n</code></pre>\n<p>Note how we <strong>do not</strong> hold that synchronized lock when sleeping.</p>\n<p>Generally you're better off using something relevant from the java.util.concurrent package. Which <em>might</em> be a lock, but more often is a latch, or a collection, or anything else of the many, many things that package has to offer. I'm not quite clear on the underlying problem you're trying to solve, so I'm not sure what to recommend.</p>\n"}],"owner":{"account_id":3034856,"reputation":95,"user_id":2573197,"accept_rate":46,"display_name":"uchi"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75073994,"answer_count":1,"score":0,"last_activity_date":1673373263,"creation_date":1673371071,"question_id":75073614,"body_markdown":"I&#39;m playing with a broker API.\r\n\r\nI have created a SSLSocket like this:\r\n\r\n    try {\r\n        // Crea el socket SSL\r\n        s = (SSLSocket) SSLSocketFactory.getDefault().createSocket(&quot;xapi.xtb.com&quot;, 5124);\r\n        s.setKeepAlive(true);          \r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nI need that socket to be used in login, and trade actions, but, also, I need to make a ping every 10 minutes.\r\n\r\nSo I have used thread to create one thread to login and start the ping loop (last one with a sleep(60000)) \r\n\r\n    new Thread(() -&gt; {\r\n            try {\r\n                assert s != null;\r\n                BufferedWriter pingOut = new BufferedWriter(new OutputStreamWriter(s.getOutputStream()));\r\n                BufferedReader pingIn = new BufferedReader(new InputStreamReader(s.getInputStream()));\r\n                // crea un bucle while infinito\r\n\r\n                while (true) {\r\n                    pingOut.write(\r\n                            &quot;{\\&quot;command\\&quot;:\\&quot;ping\\&quot;}&quot;);\r\n                    pingOut.flush();\r\n                    pingIn.readLine();\r\n                    Thread.sleep(10000);\r\n                }\r\n            } catch (IOException  ex) {\r\n                ex.printStackTrace();\r\n            } catch (InterruptedException e1) {\r\n                e1.printStackTrace();\r\n            }\r\n        }).start();\r\n\r\nAnd then, another thread started on a button click which sends a similar string, but with trade options and without loops, that thread (trade) is killed after every trade action.\r\n\r\nMy main problem, is that sometimes, bufferedRead mixes responses from both threads, so I thought of using locks, waiting and notifying, but this is not working, the ping loop is kidnapping the resource (sslsocket) locking access to the other thread (or in future, threads)\r\n\r\nSo, how can I implement it to use &quot;s&quot;, but avoid to mix responses? (sometimes, when printing tradeIn.readline(), I got the pingIn.readline() reply content.\r\n\r\nOr if there is another way to get the responses to avoid mixing, is also welcome\r\n\r\nAdding synchronized attempt code:\r\n\r\n    Object lock = new Object();\r\n\r\n    new Thread(() -&gt; {\r\n            synchronized (lock) {\r\n                try {\r\n                    assert s != null;\r\n                    BufferedWriter pingOut = new BufferedWriter(new OutputStreamWriter(s.getOutputStream()));\r\n                    BufferedReader pingIn = new BufferedReader(new InputStreamReader(s.getInputStream()));\r\n                    // crea un bucle while infinito\r\n\r\n                    while (true) {\r\n                        pingOut.write(\r\n                                &quot;{\\&quot;command\\&quot;:\\&quot;ping\\&quot;}&quot;);\r\n                        pingOut.flush();\r\n                        pingIn.readLine();\r\n                        Thread.sleep(10000);\r\n                    }\r\n                } catch (IOException  ex) {\r\n                    ex.printStackTrace();\r\n                } catch (InterruptedException e1) {\r\n                    e1.printStackTrace();\r\n                }\r\n\r\n                lock.notify();\r\n            }\r\n        }).start();\r\n\r\nThe second thread:\r\n\r\n     synchronized (lock) {\r\n        try {\r\n            lock.wait();\r\n        } catch (InterruptedException e1) {\r\n            e1.printStackTrace();\r\n        }\r\n    }\r\n    try {\r\n        assert s != null;\r\n        BufferedReader tradeIn = new BufferedReader(new InputStreamReader(s.getInputStream()));\r\n        BufferedWriter tradeOut = new BufferedWriter(new OutputStreamWriter(s.getOutputStream()));\r\n        tradeOut.write(\r\n                &quot;{\\&quot;command\\&quot;:\\&quot;tradeTransaction\\&quot;,\\&quot;arguments\\&quot;:{\\&quot;tradeTransInfo\\&quot;:{\\&quot;cmd\\&quot;:0,\\&quot;customComment\\&quot;:\\&quot;Some text\\&quot;,\\&quot;expiration\\&quot;:3462006335000,\\&quot;offset\\&quot;:0,\\&quot;order\\&quot;:0,\\&quot;price\\&quot;:10000.0,\\&quot;sl\\&quot;:9420.0,\\&quot;symbol\\&quot;:\\&quot;US100\\&quot;,\\&quot;tp\\&quot;:0.0,\\&quot;type\\&quot;:0,\\&quot;volume\\&quot;:0.02}}}&quot;);\r\n        tradeOut.flush();\r\n        twoperacion.setText(tradeIn.readLine());\r\n    } catch (IOException ex) {\r\n        ex.printStackTrace();\r\n    }","title":"How can I lock/unlock resources between threads?","body":"<p>I'm playing with a broker API.</p>\n<p>I have created a SSLSocket like this:</p>\n<pre><code>try {\n    // Crea el socket SSL\n    s = (SSLSocket) SSLSocketFactory.getDefault().createSocket(&quot;xapi.xtb.com&quot;, 5124);\n    s.setKeepAlive(true);          \n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>I need that socket to be used in login, and trade actions, but, also, I need to make a ping every 10 minutes.</p>\n<p>So I have used thread to create one thread to login and start the ping loop (last one with a sleep(60000))</p>\n<pre><code>new Thread(() -&gt; {\n        try {\n            assert s != null;\n            BufferedWriter pingOut = new BufferedWriter(new OutputStreamWriter(s.getOutputStream()));\n            BufferedReader pingIn = new BufferedReader(new InputStreamReader(s.getInputStream()));\n            // crea un bucle while infinito\n\n            while (true) {\n                pingOut.write(\n                        &quot;{\\&quot;command\\&quot;:\\&quot;ping\\&quot;}&quot;);\n                pingOut.flush();\n                pingIn.readLine();\n                Thread.sleep(10000);\n            }\n        } catch (IOException  ex) {\n            ex.printStackTrace();\n        } catch (InterruptedException e1) {\n            e1.printStackTrace();\n        }\n    }).start();\n</code></pre>\n<p>And then, another thread started on a button click which sends a similar string, but with trade options and without loops, that thread (trade) is killed after every trade action.</p>\n<p>My main problem, is that sometimes, bufferedRead mixes responses from both threads, so I thought of using locks, waiting and notifying, but this is not working, the ping loop is kidnapping the resource (sslsocket) locking access to the other thread (or in future, threads)</p>\n<p>So, how can I implement it to use &quot;s&quot;, but avoid to mix responses? (sometimes, when printing tradeIn.readline(), I got the pingIn.readline() reply content.</p>\n<p>Or if there is another way to get the responses to avoid mixing, is also welcome</p>\n<p>Adding synchronized attempt code:</p>\n<pre><code>Object lock = new Object();\n\nnew Thread(() -&gt; {\n        synchronized (lock) {\n            try {\n                assert s != null;\n                BufferedWriter pingOut = new BufferedWriter(new OutputStreamWriter(s.getOutputStream()));\n                BufferedReader pingIn = new BufferedReader(new InputStreamReader(s.getInputStream()));\n                // crea un bucle while infinito\n\n                while (true) {\n                    pingOut.write(\n                            &quot;{\\&quot;command\\&quot;:\\&quot;ping\\&quot;}&quot;);\n                    pingOut.flush();\n                    pingIn.readLine();\n                    Thread.sleep(10000);\n                }\n            } catch (IOException  ex) {\n                ex.printStackTrace();\n            } catch (InterruptedException e1) {\n                e1.printStackTrace();\n            }\n\n            lock.notify();\n        }\n    }).start();\n</code></pre>\n<p>The second thread:</p>\n<pre><code> synchronized (lock) {\n    try {\n        lock.wait();\n    } catch (InterruptedException e1) {\n        e1.printStackTrace();\n    }\n}\ntry {\n    assert s != null;\n    BufferedReader tradeIn = new BufferedReader(new InputStreamReader(s.getInputStream()));\n    BufferedWriter tradeOut = new BufferedWriter(new OutputStreamWriter(s.getOutputStream()));\n    tradeOut.write(\n            &quot;{\\&quot;command\\&quot;:\\&quot;tradeTransaction\\&quot;,\\&quot;arguments\\&quot;:{\\&quot;tradeTransInfo\\&quot;:{\\&quot;cmd\\&quot;:0,\\&quot;customComment\\&quot;:\\&quot;Some text\\&quot;,\\&quot;expiration\\&quot;:3462006335000,\\&quot;offset\\&quot;:0,\\&quot;order\\&quot;:0,\\&quot;price\\&quot;:10000.0,\\&quot;sl\\&quot;:9420.0,\\&quot;symbol\\&quot;:\\&quot;US100\\&quot;,\\&quot;tp\\&quot;:0.0,\\&quot;type\\&quot;:0,\\&quot;volume\\&quot;:0.02}}}&quot;);\n    tradeOut.flush();\n    twoperacion.setText(tradeIn.readLine());\n} catch (IOException ex) {\n    ex.printStackTrace();\n}\n</code></pre>\n"},{"tags":["javascript","java","blockchain","truffle","ganache"],"comments":[{"owner":{"account_id":23471458,"reputation":27,"user_id":17524907,"display_name":"Avinash Kumar Singh"},"score":0,"creation_date":1673373286,"post_id":75073916,"comment_id":132482532,"body_markdown":"Request to respond as soon as possible.","body":"Request to respond as soon as possible."}],"owner":{"account_id":23471458,"reputation":27,"user_id":17524907,"display_name":"Avinash Kumar Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673372803,"creation_date":1673372803,"question_id":75073916,"body_markdown":"I am creating a blockchain related project but can&#39;t able to run it appropriately on browser. To know about the project I am attaching the link of the project is given below -\r\nhttps://github.com/toful/BC_GDPR-Compliant_PDManagement_System\r\n\r\nI am trying to configure the truffle, ganache and java file but can&#39;t able to get success.\r\nExpecting to get similar to this web page.[![image of login page](https://i.stack.imgur.com/3lI3v.jpg)](https://i.stack.imgur.com/3lI3v.jpg).","title":"How Web3j is used to get the SC wrappers and operate with them using Java (Eclipse ide)","body":"<p>I am creating a blockchain related project but can't able to run it appropriately on browser. To know about the project I am attaching the link of the project is given below -\n<a href=\"https://github.com/toful/BC_GDPR-Compliant_PDManagement_System\" rel=\"nofollow noreferrer\">https://github.com/toful/BC_GDPR-Compliant_PDManagement_System</a></p>\n<p>I am trying to configure the truffle, ganache and java file but can't able to get success.\nExpecting to get similar to this web page.<a href=\"https://i.stack.imgur.com/3lI3v.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3lI3v.jpg\" alt=\"image of login page\" /></a>.</p>\n"},{"tags":["java","spring-boot","micrometer"],"comments":[{"owner":{"account_id":2366187,"reputation":60172,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1641906324,"post_id":70667172,"comment_id":124925194,"body_markdown":"Looks like it’s trying to send UDP packets to statsd (port 8125). Do you have Micrometer Statsd registry on your class path?","body":"Looks like it’s trying to send UDP packets to statsd (port 8125). Do you have Micrometer Statsd registry on your class path?"},{"owner":{"account_id":43702,"reputation":15263,"user_id":127863,"accept_rate":93,"display_name":"jqno"},"score":0,"creation_date":1641906878,"post_id":70667172,"comment_id":124925373,"body_markdown":"@BoristheSpider As a matter of fact, I do!","body":"@BoristheSpider As a matter of fact, I do!"},{"owner":{"account_id":43702,"reputation":15263,"user_id":127863,"accept_rate":93,"display_name":"jqno"},"score":0,"creation_date":1641908375,"post_id":70667172,"comment_id":124926013,"body_markdown":"I was able to switch to a version of the company starter without statsd, and that fixes the log spam, as well as its mysterious origin.","body":"I was able to switch to a version of the company starter without statsd, and that fixes the log spam, as well as its mysterious origin."}],"answers":[{"comments":[{"owner":{"account_id":6825877,"reputation":181,"user_id":5251617,"display_name":"Anatolii Vakaliuk"},"score":5,"creation_date":1680421037,"post_id":70700918,"comment_id":133893184,"body_markdown":"This property path is deprecated in boot &gt;=3.0.5. Replacement is   management.statsd.metrics.export.enabled","body":"This property path is deprecated in boot &gt;=3.0.5. Replacement is   management.statsd.metrics.export.enabled"}],"tags":[],"owner":{"account_id":2123935,"reputation":851,"user_id":1886601,"accept_rate":91,"display_name":"java_newbie"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1642096055,"creation_date":1642096055,"answer_id":70700918,"question_id":70667172,"body_markdown":"assuming statsd is not used and configured on your side, since it&#39;s pointed to localhost, you may disable it by setting\r\n\r\n    management.metrics.export.statsd.enabled\r\n\r\nto false","title":"PortUnreachableExceptions spamming log after updating Spring Boot Parent","body":"<p>assuming statsd is not used and configured on your side, since it's pointed to localhost, you may disable it by setting</p>\n<pre><code>management.metrics.export.statsd.enabled\n</code></pre>\n<p>to false</p>\n"},{"comments":[{"owner":{"account_id":5945283,"reputation":102,"user_id":6716368,"display_name":"Salvian Reynaldi"},"score":2,"creation_date":1692765753,"post_id":75073886,"comment_id":135667310,"body_markdown":"as also described here https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0.0-Configuration-Changelog","body":"as also described here <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0.0-Configuration-Changelog\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/wiki/&hellip;</a>"}],"tags":[],"owner":{"account_id":3378723,"reputation":948,"user_id":2836301,"display_name":"Tonsic"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1673372615,"creation_date":1673372615,"answer_id":75073886,"question_id":70667172,"body_markdown":"For anyone reaching here and is the case that you migrated from Spring Boot 2 to 3, there was a change in application properties that went from\r\n\r\n`management.metrics.export.&lt;your-integration&gt;.*`\r\n\r\nto\r\n\r\n`management.&lt;your-integration&gt;.metrics.export.*`\r\n\r\nSo you may need to fix that in your resource files.\r\n\r\n[source][1]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide#actuator-metrics-export-properties","title":"PortUnreachableExceptions spamming log after updating Spring Boot Parent","body":"<p>For anyone reaching here and is the case that you migrated from Spring Boot 2 to 3, there was a change in application properties that went from</p>\n<p><code>management.metrics.export.&lt;your-integration&gt;.*</code></p>\n<p>to</p>\n<p><code>management.&lt;your-integration&gt;.metrics.export.*</code></p>\n<p>So you may need to fix that in your resource files.</p>\n<p><a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide#actuator-metrics-export-properties\" rel=\"noreferrer\">source</a></p>\n"}],"owner":{"account_id":43702,"reputation":15263,"user_id":127863,"accept_rate":93,"display_name":"jqno"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8506,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":70700918,"answer_count":2,"score":9,"last_activity_date":1673372615,"creation_date":1641905686,"question_id":70667172,"body_markdown":"After upgrading from `spring-boot-parent` version 2.5.5 to 2.6.0, I started seeing these error messages spamming the logs:\r\n\r\n`[INFO] [stdout] 2022-01-11 13:40:01.157  WARN 76859 --- [    udp-epoll-2] i.m.s.reactor.netty.channel.FluxReceive  : [6d1243de, L:/127.0.0.1:58160 - R:localhost/127.0.0.1:8125] An exception has been observed post termination, use DEBUG level to see the full stack: java.net.PortUnreachableException: readAddress(..) failed: Connection refused`\r\n\r\nUsing DEBUG level:\r\n\r\n```\r\n[INFO] [stdout] 2022-01-11 13:38:29.733  WARN 76479 --- [    udp-epoll-2] i.m.s.reactor.netty.channel.FluxReceive  : [43aad7ce, L:/127.0.0.1:38108 - R:localhost/127.0.0.1:8125] An exception has been observed post termination\r\n[INFO] [stdout] \r\n[INFO] [stdout] java.net.PortUnreachableException: readAddress(..) failed: Connection refused\r\n[INFO] [stdout] \tat io.micrometer.shaded.io.netty.channel.epoll.EpollDatagramChannel.translateForConnected(EpollDatagramChannel.java:575)\r\n[INFO] [stdout] \tat io.micrometer.shaded.io.netty.channel.epoll.EpollDatagramChannel.access$400(EpollDatagramChannel.java:56)\r\n[INFO] [stdout] \tat io.micrometer.shaded.io.netty.channel.epoll.EpollDatagramChannel$EpollDatagramChannelUnsafe.epollInReady(EpollDatagramChannel.java:503)\r\n[INFO] [stdout] \tat io.micrometer.shaded.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:480)\r\n[INFO] [stdout] \tat io.micrometer.shaded.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:378)\r\n[INFO] [stdout] \tat io.micrometer.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\r\n[INFO] [stdout] \tat io.micrometer.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n[INFO] [stdout] \tat io.micrometer.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n[INFO] [stdout] \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n[INFO] [stdout] Caused by: io.micrometer.shaded.io.netty.channel.unix.Errors$NativeIoException: readAddress(..) failed: Connection refused\r\n```\r\n\r\nI can&#39;t find much about it in the [release notes](https://github.com/spring-projects/spring-boot/releases/tag/v2.6.0), except for a dependency upgrade that seems relevant:\r\n\r\n&gt; Upgrade to Micrometer 1.8.0 [#28516](https://github.com/spring-projects/spring-boot/issues/28516)\r\n\r\nBut the linked issue is not informative. Neither were Micronaut&#39;s own [release notes for version 1.8.0](https://github.com/micrometer-metrics/micrometer/releases/tag/v1.8.0) (except for the JVM crash notice, which we did run into - a surprising and rather unfortunate side-effect of upgrading Spring Boot, but I digress)\r\n\r\nWe don&#39;t (consciously) use Micrometer, so I tried disabling it in the `application.yml` file (`micrometer.enabled: false` and `instrumentation.micrometer.enabled: false`), but to no avail.\r\n\r\nDespite lots of googling (for various permutations of elements of the error message and digging through code on GitHub), I haven&#39;t been able to find how to fix this message, let alone figure out what causes it.\r\n\r\nNow I could of course suppress this message in the logging configuration, but I&#39;d like to know what it&#39;s actually trying to achieve here, and whether it is useful for our application. And if not, disable it completely.","title":"PortUnreachableExceptions spamming log after updating Spring Boot Parent","body":"<p>After upgrading from <code>spring-boot-parent</code> version 2.5.5 to 2.6.0, I started seeing these error messages spamming the logs:</p>\n<p><code>[INFO] [stdout] 2022-01-11 13:40:01.157  WARN 76859 --- [    udp-epoll-2] i.m.s.reactor.netty.channel.FluxReceive  : [6d1243de, L:/127.0.0.1:58160 - R:localhost/127.0.0.1:8125] An exception has been observed post termination, use DEBUG level to see the full stack: java.net.PortUnreachableException: readAddress(..) failed: Connection refused</code></p>\n<p>Using DEBUG level:</p>\n<pre><code>[INFO] [stdout] 2022-01-11 13:38:29.733  WARN 76479 --- [    udp-epoll-2] i.m.s.reactor.netty.channel.FluxReceive  : [43aad7ce, L:/127.0.0.1:38108 - R:localhost/127.0.0.1:8125] An exception has been observed post termination\n[INFO] [stdout] \n[INFO] [stdout] java.net.PortUnreachableException: readAddress(..) failed: Connection refused\n[INFO] [stdout]     at io.micrometer.shaded.io.netty.channel.epoll.EpollDatagramChannel.translateForConnected(EpollDatagramChannel.java:575)\n[INFO] [stdout]     at io.micrometer.shaded.io.netty.channel.epoll.EpollDatagramChannel.access$400(EpollDatagramChannel.java:56)\n[INFO] [stdout]     at io.micrometer.shaded.io.netty.channel.epoll.EpollDatagramChannel$EpollDatagramChannelUnsafe.epollInReady(EpollDatagramChannel.java:503)\n[INFO] [stdout]     at io.micrometer.shaded.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:480)\n[INFO] [stdout]     at io.micrometer.shaded.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:378)\n[INFO] [stdout]     at io.micrometer.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\n[INFO] [stdout]     at io.micrometer.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n[INFO] [stdout]     at io.micrometer.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n[INFO] [stdout]     at java.base/java.lang.Thread.run(Thread.java:833)\n[INFO] [stdout] Caused by: io.micrometer.shaded.io.netty.channel.unix.Errors$NativeIoException: readAddress(..) failed: Connection refused\n</code></pre>\n<p>I can't find much about it in the <a href=\"https://github.com/spring-projects/spring-boot/releases/tag/v2.6.0\" rel=\"noreferrer\">release notes</a>, except for a dependency upgrade that seems relevant:</p>\n<blockquote>\n<p>Upgrade to Micrometer 1.8.0 <a href=\"https://github.com/spring-projects/spring-boot/issues/28516\" rel=\"noreferrer\">#28516</a></p>\n</blockquote>\n<p>But the linked issue is not informative. Neither were Micronaut's own <a href=\"https://github.com/micrometer-metrics/micrometer/releases/tag/v1.8.0\" rel=\"noreferrer\">release notes for version 1.8.0</a> (except for the JVM crash notice, which we did run into - a surprising and rather unfortunate side-effect of upgrading Spring Boot, but I digress)</p>\n<p>We don't (consciously) use Micrometer, so I tried disabling it in the <code>application.yml</code> file (<code>micrometer.enabled: false</code> and <code>instrumentation.micrometer.enabled: false</code>), but to no avail.</p>\n<p>Despite lots of googling (for various permutations of elements of the error message and digging through code on GitHub), I haven't been able to find how to fix this message, let alone figure out what causes it.</p>\n<p>Now I could of course suppress this message in the logging configuration, but I'd like to know what it's actually trying to achieve here, and whether it is useful for our application. And if not, disable it completely.</p>\n"},{"tags":["java","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1673368037,"post_id":75072897,"comment_id":132480677,"body_markdown":"What do you mean by &quot;automatically&quot;? The documented ad-hoc conversion utilities aren&#39;t what you&#39;re looking for? Why?","body":"What do you mean by &quot;automatically&quot;? The documented ad-hoc conversion utilities aren&#39;t what you&#39;re looking for? Why?"},{"owner":{"account_id":27490120,"reputation":41,"user_id":20975649,"display_name":"JavaStan"},"score":0,"creation_date":1673368170,"post_id":75072897,"comment_id":132480737,"body_markdown":"@LukasEder I guess I&#39;m looking for something like `org.jooq.Records`, but for nested records like `FilmActors`. Not sure if there is an easier way to obtain that other than writing my own `RecordMapper`. It looks like ModelMapper is still waiting on Java records support","body":"@LukasEder I guess I&#39;m looking for something like <code>org.jooq.Records</code>, but for nested records like <code>FilmActors</code>. Not sure if there is an easier way to obtain that other than writing my own <code>RecordMapper</code>. It looks like ModelMapper is still waiting on Java records support"}],"answers":[{"comments":[{"owner":{"account_id":27490120,"reputation":41,"user_id":20975649,"display_name":"JavaStan"},"score":0,"creation_date":1673372577,"post_id":75073875,"comment_id":132482284,"body_markdown":"@LukasEder Is this the approach you would suggest? Also, any recommendations for indentation in IntelliJ? It does not seem to like jOOQ and multiset haha","body":"@LukasEder Is this the approach you would suggest? Also, any recommendations for indentation in IntelliJ? It does not seem to like jOOQ and multiset haha"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1673376264,"post_id":75073875,"comment_id":132483382,"body_markdown":"Yes, that&#39;s what I had in mind when I said *ad-hoc conversion utilities*","body":"Yes, that&#39;s what I had in mind when I said <i>ad-hoc conversion utilities</i>"},{"owner":{"account_id":27490120,"reputation":41,"user_id":20975649,"display_name":"JavaStan"},"score":0,"creation_date":1673376397,"post_id":75073875,"comment_id":132483414,"body_markdown":"@LukasEder Thanks! Just discovered those.","body":"@LukasEder Thanks! Just discovered those."}],"tags":[],"owner":{"account_id":27490120,"reputation":41,"user_id":20975649,"display_name":"JavaStan"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673372517,"creation_date":1673372517,"answer_id":75073875,"question_id":75072897,"body_markdown":"I think found an answer [here](https://www.jooq.org/doc/latest/manual/sql-execution/fetching/ad-hoc-converter/) under _Using ad hoc converters on nested collections_. `convertFrom` did the trick:\r\n```\r\nField&lt;List&lt;FilmActors.Actor&gt;&gt; actors = DSL.multiset(\r\n                                              DSL.select(Tables.FILM_ACTOR.actor().FIRST_NAME, Tables.FILM_ACTOR.actor().LAST_NAME)\r\n                                                 .from(Tables.FILM_ACTOR)\r\n                                                 .where(Tables.FILM_ACTOR.FILM_ID.eq(Tables.FILM.FILM_ID))\r\n                                          )\r\n                                          .as(&quot;actors&quot;)\r\n                                          .convertFrom(record -&gt; record.map(Records.mapping(FilmActors.Actor::new)));\r\n\r\nList&lt;FilmActors&gt; filmActors = this.context.select(Tables.FILM.FILM_ID, Tables.FILM.TITLE, actors)\r\n                                          .from(Tables.FILM)\r\n                                          .limit(10)\r\n                                          .fetch(Records.mapping(FilmActors::new));\r\n```","title":"Is there a way to automatically map jOOQ records to Java records?","body":"<p>I think found an answer <a href=\"https://www.jooq.org/doc/latest/manual/sql-execution/fetching/ad-hoc-converter/\" rel=\"nofollow noreferrer\">here</a> under <em>Using ad hoc converters on nested collections</em>. <code>convertFrom</code> did the trick:</p>\n<pre><code>Field&lt;List&lt;FilmActors.Actor&gt;&gt; actors = DSL.multiset(\n                                              DSL.select(Tables.FILM_ACTOR.actor().FIRST_NAME, Tables.FILM_ACTOR.actor().LAST_NAME)\n                                                 .from(Tables.FILM_ACTOR)\n                                                 .where(Tables.FILM_ACTOR.FILM_ID.eq(Tables.FILM.FILM_ID))\n                                          )\n                                          .as(&quot;actors&quot;)\n                                          .convertFrom(record -&gt; record.map(Records.mapping(FilmActors.Actor::new)));\n\nList&lt;FilmActors&gt; filmActors = this.context.select(Tables.FILM.FILM_ID, Tables.FILM.TITLE, actors)\n                                          .from(Tables.FILM)\n                                          .limit(10)\n                                          .fetch(Records.mapping(FilmActors::new));\n</code></pre>\n"}],"owner":{"account_id":27490120,"reputation":41,"user_id":20975649,"display_name":"JavaStan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673372517,"creation_date":1673367593,"question_id":75072897,"body_markdown":"For this example, I am using the [Sakila Sample Database](https://dev.mysql.com/doc/sakila/en/).\r\n\r\nLet&#39;s say I have a `Film` record as follows:\r\n```\r\npublic record Film(UShort filmId, String title) {\r\n}\r\n```\r\nIf I am reading films from jOOQ, I can easily map them to `Film` using the following:\r\n```\r\nList&lt;Film&gt; films = this.context.select(Tables.FILM.FILM_ID, Tables.FILM.TITLE)\r\n                               .from(Tables.FILM)\r\n                               .limit(10)\r\n                               .fetch(Records.mapping(Film::new));\r\n```\r\nNow let&#39;s say I want each film and the actors associated with it. For this, I decide to use `multiset`:\r\n```\r\nSet&lt;SelectField&lt;?&gt;&gt; readFields = Set.of(\r\n    Tables.FILM.FILM_ID,\r\n    Tables.FILM.TITLE,\r\n    DSL.multiset(\r\n        DSL.select(Tables.FILM_ACTOR.actor().FIRST_NAME, Tables.FILM_ACTOR.actor().LAST_NAME)\r\n           .from(Tables.FILM_ACTOR)\r\n           .where(Tables.FILM_ACTOR.FILM_ID.eq(Tables.FILM.FILM_ID))\r\n        )\r\n       .as(&quot;actors&quot;)\r\n);\r\n\r\nvar result = this.context.select(readFields)\r\n                         .from(Tables.FILM)\r\n                         .limit(10)\r\n                         .fetch();\r\n```\r\nNow that I have my results, I want to map them into a record `FilmActors`:\r\n```\r\npublic record FilmActors(UShort filmId, String title, List&lt;Actor&gt; actors) {\r\n    public record Actor(String firstName, String lastName) {\r\n    }\r\n}\r\n```\r\nIs there anyway to do this automatically, or with the help of a library like ModelMapper? I&#39;m wanting to avoid rolling a custom `RecordMapper` if possible. Thanks!\r\n\r\nI tried using jOOQ&#39;s built-in `Records` class, and tried to see if ModelMapper supports records.","title":"Is there a way to automatically map jOOQ records to Java records?","body":"<p>For this example, I am using the <a href=\"https://dev.mysql.com/doc/sakila/en/\" rel=\"nofollow noreferrer\">Sakila Sample Database</a>.</p>\n<p>Let's say I have a <code>Film</code> record as follows:</p>\n<pre><code>public record Film(UShort filmId, String title) {\n}\n</code></pre>\n<p>If I am reading films from jOOQ, I can easily map them to <code>Film</code> using the following:</p>\n<pre><code>List&lt;Film&gt; films = this.context.select(Tables.FILM.FILM_ID, Tables.FILM.TITLE)\n                               .from(Tables.FILM)\n                               .limit(10)\n                               .fetch(Records.mapping(Film::new));\n</code></pre>\n<p>Now let's say I want each film and the actors associated with it. For this, I decide to use <code>multiset</code>:</p>\n<pre><code>Set&lt;SelectField&lt;?&gt;&gt; readFields = Set.of(\n    Tables.FILM.FILM_ID,\n    Tables.FILM.TITLE,\n    DSL.multiset(\n        DSL.select(Tables.FILM_ACTOR.actor().FIRST_NAME, Tables.FILM_ACTOR.actor().LAST_NAME)\n           .from(Tables.FILM_ACTOR)\n           .where(Tables.FILM_ACTOR.FILM_ID.eq(Tables.FILM.FILM_ID))\n        )\n       .as(&quot;actors&quot;)\n);\n\nvar result = this.context.select(readFields)\n                         .from(Tables.FILM)\n                         .limit(10)\n                         .fetch();\n</code></pre>\n<p>Now that I have my results, I want to map them into a record <code>FilmActors</code>:</p>\n<pre><code>public record FilmActors(UShort filmId, String title, List&lt;Actor&gt; actors) {\n    public record Actor(String firstName, String lastName) {\n    }\n}\n</code></pre>\n<p>Is there anyway to do this automatically, or with the help of a library like ModelMapper? I'm wanting to avoid rolling a custom <code>RecordMapper</code> if possible. Thanks!</p>\n<p>I tried using jOOQ's built-in <code>Records</code> class, and tried to see if ModelMapper supports records.</p>\n"},{"tags":["java","multithreading","if-statement","parallel-processing"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":5,"creation_date":1673370094,"post_id":75073363,"comment_id":132481446,"body_markdown":"Make the variable `volatile` or use means of synchronization. Java doesn&#39;t gurantees visibility of variables between multiple threads without that.","body":"Make the variable <code>volatile</code> or use means of synchronization. Java doesn&#39;t gurantees visibility of variables between multiple threads without that."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1673370540,"post_id":75073363,"comment_id":132481605,"body_markdown":"In addition to the visibility issue you might have a misconception in &quot;the if block executing whenever the other thread updates the shirt variable&quot;. Not knowing all of your code you seem to have one thread that constantly updates the shirt&#39;s color and one (the one you showed) that constantly checks it. That means the if-condition is checked many times until it finally becomes true. However, note that while you have 2 threads it&#39;s not guaranteed that they will be executed round-robin so you don&#39;t know when either of them will run.","body":"In addition to the visibility issue you might have a misconception in &quot;the if block executing whenever the other thread updates the shirt variable&quot;. Not knowing all of your code you seem to have one thread that constantly updates the shirt&#39;s color and one (the one you showed) that constantly checks it. That means the if-condition is checked many times until it finally becomes true. However, note that while you have 2 threads it&#39;s not guaranteed that they will be executed round-robin so you don&#39;t know when either of them will run."},{"owner":{"account_id":19117300,"reputation":369,"user_id":13961939,"display_name":"codertryer"},"score":0,"creation_date":1673370666,"post_id":75073363,"comment_id":132481640,"body_markdown":"@dan1st should i make it static too?","body":"@dan1st should i make it static too?"},{"owner":{"account_id":19117300,"reputation":369,"user_id":13961939,"display_name":"codertryer"},"score":0,"creation_date":1673370791,"post_id":75073363,"comment_id":132481684,"body_markdown":"@Thomas The other thread actually updates the shirt once","body":"@Thomas The other thread actually updates the shirt once"},{"owner":{"account_id":19117300,"reputation":369,"user_id":13961939,"display_name":"codertryer"},"score":0,"creation_date":1673371560,"post_id":75073363,"comment_id":132481924,"body_markdown":"@dan1st But doesn&#39;t volatile just provide the change to be seen immediately? In my case, I don&#39;t care for it to be like that. It is fine by me to see the update after a couple of while loops.","body":"@dan1st But doesn&#39;t volatile just provide the change to be seen immediately? In my case, I don&#39;t care for it to be like that. It is fine by me to see the update after a couple of while loops."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1673372413,"post_id":75073363,"comment_id":132482231,"body_markdown":"The problem is that if the variable isn&#39;t `volatile`, there is no guarantee that the other thread ever sees the change, so it has to be volatile (or you need to use another way that establish a happens-before relationship between the threads).","body":"The problem is that if the variable isn&#39;t <code>volatile</code>, there is no guarantee that the other thread ever sees the change, so it has to be volatile (or you need to use another way that establish a happens-before relationship between the threads)."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1673372442,"post_id":75073363,"comment_id":132482245,"body_markdown":"&quot;*It is fine by me to see the update after a couple of while loops*&quot; there is no guarantee *when* reading thread will *refresh* values it holds (or if it will refresh at all - like shown in first example). Using `volatile` solves this problem. This may interest you https://jenkov.com/tutorials/java-concurrency/volatile.html (I strongly recommend whole blog and YT channel of this guy)","body":"&quot;<i>It is fine by me to see the update after a couple of while loops</i>&quot; there is no guarantee <i>when</i> reading thread will <i>refresh</i> values it holds (or if it will refresh at all - like shown in first example). Using <code>volatile</code> solves this problem. This may interest you <a href=\"https://jenkov.com/tutorials/java-concurrency/volatile.html\" rel=\"nofollow noreferrer\">jenkov.com/tutorials/java-concurrency/volatile.html</a> (I strongly recommend whole blog and YT channel of this guy)"},{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1673372977,"post_id":75073363,"comment_id":132482424,"body_markdown":"Dupe: [Loop doesn&#39;t see value changed by other thread without a print statement](//stackoverflow.com/q/25425130). If you use sysout.println() or Thread.sleep is not a real difference in this context.","body":"Dupe: <a href=\"//stackoverflow.com/q/25425130\">Loop doesn&#39;t see value changed by other thread without a print statement</a>. If you use sysout.println() or Thread.sleep is not a real difference in this context."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1673376661,"post_id":75073363,"comment_id":132483487,"body_markdown":"@codertryer `volatile` makes sure changes to a variable are immediately visible to other threads. Without it, the variable might never get &quot;published&quot; to other threads.","body":"@codertryer <code>volatile</code> makes sure changes to a variable are immediately visible to other threads. Without it, the variable might never get &quot;published&quot; to other threads."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1673382493,"post_id":75073363,"comment_id":132485217,"body_markdown":"Don&#39;t get the wrong idea from what those other guys are telling you about `volatile`. It is _one_ way to ensure that the change in `color` is seen by the other thread, but it is not the _only_ way. Another way would be through proper use of `synchronized` blocks or `ReentrantLock`. What those things all have in common is, they establish a &quot;[happens before](https://www.geeksforgeeks.org/happens-before-relationship-in-java/)&quot; relationship between the two threads. Anything that establishes &quot;happens before&quot; will ensure that the one thread can see what the other thread did.","body":"Don&#39;t get the wrong idea from what those other guys are telling you about <code>volatile</code>. It is <i>one</i> way to ensure that the change in <code>color</code> is seen by the other thread, but it is not the <i>only</i> way. Another way would be through proper use of <code>synchronized</code> blocks or <code>ReentrantLock</code>. What those things all have in common is, they establish a &quot;<a href=\"https://www.geeksforgeeks.org/happens-before-relationship-in-java/\" rel=\"nofollow noreferrer\">happens before</a>&quot; relationship between the two threads. Anything that establishes &quot;happens before&quot; will ensure that the one thread can see what the other thread did."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1673394849,"post_id":75073363,"comment_id":132488201,"body_markdown":"Like [Solomon Slow said](https://stackoverflow.com/questions/75073363/a-variables-update-that-is-done-by-a-different-thread-is-not-seen-in-a-whiletr#comment132485217_75073363), there are multiple solutions. Another, and my preference, is [`AtomicBoolean`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicBoolean.html). To learn about Java concurrency, see [this book](https://jcip.net/).","body":"Like <a href=\"https://stackoverflow.com/questions/75073363/a-variables-update-that-is-done-by-a-different-thread-is-not-seen-in-a-whiletr#comment132485217_75073363\">Solomon Slow said</a>, there are multiple solutions. Another, and my preference, is <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicBoolean.html\" rel=\"nofollow noreferrer\"><code>AtomicBoolean</code></a>. To learn about Java concurrency, see <a href=\"https://jcip.net/\" rel=\"nofollow noreferrer\">this book</a>."}],"owner":{"account_id":19117300,"reputation":369,"user_id":13961939,"display_name":"codertryer"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673372509,"answer_count":0,"score":0,"last_activity_date":1673372374,"creation_date":1673369758,"question_id":75073363,"body_markdown":"I am working on a very simple Java code to get some experience on threads. `shirt` is a variable that has a `color` attribute.\r\n\r\n    while(true){ \r\n        if (shirt.isColorBlue()) {           \r\n            System.out.println(&quot;The shirt is finally blue.&quot;);\r\n        }\r\n    }\r\n\r\nDuring the while loop above, a thread that is running in parallel updates the `shirt`&#39;s color. However, inside of the if block never executes. I did some alterations to see some other conditions:\r\n\r\n    while(true){ \r\n        if (shirt.isColorBlue()) {           \r\n            System.out.println(&quot;The shirt is finally blue.&quot;);\r\n        }\r\n\r\n        try {\r\n            Thread.sleep(1000);\r\n        }  catch (InterruptedException e) { }   \r\n    }\r\n\r\nIf I do it like above, the code works (inside the if block gets executed). From this, I understand that the other thread updates the shirt variable after the while starts to iterate. But shouldn&#39;t it be still okay since the ideal scenario is &quot;the while looping many many times and the if block executing whenever the other thread updates the shirt variable&quot;? \r\n\r\n","title":"A variable&#39;s update that is done by a different thread is not seen in a while(true) loop","body":"<p>I am working on a very simple Java code to get some experience on threads. <code>shirt</code> is a variable that has a <code>color</code> attribute.</p>\n<pre><code>while(true){ \n    if (shirt.isColorBlue()) {           \n        System.out.println(&quot;The shirt is finally blue.&quot;);\n    }\n}\n</code></pre>\n<p>During the while loop above, a thread that is running in parallel updates the <code>shirt</code>'s color. However, inside of the if block never executes. I did some alterations to see some other conditions:</p>\n<pre><code>while(true){ \n    if (shirt.isColorBlue()) {           \n        System.out.println(&quot;The shirt is finally blue.&quot;);\n    }\n\n    try {\n        Thread.sleep(1000);\n    }  catch (InterruptedException e) { }   \n}\n</code></pre>\n<p>If I do it like above, the code works (inside the if block gets executed). From this, I understand that the other thread updates the shirt variable after the while starts to iterate. But shouldn't it be still okay since the ideal scenario is &quot;the while looping many many times and the if block executing whenever the other thread updates the shirt variable&quot;?</p>\n"},{"tags":["java","mongodb","deployment","maven-plugin","wildfly-10"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1474410399,"post_id":39586215,"comment_id":66517760,"body_markdown":"It looks like somewhere you&#39;re referencing a module called `com.redhat.lightblue`, but you haven&#39;t defined the module. Have a look at https://docs.jboss.org/author/display/WFLY/Class+Loading+in+WildFly. You can install a module with the CLI `module add` command.","body":"It looks like somewhere you&#39;re referencing a module called <code>com.redhat.lightblue</code>, but you haven&#39;t defined the module. Have a look at <a href=\"https://docs.jboss.org/author/display/WFLY/Class+Loading+in+WildFly\" rel=\"nofollow noreferrer\">docs.jboss.org/author/display/WFLY/Class+Loading+in+WildFly</a>. You can install a module with the CLI <code>module add</code> command."}],"owner":{"account_id":6530145,"reputation":4502,"user_id":6127411,"accept_rate":60,"display_name":"Janki Gadhiya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":745,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1673371783,"creation_date":1474348805,"question_id":39586215,"body_markdown":"[What is LightBlue?][1] \r\n\r\nThis is the error I am getting : \r\n\r\n    10:34:15,886 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-4) MSC000001: Failed to start service jboss.module.service.&quot;deployment.lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war&quot;.main: org.jboss.msc.service.StartException in service jboss.module.service.&quot;deployment.lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war&quot;.main: WFLYSRV0179: Failed to load module: deployment.lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war:main\r\n    \tat org.jboss.as.server.moduleservice.ModuleLoadService.start(ModuleLoadService.java:91)\r\n    \tat org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)\r\n    \tat org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    Caused by: org.jboss.modules.ModuleNotFoundException: com.redhat.lightblue:main\r\n    \tat org.jboss.modules.Module.addPaths(Module.java:1093)\r\n    \tat org.jboss.modules.Module.link(Module.java:1449)\r\n    \tat org.jboss.modules.Module.relinkIfNecessary(Module.java:1477)\r\n    \tat org.jboss.modules.ModuleLoader.loadModule(ModuleLoader.java:225)\r\n    \tat org.jboss.as.server.moduleservice.ModuleLoadService.start(ModuleLoadService.java:68)\r\n    \t... 5 more\r\n    \r\n    10:34:15,888 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 64) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war&quot;)]) - failure description: {\r\n        &quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.module.service.\\&quot;deployment.lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war\\&quot;.main&quot; =&gt; &quot;org.jboss.msc.service.StartException in service jboss.module.service.\\&quot;deployment.lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war\\&quot;.main: WFLYSRV0179: Failed to load module: deployment.lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war:main\r\n        Caused by: org.jboss.modules.ModuleNotFoundException: com.redhat.lightblue:main&quot;},\r\n        &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.module.service.\\&quot;deployment.lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war\\&quot;.main&quot;],\r\n        &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; undefined\r\n    }\r\n    10:34:15,888 ERROR [org.jboss.as.server] (management-handler-thread - 64) WFLYSRV0021: Deploy of deployment &quot;lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war&quot; was rolled back with the following failure message: \r\n    {\r\n        &quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.module.service.\\&quot;deployment.lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war\\&quot;.main&quot; =&gt; &quot;org.jboss.msc.service.StartException in service jboss.module.service.\\&quot;deployment.lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war\\&quot;.main: WFLYSRV0179: Failed to load module: deployment.lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war:main\r\n        Caused by: org.jboss.modules.ModuleNotFoundException: com.redhat.lightblue:main&quot;},\r\n        &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.module.service.\\&quot;deployment.lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war\\&quot;.main&quot;],\r\n        &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; undefined\r\n    }\r\n\r\nI have found some solutions that are telling me to add `module.xml` but I don&#39;t know exactly where to add that and what should be the content of `module.xml` for light blue.\r\n\r\nI am very new in wildfly deployment it will great help if anyone comes up with a solution.\r\n\r\nDoes anyone with the same error as mine? \r\n\r\n\r\n  [1]: https://github.com/lightblue-platform/lightblue-rest","title":"Getting error while deploying lightblue on WildFly 10.1.0","body":"<p><a href=\"https://github.com/lightblue-platform/lightblue-rest\" rel=\"nofollow noreferrer\">What is LightBlue?</a></p>\n<p>This is the error I am getting :</p>\n<pre><code>10:34:15,886 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-4) MSC000001: Failed to start service jboss.module.service.&quot;deployment.lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war&quot;.main: org.jboss.msc.service.StartException in service jboss.module.service.&quot;deployment.lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war&quot;.main: WFLYSRV0179: Failed to load module: deployment.lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war:main\n    at org.jboss.as.server.moduleservice.ModuleLoadService.start(ModuleLoadService.java:91)\n    at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)\n    at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.jboss.modules.ModuleNotFoundException: com.redhat.lightblue:main\n    at org.jboss.modules.Module.addPaths(Module.java:1093)\n    at org.jboss.modules.Module.link(Module.java:1449)\n    at org.jboss.modules.Module.relinkIfNecessary(Module.java:1477)\n    at org.jboss.modules.ModuleLoader.loadModule(ModuleLoader.java:225)\n    at org.jboss.as.server.moduleservice.ModuleLoadService.start(ModuleLoadService.java:68)\n    ... 5 more\n\n10:34:15,888 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 64) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war&quot;)]) - failure description: {\n    &quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.module.service.\\&quot;deployment.lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war\\&quot;.main&quot; =&gt; &quot;org.jboss.msc.service.StartException in service jboss.module.service.\\&quot;deployment.lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war\\&quot;.main: WFLYSRV0179: Failed to load module: deployment.lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war:main\n    Caused by: org.jboss.modules.ModuleNotFoundException: com.redhat.lightblue:main&quot;},\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.module.service.\\&quot;deployment.lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war\\&quot;.main&quot;],\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; undefined\n}\n10:34:15,888 ERROR [org.jboss.as.server] (management-handler-thread - 64) WFLYSRV0021: Deploy of deployment &quot;lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war&quot; was rolled back with the following failure message: \n{\n    &quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.module.service.\\&quot;deployment.lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war\\&quot;.main&quot; =&gt; &quot;org.jboss.msc.service.StartException in service jboss.module.service.\\&quot;deployment.lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war\\&quot;.main: WFLYSRV0179: Failed to load module: deployment.lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war:main\n    Caused by: org.jboss.modules.ModuleNotFoundException: com.redhat.lightblue:main&quot;},\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.module.service.\\&quot;deployment.lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war\\&quot;.main&quot;],\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; undefined\n}\n</code></pre>\n<p>I have found some solutions that are telling me to add <code>module.xml</code> but I don't know exactly where to add that and what should be the content of <code>module.xml</code> for light blue.</p>\n<p>I am very new in wildfly deployment it will great help if anyone comes up with a solution.</p>\n<p>Does anyone with the same error as mine?</p>\n"},{"tags":["java","sql-server","spring","query-notifications"],"comments":[{"owner":{"account_id":1292806,"reputation":177,"user_id":1244555,"accept_rate":54,"display_name":"dodjavola"},"score":0,"creation_date":1400082035,"post_id":23659038,"comment_id":36340438,"body_markdown":"Yea, I understand, but that&#39;s just an example. My question is if SQL Server Query Notifications can be implemented in JAVA at all?","body":"Yea, I understand, but that&#39;s just an example. My question is if SQL Server Query Notifications can be implemented in JAVA at all?"}],"answers":[{"comments":[{"owner":{"account_id":4351829,"reputation":178,"user_id":3551890,"display_name":"red1kissi"},"score":0,"creation_date":1400142473,"post_id":23659781,"comment_id":36366907,"body_markdown":"After searching not very thorough. \nI can say for now is that I do not find how to connect to MSSQL Service broker in java. So the solution would be to make a bridge between MSSQL Service and a Broker with .NET as described in your link above. [Here](http://jawiseblog.blogspot.fr/2008/09/sql-server-integration-with-enterprise.html) there is a good article that might help you.","body":"After searching not very thorough.  I can say for now is that I do not find how to connect to MSSQL Service broker in java. So the solution would be to make a bridge between MSSQL Service and a Broker with .NET as described in your link above. <a href=\"http://jawiseblog.blogspot.fr/2008/09/sql-server-integration-with-enterprise.html\" rel=\"nofollow noreferrer\">Here</a> there is a good article that might help you."},{"owner":{"account_id":8655,"reputation":20729,"user_id":15689,"accept_rate":91,"display_name":"Brian Knoblauch"},"score":2,"creation_date":1424273273,"post_id":23659781,"comment_id":45481531,"body_markdown":"I just went to a programming event last night where this was demonstrated with .Net.  The takeaway for the non-.Net people was that it can be setup over any ODBC connection, but that catching the callback could be an issue depending on your ODBC/JDBC driver support.  I suppose an MQ or other bridge would work, but it would be best if the native JDBC driver would just support it.  :-)","body":"I just went to a programming event last night where this was demonstrated with .Net.  The takeaway for the non-.Net people was that it can be setup over any ODBC connection, but that catching the callback could be an issue depending on your ODBC/JDBC driver support.  I suppose an MQ or other bridge would work, but it would be best if the native JDBC driver would just support it.  :-)"}],"tags":[],"owner":{"account_id":4351829,"reputation":178,"user_id":3551890,"display_name":"red1kissi"},"comment_count":2,"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1400083515,"creation_date":1400083515,"answer_id":23659781,"question_id":23659038,"body_markdown":"You want to listen to SQL server notifications. You can configure MSSql Server to notify a Broker. There is [Apache ActiveMQ][1] as an open source solution. So you need to connect MSSql Server to your broker and use JMS implementation to listen &amp; retrieve notifications in java from the broker. \r\n\r\nThe question now is : is it possible to connect MSSql Server to any broker ? I will search for that and comeback to you.\r\n\r\n\r\n  [1]: http://activemq.apache.org/","title":"SQL Server Query Notifications in Java","body":"<p>You want to listen to SQL server notifications. You can configure MSSql Server to notify a Broker. There is <a href=\"http://activemq.apache.org/\" rel=\"noreferrer\">Apache ActiveMQ</a> as an open source solution. So you need to connect MSSql Server to your broker and use JMS implementation to listen &amp; retrieve notifications in java from the broker. </p>\n\n<p>The question now is : is it possible to connect MSSql Server to any broker ? I will search for that and comeback to you.</p>\n"}],"owner":{"account_id":1292806,"reputation":177,"user_id":1244555,"accept_rate":54,"display_name":"dodjavola"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5658,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":23659781,"answer_count":1,"score":5,"last_activity_date":1673371654,"creation_date":1400081423,"question_id":23659038,"body_markdown":"I&#39;ve been searching online for a while, but with no luck so far. Is it possible to implement this in Java http://www.codeproject.com/Articles/144344/Query-Notification-using-SqlDependency-and-SqlCach? Is it supported by JDBC for SQL Server 2012? ","title":"SQL Server Query Notifications in Java","body":"<p>I've been searching online for a while, but with no luck so far. Is it possible to implement this in Java <a href=\"http://www.codeproject.com/Articles/144344/Query-Notification-using-SqlDependency-and-SqlCach\" rel=\"nofollow noreferrer\">http://www.codeproject.com/Articles/144344/Query-Notification-using-SqlDependency-and-SqlCach</a>? Is it supported by JDBC for SQL Server 2012?</p>\n"},{"tags":["java","design-patterns","hibernate-validator","spring-validator"],"comments":[{"owner":{"account_id":2998260,"reputation":1246,"user_id":2544318,"accept_rate":76,"display_name":"Tore"},"score":4,"creation_date":1606196282,"post_id":64980788,"comment_id":114882006,"body_markdown":"Sounds like something your code reviewer should answer, if they are requesting it","body":"Sounds like something your code reviewer should answer, if they are requesting it"},{"owner":{"account_id":2411926,"reputation":2788,"user_id":2106815,"accept_rate":69,"display_name":"Jabir"},"score":0,"creation_date":1606196500,"post_id":64980788,"comment_id":114882058,"body_markdown":"Maybe something from here can help you https://stackoverflow.com/questions/28049094/replacing-if-else-statement-with-pattern","body":"Maybe something from here can help you <a href=\"https://stackoverflow.com/questions/28049094/replacing-if-else-statement-with-pattern\" title=\"replacing if else statement with pattern\">stackoverflow.com/questions/28049094/&hellip;</a>"},{"owner":{"account_id":7133508,"reputation":1171,"user_id":5784051,"display_name":"Xwtek"},"score":0,"creation_date":1606196529,"post_id":64980788,"comment_id":114882066,"body_markdown":"It seems like something other than if/else is problematic, which in this case, you should ask the reviewer why.","body":"It seems like something other than if/else is problematic, which in this case, you should ask the reviewer why."},{"owner":{"account_id":20047273,"reputation":65,"user_id":14696656,"display_name":"Jammy"},"score":0,"creation_date":1606196639,"post_id":64980788,"comment_id":114882096,"body_markdown":"He just vaguely asked me to identify suitable design pattern for this scenario. Or come up with my own pattern. Honestly, I am aware of only a few design patterns. But not exactly sure on what to do to completely avoid if/else especially in validations. I was not able to find much resources online for design patterns for validations that completely avoids if/else @ToreHanssen","body":"He just vaguely asked me to identify suitable design pattern for this scenario. Or come up with my own pattern. Honestly, I am aware of only a few design patterns. But not exactly sure on what to do to completely avoid if/else especially in validations. I was not able to find much resources online for design patterns for validations that completely avoids if/else @ToreHanssen"},{"owner":{"account_id":20047273,"reputation":65,"user_id":14696656,"display_name":"Jammy"},"score":0,"creation_date":1606196855,"post_id":64980788,"comment_id":114882141,"body_markdown":"@Xwtek he feels that there are few more scenarios coming on the way and he feels that this if/else would keep growing","body":"@Xwtek he feels that there are few more scenarios coming on the way and he feels that this if/else would keep growing"},{"owner":{"account_id":20047273,"reputation":65,"user_id":14696656,"display_name":"Jammy"},"score":0,"creation_date":1606196973,"post_id":64980788,"comment_id":114882174,"body_markdown":"@Jabir The design pattern using enum looks more suitable. Thanks for the link! Will post my solution and close this. Thanks everyone for the comments","body":"@Jabir The design pattern using enum looks more suitable. Thanks for the link! Will post my solution and close this. Thanks everyone for the comments"}],"answers":[{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1606212278,"post_id":64984068,"comment_id":114887885,"body_markdown":"*&quot;A long time ago, in the beginning of time.&quot;* -  Actually, in the beginning of time there was spaghetti code, assigned goto, common blocks, &quot;paragraphs&quot; and programming was chaos.  Structured program (one entry, one exit) was an attempt to bring order out of the chaos.","body":"<i>&quot;A long time ago, in the beginning of time.&quot;</i> -  Actually, in the beginning of time there was spaghetti code, assigned goto, common blocks, &quot;paragraphs&quot; and programming was chaos.  Structured program (one entry, one exit) was an attempt to bring order out of the chaos."},{"owner":{"account_id":26894,"reputation":100239,"user_id":70386,"accept_rate":84,"display_name":"jgauffin"},"score":0,"creation_date":1606222236,"post_id":64984068,"comment_id":114892461,"body_markdown":"@StephenC Yes, of course. I was writing from the perspective of the OP. The question seems to come from someone which is relatively new to the field, and from that perspective, one exit is from a long time ago :)","body":"@StephenC Yes, of course. I was writing from the perspective of the OP. The question seems to come from someone which is relatively new to the field, and from that perspective, one exit is from a long time ago :)"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1606224159,"post_id":64984068,"comment_id":114893425,"body_markdown":"I know what you are doing.  But (IMO) you are being unnecessarily dismissive of a paradigm that served the industry well for a number of years.","body":"I know what you are doing.  But (IMO) you are being unnecessarily dismissive of a paradigm that served the industry well for a number of years."},{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1606232238,"post_id":64984068,"comment_id":114897715,"body_markdown":"@StephenC, [SESE](https://softwareengineering.stackexchange.com/a/118793), I don&#39;t think it means what you think it means  ;).  My mind was blown when I learned there _never was_ a software principle dictating a single return statement. But I should not have been surprised that Dijkstra was right all along and everyone simply misinterpreted him.","body":"@StephenC, <a href=\"https://softwareengineering.stackexchange.com/a/118793\">SESE</a>, I don&#39;t think it means what you think it means  ;).  My mind was blown when I learned there <i>never was</i> a software principle dictating a single return statement. But I should not have been surprised that Dijkstra was right all along and everyone simply misinterpreted him."}],"tags":[],"owner":{"account_id":26894,"reputation":100239,"user_id":70386,"accept_rate":84,"display_name":"jgauffin"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1606211781,"creation_date":1606211781,"answer_id":64984068,"question_id":64980788,"body_markdown":"A long time ago, in the beginning of time. There was a guideline that said that methods should only have one exit point. To achieve that, developers had to track the local state and use if/else to be able to reach the end of the method.\r\n\r\nToday we know better. By exiting a method as early as possible it&#39;s much easier to keep the entire flow in our head while reading the code. Easier code means less mistakes. Less mistakes equals less bugs.\r\n\r\nIn my opinion, that&#39;s why the reviewer doesn&#39;t like the code. It&#39;s not as easy to read as it could be.\r\n\r\nLet&#39;s take the first example:\r\n\r\n     public boolean isValid(UUID uuid, ConstraintValidationContext context) {\r\n\r\n             return !(uuid!=null &amp;&amp; someRepository.existsById(uuid)); //The reviewer doesn&#39;t want this negation operator\r\n      }\r\n\r\nWhat the code says is &quot;not this: (uuid should not be empty and it must exist)&quot;. Is that easy to understand? I think not.\r\n\r\nThe alternative: &quot;Its OK if uuid do not exist, but if it do, the item may not exist&quot;.\r\n\r\nOr in code:\r\n\r\n```\r\nif (uuid == null) return true;\r\nreturn !someRepository.existsById(uuid);\r\n```\r\n\r\nMuch easier to read, right? (I hope that I got the intention correct ;))\r\n\r\n**Second example**\r\n\r\n          if(someObject.getFieldA() != null) { //He doesn&#39;t want this if statement\r\n                //do some operations\r\n                List&lt;Something&gt; someList = someRepository.findByAAndB(someObject.getFieldA(),B);\r\n                return !someList.isEmpty(); //He doesn&#39;t want this ! operator\r\n           }\r\n           return false; // He was not fine with else statement in here as well\r\n\r\nOk. Here you are saying:\r\n\r\n* If field A is not null:\r\n  * Build a list where A and b is found\r\n  * If that list is not empty fail, otherwise succeed.\r\n* Otherwise fail\r\n\r\nA easier way to conclude that is to simply say:\r\n\r\n* It&#39;s ok if field A is not specified\r\n* If field A is specified it must exist in combination with B.\r\n\r\nTranslated to code:\r\n\r\n    if (someObject.getFieldA() == null) \r\n        return true;\r\n\r\n    return !someRepository.findByAAndB(someObject.getFieldA(),B).isEmpty();\r\n\r\nIn C# we have `Any()` which is opposite to `isEmpty` which I would prefer in this case as it removes the negation.\r\n\r\nSometimes negations are required. It doesn&#39;t make sense to write a new method in the repository to avoid it. However, if `findByAAndB` is only used by this I would rename it to `ensureCombination(a,b)` so that it can return true for the valid case.\r\n\r\nTry to write code as you talk, it makes it much easier to create a mental picture of the code then. You aren&#39;t saying &quot;Im not full, lets go to lunch&quot;, are you? ;)","title":"Which design pattern to use to avoid if/else in validation classes?","body":"<p>A long time ago, in the beginning of time. There was a guideline that said that methods should only have one exit point. To achieve that, developers had to track the local state and use if/else to be able to reach the end of the method.</p>\n<p>Today we know better. By exiting a method as early as possible it's much easier to keep the entire flow in our head while reading the code. Easier code means less mistakes. Less mistakes equals less bugs.</p>\n<p>In my opinion, that's why the reviewer doesn't like the code. It's not as easy to read as it could be.</p>\n<p>Let's take the first example:</p>\n<pre><code> public boolean isValid(UUID uuid, ConstraintValidationContext context) {\n\n         return !(uuid!=null &amp;&amp; someRepository.existsById(uuid)); //The reviewer doesn't want this negation operator\n  }\n</code></pre>\n<p>What the code says is &quot;not this: (uuid should not be empty and it must exist)&quot;. Is that easy to understand? I think not.</p>\n<p>The alternative: &quot;Its OK if uuid do not exist, but if it do, the item may not exist&quot;.</p>\n<p>Or in code:</p>\n<pre><code>if (uuid == null) return true;\nreturn !someRepository.existsById(uuid);\n</code></pre>\n<p>Much easier to read, right? (I hope that I got the intention correct ;))</p>\n<p><strong>Second example</strong></p>\n<pre><code>      if(someObject.getFieldA() != null) { //He doesn't want this if statement\n            //do some operations\n            List&lt;Something&gt; someList = someRepository.findByAAndB(someObject.getFieldA(),B);\n            return !someList.isEmpty(); //He doesn't want this ! operator\n       }\n       return false; // He was not fine with else statement in here as well\n</code></pre>\n<p>Ok. Here you are saying:</p>\n<ul>\n<li>If field A is not null:\n<ul>\n<li>Build a list where A and b is found</li>\n<li>If that list is not empty fail, otherwise succeed.</li>\n</ul>\n</li>\n<li>Otherwise fail</li>\n</ul>\n<p>A easier way to conclude that is to simply say:</p>\n<ul>\n<li>It's ok if field A is not specified</li>\n<li>If field A is specified it must exist in combination with B.</li>\n</ul>\n<p>Translated to code:</p>\n<pre><code>if (someObject.getFieldA() == null) \n    return true;\n\nreturn !someRepository.findByAAndB(someObject.getFieldA(),B).isEmpty();\n</code></pre>\n<p>In C# we have <code>Any()</code> which is opposite to <code>isEmpty</code> which I would prefer in this case as it removes the negation.</p>\n<p>Sometimes negations are required. It doesn't make sense to write a new method in the repository to avoid it. However, if <code>findByAAndB</code> is only used by this I would rename it to <code>ensureCombination(a,b)</code> so that it can return true for the valid case.</p>\n<p>Try to write code as you talk, it makes it much easier to create a mental picture of the code then. You aren't saying &quot;Im not full, lets go to lunch&quot;, are you? ;)</p>\n"},{"tags":[],"owner":{"account_id":3782879,"reputation":24895,"user_id":3141792,"display_name":"BionicCode"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1606670888,"creation_date":1606670570,"answer_id":65062932,"question_id":64980788,"body_markdown":"You can check the Null-object pattern.\r\nThe general pattern is to ban `null` completely from your code. This eliminates the ugly `null` checks. In this point I agree with your code reviewer.\r\n\r\nFollowing the below recommendations will result in:\r\n\r\n    public boolean isValid(SomeClass someObject, ConstraintValidationContext context) {\r\n      return someRepository.containsAAndB(someObject.getFieldA(), B);\r\n    }\r\n\r\nAvoid null checks\r\n-----------------\r\n\r\nBefore introducing the Null-object pattern, simply apply the pattern or convention to enforce initialization of all references. This way you can be sure that there are no `null` references in your entire code.  \r\nSo when you encounter a `NullPointerException`, you don&#39;t solve the issue by introducing a `null` check, but by initializing the reference (on construction) e.g., by using default values, empty collections or null objects.\r\n\r\nMost modern languages support code analysis via annotations like `@NonNull` that checks references like arguments and will throw an exception, when a parameter is `null`/not initialized. `javax.annotation` for instance provides such annotations.\r\n\r\n    public void operation(@NonNull Object param) {\r\n\t    param.toString(); // Guaranteed to be not null\r\n\t}\r\n\r\nUsing such annotations can guard library code against null arguments.\r\n\r\nNull-Object Pattern\r\n-------------------\r\nInstead of having `null` references, you initialize each reference with a meaningful value or a dedicated null-object:\r\n\r\nDefine the Null-object contract (not required):\r\n\r\n    interface NullObject {\r\n      public boolean getIsNull();\r\n    }\r\n\r\nDefine a base type:\r\n\r\n    abstract class Account {\r\n      private double value;\r\n      private List&lt;Owner&gt; owners;\r\n    \r\n      // Getters/setters    \r\n    }\r\n\r\nDefine the Null-object:\r\n\r\n    class NullAccount extends Account implements NullObject {\r\n    \r\n      // Initialize ALL attributes with meaningful and *neutral* values\r\n      public NullAccount() {\r\n        setValue(0); // \r\n        setOwners(new ArrayList&lt;Owner&gt;())\r\n\r\n      @Override\r\n      public boolean getIsNull() {\r\n        return true;\r\n      }\r\n    }\r\n\r\nDefine the default implementation:\r\n\r\n    class AccountImpl extends Account implements NullObject {\r\n\r\n      @Override\r\n      public boolean getIsNull() {\r\n        return true;\r\n      }    \r\n    }\r\n\r\nInitialize all `Account` references using the `NullAccount` class:\r\n\r\n    class Employee  {\r\n      private Account Account;\r\n    \r\n      public Employee() {\r\n        setAccount(new NullAccount());\r\n      }\r\n    }\r\n\r\nOr use the `NullAccount` to return a failed state instance (or default) instead of returning `null`:\r\n\r\n    public Account findAccountOf(Owner owner) {\r\n      if (notFound) {\r\n        return new NullAccount();\r\n      }\r\n    }\r\n\r\n    public void testNullAccount() {\r\n      Account result = findAccountOf(null); // Returns a NullAccount\r\n      \r\n      // The Null-object is neutral. We can use it without null checking.\r\n      // result.getOwners() always returns \r\n      // an empty collection (NullAccount) =&gt; no iteration =&gt; neutral behavior\r\n      for (Owner owner : result.getOwners()) {\r\n        double total += result.getvalue(); // No side effect.\r\n      }\r\n    }\r\n      \r\n\r\nTry-Do Pattern\r\n------\r\n\r\nAnother pattern you can use is the Try-Do pattern. Instead of testing the result of an operation you simply test the operation itself. The operation is responsible to return whether the operation was successful or not.\r\n\r\nWhen searching a text for a string, it might be more convenient to return a boolean whether the result was found instead of returning an empty string or even worse `null`:\r\n\r\n    public boolean tryFindInText(String source, String searchKey, SearchResult result) {\r\n      int matchIndex = source.indexOf(searchKey);\r\n      result.setMatchIndex(matchIndex);\r\n      return matchIndex &gt; 0;\r\n    }\r\n    \r\n    public void useTryDo() {\r\n      SearchResult result = new Searchresult();\r\n      if (tryFindInText(&quot;Example text&quot;, &quot;ample&quot;, result) {\r\n        int index = result.getMatchIndex();\r\n      }\r\n    }\r\n\r\nIn your special case, you can replace the `findByAAndB()` with an `containsAAndB() : boolean` implementation.\r\n\r\n \r\n\r\n----------\r\n\r\n\r\nCombining the patterns\r\n--------\r\nThe final solution implements the Null-Object pattern and refactors the find method. The result of the original `findByAAndB()` was discarded before, since you wanted to test the existence of  `A` and `B`. A alternative method `public boolean contains()` will improve your code.  \r\nThe refactored implementation looks as followed:\r\n\r\n    abstract class FieldA {\r\n    \r\n    }\r\n    \r\n    class NullFieldA {\r\n    \r\n    }\r\n    \r\n    class FieldAImpl {\r\n    \r\n    }\r\n    \r\n    class SomeClass {\r\n    \r\n      public SomeClass() {\r\n        setFieldA(new NullFieldA());\r\n      }\r\n    }\r\n\r\n  \r\nThe improved validation:\r\n\r\n    public boolean isValid(SomeClass someObject, ConstraintValidationContext context) {\r\n      return someRepository.containsAAndB(someObject.getFieldA(), B);\r\n    }\r\n","title":"Which design pattern to use to avoid if/else in validation classes?","body":"<p>You can check the Null-object pattern.\nThe general pattern is to ban <code>null</code> completely from your code. This eliminates the ugly <code>null</code> checks. In this point I agree with your code reviewer.</p>\n<p>Following the below recommendations will result in:</p>\n<pre><code>public boolean isValid(SomeClass someObject, ConstraintValidationContext context) {\n  return someRepository.containsAAndB(someObject.getFieldA(), B);\n}\n</code></pre>\n<h2>Avoid null checks</h2>\n<p>Before introducing the Null-object pattern, simply apply the pattern or convention to enforce initialization of all references. This way you can be sure that there are no <code>null</code> references in your entire code.<br />\nSo when you encounter a <code>NullPointerException</code>, you don't solve the issue by introducing a <code>null</code> check, but by initializing the reference (on construction) e.g., by using default values, empty collections or null objects.</p>\n<p>Most modern languages support code analysis via annotations like <code>@NonNull</code> that checks references like arguments and will throw an exception, when a parameter is <code>null</code>/not initialized. <code>javax.annotation</code> for instance provides such annotations.</p>\n<pre><code>public void operation(@NonNull Object param) {\n    param.toString(); // Guaranteed to be not null\n}\n</code></pre>\n<p>Using such annotations can guard library code against null arguments.</p>\n<h2>Null-Object Pattern</h2>\n<p>Instead of having <code>null</code> references, you initialize each reference with a meaningful value or a dedicated null-object:</p>\n<p>Define the Null-object contract (not required):</p>\n<pre><code>interface NullObject {\n  public boolean getIsNull();\n}\n</code></pre>\n<p>Define a base type:</p>\n<pre><code>abstract class Account {\n  private double value;\n  private List&lt;Owner&gt; owners;\n\n  // Getters/setters    \n}\n</code></pre>\n<p>Define the Null-object:</p>\n<pre><code>class NullAccount extends Account implements NullObject {\n\n  // Initialize ALL attributes with meaningful and *neutral* values\n  public NullAccount() {\n    setValue(0); // \n    setOwners(new ArrayList&lt;Owner&gt;())\n\n  @Override\n  public boolean getIsNull() {\n    return true;\n  }\n}\n</code></pre>\n<p>Define the default implementation:</p>\n<pre><code>class AccountImpl extends Account implements NullObject {\n\n  @Override\n  public boolean getIsNull() {\n    return true;\n  }    \n}\n</code></pre>\n<p>Initialize all <code>Account</code> references using the <code>NullAccount</code> class:</p>\n<pre><code>class Employee  {\n  private Account Account;\n\n  public Employee() {\n    setAccount(new NullAccount());\n  }\n}\n</code></pre>\n<p>Or use the <code>NullAccount</code> to return a failed state instance (or default) instead of returning <code>null</code>:</p>\n<pre><code>public Account findAccountOf(Owner owner) {\n  if (notFound) {\n    return new NullAccount();\n  }\n}\n\npublic void testNullAccount() {\n  Account result = findAccountOf(null); // Returns a NullAccount\n  \n  // The Null-object is neutral. We can use it without null checking.\n  // result.getOwners() always returns \n  // an empty collection (NullAccount) =&gt; no iteration =&gt; neutral behavior\n  for (Owner owner : result.getOwners()) {\n    double total += result.getvalue(); // No side effect.\n  }\n}\n  \n</code></pre>\n<h2>Try-Do Pattern</h2>\n<p>Another pattern you can use is the Try-Do pattern. Instead of testing the result of an operation you simply test the operation itself. The operation is responsible to return whether the operation was successful or not.</p>\n<p>When searching a text for a string, it might be more convenient to return a boolean whether the result was found instead of returning an empty string or even worse <code>null</code>:</p>\n<pre><code>public boolean tryFindInText(String source, String searchKey, SearchResult result) {\n  int matchIndex = source.indexOf(searchKey);\n  result.setMatchIndex(matchIndex);\n  return matchIndex &gt; 0;\n}\n\npublic void useTryDo() {\n  SearchResult result = new Searchresult();\n  if (tryFindInText(&quot;Example text&quot;, &quot;ample&quot;, result) {\n    int index = result.getMatchIndex();\n  }\n}\n</code></pre>\n<p>In your special case, you can replace the <code>findByAAndB()</code> with an <code>containsAAndB() : boolean</code> implementation.</p>\n<hr />\n<h2>Combining the patterns</h2>\n<p>The final solution implements the Null-Object pattern and refactors the find method. The result of the original <code>findByAAndB()</code> was discarded before, since you wanted to test the existence of  <code>A</code> and <code>B</code>. A alternative method <code>public boolean contains()</code> will improve your code.<br />\nThe refactored implementation looks as followed:</p>\n<pre><code>abstract class FieldA {\n\n}\n\nclass NullFieldA {\n\n}\n\nclass FieldAImpl {\n\n}\n\nclass SomeClass {\n\n  public SomeClass() {\n    setFieldA(new NullFieldA());\n  }\n}\n</code></pre>\n<p>The improved validation:</p>\n<pre><code>public boolean isValid(SomeClass someObject, ConstraintValidationContext context) {\n  return someRepository.containsAAndB(someObject.getFieldA(), B);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7504119,"reputation":25,"user_id":5701314,"display_name":"Nikolas Leontiou"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673371558,"creation_date":1673371558,"answer_id":75073700,"question_id":64980788,"body_markdown":"You can try this\r\n\r\n    return Optional.ofNullable(uuid)\r\n            .map(someRepository::existsById)\r\n            .orElse(false);","title":"Which design pattern to use to avoid if/else in validation classes?","body":"<p>You can try this</p>\n<pre><code>return Optional.ofNullable(uuid)\n        .map(someRepository::existsById)\n        .orElse(false);\n</code></pre>\n"}],"owner":{"account_id":20047273,"reputation":65,"user_id":14696656,"display_name":"Jammy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1509,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":64984068,"answer_count":3,"score":2,"last_activity_date":1673371558,"creation_date":1606196157,"question_id":64980788,"body_markdown":"I am currently using HibernateConstraintValidator to implement my validations. But my reviewer is not fine with having if/else in code or ! operators. Which design pattern can I use to remove the if/else in my validation logic?\r\n``` \r\npublic class SomeValidatorX implements ConstraintValidator&lt;SomeAnnotation, UUID&gt; {\r\n\r\n      @Autowired\r\n      SomeRepository someRepository;\r\n   \r\n      @Override\r\n      public boolean isValid(UUID uuid, ConstraintValidationContext context) {\r\n\r\n             return !(uuid!=null &amp;&amp; someRepository.existsById(uuid)); //The reviewer doesn&#39;t want this negation operator\r\n      }\r\n}\r\n\r\n```\r\n\r\nAnd in below code, he doesn&#39;t want if/else\r\n\r\n``` \r\npublic class SomeValidatorY implements ConstraintValidator&lt;SomeAnnotation, SomeClass&gt; {\r\n\r\n      @Autowired\r\n      SomeRepository someRepository;\r\n   \r\n      @Override\r\n      public boolean isValid(SomeClass someObject, ConstraintValidationContext context) {\r\n           if(someObject.getFieldA() != null) { //He doesn&#39;t want this if statement\r\n                //do some operations\r\n                List&lt;Something&gt; someList = someRepository.findByAAndB(someObject.getFieldA(),B);\r\n                return !someList.isEmpty(); //He doesn&#39;t want this ! operator\r\n           }\r\n           return false; // He was not fine with else statement in here as well\r\n      }\r\n}\r\n\r\n```\r\n\r\nSide Note: We have to use Domain Driven Design (if it helps)\r\n","title":"Which design pattern to use to avoid if/else in validation classes?","body":"<p>I am currently using HibernateConstraintValidator to implement my validations. But my reviewer is not fine with having if/else in code or ! operators. Which design pattern can I use to remove the if/else in my validation logic?</p>\n<pre><code>public class SomeValidatorX implements ConstraintValidator&lt;SomeAnnotation, UUID&gt; {\n\n      @Autowired\n      SomeRepository someRepository;\n   \n      @Override\n      public boolean isValid(UUID uuid, ConstraintValidationContext context) {\n\n             return !(uuid!=null &amp;&amp; someRepository.existsById(uuid)); //The reviewer doesn't want this negation operator\n      }\n}\n\n</code></pre>\n<p>And in below code, he doesn't want if/else</p>\n<pre><code>public class SomeValidatorY implements ConstraintValidator&lt;SomeAnnotation, SomeClass&gt; {\n\n      @Autowired\n      SomeRepository someRepository;\n   \n      @Override\n      public boolean isValid(SomeClass someObject, ConstraintValidationContext context) {\n           if(someObject.getFieldA() != null) { //He doesn't want this if statement\n                //do some operations\n                List&lt;Something&gt; someList = someRepository.findByAAndB(someObject.getFieldA(),B);\n                return !someList.isEmpty(); //He doesn't want this ! operator\n           }\n           return false; // He was not fine with else statement in here as well\n      }\n}\n\n</code></pre>\n<p>Side Note: We have to use Domain Driven Design (if it helps)</p>\n"},{"tags":["java","maven","hbase"],"comments":[{"owner":{"account_id":16569855,"reputation":11,"user_id":11973307,"display_name":"Kalyani Mvn"},"score":0,"creation_date":1673331864,"post_id":74949214,"comment_id":132468830,"body_markdown":"i added  hbase config code above.Please check and do the  needful","body":"i added  hbase config code above.Please check and do the  needful"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673371565,"post_id":74949214,"comment_id":132481927,"body_markdown":"The shown code doesn&#39;t use spring-data, or spring-boot at all. So, you should remove it from your dependencies. Asking for external resources or someone to write SpringBoot code for you is off-topic for Stackoverflow","body":"The shown code doesn&#39;t use spring-data, or spring-boot at all. So, you should remove it from your dependencies. Asking for external resources or someone to write SpringBoot code for you is off-topic for Stackoverflow"}],"owner":{"account_id":16569855,"reputation":11,"user_id":11973307,"display_name":"Kalyani Mvn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673371495,"creation_date":1672305180,"question_id":74949214,"body_markdown":"I have requirement like ,i need to connect hadoop-hbase in my spring boot code.I have done many examples.But i unable to connect hadoop system.Can you please share working sampleproj hadoop with hbase project using spring boot.\r\n\r\n\r\n&gt;org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;feedService&#39;: Unsatisfied dependency expressed through field &#39;hbaseTemplate&#39;: Error creating bean with name &#39;hbaseTemplate&#39; defined in class path resource \\[com/example/demo/HbaseConfig.class\\]: Failed to instantiate \\[org.springframework.data.hadoop.hbase.HbaseTemplate\\]: Factory method &#39;hbaseTemplate&#39; threw exception with message: org/apache/hadoop/hbase/client/HTableInterface\\*\\*\r\n\r\nThanks in Advance...\r\n\r\n```\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-hadoop&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5.0.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.hbase&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hbase&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5.2&lt;/version&gt;\r\n\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.hbase&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hbase-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n]\r\n```\r\nHbase config class\r\n\r\n   \r\npublic class HConnection {\r\n\r\n\tprivate String hbasezookeeperquorum = &quot;PRODDMSDN04&quot;;// ,proddmsdn02,proddmsdn01\r\n\tprivate String hbasezookeeperpropertyclientPort = &quot;2181&quot;;\r\n\tprivate String hbasemaster = &quot;proddmsdn01:16010&quot;;\r\n\tprivate String zookeeperznodeparent = &quot;/hbase-unsecure&quot;;\r\n\r\n\tprivate String dmshbasetable=&quot;DMSMASTER&quot;;\r\n\tprivate String dmshbasetableimgfamily=&quot;img&quot;;\r\n\tprivate String  dmshbasetabledatafamily=&quot;data&quot;;\r\n\tprivate String  dmshbasetablemetafamily=&quot;meta&quot;;\r\n\t static Configuration conf;\r\n\t \r\n\t static Connection connection;\r\n\t private String dmsid=&quot;1a2c3e0e-8363-4e94-87c9-701029933b37&quot;;\r\n\tprivate Connection newConnection() {\r\n\t\t\r\n\r\n\t\t Connection conn = null;\r\n\t\t\ttry {\r\n\t\t\t\tconf = HBaseConfiguration.create();\r\n\t\t\t\tconf.set(&quot;hbase.zookeeper.quorum&quot;, hbasezookeeperquorum);\r\n\t\t\t\tconf.set(&quot;hbase.zookeeper.property.clientPort&quot;, hbasezookeeperpropertyclientPort);\r\n\t\t\t\tconf.set(&quot;hbase.master&quot;, hbasemaster);\r\n\t\t\t\tconf.set(&quot;zookeeper.znode.parent&quot;, zookeeperznodeparent);\r\n\t\t\t\tconn = ConnectionFactory.createConnection(conf);\r\n\t\t\t\tSystem.out.println(&quot;conn&quot; + conn.getConfiguration());\r\n\t\t\t\t// Instantiate configuration class\r\n\t\t\t\t// Instantiate configuration class\r\n\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tSystem.out.println(e.getMessage());\r\n\t\t\t}\r\n\t\treturn conn;\r\n\r\n\t}\r\n\r\n\tpublic static void main(String[] args) throws IOException, URISyntaxException, Exception {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t//String fileName = &quot;DMSMASTER&quot;;\r\n\r\n\t\tSystem.out.println(&quot;Connecting to Hadoop-------&gt;&quot;);\r\n\r\n\t\r\n\r\n\t\t connection=new HConnection().newConnection();\r\n\t\t\r\n\t\t FileSystem fileSystem = FileSystem.get(conf);\r\n\r\n\t\tif (fileSystem instanceof DistributedFileSystem) {\r\n\t\t\tSystem.out.println(&quot;HDFS is the underlying filesystem&quot;);\r\n\t\t\tHashMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n\t\t\t// Connection connection=new HConnection().afterPropertiesSet();\r\n\r\n\t\t\t//new HConnection().searchData(connection);\r\n\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;Other type of file system &quot; + fileSystem.getClass());\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Filesystem connected-------&gt;&quot;);\r\n\t\t\t\r\n\r\n\t\t\r\n\t}\r\n\tArrayList&lt;Map&lt;String, String&gt;&gt; list = new ArrayList&lt;&gt;();\r\n\t\r\n\r\n\tpublic Optional&lt;List&lt;Map&lt;String, String&gt;&gt;&gt; searchMetaData(Map&lt;String, String&gt; searchParams)\r\n\t\t\tthrows IOException {\r\n\t\t\r\n\t\tSystem.out.println(&quot;searchParams--------------&gt;&quot;+searchParams);\r\n\t\t\r\n\t\r\n\t\tTableName tablename = TableName.valueOf(dmshbasetable);\r\n\t\tTable table = connection.getTable(tablename);\r\n\t\tSystem.out.println(&quot;Connecting table--------------&gt;&quot;+table);\r\n\t\tScan scan = new Scan();\r\n\t\tscan.addFamily(Bytes.toBytes(dmshbasetabledatafamily));\r\n\t\tscan.addFamily(Bytes.toBytes(dmshbasetablemetafamily));\r\n\t\tFilterList allFilters = new FilterList(new Filter[0]);\r\n\t\tfor (Map.Entry&lt;String, String&gt; entry : searchParams.entrySet()) {\r\n\t\t\tSingleColumnValueFilter filter = new SingleColumnValueFilter(Bytes.toBytes(dmshbasetablemetafamily),\r\n\t\t\t\t\tBytes.toBytes(entry.getKey()), CompareFilter.CompareOp.EQUAL, Bytes.toBytes(entry.getValue()));\r\n\t\t\tallFilters.addFilter((Filter) filter);\r\n\t\t}\r\n\t\tSingleColumnValueFilter filter2 = new SingleColumnValueFilter(Bytes.toBytes(dmshbasetabledatafamily),\r\n\t\t\t\tBytes.toBytes(&quot;status&quot;), CompareFilter.CompareOp.EQUAL, Bytes.toBytes(&quot;1&quot;));\r\n\t\tallFilters.addFilter((Filter) filter2);\r\n\t\tscan.setFilter((Filter) allFilters);\r\n\t\tResultScanner resultScanner = table.getScanner(scan);\r\n\t\tIterator&lt;Result&gt; arr = resultScanner.iterator();\r\n\t\tlist = new ArrayList&lt;&gt;();\r\n\t\twhile (arr.hasNext()) {\r\n\t\t\tGet g = new Get(((Result) arr.next()).getRow());\r\n\t\t\tResult result = table.get(g);\r\n\t\t\tMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n\t\t\tNavigableMap&lt;byte[], byte[]&gt; data = result.getFamilyMap(Bytes.toBytes(dmshbasetabledatafamily));\r\n\t\t\tNavigableMap&lt;byte[], byte[]&gt; metadata = result.getFamilyMap(Bytes.toBytes(dmshbasetablemetafamily));\r\n\t\t\tdata.putAll(metadata);\r\n\t\t\tfor (Map.Entry&lt;byte[], byte[]&gt; entry : data.entrySet())\r\n\t\t\t\tmap.put(new String(entry.getKey()), new String(entry.getValue()));\r\n\t\t\tlist.add(map);\r\n\t\t\t\r\n\t\t}\r\n\t\tif (list.isEmpty())\r\n\t\t\treturn Optional.empty();\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tList&lt;JSONObject&gt; jsonObj = new ArrayList&lt;JSONObject&gt;();\r\n\r\n\t\tfor(Map&lt;String, String&gt; data : list) {\r\n\t\t    JSONObject obj = new JSONObject(data);\r\n\t\t    jsonObj.add(obj);\r\n\t\t}\r\n\r\n\t\tJSONArray test = new JSONArray(jsonObj);\r\n\r\n\t\tSystem.out.println(test.toString());\r\n\t\t\r\n\t\twriteCSV(test.toString());\r\n\t\t\r\n\t\treturn Optional.of(list);\r\n\t}\r\n\r\n\tprivate void writeCSV(String list) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\t try (PrintWriter writer = new PrintWriter(new File(&quot;hadoopconnection_test.csv&quot;))) {\r\n\r\n\t\t      StringBuilder stringbuilder = new StringBuilder();\r\n\r\n\t\t      stringbuilder.append(&quot;DMSid&quot;);\r\n\r\n\t\t      stringbuilder.append(&#39;,&#39;);\r\n\r\n\t\t      stringbuilder.append(&quot;Payload&quot;);\r\n\r\n\t\t      stringbuilder.append(&#39;\\n&#39;);\r\n\r\n\t\t      stringbuilder.append(dmsid);\r\n\r\n\t\t      stringbuilder.append(&#39;,&#39;);\r\n\r\n\t\t      stringbuilder.append(list);\r\n\r\n\t\t      stringbuilder.append(&#39;\\n&#39;);\r\n\r\n\t\t      writer.write(stringbuilder.toString());\r\n\r\n\t\t  \tSystem.out.println(&quot;Data Imported to CSV successfully Done-------&gt;&quot;);\r\n\t\t      \r\n\r\n\t\t    } catch (FileNotFoundException exception) {\r\n\t\t    \t\r\n\t\t      System.out.println(exception.getMessage());\r\n\r\n\t\t    }\r\n\t\t\r\n\t}\r\n\r\n\t\r\n\t\r\n\r\n\t\r\n\r\n\t}\r\n","title":"Spring boot with Hadoop Connection(Hbase)","body":"<p>I have requirement like ,i need to connect hadoop-hbase in my spring boot code.I have done many examples.But i unable to connect hadoop system.Can you please share working sampleproj hadoop with hbase project using spring boot.</p>\n<blockquote>\n<p>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'feedService': Unsatisfied dependency expressed through field 'hbaseTemplate': Error creating bean with name 'hbaseTemplate' defined in class path resource [com/example/demo/HbaseConfig.class]: Failed to instantiate [org.springframework.data.hadoop.hbase.HbaseTemplate]: Factory method 'hbaseTemplate' threw exception with message: org/apache/hadoop/hbase/client/HTableInterface**</p>\n</blockquote>\n<p>Thanks in Advance...</p>\n<pre><code>    &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-hadoop&lt;/artifactId&gt;\n            &lt;version&gt;2.5.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.hbase&lt;/groupId&gt;\n            &lt;artifactId&gt;hbase&lt;/artifactId&gt;\n            &lt;version&gt;2.5.2&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.hbase&lt;/groupId&gt;\n            &lt;artifactId&gt;hbase-client&lt;/artifactId&gt;\n            &lt;version&gt;2.5.2&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n]\n</code></pre>\n<p>Hbase config class</p>\n<p>public class HConnection {</p>\n<pre><code>private String hbasezookeeperquorum = &quot;PRODDMSDN04&quot;;// ,proddmsdn02,proddmsdn01\nprivate String hbasezookeeperpropertyclientPort = &quot;2181&quot;;\nprivate String hbasemaster = &quot;proddmsdn01:16010&quot;;\nprivate String zookeeperznodeparent = &quot;/hbase-unsecure&quot;;\n\nprivate String dmshbasetable=&quot;DMSMASTER&quot;;\nprivate String dmshbasetableimgfamily=&quot;img&quot;;\nprivate String  dmshbasetabledatafamily=&quot;data&quot;;\nprivate String  dmshbasetablemetafamily=&quot;meta&quot;;\n static Configuration conf;\n \n static Connection connection;\n private String dmsid=&quot;1a2c3e0e-8363-4e94-87c9-701029933b37&quot;;\nprivate Connection newConnection() {\n    \n\n     Connection conn = null;\n        try {\n            conf = HBaseConfiguration.create();\n            conf.set(&quot;hbase.zookeeper.quorum&quot;, hbasezookeeperquorum);\n            conf.set(&quot;hbase.zookeeper.property.clientPort&quot;, hbasezookeeperpropertyclientPort);\n            conf.set(&quot;hbase.master&quot;, hbasemaster);\n            conf.set(&quot;zookeeper.znode.parent&quot;, zookeeperznodeparent);\n            conn = ConnectionFactory.createConnection(conf);\n            System.out.println(&quot;conn&quot; + conn.getConfiguration());\n            // Instantiate configuration class\n            // Instantiate configuration class\n\n        } catch (Exception e) {\n            System.out.println(e.getMessage());\n        }\n    return conn;\n\n}\n\npublic static void main(String[] args) throws IOException, URISyntaxException, Exception {\n    // TODO Auto-generated method stub\n    //String fileName = &quot;DMSMASTER&quot;;\n\n    System.out.println(&quot;Connecting to Hadoop-------&gt;&quot;);\n\n\n\n     connection=new HConnection().newConnection();\n    \n     FileSystem fileSystem = FileSystem.get(conf);\n\n    if (fileSystem instanceof DistributedFileSystem) {\n        System.out.println(&quot;HDFS is the underlying filesystem&quot;);\n        HashMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\n        // Connection connection=new HConnection().afterPropertiesSet();\n\n        //new HConnection().searchData(connection);\n\n    } else {\n        System.out.println(&quot;Other type of file system &quot; + fileSystem.getClass());\n        \n        System.out.println(&quot;Filesystem connected-------&gt;&quot;);\n        \n\n    \n}\nArrayList&lt;Map&lt;String, String&gt;&gt; list = new ArrayList&lt;&gt;();\n\n\npublic Optional&lt;List&lt;Map&lt;String, String&gt;&gt;&gt; searchMetaData(Map&lt;String, String&gt; searchParams)\n        throws IOException {\n    \n    System.out.println(&quot;searchParams--------------&gt;&quot;+searchParams);\n    \n\n    TableName tablename = TableName.valueOf(dmshbasetable);\n    Table table = connection.getTable(tablename);\n    System.out.println(&quot;Connecting table--------------&gt;&quot;+table);\n    Scan scan = new Scan();\n    scan.addFamily(Bytes.toBytes(dmshbasetabledatafamily));\n    scan.addFamily(Bytes.toBytes(dmshbasetablemetafamily));\n    FilterList allFilters = new FilterList(new Filter[0]);\n    for (Map.Entry&lt;String, String&gt; entry : searchParams.entrySet()) {\n        SingleColumnValueFilter filter = new SingleColumnValueFilter(Bytes.toBytes(dmshbasetablemetafamily),\n                Bytes.toBytes(entry.getKey()), CompareFilter.CompareOp.EQUAL, Bytes.toBytes(entry.getValue()));\n        allFilters.addFilter((Filter) filter);\n    }\n    SingleColumnValueFilter filter2 = new SingleColumnValueFilter(Bytes.toBytes(dmshbasetabledatafamily),\n            Bytes.toBytes(&quot;status&quot;), CompareFilter.CompareOp.EQUAL, Bytes.toBytes(&quot;1&quot;));\n    allFilters.addFilter((Filter) filter2);\n    scan.setFilter((Filter) allFilters);\n    ResultScanner resultScanner = table.getScanner(scan);\n    Iterator&lt;Result&gt; arr = resultScanner.iterator();\n    list = new ArrayList&lt;&gt;();\n    while (arr.hasNext()) {\n        Get g = new Get(((Result) arr.next()).getRow());\n        Result result = table.get(g);\n        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n        NavigableMap&lt;byte[], byte[]&gt; data = result.getFamilyMap(Bytes.toBytes(dmshbasetabledatafamily));\n        NavigableMap&lt;byte[], byte[]&gt; metadata = result.getFamilyMap(Bytes.toBytes(dmshbasetablemetafamily));\n        data.putAll(metadata);\n        for (Map.Entry&lt;byte[], byte[]&gt; entry : data.entrySet())\n            map.put(new String(entry.getKey()), new String(entry.getValue()));\n        list.add(map);\n        \n    }\n    if (list.isEmpty())\n        return Optional.empty();\n    \n    \n    \n    \n    List&lt;JSONObject&gt; jsonObj = new ArrayList&lt;JSONObject&gt;();\n\n    for(Map&lt;String, String&gt; data : list) {\n        JSONObject obj = new JSONObject(data);\n        jsonObj.add(obj);\n    }\n\n    JSONArray test = new JSONArray(jsonObj);\n\n    System.out.println(test.toString());\n    \n    writeCSV(test.toString());\n    \n    return Optional.of(list);\n}\n\nprivate void writeCSV(String list) {\n    // TODO Auto-generated method stub\n    \n     try (PrintWriter writer = new PrintWriter(new File(&quot;hadoopconnection_test.csv&quot;))) {\n\n          StringBuilder stringbuilder = new StringBuilder();\n\n          stringbuilder.append(&quot;DMSid&quot;);\n\n          stringbuilder.append(',');\n\n          stringbuilder.append(&quot;Payload&quot;);\n\n          stringbuilder.append('\\n');\n\n          stringbuilder.append(dmsid);\n\n          stringbuilder.append(',');\n\n          stringbuilder.append(list);\n\n          stringbuilder.append('\\n');\n\n          writer.write(stringbuilder.toString());\n\n        System.out.println(&quot;Data Imported to CSV successfully Done-------&gt;&quot;);\n          \n\n        } catch (FileNotFoundException exception) {\n            \n          System.out.println(exception.getMessage());\n\n        }\n    \n}\n\n\n\n\n\n\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673371483,"creation_date":1673371483,"answer_id":75073685,"question_id":74660319,"body_markdown":"Hibernate 6.1 introduces support for real immutable embeddable objects by invoking the appropriate constructor, but since classes can have logic in the constructor you&#39;d have to write a custom `EmbeddableInstantiator` to model this.\r\nSince 6.2 there is out of the box support for Java records as embeddables like this:\r\n\r\n```java\r\n@Embeddable\r\npublic record Address(\r\n    String street1,\r\n    String street2,\r\n    String city,\r\n    String state,\r\n    String zipcode,\r\n    String country) {\r\n\r\n    public static final Address EMPTY_ADDRESS = new Address(&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;);\r\n...\r\n}\r\n```\r\n\r\nAlso see https://in.relation.to/2022/12/22/orm-62-cr1/ for reference.","title":"JPA and Immutable value for @Embeddable fields","body":"<p>Hibernate 6.1 introduces support for real immutable embeddable objects by invoking the appropriate constructor, but since classes can have logic in the constructor you'd have to write a custom <code>EmbeddableInstantiator</code> to model this.\nSince 6.2 there is out of the box support for Java records as embeddables like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Embeddable\npublic record Address(\n    String street1,\n    String street2,\n    String city,\n    String state,\n    String zipcode,\n    String country) {\n\n    public static final Address EMPTY_ADDRESS = new Address(&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;);\n...\n}\n</code></pre>\n<p>Also see <a href=\"https://in.relation.to/2022/12/22/orm-62-cr1/\" rel=\"nofollow noreferrer\">https://in.relation.to/2022/12/22/orm-62-cr1/</a> for reference.</p>\n"}],"owner":{"account_id":1623444,"reputation":227,"user_id":1499546,"display_name":"khaemuaset"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75073685,"answer_count":1,"score":0,"last_activity_date":1673371483,"creation_date":1670007261,"question_id":74660319,"body_markdown":"I have a weird, yet perhaps expected, behaviour of JPA with immutable POJOs.\r\nI teach the use of Spring using a simple project as basis. In its first versions, everything is handmade, without magick. Hence, I took the advantage to introduce my students to the benefit of immutable objects. \r\n\r\nI created a simple immutable Address class, with an associated builder, and included it as a field in a Customer object.\r\n\r\nWhen I moved to JPA, I felt that @Embedded and @Embeddable were the way to go.\r\n\r\nHence I got \r\n\r\n~~~java\r\n@Embeddable\r\npublic final class Address {\r\n    public static final Address EMPTY_ADDRESS = new Address(&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;);\r\n\r\n    private  final String street1;\r\n    private  final String street2;\r\n    private  final String city;\r\n    private  final String state;\r\n    private  final String zipcode;\r\n    private  final String country;\r\n\r\n...\r\n}\r\n~~~\r\n\r\nAnd, as far as JPA goes, my tests went well. But.. notice the EMPTY_ADDRESS constant? Before going to Spring, I had written tests which took advantage of immutability, such as :\r\n\r\n~~~java\r\n@Test\r\npublic void testEmptyBuilder() {\r\n  Address a = Address.builder().build();\r\n  assertEquals(Address.EMPTY_ADDRESS, a);\r\n}\r\n~~~\r\n\r\nThey work in isolation... But when I run all the tests, if the JPA tests run before the tests for Address, the result is that JPA will write into my poor EMPTY_ADDRESS (which happens to be the initial value for a customer address), instead of creating a new Address object.\r\n\r\nI guess it can be expected, but, apart from foregoing the claim to immutability, is there a good way to do this in JPA? And, apart from immutability, what is the expected behaviour of JPA if :\r\n\r\na. we share an embeddable objet (with the same address) between two JPA entities ;\r\nb. we change the value of one of them by calling a setter, like :\r\n\r\n~~~\r\ncustomer.setAddress(new Address(....));\r\n~~~ \r\n\r\n\r\nP.S. I know that a very similar question has been asked, but it was ten years ago, and at that time, the code would not even run. In my case, the problem is that my immutable object is mutated.\r\n\r\n","title":"JPA and Immutable value for @Embeddable fields","body":"<p>I have a weird, yet perhaps expected, behaviour of JPA with immutable POJOs.\nI teach the use of Spring using a simple project as basis. In its first versions, everything is handmade, without magick. Hence, I took the advantage to introduce my students to the benefit of immutable objects.</p>\n<p>I created a simple immutable Address class, with an associated builder, and included it as a field in a Customer object.</p>\n<p>When I moved to JPA, I felt that @Embedded and @Embeddable were the way to go.</p>\n<p>Hence I got</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Embeddable\npublic final class Address {\n    public static final Address EMPTY_ADDRESS = new Address(&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;);\n\n    private  final String street1;\n    private  final String street2;\n    private  final String city;\n    private  final String state;\n    private  final String zipcode;\n    private  final String country;\n\n...\n}\n</code></pre>\n<p>And, as far as JPA goes, my tests went well. But.. notice the EMPTY_ADDRESS constant? Before going to Spring, I had written tests which took advantage of immutability, such as :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void testEmptyBuilder() {\n  Address a = Address.builder().build();\n  assertEquals(Address.EMPTY_ADDRESS, a);\n}\n</code></pre>\n<p>They work in isolation... But when I run all the tests, if the JPA tests run before the tests for Address, the result is that JPA will write into my poor EMPTY_ADDRESS (which happens to be the initial value for a customer address), instead of creating a new Address object.</p>\n<p>I guess it can be expected, but, apart from foregoing the claim to immutability, is there a good way to do this in JPA? And, apart from immutability, what is the expected behaviour of JPA if :</p>\n<p>a. we share an embeddable objet (with the same address) between two JPA entities ;\nb. we change the value of one of them by calling a setter, like :</p>\n<pre><code>customer.setAddress(new Address(....));\n</code></pre>\n<p>P.S. I know that a very similar question has been asked, but it was ten years ago, and at that time, the code would not even run. In my case, the problem is that my immutable object is mutated.</p>\n"},{"tags":["java","xml","spring","marshalling"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673331412,"post_id":75065682,"comment_id":132468756,"body_markdown":"Now if only Spring would support this itself instaed of you messing around with xml marshalling. Just reutn the `APIList` from the method instead of void and remove all the stuff doing nasty things with XML marshalling.","body":"Now if only Spring would support this itself instaed of you messing around with xml marshalling. Just reutn the <code>APIList</code> from the method instead of void and remove all the stuff doing nasty things with XML marshalling."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1673371458,"post_id":75065682,"comment_id":132481889,"body_markdown":"For future reference, snippets are **only** intended for use with HTML/CSS/JavaScript questions. For any other language, use normal code blocks.","body":"For future reference, snippets are <b>only</b> intended for use with HTML/CSS/JavaScript questions. For any other language, use normal code blocks."}],"answers":[{"comments":[{"owner":{"account_id":26385882,"reputation":45,"user_id":20038396,"display_name":"hayley"},"score":0,"creation_date":1673333676,"post_id":75066182,"comment_id":132469208,"body_markdown":"Hi M.Deinum\nthank you for comment. if i just return APIList, the xml appear json. because i am using json library for other code.. that is why i am using marshaller for parsing xml.\ni think i need to search more on google then fix all my code haha\nthank you!","body":"Hi M.Deinum thank you for comment. if i just return APIList, the xml appear json. because i am using json library for other code.. that is why i am using marshaller for parsing xml. i think i need to search more on google then fix all my code haha thank you!"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673336515,"post_id":75066182,"comment_id":132469902,"body_markdown":"If you get JSON that is because your client is requesting JSON, if he requests XML Spring will send XML. So you need to make sure you send a request with an `Accept: application/xml` as a header.","body":"If you get JSON that is because your client is requesting JSON, if he requests XML Spring will send XML. So you need to make sure you send a request with an <code>Accept: application&#47;xml</code> as a header."}],"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673331601,"creation_date":1673331601,"answer_id":75066182,"question_id":75065682,"body_markdown":"Ditch the formatting, ditch the XML code just return `APIList` from the method. \r\n\r\n```java\r\n@Controller\r\n@RequestMapping(value = &quot;/yipapi&quot;)\r\npublic class YipapiContorller {\r\n    \r\n  @Value(&quot;${restApi.key}&quot;)\r\n  private String restApiKey;\r\n\r\n  @Value(&quot;${restApi.basisUrl}&quot;)\r\n  private String basisUrl;\r\n    \r\n    \r\n  @GetMapping(&quot;/sendxml&quot;)\r\n  @ResponseBody\r\n  public APIList doGet(HttpServletRequest request, HttpServletResponse response)  {\r\n        \r\n    APIList apiList = new APIList();\r\n          \r\n    ResultValue respResult = new ResultValue(&quot;응답결과&quot;);\r\n    apiList.addResult(respResult);\r\n    ResultValue errMsg = new ResultValue(&quot;에러메세지&quot;);\r\n    apiList.addResult(errMsg);\r\n    ResultValue totalCnt = new ResultValue(&quot;토탈&quot;);\r\n    apiList.addResult(totalCnt);\r\n            \r\n    YipapiVO bizId = new YipapiVO(&quot;bizId&quot;);\r\n    apiList.addVoList(bizId);\r\n    return apiList;\r\n  }\r\n}\r\n```\r\n\r\nSpring will do the marshalling for you (assuming you have the proper annotations). \r\n\r\nIn your current code you are working against/around the capabilities of the framework instead of embracing them. ","title":"Error on line 2 at column 1: Extra content at the end of the document in Spring Java (Marshaller)","body":"<p>Ditch the formatting, ditch the XML code just return <code>APIList</code> from the method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\n@RequestMapping(value = &quot;/yipapi&quot;)\npublic class YipapiContorller {\n    \n  @Value(&quot;${restApi.key}&quot;)\n  private String restApiKey;\n\n  @Value(&quot;${restApi.basisUrl}&quot;)\n  private String basisUrl;\n    \n    \n  @GetMapping(&quot;/sendxml&quot;)\n  @ResponseBody\n  public APIList doGet(HttpServletRequest request, HttpServletResponse response)  {\n        \n    APIList apiList = new APIList();\n          \n    ResultValue respResult = new ResultValue(&quot;응답결과&quot;);\n    apiList.addResult(respResult);\n    ResultValue errMsg = new ResultValue(&quot;에러메세지&quot;);\n    apiList.addResult(errMsg);\n    ResultValue totalCnt = new ResultValue(&quot;토탈&quot;);\n    apiList.addResult(totalCnt);\n            \n    YipapiVO bizId = new YipapiVO(&quot;bizId&quot;);\n    apiList.addVoList(bizId);\n    return apiList;\n  }\n}\n</code></pre>\n<p>Spring will do the marshalling for you (assuming you have the proper annotations).</p>\n<p>In your current code you are working against/around the capabilities of the framework instead of embracing them.</p>\n"}],"owner":{"account_id":26385882,"reputation":45,"user_id":20038396,"display_name":"hayley"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673371407,"creation_date":1673327114,"question_id":75065682,"body_markdown":"I am trying to POJO to XML using Marshaller.\r\n\r\n[![this is error][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/55vv6.png\r\n\r\nand I want it to make XML like\r\n\r\n```xml\r\n&lt;youthPolicyList&gt;\r\n  &lt;respResult&gt;resilt&lt;/respResult&gt;\r\n  &lt;errMsg&gt;200&lt;/errMsg&gt;\r\n  &lt;totalCnt&gt;123&lt;/totalCnt&gt;\r\n  &lt;youthPolicyList&gt;\r\n    &lt;bizId&gt;...&lt;/bizId&gt;\r\n    &lt;bizIdCode&gt;...&lt;/bizIdCode&gt;\r\n    ...\r\n  &lt;/youthPolicyList&gt;\r\n&lt;/youthPolicyList&gt;\r\n```\r\n\r\nI made List for youthPolicyList values and result List. This is the VO for youthPolicyList values\r\n\r\n```java\r\npackage egovframework.ksis.yipAPI;\r\n\r\nimport javax.xml.bind.annotation.XmlElement;\r\n\r\npublic class YipapiVO {\r\n\t\t\r\n\t// 정책사업 ID [ register_type (db) + register_date (db) + bizIdCode + bizIdNum ]\r\n\t@XmlElement\r\n\tprivate String bizId;\r\n\t@XmlElement\r\n\tprivate String bizIdCode;\t\t\t\t// 정책사업구분코드 (코드표)\r\n\t@XmlElement\r\n\tprivate int bizIdNum;\t\t\t\t\t// 일련번호(5자리)\r\n\t\r\n\t// 수혜대상지역구분코드 small_category_sid (YIP.YOUTH_SMALL_CATEGORY)\r\n\t@XmlElement\r\n\tprivate String cntcTrgtDataSeq;\r\n\t\r\n\t// 지역 (정책사업구분코드를 위한 지역) \r\n\t// [small_category_title - 매치해서 코드표 연결해야함]\r\n\t@XmlElement\r\n\tprivate String polyBizIscd;\t\r\n\t\r\n\t@XmlElement\r\n\tprivate String polyBizSjnm;\t\t\t// 정책사업제목 policy_title\r\n\t@XmlElement\r\n\tprivate String polyItcnCn;\t\t\t// 정책소개내용 policy_summary\r\n\t@XmlElement\r\n\tprivate String sporCn;\t\t\t\t// 지원 내용 policy_content\r\n\t@XmlElement\r\n\tprivate String sporScvl;\t\t\t// 지원규모내용 policy_scale\r\n\t@XmlElement\r\n\tprivate String bizPrdCn;\t\t\t// 사업운영기간 policy_start_date ~ policy_end_date\r\n\t@XmlElement\r\n\tprivate String prdRpttSecd;\t\t\t// 기간 반복구분코드(코드표)\r\n\t@XmlElement\r\n\tprivate String rqutPrdCn;\t\t\t// 사업신청기간 policy_apply_start_date ~ policy_apply_end_date\r\n\t\r\n\t@XmlElement\r\n\tprivate String bgnAge;\t\t\t\t// 시작 연령\r\n\t@XmlElement\r\n\tprivate String endAge;\t\t\t\t// 종료 연령\r\n\t\r\n\t@XmlElement\r\n\tprivate String majrRqisCn;\t\t\t// 전공요건내용 policy_major\t\r\n\t@XmlElement\r\n\tprivate String majorRqisSecdCn;\t\t// 전공요건구분코드(코드표)\r\n\t\r\n\t@XmlElement\r\n\tprivate String empmSttsCn;\t\t\t// 취업상태내용 policy_job_status\r\n\t@XmlElement\r\n\tprivate String empmSttsSecdCn;\t\t// 취업상태구분코드(코드표)\r\n\t\r\n\t@XmlElement\r\n\tprivate String splzRlmRqisCn;\t\t// 특화분야내용 policy_special\r\n\t@XmlElement\r\n\tprivate String splzRlmRqisSecdCn;\t// 특화분야구분코드(코드표)\r\n\t\r\n\t@XmlElement\r\n\tprivate String accrRqisCn;\t\t\t// 학력요건내용 policy_education\r\n\t@XmlElement\r\n\tprivate String accrRqisSecdCn;\t\t// 학력요건구분코드(코드표)\r\n\t\r\n\t@XmlElement\r\n\tprivate String prcpCn;\t\t\t\t// 거주지 및 소득조건 policy_location\r\n\t\r\n\t@XmlElement\r\n\tprivate String aditRscn;\t\t\t// 추가단서사항 policy_added_item\r\n\t@XmlElement\r\n\tprivate String prcpLmttTrgtCn;\t\t// 참여제한대상 policy_restrict\r\n\t@XmlElement\r\n\tprivate String rqutProcCn;\t\t\t// 신청절차내용 policy_apply_step\r\n\t@XmlElement\r\n\tprivate String pstnPaprCn;\t\t\t// 제출서류내용 policy_document\r\n\t@XmlElement\r\n\tprivate String jdgnPresCn;\t\t\t// 심사및발표일정 policy_announce\r\n\t@XmlElement\r\n\tprivate String rqutUrla;\t\t\t// 신청사이트주소 policy_apply_site \r\n\t@XmlElement\r\n\tprivate String rfcSiteUrla1;\t\t// 참고사이트URL 주소1 reference_site1\r\n\t@XmlElement\r\n\tprivate String rfcSiteUrla2;\t\t// 참고사이트URL 주소2 reference_site2\r\n\t\r\n\t// 주관부처상세 및 운영자 상세 동일\r\n\t@XmlElement\r\n\tprivate String mngtMson;\t\t\t// 주관부처명  policy_agency_name\r\n\t@XmlElement\r\n\tprivate String mngtMrofCherCn;\t\t// 주관부터담장자이름(db에 없음)\r\n\t@XmlElement\r\n\tprivate String cherCtpcCn;\t\t\t// 주관부처담당자연락처 policy_agency_tel\r\n\t@XmlElement\r\n\tprivate String operNmor;\t\t\t// 운영자기관명 policy_agency_name\r\n\t@XmlElement\r\n\tprivate String tintCherCn;\t\t\t// 운영기관담당자이름(db에 없음)\r\n\t@XmlElement\r\n\tprivate String tintCherCtpcCn;\t\t// 운영기관담당자연락처policy_agency_tel\r\n\t\r\n\t@XmlElement\r\n\tprivate String etct;\t\t\t\t// 기타사항내용 policy_notice\r\n\t@XmlElement\r\n\tprivate String tynm;\t\t\t\t// 카테고리내용 policy_type_detail\r\n\t@XmlElement\r\n\tprivate String rmcn;\t\t\t\t// 비고(db에 없음)\r\n\t@XmlElement\r\n\tprivate String lastCntcUpdtDt;\t\t// 업데이트 데이트 없을경우 리지스트 데이터 사용 update_date\r\n\t\r\n\t// I / U / D\r\n\t@XmlElement\r\n\tprivate String cntcStcd;\t\t\t// 연계상태코드\r\n\t\r\n\t@XmlElement\r\n\tprivate String frstRgstDt;\t\t\t// 최초등록일시 register_date\r\n\t@XmlElement\r\n\tprivate String lastUpdtDt;\t\t\t// 최초수정일시\r\n\t\r\n\t@XmlElement\r\n\tprivate String upprBizId;\t\t\t// 상위사업Id\r\n\r\n\tpublic YipapiVO(String string) {\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\nAnd this for result VO\r\n\r\n```java\r\npackage egovframework.ksis.yipAPI;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport javax.xml.bind.annotation.XmlAccessType;\r\nimport javax.xml.bind.annotation.XmlAccessorType;\r\nimport javax.xml.bind.annotation.XmlElement;\r\nimport javax.xml.bind.annotation.XmlElementWrapper;\r\nimport javax.xml.bind.annotation.XmlRootElement;\r\n\r\n// @XmlAccessorType(XmlAccessType.NONE) // xml의 직렬화 범위를 결정\r\npublic class YipapiVOXML {\r\n\t\r\n\tpublic static class ResultValue{\r\n\t\t@XmlElement\r\n\t\tprivate String respResult;\r\n\t\t@XmlElement\r\n\t\tprivate String errMsg;\r\n\t\t@XmlElement\r\n\t\tprivate String totalCnt;\r\n\t\t\r\n\t\tpublic ResultValue(String string) {}\r\n\t}\r\n\t\r\n\t@XmlRootElement(name=&quot;youthPolicyList&quot;)\t// xml의 루트 태그를 의미 name을 명시하지 않으면 클래스명이 디폴트가 된다\r\n\tpublic static class APIList{\r\n\t\t// 결과 메세지 List\r\n\t\t@XmlElement\r\n\t\tList&lt;ResultValue&gt; resultValue = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\t@XmlElementWrapper(name = &quot;youthPolicy&quot;)\r\n\t\t@XmlElement\t\t\r\n\t\tprivate List&lt;YipapiVO&gt; apiList = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\t// ADD를 위한\r\n\t\tvoid addVoList(YipapiVO yipapiVO) {\r\n\t\t\tapiList.add(yipapiVO);\r\n\t\t}\r\n\t\tvoid addResult(ResultValue resultVal) {\r\n\t\t\tresultValue.add(resultVal);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nAnd this is for parsing XML Controller.\r\n\r\n```java\r\npackage egovframework.ksis.yipAPI;\r\n\r\nimport java.io.IOException;\r\nimport java.io.StringWriter;\r\nimport java.io.Writer;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport javax.xml.bind.JAXBContext;\r\nimport javax.xml.bind.JAXBException;\r\nimport javax.xml.bind.Marshaller;\r\n\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestMethod;\r\nimport org.springframework.web.bind.annotation.ResponseBody;\r\n\r\nimport egovframework.ksis.yipAPI.YipapiVOXML.APIList;\r\nimport egovframework.ksis.yipAPI.YipapiVOXML.ResultValue;\r\n\r\n@Controller\r\n@RequestMapping(value = &quot;/yipapi&quot;)\r\npublic class YipapiContorller {\r\n\t\r\n\t@Value(&quot;${restApi.key}&quot;)\r\n\tprivate String restApiKey;\r\n\r\n\t@Value(&quot;${restApi.basisUrl}&quot;)\r\n\tprivate String basisUrl;\r\n\t\r\n\t@RequestMapping(value = &quot;/sendxml&quot;, method = RequestMethod.GET, produces= {MediaType.APPLICATION_XML_VALUE})\r\n\t@ResponseBody\r\n\tpublic void doGet(HttpServletRequest request, HttpServletResponse response) throws JAXBException, IOException {\r\n\t\t\r\n\t\t// Determine content type\r\n\t    String format = request.getParameter(&quot;format&quot;);\r\n\t    if (format == null || format.equalsIgnoreCase(&quot;XML&quot;)) {\r\n\t        response.setContentType(&quot;text/xml; charset=UTF-8&quot;);\r\n\t    } else if (format.equalsIgnoreCase(&quot;JSON&quot;)) {\r\n\t        response.setContentType(&quot;application/json; charset=UTF-8&quot;);\r\n\t    }\r\n\r\n\t\ttry {\r\n\t\t\tWriter responseWriter = response.getWriter();\r\n\t\t\t\r\n\t\t\tAPIList apiList = new APIList();\r\n\t\t\t\r\n\t\t\tResultValue respResult = new ResultValue(&quot;응답결과&quot;);\r\n\t\t\tapiList.addResult(respResult);\r\n\t\t\tResultValue errMsg = new ResultValue(&quot;에러메세지&quot;);\r\n\t\t\tapiList.addResult(errMsg);\r\n\t\t\tResultValue totalCnt = new ResultValue(&quot;토탈&quot;);\r\n\t\t\tapiList.addResult(totalCnt);\r\n\t\t\t\r\n\t\t\tYipapiVO bizId = new YipapiVO(&quot;bizId&quot;);\r\n\t\t\tapiList.addVoList(bizId);\r\n\t\t\t\t\r\n\t\t\tJAXBContext context = JAXBContext.newInstance(YipapiVOXML.class);\r\n\t\t\tMarshaller\tmarshaller = context.createMarshaller();\r\n\t\t\t\r\n\t\t\tStringWriter xml = new StringWriter(); \r\n\t\t\t\r\n\t\t\t// 보기 좋게 출력\r\n\t\t\tmarshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\r\n\t\t\tmarshaller.setProperty(Marshaller.JAXB_ENCODING, &quot;UTF-8&quot;);\r\n\t\t\t\r\n\t\t\t// 표준 출력으로 결과 보여줌\r\n\t\t\tmarshaller.marshal(apiList, responseWriter);\r\n\t\t\tSystem.out.println(xml);\r\n\t\t} catch (JAXBException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAlso error appear on console.\r\n\r\n&gt; javax.xml.bind.JAXBException: Class *** nor any of its super class is\r\n&gt; known to this context\r\n\r\nAm I missing something? ","title":"Error on line 2 at column 1: Extra content at the end of the document in Spring Java (Marshaller)","body":"<p>I am trying to POJO to XML using Marshaller.</p>\n<p><a href=\"https://i.stack.imgur.com/55vv6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/55vv6.png\" alt=\"this is error\" /></a></p>\n<p>and I want it to make XML like</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;youthPolicyList&gt;\n  &lt;respResult&gt;resilt&lt;/respResult&gt;\n  &lt;errMsg&gt;200&lt;/errMsg&gt;\n  &lt;totalCnt&gt;123&lt;/totalCnt&gt;\n  &lt;youthPolicyList&gt;\n    &lt;bizId&gt;...&lt;/bizId&gt;\n    &lt;bizIdCode&gt;...&lt;/bizIdCode&gt;\n    ...\n  &lt;/youthPolicyList&gt;\n&lt;/youthPolicyList&gt;\n</code></pre>\n<p>I made List for youthPolicyList values and result List. This is the VO for youthPolicyList values</p>\n<pre class=\"lang-java prettyprint-override\"><code>package egovframework.ksis.yipAPI;\n\nimport javax.xml.bind.annotation.XmlElement;\n\npublic class YipapiVO {\n        \n    // 정책사업 ID [ register_type (db) + register_date (db) + bizIdCode + bizIdNum ]\n    @XmlElement\n    private String bizId;\n    @XmlElement\n    private String bizIdCode;               // 정책사업구분코드 (코드표)\n    @XmlElement\n    private int bizIdNum;                   // 일련번호(5자리)\n    \n    // 수혜대상지역구분코드 small_category_sid (YIP.YOUTH_SMALL_CATEGORY)\n    @XmlElement\n    private String cntcTrgtDataSeq;\n    \n    // 지역 (정책사업구분코드를 위한 지역) \n    // [small_category_title - 매치해서 코드표 연결해야함]\n    @XmlElement\n    private String polyBizIscd; \n    \n    @XmlElement\n    private String polyBizSjnm;         // 정책사업제목 policy_title\n    @XmlElement\n    private String polyItcnCn;          // 정책소개내용 policy_summary\n    @XmlElement\n    private String sporCn;              // 지원 내용 policy_content\n    @XmlElement\n    private String sporScvl;            // 지원규모내용 policy_scale\n    @XmlElement\n    private String bizPrdCn;            // 사업운영기간 policy_start_date ~ policy_end_date\n    @XmlElement\n    private String prdRpttSecd;         // 기간 반복구분코드(코드표)\n    @XmlElement\n    private String rqutPrdCn;           // 사업신청기간 policy_apply_start_date ~ policy_apply_end_date\n    \n    @XmlElement\n    private String bgnAge;              // 시작 연령\n    @XmlElement\n    private String endAge;              // 종료 연령\n    \n    @XmlElement\n    private String majrRqisCn;          // 전공요건내용 policy_major  \n    @XmlElement\n    private String majorRqisSecdCn;     // 전공요건구분코드(코드표)\n    \n    @XmlElement\n    private String empmSttsCn;          // 취업상태내용 policy_job_status\n    @XmlElement\n    private String empmSttsSecdCn;      // 취업상태구분코드(코드표)\n    \n    @XmlElement\n    private String splzRlmRqisCn;       // 특화분야내용 policy_special\n    @XmlElement\n    private String splzRlmRqisSecdCn;   // 특화분야구분코드(코드표)\n    \n    @XmlElement\n    private String accrRqisCn;          // 학력요건내용 policy_education\n    @XmlElement\n    private String accrRqisSecdCn;      // 학력요건구분코드(코드표)\n    \n    @XmlElement\n    private String prcpCn;              // 거주지 및 소득조건 policy_location\n    \n    @XmlElement\n    private String aditRscn;            // 추가단서사항 policy_added_item\n    @XmlElement\n    private String prcpLmttTrgtCn;      // 참여제한대상 policy_restrict\n    @XmlElement\n    private String rqutProcCn;          // 신청절차내용 policy_apply_step\n    @XmlElement\n    private String pstnPaprCn;          // 제출서류내용 policy_document\n    @XmlElement\n    private String jdgnPresCn;          // 심사및발표일정 policy_announce\n    @XmlElement\n    private String rqutUrla;            // 신청사이트주소 policy_apply_site \n    @XmlElement\n    private String rfcSiteUrla1;        // 참고사이트URL 주소1 reference_site1\n    @XmlElement\n    private String rfcSiteUrla2;        // 참고사이트URL 주소2 reference_site2\n    \n    // 주관부처상세 및 운영자 상세 동일\n    @XmlElement\n    private String mngtMson;            // 주관부처명  policy_agency_name\n    @XmlElement\n    private String mngtMrofCherCn;      // 주관부터담장자이름(db에 없음)\n    @XmlElement\n    private String cherCtpcCn;          // 주관부처담당자연락처 policy_agency_tel\n    @XmlElement\n    private String operNmor;            // 운영자기관명 policy_agency_name\n    @XmlElement\n    private String tintCherCn;          // 운영기관담당자이름(db에 없음)\n    @XmlElement\n    private String tintCherCtpcCn;      // 운영기관담당자연락처policy_agency_tel\n    \n    @XmlElement\n    private String etct;                // 기타사항내용 policy_notice\n    @XmlElement\n    private String tynm;                // 카테고리내용 policy_type_detail\n    @XmlElement\n    private String rmcn;                // 비고(db에 없음)\n    @XmlElement\n    private String lastCntcUpdtDt;      // 업데이트 데이트 없을경우 리지스트 데이터 사용 update_date\n    \n    // I / U / D\n    @XmlElement\n    private String cntcStcd;            // 연계상태코드\n    \n    @XmlElement\n    private String frstRgstDt;          // 최초등록일시 register_date\n    @XmlElement\n    private String lastUpdtDt;          // 최초수정일시\n    \n    @XmlElement\n    private String upprBizId;           // 상위사업Id\n\n    public YipapiVO(String string) {\n        \n    }\n}\n</code></pre>\n<p>And this for result VO</p>\n<pre class=\"lang-java prettyprint-override\"><code>package egovframework.ksis.yipAPI;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlElementWrapper;\nimport javax.xml.bind.annotation.XmlRootElement;\n\n// @XmlAccessorType(XmlAccessType.NONE) // xml의 직렬화 범위를 결정\npublic class YipapiVOXML {\n    \n    public static class ResultValue{\n        @XmlElement\n        private String respResult;\n        @XmlElement\n        private String errMsg;\n        @XmlElement\n        private String totalCnt;\n        \n        public ResultValue(String string) {}\n    }\n    \n    @XmlRootElement(name=&quot;youthPolicyList&quot;) // xml의 루트 태그를 의미 name을 명시하지 않으면 클래스명이 디폴트가 된다\n    public static class APIList{\n        // 결과 메세지 List\n        @XmlElement\n        List&lt;ResultValue&gt; resultValue = new ArrayList&lt;&gt;();\n        \n        @XmlElementWrapper(name = &quot;youthPolicy&quot;)\n        @XmlElement     \n        private List&lt;YipapiVO&gt; apiList = new ArrayList&lt;&gt;();\n        \n        // ADD를 위한\n        void addVoList(YipapiVO yipapiVO) {\n            apiList.add(yipapiVO);\n        }\n        void addResult(ResultValue resultVal) {\n            resultValue.add(resultVal);\n        }\n    }\n}\n</code></pre>\n<p>And this is for parsing XML Controller.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package egovframework.ksis.yipAPI;\n\nimport java.io.IOException;\nimport java.io.StringWriter;\nimport java.io.Writer;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport javax.xml.bind.JAXBContext;\nimport javax.xml.bind.JAXBException;\nimport javax.xml.bind.Marshaller;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.http.MediaType;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\nimport egovframework.ksis.yipAPI.YipapiVOXML.APIList;\nimport egovframework.ksis.yipAPI.YipapiVOXML.ResultValue;\n\n@Controller\n@RequestMapping(value = &quot;/yipapi&quot;)\npublic class YipapiContorller {\n    \n    @Value(&quot;${restApi.key}&quot;)\n    private String restApiKey;\n\n    @Value(&quot;${restApi.basisUrl}&quot;)\n    private String basisUrl;\n    \n    @RequestMapping(value = &quot;/sendxml&quot;, method = RequestMethod.GET, produces= {MediaType.APPLICATION_XML_VALUE})\n    @ResponseBody\n    public void doGet(HttpServletRequest request, HttpServletResponse response) throws JAXBException, IOException {\n        \n        // Determine content type\n        String format = request.getParameter(&quot;format&quot;);\n        if (format == null || format.equalsIgnoreCase(&quot;XML&quot;)) {\n            response.setContentType(&quot;text/xml; charset=UTF-8&quot;);\n        } else if (format.equalsIgnoreCase(&quot;JSON&quot;)) {\n            response.setContentType(&quot;application/json; charset=UTF-8&quot;);\n        }\n\n        try {\n            Writer responseWriter = response.getWriter();\n            \n            APIList apiList = new APIList();\n            \n            ResultValue respResult = new ResultValue(&quot;응답결과&quot;);\n            apiList.addResult(respResult);\n            ResultValue errMsg = new ResultValue(&quot;에러메세지&quot;);\n            apiList.addResult(errMsg);\n            ResultValue totalCnt = new ResultValue(&quot;토탈&quot;);\n            apiList.addResult(totalCnt);\n            \n            YipapiVO bizId = new YipapiVO(&quot;bizId&quot;);\n            apiList.addVoList(bizId);\n                \n            JAXBContext context = JAXBContext.newInstance(YipapiVOXML.class);\n            Marshaller  marshaller = context.createMarshaller();\n            \n            StringWriter xml = new StringWriter(); \n            \n            // 보기 좋게 출력\n            marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\n            marshaller.setProperty(Marshaller.JAXB_ENCODING, &quot;UTF-8&quot;);\n            \n            // 표준 출력으로 결과 보여줌\n            marshaller.marshal(apiList, responseWriter);\n            System.out.println(xml);\n        } catch (JAXBException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>Also error appear on console.</p>\n<blockquote>\n<p>javax.xml.bind.JAXBException: Class *** nor any of its super class is\nknown to this context</p>\n</blockquote>\n<p>Am I missing something?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":15851924,"reputation":76,"user_id":11437513,"display_name":"Ari Ohsie"},"score":0,"creation_date":1673373790,"post_id":75073617,"comment_id":132482684,"body_markdown":"You&#39;re correct, it would be better to do what you&#39;re suggesting. However, for backward-compatibility, the code needs to handle versions of the database with and without the column, which it will only know upon startup.","body":"You&#39;re correct, it would be better to do what you&#39;re suggesting. However, for backward-compatibility, the code needs to handle versions of the database with and without the column, which it will only know upon startup."},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1673374703,"post_id":75073617,"comment_id":132482958,"body_markdown":"If you want to support the old schema, deploy the old application. Once you update the schema, deploy the new version.","body":"If you want to support the old schema, deploy the old application. Once you update the schema, deploy the new version."},{"owner":{"account_id":15851924,"reputation":76,"user_id":11437513,"display_name":"Ari Ohsie"},"score":0,"creation_date":1673467690,"post_id":75073617,"comment_id":132508461,"body_markdown":"Ya what you&#39;re saying makes sense, the problem is the newer code needs to support the old schema as well. It&#39;s not the most desirable situation.","body":"Ya what you&#39;re saying makes sense, the problem is the newer code needs to support the old schema as well. It&#39;s not the most desirable situation."},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1673515876,"post_id":75073617,"comment_id":132518234,"body_markdown":"Then model your app against the old schema until all databases have the new schema. The new schema must be backwards compatible though i.e. use triggers to fill new columns. Then, you can switch to the new schema in your app and as soon as the new app version is deployed everywhere, you can drop the triggers.","body":"Then model your app against the old schema until all databases have the new schema. The new schema must be backwards compatible though i.e. use triggers to fill new columns. Then, you can switch to the new schema in your app and as soon as the new app version is deployed everywhere, you can drop the triggers."},{"owner":{"account_id":15851924,"reputation":76,"user_id":11437513,"display_name":"Ari Ohsie"},"score":0,"creation_date":1673903954,"post_id":75073617,"comment_id":132597025,"body_markdown":"Unfortunately, we can&#39;t force all databases to upgrade. That&#39;s where the trickiness lies.","body":"Unfortunately, we can&#39;t force all databases to upgrade. That&#39;s where the trickiness lies."}],"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673371079,"creation_date":1673371079,"answer_id":75073617,"question_id":74648706,"body_markdown":"That&#39;s not possible, but why would you even want to do that? IMO an application should upgrade the schema prior or during deployment to the latest state that it expects.","title":"Spring data JPA/Hibernate - Is there a way to mark an entity field as transient dynamically at runtime?","body":"<p>That's not possible, but why would you even want to do that? IMO an application should upgrade the schema prior or during deployment to the latest state that it expects.</p>\n"}],"owner":{"account_id":15851924,"reputation":76,"user_id":11437513,"display_name":"Ari Ohsie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673371079,"creation_date":1669932526,"question_id":74648706,"body_markdown":"I have a database that is being upgraded to add a column to an existing table. However, I would like to make the Springboot service backwards compatible with the older version. I would like to mark the entity field as transient for older versions to avoid persisting the value, avoiding any errors. The database itself stores the version - the service just needs to check the database to determine whether the field should be transient and mark it as such. Is there a Spring Data JPA/Hibernate API that would allow me to do this?","title":"Spring data JPA/Hibernate - Is there a way to mark an entity field as transient dynamically at runtime?","body":"<p>I have a database that is being upgraded to add a column to an existing table. However, I would like to make the Springboot service backwards compatible with the older version. I would like to mark the entity field as transient for older versions to avoid persisting the value, avoiding any errors. The database itself stores the version - the service just needs to check the database to determine whether the field should be transient and mark it as such. Is there a Spring Data JPA/Hibernate API that would allow me to do this?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1673312248,"post_id":75063926,"comment_id":132466210,"body_markdown":"Welcome! Please include your dependencies in the question (`pom.xml`, `build.gradle`, or whatever you’re using). It’s also a good idea to tag the build tool that you’re using. Did you read the page linked in the error message? If there’s something you found unclear in it, that would also be good to include in your question. “I’ve been trying everything” should be replaced with _what specifically_ you’ve tried.","body":"Welcome! Please include your dependencies in the question (<code>pom.xml</code>, <code>build.gradle</code>, or whatever you’re using). It’s also a good idea to tag the build tool that you’re using. Did you read the page linked in the error message? If there’s something you found unclear in it, that would also be good to include in your question. “I’ve been trying everything” should be replaced with <i>what specifically</i> you’ve tried."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673320041,"post_id":75063926,"comment_id":132467186,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27482705,"reputation":1,"user_id":20969471,"display_name":"RodrigoCm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673369098,"answer_count":0,"score":0,"last_activity_date":1673371076,"creation_date":1673306418,"question_id":75063926,"body_markdown":"When trying to compile my Maven project in IntelliJ, it shows an error with the `mvn install` command, also with the `mvn install -DskipTests` command, it shows me in the surefire-reports and when executing the tests, the following:\r\n\r\n```none\r\nSLF4J: Class Path contains multiple SLF4J bindings.\r\nSLF4J: Link found in [jar:file:/C:/Users/admin/.m2/repository/org/slf4j/slf4j-log4j12/1.6.1/slf4j-log4j12-1.6.1.jar!/org/slf4j/ impl/StaticLoggerBinder.class]\r\n\r\nSLF4J: Link found in [jar:file:/C:/Users/admin/.m2/repository/org/apache/logging/log4j/log4j-slf4j-impl/2.17.1/log4j-slf4j-impl-2.17.1 .jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\n\r\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\n```\r\n\r\n[Error image](https://i.stack.imgur.com/8ZzX8.png)\r\n\r\nI hope you can help, I&#39;ve been trying everything for days.\r\n\r\nI tried to delete the duplicate folder, put dependencies but nothing.","title":"SLF4J: Class path contains multiple SLF4J bindings In iNTELIJI LENGUAGE JAVA","body":"<p>When trying to compile my Maven project in IntelliJ, it shows an error with the <code>mvn install</code> command, also with the <code>mvn install -DskipTests</code> command, it shows me in the surefire-reports and when executing the tests, the following:</p>\n<pre class=\"lang-none prettyprint-override\"><code>SLF4J: Class Path contains multiple SLF4J bindings.\nSLF4J: Link found in [jar:file:/C:/Users/admin/.m2/repository/org/slf4j/slf4j-log4j12/1.6.1/slf4j-log4j12-1.6.1.jar!/org/slf4j/ impl/StaticLoggerBinder.class]\n\nSLF4J: Link found in [jar:file:/C:/Users/admin/.m2/repository/org/apache/logging/log4j/log4j-slf4j-impl/2.17.1/log4j-slf4j-impl-2.17.1 .jar!/org/slf4j/impl/StaticLoggerBinder.class]\n\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/8ZzX8.png\" rel=\"nofollow noreferrer\">Error image</a></p>\n<p>I hope you can help, I've been trying everything for days.</p>\n<p>I tried to delete the duplicate folder, put dependencies but nothing.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":1,"creation_date":1673325557,"post_id":75065491,"comment_id":132467845,"body_markdown":"Does this answer your question? [Regular expression to only allow lower-case letters](https://stackoverflow.com/questions/14107331/regular-expression-to-only-allow-lower-case-letters)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/14107331/regular-expression-to-only-allow-lower-case-letters\">Regular expression to only allow lower-case letters</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1673328467,"post_id":75065491,"comment_id":132468239,"body_markdown":"`Pattern.compile(&quot;[a-z]&quot;).matcher(password).find()`","body":"<code>Pattern.compile(&quot;[a-z]&quot;).matcher(password).find()</code>"}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1673433286,"post_id":75069312,"comment_id":132496248,"body_markdown":"What’s the point of setting `lowerCaseFlag = true;` and continuing the loop instead of doing `return true;` immediately? And why do you declare `ch` outside the loop?","body":"What’s the point of setting <code>lowerCaseFlag = true;</code> and continuing the loop instead of doing <code>return true;</code> immediately? And why do you declare <code>ch</code> outside the loop?"},{"owner":{"account_id":20679093,"reputation":316,"user_id":15183075,"display_name":"Yannick Mussche"},"score":0,"creation_date":1673436990,"post_id":75069312,"comment_id":132497653,"body_markdown":"I&#39;ve let the function open the insert more checks, like a number etc..","body":"I&#39;ve let the function open the insert more checks, like a number etc.."}],"tags":[],"owner":{"account_id":20679093,"reputation":316,"user_id":15183075,"display_name":"Yannick Mussche"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673350132,"creation_date":1673350132,"answer_id":75069312,"question_id":75065491,"body_markdown":"It is not the cleanest solution, but looping through the String like this would also get you the result you want. This function returns true when the string holds one not capital letter. \r\n\r\nIt doesn&#39;t use regex but it also gives you the option to check the String characters for other things you need to verify.\r\n\r\n``` \r\n    private static boolean checkString(String str) {\r\n        char ch;\r\n        boolean lowerCaseFlag = false;\r\n        for(int i=0;i &lt; str.length();i++) {\r\n            ch = str.charAt(i);\r\n\r\n            if (Character.isLowerCase(ch)) {\r\n                lowerCaseFlag = true;\r\n            }\r\n        }\r\n        return lowerCaseFlag;\r\n    }\r\n```\r\n","title":"RegEx to make sure that the string contains at least one lower case letter in the given string","body":"<p>It is not the cleanest solution, but looping through the String like this would also get you the result you want. This function returns true when the string holds one not capital letter.</p>\n<p>It doesn't use regex but it also gives you the option to check the String characters for other things you need to verify.</p>\n<pre><code>    private static boolean checkString(String str) {\n        char ch;\n        boolean lowerCaseFlag = false;\n        for(int i=0;i &lt; str.length();i++) {\n            ch = str.charAt(i);\n\n            if (Character.isLowerCase(ch)) {\n                lowerCaseFlag = true;\n            }\n        }\n        return lowerCaseFlag;\n    }\n</code></pre>\n"}],"owner":{"account_id":14726962,"reputation":1,"user_id":10635546,"display_name":"Venkataramana N"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673370626,"creation_date":1673324994,"question_id":75065491,"body_markdown":"For example, if the given string is &quot;HELLO world&quot;, the output should be **true** as the string has satisfied  at least one lowercase letter condition.\r\n\r\n    try {\r\n       \tPattern pattern = Pattern.compile(&quot;^\\w*[a-z]\\w*$&quot;);\r\n    \tMatcher matcher = pattern.matcher(password);\r\n    \tresult = matcher.matches();\r\n\t} catch (Exception e) {\r\n\t\t//print something\r\n\t}\r\n","title":"RegEx to make sure that the string contains at least one lower case letter in the given string","body":"<p>For example, if the given string is &quot;HELLO world&quot;, the output should be <strong>true</strong> as the string has satisfied  at least one lowercase letter condition.</p>\n<pre><code>try {\n    Pattern pattern = Pattern.compile(&quot;^\\w*[a-z]\\w*$&quot;);\n    Matcher matcher = pattern.matcher(password);\n    result = matcher.matches();\n} catch (Exception e) {\n    //print something\n}\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":3,"creation_date":1557844940,"post_id":56133081,"comment_id":98897099,"body_markdown":"No, not in java.","body":"No, not in java."},{"owner":{"account_id":7414275,"reputation":14648,"user_id":5640649,"accept_rate":91,"display_name":"lealceldeiro"},"score":6,"creation_date":1557845018,"post_id":56133081,"comment_id":98897156,"body_markdown":"As an alternative, you could create a class (wrapper) which would contain the `positions` and in which you would implement the method. But, again, this is just an alternative to the problem that in Java you cannot do that.","body":"As an alternative, you could create a class (wrapper) which would contain the <code>positions</code> and in which you would implement the method. But, again, this is just an alternative to the problem that in Java you cannot do that."},{"owner":{"account_id":285919,"reputation":43640,"user_id":584862,"accept_rate":93,"display_name":"mre"},"score":0,"creation_date":1557845059,"post_id":56133081,"comment_id":98897178,"body_markdown":"https://docs.oracle.com/javase/specs/jls/se7/html/jls-10.html","body":"<a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-10.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se7/html/jls-10.html</a>"},{"owner":{"account_id":6358642,"reputation":6528,"user_id":4934937,"display_name":"maio290"},"score":0,"creation_date":1557845147,"post_id":56133081,"comment_id":98897234,"body_markdown":"I&#39;m really having trouble to understand your question because it looks like you&#39;re mixing arrays and classes in a way which is completely unintended and unusual.","body":"I&#39;m really having trouble to understand your question because it looks like you&#39;re mixing arrays and classes in a way which is completely unintended and unusual."},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1557845163,"post_id":56133081,"comment_id":98897244,"body_markdown":"[Can be done in Kotlin with extension methods](https://kotlinlang.org/docs/reference/extensions.html)","body":"<a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"nofollow noreferrer\">Can be done in Kotlin with extension methods</a>"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557845622,"creation_date":1557845622,"answer_id":56133312,"question_id":56133081,"body_markdown":"There is no way to do this in Java.  You could possibly create your own class that contained an array of `Position` objects and provides e.g. `get` methods, but there is no way whatsoever to add methods to classes you do not control, including all array types.","title":"Adding methods to arrays of custom objects","body":"<p>There is no way to do this in Java.  You could possibly create your own class that contained an array of <code>Position</code> objects and provides e.g. <code>get</code> methods, but there is no way whatsoever to add methods to classes you do not control, including all array types.</p>\n"},{"tags":[],"owner":{"account_id":15394656,"reputation":525,"user_id":11106227,"display_name":"Jeremy Then"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673369830,"creation_date":1557845975,"answer_id":56133422,"question_id":56133081,"body_markdown":"you can make a class handler for this, like this PositionArray class (name it as you would like):\r\n\r\n```\r\npublic class Test {\r\n    \r\n    public static void main(String... args) {\r\n\r\n        Position[] positions = new Position[10];\r\n\r\n        positions[0] = new Position(5, 10);\r\n        positions[1] = new Position(11, 18);\r\n        positions[2] = new Position(20, 7);\r\n\r\n        PositionArray pa = new PositionArray(positions);\r\n\r\n        System.out.println(pa.getPosAt(5, 10)); // Position{x=5, y=10}\r\n\r\n    }\r\n}\r\n```\r\n\r\n```\r\nclass PositionArray {\r\n\r\n    private Position[] positions;\r\n\r\n    public PositionArray(Position[] positions) {\r\n        this.positions = positions;\r\n    }\r\n\r\n    public Position getPosAt(int x, int y) {\r\n\r\n        for (Position p : positions) {\r\n            if (!Objects.isNull(p)) {\r\n                System.out.println(p.getX() + &quot; &quot; + p.getY());\r\n                if (p.getX() == x &amp;&amp; p.getY() == y) {\r\n                    return p;\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\n```\r\nclass Position {\r\n\r\n    private final int x;\r\n    private final int y;\r\n\r\n    public Position(int x, int y) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n\r\n    public int getX() {\r\n        return x;\r\n    }\r\n\r\n    public int getY() {\r\n        return y;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Position{&quot; + &quot;x=&quot; + x + &quot;, y=&quot; + y + &#39;}&#39;;\r\n    }\r\n    \r\n}\r\n```","title":"Adding methods to arrays of custom objects","body":"<p>you can make a class handler for this, like this PositionArray class (name it as you would like):</p>\n<pre><code>public class Test {\n    \n    public static void main(String... args) {\n\n        Position[] positions = new Position[10];\n\n        positions[0] = new Position(5, 10);\n        positions[1] = new Position(11, 18);\n        positions[2] = new Position(20, 7);\n\n        PositionArray pa = new PositionArray(positions);\n\n        System.out.println(pa.getPosAt(5, 10)); // Position{x=5, y=10}\n\n    }\n}\n</code></pre>\n<pre><code>class PositionArray {\n\n    private Position[] positions;\n\n    public PositionArray(Position[] positions) {\n        this.positions = positions;\n    }\n\n    public Position getPosAt(int x, int y) {\n\n        for (Position p : positions) {\n            if (!Objects.isNull(p)) {\n                System.out.println(p.getX() + &quot; &quot; + p.getY());\n                if (p.getX() == x &amp;&amp; p.getY() == y) {\n                    return p;\n                }\n            }\n        }\n        return null;\n    }\n}\n</code></pre>\n<pre><code>class Position {\n\n    private final int x;\n    private final int y;\n\n    public Position(int x, int y) {\n        this.x = x;\n        this.y = y;\n    }\n\n    public int getX() {\n        return x;\n    }\n\n    public int getY() {\n        return y;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Position{&quot; + &quot;x=&quot; + x + &quot;, y=&quot; + y + '}';\n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":14852344,"reputation":75,"user_id":10725862,"display_name":"CJCrafter"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56133422,"answer_count":2,"score":2,"last_activity_date":1673369830,"creation_date":1557844885,"question_id":56133081,"body_markdown":"I&#39;m trying to add a method an an `array` like this.\r\n```java\r\n    Position[] positions = new Position[10];\r\n    Position pos = positions.getPosAt(x, y);\r\n```\r\n\r\nI know this can be accomplished like:\r\n```java\r\n   Position pos = getPosAt(positions, x, y)\r\n```\r\nBut I would like to know if there is a way to accomplish the first method.","title":"Adding methods to arrays of custom objects","body":"<p>I'm trying to add a method an an <code>array</code> like this.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    Position[] positions = new Position[10];\n    Position pos = positions.getPosAt(x, y);\n</code></pre>\n\n<p>I know this can be accomplished like:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>   Position pos = getPosAt(positions, x, y)\n</code></pre>\n\n<p>But I would like to know if there is a way to accomplish the first method.</p>\n"},{"tags":["java","selenium","selenium-webdriver","intellij-idea","automation"],"owner":{"account_id":7627380,"reputation":21,"user_id":5783440,"display_name":"shamroz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673369621,"creation_date":1673369621,"question_id":75073338,"body_markdown":"I was searching for how to automate two-factor authentication with Google Authenticator using Selenium. The most common way that I found is by using AeroGear java library. \r\nSomebody guides me that this is not the secure way to test the Google Authenticator. Also, the version is not updated since 2013. I just want a guide should I continue with this library or there is any other way to automate this scenario?\r\n[![enter image description here][1]][1] \r\n \r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fHVCz.png","title":"Is there any secure way to automate google authenticator without using AeroGear java library","body":"<p>I was searching for how to automate two-factor authentication with Google Authenticator using Selenium. The most common way that I found is by using AeroGear java library.\nSomebody guides me that this is not the secure way to test the Google Authenticator. Also, the version is not updated since 2013. I just want a guide should I continue with this library or there is any other way to automate this scenario?\n<a href=\"https://i.stack.imgur.com/fHVCz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fHVCz.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","swing","text","clipboard"],"answers":[{"comments":[{"owner":{"account_id":1249289,"reputation":3789,"user_id":1422630,"accept_rate":55,"display_name":"Aquarius Power"},"score":1,"creation_date":1457815155,"post_id":6713290,"comment_id":59580984,"body_markdown":"we can setContents() with owner too http://stackoverflow.com/questions/3591945/copying-to-clipboard-in-java","body":"we can setContents() with owner too <a href=\"http://stackoverflow.com/questions/3591945/copying-to-clipboard-in-java\" title=\"copying to clipboard in java\">stackoverflow.com/questions/3591945/&hellip;</a>"},{"owner":{"account_id":1164345,"reputation":22755,"user_id":1143274,"accept_rate":56,"display_name":"Evgeni Sergeev"},"score":0,"creation_date":1464923890,"post_id":6713290,"comment_id":62695065,"body_markdown":"@AquariusPower It seems that passing `stringSelection` as the 2nd argument to `setContents(..)` too, making it the `ClipboardOwner`, as in the linked answer, has no significance: looking at the [source](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/awt/datatransfer/StringSelection.java#StringSelection.lostOwnership%28java.awt.datatransfer.Clipboard%2Cjava.awt.datatransfer.Transferable%29), the sole method of `ClipboardOwner` that it implements, namely, `lostOwnership(..)`, is empty. So, the 2nd argument seems to be a completely optional callback.","body":"@AquariusPower It seems that passing <code>stringSelection</code> as the 2nd argument to <code>setContents(..)</code> too, making it the <code>ClipboardOwner</code>, as in the linked answer, has no significance: looking at the <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/awt/datatransfer/StringSelection.java#StringSelection.lostOwnership%28java.awt.datatransfer.Clipboard%2Cjava.awt.datatransfer.Transferable%29\" rel=\"nofollow noreferrer\">source</a>, the sole method of <code>ClipboardOwner</code> that it implements, namely, <code>lostOwnership(..)</code>, is empty. So, the 2nd argument seems to be a completely optional callback."},{"owner":{"account_id":1249289,"reputation":3789,"user_id":1422630,"accept_rate":55,"display_name":"Aquarius Power"},"score":0,"creation_date":1464978987,"post_id":6713290,"comment_id":62725155,"body_markdown":"@EvgeniSergeev it may be useful if we extend StringSelection :)","body":"@EvgeniSergeev it may be useful if we extend StringSelection :)"},{"owner":{"account_id":4601094,"reputation":3628,"user_id":3731823,"accept_rate":90,"display_name":"NikoNyrh"},"score":3,"creation_date":1503743020,"post_id":6713290,"comment_id":78747566,"body_markdown":"Ported to Clojure: `(-&gt; (java.awt.Toolkit/getDefaultToolkit) .getSystemClipboard (.setContents (java.awt.datatransfer.StringSelection. &quot;test&quot;) nil))`","body":"Ported to Clojure: <code>(-&gt; (java.awt.Toolkit&#47;getDefaultToolkit) .getSystemClipboard (.setContents (java.awt.datatransfer.StringSelection. &quot;test&quot;) nil))</code>"},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1518215284,"post_id":6713290,"comment_id":84429151,"body_markdown":"In which context did you test this? From a GUI application? On which platform? Does it work setting the clipboard 100 times in a row (with some appropriate pause between each set)?","body":"In which context did you test this? From a GUI application? On which platform? Does it work setting the clipboard 100 times in a row (with some appropriate pause between each set)?"}],"tags":[],"owner":{"account_id":346016,"reputation":7314,"user_id":679277,"accept_rate":98,"display_name":"Pangolin"},"comment_count":5,"down_vote_count":1,"up_vote_count":347,"is_accepted":true,"score":346,"last_activity_date":1572464841,"creation_date":1310765021,"answer_id":6713290,"question_id":6710350,"body_markdown":"This works for me and is quite simple:\r\n\r\nImport these:\r\n\r\n    import java.awt.datatransfer.StringSelection;\r\n    import java.awt.Toolkit;\r\n    import java.awt.datatransfer.Clipboard;\r\n\r\nAnd then put this snippet of code wherever you&#39;d like to alter the clipboard:\r\n\r\n    String myString = &quot;This text will be copied into clipboard&quot;;\r\n    StringSelection stringSelection = new StringSelection(myString);\r\n    Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\r\n    clipboard.setContents(stringSelection, null);\r\n","title":"Copying text to the clipboard using Java","body":"<p>This works for me and is quite simple:</p>\n\n<p>Import these:</p>\n\n<pre><code>import java.awt.datatransfer.StringSelection;\nimport java.awt.Toolkit;\nimport java.awt.datatransfer.Clipboard;\n</code></pre>\n\n<p>And then put this snippet of code wherever you'd like to alter the clipboard:</p>\n\n<pre><code>String myString = \"This text will be copied into clipboard\";\nStringSelection stringSelection = new StringSelection(myString);\nClipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\nclipboard.setContents(stringSelection, null);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":204938,"reputation":31067,"user_id":453435,"accept_rate":83,"display_name":"Ky -"},"score":1,"creation_date":1438192961,"post_id":28283777,"comment_id":51353957,"body_markdown":"May need some logic for pasting in OS X since it&#39;s special.","body":"May need some logic for pasting in OS X since it&#39;s special."},{"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"score":1,"creation_date":1581812525,"post_id":28283777,"comment_id":106561782,"body_markdown":"@BenLeggiero: Late answer but feel free to suggest an edit to support `OS X` better in case it&#39;s not working properly","body":"@BenLeggiero: Late answer but feel free to suggest an edit to support <code>OS X</code> better in case it&#39;s not working properly"},{"owner":{"account_id":204938,"reputation":31067,"user_id":453435,"accept_rate":83,"display_name":"Ky -"},"score":1,"creation_date":1581891947,"post_id":28283777,"comment_id":106578655,"body_markdown":"if I ever need to do this again, I&#39;ll update. Likely, it&#39;s just checking the current OS, and swapping out `VK_CONTROL` for `VK_META` if it&#39;s macOS.","body":"if I ever need to do this again, I&#39;ll update. Likely, it&#39;s just checking the current OS, and swapping out <code>VK_CONTROL</code> for <code>VK_META</code> if it&#39;s macOS."},{"owner":{"display_name":"user1773603"},"score":0,"creation_date":1588246602,"post_id":28283777,"comment_id":108828296,"body_markdown":"This is what I need it.","body":"This is what I need it."}],"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"comment_count":4,"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1581967967,"creation_date":1422899723,"answer_id":28283777,"question_id":6710350,"body_markdown":"The following class allows you to copy/paste a String to/from the clipboard.\r\n\r\n    import java.awt.*;\r\n    import java.awt.datatransfer.Clipboard;\r\n    import java.awt.datatransfer.DataFlavor;\r\n    import java.awt.datatransfer.StringSelection;\r\n    \r\n    import static java.awt.event.KeyEvent.*;\r\n    import static org.apache.commons.lang3.SystemUtils.IS_OS_MAC;\r\n    \r\n    public class SystemClipboard\r\n    {\r\n    \tpublic static void copy(String text)\r\n    \t{\r\n    \t\tClipboard clipboard = getSystemClipboard();\r\n    \t\tclipboard.setContents(new StringSelection(text), null);\r\n    \t}\r\n    \r\n    \tpublic static void paste() throws AWTException\r\n    \t{\r\n    \t\tRobot robot = new Robot();\r\n    \r\n            int controlKey = IS_OS_MAC ? VK_META : VK_CONTROL;\r\n\t\t    robot.keyPress(controlKey);\r\n\t\t    robot.keyPress(VK_V);\r\n\t\t    robot.keyRelease(controlKey);\r\n\t\t    robot.keyRelease(VK_V);\r\n    \t}\r\n    \r\n    \tpublic static String get() throws Exception\r\n    \t{\r\n    \t\tClipboard systemClipboard = getSystemClipboard();\r\n    \t\tDataFlavor dataFlavor = DataFlavor.stringFlavor;\r\n    \r\n    \t\tif (systemClipboard.isDataFlavorAvailable(dataFlavor))\r\n    \t\t{\r\n    \t\t\tObject text = systemClipboard.getData(dataFlavor);\r\n    \t\t\treturn (String) text;\r\n    \t\t}\r\n    \r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \tprivate static Clipboard getSystemClipboard()\r\n    \t{\r\n    \t\tToolkit defaultToolkit = Toolkit.getDefaultToolkit();\r\n    \t\treturn defaultToolkit.getSystemClipboard();\r\n    \t}\r\n    }","title":"Copying text to the clipboard using Java","body":"<p>The following class allows you to copy/paste a String to/from the clipboard.</p>\n\n<pre><code>import java.awt.*;\nimport java.awt.datatransfer.Clipboard;\nimport java.awt.datatransfer.DataFlavor;\nimport java.awt.datatransfer.StringSelection;\n\nimport static java.awt.event.KeyEvent.*;\nimport static org.apache.commons.lang3.SystemUtils.IS_OS_MAC;\n\npublic class SystemClipboard\n{\n    public static void copy(String text)\n    {\n        Clipboard clipboard = getSystemClipboard();\n        clipboard.setContents(new StringSelection(text), null);\n    }\n\n    public static void paste() throws AWTException\n    {\n        Robot robot = new Robot();\n\n        int controlKey = IS_OS_MAC ? VK_META : VK_CONTROL;\n        robot.keyPress(controlKey);\n        robot.keyPress(VK_V);\n        robot.keyRelease(controlKey);\n        robot.keyRelease(VK_V);\n    }\n\n    public static String get() throws Exception\n    {\n        Clipboard systemClipboard = getSystemClipboard();\n        DataFlavor dataFlavor = DataFlavor.stringFlavor;\n\n        if (systemClipboard.isDataFlavorAvailable(dataFlavor))\n        {\n            Object text = systemClipboard.getData(dataFlavor);\n            return (String) text;\n        }\n\n        return null;\n    }\n\n    private static Clipboard getSystemClipboard()\n    {\n        Toolkit defaultToolkit = Toolkit.getDefaultToolkit();\n        return defaultToolkit.getSystemClipboard();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7605211,"reputation":1533,"user_id":5768269,"accept_rate":79,"display_name":"Wesos de Queso"},"comment_count":0,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1520612605,"creation_date":1506028961,"answer_id":46353370,"question_id":6710350,"body_markdown":"This is the accepted answer written in a decorative way:\r\n\r\n    Toolkit.getDefaultToolkit()\r\n            .getSystemClipboard()\r\n            .setContents(\r\n                    new StringSelection(txtMySQLScript.getText()),\r\n                    null\r\n            );\r\n","title":"Copying text to the clipboard using Java","body":"<p>This is the accepted answer written in a decorative way:</p>\n\n<pre><code>Toolkit.getDefaultToolkit()\n        .getSystemClipboard()\n        .setContents(\n                new StringSelection(txtMySQLScript.getText()),\n                null\n        );\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":1,"creation_date":1518214692,"post_id":47997711,"comment_id":84428991,"body_markdown":"What do you mean by &quot;2017/2018&quot;? A particular version of Java? Which version *did* you use?","body":"What do you mean by &quot;2017/2018&quot;? A particular version of Java? Which version <i>did</i> you use?"}],"tags":[],"owner":{"account_id":12449832,"reputation":27,"user_id":9064833,"display_name":"ElementCodez"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1574559842,"creation_date":1514403491,"answer_id":47997711,"question_id":6710350,"body_markdown":"I found a better way of doing it so you can get a input from a txtbox or have something be generated in that text box and be able to click a button to do it.!\r\n\r\n    import java.awt.datatransfer.*;\r\n    import java.awt.Toolkit;\r\n\r\n    private void /* Action performed when the copy to clipboard button is clicked */ {\r\n        String ctc = txtCommand.getText().toString();\r\n        StringSelection stringSelection = new StringSelection(ctc);\r\n        Clipboard clpbrd = Toolkit.getDefaultToolkit().getSystemClipboard();\r\n        clpbrd.setContents(stringSelection, null);\r\n    }\r\n\r\n    // txtCommand is the variable of a text box\r\n\r\n","title":"Copying text to the clipboard using Java","body":"<p>I found a better way of doing it so you can get a input from a txtbox or have something be generated in that text box and be able to click a button to do it.!</p>\n\n<pre><code>import java.awt.datatransfer.*;\nimport java.awt.Toolkit;\n\nprivate void /* Action performed when the copy to clipboard button is clicked */ {\n    String ctc = txtCommand.getText().toString();\n    StringSelection stringSelection = new StringSelection(ctc);\n    Clipboard clpbrd = Toolkit.getDefaultToolkit().getSystemClipboard();\n    clpbrd.setContents(stringSelection, null);\n}\n\n// txtCommand is the variable of a text box\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9814213,"reputation":829,"user_id":7271217,"display_name":"gprasadr8"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1586062349,"creation_date":1586062349,"answer_id":61038222,"question_id":6710350,"body_markdown":"For **JavaFx** based applications.\r\n\r\n```java\r\n        //returns System Clipboard\r\n        final Clipboard clipboard = Clipboard.getSystemClipboard();\r\n        // ClipboardContent provides flexibility to store data in different formats\r\n        final ClipboardContent content = new ClipboardContent();\r\n        content.putString(&quot;Some text&quot;);\r\n        content.putHtml(&quot;&lt;b&gt;Some&lt;/b&gt; text&quot;);\r\n        //this will be replaced by previous putString\r\n        content.putString(&quot;Some different text&quot;);\r\n        //set the content to clipboard\r\n        clipboard.setContent(content);\r\n       // validate before retrieving it\r\n        if(clipboard.hasContent(DataFormat.HTML)){\r\n            System.out.println(clipboard.getHtml());\r\n        }\r\n        if(clipboard.hasString()){\r\n            System.out.println(clipboard.getString());\r\n        }\r\n```\r\n\r\n**ClipboardContent** can save multiple data in several data formats like(html,url,plain text,image).\r\n\r\nFor more information see [official documentation](https://docs.oracle.com/javafx/2/api/javafx/scene/input/ClipboardContent.html)","title":"Copying text to the clipboard using Java","body":"<p>For <strong>JavaFx</strong> based applications.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>        //returns System Clipboard\n        final Clipboard clipboard = Clipboard.getSystemClipboard();\n        // ClipboardContent provides flexibility to store data in different formats\n        final ClipboardContent content = new ClipboardContent();\n        content.putString(\"Some text\");\n        content.putHtml(\"&lt;b&gt;Some&lt;/b&gt; text\");\n        //this will be replaced by previous putString\n        content.putString(\"Some different text\");\n        //set the content to clipboard\n        clipboard.setContent(content);\n       // validate before retrieving it\n        if(clipboard.hasContent(DataFormat.HTML)){\n            System.out.println(clipboard.getHtml());\n        }\n        if(clipboard.hasString()){\n            System.out.println(clipboard.getString());\n        }\n</code></pre>\n\n<p><strong>ClipboardContent</strong> can save multiple data in several data formats like(html,url,plain text,image).</p>\n\n<p>For more information see <a href=\"https://docs.oracle.com/javafx/2/api/javafx/scene/input/ClipboardContent.html\" rel=\"noreferrer\">official documentation</a></p>\n"},{"tags":[],"owner":{"account_id":21032417,"reputation":95,"user_id":15456485,"display_name":"sahlaysta"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1628028996,"creation_date":1628028996,"answer_id":68643340,"question_id":6710350,"body_markdown":"For reference:\r\n\r\n    static void copyToClipboard(String text) {\r\n\t\tjava.awt.Toolkit.getDefaultToolkit().getSystemClipboard()\r\n\t\t\t.setContents(new java.awt.datatransfer.StringSelection(text), null);\r\n\t}","title":"Copying text to the clipboard using Java","body":"<p>For reference:</p>\n<pre><code>static void copyToClipboard(String text) {\n    java.awt.Toolkit.getDefaultToolkit().getSystemClipboard()\n        .setContents(new java.awt.datatransfer.StringSelection(text), null);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":267838,"reputation":368,"user_id":556252,"display_name":"J&#233;r&#233;mie"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673369547,"creation_date":1673369547,"answer_id":75073319,"question_id":6710350,"body_markdown":"For reference here are the `copy` and `paste` functions from/to the system clipboard written in [Clojure][1] (so related to Java):\r\n\r\n```clojure\r\n\r\n(defn copy [s]\r\n  (-&gt; (java.awt.Toolkit/getDefaultToolkit)\r\n      .getSystemClipboard\r\n      (.setContents (java.awt.datatransfer.StringSelection. s) nil)))\r\n\r\n(defn paste []\r\n  (-&gt; (java.awt.Toolkit/getDefaultToolkit)\r\n      .getSystemClipboard\r\n      (.getContents nil)\r\n      (.getTransferData java.awt.datatransfer.DataFlavor/stringFlavor)))\r\n\r\n(copy &quot;Hello!&quot;)\r\n(paste) ;=&gt; &quot;Hello!&quot;\r\n\r\n```\r\n\r\n  [1]: https://clojure.org","title":"Copying text to the clipboard using Java","body":"<p>For reference here are the <code>copy</code> and <code>paste</code> functions from/to the system clipboard written in <a href=\"https://clojure.org\" rel=\"nofollow noreferrer\">Clojure</a> (so related to Java):</p>\n<pre class=\"lang-clj prettyprint-override\"><code>\n(defn copy [s]\n  (-&gt; (java.awt.Toolkit/getDefaultToolkit)\n      .getSystemClipboard\n      (.setContents (java.awt.datatransfer.StringSelection. s) nil)))\n\n(defn paste []\n  (-&gt; (java.awt.Toolkit/getDefaultToolkit)\n      .getSystemClipboard\n      (.getContents nil)\n      (.getTransferData java.awt.datatransfer.DataFlavor/stringFlavor)))\n\n(copy &quot;Hello!&quot;)\n(paste) ;=&gt; &quot;Hello!&quot;\n\n</code></pre>\n"}],"owner":{"account_id":399645,"reputation":1903,"user_id":765134,"display_name":"user765134"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156615,"favorite_count":0,"down_vote_count":0,"up_vote_count":190,"accepted_answer_id":6713290,"answer_count":7,"score":190,"last_activity_date":1673369547,"creation_date":1310748062,"question_id":6710350,"body_markdown":"I want to copy text from a `JTable`&#39;s cell to the clipboard, making it available to be pasted into other programs such as Microsoft Word. I have the text from the `JTable`, but I am unsure how to copy it to the clipboard.\r\n","title":"Copying text to the clipboard using Java","body":"<p>I want to copy text from a <code>JTable</code>'s cell to the clipboard, making it available to be pasted into other programs such as Microsoft Word. I have the text from the <code>JTable</code>, but I am unsure how to copy it to the clipboard.</p>\n"},{"tags":["java","json","spring-boot","wiremock"],"answers":[{"comments":[{"owner":{"account_id":1289848,"reputation":3311,"user_id":1242148,"accept_rate":100,"display_name":"Mindaugas Jaraminas"},"score":0,"creation_date":1579610314,"post_id":58010817,"comment_id":105816595,"body_markdown":"Does not work in response string i get string `{{{request.requestLine.port}}}` not an actual port","body":"Does not work in response string i get string <code>{{{request.requestLine.port}}}</code> not an actual port"}],"tags":[],"owner":{"account_id":991044,"reputation":3566,"user_id":1008361,"display_name":"Tom"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1568895375,"creation_date":1568895375,"answer_id":58010817,"question_id":57972756,"body_markdown":"You can&#39;t (yet) grab the server port directly, but you can get the inbound port, which usually has the same effect:\r\n\r\n`{{{request.requestLine.port}}}`","title":"How to return WireMock server port in a response body","body":"<p>You can't (yet) grab the server port directly, but you can get the inbound port, which usually has the same effect:</p>\n\n<p><code>{{{request.requestLine.port}}}</code></p>\n"},{"tags":[],"owner":{"account_id":1289848,"reputation":3311,"user_id":1242148,"accept_rate":100,"display_name":"Mindaugas Jaraminas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579610826,"creation_date":1579610826,"answer_id":59841513,"question_id":57972756,"body_markdown":"To fix this problem thx to @Tom suggestion is:\r\n```\r\n{\r\n  &quot;priority&quot;: 1,\r\n  &quot;request&quot;: {\r\n    &quot;method&quot;: &quot;GET&quot;,\r\n    &quot;url&quot;: &quot;/api/public/v3/tasks/taskid123&quot;\r\n  },\r\n  &quot;response&quot;: {\r\n    &quot;status&quot;: 200,\r\n    &quot;jsonBody&quot;: {\r\n      &quot;info&quot;: {\r\n        &quot;result_callbacks&quot;: [{\r\n          &quot;url&quot;: &quot;http://localhost:{{request.requestLine.port}}/download/zip/result&quot;\r\n        }]\r\n      }\r\n    },\r\n    &quot;headers&quot;: {\r\n      &quot;Content-Type&quot;: &quot;application/json; charset=utf-8&quot;\r\n    },\r\n    &quot;transformers&quot;: [\r\n      &quot;response-template&quot;\r\n    ]\r\n  }\r\n}\r\n```","title":"How to return WireMock server port in a response body","body":"<p>To fix this problem thx to @Tom suggestion is:</p>\n\n<pre><code>{\n  \"priority\": 1,\n  \"request\": {\n    \"method\": \"GET\",\n    \"url\": \"/api/public/v3/tasks/taskid123\"\n  },\n  \"response\": {\n    \"status\": 200,\n    \"jsonBody\": {\n      \"info\": {\n        \"result_callbacks\": [{\n          \"url\": \"http://localhost:{{request.requestLine.port}}/download/zip/result\"\n        }]\n      }\n    },\n    \"headers\": {\n      \"Content-Type\": \"application/json; charset=utf-8\"\n    },\n    \"transformers\": [\n      \"response-template\"\n    ]\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3497387,"reputation":43,"user_id":5984851,"display_name":"Илья Косолапов"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673369511,"creation_date":1673369511,"answer_id":75073307,"question_id":57972756,"body_markdown":"**Attention!** don&#39;t forget add the  *&quot;transformers&quot;: [&quot;response-template&quot;]*\r\n\r\n \r\n\r\n    &quot;response&quot;: {\r\n       ...\r\n       &quot;jsonBody&quot;: { &quot;url&quot;: &quot;http://localhost:{{port.request}}&quot; },\r\n       &quot;transformers&quot;: [&quot;response-template&quot;]\r\n       ...\r\n    }","title":"How to return WireMock server port in a response body","body":"<p><strong>Attention!</strong> don't forget add the  <em>&quot;transformers&quot;: [&quot;response-template&quot;]</em></p>\n<pre><code>&quot;response&quot;: {\n   ...\n   &quot;jsonBody&quot;: { &quot;url&quot;: &quot;http://localhost:{{port.request}}&quot; },\n   &quot;transformers&quot;: [&quot;response-template&quot;]\n   ...\n}\n</code></pre>\n"}],"owner":{"account_id":1289848,"reputation":3311,"user_id":1242148,"accept_rate":100,"display_name":"Mindaugas Jaraminas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1957,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":58010817,"answer_count":3,"score":3,"last_activity_date":1673369511,"creation_date":1568717668,"question_id":57972756,"body_markdown":"I have request which is returning WireMock URL to another WireMock stub.\r\n\r\nU have a problem on CI tool port 8080 is taken so I have to use a random port. `@AutoConfigureWireMock(port = 0)` ten port is random I am not able to mock port correctly.\r\n\r\nI have mapping JSON with error:\r\n\r\n```\r\n{\r\n  &quot;priority&quot;: 1,\r\n  &quot;request&quot;: {\r\n    &quot;method&quot;: &quot;GET&quot;,\r\n    &quot;url&quot;: &quot;/api/public/v3/tasks/taskid123&quot;\r\n  },\r\n  &quot;response&quot;: {\r\n    &quot;status&quot;: 200,\r\n    &quot;jsonBody&quot;: {\r\n      &quot;info&quot;: {\r\n        &quot;result_callbacks&quot;: [{\r\n          &quot;url&quot;: &quot;http://localhost:${wiremock.server.port}/download/zip/result&quot;\r\n        }]\r\n      }\r\n    },\r\n    &quot;headers&quot;: {\r\n      &quot;Content-Type&quot;: &quot;application/json; charset=utf-8&quot;\r\n    }\r\n  }\r\n}\r\n```\r\nHow to set server port in mapping JSON?","title":"How to return WireMock server port in a response body","body":"<p>I have request which is returning WireMock URL to another WireMock stub.</p>\n<p>U have a problem on CI tool port 8080 is taken so I have to use a random port. <code>@AutoConfigureWireMock(port = 0)</code> ten port is random I am not able to mock port correctly.</p>\n<p>I have mapping JSON with error:</p>\n<pre><code>{\n  &quot;priority&quot;: 1,\n  &quot;request&quot;: {\n    &quot;method&quot;: &quot;GET&quot;,\n    &quot;url&quot;: &quot;/api/public/v3/tasks/taskid123&quot;\n  },\n  &quot;response&quot;: {\n    &quot;status&quot;: 200,\n    &quot;jsonBody&quot;: {\n      &quot;info&quot;: {\n        &quot;result_callbacks&quot;: [{\n          &quot;url&quot;: &quot;http://localhost:${wiremock.server.port}/download/zip/result&quot;\n        }]\n      }\n    },\n    &quot;headers&quot;: {\n      &quot;Content-Type&quot;: &quot;application/json; charset=utf-8&quot;\n    }\n  }\n}\n</code></pre>\n<p>How to set server port in mapping JSON?</p>\n"},{"tags":["java","jpa","eclipselink","querydsl"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1673283395,"post_id":75060336,"comment_id":132459147,"body_markdown":"Some JPA providers, if configured, can write out the multiple update statements for each &#39;car&#39; update into one batch statement for your DB to handle, bringing the performance to be (more) inline with a single query statement. It still has to handle the entity merge behavior, but that can be good as well if there is an underlying cache that you want to have maintained anyway. With the query update approach, you must maintain the state of any cached entities yourself.","body":"Some JPA providers, if configured, can write out the multiple update statements for each &#39;car&#39; update into one batch statement for your DB to handle, bringing the performance to be (more) inline with a single query statement. It still has to handle the entity merge behavior, but that can be good as well if there is an underlying cache that you want to have maintained anyway. With the query update approach, you must maintain the state of any cached entities yourself."},{"owner":{"account_id":22886030,"reputation":1859,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"score":0,"creation_date":1673310209,"post_id":75060336,"comment_id":132465953,"body_markdown":"@Chris Thanks for the answer, I am using a batch writing size:1000, and when testing both of the mentioned methods i have the best results with the second method (entityManager merge).","body":"@Chris Thanks for the answer, I am using a batch writing size:1000, and when testing both of the mentioned methods i have the best results with the second method (entityManager merge)."}],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673282910,"creation_date":1673282910,"answer_id":75060474,"question_id":75060336,"body_markdown":"It depends:\r\n\r\nOption 1 is much faster, but if you have any logic or listeners that should be executed will be bypassed. Also, you cannot proceed with the List of cars because they will not have the same state as the database.","title":"Best way to update a list of entities with QueryDsl, JPA and EclipseLink","body":"<p>It depends:</p>\n<p>Option 1 is much faster, but if you have any logic or listeners that should be executed will be bypassed. Also, you cannot proceed with the List of cars because they will not have the same state as the database.</p>\n"}],"owner":{"account_id":22886030,"reputation":1859,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673368840,"creation_date":1673282286,"question_id":75060336,"body_markdown":"Working with QueryDsl and JPA, EclipseLink, I need to update the same column for a list of entities and store that modifications in the database, **Is there a difference (terme of performance) between :**\r\n\r\n1 -Doing that by getting all the ids and execute a single query that update all the rows at the same time.\r\n\r\n2 -Using the entityManager to merge the updated entities one by one.\r\n\r\n \r\n**1.**\r\n\r\n     public void updateProcessedForCarList( List&lt;Car&gt; CarList, boolean processed) {\r\n    \r\n     List&lt;Long&gt; ids = CarList.stream().map(v -&gt; v.getId()).collect(Collectors.toList()):\r\n             getQuery().update(CAR_TABLE).set(CAR_TABLE.processed, processed)\r\n                    .where(CAR_TABLE.id.in(ids)).execute();\r\n    }\r\n------------------    \r\n**2.**\r\n\r\n      public List&lt;Car&gt; updateProcessedForCarList( List&lt;Car&gt; CarList, boolean processed) {\r\n    \r\n             CarList.stream().forEach(car -&gt; {\r\n                car.setProcessed(processed);\r\n                getEntityManager().merge(car);\r\n            });\r\n    \r\n            return vsCmdbUpdateInfoBEList;\r\n        }\r\n\r\n","title":"Best way to update a list of entities with QueryDsl, JPA and EclipseLink","body":"<p>Working with QueryDsl and JPA, EclipseLink, I need to update the same column for a list of entities and store that modifications in the database, <strong>Is there a difference (terme of performance) between :</strong></p>\n<p>1 -Doing that by getting all the ids and execute a single query that update all the rows at the same time.</p>\n<p>2 -Using the entityManager to merge the updated entities one by one.</p>\n<p><strong>1.</strong></p>\n<pre><code> public void updateProcessedForCarList( List&lt;Car&gt; CarList, boolean processed) {\n\n List&lt;Long&gt; ids = CarList.stream().map(v -&gt; v.getId()).collect(Collectors.toList()):\n         getQuery().update(CAR_TABLE).set(CAR_TABLE.processed, processed)\n                .where(CAR_TABLE.id.in(ids)).execute();\n}\n</code></pre>\n<hr />\n<p><strong>2.</strong></p>\n<pre><code>  public List&lt;Car&gt; updateProcessedForCarList( List&lt;Car&gt; CarList, boolean processed) {\n\n         CarList.stream().forEach(car -&gt; {\n            car.setProcessed(processed);\n            getEntityManager().merge(car);\n        });\n\n        return vsCmdbUpdateInfoBEList;\n    }\n</code></pre>\n"},{"tags":["java","function","variables","jframe"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1673360132,"post_id":75071081,"comment_id":132477583,"body_markdown":"Move it to class level and make it `static`","body":"Move it to class level and make it <code>static</code>"}],"answers":[{"tags":[],"owner":{"account_id":14060422,"reputation":36,"user_id":10156638,"display_name":"buffman23"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673368686,"creation_date":1673368686,"answer_id":75073133,"question_id":75071081,"body_markdown":"1. Move *int credit = 500;* to be an [instance variable](https://stackoverflow.com/questions/16686488/what-is-an-instance-variable-in-java)\r\n2. Move all your code in *main* into a [default constructor](https://stackoverflow.com/questions/4488716/java-default-constructor) for your class Lotto\r\n3. Create an instance of Lotto in your main method\r\n\r\nAlso it is convention to capitalize class names so I changed that here.\r\n```\r\npublic class Lotto {\r\n\t\r\n\tint credit = 500;\r\n\r\n    public Lotto() \r\n\t{\r\n        Random randI = new Random();\r\n        \r\n        JFrame frame = new JFrame(&quot;Lotto&quot;);\r\n        frame.setSize(300, 300);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setLayout(null);\r\n        // ...\r\n    }\r\n    \r\n    public static void main(String[]args) {\r\n    \tLotto lotto = new Lotto();\r\n    }\r\n\r\n```\r\n\r\nOr if you want to keep your code in main and no instances created, move *int credit = 500;* out of the method and make it static.\r\n```\r\npublic class Lotto {\r\n\tstatic int credit = 500;\r\n```\r\n\r\nIf you make variables in a class static, then you don&#39;t have to have an instance to use it. &lt;br&gt;\r\nIf you make variables in a class not static, then you have to have an instance *Lotto lotto = new Lotto();* to access it  ","title":"JFrame variable updating","body":"<ol>\n<li>Move <em>int credit = 500;</em> to be an <a href=\"https://stackoverflow.com/questions/16686488/what-is-an-instance-variable-in-java\">instance variable</a></li>\n<li>Move all your code in <em>main</em> into a <a href=\"https://stackoverflow.com/questions/4488716/java-default-constructor\">default constructor</a> for your class Lotto</li>\n<li>Create an instance of Lotto in your main method</li>\n</ol>\n<p>Also it is convention to capitalize class names so I changed that here.</p>\n<pre><code>public class Lotto {\n    \n    int credit = 500;\n\n    public Lotto() \n    {\n        Random randI = new Random();\n        \n        JFrame frame = new JFrame(&quot;Lotto&quot;);\n        frame.setSize(300, 300);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setLayout(null);\n        // ...\n    }\n    \n    public static void main(String[]args) {\n        Lotto lotto = new Lotto();\n    }\n\n</code></pre>\n<p>Or if you want to keep your code in main and no instances created, move <em>int credit = 500;</em> out of the method and make it static.</p>\n<pre><code>public class Lotto {\n    static int credit = 500;\n</code></pre>\n<p>If you make variables in a class static, then you don't have to have an instance to use it. <br>\nIf you make variables in a class not static, then you have to have an instance <em>Lotto lotto = new Lotto();</em> to access it</p>\n"}],"owner":{"account_id":26532283,"reputation":23,"user_id":20164291,"display_name":"PsydoV2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673368686,"creation_date":1673359322,"question_id":75071081,"body_markdown":"I want to do a little lottery program for the school. You start with 500 credits, but every time you lose, 50 credits are deducted. My problem is that you always start with 500 credits again.\r\n\r\n\r\n```\r\npackage jframe;\r\n\r\n\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.util.Random;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JOptionPane;\r\nimport javax.swing.JTextField;\r\n\r\npublic class lotto {\r\n\tpublic static void main(String[]args) {\r\n\t\t\r\n\t\tRandom randI = new Random();\r\n\t\t\r\n\r\n        \r\n        \r\n        \r\n\t    JFrame frame = new JFrame(&quot;Lotto&quot;);\r\n\t    frame.setSize(300, 300);\r\n\t    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t    frame.setLayout(null);\r\n\t    \r\n\t    JTextField num1Field = new JTextField();\r\n\t    num1Field.setBounds(80, 10, 100, 30);\r\n\t    frame.add(num1Field);\r\n\t    \r\n\t    JTextField num2Field = new JTextField();\r\n\t    num2Field.setBounds(80, 50, 100, 30);\r\n\t    frame.add(num2Field);\r\n\t    \r\n\t    JTextField num3Field = new JTextField();\r\n\t    num3Field.setBounds(80, 90, 100, 30);\r\n\t    frame.add(num3Field);\r\n\t    \r\n\t    \r\n\t    JLabel num1Label = new JLabel(&quot;Zahl 1: &quot;);\r\n\t    num1Label.setBounds(20, 10, 50, 30);\r\n\t    frame.add(num1Label);\r\n\r\n\t    JLabel num2Label = new JLabel(&quot;Zahl 2: &quot;);\r\n\t    num2Label.setBounds(20, 50, 50, 30);\r\n\t    frame.add(num2Label);\r\n\t    \r\n\t    JLabel num3Label = new JLabel(&quot;Zahl 3: &quot;);\r\n\t    num3Label.setBounds(20, 90, 50, 30);\r\n\t    frame.add(num3Label);\r\n\t    \r\n\t    JButton startButton = new JButton(&quot;Start!&quot;);\r\n\t    startButton.setBounds(30, 150, 80, 30);\r\n\t    frame.add(startButton);\r\n\t    \r\n\t    JButton resetButton = new JButton(&quot;Reset&quot;);\r\n\t    resetButton.setBounds(120, 150, 80, 30);\r\n\t    frame.add(resetButton);\r\n\t    \r\n\t    JLabel ergLabel = new JLabel();\r\n\t    ergLabel.setBounds(10, 200, 400, 30);\r\n\t    frame.add(ergLabel);\r\n\t    \r\n\t    JLabel ghLabel = new JLabel(&quot;500&quot;);\r\n\t    ghLabel.setBounds(50, 230, 200, 30);\r\n\t    frame.add(ghLabel);\r\n\t    \r\n\t    \r\n\t    \r\n\t    \r\n\t    startButton.addActionListener(new ActionListener() {\r\n\t        @Override\r\n\t        public void actionPerformed(ActionEvent e) {\r\n\t          \r\n\t          int num1 = Integer.parseInt(num1Field.getText());\r\n\t          int num2 = Integer.parseInt(num2Field.getText());\r\n\t          int num3 = Integer.parseInt(num2Field.getText());\r\n\t          \r\n\r\n\t          \r\n\t          int credit = 500;\r\n\t          \r\n\t       \r\n\t          System.out.println(credit);\r\n\t          \r\n\t          \r\n\t          \r\n\t          int pcnum1 = randI.nextInt(48);\r\n\t          pcnum1 = pcnum1+1;\r\n\t          \r\n\t          int pcnum2 = randI.nextInt(48);\r\n\t          pcnum2 = pcnum2+1;\r\n\t          \r\n\t          int pcnum3 = randI.nextInt(48);\r\n\t          pcnum3 = pcnum3+1;\r\n\t          \r\n\t          boolean zahl1 = false;\r\n\t          boolean zahl2 = false;\r\n\t          boolean zahl3 = false;\r\n\t          \r\n\t          if(num1 == pcnum1) {\r\n\t        \t  zahl1 = true;\r\n\t          } else {\r\n\t        \t  zahl1 = false;\r\n\t          }\r\n\t          \r\n\t          if(num2 == pcnum2) {\r\n\t        \t  zahl2 = true;\r\n\t          } else {\r\n\t        \t  zahl2 = false;\r\n\t          }\r\n\t          \r\n\t          if(num3 == pcnum3) {\r\n\t        \t  zahl3 = true;\r\n\t          } else {\r\n\t        \t  zahl3 = false;\r\n\t          }\r\n\t          \r\n\t          if(zahl1 == true &amp;&amp; zahl2 == true &amp;&amp; zahl3 == true) {\r\n\t        \t  credit = credit + 500;\r\n\t          }\r\n\t          \r\n\t          if(zahl1 == true &amp;&amp; zahl2 == true &amp;&amp; zahl3 == false || zahl1 == true &amp;&amp; zahl3 == true &amp;&amp; -                 zahl2 == false || zahl2 == true &amp;&amp; zahl3 == true &amp;&amp; zahl1 == false) {\r\n\t        \t  credit = credit + 250;\r\n\t          }\r\n\t          \r\n\t          if(zahl1 == true &amp;&amp; zahl2 == false &amp;&amp; zahl3 == false || zahl1 == false &amp;&amp; zahl3 == false -                 &amp;&amp; zahl2 == true || zahl1 == false &amp;&amp; zahl2 == false &amp;&amp; zahl3 == true) {\r\n\t        \t  credit = credit + 100;\r\n\t          }\r\n\t          \r\n\t          if(zahl1 == false &amp;&amp; zahl2 == false &amp;&amp; zahl3 == false){\r\n\t        \t  credit = credit - 50;\r\n\t          }\r\n\t          \r\n\t          ergLabel.setText(&quot;1. Number: &quot; + zahl1 + &quot;  2. Number: &quot; + zahl2 + &quot;  3. Number: &quot; +          -                 zahl3);\r\n\t          ghLabel.setText(&quot;Credit: &quot; + credit);\r\n\t          \r\n\t        }\r\n\t      });\r\n\t    \r\n\t    resetButton.addActionListener(new ActionListener() {\r\n\t        @Override\r\n\t        public void actionPerformed(ActionEvent e) {\r\n\t        \t\r\n\t        \tnum1Field.setText(&quot;&quot;);\r\n\t\t        num2Field.setText(&quot;&quot;);\r\n\t\t        num3Field.setText(&quot;&quot;);\r\n\t\t        ergLabel.setText(&quot;&quot;);\r\n\t        }\r\n\t      });\r\n\t    \r\n\t    \r\n\r\n\t    \r\n\t    \r\n\t    \r\n\t    \r\n\t    \r\n\t    frame.setVisible(true);\r\n\t    \r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nMy only solution would be to declare the variable outside the function, but I don&#39;t know how to use the variable inside the function if I declare it outside.","title":"JFrame variable updating","body":"<p>I want to do a little lottery program for the school. You start with 500 credits, but every time you lose, 50 credits are deducted. My problem is that you always start with 500 credits again.</p>\n<pre><code>package jframe;\n\n\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.Random;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JTextField;\n\npublic class lotto {\n    public static void main(String[]args) {\n        \n        Random randI = new Random();\n        \n\n        \n        \n        \n        JFrame frame = new JFrame(&quot;Lotto&quot;);\n        frame.setSize(300, 300);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setLayout(null);\n        \n        JTextField num1Field = new JTextField();\n        num1Field.setBounds(80, 10, 100, 30);\n        frame.add(num1Field);\n        \n        JTextField num2Field = new JTextField();\n        num2Field.setBounds(80, 50, 100, 30);\n        frame.add(num2Field);\n        \n        JTextField num3Field = new JTextField();\n        num3Field.setBounds(80, 90, 100, 30);\n        frame.add(num3Field);\n        \n        \n        JLabel num1Label = new JLabel(&quot;Zahl 1: &quot;);\n        num1Label.setBounds(20, 10, 50, 30);\n        frame.add(num1Label);\n\n        JLabel num2Label = new JLabel(&quot;Zahl 2: &quot;);\n        num2Label.setBounds(20, 50, 50, 30);\n        frame.add(num2Label);\n        \n        JLabel num3Label = new JLabel(&quot;Zahl 3: &quot;);\n        num3Label.setBounds(20, 90, 50, 30);\n        frame.add(num3Label);\n        \n        JButton startButton = new JButton(&quot;Start!&quot;);\n        startButton.setBounds(30, 150, 80, 30);\n        frame.add(startButton);\n        \n        JButton resetButton = new JButton(&quot;Reset&quot;);\n        resetButton.setBounds(120, 150, 80, 30);\n        frame.add(resetButton);\n        \n        JLabel ergLabel = new JLabel();\n        ergLabel.setBounds(10, 200, 400, 30);\n        frame.add(ergLabel);\n        \n        JLabel ghLabel = new JLabel(&quot;500&quot;);\n        ghLabel.setBounds(50, 230, 200, 30);\n        frame.add(ghLabel);\n        \n        \n        \n        \n        startButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n              \n              int num1 = Integer.parseInt(num1Field.getText());\n              int num2 = Integer.parseInt(num2Field.getText());\n              int num3 = Integer.parseInt(num2Field.getText());\n              \n\n              \n              int credit = 500;\n              \n           \n              System.out.println(credit);\n              \n              \n              \n              int pcnum1 = randI.nextInt(48);\n              pcnum1 = pcnum1+1;\n              \n              int pcnum2 = randI.nextInt(48);\n              pcnum2 = pcnum2+1;\n              \n              int pcnum3 = randI.nextInt(48);\n              pcnum3 = pcnum3+1;\n              \n              boolean zahl1 = false;\n              boolean zahl2 = false;\n              boolean zahl3 = false;\n              \n              if(num1 == pcnum1) {\n                  zahl1 = true;\n              } else {\n                  zahl1 = false;\n              }\n              \n              if(num2 == pcnum2) {\n                  zahl2 = true;\n              } else {\n                  zahl2 = false;\n              }\n              \n              if(num3 == pcnum3) {\n                  zahl3 = true;\n              } else {\n                  zahl3 = false;\n              }\n              \n              if(zahl1 == true &amp;&amp; zahl2 == true &amp;&amp; zahl3 == true) {\n                  credit = credit + 500;\n              }\n              \n              if(zahl1 == true &amp;&amp; zahl2 == true &amp;&amp; zahl3 == false || zahl1 == true &amp;&amp; zahl3 == true &amp;&amp; -                 zahl2 == false || zahl2 == true &amp;&amp; zahl3 == true &amp;&amp; zahl1 == false) {\n                  credit = credit + 250;\n              }\n              \n              if(zahl1 == true &amp;&amp; zahl2 == false &amp;&amp; zahl3 == false || zahl1 == false &amp;&amp; zahl3 == false -                 &amp;&amp; zahl2 == true || zahl1 == false &amp;&amp; zahl2 == false &amp;&amp; zahl3 == true) {\n                  credit = credit + 100;\n              }\n              \n              if(zahl1 == false &amp;&amp; zahl2 == false &amp;&amp; zahl3 == false){\n                  credit = credit - 50;\n              }\n              \n              ergLabel.setText(&quot;1. Number: &quot; + zahl1 + &quot;  2. Number: &quot; + zahl2 + &quot;  3. Number: &quot; +          -                 zahl3);\n              ghLabel.setText(&quot;Credit: &quot; + credit);\n              \n            }\n          });\n        \n        resetButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                \n                num1Field.setText(&quot;&quot;);\n                num2Field.setText(&quot;&quot;);\n                num3Field.setText(&quot;&quot;);\n                ergLabel.setText(&quot;&quot;);\n            }\n          });\n        \n        \n\n        \n        \n        \n        \n        \n        frame.setVisible(true);\n        \n    }\n}\n\n</code></pre>\n<p>My only solution would be to declare the variable outside the function, but I don't know how to use the variable inside the function if I declare it outside.</p>\n"},{"tags":["java","arraylist","move"],"comments":[{"owner":{"account_id":9021005,"reputation":4164,"user_id":6722100,"accept_rate":67,"display_name":"achAmh&#225;in"},"score":2,"creation_date":1526460180,"post_id":50366145,"comment_id":87748478,"body_markdown":"Loop through `table1` checking if `price==20` and if so, `table2.add();` and `table1.remove()`?","body":"Loop through <code>table1</code> checking if <code>price==20</code> and if so, <code>table2.add();</code> and <code>table1.remove()</code>?"},{"owner":{"account_id":12975459,"reputation":1665,"user_id":9379617,"display_name":"Ben"},"score":5,"creation_date":1526460189,"post_id":50366145,"comment_id":87748486,"body_markdown":"Add the element to the second list and remove it from the first. What else would you want to do?","body":"Add the element to the second list and remove it from the first. What else would you want to do?"}],"answers":[{"comments":[{"owner":{"account_id":9021005,"reputation":4164,"user_id":6722100,"accept_rate":67,"display_name":"achAmh&#225;in"},"score":0,"creation_date":1526461164,"post_id":50366253,"comment_id":87749147,"body_markdown":"This doesn&#39;t satisfy the OPs requirements of `if i my list contains a beer with the price 20`","body":"This doesn&#39;t satisfy the OPs requirements of <code>if i my list contains a beer with the price 20</code>"},{"owner":{"account_id":10869989,"reputation":92,"user_id":7992198,"display_name":"Alexi Courieux"},"score":0,"creation_date":1526461830,"post_id":50366253,"comment_id":87749601,"body_markdown":"I&#39;m not sure that&#39;s what he&#39;s looking for, then I give a generic answer to move a specific item.\nI&#39;ll try to complete my answer.","body":"I&#39;m not sure that&#39;s what he&#39;s looking for, then I give a generic answer to move a specific item. I&#39;ll try to complete my answer."}],"tags":[],"owner":{"account_id":10869989,"reputation":92,"user_id":7992198,"display_name":"Alexi Courieux"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673368290,"creation_date":1526460429,"answer_id":50366253,"question_id":50366145,"body_markdown":"If you want to move a specific item :\r\n    \r\n    moveSellableItem(List&lt;SellableItem&gt; source, SellableItem item, List&lt;SellableItem&gt; destination){\r\n        destination.add(item);\r\n        source.remove(item);\r\n    }\r\n\r\nIf you want to move all item with a specific parameter (price in example) :\r\n\r\n    moveSellableItemWithPrice(List&lt;SellableItem&gt; source, double price, List&lt;SellableItem&gt; destination)\r\n    {\r\n        var itemsToMove = new ArrayList&lt;SellableItem&gt;();\r\n        for(SellableItem item : source){\r\n            if(item.price == price) {\r\n                itemsToMove.add(item);\r\n            }\r\n        }\r\n        source.removeAll(itemsToMove);\r\n        destination.addAll(itemsToMove);\r\n    }\r\n\r\nIn addition, you can use a lambda instead of the foreach loop :\r\n\r\nFrom Java 8 :\r\n    `var itemsToMove = source.stream().filter(i -&gt; i.price == price).collect(Collectors.toList());`\r\n\r\nFrom Java 16 :\r\n    `var itemsToMove = source.stream().filter(i -&gt; i.price == price).toList();`","title":"Move element from one array list to another java","body":"<p>If you want to move a specific item :</p>\n<pre><code>moveSellableItem(List&lt;SellableItem&gt; source, SellableItem item, List&lt;SellableItem&gt; destination){\n    destination.add(item);\n    source.remove(item);\n}\n</code></pre>\n<p>If you want to move all item with a specific parameter (price in example) :</p>\n<pre><code>moveSellableItemWithPrice(List&lt;SellableItem&gt; source, double price, List&lt;SellableItem&gt; destination)\n{\n    var itemsToMove = new ArrayList&lt;SellableItem&gt;();\n    for(SellableItem item : source){\n        if(item.price == price) {\n            itemsToMove.add(item);\n        }\n    }\n    source.removeAll(itemsToMove);\n    destination.addAll(itemsToMove);\n}\n</code></pre>\n<p>In addition, you can use a lambda instead of the foreach loop :</p>\n<p>From Java 8 :\n<code>var itemsToMove = source.stream().filter(i -&gt; i.price == price).collect(Collectors.toList());</code></p>\n<p>From Java 16 :\n<code>var itemsToMove = source.stream().filter(i -&gt; i.price == price).toList();</code></p>\n"},{"tags":[],"owner":{"account_id":8195273,"reputation":97,"user_id":6168343,"display_name":"ayushs27"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526460507,"creation_date":1526460507,"answer_id":50366275,"question_id":50366145,"body_markdown":"            import java.util.List;\r\n            import java.util.ArrayList;\r\n            public class Details\r\n            {\r\n                public static void main(String [] args)\r\n                {\r\n                    //First ArrayList\r\n           List&lt;SellableItems&gt; arraylist1=new ArrayList&lt;SellableItems&gt;();\r\n                    arraylist1.add(SellableItems);\r\n           \r\n            \r\n                    //Second ArrayList\r\n              List&lt;SellableItems&gt; arraylist2=new ArrayList&lt;SellableItems&gt;();\r\n                    arraylist2.add(SellableItems);\r\n                    \r\n            \r\n        arraylist1.addAll(arraylist2);\r\n            \r\n                    }\r\n                }\r\n    \r\n    \r\n   **this can be done see this example**\r\n    \r\n\r\n&gt;you can refer to the begginers book for the collection framework","title":"Move element from one array list to another java","body":"<pre><code>        import java.util.List;\n        import java.util.ArrayList;\n        public class Details\n        {\n            public static void main(String [] args)\n            {\n                //First ArrayList\n       List&lt;SellableItems&gt; arraylist1=new ArrayList&lt;SellableItems&gt;();\n                arraylist1.add(SellableItems);\n\n\n                //Second ArrayList\n          List&lt;SellableItems&gt; arraylist2=new ArrayList&lt;SellableItems&gt;();\n                arraylist2.add(SellableItems);\n\n\n    arraylist1.addAll(arraylist2);\n\n                }\n            }\n</code></pre>\n\n<p><strong>this can be done see this example</strong></p>\n\n<blockquote>\n  <p>you can refer to the begginers book for the collection framework</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1526460626,"creation_date":1526460626,"answer_id":50366323,"question_id":50366145,"body_markdown":"Iterate over the source list, if an item matches your criteria remove it from the source list and add it to the target list :\r\n\r\n    for(int i=0; i&lt;table1.size(); i++) {\r\n        if(table1.get(i).price==20) {\r\n            table2.add(table1.remove(i));\r\n        }\r\n    }\r\n\r\nOr with a foreach loop :\r\n\r\n    for(SellableItem item : table1) {\r\n        if(item.price==20) {\r\n            table1.remove(item);\r\n            table2.add(item);\r\n        }\r\n    }","title":"Move element from one array list to another java","body":"<p>Iterate over the source list, if an item matches your criteria remove it from the source list and add it to the target list :</p>\n\n<pre><code>for(int i=0; i&lt;table1.size(); i++) {\n    if(table1.get(i).price==20) {\n        table2.add(table1.remove(i));\n    }\n}\n</code></pre>\n\n<p>Or with a foreach loop :</p>\n\n<pre><code>for(SellableItem item : table1) {\n    if(item.price==20) {\n        table1.remove(item);\n        table2.add(item);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11147483,"reputation":1772,"user_id":8181750,"display_name":"L.Spillner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526461747,"creation_date":1526460711,"answer_id":50366354,"question_id":50366145,"body_markdown":"I assume that you want to _filter_ the first list and store the result into another list so that you have the original and a modified version of the same list.\r\n\r\nSince I do not know how your `SellableItem` class is structured I used some Integers for my example:\r\n\r\n    // List of random Integers for the example\r\n    List&lt;Integer&gt; li = new Random().ints( 100,0,30 ).boxed().collect( Collectors.toList() );\r\n    // The list which will contain the results\r\n    List&lt;Integer&gt; target;\r\n        \r\n    // A stream (since Java 8) which is filtering for a certain Predicate and\r\n    // collecting the result as a list.\r\n    target = li.stream().filter( i-&gt;i.intValue() &gt; 20 ).collect( Collectors.toList() );\r\n        \r\n    System.out.println( target );\r\n\r\nIn this case `target` will only contain items which are applicable to their value being bigger than 20.\r\n\r\nHowever if you don&#39;t want to keep the original and remove the items you stored in the 2nd list you can call `li.removeAll(target);`.\r\n\r\n","title":"Move element from one array list to another java","body":"<p>I assume that you want to <em>filter</em> the first list and store the result into another list so that you have the original and a modified version of the same list.</p>\n\n<p>Since I do not know how your <code>SellableItem</code> class is structured I used some Integers for my example:</p>\n\n<pre><code>// List of random Integers for the example\nList&lt;Integer&gt; li = new Random().ints( 100,0,30 ).boxed().collect( Collectors.toList() );\n// The list which will contain the results\nList&lt;Integer&gt; target;\n\n// A stream (since Java 8) which is filtering for a certain Predicate and\n// collecting the result as a list.\ntarget = li.stream().filter( i-&gt;i.intValue() &gt; 20 ).collect( Collectors.toList() );\n\nSystem.out.println( target );\n</code></pre>\n\n<p>In this case <code>target</code> will only contain items which are applicable to their value being bigger than 20.</p>\n\n<p>However if you don't want to keep the original and remove the items you stored in the 2nd list you can call <code>li.removeAll(target);</code>.</p>\n"},{"tags":[],"owner":{"account_id":8972075,"reputation":27597,"user_id":6690200,"accept_rate":100,"display_name":"xingbin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526460711,"creation_date":1526460711,"answer_id":50366355,"question_id":50366145,"body_markdown":"Iterate on the first list and add to the second list when price equals 20:\r\n\r\n    List&lt;SellableItems&gt; table1 = new ArrayList&lt;&gt;();\r\n    List&lt;SellableItems&gt; table2 = new ArrayList&lt;&gt;();\r\n\r\n    Iterator&lt;SellableItems&gt; itemsIterator = table1.iterator();\r\n    while (itemsIterator.hasNext()) {\r\n        SellableItems next = itemsIterator.next();\r\n        if (next.price.equals(20)) {\r\n            table2.add(next);\r\n            itemsIterator.remove();\r\n        }\r\n    }","title":"Move element from one array list to another java","body":"<p>Iterate on the first list and add to the second list when price equals 20:</p>\n\n<pre><code>List&lt;SellableItems&gt; table1 = new ArrayList&lt;&gt;();\nList&lt;SellableItems&gt; table2 = new ArrayList&lt;&gt;();\n\nIterator&lt;SellableItems&gt; itemsIterator = table1.iterator();\nwhile (itemsIterator.hasNext()) {\n    SellableItems next = itemsIterator.next();\n    if (next.price.equals(20)) {\n        table2.add(next);\n        itemsIterator.remove();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9021005,"reputation":4164,"user_id":6722100,"accept_rate":67,"display_name":"achAmh&#225;in"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526461098,"creation_date":1526461098,"answer_id":50366493,"question_id":50366145,"body_markdown":"Perhaps use a `stream` to add all the values where `name = beer` and `price = 20`\r\n\r\n    table1.stream().filter((table11) -&gt; (table11.getName().equals(&quot;beer&quot;) &amp;&amp; table11.getPrice() == 20)).forEach((table11) -&gt; {\r\n                table2.add(table11);\r\n            });\r\n\r\nThen remove all from the original list (if required)\r\n\r\n    table1.removeAll(table2);","title":"Move element from one array list to another java","body":"<p>Perhaps use a <code>stream</code> to add all the values where <code>name = beer</code> and <code>price = 20</code></p>\n\n<pre><code>table1.stream().filter((table11) -&gt; (table11.getName().equals(\"beer\") &amp;&amp; table11.getPrice() == 20)).forEach((table11) -&gt; {\n            table2.add(table11);\n        });\n</code></pre>\n\n<p>Then remove all from the original list (if required)</p>\n\n<pre><code>table1.removeAll(table2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586347119,"creation_date":1586347119,"answer_id":61100147,"question_id":50366145,"body_markdown":"Here are two additional options:\r\n\r\n    Iterator&lt;SellableItem&gt; iter = table1.iterator();\r\n    while (iter.hasNext()) {\r\n        SellableItem item = iter.next();\r\n        if (item.getName().equals(&quot;beer&quot;) &amp;&amp; item.getPrice() == 20) {\r\n            iter.remove();\r\n            table2.add(item);\r\n        }\r\n    }\r\n\r\nand\r\n\r\n    Predicate&lt;SellableItem&gt; test = item -&gt; item.getName().equals(&quot;beer&quot;) &amp;&amp; item.getPrice() == 20;\r\n    table1.stream().filter(test).forEach(table2::add);\r\n    table1.removeIf(test);","title":"Move element from one array list to another java","body":"<p>Here are two additional options:</p>\n\n<pre><code>Iterator&lt;SellableItem&gt; iter = table1.iterator();\nwhile (iter.hasNext()) {\n    SellableItem item = iter.next();\n    if (item.getName().equals(\"beer\") &amp;&amp; item.getPrice() == 20) {\n        iter.remove();\n        table2.add(item);\n    }\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>Predicate&lt;SellableItem&gt; test = item -&gt; item.getName().equals(\"beer\") &amp;&amp; item.getPrice() == 20;\ntable1.stream().filter(test).forEach(table2::add);\ntable1.removeIf(test);\n</code></pre>\n"}],"owner":{"account_id":12473711,"reputation":57,"user_id":9080881,"display_name":"Peter Holdensgaard"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10412,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":50366253,"answer_count":7,"score":-1,"last_activity_date":1673368290,"creation_date":1526460060,"question_id":50366145,"body_markdown":"i have a problem\r\n\r\nI have two lists\r\n    \r\n    List&lt;SellableItems&gt; table1 = new ArrayList();\r\n    List&lt;SellableItems&gt; table2 = new Arraylist();\r\n\r\nIn my sellable items class, i have a name and a price.\r\n\r\nNow I wish to move elements from table1 to table2. So if i my list contains a beer with the price 20, i can move it from table1 to table2","title":"Move element from one array list to another java","body":"<p>i have a problem</p>\n\n<p>I have two lists</p>\n\n<pre><code>List&lt;SellableItems&gt; table1 = new ArrayList();\nList&lt;SellableItems&gt; table2 = new Arraylist();\n</code></pre>\n\n<p>In my sellable items class, i have a name and a price.</p>\n\n<p>Now I wish to move elements from table1 to table2. So if i my list contains a beer with the price 20, i can move it from table1 to table2</p>\n"},{"tags":["java","unit-testing","mockito","webclient"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1673378191,"post_id":75072051,"comment_id":132483943,"body_markdown":"`when` is used to setup calls on mocks/stubs. Mocks/stubs don&#39;t do anything, what&#39;s the point in passing in a complicated lambda? It will never be executed and lambdas are not compared based on their &quot;logic&quot;. Perhaps you want to `when(responseSpec.onStatus(any(), any()).thenReturn(responseSpec)`?","body":"<code>when</code> is used to setup calls on mocks/stubs. Mocks/stubs don&#39;t do anything, what&#39;s the point in passing in a complicated lambda? It will never be executed and lambdas are not compared based on their &quot;logic&quot;. Perhaps you want to <code>when(responseSpec.onStatus(any(), any()).thenReturn(responseSpec)</code>?"},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1674000624,"post_id":75072051,"comment_id":132620847,"body_markdown":"Does this answer your question? [How to unit test the WebClient.onStatus() in java?](https://stackoverflow.com/questions/75114698/how-to-unit-test-the-webclient-onstatus-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/75114698/how-to-unit-test-the-webclient-onstatus-in-java\">How to unit test the WebClient.onStatus() in java?</a>"}],"owner":{"account_id":7322626,"reputation":2000,"user_id":5974780,"display_name":"Nesan Mano"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673368213,"creation_date":1673363880,"question_id":75072051,"body_markdown":"I need to mock the call to onStatus. The probelem is that I am getting  the below error.\r\n\r\norg.mockito.exceptions.misusing.PotentialStubbingProblem: \r\nStrict stubbing argument mismatch. Please check:\r\n\r\n\r\n\r\n    when(responseSpec.onStatus(HttpStatus::isError,(clientResponse) -&gt; {\r\n      if (clientResponse.statusCode() == HttpStatus.resolve(402)) {\r\n        return Mono.error(new Exception(&quot;402&quot;));\r\n      }\r\n      if (clientResponse.statusCode() == HttpStatus.resolve(500)) {\r\n        return Mono.error(new Exception(&quot;500&quot;));\r\n      }\r\n      if (clientResponse.statusCode() == HttpStatus.resolve(512)) {\r\n        return Mono.error(new Exception(&quot;512&quot;)));\r\n      }\r\n      return Mono.error(new Exception(&quot;Error while processing request&quot;));\r\n    }))\r\n            .thenReturn(responseSpec);\r\n  }","title":"Webclient OnStatus call stubbing","body":"<p>I need to mock the call to onStatus. The probelem is that I am getting  the below error.</p>\n<p>org.mockito.exceptions.misusing.PotentialStubbingProblem:\nStrict stubbing argument mismatch. Please check:</p>\n<pre><code>when(responseSpec.onStatus(HttpStatus::isError,(clientResponse) -&gt; {\n  if (clientResponse.statusCode() == HttpStatus.resolve(402)) {\n    return Mono.error(new Exception(&quot;402&quot;));\n  }\n  if (clientResponse.statusCode() == HttpStatus.resolve(500)) {\n    return Mono.error(new Exception(&quot;500&quot;));\n  }\n  if (clientResponse.statusCode() == HttpStatus.resolve(512)) {\n    return Mono.error(new Exception(&quot;512&quot;)));\n  }\n  return Mono.error(new Exception(&quot;Error while processing request&quot;));\n}))\n        .thenReturn(responseSpec);\n</code></pre>\n<p>}</p>\n"},{"tags":["java","string","comparison-operators"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":7,"creation_date":1673367139,"post_id":75072784,"comment_id":132480327,"body_markdown":"Since always, if you want reference equality, which you almost never do. &quot;*because they are different objects*&quot; They&#39;re not. Both refer to the same interned string literal in the string constant pool. Same object.","body":"Since always, if you want reference equality, which you almost never do. &quot;<i>because they are different objects</i>&quot; They&#39;re not. Both refer to the same interned string literal in the string constant pool. Same object."},{"owner":{"account_id":1074107,"reputation":238,"user_id":1072625,"display_name":"Neeraj"},"score":1,"creation_date":1673367233,"post_id":75072784,"comment_id":132480374,"body_markdown":"this link might give more details - https://www.geeksforgeeks.org/difference-between-and-equals-method-in-java/","body":"this link might give more details - <a href=\"https://www.geeksforgeeks.org/difference-between-and-equals-method-in-java/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/difference-between-and-equals-method-in-ja&zwnj;&#8203;va</a>"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1673367406,"post_id":75072784,"comment_id":132480445,"body_markdown":"the reason is that the string literal `&quot;hello&quot;` is known at compile time and thus ends up in the interned string pool. `s` is a reference to it. Since the references are the same, the `==` returns true. This would be different if you read that `&quot;hello&quot;` in line 2 from stdin or a file instead of using the same compile time constant.","body":"the reason is that the string literal <code>&quot;hello&quot;</code> is known at compile time and thus ends up in the interned string pool. <code>s</code> is a reference to it. Since the references are the same, the <code>==</code> returns true. This would be different if you read that <code>&quot;hello&quot;</code> in line 2 from stdin or a file instead of using the same compile time constant."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1673367418,"post_id":75072784,"comment_id":132480449,"body_markdown":"&quot;Since always&quot;.  Indeed, this is not an optimization.  Rather it is a behavior that is **mandated** by the Java Language Specification.  JLS 3.10.5 states: *&quot;Moreover, a string literal always refers to the same instance of class String. This is because string literals - or, more generally, strings that are the values of constant expressions (&#167;15.29) - are &quot;interned&quot; so as to share unique instances, as if by execution of the method String.intern (&#167;12.5). &quot;*","body":"&quot;Since always&quot;.  Indeed, this is not an optimization.  Rather it is a behavior that is <b>mandated</b> by the Java Language Specification.  JLS 3.10.5 states: <i>&quot;Moreover, a string literal always refers to the same instance of class String. This is because string literals - or, more generally, strings that are the values of constant expressions (&#167;15.29) - are &quot;interned&quot; so as to share unique instances, as if by execution of the method String.intern (&#167;12.5). &quot;</i>"},{"owner":{"account_id":24040475,"reputation":93,"user_id":18020228,"display_name":"sfeng"},"score":0,"creation_date":1673367529,"post_id":75072784,"comment_id":132480498,"body_markdown":"Curious, as this is not the way I&#39;ve been told by my profs when he taught me Java. I guess  he got it confused with C languages. Thanks.","body":"Curious, as this is not the way I&#39;ve been told by my profs when he taught me Java. I guess  he got it confused with C languages. Thanks."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1673367576,"post_id":75072784,"comment_id":132480519,"body_markdown":"Either he was confused ... or you didn&#39;t hear / understand him correctly.  Lets be fair :-)","body":"Either he was confused ... or you didn&#39;t hear / understand him correctly.  Lets be fair :-)"},{"owner":{"account_id":24040475,"reputation":93,"user_id":18020228,"display_name":"sfeng"},"score":0,"creation_date":1673367617,"post_id":75072784,"comment_id":132480530,"body_markdown":"@StephenC fair enough :-) I do still have his slides though","body":"@StephenC fair enough :-) I do still have his slides though"}],"answers":[{"tags":[],"owner":{"account_id":16152814,"reputation":203,"user_id":11683534,"display_name":"Ryan Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673368068,"creation_date":1673368068,"answer_id":75073004,"question_id":75072784,"body_markdown":"You are correct that `==` operator in Java will only return `true` if both references are pointing to the exact same object.\r\n\r\nNow for why does `s == &quot;hello&quot;` return `true` for your example it has to do with how the Java compiler works. \r\n\r\nIn Java all strings are immutable. This means the objects themselves can not be changed. When you update the contents of a string in Java a new string object is created.\r\n\r\nThis allows the Java compiler to save memory at runtime by implementing [string interning][1]. Any string that is defined in the source code as a literal is placed in a string intern pool. When adding a string literal to this pool the complier checks if that string is in the pool and if yes returns a reference to the existing string. This means if you use the same string literal multiple times in the source code it is only stored once in memory.\r\n\r\nIn your example you use the string literal `&quot;hello&quot;` three times. When compiled all 3 string literals become the same string object. This is why in your example `s == &quot;hello&quot;` returns `true`.\r\n\r\nUsing `==` is bad practice when comparing strings in Java. It happens to &quot;work&quot; in your example because of how your example code is written and how the Java compiler works.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/String_interning","title":"Since When Can We Compare Strings with == in Java?","body":"<p>You are correct that <code>==</code> operator in Java will only return <code>true</code> if both references are pointing to the exact same object.</p>\n<p>Now for why does <code>s == &quot;hello&quot;</code> return <code>true</code> for your example it has to do with how the Java compiler works.</p>\n<p>In Java all strings are immutable. This means the objects themselves can not be changed. When you update the contents of a string in Java a new string object is created.</p>\n<p>This allows the Java compiler to save memory at runtime by implementing <a href=\"https://en.wikipedia.org/wiki/String_interning\" rel=\"nofollow noreferrer\">string interning</a>. Any string that is defined in the source code as a literal is placed in a string intern pool. When adding a string literal to this pool the complier checks if that string is in the pool and if yes returns a reference to the existing string. This means if you use the same string literal multiple times in the source code it is only stored once in memory.</p>\n<p>In your example you use the string literal <code>&quot;hello&quot;</code> three times. When compiled all 3 string literals become the same string object. This is why in your example <code>s == &quot;hello&quot;</code> returns <code>true</code>.</p>\n<p>Using <code>==</code> is bad practice when comparing strings in Java. It happens to &quot;work&quot; in your example because of how your example code is written and how the Java compiler works.</p>\n"}],"owner":{"account_id":24040475,"reputation":93,"user_id":18020228,"display_name":"sfeng"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1673367265,"accepted_answer_id":75073004,"answer_count":1,"score":0,"last_activity_date":1673368068,"creation_date":1673367070,"question_id":75072784,"body_markdown":"I recently went back to the String comparisons in Java and tried this:\r\n\r\n```Java\r\nString s = &quot;hello&quot;;\r\nSystem.out.println(s == &quot;hello&quot;);\r\nSystem.out.println(s.equals(&quot;hello&quot;));\r\n```\r\n\r\nWhen I run it with jdk 19.0.1, Both expressions evaluate to `true` despite IDE warnings.\r\n\r\nThis is obviously against all my intuition, as I&#39;ve been told since my very first day programming in Java that the first expression should be evaluate to `false` because they are different objects. My best guess is that Java has done some optimization at some point to override String comparison with `==`, only I would like to know when did they do that.\r\n\r\nDoes anyone remember in which Java version has this optimization been done? Thanks.\r\n\r\n\r\n","title":"Since When Can We Compare Strings with == in Java?","body":"<p>I recently went back to the String comparisons in Java and tried this:</p>\n<pre><code>String s = &quot;hello&quot;;\nSystem.out.println(s == &quot;hello&quot;);\nSystem.out.println(s.equals(&quot;hello&quot;));\n</code></pre>\n<p>When I run it with jdk 19.0.1, Both expressions evaluate to <code>true</code> despite IDE warnings.</p>\n<p>This is obviously against all my intuition, as I've been told since my very first day programming in Java that the first expression should be evaluate to <code>false</code> because they are different objects. My best guess is that Java has done some optimization at some point to override String comparison with <code>==</code>, only I would like to know when did they do that.</p>\n<p>Does anyone remember in which Java version has this optimization been done? Thanks.</p>\n"},{"tags":["java","libgdx","slider","desktop-application"],"comments":[{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":0,"creation_date":1498267550,"post_id":44731304,"comment_id":76446363,"body_markdown":"You need to wrap the cast: `((ChangeListener) slider.getListeners().get(0)).change`","body":"You need to wrap the cast: <code>((ChangeListener) slider.getListeners().get(0)).change</code>"},{"owner":{"account_id":2562510,"reputation":1624,"user_id":2223360,"display_name":"clearlyspam23"},"score":0,"creation_date":1498268318,"post_id":44731304,"comment_id":76446481,"body_markdown":"Have you tried calling progressBar.setValue?\n\nhttps://libgdx.badlogicgames.com/nightlies/docs/api/com/badlogic/gdx/scenes/scene2d/ui/ProgressBar.html#setValue-float-","body":"Have you tried calling progressBar.setValue?  <a href=\"https://libgdx.badlogicgames.com/nightlies/docs/api/com/badlogic/gdx/scenes/scene2d/ui/ProgressBar.html#setValue-float-\" rel=\"nofollow noreferrer\">libgdx.badlogicgames.com/nightlies/docs/api/com/badlogic/gdx&zwnj;&#8203;/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4206565,"reputation":20016,"user_id":3445320,"display_name":"AAryan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498395949,"creation_date":1498278268,"answer_id":44732732,"question_id":44731304,"body_markdown":"You can use `setValue(float value)` method of `Slider` to change value of slider programmatically.\r\n\r\n    public class GdxTest extends ApplicationAdapter {\r\n    \r\n        Stage stage;\r\n        Slider slider;\r\n        \r\n        @Override\r\n        public void create() {\r\n    \r\n            stage=new Stage();\r\n            Gdx.input.setInputProcessor(stage);\r\n            Skin skin=new Skin(Gdx.files.internal(&quot;skin/glassy-ui.json&quot;));\r\n    \r\n            Table table=new Table();\r\n            table.setFillParent(true);\r\n    \r\n            stage.addActor(table);\r\n            table.add(slider=new Slider(0,100,1,false,skin));\r\n    \r\n            slider.setValue(50);   // value changed by 50%\r\n        }\r\n\r\n        ...\r\n    }","title":"How to change the value of a Slider programmatically? (LibGDX)","body":"<p>You can use <code>setValue(float value)</code> method of <code>Slider</code> to change value of slider programmatically.</p>\n\n<pre><code>public class GdxTest extends ApplicationAdapter {\n\n    Stage stage;\n    Slider slider;\n\n    @Override\n    public void create() {\n\n        stage=new Stage();\n        Gdx.input.setInputProcessor(stage);\n        Skin skin=new Skin(Gdx.files.internal(\"skin/glassy-ui.json\"));\n\n        Table table=new Table();\n        table.setFillParent(true);\n\n        stage.addActor(table);\n        table.add(slider=new Slider(0,100,1,false,skin));\n\n        slider.setValue(50);   // value changed by 50%\n    }\n\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21005467,"reputation":1,"user_id":16378090,"display_name":"Mohamed Elcessy"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673367956,"creation_date":1673332016,"answer_id":75066229,"question_id":44731304,"body_markdown":"    slider.setAnimateDuration(0.3f);","title":"How to change the value of a Slider programmatically? (LibGDX)","body":"<pre><code>slider.setAnimateDuration(0.3f);\n</code></pre>\n"}],"owner":{"account_id":10442625,"reputation":51,"user_id":7698759,"accept_rate":0,"display_name":"Samuel M"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":994,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673367956,"creation_date":1498261176,"question_id":44731304,"body_markdown":"I think I am missing something obvious, but I can&#39;t seem to change the value of a Slider (Scene2D.ui) programmatically.\r\nThe reason that I want to do this is because I have a character that you can customize with the sliders but I want to have some preset characters that you can use as a starting point for customization.\r\n\r\nWhat I have so far is something like this:\r\n\r\n`(ChangeListener)(slider.getListeners().get(0))` but I cannot call the `changed(ChangeEvent event, Actor actor)` method that is called when the slider is changed.","title":"How to change the value of a Slider programmatically? (LibGDX)","body":"<p>I think I am missing something obvious, but I can't seem to change the value of a Slider (Scene2D.ui) programmatically.\nThe reason that I want to do this is because I have a character that you can customize with the sliders but I want to have some preset characters that you can use as a starting point for customization.</p>\n\n<p>What I have so far is something like this:</p>\n\n<p><code>(ChangeListener)(slider.getListeners().get(0))</code> but I cannot call the <code>changed(ChangeEvent event, Actor actor)</code> method that is called when the slider is changed.</p>\n"},{"tags":["java","g1gc"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1656596249,"post_id":72816175,"comment_id":128615599,"body_markdown":"While there&#39;s not a lot of long-term data, a jagged yet increasing usage of memory over time is usually a good indicator of more and more objects being unable to be reclaimed (i.e. a memory leak). If that&#39;s the case, in the short term _scheduling_ a restart at a reasonable time (e.g. 4am) may reduce the impact of this, since you can only grow memory for so long.","body":"While there&#39;s not a lot of long-term data, a jagged yet increasing usage of memory over time is usually a good indicator of more and more objects being unable to be reclaimed (i.e. a memory leak). If that&#39;s the case, in the short term <i>scheduling</i> a restart at a reasonable time (e.g. 4am) may reduce the impact of this, since you can only grow memory for so long."},{"owner":{"account_id":968743,"reputation":3452,"user_id":991710,"accept_rate":82,"display_name":"filpa"},"score":0,"creation_date":1673368220,"post_id":72816175,"comment_id":132480764,"body_markdown":"What is the exact exception that you&#39;re seeing? `OutOfMemoryError` could be due to a number of reasons, e.g. `Java heap space` (where there really is not enough heap available), `GC overhead limit` (i.e. GC has been running but was unable to reclaim past a certain threshold in a given timeframe), and so on. The specific cause and fix depend on which error you&#39;re getting.","body":"What is the exact exception that you&#39;re seeing? <code>OutOfMemoryError</code> could be due to a number of reasons, e.g. <code>Java heap space</code> (where there really is not enough heap available), <code>GC overhead limit</code> (i.e. GC has been running but was unable to reclaim past a certain threshold in a given timeframe), and so on. The specific cause and fix depend on which error you&#39;re getting."},{"owner":{"account_id":15285811,"reputation":253,"user_id":11028863,"display_name":"murtiko"},"score":0,"creation_date":1673370254,"post_id":72816175,"comment_id":132481498,"body_markdown":"From the charts above, it looks like the heap keeps increasing, so there may be a leak somewhere. The usual way to analyze is to take a memory dump and investigate it with sth like Eclipse MAT plugin. Another useful simpler tool that may give a hint is `jmap -histo` which lists the objects using the most memory.","body":"From the charts above, it looks like the heap keeps increasing, so there may be a leak somewhere. The usual way to analyze is to take a memory dump and investigate it with sth like Eclipse MAT plugin. Another useful simpler tool that may give a hint is <code>jmap -histo</code> which lists the objects using the most memory."}],"answers":[{"comments":[{"owner":{"account_id":25967173,"reputation":61,"user_id":19682964,"display_name":"Carl Hyslop"},"score":0,"creation_date":1697953583,"post_id":75072941,"comment_id":136342656,"body_markdown":"In fact the CPU limit should be removed completely: https://home.robusta.dev/blog/stop-using-cpu-limits.  Otherwise your advice is completely correct.","body":"In fact the CPU limit should be removed completely: <a href=\"https://home.robusta.dev/blog/stop-using-cpu-limits\" rel=\"nofollow noreferrer\">home.robusta.dev/blog/stop-using-cpu-limits</a>.  Otherwise your advice is completely correct."}],"tags":[],"owner":{"account_id":27490350,"reputation":21,"user_id":20975840,"display_name":"Russell Rogers"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673367742,"creation_date":1673367742,"answer_id":75072941,"question_id":72816175,"body_markdown":"So the JVM will determine which garbage collector (GC) to use based on the amount of memory and CPU given to the application.  By default, it will use the Serial GC if the RAM is under 2GB or the CPU cores is less than 2.  For a Kubernetes server application, the Serial GC is not a great choice as it runs in a single thread and it seems to wait until the heap is near the max limit to reclaim the heap space.  It also results in a lot of pausing of the application which can lead to health check failures or scaling to due to momentary higher cpu usage.  What has worked best for us, is to force the use of the G1 GC collector.  It is a concurrent collector that runs side by side with your app and tries its best to minimize application pausing.  I would suggest setting your CPU limit to at least 1 and setting your RAM limit to however much you think your application is going to use plus a little overhead.  To force the G1 GC collector add the following option to your java *XX:+UseG1GC*.","title":"Java 17 process running out of memory on Kubernetes when memory potentially available","body":"<p>So the JVM will determine which garbage collector (GC) to use based on the amount of memory and CPU given to the application.  By default, it will use the Serial GC if the RAM is under 2GB or the CPU cores is less than 2.  For a Kubernetes server application, the Serial GC is not a great choice as it runs in a single thread and it seems to wait until the heap is near the max limit to reclaim the heap space.  It also results in a lot of pausing of the application which can lead to health check failures or scaling to due to momentary higher cpu usage.  What has worked best for us, is to force the use of the G1 GC collector.  It is a concurrent collector that runs side by side with your app and tries its best to minimize application pausing.  I would suggest setting your CPU limit to at least 1 and setting your RAM limit to however much you think your application is going to use plus a little overhead.  To force the G1 GC collector add the following option to your java <em>XX:+UseG1GC</em>.</p>\n"}],"owner":{"account_id":1324009,"reputation":89,"user_id":1269245,"display_name":"Thomas Lynema"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2775,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673367742,"creation_date":1656593509,"question_id":72816175,"body_markdown":"The goal is to understand what should be tuned in order for the Java process to stop restarting itself.\r\n\r\nWe have a Java Springboot backend application with Hazelcast running that restarts instead of garbage collecting.  \r\nEnvironment is:\r\n&gt; Amazon Corretto 17.0.3\r\n&gt; \r\n\r\nThe only memory tuning parameter supplied is: \r\n\r\n&gt; -XX:+UseContainerSupport -XX:MaxRAMPercentage=80.0\r\n\r\nThe memory limit in kubernetes is 2Gi so the container gets 1.6Gi\r\n\r\nGraphs of memory usage:\r\n\r\n[![Heap][1]][1]\r\n\r\n\r\n[![Eden][2]][2]\r\n\r\n[![Old Gen][3]][3]\r\n\r\nThe huge drop towards the end is where I performed a heap dump.  Performing the dump lead to a drastic decrease in memory usage (due to a full GC?).\r\n\r\n[![Heap dump results][4]][4]\r\n\r\nThe GC appears to be working against me here. If the memory dump was not performed, the container hits what appears to be a memory limit, it is restarted by kubernetes, and it continues in this cycle.  Are there tuning parameters that are missed, is this a clear memory leak (perhaps due to hazelcast metrics) https://github.com/hazelcast/hazelcast/issues/16672)?\r\n\r\n  [1]: https://i.stack.imgur.com/7PGI1.png\r\n  [2]: https://i.stack.imgur.com/QUf8n.png\r\n  [3]: https://i.stack.imgur.com/0KQSB.png\r\n  [4]: https://i.stack.imgur.com/9UPeN.png","title":"Java 17 process running out of memory on Kubernetes when memory potentially available","body":"<p>The goal is to understand what should be tuned in order for the Java process to stop restarting itself.</p>\n<p>We have a Java Springboot backend application with Hazelcast running that restarts instead of garbage collecting.<br />\nEnvironment is:</p>\n<blockquote>\n<p>Amazon Corretto 17.0.3</p>\n</blockquote>\n<p>The only memory tuning parameter supplied is:</p>\n<blockquote>\n<p>-XX:+UseContainerSupport -XX:MaxRAMPercentage=80.0</p>\n</blockquote>\n<p>The memory limit in kubernetes is 2Gi so the container gets 1.6Gi</p>\n<p>Graphs of memory usage:</p>\n<p><a href=\"https://i.stack.imgur.com/7PGI1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7PGI1.png\" alt=\"Heap\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/QUf8n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QUf8n.png\" alt=\"Eden\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/0KQSB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0KQSB.png\" alt=\"Old Gen\" /></a></p>\n<p>The huge drop towards the end is where I performed a heap dump.  Performing the dump lead to a drastic decrease in memory usage (due to a full GC?).</p>\n<p><a href=\"https://i.stack.imgur.com/9UPeN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9UPeN.png\" alt=\"Heap dump results\" /></a></p>\n<p>The GC appears to be working against me here. If the memory dump was not performed, the container hits what appears to be a memory limit, it is restarted by kubernetes, and it continues in this cycle.  Are there tuning parameters that are missed, is this a clear memory leak (perhaps due to hazelcast metrics) <a href=\"https://github.com/hazelcast/hazelcast/issues/16672\" rel=\"nofollow noreferrer\">https://github.com/hazelcast/hazelcast/issues/16672</a>)?</p>\n"},{"tags":["java","maven","repository","cobra"],"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673367685,"creation_date":1673367685,"question_id":75072927,"body_markdown":"I working on converting a project from ant to maven and am getting errors trying to pull in jars from geomajas.\r\n\r\nI am not behind a firewall and the dependencies from maven central are downloading.  I have also added geomajas to the repositories in my projects pom.xml.  \r\n\r\nBelow are the relevant portions from the pom.xml and the error I am getting.\r\n\r\nIf I instead define the jar dependency with a system path to a local copy of the jar the project builds successfully. \r\n```\r\n\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.lobobrowser&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;cobra&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.98.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n.....\r\n&lt;repository&gt;\r\n\t&lt;id&gt;geomajas&lt;/id&gt;\r\n\t&lt;name&gt;Geomajas Maven Repository&lt;/name&gt;\r\n\t&lt;url&gt;https://maven.geomajas.org/(https://maven.geomajas.org/)&lt;/url&gt;\r\n&lt;/repository&gt;\r\n```\r\n\r\n```\r\n\r\n[ERROR] Failed to execute goal on project niksun-services-util: Could not resolve dependencies for project com.niksun:niksun-services-util:jar:main: Failed to collect dependencies at org.lobobrowser:cobra:jar:0.98.4: Failed to read artifact descriptor for org.lobobrowser:cobra:jar:0.98.4: Could not transfer artifact org.lobobrowser:cobra:pom:0.98.4 from/to geomajas (http://maven.geomajas.org/(http://maven.geomajas.org/)): connect timed out -&gt; [Help 1]\r\n```\r\n","title":"Maven Unable to Collect Dependencies at Extra Repositories","body":"<p>I working on converting a project from ant to maven and am getting errors trying to pull in jars from geomajas.</p>\n<p>I am not behind a firewall and the dependencies from maven central are downloading.  I have also added geomajas to the repositories in my projects pom.xml.</p>\n<p>Below are the relevant portions from the pom.xml and the error I am getting.</p>\n<p>If I instead define the jar dependency with a system path to a local copy of the jar the project builds successfully.</p>\n<pre><code>\n&lt;dependency&gt;\n    &lt;groupId&gt;org.lobobrowser&lt;/groupId&gt;\n    &lt;artifactId&gt;cobra&lt;/artifactId&gt;\n    &lt;version&gt;0.98.4&lt;/version&gt;\n&lt;/dependency&gt;\n.....\n&lt;repository&gt;\n    &lt;id&gt;geomajas&lt;/id&gt;\n    &lt;name&gt;Geomajas Maven Repository&lt;/name&gt;\n    &lt;url&gt;https://maven.geomajas.org/(https://maven.geomajas.org/)&lt;/url&gt;\n&lt;/repository&gt;\n</code></pre>\n<pre><code>\n[ERROR] Failed to execute goal on project niksun-services-util: Could not resolve dependencies for project com.niksun:niksun-services-util:jar:main: Failed to collect dependencies at org.lobobrowser:cobra:jar:0.98.4: Failed to read artifact descriptor for org.lobobrowser:cobra:jar:0.98.4: Could not transfer artifact org.lobobrowser:cobra:pom:0.98.4 from/to geomajas (http://maven.geomajas.org/(http://maven.geomajas.org/)): connect timed out -&gt; [Help 1]\n</code></pre>\n"},{"tags":["java","oracle-adf","jdeveloper"],"comments":[{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":2,"creation_date":1426105221,"post_id":28990602,"comment_id":46241216,"body_markdown":"`Please see this log file for more details: C:\\Users\\Brian.Hess2\\AppData\\Roaming\\JDeveloper\\system11.1.1.2.36.55.36\\o.j2ee.adrs\\CreateDefaultDomain.log` ... do that :).","body":"<code>Please see this log file for more details: C:\\Users\\Brian.Hess2\\AppData\\Roaming\\JDeveloper\\system11.1.1&zwnj;&#8203;.2.36.55.36\\o.j2ee.a&zwnj;&#8203;drs\\CreateDefaultDom&zwnj;&#8203;ain.log</code> ... do that :)."}],"answers":[{"tags":[],"owner":{"account_id":371386,"reputation":3693,"user_id":719884,"display_name":"Shay Shmeltzer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1426277119,"creation_date":1426277119,"answer_id":29041032,"question_id":28990602,"body_markdown":"Is you JDK or JDeveloper installed in a path that has a space in it (&quot;Program files&quot;) if so you would want to move it to a directory with no spaces.\r\nTry removing the C:\\Users\\Brian.Hess2\\AppData\\Roaming\\JDeveloper\\system11.1.1.2.36.55.36 directory and restarting JDeveloper.","title":"jdeveloper error","body":"<p>Is you JDK or JDeveloper installed in a path that has a space in it (\"Program files\") if so you would want to move it to a directory with no spaces.\nTry removing the C:\\Users\\Brian.Hess2\\AppData\\Roaming\\JDeveloper\\system11.1.1.2.36.55.36 directory and restarting JDeveloper.</p>\n"},{"tags":[],"owner":{"account_id":9625381,"reputation":4042,"user_id":7145177,"display_name":"Pransh Tiwari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524664566,"creation_date":1524664566,"answer_id":50024186,"question_id":28990602,"body_markdown":"Make sure the environment variables are set properly. For eg)\r\n\r\n    setenv JAVA_HOME /ade_autofs/gd29_3rdparty/JDK6_MAIN_LINUX.X64.rdd/121114.1.6.0.38.0B05/jdk6\r\n\r\nIf it doesn&#39;t work, try removing the default domain directory. It is generally located inside the view, in .jdev_user_home with name as systemxx.x. \r\n\r\nTry restarting after this if it doesn&#39;t work. ","title":"jdeveloper error","body":"<p>Make sure the environment variables are set properly. For eg)</p>\n\n<pre><code>setenv JAVA_HOME /ade_autofs/gd29_3rdparty/JDK6_MAIN_LINUX.X64.rdd/121114.1.6.0.38.0B05/jdk6\n</code></pre>\n\n<p>If it doesn't work, try removing the default domain directory. It is generally located inside the view, in .jdev_user_home with name as systemxx.x. </p>\n\n<p>Try restarting after this if it doesn't work. </p>\n"},{"tags":[],"owner":{"account_id":14590366,"reputation":1,"user_id":10537714,"display_name":"alexandros mantsakov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673367430,"creation_date":1673367430,"answer_id":75072859,"question_id":28990602,"body_markdown":"Make sure your `JAVA_HOME` is set up properly to show to your JDK folder and also that the `PATH` variable includes the JAVA_HOME variable. :D","title":"jdeveloper error","body":"<p>Make sure your <code>JAVA_HOME</code> is set up properly to show to your JDK folder and also that the <code>PATH</code> variable includes the JAVA_HOME variable. :D</p>\n"}],"owner":{"account_id":1510082,"reputation":35,"user_id":1412433,"display_name":"el-shaimaa badr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3498,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"answer_count":3,"score":-1,"last_activity_date":1673367430,"creation_date":1426087368,"question_id":28990602,"body_markdown":"Please I want help, I have installed JDeveloper Studio Edition Version 11.1.1.2.0. \r\n\r\nI get an error trying to run the Debugger on the application. The server appears to be the only area of JDeveloper that has issues under this account, and below is the Log:\r\n\r\n\r\n&gt; [Waiting for the domain to finish building...] [12:51:06 PM] Creating\r\n&gt; Integrated Weblogic domain... The Server Instance cannot be started\r\n&gt; because the Integrated Weblogic domain was not built successfully.\r\n&gt; [12:51:20 PM] ERROR: An error occurred while building the default\r\n&gt; domain. Please see this log file for more details:\r\n&gt; C:\\Users\\Brian.Hess2\\AppData\\Roaming\\JDeveloper\\system11.1.1.2.36.55.36\\o.j2ee.adrs\\CreateDefaultDomain.log\r\n\r\n","title":"jdeveloper error","body":"<p>Please I want help, I have installed JDeveloper Studio Edition Version 11.1.1.2.0. </p>\n\n<p>I get an error trying to run the Debugger on the application. The server appears to be the only area of JDeveloper that has issues under this account, and below is the Log:</p>\n\n<blockquote>\n  <p>[Waiting for the domain to finish building...] [12:51:06 PM] Creating\n  Integrated Weblogic domain... The Server Instance cannot be started\n  because the Integrated Weblogic domain was not built successfully.\n  [12:51:20 PM] ERROR: An error occurred while building the default\n  domain. Please see this log file for more details:\n  C:\\Users\\Brian.Hess2\\AppData\\Roaming\\JDeveloper\\system11.1.1.2.36.55.36\\o.j2ee.adrs\\CreateDefaultDomain.log</p>\n</blockquote>\n"},{"tags":["java","teamcity"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673363998,"post_id":75072034,"comment_id":132479019,"body_markdown":"Add error messages as text not as unreadable image","body":"Add error messages as text not as unreadable image"},{"owner":{"account_id":16941532,"reputation":47,"user_id":12253288,"display_name":"HighHill"},"score":0,"creation_date":1673367339,"post_id":75072034,"comment_id":132480416,"body_markdown":"Okay I added to question.","body":"Okay I added to question."},{"owner":{"account_id":12918789,"reputation":679,"user_id":9978153,"display_name":"Vladimir Shefer"},"score":0,"creation_date":1673476151,"post_id":75072034,"comment_id":132510897,"body_markdown":"nice question. taking a look into it. could you please also fire this bug to jetbrains youtrack?","body":"nice question. taking a look into it. could you please also fire this bug to jetbrains youtrack?"},{"owner":{"account_id":12918789,"reputation":679,"user_id":9978153,"display_name":"Vladimir Shefer"},"score":0,"creation_date":1673513969,"post_id":75072034,"comment_id":132517537,"body_markdown":"which version of TeamCity do you use?","body":"which version of TeamCity do you use?"},{"owner":{"account_id":16941532,"reputation":47,"user_id":12253288,"display_name":"HighHill"},"score":0,"creation_date":1673591018,"post_id":75072034,"comment_id":132537757,"body_markdown":"TeamCity Professional 2022.10.1 (build 116934)","body":"TeamCity Professional 2022.10.1 (build 116934)"},{"owner":{"account_id":12918789,"reputation":679,"user_id":9978153,"display_name":"Vladimir Shefer"},"score":0,"creation_date":1673593518,"post_id":75072034,"comment_id":132538243,"body_markdown":"how it is installed? in docker? @HighHill","body":"how it is installed? in docker? @HighHill"},{"owner":{"account_id":16941532,"reputation":47,"user_id":12253288,"display_name":"HighHill"},"score":0,"creation_date":1673612350,"post_id":75072034,"comment_id":132543815,"body_markdown":"No, in Windows 11","body":"No, in Windows 11"}],"owner":{"account_id":16941532,"reputation":47,"user_id":12253288,"display_name":"HighHill"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673367285,"creation_date":1673363778,"question_id":75072034,"body_markdown":"I installed TC on my new pc but ı have some failures. I am getting Failed to &quot;initialize Spring Context&quot; Error after TC installation and TC WebUI is not working properly. I connected db from PostgreSQL and JRE 1.8.0_351 installed.\r\n\r\nHere is the screenshot:\r\n[![TeamCityError][1]][1]\r\n\r\nError Message:\r\n\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;graphQLEndpoint&#39; defined in URL [jar:file:/C:/TeamCity/webapps/ROOT/WEB-INF/plugins/.unpacked/rest-api/server/rest-api.jar!/jetbrains/buildServer/server/graphql/GraphQLEndpoint.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;graphQLProvider&#39;: Invocation of init method failed; nested exception is graphql.kickstart.tools.resolver.FieldResolverError: No method or field found as defined in schema &lt;unknown&gt;:282 with any of the following signatures (with or without one of [interface graphql.schema.DataFetchingEnvironment] as the last argument), in priority order:\r\n    \r\n    jetbrains.buildServer.server.graphql.resolver.AgentResolver.id(jetbrains.buildServer.server.graphql.model.Agent)\r\n    jetbrains.buildServer.server.graphql.resolver.AgentResolver.getİd(jetbrains.buildServer.server.graphql.model.Agent)\r\n    jetbrains.buildServer.server.graphql.resolver.AgentResolver.id\r\n    jetbrains.buildServer.server.graphql.model.Agent.id()\r\n    jetbrains.buildServer.server.graphql.model.Agent.getİd()\r\n    jetbrains.buildServer.server.graphql.model.Agent.id\r\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\r\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\r\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n    at jetbrains.buildServer.plugins.spring.SpringPluginLoader.pluginClassesLoaded(SpringPluginLoader.java:126)\r\n    at jdk.internal.reflect.GeneratedMethodAccessor109.invoke(Unknown Source)\r\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    at jetbrains.buildServer.util.EventDispatcher.invokeListeners(EventDispatcher.java:157)\r\n    at jetbrains.buildServer.util.EventDispatcher.dispatch(EventDispatcher.java:136)\r\n    at jetbrains.buildServer.util.EventDispatcher$2.invoke(EventDispatcher.java:82)\r\n    at com.sun.proxy.$Proxy48.pluginClassesLoaded(Unknown Source)\r\n    at jetbrains.buildServer.plugins.PluginManagerImpl$5.visitPlugin(PluginManagerImpl.java:441)\r\n    at jetbrains.buildServer.plugins.PluginsCollection$1.run(PluginsCollection.java:98)\r\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    at java.base/java.lang.Thread.run(Thread.java:829)\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;graphQLProvider&#39;: Invocation of init method failed; nested exception is graphql.kickstart.tools.resolver.FieldResolverError: No method or field found as defined in schema &lt;unknown&gt;:282 with any of the following signatures (with or without one of [interface graphql.schema.DataFetchingEnvironment] as the last argument), in priority order:\r\n    \r\n    jetbrains.buildServer.server.graphql.resolver.AgentResolver.id(jetbrains.buildServer.server.graphql.model.Agent)...\r\n    \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KlrKD.png","title":"TeamCity Rest API &quot;Failed to initialize Spring Context&quot; Error","body":"<p>I installed TC on my new pc but ı have some failures. I am getting Failed to &quot;initialize Spring Context&quot; Error after TC installation and TC WebUI is not working properly. I connected db from PostgreSQL and JRE 1.8.0_351 installed.</p>\n<p>Here is the screenshot:\n<a href=\"https://i.stack.imgur.com/KlrKD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KlrKD.png\" alt=\"TeamCityError\" /></a></p>\n<p>Error Message:</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'graphQLEndpoint' defined in URL [jar:file:/C:/TeamCity/webapps/ROOT/WEB-INF/plugins/.unpacked/rest-api/server/rest-api.jar!/jetbrains/buildServer/server/graphql/GraphQLEndpoint.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'graphQLProvider': Invocation of init method failed; nested exception is graphql.kickstart.tools.resolver.FieldResolverError: No method or field found as defined in schema &lt;unknown&gt;:282 with any of the following signatures (with or without one of [interface graphql.schema.DataFetchingEnvironment] as the last argument), in priority order:\n\njetbrains.buildServer.server.graphql.resolver.AgentResolver.id(jetbrains.buildServer.server.graphql.model.Agent)\njetbrains.buildServer.server.graphql.resolver.AgentResolver.getİd(jetbrains.buildServer.server.graphql.model.Agent)\njetbrains.buildServer.server.graphql.resolver.AgentResolver.id\njetbrains.buildServer.server.graphql.model.Agent.id()\njetbrains.buildServer.server.graphql.model.Agent.getİd()\njetbrains.buildServer.server.graphql.model.Agent.id\nat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\nat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\nat jetbrains.buildServer.plugins.spring.SpringPluginLoader.pluginClassesLoaded(SpringPluginLoader.java:126)\nat jdk.internal.reflect.GeneratedMethodAccessor109.invoke(Unknown Source)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)\nat jetbrains.buildServer.util.EventDispatcher.invokeListeners(EventDispatcher.java:157)\nat jetbrains.buildServer.util.EventDispatcher.dispatch(EventDispatcher.java:136)\nat jetbrains.buildServer.util.EventDispatcher$2.invoke(EventDispatcher.java:82)\nat com.sun.proxy.$Proxy48.pluginClassesLoaded(Unknown Source)\nat jetbrains.buildServer.plugins.PluginManagerImpl$5.visitPlugin(PluginManagerImpl.java:441)\nat jetbrains.buildServer.plugins.PluginsCollection$1.run(PluginsCollection.java:98)\nat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\nat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\nat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\nat java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'graphQLProvider': Invocation of init method failed; nested exception is graphql.kickstart.tools.resolver.FieldResolverError: No method or field found as defined in schema &lt;unknown&gt;:282 with any of the following signatures (with or without one of [interface graphql.schema.DataFetchingEnvironment] as the last argument), in priority order:\n\njetbrains.buildServer.server.graphql.resolver.AgentResolver.id(jetbrains.buildServer.server.graphql.model.Agent)...\n</code></pre>\n"},{"tags":["java","mockito","java-17"],"comments":[{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":1,"creation_date":1673368494,"post_id":75072665,"comment_id":132480877,"body_markdown":"Side-note: what&#39;s the point in verifying a byte array stream never gets closed since closing it does nothing? **Edit**: sauce [here](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/ByteArrayOutputStream.html#close()) and [here](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/ByteArrayInputStream.html#close())","body":"Side-note: what&#39;s the point in verifying a byte array stream never gets closed since closing it does nothing? <b>Edit</b>: sauce <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/ByteArrayOutputStream.html#close()\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/ByteArrayInputStream.html#close()\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":27489868,"reputation":1,"user_id":20975449,"display_name":"Lars van roy"},"score":0,"creation_date":1673421445,"post_id":75072665,"comment_id":132492348,"body_markdown":"While true, the usage is not  restricted to ByteArrayOutputStream and the close might have effect for the other ones, we simply wish to verify whether or not the close operation is invoked, independent of which output stream is passed.","body":"While true, the usage is not  restricted to ByteArrayOutputStream and the close might have effect for the other ones, we simply wish to verify whether or not the close operation is invoked, independent of which output stream is passed."}],"owner":{"account_id":27489868,"reputation":1,"user_id":20975449,"display_name":"Lars van roy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673367071,"creation_date":1673366606,"question_id":75072665,"body_markdown":"We recently upgraded our JDK from 11 to 17. Part of this upgrade included an upgrade from mockito from version 3.3.3 to mockito version 4.11.0.\r\n\r\nOne of our existing tests which used to work in the past broke because of this. In this test we spy on a ByteArrayOutputStream object to verify that it does not get closed. This test fails because of the error given below.\r\n\r\n```\r\n@Test\r\nvoid encryptionDoesNotCloseOutputStream() throws Throwable {\r\n    byte[] key = new byte[32];\r\n    RANDOM.nextBytes(key);\r\n    byte[] data = new byte[101];\r\n    RANDOM.nextBytes(data);\r\n    ByteArrayInputStream in = spy(new ByteArrayInputStream(data));\r\n    ByteArrayOutputStream out = spy(new ByteArrayOutputStream());\r\n\r\n    ...\r\n    \r\n    // Write the IV at the beginning of the file (first 12 Bytes)\r\n    out.write(buffers.iv);\r\n    \r\n    ...\r\n\r\n    verify(in, never()).close();\r\n    verify(out, never()).close();\r\n}\r\n```\r\n\r\nThis results in the following error.\r\n\r\n```\r\n[ERROR] Errors: \r\n[ERROR]   CryptoUtilsTest.encryptionDoesNotCloseOutputStream:47 &#187; NullPointer Cannot read the array length because &quot;this.buf&quot; is null\r\n```\r\n\r\nAs discussed in a related issue, https://stackoverflow.com/questions/73492733/how-to-properly-spy-on-an-input-stream, I tried to change our mockito dependency from mockito-core to mockito-inline but this did not change anything.\r\n\r\nWe did not yet verify whether or not this issue also occurs in a java-11 environment when upgrading mockito. It does happen when just updating java to java-17 without touching mockito at all.","title":"Spying on a ByteArrayOutputStream causes the object to lose context in java-17","body":"<p>We recently upgraded our JDK from 11 to 17. Part of this upgrade included an upgrade from mockito from version 3.3.3 to mockito version 4.11.0.</p>\n<p>One of our existing tests which used to work in the past broke because of this. In this test we spy on a ByteArrayOutputStream object to verify that it does not get closed. This test fails because of the error given below.</p>\n<pre><code>@Test\nvoid encryptionDoesNotCloseOutputStream() throws Throwable {\n    byte[] key = new byte[32];\n    RANDOM.nextBytes(key);\n    byte[] data = new byte[101];\n    RANDOM.nextBytes(data);\n    ByteArrayInputStream in = spy(new ByteArrayInputStream(data));\n    ByteArrayOutputStream out = spy(new ByteArrayOutputStream());\n\n    ...\n    \n    // Write the IV at the beginning of the file (first 12 Bytes)\n    out.write(buffers.iv);\n    \n    ...\n\n    verify(in, never()).close();\n    verify(out, never()).close();\n}\n</code></pre>\n<p>This results in the following error.</p>\n<pre><code>[ERROR] Errors: \n[ERROR]   CryptoUtilsTest.encryptionDoesNotCloseOutputStream:47 » NullPointer Cannot read the array length because &quot;this.buf&quot; is null\n</code></pre>\n<p>As discussed in a related issue, <a href=\"https://stackoverflow.com/questions/73492733/how-to-properly-spy-on-an-input-stream\">How to properly spy on an input stream</a>, I tried to change our mockito dependency from mockito-core to mockito-inline but this did not change anything.</p>\n<p>We did not yet verify whether or not this issue also occurs in a java-11 environment when upgrading mockito. It does happen when just updating java to java-17 without touching mockito at all.</p>\n"},{"tags":["java","diameter-protocol"],"comments":[{"owner":{"account_id":2009138,"reputation":445,"user_id":1798091,"accept_rate":50,"display_name":"Oded Itzhaky"},"score":0,"creation_date":1673427656,"post_id":75072705,"comment_id":132494297,"body_markdown":"Do you have the server logs? Maybe there is an indication there for reason closing the port","body":"Do you have the server logs? Maybe there is an indication there for reason closing the port"}],"owner":{"account_id":27490113,"reputation":11,"user_id":20975643,"display_name":"Dimitris"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673367012,"creation_date":1673366798,"question_id":75072705,"body_markdown":"The below log messages   indicate that the connection between my client and the server is being closed by the server since i am getting &quot;Read thread is stopped for socket&quot; from the Wireshark the  message indicates that the server is closing the connection after it has sent the final &quot;ACK&quot; message indeed , the server is sending a FIN,ACK after the client sends a Capabilities-Exchange message. This suggests that the server is properly receiving the client&#39;s message, but for some reason it is not responding with a message of its own and instead is closing the connection. the localhost is my laptop ,  below is the logs \r\n\r\n    2023-01-09 13:11:43,946 INFO DictionaryImpl - Mobicents Diameter Dictionary loaded in 188ms -- Vendors[10] Commands[52] Types[20] AVPs[510]\r\n    \r\n    2023-01-09 13:11:44,044 INFO StackImpl - (-)(-)(-)(-)(-) Started Mobicents DIAMETER Stack v1.5.10.0-build639 (-)(-)(-)(-)(-)\r\n    \r\n    2023-01-09 13:11:44,544 INFO StackCreator - Diameter CLIENT :: Adding Listener for [AppId [Vendor-Id:0; Auth-Application-Id:4; Acct-Application-Id:0]].\r\n    \r\n    2023-01-09 13:11:44,547 INFO StackCreator - Diameter CLIENT :: Supporting 1 applications.\r\n    \r\n    2023-01-09 13:11:45,152 INFO NetworkGuard - Open server socket ServerSocket[addr=/127.0.0.1,localport=8080]\r\n    \r\n    2023-01-09 13:12:00,267 INFO TCPTransportClient - Read thread is stopped for socket [Socket[addr=10.10.10.113/10.10.203.113,port=3868,localport=60884]]\r\n    2023-01-09 13:12:00,267 INFO TCPTransportClient - Read thread is stopped for socket [Socket[addr=10.10.10.113/10.105.10.113,port=3868,localport=60884]]\r\n    2023-01-09 13:12:00,267 INFO TCPTransportClient - Read thread is stopped for socket [Socket[addr=10.10.10.113/10.105.10.113,port=3868,localport=60884]] \r\n\r\ndo you have any idea please\r\n\r\nI am expecting to connect to the server and send sendInitial request \r\n","title":"Read thread is stopped for socket","body":"<p>The below log messages   indicate that the connection between my client and the server is being closed by the server since i am getting &quot;Read thread is stopped for socket&quot; from the Wireshark the  message indicates that the server is closing the connection after it has sent the final &quot;ACK&quot; message indeed , the server is sending a FIN,ACK after the client sends a Capabilities-Exchange message. This suggests that the server is properly receiving the client's message, but for some reason it is not responding with a message of its own and instead is closing the connection. the localhost is my laptop ,  below is the logs</p>\n<pre><code>2023-01-09 13:11:43,946 INFO DictionaryImpl - Mobicents Diameter Dictionary loaded in 188ms -- Vendors[10] Commands[52] Types[20] AVPs[510]\n\n2023-01-09 13:11:44,044 INFO StackImpl - (-)(-)(-)(-)(-) Started Mobicents DIAMETER Stack v1.5.10.0-build639 (-)(-)(-)(-)(-)\n\n2023-01-09 13:11:44,544 INFO StackCreator - Diameter CLIENT :: Adding Listener for [AppId [Vendor-Id:0; Auth-Application-Id:4; Acct-Application-Id:0]].\n\n2023-01-09 13:11:44,547 INFO StackCreator - Diameter CLIENT :: Supporting 1 applications.\n\n2023-01-09 13:11:45,152 INFO NetworkGuard - Open server socket ServerSocket[addr=/127.0.0.1,localport=8080]\n\n2023-01-09 13:12:00,267 INFO TCPTransportClient - Read thread is stopped for socket [Socket[addr=10.10.10.113/10.10.203.113,port=3868,localport=60884]]\n2023-01-09 13:12:00,267 INFO TCPTransportClient - Read thread is stopped for socket [Socket[addr=10.10.10.113/10.105.10.113,port=3868,localport=60884]]\n2023-01-09 13:12:00,267 INFO TCPTransportClient - Read thread is stopped for socket [Socket[addr=10.10.10.113/10.105.10.113,port=3868,localport=60884]] \n</code></pre>\n<p>do you have any idea please</p>\n<p>I am expecting to connect to the server and send sendInitial request</p>\n"},{"tags":["javascript","java","angular","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1670671639,"post_id":74734533,"comment_id":131930031,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":230878,"reputation":179,"user_id":494744,"display_name":"Tommy Blackbird"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673366599,"creation_date":1673362996,"answer_id":75071885,"question_id":74734533,"body_markdown":"In my case, uninstalling de Ansi Console plugin worked for me. I got it twice, one standalone and one as dependency of M2E Chromatic.","title":"Trim Job has encountered a problem in STS","body":"<p>In my case, uninstalling de Ansi Console plugin worked for me. I got it twice, one standalone and one as dependency of M2E Chromatic.</p>\n"}],"owner":{"account_id":27192754,"reputation":1,"user_id":20726188,"display_name":"zinyaw htein"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673366599,"creation_date":1670522481,"question_id":74734533,"body_markdown":"In STS, when I click   Clear console  button , below message  appear\r\n\r\nAn internal error has occurred.\r\nclass org.eclipse.ui.internal.console.ansi.participants.AnsiPosition cannot be cast to class mnita.ansiconsole.participants.AnsiPosition (org.eclipse.ui.internal.console.ansi.participants.AnsiPosition is in unnamed module of loader org.eclipse.osgi.internal.loader.EquinoxClassLoader @6cddcab6; mnita.ansiconsole.participants.AnsiPosition is in unnamed module of loader org.eclipse.osgi.internal.loader.EquinoxClassLoader @a58f9a6)\r\n\r\n\r\nDespite various attempts, the problem is not resolved\r\n\r\n I don&#39;t want that error message to appear","title":"Trim Job has encountered a problem in STS","body":"<p>In STS, when I click   Clear console  button , below message  appear</p>\n<p>An internal error has occurred.\nclass org.eclipse.ui.internal.console.ansi.participants.AnsiPosition cannot be cast to class mnita.ansiconsole.participants.AnsiPosition (org.eclipse.ui.internal.console.ansi.participants.AnsiPosition is in unnamed module of loader org.eclipse.osgi.internal.loader.EquinoxClassLoader @6cddcab6; mnita.ansiconsole.participants.AnsiPosition is in unnamed module of loader org.eclipse.osgi.internal.loader.EquinoxClassLoader @a58f9a6)</p>\n<p>Despite various attempts, the problem is not resolved</p>\n<p>I don't want that error message to appear</p>\n"},{"tags":["java","linux","postgresql","ssl","rundeck"],"comments":[{"owner":{"account_id":9513375,"reputation":16527,"user_id":7070613,"display_name":"Adrian Klaver"},"score":1,"creation_date":1661292900,"post_id":73465276,"comment_id":129736627,"body_markdown":"1) There should be more to the error message, can you share it? 2) I am not a JAVA programmer, so this `String dbUser_tDBConnection_1 = context.DB_USER;` is not clear to me. Also I don&#39;t see where `context.DB_USER` is set? Also why not include `context.DB_USER` as part of the `url_tDBConnection_1`? Add answers as update to question.","body":"1) There should be more to the error message, can you share it? 2) I am not a JAVA programmer, so this <code>String dbUser_tDBConnection_1 = context.DB_USER;</code> is not clear to me. Also I don&#39;t see where <code>context.DB_USER</code> is set? Also why not include <code>context.DB_USER</code> as part of the <code>url_tDBConnection_1</code>? Add answers as update to question."},{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1661301061,"post_id":73465276,"comment_id":129737814,"body_markdown":"The rest of the error message will probably have the info you need.","body":"The rest of the error message will probably have the info you need."},{"owner":{"account_id":8633322,"reputation":218443,"user_id":6464308,"display_name":"Laurenz Albe"},"score":0,"creation_date":1661326588,"post_id":73465276,"comment_id":129742211,"body_markdown":"The entry in `pg_hba.conf` has to contain the *client* address, no the *server* address. This error will cause messages to be written to the PostgreSQL server log. Please show these messages. Please show all the real IP addresses, because the error may well be there.","body":"The entry in <code>pg_hba.conf</code> has to contain the <i>client</i> address, no the <i>server</i> address. This error will cause messages to be written to the PostgreSQL server log. Please show these messages. Please show all the real IP addresses, because the error may well be there."},{"owner":{"account_id":14433269,"reputation":3831,"user_id":10426011,"display_name":"MegaDrive68k"},"score":0,"creation_date":1661346916,"post_id":73465276,"comment_id":129750288,"body_markdown":"Could you test with this config? https://pastebin.com/K85Ea7pt it seems a problem with your &quot;allowed clients&quot; in your postgresql config","body":"Could you test with this config? <a href=\"https://pastebin.com/K85Ea7pt\" rel=\"nofollow noreferrer\">pastebin.com/K85Ea7pt</a> it seems a problem with your &quot;allowed clients&quot; in your postgresql config"},{"owner":{"account_id":2248347,"reputation":95,"user_id":1981195,"accept_rate":86,"display_name":"ASheppardWork"},"score":0,"creation_date":1661350035,"post_id":73465276,"comment_id":129751766,"body_markdown":"@MegaDrive68k I tried adding those lines but I get the same error message from java; and no error messages in the server log; I posted a update to show more of the error message; that I can share.","body":"@MegaDrive68k I tried adding those lines but I get the same error message from java; and no error messages in the server log; I posted a update to show more of the error message; that I can share."},{"owner":{"account_id":2248347,"reputation":95,"user_id":1981195,"accept_rate":86,"display_name":"ASheppardWork"},"score":0,"creation_date":1661350577,"post_id":73465276,"comment_id":129752006,"body_markdown":"@LaurenzAlbe The pg_hba.con has the client address; because this is running on the same server; so in this case the host and the client are the same machine.  I hope this clears up any confusion. This is all local and failing.  IF I run this same script from my laptop it works; when it&#39;s a remote connection.  I would expect the exact opposite behavior, blocking remote but allowing local. In this case it is just the opposite.","body":"@LaurenzAlbe The pg_hba.con has the client address; because this is running on the same server; so in this case the host and the client are the same machine.  I hope this clears up any confusion. This is all local and failing.  IF I run this same script from my laptop it works; when it&#39;s a remote connection.  I would expect the exact opposite behavior, blocking remote but allowing local. In this case it is just the opposite."},{"owner":{"account_id":2248347,"reputation":95,"user_id":1981195,"accept_rate":86,"display_name":"ASheppardWork"},"score":0,"creation_date":1661350670,"post_id":73465276,"comment_id":129752036,"body_markdown":"@AdrianKlaver the top of the java code is where those values are being set. as an example only.  This code works on a remote windows machine (my laptop) just fine; but only fails when run on the local sever where the postgresql db resides.","body":"@AdrianKlaver the top of the java code is where those values are being set. as an example only.  This code works on a remote windows machine (my laptop) just fine; but only fails when run on the local sever where the postgresql db resides."},{"owner":{"account_id":8633322,"reputation":218443,"user_id":6464308,"display_name":"Laurenz Albe"},"score":0,"creation_date":1661353156,"post_id":73465276,"comment_id":129753156,"body_markdown":"We need the log entries *that correspond to the error message*.","body":"We need the log entries <i>that correspond to the error message</i>."},{"owner":{"account_id":9513375,"reputation":16527,"user_id":7070613,"display_name":"Adrian Klaver"},"score":0,"creation_date":1661353939,"post_id":73465276,"comment_id":129753527,"body_markdown":"1) The code sample does not show the user value being set. 2) As @LaurenzAlbe says also show the errors as they appear in the Postgres log as your stack seems to be dropping the part of the message that shows what connection is being attempted.","body":"1) The code sample does not show the user value being set. 2) As @LaurenzAlbe says also show the errors as they appear in the Postgres log as your stack seems to be dropping the part of the message that shows what connection is being attempted."},{"owner":{"account_id":9513375,"reputation":16527,"user_id":7070613,"display_name":"Adrian Klaver"},"score":0,"creation_date":1661369924,"post_id":73465276,"comment_id":129759144,"body_markdown":"Do you see `context.DB_USER` anywhere in that?  I don&#39;t.","body":"Do you see <code>context.DB_USER</code> anywhere in that?  I don&#39;t."},{"owner":{"account_id":2248347,"reputation":95,"user_id":1981195,"accept_rate":86,"display_name":"ASheppardWork"},"score":0,"creation_date":1661376695,"post_id":73465276,"comment_id":129760843,"body_markdown":"@AdrianKlaver my apologies, been re-reading what you asked for and totally missed that.  I thought you were asking for the context.DB_NAME; it&#39;s been a long week, I&#39;ll add those to my example.","body":"@AdrianKlaver my apologies, been re-reading what you asked for and totally missed that.  I thought you were asking for the context.DB_NAME; it&#39;s been a long week, I&#39;ll add those to my example."},{"owner":{"account_id":2248347,"reputation":95,"user_id":1981195,"accept_rate":86,"display_name":"ASheppardWork"},"score":0,"creation_date":1661377556,"post_id":73465276,"comment_id":129761046,"body_markdown":"@LaurenzAlbe even after I turned on the more verbose logging; the logs don&#39;t have entries for that error; it&#39;s like it never gets that far, if that makes sense.  I only have log entries for when the connection happens.  postgresql/pgdata-11/log/postgresql-Wed.log doesn&#39;t have any entries for the failed attempts from today and neither do the other prev days.  Am I looking in the right place?","body":"@LaurenzAlbe even after I turned on the more verbose logging; the logs don&#39;t have entries for that error; it&#39;s like it never gets that far, if that makes sense.  I only have log entries for when the connection happens.  postgresql/pgdata-11/log/postgresql-Wed.log doesn&#39;t have any entries for the failed attempts from today and neither do the other prev days.  Am I looking in the right place?"},{"owner":{"account_id":8633322,"reputation":218443,"user_id":6464308,"display_name":"Laurenz Albe"},"score":0,"creation_date":1661408080,"post_id":73465276,"comment_id":129765918,"body_markdown":"No, that doesn&#39;t make sense: this error *always* produces log entries, unless you set `log_min_messages` to `FATAL` or higher. Check how logging is configured. Since this is Windows, it might go to the event log.","body":"No, that doesn&#39;t make sense: this error <i>always</i> produces log entries, unless you set <code>log_min_messages</code> to <code>FATAL</code> or higher. Check how logging is configured. Since this is Windows, it might go to the event log."},{"owner":{"account_id":2248347,"reputation":95,"user_id":1981195,"accept_rate":86,"display_name":"ASheppardWork"},"score":0,"creation_date":1661444141,"post_id":73465276,"comment_id":129779825,"body_markdown":"@LaurenzAlbe to clarify, the errors are not happening on windows, they are happening on linux, but I will double check the logging settings and put in another update, thanks.","body":"@LaurenzAlbe to clarify, the errors are not happening on windows, they are happening on linux, but I will double check the logging settings and put in another update, thanks."},{"owner":{"account_id":2248347,"reputation":95,"user_id":1981195,"accept_rate":86,"display_name":"ASheppardWork"},"score":0,"creation_date":1661457023,"post_id":73465276,"comment_id":129783830,"body_markdown":"@LaurenzAlbe I updated the logging settings and couldn&#39;t post the log here but created a gist to house it.","body":"@LaurenzAlbe I updated the logging settings and couldn&#39;t post the log here but created a gist to house it."},{"owner":{"account_id":8633322,"reputation":218443,"user_id":6464308,"display_name":"Laurenz Albe"},"score":0,"creation_date":1661495529,"post_id":73465276,"comment_id":129790202,"body_markdown":"If that is indeed the log from the time of the problem, then (since you have set `log_min_messages` to debugging) the conclusion must be that the connection attempt that caused the error in the title of your question must have been to a different PostgreSQL server.","body":"If that is indeed the log from the time of the problem, then (since you have set <code>log_min_messages</code> to debugging) the conclusion must be that the connection attempt that caused the error in the title of your question must have been to a different PostgreSQL server."},{"owner":{"account_id":2248347,"reputation":95,"user_id":1981195,"accept_rate":86,"display_name":"ASheppardWork"},"score":0,"creation_date":1661528723,"post_id":73465276,"comment_id":129801370,"body_markdown":"@LaurenzAlbe  so you and Adrian Klaver helped me see past the end of my own nose, okay, so the issue was 3 things; thing 1, we have a &#39;properties&#39; file that I thought was set to this server this db; and it wasn&#39;t // thing 2, the default logging was set to &#39;warning&#39; and didn&#39;t have enough information so after putting it to debug level 5 (the most data) and on &#39;all&#39; events; I finally saw a error message that made me realize it was pointed at the wrong db // thing 3, in the many (too many) iterations of my pg_hba.conf file I had added then removed the IP address. // now pointed and logged. lol","body":"@LaurenzAlbe  so you and Adrian Klaver helped me see past the end of my own nose, okay, so the issue was 3 things; thing 1, we have a &#39;properties&#39; file that I thought was set to this server this db; and it wasn&#39;t // thing 2, the default logging was set to &#39;warning&#39; and didn&#39;t have enough information so after putting it to debug level 5 (the most data) and on &#39;all&#39; events; I finally saw a error message that made me realize it was pointed at the wrong db // thing 3, in the many (too many) iterations of my pg_hba.conf file I had added then removed the IP address. // now pointed and logged. lol"},{"owner":{"account_id":2248347,"reputation":95,"user_id":1981195,"accept_rate":86,"display_name":"ASheppardWork"},"score":0,"creation_date":1661528761,"post_id":73465276,"comment_id":129801383,"body_markdown":"@AdrianKlaver if you and Laurenz want to split the answer; give me a couple to vote on.","body":"@AdrianKlaver if you and Laurenz want to split the answer; give me a couple to vote on."},{"owner":{"account_id":2248347,"reputation":95,"user_id":1981195,"accept_rate":86,"display_name":"ASheppardWork"},"score":0,"creation_date":1661528800,"post_id":73465276,"comment_id":129801405,"body_markdown":"Thanks everyone, sometimes if you&#39;re too close to the tracks you can&#39;t see the train","body":"Thanks everyone, sometimes if you&#39;re too close to the tracks you can&#39;t see the train"},{"owner":{"account_id":14433269,"reputation":3831,"user_id":10426011,"display_name":"MegaDrive68k"},"score":0,"creation_date":1662649707,"post_id":73465276,"comment_id":130059516,"body_markdown":"Remember to put your solution as an answer and mark it as valid. Thanks.","body":"Remember to put your solution as an answer and mark it as valid. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":2248347,"reputation":95,"user_id":1981195,"accept_rate":86,"display_name":"ASheppardWork"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673366278,"creation_date":1673366278,"answer_id":75072604,"question_id":73465276,"body_markdown":"I removed the Gist because the peeps here helped me find my error:\r\n\r\nokay, so the issue was 3 things; thing 1, we have a &#39;properties&#39; file that I thought was set to this server this db; and it wasn&#39;t // thing 2, the default logging was set to &#39;warning&#39; and didn&#39;t have enough information so after putting it to debug level 5 (the most data) and on &#39;all&#39; events; I finally saw a error message that made me realize it was pointed at the wrong db // thing 3, in the many (too many) iterations of my pg_hba.conf file I had added then removed the IP address. so now it&#39;s working, lol Sometimes you are too close to the tracks to see the train, lol","title":"org.postgresql.util.PSQLException: FATAL: no pg_hba.conf entry for host Linux error that works on Windows","body":"<p>I removed the Gist because the peeps here helped me find my error:</p>\n<p>okay, so the issue was 3 things; thing 1, we have a 'properties' file that I thought was set to this server this db; and it wasn't // thing 2, the default logging was set to 'warning' and didn't have enough information so after putting it to debug level 5 (the most data) and on 'all' events; I finally saw a error message that made me realize it was pointed at the wrong db // thing 3, in the many (too many) iterations of my pg_hba.conf file I had added then removed the IP address. so now it's working, lol Sometimes you are too close to the tracks to see the train, lol</p>\n"}],"owner":{"account_id":2248347,"reputation":95,"user_id":1981195,"accept_rate":86,"display_name":"ASheppardWork"},"comment_count":20,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":877,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75072604,"answer_count":1,"score":0,"last_activity_date":1673366278,"creation_date":1661290578,"question_id":73465276,"body_markdown":"I have looked at many (too many) similar questions here and tried over and over to solve this one but I can&#39;t quite get it to resolve.\r\n\r\nI have a java code that connects to a PostGreSQL server on a RHEL 8.2 box to query and return a value.  When I run it on my Windows 10 laptop; it works with no issues.  However, when I run it locally on the Linux box it fails with the dreaded org.postgresql.util.PSQLException: FATAL: no pg_hba.conf entry for host.\r\n\r\nThe java code is made by a ETL software called Talend; and the code is run on Linux by RunDeck.\r\n\r\nTo make matters more confusing, I can login on Linux as the postgres user and use the psql interface to connect to the db with the same host, port, db, and user I&#39;m using in Java without error-\r\n\r\n```psql -h [server ip] -p 5432 -d my_special_db -U my_db_user```\r\n\r\nI have checked the server settings, the pg_hba.conf file, the user permissions, the log files and tried changing all of the above to get some sort of return; all to no avail.\r\n\r\nI have added to pg_hba.conf:\r\n```\r\nhost    my_special_db        my_db_user        [server ip]/32      md5\r\nhost    my_special_db        my_db_user        [server ip with .0 as the last quatraine]/24      md5\r\n\r\nhost    my_special_db        root        ::1/128      trust\r\nhost    all        all        [server ip]/32      trust\r\n```\r\n\r\nI have tried multiple connection modifiers like:\r\n```\r\nsslfactory=org.postgresql.ssl.NonValidatingFactory&amp;sslmode=prefer\r\nor\r\nsslmode=prefer\r\nor\r\nsslmode=Require\r\nor\r\nno modifier at all\r\n```\r\n\r\nPlease advise.\r\n\r\nDetails:\r\n\r\nOS\r\nNAME : Linux RHEL 8.2\r\n\r\nVERSION : 4.18.0-372.16.1.el8_6.x86_64\r\n\r\nJVM\r\n\r\nIMPLEMENTATIONVERSION : 11.0.15+9-LTS\r\n\r\nNAME : OpenJDK 64-Bit Server VM\r\n\r\nVENDOR : Amazon.com Inc.\r\n\r\nVERSION : 11.0.15\r\n\r\nPostGreSQL\r\n\r\npostgresql11-libs-11.7-1PGDG.rhel8.x86_64.rpm \\\r\n\r\npostgresql11-11.7-1PGDG.rhel8.x86_64.rpm \\\r\n\r\npostgresql11-server-11.7-1PGDG.rhel8.x86_64.rpm\r\n\r\nUnder server &gt; properties &gt; SSL\r\n\r\nAll Defaults:\r\n\r\nSSL Mode: Prefer\r\n\r\nClient Cert: [blank]\r\n\r\nClient Cert Key: [blank]\r\n\r\nRoot Cert: [blank]\r\n\r\nCert Rev List: [blank]\r\n\r\nSSL compression?: no\r\n\r\n```\r\n//////////////////\r\nUnder /etc/systemd/system/postgresql-11.service\r\n\r\n[Unit]\r\nDescription=PostgreSQL 11 database server\r\nDocumentation=https://www.postgresql.org/docs/11/static/\r\nAfter=syslog.target\r\nAfter=network.target\r\n\r\n[Service]\r\nType=notify\r\n\r\nUser=postgres\r\nGroup=postgres\r\n\r\n# Note: avoid inserting whitespace in these Environment= lines, or you may\r\n# break postgresql-setup.\r\n\r\n# Location of database directory\r\nEnvironment=PGDATA=[my data directory path]\r\n\r\n# Where to send early-startup messages from the server (before the logging\r\n# options of postgresql.conf take effect)\r\n# This is normally controlled by the global default set by systemd\r\n# StandardOutput=syslog\r\n\r\n# Disable OOM kill on the postmaster\r\nOOMScoreAdjust=-1000\r\nEnvironment=PG_OOM_ADJUST_FILE=/proc/self/oom_score_adj\r\nEnvironment=PG_OOM_ADJUST_VALUE=0\r\n\r\nExecStartPre=[path to server]/pgsql-11/bin/postgresql-11-check-db-dir ${PGDATA}\r\nExecStart=[path to server]/pgsql-11/bin/postgres -D ${PGDATA}\r\n#ExecReload=/bin/kill -HUP $MAINPID\r\nKillMode=mixed\r\nKillSignal=SIGINT\r\n \r\n\r\n# Do not set any timeout value, so that systemd will not kill postmaster\r\n# during crash recovery.\r\nTimeoutSec=0\r\n\r\n[Install]\r\nWantedBy=multi-user.target\r\n\r\n\r\n[Service]\r\nEnvironment=PGDATA=[my data directory path]\r\n\r\n//////////////////\r\n```\r\n\r\n```\r\n//////////////////\r\n\r\nTop of the pg_hba.conf file:\r\n\r\n# TYPE  DATABASE        USER            ADDRESS                 METHOD\r\n\r\n# linux requires a &#39;local&#39; entry\r\n#local all all md5\r\n\r\nlocal    all             all                     md5\r\n\r\n# IPv4 local connections:\r\n\r\nhost    all        all        0.0.0.0/0      md5\r\n\r\n# IPv6 local connections:\r\n\r\nhost    all        all        ::0/0      md5\r\n\r\n# no ssl connection\r\n\r\nhostnossl    all        all        0.0.0.0/0      trust\r\n\r\n# IPv4 local connections:\r\n\r\nhostnossl    all        all        127.0.0.1/32      md5\r\n\r\n# IPv6 local connections:\r\n\r\nhostnossl    all        all        ::1/128      md5\r\n\r\n# Allow replication connections from localhost, by a user with the\r\n# replication privilege.\r\n\r\nhost    replication        all        127.0.0.1/32      md5\r\nhost    replication        all        ::1/128      md5\r\n\r\n# This Servers IP and Ranges as Talend doesn&#39;t use localhost\r\n\r\nhost    postgres        postgres        [server ip]/32      md5\r\nhost    postgres        all             [server ip with .0 as the last quatraine]/24        md5\r\nhost    all             postgres        [server ip]/32      md5\r\nhost    all             all             [server ip with .0 as the last quatraine]/24        md5\r\n\r\nhost    my_special_db        my_db_user        [server ip]/32      md5\r\nhost    my_special_db        my_db_user        [server ip with .0 as the last quatraine]/24      md5\r\n\r\nhost    my_special_db        root        ::1/128      trust\r\nhost    all        all        [server ip]/32      trust\r\n\r\n//////////////////\r\n```\r\n\r\n```\r\n//////////////////\r\n\r\nPart of My Java Code:\r\n\r\n\r\n\r\nconn_tDBInput_1 = (java.sql.Connection) globalMap.get(&quot;conn_tDBConnection_2&quot;);\r\n\r\njava.sql.Statement stmt_tDBInput_1 = conn_tDBInput_1.createStatement();\r\n\r\nString dbquery_tDBInput_1 = &quot;\\n(SELECT ID AS \\&quot;id\\&quot;\\n, ATTRIBUTE AS \\&quot;attribute\\&quot;\\n, DEFINITION AS \\&quot;definition\\&quot;\\n, DESCRIPTION AS \\&quot;description\\&quot;&quot;\r\n\t\t+ &quot;\\nFROM &quot; + context.SEC_DB_SCHEMA + &quot;.&quot; + context.SEC_DB_TABLE\r\n\t\t+ &quot;\\nWHERE \\&quot;description\\&quot; = &#39;my_filter_here&#39;\\nLIMIT 1);\\n\\n&quot;;\r\n\r\nglobalMap.put(&quot;tDBInput_1_QUERY&quot;, dbquery_tDBInput_1);\r\njava.sql.ResultSet rs_tDBInput_1 = null;\r\n\r\ntry {\r\n\trs_tDBInput_1 = stmt_tDBInput_1.executeQuery(dbquery_tDBInput_1);\r\n\tjava.sql.ResultSetMetaData rsmd_tDBInput_1 = rs_tDBInput_1.getMetaData();\r\n\tint colQtyInRs_tDBInput_1 = rsmd_tDBInput_1.getColumnCount();\r\n\r\n\tString tmpContent_tDBInput_1 = null;\r\n\r\n\twhile (rs_tDBInput_1.next()) {\r\n\t\tnb_line_tDBInput_1++;\r\n\r\n\t\tif (colQtyInRs_tDBInput_1 &lt; 1) {\r\n\t\t\trow1.ID = 0;\r\n\t\t} else {\r\n\r\n\t\t\trow1.ID = rs_tDBInput_1.getInt(1);\r\n\t\t\tif (rs_tDBInput_1.wasNull()) {\r\n\t\t\t\tthrow new RuntimeException(&quot;Null value in non-Nullable column&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (colQtyInRs_tDBInput_1 &lt; 2) {\r\n\t\t\trow1.ATTRIBUTE = null;\r\n\t\t} else {\r\n\r\n\t\t\trow1.ATTRIBUTE = routines.system.JDBCUtil.getString(rs_tDBInput_1, 2, false);\r\n\t\t}\r\n\t\tif (colQtyInRs_tDBInput_1 &lt; 3) {\r\n\t\t\trow1.DEFINITION = null;\r\n\t\t} else {\r\n\r\n\t\t\trow1.DEFINITION = routines.system.JDBCUtil.getString(rs_tDBInput_1, 3, false);\r\n\t\t}\r\n\t\tif (colQtyInRs_tDBInput_1 &lt; 4) {\r\n\t\t\trow1.DESCRIPTION = null;\r\n\t\t} else {\r\n\r\n\t\t\trow1.DESCRIPTION = routines.system.JDBCUtil.getString(rs_tDBInput_1, 4, false);\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * [tDBInput_1 begin ] stop\r\n\t\t */\r\n\r\n\t\t/**\r\n\t\t * [tDBInput_1 main ] start\r\n\t\t */\r\n\r\n\t\tcurrentComponent = &quot;tDBInput_1&quot;;\r\n\r\n\t\ttos_count_tDBInput_1++;\r\n\r\n\t\t/**\r\n\t\t * [tDBInput_1 main ] stop\r\n\t\t */\r\n\r\n\t\t/**\r\n\t\t * [tDBInput_1 process_data_begin ] start\r\n\t\t */\r\n\r\n\t\tcurrentComponent = &quot;tDBInput_1&quot;;\r\n\r\n\t\t/**\r\n\t\t * [tDBInput_1 process_data_begin ] stop\r\n\t\t */\r\n\r\n\t\t/**\r\n\t\t * [tReplicate_1 main ] start\r\n\t\t */\r\n\r\n\t\tcurrentComponent = &quot;tReplicate_1&quot;;\r\n\r\n\t\tif (execStat) {\r\n\t\t\trunStat.updateStatOnConnection(iterateId, 1, 1\r\n\r\n\t\t\t\t\t, &quot;row1&quot;\r\n\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\trow5 = new row5Struct();\r\n\r\n\r\nrow5.ID = row1.ID;\r\nrow5.ATTRIBUTE = row1.ATTRIBUTE;\r\nrow5.DEFINITION = row1.DEFINITION;\r\nrow5.DESCRIPTION = row1.DESCRIPTION;\r\n\r\nglobalMap.put(&quot;row5.ATTRIBUTE&quot;, row5.ATTRIBUTE);\r\nglobalMap.put(&quot;row5.DEFINITION&quot;, row5.DEFINITION);\r\n\r\n// Set Reports DB values\r\n\r\ncontext.DB_HOST = [my_server_ip];\r\ncontext.DB_NAME = [my_db];\r\ncontext.DB_PORT = 5432;\r\n// This will have to be changed for each tower will have it&#39;s own &#39;reports&#39; table\r\ncontext.DB_SCHEMA = &quot;my_schema&quot;;\r\ncontext.DB_TABLE = &quot;my_table&quot;;\r\n\r\ncontext.DB_USER = (String)(globalMap.get(&quot;row5.ATTRIBUTE&quot;));\r\ncontext.DB_PWD = (String)(globalMap.get(&quot;row5.DEFINITION&quot;));\r\n\r\n//------------\r\n\r\n\tcurrentComponent=&quot;tDBConnection_1&quot;;\r\n\r\n\t\r\n\t\tint tos_count_tDBConnection_1 = 0;\r\n\t\t\r\n\r\n\r\n\t\r\n            String dbProperties_tDBConnection_1 = &quot;sslfactory=org.postgresql.ssl.NonValidatingFactory&amp;sslmode=prefer&quot;;\r\n            String url_tDBConnection_1 = &quot;jdbc:postgresql://&quot;+context.DB_HOST+&quot;:&quot;+context.DB_PORT+&quot;/&quot;+context.DB_NAME;\r\n            \r\n            if(dbProperties_tDBConnection_1 != null &amp;&amp; !&quot;&quot;.equals(dbProperties_tDBConnection_1.trim())) {\r\n                url_tDBConnection_1 = url_tDBConnection_1 + &quot;?&quot; + dbProperties_tDBConnection_1;\r\n            }\r\n\tString dbUser_tDBConnection_1 = context.DB_USER;\r\n\t\r\n//////////////////\r\n```\r\n\r\n```\r\n//////////////////\r\n\r\nLog entry from the time of trying to connect both locally and remotely-\r\n\r\n2022-08-23 15:20:45.452 EDT [67687] LOG:  database system is ready to accept connections\r\n2022-08-23 15:22:00.719 EDT [67687] LOG:  received fast shutdown request\r\n2022-08-23 15:22:00.720 EDT [67687] LOG:  aborting any active transactions\r\n2022-08-23 15:22:00.722 EDT [67687] LOG:  background worker &quot;logical replication launcher&quot; (PID 67696) exited with exit code 1\r\n2022-08-23 15:22:00.722 EDT [67691] LOG:  shutting down\r\n2022-08-23 15:22:00.754 EDT [67687] LOG:  database system is shut down\r\n2022-08-23 15:22:00.814 EDT [67739] LOG:  database system was shut down at 2022-08-23 15:22:00 EDT\r\n2022-08-23 15:22:00.818 EDT [67735] LOG:  database system is ready to accept connections\r\n2022-08-23 15:52:25.666 EDT [67735] LOG:  received fast shutdown request\r\n2022-08-23 15:52:25.668 EDT [67735] LOG:  aborting any active transactions\r\n2022-08-23 15:52:25.669 EDT [67735] LOG:  background worker &quot;logical replication launcher&quot; (PID 67745) exited with exit code 1\r\n2022-08-23 15:52:25.669 EDT [67740] LOG:  shutting down\r\n2022-08-23 15:52:25.692 EDT [67735] LOG:  database system is shut down\r\n2022-08-23 15:52:34.188 EDT [79803] LOG:  database system was shut down at 2022-08-23 15:52:25 EDT\r\n2022-08-23 15:52:34.194 EDT [79801] LOG:  database system is ready to accept connections\r\n\r\n//////////////////////////////////////\r\n```\r\n\r\n\r\nUPDATE:\r\nHere is a much of the java error message as I can share; given some of the restrictions on what I can post;\r\n\r\n```\r\nerror message :: FATAL: no pg_hba.conf entry for host &quot;[my_server_ip]&quot;, user &quot;my_db_user&quot;, database &quot;my_db&quot;, SSL off|4\r\nException in component tDBConnection_2 (Generic_Talend_Job)\r\norg.postgresql.util.PSQLException: FATAL: no pg_hba.conf entry for host &quot;[my_server_ip]&quot;, user &quot;my_db_user&quot;, database &quot;my_db&quot;, SSL off\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:613)\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:161)\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:213)\r\n\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51)\r\n\tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223)\r\n\tat org.postgresql.Driver.makeConnection(Driver.java:465)\r\n\tat org.postgresql.Driver.connect(Driver.java:264)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)\r\n\tat local_project.generic_talend_job_0_1.Generic_Talend_Job.tDBConnection_2Process(Generic_Talend_Job.java:5752)\r\n\tat local_project.generic_talend_job_0_1.Generic_Talend_Job.tSystem_1Process(Generic_Talend_Job.java:5614)\r\n\tat local_project.generic_talend_job_0_1.Generic_Talend_Job.tJava_3Process(Generic_Talend_Job.java:5342)\r\n\tat local_project.generic_talend_job_0_1.Generic_Talend_Job.tWarn_1Process(Generic_Talend_Job.java:5094)\r\n\tat local_project.generic_talend_job_0_1.Generic_Talend_Job.tFileInputDelimited_1Process(Generic_Talend_Job.java:4851)\r\n\tat local_project.generic_talend_job_0_1.Generic_Talend_Job.tLibraryLoad_1Process(Generic_Talend_Job.java:4089)\r\n\tat local_project.generic_talend_job_0_1.Generic_Talend_Job.tPrejob_1Process(Generic_Talend_Job.java:3856)\r\n\tat local_project.generic_talend_job_0_1.Generic_Talend_Job.runJobInTOS(Generic_Talend_Job.java:11916)\r\n\tat local_project.generic_talend_job_0_1.Generic_Talend_Job.main(Generic_Talend_Job.java:11245)\r\n\tSuppressed: org.postgresql.util.PSQLException: FATAL: no pg_hba.conf entry for host &quot;[my_server_ip]&quot;, user &quot;my_db_user&quot;, database &quot;my_db&quot;, SSL off\r\n\t\tat org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:613)\r\n\t\tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:161)\r\n\t\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:222)\r\n\t\t... 15 more\r\nsec db connection failure, error message :: FATAL: no pg_hba.conf entry for host &quot;[my_server_ip]&quot;, user &quot;my_db_user&quot;, database &quot;my_db&quot;, SSL off\r\n```\r\n\r\nUpdate 2:\r\nEntry from this mornings logs at /data_folder/log after trying again and getting the same error\r\n\r\n```\r\n[postgres@my_server_name log]$ vim postgresql-Wed.log\r\n2022-08-24 10:00:17.714 EDT [79801] LOG:  received fast shutdown request\r\n2022-08-24 10:00:17.717 EDT [79801] LOG:  aborting any active transactions\r\n2022-08-24 10:00:17.717 EDT [508177] FATAL:  terminating connection due to administrator command\r\n2022-08-24 10:00:17.717 EDT [508176] FATAL:  terminating connection due to administrator command\r\n2022-08-24 10:00:17.718 EDT [79801] LOG:  background worker &quot;logical replication launcher&quot; (PID 79809) exited with exit code 1\r\n2022-08-24 10:00:17.718 EDT [79804] LOG:  shutting down\r\n2022-08-24 10:00:17.740 EDT [79801] LOG:  database system is shut down\r\n2022-08-24 10:00:35.780 EDT [513920] LOG:  database system was shut down at 2022-08-24 10:00:17 EDT\r\n2022-08-24 10:00:35.788 EDT [513918] LOG:  database system is ready to accept connections\r\n```\r\n\r\n\r\nUpdate 3:\r\n\r\nFrom the postgresql.conf file:\r\n\r\n```\r\n#------------------------------------------------------------------------------\r\n# CONNECTIONS AND AUTHENTICATION\r\n#------------------------------------------------------------------------------\r\n\r\n# - Connection Settings -\r\n\r\nlisten_addresses = &#39;*&#39;\t\t# what IP address(es) to listen on;\r\n\t\t\t\t\t# comma-separated list of addresses;\r\n\t\t\t\t\t# defaults to &#39;localhost&#39;; use &#39;*&#39; for all\r\n\t\t\t\t\t# (change requires restart)\r\nport = 5432\t\t\t\t# (change requires restart)\r\nmax_connections = 100\t\t\t# (change requires restart)\r\n#superuser_reserved_connections = 3\t# (change requires restart)\r\n#unix_socket_directories = &#39;/var/run/postgresql, /tmp&#39;\t# comma-separated list of directories\r\n\t\t\t\t\t# (change requires restart)\r\n#unix_socket_group = &#39;&#39;\t\t\t# (change requires restart)\r\n#unix_socket_permissions = 0777\t\t# begin with 0 to use octal notation\r\n\t\t\t\t\t# (change requires restart)\r\n#bonjour = off\t\t\t\t# advertise server via Bonjour\r\n\t\t\t\t\t# (change requires restart)\r\n#bonjour_name = &#39;&#39;\t\t\t# defaults to the computer name\r\n\t\t\t\t\t# (change requires restart)\r\n\r\n# - TCP Keepalives -\r\n# see &quot;man 7 tcp&quot; for details\r\n\r\n#tcp_keepalives_idle = 0\t\t# TCP_KEEPIDLE, in seconds;\r\n\t\t\t\t\t# 0 selects the system default\r\n#tcp_keepalives_interval = 0\t\t# TCP_KEEPINTVL, in seconds;\r\n\t\t\t\t\t# 0 selects the system default\r\n#tcp_keepalives_count = 0\t\t# TCP_KEEPCNT;\r\n\t\t\t\t\t# 0 selects the system default\r\n\r\n# - Authentication -\r\n\r\n#authentication_timeout = 1min\t\t# 1s-600s\r\n#password_encryption = md5\t\t# md5 or scram-sha-256\r\n#db_user_namespace = off\r\n\r\n# GSSAPI using Kerberos\r\n#krb_server_keyfile = &#39;&#39;\r\n#krb_caseins_users = off\r\n\r\n# - SSL -\r\n\r\n#ssl = off\r\n#ssl_ca_file = &#39;&#39;\r\n#ssl_cert_file = &#39;server.crt&#39;\r\n#ssl_crl_file = &#39;&#39;\r\n#ssl_key_file = &#39;server.key&#39;\r\n#ssl_ciphers = &#39;HIGH:MEDIUM:+3DES:!aNULL&#39; # allowed SSL ciphers\r\n#ssl_prefer_server_ciphers = on\r\n#ssl_ecdh_curve = &#39;prime256v1&#39;\r\n#ssl_dh_params_file = &#39;&#39;\r\n#ssl_passphrase_command = &#39;&#39;\r\n#ssl_passphrase_command_supports_reload = off\r\n```\r\n\r\nUpdate 4:\r\n\r\nAfter doing some more searching, I have found that the default for the postgres logging isn&#39;t verbose; so this is the verbose part:\r\n\r\n```\r\n[636130] [630676b4.9b4e2] [2022-08-24 15:06:28.850 EDT] [] [F0000] [] [] [] [] [] [7] [0]:  LOG:  hostssl record cannot match because SSL is disabled\r\n[636130] [630676b4.9b4e2] [2022-08-24 15:06:28.850 EDT] [] [F0000] [] [] [] [] [] [8] [0]:  HINT:  Set ssl = on in postgresql.conf.\r\n[636130] [630676b4.9b4e2] [2022-08-24 15:06:28.850 EDT] [] [F0000] [] [] [] [] [] [9] [0]:  CONTEXT:  line 103 of configuration file &quot;[data folder path]/pg_hba.conf&quot;\r\n[636132] [630676b4.9b4e4] [2022-08-24 15:06:28.854 EDT] [] [00000] [] [] [] [] [] [1] [0]:  LOG:  database system was shut down at 2022-08-24 15:06:18 EDT\r\n[636130] [630676b4.9b4e2] [2022-08-24 15:06:28.859 EDT] [] [00000] [] [] [] [] [] [10] [0]:  LOG:  database system is ready to accept connections\r\n```\r\n\r\nI have gotten this error even after the following updates-\r\n\r\nupdate to the postgresql.conf file:\r\n\r\n```\r\nedit 1\r\nssl = off\r\nedit 2\r\nssl = on\r\nedit 3\r\n#ssl = off\r\n```\r\n updated the log level in the postgresql.conf file to\r\n\r\n```\r\nlog_line_prefix = &#39;[%p] [%c] [%m] [%v] [%e] [%i] [%d] [%u] [%a] [%r] [%l] [%x]:  &#39;\t\r\n...\r\nlog_statement = &#39;all&#39;\t\r\n```\r\n\r\nupdated the pg_hba.conf file to start with:\r\n\r\n```\r\n# Allow any user on the local system to connect to any database with\r\n# any database user name using Unix-domain sockets (the default for local\r\n# connections).\r\n#\r\n# TYPE  DATABASE        USER            ADDRESS                 METHOD\r\nlocal   all             all                                     trust\r\n\r\n# The same using local loopback TCP/IP connections.\r\n#\r\n# TYPE  DATABASE        USER            ADDRESS                 METHOD\r\nhost    all             all             127.0.0.1/32            trust\r\n\r\n# The same as the previous line, but using a separate netmask column\r\n#\r\n# TYPE  DATABASE        USER            IP-ADDRESS      IP-MASK             METHOD\r\nhost    all             all             127.0.0.1       255.255.255.255     trust\r\n\r\n# The same over IPv6.\r\n#\r\n# TYPE  DATABASE        USER            ADDRESS                 METHOD\r\nhost    all             all             ::1/128                 trust\r\n\r\n# The same using a host name (would typically cover both IPv4 and IPv6).\r\n#\r\n# TYPE  DATABASE        USER            ADDRESS                 METHOD\r\nhost    all             all             localhost               trust\r\nhostssl    all        all        0.0.0.0/0      md5\r\n```\r\n\r\nalso updated the connection params with-\r\n\r\n```\r\nsslfactory=org.postgresql.ssl.NonValidatingFactory\r\n```\r\n\r\nAccording to postgres this is supposed to stop any and all SSL issues and just let the connections through-\r\n\r\nhttps://jdbc.postgresql.org/documentation/head/ssl-client.html\r\n\r\n&quot;A non-validating connection is established via a custom SSLSocketFactory class that is provided with the driver. Setting the connection URL parameter sslfactory=org.postgresql.ssl.NonValidatingFactory will turn off all SSL validation.&quot;\r\n\r\nUpdate 5:\r\n\r\nLogging settings from postgresql.conf file:\r\n\r\n```\r\n#------------------------------------------------------------------------------\r\n# REPORTING AND LOGGING\r\n#------------------------------------------------------------------------------\r\n\r\n# - Where to Log -\r\n\r\nlog_destination = &#39;stderr&#39;\t\t# Valid values are combinations of\r\n\t\t\t\t\t# stderr, csvlog, syslog, and eventlog,\r\n\t\t\t\t\t# depending on platform.  csvlog\r\n\t\t\t\t\t# requires logging_collector to be on.\r\n\r\n# This is used when logging to stderr:\r\nlogging_collector = on\t\t\t# Enable capturing of stderr and csvlog\r\n\t\t\t\t\t# into log files. Required to be on for\r\n\t\t\t\t\t# csvlogs.\r\n\t\t\t\t\t# (change requires restart)\r\n\r\n# These are only used if logging_collector is on:\r\nlog_directory = &#39;log&#39;\t\t\t# directory where log files are written,\r\n\t\t\t\t\t# can be absolute or relative to PGDATA\r\nlog_filename = &#39;postgresql-%a.log&#39;\t# log file name pattern,\r\n\t\t\t\t\t# can include strftime() escapes\r\n#log_file_mode = 0600\t\t\t# creation mode for log files,\r\n\t\t\t\t\t# begin with 0 to use octal notation\r\nlog_truncate_on_rotation = on\t\t# If on, an existing log file with the\r\n\t\t\t\t\t# same name as the new log file will be\r\n\t\t\t\t\t# truncated rather than appended to.\r\n\t\t\t\t\t# But such truncation only occurs on\r\n\t\t\t\t\t# time-driven rotation, not on restarts\r\n\t\t\t\t\t# or size-driven rotation.  Default is\r\n\t\t\t\t\t# off, meaning append to existing files\r\n\t\t\t\t\t# in all cases.\r\nlog_rotation_age = 1d\t\t\t# Automatic rotation of logfiles will\r\n\t\t\t\t\t# happen after that time.  0 disables.\r\nlog_rotation_size = 0\t\t\t# Automatic rotation of logfiles will\r\n\t\t\t\t\t# happen after that much log output.\r\n\t\t\t\t\t# 0 disables.\r\n\r\n# These are relevant when logging to syslog:\r\n#syslog_facility = &#39;LOCAL0&#39;\r\n#syslog_ident = &#39;postgres&#39;\r\n#syslog_sequence_numbers = on\r\n#syslog_split_messages = on\r\n\r\n# This is only relevant when logging to eventlog (win32):\r\n# (change requires restart)\r\n#event_source = &#39;PostgreSQL&#39;\r\n\r\n# - When to Log -\r\n\r\n#log_min_messages = warning\t\t# values in order of decreasing detail:\r\n\t\t\t\t\t#   debug5\r\n\t\t\t\t\t#   debug4\r\n\t\t\t\t\t#   debug3\r\n\t\t\t\t\t#   debug2\r\n\t\t\t\t\t#   debug1\r\n\t\t\t\t\t#   info\r\n\t\t\t\t\t#   notice\r\n\t\t\t\t\t#   warning\r\n\t\t\t\t\t#   error\r\n\t\t\t\t\t#   log\r\n\t\t\t\t\t#   fatal\r\n\t\t\t\t\t#   panic\r\n\r\n#log_min_error_statement = error\t# values in order of decreasing detail:\r\n\t\t\t\t\t#   debug5\r\n\t\t\t\t\t#   debug4\r\n\t\t\t\t\t#   debug3\r\n\t\t\t\t\t#   debug2\r\n\t\t\t\t\t#   debug1\r\n\t\t\t\t\t#   info\r\n\t\t\t\t\t#   notice\r\n\t\t\t\t\t#   warning\r\n\t\t\t\t\t#   error\r\n\t\t\t\t\t#   log\r\n\t\t\t\t\t#   fatal\r\n\t\t\t\t\t#   panic (effectively off)\r\n\r\n#log_min_duration_statement = -1\t# -1 is disabled, 0 logs all statements\r\n\t\t\t\t\t# and their durations, &gt; 0 logs only\r\n\t\t\t\t\t# statements running at least this number\r\n\t\t\t\t\t# of milliseconds\r\n\r\n\r\n# - What to Log -\r\n\r\n#debug_print_parse = off\r\n#debug_print_rewritten = off\r\n#debug_print_plan = off\r\n#debug_pretty_print = on\r\n#log_checkpoints = off\r\n#log_connections = off\r\n#log_disconnections = off\r\n#log_duration = off\r\n#log_error_verbosity = default\t\t# terse, default, or verbose messages\r\n#log_hostname = off\r\nlog_line_prefix = &#39;[%p] [%c] [%m] [%v] [%e] [%i] [%d] [%u] [%a] [%r] [%l] [%x]:  &#39;\t\t# special values:\r\n\t\t\t\t\t#   %a = application name\r\n\t\t\t\t\t#   %u = user name\r\n\t\t\t\t\t#   %d = database name\r\n\t\t\t\t\t#   %r = remote host and port\r\n\t\t\t\t\t#   %h = remote host\r\n\t\t\t\t\t#   %p = process ID\r\n\t\t\t\t\t#   %t = timestamp without milliseconds\r\n\t\t\t\t\t#   %m = timestamp with milliseconds\r\n\t\t\t\t\t#   %n = timestamp with milliseconds (as a Unix epoch)\r\n\t\t\t\t\t#   %i = command tag\r\n\t\t\t\t\t#   %e = SQL state\r\n\t\t\t\t\t#   %c = session ID\r\n\t\t\t\t\t#   %l = session line number\r\n\t\t\t\t\t#   %s = session start timestamp\r\n\t\t\t\t\t#   %v = virtual transaction ID\r\n\t\t\t\t\t#   %x = transaction ID (0 if none)\r\n\t\t\t\t\t#   %q = stop here in non-session\r\n\t\t\t\t\t#        processes\r\n\t\t\t\t\t#   %% = &#39;%&#39;\r\n\t\t\t\t\t# e.g. &#39;&lt;%u%%%d&gt; &#39;\r\n#log_lock_waits = off\t\t\t# log lock waits &gt;= deadlock_timeout\r\nlog_statement = &#39;all&#39;\t\t\t# none, ddl, mod, all\r\n#log_replication_commands = off\r\n#log_temp_files = -1\t\t\t# log temporary files equal or larger\r\n\t\t\t\t\t# than the specified size in kilobytes;\r\n\t\t\t\t\t# -1 disables, 0 logs all temp files\r\nlog_timezone = &#39;America/New_York&#39;\r\n```\r\n\r\nUpdate 6:\r\n\r\nI made edits to the logging part of the config, and now have a lot of output from the log\r\n\r\nnew logging settings:\r\n```\r\n#------------------------------------------------------------------------------\r\n# REPORTING AND LOGGING\r\n#------------------------------------------------------------------------------\r\n\r\n# - Where to Log -\r\n\r\nlog_destination = &#39;stderr&#39;\t\t# Valid values are combinations of\r\n\t\t\t\t\t# stderr, csvlog, syslog, and eventlog,\r\n\t\t\t\t\t# depending on platform.  csvlog\r\n\t\t\t\t\t# requires logging_collector to be on.\r\n\r\n# This is used when logging to stderr:\r\nlogging_collector = on\t\t\t# Enable capturing of stderr and csvlog\r\n\t\t\t\t\t# into log files. Required to be on for\r\n\t\t\t\t\t# csvlogs.\r\n\t\t\t\t\t# (change requires restart)\r\n\r\n# These are only used if logging_collector is on:\r\nlog_directory = &#39;log&#39;\t\t\t# directory where log files are written,\r\n\t\t\t\t\t# can be absolute or relative to PGDATA\r\nlog_filename = &#39;postgresql-%a.log&#39;\t# log file name pattern,\r\n\t\t\t\t\t# can include strftime() escapes\r\n#log_file_mode = 0600\t\t\t# creation mode for log files,\r\n\t\t\t\t\t# begin with 0 to use octal notation\r\nlog_truncate_on_rotation = on\t\t# If on, an existing log file with the\r\n\t\t\t\t\t# same name as the new log file will be\r\n\t\t\t\t\t# truncated rather than appended to.\r\n\t\t\t\t\t# But such truncation only occurs on\r\n\t\t\t\t\t# time-driven rotation, not on restarts\r\n\t\t\t\t\t# or size-driven rotation.  Default is\r\n\t\t\t\t\t# off, meaning append to existing files\r\n\t\t\t\t\t# in all cases.\r\nlog_rotation_age = 1d\t\t\t# Automatic rotation of logfiles will\r\n\t\t\t\t\t# happen after that time.  0 disables.\r\nlog_rotation_size = 0\t\t\t# Automatic rotation of logfiles will\r\n\t\t\t\t\t# happen after that much log output.\r\n\t\t\t\t\t# 0 disables.\r\n\r\n# These are relevant when logging to syslog:\r\n#syslog_facility = &#39;LOCAL0&#39;\r\n#syslog_ident = &#39;postgres&#39;\r\n#syslog_sequence_numbers = on\r\n#syslog_split_messages = on\r\n\r\n# This is only relevant when logging to eventlog (win32):\r\n# (change requires restart)\r\n#event_source = &#39;PostgreSQL&#39;\r\n\r\n# - When to Log -\r\n\r\nlog_min_messages = debug5\t\t# values in order of decreasing detail:\r\n\t\t\t\t\t#   debug5\r\n\t\t\t\t\t#   debug4\r\n\t\t\t\t\t#   debug3\r\n\t\t\t\t\t#   debug2\r\n\t\t\t\t\t#   debug1\r\n\t\t\t\t\t#   info\r\n\t\t\t\t\t#   notice\r\n\t\t\t\t\t#   warning\r\n\t\t\t\t\t#   error\r\n\t\t\t\t\t#   log\r\n\t\t\t\t\t#   fatal\r\n\t\t\t\t\t#   panic\r\n\r\nlog_min_error_statement = debug5\t# values in order of decreasing detail:\r\n\t\t\t\t\t#   debug5\r\n\t\t\t\t\t#   debug4\r\n\t\t\t\t\t#   debug3\r\n\t\t\t\t\t#   debug2\r\n\t\t\t\t\t#   debug1\r\n\t\t\t\t\t#   info\r\n\t\t\t\t\t#   notice\r\n\t\t\t\t\t#   warning\r\n\t\t\t\t\t#   error\r\n\t\t\t\t\t#   log\r\n\t\t\t\t\t#   fatal\r\n\t\t\t\t\t#   panic (effectively off)\r\n\r\nlog_min_duration_statement = 0\t# -1 is disabled, 0 logs all statements\r\n\t\t\t\t\t# and their durations, &gt; 0 logs only\r\n\t\t\t\t\t# statements running at least this number\r\n\t\t\t\t\t# of milliseconds\r\n\r\n\r\n# - What to Log -\r\n\r\n#debug_print_parse = off\r\n#debug_print_rewritten = off\r\n#debug_print_plan = off\r\n#debug_pretty_print = on\r\n#log_checkpoints = off\r\nlog_connections = on\r\nlog_disconnections = on\r\n#log_duration = off\r\nlog_error_verbosity = verbose\t\t# terse, default, or verbose messages\r\nlog_hostname = on\r\nlog_line_prefix = &#39;[%p] [%c] [%m] [%v] [%e] [%i] [%d] [%u] [%a] [%r] [%l] [%x]:  &#39;\t\t# special values:\r\n\t\t\t\t\t#   %a = application name\r\n\t\t\t\t\t#   %u = user name\r\n\t\t\t\t\t#   %d = database name\r\n\t\t\t\t\t#   %r = remote host and port\r\n\t\t\t\t\t#   %h = remote host\r\n\t\t\t\t\t#   %p = process ID\r\n\t\t\t\t\t#   %t = timestamp without milliseconds\r\n\t\t\t\t\t#   %m = timestamp with milliseconds\r\n\t\t\t\t\t#   %n = timestamp with milliseconds (as a Unix epoch)\r\n\t\t\t\t\t#   %i = command tag\r\n\t\t\t\t\t#   %e = SQL state\r\n\t\t\t\t\t#   %c = session ID\r\n\t\t\t\t\t#   %l = session line number\r\n\t\t\t\t\t#   %s = session start timestamp\r\n\t\t\t\t\t#   %v = virtual transaction ID\r\n\t\t\t\t\t#   %x = transaction ID (0 if none)\r\n\t\t\t\t\t#   %q = stop here in non-session\r\n\t\t\t\t\t#        processes\r\n\t\t\t\t\t#   %% = &#39;%&#39;\r\n\t\t\t\t\t# e.g. &#39;&lt;%u%%%d&gt; &#39;\r\n#log_lock_waits = off\t\t\t# log lock waits &gt;= deadlock_timeout\r\nlog_statement = &#39;all&#39;\t\t\t# none, ddl, mod, all\r\n#log_replication_commands = off\r\n#log_temp_files = -1\t\t\t# log temporary files equal or larger\r\n\t\t\t\t\t# than the specified size in kilobytes;\r\n\t\t\t\t\t# -1 disables, 0 logs all temp files\r\nlog_timezone = &#39;America/New_York&#39;\r\n```\r\n\r\nI couldn&#39;t paste the error log here because after making it verbose it was very long- so I made a gist\r\n\r\nLast update:\r\n\r\nI removed the Gist because the peeps here helped me find my error:\r\n\r\nokay, so the issue was 3 things; thing 1, we have a &#39;properties&#39; file that I thought was set to this server this db; and it wasn&#39;t // thing 2, the default logging was set to &#39;warning&#39; and didn&#39;t have enough information so after putting it to debug level 5 (the most data) and on &#39;all&#39; events; I finally saw a error message that made me realize it was pointed at the wrong db // thing 3, in the many (too many) iterations of my pg_hba.conf file I had added then removed the IP address.\r\nso now it&#39;s working, lol\r\nSometimes you are too close to the tracks to see the train, lol\r\n\r\n\r\n ","title":"org.postgresql.util.PSQLException: FATAL: no pg_hba.conf entry for host Linux error that works on Windows","body":"<p>I have looked at many (too many) similar questions here and tried over and over to solve this one but I can't quite get it to resolve.</p>\n<p>I have a java code that connects to a PostGreSQL server on a RHEL 8.2 box to query and return a value.  When I run it on my Windows 10 laptop; it works with no issues.  However, when I run it locally on the Linux box it fails with the dreaded org.postgresql.util.PSQLException: FATAL: no pg_hba.conf entry for host.</p>\n<p>The java code is made by a ETL software called Talend; and the code is run on Linux by RunDeck.</p>\n<p>To make matters more confusing, I can login on Linux as the postgres user and use the psql interface to connect to the db with the same host, port, db, and user I'm using in Java without error-</p>\n<p><code>psql -h [server ip] -p 5432 -d my_special_db -U my_db_user</code></p>\n<p>I have checked the server settings, the pg_hba.conf file, the user permissions, the log files and tried changing all of the above to get some sort of return; all to no avail.</p>\n<p>I have added to pg_hba.conf:</p>\n<pre><code>host    my_special_db        my_db_user        [server ip]/32      md5\nhost    my_special_db        my_db_user        [server ip with .0 as the last quatraine]/24      md5\n\nhost    my_special_db        root        ::1/128      trust\nhost    all        all        [server ip]/32      trust\n</code></pre>\n<p>I have tried multiple connection modifiers like:</p>\n<pre><code>sslfactory=org.postgresql.ssl.NonValidatingFactory&amp;sslmode=prefer\nor\nsslmode=prefer\nor\nsslmode=Require\nor\nno modifier at all\n</code></pre>\n<p>Please advise.</p>\n<p>Details:</p>\n<p>OS\nNAME : Linux RHEL 8.2</p>\n<p>VERSION : 4.18.0-372.16.1.el8_6.x86_64</p>\n<p>JVM</p>\n<p>IMPLEMENTATIONVERSION : 11.0.15+9-LTS</p>\n<p>NAME : OpenJDK 64-Bit Server VM</p>\n<p>VENDOR : Amazon.com Inc.</p>\n<p>VERSION : 11.0.15</p>\n<p>PostGreSQL</p>\n<p>postgresql11-libs-11.7-1PGDG.rhel8.x86_64.rpm \\</p>\n<p>postgresql11-11.7-1PGDG.rhel8.x86_64.rpm \\</p>\n<p>postgresql11-server-11.7-1PGDG.rhel8.x86_64.rpm</p>\n<p>Under server &gt; properties &gt; SSL</p>\n<p>All Defaults:</p>\n<p>SSL Mode: Prefer</p>\n<p>Client Cert: [blank]</p>\n<p>Client Cert Key: [blank]</p>\n<p>Root Cert: [blank]</p>\n<p>Cert Rev List: [blank]</p>\n<p>SSL compression?: no</p>\n<pre><code>//////////////////\nUnder /etc/systemd/system/postgresql-11.service\n\n[Unit]\nDescription=PostgreSQL 11 database server\nDocumentation=https://www.postgresql.org/docs/11/static/\nAfter=syslog.target\nAfter=network.target\n\n[Service]\nType=notify\n\nUser=postgres\nGroup=postgres\n\n# Note: avoid inserting whitespace in these Environment= lines, or you may\n# break postgresql-setup.\n\n# Location of database directory\nEnvironment=PGDATA=[my data directory path]\n\n# Where to send early-startup messages from the server (before the logging\n# options of postgresql.conf take effect)\n# This is normally controlled by the global default set by systemd\n# StandardOutput=syslog\n\n# Disable OOM kill on the postmaster\nOOMScoreAdjust=-1000\nEnvironment=PG_OOM_ADJUST_FILE=/proc/self/oom_score_adj\nEnvironment=PG_OOM_ADJUST_VALUE=0\n\nExecStartPre=[path to server]/pgsql-11/bin/postgresql-11-check-db-dir ${PGDATA}\nExecStart=[path to server]/pgsql-11/bin/postgres -D ${PGDATA}\n#ExecReload=/bin/kill -HUP $MAINPID\nKillMode=mixed\nKillSignal=SIGINT\n \n\n# Do not set any timeout value, so that systemd will not kill postmaster\n# during crash recovery.\nTimeoutSec=0\n\n[Install]\nWantedBy=multi-user.target\n\n\n[Service]\nEnvironment=PGDATA=[my data directory path]\n\n//////////////////\n</code></pre>\n<pre><code>//////////////////\n\nTop of the pg_hba.conf file:\n\n# TYPE  DATABASE        USER            ADDRESS                 METHOD\n\n# linux requires a 'local' entry\n#local all all md5\n\nlocal    all             all                     md5\n\n# IPv4 local connections:\n\nhost    all        all        0.0.0.0/0      md5\n\n# IPv6 local connections:\n\nhost    all        all        ::0/0      md5\n\n# no ssl connection\n\nhostnossl    all        all        0.0.0.0/0      trust\n\n# IPv4 local connections:\n\nhostnossl    all        all        127.0.0.1/32      md5\n\n# IPv6 local connections:\n\nhostnossl    all        all        ::1/128      md5\n\n# Allow replication connections from localhost, by a user with the\n# replication privilege.\n\nhost    replication        all        127.0.0.1/32      md5\nhost    replication        all        ::1/128      md5\n\n# This Servers IP and Ranges as Talend doesn't use localhost\n\nhost    postgres        postgres        [server ip]/32      md5\nhost    postgres        all             [server ip with .0 as the last quatraine]/24        md5\nhost    all             postgres        [server ip]/32      md5\nhost    all             all             [server ip with .0 as the last quatraine]/24        md5\n\nhost    my_special_db        my_db_user        [server ip]/32      md5\nhost    my_special_db        my_db_user        [server ip with .0 as the last quatraine]/24      md5\n\nhost    my_special_db        root        ::1/128      trust\nhost    all        all        [server ip]/32      trust\n\n//////////////////\n</code></pre>\n<pre><code>//////////////////\n\nPart of My Java Code:\n\n\n\nconn_tDBInput_1 = (java.sql.Connection) globalMap.get(&quot;conn_tDBConnection_2&quot;);\n\njava.sql.Statement stmt_tDBInput_1 = conn_tDBInput_1.createStatement();\n\nString dbquery_tDBInput_1 = &quot;\\n(SELECT ID AS \\&quot;id\\&quot;\\n, ATTRIBUTE AS \\&quot;attribute\\&quot;\\n, DEFINITION AS \\&quot;definition\\&quot;\\n, DESCRIPTION AS \\&quot;description\\&quot;&quot;\n        + &quot;\\nFROM &quot; + context.SEC_DB_SCHEMA + &quot;.&quot; + context.SEC_DB_TABLE\n        + &quot;\\nWHERE \\&quot;description\\&quot; = 'my_filter_here'\\nLIMIT 1);\\n\\n&quot;;\n\nglobalMap.put(&quot;tDBInput_1_QUERY&quot;, dbquery_tDBInput_1);\njava.sql.ResultSet rs_tDBInput_1 = null;\n\ntry {\n    rs_tDBInput_1 = stmt_tDBInput_1.executeQuery(dbquery_tDBInput_1);\n    java.sql.ResultSetMetaData rsmd_tDBInput_1 = rs_tDBInput_1.getMetaData();\n    int colQtyInRs_tDBInput_1 = rsmd_tDBInput_1.getColumnCount();\n\n    String tmpContent_tDBInput_1 = null;\n\n    while (rs_tDBInput_1.next()) {\n        nb_line_tDBInput_1++;\n\n        if (colQtyInRs_tDBInput_1 &lt; 1) {\n            row1.ID = 0;\n        } else {\n\n            row1.ID = rs_tDBInput_1.getInt(1);\n            if (rs_tDBInput_1.wasNull()) {\n                throw new RuntimeException(&quot;Null value in non-Nullable column&quot;);\n            }\n        }\n        if (colQtyInRs_tDBInput_1 &lt; 2) {\n            row1.ATTRIBUTE = null;\n        } else {\n\n            row1.ATTRIBUTE = routines.system.JDBCUtil.getString(rs_tDBInput_1, 2, false);\n        }\n        if (colQtyInRs_tDBInput_1 &lt; 3) {\n            row1.DEFINITION = null;\n        } else {\n\n            row1.DEFINITION = routines.system.JDBCUtil.getString(rs_tDBInput_1, 3, false);\n        }\n        if (colQtyInRs_tDBInput_1 &lt; 4) {\n            row1.DESCRIPTION = null;\n        } else {\n\n            row1.DESCRIPTION = routines.system.JDBCUtil.getString(rs_tDBInput_1, 4, false);\n        }\n\n        /**\n         * [tDBInput_1 begin ] stop\n         */\n\n        /**\n         * [tDBInput_1 main ] start\n         */\n\n        currentComponent = &quot;tDBInput_1&quot;;\n\n        tos_count_tDBInput_1++;\n\n        /**\n         * [tDBInput_1 main ] stop\n         */\n\n        /**\n         * [tDBInput_1 process_data_begin ] start\n         */\n\n        currentComponent = &quot;tDBInput_1&quot;;\n\n        /**\n         * [tDBInput_1 process_data_begin ] stop\n         */\n\n        /**\n         * [tReplicate_1 main ] start\n         */\n\n        currentComponent = &quot;tReplicate_1&quot;;\n\n        if (execStat) {\n            runStat.updateStatOnConnection(iterateId, 1, 1\n\n                    , &quot;row1&quot;\n\n            );\n        }\n\n        row5 = new row5Struct();\n\n\nrow5.ID = row1.ID;\nrow5.ATTRIBUTE = row1.ATTRIBUTE;\nrow5.DEFINITION = row1.DEFINITION;\nrow5.DESCRIPTION = row1.DESCRIPTION;\n\nglobalMap.put(&quot;row5.ATTRIBUTE&quot;, row5.ATTRIBUTE);\nglobalMap.put(&quot;row5.DEFINITION&quot;, row5.DEFINITION);\n\n// Set Reports DB values\n\ncontext.DB_HOST = [my_server_ip];\ncontext.DB_NAME = [my_db];\ncontext.DB_PORT = 5432;\n// This will have to be changed for each tower will have it's own 'reports' table\ncontext.DB_SCHEMA = &quot;my_schema&quot;;\ncontext.DB_TABLE = &quot;my_table&quot;;\n\ncontext.DB_USER = (String)(globalMap.get(&quot;row5.ATTRIBUTE&quot;));\ncontext.DB_PWD = (String)(globalMap.get(&quot;row5.DEFINITION&quot;));\n\n//------------\n\n    currentComponent=&quot;tDBConnection_1&quot;;\n\n    \n        int tos_count_tDBConnection_1 = 0;\n        \n\n\n    \n            String dbProperties_tDBConnection_1 = &quot;sslfactory=org.postgresql.ssl.NonValidatingFactory&amp;sslmode=prefer&quot;;\n            String url_tDBConnection_1 = &quot;jdbc:postgresql://&quot;+context.DB_HOST+&quot;:&quot;+context.DB_PORT+&quot;/&quot;+context.DB_NAME;\n            \n            if(dbProperties_tDBConnection_1 != null &amp;&amp; !&quot;&quot;.equals(dbProperties_tDBConnection_1.trim())) {\n                url_tDBConnection_1 = url_tDBConnection_1 + &quot;?&quot; + dbProperties_tDBConnection_1;\n            }\n    String dbUser_tDBConnection_1 = context.DB_USER;\n    \n//////////////////\n</code></pre>\n<pre><code>//////////////////\n\nLog entry from the time of trying to connect both locally and remotely-\n\n2022-08-23 15:20:45.452 EDT [67687] LOG:  database system is ready to accept connections\n2022-08-23 15:22:00.719 EDT [67687] LOG:  received fast shutdown request\n2022-08-23 15:22:00.720 EDT [67687] LOG:  aborting any active transactions\n2022-08-23 15:22:00.722 EDT [67687] LOG:  background worker &quot;logical replication launcher&quot; (PID 67696) exited with exit code 1\n2022-08-23 15:22:00.722 EDT [67691] LOG:  shutting down\n2022-08-23 15:22:00.754 EDT [67687] LOG:  database system is shut down\n2022-08-23 15:22:00.814 EDT [67739] LOG:  database system was shut down at 2022-08-23 15:22:00 EDT\n2022-08-23 15:22:00.818 EDT [67735] LOG:  database system is ready to accept connections\n2022-08-23 15:52:25.666 EDT [67735] LOG:  received fast shutdown request\n2022-08-23 15:52:25.668 EDT [67735] LOG:  aborting any active transactions\n2022-08-23 15:52:25.669 EDT [67735] LOG:  background worker &quot;logical replication launcher&quot; (PID 67745) exited with exit code 1\n2022-08-23 15:52:25.669 EDT [67740] LOG:  shutting down\n2022-08-23 15:52:25.692 EDT [67735] LOG:  database system is shut down\n2022-08-23 15:52:34.188 EDT [79803] LOG:  database system was shut down at 2022-08-23 15:52:25 EDT\n2022-08-23 15:52:34.194 EDT [79801] LOG:  database system is ready to accept connections\n\n//////////////////////////////////////\n</code></pre>\n<p>UPDATE:\nHere is a much of the java error message as I can share; given some of the restrictions on what I can post;</p>\n<pre><code>error message :: FATAL: no pg_hba.conf entry for host &quot;[my_server_ip]&quot;, user &quot;my_db_user&quot;, database &quot;my_db&quot;, SSL off|4\nException in component tDBConnection_2 (Generic_Talend_Job)\norg.postgresql.util.PSQLException: FATAL: no pg_hba.conf entry for host &quot;[my_server_ip]&quot;, user &quot;my_db_user&quot;, database &quot;my_db&quot;, SSL off\n    at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:613)\n    at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:161)\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:213)\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51)\n    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223)\n    at org.postgresql.Driver.makeConnection(Driver.java:465)\n    at org.postgresql.Driver.connect(Driver.java:264)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)\n    at local_project.generic_talend_job_0_1.Generic_Talend_Job.tDBConnection_2Process(Generic_Talend_Job.java:5752)\n    at local_project.generic_talend_job_0_1.Generic_Talend_Job.tSystem_1Process(Generic_Talend_Job.java:5614)\n    at local_project.generic_talend_job_0_1.Generic_Talend_Job.tJava_3Process(Generic_Talend_Job.java:5342)\n    at local_project.generic_talend_job_0_1.Generic_Talend_Job.tWarn_1Process(Generic_Talend_Job.java:5094)\n    at local_project.generic_talend_job_0_1.Generic_Talend_Job.tFileInputDelimited_1Process(Generic_Talend_Job.java:4851)\n    at local_project.generic_talend_job_0_1.Generic_Talend_Job.tLibraryLoad_1Process(Generic_Talend_Job.java:4089)\n    at local_project.generic_talend_job_0_1.Generic_Talend_Job.tPrejob_1Process(Generic_Talend_Job.java:3856)\n    at local_project.generic_talend_job_0_1.Generic_Talend_Job.runJobInTOS(Generic_Talend_Job.java:11916)\n    at local_project.generic_talend_job_0_1.Generic_Talend_Job.main(Generic_Talend_Job.java:11245)\n    Suppressed: org.postgresql.util.PSQLException: FATAL: no pg_hba.conf entry for host &quot;[my_server_ip]&quot;, user &quot;my_db_user&quot;, database &quot;my_db&quot;, SSL off\n        at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:613)\n        at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:161)\n        at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:222)\n        ... 15 more\nsec db connection failure, error message :: FATAL: no pg_hba.conf entry for host &quot;[my_server_ip]&quot;, user &quot;my_db_user&quot;, database &quot;my_db&quot;, SSL off\n</code></pre>\n<p>Update 2:\nEntry from this mornings logs at /data_folder/log after trying again and getting the same error</p>\n<pre><code>[postgres@my_server_name log]$ vim postgresql-Wed.log\n2022-08-24 10:00:17.714 EDT [79801] LOG:  received fast shutdown request\n2022-08-24 10:00:17.717 EDT [79801] LOG:  aborting any active transactions\n2022-08-24 10:00:17.717 EDT [508177] FATAL:  terminating connection due to administrator command\n2022-08-24 10:00:17.717 EDT [508176] FATAL:  terminating connection due to administrator command\n2022-08-24 10:00:17.718 EDT [79801] LOG:  background worker &quot;logical replication launcher&quot; (PID 79809) exited with exit code 1\n2022-08-24 10:00:17.718 EDT [79804] LOG:  shutting down\n2022-08-24 10:00:17.740 EDT [79801] LOG:  database system is shut down\n2022-08-24 10:00:35.780 EDT [513920] LOG:  database system was shut down at 2022-08-24 10:00:17 EDT\n2022-08-24 10:00:35.788 EDT [513918] LOG:  database system is ready to accept connections\n</code></pre>\n<p>Update 3:</p>\n<p>From the postgresql.conf file:</p>\n<pre><code>#------------------------------------------------------------------------------\n# CONNECTIONS AND AUTHENTICATION\n#------------------------------------------------------------------------------\n\n# - Connection Settings -\n\nlisten_addresses = '*'      # what IP address(es) to listen on;\n                    # comma-separated list of addresses;\n                    # defaults to 'localhost'; use '*' for all\n                    # (change requires restart)\nport = 5432             # (change requires restart)\nmax_connections = 100           # (change requires restart)\n#superuser_reserved_connections = 3 # (change requires restart)\n#unix_socket_directories = '/var/run/postgresql, /tmp'  # comma-separated list of directories\n                    # (change requires restart)\n#unix_socket_group = ''         # (change requires restart)\n#unix_socket_permissions = 0777     # begin with 0 to use octal notation\n                    # (change requires restart)\n#bonjour = off              # advertise server via Bonjour\n                    # (change requires restart)\n#bonjour_name = ''          # defaults to the computer name\n                    # (change requires restart)\n\n# - TCP Keepalives -\n# see &quot;man 7 tcp&quot; for details\n\n#tcp_keepalives_idle = 0        # TCP_KEEPIDLE, in seconds;\n                    # 0 selects the system default\n#tcp_keepalives_interval = 0        # TCP_KEEPINTVL, in seconds;\n                    # 0 selects the system default\n#tcp_keepalives_count = 0       # TCP_KEEPCNT;\n                    # 0 selects the system default\n\n# - Authentication -\n\n#authentication_timeout = 1min      # 1s-600s\n#password_encryption = md5      # md5 or scram-sha-256\n#db_user_namespace = off\n\n# GSSAPI using Kerberos\n#krb_server_keyfile = ''\n#krb_caseins_users = off\n\n# - SSL -\n\n#ssl = off\n#ssl_ca_file = ''\n#ssl_cert_file = 'server.crt'\n#ssl_crl_file = ''\n#ssl_key_file = 'server.key'\n#ssl_ciphers = 'HIGH:MEDIUM:+3DES:!aNULL' # allowed SSL ciphers\n#ssl_prefer_server_ciphers = on\n#ssl_ecdh_curve = 'prime256v1'\n#ssl_dh_params_file = ''\n#ssl_passphrase_command = ''\n#ssl_passphrase_command_supports_reload = off\n</code></pre>\n<p>Update 4:</p>\n<p>After doing some more searching, I have found that the default for the postgres logging isn't verbose; so this is the verbose part:</p>\n<pre><code>[636130] [630676b4.9b4e2] [2022-08-24 15:06:28.850 EDT] [] [F0000] [] [] [] [] [] [7] [0]:  LOG:  hostssl record cannot match because SSL is disabled\n[636130] [630676b4.9b4e2] [2022-08-24 15:06:28.850 EDT] [] [F0000] [] [] [] [] [] [8] [0]:  HINT:  Set ssl = on in postgresql.conf.\n[636130] [630676b4.9b4e2] [2022-08-24 15:06:28.850 EDT] [] [F0000] [] [] [] [] [] [9] [0]:  CONTEXT:  line 103 of configuration file &quot;[data folder path]/pg_hba.conf&quot;\n[636132] [630676b4.9b4e4] [2022-08-24 15:06:28.854 EDT] [] [00000] [] [] [] [] [] [1] [0]:  LOG:  database system was shut down at 2022-08-24 15:06:18 EDT\n[636130] [630676b4.9b4e2] [2022-08-24 15:06:28.859 EDT] [] [00000] [] [] [] [] [] [10] [0]:  LOG:  database system is ready to accept connections\n</code></pre>\n<p>I have gotten this error even after the following updates-</p>\n<p>update to the postgresql.conf file:</p>\n<pre><code>edit 1\nssl = off\nedit 2\nssl = on\nedit 3\n#ssl = off\n</code></pre>\n<p>updated the log level in the postgresql.conf file to</p>\n<pre><code>log_line_prefix = '[%p] [%c] [%m] [%v] [%e] [%i] [%d] [%u] [%a] [%r] [%l] [%x]:  '  \n...\nlog_statement = 'all'   \n</code></pre>\n<p>updated the pg_hba.conf file to start with:</p>\n<pre><code># Allow any user on the local system to connect to any database with\n# any database user name using Unix-domain sockets (the default for local\n# connections).\n#\n# TYPE  DATABASE        USER            ADDRESS                 METHOD\nlocal   all             all                                     trust\n\n# The same using local loopback TCP/IP connections.\n#\n# TYPE  DATABASE        USER            ADDRESS                 METHOD\nhost    all             all             127.0.0.1/32            trust\n\n# The same as the previous line, but using a separate netmask column\n#\n# TYPE  DATABASE        USER            IP-ADDRESS      IP-MASK             METHOD\nhost    all             all             127.0.0.1       255.255.255.255     trust\n\n# The same over IPv6.\n#\n# TYPE  DATABASE        USER            ADDRESS                 METHOD\nhost    all             all             ::1/128                 trust\n\n# The same using a host name (would typically cover both IPv4 and IPv6).\n#\n# TYPE  DATABASE        USER            ADDRESS                 METHOD\nhost    all             all             localhost               trust\nhostssl    all        all        0.0.0.0/0      md5\n</code></pre>\n<p>also updated the connection params with-</p>\n<pre><code>sslfactory=org.postgresql.ssl.NonValidatingFactory\n</code></pre>\n<p>According to postgres this is supposed to stop any and all SSL issues and just let the connections through-</p>\n<p><a href=\"https://jdbc.postgresql.org/documentation/head/ssl-client.html\" rel=\"nofollow noreferrer\">https://jdbc.postgresql.org/documentation/head/ssl-client.html</a></p>\n<p>&quot;A non-validating connection is established via a custom SSLSocketFactory class that is provided with the driver. Setting the connection URL parameter sslfactory=org.postgresql.ssl.NonValidatingFactory will turn off all SSL validation.&quot;</p>\n<p>Update 5:</p>\n<p>Logging settings from postgresql.conf file:</p>\n<pre><code>#------------------------------------------------------------------------------\n# REPORTING AND LOGGING\n#------------------------------------------------------------------------------\n\n# - Where to Log -\n\nlog_destination = 'stderr'      # Valid values are combinations of\n                    # stderr, csvlog, syslog, and eventlog,\n                    # depending on platform.  csvlog\n                    # requires logging_collector to be on.\n\n# This is used when logging to stderr:\nlogging_collector = on          # Enable capturing of stderr and csvlog\n                    # into log files. Required to be on for\n                    # csvlogs.\n                    # (change requires restart)\n\n# These are only used if logging_collector is on:\nlog_directory = 'log'           # directory where log files are written,\n                    # can be absolute or relative to PGDATA\nlog_filename = 'postgresql-%a.log'  # log file name pattern,\n                    # can include strftime() escapes\n#log_file_mode = 0600           # creation mode for log files,\n                    # begin with 0 to use octal notation\nlog_truncate_on_rotation = on       # If on, an existing log file with the\n                    # same name as the new log file will be\n                    # truncated rather than appended to.\n                    # But such truncation only occurs on\n                    # time-driven rotation, not on restarts\n                    # or size-driven rotation.  Default is\n                    # off, meaning append to existing files\n                    # in all cases.\nlog_rotation_age = 1d           # Automatic rotation of logfiles will\n                    # happen after that time.  0 disables.\nlog_rotation_size = 0           # Automatic rotation of logfiles will\n                    # happen after that much log output.\n                    # 0 disables.\n\n# These are relevant when logging to syslog:\n#syslog_facility = 'LOCAL0'\n#syslog_ident = 'postgres'\n#syslog_sequence_numbers = on\n#syslog_split_messages = on\n\n# This is only relevant when logging to eventlog (win32):\n# (change requires restart)\n#event_source = 'PostgreSQL'\n\n# - When to Log -\n\n#log_min_messages = warning     # values in order of decreasing detail:\n                    #   debug5\n                    #   debug4\n                    #   debug3\n                    #   debug2\n                    #   debug1\n                    #   info\n                    #   notice\n                    #   warning\n                    #   error\n                    #   log\n                    #   fatal\n                    #   panic\n\n#log_min_error_statement = error    # values in order of decreasing detail:\n                    #   debug5\n                    #   debug4\n                    #   debug3\n                    #   debug2\n                    #   debug1\n                    #   info\n                    #   notice\n                    #   warning\n                    #   error\n                    #   log\n                    #   fatal\n                    #   panic (effectively off)\n\n#log_min_duration_statement = -1    # -1 is disabled, 0 logs all statements\n                    # and their durations, &gt; 0 logs only\n                    # statements running at least this number\n                    # of milliseconds\n\n\n# - What to Log -\n\n#debug_print_parse = off\n#debug_print_rewritten = off\n#debug_print_plan = off\n#debug_pretty_print = on\n#log_checkpoints = off\n#log_connections = off\n#log_disconnections = off\n#log_duration = off\n#log_error_verbosity = default      # terse, default, or verbose messages\n#log_hostname = off\nlog_line_prefix = '[%p] [%c] [%m] [%v] [%e] [%i] [%d] [%u] [%a] [%r] [%l] [%x]:  '      # special values:\n                    #   %a = application name\n                    #   %u = user name\n                    #   %d = database name\n                    #   %r = remote host and port\n                    #   %h = remote host\n                    #   %p = process ID\n                    #   %t = timestamp without milliseconds\n                    #   %m = timestamp with milliseconds\n                    #   %n = timestamp with milliseconds (as a Unix epoch)\n                    #   %i = command tag\n                    #   %e = SQL state\n                    #   %c = session ID\n                    #   %l = session line number\n                    #   %s = session start timestamp\n                    #   %v = virtual transaction ID\n                    #   %x = transaction ID (0 if none)\n                    #   %q = stop here in non-session\n                    #        processes\n                    #   %% = '%'\n                    # e.g. '&lt;%u%%%d&gt; '\n#log_lock_waits = off           # log lock waits &gt;= deadlock_timeout\nlog_statement = 'all'           # none, ddl, mod, all\n#log_replication_commands = off\n#log_temp_files = -1            # log temporary files equal or larger\n                    # than the specified size in kilobytes;\n                    # -1 disables, 0 logs all temp files\nlog_timezone = 'America/New_York'\n</code></pre>\n<p>Update 6:</p>\n<p>I made edits to the logging part of the config, and now have a lot of output from the log</p>\n<p>new logging settings:</p>\n<pre><code>#------------------------------------------------------------------------------\n# REPORTING AND LOGGING\n#------------------------------------------------------------------------------\n\n# - Where to Log -\n\nlog_destination = 'stderr'      # Valid values are combinations of\n                    # stderr, csvlog, syslog, and eventlog,\n                    # depending on platform.  csvlog\n                    # requires logging_collector to be on.\n\n# This is used when logging to stderr:\nlogging_collector = on          # Enable capturing of stderr and csvlog\n                    # into log files. Required to be on for\n                    # csvlogs.\n                    # (change requires restart)\n\n# These are only used if logging_collector is on:\nlog_directory = 'log'           # directory where log files are written,\n                    # can be absolute or relative to PGDATA\nlog_filename = 'postgresql-%a.log'  # log file name pattern,\n                    # can include strftime() escapes\n#log_file_mode = 0600           # creation mode for log files,\n                    # begin with 0 to use octal notation\nlog_truncate_on_rotation = on       # If on, an existing log file with the\n                    # same name as the new log file will be\n                    # truncated rather than appended to.\n                    # But such truncation only occurs on\n                    # time-driven rotation, not on restarts\n                    # or size-driven rotation.  Default is\n                    # off, meaning append to existing files\n                    # in all cases.\nlog_rotation_age = 1d           # Automatic rotation of logfiles will\n                    # happen after that time.  0 disables.\nlog_rotation_size = 0           # Automatic rotation of logfiles will\n                    # happen after that much log output.\n                    # 0 disables.\n\n# These are relevant when logging to syslog:\n#syslog_facility = 'LOCAL0'\n#syslog_ident = 'postgres'\n#syslog_sequence_numbers = on\n#syslog_split_messages = on\n\n# This is only relevant when logging to eventlog (win32):\n# (change requires restart)\n#event_source = 'PostgreSQL'\n\n# - When to Log -\n\nlog_min_messages = debug5       # values in order of decreasing detail:\n                    #   debug5\n                    #   debug4\n                    #   debug3\n                    #   debug2\n                    #   debug1\n                    #   info\n                    #   notice\n                    #   warning\n                    #   error\n                    #   log\n                    #   fatal\n                    #   panic\n\nlog_min_error_statement = debug5    # values in order of decreasing detail:\n                    #   debug5\n                    #   debug4\n                    #   debug3\n                    #   debug2\n                    #   debug1\n                    #   info\n                    #   notice\n                    #   warning\n                    #   error\n                    #   log\n                    #   fatal\n                    #   panic (effectively off)\n\nlog_min_duration_statement = 0  # -1 is disabled, 0 logs all statements\n                    # and their durations, &gt; 0 logs only\n                    # statements running at least this number\n                    # of milliseconds\n\n\n# - What to Log -\n\n#debug_print_parse = off\n#debug_print_rewritten = off\n#debug_print_plan = off\n#debug_pretty_print = on\n#log_checkpoints = off\nlog_connections = on\nlog_disconnections = on\n#log_duration = off\nlog_error_verbosity = verbose       # terse, default, or verbose messages\nlog_hostname = on\nlog_line_prefix = '[%p] [%c] [%m] [%v] [%e] [%i] [%d] [%u] [%a] [%r] [%l] [%x]:  '      # special values:\n                    #   %a = application name\n                    #   %u = user name\n                    #   %d = database name\n                    #   %r = remote host and port\n                    #   %h = remote host\n                    #   %p = process ID\n                    #   %t = timestamp without milliseconds\n                    #   %m = timestamp with milliseconds\n                    #   %n = timestamp with milliseconds (as a Unix epoch)\n                    #   %i = command tag\n                    #   %e = SQL state\n                    #   %c = session ID\n                    #   %l = session line number\n                    #   %s = session start timestamp\n                    #   %v = virtual transaction ID\n                    #   %x = transaction ID (0 if none)\n                    #   %q = stop here in non-session\n                    #        processes\n                    #   %% = '%'\n                    # e.g. '&lt;%u%%%d&gt; '\n#log_lock_waits = off           # log lock waits &gt;= deadlock_timeout\nlog_statement = 'all'           # none, ddl, mod, all\n#log_replication_commands = off\n#log_temp_files = -1            # log temporary files equal or larger\n                    # than the specified size in kilobytes;\n                    # -1 disables, 0 logs all temp files\nlog_timezone = 'America/New_York'\n</code></pre>\n<p>I couldn't paste the error log here because after making it verbose it was very long- so I made a gist</p>\n<p>Last update:</p>\n<p>I removed the Gist because the peeps here helped me find my error:</p>\n<p>okay, so the issue was 3 things; thing 1, we have a 'properties' file that I thought was set to this server this db; and it wasn't // thing 2, the default logging was set to 'warning' and didn't have enough information so after putting it to debug level 5 (the most data) and on 'all' events; I finally saw a error message that made me realize it was pointed at the wrong db // thing 3, in the many (too many) iterations of my pg_hba.conf file I had added then removed the IP address.\nso now it's working, lol\nSometimes you are too close to the tracks to see the train, lol</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1673365437,"post_id":75072345,"comment_id":132479634,"body_markdown":"you are adding and working on the SAME instance of the `List` -  adding an element to `pow` will NOT create a copy of it - if you remove (or add) items to `ans` you are also changing the instance that is inside `pow`","body":"you are adding and working on the SAME instance of the <code>List</code> -  adding an element to <code>pow</code> will NOT create a copy of it - if you remove (or add) items to <code>ans</code> you are also changing the instance that is inside <code>pow</code>"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1673365601,"post_id":75072345,"comment_id":132479698,"body_markdown":"Just follow the logic of your code: you&#39;re adding elements to `ans` (via `ans.add(arr[i])`) and print them, then remove elements again (via `ans.remove(ans.size()-1)`)  and print that too. In the end you print `pow` which contains _several references to the same instance_ of `ans` which is empty at that point. - To make this clear: `ans` always refers to the same instance and thus `pow.add(ans)` adds a reference to that instance to `pow` again and again.","body":"Just follow the logic of your code: you&#39;re adding elements to <code>ans</code> (via <code>ans.add(arr[i])</code>) and print them, then remove elements again (via <code>ans.remove(ans.size()-1)</code>)  and print that too. In the end you print <code>pow</code> which contains <i>several references to the same instance</i> of <code>ans</code> which is empty at that point. - To make this clear: <code>ans</code> always refers to the same instance and thus <code>pow.add(ans)</code> adds a reference to that instance to <code>pow</code> again and again."},{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":1,"creation_date":1673365628,"post_id":75072345,"comment_id":132479708,"body_markdown":"If you hook a debugger up, you can easily see the state of each variable as you proceed through your code.","body":"If you hook a debugger up, you can easily see the state of each variable as you proceed through your code."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673365677,"creation_date":1673365677,"answer_id":75072452,"question_id":75072345,"body_markdown":"Count the `new`. I count exactly 2 `new` statements executed for the _entire_ run: `ans = new ArrayList&lt;&gt;()` and `pow = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;()`.\r\n\r\nThat means there are 2 lists and only 2, __total__.\r\n\r\n&gt; Is there a concept of pass by value / pass by reference ?\r\n\r\nAll non-primitives __are__ references in java. When you write `ans = new ArrayList&lt;&gt;()`, that is __not__ stating that ans _is_ the list. It is short for:\r\n\r\n* Find a place on the beach (the heap).\r\n* Conjure a new arraylist and bury it here, in this place on the beach.\r\n* Draw a map _to_ this place on the piece of paper named `ans`.\r\n\r\nWhen you pass &#39;ans&#39; to another method, it&#39;s pass by value, i.e., a copy, but you&#39;re copying the treasuremap. Not the treasure. So if the called method uses `=` (that&#39;s java-ese for: Wipe out the treasure map and draw a new map), the caller doesn&#39;t notice anything (their copy of the map isn&#39;t being wiped, after all). But if the called method uses `.`, such as `.add` or `.remove`, well, `.` is java-ese for: Follow the map and dig down. Even though you have a copy of the treasure map, given that it leads to the same treasure, if someone else digs down and messes with the treasure, you&#39;d notice.\r\n\r\nThus, __count the `new`__. If you expect your code to produce 15 arraylists, then throughout its total execution, exactly 15 `new` statements need to be executed.\r\n\r\n`new ArrayList&lt;&gt;(someList)` makes a clone.\r\n","title":"Power of the Set","body":"<p>Count the <code>new</code>. I count exactly 2 <code>new</code> statements executed for the <em>entire</em> run: <code>ans = new ArrayList&lt;&gt;()</code> and <code>pow = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;()</code>.</p>\n<p>That means there are 2 lists and only 2, <strong>total</strong>.</p>\n<blockquote>\n<p>Is there a concept of pass by value / pass by reference ?</p>\n</blockquote>\n<p>All non-primitives <strong>are</strong> references in java. When you write <code>ans = new ArrayList&lt;&gt;()</code>, that is <strong>not</strong> stating that ans <em>is</em> the list. It is short for:</p>\n<ul>\n<li>Find a place on the beach (the heap).</li>\n<li>Conjure a new arraylist and bury it here, in this place on the beach.</li>\n<li>Draw a map <em>to</em> this place on the piece of paper named <code>ans</code>.</li>\n</ul>\n<p>When you pass 'ans' to another method, it's pass by value, i.e., a copy, but you're copying the treasuremap. Not the treasure. So if the called method uses <code>=</code> (that's java-ese for: Wipe out the treasure map and draw a new map), the caller doesn't notice anything (their copy of the map isn't being wiped, after all). But if the called method uses <code>.</code>, such as <code>.add</code> or <code>.remove</code>, well, <code>.</code> is java-ese for: Follow the map and dig down. Even though you have a copy of the treasure map, given that it leads to the same treasure, if someone else digs down and messes with the treasure, you'd notice.</p>\n<p>Thus, <strong>count the <code>new</code></strong>. If you expect your code to produce 15 arraylists, then throughout its total execution, exactly 15 <code>new</code> statements need to be executed.</p>\n<p><code>new ArrayList&lt;&gt;(someList)</code> makes a clone.</p>\n"}],"owner":{"account_id":27489795,"reputation":1,"user_id":20975391,"display_name":"Uddeshya Seth"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673365677,"creation_date":1673365192,"question_id":75072345,"body_markdown":"I generated all the subsequences of the array using recursion, but I can&#39;t figure out why my pow\r\n(last line print statement) is printing null arraylist, while the powset print statement always prints the subsequence fine.\r\nIs there a concept of pass by value / pass by reference ?\r\n\r\n```\r\nimport java.util.ArrayList;\r\n\r\npublic class recursion {\r\n    static ArrayList&lt;ArrayList&lt;Integer&gt;&gt; pow;\r\n    public static void main(String[] args) {\r\n        int arr[] = {2, 3, 5};\r\n        int sum = 10;\r\n        ArrayList&lt;Integer&gt; ans = new ArrayList&lt;&gt;();\r\n         pow = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\r\n        powset(arr, 0, ans);\r\n        System.out.println(pow);  // Prints empty arraylist everytime\r\n    }\r\n\r\n    private static void powset(int[] arr, int i, ArrayList&lt;Integer&gt; ans) {\r\n        if(i &gt;= arr.length){\r\n            System.out.println(ans); // prints the correct arraylist as expected\r\n            pow.add(ans);\r\n            return;\r\n        }\r\n        ans.add(arr[i]);\r\n        powset(arr,i+1,ans);\r\n        ans.remove(ans.size()-1);\r\n        powset(arr,i+1,ans);\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nI was expecting the **pow** arraylist to print all the arraylist inside it, but It is printing empty arraylists.","title":"Power of the Set","body":"<p>I generated all the subsequences of the array using recursion, but I can't figure out why my pow\n(last line print statement) is printing null arraylist, while the powset print statement always prints the subsequence fine.\nIs there a concept of pass by value / pass by reference ?</p>\n<pre><code>import java.util.ArrayList;\n\npublic class recursion {\n    static ArrayList&lt;ArrayList&lt;Integer&gt;&gt; pow;\n    public static void main(String[] args) {\n        int arr[] = {2, 3, 5};\n        int sum = 10;\n        ArrayList&lt;Integer&gt; ans = new ArrayList&lt;&gt;();\n         pow = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\n        powset(arr, 0, ans);\n        System.out.println(pow);  // Prints empty arraylist everytime\n    }\n\n    private static void powset(int[] arr, int i, ArrayList&lt;Integer&gt; ans) {\n        if(i &gt;= arr.length){\n            System.out.println(ans); // prints the correct arraylist as expected\n            pow.add(ans);\n            return;\n        }\n        ans.add(arr[i]);\n        powset(arr,i+1,ans);\n        ans.remove(ans.size()-1);\n        powset(arr,i+1,ans);\n\n    }\n\n\n}\n\n</code></pre>\n<p>I was expecting the <strong>pow</strong> arraylist to print all the arraylist inside it, but It is printing empty arraylists.</p>\n"},{"tags":["java","android","user-interface","android-recyclerview"],"comments":[{"owner":{"account_id":984883,"reputation":7571,"user_id":1003665,"accept_rate":78,"display_name":"ticofab"},"score":6,"creation_date":1427785850,"post_id":26245139,"comment_id":46908934,"body_markdown":"On top of Anton&#39;s answer, see my answer here: http://stackoverflow.com/questions/25914003/recyclerview-and-handling-different-type-of-row-inflation/29362643#29362643","body":"On top of Anton&#39;s answer, see my answer here: <a href=\"http://stackoverflow.com/questions/25914003/recyclerview-and-handling-different-type-of-row-inflation/29362643#29362643\" title=\"recyclerview and handling different type of row inflation\">stackoverflow.com/questions/25914003/&hellip;</a>"},{"owner":{"account_id":4898014,"reputation":7936,"user_id":3946958,"accept_rate":72,"display_name":"Ravindra Kushwaha"},"score":1,"creation_date":1476884394,"post_id":26245139,"comment_id":67535888,"body_markdown":"Check these link which can also useful for you  http://stackoverflow.com/a/39972276/3946958","body":"Check these link which can also useful for you  <a href=\"http://stackoverflow.com/a/39972276/3946958\">stackoverflow.com/a/39972276/3946958</a>"},{"owner":{"account_id":226762,"reputation":11452,"user_id":2162226,"accept_rate":70,"display_name":"Gene Bo"},"score":2,"creation_date":1479343348,"post_id":26245139,"comment_id":68521662,"body_markdown":"Good tutorial here: https://guides.codepath.com/android/Heterogenous-Layouts-inside-RecyclerView","body":"Good tutorial here: <a href=\"https://guides.codepath.com/android/Heterogenous-Layouts-inside-RecyclerView\" rel=\"nofollow noreferrer\">guides.codepath.com/android/&hellip;</a>"},{"owner":{"account_id":4898014,"reputation":7936,"user_id":3946958,"accept_rate":72,"display_name":"Ravindra Kushwaha"},"score":1,"creation_date":1485152695,"post_id":26245139,"comment_id":70788734,"body_markdown":"Check these link it is workable http://stackoverflow.com/questions/39971350/recycle-view-inflating-different-row-getting-exception-while-binding-the-data/39972276#39972276 If there is issue than please let me know","body":"Check these link it is workable <a href=\"http://stackoverflow.com/questions/39971350/recycle-view-inflating-different-row-getting-exception-while-binding-the-data/39972276#39972276\" title=\"recycle view inflating different row getting exception while binding the data\">stackoverflow.com/questions/39971350/&hellip;</a> If there is issue than please let me know"},{"owner":{"account_id":6299077,"reputation":559,"user_id":4894238,"display_name":"Vitaly"},"score":1,"creation_date":1517136606,"post_id":26245139,"comment_id":83963691,"body_markdown":"The Great library to implement it https://github.com/vivchar/RendererRecyclerViewAdapter","body":"The Great library to implement it <a href=\"https://github.com/vivchar/RendererRecyclerViewAdapter\" rel=\"nofollow noreferrer\">github.com/vivchar/RendererRecyclerViewAdapter</a>"},{"owner":{"account_id":12713720,"reputation":2483,"user_id":9236525,"display_name":"Kunchok Tashi"},"score":0,"creation_date":1585484288,"post_id":26245139,"comment_id":107769289,"body_markdown":"Check this blog https://techtibet.com/blog/android/android-recyclerview-with-multiple-view-type/  its well and clear","body":"Check this blog <a href=\"https://techtibet.com/blog/android/android-recyclerview-with-multiple-view-type/\" rel=\"nofollow noreferrer\">techtibet.com/blog/android/&hellip;</a>  its well and clear"},{"owner":{"account_id":9202140,"reputation":454,"user_id":6838718,"display_name":"Chandu"},"score":0,"creation_date":1594875630,"post_id":26245139,"comment_id":111281013,"body_markdown":"Check this video tutorial: https://youtu.be/UZwiKdrm768\nI felt it helpful. Hope that helps you too.","body":"Check this video tutorial: <a href=\"https://youtu.be/UZwiKdrm768\" rel=\"nofollow noreferrer\">youtu.be/UZwiKdrm768</a> I felt it helpful. Hope that helps you too."},{"owner":{"account_id":2667032,"reputation":253,"user_id":2305239,"accept_rate":70,"display_name":"Shikhar Deep"},"score":1,"creation_date":1611064402,"post_id":26245139,"comment_id":116325317,"body_markdown":"Well, it&#39;s 2021 and I thought this answer needs an update. AndroidX now has something called as ConcatAdapter which beginners may find easier to use. check this for a simple tutorial: https://blog.mindorks.com/implementing-merge-adapter-in-android-tutorial","body":"Well, it&#39;s 2021 and I thought this answer needs an update. AndroidX now has something called as ConcatAdapter which beginners may find easier to use. check this for a simple tutorial: <a href=\"https://blog.mindorks.com/implementing-merge-adapter-in-android-tutorial\" rel=\"nofollow noreferrer\">blog.mindorks.com/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":475072,"reputation":13268,"user_id":885179,"accept_rate":62,"display_name":"Pongpat"},"score":0,"creation_date":1412721920,"post_id":26245463,"comment_id":41171350,"body_markdown":"What is the code in viewholder will look like? Is one viewholder suppose to hold one view type?","body":"What is the code in viewholder will look like? Is one viewholder suppose to hold one view type?"},{"owner":{"account_id":4915395,"reputation":40941,"user_id":3959454,"accept_rate":75,"display_name":"Anton Savin"},"score":4,"creation_date":1412722410,"post_id":26245463,"comment_id":41171494,"body_markdown":"@GZ95 generally yes, because different view types can correspond to completely different view layouts. ViewHolder is a common design pattern in android described [here](http://developer.android.com/training/improving-layouts/smooth-scrolling.html). Before it was optional to use, now RecyclerView enforces its usage.","body":"@GZ95 generally yes, because different view types can correspond to completely different view layouts. ViewHolder is a common design pattern in android described <a href=\"http://developer.android.com/training/improving-layouts/smooth-scrolling.html\" rel=\"nofollow noreferrer\">here</a>. Before it was optional to use, now RecyclerView enforces its usage."},{"owner":{"account_id":475072,"reputation":13268,"user_id":885179,"accept_rate":62,"display_name":"Pongpat"},"score":4,"creation_date":1412722581,"post_id":26245463,"comment_id":41171548,"body_markdown":"That&#39;s my point since only one ViewHolder is available in one RecyclerView.Adapter how you going to add multiple to it?","body":"That&#39;s my point since only one ViewHolder is available in one RecyclerView.Adapter how you going to add multiple to it?"},{"owner":{"account_id":4915395,"reputation":40941,"user_id":3959454,"accept_rate":75,"display_name":"Anton Savin"},"score":1,"creation_date":1412724821,"post_id":26245463,"comment_id":41172139,"body_markdown":"@GZ95 you can create a subclass of `MyAdapter.ViewHolder` for each view type.","body":"@GZ95 you can create a subclass of <code>MyAdapter.ViewHolder</code> for each view type."},{"owner":{"account_id":475072,"reputation":13268,"user_id":885179,"accept_rate":62,"display_name":"Pongpat"},"score":52,"creation_date":1412744035,"post_id":26245463,"comment_id":41176610,"body_markdown":"Then you have to cast viewholder type in onBindViewHolder() method which I think it defeat the purpose of generic type. By the way, thank you for your answer.","body":"Then you have to cast viewholder type in onBindViewHolder() method which I think it defeat the purpose of generic type. By the way, thank you for your answer."},{"owner":{"account_id":4915395,"reputation":40941,"user_id":3959454,"accept_rate":75,"display_name":"Anton Savin"},"score":1,"creation_date":1412752369,"post_id":26245463,"comment_id":41179366,"body_markdown":"Well, using `ListView` you would also perform a cast (moreover, you do it even if you have only one view type, so here there is some improvement). To my knowledge, Java doesn&#39;t have variadic generics, so they have to use what they have.","body":"Well, using <code>ListView</code> you would also perform a cast (moreover, you do it even if you have only one view type, so here there is some improvement). To my knowledge, Java doesn&#39;t have variadic generics, so they have to use what they have."},{"owner":{"account_id":1699636,"reputation":4007,"user_id":1560102,"accept_rate":75,"display_name":"DariusL"},"score":37,"creation_date":1417788124,"post_id":26245463,"comment_id":43094675,"body_markdown":"You can create a BaseHolder and extend it for all required types. Then add an abstract setData, which would be overriden (overrode?) in implementation holders. This way you let the language handle type differences. Though it only works if you have a single set of data that all list items can interpret.","body":"You can create a BaseHolder and extend it for all required types. Then add an abstract setData, which would be overriden (overrode?) in implementation holders. This way you let the language handle type differences. Though it only works if you have a single set of data that all list items can interpret."},{"owner":{"account_id":1387192,"reputation":61110,"user_id":1318946,"accept_rate":52,"display_name":"Pratik Butani"},"score":3,"creation_date":1424674799,"post_id":26245463,"comment_id":45630932,"body_markdown":"What about different layout file? I want to change layout on `optionMenuItem`. How its possible? @AntonSavin","body":"What about different layout file? I want to change layout on <code>optionMenuItem</code>. How its possible? @AntonSavin"},{"owner":{"account_id":4915395,"reputation":40941,"user_id":3959454,"accept_rate":75,"display_name":"Anton Savin"},"score":1,"creation_date":1425153018,"post_id":26245463,"comment_id":45848332,"body_markdown":"@PratikButani-AndroidButs when you create particular `ViewHolder` you initialize it with some `View` which you can create in whatever way you prefer - in particular, you can inflate it from whatever XML layout resource you want.","body":"@PratikButani-AndroidButs when you create particular <code>ViewHolder</code> you initialize it with some <code>View</code> which you can create in whatever way you prefer - in particular, you can inflate it from whatever XML layout resource you want."},{"owner":{"account_id":1387192,"reputation":61110,"user_id":1318946,"accept_rate":52,"display_name":"Pratik Butani"},"score":1,"creation_date":1425270740,"post_id":26245463,"comment_id":45879096,"body_markdown":"http://stackoverflow.com/q/28581712/1318946 @AntonSavin I am just stuck with this problem","body":"<a href=\"http://stackoverflow.com/q/28581712/1318946\">stackoverflow.com/q/28581712/1318946</a> @AntonSavin I am just stuck with this problem"},{"owner":{"account_id":984883,"reputation":7571,"user_id":1003665,"accept_rate":78,"display_name":"ticofab"},"score":1,"creation_date":1427785822,"post_id":26245463,"comment_id":46908916,"body_markdown":"see my answer here: http://stackoverflow.com/questions/25914003/recyclerview-and-handling-different-type-of-row-inflation/29362643#29362643","body":"see my answer here: <a href=\"http://stackoverflow.com/questions/25914003/recyclerview-and-handling-different-type-of-row-inflation/29362643#29362643\" title=\"recyclerview and handling different type of row inflation\">stackoverflow.com/questions/25914003/&hellip;</a>"},{"owner":{"account_id":4869623,"reputation":2463,"user_id":3926611,"display_name":"Hemant Shori"},"score":2,"creation_date":1430203521,"post_id":26245463,"comment_id":47946336,"body_markdown":"this works fine adding multiple viewTypes but the problem is with the binding data .while scrolling the data changes randomly.","body":"this works fine adding multiple viewTypes but the problem is with the binding data .while scrolling the data changes randomly."},{"owner":{"account_id":4915395,"reputation":40941,"user_id":3959454,"accept_rate":75,"display_name":"Anton Savin"},"score":1,"creation_date":1430209531,"post_id":26245463,"comment_id":47949984,"body_markdown":"@Hemant probably you implemented it wrong. If you have a specific problem, it&#39;s better to ask a new question.","body":"@Hemant probably you implemented it wrong. If you have a specific problem, it&#39;s better to ask a new question."},{"owner":{"account_id":306373,"reputation":1036,"user_id":617082,"display_name":"JakeWilson801"},"score":1,"creation_date":1450747659,"post_id":26245463,"comment_id":56556019,"body_markdown":"Enums were nice to model the switch statement","body":"Enums were nice to model the switch statement"},{"owner":{"account_id":3986910,"reputation":30181,"user_id":3287204,"accept_rate":56,"display_name":"Yash Sampat"},"score":1,"creation_date":1451211860,"post_id":26245463,"comment_id":56700707,"body_markdown":"@AntonSavin: I am facing a related problem ... could you please help me out with my question [here](http://stackoverflow.com/q/34431734/3287204) ?","body":"@AntonSavin: I am facing a related problem ... could you please help me out with my question <a href=\"http://stackoverflow.com/q/34431734/3287204\">here</a> ?"},{"owner":{"account_id":1857587,"reputation":536,"user_id":1682848,"display_name":"Samer"},"score":7,"creation_date":1454320427,"post_id":26245463,"comment_id":57974798,"body_markdown":"Your ViewHolders should be static if they reside in your RecyclerView Adapter","body":"Your ViewHolders should be static if they reside in your RecyclerView Adapter"},{"owner":{"display_name":"user3402040"},"score":1,"creation_date":1460723331,"post_id":26245463,"comment_id":60887649,"body_markdown":"have you example about 3 or more ?","body":"have you example about 3 or more ?"},{"owner":{"account_id":4915395,"reputation":40941,"user_id":3959454,"accept_rate":75,"display_name":"Anton Savin"},"score":2,"creation_date":1460740424,"post_id":26245463,"comment_id":60899390,"body_markdown":"@delive What&#39;s a problem about 3 or more? Create appropriate number of view holders and that&#39;s it.","body":"@delive What&#39;s a problem about 3 or more? Create appropriate number of view holders and that&#39;s it."},{"owner":{"account_id":4690396,"reputation":1599,"user_id":3796660,"accept_rate":54,"display_name":"AJW"},"score":1,"creation_date":1467570883,"post_id":26245463,"comment_id":63773415,"body_markdown":"@Samer, can you explain why ViewHolders should be static?","body":"@Samer, can you explain why ViewHolders should be static?"},{"owner":{"account_id":3937771,"reputation":5557,"user_id":4077513,"accept_rate":81,"display_name":"Martin Erlic"},"score":1,"creation_date":1467794257,"post_id":26245463,"comment_id":63862019,"body_markdown":"What is the difference between getItemViewType and getViewType? getItemViewType does not seem to be a default method in RecyclerAdapter.","body":"What is the difference between getItemViewType and getViewType? getItemViewType does not seem to be a default method in RecyclerAdapter."},{"owner":{"account_id":4915395,"reputation":40941,"user_id":3959454,"accept_rate":75,"display_name":"Anton Savin"},"score":1,"creation_date":1467853282,"post_id":26245463,"comment_id":63893742,"body_markdown":"@bluemunch I don&#39;t understand your question, AFAIK there&#39;s no such thing as `getViewType()` in Android.","body":"@bluemunch I don&#39;t understand your question, AFAIK there&#39;s no such thing as <code>getViewType()</code> in Android."},{"owner":{"account_id":4898014,"reputation":7936,"user_id":3946958,"accept_rate":72,"display_name":"Ravindra Kushwaha"},"score":1,"creation_date":1476884414,"post_id":26245463,"comment_id":67535905,"body_markdown":"Check  another solution in these link which can also useful for you  http://stackoverflow.com/a/39972276/3946958","body":"Check  another solution in these link which can also useful for you  <a href=\"http://stackoverflow.com/a/39972276/3946958\">stackoverflow.com/a/39972276/3946958</a>"},{"owner":{"account_id":3462367,"reputation":425,"user_id":2899047,"display_name":"drojokef"},"score":1,"creation_date":1486943736,"post_id":26245463,"comment_id":71551465,"body_markdown":"How about position of onBindViewHolder. For example, view1 has 8 items and view2 has 23 items.","body":"How about position of onBindViewHolder. For example, view1 has 8 items and view2 has 23 items."},{"owner":{"account_id":3586296,"reputation":1307,"user_id":2993413,"accept_rate":88,"display_name":"A. Wolf"},"score":1,"creation_date":1493050897,"post_id":26245463,"comment_id":74236015,"body_markdown":"Thank you @AntonSavin! I don&#39;t understand how can I specify what view has to use a particolar `ViewHolder`. I mean, I create the adapter passing the layout for the `inflate()`, I don&#39;t understand what the `getItemViewType() ` should get as parameter. How can I say &#39;if I use the adapter for the recyclerView with id _R.id.r1_ use `ViewHolder0`, while if I use recyclerView with id _R.id.r2_ use `ViewHolder1`&#39;?","body":"Thank you @AntonSavin! I don&#39;t understand how can I specify what view has to use a particolar <code>ViewHolder</code>. I mean, I create the adapter passing the layout for the <code>inflate()</code>, I don&#39;t understand what the <code>getItemViewType() </code> should get as parameter. How can I say &#39;if I use the adapter for the recyclerView with id <i>R.id.r1</i> use <code>ViewHolder0</code>, while if I use recyclerView with id <i>R.id.r2</i> use <code>ViewHolder1</code>&#39;?"},{"owner":{"account_id":4915395,"reputation":40941,"user_id":3959454,"accept_rate":75,"display_name":"Anton Savin"},"score":1,"creation_date":1493053833,"post_id":26245463,"comment_id":74237726,"body_markdown":"@A.Wolf `getItemViewType()`&#39;s parameter is item&#39;s index in the list. It&#39;s up to your internal logic to decide what type that item should have. If you have two different instances of `RecyclerView` you probably will create two different adaptor classes for them, so you implement different logic.","body":"@A.Wolf <code>getItemViewType()</code>&#39;s parameter is item&#39;s index in the list. It&#39;s up to your internal logic to decide what type that item should have. If you have two different instances of <code>RecyclerView</code> you probably will create two different adaptor classes for them, so you implement different logic."},{"owner":{"account_id":3586296,"reputation":1307,"user_id":2993413,"accept_rate":88,"display_name":"A. Wolf"},"score":1,"creation_date":1493054454,"post_id":26245463,"comment_id":74238067,"body_markdown":"My idea is to have only one  Adapter for recyclerview which has one image and one textview and i infilate a different layout from the adapter constructor. I want to change behaviour based on that value. I have to do a switch in that method based on resource layout id?","body":"My idea is to have only one  Adapter for recyclerview which has one image and one textview and i infilate a different layout from the adapter constructor. I want to change behaviour based on that value. I have to do a switch in that method based on resource layout id?"},{"owner":{"account_id":6710263,"reputation":10909,"user_id":5173926,"accept_rate":82,"display_name":"Vahid Amiri"},"score":1,"creation_date":1504372041,"post_id":26245463,"comment_id":78992197,"body_markdown":"A better way is to get the actual item from your list and then decide what you want done with it. `itemsList.get(position)`","body":"A better way is to get the actual item from your list and then decide what you want done with it. <code>itemsList.get(position)</code>"},{"owner":{"account_id":331220,"reputation":3717,"user_id":984724,"accept_rate":92,"display_name":"Dave Thomas"},"score":0,"creation_date":1511220565,"post_id":26245463,"comment_id":81759373,"body_markdown":"The 0 or 2 really confused me at first reading this answer. I suggest simplifying it to returning 0 or 1, use constants, and remove a bunch of the code to make this answer really dead simple to grok at first glance.","body":"The 0 or 2 really confused me at first reading this answer. I suggest simplifying it to returning 0 or 1, use constants, and remove a bunch of the code to make this answer really dead simple to grok at first glance."},{"owner":{"account_id":8598044,"reputation":97,"user_id":6440518,"accept_rate":93,"display_name":"Fyruz"},"score":0,"creation_date":1554137294,"post_id":26245463,"comment_id":97632561,"body_markdown":"This works fine adding multiple viewTypes but the problem is with the binding data. How can i fix the random changing data?? I&#39;ve got 3 viewTypes already defined.","body":"This works fine adding multiple viewTypes but the problem is with the binding data. How can i fix the random changing data?? I&#39;ve got 3 viewTypes already defined."},{"owner":{"account_id":4915395,"reputation":40941,"user_id":3959454,"accept_rate":75,"display_name":"Anton Savin"},"score":0,"creation_date":1554157058,"post_id":26245463,"comment_id":97640681,"body_markdown":"@GianmarcoFerruzzi Better ask this as a separate question","body":"@GianmarcoFerruzzi Better ask this as a separate question"},{"owner":{"account_id":4275999,"reputation":34098,"user_id":3496570,"accept_rate":39,"display_name":"Zar E Ahmer"},"score":0,"creation_date":1572871774,"post_id":26245463,"comment_id":103684414,"body_markdown":"Also have a look at my question https://stackoverflow.com/q/58693741/3496570","body":"Also have a look at my question <a href=\"https://stackoverflow.com/q/58693741/3496570\">stackoverflow.com/q/58693741/3496570</a>"},{"owner":{"account_id":7422340,"reputation":2446,"user_id":5646176,"accept_rate":50,"display_name":"RonTLV"},"score":0,"creation_date":1574337558,"post_id":26245463,"comment_id":104202154,"body_markdown":"You are heavily relying on position. What if it&#39;s not position relevant ?","body":"You are heavily relying on position. What if it&#39;s not position relevant ?"},{"owner":{"account_id":4915395,"reputation":40941,"user_id":3959454,"accept_rate":75,"display_name":"Anton Savin"},"score":0,"creation_date":1574443611,"post_id":26245463,"comment_id":104248388,"body_markdown":"@RonTLV in general you are supposed to have a dataset that you want to visualize. Get an item based on position and determine how to render it based on that.","body":"@RonTLV in general you are supposed to have a dataset that you want to visualize. Get an item based on position and determine how to render it based on that."},{"owner":{"account_id":4838224,"reputation":3812,"user_id":3904109,"accept_rate":71,"display_name":"DragonFire"},"score":0,"creation_date":1629857750,"post_id":26245463,"comment_id":121795256,"body_markdown":"This way  is better if you have completely different view types...","body":"This way  is better if you have completely different view types..."}],"tags":[],"owner":{"account_id":4915395,"reputation":40941,"user_id":3959454,"accept_rate":75,"display_name":"Anton Savin"},"comment_count":34,"down_vote_count":2,"up_vote_count":1514,"is_accepted":true,"score":1512,"last_activity_date":1479494651,"creation_date":1412716666,"answer_id":26245463,"question_id":26245139,"body_markdown":"Yes, it&#39;s possible. Just implement [getItemViewType()](https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter.html#getItemViewType(int)), and take care of the `viewType` parameter in `onCreateViewHolder()`.\r\n\r\nSo you do something like:\r\n\r\n    public class MyAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\r\n        class ViewHolder0 extends RecyclerView.ViewHolder {\r\n            ...\r\n            public ViewHolder0(View itemView){\r\n            ...\r\n            }\r\n        }\r\n\r\n        class ViewHolder2 extends RecyclerView.ViewHolder {\r\n            ...\r\n            public ViewHolder2(View itemView){\r\n            ...\r\n        }\r\n\r\n        @Override\r\n        public int getItemViewType(int position) {\r\n            // Just as an example, return 0 or 2 depending on position\r\n            // Note that unlike in ListView adapters, types don&#39;t have to be contiguous\r\n            return position % 2 * 2;\r\n        }\r\n\r\n        @Override\r\n        public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n             switch (viewType) {\r\n                 case 0: return new ViewHolder0(...);\r\n                 case 2: return new ViewHolder2(...);\r\n                 ...\r\n             }\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(final RecyclerView.ViewHolder holder, final int position) {\r\n            switch (holder.getItemViewType()) {\r\n                case 0:\r\n                    ViewHolder0 viewHolder0 = (ViewHolder0)holder;\r\n                    ...\r\n                    break;\r\n\r\n                case 2:\r\n                    ViewHolder2 viewHolder2 = (ViewHolder2)holder;\r\n                    ...\r\n                    break;\r\n            }\r\n        }\r\n    }","title":"How to create RecyclerView with multiple view types","body":"<p>Yes, it's possible. Just implement <a href=\"https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter.html#getItemViewType(int)\">getItemViewType()</a>, and take care of the <code>viewType</code> parameter in <code>onCreateViewHolder()</code>.</p>\n\n<p>So you do something like:</p>\n\n<pre><code>public class MyAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\n    class ViewHolder0 extends RecyclerView.ViewHolder {\n        ...\n        public ViewHolder0(View itemView){\n        ...\n        }\n    }\n\n    class ViewHolder2 extends RecyclerView.ViewHolder {\n        ...\n        public ViewHolder2(View itemView){\n        ...\n    }\n\n    @Override\n    public int getItemViewType(int position) {\n        // Just as an example, return 0 or 2 depending on position\n        // Note that unlike in ListView adapters, types don't have to be contiguous\n        return position % 2 * 2;\n    }\n\n    @Override\n    public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n         switch (viewType) {\n             case 0: return new ViewHolder0(...);\n             case 2: return new ViewHolder2(...);\n             ...\n         }\n    }\n\n    @Override\n    public void onBindViewHolder(final RecyclerView.ViewHolder holder, final int position) {\n        switch (holder.getItemViewType()) {\n            case 0:\n                ViewHolder0 viewHolder0 = (ViewHolder0)holder;\n                ...\n                break;\n\n            case 2:\n                ViewHolder2 viewHolder2 = (ViewHolder2)holder;\n                ...\n                break;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3579384,"reputation":10125,"user_id":2987953,"accept_rate":49,"display_name":"lannyf"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1625680786,"creation_date":1421017213,"answer_id":27893098,"question_id":26245139,"body_markdown":"Following [Anton&#39;s solution][1], I came up with this `ViewHolder` which holds/handles/delegates different type of layouts.\r\n\r\nBut I am not sure if the replacing new layout would work when the recycling view&#39;s `ViewHolder` is not the type of the data roll in.\r\n\r\nSo basically,\r\n`onCreateViewHolder(ViewGroup parent, int viewType)` is only called when new view layout is needed;\r\n\r\n`getItemViewType(int position)` will be called for the `viewType`;\r\n\r\n`onBindViewHolder(ViewHolder holder, int position)` is always called when recycling the view (new data is brought in and try to display with that `ViewHolder`).\r\n\r\nSo when `onBindViewHolder` is called it needs to be put in the right view layout and update the `ViewHolder`.\r\n\r\n    public int getItemViewType(int position) {\r\n        TypedData data = mDataSource.get(position);\r\n        return data.type;\r\n    }\r\n\r\n    public ViewHolder onCreateViewHolder(ViewGroup parent,\r\n        int viewType) {\r\n        return ViewHolder.makeViewHolder(parent, viewType);\r\n    }\r\n\r\n    public void onBindViewHolder(ViewHolder holder,\r\n        int position) {\r\n        TypedData data = mDataSource.get(position);\r\n        holder.updateData(data);\r\n    }\r\n\r\n    ///\r\n    public static class ViewHolder extends\r\n        RecyclerView.ViewHolder {\r\n\r\n        ViewGroup mParentViewGroup;\r\n        View mCurrentViewThisViewHolderIsFor;\r\n        int mDataType;\r\n\r\n        public TypeOneViewHolder mTypeOneViewHolder;\r\n        public TypeTwoViewHolder mTypeTwoViewHolder;\r\n\r\n        static ViewHolder makeViewHolder(ViewGroup vwGrp,\r\n            int dataType) {\r\n            View v = getLayoutView(vwGrp, dataType);\r\n            return new ViewHolder(vwGrp, v, viewType);\r\n        }\r\n\r\n        static View getLayoutView(ViewGroup vwGrp,\r\n            int dataType) {\r\n            int layoutId = getLayoutId(dataType);\r\n            return LayoutInflater.from(vwGrp.getContext())\r\n                                 .inflate(layoutId, null);\r\n        }\r\n\r\n        static int getLayoutId(int dataType) {\r\n            if (dataType == TYPE_ONE) {\r\n                return R.layout.type_one_layout;\r\n            } else if (dataType == TYPE_TWO) {\r\n                return R.layout.type_two_layout;\r\n            }\r\n        }\r\n\r\n        public ViewHolder(ViewGroup vwGrp, View v,\r\n            int dataType) {\r\n            super(v);\r\n            mDataType = dataType;\r\n            mParentViewGroup = vwGrp;\r\n            mCurrentViewThisViewHolderIsFor = v;\r\n\r\n            if (data.type == TYPE_ONE) {\r\n                mTypeOneViewHolder = new TypeOneViewHolder(v);\r\n            } else if (data.type == TYPE_TWO) {\r\n                mTypeTwoViewHolder = new TypeTwoViewHolder(v);\r\n            }\r\n        }\r\n\r\n        public void updateData(TypeData data) {\r\n            mDataType = data.type;\r\n            if (data.type == TYPE_ONE) {\r\n                mTypeTwoViewHolder = null;\r\n                if (mTypeOneViewHolder == null) {\r\n                    View newView = getLayoutView(mParentViewGroup,\r\n                                   data.type);\r\n\r\n                    /**\r\n                     *  How can I replace a new view with\r\n                        the view in the parent\r\n                        view container?\r\n                     */\r\n                    replaceView(mCurrentViewThisViewHolderIsFor,\r\n                                newView);\r\n                    mCurrentViewThisViewHolderIsFor = newView;\r\n\r\n                    mTypeOneViewHolder =\r\n                        new TypeOneViewHolder(newView);\r\n                }\r\n                mTypeOneViewHolder.updateDataTypeOne(data);\r\n\r\n            } else if (data.type == TYPE_TWO){\r\n                mTypeOneViewHolder = null;\r\n                if (mTypeTwoViewHolder == null) {\r\n                    View newView = getLayoutView(mParentViewGroup,\r\n                                   data.type);\r\n\r\n                    /**\r\n                     *  How can I replace a new view with\r\n                        the view in the parent view\r\n                        container?\r\n                     */\r\n                    replaceView(mCurrentViewThisViewHolderIsFor,\r\n                                newView);\r\n                    mCurrentViewThisViewHolderIsFor = newView;\r\n\r\n                    mTypeTwoViewHolder =\r\n                        new TypeTwoViewHolder(newView);\r\n                }\r\n                mTypeTwoViewHolder.updateDataTypeOne(data);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void replaceView(View currentView,\r\n        View newView) {\r\n        ViewGroup parent = (ViewGroup)currentView.getParent();\r\n        if(parent == null) {\r\n            return;\r\n        }\r\n        final int index = parent.indexOfChild(currentView);\r\n        parent.removeView(currentView);\r\n        parent.addView(newView, index);\r\n    }\r\n\r\nViewHolder has member mItemViewType to hold the view.\r\n\r\nIt looks like in onBindViewHolder(ViewHolder holder, int position) the ViewHolder passed in has been picked up (or created) by looked at getItemViewType(int position) to make sure it is a match, so it may not need to worry there that ViewHolder&#39;s type does not match the data[position]&#39;s type.\r\n\r\nIt looks like The recycle `ViewHolder` is picked by type, so no warrior there.\r\n\r\n*[Building a RecyclerView LayoutManager – Part 1][2]* answers this question.\r\n\r\nIt gets the recycle `ViewHolder` like:\r\n\r\n    holder = getRecycledViewPool().getRecycledView(mAdapter.getItemViewType(offsetPosition));\r\n\r\nOr create a new one if not find recycle `ViewHolder` of the right type.\r\n\r\n    public ViewHolder getRecycledView(int viewType) {\r\n            final ArrayList&lt;ViewHolder&gt; scrapHeap = mScrap.get(viewType);\r\n            if (scrapHeap != null &amp;&amp; !scrapHeap.isEmpty()) {\r\n                final int index = scrapHeap.size() - 1;\r\n                final ViewHolder scrap = scrapHeap.get(index);\r\n                scrapHeap.remove(index);\r\n                return scrap;\r\n            }\r\n            return null;\r\n        }\r\n\r\n    View getViewForPosition(int position, boolean dryRun) {\r\n        ......\r\n\r\n        if (holder == null) {\r\n                final int offsetPosition = mAdapterHelper.findPositionOffset(position);\r\n                if (offsetPosition &lt; 0 || offsetPosition &gt;= mAdapter.getItemCount()) {\r\n                    throw new IndexOutOfBoundsException(&quot;Inconsistency detected. Invalid item &quot;\r\n                            + &quot;position &quot; + position + &quot;(offset:&quot; + offsetPosition + &quot;).&quot;\r\n                            + &quot;state:&quot; + mState.getItemCount());\r\n                }\r\n\r\n                final int type = mAdapter.getItemViewType(offsetPosition);\r\n                // 2) Find from scrap via stable ids, if exists\r\n                if (mAdapter.hasStableIds()) {\r\n                    holder = getScrapViewForId(mAdapter.getItemId(offsetPosition), type, dryRun);\r\n                    if (holder != null) {\r\n                        // update position\r\n                        holder.mPosition = offsetPosition;\r\n                        fromScrap = true;\r\n                    }\r\n                }\r\n                if (holder == null &amp;&amp; mViewCacheExtension != null) {\r\n                    // We are NOT sending the offsetPosition because LayoutManager does not\r\n                    // know it.\r\n                    final View view = mViewCacheExtension\r\n                            .getViewForPositionAndType(this, position, type);\r\n                    if (view != null) {\r\n                        holder = getChildViewHolder(view);\r\n                        if (holder == null) {\r\n                            throw new IllegalArgumentException(&quot;getViewForPositionAndType returned&quot;\r\n                                    + &quot; a view which does not have a ViewHolder&quot;);\r\n                        } else if (holder.shouldIgnore()) {\r\n                            throw new IllegalArgumentException(&quot;getViewForPositionAndType returned&quot;\r\n                                    + &quot; a view that is ignored. You must call stopIgnoring before&quot;\r\n                                    + &quot; returning this view.&quot;);\r\n                        }\r\n                    }\r\n                }\r\n                if (holder == null) { // fallback to recycler\r\n                    // try recycler.\r\n                    // Head to the shared pool.\r\n                    if (DEBUG) {\r\n                        Log.d(TAG, &quot;getViewForPosition(&quot; + position + &quot;) fetching from shared &quot;\r\n                                + &quot;pool&quot;);\r\n                    }\r\n                    holder = getRecycledViewPool()\r\n                            .getRecycledView(mAdapter.getItemViewType(offsetPosition));\r\n                    if (holder != null) {\r\n                        holder.resetInternal();\r\n                        if (FORCE_INVALIDATE_DISPLAY_LIST) {\r\n                            invalidateDisplayListInt(holder);\r\n                        }\r\n                    }\r\n                }\r\n                if (holder == null) {\r\n                    holder = mAdapter.createViewHolder(RecyclerView.this,\r\n                            mAdapter.getItemViewType(offsetPosition));\r\n                    if (DEBUG) {\r\n                        Log.d(TAG, &quot;getViewForPosition created new ViewHolder&quot;);\r\n                    }\r\n                }\r\n            }\r\n            boolean bound = false;\r\n            if (mState.isPreLayout() &amp;&amp; holder.isBound()) {\r\n                // do not update unless we absolutely have to.\r\n                holder.mPreLayoutPosition = position;\r\n            } else if (!holder.isBound() || holder.needsUpdate() || holder.isInvalid()) {\r\n                if (DEBUG &amp;&amp; holder.isRemoved()) {\r\n                    throw new IllegalStateException(&quot;Removed holder should be bound and it should&quot;\r\n                            + &quot; come here only in pre-layout. Holder: &quot; + holder);\r\n                }\r\n                final int offsetPosition = mAdapterHelper.findPositionOffset(position);\r\n                mAdapter.bindViewHolder(holder, offsetPosition);\r\n                attachAccessibilityDelegate(holder.itemView);\r\n                bound = true;\r\n                if (mState.isPreLayout()) {\r\n                    holder.mPreLayoutPosition = position;\r\n                }\r\n            }\r\n\r\n            final ViewGroup.LayoutParams lp = holder.itemView.getLayoutParams();\r\n            final LayoutParams rvLayoutParams;\r\n            if (lp == null) {\r\n                rvLayoutParams = (LayoutParams) generateDefaultLayoutParams();\r\n                holder.itemView.setLayoutParams(rvLayoutParams);\r\n            } else if (!checkLayoutParams(lp)) {\r\n                rvLayoutParams = (LayoutParams) generateLayoutParams(lp);\r\n                holder.itemView.setLayoutParams(rvLayoutParams);\r\n            } else {\r\n                rvLayoutParams = (LayoutParams) lp;\r\n            }\r\n            rvLayoutParams.mViewHolder = holder;\r\n            rvLayoutParams.mPendingInvalidate = fromScrap &amp;&amp; bound;\r\n            return holder.itemView;\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/26245139/how-to-create-recyclerview-with-multiple-view-types/26245463#26245463\r\n  [2]: http://wiresareobsolete.com/2014/09/building-a-recyclerview-layoutmanager-part-1/\r\n\r\n\r\n\r\n","title":"How to create RecyclerView with multiple view types","body":"<p>Following <a href=\"https://stackoverflow.com/questions/26245139/how-to-create-recyclerview-with-multiple-view-types/26245463#26245463\">Anton's solution</a>, I came up with this <code>ViewHolder</code> which holds/handles/delegates different type of layouts.</p>\n<p>But I am not sure if the replacing new layout would work when the recycling view's <code>ViewHolder</code> is not the type of the data roll in.</p>\n<p>So basically,\n<code>onCreateViewHolder(ViewGroup parent, int viewType)</code> is only called when new view layout is needed;</p>\n<p><code>getItemViewType(int position)</code> will be called for the <code>viewType</code>;</p>\n<p><code>onBindViewHolder(ViewHolder holder, int position)</code> is always called when recycling the view (new data is brought in and try to display with that <code>ViewHolder</code>).</p>\n<p>So when <code>onBindViewHolder</code> is called it needs to be put in the right view layout and update the <code>ViewHolder</code>.</p>\n<pre><code>public int getItemViewType(int position) {\n    TypedData data = mDataSource.get(position);\n    return data.type;\n}\n\npublic ViewHolder onCreateViewHolder(ViewGroup parent,\n    int viewType) {\n    return ViewHolder.makeViewHolder(parent, viewType);\n}\n\npublic void onBindViewHolder(ViewHolder holder,\n    int position) {\n    TypedData data = mDataSource.get(position);\n    holder.updateData(data);\n}\n\n///\npublic static class ViewHolder extends\n    RecyclerView.ViewHolder {\n\n    ViewGroup mParentViewGroup;\n    View mCurrentViewThisViewHolderIsFor;\n    int mDataType;\n\n    public TypeOneViewHolder mTypeOneViewHolder;\n    public TypeTwoViewHolder mTypeTwoViewHolder;\n\n    static ViewHolder makeViewHolder(ViewGroup vwGrp,\n        int dataType) {\n        View v = getLayoutView(vwGrp, dataType);\n        return new ViewHolder(vwGrp, v, viewType);\n    }\n\n    static View getLayoutView(ViewGroup vwGrp,\n        int dataType) {\n        int layoutId = getLayoutId(dataType);\n        return LayoutInflater.from(vwGrp.getContext())\n                             .inflate(layoutId, null);\n    }\n\n    static int getLayoutId(int dataType) {\n        if (dataType == TYPE_ONE) {\n            return R.layout.type_one_layout;\n        } else if (dataType == TYPE_TWO) {\n            return R.layout.type_two_layout;\n        }\n    }\n\n    public ViewHolder(ViewGroup vwGrp, View v,\n        int dataType) {\n        super(v);\n        mDataType = dataType;\n        mParentViewGroup = vwGrp;\n        mCurrentViewThisViewHolderIsFor = v;\n\n        if (data.type == TYPE_ONE) {\n            mTypeOneViewHolder = new TypeOneViewHolder(v);\n        } else if (data.type == TYPE_TWO) {\n            mTypeTwoViewHolder = new TypeTwoViewHolder(v);\n        }\n    }\n\n    public void updateData(TypeData data) {\n        mDataType = data.type;\n        if (data.type == TYPE_ONE) {\n            mTypeTwoViewHolder = null;\n            if (mTypeOneViewHolder == null) {\n                View newView = getLayoutView(mParentViewGroup,\n                               data.type);\n\n                /**\n                 *  How can I replace a new view with\n                    the view in the parent\n                    view container?\n                 */\n                replaceView(mCurrentViewThisViewHolderIsFor,\n                            newView);\n                mCurrentViewThisViewHolderIsFor = newView;\n\n                mTypeOneViewHolder =\n                    new TypeOneViewHolder(newView);\n            }\n            mTypeOneViewHolder.updateDataTypeOne(data);\n\n        } else if (data.type == TYPE_TWO){\n            mTypeOneViewHolder = null;\n            if (mTypeTwoViewHolder == null) {\n                View newView = getLayoutView(mParentViewGroup,\n                               data.type);\n\n                /**\n                 *  How can I replace a new view with\n                    the view in the parent view\n                    container?\n                 */\n                replaceView(mCurrentViewThisViewHolderIsFor,\n                            newView);\n                mCurrentViewThisViewHolderIsFor = newView;\n\n                mTypeTwoViewHolder =\n                    new TypeTwoViewHolder(newView);\n            }\n            mTypeTwoViewHolder.updateDataTypeOne(data);\n        }\n    }\n}\n\npublic static void replaceView(View currentView,\n    View newView) {\n    ViewGroup parent = (ViewGroup)currentView.getParent();\n    if(parent == null) {\n        return;\n    }\n    final int index = parent.indexOfChild(currentView);\n    parent.removeView(currentView);\n    parent.addView(newView, index);\n}\n</code></pre>\n<p>ViewHolder has member mItemViewType to hold the view.</p>\n<p>It looks like in onBindViewHolder(ViewHolder holder, int position) the ViewHolder passed in has been picked up (or created) by looked at getItemViewType(int position) to make sure it is a match, so it may not need to worry there that ViewHolder's type does not match the data[position]'s type.</p>\n<p>It looks like The recycle <code>ViewHolder</code> is picked by type, so no warrior there.</p>\n<p><em><a href=\"http://wiresareobsolete.com/2014/09/building-a-recyclerview-layoutmanager-part-1/\" rel=\"nofollow noreferrer\">Building a RecyclerView LayoutManager – Part 1</a></em> answers this question.</p>\n<p>It gets the recycle <code>ViewHolder</code> like:</p>\n<pre><code>holder = getRecycledViewPool().getRecycledView(mAdapter.getItemViewType(offsetPosition));\n</code></pre>\n<p>Or create a new one if not find recycle <code>ViewHolder</code> of the right type.</p>\n<pre><code>public ViewHolder getRecycledView(int viewType) {\n        final ArrayList&lt;ViewHolder&gt; scrapHeap = mScrap.get(viewType);\n        if (scrapHeap != null &amp;&amp; !scrapHeap.isEmpty()) {\n            final int index = scrapHeap.size() - 1;\n            final ViewHolder scrap = scrapHeap.get(index);\n            scrapHeap.remove(index);\n            return scrap;\n        }\n        return null;\n    }\n\nView getViewForPosition(int position, boolean dryRun) {\n    ......\n\n    if (holder == null) {\n            final int offsetPosition = mAdapterHelper.findPositionOffset(position);\n            if (offsetPosition &lt; 0 || offsetPosition &gt;= mAdapter.getItemCount()) {\n                throw new IndexOutOfBoundsException(&quot;Inconsistency detected. Invalid item &quot;\n                        + &quot;position &quot; + position + &quot;(offset:&quot; + offsetPosition + &quot;).&quot;\n                        + &quot;state:&quot; + mState.getItemCount());\n            }\n\n            final int type = mAdapter.getItemViewType(offsetPosition);\n            // 2) Find from scrap via stable ids, if exists\n            if (mAdapter.hasStableIds()) {\n                holder = getScrapViewForId(mAdapter.getItemId(offsetPosition), type, dryRun);\n                if (holder != null) {\n                    // update position\n                    holder.mPosition = offsetPosition;\n                    fromScrap = true;\n                }\n            }\n            if (holder == null &amp;&amp; mViewCacheExtension != null) {\n                // We are NOT sending the offsetPosition because LayoutManager does not\n                // know it.\n                final View view = mViewCacheExtension\n                        .getViewForPositionAndType(this, position, type);\n                if (view != null) {\n                    holder = getChildViewHolder(view);\n                    if (holder == null) {\n                        throw new IllegalArgumentException(&quot;getViewForPositionAndType returned&quot;\n                                + &quot; a view which does not have a ViewHolder&quot;);\n                    } else if (holder.shouldIgnore()) {\n                        throw new IllegalArgumentException(&quot;getViewForPositionAndType returned&quot;\n                                + &quot; a view that is ignored. You must call stopIgnoring before&quot;\n                                + &quot; returning this view.&quot;);\n                    }\n                }\n            }\n            if (holder == null) { // fallback to recycler\n                // try recycler.\n                // Head to the shared pool.\n                if (DEBUG) {\n                    Log.d(TAG, &quot;getViewForPosition(&quot; + position + &quot;) fetching from shared &quot;\n                            + &quot;pool&quot;);\n                }\n                holder = getRecycledViewPool()\n                        .getRecycledView(mAdapter.getItemViewType(offsetPosition));\n                if (holder != null) {\n                    holder.resetInternal();\n                    if (FORCE_INVALIDATE_DISPLAY_LIST) {\n                        invalidateDisplayListInt(holder);\n                    }\n                }\n            }\n            if (holder == null) {\n                holder = mAdapter.createViewHolder(RecyclerView.this,\n                        mAdapter.getItemViewType(offsetPosition));\n                if (DEBUG) {\n                    Log.d(TAG, &quot;getViewForPosition created new ViewHolder&quot;);\n                }\n            }\n        }\n        boolean bound = false;\n        if (mState.isPreLayout() &amp;&amp; holder.isBound()) {\n            // do not update unless we absolutely have to.\n            holder.mPreLayoutPosition = position;\n        } else if (!holder.isBound() || holder.needsUpdate() || holder.isInvalid()) {\n            if (DEBUG &amp;&amp; holder.isRemoved()) {\n                throw new IllegalStateException(&quot;Removed holder should be bound and it should&quot;\n                        + &quot; come here only in pre-layout. Holder: &quot; + holder);\n            }\n            final int offsetPosition = mAdapterHelper.findPositionOffset(position);\n            mAdapter.bindViewHolder(holder, offsetPosition);\n            attachAccessibilityDelegate(holder.itemView);\n            bound = true;\n            if (mState.isPreLayout()) {\n                holder.mPreLayoutPosition = position;\n            }\n        }\n\n        final ViewGroup.LayoutParams lp = holder.itemView.getLayoutParams();\n        final LayoutParams rvLayoutParams;\n        if (lp == null) {\n            rvLayoutParams = (LayoutParams) generateDefaultLayoutParams();\n            holder.itemView.setLayoutParams(rvLayoutParams);\n        } else if (!checkLayoutParams(lp)) {\n            rvLayoutParams = (LayoutParams) generateLayoutParams(lp);\n            holder.itemView.setLayoutParams(rvLayoutParams);\n        } else {\n            rvLayoutParams = (LayoutParams) lp;\n        }\n        rvLayoutParams.mViewHolder = holder;\n        rvLayoutParams.mPendingInvalidate = fromScrap &amp;&amp; bound;\n        return holder.itemView;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3834174,"reputation":19718,"user_id":3178944,"accept_rate":61,"display_name":"Simon"},"score":4,"creation_date":1429985974,"post_id":29394173,"comment_id":47862952,"body_markdown":"I&#39;m slightly confused by your code, maybe you can help me, I would not like my views to be defined by the positions in the list but by their viewtypes. It appears as if the views in your code are determined based on their positions ie. so if im on position 1, view 1 is displayed, position 3, view 3 is displayed and everything else displays position 2&#39;s view. I don&#39;t want to base my views on positions but on viewtypes - so if i specify that the view type is images, it should display the image. How can i do that?","body":"I&#39;m slightly confused by your code, maybe you can help me, I would not like my views to be defined by the positions in the list but by their viewtypes. It appears as if the views in your code are determined based on their positions ie. so if im on position 1, view 1 is displayed, position 3, view 3 is displayed and everything else displays position 2&#39;s view. I don&#39;t want to base my views on positions but on viewtypes - so if i specify that the view type is images, it should display the image. How can i do that?"},{"owner":{"account_id":6068095,"reputation":2021,"user_id":4737776,"display_name":"yqritc"},"score":0,"creation_date":1430106500,"post_id":29394173,"comment_id":47897602,"body_markdown":"Sorry, I could not fully understand your question..., but you need to write the logic somewhere in order to bind the position and viewtype.","body":"Sorry, I could not fully understand your question..., but you need to write the logic somewhere in order to bind the position and viewtype."},{"owner":{"account_id":5643523,"reputation":6183,"user_id":4466472,"display_name":"Stoycho Andreev"},"score":2,"creation_date":1430110954,"post_id":29394173,"comment_id":47898836,"body_markdown":"this code is not confused , this is a RecyclerView Adapter pattern, and this should be excepted like correct answer of the question. Follow the link of @yqritc, spend a little time to discovered and you will have perfect pattern for RecyclerView with different type of layouts.","body":"this code is not confused , this is a RecyclerView Adapter pattern, and this should be excepted like correct answer of the question. Follow the link of @yqritc, spend a little time to discovered and you will have perfect pattern for RecyclerView with different type of layouts."},{"owner":{"account_id":4829862,"reputation":1186,"user_id":4127441,"accept_rate":73,"display_name":"rgv"},"score":0,"creation_date":1437073752,"post_id":29394173,"comment_id":50891599,"body_markdown":"newbe here, `public class DataBinder&lt;T extends RecyclerView.ViewHolder&gt;` can someone tell me what `&lt;T someClass&gt;` is called, so I can google if I get the term . Also when I say `abstract public class DataBinder&lt;T extends RecyclerView.ViewHolder&gt;` does that mean that this class is of type `ViewHolder`, so in result every class that extends this class will be of type`viewHolder` is that the idea?","body":"newbe here, <code>public class DataBinder&lt;T extends RecyclerView.ViewHolder&gt;</code> can someone tell me what <code>&lt;T someClass&gt;</code> is called, so I can google if I get the term . Also when I say <code>abstract public class DataBinder&lt;T extends RecyclerView.ViewHolder&gt;</code> does that mean that this class is of type <code>ViewHolder</code>, so in result every class that extends this class will be of type<code>viewHolder</code> is that the idea?"},{"owner":{"account_id":3665804,"reputation":1642,"user_id":5033492,"accept_rate":67,"display_name":"Shishupal Shakya"},"score":0,"creation_date":1448371692,"post_id":29394173,"comment_id":55552565,"body_markdown":"@yqritc I have used the library you have mentioned here , I am getting problem with multiple DataBinders , I have posted a question on Stackoverflow .Here is the link http://stackoverflow.com/questions/33894351/manage-multiple-view-types-recyclerview . Help me plz.","body":"@yqritc I have used the library you have mentioned here , I am getting problem with multiple DataBinders , I have posted a question on Stackoverflow .Here is the link <a href=\"http://stackoverflow.com/questions/33894351/manage-multiple-view-types-recyclerview\" title=\"manage multiple view types recyclerview\">stackoverflow.com/questions/33894351/&hellip;</a> . Help me plz."},{"owner":{"account_id":3730231,"reputation":1292,"user_id":3102871,"accept_rate":56,"display_name":"Erdi İzgi"},"score":0,"creation_date":1480604307,"post_id":29394173,"comment_id":69039799,"body_markdown":"Very clean solution. It works smooth and elegantly. @Simon I understood your question. You should create some kind of logic in your adapter class. For instance; you can you `position %3 == 0` instead of `position == 0`. But this might not be enough depending of the size of your dataset for that type.","body":"Very clean solution. It works smooth and elegantly. @Simon I understood your question. You should create some kind of logic in your adapter class. For instance; you can you <code>position %3 == 0</code> instead of <code>position == 0</code>. But this might not be enough depending of the size of your dataset for that type."},{"owner":{"account_id":2477161,"reputation":1404,"user_id":2157548,"accept_rate":44,"display_name":"Paul Okeke"},"score":1,"creation_date":1536265876,"post_id":29394173,"comment_id":91372830,"body_markdown":"@cesards you made me to go refresh my knowledge again on polymorphism lol.... Java isn&#39;t bad","body":"@cesards you made me to go refresh my knowledge again on polymorphism lol.... Java isn&#39;t bad"},{"owner":{"account_id":7740191,"reputation":166,"user_id":5860260,"display_name":"Deeptimay Routray"},"score":0,"creation_date":1624906024,"post_id":29394173,"comment_id":120480198,"body_markdown":"@rgv it&#39;s generic type .. search for Generics in Java","body":"@rgv it&#39;s generic type .. search for Generics in Java"},{"owner":{"account_id":7407971,"reputation":2389,"user_id":5636313,"accept_rate":76,"display_name":"Farid"},"score":0,"creation_date":1644868678,"post_id":29394173,"comment_id":125714733,"body_markdown":"For future readers, this is b*llcrap","body":"For future readers, this is b*llcrap"},{"owner":{"account_id":7407971,"reputation":2389,"user_id":5636313,"accept_rate":76,"display_name":"Farid"},"score":0,"creation_date":1644869163,"post_id":29394173,"comment_id":125714884,"body_markdown":"@StoychoAndreev This should never be an accepted answer under any circumstance. The guy, probably, wrote this when he was new to `RecyclerView`. Just read review it carefully. There is no way someone in their right mind would call this a solution","body":"@StoychoAndreev This should never be an accepted answer under any circumstance. The guy, probably, wrote this when he was new to <code>RecyclerView</code>. Just read review it carefully. There is no way someone in their right mind would call this a solution"},{"owner":{"account_id":7407971,"reputation":2389,"user_id":5636313,"accept_rate":76,"display_name":"Farid"},"score":0,"creation_date":1644869428,"post_id":29394173,"comment_id":125714967,"body_markdown":"@Simon You were totally right about the code being confusing. This code makes no sense at all in any way. Just check the repository in the library (probably you did back then). Senseless bag of code supposed to make it easy but turned into sh*t then posted as an &quot;answer&quot;","body":"@Simon You were totally right about the code being confusing. This code makes no sense at all in any way. Just check the repository in the library (probably you did back then). Senseless bag of code supposed to make it easy but turned into sh*t then posted as an &quot;answer&quot;"}],"tags":[],"owner":{"account_id":6068095,"reputation":2021,"user_id":4737776,"display_name":"yqritc"},"comment_count":11,"down_vote_count":4,"up_vote_count":101,"is_accepted":false,"score":97,"last_activity_date":1625681131,"creation_date":1427900264,"answer_id":29394173,"question_id":26245139,"body_markdown":"If the layouts for view types are only a few and binding logics are simple, follow [Anton&#39;s solution][1]. But the code will be messy if you need to manage the complex layouts and binding logics.\r\n\r\nI believe the following solution will be useful for someone who need to handle complex view types.\r\n\r\n**Base DataBinder class**\r\n\r\n    abstract public class DataBinder&lt;T extends RecyclerView.ViewHolder&gt; {\r\n\r\n        private DataBindAdapter mDataBindAdapter;\r\n\r\n        public DataBinder(DataBindAdapter dataBindAdapter) {\r\n            mDataBindAdapter = dataBindAdapter;\r\n        }\r\n\r\n        abstract public T newViewHolder(ViewGroup parent);\r\n\r\n        abstract public void bindViewHolder(T holder, int position);\r\n\r\n        abstract public int getItemCount();\r\n\r\n    ......\r\n\r\n    }\r\n\r\nThe functions needed to define in this class are pretty much same as the adapter class when creating the single view type.\r\n\r\nFor each view type, create the class by extending this DataBinder.\r\n\r\n**Sample DataBinder class**\r\n\r\n    public class Sample1Binder extends DataBinder&lt;Sample1Binder.ViewHolder&gt; {\r\n\r\n        private List&lt;String&gt; mDataSet = new ArrayList();\r\n\r\n        public Sample1Binder(DataBindAdapter dataBindAdapter) {\r\n            super(dataBindAdapter);\r\n        }\r\n\r\n        @Override\r\n        public ViewHolder newViewHolder(ViewGroup parent) {\r\n            View view = LayoutInflater.from(parent.getContext()).inflate(\r\n                R.layout.layout_sample1, parent, false);\r\n            return new ViewHolder(view);\r\n        }\r\n\r\n        @Override\r\n        public void bindViewHolder(ViewHolder holder, int position) {\r\n            String title = mDataSet.get(position);\r\n            holder.mTitleText.setText(title);\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return mDataSet.size();\r\n        }\r\n\r\n        public void setDataSet(List&lt;String&gt; dataSet) {\r\n            mDataSet.addAll(dataSet);\r\n        }\r\n\r\n        static class ViewHolder extends RecyclerView.ViewHolder {\r\n\r\n            TextView mTitleText;\r\n\r\n            public ViewHolder(View view) {\r\n                super(view);\r\n                mTitleText = (TextView) view.findViewById(R.id.title_type1);\r\n            }\r\n        }\r\n    }\r\n\r\nIn order to manage DataBinder classes, create an adapter class.\r\n\r\n**Base DataBindAdapter class**\r\n\r\n    abstract public class DataBindAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\r\n\r\n        @Override\r\n        public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n            return getDataBinder(viewType).newViewHolder(parent);\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(RecyclerView.ViewHolder viewHolder, int position) {\r\n            int binderPosition = getBinderPosition(position);\r\n            getDataBinder(viewHolder.getItemViewType()).bindViewHolder(viewHolder, binderPosition);\r\n        }\r\n\r\n        @Override\r\n        public abstract int getItemCount();\r\n\r\n        @Override\r\n        public abstract int getItemViewType(int position);\r\n\r\n        public abstract &lt;T extends DataBinder&gt; T getDataBinder(int viewType);\r\n\r\n        public abstract int getPosition(DataBinder binder, int binderPosition);\r\n\r\n        public abstract int getBinderPosition(int position);\r\n\r\n    ......\r\n\r\n    }\r\n\r\nCreate the class by extending this base class, and then instantiate DataBinder classes and override abstract methods\r\n\r\n1. getItemCount \\\r\nReturn the total item count of DataBinders\r\n\r\n2. getItemViewType \\\r\nDefine the mapping logic between the adapter position and view type.\r\n\r\n3. getDataBinder \\\r\nReturn the DataBinder instance based on the view type\r\n\r\n4. getPosition \\\r\nDefine convert logic to the adapter position from the position in the specified DataBinder\r\n\r\n5. getBinderPosition \\\r\nDefine convert logic to the position in the DataBinder from the adapter position\r\n\r\nI left a more detailed solution and samples on GitHub, so please refer to *[RecyclerView-MultipleViewTypeAdapter][2]* if you need.\r\n\r\n  [1]: https://stackoverflow.com/questions/26245139/how-to-create-recyclerview-with-multiple-view-types/26245463#26245463\r\n  [2]: https://github.com/yqritc/RecyclerView-MultipleViewTypesAdapter\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to create RecyclerView with multiple view types","body":"<p>If the layouts for view types are only a few and binding logics are simple, follow <a href=\"https://stackoverflow.com/questions/26245139/how-to-create-recyclerview-with-multiple-view-types/26245463#26245463\">Anton's solution</a>. But the code will be messy if you need to manage the complex layouts and binding logics.</p>\n<p>I believe the following solution will be useful for someone who need to handle complex view types.</p>\n<p><strong>Base DataBinder class</strong></p>\n<pre><code>abstract public class DataBinder&lt;T extends RecyclerView.ViewHolder&gt; {\n\n    private DataBindAdapter mDataBindAdapter;\n\n    public DataBinder(DataBindAdapter dataBindAdapter) {\n        mDataBindAdapter = dataBindAdapter;\n    }\n\n    abstract public T newViewHolder(ViewGroup parent);\n\n    abstract public void bindViewHolder(T holder, int position);\n\n    abstract public int getItemCount();\n\n......\n\n}\n</code></pre>\n<p>The functions needed to define in this class are pretty much same as the adapter class when creating the single view type.</p>\n<p>For each view type, create the class by extending this DataBinder.</p>\n<p><strong>Sample DataBinder class</strong></p>\n<pre><code>public class Sample1Binder extends DataBinder&lt;Sample1Binder.ViewHolder&gt; {\n\n    private List&lt;String&gt; mDataSet = new ArrayList();\n\n    public Sample1Binder(DataBindAdapter dataBindAdapter) {\n        super(dataBindAdapter);\n    }\n\n    @Override\n    public ViewHolder newViewHolder(ViewGroup parent) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(\n            R.layout.layout_sample1, parent, false);\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void bindViewHolder(ViewHolder holder, int position) {\n        String title = mDataSet.get(position);\n        holder.mTitleText.setText(title);\n    }\n\n    @Override\n    public int getItemCount() {\n        return mDataSet.size();\n    }\n\n    public void setDataSet(List&lt;String&gt; dataSet) {\n        mDataSet.addAll(dataSet);\n    }\n\n    static class ViewHolder extends RecyclerView.ViewHolder {\n\n        TextView mTitleText;\n\n        public ViewHolder(View view) {\n            super(view);\n            mTitleText = (TextView) view.findViewById(R.id.title_type1);\n        }\n    }\n}\n</code></pre>\n<p>In order to manage DataBinder classes, create an adapter class.</p>\n<p><strong>Base DataBindAdapter class</strong></p>\n<pre><code>abstract public class DataBindAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\n\n    @Override\n    public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        return getDataBinder(viewType).newViewHolder(parent);\n    }\n\n    @Override\n    public void onBindViewHolder(RecyclerView.ViewHolder viewHolder, int position) {\n        int binderPosition = getBinderPosition(position);\n        getDataBinder(viewHolder.getItemViewType()).bindViewHolder(viewHolder, binderPosition);\n    }\n\n    @Override\n    public abstract int getItemCount();\n\n    @Override\n    public abstract int getItemViewType(int position);\n\n    public abstract &lt;T extends DataBinder&gt; T getDataBinder(int viewType);\n\n    public abstract int getPosition(DataBinder binder, int binderPosition);\n\n    public abstract int getBinderPosition(int position);\n\n......\n\n}\n</code></pre>\n<p>Create the class by extending this base class, and then instantiate DataBinder classes and override abstract methods</p>\n<ol>\n<li><p>getItemCount <br />\nReturn the total item count of DataBinders</p>\n</li>\n<li><p>getItemViewType <br />\nDefine the mapping logic between the adapter position and view type.</p>\n</li>\n<li><p>getDataBinder <br />\nReturn the DataBinder instance based on the view type</p>\n</li>\n<li><p>getPosition <br />\nDefine convert logic to the adapter position from the position in the specified DataBinder</p>\n</li>\n<li><p>getBinderPosition <br />\nDefine convert logic to the position in the DataBinder from the adapter position</p>\n</li>\n</ol>\n<p>I left a more detailed solution and samples on GitHub, so please refer to <em><a href=\"https://github.com/yqritc/RecyclerView-MultipleViewTypesAdapter\" rel=\"noreferrer\">RecyclerView-MultipleViewTypeAdapter</a></em> if you need.</p>\n"},{"comments":[{"owner":{"account_id":4713289,"reputation":1682,"user_id":3813188,"accept_rate":65,"display_name":"Bassinator"},"score":1,"creation_date":1501871535,"post_id":29579718,"comment_id":77987912,"body_markdown":"This is a nice, what if I wanted multiple headers at dynamic positions? Say, a list of items with headers defining categories. You solution would seem to require the special headers to be at predetermined int positions.","body":"This is a nice, what if I wanted multiple headers at dynamic positions? Say, a list of items with headers defining categories. You solution would seem to require the special headers to be at predetermined int positions."}],"tags":[],"owner":{"account_id":3834174,"reputation":19718,"user_id":3178944,"accept_rate":61,"display_name":"Simon"},"comment_count":1,"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1625681311,"creation_date":1428766806,"answer_id":29579718,"question_id":26245139,"body_markdown":"The below is not pseudocode. I have tested it and it has worked for me.\r\n\r\nI wanted to create a headerview in my recyclerview and then display a list of pictures below the header which the user can click on.\r\n\r\nI used a few switches in my code and don&#39;t know if that is the most efficient way to do this, so feel free to give your comments:\r\n\r\n       public class ViewHolder extends RecyclerView.ViewHolder{\r\n\r\n            //These are the general elements in the RecyclerView\r\n            public TextView place;\r\n            public ImageView pics;\r\n\r\n            //This is the Header on the Recycler (viewType = 0)\r\n            public TextView name, description;\r\n\r\n            //This constructor would switch what to findViewBy according to the type of viewType\r\n            public ViewHolder(View v, int viewType) {\r\n                super(v);\r\n                if (viewType == 0) {\r\n                    name = (TextView) v.findViewById(R.id.name);\r\n                    decsription = (TextView) v.findViewById(R.id.description);\r\n                } else if (viewType == 1) {\r\n                    place = (TextView) v.findViewById(R.id.place);\r\n                    pics = (ImageView) v.findViewById(R.id.pics);\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        @Override\r\n        public ViewHolder onCreateViewHolder(ViewGroup parent,\r\n                                             int viewType)\r\n        {\r\n            View v;\r\n            ViewHolder vh;\r\n            // create a new view\r\n            switch (viewType) {\r\n                case 0: //This would be the header view in my Recycler\r\n                    v = LayoutInflater.from(parent.getContext())\r\n                        .inflate(R.layout.recyclerview_welcome, parent, false);\r\n                    vh = new ViewHolder(v,viewType);\r\n                    return  vh;\r\n                default: //This would be the normal list with the pictures of the places in the world\r\n                    v = LayoutInflater.from(parent.getContext())\r\n                            .inflate(R.layout.recyclerview_picture, parent, false);\r\n                    vh = new ViewHolder(v, viewType);\r\n                    v.setOnClickListener(new View.OnClickListener(){\r\n\r\n                        @Override\r\n                        public void onClick(View v) {\r\n                            Intent intent = new Intent(mContext, nextActivity.class);\r\n                            intent.putExtra(&quot;ListNo&quot;,mRecyclerView.getChildPosition(v));\r\n                            mContext.startActivity(intent);\r\n                        }\r\n                    });\r\n                    return vh;\r\n            }\r\n        }\r\n\r\n        //Overridden so that I can display custom rows in the recyclerview\r\n        @Override\r\n        public int getItemViewType(int position) {\r\n            int viewType = 1; //Default is 1\r\n            if (position == 0) viewType = 0; //If zero, it will be a header view\r\n            return viewType;\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(ViewHolder holder, int position) {\r\n            //position == 0 means it&#39;s the info header view on the Recycler\r\n            if (position == 0) {\r\n                holder.name.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        Toast.makeText(mContext,&quot;name clicked&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n                holder.description.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        Toast.makeText(mContext,&quot;description clicked&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n                //This means it is beyond the headerview now as it is no longer 0. For testing purposes, I&#39;m alternating between two pics for now\r\n            } else if (position &gt; 0) {\r\n               holder.place.setText(mDataset[position]);\r\n                if (position % 2 == 0) {\r\n                   holder.pics.setImageDrawable(mContext.getResources().getDrawable(R.drawable.pic1));\r\n                }\r\n                if (position % 2 == 1) {\r\n                    holder.pics.setImageDrawable(mContext.getResources().getDrawable(R.drawable.pic2));\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n\r\n","title":"How to create RecyclerView with multiple view types","body":"<p>The below is not pseudocode. I have tested it and it has worked for me.</p>\n<p>I wanted to create a headerview in my recyclerview and then display a list of pictures below the header which the user can click on.</p>\n<p>I used a few switches in my code and don't know if that is the most efficient way to do this, so feel free to give your comments:</p>\n<pre><code>   public class ViewHolder extends RecyclerView.ViewHolder{\n\n        //These are the general elements in the RecyclerView\n        public TextView place;\n        public ImageView pics;\n\n        //This is the Header on the Recycler (viewType = 0)\n        public TextView name, description;\n\n        //This constructor would switch what to findViewBy according to the type of viewType\n        public ViewHolder(View v, int viewType) {\n            super(v);\n            if (viewType == 0) {\n                name = (TextView) v.findViewById(R.id.name);\n                decsription = (TextView) v.findViewById(R.id.description);\n            } else if (viewType == 1) {\n                place = (TextView) v.findViewById(R.id.place);\n                pics = (ImageView) v.findViewById(R.id.pics);\n            }\n        }\n    }\n\n\n    @Override\n    public ViewHolder onCreateViewHolder(ViewGroup parent,\n                                         int viewType)\n    {\n        View v;\n        ViewHolder vh;\n        // create a new view\n        switch (viewType) {\n            case 0: //This would be the header view in my Recycler\n                v = LayoutInflater.from(parent.getContext())\n                    .inflate(R.layout.recyclerview_welcome, parent, false);\n                vh = new ViewHolder(v,viewType);\n                return  vh;\n            default: //This would be the normal list with the pictures of the places in the world\n                v = LayoutInflater.from(parent.getContext())\n                        .inflate(R.layout.recyclerview_picture, parent, false);\n                vh = new ViewHolder(v, viewType);\n                v.setOnClickListener(new View.OnClickListener(){\n\n                    @Override\n                    public void onClick(View v) {\n                        Intent intent = new Intent(mContext, nextActivity.class);\n                        intent.putExtra(&quot;ListNo&quot;,mRecyclerView.getChildPosition(v));\n                        mContext.startActivity(intent);\n                    }\n                });\n                return vh;\n        }\n    }\n\n    //Overridden so that I can display custom rows in the recyclerview\n    @Override\n    public int getItemViewType(int position) {\n        int viewType = 1; //Default is 1\n        if (position == 0) viewType = 0; //If zero, it will be a header view\n        return viewType;\n    }\n\n    @Override\n    public void onBindViewHolder(ViewHolder holder, int position) {\n        //position == 0 means it's the info header view on the Recycler\n        if (position == 0) {\n            holder.name.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    Toast.makeText(mContext,&quot;name clicked&quot;, Toast.LENGTH_SHORT).show();\n                }\n            });\n            holder.description.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    Toast.makeText(mContext,&quot;description clicked&quot;, Toast.LENGTH_SHORT).show();\n                }\n            });\n            //This means it is beyond the headerview now as it is no longer 0. For testing purposes, I'm alternating between two pics for now\n        } else if (position &gt; 0) {\n           holder.place.setText(mDataset[position]);\n            if (position % 2 == 0) {\n               holder.pics.setImageDrawable(mContext.getResources().getDrawable(R.drawable.pic1));\n            }\n            if (position % 2 == 1) {\n                holder.pics.setImageDrawable(mContext.getResources().getDrawable(R.drawable.pic2));\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2445890,"reputation":131,"user_id":2133296,"display_name":"Michal Faber"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1625681618,"creation_date":1429269013,"answer_id":29697571,"question_id":26245139,"body_markdown":"I have a better solution which allows to create multiple view types in a declarative and type safe way. It’s written in Kotlin which, by the way, is really nice.\r\n\r\nSimple view holders for all required view types\r\n\r\n&lt;!-- language-all: lang-scala --&gt;\r\n\r\n    class ViewHolderMedium(itemView: View) : RecyclerView.ViewHolder(itemView) {\r\n        val icon: ImageView = itemView.findViewById(R.id.icon) as ImageView\r\n        val label: TextView = itemView.findViewById(R.id.label) as TextView\r\n    }\r\n\r\nThere is an abstraction of adapter data item. Note that a view type is represented by a hashCode of particular view holder class (KClass in Kotlin)\r\n\r\n    trait AdapterItem {\r\n       val viewType: Int\r\n       fun bindViewHolder(viewHolder: RecyclerView.ViewHolder)\r\n    }\r\n\r\n    abstract class AdapterItemBase&lt;T&gt;(val viewHolderClass: KClass&lt;T&gt;) : AdapterItem {\r\n       override val viewType: Int = viewHolderClass.hashCode()\r\n       abstract fun bindViewHolder(viewHolder: T)\r\n       override fun bindViewHolder(viewHolder: RecyclerView.ViewHolder) {\r\n           bindViewHolder(viewHolder as T)\r\n       }\r\n    }\r\n\r\nOnly `bindViewHolder` needs to be overridden in concrete adapter item classes (type safe way).\r\n\r\n    class AdapterItemMedium(val icon: Drawable, val label: String, val onClick: () -&gt; Unit) : AdapterItemBase&lt;ViewHolderMedium&gt;(ViewHolderMedium::class) {\r\n        override fun bindViewHolder(viewHolder: ViewHolderMedium) {\r\n            viewHolder.icon.setImageDrawable(icon)\r\n            viewHolder.label.setText(label)\r\n            viewHolder.itemView.setOnClickListener { onClick() }\r\n        }\r\n    }\r\n\r\nList of such `AdapterItemMedium` objects is a data source for the adapter which actually accepts `List&lt;AdapterItem&gt;`. See below.\r\n\r\nThe important part of this solution is a view holder factory which will provide fresh instances of a specific ViewHolder:\r\n\r\n    class ViewHolderProvider {\r\n        private val viewHolderFactories = hashMapOf&lt;Int, Pair&lt;Int, Any&gt;&gt;()\r\n\r\n        fun provideViewHolder(viewGroup: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\r\n            val (layoutId: Int, f: Any) = viewHolderFactories.get(viewType)\r\n            val viewHolderFactory = f as (View) -&gt; RecyclerView.ViewHolder\r\n            val view = LayoutInflater.from(viewGroup.getContext()).inflate(layoutId, viewGroup, false)\r\n            return viewHolderFactory(view)\r\n        }\r\n\r\n        fun registerViewHolderFactory&lt;T&gt;(key: KClass&lt;T&gt;, layoutId: Int, viewHolderFactory: (View) -&gt; T) {\r\n            viewHolderFactories.put(key.hashCode(), Pair(layoutId, viewHolderFactory))\r\n        }\r\n    }\r\n\r\nAnd the simple adapter class looks like this:\r\n\r\n    public class MultitypeAdapter(val items: List&lt;AdapterItem&gt;) : RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;() {\r\n\r\n       val viewHolderProvider = ViewHolderProvider() // inject ex Dagger2\r\n\r\n       init {\r\n            viewHolderProvider!!.registerViewHolderFactory(ViewHolderMedium::class, R.layout.item_medium, { itemView -&gt;\r\n                ViewHolderMedium(itemView)\r\n            })\r\n       }\r\n\r\n       override fun getItemViewType(position: Int): Int {\r\n            return items[position].viewType\r\n        }\r\n\r\n        override fun getItemCount(): Int {\r\n            return items.size()\r\n        }\r\n\r\n        override fun onCreateViewHolder(viewGroup: ViewGroup, viewType: Int): RecyclerView.ViewHolder? {\r\n            return viewHolderProvider!!.provideViewHolder(viewGroup, viewType)\r\n        }\r\n\r\n        override fun onBindViewHolder(viewHolder: RecyclerView.ViewHolder, position: Int) {\r\n            items[position].bindViewHolder(viewHolder)\r\n        }\r\n    }\r\n\r\nThere are *only* three steps to create a new view type:\r\n\r\n1. create a view holder class\r\n2. create an adapter item class (extending from AdapterItemBase)\r\n3. register the view holder class in `ViewHolderProvider`\r\n\r\nHere is an example of this concept: [android-drawer-template][1].\r\n\r\nIt goes even further - a view type which acts as a spinner component, with selectable adapter items.\r\n\r\n  [1]: https://github.com/michalfaber/android-drawer-template &quot;GitHub&quot;\r\n\r\n\r\n","title":"How to create RecyclerView with multiple view types","body":"<p>I have a better solution which allows to create multiple view types in a declarative and type safe way. It’s written in Kotlin which, by the way, is really nice.</p>\n<p>Simple view holders for all required view types</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>class ViewHolderMedium(itemView: View) : RecyclerView.ViewHolder(itemView) {\n    val icon: ImageView = itemView.findViewById(R.id.icon) as ImageView\n    val label: TextView = itemView.findViewById(R.id.label) as TextView\n}\n</code></pre>\n<p>There is an abstraction of adapter data item. Note that a view type is represented by a hashCode of particular view holder class (KClass in Kotlin)</p>\n<pre class=\"lang-scala prettyprint-override\"><code>trait AdapterItem {\n   val viewType: Int\n   fun bindViewHolder(viewHolder: RecyclerView.ViewHolder)\n}\n\nabstract class AdapterItemBase&lt;T&gt;(val viewHolderClass: KClass&lt;T&gt;) : AdapterItem {\n   override val viewType: Int = viewHolderClass.hashCode()\n   abstract fun bindViewHolder(viewHolder: T)\n   override fun bindViewHolder(viewHolder: RecyclerView.ViewHolder) {\n       bindViewHolder(viewHolder as T)\n   }\n}\n</code></pre>\n<p>Only <code>bindViewHolder</code> needs to be overridden in concrete adapter item classes (type safe way).</p>\n<pre class=\"lang-scala prettyprint-override\"><code>class AdapterItemMedium(val icon: Drawable, val label: String, val onClick: () -&gt; Unit) : AdapterItemBase&lt;ViewHolderMedium&gt;(ViewHolderMedium::class) {\n    override fun bindViewHolder(viewHolder: ViewHolderMedium) {\n        viewHolder.icon.setImageDrawable(icon)\n        viewHolder.label.setText(label)\n        viewHolder.itemView.setOnClickListener { onClick() }\n    }\n}\n</code></pre>\n<p>List of such <code>AdapterItemMedium</code> objects is a data source for the adapter which actually accepts <code>List&lt;AdapterItem&gt;</code>. See below.</p>\n<p>The important part of this solution is a view holder factory which will provide fresh instances of a specific ViewHolder:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>class ViewHolderProvider {\n    private val viewHolderFactories = hashMapOf&lt;Int, Pair&lt;Int, Any&gt;&gt;()\n\n    fun provideViewHolder(viewGroup: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\n        val (layoutId: Int, f: Any) = viewHolderFactories.get(viewType)\n        val viewHolderFactory = f as (View) -&gt; RecyclerView.ViewHolder\n        val view = LayoutInflater.from(viewGroup.getContext()).inflate(layoutId, viewGroup, false)\n        return viewHolderFactory(view)\n    }\n\n    fun registerViewHolderFactory&lt;T&gt;(key: KClass&lt;T&gt;, layoutId: Int, viewHolderFactory: (View) -&gt; T) {\n        viewHolderFactories.put(key.hashCode(), Pair(layoutId, viewHolderFactory))\n    }\n}\n</code></pre>\n<p>And the simple adapter class looks like this:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>public class MultitypeAdapter(val items: List&lt;AdapterItem&gt;) : RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;() {\n\n   val viewHolderProvider = ViewHolderProvider() // inject ex Dagger2\n\n   init {\n        viewHolderProvider!!.registerViewHolderFactory(ViewHolderMedium::class, R.layout.item_medium, { itemView -&gt;\n            ViewHolderMedium(itemView)\n        })\n   }\n\n   override fun getItemViewType(position: Int): Int {\n        return items[position].viewType\n    }\n\n    override fun getItemCount(): Int {\n        return items.size()\n    }\n\n    override fun onCreateViewHolder(viewGroup: ViewGroup, viewType: Int): RecyclerView.ViewHolder? {\n        return viewHolderProvider!!.provideViewHolder(viewGroup, viewType)\n    }\n\n    override fun onBindViewHolder(viewHolder: RecyclerView.ViewHolder, position: Int) {\n        items[position].bindViewHolder(viewHolder)\n    }\n}\n</code></pre>\n<p>There are <em>only</em> three steps to create a new view type:</p>\n<ol>\n<li>create a view holder class</li>\n<li>create an adapter item class (extending from AdapterItemBase)</li>\n<li>register the view holder class in <code>ViewHolderProvider</code></li>\n</ol>\n<p>Here is an example of this concept: <a href=\"https://github.com/michalfaber/android-drawer-template\" rel=\"nofollow noreferrer\" title=\"GitHub\">android-drawer-template</a>.</p>\n<p>It goes even further - a view type which acts as a spinner component, with selectable adapter items.</p>\n"},{"comments":[{"owner":{"account_id":4752752,"reputation":569,"user_id":3842355,"accept_rate":17,"display_name":"skm"},"score":1,"creation_date":1534048159,"post_id":34464367,"comment_id":90566985,"body_markdown":"How to use then in an activity? Should the type be passed throught the method?","body":"How to use then in an activity? Should the type be passed throught the method?"},{"owner":{"account_id":4752752,"reputation":569,"user_id":3842355,"accept_rate":17,"display_name":"skm"},"score":1,"creation_date":1534058091,"post_id":34464367,"comment_id":90568647,"body_markdown":"How to use this Adapter in Activity? And how does it recognize which Type is in the list","body":"How to use this Adapter in Activity? And how does it recognize which Type is in the list"}],"tags":[],"owner":{"account_id":3248850,"reputation":1011,"user_id":2739684,"accept_rate":78,"display_name":"Islam Assi"},"comment_count":2,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1451059863,"creation_date":1451059863,"answer_id":34464367,"question_id":26245139,"body_markdown":"Yes, it is possible.\r\n\r\nWrite a generic view holder:\r\n    \r\n        public abstract class GenericViewHolder extends RecyclerView.ViewHolder\r\n    {\r\n        public GenericViewHolder(View itemView) {\r\n            super(itemView);\r\n        }\r\n\r\n        public abstract  void setDataOnView(int position);\r\n    }\r\n\r\nthen create your view holders and make them extend the GenericViewHolder. For example, this one:\r\n\r\n         public class SectionViewHolder extends GenericViewHolder{\r\n        public final View mView;\r\n        public final TextView dividerTxtV;\r\n\r\n        public SectionViewHolder(View itemView) {\r\n            super(itemView);\r\n            mView = itemView;\r\n            dividerTxtV = (TextView) mView.findViewById(R.id.dividerTxtV);\r\n        }\r\n\r\n        @Override\r\n        public void setDataOnView(int position) {\r\n            try {\r\n                String title= sections.get(position);\r\n                if(title!= null)\r\n                    this.dividerTxtV.setText(title);\r\n            }catch (Exception e){\r\n                new CustomError(&quot;Error!&quot;+e.getMessage(), null, false, null, e);\r\n            }\r\n        }\r\n    }\r\n        \r\n        \r\nthen the RecyclerView.Adapter class will look like this one:\r\n\r\n    public class MyClassRecyclerViewAdapter extends RecyclerView.Adapter&lt;MyClassRecyclerViewAdapter.GenericViewHolder&gt; {\r\n    \r\n    @Override\r\n    public int getItemViewType(int position) {\r\n         // depends on your problem\r\n         switch (position) {\r\n             case : return VIEW_TYPE1;\r\n             case : return VIEW_TYPE2;\r\n             ...\r\n         }\r\n    }\r\n\r\n        @Override\r\n       public GenericViewHolder onCreateViewHolder(ViewGroup parent, int viewType)  {\r\n        View view;\r\n        if(viewType == VIEW_TYPE1){\r\n            view = LayoutInflater.from(parent.getContext()).inflate(R.layout.layout1, parent, false);\r\n            return new SectionViewHolder(view);\r\n        }else if( viewType == VIEW_TYPE2){\r\n            view = LayoutInflater.from(parent.getContext()).inflate(R.layout.layout2, parent, false);\r\n            return new OtherViewHolder(view);\r\n        }\r\n        // Cont. other view holders ...\r\n        return null;\r\n       }\r\n\r\n    @Override\r\n    public void onBindViewHolder(GenericViewHolder holder, int position) {\r\n        holder.setDataOnView(position);\r\n    }","title":"How to create RecyclerView with multiple view types","body":"<p>Yes, it is possible.</p>\n\n<p>Write a generic view holder:</p>\n\n<pre><code>    public abstract class GenericViewHolder extends RecyclerView.ViewHolder\n{\n    public GenericViewHolder(View itemView) {\n        super(itemView);\n    }\n\n    public abstract  void setDataOnView(int position);\n}\n</code></pre>\n\n<p>then create your view holders and make them extend the GenericViewHolder. For example, this one:</p>\n\n<pre><code>     public class SectionViewHolder extends GenericViewHolder{\n    public final View mView;\n    public final TextView dividerTxtV;\n\n    public SectionViewHolder(View itemView) {\n        super(itemView);\n        mView = itemView;\n        dividerTxtV = (TextView) mView.findViewById(R.id.dividerTxtV);\n    }\n\n    @Override\n    public void setDataOnView(int position) {\n        try {\n            String title= sections.get(position);\n            if(title!= null)\n                this.dividerTxtV.setText(title);\n        }catch (Exception e){\n            new CustomError(\"Error!\"+e.getMessage(), null, false, null, e);\n        }\n    }\n}\n</code></pre>\n\n<p>then the RecyclerView.Adapter class will look like this one:</p>\n\n<pre><code>public class MyClassRecyclerViewAdapter extends RecyclerView.Adapter&lt;MyClassRecyclerViewAdapter.GenericViewHolder&gt; {\n\n@Override\npublic int getItemViewType(int position) {\n     // depends on your problem\n     switch (position) {\n         case : return VIEW_TYPE1;\n         case : return VIEW_TYPE2;\n         ...\n     }\n}\n\n    @Override\n   public GenericViewHolder onCreateViewHolder(ViewGroup parent, int viewType)  {\n    View view;\n    if(viewType == VIEW_TYPE1){\n        view = LayoutInflater.from(parent.getContext()).inflate(R.layout.layout1, parent, false);\n        return new SectionViewHolder(view);\n    }else if( viewType == VIEW_TYPE2){\n        view = LayoutInflater.from(parent.getContext()).inflate(R.layout.layout2, parent, false);\n        return new OtherViewHolder(view);\n    }\n    // Cont. other view holders ...\n    return null;\n   }\n\n@Override\npublic void onBindViewHolder(GenericViewHolder holder, int position) {\n    holder.setDataOnView(position);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5233642,"reputation":2138,"user_id":4183017,"accept_rate":83,"display_name":"Ioane Sharvadze"},"score":3,"creation_date":1507554334,"post_id":38787146,"comment_id":80243340,"body_markdown":"Yes, that might work, but will make confusing for other developers. \nAlso from Documentation\n`Note: Integers must be in the range 0 to getViewTypeCount() - 1. IGNORE_ITEM_VIEW_TYPE can also be returned.`\nSo it&#39;s just better to write bit more code and don&#39;t use hacks.","body":"Yes, that might work, but will make confusing for other developers.  Also from Documentation <code>Note: Integers must be in the range 0 to getViewTypeCount() - 1. IGNORE_ITEM_VIEW_TYPE can also be returned.</code> So it&#39;s just better to write bit more code and don&#39;t use hacks."},{"owner":{"account_id":8719765,"reputation":1168,"user_id":6523288,"display_name":"Dragas"},"score":1,"creation_date":1507642970,"post_id":38787146,"comment_id":80285030,"body_markdown":"I agree. Back then i had missed that particular clause.","body":"I agree. Back then i had missed that particular clause."},{"owner":{"account_id":2878530,"reputation":931,"user_id":2469900,"display_name":"Deemoe"},"score":1,"creation_date":1515694481,"post_id":38787146,"comment_id":83408415,"body_markdown":"Thats funny because the RecyclerView.Adapter:getItemViewType() docs here https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter.html#getItemViewType(int) suggest what Dragas had posted that you should &quot;Consider using id resources to uniquely identify item view types.&quot; apparently oblivious to the requirement for getViewTypeCount()","body":"Thats funny because the RecyclerView.Adapter:getItemViewType() docs here <a href=\"https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter.html#getItemViewType(int)\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/support/v7/widget/&hellip;</a> suggest what Dragas had posted that you should &quot;Consider using id resources to uniquely identify item view types.&quot; apparently oblivious to the requirement for getViewTypeCount()"}],"tags":[],"owner":{"account_id":8719765,"reputation":1168,"user_id":6523288,"display_name":"Dragas"},"comment_count":3,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1470393383,"creation_date":1470393383,"answer_id":38787146,"question_id":26245139,"body_markdown":"Actually, I&#39;d like to improve on [Anton&#39;s answer](https://stackoverflow.com/a/26245463/6523288).\r\n\r\nSince `getItemViewType(int position)` returns an integer value, you can return the layout resource ID you&#39;d need to inflate. That way you&#39;d save some logic in `onCreateViewHolder(ViewGroup parent, int viewType)` method.\r\n\r\nAlso, I wouldn&#39;t suggest doing intensive calculations in `getItemCount()` as that particular function is called at least 5 times while rendering the list, as well as while rendering each item beyond the visible items. Sadly since `notifyDatasetChanged()` method is final, you can&#39;t really override it, but you can call it from another function within the adapter.","title":"How to create RecyclerView with multiple view types","body":"<p>Actually, I'd like to improve on <a href=\"https://stackoverflow.com/a/26245463/6523288\">Anton's answer</a>.</p>\n\n<p>Since <code>getItemViewType(int position)</code> returns an integer value, you can return the layout resource ID you'd need to inflate. That way you'd save some logic in <code>onCreateViewHolder(ViewGroup parent, int viewType)</code> method.</p>\n\n<p>Also, I wouldn't suggest doing intensive calculations in <code>getItemCount()</code> as that particular function is called at least 5 times while rendering the list, as well as while rendering each item beyond the visible items. Sadly since <code>notifyDatasetChanged()</code> method is final, you can't really override it, but you can call it from another function within the adapter.</p>\n"},{"tags":[],"owner":{"account_id":7347252,"reputation":719,"user_id":5594549,"accept_rate":50,"display_name":"Tulsi"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1625681838,"creation_date":1483365699,"answer_id":41428280,"question_id":26245139,"body_markdown":"It is very simple and straightforward.\r\n\r\nJust *override* the [getItemViewType()][1] method in your adapter. On the basis of data return different itemViewType values. E.g., consider an object of type Person with a member isMale, if isMale is true, return 1 and isMale is false, return 2 in the [getItemViewType()][1] method.\r\n\r\nNow coming to the [createViewHolder (ViewGroup parent, int viewType)][2], on the basis of different viewType yon can inflate the different layout file. Like the following:\r\n\r\n     if (viewType == 1){\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.male, parent, false);\r\n        return new AdapterMaleViewHolder(view);\r\n    }\r\n    else{\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.female, parent, false);\r\n        return new AdapterFemaleViewHolder(view);\r\n    }\r\n\r\nin [onBindViewHolder (VH holder,int position)][3] check where holder is an instance of `AdapterFemaleViewHolder` or `AdapterMaleViewHolder` by `instanceof` and accordingly assign the values.\r\n\r\nViewHolder *may* be like this\r\n\r\n        class AdapterMaleViewHolder extends RecyclerView.ViewHolder {\r\n                ...\r\n                public AdapterMaleViewHolder(View itemView){\r\n                ...\r\n                }\r\n            }\r\n\r\n        class AdapterFemaleViewHolder extends RecyclerView.ViewHolder {\r\n             ...\r\n             public AdapterFemaleViewHolder(View itemView){\r\n                ...\r\n             }\r\n        }\r\n\r\n  [1]: https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter.html#getItemViewType(int)\r\n  [2]: https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter.html#createViewHolder(android.view.ViewGroup,%20int)\r\n  [3]: https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter.html#onBindViewHolder(VH,%20int)\r\n\r\n\r\n\r\n","title":"How to create RecyclerView with multiple view types","body":"<p>It is very simple and straightforward.</p>\n<p>Just <em>override</em> the <a href=\"https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter.html#getItemViewType(int)\" rel=\"nofollow noreferrer\">getItemViewType()</a> method in your adapter. On the basis of data return different itemViewType values. E.g., consider an object of type Person with a member isMale, if isMale is true, return 1 and isMale is false, return 2 in the <a href=\"https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter.html#getItemViewType(int)\" rel=\"nofollow noreferrer\">getItemViewType()</a> method.</p>\n<p>Now coming to the <a href=\"https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter.html#createViewHolder(android.view.ViewGroup,%20int)\" rel=\"nofollow noreferrer\">createViewHolder (ViewGroup parent, int viewType)</a>, on the basis of different viewType yon can inflate the different layout file. Like the following:</p>\n<pre><code> if (viewType == 1){\n    View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.male, parent, false);\n    return new AdapterMaleViewHolder(view);\n}\nelse{\n    View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.female, parent, false);\n    return new AdapterFemaleViewHolder(view);\n}\n</code></pre>\n<p>in <a href=\"https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter.html#onBindViewHolder(VH,%20int)\" rel=\"nofollow noreferrer\">onBindViewHolder (VH holder,int position)</a> check where holder is an instance of <code>AdapterFemaleViewHolder</code> or <code>AdapterMaleViewHolder</code> by <code>instanceof</code> and accordingly assign the values.</p>\n<p>ViewHolder <em>may</em> be like this</p>\n<pre><code>    class AdapterMaleViewHolder extends RecyclerView.ViewHolder {\n            ...\n            public AdapterMaleViewHolder(View itemView){\n            ...\n            }\n        }\n\n    class AdapterFemaleViewHolder extends RecyclerView.ViewHolder {\n         ...\n         public AdapterFemaleViewHolder(View itemView){\n            ...\n         }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6299077,"reputation":559,"user_id":4894238,"display_name":"Vitaly"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1625681972,"creation_date":1484640729,"answer_id":41691949,"question_id":26245139,"body_markdown":"You can use the library: https://github.com/vivchar/RendererRecyclerViewAdapter\r\n\r\n    mRecyclerViewAdapter = new RendererRecyclerViewAdapter(); /* Included from library */\r\n    mRecyclerViewAdapter.registerRenderer(new SomeViewRenderer(SomeModel.TYPE, this));\r\n    mRecyclerViewAdapter.registerRenderer(...); /* You can use several types of cells */\r\n\r\nFor each item, you should to implement a ViewRenderer, ViewHolder, SomeModel:\r\n\r\nViewHolder - it is a simple view holder of recycler view.\r\n\r\nSomeModel - it is your model with `ItemModel` interface\r\n\r\n    public class SomeViewRenderer extends ViewRenderer&lt;SomeModel, SomeViewHolder&gt; {\r\n\r\n        public SomeViewRenderer(final int type, final Context context) {\r\n            super(type, context);\r\n        }\r\n\r\n        @Override\r\n        public void bindView(@NonNull final SomeModel model, @NonNull final SomeViewHolder holder) {\r\n            holder.mTitle.setText(model.getTitle());\r\n        }\r\n\r\n        @NonNull\r\n        @Override\r\n        public SomeViewHolder createViewHolder(@Nullable final ViewGroup parent) {\r\n            return new SomeViewHolder(LayoutInflater.from(getContext()).inflate(R.layout.some_item, parent, false));\r\n        }\r\n    }\r\n\r\nFor more details you can look at the documentation.\r\n","title":"How to create RecyclerView with multiple view types","body":"<p>You can use the library: <a href=\"https://github.com/vivchar/RendererRecyclerViewAdapter\" rel=\"nofollow noreferrer\">https://github.com/vivchar/RendererRecyclerViewAdapter</a></p>\n<pre><code>mRecyclerViewAdapter = new RendererRecyclerViewAdapter(); /* Included from library */\nmRecyclerViewAdapter.registerRenderer(new SomeViewRenderer(SomeModel.TYPE, this));\nmRecyclerViewAdapter.registerRenderer(...); /* You can use several types of cells */\n</code></pre>\n<p>For each item, you should to implement a ViewRenderer, ViewHolder, SomeModel:</p>\n<p>ViewHolder - it is a simple view holder of recycler view.</p>\n<p>SomeModel - it is your model with <code>ItemModel</code> interface</p>\n<pre><code>public class SomeViewRenderer extends ViewRenderer&lt;SomeModel, SomeViewHolder&gt; {\n\n    public SomeViewRenderer(final int type, final Context context) {\n        super(type, context);\n    }\n\n    @Override\n    public void bindView(@NonNull final SomeModel model, @NonNull final SomeViewHolder holder) {\n        holder.mTitle.setText(model.getTitle());\n    }\n\n    @NonNull\n    @Override\n    public SomeViewHolder createViewHolder(@Nullable final ViewGroup parent) {\n        return new SomeViewHolder(LayoutInflater.from(getContext()).inflate(R.layout.some_item, parent, false));\n    }\n}\n</code></pre>\n<p>For more details you can look at the documentation.</p>\n"},{"comments":[{"owner":{"account_id":211040,"reputation":5482,"user_id":462990,"accept_rate":38,"display_name":"user462990"},"score":0,"creation_date":1546617806,"post_id":49629324,"comment_id":94919968,"body_markdown":"I reformatted my code to mimic this snippet and it now works perfectly. The problem I was having was that on swipe beyond the current page it would crash. Crash no More ! Excellent model,. Thank you . Well done.","body":"I reformatted my code to mimic this snippet and it now works perfectly. The problem I was having was that on swipe beyond the current page it would crash. Crash no More ! Excellent model,. Thank you . Well done."},{"owner":{"account_id":7498653,"reputation":536,"user_id":5697903,"display_name":"Itay Braha"},"score":0,"creation_date":1556975357,"post_id":49629324,"comment_id":98614934,"body_markdown":"Couldn&#39;t find anything helpful for days until I saw this one, Thank you!","body":"Couldn&#39;t find anything helpful for days until I saw this one, Thank you!"}],"tags":[],"owner":{"account_id":11502406,"reputation":614,"user_id":8429796,"display_name":"Sayan Manna"},"comment_count":2,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1625682092,"creation_date":1522756084,"answer_id":49629324,"question_id":26245139,"body_markdown":"Yes, it is possible.\r\n\r\nIn your adapter getItemViewType Layout like this ....\r\n\r\n    public class MultiViewTypeAdapter extends RecyclerView.Adapter {\r\n\r\n        private ArrayList&lt;Model&gt;dataSet;\r\n        Context mContext;\r\n        int total_types;\r\n        MediaPlayer mPlayer;\r\n        private boolean fabStateVolume = false;\r\n\r\n        public static class TextTypeViewHolder extends RecyclerView.ViewHolder {\r\n\r\n            TextView txtType;\r\n            CardView cardView;\r\n\r\n            public TextTypeViewHolder(View itemView) {\r\n                super(itemView);\r\n\r\n                this.txtType = (TextView) itemView.findViewById(R.id.type);\r\n                this.cardView = (CardView) itemView.findViewById(R.id.card_view);\r\n            }\r\n        }\r\n\r\n        public static class ImageTypeViewHolder extends RecyclerView.ViewHolder {\r\n\r\n            TextView txtType;\r\n            ImageView image;\r\n\r\n            public ImageTypeViewHolder(View itemView) {\r\n                super(itemView);\r\n\r\n                this.txtType = (TextView) itemView.findViewById(R.id.type);\r\n                this.image = (ImageView) itemView.findViewById(R.id.background);\r\n            }\r\n        }\r\n\r\n        public static class AudioTypeViewHolder extends RecyclerView.ViewHolder {\r\n\r\n            TextView txtType;\r\n            FloatingActionButton fab;\r\n\r\n            public AudioTypeViewHolder(View itemView) {\r\n                super(itemView);\r\n\r\n                this.txtType = (TextView) itemView.findViewById(R.id.type);\r\n                this.fab = (FloatingActionButton) itemView.findViewById(R.id.fab);\r\n            }\r\n        }\r\n\r\n        public MultiViewTypeAdapter(ArrayList&lt;Model&gt;data, Context context) {\r\n            this.dataSet = data;\r\n            this.mContext = context;\r\n            total_types = dataSet.size();\r\n        }\r\n\r\n        @Override\r\n        public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n\r\n            View view;\r\n            switch (viewType) {\r\n                case Model.TEXT_TYPE:\r\n                    view = LayoutInflater.from(parent.getContext()).inflate(R.layout.text_type, parent, false);\r\n                    return new TextTypeViewHolder(view);\r\n                case Model.IMAGE_TYPE:\r\n                    view = LayoutInflater.from(parent.getContext()).inflate(R.layout.image_type, parent, false);\r\n                    return new ImageTypeViewHolder(view);\r\n                case Model.AUDIO_TYPE:\r\n                    view = LayoutInflater.from(parent.getContext()).inflate(R.layout.audio_type, parent, false);\r\n                    return new AudioTypeViewHolder(view);\r\n            }\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public int getItemViewType(int position) {\r\n\r\n            switch (dataSet.get(position).type) {\r\n                case 0:\r\n                    return Model.TEXT_TYPE;\r\n                case 1:\r\n                    return Model.IMAGE_TYPE;\r\n                case 2:\r\n                    return Model.AUDIO_TYPE;\r\n                default:\r\n                    return -1;\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(final RecyclerView.ViewHolder holder, final int listPosition) {\r\n\r\n            Model object = dataSet.get(listPosition);\r\n            if (object != null) {\r\n                switch (object.type) {\r\n                    case Model.TEXT_TYPE:\r\n                        ((TextTypeViewHolder) holder).txtType.setText(object.text);\r\n\r\n                        break;\r\n                    case Model.IMAGE_TYPE:\r\n                        ((ImageTypeViewHolder) holder).txtType.setText(object.text);\r\n                        ((ImageTypeViewHolder) holder).image.setImageResource(object.data);\r\n                        break;\r\n                    case Model.AUDIO_TYPE:\r\n\r\n                        ((AudioTypeViewHolder) holder).txtType.setText(object.text);\r\n\r\n                }\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return dataSet.size();\r\n        }\r\n    }\r\n\r\nFor the reference link: *[Android RecyclerView Example – Multiple ViewTypes][1]*\r\n\r\n  [1]: https://www.journaldev.com/12372/android-recyclerview-example\r\n\r\n\r\n","title":"How to create RecyclerView with multiple view types","body":"<p>Yes, it is possible.</p>\n<p>In your adapter getItemViewType Layout like this ....</p>\n<pre><code>public class MultiViewTypeAdapter extends RecyclerView.Adapter {\n\n    private ArrayList&lt;Model&gt;dataSet;\n    Context mContext;\n    int total_types;\n    MediaPlayer mPlayer;\n    private boolean fabStateVolume = false;\n\n    public static class TextTypeViewHolder extends RecyclerView.ViewHolder {\n\n        TextView txtType;\n        CardView cardView;\n\n        public TextTypeViewHolder(View itemView) {\n            super(itemView);\n\n            this.txtType = (TextView) itemView.findViewById(R.id.type);\n            this.cardView = (CardView) itemView.findViewById(R.id.card_view);\n        }\n    }\n\n    public static class ImageTypeViewHolder extends RecyclerView.ViewHolder {\n\n        TextView txtType;\n        ImageView image;\n\n        public ImageTypeViewHolder(View itemView) {\n            super(itemView);\n\n            this.txtType = (TextView) itemView.findViewById(R.id.type);\n            this.image = (ImageView) itemView.findViewById(R.id.background);\n        }\n    }\n\n    public static class AudioTypeViewHolder extends RecyclerView.ViewHolder {\n\n        TextView txtType;\n        FloatingActionButton fab;\n\n        public AudioTypeViewHolder(View itemView) {\n            super(itemView);\n\n            this.txtType = (TextView) itemView.findViewById(R.id.type);\n            this.fab = (FloatingActionButton) itemView.findViewById(R.id.fab);\n        }\n    }\n\n    public MultiViewTypeAdapter(ArrayList&lt;Model&gt;data, Context context) {\n        this.dataSet = data;\n        this.mContext = context;\n        total_types = dataSet.size();\n    }\n\n    @Override\n    public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n\n        View view;\n        switch (viewType) {\n            case Model.TEXT_TYPE:\n                view = LayoutInflater.from(parent.getContext()).inflate(R.layout.text_type, parent, false);\n                return new TextTypeViewHolder(view);\n            case Model.IMAGE_TYPE:\n                view = LayoutInflater.from(parent.getContext()).inflate(R.layout.image_type, parent, false);\n                return new ImageTypeViewHolder(view);\n            case Model.AUDIO_TYPE:\n                view = LayoutInflater.from(parent.getContext()).inflate(R.layout.audio_type, parent, false);\n                return new AudioTypeViewHolder(view);\n        }\n        return null;\n    }\n\n    @Override\n    public int getItemViewType(int position) {\n\n        switch (dataSet.get(position).type) {\n            case 0:\n                return Model.TEXT_TYPE;\n            case 1:\n                return Model.IMAGE_TYPE;\n            case 2:\n                return Model.AUDIO_TYPE;\n            default:\n                return -1;\n        }\n    }\n\n    @Override\n    public void onBindViewHolder(final RecyclerView.ViewHolder holder, final int listPosition) {\n\n        Model object = dataSet.get(listPosition);\n        if (object != null) {\n            switch (object.type) {\n                case Model.TEXT_TYPE:\n                    ((TextTypeViewHolder) holder).txtType.setText(object.text);\n\n                    break;\n                case Model.IMAGE_TYPE:\n                    ((ImageTypeViewHolder) holder).txtType.setText(object.text);\n                    ((ImageTypeViewHolder) holder).image.setImageResource(object.data);\n                    break;\n                case Model.AUDIO_TYPE:\n\n                    ((AudioTypeViewHolder) holder).txtType.setText(object.text);\n\n            }\n        }\n    }\n\n    @Override\n    public int getItemCount() {\n        return dataSet.size();\n    }\n}\n</code></pre>\n<p>For the reference link: <em><a href=\"https://www.journaldev.com/12372/android-recyclerview-example\" rel=\"nofollow noreferrer\">Android RecyclerView Example – Multiple ViewTypes</a></em></p>\n"},{"tags":[],"owner":{"account_id":5981137,"reputation":17327,"user_id":4700156,"accept_rate":64,"display_name":"Rohit Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1625682635,"creation_date":1530616068,"answer_id":51153083,"question_id":26245139,"body_markdown":"### Create a different ViewHolder for different layouts\r\n\r\n[![Enter image description here][1]][1]\r\n\r\nRecyclerView can have any number of viewholders you want, but for better readability let’s see how to create one with two ViewHolders.\r\n\r\n&gt; It can be done in three simple steps\r\n\r\n 1. Override `public int getItemViewType(int position)`\r\n 2. Return different ViewHolders based on the ViewType in `onCreateViewHolder()` method\r\n 3. Populate View based on the itemViewType in `onBindViewHolder()` method\r\n\r\nHere is a small code snippet:\r\n\r\n    public class YourListAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\r\n\r\n       private static final int LAYOUT_ONE = 0;\r\n       private static final int LAYOUT_TWO = 1;\r\n\r\n       @Override\r\n       public int getItemViewType(int position)\r\n       {\r\n          if(position==0)\r\n            return LAYOUT_ONE;\r\n          else\r\n            return LAYOUT_TWO;\r\n       }\r\n\r\n       @Override\r\n       public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n\r\n          View view = null;\r\n          RecyclerView.ViewHolder viewHolder = null;\r\n\r\n          if(viewType==LAYOUT_ONE)\r\n          {\r\n              view = LayoutInflater.from(parent.getContext()).inflate(R.layout.one,parent,false);\r\n              viewHolder = new ViewHolderOne(view);\r\n          }\r\n          else\r\n          {\r\n              view = LayoutInflater.from(parent.getContext()).inflate(R.layout.two,parent,false);\r\n              viewHolder= new ViewHolderTwo(view);\r\n          }\r\n\r\n          return viewHolder;\r\n       }\r\n\r\n       @Override\r\n       public void onBindViewHolder(RecyclerView.ViewHolder holder, final int position) {\r\n\r\n          if(holder.getItemViewType() == LAYOUT_ONE)\r\n          {\r\n                // Typecast Viewholder\r\n                // Set Viewholder properties\r\n                // Add any click listener if any\r\n          }\r\n          else {\r\n            ViewHolderOne vaultItemHolder = (ViewHolderOne) holder;\r\n            vaultItemHolder.name.setText(displayText);\r\n            vaultItemHolder.name.setOnClickListener(new View.OnClickListener() {\r\n               @Override\r\n               public void onClick(View v) {\r\n                .......\r\n               }\r\n             });\r\n           }\r\n       }\r\n\r\n      //****************  VIEW HOLDER 1 ******************//\r\n\r\n       public class ViewHolderOne extends RecyclerView.ViewHolder {\r\n\r\n          public TextView name;\r\n\r\n          public ViewHolderOne(View itemView) {\r\n             super(itemView);\r\n             name = (TextView)itemView.findViewById(R.id.displayName);\r\n         }\r\n       }\r\n\r\n\r\n       //****************  VIEW HOLDER 2 ******************//\r\n\r\n       public class ViewHolderTwo extends RecyclerView.ViewHolder {\r\n\r\n          public ViewHolderTwo(View itemView) {\r\n             super(itemView);\r\n\r\n            ..... Do something\r\n          }\r\n       }\r\n    }\r\n\r\n### getItemViewType(int position) is the key.\r\n\r\nIn my opinion, the starting point to create this kind of recyclerView is the knowledge of this method. Since this method is optional to override, it is not visible in RecylerView class by default which in turn makes many developers (including me) wonder where to begin.\r\n\r\nOnce you know that this method exists, creating such RecyclerView would be a cakewalk.\r\n\r\n&gt; Let&#39;s see one example to prove my point. If you want to show two layout\r\n&gt; at alternate positions do this\r\n\r\n    @Override\r\n    public int getItemViewType(int position)\r\n    {\r\n       if(position%2==0)       // Even position\r\n         return LAYOUT_ONE;\r\n       else                   // Odd position\r\n         return LAYOUT_TWO;\r\n    }\r\n\r\n### Relevant Links:\r\n\r\nCheck out [the project][2] where I have implemented this.\r\n\r\n  [1]: https://i.stack.imgur.com/nvYCw.png\r\n  [2]: https://github.com/rohitksingh/OLA_Play_Music_App/blob/master/OlaPlay/app/src/main/java/rohksin/com/olaplay/Adapters/MusicAdapter.java\r\n\r\n\r\n","title":"How to create RecyclerView with multiple view types","body":"<h3>Create a different ViewHolder for different layouts</h3>\n<p><a href=\"https://i.stack.imgur.com/nvYCw.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/nvYCw.png\" alt=\"Enter image description here\" /></a></p>\n<p>RecyclerView can have any number of viewholders you want, but for better readability let’s see how to create one with two ViewHolders.</p>\n<blockquote>\n<p>It can be done in three simple steps</p>\n</blockquote>\n<ol>\n<li>Override <code>public int getItemViewType(int position)</code></li>\n<li>Return different ViewHolders based on the ViewType in <code>onCreateViewHolder()</code> method</li>\n<li>Populate View based on the itemViewType in <code>onBindViewHolder()</code> method</li>\n</ol>\n<p>Here is a small code snippet:</p>\n<pre><code>public class YourListAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\n\n   private static final int LAYOUT_ONE = 0;\n   private static final int LAYOUT_TWO = 1;\n\n   @Override\n   public int getItemViewType(int position)\n   {\n      if(position==0)\n        return LAYOUT_ONE;\n      else\n        return LAYOUT_TWO;\n   }\n\n   @Override\n   public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n\n      View view = null;\n      RecyclerView.ViewHolder viewHolder = null;\n\n      if(viewType==LAYOUT_ONE)\n      {\n          view = LayoutInflater.from(parent.getContext()).inflate(R.layout.one,parent,false);\n          viewHolder = new ViewHolderOne(view);\n      }\n      else\n      {\n          view = LayoutInflater.from(parent.getContext()).inflate(R.layout.two,parent,false);\n          viewHolder= new ViewHolderTwo(view);\n      }\n\n      return viewHolder;\n   }\n\n   @Override\n   public void onBindViewHolder(RecyclerView.ViewHolder holder, final int position) {\n\n      if(holder.getItemViewType() == LAYOUT_ONE)\n      {\n            // Typecast Viewholder\n            // Set Viewholder properties\n            // Add any click listener if any\n      }\n      else {\n        ViewHolderOne vaultItemHolder = (ViewHolderOne) holder;\n        vaultItemHolder.name.setText(displayText);\n        vaultItemHolder.name.setOnClickListener(new View.OnClickListener() {\n           @Override\n           public void onClick(View v) {\n            .......\n           }\n         });\n       }\n   }\n\n  //****************  VIEW HOLDER 1 ******************//\n\n   public class ViewHolderOne extends RecyclerView.ViewHolder {\n\n      public TextView name;\n\n      public ViewHolderOne(View itemView) {\n         super(itemView);\n         name = (TextView)itemView.findViewById(R.id.displayName);\n     }\n   }\n\n\n   //****************  VIEW HOLDER 2 ******************//\n\n   public class ViewHolderTwo extends RecyclerView.ViewHolder {\n\n      public ViewHolderTwo(View itemView) {\n         super(itemView);\n\n        ..... Do something\n      }\n   }\n}\n</code></pre>\n<h3>getItemViewType(int position) is the key.</h3>\n<p>In my opinion, the starting point to create this kind of recyclerView is the knowledge of this method. Since this method is optional to override, it is not visible in RecylerView class by default which in turn makes many developers (including me) wonder where to begin.</p>\n<p>Once you know that this method exists, creating such RecyclerView would be a cakewalk.</p>\n<blockquote>\n<p>Let's see one example to prove my point. If you want to show two layout\nat alternate positions do this</p>\n</blockquote>\n<pre><code>@Override\npublic int getItemViewType(int position)\n{\n   if(position%2==0)       // Even position\n     return LAYOUT_ONE;\n   else                   // Odd position\n     return LAYOUT_TWO;\n}\n</code></pre>\n<h3>Relevant Links:</h3>\n<p>Check out <a href=\"https://github.com/rohitksingh/OLA_Play_Music_App/blob/master/OlaPlay/app/src/main/java/rohksin/com/olaplay/Adapters/MusicAdapter.java\" rel=\"noreferrer\">the project</a> where I have implemented this.</p>\n"},{"tags":[],"owner":{"account_id":8233959,"reputation":771,"user_id":6193843,"display_name":"Link182"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1625682738,"creation_date":1545490401,"answer_id":53896666,"question_id":26245139,"body_markdown":"View types implementation becomes easier with Kotlin. Here is a sample with this light library https://github.com/Link184/KidAdapter\r\n\r\n    recyclerView.setUp {\r\n        withViewType {\r\n            withLayoutResId(R.layout.item_int)\r\n            withItems(mutableListOf(1, 2, 3, 4, 5, 6))\r\n            bind&lt;Int&gt; { // this - is adapter view hoder itemView, it - current item\r\n                intName.text = it.toString()\r\n            }\r\n        }\r\n\r\n\r\n        withViewType(&quot;SECOND_STRING_TAG&quot;) {\r\n            withLayoutResId(R.layout.item_text)\r\n            withItems(mutableListOf(&quot;eight&quot;, &quot;nine&quot;, &quot;ten&quot;, &quot;eleven&quot;, &quot;twelve&quot;))\r\n            bind&lt;String&gt; {\r\n                stringName.text = it\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How to create RecyclerView with multiple view types","body":"<p>View types implementation becomes easier with Kotlin. Here is a sample with this light library <a href=\"https://github.com/Link184/KidAdapter\" rel=\"nofollow noreferrer\">https://github.com/Link184/KidAdapter</a></p>\n<pre><code>recyclerView.setUp {\n    withViewType {\n        withLayoutResId(R.layout.item_int)\n        withItems(mutableListOf(1, 2, 3, 4, 5, 6))\n        bind&lt;Int&gt; { // this - is adapter view hoder itemView, it - current item\n            intName.text = it.toString()\n        }\n    }\n\n\n    withViewType(&quot;SECOND_STRING_TAG&quot;) {\n        withLayoutResId(R.layout.item_text)\n        withItems(mutableListOf(&quot;eight&quot;, &quot;nine&quot;, &quot;ten&quot;, &quot;eleven&quot;, &quot;twelve&quot;))\n        bind&lt;String&gt; {\n            stringName.text = it\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7858454,"reputation":849,"user_id":11316741,"display_name":"Dmitrii Bychkov"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1625682833,"creation_date":1554463446,"answer_id":55534303,"question_id":26245139,"body_markdown":"I recommend this library from Hannes Dorfmann. It encapsulates all the logic related to a particular view type in a separate object called &quot;AdapterDelegate&quot;.\r\n\r\n[https://github.com/sockeqwe/AdapterDelegates][1]\r\n\r\n    public class CatAdapterDelegate extends AdapterDelegate&lt;List&lt;Animal&gt;&gt; {\r\n\r\n      private LayoutInflater inflater;\r\n\r\n      public CatAdapterDelegate(Activity activity) {\r\n        inflater = activity.getLayoutInflater();\r\n      }\r\n\r\n      @Override public boolean isForViewType(@NonNull List&lt;Animal&gt; items, int position) {\r\n        return items.get(position) instanceof Cat;\r\n      }\r\n\r\n      @NonNull @Override public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent) {\r\n        return new CatViewHolder(inflater.inflate(R.layout.item_cat, parent, false));\r\n      }\r\n\r\n      @Override public void onBindViewHolder(@NonNull List&lt;Animal&gt; items, int position,\r\n          @NonNull RecyclerView.ViewHolder holder, @Nullable List&lt;Object&gt; payloads) {\r\n\r\n        CatViewHolder vh = (CatViewHolder) holder;\r\n        Cat cat = (Cat) items.get(position);\r\n\r\n        vh.name.setText(cat.getName());\r\n      }\r\n\r\n      static class CatViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        public TextView name;\r\n\r\n        public CatViewHolder(View itemView) {\r\n          super(itemView);\r\n          name = (TextView) itemView.findViewById(R.id.name);\r\n        }\r\n      }\r\n    }\r\n\r\n    public class AnimalAdapter extends ListDelegationAdapter&lt;List&lt;Animal&gt;&gt; {\r\n\r\n      public AnimalAdapter(Activity activity, List&lt;Animal&gt; items) {\r\n\r\n        // DelegatesManager is a protected Field in ListDelegationAdapter\r\n        delegatesManager.addDelegate(new CatAdapterDelegate(activity))\r\n                        .addDelegate(new DogAdapterDelegate(activity))\r\n                        .addDelegate(new GeckoAdapterDelegate(activity))\r\n                        .addDelegate(23, new SnakeAdapterDelegate(activity));\r\n\r\n        // Set the items from super class.\r\n        setItems(items);\r\n      }\r\n    }\r\n\r\n  [1]: https://github.com/sockeqwe/AdapterDelegates\r\n\r\n\r\n\r\n\r\n","title":"How to create RecyclerView with multiple view types","body":"<p>I recommend this library from Hannes Dorfmann. It encapsulates all the logic related to a particular view type in a separate object called &quot;AdapterDelegate&quot;.</p>\n<p><a href=\"https://github.com/sockeqwe/AdapterDelegates\" rel=\"nofollow noreferrer\">https://github.com/sockeqwe/AdapterDelegates</a></p>\n<pre><code>public class CatAdapterDelegate extends AdapterDelegate&lt;List&lt;Animal&gt;&gt; {\n\n  private LayoutInflater inflater;\n\n  public CatAdapterDelegate(Activity activity) {\n    inflater = activity.getLayoutInflater();\n  }\n\n  @Override public boolean isForViewType(@NonNull List&lt;Animal&gt; items, int position) {\n    return items.get(position) instanceof Cat;\n  }\n\n  @NonNull @Override public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent) {\n    return new CatViewHolder(inflater.inflate(R.layout.item_cat, parent, false));\n  }\n\n  @Override public void onBindViewHolder(@NonNull List&lt;Animal&gt; items, int position,\n      @NonNull RecyclerView.ViewHolder holder, @Nullable List&lt;Object&gt; payloads) {\n\n    CatViewHolder vh = (CatViewHolder) holder;\n    Cat cat = (Cat) items.get(position);\n\n    vh.name.setText(cat.getName());\n  }\n\n  static class CatViewHolder extends RecyclerView.ViewHolder {\n\n    public TextView name;\n\n    public CatViewHolder(View itemView) {\n      super(itemView);\n      name = (TextView) itemView.findViewById(R.id.name);\n    }\n  }\n}\n\npublic class AnimalAdapter extends ListDelegationAdapter&lt;List&lt;Animal&gt;&gt; {\n\n  public AnimalAdapter(Activity activity, List&lt;Animal&gt; items) {\n\n    // DelegatesManager is a protected Field in ListDelegationAdapter\n    delegatesManager.addDelegate(new CatAdapterDelegate(activity))\n                    .addDelegate(new DogAdapterDelegate(activity))\n                    .addDelegate(new GeckoAdapterDelegate(activity))\n                    .addDelegate(23, new SnakeAdapterDelegate(activity));\n\n    // Set the items from super class.\n    setItems(items);\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10858233,"reputation":763,"user_id":7983864,"display_name":"Shahood ul Hassan"},"score":0,"creation_date":1660906462,"post_id":56004879,"comment_id":129649702,"body_markdown":"Ain&#39;t the `int` value in parameters of `onBindViewHolder()` for position, and not view type?","body":"Ain&#39;t the <code>int</code> value in parameters of <code>onBindViewHolder()</code> for position, and not view type?"}],"tags":[],"owner":{"account_id":3499766,"reputation":76,"user_id":2926776,"display_name":"Avinash Ch"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1625683082,"creation_date":1557144386,"answer_id":56004879,"question_id":26245139,"body_markdown":"You can deal with multipleViewTypes `RecyclerAdapter` by making `getItemViewType()` return the expected `viewType` value for that position.\r\n\r\nI prepared an `MultipleViewTypeAdapter` for constructing an MCQ list for examinations which may throw a question that may have two or more valid answers (checkbox options) and a single answer questions (radiobutton options).\r\n\r\nFor this I get the type of question from the API response and I used that for deciding which view I have to show for that question.\r\n\r\n    public class MultiViewTypeAdapter extends RecyclerView.Adapter {\r\n\r\n        Context mContext;\r\n        ArrayList&lt;Question&gt; dataSet;\r\n        ArrayList&lt;String&gt; questions;\r\n        private Object radiobuttontype1;\r\n\r\n\r\n        //Viewholder to display Questions with checkboxes\r\n        public static class Checkboxtype2 extends RecyclerView.ViewHolder {\r\n            ImageView imgclockcheck;\r\n            CheckBox checkbox;\r\n\r\n            public Checkboxtype2(@NonNull View itemView) {\r\n                super(itemView);\r\n                imgclockcheck = (ImageView) itemView.findViewById(R.id.clockout_cbox_image);\r\n                checkbox = (CheckBox) itemView.findViewById(R.id.clockout_cbox);\r\n            }\r\n        }\r\n\r\n        //Viewholder to display Questions with radiobuttons\r\n\r\n        public static class Radiobuttontype1 extends RecyclerView.ViewHolder {\r\n            ImageView clockout_imageradiobutton;\r\n            RadioButton clockout_radiobutton;\r\n            TextView sample;\r\n\r\n            public radiobuttontype1(View itemView) {\r\n                super(itemView);\r\n                clockout_imageradiobutton = (ImageView) itemView.findViewById(R.id.clockout_imageradiobutton);\r\n                clockout_radiobutton = (RadioButton) itemView.findViewById(R.id.clockout_radiobutton);\r\n                sample = (TextView) itemView.findViewById(R.id.sample);\r\n            }\r\n        }\r\n\r\n        public MultiViewTypeAdapter(ArrayList&lt;QueDatum&gt; data, Context context) {\r\n            this.dataSet = data;\r\n            this.mContext = context;\r\n        }\r\n\r\n        @NonNull\r\n        @Override\r\n        public RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup viewGroup, int viewType) {\r\n            if (viewType.equalsIgnoreCase(&quot;1&quot;)) {\r\n                View view = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.clockout_radio_list_row, viewGroup, false);\r\n                return new radiobuttontype1(view);\r\n\r\n            } else if (viewType.equalsIgnoreCase(&quot;2&quot;)) {\r\n                View view = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.clockout_cbox_list_row, viewGroup, false);\r\n                view.setHorizontalFadingEdgeEnabled(true);\r\n                return new Checkboxtype2(view);\r\n\r\n            } else if (viewType.equalsIgnoreCase(&quot;3&quot;)) {\r\n                View view = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.clockout_radio_list_row, viewGroup, false);\r\n                return new Radiobuttontype1(view);\r\n\r\n            } else if (viewType.equalsIgnoreCase(&quot;4&quot;)) {\r\n                View view = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.clockout_radio_list_row, viewGroup, false);\r\n                return new Radiobuttontype1(view);\r\n\r\n            } else if (viewType.equalsIgnoreCase(&quot;5&quot;)) {\r\n                View view = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.clockout_radio_list_row, viewGroup, false);\r\n                return new Radiobuttontype1(view);\r\n            }\r\n\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(@NonNull RecyclerView.ViewHolder viewHolder, int viewType) {\r\n            if (viewType.equalsIgnoreCase(&quot;1&quot;)) {\r\n                options =  dataSet.get(i).getOptions();\r\n                question = dataSet.get(i).getQuestion();\r\n                image = options.get(i).getValue();\r\n                ((radiobuttontype1) viewHolder).clockout_radiobutton.setChecked(false);\r\n                ((radiobuttontype1) viewHolder).sample.setText(question);\r\n                //Loading image bitmap in the ViewHolder&#39;s View\r\n                Picasso.with(mContext)\r\n                        .load(image)\r\n                        .into(((radiobuttontype1) viewHolder).clockout_imageradiobutton);\r\n\r\n            } else if (viewType.equalsIgnoreCase(&quot;2&quot;)) {\r\n                options = (ArrayList&lt;Clockout_questions_Option&gt;) dataSet.get(i).getOptions();\r\n                question = dataSet.get(i).getQuestion();\r\n                image = options.get(i).getValue();\r\n                //Loading image bitmap in the ViewHolder&#39;s View\r\n                Picasso.with(mContext)\r\n                        .load(image)\r\n                        .into(((Checkboxtype2) viewHolder).imgclockcheck);\r\n\r\n            } else if (viewType.equalsIgnoreCase(&quot;3&quot;)) {\r\n                //Fit data to viewHolder for ViewType 3\r\n            } else if (viewType.equalsIgnoreCase(&quot;4&quot;)) {\r\n                //Fit data to viewHolder for ViewType 4\r\n            } else if (viewType.equalsIgnoreCase(&quot;5&quot;)) {\r\n                //Fit data to viewHolder for ViewType 5\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return dataSet.size();\r\n        }\r\n\r\n        /**\r\n         * Returns viewType for that position by picking the viewType value from the\r\n         *     dataset\r\n         */\r\n        @Override\r\n        public int getItemViewType(int position) {\r\n            return dataSet.get(position).getViewType();\r\n        }\r\n    }\r\n\r\nYou can avoid multiple conditionals based viewHolder data fillings in `onBindViewHolder()` by assigning same ids for the similar views across viewHolders which differ in their positioning.\r\n\r\n","title":"How to create RecyclerView with multiple view types","body":"<p>You can deal with multipleViewTypes <code>RecyclerAdapter</code> by making <code>getItemViewType()</code> return the expected <code>viewType</code> value for that position.</p>\n<p>I prepared an <code>MultipleViewTypeAdapter</code> for constructing an MCQ list for examinations which may throw a question that may have two or more valid answers (checkbox options) and a single answer questions (radiobutton options).</p>\n<p>For this I get the type of question from the API response and I used that for deciding which view I have to show for that question.</p>\n<pre><code>public class MultiViewTypeAdapter extends RecyclerView.Adapter {\n\n    Context mContext;\n    ArrayList&lt;Question&gt; dataSet;\n    ArrayList&lt;String&gt; questions;\n    private Object radiobuttontype1;\n\n\n    //Viewholder to display Questions with checkboxes\n    public static class Checkboxtype2 extends RecyclerView.ViewHolder {\n        ImageView imgclockcheck;\n        CheckBox checkbox;\n\n        public Checkboxtype2(@NonNull View itemView) {\n            super(itemView);\n            imgclockcheck = (ImageView) itemView.findViewById(R.id.clockout_cbox_image);\n            checkbox = (CheckBox) itemView.findViewById(R.id.clockout_cbox);\n        }\n    }\n\n    //Viewholder to display Questions with radiobuttons\n\n    public static class Radiobuttontype1 extends RecyclerView.ViewHolder {\n        ImageView clockout_imageradiobutton;\n        RadioButton clockout_radiobutton;\n        TextView sample;\n\n        public radiobuttontype1(View itemView) {\n            super(itemView);\n            clockout_imageradiobutton = (ImageView) itemView.findViewById(R.id.clockout_imageradiobutton);\n            clockout_radiobutton = (RadioButton) itemView.findViewById(R.id.clockout_radiobutton);\n            sample = (TextView) itemView.findViewById(R.id.sample);\n        }\n    }\n\n    public MultiViewTypeAdapter(ArrayList&lt;QueDatum&gt; data, Context context) {\n        this.dataSet = data;\n        this.mContext = context;\n    }\n\n    @NonNull\n    @Override\n    public RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup viewGroup, int viewType) {\n        if (viewType.equalsIgnoreCase(&quot;1&quot;)) {\n            View view = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.clockout_radio_list_row, viewGroup, false);\n            return new radiobuttontype1(view);\n\n        } else if (viewType.equalsIgnoreCase(&quot;2&quot;)) {\n            View view = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.clockout_cbox_list_row, viewGroup, false);\n            view.setHorizontalFadingEdgeEnabled(true);\n            return new Checkboxtype2(view);\n\n        } else if (viewType.equalsIgnoreCase(&quot;3&quot;)) {\n            View view = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.clockout_radio_list_row, viewGroup, false);\n            return new Radiobuttontype1(view);\n\n        } else if (viewType.equalsIgnoreCase(&quot;4&quot;)) {\n            View view = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.clockout_radio_list_row, viewGroup, false);\n            return new Radiobuttontype1(view);\n\n        } else if (viewType.equalsIgnoreCase(&quot;5&quot;)) {\n            View view = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.clockout_radio_list_row, viewGroup, false);\n            return new Radiobuttontype1(view);\n        }\n\n        return null;\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull RecyclerView.ViewHolder viewHolder, int viewType) {\n        if (viewType.equalsIgnoreCase(&quot;1&quot;)) {\n            options =  dataSet.get(i).getOptions();\n            question = dataSet.get(i).getQuestion();\n            image = options.get(i).getValue();\n            ((radiobuttontype1) viewHolder).clockout_radiobutton.setChecked(false);\n            ((radiobuttontype1) viewHolder).sample.setText(question);\n            //Loading image bitmap in the ViewHolder's View\n            Picasso.with(mContext)\n                    .load(image)\n                    .into(((radiobuttontype1) viewHolder).clockout_imageradiobutton);\n\n        } else if (viewType.equalsIgnoreCase(&quot;2&quot;)) {\n            options = (ArrayList&lt;Clockout_questions_Option&gt;) dataSet.get(i).getOptions();\n            question = dataSet.get(i).getQuestion();\n            image = options.get(i).getValue();\n            //Loading image bitmap in the ViewHolder's View\n            Picasso.with(mContext)\n                    .load(image)\n                    .into(((Checkboxtype2) viewHolder).imgclockcheck);\n\n        } else if (viewType.equalsIgnoreCase(&quot;3&quot;)) {\n            //Fit data to viewHolder for ViewType 3\n        } else if (viewType.equalsIgnoreCase(&quot;4&quot;)) {\n            //Fit data to viewHolder for ViewType 4\n        } else if (viewType.equalsIgnoreCase(&quot;5&quot;)) {\n            //Fit data to viewHolder for ViewType 5\n        }\n    }\n\n    @Override\n    public int getItemCount() {\n        return dataSet.size();\n    }\n\n    /**\n     * Returns viewType for that position by picking the viewType value from the\n     *     dataset\n     */\n    @Override\n    public int getItemViewType(int position) {\n        return dataSet.get(position).getViewType();\n    }\n}\n</code></pre>\n<p>You can avoid multiple conditionals based viewHolder data fillings in <code>onBindViewHolder()</code> by assigning same ids for the similar views across viewHolders which differ in their positioning.</p>\n"},{"tags":[],"owner":{"account_id":12731869,"reputation":15110,"user_id":9248201,"display_name":"Pavlo Ostasha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625683341,"creation_date":1570184769,"answer_id":58234559,"question_id":26245139,"body_markdown":"If you want to use it in conjunction with Android Data Binding look into the https://github.com/evant/binding-collection-adapter - it is by far the best solution for the multiple view types ```RecyclerView``` I have even seen.\r\n\r\nYou may use it like\r\n\r\n```kotlin\r\nvar items: AsyncDiffPagedObservableList&lt;BaseListItem&gt; =\r\n        AsyncDiffPagedObservableList(GenericDiff)\r\n\r\n    val onItemBind: OnItemBind&lt;BaseListItem&gt; =\r\n        OnItemBind { itemBinding, _, item -&gt; itemBinding.set(BR.item, item.layoutRes) }\r\n```\r\n\r\nAnd then in the layout where the list is:\r\n\r\n```\r\n &lt;androidx.recyclerview.widget.RecyclerView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                app:enableAnimations=&quot;@{false}&quot;\r\n                app:scrollToPosition=&quot;@{viewModel.scrollPosition}&quot;\r\n\r\n                app:itemBinding=&quot;@{viewModel.onItemBind}&quot;\r\n                app:items=&quot;@{viewModel.items}&quot;\r\n\r\n                app:reverseLayoutManager=&quot;@{true}&quot;/&gt;\r\n```\r\n\r\nYour list items must implement the ```BaseListItem``` interface which looks like this:\r\n\r\n```\r\ninterface BaseListItem {\r\n    val layoutRes: Int\r\n}\r\n```\r\n\r\nAnd the item view should look something like this:\r\n\r\n```\r\n&lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\r\n    &lt;data&gt;\r\n\r\n        &lt;variable\r\n                name=&quot;item&quot;\r\n                type=&quot;...presentation.somescreen.list.YourListItem&quot;/&gt;\r\n    &lt;/data&gt;\r\n\r\n   ...\r\n\r\n&lt;/layout&gt;\r\n```\r\n\r\nWhere ```YourListItem``` implements ```BaseListItem```.\r\n\r\n \r\n","title":"How to create RecyclerView with multiple view types","body":"<p>If you want to use it in conjunction with Android Data Binding look into the <a href=\"https://github.com/evant/binding-collection-adapter\" rel=\"nofollow noreferrer\">https://github.com/evant/binding-collection-adapter</a> - it is by far the best solution for the multiple view types <code>RecyclerView</code> I have even seen.</p>\n<p>You may use it like</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>var items: AsyncDiffPagedObservableList&lt;BaseListItem&gt; =\n        AsyncDiffPagedObservableList(GenericDiff)\n\n    val onItemBind: OnItemBind&lt;BaseListItem&gt; =\n        OnItemBind { itemBinding, _, item -&gt; itemBinding.set(BR.item, item.layoutRes) }\n</code></pre>\n<p>And then in the layout where the list is:</p>\n<pre><code> &lt;androidx.recyclerview.widget.RecyclerView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;0dp&quot;\n                android:layout_weight=&quot;1&quot;\n                app:enableAnimations=&quot;@{false}&quot;\n                app:scrollToPosition=&quot;@{viewModel.scrollPosition}&quot;\n\n                app:itemBinding=&quot;@{viewModel.onItemBind}&quot;\n                app:items=&quot;@{viewModel.items}&quot;\n\n                app:reverseLayoutManager=&quot;@{true}&quot;/&gt;\n</code></pre>\n<p>Your list items must implement the <code>BaseListItem</code> interface which looks like this:</p>\n<pre><code>interface BaseListItem {\n    val layoutRes: Int\n}\n</code></pre>\n<p>And the item view should look something like this:</p>\n<pre><code>&lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n    &lt;data&gt;\n\n        &lt;variable\n                name=&quot;item&quot;\n                type=&quot;...presentation.somescreen.list.YourListItem&quot;/&gt;\n    &lt;/data&gt;\n\n   ...\n\n&lt;/layout&gt;\n</code></pre>\n<p>Where <code>YourListItem</code> implements <code>BaseListItem</code>.</p>\n"},{"tags":[],"owner":{"account_id":15623977,"reputation":135,"user_id":11272095,"display_name":"Genius8020"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625683475,"creation_date":1570283757,"answer_id":58249001,"question_id":26245139,"body_markdown":"First you must create two layout XML files. After that inside recyclerview adapter TYPE_CALL and TYPE_EMAIL are two static values with 1 and 2 respectively in the adapter class.\r\n\r\nNow *define* two static values ​​at the Recycler view Adapter class level, for example: private static int TYPE_CALL = 1; private static int TYPE_EMAIL = 2;\r\n\r\nNow create the view holder with multiple views like this:\r\n\r\n    class CallViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        private TextView txtName;\r\n        private TextView txtAddress;\r\n\r\n        CallViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            txtName = itemView.findViewById(R.id.txtName);\r\n            txtAddress = itemView.findViewById(R.id.txtAddress);\r\n        }\r\n    }\r\n\r\n    class EmailViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        private TextView txtName;\r\n        private TextView txtAddress;\r\n\r\n        EmailViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            txtName = itemView.findViewById(R.id.txtName);\r\n            txtAddress = itemView.findViewById(R.id.txtAddress);\r\n        }\r\n    }\r\n\r\nNow code as below in onCreateViewHolder and onBindViewHolder method in the recyclerview adapter:\r\n\r\n    @NonNull\r\n    @Override\r\n    public RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup viewGroup, int viewType) {\r\n        View view;\r\n        if (viewType == TYPE_CALL) { // for call layout\r\n            view = LayoutInflater.from(context).inflate(R.layout.item_call, viewGroup, false);\r\n            return new CallViewHolder(view);\r\n\r\n        } else { // for email layout\r\n            view = LayoutInflater.from(context).inflate(R.layout.item_email, viewGroup, false);\r\n            return new EmailViewHolder(view);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull RecyclerView.ViewHolder viewHolder, int position) {\r\n        if (getItemViewType(position) == TYPE_CALL) {\r\n            ((CallViewHolder) viewHolder).setCallDetails(employees.get(position));\r\n        } else {\r\n            ((EmailViewHolder) viewHolder).setEmailDetails(employees.get(position));\r\n        }\r\n    }\r\n\r\n","title":"How to create RecyclerView with multiple view types","body":"<p>First you must create two layout XML files. After that inside recyclerview adapter TYPE_CALL and TYPE_EMAIL are two static values with 1 and 2 respectively in the adapter class.</p>\n<p>Now <em>define</em> two static values ​​at the Recycler view Adapter class level, for example: private static int TYPE_CALL = 1; private static int TYPE_EMAIL = 2;</p>\n<p>Now create the view holder with multiple views like this:</p>\n<pre><code>class CallViewHolder extends RecyclerView.ViewHolder {\n\n    private TextView txtName;\n    private TextView txtAddress;\n\n    CallViewHolder(@NonNull View itemView) {\n        super(itemView);\n        txtName = itemView.findViewById(R.id.txtName);\n        txtAddress = itemView.findViewById(R.id.txtAddress);\n    }\n}\n\nclass EmailViewHolder extends RecyclerView.ViewHolder {\n\n    private TextView txtName;\n    private TextView txtAddress;\n\n    EmailViewHolder(@NonNull View itemView) {\n        super(itemView);\n        txtName = itemView.findViewById(R.id.txtName);\n        txtAddress = itemView.findViewById(R.id.txtAddress);\n    }\n}\n</code></pre>\n<p>Now code as below in onCreateViewHolder and onBindViewHolder method in the recyclerview adapter:</p>\n<pre><code>@NonNull\n@Override\npublic RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup viewGroup, int viewType) {\n    View view;\n    if (viewType == TYPE_CALL) { // for call layout\n        view = LayoutInflater.from(context).inflate(R.layout.item_call, viewGroup, false);\n        return new CallViewHolder(view);\n\n    } else { // for email layout\n        view = LayoutInflater.from(context).inflate(R.layout.item_email, viewGroup, false);\n        return new EmailViewHolder(view);\n    }\n}\n\n@Override\npublic void onBindViewHolder(@NonNull RecyclerView.ViewHolder viewHolder, int position) {\n    if (getItemViewType(position) == TYPE_CALL) {\n        ((CallViewHolder) viewHolder).setCallDetails(employees.get(position));\n    } else {\n        ((EmailViewHolder) viewHolder).setEmailDetails(employees.get(position));\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":277973,"reputation":653,"user_id":572286,"accept_rate":98,"display_name":"KisnardOnline"},"score":0,"creation_date":1701065844,"post_id":58744127,"comment_id":136724187,"body_markdown":"This is wonderful, thank you.  Simple to understand and easy to copy/paste and then edit.","body":"This is wonderful, thank you.  Simple to understand and easy to copy/paste and then edit."}],"tags":[],"owner":{"account_id":7503750,"reputation":5055,"user_id":5701085,"display_name":"Asad Ali Choudhry"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1625683647,"creation_date":1573112870,"answer_id":58744127,"question_id":26245139,"body_markdown":"Although the selected answer is correct, I just want to further elaborate it. I found a useful [Custom Adapter for multiple View Types in RecyclerView][1].\r\nIts [Kotlin version is here][2].\r\n\r\nThe custom adapter is the following:\r\n\r\n    public class CustomAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\r\n        private final Context context;\r\n        ArrayList&lt;String&gt; list; // ArrayList of your Data Model\r\n        final int VIEW_TYPE_ONE = 1;\r\n        final int VIEW_TYPE_TWO = 2;\r\n\r\n        public CustomAdapter(Context context, ArrayList&lt;String&gt; list) { // you can pass other parameters in constructor\r\n            this.context = context;\r\n            this.list = list;\r\n        }\r\n\r\n        private class ViewHolder1 extends RecyclerView.ViewHolder {\r\n\r\n            TextView yourView;\r\n            ViewHolder1(final View itemView) {\r\n                super(itemView);\r\n                yourView = itemView.findViewById(R.id.yourView); // Initialize your All views prensent in list items\r\n            }\r\n            void bind(int position) {\r\n                // This method will be called anytime a list item is created or update its data\r\n                // Do your stuff here\r\n                yourView.setText(list.get(position));\r\n            }\r\n        }\r\n\r\n        private class ViewHolder2 extends RecyclerView.ViewHolder {\r\n\r\n            TextView yourView;\r\n            ViewHolder2(final View itemView) {\r\n                super(itemView);\r\n                yourView = itemView.findViewById(R.id.yourView); // Initialize your All views prensent in list items\r\n            }\r\n            void bind(int position) {\r\n                // This method will be called anytime a list item is created or update its data\r\n                //Do your stuff here\r\n                yourView.setText(list.get(position));\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n           if (viewType == VIEW_TYPE_ONE) {\r\n               return new ViewHolder1(LayoutInflater.from(context).inflate(R.layout.your_list_item_1, parent, false));\r\n           }\r\n           //if its not VIEW_TYPE_ONE then its VIEW_TYPE_TWO\r\n           return new ViewHolder2(LayoutInflater.from(context).inflate(R.layout.your_list_item_2, parent, false));\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(RecyclerView.ViewHolder holder, int position) {\r\n            if (list.get(position).type == Something) { // Put your condition, according to your requirements\r\n                ((ViewHolder1) holder).bind(position);\r\n            } else {\r\n                ((ViewHolder2) holder).bind(position);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return list.size();\r\n        }\r\n\r\n        @Override\r\n        public int getItemViewType(int position) {\r\n            // Here you can get decide from your model&#39;s ArrayList, which type of view you need to load. Like\r\n            if (list.get(position).type == Something) { // Put your condition, according to your requirements\r\n                return VIEW_TYPE_ONE;\r\n            }\r\n            return VIEW_TYPE_TWO;\r\n        }\r\n    }\r\n\r\n  [1]: https://handyopinion.com/recyclerview-custom-adapter-with-multiple-view-types-in-java-android/\r\n  [2]: https://handyopinion.com/custom-adapter-with-multiple-view-types-for-recyclerview-in-kotlin-android/\r\n\r\n\r\n\r\n\r\n","title":"How to create RecyclerView with multiple view types","body":"<p>Although the selected answer is correct, I just want to further elaborate it. I found a useful <a href=\"https://handyopinion.com/recyclerview-custom-adapter-with-multiple-view-types-in-java-android/\" rel=\"nofollow noreferrer\">Custom Adapter for multiple View Types in RecyclerView</a>.\nIts <a href=\"https://handyopinion.com/custom-adapter-with-multiple-view-types-for-recyclerview-in-kotlin-android/\" rel=\"nofollow noreferrer\">Kotlin version is here</a>.</p>\n<p>The custom adapter is the following:</p>\n<pre><code>public class CustomAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\n    private final Context context;\n    ArrayList&lt;String&gt; list; // ArrayList of your Data Model\n    final int VIEW_TYPE_ONE = 1;\n    final int VIEW_TYPE_TWO = 2;\n\n    public CustomAdapter(Context context, ArrayList&lt;String&gt; list) { // you can pass other parameters in constructor\n        this.context = context;\n        this.list = list;\n    }\n\n    private class ViewHolder1 extends RecyclerView.ViewHolder {\n\n        TextView yourView;\n        ViewHolder1(final View itemView) {\n            super(itemView);\n            yourView = itemView.findViewById(R.id.yourView); // Initialize your All views prensent in list items\n        }\n        void bind(int position) {\n            // This method will be called anytime a list item is created or update its data\n            // Do your stuff here\n            yourView.setText(list.get(position));\n        }\n    }\n\n    private class ViewHolder2 extends RecyclerView.ViewHolder {\n\n        TextView yourView;\n        ViewHolder2(final View itemView) {\n            super(itemView);\n            yourView = itemView.findViewById(R.id.yourView); // Initialize your All views prensent in list items\n        }\n        void bind(int position) {\n            // This method will be called anytime a list item is created or update its data\n            //Do your stuff here\n            yourView.setText(list.get(position));\n        }\n    }\n\n    @Override\n    public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n       if (viewType == VIEW_TYPE_ONE) {\n           return new ViewHolder1(LayoutInflater.from(context).inflate(R.layout.your_list_item_1, parent, false));\n       }\n       //if its not VIEW_TYPE_ONE then its VIEW_TYPE_TWO\n       return new ViewHolder2(LayoutInflater.from(context).inflate(R.layout.your_list_item_2, parent, false));\n\n    }\n\n    @Override\n    public void onBindViewHolder(RecyclerView.ViewHolder holder, int position) {\n        if (list.get(position).type == Something) { // Put your condition, according to your requirements\n            ((ViewHolder1) holder).bind(position);\n        } else {\n            ((ViewHolder2) holder).bind(position);\n        }\n    }\n\n    @Override\n    public int getItemCount() {\n        return list.size();\n    }\n\n    @Override\n    public int getItemViewType(int position) {\n        // Here you can get decide from your model's ArrayList, which type of view you need to load. Like\n        if (list.get(position).type == Something) { // Put your condition, according to your requirements\n            return VIEW_TYPE_ONE;\n        }\n        return VIEW_TYPE_TWO;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":1,"creation_date":1625683717,"post_id":62554520,"comment_id":120695275,"body_markdown":"The link is broken - *&quot;Hmm. We’re having trouble finding that site. We can’t connect to the server at brona.blog.&quot;*","body":"The link is broken - <i>&quot;Hmm. We’re having trouble finding that site. We can’t connect to the server at brona.blog.&quot;</i>"}],"tags":[],"owner":{"account_id":2851453,"reputation":1579,"user_id":2448589,"accept_rate":50,"display_name":"Mariusz Brona"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1625683707,"creation_date":1592999848,"answer_id":62554520,"question_id":26245139,"body_markdown":"If anyone is interested to see the super simple solution written in Kotlin, check the blogpost I just created. The example in the blogpost is based on creating Sectioned RecyclerView:\r\n\r\nhttps://brona.blog/2020/06/sectioned-recyclerview-in-three-steps/\r\n\r\n","title":"How to create RecyclerView with multiple view types","body":"<p>If anyone is interested to see the super simple solution written in Kotlin, check the blogpost I just created. The example in the blogpost is based on creating Sectioned RecyclerView:</p>\n<p><a href=\"https://brona.blog/2020/06/sectioned-recyclerview-in-three-steps/\" rel=\"nofollow noreferrer\">https://brona.blog/2020/06/sectioned-recyclerview-in-three-steps/</a></p>\n"},{"comments":[{"owner":{"account_id":20266946,"reputation":177,"user_id":14863911,"display_name":"jujuf1"},"score":0,"creation_date":1609616448,"post_id":62585542,"comment_id":115879942,"body_markdown":"Thank you so much.This answer is very helpful. It is necessary to add  `implementation &quot;androidx.recyclerview:recyclerview:1.2.0-alpha04&quot; ` in the gradle.","body":"Thank you so much.This answer is very helpful. It is necessary to add  <code>implementation &quot;androidx.recyclerview:recyclerview:1.2.0-alpha04&quot; </code> in the gradle."},{"owner":{"account_id":16542893,"reputation":752,"user_id":11953196,"display_name":"Atakan Yildirim"},"score":0,"creation_date":1624026077,"post_id":62585542,"comment_id":120252785,"body_markdown":"1.2.1 stable version is available: `implementation &quot;androidx.recyclerview:recyclerview:1.2.1&quot;`. It worked for me perfectly.","body":"1.2.1 stable version is available: <code>implementation &quot;androidx.recyclerview:recyclerview:1.2.1&quot;</code>. It worked for me perfectly."},{"owner":{"account_id":8042601,"reputation":450,"user_id":6063797,"display_name":"Dragan Stojanov"},"score":2,"creation_date":1633348181,"post_id":62585542,"comment_id":122727431,"body_markdown":"Great solution, but how to solve problems when types are mixed? For example, list looks like this: SecondAdapter, FirstAdapter, FirstAdapter, ThirdAdapter, FirstAdapter,SecondAdapter,ThirdAdapter,FirsrtAdapter, SecondAdapter,ThirdAdapter... ?","body":"Great solution, but how to solve problems when types are mixed? For example, list looks like this: SecondAdapter, FirstAdapter, FirstAdapter, ThirdAdapter, FirstAdapter,SecondAdapter,ThirdAdapter,FirsrtAdapter, SecondAdapter,ThirdAdapter... ?"},{"owner":{"account_id":12601597,"reputation":12580,"user_id":9164141,"accept_rate":93,"display_name":"Gast&#243;n Saill&#233;n"},"score":1,"creation_date":1633445527,"post_id":62585542,"comment_id":122758720,"body_markdown":"there is no a problem, you can repeat the adapters, because is a list of adapters and then they are displayed, you can try adding the adapters and then set the recyclerview with the concatadapter","body":"there is no a problem, you can repeat the adapters, because is a list of adapters and then they are displayed, you can try adding the adapters and then set the recyclerview with the concatadapter"}],"tags":[],"owner":{"account_id":12601597,"reputation":12580,"user_id":9164141,"accept_rate":93,"display_name":"Gast&#243;n Saill&#233;n"},"comment_count":4,"down_vote_count":2,"up_vote_count":19,"is_accepted":false,"score":17,"last_activity_date":1673365548,"creation_date":1593125953,"answer_id":62585542,"question_id":26245139,"body_markdown":"Simpler than ever, forget about ViewTypes. It is not recommended to use multiple viewtypes inside one adapter. It will mess the code and break the single responsibility principle since now the adapter needs to handle logic to know which view to inflate.\r\n\r\nNow imagine working in large teams where each team has to work in one of those viewtypes features. It will be a mess to touch the same adapter by all the teams that work in the different viewtypes. This is solved using ConcatAdapter where you isolate the adapters. Code them one by one and then just merge them inside one view.\r\n\r\nFrom `recyclerview:1.2.0-alpha04` you now can use `ConcatAdapter`.\r\n\r\nIf you need a view with different viewTypes, you can just write the Adapters for each section and just use ConcatAdapter to merge all of them inside one recyclerview.\r\n\r\nConcatAdapter\r\n-------------\r\n\r\nThis image shows three different viewtypes that one recyclerview has, header, content and footer.\r\n\r\n[![Enter image description here][1]][1]\r\n\r\nYou only create one adapter for each section, and then just use ConcatAdapter to merge them inside one recyclerview:\r\n\r\n    val firstAdapter: FirstAdapter = …\r\n    val secondAdapter: SecondAdapter = …\r\n    val thirdAdapter: ThirdAdapter = …\r\n    val concatAdapter = ConcatAdapter(firstAdapter, secondAdapter,\r\n                                      thirdAdapter)\r\n    recyclerView.adapter = concatAdapter\r\n\r\n[![Enter image description here][2]][2]\r\n\r\nThat&#39;s all you need to know. If you want to handle loading state, for example remove the last adapter after some loading happened, you can use [LoadState][3].\r\n\r\n  [1]: https://i.stack.imgur.com/qdlpN.png\r\n  [2]: https://i.stack.imgur.com/nnWnq.png\r\n  [3]: https://github.com/googlecodelabs/android-paging/pull/46/files\r\n\r\n\r\nFor more in depth information follow Florina Muntenescu post here https://medium.com/androiddevelopers/merge-adapters-sequentially-with-mergeadapter-294d2942127a\r\n\r\n\r\n\r\n","title":"How to create RecyclerView with multiple view types","body":"<p>Simpler than ever, forget about ViewTypes. It is not recommended to use multiple viewtypes inside one adapter. It will mess the code and break the single responsibility principle since now the adapter needs to handle logic to know which view to inflate.</p>\n<p>Now imagine working in large teams where each team has to work in one of those viewtypes features. It will be a mess to touch the same adapter by all the teams that work in the different viewtypes. This is solved using ConcatAdapter where you isolate the adapters. Code them one by one and then just merge them inside one view.</p>\n<p>From <code>recyclerview:1.2.0-alpha04</code> you now can use <code>ConcatAdapter</code>.</p>\n<p>If you need a view with different viewTypes, you can just write the Adapters for each section and just use ConcatAdapter to merge all of them inside one recyclerview.</p>\n<h2>ConcatAdapter</h2>\n<p>This image shows three different viewtypes that one recyclerview has, header, content and footer.</p>\n<p><a href=\"https://i.stack.imgur.com/qdlpN.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/qdlpN.png\" alt=\"Enter image description here\" /></a></p>\n<p>You only create one adapter for each section, and then just use ConcatAdapter to merge them inside one recyclerview:</p>\n<pre><code>val firstAdapter: FirstAdapter = …\nval secondAdapter: SecondAdapter = …\nval thirdAdapter: ThirdAdapter = …\nval concatAdapter = ConcatAdapter(firstAdapter, secondAdapter,\n                                  thirdAdapter)\nrecyclerView.adapter = concatAdapter\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/nnWnq.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/nnWnq.png\" alt=\"Enter image description here\" /></a></p>\n<p>That's all you need to know. If you want to handle loading state, for example remove the last adapter after some loading happened, you can use <a href=\"https://github.com/googlecodelabs/android-paging/pull/46/files\" rel=\"noreferrer\">LoadState</a>.</p>\n<p>For more in depth information follow Florina Muntenescu post here <a href=\"https://medium.com/androiddevelopers/merge-adapters-sequentially-with-mergeadapter-294d2942127a\" rel=\"noreferrer\">https://medium.com/androiddevelopers/merge-adapters-sequentially-with-mergeadapter-294d2942127a</a></p>\n"},{"tags":[],"owner":{"account_id":40058,"reputation":18491,"user_id":115890,"accept_rate":76,"display_name":"ibrahimyilmaz"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1625684166,"creation_date":1596365827,"answer_id":63215167,"question_id":26245139,"body_markdown":"I firstly recommend you to read Hannes Dorfmann&#39;s [great article][1] about this topic.\r\n\r\nWhen a new view type comes, you have to edit your adapter and you have to handle so many messy things. Your adapter should be *open* for extension, but *closed* for modification.\r\n\r\nYou may check this two project, they can give the idea about how to handle different ViewTypes in Adapter:\r\n\r\n - https://github.com/sockeqwe/AdapterDelegates\r\n\r\n - https://github.com/ibrahimyilmaz/kiel\r\n\r\n  [1]: http://hannesdorfmann.com/android/adapter-delegates\r\n\r\n\r\n\r\n\r\n","title":"How to create RecyclerView with multiple view types","body":"<p>I firstly recommend you to read Hannes Dorfmann's <a href=\"http://hannesdorfmann.com/android/adapter-delegates\" rel=\"nofollow noreferrer\">great article</a> about this topic.</p>\n<p>When a new view type comes, you have to edit your adapter and you have to handle so many messy things. Your adapter should be <em>open</em> for extension, but <em>closed</em> for modification.</p>\n<p>You may check this two project, they can give the idea about how to handle different ViewTypes in Adapter:</p>\n<ul>\n<li><p><a href=\"https://github.com/sockeqwe/AdapterDelegates\" rel=\"nofollow noreferrer\">https://github.com/sockeqwe/AdapterDelegates</a></p>\n</li>\n<li><p><a href=\"https://github.com/ibrahimyilmaz/kiel\" rel=\"nofollow noreferrer\">https://github.com/ibrahimyilmaz/kiel</a></p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2150108,"reputation":1059,"user_id":1906738,"accept_rate":0,"display_name":"Syed Arsalan Kazmi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625684567,"creation_date":1609244283,"answer_id":65492004,"question_id":26245139,"body_markdown":"I did something like this. I passed &quot;fragmentType&quot; and created two `ViewHolders` and on basis of this, I classified my Layouts accordingly in a single adapter that can have different `Layouts` and `LayoutManagers`\r\n\r\n    private Context mContext;\r\n    protected IOnLoyaltyCardCategoriesItemClicked mListener;\r\n    private String fragmentType;\r\n    private View view;\r\n\r\n    public LoyaltyCardsCategoriesRecyclerViewAdapter(Context context, IOnLoyaltyCardCategoriesItemClicked itemListener, String fragmentType) {\r\n        this.mContext = context;\r\n        this.mListener = itemListener;\r\n        this.fragmentType = fragmentType;\r\n    }\r\n\r\n    public class LoyaltyCardCategoriesFragmentViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\r\n\r\n        private ImageView lc_categories_iv;\r\n        private TextView lc_categories_name_tv;\r\n        private int pos;\r\n\r\n        public LoyaltyCardCategoriesFragmentViewHolder(View v) {\r\n            super(v);\r\n            view.setOnClickListener(this);\r\n            lc_categories_iv = (ImageView) v.findViewById(R.id.lc_categories_iv);\r\n            lc_categories_name_tv = (TextView) v.findViewById(R.id.lc_categories_name_tv);\r\n        }\r\n\r\n        public void setData(int pos) {\r\n            this.pos = pos;\r\n            lc_categories_iv.setImageResource(R.mipmap.ic_launcher);\r\n            lc_categories_name_tv.setText(&quot;Loyalty Card Categories&quot;);\r\n        }\r\n\r\n        @Override\r\n        public void onClick(View view) {\r\n            if (mListener != null) {\r\n                mListener.onLoyaltyCardCategoriesItemClicked(pos);\r\n            }\r\n        }\r\n    }\r\n\r\n    public class MyLoyaltyCardsFragmentTagViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\r\n\r\n        public ImageButton lc_categories_btn;\r\n        private int pos;\r\n\r\n        public MyLoyaltyCardsFragmentTagViewHolder(View v) {\r\n            super(v);\r\n            lc_categories_btn = (ImageButton) v.findViewById(R.id.lc_categories_btn);\r\n            lc_categories_btn.setOnClickListener(this);\r\n        }\r\n\r\n        public void setData(int pos) {\r\n            this.pos = pos;\r\n            lc_categories_btn.setImageResource(R.mipmap.ic_launcher);\r\n        }\r\n\r\n        @Override\r\n        public void onClick(View view) {\r\n            if (mListener != null) {\r\n                mListener.onLoyaltyCardCategoriesItemClicked(pos);\r\n            }\r\n        }\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n        if (fragmentType.equalsIgnoreCase(Constants.LoyaltyCardCategoriesFragmentTag)) {\r\n            view = LayoutInflater.from(mContext).inflate(R.layout.loyalty_cards_categories_frag_item, parent, false);\r\n            return new LoyaltyCardCategoriesFragmentViewHolder(view);\r\n        } else if (fragmentType.equalsIgnoreCase(Constants.MyLoyaltyCardsFragmentTag)) {\r\n            view = LayoutInflater.from(mContext).inflate(R.layout.my_loyalty_cards_categories_frag_item, parent, false);\r\n            return new MyLoyaltyCardsFragmentTagViewHolder(view);\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position) {\r\n        if (fragmentType.equalsIgnoreCase(Constants.LoyaltyCardCategoriesFragmentTag)) {\r\n            ((LoyaltyCardCategoriesFragmentViewHolder) holder).setData(position);\r\n        } else if (fragmentType.equalsIgnoreCase(Constants.MyLoyaltyCardsFragmentTag)) {\r\n            ((MyLoyaltyCardsFragmentTagViewHolder) holder).setData(position);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return 7;\r\n    }\r\n\r\n","title":"How to create RecyclerView with multiple view types","body":"<p>I did something like this. I passed &quot;fragmentType&quot; and created two <code>ViewHolders</code> and on basis of this, I classified my Layouts accordingly in a single adapter that can have different <code>Layouts</code> and <code>LayoutManagers</code></p>\n<pre><code>private Context mContext;\nprotected IOnLoyaltyCardCategoriesItemClicked mListener;\nprivate String fragmentType;\nprivate View view;\n\npublic LoyaltyCardsCategoriesRecyclerViewAdapter(Context context, IOnLoyaltyCardCategoriesItemClicked itemListener, String fragmentType) {\n    this.mContext = context;\n    this.mListener = itemListener;\n    this.fragmentType = fragmentType;\n}\n\npublic class LoyaltyCardCategoriesFragmentViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\n\n    private ImageView lc_categories_iv;\n    private TextView lc_categories_name_tv;\n    private int pos;\n\n    public LoyaltyCardCategoriesFragmentViewHolder(View v) {\n        super(v);\n        view.setOnClickListener(this);\n        lc_categories_iv = (ImageView) v.findViewById(R.id.lc_categories_iv);\n        lc_categories_name_tv = (TextView) v.findViewById(R.id.lc_categories_name_tv);\n    }\n\n    public void setData(int pos) {\n        this.pos = pos;\n        lc_categories_iv.setImageResource(R.mipmap.ic_launcher);\n        lc_categories_name_tv.setText(&quot;Loyalty Card Categories&quot;);\n    }\n\n    @Override\n    public void onClick(View view) {\n        if (mListener != null) {\n            mListener.onLoyaltyCardCategoriesItemClicked(pos);\n        }\n    }\n}\n\npublic class MyLoyaltyCardsFragmentTagViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\n\n    public ImageButton lc_categories_btn;\n    private int pos;\n\n    public MyLoyaltyCardsFragmentTagViewHolder(View v) {\n        super(v);\n        lc_categories_btn = (ImageButton) v.findViewById(R.id.lc_categories_btn);\n        lc_categories_btn.setOnClickListener(this);\n    }\n\n    public void setData(int pos) {\n        this.pos = pos;\n        lc_categories_btn.setImageResource(R.mipmap.ic_launcher);\n    }\n\n    @Override\n    public void onClick(View view) {\n        if (mListener != null) {\n            mListener.onLoyaltyCardCategoriesItemClicked(pos);\n        }\n    }\n}\n\n@NonNull\n@Override\npublic RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n    if (fragmentType.equalsIgnoreCase(Constants.LoyaltyCardCategoriesFragmentTag)) {\n        view = LayoutInflater.from(mContext).inflate(R.layout.loyalty_cards_categories_frag_item, parent, false);\n        return new LoyaltyCardCategoriesFragmentViewHolder(view);\n    } else if (fragmentType.equalsIgnoreCase(Constants.MyLoyaltyCardsFragmentTag)) {\n        view = LayoutInflater.from(mContext).inflate(R.layout.my_loyalty_cards_categories_frag_item, parent, false);\n        return new MyLoyaltyCardsFragmentTagViewHolder(view);\n    } else {\n        return null;\n    }\n}\n\n@Override\npublic void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position) {\n    if (fragmentType.equalsIgnoreCase(Constants.LoyaltyCardCategoriesFragmentTag)) {\n        ((LoyaltyCardCategoriesFragmentViewHolder) holder).setData(position);\n    } else if (fragmentType.equalsIgnoreCase(Constants.MyLoyaltyCardsFragmentTag)) {\n        ((MyLoyaltyCardsFragmentTagViewHolder) holder).setData(position);\n    }\n}\n\n@Override\npublic int getItemCount() {\n    return 7;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":325908,"reputation":7254,"user_id":647381,"accept_rate":86,"display_name":"ruX"},"score":5,"creation_date":1632330960,"post_id":65593579,"comment_id":122465637,"body_markdown":"This is actually a perfect fit for the `sealed class`, or in this particular case - `sealed interface`. Having parent `sealed` helps to guarantee that all children are checked in the `if/when` condition","body":"This is actually a perfect fit for the <code>sealed class</code>, or in this particular case - <code>sealed interface</code>. Having parent <code>sealed</code> helps to guarantee that all children are checked in the <code>if&#47;when</code> condition"},{"owner":{"account_id":5297962,"reputation":474,"user_id":4228589,"display_name":"Michael N"},"score":0,"creation_date":1632551381,"post_id":65593579,"comment_id":122528281,"body_markdown":"This is the absolute best way to add sections. Thank you!","body":"This is the absolute best way to add sections. Thank you!"},{"owner":{"account_id":19559005,"reputation":237,"user_id":14630265,"display_name":"Anwar Zahid"},"score":0,"creation_date":1650576179,"post_id":65593579,"comment_id":127158042,"body_markdown":"Best solution I have ever seen.","body":"Best solution I have ever seen."},{"owner":{"account_id":15124467,"reputation":1640,"user_id":10914284,"display_name":"010011100101"},"score":0,"creation_date":1690623925,"post_id":65593579,"comment_id":135381606,"body_markdown":"Worked great. Thanks!","body":"Worked great. Thanks!"}],"tags":[],"owner":{"account_id":7022638,"reputation":58840,"user_id":5381331,"accept_rate":60,"display_name":"Linh"},"comment_count":4,"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1625684674,"creation_date":1609926915,"answer_id":65593579,"question_id":26245139,"body_markdown":"Here is a complete sample to show a RecyclerView with two types, the view type decided by the object.\r\n\r\n**Class model**\r\n\r\n    open class RecyclerViewItem\r\n    class SectionItem(val title: String) : RecyclerViewItem()\r\n    class ContentItem(val name: String, val number: Int) : RecyclerViewItem()\r\n\r\n**Adapter** code\r\n\r\n    const val VIEW_TYPE_SECTION = 1\r\n    const val VIEW_TYPE_ITEM = 2\r\n\r\n    class UserAdapter : RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;() {\r\n\r\n        var data = listOf&lt;RecyclerViewItem&gt;()\r\n\r\n        override fun getItemViewType(position: Int): Int {\r\n            if (data[position] is SectionItem) {\r\n                return VIEW_TYPE_SECTION\r\n            }\r\n            return VIEW_TYPE_ITEM\r\n        }\r\n\r\n        override fun getItemCount(): Int {\r\n            return data.size\r\n        }\r\n\r\n        override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\r\n            if (viewType == VIEW_TYPE_SECTION) {\r\n                return SectionViewHolder(\r\n                    LayoutInflater.from(parent.context).inflate(R.layout.item_user_section, parent, false)\r\n                )\r\n            }\r\n            return ContentViewHolder(\r\n                LayoutInflater.from(parent.context).inflate(R.layout.item_user_content, parent, false)\r\n            )\r\n        }\r\n\r\n        override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\r\n            val item = data[position]\r\n            if (holder is SectionViewHolder &amp;&amp; item is SectionItem) {\r\n                holder.bind(item)\r\n            }\r\n            if (holder is ContentViewHolder &amp;&amp; item is ContentItem) {\r\n                holder.bind(item)\r\n            }\r\n        }\r\n\r\n        internal inner class SectionViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\r\n            fun bind(item: SectionItem) {\r\n                itemView.text_section.text = item.title\r\n            }\r\n        }\r\n\r\n        internal inner class ContentViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\r\n            fun bind(item: ContentItem) {\r\n                itemView.text_name.text = item.name\r\n                itemView.text_number.text = item.number.toString()\r\n            }\r\n        }\r\n    }\r\n\r\n**item_user_section.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;TextView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:id=&quot;@+id/text_section&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;#eee&quot;\r\n        android:padding=&quot;16dp&quot; /&gt;\r\n\r\n**item_user_content.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        android:padding=&quot;32dp&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/text_name&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            tools:text=&quot;Name&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/text_number&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n**Example using**\r\n\r\n    val dataSet = arrayListOf&lt;RecyclerViewItem&gt;(\r\n        SectionItem(&quot;A1&quot;),\r\n        ContentItem(&quot;11&quot;, 11),\r\n        ContentItem(&quot;12&quot;, 12),\r\n        ContentItem(&quot;13&quot;, 13),\r\n\r\n        SectionItem(&quot;A2&quot;),\r\n        ContentItem(&quot;21&quot;, 21),\r\n        ContentItem(&quot;22&quot;, 22),\r\n\r\n        SectionItem(&quot;A3&quot;),\r\n        ContentItem(&quot;31&quot;, 31),\r\n        ContentItem(&quot;32&quot;, 32),\r\n        ContentItem(&quot;33&quot;, 33),\r\n        ContentItem(&quot;33&quot;, 34),\r\n    )\r\n\r\n    recyclerAdapter.data = dataSet\r\n    recyclerAdapter.notifyDataSetChanged()\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/ihugr.png&quot; height=&quot;300&quot; /&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/ihugr.png\r\n\r\n\r\n\r\n\r\n","title":"How to create RecyclerView with multiple view types","body":"<p>Here is a complete sample to show a RecyclerView with two types, the view type decided by the object.</p>\n<p><strong>Class model</strong></p>\n<pre><code>open class RecyclerViewItem\nclass SectionItem(val title: String) : RecyclerViewItem()\nclass ContentItem(val name: String, val number: Int) : RecyclerViewItem()\n</code></pre>\n<p><strong>Adapter</strong> code</p>\n<pre><code>const val VIEW_TYPE_SECTION = 1\nconst val VIEW_TYPE_ITEM = 2\n\nclass UserAdapter : RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;() {\n\n    var data = listOf&lt;RecyclerViewItem&gt;()\n\n    override fun getItemViewType(position: Int): Int {\n        if (data[position] is SectionItem) {\n            return VIEW_TYPE_SECTION\n        }\n        return VIEW_TYPE_ITEM\n    }\n\n    override fun getItemCount(): Int {\n        return data.size\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\n        if (viewType == VIEW_TYPE_SECTION) {\n            return SectionViewHolder(\n                LayoutInflater.from(parent.context).inflate(R.layout.item_user_section, parent, false)\n            )\n        }\n        return ContentViewHolder(\n            LayoutInflater.from(parent.context).inflate(R.layout.item_user_content, parent, false)\n        )\n    }\n\n    override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\n        val item = data[position]\n        if (holder is SectionViewHolder &amp;&amp; item is SectionItem) {\n            holder.bind(item)\n        }\n        if (holder is ContentViewHolder &amp;&amp; item is ContentItem) {\n            holder.bind(item)\n        }\n    }\n\n    internal inner class SectionViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n        fun bind(item: SectionItem) {\n            itemView.text_section.text = item.title\n        }\n    }\n\n    internal inner class ContentViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n        fun bind(item: ContentItem) {\n            itemView.text_name.text = item.name\n            itemView.text_number.text = item.number.toString()\n        }\n    }\n}\n</code></pre>\n<p><strong>item_user_section.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;TextView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:id=&quot;@+id/text_section&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:background=&quot;#eee&quot;\n    android:padding=&quot;16dp&quot; /&gt;\n</code></pre>\n<p><strong>item_user_content.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;horizontal&quot;\n    android:padding=&quot;32dp&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/text_name&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        tools:text=&quot;Name&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/text_number&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot; /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p><strong>Example using</strong></p>\n<pre><code>val dataSet = arrayListOf&lt;RecyclerViewItem&gt;(\n    SectionItem(&quot;A1&quot;),\n    ContentItem(&quot;11&quot;, 11),\n    ContentItem(&quot;12&quot;, 12),\n    ContentItem(&quot;13&quot;, 13),\n\n    SectionItem(&quot;A2&quot;),\n    ContentItem(&quot;21&quot;, 21),\n    ContentItem(&quot;22&quot;, 22),\n\n    SectionItem(&quot;A3&quot;),\n    ContentItem(&quot;31&quot;, 31),\n    ContentItem(&quot;32&quot;, 32),\n    ContentItem(&quot;33&quot;, 33),\n    ContentItem(&quot;33&quot;, 34),\n)\n\nrecyclerAdapter.data = dataSet\nrecyclerAdapter.notifyDataSetChanged()\n</code></pre>\n<img src=\"https://i.stack.imgur.com/ihugr.png\" height=\"300\" />\n"},{"tags":[],"owner":{"account_id":1324323,"reputation":480,"user_id":1269493,"accept_rate":50,"display_name":"Miguel Lasa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625688003,"creation_date":1611320602,"answer_id":65845732,"question_id":26245139,"body_markdown":"I see there are a lot of great answers, incredibly detailed and extensive. In my case, I always understand things better if I follow along the reasoning from almost scratch, step by step. I would recommend you check this link out and whenever you have similar questions, search for any codelabs that address the issue.\r\n\r\n*[Android Kotlin Fundamentals: Headers in RecyclerView][1]*\r\n\r\n  [1]: https://developer.android.com/codelabs/kotlin-android-training-headers#0\r\n","title":"How to create RecyclerView with multiple view types","body":"<p>I see there are a lot of great answers, incredibly detailed and extensive. In my case, I always understand things better if I follow along the reasoning from almost scratch, step by step. I would recommend you check this link out and whenever you have similar questions, search for any codelabs that address the issue.</p>\n<p><em><a href=\"https://developer.android.com/codelabs/kotlin-android-training-headers#0\" rel=\"nofollow noreferrer\">Android Kotlin Fundamentals: Headers in RecyclerView</a></em></p>\n"}],"owner":{"account_id":475072,"reputation":13268,"user_id":885179,"accept_rate":62,"display_name":"Pongpat"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":602940,"favorite_count":0,"down_vote_count":3,"up_vote_count":1060,"accepted_answer_id":26245463,"answer_count":23,"score":1057,"last_activity_date":1673365548,"creation_date":1412715330,"question_id":26245139,"body_markdown":"From *[Create dynamic lists with RecyclerView][1]*:\r\n\r\nWhen we create a `RecyclerView.Adapter` we have to specify `ViewHolder` that will bind with the adapter.\r\n\r\n    public class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.ViewHolder&gt; {\r\n\r\n        private String[] mDataset;\r\n\r\n        public MyAdapter(String[] myDataset) {\r\n            mDataset = myDataset;\r\n        }\r\n\r\n        public static class ViewHolder extends RecyclerView.ViewHolder {\r\n            public TextView mTextView;\r\n            public ViewHolder(TextView v) {\r\n                super(v);\r\n                mTextView = v;\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public MyAdapter.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n            View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.some_layout, parent, false);\r\n\r\n            //findViewById...\r\n\r\n            ViewHolder vh = new ViewHolder(v);\r\n            return vh;\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(ViewHolder holder, int position) {\r\n            holder.mTextView.setText(mDataset[position]);\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return mDataset.length;\r\n        }\r\n    }\r\n\r\nIs it possible to create `RecyclerView` with multiple view types?\r\n\r\n  [1]: https://developer.android.com/preview/material/ui-widgets.html\r\n\r\n\r\n","title":"How to create RecyclerView with multiple view types","body":"<p>From <em><a href=\"https://developer.android.com/preview/material/ui-widgets.html\" rel=\"noreferrer\">Create dynamic lists with RecyclerView</a></em>:</p>\n<p>When we create a <code>RecyclerView.Adapter</code> we have to specify <code>ViewHolder</code> that will bind with the adapter.</p>\n<pre><code>public class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.ViewHolder&gt; {\n\n    private String[] mDataset;\n\n    public MyAdapter(String[] myDataset) {\n        mDataset = myDataset;\n    }\n\n    public static class ViewHolder extends RecyclerView.ViewHolder {\n        public TextView mTextView;\n        public ViewHolder(TextView v) {\n            super(v);\n            mTextView = v;\n        }\n    }\n\n    @Override\n    public MyAdapter.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.some_layout, parent, false);\n\n        //findViewById...\n\n        ViewHolder vh = new ViewHolder(v);\n        return vh;\n    }\n\n    @Override\n    public void onBindViewHolder(ViewHolder holder, int position) {\n        holder.mTextView.setText(mDataset[position]);\n    }\n\n    @Override\n    public int getItemCount() {\n        return mDataset.length;\n    }\n}\n</code></pre>\n<p>Is it possible to create <code>RecyclerView</code> with multiple view types?</p>\n"},{"tags":["java","android","kotlin","mobile"],"owner":{"account_id":11651547,"reputation":1,"user_id":19631906,"display_name":"ytuh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673365501,"creation_date":1673365198,"question_id":75072348,"body_markdown":"I have such a piece of code\r\n\r\n\r\n    private fun snnFormatValidation() {\r\n        binding.snnText.addTextChangedListener(object : TextWatcher {\r\n            private var spaceDeleted = false\r\n            override fun onTextChanged(s: CharSequence, start: Int, before: Int, count: Int) {\r\n                //in-progress\r\n            }\r\n\r\n            override fun beforeTextChanged(s: CharSequence, start: Int, count: Int, after: Int) {\r\n                val charDeleted = s.subSequence(start, start + count)\r\n                spaceDeleted = &quot; &quot; == charDeleted.toString()\r\n            }\r\n\r\n            override fun afterTextChanged(editable: Editable) {\r\n                binding.snnText.removeTextChangedListener(this)\r\n                val cursorPosition: Int = binding.snnText.selectionStart\r\n                val withSpaces = formatText(editable)\r\n                binding.snnText.setText(withSpaces)\r\n                binding.snnText.setSelection(cursorPosition + (withSpaces.length - editable.length))\r\n                if (spaceDeleted) {\r\n                    binding.snnText.setSelection(binding.snnText.selectionStart - 1)\r\n                    spaceDeleted = false\r\n                }\r\n                binding.snnText.addTextChangedListener(this)\r\n            }\r\n\r\n            private fun formatText(text: CharSequence): String {\r\n                val formatted = StringBuilder()\r\n                var count = 0\r\n                for (i in text.indices) {\r\n                    if (Character.isDigit(text[i])) {\r\n                        if (count % 4 == 0 &amp;&amp; count &gt; 0) formatted.append(&quot;-&quot;)\r\n                        formatted.append(text[i])\r\n                        ++count\r\n                    }\r\n                }\r\n                return formatted.toString()\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nBut when I enter 5 characters, I catch the following error\r\n\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.siolla.app, PID: 28136\r\n    java.lang.IndexOutOfBoundsException: setSpan (7 ... 7) ends beyond length 6\r\n        at android.text.SpannableStringBuilder.checkRange(SpannableStringBuilder.java:1326)\r\n        at android.text.SpannableStringBuilder.setSpan(SpannableStringBuilder.java:685)\r\n        at android.text.SpannableStringBuilder.setSpan(SpannableStringBuilder.java:677)\r\n        at androidx.emoji2.text.SpannableBuilder.setSpan(SpannableBuilder.java:140)\r\n        at android.text.Selection.setSelection(Selection.java:94)\r\n        at android.text.Selection.setSelection(Selection.java:78)\r\n        at android.text.Selection.setSelection(Selection.java:153)\r\n        at android.widget.EditText.setSelection(EditText.java:136)\r\n        at com.siolla.application.ui.snn.SnnFragment$snnFormatValidation$1.afterTextChanged(SnnFragment.kt:76)\r\n\r\n\r\nCan anyone explain or show me what I&#39;m doing wrong?","title":"Android: EditText SNN form validation","body":"<p>I have such a piece of code</p>\n<pre><code>private fun snnFormatValidation() {\n    binding.snnText.addTextChangedListener(object : TextWatcher {\n        private var spaceDeleted = false\n        override fun onTextChanged(s: CharSequence, start: Int, before: Int, count: Int) {\n            //in-progress\n        }\n\n        override fun beforeTextChanged(s: CharSequence, start: Int, count: Int, after: Int) {\n            val charDeleted = s.subSequence(start, start + count)\n            spaceDeleted = &quot; &quot; == charDeleted.toString()\n        }\n\n        override fun afterTextChanged(editable: Editable) {\n            binding.snnText.removeTextChangedListener(this)\n            val cursorPosition: Int = binding.snnText.selectionStart\n            val withSpaces = formatText(editable)\n            binding.snnText.setText(withSpaces)\n            binding.snnText.setSelection(cursorPosition + (withSpaces.length - editable.length))\n            if (spaceDeleted) {\n                binding.snnText.setSelection(binding.snnText.selectionStart - 1)\n                spaceDeleted = false\n            }\n            binding.snnText.addTextChangedListener(this)\n        }\n\n        private fun formatText(text: CharSequence): String {\n            val formatted = StringBuilder()\n            var count = 0\n            for (i in text.indices) {\n                if (Character.isDigit(text[i])) {\n                    if (count % 4 == 0 &amp;&amp; count &gt; 0) formatted.append(&quot;-&quot;)\n                    formatted.append(text[i])\n                    ++count\n                }\n            }\n            return formatted.toString()\n        }\n    })\n}\n</code></pre>\n<p>But when I enter 5 characters, I catch the following error</p>\n<p>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.siolla.app, PID: 28136\njava.lang.IndexOutOfBoundsException: setSpan (7 ... 7) ends beyond length 6\nat android.text.SpannableStringBuilder.checkRange(SpannableStringBuilder.java:1326)\nat android.text.SpannableStringBuilder.setSpan(SpannableStringBuilder.java:685)\nat android.text.SpannableStringBuilder.setSpan(SpannableStringBuilder.java:677)\nat androidx.emoji2.text.SpannableBuilder.setSpan(SpannableBuilder.java:140)\nat android.text.Selection.setSelection(Selection.java:94)\nat android.text.Selection.setSelection(Selection.java:78)\nat android.text.Selection.setSelection(Selection.java:153)\nat android.widget.EditText.setSelection(EditText.java:136)\nat com.siolla.application.ui.snn.SnnFragment$snnFormatValidation$1.afterTextChanged(SnnFragment.kt:76)</p>\n<p>Can anyone explain or show me what I'm doing wrong?</p>\n"},{"tags":["java","spring","google-cloud-platform","google-cloud-storage"],"answers":[{"tags":[],"owner":{"account_id":5939721,"reputation":568,"user_id":4671437,"display_name":"Stan Ostrovskii"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673365377,"creation_date":1673077332,"answer_id":75038811,"question_id":75038694,"body_markdown":"Well, that did not take me long to figure out. I was able to make it work as follows:\r\n\r\n    @GetMapping(path = &quot;/file&quot;, produces = MediaType.APPLICATION_OCTET_STREAM_VALUE)\r\n\tpublic ResponseEntity&lt;InputStreamResource&gt; getSpecificFile(@RequestParam String fileName, @RequestParam String bucketName, @RequestParam String projectName) {\r\n        Storage storage = StorageOptions.newBuilder().setProjectId(projectId).build().getService();\r\n\t\tBlob blob = storage.get(bucketName, fileName);\r\n\t\tReadChannel readChannel = blob.reader();\r\n\t\ttry {\r\n\t\t\tString contentType = Files.probeContentType(Paths.get(fileName));\r\n\r\n\t\t\tInputStream inputStream = Channels.newInputStream(readChannel);\r\n\t\t\treturn ResponseEntity.ok().contentType(MediaType.valueOf(contentType))\r\n\t\t\t\t\t.header(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + fileName)\r\n\t\t\t\t\t.body(new InputStreamResource(inputStream));\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn ResponseEntity.internalServerError().body(null);\r\n\t\t}\r\n\t}\r\n\r\nBasically redirect the InputStream to the readChannel instead of the file.","title":"Return file from Google Cloud Storage through REST API without downloading locally first","body":"<p>Well, that did not take me long to figure out. I was able to make it work as follows:</p>\n<pre><code>@GetMapping(path = &quot;/file&quot;, produces = MediaType.APPLICATION_OCTET_STREAM_VALUE)\npublic ResponseEntity&lt;InputStreamResource&gt; getSpecificFile(@RequestParam String fileName, @RequestParam String bucketName, @RequestParam String projectName) {\n    Storage storage = StorageOptions.newBuilder().setProjectId(projectId).build().getService();\n    Blob blob = storage.get(bucketName, fileName);\n    ReadChannel readChannel = blob.reader();\n    try {\n        String contentType = Files.probeContentType(Paths.get(fileName));\n\n        InputStream inputStream = Channels.newInputStream(readChannel);\n        return ResponseEntity.ok().contentType(MediaType.valueOf(contentType))\n                .header(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + fileName)\n                .body(new InputStreamResource(inputStream));\n    } catch (IOException e) {\n        e.printStackTrace();\n        return ResponseEntity.internalServerError().body(null);\n    }\n}\n</code></pre>\n<p>Basically redirect the InputStream to the readChannel instead of the file.</p>\n"}],"owner":{"account_id":5939721,"reputation":568,"user_id":4671437,"display_name":"Stan Ostrovskii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75038811,"answer_count":1,"score":3,"last_activity_date":1673365377,"creation_date":1673075754,"question_id":75038694,"body_markdown":"We would like to have a Java REST API to return files from Google Cloud Storage as attachment. I was able to able to get it to work using the following method. The problem is that the file has to be downloaded locally to the service container (we are deploying on Google Cloud Run) and this is a problem in the case of very large files, and may generally be bad practice. Is there a way to modify this code somehow to skip the creation of a local file? \r\n\r\n\t@GetMapping(path = &quot;/file&quot;, produces = MediaType.APPLICATION_OCTET_STREAM_VALUE)\r\n\tpublic ResponseEntity&lt;InputStreamResource&gt; getSpecificFile(@RequestParam String fileName,\r\n\t\t\t@RequestParam String bucketName, @RequestParam String projectName) {\r\n\t\tStorage storage = StorageOptions.newBuilder().setProjectId(projectId).build().getService();\r\n\t\tBlob blob = storage.get(bucketName, fileName);\r\n\t\tReadChannel readChannel = blob.reader();\r\n\t\tString outputFileName = tempFileDestination.concat(&quot;\\\\&quot;).concat(fileName);\r\n\t\ttry (FileOutputStream fileOutputStream = new FileOutputStream(outputFileName)) {\r\n\t\t\tfileOutputStream.getChannel().transferFrom(readChannel, 0, Long.MAX_VALUE);\r\n\t\t\tString contentType = Files.probeContentType(Paths.get(outputFileName));\r\n\r\n\t\t\tFileInputStream fileInputStream = new FileInputStream(outputFileName);\r\n\t\t\treturn ResponseEntity.ok().contentType(MediaType.valueOf(contentType))\r\n\t\t\t\t\t.header(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + fileName)\r\n\t\t\t\t\t.body(new InputStreamResource(fileInputStream));\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn ResponseEntity.internalServerError().body(null);\r\n\t\t} finally {\r\n\t\t\t// delete the local file as cleanup\r\n\t\t\ttry {\r\n\t\t\t\tFiles.delete(Paths.get(outputFileName));\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n","title":"Return file from Google Cloud Storage through REST API without downloading locally first","body":"<p>We would like to have a Java REST API to return files from Google Cloud Storage as attachment. I was able to able to get it to work using the following method. The problem is that the file has to be downloaded locally to the service container (we are deploying on Google Cloud Run) and this is a problem in the case of very large files, and may generally be bad practice. Is there a way to modify this code somehow to skip the creation of a local file?</p>\n<pre><code>@GetMapping(path = &quot;/file&quot;, produces = MediaType.APPLICATION_OCTET_STREAM_VALUE)\npublic ResponseEntity&lt;InputStreamResource&gt; getSpecificFile(@RequestParam String fileName,\n        @RequestParam String bucketName, @RequestParam String projectName) {\n    Storage storage = StorageOptions.newBuilder().setProjectId(projectId).build().getService();\n    Blob blob = storage.get(bucketName, fileName);\n    ReadChannel readChannel = blob.reader();\n    String outputFileName = tempFileDestination.concat(&quot;\\\\&quot;).concat(fileName);\n    try (FileOutputStream fileOutputStream = new FileOutputStream(outputFileName)) {\n        fileOutputStream.getChannel().transferFrom(readChannel, 0, Long.MAX_VALUE);\n        String contentType = Files.probeContentType(Paths.get(outputFileName));\n\n        FileInputStream fileInputStream = new FileInputStream(outputFileName);\n        return ResponseEntity.ok().contentType(MediaType.valueOf(contentType))\n                .header(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + fileName)\n                .body(new InputStreamResource(fileInputStream));\n    } catch (IOException e) {\n        e.printStackTrace();\n        return ResponseEntity.internalServerError().body(null);\n    } finally {\n        // delete the local file as cleanup\n        try {\n            Files.delete(Paths.get(outputFileName));\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","postgresql","intellij-idea"],"comments":[{"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"score":0,"creation_date":1673364964,"post_id":75072203,"comment_id":132479409,"body_markdown":"I connect to both oracle and postgresql constantly using IDEA&#39;s Database tool. Are you able to click &quot;Test Connection&quot; and get a &quot;Succeeded&quot; message when you look at your database connection properties?","body":"I connect to both oracle and postgresql constantly using IDEA&#39;s Database tool. Are you able to click &quot;Test Connection&quot; and get a &quot;Succeeded&quot; message when you look at your database connection properties?"},{"owner":{"account_id":25289559,"reputation":13,"user_id":19115926,"display_name":"cookerfresh"},"score":0,"creation_date":1673365362,"post_id":75072203,"comment_id":132479590,"body_markdown":"yes, it is connecting well from IDEA&#39;s database tool, it fails only while application is running","body":"yes, it is connecting well from IDEA&#39;s database tool, it fails only while application is running"},{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1673365846,"post_id":75072203,"comment_id":132479804,"body_markdown":"Is that the entirety of the error message? I would think there is another section with better details.  Look in the db servers log file to see what it reports.","body":"Is that the entirety of the error message? I would think there is another section with better details.  Look in the db servers log file to see what it reports."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1673365855,"post_id":75072203,"comment_id":132479807,"body_markdown":"@cookerfresh , `ERROR: Auth failed`, check connection user name and password.","body":"@cookerfresh , <code>ERROR: Auth failed</code>, check connection user name and password."},{"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"score":0,"creation_date":1673367483,"post_id":75072203,"comment_id":132480481,"body_markdown":"When I change my `HikariDataSource` config username and/or pass, I don&#39;t get that `Auth failed` error. I get errors indicating a bad username or pass. I wonder what triggers that `Auth failed` message in particular.","body":"When I change my <code>HikariDataSource</code> config username and/or pass, I don&#39;t get that <code>Auth failed</code> error. I get errors indicating a bad username or pass. I wonder what triggers that <code>Auth failed</code> message in particular."}],"owner":{"account_id":25289559,"reputation":13,"user_id":19115926,"display_name":"cookerfresh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673364539,"creation_date":1673364539,"question_id":75072203,"body_markdown":"I cannot connect to postgresql from intellij idea while running app. It failes to connect to all kinds of datababes - to local db, remote dbs and so on. But it can easily connect these dbs using dbeaver and the app works perfectly on server. Also, the connection is okay if I use another machine for this. Do anyone know, how to fix it? Here is the stacktrace from intellij:\r\n\r\n\r\n```\r\nCaused by: org.postgresql.util.PSQLException: ERROR: Auth failed\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:659) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:180) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:247) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.Driver.makeConnection(Driver.java:434) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.Driver.connect(Driver.java:291) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\r\n\tat liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266) ~[liquibase-core-4.8.0.jar:na]\r\n```\r\n\r\n\r\nI tried everything but nothing helped","title":"Intellij Idea always fails postgresql connection","body":"<p>I cannot connect to postgresql from intellij idea while running app. It failes to connect to all kinds of datababes - to local db, remote dbs and so on. But it can easily connect these dbs using dbeaver and the app works perfectly on server. Also, the connection is okay if I use another machine for this. Do anyone know, how to fix it? Here is the stacktrace from intellij:</p>\n<pre><code>Caused by: org.postgresql.util.PSQLException: ERROR: Auth failed\n    at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:659) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:180) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:247) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.Driver.makeConnection(Driver.java:434) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.Driver.connect(Driver.java:291) ~[postgresql-42.5.1.jar:42.5.1]\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\n    at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266) ~[liquibase-core-4.8.0.jar:na]\n</code></pre>\n<p>I tried everything but nothing helped</p>\n"},{"tags":["java","sockets","multiprocessing","udp","robotics"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1673369405,"post_id":75072163,"comment_id":132481195,"body_markdown":"&quot;Blocking&quot; is not the same as &quot;synchronized&quot;. &quot;Blocking&quot; means that the current thread has to wait, but all other threads are still running. It is therefore unclear where your problem is.","body":"&quot;Blocking&quot; is not the same as &quot;synchronized&quot;. &quot;Blocking&quot; means that the current thread has to wait, but all other threads are still running. It is therefore unclear where your problem is."},{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1673448468,"post_id":75072163,"comment_id":132501829,"body_markdown":"It is not &quot;because ReceiveUDP is a blocking method&quot;","body":"It is not &quot;because ReceiveUDP is a blocking method&quot;"}],"owner":{"account_id":27451171,"reputation":1,"user_id":20943398,"display_name":"Glen Vdb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673364406,"creation_date":1673364406,"question_id":75072163,"body_markdown":"I&#39;m writing a program that enables UDP communication between a KUKA robot (programmed in java) and a python server running on a PC. The program on the robot needs to run multiple methods concurrently because it needs to listen/receive messages on 3 sockets simultaneously (they all need to be listening for messages at all times).\r\n\r\nI first tried this using multi-threading. My main class is DP_UDP_COMM which start running when the robot is started. When starting some initialization between the robot and python server is done to set up the socket connection, after that the communication processes need to be started. An example of 1 of these &#39;communication&#39; threads is shown below as Thread UDP_COMM:\r\n\r\n```\r\n//DP_UDP_COMM class is the main class that gets started when the robot starts\r\npublic class DP_UDP_COMM extends RoboticsAPITask {\r\n\r\n//Some code here\r\n\r\n    //One of the communication processes that needs to run while the DP_UDP_COMM instance is active\r\n    public Thread UDP_COMM = new Thread(new Runnable(){\r\n  \t\tpublic void run(){\r\n  \t    \twhile(running){\r\n  \t\t    \t _log.info(&quot;Thread Started, Waiting for Action&quot;);\r\n   \t\t\r\n  \t    \t\ttry {\r\n  \t    \t\t\tReceiveUDP();\r\n\t  \t  \t\t\t_log.info(&quot;Buffer received is: &quot;+String.valueOf(receive));\r\n\t  \t\t\t\t_log.info(&quot;Type received is: &quot;+String.valueOf(ByteProcess.getType(receive)));\r\n  \t    \t\t\tif(status==0)\r\n  \t    \t\t\t\tprocessPacket(receive);\r\n  \t\t\t\t} catch (Exception e) {\r\n  \t\t\t\t\t// TODO Auto-generated catch block\r\n  \t\t\t\t\tsend = createPacketResponse(&quot;ERROR: &quot;+e.getMessage());\r\n  \t\t\t\t\ttry {\r\n  \t\t\t\t\t\tSendUDP(send);\r\n  \t\t\t\t\t} catch (Exception e1) {\r\n  \t\t\t\t\t\t// TODO Auto-generated catch block\r\n  \t\t\t\t\t\te1.printStackTrace();\t\t\t\t\t}\r\n  \t\t\t\t\te.printStackTrace();\r\n  \t\t\t\t}\t       \t    \t\t\r\n  \t    \t}\r\n  \t\t}\r\n  \t});\r\n\r\n    UDP_COMM.start();   \r\n\r\n//Some code and other methods here\r\n\r\n} \r\n```\r\nThis thread tries to receive a UDP message from a socket using ReceiveUDP(). This is a blocking method so it keeps waiting here untill it receives a message. This message is then processed using processPacket(), which is a method that sends a command to the robot determined by the message that was received. After sending the command it starts listening again for new messages. This loops indefinitely when the robot is active.\r\n\r\nThe other threads are very similar but use slightly different methods which are bound to different sockets.(For example ReceiveUDPEmergency() which is the same as ReceiveUDP() but with a different socket)\r\n\r\nThis is working well with one thread, but when running 3 threads concurrently it doesn&#39;t work anymore because the threads will wait for each other to complete before looping because ReceiveUDP() is a blocking method.\r\n\r\nThe solution for this (I think) is to use multi-processing instead of multi-threading because this truly runs them in parallel instead of sequentially. \r\nHowever when looking at the java.lang.Process documentation I really don&#39;t get how creating a process works. In every example they create/start a process from an external .exe file or something like that. \r\n\r\nIs it possible to create multiple processes that run multiple methods in parallel within my DP_UDP_COMM instance? How would I do this?\r\n\r\n\r\n//What have I tried:\r\nAs explained above I tried multi-threading at first. But this isn&#39;t good enough. \r\n\r\nWith multi-processing it is not clear how to start a process which just runs a method in parallel to the main instance.","title":"Java - How to create a subprocess in a class that is running a method","body":"<p>I'm writing a program that enables UDP communication between a KUKA robot (programmed in java) and a python server running on a PC. The program on the robot needs to run multiple methods concurrently because it needs to listen/receive messages on 3 sockets simultaneously (they all need to be listening for messages at all times).</p>\n<p>I first tried this using multi-threading. My main class is DP_UDP_COMM which start running when the robot is started. When starting some initialization between the robot and python server is done to set up the socket connection, after that the communication processes need to be started. An example of 1 of these 'communication' threads is shown below as Thread UDP_COMM:</p>\n<pre><code>//DP_UDP_COMM class is the main class that gets started when the robot starts\npublic class DP_UDP_COMM extends RoboticsAPITask {\n\n//Some code here\n\n    //One of the communication processes that needs to run while the DP_UDP_COMM instance is active\n    public Thread UDP_COMM = new Thread(new Runnable(){\n        public void run(){\n            while(running){\n                 _log.info(&quot;Thread Started, Waiting for Action&quot;);\n        \n                try {\n                    ReceiveUDP();\n                    _log.info(&quot;Buffer received is: &quot;+String.valueOf(receive));\n                    _log.info(&quot;Type received is: &quot;+String.valueOf(ByteProcess.getType(receive)));\n                    if(status==0)\n                        processPacket(receive);\n                } catch (Exception e) {\n                    // TODO Auto-generated catch block\n                    send = createPacketResponse(&quot;ERROR: &quot;+e.getMessage());\n                    try {\n                        SendUDP(send);\n                    } catch (Exception e1) {\n                        // TODO Auto-generated catch block\n                        e1.printStackTrace();                   }\n                    e.printStackTrace();\n                }                       \n            }\n        }\n    });\n\n    UDP_COMM.start();   \n\n//Some code and other methods here\n\n} \n</code></pre>\n<p>This thread tries to receive a UDP message from a socket using ReceiveUDP(). This is a blocking method so it keeps waiting here untill it receives a message. This message is then processed using processPacket(), which is a method that sends a command to the robot determined by the message that was received. After sending the command it starts listening again for new messages. This loops indefinitely when the robot is active.</p>\n<p>The other threads are very similar but use slightly different methods which are bound to different sockets.(For example ReceiveUDPEmergency() which is the same as ReceiveUDP() but with a different socket)</p>\n<p>This is working well with one thread, but when running 3 threads concurrently it doesn't work anymore because the threads will wait for each other to complete before looping because ReceiveUDP() is a blocking method.</p>\n<p>The solution for this (I think) is to use multi-processing instead of multi-threading because this truly runs them in parallel instead of sequentially.\nHowever when looking at the java.lang.Process documentation I really don't get how creating a process works. In every example they create/start a process from an external .exe file or something like that.</p>\n<p>Is it possible to create multiple processes that run multiple methods in parallel within my DP_UDP_COMM instance? How would I do this?</p>\n<p>//What have I tried:\nAs explained above I tried multi-threading at first. But this isn't good enough.</p>\n<p>With multi-processing it is not clear how to start a process which just runs a method in parallel to the main instance.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9482,"page":741,"page_size":100}
