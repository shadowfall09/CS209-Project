{"items":[{"tags":["java","kotlin","groovy","overloading"],"answers":[{"comments":[{"owner":{"account_id":22244,"reputation":58423,"user_id":54684,"accept_rate":57,"display_name":"Mykola Golubyev"},"score":0,"creation_date":1675020385,"post_id":75277675,"comment_id":132833754,"body_markdown":"Thank makes sense to have only with return variants in Kotlin. If I remove the return variants then Java users will have to always return null. Is there a way to hide implementations from Kotlin?","body":"Thank makes sense to have only with return variants in Kotlin. If I remove the return variants then Java users will have to always return null. Is there a way to hide implementations from Kotlin?"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1675020509,"post_id":75277675,"comment_id":132833784,"body_markdown":"Sure, you can mark them with `@kotlin.Deprecated(DeprecationLevel.HIDDEN)` if you have a dependency on the Kotlin stdlib.","body":"Sure, you can mark them with <code>@kotlin.Deprecated(DeprecationLevel.HIDDEN)</code> if you have a dependency on the Kotlin stdlib."},{"owner":{"account_id":22244,"reputation":58423,"user_id":54684,"accept_rate":57,"display_name":"Mykola Golubyev"},"score":0,"creation_date":1675020693,"post_id":75277675,"comment_id":132833827,"body_markdown":"Any chance to do this from outside module? Want to keep java module as clean as possible","body":"Any chance to do this from outside module? Want to keep java module as clean as possible"},{"owner":{"account_id":22244,"reputation":58423,"user_id":54684,"accept_rate":57,"display_name":"Mykola Golubyev"},"score":0,"creation_date":1675021098,"post_id":75277675,"comment_id":132833922,"body_markdown":"Now I am thinking to do a Kotlin specific ‘http’ instance and have there only one variant that is with return. So Kotlin users will have to follow a different Import path","body":"Now I am thinking to do a Kotlin specific ‘http’ instance and have there only one variant that is with return. So Kotlin users will have to follow a different Import path"}],"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675019803,"creation_date":1675019803,"answer_id":75277675,"question_id":75277476,"body_markdown":"The main problem is that in Kotlin, _everything_ returns -- they may just return `Unit`.  There is no `void`.\r\n\r\nOn the other hand, this may mean there is no need to distinguish between these types, you can just have the &quot;with return&quot; version.","title":"Kotlin overload on lambdas that return a value VS ones that don&#39;t. Java, Groovy works, but Kotlin doesn&#39;t","body":"<p>The main problem is that in Kotlin, <em>everything</em> returns -- they may just return <code>Unit</code>.  There is no <code>void</code>.</p>\n<p>On the other hand, this may mean there is no need to distinguish between these types, you can just have the &quot;with return&quot; version.</p>\n"}],"owner":{"account_id":22244,"reputation":58423,"user_id":54684,"accept_rate":57,"display_name":"Mykola Golubyev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75277675,"answer_count":1,"score":2,"last_activity_date":1675019803,"creation_date":1675017844,"question_id":75277476,"body_markdown":"very new to Kotlin and trying to make some of my API work in Kotlin without changing API much.\r\n\r\nI have a method, let&#39;s call it `client` that receives a `validation` function. There are two variants of `Validation`. One that only suppose to do a validation, and the other can also return a value. To streamline user experience, in Java, I exposed two variants of the method. And it works as expected as I believe Java distincts between `void` and `Object` (&amp;lt;R&amp;gt;).\r\n\r\nWhen I use my code in Kotlin, it can&#39;t distinct between two and I need to provide an explicit cast. \r\n\r\nTo remove Java from equation, I tried to replicate the situation in Kotlin using functional interfaces:\r\n\r\n```kotlin\r\nfun interface KotlinValidator {\r\n    fun validate()\r\n}\r\n\r\nfun interface KotlinValidatorWithReturn {\r\n    fun validateAndReturn(): Any\r\n}\r\n\r\nfun client(validator: KotlinValidator) {\r\n    println(&quot;validator NO return&quot;)\r\n    validator.validate()\r\n}\r\n\r\nfun client(validatorAndReturn: KotlinValidatorWithReturn): Any {\r\n    println(&quot;validator WITH return&quot;)\r\n    return validatorAndReturn.validateAndReturn()\r\n}\r\n\r\nfun test() {\r\n    val fromValidator = client {\r\n        100\r\n    }\r\n\r\n    val fromValidatorForced = client(KotlinValidatorWithReturn {\r\n        100\r\n    })\r\n\r\n    client {\r\n    }\r\n}\r\n```\r\nit prints\r\n```\r\nvalidator NO return\r\nvalidator WITH return\r\nvalidator NO return\r\n```\r\n\r\nBased on my googling, it seems to be not possible to make it work without an explicit cast. However I hope that I am wrong as Groovy and Java let me do it.\r\n\r\nTo provide more context, I am trying to make [WebTau](https://github.com/testingisdocumenting/webtau) HTTP module work nicely with Kotlin.\r\n\r\nIn Java and Groovy version I can do:\r\n\r\n```java\r\nint id = http.post(&quot;/customers&quot;, customerPayload, ((header, body) -&gt; {\r\n    return body.get(&quot;id&quot;); \r\n}));\r\n\r\nhttp.put(&quot;/customers/&quot; + id, changedCustomerPayload, ((header, body) -&gt; {\r\n    body.get(&quot;firstName&quot;).should(equal(&quot;FN&quot;));\r\n    body.get(&quot;lastName&quot;).should(equal(changedLastName));\r\n}));\r\n```\r\n\r\nIn Groovy:\r\n```groovy\r\ndef id = http.post(&quot;/customers&quot;, customerPayload) {\r\n    body.id \r\n}\r\n```\r\n\r\nBut in Kotlin:\r\n```kotlin\r\nval id: Int = http.post(&quot;/customers&quot;, customerPayload, HttpResponseValidatorWithReturn { _, body -&gt;\r\n    body.get(&quot;id&quot;)\r\n})\r\n```\r\n\r\nThe reason I brought this example is at the moment I am reluctant to change API and rename functions to distinct between the ones that return a value and the ones that don&#39;t.","title":"Kotlin overload on lambdas that return a value VS ones that don&#39;t. Java, Groovy works, but Kotlin doesn&#39;t","body":"<p>very new to Kotlin and trying to make some of my API work in Kotlin without changing API much.</p>\n<p>I have a method, let's call it <code>client</code> that receives a <code>validation</code> function. There are two variants of <code>Validation</code>. One that only suppose to do a validation, and the other can also return a value. To streamline user experience, in Java, I exposed two variants of the method. And it works as expected as I believe Java distincts between <code>void</code> and <code>Object</code> (&lt;R&gt;).</p>\n<p>When I use my code in Kotlin, it can't distinct between two and I need to provide an explicit cast.</p>\n<p>To remove Java from equation, I tried to replicate the situation in Kotlin using functional interfaces:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun interface KotlinValidator {\n    fun validate()\n}\n\nfun interface KotlinValidatorWithReturn {\n    fun validateAndReturn(): Any\n}\n\nfun client(validator: KotlinValidator) {\n    println(&quot;validator NO return&quot;)\n    validator.validate()\n}\n\nfun client(validatorAndReturn: KotlinValidatorWithReturn): Any {\n    println(&quot;validator WITH return&quot;)\n    return validatorAndReturn.validateAndReturn()\n}\n\nfun test() {\n    val fromValidator = client {\n        100\n    }\n\n    val fromValidatorForced = client(KotlinValidatorWithReturn {\n        100\n    })\n\n    client {\n    }\n}\n</code></pre>\n<p>it prints</p>\n<pre><code>validator NO return\nvalidator WITH return\nvalidator NO return\n</code></pre>\n<p>Based on my googling, it seems to be not possible to make it work without an explicit cast. However I hope that I am wrong as Groovy and Java let me do it.</p>\n<p>To provide more context, I am trying to make <a href=\"https://github.com/testingisdocumenting/webtau\" rel=\"nofollow noreferrer\">WebTau</a> HTTP module work nicely with Kotlin.</p>\n<p>In Java and Groovy version I can do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int id = http.post(&quot;/customers&quot;, customerPayload, ((header, body) -&gt; {\n    return body.get(&quot;id&quot;); \n}));\n\nhttp.put(&quot;/customers/&quot; + id, changedCustomerPayload, ((header, body) -&gt; {\n    body.get(&quot;firstName&quot;).should(equal(&quot;FN&quot;));\n    body.get(&quot;lastName&quot;).should(equal(changedLastName));\n}));\n</code></pre>\n<p>In Groovy:</p>\n<pre><code>def id = http.post(&quot;/customers&quot;, customerPayload) {\n    body.id \n}\n</code></pre>\n<p>But in Kotlin:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val id: Int = http.post(&quot;/customers&quot;, customerPayload, HttpResponseValidatorWithReturn { _, body -&gt;\n    body.get(&quot;id&quot;)\n})\n</code></pre>\n<p>The reason I brought this example is at the moment I am reluctant to change API and rename functions to distinct between the ones that return a value and the ones that don't.</p>\n"},{"tags":["java","spring","spring-boot","servlets","handlerinterceptor"],"answers":[{"tags":[],"owner":{"account_id":3394779,"reputation":3579,"user_id":2848698,"accept_rate":69,"display_name":"Sumama Waheed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674533704,"creation_date":1674504657,"answer_id":75214570,"question_id":75188708,"body_markdown":"Found the solution. We can extract the controller annotation like this.\r\n\r\n```\r\nClass controller = method.getBeanType();\r\n\r\nif (controller.isAnnotationPresent(RequestMapping.class)) {\r\n\tRequestMapping controllerMapping = (RequestMapping) controller.getAnnotation(RequestMapping.class);\r\n\tif (controllerMapping.value() != null &amp;&amp; controllerMapping.value().length &gt; 0) {\r\n\t\tcontrollerPath = controllerMapping.value()[0];\r\n\t}\r\n}\r\n```\r\n\r\nAnd then prefix that to the method annotation.\r\n\r\nUpdate: The only problem with this approach is that it&#39;s not able to extract the resolved annotation value like this one:\r\n\r\n```\r\n\r\n@RequestMapping(value = &quot;${app.version.v4}&quot;)\r\n```\r\n","title":"Spring extract @RequestMapping annotation in HandlerInterceptor of Controller and Method to form full path","body":"<p>Found the solution. We can extract the controller annotation like this.</p>\n<pre><code>Class controller = method.getBeanType();\n\nif (controller.isAnnotationPresent(RequestMapping.class)) {\n    RequestMapping controllerMapping = (RequestMapping) controller.getAnnotation(RequestMapping.class);\n    if (controllerMapping.value() != null &amp;&amp; controllerMapping.value().length &gt; 0) {\n        controllerPath = controllerMapping.value()[0];\n    }\n}\n</code></pre>\n<p>And then prefix that to the method annotation.</p>\n<p>Update: The only problem with this approach is that it's not able to extract the resolved annotation value like this one:</p>\n<pre><code>\n@RequestMapping(value = &quot;${app.version.v4}&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13694632,"reputation":411,"user_id":9881640,"display_name":"Vipul Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675019054,"creation_date":1675019054,"answer_id":75277608,"question_id":75188708,"body_markdown":"&gt; Something like this will work as per your code.\r\n\r\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\r\n        if (handler instanceof HandlerMethod) {\r\n            HandlerMethod handlerMethod = (HandlerMethod) handler;\r\n            RequestMapping methodAnnotation = handlerMethod.getMethodAnnotation(RequestMapping.class);\r\n            RequestMapping classAnnotation = handlerMethod.getBeanType().getAnnotation(RequestMapping.class);\r\n            if (methodAnnotation != null &amp;&amp; classAnnotation != null) {\r\n                String[] classValues = classAnnotation.value();\r\n                String[] methodValues = methodAnnotation.value();\r\n                String fullPath = classValues[0] + methodValues[0];\r\n                // do something here`enter code here`\r\n            }\r\n        }\r\n        return true;\r\n    }","title":"Spring extract @RequestMapping annotation in HandlerInterceptor of Controller and Method to form full path","body":"<blockquote>\n<p>Something like this will work as per your code.</p>\n</blockquote>\n<pre><code>public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\n    if (handler instanceof HandlerMethod) {\n        HandlerMethod handlerMethod = (HandlerMethod) handler;\n        RequestMapping methodAnnotation = handlerMethod.getMethodAnnotation(RequestMapping.class);\n        RequestMapping classAnnotation = handlerMethod.getBeanType().getAnnotation(RequestMapping.class);\n        if (methodAnnotation != null &amp;&amp; classAnnotation != null) {\n            String[] classValues = classAnnotation.value();\n            String[] methodValues = methodAnnotation.value();\n            String fullPath = classValues[0] + methodValues[0];\n            // do something here`enter code here`\n        }\n    }\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":3394779,"reputation":3579,"user_id":2848698,"accept_rate":69,"display_name":"Sumama Waheed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75214570,"answer_count":2,"score":1,"last_activity_date":1675019054,"creation_date":1674243708,"question_id":75188708,"body_markdown":"I have the following Controller\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/v4/base&quot;)\r\npublic class ExampleController {\r\n   \r\n    @PostMapping(value = &quot;/users/{userId}&quot;)\r\n    public ResponseEntity&lt;List&lt;ExampleRequest&gt;&gt; test(@RequestHeader HttpHeaders headers,\r\n            @PathVariable String orgId, @RequestBody List&lt;ExampleRequest&gt; request) {\r\n        ...\r\n    }\r\n}\r\n```\r\n\r\nI would like to extract this url from an interceptor\r\n\r\n```\r\n/v4/base/users/{userId}\r\n```\r\n\r\n\r\nWith this approach, \r\n\r\n```\r\npublic class MyInterceptor  implements HandlerInterceptor {\r\n    @Override\r\n\tpublic boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)\r\n\t\t\tthrows IOException, ServletException {\r\n\r\n            RequestMapping requestMapping = method.getMethodAnnotation(RequestMapping.class);\r\n\t\t\t\r\n\t\t\tif (requestMapping != null) {\r\n\t\t\t\tString[] path = requestMapping.path();\t\r\n\t\t\t}\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nIt gives me this in the path string[] variable above:\r\n\r\n```\r\n/users/{userId}\r\n```\r\n\r\nHow can I get the full spring request mapping path? \r\n\r\nI do not want the servlet path that looks like this: /v4/base/users/23232","title":"Spring extract @RequestMapping annotation in HandlerInterceptor of Controller and Method to form full path","body":"<p>I have the following Controller</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/v4/base&quot;)\npublic class ExampleController {\n   \n    @PostMapping(value = &quot;/users/{userId}&quot;)\n    public ResponseEntity&lt;List&lt;ExampleRequest&gt;&gt; test(@RequestHeader HttpHeaders headers,\n            @PathVariable String orgId, @RequestBody List&lt;ExampleRequest&gt; request) {\n        ...\n    }\n}\n</code></pre>\n<p>I would like to extract this url from an interceptor</p>\n<pre><code>/v4/base/users/{userId}\n</code></pre>\n<p>With this approach,</p>\n<pre><code>public class MyInterceptor  implements HandlerInterceptor {\n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)\n            throws IOException, ServletException {\n\n            RequestMapping requestMapping = method.getMethodAnnotation(RequestMapping.class);\n            \n            if (requestMapping != null) {\n                String[] path = requestMapping.path();  \n            }\n\n    }\n\n}\n</code></pre>\n<p>It gives me this in the path string[] variable above:</p>\n<pre><code>/users/{userId}\n</code></pre>\n<p>How can I get the full spring request mapping path?</p>\n<p>I do not want the servlet path that looks like this: /v4/base/users/23232</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1359359168,"post_id":14556037,"comment_id":20309980,"body_markdown":"Related: http://stackoverflow.com/questions/13834692/threads-configuration-based-on-no-of-cpu-cores","body":"Related: <a href=\"http://stackoverflow.com/questions/13834692/threads-configuration-based-on-no-of-cpu-cores\" title=\"threads configuration based on no of cpu cores\">stackoverflow.com/questions/13834692/&hellip;</a>"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1359360990,"post_id":14556037,"comment_id":20310559,"body_markdown":"If you have CPU bound process, there is typically a very small &lt;5% drop in performance if you use double the number of CPUS instead of exactly the number of CPUs.  If you have an IO bound process with a high latency, more threads might be better. If you are bottlenecking on a local resource e.g. a hard drive, then you might find that 2 threads is not much better than one.","body":"If you have CPU bound process, there is typically a very small &lt;5% drop in performance if you use double the number of CPUS instead of exactly the number of CPUs.  If you have an IO bound process with a high latency, more threads might be better. If you are bottlenecking on a local resource e.g. a hard drive, then you might find that 2 threads is not much better than one."}],"answers":[{"tags":[],"owner":{"account_id":372293,"reputation":180467,"user_id":721269,"accept_rate":100,"display_name":"David Schwartz"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1359351668,"creation_date":1359351668,"answer_id":14556073,"question_id":14556037,"body_markdown":"That&#39;s not true, unless the number of threads is vastly more than the number of cores. The reasoning is that additional threads will mean additional context switches. But it&#39;s not true because an operating system will only make unforced context switches if those context switches are beneficial, and additional threads don&#39;t force additional context switches.\r\n\r\nIf you create an absurd number of threads, that wastes resources. But none of this is anything compared to how bad creating too few threads is. If you create too few threads, an unexpected block (such as a page fault) can result in CPUs sitting idle, and that swamps any possible harm from a few extra context switches.\r\n","title":"Number of processor core vs the size of a thread pool","body":"<p>That's not true, unless the number of threads is vastly more than the number of cores. The reasoning is that additional threads will mean additional context switches. But it's not true because an operating system will only make unforced context switches if those context switches are beneficial, and additional threads don't force additional context switches.</p>\n\n<p>If you create an absurd number of threads, that wastes resources. But none of this is anything compared to how bad creating too few threads is. If you create too few threads, an unexpected block (such as a page fault) can result in CPUs sitting idle, and that swamps any possible harm from a few extra context switches.</p>\n"},{"comments":[{"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"score":0,"creation_date":1359351863,"post_id":14556075,"comment_id":20307702,"body_markdown":"&quot;If they&#39;re doing a fair amount of I/O&quot;, assuming I/O is handled by separate processor (I couldn&#39;t recollect exact word for this hardware) and leaves CPU ideal.","body":"&quot;If they&#39;re doing a fair amount of I/O&quot;, assuming I/O is handled by separate processor (I couldn&#39;t recollect exact word for this hardware) and leaves CPU ideal."},{"owner":{"account_id":372293,"reputation":180467,"user_id":721269,"accept_rate":100,"display_name":"David Schwartz"},"score":0,"creation_date":1359353280,"post_id":14556075,"comment_id":20308121,"body_markdown":"@Nambari: When a thread does most I/O, the thread gets suspended until the I/O completes. Then it becomes ready-to-run and has to get scheduled again. If you don&#39;t have another ready-to-run thread, then that core is wasted while the I/O completes -- waiting for the disk or whatever.","body":"@Nambari: When a thread does most I/O, the thread gets suspended until the I/O completes. Then it becomes ready-to-run and has to get scheduled again. If you don&#39;t have another ready-to-run thread, then that core is wasted while the I/O completes -- waiting for the disk or whatever."}],"tags":[],"owner":{"account_id":60200,"reputation":479685,"user_id":179910,"display_name":"Jerry Coffin"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1359351683,"creation_date":1359351683,"answer_id":14556075,"question_id":14556037,"body_markdown":"Having fewer threads than cores generally means you *can&#39;t* take advantage of all available cores.\r\n\r\nThe usual question is how many more threads than cores you want. That, however, varies, depending on the amount of time (overall) that your threads spend doing things like I/O vs. the amount of time they spend doing computation. If they&#39;re all doing pure computation, then you&#39;d normally want about the same number of threads as cores. If they&#39;re doing a fair amount of I/O, you&#39;d typically want quite a few more threads than cores.\r\n\r\nLooking at it from the other direction for a moment, you want enough threads running to ensure that whenever one thread blocks for some reason (typically waiting on I/O) you have another thread (that&#39;s not blocked) available to run on that core. The exact number that takes depends on how much of its time each thread spends blocked.","title":"Number of processor core vs the size of a thread pool","body":"<p>Having fewer threads than cores generally means you <em>can't</em> take advantage of all available cores.</p>\n\n<p>The usual question is how many more threads than cores you want. That, however, varies, depending on the amount of time (overall) that your threads spend doing things like I/O vs. the amount of time they spend doing computation. If they're all doing pure computation, then you'd normally want about the same number of threads as cores. If they're doing a fair amount of I/O, you'd typically want quite a few more threads than cores.</p>\n\n<p>Looking at it from the other direction for a moment, you want enough threads running to ensure that whenever one thread blocks for some reason (typically waiting on I/O) you have another thread (that's not blocked) available to run on that core. The exact number that takes depends on how much of its time each thread spends blocked.</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1694937153,"post_id":14556080,"comment_id":135955103,"body_markdown":"*&quot;Actually I&#39;ve read in one book that keeping the number of threads twice the number of CPU cores is is a good practice.&quot;* - What book was that?","body":"<i>&quot;Actually I&#39;ve read in one book that keeping the number of threads twice the number of CPU cores is is a good practice.&quot;</i> - What book was that?"}],"tags":[],"owner":{"account_id":128297,"reputation":12671,"user_id":1560850,"accept_rate":67,"display_name":"valdo"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1359351723,"creation_date":1359351723,"answer_id":14556080,"question_id":14556037,"body_markdown":"Not exactly true, this depends on the overall software architecture. There&#39;s a reason of keeping more threads than available cores in case some of the threads are suspended by the OS because they&#39;re waiting for an I/O to complete. This may be an explicit I/O invocation (such as synchronous reading from file), as well as implicit, such as system paging handling.\r\n\r\nActually I&#39;ve read in one book that keeping the number of threads twice the number of CPU cores is is a good practice.\r\n","title":"Number of processor core vs the size of a thread pool","body":"<p>Not exactly true, this depends on the overall software architecture. There's a reason of keeping more threads than available cores in case some of the threads are suspended by the OS because they're waiting for an I/O to complete. This may be an explicit I/O invocation (such as synchronous reading from file), as well as implicit, such as system paging handling.</p>\n\n<p>Actually I've read in one book that keeping the number of threads twice the number of CPU cores is is a good practice.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1552016085,"creation_date":1359355558,"answer_id":14556788,"question_id":14556037,"body_markdown":"&gt; Many times I&#39;ve heard that it is better to maintain the number of threads in a thread pool below the number of cores in that system. Having twice or more threads than the number of cores is not only a waste, but also could cause performance degradation.\r\n\r\nThe claims are not true *as a general statement*.  That is to say, sometimes they are true (or true-ish) and other times they are patently false.\r\n\r\nA couple things are indisputably true:\r\n\r\n  1.  More threads means more memory usage.  Each thread requires a thread stack.  For recent HotSpot JVMs, the *minimum* thread stack size is 64Kb, and the default can be as much as 1Mb.  That can be significant.  In addition, any thread that is alive is likely to own or share objects in the heap whether or not it is currently runnable.  Therefore is is reasonable to expect that more threads means a larger memory working set.\r\n\r\n  1.  A JVM cannot have more threads actually running than there are cores (or hyperthread cores or whatever) on the execution hardware.  A car won&#39;t run without an engine, and a thread won&#39;t run without a core.\r\n\r\nBeyond that, things get less clear cut.  The &quot;problem&quot; is that a live thread can in a variety of &quot;states&quot;.  For instance:\r\n\r\n  - A live thread can be running; i.e. actively executing instructions.\r\n  - A live thread can be runnable; i.e. waiting for a core so that it can be run.\r\n  - A live thread can by synchronizing; i.e. waiting for a signal from another thread, or waiting for a lock to be released.\r\n  - A live thread can be waiting on an external event; e.g. waiting for some external server / service to respond to a request.\r\n\r\nThe &quot;one thread per core&quot; heuristic assumes that threads are either running or runnable (according to the above).  But for a lot of multi-threaded applications, the heuristic is wrong ... because it doesn&#39;t take account of threads in the other states.\r\n\r\nNow &quot;too many&quot; threads clearly *can* cause significant performance degradation, simple by using too much memory.  (Imagine that you have 4Gb of physical memory and you create 8,000 threads with 1Mb stacks.  That is a recipe for virtual memory thrashing.)  \r\n\r\nBut what about other things?  Can having too many threads *cause* excessive context switching?  \r\n\r\nI don&#39;t think so.  If you have lots of threads, and your application&#39;s use of those threads can result in excessive context switches, and that *is* bad for performance.  However, I posit that the root cause of the context switched is not the actual number of threads.  The root of the performance problems are more likely that the application is:\r\n\r\n  - synchronizing in a particularly wasteful way; e.g. using `Object.notifyAll()` when `Object.notify()` would be better, OR\r\n  - synchronizing on a highly contended data structure, OR \r\n  - doing too much synchronization relative to the amount of useful work that each thread is doing, OR\r\n  - trying to do too much I/O in parallel.\r\n\r\n(In the last case, the bottleneck is likely to be the I/O system rather than context switches ... unless the I/O is IPC with services / programs on the same machine.)\r\n\r\nThe other point is that in the absence of the confounding factors above, having more threads is not going to increase context switches.  If your application has N runnable threads competing for M processors, and the threads are purely computational and contention free, then the OS&#39;es thread scheduler is going to attempt to time-slice between them.  But the length of a timeslice is likely to be measured in tenths of a second (or more), so that the context switch overhead is negligible compared with the work that a CPU-bound thread actually performs during its slice.  And if we assume that the length of a time slice is constant, then the context switch overhead will be constant too.  Adding more runnable threads (increasing N) won&#39;t change the ratio of work to overhead significantly.\r\n\r\n\r\n---------------------\r\n\r\nIn summary, it is true that &quot;too many threads&quot; is harmful for performance.  However, there is no reliable universal &quot;rule of thumb&quot; for how many is &quot;too many&quot;.  And (fortunately) you generally have considerable leeway before the performance problems of &quot;too many&quot; become significant.\r\n\r\n","title":"Number of processor core vs the size of a thread pool","body":"<blockquote>\n  <p>Many times I've heard that it is better to maintain the number of threads in a thread pool below the number of cores in that system. Having twice or more threads than the number of cores is not only a waste, but also could cause performance degradation.</p>\n</blockquote>\n\n<p>The claims are not true <em>as a general statement</em>.  That is to say, sometimes they are true (or true-ish) and other times they are patently false.</p>\n\n<p>A couple things are indisputably true:</p>\n\n<ol>\n<li><p>More threads means more memory usage.  Each thread requires a thread stack.  For recent HotSpot JVMs, the <em>minimum</em> thread stack size is 64Kb, and the default can be as much as 1Mb.  That can be significant.  In addition, any thread that is alive is likely to own or share objects in the heap whether or not it is currently runnable.  Therefore is is reasonable to expect that more threads means a larger memory working set.</p></li>\n<li><p>A JVM cannot have more threads actually running than there are cores (or hyperthread cores or whatever) on the execution hardware.  A car won't run without an engine, and a thread won't run without a core.</p></li>\n</ol>\n\n<p>Beyond that, things get less clear cut.  The \"problem\" is that a live thread can in a variety of \"states\".  For instance:</p>\n\n<ul>\n<li>A live thread can be running; i.e. actively executing instructions.</li>\n<li>A live thread can be runnable; i.e. waiting for a core so that it can be run.</li>\n<li>A live thread can by synchronizing; i.e. waiting for a signal from another thread, or waiting for a lock to be released.</li>\n<li>A live thread can be waiting on an external event; e.g. waiting for some external server / service to respond to a request.</li>\n</ul>\n\n<p>The \"one thread per core\" heuristic assumes that threads are either running or runnable (according to the above).  But for a lot of multi-threaded applications, the heuristic is wrong ... because it doesn't take account of threads in the other states.</p>\n\n<p>Now \"too many\" threads clearly <em>can</em> cause significant performance degradation, simple by using too much memory.  (Imagine that you have 4Gb of physical memory and you create 8,000 threads with 1Mb stacks.  That is a recipe for virtual memory thrashing.)  </p>\n\n<p>But what about other things?  Can having too many threads <em>cause</em> excessive context switching?  </p>\n\n<p>I don't think so.  If you have lots of threads, and your application's use of those threads can result in excessive context switches, and that <em>is</em> bad for performance.  However, I posit that the root cause of the context switched is not the actual number of threads.  The root of the performance problems are more likely that the application is:</p>\n\n<ul>\n<li>synchronizing in a particularly wasteful way; e.g. using <code>Object.notifyAll()</code> when <code>Object.notify()</code> would be better, OR</li>\n<li>synchronizing on a highly contended data structure, OR </li>\n<li>doing too much synchronization relative to the amount of useful work that each thread is doing, OR</li>\n<li>trying to do too much I/O in parallel.</li>\n</ul>\n\n<p>(In the last case, the bottleneck is likely to be the I/O system rather than context switches ... unless the I/O is IPC with services / programs on the same machine.)</p>\n\n<p>The other point is that in the absence of the confounding factors above, having more threads is not going to increase context switches.  If your application has N runnable threads competing for M processors, and the threads are purely computational and contention free, then the OS'es thread scheduler is going to attempt to time-slice between them.  But the length of a timeslice is likely to be measured in tenths of a second (or more), so that the context switch overhead is negligible compared with the work that a CPU-bound thread actually performs during its slice.  And if we assume that the length of a time slice is constant, then the context switch overhead will be constant too.  Adding more runnable threads (increasing N) won't change the ratio of work to overhead significantly.</p>\n\n<hr>\n\n<p>In summary, it is true that \"too many threads\" is harmful for performance.  However, there is no reliable universal \"rule of thumb\" for how many is \"too many\".  And (fortunately) you generally have considerable leeway before the performance problems of \"too many\" become significant.</p>\n"},{"tags":[],"owner":{"account_id":13694632,"reputation":411,"user_id":9881640,"display_name":"Vipul Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675018644,"creation_date":1675018644,"answer_id":75277558,"question_id":14556037,"body_markdown":"For REST API calls or say I/O-bound operations, having more threads than the number of cores can potentially improve the performance by allowing multiple API requests to be processed in parallel. However, the optimal number of threads depends on various factors such as the API request frequency, the complexity of the request processing, and the resources available on the server.\r\n\r\nIf the API request processing is CPU-bound and requires a lot of computation, having too many threads may cause resource contention and lead to reduced performance. In such cases, the number of threads should be limited to the number of cores available.\r\n\r\nOn the other hand, if the API request processing is I/O-bound and involves a lot of waiting for responses from external resources such as databases, having more threads may improve performance by allowing multiple requests to be processed in parallel.\r\n\r\nIn any case, it is recommended to perform performance testing to determine the optimal number of threads for your specific use case and monitor the system performance using metrics such as response time, resource utilization, and error rate.","title":"Number of processor core vs the size of a thread pool","body":"<p>For REST API calls or say I/O-bound operations, having more threads than the number of cores can potentially improve the performance by allowing multiple API requests to be processed in parallel. However, the optimal number of threads depends on various factors such as the API request frequency, the complexity of the request processing, and the resources available on the server.</p>\n<p>If the API request processing is CPU-bound and requires a lot of computation, having too many threads may cause resource contention and lead to reduced performance. In such cases, the number of threads should be limited to the number of cores available.</p>\n<p>On the other hand, if the API request processing is I/O-bound and involves a lot of waiting for responses from external resources such as databases, having more threads may improve performance by allowing multiple requests to be processed in parallel.</p>\n<p>In any case, it is recommended to perform performance testing to determine the optimal number of threads for your specific use case and monitor the system performance using metrics such as response time, resource utilization, and error rate.</p>\n"}],"owner":{"account_id":1667441,"reputation":1231,"user_id":1534573,"accept_rate":63,"display_name":"Prasad Weera"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15644,"favorite_count":0,"down_vote_count":1,"up_vote_count":24,"accepted_answer_id":14556788,"answer_count":5,"score":23,"last_activity_date":1675018644,"creation_date":1359351393,"question_id":14556037,"body_markdown":"Many times I&#39;ve heard that it is better to maintain the number of threads in a thread pool below the number of cores in that system. Having twice or more threads than the number of cores is not only a waste, but also could cause performance degradation.\r\n\r\nAre those true? If not, what are the fundamental principles that debunk those claims (specifically relating to java)?","title":"Number of processor core vs the size of a thread pool","body":"<p>Many times I've heard that it is better to maintain the number of threads in a thread pool below the number of cores in that system. Having twice or more threads than the number of cores is not only a waste, but also could cause performance degradation.</p>\n\n<p>Are those true? If not, what are the fundamental principles that debunk those claims (specifically relating to java)?</p>\n"},{"tags":["java","android","html","parsing","jsoup"],"answers":[{"comments":[{"owner":{"account_id":4526516,"reputation":208,"user_id":4013399,"accept_rate":39,"display_name":"Zac1"},"score":0,"creation_date":1674926137,"post_id":75266352,"comment_id":132819869,"body_markdown":"Great! Thank you. Do you know how I can get the dates values as well? \n\nI need the columns TTM, 9/30/2022, 9/30/2021, 9/30/2020, 9/30/2019. This may make it easier for me to get the EBIT values for corresponding dates. \n\nI am also looking for four other rows in that table - `Total Assets`, `Total Current Liabilities`, &#39;Net Income` and `Total Liabilities`.","body":"Great! Thank you. Do you know how I can get the dates values as well?   I need the columns TTM, 9/30/2022, 9/30/2021, 9/30/2020, 9/30/2019. This may make it easier for me to get the EBIT values for corresponding dates.   I am also looking for four other rows in that table - <code>Total Assets</code>, <code>Total Current Liabilities</code>, &#39;Net Income` and <code>Total Liabilities</code>."},{"owner":{"account_id":4526516,"reputation":208,"user_id":4013399,"accept_rate":39,"display_name":"Zac1"},"score":0,"creation_date":1674926226,"post_id":75266352,"comment_id":132819888,"body_markdown":"I also am looking to extract Quarterly data as well, which is like an AJAX call under the `Quarterly` tab in the website.","body":"I also am looking to extract Quarterly data as well, which is like an AJAX call under the <code>Quarterly</code> tab in the website."},{"owner":{"account_id":4526516,"reputation":208,"user_id":4013399,"accept_rate":39,"display_name":"Zac1"},"score":0,"creation_date":1674935112,"post_id":75266352,"comment_id":132821561,"body_markdown":"Reg. my first comment - Unfortunately, I don&#39;t see a `title = Current Liabilities` in the source of the page `https://finance.yahoo.com/quote/AAPL/balance-sheet?p=AAPL` because it seems to be under an expandable row in the table under `Total Liabilities`\n\nSo, how can I extract that value? Also the quarterly values, what to do for that?","body":"Reg. my first comment - Unfortunately, I don&#39;t see a <code>title = Current Liabilities</code> in the source of the page <code>https:&#47;&#47;finance.yahoo.com&#47;quote&#47;AAPL&#47;balance-sheet?p=AAPL</code> because it seems to be under an expandable row in the table under <code>Total Liabilities</code>  So, how can I extract that value? Also the quarterly values, what to do for that?"}],"tags":[],"owner":{"account_id":4181404,"reputation":6036,"user_id":3426328,"accept_rate":83,"display_name":"TDG"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674937913,"creation_date":1674894691,"answer_id":75266352,"question_id":75252533,"body_markdown":"I would take a different approach, without using regex.  \r\nTo get the ebit data, first find the div that contains the title &quot;EBIT&quot;:  \r\n\r\n    Element ebit = doc.select(&quot;[title=EBIT]&quot;).first();\r\nThis element&#39;s direct parent has siblings with all the needed information, which are the columns of the table:  \r\n\r\n    Elements ebitData = ebit.parent().siblingElements();\r\nand all the data can be extracted from the element&#39;s text -  \r\n\r\n    for (Element e : ebitData) {\r\n\t\t\tSystem.out.println(e.text());\t\t\t\r\n\t}\r\nOutput:  \r\n&gt;122,034,000  \r\n122,034,000  \r\n111,852,000  \r\n69,964,000  \r\n69,313,000\r\n\r\n\r\nYou&#39;ll have to skip the 0th element and get all the other ones.  \r\nUse the same method to get all the other values and dates and then you can put them in arrays or hash map. \r\n\r\n**EDIT**  \r\nIn order to get the dates you can use a similar method -  \r\nFind the element that contains the text &quot;Breakdown&quot; (assuming it will remain constant) -  \r\n`Elements dates = doc.select(&quot;:containsOwn(Breakdown)&quot;).first();`  \r\nand now find its parent&#39;s siblings, so it can be written as -  \r\n\r\n    Elements dates = doc.select(&quot;:containsOwn(Breakdown)&quot;).first().parent().siblingElements();\r\n\t\t\r\n\tfor (Element e : dates) {\r\n\t\tSystem.out.println(e.text());\r\n\t}\r\n\r\nAs for the other values that you mention in your comments - I don&#39;t see it in my browser. If you have to open a new tab in the site or even expand a row, then probably it&#39;s sort of xhr or ajax request and jsoup cannot handle it.","title":"On Android Java, how to match a String within a Div Tag and extract a value?","body":"<p>I would take a different approach, without using regex.<br />\nTo get the ebit data, first find the div that contains the title &quot;EBIT&quot;:</p>\n<pre><code>Element ebit = doc.select(&quot;[title=EBIT]&quot;).first();\n</code></pre>\n<p>This element's direct parent has siblings with all the needed information, which are the columns of the table:</p>\n<pre><code>Elements ebitData = ebit.parent().siblingElements();\n</code></pre>\n<p>and all the data can be extracted from the element's text -</p>\n<pre><code>for (Element e : ebitData) {\n        System.out.println(e.text());           \n}\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>122,034,000<br />\n122,034,000<br />\n111,852,000<br />\n69,964,000<br />\n69,313,000</p>\n</blockquote>\n<p>You'll have to skip the 0th element and get all the other ones.<br />\nUse the same method to get all the other values and dates and then you can put them in arrays or hash map.</p>\n<p><strong>EDIT</strong><br />\nIn order to get the dates you can use a similar method -<br />\nFind the element that contains the text &quot;Breakdown&quot; (assuming it will remain constant) -<br />\n<code>Elements dates = doc.select(&quot;:containsOwn(Breakdown)&quot;).first();</code><br />\nand now find its parent's siblings, so it can be written as -</p>\n<pre><code>Elements dates = doc.select(&quot;:containsOwn(Breakdown)&quot;).first().parent().siblingElements();\n    \nfor (Element e : dates) {\n    System.out.println(e.text());\n}\n</code></pre>\n<p>As for the other values that you mention in your comments - I don't see it in my browser. If you have to open a new tab in the site or even expand a row, then probably it's sort of xhr or ajax request and jsoup cannot handle it.</p>\n"}],"owner":{"account_id":4526516,"reputation":208,"user_id":4013399,"accept_rate":39,"display_name":"Zac1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1675018457,"creation_date":1674774207,"question_id":75252533,"body_markdown":"Here&#39;s my code;\r\n\r\n     private static String fetch(String url) throws MalformedURLException, IOException, UnsupportedEncodingException {\r\n        String userAgent1 = &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36 OPR/56.0.3051.43&quot;;\r\n        try {\r\n            Document doc1 = Jsoup.connect(url).userAgent(userAgent1).get();\r\n            Elements divTags = doc1.getElementsByTag(&quot;div&quot;);\r\n            String re = &quot;^&lt;div class=\\\\\\&quot;Ta\\\\(c\\\\) Py\\\\(6px\\\\) Bxz\\\\(bb\\\\) BdB Bdc\\\\(\\\\$seperatorColor\\\\) Miw\\\\(120px\\\\) Miw\\\\(100px\\\\)\\\\-\\\\-pnclg D\\\\(tbc\\\\)\\\\\\&quot; data-test=\\\\\\&quot;fin-col\\\\\\&quot;&gt;&lt;span&gt;.*&lt;/span&gt;&lt;/div&gt;$&quot;;\r\n            \r\n            for (Element div : divTags) {\r\n                Pattern pattern = Pattern.compile(re, Pattern.DOTALL);\r\n                Matcher matcher = pattern.matcher(div.html());\r\n\r\n                if (matcher.find()) {\r\n                    String data = matcher.group(1);\r\n                    Log.d(&quot;Matched: &quot;, data);\r\n                }\r\n                else {\r\n                    Log.d(&quot;Nothing Matched: &quot;, &quot;&quot;);\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            Log.e(&quot;err-new&quot;, &quot;err&quot;, e);\r\n        }\r\n        return &quot;&quot;;\r\n    }\r\n\r\nThis function takes a URL as input, in our case: `https://finance.yahoo.com/quote/AAPL/financials?p=AAPL&amp;guccounter=2` and extracts all the `div` tags using `JSOUP`. \r\n\r\nAnd then, I need to extract these values using Pattern matching. But, in my code above, all I get is that `&quot;Nothing matched: &quot;`. \r\n\r\nHere&#39;s the web page from which I am interested in getting the four numeric values corresponding to the first four yearly columns, corresponding to the row named `EBIT`. (Stands for Earnings Before Interest and Taxes) \r\n\r\n**Link**: https://finance.yahoo.com/quote/AAPL/financials?p=AAPL&amp;guccounter=2\r\n\r\n**Input**: \r\nLooking to get values 122,034,000, 111,852,000, 69,964,000, 69,313,000 on the `EBIT` row for columns 9/30/2022, 9/30/2021, 9/30/2020, 9/30/2019. \r\n\r\nOn `Inspect`, these values are under the following `&lt;div&gt;` tags. \r\n\r\nEBIT 1: `&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg D(tbc)&quot; data-test=&quot;fin-col&quot;&gt;&lt;span&gt;122,034,000&lt;/span&gt;&lt;/div&gt;`\r\n\r\nEBIT 2: `&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg Bgc($lv1BgColor) fi-row:h_Bgc($hoverBgColor) D(tbc)&quot; data-test=&quot;fin-col&quot;&gt;&lt;span&gt;111,852,000&lt;/span&gt;&lt;/div&gt;`\r\n\r\nEBIT 3: `&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg D(tbc)&quot; data-test=&quot;fin-col&quot;&gt;&lt;span&gt;69,964,000&lt;/span&gt;&lt;/div&gt;`\r\n\r\nEBIT 4: `&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg Bgc($lv1BgColor) fi-row:h_Bgc($hoverBgColor) D(tbc)&quot; data-test=&quot;fin-col&quot;&gt;&lt;span&gt;69,313,000&lt;/span&gt;&lt;/div&gt;`\r\n\r\nAnd the same thing for the 4 columns under the `Quarterly` tab on the same web page. Looking to get values 25,484,000, 23,785,000, 30,830,000, 41,935,000 on the `EBIT` row for columns 9/30/2022, 6/30/2022, 3/31/2022, 12/31/2021. \r\n\r\nEBIT 1: `&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg D(tbc)&quot; data-test=&quot;fin-col&quot;&gt;&lt;span&gt;25,484,000&lt;/span&gt;&lt;/div&gt;`\r\n\r\nEBIT 2: `&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg Bgc($lv1BgColor) fi-row:h_Bgc($hoverBgColor) D(tbc)&quot; data-test=&quot;fin-col&quot;&gt;&lt;span&gt;23,785,000&lt;/span&gt;&lt;/div&gt;`\r\n\r\nEBIT 3: `&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg D(tbc)&quot; data-test=&quot;fin-col&quot;&gt;&lt;span&gt;30,830,000&lt;/span&gt;&lt;/div&gt;`\r\n\r\nEBIT 4: `&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg Bgc($lv1BgColor) fi-row:h_Bgc($hoverBgColor) D(tbc)&quot; data-test=&quot;fin-col&quot;&gt;&lt;span&gt;41,935,000&lt;/span&gt;&lt;/div&gt;`\r\n\r\n\r\n**Output**: \r\ndates = {9/30/2022, 9/30/2021, 9/30/2020, 9/30/2019} \r\n\r\ndatesQ = {9/30/2022, 6/30/2022, 3/31/2022, 12/31/2021}\r\n \r\nEBIT = {122,034,000, 111,852,000, 69,964,000, 69,313,000} \r\n\r\nEBITQ = {25,484,000, 23,785,000, 30,830,000, 41,935,000} \r\n\r\nWhere `Q` stands for Quarterly. \r\n\r\nOR, it could be two hashmaps with \r\nyearlyHash = {date1: value1, date2: value2, date3: value3 and date4: value4} \r\nquarterlyHash = {date1: value1, date2: value2, date3: value3 and date4: value4} \r\n\r\n\r\nI am wondering what&#39;s the best way to match my pattern and extract the values I want.\r\n\r\nEDIT:\r\n\r\nAlso, unfortunately, I don&#39;t see a `title = Current Liabilities` in the source of the page `https://finance.yahoo.com/quote/AAPL/balance-sheet?p=AAPL` because it seems to be under an expandable row in the table under `Total Liabilities`, and I am not sure how the website calculates that field.\r\n\r\nSo, how can I extract that value? Also the quarterly values, what to do for that. That seems to be an AJAX call.\r\n\r\nEDIT:\r\n\r\nThe `Date` values are under;\r\n\r\nPlease fix my code to extract the date values which are under: \r\n\r\nDate1: `&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg D(ib) Fw(b)&quot;&gt;&lt;span&gt;9/30/2022&lt;/span&gt;&lt;/div&gt;`\r\n\r\nDate2: `&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg D(ib) Fw(b) Bgc($lv1BgColor)&quot;&gt;&lt;span&gt;9/30/2021&lt;/span&gt;&lt;/div&gt;`\r\n\r\nDate3: `&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg D(ib) Fw(b)&quot;&gt;&lt;span&gt;9/30/2020&lt;/span&gt;&lt;/div&gt;`\r\n\r\nDate4: `&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg D(ib) Fw(b) Bgc($lv1BgColor)&quot;&gt;&lt;span&gt;9/30/2019&lt;/span&gt;&lt;/div&gt;` ","title":"On Android Java, how to match a String within a Div Tag and extract a value?","body":"<p>Here's my code;</p>\n<pre><code> private static String fetch(String url) throws MalformedURLException, IOException, UnsupportedEncodingException {\n    String userAgent1 = &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36 OPR/56.0.3051.43&quot;;\n    try {\n        Document doc1 = Jsoup.connect(url).userAgent(userAgent1).get();\n        Elements divTags = doc1.getElementsByTag(&quot;div&quot;);\n        String re = &quot;^&lt;div class=\\\\\\&quot;Ta\\\\(c\\\\) Py\\\\(6px\\\\) Bxz\\\\(bb\\\\) BdB Bdc\\\\(\\\\$seperatorColor\\\\) Miw\\\\(120px\\\\) Miw\\\\(100px\\\\)\\\\-\\\\-pnclg D\\\\(tbc\\\\)\\\\\\&quot; data-test=\\\\\\&quot;fin-col\\\\\\&quot;&gt;&lt;span&gt;.*&lt;/span&gt;&lt;/div&gt;$&quot;;\n        \n        for (Element div : divTags) {\n            Pattern pattern = Pattern.compile(re, Pattern.DOTALL);\n            Matcher matcher = pattern.matcher(div.html());\n\n            if (matcher.find()) {\n                String data = matcher.group(1);\n                Log.d(&quot;Matched: &quot;, data);\n            }\n            else {\n                Log.d(&quot;Nothing Matched: &quot;, &quot;&quot;);\n            }\n        }\n    } catch (Exception e) {\n        Log.e(&quot;err-new&quot;, &quot;err&quot;, e);\n    }\n    return &quot;&quot;;\n}\n</code></pre>\n<p>This function takes a URL as input, in our case: <code>https://finance.yahoo.com/quote/AAPL/financials?p=AAPL&amp;guccounter=2</code> and extracts all the <code>div</code> tags using <code>JSOUP</code>.</p>\n<p>And then, I need to extract these values using Pattern matching. But, in my code above, all I get is that <code>&quot;Nothing matched: &quot;</code>.</p>\n<p>Here's the web page from which I am interested in getting the four numeric values corresponding to the first four yearly columns, corresponding to the row named <code>EBIT</code>. (Stands for Earnings Before Interest and Taxes)</p>\n<p><strong>Link</strong>: <a href=\"https://finance.yahoo.com/quote/AAPL/financials?p=AAPL&amp;guccounter=2\" rel=\"nofollow noreferrer\">https://finance.yahoo.com/quote/AAPL/financials?p=AAPL&amp;guccounter=2</a></p>\n<p><strong>Input</strong>:\nLooking to get values 122,034,000, 111,852,000, 69,964,000, 69,313,000 on the <code>EBIT</code> row for columns 9/30/2022, 9/30/2021, 9/30/2020, 9/30/2019.</p>\n<p>On <code>Inspect</code>, these values are under the following <code>&lt;div&gt;</code> tags.</p>\n<p>EBIT 1: <code>&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg D(tbc)&quot; data-test=&quot;fin-col&quot;&gt;&lt;span&gt;122,034,000&lt;/span&gt;&lt;/div&gt;</code></p>\n<p>EBIT 2: <code>&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg Bgc($lv1BgColor) fi-row:h_Bgc($hoverBgColor) D(tbc)&quot; data-test=&quot;fin-col&quot;&gt;&lt;span&gt;111,852,000&lt;/span&gt;&lt;/div&gt;</code></p>\n<p>EBIT 3: <code>&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg D(tbc)&quot; data-test=&quot;fin-col&quot;&gt;&lt;span&gt;69,964,000&lt;/span&gt;&lt;/div&gt;</code></p>\n<p>EBIT 4: <code>&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg Bgc($lv1BgColor) fi-row:h_Bgc($hoverBgColor) D(tbc)&quot; data-test=&quot;fin-col&quot;&gt;&lt;span&gt;69,313,000&lt;/span&gt;&lt;/div&gt;</code></p>\n<p>And the same thing for the 4 columns under the <code>Quarterly</code> tab on the same web page. Looking to get values 25,484,000, 23,785,000, 30,830,000, 41,935,000 on the <code>EBIT</code> row for columns 9/30/2022, 6/30/2022, 3/31/2022, 12/31/2021.</p>\n<p>EBIT 1: <code>&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg D(tbc)&quot; data-test=&quot;fin-col&quot;&gt;&lt;span&gt;25,484,000&lt;/span&gt;&lt;/div&gt;</code></p>\n<p>EBIT 2: <code>&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg Bgc($lv1BgColor) fi-row:h_Bgc($hoverBgColor) D(tbc)&quot; data-test=&quot;fin-col&quot;&gt;&lt;span&gt;23,785,000&lt;/span&gt;&lt;/div&gt;</code></p>\n<p>EBIT 3: <code>&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg D(tbc)&quot; data-test=&quot;fin-col&quot;&gt;&lt;span&gt;30,830,000&lt;/span&gt;&lt;/div&gt;</code></p>\n<p>EBIT 4: <code>&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg Bgc($lv1BgColor) fi-row:h_Bgc($hoverBgColor) D(tbc)&quot; data-test=&quot;fin-col&quot;&gt;&lt;span&gt;41,935,000&lt;/span&gt;&lt;/div&gt;</code></p>\n<p><strong>Output</strong>:\ndates = {9/30/2022, 9/30/2021, 9/30/2020, 9/30/2019}</p>\n<p>datesQ = {9/30/2022, 6/30/2022, 3/31/2022, 12/31/2021}</p>\n<p>EBIT = {122,034,000, 111,852,000, 69,964,000, 69,313,000}</p>\n<p>EBITQ = {25,484,000, 23,785,000, 30,830,000, 41,935,000}</p>\n<p>Where <code>Q</code> stands for Quarterly.</p>\n<p>OR, it could be two hashmaps with\nyearlyHash = {date1: value1, date2: value2, date3: value3 and date4: value4}\nquarterlyHash = {date1: value1, date2: value2, date3: value3 and date4: value4}</p>\n<p>I am wondering what's the best way to match my pattern and extract the values I want.</p>\n<p>EDIT:</p>\n<p>Also, unfortunately, I don't see a <code>title = Current Liabilities</code> in the source of the page <code>https://finance.yahoo.com/quote/AAPL/balance-sheet?p=AAPL</code> because it seems to be under an expandable row in the table under <code>Total Liabilities</code>, and I am not sure how the website calculates that field.</p>\n<p>So, how can I extract that value? Also the quarterly values, what to do for that. That seems to be an AJAX call.</p>\n<p>EDIT:</p>\n<p>The <code>Date</code> values are under;</p>\n<p>Please fix my code to extract the date values which are under:</p>\n<p>Date1: <code>&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg D(ib) Fw(b)&quot;&gt;&lt;span&gt;9/30/2022&lt;/span&gt;&lt;/div&gt;</code></p>\n<p>Date2: <code>&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg D(ib) Fw(b) Bgc($lv1BgColor)&quot;&gt;&lt;span&gt;9/30/2021&lt;/span&gt;&lt;/div&gt;</code></p>\n<p>Date3: <code>&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg D(ib) Fw(b)&quot;&gt;&lt;span&gt;9/30/2020&lt;/span&gt;&lt;/div&gt;</code></p>\n<p>Date4: <code>&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg D(ib) Fw(b) Bgc($lv1BgColor)&quot;&gt;&lt;span&gt;9/30/2019&lt;/span&gt;&lt;/div&gt;</code></p>\n"},{"tags":["java","android-studio","permissions"],"owner":{"account_id":22565659,"reputation":1,"user_id":16752725,"display_name":"ag1999"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675017677,"creation_date":1675017677,"question_id":75277450,"body_markdown":"I was trying to select an image from a device folder but it an error in the logcat like this:\r\n\r\n(https://i.stack.imgur.com/0yFm8.jpg)\r\n(https://i.stack.imgur.com/owWL4.jpg)\r\n\r\nThis error doesn&#39;t always come out and sometimes it changes, but it&#39;s always about running out of memory\r\n\r\nThis is the code with which I choose an image in the gallery:\r\n\r\n\r\n```\r\npublic void inserimentoImmagine() {\r\n        addImage = findViewById(R.id.aggiuntaFoto);\r\n\r\n        addImage.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                try {\r\n                    if (ActivityCompat.checkSelfPermission(AggiuntaAnimaleManuale.this, Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\r\n                        ActivityCompat.requestPermissions(AggiuntaAnimaleManuale.this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE, Manifest.permission.WRITE_EXTERNAL_STORAGE}, PICK_FROM_GALLERY);\r\n                    } else {\r\n                        Intent galleryIntent = new Intent(Intent.ACTION_PICK, android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n                        galleryIntent.setType(&quot;image/*&quot;);\r\n                        startActivityForResult(galleryIntent, PICK_FROM_GALLERY);\r\n                    }\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String permissions[], @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n\r\n        switch (requestCode) {\r\n            case PICK_FROM_GALLERY:\r\n                // If request is cancelled, the result arrays are empty.\r\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    Intent galleryIntent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n                    galleryIntent.setType(&quot;image/*&quot;);\r\n                    startActivityForResult(galleryIntent, PICK_FROM_GALLERY);\r\n                } else {\r\n                    //do something like displaying a message that he didn`t allow the app to access gallery and you wont be able to let him select from gallery\r\n                }\r\n                break;\r\n        }\r\n    }\r\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == PICK_FROM_GALLERY &amp;&amp; resultCode == RESULT_OK) {\r\n            if (data == null) {\r\n                //Display an error\r\n                return;\r\n            }\r\n\r\n            Uri imgUri= data.getData();\r\n            String[] filePathColumn = { MediaStore.Images.Media.DATA };\r\n\r\n            Cursor cursor=getContentResolver().query(\r\n                    imgUri, filePathColumn, null, null, null\r\n            );\r\n\r\n            String picturePath;\r\n            Bitmap bitmap;\r\n\r\n            if (cursor != null &amp;&amp; cursor.moveToFirst()) {\r\n                int columnIndex = cursor.getColumnIndex(filePathColumn[0]);\r\n                picturePath = cursor.getString(columnIndex);\r\n                cursor.close();\r\n\r\n                bitmap = BitmapFactory.decodeFile(picturePath);\r\n                image.setImageBitmap(bitmap);\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n","title":"Android Studio : READ_EXTERNAL_STORAGE permission causes an error","body":"<p>I was trying to select an image from a device folder but it an error in the logcat like this:</p>\n<p>(<a href=\"https://i.stack.imgur.com/0yFm8.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/0yFm8.jpg</a>)\n(<a href=\"https://i.stack.imgur.com/owWL4.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/owWL4.jpg</a>)</p>\n<p>This error doesn't always come out and sometimes it changes, but it's always about running out of memory</p>\n<p>This is the code with which I choose an image in the gallery:</p>\n<pre><code>public void inserimentoImmagine() {\n        addImage = findViewById(R.id.aggiuntaFoto);\n\n        addImage.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                try {\n                    if (ActivityCompat.checkSelfPermission(AggiuntaAnimaleManuale.this, Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\n                        ActivityCompat.requestPermissions(AggiuntaAnimaleManuale.this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE, Manifest.permission.WRITE_EXTERNAL_STORAGE}, PICK_FROM_GALLERY);\n                    } else {\n                        Intent galleryIntent = new Intent(Intent.ACTION_PICK, android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n                        galleryIntent.setType(&quot;image/*&quot;);\n                        startActivityForResult(galleryIntent, PICK_FROM_GALLERY);\n                    }\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n\n\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String permissions[], @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n        switch (requestCode) {\n            case PICK_FROM_GALLERY:\n                // If request is cancelled, the result arrays are empty.\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                    Intent galleryIntent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n                    galleryIntent.setType(&quot;image/*&quot;);\n                    startActivityForResult(galleryIntent, PICK_FROM_GALLERY);\n                } else {\n                    //do something like displaying a message that he didn`t allow the app to access gallery and you wont be able to let him select from gallery\n                }\n                break;\n        }\n    }\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (requestCode == PICK_FROM_GALLERY &amp;&amp; resultCode == RESULT_OK) {\n            if (data == null) {\n                //Display an error\n                return;\n            }\n\n            Uri imgUri= data.getData();\n            String[] filePathColumn = { MediaStore.Images.Media.DATA };\n\n            Cursor cursor=getContentResolver().query(\n                    imgUri, filePathColumn, null, null, null\n            );\n\n            String picturePath;\n            Bitmap bitmap;\n\n            if (cursor != null &amp;&amp; cursor.moveToFirst()) {\n                int columnIndex = cursor.getColumnIndex(filePathColumn[0]);\n                picturePath = cursor.getString(columnIndex);\n                cursor.close();\n\n                bitmap = BitmapFactory.decodeFile(picturePath);\n                image.setImageBitmap(bitmap);\n            }\n\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","serialization"],"owner":{"account_id":25643722,"reputation":33,"user_id":19412134,"display_name":"Archibald"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675017660,"creation_date":1675017103,"question_id":75277391,"body_markdown":"I&#39;ve just started to learn about serialization/deserialization and I&#39;m a bit confused about which type is used where and when... let me explain:\r\n\r\nI have an object containing many fields some of which are full of &quot;useless&quot; info.\r\nNow, when I log the contents of such object for debugging purposes I would like the output to be in a nice json format.\r\n\r\nSo in the ```toString()``` method of this object I do the following:\r\n\r\n```\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\n    ...\r\n    ...\r\n\r\n    @Override\r\n    public String toString() {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        String s = &quot;&quot;;\r\n        try{\r\n            s = objectMapper.writeValueAsString(this);\r\n        } catch (Exception e) {\r\n            \r\n        }\r\n        return s;\r\n    }\r\n```\r\n\r\n\r\nbut this also logs all the useless fields.\r\n\r\nSo I&#39;ve looked around and found the ```@JsonIgnore``` annotation from ```com.fasterxml.jackson.annotation.JsonIgnore``` which I can put on top of the useless fields so as not to log them.\r\n\r\nBut from what I&#39;ve understood serialization is a process of transforming a java object into a bytestream so that it can be written to file, saved in session, sent across the internet. So my noob question is: is it possible that using the ```@JsonIgnore``` annotation on top of certain fields will result in those fields not being saved into session (I use an hazelcast map), or not being sent in the http responses I send, or not being written to a file If I ever decide to do that?\r\n\r\nIf the answer to the previous question is NO, then is that because those types of actions (saving in session, writing to file, sending as http response) use different types of serialization than ```objectMapper.writeValueAsString(this);``` so they don&#39;t conflict?","title":"Conflicting types of serialization/deserialization and annotations","body":"<p>I've just started to learn about serialization/deserialization and I'm a bit confused about which type is used where and when... let me explain:</p>\n<p>I have an object containing many fields some of which are full of &quot;useless&quot; info.\nNow, when I log the contents of such object for debugging purposes I would like the output to be in a nice json format.</p>\n<p>So in the <code>toString()</code> method of this object I do the following:</p>\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\n\n    ...\n    ...\n\n    @Override\n    public String toString() {\n        ObjectMapper objectMapper = new ObjectMapper();\n        String s = &quot;&quot;;\n        try{\n            s = objectMapper.writeValueAsString(this);\n        } catch (Exception e) {\n            \n        }\n        return s;\n    }\n</code></pre>\n<p>but this also logs all the useless fields.</p>\n<p>So I've looked around and found the <code>@JsonIgnore</code> annotation from <code>com.fasterxml.jackson.annotation.JsonIgnore</code> which I can put on top of the useless fields so as not to log them.</p>\n<p>But from what I've understood serialization is a process of transforming a java object into a bytestream so that it can be written to file, saved in session, sent across the internet. So my noob question is: is it possible that using the <code>@JsonIgnore</code> annotation on top of certain fields will result in those fields not being saved into session (I use an hazelcast map), or not being sent in the http responses I send, or not being written to a file If I ever decide to do that?</p>\n<p>If the answer to the previous question is NO, then is that because those types of actions (saving in session, writing to file, sending as http response) use different types of serialization than <code>objectMapper.writeValueAsString(this);</code> so they don't conflict?</p>\n"},{"tags":["java","windows"],"comments":[{"owner":{"account_id":285919,"reputation":43640,"user_id":584862,"accept_rate":93,"display_name":"mre"},"score":6,"creation_date":1339885175,"post_id":11067484,"comment_id":14484360,"body_markdown":"making a Java program that&#39;s platform dependent? mind has been blown.","body":"making a Java program that&#39;s platform dependent? mind has been blown."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1339885473,"post_id":11067484,"comment_id":14484435,"body_markdown":"Java is not a language suited to making such an OS specific app.!","body":"Java is not a language suited to making such an OS specific app.!"}],"answers":[{"comments":[{"owner":{"account_id":11481149,"reputation":159,"user_id":8415166,"display_name":"Jayanth"},"score":0,"creation_date":1591781893,"post_id":11067492,"comment_id":110183911,"body_markdown":"Thanks for your answer. It really helped me. Is there any way to find out the time spent on each app&#39;s. I also want to find idle time as well.","body":"Thanks for your answer. It really helped me. Is there any way to find out the time spent on each app&#39;s. I also want to find idle time as well."},{"owner":{"account_id":14364740,"reputation":81,"user_id":10376131,"display_name":"Santhosh"},"score":0,"creation_date":1635442180,"post_id":11067492,"comment_id":123306233,"body_markdown":"Thanks for including the imports too.","body":"Thanks for including the imports too."},{"owner":{"account_id":236549,"reputation":2564,"user_id":504112,"accept_rate":55,"display_name":"gumuruh"},"score":0,"creation_date":1674370210,"post_id":11067492,"comment_id":132697560,"body_markdown":"let say once the window title name is found, can we specifically getFocus() on that specific window ? i wonder.... if @Hovercraft","body":"let say once the window title name is found, can we specifically getFocus() on that specific window ? i wonder.... if @Hovercraft"}],"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"comment_count":3,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1339886035,"creation_date":1339885186,"answer_id":11067492,"question_id":11067484,"body_markdown":"There is no solution using core Java, but the problem can be solved using JNI or for an easier time, JNA. As noted in the comments, no solution (that I know of) will be platform independent.\r\n\r\nFor instance, this demo program uses JNA to enumerate all Windows with title in a Windows platform, but will also include windows that are not top-level windows and even windows that aren&#39;t visible:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import com.sun.jna.Native;\r\n    import com.sun.jna.Pointer;\r\n    import com.sun.jna.win32.StdCallLibrary;\r\n    \r\n    public class EnumAllWindowNames {\r\n       static interface User32 extends StdCallLibrary {\r\n          User32 INSTANCE = (User32) Native.loadLibrary(&quot;user32&quot;, User32.class);\r\n    \r\n          interface WNDENUMPROC extends StdCallCallback {\r\n             boolean callback(Pointer hWnd, Pointer arg);\r\n          }\r\n          \r\n          boolean EnumWindows(WNDENUMPROC lpEnumFunc, Pointer userData);\r\n          int GetWindowTextA(Pointer hWnd, byte[] lpString, int nMaxCount);\r\n          Pointer GetWindow(Pointer hWnd, int uCmd);\r\n       }\r\n       \r\n       public static List&lt;String&gt; getAllWindowNames() {\r\n          final List&lt;String&gt; windowNames = new ArrayList&lt;String&gt;();\r\n          final User32 user32 = User32.INSTANCE;\r\n          user32 .EnumWindows(new User32.WNDENUMPROC() {\r\n             \r\n             @Override\r\n             public boolean callback(Pointer hWnd, Pointer arg) {\r\n                byte[] windowText = new byte[512];\r\n                user32.GetWindowTextA(hWnd, windowText, 512);\r\n                String wText = Native.toString(windowText).trim();\r\n                if (!wText.isEmpty()) {\r\n                   windowNames.add(wText);\r\n                }\r\n                return true;\r\n             }\r\n          }, null);\r\n          \r\n          return windowNames;\r\n       }\r\n       \r\n       public static void main(String[] args) {\r\n          List&lt;String&gt; winNameList = getAllWindowNames();\r\n          for (String winName : winNameList) {\r\n             System.out.println(winName);\r\n          }\r\n       }\r\n       \r\n       \r\n    }","title":"Get titles of Non-Java Windows in Java","body":"<p>There is no solution using core Java, but the problem can be solved using JNI or for an easier time, JNA. As noted in the comments, no solution (that I know of) will be platform independent.</p>\n\n<p>For instance, this demo program uses JNA to enumerate all Windows with title in a Windows platform, but will also include windows that are not top-level windows and even windows that aren't visible:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nimport com.sun.jna.Native;\nimport com.sun.jna.Pointer;\nimport com.sun.jna.win32.StdCallLibrary;\n\npublic class EnumAllWindowNames {\n   static interface User32 extends StdCallLibrary {\n      User32 INSTANCE = (User32) Native.loadLibrary(\"user32\", User32.class);\n\n      interface WNDENUMPROC extends StdCallCallback {\n         boolean callback(Pointer hWnd, Pointer arg);\n      }\n\n      boolean EnumWindows(WNDENUMPROC lpEnumFunc, Pointer userData);\n      int GetWindowTextA(Pointer hWnd, byte[] lpString, int nMaxCount);\n      Pointer GetWindow(Pointer hWnd, int uCmd);\n   }\n\n   public static List&lt;String&gt; getAllWindowNames() {\n      final List&lt;String&gt; windowNames = new ArrayList&lt;String&gt;();\n      final User32 user32 = User32.INSTANCE;\n      user32 .EnumWindows(new User32.WNDENUMPROC() {\n\n         @Override\n         public boolean callback(Pointer hWnd, Pointer arg) {\n            byte[] windowText = new byte[512];\n            user32.GetWindowTextA(hWnd, windowText, 512);\n            String wText = Native.toString(windowText).trim();\n            if (!wText.isEmpty()) {\n               windowNames.add(wText);\n            }\n            return true;\n         }\n      }, null);\n\n      return windowNames;\n   }\n\n   public static void main(String[] args) {\n      List&lt;String&gt; winNameList = getAllWindowNames();\n      for (String winName : winNameList) {\n         System.out.println(winName);\n      }\n   }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13696680,"reputation":73,"user_id":9883130,"display_name":"MBDNC"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1578616420,"creation_date":1578616420,"answer_id":59674040,"question_id":11067484,"body_markdown":"Addition to [@Hovercraft Full Of Eels][1], if you also have **windows which are titled with unreadable characters** and **get &quot;?&quot;** printed for those characters, try to:\r\n\r\n - *convert byte[] to string by using **different encoding*** (as I understood)\r\n\r\nsee below:\r\n\r\n    String wText = Native.toString(windowText, &quot;windows-1254&quot;).trim();\r\n\r\nPossible encodings instead of &quot;windows-1254 (which worked well for **Turkish characters**)&quot;:\r\n\r\n - UTF-8\r\n - UTF-16\r\n - ASCII\r\n - ISO-8859-1\r\n - ...\r\n\r\n  [1]: https://stackoverflow.com/users/522444/hovercraft-full-of-eels","title":"Get titles of Non-Java Windows in Java","body":"<p>Addition to <a href=\"https://stackoverflow.com/users/522444/hovercraft-full-of-eels\">@Hovercraft Full Of Eels</a>, if you also have <strong>windows which are titled with unreadable characters</strong> and <strong>get \"?\"</strong> printed for those characters, try to:</p>\n\n<ul>\n<li><em>convert byte[] to string by using <strong>different encoding</em></strong> (as I understood)</li>\n</ul>\n\n<p>see below:</p>\n\n<pre><code>String wText = Native.toString(windowText, \"windows-1254\").trim();\n</code></pre>\n\n<p>Possible encodings instead of \"windows-1254 (which worked well for <strong>Turkish characters</strong>)\":</p>\n\n<ul>\n<li>UTF-8</li>\n<li>UTF-16</li>\n<li>ASCII</li>\n<li>ISO-8859-1</li>\n<li>...</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675017653,"creation_date":1675017653,"answer_id":75277444,"question_id":11067484,"body_markdown":"You can now call into native Windows APIs to read the titles of non-java windows with pure-Java code using Foreign Memory API and code bindings generated by a compatible [jextract][1]. \r\n\r\nThis example works with the preview code in JDK19 release and is the equivalent to Hovercraft Full Of Eels answer:\r\n\r\n    /** \r\n     * Run with Windows JDK19 and preview enabled:\r\n     * jdk-19\\bin\\java --enable-native-access=ALL-UNNAMED --enable-preview -cp your.jar EnumWindowsDemo\r\n     */\r\n    public class EnumWindowsDemo {\r\n        // Wide to Java String\r\n        private static String toJavaString(MemorySegment wide, int len) {\r\n            final CharBuffer cb = wide.asByteBuffer().order(ByteOrder.nativeOrder()).asCharBuffer();\r\n            return cb.limit(len).toString();\r\n        }\r\n        public static void main(String[] args) {\r\n            // TODO: You could use someParam to detect specific hWnd inside the callback\r\n            long someParam = 0x1234;\r\n    \r\n            final int isRunning = User32_h.TRUE();\r\n            final int maxChars = 1024;\r\n    \r\n            System.out.format(&quot;EnumWindows Panama 19 Demo Java %s%n&quot;, System.getProperty(&quot;java.runtime.version&quot;));\r\n    \r\n            HashMap&lt;Long,String&gt; windowNames = new HashMap&lt;&gt;();\r\n            try(MemorySession arena = MemorySession.openConfined()) {\r\n            // JDK20 try(Arena arena = Arena.openConfined()) {\r\n                MemorySegment lpString = arena.allocateArray(JAVA_CHAR, maxChars);\r\n    \r\n                // Windows callback WNDENUMPROC(MemorySegment hwnd, long lParam)\r\n                WNDENUMPROC callback = (hWnd, lParam) -&gt; {\r\n                    int used = User32_h.GetWindowTextW(hWnd, lpString, maxChars);\r\n                    if (used &gt; 0) {\r\n                        String text = toJavaString(lpString, used);\r\n                        System.out.format(&quot;hWnd:%x lParam:%x =&gt; `%s`%n&quot;, hWnd.toRawLongValue(), lParam, text);\r\n                        // JDK20: System.out.format(&quot;hWnd:%x lParam:%x =&gt; `%s`%n&quot;, hWnd.address(), lParam, text);\r\n                        if (used &gt;= maxChars) {\r\n                            System.out.format(&quot;*** Oops: increase maxChars &gt; %d, or call GetWindowTextLength first ***%n&quot;, used);\r\n                        }\r\n                        windowNames.put(hWnd.toRawLongValue(), text);\r\n                        // JDK20: windowNames.put(hWnd.address(), text);\r\n                    }\r\n                    return isRunning;\r\n                };\r\n    \r\n                final MemorySegment ewProc = WNDENUMPROC.allocate(callback, arena);\r\n                // JDK20: final MemorySegment ewProc = WNDENUMPROC.allocate(callback, arena.scope());\r\n    \r\n                // Note that someParam is passed to the callback as lParam value\r\n                int rc = User32_h.EnumWindows(ewProc, someParam);\r\n                System.out.format(&quot;EnumWindows rc:%s%n&quot;, rc == 0 ? &quot;FAIL&quot;:&quot;OK&quot;);\r\n                if (rc == 0) {\r\n                    throw new RuntimeException(&quot;EnumWindows failed rc=&quot;+rc);\r\n                }\r\n            }\r\n            System.out.format(&quot;Found windowNames: %s%n&quot;, windowNames.toString());\r\n        }\r\n    }\r\n\r\nThe standalone jextract is used to generate bindings for calling native code. You need to create a header `User32.h` referencing suitable Windows API headers:\r\n\r\n    echo #include ^&lt;shlobj_core.h^&gt; &gt; User32.h\r\n\r\nRun jextract to generate bindings for a suitable set of Windows APIs:\r\n\r\n    set JEXTRACT_ARGS=--source -luser32 User32.h -t somepackage --output java\r\n    set JEXTRACT_SYMBOLS=--include-macro TRUE --include-function EnumWindows --include-function GetWindowTextW --include-function GetWindowTextLengthW --include-typedef  WNDENUMPROC\r\n    jextract %JEXTRACT_ARGS% %JEXTRACT_SYMBOLS%\r\n\r\nYou can also save symbols to a file for easy editing, and re-generate by replacing use of `%JEXTRACT_SYMBOLS%` above by `@your.symbols`.\r\n\r\nSee also:\r\n\r\n - Holger&#39;s answer [Windows wide string to Java String conversion][2]. \r\n - [EnumWindows][3]\r\n - [GetWindowTextW][4]\r\n\r\n\r\n  [1]: https://jdk.java.net/jextract/\r\n  [2]: https://stackoverflow.com/questions/74250504/equivalent-of-memorysegment-getutf8string-for-utf-16/74253747\r\n  [3]: https://learn.microsoft.com/en-us/windows/win32/api/winuser/nf-winuser-enumwindows\r\n  [4]: https://learn.microsoft.com/en-us/windows/win32/api/winuser/nf-winuser-getwindowtextw","title":"Get titles of Non-Java Windows in Java","body":"<p>You can now call into native Windows APIs to read the titles of non-java windows with pure-Java code using Foreign Memory API and code bindings generated by a compatible <a href=\"https://jdk.java.net/jextract/\" rel=\"nofollow noreferrer\">jextract</a>.</p>\n<p>This example works with the preview code in JDK19 release and is the equivalent to Hovercraft Full Of Eels answer:</p>\n<pre><code>/** \n * Run with Windows JDK19 and preview enabled:\n * jdk-19\\bin\\java --enable-native-access=ALL-UNNAMED --enable-preview -cp your.jar EnumWindowsDemo\n */\npublic class EnumWindowsDemo {\n    // Wide to Java String\n    private static String toJavaString(MemorySegment wide, int len) {\n        final CharBuffer cb = wide.asByteBuffer().order(ByteOrder.nativeOrder()).asCharBuffer();\n        return cb.limit(len).toString();\n    }\n    public static void main(String[] args) {\n        // TODO: You could use someParam to detect specific hWnd inside the callback\n        long someParam = 0x1234;\n\n        final int isRunning = User32_h.TRUE();\n        final int maxChars = 1024;\n\n        System.out.format(&quot;EnumWindows Panama 19 Demo Java %s%n&quot;, System.getProperty(&quot;java.runtime.version&quot;));\n\n        HashMap&lt;Long,String&gt; windowNames = new HashMap&lt;&gt;();\n        try(MemorySession arena = MemorySession.openConfined()) {\n        // JDK20 try(Arena arena = Arena.openConfined()) {\n            MemorySegment lpString = arena.allocateArray(JAVA_CHAR, maxChars);\n\n            // Windows callback WNDENUMPROC(MemorySegment hwnd, long lParam)\n            WNDENUMPROC callback = (hWnd, lParam) -&gt; {\n                int used = User32_h.GetWindowTextW(hWnd, lpString, maxChars);\n                if (used &gt; 0) {\n                    String text = toJavaString(lpString, used);\n                    System.out.format(&quot;hWnd:%x lParam:%x =&gt; `%s`%n&quot;, hWnd.toRawLongValue(), lParam, text);\n                    // JDK20: System.out.format(&quot;hWnd:%x lParam:%x =&gt; `%s`%n&quot;, hWnd.address(), lParam, text);\n                    if (used &gt;= maxChars) {\n                        System.out.format(&quot;*** Oops: increase maxChars &gt; %d, or call GetWindowTextLength first ***%n&quot;, used);\n                    }\n                    windowNames.put(hWnd.toRawLongValue(), text);\n                    // JDK20: windowNames.put(hWnd.address(), text);\n                }\n                return isRunning;\n            };\n\n            final MemorySegment ewProc = WNDENUMPROC.allocate(callback, arena);\n            // JDK20: final MemorySegment ewProc = WNDENUMPROC.allocate(callback, arena.scope());\n\n            // Note that someParam is passed to the callback as lParam value\n            int rc = User32_h.EnumWindows(ewProc, someParam);\n            System.out.format(&quot;EnumWindows rc:%s%n&quot;, rc == 0 ? &quot;FAIL&quot;:&quot;OK&quot;);\n            if (rc == 0) {\n                throw new RuntimeException(&quot;EnumWindows failed rc=&quot;+rc);\n            }\n        }\n        System.out.format(&quot;Found windowNames: %s%n&quot;, windowNames.toString());\n    }\n}\n</code></pre>\n<p>The standalone jextract is used to generate bindings for calling native code. You need to create a header <code>User32.h</code> referencing suitable Windows API headers:</p>\n<pre><code>echo #include ^&lt;shlobj_core.h^&gt; &gt; User32.h\n</code></pre>\n<p>Run jextract to generate bindings for a suitable set of Windows APIs:</p>\n<pre><code>set JEXTRACT_ARGS=--source -luser32 User32.h -t somepackage --output java\nset JEXTRACT_SYMBOLS=--include-macro TRUE --include-function EnumWindows --include-function GetWindowTextW --include-function GetWindowTextLengthW --include-typedef  WNDENUMPROC\njextract %JEXTRACT_ARGS% %JEXTRACT_SYMBOLS%\n</code></pre>\n<p>You can also save symbols to a file for easy editing, and re-generate by replacing use of <code>%JEXTRACT_SYMBOLS%</code> above by <code>@your.symbols</code>.</p>\n<p>See also:</p>\n<ul>\n<li>Holger's answer <a href=\"https://stackoverflow.com/questions/74250504/equivalent-of-memorysegment-getutf8string-for-utf-16/74253747\">Windows wide string to Java String conversion</a>.</li>\n<li><a href=\"https://learn.microsoft.com/en-us/windows/win32/api/winuser/nf-winuser-enumwindows\" rel=\"nofollow noreferrer\">EnumWindows</a></li>\n<li><a href=\"https://learn.microsoft.com/en-us/windows/win32/api/winuser/nf-winuser-getwindowtextw\" rel=\"nofollow noreferrer\">GetWindowTextW</a></li>\n</ul>\n"}],"owner":{"account_id":358202,"reputation":141,"user_id":698816,"display_name":"user698816"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8727,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":3,"score":10,"last_activity_date":1675017653,"creation_date":1339885116,"question_id":11067484,"body_markdown":"    Window.getWindows();\r\n\r\nDoesn&#39;t get all the open windows, just the java ones.  Is there a way to get all the windows the operating system has open.  I&#39;m making a java taskbar.","title":"Get titles of Non-Java Windows in Java","body":"<pre><code>Window.getWindows();\n</code></pre>\n\n<p>Doesn't get all the open windows, just the java ones.  Is there a way to get all the windows the operating system has open.  I'm making a java taskbar.</p>\n"},{"tags":["java","selenium","xpath","css-selectors","webdriverwait"],"answers":[{"tags":[],"owner":{"account_id":2078183,"reputation":3320,"user_id":1850925,"display_name":"Arjit"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1433394928,"creation_date":1433394014,"answer_id":30635251,"question_id":30635228,"body_markdown":"Use\r\n\r\n    driver.findElement(By.linkText(&quot;App Configuration&quot;)).click()\r\n\r\nOther Approaches will be\r\n\r\n    JavascriptLibrary jsLib = new JavascriptLibrary(); \r\n    jsLib.callEmbeddedSelenium(selenium, &quot;triggerMouseEventAt&quot;, elementToClick,&quot;click&quot;, &quot;0,0&quot;);\r\n\r\nor\r\n\r\n    ((JavascriptExecutor) driver).executeScript(&quot;arguments[0].click();&quot;, elementToClick);\r\n\r\nFor detailed answer, [View this post][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/12082946/selenium-webdriver-org-openqa-selenium-elementnotvisibleexception-element-is-n","title":"How to click a href link using Selenium","body":"<p>Use</p>\n\n<pre><code>driver.findElement(By.linkText(\"App Configuration\")).click()\n</code></pre>\n\n<p>Other Approaches will be</p>\n\n<pre><code>JavascriptLibrary jsLib = new JavascriptLibrary(); \njsLib.callEmbeddedSelenium(selenium, \"triggerMouseEventAt\", elementToClick,\"click\", \"0,0\");\n</code></pre>\n\n<p>or</p>\n\n<pre><code>((JavascriptExecutor) driver).executeScript(\"arguments[0].click();\", elementToClick);\n</code></pre>\n\n<p>For detailed answer, <a href=\"https://stackoverflow.com/questions/12082946/selenium-webdriver-org-openqa-selenium-elementnotvisibleexception-element-is-n\">View this post</a></p>\n"},{"comments":[{"owner":{"account_id":301468,"reputation":3832,"user_id":609219,"accept_rate":63,"display_name":"Psl"},"score":0,"creation_date":1433395000,"post_id":30635281,"comment_id":49335906,"body_markdown":"getting cucumber.runtime.CucumberException: org.openqa.selenium.WebDriverException: arguments[0] is undefined","body":"getting cucumber.runtime.CucumberException: org.openqa.selenium.WebDriverException: arguments[0] is undefined"},{"owner":{"account_id":4725054,"reputation":16161,"user_id":3821981,"accept_rate":62,"display_name":"Saifur"},"score":0,"creation_date":1433395248,"post_id":30635281,"comment_id":49336009,"body_markdown":"Try `((JavascriptExecutor)driver).executeScript(&quot;document.querySelector(\\&quot;a[href=&#39;/docs/configuration&#39;]\\&quot;).click();&quot;);` instead of the 3 lines in the answer","body":"Try <code>((JavascriptExecutor)driver).executeScript(&quot;document.querySe&zwnj;&#8203;lector(\\&quot;a[href=&#39;&#47;do&zwnj;&#8203;cs&#47;configuration&#39;]\\&quot;&zwnj;&#8203;).click();&quot;);</code> instead of the 3 lines in the answer"},{"owner":{"account_id":301468,"reputation":3832,"user_id":609219,"accept_rate":63,"display_name":"Psl"},"score":0,"creation_date":1433395715,"post_id":30635281,"comment_id":49336198,"body_markdown":"org.openqa.selenium.WebDriverException: document.querySelector(...) is null","body":"org.openqa.selenium.WebDriverException: document.querySelector(...) is null"},{"owner":{"account_id":4725054,"reputation":16161,"user_id":3821981,"accept_rate":62,"display_name":"Saifur"},"score":0,"creation_date":1433395942,"post_id":30635281,"comment_id":49336287,"body_markdown":"Seems like wait issue to me. Add some explicit wait and try","body":"Seems like wait issue to me. Add some explicit wait and try"}],"tags":[],"owner":{"account_id":4725054,"reputation":16161,"user_id":3821981,"accept_rate":62,"display_name":"Saifur"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1433394169,"creation_date":1433394169,"answer_id":30635281,"question_id":30635228,"body_markdown":"Seems like the `a` tag is hidden. Remember Selenium is not able to interact with hidden element. `Javascript` is the only option in that case.\r\n\r\n    By css = By.cssSelector(&quot;a[href=&#39;/docs/configuration&#39;]&quot;);\r\n    WebElement element = driver.findElement(css);\r\n    ((JavascriptExecutor)driver).executeScript(&quot;arguments[0].click();&quot; , element);","title":"How to click a href link using Selenium","body":"<p>Seems like the <code>a</code> tag is hidden. Remember Selenium is not able to interact with hidden element. <code>Javascript</code> is the only option in that case.</p>\n\n<pre><code>By css = By.cssSelector(\"a[href='/docs/configuration']\");\nWebElement element = driver.findElement(css);\n((JavascriptExecutor)driver).executeScript(\"arguments[0].click();\" , element);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6140349,"reputation":2598,"user_id":4787944,"accept_rate":57,"display_name":"Saritha G"},"comment_count":0,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1433409445,"creation_date":1433409445,"answer_id":30639812,"question_id":30635228,"body_markdown":"     webDriver.findElement(By.xpath(&quot;//a[@href=&#39;/docs/configuration&#39;]&quot;)).click();\r\n\r\nThe above line works fine. Please remove the space after href. \r\n\r\nIs that element is visible in the page, if the element is not visible please scroll down the page then perform click action.","title":"How to click a href link using Selenium","body":"<pre><code> webDriver.findElement(By.xpath(\"//a[@href='/docs/configuration']\")).click();\n</code></pre>\n\n<p>The above line works fine. Please remove the space after href. </p>\n\n<p>Is that element is visible in the page, if the element is not visible please scroll down the page then perform click action.</p>\n"},{"comments":[{"owner":{"account_id":7213889,"reputation":2259,"user_id":5507055,"accept_rate":100,"display_name":"ikreb"},"score":0,"creation_date":1502708552,"post_id":40736368,"comment_id":78303356,"body_markdown":"You forgot a bracket.","body":"You forgot a bracket."},{"owner":{"account_id":2315616,"reputation":413,"user_id":2082660,"display_name":"scavenger"},"score":0,"creation_date":1583168176,"post_id":40736368,"comment_id":107016861,"body_markdown":"doesn&#39;t work for pages with language based on user IP","body":"doesn&#39;t work for pages with language based on user IP"}],"tags":[],"owner":{"account_id":9697080,"reputation":1,"user_id":7193158,"display_name":"Nitinkumar"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508734727,"creation_date":1479800878,"answer_id":40736368,"question_id":30635228,"body_markdown":"You can use this method:\r\n\r\nFor the links if you use `linkText();` it is more effective than the any other locator. \r\n\r\n    driver.findElement(By.linkText(&quot;App Configuration&quot;)).click();","title":"How to click a href link using Selenium","body":"<p>You can use this method:</p>\n\n<p>For the links if you use <code>linkText();</code> it is more effective than the any other locator. </p>\n\n<pre><code>driver.findElement(By.linkText(\"App Configuration\")).click();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12997530,"reputation":1,"user_id":9394604,"display_name":"omkar mahajan"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1519282437,"creation_date":1519278869,"answer_id":48920534,"question_id":30635228,"body_markdown":"You can use `xpath` as follows, try this one :\r\n\r\n\r\n    driver.findElement(By.xpath(&quot;(.//[@href=&#39;/docs/configuration&#39;])&quot;)).click();\r\n\r\n","title":"How to click a href link using Selenium","body":"<p>You can use <code>xpath</code> as follows, try this one :</p>\n\n<pre><code>driver.findElement(By.xpath(\"(.//[@href='/docs/configuration'])\")).click();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12947355,"reputation":883,"user_id":9361289,"display_name":"Juhil Somaiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1519581370,"creation_date":1519579246,"answer_id":48976295,"question_id":30635228,"body_markdown":"Use an explicit `wait` for the element like this:\r\n\r\n    WebDriverWait wait1 = new WebDriverWait(driver, 500);\r\n    wait1.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;path of element&quot;))).click();\r\n","title":"How to click a href link using Selenium","body":"<p>Use an explicit <code>wait</code> for the element like this:</p>\n\n<pre><code>WebDriverWait wait1 = new WebDriverWait(driver, 500);\nwait1.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(\"path of element\"))).click();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16478730,"reputation":11,"user_id":11905979,"display_name":"user11905979"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565334990,"creation_date":1565334741,"answer_id":57425083,"question_id":30635228,"body_markdown":"&gt; How to click on link without  using click method in selenum?\r\n\r\nThis is a tricky question. Follow the below steps:\r\n\r\n    driver.get(&quot;https://www.google.com&quot;);\r\n    String gmaillink= driver.findElement(By.xpath(&quot;//a[@href=&#39;https://mail.google.com/mail/?tab=wm&amp;ogbl&#39;]&quot;)).getAttribute(&quot;href&quot;);\r\n    System.out.println(gmaillink);\r\n    driver.get(gmaillink);","title":"How to click a href link using Selenium","body":"<blockquote>\n  <p>How to click on link without  using click method in selenum?</p>\n</blockquote>\n\n<p>This is a tricky question. Follow the below steps:</p>\n\n<pre><code>driver.get(\"https://www.google.com\");\nString gmaillink= driver.findElement(By.xpath(\"//a[@href='https://mail.google.com/mail/?tab=wm&amp;ogbl']\")).getAttribute(\"href\");\nSystem.out.println(gmaillink);\ndriver.get(gmaillink);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14913177,"reputation":116,"user_id":10767933,"display_name":"Salman Arshad"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568110516,"creation_date":1568110516,"answer_id":57868629,"question_id":30635228,"body_markdown":"Try to use Action class to reach the element\r\n\r\n    Actions action = new Actions(driver);\r\n    action.MoveToElement(driver.findElement(By.xpath(&quot;//a[text()=&#39;AppConfiguration&#39;]&quot;)));\r\n    action.Perform();\r\n\r\n","title":"How to click a href link using Selenium","body":"<p>Try to use Action class to reach the element</p>\n\n<pre><code>Actions action = new Actions(driver);\naction.MoveToElement(driver.findElement(By.xpath(\"//a[text()='AppConfiguration']\")));\naction.Perform();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17189760,"reputation":41,"user_id":12443722,"display_name":"evan"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1574843893,"creation_date":1574839834,"answer_id":59065139,"question_id":30635228,"body_markdown":" \r\nThi is your code : \r\n\r\n    Driver.findElement(By.xpath(//a[@href =&#39;/docs/configuration&#39;]&quot;)).click();\r\n\r\nYou missed the Quotation mark\r\n\r\nit should be as below \r\n\r\n    Driver.findElement(By.xpath(&quot;//a[@href=&#39;/docs/configuration&#39;]&quot;)).click();\r\n\r\nHope this helps!","title":"How to click a href link using Selenium","body":"<p>Thi is your code : </p>\n\n<pre><code>Driver.findElement(By.xpath(//a[@href ='/docs/configuration']\")).click();\n</code></pre>\n\n<p>You missed the Quotation mark</p>\n\n<p>it should be as below </p>\n\n<pre><code>Driver.findElement(By.xpath(\"//a[@href='/docs/configuration']\")).click();\n</code></pre>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605523789,"creation_date":1605523789,"answer_id":64856614,"question_id":30635228,"body_markdown":"To `click()` on the element with text as **App Configuration** you can use either of the following [Locator Strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890):\r\n\r\n- `linkText`:\r\n\r\n\t  driver.findElement(By.linkText(&quot;App Configuration&quot;)).click();\r\n\r\n- `cssSelector`:\r\n\r\n\t  driver.findElement(By.cssSelector(&quot;a[href=&#39;/docs/configuration&#39;]&quot;)).click();\r\n           \t\r\n- `xpath`:\r\n\r\n\t  driver.findElement(By.xpath(&quot;//a[@href=&#39;/docs/configuration&#39; and text()=&#39;App Configuration&#39;]&quot;)).click();\r\n\r\n\r\n----------\r\n\r\n\r\nIdeally, to `click()` on the element you need to induce [WebDriverWait](https://stackoverflow.com/questions/48989049/selenium-how-selenium-identifies-elements-visible-or-not-is-is-possible-that-i/48990165#48990165) for the `elementToBeClickable()` and you can use either of the following [Locator Strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890):\r\n\r\n- `linkText`:\r\n\r\n\t  new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.linkText(&quot;App Configuration&quot;))).click();\r\n           \t\r\n- `cssSelector`:\r\n\r\n\t  new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;a[href=&#39;/docs/configuration&#39;]&quot;))).click();\r\n           \t\r\n- `xpath`:\r\n\r\n\t  new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//a[@href=&#39;/docs/configuration&#39; and text()=&#39;App Configuration&#39;]&quot;))).click();\r\n\r\n\r\n----------\r\n\r\n\r\n\t  \r\nReferences\r\n----------\r\nYou can find a couple of relevant detailed discussions in:\r\n\r\n- [org.openqa.selenium.ElementNotVisibleException: Element is not currently visible while clicking a checkbox through SeleniumWebDriver and Java](https://stackoverflow.com/questions/52720891/org-openqa-selenium-elementnotvisibleexception-element-is-not-currently-visible/52744466#52744466)\r\n- [How to resolve org.openqa.selenium.ElementNotVisibleException using Selenium with Java in Amazon Sign In](https://stackoverflow.com/questions/48358375/how-to-resolve-org-openqa-selenium-elementnotvisibleexception-using-selenium-wit/48358593#48358593)","title":"How to click a href link using Selenium","body":"<p>To <code>click()</code> on the element with text as <strong>App Configuration</strong> you can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>:</p>\n<ul>\n<li><p><code>linkText</code>:</p>\n<pre><code>driver.findElement(By.linkText(&quot;App Configuration&quot;)).click();\n</code></pre>\n</li>\n<li><p><code>cssSelector</code>:</p>\n<pre><code>driver.findElement(By.cssSelector(&quot;a[href='/docs/configuration']&quot;)).click();\n</code></pre>\n</li>\n<li><p><code>xpath</code>:</p>\n<pre><code>driver.findElement(By.xpath(&quot;//a[@href='/docs/configuration' and text()='App Configuration']&quot;)).click();\n</code></pre>\n</li>\n</ul>\n<hr />\n<p>Ideally, to <code>click()</code> on the element you need to induce <a href=\"https://stackoverflow.com/questions/48989049/selenium-how-selenium-identifies-elements-visible-or-not-is-is-possible-that-i/48990165#48990165\">WebDriverWait</a> for the <code>elementToBeClickable()</code> and you can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>:</p>\n<ul>\n<li><p><code>linkText</code>:</p>\n<pre><code>new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.linkText(&quot;App Configuration&quot;))).click();\n</code></pre>\n</li>\n<li><p><code>cssSelector</code>:</p>\n<pre><code>new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;a[href='/docs/configuration']&quot;))).click();\n</code></pre>\n</li>\n<li><p><code>xpath</code>:</p>\n<pre><code>new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//a[@href='/docs/configuration' and text()='App Configuration']&quot;))).click();\n</code></pre>\n</li>\n</ul>\n<hr />\n<h2>References</h2>\n<p>You can find a couple of relevant detailed discussions in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/52720891/org-openqa-selenium-elementnotvisibleexception-element-is-not-currently-visible/52744466#52744466\">org.openqa.selenium.ElementNotVisibleException: Element is not currently visible while clicking a checkbox through SeleniumWebDriver and Java</a></li>\n<li><a href=\"https://stackoverflow.com/questions/48358375/how-to-resolve-org-openqa-selenium-elementnotvisibleexception-using-selenium-wit/48358593#48358593\">How to resolve org.openqa.selenium.ElementNotVisibleException using Selenium with Java in Amazon Sign In</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":21486016,"reputation":11,"user_id":15832638,"display_name":"Valley"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620132227,"creation_date":1620132227,"answer_id":67385023,"question_id":30635228,"body_markdown":"These answers seem a bit too complicated. This worked for me.\r\nGive the svg tag an id and then find the Element by that id:\r\n\r\nThis is your svg:\r\n\r\n    &lt;svg id=&quot;element-id&quot;&gt;&lt;use href=&quot;/....&quot;&gt;&lt;/use&gt;&lt;/svg&gt;\r\n\r\nThen do it like this:\r\n\r\n    driver.findElement(By.id(&quot;element-id&quot;)).click();","title":"How to click a href link using Selenium","body":"<p>These answers seem a bit too complicated. This worked for me.\nGive the svg tag an id and then find the Element by that id:</p>\n<p>This is your svg:</p>\n<pre><code>&lt;svg id=&quot;element-id&quot;&gt;&lt;use href=&quot;/....&quot;&gt;&lt;/use&gt;&lt;/svg&gt;\n</code></pre>\n<p>Then do it like this:</p>\n<pre><code>driver.findElement(By.id(&quot;element-id&quot;)).click();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11117664,"reputation":61,"user_id":8161523,"display_name":"Rohit Bahadur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675017052,"creation_date":1675017052,"answer_id":75277382,"question_id":30635228,"body_markdown":"Why not try using this one :  .name of the class &gt; a\r\n\r\nWhat we mean is fetch the class followed by its href\r\n\r\ne.g. could be (.offset3 &gt;a).click()  , here offset3 is the class and a is the anchor tag \r\n\r\nsample code\r\n[![enter image description here][1]][1]\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8W3ZT.png","title":"How to click a href link using Selenium","body":"<p>Why not try using this one :  .name of the class &gt; a</p>\n<p>What we mean is fetch the class followed by its href</p>\n<p>e.g. could be (.offset3 &gt;a).click()  , here offset3 is the class and a is the anchor tag</p>\n<p>sample code\n<a href=\"https://i.stack.imgur.com/8W3ZT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8W3ZT.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":301468,"reputation":3832,"user_id":609219,"accept_rate":63,"display_name":"Psl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284165,"favorite_count":0,"down_vote_count":1,"up_vote_count":29,"answer_count":12,"score":28,"last_activity_date":1675017052,"creation_date":1433393871,"question_id":30635228,"body_markdown":"I have a *html* `href` link\r\n\r\n    &lt;a href=&quot;/docs/configuration&quot;&gt;App Configuration&lt;/a&gt;\r\n\r\nusing Selenium I need to click the link. Currently, I am using below code -\r\n\r\n    Driver.findElement(By.xpath(&quot;//a[text()=&#39;App Configuration&#39;]&quot;)).click(); \r\n\r\nBut it&#39;s not redirecting to the page. I also tried below code -\r\n\r\n    Driver.findElement(By.xpath(//a[@href =&#39;/docs/configuration&#39;]&quot;)).click();\r\n\r\nBut this is throwing below exception -\r\n \r\n    org.openqa.selenium.ElementNotVisibleException: Element is not currently visible and so may not be interacted with\r\n    Command duration or timeout: 13 milliseconds\r\n\r\nThe link is visible and page is completely loaded. I don&#39;t know what&#39;s wrong with my code.","title":"How to click a href link using Selenium","body":"<p>I have a <em>html</em> <code>href</code> link</p>\n<pre><code>&lt;a href=&quot;/docs/configuration&quot;&gt;App Configuration&lt;/a&gt;\n</code></pre>\n<p>using Selenium I need to click the link. Currently, I am using below code -</p>\n<pre><code>Driver.findElement(By.xpath(&quot;//a[text()='App Configuration']&quot;)).click(); \n</code></pre>\n<p>But it's not redirecting to the page. I also tried below code -</p>\n<pre><code>Driver.findElement(By.xpath(//a[@href ='/docs/configuration']&quot;)).click();\n</code></pre>\n<p>But this is throwing below exception -</p>\n<pre><code>org.openqa.selenium.ElementNotVisibleException: Element is not currently visible and so may not be interacted with\nCommand duration or timeout: 13 milliseconds\n</code></pre>\n<p>The link is visible and page is completely loaded. I don't know what's wrong with my code.</p>\n"},{"tags":["java","iterator"],"answers":[{"tags":[],"owner":{"account_id":20906298,"reputation":332,"user_id":15358155,"display_name":"chameerar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675015630,"creation_date":1650181522,"answer_id":71900143,"question_id":71899972,"body_markdown":"The issue is in the line `sortedArray = (E[]) (new Object[size()]);`. You cannot initialize a generic array like this. To initialize the `sortedArray` try below.\r\n\r\n```lang-java\r\nsortedArray =(E[]) Array.newInstance(clazz, size())\r\n```\r\nBe aware that you need to provide the class of the required object as the `clazz`\r\n\r\nSee the answers for this question for more details. https://stackoverflow.com/questions/529085/how-to-create-a-generic-array-in-java?page=1&amp;tab=scoredesc#tab-top","title":"Java BST iterator using an array","body":"<p>The issue is in the line <code>sortedArray = (E[]) (new Object[size()]);</code>. You cannot initialize a generic array like this. To initialize the <code>sortedArray</code> try below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>sortedArray =(E[]) Array.newInstance(clazz, size())\n</code></pre>\n<p>Be aware that you need to provide the class of the required object as the <code>clazz</code></p>\n<p>See the answers for this question for more details. <a href=\"https://stackoverflow.com/questions/529085/how-to-create-a-generic-array-in-java?page=1&amp;tab=scoredesc#tab-top\">How to create a generic array in Java?</a></p>\n"}],"owner":{"account_id":22713030,"reputation":111,"user_id":16878731,"display_name":"learner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675015630,"creation_date":1650179234,"question_id":71899972,"body_markdown":"Class definition for Binary Search Tree in Java: \r\n\r\n    public class BST&lt;E extends Comparable&lt;E&gt;&gt; implements Iterable&lt;E&gt;, Cloneable\r\n\r\n```lang-java\r\npublic Iterator&lt;E&gt; iterator() {\r\n        return new BSTInOrderIterator();\r\n    }\r\n\r\n    private class BSTInOrderIterator implements Iterator&lt;E&gt; {\r\n        private int sortedArrayFillerIndex;\r\n        private final E[] sortedArray;\r\n\r\n        private int ptr;\r\n\r\n        public BSTInOrderIterator() {\r\n            sortedArrayFillerIndex = 0;\r\n            sortedArray = (E[]) (new Object[size()]);\r\n            inOrder(root);\r\n            ptr = 0;\r\n        }\r\n\r\n        private void inOrder(Node x) {\r\n            if (x == null) return;\r\n            inOrder(x.left);\r\n            sortedArray[sortedArrayFillerIndex++] = x.value;\r\n            inOrder(x.right);\r\n        }\r\n\r\n        @Override\r\n        public boolean hasNext() {\r\n            return ptr &lt; size();\r\n        }\r\n\r\n        @Override\r\n        public E next() {\r\n            return sortedArray[ptr++];\r\n        }\r\n    }\r\n```\r\n\r\n\r\nIn the iterator, I first build a sorted array through an inorder traversal of my BST. \r\nHowever, I get class cast exception in the constructor of the BST iterator. How do I handle that? ","title":"Java BST iterator using an array","body":"<p>Class definition for Binary Search Tree in Java:</p>\n<pre><code>public class BST&lt;E extends Comparable&lt;E&gt;&gt; implements Iterable&lt;E&gt;, Cloneable\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public Iterator&lt;E&gt; iterator() {\n        return new BSTInOrderIterator();\n    }\n\n    private class BSTInOrderIterator implements Iterator&lt;E&gt; {\n        private int sortedArrayFillerIndex;\n        private final E[] sortedArray;\n\n        private int ptr;\n\n        public BSTInOrderIterator() {\n            sortedArrayFillerIndex = 0;\n            sortedArray = (E[]) (new Object[size()]);\n            inOrder(root);\n            ptr = 0;\n        }\n\n        private void inOrder(Node x) {\n            if (x == null) return;\n            inOrder(x.left);\n            sortedArray[sortedArrayFillerIndex++] = x.value;\n            inOrder(x.right);\n        }\n\n        @Override\n        public boolean hasNext() {\n            return ptr &lt; size();\n        }\n\n        @Override\n        public E next() {\n            return sortedArray[ptr++];\n        }\n    }\n</code></pre>\n<p>In the iterator, I first build a sorted array through an inorder traversal of my BST.\nHowever, I get class cast exception in the constructor of the BST iterator. How do I handle that?</p>\n"},{"tags":["java","rest","jpa","spring-boot"],"comments":[{"owner":{"account_id":5478423,"reputation":1520,"user_id":4355748,"accept_rate":56,"display_name":"Rana_S"},"score":0,"creation_date":1450024017,"post_id":34253282,"comment_id":56248230,"body_markdown":"Did you try with (generator = ObjectIdGenerators.PropertyGenerator.class)?","body":"Did you try with (generator = ObjectIdGenerators.PropertyGenerator.class)?"},{"owner":{"account_id":5478423,"reputation":1520,"user_id":4355748,"accept_rate":56,"display_name":"Rana_S"},"score":0,"creation_date":1450024381,"post_id":34253282,"comment_id":56248358,"body_markdown":"I am not sure but instead of using annotation on the collection, can you annotate respective classes and try?","body":"I am not sure but instead of using annotation on the collection, can you annotate respective classes and try?"},{"owner":{"account_id":5478423,"reputation":1520,"user_id":4355748,"accept_rate":56,"display_name":"Rana_S"},"score":0,"creation_date":1450024523,"post_id":34253282,"comment_id":56248421,"body_markdown":"Can you put this annotation on the class itself: @JsonIdentityInfo(generator = ObjectIdGenerators.IntSequenceGenerator.class) public class Teacher {////} and same for the SchoolClass?","body":"Can you put this annotation on the class itself: @JsonIdentityInfo(generator = ObjectIdGenerators.IntSequenceGenerator.class) public class Teacher {////} and same for the SchoolClass?"},{"owner":{"account_id":3217427,"reputation":895,"user_id":2715720,"accept_rate":82,"display_name":"rala"},"score":0,"creation_date":1450025977,"post_id":34253282,"comment_id":56249000,"body_markdown":"this works now; but from the school class I get 4 (OneToMany)","body":"this works now; but from the school class I get 4 (OneToMany)"},{"owner":{"account_id":5478423,"reputation":1520,"user_id":4355748,"accept_rate":56,"display_name":"Rana_S"},"score":0,"creation_date":1450026367,"post_id":34253282,"comment_id":56249143,"body_markdown":"You mean School.class has 4 Teacher.class?","body":"You mean School.class has 4 Teacher.class?"},{"owner":{"account_id":3217427,"reputation":895,"user_id":2715720,"accept_rate":82,"display_name":"rala"},"score":0,"creation_date":1450026397,"post_id":34253282,"comment_id":56249162,"body_markdown":"no the number instead of object ^^&#39;","body":"no the number instead of object ^^&#39;"},{"owner":{"account_id":5478423,"reputation":1520,"user_id":4355748,"accept_rate":56,"display_name":"Rana_S"},"score":0,"creation_date":1450026513,"post_id":34253282,"comment_id":56249206,"body_markdown":"Did you remove the @JsonIdentityInfo from property and put them in the Teacher.class and SchoolClass.class?","body":"Did you remove the @JsonIdentityInfo from property and put them in the Teacher.class and SchoolClass.class?"}],"owner":{"account_id":3217427,"reputation":895,"user_id":2715720,"accept_rate":82,"display_name":"rala"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":616,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675014986,"creation_date":1450023572,"question_id":34253282,"body_markdown":"A question from the past: [Spring boot with JPA and ManyToMany: JsonIdentifyInfo not working properly][1]\r\n\r\n## The Code\r\n**Teacher**\r\n\r\n    @ManyToMany\r\n    @JsonIdentityInfo(generator = ObjectIdGenerators.IntSequenceGenerator.class)\r\n    private Set&lt;SchoolClass&gt; classes = new HashSet&lt;&gt;();\r\n\r\n**SchoolClass**\r\n\r\n    @ManyToMany\r\n    @JsonIdentityInfo(generator = ObjectIdGenerators.IntSequenceGenerator.class)\r\n    private Set&lt;Teacher&gt; teachers = new HashSet&lt;&gt;();\r\n\r\n\r\nThe output from teacher is now:\r\n\r\n\t{\r\n\t  &quot;id&quot;: 1,\r\n\t  // reduced content\r\n\t  &quot;classes&quot;: [\r\n\t    {\r\n\t     @id: 1,\r\n\t     id: 1,\r\n\t     // reduced content\r\n        },\r\n\t    3 // &lt;- no class object\r\n\t  ]\r\n\t}\r\n\r\nIn the database itself there is everything correct linked.\r\nThe `getClasses()` from `Teacher` method has also the correct object in the array.\r\n\r\nWhy is there just `3` instead of the object?&lt;br&gt;\r\n_btw: the correct object id would be 4_\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/33285941/2715720","title":"@JsonIdentityInfo ObjectIdGenerators returning 3 instead of object","body":"<p>A question from the past: <a href=\"https://stackoverflow.com/q/33285941/2715720\">Spring boot with JPA and ManyToMany: JsonIdentifyInfo not working properly</a></p>\n\n<h2>The Code</h2>\n\n<p><strong>Teacher</strong></p>\n\n<pre><code>@ManyToMany\n@JsonIdentityInfo(generator = ObjectIdGenerators.IntSequenceGenerator.class)\nprivate Set&lt;SchoolClass&gt; classes = new HashSet&lt;&gt;();\n</code></pre>\n\n<p><strong>SchoolClass</strong></p>\n\n<pre><code>@ManyToMany\n@JsonIdentityInfo(generator = ObjectIdGenerators.IntSequenceGenerator.class)\nprivate Set&lt;Teacher&gt; teachers = new HashSet&lt;&gt;();\n</code></pre>\n\n<p>The output from teacher is now:</p>\n\n<pre><code>{\n  \"id\": 1,\n  // reduced content\n  \"classes\": [\n    {\n     @id: 1,\n     id: 1,\n     // reduced content\n    },\n    3 // &lt;- no class object\n  ]\n}\n</code></pre>\n\n<p>In the database itself there is everything correct linked.\nThe <code>getClasses()</code> from <code>Teacher</code> method has also the correct object in the array.</p>\n\n<p>Why is there just <code>3</code> instead of the object?<br>\n<em>btw: the correct object id would be 4</em></p>\n"},{"tags":["java","rest-client","quarkus","microprofile"],"comments":[{"owner":{"account_id":1663022,"reputation":20609,"user_id":1530938,"display_name":"kolossus"},"score":0,"creation_date":1590965488,"post_id":61426237,"comment_id":109873188,"body_markdown":"From all indications, there isn&#39;t a reliable way to just configure it on the client per JAX-RS spec. All that&#39;s left to do is for you to manually take control of the situation with a `ClientRequestFilter`. In the filter, you&#39;ll watch for 302 redirects and ignore them. Make sense?","body":"From all indications, there isn&#39;t a reliable way to just configure it on the client per JAX-RS spec. All that&#39;s left to do is for you to manually take control of the situation with a <code>ClientRequestFilter</code>. In the filter, you&#39;ll watch for 302 redirects and ignore them. Make sense?"}],"owner":{"account_id":18402576,"reputation":11,"user_id":13405233,"display_name":"Łukasz Sołtys"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":564,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675014420,"creation_date":1587820606,"question_id":61426237,"body_markdown":"I need disable follow redirect on REST Clinet in Microprofile(Quarkus). Is there any configuration option to change this behavior?\r\n\r\nRegards,\r\nŁukasz","title":"Is there any option to disable follow redirect on Microprofile REST Client","body":"<p>I need disable follow redirect on REST Clinet in Microprofile(Quarkus). Is there any configuration option to change this behavior?</p>\n\n<p>Regards,\nŁukasz</p>\n"},{"tags":["java","data-structures","linked-list"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1675011957,"post_id":75276670,"comment_id":132832046,"body_markdown":"Can you please add some more code to make it a [mre] ? Hard to tell what&#39;s going on without the code to reproduce your test results.","body":"Can you please add some more code to make it a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> ? Hard to tell what&#39;s going on without the code to reproduce your test results."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675156236,"post_id":75277008,"comment_id":132862703,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75277008/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27650463,"reputation":1,"user_id":21105513,"display_name":"AliAlrebdi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675014019,"creation_date":1675014019,"answer_id":75277008,"question_id":75276670,"body_markdown":"I have changed the last 3 lines with this code : \r\n    p3.next = tmp;\r\n    tmp.next = pred;\r\n\r\nAnd solved my problem.","title":"The tail is replaced instead of append","body":"<p>I have changed the last 3 lines with this code :\np3.next = tmp;\ntmp.next = pred;</p>\n<p>And solved my problem.</p>\n"}],"owner":{"account_id":27650463,"reputation":1,"user_id":21105513,"display_name":"AliAlrebdi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675014019,"creation_date":1675011266,"question_id":75276670,"body_markdown":"I have a method called `public void insertAfterSecondOccurrence(T e1, T e2)` that would insert an integer after the second occurrence of another integer. However my problem is that if the integer inserted is before the last integer in the list, the method would just replace the tail with the inserted integer instead of appending it. \r\n\r\nHere is the method code :\r\n\r\n``` lang-java\r\npublic void insertAfterSecondOccurrence(T e1, T e2) {   \r\n    // insert e1 after the second occurence of e2\r\n\r\n    if(isEmpty()) {\r\n        System.out.println(&quot;Error the list is empty.&quot;);\r\n    }\r\n\r\n    SLLNode&lt;T&gt; p = head;\r\n    int count = 0;\r\n\r\n    for(int i = 0; i &lt; size(); i++) {\r\n        if(p.info.equals(e2)) {\r\n            count++;\r\n        }\r\n        p = p.next;\r\n    }\r\n\r\n    if(count &lt;= 1) {\r\n        System.out.println(&quot;Error there is no sec&quot;);\r\n    }\r\n\r\n    SLLNode&lt;T&gt; p2 = head;\r\n    SLLNode&lt;T&gt; p3 = head;\r\n    SLLNode&lt;T&gt; pred =head;\r\n    SLLNode&lt;T&gt; tmp = new SLLNode&lt;T&gt;(e1);\r\n    int count2 = 0;\r\n\r\n    for(int i = 0; i &lt; size(); i++) {\r\n        if(p2.info.equals(e2)) {\r\n            pred = p2.next;\r\n            p3 = p2;\r\n            count2++;\r\n        }\r\n        if(count2 == 2) {\r\n            break;\r\n        }\r\n        p2 = p2.next;\r\n    }\r\n\r\n    pred.next = pred;\r\n    pred = pred.next;\r\n    p3.next = tmp;\r\n}\r\n```\r\n\r\nI tried replacing the last 3 lines with :\r\n\r\n``` lang-java\r\ntail.next = tail;\r\ntail = tail.next;\r\np3.next = tmp; \r\n```\r\n\r\nBut it didn&#39;t work. Here is an example of how it should be, this is the original array `[ 7 5 3 50 7 9 ]`, after calling the method it should be `[ 7 5 3 50 7 30 9 ]`, what i keep getting is `[ 7 5 3 50 7 30 ]`.\r\n\r\nI would appreciate if you give me basic responses this is my first time using the website so I&#39;m not familiar with the terms/slang in this website. ","title":"The tail is replaced instead of append","body":"<p>I have a method called <code>public void insertAfterSecondOccurrence(T e1, T e2)</code> that would insert an integer after the second occurrence of another integer. However my problem is that if the integer inserted is before the last integer in the list, the method would just replace the tail with the inserted integer instead of appending it.</p>\n<p>Here is the method code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void insertAfterSecondOccurrence(T e1, T e2) {   \n    // insert e1 after the second occurence of e2\n\n    if(isEmpty()) {\n        System.out.println(&quot;Error the list is empty.&quot;);\n    }\n\n    SLLNode&lt;T&gt; p = head;\n    int count = 0;\n\n    for(int i = 0; i &lt; size(); i++) {\n        if(p.info.equals(e2)) {\n            count++;\n        }\n        p = p.next;\n    }\n\n    if(count &lt;= 1) {\n        System.out.println(&quot;Error there is no sec&quot;);\n    }\n\n    SLLNode&lt;T&gt; p2 = head;\n    SLLNode&lt;T&gt; p3 = head;\n    SLLNode&lt;T&gt; pred =head;\n    SLLNode&lt;T&gt; tmp = new SLLNode&lt;T&gt;(e1);\n    int count2 = 0;\n\n    for(int i = 0; i &lt; size(); i++) {\n        if(p2.info.equals(e2)) {\n            pred = p2.next;\n            p3 = p2;\n            count2++;\n        }\n        if(count2 == 2) {\n            break;\n        }\n        p2 = p2.next;\n    }\n\n    pred.next = pred;\n    pred = pred.next;\n    p3.next = tmp;\n}\n</code></pre>\n<p>I tried replacing the last 3 lines with :</p>\n<pre class=\"lang-java prettyprint-override\"><code>tail.next = tail;\ntail = tail.next;\np3.next = tmp; \n</code></pre>\n<p>But it didn't work. Here is an example of how it should be, this is the original array <code>[ 7 5 3 50 7 9 ]</code>, after calling the method it should be <code>[ 7 5 3 50 7 30 9 ]</code>, what i keep getting is <code>[ 7 5 3 50 7 30 ]</code>.</p>\n<p>I would appreciate if you give me basic responses this is my first time using the website so I'm not familiar with the terms/slang in this website.</p>\n"},{"tags":["java","android","material-design"],"comments":[{"owner":{"account_id":6515001,"reputation":2582,"user_id":5041124,"accept_rate":68,"display_name":"Nick Mowen"},"score":0,"creation_date":1556042913,"post_id":55816794,"comment_id":98300759,"body_markdown":"Are you sure it&#39;s a dialog behind the scenes? To me it seems like it&#39;s just a fragment or activity","body":"Are you sure it&#39;s a dialog behind the scenes? To me it seems like it&#39;s just a fragment or activity"},{"owner":{"account_id":8536561,"reputation":633,"user_id":6398145,"display_name":"Ian White"},"score":0,"creation_date":1556045463,"post_id":55816794,"comment_id":98301830,"body_markdown":"Yes it is a dialog. According to their github page here: https://github.com/material-components/material-components-android/blob/master/docs/components/Dialog.md \nit extends `AlertDialog.Builder`","body":"Yes it is a dialog. According to their github page here: <a href=\"https://github.com/material-components/material-components-android/blob/master/docs/components/Dialog.md\" rel=\"nofollow noreferrer\">github.com/material-components/material-components-android/b&zwnj;&#8203;lob/&hellip;</a>  it extends <code>AlertDialog.Builder</code>"},{"owner":{"account_id":7422340,"reputation":2446,"user_id":5646176,"accept_rate":50,"display_name":"RonTLV"},"score":0,"creation_date":1562777265,"post_id":55816794,"comment_id":100486764,"body_markdown":"[Full-screen dialog](https://material.io/design/components/dialogs.html#full-screen-dialog)","body":"<a href=\"https://material.io/design/components/dialogs.html#full-screen-dialog\" rel=\"nofollow noreferrer\">Full-screen dialog</a>"}],"answers":[{"comments":[{"owner":{"account_id":26384258,"reputation":10192,"user_id":20037042,"display_name":"chrslg"},"score":1,"creation_date":1675037897,"post_id":75276950,"comment_id":132836460,"body_markdown":"Please read [answer] and [edit] your answer to contain an explanation as to why this code would actually solve the problem at hand. Always remember that you&#39;re not only solving the problem, but are also educating the OP and any future readers of this post","body":"Please read <a href=\"https://stackoverflow.com/questions/how-to-answer\">How to Answer</a> and <a href=\"https://stackoverflow.com/posts/75276950/edit\">edit</a> your answer to contain an explanation as to why this code would actually solve the problem at hand. Always remember that you&#39;re not only solving the problem, but are also educating the OP and any future readers of this post"}],"tags":[],"owner":{"account_id":17902721,"reputation":61,"user_id":13006626,"display_name":"Mohamed Rahal"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675013611,"creation_date":1675013611,"answer_id":75276950,"question_id":55816794,"body_markdown":"try this\r\n\r\n    MaterialAlertDialogBuilder dialog = new MaterialAlertDialogBuilder(this, android.R.style.Theme_DeviceDefault_NoActionBar_Fullscreen);","title":"How to create full screen MaterialAlertDialog","body":"<p>try this</p>\n<pre><code>MaterialAlertDialogBuilder dialog = new MaterialAlertDialogBuilder(this, android.R.style.Theme_DeviceDefault_NoActionBar_Fullscreen);\n</code></pre>\n"}],"owner":{"account_id":8536561,"reputation":633,"user_id":6398145,"display_name":"Ian White"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1277,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675013611,"creation_date":1556041710,"question_id":55816794,"body_markdown":"I am trying to show a full screen alert dialog like the one on the material design website: [Full Screen Material Alert Dialog](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1Xlq7_lXkjBJDE6arihpaS3YWm4TSf2-S%2Fdialogs-fullscreen-behavior.mp4)\r\n\r\nI created a \r\n```\r\nnew MaterialAlertDialogBuilder(this)\r\n   .setTitle(&quot;Title&quot;)\r\n   .setMessage(&quot;Message&quot;)\r\n   .setPositiveButton(&quot;Yes&quot;, null)\r\n   .show();\r\n```\r\n\r\n\r\n\r\nwhich works perfectly. However I want the dialog to appear as full screen with the toolbar and x button, so I can place `EditText`s inside the dialog. \r\n\r\nI tried using the other constructor `MaterialAlertDialogBuilder(context, theme)` but I cannot find a theme that will make the dialog appearance full screen. Is there a theme that makes the dialog full screen or do I have to do something else to make it full screen?","title":"How to create full screen MaterialAlertDialog","body":"<p>I am trying to show a full screen alert dialog like the one on the material design website: <a href=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1Xlq7_lXkjBJDE6arihpaS3YWm4TSf2-S%2Fdialogs-fullscreen-behavior.mp4\" rel=\"nofollow noreferrer\">Full Screen Material Alert Dialog</a></p>\n\n<p>I created a </p>\n\n<pre><code>new MaterialAlertDialogBuilder(this)\n   .setTitle(\"Title\")\n   .setMessage(\"Message\")\n   .setPositiveButton(\"Yes\", null)\n   .show();\n</code></pre>\n\n<p>which works perfectly. However I want the dialog to appear as full screen with the toolbar and x button, so I can place <code>EditText</code>s inside the dialog. </p>\n\n<p>I tried using the other constructor <code>MaterialAlertDialogBuilder(context, theme)</code> but I cannot find a theme that will make the dialog appearance full screen. Is there a theme that makes the dialog full screen or do I have to do something else to make it full screen?</p>\n"},{"tags":["java","hibernate","identifier"],"answers":[{"comments":[{"owner":{"account_id":428239,"reputation":2242,"user_id":810435,"accept_rate":82,"display_name":"naeemgik"},"score":18,"creation_date":1408703639,"post_id":10997869,"comment_id":39700020,"body_markdown":"I was missing: @GeneratedValue(strategy=GenerationType.IDENTITY). It helped me.","body":"I was missing: @GeneratedValue(strategy=GenerationType.IDENTITY). It helped me."},{"owner":{"account_id":1967729,"reputation":379,"user_id":1767500,"display_name":"Jero Dungog"},"score":1,"creation_date":1542191900,"post_id":10997869,"comment_id":93477196,"body_markdown":"This should be marked as the correct answer by OP.\nMy other entities does not have @GeneratedValue annotation but they work, only had to add this to one entity. weird.\nbut anyways,\nThank you!","body":"This should be marked as the correct answer by OP. My other entities does not have @GeneratedValue annotation but they work, only had to add this to one entity. weird. but anyways, Thank you!"},{"owner":{"account_id":18092031,"reputation":1352,"user_id":13151296,"display_name":"Jonathan Lee"},"score":0,"creation_date":1608624751,"post_id":10997869,"comment_id":115633382,"body_markdown":"Thanks for the answer. Also, it doesn&#39;t have to be `Long` in java, it can be `Integer`","body":"Thanks for the answer. Also, it doesn&#39;t have to be <code>Long</code> in java, it can be <code>Integer</code>"},{"owner":{"account_id":1260896,"reputation":1488,"user_id":1219213,"accept_rate":60,"display_name":"TheRealChx101"},"score":0,"creation_date":1631970222,"post_id":10997869,"comment_id":122370116,"body_markdown":"How do you handle cases of inheritance?  I have defined a POJO that gets inherited by an entity and projection. The id is defined in the POJO","body":"How do you handle cases of inheritance?  I have defined a POJO that gets inherited by an entity and projection. The id is defined in the POJO"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1631996754,"post_id":10997869,"comment_id":122376077,"body_markdown":"@TheRealChx101 annotate the POJO with `@MappedSuperclass` (but don’t annotate with `@Entity`). and annotate its `id` column with `@Id`.","body":"@TheRealChx101 annotate the POJO with <code>@MappedSuperclass</code> (but don’t annotate with <code>@Entity</code>). and annotate its <code>id</code> column with <code>@Id</code>."}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":5,"down_vote_count":1,"up_vote_count":165,"is_accepted":false,"score":164,"last_activity_date":1378122581,"creation_date":1339508214,"answer_id":10997869,"question_id":10997494,"body_markdown":"Your `@Entity` class has a `String` type for its `@Id` field, so it can&#39;t generate ids for you.\r\n\r\nIf you change it to an auto increment in the DB and a `Long` in java, and add the `@GeneratedValue` annotation:\r\n\r\n    @Id\r\n    @Column(name=&quot;U_id&quot;)\r\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    private Long U_id;\r\n\r\nit will handle incrementing id generation for you.","title":"Hibernate error: ids for this class must be manually assigned before calling save():","body":"<p>Your <code>@Entity</code> class has a <code>String</code> type for its <code>@Id</code> field, so it can't generate ids for you.</p>\n\n<p>If you change it to an auto increment in the DB and a <code>Long</code> in java, and add the <code>@GeneratedValue</code> annotation:</p>\n\n<pre><code>@Id\n@Column(name=\"U_id\")\n@GeneratedValue(strategy=GenerationType.IDENTITY)\nprivate Long U_id;\n</code></pre>\n\n<p>it will handle incrementing id generation for you.</p>\n"},{"tags":[],"owner":{"account_id":1342007,"reputation":807,"user_id":1283512,"accept_rate":25,"display_name":"matthaeus"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1361439859,"creation_date":1361439859,"answer_id":14998974,"question_id":10997494,"body_markdown":"For hibernate it is important to know that your object WILL have an id, when you want to persist/save it. Thus, make sure that\r\n\r\n        private String U_id;\r\n\r\nwill have a value, by the time you are going to persist your object. You can do that with the `@GeneratedValue` annotation or by assigning a value manually.\r\n\r\nIn the case you need or want to assign your id&#39;s manually (and that&#39;s what the above error is actually about), I would prefer passing the values for the fields to your constructor, at least for `U_id`, e.g.\r\n\r\n      public Role (String U_id) { ... }\r\n\r\nThis ensures that your object has an id, by the time you have instantiated it. I don&#39;t know what your use case is and how your application behaves in concurrency, however, in some cases this is not recommended. You need to ensure that your id is unique.\r\n\r\nFurther note: Hibernate will still require a default constructor, as stated in the [hibernate documentation][1]. In order to prevent you (and maybe other programmers if you&#39;re designing an api) of instantiations of `Role` using the default constructor, just declare it as `private`.\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/core/3.5/reference/en/html/persistent-classes.html#persistent-classes-pojo-constructor","title":"Hibernate error: ids for this class must be manually assigned before calling save():","body":"<p>For hibernate it is important to know that your object WILL have an id, when you want to persist/save it. Thus, make sure that</p>\n\n<pre><code>    private String U_id;\n</code></pre>\n\n<p>will have a value, by the time you are going to persist your object. You can do that with the <code>@GeneratedValue</code> annotation or by assigning a value manually.</p>\n\n<p>In the case you need or want to assign your id's manually (and that's what the above error is actually about), I would prefer passing the values for the fields to your constructor, at least for <code>U_id</code>, e.g.</p>\n\n<pre><code>  public Role (String U_id) { ... }\n</code></pre>\n\n<p>This ensures that your object has an id, by the time you have instantiated it. I don't know what your use case is and how your application behaves in concurrency, however, in some cases this is not recommended. You need to ensure that your id is unique.</p>\n\n<p>Further note: Hibernate will still require a default constructor, as stated in the <a href=\"http://docs.jboss.org/hibernate/core/3.5/reference/en/html/persistent-classes.html#persistent-classes-pojo-constructor\" rel=\"nofollow\">hibernate documentation</a>. In order to prevent you (and maybe other programmers if you're designing an api) of instantiations of <code>Role</code> using the default constructor, just declare it as <code>private</code>.</p>\n"},{"tags":[],"owner":{"account_id":2273221,"reputation":716,"user_id":2000123,"display_name":"jaskirat Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1362042621,"creation_date":1362041190,"answer_id":15131097,"question_id":10997494,"body_markdown":"Here is what I did to solve just by 2 ways:\r\n\r\n1. make ID column as `int` type\r\n\r\n2. if you are using *autogenerate* in ID dont assing value in the setter of ID. If your mapping the some then sometimes autogenetated ID is not concedered. (I dont know why)\r\n   \r\n3. try using `@GeneratedValue(strategy=GenerationType.SEQUENCE)` if possible","title":"Hibernate error: ids for this class must be manually assigned before calling save():","body":"<p>Here is what I did to solve just by 2 ways:</p>\n\n<ol>\n<li><p>make ID column as <code>int</code> type</p></li>\n<li><p>if you are using <em>autogenerate</em> in ID dont assing value in the setter of ID. If your mapping the some then sometimes autogenetated ID is not concedered. (I dont know why)</p></li>\n<li><p>try using <code>@GeneratedValue(strategy=GenerationType.SEQUENCE)</code> if possible</p></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":4764104,"reputation":9906,"user_id":3850730,"accept_rate":83,"display_name":"Sabir Khan"},"score":0,"creation_date":1562759783,"post_id":43241000,"comment_id":100476887,"body_markdown":"For me , `unique = true, nullable = false` was necessary since DB schema was like that. Just specifying `@Id` &amp; `@GeneratedValue` didn&#39;t work for me. Thanks.","body":"For me , <code>unique = true, nullable = false</code> was necessary since DB schema was like that. Just specifying <code>@Id</code> &amp; <code>@GeneratedValue</code> didn&#39;t work for me. Thanks."}],"tags":[],"owner":{"account_id":3071426,"reputation":6563,"user_id":2601995,"accept_rate":100,"display_name":"user2601995"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1491424001,"creation_date":1491424001,"answer_id":43241000,"question_id":10997494,"body_markdown":"Resolved this problem using a Sequence ID defined in Oracle database.\r\n\r\n`ORACLE_DB_SEQ_ID` is defined as a sequence for the table. Also look at the console to see the Hibernate SQL that is used to verify.\r\n\r\n\r\n    @Id\r\n    @Column(name = &quot;MY_ID&quot;, unique = true, nullable = false)\r\n    @GeneratedValue(strategy=GenerationType.SEQUENCE, generator = &quot;id_Sequence&quot;)\r\n    @SequenceGenerator(name = &quot;id_Sequence&quot;, sequenceName = &quot;ORACLE_DB_SEQ_ID&quot;)\r\n    Long myId;\r\n","title":"Hibernate error: ids for this class must be manually assigned before calling save():","body":"<p>Resolved this problem using a Sequence ID defined in Oracle database.</p>\n\n<p><code>ORACLE_DB_SEQ_ID</code> is defined as a sequence for the table. Also look at the console to see the Hibernate SQL that is used to verify.</p>\n\n<pre><code>@Id\n@Column(name = \"MY_ID\", unique = true, nullable = false)\n@GeneratedValue(strategy=GenerationType.SEQUENCE, generator = \"id_Sequence\")\n@SequenceGenerator(name = \"id_Sequence\", sequenceName = \"ORACLE_DB_SEQ_ID\")\nLong myId;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5116366,"reputation":561,"user_id":4101334,"display_name":"metatron"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623125661,"creation_date":1623125661,"answer_id":67881324,"question_id":10997494,"body_markdown":"Got this error with H2 database when mismatched type for numerical id value. Generated and populated table via number of sql statements and set id to be INT. Later created Entity Java class and set id to be Long. Issue was resolved after adjusting type of id in Java class.","title":"Hibernate error: ids for this class must be manually assigned before calling save():","body":"<p>Got this error with H2 database when mismatched type for numerical id value. Generated and populated table via number of sql statements and set id to be INT. Later created Entity Java class and set id to be Long. Issue was resolved after adjusting type of id in Java class.</p>\n"},{"tags":[],"owner":{"account_id":22522901,"reputation":11,"user_id":16716154,"display_name":"Eklas_Rh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1629486946,"creation_date":1629486946,"answer_id":68867132,"question_id":10997494,"body_markdown":"if you want to give id&#39;s value manually like JSON or other way you can add  @JsonProperty(&quot; U_id&quot;) notation before your  U_id variable","title":"Hibernate error: ids for this class must be manually assigned before calling save():","body":"<p>if you want to give id's value manually like JSON or other way you can add  @JsonProperty(&quot; U_id&quot;) notation before your  U_id variable</p>\n"},{"tags":[],"owner":{"account_id":22615888,"reputation":1,"user_id":16795410,"display_name":"Shashi Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631174811,"creation_date":1631174811,"answer_id":69114489,"question_id":10997494,"body_markdown":"FROM UI you have to pass the ID (primary Key) Then observer you are saving or updating \r\nif you are saving use save method or use saveOrUpdate method","title":"Hibernate error: ids for this class must be manually assigned before calling save():","body":"<p>FROM UI you have to pass the ID (primary Key) Then observer you are saving or updating\nif you are saving use save method or use saveOrUpdate method</p>\n"},{"tags":[],"owner":{"account_id":22001490,"reputation":11,"user_id":16273157,"display_name":"kloud"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645659031,"creation_date":1645659031,"answer_id":71245255,"question_id":10997494,"body_markdown":"change class field value in your entity.hbm.xml to identity or sequense like\r\n\r\n    &lt;hibernate-mapping&gt;\r\n    &lt;class name=&quot;models.Manager&quot; table=&quot;Managers&quot;&gt;\r\n        &lt;id name=&quot;id&quot;&gt;\r\n            &lt;generator class=&quot;identity&quot;&gt;&lt;/generator&gt;\r\n        &lt;/id&gt;\r\n        &lt;property name=&quot;name&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;surname&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;department&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;project_id&quot;&gt;&lt;/property&gt;\r\n    &lt;/class&gt;\r\n&lt;/hibernate-mapping&gt;\r\n\r\nand add if you still dont have these code for your entity id:\r\n\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\r\nthat worked for me","title":"Hibernate error: ids for this class must be manually assigned before calling save():","body":"<p>change class field value in your entity.hbm.xml to identity or sequense like</p>\n<pre><code>&lt;hibernate-mapping&gt;\n&lt;class name=&quot;models.Manager&quot; table=&quot;Managers&quot;&gt;\n    &lt;id name=&quot;id&quot;&gt;\n        &lt;generator class=&quot;identity&quot;&gt;&lt;/generator&gt;\n    &lt;/id&gt;\n    &lt;property name=&quot;name&quot;&gt;&lt;/property&gt;\n    &lt;property name=&quot;surname&quot;&gt;&lt;/property&gt;\n    &lt;property name=&quot;department&quot;&gt;&lt;/property&gt;\n    &lt;property name=&quot;project_id&quot;&gt;&lt;/property&gt;\n&lt;/class&gt;\n</code></pre>\n\n<p>and add if you still dont have these code for your entity id:</p>\n<pre><code>@Id\n@Column(name = &quot;id&quot;)\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n</code></pre>\n<p>that worked for me</p>\n"},{"tags":[],"owner":{"account_id":13678477,"reputation":299,"user_id":9869394,"display_name":"Dinushika Rathnayake"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645792446,"creation_date":1645792446,"answer_id":71265949,"question_id":10997494,"body_markdown":"I got same error for different scenario. In my case my primary key of table is a VARCHAR value, so in the entity class(Entity1) ID is a String value, can&#39;t set it to auto generate. Also this entity join with another entity(Entity2).\r\n\r\nWhen I set value of Entity1 to empty in updating Entity2 and calling save(), it&#39;s throw this exception. There setting empty string for id not work.\r\n\r\n    Entity2 e2 = new Entity2();\r\n\r\n    Entity1 e1 = new Entity1();\r\n    e1.setId(&quot;&quot;);\r\n    e2.setEntity1(e1);\r\n\r\n    session.update(e2);\r\n\r\nAlso setting null for id not work.\r\n\r\n    Entity2 e2 = new Entity2();\r\n\r\n    Entity1 e1 = new Entity1();\r\n    e1.setId(null);\r\n    e2.setEntity1(e1);\r\n\r\n    session.update(e2);\r\n\r\nThis way it&#39;s work.\r\n\r\n    Entity2 e2 = new Entity2();\r\n    e2.setEntity1(null);\r\n    session.update(e2);\r\n\r\n\r\n\r\n\r\n","title":"Hibernate error: ids for this class must be manually assigned before calling save():","body":"<p>I got same error for different scenario. In my case my primary key of table is a VARCHAR value, so in the entity class(Entity1) ID is a String value, can't set it to auto generate. Also this entity join with another entity(Entity2).</p>\n<p>When I set value of Entity1 to empty in updating Entity2 and calling save(), it's throw this exception. There setting empty string for id not work.</p>\n<pre><code>Entity2 e2 = new Entity2();\n\nEntity1 e1 = new Entity1();\ne1.setId(&quot;&quot;);\ne2.setEntity1(e1);\n\nsession.update(e2);\n</code></pre>\n<p>Also setting null for id not work.</p>\n<pre><code>Entity2 e2 = new Entity2();\n\nEntity1 e1 = new Entity1();\ne1.setId(null);\ne2.setEntity1(e1);\n\nsession.update(e2);\n</code></pre>\n<p>This way it's work.</p>\n<pre><code>Entity2 e2 = new Entity2();\ne2.setEntity1(null);\nsession.update(e2);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1660201206,"post_id":73276073,"comment_id":129477916,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/73276073/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26007428,"reputation":1,"user_id":19716971,"display_name":"Hadeel Azzeh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659952779,"creation_date":1659952779,"answer_id":73276073,"question_id":10997494,"body_markdown":"I got this problem because I had 2 Id&#39;s annotations inside my entity class, one above my id field and one above my getter method\r\n\r\n&gt; so make sure that there is only one Id annotation above your id field","title":"Hibernate error: ids for this class must be manually assigned before calling save():","body":"<p>I got this problem because I had 2 Id's annotations inside my entity class, one above my id field and one above my getter method</p>\n<blockquote>\n<p>so make sure that there is only one Id annotation above your id field</p>\n</blockquote>\n"}],"owner":{"account_id":1561420,"reputation":1071,"user_id":1451210,"display_name":"程序猿"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233337,"favorite_count":0,"down_vote_count":0,"up_vote_count":107,"answer_count":10,"score":107,"last_activity_date":1675013483,"creation_date":1339506996,"question_id":10997494,"body_markdown":"&lt;pre&gt;\r\nCaused by: org.springframework.orm.hibernate3.HibernateSystemException: ids for this class must be manually assigned before calling save(): com.rfid.model.Role; nested exception is org.hibernate.id.IdentifierGenerationException: ids for this class must be manually assigned before calling save(): com.rfid.model.Role\r\n\tat org.springframework.orm.hibernate3.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:676)\r\n\tat org.springframework.orm.hibernate3.HibernateAccessor.convertHibernateAccessException(HibernateAccessor.java:412)\r\n\tat org.springframework.orm.hibernate3.HibernateTemplate.doExecute(HibernateTemplate.java:424)\r\n\tat org.springframework.orm.hibernate3.HibernateTemplate.executeWithNativeSession(HibernateTemplate.java:374)\r\n\tat org.springframework.orm.hibernate3.HibernateTemplate.saveOrUpdate(HibernateTemplate.java:748)\r\n\tat com.wfos.engine.wrapper.domain.impl.WrapperImpl.save(WrapperImpl.java:159)\r\n\t... 47 more\r\n    Caused by: org.hibernate.id.IdentifierGenerationException: ids for this class must be manually assigned before calling save(): com.rfid.model.Role\r\n\tat org.hibernate.id.Assigned.generate(Assigned.java:53)\r\n\tat org.hibernate.event.def.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:121)\r\n\tat org.hibernate.event.def.DefaultSaveOrUpdateEventListener.saveWithGeneratedOrRequestedId(DefaultSaveOrUpdateEventListener.java:210)\r\n\tat org.hibernate.event.def.DefaultSaveOrUpdateEventListener.entityIsTransient(DefaultSaveOrUpdateEventListener.java:195)\r\n\tat org.hibernate.event.def.DefaultSaveOrUpdateEventListener.performSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:117)\r\n\tat org.hibernate.event.def.DefaultSaveOrUpdateEventListener.onSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:93)\r\n\tat org.hibernate.impl.SessionImpl.fireSaveOrUpdate(SessionImpl.java:685)\r\n\tat org.hibernate.impl.SessionImpl.saveOrUpdate(SessionImpl.java:677)\r\n\tat org.hibernate.impl.SessionImpl.saveOrUpdate(SessionImpl.java:673)\r\n\tat org.springframework.orm.hibernate3.HibernateTemplate$16.doInHibernate(HibernateTemplate.java:751)\r\n\tat org.springframework.orm.hibernate3.HibernateTemplate.doExecute(HibernateTemplate.java:419)\r\n\t... 50 more\r\n    WARN [21:14:21] (CommonsLoggingOutput.java:59): - --Erroring: batchId[1] message[java.lang.reflect.UndeclaredThrowableException]\r\n&lt;/pre&gt;\r\n\r\n\r\nMy class is like this:\r\n\r\n    @Entity\r\n    @javax.persistence.Table(name=&quot;Role&quot;)\r\n    @Table(appliesTo = &quot;Role&quot;)\r\n    public class Role {\r\n\t\r\n\t@Id  \r\n\t@Column(name=&quot;U_id&quot;)\r\n\tpublic String U_id;\r\n\t  \r\n\tpublic String U_pwd;\r\n\t \r\n\tpublic String U_account;\r\n\t  \r\n\tpublic String U_mode;\r\n\t \r\n\tpublic String U_status;\r\n\r\n\r\n\tpublic String getU_pwd() {\r\n\t\treturn U_pwd;\r\n\t}\r\n\r\n\tpublic void setU_pwd(String u_pwd) {\r\n\t\tU_pwd = u_pwd;\r\n\t}\r\n\r\n\tpublic String getU_account() {\r\n\t\treturn U_account;\r\n\t}\r\n\r\n\tpublic void setU_account(String u_account) {\r\n\t\tU_account = u_account;\r\n\t}\r\n\r\n\tpublic String getU_id() {\r\n\t\treturn U_id;\r\n\t}\r\n\r\n\tpublic void setU_id(String u_id) {\r\n\t\tU_id = u_id;\r\n\t}\r\n\r\n\tpublic String getU_mode() {\r\n\t\treturn U_mode;\r\n\t}\r\n\r\n\tpublic void setU_mode(String u_mode) {\r\n\t\tU_mode = u_mode;\r\n\t}\r\n\r\n\tpublic String getU_status() {\r\n\t\treturn U_status;\r\n\t}\r\n\r\n\tpublic void setU_status(String u_status) {\r\n\t\tU_status = u_status;\r\n\t}\r\n\t\r\n    }","title":"Hibernate error: ids for this class must be manually assigned before calling save():","body":"<pre>\nCaused by: org.springframework.orm.hibernate3.HibernateSystemException: ids for this class must be manually assigned before calling save(): com.rfid.model.Role; nested exception is org.hibernate.id.IdentifierGenerationException: ids for this class must be manually assigned before calling save(): com.rfid.model.Role\n    at org.springframework.orm.hibernate3.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:676)\n    at org.springframework.orm.hibernate3.HibernateAccessor.convertHibernateAccessException(HibernateAccessor.java:412)\n    at org.springframework.orm.hibernate3.HibernateTemplate.doExecute(HibernateTemplate.java:424)\n    at org.springframework.orm.hibernate3.HibernateTemplate.executeWithNativeSession(HibernateTemplate.java:374)\n    at org.springframework.orm.hibernate3.HibernateTemplate.saveOrUpdate(HibernateTemplate.java:748)\n    at com.wfos.engine.wrapper.domain.impl.WrapperImpl.save(WrapperImpl.java:159)\n    ... 47 more\n    Caused by: org.hibernate.id.IdentifierGenerationException: ids for this class must be manually assigned before calling save(): com.rfid.model.Role\n    at org.hibernate.id.Assigned.generate(Assigned.java:53)\n    at org.hibernate.event.def.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:121)\n    at org.hibernate.event.def.DefaultSaveOrUpdateEventListener.saveWithGeneratedOrRequestedId(DefaultSaveOrUpdateEventListener.java:210)\n    at org.hibernate.event.def.DefaultSaveOrUpdateEventListener.entityIsTransient(DefaultSaveOrUpdateEventListener.java:195)\n    at org.hibernate.event.def.DefaultSaveOrUpdateEventListener.performSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:117)\n    at org.hibernate.event.def.DefaultSaveOrUpdateEventListener.onSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:93)\n    at org.hibernate.impl.SessionImpl.fireSaveOrUpdate(SessionImpl.java:685)\n    at org.hibernate.impl.SessionImpl.saveOrUpdate(SessionImpl.java:677)\n    at org.hibernate.impl.SessionImpl.saveOrUpdate(SessionImpl.java:673)\n    at org.springframework.orm.hibernate3.HibernateTemplate$16.doInHibernate(HibernateTemplate.java:751)\n    at org.springframework.orm.hibernate3.HibernateTemplate.doExecute(HibernateTemplate.java:419)\n    ... 50 more\n    WARN [21:14:21] (CommonsLoggingOutput.java:59): - --Erroring: batchId[1] message[java.lang.reflect.UndeclaredThrowableException]\n</pre>\n\n<p>My class is like this:</p>\n\n<pre><code>@Entity\n@javax.persistence.Table(name=\"Role\")\n@Table(appliesTo = \"Role\")\npublic class Role {\n\n@Id  \n@Column(name=\"U_id\")\npublic String U_id;\n\npublic String U_pwd;\n\npublic String U_account;\n\npublic String U_mode;\n\npublic String U_status;\n\n\npublic String getU_pwd() {\n    return U_pwd;\n}\n\npublic void setU_pwd(String u_pwd) {\n    U_pwd = u_pwd;\n}\n\npublic String getU_account() {\n    return U_account;\n}\n\npublic void setU_account(String u_account) {\n    U_account = u_account;\n}\n\npublic String getU_id() {\n    return U_id;\n}\n\npublic void setU_id(String u_id) {\n    U_id = u_id;\n}\n\npublic String getU_mode() {\n    return U_mode;\n}\n\npublic void setU_mode(String u_mode) {\n    U_mode = u_mode;\n}\n\npublic String getU_status() {\n    return U_status;\n}\n\npublic void setU_status(String u_status) {\n    U_status = u_status;\n}\n\n}\n</code></pre>\n"},{"tags":["java","mongodb","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1674656996,"post_id":75234987,"comment_id":132761289,"body_markdown":"You don’t need to call ‘subscribe’ explicitly. Replace the inner part with ‘return repository.process(entity).thenReturn(entity)’","body":"You don’t need to call ‘subscribe’ explicitly. Replace the inner part with ‘return repository.process(entity).thenReturn(entity)’"},{"owner":{"account_id":8796190,"reputation":457,"user_id":6574013,"accept_rate":83,"display_name":"marie"},"score":0,"creation_date":1674657482,"post_id":75234987,"comment_id":132761434,"body_markdown":"yes I have tried this too, but the issue is the same, number N starts after number N-1 has began and not after it is finished","body":"yes I have tried this too, but the issue is the same, number N starts after number N-1 has began and not after it is finished"},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1674660968,"post_id":75234987,"comment_id":132762705,"body_markdown":"Could you share the whole flow? How do you call save?","body":"Could you share the whole flow? How do you call save?"},{"owner":{"account_id":8796190,"reputation":457,"user_id":6574013,"accept_rate":83,"display_name":"marie"},"score":0,"creation_date":1674661460,"post_id":75234987,"comment_id":132762891,"body_markdown":"sorry this is process","body":"sorry this is process"}],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674665650,"creation_date":1674665650,"answer_id":75237319,"question_id":75234987,"body_markdown":"As I mentioned in the comment, you should not `subscribe` explicitly. `flatMapSequential` will subscribe behind the scene and preserve the original order\r\n \r\n```\r\nMono&lt;List&lt;Index&gt;&gt; deferredCreate = Mono.defer(() -&gt; index\r\n     .flatMapMany(Flux::fromIterable)\r\n     .flatMapSequential(entity -&gt; \r\n             repository.process(entity)\r\n                    .thenReturn(entity)\r\n     )\r\n     .collectList());\r\n```","title":"Wait for mongodb save before next","body":"<p>As I mentioned in the comment, you should not <code>subscribe</code> explicitly. <code>flatMapSequential</code> will subscribe behind the scene and preserve the original order</p>\n<pre><code>Mono&lt;List&lt;Index&gt;&gt; deferredCreate = Mono.defer(() -&gt; index\n     .flatMapMany(Flux::fromIterable)\n     .flatMapSequential(entity -&gt; \n             repository.process(entity)\n                    .thenReturn(entity)\n     )\n     .collectList());\n</code></pre>\n"}],"owner":{"account_id":8796190,"reputation":457,"user_id":6574013,"accept_rate":83,"display_name":"marie"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75237319,"answer_count":1,"score":0,"last_activity_date":1675012858,"creation_date":1674654708,"question_id":75234987,"body_markdown":"I have a list of documents that I need to save on mongoDB, after having executing some process on them.\r\n\r\nI have a reactive mongoDB dependency so I would like to use it. I would like to avoid the usage of another dependency (the non reactive one) if possible. \r\nThe 2nd document process should begin after the 1st document has been saved.\r\n\r\n        Mono&lt;List&lt;Index&gt;&gt; deferredCreate = Mono.defer(() -&gt; index\r\n                .flatMapMany(Flux::fromIterable)\r\n                .flatMapSequential(entity -&gt; {\r\n                                repository.process(entity).subscribe();\r\n                                return entity;\r\n                            })\r\n                )\r\n                .collectList());\r\n\r\nwith \r\n\r\n       public Mono&lt;IndexDocument&gt; process(Index index) {\r\n              if(someCondition) { return mongoOperations.save(index); }\r\n              else { return mongoOperations.findAndReplace(query, index); }\r\n    }\r\n\r\nHere, the list is process index by index but index n+1 process begins after index n begins and I need it begins after n process is finished.\r\nI cannot put .block() instead of subscriber otherwise I have an error (block cannot be used in parallel stream). I tried with concatMap but this is the same.\r\n\r\nIs there any way to do it ?\r\nI use reactive programming because this is part of a larger process that needs to be reactive.","title":"Wait for mongodb save before next","body":"<p>I have a list of documents that I need to save on mongoDB, after having executing some process on them.</p>\n<p>I have a reactive mongoDB dependency so I would like to use it. I would like to avoid the usage of another dependency (the non reactive one) if possible.\nThe 2nd document process should begin after the 1st document has been saved.</p>\n<pre><code>    Mono&lt;List&lt;Index&gt;&gt; deferredCreate = Mono.defer(() -&gt; index\n            .flatMapMany(Flux::fromIterable)\n            .flatMapSequential(entity -&gt; {\n                            repository.process(entity).subscribe();\n                            return entity;\n                        })\n            )\n            .collectList());\n</code></pre>\n<p>with</p>\n<pre><code>   public Mono&lt;IndexDocument&gt; process(Index index) {\n          if(someCondition) { return mongoOperations.save(index); }\n          else { return mongoOperations.findAndReplace(query, index); }\n}\n</code></pre>\n<p>Here, the list is process index by index but index n+1 process begins after index n begins and I need it begins after n process is finished.\nI cannot put .block() instead of subscriber otherwise I have an error (block cannot be used in parallel stream). I tried with concatMap but this is the same.</p>\n<p>Is there any way to do it ?\nI use reactive programming because this is part of a larger process that needs to be reactive.</p>\n"},{"tags":["java","arrays","arraylist","linked-list","magic-square"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1675007158,"post_id":75275925,"comment_id":132831073,"body_markdown":"Is there a reason you marked your input as Javascript?","body":"Is there a reason you marked your input as Javascript?"},{"owner":{"account_id":18081387,"reputation":1,"user_id":13143437,"display_name":"athanasia"},"score":0,"creation_date":1675007394,"post_id":75275925,"comment_id":132831124,"body_markdown":"where did i mark it as javascript? i&#39;m sorry it&#39;s my first time using stack overflow. do you have any suggestions for the problem?","body":"where did i mark it as javascript? i&#39;m sorry it&#39;s my first time using stack overflow. do you have any suggestions for the problem?"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1675007545,"post_id":75275925,"comment_id":132831172,"body_markdown":"When you edited your question, you marked your input as Javascript.","body":"When you edited your question, you marked your input as Javascript."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1675007644,"post_id":75275925,"comment_id":132831192,"body_markdown":"Why did you write hundreds of lines of code without running a single test?  It&#39;s time to learn debugging.  Either use lots of `println` statements or use an IDE debugger.","body":"Why did you write hundreds of lines of code without running a single test?  It&#39;s time to learn debugging.  Either use lots of <code>println</code> statements or use an IDE debugger."},{"owner":{"account_id":18081387,"reputation":1,"user_id":13143437,"display_name":"athanasia"},"score":0,"creation_date":1675008470,"post_id":75275925,"comment_id":132831320,"body_markdown":"the javascript mark is a mistake .. i didn&#39;t even see that when edit the question. now with the debugging part i do tests for about 2 weeks now it always gives me the same result. i added println to see the semi-results of eack method but nothing helps. i don&#39;t know where is the mistake.","body":"the javascript mark is a mistake .. i didn&#39;t even see that when edit the question. now with the debugging part i do tests for about 2 weeks now it always gives me the same result. i added println to see the semi-results of eack method but nothing helps. i don&#39;t know where is the mistake."}],"answers":[{"comments":[{"owner":{"account_id":18081387,"reputation":1,"user_id":13143437,"display_name":"athanasia"},"score":0,"creation_date":1675010782,"post_id":75276510,"comment_id":132831787,"body_markdown":"so let&#39;s say size=6, then N will be 6 and C will be 111. what am I suppose to change because I get the same result for C? I understand that the sum of row must be 111 or a smaller number and equal to the col sum but where am I suppose to change it in the code?","body":"so let&#39;s say size=6, then N will be 6 and C will be 111. what am I suppose to change because I get the same result for C? I understand that the sum of row must be 111 or a smaller number and equal to the col sum but where am I suppose to change it in the code?"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1675011327,"post_id":75276510,"comment_id":132831894,"body_markdown":"I added an explanation at the end.  Should have doe it before.  But you calculate `C as 108`.","body":"I added an explanation at the end.  Should have doe it before.  But you calculate <code>C as 108</code>."},{"owner":{"account_id":18081387,"reputation":1,"user_id":13143437,"display_name":"athanasia"},"score":0,"creation_date":1675012065,"post_id":75276510,"comment_id":132832078,"body_markdown":"so i changed the C in constructor to C = (N*(N*N+1))/2; but it keeps to give the same message &quot;magic squares cannot be created&quot;.","body":"so i changed the C in constructor to C = (N*(N*N+1))/2; but it keeps to give the same message &quot;magic squares cannot be created&quot;."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1675012702,"post_id":75276510,"comment_id":132832220,"body_markdown":"Well, there may be other problems.  You need to use a debugger and/or put in some print statement at key locations to show what is going on.   Ubiquitous print statements are one of the most used tools in debugging programs.  Especially after conditionals to see if they are working as expected.  Print the value tested in the conditionals and see if the are chosen based on what you want.","body":"Well, there may be other problems.  You need to use a debugger and/or put in some print statement at key locations to show what is going on.   Ubiquitous print statements are one of the most used tools in debugging programs.  Especially after conditionals to see if they are working as expected.  Print the value tested in the conditionals and see if the are chosen based on what you want."},{"owner":{"account_id":18081387,"reputation":1,"user_id":13143437,"display_name":"athanasia"},"score":1,"creation_date":1675013294,"post_id":75276510,"comment_id":132832359,"body_markdown":"thanks for your help! i have added println statements especially in the check row-column and diagonals methods. it seems that when the next_sucesswor method returns the next successor the numbers value doesn&#39;t increase by one.","body":"thanks for your help! i have added println statements especially in the check row-column and diagonals methods. it seems that when the next_sucesswor method returns the next successor the numbers value doesn&#39;t increase by one."}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675012600,"creation_date":1675009991,"answer_id":75276510,"question_id":75275925,"body_markdown":"What do you think this computes?\r\n``` \r\nthis.N = size;\r\nC = N*((N*N+1)/2); // C = 108\r\n```\r\n- The size is `6` for your problem.\r\n- So you will need the values `1 thru 36` inclusive.\r\n- let `max = N*N`.  So the sum of `1 thru 36` is `max*(max+1)/2`.\r\n- divide by `N` to get the col or row sum and you `((max*(max+1))/2)/N = 111`.\r\n- or `(N*(max+1))/2)`\r\n- in your case is should have been `(N*(N*N+1))/2`.\r\n\r\nThe issue was that. `(N*N+1) is 37`. Then you divide by `2` which drops the fraction `(int arithemetic)`. You need to first multiply by `N` and **then** divide by `2`.","title":"Magic Square in Java: Why always prints: Magic Squares cannot be created?","body":"<p>What do you think this computes?</p>\n<pre><code>this.N = size;\nC = N*((N*N+1)/2); // C = 108\n</code></pre>\n<ul>\n<li>The size is <code>6</code> for your problem.</li>\n<li>So you will need the values <code>1 thru 36</code> inclusive.</li>\n<li>let <code>max = N*N</code>.  So the sum of <code>1 thru 36</code> is <code>max*(max+1)/2</code>.</li>\n<li>divide by <code>N</code> to get the col or row sum and you <code>((max*(max+1))/2)/N = 111</code>.</li>\n<li>or <code>(N*(max+1))/2)</code></li>\n<li>in your case is should have been <code>(N*(N*N+1))/2</code>.</li>\n</ul>\n<p>The issue was that. <code>(N*N+1) is 37</code>. Then you divide by <code>2</code> which drops the fraction <code>(int arithemetic)</code>. You need to first multiply by <code>N</code> and <strong>then</strong> divide by <code>2</code>.</p>\n"}],"owner":{"account_id":18081387,"reputation":1,"user_id":13143437,"display_name":"athanasia"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1675012600,"creation_date":1675004915,"question_id":75275925,"body_markdown":"In the code below i try to read a file with the size of a 2d array and the numbers for each cell. Then the program must find a number that can be added in the cell with a zero value in magic array. All this in order to create magic squares based on the initialized magic array with the elements of the external file. The problem is that i always get the message &quot;magic squares cannot be created&quot; even when the if statement in next_successor method get true from all the arguments? where is the problem? i got really stuck any help will be appreciated!\r\n\r\nso i think the main problem is with the methods:\r\n\r\n 1. next_successor\r\n 2. check_row\r\n 3. check_column\r\n 4. check_diagonals\r\n\r\nThe rules that i have to follow in order to create the methods are:\r\nIn order for current_number to be inserted into magic[row,column], the following checks (by check_row(), check_column() and check_diagonals()) should be made:\r\n\r\n - For each of the row, column, and possibly main diagonals (in the case of row=column or row=N-column-1) to which position magic[row,column] belongs, and for each current_number that does not has yet been inserted into the magic square (according to the value used[current_number-1]), we perform the following checks to decide whether current_number can be inserted into magic[row,column]:\r\n - Suppose (in the row or column or main diagonal where the position magic[row,column]) is located after the number current_number is placed in the position magic[row,column], m positions have been filled, so there are N-m empty positions left to be filled.\r\n - Let &#119904; be the sum of the numbers already in the row or column or main diagonal (including current_number).\r\n - Let &#119886; be the sum of the &#119873;−&#119898; smallest numbers (from 1 to N*N) not yet entered into the magic square (according to the table used) and &#119887; the sum of the &#119873;−&#119898; largest numbers not yet entered (similarly) . If &#119898;=&#119873; then &#119886;=&#119887;=0.\r\n - Let &#119862; be the magic constant. If &#119904;+&#119886;&gt;&#119862; or &#119904;+&#119887;&lt;&#119862;, for some row or column or main diagonal to which magic[row, column] belongs, then current_number cannot be inserted into position magic[row,column ], i.e. the respective check_row(), check_column() and check_diagonals() will return false, otherwise they will all return true.\r\n\r\nthe txt external file has the following elements:\r\n\r\n```none\r\n6\r\n0 0 13 0 20 0\r\n0 15 0 0 0 12\r\n8 0 2 0 31 0\r\n0 14 0 7 0 1\r\n28 0 0 0 0 0\r\n0 0 6 0 0 21\r\n```\r\n```\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\n\r\npublic class MainSolver{\r\n    static ArrayList&lt;MagicSquare&gt; stuckAL;\r\n    static Stack&lt;MagicSquare&gt; stuckST;\r\n    static LinkedList&lt;MagicSquare&gt; stuckLL;\r\n    static int datastructure; \r\n    static int N = 0;\r\n    static int[][] input;\r\n    \r\n    public static void main() throws IOException {\r\n        //THE PROGRAM READS THE EXTERNAL FILE\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.print(&quot;Enter the file name: &quot;);\r\n        String fileName = sc.next();\r\n        System.out.println(&quot;Enter data structure to use: (arraylist, stack, queue, linkedlist): &quot;);\r\n        System.out.println(&quot;1: arraylist&quot;);\r\n        System.out.println(&quot;2: stack&quot;);\r\n        System.out.println(&quot;3: queue&quot;);\r\n        System.out.println(&quot;4: linkedlist&quot;);\r\n        datastructure = sc.nextInt();\r\n        \r\n        File file = new File(fileName);\r\n        Scanner fileScanner = new Scanner(file);\r\n        \r\n        N = fileScanner.nextInt();\r\n        input = new int[N][N];\r\n\r\n        for (int i = 0; i &lt; N; i++) {\r\n            for (int j = 0; j &lt; N; j++) {\r\n                input[i][j] = fileScanner.nextInt();\r\n            }\r\n        }\r\n        \r\n        MagicSquare.size = N;\r\n        MagicSquare ms = new MagicSquare();\r\n        \r\n        for(int i=0; i&lt;N ;i++){\r\n            for(int j=0; j&lt;N ;j++){\r\n                ms.set_cell(i,j,input[i][j]);\r\n                if (ms.magic[i][j] != 0) {\r\n                    ms.used[ms.magic[i][j]-1] = true;\r\n                }\r\n            }\r\n        }\r\n        \r\n        ms.check_used();\r\n    \r\n        \r\n        //PRINTING THE INPUT AND MAGIC ARRAY\r\n        System.out.println(&quot;Size of array from file: &quot;+N);\r\n        ms.display(input);\r\n        System.out.println();\r\n        \r\n        System.out.println(&quot;Size of array from MagicSquare object: &quot;+ms.N);\r\n        ms.display(ms.magic);\r\n        \r\n        fileScanner.close();\r\n        \r\n        //IT STARTS THE INITIALIZATION OF DATASTRUCTURES &amp; START THE SEARCH OF SUCCESSORS\r\n        initialize_search(ms,datastructure);\r\n        search(datastructure);\r\n    }\r\n    //THIS PART OF CODE NEEDS TO STAY AS IT IS. CAN&#39;T MAKE CHANGES\r\n    static void initialize_search(MagicSquare ms, int datastructure) {\r\n        switch (datastructure) {\r\n            case 1:\r\n            case 2:\r\n                stuckAL = new ArrayList();\r\n                stuckAL.add(ms);\r\n                break;\r\n            case 3:\r\n                stuckST=new Stack();\r\n                stuckST.push(ms);\r\n                break;\r\n            case 4:\r\n                stuckLL=new LinkedList();\r\n                stuckLL.add(ms);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    //THIS PART OF CODE NEEDS TO STAY AS IT IS. CAN&#39;T MAKE CHANGES\r\n    static void search(int datastructure) {\r\n        MagicSquare current = null, next;\r\n        switch (datastructure) {\r\n            case 1:\r\n                System.out.println(&quot;Search using ArrayList as a Stack&quot;);\r\n                break;\r\n            case 2:\r\n                System.out.println(&quot;Search using ArrayList as a Queue&quot;);\r\n                break;\r\n            case 3:\r\n                System.out.println(&quot;Search using Stack as a Stack&quot;);\r\n                break;\r\n            case 4:\r\n                System.out.println(&quot;Search using LinkedList as a Queue&quot;);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    \r\n        boolean empty_frontier=false;\r\n        \r\n        while (!empty_frontier) {\r\n            if (datastructure == 1) {\r\n                current = stuckAL.get(stuckAL.size()-1);\r\n                stuckAL.remove(stuckAL.size()-1);\r\n            }\r\n            else if (datastructure == 2) {\r\n                current = stuckAL.get(0);\r\n                stuckAL.remove(0);\r\n            }\r\n            else if (datastructure == 3)\r\n                current = stuckST.pop();\r\n            else if (datastructure == 4)\r\n                current = stuckLL.removeFirst();\r\n\r\n            current.initialize_successors();\r\n            \r\n            while((next=current.next_successor()) != null)\r\n            {\r\n                if (next.numbers == N*N)\r\n                {\r\n                    System.out.println(&quot;SOLUTION FOUND &quot;);\r\n                    System.out.println(&quot;==============&quot;);\r\n                    next.display(next.magic);\r\n                    return;\r\n                }\r\n                else switch (datastructure) {\r\n                    case 1: ;\r\n                    case 2: stuckAL.add(next);\r\n                        break;\r\n                    case 3: stuckST.push(next);\r\n                        break;\r\n                    case 4: stuckLL.addLast(next);\r\n                        break;\r\n                }\r\n            }\r\n\r\n            switch (datastructure) {\r\n                case 1:\r\n                    if (stuckAL.isEmpty())\r\n                        empty_frontier=true;\r\n                    break;\r\n                case 2:\r\n                    if (stuckAL.isEmpty())\r\n                        empty_frontier=true;\r\n                    break;\r\n                case 3:\r\n                    if (stuckST.isEmpty())\r\n                        empty_frontier=true;\r\n                    break;\r\n                case 4:\r\n                    if (stuckLL.isEmpty())\r\n                        empty_frontier=true;\r\n                    break;\r\n            }\r\n        }\r\n        System.out.println(&quot;MAGIC SQUARES CANNOT BE CREATED&quot;);\r\n    }\r\n}\r\n\r\nclass MagicSquare {\r\n    public static int size;\r\n    public int N;\r\n    public int C;\r\n    public int[][] magic;\r\n    public boolean[] used;\r\n    public int numbers;\r\n    public int row;\r\n    public int column;\r\n    public int current_number;\r\n    \r\n    //THIS CONSTRUCTOR WITHOUT ARGUMENTS INITIALIZE N and C, the magic array and the numbers variable with zeros, as well as the used array with false values.\r\n    public MagicSquare() {\r\n        this.N = size;\r\n        C = N*((N*N+1)/2);\r\n       \r\n        magic = new int[N][N];\r\n        used = new boolean[N*N];\r\n       \r\n        for (int i = 0; i &lt; N; i++) {\r\n            for (int j = 0; j &lt; N; j++) {\r\n                magic[i][j] = 0;\r\n            }\r\n        }\r\n        for (int i = 0; i &lt; used.length; i++) {\r\n            used[i] = false;\r\n        }\r\n       \r\n        numbers = 0;\r\n        row = 0;\r\n        column = 0;\r\n        current_number = 0;\r\n    }\r\n    //THIS CONSTRUCTOR creates a copy of the object (mainly regarding the N, C, magic, numbers and used variables)\r\n    public MagicSquare(MagicSquare ms) {\r\n        N = ms.N;\r\n        C = ms.C;\r\n        \r\n        magic = new int[N][N];\r\n        used = new boolean[N*N];\r\n        \r\n        for (int i = 0; i &lt; N; i++) {\r\n            for (int j = 0; j &lt; N; j++) {\r\n                magic[i][j] = ms.magic[i][j];\r\n            }\r\n        }\r\n        for (int i = 0; i &lt; used.length; i++) {\r\n            used[i] = ms.used[i];\r\n        }\r\n        \r\n        numbers = ms.numbers;\r\n        row = ms.row;\r\n        column = ms.column;\r\n        current_number = ms.current_number;\r\n    }\r\n    //METHOD THAT IS CALLED TO FILL EACH CELL OF MAGIC ARRAY WITH NUMBER FROM EXTERNAL FILE\r\n    public void set_cell(int row, int col, int number){\r\n       if (number&gt;=1 &amp;&amp; number&lt;=N*N &amp;&amp; row&gt;=0 &amp;&amp; row&lt;N*N &amp;&amp; col&gt;=0 &amp;&amp; col&lt;N*N &amp;&amp; magic[row][col]==0){\r\n           magic[row][col] = number;\r\n           numbers++;\r\n       }\r\n    }\r\n    //METHOD THAT: &quot;initializes&quot; the process of constructing the &quot;successors&quot; of a MagicSquare object. As a successor we characterize a new object, which is in principle the same as its &quot;parent&quot; (with regard to the fields magic, numbers and used), but has an additional position of the magic square filled in in a valid way. The initialize_successors() method will practically give as values to the row and column fields the row and column of the next null of the magic table, while in addition it will initialize the value of the current_number field (eg, to 0).\r\n    public void initialize_successors() {\r\n        for (int i = 0; i &lt; N; i++) {\r\n            for (int j = 0; j &lt; N; j++) {\r\n                if (magic[i][j] == 0) {\r\n                    row = i;\r\n                    column = j; \r\n                    current_number = 0;\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    //METHOD THAT: each time it is called it will find the next value of current_number that can be placed in magic[row,column], construct an object that is a copy of the current object, but with the current_number in magic[row,column], and will return it. If no next value of current_number is found that can be inserted into magic[row, column], it will return null. In order for the current value of current_number to be inserted in the magic[row, column] position, this value must not already be used in the magic square (checked via the used table), and the methods check_row(), check_column() and check_diagonals() to return true.\r\n    public MagicSquare next_successor() {\r\n        MagicSquare successor;\r\n        while (current_number &lt; N*N) {\r\n            current_number++;\r\n            \r\n            if (!used[current_number-1] &amp;&amp; check_row() &amp;&amp; check_column() &amp;&amp; check_diagonals()) {\r\n                successor = new MagicSquare(this);\r\n                successor.magic[row][column] = current_number;\r\n                successor.used[current_number-1] = true;\r\n                successor.numbers++;\r\n                /*if(column == N-1) {\r\n                    successor.row++;\r\n                    successor.column = 0;\r\n                } \r\n                else {\r\n                    successor.column++;\r\n                }*/\r\n                System.out.println(&quot;next successor returns successor!&quot;);\r\n                return successor;\r\n            }\r\n            //break;\r\n        }\r\n        System.out.println(&quot;next successor returns null!&quot;);\r\n        return null;\r\n    }\r\n    //METHOD THAT: returns true if current_number is consistent with the row numbers of magic[row,column], otherwise returns false.\r\n    public boolean check_row(){\r\n        int sum = current_number;\r\n        int m = numbers;\r\n        int emptyPositions = N - m;\r\n        int a = getSumOfSmallestElementsNotUsed();\r\n        int b = getSumOfLargestElementsNotUsed();\r\n        System.out.println();\r\n        System.out.println(&quot;current number being tested in row: &quot;+current_number);\r\n        for (int i = 0; i &lt; N; i++) {\r\n            if (magic[row][i] != 0) {\r\n                sum += magic[row][i];\r\n            }\r\n        }\r\n        System.out.println(&quot;sum of numbers in row: &quot;+sum);\r\n        if (sum + a &gt; C || sum + b &lt; C) {\r\n            System.out.println(&quot;row gives false!&quot;);\r\n            return false;\r\n        }\r\n        System.out.println(&quot;row gives true!&quot;);\r\n        return true;\r\n    }\r\n    //METHOD THAT: returns true if current_number is consistent with the column numbers of magic[row,column], otherwise returns false.\r\n    public boolean check_column(){\r\n        int sum = current_number;\r\n        int m = numbers;\r\n        int emptyPositions = N - m;\r\n        int a = getSumOfSmallestElementsNotUsed();\r\n        int b = getSumOfLargestElementsNotUsed();\r\n        System.out.println(&quot;current number being tested in column: &quot;+current_number);\r\n        for (int i = 0; i &lt; N; i++) {\r\n            if (magic[i][column] != 0) {\r\n                sum += magic[i][column];\r\n            }\r\n        }\r\n        System.out.println(&quot;sum of numbers in column: &quot;+sum);\r\n        if (sum + a &gt; C || sum + b &lt; C) {\r\n            System.out.println(&quot;column gives false!&quot;);\r\n            return false;\r\n        }\r\n        System.out.println(&quot;column gives true!&quot;);\r\n        return true;\r\n    }\r\n    //METHOD THAT: which will return true if current_number is consistent with the numbers of each of the two main diagonals of the magic square, provided that magic[row,column] belongs to one or the other or both of the main diagonals of the magic square respectively, otherwise it will return false.\r\n    public boolean check_diagonals(){\r\n        int sum = current_number;\r\n        int m = numbers;\r\n        int emptyPositions = N - m;\r\n        int a = getSumOfSmallestElementsNotUsed();\r\n        int b = getSumOfLargestElementsNotUsed();\r\n        System.out.println(&quot;current number being tested in diagonals: &quot;+current_number);\r\n        if (row == column) { //main diagonal\r\n            for (int i = 0; i &lt; N; i++) {\r\n                if (magic[i][i] != 0) {\r\n                    sum += magic[i][i];\r\n                }\r\n            }\r\n        } else if (row == N-column-1) { //other diagonal\r\n            for (int i = 0; i &lt; N; i++) {\r\n                if (magic[i][N-i-1] != 0) {\r\n                    sum += magic[i][N-i-1];\r\n                }\r\n            }\r\n        }\r\n        System.out.println(&quot;sum of numbers in diagonal: &quot;+sum);\r\n        if (sum + a &gt; C || sum + b &lt; C) {\r\n            System.out.println(&quot;diagonals gives false!&quot;);\r\n            return false;\r\n        }\r\n        System.out.println(&quot;diagonals gives true!&quot;);\r\n        return true;\r\n    }\r\n    //METHOD THAT: calculate the sum of the 2 first empty elements of used array and therefore the smallest\r\n    public int getSumOfSmallestElementsNotUsed(){\r\n        int sum = 0;\r\n        int count = 0;\r\n        for (int i = 0; i &lt; used.length; i++) {\r\n            if (!used[i]) {\r\n                sum += (i + 1);\r\n                count++;\r\n            }\r\n            if (count == 2) {\r\n                break;\r\n            }\r\n        }\r\n        System.out.println(&quot;sum of 2 smallest elements: &quot;+sum);\r\n        return sum;\r\n        \r\n    }\r\n    //METHOD THAT: calculate the sum of the 2 last empty elements of used array and therefore the largest\r\n    public int getSumOfLargestElementsNotUsed(){\r\n        int sum = 0;\r\n        int count = 0;\r\n        for (int i = used.length - 1; i &gt;= 0; i--) {\r\n            if (!used[i]) {\r\n                sum += (i + 1);\r\n                count++;\r\n            }\r\n            if (count == 2) {\r\n                break;\r\n            }\r\n        }\r\n        System.out.println(&quot;sum of 2 largest elements: &quot;+sum);\r\n        return sum;\r\n    }\r\n\r\n    \r\n    public boolean isComplete() {\r\n        return numbers == N*N;\r\n    }\r\n\r\n    public void display(int array[][]) {\r\n        for (int i = 0; i &lt; N; i++) {\r\n            for (int j = 0; j &lt; N; j++) {\r\n                System.out.print(array[i][j] + &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n        System.out.println();\r\n    }\r\n    \r\n    public void check_used(){\r\n        int i,j;\r\n        int k=0;\r\n\r\n        for(i=0; i&lt;magic.length; i++){\r\n            for(j=0; j&lt;magic[i].length; j++){\r\n                System.out.println(&quot;POSITION IN USED ARRAY: &quot;+k+&quot; WITH VALUE: &quot;+used[k]+&quot; FROM POSITION IN MAGIC ARRAY: &quot;+i+&quot;,&quot;+j+&quot; WITH VALUE: &quot;+magic[i][j]);\r\n                k++;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"Magic Square in Java: Why always prints: Magic Squares cannot be created?","body":"<p>In the code below i try to read a file with the size of a 2d array and the numbers for each cell. Then the program must find a number that can be added in the cell with a zero value in magic array. All this in order to create magic squares based on the initialized magic array with the elements of the external file. The problem is that i always get the message &quot;magic squares cannot be created&quot; even when the if statement in next_successor method get true from all the arguments? where is the problem? i got really stuck any help will be appreciated!</p>\n<p>so i think the main problem is with the methods:</p>\n<ol>\n<li>next_successor</li>\n<li>check_row</li>\n<li>check_column</li>\n<li>check_diagonals</li>\n</ol>\n<p>The rules that i have to follow in order to create the methods are:\nIn order for current_number to be inserted into magic[row,column], the following checks (by check_row(), check_column() and check_diagonals()) should be made:</p>\n<ul>\n<li>For each of the row, column, and possibly main diagonals (in the case of row=column or row=N-column-1) to which position magic[row,column] belongs, and for each current_number that does not has yet been inserted into the magic square (according to the value used[current_number-1]), we perform the following checks to decide whether current_number can be inserted into magic[row,column]:</li>\n<li>Suppose (in the row or column or main diagonal where the position magic[row,column]) is located after the number current_number is placed in the position magic[row,column], m positions have been filled, so there are N-m empty positions left to be filled.</li>\n<li>Let 𝑠 be the sum of the numbers already in the row or column or main diagonal (including current_number).</li>\n<li>Let 𝑎 be the sum of the 𝑁−𝑚 smallest numbers (from 1 to N*N) not yet entered into the magic square (according to the table used) and 𝑏 the sum of the 𝑁−𝑚 largest numbers not yet entered (similarly) . If 𝑚=𝑁 then 𝑎=𝑏=0.</li>\n<li>Let 𝐶 be the magic constant. If 𝑠+𝑎&gt;𝐶 or 𝑠+𝑏&lt;𝐶, for some row or column or main diagonal to which magic[row, column] belongs, then current_number cannot be inserted into position magic[row,column ], i.e. the respective check_row(), check_column() and check_diagonals() will return false, otherwise they will all return true.</li>\n</ul>\n<p>the txt external file has the following elements:</p>\n<pre class=\"lang-none prettyprint-override\"><code>6\n0 0 13 0 20 0\n0 15 0 0 0 12\n8 0 2 0 31 0\n0 14 0 7 0 1\n28 0 0 0 0 0\n0 0 6 0 0 21\n</code></pre>\n<pre><code>import java.io.*;\nimport java.util.*;\n\n\npublic class MainSolver{\n    static ArrayList&lt;MagicSquare&gt; stuckAL;\n    static Stack&lt;MagicSquare&gt; stuckST;\n    static LinkedList&lt;MagicSquare&gt; stuckLL;\n    static int datastructure; \n    static int N = 0;\n    static int[][] input;\n    \n    public static void main() throws IOException {\n        //THE PROGRAM READS THE EXTERNAL FILE\n        Scanner sc = new Scanner(System.in);\n        System.out.print(&quot;Enter the file name: &quot;);\n        String fileName = sc.next();\n        System.out.println(&quot;Enter data structure to use: (arraylist, stack, queue, linkedlist): &quot;);\n        System.out.println(&quot;1: arraylist&quot;);\n        System.out.println(&quot;2: stack&quot;);\n        System.out.println(&quot;3: queue&quot;);\n        System.out.println(&quot;4: linkedlist&quot;);\n        datastructure = sc.nextInt();\n        \n        File file = new File(fileName);\n        Scanner fileScanner = new Scanner(file);\n        \n        N = fileScanner.nextInt();\n        input = new int[N][N];\n\n        for (int i = 0; i &lt; N; i++) {\n            for (int j = 0; j &lt; N; j++) {\n                input[i][j] = fileScanner.nextInt();\n            }\n        }\n        \n        MagicSquare.size = N;\n        MagicSquare ms = new MagicSquare();\n        \n        for(int i=0; i&lt;N ;i++){\n            for(int j=0; j&lt;N ;j++){\n                ms.set_cell(i,j,input[i][j]);\n                if (ms.magic[i][j] != 0) {\n                    ms.used[ms.magic[i][j]-1] = true;\n                }\n            }\n        }\n        \n        ms.check_used();\n    \n        \n        //PRINTING THE INPUT AND MAGIC ARRAY\n        System.out.println(&quot;Size of array from file: &quot;+N);\n        ms.display(input);\n        System.out.println();\n        \n        System.out.println(&quot;Size of array from MagicSquare object: &quot;+ms.N);\n        ms.display(ms.magic);\n        \n        fileScanner.close();\n        \n        //IT STARTS THE INITIALIZATION OF DATASTRUCTURES &amp; START THE SEARCH OF SUCCESSORS\n        initialize_search(ms,datastructure);\n        search(datastructure);\n    }\n    //THIS PART OF CODE NEEDS TO STAY AS IT IS. CAN'T MAKE CHANGES\n    static void initialize_search(MagicSquare ms, int datastructure) {\n        switch (datastructure) {\n            case 1:\n            case 2:\n                stuckAL = new ArrayList();\n                stuckAL.add(ms);\n                break;\n            case 3:\n                stuckST=new Stack();\n                stuckST.push(ms);\n                break;\n            case 4:\n                stuckLL=new LinkedList();\n                stuckLL.add(ms);\n                break;\n            default:\n                break;\n        }\n    }\n    //THIS PART OF CODE NEEDS TO STAY AS IT IS. CAN'T MAKE CHANGES\n    static void search(int datastructure) {\n        MagicSquare current = null, next;\n        switch (datastructure) {\n            case 1:\n                System.out.println(&quot;Search using ArrayList as a Stack&quot;);\n                break;\n            case 2:\n                System.out.println(&quot;Search using ArrayList as a Queue&quot;);\n                break;\n            case 3:\n                System.out.println(&quot;Search using Stack as a Stack&quot;);\n                break;\n            case 4:\n                System.out.println(&quot;Search using LinkedList as a Queue&quot;);\n                break;\n            default:\n                break;\n        }\n    \n        boolean empty_frontier=false;\n        \n        while (!empty_frontier) {\n            if (datastructure == 1) {\n                current = stuckAL.get(stuckAL.size()-1);\n                stuckAL.remove(stuckAL.size()-1);\n            }\n            else if (datastructure == 2) {\n                current = stuckAL.get(0);\n                stuckAL.remove(0);\n            }\n            else if (datastructure == 3)\n                current = stuckST.pop();\n            else if (datastructure == 4)\n                current = stuckLL.removeFirst();\n\n            current.initialize_successors();\n            \n            while((next=current.next_successor()) != null)\n            {\n                if (next.numbers == N*N)\n                {\n                    System.out.println(&quot;SOLUTION FOUND &quot;);\n                    System.out.println(&quot;==============&quot;);\n                    next.display(next.magic);\n                    return;\n                }\n                else switch (datastructure) {\n                    case 1: ;\n                    case 2: stuckAL.add(next);\n                        break;\n                    case 3: stuckST.push(next);\n                        break;\n                    case 4: stuckLL.addLast(next);\n                        break;\n                }\n            }\n\n            switch (datastructure) {\n                case 1:\n                    if (stuckAL.isEmpty())\n                        empty_frontier=true;\n                    break;\n                case 2:\n                    if (stuckAL.isEmpty())\n                        empty_frontier=true;\n                    break;\n                case 3:\n                    if (stuckST.isEmpty())\n                        empty_frontier=true;\n                    break;\n                case 4:\n                    if (stuckLL.isEmpty())\n                        empty_frontier=true;\n                    break;\n            }\n        }\n        System.out.println(&quot;MAGIC SQUARES CANNOT BE CREATED&quot;);\n    }\n}\n\nclass MagicSquare {\n    public static int size;\n    public int N;\n    public int C;\n    public int[][] magic;\n    public boolean[] used;\n    public int numbers;\n    public int row;\n    public int column;\n    public int current_number;\n    \n    //THIS CONSTRUCTOR WITHOUT ARGUMENTS INITIALIZE N and C, the magic array and the numbers variable with zeros, as well as the used array with false values.\n    public MagicSquare() {\n        this.N = size;\n        C = N*((N*N+1)/2);\n       \n        magic = new int[N][N];\n        used = new boolean[N*N];\n       \n        for (int i = 0; i &lt; N; i++) {\n            for (int j = 0; j &lt; N; j++) {\n                magic[i][j] = 0;\n            }\n        }\n        for (int i = 0; i &lt; used.length; i++) {\n            used[i] = false;\n        }\n       \n        numbers = 0;\n        row = 0;\n        column = 0;\n        current_number = 0;\n    }\n    //THIS CONSTRUCTOR creates a copy of the object (mainly regarding the N, C, magic, numbers and used variables)\n    public MagicSquare(MagicSquare ms) {\n        N = ms.N;\n        C = ms.C;\n        \n        magic = new int[N][N];\n        used = new boolean[N*N];\n        \n        for (int i = 0; i &lt; N; i++) {\n            for (int j = 0; j &lt; N; j++) {\n                magic[i][j] = ms.magic[i][j];\n            }\n        }\n        for (int i = 0; i &lt; used.length; i++) {\n            used[i] = ms.used[i];\n        }\n        \n        numbers = ms.numbers;\n        row = ms.row;\n        column = ms.column;\n        current_number = ms.current_number;\n    }\n    //METHOD THAT IS CALLED TO FILL EACH CELL OF MAGIC ARRAY WITH NUMBER FROM EXTERNAL FILE\n    public void set_cell(int row, int col, int number){\n       if (number&gt;=1 &amp;&amp; number&lt;=N*N &amp;&amp; row&gt;=0 &amp;&amp; row&lt;N*N &amp;&amp; col&gt;=0 &amp;&amp; col&lt;N*N &amp;&amp; magic[row][col]==0){\n           magic[row][col] = number;\n           numbers++;\n       }\n    }\n    //METHOD THAT: &quot;initializes&quot; the process of constructing the &quot;successors&quot; of a MagicSquare object. As a successor we characterize a new object, which is in principle the same as its &quot;parent&quot; (with regard to the fields magic, numbers and used), but has an additional position of the magic square filled in in a valid way. The initialize_successors() method will practically give as values to the row and column fields the row and column of the next null of the magic table, while in addition it will initialize the value of the current_number field (eg, to 0).\n    public void initialize_successors() {\n        for (int i = 0; i &lt; N; i++) {\n            for (int j = 0; j &lt; N; j++) {\n                if (magic[i][j] == 0) {\n                    row = i;\n                    column = j; \n                    current_number = 0;\n                    return;\n                }\n            }\n        }\n    }\n    //METHOD THAT: each time it is called it will find the next value of current_number that can be placed in magic[row,column], construct an object that is a copy of the current object, but with the current_number in magic[row,column], and will return it. If no next value of current_number is found that can be inserted into magic[row, column], it will return null. In order for the current value of current_number to be inserted in the magic[row, column] position, this value must not already be used in the magic square (checked via the used table), and the methods check_row(), check_column() and check_diagonals() to return true.\n    public MagicSquare next_successor() {\n        MagicSquare successor;\n        while (current_number &lt; N*N) {\n            current_number++;\n            \n            if (!used[current_number-1] &amp;&amp; check_row() &amp;&amp; check_column() &amp;&amp; check_diagonals()) {\n                successor = new MagicSquare(this);\n                successor.magic[row][column] = current_number;\n                successor.used[current_number-1] = true;\n                successor.numbers++;\n                /*if(column == N-1) {\n                    successor.row++;\n                    successor.column = 0;\n                } \n                else {\n                    successor.column++;\n                }*/\n                System.out.println(&quot;next successor returns successor!&quot;);\n                return successor;\n            }\n            //break;\n        }\n        System.out.println(&quot;next successor returns null!&quot;);\n        return null;\n    }\n    //METHOD THAT: returns true if current_number is consistent with the row numbers of magic[row,column], otherwise returns false.\n    public boolean check_row(){\n        int sum = current_number;\n        int m = numbers;\n        int emptyPositions = N - m;\n        int a = getSumOfSmallestElementsNotUsed();\n        int b = getSumOfLargestElementsNotUsed();\n        System.out.println();\n        System.out.println(&quot;current number being tested in row: &quot;+current_number);\n        for (int i = 0; i &lt; N; i++) {\n            if (magic[row][i] != 0) {\n                sum += magic[row][i];\n            }\n        }\n        System.out.println(&quot;sum of numbers in row: &quot;+sum);\n        if (sum + a &gt; C || sum + b &lt; C) {\n            System.out.println(&quot;row gives false!&quot;);\n            return false;\n        }\n        System.out.println(&quot;row gives true!&quot;);\n        return true;\n    }\n    //METHOD THAT: returns true if current_number is consistent with the column numbers of magic[row,column], otherwise returns false.\n    public boolean check_column(){\n        int sum = current_number;\n        int m = numbers;\n        int emptyPositions = N - m;\n        int a = getSumOfSmallestElementsNotUsed();\n        int b = getSumOfLargestElementsNotUsed();\n        System.out.println(&quot;current number being tested in column: &quot;+current_number);\n        for (int i = 0; i &lt; N; i++) {\n            if (magic[i][column] != 0) {\n                sum += magic[i][column];\n            }\n        }\n        System.out.println(&quot;sum of numbers in column: &quot;+sum);\n        if (sum + a &gt; C || sum + b &lt; C) {\n            System.out.println(&quot;column gives false!&quot;);\n            return false;\n        }\n        System.out.println(&quot;column gives true!&quot;);\n        return true;\n    }\n    //METHOD THAT: which will return true if current_number is consistent with the numbers of each of the two main diagonals of the magic square, provided that magic[row,column] belongs to one or the other or both of the main diagonals of the magic square respectively, otherwise it will return false.\n    public boolean check_diagonals(){\n        int sum = current_number;\n        int m = numbers;\n        int emptyPositions = N - m;\n        int a = getSumOfSmallestElementsNotUsed();\n        int b = getSumOfLargestElementsNotUsed();\n        System.out.println(&quot;current number being tested in diagonals: &quot;+current_number);\n        if (row == column) { //main diagonal\n            for (int i = 0; i &lt; N; i++) {\n                if (magic[i][i] != 0) {\n                    sum += magic[i][i];\n                }\n            }\n        } else if (row == N-column-1) { //other diagonal\n            for (int i = 0; i &lt; N; i++) {\n                if (magic[i][N-i-1] != 0) {\n                    sum += magic[i][N-i-1];\n                }\n            }\n        }\n        System.out.println(&quot;sum of numbers in diagonal: &quot;+sum);\n        if (sum + a &gt; C || sum + b &lt; C) {\n            System.out.println(&quot;diagonals gives false!&quot;);\n            return false;\n        }\n        System.out.println(&quot;diagonals gives true!&quot;);\n        return true;\n    }\n    //METHOD THAT: calculate the sum of the 2 first empty elements of used array and therefore the smallest\n    public int getSumOfSmallestElementsNotUsed(){\n        int sum = 0;\n        int count = 0;\n        for (int i = 0; i &lt; used.length; i++) {\n            if (!used[i]) {\n                sum += (i + 1);\n                count++;\n            }\n            if (count == 2) {\n                break;\n            }\n        }\n        System.out.println(&quot;sum of 2 smallest elements: &quot;+sum);\n        return sum;\n        \n    }\n    //METHOD THAT: calculate the sum of the 2 last empty elements of used array and therefore the largest\n    public int getSumOfLargestElementsNotUsed(){\n        int sum = 0;\n        int count = 0;\n        for (int i = used.length - 1; i &gt;= 0; i--) {\n            if (!used[i]) {\n                sum += (i + 1);\n                count++;\n            }\n            if (count == 2) {\n                break;\n            }\n        }\n        System.out.println(&quot;sum of 2 largest elements: &quot;+sum);\n        return sum;\n    }\n\n    \n    public boolean isComplete() {\n        return numbers == N*N;\n    }\n\n    public void display(int array[][]) {\n        for (int i = 0; i &lt; N; i++) {\n            for (int j = 0; j &lt; N; j++) {\n                System.out.print(array[i][j] + &quot; &quot;);\n            }\n            System.out.println();\n        }\n        System.out.println();\n    }\n    \n    public void check_used(){\n        int i,j;\n        int k=0;\n\n        for(i=0; i&lt;magic.length; i++){\n            for(j=0; j&lt;magic[i].length; j++){\n                System.out.println(&quot;POSITION IN USED ARRAY: &quot;+k+&quot; WITH VALUE: &quot;+used[k]+&quot; FROM POSITION IN MAGIC ARRAY: &quot;+i+&quot;,&quot;+j+&quot; WITH VALUE: &quot;+magic[i][j]);\n                k++;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android-studio","google-apps-script","http-get"],"comments":[{"owner":{"account_id":13571377,"reputation":1049,"user_id":9790036,"display_name":"Tyler Liu"},"score":1,"creation_date":1674966884,"post_id":75272520,"comment_id":132825469,"body_markdown":"What&#39;s your question?","body":"What&#39;s your question?"},{"owner":{"account_id":27646643,"reputation":11,"user_id":21102383,"display_name":"Christine Tang"},"score":0,"creation_date":1675011954,"post_id":75272520,"comment_id":132832045,"body_markdown":"How do you get the script to run with the deployment settings being: \nExecute as: Me\nWho has access: Only Myself","body":"How do you get the script to run with the deployment settings being:  Execute as: Me Who has access: Only Myself"},{"owner":{"account_id":13571377,"reputation":1049,"user_id":9790036,"display_name":"Tyler Liu"},"score":0,"creation_date":1675032477,"post_id":75272520,"comment_id":132835788,"body_markdown":"Do you have the script published as a web app?","body":"Do you have the script published as a web app?"},{"owner":{"account_id":27646643,"reputation":11,"user_id":21102383,"display_name":"Christine Tang"},"score":0,"creation_date":1675035537,"post_id":75272520,"comment_id":132836203,"body_markdown":"yes, I do have it published as a web app","body":"yes, I do have it published as a web app"},{"owner":{"account_id":13571377,"reputation":1049,"user_id":9790036,"display_name":"Tyler Liu"},"score":0,"creation_date":1675042086,"post_id":75272520,"comment_id":132836923,"body_markdown":"What&#39;s the return code of the API call? 401 Unauthorized?","body":"What&#39;s the return code of the API call? 401 Unauthorized?"},{"owner":{"account_id":27646643,"reputation":11,"user_id":21102383,"display_name":"Christine Tang"},"score":0,"creation_date":1675050189,"post_id":75272520,"comment_id":132837815,"body_markdown":"The status code is 200, but the link below has what gets passed into the onResponse function. When I give anyone access, it works properly. I get the JSON object in string form.https://docs.google.com/document/d/11wxFDyoSz_PCeew8UAkzq_FvSOLxjkkIM3Fu8DuLmxM/edit?usp=sharing.","body":"The status code is 200, but the link below has what gets passed into the onResponse function. When I give anyone access, it works properly. I get the JSON object in string form.<a href=\"https://docs.google.com/document/d/11wxFDyoSz_PCeew8UAkzq_FvSOLxjkkIM3Fu8DuLmxM/edit?usp=sharing\" rel=\"nofollow noreferrer\">docs.google.com/document/d/&hellip;</a>."},{"owner":{"account_id":13571377,"reputation":1049,"user_id":9790036,"display_name":"Tyler Liu"},"score":0,"creation_date":1675051033,"post_id":75272520,"comment_id":132837909,"body_markdown":"Can you try calling the API with Postman/curl and see what happens? It seems like an authorization issue but it&#39;s confusing that Apps Script is returning 200.","body":"Can you try calling the API with Postman/curl and see what happens? It seems like an authorization issue but it&#39;s confusing that Apps Script is returning 200."},{"owner":{"account_id":27646643,"reputation":11,"user_id":21102383,"display_name":"Christine Tang"},"score":0,"creation_date":1675053862,"post_id":75272520,"comment_id":132838211,"body_markdown":"I am getting 200 for both in postman","body":"I am getting 200 for both in postman"},{"owner":{"account_id":13571377,"reputation":1049,"user_id":9790036,"display_name":"Tyler Liu"},"score":0,"creation_date":1675142874,"post_id":75272520,"comment_id":132859923,"body_markdown":"Hmm, then I&#39;m stumped as well. The [documentation](https://developers.google.com/apps-script/guides/web#request_parameters) makes it clear that a program can call the GET endpoint in Apps Script, but doesn&#39;t describe how to pass some authentication token to it.","body":"Hmm, then I&#39;m stumped as well. The <a href=\"https://developers.google.com/apps-script/guides/web#request_parameters\" rel=\"nofollow noreferrer\">documentation</a> makes it clear that a program can call the GET endpoint in Apps Script, but doesn&#39;t describe how to pass some authentication token to it."}],"owner":{"account_id":27646643,"reputation":11,"user_id":21102383,"display_name":"Christine Tang"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675012066,"creation_date":1674964722,"question_id":75272520,"body_markdown":"I am creating an app in Android Studio that gets data from a Google spreadsheet. The app sends an HTTP GET request to an Apps Script. The Apps Script returns a JSON object containing data from the spreadsheet. \r\n\r\nI have gotten this to successfully work with the deployment settings being:  \r\nExecute as: Me  \r\nWho has access: Anyone  \r\n\r\nThe data that the Apps Script returns is sensitive, so I would like to restrict access to the script. To do this, I want the deployment settings to be:  \r\nExecute as: Me  \r\nWho has access: Only Myself \r\n\r\nBelow is the code I am using to call the GET request:\r\n```\r\n   StringRequest stringRequest = new StringRequest(Request.Method.GET,SCRIPT_URL,\r\n                new Response.Listener&lt;String&gt;() {\r\n                    @Override\r\n                    public void onResponse(String response) {\r\n                        Log.i(&quot;response&quot;,response);\r\n                    }\r\n                },\r\n                new Response.ErrorListener() {\r\n                    @Override\r\n                    public void onErrorResponse(VolleyError error) {\r\n                    }\r\n                }\r\n        );\r\n```\r\nThe Google Doc below is what I receive from the GET request when I have the deployment settings Execute as: Me\r\nWho has access: Only Myself. The emulator phone that I am using for testing is logged into the same Google account as the Apps Script.\r\n\r\nhttps://docs.google.com/document/d/11wxFDyoSz_PCeew8UAkzq_FvSOLxjkkIM3Fu8DuLmxM/edit?usp=sharing\r\n\r\nHow do I get the script to run with these deployment settings?","title":"Apps Script Security","body":"<p>I am creating an app in Android Studio that gets data from a Google spreadsheet. The app sends an HTTP GET request to an Apps Script. The Apps Script returns a JSON object containing data from the spreadsheet.</p>\n<p>I have gotten this to successfully work with the deployment settings being:<br />\nExecute as: Me<br />\nWho has access: Anyone</p>\n<p>The data that the Apps Script returns is sensitive, so I would like to restrict access to the script. To do this, I want the deployment settings to be:<br />\nExecute as: Me<br />\nWho has access: Only Myself</p>\n<p>Below is the code I am using to call the GET request:</p>\n<pre><code>   StringRequest stringRequest = new StringRequest(Request.Method.GET,SCRIPT_URL,\n                new Response.Listener&lt;String&gt;() {\n                    @Override\n                    public void onResponse(String response) {\n                        Log.i(&quot;response&quot;,response);\n                    }\n                },\n                new Response.ErrorListener() {\n                    @Override\n                    public void onErrorResponse(VolleyError error) {\n                    }\n                }\n        );\n</code></pre>\n<p>The Google Doc below is what I receive from the GET request when I have the deployment settings Execute as: Me\nWho has access: Only Myself. The emulator phone that I am using for testing is logged into the same Google account as the Apps Script.</p>\n<p><a href=\"https://docs.google.com/document/d/11wxFDyoSz_PCeew8UAkzq_FvSOLxjkkIM3Fu8DuLmxM/edit?usp=sharing\" rel=\"nofollow noreferrer\">https://docs.google.com/document/d/11wxFDyoSz_PCeew8UAkzq_FvSOLxjkkIM3Fu8DuLmxM/edit?usp=sharing</a></p>\n<p>How do I get the script to run with these deployment settings?</p>\n"},{"tags":["java","spring","spring-boot","spring-security","jwt"],"comments":[{"owner":{"account_id":6349534,"reputation":2813,"user_id":4929038,"display_name":"kidney"},"score":0,"creation_date":1675015347,"post_id":75276766,"comment_id":132832799,"body_markdown":"What error are you getting from the repeated authentication attempts? Have you tried debugging the `jwtAuthFilter` in this case?","body":"What error are you getting from the repeated authentication attempts? Have you tried debugging the <code>jwtAuthFilter</code> in this case?"},{"owner":{"account_id":26751709,"reputation":33,"user_id":20351068,"display_name":"rattulus"},"score":0,"creation_date":1675017788,"post_id":75276766,"comment_id":132833258,"body_markdown":"@kidney I get the following: `StringIndexOutOfBoundsException: Range [7, 6) out of bounds for length 6. I reckon this has to do with the `Bearer` token and acquiring it from the String. In this case, however, there is no token, since the authentication failed. The Python script authenticates first and, before checking if it was successful, tries to POST again, hence that error. But besides that, nothing shows up in the console when authenticating, only when processing the other resquests.","body":"@kidney I get the following: <code>StringIndexOutOfBoundsException: Range [7, 6) out of bounds for length 6. I reckon this has to do with the </code>Bearer` token and acquiring it from the String. In this case, however, there is no token, since the authentication failed. The Python script authenticates first and, before checking if it was successful, tries to POST again, hence that error. But besides that, nothing shows up in the console when authenticating, only when processing the other resquests."},{"owner":{"account_id":6349534,"reputation":2813,"user_id":4929038,"display_name":"kidney"},"score":0,"creation_date":1675062041,"post_id":75276766,"comment_id":132839494,"body_markdown":"Ok, but if the authentication failed, it should at least tell you why. What kind of response do you get from the authentication request? You can always put a breakpoint in `UsernamePasswordAuthenticationFilter` and see why the authentication fails.","body":"Ok, but if the authentication failed, it should at least tell you why. What kind of response do you get from the authentication request? You can always put a breakpoint in <code>UsernamePasswordAuthenticationFilter</code> and see why the authentication fails."},{"owner":{"account_id":26751709,"reputation":33,"user_id":20351068,"display_name":"rattulus"},"score":0,"creation_date":1675087883,"post_id":75276766,"comment_id":132847085,"body_markdown":"I&#39;ll try doing that, thanks. It returns 403 - Forbidden.","body":"I&#39;ll try doing that, thanks. It returns 403 - Forbidden."}],"owner":{"account_id":26751709,"reputation":33,"user_id":20351068,"display_name":"rattulus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675012034,"creation_date":1675012034,"question_id":75276766,"body_markdown":"I have recently implemented a token-based security configuration in my Spring Server and it works fine when authenticating for the first time and making requests. \r\n\r\nI&#39;m using a software written in Python that will make an authentication request first and after that send multiple requests to save data in the Database.\r\n\r\nThe issue I&#39;m having is: after running the script, (which, remember, executes very well for the first time), I can no longer authenticate when running it again.\r\n\r\nI&#39;ve tried adding some things like `.logout()` and removing the session cookies from the `SecurityFilterChain` but to no avail. How can I enable multiple authentications per session for the same user in Spring?\r\n\r\nBelow is my `SecurityFilterChain` bean in `SecurityConfig.java`: \r\n\r\n```java\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n            .csrf().disable()\r\n            .authorizeHttpRequests()\r\n            .requestMatchers(&quot;/**/auth/**&quot;)\r\n            .permitAll()\r\n            .anyRequest()\r\n            .authenticated()\r\n            .and()\r\n                .logout()\r\n                .deleteCookies(&quot;JSESSIONID&quot;)\r\n                .permitAll()\r\n                .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .rememberMe()\r\n                .and()\r\n            .authenticationProvider(authenticationProvider())\r\n            .addFilterBefore(\r\n                    jwtAuthFilter,\r\n                    UsernamePasswordAuthenticationFilter.class\r\n            );\r\n        return http.build();\r\n    }\r\n```\r\n\r\n","title":"Spring - Allow multiple authentications from the same user during the same runtime","body":"<p>I have recently implemented a token-based security configuration in my Spring Server and it works fine when authenticating for the first time and making requests.</p>\n<p>I'm using a software written in Python that will make an authentication request first and after that send multiple requests to save data in the Database.</p>\n<p>The issue I'm having is: after running the script, (which, remember, executes very well for the first time), I can no longer authenticate when running it again.</p>\n<p>I've tried adding some things like <code>.logout()</code> and removing the session cookies from the <code>SecurityFilterChain</code> but to no avail. How can I enable multiple authentications per session for the same user in Spring?</p>\n<p>Below is my <code>SecurityFilterChain</code> bean in <code>SecurityConfig.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n            .csrf().disable()\n            .authorizeHttpRequests()\n            .requestMatchers(&quot;/**/auth/**&quot;)\n            .permitAll()\n            .anyRequest()\n            .authenticated()\n            .and()\n                .logout()\n                .deleteCookies(&quot;JSESSIONID&quot;)\n                .permitAll()\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .rememberMe()\n                .and()\n            .authenticationProvider(authenticationProvider())\n            .addFilterBefore(\n                    jwtAuthFilter,\n                    UsernamePasswordAuthenticationFilter.class\n            );\n        return http.build();\n    }\n</code></pre>\n"},{"tags":["java","android","kotlin","android-camera2","multi-camera-api"],"comments":[{"owner":{"account_id":16420385,"reputation":330,"user_id":11861734,"display_name":"Wasim Ansari"},"score":0,"creation_date":1675443216,"post_id":75276609,"comment_id":132937063,"body_markdown":"Please check this comment https://stackoverflow.com/a/75197739/11861734","body":"Please check this comment <a href=\"https://stackoverflow.com/a/75197739/11861734\">stackoverflow.com/a/75197739/11861734</a>"}],"owner":{"account_id":27650113,"reputation":1,"user_id":21105230,"display_name":"Felix Scheuerpflug"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675011843,"creation_date":1675010797,"question_id":75276609,"body_markdown":"I am using a phone with 3 back cameras (Realme GT Pro 2) and I want to access the one with the widest FOV. I am currently trying to implement it with the help of the [Multi-camera API](https://developer.android.com/training/camera2/multi-camera#multi-physical), but it&#39;s relatively confusing and I&#39;m unable to implement it/find a solution for this. Can anyone give me some tips on how to access the specific back camera and display its stream?\r\n\r\nI can get the physicalCameraId with `CameraCharacteristics.getPhysicalCameraIds()`. But how can I use this to open the correct (physical) camera? I also know that some manufacturers haven&#39;t yet implemented/allowed this access","title":"How to open a specific camera with camera2 API","body":"<p>I am using a phone with 3 back cameras (Realme GT Pro 2) and I want to access the one with the widest FOV. I am currently trying to implement it with the help of the <a href=\"https://developer.android.com/training/camera2/multi-camera#multi-physical\" rel=\"nofollow noreferrer\">Multi-camera API</a>, but it's relatively confusing and I'm unable to implement it/find a solution for this. Can anyone give me some tips on how to access the specific back camera and display its stream?</p>\n<p>I can get the physicalCameraId with <code>CameraCharacteristics.getPhysicalCameraIds()</code>. But how can I use this to open the correct (physical) camera? I also know that some manufacturers haven't yet implemented/allowed this access</p>\n"},{"tags":["java","jackson","timezone-offset","json-serialization","zoneid"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1674910198,"post_id":75190469,"comment_id":132817022,"body_markdown":"The format with the colon is the [ISO 8601 standard](https://en.wikipedia.org/wiki/ISO_8601). You can’t persuade the consumer of your JSON to accept that?","body":"The format with the colon is the <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601 standard</a>. You can’t persuade the consumer of your JSON to accept that?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1674910533,"post_id":75190469,"comment_id":132817078,"body_markdown":"`ZoneId` is harder. It represents an ID of a time zone that in virtually all cases has had and will have different UTC offset through history and future. I don’t see any reasoable way to serialize that to a numeric string, and under no circumstances will the receiver be able to reconstruct the `ZoneId` object at the other end.","body":"<code>ZoneId</code> is harder. It represents an ID of a time zone that in virtually all cases has had and will have different UTC offset through history and future. I don’t see any reasoable way to serialize that to a numeric string, and under no circumstances will the receiver be able to reconstruct the <code>ZoneId</code> object at the other end."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1674910717,"post_id":75190469,"comment_id":132817116,"body_markdown":"And no, I believe there is no support for `+03.00` with a point/dot neither in Jackson nor in java.time. If we can’t get rid of that requirement, I would use a custom serializer and inside that something like `ZoneOffset.ofHours(3).toString().replace(&#39;:&#39;, &#39;.&#39;)` (this gives `+03.00`).","body":"And no, I believe there is no support for <code>+03.00</code> with a point/dot neither in Jackson nor in java.time. If we can’t get rid of that requirement, I would use a custom serializer and inside that something like <code>ZoneOffset.ofHours(3).toString().replace(&#39;:&#39;, &#39;.&#39;)</code> (this gives <code>+03.00</code>)."},{"owner":{"account_id":24360773,"reputation":61,"user_id":18295167,"display_name":"trom"},"score":0,"creation_date":1675011743,"post_id":75190469,"comment_id":132831993,"body_markdown":"Thank you, I resolved this task by custom serializer with replacing &#39;:&#39; by &#39;.&#39;","body":"Thank you, I resolved this task by custom serializer with replacing &#39;:&#39; by &#39;.&#39;"}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674911307,"creation_date":1674911307,"answer_id":75267884,"question_id":75190469,"body_markdown":"The zone offset, `+03:00` is already in the [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) standard format. Therefore, you should educate the publisher/consumer to stick to it. However, if you want to change it in the desired format for any reason, here is how you can do it:\r\n\r\n    import java.time.ZoneOffset;\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n            ZoneOffset offset = ZoneOffset.of(&quot;+03:00&quot;);\r\n            String formatted = offset.toString().replace(&#39;:&#39;, &#39;.&#39;);\r\n            System.out.println(formatted);\r\n        }\r\n    }\r\n**Output**:\r\n\r\n    +03.00\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"ZoneOffset ZoneId custom serialization","body":"<p>The zone offset, <code>+03:00</code> is already in the <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> standard format. Therefore, you should educate the publisher/consumer to stick to it. However, if you want to change it in the desired format for any reason, here is how you can do it:</p>\n<pre><code>import java.time.ZoneOffset;\n\nclass Main {\n    public static void main(String[] args) {\n        ZoneOffset offset = ZoneOffset.of(&quot;+03:00&quot;);\n        String formatted = offset.toString().replace(':', '.');\n        System.out.println(formatted);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>+03.00\n</code></pre>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"},{"tags":[],"owner":{"account_id":24360773,"reputation":61,"user_id":18295167,"display_name":"trom"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675011562,"creation_date":1675011562,"answer_id":75276697,"question_id":75190469,"body_markdown":"To resolve this tak I made custom serializer:\r\n\r\n    object ZoneOffsetSerializer : JsonSerializer&lt;ZoneOffset&gt;() {\r\n        override fun serialize(value: ZoneOffset, jsonGenerator: JsonGenerator, serializers: SerializerProvider) {\r\n            val result = &quot;0&quot;.takeIf { value.totalSeconds == 0 } ?: value.toString().replace(&#39;:&#39;, &#39;.&#39;)\r\n    \r\n            jsonGenerator.writeString(result)\r\n        }\r\n    }\r\n\r\nand used annotation `@JsonSerialize(using = ZoneOffsetSerializer::class)` for necessary fields","title":"ZoneOffset ZoneId custom serialization","body":"<p>To resolve this tak I made custom serializer:</p>\n<pre><code>object ZoneOffsetSerializer : JsonSerializer&lt;ZoneOffset&gt;() {\n    override fun serialize(value: ZoneOffset, jsonGenerator: JsonGenerator, serializers: SerializerProvider) {\n        val result = &quot;0&quot;.takeIf { value.totalSeconds == 0 } ?: value.toString().replace(':', '.')\n\n        jsonGenerator.writeString(result)\n    }\n}\n</code></pre>\n<p>and used annotation <code>@JsonSerialize(using = ZoneOffsetSerializer::class)</code> for necessary fields</p>\n"}],"owner":{"account_id":24360773,"reputation":61,"user_id":18295167,"display_name":"trom"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1675011562,"creation_date":1674260926,"question_id":75190469,"body_markdown":"What is the best way to serialize ZoneId or ZoneOffset from format +03:00 to format +03.00 using Jackson? Or may be there is another way how to change : to . ","title":"ZoneOffset ZoneId custom serialization","body":"<p>What is the best way to serialize ZoneId or ZoneOffset from format +03:00 to format +03.00 using Jackson? Or may be there is another way how to change : to .</p>\n"},{"tags":["java","eclipse","maven","tomcat"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675686291,"post_id":75276150,"comment_id":132975896,"body_markdown":"Did you try my answer? Did it work?","body":"Did you try my answer? Did it work?"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675011542,"creation_date":1675011542,"answer_id":75276695,"question_id":75276150,"body_markdown":"I would use `maven-archetype-webapp`.\r\n\r\nYour pom will need some/all of the following to build a SOAP WS as a warfile to run in Tomcat.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;foo.bar&lt;/groupId&gt;\r\n      &lt;artifactId&gt;MyServiceWS&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n      &lt;name&gt;MyServiceWS&lt;/name&gt;\r\n      &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n      &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/jakarta.jws/jakarta.jws-api --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;jakarta.jws&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jakarta.jws-api&lt;/artifactId&gt;\r\n          &lt;version&gt;2.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/jakarta.xml.bind/jakarta.xml.bind-api --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n          &lt;version&gt;2.3.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/jakarta.xml.soap/jakarta.xml.soap-api --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;jakarta.xml.soap&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jakarta.xml.soap-api&lt;/artifactId&gt;\r\n          &lt;version&gt;1.4.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;finalName&gt;MyServiceWS&lt;/finalName&gt;\r\n        &lt;directory&gt;${basedir}/target&lt;/directory&gt;\r\n        &lt;!-- main --&gt;\r\n        &lt;sourceDirectory&gt;${basedir}/src/main/java&lt;/sourceDirectory&gt;\r\n        &lt;outputDirectory&gt;${basedir}/target/classes&lt;/outputDirectory&gt;\r\n        &lt;!-- test --&gt;\r\n        &lt;testSourceDirectory&gt;${basedir}/src/test/java&lt;/testSourceDirectory&gt;\r\n        &lt;testOutputDirectory&gt;${basedir}/target/test-classes&lt;/testOutputDirectory&gt;\r\n        \r\n        &lt;resources&gt;\r\n          &lt;resource&gt;\r\n            &lt;directory&gt;${basedir}/src/main/resources&lt;/directory&gt;\r\n            &lt;filtering&gt;true&lt;/filtering&gt;\r\n            &lt;includes&gt;\r\n              &lt;include&gt;*.properties&lt;/include&gt;\r\n              &lt;include&gt;*.xml&lt;/include&gt;\r\n            &lt;/includes&gt;\r\n            &lt;excludes&gt;\r\n              &lt;exclude&gt;**/*.java&lt;/exclude&gt;\r\n            &lt;/excludes&gt;\r\n          &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n        \r\n        &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n          &lt;plugins&gt;\r\n            &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.0.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.8.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.22.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.2.3&lt;/version&gt;\r\n              &lt;configuration&gt;\r\n                &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n                &lt;warSourceDirectory&gt;${basedir}/src/main/webapp/WebContent&lt;/warSourceDirectory&gt;\r\n                &lt;warSourceExcludes&gt;${basedir}/src/main/webapp/WEB-INF/web.xml&lt;/warSourceExcludes&gt;\r\n              &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.5.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.8.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.7.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"Create SOAP web server with Java and Maven","body":"<p>I would use <code>maven-archetype-webapp</code>.</p>\n<p>Your pom will need some/all of the following to build a SOAP WS as a warfile to run in Tomcat.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;foo.bar&lt;/groupId&gt;\n  &lt;artifactId&gt;MyServiceWS&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n\n  &lt;name&gt;MyServiceWS&lt;/name&gt;\n  &lt;!-- FIXME change it to the project's website --&gt;\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;!-- https://mvnrepository.com/artifact/jakarta.jws/jakarta.jws-api --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.jws&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.jws-api&lt;/artifactId&gt;\n      &lt;version&gt;2.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/jakarta.xml.bind/jakarta.xml.bind-api --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n      &lt;version&gt;2.3.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/jakarta.xml.soap/jakarta.xml.soap-api --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.xml.soap&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.xml.soap-api&lt;/artifactId&gt;\n      &lt;version&gt;1.4.2&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;finalName&gt;MyServiceWS&lt;/finalName&gt;\n    &lt;directory&gt;${basedir}/target&lt;/directory&gt;\n    &lt;!-- main --&gt;\n    &lt;sourceDirectory&gt;${basedir}/src/main/java&lt;/sourceDirectory&gt;\n    &lt;outputDirectory&gt;${basedir}/target/classes&lt;/outputDirectory&gt;\n    &lt;!-- test --&gt;\n    &lt;testSourceDirectory&gt;${basedir}/src/test/java&lt;/testSourceDirectory&gt;\n    &lt;testOutputDirectory&gt;${basedir}/target/test-classes&lt;/testOutputDirectory&gt;\n    \n    &lt;resources&gt;\n      &lt;resource&gt;\n        &lt;directory&gt;${basedir}/src/main/resources&lt;/directory&gt;\n        &lt;filtering&gt;true&lt;/filtering&gt;\n        &lt;includes&gt;\n          &lt;include&gt;*.properties&lt;/include&gt;\n          &lt;include&gt;*.xml&lt;/include&gt;\n        &lt;/includes&gt;\n        &lt;excludes&gt;\n          &lt;exclude&gt;**/*.java&lt;/exclude&gt;\n        &lt;/excludes&gt;\n      &lt;/resource&gt;\n    &lt;/resources&gt;\n    \n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n      &lt;plugins&gt;\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.22.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.2.3&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n            &lt;warSourceDirectory&gt;${basedir}/src/main/webapp/WebContent&lt;/warSourceDirectory&gt;\n            &lt;warSourceExcludes&gt;${basedir}/src/main/webapp/WEB-INF/web.xml&lt;/warSourceExcludes&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.7.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":1626178,"reputation":17293,"user_id":1501700,"accept_rate":39,"display_name":"vico"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75276695,"answer_count":1,"score":1,"last_activity_date":1675011542,"creation_date":1675006633,"question_id":75276150,"body_markdown":"I would like to create simple Java SOAP web service that should run on Tomcat 10. I&#39;m using Eclipse and Maven for this purpose. I&#39;m creating new Maven project and was stuck with Archetype selection. Which Archetype I should use? \r\n\r\nCan I create project without selecting `archetype`? What basic section should exist in my `pom.xml`?\r\n\r\n","title":"Create SOAP web server with Java and Maven","body":"<p>I would like to create simple Java SOAP web service that should run on Tomcat 10. I'm using Eclipse and Maven for this purpose. I'm creating new Maven project and was stuck with Archetype selection. Which Archetype I should use?</p>\n<p>Can I create project without selecting <code>archetype</code>? What basic section should exist in my <code>pom.xml</code>?</p>\n"},{"tags":["java","spring-boot","junit","mockito"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1674040051,"post_id":75158265,"comment_id":132628457,"body_markdown":"The controller itself doesn&#39;t execute any logic. you would rather test the service class in that case. Also you can always perform a search after the delete, which shouldn&#39;t return anything as its deleted","body":"The controller itself doesn&#39;t execute any logic. you would rather test the service class in that case. Also you can always perform a search after the delete, which shouldn&#39;t return anything as its deleted"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1674040745,"post_id":75158265,"comment_id":132628660,"body_markdown":"Use `Mockito.verify` to check that `deleteById` was called on your mock `clientService` with the expected id.","body":"Use <code>Mockito.verify</code> to check that <code>deleteById</code> was called on your mock <code>clientService</code> with the expected id."},{"owner":{"account_id":11757171,"reputation":13,"user_id":8604495,"display_name":"Karlz-Bandz"},"score":0,"creation_date":1674044546,"post_id":75158265,"comment_id":132629823,"body_markdown":"Thank you for the answers but maybe you know how use ResultActions result = mockMVC.perform(post(&quot;/delete&quot;).contentType(MediaType.APPLICATION_JSON)); in this case?","body":"Thank you for the answers but maybe you know how use ResultActions result = mockMVC.perform(post(&quot;/delete&quot;).contentType(MediaType.APPLIC&zwnj;&#8203;ATION_JSON)); in this case?"},{"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"score":0,"creation_date":1674054808,"post_id":75158265,"comment_id":132633638,"body_markdown":"If you want to do a Rest Call using mockMVC then you can not use mockito. Depending on how much you want to test you need to create a `@WebMvcTest` or a `@SpringBootTest` .","body":"If you want to do a Rest Call using mockMVC then you can not use mockito. Depending on how much you want to test you need to create a <code>@WebMvcTest</code> or a <code>@SpringBootTest</code> ."}],"answers":[{"tags":[],"owner":{"account_id":17916310,"reputation":3,"user_id":13017176,"display_name":"Madrx8"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675011435,"creation_date":1675011435,"answer_id":75276685,"question_id":75158265,"body_markdown":"   You can use MockMvcRequestBuilder to run controller tests in springboot as below\r\n\r\n   include the gradle dependency,\r\n   `testCompile(&#39;org.springframework.boot:spring-boot-starter-test&#39;)`\r\n\r\n    \r\n     @WebMvcTest(ClientController.class)\r\n     public class TestClientController {\r\n\r\n        @Autowired\r\n        private MockMvc mvc;\r\n\r\n        @Test\r\n        public void ClientController_deleteClient() throws Exception \r\n        {\r\n          DeleteClientModel deleteClientModel = new DeleteClientModel();\r\n          deleteClientModel.setId(&quot;100&quot;);\r\n   \r\n          mvc.perform( MockMvcRequestBuilders\r\n\t              .post(&quot;/delete&quot;)\r\n\t              .content(asJsonString(deleteClientModel))\r\n\t              .contentType(MediaType.APPLICATION_JSON)\r\n\t              .accept(MediaType.APPLICATION_JSON))\r\n                  .andExpect(status().isOk())\r\n         }\r\n\r\n        public static String asJsonString(final Object obj) {\r\n          try {\r\n             return new ObjectMapper().writeValueAsString(obj);\r\n          } catch (Exception e) {\r\n             throw new RuntimeException(e);\r\n          }\r\n        }\r\n     }\r\n\r\n\r\nHope this helped :)","title":"How to test Delete method in controller with Mockito","body":"<p>You can use MockMvcRequestBuilder to run controller tests in springboot as below</p>\n<p>include the gradle dependency,\n<code>testCompile('org.springframework.boot:spring-boot-starter-test')</code></p>\n<pre><code> @WebMvcTest(ClientController.class)\n public class TestClientController {\n\n    @Autowired\n    private MockMvc mvc;\n\n    @Test\n    public void ClientController_deleteClient() throws Exception \n    {\n      DeleteClientModel deleteClientModel = new DeleteClientModel();\n      deleteClientModel.setId(&quot;100&quot;);\n\n      mvc.perform( MockMvcRequestBuilders\n              .post(&quot;/delete&quot;)\n              .content(asJsonString(deleteClientModel))\n              .contentType(MediaType.APPLICATION_JSON)\n              .accept(MediaType.APPLICATION_JSON))\n              .andExpect(status().isOk())\n     }\n\n    public static String asJsonString(final Object obj) {\n      try {\n         return new ObjectMapper().writeValueAsString(obj);\n      } catch (Exception e) {\n         throw new RuntimeException(e);\n      }\n    }\n }\n</code></pre>\n<p>Hope this helped :)</p>\n"}],"owner":{"account_id":11757171,"reputation":13,"user_id":8604495,"display_name":"Karlz-Bandz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675011435,"creation_date":1674039950,"question_id":75158265,"body_markdown":"I don&#39;t know how to create the unit test for my controller with Delete Method. \r\n\r\n//Controller class\r\n\r\n```\r\n@PostMapping(&quot;delete&quot;)\r\n    public ResponseEntity&lt;Void&gt; deleteClient(@RequestBody DeleteClientModel deleteClientModel){\r\n        clientService.deleteClientById(deleteClientModel.getId());\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n    }\r\n```\r\n//Service class\r\n\r\n\r\n```\r\n public void deleteClientById(int id) {\r\n        clientRepository.deleteById(id);\r\n    }\r\n```\r\n\r\nAs you can see the method doesn&#39;t return anything so that&#39;s why I don&#39;t know how to test the controller class. Please help me\r\n\r\n\r\nHere&#39;s a test\r\n\r\n \r\n```\r\n@Test\r\n    public void ClientController_deleteClient() throws Exception{\r\n        ???\r\n    }\r\n```\r\n","title":"How to test Delete method in controller with Mockito","body":"<p>I don't know how to create the unit test for my controller with Delete Method.</p>\n<p>//Controller class</p>\n<pre><code>@PostMapping(&quot;delete&quot;)\n    public ResponseEntity&lt;Void&gt; deleteClient(@RequestBody DeleteClientModel deleteClientModel){\n        clientService.deleteClientById(deleteClientModel.getId());\n        return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n    }\n</code></pre>\n<p>//Service class</p>\n<pre><code> public void deleteClientById(int id) {\n        clientRepository.deleteById(id);\n    }\n</code></pre>\n<p>As you can see the method doesn't return anything so that's why I don't know how to test the controller class. Please help me</p>\n<p>Here's a test</p>\n<pre><code>@Test\n    public void ClientController_deleteClient() throws Exception{\n        ???\n    }\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1674960355,"post_id":75267868,"comment_id":132824945,"body_markdown":"Please read [ask], especially the part about [mcve] (MCVE). Take the code you are using, reduce it to an MCVE, and then post that code, properly formatted. Post the full error message, properly formatted, and indicate on which line the error is occurring. Post the relevant HTML, also properly formatted.","body":"Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, especially the part about <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (MCVE). Take the code you are using, reduce it to an MCVE, and then post that code, properly formatted. Post the full error message, properly formatted, and indicate on which line the error is occurring. Post the relevant HTML, also properly formatted."},{"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"score":0,"creation_date":1674965652,"post_id":75267868,"comment_id":132825357,"body_markdown":"Post the URL, full code you&#39;ve tried and explain your issue clearly.","body":"Post the URL, full code you&#39;ve tried and explain your issue clearly."}],"owner":{"account_id":27479156,"reputation":13,"user_id":20966566,"display_name":"Karen M"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675011023,"creation_date":1674911179,"question_id":75267868,"body_markdown":"I am using below code to swap the webelement:\r\n\r\n    JavascriptExecutor js = (JavascriptExecutor) driver;\r\n    js.executeScript(&quot;arguments[0].setAttribute(&#39;style&#39;, &#39;position: absolute; left: &quot; + location2.getX() + &quot;px; top: &quot; + location2.getY() + &quot;px;&#39;);&quot;, element1);\r\n    js.executeScript(&quot;arguments[0].setAttribute(&#39;style&#39;, &#39;position: absolute; left: &quot; + location1.getX() + &quot;px; top: &quot; + location1.getY() + &quot;px;&#39;);&quot;, element2);\r\n\r\nIt&#39;s working fine, but problem how to validate swapping done or not? If I use locations using **Point** class then \r\n\r\n    Point location1 = element1.getLocation();\r\n    Point location2 = element2.getLocation();\r\n    //swapping code placed here\r\n    Point newLocation1 = element1.getLocation();\r\n\tPoint newLocation2 = element2.getLocation();\r\n\r\nThen location1 matches with newLocation2 perfectly but location2 **not matching** with newLocation1 so this `if` condition always fails:\r\n\r\n    if((location1.equals(newLocation2) &amp;&amp; (location2.equals(newLocation2)){\r\n        System.Out.Println(&quot;Swapping done&quot;);\r\n    }","title":"How to validate swapping of webelements?","body":"<p>I am using below code to swap the webelement:</p>\n<pre><code>JavascriptExecutor js = (JavascriptExecutor) driver;\njs.executeScript(&quot;arguments[0].setAttribute('style', 'position: absolute; left: &quot; + location2.getX() + &quot;px; top: &quot; + location2.getY() + &quot;px;');&quot;, element1);\njs.executeScript(&quot;arguments[0].setAttribute('style', 'position: absolute; left: &quot; + location1.getX() + &quot;px; top: &quot; + location1.getY() + &quot;px;');&quot;, element2);\n</code></pre>\n<p>It's working fine, but problem how to validate swapping done or not? If I use locations using <strong>Point</strong> class then</p>\n<pre><code>Point location1 = element1.getLocation();\nPoint location2 = element2.getLocation();\n//swapping code placed here\nPoint newLocation1 = element1.getLocation();\nPoint newLocation2 = element2.getLocation();\n</code></pre>\n<p>Then location1 matches with newLocation2 perfectly but location2 <strong>not matching</strong> with newLocation1 so this <code>if</code> condition always fails:</p>\n<pre><code>if((location1.equals(newLocation2) &amp;&amp; (location2.equals(newLocation2)){\n    System.Out.Println(&quot;Swapping done&quot;);\n}\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1674995302,"post_id":75274818,"comment_id":132828937,"body_markdown":"Variable names have to be known at compile time. If you need to link data to a key, use a `Map` instead","body":"Variable names have to be known at compile time. If you need to link data to a key, use a <code>Map</code> instead"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1674995622,"post_id":75274818,"comment_id":132828995,"body_markdown":"You already are using the answer - arrays. Your snippet is unclear; is `players` larger than 2 - this code selects 2 players out of the many players in `players`?","body":"You already are using the answer - arrays. Your snippet is unclear; is <code>players</code> larger than 2 - this code selects 2 players out of the many players in <code>players</code>?"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1674995855,"post_id":75274818,"comment_id":132829039,"body_markdown":"Why are you using an array? Use a collection (eg a List) in preference to an array. Collections are so much easier to work with. I only use arrays on exceedingly rare occasions - call it &quot;never&quot;.","body":"Why are you using an array? Use a collection (eg a List) in preference to an array. Collections are so much easier to work with. I only use arrays on exceedingly rare occasions - call it &quot;never&quot;."},{"owner":{"account_id":27648820,"reputation":1,"user_id":21104170,"display_name":"Lam598"},"score":0,"creation_date":1674997188,"post_id":75274818,"comment_id":132829267,"body_markdown":"@Bohemian cause that&#39;s an exercise from a textbook I read lol... The question was assigned using `Players` array. And I was supposed to find several top level `players`.","body":"@Bohemian cause that&#39;s an exercise from a textbook I read lol... The question was assigned using <code>Players</code> array. And I was supposed to find several top level <code>players</code>."},{"owner":{"account_id":27648820,"reputation":1,"user_id":21104170,"display_name":"Lam598"},"score":0,"creation_date":1674997783,"post_id":75274818,"comment_id":132829376,"body_markdown":"@rzwitserloot `players` is a rather long array. In the snippet I am looking for a way to find only the last two players in `players` that meet my condition and keep both of them tracked. Yet I failed to do so. Not to mention my original problem, tracking unknown number of Player objects through while loop. Hope I made my point clear enough now :)","body":"@rzwitserloot <code>players</code> is a rather long array. In the snippet I am looking for a way to find only the last two players in <code>players</code> that meet my condition and keep both of them tracked. Yet I failed to do so. Not to mention my original problem, tracking unknown number of Player objects through while loop. Hope I made my point clear enough now :)"},{"owner":{"account_id":27648820,"reputation":1,"user_id":21104170,"display_name":"Lam598"},"score":0,"creation_date":1674997918,"post_id":75274818,"comment_id":132829403,"body_markdown":"@knittl hey I am not asking about modifications after compile. Just wondering how to keep track of selected elements in loops.","body":"@knittl hey I am not asking about modifications after compile. Just wondering how to keep track of selected elements in loops."}],"answers":[{"comments":[{"owner":{"account_id":27648820,"reputation":1,"user_id":21104170,"display_name":"Lam598"},"score":0,"creation_date":1675133261,"post_id":75275368,"comment_id":132858811,"body_markdown":"Thanks for your solution! I think I&#39;ve got the hang of this. One more question if I may? What&#39;s the most common way to this problem in industry if I am not restricted to arrays?","body":"Thanks for your solution! I think I&#39;ve got the hang of this. One more question if I may? What&#39;s the most common way to this problem in industry if I am not restricted to arrays?"},{"owner":{"account_id":19988605,"reputation":29,"user_id":14650195,"display_name":"Samuel P&#233;rez"},"score":0,"creation_date":1675338055,"post_id":75275368,"comment_id":132909397,"body_markdown":"I&#39;m glad I helped you.\nI&#39;d rather use some implementation of java.utils.Collection, usually an ArrayList or maybe depending on the situation a HashMap","body":"I&#39;m glad I helped you. I&#39;d rather use some implementation of java.utils.Collection, usually an ArrayList or maybe depending on the situation a HashMap"}],"tags":[],"owner":{"account_id":19988605,"reputation":29,"user_id":14650195,"display_name":"Samuel P&#233;rez"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674999810,"creation_date":1674999810,"answer_id":75275368,"question_id":75274818,"body_markdown":"As already answered, variables must be known at compile time. Since you are restricted to use arrays,  I&#39;d use second array where you put those players who meet criteria, and give a name using a counter &quot;top1, top2,&quot;etc\r\n\r\n    // we&#39;ll put here those players that meet the criteria. \r\n    // since we do not know how many elements, set size at most same as original array\r\n    Player[] bestPlayers = new Player[players.length];\r\n    \r\n    // let&#39;s rank the players\r\n    int candidate = 0;\r\n    for (Player player : players) {\r\n        if (player.getLevel() &gt; 10) {\r\n            // assign a unique name\r\n            player.setName(&quot;Top &quot; + candidate);\r\n            bestPlayers[candidate] = player;\r\n            // increase counter of best players\r\n            candidate++;\r\n        }   \r\n    }\r\n\r\nYou can see a working example here:\r\n[https://www.sololearn.com/compiler-playground/c55gz69GE28O][1]\r\n\r\n\r\n  [1]: https://www.sololearn.com/compiler-playground/c55gz69GE28O","title":"How can I select values while looping and then assign them to different variables names?","body":"<p>As already answered, variables must be known at compile time. Since you are restricted to use arrays,  I'd use second array where you put those players who meet criteria, and give a name using a counter &quot;top1, top2,&quot;etc</p>\n<pre><code>// we'll put here those players that meet the criteria. \n// since we do not know how many elements, set size at most same as original array\nPlayer[] bestPlayers = new Player[players.length];\n\n// let's rank the players\nint candidate = 0;\nfor (Player player : players) {\n    if (player.getLevel() &gt; 10) {\n        // assign a unique name\n        player.setName(&quot;Top &quot; + candidate);\n        bestPlayers[candidate] = player;\n        // increase counter of best players\n        candidate++;\n    }   \n}\n</code></pre>\n<p>You can see a working example here:\n<a href=\"https://www.sololearn.com/compiler-playground/c55gz69GE28O\" rel=\"nofollow noreferrer\">https://www.sololearn.com/compiler-playground/c55gz69GE28O</a></p>\n"}],"owner":{"account_id":27648820,"reputation":1,"user_id":21104170,"display_name":"Lam598"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1675010342,"answer_count":1,"score":-1,"last_activity_date":1675010293,"creation_date":1674994772,"question_id":75274818,"body_markdown":"Here&#39;s my problem: Let&#39;s say that I have an Object array of long length, in my case it&#39;s class Player. I set up some loop to traverse through Player[] and want to find all Player objects that meet my requirements. However, the amount of result is unknown before execution and I need to assign each of the candidate elements a unique name. How can I change/iterate those variable names being assigned while looping? \r\n\r\nI recently just started learning about Java. Based on what I know so far the only solution to keep tracking them might be ArrayList or List? \r\n\r\nCan someone help me find proper solutions?\r\n\r\n\r\nHere I simplified my question in a scenario to expect only 2 candidate elements. \r\n\r\n```\r\nPlayer[] players; //this is a sorted array of players\r\nint candidateNum = 0; //this is for keeping track of the amount\r\nPlayer A; \r\nPlayer B; \r\nint index = players.length - 1; \r\n...\r\nwhile(candidateNum &lt; 2) {\r\n    if (players[index].getLevel() &gt; 10) {\r\n        Player A??? //what am I gonna do to name Player A?\r\n                    //and how should I name Player B which is coming out within next several loops?\r\n        candidate++; \r\n    }\r\n    index--; \r\n}\r\n//furthermore, what about in a case that results&#39; amount is unknown? \r\n```\r\n","title":"How can I select values while looping and then assign them to different variables names?","body":"<p>Here's my problem: Let's say that I have an Object array of long length, in my case it's class Player. I set up some loop to traverse through Player[] and want to find all Player objects that meet my requirements. However, the amount of result is unknown before execution and I need to assign each of the candidate elements a unique name. How can I change/iterate those variable names being assigned while looping?</p>\n<p>I recently just started learning about Java. Based on what I know so far the only solution to keep tracking them might be ArrayList or List?</p>\n<p>Can someone help me find proper solutions?</p>\n<p>Here I simplified my question in a scenario to expect only 2 candidate elements.</p>\n<pre><code>Player[] players; //this is a sorted array of players\nint candidateNum = 0; //this is for keeping track of the amount\nPlayer A; \nPlayer B; \nint index = players.length - 1; \n...\nwhile(candidateNum &lt; 2) {\n    if (players[index].getLevel() &gt; 10) {\n        Player A??? //what am I gonna do to name Player A?\n                    //and how should I name Player B which is coming out within next several loops?\n        candidate++; \n    }\n    index--; \n}\n//furthermore, what about in a case that results' amount is unknown? \n</code></pre>\n"},{"tags":["java","android","android-intent","browser","decode"],"answers":[{"tags":[],"owner":{"account_id":226472,"reputation":1016,"user_id":487543,"accept_rate":20,"display_name":"MengMeng"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375414280,"creation_date":1375414280,"answer_id":18008324,"question_id":18008250,"body_markdown":"i think your url1 is not a valid url. Can not decode to a valid url neither by utf8 nor GB","title":"Decode URL after redirect link","body":"<p>i think your url1 is not a valid url. Can not decode to a valid url neither by utf8 nor GB</p>\n"},{"comments":[{"owner":{"account_id":2562863,"reputation":97,"user_id":2223637,"accept_rate":27,"display_name":"anata"},"score":0,"creation_date":1375415288,"post_id":18008343,"comment_id":26335482,"body_markdown":"Here I only want to get url1 (url after redirect) to decode url1.","body":"Here I only want to get url1 (url after redirect) to decode url1."},{"owner":{"account_id":3098413,"reputation":955,"user_id":2623158,"display_name":"JBuenoJr"},"score":0,"creation_date":1375416085,"post_id":18008343,"comment_id":26335672,"body_markdown":"I&#39;m sorry, I do not understand what you are asking.","body":"I&#39;m sorry, I do not understand what you are asking."},{"owner":{"account_id":3098413,"reputation":955,"user_id":2623158,"display_name":"JBuenoJr"},"score":0,"creation_date":1375416464,"post_id":18008343,"comment_id":26335748,"body_markdown":"Try using the url1 in the code I provided in my solution. See if that resolves your problem. My url1 is different from yours.","body":"Try using the url1 in the code I provided in my solution. See if that resolves your problem. My url1 is different from yours."}],"tags":[],"owner":{"account_id":3098413,"reputation":955,"user_id":2623158,"display_name":"JBuenoJr"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375414415,"creation_date":1375414415,"answer_id":18008343,"question_id":18008250,"body_markdown":"You URL1 is not a valid URL. URLDecoder.decode(string url) is deprecated. You should use URLDecode.decode(String url, String enc) where enc is the character encoding.\r\n\r\nAlso `%` must be encoded as `%25`\r\n\r\n    public class DecodeTest\r\n    {\r\n       public static void main(String[] args)\r\n       {\r\n    \r\n          String url=&quot;http://bitake.com/params/?attribute=3&quot;;\r\n    \r\n          String url1=&quot;http://search.bitake.com/params/?attr=48%25e6%2599%2582%25e9%2596%2593%25e3%2582%25&quot;;\r\n          \r\n          try\r\n          {\r\n             System.out.println(URLDecoder.decode(url,&quot;UTF-8&quot;));\r\n             System.out.println(URLDecoder.decode(url1, &quot;UTF-8&quot;));\r\n          }\r\n          catch (UnsupportedEncodingException e)\r\n          {\r\n             e.printStackTrace();\r\n          }\r\n       }\r\n    }","title":"Decode URL after redirect link","body":"<p>You URL1 is not a valid URL. URLDecoder.decode(string url) is deprecated. You should use URLDecode.decode(String url, String enc) where enc is the character encoding.</p>\n\n<p>Also <code>%</code> must be encoded as <code>%25</code></p>\n\n<pre><code>public class DecodeTest\n{\n   public static void main(String[] args)\n   {\n\n      String url=\"http://bitake.com/params/?attribute=3\";\n\n      String url1=\"http://search.bitake.com/params/?attr=48%25e6%2599%2582%25e9%2596%2593%25e3%2582%25\";\n\n      try\n      {\n         System.out.println(URLDecoder.decode(url,\"UTF-8\"));\n         System.out.println(URLDecoder.decode(url1, \"UTF-8\"));\n      }\n      catch (UnsupportedEncodingException e)\n      {\n         e.printStackTrace();\n      }\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":2562863,"reputation":97,"user_id":2223637,"accept_rate":27,"display_name":"anata"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1762,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1675009624,"creation_date":1375413818,"question_id":18008250,"body_markdown":"I have a url1 that not be encoded\r\n\r\n    String url1=&quot;http://bitake.com/params/?attribute=3&quot;\r\n\r\nAnd here url2( url after redirect of url1) be encoded\r\n    \r\n    String url2=&quot;http://search.bitake.com/params/?attr=48%e6%99%82%e9%96%93%e3%82&quot;\r\n\r\nI use this link to open browswer with Intent\r\n\r\n    Intent browserIntent = new Intent(&quot;android.intent.action.VIEW&quot;,   \r\n                                          Uri.parse(URLDecoder.decode(url));\r\n    startActivity(browserIntent);\r\n\r\nI want to get url2 from url1 by code..Then decode url2 to can open in web\r\nHow must I do?\r\n","title":"Decode URL after redirect link","body":"<p>I have a url1 that not be encoded</p>\n\n<pre><code>String url1=\"http://bitake.com/params/?attribute=3\"\n</code></pre>\n\n<p>And here url2( url after redirect of url1) be encoded</p>\n\n<pre><code>String url2=\"http://search.bitake.com/params/?attr=48%e6%99%82%e9%96%93%e3%82\"\n</code></pre>\n\n<p>I use this link to open browswer with Intent</p>\n\n<pre><code>Intent browserIntent = new Intent(\"android.intent.action.VIEW\",   \n                                      Uri.parse(URLDecoder.decode(url));\nstartActivity(browserIntent);\n</code></pre>\n\n<p>I want to get url2 from url1 by code..Then decode url2 to can open in web\nHow must I do?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1674611428,"post_id":75228951,"comment_id":132750251,"body_markdown":"`System.out.print(&quot;\\n&quot;); ` -&gt; `System.out.println(); `","body":"<code>System.out.print(&quot;\\n&quot;); </code> -&gt; <code>System.out.println(); </code>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1674611492,"post_id":75228951,"comment_id":132750257,"body_markdown":"I&#39;d also consider looking at `String#format` and `System.out.printf` for additional formatting options","body":"I&#39;d also consider looking at <code>String#format</code> and <code>System.out.printf</code> for additional formatting options"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1674698130,"post_id":75228951,"comment_id":132772198,"body_markdown":"`n = n * 1 / 2` can be simplifed to `n /= 2`.","body":"<code>n = n * 1 &#47; 2</code> can be simplifed to <code>n &#47;= 2</code>."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674666416,"post_id":75229113,"comment_id":132764800,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75229113/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":27614169,"reputation":1,"user_id":21076596,"display_name":"TonyK"},"score":0,"creation_date":1674685333,"post_id":75229113,"comment_id":132770252,"body_markdown":"I did try that, thank you. I keep getting the same output error. whitespace differs.","body":"I did try that, thank you. I keep getting the same output error. whitespace differs."},{"owner":{"account_id":22705132,"reputation":1,"user_id":16871960,"display_name":"MAK"},"score":0,"creation_date":1674697930,"post_id":75229113,"comment_id":132772177,"body_markdown":"modified the print condition to exclude the tab for row end value and when n is 1.","body":"modified the print condition to exclude the tab for row end value and when n is 1."}],"tags":[],"owner":{"account_id":22705132,"reputation":1,"user_id":16871960,"display_name":"MAK"},"comment_count":3,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1674697870,"creation_date":1674612655,"answer_id":75229113,"question_id":75228951,"body_markdown":"try this, changed the print condition to exclude the tab for end value and when n is 1.\r\n\r\n\r\n     public static void main(String[] args) {\r\n        Scanner scnr = new Scanner(System.in);\r\n        int n;\r\n        n = scnr.nextInt();\r\n\r\n        System.out.print(n + &quot;\\t&quot;);\r\n        int count = 1;\r\n\r\n        while (n &gt; 1) {\r\n            if (n % 2 == 0) {\r\n                n = n * 1 / 2;\r\n            } else {\r\n                n = 3 * n + 1;\r\n            }\r\n            \r\n            count++;\r\n            if (count % 10 == 0) {\r\n                System.out.println(n);\r\n            }else{\r\n                if(n==1) {\r\n                    System.out.print(n);\r\n                }else{\r\n                    System.out.print(n + &quot;\\t&quot;);\r\n                }\r\n            }\r\n\r\n\r\n        }\r\n    }\r\n\r\n","title":"Issue with getting this java program to display the proper whitespace in the answer","body":"<p>try this, changed the print condition to exclude the tab for end value and when n is 1.</p>\n<pre><code> public static void main(String[] args) {\n    Scanner scnr = new Scanner(System.in);\n    int n;\n    n = scnr.nextInt();\n\n    System.out.print(n + &quot;\\t&quot;);\n    int count = 1;\n\n    while (n &gt; 1) {\n        if (n % 2 == 0) {\n            n = n * 1 / 2;\n        } else {\n            n = 3 * n + 1;\n        }\n        \n        count++;\n        if (count % 10 == 0) {\n            System.out.println(n);\n        }else{\n            if(n==1) {\n                System.out.print(n);\n            }else{\n                System.out.print(n + &quot;\\t&quot;);\n            }\n        }\n\n\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":27614169,"reputation":1,"user_id":21076596,"display_name":"TonyK"},"score":0,"creation_date":1674684407,"post_id":75231400,"comment_id":132770061,"body_markdown":"Thanks, I&#39;ll try that and see if the output changes.","body":"Thanks, I&#39;ll try that and see if the output changes."}],"tags":[],"owner":{"account_id":27413892,"reputation":186,"user_id":20913415,"display_name":"Flavian Iuga"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674635782,"creation_date":1674635782,"answer_id":75231400,"question_id":75228951,"body_markdown":"If nothing works, I guess you can trick it by just skipping the tab on the 10&#39;th print. So instead of your normal `System.out.print(n + &quot;\\t&quot;);` print try:\r\n\r\n    if ((count + 1) % 10 == 0) {\r\n      System.out.print(n);\r\n    } else {\r\n      System.out.print(n + &quot;\\t&quot;);\r\n    }\r\ninstead of your normal print.\r\n\r\n","title":"Issue with getting this java program to display the proper whitespace in the answer","body":"<p>If nothing works, I guess you can trick it by just skipping the tab on the 10'th print. So instead of your normal <code>System.out.print(n + &quot;\\t&quot;);</code> print try:</p>\n<pre><code>if ((count + 1) % 10 == 0) {\n  System.out.print(n);\n} else {\n  System.out.print(n + &quot;\\t&quot;);\n}\n</code></pre>\n<p>instead of your normal print.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675156244,"post_id":75276443,"comment_id":132862706,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75276443/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27614169,"reputation":1,"user_id":21076596,"display_name":"TonyK"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675009334,"creation_date":1675009334,"answer_id":75276443,"question_id":75228951,"body_markdown":"I figured it out, I just needed to change the order of the code a little and make (n != 1) and System.out.print(n) at the very end. Thanks for the help.","title":"Issue with getting this java program to display the proper whitespace in the answer","body":"<p>I figured it out, I just needed to change the order of the code a little and make (n != 1) and System.out.print(n) at the very end. Thanks for the help.</p>\n"}],"owner":{"account_id":27614169,"reputation":1,"user_id":21076596,"display_name":"TonyK"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1675009334,"creation_date":1674610571,"question_id":75228951,"body_markdown":"So my problem is, my output seems to be correct except it is giving me 0/10 for credit because of the whitespace after the output counts down to one in each situation. It is saying I need a newline after the one but I have tried several things and it&#39;s the same output every time.\r\n\r\n2.31 LAB: Hailstone sequence\r\nGiven a positive integer n, the following rules will always create a sequence that ends with 1, called the hailstone sequence:\r\n\r\nIf n is even, divide it by 2\r\nIf n is odd, multiply it by 3 and add 1 (i.e. 3n +1)\r\nContinue until n is 1\r\nWrite a program that reads an integer as input and prints the hailstone sequence starting with the integer entered. Format the output so that ten integers, each separated by a tab character (\\t), are printed per line.\r\n\r\nThe output format can be achieved as follows:\r\n\r\n    System.out.print(n + &quot;\\t&quot;);\r\n\r\nEx: If the input is:\r\n\r\n25\r\nthe output is:\r\n\r\n25   76   38   19   58   29   88   44   22   11 \r\n34   17   52   26   13   40   20   10   5    16 \r\n8    4    2    1\r\n\r\n\r\n\r\n    import java.util.Scanner;\r\n    \r\n     \r\n    public static void main(String[] args) {\r\n        Scanner scnr = new Scanner(System.in);\r\n        int n;\r\n        n = scnr.nextInt();\r\n\r\n        System.out.print(n + &quot;\\t&quot;);\r\n        int count = 1;\r\n\r\n        while (n &gt; 1) {\r\n            if (n % 2 == 0) {\r\n                n = n * 1 / 2;\r\n            } else {\r\n                n = 3 * n + 1;\r\n            }\r\n\r\n            System.out.print(n + &quot;\\t&quot;);\r\n            count++;\r\n\r\n            if (count % 10 == 0) {\r\n                System.out.print(&quot;\\n&quot;);\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\nThis is what I came up with and I am new to java so it is probably something I am overthinking, any thoughts would be appreciated. \r\n\r\n[&quot;enter image description here&quot; is not an image description][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aa5nU.png","title":"Issue with getting this java program to display the proper whitespace in the answer","body":"<p>So my problem is, my output seems to be correct except it is giving me 0/10 for credit because of the whitespace after the output counts down to one in each situation. It is saying I need a newline after the one but I have tried several things and it's the same output every time.</p>\n<p>2.31 LAB: Hailstone sequence\nGiven a positive integer n, the following rules will always create a sequence that ends with 1, called the hailstone sequence:</p>\n<p>If n is even, divide it by 2\nIf n is odd, multiply it by 3 and add 1 (i.e. 3n +1)\nContinue until n is 1\nWrite a program that reads an integer as input and prints the hailstone sequence starting with the integer entered. Format the output so that ten integers, each separated by a tab character (\\t), are printed per line.</p>\n<p>The output format can be achieved as follows:</p>\n<pre><code>System.out.print(n + &quot;\\t&quot;);\n</code></pre>\n<p>Ex: If the input is:</p>\n<p>25\nthe output is:</p>\n<p>25   76   38   19   58   29   88   44   22   11\n34   17   52   26   13   40   20   10   5    16\n8    4    2    1</p>\n<pre><code>import java.util.Scanner;\n\n \npublic static void main(String[] args) {\n    Scanner scnr = new Scanner(System.in);\n    int n;\n    n = scnr.nextInt();\n\n    System.out.print(n + &quot;\\t&quot;);\n    int count = 1;\n\n    while (n &gt; 1) {\n        if (n % 2 == 0) {\n            n = n * 1 / 2;\n        } else {\n            n = 3 * n + 1;\n        }\n\n        System.out.print(n + &quot;\\t&quot;);\n        count++;\n\n        if (count % 10 == 0) {\n            System.out.print(&quot;\\n&quot;);\n        }\n\n    }\n\n}\n</code></pre>\n<p>This is what I came up with and I am new to java so it is probably something I am overthinking, any thoughts would be appreciated.</p>\n<p><a href=\"https://i.stack.imgur.com/aa5nU.png\" rel=\"nofollow noreferrer\">&quot;enter image description here&quot; is not an image description</a></p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":7244757,"reputation":850,"user_id":5527079,"display_name":"Nick Wills"},"score":0,"creation_date":1692342422,"post_id":75276142,"comment_id":135612548,"body_markdown":"Same..I have issue accessing css, with same error msg as yours.  But after following the guide https://www.cnblogs.com/XH09/p/14291635.html,  now it works.  Question is , why does our solution to permitAll for the resources not working? Until now...is still a mystery","body":"Same..I have issue accessing css, with same error msg as yours.  But after following the guide <a href=\"https://www.cnblogs.com/XH09/p/14291635.html\" rel=\"nofollow noreferrer\">cnblogs.com/XH09/p/14291635.html</a>,  now it works.  Question is , why does our solution to permitAll for the resources not working? Until now...is still a mystery"}],"owner":{"account_id":27650017,"reputation":1,"user_id":21105148,"display_name":"wouris"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675009093,"creation_date":1675006552,"question_id":75276142,"body_markdown":"I would like to allow Javascript and CSS for my website, but I&#39;m getting this error\r\n\r\n&gt; The resource from “http://localhost:8080/login” was blocked due to\r\n&gt; MIME type (“text/html”) mismatch (X-Content-Type-Options: nosniff)\r\n\r\nThis is my resource folder\r\n\r\n![This is my resource folder](https://i.stack.imgur.com/Nk0in.png)\r\n\r\nI&#39;ve tried to solve the problem with this config\r\n```\r\n@Bean\r\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n    return http.csrf().disable()\r\n           .authorizeHttpRequests(req -&gt; req\r\n                .requestMatchers(&quot;/js/**&quot;, &quot;/css/**&quot;, &quot;/img/**&quot;).permitAll()\r\n                .requestMatchers(&quot;/&quot;, &quot;/login&quot;).permitAll()\r\n                .requestMatchers(&quot;/profile&quot;).hasAnyRole(&quot;USER&quot;, &quot;ADMIN&quot;).anyRequest().authenticated())\r\n           .formLogin(form -&gt; form.loginPage(&quot;/login&quot;))\r\n           .build();\r\n}\r\n```","title":"How to allow public resources with MVC and Spring Security?","body":"<p>I would like to allow Javascript and CSS for my website, but I'm getting this error</p>\n<blockquote>\n<p>The resource from “http://localhost:8080/login” was blocked due to\nMIME type (“text/html”) mismatch (X-Content-Type-Options: nosniff)</p>\n</blockquote>\n<p>This is my resource folder</p>\n<p><img src=\"https://i.stack.imgur.com/Nk0in.png\" alt=\"This is my resource folder\" /></p>\n<p>I've tried to solve the problem with this config</p>\n<pre><code>@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    return http.csrf().disable()\n           .authorizeHttpRequests(req -&gt; req\n                .requestMatchers(&quot;/js/**&quot;, &quot;/css/**&quot;, &quot;/img/**&quot;).permitAll()\n                .requestMatchers(&quot;/&quot;, &quot;/login&quot;).permitAll()\n                .requestMatchers(&quot;/profile&quot;).hasAnyRole(&quot;USER&quot;, &quot;ADMIN&quot;).anyRequest().authenticated())\n           .formLogin(form -&gt; form.loginPage(&quot;/login&quot;))\n           .build();\n}\n</code></pre>\n"},{"tags":["java","postgresql"],"comments":[{"owner":{"account_id":16597052,"reputation":1761,"user_id":11993679,"display_name":"Bjarni Ragnarsson"},"score":3,"creation_date":1675003689,"post_id":75275734,"comment_id":132830406,"body_markdown":"Postgres stores everything at timezone UTC.","body":"Postgres stores everything at timezone UTC."},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1675003964,"post_id":75275734,"comment_id":132830452,"body_markdown":"Don&#39;t include pictures of text in SO.","body":"Don&#39;t include pictures of text in SO."},{"owner":{"account_id":26664900,"reputation":316,"user_id":20277138,"display_name":"Ali Hamed"},"score":0,"creation_date":1675005360,"post_id":75275734,"comment_id":132830708,"body_markdown":"In my opinion I think you should fix the problem in the java code not in the database side (yes, every choice contains advantages and disadvantages) for many reasons:\n\nSolving the problem in java file will ensure that the date and time are stored and retrieved with the correct time zone information.\n\nHowever, if you want to solve the problem in the database side then you may face a problem doing that in the server side when you deploy the database moreover every country have deferent time zone so I think tracking, store and retrieve the data will not be in that efficiency.","body":"In my opinion I think you should fix the problem in the java code not in the database side (yes, every choice contains advantages and disadvantages) for many reasons:  Solving the problem in java file will ensure that the date and time are stored and retrieved with the correct time zone information.  However, if you want to solve the problem in the database side then you may face a problem doing that in the server side when you deploy the database moreover every country have deferent time zone so I think tracking, store and retrieve the data will not be in that efficiency."},{"owner":{"account_id":101001,"reputation":119808,"user_id":271959,"display_name":"Frank Heikens"},"score":0,"creation_date":1675006515,"post_id":75275734,"comment_id":132830950,"body_markdown":"Using TIMESTAMP WITH TIMEZONE would avoid the entire issue, just use the time zone you&#39;d like to use and you will be fine.","body":"Using TIMESTAMP WITH TIMEZONE would avoid the entire issue, just use the time zone you&#39;d like to use and you will be fine."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1675008659,"post_id":75275734,"comment_id":132831359,"body_markdown":"@BjarniRagnarsson **Incorrect.** What you say is true for columns of type `TIMESTAMP WITH TIME ZONE`. But here the Question states their use of a different type: `TIMESTAMP WITHOUT TIME ZONE`.  This latter type stores only a date and a time-of-day. No offset or time zone involved. Saying this column stores at UTC is incorrect as the concept of UTC is non-existent, irrelevant.","body":"@BjarniRagnarsson <b>Incorrect.</b> What you say is true for columns of type <code>TIMESTAMP WITH TIME ZONE</code>. But here the Question states their use of a different type: <code>TIMESTAMP WITHOUT TIME ZONE</code>.  This latter type stores only a date and a time-of-day. No offset or time zone involved. Saying this column stores at UTC is incorrect as the concept of UTC is non-existent, irrelevant."},{"owner":{"account_id":16597052,"reputation":1761,"user_id":11993679,"display_name":"Bjarni Ragnarsson"},"score":0,"creation_date":1675012945,"post_id":75275734,"comment_id":132832277,"body_markdown":"Timestamp with timezone stores only the UTC.  It doesn&#39;t store the timezone.  It accepts timezone as input and converts accordingly.","body":"Timestamp with timezone stores only the UTC.  It doesn&#39;t store the timezone.  It accepts timezone as input and converts accordingly."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1675009056,"creation_date":1675007079,"answer_id":75276197,"question_id":75275734,"body_markdown":"# Time zone implicitly applied\r\n\r\nBe aware of time zone involvement. Your line with `LocalDateTime.now()` implicitly applies the JVM’s current default time zone in capturing the current date and current time. Verify the value returned is actually what you expect; do not assume.  \r\n\r\n&gt; so that I can read the dates in the database\r\n\r\nHow exactly did you read the value stored in the database? \r\n\r\nIf you executed Java like this:\r\n\r\n    LocalDateTime ldt = myResultSet.getObject( … , LocalDateTime.class ) ;\r\n\r\n… then you will indeed get back the exact value you stored. \r\n\r\nIf, on the other hand, you used a tool like *psql* or *pgAdmin*, be aware that many such tools have an anti-feature where they **inject a current default time zone** *after* retrieval and *before* returning the value to you. The anti-feature is well-intentioned, but creates a false illusion. \r\n\r\nYou neglected to describe your exact operations. So I cannot provide a more specific explanation. If you rewrite your Question with details, I may be able to refine my Answer.  \r\n\r\n# Moment\r\n\r\nYou said:\r\n\r\n&gt; I save the current date and time of the day in a postgres database with LocalDateTime.now(). The column type is set to TIMESTAMP WITHOUT TIME ZONE\r\n\r\nDon’t. \r\n\r\nYou are using the wrong data types. \r\n\r\nYou need to change the data type in the database. And you need to change the data type in Java. \r\n\r\nI cannot imagine a scenario where calling `LocalDateTime.now()` is the right thing to do. That class cannot represent a moment, a specific point on the timeline, as the class purposely lacks the context of a time zone or offset from UTC. \r\n\r\nTo record a moment, define your column as the type `TIMESTAMP WITH TIME ZONE`. Any time zone or offset info you provide with an input is (a) used to adjust the date and the time to an offset from UTC of zero hours-minutes-seconds, (b) then discarded. So values stored and retrieved from columns of this type are *always* in UTC. \r\n\r\nCapture the current moment in Java. Notice how I passed a specific offset rather than relying implicitly on the JVM’s current default time zone. \r\n\r\n    OffsetDateTime odt = OffsetDateTime.now( ZoneOffset.UTC ) ;\r\n\r\nWrite to the database in a column of the type `TIMESTAMP WITH TIME ZONE`. \r\n\r\n    myPreparedStatement.setObject( … , odt ) ;\r\n\r\nRetrieve from the database. \r\n\r\n    OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\r\n\r\nIf need be, adjust to a particular time zone of interest. Same moment, different wall-calendar/clock. \r\n\r\n    ZoneId z = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\r\n    ZonedDateTime zdt = odt.atZoneSameInstant( z ) ; \r\n\r\nIf using tools other than your own Java code, be aware of their having a time zone injection anti-feature as discussed above. You may want to set the tool’s current default offset/zone to zero, to UTC. \r\n","title":"Why do I get 1 hour ahead of a column in postgres database?","body":"<h1>Time zone implicitly applied</h1>\n<p>Be aware of time zone involvement. Your line with <code>LocalDateTime.now()</code> implicitly applies the JVM’s current default time zone in capturing the current date and current time. Verify the value returned is actually what you expect; do not assume.</p>\n<blockquote>\n<p>so that I can read the dates in the database</p>\n</blockquote>\n<p>How exactly did you read the value stored in the database?</p>\n<p>If you executed Java like this:</p>\n<pre><code>LocalDateTime ldt = myResultSet.getObject( … , LocalDateTime.class ) ;\n</code></pre>\n<p>… then you will indeed get back the exact value you stored.</p>\n<p>If, on the other hand, you used a tool like <em>psql</em> or <em>pgAdmin</em>, be aware that many such tools have an anti-feature where they <strong>inject a current default time zone</strong> <em>after</em> retrieval and <em>before</em> returning the value to you. The anti-feature is well-intentioned, but creates a false illusion.</p>\n<p>You neglected to describe your exact operations. So I cannot provide a more specific explanation. If you rewrite your Question with details, I may be able to refine my Answer.</p>\n<h1>Moment</h1>\n<p>You said:</p>\n<blockquote>\n<p>I save the current date and time of the day in a postgres database with LocalDateTime.now(). The column type is set to TIMESTAMP WITHOUT TIME ZONE</p>\n</blockquote>\n<p>Don’t.</p>\n<p>You are using the wrong data types.</p>\n<p>You need to change the data type in the database. And you need to change the data type in Java.</p>\n<p>I cannot imagine a scenario where calling <code>LocalDateTime.now()</code> is the right thing to do. That class cannot represent a moment, a specific point on the timeline, as the class purposely lacks the context of a time zone or offset from UTC.</p>\n<p>To record a moment, define your column as the type <code>TIMESTAMP WITH TIME ZONE</code>. Any time zone or offset info you provide with an input is (a) used to adjust the date and the time to an offset from UTC of zero hours-minutes-seconds, (b) then discarded. So values stored and retrieved from columns of this type are <em>always</em> in UTC.</p>\n<p>Capture the current moment in Java. Notice how I passed a specific offset rather than relying implicitly on the JVM’s current default time zone.</p>\n<pre><code>OffsetDateTime odt = OffsetDateTime.now( ZoneOffset.UTC ) ;\n</code></pre>\n<p>Write to the database in a column of the type <code>TIMESTAMP WITH TIME ZONE</code>.</p>\n<pre><code>myPreparedStatement.setObject( … , odt ) ;\n</code></pre>\n<p>Retrieve from the database.</p>\n<pre><code>OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\n</code></pre>\n<p>If need be, adjust to a particular time zone of interest. Same moment, different wall-calendar/clock.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\nZonedDateTime zdt = odt.atZoneSameInstant( z ) ; \n</code></pre>\n<p>If using tools other than your own Java code, be aware of their having a time zone injection anti-feature as discussed above. You may want to set the tool’s current default offset/zone to zero, to UTC.</p>\n"}],"owner":{"account_id":4812077,"reputation":905,"user_id":3885261,"accept_rate":61,"display_name":"Clemzd"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1675009056,"creation_date":1675003137,"question_id":75275734,"body_markdown":"I save the current date and time of the day in a postgres database with `LocalDateTime.now()`. The column type is set to `TIMESTAMP WITHOUT TIME ZONE`. When I access this data, I see that it is 1 hour ahead. I have recorded the date at **15**:18, in the database it is **14**:18.\r\n\r\nI would like this to be the local date so that I can read the dates in the database more easily.\r\n\r\nOn which side should I correct the problem? On the java side? on the database side? Should I use timezone?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/M2AUr.png","title":"Why do I get 1 hour ahead of a column in postgres database?","body":"<p>I save the current date and time of the day in a postgres database with <code>LocalDateTime.now()</code>. The column type is set to <code>TIMESTAMP WITHOUT TIME ZONE</code>. When I access this data, I see that it is 1 hour ahead. I have recorded the date at <strong>15</strong>:18, in the database it is <strong>14</strong>:18.</p>\n<p>I would like this to be the local date so that I can read the dates in the database more easily.</p>\n<p>On which side should I correct the problem? On the java side? on the database side? Should I use timezone?</p>\n"},{"tags":["java","math"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1674809672,"post_id":75255796,"comment_id":132796433,"body_markdown":"Mathematically it is floor(log10(abs(integer))) + 1 ...","body":"Mathematically it is floor(log10(abs(integer))) + 1 ..."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1674823669,"post_id":75255796,"comment_id":132800431,"body_markdown":"well .. what did you try? On this site it&#39;s _required_ that to do some research before posting (the duplicate is one of many that came up in a quick search with a general purpose search engine). Please take the tour through the how-to-ask pages ..","body":"well .. what did you try? On this site it&#39;s <i>required</i> that to do some research before posting (the duplicate is one of many that came up in a quick search with a general purpose search engine). Please take the tour through the how-to-ask pages .."}],"answers":[{"comments":[{"owner":{"account_id":10321212,"reputation":21,"user_id":7614053,"display_name":"bluaura"},"score":0,"creation_date":1675008936,"post_id":75255842,"comment_id":132831422,"body_markdown":"Correct, I did not think of the sign, thanks. You may need to check the length of the absolute value instead.","body":"Correct, I did not think of the sign, thanks. You may need to check the length of the absolute value instead."}],"tags":[],"owner":{"account_id":10321212,"reputation":21,"user_id":7614053,"display_name":"bluaura"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675008953,"creation_date":1674809637,"answer_id":75255842,"question_id":75255796,"body_markdown":"In Java, I would convert the integer to a string using the .toString() function and then use the string to determine the number of digits.\r\n\r\n    Integer digit = 10000;\r\n    Integer digitLength = abs(digit).toString().length();\r\n\r\n","title":"Digit amount in an integer","body":"<p>In Java, I would convert the integer to a string using the .toString() function and then use the string to determine the number of digits.</p>\n<pre><code>Integer digit = 10000;\nInteger digitLength = abs(digit).toString().length();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674813074,"creation_date":1674813074,"answer_id":75256432,"question_id":75255796,"body_markdown":"Another option would be to do it iteratively by dividing number by `10`, until result is `0`.\r\n```\r\nint number = ...;\r\nint count = 1;\r\nwhile ((number /= 10) != 0) {\r\n  count++;\r\n}\r\n```","title":"Digit amount in an integer","body":"<p>Another option would be to do it iteratively by dividing number by <code>10</code>, until result is <code>0</code>.</p>\n<pre><code>int number = ...;\nint count = 1;\nwhile ((number /= 10) != 0) {\n  count++;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1674817151,"post_id":75256654,"comment_id":132798562,"body_markdown":"Do you have any benchmarks to show the difference in performance between `ifs` and iterative division? Even if it faster, i can&#39;t imagine the performance increase being significant enough to justify writing large number `ifs` - what happens if the input might be a number with 100 digits for example.","body":"Do you have any benchmarks to show the difference in performance between <code>ifs</code> and iterative division? Even if it faster, i can&#39;t imagine the performance increase being significant enough to justify writing large number <code>ifs</code> - what happens if the input might be a number with 100 digits for example."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1674817219,"post_id":75256654,"comment_id":132798582,"body_markdown":"You can simplify the negative checks using `Math.abs(x)` to get the absolute value.","body":"You can simplify the negative checks using <code>Math.abs(x)</code> to get the absolute value."},{"owner":{"account_id":18605932,"reputation":11,"user_id":13559560,"display_name":"pechhenka"},"score":0,"creation_date":1674843535,"post_id":75256654,"comment_id":132807107,"body_markdown":"@Chaosfire alas, I don&#39;t have benchmarks for this, I would probably say that of course a large number of conditions are unlikely to significantly improve performance. All I can argue is that the assembler division operation for the processor is more labor-intensive than the condition","body":"@Chaosfire alas, I don&#39;t have benchmarks for this, I would probably say that of course a large number of conditions are unlikely to significantly improve performance. All I can argue is that the assembler division operation for the processor is more labor-intensive than the condition"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1674847909,"post_id":75256654,"comment_id":132808289,"body_markdown":"I meant, that in the case of possibly large inputs, many `ifs` are required and it would not be justifiable from clean code point of view.","body":"I meant, that in the case of possibly large inputs, many <code>ifs</code> are required and it would not be justifiable from clean code point of view."},{"owner":{"account_id":18605932,"reputation":11,"user_id":13559560,"display_name":"pechhenka"},"score":0,"creation_date":1674938635,"post_id":75256654,"comment_id":132822142,"body_markdown":"this would not be very much since int has a maximum number of two billion in which 10 digits, that is, it would take only ten if. Also, all the powers of ten can be entered into an array and run through them in a loop","body":"this would not be very much since int has a maximum number of two billion in which 10 digits, that is, it would take only ten if. Also, all the powers of ten can be entered into an array and run through them in a loop"}],"tags":[],"owner":{"account_id":18605932,"reputation":11,"user_id":13559560,"display_name":"pechhenka"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674843648,"creation_date":1674814376,"answer_id":75256654,"question_id":75255796,"body_markdown":"There are many ways to calculate the number of digits in a number. The main difference between them is how important performance is to you. The first way is to translate a number into a string and then take its length:\r\n\r\n    public static int countDigitsFoo(int x) {\r\n        if (x == Integer.MIN_VALUE) {\r\n            throw new RuntimeException(&quot;Cannot invert Integer.MIN_VALUE&quot;);\r\n        }\r\n        if (x &lt; 0) {\r\n            return countDigitsFoo(-x); // + 1; if you want count &#39;-&#39;\r\n        }\r\n        return Integer.toString(x).length();\r\n    }\r\n\r\nThis method is bad for everyone, except that it is easy to write. Here there is an extra allocation of memory, namely the translation of a number into a string. That with private calls to this function will hit performance very hard.\r\n\r\nThe second way. You can use integer division and sort of go by the number from right to left:\r\n\r\n    public static int countDigitsBoo(int x) {\r\n        if (x == Integer.MIN_VALUE) {\r\n            throw new RuntimeException(&quot;Cannot invert Integer.MIN_VALUE&quot;);\r\n        }\r\n        if (x &lt; 0) {\r\n            return countDigitsBoo(-x); // + 1; if you want count &#39;-&#39;\r\n        }\r\n\r\n        int count = 0;\r\n        while (x &gt; 0) {\r\n            count++;\r\n            x /= 10;\r\n        }\r\n        return count;\r\n    }\r\n\r\nbut even this method can be improved. I will not write it in full, but I will give part of the code.\r\nP.S. never use this method, it is rather another way to solve this problem, but no more\r\n\r\n    public static int countDigitsHoo(int x) {\r\n        if (x == Integer.MIN_VALUE) {\r\n            throw new RuntimeException(&quot;Cannot invert Integer.MIN_VALUE&quot;);\r\n        }\r\n        if (x &lt; 0) {\r\n            return countDigitsHoo(-x); // + 1; if you want count &#39;-&#39;\r\n        }\r\n\r\n        if (x &lt; 10) {\r\n            return 1;\r\n        }\r\n        if (x &lt; 100) {\r\n            return 2;\r\n        }\r\n        if (x &lt; 1000) {\r\n            return 3;\r\n        }\r\n\r\n        // ...\r\n\r\n        return 10;\r\n    }\r\n\r\nYou also need to decide what is the number of digits in the number. Should I count the minus sign along with this? Also, in addition, you need to add a condition on Integer.MIN_VALUE because\r\n\r\n    Integer.MIN_VALUE == -Integer.MIN_VALUE\r\n\r\nThis is due to the fact that taking a unary minus occurs by -x = ~x + 1 at the hardware level, which leads to &quot;looping&quot; on -Integer.MIN_VALUE","title":"Digit amount in an integer","body":"<p>There are many ways to calculate the number of digits in a number. The main difference between them is how important performance is to you. The first way is to translate a number into a string and then take its length:</p>\n<pre><code>public static int countDigitsFoo(int x) {\n    if (x == Integer.MIN_VALUE) {\n        throw new RuntimeException(&quot;Cannot invert Integer.MIN_VALUE&quot;);\n    }\n    if (x &lt; 0) {\n        return countDigitsFoo(-x); // + 1; if you want count '-'\n    }\n    return Integer.toString(x).length();\n}\n</code></pre>\n<p>This method is bad for everyone, except that it is easy to write. Here there is an extra allocation of memory, namely the translation of a number into a string. That with private calls to this function will hit performance very hard.</p>\n<p>The second way. You can use integer division and sort of go by the number from right to left:</p>\n<pre><code>public static int countDigitsBoo(int x) {\n    if (x == Integer.MIN_VALUE) {\n        throw new RuntimeException(&quot;Cannot invert Integer.MIN_VALUE&quot;);\n    }\n    if (x &lt; 0) {\n        return countDigitsBoo(-x); // + 1; if you want count '-'\n    }\n\n    int count = 0;\n    while (x &gt; 0) {\n        count++;\n        x /= 10;\n    }\n    return count;\n}\n</code></pre>\n<p>but even this method can be improved. I will not write it in full, but I will give part of the code.\nP.S. never use this method, it is rather another way to solve this problem, but no more</p>\n<pre><code>public static int countDigitsHoo(int x) {\n    if (x == Integer.MIN_VALUE) {\n        throw new RuntimeException(&quot;Cannot invert Integer.MIN_VALUE&quot;);\n    }\n    if (x &lt; 0) {\n        return countDigitsHoo(-x); // + 1; if you want count '-'\n    }\n\n    if (x &lt; 10) {\n        return 1;\n    }\n    if (x &lt; 100) {\n        return 2;\n    }\n    if (x &lt; 1000) {\n        return 3;\n    }\n\n    // ...\n\n    return 10;\n}\n</code></pre>\n<p>You also need to decide what is the number of digits in the number. Should I count the minus sign along with this? Also, in addition, you need to add a condition on Integer.MIN_VALUE because</p>\n<pre><code>Integer.MIN_VALUE == -Integer.MIN_VALUE\n</code></pre>\n<p>This is due to the fact that taking a unary minus occurs by -x = ~x + 1 at the hardware level, which leads to &quot;looping&quot; on -Integer.MIN_VALUE</p>\n"},{"tags":[],"owner":{"account_id":27543947,"reputation":36,"user_id":21020237,"display_name":"Kavya Sree"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674818566,"creation_date":1674818566,"answer_id":75257447,"question_id":75255796,"body_markdown":"    \r\nIn this program we use a for loop without any body.\r\n\r\nOn each iteration, the value of num is divided by 10 and count is incremented by 1.\r\n\r\nThe for loop exits when num != 0 is false, i.e. num = 0.\r\n\r\nSince, for loop doesn&#39;t have a body, you can change it to a single statement in Java as such:\r\n\r\nfor(; num != 0; num/=10, ++count);\r\n\r\n\r\n    public class Main {\r\n\r\n      public static void main(String[] args) {\r\n\r\n        int count = 0, num = 123456;\r\n\r\n        for (; num != 0; num /= 10, ++count) {\r\n        }\r\n\r\n        System.out.println(&quot;Number of digits: &quot; + count);\r\n      }\r\n    }\r\n\r\n","title":"Digit amount in an integer","body":"<p>In this program we use a for loop without any body.</p>\n<p>On each iteration, the value of num is divided by 10 and count is incremented by 1.</p>\n<p>The for loop exits when num != 0 is false, i.e. num = 0.</p>\n<p>Since, for loop doesn't have a body, you can change it to a single statement in Java as such:</p>\n<p>for(; num != 0; num/=10, ++count);</p>\n<pre><code>public class Main {\n\n  public static void main(String[] args) {\n\n    int count = 0, num = 123456;\n\n    for (; num != 0; num /= 10, ++count) {\n    }\n\n    System.out.println(&quot;Number of digits: &quot; + count);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":21755747,"reputation":7,"user_id":16061144,"display_name":"Michael Kashani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1674823436,"answer_count":4,"score":-1,"last_activity_date":1675008953,"creation_date":1674809320,"question_id":75255796,"body_markdown":"How can I find the amount of digits in an integer? Mathematically, and by using functions if there are any.\r\n\r\nI don&#39;t really know how to do that, since I&#39;m a somewhat beginner.","title":"Digit amount in an integer","body":"<p>How can I find the amount of digits in an integer? Mathematically, and by using functions if there are any.</p>\n<p>I don't really know how to do that, since I'm a somewhat beginner.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","axios"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1675004486,"post_id":75275798,"comment_id":132830535,"body_markdown":"And where are your console logs and your spring boot debug logs because i assume you read them before you asked here. Voted to close missing all debugging information","body":"And where are your console logs and your spring boot debug logs because i assume you read them before you asked here. Voted to close missing all debugging information"},{"owner":{"account_id":19066690,"reputation":19,"user_id":13921660,"display_name":"Yassine"},"score":0,"creation_date":1675004874,"post_id":75275798,"comment_id":132830603,"body_markdown":"For the logs since there wasn&#39;t anything special, I forgot to mention them, but I&#39;m getting the normal spring/hibernate logs that you get when there is no error or warning, so a basic select query","body":"For the logs since there wasn&#39;t anything special, I forgot to mention them, but I&#39;m getting the normal spring/hibernate logs that you get when there is no error or warning, so a basic select query"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1675005380,"post_id":75275798,"comment_id":132830711,"body_markdown":"@Yassine please fix your question as it is unclear. The postman picture claiming to be working is for another url `/register` while the react app fails for another url `authenticate`. This is misleading info to understand what is happening","body":"@Yassine please fix your question as it is unclear. The postman picture claiming to be working is for another url <code>&#47;register</code> while the react app fails for another url <code>authenticate</code>. This is misleading info to understand what is happening"},{"owner":{"account_id":19066690,"reputation":19,"user_id":13921660,"display_name":"Yassine"},"score":0,"creation_date":1675006142,"post_id":75275798,"comment_id":132830867,"body_markdown":"Thanks for notifying me about the screen shot, I used the wrong file by accident, as for the problem when trying to access  `/api/v1/auth/authenticate` using axios it returns a 403 error this seems to only apply to post methods, and can&#39;t be replicated using postman, hope this explains it more clearly since English isn&#39;t my first language","body":"Thanks for notifying me about the screen shot, I used the wrong file by accident, as for the problem when trying to access  <code>&#47;api&#47;v1&#47;auth&#47;authenticate</code> using axios it returns a 403 error this seems to only apply to post methods, and can&#39;t be replicated using postman, hope this explains it more clearly since English isn&#39;t my first language"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1675094651,"post_id":75275798,"comment_id":132849505,"body_markdown":"Always include logs, i dont ask for debug logs to get your interpretation of the logs. I ask because i want to see what is actually happening. Always include logs in every future question and people will stop asking for them.","body":"Always include logs, i dont ask for debug logs to get your interpretation of the logs. I ask because i want to see what is actually happening. Always include logs in every future question and people will stop asking for them."}],"answers":[{"comments":[{"owner":{"account_id":19066690,"reputation":19,"user_id":13921660,"display_name":"Yassine"},"score":0,"creation_date":1675009353,"post_id":75276349,"comment_id":132831509,"body_markdown":"Just tried it, didn&#39;t work at first, but after modifying it to ` axios.post(session_url, {\n                &quot;email&quot;:&quot;TimApple@uir.ac.ma&quot;,\n                &quot;password&quot;:&quot;test&quot;\n            }\n        ).then(function(response) {\n            console.log(JSON.stringify(response. Data));` it seems to work now, thank you so much","body":"Just tried it, didn&#39;t work at first, but after modifying it to ` axios.post(session_url, {                 &quot;email&quot;:&quot;TimApple@uir.ac.ma&quot;,                 &quot;password&quot;:&quot;test&quot;             }         ).then(function(response) {             console.log(JSON.stringify(response. Data));` it seems to work now, thank you so much"}],"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675008583,"creation_date":1675008583,"answer_id":75276349,"question_id":75275798,"body_markdown":"Your postman call which works has the following request body sent\r\n\r\n   [![enter image description here][1]][1]\r\n\r\n\r\nThis means you need to adapt your react code into\r\n\r\n        let username = &#39;notAnEmail@gmail.com&#39;;\r\n        let password = &#39;notAPassword&#39;;\r\n\r\n        let requestBody = { email: username, password: password};  // &lt;--------\r\n\r\n        axios.post(session_url, requestBody  // &lt;----------\r\n        ).then(function(response) {\r\n\r\n        .....\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MDEY5.png","title":"Spring Security 6.0 returns a 403 error when called using a post request with axios but works fine in postman","body":"<p>Your postman call which works has the following request body sent</p>\n<p><a href=\"https://i.stack.imgur.com/MDEY5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MDEY5.png\" alt=\"enter image description here\" /></a></p>\n<p>This means you need to adapt your react code into</p>\n<pre><code>    let username = 'notAnEmail@gmail.com';\n    let password = 'notAPassword';\n\n    let requestBody = { email: username, password: password};  // &lt;--------\n\n    axios.post(session_url, requestBody  // &lt;----------\n    ).then(function(response) {\n\n    .....\n</code></pre>\n"}],"owner":{"account_id":19066690,"reputation":19,"user_id":13921660,"display_name":"Yassine"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":544,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1675010567,"accepted_answer_id":75276349,"answer_count":1,"score":0,"last_activity_date":1675008583,"creation_date":1675003837,"question_id":75275798,"body_markdown":"I&#39;m trying to get back my JWT token from spring security after Auth request, works perfectly fine in postman and generates a token, but when I try Calling it using React axios, I get a 403 Response, this problem only happens with post requests.\r\n\r\nServer: Spring Boot localhost:8080\r\n\r\nWeb: React.js + Axios localhost:3000\r\n\r\nSpring security CORS config:\r\n\r\n```\r\n @Bean\r\n    CorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration configuration = new CorsConfiguration();\r\n        configuration.setAllowedOrigins(Arrays.asList(&quot;http://localhost:3000&quot;));\r\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;));\r\n        configuration.setAllowedHeaders(Arrays.asList(&quot;Origin&quot;, &quot;Access-Control-Allow-Origin&quot;, &quot;Content-Type&quot;,\r\n                &quot;Accept&quot;, &quot;Authorization&quot;, &quot;Origin, Accept&quot;, &quot;X-Requested-With&quot;,\r\n                &quot;Access-Control-Request-Method&quot;, &quot;Access-Control-Request-Headers&quot;));\r\n        configuration.setExposedHeaders(Arrays.asList(&quot;Origin&quot;, &quot;Content-Type&quot;, &quot;Accept&quot;, &quot;Authorization&quot;,\r\n                &quot;Access-Control-Allow-Origin&quot;, &quot;Access-Control-Allow-Origin&quot;, &quot;Access-Control-Allow-Credentials&quot;));\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n        return source;\r\n    }\r\n```\r\n\r\nSprig Controllers in question:\r\n\r\n```\r\n    @PostMapping(&quot;/authenticate&quot;)\r\n    public ResponseEntity&lt;AuthenticationResponse&gt; authenticate(\r\n            @RequestBody AuthenticationRequest request\r\n    ) {\r\n        return ResponseEntity.ok(service.authenticate(request));\r\n    }\r\n\r\n    @GetMapping(&quot;/hi&quot;)\r\n    public ResponseEntity&lt;String&gt; hi(){\r\n        return ResponseEntity.ok(&quot;hi&quot;); //just to test\r\n    }\r\n```\r\n\r\nMy axios Function:\r\n\r\n```\r\n const sendLoginRequest = (e) =&gt;{\r\n        e.preventDefault()\r\n        let session_url = &#39;http://localhost:8080/api/v1/auth/authenticate&#39;;\r\n        let username = &#39;notAnEmail@gmail.com&#39;;\r\n        let password = &#39;notAPassword&#39;;\r\n\r\n        axios.post(session_url, {username,password}\r\n        ).then(function(response) {\r\n            console.log(&#39;Authenticated: &#39;+response.data);\r\n        }).catch(function(error) {\r\n            console.log(&#39;Error on Authentication&#39;);\r\n        });\r\n\r\n        axios.get(&quot;http://localhost:8080/api/v1/auth/hi&quot;)\r\n            .then(res =&gt; console.log(res.data))\r\n    }\r\n```\r\n\r\nHere is the response in localhost:3000\r\n[403 Error for post request](https://i.stack.imgur.com/qGyaN.png)\r\n[Get works fine](https://i.stack.imgur.com/lc9WJ.png)\r\n\r\nConsole Logs:\r\n[Spring console logs][1]\r\n\r\nPostman for comparaison:\r\n[Postman Results for comparison][2]\r\n\r\nI know there is a very similar thread to this but none of the answers there worked for me\r\n\r\nI&#39;ve tried multiple solution from rewriting my spring security configs multiple times, to all of the changes recommended in other posts such as setting `setAllowedOrigins(Arrays.asList(&quot;http://localhost&quot;))` but that just gave a new error \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mcX6a.png\r\n  [2]: https://i.stack.imgur.com/wg0hk.png","title":"Spring Security 6.0 returns a 403 error when called using a post request with axios but works fine in postman","body":"<p>I'm trying to get back my JWT token from spring security after Auth request, works perfectly fine in postman and generates a token, but when I try Calling it using React axios, I get a 403 Response, this problem only happens with post requests.</p>\n<p>Server: Spring Boot localhost:8080</p>\n<p>Web: React.js + Axios localhost:3000</p>\n<p>Spring security CORS config:</p>\n<pre><code> @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(Arrays.asList(&quot;http://localhost:3000&quot;));\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;));\n        configuration.setAllowedHeaders(Arrays.asList(&quot;Origin&quot;, &quot;Access-Control-Allow-Origin&quot;, &quot;Content-Type&quot;,\n                &quot;Accept&quot;, &quot;Authorization&quot;, &quot;Origin, Accept&quot;, &quot;X-Requested-With&quot;,\n                &quot;Access-Control-Request-Method&quot;, &quot;Access-Control-Request-Headers&quot;));\n        configuration.setExposedHeaders(Arrays.asList(&quot;Origin&quot;, &quot;Content-Type&quot;, &quot;Accept&quot;, &quot;Authorization&quot;,\n                &quot;Access-Control-Allow-Origin&quot;, &quot;Access-Control-Allow-Origin&quot;, &quot;Access-Control-Allow-Credentials&quot;));\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return source;\n    }\n</code></pre>\n<p>Sprig Controllers in question:</p>\n<pre><code>    @PostMapping(&quot;/authenticate&quot;)\n    public ResponseEntity&lt;AuthenticationResponse&gt; authenticate(\n            @RequestBody AuthenticationRequest request\n    ) {\n        return ResponseEntity.ok(service.authenticate(request));\n    }\n\n    @GetMapping(&quot;/hi&quot;)\n    public ResponseEntity&lt;String&gt; hi(){\n        return ResponseEntity.ok(&quot;hi&quot;); //just to test\n    }\n</code></pre>\n<p>My axios Function:</p>\n<pre><code> const sendLoginRequest = (e) =&gt;{\n        e.preventDefault()\n        let session_url = 'http://localhost:8080/api/v1/auth/authenticate';\n        let username = 'notAnEmail@gmail.com';\n        let password = 'notAPassword';\n\n        axios.post(session_url, {username,password}\n        ).then(function(response) {\n            console.log('Authenticated: '+response.data);\n        }).catch(function(error) {\n            console.log('Error on Authentication');\n        });\n\n        axios.get(&quot;http://localhost:8080/api/v1/auth/hi&quot;)\n            .then(res =&gt; console.log(res.data))\n    }\n</code></pre>\n<p>Here is the response in localhost:3000\n<a href=\"https://i.stack.imgur.com/qGyaN.png\" rel=\"nofollow noreferrer\">403 Error for post request</a>\n<a href=\"https://i.stack.imgur.com/lc9WJ.png\" rel=\"nofollow noreferrer\">Get works fine</a></p>\n<p>Console Logs:\n<a href=\"https://i.stack.imgur.com/mcX6a.png\" rel=\"nofollow noreferrer\">Spring console logs</a></p>\n<p>Postman for comparaison:\n<a href=\"https://i.stack.imgur.com/wg0hk.png\" rel=\"nofollow noreferrer\">Postman Results for comparison</a></p>\n<p>I know there is a very similar thread to this but none of the answers there worked for me</p>\n<p>I've tried multiple solution from rewriting my spring security configs multiple times, to all of the changes recommended in other posts such as setting <code>setAllowedOrigins(Arrays.asList(&quot;http://localhost&quot;))</code> but that just gave a new error</p>\n"},{"tags":["java","size","awt","textfield","frame"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1675012126,"post_id":75276324,"comment_id":132832095,"body_markdown":"Use Swing. Swing components start with a &quot;J&quot;. JLabel, JTextField etc. Then when you create the JtextField you use something like `new JTextField(10)` to create a text field to hold about 10 characters.","body":"Use Swing. Swing components start with a &quot;J&quot;. JLabel, JTextField etc. Then when you create the JtextField you use something like <code>new JTextField(10)</code> to create a text field to hold about 10 characters."},{"owner":{"account_id":24709581,"reputation":13,"user_id":18599934,"display_name":"Jun"},"score":0,"creation_date":1675131382,"post_id":75276324,"comment_id":132858551,"body_markdown":"Thank you for your replying! I added 10 next to TextField and it worked. Looks better than before! And yes I&#39;ll work on Swing, too. Thank you!","body":"Thank you for your replying! I added 10 next to TextField and it worked. Looks better than before! And yes I&#39;ll work on Swing, too. Thank you!"}],"owner":{"account_id":24709581,"reputation":13,"user_id":18599934,"display_name":"Jun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675008362,"creation_date":1675008362,"question_id":75276324,"body_markdown":"Currently, I&#39;m working on java Frame. I have an issue with making the size of the textfield bigger since I can&#39;t really see what I typed. I used command+a, then copied and pasted what I typed in another textarea, and it showed as I typed. However, I want to make my textfield bigger. Please let me know what I can do.\r\n\r\nThis is main class.\r\n\r\n```\r\npublic static void main(String[]args)\r\n    {\r\n        Frame f = new Frame(&quot;This is practice title bar!&quot;);\r\n        f.addWindowListener(new ExitListener());\r\n        f.setLayout(new GridLayout(2,1,20,20));\r\n\r\n        Panel myPanel = new Panel();\r\n        myPanel.setLayout(new GridLayout(3,3,20,20));\r\n        Label lName = new Label(&quot;Name&quot;);\r\n        lName.setAlignment(Label.CENTER);\r\n        myPanel.add(lName);\r\n        Label lAge = new Label(&quot;Age&quot;);\r\n        lAge.setAlignment(Label.CENTER);\r\n        myPanel.add(lAge);\r\n        Label lWeight = new Label(&quot;Weight&quot;);\r\n        lWeight.setAlignment(Label.CENTER);\r\n        myPanel.add(lWeight);\r\n        TextField tfName = new TextField();\r\n        myPanel.add(tfName);\r\n        TextField tfAge = new TextField();\r\n        myPanel.add(tfAge);\r\n        kgPanel kp = new kgPanel();\r\n        myPanel.add(kp);\r\n        Label empty = new Label(&quot;&quot;);\r\n        myPanel.add(empty);\r\n        Button addBtn = new Button(&quot;Add&quot;);\r\n        addBtn.addActionListener(new UserActionListener());\r\n        myPanel.add(addBtn);\r\n        Label empty2 = new Label(&quot;&quot;);\r\n        myPanel.add(empty2);\r\n        f.add(myPanel);\r\n\r\n        TextArea ta = new TextArea();\r\n        f.add(ta);\r\n\r\n        f.pack();\r\n        f.setSize(500,500);\r\n        f.setVisible(true);\r\n    }\r\n```\r\n\r\nThis is kgPanel class.\r\n\r\n```\r\nimport java.awt.*;\r\n\r\npublic class kgPanel extends Panel\r\n{\r\n    public TextField weightTf = null;\r\n    public Label measurement = null;\r\n    public kgPanel()\r\n    {\r\n        tfAndKg();\r\n    }\r\n    public kgPanel(LayoutManager layout)\r\n    {\r\n        super(layout);\r\n        tfAndKg();\r\n    }\r\n    public void tfAndKg()\r\n    {\r\n        weightTf = new TextField();\r\n        add(weightTf);\r\n        measurement = new Label(&quot;kg&quot;);\r\n        add(measurement);\r\n    }\r\n}\r\n```\r\n[![enter image description here][1]][1]\r\nAnd the image is a result. Please let me know which part should I edit to make my textfield bigger.\r\n\r\nThank you\r\n\r\nI tried to use\r\n\r\n&gt; weightTf.setSize()\r\n\r\nand\r\n\r\n&gt; weightTf.setBounds()\r\n\r\nbut didn&#39;t work.\r\n\r\nPlease help me.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/v9KRC.png","title":"Java AWT TextField Size Issue","body":"<p>Currently, I'm working on java Frame. I have an issue with making the size of the textfield bigger since I can't really see what I typed. I used command+a, then copied and pasted what I typed in another textarea, and it showed as I typed. However, I want to make my textfield bigger. Please let me know what I can do.</p>\n<p>This is main class.</p>\n<pre><code>public static void main(String[]args)\n    {\n        Frame f = new Frame(&quot;This is practice title bar!&quot;);\n        f.addWindowListener(new ExitListener());\n        f.setLayout(new GridLayout(2,1,20,20));\n\n        Panel myPanel = new Panel();\n        myPanel.setLayout(new GridLayout(3,3,20,20));\n        Label lName = new Label(&quot;Name&quot;);\n        lName.setAlignment(Label.CENTER);\n        myPanel.add(lName);\n        Label lAge = new Label(&quot;Age&quot;);\n        lAge.setAlignment(Label.CENTER);\n        myPanel.add(lAge);\n        Label lWeight = new Label(&quot;Weight&quot;);\n        lWeight.setAlignment(Label.CENTER);\n        myPanel.add(lWeight);\n        TextField tfName = new TextField();\n        myPanel.add(tfName);\n        TextField tfAge = new TextField();\n        myPanel.add(tfAge);\n        kgPanel kp = new kgPanel();\n        myPanel.add(kp);\n        Label empty = new Label(&quot;&quot;);\n        myPanel.add(empty);\n        Button addBtn = new Button(&quot;Add&quot;);\n        addBtn.addActionListener(new UserActionListener());\n        myPanel.add(addBtn);\n        Label empty2 = new Label(&quot;&quot;);\n        myPanel.add(empty2);\n        f.add(myPanel);\n\n        TextArea ta = new TextArea();\n        f.add(ta);\n\n        f.pack();\n        f.setSize(500,500);\n        f.setVisible(true);\n    }\n</code></pre>\n<p>This is kgPanel class.</p>\n<pre><code>import java.awt.*;\n\npublic class kgPanel extends Panel\n{\n    public TextField weightTf = null;\n    public Label measurement = null;\n    public kgPanel()\n    {\n        tfAndKg();\n    }\n    public kgPanel(LayoutManager layout)\n    {\n        super(layout);\n        tfAndKg();\n    }\n    public void tfAndKg()\n    {\n        weightTf = new TextField();\n        add(weightTf);\n        measurement = new Label(&quot;kg&quot;);\n        add(measurement);\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/v9KRC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v9KRC.png\" alt=\"enter image description here\" /></a>\nAnd the image is a result. Please let me know which part should I edit to make my textfield bigger.</p>\n<p>Thank you</p>\n<p>I tried to use</p>\n<blockquote>\n<p>weightTf.setSize()</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>weightTf.setBounds()</p>\n</blockquote>\n<p>but didn't work.</p>\n<p>Please help me.</p>\n"},{"tags":["java","android","android-studio"],"owner":{"account_id":27471919,"reputation":57,"user_id":20960654,"display_name":"Marfog509"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675008232,"creation_date":1675008038,"question_id":75276289,"body_markdown":"I am trying to add a rate app button to my app but my app will first send the user to the app page and when I back out and go back to my app only then does it give the user the option to select what app store he wants to use &quot;open with &quot;galaxy store, google play store etc.&quot;&quot;. How do I fix this problem and allow the user first to choose the store he wants to use and then send him to the page?\r\n\r\nThis is the code that I currently have that is responsible for this task, which is located in the MainActivity.java. Also I am using android studio to develop this app.\r\n\r\n     @Override\r\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n        switch (item.getItemId()) {\r\n            case R.id.nav_thumb:\r\n            startActivity(new Intent(Intent.ACTION_VIEW,\r\n                    Uri.parse(&quot;market://details?id=&quot; + this.getPackageName())));\r\n            startActivity(new Intent(Intent.ACTION_VIEW,\r\n                    Uri.parse(&quot;http://play.google.com/store/apps/details?id=&quot; + this.getPackageName())));\r\n                break;\r\n        }\r\n        drawerLayout.closeDrawer(GravityCompat.START);\r\n        return true;\r\n\r\n    }","title":"How do I fix my navigationItemSeleted from pop-up tab coming up after window has opened up in app in android studios","body":"<p>I am trying to add a rate app button to my app but my app will first send the user to the app page and when I back out and go back to my app only then does it give the user the option to select what app store he wants to use &quot;open with &quot;galaxy store, google play store etc.&quot;&quot;. How do I fix this problem and allow the user first to choose the store he wants to use and then send him to the page?</p>\n<p>This is the code that I currently have that is responsible for this task, which is located in the MainActivity.java. Also I am using android studio to develop this app.</p>\n<pre><code> @Override\npublic boolean onNavigationItemSelected(@NonNull MenuItem item) {\n    switch (item.getItemId()) {\n        case R.id.nav_thumb:\n        startActivity(new Intent(Intent.ACTION_VIEW,\n                Uri.parse(&quot;market://details?id=&quot; + this.getPackageName())));\n        startActivity(new Intent(Intent.ACTION_VIEW,\n                Uri.parse(&quot;http://play.google.com/store/apps/details?id=&quot; + this.getPackageName())));\n            break;\n    }\n    drawerLayout.closeDrawer(GravityCompat.START);\n    return true;\n\n}\n</code></pre>\n"},{"tags":["java","excel","vert.x","data-processing","data-export"],"owner":{"account_id":24962460,"reputation":33,"user_id":18826295,"display_name":"dgvain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675007895,"creation_date":1675007895,"question_id":75276270,"body_markdown":"We have Java Vert.x project. We have implemented the download button in our Web Service for our users. When user clicks on download button, we would convert the huge data in our database that the user asked for, to excel file, then upload it in AWS S3 and then the URL from the S3 would be sent in response to the user&#39;s download request. But this whole method takes time (Especially generating the excel file). Everything is don in backend. Please suggest better approaches than this to implement download option in the page(User has both option to download filtered or complete data that he is accessible to).","title":"Include better data export option in Web service","body":"<p>We have Java Vert.x project. We have implemented the download button in our Web Service for our users. When user clicks on download button, we would convert the huge data in our database that the user asked for, to excel file, then upload it in AWS S3 and then the URL from the S3 would be sent in response to the user's download request. But this whole method takes time (Especially generating the excel file). Everything is don in backend. Please suggest better approaches than this to implement download option in the page(User has both option to download filtered or complete data that he is accessible to).</p>\n"},{"tags":["java","variables","methods"],"comments":[{"owner":{"account_id":8703158,"reputation":174,"user_id":12756596,"display_name":"Lorenzo"},"score":0,"creation_date":1675002487,"post_id":75275652,"comment_id":132830204,"body_markdown":"You could declare the variable outside of a method.","body":"You could declare the variable outside of a method."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675156221,"post_id":75275709,"comment_id":132862699,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75275709/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":18741097,"reputation":1,"user_id":13664345,"display_name":"Willson Vulembere"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1675003067,"creation_date":1675002874,"answer_id":75275709,"question_id":75275652,"body_markdown":"To make a variable accessible in all functions of the class you can static the variable in question in the current class\r\n\r\n\r\npackage javaapplication6;\r\n\r\nimport java.util.Scanner;\r\n \r\n // @author Vulembere\r\n\r\npublic class JavaApplication6 {\r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String[] args) {\r\n        mass();\r\n        Concentration();\r\n        if (w &gt;= 0.5) {\r\n            System.out.println(&quot;You cannot drive!&quot;);\r\n        } else {\r\n            System.out.println(&quot;You can drive&quot;);\r\n\r\n        }\r\n    }\r\n\r\n    static double w;\r\n\r\n    public static void mass() {\r\n        double a, e, p, v;\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(&quot;Enter the volume: &quot;);\r\n        v = scanner.nextDouble();\r\n        p = 0.8;\r\n        System.out.println(&quot;Enter the alcohol volume:(in percents) &quot;);\r\n        e = scanner.nextDouble();\r\n        e = e / 100;\r\n        a = v * e * p;\r\n\r\n        System.out.println(&quot;mass is: &quot; + a);\r\n    }\r\n\r\n    public static void Concentration() {\r\n        double r, m;\r\n        String person;\r\n        System.out.println(&quot;Enter the person: m for male, f for female, j for teenager &quot;);\r\n        Scanner sc = new Scanner(System.in);\r\n        person = sc.nextLine();\r\n        switch (person) {\r\n            case &quot;m&quot;:\r\n                r = 0.7;\r\n                break;\r\n            case &quot;f&quot;:\r\n                r = 0.6;\r\n                break;\r\n            case &quot;j&quot;:\r\n                r = 0.5;\r\n                break;\r\n        }\r\n        System.out.println(&quot;Enter person&#39;s weight: &quot;);\r\n        m = sc.nextDouble();\r\n        //w=a/(m*r); //a from the method mass\r\n\r\n    }\r\n\r\n}\r\n","title":"Is there a way to access variables in another method?","body":"<p>To make a variable accessible in all functions of the class you can static the variable in question in the current class</p>\n<p>package javaapplication6;</p>\n<p>import java.util.Scanner;</p>\n<p>// @author Vulembere</p>\n<p>public class JavaApplication6 {</p>\n<pre><code>/**\n * @param args the command line arguments\n */\npublic static void main(String[] args) {\n    mass();\n    Concentration();\n    if (w &gt;= 0.5) {\n        System.out.println(&quot;You cannot drive!&quot;);\n    } else {\n        System.out.println(&quot;You can drive&quot;);\n\n    }\n}\n\nstatic double w;\n\npublic static void mass() {\n    double a, e, p, v;\n    Scanner scanner = new Scanner(System.in);\n    System.out.println(&quot;Enter the volume: &quot;);\n    v = scanner.nextDouble();\n    p = 0.8;\n    System.out.println(&quot;Enter the alcohol volume:(in percents) &quot;);\n    e = scanner.nextDouble();\n    e = e / 100;\n    a = v * e * p;\n\n    System.out.println(&quot;mass is: &quot; + a);\n}\n\npublic static void Concentration() {\n    double r, m;\n    String person;\n    System.out.println(&quot;Enter the person: m for male, f for female, j for teenager &quot;);\n    Scanner sc = new Scanner(System.in);\n    person = sc.nextLine();\n    switch (person) {\n        case &quot;m&quot;:\n            r = 0.7;\n            break;\n        case &quot;f&quot;:\n            r = 0.6;\n            break;\n        case &quot;j&quot;:\n            r = 0.5;\n            break;\n    }\n    System.out.println(&quot;Enter person's weight: &quot;);\n    m = sc.nextDouble();\n    //w=a/(m*r); //a from the method mass\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675004455,"creation_date":1675004455,"answer_id":75275873,"question_id":75275652,"body_markdown":"There are two kinds of variables:\r\n\r\n- local variables (block-scoped)\r\n- member variables (class/instance level scope)\r\n\r\nSee: https://www.geeksforgeeks.org/variable-scope-in-java/\r\n\r\nSo, if you want to reuse a variable accross multiple methods, then you will need to convert it from a local variable into a member variable. In your case you only use `static` methods, so `a` would be declared outside your methods as\r\n\r\n```\r\nstatic double a;\r\n```\r\n\r\nand avoid declaring it inside your `mass` method, so your declaration line would be changed to\r\n\r\n```\r\ndouble e,p,v;\r\n```\r\n\r\nNote that the `a` is missing to avoid [variable shadowing][1].\r\n\r\nYou may want to change your methods to instance-level methods, in which case you can declare `a` without the `static` keyword, depending on your plans and needs.\r\n\r\nAlso, a well-known approach is to implement [getters and setters][2] in order to make sure that whenever you get or set a value, if there are common operations, then they are implemented only once instead of [code repeating][3].\r\n\r\nBelow you see the simplest changes to your code to achieve the goal you have specified:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class program{\r\n    \r\n    static double a;\r\n    \r\n    public static void mass(){\r\n        double e,p,v;\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(&quot;Enter the volume: &quot;);\r\n        v=scanner.nextDouble();\r\n        p=0.8;\r\n        System.out.println(&quot;Enter the alcohol volume:(in percents) &quot;);\r\n        e=scanner.nextDouble();\r\n        e=e/100;\r\n        a=v*e*p;\r\n        \r\n        System.out.println(&quot;mass is: &quot;+a);\r\n    }\r\n    public static void Concentration(){\r\n        double w,r,m;\r\n        String person;\r\n        System.out.println(&quot;Enter the person: m for male, f for female, j for teenager &quot;);\r\n        Scanner sc=new Scanner(System.in);\r\n        person=sc.nextLine();\r\n        switch(person){\r\n            case &quot;m&quot;: r=0.7;\r\n            break;\r\n            case &quot;f&quot;: r=0.6;\r\n            break;\r\n            case &quot;j&quot;: r=0.5;\r\n            break;\r\n        }\r\n        System.out.println(&quot;Enter person&#39;s weight: &quot;);\r\n        m=sc.nextDouble();\r\n        w=a/(m*r); //a from the method mass\r\n\r\n    }\r\n    public static void main(String[]args){\r\n       mass();\r\n       Concentration();\r\n        /*If(w&gt;=0.5){ //w from the method concentration\r\n            System.out.println(&quot;You cannot drive!&quot;);\r\n            Else{\r\n                System.out.println(&quot;You can drive&quot;);\r\n            }\r\n        } */\r\n\r\n    }\r\n}\r\n```\r\n\r\nFinally, you could also use `a` as a return value, like:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class program{\r\n    \r\n    public static double mass(){\r\n        double a,e,p,v;\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(&quot;Enter the volume: &quot;);\r\n        v=scanner.nextDouble();\r\n        p=0.8;\r\n        System.out.println(&quot;Enter the alcohol volume:(in percents) &quot;);\r\n        e=scanner.nextDouble();\r\n        e=e/100;\r\n        a=v*e*p;\r\n        \r\n        System.out.println(&quot;mass is: &quot;+a);\r\n        return a;\r\n    }\r\n    public static void Concentration(double a){\r\n        double w,r,m;\r\n        String person;\r\n        System.out.println(&quot;Enter the person: m for male, f for female, j for teenager &quot;);\r\n        Scanner sc=new Scanner(System.in);\r\n        person=sc.nextLine();\r\n        switch(person){\r\n            case &quot;m&quot;: r=0.7;\r\n            break;\r\n            case &quot;f&quot;: r=0.6;\r\n            break;\r\n            case &quot;j&quot;: r=0.5;\r\n            break;\r\n        }\r\n        System.out.println(&quot;Enter person&#39;s weight: &quot;);\r\n        m=sc.nextDouble();\r\n        //w=a/(m*r); //a from the method mass\r\n\r\n    }\r\n    public static void main(String[]args){\r\n       Concentration(mass());\r\n        /*If(w&gt;=0.5){ //w from the method concentration\r\n            System.out.println(&quot;You cannot drive!&quot;);\r\n            Else{\r\n                System.out.println(&quot;You can drive&quot;);\r\n            }\r\n        } */\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.tutorialspoint.com/what-is-variable-shadowing-in-java\r\n  [2]: https://www.w3schools.com/java/java_encapsulation.asp\r\n  [3]: https://linearb.io/blog/code-duplication/","title":"Is there a way to access variables in another method?","body":"<p>There are two kinds of variables:</p>\n<ul>\n<li>local variables (block-scoped)</li>\n<li>member variables (class/instance level scope)</li>\n</ul>\n<p>See: <a href=\"https://www.geeksforgeeks.org/variable-scope-in-java/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/variable-scope-in-java/</a></p>\n<p>So, if you want to reuse a variable accross multiple methods, then you will need to convert it from a local variable into a member variable. In your case you only use <code>static</code> methods, so <code>a</code> would be declared outside your methods as</p>\n<pre><code>static double a;\n</code></pre>\n<p>and avoid declaring it inside your <code>mass</code> method, so your declaration line would be changed to</p>\n<pre><code>double e,p,v;\n</code></pre>\n<p>Note that the <code>a</code> is missing to avoid <a href=\"https://www.tutorialspoint.com/what-is-variable-shadowing-in-java\" rel=\"nofollow noreferrer\">variable shadowing</a>.</p>\n<p>You may want to change your methods to instance-level methods, in which case you can declare <code>a</code> without the <code>static</code> keyword, depending on your plans and needs.</p>\n<p>Also, a well-known approach is to implement <a href=\"https://www.w3schools.com/java/java_encapsulation.asp\" rel=\"nofollow noreferrer\">getters and setters</a> in order to make sure that whenever you get or set a value, if there are common operations, then they are implemented only once instead of <a href=\"https://linearb.io/blog/code-duplication/\" rel=\"nofollow noreferrer\">code repeating</a>.</p>\n<p>Below you see the simplest changes to your code to achieve the goal you have specified:</p>\n<pre><code>import java.util.Scanner;\n\npublic class program{\n    \n    static double a;\n    \n    public static void mass(){\n        double e,p,v;\n        Scanner scanner = new Scanner(System.in);\n        System.out.println(&quot;Enter the volume: &quot;);\n        v=scanner.nextDouble();\n        p=0.8;\n        System.out.println(&quot;Enter the alcohol volume:(in percents) &quot;);\n        e=scanner.nextDouble();\n        e=e/100;\n        a=v*e*p;\n        \n        System.out.println(&quot;mass is: &quot;+a);\n    }\n    public static void Concentration(){\n        double w,r,m;\n        String person;\n        System.out.println(&quot;Enter the person: m for male, f for female, j for teenager &quot;);\n        Scanner sc=new Scanner(System.in);\n        person=sc.nextLine();\n        switch(person){\n            case &quot;m&quot;: r=0.7;\n            break;\n            case &quot;f&quot;: r=0.6;\n            break;\n            case &quot;j&quot;: r=0.5;\n            break;\n        }\n        System.out.println(&quot;Enter person's weight: &quot;);\n        m=sc.nextDouble();\n        w=a/(m*r); //a from the method mass\n\n    }\n    public static void main(String[]args){\n       mass();\n       Concentration();\n        /*If(w&gt;=0.5){ //w from the method concentration\n            System.out.println(&quot;You cannot drive!&quot;);\n            Else{\n                System.out.println(&quot;You can drive&quot;);\n            }\n        } */\n\n    }\n}\n</code></pre>\n<p>Finally, you could also use <code>a</code> as a return value, like:</p>\n<pre><code>import java.util.Scanner;\n\npublic class program{\n    \n    public static double mass(){\n        double a,e,p,v;\n        Scanner scanner = new Scanner(System.in);\n        System.out.println(&quot;Enter the volume: &quot;);\n        v=scanner.nextDouble();\n        p=0.8;\n        System.out.println(&quot;Enter the alcohol volume:(in percents) &quot;);\n        e=scanner.nextDouble();\n        e=e/100;\n        a=v*e*p;\n        \n        System.out.println(&quot;mass is: &quot;+a);\n        return a;\n    }\n    public static void Concentration(double a){\n        double w,r,m;\n        String person;\n        System.out.println(&quot;Enter the person: m for male, f for female, j for teenager &quot;);\n        Scanner sc=new Scanner(System.in);\n        person=sc.nextLine();\n        switch(person){\n            case &quot;m&quot;: r=0.7;\n            break;\n            case &quot;f&quot;: r=0.6;\n            break;\n            case &quot;j&quot;: r=0.5;\n            break;\n        }\n        System.out.println(&quot;Enter person's weight: &quot;);\n        m=sc.nextDouble();\n        //w=a/(m*r); //a from the method mass\n\n    }\n    public static void main(String[]args){\n       Concentration(mass());\n        /*If(w&gt;=0.5){ //w from the method concentration\n            System.out.println(&quot;You cannot drive!&quot;);\n            Else{\n                System.out.println(&quot;You can drive&quot;);\n            }\n        } */\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27649658,"reputation":13,"user_id":21104850,"display_name":"ddhwwl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75275873,"answer_count":2,"score":0,"last_activity_date":1675007810,"creation_date":1675002368,"question_id":75275652,"body_markdown":"I&#39;m new to java and I was wondering if there was a way to access a variable from one method in another method. While writing a program using methods, I realized that I cannot just take one variable from one method and use it in another method. So I was wondering if there was a way to do this.\r\n\r\nHere is my code so far\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class program{\r\n    \r\n    public static void mass(){\r\n        double a,e,p,v;\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(&quot;Enter the volume: &quot;);\r\n        v=scanner.nextDouble();\r\n        p=0.8;\r\n        System.out.println(&quot;Enter the alcohol volume:(in percents) &quot;);\r\n        e=scanner.nextDouble();\r\n        e=e/100;\r\n        a=v*e*p;\r\n        \r\n        System.out.println(&quot;mass is: &quot;+a);\r\n    }\r\n    public static void Concentration(){\r\n        double w,r,m;\r\n        String person;\r\n        System.out.println(&quot;Enter the person: m for male, f for female, j for teenager &quot;);\r\n        Scanner sc=new Scanner(System.in);\r\n        person=sc.nextLine();\r\n        switch(person){\r\n            case &quot;m&quot;: r=0.7;\r\n            break;\r\n            case &quot;f&quot;: r=0.6;\r\n            break;\r\n            case &quot;j&quot;: r=0.5;\r\n            break;\r\n        }\r\n        System.out.println(&quot;Enter person&#39;s weight: &quot;);\r\n        m=sc.nextDouble();\r\n        //w=a/(m*r); //a from the method mass\r\n\r\n    }\r\n    public static void main(String[]args){\r\n       mass();\r\n       Concentration();\r\n        /*If(w&gt;=0.5){ //w from the method concentration\r\n            System.out.println(&quot;You cannot drive!&quot;);\r\n            Else{\r\n                System.out.println(&quot;You can drive&quot;);\r\n            }\r\n        } */\r\n\r\n    }\r\n}\r\n```\r\n","title":"Is there a way to access variables in another method?","body":"<p>I'm new to java and I was wondering if there was a way to access a variable from one method in another method. While writing a program using methods, I realized that I cannot just take one variable from one method and use it in another method. So I was wondering if there was a way to do this.</p>\n<p>Here is my code so far</p>\n<pre><code>import java.util.Scanner;\n\npublic class program{\n    \n    public static void mass(){\n        double a,e,p,v;\n        Scanner scanner = new Scanner(System.in);\n        System.out.println(&quot;Enter the volume: &quot;);\n        v=scanner.nextDouble();\n        p=0.8;\n        System.out.println(&quot;Enter the alcohol volume:(in percents) &quot;);\n        e=scanner.nextDouble();\n        e=e/100;\n        a=v*e*p;\n        \n        System.out.println(&quot;mass is: &quot;+a);\n    }\n    public static void Concentration(){\n        double w,r,m;\n        String person;\n        System.out.println(&quot;Enter the person: m for male, f for female, j for teenager &quot;);\n        Scanner sc=new Scanner(System.in);\n        person=sc.nextLine();\n        switch(person){\n            case &quot;m&quot;: r=0.7;\n            break;\n            case &quot;f&quot;: r=0.6;\n            break;\n            case &quot;j&quot;: r=0.5;\n            break;\n        }\n        System.out.println(&quot;Enter person's weight: &quot;);\n        m=sc.nextDouble();\n        //w=a/(m*r); //a from the method mass\n\n    }\n    public static void main(String[]args){\n       mass();\n       Concentration();\n        /*If(w&gt;=0.5){ //w from the method concentration\n            System.out.println(&quot;You cannot drive!&quot;);\n            Else{\n                System.out.println(&quot;You can drive&quot;);\n            }\n        } */\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-mvc","spring-security","mustache"],"comments":[{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1413438999,"post_id":26397168,"comment_id":41445481,"body_markdown":"Spring Security doesn&#39;t send the model; that&#39;s the Spring MVC `DispatcherServlet`. If you&#39;re going to use a template engine such as Mustache that doesn&#39;t have out-of-the-box integration, you&#39;ll need to look up the CSRF token in your controller and add it to the model yourself.","body":"Spring Security doesn&#39;t send the model; that&#39;s the Spring MVC <code>DispatcherServlet</code>. If you&#39;re going to use a template engine such as Mustache that doesn&#39;t have out-of-the-box integration, you&#39;ll need to look up the CSRF token in your controller and add it to the model yourself."},{"owner":{"account_id":1648703,"reputation":5086,"user_id":1519689,"accept_rate":60,"display_name":"Rob Johansen"},"score":1,"creation_date":1413517016,"post_id":26397168,"comment_id":41481977,"body_markdown":"@chrylis - You were right on; thanks for your help. I added an `HttpServletRequest` argument to my `@RequestMapping` handler method and got an instance of `CsrfToken` from the &quot;_csrf&quot; attribute. If you add an answer, I&#39;ll accept it.","body":"@chrylis - You were right on; thanks for your help. I added an <code>HttpServletRequest</code> argument to my <code>@RequestMapping</code> handler method and got an instance of <code>CsrfToken</code> from the &quot;_csrf&quot; attribute. If you add an answer, I&#39;ll accept it."},{"owner":{"account_id":229183,"reputation":1612,"user_id":491957,"accept_rate":83,"display_name":"sanrodari"},"score":1,"creation_date":1429112349,"post_id":26397168,"comment_id":47449017,"body_markdown":"Like this: CsrfToken token = (CsrfToken) httpServletRequest.getAttribute(&quot;_csrf&quot;);\n        model.addAttribute(&quot;token&quot;, token.getToken());\n\nhttp://stackoverflow.com/questions/20862299/with-spring-security-3-2-0-release-how-can-i-get-the-csrf-token-in-a-page-that","body":"Like this: CsrfToken token = (CsrfToken) httpServletRequest.getAttribute(&quot;_csrf&quot;);         model.addAttribute(&quot;token&quot;, token.getToken());  <a href=\"http://stackoverflow.com/questions/20862299/with-spring-security-3-2-0-release-how-can-i-get-the-csrf-token-in-a-page-that\" title=\"with spring security 3 2 0 release how can i get the csrf token in a page that\">stackoverflow.com/questions/20862299/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4954033,"reputation":33,"user_id":3987167,"display_name":"burhanloey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544493938,"creation_date":1544276235,"answer_id":53683061,"question_id":26397168,"body_markdown":"I am not sure from which version this is available, but you can just add a parameter for `CsrfToken` on your controller method to get the token to be passed into the model, like so:\r\n\r\n    @GetMapping(&quot;/dashboard&quot;)\r\n    public String dashboard(CsrfToken csrfToken, Model model) {\r\n        model.addAttribute(&quot;_csrf&quot;, csrfToken);\r\n        // render page\r\n    }\r\n\r\nYou don&#39;t have to use `HttpServletRequest`. Now you can use your first template.\r\n\r\n---\r\n\r\nIf the above is too tedious to do for each controller methods, we can register an interceptor instead.\r\n\r\nInterceptor:\r\n\r\n    public class CsrfTokenInterceptor implements HandlerInterceptor {\r\n        @Override\r\n        public void postHandle(HttpServletRequest request, HttpServletResponse response,\r\n                               Object handler, ModelAndView modelAndView) throws Exception {\r\n            CsrfToken csrfToken = (CsrfToken) request.getAttribute(&quot;_csrf&quot;);\r\n            if (modelAndView != null) {\r\n                modelAndView.addObject(&quot;_csrf&quot;, csrfToken);\r\n            }\r\n        }\r\n    }\r\n\r\nBean:\r\n\r\n    @Configuration\r\n    public class Config {\r\n        @Bean\r\n        public CsrfTokenInterceptor csrfTokenInterceptor() {\r\n            return new CsrfTokenInterceptor();\r\n        }\r\n    }\r\n\r\nAdd interceptor in WebMvcConfigurer:\r\n\r\n    @Configuration\r\n    public class WebMvcConfig implements WebMvcConfigurer {\r\n        @Autowired\r\n        CsrfTokenInterceptor csrfTokenInterceptor;\r\n        \r\n        @Override\r\n        public void addInterceptors(InterceptorRegistry registry) {\r\n            registry.addInterceptor(csrfTokenInterceptor);\r\n        }\r\n    }","title":"How to use Spring Security with Mustache?","body":"<p>I am not sure from which version this is available, but you can just add a parameter for <code>CsrfToken</code> on your controller method to get the token to be passed into the model, like so:</p>\n\n<pre><code>@GetMapping(\"/dashboard\")\npublic String dashboard(CsrfToken csrfToken, Model model) {\n    model.addAttribute(\"_csrf\", csrfToken);\n    // render page\n}\n</code></pre>\n\n<p>You don't have to use <code>HttpServletRequest</code>. Now you can use your first template.</p>\n\n<hr>\n\n<p>If the above is too tedious to do for each controller methods, we can register an interceptor instead.</p>\n\n<p>Interceptor:</p>\n\n<pre><code>public class CsrfTokenInterceptor implements HandlerInterceptor {\n    @Override\n    public void postHandle(HttpServletRequest request, HttpServletResponse response,\n                           Object handler, ModelAndView modelAndView) throws Exception {\n        CsrfToken csrfToken = (CsrfToken) request.getAttribute(\"_csrf\");\n        if (modelAndView != null) {\n            modelAndView.addObject(\"_csrf\", csrfToken);\n        }\n    }\n}\n</code></pre>\n\n<p>Bean:</p>\n\n<pre><code>@Configuration\npublic class Config {\n    @Bean\n    public CsrfTokenInterceptor csrfTokenInterceptor() {\n        return new CsrfTokenInterceptor();\n    }\n}\n</code></pre>\n\n<p>Add interceptor in WebMvcConfigurer:</p>\n\n<pre><code>@Configuration\npublic class WebMvcConfig implements WebMvcConfigurer {\n    @Autowired\n    CsrfTokenInterceptor csrfTokenInterceptor;\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(csrfTokenInterceptor);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2847165,"reputation":1259,"user_id":2445233,"accept_rate":50,"display_name":"smiggle"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1573760151,"creation_date":1572968507,"answer_id":58714759,"question_id":26397168,"body_markdown":"Add this to your`application.properties`:\r\n\r\n\r\n\r\n    spring.mustache.expose-request-attributes=true\r\n\r\nThen you have access to the `_csrf` request attribute in your template.","title":"How to use Spring Security with Mustache?","body":"<p>Add this to your<code>application.properties</code>:</p>\n\n<pre><code>spring.mustache.expose-request-attributes=true\n</code></pre>\n\n<p>Then you have access to the <code>_csrf</code> request attribute in your template.</p>\n"},{"tags":[],"owner":{"account_id":3323955,"reputation":31,"user_id":2794416,"display_name":"Sergey"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675007673,"creation_date":1675007673,"answer_id":75276256,"question_id":26397168,"body_markdown":"Add this to your application.properties:\r\n```\r\nspring.mustache.servlet.expose-request-attributes=true\r\n```\r\nThen you have access to the `_csrf` request attribute in your template.\r\n\r\nProperty was renamed from `spring.mustache.expose-request-attributes` in Spring Boot version 2.7.0.\r\n\r\nIssue: [https://github.com/spring-projects/spring-boot/issues/28858](https://github.com/spring-projects/spring-boot/issues/28858)\r\n","title":"How to use Spring Security with Mustache?","body":"<p>Add this to your application.properties:</p>\n<pre><code>spring.mustache.servlet.expose-request-attributes=true\n</code></pre>\n<p>Then you have access to the <code>_csrf</code> request attribute in your template.</p>\n<p>Property was renamed from <code>spring.mustache.expose-request-attributes</code> in Spring Boot version 2.7.0.</p>\n<p>Issue: <a href=\"https://github.com/spring-projects/spring-boot/issues/28858\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/28858</a></p>\n"}],"owner":{"account_id":1648703,"reputation":5086,"user_id":1519689,"accept_rate":60,"display_name":"Rob Johansen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4098,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":3,"score":8,"last_activity_date":1675007673,"creation_date":1413438858,"question_id":26397168,"body_markdown":"I&#39;m following the Spring Security reference, and I&#39;ve got redirection to a custom login page working as described in [section 3.3][1]. However, I&#39;m not sure how to get the CSRF token in Mustache (all the examples use JSP). I&#39;ve tried a few na&#239;ve things like this...\r\n\r\n    {{#_csrf}}\r\n        &lt;input type=&quot;hidden&quot; name=&quot;{{parameterName}}&quot; value=&quot;{{token}}&quot;/&gt;\r\n    {{/_csrf}}\r\n\r\n...and this...\r\n\r\n    {{#CsrfToken}}\r\n        &lt;input type=&quot;hidden&quot; name=&quot;{{parameterName}}&quot; value=&quot;{{token}}&quot;/&gt;\r\n    {{/CsrfToken}}\r\n\r\n...but they don&#39;t work (and I didn&#39;t really expect them to). How can I get the CSRF token in Mustache?\r\n\r\nI&#39;m also wondering: Where could I set a breakpoint in my code to see what Spring Security is sending as the model to my custom login view?)\r\n\r\n  [1]: http://docs.spring.io/spring-security/site/docs/3.2.0.RELEASE/reference/htmlsingle/#jc-form","title":"How to use Spring Security with Mustache?","body":"<p>I'm following the Spring Security reference, and I've got redirection to a custom login page working as described in <a href=\"http://docs.spring.io/spring-security/site/docs/3.2.0.RELEASE/reference/htmlsingle/#jc-form\" rel=\"noreferrer\">section 3.3</a>. However, I'm not sure how to get the CSRF token in Mustache (all the examples use JSP). I've tried a few naïve things like this...</p>\n\n<pre><code>{{#_csrf}}\n    &lt;input type=\"hidden\" name=\"{{parameterName}}\" value=\"{{token}}\"/&gt;\n{{/_csrf}}\n</code></pre>\n\n<p>...and this...</p>\n\n<pre><code>{{#CsrfToken}}\n    &lt;input type=\"hidden\" name=\"{{parameterName}}\" value=\"{{token}}\"/&gt;\n{{/CsrfToken}}\n</code></pre>\n\n<p>...but they don't work (and I didn't really expect them to). How can I get the CSRF token in Mustache?</p>\n\n<p>I'm also wondering: Where could I set a breakpoint in my code to see what Spring Security is sending as the model to my custom login view?)</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":6356987,"reputation":892,"user_id":4933902,"display_name":"JoGe"},"score":0,"creation_date":1438243349,"post_id":31718178,"comment_id":51373583,"body_markdown":"Same as: http://stackoverflow.com/questions/4389480/print-array-without-brackets-and-commas","body":"Same as: <a href=\"http://stackoverflow.com/questions/4389480/print-array-without-brackets-and-commas\" title=\"print array without brackets and commas\">stackoverflow.com/questions/4389480/&hellip;</a>"},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1438264249,"post_id":31718178,"comment_id":51387401,"body_markdown":"The boolean returned by list.remove() actually indicates if the value was found in the list or not. See the JavaDoc (http://docs.oracle.com/javase/7/docs/api/java/util/List.html#remove(java.lang.Object))","body":"The boolean returned by list.remove() actually indicates if the value was found in the list or not. See the JavaDoc (<a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/List.html#remove(java.lang.Object)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/&hellip;</a>)"}],"answers":[{"tags":[],"owner":{"account_id":6698461,"reputation":37,"user_id":5165803,"display_name":"nhb.sajol"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1438243309,"creation_date":1438243309,"answer_id":31718245,"question_id":31718178,"body_markdown":"This is an `ArrayList` of `Integer`. This `ArrayList` can not contain a character like `&#39;[&#39;`.  But you can remove an `Integer` from it like this -  \r\n\r\n    error.remove(3);\r\n\r\n","title":"How to remove the brackets [ ] from ArrayList#toString()?","body":"<p>This is an <code>ArrayList</code> of <code>Integer</code>. This <code>ArrayList</code> can not contain a character like <code>'['</code>.  But you can remove an <code>Integer</code> from it like this -  </p>\n\n<pre><code>error.remove(3);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5487091,"reputation":362,"user_id":4361514,"accept_rate":67,"display_name":"Rafcik"},"score":0,"creation_date":1438246659,"post_id":31718271,"comment_id":51375481,"body_markdown":"I would even use StringBuilder and append() method, then return one String via `System.out.print();` to fasten up and optimize code :)","body":"I would even use StringBuilder and append() method, then return one String via <code>System.out.print();</code> to fasten up and optimize code :)"}],"tags":[],"owner":{"account_id":3225359,"reputation":6722,"user_id":2721865,"accept_rate":100,"display_name":"kai"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1438248407,"creation_date":1438243377,"answer_id":31718271,"question_id":31718178,"body_markdown":"If you print your error list, it will internally call the `toString()` method of your list and this method add the brackets. There are a few possibilities. You can get the String via `toString()` method an remove the brackets from the String. Or you write your own method to print the List.\r\n\r\n\tpublic static &lt;T&gt; void printList(List&lt;T&gt; list)\r\n\t{\r\n        StringBuilder output = new StringBuilder();\r\n\t\tfor(T element : list)\r\n\t\t\toutput.append(element + &quot;, &quot;);\r\n        System.out.println(output);\r\n\t}","title":"How to remove the brackets [ ] from ArrayList#toString()?","body":"<p>If you print your error list, it will internally call the <code>toString()</code> method of your list and this method add the brackets. There are a few possibilities. You can get the String via <code>toString()</code> method an remove the brackets from the String. Or you write your own method to print the List.</p>\n\n<pre><code>public static &lt;T&gt; void printList(List&lt;T&gt; list)\n{\n    StringBuilder output = new StringBuilder();\n    for(T element : list)\n        output.append(element + \", \");\n    System.out.println(output);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1521272,"reputation":1659,"user_id":1420839,"accept_rate":80,"display_name":"Dragondraikk"},"score":1,"creation_date":1438243536,"post_id":31718272,"comment_id":51373704,"body_markdown":"Your substring is faulty, since `errors.length` does not account for the comma separators. Also `length` is a field, not a method.","body":"Your substring is faulty, since <code>errors.length</code> does not account for the comma separators. Also <code>length</code> is a field, not a method."},{"owner":{"account_id":1015767,"reputation":2808,"user_id":1027359,"accept_rate":71,"display_name":"dotvav"},"score":0,"creation_date":1438243650,"post_id":31718272,"comment_id":51373760,"body_markdown":"@Dragondraikk you are right, there was a `.toString()` missing :) *fixed*","body":"@Dragondraikk you are right, there was a <code>.toString()</code> missing :) <i>fixed</i>"},{"owner":{"account_id":1799577,"reputation":5303,"user_id":1638237,"accept_rate":59,"display_name":"nafas"},"score":1,"creation_date":1438243698,"post_id":31718272,"comment_id":51373789,"body_markdown":"it should be **erros.toString.length() - 1**","body":"it should be <b>erros.toString.length() - 1</b>"},{"owner":{"account_id":5630257,"reputation":967,"user_id":4457413,"accept_rate":76,"display_name":"Goldengirl"},"score":0,"creation_date":1438244731,"post_id":31718272,"comment_id":51374328,"body_markdown":"@dotvav : Thank you for that quick and detailed response. Appreciate it :)","body":"@dotvav : Thank you for that quick and detailed response. Appreciate it :)"}],"tags":[],"owner":{"account_id":1015767,"reputation":2808,"user_id":1027359,"accept_rate":71,"display_name":"dotvav"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1438243730,"creation_date":1438243378,"answer_id":31718272,"question_id":31718178,"body_markdown":"Short answer: `System.out.println(errors.toString().substring(1, errors.toString().length() - 1))`\r\n\r\nExplanation: when you call `System.out.println(obj)` with an `Object` as a parameter, the printed text will be the result of  `obj.toString()`. `ArrayList.toString()` is implemented in a way that makes it represent its content between brackets `[]` in a comma separated concatenation of each of the contained items (their `.toString()` representation as well).\r\n\r\nIt is not a good practice to rely on another class&#39;s `toString()` implementation. You should use your own way to format your result.","title":"How to remove the brackets [ ] from ArrayList#toString()?","body":"<p>Short answer: <code>System.out.println(errors.toString().substring(1, errors.toString().length() - 1))</code></p>\n\n<p>Explanation: when you call <code>System.out.println(obj)</code> with an <code>Object</code> as a parameter, the printed text will be the result of  <code>obj.toString()</code>. <code>ArrayList.toString()</code> is implemented in a way that makes it represent its content between brackets <code>[]</code> in a comma separated concatenation of each of the contained items (their <code>.toString()</code> representation as well).</p>\n\n<p>It is not a good practice to rely on another class's <code>toString()</code> implementation. You should use your own way to format your result.</p>\n"},{"comments":[{"owner":{"account_id":5746045,"reputation":1135,"user_id":4537268,"display_name":"Ganesh Giri"},"score":0,"creation_date":1602490720,"post_id":31718283,"comment_id":113726341,"body_markdown":"If in-between array as value then it would be not possible?","body":"If in-between array as value then it would be not possible?"}],"tags":[],"owner":{"account_id":5995725,"reputation":4137,"user_id":4710425,"accept_rate":59,"display_name":"SatyaTNV"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438243411,"creation_date":1438243411,"answer_id":31718283,"question_id":31718178,"body_markdown":"    String text = errors.toString().replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;);//remove brackets([) convert it to string","title":"How to remove the brackets [ ] from ArrayList#toString()?","body":"<pre><code>String text = errors.toString().replace(\"[\", \"\").replace(\"]\", \"\");//remove brackets([) convert it to string\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3747207,"reputation":66,"user_id":3115613,"display_name":"Igor Iris"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438243477,"creation_date":1438243477,"answer_id":31718294,"question_id":31718178,"body_markdown":"brackets is not a part of your array list, since as you&#39;ve mentioned it&#39;s Integer typed\r\n\r\n&gt; `ArrayList&lt;Integer&gt;`\r\n\r\nwhen you print errors using \r\n\r\n    System.out.println(errors);\r\n\r\nit&#39;s just formatting your data, just iterate over the array and print each value separately  ","title":"How to remove the brackets [ ] from ArrayList#toString()?","body":"<p>brackets is not a part of your array list, since as you've mentioned it's Integer typed</p>\n\n<blockquote>\n  <p><code>ArrayList&lt;Integer&gt;</code></p>\n</blockquote>\n\n<p>when you print errors using </p>\n\n<pre><code>System.out.println(errors);\n</code></pre>\n\n<p>it's just formatting your data, just iterate over the array and print each value separately  </p>\n"},{"tags":[],"owner":{"account_id":5475185,"reputation":1004,"user_id":4353360,"accept_rate":60,"display_name":"Jan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1438243525,"creation_date":1438243525,"answer_id":31718311,"question_id":31718178,"body_markdown":"The brackets are not actually within the list it&#39;s just a representation of the list. If any object goes into a String output the objects toString() method gets called. In case of ArrayList this method delivers the content of the list wrapped by this brackets.\r\n\r\nIf you want to print your ArrayList without brackets just iterate over it and print it.","title":"How to remove the brackets [ ] from ArrayList#toString()?","body":"<p>The brackets are not actually within the list it's just a representation of the list. If any object goes into a String output the objects toString() method gets called. In case of ArrayList this method delivers the content of the list wrapped by this brackets.</p>\n\n<p>If you want to print your ArrayList without brackets just iterate over it and print it.</p>\n"},{"tags":[],"owner":{"account_id":6513111,"reputation":386,"user_id":5039753,"display_name":"faflo10"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1438243604,"creation_date":1438243604,"answer_id":31718339,"question_id":31718178,"body_markdown":"The brackets you see are just an automatic way to display a List in JAVA (when using `System.out.println(list);` for example.\r\n\r\nIf you do not want them to show when showing it, you can create a custom method :\r\n\r\n    public void showList(List&lt;Integer&gt; listInt)\r\n    {\r\n        for(int el : listInt)\r\n        {\r\n            System.out.print(el + &quot;, &quot;);\r\n        }\r\n    }\r\n\r\nThen adjust this code to show this according to your liking !","title":"How to remove the brackets [ ] from ArrayList#toString()?","body":"<p>The brackets you see are just an automatic way to display a List in JAVA (when using <code>System.out.println(list);</code> for example.</p>\n\n<p>If you do not want them to show when showing it, you can create a custom method :</p>\n\n<pre><code>public void showList(List&lt;Integer&gt; listInt)\n{\n    for(int el : listInt)\n    {\n        System.out.print(el + \", \");\n    }\n}\n</code></pre>\n\n<p>Then adjust this code to show this according to your liking !</p>\n"},{"tags":[],"owner":{"account_id":92920,"reputation":3924,"user_id":254439,"accept_rate":95,"display_name":"thomas.g"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1438243625,"creation_date":1438243625,"answer_id":31718340,"question_id":31718178,"body_markdown":"There are not brackets inside your list.\r\nThis is just the way Java prints a list by default.\r\n\r\nIf you want to print the content of your list, you can something like this\r\n\r\n\tfor (Integer error : errors) {\r\n\t\tSystem.out.format(&quot;%d &quot;, error);\r\n\t}","title":"How to remove the brackets [ ] from ArrayList#toString()?","body":"<p>There are not brackets inside your list.\nThis is just the way Java prints a list by default.</p>\n\n<p>If you want to print the content of your list, you can something like this</p>\n\n<pre><code>for (Integer error : errors) {\n    System.out.format(\"%d \", error);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1930840,"reputation":11,"user_id":1740241,"display_name":"user1740241"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438243815,"creation_date":1438243652,"answer_id":31718352,"question_id":31718178,"body_markdown":"`System.out.println(error.toString().substring(1, error.toString().length()-1));`\r\nThis worked for me\r\n","title":"How to remove the brackets [ ] from ArrayList#toString()?","body":"<p><code>System.out.println(error.toString().substring(1, error.toString().length()-1));</code>\nThis worked for me</p>\n"},{"comments":[{"owner":{"account_id":5630257,"reputation":967,"user_id":4457413,"accept_rate":76,"display_name":"Goldengirl"},"score":0,"creation_date":1438244699,"post_id":31718373,"comment_id":51374311,"body_markdown":"Thank you for that answer. I actually want to access this array in a sepearte class. But I need it without the squared brackets since arrays cannot be declared with them.  But thank you for that detailed explanation :)","body":"Thank you for that answer. I actually want to access this array in a sepearte class. But I need it without the squared brackets since arrays cannot be declared with them.  But thank you for that detailed explanation :)"},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1440402823,"post_id":31718373,"comment_id":52239812,"body_markdown":"It&#39;s cleaner to create the array and pass it to that class than to create a String with comma&#39;s and do String.split() on it.","body":"It&#39;s cleaner to create the array and pass it to that class than to create a String with comma&#39;s and do String.split() on it."}],"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1615799496,"creation_date":1438243707,"answer_id":31718373,"question_id":31718178,"body_markdown":"You are probably calling [System.out.println][1] to print the list. The JavaDoc says:\r\n\r\n    This method calls at first String.valueOf(x) to get the printed object&#39;s string value\r\n\r\nThe brackets are added by the `toString` implementation of ArrayList. To remove them, you have to first get the String:\r\n\r\n    String errorDisplay = errors.toString();\r\n\r\nand then strip the brackets, something like this:\r\n\r\n    errorDisplay = errorDisplay.substring(1, errorDisplay.length() - 1);\r\n\r\nIt is not good practice to depend on a `toString()` implementation. `toString()` is intended only to generate a human readable representation for logging or debugging purposes. So it is better to build the String yourself whilst iterating:\r\n\r\n    List&lt;Integer&gt; errors = new ArrayList&lt;&gt;();\r\n    StringBuilder sb = new StringBuilder();\r\n    for (int x = 1; x&lt;10; x++) { \r\n        errors.add(x);\r\n        sb.append(x).append(&quot;,&quot;);\r\n    }\r\n    sb.setLength(sb.length() - 1);\r\n    String errorDisplay = sb.toString();\r\n\r\nNote that this is not an array, just a String displaying the contents of the list. To create an array from a list you can use [list.toArray()][2]:\r\n\r\n    // create a new array with the same size as the list\r\n    Integer[] errorsArray = new Integer[errors.size()];\r\n    // fill the array\r\n    errors.toArray(errorsArray );\r\n\r\nEDIT: From an object-oriented perspective one could argue that errors and errorsDisplay conceptually belong together in a class, e.g:\r\n\r\n    public class Errors {\r\n\r\n        private final List&lt;Integer&gt; codes = new ArrayList&lt;&gt;();\r\n\r\n        public void add(int error) {\r\n            codes.add(error);\r\n        }\r\n\r\n        public Stream&lt;Integer&gt; get() {\r\n            return codes.stream();\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return codes.stream()\r\n                .map(Object::toString)\r\n                .collect(Collectors.joining(&quot;, &quot;));\r\n        }\r\n    }\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/io/PrintStream.html#println-java.lang.Object-\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/List.html#toArray(T[])","title":"How to remove the brackets [ ] from ArrayList#toString()?","body":"<p>You are probably calling <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/PrintStream.html#println-java.lang.Object-\" rel=\"nofollow noreferrer\">System.out.println</a> to print the list. The JavaDoc says:</p>\n<pre><code>This method calls at first String.valueOf(x) to get the printed object's string value\n</code></pre>\n<p>The brackets are added by the <code>toString</code> implementation of ArrayList. To remove them, you have to first get the String:</p>\n<pre><code>String errorDisplay = errors.toString();\n</code></pre>\n<p>and then strip the brackets, something like this:</p>\n<pre><code>errorDisplay = errorDisplay.substring(1, errorDisplay.length() - 1);\n</code></pre>\n<p>It is not good practice to depend on a <code>toString()</code> implementation. <code>toString()</code> is intended only to generate a human readable representation for logging or debugging purposes. So it is better to build the String yourself whilst iterating:</p>\n<pre><code>List&lt;Integer&gt; errors = new ArrayList&lt;&gt;();\nStringBuilder sb = new StringBuilder();\nfor (int x = 1; x&lt;10; x++) { \n    errors.add(x);\n    sb.append(x).append(&quot;,&quot;);\n}\nsb.setLength(sb.length() - 1);\nString errorDisplay = sb.toString();\n</code></pre>\n<p>Note that this is not an array, just a String displaying the contents of the list. To create an array from a list you can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/List.html#toArray(T%5B%5D)\" rel=\"nofollow noreferrer\">list.toArray()</a>:</p>\n<pre><code>// create a new array with the same size as the list\nInteger[] errorsArray = new Integer[errors.size()];\n// fill the array\nerrors.toArray(errorsArray );\n</code></pre>\n<p>EDIT: From an object-oriented perspective one could argue that errors and errorsDisplay conceptually belong together in a class, e.g:</p>\n<pre><code>public class Errors {\n\n    private final List&lt;Integer&gt; codes = new ArrayList&lt;&gt;();\n\n    public void add(int error) {\n        codes.add(error);\n    }\n\n    public Stream&lt;Integer&gt; get() {\n        return codes.stream();\n    }\n\n    @Override\n    public String toString() {\n        return codes.stream()\n            .map(Object::toString)\n            .collect(Collectors.joining(&quot;, &quot;));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11594476,"reputation":65,"user_id":12377618,"display_name":"Biswambar"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1601352611,"creation_date":1601352611,"answer_id":64112761,"question_id":31718178,"body_markdown":"You can write like this.\r\n\r\n`String output = errors.toString().replaceAll(&quot;(^\\\\[|\\\\]$)&quot;, &quot;&quot;);`","title":"How to remove the brackets [ ] from ArrayList#toString()?","body":"<p>You can write like this.</p>\n<p><code>String output = errors.toString().replaceAll(&quot;(^\\\\[|\\\\]$)&quot;, &quot;&quot;);</code></p>\n"},{"tags":[],"owner":{"account_id":23103291,"reputation":11,"user_id":17212391,"display_name":"user17212391"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634829454,"creation_date":1634829140,"answer_id":69664506,"question_id":31718178,"body_markdown":"For that, you can use `String.join` method like below.\r\n\r\n    String.join(&quot;,&quot;,errors);","title":"How to remove the brackets [ ] from ArrayList#toString()?","body":"<p>For that, you can use <code>String.join</code> method like below.</p>\n<pre><code>String.join(&quot;,&quot;,errors);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8063962,"reputation":13,"user_id":7219670,"display_name":"Muhammad Nauman Tariq"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665600639,"creation_date":1665600639,"answer_id":74046713,"question_id":31718178,"body_markdown":"You can simply remove all the brackets using replaceAll() method like this:-\r\n`System.out.println(errors.toString().replaceAll(&quot;[\\\\[\\\\]]&quot;, &quot;&quot;));`","title":"How to remove the brackets [ ] from ArrayList#toString()?","body":"<p>You can simply remove all the brackets using replaceAll() method like this:-\n<code>System.out.println(errors.toString().replaceAll(&quot;[\\\\[\\\\]]&quot;, &quot;&quot;));</code></p>\n"},{"tags":[],"owner":{"account_id":12531475,"reputation":397,"user_id":9119602,"display_name":"touqeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675007460,"creation_date":1675007138,"answer_id":75276203,"question_id":31718178,"body_markdown":"I was experimenting with ArrayList and I also wanted to remove the Square brackets after printing the Output and I found out a Solution. I just made a loop to print Array list and used the list method &quot; myList.get(index) &quot; , it works like a charm.\r\n\r\nPlease refer to my Code &amp; Output below:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n\r\n            ArrayList mylist = new ArrayList();\r\n            Scanner scan = new Scanner(System.in);\r\n\r\n            for(int i = 0; i &lt; 5; i++) {\r\n                System.out.println(&quot;Enter Value &quot; + i + &quot; to add: &quot;);\r\n                mylist.add(scan.nextLine());\r\n            }\r\n            System.out.println(&quot;=======================&quot;);\r\n\r\n            for(int j = 0; j &lt; 5; j++) {\r\n                System.out.print(mylist.get(j));\r\n            }\r\n    }\r\n    }\r\n\r\n\r\n**OUTPUT**\r\n\r\nEnter Value 0 to add: \r\n\r\n1\r\n\r\nEnter Value 1 to add: \r\n\r\n2\r\n\r\nEnter Value 2 to add: \r\n\r\n3\r\n\r\nEnter Value 3 to add: \r\n\r\n4\r\n\r\nEnter Value 4 to add: \r\n\r\n5\r\n\r\n=======================\r\n\r\n12345","title":"How to remove the brackets [ ] from ArrayList#toString()?","body":"<p>I was experimenting with ArrayList and I also wanted to remove the Square brackets after printing the Output and I found out a Solution. I just made a loop to print Array list and used the list method &quot; myList.get(index) &quot; , it works like a charm.</p>\n<p>Please refer to my Code &amp; Output below:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n\n        ArrayList mylist = new ArrayList();\n        Scanner scan = new Scanner(System.in);\n\n        for(int i = 0; i &lt; 5; i++) {\n            System.out.println(&quot;Enter Value &quot; + i + &quot; to add: &quot;);\n            mylist.add(scan.nextLine());\n        }\n        System.out.println(&quot;=======================&quot;);\n\n        for(int j = 0; j &lt; 5; j++) {\n            System.out.print(mylist.get(j));\n        }\n}\n}\n</code></pre>\n<p><strong>OUTPUT</strong></p>\n<p>Enter Value 0 to add:</p>\n<p>1</p>\n<p>Enter Value 1 to add:</p>\n<p>2</p>\n<p>Enter Value 2 to add:</p>\n<p>3</p>\n<p>Enter Value 3 to add:</p>\n<p>4</p>\n<p>Enter Value 4 to add:</p>\n<p>5</p>\n<p>=======================</p>\n<p>12345</p>\n"}],"owner":{"account_id":5630257,"reputation":967,"user_id":4457413,"accept_rate":76,"display_name":"Goldengirl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49029,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":31718373,"answer_count":14,"score":3,"last_activity_date":1675007460,"creation_date":1438243046,"question_id":31718178,"body_markdown":"I have created an Array List in Java that looks something like this: \r\n\r\n     public static ArrayList&lt;Integer&gt; error = new ArrayList&lt;&gt;();\r\n     \r\n    for (int x= 1; x&lt;10; x++)\r\n     { \r\n        errors.add(x);\r\n     }\r\n\r\nWhen I print errors I get it errors as \r\n\r\n&gt; [1,2,3,4,5,6,7,8,9]\r\n\r\nNow I want to remove the **brackets([ ])** from this array list. I thought I could use the method errors.remove(&quot;[&quot;), but then I discovered that it is just boolean and displays a true or false. Could somebody suggest how can I achieve this? \r\n\r\nThank you in advance for your help.\r\n    ","title":"How to remove the brackets [ ] from ArrayList#toString()?","body":"<p>I have created an Array List in Java that looks something like this: </p>\n\n<pre><code> public static ArrayList&lt;Integer&gt; error = new ArrayList&lt;&gt;();\n\nfor (int x= 1; x&lt;10; x++)\n { \n    errors.add(x);\n }\n</code></pre>\n\n<p>When I print errors I get it errors as </p>\n\n<blockquote>\n  <p>[1,2,3,4,5,6,7,8,9]</p>\n</blockquote>\n\n<p>Now I want to remove the <strong>brackets([ ])</strong> from this array list. I thought I could use the method errors.remove(\"[\"), but then I discovered that it is just boolean and displays a true or false. Could somebody suggest how can I achieve this? </p>\n\n<p>Thank you in advance for your help.</p>\n"},{"tags":["java","android","arrays","list","collections"],"comments":[{"owner":{"account_id":140076,"reputation":14964,"user_id":346112,"accept_rate":97,"display_name":"Jim Tough"},"score":2,"creation_date":1291824106,"post_id":4389480,"comment_id":4782939,"body_markdown":"The toString() method on the List interface is really just meant for debugging and logging. You shouldn&#39;t use it to present output to the user.","body":"The toString() method on the List interface is really just meant for debugging and logging. You shouldn&#39;t use it to present output to the user."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":0,"down_vote_count":1,"up_vote_count":65,"is_accepted":true,"score":64,"last_activity_date":1291824050,"creation_date":1291824050,"answer_id":4389507,"question_id":4389480,"body_markdown":"Basically, don&#39;t use `ArrayList.toString()` - build the string up for yourself. For example:\r\n\r\n    StringBuilder builder = new StringBuilder();\r\n    for (String value : publicArray) {\r\n        builder.append(value);\r\n    }\r\n    String text = builder.toString();\r\n\r\n(Personally I wouldn&#39;t call the variable `publicArray` when it&#39;s not actually an array, by the way.)","title":"Print array without brackets and commas","body":"<p>Basically, don't use <code>ArrayList.toString()</code> - build the string up for yourself. For example:</p>\n\n<pre><code>StringBuilder builder = new StringBuilder();\nfor (String value : publicArray) {\n    builder.append(value);\n}\nString text = builder.toString();\n</code></pre>\n\n<p>(Personally I wouldn't call the variable <code>publicArray</code> when it's not actually an array, by the way.)</p>\n"},{"comments":[{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":0,"creation_date":1571924522,"post_id":4389559,"comment_id":103406893,"body_markdown":"As a bonus `StringUtils` doesnt require a string array, it will work on Integers, Doubles, Objects, etc.","body":"As a bonus <code>StringUtils</code> doesnt require a string array, it will work on Integers, Doubles, Objects, etc."}],"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1416500955,"creation_date":1291824319,"answer_id":4389559,"question_id":4389480,"body_markdown":"first\r\n    \r\n`StringUtils.join(array, &quot;&quot;);`\r\n\r\n\r\nsecond\r\n    \r\n`Arrays.asList(arr).toString().substring(1).replaceFirst(&quot;]&quot;, &quot;&quot;).replace(&quot;, &quot;, &quot;&quot;)`\r\n\r\n\r\nEDIT\r\n\r\nprobably the best one: `Arrays.toString(arr)`\r\n","title":"Print array without brackets and commas","body":"<p>first</p>\n\n<p><code>StringUtils.join(array, \"\");</code></p>\n\n<p>second</p>\n\n<p><code>Arrays.asList(arr).toString().substring(1).replaceFirst(\"]\", \"\").replace(\", \", \"\")</code></p>\n\n<p>EDIT</p>\n\n<p>probably the best one: <code>Arrays.toString(arr)</code></p>\n"},{"comments":[{"owner":{"account_id":1448716,"reputation":6182,"user_id":1366353,"accept_rate":81,"display_name":"ceklock"},"score":7,"creation_date":1493000550,"post_id":4389690,"comment_id":74207434,"body_markdown":"Just don&#39;t put elements containing brackets and commas in the list.","body":"Just don&#39;t put elements containing brackets and commas in the list."}],"tags":[],"owner":{"account_id":227393,"reputation":28024,"user_id":489041,"accept_rate":53,"display_name":"user489041"},"comment_count":1,"down_vote_count":3,"up_vote_count":119,"is_accepted":false,"score":116,"last_activity_date":1488779674,"creation_date":1291825110,"answer_id":4389690,"question_id":4389480,"body_markdown":"Replace the brackets and commas with empty space.\r\n\r\n    String formattedString = myArrayList.toString()\r\n        .replace(&quot;,&quot;, &quot;&quot;)  //remove the commas\r\n        .replace(&quot;[&quot;, &quot;&quot;)  //remove the right bracket\r\n        .replace(&quot;]&quot;, &quot;&quot;)  //remove the left bracket\r\n        .trim();           //remove trailing spaces from partially initialized arrays\r\n\r\n","title":"Print array without brackets and commas","body":"<p>Replace the brackets and commas with empty space.</p>\n\n<pre><code>String formattedString = myArrayList.toString()\n    .replace(\",\", \"\")  //remove the commas\n    .replace(\"[\", \"\")  //remove the right bracket\n    .replace(\"]\", \"\")  //remove the left bracket\n    .trim();           //remove trailing spaces from partially initialized arrays\n</code></pre>\n"},{"comments":[{"owner":{"account_id":78446,"reputation":3781,"user_id":223267,"accept_rate":100,"display_name":"Daniel Hershcovich"},"score":6,"creation_date":1371558040,"post_id":7441693,"comment_id":24856791,"body_markdown":"The question is about Java","body":"The question is about Java"},{"owner":{"account_id":2230094,"reputation":1752,"user_id":1967928,"accept_rate":50,"display_name":"jp093121"},"score":2,"creation_date":1382125068,"post_id":7441693,"comment_id":28853205,"body_markdown":"this does work in java.. [&quot;this&quot;,&quot;stuff&quot;].join(&quot;,&quot;); = &quot;this,stuff&quot;","body":"this does work in java.. [&quot;this&quot;,&quot;stuff&quot;].join(&quot;,&quot;); = &quot;this,stuff&quot;"}],"tags":[],"owner":{"account_id":123740,"reputation":5610,"user_id":318380,"display_name":"jazkat"},"comment_count":2,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1316159660,"creation_date":1316159660,"answer_id":7441693,"question_id":4389480,"body_markdown":"I used join()  function like:\r\n\r\n    i=new Array(&quot;Hi&quot;, &quot;Hello&quot;, &quot;Cheers&quot;, &quot;Greetings&quot;);\r\n    i=i.join(&quot;&quot;);\r\n\r\nWhich Prints:&lt;br&gt;\r\n     `HiHelloCheersGreetings`\r\n\r\n&lt;br&gt;\r\nSee more: [Javascript Join - Use Join to Make an Array into a String in Javascript][1]\r\n\r\n\r\n  [1]: http://ilovethecode.com/Javascript/Javascript-Tutorials-How_To-Easy/Javascript_Join_-_Use_Join_to_Make_an_Array_into_a_String_in_Javascript.shtml","title":"Print array without brackets and commas","body":"<p>I used join()  function like:</p>\n\n<pre><code>i=new Array(\"Hi\", \"Hello\", \"Cheers\", \"Greetings\");\ni=i.join(\"\");\n</code></pre>\n\n<p>Which Prints:<br>\n     <code>HiHelloCheersGreetings</code></p>\n\n<p><br>\nSee more: <a href=\"http://ilovethecode.com/Javascript/Javascript-Tutorials-How_To-Easy/Javascript_Join_-_Use_Join_to_Make_an_Array_into_a_String_in_Javascript.shtml\" rel=\"nofollow\">Javascript Join - Use Join to Make an Array into a String in Javascript</a></p>\n"},{"tags":[],"owner":{"account_id":1685915,"reputation":2329,"user_id":1549219,"accept_rate":84,"display_name":"David"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1665609283,"creation_date":1347886832,"answer_id":12459742,"question_id":4389480,"body_markdown":"the most simple solution for removing the brackets is, \r\n\r\n1. convert the arraylist into string with .toString() method. \r\n\r\n2. use String.substring(1,strLen-1).(where strLen is the length of string after conversion from arraylist). \r\n\r\n3. the result string is your string with removed brackets. \r\n","title":"Print array without brackets and commas","body":"<p>the most simple solution for removing the brackets is,</p>\n<ol>\n<li><p>convert the arraylist into string with .toString() method.</p>\n</li>\n<li><p>use String.substring(1,strLen-1).(where strLen is the length of string after conversion from arraylist).</p>\n</li>\n<li><p>the result string is your string with removed brackets.</p>\n</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":246063,"reputation":17561,"user_id":2267723,"accept_rate":59,"display_name":"Maher Abuthraa"},"score":0,"creation_date":1470915864,"post_id":16718469,"comment_id":65149856,"body_markdown":"TextUtils takes Iterable as well","body":"TextUtils takes Iterable as well"}],"tags":[],"owner":{"account_id":1164230,"reputation":3515,"user_id":1143172,"display_name":"icastell"},"comment_count":1,"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1665609261,"creation_date":1369324241,"answer_id":16718469,"question_id":4389480,"body_markdown":"For Android, you can use the `join` method from [`android.text.TextUtils`][1] class like:\r\n\r\n    TextUtils.join(&quot;&quot;,array);\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/text/TextUtils.html","title":"Print array without brackets and commas","body":"<p>For Android, you can use the <code>join</code> method from <a href=\"http://developer.android.com/reference/android/text/TextUtils.html\" rel=\"nofollow noreferrer\"><code>android.text.TextUtils</code></a> class like:</p>\n<pre><code>TextUtils.join(&quot;&quot;,array);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10841486,"reputation":1,"user_id":7972572,"display_name":"Ayush bhanu"},"comment_count":0,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1508330546,"creation_date":1508329244,"answer_id":46810062,"question_id":4389480,"body_markdown":"Just initialize a `String` object with your array\r\n\r\n    String s=new String(array);","title":"Print array without brackets and commas","body":"<p>Just initialize a <code>String</code> object with your array</p>\n\n<pre><code>String s=new String(array);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1482831,"reputation":466,"user_id":1391762,"display_name":"Namo"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1516090172,"creation_date":1516090172,"answer_id":48276629,"question_id":4389480,"body_markdown":"If you use Java8 or above, you can use with stream() with native.\r\n\r\n    publicArray.stream()\r\n\t\t\t.map(Object::toString)\r\n\t\t\t.collect(Collectors.joining(&quot; &quot;));\r\n\r\n# References #\r\n - [Use Java 8 Language Features][1]\r\n - [JavaDoc StringJoiner][2]\r\n - [Joining Objects into a String with Java 8 Stream API][3]\r\n\r\n\r\n  [1]: https://developer.android.com/studio/write/java8-support.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/StringJoiner.html\r\n  [3]: https://coderwall.com/p/im4lja/joining-objects-into-a-string-with-java-8-stream-api","title":"Print array without brackets and commas","body":"<p>If you use Java8 or above, you can use with stream() with native.</p>\n\n<pre><code>publicArray.stream()\n        .map(Object::toString)\n        .collect(Collectors.joining(\" \"));\n</code></pre>\n\n<h1>References</h1>\n\n<ul>\n<li><a href=\"https://developer.android.com/studio/write/java8-support.html\" rel=\"noreferrer\">Use Java 8 Language Features</a></li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/StringJoiner.html\" rel=\"noreferrer\">JavaDoc StringJoiner</a></li>\n<li><a href=\"https://coderwall.com/p/im4lja/joining-objects-into-a-string-with-java-8-stream-api\" rel=\"noreferrer\">Joining Objects into a String with Java 8 Stream API</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1531929029,"creation_date":1531929029,"answer_id":51406224,"question_id":4389480,"body_markdown":"With Java 8 or newer, you can use `String.join`, which provides the same functionality:\r\n\r\n&gt; Returns a new String composed of copies of the CharSequence elements joined together with a copy of the specified delimiter\r\n\r\n\r\n\tString[] array = new String[] { &quot;a&quot;, &quot;n&quot;, &quot;d&quot;, &quot;r&quot;, &quot;o&quot;, &quot;i&quot;, &quot;d&quot; };\r\n\tString joined = String.join(&quot;&quot;, array); //returns &quot;android&quot;\r\n\r\nWith an array of a different type, one should convert it to a String array or to a char sequence Iterable:\r\n\r\n\tint[] numbers = { 1, 2, 3, 4, 5, 6, 7 };\r\n\r\n    //both of the following return &quot;1234567&quot;\r\n\tString joinedNumbers = String.join(&quot;&quot;,\r\n\t\t\tArrays.stream(numbers).mapToObj(String::valueOf).toArray(n -&gt; new String[n]));\r\n\tString joinedNumbers2 = String.join(&quot;&quot;,\r\n\t\t\tArrays.stream(numbers).mapToObj(String::valueOf).collect(Collectors.toList()));\r\n\r\nThe first argument to `String.join` is the delimiter, and can be changed accordingly.","title":"Print array without brackets and commas","body":"<p>With Java 8 or newer, you can use <code>String.join</code>, which provides the same functionality:</p>\n\n<blockquote>\n  <p>Returns a new String composed of copies of the CharSequence elements joined together with a copy of the specified delimiter</p>\n</blockquote>\n\n<pre><code>String[] array = new String[] { \"a\", \"n\", \"d\", \"r\", \"o\", \"i\", \"d\" };\nString joined = String.join(\"\", array); //returns \"android\"\n</code></pre>\n\n<p>With an array of a different type, one should convert it to a String array or to a char sequence Iterable:</p>\n\n<pre><code>int[] numbers = { 1, 2, 3, 4, 5, 6, 7 };\n\n//both of the following return \"1234567\"\nString joinedNumbers = String.join(\"\",\n        Arrays.stream(numbers).mapToObj(String::valueOf).toArray(n -&gt; new String[n]));\nString joinedNumbers2 = String.join(\"\",\n        Arrays.stream(numbers).mapToObj(String::valueOf).collect(Collectors.toList()));\n</code></pre>\n\n<p>The first argument to <code>String.join</code> is the delimiter, and can be changed accordingly.</p>\n"},{"tags":[],"owner":{"account_id":14621747,"reputation":63,"user_id":10560230,"display_name":"Marko Panushkovski"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1540507430,"creation_date":1540507430,"answer_id":52999104,"question_id":4389480,"body_markdown":"I have used \r\nArrays.toString(array_name).replace(&quot;[&quot;,&quot;&quot;).replace(&quot;]&quot;,&quot;&quot;).replace(&quot;, &quot;,&quot;&quot;);\r\nas I have seen it from some of the comments above, but also i added an additional space character after the comma (the part **.replace(&quot;, &quot;,&quot;&quot;)**), because while I was printing out each value in a new line, there was still the **space character** shifting the words. It solved my problem.","title":"Print array without brackets and commas","body":"<p>I have used \nArrays.toString(array_name).replace(\"[\",\"\").replace(\"]\",\"\").replace(\", \",\"\");\nas I have seen it from some of the comments above, but also i added an additional space character after the comma (the part <strong>.replace(\", \",\"\")</strong>), because while I was printing out each value in a new line, there was still the <strong>space character</strong> shifting the words. It solved my problem.</p>\n"},{"comments":[{"owner":{"account_id":1937659,"reputation":650,"user_id":1744705,"accept_rate":50,"display_name":"TeachMeJava"},"score":1,"creation_date":1641564399,"post_id":70596762,"comment_id":124843308,"body_markdown":"This does not provide an answer to the question. Once you have sufficient [reputation](https://stackoverflow.com/help/whats-reputation) you will be able to [comment on any post](https://stackoverflow.com/help/privileges/comment); instead, [provide answers that don&#39;t require clarification from the asker](https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead). - [From Review](/review/late-answers/30746592)","body":"This does not provide an answer to the question. Once you have sufficient <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"https://stackoverflow.com/help/privileges/comment\">comment on any post</a>; instead, <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker</a>. - <a href=\"/review/late-answers/30746592\">From Review</a>"}],"tags":[],"owner":{"account_id":21890922,"reputation":11,"user_id":16177908,"display_name":"im_grownish"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641403636,"creation_date":1641402229,"answer_id":70596762,"question_id":4389480,"body_markdown":"```\r\nString[] students = {&quot;John&quot;, &quot;Kelly&quot;, &quot;Leah&quot;};\r\n\r\nSystem.out.println(Arrays.toString(students).replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot; &quot;));\r\n\r\n//output: John, Kelly, Leah\r\n```","title":"Print array without brackets and commas","body":"<pre><code>String[] students = {&quot;John&quot;, &quot;Kelly&quot;, &quot;Leah&quot;};\n\nSystem.out.println(Arrays.toString(students).replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot; &quot;));\n\n//output: John, Kelly, Leah\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7844722,"reputation":116,"user_id":5930157,"display_name":"douglas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642828343,"creation_date":1642828343,"answer_id":70810183,"question_id":4389480,"body_markdown":"You can use the reduce method provided for streams for Java 8 and above.Note you would have to map to string first to allow for concatenation inside of reduce operator.\r\n\r\n    publicArray.stream().map(String::valueOf).reduce((a, b) -&gt; a + &quot; &quot; + b).get();","title":"Print array without brackets and commas","body":"<p>You can use the reduce method provided for streams for Java 8 and above.Note you would have to map to string first to allow for concatenation inside of reduce operator.</p>\n<pre><code>publicArray.stream().map(String::valueOf).reduce((a, b) -&gt; a + &quot; &quot; + b).get();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12531475,"reputation":397,"user_id":9119602,"display_name":"touqeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675007331,"creation_date":1675007331,"answer_id":75276226,"question_id":4389480,"body_markdown":"I was experimenting with ArrayList and I also wanted to remove the Square brackets after printing the Output and I found out a Solution. I just made a loop to print Array list and used the list method &quot; myList.get(index) &quot; , it works like a charm.\r\n\r\nPlease refer to my Code &amp; Output below:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n\r\n            ArrayList mylist = new ArrayList();\r\n            Scanner scan = new Scanner(System.in);\r\n\r\n            for(int i = 0; i &lt; 5; i++) {\r\n                System.out.println(&quot;Enter Value &quot; + i + &quot; to add: &quot;);\r\n                mylist.add(scan.nextLine());\r\n            }\r\n            System.out.println(&quot;=======================&quot;);\r\n\r\n            for(int j = 0; j &lt; 5; j++) {\r\n                System.out.print(mylist.get(j));\r\n            }\r\n    }\r\n    }\r\n\r\n**OUTPUT**\r\n\r\nEnter Value 0 to add:\r\n\r\n1\r\n\r\nEnter Value 1 to add:\r\n\r\n2\r\n\r\nEnter Value 2 to add:\r\n\r\n3\r\n\r\nEnter Value 3 to add:\r\n\r\n4\r\n\r\nEnter Value 4 to add:\r\n\r\n5\r\n\r\n=======================\r\n\r\n12345","title":"Print array without brackets and commas","body":"<p>I was experimenting with ArrayList and I also wanted to remove the Square brackets after printing the Output and I found out a Solution. I just made a loop to print Array list and used the list method &quot; myList.get(index) &quot; , it works like a charm.</p>\n<p>Please refer to my Code &amp; Output below:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n\n        ArrayList mylist = new ArrayList();\n        Scanner scan = new Scanner(System.in);\n\n        for(int i = 0; i &lt; 5; i++) {\n            System.out.println(&quot;Enter Value &quot; + i + &quot; to add: &quot;);\n            mylist.add(scan.nextLine());\n        }\n        System.out.println(&quot;=======================&quot;);\n\n        for(int j = 0; j &lt; 5; j++) {\n            System.out.print(mylist.get(j));\n        }\n}\n}\n</code></pre>\n<p><strong>OUTPUT</strong></p>\n<p>Enter Value 0 to add:</p>\n<p>1</p>\n<p>Enter Value 1 to add:</p>\n<p>2</p>\n<p>Enter Value 2 to add:</p>\n<p>3</p>\n<p>Enter Value 3 to add:</p>\n<p>4</p>\n<p>Enter Value 4 to add:</p>\n<p>5</p>\n<p>=======================</p>\n<p>12345</p>\n"}],"owner":{"account_id":255265,"reputation":4047,"user_id":535199,"accept_rate":86,"display_name":"SQDK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218549,"favorite_count":0,"down_vote_count":0,"up_vote_count":61,"accepted_answer_id":4389507,"answer_count":13,"score":61,"last_activity_date":1675007331,"creation_date":1291823858,"question_id":4389480,"body_markdown":"I&#39;m porting a Hangman game to Android and have met a few problems. The original Java program used the console, so now I have to somehow beautify the output so that it fits my Android layout.\r\n\r\nHow do I print an array without the brackets and commas? The array contains slashes and gets replaced one-by-one when the correct letter is guessed.\r\n\r\nI am using the usual `.toString()` function of the `ArrayList` class and my output is formatted like: `[ a, n, d, r, o, i, d ]`. I want it to simply print out the array as a single `String`.\r\n\r\nI fill the array using this bit of code:\r\n\r\n    List&lt;String&gt; publicArray = new ArrayList&lt;&gt;();\r\n    \r\n    for (int i = 0; i &lt; secretWordLength; i++) {\r\n        hiddenArray.add(secretWord.substring(i, i + 1));\r\n        publicArray.add(&quot;-&quot;);\r\n    }\r\n\r\nAnd I print it like this:\r\n\r\n    TextView currentWordView = (TextView) findViewById(R.id.CurrentWord);\r\n    currentWordView.setText(publicArray.toString());","title":"Print array without brackets and commas","body":"<p>I'm porting a Hangman game to Android and have met a few problems. The original Java program used the console, so now I have to somehow beautify the output so that it fits my Android layout.</p>\n<p>How do I print an array without the brackets and commas? The array contains slashes and gets replaced one-by-one when the correct letter is guessed.</p>\n<p>I am using the usual <code>.toString()</code> function of the <code>ArrayList</code> class and my output is formatted like: <code>[ a, n, d, r, o, i, d ]</code>. I want it to simply print out the array as a single <code>String</code>.</p>\n<p>I fill the array using this bit of code:</p>\n<pre><code>List&lt;String&gt; publicArray = new ArrayList&lt;&gt;();\n\nfor (int i = 0; i &lt; secretWordLength; i++) {\n    hiddenArray.add(secretWord.substring(i, i + 1));\n    publicArray.add(&quot;-&quot;);\n}\n</code></pre>\n<p>And I print it like this:</p>\n<pre><code>TextView currentWordView = (TextView) findViewById(R.id.CurrentWord);\ncurrentWordView.setText(publicArray.toString());\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":26373002,"reputation":26,"user_id":20027397,"display_name":"Ankit Kumar Sen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674997205,"creation_date":1674997205,"answer_id":75275085,"question_id":75273671,"body_markdown":"Use &quot;androidx.appcompat.widget.AppCompatButton&quot; instead of Button.\r\n\r\n        android:background=&quot;@drawable/abc&quot;\r\n        android:gravity=&quot;center&quot;\r\n        app:backgroundTint=&quot;@null&quot;\r\n        android:textColor=&quot;@color/black&quot;","title":"Why do some UI elements change styles, while others don&#39;t?","body":"<p>Use &quot;androidx.appcompat.widget.AppCompatButton&quot; instead of Button.</p>\n<pre><code>    android:background=&quot;@drawable/abc&quot;\n    android:gravity=&quot;center&quot;\n    app:backgroundTint=&quot;@null&quot;\n    android:textColor=&quot;@color/black&quot;\n</code></pre>\n"}],"owner":{"account_id":27335647,"reputation":3,"user_id":21099136,"display_name":"WhiteCorcar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75275085,"answer_count":1,"score":0,"last_activity_date":1675006801,"creation_date":1674982276,"question_id":75273671,"body_markdown":"Today I tried to change the color of the button by adding a gradient, stroke and rounded corners.\r\n(Done in a Drawable Resource File)\r\n\r\nI almost succeeded, the corners were rounded, but the button color remained standard (purple_500).\r\n\r\nI tried to solve this problem in different ways, but it didn&#39;t work out, then I tried using these styles for other elements, and they changed their color\r\n\r\nThe question is why did they change the color and the button didn&#39;t?\r\n\r\nCode with styles:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;item&gt;\r\n        &lt;shape android:shape=&quot;rectangle&quot;&gt;\r\n            &lt;corners android:radius=&quot;180dp&quot;/&gt;\r\n            &lt;stroke android:width=&quot;5dip&quot; android:color=&quot;@color/white&quot;/&gt;\r\n            &lt;gradient android:angle=&quot;360&quot; android:startColor=&quot;@color/black&quot; android:endColor=&quot;@color/white&quot; /&gt;\r\n        &lt;/shape&gt;\r\n    &lt;/item&gt;\r\n&lt;/selector&gt;\r\n```\r\n\r\nactivity code:\r\n\r\n```\r\n&lt;TextView\r\nandroid:id=&quot;@+id/textView&quot;\r\nandroid:layout_width=&quot;62dp&quot;\r\nandroid:layout_height=&quot;46dp&quot;\r\nandroid:layout_marginStart=&quot;180dp&quot;\r\nandroid:layout_marginTop=&quot;192dp&quot;\r\nandroid:background=&quot;@drawable/abc&quot;\r\nandroid:text=&quot;TextView&quot;\r\napp:layout_constraintStart_toStartOf=&quot;parent&quot;\r\napp:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n&lt;EditText\r\nandroid:id=&quot;@+id/editTextTextPersonName&quot;\r\nandroid:layout_width=&quot;210dp&quot;\r\nandroid:layout_height=&quot;55dp&quot;\r\nandroid:layout_marginStart=&quot;108dp&quot;\r\nandroid:layout_marginTop=&quot;260dp&quot;\r\nandroid:background=&quot;@drawable/abc&quot;\r\nandroid:ems=&quot;10&quot;\r\nandroid:inputType=&quot;textPersonName&quot;\r\nandroid:text=&quot;Name&quot;\r\napp:layout_constraintStart_toStartOf=&quot;parent&quot;\r\napp:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n&lt;Button\r\nandroid:id=&quot;@+id/button&quot;\r\nandroid:layout_width=&quot;226dp&quot;\r\nandroid:layout_height=&quot;56dp&quot;\r\nandroid:layout_marginStart=&quot;92dp&quot;\r\nandroid:layout_marginTop=&quot;336dp&quot;\r\nandroid:background=&quot;@drawable/abc&quot;\r\nandroid:text=&quot;Button&quot;\r\napp:layout_constraintStart_toStartOf=&quot;parent&quot;\r\napp:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n```\r\n\r\nScreen with result:\r\n\r\n![enter image description here](https://i.stack.imgur.com/7vbPa.png)\r\n\r\nI was trying to figure out how the button knows its color, of course it takes it from color.xml , but its change did not lead to the desired result, since a gradient is needed","title":"Why do some UI elements change styles, while others don&#39;t?","body":"<p>Today I tried to change the color of the button by adding a gradient, stroke and rounded corners.\n(Done in a Drawable Resource File)</p>\n<p>I almost succeeded, the corners were rounded, but the button color remained standard (purple_500).</p>\n<p>I tried to solve this problem in different ways, but it didn't work out, then I tried using these styles for other elements, and they changed their color</p>\n<p>The question is why did they change the color and the button didn't?</p>\n<p>Code with styles:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item&gt;\n        &lt;shape android:shape=&quot;rectangle&quot;&gt;\n            &lt;corners android:radius=&quot;180dp&quot;/&gt;\n            &lt;stroke android:width=&quot;5dip&quot; android:color=&quot;@color/white&quot;/&gt;\n            &lt;gradient android:angle=&quot;360&quot; android:startColor=&quot;@color/black&quot; android:endColor=&quot;@color/white&quot; /&gt;\n        &lt;/shape&gt;\n    &lt;/item&gt;\n&lt;/selector&gt;\n</code></pre>\n<p>activity code:</p>\n<pre><code>&lt;TextView\nandroid:id=&quot;@+id/textView&quot;\nandroid:layout_width=&quot;62dp&quot;\nandroid:layout_height=&quot;46dp&quot;\nandroid:layout_marginStart=&quot;180dp&quot;\nandroid:layout_marginTop=&quot;192dp&quot;\nandroid:background=&quot;@drawable/abc&quot;\nandroid:text=&quot;TextView&quot;\napp:layout_constraintStart_toStartOf=&quot;parent&quot;\napp:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n&lt;EditText\nandroid:id=&quot;@+id/editTextTextPersonName&quot;\nandroid:layout_width=&quot;210dp&quot;\nandroid:layout_height=&quot;55dp&quot;\nandroid:layout_marginStart=&quot;108dp&quot;\nandroid:layout_marginTop=&quot;260dp&quot;\nandroid:background=&quot;@drawable/abc&quot;\nandroid:ems=&quot;10&quot;\nandroid:inputType=&quot;textPersonName&quot;\nandroid:text=&quot;Name&quot;\napp:layout_constraintStart_toStartOf=&quot;parent&quot;\napp:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n&lt;Button\nandroid:id=&quot;@+id/button&quot;\nandroid:layout_width=&quot;226dp&quot;\nandroid:layout_height=&quot;56dp&quot;\nandroid:layout_marginStart=&quot;92dp&quot;\nandroid:layout_marginTop=&quot;336dp&quot;\nandroid:background=&quot;@drawable/abc&quot;\nandroid:text=&quot;Button&quot;\napp:layout_constraintStart_toStartOf=&quot;parent&quot;\napp:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n</code></pre>\n<p>Screen with result:</p>\n<p><img src=\"https://i.stack.imgur.com/7vbPa.png\" alt=\"enter image description here\" /></p>\n<p>I was trying to figure out how the button knows its color, of course it takes it from color.xml , but its change did not lead to the desired result, since a gradient is needed</p>\n"},{"tags":["java","spring-boot","rest","epoch","java.time.instant"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1674995595,"post_id":75274353,"comment_id":132828990,"body_markdown":"What is the expected result from 683124845000? Asking because the number looks funny if it was supposed to denote a point in time this year or last year. If milliseconds since the epoch it would denote 1991-08-25T12:54:05Z. Is that it?","body":"What is the expected result from 683124845000? Asking because the number looks funny if it was supposed to denote a point in time this year or last year. If milliseconds since the epoch it would denote 1991-08-25T12:54:05Z. Is that it?"},{"owner":{"account_id":477139,"reputation":623,"user_id":888457,"accept_rate":76,"display_name":"Droid_Interceptor"},"score":0,"creation_date":1675006514,"post_id":75274353,"comment_id":132830949,"body_markdown":"That 1991 time is the expected time. It&#39;s from a randomly generate epoch with milliseconds","body":"That 1991 time is the expected time. It&#39;s from a randomly generate epoch with milliseconds"}],"answers":[{"tags":[],"owner":{"account_id":3577678,"reputation":11003,"user_id":2986537,"accept_rate":100,"display_name":"Razib"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674990437,"creation_date":1674990437,"answer_id":75274385,"question_id":75274353,"body_markdown":"To store the epoch value correctly, you can change the data type of the epoch field in the Booking class to long.\r\n\r\nExample:\r\n\r\n    public class Booking {\r\n    private long epoch;\r\n    private String email;\r\n    }\r\n\r\nThen in the controller, you can convert the string value from the request body to a long using Long.parseLong() method.\r\n\r\nExample:\r\n\r\n    @PostMapping(&quot;/booking&quot;)\r\n    public ResponseEntity createBooking(@RequestBody Booking booking) {\r\n    booking.setEpoch(Long.parseLong(booking.getEpoch()));\r\n    return ResponseEntity.ok().build();\r\n    }\r\n\r\n","title":"Instant incorrectly parsing epoch string with rest api","body":"<p>To store the epoch value correctly, you can change the data type of the epoch field in the Booking class to long.</p>\n<p>Example:</p>\n<pre><code>public class Booking {\nprivate long epoch;\nprivate String email;\n}\n</code></pre>\n<p>Then in the controller, you can convert the string value from the request body to a long using Long.parseLong() method.</p>\n<p>Example:</p>\n<pre><code>@PostMapping(&quot;/booking&quot;)\npublic ResponseEntity createBooking(@RequestBody Booking booking) {\nbooking.setEpoch(Long.parseLong(booking.getEpoch()));\nreturn ResponseEntity.ok().build();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19232527,"reputation":195,"user_id":14054111,"display_name":"origeva"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674995054,"creation_date":1674993951,"answer_id":75274738,"question_id":75274353,"body_markdown":"The default Instant serializer is expecting the epoch to be in seconds.\r\nHere are the following solutions:\r\n\r\n1) Use long or Long to store the epoch.\r\n2) Change your API to expect seconds.\r\n3) Create custom serializer / deserializer.\r\n\r\nCustom serializer / deserializer implementation:\r\n&lt;br&gt;\r\n(Assuming you want to use milliseconds for your API since the epoch in the question seemed to be in milliseconds)\r\n\r\n**Serializer**\r\n\r\n    public class CustomInstantSerializer extends JsonSerializer&lt;Instant&gt; {\r\n\r\n        @Override\r\n        public void serialize(Instant value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\r\n            long epoch = value.toEpochMilli();\r\n            gen.writeNumber(epoch);\r\n        }\r\n    \r\n    }\r\n\r\n**Deserializer**\r\n\r\n    public class CustomInstantDeserializer extends JsonDeserializer&lt;Instant&gt; {\r\n\r\n        @Override\r\n        public Instant deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException {\r\n            long epoch = jp.getLongValue();\r\n            return Instant.ofEpochMilli(epoch);\r\n        }\r\n    \r\n    }\r\n\r\n**Then wiring the serializer / deserializer to the field:**\r\n\r\n    public class Booking {\r\n\r\n        @JsonSerialize(using = CustomInstantSerializer.class)\r\n        @JsonDeserialize(using = CustomInstantDeserializer.class)\r\n        private Instant epoch;\r\n\r\n        private String email;\r\n\r\n    }","title":"Instant incorrectly parsing epoch string with rest api","body":"<p>The default Instant serializer is expecting the epoch to be in seconds.\nHere are the following solutions:</p>\n<ol>\n<li>Use long or Long to store the epoch.</li>\n<li>Change your API to expect seconds.</li>\n<li>Create custom serializer / deserializer.</li>\n</ol>\n<p>Custom serializer / deserializer implementation:\n<br>\n(Assuming you want to use milliseconds for your API since the epoch in the question seemed to be in milliseconds)</p>\n<p><strong>Serializer</strong></p>\n<pre><code>public class CustomInstantSerializer extends JsonSerializer&lt;Instant&gt; {\n\n    @Override\n    public void serialize(Instant value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\n        long epoch = value.toEpochMilli();\n        gen.writeNumber(epoch);\n    }\n\n}\n</code></pre>\n<p><strong>Deserializer</strong></p>\n<pre><code>public class CustomInstantDeserializer extends JsonDeserializer&lt;Instant&gt; {\n\n    @Override\n    public Instant deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException {\n        long epoch = jp.getLongValue();\n        return Instant.ofEpochMilli(epoch);\n    }\n\n}\n</code></pre>\n<p><strong>Then wiring the serializer / deserializer to the field:</strong></p>\n<pre><code>public class Booking {\n\n    @JsonSerialize(using = CustomInstantSerializer.class)\n    @JsonDeserialize(using = CustomInstantDeserializer.class)\n    private Instant epoch;\n\n    private String email;\n\n}\n</code></pre>\n"}],"owner":{"account_id":477139,"reputation":623,"user_id":888457,"accept_rate":76,"display_name":"Droid_Interceptor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675062412,"accepted_answer_id":75274738,"answer_count":2,"score":0,"last_activity_date":1675006601,"creation_date":1674990146,"question_id":75274353,"body_markdown":"I have a rest API with an input value which is an epoch. However, storing as an Instant ignores the nanos, thus storing it as some date in the future (I think). I could be storing them in the wrong type also as had thought about storing them as a long either.\r\n\r\nExample:\r\nFrom the input of 683124845000 I am expecting a date and time in 1991. It is converted to +23617-05-13T13:23:20Z.\r\n\r\n```\r\npublic class Booking {\r\n    private Instant epoch;\r\n    private String email;\r\n}\r\n```\r\n\r\nThe JSON input is:\r\n```\r\n{\r\n  &quot;epoch&quot;: &quot;683124845000&quot;, \r\n  &quot;email&quot;: &quot;email@email.com&quot;\r\n}\r\n```\r\n\r\nCurrently, I just have a controller that returns OK regardless of input as I am modeling the input.\r\n```\r\n@PostMapping(&quot;/booking&quot;)\r\n    public ResponseEntity createBooking(@RequestBody Booking booking) {\r\n        return ResponseEntity.ok().build();\r\n    }\r\n```","title":"Instant incorrectly parsing epoch string with rest api","body":"<p>I have a rest API with an input value which is an epoch. However, storing as an Instant ignores the nanos, thus storing it as some date in the future (I think). I could be storing them in the wrong type also as had thought about storing them as a long either.</p>\n<p>Example:\nFrom the input of 683124845000 I am expecting a date and time in 1991. It is converted to +23617-05-13T13:23:20Z.</p>\n<pre><code>public class Booking {\n    private Instant epoch;\n    private String email;\n}\n</code></pre>\n<p>The JSON input is:</p>\n<pre><code>{\n  &quot;epoch&quot;: &quot;683124845000&quot;, \n  &quot;email&quot;: &quot;email@email.com&quot;\n}\n</code></pre>\n<p>Currently, I just have a controller that returns OK regardless of input as I am modeling the input.</p>\n<pre><code>@PostMapping(&quot;/booking&quot;)\n    public ResponseEntity createBooking(@RequestBody Booking booking) {\n        return ResponseEntity.ok().build();\n    }\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","testing","automation"],"answers":[{"comments":[{"owner":{"account_id":21235043,"reputation":1,"user_id":15619339,"display_name":"Shifa"},"score":0,"creation_date":1675103396,"post_id":75276118,"comment_id":132852477,"body_markdown":"After this changes that you suggested in the code was made but still it showing an error.","body":"After this changes that you suggested in the code was made but still it showing an error."},{"owner":{"account_id":21235043,"reputation":1,"user_id":15619339,"display_name":"Shifa"},"score":0,"creation_date":1675103489,"post_id":75276118,"comment_id":132852505,"body_markdown":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/commons/io/output/UnsynchronizedByteArrayOutputStream\n\tat com.framework.DataDriveFramework.readExcel(DataDriveFramework.java:29)\n\tat com.framework.DataDriveFramework.main(DataDriveFramework.java:60)","body":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/commons/io/output/UnsynchronizedByteArrayOutputSt&zwnj;&#8203;ream \tat com.framework.DataDriveFramework.readExcel(DataDriveFramewor&zwnj;&#8203;k.java:29) \tat com.framework.DataDriveFramework.main(DataDriveFramework.jav&zwnj;&#8203;a:60)"},{"owner":{"account_id":21235043,"reputation":1,"user_id":15619339,"display_name":"Shifa"},"score":0,"creation_date":1675104123,"post_id":75276118,"comment_id":132852700,"body_markdown":"Caused by: java.lang.ClassNotFoundException: org.apache.commons.io.output.UnsynchronizedByteArrayOutputStream\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)","body":"Caused by: java.lang.ClassNotFoundException: org.apache.commons.io.output.UnsynchronizedByteArrayOutputSt&zwnj;&#8203;ream \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(B&zwnj;&#8203;uiltinClassLoader.ja&zwnj;&#8203;va:641)"},{"owner":{"account_id":21235043,"reputation":1,"user_id":15619339,"display_name":"Shifa"},"score":0,"creation_date":1675104137,"post_id":75276118,"comment_id":132852705,"body_markdown":"at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n\t... 2 more","body":"at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.lo&zwnj;&#8203;adClass(ClassLoaders&zwnj;&#8203;.java:188) \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:5&zwnj;&#8203;20) \t... 2 more"},{"owner":{"account_id":21235043,"reputation":1,"user_id":15619339,"display_name":"Shifa"},"score":0,"creation_date":1675104154,"post_id":75276118,"comment_id":132852711,"body_markdown":"Please suggest any other suggestion for what can be done in the code.","body":"Please suggest any other suggestion for what can be done in the code."}],"tags":[],"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675006366,"creation_date":1675006366,"answer_id":75276118,"question_id":75275805,"body_markdown":"You missed a dot `&#39;.&#39;` in the below line in `readExcel()` method:\r\n\r\n    else if(fileExtension.equals(&quot;xls&quot;))\r\n\r\nit should be like:\r\n\r\n    else if(fileExtension.equals(&quot;.xls&quot;))\r\n\r\n","title":"Cannot fetch the data from excel sheet in automation testing","body":"<p>You missed a dot <code>'.'</code> in the below line in <code>readExcel()</code> method:</p>\n<pre><code>else if(fileExtension.equals(&quot;xls&quot;))\n</code></pre>\n<p>it should be like:</p>\n<pre><code>else if(fileExtension.equals(&quot;.xls&quot;))\n</code></pre>\n"}],"owner":{"account_id":21235043,"reputation":1,"user_id":15619339,"display_name":"Shifa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675006366,"creation_date":1675003943,"question_id":75275805,"body_markdown":"Please check the code suggest correction:\r\n\r\npackage com.framework;\r\n\r\n\timport java.io.File;\r\n\timport java.io.FileInputStream;\r\n    import java.io.IOException;\r\n\timport java.time.Duration;\r\n\timport org.apache.poi.ss.usermodel.Sheet;\r\n\timport org.apache.poi.ss.usermodel.Row;\r\n\timport org.apache.poi.ss.usermodel.Workbook;\r\n\timport org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n\timport org.apache.poi.hssf.usermodel.*;\r\n\timport org.openqa.selenium.By;\r\n\timport org.openqa.selenium.WebDriver;\r\n\timport org.openqa.selenium.firefox.FirefoxDriver;\r\n\r\n\tpublic class DataDriveFramework {\r\n\t\tpublic void readExcel(String filePath, String fileName, String sheetName) throws IOException {\r\n\t\t\tFile file = new File(filePath+&quot;\\\\&quot;+fileName);\r\n\t\t\tFileInputStream fis = new FileInputStream(file);\r\n\t\t\tWorkbook loginWorkbook=null;\r\n\t\t\t\r\n\t\t\tString fileExtension=fileName.substring(fileName.indexOf(&quot;.&quot;));\r\n\t\t\tif(fileExtension.equals(&quot;.xlsx&quot;))\r\n\t\t\t{\r\n\t\t\t\tloginWorkbook=new XSSFWorkbook(fis);\r\n\t\t\t}\r\n\t\t\telse if(fileExtension.equals(&quot;xls&quot;))\r\n\t\t\t{\r\n\t\t\t    loginWorkbook=new HSSFWorkbook(fis);\r\n\t\t}\r\n\t\t\tSheet loginSheet=loginWorkbook.getSheet(sheetName);\r\n\t\t\t\r\n\t\t\tint rowCount=loginSheet.getLastRowNum()-loginSheet.getFirstRowNum();\r\n\t\t\tfor(int i=1;1&lt;rowCount+1;i++)\r\n\t\t\t{\r\n\t\t\t\tRow row=loginSheet.getRow(i);\r\n\t\t\t\tString username=row.getCell(0).getStringCellValue();\r\n\t\t\t\tString password=row.getCell(0).getStringCellValue();\r\n\t\t\t\ttest(username,password);\r\n\t\t\t}\r\n\t}\r\n\t\tpublic void test(String username, String password)\r\n\t\t{\r\n\t\t\tWebDriver driver=new FirefoxDriver();\r\n\t\t\tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\r\n\t\t\t\r\n\t\t\tString baseURL=&quot;https://accounts.google.com&quot;;\r\n\t\t\tdriver.get(baseURL);\r\n\t\t\t\r\n\t\t\tdriver.findElement(By.id(&quot;identifierId&quot;)).sendKeys(username);\r\n\t\t\tdriver.findElement(By.xpath(&quot;/html/body/div[1]/div[1]/div[2]/div/c-wiz/div/div[2]/div/div[2]/div/div[1]/div/div/button/span&quot;)).click();\r\n\t\t\t\t\t\r\n\t\t\tdriver.findElement(By.xpath(&quot;//*[@id=\\&quot;password\\&quot;]/div[1]/div/div[1]/input&quot;)).sendKeys(password);\r\n\t\t\tdriver.findElement(By.xpath(&quot;//*[@id=\\&quot;passwordNext\\&quot;]/div/button/span&quot;)).click();\r\n\t\t\tdriver.quit();\r\n\t\t}\r\n\t\tpublic static void main(String[] args)throws IOException {\r\n\t\t\tDataDriveFramework readFile=new DataDriveFramework();\r\n\t\t\tString filePath=&quot;C:\\\\Users\\\\Shefali\\\\eclipse-workspace\\\\DataDriveFramework\\\\TestExcelSheet\\\\&quot;;\r\n\t\t\treadFile.readExcel(filePath, &quot;DataDriven.xls&quot;, &quot;Sheet1&quot;);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\r\n\r\n\r\nThe code is to fetch the data from excel sheet and login automatically.But I am getting an error-- \r\n\r\n    &quot;Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;org.apache.poi.ss.usermodel.Workbook.getSheet(String)&quot; because &quot;loginWorkbook&quot; is &quot;null&quot;\r\n    \tat com.framework.DataDriveFramework.readExcel(DataDriveFramework.java:31)\r\n    \tat com.framework.DataDriveFrame.main(DataDriveFrame.java:60)&quot;\r\n\r\n","title":"Cannot fetch the data from excel sheet in automation testing","body":"<p>Please check the code suggest correction:</p>\n<p>package com.framework;</p>\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.time.Duration;\nimport org.apache.poi.ss.usermodel.Sheet;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.ss.usermodel.Workbook;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\nimport org.apache.poi.hssf.usermodel.*;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\n\npublic class DataDriveFramework {\n    public void readExcel(String filePath, String fileName, String sheetName) throws IOException {\n        File file = new File(filePath+&quot;\\\\&quot;+fileName);\n        FileInputStream fis = new FileInputStream(file);\n        Workbook loginWorkbook=null;\n        \n        String fileExtension=fileName.substring(fileName.indexOf(&quot;.&quot;));\n        if(fileExtension.equals(&quot;.xlsx&quot;))\n        {\n            loginWorkbook=new XSSFWorkbook(fis);\n        }\n        else if(fileExtension.equals(&quot;xls&quot;))\n        {\n            loginWorkbook=new HSSFWorkbook(fis);\n    }\n        Sheet loginSheet=loginWorkbook.getSheet(sheetName);\n        \n        int rowCount=loginSheet.getLastRowNum()-loginSheet.getFirstRowNum();\n        for(int i=1;1&lt;rowCount+1;i++)\n        {\n            Row row=loginSheet.getRow(i);\n            String username=row.getCell(0).getStringCellValue();\n            String password=row.getCell(0).getStringCellValue();\n            test(username,password);\n        }\n}\n    public void test(String username, String password)\n    {\n        WebDriver driver=new FirefoxDriver();\n        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\n        \n        String baseURL=&quot;https://accounts.google.com&quot;;\n        driver.get(baseURL);\n        \n        driver.findElement(By.id(&quot;identifierId&quot;)).sendKeys(username);\n        driver.findElement(By.xpath(&quot;/html/body/div[1]/div[1]/div[2]/div/c-wiz/div/div[2]/div/div[2]/div/div[1]/div/div/button/span&quot;)).click();\n                \n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;password\\&quot;]/div[1]/div/div[1]/input&quot;)).sendKeys(password);\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;passwordNext\\&quot;]/div/button/span&quot;)).click();\n        driver.quit();\n    }\n    public static void main(String[] args)throws IOException {\n        DataDriveFramework readFile=new DataDriveFramework();\n        String filePath=&quot;C:\\\\Users\\\\Shefali\\\\eclipse-workspace\\\\DataDriveFramework\\\\TestExcelSheet\\\\&quot;;\n        readFile.readExcel(filePath, &quot;DataDriven.xls&quot;, &quot;Sheet1&quot;);\n    }\n    \n}\n</code></pre>\n<p>The code is to fetch the data from excel sheet and login automatically.But I am getting an error--</p>\n<pre><code>&quot;Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;org.apache.poi.ss.usermodel.Workbook.getSheet(String)&quot; because &quot;loginWorkbook&quot; is &quot;null&quot;\n    at com.framework.DataDriveFramework.readExcel(DataDriveFramework.java:31)\n    at com.framework.DataDriveFrame.main(DataDriveFrame.java:60)&quot;\n</code></pre>\n"},{"tags":["java","jpa","spring-data-jpa","spring-data","jpql"],"comments":[{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":2,"creation_date":1674998360,"post_id":75275096,"comment_id":132829497,"body_markdown":"Without the full stacktrace I can only guess. Please add as much of the stacktrace as you can. Why don&#39;t you try to reproduce the exception locally?","body":"Without the full stacktrace I can only guess. Please add as much of the stacktrace as you can. Why don&#39;t you try to reproduce the exception locally?"},{"owner":{"account_id":1557618,"reputation":5266,"user_id":1448229,"accept_rate":93,"display_name":"Rey Libutan"},"score":0,"creation_date":1674999159,"post_id":75275096,"comment_id":132829614,"body_markdown":"I understand. Let me reproduce it locally and give further context. Thanks for the suggestion.","body":"I understand. Let me reproduce it locally and give further context. Thanks for the suggestion."}],"answers":[{"tags":[],"owner":{"account_id":12473930,"reputation":338,"user_id":15491774,"display_name":"stylepatrick"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675004849,"creation_date":1675004849,"answer_id":75275917,"question_id":75275096,"body_markdown":"I would recommend to return a Bean instance from the repository methode.\r\n\r\nExample here:\r\n\r\n```\r\n    @Query(&quot;SELECT &quot; +\r\n           &quot;    new com.path.to.Tuple(v.id, v.name) &quot; +\r\n           &quot;FROM &quot; +\r\n           &quot;    Quote v where v.id in (:quoteIds) &quot;)\r\n    List&lt;Tuple&gt; find(@Param(&quot;quoteIds&quot;) List&lt;Long&gt; quoteIds);\r\n```","title":"@Query doesn&#39;t work if I select more than 1 column","body":"<p>I would recommend to return a Bean instance from the repository methode.</p>\n<p>Example here:</p>\n<pre><code>    @Query(&quot;SELECT &quot; +\n           &quot;    new com.path.to.Tuple(v.id, v.name) &quot; +\n           &quot;FROM &quot; +\n           &quot;    Quote v where v.id in (:quoteIds) &quot;)\n    List&lt;Tuple&gt; find(@Param(&quot;quoteIds&quot;) List&lt;Long&gt; quoteIds);\n</code></pre>\n"}],"owner":{"account_id":1557618,"reputation":5266,"user_id":1448229,"accept_rate":93,"display_name":"Rey Libutan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675004849,"creation_date":1674997332,"question_id":75275096,"body_markdown":"I have a query like below that doesn&#39;t work. &lt;br&gt;\r\nIt throws `IndexOutOfBoundsException: Index: 0, Size: 0` \\\r\n(sorry I can&#39;t post the whole stacktrace as it is in my workstation (remote))\r\nThis started to be an issue when I upgraded from Spring Boot `1.5.2.RELEASE` to `1.5.22.RELEASE`\r\n\r\n    @Transactional(readOnly = true)\r\n    @Query(value = &quot;SELECT q.id as someId, q.name as someName from Quote q where q.id in (:quoteIds)&quot;)\r\n    List&lt;Tuple&gt; selectSomeThings(@Param(&quot;quoteIds&quot;) List&lt;Long&gt; quoteIds)\r\n\r\nNow when I try to just select 1 column like so,\r\n\r\n    @Transactional(readOnly = true)\r\n    @Query(value = &quot;SELECT q.id as someId from Quote q where q.id in (:quoteIds)&quot;)\r\n    List&lt;Tuple&gt; selectSomeThings(@Param(&quot;quoteIds&quot;) List&lt;Long&gt; quoteIds)\r\n\r\nor\r\n\r\n    @Transactional(readOnly = true)\r\n    @Query(value = &quot;SELECT q.name as someName from Quote q where q.id in (:quoteIds)&quot;)\r\n    List&lt;Tuple&gt; selectSomeThings(@Param(&quot;quoteIds&quot;) List&lt;Long&gt; quoteIds)\r\n\r\nit works. Just doesn&#39;t work when I select 2 at the same time.\r\n\r\n","title":"@Query doesn&#39;t work if I select more than 1 column","body":"<p>I have a query like below that doesn't work. <br>\nIt throws <code>IndexOutOfBoundsException: Index: 0, Size: 0</code> <br />\n(sorry I can't post the whole stacktrace as it is in my workstation (remote))\nThis started to be an issue when I upgraded from Spring Boot <code>1.5.2.RELEASE</code> to <code>1.5.22.RELEASE</code></p>\n<pre><code>@Transactional(readOnly = true)\n@Query(value = &quot;SELECT q.id as someId, q.name as someName from Quote q where q.id in (:quoteIds)&quot;)\nList&lt;Tuple&gt; selectSomeThings(@Param(&quot;quoteIds&quot;) List&lt;Long&gt; quoteIds)\n</code></pre>\n<p>Now when I try to just select 1 column like so,</p>\n<pre><code>@Transactional(readOnly = true)\n@Query(value = &quot;SELECT q.id as someId from Quote q where q.id in (:quoteIds)&quot;)\nList&lt;Tuple&gt; selectSomeThings(@Param(&quot;quoteIds&quot;) List&lt;Long&gt; quoteIds)\n</code></pre>\n<p>or</p>\n<pre><code>@Transactional(readOnly = true)\n@Query(value = &quot;SELECT q.name as someName from Quote q where q.id in (:quoteIds)&quot;)\nList&lt;Tuple&gt; selectSomeThings(@Param(&quot;quoteIds&quot;) List&lt;Long&gt; quoteIds)\n</code></pre>\n<p>it works. Just doesn't work when I select 2 at the same time.</p>\n"},{"tags":["java","excel","spring-boot","apache-poi","cpu-usage"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1674891265,"post_id":75266070,"comment_id":132814293,"body_markdown":"Please clarify why your app is restarting. Exactly which resource limit is it hitting?","body":"Please clarify why your app is restarting. Exactly which resource limit is it hitting?"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1674892865,"post_id":75266070,"comment_id":132814465,"body_markdown":"Don&#39;t return null on an exception, at least print a stack trace.","body":"Don&#39;t return null on an exception, at least print a stack trace."},{"owner":{"account_id":14738,"reputation":1687,"user_id":30581,"accept_rate":67,"display_name":"Emrah Diril"},"score":2,"creation_date":1674893355,"post_id":75266070,"comment_id":132814525,"body_markdown":"Which version of apache poi are you using? Is it the latest? If not, you could consider upgrading in case the team made improvements to the resource usage issues you are running into.","body":"Which version of apache poi are you using? Is it the latest? If not, you could consider upgrading in case the team made improvements to the resource usage issues you are running into."},{"owner":{"account_id":20354271,"reputation":59,"user_id":14930161,"display_name":"tomsheldon"},"score":0,"creation_date":1674895782,"post_id":75266070,"comment_id":132814795,"body_markdown":"@tgdavies CPU limit is hitting . that is confirmed from checking kubectl logs. and also when checking in local Jconsole for spring-boot it is confirmed. thank you for comment","body":"@tgdavies CPU limit is hitting . that is confirmed from checking kubectl logs. and also when checking in local Jconsole for spring-boot it is confirmed. thank you for comment"},{"owner":{"account_id":20354271,"reputation":59,"user_id":14930161,"display_name":"tomsheldon"},"score":0,"creation_date":1674895931,"post_id":75266070,"comment_id":132814810,"body_markdown":"@GilbertLeBlanc yes actally logging exception and throwing a custom business exception in catch block. removed unneccessary code for brevity when adding question in stackoverflow. thank you for comment","body":"@GilbertLeBlanc yes actally logging exception and throwing a custom business exception in catch block. removed unneccessary code for brevity when adding question in stackoverflow. thank you for comment"},{"owner":{"account_id":20354271,"reputation":59,"user_id":14930161,"display_name":"tomsheldon"},"score":0,"creation_date":1674897044,"post_id":75266070,"comment_id":132814941,"body_markdown":"@EmrahDiril new version 5.2.3 of apache poi-ooxml","body":"@EmrahDiril new version 5.2.3 of apache poi-ooxml"},{"owner":{"account_id":463036,"reputation":5207,"user_id":865695,"accept_rate":56,"display_name":"Sebastian"},"score":0,"creation_date":1674899161,"post_id":75266070,"comment_id":132815266,"body_markdown":"Isn&#39;t writing to CSV and then converting to Excel an alternative?","body":"Isn&#39;t writing to CSV and then converting to Excel an alternative?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1674901403,"post_id":75266070,"comment_id":132815580,"body_markdown":"Wanting more CPU than the k8s limit allows shouldn&#39;t cause a container to restart. Are you certain that&#39;s happening?","body":"Wanting more CPU than the k8s limit allows shouldn&#39;t cause a container to restart. Are you certain that&#39;s happening?"},{"owner":{"account_id":20354271,"reputation":59,"user_id":14930161,"display_name":"tomsheldon"},"score":0,"creation_date":1674917327,"post_id":75266070,"comment_id":132818232,"body_markdown":"@tgdavies yes we have config to discard pod if it reaches 60% of cpu resource utilization. checked with other team who configured this config also confirmed.","body":"@tgdavies yes we have config to discard pod if it reaches 60% of cpu resource utilization. checked with other team who configured this config also confirmed."},{"owner":{"account_id":20354271,"reputation":59,"user_id":14930161,"display_name":"tomsheldon"},"score":0,"creation_date":1674917395,"post_id":75266070,"comment_id":132818250,"body_markdown":"@Sebastian got the idea but still i have to use the POI to write the file so again i have to use workbook.write(fileOutStream) method only. it will again cause same CPU hike","body":"@Sebastian got the idea but still i have to use the POI to write the file so again i have to use workbook.write(fileOutStream) method only. it will again cause same CPU hike"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1674972905,"post_id":75266070,"comment_id":132825917,"body_markdown":"Killing a pod if it uses 60% of the CPU that you have configured it to be able to use seems  strange. Why not just reduce the limit?","body":"Killing a pod if it uses 60% of the CPU that you have configured it to be able to use seems  strange. Why not just reduce the limit?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1674974036,"post_id":75266070,"comment_id":132826027,"body_markdown":"&quot;Is there any way to write a large excel file without impacting CPU and Memory?&quot;: Let me have my cake and eat it too. In German we say: Wash me but don&#39;t get me wet.","body":"&quot;Is there any way to write a large excel file without impacting CPU and Memory?&quot;: Let me have my cake and eat it too. In German we say: Wash me but don&#39;t get me wet."}],"answers":[{"tags":[],"owner":{"account_id":14738,"reputation":1687,"user_id":30581,"accept_rate":67,"display_name":"Emrah Diril"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674898208,"creation_date":1674894958,"answer_id":75266373,"question_id":75266070,"body_markdown":"You seem to be doing the right thing by giving SXSSFWorkbook a window size (although `1` might be too small causing problems?). The workbook should be getting flushed to disk when the number of rows exceed the limit you set, reducing memory usage. I doubt there is a workaround for reducing cpu usage though.\r\n\r\nYou can try to limit your memory usage by adjusting JVM parameters so it doesn&#39;t trigger the K8s limit. Have a look at these: `-Xmx` `-Xms` `-XX:MaxRAM` `-XX:+UseSerialGC`\r\n\r\nHave you considered using an alternate library for writing Excel files? For example, have a look at this SO answer: https://stackoverflow.com/questions/4601722/are-there-any-alternatives-to-using-apache-poi-java-for-microsoft-office","title":"Writing large Excel in Java causing high CPU usage using apache-poi","body":"<p>You seem to be doing the right thing by giving SXSSFWorkbook a window size (although <code>1</code> might be too small causing problems?). The workbook should be getting flushed to disk when the number of rows exceed the limit you set, reducing memory usage. I doubt there is a workaround for reducing cpu usage though.</p>\n<p>You can try to limit your memory usage by adjusting JVM parameters so it doesn't trigger the K8s limit. Have a look at these: <code>-Xmx</code> <code>-Xms</code> <code>-XX:MaxRAM</code> <code>-XX:+UseSerialGC</code></p>\n<p>Have you considered using an alternate library for writing Excel files? For example, have a look at this SO answer: <a href=\"https://stackoverflow.com/questions/4601722/are-there-any-alternatives-to-using-apache-poi-java-for-microsoft-office\">Are there any alternatives to using Apache POI Java for Microsoft Office?</a></p>\n"},{"comments":[{"owner":{"account_id":20354271,"reputation":59,"user_id":14930161,"display_name":"tomsheldon"},"score":0,"creation_date":1674998988,"post_id":75273669,"comment_id":132829585,"body_markdown":"Thanks for your input. i know excel files are not like plain text file or CSV. just asked the question for  help if workbook.write() can be written slowly and in that way i can keep the CPU usage low. i dont want to achieve any super performanence. when writing even being slow also fine but just need to hit the CPU limits.  anyways thanks.","body":"Thanks for your input. i know excel files are not like plain text file or CSV. just asked the question for  help if workbook.write() can be written slowly and in that way i can keep the CPU usage low. i dont want to achieve any super performanence. when writing even being slow also fine but just need to hit the CPU limits.  anyways thanks."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1675002198,"post_id":75273669,"comment_id":132830133,"body_markdown":"@tomsheldon: Give &#237;t more resources. Look at my code at https://stackoverflow.com/questions/75164355/get-smart-excel-table-with-apache-poi/75172222#75172222. I&#39;ve tried this using `organizations-1000000.csv` from https://www.datablist.com/learn/csv/download-sample-csv-files. That works for me and creates a `Excel.xlsx` having 1,000,000 rows and 97,450 MB of size. Of course it was running without limitation of resources.","body":"@tomsheldon: Give &#237;t more resources. Look at my code at <a href=\"https://stackoverflow.com/questions/75164355/get-smart-excel-table-with-apache-poi/75172222#75172222\" title=\"get smart excel table with apache poi\">stackoverflow.com/questions/75164355/&hellip;</a>. I&#39;ve tried this using <code>organizations-1000000.csv</code> from <a href=\"https://www.datablist.com/learn/csv/download-sample-csv-files\" rel=\"nofollow noreferrer\">datablist.com/learn/csv/download-sample-csv-files</a>. That works for me and creates a <code>Excel.xlsx</code> having 1,000,000 rows and 97,450 MB of size. Of course it was running without limitation of resources."}],"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675004659,"creation_date":1674982228,"answer_id":75273669,"question_id":75266070,"body_markdown":"The question &quot;Is there any way to write a large excel file without impacting CPU and Memory?&quot; is something like: Let me have my cake and eat it too. In German we say: Wash me but don&#39;t get me wet. In other words: All content which shall be in a file on a computer must be through the CPU and must be in memory while processing.\r\n\r\nTo get a clue about what amount of memory we are talking about, lets have a simple calculation of what it means to have 500,000 rows with 25 columns:\r\n\r\n                         Cell value                                                                         Len     500,000 times  KiByte\t     MiByte\r\n    Single value         some cell value                                                                    15\t\t\t\r\n    25 columns           some cell value, some cell value, some cell value, some cell value, some ...       425     212500000      207519.5313   202.6557922\r\n    XML of single value  &lt;c r=&quot;C99&quot; t=&quot;inlineStr&quot; s=&quot;9&quot;&gt;&lt;is&gt;&lt;t&gt;some cell value&lt;/t&gt;&lt;/is&gt;&lt;/c&gt;                 66       \r\n    XML of 25 columns    &lt;c r=&quot;C99&quot; t=&quot;inlineStr&quot; s=&quot;9&quot;&gt;&lt;is&gt;&lt;t&gt;some cell value&lt;/t&gt;&lt;/is&gt;&lt;/c&gt;&lt;c r=&quot;...        1650    825000000      805664.0625   786.781311\r\n\r\n\r\nThat shows, even having only plain text, 500,000 rows with 25 columns having cell value &quot;some cell value&quot; will take 202.6557922 MiByte of memory.\r\n\r\nBut a Excel file is not simply plain text. Current Open Office Excel format stores XML. And that needs much more memory because of the XML-overhead. The above shows that 500,000 rows with 25 columns having cell value &quot;some cell value&quot; will take 786.781311 MiByte of memory, when stored as XML.\r\n\r\nThat 786.781311 MiByte of memory is only to store the cells, there is more overhead to store the rows, the sheets, the workbook, the styles, the relations, ... \r\n\r\n`SXSSFWorkbook` claims to be a streaming approach. But it only streams the cells into rows into sheets as temporary files. It additional needs memory to hold the workbook, the styles, the relations, ... After streaming, it needs memory to put that all together into the workbook. And at least while this process the whole workbook size must be processed through CPU and memory.\r\n\r\nConclusion:\r\nExcel is a spreadsheet application. It is not a good format for data exchange. Good formats for data exchange are: Plain text (CSV) or plain XML or JSON, as those really can contain streams of plain data rows without the overhead of sheets in a workbook.\r\n\r\n\r\nIf your business requirement insists in Excel files, then give the application more resources.\r\n\r\nMy code provided in https://stackoverflow.com/questions/75164355/get-smart-excel-table-with-apache-poi/75172222#75172222 works using `organizations-1000000.csv`, got downloaded from https://www.datablist.com/learn/csv/download-sample-csv-files. It creates a `Excel.xlsx` having 1,000,000 data rows and 97,450 KB of size.\r\n\r\nFor me `java -XX:+PrintFlagsFinal -version   | findstr HeapSize` prints:\r\n\r\n       size_t ErgoHeapSizeLimit                        = 0                                         {product} {default}\r\n       size_t HeapSizePerGCThread                      = 43620760                                  {product} {default}\r\n       size_t InitialHeapSize                          = 132120576                                 {product} {ergonomic}\r\n       size_t LargePageHeapSizeThreshold               = 134217728                                 {product} {default}\r\n       size_t MaxHeapSize                              = 2113929216                                {product} {ergonomic}\r\n       size_t MinHeapSize                              = 8388608                                   {product} {ergonomic}\r\n        uintx NonNMethodCodeHeapSize                   = 5832780                                {pd product} {ergonomic}\r\n        uintx NonProfiledCodeHeapSize                  = 122912730                              {pd product} {ergonomic}\r\n        uintx ProfiledCodeHeapSize                     = 122912730                              {pd product} {ergonomic}\r\n       size_t SoftMaxHeapSize                          = 2113929216                             {manageable} {ergonomic}\r\n    java version &quot;15&quot; 2020-09-15\r\n    Java(TM) SE Runtime Environment (build 15+36-1562)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 15+36-1562, mixed mode, sharing)\r\n\r\n","title":"Writing large Excel in Java causing high CPU usage using apache-poi","body":"<p>The question &quot;Is there any way to write a large excel file without impacting CPU and Memory?&quot; is something like: Let me have my cake and eat it too. In German we say: Wash me but don't get me wet. In other words: All content which shall be in a file on a computer must be through the CPU and must be in memory while processing.</p>\n<p>To get a clue about what amount of memory we are talking about, lets have a simple calculation of what it means to have 500,000 rows with 25 columns:</p>\n<pre><code>                     Cell value                                                                         Len     500,000 times  KiByte        MiByte\nSingle value         some cell value                                                                    15          \n25 columns           some cell value, some cell value, some cell value, some cell value, some ...       425     212500000      207519.5313   202.6557922\nXML of single value  &lt;c r=&quot;C99&quot; t=&quot;inlineStr&quot; s=&quot;9&quot;&gt;&lt;is&gt;&lt;t&gt;some cell value&lt;/t&gt;&lt;/is&gt;&lt;/c&gt;                 66       \nXML of 25 columns    &lt;c r=&quot;C99&quot; t=&quot;inlineStr&quot; s=&quot;9&quot;&gt;&lt;is&gt;&lt;t&gt;some cell value&lt;/t&gt;&lt;/is&gt;&lt;/c&gt;&lt;c r=&quot;...        1650    825000000      805664.0625   786.781311\n</code></pre>\n<p>That shows, even having only plain text, 500,000 rows with 25 columns having cell value &quot;some cell value&quot; will take 202.6557922 MiByte of memory.</p>\n<p>But a Excel file is not simply plain text. Current Open Office Excel format stores XML. And that needs much more memory because of the XML-overhead. The above shows that 500,000 rows with 25 columns having cell value &quot;some cell value&quot; will take 786.781311 MiByte of memory, when stored as XML.</p>\n<p>That 786.781311 MiByte of memory is only to store the cells, there is more overhead to store the rows, the sheets, the workbook, the styles, the relations, ...</p>\n<p><code>SXSSFWorkbook</code> claims to be a streaming approach. But it only streams the cells into rows into sheets as temporary files. It additional needs memory to hold the workbook, the styles, the relations, ... After streaming, it needs memory to put that all together into the workbook. And at least while this process the whole workbook size must be processed through CPU and memory.</p>\n<p>Conclusion:\nExcel is a spreadsheet application. It is not a good format for data exchange. Good formats for data exchange are: Plain text (CSV) or plain XML or JSON, as those really can contain streams of plain data rows without the overhead of sheets in a workbook.</p>\n<p>If your business requirement insists in Excel files, then give the application more resources.</p>\n<p>My code provided in <a href=\"https://stackoverflow.com/questions/75164355/get-smart-excel-table-with-apache-poi/75172222#75172222\">Get smart Excel table with Apache POI</a> works using <code>organizations-1000000.csv</code>, got downloaded from <a href=\"https://www.datablist.com/learn/csv/download-sample-csv-files\" rel=\"nofollow noreferrer\">https://www.datablist.com/learn/csv/download-sample-csv-files</a>. It creates a <code>Excel.xlsx</code> having 1,000,000 data rows and 97,450 KB of size.</p>\n<p>For me <code>java -XX:+PrintFlagsFinal -version   | findstr HeapSize</code> prints:</p>\n<pre><code>   size_t ErgoHeapSizeLimit                        = 0                                         {product} {default}\n   size_t HeapSizePerGCThread                      = 43620760                                  {product} {default}\n   size_t InitialHeapSize                          = 132120576                                 {product} {ergonomic}\n   size_t LargePageHeapSizeThreshold               = 134217728                                 {product} {default}\n   size_t MaxHeapSize                              = 2113929216                                {product} {ergonomic}\n   size_t MinHeapSize                              = 8388608                                   {product} {ergonomic}\n    uintx NonNMethodCodeHeapSize                   = 5832780                                {pd product} {ergonomic}\n    uintx NonProfiledCodeHeapSize                  = 122912730                              {pd product} {ergonomic}\n    uintx ProfiledCodeHeapSize                     = 122912730                              {pd product} {ergonomic}\n   size_t SoftMaxHeapSize                          = 2113929216                             {manageable} {ergonomic}\njava version &quot;15&quot; 2020-09-15\nJava(TM) SE Runtime Environment (build 15+36-1562)\nJava HotSpot(TM) 64-Bit Server VM (build 15+36-1562, mixed mode, sharing)\n</code></pre>\n"}],"owner":{"account_id":20354271,"reputation":59,"user_id":14930161,"display_name":"tomsheldon"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":928,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1675004659,"creation_date":1674890998,"question_id":75266070,"body_markdown":"Writing large data around 1/2 million records with  25 columns.\r\n\r\nUsing apache-poi streaming workbook to write data from list to excel file.\r\nwhen tested locally it is giving high CPU spikes in local machine too.\r\nappears to be causing when writing workbook data to file\r\n\r\n    workbook.write(fileOutputStream) // it is causing CPU spikes debugged and confirmed.\r\n\r\nIt is causing high CPU usage in cloud app (deployed in kubernetes) and restarting application as it is hitting resource limits. we have a simple app with 2042Mi memory and 1024m CPU config.\r\n\r\n\r\nIs there any way to write a large excel file without impacting CPU and Memory and java heap efficiently.\r\n\r\n(NOTE: can&#39;t use csv or other formats as business requirement is for excel files)\r\n\r\nCode using:\r\n\r\n```\r\nimport java.io.File;\r\nimport java.io.FileOutputStream;\r\nimport java.util.List;\r\n\r\nimport org.apache.poi.ss.usermodel.Cell;\r\nimport org.apache.poi.ss.usermodel.CellStyle;\r\nimport org.apache.poi.ss.usermodel.Row;\r\nimport org.apache.poi.ss.usermodel.Sheet;\r\nimport org.apache.poi.xssf.streaming.SXSSFWorkbook;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.king.medicalcollege.model.Medico;\r\n\r\n@Service\r\npublic class ExcelWriterService {\r\n\r\n\t// file is an empty file already created\r\n\t// Large List around 500K records of medico data [Medico is POJO]\r\n\r\n\tpublic File writeData(File file, List&lt;Medico&gt; medicos) {\r\n\r\n\t\tSXSSFWorkbook sxssfWorkbook = null;\r\n\t\ttry (SXSSFWorkbook workbook = sxssfWorkbook = new SXSSFWorkbook(1);\r\n\t\t\t\tFileOutputStream fileOutputStream = new FileOutputStream(file)) {\r\n\r\n\t\t\tSheet sheet = workbook.createSheet();\r\n\t\t\tCellStyle cellStyle = workbook.createCellStyle();\r\n\t\t\tint rowNum = 0;\r\n\t\t\tfor (Medico medico : medicos) {\r\n\t\t\t\tRow row = sheet.createRow(rowNum);\r\n\t\t\t\t//just adding POJO values (25 fields)  into ROW \r\n\t\t\t\taddDataInRow(medico, row, cellStyle);\r\n\t\t\t\trowNum++;\r\n\t\t\t}\r\n\r\n\t\t\t//workbook.write causing CPU spike\r\n\t\t\tworkbook.write(fileOutputStream);\r\n\r\n\t\t\tworkbook.dispose();\r\n\r\n\t\t} catch (Exception exception) {\r\n\t\t\treturn null;\r\n\t\t} finally {\r\n\t\t\tif (sxssfWorkbook != null) {\r\n\t\t\t\tsxssfWorkbook.dispose();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn file;\r\n\t}\r\n\r\n\tprivate void addDataInRow(Medico medico, Row row, CellStyle cellStyle) {\r\n\t\tCell cell_0 = row.createCell(0);\r\n\t\tcell_0.setCellValue(medico.getFirstName());\r\n\t\tcell_0.setCellStyle(cellStyle);\r\n\t\t\r\n\t\tCell cell_1 = row.createCell(1);\r\n\t\tcell_1.setCellValue(medico.getMiddleName());\r\n\t\tcell_1.setCellStyle(cellStyle);\r\n\t\t\r\n\t\tCell cell_2 = row.createCell(2);\r\n\t\tcell_2.setCellValue(medico.getLastName());\r\n\t\tcell_2.setCellStyle(cellStyle);\r\n\t\t\r\n\t\tCell cell_3 = row.createCell(2);\r\n\t\tcell_3.setCellValue(medico.getFirstName());\r\n\t\tcell_3.setCellStyle(cellStyle);\r\n\t\t\r\n\t\t//...... around 25 columns will be added like this\r\n\t}\r\n}\r\n```","title":"Writing large Excel in Java causing high CPU usage using apache-poi","body":"<p>Writing large data around 1/2 million records with  25 columns.</p>\n<p>Using apache-poi streaming workbook to write data from list to excel file.\nwhen tested locally it is giving high CPU spikes in local machine too.\nappears to be causing when writing workbook data to file</p>\n<pre><code>workbook.write(fileOutputStream) // it is causing CPU spikes debugged and confirmed.\n</code></pre>\n<p>It is causing high CPU usage in cloud app (deployed in kubernetes) and restarting application as it is hitting resource limits. we have a simple app with 2042Mi memory and 1024m CPU config.</p>\n<p>Is there any way to write a large excel file without impacting CPU and Memory and java heap efficiently.</p>\n<p>(NOTE: can't use csv or other formats as business requirement is for excel files)</p>\n<p>Code using:</p>\n<pre><code>import java.io.File;\nimport java.io.FileOutputStream;\nimport java.util.List;\n\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.CellStyle;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.ss.usermodel.Sheet;\nimport org.apache.poi.xssf.streaming.SXSSFWorkbook;\nimport org.springframework.stereotype.Service;\n\nimport com.king.medicalcollege.model.Medico;\n\n@Service\npublic class ExcelWriterService {\n\n    // file is an empty file already created\n    // Large List around 500K records of medico data [Medico is POJO]\n\n    public File writeData(File file, List&lt;Medico&gt; medicos) {\n\n        SXSSFWorkbook sxssfWorkbook = null;\n        try (SXSSFWorkbook workbook = sxssfWorkbook = new SXSSFWorkbook(1);\n                FileOutputStream fileOutputStream = new FileOutputStream(file)) {\n\n            Sheet sheet = workbook.createSheet();\n            CellStyle cellStyle = workbook.createCellStyle();\n            int rowNum = 0;\n            for (Medico medico : medicos) {\n                Row row = sheet.createRow(rowNum);\n                //just adding POJO values (25 fields)  into ROW \n                addDataInRow(medico, row, cellStyle);\n                rowNum++;\n            }\n\n            //workbook.write causing CPU spike\n            workbook.write(fileOutputStream);\n\n            workbook.dispose();\n\n        } catch (Exception exception) {\n            return null;\n        } finally {\n            if (sxssfWorkbook != null) {\n                sxssfWorkbook.dispose();\n            }\n        }\n\n        return file;\n    }\n\n    private void addDataInRow(Medico medico, Row row, CellStyle cellStyle) {\n        Cell cell_0 = row.createCell(0);\n        cell_0.setCellValue(medico.getFirstName());\n        cell_0.setCellStyle(cellStyle);\n        \n        Cell cell_1 = row.createCell(1);\n        cell_1.setCellValue(medico.getMiddleName());\n        cell_1.setCellStyle(cellStyle);\n        \n        Cell cell_2 = row.createCell(2);\n        cell_2.setCellValue(medico.getLastName());\n        cell_2.setCellStyle(cellStyle);\n        \n        Cell cell_3 = row.createCell(2);\n        cell_3.setCellValue(medico.getFirstName());\n        cell_3.setCellStyle(cellStyle);\n        \n        //...... around 25 columns will be added like this\n    }\n}\n</code></pre>\n"},{"tags":["java","javafx","netbeans-8"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":3,"creation_date":1558107327,"post_id":56189570,"comment_id":99004169,"body_markdown":"Have you tried `new Image(&quot;ship.png&quot;);` without the `file:` part!?","body":"Have you tried <code>new Image(&quot;ship.png&quot;);</code> without the <code>file:</code> part!?"},{"owner":{"account_id":927305,"reputation":34168,"user_id":1054140,"accept_rate":100,"display_name":"Sergey Grinev"},"score":0,"creation_date":1558112423,"post_id":56189570,"comment_id":99006219,"body_markdown":"make sure your image is included into the jar","body":"make sure your image is included into the jar"},{"owner":{"account_id":927305,"reputation":34168,"user_id":1054140,"accept_rate":100,"display_name":"Sergey Grinev"},"score":1,"creation_date":1558112537,"post_id":56189570,"comment_id":99006262,"body_markdown":"Also, check https://stackoverflow.com/questions/10575410/where-does-javafx-scene-image-imageflower-png-look-for-flower-png","body":"Also, check <a href=\"https://stackoverflow.com/questions/10575410/where-does-javafx-scene-image-imageflower-png-look-for-flower-png\" title=\"where does javafx scene image imageflower png look for flower png\">stackoverflow.com/questions/10575410/&hellip;</a>"},{"owner":{"account_id":15959369,"reputation":3,"user_id":11516878,"display_name":"Ahmad Akram"},"score":0,"creation_date":1558118084,"post_id":56189570,"comment_id":99008467,"body_markdown":"I did try new Image(&quot;ship.png&quot;) and my images are included in the jar.","body":"I did try new Image(&quot;ship.png&quot;) and my images are included in the jar."}],"answers":[{"tags":[],"owner":{"account_id":18741097,"reputation":1,"user_id":13664345,"display_name":"Willson Vulembere"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594496923,"creation_date":1594473975,"answer_id":62849756,"question_id":56189570,"body_markdown":"I believe that the image should be in the same directory as your java project or declare a package of icons inside your project.\r\ne.g.: `/icons/monimage.png` in the source directory\r\n  otherwise your access path will tighten \r\n\r\n    Image il=new Image(&quot;/icon/monimage.png&quot;);\r\n    setFill(new ImagePattern(il));","title":"IllegalArgumentException : image must be non-null","body":"<p>I believe that the image should be in the same directory as your java project or declare a package of icons inside your project.\ne.g.: <code>/icons/monimage.png</code> in the source directory\notherwise your access path will tighten</p>\n<pre><code>Image il=new Image(&quot;/icon/monimage.png&quot;);\nsetFill(new ImagePattern(il));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18741097,"reputation":1,"user_id":13664345,"display_name":"Willson Vulembere"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675004578,"creation_date":1675004578,"answer_id":75275893,"question_id":56189570,"body_markdown":"     public static void SetImage(ImageView imgV, String patch) throws FileNotFoundException {\r\n        File file = new File(patch);\r\n        Image image = new Image(file.toURI().toString(), imgV.getFitHeight(), imgV.getFitWidth(), true, true);\r\n        imgV.setImage(image);\r\n        imgV.setPreserveRatio(true);\r\n    }\r\n\r\nYou can use this function to display an image directly in an ImagaView","title":"IllegalArgumentException : image must be non-null","body":"<pre><code> public static void SetImage(ImageView imgV, String patch) throws FileNotFoundException {\n    File file = new File(patch);\n    Image image = new Image(file.toURI().toString(), imgV.getFitHeight(), imgV.getFitWidth(), true, true);\n    imgV.setImage(image);\n    imgV.setPreserveRatio(true);\n}\n</code></pre>\n<p>You can use this function to display an image directly in an ImagaView</p>\n"}],"owner":{"account_id":15959369,"reputation":3,"user_id":11516878,"display_name":"Ahmad Akram"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1370,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675004578,"creation_date":1558107262,"question_id":56189570,"body_markdown":"I&#39;m working on a simple &quot;Space Invaders&quot; game using JavaFx, and while my game works fine without any exceptions or errors when I run the project inside netbeans, it keeps giving me this error when I run the .jar file through CMD and I can&#39;t seem to find a solution.\r\n\r\n//this is an example of how i define my images/imagepattern\r\n\r\n```java\r\nImage il=new Image(&quot;file:ship.png&quot;);\r\nsetFill(new ImagePattern(il));\r\n```\r\n\r\n\r\n\r\n\r\n// this is the error\r\n```\r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.IllegalArgumentException: Image must be non-null\r\n        at com.sun.prism.paint.ImagePattern.&lt;init&gt;(ImagePattern.java:44)\r\n        at com.sun.javafx.tk.quantum.QuantumToolkit.createImagePatternPaint(QuantumToolkit.java:905)\r\n        at com.sun.javafx.tk.Toolkit.getPaint(Toolkit.java:657)\r\n        at javafx.scene.paint.ImagePattern.acc_getPlatformPaint(ImagePattern.java:291)\r\n        at javafx.scene.paint.Paint$1.getPlatformPaint(Paint.java:51)\r\n        at javafx.scene.shape.Shape.updatePGShape(Shape.java:916)\r\n        at javafx.scene.shape.Shape.impl_updatePeer(Shape.java:965)\r\n        at javafx.scene.shape.Rectangle.impl_updatePeer(Rectangle.java:541)\r\n        at javafx.scene.Node.impl_syncPeer(Node.java:503)\r\n        at javafx.scene.Scene$ScenePulseListener.syncAll(Scene.java:2304)\r\n        at javafx.scene.Scene$ScenePulseListener.syncAll(Scene.java:2313)\r\n        at javafx.scene.Scene$ScenePulseListener.synchronizeSceneNodes(Scene.java:2280)\r\n        at javafx.scene.Scene$ScenePulseListener.pulse(Scene.java:2419)\r\n        at com.sun.javafx.tk.Toolkit.lambda$runPulse$29(Toolkit.java:398)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at com.sun.javafx.tk.Toolkit.runPulse(Toolkit.java:397)\r\n        at com.sun.javafx.tk.Toolkit.firePulse(Toolkit.java:424)\r\n        at com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:518)\r\n        at com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:498)\r\n        at com.sun.javafx.tk.quantum.QuantumToolkit.pulseFromQueue(QuantumToolkit.java:491)\r\n        at com.sun.javafx.tk.quantum.QuantumToolkit.lambda$runToolkit$408(QuantumToolkit.java:319)\r\n        at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\r\n        at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n        at com.sun.glass.ui.win.WinApplication.lambda$null$152(WinApplication.java:177)\r\n        at java.lang.Thread.run(Unknown Source)\r\n```\r\n\r\n\r\n**EDIT:**\r\nafter some debugging i have found that the .jar looks for the images in C:\\Users\\Admin instead of within the project itself, how can i change that?","title":"IllegalArgumentException : image must be non-null","body":"<p>I'm working on a simple \"Space Invaders\" game using JavaFx, and while my game works fine without any exceptions or errors when I run the project inside netbeans, it keeps giving me this error when I run the .jar file through CMD and I can't seem to find a solution.</p>\n\n<p>//this is an example of how i define my images/imagepattern</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Image il=new Image(\"file:ship.png\");\nsetFill(new ImagePattern(il));\n</code></pre>\n\n<p>// this is the error</p>\n\n<pre><code>Exception in thread \"JavaFX Application Thread\" java.lang.IllegalArgumentException: Image must be non-null\n        at com.sun.prism.paint.ImagePattern.&lt;init&gt;(ImagePattern.java:44)\n        at com.sun.javafx.tk.quantum.QuantumToolkit.createImagePatternPaint(QuantumToolkit.java:905)\n        at com.sun.javafx.tk.Toolkit.getPaint(Toolkit.java:657)\n        at javafx.scene.paint.ImagePattern.acc_getPlatformPaint(ImagePattern.java:291)\n        at javafx.scene.paint.Paint$1.getPlatformPaint(Paint.java:51)\n        at javafx.scene.shape.Shape.updatePGShape(Shape.java:916)\n        at javafx.scene.shape.Shape.impl_updatePeer(Shape.java:965)\n        at javafx.scene.shape.Rectangle.impl_updatePeer(Rectangle.java:541)\n        at javafx.scene.Node.impl_syncPeer(Node.java:503)\n        at javafx.scene.Scene$ScenePulseListener.syncAll(Scene.java:2304)\n        at javafx.scene.Scene$ScenePulseListener.syncAll(Scene.java:2313)\n        at javafx.scene.Scene$ScenePulseListener.synchronizeSceneNodes(Scene.java:2280)\n        at javafx.scene.Scene$ScenePulseListener.pulse(Scene.java:2419)\n        at com.sun.javafx.tk.Toolkit.lambda$runPulse$29(Toolkit.java:398)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at com.sun.javafx.tk.Toolkit.runPulse(Toolkit.java:397)\n        at com.sun.javafx.tk.Toolkit.firePulse(Toolkit.java:424)\n        at com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:518)\n        at com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:498)\n        at com.sun.javafx.tk.quantum.QuantumToolkit.pulseFromQueue(QuantumToolkit.java:491)\n        at com.sun.javafx.tk.quantum.QuantumToolkit.lambda$runToolkit$408(QuantumToolkit.java:319)\n        at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\n        at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n        at com.sun.glass.ui.win.WinApplication.lambda$null$152(WinApplication.java:177)\n        at java.lang.Thread.run(Unknown Source)\n</code></pre>\n\n<p><strong>EDIT:</strong>\nafter some debugging i have found that the .jar looks for the images in C:\\Users\\Admin instead of within the project itself, how can i change that?</p>\n"},{"tags":["java","android","adt"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1403972854,"post_id":24468705,"comment_id":37869655,"body_markdown":"Not officially. Xav Ducrohet was asked that in the Google I|O 2014 &quot;Android Fireside Chat&quot; presentation, and he declined to answer, more or less.","body":"Not officially. Xav Ducrohet was asked that in the Google I|O 2014 &quot;Android Fireside Chat&quot; presentation, and he declined to answer, more or less."},{"owner":{"account_id":3131299,"reputation":37922,"user_id":2649012,"accept_rate":100,"display_name":"Phant&#244;maxx"},"score":1,"creation_date":1403976576,"post_id":24468705,"comment_id":37870648,"body_markdown":"It **barely supports Java 7** (only API Level 19 supports certain Java 7 features)...","body":"It <b>barely supports Java 7</b> (only API Level 19 supports certain Java 7 features)..."},{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1403985739,"post_id":24468705,"comment_id":37872912,"body_markdown":"See also http://stackoverflow.com/questions/24467933/is-it-possible-to-use-java-8-in-eclipse-android-project/24468106","body":"See also <a href=\"http://stackoverflow.com/questions/24467933/is-it-possible-to-use-java-8-in-eclipse-android-project/24468106\" title=\"is it possible to use java 8 in eclipse android project\">stackoverflow.com/questions/24467933/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2636263,"reputation":5473,"user_id":2703209,"accept_rate":89,"display_name":"user149408"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675003824,"creation_date":1675003824,"answer_id":75275796,"question_id":24468705,"body_markdown":"Java 8 APIs started becoming available in Android API 26 (which is Android 8, or Nougat). A mechanism called [API desugaring][1] is available to use [certain Java 8 APIs][2] on earlier Android versions, regardless of the Android API level.\r\n\r\nHowever, there is no 1:1 connection between Android and Java API versions. In the past, it has taken Google some 2–3 years following the release of a new Java version to gradually start implementing its APIs. So, the question “is a certain Java API available on a certain Android version” can only be answered on a per-class/member base. You will have to look up every class, method, constant etc. on the **Android** API reference and see if it it supported, and what the minimum API version on Android is – or see if API desugaring provides it, which is not tied to a particular Android API level.\r\n\r\n\r\n  [1]: https://developer.android.com/studio/write/java8-support#library-desugaring\r\n  [2]: https://developer.android.com/studio/write/java8-support-table","title":"Does ADT support Java 8 API?","body":"<p>Java 8 APIs started becoming available in Android API 26 (which is Android 8, or Nougat). A mechanism called <a href=\"https://developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"nofollow noreferrer\">API desugaring</a> is available to use <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">certain Java 8 APIs</a> on earlier Android versions, regardless of the Android API level.</p>\n<p>However, there is no 1:1 connection between Android and Java API versions. In the past, it has taken Google some 2–3 years following the release of a new Java version to gradually start implementing its APIs. So, the question “is a certain Java API available on a certain Android version” can only be answered on a per-class/member base. You will have to look up every class, method, constant etc. on the <strong>Android</strong> API reference and see if it it supported, and what the minimum API version on Android is – or see if API desugaring provides it, which is not tied to a particular Android API level.</p>\n"}],"owner":{"account_id":1719286,"reputation":3752,"user_id":1575632,"accept_rate":89,"display_name":"amin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":494,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675003824,"creation_date":1403972210,"question_id":24468705,"body_markdown":"Do Android Developers Tools support JAVA 8 API up to this date? I&#39;m trying to build an Android app using JAVA 8 and I was wondering about this thing.","title":"Does ADT support Java 8 API?","body":"<p>Do Android Developers Tools support JAVA 8 API up to this date? I'm trying to build an Android app using JAVA 8 and I was wondering about this thing.</p>\n"},{"tags":["java","java-stream"],"owner":{"account_id":16699278,"reputation":1,"user_id":12069487,"display_name":"Sephiroth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675002816,"answer_count":0,"score":0,"last_activity_date":1675003702,"creation_date":1675002587,"question_id":75275673,"body_markdown":"Can anyone tell me how this works: \r\n\r\n&gt; ```java\r\n&gt; long count = list.stream().filter(String::isEmpty).count();\r\n&gt; ```\r\n\r\nThe method `String.isEmpty()` does not accept any parameters. How was it able to gain access to the elements of the `Stream` in order for it to check if the elements are empty or not?\r\n\r\n\r\n\r\nI saw a code where a method can have access to elements of the `Stream`. I suppose it has access because the elements were passed as a parameter like below:\r\n\r\n\r\n&gt; ```java\r\n&gt; boolean isReal = list.stream().anyMatch(u -&gt; User.isRealUser(u));\r\n&gt; ```\r\n\r\nwhich essetnially the same as \r\n\r\n&gt; ```java\r\n&gt; boolean isReal = list.stream().anyMatch(User::isRealUser);\r\n&gt; ```\r\n\r\nBut `String.isEmpty()`? It does not accept any parameters, how was it able to know the `Stream` elements?\r\n\r\n**Update:**\r\n\r\nBelow helped me in understanding what happened.\r\n\r\n`String::toLowerCase` is an unbound non-static method reference that identifies the non-static String `toLowerCase()` method of the `String` class.\r\n\r\nHowever, because a non-static method still requires a receiver object (in this example a `String` object, which is used to invoke `toLowerCase()` via the method reference), the **receiver object is created by the virtual machine**. `toLowerCase()` will be invoked on this object. \r\n\r\n`String::toLowerCase` specifies a method that takes a single `String` argument, which is the receiver object, and returns a `String` result. \r\n\r\n`String::toLowerCase()` is equivalent to lambda `(String s) -&gt; { return s.toLowerCase(); }`.\r\n\r\nThe last line above is what I was looking for. Given the lambda equivalent of `String.toLowerCase()`, the elements of the `Stream` are passed as variable `s` to which `toLowerCase()` is applied.\r\n\r\n","title":"Java 8 Streams -- use of Predicate","body":"<p>Can anyone tell me how this works:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>long count = list.stream().filter(String::isEmpty).count();\n</code></pre>\n</blockquote>\n<p>The method <code>String.isEmpty()</code> does not accept any parameters. How was it able to gain access to the elements of the <code>Stream</code> in order for it to check if the elements are empty or not?</p>\n<p>I saw a code where a method can have access to elements of the <code>Stream</code>. I suppose it has access because the elements were passed as a parameter like below:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>boolean isReal = list.stream().anyMatch(u -&gt; User.isRealUser(u));\n</code></pre>\n</blockquote>\n<p>which essetnially the same as</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>boolean isReal = list.stream().anyMatch(User::isRealUser);\n</code></pre>\n</blockquote>\n<p>But <code>String.isEmpty()</code>? It does not accept any parameters, how was it able to know the <code>Stream</code> elements?</p>\n<p><strong>Update:</strong></p>\n<p>Below helped me in understanding what happened.</p>\n<p><code>String::toLowerCase</code> is an unbound non-static method reference that identifies the non-static String <code>toLowerCase()</code> method of the <code>String</code> class.</p>\n<p>However, because a non-static method still requires a receiver object (in this example a <code>String</code> object, which is used to invoke <code>toLowerCase()</code> via the method reference), the <strong>receiver object is created by the virtual machine</strong>. <code>toLowerCase()</code> will be invoked on this object.</p>\n<p><code>String::toLowerCase</code> specifies a method that takes a single <code>String</code> argument, which is the receiver object, and returns a <code>String</code> result.</p>\n<p><code>String::toLowerCase()</code> is equivalent to lambda <code>(String s) -&gt; { return s.toLowerCase(); }</code>.</p>\n<p>The last line above is what I was looking for. Given the lambda equivalent of <code>String.toLowerCase()</code>, the elements of the <code>Stream</code> are passed as variable <code>s</code> to which <code>toLowerCase()</code> is applied.</p>\n"},{"tags":["java","android","android-alertdialog"],"comments":[{"owner":{"account_id":1468586,"reputation":44539,"user_id":1380752,"accept_rate":85,"display_name":"codeMagic"},"score":0,"creation_date":1389732584,"post_id":21123653,"comment_id":31785450,"body_markdown":"I have found `AlertDialog` to be hard to customize. I ended up creating a custom `Dialog` that contains a `View` exactly how I want.","body":"I have found <code>AlertDialog</code> to be hard to customize. I ended up creating a custom <code>Dialog</code> that contains a <code>View</code> exactly how I want."},{"owner":{"account_id":3849428,"reputation":1805,"user_id":3189953,"display_name":"koni"},"score":0,"creation_date":1389732694,"post_id":21123653,"comment_id":31785520,"body_markdown":"I think you can find you answer here : \r\nhttp://stackoverflow.com/questions/4954130/message-text-in-android-dialog-box\r\nI hope it help you !","body":"I think you can find you answer here :   <a href=\"http://stackoverflow.com/questions/4954130/message-text-in-android-dialog-box\" title=\"message text in android dialog box\">stackoverflow.com/questions/4954130/&hellip;</a>  I hope it help you !"},{"owner":{"account_id":2889439,"reputation":297,"user_id":2478562,"accept_rate":94,"display_name":"Violin Nz"},"score":0,"creation_date":1389733367,"post_id":21123653,"comment_id":31785957,"body_markdown":"@koni Yes, I saw that link, quick answer.","body":"@koni Yes, I saw that link, quick answer."}],"answers":[{"tags":[],"owner":{"account_id":543988,"reputation":3542,"user_id":913286,"display_name":"Gil Vegliach"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1389732591,"creation_date":1389732591,"answer_id":21123726,"question_id":21123653,"body_markdown":"Instead of setting the message, use `AlertDialog.Builder.setView(View)` with a `View` with centred text","title":"How to center text in Alert Dialog Builder?","body":"<p>Instead of setting the message, use <code>AlertDialog.Builder.setView(View)</code> with a <code>View</code> with centred text</p>\n"},{"comments":[{"owner":{"account_id":2606795,"reputation":579,"user_id":2257811,"accept_rate":43,"display_name":"iversoncru"},"score":1,"creation_date":1426069756,"post_id":22595965,"comment_id":46217054,"body_markdown":"setView is missing, dialod.setView(messageText); should be included before dialog.show();","body":"setView is missing, dialod.setView(messageText); should be included before dialog.show();"},{"owner":{"account_id":2387854,"reputation":334,"user_id":2088427,"display_name":"Oke Uwechue"},"score":0,"creation_date":1662313491,"post_id":22595965,"comment_id":129972357,"body_markdown":"FYI, the solution will only work if the &quot;dialog.show()&quot; is executed BEFORE the &quot;.setGravity()&quot;, otherwise you&#39;ll get a NulPtr runtime exception","body":"FYI, the solution will only work if the &quot;dialog.show()&quot; is executed BEFORE the &quot;.setGravity()&quot;, otherwise you&#39;ll get a NulPtr runtime exception"}],"tags":[],"owner":{"account_id":1004231,"reputation":1918,"user_id":1018387,"accept_rate":70,"display_name":"AlexAndro"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1395603097,"creation_date":1395603097,"answer_id":22595965,"question_id":21123653,"body_markdown":"This piece of code does the job by default, without providing your own custom view to the `AlertDialog.Builder` .\r\n\r\n \r\n\r\n      AlertDialog dialog = builder.show(); //builder is your just created builder\r\n        TextView messageText = (TextView)dialog.findViewById(android.R.id.message);\r\n        messageText.setGravity(Gravity.CENTER);\r\n        dialog.show();","title":"How to center text in Alert Dialog Builder?","body":"<p>This piece of code does the job by default, without providing your own custom view to the <code>AlertDialog.Builder</code> .</p>\n\n<pre><code>  AlertDialog dialog = builder.show(); //builder is your just created builder\n    TextView messageText = (TextView)dialog.findViewById(android.R.id.message);\n    messageText.setGravity(Gravity.CENTER);\n    dialog.show();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8644203,"reputation":77,"user_id":6471918,"display_name":"Angga Dwi Prasetya"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1466035184,"creation_date":1466033280,"answer_id":37847462,"question_id":21123653,"body_markdown":"you can try this code\r\n\r\n    public void Info(){\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n        builder.setTitle(&quot;Info Aplikasi&quot;);\r\n        builder.setIcon(R.drawable.info_adp);\r\n        builder.setMessage(&quot;Jakarta Hospital&quot;);\r\n        builder.setCancelable(false);\r\n        builder.setPositiveButton(&quot;Exit&quot;, null);\r\n        AlertDialog dialog = builder.show();\r\n        TextView messageView = (TextView)dialog.findViewById(android.R.id.message);\r\n        messageView.setGravity(Gravity.CENTER);\r\n    }\r\n","title":"How to center text in Alert Dialog Builder?","body":"<p>you can try this code</p>\n\n<pre><code>public void Info(){\n    AlertDialog.Builder builder = new AlertDialog.Builder(this);\n    builder.setTitle(\"Info Aplikasi\");\n    builder.setIcon(R.drawable.info_adp);\n    builder.setMessage(\"Jakarta Hospital\");\n    builder.setCancelable(false);\n    builder.setPositiveButton(\"Exit\", null);\n    AlertDialog dialog = builder.show();\n    TextView messageView = (TextView)dialog.findViewById(android.R.id.message);\n    messageView.setGravity(Gravity.CENTER);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6654272,"reputation":474,"user_id":5135372,"display_name":"Farido mastr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503560880,"creation_date":1494704784,"answer_id":43957356,"question_id":21123653,"body_markdown":"You can try this simple method:\r\n\r\n\r\n    textView.setWidth(ViewGroup.LayoutParams.MATCH_PARENT);\r\n    textView.setGravity(Gravity.CENTER);\r\n    alert.setView(textView);\r\n\r\n","title":"How to center text in Alert Dialog Builder?","body":"<p>You can try this simple method:</p>\n\n<pre><code>textView.setWidth(ViewGroup.LayoutParams.MATCH_PARENT);\ntextView.setGravity(Gravity.CENTER);\nalert.setView(textView);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13309392,"reputation":190,"user_id":9653526,"display_name":"Angel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675003339,"creation_date":1675003339,"answer_id":75275759,"question_id":21123653,"body_markdown":"For Material Alert Dialog would be like this:\r\n\r\n    MaterialAlertDialogBuilder builder = new MaterialAlertDialogBuilder(this, com.google.android.material.R.style.ThemeOverlay_Material3_MaterialAlertDialog_Centered)\r\n        .setTitle(&quot;Titulo&quot;)\r\n        .setIcon(R.drawable.people)\r\n        .setMessage(&quot;un mensaje cualquiera&quot;);\r\n    AlertDialog dialog = builder.show();    \r\n    ((TextView) dialog.findViewById(android.R.id.message)).setGravity(Gravity.CENTER);","title":"How to center text in Alert Dialog Builder?","body":"<p>For Material Alert Dialog would be like this:</p>\n<pre><code>MaterialAlertDialogBuilder builder = new MaterialAlertDialogBuilder(this, com.google.android.material.R.style.ThemeOverlay_Material3_MaterialAlertDialog_Centered)\n    .setTitle(&quot;Titulo&quot;)\n    .setIcon(R.drawable.people)\n    .setMessage(&quot;un mensaje cualquiera&quot;);\nAlertDialog dialog = builder.show();    \n((TextView) dialog.findViewById(android.R.id.message)).setGravity(Gravity.CENTER);\n</code></pre>\n"}],"owner":{"account_id":2889439,"reputation":297,"user_id":2478562,"accept_rate":94,"display_name":"Violin Nz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19019,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":21123726,"answer_count":5,"score":9,"last_activity_date":1675003339,"creation_date":1389732353,"question_id":21123653,"body_markdown":"I&#39;m trying to center some text in a default Alert Dialog Builder\r\nHere&#39;s my code so far, but it defaults to the left.\r\n\r\n\t\t\t\tnew AlertDialog.Builder(getActivity())\r\n\t\t\t\t\t\t.setTitle(&quot;Well done!&quot;)\r\n\t\t\t\t\t\t.setMessage(&quot;Message centered????&quot;)\r\n\r\n\t\t\t\t\t\t.setPositiveButton(&quot;OK&quot;,\r\n\t\t\t\t\t\t\t\tnew DialogInterface.OnClickListener() {\r\n\r\n\t\t\t\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\t\t\t\tpublic void onClick(DialogInterface dialog,\r\n\t\t\t\t\t\t\t\t\t\t\tint which) {\r\n\t\t\t\t\t\t\t\t\t\t// TODO Auto-generated method stub\r\n\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t.setIcon(R.drawable.img_ok)\r\n\t\t\t\t\t\t.show();\r\n\r\n\t\t\t}","title":"How to center text in Alert Dialog Builder?","body":"<p>I'm trying to center some text in a default Alert Dialog Builder\nHere's my code so far, but it defaults to the left.</p>\n\n<pre><code>            new AlertDialog.Builder(getActivity())\n                    .setTitle(\"Well done!\")\n                    .setMessage(\"Message centered????\")\n\n                    .setPositiveButton(\"OK\",\n                            new DialogInterface.OnClickListener() {\n\n                                @Override\n                                public void onClick(DialogInterface dialog,\n                                        int which) {\n                                    // TODO Auto-generated method stub\n\n                                }\n                            })\n\n                    .setIcon(R.drawable.img_ok)\n                    .show();\n\n        }\n</code></pre>\n"},{"tags":["java","object","objectinputstream","eofexception"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675002660,"post_id":75275611,"comment_id":132830238,"body_markdown":"Just a hint: don&#39;t use the `.txt` extension for files containing serialized data, because it will **not** be readable text in any meaningful way. I&#39;ve seen `.ser` or `.obj` or `.dat` used, it&#39;s not that important, but `.txt` implies that the file contains human-readable text which is barely the case with these files.","body":"Just a hint: don&#39;t use the <code>.txt</code> extension for files containing serialized data, because it will <b>not</b> be readable text in any meaningful way. I&#39;ve seen <code>.ser</code> or <code>.obj</code> or <code>.dat</code> used, it&#39;s not that important, but <code>.txt</code> implies that the file contains human-readable text which is barely the case with these files."},{"owner":{"account_id":5712980,"reputation":135,"user_id":4514306,"display_name":"PotatoesMaster"},"score":0,"creation_date":1675004974,"post_id":75275611,"comment_id":132830617,"body_markdown":"Some remarks unrelated to the question:\n\n - you can declare and initialize an array in one go with the notation `Person[] people = { new Professor(), new TA(), new Student() }` (no need for indexes)\n - you don&#39;t need to manually close a stream in a [try-with-resources statement](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html), so you can remove the call to `out.close()`\n - you can use the &quot;for each&quot; notation `for (Person p : people) { out.writeObject(p); }` instead of `for (int i = 0; i &lt; people.length; i++) { out.writeObject(people[i]); }` for clarity","body":"Some remarks unrelated to the question:   - you can declare and initialize an array in one go with the notation <code>Person[] people = { new Professor(), new TA(), new Student() }</code> (no need for indexes)  - you don&#39;t need to manually close a stream in a <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources statement</a>, so you can remove the call to <code>out.close()</code>  - you can use the &quot;for each&quot; notation <code>for (Person p : people) { out.writeObject(p); }</code> instead of <code>for (int i = 0; i &lt; people.length; i++) { out.writeObject(people[i]); }</code> for clarity"}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675002340,"creation_date":1675002340,"answer_id":75275649,"question_id":75275611,"body_markdown":"You get [an `EOFException`][1] because you&#39;ve reached the **E**nd **o**f the **F**ile.\r\n\r\nFor some reason you assume that [`in.readObject()`][2] will return `null` when it reached the end of the input, but that&#39;s not how it&#39;s specified.\r\n\r\nYou can *either* just use the `EOFException` as flow control (i.e. just let it happen in the flow of normal operation) or change to a format where you don&#39;t have to guess if more objects are available. The simplest way to do the second thing is to just write the whole array instead of individual people:\r\n\r\nReplace your writing loop with just\r\n\r\n    out.writeObject(people);\r\n\r\nAnd your reading loop with something like this:\r\n\r\n    Person[] readPeople = (Person[]) in.readObject();\r\n    for (int i = 0; i &lt; readPeople .length; i++) {\r\n        System.out.println(readPeople[i]);\r\n    }\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/EOFException.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/ObjectInputStream.html#readObject()","title":"Not sure why I&#39;m getting an EOFException","body":"<p>You get <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/EOFException.html\" rel=\"nofollow noreferrer\">an <code>EOFException</code></a> because you've reached the <strong>E</strong>nd <strong>o</strong>f the <strong>F</strong>ile.</p>\n<p>For some reason you assume that <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/ObjectInputStream.html#readObject()\" rel=\"nofollow noreferrer\"><code>in.readObject()</code></a> will return <code>null</code> when it reached the end of the input, but that's not how it's specified.</p>\n<p>You can <em>either</em> just use the <code>EOFException</code> as flow control (i.e. just let it happen in the flow of normal operation) or change to a format where you don't have to guess if more objects are available. The simplest way to do the second thing is to just write the whole array instead of individual people:</p>\n<p>Replace your writing loop with just</p>\n<pre><code>out.writeObject(people);\n</code></pre>\n<p>And your reading loop with something like this:</p>\n<pre><code>Person[] readPeople = (Person[]) in.readObject();\nfor (int i = 0; i &lt; readPeople .length; i++) {\n    System.out.println(readPeople[i]);\n}\n</code></pre>\n"}],"owner":{"account_id":25548214,"reputation":25,"user_id":19333146,"display_name":"Avi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75275649,"answer_count":1,"score":0,"last_activity_date":1675002562,"creation_date":1675002047,"question_id":75275611,"body_markdown":"I&#39;m trying to read objects from a file that I have written to but when reading there&#39;s an EOFException that gets thrown. I can see that it reads the objects but halfway through reading the file the error shows up.\r\n\r\n```\r\npublic class IOStream {\r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String[] args) throws ClassNotFoundException {\r\n\r\n        Person[] people = new Person[14];\r\n        people[0] = new Professor(&quot;Professor&quot;, &quot;Issac&quot;, &quot;Newton&quot;, &quot;Physcis&quot;, 6);\r\n        people[1] = new TA(&quot;TA&quot;, &quot;Marie&quot;, &quot;Curie&quot;, &quot;Physics&quot;, 6);\r\n        people[2] = new Professor(&quot;Professor&quot;, &quot;Issac&quot;, &quot;Newton&quot;, &quot;Calculus&quot;, 4);\r\n        people[3] = new Student(&quot;Student&quot;, &quot;Amy&quot;, &quot;Adams&quot;, &quot;Calculus&quot;, 4);\r\n        people[4] = new Student(&quot;Student&quot;, &quot;Will&quot;, &quot;Smith&quot;, &quot;Calculus&quot;, 4);\r\n        people[5] = new Student(&quot;Student&quot;, &quot;Brad&quot;, &quot;Pitt&quot;, &quot;Physics&quot;, 6);\r\n        people[6] = new Student(&quot;Student&quot;, &quot;Will&quot;, &quot;Smith&quot;, &quot;Physics&quot;, 6);\r\n        people[7] = new Professor(&quot;Professor&quot;, &quot;Dimitri&quot;, &quot;Mendeleev&quot;, &quot;Chemistry&quot;, 6);\r\n        people[8] = new TA(&quot;TA&quot;, &quot;Carl&quot;, &quot;Gauss&quot;, &quot;Calculus&quot;, 4);\r\n        people[9] = new Student(&quot;Student&quot;, &quot;Amy&quot;, &quot;Adams&quot;, &quot;Economics&quot;, 3);\r\n        people[10] = new Professor(&quot;Professor&quot;, &quot;Adam&quot;, &quot;Smith&quot;, &quot;Economics&quot;, 3);\r\n        people[11] = new TA(&quot;TA&quot;, &quot;Marie&quot;, &quot;Curie&quot;, &quot;Chemistry&quot;, 6);\r\n        people[12] = new Student(&quot;Student&quot;, &quot;Brad&quot;, &quot;Pitt&quot;, &quot;Chemistry&quot;, 6);\r\n        people[13] = new Student(&quot;Student&quot;, &quot;Will&quot;, &quot;Smith&quot;, &quot;Chemistry&quot;, 6);\r\n\r\n        //WRITING\r\n        try ( ObjectOutputStream out = new ObjectOutputStream(new BufferedOutputStream (new FileOutputStream(&quot;object.txt&quot;)))) {\r\n            for (int i = 0; i &lt; people.length; i++) {\r\n                out.writeObject(people[i]);\r\n            }\r\n            out.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        \r\n        try (ObjectInputStream in = new ObjectInputStream(new BufferedInputStream( new FileInputStream(&quot;object.txt&quot;)))){\r\n            \r\n            \r\n            Person lol;\r\n            while ((lol = (Person)in.readObject())!= null){\r\n                System.out.println(lol);\r\n            }\r\n        }\r\n        catch(EOFException i){\r\n            i.printStackTrace();\r\n            System.out.println(&quot;End of File&quot;);\r\n        }\r\n        catch (IOException e){\r\n            e.printStackTrace();\r\n        } \r\n    }\r\n}\r\n```\r\n","title":"Not sure why I&#39;m getting an EOFException","body":"<p>I'm trying to read objects from a file that I have written to but when reading there's an EOFException that gets thrown. I can see that it reads the objects but halfway through reading the file the error shows up.</p>\n<pre><code>public class IOStream {\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) throws ClassNotFoundException {\n\n        Person[] people = new Person[14];\n        people[0] = new Professor(&quot;Professor&quot;, &quot;Issac&quot;, &quot;Newton&quot;, &quot;Physcis&quot;, 6);\n        people[1] = new TA(&quot;TA&quot;, &quot;Marie&quot;, &quot;Curie&quot;, &quot;Physics&quot;, 6);\n        people[2] = new Professor(&quot;Professor&quot;, &quot;Issac&quot;, &quot;Newton&quot;, &quot;Calculus&quot;, 4);\n        people[3] = new Student(&quot;Student&quot;, &quot;Amy&quot;, &quot;Adams&quot;, &quot;Calculus&quot;, 4);\n        people[4] = new Student(&quot;Student&quot;, &quot;Will&quot;, &quot;Smith&quot;, &quot;Calculus&quot;, 4);\n        people[5] = new Student(&quot;Student&quot;, &quot;Brad&quot;, &quot;Pitt&quot;, &quot;Physics&quot;, 6);\n        people[6] = new Student(&quot;Student&quot;, &quot;Will&quot;, &quot;Smith&quot;, &quot;Physics&quot;, 6);\n        people[7] = new Professor(&quot;Professor&quot;, &quot;Dimitri&quot;, &quot;Mendeleev&quot;, &quot;Chemistry&quot;, 6);\n        people[8] = new TA(&quot;TA&quot;, &quot;Carl&quot;, &quot;Gauss&quot;, &quot;Calculus&quot;, 4);\n        people[9] = new Student(&quot;Student&quot;, &quot;Amy&quot;, &quot;Adams&quot;, &quot;Economics&quot;, 3);\n        people[10] = new Professor(&quot;Professor&quot;, &quot;Adam&quot;, &quot;Smith&quot;, &quot;Economics&quot;, 3);\n        people[11] = new TA(&quot;TA&quot;, &quot;Marie&quot;, &quot;Curie&quot;, &quot;Chemistry&quot;, 6);\n        people[12] = new Student(&quot;Student&quot;, &quot;Brad&quot;, &quot;Pitt&quot;, &quot;Chemistry&quot;, 6);\n        people[13] = new Student(&quot;Student&quot;, &quot;Will&quot;, &quot;Smith&quot;, &quot;Chemistry&quot;, 6);\n\n        //WRITING\n        try ( ObjectOutputStream out = new ObjectOutputStream(new BufferedOutputStream (new FileOutputStream(&quot;object.txt&quot;)))) {\n            for (int i = 0; i &lt; people.length; i++) {\n                out.writeObject(people[i]);\n            }\n            out.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        \n        try (ObjectInputStream in = new ObjectInputStream(new BufferedInputStream( new FileInputStream(&quot;object.txt&quot;)))){\n            \n            \n            Person lol;\n            while ((lol = (Person)in.readObject())!= null){\n                System.out.println(lol);\n            }\n        }\n        catch(EOFException i){\n            i.printStackTrace();\n            System.out.println(&quot;End of File&quot;);\n        }\n        catch (IOException e){\n            e.printStackTrace();\n        } \n    }\n}\n</code></pre>\n"},{"tags":["java","android","version"],"comments":[{"owner":{"account_id":127457,"reputation":5934,"user_id":324625,"accept_rate":80,"display_name":"Steve Blackwell"},"score":0,"creation_date":1316817185,"post_id":7535385,"comment_id":9129706,"body_markdown":"Similar and relevant (but dated): http://stackoverflow.com/q/390482/324625","body":"Similar and relevant (but dated): <a href=\"http://stackoverflow.com/q/390482/324625\">stackoverflow.com/q/390482/324625</a>"},{"owner":{"account_id":7198,"reputation":46927,"user_id":12388,"accept_rate":82,"display_name":"Guido"},"score":12,"creation_date":1316817739,"post_id":7535385,"comment_id":9129761,"body_markdown":"Are you an Oracle lawyer?  If so I have right to remain silent :)","body":"Are you an Oracle lawyer?  If so I have right to remain silent :)"},{"owner":{"account_id":1713157,"reputation":192,"user_id":1570782,"accept_rate":100,"display_name":"Andrey Aleev"},"score":0,"creation_date":1360672940,"post_id":7535385,"comment_id":20782696,"body_markdown":"Here a good answer http://stackoverflow.com/questions/4867334/which-edition-of-java-is-being-used-in-android-j2me-or-java-se","body":"Here a good answer <a href=\"http://stackoverflow.com/questions/4867334/which-edition-of-java-is-being-used-in-android-j2me-or-java-se\" title=\"which edition of java is being used in android j2me or java se\">stackoverflow.com/questions/4867334/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":273180,"reputation":5923,"user_id":564626,"accept_rate":73,"display_name":"jfritz42"},"score":9,"creation_date":1316818616,"post_id":7535471,"comment_id":9129856,"body_markdown":"So would it be safe to say that Android syntax is roughly equivalent to Java SE 6?  (I understand the libraries are quite different)","body":"So would it be safe to say that Android syntax is roughly equivalent to Java SE 6?  (I understand the libraries are quite different)"},{"owner":{"account_id":154118,"reputation":1782,"user_id":369833,"accept_rate":75,"display_name":"pents90"},"score":4,"creation_date":1316833901,"post_id":7535471,"comment_id":9131432,"body_markdown":"Yes, it would be safe to say that. If they switch to Java SE 7 compatibility (i.e. binary literals, strings in switch statements, etc.) then I&#39;m sure that will be well-publicized.","body":"Yes, it would be safe to say that. If they switch to Java SE 7 compatibility (i.e. binary literals, strings in switch statements, etc.) then I&#39;m sure that will be well-publicized."},{"owner":{"account_id":364489,"reputation":8047,"user_id":708906,"display_name":"Tony Chan"},"score":2,"creation_date":1329345936,"post_id":7535471,"comment_id":11733561,"body_markdown":"FYI Apache decided to [retire](http://en.wikipedia.org/wiki/Apache_Harmony) the Harmony project back in Nov. So looks like we might not ever see SE7 or above?","body":"FYI Apache decided to <a href=\"http://en.wikipedia.org/wiki/Apache_Harmony\" rel=\"nofollow noreferrer\">retire</a> the Harmony project back in Nov. So looks like we might not ever see SE7 or above?"},{"owner":{"account_id":1229437,"reputation":111,"user_id":1194334,"display_name":"ndev"},"score":4,"creation_date":1389776412,"post_id":7535471,"comment_id":31801829,"body_markdown":"@Turbo It works with KitKat.(buildToolsVersion 19) Take a look here: [link](http://tools.android.com/tech-docs/new-build-system/user-guide#TOC-Using-sourceCompatibility-1.7)","body":"@Turbo It works with KitKat.(buildToolsVersion 19) Take a look here: <a href=\"http://tools.android.com/tech-docs/new-build-system/user-guide#TOC-Using-sourceCompatibility-1.7\" rel=\"nofollow noreferrer\">link</a>"}],"tags":[],"owner":{"account_id":154118,"reputation":1782,"user_id":369833,"accept_rate":75,"display_name":"pents90"},"comment_count":4,"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1395264490,"creation_date":1316817003,"answer_id":7535471,"question_id":7535385,"body_markdown":"Android&#39;s version doesn&#39;t directly relate to Java SE, although it uses a subset of Apache Harmony&#39;s SE 6 libraries and tools. It will be up to the Android team to decide if &amp; when to support/require the SE 7 version of Harmony.\r\n\r\n**Edit** It looks like as of KitKat Android supports Java SE 7 language features. See the comments below.","title":"How does Android&#39;s Java version relate to a Java SE version?","body":"<p>Android's version doesn't directly relate to Java SE, although it uses a subset of Apache Harmony's SE 6 libraries and tools. It will be up to the Android team to decide if &amp; when to support/require the SE 7 version of Harmony.</p>\n\n<p><strong>Edit</strong> It looks like as of KitKat Android supports Java SE 7 language features. See the comments below.</p>\n"},{"tags":[],"owner":{"account_id":2636263,"reputation":5473,"user_id":2703209,"accept_rate":89,"display_name":"user149408"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675002488,"creation_date":1675002488,"answer_id":75275660,"question_id":7535385,"body_markdown":"There is no direct mapping:\r\n\r\n* Some parts of the API (such as JAXB, which has been around since at least Java 6) have never been available on Android.\r\n* When features of a new Java version are introduced, this can happen gradually over multiple versions.\r\n* Some newer Java features are made available for older, already-released versions as backports.\r\n\r\nIn the past it has taken Google some 2–3 years to start adopting a new Java version. Java 7 features started appearing around API 19 (KitKat). Java 8 features started at API 26 (Nougat), but a mechanism called [desugaring][1] is available to make certain Java 8 features available on earlier Android versions, regardless of their API level.\r\n\r\nSo, generally speaking, if you want to know whether a particular Java API feature is available on Android, look it up on the Android developer reference and check the minimum API version.\r\n\r\n\r\n  [1]: https://developer.android.com/studio/write/java8-support#library-desugaring","title":"How does Android&#39;s Java version relate to a Java SE version?","body":"<p>There is no direct mapping:</p>\n<ul>\n<li>Some parts of the API (such as JAXB, which has been around since at least Java 6) have never been available on Android.</li>\n<li>When features of a new Java version are introduced, this can happen gradually over multiple versions.</li>\n<li>Some newer Java features are made available for older, already-released versions as backports.</li>\n</ul>\n<p>In the past it has taken Google some 2–3 years to start adopting a new Java version. Java 7 features started appearing around API 19 (KitKat). Java 8 features started at API 26 (Nougat), but a mechanism called <a href=\"https://developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"nofollow noreferrer\">desugaring</a> is available to make certain Java 8 features available on earlier Android versions, regardless of their API level.</p>\n<p>So, generally speaking, if you want to know whether a particular Java API feature is available on Android, look it up on the Android developer reference and check the minimum API version.</p>\n"}],"owner":{"account_id":273180,"reputation":5923,"user_id":564626,"accept_rate":73,"display_name":"jfritz42"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29909,"favorite_count":0,"down_vote_count":0,"up_vote_count":73,"accepted_answer_id":7535471,"answer_count":2,"score":73,"last_activity_date":1675002488,"creation_date":1316816080,"question_id":7535385,"body_markdown":"I am constantly wondering how the Java version used for Android development relates to a Java SE version.  For example, I was reading today about &quot;Type Inference and Generic Methods&quot; which is a feature added in Java SE 7.  I wonder to myself, &quot;Can I use this in Android code?&quot;\r\n\r\nOf course I could type the code into an Android project and see if it compiles, but I&#39;d be happier to have some kind of mapping in my head.\r\n\r\nI&#39;ve tried Googling for this info, checking the Android docs, etc, but can&#39;t find an answer.\r\n\r\nEdit: I&#39;m more interested in language features, e.g. how does the Android Java syntax version relate to Java SE syntax.  ","title":"How does Android&#39;s Java version relate to a Java SE version?","body":"<p>I am constantly wondering how the Java version used for Android development relates to a Java SE version.  For example, I was reading today about \"Type Inference and Generic Methods\" which is a feature added in Java SE 7.  I wonder to myself, \"Can I use this in Android code?\"</p>\n\n<p>Of course I could type the code into an Android project and see if it compiles, but I'd be happier to have some kind of mapping in my head.</p>\n\n<p>I've tried Googling for this info, checking the Android docs, etc, but can't find an answer.</p>\n\n<p>Edit: I'm more interested in language features, e.g. how does the Android Java syntax version relate to Java SE syntax.  </p>\n"},{"tags":["java","spring","thymeleaf","spring-thymeleaf"],"comments":[{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1674832916,"post_id":75258443,"comment_id":132803656,"body_markdown":"If you look at the generated HTML in your browser, does it look correct there?","body":"If you look at the generated HTML in your browser, does it look correct there?"},{"owner":{"account_id":19829135,"reputation":11,"user_id":14524105,"display_name":"buchs"},"score":0,"creation_date":1674834089,"post_id":75258443,"comment_id":132804070,"body_markdown":"It does- only images are not displayed.","body":"It does- only images are not displayed."},{"owner":{"account_id":19829135,"reputation":11,"user_id":14524105,"display_name":"buchs"},"score":0,"creation_date":1674834913,"post_id":75258443,"comment_id":132804352,"body_markdown":"Btw,controller method responsible for fetching images is not even triggered. i used simple &quot;sout&quot; to check it.","body":"Btw,controller method responsible for fetching images is not even triggered. i used simple &quot;sout&quot; to check it."},{"owner":{"account_id":5152799,"reputation":19367,"user_id":4126893,"display_name":"Metroids"},"score":0,"creation_date":1674851913,"post_id":75258443,"comment_id":132809278,"body_markdown":"You should check if you need to use an absolute url `th:src=&quot;@{&#39;/getImageComment/&#39; + ${userId}}&quot;` here instead of a relative url.","body":"You should check if you need to use an absolute url <code>th:src=&quot;@{&#39;&#47;getImageComment&#47;&#39; + ${userId}}&quot;</code> here instead of a relative url."},{"owner":{"account_id":19829135,"reputation":11,"user_id":14524105,"display_name":"buchs"},"score":0,"creation_date":1674861796,"post_id":75258443,"comment_id":132811277,"body_markdown":"It doesnt work either","body":"It doesnt work either"},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1674898182,"post_id":75258443,"comment_id":132815106,"body_markdown":"@buchs, does your app use any security? If it does, make sure that the user has the right privilages to access the resource in question.","body":"@buchs, does your app use any security? If it does, make sure that the user has the right privilages to access the resource in question."},{"owner":{"account_id":19829135,"reputation":11,"user_id":14524105,"display_name":"buchs"},"score":0,"creation_date":1674905569,"post_id":75258443,"comment_id":132816211,"body_markdown":"It does.I checked the roles - evrythings seems okay. Anyway the page &quot;listComments&quot; is diplayed - only images are not.","body":"It does.I checked the roles - evrythings seems okay. Anyway the page &quot;listComments&quot; is diplayed - only images are not."},{"owner":{"account_id":19829135,"reputation":11,"user_id":14524105,"display_name":"buchs"},"score":0,"creation_date":1674905962,"post_id":75258443,"comment_id":132816286,"body_markdown":"When I modify &quot;displayComments&quot; method like this(drop variable from URI) -   @GetMapping(&quot;/showComments&quot;) - everything works fine, images are displayed. They are not displayed only when I add variable to the URI. And I cant get why it happens like this","body":"When I modify &quot;displayComments&quot; method like this(drop variable from URI) -   @GetMapping(&quot;/showComments&quot;) - everything works fine, images are displayed. They are not displayed only when I add variable to the URI. And I cant get why it happens like this"},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1674907686,"post_id":75258443,"comment_id":132816580,"body_markdown":"@buchs, hit F12 in your browser and check what response statuses (under the Network tab) you get when you try to load comments/images. This should at least give you some idea as to why your controller method isn&#39;t even called.","body":"@buchs, hit F12 in your browser and check what response statuses (under the Network tab) you get when you try to load comments/images. This should at least give you some idea as to why your controller method isn&#39;t even called."},{"owner":{"account_id":19829135,"reputation":11,"user_id":14524105,"display_name":"buchs"},"score":0,"creation_date":1674912365,"post_id":75258443,"comment_id":132817389,"body_markdown":"This is what i see -                                                                                                Request URL: http ://localhost:8080/createMessageForm/getImageComment/10\nRequest Method: GET\nStatus Code: 404 \nRemote Address: [::1]:8080\nReferrer Policy: strict-origin-when-cross-origin","body":"This is what i see -                                                                                                Request URL: http ://localhost:8080/createMessageForm/getImageComment/10 Request Method: GET Status Code: 404  Remote Address: [::1]:8080 Referrer Policy: strict-origin-when-cross-origin"},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1674932530,"post_id":75258443,"comment_id":132821088,"body_markdown":"@buchs, 404 means &quot;not found&quot;. Is that correct url? Shoudn&#39;t it perhaps be `http ://localhost:8080/getImageComment/10` ? Or is the mapping for /createMessageForm placed at class level?","body":"@buchs, 404 means &quot;not found&quot;. Is that correct url? Shoudn&#39;t it perhaps be <code>http :&#47;&#47;localhost:8080&#47;getImageComment&#47;10</code> ? Or is the mapping for /createMessageForm placed at class level?"},{"owner":{"account_id":19829135,"reputation":11,"user_id":14524105,"display_name":"buchs"},"score":0,"creation_date":1674935664,"post_id":75258443,"comment_id":132821645,"body_markdown":"I dont have this url at class level in my app. The correct url is &quot;/showComments/{messageId}&quot;   and then &quot;/getImageComment/{id}&quot; must be triggered to fetch images. But it somehow generates this joined url. The first path variable confuses browser in some way","body":"I dont have this url at class level in my app. The correct url is &quot;/showComments/{messageId}&quot;   and then &quot;/getImageComment/{id}&quot; must be triggered to fetch images. But it somehow generates this joined url. The first path variable confuses browser in some way"},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1674938079,"post_id":75258443,"comment_id":132822042,"body_markdown":"@buchs, perhaps this may help https://www.thymeleaf.org/doc/articles/standardurlsyntax.html#context-relative-urls Try using server relative urls instead, at least in this case.","body":"@buchs, perhaps this may help <a href=\"https://www.thymeleaf.org/doc/articles/standardurlsyntax.html#context-relative-urls\" rel=\"nofollow noreferrer\">thymeleaf.org/doc/articles/&hellip;</a> Try using server relative urls instead, at least in this case."},{"owner":{"account_id":19829135,"reputation":11,"user_id":14524105,"display_name":"buchs"},"score":0,"creation_date":1674999817,"post_id":75258443,"comment_id":132829716,"body_markdown":"changed  th:src=&quot;@{&#39;getImageComment/&#39; + ${userId}}&quot; to  th:src=&quot;@{&#39;~/getImageComment/&#39; + ${userId}}&quot; and It finally worked for me. Thanks","body":"changed  th:src=&quot;@{&#39;getImageComment/&#39; + ${userId}}&quot; to  th:src=&quot;@{&#39;~/getImageComment/&#39; + ${userId}}&quot; and It finally worked for me. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":19829135,"reputation":11,"user_id":14524105,"display_name":"buchs"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675002460,"creation_date":1675002030,"answer_id":75275610,"question_id":75258443,"body_markdown":"Followed [dsp_user][1] advice and used [Server-relative URLs][2]. Changed \r\n```\r\n  &lt;img th:src=&quot;@{&#39;getImageComment/&#39; + ${userId}}&quot; height=&quot;55&quot;\r\n          width=&quot;55&quot;&gt;\r\n```\r\nto \r\n```\r\n  &lt;img class=&quot;rounded&quot; th:src=&quot;@{&#39;~/getImageComment/&#39; + ${userId}}&quot; height=&quot;55&quot;\r\n                                 width=&quot;55&quot;&gt; \r\n```\r\nAnd It finally worked for me.\r\n\r\n  [1]: https://stackoverflow.com/users/1119161/dsp-user\r\n  [2]: https://www.thymeleaf.org/doc/articles/standardurlsyntax.html#context-relative-urls","title":"Spring doesnt display images when there is a path variable on URI","body":"<p>Followed <a href=\"https://stackoverflow.com/users/1119161/dsp-user\">dsp_user</a> advice and used <a href=\"https://www.thymeleaf.org/doc/articles/standardurlsyntax.html#context-relative-urls\" rel=\"nofollow noreferrer\">Server-relative URLs</a>. Changed</p>\n<pre><code>  &lt;img th:src=&quot;@{'getImageComment/' + ${userId}}&quot; height=&quot;55&quot;\n          width=&quot;55&quot;&gt;\n</code></pre>\n<p>to</p>\n<pre><code>  &lt;img class=&quot;rounded&quot; th:src=&quot;@{'~/getImageComment/' + ${userId}}&quot; height=&quot;55&quot;\n                                 width=&quot;55&quot;&gt; \n</code></pre>\n<p>And It finally worked for me.</p>\n"}],"owner":{"account_id":19829135,"reputation":11,"user_id":14524105,"display_name":"buchs"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675002460,"creation_date":1674824249,"question_id":75258443,"body_markdown":"I have a method in my controller that directs to the page with comments.\r\nAll comments are related to a specific message. I use pathvariable to send messageID that I later use to get comments from my database.\r\n\r\n\r\n```\r\n  @GetMapping(&quot;/showComments/{messageId}&quot;)\r\n    public String displayComments(@PathVariable Long messageId, @AuthenticationPrincipal User user, Model model) {\r\n\r\n List&lt;Comment&gt; comments = commentService.showComments(messageId);\r\n Message messageGotById = messageService.getMessageById(messageId);\r\n           \r\n    model.addAttribute(&quot;comments&quot;, comments);\r\n    model.addAttribute(&quot;messageGot&quot;,messageGotById);\r\n    model.addAttribute(&quot;userId&quot;,user.getId());\r\n\r\n        return &quot;listComments&quot;;\r\n    }\r\n  \r\n```\r\nAnd then I have a method for fetching images from  database\r\n\r\n\r\n```\r\n        @GetMapping(&quot;/getImageComment/{id}&quot;)\r\n    public void showCommentImage(@PathVariable Long id, HttpServletResponse response) throws IOException {\r\n\r\n       \r\n        response.setContentType(&quot;image/jpeg&quot;);\r\n        Message messageImage = messageService.getMessageById(id);\r\n        ImageInfo imageInfo = messageImage.getUsr().getImageInfo();\r\n\r\n\r\n        byte[] imageData = imageInfo.getImageData();\r\n        String encode = Base64.getEncoder().encodeToString(imageData);\r\n\r\n        InputStream is = new ByteArrayInputStream(imageData);\r\n        IOUtils.copy(is, response.getOutputStream());\r\n    }\r\n```\r\n \r\nlistComments.html\r\n\r\n```\r\n &lt;img th:src=&quot;@{&#39;getImageComment/&#39; + ${userId}}&quot; height=&quot;55&quot;\r\n          width=&quot;55&quot;&gt;\r\n```\r\nAdded the link I use to go to listComments.html\r\n\r\n```\r\n    &lt;a th:href=&quot;@{/showComments/{id}(id=${message.id})}&quot;&gt;comment&lt;/a&gt;\r\n\r\n```\r\nThe issue here is that when there is a variable on URI in displayComments method, images are not displayed.\r\nBut without pathvariable everything works just fine.I cant understand what is the problem.\r\n\r\n","title":"Spring doesnt display images when there is a path variable on URI","body":"<p>I have a method in my controller that directs to the page with comments.\nAll comments are related to a specific message. I use pathvariable to send messageID that I later use to get comments from my database.</p>\n<pre><code>  @GetMapping(&quot;/showComments/{messageId}&quot;)\n    public String displayComments(@PathVariable Long messageId, @AuthenticationPrincipal User user, Model model) {\n\n List&lt;Comment&gt; comments = commentService.showComments(messageId);\n Message messageGotById = messageService.getMessageById(messageId);\n           \n    model.addAttribute(&quot;comments&quot;, comments);\n    model.addAttribute(&quot;messageGot&quot;,messageGotById);\n    model.addAttribute(&quot;userId&quot;,user.getId());\n\n        return &quot;listComments&quot;;\n    }\n  \n</code></pre>\n<p>And then I have a method for fetching images from  database</p>\n<pre><code>        @GetMapping(&quot;/getImageComment/{id}&quot;)\n    public void showCommentImage(@PathVariable Long id, HttpServletResponse response) throws IOException {\n\n       \n        response.setContentType(&quot;image/jpeg&quot;);\n        Message messageImage = messageService.getMessageById(id);\n        ImageInfo imageInfo = messageImage.getUsr().getImageInfo();\n\n\n        byte[] imageData = imageInfo.getImageData();\n        String encode = Base64.getEncoder().encodeToString(imageData);\n\n        InputStream is = new ByteArrayInputStream(imageData);\n        IOUtils.copy(is, response.getOutputStream());\n    }\n</code></pre>\n<p>listComments.html</p>\n<pre><code> &lt;img th:src=&quot;@{'getImageComment/' + ${userId}}&quot; height=&quot;55&quot;\n          width=&quot;55&quot;&gt;\n</code></pre>\n<p>Added the link I use to go to listComments.html</p>\n<pre><code>    &lt;a th:href=&quot;@{/showComments/{id}(id=${message.id})}&quot;&gt;comment&lt;/a&gt;\n\n</code></pre>\n<p>The issue here is that when there is a variable on URI in displayComments method, images are not displayed.\nBut without pathvariable everything works just fine.I cant understand what is the problem.</p>\n"},{"tags":["java","android","java-native-interface","tesseract"],"answers":[{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1674995070,"post_id":75274690,"comment_id":132828906,"body_markdown":"It is &quot;so so&quot; obvious :-)","body":"It is &quot;so so&quot; obvious :-)"},{"owner":{"account_id":23407456,"reputation":263,"user_id":17469648,"display_name":"Rishi Ff"},"score":0,"creation_date":1675002496,"post_id":75274690,"comment_id":132830211,"body_markdown":"yes . but this library not present . then how can I download this.","body":"yes . but this library not present . then how can I download this."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1675015700,"post_id":75274690,"comment_id":132832870,"body_markdown":"@RishiFf The command is included in your code so how should I know what library it is? Usually programmer only include commands and libraries for a good reason. So if you don&#39;t have that library why have you included this command?","body":"@RishiFf The command is included in your code so how should I know what library it is? Usually programmer only include commands and libraries for a good reason. So if you don&#39;t have that library why have you included this command?"}],"tags":[],"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674993471,"creation_date":1674993471,"answer_id":75274690,"question_id":75274431,"body_markdown":"Your problem is the statement:\r\n\r\n```\r\nstatic {\r\n        System.loadLibrary(&quot;libcamera.so&quot;);\r\n}\r\n```\r\n\r\n`System.loadLibrary` is a Java method for loading a library in a platform-independant way, which means you don&#39;t have to specify the platform specific filename of the library, but instead you need to use the library name so without `lib` at the beginning and `.so` at the end. Java will make it platform specific for Linux by adding both.\r\n\r\n\r\nSo you have to change it to \r\n```\r\nstatic {\r\n        System.loadLibrary(&quot;camera&quot;);\r\n}\r\n```\r\n\r\nand it will work and load `libcamera.so` (if this library is included in your app).","title":"java.lang.UnsatisfiedLinkError: dalvik.system.PathClassLoader couldn&#39;t find &quot;liblivecamera.so.so&quot;","body":"<p>Your problem is the statement:</p>\n<pre><code>static {\n        System.loadLibrary(&quot;libcamera.so&quot;);\n}\n</code></pre>\n<p><code>System.loadLibrary</code> is a Java method for loading a library in a platform-independant way, which means you don't have to specify the platform specific filename of the library, but instead you need to use the library name so without <code>lib</code> at the beginning and <code>.so</code> at the end. Java will make it platform specific for Linux by adding both.</p>\n<p>So you have to change it to</p>\n<pre><code>static {\n        System.loadLibrary(&quot;camera&quot;);\n}\n</code></pre>\n<p>and it will work and load <code>libcamera.so</code> (if this library is included in your app).</p>\n"}],"owner":{"account_id":23407456,"reputation":263,"user_id":17469648,"display_name":"Rishi Ff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75274690,"answer_count":1,"score":0,"last_activity_date":1675002393,"creation_date":1674990919,"question_id":75274431,"body_markdown":"I am working on camera application. When I debug the application, it crashes and says \r\n\r\n&gt; java.lang.UnsatisfiedLinkError:\r\n&gt; dalvik.system.PathClassLoader[DexPathList[[zip file\r\n&gt; &quot;/data/app/org.tensorflow.lite.examples.detection-kuQobL0-J_-5EsHI7x5ShQ==/base.apk&quot;],nativeLibraryDirectories=[/data/app/org.tensorflow.lite.examples.detection-kuQobL0-J_-5EsHI7x5ShQ==/lib/arm64,\r\n&gt; /data/app/org.tensorflow.lite.examples.detection-kuQobL0-J_-5EsHI7x5ShQ==/base.apk!/lib/arm64-v8a,\r\n&gt; /system/lib64, /vendor/lib64]]] couldn&#39;t find &quot;liblibcamera.so.so&quot;\r\n\r\n\r\nIt is showing this error at this line of code:-\r\n```\r\n\r\n\tstatic {\r\n\t\tSystem.loadLibrary(&quot;livecamera&quot;);\r\n\t}\r\n\r\n```\r\n\r\nMy complete **cameraview.java** code\r\n```\r\n\r\nimport android.content.Context;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.Canvas;\r\nimport android.graphics.Paint;\r\nimport android.graphics.PixelFormat;\r\nimport android.graphics.Rect;\r\nimport android.hardware.Camera;\r\nimport android.hardware.Camera.Size;\r\nimport android.os.Handler;\r\nimport android.util.AttributeSet;\r\nimport android.view.MotionEvent;\r\nimport android.view.SurfaceHolder;\r\nimport android.view.SurfaceView;\r\n\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class CameraView extends SurfaceView implements Camera.PreviewCallback, SurfaceHolder.Callback,\r\n\t\tOCRThread.TextRegionsListener {\r\n\r\n\tprivate final List&lt;Rect&gt; regions = new ArrayList&lt;&gt;();\r\n\r\n\tprivate Camera mCamera;\r\n\tprivate byte[] mVideoSource;\r\n\tprivate Bitmap mBackBuffer;\r\n\tprivate OCRThread ocrThread;\r\n\r\n\tprivate Paint focusPaint;\r\n\tprivate Rect focusRect;\r\n\r\n\tprivate Paint paintText;\r\n\r\n\tprivate float horizontalRectRation;\r\n\tprivate float verticalRectRation;\r\n\r\n\r\n\tstatic {\r\n\t\tSystem.loadLibrary(&quot;livecamera&quot;);\r\n\t}\r\n\r\n\tpublic CameraView(final Context context) {\r\n\t\tthis(context, null);\r\n\t}\r\n\r\n\tpublic CameraView(final Context context, final AttributeSet attributes) {\r\n\t\tsuper(context, attributes);\r\n\t\tgetHolder().addCallback(this);\r\n\t\tsetWillNotDraw(false);\r\n\t\tfocusPaint = new Paint();\r\n\t\tfocusPaint.setColor(0xeed7d7d7);\r\n\t\tfocusPaint.setStyle(Paint.Style.STROKE);\r\n\t\tfocusPaint.setStrokeWidth(2);\r\n\t\tfocusRect = new Rect(0, 0, 0, 0);\r\n\r\n\t\tpaintText = new Paint();\r\n\t\tpaintText.setColor(0xeeff0000);\r\n\t\tpaintText.setStyle(Paint.Style.STROKE);\r\n\t\tpaintText.setStrokeWidth(4);\r\n\r\n\t\tocrThread = new OCRThread(context);\r\n\t\thorizontalRectRation = 1.0f;\r\n\t\tverticalRectRation = 1.0f;\r\n\t}\r\n\r\n\tpublic void setShowTextBounds(final boolean show) {\r\n\t\tregions.clear();\r\n\t\tocrThread.setRegionsListener(show ? this : null);\r\n\t\tinvalidate();\r\n\t}\r\n\r\n\tpublic void makeOCR(final OCRThread.TextRecognitionListener listener) {\r\n\t\tocrThread.setTextRecognitionListener(listener);\r\n\t}\r\n\r\n\tpublic native void decode(final Bitmap pTarget, final byte[] pSource);\r\n\r\n\r\n\t@Override\r\n\tprotected void onDraw(final Canvas canvas) {\r\n\t\tif (focusRect.width() &gt; 0) {\r\n\t\t\tcanvas.drawRect(focusRect, focusPaint);\r\n\t\t}\r\n\t\tif (mCamera != null) {\r\n\t\t\tmCamera.addCallbackBuffer(mVideoSource);\r\n\t\t\tdrawTextBounds(canvas);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate void drawTextBounds(final Canvas canvas) {\r\n\t\tfor (Rect region : regions) {\r\n\t\t\tcanvas.drawRect(region.left * horizontalRectRation, region.top * verticalRectRation,\r\n\t\t\t\t\tregion.right * horizontalRectRation, region.bottom * verticalRectRation, paintText);\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void onPreviewFrame(final byte[] bytes, final Camera camera) {\r\n\t\tdecode(mBackBuffer, bytes);\r\n\t\tocrThread.updateBitmap(mBackBuffer);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void surfaceCreated(final SurfaceHolder surfaceHolder) {\r\n\t\ttry {\r\n\t\t\tmCamera = Camera.open(Camera.CameraInfo.CAMERA_FACING_BACK);\r\n\t\t\tmCamera.setDisplayOrientation(90);\r\n\t\t\tmCamera.setPreviewDisplay(surfaceHolder);\r\n\t\t\tmCamera.setPreviewCallbackWithBuffer(this);\r\n\t\t\tstartOcrThread();\r\n\t\t} catch (IOException eIOException) {\r\n\t\t\tmCamera.release();\r\n\t\t\tmCamera = null;\r\n\t\t\tthrow new IllegalStateException();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate void startOcrThread() {\r\n\t\tocrThread.start();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void surfaceChanged(final SurfaceHolder surfaceHolder, final int format, final int width, final int height) {\r\n\t\tmCamera.stopPreview();\r\n\t\tSize lSize = findBestResolution();\r\n\t\tupdateTextRectsRatio(width, height, lSize);\r\n\t\tPixelFormat lPixelFormat = new PixelFormat();\r\n\t\tPixelFormat.getPixelFormatInfo(mCamera.getParameters()\r\n\t\t\t\t.getPreviewFormat(), lPixelFormat);\r\n\t\tint lSourceSize = lSize.width * lSize.height * lPixelFormat.bitsPerPixel / 8;\r\n\t\tmVideoSource = new byte[lSourceSize];\r\n\t\tmBackBuffer = Bitmap.createBitmap(lSize.width, lSize.height,\r\n\t\t\t\tBitmap.Config.ARGB_8888);\r\n\t\tCamera.Parameters lParameters = mCamera.getParameters();\r\n\t\tlParameters.setPreviewSize(lSize.width, lSize.height);\r\n\t\tmCamera.setParameters(lParameters);\r\n\t\tmCamera.addCallbackBuffer(mVideoSource);\r\n\t\tmCamera.startPreview();\r\n\t}\r\n\r\n\tprivate Size findBestResolution() {\r\n\t\tList&lt;Size&gt; lSizes = mCamera.getParameters().getSupportedPreviewSizes();\r\n\t\tSize lSelectedSize = mCamera.new Size(0, 0);\r\n\t\tfor (Size lSize : lSizes) {\r\n\t\t\tif ((lSize.width &gt;= lSelectedSize.width) &amp;&amp; (lSize.height &gt;= lSelectedSize.height)) {\r\n\t\t\t\tlSelectedSize = lSize;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif ((lSelectedSize.width == 0) || (lSelectedSize.height == 0)) {\r\n\t\t\tlSelectedSize = lSizes.get(0);\r\n\t\t}\r\n\t\treturn lSelectedSize;\r\n\t}\r\n\r\n\tprivate void updateTextRectsRatio(final int width, final int height, final Size cameraSize) {\r\n\t\tverticalRectRation = ((float) height) / cameraSize.width;\r\n\t\thorizontalRectRation = ((float) width) / cameraSize.height;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void surfaceDestroyed(final SurfaceHolder surfaceHolder) {\r\n\t\tif (mCamera != null) {\r\n\t\t\tmCamera.stopPreview();\r\n\t\t\tmCamera.release();\r\n\t\t\tmCamera = null;\r\n\t\t\tmVideoSource = null;\r\n\t\t\tmBackBuffer = null;\r\n\t\t\tstopOcrThread();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate void stopOcrThread() {\r\n\t\tboolean retry = true;\r\n\t\tocrThread.cancel();\r\n\t\tocrThread.setRegionsListener(null);\r\n\t\twhile (retry) {\r\n\t\t\ttry {\r\n\t\t\t\tocrThread.join();\r\n\t\t\t\tretry = false;\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean onTouchEvent(MotionEvent event) {\r\n\t\tif (event.getAction() == MotionEvent.ACTION_DOWN) {\r\n\t\t\tfloat x = event.getX();\r\n\t\t\tfloat y = event.getY();\r\n\r\n\t\t\tRect touchRect = new Rect(\r\n\t\t\t\t\t(int) (x - 100),\r\n\t\t\t\t\t(int) (y - 100),\r\n\t\t\t\t\t(int) (x + 100),\r\n\t\t\t\t\t(int) (y + 100));\r\n\r\n\t\t\tfinal Rect targetFocusRect = new Rect(\r\n\t\t\t\t\ttouchRect.left * 2000 / this.getWidth() - 1000,\r\n\t\t\t\t\ttouchRect.top * 2000 / this.getHeight() - 1000,\r\n\t\t\t\t\ttouchRect.right * 2000 / this.getWidth() - 1000,\r\n\t\t\t\t\ttouchRect.bottom * 2000 / this.getHeight() - 1000);\r\n\r\n\t\t\tdoTouchFocus(targetFocusRect);\r\n\t\t\tfocusRect = touchRect;\r\n\t\t\tinvalidate();\r\n\r\n\t\t\tHandler handler = new Handler();\r\n\t\t\thandler.postDelayed(new Runnable() {\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\tfocusRect = new Rect(0, 0, 0, 0);\r\n\t\t\t\t\tinvalidate();\r\n\t\t\t\t}\r\n\t\t\t}, 1000);\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tprivate void doTouchFocus(final Rect tfocusRect) {\r\n\t\ttry {\r\n\t\t\tfinal List&lt;Camera.Area&gt; focusList = new ArrayList&lt;Camera.Area&gt;();\r\n\t\t\tCamera.Area focusArea = new Camera.Area(tfocusRect, 1000);\r\n\t\t\tfocusList.add(focusArea);\r\n\r\n\t\t\tCamera.Parameters para = mCamera.getParameters();\r\n\t\t\tpara.setFocusAreas(focusList);\r\n\t\t\tpara.setMeteringAreas(focusList);\r\n\t\t\tmCamera.setParameters(para);\r\n\t\t\tmCamera.autoFocus(myAutoFocusCallback);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tCamera.AutoFocusCallback myAutoFocusCallback = new Camera.AutoFocusCallback() {\r\n\r\n\t\t@Override\r\n\t\tpublic void onAutoFocus(boolean arg0, Camera arg1) {\r\n\t\t\tif (arg0) {\r\n\t\t\t\tmCamera.cancelAutoFocus();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * {@inheritDoc}\r\n\t */\r\n\t@Override\r\n\tpublic void onTextRegionsRecognized(final List&lt;Rect&gt; textRegions) {\r\n\t\tregions.clear();\r\n\t\tregions.addAll(textRegions);\r\n\t\tinvalidate();\r\n\t}\r\n}\r\n\r\n``","title":"java.lang.UnsatisfiedLinkError: dalvik.system.PathClassLoader couldn&#39;t find &quot;liblivecamera.so.so&quot;","body":"<p>I am working on camera application. When I debug the application, it crashes and says</p>\n<blockquote>\n<p>java.lang.UnsatisfiedLinkError:\ndalvik.system.PathClassLoader[DexPathList[[zip file\n&quot;/data/app/org.tensorflow.lite.examples.detection-kuQobL0-J_-5EsHI7x5ShQ==/base.apk&quot;],nativeLibraryDirectories=[/data/app/org.tensorflow.lite.examples.detection-kuQobL0-J_-5EsHI7x5ShQ==/lib/arm64,\n/data/app/org.tensorflow.lite.examples.detection-kuQobL0-J_-5EsHI7x5ShQ==/base.apk!/lib/arm64-v8a,\n/system/lib64, /vendor/lib64]]] couldn't find &quot;liblibcamera.so.so&quot;</p>\n</blockquote>\n<p>It is showing this error at this line of code:-</p>\n<pre><code>\n    static {\n        System.loadLibrary(&quot;livecamera&quot;);\n    }\n\n</code></pre>\n<p>My complete <strong>cameraview.java</strong> code</p>\n<pre><code>\nimport android.content.Context;\nimport android.graphics.Bitmap;\nimport android.graphics.Canvas;\nimport android.graphics.Paint;\nimport android.graphics.PixelFormat;\nimport android.graphics.Rect;\nimport android.hardware.Camera;\nimport android.hardware.Camera.Size;\nimport android.os.Handler;\nimport android.util.AttributeSet;\nimport android.view.MotionEvent;\nimport android.view.SurfaceHolder;\nimport android.view.SurfaceView;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class CameraView extends SurfaceView implements Camera.PreviewCallback, SurfaceHolder.Callback,\n        OCRThread.TextRegionsListener {\n\n    private final List&lt;Rect&gt; regions = new ArrayList&lt;&gt;();\n\n    private Camera mCamera;\n    private byte[] mVideoSource;\n    private Bitmap mBackBuffer;\n    private OCRThread ocrThread;\n\n    private Paint focusPaint;\n    private Rect focusRect;\n\n    private Paint paintText;\n\n    private float horizontalRectRation;\n    private float verticalRectRation;\n\n\n    static {\n        System.loadLibrary(&quot;livecamera&quot;);\n    }\n\n    public CameraView(final Context context) {\n        this(context, null);\n    }\n\n    public CameraView(final Context context, final AttributeSet attributes) {\n        super(context, attributes);\n        getHolder().addCallback(this);\n        setWillNotDraw(false);\n        focusPaint = new Paint();\n        focusPaint.setColor(0xeed7d7d7);\n        focusPaint.setStyle(Paint.Style.STROKE);\n        focusPaint.setStrokeWidth(2);\n        focusRect = new Rect(0, 0, 0, 0);\n\n        paintText = new Paint();\n        paintText.setColor(0xeeff0000);\n        paintText.setStyle(Paint.Style.STROKE);\n        paintText.setStrokeWidth(4);\n\n        ocrThread = new OCRThread(context);\n        horizontalRectRation = 1.0f;\n        verticalRectRation = 1.0f;\n    }\n\n    public void setShowTextBounds(final boolean show) {\n        regions.clear();\n        ocrThread.setRegionsListener(show ? this : null);\n        invalidate();\n    }\n\n    public void makeOCR(final OCRThread.TextRecognitionListener listener) {\n        ocrThread.setTextRecognitionListener(listener);\n    }\n\n    public native void decode(final Bitmap pTarget, final byte[] pSource);\n\n\n    @Override\n    protected void onDraw(final Canvas canvas) {\n        if (focusRect.width() &gt; 0) {\n            canvas.drawRect(focusRect, focusPaint);\n        }\n        if (mCamera != null) {\n            mCamera.addCallbackBuffer(mVideoSource);\n            drawTextBounds(canvas);\n        }\n    }\n\n    private void drawTextBounds(final Canvas canvas) {\n        for (Rect region : regions) {\n            canvas.drawRect(region.left * horizontalRectRation, region.top * verticalRectRation,\n                    region.right * horizontalRectRation, region.bottom * verticalRectRation, paintText);\n        }\n    }\n\n    @Override\n    public void onPreviewFrame(final byte[] bytes, final Camera camera) {\n        decode(mBackBuffer, bytes);\n        ocrThread.updateBitmap(mBackBuffer);\n    }\n\n    @Override\n    public void surfaceCreated(final SurfaceHolder surfaceHolder) {\n        try {\n            mCamera = Camera.open(Camera.CameraInfo.CAMERA_FACING_BACK);\n            mCamera.setDisplayOrientation(90);\n            mCamera.setPreviewDisplay(surfaceHolder);\n            mCamera.setPreviewCallbackWithBuffer(this);\n            startOcrThread();\n        } catch (IOException eIOException) {\n            mCamera.release();\n            mCamera = null;\n            throw new IllegalStateException();\n        }\n    }\n\n    private void startOcrThread() {\n        ocrThread.start();\n    }\n\n    @Override\n    public void surfaceChanged(final SurfaceHolder surfaceHolder, final int format, final int width, final int height) {\n        mCamera.stopPreview();\n        Size lSize = findBestResolution();\n        updateTextRectsRatio(width, height, lSize);\n        PixelFormat lPixelFormat = new PixelFormat();\n        PixelFormat.getPixelFormatInfo(mCamera.getParameters()\n                .getPreviewFormat(), lPixelFormat);\n        int lSourceSize = lSize.width * lSize.height * lPixelFormat.bitsPerPixel / 8;\n        mVideoSource = new byte[lSourceSize];\n        mBackBuffer = Bitmap.createBitmap(lSize.width, lSize.height,\n                Bitmap.Config.ARGB_8888);\n        Camera.Parameters lParameters = mCamera.getParameters();\n        lParameters.setPreviewSize(lSize.width, lSize.height);\n        mCamera.setParameters(lParameters);\n        mCamera.addCallbackBuffer(mVideoSource);\n        mCamera.startPreview();\n    }\n\n    private Size findBestResolution() {\n        List&lt;Size&gt; lSizes = mCamera.getParameters().getSupportedPreviewSizes();\n        Size lSelectedSize = mCamera.new Size(0, 0);\n        for (Size lSize : lSizes) {\n            if ((lSize.width &gt;= lSelectedSize.width) &amp;&amp; (lSize.height &gt;= lSelectedSize.height)) {\n                lSelectedSize = lSize;\n            }\n        }\n        if ((lSelectedSize.width == 0) || (lSelectedSize.height == 0)) {\n            lSelectedSize = lSizes.get(0);\n        }\n        return lSelectedSize;\n    }\n\n    private void updateTextRectsRatio(final int width, final int height, final Size cameraSize) {\n        verticalRectRation = ((float) height) / cameraSize.width;\n        horizontalRectRation = ((float) width) / cameraSize.height;\n    }\n\n    @Override\n    public void surfaceDestroyed(final SurfaceHolder surfaceHolder) {\n        if (mCamera != null) {\n            mCamera.stopPreview();\n            mCamera.release();\n            mCamera = null;\n            mVideoSource = null;\n            mBackBuffer = null;\n            stopOcrThread();\n        }\n    }\n\n    private void stopOcrThread() {\n        boolean retry = true;\n        ocrThread.cancel();\n        ocrThread.setRegionsListener(null);\n        while (retry) {\n            try {\n                ocrThread.join();\n                retry = false;\n            } catch (InterruptedException e) {\n            }\n        }\n    }\n\n    @Override\n    public boolean onTouchEvent(MotionEvent event) {\n        if (event.getAction() == MotionEvent.ACTION_DOWN) {\n            float x = event.getX();\n            float y = event.getY();\n\n            Rect touchRect = new Rect(\n                    (int) (x - 100),\n                    (int) (y - 100),\n                    (int) (x + 100),\n                    (int) (y + 100));\n\n            final Rect targetFocusRect = new Rect(\n                    touchRect.left * 2000 / this.getWidth() - 1000,\n                    touchRect.top * 2000 / this.getHeight() - 1000,\n                    touchRect.right * 2000 / this.getWidth() - 1000,\n                    touchRect.bottom * 2000 / this.getHeight() - 1000);\n\n            doTouchFocus(targetFocusRect);\n            focusRect = touchRect;\n            invalidate();\n\n            Handler handler = new Handler();\n            handler.postDelayed(new Runnable() {\n\n                @Override\n                public void run() {\n                    focusRect = new Rect(0, 0, 0, 0);\n                    invalidate();\n                }\n            }, 1000);\n        }\n        return false;\n    }\n\n    private void doTouchFocus(final Rect tfocusRect) {\n        try {\n            final List&lt;Camera.Area&gt; focusList = new ArrayList&lt;Camera.Area&gt;();\n            Camera.Area focusArea = new Camera.Area(tfocusRect, 1000);\n            focusList.add(focusArea);\n\n            Camera.Parameters para = mCamera.getParameters();\n            para.setFocusAreas(focusList);\n            para.setMeteringAreas(focusList);\n            mCamera.setParameters(para);\n            mCamera.autoFocus(myAutoFocusCallback);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n    }\n\n    Camera.AutoFocusCallback myAutoFocusCallback = new Camera.AutoFocusCallback() {\n\n        @Override\n        public void onAutoFocus(boolean arg0, Camera arg1) {\n            if (arg0) {\n                mCamera.cancelAutoFocus();\n            }\n        }\n    };\n\n    /**\n     * {@inheritDoc}\n     */\n    @Override\n    public void onTextRegionsRecognized(final List&lt;Rect&gt; textRegions) {\n        regions.clear();\n        regions.addAll(textRegions);\n        invalidate();\n    }\n}\n\n``\n</code></pre>\n"},{"tags":["java","spring-boot","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1674830282,"post_id":75256467,"comment_id":132802737,"body_markdown":"You&#39;re only showing a warning, not an error. Note you can only call `launch()` once, so if you sent a second POST request, you would then get an error. Can you include your pom.xml and specify how you are sending the POST request?","body":"You&#39;re only showing a warning, not an error. Note you can only call <code>launch()</code> once, so if you sent a second POST request, you would then get an error. Can you include your pom.xml and specify how you are sending the POST request?"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1674832043,"post_id":75256467,"comment_id":132803337,"body_markdown":"Maybe [startup the JavaFX Platform](https://openjfx.io/javadoc/19/javafx.graphics/javafx/application/Platform.html#startup(java.lang.Runnable)) when [starting the Spring application](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.spring-application.application-events-and-listeners) and [exit the JavaFX platform](https://openjfx.io/javadoc/19/javafx.graphics/javafx/application/Platform.html#exit()) on [Spring application exit](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.spring-application.application-exit).","body":"Maybe <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/application/Platform.html#startup(java.lang.Runnable)\" rel=\"nofollow noreferrer\">startup the JavaFX Platform</a> when <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.spring-application.application-events-and-listeners\" rel=\"nofollow noreferrer\">starting the Spring application</a> and <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/application/Platform.html#exit()\" rel=\"nofollow noreferrer\">exit the JavaFX platform</a> on <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.spring-application.application-exit\" rel=\"nofollow noreferrer\">Spring application exit</a>."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1674832272,"post_id":75256467,"comment_id":132803421,"body_markdown":"Replace the Application class with a standard class for the UI with no inheritance, ensuring [Platform.setImplicitExit](https://openjfx.io/javadoc/19/javafx.graphics/javafx/application/Platform.html#setImplicitExit(boolean)) is false, and, when needed, send a message to the UI class to display or update your overlay via a [JavaFX Platform runLater](https://openjfx.io/javadoc/19/javafx.graphics/javafx/application/Platform.html#runLater(java.lang.Runnable)) call.","body":"Replace the Application class with a standard class for the UI with no inheritance, ensuring <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/application/Platform.html#setImplicitExit(boolean)\" rel=\"nofollow noreferrer\">Platform.setImplicitExit</a> is false, and, when needed, send a message to the UI class to display or update your overlay via a <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/application/Platform.html#runLater(java.lang.Runnable)\" rel=\"nofollow noreferrer\">JavaFX Platform runLater</a> call."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1674832339,"post_id":75256467,"comment_id":132803446,"body_markdown":"[Example of using runLater to send messages to a JavaFX app](https://stackoverflow.com/questions/24320014/how-to-call-launch-more-than-once-in-java).  Study the [JavaFX Application lifecycle](https://openjfx.io/javadoc/19/javafx.graphics/javafx/application/Application.html).","body":"<a href=\"https://stackoverflow.com/questions/24320014/how-to-call-launch-more-than-once-in-java\">Example of using runLater to send messages to a JavaFX app</a>.  Study the <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/application/Application.html\" rel=\"nofollow noreferrer\">JavaFX Application lifecycle</a>."},{"owner":{"account_id":27633804,"reputation":21,"user_id":21092148,"display_name":"JavaCoder10"},"score":0,"creation_date":1674832824,"post_id":75256467,"comment_id":132803623,"body_markdown":"@James_D I don&#39;t have a `pom.xml`, maybe it&#39;s cause I use Gradle?\nI send the request using Postman","body":"@James_D I don&#39;t have a <code>pom.xml</code>, maybe it&#39;s cause I use Gradle? I send the request using Postman"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1674832895,"post_id":75256467,"comment_id":132803651,"body_markdown":"@JavaCoder10 yes, the Gradle equivalent of a Maven `pom.xml` is `build.gradle`, which you can provide in the question instead.  Also, edit the question to provide some more explanatory context of what you are trying to do.  Is the SpringBoot application running on a Server with a display and do you expect the UI to be displayed on the server?  Or is the SpringBoot application a standalone client app?  What generates the post?  What is the lifecycle of the overlay?  Should it always be displayed?  Does the user close it?  Is the overlay updated or replaced on subsequent posts? Why do this? etc","body":"@JavaCoder10 yes, the Gradle equivalent of a Maven <code>pom.xml</code> is <code>build.gradle</code>, which you can provide in the question instead.  Also, edit the question to provide some more explanatory context of what you are trying to do.  Is the SpringBoot application running on a Server with a display and do you expect the UI to be displayed on the server?  Or is the SpringBoot application a standalone client app?  What generates the post?  What is the lifecycle of the overlay?  Should it always be displayed?  Does the user close it?  Is the overlay updated or replaced on subsequent posts? Why do this? etc"}],"owner":{"account_id":27633804,"reputation":21,"user_id":21092148,"display_name":"JavaCoder10"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1675001267,"creation_date":1674813279,"question_id":75256467,"body_markdown":"I have a Spring Boot App with the following classes in the `src/main/java/in/javacoder/overlayapp` package\r\n\r\n***build.gradle***\r\n```\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;3.0.2&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n\tid &#39;application&#39;\r\n\tid &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.13&#39;\r\n}\r\n\r\njavafx {\r\n    version = &quot;17&quot;\r\n    modules = [ &#39;javafx.controls&#39; ]\r\n}\r\n\r\ngroup = &#39;in.techpro424&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nconfigurations {\r\n\tcompileOnly {\r\n\t\textendsFrom annotationProcessor\r\n\t}\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n\tannotationProcessor &#39;org.springframework.boot:spring-boot-configuration-processor&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n\r\n```\r\n***CoordinateOverlayAppApplication.java***\r\n```java\r\npackage in.techpro424.coordinateoverlayapp;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class CoordinateOverlayAppApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(CoordinateOverlayAppApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n***CoordinateRestController.java***\r\n```java\r\npackage in.techpro424.coordinateoverlayapp;\r\n\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\npublic class CoordinateRestController {\r\n    public static double xCoord;\r\n    public static double yCoord;\r\n    public static double zCoord;\r\n  \r\n    @PostMapping(value = &quot;/coordinateOverlay&quot;)\r\n    public int receiveCoordinates(@RequestParam(name = &quot;xCoordinate&quot;) Double xCoordinate, @RequestParam(name = &quot;yCoordinate&quot;) Double yCoordinate, @RequestParam(name = &quot;zCoordinate&quot;) Double zCoordinate) {\r\n      CoordinateRestController.xCoord = xCoordinate;\r\n      System.out.println(CoordinateRestController.xCoord);\r\n\r\n      CoordinateRestController.yCoord = yCoordinate;\r\n      System.out.println(CoordinateRestController.yCoord);\r\n\r\n      CoordinateRestController.zCoord = zCoordinate;\r\n      System.out.println(CoordinateRestController.zCoord);\r\n\r\n      javafx.application.Application.launch(RenderCoordinateOverlay.class);\r\n\r\n      return 1;\r\n    }\r\n\r\n\r\n}\r\n```\r\n***RenderCoordinateOverlay.java***\r\n```java\r\npackage in.techpro424.coordinateoverlayapp;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.scene.Group;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.text.Text;\r\nimport javafx.stage.Stage;\r\nimport javafx.stage.StageStyle;\r\n\r\npublic class RenderCoordinateOverlay extends Application {\r\n    double radius = 50;\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n\r\n        Group root = new Group();\r\n\r\n        Text coordinates = new Text();\r\n        coordinates.setText(&quot;X:&quot; + CoordinateRestController.xCoord + &quot;, Y:&quot; + CoordinateRestController.yCoord + &quot;, Z:&quot; + CoordinateRestController.zCoord);\r\n\r\n        root.getChildren().add(coordinates);\r\n\r\n        Scene scene = new Scene(root, Color.TRANSPARENT);\r\n\r\n        scene.getRoot().setStyle(&quot;-fx-background-color: transparent&quot;);\r\n\r\n        primaryStage.initStyle(StageStyle.TRANSPARENT);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n        primaryStage.setAlwaysOnTop(true);\r\n\r\n        \r\n    }\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\n\r\nI want to render this overlay on the screen whenever I receive the POST request with the specified params\r\n\r\nI tried using `javafx.application.Application.launch(RenderCoordinateOverlay.class);` in the `receiveCoordinates()` function\r\nI expected the overlay to render the text the moment I sent the POST request\r\nHowever, when I sent the POST request, only a completely transparent window was rendered with this error in the console:\r\n\r\n```\r\n2023-01-27T15:01:27.384+05:30  WARN 13060 --- [JavaFX-Launcher] javafx: Unsupported JavaFX configuration: classes were loaded from &#39;unnamed module @1ec4c0e8&#39;\r\n```\r\n\r\nThe SpringBoot application is running on my PC with a display and I expect the UI to be displayed on the PC.\r\nI use Postman to send the post.","title":"How do I run a JavaFX app from a SpringBoot app?","body":"<p>I have a Spring Boot App with the following classes in the <code>src/main/java/in/javacoder/overlayapp</code> package</p>\n<p><em><strong>build.gradle</strong></em></p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.0.2'\n    id 'io.spring.dependency-management' version '1.1.0'\n    id 'application'\n    id 'org.openjfx.javafxplugin' version '0.0.13'\n}\n\njavafx {\n    version = &quot;17&quot;\n    modules = [ 'javafx.controls' ]\n}\n\ngroup = 'in.techpro424'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    annotationProcessor 'org.springframework.boot:spring-boot-configuration-processor'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\n</code></pre>\n<p><em><strong>CoordinateOverlayAppApplication.java</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>package in.techpro424.coordinateoverlayapp;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class CoordinateOverlayAppApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(CoordinateOverlayAppApplication.class, args);\n    }\n\n}\n\n</code></pre>\n<p><em><strong>CoordinateRestController.java</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>package in.techpro424.coordinateoverlayapp;\n\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class CoordinateRestController {\n    public static double xCoord;\n    public static double yCoord;\n    public static double zCoord;\n  \n    @PostMapping(value = &quot;/coordinateOverlay&quot;)\n    public int receiveCoordinates(@RequestParam(name = &quot;xCoordinate&quot;) Double xCoordinate, @RequestParam(name = &quot;yCoordinate&quot;) Double yCoordinate, @RequestParam(name = &quot;zCoordinate&quot;) Double zCoordinate) {\n      CoordinateRestController.xCoord = xCoordinate;\n      System.out.println(CoordinateRestController.xCoord);\n\n      CoordinateRestController.yCoord = yCoordinate;\n      System.out.println(CoordinateRestController.yCoord);\n\n      CoordinateRestController.zCoord = zCoordinate;\n      System.out.println(CoordinateRestController.zCoord);\n\n      javafx.application.Application.launch(RenderCoordinateOverlay.class);\n\n      return 1;\n    }\n\n\n}\n</code></pre>\n<p><em><strong>RenderCoordinateOverlay.java</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>package in.techpro424.coordinateoverlayapp;\n\nimport javafx.application.Application;\nimport javafx.scene.Group;\nimport javafx.scene.Scene;\nimport javafx.scene.paint.Color;\nimport javafx.scene.text.Text;\nimport javafx.stage.Stage;\nimport javafx.stage.StageStyle;\n\npublic class RenderCoordinateOverlay extends Application {\n    double radius = 50;\n\n    @Override\n    public void start(Stage primaryStage) {\n\n        Group root = new Group();\n\n        Text coordinates = new Text();\n        coordinates.setText(&quot;X:&quot; + CoordinateRestController.xCoord + &quot;, Y:&quot; + CoordinateRestController.yCoord + &quot;, Z:&quot; + CoordinateRestController.zCoord);\n\n        root.getChildren().add(coordinates);\n\n        Scene scene = new Scene(root, Color.TRANSPARENT);\n\n        scene.getRoot().setStyle(&quot;-fx-background-color: transparent&quot;);\n\n        primaryStage.initStyle(StageStyle.TRANSPARENT);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n        primaryStage.setAlwaysOnTop(true);\n\n        \n    }\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>I want to render this overlay on the screen whenever I receive the POST request with the specified params</p>\n<p>I tried using <code>javafx.application.Application.launch(RenderCoordinateOverlay.class);</code> in the <code>receiveCoordinates()</code> function\nI expected the overlay to render the text the moment I sent the POST request\nHowever, when I sent the POST request, only a completely transparent window was rendered with this error in the console:</p>\n<pre><code>2023-01-27T15:01:27.384+05:30  WARN 13060 --- [JavaFX-Launcher] javafx: Unsupported JavaFX configuration: classes were loaded from 'unnamed module @1ec4c0e8'\n</code></pre>\n<p>The SpringBoot application is running on my PC with a display and I expect the UI to be displayed on the PC.\nI use Postman to send the post.</p>\n"},{"tags":["java","switch-statement","java-14","switch-expression"],"comments":[{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":4,"creation_date":1611680408,"post_id":65657169,"comment_id":116526709,"body_markdown":"What does standardized mean vs. introduced?","body":"What does standardized mean vs. introduced?"},{"owner":{"account_id":12064104,"reputation":3243,"user_id":8821960,"display_name":"tryman"},"score":6,"creation_date":1611740931,"post_id":65657169,"comment_id":116545491,"body_markdown":"@rogerdpack This must refer to switch expressions being introduced as Preview feature in JDK 12 - fully usable and complete, enabled through the compiler options, still amenable to (breaking) change in future versions based on user feedback. In JDK 14 this was consolidated as a standard feature that won&#39;t change anymore in future versions.","body":"@rogerdpack This must refer to switch expressions being introduced as Preview feature in JDK 12 - fully usable and complete, enabled through the compiler options, still amenable to (breaking) change in future versions based on user feedback. In JDK 14 this was consolidated as a standard feature that won&#39;t change anymore in future versions."}],"answers":[{"comments":[{"owner":{"account_id":133236,"reputation":14472,"user_id":334451,"accept_rate":64,"display_name":"Mikko Rantalainen"},"score":0,"creation_date":1624354705,"post_id":65657170,"comment_id":120329957,"body_markdown":"&quot;Unlike the if/else if/else statement, a switch statement can have a number of possible execution paths&quot; sounds like `switch` could execute multiple cases for one switch. If you mean that `switch` supports fallthrough it would be much more clear to mention that explicitly. Other than that if/else if/else is just different syntax compared to switch statement because you can easily convert any switch statement without fallthrough to if/else if/else format.","body":"&quot;Unlike the if/else if/else statement, a switch statement can have a number of possible execution paths&quot; sounds like <code>switch</code> could execute multiple cases for one switch. If you mean that <code>switch</code> supports fallthrough it would be much more clear to mention that explicitly. Other than that if/else if/else is just different syntax compared to switch statement because you can easily convert any switch statement without fallthrough to if/else if/else format."}],"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":1,"down_vote_count":0,"up_vote_count":43,"is_accepted":true,"score":43,"last_activity_date":1610311068,"creation_date":1610304616,"answer_id":65657170,"question_id":65657169,"body_markdown":"## The `switch` statement:\r\n\r\nUnlike the `if/else if/else` statement, a `switch` statement can have a number of possible execution paths. A `switch` works with the primitive types, `byte`, `short`, `char`, and `int`, their respective wrapper types (`Byte`, `Short`, `Character`, and `Integer`), enumerated types, and the `String` type&lt;sup&gt;1&lt;/sup&gt;. While an `if-else` statement is used to test expressions based on ranges of values or conditions, a `switch` statement is used to test expressions based only on a single value.\r\n\r\n**Demo**\r\n\r\n\tenum PaymentStatus {\r\n\t\tUNPAID, PARTPAID, PAID, DISPUTED, UNKNOWN;\r\n\t}\r\n\r\n\tpublic class Main {\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tString message = &quot;&quot;;\r\n\t\t\tPaymentStatus paymentStatus = PaymentStatus.PARTPAID;\r\n\r\n\t\t\tswitch (paymentStatus) {\r\n\t\t\tcase UNPAID:\r\n\t\t\t\tmessage = &quot;The order has not been paid yet. Please make the minimum/full amount to procced.&quot;;\r\n\t\t\t\tbreak;\r\n\t\t\tcase PARTPAID:\r\n\t\t\t\tmessage = &quot;The order is partially paid. Some features will not be available. Please check the brochure for details.&quot;;\r\n\t\t\t\tbreak;\r\n\t\t\tcase PAID:\r\n\t\t\t\tmessage = &quot;The order is fully paid. Please choose the desired items from the menu.&quot;;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new IllegalStateException(&quot;Invalid payment status: &quot; + paymentStatus);\r\n\t\t\t}\r\n\t\t\tSystem.out.println(message);\r\n\t\t}\r\n\t}\r\n**Output:**\r\n\t\r\n\tThe order is partially paid. Some features will not be available. Please check the brochure for details.\r\n\r\n## The `switch` expression:\r\n\r\nThe `switch` expression was introduced with Java SE 12. However, it remained as a **Preview** feature in Java SE 12 and 13 and finally got standardized with Java SE 14. [Like any expression](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/expressions.html), `switch` expressions evaluate to a single value, and can be used in statements. It also introduced &quot;arrow `case`&quot; labels eliminating the need for `break` statements to prevent fall through. As of Java SE 15, there is no change in the supported data types (mentioned in the `switch` statement section above).\r\n\r\n**Demo**\r\n\r\n\tenum PaymentStatus {\r\n\t\tUNPAID, PARTPAID, PAID, DISPUTED, UNKNOWN;\r\n\t}\r\n\r\n\tpublic class Main {\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tPaymentStatus paymentStatus = PaymentStatus.PARTPAID;\r\n\r\n\t\t\tString message = switch (paymentStatus) {\r\n\t\t\tcase UNPAID -&gt; &quot;The order has not been paid yet. Please make the minimum/full amount to procced.&quot;;\r\n\t\t\tcase PARTPAID -&gt; &quot;The order is partially paid. Some features will not be available. Please check the brochure for details.&quot;;\r\n\t\t\tcase PAID -&gt; &quot;The order is fully paid. Please choose the desired items from the menu.&quot;;\r\n\t\t\tdefault -&gt; throw new IllegalStateException(&quot;Invalid payment status: &quot; + paymentStatus);\r\n\t\t\t};\r\n\r\n\t\t\tSystem.out.println(message);\r\n\t\t}\r\n\t}\r\n**Output:**\r\n\t\r\n\tThe order is partially paid. Some features will not be available. Please check the brochure for details.\r\n\r\n## The `switch` expression with `yield`:\r\n\r\nSince Java SE 13, you can use `yield` statement, instead of the arrow operator (-&gt;), to return a value from a `switch` expression.\r\n\r\n**Demo**\r\n\r\n\tenum PaymentStatus {\r\n\t\tUNPAID, PARTPAID, PAID, DISPUTED, UNKNOWN;\r\n\t}\r\n\r\n\tpublic class Main {\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tPaymentStatus paymentStatus = PaymentStatus.PARTPAID;\r\n\r\n\t\t\tString message = switch (paymentStatus) {\r\n\t\t\tcase UNPAID:\r\n\t\t\t\tyield &quot;The order has not been paid yet. Please make the minimum/full amount to procced.&quot;;\r\n\t\t\tcase PARTPAID:\r\n\t\t\t\tyield &quot;The order is partially paid. Some features will not be available. Please check the brochure for details.&quot;;\r\n\t\t\tcase PAID:\r\n\t\t\t\tyield &quot;The order is fully paid. Please choose the desired items from the menu.&quot;;\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new IllegalStateException(&quot;Invalid payment status: &quot; + paymentStatus);\r\n\t\t\t};\r\n\r\n\t\t\tSystem.out.println(message);\r\n\t\t}\r\n\t}\r\n\r\n\r\n**Output:**\r\n\t\r\n\tThe order is partially paid. Some features will not be available. Please check the brochure for details.\r\n\r\n***\r\n&lt;sup&gt;1&lt;/sup&gt; The support for `String` was added with JDK 7","title":"What are switch expressions and how are they different from switch statements?","body":"<h2>The <code>switch</code> statement:</h2>\n<p>Unlike the <code>if/else if/else</code> statement, a <code>switch</code> statement can have a number of possible execution paths. A <code>switch</code> works with the primitive types, <code>byte</code>, <code>short</code>, <code>char</code>, and <code>int</code>, their respective wrapper types (<code>Byte</code>, <code>Short</code>, <code>Character</code>, and <code>Integer</code>), enumerated types, and the <code>String</code> type<sup>1</sup>. While an <code>if-else</code> statement is used to test expressions based on ranges of values or conditions, a <code>switch</code> statement is used to test expressions based only on a single value.</p>\n<p><strong>Demo</strong></p>\n<pre><code>enum PaymentStatus {\n    UNPAID, PARTPAID, PAID, DISPUTED, UNKNOWN;\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        String message = &quot;&quot;;\n        PaymentStatus paymentStatus = PaymentStatus.PARTPAID;\n\n        switch (paymentStatus) {\n        case UNPAID:\n            message = &quot;The order has not been paid yet. Please make the minimum/full amount to procced.&quot;;\n            break;\n        case PARTPAID:\n            message = &quot;The order is partially paid. Some features will not be available. Please check the brochure for details.&quot;;\n            break;\n        case PAID:\n            message = &quot;The order is fully paid. Please choose the desired items from the menu.&quot;;\n            break;\n        default:\n            throw new IllegalStateException(&quot;Invalid payment status: &quot; + paymentStatus);\n        }\n        System.out.println(message);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>The order is partially paid. Some features will not be available. Please check the brochure for details.\n</code></pre>\n<h2>The <code>switch</code> expression:</h2>\n<p>The <code>switch</code> expression was introduced with Java SE 12. However, it remained as a <strong>Preview</strong> feature in Java SE 12 and 13 and finally got standardized with Java SE 14. <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/expressions.html\" rel=\"noreferrer\">Like any expression</a>, <code>switch</code> expressions evaluate to a single value, and can be used in statements. It also introduced &quot;arrow <code>case</code>&quot; labels eliminating the need for <code>break</code> statements to prevent fall through. As of Java SE 15, there is no change in the supported data types (mentioned in the <code>switch</code> statement section above).</p>\n<p><strong>Demo</strong></p>\n<pre><code>enum PaymentStatus {\n    UNPAID, PARTPAID, PAID, DISPUTED, UNKNOWN;\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        PaymentStatus paymentStatus = PaymentStatus.PARTPAID;\n\n        String message = switch (paymentStatus) {\n        case UNPAID -&gt; &quot;The order has not been paid yet. Please make the minimum/full amount to procced.&quot;;\n        case PARTPAID -&gt; &quot;The order is partially paid. Some features will not be available. Please check the brochure for details.&quot;;\n        case PAID -&gt; &quot;The order is fully paid. Please choose the desired items from the menu.&quot;;\n        default -&gt; throw new IllegalStateException(&quot;Invalid payment status: &quot; + paymentStatus);\n        };\n\n        System.out.println(message);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>The order is partially paid. Some features will not be available. Please check the brochure for details.\n</code></pre>\n<h2>The <code>switch</code> expression with <code>yield</code>:</h2>\n<p>Since Java SE 13, you can use <code>yield</code> statement, instead of the arrow operator (-&gt;), to return a value from a <code>switch</code> expression.</p>\n<p><strong>Demo</strong></p>\n<pre><code>enum PaymentStatus {\n    UNPAID, PARTPAID, PAID, DISPUTED, UNKNOWN;\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        PaymentStatus paymentStatus = PaymentStatus.PARTPAID;\n\n        String message = switch (paymentStatus) {\n        case UNPAID:\n            yield &quot;The order has not been paid yet. Please make the minimum/full amount to procced.&quot;;\n        case PARTPAID:\n            yield &quot;The order is partially paid. Some features will not be available. Please check the brochure for details.&quot;;\n        case PAID:\n            yield &quot;The order is fully paid. Please choose the desired items from the menu.&quot;;\n        default:\n            throw new IllegalStateException(&quot;Invalid payment status: &quot; + paymentStatus);\n        };\n\n        System.out.println(message);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>The order is partially paid. Some features will not be available. Please check the brochure for details.\n</code></pre>\n<hr />\n<p><sup>1</sup> The support for <code>String</code> was added with JDK 7</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1610338588,"creation_date":1610331701,"answer_id":65660594,"question_id":65657169,"body_markdown":"Nice writeup!  But I might also add the ability to have multiple cases for a single case statement.  The following example is very contrived (there are many better ways to achieve it).  It does a simple frequency count of the vowels, digits, consonants, and other characters in a string.\r\n```\r\nint count[] = new int[4];\r\n\r\nString s = &quot;829s2bi9jskj*&amp;@)(so2i2ksso&quot;;\r\n\r\nfor (char c : s.toCharArray()) {\r\n\t  int i = switch (c) {\r\n\t          \tcase  &#39;a&#39;, &#39;e&#39;, &#39;i&#39;, &#39;o&#39;, &#39;u&#39; -&gt; 0;\r\n\t\t        case  &#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39; -&gt; 1;\r\n\t\t        case  &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;, &#39;j&#39;, &#39;k&#39;, &#39;l&#39;,\r\n\t\t              &#39;m&#39;, &#39;n&#39;, &#39;p&#39;, &#39;q&#39;, &#39;r&#39;, &#39;s&#39;, &#39;t&#39;, &#39;v&#39;, &#39;w&#39;,\r\n\t\t              &#39;x&#39;, &#39;y&#39;, &#39;z&#39; -&gt; 2;\r\n\t\t        default -&gt; 3;\r\n\t  };\r\n\t  count[i]++;\r\n}\r\nSystem.out.printf(&quot;vowels  - %d%n&quot;, count[0]);\r\nSystem.out.printf(&quot;digits  - %d%n&quot;, count[1]);\r\nSystem.out.printf(&quot;consonants - %d%n&quot;, count[2]);\r\nSystem.out.printf(&quot;other   - %d%n&quot;, count[3]);\r\n```\r\nPrints\r\n```\r\nvowels  - 4\r\ndigits  - 7\r\nconsonants - 10\r\nother   - 5","title":"What are switch expressions and how are they different from switch statements?","body":"<p>Nice writeup!  But I might also add the ability to have multiple cases for a single case statement.  The following example is very contrived (there are many better ways to achieve it).  It does a simple frequency count of the vowels, digits, consonants, and other characters in a string.</p>\n<pre><code>int count[] = new int[4];\n\nString s = &quot;829s2bi9jskj*&amp;@)(so2i2ksso&quot;;\n\nfor (char c : s.toCharArray()) {\n      int i = switch (c) {\n                case  'a', 'e', 'i', 'o', 'u' -&gt; 0;\n                case  '0', '1', '2', '3', '4', '5', '6', '7', '8', '9' -&gt; 1;\n                case  'b', 'c', 'd', 'f', 'g', 'h', 'j', 'k', 'l',\n                      'm', 'n', 'p', 'q', 'r', 's', 't', 'v', 'w',\n                      'x', 'y', 'z' -&gt; 2;\n                default -&gt; 3;\n      };\n      count[i]++;\n}\nSystem.out.printf(&quot;vowels  - %d%n&quot;, count[0]);\nSystem.out.printf(&quot;digits  - %d%n&quot;, count[1]);\nSystem.out.printf(&quot;consonants - %d%n&quot;, count[2]);\nSystem.out.printf(&quot;other   - %d%n&quot;, count[3]);\n</code></pre>\n<p>Prints</p>\n<pre><code>vowels  - 4\ndigits  - 7\nconsonants - 10\nother   - 5\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user15244370"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1616971283,"creation_date":1616971283,"answer_id":66846887,"question_id":65657169,"body_markdown":"Adding to existing answers: `yield` can also be used with `-&gt;` and its main purpose is to allow the use of a block when a single expression is not sufficient for a given case:\r\n```\r\nvar test = switch (value) {\r\n    case A -&gt; 1;\r\n    case B -&gt; 2;\r\n    case C -&gt; {\r\n        System.err.println(&quot;neither A nor B&quot;); // or some calculation\r\n        yield -1;\r\n    }\r\n}\r\n```\r\n\r\nI would also mention [JEP-354](http://openjdk.java.net/jeps/354) where the switch expression is proposed and described.&lt;br/&gt;\r\nFormal specification can be found, as always in the [Java Language Specification](https://docs.oracle.com/javase/specs/index.html).","title":"What are switch expressions and how are they different from switch statements?","body":"<p>Adding to existing answers: <code>yield</code> can also be used with <code>-&gt;</code> and its main purpose is to allow the use of a block when a single expression is not sufficient for a given case:</p>\n<pre><code>var test = switch (value) {\n    case A -&gt; 1;\n    case B -&gt; 2;\n    case C -&gt; {\n        System.err.println(&quot;neither A nor B&quot;); // or some calculation\n        yield -1;\n    }\n}\n</code></pre>\n<p>I would also mention <a href=\"http://openjdk.java.net/jeps/354\" rel=\"noreferrer\">JEP-354</a> where the switch expression is proposed and described.<br/>\nFormal specification can be found, as always in the <a href=\"https://docs.oracle.com/javase/specs/index.html\" rel=\"noreferrer\">Java Language Specification</a>.</p>\n"},{"tags":[],"owner":{"account_id":1639431,"reputation":5035,"user_id":1512175,"accept_rate":57,"display_name":"Ithar"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675000631,"creation_date":1675000631,"answer_id":75275450,"question_id":65657169,"body_markdown":"Adding to the above answers one can look at the current “shortfalls” with switch statement which switch expression solve:\r\n\r\n***Switch Statement:***\r\n\r\n- Issue 1: Accidental Fall-through\r\n- Issue 2: Variable scoping \r\n- Issue 3: No return value\r\n\r\n\r\n***Switch expression:***\r\n\r\n- No fallthrough\r\n- Combined constants\r\n- Blocked scope\r\n- Return yield\r\n\r\n\r\nEXAMPLE:\r\n--------------------------------\r\n\r\n***Switch Statement:***\r\n\r\n    private static void oldSwitchStatement(String month) {\r\n\r\n        int i = 0;\r\n        String quarter = &quot;&quot;;\r\n\r\n        switch (month) {\r\n            case &quot;JAN&quot;:\r\n            case &quot;FEB&quot;:\r\n            case &quot;MAR&quot;:\r\n                i = i + 1;\r\n                quarter = &quot;Q1&quot;;\r\n                // break;\r\n            case &quot;APR&quot;:\r\n            case &quot;MAY&quot;:\r\n            case &quot;JUN&quot;:\r\n                i = i + 2;\r\n                quarter = &quot;Q2&quot;;\r\n                // break;\r\n            case &quot;JUL&quot;:\r\n            case &quot;AUG&quot;:\r\n            case &quot;SEP&quot;:\r\n                i = i + 3;\r\n                quarter = &quot;Q3&quot;;\r\n                // break;\r\n            case &quot;OCT&quot;:\r\n            case &quot;NOV&quot;:\r\n            case &quot;DEC&quot;:\r\n                i = i + 4;\r\n                quarter = &quot;Q4&quot;;\r\n            default:\r\n                System.out.println(&quot;Unknown case&quot;);\r\n        }\r\n\r\n        System.out.println(&quot;QUARTER: &quot;+ i + &quot; &quot;+ quarter);\r\n    }\r\n\r\n\r\n***Switch Expression***\r\n\r\n    private static String newSwitchExpressionYield(String month) {\r\n\r\n        return switch (month) {\r\n            case &quot;JAN&quot;, &quot;FEB&quot;, &quot;MAR&quot; -&gt; &quot;Q1&quot;;\r\n            case &quot;APR&quot;, &quot;MAY&quot;, &quot;JUN&quot; -&gt; {\r\n                System.out.println(&quot;Using yield.&quot;);\r\n                yield &quot;Q2&quot;;\r\n            }\r\n            case &quot;JUL&quot;, &quot;AUG&quot;, &quot;SEP&quot; -&gt; &quot;Q3&quot;;\r\n            case &quot;OCT&quot;, &quot;NOV&quot;, &quot;DEC&quot; -&gt; &quot;Q4&quot;;\r\n            default -&gt; &quot;Unknown case&quot;;\r\n        };\r\n    }\r\n\r\nTo test the above pass `oldSwitchStatement(&quot;APR&quot;);` and `newSwitchExpressionYield(&quot;APR&quot;);` and see the resutls.","title":"What are switch expressions and how are they different from switch statements?","body":"<p>Adding to the above answers one can look at the current “shortfalls” with switch statement which switch expression solve:</p>\n<p><em><strong>Switch Statement:</strong></em></p>\n<ul>\n<li>Issue 1: Accidental Fall-through</li>\n<li>Issue 2: Variable scoping</li>\n<li>Issue 3: No return value</li>\n</ul>\n<p><em><strong>Switch expression:</strong></em></p>\n<ul>\n<li>No fallthrough</li>\n<li>Combined constants</li>\n<li>Blocked scope</li>\n<li>Return yield</li>\n</ul>\n<h2>EXAMPLE:</h2>\n<p><em><strong>Switch Statement:</strong></em></p>\n<pre><code>private static void oldSwitchStatement(String month) {\n\n    int i = 0;\n    String quarter = &quot;&quot;;\n\n    switch (month) {\n        case &quot;JAN&quot;:\n        case &quot;FEB&quot;:\n        case &quot;MAR&quot;:\n            i = i + 1;\n            quarter = &quot;Q1&quot;;\n            // break;\n        case &quot;APR&quot;:\n        case &quot;MAY&quot;:\n        case &quot;JUN&quot;:\n            i = i + 2;\n            quarter = &quot;Q2&quot;;\n            // break;\n        case &quot;JUL&quot;:\n        case &quot;AUG&quot;:\n        case &quot;SEP&quot;:\n            i = i + 3;\n            quarter = &quot;Q3&quot;;\n            // break;\n        case &quot;OCT&quot;:\n        case &quot;NOV&quot;:\n        case &quot;DEC&quot;:\n            i = i + 4;\n            quarter = &quot;Q4&quot;;\n        default:\n            System.out.println(&quot;Unknown case&quot;);\n    }\n\n    System.out.println(&quot;QUARTER: &quot;+ i + &quot; &quot;+ quarter);\n}\n</code></pre>\n<p><em><strong>Switch Expression</strong></em></p>\n<pre><code>private static String newSwitchExpressionYield(String month) {\n\n    return switch (month) {\n        case &quot;JAN&quot;, &quot;FEB&quot;, &quot;MAR&quot; -&gt; &quot;Q1&quot;;\n        case &quot;APR&quot;, &quot;MAY&quot;, &quot;JUN&quot; -&gt; {\n            System.out.println(&quot;Using yield.&quot;);\n            yield &quot;Q2&quot;;\n        }\n        case &quot;JUL&quot;, &quot;AUG&quot;, &quot;SEP&quot; -&gt; &quot;Q3&quot;;\n        case &quot;OCT&quot;, &quot;NOV&quot;, &quot;DEC&quot; -&gt; &quot;Q4&quot;;\n        default -&gt; &quot;Unknown case&quot;;\n    };\n}\n</code></pre>\n<p>To test the above pass <code>oldSwitchStatement(&quot;APR&quot;);</code> and <code>newSwitchExpressionYield(&quot;APR&quot;);</code> and see the resutls.</p>\n"}],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14878,"favorite_count":0,"down_vote_count":14,"up_vote_count":45,"accepted_answer_id":65657170,"answer_count":4,"score":31,"last_activity_date":1675000631,"creation_date":1610304616,"question_id":65657169,"body_markdown":"As part of Java SE 12, [`switch` expressions](https://docs.oracle.com/en/java/javase/13/language/switch-expressions.html) were introduced and since Java SE 14, they have been standardized. How are they different from `switch` statements?","title":"What are switch expressions and how are they different from switch statements?","body":"<p>As part of Java SE 12, <a href=\"https://docs.oracle.com/en/java/javase/13/language/switch-expressions.html\" rel=\"noreferrer\"><code>switch</code> expressions</a> were introduced and since Java SE 14, they have been standardized. How are they different from <code>switch</code> statements?</p>\n"},{"tags":["java","linux","installation","java-8","oraclelinux"],"owner":{"account_id":14214420,"reputation":23,"user_id":10268729,"display_name":"Pogman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674999703,"creation_date":1674959376,"question_id":75272260,"body_markdown":"I have a Java application which uses javaFX to process images (using the javafx.scene.image.Image and some related functionality, and instantiating an javafx/embed/swing/JFXPanel object to force JavaFX to initialise). I&#39;m trying to run this application on an Oracle free server running Oracle Linux 8.6 with Oracle Java 1.8.0_351 (OpenJDK and Oracle Java 19 give errors relating to JavaFX not being present). I&#39;ve compiled my application into a JAR (compiling for Java 1.8.0_301 using Oracle Java on Windows). However, on the server, this doesn&#39;t work; I get the exception `java.lang.UnsupportedOperationException: Unable to open DISPLAY`. \\\r\nThis question&#39;s answer suggests using xvfb:\\\r\nhttps://stackoverflow.com/questions/21162383/deploy-javafx-on-ubuntu-server-without-display \\\r\nI&#39;ve tried this, but get a &quot;GLX version 1.3 or higher is required&quot; error instead.\\\r\nIs there a solution for running JavaFX with Oracle Linux?\r\n\r\n**What I&#39;ve tried:**\r\n\r\nI&#39;ve tried with two different OSes available with Oracle free;\r\n\r\n**Oracle Linux 8.6**\r\n\r\nOpenJDK was installed with `sudo dnf install java-1.8.0-openjdk-devel.x86_64`.\\\r\nRunning the jar gives the `NoClassDefFoundError` error.\\\r\nI couldn&#39;t work out how to install javafx with dnf on Oracle Linux.\\\r\nI decided to give Oracle Java a go; OpenJDK was unlinked with `sudo unlink /etc/alternatives/java`.\\\r\nThe Oracle jdk 19 was downloaded and installed with `sudo rpm -ivh jdk-19_linux-x64_bin.rpm`. Running the jar (with `java -jar MyJar.jar`) still gives the same error.\\\r\nI tried uninstalling that (with `sudo dnf remove jdk-19`) and openJDK (with `sudo dnf remove java`) and installing Oracle Java 1.8.0 from a .rpm file. I then get an `java.lang.UnsupportedOperationException: Unable to open DISPLAY` error.\\\r\nXvfb was installed using `sudo dnf install xorg-x11-server-Xvfb`. xdpyinfo was installed using `sudo dnf install xdpyinfo`.\\\r\nXvfb was started using `export DISPLAY=:99` and `sudo xdpyinfo -display $DISPLAY &gt; /dev/null || Xvfb $DISPLAY -screen 0 1024x768x16 &amp;` (taken from here: https://unix.stackexchange.com/a/297882 )\\\r\nWhen running the JAR, I then get the exception\r\n```\r\nES2 Prism: Error - GLX extension is not supported\r\n    GLX version 1.3 or higher is required\r\njava.lang.UnsupportedOperationException: Internal Error\r\n```\r\n\r\n**Canonical Ubuntu 22.04 Minimal**\r\n\r\nOpenJDK was installed with `sudo apt-get install openjdk-8-jdk`. \\\r\nRunning the jar gives the `NoClassDefFoundError` error.\\\r\nOpenJFX was installed with `sudo apt-get install openjfx`. Same error.\\\r\nI tried running the JAR with `--module-path` argument pointing to `/usr/share/openjfx/lib/`; `--module-path` is an unrecognised option with Java 8.\\\r\nI upgraded to the latest openjdk `sudo apt-get install openjdk`. After this I&#39;m able to use `--module-path`.\\\r\nI tried running the JAR with `java --module-path /usr/share/openjfx/lib/ --add-modules javafx.controls,javafx.base,javafx.graphics,javafx.swing -jar MyJar.jar` (I&#39;m not sure which modules correspond to which packages...). This causes a `java.lang.UnsupportedOperationException: Unable to open DISPLAY` error.\r\n\r\n","title":"JavaFX on Oracle Linux 8.6","body":"<p>I have a Java application which uses javaFX to process images (using the javafx.scene.image.Image and some related functionality, and instantiating an javafx/embed/swing/JFXPanel object to force JavaFX to initialise). I'm trying to run this application on an Oracle free server running Oracle Linux 8.6 with Oracle Java 1.8.0_351 (OpenJDK and Oracle Java 19 give errors relating to JavaFX not being present). I've compiled my application into a JAR (compiling for Java 1.8.0_301 using Oracle Java on Windows). However, on the server, this doesn't work; I get the exception <code>java.lang.UnsupportedOperationException: Unable to open DISPLAY</code>. <br />\nThis question's answer suggests using xvfb:<br />\n<a href=\"https://stackoverflow.com/questions/21162383/deploy-javafx-on-ubuntu-server-without-display\">Deploy JavaFX on Ubuntu server without display</a> <br />\nI've tried this, but get a &quot;GLX version 1.3 or higher is required&quot; error instead.<br />\nIs there a solution for running JavaFX with Oracle Linux?</p>\n<p><strong>What I've tried:</strong></p>\n<p>I've tried with two different OSes available with Oracle free;</p>\n<p><strong>Oracle Linux 8.6</strong></p>\n<p>OpenJDK was installed with <code>sudo dnf install java-1.8.0-openjdk-devel.x86_64</code>.<br />\nRunning the jar gives the <code>NoClassDefFoundError</code> error.<br />\nI couldn't work out how to install javafx with dnf on Oracle Linux.<br />\nI decided to give Oracle Java a go; OpenJDK was unlinked with <code>sudo unlink /etc/alternatives/java</code>.<br />\nThe Oracle jdk 19 was downloaded and installed with <code>sudo rpm -ivh jdk-19_linux-x64_bin.rpm</code>. Running the jar (with <code>java -jar MyJar.jar</code>) still gives the same error.<br />\nI tried uninstalling that (with <code>sudo dnf remove jdk-19</code>) and openJDK (with <code>sudo dnf remove java</code>) and installing Oracle Java 1.8.0 from a .rpm file. I then get an <code>java.lang.UnsupportedOperationException: Unable to open DISPLAY</code> error.<br />\nXvfb was installed using <code>sudo dnf install xorg-x11-server-Xvfb</code>. xdpyinfo was installed using <code>sudo dnf install xdpyinfo</code>.<br />\nXvfb was started using <code>export DISPLAY=:99</code> and <code>sudo xdpyinfo -display $DISPLAY &gt; /dev/null || Xvfb $DISPLAY -screen 0 1024x768x16 &amp;</code> (taken from here: <a href=\"https://unix.stackexchange.com/a/297882\">https://unix.stackexchange.com/a/297882</a> )<br />\nWhen running the JAR, I then get the exception</p>\n<pre><code>ES2 Prism: Error - GLX extension is not supported\n    GLX version 1.3 or higher is required\njava.lang.UnsupportedOperationException: Internal Error\n</code></pre>\n<p><strong>Canonical Ubuntu 22.04 Minimal</strong></p>\n<p>OpenJDK was installed with <code>sudo apt-get install openjdk-8-jdk</code>. <br />\nRunning the jar gives the <code>NoClassDefFoundError</code> error.<br />\nOpenJFX was installed with <code>sudo apt-get install openjfx</code>. Same error.<br />\nI tried running the JAR with <code>--module-path</code> argument pointing to <code>/usr/share/openjfx/lib/</code>; <code>--module-path</code> is an unrecognised option with Java 8.<br />\nI upgraded to the latest openjdk <code>sudo apt-get install openjdk</code>. After this I'm able to use <code>--module-path</code>.<br />\nI tried running the JAR with <code>java --module-path /usr/share/openjfx/lib/ --add-modules javafx.controls,javafx.base,javafx.graphics,javafx.swing -jar MyJar.jar</code> (I'm not sure which modules correspond to which packages...). This causes a <code>java.lang.UnsupportedOperationException: Unable to open DISPLAY</code> error.</p>\n"},{"tags":["java","pdf","pdf-generation","itext7","apache-fop"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1675018124,"post_id":75275336,"comment_id":132833316,"body_markdown":"*&quot;I want to merge or copy multiple multiple statements as a single PDF but with the properties intact.&quot;* - In addition to what @KJ mentioned, what would mean *intact* here, the Producer of _which_ of the merged files should be used?","body":"<i>&quot;I want to merge or copy multiple multiple statements as a single PDF but with the properties intact.&quot;</i> - In addition to what @KJ mentioned, what would mean <i>intact</i> here, the Producer of <i>which</i> of the merged files should be used?"}],"owner":{"account_id":4569008,"reputation":1204,"user_id":3709218,"accept_rate":49,"display_name":"Kishore Kumar Korada"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674999566,"creation_date":1674999566,"question_id":75275336,"body_markdown":"I&#39;ve PDF Statements getting generated using Apache FOP 2.6. For those statements when I go to the properties, it tells the producer is Apache FOP like the one in the below screen  &lt;br&gt;\r\n[![enter image description here][1]][1]\r\n&lt;br&gt;&lt;br&gt;\r\nNow I want to merge those statements to create a single PDF File. For that I used **PdfMerger** from Itext7. But when I see the properties, the producer property changes to Itext7 like the one in the below screen&lt;br&gt;\r\n[![enter image description here][2]][2]\r\n&lt;br&gt;\r\n\r\n\r\n\r\nHere&#39;s the code I&#39;ve used.&lt;br&gt;\r\n\r\n    import java.io.File;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.IOException;\r\n    import com.itextpdf.kernel.pdf.PdfDocument;\r\n    import com.itextpdf.kernel.pdf.PdfReader;\r\n    import com.itextpdf.kernel.pdf.PdfWriter;\r\n    import com.itextpdf.kernel.utils.PdfMerger;\r\n\r\n    public class ApacheFOPExample {\r\n\r\n\t   public static void main(String[] args) {\r\n\t\t\tmergePdfs();\r\n\t   }\r\n\t\r\n\t   public static void mergePdfs() {\r\n\t\t   try {\r\n\t\t\t   PdfDocument pdf = new PdfDocument(new PdfWriter(new File(&quot;D:\\\\Workspace\\\\Itext\\\\xsl_employee_merged.pdf&quot;)));\r\n\t\t\t   PdfMerger merger = new PdfMerger(pdf);\r\n\r\n\t\t\t   //Add pages from the first document\r\n\t\t\t   PdfDocument firstSourcePdf = new PdfDocument(new PdfReader(new File(&quot;D:\\\\Workspace\\\\Itext\\\\xsl_employee.pdf&quot;)));\r\n\t\t\t   merger.merge(firstSourcePdf, 1, firstSourcePdf.getNumberOfPages());\r\n\r\n\t\t\t   //Add pages from the second pdf document\r\n\t\t\t   PdfDocument secondSourcePdf = new PdfDocument(new PdfReader(new File(&quot;D:\\\\Workspace\\\\Itext\\\\xsl_employee_another.pdf&quot;)));\r\n\t\t\t   merger.merge(secondSourcePdf, 1, secondSourcePdf.getNumberOfPages());\r\n\r\n\t\t\t   firstSourcePdf.close();\r\n\t\t\t   secondSourcePdf.close();\r\n\t\t\t   pdf.close();\r\n\t\t   } catch (FileNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t   } catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t   }\r\n\t   }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TjyGG.png\r\n  [2]: https://i.stack.imgur.com/ef2ed.png\r\n&lt;br&gt;\r\nI want to merge or copy multiple multiple statements as a single PDF but with the properties intact. How can I achieve it? To merge, is there any alternative way that I can follow to achieve this?&lt;br&gt;\r\n\r\n**Note:** I can&#39;t use Itext5 classes to do this.\r\n\r\nThank You","title":"PDF Producer properties getting changed when I use merge of Itext7 for FOP Generated PDF Statements","body":"<p>I've PDF Statements getting generated using Apache FOP 2.6. For those statements when I go to the properties, it tells the producer is Apache FOP like the one in the below screen  <br>\n<a href=\"https://i.stack.imgur.com/TjyGG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TjyGG.png\" alt=\"enter image description here\" /></a>\n<br><br>\nNow I want to merge those statements to create a single PDF File. For that I used <strong>PdfMerger</strong> from Itext7. But when I see the properties, the producer property changes to Itext7 like the one in the below screen<br>\n<a href=\"https://i.stack.imgur.com/ef2ed.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ef2ed.png\" alt=\"enter image description here\" /></a>\n<br></p>\n<p>Here's the code I've used.<br></p>\n<pre><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport com.itextpdf.kernel.pdf.PdfDocument;\nimport com.itextpdf.kernel.pdf.PdfReader;\nimport com.itextpdf.kernel.pdf.PdfWriter;\nimport com.itextpdf.kernel.utils.PdfMerger;\n\npublic class ApacheFOPExample {\n\n   public static void main(String[] args) {\n        mergePdfs();\n   }\n\n   public static void mergePdfs() {\n       try {\n           PdfDocument pdf = new PdfDocument(new PdfWriter(new File(&quot;D:\\\\Workspace\\\\Itext\\\\xsl_employee_merged.pdf&quot;)));\n           PdfMerger merger = new PdfMerger(pdf);\n\n           //Add pages from the first document\n           PdfDocument firstSourcePdf = new PdfDocument(new PdfReader(new File(&quot;D:\\\\Workspace\\\\Itext\\\\xsl_employee.pdf&quot;)));\n           merger.merge(firstSourcePdf, 1, firstSourcePdf.getNumberOfPages());\n\n           //Add pages from the second pdf document\n           PdfDocument secondSourcePdf = new PdfDocument(new PdfReader(new File(&quot;D:\\\\Workspace\\\\Itext\\\\xsl_employee_another.pdf&quot;)));\n           merger.merge(secondSourcePdf, 1, secondSourcePdf.getNumberOfPages());\n\n           firstSourcePdf.close();\n           secondSourcePdf.close();\n           pdf.close();\n       } catch (FileNotFoundException e) {\n        e.printStackTrace();\n       } catch (IOException e) {\n        e.printStackTrace();\n       }\n   }\n}\n</code></pre>\n<p><br>\nI want to merge or copy multiple multiple statements as a single PDF but with the properties intact. How can I achieve it? To merge, is there any alternative way that I can follow to achieve this?<br></p>\n<p><strong>Note:</strong> I can't use Itext5 classes to do this.</p>\n<p>Thank You</p>\n"},{"tags":["java","spring-boot","spring-security","oauth-2.0","scopes"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1674906420,"post_id":75260449,"comment_id":132816381,"body_markdown":"Scopes are for clients not for users, but the user can choose which scopes are granted for a client. The only way I see is to configure two clients for each authorization sever, one client for each type of user.","body":"Scopes are for clients not for users, but the user can choose which scopes are granted for a client. The only way I see is to configure two clients for each authorization sever, one client for each type of user."},{"owner":{"account_id":2634995,"reputation":123,"user_id":2279957,"display_name":"cowley05"},"score":1,"creation_date":1675040433,"post_id":75260449,"comment_id":132836731,"body_markdown":"Ahh I think that makes sense. So what you&#39;re saying is I could configure another client let call it user2-google and have different scopes defined but point to the same endpoints, then use that when accessing as user1?","body":"Ahh I think that makes sense. So what you&#39;re saying is I could configure another client let call it user2-google and have different scopes defined but point to the same endpoints, then use that when accessing as user1?"}],"owner":{"account_id":2634995,"reputation":123,"user_id":2279957,"display_name":"cowley05"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674999398,"creation_date":1674834933,"question_id":75260449,"body_markdown":"I have a React application and I have a Spring Boot backend currently using Spring Security to authenticate the users using OAuth2 code grant flow, with both Google and Azure. \r\n\r\nThis was all working fine when I had just one type of user that required me to ask for a specific set of scopes (email access and calendar access). I was able to login as a Google/Azure user, request permissions for the scopes I needed, get access tokens and access the email and calendars of the users. Lets call this type of user &quot;USER1&quot;.\r\n\r\nNow I have the requirement for another type of user. For this user I only need access to their profile information and no integration with calendars etc. They still need to be able to login with Google/Azure via the React app (using a different page/button from USER1 of course). Lets call this type of user &quot;USER2&quot;.\r\n\r\nI cant seem to work out in Spring Security how to configure USER1 to trigger the login process and have Spring ask Google/Azure for one set of scopes and for USER2 to trigger the login process and ask Google/Azure for a different set of scopes.\r\n\r\nMy current **security config** looks something like this: \r\n\r\n```java\r\n@EnableWebSecurity\r\npublic class OAuth2LoginSecurityConfig {\r\n\r\n    private final long MAX_AGE = 3600;\r\n    private final CustomOAuth2UserService customOAuth2UserService; //for google\r\n    private final CustomOidcUserService customOidcUserService; //for azure\r\n    \r\n    private final MyUserRepository myUserRepository;\r\n    private final OAuth2AuthenticationSuccessHandler oAuth2AuthenticationSuccessHandler;\r\n    private final OAuth2AuthenticationFailureHandler oAuth2AuthenticationFailureHandler;\r\n    private final AppConfig appConfig;\r\n\r\n    public OAuth2LoginSecurityConfig(CustomOAuth2UserService customOAuth2UserService, CustomOidcUserService customOidcUserService, MyUserRepository myUserRepository, OAuth2AuthenticationSuccessHandler oAuth2AuthenticationSuccessHandler, OAuth2AuthenticationFailureHandler oAuth2AuthenticationFailureHandler, AppConfig appConfig) {\r\n        this.customOAuth2UserService = customOAuth2UserService;\r\n        this.customOidcUserService = customOidcUserService;\r\n        this.myUserRepository = myUserRepository;\r\n        this.oAuth2AuthenticationSuccessHandler = oAuth2AuthenticationSuccessHandler;\r\n        this.oAuth2AuthenticationFailureHandler = oAuth2AuthenticationFailureHandler;\r\n        this.appConfig = appConfig;\r\n    }\r\n\r\n    @Bean\r\n    public HttpCookieOAuth2AuthorizationRequestRepository cookieAuthorizationRequestRepository() {\r\n        return new HttpCookieOAuth2AuthorizationRequestRepository();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticateRequestsFilter tokenAuthenticationFilter() {\r\n        return new AuthenticateRequestsFilter(myUserRepository);\r\n    }\r\n\r\n    @Bean\r\n    public OAuth2AccessTokenResponseClient&lt;OAuth2AuthorizationCodeGrantRequest&gt; accessTokenResponseClient() {\r\n        DefaultAuthorizationCodeTokenResponseClient accessTokenResponseClient =\r\n                new DefaultAuthorizationCodeTokenResponseClient();\r\n\r\n        OAuth2AccessTokenResponseHttpMessageConverter tokenResponseHttpMessageConverter =\r\n                new OAuth2AccessTokenResponseHttpMessageConverter();\r\n        tokenResponseHttpMessageConverter.setTokenResponseConverter(new CustomTokenResponseConverter());\r\n        RestTemplate restTemplate = new RestTemplate(Arrays.asList(\r\n                new FormHttpMessageConverter(), tokenResponseHttpMessageConverter));\r\n        restTemplate.setErrorHandler(new OAuth2ErrorResponseErrorHandler());\r\n\r\n        accessTokenResponseClient.setRestOperations(restTemplate);\r\n        return accessTokenResponseClient;\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n            .cors()\r\n                .and()\r\n            .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n            .csrf().disable()\r\n            .formLogin().disable()\r\n            .httpBasic().disable()\r\n            .exceptionHandling()\r\n                .authenticationEntryPoint(new RestAuthenticationEntryPoint())\r\n                .and()\r\n            .authorizeHttpRequests()\r\n                .antMatchers(&quot;/&quot;, &quot;/error&quot;, &quot;/data&quot;, &quot;/data/*&quot;).permitAll()\r\n                .antMatchers(HttpMethod.GET, &quot;/someurl/*/thingx&quot;, &quot;/someurl/*/thingy&quot;).permitAll()\r\n                .antMatchers(&quot;/auth/**&quot;, &quot;/oauth2/**&quot;, &quot;/user-logout&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n            .oauth2Login()\r\n                .authorizationEndpoint()\r\n                .baseUri(&quot;/oauth2/authorize&quot;)\r\n                .authorizationRequestRepository(cookieAuthorizationRequestRepository())\r\n                .and()\r\n                .redirectionEndpoint()\r\n                .baseUri(&quot;/oauth2/callback/*&quot;)\r\n                .and()\r\n                .tokenEndpoint()\r\n                .accessTokenResponseClient(accessTokenResponseClient())\r\n                .and()\r\n                .userInfoEndpoint()\r\n                .userService(customOAuth2UserService)\r\n                .oidcUserService(customOidcUserService)\r\n                .and()\r\n                .successHandler(oAuth2AuthenticationSuccessHandler)\r\n                .failureHandler(oAuth2AuthenticationFailureHandler)\r\n                .and()\r\n            .addFilterBefore(tokenAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public CorsFilter corsFilter() {\r\n\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        CorsConfiguration config = new CorsConfiguration();\r\n        config.setAllowCredentials(true);\r\n        config.addAllowedOrigin(appConfig.getClientBaseUrl().toString());\r\n        config.addAllowedHeader(&quot;*&quot;);\r\n        config.addAllowedMethod(&quot;GET&quot;);\r\n        config.addAllowedMethod(&quot;POST&quot;);\r\n        config.addAllowedMethod(&quot;PUT&quot;);\r\n        config.addAllowedMethod(&quot;PATCH&quot;);\r\n        config.addAllowedMethod(&quot;DELETE&quot;);\r\n        config.addAllowedMethod(&quot;OPTIONS&quot;);\r\n        config.setMaxAge(MAX_AGE);\r\n        source.registerCorsConfiguration(&quot;/**&quot;, config);\r\n        return new CorsFilter(source);\r\n    }\r\n}\r\n```\r\n\r\nMy **`application.yml`** looks like this (some things deleted as not relevant):\r\n\r\n```yaml\r\nspring:\r\n  mvc:\r\n    format:\r\n      date: yyyy-MM-dd\r\n      time: HH:mm:ss\r\n  security:\r\n    oauth2:\r\n      client:\r\n        provider:\r\n          azure:\r\n            token-uri: https://login.microsoftonline.com/common/oauth2/v2.0/token\r\n            authorization-uri: https://login.microsoftonline.com/common/oauth2/v2.0/authorize\r\n            user-info-uri: https://graph.microsoft.com/oidc/userinfo\r\n            jwk-set-uri: https://login.microsoftonline.com/common/discovery/v2.0/keys\r\n            user-name-attribute: name\r\n            user-info-authentication-method: header\r\n          google:\r\n            authorization-uri: https://accounts.google.com/o/oauth2/v2/auth?prompt=consent&amp;access_type=offline\r\n        registration:\r\n          azure:\r\n            client-id: FROM_ENV\r\n            client-secret: FROM_ENV\r\n            redirect-uri: &quot;{baseUrl}/oauth2/callback/{registrationId}&quot;\r\n            authorization-grant-type: authorization_code\r\n            scope:\r\n              - openid\r\n              - email\r\n              - profile\r\n              - offline_access\r\n              - https://graph.microsoft.com/Calendars.ReadWrite\r\n              - https://graph.microsoft.com/User.Read\r\n          google:\r\n            client-id: FROM_ENV\r\n            client-secret: FROM_ENV\r\n            redirect-uri: &quot;{baseUrl}/oauth2/callback/{registrationId}&quot;\r\n            scope:\r\n              - email\r\n              - profile\r\n              - https://www.googleapis.com/auth/gmail.send\r\n              - https://www.googleapis.com/auth/calendar\r\n\r\napp:\r\n  client-base-url: SOME_URL\r\n  server-base-url: SOME_URL\r\n\r\n```\r\n\r\nAny help or resources are much appreciated!\r\n\r\n\r\n","title":"How to request different sets of scopes for different types of users?","body":"<p>I have a React application and I have a Spring Boot backend currently using Spring Security to authenticate the users using OAuth2 code grant flow, with both Google and Azure.</p>\n<p>This was all working fine when I had just one type of user that required me to ask for a specific set of scopes (email access and calendar access). I was able to login as a Google/Azure user, request permissions for the scopes I needed, get access tokens and access the email and calendars of the users. Lets call this type of user &quot;USER1&quot;.</p>\n<p>Now I have the requirement for another type of user. For this user I only need access to their profile information and no integration with calendars etc. They still need to be able to login with Google/Azure via the React app (using a different page/button from USER1 of course). Lets call this type of user &quot;USER2&quot;.</p>\n<p>I cant seem to work out in Spring Security how to configure USER1 to trigger the login process and have Spring ask Google/Azure for one set of scopes and for USER2 to trigger the login process and ask Google/Azure for a different set of scopes.</p>\n<p>My current <strong>security config</strong> looks something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebSecurity\npublic class OAuth2LoginSecurityConfig {\n\n    private final long MAX_AGE = 3600;\n    private final CustomOAuth2UserService customOAuth2UserService; //for google\n    private final CustomOidcUserService customOidcUserService; //for azure\n    \n    private final MyUserRepository myUserRepository;\n    private final OAuth2AuthenticationSuccessHandler oAuth2AuthenticationSuccessHandler;\n    private final OAuth2AuthenticationFailureHandler oAuth2AuthenticationFailureHandler;\n    private final AppConfig appConfig;\n\n    public OAuth2LoginSecurityConfig(CustomOAuth2UserService customOAuth2UserService, CustomOidcUserService customOidcUserService, MyUserRepository myUserRepository, OAuth2AuthenticationSuccessHandler oAuth2AuthenticationSuccessHandler, OAuth2AuthenticationFailureHandler oAuth2AuthenticationFailureHandler, AppConfig appConfig) {\n        this.customOAuth2UserService = customOAuth2UserService;\n        this.customOidcUserService = customOidcUserService;\n        this.myUserRepository = myUserRepository;\n        this.oAuth2AuthenticationSuccessHandler = oAuth2AuthenticationSuccessHandler;\n        this.oAuth2AuthenticationFailureHandler = oAuth2AuthenticationFailureHandler;\n        this.appConfig = appConfig;\n    }\n\n    @Bean\n    public HttpCookieOAuth2AuthorizationRequestRepository cookieAuthorizationRequestRepository() {\n        return new HttpCookieOAuth2AuthorizationRequestRepository();\n    }\n\n    @Bean\n    public AuthenticateRequestsFilter tokenAuthenticationFilter() {\n        return new AuthenticateRequestsFilter(myUserRepository);\n    }\n\n    @Bean\n    public OAuth2AccessTokenResponseClient&lt;OAuth2AuthorizationCodeGrantRequest&gt; accessTokenResponseClient() {\n        DefaultAuthorizationCodeTokenResponseClient accessTokenResponseClient =\n                new DefaultAuthorizationCodeTokenResponseClient();\n\n        OAuth2AccessTokenResponseHttpMessageConverter tokenResponseHttpMessageConverter =\n                new OAuth2AccessTokenResponseHttpMessageConverter();\n        tokenResponseHttpMessageConverter.setTokenResponseConverter(new CustomTokenResponseConverter());\n        RestTemplate restTemplate = new RestTemplate(Arrays.asList(\n                new FormHttpMessageConverter(), tokenResponseHttpMessageConverter));\n        restTemplate.setErrorHandler(new OAuth2ErrorResponseErrorHandler());\n\n        accessTokenResponseClient.setRestOperations(restTemplate);\n        return accessTokenResponseClient;\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n            .cors()\n                .and()\n            .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n            .csrf().disable()\n            .formLogin().disable()\n            .httpBasic().disable()\n            .exceptionHandling()\n                .authenticationEntryPoint(new RestAuthenticationEntryPoint())\n                .and()\n            .authorizeHttpRequests()\n                .antMatchers(&quot;/&quot;, &quot;/error&quot;, &quot;/data&quot;, &quot;/data/*&quot;).permitAll()\n                .antMatchers(HttpMethod.GET, &quot;/someurl/*/thingx&quot;, &quot;/someurl/*/thingy&quot;).permitAll()\n                .antMatchers(&quot;/auth/**&quot;, &quot;/oauth2/**&quot;, &quot;/user-logout&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and()\n            .oauth2Login()\n                .authorizationEndpoint()\n                .baseUri(&quot;/oauth2/authorize&quot;)\n                .authorizationRequestRepository(cookieAuthorizationRequestRepository())\n                .and()\n                .redirectionEndpoint()\n                .baseUri(&quot;/oauth2/callback/*&quot;)\n                .and()\n                .tokenEndpoint()\n                .accessTokenResponseClient(accessTokenResponseClient())\n                .and()\n                .userInfoEndpoint()\n                .userService(customOAuth2UserService)\n                .oidcUserService(customOidcUserService)\n                .and()\n                .successHandler(oAuth2AuthenticationSuccessHandler)\n                .failureHandler(oAuth2AuthenticationFailureHandler)\n                .and()\n            .addFilterBefore(tokenAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\n\n        return http.build();\n    }\n\n    @Bean\n    public CorsFilter corsFilter() {\n\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        CorsConfiguration config = new CorsConfiguration();\n        config.setAllowCredentials(true);\n        config.addAllowedOrigin(appConfig.getClientBaseUrl().toString());\n        config.addAllowedHeader(&quot;*&quot;);\n        config.addAllowedMethod(&quot;GET&quot;);\n        config.addAllowedMethod(&quot;POST&quot;);\n        config.addAllowedMethod(&quot;PUT&quot;);\n        config.addAllowedMethod(&quot;PATCH&quot;);\n        config.addAllowedMethod(&quot;DELETE&quot;);\n        config.addAllowedMethod(&quot;OPTIONS&quot;);\n        config.setMaxAge(MAX_AGE);\n        source.registerCorsConfiguration(&quot;/**&quot;, config);\n        return new CorsFilter(source);\n    }\n}\n</code></pre>\n<p>My <strong><code>application.yml</code></strong> looks like this (some things deleted as not relevant):</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  mvc:\n    format:\n      date: yyyy-MM-dd\n      time: HH:mm:ss\n  security:\n    oauth2:\n      client:\n        provider:\n          azure:\n            token-uri: https://login.microsoftonline.com/common/oauth2/v2.0/token\n            authorization-uri: https://login.microsoftonline.com/common/oauth2/v2.0/authorize\n            user-info-uri: https://graph.microsoft.com/oidc/userinfo\n            jwk-set-uri: https://login.microsoftonline.com/common/discovery/v2.0/keys\n            user-name-attribute: name\n            user-info-authentication-method: header\n          google:\n            authorization-uri: https://accounts.google.com/o/oauth2/v2/auth?prompt=consent&amp;access_type=offline\n        registration:\n          azure:\n            client-id: FROM_ENV\n            client-secret: FROM_ENV\n            redirect-uri: &quot;{baseUrl}/oauth2/callback/{registrationId}&quot;\n            authorization-grant-type: authorization_code\n            scope:\n              - openid\n              - email\n              - profile\n              - offline_access\n              - https://graph.microsoft.com/Calendars.ReadWrite\n              - https://graph.microsoft.com/User.Read\n          google:\n            client-id: FROM_ENV\n            client-secret: FROM_ENV\n            redirect-uri: &quot;{baseUrl}/oauth2/callback/{registrationId}&quot;\n            scope:\n              - email\n              - profile\n              - https://www.googleapis.com/auth/gmail.send\n              - https://www.googleapis.com/auth/calendar\n\napp:\n  client-base-url: SOME_URL\n  server-base-url: SOME_URL\n\n</code></pre>\n<p>Any help or resources are much appreciated!</p>\n"},{"tags":["java","oracle","spring-boot","hibernate","modelmapper"],"answers":[{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674997975,"creation_date":1674997975,"answer_id":75275166,"question_id":75275140,"body_markdown":"Suppose your field has the name foo you can use the `@Column` annotation to declare a db column with a different name so\r\n\r\n```java\r\nclass Model {\r\n    // other fields\r\n    @Column(name = &quot;bar&quot;)\r\n    private int foo;\r\n}","title":"Need to Map incoming column to different field in model class","body":"<p>Suppose your field has the name foo you can use the <code>@Column</code> annotation to declare a db column with a different name so</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Model {\n    // other fields\n    @Column(name = &quot;bar&quot;)\n    private int foo;\n}\n</code></pre>\n"}],"owner":{"account_id":27649242,"reputation":1,"user_id":21104496,"display_name":"Sunil Yadav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":411,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1676233444,"answer_count":1,"score":-1,"last_activity_date":1674997975,"creation_date":1674997684,"question_id":75275140,"body_markdown":"I am receiving jpa object from db using springboot and mapping it to model but the column name in model is different than the  one coming from database. \r\n\r\nI tried to setter to set the value of model field from the incoming database attribute but the attribute is in parent class \r\nand hence it is always set as null. ","title":"Need to Map incoming column to different field in model class","body":"<p>I am receiving jpa object from db using springboot and mapping it to model but the column name in model is different than the  one coming from database.</p>\n<p>I tried to setter to set the value of model field from the incoming database attribute but the attribute is in parent class\nand hence it is always set as null.</p>\n"},{"tags":["java","jakarta-ee"],"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1675100647,"post_id":75274795,"comment_id":132851615,"body_markdown":"https://microprofile.io","body":"<a href=\"https://microprofile.io\" rel=\"nofollow noreferrer\">microprofile.io</a>"},{"owner":{"account_id":184203,"reputation":3430,"user_id":420096,"accept_rate":71,"display_name":"Sombriks"},"score":0,"creation_date":1675109685,"post_id":75274795,"comment_id":132854251,"body_markdown":"@BalusC microprofile looks promising, but i am missing some specs like jpa on it. Am i missing something? thanks a lot for this first hint","body":"@BalusC microprofile looks promising, but i am missing some specs like jpa on it. Am i missing something? thanks a lot for this first hint"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1675181488,"post_id":75274795,"comment_id":132871301,"body_markdown":"JPA is optional (like as it is in Spring world). https://hibernate.org/reactive is another option.","body":"JPA is optional (like as it is in Spring world). <a href=\"https://hibernate.org/reactive\" rel=\"nofollow noreferrer\">hibernate.org/reactive</a> is another option."},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":1,"creation_date":1675267820,"post_id":75274795,"comment_id":132892885,"body_markdown":"For a spring-boot-like approach with JEE APIs and Microprofile, you can try Quarkus, Helidon (maybe others I am not aware of). Maybe WildFly Galleon would be interesting (but I have never used it) if you want to go for a more traditional appserver setup.","body":"For a spring-boot-like approach with JEE APIs and Microprofile, you can try Quarkus, Helidon (maybe others I am not aware of). Maybe WildFly Galleon would be interesting (but I have never used it) if you want to go for a more traditional appserver setup."},{"owner":{"account_id":184203,"reputation":3430,"user_id":420096,"accept_rate":71,"display_name":"Sombriks"},"score":0,"creation_date":1675271762,"post_id":75274795,"comment_id":132894276,"body_markdown":"@NikosParaskevopoulos thanks for the links, they will help me a lot on clarifying these thoughts.","body":"@NikosParaskevopoulos thanks for the links, they will help me a lot on clarifying these thoughts."}],"owner":{"account_id":184203,"reputation":3430,"user_id":420096,"accept_rate":71,"display_name":"Sombriks"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674997784,"creation_date":1674994567,"question_id":75274795,"body_markdown":"Unlike [spring-boot](https://spring.io/projects/spring-boot),\r\n[JakartaEE](https://jakarta.ee/) applications usually organizes application code\r\napart from server code.\r\n\r\nJava web projects used to be packaged into [war](https://en.wikipedia.org/wiki/WAR_(file_format))\r\nor [ear](https://www.ibm.com/docs/en/baw/19.x?topic=modules-ear-file-overview)\r\nfiles and the server was managed separately.\r\n\r\n**I am trying to find a project layout for JakartaEE projects that comply with separation but behaves more like a\r\nspringboot app** and, in order to get it, i am exploring the embedded app servers approach.\r\n\r\nSo far, i am thinking on a multiproject layout, one with regular JEE style structure and another with an embedded app\r\nserver consuming the first one. Gradle and maven both supports it:\r\n\r\n- https://docs.gradle.org/current/userguide/multi_project_builds.html\r\n- https://books.sonatype.com/mvnex-book/reference/multimodule-sect-simple-parent.html\r\n\r\nFor the embedded app server i found these samples so far:\r\n\r\n- https://blog.payara.fish/what-is-payara-embedded?\r\n- https://www.ibm.com/docs/en/was-liberty/zos?topic=liberty-embedding-server-in-your-applications\r\n- https://stackoverflow.com/questions/71383171/simple-embedded-tomcat-10-example\r\n- https://github.com/wildfly/wildfly-core/blob/main/embedded/src/test/java/org/wildfly/core/embedded/EmbeddedServerFactorySetupUnitTestCase.java\r\n- https://www.eclipse.org/jetty/documentation/jetty-11/programming-guide/index.html#creating-helloworld-class\r\n\r\nA good article on this topic follows:\r\n\r\n- https://www.baeldung.com/executable-jar-with-maven\r\n\r\nFor the project layout i don&#39;t have much ideas yet, i am only sure about the\r\nseparation of the two modules. A few questions so far:\r\n\r\n- should the embedded final jar file be an [uber jar](https://imagej.net/develop/uber-jars)?\r\n- should the war/ear artifact be repackaged?\r\n- why this approach isn&#39;t more popular, given the clear success of sprin boot?\r\n","title":"Embedded portable JakartaEE application design approach","body":"<p>Unlike <a href=\"https://spring.io/projects/spring-boot\" rel=\"nofollow noreferrer\">spring-boot</a>,\n<a href=\"https://jakarta.ee/\" rel=\"nofollow noreferrer\">JakartaEE</a> applications usually organizes application code\napart from server code.</p>\n<p>Java web projects used to be packaged into <a href=\"https://en.wikipedia.org/wiki/WAR_(file_format)\" rel=\"nofollow noreferrer\">war</a>\nor <a href=\"https://www.ibm.com/docs/en/baw/19.x?topic=modules-ear-file-overview\" rel=\"nofollow noreferrer\">ear</a>\nfiles and the server was managed separately.</p>\n<p><strong>I am trying to find a project layout for JakartaEE projects that comply with separation but behaves more like a\nspringboot app</strong> and, in order to get it, i am exploring the embedded app servers approach.</p>\n<p>So far, i am thinking on a multiproject layout, one with regular JEE style structure and another with an embedded app\nserver consuming the first one. Gradle and maven both supports it:</p>\n<ul>\n<li><a href=\"https://docs.gradle.org/current/userguide/multi_project_builds.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/multi_project_builds.html</a></li>\n<li><a href=\"https://books.sonatype.com/mvnex-book/reference/multimodule-sect-simple-parent.html\" rel=\"nofollow noreferrer\">https://books.sonatype.com/mvnex-book/reference/multimodule-sect-simple-parent.html</a></li>\n</ul>\n<p>For the embedded app server i found these samples so far:</p>\n<ul>\n<li><a href=\"https://blog.payara.fish/what-is-payara-embedded\" rel=\"nofollow noreferrer\">https://blog.payara.fish/what-is-payara-embedded</a>?</li>\n<li><a href=\"https://www.ibm.com/docs/en/was-liberty/zos?topic=liberty-embedding-server-in-your-applications\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/was-liberty/zos?topic=liberty-embedding-server-in-your-applications</a></li>\n<li><a href=\"https://stackoverflow.com/questions/71383171/simple-embedded-tomcat-10-example\">Simple Embedded Tomcat 10 Example</a></li>\n<li><a href=\"https://github.com/wildfly/wildfly-core/blob/main/embedded/src/test/java/org/wildfly/core/embedded/EmbeddedServerFactorySetupUnitTestCase.java\" rel=\"nofollow noreferrer\">https://github.com/wildfly/wildfly-core/blob/main/embedded/src/test/java/org/wildfly/core/embedded/EmbeddedServerFactorySetupUnitTestCase.java</a></li>\n<li><a href=\"https://www.eclipse.org/jetty/documentation/jetty-11/programming-guide/index.html#creating-helloworld-class\" rel=\"nofollow noreferrer\">https://www.eclipse.org/jetty/documentation/jetty-11/programming-guide/index.html#creating-helloworld-class</a></li>\n</ul>\n<p>A good article on this topic follows:</p>\n<ul>\n<li><a href=\"https://www.baeldung.com/executable-jar-with-maven\" rel=\"nofollow noreferrer\">https://www.baeldung.com/executable-jar-with-maven</a></li>\n</ul>\n<p>For the project layout i don't have much ideas yet, i am only sure about the\nseparation of the two modules. A few questions so far:</p>\n<ul>\n<li>should the embedded final jar file be an <a href=\"https://imagej.net/develop/uber-jars\" rel=\"nofollow noreferrer\">uber jar</a>?</li>\n<li>should the war/ear artifact be repackaged?</li>\n<li>why this approach isn't more popular, given the clear success of sprin boot?</li>\n</ul>\n"},{"tags":["java","android","datetime","parsing","timezone"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1674931742,"post_id":75270043,"comment_id":132820943,"body_markdown":"*I need to be compatible with Java 7, which rules out a bunch of nifty features introduces with Java 8.* Not really true. Use [ThreeTen Backport](https://www.threeten.org/threetenbp/) and java.time, the modern Java date and time API. *Preferably without having to resort to external libraries* Technically the backport is an external library, but its the code that is working in Java 8, so not really that external. It’s rock solid, and it will prepare you well for the day when you can let go of Java 7 and upgrade to a more modern Java version.","body":"<i>I need to be compatible with Java 7, which rules out a bunch of nifty features introduces with Java 8.</i> Not really true. Use <a href=\"https://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTen Backport</a> and java.time, the modern Java date and time API. <i>Preferably without having to resort to external libraries</i> Technically the backport is an external library, but its the code that is working in Java 8, so not really that external. It’s rock solid, and it will prepare you well for the day when you can let go of Java 7 and upgrade to a more modern Java version."},{"owner":{"account_id":2636263,"reputation":5473,"user_id":2703209,"accept_rate":89,"display_name":"user149408"},"score":0,"creation_date":1674932382,"post_id":75270043,"comment_id":132821067,"body_markdown":"@OleV.V. I am aware of that, but IIRC this is a particular pain when Android is involved. This is why I want to steer clear of external dependencies, and in particular of ThreeTen Backport.","body":"@OleV.V. I am aware of that, but IIRC this is a particular pain when Android is involved. This is why I want to steer clear of external dependencies, and in particular of ThreeTen Backport."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":4,"creation_date":1674932603,"post_id":75270043,"comment_id":132821098,"body_markdown":"Is Android your only pain? If so, use [desugaring](https://developer.android.com/studio/write/java8-support-table). If desktop Java 7 is also in scope, I understand that using the backport gets more complicated since there is a separate Android adaptation, but shouldn’t you be able to manage? I’d personally go to great lengths for that.","body":"Is Android your only pain? If so, use <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">desugaring</a>. If desktop Java 7 is also in scope, I understand that using the backport gets more complicated since there is a separate Android adaptation, but shouldn’t you be able to manage? I’d personally go to great lengths for that."},{"owner":{"account_id":2636263,"reputation":5473,"user_id":2703209,"accept_rate":89,"display_name":"user149408"},"score":0,"creation_date":1674938769,"post_id":75270043,"comment_id":132822173,"body_markdown":"Still a lot of overhead for that particular use case when there is a much simpler solution, see my answer.","body":"Still a lot of overhead for that particular use case when there is a much simpler solution, see my answer."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1674940372,"post_id":75270043,"comment_id":132822437,"body_markdown":"Your answer is a step forward in relation to the code in the question. But its still a solution pointing backward in time. If your code is to be maintained beyond February this year, you should prefer a solution that points forward. Meaning forgetting about the notorious troublesome date-time classes from the mid-1990s. Just my 0.02$.","body":"Your answer is a step forward in relation to the code in the question. But its still a solution pointing backward in time. If your code is to be maintained beyond February this year, you should prefer a solution that points forward. Meaning forgetting about the notorious troublesome date-time classes from the mid-1990s. Just my 0.02$."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1674952607,"post_id":75270043,"comment_id":132824192,"body_markdown":"The legacy date-time classes are terribly flawed, designed by people who did not understand date-time handling. You *really* should reconsider your objection to using the modern classes. The little bit of effort to either add the back-port library, or to learn API desugaring in Android, is well worth it to avoid the old classes. The old classes really are that bad.","body":"The legacy date-time classes are terribly flawed, designed by people who did not understand date-time handling. You <i>really</i> should reconsider your objection to using the modern classes. The little bit of effort to either add the back-port library, or to learn API desugaring in Android, is well worth it to avoid the old classes. The old classes really are that bad."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1674990872,"post_id":75270043,"comment_id":132828197,"body_markdown":"`LocalDateTime.parse(&quot;2022-07-07 13:37&quot;, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm&quot;)).atZone(ZoneId.of(&quot;Europe/Brussels&quot;)).format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm zzzz&quot;, Locale.FRENCH))`. Yields `2022-07-07 13:37 heure d’&#233;t&#233; d’Europe centrale`. Split up into more statements and substitute your desired locale.","body":"<code>LocalDateTime.parse(&quot;2022-07-07 13:37&quot;, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm&quot;)).atZone(ZoneId.of(&quot;Europe&#47;Brussels&quot;)).format(DateTim&zwnj;&#8203;eFormatter.ofPattern&zwnj;&#8203;(&quot;yyyy-MM-dd HH:mm zzzz&quot;, Locale.FRENCH))</code>. Yields <code>2022-07-07 13:37 heure d’&#233;t&#233; d’Europe centrale</code>. Split up into more statements and substitute your desired locale."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1674991153,"post_id":75270043,"comment_id":132828250,"body_markdown":"Also the code is exactly the same when you use ThreeTen Backport for JRE 7 and ThreeTenABP for Android. The only difference will be the need to initialize the library once on Android. The imported packages and classes are the same and are named the same. While I do myself hesitate to commit to external dependencies, I really can’t see the big deal in this particular case.","body":"Also the code is exactly the same when you use ThreeTen Backport for JRE 7 and ThreeTenABP for Android. The only difference will be the need to initialize the library once on Android. The imported packages and classes are the same and are named the same. While I do myself hesitate to commit to external dependencies, I really can’t see the big deal in this particular case."},{"owner":{"account_id":2636263,"reputation":5473,"user_id":2703209,"accept_rate":89,"display_name":"user149408"},"score":2,"creation_date":1674998040,"post_id":75270043,"comment_id":132829421,"body_markdown":"All right, you guys convinced me :-) desktop Java is not the issue, it’s only Android that needs the workaround (as, sadly, it takes Google three years to adopt a new Java API). Took me a while to set it up, but it’s an investment with future benefits. I’ve updated the answer to include both options, with their pros and cons. Just out of interest, anyone have a pointer to a description of the bugs in the Java 7-style classes?","body":"All right, you guys convinced me :-) desktop Java is not the issue, it’s only Android that needs the workaround (as, sadly, it takes Google three years to adopt a new Java API). Took me a while to set it up, but it’s an investment with future benefits. I’ve updated the answer to include both options, with their pros and cons. Just out of interest, anyone have a pointer to a description of the bugs in the Java 7-style classes?"}],"answers":[{"tags":[],"owner":{"account_id":2636263,"reputation":5473,"user_id":2703209,"accept_rate":89,"display_name":"user149408"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674997509,"creation_date":1674932393,"answer_id":75270136,"question_id":75270043,"body_markdown":"Two general options:\r\n\r\n### Option 1: Use Java 8+ classes, with API desugaring on Android\r\n\r\n**Pros:** Future proof; does not suffer from the bugs in Java’s `Date` and related classes; gives you [a number of Java 8 APIs][1]\r\n\r\n**Cons:** Will work on Android prior to API 26 (Android 8) but not on JRE7; may require toolchain upgrades (which you will eventually need to do anyway)\r\n\r\nThis is the preferred way at least if you don’t have to support old desktop Java versions. Java 8 support on Android (at least in part) is done through a process called [desugaring][2].\r\n\r\nFirst, make sure you are at least on Gradle 6.1.1 and version 4.0.0 of the Android Gradle plugin.\r\n\r\nYour `build.gradle` should not specify a `buildToolsVersion` unless you need a specific one (which then needs to be 29.0.2 or higher).\r\n\r\nThen add the following to your `build.gradle`:\r\n\r\n    android {\r\n        defaultConfig {\r\n            multiDexEnabled true\r\n        }\r\n    \r\n        compileOptions {\r\n            coreLibraryDesugaringEnabled true\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        coreLibraryDesugaring &#39;com.android.tools:desugar_jdk_libs:1.1.8&#39;\r\n    }\r\n\r\nVersion 1.1.8 [is equivalent to 1.2.2][3] (which is the version Google recommends as of January 2023) but works on older versions of the R8/D8 compiler (I got an error with 1.2.2 but 1.1.8 worked).\r\n\r\nAll the changes so far only apply to the Android build. For other platforms you may be running the code on, nothing changes.\r\n\r\nThis allows you to then run the following Java code:\r\n\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm&quot;)\r\n        .withZone(ZoneId.of(&quot;Europe/Brussels&quot;));\r\n    try {\r\n        ZonedDateTime zonedDate = ZonedDateTime.parse(rawDate, formatter);\r\n        System.out.println(&quot;Timestamp: &quot; + zonedDate.format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm zzzz&quot;)))\r\n    } catch (DateTimeParseException e) {\r\n        // do whatever is necessary here\r\n    }\r\n\r\nIf you need to pass this to something that expects a `Date`, you can convert that using `Date.from(zonedDate.toInstant())`.\r\n\r\n### Option 2: Use Java 7-compatible classes\r\n\r\n**Pros:** Works on any Java 7 API, whether desktop or Android\r\n\r\n**Cons:** Not future proof (as you are using deprecated classes); still suffers from all the bugs in Java’s `Date` and related classes; will solve this particular API incompatibility but not others\r\n\r\n`DateFormat` has a `setTimeZone()` method, which accepts a `TimeZone` argument (which, in turn, can be generated from a string such as `Europe/Brussels`). Setting it will cause date/time strings to be parsed as local time in that time zone, with automatic adjustment for DST. No need to append anything to the string being parsed.\r\n\r\n    SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm&quot;);\r\n    dateFormat.setTimeZone(TimeZone.getTimeZone(&quot;Europe/Brussels&quot;));\r\n    Date date = dateFormat.parse(timestampString);\r\n    /*\r\n     * dateFormat no longer contains a time zone, so use a separate format\r\n     * for output (with the time zone)\r\n     */\r\n    SimpleDateFormat dateFormatOut = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm zzzz&quot;);\r\n    dateFormatOut.setTimeZone(TimeZone.getTimeZone(&quot;Europe/Brussels&quot;));\r\n    System.out.println(&quot;Timestamp: &quot; + dateFormatOut.format(date));\r\n\r\n\r\n  [1]: https://developer.android.com/studio/write/java8-support-table\r\n  [2]: https://developer.android.com/studio/write/java8-support#library-desugaring\r\n  [3]: https://github.com/google/desugar_jdk_libs/blob/master/CHANGELOG.md","title":"Portable way to parse local date/time (with implicit time zone)","body":"<p>Two general options:</p>\n<h3>Option 1: Use Java 8+ classes, with API desugaring on Android</h3>\n<p><strong>Pros:</strong> Future proof; does not suffer from the bugs in Java’s <code>Date</code> and related classes; gives you <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">a number of Java 8 APIs</a></p>\n<p><strong>Cons:</strong> Will work on Android prior to API 26 (Android 8) but not on JRE7; may require toolchain upgrades (which you will eventually need to do anyway)</p>\n<p>This is the preferred way at least if you don’t have to support old desktop Java versions. Java 8 support on Android (at least in part) is done through a process called <a href=\"https://developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"nofollow noreferrer\">desugaring</a>.</p>\n<p>First, make sure you are at least on Gradle 6.1.1 and version 4.0.0 of the Android Gradle plugin.</p>\n<p>Your <code>build.gradle</code> should not specify a <code>buildToolsVersion</code> unless you need a specific one (which then needs to be 29.0.2 or higher).</p>\n<p>Then add the following to your <code>build.gradle</code>:</p>\n<pre><code>android {\n    defaultConfig {\n        multiDexEnabled true\n    }\n\n    compileOptions {\n        coreLibraryDesugaringEnabled true\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n    coreLibraryDesugaring 'com.android.tools:desugar_jdk_libs:1.1.8'\n}\n</code></pre>\n<p>Version 1.1.8 <a href=\"https://github.com/google/desugar_jdk_libs/blob/master/CHANGELOG.md\" rel=\"nofollow noreferrer\">is equivalent to 1.2.2</a> (which is the version Google recommends as of January 2023) but works on older versions of the R8/D8 compiler (I got an error with 1.2.2 but 1.1.8 worked).</p>\n<p>All the changes so far only apply to the Android build. For other platforms you may be running the code on, nothing changes.</p>\n<p>This allows you to then run the following Java code:</p>\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm&quot;)\n    .withZone(ZoneId.of(&quot;Europe/Brussels&quot;));\ntry {\n    ZonedDateTime zonedDate = ZonedDateTime.parse(rawDate, formatter);\n    System.out.println(&quot;Timestamp: &quot; + zonedDate.format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm zzzz&quot;)))\n} catch (DateTimeParseException e) {\n    // do whatever is necessary here\n}\n</code></pre>\n<p>If you need to pass this to something that expects a <code>Date</code>, you can convert that using <code>Date.from(zonedDate.toInstant())</code>.</p>\n<h3>Option 2: Use Java 7-compatible classes</h3>\n<p><strong>Pros:</strong> Works on any Java 7 API, whether desktop or Android</p>\n<p><strong>Cons:</strong> Not future proof (as you are using deprecated classes); still suffers from all the bugs in Java’s <code>Date</code> and related classes; will solve this particular API incompatibility but not others</p>\n<p><code>DateFormat</code> has a <code>setTimeZone()</code> method, which accepts a <code>TimeZone</code> argument (which, in turn, can be generated from a string such as <code>Europe/Brussels</code>). Setting it will cause date/time strings to be parsed as local time in that time zone, with automatic adjustment for DST. No need to append anything to the string being parsed.</p>\n<pre><code>SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm&quot;);\ndateFormat.setTimeZone(TimeZone.getTimeZone(&quot;Europe/Brussels&quot;));\nDate date = dateFormat.parse(timestampString);\n/*\n * dateFormat no longer contains a time zone, so use a separate format\n * for output (with the time zone)\n */\nSimpleDateFormat dateFormatOut = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm zzzz&quot;);\ndateFormatOut.setTimeZone(TimeZone.getTimeZone(&quot;Europe/Brussels&quot;));\nSystem.out.println(&quot;Timestamp: &quot; + dateFormatOut.format(date));\n</code></pre>\n"}],"owner":{"account_id":2636263,"reputation":5473,"user_id":2703209,"accept_rate":89,"display_name":"user149408"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75270136,"answer_count":1,"score":1,"last_activity_date":1674997509,"creation_date":1674931537,"question_id":75270043,"body_markdown":"I need to parse strings containing local date and time. The time zone is not explicitly specified, but the timestamps are in local time for a particular place.\r\n\r\nChallenges are:\r\n* I need to be compatible with Java 7, which rules out a bunch of nifty features introduces with Java 8.\r\n* Java 7 compatibility is mostly needed for older Android versions, but the code will run on both JRE and Android.\r\n* Times are either in standard time or DST, depending on the time of the year. Hence a simple UTC offset will not work, as it jumps back and forward by an hour per year.\r\n\r\n(This also means that timestamps during the DST to standard time switchover are ambiguous, but I can live with an hour of inaccuracy for that particular corner case.)\r\n\r\nHere’s how far I got:\r\n\r\n    /*\r\n     * Let timestampString be the date/time string, examples:\r\n     * &quot;2023-01-28 20:36&quot;\r\n     * &quot;2022-07-07 13:37&quot;\r\n     */\r\n    SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm zzzz&quot;);\r\n    Date date = dateFormat.parse(timestampString + &quot; CET&quot;);\r\n    System.out.println(&quot;Timestamp: &quot; + dateFormat.format(date));\r\n\r\nProblem: this interprets everything as Central European Standard time, all year round – during the summer season, times are off by one hour.\r\n\r\nUsing a time zone name such as `Europe/Brussels` instead of `CET` (which works with `DateTimeFormatter` and `ZonedDateTime` on Java 8) does not work, as the string is not recognized.\r\n\r\nDoes Java 7 offer anything comparable? (Preferably without having to resort to external libraries.)","title":"Portable way to parse local date/time (with implicit time zone)","body":"<p>I need to parse strings containing local date and time. The time zone is not explicitly specified, but the timestamps are in local time for a particular place.</p>\n<p>Challenges are:</p>\n<ul>\n<li>I need to be compatible with Java 7, which rules out a bunch of nifty features introduces with Java 8.</li>\n<li>Java 7 compatibility is mostly needed for older Android versions, but the code will run on both JRE and Android.</li>\n<li>Times are either in standard time or DST, depending on the time of the year. Hence a simple UTC offset will not work, as it jumps back and forward by an hour per year.</li>\n</ul>\n<p>(This also means that timestamps during the DST to standard time switchover are ambiguous, but I can live with an hour of inaccuracy for that particular corner case.)</p>\n<p>Here’s how far I got:</p>\n<pre><code>/*\n * Let timestampString be the date/time string, examples:\n * &quot;2023-01-28 20:36&quot;\n * &quot;2022-07-07 13:37&quot;\n */\nSimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm zzzz&quot;);\nDate date = dateFormat.parse(timestampString + &quot; CET&quot;);\nSystem.out.println(&quot;Timestamp: &quot; + dateFormat.format(date));\n</code></pre>\n<p>Problem: this interprets everything as Central European Standard time, all year round – during the summer season, times are off by one hour.</p>\n<p>Using a time zone name such as <code>Europe/Brussels</code> instead of <code>CET</code> (which works with <code>DateTimeFormatter</code> and <code>ZonedDateTime</code> on Java 8) does not work, as the string is not recognized.</p>\n<p>Does Java 7 offer anything comparable? (Preferably without having to resort to external libraries.)</p>\n"},{"tags":["java","android","datetime","retrofit2","android-viewholder"],"comments":[{"owner":{"display_name":"user16458899"},"score":0,"creation_date":1665223314,"post_id":73995247,"comment_id":130652753,"body_markdown":"The &#39;published_on&#39; appears to be a datestamp or unix epoch format (milliseconds since 1970) but a quick check using https://www.timecalculator.net/milliseconds-to-date indicates that the the date was 20/01/1970 16:00:22 pretty sure json was not around back then.","body":"The &#39;published_on&#39; appears to be a datestamp or unix epoch format (milliseconds since 1970) but a quick check using <a href=\"https://www.timecalculator.net/milliseconds-to-date\" rel=\"nofollow noreferrer\">timecalculator.net/milliseconds-to-date</a> indicates that the the date was 20/01/1970 16:00:22 pretty sure json was not around back then."}],"answers":[{"tags":[],"owner":{"display_name":"user16458899"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665223985,"creation_date":1665223985,"answer_id":73996140,"question_id":73995247,"body_markdown":"If you want to adjust the date by 1 day back subtract 86400000 from 1665223725508 which is 08/10/2022 for 3 minutes subtract 180000","title":"Need to convert Date Time Format from JSON to 1 day ago or 3 mins ago in Java","body":"<p>If you want to adjust the date by 1 day back subtract 86400000 from 1665223725508 which is 08/10/2022 for 3 minutes subtract 180000</p>\n"},{"comments":[{"owner":{"account_id":20826903,"reputation":19,"user_id":15297167,"display_name":"Reny"},"score":0,"creation_date":1665471148,"post_id":73997207,"comment_id":130701572,"body_markdown":"thanks for letting me know that its Epoch Time, additionally  I wanted to know if there&#39;s a way I could place the converted value in recyclerView Holder","body":"thanks for letting me know that its Epoch Time, additionally  I wanted to know if there&#39;s a way I could place the converted value in recyclerView Holder"}],"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665234224,"creation_date":1665234224,"answer_id":73997207,"question_id":73995247,"body_markdown":"The value of `published_on` represents Epoch seconds which can be converted into `Instant` using [`Instant#ofEpochSecond`](https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#ofEpochSecond-long-).\r\n\r\nOnce you have the instance of `Instant`, you can subtract the desired amount of time and also convert the same Epoch seconds as shown below:\r\n\r\n    import java.time.Instant;\r\n    import java.time.temporal.ChronoUnit;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            // Convert the given epoch seconds into Instant\r\n            Instant instant = Instant.ofEpochSecond(1663222879);\r\n            System.out.println(instant);\r\n    \r\n            // Three minutes ago\r\n            Instant threeMinsAgo = instant.minus(3, ChronoUnit.MINUTES);\r\n            System.out.println(threeMinsAgo);\r\n            long epochSecondThreeMinsAgo = TimeUnit.SECONDS.convert(threeMinsAgo.toEpochMilli(), TimeUnit.MILLISECONDS);\r\n            System.out.println(epochSecondThreeMinsAgo);\r\n    \r\n            // One Day ago\r\n            Instant oneDayAgo = instant.minus(1, ChronoUnit.DAYS);\r\n            System.out.println(oneDayAgo);\r\n            long epochSecondOneDayAgo = TimeUnit.SECONDS.convert(oneDayAgo.toEpochMilli(), TimeUnit.MILLISECONDS);\r\n            System.out.println(epochSecondOneDayAgo);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2022-09-15T06:21:19Z\r\n    2022-09-15T06:18:19Z\r\n    1663222699\r\n    2022-09-14T06:21:19Z\r\n    1663136479\r\n\r\nLearn about the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html) from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"Need to convert Date Time Format from JSON to 1 day ago or 3 mins ago in Java","body":"<p>The value of <code>published_on</code> represents Epoch seconds which can be converted into <code>Instant</code> using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#ofEpochSecond-long-\" rel=\"nofollow noreferrer\"><code>Instant#ofEpochSecond</code></a>.</p>\n<p>Once you have the instance of <code>Instant</code>, you can subtract the desired amount of time and also convert the same Epoch seconds as shown below:</p>\n<pre><code>import java.time.Instant;\nimport java.time.temporal.ChronoUnit;\nimport java.util.concurrent.TimeUnit;\n\npublic class Main {\n    public static void main(String[] args) {\n        // Convert the given epoch seconds into Instant\n        Instant instant = Instant.ofEpochSecond(1663222879);\n        System.out.println(instant);\n\n        // Three minutes ago\n        Instant threeMinsAgo = instant.minus(3, ChronoUnit.MINUTES);\n        System.out.println(threeMinsAgo);\n        long epochSecondThreeMinsAgo = TimeUnit.SECONDS.convert(threeMinsAgo.toEpochMilli(), TimeUnit.MILLISECONDS);\n        System.out.println(epochSecondThreeMinsAgo);\n\n        // One Day ago\n        Instant oneDayAgo = instant.minus(1, ChronoUnit.DAYS);\n        System.out.println(oneDayAgo);\n        long epochSecondOneDayAgo = TimeUnit.SECONDS.convert(oneDayAgo.toEpochMilli(), TimeUnit.MILLISECONDS);\n        System.out.println(epochSecondOneDayAgo);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2022-09-15T06:21:19Z\n2022-09-15T06:18:19Z\n1663222699\n2022-09-14T06:21:19Z\n1663136479\n</code></pre>\n<p>Learn about the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a> from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"},{"tags":[],"owner":{"account_id":18221304,"reputation":21,"user_id":13261993,"display_name":"Stephen Gbolagade"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674997455,"creation_date":1674997455,"answer_id":75275110,"question_id":73995247,"body_markdown":"If you are still having this issue, you can use Momentjs to convert time and date to any format you like.\r\n\r\nFor example: \r\n\r\n`` moment(&quot;20120620&quot;, &quot;YYYYMMDD&quot;).fromNow(); // will convert to 11 years ago ``\r\n\r\nCheck the documentation on [Momentjs website][1]\r\nNPM package [here][2]\r\n\r\n\r\n  [1]: https://momentjs.com/\r\n  [2]: https://www.npmjs.com/package/moment","title":"Need to convert Date Time Format from JSON to 1 day ago or 3 mins ago in Java","body":"<p>If you are still having this issue, you can use Momentjs to convert time and date to any format you like.</p>\n<p>For example:</p>\n<p><code>moment(&quot;20120620&quot;, &quot;YYYYMMDD&quot;).fromNow(); // will convert to 11 years ago</code></p>\n<p>Check the documentation on <a href=\"https://momentjs.com/\" rel=\"nofollow noreferrer\">Momentjs website</a>\nNPM package <a href=\"https://www.npmjs.com/package/moment\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":20826903,"reputation":19,"user_id":15297167,"display_name":"Reny"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":375,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1674997455,"creation_date":1665214853,"question_id":73995247,"body_markdown":"I need help converting time from the JSON array and displaying it on recycler view in the example published 3 mins ago. The JSON property is `&quot;published_on&quot;: 1663222879`.\r\n\r\n\r\nMy JSON Response:\r\n```json\r\n{\r\n  &quot;Data&quot;: [\r\n    {\r\n      &quot;id&quot;: &quot;28035611&quot;,\r\n      &quot;guid&quot;: &quot;https://coingape.com/?p=121674&quot;,\r\n      &quot;published_on&quot;: 1663222879,\r\n      &quot;imageurl&quot;: &quot;https://images.cryptocompare.com/news/default/coingape.png&quot;,\r\n      &quot;lang&quot;: &quot;EN&quot;,\r\n      &quot;source_info&quot;: {\r\n        &quot;name&quot;: &quot;CoinGape&quot;,\r\n        &quot;lang&quot;: &quot;EN&quot;,\r\n        &quot;img&quot;: &quot;https://images.cryptocompare.com/news/default/coingape.png&quot;\r\n      }\r\n    }\r\n],\r\n  &quot;RateLimit&quot;: {},\r\n  &quot;HasWarning&quot;: false\r\n}\r\n```\r\n\r\nMy bindonviewHolder\r\n\r\n```java\r\n@Override\r\npublic void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n    holder.title.setText(dataList.get(position).getTitle());\r\n    holder.body.setText(dataList.get(position).getBody());\r\n\r\n    //Glide Library to display the images\r\n\r\n    Glide.with(mContext)\r\n            .load(dataList.get(position).getImageurl())\r\n            .into(holder.imageViewUrl);\r\n}\r\n```\r\n","title":"Need to convert Date Time Format from JSON to 1 day ago or 3 mins ago in Java","body":"<p>I need help converting time from the JSON array and displaying it on recycler view in the example published 3 mins ago. The JSON property is <code>&quot;published_on&quot;: 1663222879</code>.</p>\n<p>My JSON Response:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;Data&quot;: [\n    {\n      &quot;id&quot;: &quot;28035611&quot;,\n      &quot;guid&quot;: &quot;https://coingape.com/?p=121674&quot;,\n      &quot;published_on&quot;: 1663222879,\n      &quot;imageurl&quot;: &quot;https://images.cryptocompare.com/news/default/coingape.png&quot;,\n      &quot;lang&quot;: &quot;EN&quot;,\n      &quot;source_info&quot;: {\n        &quot;name&quot;: &quot;CoinGape&quot;,\n        &quot;lang&quot;: &quot;EN&quot;,\n        &quot;img&quot;: &quot;https://images.cryptocompare.com/news/default/coingape.png&quot;\n      }\n    }\n],\n  &quot;RateLimit&quot;: {},\n  &quot;HasWarning&quot;: false\n}\n</code></pre>\n<p>My bindonviewHolder</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n    holder.title.setText(dataList.get(position).getTitle());\n    holder.body.setText(dataList.get(position).getBody());\n\n    //Glide Library to display the images\n\n    Glide.with(mContext)\n            .load(dataList.get(position).getImageurl())\n            .into(holder.imageViewUrl);\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1674997031,"post_id":75274711,"comment_id":132829233,"body_markdown":"To paraphrase Raymond Chen&#39;s paraphrasing someone else, if you don&#39;t know your charset, you can&#39;t afford it. Meaning, you usually don&#39;t want to pass any default charsets, be it console or something else, especially when reading files. A file might not be written with the console charset (and most like it doesn&#39;t). If it&#39;s a file you control, then you should know the charset it should have, since you wrote to it. If it&#39;s any random file, then you should either ask the user or in worst case try to guess it by some heuristic (there&#39;s a ICU lib which handles  that). For writing, use UTF8","body":"To paraphrase Raymond Chen&#39;s paraphrasing someone else, if you don&#39;t know your charset, you can&#39;t afford it. Meaning, you usually don&#39;t want to pass any default charsets, be it console or something else, especially when reading files. A file might not be written with the console charset (and most like it doesn&#39;t). If it&#39;s a file you control, then you should know the charset it should have, since you wrote to it. If it&#39;s any random file, then you should either ask the user or in worst case try to guess it by some heuristic (there&#39;s a ICU lib which handles  that). For writing, use UTF8"}],"answers":[{"comments":[{"owner":{"account_id":2056551,"reputation":1209,"user_id":3482266,"accept_rate":43,"display_name":"An old man in the sea."},"score":0,"creation_date":1674998837,"post_id":75274995,"comment_id":132829561,"body_markdown":"Thanks for the suggestions. I&#39;ve already tried omitting the charset, and it worked. Now, I&#39;m going to update the JDK 11 to JDK 17. Thanks ;)","body":"Thanks for the suggestions. I&#39;ve already tried omitting the charset, and it worked. Now, I&#39;m going to update the JDK 11 to JDK 17. Thanks ;)"}],"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674997018,"creation_date":1674996404,"answer_id":75274995,"question_id":75274711,"body_markdown":"This book is showing you how to do it in the modern way. Whilst java-the-ecosystem makes a point of not changing everything every other year unlike some other programming language ecosystem, this did change, and changed, specifically, in the JDK17 release. &lt;sup&gt;1&lt;/sup&gt;\r\n\r\nStarting with JDK17, this is the &#39;model&#39; that the JVM uses to deal with charset encoding issues:\r\n\r\n* Every constructor and method in java that ends up converting bytes to characters or vice versa necessarily is going to use a charset (you need one to convert from bytes to character or vice versa, you can&#39;t not have one) - and they all have an overload (in all versions of java): You can either specify no charset in which case &#39;the default&#39; would be used, or you could specify an explicit one. Starting with JDK17, all these methods use, as default, UTF-8, whether your host OS uses that as default charset or not. This is the change: Prior to JDK17, &#39;the default charset&#39; meant the host OS charset. JDK17 and up, it means &#39;UTF-8&#39;.\r\n\r\n* In the unlikely case you want to write data in the charset of the host OS, there&#39;s `System.console().charset()`. Therefore, `new FileWriter(&quot;file.txt&quot;)` would write in UTF-8, whereas `new FileWriter(&quot;file.txt, System.console.charset())` would write in the host OS charset, whatever that might be. On linux it usually is UTF-8 and there&#39;s no difference; on windows it&#39;s more often something like Cp1252 or some such.\r\n\r\nThat&#39;s a change. Prior to JDK17, it worked differently:\r\n\r\n* Those use-default-charset methods/constructors, such as `new FileWriter(fileName)`, would use the host OS charset. If you want UTF_8, you&#39;d have to write `new FileWriter(fileName, StandardCharsets.UTF_8)`.\r\n\r\n* There _is no_ `System.console.charset()` method. It doesn&#39;t exist at all.\r\n\r\n* As an exception, all methods in the new files API (`java.nio.file`) default to UTF-8, even before JDK17.\r\n\r\nClearly then the JDK you told VSCode to use predates it (because it&#39;s telling you `System.console().charset()` does not exist. It was introduced in JDK17, conclusion: Your VSCode is using a JDK that predates this). \r\n\r\nUnfortunately (I raised this point at the openjdk mailing lists, I don&#39;t think any openjdk team member cares, as nobody&#39;s taken any action on it), this means it is impossible to write code that works both pre- and post- JDK17 without jumping through some crazy hoops, if you want to write data explicitly in &#39;host OS charset&#39; form.\r\n\r\nAs you said, you&#39;re a beginner, so presumably you don&#39;t particularly care about writing code that writes data using the host OS charset in a way that compiles on both pre- and post-JDK17.\r\n\r\nThus, pick a solution. Either one will work:\r\n\r\n1. Upgrade to JDK17.\r\n2. Use `new FileWriter(fileName)`, without adding that charset.\r\n\r\nI&#39;d pick option #1 - the book is likely going to end up using other things introduced in JDK17, if it did so here.\r\n\r\nNB: For a beginner&#39;s book, worrying about charset encoding is a bizarre choice, especially considering that evidently they thought it was okay to use the obsolete `FileWriter`, presumably to keep things simple. It&#39;s almost like someone who tries to explain how to drive a car taking a moment to explain how a carburettor works (waaaay too much detail, you don&#39;t need to know this when learning how to drive cars until much later), but sort of handwave away how to charge the car, which is relevant much earlier. Bizarre choice - consider it 1 minor demerit against this book, and know that this charset malarky is not what you should be worrying about right now, if your aim is to learn java.\r\n\r\n[1] Congratulations - you are using a rather modern book. That&#39;s good news - a common problem is that tutorials are 20 years behind the times and end up showing you outdated ways of doing things. &quot;Too new&quot; is a better problem to have than &quot;too old&quot;.","title":"Java System.console().charset() is undefined","body":"<p>This book is showing you how to do it in the modern way. Whilst java-the-ecosystem makes a point of not changing everything every other year unlike some other programming language ecosystem, this did change, and changed, specifically, in the JDK17 release. <sup>1</sup></p>\n<p>Starting with JDK17, this is the 'model' that the JVM uses to deal with charset encoding issues:</p>\n<ul>\n<li><p>Every constructor and method in java that ends up converting bytes to characters or vice versa necessarily is going to use a charset (you need one to convert from bytes to character or vice versa, you can't not have one) - and they all have an overload (in all versions of java): You can either specify no charset in which case 'the default' would be used, or you could specify an explicit one. Starting with JDK17, all these methods use, as default, UTF-8, whether your host OS uses that as default charset or not. This is the change: Prior to JDK17, 'the default charset' meant the host OS charset. JDK17 and up, it means 'UTF-8'.</p>\n</li>\n<li><p>In the unlikely case you want to write data in the charset of the host OS, there's <code>System.console().charset()</code>. Therefore, <code>new FileWriter(&quot;file.txt&quot;)</code> would write in UTF-8, whereas <code>new FileWriter(&quot;file.txt, System.console.charset())</code> would write in the host OS charset, whatever that might be. On linux it usually is UTF-8 and there's no difference; on windows it's more often something like Cp1252 or some such.</p>\n</li>\n</ul>\n<p>That's a change. Prior to JDK17, it worked differently:</p>\n<ul>\n<li><p>Those use-default-charset methods/constructors, such as <code>new FileWriter(fileName)</code>, would use the host OS charset. If you want UTF_8, you'd have to write <code>new FileWriter(fileName, StandardCharsets.UTF_8)</code>.</p>\n</li>\n<li><p>There <em>is no</em> <code>System.console.charset()</code> method. It doesn't exist at all.</p>\n</li>\n<li><p>As an exception, all methods in the new files API (<code>java.nio.file</code>) default to UTF-8, even before JDK17.</p>\n</li>\n</ul>\n<p>Clearly then the JDK you told VSCode to use predates it (because it's telling you <code>System.console().charset()</code> does not exist. It was introduced in JDK17, conclusion: Your VSCode is using a JDK that predates this).</p>\n<p>Unfortunately (I raised this point at the openjdk mailing lists, I don't think any openjdk team member cares, as nobody's taken any action on it), this means it is impossible to write code that works both pre- and post- JDK17 without jumping through some crazy hoops, if you want to write data explicitly in 'host OS charset' form.</p>\n<p>As you said, you're a beginner, so presumably you don't particularly care about writing code that writes data using the host OS charset in a way that compiles on both pre- and post-JDK17.</p>\n<p>Thus, pick a solution. Either one will work:</p>\n<ol>\n<li>Upgrade to JDK17.</li>\n<li>Use <code>new FileWriter(fileName)</code>, without adding that charset.</li>\n</ol>\n<p>I'd pick option #1 - the book is likely going to end up using other things introduced in JDK17, if it did so here.</p>\n<p>NB: For a beginner's book, worrying about charset encoding is a bizarre choice, especially considering that evidently they thought it was okay to use the obsolete <code>FileWriter</code>, presumably to keep things simple. It's almost like someone who tries to explain how to drive a car taking a moment to explain how a carburettor works (waaaay too much detail, you don't need to know this when learning how to drive cars until much later), but sort of handwave away how to charge the car, which is relevant much earlier. Bizarre choice - consider it 1 minor demerit against this book, and know that this charset malarky is not what you should be worrying about right now, if your aim is to learn java.</p>\n<p>[1] Congratulations - you are using a rather modern book. That's good news - a common problem is that tutorials are 20 years behind the times and end up showing you outdated ways of doing things. &quot;Too new&quot; is a better problem to have than &quot;too old&quot;.</p>\n"}],"owner":{"account_id":2056551,"reputation":1209,"user_id":3482266,"accept_rate":43,"display_name":"An old man in the sea."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75274995,"answer_count":1,"score":0,"last_activity_date":1674997018,"creation_date":1674993684,"question_id":75274711,"body_markdown":"I&#39;m reading Java, A Beginner&#39;s guide by Schildt, and on the IO chapter, when using a FileWriter class, he tries to use the constructor of the type FileWriter(String filename, Charset charset). For the charset he uses `System.console().charset()`.\r\nHowever, my VSCode tells me the method charset is undefined for Console object...\r\n\r\nIs there a way to obtain the charset of the console?","title":"Java System.console().charset() is undefined","body":"<p>I'm reading Java, A Beginner's guide by Schildt, and on the IO chapter, when using a FileWriter class, he tries to use the constructor of the type FileWriter(String filename, Charset charset). For the charset he uses <code>System.console().charset()</code>.\nHowever, my VSCode tells me the method charset is undefined for Console object...</p>\n<p>Is there a way to obtain the charset of the console?</p>\n"},{"tags":["java","sqlite","kotlin","sugarorm"],"owner":{"account_id":12339438,"reputation":81,"user_id":9003215,"display_name":"DevPeter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674996976,"creation_date":1674996976,"question_id":75275065,"body_markdown":"In my app, I am using *Sugar ORM* version 1.5 to manage the SQL database. I am using *Cursor* to store alias name values from the query into the *List*, however, I am looking for a way how to do it without using the Cursor. The main reason for that is that I would like to use Observer in the Activity in the future. In my live app, I am connecting more than 7 tables using Cursor.\r\n\r\nIn my example below I tried to use the fun *test1()* to receive the result of the query and store it in *MutableList (or List)* using *TOneAndTTwoTogether data class*. Unfortunately, the result that I am having is an empty list but should be RB 0 and CB 0. \r\n\r\nInterestingly, when the select statement is SELECT \\* without using the alias name then if the field name matches the name in the TOneAndTTwoTogether data class I have the result, however the List includes all fields from all tables.\r\n\r\n**TABLE:**\r\n\r\n```\r\nCREATE TABLE IF NOT EXISTS T1 (\r\n```\r\n\r\n```\r\nID INTEGER PRIMARY KEY AUTOINCREMENT,\r\n```\r\n\r\n```\r\nACTIVE INTEGER ,\r\n```\r\n\r\n```\r\nRADIO_BUTTON_STATE INTEGER NOT NULL DEFAULT 0\r\n```\r\n\r\n```\r\n);\r\n```\r\n\r\n```\r\nCREATE TABLE IF NOT EXISTS T2 (\r\n```\r\n\r\n```\r\nID INTEGER PRIMARY KEY AUTOINCREMENT,\r\n```\r\n\r\n```\r\nACTIVE INTEGER ,\r\n```\r\n\r\n```\r\nCHECK_BOX_STATE INTEGER NOT NULL DEFAULT 0\r\n```\r\n\r\n```\r\n);\r\n```\r\n\r\n```\r\nINSERT INTO T1 (ACTIVE, RADIO_BUTTON_STATE)\r\n```\r\n\r\n```\r\nVALUES( 0, \t0);\r\n```\r\n\r\n```\r\nINSERT INTO T1 (ACTIVE, RADIO_BUTTON_STATE)\r\n```\r\n\r\n```\r\nVALUES( 1, \t0);\r\n```\r\n\r\n```\r\nINSERT INTO T1 (ACTIVE, RADIO_BUTTON_STATE)\r\n```\r\n\r\n```\r\nVALUES( 1, \t1);\r\n```\r\n\r\n```\r\nINSERT INTO T2 (ACTIVE, CHECK_BOX_STATE)\r\n```\r\n\r\n```\r\nVALUES( 0, \t0);\r\n```\r\n\r\n```\r\nINSERT INTO T2 (ACTIVE, CHECK_BOX_STATE)\r\n```\r\n\r\n```\r\nVALUES( 1, \t0);\r\n```\r\n\r\n```\r\nINSERT INTO T2 (ACTIVE, CHECK_BOX_STATE)\r\n```\r\n\r\n```\r\nVALUES( 1, \t1);\r\n```\r\n\r\n```\r\nSELECT T1.RADIO_BUTTON_STATE AS RB, T2.CHECK_BOX_STATE AS CB\r\n```\r\n\r\n```\r\nFROM T1\r\n```\r\n\r\n```\r\nINNER JOIN T2 on T2.ACTIVE = T1.ACTIVE\r\n```\r\n\r\n```\r\nWHERE T2.ACTIVE = 0 AND T1.ACTIVE = 0;\r\n```\r\n\r\n**Result is RB 0 CB 0**\r\n\r\n**The Function:**\r\n\r\n```\r\n    fun test1(): MutableList&lt;TOneAndTTwoTogether&gt;? {\r\n        val query = String.format(\r\n            &quot; SELECT T1.RADIO_BUTTON_STATE AS RB, T2.CHECK_BOX_STATE AS CB &quot; +\r\n                    &quot; FROM T1 &quot; +\r\n\t\t\t\t\t &quot; INNER JOIN T2 on T2.ACTIVE = T1.ACTIVE &quot; +\r\n                    &quot; WHERE T2.ACTIVE = 0 AND T1.ACTIVE = 0 &quot;\r\n        )\r\n        return SugarRecord.findWithQuery(\r\n            TOneAndTTwoTogether::class.java, query\r\n        )\r\n    }\r\n```\r\n\r\n**The Data Class:**\r\n\r\n```\r\npublic class TOneAndTTwoTogether {\r\n\r\n    private Integer RB = 0;\r\n    private Integer CB = 0;\r\n\r\n    public TOneAndTTwoTogether() {\r\n    }\r\n\r\n}\r\n```","title":"Sugar ORM, how to get specific fields (alias name) from multiple tables stored in List?","body":"<p>In my app, I am using <em>Sugar ORM</em> version 1.5 to manage the SQL database. I am using <em>Cursor</em> to store alias name values from the query into the <em>List</em>, however, I am looking for a way how to do it without using the Cursor. The main reason for that is that I would like to use Observer in the Activity in the future. In my live app, I am connecting more than 7 tables using Cursor.</p>\n<p>In my example below I tried to use the fun <em>test1()</em> to receive the result of the query and store it in <em>MutableList (or List)</em> using <em>TOneAndTTwoTogether data class</em>. Unfortunately, the result that I am having is an empty list but should be RB 0 and CB 0.</p>\n<p>Interestingly, when the select statement is SELECT * without using the alias name then if the field name matches the name in the TOneAndTTwoTogether data class I have the result, however the List includes all fields from all tables.</p>\n<p><strong>TABLE:</strong></p>\n<pre><code>CREATE TABLE IF NOT EXISTS T1 (\n</code></pre>\n<pre><code>ID INTEGER PRIMARY KEY AUTOINCREMENT,\n</code></pre>\n<pre><code>ACTIVE INTEGER ,\n</code></pre>\n<pre><code>RADIO_BUTTON_STATE INTEGER NOT NULL DEFAULT 0\n</code></pre>\n<pre><code>);\n</code></pre>\n<pre><code>CREATE TABLE IF NOT EXISTS T2 (\n</code></pre>\n<pre><code>ID INTEGER PRIMARY KEY AUTOINCREMENT,\n</code></pre>\n<pre><code>ACTIVE INTEGER ,\n</code></pre>\n<pre><code>CHECK_BOX_STATE INTEGER NOT NULL DEFAULT 0\n</code></pre>\n<pre><code>);\n</code></pre>\n<pre><code>INSERT INTO T1 (ACTIVE, RADIO_BUTTON_STATE)\n</code></pre>\n<pre><code>VALUES( 0,  0);\n</code></pre>\n<pre><code>INSERT INTO T1 (ACTIVE, RADIO_BUTTON_STATE)\n</code></pre>\n<pre><code>VALUES( 1,  0);\n</code></pre>\n<pre><code>INSERT INTO T1 (ACTIVE, RADIO_BUTTON_STATE)\n</code></pre>\n<pre><code>VALUES( 1,  1);\n</code></pre>\n<pre><code>INSERT INTO T2 (ACTIVE, CHECK_BOX_STATE)\n</code></pre>\n<pre><code>VALUES( 0,  0);\n</code></pre>\n<pre><code>INSERT INTO T2 (ACTIVE, CHECK_BOX_STATE)\n</code></pre>\n<pre><code>VALUES( 1,  0);\n</code></pre>\n<pre><code>INSERT INTO T2 (ACTIVE, CHECK_BOX_STATE)\n</code></pre>\n<pre><code>VALUES( 1,  1);\n</code></pre>\n<pre><code>SELECT T1.RADIO_BUTTON_STATE AS RB, T2.CHECK_BOX_STATE AS CB\n</code></pre>\n<pre><code>FROM T1\n</code></pre>\n<pre><code>INNER JOIN T2 on T2.ACTIVE = T1.ACTIVE\n</code></pre>\n<pre><code>WHERE T2.ACTIVE = 0 AND T1.ACTIVE = 0;\n</code></pre>\n<p><strong>Result is RB 0 CB 0</strong></p>\n<p><strong>The Function:</strong></p>\n<pre><code>    fun test1(): MutableList&lt;TOneAndTTwoTogether&gt;? {\n        val query = String.format(\n            &quot; SELECT T1.RADIO_BUTTON_STATE AS RB, T2.CHECK_BOX_STATE AS CB &quot; +\n                    &quot; FROM T1 &quot; +\n                     &quot; INNER JOIN T2 on T2.ACTIVE = T1.ACTIVE &quot; +\n                    &quot; WHERE T2.ACTIVE = 0 AND T1.ACTIVE = 0 &quot;\n        )\n        return SugarRecord.findWithQuery(\n            TOneAndTTwoTogether::class.java, query\n        )\n    }\n</code></pre>\n<p><strong>The Data Class:</strong></p>\n<pre><code>public class TOneAndTTwoTogether {\n\n    private Integer RB = 0;\n    private Integer CB = 0;\n\n    public TOneAndTTwoTogether() {\n    }\n\n}\n</code></pre>\n"},{"tags":["java","build","maven-3","dependency-management"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675012946,"post_id":75274872,"comment_id":132832278,"body_markdown":"If you have a multi module build you can use `${project.version}`..as version for the dependencies on other modules.. that is one solution. The other is to define a dependencyManagement in root and so that means to omit the version tag in the appropriate modules...","body":"If you have a multi module build you can use <code>${project.version}</code>..as version for the dependencies on other modules.. that is one solution. The other is to define a dependencyManagement in root and so that means to omit the version tag in the appropriate modules..."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675013116,"post_id":75274872,"comment_id":132832310,"body_markdown":"It could be possible to make a hacky way. Just use a SNAPSHOT version like `1.0-SNAPSHOT` which means it&#39;s always the latest version via `mvn -U package`... but it&#39;s not reproducible...","body":"It could be possible to make a hacky way. Just use a SNAPSHOT version like <code>1.0-SNAPSHOT</code> which means it&#39;s always the latest version via <code>mvn -U package</code>... but it&#39;s not reproducible..."}],"answers":[{"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675013283,"post_id":75275021,"comment_id":132832354,"body_markdown":"The linked reference is out of date in many ways. A version range might not the best idea. The suggested `RELEASE` version will not work and it deprecated for a very long time ...","body":"The linked reference is out of date in many ways. A version range might not the best idea. The suggested <code>RELEASE</code> version will not work and it deprecated for a very long time ..."}],"tags":[],"owner":{"account_id":19988605,"reputation":29,"user_id":14650195,"display_name":"Samuel P&#233;rez"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1674996656,"creation_date":1674996656,"answer_id":75275021,"question_id":75274872,"body_markdown":"You could just set a minimum version of modules A,B,C in your D module, as per [https://docs.oracle.com/middleware/1212/core/MAVEN/maven_version.htm#MAVEN402][1]\r\n\r\nlike you can set your dependency version as [1.5,) wich means any version greater than or equal to 1.5\r\n\r\nOr you could use &quot;RELEASE&quot; versions, for more information on this please see this other SO question where Rich gives a very good explanation:\r\n\r\n[https://stackoverflow.com/a/1172371/14650195][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/middleware/1212/core/MAVEN/maven_version.htm#MAVEN402\r\n  [2]: https://stackoverflow.com/a/1172371/14650195","title":"Is it possible for one Maven module to have a version-less dependency to another module?","body":"<p>You could just set a minimum version of modules A,B,C in your D module, as per <a href=\"https://docs.oracle.com/middleware/1212/core/MAVEN/maven_version.htm#MAVEN402\" rel=\"nofollow noreferrer\">https://docs.oracle.com/middleware/1212/core/MAVEN/maven_version.htm#MAVEN402</a></p>\n<p>like you can set your dependency version as [1.5,) wich means any version greater than or equal to 1.5</p>\n<p>Or you could use &quot;RELEASE&quot; versions, for more information on this please see this other SO question where Rich gives a very good explanation:</p>\n<p><a href=\"https://stackoverflow.com/a/1172371/14650195\">https://stackoverflow.com/a/1172371/14650195</a></p>\n"}],"owner":{"account_id":25435838,"reputation":316,"user_id":19239577,"display_name":"greenButMellow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674996656,"creation_date":1674995191,"question_id":75274872,"body_markdown":"I have multiple Maven modules, let&#39;s say `A, B, C` and I also have a module `D`. \r\n\r\nCan module `D` have dependencies to `A, B, C` without explicitly setting their version? In other words, I&#39;d like module `D` to be built with the latest code of the other modules.","title":"Is it possible for one Maven module to have a version-less dependency to another module?","body":"<p>I have multiple Maven modules, let's say <code>A, B, C</code> and I also have a module <code>D</code>.</p>\n<p>Can module <code>D</code> have dependencies to <code>A, B, C</code> without explicitly setting their version? In other words, I'd like module <code>D</code> to be built with the latest code of the other modules.</p>\n"},{"tags":["java","java-8","comparator"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1516710452,"post_id":48401725,"comment_id":83791430,"body_markdown":"What is `sort_gender` in this case? A Comparator, I guess?","body":"What is <code>sort_gender</code> in this case? A Comparator, I guess?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":3,"creation_date":1516710483,"post_id":48401725,"comment_id":83791460,"body_markdown":"You know that version 1 wouldn&#39;t &quot;return&quot; anything, don&#39;t you? `users = whatever` will reassign the parameter but that won&#39;t be visible from the outside. The other versions won&#39;t compile as the return type `void` won&#39;t fit. Besides that as you set only `LinkedHashSet` keeps the order so it would probably be version 2. (And btw, those 3 versions aren&#39;t that different anyways, so in the future just pick the one you like - provided they work correctly).","body":"You know that version 1 wouldn&#39;t &quot;return&quot; anything, don&#39;t you? <code>users = whatever</code> will reassign the parameter but that won&#39;t be visible from the outside. The other versions won&#39;t compile as the return type <code>void</code> won&#39;t fit. Besides that as you set only <code>LinkedHashSet</code> keeps the order so it would probably be version 2. (And btw, those 3 versions aren&#39;t that different anyways, so in the future just pick the one you like - provided they work correctly)."},{"owner":{"account_id":7810904,"reputation":12490,"user_id":6099347,"accept_rate":100,"display_name":"Aniket Sahrawat"},"score":2,"creation_date":1516710487,"post_id":48401725,"comment_id":83791468,"body_markdown":"probably `v3` because your return type is `void` :p change it to `Set&lt;User&gt;`","body":"probably <code>v3</code> because your return type is <code>void</code> :p change it to <code>Set&lt;User&gt;</code>"},{"owner":{"account_id":1336579,"reputation":5252,"user_id":1279180,"accept_rate":74,"display_name":"nimo23"},"score":0,"creation_date":1516710656,"post_id":48401725,"comment_id":83791603,"body_markdown":"Sorry for that, I changed the return type.","body":"Sorry for that, I changed the return type."},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1516710879,"post_id":48401725,"comment_id":83791759,"body_markdown":"Test your code. Testing it will make it obvious what to use, because two out of the three versions don&#39;t do anything.","body":"Test your code. Testing it will make it obvious what to use, because two out of the three versions don&#39;t do anything."},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1516711238,"post_id":48401725,"comment_id":83792001,"body_markdown":"Why don&#39;t you write a simple test for that code and pick the one which will works better? What about `SortedSet`/`NavigableSet` interface family?","body":"Why don&#39;t you write a simple test for that code and pick the one which will works better? What about <code>SortedSet</code>/<code>NavigableSet</code> interface family?"},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":4,"creation_date":1516711365,"post_id":48401725,"comment_id":83792086,"body_markdown":"@JBNizet, they do something: they make the world around us a little warmer, just that tiny bit.","body":"@JBNizet, they do something: they make the world around us a little warmer, just that tiny bit."},{"owner":{"account_id":1336579,"reputation":5252,"user_id":1279180,"accept_rate":74,"display_name":"nimo23"},"score":0,"creation_date":1516711633,"post_id":48401725,"comment_id":83792269,"body_markdown":"I only want to achieve this: sort the set-&gt; the caller needs it, because to iterate through the sorted set. Nothing more. This should be achieved with the best performance. I can also convert set to list and sort the list and iterate through that list, Would this be better?","body":"I only want to achieve this: sort the set-&gt; the caller needs it, because to iterate through the sorted set. Nothing more. This should be achieved with the best performance. I can also convert set to list and sort the list and iterate through that list, Would this be better?"},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":1,"creation_date":1516713227,"post_id":48401725,"comment_id":83793325,"body_markdown":"@nimo23, For just iterating right after, `List` is indeed probably better ,because that&#39;s what the defining characteristic of a list is: it&#39;s ordered. Most implementations are also lighter than implementations of `Set`s. For storing result somewhere where it matters that this is a set, one of the `Set` insterfaces is better. For clearly stating what it is, use `SortedSet` or `NavigableSet`.","body":"@nimo23, For just iterating right after, <code>List</code> is indeed probably better ,because that&#39;s what the defining characteristic of a list is: it&#39;s ordered. Most implementations are also lighter than implementations of <code>Set</code>s. For storing result somewhere where it matters that this is a set, one of the <code>Set</code> insterfaces is better. For clearly stating what it is, use <code>SortedSet</code> or <code>NavigableSet</code>."}],"answers":[{"comments":[{"owner":{"account_id":1336579,"reputation":5252,"user_id":1279180,"accept_rate":74,"display_name":"nimo23"},"score":0,"creation_date":1516710988,"post_id":48401804,"comment_id":83791836,"body_markdown":"I can also use: public static LinkedHashSet&lt;User&gt; sort(Set&lt;User&gt; users) {...} to make it explicit..or?","body":"I can also use: public static LinkedHashSet&lt;User&gt; sort(Set&lt;User&gt; users) {...} to make it explicit..or?"},{"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"score":4,"creation_date":1516711011,"post_id":48401804,"comment_id":83791865,"body_markdown":"@nimo23 The potential benefit of `TreeSet` is that if you add an element to the returned set, the set will remain ordered, while with `LinkedHashSet`, the element will be returned at the end when the set is iterated. But as you say, `LinkedHashSet` has better performance.","body":"@nimo23 The potential benefit of <code>TreeSet</code> is that if you add an element to the returned set, the set will remain ordered, while with <code>LinkedHashSet</code>, the element will be returned at the end when the set is iterated. But as you say, <code>LinkedHashSet</code> has better performance."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1516711044,"post_id":48401804,"comment_id":83791881,"body_markdown":"&quot;I would return a TreeSet to make it explicit for the caller that this is actually sorted.&quot; Hm, I don&#39;t know about that. You&#39;re making it hard to change implementation later on. I&#39;d just add an appropriate guarantee to the JavaDoc.","body":"&quot;I would return a TreeSet to make it explicit for the caller that this is actually sorted.&quot; Hm, I don&#39;t know about that. You&#39;re making it hard to change implementation later on. I&#39;d just add an appropriate guarantee to the JavaDoc."},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":5,"creation_date":1516711205,"post_id":48401804,"comment_id":83791983,"body_markdown":"@nimo23, 1. There is a `SortedSet&lt;T&gt;` interface, which `TreeSet&lt;T&gt;` is a part of, and is even better to display intent. 2. Saying &quot;performance of A is better than B&quot; without stating: (a) which performance we&#39;re talking here and (b) what the set is supposed to be used after - is not very useful.","body":"@nimo23, 1. There is a <code>SortedSet&lt;T&gt;</code> interface, which <code>TreeSet&lt;T&gt;</code> is a part of, and is even better to display intent. 2. Saying &quot;performance of A is better than B&quot; without stating: (a) which performance we&#39;re talking here and (b) what the set is supposed to be used after - is not very useful."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1516711423,"post_id":48401804,"comment_id":83792127,"body_markdown":"@M.Prokhorov good point, `SortedSet`... how did I forget about this? :| thank u","body":"@M.Prokhorov good point, <code>SortedSet</code>... how did I forget about this? :| thank u"},{"owner":{"account_id":1336579,"reputation":5252,"user_id":1279180,"accept_rate":74,"display_name":"nimo23"},"score":0,"creation_date":1516711484,"post_id":48401804,"comment_id":83792167,"body_markdown":"The call is already explicit: &quot;myUsers = Sorter.sort(myUsers)&quot;. But I must redeclare myUsers with the output of Sorter.sort. With typical arraylist, I can do only: users.sort(myComparator); without redeclaring the users..which is much better..","body":"The call is already explicit: &quot;myUsers = Sorter.sort(myUsers)&quot;. But I must redeclare myUsers with the output of Sorter.sort. With typical arraylist, I can do only: users.sort(myComparator); without redeclaring the users..which is much better.."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":3,"creation_date":1516711589,"post_id":48401804,"comment_id":83792245,"body_markdown":"@nimo23 right, but what if you pass that along again? Someone receiving a `LinkedHashSet` might not know that it&#39;s actually sorted","body":"@nimo23 right, but what if you pass that along again? Someone receiving a <code>LinkedHashSet</code> might not know that it&#39;s actually sorted"},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":1,"creation_date":1516712058,"post_id":48401804,"comment_id":83792539,"body_markdown":"@Eugene, stream part here is arguably unnecessary, I think, because nothing we&#39;d do with a stream would convince TreeSet to not revalidate the sorting and sort the second time (zing to API developers: `TreeSet.of(SortedStream)`), thus reducing the meaning of a stream to just a fancy `for` loop (and it&#39;s a lot heavier than a loop).","body":"@Eugene, stream part here is arguably unnecessary, I think, because nothing we&#39;d do with a stream would convince TreeSet to not revalidate the sorting and sort the second time (zing to API developers: <code>TreeSet.of(SortedStream)</code>), thus reducing the meaning of a stream to just a fancy <code>for</code> loop (and it&#39;s a lot heavier than a loop)."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1516712112,"post_id":48401804,"comment_id":83792572,"body_markdown":"@M.Prokhorov agreed, I only posted it thinking this was an exercise for the OP","body":"@M.Prokhorov agreed, I only posted it thinking this was an exercise for the OP"},{"owner":{"account_id":1336579,"reputation":5252,"user_id":1279180,"accept_rate":74,"display_name":"nimo23"},"score":0,"creation_date":1516722099,"post_id":48401804,"comment_id":83799770,"body_markdown":"@Prokhorov so you suggest to use &quot;SortedSet&quot; for such cases instead of the stream()-solution? Does it perform better?","body":"@Prokhorov so you suggest to use &quot;SortedSet&quot; for such cases instead of the stream()-solution? Does it perform better?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1516725668,"post_id":48401804,"comment_id":83802289,"body_markdown":"@M.Prokhorov often overlooked, there is [`NavigableMap`](https://docs.oracle.com/javase/8/docs/api/?java/util/NavigableMap.html), introduced in Java&#160;6, extending `SortedSet` and usually preferable.","body":"@M.Prokhorov often overlooked, there is <a href=\"https://docs.oracle.com/javase/8/docs/api/?java/util/NavigableMap.html\" rel=\"nofollow noreferrer\"><code>NavigableMap</code></a>, introduced in Java 6, extending <code>SortedSet</code> and usually preferable."}],"tags":[],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":11,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1516779624,"creation_date":1516710644,"answer_id":48401804,"question_id":48401725,"body_markdown":"I would add a 4-th method (if you are OK to change that method to return the sorted `Set`)\r\n\r\n\r\n     users.stream()\r\n          .collect(Collectors.toCollection(() -&gt; new TreeSet&lt;&gt;(Comparator.comparing...)))\r\n\r\nI would return a `SortedSet` to make it explicit for the caller that this is actually sorted. \r\n\r\nIf not you could do:\r\n\r\n    SortedSet&lt;User&gt; sorted = new TreeSet&lt;&gt;(Comparator.comparing...)\r\n    sorted.addAll(users);\r\n","title":"java 8 stream.sorted with comparator in sets","body":"<p>I would add a 4-th method (if you are OK to change that method to return the sorted <code>Set</code>)</p>\n\n<pre><code> users.stream()\n      .collect(Collectors.toCollection(() -&gt; new TreeSet&lt;&gt;(Comparator.comparing...)))\n</code></pre>\n\n<p>I would return a <code>SortedSet</code> to make it explicit for the caller that this is actually sorted. </p>\n\n<p>If not you could do:</p>\n\n<pre><code>SortedSet&lt;User&gt; sorted = new TreeSet&lt;&gt;(Comparator.comparing...)\nsorted.addAll(users);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1516710811,"post_id":48401867,"comment_id":83791719,"body_markdown":"And version 3 has the same problem as version 1 anyway.","body":"And version 3 has the same problem as version 1 anyway."}],"tags":[],"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1516710943,"creation_date":1516710767,"answer_id":48401867,"question_id":48401725,"body_markdown":"Version one does effectively nothing. You are changing the reference of the parameter `users` but not altering the set which is passed as an argument and not returning anything.\r\n\r\nVersion two works correctly.\r\n\r\nVersion three is attempting to store a sorted set in a set that does not maintain order. It&#39;s effectively no different than returning the set that you&#39;re given. From the JavaDoc for [`toSet`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toSet--):\r\n\r\n&gt; There are no guarantees on the type, mutability, serializability, or\r\n&gt; thread-safety of the Set returned","title":"java 8 stream.sorted with comparator in sets","body":"<p>Version one does effectively nothing. You are changing the reference of the parameter <code>users</code> but not altering the set which is passed as an argument and not returning anything.</p>\n\n<p>Version two works correctly.</p>\n\n<p>Version three is attempting to store a sorted set in a set that does not maintain order. It's effectively no different than returning the set that you're given. From the JavaDoc for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toSet--\" rel=\"nofollow noreferrer\"><code>toSet</code></a>:</p>\n\n<blockquote>\n  <p>There are no guarantees on the type, mutability, serializability, or\n  thread-safety of the Set returned</p>\n</blockquote>\n"}],"owner":{"account_id":1336579,"reputation":5252,"user_id":1279180,"accept_rate":74,"display_name":"nimo23"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12088,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":48401804,"answer_count":2,"score":10,"last_activity_date":1674996247,"creation_date":1516710366,"question_id":48401725,"body_markdown":"**I have a set to sort (with Comparators) and I dont know which version to choose:**\r\n\r\n**version 1:**\r\n\r\n    public static void sort(Set&lt;User&gt; users) {\r\n        users = users.stream()\r\n        .sorted(sort_gender.thenComparing(sort_age))\r\n        .collect(Collectors.toCollection(LinkedHashSet::new));\r\n    }\r\n\r\n**version 2:**\r\n\r\n\r\n    public static Set&lt;User&gt; sort(Set&lt;User&gt; users) {\r\n        return users.stream()\r\n        .sorted(sort_gender.thenComparing(sort_age))\r\n        .collect(Collectors.toCollection(LinkedHashSet::new));\r\n    }\r\n\r\n\r\n\r\n**version 3:**\r\n\r\n\r\n    public static void sort(Set&lt;User&gt; users) {\r\n        users.stream()\r\n        .sorted(sort_gender.thenComparing(sort_age))\r\n        .collect(Collectors.toSet());\r\n    }\r\n\r\n\r\n**version 4**\r\n\r\n    public static List&lt;User&gt; sort(Set&lt;User&gt; users){\r\n    \r\n    List&lt;User&gt; list = new ArrayList&lt;&gt;(users);\r\n    list.sort(sort_gender.thenComparing(sort_age));\r\n    return list;\r\n    }\r\n\r\nAll versions sort a set and return the sorted set. I know, only linkedHashSet can preserve ordering. \r\n\r\n**Which one should I choose**, I only want to sort the input properties users and return it, so is version 1 the best for that case? (For all cases, I want the references of input users be the same as for output users.)\r\n\r\n\r\n**EDIT: I think, I will choose version 4.** \r\n\r\n\r\n","title":"java 8 stream.sorted with comparator in sets","body":"<p><strong>I have a set to sort (with Comparators) and I dont know which version to choose:</strong></p>\n<p><strong>version 1:</strong></p>\n<pre><code>public static void sort(Set&lt;User&gt; users) {\n    users = users.stream()\n    .sorted(sort_gender.thenComparing(sort_age))\n    .collect(Collectors.toCollection(LinkedHashSet::new));\n}\n</code></pre>\n<p><strong>version 2:</strong></p>\n<pre><code>public static Set&lt;User&gt; sort(Set&lt;User&gt; users) {\n    return users.stream()\n    .sorted(sort_gender.thenComparing(sort_age))\n    .collect(Collectors.toCollection(LinkedHashSet::new));\n}\n</code></pre>\n<p><strong>version 3:</strong></p>\n<pre><code>public static void sort(Set&lt;User&gt; users) {\n    users.stream()\n    .sorted(sort_gender.thenComparing(sort_age))\n    .collect(Collectors.toSet());\n}\n</code></pre>\n<p><strong>version 4</strong></p>\n<pre><code>public static List&lt;User&gt; sort(Set&lt;User&gt; users){\n\nList&lt;User&gt; list = new ArrayList&lt;&gt;(users);\nlist.sort(sort_gender.thenComparing(sort_age));\nreturn list;\n}\n</code></pre>\n<p>All versions sort a set and return the sorted set. I know, only linkedHashSet can preserve ordering.</p>\n<p><strong>Which one should I choose</strong>, I only want to sort the input properties users and return it, so is version 1 the best for that case? (For all cases, I want the references of input users be the same as for output users.)</p>\n<p><strong>EDIT: I think, I will choose version 4.</strong></p>\n"},{"tags":["java","program-entry-point"],"owner":{"account_id":22808221,"reputation":9,"user_id":16959969,"display_name":"Daria"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1674996022,"answer_count":0,"score":0,"last_activity_date":1674996110,"creation_date":1674995302,"question_id":75274887,"body_markdown":"I&#39;m trying to run this program but I do not know where to put &quot;main&quot;. It seems like the program does not have errors but whenever I run it I get error:\r\nError: Main method not found in class Lab2, please define the main method as:\r\n   public static void main(String[] args)\r\nor a JavaFX application class must extend javafx.application.Application\r\n\r\n`\r\n\r\n```\r\nimport java.util.Arrays;\r\n\r\npublic class Lab2 {\r\n\t// compute sorting\r\nint [] sortingArrayOne = new int[10000]; // array one\r\nint [] sortingArrayTwo = new int[10000]; // array two\r\n\r\n\r\npublic void randomNumbers() {\r\n\tfor (int i = 0; i &lt; sortingArrayOne.length; i++) {\r\n\tsortingArrayOne[i]=(int)(Integer.MAX_VALUE * Math.random()); // filling array one with random integer\t\r\n\tsortingArrayTwo[i]=sortingArrayOne[1]; // same random numbers in both arrays\r\n\r\n\r\n\r\nlong startTimeArrayOne=System.currentTimeMillis(); // run time of array one\r\nselectionSort(sortingArrayOne); // sorting array one using selection sort\r\nlong runTimeArrayOne=System.currentTimeMillis() - startTimeArrayOne; // run time of selection sort\r\n\r\nlong startTimeArrayTwo = System.currentTimeMillis(); // computing time for array two\r\nArrays.sort(sortingArrayTwo); // sorting array two \r\nlong runTimeArrayTwo=System.currentTimeMillis() - startTimeArrayTwo; // time to run \r\n\r\nSystem.out.println(&quot;Selection sort time:&quot; + runTimeArrayOne); // printing sort time\r\nSystem.out.println(&quot;Arrays sort time:&quot; + runTimeArrayTwo); // printing array sort time\r\n}}\r\n\r\nstatic void selectionSort(int[] A) {\r\n\t// Sort A into increasing order, using selection sort\r\n\tfor (int lastPlace = A.length-1; lastPlace &gt; 0; lastPlace--) {\r\n\t// Find the largest item among A[0], A[1], ...,\r\n\t// A[lastPlace], and move it into position lastPlace\r\n\t// by swapping it with the number that is currently\r\n\t// in position lastPlace.\r\n\tint maxLoc = 0; // Location of largest item seen so far.\r\n\tfor (int j = 1; j &lt;= lastPlace; j++) {\r\n\tif (A[j] &gt; A[maxLoc]) {\r\n\t// Since A[j] is bigger than the maximum we’ve seen\r\n\t// so far, j is the new location of the maximum value\r\n\t// we’ve seen so far.\r\n\tmaxLoc = j;\r\n\t}\r\n\t}\r\n\tint temp = A[maxLoc]; // Swap largest item with A[lastPlace].\r\n\tA[max`Loc] = A[lastPlace];\r\n\tA[lastPlace] = temp;\r\n\t} // end of for loop\r\n\t}}\r\n```\r\n\r\n\r\n\r\n\r\nI tried writing main for this pice:\r\n`long startTimeArrayOne=System.currentTimeMillis(); // run time of array one\r\nselectionSort(sortingArrayOne); // sorting array one using selection sort\r\nlong runTimeArrayOne=System.currentTimeMillis() - startTimeArrayOne; // run time of selection sort\r\n\r\nlong startTimeArrayTwo = System.currentTimeMillis(); // computing time for array two\r\nArrays.sort(sortingArrayTwo); // sorting array two \r\nlong runTimeArrayTwo=System.currentTimeMillis() - startTimeArrayTwo; // time to run \r\n\r\nSystem.out.println(&quot;Selection sort time:&quot; + runTimeArrayOne); // printing sort time\r\nSystem.out.println(&quot;Arrays sort time:&quot; + runTimeArrayTwo); // printing array sort time\r\n}}`\r\n\r\nbut then I am getting different errors... ","title":"Main method not found in class Lab2, please define the main method as: public static void main(String[] args)","body":"<p>I'm trying to run this program but I do not know where to put &quot;main&quot;. It seems like the program does not have errors but whenever I run it I get error:\nError: Main method not found in class Lab2, please define the main method as:\npublic static void main(String[] args)\nor a JavaFX application class must extend javafx.application.Application</p>\n<p>`</p>\n<pre><code>import java.util.Arrays;\n\npublic class Lab2 {\n    // compute sorting\nint [] sortingArrayOne = new int[10000]; // array one\nint [] sortingArrayTwo = new int[10000]; // array two\n\n\npublic void randomNumbers() {\n    for (int i = 0; i &lt; sortingArrayOne.length; i++) {\n    sortingArrayOne[i]=(int)(Integer.MAX_VALUE * Math.random()); // filling array one with random integer   \n    sortingArrayTwo[i]=sortingArrayOne[1]; // same random numbers in both arrays\n\n\n\nlong startTimeArrayOne=System.currentTimeMillis(); // run time of array one\nselectionSort(sortingArrayOne); // sorting array one using selection sort\nlong runTimeArrayOne=System.currentTimeMillis() - startTimeArrayOne; // run time of selection sort\n\nlong startTimeArrayTwo = System.currentTimeMillis(); // computing time for array two\nArrays.sort(sortingArrayTwo); // sorting array two \nlong runTimeArrayTwo=System.currentTimeMillis() - startTimeArrayTwo; // time to run \n\nSystem.out.println(&quot;Selection sort time:&quot; + runTimeArrayOne); // printing sort time\nSystem.out.println(&quot;Arrays sort time:&quot; + runTimeArrayTwo); // printing array sort time\n}}\n\nstatic void selectionSort(int[] A) {\n    // Sort A into increasing order, using selection sort\n    for (int lastPlace = A.length-1; lastPlace &gt; 0; lastPlace--) {\n    // Find the largest item among A[0], A[1], ...,\n    // A[lastPlace], and move it into position lastPlace\n    // by swapping it with the number that is currently\n    // in position lastPlace.\n    int maxLoc = 0; // Location of largest item seen so far.\n    for (int j = 1; j &lt;= lastPlace; j++) {\n    if (A[j] &gt; A[maxLoc]) {\n    // Since A[j] is bigger than the maximum we’ve seen\n    // so far, j is the new location of the maximum value\n    // we’ve seen so far.\n    maxLoc = j;\n    }\n    }\n    int temp = A[maxLoc]; // Swap largest item with A[lastPlace].\n    A[max`Loc] = A[lastPlace];\n    A[lastPlace] = temp;\n    } // end of for loop\n    }}\n</code></pre>\n<p>I tried writing main for this pice:\n`long startTimeArrayOne=System.currentTimeMillis(); // run time of array one\nselectionSort(sortingArrayOne); // sorting array one using selection sort\nlong runTimeArrayOne=System.currentTimeMillis() - startTimeArrayOne; // run time of selection sort</p>\n<p>long startTimeArrayTwo = System.currentTimeMillis(); // computing time for array two\nArrays.sort(sortingArrayTwo); // sorting array two\nlong runTimeArrayTwo=System.currentTimeMillis() - startTimeArrayTwo; // time to run</p>\n<p>System.out.println(&quot;Selection sort time:&quot; + runTimeArrayOne); // printing sort time\nSystem.out.println(&quot;Arrays sort time:&quot; + runTimeArrayTwo); // printing array sort time\n}}`</p>\n<p>but then I am getting different errors...</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6535577,"reputation":5673,"user_id":5055190,"accept_rate":100,"display_name":"dumbPotato21"},"score":0,"creation_date":1495287415,"post_id":44086525,"comment_id":75195168,"body_markdown":"isn&#39;t the error clear enough ? BTW. You need to show us the code for the main method, if indeed there is one. Make sure it is `public static void main(String args[])`","body":"isn&#39;t the error clear enough ? BTW. You need to show us the code for the main method, if indeed there is one. Make sure it is <code>public static void main(String args[])</code>"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1495287438,"post_id":44086525,"comment_id":75195177,"body_markdown":"Then create a `public static void main(String[] args)` in your class?","body":"Then create a <code>public static void main(String[] args)</code> in your class?"},{"owner":{"account_id":1320884,"reputation":614,"user_id":1266750,"accept_rate":38,"display_name":"Nitiraj"},"score":0,"creation_date":1513651930,"post_id":44086525,"comment_id":82724755,"body_markdown":"World&#39;s Smaile did not ask the question in correct context. Its a problem with Jetbrains idea IDE. I am also having the same problem. I am a seasoned programmer and my class and main method are all correct but when run from inside the idea community edition, it is showing this error.","body":"World&#39;s Smaile did not ask the question in correct context. Its a problem with Jetbrains idea IDE. I am also having the same problem. I am a seasoned programmer and my class and main method are all correct but when run from inside the idea community edition, it is showing this error."}],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1506521742,"creation_date":1495287532,"answer_id":44086559,"question_id":44086525,"body_markdown":"To start a java program you need the main method which not define in your code you can make it like this :\r\n\r\n    public class Test {\r\n    \r\n        public void printPhoto(int width, int height, boolean inColor) {\r\n            System.out.println(&quot;Width = &quot; + width + &quot; cm&quot;);\r\n            System.out.println(&quot;Height = &quot; + height + &quot; cm&quot;);\r\n            if (inColor) {\r\n                System.out.println(&quot;Print is Full color.&quot;);\r\n            } else {\r\n                System.out.println(&quot;Print is black and white.&quot;);\r\n            }\r\n            // printPhoto(10, 20, false); // Avoid a Stack Overflow due the recursive call\r\n        }\r\n        \r\n        //main class\r\n        public static void main(String[] args) {\r\n            Test tst = new Test();//create a new instance of your class\r\n            tst.printPhoto(0, 0, true);//call your method with some values        \r\n        }\r\n    \r\n    }\r\n\r\n","title":"Error :: Main method not found in class","body":"<p>To start a java program you need the main method which not define in your code you can make it like this :</p>\n\n<pre><code>public class Test {\n\n    public void printPhoto(int width, int height, boolean inColor) {\n        System.out.println(\"Width = \" + width + \" cm\");\n        System.out.println(\"Height = \" + height + \" cm\");\n        if (inColor) {\n            System.out.println(\"Print is Full color.\");\n        } else {\n            System.out.println(\"Print is black and white.\");\n        }\n        // printPhoto(10, 20, false); // Avoid a Stack Overflow due the recursive call\n    }\n\n    //main class\n    public static void main(String[] args) {\n        Test tst = new Test();//create a new instance of your class\n        tst.printPhoto(0, 0, true);//call your method with some values        \n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8408799,"reputation":5,"user_id":6311460,"display_name":"xMarcoGP"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506521722,"creation_date":1495289021,"answer_id":44086804,"question_id":44086525,"body_markdown":"As already [@YCF_L](https://stackoverflow.com/users/5558072/ycf-l) posted, you need the main method.\r\n\r\nFirst, make sure you remove: \r\n\r\n    printPhoto(10,20,false);\r\n\r\nto avoid a Stack Overflow due the recursive call.\r\n\r\nIf you need to create a new instance and directly use your method, you can do the following:\r\n\r\n    public class Test {\r\n\r\n    \tpublic Test printPhoto(int width, int height, boolean inColor) {\r\n    \t\tSystem.out.println(&quot;Width = &quot; + width + &quot; cm&quot;);\r\n    \t\tSystem.out.println(&quot;Height = &quot; + height + &quot; cm&quot;);\r\n    \t\tif (inColor) {\r\n    \t\t\tSystem.out.println(&quot;Print is Full color.&quot;);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;Print is black and white.&quot;);\r\n    \t\t}\r\n    \t\treturn this;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tTest testObj = new Test().printPhoto(10, 20, false); //Creates a new instance of your class Test and calls the method printPhoto\r\n    \t}\r\n\r\n    }\r\n\r\nAlternatively, you could also make the method static, but it&#39;s not always the best procedure, it depends on how you are going to use it. \r\n\r\n    public class Test {\r\n    \r\n    \tpublic static void printPhoto(int width, int height, boolean inColor) {\r\n    \t\tSystem.out.println(&quot;Width = &quot; + width + &quot; cm&quot;);\r\n    \t\tSystem.out.println(&quot;Height = &quot; + height + &quot; cm&quot;);\r\n    \t\tif (inColor) {\r\n    \t\t\tSystem.out.println(&quot;Print is Full color.&quot;);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;Print is black and white.&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tprintPhoto(10, 20, false);\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Error :: Main method not found in class","body":"<p>As already <a href=\"https://stackoverflow.com/users/5558072/ycf-l\">@YCF_L</a> posted, you need the main method.</p>\n\n<p>First, make sure you remove: </p>\n\n<pre><code>printPhoto(10,20,false);\n</code></pre>\n\n<p>to avoid a Stack Overflow due the recursive call.</p>\n\n<p>If you need to create a new instance and directly use your method, you can do the following:</p>\n\n<pre><code>public class Test {\n\n    public Test printPhoto(int width, int height, boolean inColor) {\n        System.out.println(\"Width = \" + width + \" cm\");\n        System.out.println(\"Height = \" + height + \" cm\");\n        if (inColor) {\n            System.out.println(\"Print is Full color.\");\n        } else {\n            System.out.println(\"Print is black and white.\");\n        }\n        return this;\n    }\n\n    public static void main(String[] args) {\n        Test testObj = new Test().printPhoto(10, 20, false); //Creates a new instance of your class Test and calls the method printPhoto\n    }\n\n}\n</code></pre>\n\n<p>Alternatively, you could also make the method static, but it's not always the best procedure, it depends on how you are going to use it. </p>\n\n<pre><code>public class Test {\n\n    public static void printPhoto(int width, int height, boolean inColor) {\n        System.out.println(\"Width = \" + width + \" cm\");\n        System.out.println(\"Height = \" + height + \" cm\");\n        if (inColor) {\n            System.out.println(\"Print is Full color.\");\n        } else {\n            System.out.println(\"Print is black and white.\");\n        }\n    }\n\n    public static void main(String[] args) {\n        printPhoto(10, 20, false);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":10940918,"reputation":9,"user_id":8040813,"display_name":"World&#39;s Smaile"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12570,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1674995989,"accepted_answer_id":44086559,"answer_count":2,"score":-2,"last_activity_date":1674996004,"creation_date":1495287314,"question_id":44086525,"body_markdown":"When I run my code, I receive this error message:\r\n\r\n    Error: Main method not found in class &quot;Class name&quot;, please define the main method as:\r\n       public static void main(String[] args)\r\n    or a JavaFX application class must extend javafx.application.Application\r\n\r\nMy code:\r\n \r\n    public static void main(String[] args){\r\n        public void printPhoto(int width,int height, boolean inColor){\r\n            System.out.println(&quot;Width = &quot; + width +  &quot; cm&quot; );\r\n            System.out.println(&quot;Height = &quot; + height + &quot; cm&quot;);\r\n            if(inColor){\r\n                System.out.println(&quot;Print is Full color.&quot;);\r\n            } else {\r\n                System.out.println(&quot;Print is black and white.&quot;);\r\n            }\r\n            printPhoto(10,20,false);\r\n        }\r\n    }","title":"Error :: Main method not found in class","body":"<p>When I run my code, I receive this error message:</p>\n\n<pre><code>Error: Main method not found in class \"Class name\", please define the main method as:\n   public static void main(String[] args)\nor a JavaFX application class must extend javafx.application.Application\n</code></pre>\n\n<p>My code:</p>\n\n<pre><code>public static void main(String[] args){\n    public void printPhoto(int width,int height, boolean inColor){\n        System.out.println(\"Width = \" + width +  \" cm\" );\n        System.out.println(\"Height = \" + height + \" cm\");\n        if(inColor){\n            System.out.println(\"Print is Full color.\");\n        } else {\n            System.out.println(\"Print is black and white.\");\n        }\n        printPhoto(10,20,false);\n    }\n}\n</code></pre>\n"},{"tags":["java","sockets","intellij-idea","bigdecimal"],"answers":[{"tags":[],"owner":{"account_id":8427978,"reputation":166,"user_id":6324633,"display_name":"serdroid"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1515433800,"creation_date":1515433800,"answer_id":48155508,"question_id":48155191,"body_markdown":"When you started your java program in debug mode, your IDE starts the JVM in debug mode (listening a socket to attach debugger). The statement starting with &#39;Connected ... &#39; shows your IDE connected to your debugging program, and &#39;Disconnected ...&#39; shows your IDE disconnected from JVM because of your program is terminated. ","title":"Disconnected from the target VM, address: &#39;127.0.0.1:51928&#39;, transport: &#39;socket&#39;","body":"<p>When you started your java program in debug mode, your IDE starts the JVM in debug mode (listening a socket to attach debugger). The statement starting with 'Connected ... ' shows your IDE connected to your debugging program, and 'Disconnected ...' shows your IDE disconnected from JVM because of your program is terminated. </p>\n"},{"tags":[],"owner":{"account_id":1621503,"reputation":1451,"user_id":1497944,"display_name":"Kedar Joshi"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1515433846,"creation_date":1515433846,"answer_id":48155521,"question_id":48155191,"body_markdown":"Java debugger prints the following message when it is connected to debugging port of JVM. \r\n\r\n`Connected to the target VM, address: &#39;127.0.0.1:51928&#39;, transport: &#39;socket&#39;`\r\n\r\nSimilarly when your program terminates following message is printed to indicate that debugger has disconnected from the port.\r\n\r\n`Disconnected from the target VM, address: &#39;127.0.0.1:51928&#39;, transport: &#39;socket&#39;`\r\n\r\nSince these logs are written at the same time, console mixes them up.","title":"Disconnected from the target VM, address: &#39;127.0.0.1:51928&#39;, transport: &#39;socket&#39;","body":"<p>Java debugger prints the following message when it is connected to debugging port of JVM. </p>\n\n<p><code>Connected to the target VM, address: '127.0.0.1:51928', transport: 'socket'</code></p>\n\n<p>Similarly when your program terminates following message is printed to indicate that debugger has disconnected from the port.</p>\n\n<p><code>Disconnected from the target VM, address: '127.0.0.1:51928', transport: 'socket'</code></p>\n\n<p>Since these logs are written at the same time, console mixes them up.</p>\n"},{"tags":[],"owner":{"account_id":463429,"reputation":6493,"user_id":866333,"accept_rate":88,"display_name":"John"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1523826034,"creation_date":1523826034,"answer_id":49846747,"question_id":48155191,"body_markdown":"I had similar problem with libGDX. It might have been related to my upgrade from 2017 to 2018 versions of IntelliJ. But it suddenly stopped working again, after I&#39;d just recreated the project using the 2018 version to import a barebone libgdx project.\r\n\r\nThis might need a new question but I&#39;m lazy so will piggyback my answer here.\r\n\r\nAs others point out, it is a debugging issue. (I don&#39;t actually understand what the OP of this question is asking, but the error looks right) I tried running without debugging and it fired up my previous version. &quot;What good is code I can&#39;t change?&quot; So I hit debug and sure enough I&#39;m back on my new code&#39;s breakpoint.","title":"Disconnected from the target VM, address: &#39;127.0.0.1:51928&#39;, transport: &#39;socket&#39;","body":"<p>I had similar problem with libGDX. It might have been related to my upgrade from 2017 to 2018 versions of IntelliJ. But it suddenly stopped working again, after I'd just recreated the project using the 2018 version to import a barebone libgdx project.</p>\n\n<p>This might need a new question but I'm lazy so will piggyback my answer here.</p>\n\n<p>As others point out, it is a debugging issue. (I don't actually understand what the OP of this question is asking, but the error looks right) I tried running without debugging and it fired up my previous version. \"What good is code I can't change?\" So I hit debug and sure enough I'm back on my new code's breakpoint.</p>\n"},{"tags":[],"owner":{"account_id":13513248,"reputation":474,"user_id":9748774,"display_name":"ismael"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1529740433,"creation_date":1529740433,"answer_id":50999172,"question_id":48155191,"body_markdown":"change port\r\n\r\n    server:\r\n        port: 8083\r\nChange the previous port to an open port :)\r\n","title":"Disconnected from the target VM, address: &#39;127.0.0.1:51928&#39;, transport: &#39;socket&#39;","body":"<p>change port</p>\n\n<pre><code>server:\n    port: 8083\n</code></pre>\n\n<p>Change the previous port to an open port :)</p>\n"},{"tags":[],"owner":{"account_id":15245822,"reputation":1,"user_id":11000724,"display_name":"Shivam Patidar"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1571077145,"creation_date":1549020248,"answer_id":54478523,"question_id":48155191,"body_markdown":"The problem is that your console is hidden, perhaps meaning that a widget isn&#39;t being shown. You can see these errors in [the] Variables [widget]. So when you open the variables widget, the column on the right side will show you the frames, thread, [and the stack calls].  This is the best place to inspect console output. Just click on it and rerun the debug mode and use this to troubleshoot your transport socket error.","title":"Disconnected from the target VM, address: &#39;127.0.0.1:51928&#39;, transport: &#39;socket&#39;","body":"<p>The problem is that your console is hidden, perhaps meaning that a widget isn't being shown. You can see these errors in [the] Variables [widget]. So when you open the variables widget, the column on the right side will show you the frames, thread, [and the stack calls].  This is the best place to inspect console output. Just click on it and rerun the debug mode and use this to troubleshoot your transport socket error.</p>\n"},{"tags":[],"owner":{"account_id":16062883,"reputation":1058,"user_id":11593292,"display_name":"Sandun Susantha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1560340450,"creation_date":1560339040,"answer_id":56561181,"question_id":48155191,"body_markdown":"The main method should be called the object of inherited method. Otherwise you can get the following error when you are debugging the class:\r\n\r\n    Connected to the target VM, address: &#39;127.0.0.1:60102&#39;, transport: &#39;socket&#39;\r\n    Disconnected from the target VM, address: &#39;127.0.0.1:60102&#39;, transport: &#39;socket&#39;","title":"Disconnected from the target VM, address: &#39;127.0.0.1:51928&#39;, transport: &#39;socket&#39;","body":"<p>The main method should be called the object of inherited method. Otherwise you can get the following error when you are debugging the class:</p>\n\n<pre><code>Connected to the target VM, address: '127.0.0.1:60102', transport: 'socket'\nDisconnected from the target VM, address: '127.0.0.1:60102', transport: 'socket'\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"score":1,"creation_date":1675115105,"post_id":75274960,"comment_id":132855717,"body_markdown":"There is nothing about the database here. Your answer is irrelevant.","body":"There is nothing about the database here. Your answer is irrelevant."}],"tags":[],"owner":{"account_id":27649156,"reputation":1,"user_id":21104426,"display_name":"Андрей Антонов"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674995978,"creation_date":1674995978,"answer_id":75274960,"question_id":48155191,"body_markdown":"Most likely you used a database, and now you don&#39;t need it. Go to the menu: Run -&gt; Edit Configurations.... Click &quot;-&quot; if there is a database in the list.","title":"Disconnected from the target VM, address: &#39;127.0.0.1:51928&#39;, transport: &#39;socket&#39;","body":"<p>Most likely you used a database, and now you don't need it. Go to the menu: Run -&gt; Edit Configurations.... Click &quot;-&quot; if there is a database in the list.</p>\n"}],"owner":{"account_id":12402113,"reputation":93,"user_id":9038858,"display_name":"Danpatpang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49334,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":48155521,"answer_count":7,"score":4,"last_activity_date":1674995978,"creation_date":1515432564,"question_id":48155191,"body_markdown":"What does `Disconnected from the target VM, address: &#39;127.0.0.1:51928&#39;, transport: &#39;socket&#39;` mean?\r\n\r\nThis is my code: \r\n\r\n    import java.math.BigDecimal;\r\n    public class puzzle2 {\r\n        public static void main(String args[]){\r\n            System.out.println(2.00-1.10);  //0.8999999999999999\r\n            System.out.println(new BigDecimal(&quot;2.00&quot;).subtract(new BigDecimal(&quot;1.10&quot;)));    //0.10\r\n        }\r\n    }\r\n\r\nresult is \r\n```\r\nConnected to the target VM, address: &#39;127.0.0.1:51928&#39;, transport: &#39;socket&#39;\r\n\r\n0.8999999999999999\r\n\r\n0.90\r\n\r\nDisconnected from the target VM, address: &#39;127.0.0.1:51928&#39;, transport: &#39;socket&#39;\r\n```\r\n","title":"Disconnected from the target VM, address: &#39;127.0.0.1:51928&#39;, transport: &#39;socket&#39;","body":"<p>What does <code>Disconnected from the target VM, address: '127.0.0.1:51928', transport: 'socket'</code> mean?</p>\n<p>This is my code:</p>\n<pre><code>import java.math.BigDecimal;\npublic class puzzle2 {\n    public static void main(String args[]){\n        System.out.println(2.00-1.10);  //0.8999999999999999\n        System.out.println(new BigDecimal(&quot;2.00&quot;).subtract(new BigDecimal(&quot;1.10&quot;)));    //0.10\n    }\n}\n</code></pre>\n<p>result is</p>\n<pre><code>Connected to the target VM, address: '127.0.0.1:51928', transport: 'socket'\n\n0.8999999999999999\n\n0.90\n\nDisconnected from the target VM, address: '127.0.0.1:51928', transport: 'socket'\n</code></pre>\n"},{"tags":["java","azure","gradle","azure-artifacts"],"answers":[{"comments":[{"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"score":1,"creation_date":1675115013,"post_id":75274799,"comment_id":132855693,"body_markdown":"Please mark your answer to your own question as correct.","body":"Please mark your answer to your own question as correct."}],"tags":[],"owner":{"account_id":8573148,"reputation":57,"user_id":6423285,"accept_rate":75,"display_name":"Mina F"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674994609,"creation_date":1674994609,"answer_id":75274799,"question_id":75270961,"body_markdown":"So I will answer my own question. I was missing the group and version in the build.gradle. So gradle was actually successful in publishing my artifacts, it just needed the group and version to identify the specific artifact.\r\n```\r\ngroup: thegroup\r\nversion: theversion\r\n```","title":"How to publish Gradle project to Azure Artifacts?","body":"<p>So I will answer my own question. I was missing the group and version in the build.gradle. So gradle was actually successful in publishing my artifacts, it just needed the group and version to identify the specific artifact.</p>\n<pre><code>group: thegroup\nversion: theversion\n</code></pre>\n"}],"owner":{"account_id":8573148,"reputation":57,"user_id":6423285,"accept_rate":75,"display_name":"Mina F"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75274799,"answer_count":1,"score":1,"last_activity_date":1674995739,"creation_date":1674940642,"question_id":75270961,"body_markdown":"I am trying to publish a jar into Azure Artifacts using the command: `./gradlew publish`. I am not running into any error. Gradle is making it look successful, even the stacktrace, looks like the publish command succeeded. But when I open Azure artifacts feed, there is nothing that connected to the feed. I also tried `./gradlew publishAllPublicationsToMyFeedRepository` with the same result.\r\nTake the comments as multiple combinations of attempts I tried to get this to work:\r\n\r\nbuild.gradle:\r\n```\r\n    plugins { \r\n        id &#39;java-library&#39; apply true\r\n        id &quot;net.linguica.maven-settings&quot; version &quot;0.5&quot; apply true\r\n        id &#39;maven-publish&#39; apply true\r\n    }\r\n    dependencies {\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter:5.6.2&#39;\r\n    }\r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n    jar {\r\n        manifest {\r\n            attributes(&#39;Main-Class&#39;: &#39;com.myapp.LanguageApp.SayHello&#39;)\r\n        }\r\n    }\r\n    repositories {\r\n        mavenCentral()\r\n        mavenLocal()\r\n        // maven {\r\n        //     credentials {\r\n        //      // I replaced the username with a PAT name, and password with PAT token\r\n        //             username &quot;username&quot;\r\n        //             password &quot;password&quot;\r\n        //     }\r\n        //     url &#39;https://pkgs.dev.azure.com/username/azure-artifacts/_packaging/MyFeed/maven/v1&#39;\r\n        //     name &#39;MyFeed&#39;\r\n        //     authentication {\r\n        //         basic(BasicAuthentication)\r\n        //     }\r\n        // }\r\n    }\r\n    publishing {\r\n        publications {}\r\n        repositories {\r\n            maven {\r\n                url &#39;https://pkgs.dev.azure.com/username/azure-artifacts/_packaging/MyFeed/maven/v1&#39;\r\n                name &#39;MyFeed&#39;\r\n                // authentication {\r\n                //     basic(BasicAuthentication)\r\n                // }\r\n                credentials {\r\n                // I replaced the username with a PAT name, and password with PAT token\r\n                    username &quot;username&quot;\r\n                    password &quot;password&quot;\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\nsettings.gradle:\r\n```\r\nrootProject.name = &#39;gradle-project&#39;\r\n```\r\n~/.m2/settings.xml:\r\n```\r\n&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;\r\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n          xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0\r\n                              https://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\r\n  &lt;servers&gt;\r\n    &lt;server&gt;\r\n      &lt;id&gt;MyFeed&lt;/id&gt;\r\n      /// yes, I replaced the username with a PAT name, and password with PAT token\r\n      &lt;username&gt;username&lt;/username&gt;\r\n      &lt;password&gt;password&lt;/password&gt;\r\n    &lt;/server&gt;\r\n  &lt;/servers&gt;\r\n&lt;/settings&gt;\r\n```\r\n\r\n\r\n","title":"How to publish Gradle project to Azure Artifacts?","body":"<p>I am trying to publish a jar into Azure Artifacts using the command: <code>./gradlew publish</code>. I am not running into any error. Gradle is making it look successful, even the stacktrace, looks like the publish command succeeded. But when I open Azure artifacts feed, there is nothing that connected to the feed. I also tried <code>./gradlew publishAllPublicationsToMyFeedRepository</code> with the same result.\nTake the comments as multiple combinations of attempts I tried to get this to work:</p>\n<p>build.gradle:</p>\n<pre><code>    plugins { \n        id 'java-library' apply true\n        id &quot;net.linguica.maven-settings&quot; version &quot;0.5&quot; apply true\n        id 'maven-publish' apply true\n    }\n    dependencies {\n        testImplementation 'org.junit.jupiter:junit-jupiter:5.6.2'\n    }\n    test {\n        useJUnitPlatform()\n    }\n    jar {\n        manifest {\n            attributes('Main-Class': 'com.myapp.LanguageApp.SayHello')\n        }\n    }\n    repositories {\n        mavenCentral()\n        mavenLocal()\n        // maven {\n        //     credentials {\n        //      // I replaced the username with a PAT name, and password with PAT token\n        //             username &quot;username&quot;\n        //             password &quot;password&quot;\n        //     }\n        //     url 'https://pkgs.dev.azure.com/username/azure-artifacts/_packaging/MyFeed/maven/v1'\n        //     name 'MyFeed'\n        //     authentication {\n        //         basic(BasicAuthentication)\n        //     }\n        // }\n    }\n    publishing {\n        publications {}\n        repositories {\n            maven {\n                url 'https://pkgs.dev.azure.com/username/azure-artifacts/_packaging/MyFeed/maven/v1'\n                name 'MyFeed'\n                // authentication {\n                //     basic(BasicAuthentication)\n                // }\n                credentials {\n                // I replaced the username with a PAT name, and password with PAT token\n                    username &quot;username&quot;\n                    password &quot;password&quot;\n                }\n            }\n        }\n    }\n</code></pre>\n<p>settings.gradle:</p>\n<pre><code>rootProject.name = 'gradle-project'\n</code></pre>\n<p>~/.m2/settings.xml:</p>\n<pre><code>&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n          xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0\n                              https://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\n  &lt;servers&gt;\n    &lt;server&gt;\n      &lt;id&gt;MyFeed&lt;/id&gt;\n      /// yes, I replaced the username with a PAT name, and password with PAT token\n      &lt;username&gt;username&lt;/username&gt;\n      &lt;password&gt;password&lt;/password&gt;\n    &lt;/server&gt;\n  &lt;/servers&gt;\n&lt;/settings&gt;\n</code></pre>\n"},{"tags":["java","android","json"],"comments":[{"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"score":0,"creation_date":1675011497,"post_id":75274856,"comment_id":132831946,"body_markdown":"Post your code. My crystal ball is broke.","body":"Post your code. My crystal ball is broke."}],"owner":{"account_id":25413418,"reputation":13,"user_id":19220813,"display_name":"Bishop"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674995103,"creation_date":1674995103,"question_id":75274856,"body_markdown":"I want to load the results of a JSON Array request into a graph in android studio. The request response returns values of dates and amount so I want a bar graph that would show amount for last seven days using an adapter or maybe any other method of implementation. Please kindly help with a sample code.\r\n\r\nI have tried to create new barEntries ArrayList and then parse the values in the for block of the JSON request, The bar graph kept on saying no bar entries","title":"How to create a bar graph from JSON Array request Android","body":"<p>I want to load the results of a JSON Array request into a graph in android studio. The request response returns values of dates and amount so I want a bar graph that would show amount for last seven days using an adapter or maybe any other method of implementation. Please kindly help with a sample code.</p>\n<p>I have tried to create new barEntries ArrayList and then parse the values in the for block of the JSON request, The bar graph kept on saying no bar entries</p>\n"},{"tags":["java","mysql","spring-boot","tomcat"],"comments":[{"owner":{"account_id":8999454,"reputation":354,"user_id":6708591,"display_name":"user6708591"},"score":0,"creation_date":1675376929,"post_id":75274813,"comment_id":132921937,"body_markdown":"See https://stackoverflow.com/questions/3320400/to-prevent-a-memory-leak-the-jdbc-driver-has-been-forcibly-unregistered","body":"See <a href=\"https://stackoverflow.com/questions/3320400/to-prevent-a-memory-leak-the-jdbc-driver-has-been-forcibly-unregistered\" title=\"to prevent a memory leak the jdbc driver has been forcibly unregistered\">stackoverflow.com/questions/3320400/&hellip;</a>"}],"owner":{"account_id":25411796,"reputation":121,"user_id":19219457,"display_name":"mikegrep"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674994746,"creation_date":1674994746,"question_id":75274813,"body_markdown":"I have a problem with deploying the spring boot application after I delete the database and create new. When I deploy it I got an following exception:\r\n\r\n    \r\n\r\n&gt; 29-Jan-2023 00:16:21.058 WARNING [main]\r\n&gt; org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesJdbc\r\n&gt; The web application [ROOT] registered the JDBC driver\r\n&gt; [com.mysql.cj.jdbc.Driver] but failed to unregister it when the web\r\n&gt; application was stopped. To prevent a memory leak, the JDBC Driver has\r\n&gt; been forcibly unregistered. 29-Jan-2023 00:16:21.059 WARNING [main]\r\n&gt; org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads\r\n&gt; The web application [ROOT] appears to have started a thread named\r\n&gt; [mysql-cj-abandoned-connection-cleanup] but has failed to stop it.\r\n&gt; This is very likely to create a memory leak. Stack trace of thread:\r\n\r\nI read online, and I try the couple of methods and didn&#39;t work reference to the Stack Overflow answer: [answer][1]\r\nWhen i move the MySQL driver to tomcat lib folder, I got another exception for class witch is not mark as entity:\r\n\r\n&gt; javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: persistent class not known\r\n\r\n  [1]: https://stackoverflow.com/a/66059200/19219457\r\n\r\nLocally everything working fine. Any clues how to fix the issue, I don&#39;t have rights to restart the MySQL database at the moment and I search for fix.\r\n\r\nFrom the answer I only create that class I am not sure if i need to call it somewhere.","title":"Problem with JDBC driver on deployment after delete and recreate databse","body":"<p>I have a problem with deploying the spring boot application after I delete the database and create new. When I deploy it I got an following exception:</p>\n<blockquote>\n<p>29-Jan-2023 00:16:21.058 WARNING [main]\norg.apache.catalina.loader.WebappClassLoaderBase.clearReferencesJdbc\nThe web application [ROOT] registered the JDBC driver\n[com.mysql.cj.jdbc.Driver] but failed to unregister it when the web\napplication was stopped. To prevent a memory leak, the JDBC Driver has\nbeen forcibly unregistered. 29-Jan-2023 00:16:21.059 WARNING [main]\norg.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads\nThe web application [ROOT] appears to have started a thread named\n[mysql-cj-abandoned-connection-cleanup] but has failed to stop it.\nThis is very likely to create a memory leak. Stack trace of thread:</p>\n</blockquote>\n<p>I read online, and I try the couple of methods and didn't work reference to the Stack Overflow answer: <a href=\"https://stackoverflow.com/a/66059200/19219457\">answer</a>\nWhen i move the MySQL driver to tomcat lib folder, I got another exception for class witch is not mark as entity:</p>\n<blockquote>\n<p>javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: persistent class not known</p>\n</blockquote>\n<p>Locally everything working fine. Any clues how to fix the issue, I don't have rights to restart the MySQL database at the moment and I search for fix.</p>\n<p>From the answer I only create that class I am not sure if i need to call it somewhere.</p>\n"},{"tags":["java","algorithm","integer","double"],"answers":[{"comments":[{"owner":{"account_id":16730894,"reputation":23,"user_id":12129537,"display_name":"Ryan Ren"},"score":0,"creation_date":1674993210,"post_id":75274525,"comment_id":132828610,"body_markdown":"Thanks a lot. I found this issue by myself also.","body":"Thanks a lot. I found this issue by myself also."}],"tags":[],"owner":{"account_id":12931984,"reputation":7896,"user_id":9350720,"display_name":"Abhinav Mathur"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674991845,"creation_date":1674991845,"answer_id":75274525,"question_id":75274350,"body_markdown":"This logical check is incorrect:\r\n```\r\nif (rear &lt; data.length)\r\n```\r\nIn the corresponding `else` block, when `rear = data.length`, you set `rear = (rear+1) % data.length - 1`, so `rear &lt; data.length` becomes true in the next iteration, and you go back to the `if` block again. However, the logic to dequeue and update values is in the `else` block (which is where you should end up once `data` is filled completely). This is why you&#39;re getting an incorrect answer; `if (rear &lt; data.length)` isn&#39;t correct.\r\n\r\nReplacing that condition with something like `if (numberOfElementsTillNow &lt; data.length)` should fix this issue.","title":"Data type conversion problem for leetcode pratice &quot;Moving Average from Data Stream&quot;","body":"<p>This logical check is incorrect:</p>\n<pre><code>if (rear &lt; data.length)\n</code></pre>\n<p>In the corresponding <code>else</code> block, when <code>rear = data.length</code>, you set <code>rear = (rear+1) % data.length - 1</code>, so <code>rear &lt; data.length</code> becomes true in the next iteration, and you go back to the <code>if</code> block again. However, the logic to dequeue and update values is in the <code>else</code> block (which is where you should end up once <code>data</code> is filled completely). This is why you're getting an incorrect answer; <code>if (rear &lt; data.length)</code> isn't correct.</p>\n<p>Replacing that condition with something like <code>if (numberOfElementsTillNow &lt; data.length)</code> should fix this issue.</p>\n"},{"tags":[],"owner":{"account_id":16730894,"reputation":23,"user_id":12129537,"display_name":"Ryan Ren"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674993152,"creation_date":1674993152,"answer_id":75274662,"question_id":75274350,"body_markdown":"I revised my code, and the answer accepted:\r\n\r\n    class MovingAverage {\r\n\t\r\n\tint front = 0, rear = 0; int sum = 0;\r\n\tint[] data;\r\n\r\n\t\r\n    public MovingAverage(int size) {\r\n\t\t\r\n\t    data = new int[size];\r\n\t\tArrays.fill(data, 0);\r\n\t\t\r\n\t\t\r\n        \r\n    }\r\n    \r\n    public double next(int val) {\r\n\t\t\r\n\t\tif(data.length == 1){\r\n\t\t\tdata[rear] = val;\r\n\t\t\treturn (double)val;\r\n\t\t}else{\r\n\t\t\t if(rear &lt; data.length){\r\n\t\t\t data[rear] = val;\r\n\t         sum += (int)data[rear];\r\n             rear++;\t\t \r\n\t\t\t return sum * 1.0/rear;\r\n             \t \r\n\t\t }else{\r\n\t\t\t sum -= (int)data[front % data.length];\r\n\t\t\t data[rear % data.length] = val;\r\n\t\t\t sum += (int)data[rear % data.length];\r\n\t\t\t rear++;\r\n\t\t\t front++;\r\n\t\t\t return sum * 1.0/data.length;\r\n\t\t }\r\n\t\t \r\n\t\t}\r\n\t\t\r\n\r\n\t\t \r\n    }\r\n}\r\n\r\nThis issue can be closed.","title":"Data type conversion problem for leetcode pratice &quot;Moving Average from Data Stream&quot;","body":"<p>I revised my code, and the answer accepted:</p>\n<pre><code>class MovingAverage {\n\nint front = 0, rear = 0; int sum = 0;\nint[] data;\n\n\npublic MovingAverage(int size) {\n    \n    data = new int[size];\n    Arrays.fill(data, 0);\n    \n    \n    \n}\n\npublic double next(int val) {\n    \n    if(data.length == 1){\n        data[rear] = val;\n        return (double)val;\n    }else{\n         if(rear &lt; data.length){\n         data[rear] = val;\n         sum += (int)data[rear];\n         rear++;         \n         return sum * 1.0/rear;\n             \n     }else{\n         sum -= (int)data[front % data.length];\n         data[rear % data.length] = val;\n         sum += (int)data[rear % data.length];\n         rear++;\n         front++;\n         return sum * 1.0/data.length;\n     }\n     \n    }\n    \n\n     \n}\n</code></pre>\n<p>}</p>\n<p>This issue can be closed.</p>\n"}],"owner":{"account_id":16730894,"reputation":23,"user_id":12129537,"display_name":"Ryan Ren"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75274525,"answer_count":2,"score":0,"last_activity_date":1674993152,"creation_date":1674990120,"question_id":75274350,"body_markdown":"When I was running the code for the leetcode question &quot;&quot;Moving Average from Data Stream&quot;&quot;. I got a partly different output with the expected:\r\n[![enter image description here](https://i.stack.imgur.com/wRzWv.png)](https://i.stack.imgur.com/wRzWv.png)\r\nHere is my code:\r\n\r\n```\r\nclass MovingAverage {\r\n\t\r\n    int front = 0, rear = 0; Double sum = 0.00000;\r\n\tint[] data;\r\n\r\n\t\r\n    public MovingAverage(int size) {\r\n\t\t\r\n\t    data = new int[size];\r\n\t\tArrays.fill(data, 0);\r\n\t\t\r\n\t\t\r\n        \r\n    }\r\n    \r\n    public double next(int val) {\r\n\t\t\r\n\t\tif(data.length == 1){\r\n\t\t\tdata[rear] = val;\r\n\t\t\treturn val;\r\n\t\t}else{\r\n\t\t\t if(rear &lt; data.length){\r\n\t\t\t data[rear] = val;\r\n\t         sum += data[rear];\r\n             rear++;\t\t \r\n\t\t\t return sum/rear;\r\n             \t \r\n\t\t }else{\r\n\t\t\t sum -= data[front];\r\n\t\t\t rear = (rear+1) % data.length - 1;\r\n\t\t\t front = (front+1) % data.length ;\r\n\t\t\t data[rear] = val;\r\n\t\t\t sum += data[rear];\r\n\t\t\t rear++;\r\n\t\t\t return sum/data.length;\r\n\t\t }\r\n\t\t \r\n\t\t}\r\n\t\t\r\n\r\n\t\t \r\n    }\r\n}\r\n```\r\n\r\nThe requirement for code is :\r\n[![enter image description here](https://i.stack.imgur.com/q3c7U.png)](https://i.stack.imgur.com/q3c7U.png)\r\n\r\n\r\n\r\n\r\n\r\n\r\nWhen I run the tast cases of the example provided, everything is ok.\r\nBut when I run this edge case, thing is different:\r\n[&quot;MovingAverage&quot;,&quot;next&quot;,&quot;next&quot;,&quot;next&quot;,&quot;next&quot;,&quot;next&quot;,&quot;next&quot;,&quot;next&quot;,&quot;next&quot;,&quot;next&quot;,&quot;next&quot;]\r\n[[5],[12009],[1965],[-940],[-8516],[-16446],[7870],[25545],[-21028],[18430],[-23464]]\r\n\r\n\r\nAnyone can help me pls? Is my code wrong or I didn&#39;t process the data conversion well?","title":"Data type conversion problem for leetcode pratice &quot;Moving Average from Data Stream&quot;","body":"<p>When I was running the code for the leetcode question &quot;&quot;Moving Average from Data Stream&quot;&quot;. I got a partly different output with the expected:\n<a href=\"https://i.stack.imgur.com/wRzWv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wRzWv.png\" alt=\"enter image description here\" /></a>\nHere is my code:</p>\n<pre><code>class MovingAverage {\n    \n    int front = 0, rear = 0; Double sum = 0.00000;\n    int[] data;\n\n    \n    public MovingAverage(int size) {\n        \n        data = new int[size];\n        Arrays.fill(data, 0);\n        \n        \n        \n    }\n    \n    public double next(int val) {\n        \n        if(data.length == 1){\n            data[rear] = val;\n            return val;\n        }else{\n             if(rear &lt; data.length){\n             data[rear] = val;\n             sum += data[rear];\n             rear++;         \n             return sum/rear;\n                 \n         }else{\n             sum -= data[front];\n             rear = (rear+1) % data.length - 1;\n             front = (front+1) % data.length ;\n             data[rear] = val;\n             sum += data[rear];\n             rear++;\n             return sum/data.length;\n         }\n         \n        }\n        \n\n         \n    }\n}\n</code></pre>\n<p>The requirement for code is :\n<a href=\"https://i.stack.imgur.com/q3c7U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q3c7U.png\" alt=\"enter image description here\" /></a></p>\n<p>When I run the tast cases of the example provided, everything is ok.\nBut when I run this edge case, thing is different:\n[&quot;MovingAverage&quot;,&quot;next&quot;,&quot;next&quot;,&quot;next&quot;,&quot;next&quot;,&quot;next&quot;,&quot;next&quot;,&quot;next&quot;,&quot;next&quot;,&quot;next&quot;,&quot;next&quot;]\n[[5],[12009],[1965],[-940],[-8516],[-16446],[7870],[25545],[-21028],[18430],[-23464]]</p>\n<p>Anyone can help me pls? Is my code wrong or I didn't process the data conversion well?</p>\n"},{"tags":["java","xades4j"],"answers":[{"tags":[],"owner":{"account_id":6396943,"reputation":392,"user_id":4960976,"display_name":"predrags"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674655358,"creation_date":1674655358,"answer_id":75235135,"question_id":75213538,"body_markdown":"After some more hours/days of exploring, I think I&#39;ve found the reason for this behavior.\r\n\r\nSample code for signing XAdES-XL after XAdES-C (i.e. for enriching the signature) exists in class **xades4j.verification.XadesVerifierImplTest**, in the following method:\r\n\r\n    @Test\r\n    public void testVerifyCEnrichXL() throws Exception\r\n    {\r\n        System.out.println(&quot;verifyCEnrichXL&quot;);\r\n\r\n        Document doc = getDocument(&quot;document.signed.c.xml&quot;);\r\n        Element signatureNode = getSigElement(doc);\r\n\r\n        XadesSignatureFormatExtender formExt = new XadesFormatExtenderProfile().with(DEFAULT_TEST_TSA).getFormatExtender();\r\n        XAdESVerificationResult res = nistVerificationProfile.newVerifier().verify(signatureNode, null, formExt, XAdESForm.X_L);\r\n\r\n        assertEquals(XAdESForm.C, res.getSignatureForm());\r\n        assertPropElementPresent(signatureNode, SigAndRefsTimeStampProperty.PROP_NAME);\r\n        assertPropElementPresent(signatureNode, CertificateValuesProperty.PROP_NAME);\r\n        assertPropElementPresent(signatureNode, RevocationValuesProperty.PROP_NAME);\r\n\r\n        outputDocument(doc, &quot;document.verified.c.xl.xml&quot;);\r\n    }\r\n\r\nThe same case would be for signing XAdES-A after XAdES-XL, as shown in class **xades4j.production.XadesSignatureFormatExtenderImplTest**, in the following method: \r\n\r\n    @Test\r\n    public void testEnrichSignatureWithA() throws Exception\r\n    {\r\n        System.out.println(&quot;enrichSignatureWithA&quot;);\r\n\r\n        Document doc = getDocument(&quot;document.verified.c.xl.xml&quot;);\r\n        Element signatureNode = (Element)doc.getElementsByTagNameNS(Constants.SignatureSpecNS, &quot;Signature&quot;).item(0);\r\n\r\n        XadesSignatureFormatExtender instance = new XadesFormatExtenderProfile().with(DEFAULT_TEST_TSA).getFormatExtender();\r\n\r\n        XMLSignature sig = new XMLSignature(signatureNode, &quot;&quot;);\r\n        Collection&lt;UnsignedSignatureProperty&gt; usp = new ArrayList&lt;UnsignedSignatureProperty&gt;(1);\r\n        usp.add(new ArchiveTimeStampProperty());\r\n\r\n        instance.enrichSignature(sig, new UnsignedProperties(usp));\r\n\r\n        outputDocument(doc, &quot;document.verified.c.xl.a.xml&quot;);\r\n    }\r\n\r\nComparing this code to my code, it looks like the problem is that there should be a TimeStampTokenProvider supplied for the XadesFormatExtenderProfile, like in:\r\n\r\n    XadesSignatureFormatExtender formExt = new XadesFormatExtenderProfile()\r\n            .with(new HttpTimeStampTokenProvider(new DefaultMessageDigestProvider(), new HttpTsaConfiguration(&quot;http://freetsa.org/tsr&quot;)))\r\n            .getFormatExtender();\r\n\r\nor:\r\n\r\n    XadesSignatureFormatExtender formExt = new XadesFormatExtenderProfile()\r\n            .withTimeStampTokenProvider(new HttpTimeStampTokenProvider(new DefaultMessageDigestProvider(), new HttpTsaConfiguration(&quot;http://freetsa.org/tsr&quot;)))\r\n            .getFormatExtender();\r\n\r\nIn theory, this is needed because every enrichment of XAdES format requires an additional property related to timestamp: \r\n\r\n - XAdES-C form has property xades:SignatureTimeStamp\r\n - XAdES-XL form has property xades:SigAndRefsTimeStamp\r\n - XAdES-A form has property xades141:ArchiveTimeStampV2\r\n\r\nI thought it would be sufficient to have timestamp applied only once (in XAdES-C), and then the other forms (XAdES-XL and XAdES-A) would afterwards just copy that info into their respective properties; however it proved that this is not the case. ","title":"XAdES4j - Error &quot;HttpTsaConfiguration must be configured in the profile in order to use an HTTP-based time-stamp token provider&quot; when singing XAdES-XL","body":"<p>After some more hours/days of exploring, I think I've found the reason for this behavior.</p>\n<p>Sample code for signing XAdES-XL after XAdES-C (i.e. for enriching the signature) exists in class <strong>xades4j.verification.XadesVerifierImplTest</strong>, in the following method:</p>\n<pre><code>@Test\npublic void testVerifyCEnrichXL() throws Exception\n{\n    System.out.println(&quot;verifyCEnrichXL&quot;);\n\n    Document doc = getDocument(&quot;document.signed.c.xml&quot;);\n    Element signatureNode = getSigElement(doc);\n\n    XadesSignatureFormatExtender formExt = new XadesFormatExtenderProfile().with(DEFAULT_TEST_TSA).getFormatExtender();\n    XAdESVerificationResult res = nistVerificationProfile.newVerifier().verify(signatureNode, null, formExt, XAdESForm.X_L);\n\n    assertEquals(XAdESForm.C, res.getSignatureForm());\n    assertPropElementPresent(signatureNode, SigAndRefsTimeStampProperty.PROP_NAME);\n    assertPropElementPresent(signatureNode, CertificateValuesProperty.PROP_NAME);\n    assertPropElementPresent(signatureNode, RevocationValuesProperty.PROP_NAME);\n\n    outputDocument(doc, &quot;document.verified.c.xl.xml&quot;);\n}\n</code></pre>\n<p>The same case would be for signing XAdES-A after XAdES-XL, as shown in class <strong>xades4j.production.XadesSignatureFormatExtenderImplTest</strong>, in the following method:</p>\n<pre><code>@Test\npublic void testEnrichSignatureWithA() throws Exception\n{\n    System.out.println(&quot;enrichSignatureWithA&quot;);\n\n    Document doc = getDocument(&quot;document.verified.c.xl.xml&quot;);\n    Element signatureNode = (Element)doc.getElementsByTagNameNS(Constants.SignatureSpecNS, &quot;Signature&quot;).item(0);\n\n    XadesSignatureFormatExtender instance = new XadesFormatExtenderProfile().with(DEFAULT_TEST_TSA).getFormatExtender();\n\n    XMLSignature sig = new XMLSignature(signatureNode, &quot;&quot;);\n    Collection&lt;UnsignedSignatureProperty&gt; usp = new ArrayList&lt;UnsignedSignatureProperty&gt;(1);\n    usp.add(new ArchiveTimeStampProperty());\n\n    instance.enrichSignature(sig, new UnsignedProperties(usp));\n\n    outputDocument(doc, &quot;document.verified.c.xl.a.xml&quot;);\n}\n</code></pre>\n<p>Comparing this code to my code, it looks like the problem is that there should be a TimeStampTokenProvider supplied for the XadesFormatExtenderProfile, like in:</p>\n<pre><code>XadesSignatureFormatExtender formExt = new XadesFormatExtenderProfile()\n        .with(new HttpTimeStampTokenProvider(new DefaultMessageDigestProvider(), new HttpTsaConfiguration(&quot;http://freetsa.org/tsr&quot;)))\n        .getFormatExtender();\n</code></pre>\n<p>or:</p>\n<pre><code>XadesSignatureFormatExtender formExt = new XadesFormatExtenderProfile()\n        .withTimeStampTokenProvider(new HttpTimeStampTokenProvider(new DefaultMessageDigestProvider(), new HttpTsaConfiguration(&quot;http://freetsa.org/tsr&quot;)))\n        .getFormatExtender();\n</code></pre>\n<p>In theory, this is needed because every enrichment of XAdES format requires an additional property related to timestamp:</p>\n<ul>\n<li>XAdES-C form has property xades:SignatureTimeStamp</li>\n<li>XAdES-XL form has property xades:SigAndRefsTimeStamp</li>\n<li>XAdES-A form has property xades141:ArchiveTimeStampV2</li>\n</ul>\n<p>I thought it would be sufficient to have timestamp applied only once (in XAdES-C), and then the other forms (XAdES-XL and XAdES-A) would afterwards just copy that info into their respective properties; however it proved that this is not the case.</p>\n"},{"comments":[{"owner":{"account_id":6396943,"reputation":392,"user_id":4960976,"display_name":"predrags"},"score":0,"creation_date":1675247022,"post_id":75274566,"comment_id":132885729,"body_markdown":"Thank you for prompt response, @lgoncalves. My actual code is a bit more complex, since I&#39;m actually using custom TimeStampTokenProvider, which gets timestamp token from a TSP gateway, instead of standard TSA server. That&#39;s why I used registering TimeStampTokenProvider, instead of only HttpTsaConfiguration.","body":"Thank you for prompt response, @lgoncalves. My actual code is a bit more complex, since I&#39;m actually using custom TimeStampTokenProvider, which gets timestamp token from a TSP gateway, instead of standard TSA server. That&#39;s why I used registering TimeStampTokenProvider, instead of only HttpTsaConfiguration."},{"owner":{"account_id":1765998,"reputation":2065,"user_id":1611874,"display_name":"lgoncalves"},"score":0,"creation_date":1675272604,"post_id":75274566,"comment_id":132894579,"body_markdown":"Ah, ok. My answer was based on the code you shared, which was using HttpTimeStampTokenProvider and  HttpTsaConfiguration. If you register a different implementation of a TimeStampTokenProvider, then HttpTsaConfiguration shouldn&#39;t be required.","body":"Ah, ok. My answer was based on the code you shared, which was using HttpTimeStampTokenProvider and  HttpTsaConfiguration. If you register a different implementation of a TimeStampTokenProvider, then HttpTsaConfiguration shouldn&#39;t be required."}],"tags":[],"owner":{"account_id":1765998,"reputation":2065,"user_id":1611874,"display_name":"lgoncalves"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674992206,"creation_date":1674992206,"answer_id":75274566,"question_id":75213538,"body_markdown":"As you mentioned in your response, extending a signature to one of those formats requires adding new timestamp properties. As such, xades4j needs to know how to obtain those timestamps.\r\n\r\nBy default, xades4j includes a `TimeStampTokenProvider` that knows how to get timestamps via HTTP. You only need to configure `HttpTsaConfiguration` in the profiles (both for production and extending). This is documented here: https://github.com/luisgoncalves/xades4j/wiki/Timestamping.\r\n\r\nSo, in your code you don&#39;t need to register `HttpTimeStampTokenProvider`, only `HttpTsaConfiguration`. Note that this is what the tests (example code) do:\r\n\r\n    new XadesFormatExtenderProfile().with(DEFAULT_TEST_TSA)...\r\n\r\nThe same applies to the configuration of `XadesCSigningProfile`.","title":"XAdES4j - Error &quot;HttpTsaConfiguration must be configured in the profile in order to use an HTTP-based time-stamp token provider&quot; when singing XAdES-XL","body":"<p>As you mentioned in your response, extending a signature to one of those formats requires adding new timestamp properties. As such, xades4j needs to know how to obtain those timestamps.</p>\n<p>By default, xades4j includes a <code>TimeStampTokenProvider</code> that knows how to get timestamps via HTTP. You only need to configure <code>HttpTsaConfiguration</code> in the profiles (both for production and extending). This is documented here: <a href=\"https://github.com/luisgoncalves/xades4j/wiki/Timestamping\" rel=\"nofollow noreferrer\">https://github.com/luisgoncalves/xades4j/wiki/Timestamping</a>.</p>\n<p>So, in your code you don't need to register <code>HttpTimeStampTokenProvider</code>, only <code>HttpTsaConfiguration</code>. Note that this is what the tests (example code) do:</p>\n<pre><code>new XadesFormatExtenderProfile().with(DEFAULT_TEST_TSA)...\n</code></pre>\n<p>The same applies to the configuration of <code>XadesCSigningProfile</code>.</p>\n"}],"owner":{"account_id":6396943,"reputation":392,"user_id":4960976,"display_name":"predrags"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75235135,"answer_count":2,"score":0,"last_activity_date":1674992206,"creation_date":1674498302,"question_id":75213538,"body_markdown":"I&#39;m using XAdES4j 2.2.0 for signing XML documents.\r\nPreviously I&#39;ve used version 1.5.1, and adapted that code to use the new version.\r\n\r\nWhile XADES-BES, XADES-T and XADES-C work flawlessly, there is a problem with XADES-XL (applied after XADES-C), i.e. an exception is caught:\r\n**HttpTsaConfiguration must be configured in the profile in order to use an HTTP-based time-stamp token provider**\r\n\r\nMy code looks like:\r\n\r\n```\r\n// Certificate for signing is stored in PKCS12 keystore in file.\r\nKeyingDataProvider keyingDataProvider = FileSystemKeyStoreKeyingDataProvider\r\n\t\t.builder(&quot;PKCS12&quot;, sKeyStorePath, new SigningCertificateSelector.single())\r\n\t\t.storePassword(new DirectPasswordProvider(sKeyStorePassword))\r\n\t\t.entryPassword(new DirectPasswordProvider(sKeyStorePassword))\r\n\t\t.fullChain(true)\r\n\t\t.build();\r\n\r\n// KeyStore and CertStore for validating signatures and timestamps.\r\nCertificateValidationProvider validationProvider = PKIXCertificateValidationProvider\r\n\t\t.builder(keyStore)\r\n\t\t.checkRevocation(true)\r\n\t\t.intermediateCertStores(certStore)\r\n\t\t.build();\r\n\r\n// Read document from file on disk.\r\nDocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\ndbf.setNamespaceAware(true);\r\nDocumentBuilder db = dbf.newDocumentBuilder();\r\ndoc = db.parse(new File(sFilePath));\r\n\r\n// Sign document with XAdES-C.\r\nsignDocumentC(keyingDataProvider, doc, validationProvider);\r\n// Sign document with XAdES-XL afterwards.\r\nsignDocumentXL(keyingDataProvider, doc, validationProvider);\r\n\r\n...\r\n\r\n/** Method for signing with XAdES-C. */\r\nprivate void signDocumentC(KeyingDataProvider keyingDataProvider, Document doc, CertificateValidationProvider validationProvider) throws Exception\r\n{\r\n\tElement elemToSign = doc.getDocumentElement();\r\n\tDOMHelper.useIdAsXmlId(elemToSign);\r\n\r\n\tValidationDataProvider vdp = new ValidationDataFromCertValidationProvider(validationProvider);\r\n\tXadesSigner signer = new XadesCSigningProfile(keyingDataProvider, vdp)\r\n\t\t.with(new HttpTimeStampTokenProvider(new DefaultMessageDigestProvider(), new HttpTsaConfiguration(&quot;http://freetsa.org/tsr&quot;)))\r\n\t\t.newSigner();\r\n\r\n\t// Skip check for countersigning, just sign.\r\n\tnew Enveloped(signer).sign(elemToSign);\r\n}\r\n\r\n/** Method for signing with XAdES-XL. */\r\nprivate void signDocumentXL(KeyingDataProvider keyingProvider, Document doc, CertificateValidationProvider validationProvider) throws Exception\r\n{\r\n\tElement elemToSign = doc.getDocumentElement();\r\n\tDOMHelper.useIdAsXmlId(elemToSign);\r\n\r\n\tNodeList signatures = doc.getElementsByTagNameNS(Constants.SignatureSpecNS, Constants._TAG_SIGNATURE);\r\n\tElement signatureNode = (Element)signatures.item(signatures.getLength() - 1);\r\n\r\n\tXadesVerificationProfile nistVerificationProfile = new XadesVerificationProfile(validationProvider);\r\n\r\n\tXadesSignatureFormatExtender formExt = new XadesFormatExtenderProfile().getFormatExtender();\r\n\tXAdESVerificationResult res = nistVerificationProfile.newVerifier().verify(signatureNode, null, formExt, XAdESForm.X_L);\r\n}\r\n```\r\n\r\nHowever, there is always an exception thrown at the last line (`nistVerificationProfile.newVerifier().verify(...)`), that looks like:\r\n\r\n```\r\n[2023-01-23 18:22:29] INFO: [] ESignatureXML.signDocumentXL: Signing xml document XAdES-XL...\r\nxades4j.production.PropertyDataGeneratorNotAvailableException: Property data generation failed for SigAndRefsTimeStamp: data object generator cannot be created\r\n\tat xades4j.production.PropertyDataGeneratorsMapperImpl.getGenerator(PropertyDataGeneratorsMapperImpl.java:51)\r\n\tat xades4j.production.PropertiesDataObjectsGeneratorImpl.doGenPropsData(PropertiesDataObjectsGeneratorImpl.java:87)\r\n\tat xades4j.production.PropertiesDataObjectsGeneratorImpl.genPropsData(PropertiesDataObjectsGeneratorImpl.java:73)\r\n\tat xades4j.production.PropertiesDataObjectsGeneratorImpl.generateUnsignedPropertiesData(PropertiesDataObjectsGeneratorImpl.java:64)\r\n\tat xades4j.production.XadesSignatureFormatExtenderImpl.enrichSignature(XadesSignatureFormatExtenderImpl.java:79)\r\n\tat xades4j.verification.XadesVerifierImpl.verify(XadesVerifierImpl.java:497)\r\n\tat com.my.ESignatureXML.signDocumentXL(ESignatureXML.java:709)\r\n\tat com.my.ESignatureXML.signDocument(ESignatureXML.java:482)\r\n\tat com.my.ESignatureXML.performSigning(ESignatureXML.java:236)\r\n\tat com.my.ESignatureXML.sign(ESignatureXML.java:187)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n...\r\n\tat java.base/java.lang.Thread.run(Thread.java:835)\r\nCaused by: com.google.inject.ProvisionException: Unable to provision, see the following errors:\r\n\r\n1) [Guice/ErrorInCustomProvider]: IllegalStateException: HttpTsaConfiguration must be configured in the profile in order to use an HTTP-based time-stamp token provider.\r\n  at DefaultProductionBindingsModule.configure(DefaultProductionBindingsModule.java:80)\r\n      \\_ installed by: Modules$OverrideModule -&gt; DefaultProductionBindingsModule\r\n  at HttpTimeStampTokenProvider.&lt;init&gt;(HttpTimeStampTokenProvider.java:44)\r\n      \\_ for 2nd parameter\r\n  while locating HttpTimeStampTokenProvider\r\n  at DataGenSigAndRefsTimeStamp.&lt;init&gt;(DataGenSigAndRefsTimeStamp.java:51)\r\n      \\_ for 2nd parameter\r\n  while locating DataGenSigAndRefsTimeStamp\r\n  while locating PropertyDataObjectGenerator&lt;SigAndRefsTimeStampProperty&gt;\r\n\r\nLearn more:\r\n  https://github.com/google/guice/wiki/ERROR_IN_CUSTOM_PROVIDER\r\n\r\n1 error\r\n\r\n======================\r\nFull classname legend:\r\n======================\r\nDataGenSigAndRefsTimeStamp:      &quot;xades4j.production.DataGenSigAndRefsTimeStamp&quot;\r\nDefaultProductionBindingsModule: &quot;xades4j.production.DefaultProductionBindingsModule&quot;\r\nHttpTimeStampTokenProvider:      &quot;xades4j.providers.impl.HttpTimeStampTokenProvider&quot;\r\nModules$OverrideModule:          &quot;com.google.inject.util.Modules$OverrideModule&quot;\r\nPropertyDataObjectGenerator:     &quot;xades4j.production.PropertyDataObjectGenerator&quot;\r\nSigAndRefsTimeStampProperty:     &quot;xades4j.properties.SigAndRefsTimeStampProperty&quot;\r\n========================\r\nEnd of classname legend:\r\n========================\r\n\r\n\tat com.google.inject.internal.InternalProvisionException.toProvisionException(InternalProvisionException.java:251)\r\n\tat com.google.inject.internal.InjectorImpl$1.get(InjectorImpl.java:1104)\r\n\tat com.google.inject.internal.InjectorImpl.getInstance(InjectorImpl.java:1134)\r\n\tat xades4j.production.PropertyDataGeneratorsMapperImpl.getGenerator(PropertyDataGeneratorsMapperImpl.java:48)\r\n\t... 58 more\r\nCaused by: java.lang.IllegalStateException: HttpTsaConfiguration must be configured in the profile in order to use an HTTP-based time-stamp token provider.\r\n\tat xades4j.production.DefaultProductionBindingsModule.lambda$configure$0(DefaultProductionBindingsModule.java:81)\r\n\tat com.google.inject.internal.ProviderInternalFactory.provision(ProviderInternalFactory.java:86)\r\n\tat com.google.inject.internal.InternalFactoryToInitializableAdapter.provision(InternalFactoryToInitializableAdapter.java:57)\r\n\tat com.google.inject.internal.ProviderInternalFactory.circularGet(ProviderInternalFactory.java:60)\r\n\tat com.google.inject.internal.InternalFactoryToInitializableAdapter.get(InternalFactoryToInitializableAdapter.java:47)\r\n\tat com.google.inject.internal.SingleParameterInjector.inject(SingleParameterInjector.java:40)\r\n\tat com.google.inject.internal.SingleParameterInjector.getAll(SingleParameterInjector.java:60)\r\n\tat com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:113)\r\n\tat com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:91)\r\n\tat com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:300)\r\n\tat com.google.inject.internal.FactoryProxy.get(FactoryProxy.java:60)\r\n\tat com.google.inject.internal.SingleParameterInjector.inject(SingleParameterInjector.java:40)\r\n\tat com.google.inject.internal.SingleParameterInjector.getAll(SingleParameterInjector.java:60)\r\n\tat com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:113)\r\n\tat com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:91)\r\n\tat com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:300)\r\n\tat com.google.inject.internal.FactoryProxy.get(FactoryProxy.java:60)\r\n\tat com.google.inject.internal.InjectorImpl$1.get(InjectorImpl.java:1101)\r\n\t... 60 more\r\n```\r\n\r\nI have detected that in class PropertiesDataObjectsGeneratorImpl, in method doGenPropsData, while traversing the properties of the signature, one property, xades4j.properties.SigAndRefsTimeStampProperty, has value \r\ntime = null, and the exception is actually thrown while trying to add this property to a collection of signature properties to be used in further validation.\r\n\r\nThis happens only when signing XAdES-XL, while there is no exception in this method with other forms (i.e. XAdES-T and XAdES-C, where also timestamp details could be seen in the resulting XML file).\r\n\r\nHow to overcome this issue? Am I missing something in declaring signer, validation provider, verification profile...?\r\n","title":"XAdES4j - Error &quot;HttpTsaConfiguration must be configured in the profile in order to use an HTTP-based time-stamp token provider&quot; when singing XAdES-XL","body":"<p>I'm using XAdES4j 2.2.0 for signing XML documents.\nPreviously I've used version 1.5.1, and adapted that code to use the new version.</p>\n<p>While XADES-BES, XADES-T and XADES-C work flawlessly, there is a problem with XADES-XL (applied after XADES-C), i.e. an exception is caught:\n<strong>HttpTsaConfiguration must be configured in the profile in order to use an HTTP-based time-stamp token provider</strong></p>\n<p>My code looks like:</p>\n<pre><code>// Certificate for signing is stored in PKCS12 keystore in file.\nKeyingDataProvider keyingDataProvider = FileSystemKeyStoreKeyingDataProvider\n        .builder(&quot;PKCS12&quot;, sKeyStorePath, new SigningCertificateSelector.single())\n        .storePassword(new DirectPasswordProvider(sKeyStorePassword))\n        .entryPassword(new DirectPasswordProvider(sKeyStorePassword))\n        .fullChain(true)\n        .build();\n\n// KeyStore and CertStore for validating signatures and timestamps.\nCertificateValidationProvider validationProvider = PKIXCertificateValidationProvider\n        .builder(keyStore)\n        .checkRevocation(true)\n        .intermediateCertStores(certStore)\n        .build();\n\n// Read document from file on disk.\nDocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\ndbf.setNamespaceAware(true);\nDocumentBuilder db = dbf.newDocumentBuilder();\ndoc = db.parse(new File(sFilePath));\n\n// Sign document with XAdES-C.\nsignDocumentC(keyingDataProvider, doc, validationProvider);\n// Sign document with XAdES-XL afterwards.\nsignDocumentXL(keyingDataProvider, doc, validationProvider);\n\n...\n\n/** Method for signing with XAdES-C. */\nprivate void signDocumentC(KeyingDataProvider keyingDataProvider, Document doc, CertificateValidationProvider validationProvider) throws Exception\n{\n    Element elemToSign = doc.getDocumentElement();\n    DOMHelper.useIdAsXmlId(elemToSign);\n\n    ValidationDataProvider vdp = new ValidationDataFromCertValidationProvider(validationProvider);\n    XadesSigner signer = new XadesCSigningProfile(keyingDataProvider, vdp)\n        .with(new HttpTimeStampTokenProvider(new DefaultMessageDigestProvider(), new HttpTsaConfiguration(&quot;http://freetsa.org/tsr&quot;)))\n        .newSigner();\n\n    // Skip check for countersigning, just sign.\n    new Enveloped(signer).sign(elemToSign);\n}\n\n/** Method for signing with XAdES-XL. */\nprivate void signDocumentXL(KeyingDataProvider keyingProvider, Document doc, CertificateValidationProvider validationProvider) throws Exception\n{\n    Element elemToSign = doc.getDocumentElement();\n    DOMHelper.useIdAsXmlId(elemToSign);\n\n    NodeList signatures = doc.getElementsByTagNameNS(Constants.SignatureSpecNS, Constants._TAG_SIGNATURE);\n    Element signatureNode = (Element)signatures.item(signatures.getLength() - 1);\n\n    XadesVerificationProfile nistVerificationProfile = new XadesVerificationProfile(validationProvider);\n\n    XadesSignatureFormatExtender formExt = new XadesFormatExtenderProfile().getFormatExtender();\n    XAdESVerificationResult res = nistVerificationProfile.newVerifier().verify(signatureNode, null, formExt, XAdESForm.X_L);\n}\n</code></pre>\n<p>However, there is always an exception thrown at the last line (<code>nistVerificationProfile.newVerifier().verify(...)</code>), that looks like:</p>\n<pre><code>[2023-01-23 18:22:29] INFO: [] ESignatureXML.signDocumentXL: Signing xml document XAdES-XL...\nxades4j.production.PropertyDataGeneratorNotAvailableException: Property data generation failed for SigAndRefsTimeStamp: data object generator cannot be created\n    at xades4j.production.PropertyDataGeneratorsMapperImpl.getGenerator(PropertyDataGeneratorsMapperImpl.java:51)\n    at xades4j.production.PropertiesDataObjectsGeneratorImpl.doGenPropsData(PropertiesDataObjectsGeneratorImpl.java:87)\n    at xades4j.production.PropertiesDataObjectsGeneratorImpl.genPropsData(PropertiesDataObjectsGeneratorImpl.java:73)\n    at xades4j.production.PropertiesDataObjectsGeneratorImpl.generateUnsignedPropertiesData(PropertiesDataObjectsGeneratorImpl.java:64)\n    at xades4j.production.XadesSignatureFormatExtenderImpl.enrichSignature(XadesSignatureFormatExtenderImpl.java:79)\n    at xades4j.verification.XadesVerifierImpl.verify(XadesVerifierImpl.java:497)\n    at com.my.ESignatureXML.signDocumentXL(ESignatureXML.java:709)\n    at com.my.ESignatureXML.signDocument(ESignatureXML.java:482)\n    at com.my.ESignatureXML.performSigning(ESignatureXML.java:236)\n    at com.my.ESignatureXML.sign(ESignatureXML.java:187)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n...\n    at java.base/java.lang.Thread.run(Thread.java:835)\nCaused by: com.google.inject.ProvisionException: Unable to provision, see the following errors:\n\n1) [Guice/ErrorInCustomProvider]: IllegalStateException: HttpTsaConfiguration must be configured in the profile in order to use an HTTP-based time-stamp token provider.\n  at DefaultProductionBindingsModule.configure(DefaultProductionBindingsModule.java:80)\n      \\_ installed by: Modules$OverrideModule -&gt; DefaultProductionBindingsModule\n  at HttpTimeStampTokenProvider.&lt;init&gt;(HttpTimeStampTokenProvider.java:44)\n      \\_ for 2nd parameter\n  while locating HttpTimeStampTokenProvider\n  at DataGenSigAndRefsTimeStamp.&lt;init&gt;(DataGenSigAndRefsTimeStamp.java:51)\n      \\_ for 2nd parameter\n  while locating DataGenSigAndRefsTimeStamp\n  while locating PropertyDataObjectGenerator&lt;SigAndRefsTimeStampProperty&gt;\n\nLearn more:\n  https://github.com/google/guice/wiki/ERROR_IN_CUSTOM_PROVIDER\n\n1 error\n\n======================\nFull classname legend:\n======================\nDataGenSigAndRefsTimeStamp:      &quot;xades4j.production.DataGenSigAndRefsTimeStamp&quot;\nDefaultProductionBindingsModule: &quot;xades4j.production.DefaultProductionBindingsModule&quot;\nHttpTimeStampTokenProvider:      &quot;xades4j.providers.impl.HttpTimeStampTokenProvider&quot;\nModules$OverrideModule:          &quot;com.google.inject.util.Modules$OverrideModule&quot;\nPropertyDataObjectGenerator:     &quot;xades4j.production.PropertyDataObjectGenerator&quot;\nSigAndRefsTimeStampProperty:     &quot;xades4j.properties.SigAndRefsTimeStampProperty&quot;\n========================\nEnd of classname legend:\n========================\n\n    at com.google.inject.internal.InternalProvisionException.toProvisionException(InternalProvisionException.java:251)\n    at com.google.inject.internal.InjectorImpl$1.get(InjectorImpl.java:1104)\n    at com.google.inject.internal.InjectorImpl.getInstance(InjectorImpl.java:1134)\n    at xades4j.production.PropertyDataGeneratorsMapperImpl.getGenerator(PropertyDataGeneratorsMapperImpl.java:48)\n    ... 58 more\nCaused by: java.lang.IllegalStateException: HttpTsaConfiguration must be configured in the profile in order to use an HTTP-based time-stamp token provider.\n    at xades4j.production.DefaultProductionBindingsModule.lambda$configure$0(DefaultProductionBindingsModule.java:81)\n    at com.google.inject.internal.ProviderInternalFactory.provision(ProviderInternalFactory.java:86)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision(InternalFactoryToInitializableAdapter.java:57)\n    at com.google.inject.internal.ProviderInternalFactory.circularGet(ProviderInternalFactory.java:60)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.get(InternalFactoryToInitializableAdapter.java:47)\n    at com.google.inject.internal.SingleParameterInjector.inject(SingleParameterInjector.java:40)\n    at com.google.inject.internal.SingleParameterInjector.getAll(SingleParameterInjector.java:60)\n    at com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:113)\n    at com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:91)\n    at com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:300)\n    at com.google.inject.internal.FactoryProxy.get(FactoryProxy.java:60)\n    at com.google.inject.internal.SingleParameterInjector.inject(SingleParameterInjector.java:40)\n    at com.google.inject.internal.SingleParameterInjector.getAll(SingleParameterInjector.java:60)\n    at com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:113)\n    at com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:91)\n    at com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:300)\n    at com.google.inject.internal.FactoryProxy.get(FactoryProxy.java:60)\n    at com.google.inject.internal.InjectorImpl$1.get(InjectorImpl.java:1101)\n    ... 60 more\n</code></pre>\n<p>I have detected that in class PropertiesDataObjectsGeneratorImpl, in method doGenPropsData, while traversing the properties of the signature, one property, xades4j.properties.SigAndRefsTimeStampProperty, has value\ntime = null, and the exception is actually thrown while trying to add this property to a collection of signature properties to be used in further validation.</p>\n<p>This happens only when signing XAdES-XL, while there is no exception in this method with other forms (i.e. XAdES-T and XAdES-C, where also timestamp details could be seen in the resulting XML file).</p>\n<p>How to overcome this issue? Am I missing something in declaring signer, validation provider, verification profile...?</p>\n"},{"tags":["java","spring-boot","elasticsearch","filter","criteria-api"],"owner":{"account_id":26702643,"reputation":11,"user_id":20309423,"display_name":"Danail Madzharov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674992020,"creation_date":1674991352,"question_id":75274483,"body_markdown":"We are currently developing a Spring boot app, kinda like a listing website with a filter based on around 20-25 columns. The columns don&#39;t contain large text inside, most of them are numbers and some are enums, one is a list of strings which is persisted in another extra table with ID of the other row and the string.\r\n\r\nThe query is basically number &gt; and &lt; checks &amp;&amp; string equality\r\n\r\nThe table from which the filter searches is expected to have around 100-150 thousand rows one at a time, because we delete old records when not needed.\r\n\r\nWe are using MYSQL for database.\r\n\r\nOur current implementation is using CRITERIA API, but we still haven&#39;t done a performance test to see if it works good enough or not with a lot of records.\r\n\r\nSince later it will be hard to change everything to elastic search, I wanted to see peoples opinion if we should change the implementation to elastic search.","title":"ElasticSearch or Criteria API for a listing website","body":"<p>We are currently developing a Spring boot app, kinda like a listing website with a filter based on around 20-25 columns. The columns don't contain large text inside, most of them are numbers and some are enums, one is a list of strings which is persisted in another extra table with ID of the other row and the string.</p>\n<p>The query is basically number &gt; and &lt; checks &amp;&amp; string equality</p>\n<p>The table from which the filter searches is expected to have around 100-150 thousand rows one at a time, because we delete old records when not needed.</p>\n<p>We are using MYSQL for database.</p>\n<p>Our current implementation is using CRITERIA API, but we still haven't done a performance test to see if it works good enough or not with a lot of records.</p>\n<p>Since later it will be hard to change everything to elastic search, I wanted to see peoples opinion if we should change the implementation to elastic search.</p>\n"},{"tags":["java","junit","constructor","mockito"],"comments":[{"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"score":0,"creation_date":1506453837,"post_id":46434282,"comment_id":79825862,"body_markdown":"Can you share your test&#39;s code, or at least the relevant parts of it?","body":"Can you share your test&#39;s code, or at least the relevant parts of it?"},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1506453854,"post_id":46434282,"comment_id":79825868,"body_markdown":"What are you trying to achieve? Your class under test doesn&#39;t have any dependency on another object. So there is nothing to mock.","body":"What are you trying to achieve? Your class under test doesn&#39;t have any dependency on another object. So there is nothing to mock."},{"owner":{"account_id":3475140,"reputation":2491,"user_id":3019956,"accept_rate":33,"display_name":"want2learn"},"score":0,"creation_date":1506456937,"post_id":46434282,"comment_id":79827346,"body_markdown":"you don&#39;t always have to use mockito. For your case why you need to mock anything. use simple junit test.","body":"you don&#39;t always have to use mockito. For your case why you need to mock anything. use simple junit test."},{"owner":{"account_id":6120309,"reputation":3055,"user_id":4774054,"accept_rate":0,"display_name":"Frank Neblung"},"score":0,"creation_date":1506497087,"post_id":46434282,"comment_id":79842294,"body_markdown":"Since you are writing tests, you probably aim for writing testable code. If so, you should avoid constructors doing more then merely assigning parameters to fields. See [here](http://misko.hevery.com/code-reviewers-guide/flaw-constructor-does-real-work/) for an excellent argumentation on this topic.","body":"Since you are writing tests, you probably aim for writing testable code. If so, you should avoid constructors doing more then merely assigning parameters to fields. See <a href=\"http://misko.hevery.com/code-reviewers-guide/flaw-constructor-does-real-work/\" rel=\"nofollow noreferrer\">here</a> for an excellent argumentation on this topic."}],"answers":[{"tags":[],"owner":{"account_id":9729040,"reputation":2257,"user_id":7214815,"display_name":"Dmytro Maslenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1506454128,"creation_date":1506454128,"answer_id":46434393,"question_id":46434282,"body_markdown":"Not clear why you need the `Mockito` here. This is a solution without `Mockito`.\r\n\r\nIn your test create an instance of `MyClass` with overridden `draw()` method:\r\n\r\n    final MyClass myClass = new MyClass() {\r\n        @Override\r\n        public String draw() {\r\n            return &quot;mock data&quot;;\r\n        }\r\n    }\r\n\r\n    // Now test your class as you want","title":"Mock a method inside a constructor of a class","body":"<p>Not clear why you need the <code>Mockito</code> here. This is a solution without <code>Mockito</code>.</p>\n\n<p>In your test create an instance of <code>MyClass</code> with overridden <code>draw()</code> method:</p>\n\n<pre><code>final MyClass myClass = new MyClass() {\n    @Override\n    public String draw() {\n        return \"mock data\";\n    }\n}\n\n// Now test your class as you want\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7220692,"reputation":723,"user_id":5511336,"display_name":"KumarAnkit"},"score":0,"creation_date":1547821883,"post_id":46434999,"comment_id":95335911,"body_markdown":"Then again you are mocking the ClassUnderTest","body":"Then again you are mocking the ClassUnderTest"}],"tags":[],"owner":{"account_id":10899779,"reputation":7224,"user_id":8012379,"display_name":"Indra Basak"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1506457341,"creation_date":1506456674,"answer_id":46434999,"question_id":46434282,"body_markdown":"One way to test your class with **Mockito** will be, \r\n\r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n    import org.mockito.Mock;\r\n    import org.mockito.MockitoAnnotations;\r\n    \r\n    import static org.junit.Assert.assertEquals;\r\n    import static org.mockito.Mockito.when;\r\n    \r\n    public class TestMyClass {\r\n    \r\n        @Mock\r\n        private MyClass clazz;\r\n    \r\n        @Before\r\n        public void setUp() {\r\n            MockitoAnnotations.initMocks(this);\r\n        }\r\n    \r\n        @Test\r\n        public void testDraw() {\r\n            when(clazz.draw()).thenReturn(&quot;My mock hello&quot;);\r\n            assertEquals(&quot;My mock hello&quot;, clazz.draw());\r\n        }\r\n    }","title":"Mock a method inside a constructor of a class","body":"<p>One way to test your class with <strong>Mockito</strong> will be, </p>\n\n<pre><code>import org.junit.Before;\nimport org.junit.Test;\nimport org.mockito.Mock;\nimport org.mockito.MockitoAnnotations;\n\nimport static org.junit.Assert.assertEquals;\nimport static org.mockito.Mockito.when;\n\npublic class TestMyClass {\n\n    @Mock\n    private MyClass clazz;\n\n    @Before\n    public void setUp() {\n        MockitoAnnotations.initMocks(this);\n    }\n\n    @Test\n    public void testDraw() {\n        when(clazz.draw()).thenReturn(\"My mock hello\");\n        assertEquals(\"My mock hello\", clazz.draw());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1506498332,"creation_date":1506497094,"answer_id":46441824,"question_id":46434282,"body_markdown":"You could turn to do *partial mocking* using spies (see [here][1] for how to do that).\r\n\r\nBut as usual: when people start thinking about complex ways to use mocking framework, the **real** answer is: step back and improve your production code. Your constructor should do *only* simple initialisation things. \r\n\r\nIn your case, one reasonable approach would be: don&#39;t call an internal method to compute the value of that field - but **pass** that value to the constructor (in other words - use dependency injection).\r\n\r\nAnd you could still do something like:\r\n\r\n    public MyClass(int a) {\r\n      this(a, draw());\r\n    }\r\n\r\n    MyClass(int a, String b) { \r\n      this.a = a; ...\r\n\r\nNow your unit tests can happily use that ctor that takes *two* arguments - and your need to **mock** anything vanishes completely.\r\n\r\n  [1]: https://stackoverflow.com/questions/14970516/use-mockito-to-mock-some-methods-but-not-others","title":"Mock a method inside a constructor of a class","body":"<p>You could turn to do <em>partial mocking</em> using spies (see <a href=\"https://stackoverflow.com/questions/14970516/use-mockito-to-mock-some-methods-but-not-others\">here</a> for how to do that).</p>\n\n<p>But as usual: when people start thinking about complex ways to use mocking framework, the <strong>real</strong> answer is: step back and improve your production code. Your constructor should do <em>only</em> simple initialisation things. </p>\n\n<p>In your case, one reasonable approach would be: don't call an internal method to compute the value of that field - but <strong>pass</strong> that value to the constructor (in other words - use dependency injection).</p>\n\n<p>And you could still do something like:</p>\n\n<pre><code>public MyClass(int a) {\n  this(a, draw());\n}\n\nMyClass(int a, String b) { \n  this.a = a; ...\n</code></pre>\n\n<p>Now your unit tests can happily use that ctor that takes <em>two</em> arguments - and your need to <strong>mock</strong> anything vanishes completely.</p>\n"},{"tags":[],"owner":{"account_id":295514,"reputation":2157,"user_id":599971,"accept_rate":55,"display_name":"ejaenv"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674991317,"creation_date":1674990528,"answer_id":75274393,"question_id":46434282,"body_markdown":"Complementing the solutions given, the constructor can also receive the method to mock as a function.\r\n\r\n    import java.util.function.Supplier;\r\n        \r\n    public class MyClass {\r\n        int a;\r\n        String b;\r\n\r\n        public MyClass(int a, Supplier&lt;String&gt; draw) {\r\n            this.a = a;\r\n            this.b = draw==null? draw() : draw.get();\r\n            System.out.println(&quot;class is created&quot;);\r\n         }\r\n            \r\n        public String draw() {\r\n            System.out.println(&quot;my&quot;);\r\n            return &quot;b&quot;;\r\n        }\r\n            \r\n        public void apple() {\r\n             System.out.println(&quot;apple&quot;);\r\n         }\r\n    }","title":"Mock a method inside a constructor of a class","body":"<p>Complementing the solutions given, the constructor can also receive the method to mock as a function.</p>\n<pre><code>import java.util.function.Supplier;\n    \npublic class MyClass {\n    int a;\n    String b;\n\n    public MyClass(int a, Supplier&lt;String&gt; draw) {\n        this.a = a;\n        this.b = draw==null? draw() : draw.get();\n        System.out.println(&quot;class is created&quot;);\n     }\n        \n    public String draw() {\n        System.out.println(&quot;my&quot;);\n        return &quot;b&quot;;\n    }\n        \n    public void apple() {\n         System.out.println(&quot;apple&quot;);\n     }\n}\n</code></pre>\n"}],"owner":{"account_id":6154399,"reputation":77,"user_id":4797840,"accept_rate":0,"display_name":"Tapashi Talukdar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5679,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1674991317,"creation_date":1506453723,"question_id":46434282,"body_markdown":"I am new to mockito. Lets say I have a class like this\r\n\r\n    public class MyClass {\r\n        int a;\r\n        String b;\r\n        public MyClass(int a) {\r\n            this.a = a;\r\n            this.b = draw();\r\n            System.out.println(&quot;class is created&quot;);\r\n        }\r\n    \r\n        public String draw() {\r\n            System.out.println(&quot;my&quot;);\r\n            return &quot;b&quot;;\r\n        }\r\n    \r\n        public void apple() {\r\n            System.out.println(&quot;apple&quot;);\r\n        }\r\n    }\r\n\r\nI am writing a JUnit test using Mockito where I am creating a object of the class by using the constructor. Is it possible to mock the draw() method when I am instating the class?\r\n\r\n","title":"Mock a method inside a constructor of a class","body":"<p>I am new to mockito. Lets say I have a class like this</p>\n\n<pre><code>public class MyClass {\n    int a;\n    String b;\n    public MyClass(int a) {\n        this.a = a;\n        this.b = draw();\n        System.out.println(\"class is created\");\n    }\n\n    public String draw() {\n        System.out.println(\"my\");\n        return \"b\";\n    }\n\n    public void apple() {\n        System.out.println(\"apple\");\n    }\n}\n</code></pre>\n\n<p>I am writing a JUnit test using Mockito where I am creating a object of the class by using the constructor. Is it possible to mock the draw() method when I am instating the class?</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":188416,"reputation":10894,"user_id":427155,"accept_rate":85,"display_name":"H2ONaCl"},"score":0,"creation_date":1453000267,"post_id":3571231,"comment_id":57410735,"body_markdown":"The `-Xmx` value seems to directly affect the initial `maxMemory()` value however I have seen the reported `maxMemory()` increase by a small amount, perhaps ~1%, while the program is running.","body":"The <code>-Xmx</code> value seems to directly affect the initial <code>maxMemory()</code> value however I have seen the reported <code>maxMemory()</code> increase by a small amount, perhaps ~1%, while the program is running."},{"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"score":2,"creation_date":1461342199,"post_id":3571231,"comment_id":61171844,"body_markdown":"How is this different from `Debug.getNativeHeapFreeSize()`?","body":"How is this different from <code>Debug.getNativeHeapFreeSize()</code>?"},{"owner":{"account_id":1028549,"reputation":10245,"user_id":1037316,"accept_rate":86,"display_name":"G. Demecki"},"score":0,"creation_date":1489749236,"post_id":3571231,"comment_id":72818089,"body_markdown":"@H2ONaCl yes, it might slightly change, because JVM&#39;s `UseAdaptiveSizePolicy` is enabled by default. And BTW: `maxMemory()` = `Xmx` - size of a single survivor space. Why? Because at the same time, only one survivor space can be used.","body":"@H2ONaCl yes, it might slightly change, because JVM&#39;s <code>UseAdaptiveSizePolicy</code> is enabled by default. And BTW: <code>maxMemory()</code> = <code>Xmx</code> - size of a single survivor space. Why? Because at the same time, only one survivor space can be used."}],"tags":[],"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"comment_count":3,"down_vote_count":0,"up_vote_count":216,"is_accepted":true,"score":216,"last_activity_date":1500928109,"creation_date":1282782096,"answer_id":3571231,"question_id":3571203,"body_markdown":"According to the [API][1]\r\n\r\n    totalMemory()\r\n\r\nReturns the total amount of memory in the Java virtual machine. The value returned by this method may vary over time, depending on the host environment.\r\nNote that the amount of memory required to hold an object of any given type may be implementation-dependent.\r\n\r\n    maxMemory()\r\n\r\nReturns the maximum amount of memory that the Java virtual machine will attempt to use. If there is no inherent limit then the value Long.MAX_VALUE will be returned.\r\n\r\n    freeMemory()\r\n\r\nReturns the amount of free memory in the Java Virtual Machine. Calling the gc method may result in increasing the value returned by freeMemory.\r\n\r\nIn reference to your question, `maxMemory()` returns the `-Xmx` value.\r\n\r\nYou may be wondering why there is a **totalMemory()** AND a **maxMemory()**.  The answer is that the JVM allocates memory lazily.  Lets say you start your Java process as such:\r\n\r\n    java -Xms64m -Xmx1024m Foo\r\n\r\nYour process starts with 64mb of memory, and if and when it needs more (up to 1024m), it will allocate memory.  `totalMemory()` corresponds to the amount of memory *currently* available to the JVM for Foo.  If the JVM needs more memory, it will lazily allocate it *up* to the maximum memory.  If you run with `-Xms1024m -Xmx1024m`, the value you get from `totalMemory()` and `maxMemory()` will be equal.\r\n\r\nAlso, if you want to accurately calculate the amount of *used* memory, you do so with the following calculation :\r\n\r\n    final long usedMem = totalMemory() - freeMemory();\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/Runtime.html\r\n","title":"What are Runtime.getRuntime().totalMemory() and freeMemory()?","body":"<p>According to the <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Runtime.html\" rel=\"noreferrer\">API</a></p>\n\n<pre><code>totalMemory()\n</code></pre>\n\n<p>Returns the total amount of memory in the Java virtual machine. The value returned by this method may vary over time, depending on the host environment.\nNote that the amount of memory required to hold an object of any given type may be implementation-dependent.</p>\n\n<pre><code>maxMemory()\n</code></pre>\n\n<p>Returns the maximum amount of memory that the Java virtual machine will attempt to use. If there is no inherent limit then the value Long.MAX_VALUE will be returned.</p>\n\n<pre><code>freeMemory()\n</code></pre>\n\n<p>Returns the amount of free memory in the Java Virtual Machine. Calling the gc method may result in increasing the value returned by freeMemory.</p>\n\n<p>In reference to your question, <code>maxMemory()</code> returns the <code>-Xmx</code> value.</p>\n\n<p>You may be wondering why there is a <strong>totalMemory()</strong> AND a <strong>maxMemory()</strong>.  The answer is that the JVM allocates memory lazily.  Lets say you start your Java process as such:</p>\n\n<pre><code>java -Xms64m -Xmx1024m Foo\n</code></pre>\n\n<p>Your process starts with 64mb of memory, and if and when it needs more (up to 1024m), it will allocate memory.  <code>totalMemory()</code> corresponds to the amount of memory <em>currently</em> available to the JVM for Foo.  If the JVM needs more memory, it will lazily allocate it <em>up</em> to the maximum memory.  If you run with <code>-Xms1024m -Xmx1024m</code>, the value you get from <code>totalMemory()</code> and <code>maxMemory()</code> will be equal.</p>\n\n<p>Also, if you want to accurately calculate the amount of <em>used</em> memory, you do so with the following calculation :</p>\n\n<pre><code>final long usedMem = totalMemory() - freeMemory();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":41994,"reputation":20222,"user_id":122207,"display_name":"Tim Bender"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1282782197,"creation_date":1282782197,"answer_id":3571235,"question_id":3571203,"body_markdown":"[Runtime#totalMemory][1] - the memory that the JVM has allocated thus far. This isn&#39;t necessarily what is in use or the maximum.\r\n\r\n[Runtime#maxMemory][2] - the maximum amount of memory that the JVM has been configured to use. Once your process reaches this amount, the JVM will not allocate more and instead GC much more frequently.\r\n\r\n[Runtime#freeMemory][3] - I&#39;m not sure if this is measured from the max or the portion of the total that is unused. I am guessing it is a measurement of the portion of total which is unused.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/Runtime.html#totalMemory()\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/lang/Runtime.html#maxMemory()\r\n  [3]: http://download.oracle.com/javase/6/docs/api/java/lang/Runtime.html#freeMemory()","title":"What are Runtime.getRuntime().totalMemory() and freeMemory()?","body":"<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Runtime.html#totalMemory()\" rel=\"noreferrer\">Runtime#totalMemory</a> - the memory that the JVM has allocated thus far. This isn't necessarily what is in use or the maximum.</p>\n\n<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Runtime.html#maxMemory()\" rel=\"noreferrer\">Runtime#maxMemory</a> - the maximum amount of memory that the JVM has been configured to use. Once your process reaches this amount, the JVM will not allocate more and instead GC much more frequently.</p>\n\n<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Runtime.html#freeMemory()\" rel=\"noreferrer\">Runtime#freeMemory</a> - I'm not sure if this is measured from the max or the portion of the total that is unused. I am guessing it is a measurement of the portion of total which is unused.</p>\n"},{"tags":[],"owner":{"account_id":1509318,"reputation":121,"user_id":1411827,"display_name":"ALam-Kim"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1350725393,"creation_date":1337753525,"answer_id":10714412,"question_id":3571203,"body_markdown":"JVM heap size can be growable and shrinkable by the Garbage-Collection mechanism.\r\nBut, it can&#39;t allocate over maximum memory size: Runtime.maxMemory. This is the meaning of maximum memory. Total memory means the allocated heap size. And free memory means the available size in total memory.\r\n\r\nexample) java -Xms20M -Xmn10M -Xmx50M ~~~.\r\nThis means that jvm should allocate heap 20M on start(ms). In this case, total memory is 20M. free memory is 20M-used size. If more heap is needed, JVM allocate more but can&#39;t over 50M(mx). In the case of maximum, total memory is 50M, and free size is 50M-used size. As for minumum size(mn), if heap is not used much, jvm can shrink heap size to 10M.\r\n\r\nThis mechanism is for efficiency of memory. If small java program run on huge fixed size heap memory, so much memory may be wasteful.","title":"What are Runtime.getRuntime().totalMemory() and freeMemory()?","body":"<p>JVM heap size can be growable and shrinkable by the Garbage-Collection mechanism.\nBut, it can't allocate over maximum memory size: Runtime.maxMemory. This is the meaning of maximum memory. Total memory means the allocated heap size. And free memory means the available size in total memory.</p>\n\n<p>example) java -Xms20M -Xmn10M -Xmx50M ~~~.\nThis means that jvm should allocate heap 20M on start(ms). In this case, total memory is 20M. free memory is 20M-used size. If more heap is needed, JVM allocate more but can't over 50M(mx). In the case of maximum, total memory is 50M, and free size is 50M-used size. As for minumum size(mn), if heap is not used much, jvm can shrink heap size to 10M.</p>\n\n<p>This mechanism is for efficiency of memory. If small java program run on huge fixed size heap memory, so much memory may be wasteful.</p>\n"},{"tags":[],"owner":{"account_id":193906,"reputation":4673,"user_id":435912,"accept_rate":78,"display_name":"Sri"},"comment_count":0,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1362843827,"creation_date":1362843827,"answer_id":15312561,"question_id":3571203,"body_markdown":"To understand it better, run this following program (in jdk1.7.x) : \r\n\r\n&gt;     $ java -Xms1025k -Xmx1025k -XshowSettings:vm  MemoryTest\r\n\r\nThis will print *jvm* options and the *used*, *free*, *total* and *maximum* memory available in jvm.\r\n\r\n    public class MemoryTest {    \r\n        public static void main(String args[]) {\r\n                    System.out.println(&quot;Used Memory   :  &quot; + (Runtime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory()) + &quot; bytes&quot;);\r\n                    System.out.println(&quot;Free Memory   : &quot; + Runtime.getRuntime().freeMemory() + &quot; bytes&quot;);\r\n                    System.out.println(&quot;Total Memory  : &quot; + Runtime.getRuntime().totalMemory() + &quot; bytes&quot;);\r\n                    System.out.println(&quot;Max Memory    : &quot; + Runtime.getRuntime().maxMemory() + &quot; bytes&quot;);            \r\n            }\r\n    }\r\n\r\n","title":"What are Runtime.getRuntime().totalMemory() and freeMemory()?","body":"<p>To understand it better, run this following program (in jdk1.7.x) : </p>\n\n<blockquote>\n<pre><code>$ java -Xms1025k -Xmx1025k -XshowSettings:vm  MemoryTest\n</code></pre>\n</blockquote>\n\n<p>This will print <em>jvm</em> options and the <em>used</em>, <em>free</em>, <em>total</em> and <em>maximum</em> memory available in jvm.</p>\n\n<pre><code>public class MemoryTest {    \n    public static void main(String args[]) {\n                System.out.println(\"Used Memory   :  \" + (Runtime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory()) + \" bytes\");\n                System.out.println(\"Free Memory   : \" + Runtime.getRuntime().freeMemory() + \" bytes\");\n                System.out.println(\"Total Memory  : \" + Runtime.getRuntime().totalMemory() + \" bytes\");\n                System.out.println(\"Max Memory    : \" + Runtime.getRuntime().maxMemory() + \" bytes\");            \n        }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"score":3,"creation_date":1461342292,"post_id":18375641,"comment_id":61171894,"body_markdown":"Is this different from `Debug.getMemoryInfo()`?","body":"Is this different from <code>Debug.getMemoryInfo()</code>?"},{"owner":{"account_id":5952031,"reputation":1986,"user_id":4679727,"accept_rate":88,"display_name":"Gab是好人"},"score":1,"creation_date":1480601124,"post_id":18375641,"comment_id":69037421,"body_markdown":"Note: **Used memory** may **contain no longer referenced objects** that will be swept away by the next GC.","body":"Note: <b>Used memory</b> may <b>contain no longer referenced objects</b> that will be swept away by the next GC."},{"owner":{"account_id":17739799,"reputation":528,"user_id":12880432,"display_name":"Maria"},"score":0,"creation_date":1589458541,"post_id":18375641,"comment_id":109305926,"body_markdown":"@cheneym, free and unlocated memory will be occupied as the java byte code instructions will be processed by processor only if &quot;Xmx - Usedmemory&quot; is avlbl in machine. Xmx is like max capacity of ballon which could fill with air geting from avlbl air in machine itself, as soon it gets air, it will be filled and will blast once exceeds Xmx limit. But total freememory wont tell the actual avbl memory in machine for JVM, but just the nmbr.Is there Any way I could find out the actual avlbl memory in machine so that I could get to know whether rqd memory is avlbl or not for JVM remaning process ?","body":"@cheneym, free and unlocated memory will be occupied as the java byte code instructions will be processed by processor only if &quot;Xmx - Usedmemory&quot; is avlbl in machine. Xmx is like max capacity of ballon which could fill with air geting from avlbl air in machine itself, as soon it gets air, it will be filled and will blast once exceeds Xmx limit. But total freememory wont tell the actual avbl memory in machine for JVM, but just the nmbr.Is there Any way I could find out the actual avlbl memory in machine so that I could get to know whether rqd memory is avlbl or not for JVM remaning process ?"}],"tags":[],"owner":{"account_id":2889895,"reputation":4122,"user_id":2478930,"display_name":"cheneym"},"comment_count":3,"down_vote_count":0,"up_vote_count":306,"is_accepted":false,"score":306,"last_activity_date":1437477269,"creation_date":1377161343,"answer_id":18375641,"question_id":3571203,"body_markdown":"The names and values are confusing. If you are looking for the *total free memory* you will have to calculate this value by your self. **It is not** what you get from `freeMemory();`.\r\n\r\nSee the following guide:\r\n\r\n**Total designated memory**, this will equal the configured *-Xmx* value:\r\n\r\n&gt;Runtime.getRuntime().maxMemory();\r\n\r\n**Current allocated free memory**, is the current allocated space *ready* for new objects. **Caution** this is not the total free *available* memory:\r\n&gt;Runtime.getRuntime().freeMemory();\r\n\r\n\r\n**Total allocated memory**, is the total allocated space *reserved* for the java process:\r\n\r\n&gt;Runtime.getRuntime().totalMemory();\r\n\r\n**Used memory**, has to be calculated:\r\n\r\n&gt;usedMemory = Runtime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory();\r\n\r\n**Total free memory**, has to be calculated:\r\n\r\n&gt;freeMemory = Runtime.getRuntime().maxMemory() - usedMemory;\r\n\r\n**A picture may help to clarify:**\r\n\r\n&gt;![java runtime memory][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/GjuwM.png","title":"What are Runtime.getRuntime().totalMemory() and freeMemory()?","body":"<p>The names and values are confusing. If you are looking for the <em>total free memory</em> you will have to calculate this value by your self. <strong>It is not</strong> what you get from <code>freeMemory();</code>.</p>\n\n<p>See the following guide:</p>\n\n<p><strong>Total designated memory</strong>, this will equal the configured <em>-Xmx</em> value:</p>\n\n<blockquote>\n  <p>Runtime.getRuntime().maxMemory();</p>\n</blockquote>\n\n<p><strong>Current allocated free memory</strong>, is the current allocated space <em>ready</em> for new objects. <strong>Caution</strong> this is not the total free <em>available</em> memory:</p>\n\n<blockquote>\n  <p>Runtime.getRuntime().freeMemory();</p>\n</blockquote>\n\n<p><strong>Total allocated memory</strong>, is the total allocated space <em>reserved</em> for the java process:</p>\n\n<blockquote>\n  <p>Runtime.getRuntime().totalMemory();</p>\n</blockquote>\n\n<p><strong>Used memory</strong>, has to be calculated:</p>\n\n<blockquote>\n  <p>usedMemory = Runtime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory();</p>\n</blockquote>\n\n<p><strong>Total free memory</strong>, has to be calculated:</p>\n\n<blockquote>\n  <p>freeMemory = Runtime.getRuntime().maxMemory() - usedMemory;</p>\n</blockquote>\n\n<p><strong>A picture may help to clarify:</strong></p>\n\n<blockquote>\n  <p><img src=\"https://i.stack.imgur.com/GjuwM.png\" alt=\"java runtime memory\"></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":92486,"reputation":45195,"user_id":253468,"accept_rate":79,"display_name":"TWiStErRob"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1674991111,"creation_date":1488494800,"answer_id":42567450,"question_id":3571203,"body_markdown":"Codified version of all other answers (at the time of writing):\r\n\r\n    import java.io.*;\r\n    \r\n    /**\r\n     * This class is based on &lt;a href=&quot;http://stackoverflow.com/users/2478930/cheneym&quot;&gt;cheneym&lt;/a&gt;&#39;s\r\n     * &lt;a href=&quot;http://stackoverflow.com/a/18375641/253468&quot;&gt;awesome interpretation&lt;/a&gt;\r\n     * of the Java {@link Runtime}&#39;s memory query methods, which reflects intuitive thinking.\r\n     * Also includes comments and observations from others on the same question, and my own experience.\r\n     * &lt;p&gt;\r\n     * &lt;img src=&quot;https://i.stack.imgur.com/GjuwM.png&quot; alt=&quot;Runtime&#39;s memory interpretation&quot;&gt;\r\n     * &lt;p&gt;\r\n     * &lt;b&gt;JVM memory management crash course&lt;/b&gt;:\r\n     * Java virtual machine process&#39; heap size is bounded by the maximum memory allowed.\r\n     * The startup and maximum size can be configured by JVM arguments.\r\n     * JVMs don&#39;t allocate the maximum memory on startup as the program running may never require that.\r\n     * This is to be a good player and not waste system resources unnecessarily.\r\n     * Instead they allocate some memory and then grow when new allocations require it.\r\n     * The garbage collector will be run at times to clean up unused objects to prevent this growing.\r\n     * Many parameters of this management such as when to grow/shrink or which GC to use\r\n     * can be tuned via advanced configuration parameters on JVM startup.\r\n     *\r\n     * @see &lt;a href=&quot;http://stackoverflow.com/a/42567450/253468&quot;&gt;\r\n     *     What are Runtime.getRuntime().totalMemory() and freeMemory()?&lt;/a&gt;\r\n     * @see &lt;a href=&quot;http://www.oracle.com/technetwork/java/javase/memorymanagement-whitepaper-150215.pdf&quot;&gt;\r\n     *     Memory Management in the Sun Java HotSpot™ Virtual Machine&lt;/a&gt;\r\n     * @see &lt;a href=&quot;http://docs.oracle.com/javase/8/docs/technotes/tools/windows/java.html&quot;&gt;\r\n     *     Full VM options reference for Windows&lt;/a&gt;\r\n     * @see &lt;a href=&quot;http://docs.oracle.com/javase/8/docs/technotes/tools/unix/java.html&quot;&gt;\r\n     *     Full VM options reference for Linux, Mac OS X and Solaris&lt;/a&gt;\r\n     * @see &lt;a href=&quot;http://www.oracle.com/technetwork/articles/java/vmoptions-jsp-140102.html&quot;&gt;\r\n     *     Java HotSpot VM Options quick reference&lt;/a&gt;\r\n     */\r\n    public class SystemMemory {\r\n    \r\n    \t// can be white-box mocked for testing\r\n    \tprivate final Runtime runtime = Runtime.getRuntime();\r\n    \r\n    \t/**\r\n    \t * &lt;b&gt;Total allocated memory&lt;/b&gt;: space currently reserved for the JVM heap within the process.\r\n    \t * &lt;p&gt;\r\n    \t * &lt;i&gt;Caution&lt;/i&gt;: this is not the total memory, the JVM may grow the heap for new allocations.\r\n    \t */\r\n    \tpublic long getAllocatedTotal() {\r\n    \t\treturn runtime.totalMemory();\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * &lt;b&gt;Current allocated free memory&lt;/b&gt;: space immediately ready for new objects.\r\n    \t * &lt;p&gt;\r\n    \t * &lt;i&gt;Caution&lt;/i&gt;: this is not the total free available memory,\r\n    \t * the JVM may grow the heap for new allocations.\r\n    \t */\r\n    \tpublic long getAllocatedFree() {\r\n    \t\treturn runtime.freeMemory();\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * &lt;b&gt;Used memory&lt;/b&gt;:\r\n    \t * Java heap currently used by instantiated objects. \r\n    \t * &lt;p&gt;\r\n    \t * &lt;i&gt;Caution&lt;/i&gt;: May include no longer referenced objects, soft references, etc.\r\n    \t * that will be swept away by the next garbage collection.\r\n    \t */\r\n    \tpublic long getUsed() {\r\n    \t\treturn getAllocatedTotal() - getAllocatedFree();\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * &lt;b&gt;Maximum allocation&lt;/b&gt;: the process&#39; allocated memory will not grow any further.\r\n    \t * &lt;p&gt;\r\n    \t * &lt;i&gt;Caution&lt;/i&gt;: This may change over time, do not cache it!\r\n    \t * There are some JVMs / garbage collectors that can shrink the allocated process memory.\r\n    \t * &lt;p&gt;\r\n    \t * &lt;i&gt;Caution&lt;/i&gt;: If this is true, the JVM will likely run GC more often.\r\n    \t */\r\n    \tpublic boolean isAtMaximumAllocation() {\r\n    \t\treturn getAllocatedTotal() == getTotal();\r\n    \t\t// = return getUnallocated() == 0;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * &lt;b&gt;Unallocated memory&lt;/b&gt;: amount of space the process&#39; heap can grow.\r\n    \t */\r\n    \tpublic long getUnallocated() {\r\n    \t\treturn getTotal() - getAllocatedTotal();\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * &lt;b&gt;Total designated memory&lt;/b&gt;: this will equal the configured {@code -Xmx} value.\r\n    \t * &lt;p&gt;\r\n    \t * &lt;i&gt;Caution&lt;/i&gt;: You can never allocate more memory than this, unless you use native code.\r\n    \t */\r\n    \tpublic long getTotal() {\r\n    \t\treturn runtime.maxMemory();\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * &lt;b&gt;Total free memory&lt;/b&gt;: memory available for new Objects,\r\n    \t * even at the cost of growing the allocated memory of the process.\r\n    \t */\r\n    \tpublic long getFree() {\r\n    \t\treturn getTotal() - getUsed();\r\n    \t\t// = return getAllocatedFree() + getUnallocated();\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * &lt;b&gt;Unbounded memory&lt;/b&gt;: there is no inherent limit on free memory.\r\n    \t */\r\n    \tpublic boolean isBounded() {\r\n    \t\treturn getTotal() != Long.MAX_VALUE;\r\n    \t}\r\n    \r\n\t\t/**\r\n\t\t * Dump of the current state for debugging or understanding the memory divisions.\r\n\t\t * &lt;p&gt;\r\n\t\t * &lt;i&gt;Caution&lt;/i&gt;: Numbers may not match up exactly as state may change during the call.\r\n\t\t */\r\n\t\tpublic String getCurrentStats() {\r\n\t\t\tStringWriter backing = new StringWriter();\r\n\t\t\tPrintWriter out = new PrintWriter(backing, false);\r\n\t\t\tout.printf(&quot;Total: allocated %,d (%.1f%%) out of possible %,d; %s, %s %,d%n&quot;,\r\n\t\t\t\t\tgetAllocatedTotal(),\r\n\t\t\t\t\t(float)getAllocatedTotal() / (float)getTotal() * 100,\r\n\t\t\t\t\tgetTotal(),\r\n\t\t\t\t\tisBounded()? &quot;bounded&quot; : &quot;unbounded&quot;,\r\n\t\t\t\t\tisAtMaximumAllocation()? &quot;maxed out&quot; : &quot;can grow&quot;,\r\n\t\t\t\t\tgetUnallocated()\r\n\t\t\t);\r\n\t\t\tout.printf(&quot;Used: %,d; %.1f%% of total (%,d); %.1f%% of allocated (%,d)%n&quot;,\r\n\t\t\t\t\tgetUsed(),\r\n\t\t\t\t\t(float)getUsed() / (float)getTotal() * 100,\r\n\t\t\t\t\tgetTotal(),\r\n\t\t\t\t\t(float)getUsed() / (float)getAllocatedTotal() * 100,\r\n\t\t\t\t\tgetAllocatedTotal()\r\n\t\t\t);\r\n\t\t\tout.printf(&quot;Free: %,d (%.1f%%) out of %,d total; %,d (%.1f%%) out of %,d allocated%n&quot;,\r\n\t\t\t\t\tgetFree(),\r\n\t\t\t\t\t(float)getFree() / (float)getTotal() * 100,\r\n\t\t\t\t\tgetTotal(),\r\n\t\t\t\t\tgetAllocatedFree(),\r\n\t\t\t\t\t(float)getAllocatedFree() / (float)getAllocatedTotal() * 100,\r\n\t\t\t\t\tgetAllocatedTotal()\r\n\t\t\t);\r\n\t\t\tout.flush();\r\n\t\t\treturn backing.toString();\r\n\t\t}\r\n    \r\n    \tpublic static void main(String... args) {\r\n    \t\tSystemMemory memory = new SystemMemory();\r\n    \t\tSystem.out.println(memory.getCurrentStats());\r\n    \t}\r\n    }\r\n\r\nExample output:\r\n\r\n```\r\nTotal: allocated 33,554,432 (12.5%) out of possible 268,435,456; bounded, can grow 234,881,024\r\nUsed: 2,392,832; 0.9% of total (268,435,456); 7.1% of allocated (33,554,432)\r\nFree: 266,042,624 (99.1%) out of 268,435,456 total; 31,161,600 (92.9%) out of 33,554,432 allocated\r\n```","title":"What are Runtime.getRuntime().totalMemory() and freeMemory()?","body":"<p>Codified version of all other answers (at the time of writing):</p>\n<pre><code>import java.io.*;\n\n/**\n * This class is based on &lt;a href=&quot;http://stackoverflow.com/users/2478930/cheneym&quot;&gt;cheneym&lt;/a&gt;'s\n * &lt;a href=&quot;http://stackoverflow.com/a/18375641/253468&quot;&gt;awesome interpretation&lt;/a&gt;\n * of the Java {@link Runtime}'s memory query methods, which reflects intuitive thinking.\n * Also includes comments and observations from others on the same question, and my own experience.\n * &lt;p&gt;\n * &lt;img src=&quot;https://i.stack.imgur.com/GjuwM.png&quot; alt=&quot;Runtime's memory interpretation&quot;&gt;\n * &lt;p&gt;\n * &lt;b&gt;JVM memory management crash course&lt;/b&gt;:\n * Java virtual machine process' heap size is bounded by the maximum memory allowed.\n * The startup and maximum size can be configured by JVM arguments.\n * JVMs don't allocate the maximum memory on startup as the program running may never require that.\n * This is to be a good player and not waste system resources unnecessarily.\n * Instead they allocate some memory and then grow when new allocations require it.\n * The garbage collector will be run at times to clean up unused objects to prevent this growing.\n * Many parameters of this management such as when to grow/shrink or which GC to use\n * can be tuned via advanced configuration parameters on JVM startup.\n *\n * @see &lt;a href=&quot;http://stackoverflow.com/a/42567450/253468&quot;&gt;\n *     What are Runtime.getRuntime().totalMemory() and freeMemory()?&lt;/a&gt;\n * @see &lt;a href=&quot;http://www.oracle.com/technetwork/java/javase/memorymanagement-whitepaper-150215.pdf&quot;&gt;\n *     Memory Management in the Sun Java HotSpot™ Virtual Machine&lt;/a&gt;\n * @see &lt;a href=&quot;http://docs.oracle.com/javase/8/docs/technotes/tools/windows/java.html&quot;&gt;\n *     Full VM options reference for Windows&lt;/a&gt;\n * @see &lt;a href=&quot;http://docs.oracle.com/javase/8/docs/technotes/tools/unix/java.html&quot;&gt;\n *     Full VM options reference for Linux, Mac OS X and Solaris&lt;/a&gt;\n * @see &lt;a href=&quot;http://www.oracle.com/technetwork/articles/java/vmoptions-jsp-140102.html&quot;&gt;\n *     Java HotSpot VM Options quick reference&lt;/a&gt;\n */\npublic class SystemMemory {\n\n    // can be white-box mocked for testing\n    private final Runtime runtime = Runtime.getRuntime();\n\n    /**\n     * &lt;b&gt;Total allocated memory&lt;/b&gt;: space currently reserved for the JVM heap within the process.\n     * &lt;p&gt;\n     * &lt;i&gt;Caution&lt;/i&gt;: this is not the total memory, the JVM may grow the heap for new allocations.\n     */\n    public long getAllocatedTotal() {\n        return runtime.totalMemory();\n    }\n\n    /**\n     * &lt;b&gt;Current allocated free memory&lt;/b&gt;: space immediately ready for new objects.\n     * &lt;p&gt;\n     * &lt;i&gt;Caution&lt;/i&gt;: this is not the total free available memory,\n     * the JVM may grow the heap for new allocations.\n     */\n    public long getAllocatedFree() {\n        return runtime.freeMemory();\n    }\n\n    /**\n     * &lt;b&gt;Used memory&lt;/b&gt;:\n     * Java heap currently used by instantiated objects. \n     * &lt;p&gt;\n     * &lt;i&gt;Caution&lt;/i&gt;: May include no longer referenced objects, soft references, etc.\n     * that will be swept away by the next garbage collection.\n     */\n    public long getUsed() {\n        return getAllocatedTotal() - getAllocatedFree();\n    }\n\n    /**\n     * &lt;b&gt;Maximum allocation&lt;/b&gt;: the process' allocated memory will not grow any further.\n     * &lt;p&gt;\n     * &lt;i&gt;Caution&lt;/i&gt;: This may change over time, do not cache it!\n     * There are some JVMs / garbage collectors that can shrink the allocated process memory.\n     * &lt;p&gt;\n     * &lt;i&gt;Caution&lt;/i&gt;: If this is true, the JVM will likely run GC more often.\n     */\n    public boolean isAtMaximumAllocation() {\n        return getAllocatedTotal() == getTotal();\n        // = return getUnallocated() == 0;\n    }\n\n    /**\n     * &lt;b&gt;Unallocated memory&lt;/b&gt;: amount of space the process' heap can grow.\n     */\n    public long getUnallocated() {\n        return getTotal() - getAllocatedTotal();\n    }\n    \n    /**\n     * &lt;b&gt;Total designated memory&lt;/b&gt;: this will equal the configured {@code -Xmx} value.\n     * &lt;p&gt;\n     * &lt;i&gt;Caution&lt;/i&gt;: You can never allocate more memory than this, unless you use native code.\n     */\n    public long getTotal() {\n        return runtime.maxMemory();\n    }\n\n    /**\n     * &lt;b&gt;Total free memory&lt;/b&gt;: memory available for new Objects,\n     * even at the cost of growing the allocated memory of the process.\n     */\n    public long getFree() {\n        return getTotal() - getUsed();\n        // = return getAllocatedFree() + getUnallocated();\n    }\n\n    /**\n     * &lt;b&gt;Unbounded memory&lt;/b&gt;: there is no inherent limit on free memory.\n     */\n    public boolean isBounded() {\n        return getTotal() != Long.MAX_VALUE;\n    }\n\n    /**\n     * Dump of the current state for debugging or understanding the memory divisions.\n     * &lt;p&gt;\n     * &lt;i&gt;Caution&lt;/i&gt;: Numbers may not match up exactly as state may change during the call.\n     */\n    public String getCurrentStats() {\n        StringWriter backing = new StringWriter();\n        PrintWriter out = new PrintWriter(backing, false);\n        out.printf(&quot;Total: allocated %,d (%.1f%%) out of possible %,d; %s, %s %,d%n&quot;,\n                getAllocatedTotal(),\n                (float)getAllocatedTotal() / (float)getTotal() * 100,\n                getTotal(),\n                isBounded()? &quot;bounded&quot; : &quot;unbounded&quot;,\n                isAtMaximumAllocation()? &quot;maxed out&quot; : &quot;can grow&quot;,\n                getUnallocated()\n        );\n        out.printf(&quot;Used: %,d; %.1f%% of total (%,d); %.1f%% of allocated (%,d)%n&quot;,\n                getUsed(),\n                (float)getUsed() / (float)getTotal() * 100,\n                getTotal(),\n                (float)getUsed() / (float)getAllocatedTotal() * 100,\n                getAllocatedTotal()\n        );\n        out.printf(&quot;Free: %,d (%.1f%%) out of %,d total; %,d (%.1f%%) out of %,d allocated%n&quot;,\n                getFree(),\n                (float)getFree() / (float)getTotal() * 100,\n                getTotal(),\n                getAllocatedFree(),\n                (float)getAllocatedFree() / (float)getAllocatedTotal() * 100,\n                getAllocatedTotal()\n        );\n        out.flush();\n        return backing.toString();\n    }\n\n    public static void main(String... args) {\n        SystemMemory memory = new SystemMemory();\n        System.out.println(memory.getCurrentStats());\n    }\n}\n</code></pre>\n<p>Example output:</p>\n<pre><code>Total: allocated 33,554,432 (12.5%) out of possible 268,435,456; bounded, can grow 234,881,024\nUsed: 2,392,832; 0.9% of total (268,435,456); 7.1% of allocated (33,554,432)\nFree: 266,042,624 (99.1%) out of 268,435,456 total; 31,161,600 (92.9%) out of 33,554,432 allocated\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7255085,"reputation":77,"user_id":5534037,"display_name":"GAbriel lopez"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1552910149,"creation_date":1552910149,"answer_id":55220799,"question_id":3571203,"body_markdown":"You can see the results in **MB format**, with the division of *1024 x 1024* which is equal to **1 MB**.\r\n\r\n    int dataSize = 1024 * 1024;\r\n        \r\n    System.out.println(&quot;Used Memory   : &quot; + (Runtime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory())/dataSize + &quot; MB&quot;);\r\n    System.out.println(&quot;Free Memory   : &quot; + Runtime.getRuntime().freeMemory()/dataSize + &quot; MB&quot;);\r\n    System.out.println(&quot;Total Memory  : &quot; + Runtime.getRuntime().totalMemory()/dataSize + &quot; MB&quot;);\r\n    System.out.println(&quot;Max Memory    : &quot; + Runtime.getRuntime().maxMemory()/dataSize + &quot; MB&quot;);  \r\n\r\n","title":"What are Runtime.getRuntime().totalMemory() and freeMemory()?","body":"<p>You can see the results in <strong>MB format</strong>, with the division of <em>1024 x 1024</em> which is equal to <strong>1 MB</strong>.</p>\n\n<pre><code>int dataSize = 1024 * 1024;\n\nSystem.out.println(\"Used Memory   : \" + (Runtime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory())/dataSize + \" MB\");\nSystem.out.println(\"Free Memory   : \" + Runtime.getRuntime().freeMemory()/dataSize + \" MB\");\nSystem.out.println(\"Total Memory  : \" + Runtime.getRuntime().totalMemory()/dataSize + \" MB\");\nSystem.out.println(\"Max Memory    : \" + Runtime.getRuntime().maxMemory()/dataSize + \" MB\");  \n</code></pre>\n"}],"owner":{"account_id":93708,"reputation":17827,"user_id":256239,"accept_rate":61,"display_name":"user256239"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132135,"favorite_count":0,"down_vote_count":0,"up_vote_count":183,"accepted_answer_id":3571231,"answer_count":7,"score":183,"last_activity_date":1674991111,"creation_date":1282781703,"question_id":3571203,"body_markdown":"I&#39;ve been wondering what the exact meaning of  [Runtime.getRuntime().totalMemory()][1], [Runtime.getRuntime().freeMemory()][2], and [Runtime.getRuntime().maxMemory()][3] is.\r\n\r\nMy understanding is, `Runtime.getRuntime().totalMemory()` returns the total memory my process is using. Is that correct? \r\n\r\nHow about `freeMemory()` and `maxMemory()`?\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Runtime.html#totalMemory--\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/Runtime.html#freeMemory--\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/lang/Runtime.html#maxMemory--","title":"What are Runtime.getRuntime().totalMemory() and freeMemory()?","body":"<p>I've been wondering what the exact meaning of  <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Runtime.html#totalMemory--\" rel=\"noreferrer\">Runtime.getRuntime().totalMemory()</a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Runtime.html#freeMemory--\" rel=\"noreferrer\">Runtime.getRuntime().freeMemory()</a>, and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Runtime.html#maxMemory--\" rel=\"noreferrer\">Runtime.getRuntime().maxMemory()</a> is.</p>\n\n<p>My understanding is, <code>Runtime.getRuntime().totalMemory()</code> returns the total memory my process is using. Is that correct? </p>\n\n<p>How about <code>freeMemory()</code> and <code>maxMemory()</code>?</p>\n"},{"tags":["java","jdbc","jar","mysql-connector"],"answers":[{"tags":[],"owner":{"account_id":26299345,"reputation":375,"user_id":19965045,"display_name":"Sarthak"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1674990146,"creation_date":1674990146,"answer_id":75274354,"question_id":75274275,"body_markdown":"so I faced this a while back, I was using Bluej as the IDE which solved the issue. Any how to connect mysql connector to classpath, we have to give location of jar file in dependency if using IDE, or in command if running directly via terminal.\r\nFor IntelliJ IDE, try following [this](https://www.geeksforgeeks.org/how-to-add-external-jar-file-to-an-intellij-idea-project/) and check if it solves the issue.\r\n\r\nAs for the terminal, you can try \r\n`` java.exe -classpath D:\\lib*Main script.java ``\r\nI created a [README](https://github.com/sarthak-19/Bitnine-Coding-Test/tree/main/Q5) file with explaining basic operations using MYSQL driver. You can check this out if it helps.","title":"unable to connect mysql connector to intellij idea(JDBC problem)","body":"<p>so I faced this a while back, I was using Bluej as the IDE which solved the issue. Any how to connect mysql connector to classpath, we have to give location of jar file in dependency if using IDE, or in command if running directly via terminal.\nFor IntelliJ IDE, try following <a href=\"https://www.geeksforgeeks.org/how-to-add-external-jar-file-to-an-intellij-idea-project/\" rel=\"nofollow noreferrer\">this</a> and check if it solves the issue.</p>\n<p>As for the terminal, you can try\n<code>java.exe -classpath D:\\lib*Main script.java</code>\nI created a <a href=\"https://github.com/sarthak-19/Bitnine-Coding-Test/tree/main/Q5\" rel=\"nofollow noreferrer\">README</a> file with explaining basic operations using MYSQL driver. You can check this out if it helps.</p>\n"}],"owner":{"account_id":27648509,"reputation":1,"user_id":21103921,"display_name":"Sanan Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675174408,"answer_count":1,"score":0,"last_activity_date":1674990146,"creation_date":1674989233,"question_id":75274275,"body_markdown":"I am facing problem to connect MySQL connector to class path .I am trying to do it on every possible way and I am doing everything right but on command prompt it is constantly showing &quot;class not found&quot;. please somebody help me I am facing this issue since last two days.\r\n\r\n1. I try convert zip(win rare)file to jar file and \r\n2. I also try solve the problem through control panel\r\n","title":"unable to connect mysql connector to intellij idea(JDBC problem)","body":"<p>I am facing problem to connect MySQL connector to class path .I am trying to do it on every possible way and I am doing everything right but on command prompt it is constantly showing &quot;class not found&quot;. please somebody help me I am facing this issue since last two days.</p>\n<ol>\n<li>I try convert zip(win rare)file to jar file and</li>\n<li>I also try solve the problem through control panel</li>\n</ol>\n"},{"tags":["java","spring","swagger","swagger-ui","springfox"],"comments":[{"owner":{"account_id":3868488,"reputation":141,"user_id":3204417,"display_name":"doom4s"},"score":0,"creation_date":1674944701,"post_id":75271194,"comment_id":132823205,"body_markdown":"What is the version of the swagger and how did you bootstrapped it ?","body":"What is the version of the swagger and how did you bootstrapped it ?"},{"owner":{"account_id":39252,"reputation":89842,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1674990269,"post_id":75271194,"comment_id":132828115,"body_markdown":"Please check the [existing Q&amp;As](https://stackoverflow.com/search?q=%22unable+to+infer+base+url%22) about the &quot;unable to infer base URL&quot; error and see if any of the proposed solutions help.","body":"Please check the <a href=\"https://stackoverflow.com/search?q=%22unable+to+infer+base+url%22\">existing Q&amp;As</a> about the &quot;unable to infer base URL&quot; error and see if any of the proposed solutions help."}],"answers":[{"tags":[],"owner":{"account_id":24864493,"reputation":1,"user_id":18739790,"display_name":"moneyyiiss"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674946752,"creation_date":1674946752,"answer_id":75271497,"question_id":75271194,"body_markdown":"The error message &quot;Unable to infer base url&quot; often shows a failure of the Swagger UI to locate the API documentation automatically. This may occur when utilising dynamic servlet registration or when the API is protected by an API Gateway.\r\nYou can manually input the base url for the API documentation in the field provided to fix this error, such as http://localhost:8080/swagger-ui.html, or if the API is protected by an API Gateway, you can enter the right URL for the API Gateway.","title":"Swagger UI gives me this error message: Unable to infer base url","body":"<p>The error message &quot;Unable to infer base url&quot; often shows a failure of the Swagger UI to locate the API documentation automatically. This may occur when utilising dynamic servlet registration or when the API is protected by an API Gateway.\nYou can manually input the base url for the API documentation in the field provided to fix this error, such as http://localhost:8080/swagger-ui.html, or if the API is protected by an API Gateway, you can enter the right URL for the API Gateway.</p>\n"}],"owner":{"account_id":19975204,"reputation":1,"user_id":14639699,"display_name":"Souvik Khan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674990120,"creation_date":1674943128,"question_id":75271194,"body_markdown":"What can I do to get rid of this error message I see whenever I try to open my Swagger UI documentation on localhost:\r\n&gt; Unable to infer base url. This is common when using dynamic servlet registration or when the API is behind an API Gateway.\r\n\r\n[screenshot of the error dialog](https://i.stack.imgur.com/V2ENR.png)","title":"Swagger UI gives me this error message: Unable to infer base url","body":"<p>What can I do to get rid of this error message I see whenever I try to open my Swagger UI documentation on localhost:</p>\n<blockquote>\n<p>Unable to infer base url. This is common when using dynamic servlet registration or when the API is behind an API Gateway.</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/V2ENR.png\" rel=\"nofollow noreferrer\">screenshot of the error dialog</a></p>\n"},{"tags":["java","android","firebase-realtime-database","ads"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1674989409,"post_id":75274254,"comment_id":132827973,"body_markdown":"Given that the value of `Reklama` in your database is `1`, it seems correct that only the `if (Reklama == 1) {` block is executed. Can you explain what you expected to happen instead?","body":"Given that the value of <code>Reklama</code> in your database is <code>1</code>, it seems correct that only the <code>if (Reklama == 1) {</code> block is executed. Can you explain what you expected to happen instead?"},{"owner":{"account_id":27638879,"reputation":13,"user_id":21096249,"display_name":"ploxo"},"score":0,"creation_date":1674989808,"post_id":75274254,"comment_id":132828035,"body_markdown":"@FrankvanPuffelen &quot;Reklama&quot; - Switch between video ads and interstitial ads. if Reklama == 1 -&gt; Interstitial Displayed / if Reklama == 2 -&gt; Video displayed.","body":"@FrankvanPuffelen &quot;Reklama&quot; - Switch between video ads and interstitial ads. if Reklama == 1 -&gt; Interstitial Displayed / if Reklama == 2 -&gt; Video displayed."},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1674989834,"post_id":75274254,"comment_id":132828040,"body_markdown":"As @FrankvanPuffelen said, and also you set the variable for your `switch` statements to 1 immediately before the switch so clearly there’s no possibility of the other options ever being executed.","body":"As @FrankvanPuffelen said, and also you set the variable for your <code>switch</code> statements to 1 immediately before the switch so clearly there’s no possibility of the other options ever being executed."},{"owner":{"account_id":27638879,"reputation":13,"user_id":21096249,"display_name":"ploxo"},"score":0,"creation_date":1674990836,"post_id":75274254,"comment_id":132828194,"body_markdown":"@racraman, \nMy problem is that the first ad is checked and loaded, how can I make sure that all three ads are checked but only one is loaded?\nThe problem is in : int ReklamaInt = 1;\n            switch (ReklamaInt) {","body":"@racraman,  My problem is that the first ad is checked and loaded, how can I make sure that all three ads are checked but only one is loaded? The problem is in : int ReklamaInt = 1;             switch (ReklamaInt) {"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1674992007,"post_id":75274254,"comment_id":132828406,"body_markdown":"Nothing in the code you show is about making anything “checked”, so nobody can help you there.   Nor do you show anything that progresses through the sequence, any incrementing of values.   ALL that you show is that you hardcode a value to 1 and then switch on that, so all we can say is “don’t hardcode that value to 1”.  Instead, the switch statements should be controlled by the variables you use to step through the ads.","body":"Nothing in the code you show is about making anything “checked”, so nobody can help you there.   Nor do you show anything that progresses through the sequence, any incrementing of values.   ALL that you show is that you hardcode a value to 1 and then switch on that, so all we can say is “don’t hardcode that value to 1”.  Instead, the switch statements should be controlled by the variables you use to step through the ads."}],"owner":{"account_id":27638879,"reputation":13,"user_id":21096249,"display_name":"ploxo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674989322,"creation_date":1674988931,"question_id":75274254,"body_markdown":"![This is what my database looks like ,](https://i.stack.imgur.com/WPHRd.png)\r\n\r\nif the first ad block is loaded -&gt; stop checking and execute it -&gt; if the first one is not loaded -&gt; check the second one -&gt; the second one is loaded -&gt; stop checking -&gt; the second one is not loaded -&gt; check the third one .\r\n\r\nTried to execute through Switch case. Only the first block is executed. Please help me figure out what the problem is.\r\n\r\n\r\n```\r\nmDatabase = FirebaseDatabase.getInstance().getReference(&quot;Reklama&quot;);\r\nmDatabase.addValueEventListener(new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n    // Switch between video ads and interstitial ads. if Reklama == 1 -&gt; Interstitial / if Reklama == 2 -&gt; Video.\r\n        int Reklama = Math.toIntExact((Long) snapshot.getValue());\r\n        //ad matching cycle\r\n        if (Reklama == 1) {\r\n            final int adUnit1 = 1;\r\n            final int adUnit2 = 2;\r\n            final int adUnit3 = 3;\r\n            int ReklamaInt = 1;\r\n            switch (ReklamaInt) {\r\n                case adUnit1:\r\n                    mInterstitialAd.loadAd(adRequest);\r\n                    break;\r\n                case adUnit2:\r\n                    mInterstitialAdMid.loadAd(adRequest);\r\n                    break;\r\n                case adUnit3:\r\n                    mInterstitialAdLow.loadAd(adRequest);\r\n                    break;\r\n                default:\r\n                    throw new IllegalStateException(&quot;Unexpected value: &quot; + ReklamaInt);\r\n            }\r\n        }\r\n        //ad matching cycle\r\n        else if (Reklama == 2) {\r\n            final int adUnit1 = 1;\r\n            final int adUnit2 = 2;\r\n            final int adUnit3 = 3;\r\n            int ReklamaReward = 1;\r\n            switch (ReklamaReward){\r\n                case adUnit1:\r\n                    mRewardedAd.loadAd(adRequest);\r\n                    break;\r\n                case adUnit2:\r\n                    mRewardedAdMid.loadAd(adRequest);\r\n                    break;\r\n                case adUnit3:\r\n                    mRewardedAdLow.loadAd(adRequest);\r\n                    break;\r\n                default:\r\n                    throw new IllegalStateException(&quot;Unexpected value: &quot; + ReklamaReward);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n    }\r\n});\r\n```\r\n\r\n","title":"How to check conditions in succession?","body":"<p><img src=\"https://i.stack.imgur.com/WPHRd.png\" alt=\"This is what my database looks like ,\" /></p>\n<p>if the first ad block is loaded -&gt; stop checking and execute it -&gt; if the first one is not loaded -&gt; check the second one -&gt; the second one is loaded -&gt; stop checking -&gt; the second one is not loaded -&gt; check the third one .</p>\n<p>Tried to execute through Switch case. Only the first block is executed. Please help me figure out what the problem is.</p>\n<pre><code>mDatabase = FirebaseDatabase.getInstance().getReference(&quot;Reklama&quot;);\nmDatabase.addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\n    // Switch between video ads and interstitial ads. if Reklama == 1 -&gt; Interstitial / if Reklama == 2 -&gt; Video.\n        int Reklama = Math.toIntExact((Long) snapshot.getValue());\n        //ad matching cycle\n        if (Reklama == 1) {\n            final int adUnit1 = 1;\n            final int adUnit2 = 2;\n            final int adUnit3 = 3;\n            int ReklamaInt = 1;\n            switch (ReklamaInt) {\n                case adUnit1:\n                    mInterstitialAd.loadAd(adRequest);\n                    break;\n                case adUnit2:\n                    mInterstitialAdMid.loadAd(adRequest);\n                    break;\n                case adUnit3:\n                    mInterstitialAdLow.loadAd(adRequest);\n                    break;\n                default:\n                    throw new IllegalStateException(&quot;Unexpected value: &quot; + ReklamaInt);\n            }\n        }\n        //ad matching cycle\n        else if (Reklama == 2) {\n            final int adUnit1 = 1;\n            final int adUnit2 = 2;\n            final int adUnit3 = 3;\n            int ReklamaReward = 1;\n            switch (ReklamaReward){\n                case adUnit1:\n                    mRewardedAd.loadAd(adRequest);\n                    break;\n                case adUnit2:\n                    mRewardedAdMid.loadAd(adRequest);\n                    break;\n                case adUnit3:\n                    mRewardedAdLow.loadAd(adRequest);\n                    break;\n                default:\n                    throw new IllegalStateException(&quot;Unexpected value: &quot; + ReklamaReward);\n            }\n        }\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError error) {\n\n    }\n});\n</code></pre>\n"},{"tags":["java","java.util.scanner"],"answers":[{"comments":[{"owner":{"account_id":17427245,"reputation":13,"user_id":12631934,"display_name":"Andrew Sadler"},"score":0,"creation_date":1674990967,"post_id":75274239,"comment_id":132828216,"body_markdown":"Thank you for this ill play around with it and try and get it to work my end\n\nhow do i mark as answered =) ?","body":"Thank you for this ill play around with it and try and get it to work my end  how do i mark as answered =) ?"}],"tags":[],"owner":{"account_id":13830008,"reputation":89,"user_id":9983181,"display_name":"CoderMSL"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674989285,"creation_date":1674988669,"answer_id":75274239,"question_id":75274084,"body_markdown":"If you would like to get user input as a `BigDecimal` then you can use one of `Scanner` class method [`nextBigDecimal()`][1] To convert existing `double` to `BigDecimal` you can use `BigDecimal.valueOf()` method. \r\n\r\nCode sample: \r\n```\r\n\r\n    public static void main(String[] args) {\r\n        var scanner = new Scanner(System.in);\r\n        System.out.println(&quot;Enter BigDecimal&quot;);\r\n        var number = scanner.nextBigDecimal();\r\n        System.out.println(&quot;BigDecimal from user input: &quot; + number);\r\n\r\n        var doubleNumber = 2.15;\r\n        var decimal = BigDecimal.valueOf(doubleNumber);\r\n        System.out.println(&quot;Double converted to BigDecimal: &quot; + decimal);\r\n    }\r\n\r\n```\r\nListing:\r\n```\r\nEnter BigDecimal\r\n2,15\r\nBigDecimal from user input: 2.15\r\nDouble converted to BigDecimal: 2.15\r\n\r\nProcess finished with exit code 0\r\n```\r\nKeep in mind that while converting `double` to `BigDecimal` you may loose some accuracy of data, because `double` is less accurate comparing to `BigDecimal`. \r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html#nextBigDecimal()","title":"Bigdecimal userinput or double to Bigdecimal","body":"<p>If you would like to get user input as a <code>BigDecimal</code> then you can use one of <code>Scanner</code> class method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html#nextBigDecimal()\" rel=\"nofollow noreferrer\"><code>nextBigDecimal()</code></a> To convert existing <code>double</code> to <code>BigDecimal</code> you can use <code>BigDecimal.valueOf()</code> method.</p>\n<p>Code sample:</p>\n<pre><code>\n    public static void main(String[] args) {\n        var scanner = new Scanner(System.in);\n        System.out.println(&quot;Enter BigDecimal&quot;);\n        var number = scanner.nextBigDecimal();\n        System.out.println(&quot;BigDecimal from user input: &quot; + number);\n\n        var doubleNumber = 2.15;\n        var decimal = BigDecimal.valueOf(doubleNumber);\n        System.out.println(&quot;Double converted to BigDecimal: &quot; + decimal);\n    }\n\n</code></pre>\n<p>Listing:</p>\n<pre><code>Enter BigDecimal\n2,15\nBigDecimal from user input: 2.15\nDouble converted to BigDecimal: 2.15\n\nProcess finished with exit code 0\n</code></pre>\n<p>Keep in mind that while converting <code>double</code> to <code>BigDecimal</code> you may loose some accuracy of data, because <code>double</code> is less accurate comparing to <code>BigDecimal</code>.</p>\n"}],"owner":{"account_id":17427245,"reputation":13,"user_id":12631934,"display_name":"Andrew Sadler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75274239,"answer_count":1,"score":0,"last_activity_date":1674989285,"creation_date":1674986888,"question_id":75274084,"body_markdown":"I am creating a Currency converter using BigDecimal and now I am suck with an issue.\r\n\r\nI have a user-defined number - &quot;Amount&quot; (this is the amount of currency you want to convert)\r\n\r\nI am putting that userValue through the scanner class but I have only ever done this successfully with the following :\r\n\r\n```java\r\nint userInput = new scanner.nextint();\r\n```\r\nI would have loved userinput to be passed as a BigDecimal\r\n\r\nbut my understanding of java is very limited.\r\n\r\nwould you suggest converting the double to BigDecimal or is there a much simple way.","title":"Bigdecimal userinput or double to Bigdecimal","body":"<p>I am creating a Currency converter using BigDecimal and now I am suck with an issue.</p>\n<p>I have a user-defined number - &quot;Amount&quot; (this is the amount of currency you want to convert)</p>\n<p>I am putting that userValue through the scanner class but I have only ever done this successfully with the following :</p>\n<pre class=\"lang-java prettyprint-override\"><code>int userInput = new scanner.nextint();\n</code></pre>\n<p>I would have loved userinput to be passed as a BigDecimal</p>\n<p>but my understanding of java is very limited.</p>\n<p>would you suggest converting the double to BigDecimal or is there a much simple way.</p>\n"},{"tags":["java","selenium","selenium-chromedriver","browser-automation"],"comments":[{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":1,"creation_date":1674959682,"post_id":75270044,"comment_id":132824902,"body_markdown":"Screenshots of the UI are great, screenshots of code or HTML are not. Please read why [a screenshot of code/HTML is a bad idea](https://meta.stackoverflow.com/questions/303812/discourage-screenshots-of-code-and-or-errors). Paste the code/HTML/error message and properly format it instead.","body":"Screenshots of the UI are great, screenshots of code or HTML are not. Please read why <a href=\"https://meta.stackoverflow.com/questions/303812/discourage-screenshots-of-code-and-or-errors\">a screenshot of code/HTML is a bad idea</a>. Paste the code/HTML/error message and properly format it instead."},{"owner":{"account_id":23081176,"reputation":131,"user_id":17193441,"display_name":"Srinivasu Kaki"},"score":0,"creation_date":1675130339,"post_id":75270044,"comment_id":132858394,"body_markdown":"Restructuring your code something to below will work.\ndriver.manage().window().maximize();\ndriver.get(&quot;https://baasithfazil.github.io/resume/&quot;);\nWebElement elem = driver.findElement(By.cssSelector(&quot;a.nav-twitter&quot;));\nelem.click();","body":"Restructuring your code something to below will work. driver.manage().window().maximize(); driver.get(&quot;<a href=\"https://baasithfazil.github.io/resume/&quot;\" rel=\"nofollow noreferrer\">baasithfazil.github.io/resume/&quot;</a>); WebElement elem = driver.findElement(By.cssSelector(&quot;a.nav-twitter&quot;)); elem.click();"}],"answers":[{"comments":[{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1674959745,"post_id":75270659,"comment_id":132824907,"body_markdown":"Implicit waits are a bad practice according to the Selenium lead and devs. Instead use `WebDriverWait`.","body":"Implicit waits are a bad practice according to the Selenium lead and devs. Instead use <code>WebDriverWait</code>."},{"owner":{"account_id":23081176,"reputation":131,"user_id":17193441,"display_name":"Srinivasu Kaki"},"score":0,"creation_date":1674969078,"post_id":75270659,"comment_id":132825629,"body_markdown":"@JeffC could be a bad practice but not wrong to use. Adding one statement would eliminate multiple webdriverwait statements in the code. The fact the WebDriver statement used after find element step returns the no element found exceptions. I have seen this issue number of times &amp; adding implicit wait worked every time.","body":"@JeffC could be a bad practice but not wrong to use. Adding one statement would eliminate multiple webdriverwait statements in the code. The fact the WebDriver statement used after find element step returns the no element found exceptions. I have seen this issue number of times &amp; adding implicit wait worked every time."}],"tags":[],"owner":{"account_id":23081176,"reputation":131,"user_id":17193441,"display_name":"Srinivasu Kaki"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1674937726,"creation_date":1674937726,"answer_id":75270659,"question_id":75270044,"body_markdown":"Whenever you are initiating webdriver make sure to add implicit wait statement, so it can wait for sometime before looking for objects. Add below statement right after chromedriver initialization and your code should work without any issues.\r\n\r\n    driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);","title":"cant find the element using classname in selenium java","body":"<p>Whenever you are initiating webdriver make sure to add implicit wait statement, so it can wait for sometime before looking for objects. Add below statement right after chromedriver initialization and your code should work without any issues.</p>\n<pre><code>driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1674944797,"creation_date":1674944797,"answer_id":75271332,"question_id":75270044,"body_markdown":"Your locator is slightly off. In your code you are looking for an element with _tagName_ as _`twitter`_ which doesn&#39;t exists. Instead you can use either of the following [_locator strategies_](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver):\r\n\r\n- Using _cssSelector_:\r\n\r\n\t  WebElement navTwitter = driver.findElement(By.cssSelector(&quot;a.nav-twitter[name=&#39;twitter&#39;]&quot;));\r\n\t  navTwitter.click();\r\n           \t\r\n- Using _xpath_:\r\n\r\n\t  WebElement navTwitter = driver.findElement(By.xpath(&quot;//a[@class=&#39;nav-twitter&#39; and name=&#39;twitter&#39;]&quot;));\r\n\t  navTwitter.click();","title":"cant find the element using classname in selenium java","body":"<p>Your locator is slightly off. In your code you are looking for an element with <em>tagName</em> as <em><code>twitter</code></em> which doesn't exists. Instead you can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver\"><em>locator strategies</em></a>:</p>\n<ul>\n<li><p>Using <em>cssSelector</em>:</p>\n<pre><code>WebElement navTwitter = driver.findElement(By.cssSelector(&quot;a.nav-twitter[name='twitter']&quot;));\nnavTwitter.click();\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em>:</p>\n<pre><code>WebElement navTwitter = driver.findElement(By.xpath(&quot;//a[@class='nav-twitter' and name='twitter']&quot;));\nnavTwitter.click();\n</code></pre>\n</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":18844892,"reputation":13,"user_id":13745453,"display_name":"Baasith Fazil"},"score":0,"creation_date":1675079604,"post_id":75274278,"comment_id":132844333,"body_markdown":"none of these sytax works. dont know why.","body":"none of these sytax works. dont know why."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675156231,"post_id":75274278,"comment_id":132862702,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75274278/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":10476413,"reputation":11,"user_id":7722807,"display_name":"akansh singhal"},"score":0,"creation_date":1675166625,"post_id":75274278,"comment_id":132865965,"body_markdown":"@BaasithFazil I think you are unable to convey your question correctly. These are the correct syntax which can be formed for the mentioned part of HTML. And you were using absolutely wrong locator.","body":"@BaasithFazil I think you are unable to convey your question correctly. These are the correct syntax which can be formed for the mentioned part of HTML. And you were using absolutely wrong locator."}],"tags":[],"owner":{"account_id":10476413,"reputation":11,"user_id":7722807,"display_name":"akansh singhal"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1674989273,"creation_date":1674989273,"answer_id":75274278,"question_id":75270044,"body_markdown":"You have used wrong selector/locator here. &quot;twitter&quot; is not tag name, Tag name is the value from less than symbol to the first space or greater than symbol. Words like div, p, a, span are the tag names. \r\n\r\nSo here a is the tag name and name, class, href are attribute which you can use while forming xpath or css locators. So you can create multiple locators here:\r\n\r\n 1. By using class name attribute\r\n\r\n        By.className(&quot;nav-twitter&quot;);\r\n\r\n 2. By creating xpath using name attribute\r\n\r\n        By.xpath(&quot;//a[@name=&#39;twitter&#39;]&quot;);]\r\n\r\n 3. By creating xpath using class attribute\r\n\r\n        By.xpath(&quot;//a[@class=&#39;nav-twitter&#39;]&quot;);\r\n\r\n 4. By creating css locator using class attribute. \r\n\r\n        By.cssSelector(&quot;a[class*=&#39;nav-twitter&#39;]&quot;);\r\n\r\n 5. By using dot symbol in css selector with class name\r\n\r\n        By.cssSelector(&quot;a.nav-twitter&quot;);\r\n\r\nSimilarly you can create css selector with name too. Since there are multiple &lt;a&gt; tags, so you can not use a tag directly and If you want to use `By.tagName(&quot;a&quot;)` then it will click on first &lt;a&gt; tag present on the page\r\n\r\n\r\n*Note: We use dot with class name and Hash (#) with Id name while forming css selectors.*","title":"cant find the element using classname in selenium java","body":"<p>You have used wrong selector/locator here. &quot;twitter&quot; is not tag name, Tag name is the value from less than symbol to the first space or greater than symbol. Words like div, p, a, span are the tag names.</p>\n<p>So here a is the tag name and name, class, href are attribute which you can use while forming xpath or css locators. So you can create multiple locators here:</p>\n<ol>\n<li><p>By using class name attribute</p>\n<pre><code>By.className(&quot;nav-twitter&quot;);\n</code></pre>\n</li>\n<li><p>By creating xpath using name attribute</p>\n<pre><code>By.xpath(&quot;//a[@name='twitter']&quot;);]\n</code></pre>\n</li>\n<li><p>By creating xpath using class attribute</p>\n<pre><code>By.xpath(&quot;//a[@class='nav-twitter']&quot;);\n</code></pre>\n</li>\n<li><p>By creating css locator using class attribute.</p>\n<pre><code>By.cssSelector(&quot;a[class*='nav-twitter']&quot;);\n</code></pre>\n</li>\n<li><p>By using dot symbol in css selector with class name</p>\n<pre><code>By.cssSelector(&quot;a.nav-twitter&quot;);\n</code></pre>\n</li>\n</ol>\n<p>Similarly you can create css selector with name too. Since there are multiple  tags, so you can not use a tag directly and If you want to use <code>By.tagName(&quot;a&quot;)</code> then it will click on first  tag present on the page</p>\n<p><em>Note: We use dot with class name and Hash (#) with Id name while forming css selectors.</em></p>\n"}],"owner":{"account_id":18844892,"reputation":13,"user_id":13745453,"display_name":"Baasith Fazil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":3,"score":-4,"last_activity_date":1674989273,"creation_date":1674931548,"question_id":75270044,"body_markdown":"I&#39;am using selenium framework to test my own website. Im trying to click on specific icon which using anchor tag. I have java selenium code to click but couldn&#39;t click. Tried many xpath, css selectors, class name and names. but didn&#39;t worked. But can run the script and it is opening the chrome and navigating to entered domain but the clicking option is not working[![This the code of my website][1]][1] \r\n\r\n\r\nabove code I need to click nav-twitter class anchor option . which will create another tab in chrome to show my twitter page. but after running the app .it is only navigating to the page domain and nothing works.\r\n\r\n\r\n[![Selenium Code Snippets][2]][2]\r\n\r\n\r\nSo, This is my code where I have added. until the maximize everything works but not the anchor tag\r\n\r\n\r\n[![Error Image][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RxgeB.png\r\n  [2]: https://i.stack.imgur.com/ak2IL.png\r\n  [3]: https://i.stack.imgur.com/7mHsC.png\r\n\r\nThis kind of error im getting when running the script in chrome. Please anyone let me know where I have been wrong here or is there are any way to make it happen. Thanks in advance.","title":"cant find the element using classname in selenium java","body":"<p>I'am using selenium framework to test my own website. Im trying to click on specific icon which using anchor tag. I have java selenium code to click but couldn't click. Tried many xpath, css selectors, class name and names. but didn't worked. But can run the script and it is opening the chrome and navigating to entered domain but the clicking option is not working<a href=\"https://i.stack.imgur.com/RxgeB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RxgeB.png\" alt=\"This the code of my website\" /></a></p>\n<p>above code I need to click nav-twitter class anchor option . which will create another tab in chrome to show my twitter page. but after running the app .it is only navigating to the page domain and nothing works.</p>\n<p><a href=\"https://i.stack.imgur.com/ak2IL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ak2IL.png\" alt=\"Selenium Code Snippets\" /></a></p>\n<p>So, This is my code where I have added. until the maximize everything works but not the anchor tag</p>\n<p><a href=\"https://i.stack.imgur.com/7mHsC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7mHsC.png\" alt=\"Error Image\" /></a></p>\n<p>This kind of error im getting when running the script in chrome. Please anyone let me know where I have been wrong here or is there are any way to make it happen. Thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"owner":{"account_id":17139355,"reputation":1,"user_id":13914848,"display_name":"Виктор"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674988761,"creation_date":1674977859,"question_id":75273292,"body_markdown":"How to do the same that I pointed using Spring Boot (+Security)? Implementation of WebMvcConfigurer interface resets a lots settings, which were performed by Spring BOOT did automatically. For example, setting in application.properties &quot;spring.mvc.hiddenmethod.filter.enabled=true&quot; stopped to work. Question in that how to setting a binding of multiple ResourceHandler:ResourceLocation pairs without configuring the extra.\r\nI don&#39;t know how to make things right.\r\n\r\n```java\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class MvcConfig implements WebMvcConfigurer {\r\n        @Override\r\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n            registry.addResourceHandler(&quot;/css/**&quot;)\r\n                    .addResourceLocations(&quot;classpath:/static/assets/css/&quot;);\r\n            registry.addResourceHandler(&quot;/images/**&quot;)\r\n                    .addResourceLocations(&quot;classpath:/static/assets/images/&quot;);\r\n            registry.addResourceHandler(&quot;/js/**&quot;)\r\n                    .addResourceLocations(&quot;classpath:/static/assets/js/&quot;);\r\n            registry.addResourceHandler(&quot;/person-storage/**&quot;)\r\n                    .addResourceLocations(&quot;classpath:/storage/person-images/&quot;);\r\n        }\r\n    }\r\n```\r\n\r\nI tried to use settings in application.properties for spring boot. I tried to create @Bean of &quot;addResourceHandler&quot; to I won&#39;t implement interface WebMvcConfigurer fully.","title":"Config resource handlers for Spring Boot","body":"<p>How to do the same that I pointed using Spring Boot (+Security)? Implementation of WebMvcConfigurer interface resets a lots settings, which were performed by Spring BOOT did automatically. For example, setting in application.properties &quot;spring.mvc.hiddenmethod.filter.enabled=true&quot; stopped to work. Question in that how to setting a binding of multiple ResourceHandler:ResourceLocation pairs without configuring the extra.\nI don't know how to make things right.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Configuration\n    @EnableWebMvc\n    public class MvcConfig implements WebMvcConfigurer {\n        @Override\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\n            registry.addResourceHandler(&quot;/css/**&quot;)\n                    .addResourceLocations(&quot;classpath:/static/assets/css/&quot;);\n            registry.addResourceHandler(&quot;/images/**&quot;)\n                    .addResourceLocations(&quot;classpath:/static/assets/images/&quot;);\n            registry.addResourceHandler(&quot;/js/**&quot;)\n                    .addResourceLocations(&quot;classpath:/static/assets/js/&quot;);\n            registry.addResourceHandler(&quot;/person-storage/**&quot;)\n                    .addResourceLocations(&quot;classpath:/storage/person-images/&quot;);\n        }\n    }\n</code></pre>\n<p>I tried to use settings in application.properties for spring boot. I tried to create @Bean of &quot;addResourceHandler&quot; to I won't implement interface WebMvcConfigurer fully.</p>\n"},{"tags":["java","c#",".net","static-import"],"comments":[{"owner":{"account_id":4175009,"reputation":1660,"user_id":3421814,"accept_rate":75,"display_name":"Andrej Adamenko"},"score":0,"creation_date":1449479890,"post_id":7692826,"comment_id":56007932,"body_markdown":"Possible duplicate of [Is it possible to reference a method in a static class without referencing the class?](http://stackoverflow.com/questions/30671769/is-it-possible-to-reference-a-method-in-a-static-class-without-referencing-the-c)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/30671769/is-it-possible-to-reference-a-method-in-a-static-class-without-referencing-the-c\">Is it possible to reference a method in a static class without referencing the class?</a>"}],"answers":[{"tags":[],"owner":{"account_id":14332,"reputation":1027462,"user_id":29407,"accept_rate":86,"display_name":"Darin Dimitrov"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1318023934,"creation_date":1318021405,"answer_id":7692839,"question_id":7692826,"body_markdown":"No, such feature doesn&#39;t exist in C#. You need to specify the class that the static method belongs to unless you are already inside a method of this same class.\r\n\r\nIn C# though you have [extension methods][1] which kind of mimic this.\r\n\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/library/bb383977.aspx","title":"static imports in c#","body":"<p>No, such feature doesn't exist in C#. You need to specify the class that the static method belongs to unless you are already inside a method of this same class.</p>\n\n<p>In C# though you have <a href=\"http://msdn.microsoft.com/en-us/library/bb383977.aspx\">extension methods</a> which kind of mimic this.</p>\n"},{"tags":[],"owner":{"account_id":1190,"reputation":492175,"user_id":1583,"accept_rate":100,"display_name":"Oded"},"comment_count":0,"down_vote_count":0,"up_vote_count":99,"is_accepted":true,"score":99,"last_activity_date":1443874257,"creation_date":1318021441,"answer_id":7692845,"question_id":7692826,"body_markdown":"Starting with C# 6.0, this is possible:\r\n\r\n    using static FileHelper;\r\n\r\n    // in a member\r\n    ExtractSimpleFileName(file)\r\n\r\n----\r\n\r\nHowever, previous versions of C# do not have static imports.\r\n\r\nYou can get close with an alias for the type.\r\n\r\n    using FH = namespace.FileHelper;\r\n    \r\n    // in a member\r\n    FH.ExtractSimpleFileName(file)\r\n\r\nAlternatively, change the static method to an [extension method][1] on the type - you would then be able to call it as:\r\n\r\n    var value = file.ExtractSimpleFileName();\r\n\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/library/bb383977.aspx","title":"static imports in c#","body":"<p>Starting with C# 6.0, this is possible:</p>\n\n<pre><code>using static FileHelper;\n\n// in a member\nExtractSimpleFileName(file)\n</code></pre>\n\n<hr>\n\n<p>However, previous versions of C# do not have static imports.</p>\n\n<p>You can get close with an alias for the type.</p>\n\n<pre><code>using FH = namespace.FileHelper;\n\n// in a member\nFH.ExtractSimpleFileName(file)\n</code></pre>\n\n<p>Alternatively, change the static method to an <a href=\"http://msdn.microsoft.com/en-us/library/bb383977.aspx\" rel=\"noreferrer\">extension method</a> on the type - you would then be able to call it as:</p>\n\n<pre><code>var value = file.ExtractSimpleFileName();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":97315,"reputation":9210,"user_id":264031,"accept_rate":88,"display_name":"Nicholas Petersen"},"score":0,"creation_date":1414094876,"post_id":24634374,"comment_id":41698834,"body_markdown":"Jack be Nimble, Jack be Quick … with C# static usings!\n\nI cannot express how thrilled I am about this feature. I have been eagerly waiting for this expressiveness to enter the language for years, but never expected I would see the day.","body":"Jack be Nimble, Jack be Quick … with C# static usings!  I cannot express how thrilled I am about this feature. I have been eagerly waiting for this expressiveness to enter the language for years, but never expected I would see the day."}],"tags":[],"owner":{"account_id":3350,"reputation":22909,"user_id":4830,"accept_rate":80,"display_name":"Michiel van Oosterhout"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1404829563,"creation_date":1404829563,"answer_id":24634374,"question_id":7692826,"body_markdown":"Time marches on... it looks like C# might get static imports in the next version, see http://msdn.microsoft.com/en-us/magazine/dn683793.aspx for a preview.\r\n\r\n    using System;\r\n    using System.Console; // using the Console class here\r\n\r\n    public class Program\r\n    {\r\n        public static void Main()\r\n        {\r\n            // Console.WriteLine is called here\r\n            WriteLine(&quot;Hello world!&quot;);\r\n        }\r\n    }\r\n\r\nThe [official documentation][1] for the &#39;Roslyn&#39; C# compiler lists the feature as &#39;done&#39;\r\n\r\n\r\n  [1]: https://roslyn.codeplex.com/wikipage?title=Language%20Feature%20Status&amp;referringTitle=Home","title":"static imports in c#","body":"<p>Time marches on... it looks like C# might get static imports in the next version, see <a href=\"http://msdn.microsoft.com/en-us/magazine/dn683793.aspx\" rel=\"noreferrer\">http://msdn.microsoft.com/en-us/magazine/dn683793.aspx</a> for a preview.</p>\n\n<pre><code>using System;\nusing System.Console; // using the Console class here\n\npublic class Program\n{\n    public static void Main()\n    {\n        // Console.WriteLine is called here\n        WriteLine(\"Hello world!\");\n    }\n}\n</code></pre>\n\n<p>The <a href=\"https://roslyn.codeplex.com/wikipage?title=Language%20Feature%20Status&amp;referringTitle=Home\" rel=\"noreferrer\">official documentation</a> for the 'Roslyn' C# compiler lists the feature as 'done'</p>\n"},{"tags":[],"owner":{"account_id":931267,"reputation":220130,"user_id":961113,"display_name":"Habib"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1429814334,"creation_date":1429814334,"answer_id":29831750,"question_id":7692826,"body_markdown":"C# 6.0 under Roslyn Platform [supports Static import][1]. It requires statement like:\r\n\r\n    using static System.Console;\r\n\r\nso the code might look like:\r\n\r\n    using static System.Console;\r\n    namespace TestApplication\r\n    {\r\n    \tclass Program\r\n    \t{\r\n    \t\tstatic void Main(string[] args)\r\n    \t\t{\r\n    \t\t\tWriteLine(&quot;My test message&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nThe earlier planned version for C# 6.0 had static import *without* `static` keyword. \r\n\r\nFor other new features in C# 6.0 see: [New Language Features in C# 6][2]\r\n\r\n\r\n  [1]: https://github.com/dotnet/roslyn/wiki/New-Language-Features-in-C%23-6\r\n  [2]: https://github.com/dotnet/roslyn/wiki/New-Language-Features-in-C%23-6","title":"static imports in c#","body":"<p>C# 6.0 under Roslyn Platform <a href=\"https://github.com/dotnet/roslyn/wiki/New-Language-Features-in-C%23-6\" rel=\"noreferrer\">supports Static import</a>. It requires statement like:</p>\n\n<pre><code>using static System.Console;\n</code></pre>\n\n<p>so the code might look like:</p>\n\n<pre><code>using static System.Console;\nnamespace TestApplication\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            WriteLine(\"My test message\");\n        }\n    }\n}\n</code></pre>\n\n<p>The earlier planned version for C# 6.0 had static import <em>without</em> <code>static</code> keyword. </p>\n\n<p>For other new features in C# 6.0 see: <a href=\"https://github.com/dotnet/roslyn/wiki/New-Language-Features-in-C%23-6\" rel=\"noreferrer\">New Language Features in C# 6</a></p>\n"},{"tags":[],"owner":{"account_id":4242117,"reputation":2087,"user_id":3471712,"display_name":"Auguste"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674988599,"creation_date":1674986891,"answer_id":75274086,"question_id":7692826,"body_markdown":"If you are using .Net 6+ with C# 10+, you can add all the namepaces, (including the static ones) that you want to use globally in obj &gt; Projectname.GlobalUsings.g.cs and you&#39;ll be able to use all the classes that are part of those namepaces without importing.  Here are some examples:\r\n\r\n     global using global::System.Net.Http.Json;\r\n     global using global::System.Threading;\r\n     global using global::System.Threading.Tasks;\r\n     global using static global::System.Console;","title":"static imports in c#","body":"<p>If you are using .Net 6+ with C# 10+, you can add all the namepaces, (including the static ones) that you want to use globally in obj &gt; Projectname.GlobalUsings.g.cs and you'll be able to use all the classes that are part of those namepaces without importing.  Here are some examples:</p>\n<pre><code> global using global::System.Net.Http.Json;\n global using global::System.Threading;\n global using global::System.Threading.Tasks;\n global using static global::System.Console;\n</code></pre>\n"}],"owner":{"account_id":14684,"reputation":62911,"user_id":30453,"accept_rate":82,"display_name":"IAdapter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23437,"favorite_count":0,"down_vote_count":0,"up_vote_count":58,"accepted_answer_id":7692845,"answer_count":5,"score":58,"last_activity_date":1674988599,"creation_date":1318021329,"question_id":7692826,"body_markdown":"Does C# has feature like Java&#39;s static imports?\r\n\r\nso instead of writing code like \r\n\r\n    FileHelper.ExtractSimpleFileName(file)\r\n\r\nI could write\r\n\r\n    ExtractSimpleFileName(file)\r\n\r\nand compiler would know that I mean method from FileHelper.\r\n\r\n","title":"static imports in c#","body":"<p>Does C# has feature like Java's static imports?</p>\n\n<p>so instead of writing code like </p>\n\n<pre><code>FileHelper.ExtractSimpleFileName(file)\n</code></pre>\n\n<p>I could write</p>\n\n<pre><code>ExtractSimpleFileName(file)\n</code></pre>\n\n<p>and compiler would know that I mean method from FileHelper.</p>\n"},{"tags":["java","spring","dependency-injection"],"answers":[{"comments":[{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":1,"creation_date":1285684171,"post_id":3813725,"comment_id":4045864,"body_markdown":"Good answer (+1). There&#39;s also a second method where you can influence how the autowiring happens: http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/beans/factory/config/AutowireCapableBeanFactory.html#autowireBeanProperties%28java.lang.Object,%20int,%20boolean%29","body":"Good answer (+1). There&#39;s also a second method where you can influence how the autowiring happens: <a href=\"http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/beans/factory/config/AutowireCapableBeanFactory.html#autowireBeanProperties%28java.lang.Object,%20int,%20boolean%29\" rel=\"nofollow noreferrer\">static.springsource.org/spring/docs/3.0.x/javadoc-api/org/&hellip;</a>"},{"owner":{"account_id":3234420,"reputation":3542,"user_id":2728956,"accept_rate":66,"display_name":"Vadim Kirilchuk"},"score":1,"creation_date":1390245914,"post_id":3813725,"comment_id":31999611,"body_markdown":"But what if I have two objects, and first autowires second. How autowire bean factory deals with dependencies in the case?","body":"But what if I have two objects, and first autowires second. How autowire bean factory deals with dependencies in the case?"},{"owner":{"account_id":2331923,"reputation":209,"user_id":2045133,"display_name":"Denis"},"score":4,"creation_date":1396563921,"post_id":3813725,"comment_id":34858169,"body_markdown":"This is actually a bad pattern. If this is how you really use MyBean why not just have constructor with AnotherBean as parameter. Something like:        `code` private @Autowired AnotherBean bean; public void doStuff() { MyBean obj = new MyBean(bean); } `code`. Seems to be like with all these annotations people get really confused and just don&#39;t use the basic pattern that were in java SDK since day 1. :(","body":"This is actually a bad pattern. If this is how you really use MyBean why not just have constructor with AnotherBean as parameter. Something like:        <code>code</code> private @Autowired AnotherBean bean; public void doStuff() { MyBean obj = new MyBean(bean); } <code>code</code>. Seems to be like with all these annotations people get really confused and just don&#39;t use the basic pattern that were in java SDK since day 1. :("},{"owner":{"account_id":1735668,"reputation":1932,"user_id":1588303,"display_name":"Rodney P. Barbati"},"score":6,"creation_date":1441293776,"post_id":3813725,"comment_id":52629787,"body_markdown":"I agree - Spring has redefined the entire language.  Now we use interfaces as concrete classes, methods as class instances and all manner of complicated and code heavy methods of doing what you used to do with new and a decent design.","body":"I agree - Spring has redefined the entire language.  Now we use interfaces as concrete classes, methods as class instances and all manner of complicated and code heavy methods of doing what you used to do with new and a decent design."},{"owner":{"account_id":3613893,"reputation":420,"user_id":3014279,"display_name":"Dalton"},"score":0,"creation_date":1455194182,"post_id":3813725,"comment_id":58386258,"body_markdown":"@Denis if MyBean has dependencies that the actual class don&#39;t need, you&#39;re registering dependencies that doesn&#39;t actually exist, just to instance a class, so there&#39;s really no difference.","body":"@Denis if MyBean has dependencies that the actual class don&#39;t need, you&#39;re registering dependencies that doesn&#39;t actually exist, just to instance a class, so there&#39;s really no difference."},{"owner":{"account_id":42147,"reputation":16251,"user_id":2326914,"accept_rate":33,"display_name":"Rog&#233;rio"},"score":0,"creation_date":1471626508,"post_id":3813725,"comment_id":65438426,"body_markdown":"I think the answer by @glaz666 is much cleaner/better than this. The only disadvantage of using `@Configurable` I can see is that it requires Spring to use AspectJ under the covers.","body":"I think the answer by @glaz666 is much cleaner/better than this. The only disadvantage of using <code>@Configurable</code> I can see is that it requires Spring to use AspectJ under the covers."},{"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"score":0,"creation_date":1474953140,"post_id":3813725,"comment_id":66730477,"body_markdown":"It is a very useful capability and the answer is quite correct. Some frameworks , like struts 2, use this feature to `autowire` their beans. See http://stackoverflow.com/questions/39706221/struts-2-and-spring-how-struts-created-objects-handled","body":"It is a very useful capability and the answer is quite correct. Some frameworks , like struts 2, use this feature to <code>autowire</code> their beans. See <a href=\"http://stackoverflow.com/questions/39706221/struts-2-and-spring-how-struts-created-objects-handled\" title=\"struts 2 and spring how struts created objects handled\">stackoverflow.com/questions/39706221/&hellip;</a>"},{"owner":{"account_id":1435357,"reputation":1406,"user_id":1356874,"accept_rate":79,"display_name":"http8086"},"score":0,"creation_date":1566490434,"post_id":3813725,"comment_id":101681896,"body_markdown":"actually there has nothing mentioned about this in spring framework reference documentation, why is that","body":"actually there has nothing mentioned about this in spring framework reference documentation, why is that"},{"owner":{"account_id":4457805,"reputation":158,"user_id":3627515,"display_name":"leonidos79"},"score":0,"creation_date":1580395347,"post_id":3813725,"comment_id":106090308,"body_markdown":"There is also another very helpful `BeanFactory` method that does NOT autowire the bean as such (i.e. it does not inject dependencies by means of setter or field injection), but it does make the bean aware of its surroundings by injecting application context, reference to a bean factory, invoking post-initialization callbacks, and assigning bean a name. And it does not require a `BeanDefinition` to be present (something that autowire() method expects):\n\n`initializeBean(Object existingBean, String beanName)`","body":"There is also another very helpful <code>BeanFactory</code> method that does NOT autowire the bean as such (i.e. it does not inject dependencies by means of setter or field injection), but it does make the bean aware of its surroundings by injecting application context, reference to a bean factory, invoking post-initialization callbacks, and assigning bean a name. And it does not require a <code>BeanDefinition</code> to be present (something that autowire() method expects):  <code>initializeBean(Object existingBean, String beanName)</code>"}],"tags":[],"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"comment_count":9,"down_vote_count":0,"up_vote_count":232,"is_accepted":true,"score":232,"last_activity_date":1285683716,"creation_date":1285683716,"answer_id":3813725,"question_id":3813588,"body_markdown":"You can do this using the `autowireBean()` method of `AutowireCapableBeanFactory`. You pass it an arbitrary object, and Spring will treat it like something it created itself, and will apply the various autowiring bits and pieces.\r\n\r\nTo get hold of the `AutowireCapableBeanFactory`, just autowire that:\r\n\r\n    private @Autowired AutowireCapableBeanFactory beanFactory;\r\n    \r\n    public void doStuff() {\r\n       MyBean obj = new MyBean();\r\n       beanFactory.autowireBean(obj);\r\n       // obj will now have its dependencies autowired.\r\n    }","title":"How to inject dependencies into a self-instantiated object in Spring?","body":"<p>You can do this using the <code>autowireBean()</code> method of <code>AutowireCapableBeanFactory</code>. You pass it an arbitrary object, and Spring will treat it like something it created itself, and will apply the various autowiring bits and pieces.</p>\n\n<p>To get hold of the <code>AutowireCapableBeanFactory</code>, just autowire that:</p>\n\n<pre><code>private @Autowired AutowireCapableBeanFactory beanFactory;\n\npublic void doStuff() {\n   MyBean obj = new MyBean();\n   beanFactory.autowireBean(obj);\n   // obj will now have its dependencies autowired.\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4530803,"reputation":1032,"user_id":3681352,"accept_rate":38,"display_name":"troymass"},"score":2,"creation_date":1409374283,"post_id":3979179,"comment_id":39950733,"body_markdown":"Galz666, your method looks much cleaner for what I want to do. However I cannot get it to work. I have no xml file and am using entirely Java config. Is there an equivalent to `&lt;context:spring-configured/&gt;` ?","body":"Galz666, your method looks much cleaner for what I want to do. However I cannot get it to work. I have no xml file and am using entirely Java config. Is there an equivalent to <code>&lt;context:spring-configured&#47;&gt;</code> ?"},{"owner":{"account_id":6693158,"reputation":1560,"user_id":5162026,"accept_rate":79,"display_name":"jsosnowski"},"score":1,"creation_date":1439648747,"post_id":3979179,"comment_id":51953002,"body_markdown":"This is clean solution, but requires a little more effort: You should either use load-time weaving as iimuhin shows above or add AspectJ compiler to project. Load-time as the name suggest will cause additional cost at run-time.","body":"This is clean solution, but requires a little more effort: You should either use load-time weaving as iimuhin shows above or add AspectJ compiler to project. Load-time as the name suggest will cause additional cost at run-time."}],"tags":[],"owner":{"account_id":23731,"reputation":8707,"user_id":59692,"accept_rate":57,"display_name":"glaz666"},"comment_count":2,"down_vote_count":2,"up_vote_count":20,"is_accepted":false,"score":18,"last_activity_date":1287586385,"creation_date":1287586385,"answer_id":3979179,"question_id":3813588,"body_markdown":"You can also mark your MyClass with @Configurable annotation:\r\n\r\n    @Configurable\r\n    public class MyClass {\r\n       @Autowired private AnotherClass instance\r\n    }\r\n\r\nThen at creation time it will automatically inject its dependencies. You also should have `&lt;context:spring-configured/&gt;` in your application context xml. \r\n","title":"How to inject dependencies into a self-instantiated object in Spring?","body":"<p>You can also mark your MyClass with @Configurable annotation:</p>\n\n<pre><code>@Configurable\npublic class MyClass {\n   @Autowired private AnotherClass instance\n}\n</code></pre>\n\n<p>Then at creation time it will automatically inject its dependencies. You also should have <code>&lt;context:spring-configured/&gt;</code> in your application context xml. </p>\n"},{"tags":[],"owner":{"account_id":2453287,"reputation":3192,"user_id":2139038,"accept_rate":67,"display_name":"rand0m86"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1518818315,"creation_date":1518818315,"answer_id":48835448,"question_id":3813588,"body_markdown":"Just got the same need and in my case it was already the logic inside non Spring manageable java class which had access to `ApplicationContext`. Inspired by scaffman.\r\nSolved by:\r\n\r\n\r\n    AutowireCapableBeanFactory factory = applicationContext.getAutowireCapableBeanFactory();\r\n    factory.autowireBean(manuallyCreatedInstance);\r\n","title":"How to inject dependencies into a self-instantiated object in Spring?","body":"<p>Just got the same need and in my case it was already the logic inside non Spring manageable java class which had access to <code>ApplicationContext</code>. Inspired by scaffman.\nSolved by:</p>\n\n<pre><code>AutowireCapableBeanFactory factory = applicationContext.getAutowireCapableBeanFactory();\nfactory.autowireBean(manuallyCreatedInstance);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1268826,"reputation":7565,"user_id":1225551,"accept_rate":75,"display_name":"Raf"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1529435172,"creation_date":1529435172,"answer_id":50935376,"question_id":3813588,"body_markdown":"I wanted to share my solution that follows the `@Configurable` approach as `briefly` mentioned in @glaz666 [answer][1] because \r\n\r\n - The [answer][2] by @skaffman is nearly 10 years old, and that does not mean not good enough or does not work\r\n - The answer by @glaz666 is brief and didn&#39;t really help me solve my problem but, did point me in the right direction\r\n\r\nMy setup\r\n---\r\n\r\n 1. Spring Boot 2.0.3 with `Spring Neo4j &amp; Aop starts` (which is irrelevant anyway)\r\n 2. Instantiate a bean when `Spring Boot` is ready using `@Configurable` approach (using `ApplicationRunner`) \r\n 3. Gradle &amp; Eclipse\r\n\r\n\r\nSteps\r\n---- \r\nI needed to follow the steps below in order to get it working\r\n\r\n 1. The `@Configurable(preConstruction = true, autowire = Autowire.BY_TYPE, dependencyCheck = false)` to be placed on top of your `Bean` that is to be manually instantiated. In my case the `Bean` that is to be manually instantiated have `@Autowired` services hence, the props to above annotation. \r\n 2. Annotate the Spring Boot&#39;s main `XXXApplicaiton.java` (or the file that is annotated with `@SpringBootApplication`) with the `@EnableSpringConfigured` and `@EnableLoadTimeWeaving(aspectjWeaving=AspectJWeaving.ENABLED)` \r\n 3. Add the dependencies in your build file (i.e. build.gradle or pom.xml depending on which one you use) `compile(&#39;org.springframework.boot:spring-boot-starter-aop&#39;)` and `compile(&#39;org.springframework:spring-aspects:5.0.7.RELEASE&#39;)` \r\n 4. New+up your `Bean` that is annotated with `@Configurable` anywhere and its dependencies should be autowired. \r\n\r\n \r\n*In regards to point #3 above, I am aware that the `org.springframework.boot:spring-boot-starter-aop` transitively pulls the `spring-aop` (as shown here [mavencentral][3]) but, in my case the Eclipse failed to resolve the `@EnableSpringConfigured` annotations hence, why I explicitly added the `spring-aop` dependency in addition to the starter. Should you face the same issue, just declare the dependency or go on adventure of figuring out \r\n\r\n - Is there a version conflict \r\n - Why the `org.springframework.context.annotation.aspect.*` is not available\r\n - Is your IDE setup properly\r\n - Etc etc.\r\n\r\n  [1]: https://stackoverflow.com/a/3979179/1225551\r\n  [2]: https://stackoverflow.com/a/3813725/1225551\r\n  [3]: https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-aop/2.0.3.RELEASE","title":"How to inject dependencies into a self-instantiated object in Spring?","body":"<p>I wanted to share my solution that follows the <code>@Configurable</code> approach as <code>briefly</code> mentioned in @glaz666 <a href=\"https://stackoverflow.com/a/3979179/1225551\">answer</a> because </p>\n\n<ul>\n<li>The <a href=\"https://stackoverflow.com/a/3813725/1225551\">answer</a> by @skaffman is nearly 10 years old, and that does not mean not good enough or does not work</li>\n<li>The answer by @glaz666 is brief and didn't really help me solve my problem but, did point me in the right direction</li>\n</ul>\n\n<h2>My setup</h2>\n\n<ol>\n<li>Spring Boot 2.0.3 with <code>Spring Neo4j &amp; Aop starts</code> (which is irrelevant anyway)</li>\n<li>Instantiate a bean when <code>Spring Boot</code> is ready using <code>@Configurable</code> approach (using <code>ApplicationRunner</code>) </li>\n<li>Gradle &amp; Eclipse</li>\n</ol>\n\n<h2>Steps</h2>\n\n<p>I needed to follow the steps below in order to get it working</p>\n\n<ol>\n<li>The <code>@Configurable(preConstruction = true, autowire = Autowire.BY_TYPE, dependencyCheck = false)</code> to be placed on top of your <code>Bean</code> that is to be manually instantiated. In my case the <code>Bean</code> that is to be manually instantiated have <code>@Autowired</code> services hence, the props to above annotation. </li>\n<li>Annotate the Spring Boot's main <code>XXXApplicaiton.java</code> (or the file that is annotated with <code>@SpringBootApplication</code>) with the <code>@EnableSpringConfigured</code> and <code>@EnableLoadTimeWeaving(aspectjWeaving=AspectJWeaving.ENABLED)</code> </li>\n<li>Add the dependencies in your build file (i.e. build.gradle or pom.xml depending on which one you use) <code>compile('org.springframework.boot:spring-boot-starter-aop')</code> and <code>compile('org.springframework:spring-aspects:5.0.7.RELEASE')</code> </li>\n<li>New+up your <code>Bean</code> that is annotated with <code>@Configurable</code> anywhere and its dependencies should be autowired. </li>\n</ol>\n\n<p>*In regards to point #3 above, I am aware that the <code>org.springframework.boot:spring-boot-starter-aop</code> transitively pulls the <code>spring-aop</code> (as shown here <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-aop/2.0.3.RELEASE\" rel=\"nofollow noreferrer\">mavencentral</a>) but, in my case the Eclipse failed to resolve the <code>@EnableSpringConfigured</code> annotations hence, why I explicitly added the <code>spring-aop</code> dependency in addition to the starter. Should you face the same issue, just declare the dependency or go on adventure of figuring out </p>\n\n<ul>\n<li>Is there a version conflict </li>\n<li>Why the <code>org.springframework.context.annotation.aspect.*</code> is not available</li>\n<li>Is your IDE setup properly</li>\n<li>Etc etc.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":2508599,"reputation":374,"user_id":2181576,"display_name":"veritas"},"score":0,"creation_date":1629617378,"post_id":66077592,"comment_id":121729946,"body_markdown":"This worked for me after going to the confluence link. Have upvoted it.","body":"This worked for me after going to the confluence link. Have upvoted it."},{"owner":{"account_id":5462594,"reputation":227,"user_id":4344206,"display_name":"Aung Aung"},"score":0,"creation_date":1679489915,"post_id":66077592,"comment_id":133730756,"body_markdown":"This work for me thanks. If you are in my country. i am glad to treat you beer","body":"This work for me thanks. If you are in my country. i am glad to treat you beer"}],"tags":[],"owner":{"account_id":37795,"reputation":1585,"user_id":108153,"accept_rate":25,"display_name":"codeDr"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1612619286,"creation_date":1612619286,"answer_id":66077592,"question_id":3813588,"body_markdown":"I used a different approach.  I had spring loaded beans that I wanted to call from my extended classes of a third-party library that created its own threads. \r\n\r\nI used approach I found here https://confluence.jaytaala.com/display/TKB/Super+simple+approach+to+accessing+Spring+beans+from+non-Spring+managed+classes+and+POJOs\r\n\r\nIn the non-managed class:\r\n\r\n    {\r\n        [...]\r\n        SomeBean bc = (SomeBean) SpringContext.getBean(SomeBean.class);\r\n\r\n        [...]\r\n        bc.someMethod(...)\r\n    }\r\n\r\nAnd then as a helper class in the main application:\r\n\r\n    import org.springframework.beans.BeansException;\r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.ApplicationContextAware;\r\n    import org.springframework.stereotype.Component;\r\n\r\n    @Component\r\n    public class SpringContext implements ApplicationContextAware\r\n    {\r\n        private static ApplicationContext context;\r\n\r\n        public static &lt;T extends Object&gt; T getBean(Class&lt;T&gt; beanClass)\r\n        {   \r\n            return context.getBean(beanClass);\r\n        }\r\n\r\n        @Override\r\n        public void setApplicationContext(ApplicationContext context) throws BeansException\r\n        {   \r\n            SpringContext.context = context;\r\n        }\r\n    }\r\n\r\n[1]: https://confluence.jaytaala.com/display/TKB/Super+simple+approach+to+accessing+Spring+beans+from+non-Spring+managed+classes+and+POJOs\r\n","title":"How to inject dependencies into a self-instantiated object in Spring?","body":"<p>I used a different approach.  I had spring loaded beans that I wanted to call from my extended classes of a third-party library that created its own threads.</p>\n<p>I used approach I found here <a href=\"https://confluence.jaytaala.com/display/TKB/Super+simple+approach+to+accessing+Spring+beans+from+non-Spring+managed+classes+and+POJOs\" rel=\"noreferrer\">https://confluence.jaytaala.com/display/TKB/Super+simple+approach+to+accessing+Spring+beans+from+non-Spring+managed+classes+and+POJOs</a></p>\n<p>In the non-managed class:</p>\n<pre><code>{\n    [...]\n    SomeBean bc = (SomeBean) SpringContext.getBean(SomeBean.class);\n\n    [...]\n    bc.someMethod(...)\n}\n</code></pre>\n<p>And then as a helper class in the main application:</p>\n<pre><code>import org.springframework.beans.BeansException;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.ApplicationContextAware;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class SpringContext implements ApplicationContextAware\n{\n    private static ApplicationContext context;\n\n    public static &lt;T extends Object&gt; T getBean(Class&lt;T&gt; beanClass)\n    {   \n        return context.getBean(beanClass);\n    }\n\n    @Override\n    public void setApplicationContext(ApplicationContext context) throws BeansException\n    {   \n        SpringContext.context = context;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3946141,"reputation":1685,"user_id":3894977,"accept_rate":75,"display_name":"mrek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646742364,"creation_date":1646742364,"answer_id":71395040,"question_id":3813588,"body_markdown":"This worked for me:\r\n\r\n```\r\n@Configuration\r\npublic class AppConfig {\r\n    @Bean\r\n    public TransferService transferService() {\r\n        return new TransferServiceImpl();\r\n    }\r\n}\r\n```\r\n\r\nSee more information: https://docs.spring.io/spring-javaconfig/docs/1.0.0.m3/reference/html/creating-bean-definitions.html","title":"How to inject dependencies into a self-instantiated object in Spring?","body":"<p>This worked for me:</p>\n<pre><code>@Configuration\npublic class AppConfig {\n    @Bean\n    public TransferService transferService() {\n        return new TransferServiceImpl();\n    }\n}\n</code></pre>\n<p>See more information: <a href=\"https://docs.spring.io/spring-javaconfig/docs/1.0.0.m3/reference/html/creating-bean-definitions.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-javaconfig/docs/1.0.0.m3/reference/html/creating-bean-definitions.html</a></p>\n"},{"tags":[],"owner":{"account_id":16896098,"reputation":241,"user_id":12218581,"display_name":"rohimsh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674987096,"creation_date":1674987096,"answer_id":75274104,"question_id":3813588,"body_markdown":"Found the following way useful for my use case. Sharing here for reference, credit goes to the blogger entirely. This creates a static field and populates that from Spring and then provides a public static method which returns the field populated above.\r\n \r\nhttps://sultanov.dev/blog/access-spring-beans-from-unmanaged-objects/","title":"How to inject dependencies into a self-instantiated object in Spring?","body":"<p>Found the following way useful for my use case. Sharing here for reference, credit goes to the blogger entirely. This creates a static field and populates that from Spring and then provides a public static method which returns the field populated above.</p>\n<p><a href=\"https://sultanov.dev/blog/access-spring-beans-from-unmanaged-objects/\" rel=\"nofollow noreferrer\">https://sultanov.dev/blog/access-spring-beans-from-unmanaged-objects/</a></p>\n"}],"owner":{"account_id":174948,"reputation":15184,"user_id":404615,"accept_rate":79,"display_name":"Igor Mukhin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87730,"favorite_count":0,"down_vote_count":0,"up_vote_count":158,"accepted_answer_id":3813725,"answer_count":7,"score":158,"last_activity_date":1674987096,"creation_date":1285682682,"question_id":3813588,"body_markdown":"Let&#39;s say we have a class:\r\n\r\n    public class MyClass {\r\n        @Autowired private AnotherBean anotherBean;\r\n    }\r\n\r\nThen we created an object of this class (or some other framework have created the instance of this class).\r\n\r\n    MyClass obj = new MyClass();\r\n\r\nIs it possible to still inject the dependencies? Something like:\r\n\r\n    applicationContext.injectDependencies(obj);\r\n\r\n(I think Google Guice has something like this)\r\n","title":"How to inject dependencies into a self-instantiated object in Spring?","body":"<p>Let's say we have a class:</p>\n\n<pre><code>public class MyClass {\n    @Autowired private AnotherBean anotherBean;\n}\n</code></pre>\n\n<p>Then we created an object of this class (or some other framework have created the instance of this class).</p>\n\n<pre><code>MyClass obj = new MyClass();\n</code></pre>\n\n<p>Is it possible to still inject the dependencies? Something like:</p>\n\n<pre><code>applicationContext.injectDependencies(obj);\n</code></pre>\n\n<p>(I think Google Guice has something like this)</p>\n"},{"tags":["java","html","css","html-to-pdf","pdf-conversion"],"answers":[{"tags":[],"owner":{"account_id":13316162,"reputation":11,"user_id":9612520,"display_name":"Uma"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674982609,"creation_date":1674982609,"answer_id":75273697,"question_id":75273443,"body_markdown":"I don&#39;t know much about [YaHP converter](https://github.com/allcolor/YaHP-Converter), but we can achieve this using the [itextPdf](https://github.com/itext/itext7) library easily.\r\n\r\nHere is the [link](https://stackoverflow.com/questions/38057241/itextpdf-different-margin-on-specific-page) which will help you in setting the different margins for different pages.\r\n\r\nBased on personal experience, I suggest you use to itext v7 as it can process complicated HTML documents as well compared to v5. Check [this](https://stackoverflow.com/questions/47895935/converting-html-to-pdf-using-itext) for more information on why should we use v7\r\n\r\n**Note:** itextpdf library is not free for commercial use, please check their site for further license-related information ","title":"Convert HTML to PDF With a Dynamic Margin for Different Pages in Java","body":"<p>I don't know much about <a href=\"https://github.com/allcolor/YaHP-Converter\" rel=\"nofollow noreferrer\">YaHP converter</a>, but we can achieve this using the <a href=\"https://github.com/itext/itext7\" rel=\"nofollow noreferrer\">itextPdf</a> library easily.</p>\n<p>Here is the <a href=\"https://stackoverflow.com/questions/38057241/itextpdf-different-margin-on-specific-page\">link</a> which will help you in setting the different margins for different pages.</p>\n<p>Based on personal experience, I suggest you use to itext v7 as it can process complicated HTML documents as well compared to v5. Check <a href=\"https://stackoverflow.com/questions/47895935/converting-html-to-pdf-using-itext\">this</a> for more information on why should we use v7</p>\n<p><strong>Note:</strong> itextpdf library is not free for commercial use, please check their site for further license-related information</p>\n"}],"owner":{"account_id":6599951,"reputation":596,"user_id":5098570,"display_name":"Md. Nowshad Hasan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674986537,"creation_date":1674979678,"question_id":75273443,"body_markdown":"We are working on creating PDf from HTML which will be printed on Legal Page - It contains financial stamps only for first 3 pages at the top. \r\nSo, we need to set big top margin for first 3 pages only for the space of the Financial Stamp and default margin for rest of the pages.\r\nWe are using CYaHPConverter for HTML -&gt; PDF conversion which does not support this dynamic margin setup on runtime pdf creation. \r\nCan anyone have any idea how to solve this problem with CSS or HTML. Or, suggest any other convertion library for this dynamic margin setup for different pages?\r\n\r\nI tried [YaHP-Converter][1]&#39;s documentation and other popular library like -  Aspose.PDF. But not sure how to pass the margin per page. I also tried Vanilla CSS but failed to get the idea. \r\n\r\n\r\n  [1]: https://github.com/allcolor/YaHP-Converter","title":"Convert HTML to PDF With a Dynamic Margin for Different Pages in Java","body":"<p>We are working on creating PDf from HTML which will be printed on Legal Page - It contains financial stamps only for first 3 pages at the top.\nSo, we need to set big top margin for first 3 pages only for the space of the Financial Stamp and default margin for rest of the pages.\nWe are using CYaHPConverter for HTML -&gt; PDF conversion which does not support this dynamic margin setup on runtime pdf creation.\nCan anyone have any idea how to solve this problem with CSS or HTML. Or, suggest any other convertion library for this dynamic margin setup for different pages?</p>\n<p>I tried <a href=\"https://github.com/allcolor/YaHP-Converter\" rel=\"nofollow noreferrer\">YaHP-Converter</a>'s documentation and other popular library like -  Aspose.PDF. But not sure how to pass the margin per page. I also tried Vanilla CSS but failed to get the idea.</p>\n"},{"tags":["java","eclipse","jsf","facelets"],"answers":[{"comments":[{"owner":{"account_id":150404,"reputation":42109,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"score":2,"creation_date":1309946575,"post_id":6594597,"comment_id":7779861,"body_markdown":"Actually I&#39;m facing this problem : Description\tResource\t\nNLS missing message: CANNOT_FIND_FACELET_TAGLIB in: org.eclipse.jst.jsf.core.validation.internal.facelet.messages\tindex.xhtml\t(...)\tFacelet Validator","body":"Actually I&#39;m facing this problem : Description\tResource\t NLS missing message: CANNOT_FIND_FACELET_TAGLIB in: org.eclipse.jst.jsf.core.validation.internal.facelet.message&zwnj;&#8203;s\tindex.xhtml\t(...)\t&zwnj;&#8203;Facelet Validator"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1309946782,"post_id":6594597,"comment_id":7779911,"body_markdown":"That&#39;s a Glassfish/Eclipse specific issue. Try cleaning the project (*Project &gt; Clean*). It&#39;s after all just an Eclipse project build warning. The code should run without trouble. Real JSF runtime errors are more of interest.","body":"That&#39;s a Glassfish/Eclipse specific issue. Try cleaning the project (<i>Project &gt; Clean</i>). It&#39;s after all just an Eclipse project build warning. The code should run without trouble. Real JSF runtime errors are more of interest."}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1309946343,"creation_date":1309946343,"answer_id":6594597,"question_id":6594482,"body_markdown":"The XML taglib namespace URI does not point to a real web resource or something. It just points to the same value as the `&lt;namespace&gt;` entry of the `.taglib.xml` file of the XML taglib in question in the runtime classpath, which in case of JSF taglibs (and lot others) *just* happens to be a HTTP URL. In case of Mojarra, you can find the declaration in the `/com/sun/faces/metadata/taglib/html_basic.taglib.xml` file of the `jsf-impl.jar` file.\r\n\r\nIf you&#39;re encountering problems with referencing JSF HTML tags, then the cause lies somewhere else.","title":"Eclipse - Can&#39;t find facelet tag library for uri http://java.sun.com/jsf/html","body":"<p>The XML taglib namespace URI does not point to a real web resource or something. It just points to the same value as the <code>&lt;namespace&gt;</code> entry of the <code>.taglib.xml</code> file of the XML taglib in question in the runtime classpath, which in case of JSF taglibs (and lot others) <em>just</em> happens to be a HTTP URL. In case of Mojarra, you can find the declaration in the <code>/com/sun/faces/metadata/taglib/html_basic.taglib.xml</code> file of the <code>jsf-impl.jar</code> file.</p>\n\n<p>If you're encountering problems with referencing JSF HTML tags, then the cause lies somewhere else.</p>\n"},{"comments":[{"owner":{"account_id":1028549,"reputation":10245,"user_id":1037316,"accept_rate":86,"display_name":"G. Demecki"},"score":0,"creation_date":1408529907,"post_id":6596911,"comment_id":39620866,"body_markdown":"This works for me only in situation when JSF implementation is on the project&#39;s classpath (API is not enough). Otherwise, error still exists. For details take a look at [this post](http://stackoverflow.com/a/25402146/1037316).","body":"This works for me only in situation when JSF implementation is on the project&#39;s classpath (API is not enough). Otherwise, error still exists. For details take a look at <a href=\"http://stackoverflow.com/a/25402146/1037316\">this post</a>."},{"owner":{"account_id":4339288,"reputation":563,"user_id":3542989,"accept_rate":46,"display_name":"Durga Swaroop"},"score":0,"creation_date":1453706336,"post_id":6596911,"comment_id":57702405,"body_markdown":"This worked for me. So, why is this happening? Something wrong with the validator?","body":"This worked for me. So, why is this happening? Something wrong with the validator?"},{"owner":{"account_id":150404,"reputation":42109,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"score":0,"creation_date":1453711770,"post_id":6596911,"comment_id":57704966,"body_markdown":"@DurgaSwaroop I don&#39;t know. However, you can file an issue to Eclipse team.","body":"@DurgaSwaroop I don&#39;t know. However, you can file an issue to Eclipse team."}],"tags":[],"owner":{"account_id":150404,"reputation":42109,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"comment_count":3,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1309957840,"creation_date":1309957840,"answer_id":6596911,"question_id":6594482,"body_markdown":"For solving this problem this is what I did :\r\n&lt;pre&gt;\r\n     1. Close the eclipse project\r\n     2. Open the eclipse project\r\n     3. Right click on the project\r\n     4. Click on Validate\r\n\r\n   =&gt; The (false) warnings are gone.\r\n&lt;/pre&gt;\r\n","title":"Eclipse - Can&#39;t find facelet tag library for uri http://java.sun.com/jsf/html","body":"<p>For solving this problem this is what I did :</p>\n\n<pre>\n     1. Close the eclipse project\n     2. Open the eclipse project\n     3. Right click on the project\n     4. Click on Validate\n\n   => The (false) warnings are gone.\n</pre>\n"},{"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1311856639,"post_id":6857698,"comment_id":8157302,"body_markdown":"-1: OP is using Facelets, not legacy JSP. Also, the problem has already been solved.","body":"-1: OP is using Facelets, not legacy JSP. Also, the problem has already been solved."}],"tags":[],"owner":{"account_id":154940,"reputation":742,"user_id":371238,"accept_rate":75,"display_name":"Dhananjay"},"comment_count":1,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1311849948,"creation_date":1311849948,"answer_id":6857698,"question_id":6594482,"body_markdown":"    &lt;%@taglib   uri=&quot;http://java.sun.com/jsf/html&quot; prefix=&quot;h&quot;%&gt;\r\n\r\njsf-api.jar and jsf-impl.jar jar in your lib.\r\n\r\n\r\n","title":"Eclipse - Can&#39;t find facelet tag library for uri http://java.sun.com/jsf/html","body":"<pre><code>&lt;%@taglib   uri=\"http://java.sun.com/jsf/html\" prefix=\"h\"%&gt;\n</code></pre>\n\n<p>jsf-api.jar and jsf-impl.jar jar in your lib.</p>\n"},{"comments":[{"owner":{"account_id":150404,"reputation":42109,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"score":1,"creation_date":1388396513,"post_id":20835048,"comment_id":31251469,"body_markdown":"Which jar did you add ?","body":"Which jar did you add ?"},{"owner":{"account_id":3261342,"reputation":1970,"user_id":2746879,"accept_rate":77,"display_name":"Sarz"},"score":1,"creation_date":1388398814,"post_id":20835048,"comment_id":31252512,"body_markdown":"primefaces-[version].jar","body":"primefaces-[version].jar"}],"tags":[],"owner":{"account_id":3261342,"reputation":1970,"user_id":2746879,"accept_rate":77,"display_name":"Sarz"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1476681164,"creation_date":1388387706,"answer_id":20835048,"question_id":6594482,"body_markdown":"Previous answers were useful to me. Here I provide an alternative way for solving this issue. I fixed this problem by adding the jar `primefaces-[version].jar` to the `WEB-INF/lib` directory.\r\n\r\n","title":"Eclipse - Can&#39;t find facelet tag library for uri http://java.sun.com/jsf/html","body":"<p>Previous answers were useful to me. Here I provide an alternative way for solving this issue. I fixed this problem by adding the jar <code>primefaces-[version].jar</code> to the <code>WEB-INF/lib</code> directory.</p>\n"},{"tags":[],"owner":{"account_id":10987912,"reputation":469,"user_id":8072948,"display_name":"Debayan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674986351,"creation_date":1674986351,"answer_id":75274039,"question_id":6594482,"body_markdown":"Compare the Uri respective to the jsf version you are using.\r\n```\r\n. The real JSTL 1.0 taglib uses the URI *http://java.sun.com/jstl/core.*\r\n. The real JSTL 1.1/1.2 taglib uses the URI *http://java.sun.com/jsp/jstl/core*.\r\n. Facelets 1.x uses the URI *http://java.sun.com/jstl/core.*\r\n. Facelets 2.x uses the URI *http://java.sun.com/jsp/jstl/core.*\r\n. Facelets 2.2+ uses the URI *http://xmlns.jcp.org/jsp/jstl/core.*\r\n```\r\n","title":"Eclipse - Can&#39;t find facelet tag library for uri http://java.sun.com/jsf/html","body":"<p>Compare the Uri respective to the jsf version you are using.</p>\n<pre><code>. The real JSTL 1.0 taglib uses the URI *http://java.sun.com/jstl/core.*\n. The real JSTL 1.1/1.2 taglib uses the URI *http://java.sun.com/jsp/jstl/core*.\n. Facelets 1.x uses the URI *http://java.sun.com/jstl/core.*\n. Facelets 2.x uses the URI *http://java.sun.com/jsp/jstl/core.*\n. Facelets 2.2+ uses the URI *http://xmlns.jcp.org/jsp/jstl/core.*\n</code></pre>\n"}],"owner":{"account_id":150404,"reputation":42109,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40355,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":6596911,"answer_count":5,"score":9,"last_activity_date":1674986351,"creation_date":1309945796,"question_id":6594482,"body_markdown":"In my `index.xhtml` , I have a namespace defined like this `xmlns:h=&quot;http://java.sun.com/jsf/html&quot;`. The server at this url indicates that the page [cannot be found][1].\r\n\r\nDo you know where the page has moved ?\r\n\r\n**Eclipse Info**\r\n&lt;pre&gt;\r\nVersion: Indigo Release\r\nBuild id: 20110615-0604\r\n&lt;/pre&gt;\r\n\r\n  [1]: http://java.sun.com/jsf/html\r\n\r\n","title":"Eclipse - Can&#39;t find facelet tag library for uri http://java.sun.com/jsf/html","body":"<p>In my <code>index.xhtml</code> , I have a namespace defined like this <code>xmlns:h=\"http://java.sun.com/jsf/html\"</code>. The server at this url indicates that the page <a href=\"http://java.sun.com/jsf/html\" rel=\"noreferrer\">cannot be found</a>.</p>\n\n<p>Do you know where the page has moved ?</p>\n\n<p><strong>Eclipse Info</strong></p>\n\n<pre>\nVersion: Indigo Release\nBuild id: 20110615-0604\n</pre>\n"},{"tags":["java","algorithm","ternary-operator","shunting-yard"],"answers":[{"comments":[{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":0,"creation_date":1459514756,"post_id":36346180,"comment_id":60332961,"body_markdown":"Thanks a lot! I managed to adapt my `OperatorChain` class to support custom ternary operators. The only difference is that it treats `:` without preceding `?` as right-associative, though this is intended.","body":"Thanks a lot! I managed to adapt my <code>OperatorChain</code> class to support custom ternary operators. The only difference is that it treats <code>:</code> without preceding <code>?</code> as right-associative, though this is intended."}],"tags":[],"owner":{"account_id":462905,"reputation":7596,"user_id":865481,"display_name":"Salix alba"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1459471284,"creation_date":1459471284,"answer_id":36346180,"question_id":36332016,"body_markdown":"I&#39;ve implemented a mathematical parser in java which can handle ternary operators. The heart of this is the `expression` method. The input is contained in an iterator `it` with a `it.peekNext()` method to view the next token and `it.consume()` move to the next token. It calls the `prefixSuffix()` to read constants and variables with possible prefix and suffix operators eg `++x`.\r\n\r\n    protected void expression() throws ParseException  {\r\n        \r\n        prefixSuffix(); \r\n        \r\n        Token t = it.peekNext();\r\n        while(t!=null) {\r\n            if(t.isBinary()) {\r\n                OperatorToken ot = (OperatorToken)t;\r\n                Operator op = ot.getBinaryOp();\r\n                pushOp(op,ot);\r\n                it.consume();\r\n                prefixSuffix();\r\n            }\r\n            else if(t.isTernary()){\r\n                OperatorToken ot =(OperatorToken)t;\r\n                Operator to = ot.getTernaryOp();\r\n                pushOp(to,ot);\r\n                it.consume();\r\n                prefixSuffix();\r\n            }\r\n            else\r\n                break;\r\n            t=it.peekNext();\r\n        }\r\n        // read all remaining elements off the stack\r\n        while(!sentinel.equals(ops.peek())) {\r\n            popOp();\r\n        }\r\n    }\r\n\r\nSo when either of the tokens is encountered it calls the `pushOp` methods to push them on the stack. Each token has an associated operator which is also parsed to `pushOp`.\r\n\r\npushOp compare the new operator with the top of the stack, poping if necessary\r\n\r\n    protected void pushOp(Operator op,Token tok) throws ParseException \r\n    {\r\n        while(compareOps(ops.peek(),op))\r\n            popOp();\r\n        ops.push(op); \r\n    }\r\n\r\nThe logic for dealing with tenary operators happen in `compareOps`:\r\n\r\n    /**\r\n     * Compare operators based on their precedence and associativity.\r\n     * @param op1\r\n     * @param op2\r\n     * @return true if op1 has a lower precedence than op2, or equal precedence and a left assoc op, etc.\r\n     */\r\n    protected boolean compareOps(Operator op1,Operator op2)\r\n    {\r\n        if(op1.isTernary() &amp;&amp; op2.isTernary()) {\r\n            if(op1 instanceof TernaryOperator.RhsTernaryOperator &amp;&amp;\r\n                    op2 instanceof TernaryOperator.RhsTernaryOperator )\r\n                return true;\r\n            return false;\r\n        }\r\n        if(op1 == sentinel ) return false;\r\n        if(op2 == sentinel ) return true;\r\n        if(op2.isPrefix() &amp;&amp; op1.isBinary()) return false;\r\n        if(op1.getPrecedence() &lt; op2.getPrecedence()) return true;\r\n        if(op1.getPrecedence() == op2.getPrecedence() &amp;&amp; op1.isLeftBinding()) return true;\r\n        return false;\r\n    }\r\n\r\nIf both operators are the right hand of a ternary operator then `compareOps` returns true one operator will be popped. Otherwise if both are the left hand ternary operators or one is a left and one is a right then `compareOps` returns false and no operators are popped.\r\n\r\nThe other bit of handling happens in the `popOp` method:\r\n\r\n    protected void popOp() throws ParseException\r\n    {\r\n        Operator op = ops.pop();\r\n\r\n        if(op == implicitMul) {\r\n            Node rhs = nodes.pop();\r\n            Node lhs = nodes.pop();\r\n            Node node = nf.buildOperatorNode(\r\n                    jep.getOperatorTable().getMultiply(), \r\n                    lhs, rhs);\r\n            nodes.push(node);\r\n        }\r\n        else if(op.isBinary()) {\r\n            Node rhs = nodes.pop();\r\n            Node lhs = nodes.pop();\r\n            Node node = nf.buildOperatorNode(op, lhs, rhs);\r\n            nodes.push(node);\r\n        }\r\n        else if(op.isUnary()) {\r\n            Node lhs = nodes.pop();\r\n            Node node = nf.buildOperatorNode(op, lhs);\r\n            nodes.push(node);\r\n        }\r\n        else if(op.isTernary() &amp;&amp; op instanceof TernaryOperator.RhsTernaryOperator ) {\r\n            Operator op2 = ops.pop();\r\n            if(!(op2 instanceof TernaryOperator ) || !((TernaryOperator) op2).getRhsOperator().equals(op)) {\r\n                throw new ParseException(\r\n                \t\tMessageFormat.format(JepMessages.getString(&quot;configurableparser.ShuntingYard.NextOperatorShouldHaveBeenMatchingTernaryOp&quot;),op2.getName())); //$NON-NLS-1$\r\n            \t\r\n            }\r\n\r\n            Node rhs = nodes.pop();\r\n            Node middle = nodes.pop();\r\n            Node lhs = nodes.pop();\r\n            Node node = nf.buildOperatorNode(op2, new Node[]{lhs,middle,rhs});\r\n            nodes.push(node);\r\n        }\r\n        else {\r\n            throw new ParseException(MessageFormat.format(JepMessages.getString(&quot;configurableparser.ShuntingYard.InvalidOperatorOnStack&quot;),op.getSymbol())); //$NON-NLS-1$\r\n        }\r\n    }\r\n\r\nOnly the right hand side of the ternary operator should be encountered. The operator directly below it should be the corresponding left hand operator. (Any operator with a lower precedence will have already been popped, the only operators with higher precedence are assignment operators which can&#39;t occur inside a ternary operator). \r\n\r\nBoth the left and right hands operators are now popped. I&#39;m constructing a tree and the last three nodes produced are removed with a new ternary operator node constructed. \r\n\r\n","title":"Ternary Operator Parsing with the Shunting Yard Algorithm","body":"<p>I've implemented a mathematical parser in java which can handle ternary operators. The heart of this is the <code>expression</code> method. The input is contained in an iterator <code>it</code> with a <code>it.peekNext()</code> method to view the next token and <code>it.consume()</code> move to the next token. It calls the <code>prefixSuffix()</code> to read constants and variables with possible prefix and suffix operators eg <code>++x</code>.</p>\n\n<pre><code>protected void expression() throws ParseException  {\n\n    prefixSuffix(); \n\n    Token t = it.peekNext();\n    while(t!=null) {\n        if(t.isBinary()) {\n            OperatorToken ot = (OperatorToken)t;\n            Operator op = ot.getBinaryOp();\n            pushOp(op,ot);\n            it.consume();\n            prefixSuffix();\n        }\n        else if(t.isTernary()){\n            OperatorToken ot =(OperatorToken)t;\n            Operator to = ot.getTernaryOp();\n            pushOp(to,ot);\n            it.consume();\n            prefixSuffix();\n        }\n        else\n            break;\n        t=it.peekNext();\n    }\n    // read all remaining elements off the stack\n    while(!sentinel.equals(ops.peek())) {\n        popOp();\n    }\n}\n</code></pre>\n\n<p>So when either of the tokens is encountered it calls the <code>pushOp</code> methods to push them on the stack. Each token has an associated operator which is also parsed to <code>pushOp</code>.</p>\n\n<p>pushOp compare the new operator with the top of the stack, poping if necessary</p>\n\n<pre><code>protected void pushOp(Operator op,Token tok) throws ParseException \n{\n    while(compareOps(ops.peek(),op))\n        popOp();\n    ops.push(op); \n}\n</code></pre>\n\n<p>The logic for dealing with tenary operators happen in <code>compareOps</code>:</p>\n\n<pre><code>/**\n * Compare operators based on their precedence and associativity.\n * @param op1\n * @param op2\n * @return true if op1 has a lower precedence than op2, or equal precedence and a left assoc op, etc.\n */\nprotected boolean compareOps(Operator op1,Operator op2)\n{\n    if(op1.isTernary() &amp;&amp; op2.isTernary()) {\n        if(op1 instanceof TernaryOperator.RhsTernaryOperator &amp;&amp;\n                op2 instanceof TernaryOperator.RhsTernaryOperator )\n            return true;\n        return false;\n    }\n    if(op1 == sentinel ) return false;\n    if(op2 == sentinel ) return true;\n    if(op2.isPrefix() &amp;&amp; op1.isBinary()) return false;\n    if(op1.getPrecedence() &lt; op2.getPrecedence()) return true;\n    if(op1.getPrecedence() == op2.getPrecedence() &amp;&amp; op1.isLeftBinding()) return true;\n    return false;\n}\n</code></pre>\n\n<p>If both operators are the right hand of a ternary operator then <code>compareOps</code> returns true one operator will be popped. Otherwise if both are the left hand ternary operators or one is a left and one is a right then <code>compareOps</code> returns false and no operators are popped.</p>\n\n<p>The other bit of handling happens in the <code>popOp</code> method:</p>\n\n<pre><code>protected void popOp() throws ParseException\n{\n    Operator op = ops.pop();\n\n    if(op == implicitMul) {\n        Node rhs = nodes.pop();\n        Node lhs = nodes.pop();\n        Node node = nf.buildOperatorNode(\n                jep.getOperatorTable().getMultiply(), \n                lhs, rhs);\n        nodes.push(node);\n    }\n    else if(op.isBinary()) {\n        Node rhs = nodes.pop();\n        Node lhs = nodes.pop();\n        Node node = nf.buildOperatorNode(op, lhs, rhs);\n        nodes.push(node);\n    }\n    else if(op.isUnary()) {\n        Node lhs = nodes.pop();\n        Node node = nf.buildOperatorNode(op, lhs);\n        nodes.push(node);\n    }\n    else if(op.isTernary() &amp;&amp; op instanceof TernaryOperator.RhsTernaryOperator ) {\n        Operator op2 = ops.pop();\n        if(!(op2 instanceof TernaryOperator ) || !((TernaryOperator) op2).getRhsOperator().equals(op)) {\n            throw new ParseException(\n                    MessageFormat.format(JepMessages.getString(\"configurableparser.ShuntingYard.NextOperatorShouldHaveBeenMatchingTernaryOp\"),op2.getName())); //$NON-NLS-1$\n\n        }\n\n        Node rhs = nodes.pop();\n        Node middle = nodes.pop();\n        Node lhs = nodes.pop();\n        Node node = nf.buildOperatorNode(op2, new Node[]{lhs,middle,rhs});\n        nodes.push(node);\n    }\n    else {\n        throw new ParseException(MessageFormat.format(JepMessages.getString(\"configurableparser.ShuntingYard.InvalidOperatorOnStack\"),op.getSymbol())); //$NON-NLS-1$\n    }\n}\n</code></pre>\n\n<p>Only the right hand side of the ternary operator should be encountered. The operator directly below it should be the corresponding left hand operator. (Any operator with a lower precedence will have already been popped, the only operators with higher precedence are assignment operators which can't occur inside a ternary operator). </p>\n\n<p>Both the left and right hands operators are now popped. I'm constructing a tree and the last three nodes produced are removed with a new ternary operator node constructed. </p>\n"},{"tags":[],"owner":{"account_id":9858905,"reputation":240,"user_id":7302562,"display_name":"Duke"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674986246,"creation_date":1673945634,"answer_id":75143918,"question_id":36332016,"body_markdown":"The following is not exactly what the OP was asking for, but there is another **pragmatic** solution which might help someone coming across...\r\n\r\nI had a pretty standard shunting yard algorithm with prefix/2-operand-infix support, and needed it to additionally handle just the one ternary operator `?:` (which is probably the only one out there, anyway... ;-) ). I also didn&#39;t care about associativity or precedence between `?:` operators since writing something like `a ? b : c ? d : e` is just not nice and I wanted it to be explicitly forbidden. (Brackets should be used in this case: `a ? b : (c ? d : e)` or `(a ? b : c) ? d : e`.) \r\n\r\nGiven this, there is a simple solution:\r\n\r\n 1. Create a new (2-operand) infix operator `?`.\r\n 2. Create a new (2-operand) infix operator `:` with **lower** precedence than the `?` precedence.\r\n\r\nBoth precedences should be lower than those of `+`/`-`/`*` etc. to parse `a &gt; 1 ? x + 4 : y + 5` as `(a &gt; 1) ? (x + 4) : (y + 5)`.\r\n\r\nNow you&#39;ll get a parse tree with elements looking like this for each of the `c ? a : b`:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n 3. Do a post-processing step replacing each element of this type (`:` node with left child `?`) with another custom node `?:(c, a, b)`.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThat&#39;s it!\r\n\r\nYou&#39;ll end up with a tree containing `?` or `:` nodes if and only if\r\n * there are nested ternary operations in the code that don&#39;t have proper brackets or\r\n * there is some syntactical misuse of the `?` or `:` operators.\r\n\r\nPrint an error message in that case.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HBRPU.png\r\n  [2]: https://i.stack.imgur.com/OdJN4.png","title":"Ternary Operator Parsing with the Shunting Yard Algorithm","body":"<p>The following is not exactly what the OP was asking for, but there is another <strong>pragmatic</strong> solution which might help someone coming across...</p>\n<p>I had a pretty standard shunting yard algorithm with prefix/2-operand-infix support, and needed it to additionally handle just the one ternary operator <code>?:</code> (which is probably the only one out there, anyway... ;-) ). I also didn't care about associativity or precedence between <code>?:</code> operators since writing something like <code>a ? b : c ? d : e</code> is just not nice and I wanted it to be explicitly forbidden. (Brackets should be used in this case: <code>a ? b : (c ? d : e)</code> or <code>(a ? b : c) ? d : e</code>.)</p>\n<p>Given this, there is a simple solution:</p>\n<ol>\n<li>Create a new (2-operand) infix operator <code>?</code>.</li>\n<li>Create a new (2-operand) infix operator <code>:</code> with <strong>lower</strong> precedence than the <code>?</code> precedence.</li>\n</ol>\n<p>Both precedences should be lower than those of <code>+</code>/<code>-</code>/<code>*</code> etc. to parse <code>a &gt; 1 ? x + 4 : y + 5</code> as <code>(a &gt; 1) ? (x + 4) : (y + 5)</code>.</p>\n<p>Now you'll get a parse tree with elements looking like this for each of the <code>c ? a : b</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/HBRPU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HBRPU.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"3\">\n<li>Do a post-processing step replacing each element of this type (<code>:</code> node with left child <code>?</code>) with another custom node <code>?:(c, a, b)</code>.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/OdJN4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OdJN4.png\" alt=\"enter image description here\" /></a></p>\n<p>That's it!</p>\n<p>You'll end up with a tree containing <code>?</code> or <code>:</code> nodes if and only if</p>\n<ul>\n<li>there are nested ternary operations in the code that don't have proper brackets or</li>\n<li>there is some syntactical misuse of the <code>?</code> or <code>:</code> operators.</li>\n</ul>\n<p>Print an error message in that case.</p>\n"}],"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2492,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":36346180,"answer_count":2,"score":5,"last_activity_date":1674986246,"creation_date":1459423451,"question_id":36332016,"body_markdown":"For context, please read [this question about Ternary Operators](https://stackoverflow.com/questions/36319740/ternary-operator-associativity) first.\r\n\r\nI am building my own programming language that allows you to define custom operators. Because I want it to have as few compiler built-ins as possible, it should allow the definition of custom ternary operators, preferably in the form\r\n\r\n    infix operator ? : { precedence 120 }\r\n\r\nMy (hand-written) Expression Parser will turn nested ternary operators into a list of operands separated by operators.\r\n\r\n    a ? b ? c : d : e\r\n    (a) ? (b) ? (c) : (d) : (d)\r\n    OperatorChain(operators: [?, ?, :, :], operands: [a, b, c, d, e])\r\n\r\nThe `OperatorChain` class now looks up the operators from operator definitions in scope and converts the list into binary AST nodes using a modified version of the shunting yard algorithm, which is shown below:\r\n\r\n    // Note: OperatorElement is a class that merely stores an Identifier, an associated source code position and the resolved operator.\r\n    // IValue is the base interface for all Expression AST nodes\r\n\r\n    final Stack&lt;OperatorElement&gt; operatorStack = new LinkedList&lt;&gt;();\r\n\tfinal Stack&lt;IValue&gt; operandStack = new LinkedList&lt;&gt;();\r\n\toperandStack.push(this.operands[0]);\r\n\r\n\tfor (int i = 0; i &lt; this.operatorCount; i++)\r\n\t{\r\n\t\tfinal OperatorElement element1 = this.operators[i];\r\n\t\tOperatorElement element2;\r\n\t\twhile (!operatorStack.isEmpty())\r\n\t\t{\r\n\t\t\telement2 = operatorStack.peek();\r\n\r\n\t\t\tfinal int comparePrecedence = element1.operator.comparePrecedence(element2.operator);\r\n\t\t\tif (comparePrecedence &lt; 0\r\n\t\t\t\t    || element1.operator.getAssociativity() != IOperator.RIGHT &amp;&amp; comparePrecedence == 0)\r\n\t\t\t{\r\n\t\t\t\toperatorStack.pop();\r\n\t\t\t\tthis.pushCall(operandStack, element2);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\toperatorStack.push(element1);\r\n\t\toperandStack.push(this.operands[i + 1]);\r\n\t}\r\n\twhile (!operatorStack.isEmpty())\r\n\t{\r\n\t\tthis.pushCall(operandStack, operatorStack.pop());\r\n\t}\r\n\r\n\treturn operandStack.pop().resolve(markers, context);\r\n\r\nHow would I need to modify this algorithm to work with ternary operators, including custom ones?","title":"Ternary Operator Parsing with the Shunting Yard Algorithm","body":"<p>For context, please read <a href=\"https://stackoverflow.com/questions/36319740/ternary-operator-associativity\">this question about Ternary Operators</a> first.</p>\n\n<p>I am building my own programming language that allows you to define custom operators. Because I want it to have as few compiler built-ins as possible, it should allow the definition of custom ternary operators, preferably in the form</p>\n\n<pre><code>infix operator ? : { precedence 120 }\n</code></pre>\n\n<p>My (hand-written) Expression Parser will turn nested ternary operators into a list of operands separated by operators.</p>\n\n<pre><code>a ? b ? c : d : e\n(a) ? (b) ? (c) : (d) : (d)\nOperatorChain(operators: [?, ?, :, :], operands: [a, b, c, d, e])\n</code></pre>\n\n<p>The <code>OperatorChain</code> class now looks up the operators from operator definitions in scope and converts the list into binary AST nodes using a modified version of the shunting yard algorithm, which is shown below:</p>\n\n<pre><code>// Note: OperatorElement is a class that merely stores an Identifier, an associated source code position and the resolved operator.\n// IValue is the base interface for all Expression AST nodes\n\nfinal Stack&lt;OperatorElement&gt; operatorStack = new LinkedList&lt;&gt;();\nfinal Stack&lt;IValue&gt; operandStack = new LinkedList&lt;&gt;();\noperandStack.push(this.operands[0]);\n\nfor (int i = 0; i &lt; this.operatorCount; i++)\n{\n    final OperatorElement element1 = this.operators[i];\n    OperatorElement element2;\n    while (!operatorStack.isEmpty())\n    {\n        element2 = operatorStack.peek();\n\n        final int comparePrecedence = element1.operator.comparePrecedence(element2.operator);\n        if (comparePrecedence &lt; 0\n                || element1.operator.getAssociativity() != IOperator.RIGHT &amp;&amp; comparePrecedence == 0)\n        {\n            operatorStack.pop();\n            this.pushCall(operandStack, element2);\n        }\n        else\n        {\n            break;\n        }\n    }\n    operatorStack.push(element1);\n    operandStack.push(this.operands[i + 1]);\n}\nwhile (!operatorStack.isEmpty())\n{\n    this.pushCall(operandStack, operatorStack.pop());\n}\n\nreturn operandStack.pop().resolve(markers, context);\n</code></pre>\n\n<p>How would I need to modify this algorithm to work with ternary operators, including custom ones?</p>\n"},{"tags":["java","spring","spring-data-r2dbc"],"comments":[{"owner":{"account_id":4508336,"reputation":15533,"user_id":3665178,"accept_rate":73,"display_name":"Manuel Jordan"},"score":0,"creation_date":1600878233,"post_id":64030718,"comment_id":113229612,"body_markdown":"Can you update your post to include the Repository code? , if you are using JPA is *mandatory* declare the Entity annotation in your entity class","body":"Can you update your post to include the Repository code? , if you are using JPA is <i>mandatory</i> declare the Entity annotation in your entity class"}],"answers":[{"comments":[{"owner":{"account_id":18878904,"reputation":191,"user_id":13771775,"display_name":"Yasin Eraslan"},"score":2,"creation_date":1600874043,"post_id":64030876,"comment_id":113227610,"body_markdown":"There is no Annotation Entity in R2DBC but I dont think that is the problem.","body":"There is no Annotation Entity in R2DBC but I dont think that is the problem."}],"tags":[],"owner":{"account_id":7215483,"reputation":300,"user_id":5508139,"display_name":"BlackPearl"},"comment_count":1,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1600873498,"creation_date":1600873498,"answer_id":64030876,"question_id":64030718,"body_markdown":"It seems like you forgot to use annotation `@Entity` for your entity class **User**","title":"Spring does Update instead of save","body":"<p>It seems like you forgot to use annotation <code>@Entity</code> for your entity class <strong>User</strong></p>\n"},{"comments":[{"owner":{"account_id":18878904,"reputation":191,"user_id":13771775,"display_name":"Yasin Eraslan"},"score":1,"creation_date":1600874338,"post_id":64031115,"comment_id":113227730,"body_markdown":"I am using R2DBC , I did not inject the JPA dependency, do I have to inject that dependendy?","body":"I am using R2DBC , I did not inject the JPA dependency, do I have to inject that dependendy?"},{"owner":{"account_id":12291234,"reputation":33,"user_id":8968495,"display_name":"suseelkumar annamraju"},"score":0,"creation_date":1600928812,"post_id":64031115,"comment_id":113244882,"body_markdown":"No need of injecting the dependency. If you dont want to get that record updated, dont provide the id field in json and try processing it again.","body":"No need of injecting the dependency. If you dont want to get that record updated, dont provide the id field in json and try processing it again."}],"tags":[],"owner":{"account_id":12291234,"reputation":33,"user_id":8968495,"display_name":"suseelkumar annamraju"},"comment_count":2,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1600874597,"creation_date":1600874255,"answer_id":64031115,"question_id":64030718,"body_markdown":"@Entity &amp; @GeneratedValue should be added to your pojo.\r\n\r\n@GeneratedValue will help to define the strategy(like Identify/Sequence) for primary key value generation.\n\r\nIf possible provide your update sql query printed in console for further analysis.","title":"Spring does Update instead of save","body":"<p>@Entity &amp; @GeneratedValue should be added to your pojo.</p>\n<p>@GeneratedValue will help to define the strategy(like Identify/Sequence) for primary key value generation.</p>\n<p>If possible provide your update sql query printed in console for further analysis.</p>\n"},{"comments":[{"owner":{"account_id":8436933,"reputation":67,"user_id":6330806,"display_name":"Andres Camilo Sierra Hormiga"},"score":0,"creation_date":1687542237,"post_id":64032222,"comment_id":134956917,"body_markdown":"don&#39;t work don&#39;t work","body":"don&#39;t work don&#39;t work"}],"tags":[],"owner":{"account_id":5340963,"reputation":26,"user_id":4258090,"display_name":"Yasser Kantour"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600878031,"creation_date":1600878031,"answer_id":64032222,"question_id":64030718,"body_markdown":"You need to ad the `@GeneratedValue(strategy = GenerationType.IDENTITY)`. Spring&#39;s Crud repositories do not have create and update methods but only save (see also `saveAndFlush`). It handles creation and update through `@id`, so if the `id` field is present it performs an update","title":"Spring does Update instead of save","body":"<p>You need to ad the <code>@GeneratedValue(strategy = GenerationType.IDENTITY)</code>. Spring's Crud repositories do not have create and update methods but only save (see also <code>saveAndFlush</code>). It handles creation and update through <code>@id</code>, so if the <code>id</code> field is present it performs an update</p>\n"},{"tags":[],"owner":{"account_id":480584,"reputation":8228,"user_id":893898,"accept_rate":42,"display_name":"Hantsy"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1645332331,"creation_date":1600949862,"answer_id":64046284,"question_id":64030718,"body_markdown":"Check my [new example](https://github.com/hantsy/spring-r2dbc-sample/tree/master/boot) for upcoming Spring Boot 2.4, Spring 5.3, and Spring Data R2DBC 1.2.\r\n\r\nI am using Postgres in this example. It used ApplicationRunner to initialize some sample data into the database.\r\n\r\nYou set the identifier a non-null value when saving the `User` entity(not a `Persistable`), Spring Data R2DBC uses it to check if the entity is new. *If the entity is a `Persistable`, it will use the `isNew` method to determine if the entity is new*.\r\n\r\nHowever, you can insert data manually using R2dbc `DatabaseClient` to execute SQL queries as expected, check [my DatabaseClient example](https://github.com/hantsy/spring-r2dbc-sample/blob/master/database-client/src/main/java/com/example/demo/PostRepository.java#L57) here(but I used a database generated id here).\r\n","title":"Spring does Update instead of save","body":"<p>Check my <a href=\"https://github.com/hantsy/spring-r2dbc-sample/tree/master/boot\" rel=\"nofollow noreferrer\">new example</a> for upcoming Spring Boot 2.4, Spring 5.3, and Spring Data R2DBC 1.2.</p>\n<p>I am using Postgres in this example. It used ApplicationRunner to initialize some sample data into the database.</p>\n<p>You set the identifier a non-null value when saving the <code>User</code> entity(not a <code>Persistable</code>), Spring Data R2DBC uses it to check if the entity is new. <em>If the entity is a <code>Persistable</code>, it will use the <code>isNew</code> method to determine if the entity is new</em>.</p>\n<p>However, you can insert data manually using R2dbc <code>DatabaseClient</code> to execute SQL queries as expected, check <a href=\"https://github.com/hantsy/spring-r2dbc-sample/blob/master/database-client/src/main/java/com/example/demo/PostRepository.java#L57\" rel=\"nofollow noreferrer\">my DatabaseClient example</a> here(but I used a database generated id here).</p>\n"},{"tags":[],"owner":{"account_id":10561548,"reputation":2425,"user_id":7781169,"display_name":"fyrkov"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1601637691,"creation_date":1601637691,"answer_id":64170679,"question_id":64030718,"body_markdown":"The reason could be that you are posting an entity with the pre-filled `id`:\r\n```\r\n{ &quot;id&quot; : &quot;re&quot;, &quot;username&quot; : &quot;ehmmidk&quot;, &quot;password&quot; : &quot;dsadsadsadsa&quot; }\r\n```\r\n\r\nWhat I spotted is that if a declared entity is implementing `Persistable` interface it must implement `isNew()` method which defines the behavior of `repository.save()` - will it fire an `INSERT` or an `UPDATE`. \r\n\r\nI see that in your case you do not implement `Persistable` but **maybe** then the default behavior is\r\n```\r\nboolean isNew() { return id == null; }\r\n```\r\nThat might mean in your case that the entity is considered as not new by Spring data r2dbc and that&#39;s why it makes an `UPDATE`.\r\n\r\nHowever this is only my guess.","title":"Spring does Update instead of save","body":"<p>The reason could be that you are posting an entity with the pre-filled <code>id</code>:</p>\n<pre><code>{ &quot;id&quot; : &quot;re&quot;, &quot;username&quot; : &quot;ehmmidk&quot;, &quot;password&quot; : &quot;dsadsadsadsa&quot; }\n</code></pre>\n<p>What I spotted is that if a declared entity is implementing <code>Persistable</code> interface it must implement <code>isNew()</code> method which defines the behavior of <code>repository.save()</code> - will it fire an <code>INSERT</code> or an <code>UPDATE</code>.</p>\n<p>I see that in your case you do not implement <code>Persistable</code> but <strong>maybe</strong> then the default behavior is</p>\n<pre><code>boolean isNew() { return id == null; }\n</code></pre>\n<p>That might mean in your case that the entity is considered as not new by Spring data r2dbc and that's why it makes an <code>UPDATE</code>.</p>\n<p>However this is only my guess.</p>\n"},{"tags":[],"owner":{"account_id":890105,"reputation":423,"user_id":928550,"display_name":"AndrewS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674986017,"creation_date":1674977535,"answer_id":75273271,"question_id":64030718,"body_markdown":"The answer by fyrkov is correct: https://stackoverflow.com/a/64170679/928550\r\n\r\nI have however discovered that using Optimistic locking is another way of getting Spring Data R2DBC to do the right thing when you are not using database generated id values.\r\n\r\neg. Add a @Version annotated fields to you JPA entities.\r\n\r\n&gt; @Version private Long version;\r\n\r\nI&#39;m not exactly sure why, but for it worked.","title":"Spring does Update instead of save","body":"<p>The answer by fyrkov is correct: <a href=\"https://stackoverflow.com/a/64170679/928550\">https://stackoverflow.com/a/64170679/928550</a></p>\n<p>I have however discovered that using Optimistic locking is another way of getting Spring Data R2DBC to do the right thing when you are not using database generated id values.</p>\n<p>eg. Add a @Version annotated fields to you JPA entities.</p>\n<blockquote>\n<p>@Version private Long version;</p>\n</blockquote>\n<p>I'm not exactly sure why, but for it worked.</p>\n"}],"owner":{"account_id":18878904,"reputation":191,"user_id":13771775,"display_name":"Yasin Eraslan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6054,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":6,"score":5,"last_activity_date":1674986017,"creation_date":1600872988,"question_id":64030718,"body_markdown":"I am trying to code a little reactive backend with R2DBC and run into a thing I do not really understand. I dont know why but Spring is trying to update an entry instead of saving it to the database.\r\n\r\nMy User Model:\r\n\r\n    @Table(&quot;user&quot;)\r\n    @NoArgsConstructor\r\n    @Data\r\n    public class User {\r\n    \r\n        @Id\r\n        private String id;\r\n    \r\n        private String username;\r\n        private String password;\r\n    \r\n        public User(String id,String username,String password){\r\n            this.id = id;\r\n            this.username = username;\r\n            this.password=password;\r\n        }\r\n\r\nMy Controller:\r\n\r\n \r\n\r\n    @RestController\r\n        public class UserController {\r\n    \r\n    `   private final UserRepository userRepository`;\r\n    \r\n        @Autowired\r\n        public UserController(UserRepository userRepository){\r\n    \r\n            this.userRepository = userRepository;\r\n        }\r\n    \r\n        @PostMapping(&quot;/create&quot;)\r\n            public Mono&lt;User&gt; createUser(@RequestBody User user){\r\n                return userRepository.save(user);\r\n            }   \r\n\r\nWhen I sent a POST request to this endpoint with input like this for example:\r\n\r\n{\r\n\t&quot;id&quot; : &quot;re&quot;,\r\n\t&quot;username&quot; : &quot;ehmmidk&quot;,\r\n\t&quot;password&quot; : &quot;dsadsadsadsa&quot;\r\n}\r\n\r\nit does an update insted of a save even when there is no entries in my database.\r\n\r\nMy schema looks like this:\r\n\r\n    CREATE TABLE user (\r\n       id VARCHAR(255) NOT NULL ,\r\n       username VARCHAR(255) NOT NULL,\r\n       password VARCHAR(255) NOT NULL,\r\n    \r\n    \r\n       PRIMARY KEY (id),\r\n       UNIQUE(username)\r\n    );","title":"Spring does Update instead of save","body":"<p>I am trying to code a little reactive backend with R2DBC and run into a thing I do not really understand. I dont know why but Spring is trying to update an entry instead of saving it to the database.</p>\n<p>My User Model:</p>\n<pre><code>@Table(&quot;user&quot;)\n@NoArgsConstructor\n@Data\npublic class User {\n\n    @Id\n    private String id;\n\n    private String username;\n    private String password;\n\n    public User(String id,String username,String password){\n        this.id = id;\n        this.username = username;\n        this.password=password;\n    }\n</code></pre>\n<p>My Controller:</p>\n<pre><code>@RestController\n    public class UserController {\n\n`   private final UserRepository userRepository`;\n\n    @Autowired\n    public UserController(UserRepository userRepository){\n\n        this.userRepository = userRepository;\n    }\n\n    @PostMapping(&quot;/create&quot;)\n        public Mono&lt;User&gt; createUser(@RequestBody User user){\n            return userRepository.save(user);\n        }   \n</code></pre>\n<p>When I sent a POST request to this endpoint with input like this for example:</p>\n<p>{\n&quot;id&quot; : &quot;re&quot;,\n&quot;username&quot; : &quot;ehmmidk&quot;,\n&quot;password&quot; : &quot;dsadsadsadsa&quot;\n}</p>\n<p>it does an update insted of a save even when there is no entries in my database.</p>\n<p>My schema looks like this:</p>\n<pre><code>CREATE TABLE user (\n   id VARCHAR(255) NOT NULL ,\n   username VARCHAR(255) NOT NULL,\n   password VARCHAR(255) NOT NULL,\n\n\n   PRIMARY KEY (id),\n   UNIQUE(username)\n);\n</code></pre>\n"},{"tags":["java","mysql","spring","mybatis","spring-mybatis"],"answers":[{"tags":[],"owner":{"account_id":3577678,"reputation":11003,"user_id":2986537,"accept_rate":100,"display_name":"Razib"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1674985109,"creation_date":1674985109,"answer_id":75273921,"question_id":75273792,"body_markdown":"The difference is that `categoryService.getOne(categoryLambdaQueryWrapper)` returns a single entity that matches the conditions specified in the lambda query wrapper, or null if no such entity exists.\r\n\r\nOn the other hand, `categoryService.getById(categoryId)` directly queries the database for the entity with the specified categoryId, returns the entity if it exists, or throws an exception if it doesn&#39;t.\r\n\r\nSo if you want to ensure that a category exists before processing it, it&#39;s better to use `categoryService.getById(categoryId)`.","title":"does these 2 ways of querying equivalent?","body":"<p>The difference is that <code>categoryService.getOne(categoryLambdaQueryWrapper)</code> returns a single entity that matches the conditions specified in the lambda query wrapper, or null if no such entity exists.</p>\n<p>On the other hand, <code>categoryService.getById(categoryId)</code> directly queries the database for the entity with the specified categoryId, returns the entity if it exists, or throws an exception if it doesn't.</p>\n<p>So if you want to ensure that a category exists before processing it, it's better to use <code>categoryService.getById(categoryId)</code>.</p>\n"}],"owner":{"account_id":26114048,"reputation":9,"user_id":19807466,"display_name":"siyuan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1674985109,"creation_date":1674983599,"question_id":75273792,"body_markdown":"I&#39;m a Spring backend learner, currently want to query some data from mysql. What I want is just a field from table.(I want `categoryName` in `category`).\r\n\r\n\r\n\r\n\r\nFirst, I was using LambdaQueryWrapper. I wrote\r\n```\r\ncategoryLambdaQueryWrapper.eq(Category::getId, categoryId);\r\nCategory category = categoryService.getOne(categoryLambdaQueryWrapper);\r\n```\r\nBut category values `null` occasionally.\r\n\r\nThen, I changed to simply using getById method in categoryService, everything worked fine.\r\n```\r\nCategory category = categoryService.getById(categoryId);\r\n```\r\n\r\nI confused, is there anything difference between the 2 ways of querying? I thought they were equivalent before. Thank you for everyone who can help me.\r\n\r\n","title":"does these 2 ways of querying equivalent?","body":"<p>I'm a Spring backend learner, currently want to query some data from mysql. What I want is just a field from table.(I want <code>categoryName</code> in <code>category</code>).</p>\n<p>First, I was using LambdaQueryWrapper. I wrote</p>\n<pre><code>categoryLambdaQueryWrapper.eq(Category::getId, categoryId);\nCategory category = categoryService.getOne(categoryLambdaQueryWrapper);\n</code></pre>\n<p>But category values <code>null</code> occasionally.</p>\n<p>Then, I changed to simply using getById method in categoryService, everything worked fine.</p>\n<pre><code>Category category = categoryService.getById(categoryId);\n</code></pre>\n<p>I confused, is there anything difference between the 2 ways of querying? I thought they were equivalent before. Thank you for everyone who can help me.</p>\n"},{"tags":["java","amazon-web-services","aws-lambda","aws-api-gateway","sam"],"answers":[{"comments":[{"owner":{"account_id":15801712,"reputation":1288,"user_id":11402025,"display_name":"Tanu"},"score":0,"creation_date":1675007408,"post_id":75273898,"comment_id":132831126,"body_markdown":"I am looking for a way to autogenerate the event.json in aws if I am running my endpoint using API Gateway. Thank you","body":"I am looking for a way to autogenerate the event.json in aws if I am running my endpoint using API Gateway. Thank you"}],"tags":[],"owner":{"account_id":12871638,"reputation":485,"user_id":9309869,"display_name":"S&#225;ndor Bakos"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674984902,"creation_date":1674984902,"answer_id":75273898,"question_id":75273249,"body_markdown":"you can find the Lambda event structures in the documentation. Here is the list for all the different event types, [https://docs.aws.amazon.com/lambda/latest/dg/lambda-services.html][1]. \r\n\r\nIn your case I would say the event you are looking for coming from API Gateway, you can find it here: [https://docs.aws.amazon.com/lambda/latest/dg/services-apigateway.html#apigateway-example-event][1]\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/lambda/latest/dg/services-apigateway.html#apigateway-example-event","title":"How to retrieve event.json file to unit test lambda","body":"<p>you can find the Lambda event structures in the documentation. Here is the list for all the different event types, <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/services-apigateway.html#apigateway-example-event\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/lambda/latest/dg/lambda-services.html</a>.</p>\n<p>In your case I would say the event you are looking for coming from API Gateway, you can find it here: <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/services-apigateway.html#apigateway-example-event\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/lambda/latest/dg/services-apigateway.html#apigateway-example-event</a></p>\n"}],"owner":{"account_id":15801712,"reputation":1288,"user_id":11402025,"display_name":"Tanu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":395,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1674984902,"creation_date":1674977276,"question_id":75273249,"body_markdown":"I am able to run AWS lambda using postman. I want to use the event to run unit test along it. I am not sure how I can generate the event.json file.\r\n\r\nI tried logging event that I receive in my handleRequest method on cloudwatch logs but it does not seem to be the right one.\r\n\r\n","title":"How to retrieve event.json file to unit test lambda","body":"<p>I am able to run AWS lambda using postman. I want to use the event to run unit test along it. I am not sure how I can generate the event.json file.</p>\n<p>I tried logging event that I receive in my handleRequest method on cloudwatch logs but it does not seem to be the right one.</p>\n"},{"tags":["java","amazon-dynamodb","dynamodb-queries","amazon-dynamodb-index"],"answers":[{"tags":[],"owner":{"account_id":10749774,"reputation":14484,"user_id":7909676,"display_name":"Leeroy Hannigan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674984796,"creation_date":1674984796,"answer_id":75273890,"question_id":75273188,"body_markdown":"Here is an example using cli.\r\n\r\n`:v1` should be the material type I&#39;d that you are searching on.  `:v2` should be your epoch time in milliseconds for 30 mins ago which you will have to calculate.\r\n\r\n\r\n```\r\naws dynamodb query \\\r\n    --table-name mytable \\\r\n    --index-name myindex\r\n    --key-condition-expression &quot;materialType = :v1 AND create time &gt; :v2&quot; \\\r\n    --expression-attribute-values &#39;{\r\n    &quot;:v1&quot;: {&quot;S&quot;: &quot;some id&quot;},\r\n    &quot;:V2&quot;: {&quot;N&quot;: &quot;766677876567&quot;}\r\n}&#39;\r\n```","title":"Get all items of the last 15 minutes in DynamoDB","body":"<p>Here is an example using cli.</p>\n<p><code>:v1</code> should be the material type I'd that you are searching on.  <code>:v2</code> should be your epoch time in milliseconds for 30 mins ago which you will have to calculate.</p>\n<pre><code>aws dynamodb query \\\n    --table-name mytable \\\n    --index-name myindex\n    --key-condition-expression &quot;materialType = :v1 AND create time &gt; :v2&quot; \\\n    --expression-attribute-values '{\n    &quot;:v1&quot;: {&quot;S&quot;: &quot;some id&quot;},\n    &quot;:V2&quot;: {&quot;N&quot;: &quot;766677876567&quot;}\n}'\n</code></pre>\n"}],"owner":{"account_id":15338304,"reputation":173,"user_id":11066001,"display_name":"Yashika Chandra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674984796,"creation_date":1674976483,"question_id":75273188,"body_markdown":"As I come from RDBM background I am bit confuse with DynamoDB, how to write this query.\r\n\r\n**Problem** : need to filter out those data which is more than 15 minutes.\r\n\r\nI have created GSI with hashkey`materialType` and `createTime` (create time format `Instant.now().toEpochMilli()`).\r\n\r\nNow I have to write a java query which gives those values which is more than 15 minutes.","title":"Get all items of the last 15 minutes in DynamoDB","body":"<p>As I come from RDBM background I am bit confuse with DynamoDB, how to write this query.</p>\n<p><strong>Problem</strong> : need to filter out those data which is more than 15 minutes.</p>\n<p>I have created GSI with hashkey<code>materialType</code> and <code>createTime</code> (create time format <code>Instant.now().toEpochMilli()</code>).</p>\n<p>Now I have to write a java query which gives those values which is more than 15 minutes.</p>\n"},{"tags":["java","json","discord","discord-jda"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1674983631,"post_id":75273716,"comment_id":132827089,"body_markdown":"Does the string contain the ID of the channel? What does the JSON file look like?","body":"Does the string contain the ID of the channel? What does the JSON file look like?"}],"owner":{"account_id":25562543,"reputation":39,"user_id":19344937,"display_name":"Rose"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674984562,"creation_date":1674982791,"question_id":75273716,"body_markdown":"I am trying to store a MessageChannel in a json file, then reading it and sending a message into that channel later\r\n\r\n~~~\r\nInputStream is = new FileInputStream(&quot;OmgIt&#39;sJasonBourne.json&quot;);\r\n\t          \r\n\t          JSONTokener tokener = new JSONTokener(is);\r\n\t          JSONObject jsonObject = new JSONObject(tokener);\r\n\t          JSONObject jsonAlarm = (JSONObject) jsonObject.get(&quot;alarm&quot;);\r\n\r\n\t         MessageChannel theChannel= (MessageChannel) jsonAlarm.get(&quot;channel&quot;);\r\n\t         theChannel.sendMessage(jsonAlarm.get(&quot;message&quot;).toString());\r\n~~~\r\n\r\nWhen I try and use this code it gives me: \r\n~~~\r\nString cannot be cast to class net.dv8tion.jda.api.entities.channel.middleman.MessageChannel\r\n~~~\r\nIs there any way to convert a string into a MessageChannel?","title":"How to cast String to MessageChannel","body":"<p>I am trying to store a MessageChannel in a json file, then reading it and sending a message into that channel later</p>\n<pre><code>InputStream is = new FileInputStream(&quot;OmgIt'sJasonBourne.json&quot;);\n              \n              JSONTokener tokener = new JSONTokener(is);\n              JSONObject jsonObject = new JSONObject(tokener);\n              JSONObject jsonAlarm = (JSONObject) jsonObject.get(&quot;alarm&quot;);\n\n             MessageChannel theChannel= (MessageChannel) jsonAlarm.get(&quot;channel&quot;);\n             theChannel.sendMessage(jsonAlarm.get(&quot;message&quot;).toString());\n</code></pre>\n<p>When I try and use this code it gives me:</p>\n<pre><code>String cannot be cast to class net.dv8tion.jda.api.entities.channel.middleman.MessageChannel\n</code></pre>\n<p>Is there any way to convert a string into a MessageChannel?</p>\n"},{"tags":["java","zip","crc32"],"comments":[{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":0,"creation_date":1423130995,"post_id":1206970,"comment_id":45027190,"body_markdown":"Those int constants are &quot;a code accent&quot; from another age (probably C)... I wish David Connelly had read about Java enums before he wrote ZipOutputStream.","body":"Those int constants are &quot;a code accent&quot; from another age (probably C)... I wish David Connelly had read about Java enums before he wrote ZipOutputStream."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1458951888,"post_id":1206970,"comment_id":60091431,"body_markdown":"@ChristopheRoussy That would have been rather difficult, as `ZipOutputStream` appeared many years before enums.","body":"@ChristopheRoussy That would have been rather difficult, as <code>ZipOutputStream</code> appeared many years before enums."},{"owner":{"display_name":"user9599745"},"score":1,"creation_date":1579209358,"post_id":1206970,"comment_id":105699909,"body_markdown":"I wonder what is so cool about enums. and what is so uncool about const integers.","body":"I wonder what is so cool about enums. and what is so uncool about const integers."}],"answers":[{"comments":[{"owner":{"account_id":1005212,"reputation":28568,"user_id":1019167,"accept_rate":92,"display_name":"AlexWien"},"score":0,"creation_date":1395682821,"post_id":5868403,"comment_id":34438978,"body_markdown":"Thanks, you seem to be correct, but is that anywhere documented?","body":"Thanks, you seem to be correct, but is that anywhere documented?"},{"owner":{"account_id":379825,"reputation":3125,"user_id":733456,"accept_rate":84,"display_name":"Christian Schlichtherle"},"score":2,"creation_date":1395731248,"post_id":5868403,"comment_id":34458483,"body_markdown":"It&#39;s specified in the ZIP File Format Specification at https://www.pkware.com/documents/casestudies/APPNOTE.TXT .","body":"It&#39;s specified in the ZIP File Format Specification at <a href=\"https://www.pkware.com/documents/casestudies/APPNOTE.TXT\" rel=\"nofollow noreferrer\">pkware.com/documents/casestudies/APPNOTE.TXT</a> ."},{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":1,"creation_date":1423145625,"post_id":5868403,"comment_id":45036494,"body_markdown":"@AlexWien An error will be raised by `ZipOutputStream` if you do not... luckily it got a good error message.","body":"@AlexWien An error will be raised by <code>ZipOutputStream</code> if you do not... luckily it got a good error message."}],"tags":[],"owner":{"account_id":379825,"reputation":3125,"user_id":733456,"accept_rate":84,"display_name":"Christian Schlichtherle"},"comment_count":3,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1372280062,"creation_date":1304420188,"answer_id":5868403,"question_id":1206970,"body_markdown":"You need to use the `STORED` method, but this requires that you set the `size`, `compressedSize` and `crc32` properties of the corresponding `ZipEntry` before you can call `putNextEntry` on the `ZipOutputStream`. You can precompute the CRC-32 by using a `Crc32OutputStream`.","title":"How to create Uncompressed Zip archive in Java","body":"<p>You need to use the <code>STORED</code> method, but this requires that you set the <code>size</code>, <code>compressedSize</code> and <code>crc32</code> properties of the corresponding <code>ZipEntry</code> before you can call <code>putNextEntry</code> on the <code>ZipOutputStream</code>. You can precompute the CRC-32 by using a <code>Crc32OutputStream</code>.</p>\n"},{"comments":[{"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"score":3,"creation_date":1369213189,"post_id":13654065,"comment_id":24015003,"body_markdown":"DEFLATED + Level(0) resulted in my case to... EACH COMPRESSED FILE (A BIT) BIGGER THAN THE SOURCE FILE :O I&#39;m pretty sure DEFLATED-0 is different from STORE :/","body":"DEFLATED + Level(0) resulted in my case to... EACH COMPRESSED FILE (A BIT) BIGGER THAN THE SOURCE FILE :O I&#39;m pretty sure DEFLATED-0 is different from STORE :/"},{"owner":{"account_id":108996,"reputation":740,"user_id":289037,"accept_rate":50,"display_name":"PMorganCA"},"score":3,"creation_date":1415202392,"post_id":13654065,"comment_id":42103835,"body_markdown":"DEFLATED-0 and STORE _might_ be different, but they have the same objective - a zip file containing uncompressed data. I don&#39;t expect that either method will output a file that is equal in size to the source file. However in the question, Keya was having trouble using the STORE method, because of the pre-processing required to get the required arguments. If you want a compressed file that&#39;s smaller than the source file, use a different value in setLevel() - but that&#39;s not what the question was asking for.","body":"DEFLATED-0 and STORE <i>might</i> be different, but they have the same objective - a zip file containing uncompressed data. I don&#39;t expect that either method will output a file that is equal in size to the source file. However in the question, Keya was having trouble using the STORE method, because of the pre-processing required to get the required arguments. If you want a compressed file that&#39;s smaller than the source file, use a different value in setLevel() - but that&#39;s not what the question was asking for."},{"owner":{"display_name":"user9599745"},"score":0,"creation_date":1579210103,"post_id":13654065,"comment_id":105700207,"body_markdown":"Your code failed for me. The zip file would never get completed. So much for not being compressed.","body":"Your code failed for me. The zip file would never get completed. So much for not being compressed."}],"tags":[],"owner":{"account_id":108996,"reputation":740,"user_id":289037,"accept_rate":50,"display_name":"PMorganCA"},"comment_count":3,"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1458948434,"creation_date":1354314213,"answer_id":13654065,"question_id":1206970,"body_markdown":"I&#39;m leery of **aperkins** solution (since deleted), but I know why it worked. The line (which has since been corrected in his answer)\r\n\r\n    zipOut.setLevel(ZipOutputStream.STORED); // accidentally right\r\n\r\nwas using the static value `ZipOutputStream.STORED`, which coincidentally equals `0`. So what that line is doing is setting the *level* used by the default DEFLATED method to zero compression (this is obviously what you want to do, but happened to only work by luck). So to get what you want explicitly and safely, use this instead:\r\n\r\n    zipOut.setMethod(ZipOutputStream.DEFLATED); // this line optional\r\n    zipOut.setLevel(0);\r\n\r\nor\r\n\r\n    zipOut.setLevel(Deflater.NO_COMPRESSION);\r\n\r\nIf you use\r\n\r\n    zipOut.setMethod(ZipOutputStream.STORED);\r\n    zipOut.setLevel(Deflater.NO_COMPRESSION);\r\n\r\n\r\nyou&#39;ll probably get the Exception that Keya noted in the original question. I believe **Christian Schlichtherle** is right; you are getting the Exceptions because you are not setting the CRC in the entry. The repercussions of that is that to use the STORED method, you have to read the entire entry file first, or find some other way to set the size, compressed size (must be equal) and the CRC before you call `zipOut.putNextEntry()`. Otherwise, you&#39;ll run into more exceptions if you overrun the size attribute by writing too many bytes to the output stream.  It appears that the ZIP specs say that if you are writing STORED data then it has to write the header [which includes the CRC-32 and length] &quot;up front&quot; before the data itself, hence the java API requiring these be set before it can start, since it basically only supports streaming out to the final zip file.","title":"How to create Uncompressed Zip archive in Java","body":"<p>I'm leery of <strong>aperkins</strong> solution (since deleted), but I know why it worked. The line (which has since been corrected in his answer)</p>\n\n<pre><code>zipOut.setLevel(ZipOutputStream.STORED); // accidentally right\n</code></pre>\n\n<p>was using the static value <code>ZipOutputStream.STORED</code>, which coincidentally equals <code>0</code>. So what that line is doing is setting the <em>level</em> used by the default DEFLATED method to zero compression (this is obviously what you want to do, but happened to only work by luck). So to get what you want explicitly and safely, use this instead:</p>\n\n<pre><code>zipOut.setMethod(ZipOutputStream.DEFLATED); // this line optional\nzipOut.setLevel(0);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>zipOut.setLevel(Deflater.NO_COMPRESSION);\n</code></pre>\n\n<p>If you use</p>\n\n<pre><code>zipOut.setMethod(ZipOutputStream.STORED);\nzipOut.setLevel(Deflater.NO_COMPRESSION);\n</code></pre>\n\n<p>you'll probably get the Exception that Keya noted in the original question. I believe <strong>Christian Schlichtherle</strong> is right; you are getting the Exceptions because you are not setting the CRC in the entry. The repercussions of that is that to use the STORED method, you have to read the entire entry file first, or find some other way to set the size, compressed size (must be equal) and the CRC before you call <code>zipOut.putNextEntry()</code>. Otherwise, you'll run into more exceptions if you overrun the size attribute by writing too many bytes to the output stream.  It appears that the ZIP specs say that if you are writing STORED data then it has to write the header [which includes the CRC-32 and length] \"up front\" before the data itself, hence the java API requiring these be set before it can start, since it basically only supports streaming out to the final zip file.</p>\n"},{"tags":[],"owner":{"account_id":927725,"reputation":2281,"user_id":958160,"display_name":"Li Ying"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1414032521,"creation_date":1414032521,"answer_id":26520506,"question_id":1206970,"body_markdown":"FYI:\r\n\r\nIn JDK Source of the method [java.util.zip.ZipOutputStream.setLevel(int)]:\r\n\r\n    public void setLevel(int level) {\r\n        def.setLevel(level);\r\n    }\r\n\r\n\r\nIt simply redirect the compression level setting to the field variable [def], which is an instance of [java.util.zip.Deflater].\r\n\r\nAnd in the source code of the class [java.util.zip.Deflater]:\r\n\r\n\r\n\r\n    /**\r\n     * Compression level for no compression.\r\n     */\r\n    public static final int NO_COMPRESSION = 0;\r\n    \r\n    /**\r\n     * Compression level for fastest compression.\r\n     */\r\n    public static final int BEST_SPEED = 1;\r\n    \r\n    /**\r\n     * Compression level for best compression.\r\n     */\r\n    public static final int BEST_COMPRESSION = 9;\r\n    \r\n    /**\r\n     * Default compression level.\r\n     */\r\n    public static final int DEFAULT_COMPRESSION = -1;\r\n\r\n\r\n\r\n\r\n\r\nSo, I think it will be more readable if you use the constant value [Deflater.NO_COMPRESSION]:\r\n\r\n\r\n\r\n    zipOut.setMethod(ZipOutputStream.DEFLATED);\r\n    zipOut.setLevel(Deflater.NO_COMPRESSION);\r\n\r\n","title":"How to create Uncompressed Zip archive in Java","body":"<p>FYI:</p>\n\n<p>In JDK Source of the method [java.util.zip.ZipOutputStream.setLevel(int)]:</p>\n\n<pre><code>public void setLevel(int level) {\n    def.setLevel(level);\n}\n</code></pre>\n\n<p>It simply redirect the compression level setting to the field variable [def], which is an instance of [java.util.zip.Deflater].</p>\n\n<p>And in the source code of the class [java.util.zip.Deflater]:</p>\n\n<pre><code>/**\n * Compression level for no compression.\n */\npublic static final int NO_COMPRESSION = 0;\n\n/**\n * Compression level for fastest compression.\n */\npublic static final int BEST_SPEED = 1;\n\n/**\n * Compression level for best compression.\n */\npublic static final int BEST_COMPRESSION = 9;\n\n/**\n * Default compression level.\n */\npublic static final int DEFAULT_COMPRESSION = -1;\n</code></pre>\n\n<p>So, I think it will be more readable if you use the constant value [Deflater.NO_COMPRESSION]:</p>\n\n<pre><code>zipOut.setMethod(ZipOutputStream.DEFLATED);\nzipOut.setLevel(Deflater.NO_COMPRESSION);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11437882,"reputation":56,"user_id":8384616,"display_name":"clzd0792"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674982860,"creation_date":1674982860,"answer_id":75273720,"question_id":1206970,"body_markdown":"```\r\n    public static void zipForStored(String srcFile, String zipFile) throws Exception {\r\n        File file = new File(zipFile);\r\n        if (!file.exists()) file.createNewFile();\r\n        ZipOutputStream outZip = new ZipOutputStream(new BufferedOutputStream(new FileOutputStream(file)));\r\n        outZip.setMethod(ZipOutputStream.STORED);\r\n        ZipFiles(srcFile, null, &quot;&quot;, outZip);\r\n        outZip.finish();\r\n        outZip.close();\r\n    }\r\n\r\n    private static void ZipFiles(String folder, FilenameFilter filter, String file, ZipOutputStream zipOutputSteam) throws Exception {\r\n        if (zipOutputSteam == null)\r\n            return;\r\n        File f = new File(folder, file);\r\n        if (f.isFile()) {\r\n            ZipEntry zipEntry = new ZipEntry(file);\r\n            FileInputStream inputStream = new FileInputStream(f);\r\n            zipEntry.setSize(f.length());\r\n            zipEntry.setCompressedSize(f.length());\r\n            zipEntry.setCrc(computeCrc(f));\r\n            zipOutputSteam.putNextEntry(zipEntry);\r\n            int len;\r\n            byte[] buffer = new byte[4096];\r\n            while ((len = inputStream.read(buffer)) != -1) {\r\n                zipOutputSteam.write(buffer, 0, len);\r\n            }\r\n            zipOutputSteam.closeEntry();\r\n            inputStream.close();\r\n        } else {\r\n            String fileList[] = f.list(filter);\r\n            if (fileList.length &lt;= 0) {\r\n                ZipEntry zipEntry = new ZipEntry(file + File.separator);\r\n                zipEntry.setSize(0);\r\n                zipEntry.setCompressedSize(0);\r\n                zipEntry.setCrc(0);\r\n                zipOutputSteam.putNextEntry(zipEntry);\r\n                zipOutputSteam.closeEntry();\r\n            }\r\n            for (int i = 0; i &lt; fileList.length; i++) {\r\n                if (TextUtils.isEmpty(file)) {\r\n                    ZipFiles(folder, filter, fileList[i], zipOutputSteam);\r\n                } else {\r\n                    ZipFiles(folder, filter, file + File.separator + fileList[i], zipOutputSteam);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Computes the CRC checksum for the given file.\r\n     *\r\n     * @param file The file to compute checksum for.\r\n     * @return A CRC32 checksum.\r\n     * @throws IOException If an I/O error occurs.\r\n     */\r\n    private static long computeCrc(File file) throws IOException {\r\n        CRC32 crc = new CRC32();\r\n        InputStream in = new FileInputStream(file);\r\n\r\n        try {\r\n            byte[] buf = new byte[8192];\r\n            int n = in.read(buf);\r\n            while (n != -1) {\r\n                crc.update(buf, 0, n);\r\n                n = in.read(buf);\r\n            }\r\n        } finally {\r\n            in.close();\r\n        }\r\n        return crc.getValue();\r\n    }\r\n```","title":"How to create Uncompressed Zip archive in Java","body":"<pre><code>    public static void zipForStored(String srcFile, String zipFile) throws Exception {\n        File file = new File(zipFile);\n        if (!file.exists()) file.createNewFile();\n        ZipOutputStream outZip = new ZipOutputStream(new BufferedOutputStream(new FileOutputStream(file)));\n        outZip.setMethod(ZipOutputStream.STORED);\n        ZipFiles(srcFile, null, &quot;&quot;, outZip);\n        outZip.finish();\n        outZip.close();\n    }\n\n    private static void ZipFiles(String folder, FilenameFilter filter, String file, ZipOutputStream zipOutputSteam) throws Exception {\n        if (zipOutputSteam == null)\n            return;\n        File f = new File(folder, file);\n        if (f.isFile()) {\n            ZipEntry zipEntry = new ZipEntry(file);\n            FileInputStream inputStream = new FileInputStream(f);\n            zipEntry.setSize(f.length());\n            zipEntry.setCompressedSize(f.length());\n            zipEntry.setCrc(computeCrc(f));\n            zipOutputSteam.putNextEntry(zipEntry);\n            int len;\n            byte[] buffer = new byte[4096];\n            while ((len = inputStream.read(buffer)) != -1) {\n                zipOutputSteam.write(buffer, 0, len);\n            }\n            zipOutputSteam.closeEntry();\n            inputStream.close();\n        } else {\n            String fileList[] = f.list(filter);\n            if (fileList.length &lt;= 0) {\n                ZipEntry zipEntry = new ZipEntry(file + File.separator);\n                zipEntry.setSize(0);\n                zipEntry.setCompressedSize(0);\n                zipEntry.setCrc(0);\n                zipOutputSteam.putNextEntry(zipEntry);\n                zipOutputSteam.closeEntry();\n            }\n            for (int i = 0; i &lt; fileList.length; i++) {\n                if (TextUtils.isEmpty(file)) {\n                    ZipFiles(folder, filter, fileList[i], zipOutputSteam);\n                } else {\n                    ZipFiles(folder, filter, file + File.separator + fileList[i], zipOutputSteam);\n                }\n            }\n        }\n    }\n\n    /**\n     * Computes the CRC checksum for the given file.\n     *\n     * @param file The file to compute checksum for.\n     * @return A CRC32 checksum.\n     * @throws IOException If an I/O error occurs.\n     */\n    private static long computeCrc(File file) throws IOException {\n        CRC32 crc = new CRC32();\n        InputStream in = new FileInputStream(file);\n\n        try {\n            byte[] buf = new byte[8192];\n            int n = in.read(buf);\n            while (n != -1) {\n                crc.update(buf, 0, n);\n                n = in.read(buf);\n            }\n        } finally {\n            in.close();\n        }\n        return crc.getValue();\n    }\n</code></pre>\n"}],"owner":{"display_name":"Keya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19976,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"answer_count":4,"score":30,"last_activity_date":1674982860,"creation_date":1248964143,"question_id":1206970,"body_markdown":"I am using the Zip utility package of Java and wanted to know how to create a zip file with no compression at all.  Setting the level to 0 doesn&#39;t help.  Is this right?\r\n\r\nAlso, when I used the `STORED` method, it throws following exception:\r\n\r\n    java.util.zip.ZipException: STORED entry missing size, compressed size, or crc-32\r\n\r\nI can set the size but now following exception is thrown:\r\n\r\n    java.util.zip.ZipException: invalid entry crc-32 \r\n\r\nI am just following all the examples available by searching on the web and I am not able to really understand it properly I guess.  It would be great if someone can help me on this and provide me suggestion to correct the problem I might be doing.","title":"How to create Uncompressed Zip archive in Java","body":"<p>I am using the Zip utility package of Java and wanted to know how to create a zip file with no compression at all.  Setting the level to 0 doesn't help.  Is this right?</p>\n\n<p>Also, when I used the <code>STORED</code> method, it throws following exception:</p>\n\n<pre><code>java.util.zip.ZipException: STORED entry missing size, compressed size, or crc-32\n</code></pre>\n\n<p>I can set the size but now following exception is thrown:</p>\n\n<pre><code>java.util.zip.ZipException: invalid entry crc-32 \n</code></pre>\n\n<p>I am just following all the examples available by searching on the web and I am not able to really understand it properly I guess.  It would be great if someone can help me on this and provide me suggestion to correct the problem I might be doing.</p>\n"},{"tags":["java","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":43392,"reputation":3949,"user_id":126833,"accept_rate":76,"display_name":"anjanesh"},"score":0,"creation_date":1674985331,"post_id":75273715,"comment_id":132827307,"body_markdown":"Thanks for the solution - I just wanted to test something quickly and not change the model variable.","body":"Thanks for the solution - I just wanted to test something quickly and not change the model variable."}],"tags":[],"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674982787,"creation_date":1674982787,"answer_id":75273715,"question_id":75273228,"body_markdown":"The `Model` class actually has `asMap()` method. You can check in [java docs](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/ui/Model.html#asMap()) . `Context` class in turn has `context.setVariables()` method. You can check it [here](https://www.thymeleaf.org/apidocs/thymeleaf/2.0.2/org/thymeleaf/context/AbstractContext.html#setVariables(java.util.Map)). It means you can write something like this:\r\n```java\r\nctx.setVariables(model.asMap());\r\n```\r\nIt is also worth noting that you should use the `Model` class and the `Context` class as they have different responsibilities. Since `Model` class is used to add attributes to a model that will be used to render a view, and the `Context` class is used to add attributes to a context that will be used to process a Thymeleaf template.","title":"Convert Model variable to a Context variable in SpringBoot","body":"<p>The <code>Model</code> class actually has <code>asMap()</code> method. You can check in <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/ui/Model.html#asMap()\" rel=\"nofollow noreferrer\">java docs</a> . <code>Context</code> class in turn has <code>context.setVariables()</code> method. You can check it <a href=\"https://www.thymeleaf.org/apidocs/thymeleaf/2.0.2/org/thymeleaf/context/AbstractContext.html#setVariables(java.util.Map)\" rel=\"nofollow noreferrer\">here</a>. It means you can write something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ctx.setVariables(model.asMap());\n</code></pre>\n<p>It is also worth noting that you should use the <code>Model</code> class and the <code>Context</code> class as they have different responsibilities. Since <code>Model</code> class is used to add attributes to a model that will be used to render a view, and the <code>Context</code> class is used to add attributes to a context that will be used to process a Thymeleaf template.</p>\n"}],"owner":{"account_id":43392,"reputation":3949,"user_id":126833,"accept_rate":76,"display_name":"anjanesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75273715,"answer_count":1,"score":0,"last_activity_date":1674982787,"creation_date":1674977036,"question_id":75273228,"body_markdown":"This is what I already have :\r\n\r\n```java\r\nmodel.addAttribute(&quot;var1&quot;, var1);\r\nmodel.addAttribute(&quot;var99&quot;, var99);\r\n```\r\n\r\nThis is what I have to do - so its a complete re-do :\r\n\r\n```java\r\nContext ctx = new Context();\r\n\r\nctx.setVariable(&quot;var1&quot;, var1);\r\nctx.setVariable(&quot;var99&quot;, var99);\r\n```\r\n\r\nIs there a way to set `model` to `ctx` ?\r\n\r\nWhat I really want to do :\r\n\r\n```java\r\nString htmlTemplate = myTemplateEngine.process(&quot;html/foo.html&quot;, ctx);\r\n```","title":"Convert Model variable to a Context variable in SpringBoot","body":"<p>This is what I already have :</p>\n<pre class=\"lang-java prettyprint-override\"><code>model.addAttribute(&quot;var1&quot;, var1);\nmodel.addAttribute(&quot;var99&quot;, var99);\n</code></pre>\n<p>This is what I have to do - so its a complete re-do :</p>\n<pre class=\"lang-java prettyprint-override\"><code>Context ctx = new Context();\n\nctx.setVariable(&quot;var1&quot;, var1);\nctx.setVariable(&quot;var99&quot;, var99);\n</code></pre>\n<p>Is there a way to set <code>model</code> to <code>ctx</code> ?</p>\n<p>What I really want to do :</p>\n<pre class=\"lang-java prettyprint-override\"><code>String htmlTemplate = myTemplateEngine.process(&quot;html/foo.html&quot;, ctx);\n</code></pre>\n"},{"tags":["java","spring-boot","netty","spring-webflux","project-reactor"],"answers":[{"comments":[{"owner":{"account_id":4890986,"reputation":1123,"user_id":3942132,"display_name":"Roie Beck"},"score":0,"creation_date":1593169422,"post_id":62592495,"comment_id":110692229,"body_markdown":"I understand your remakrs, but the problem still remains, I don&#39;t want to return the flux, I want to finish the flux execution and then return a mono as the response to the client, How can this be done in spring webflux?","body":"I understand your remakrs, but the problem still remains, I don&#39;t want to return the flux, I want to finish the flux execution and then return a mono as the response to the client, How can this be done in spring webflux?"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":3,"creation_date":1593169823,"post_id":62592495,"comment_id":110692409,"body_markdown":"read the documentation for `then(Mono&lt;V&gt; other)` it states `Let this Flux complete then play signals from a provided Mono` which means if you return a `Flux` when that flux completes (whatever you want it to do) it will then return what you have put in your `then`.","body":"read the documentation for <code>then(Mono&lt;V&gt; other)</code> it states <code>Let this Flux complete then play signals from a provided Mono</code> which means if you return a <code>Flux</code> when that flux completes (whatever you want it to do) it will then return what you have put in your <code>then</code>."},{"owner":{"account_id":4203120,"reputation":10908,"user_id":4923629,"accept_rate":92,"display_name":"123"},"score":0,"creation_date":1593239346,"post_id":62592495,"comment_id":110715083,"body_markdown":"`you should not subscribe in your application`, why not? Also void methods are fine for `doOnNext` which should be used only for side effects. The issue is they are expecting the side effects to affect the original Mono chain. Also AFAIK no method signature for `doOnNext` allows you to return anything, since it only takes a consumer.","body":"<code>you should not subscribe in your application</code>, why not? Also void methods are fine for <code>doOnNext</code> which should be used only for side effects. The issue is they are expecting the side effects to affect the original Mono chain. Also AFAIK no method signature for <code>doOnNext</code> allows you to return anything, since it only takes a consumer."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1593240477,"post_id":62592495,"comment_id":110715312,"body_markdown":"Because the calling client looses the ability to control backpressure. And i did never claim that doOnNext did not take a void method, so please read before you comment.","body":"Because the calling client looses the ability to control backpressure. And i did never claim that doOnNext did not take a void method, so please read before you comment."},{"owner":{"account_id":4203120,"reputation":10908,"user_id":4923629,"accept_rate":92,"display_name":"123"},"score":1,"creation_date":1593244001,"post_id":62592495,"comment_id":110716054,"body_markdown":"You don&#39;t control back pressure in `doOnNext`, so not sure your point there. Also you say `You are doing several things wrong ...  you are having void methods`, but OP is using them in doOnNext, so again how is that wrong? What did I read incorrectly?","body":"You don&#39;t control back pressure in <code>doOnNext</code>, so not sure your point there. Also you say <code>You are doing several things wrong ...  you are having void methods</code>, but OP is using them in doOnNext, so again how is that wrong? What did I read incorrectly?"}],"tags":[],"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"comment_count":5,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1593170199,"creation_date":1593166113,"answer_id":62592495,"question_id":62591575,"body_markdown":"You are doing several things wrong you should not `subscribe` in your application, and you are having void methods, which should not be used in reactive programming unless in specific places.\r\n\r\nhere is some example code:\r\n```\r\n\r\n// Nothing will happen, we are not returning anything, we can&#39;t subscribe\r\nprivate void doSomething() {\r\n    Mono.just(&quot;Foo&quot;);\r\n}\r\n\r\n// complier error\r\ndoSomething().subscribe( ... );\r\n\r\n```\r\n\r\nYour application is a `publisher` the calling client, is the subscriber, thats why we return a Mono or a Flux out to the calling client, they `subscribe`.\r\n\r\nYou have solved it this way:\r\n```\r\nprivate void doSomething() {\r\n    Mono.just(&quot;Foo&quot;).subscribe( ... );\r\n}\r\n\r\ndoSomething();\r\n```\r\n\r\nNow you are subscribing to yourself to get things running, this is not the correct way, as mentioned before, the calling client is the subscriber, not you.\r\n\r\nCorrect way:\r\n```\r\nprivate Mono&lt;String&gt; doSomething() {\r\n    return Mono.just(&quot;Foo&quot;);\r\n}\r\n\r\n// This is returned out to the calling client, they subscribe\r\nreturn doSomething();\r\n```\r\n\r\nAs a Mono/Flux completes, it will emit a signal, this signal will trigger the next and the next and the next in the chain.\r\n\r\nSo my opinion of what you need to do is the following:\r\n\r\n - Remove **all** `subscribes`, if you want to do things there are functions like, `flatmap`, `map`, `doOnSuccess` etc. keep the chain instact all the way out to the client.\r\n - Remove all **void** functions, make sure they return a `Flux` or a `Mono` and if you want to **not** return something return a `Mono&lt;Void&gt;` by using the `Mono.empty()` function so that the chain will be complete.\r\n\r\nAs soon as you use a Mono/Flux you need to handle the return so that others can chain on.\r\n\r\nUpdate:\r\n\r\nIn order for `then` to trigger, you must return something, it will return when the previous mono/flux completes.\r\n\r\nexample:\r\n```\r\nprivate Flux&lt;String&gt; doSomething() {\r\n    return Flux.just(&quot;Foo&quot;, &quot;Bar&quot;, &quot;FooBar&quot;)\r\n               .doOnNext(string -&gt; {\r\n                   return // return something\r\n               });\r\n}\r\n\r\n// Ignore what was return from doSomething and return something else when the flux has completed (so only trigger on the completed signal from the flux)\r\nreturn doSomething().then( ... );\r\n```\r\n\r\n\r\n","title":"Flux does not wait for completion of elements before &#39;then&#39;","body":"<p>You are doing several things wrong you should not <code>subscribe</code> in your application, and you are having void methods, which should not be used in reactive programming unless in specific places.</p>\n<p>here is some example code:</p>\n<pre><code>\n// Nothing will happen, we are not returning anything, we can't subscribe\nprivate void doSomething() {\n    Mono.just(&quot;Foo&quot;);\n}\n\n// complier error\ndoSomething().subscribe( ... );\n\n</code></pre>\n<p>Your application is a <code>publisher</code> the calling client, is the subscriber, thats why we return a Mono or a Flux out to the calling client, they <code>subscribe</code>.</p>\n<p>You have solved it this way:</p>\n<pre><code>private void doSomething() {\n    Mono.just(&quot;Foo&quot;).subscribe( ... );\n}\n\ndoSomething();\n</code></pre>\n<p>Now you are subscribing to yourself to get things running, this is not the correct way, as mentioned before, the calling client is the subscriber, not you.</p>\n<p>Correct way:</p>\n<pre><code>private Mono&lt;String&gt; doSomething() {\n    return Mono.just(&quot;Foo&quot;);\n}\n\n// This is returned out to the calling client, they subscribe\nreturn doSomething();\n</code></pre>\n<p>As a Mono/Flux completes, it will emit a signal, this signal will trigger the next and the next and the next in the chain.</p>\n<p>So my opinion of what you need to do is the following:</p>\n<ul>\n<li>Remove <strong>all</strong> <code>subscribes</code>, if you want to do things there are functions like, <code>flatmap</code>, <code>map</code>, <code>doOnSuccess</code> etc. keep the chain instact all the way out to the client.</li>\n<li>Remove all <strong>void</strong> functions, make sure they return a <code>Flux</code> or a <code>Mono</code> and if you want to <strong>not</strong> return something return a <code>Mono&lt;Void&gt;</code> by using the <code>Mono.empty()</code> function so that the chain will be complete.</li>\n</ul>\n<p>As soon as you use a Mono/Flux you need to handle the return so that others can chain on.</p>\n<p>Update:</p>\n<p>In order for <code>then</code> to trigger, you must return something, it will return when the previous mono/flux completes.</p>\n<p>example:</p>\n<pre><code>private Flux&lt;String&gt; doSomething() {\n    return Flux.just(&quot;Foo&quot;, &quot;Bar&quot;, &quot;FooBar&quot;)\n               .doOnNext(string -&gt; {\n                   return // return something\n               });\n}\n\n// Ignore what was return from doSomething and return something else when the flux has completed (so only trigger on the completed signal from the flux)\nreturn doSomething().then( ... );\n</code></pre>\n"}],"owner":{"account_id":4890986,"reputation":1123,"user_id":3942132,"display_name":"Roie Beck"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16356,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":62592495,"answer_count":1,"score":4,"last_activity_date":1674982086,"creation_date":1593162684,"question_id":62591575,"body_markdown":"I am failing to understand the issue and I am not sure what am I doing wrong.\r\n\r\nI want to wait for Flux to end and then return `Mono` of `serverResponse`\r\n\r\nI have attached the code snippet, the `doOnNext` will populate the `categoryIdToPrintRepository`.\r\n\r\nI have looked around on how to return mono after flux ends and found the &#39;then&#39; but still the &#39;then&#39; method is being executed way before the onNextSite is being processed, this results with the error:\r\n\r\n```\r\njava.lang.IllegalArgumentException: &#39;producer&#39; type is unknown to ReactiveAdapterRegistry\r\n```\r\n\r\nWhat am I doing wrong?\r\n\r\n```\r\n public Mono&lt;ServerResponse&gt; retrieveCatalog(ServerRequest ignored) {\r\n        return Mono.just(&quot;start&quot;).flatMap(id -&gt;\r\n                Flux.fromIterable(appSettings.getSites())\r\n                        .subscribeOn(ForkJoinPoolScheduler.create(&quot;SiteCatalogScheduler&quot;))\r\n                        .doOnNext(this::onNextSite)\r\n                        .then(Mono.from(ServerResponse.ok().body(categoryIdToPrintRepository.getSortedTreeValues(), String.class))));\r\n\r\n    }\r\n\r\n    private void onNextSite(Integer siteId) {\r\n        IntStream.range(1, appSettings.getCatalogMaxValue()).parallel().forEach(catalogId -&gt; {\r\n            Optional&lt;SiteCatalogCategoryDTO&gt; cacheData =\r\n                    siteCatalogCacheUseCaseService.getSiteCatalogResponseFromCache(siteId, catalogId);\r\n            cacheData.ifPresentOrElse(siteCatalogCategoryDTO -&gt; {/*do nothing already exist in cache*/},\r\n                    () -&gt; {\r\n                    Mono&lt;SiteCatalogCategoryDTO&gt; catalogCategoryDTOMono = WebClient.create(getUri(siteId, catalogId))\r\n                            .get().retrieve().bodyToMono(SiteCatalogCategoryDTO.class);\r\n                    catalogCategoryDTOMono.subscribe(siteCatalogCategoryDTO -&gt;\r\n                            handleSiteServerResponse(siteCatalogCategoryDTO, siteId, catalogId));\r\n            });\r\n        });\r\n    }\r\n\r\n\r\n    private void handleSiteServerResponse(SiteCatalogCategoryDTO siteCatalogCategoryDTO,\r\n                                          int siteId, int catalogId) {\r\n        if (siteCatalogCategoryDTO.getResponseStatus().equals(ResponseStatus.SUCCESS))\r\n            Flux.fromIterable(siteCatalogCategoryDTO.getMappingList())\r\n                    .subscribe(mapSCC -&gt; {\r\n                        categoryIdToPrintRepository.insertIntoTree(mapSCC.getCategoryId(),\r\n                                &quot;Site &quot; + siteId + &quot; - Catalog &quot; + catalogId + &quot; is mapped to category &quot; + &quot;\\&quot;&quot; +\r\n                                        mapSCC.getCategoryName() + &quot;\\&quot; (&quot; + mapSCC.getCategoryId() + &quot;)&quot;);\r\n                        siteCatalogCacheUseCaseService.insertIntoSiteCatalogCache(siteId, catalogId, siteCatalogCategoryDTO);\r\n                    });\r\n    }\r\n```\r\n\r\n","title":"Flux does not wait for completion of elements before &#39;then&#39;","body":"<p>I am failing to understand the issue and I am not sure what am I doing wrong.</p>\n<p>I want to wait for Flux to end and then return <code>Mono</code> of <code>serverResponse</code></p>\n<p>I have attached the code snippet, the <code>doOnNext</code> will populate the <code>categoryIdToPrintRepository</code>.</p>\n<p>I have looked around on how to return mono after flux ends and found the 'then' but still the 'then' method is being executed way before the onNextSite is being processed, this results with the error:</p>\n<pre><code>java.lang.IllegalArgumentException: 'producer' type is unknown to ReactiveAdapterRegistry\n</code></pre>\n<p>What am I doing wrong?</p>\n<pre><code> public Mono&lt;ServerResponse&gt; retrieveCatalog(ServerRequest ignored) {\n        return Mono.just(&quot;start&quot;).flatMap(id -&gt;\n                Flux.fromIterable(appSettings.getSites())\n                        .subscribeOn(ForkJoinPoolScheduler.create(&quot;SiteCatalogScheduler&quot;))\n                        .doOnNext(this::onNextSite)\n                        .then(Mono.from(ServerResponse.ok().body(categoryIdToPrintRepository.getSortedTreeValues(), String.class))));\n\n    }\n\n    private void onNextSite(Integer siteId) {\n        IntStream.range(1, appSettings.getCatalogMaxValue()).parallel().forEach(catalogId -&gt; {\n            Optional&lt;SiteCatalogCategoryDTO&gt; cacheData =\n                    siteCatalogCacheUseCaseService.getSiteCatalogResponseFromCache(siteId, catalogId);\n            cacheData.ifPresentOrElse(siteCatalogCategoryDTO -&gt; {/*do nothing already exist in cache*/},\n                    () -&gt; {\n                    Mono&lt;SiteCatalogCategoryDTO&gt; catalogCategoryDTOMono = WebClient.create(getUri(siteId, catalogId))\n                            .get().retrieve().bodyToMono(SiteCatalogCategoryDTO.class);\n                    catalogCategoryDTOMono.subscribe(siteCatalogCategoryDTO -&gt;\n                            handleSiteServerResponse(siteCatalogCategoryDTO, siteId, catalogId));\n            });\n        });\n    }\n\n\n    private void handleSiteServerResponse(SiteCatalogCategoryDTO siteCatalogCategoryDTO,\n                                          int siteId, int catalogId) {\n        if (siteCatalogCategoryDTO.getResponseStatus().equals(ResponseStatus.SUCCESS))\n            Flux.fromIterable(siteCatalogCategoryDTO.getMappingList())\n                    .subscribe(mapSCC -&gt; {\n                        categoryIdToPrintRepository.insertIntoTree(mapSCC.getCategoryId(),\n                                &quot;Site &quot; + siteId + &quot; - Catalog &quot; + catalogId + &quot; is mapped to category &quot; + &quot;\\&quot;&quot; +\n                                        mapSCC.getCategoryName() + &quot;\\&quot; (&quot; + mapSCC.getCategoryId() + &quot;)&quot;);\n                        siteCatalogCacheUseCaseService.insertIntoSiteCatalogCache(siteId, catalogId, siteCatalogCategoryDTO);\n                    });\n    }\n</code></pre>\n"},{"tags":["java","multithreading","concurrency"],"answers":[{"comments":[{"owner":{"account_id":27572028,"reputation":1,"user_id":21043025,"display_name":"user21043025"},"score":0,"creation_date":1674987685,"post_id":75273641,"comment_id":132827696,"body_markdown":"Thank you very much for your reply, which helped me a lot. Since the company&#39;s project uses JDK1.6, do you know how to solve this problem in the jdk1.6 environment?","body":"Thank you very much for your reply, which helped me a lot. Since the company&#39;s project uses JDK1.6, do you know how to solve this problem in the jdk1.6 environment?"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1674997405,"post_id":75273641,"comment_id":132829307,"body_markdown":"Java 1.6? Realistically? Force your company to upgrade from a Java version that&#39;s been EOL-ed 10 years ago (5 years ago for paid upgrades by Oracle). It&#39;s **high time** to upgrade to a sane, supported Java version. If/Since you probably can&#39;t do that, then you have to re-implement the equivalent using the three-argument `replace` method and a loop. That&#39;s non-trivial and probably worth its own question.","body":"Java 1.6? Realistically? Force your company to upgrade from a Java version that&#39;s been EOL-ed 10 years ago (5 years ago for paid upgrades by Oracle). It&#39;s <b>high time</b> to upgrade to a sane, supported Java version. If/Since you probably can&#39;t do that, then you have to re-implement the equivalent using the three-argument <code>replace</code> method and a loop. That&#39;s non-trivial and probably worth its own question."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1675175552,"post_id":75273641,"comment_id":132869086,"body_markdown":"That’s a textbook example of cargo cult concurrent programming, overusing thread safe constructs (having both, `volatile` and `synchronized`, in the same class), to end up with code that is not thread safe at all. Using an `Integer`, as suggested by this answer, under Java&#160;6 would look like `Integer existing = map.putIfAbsent(key, 1); if(existing != null) while(!map.replace(key, existing, existing + 1)) existing = map.get(key);` But the entire code (that use of `Calendar` and `SimpleDateFormat`) would become a one-liner with `LocalDateTime` and `truncatedTo` and thousand times faster. *Update*","body":"That’s a textbook example of cargo cult concurrent programming, overusing thread safe constructs (having both, <code>volatile</code> and <code>synchronized</code>, in the same class), to end up with code that is not thread safe at all. Using an <code>Integer</code>, as suggested by this answer, under Java 6 would look like <code>Integer existing = map.putIfAbsent(key, 1); if(existing != null) while(!map.replace(key, existing, existing + 1)) existing = map.get(key);</code> But the entire code (that use of <code>Calendar</code> and <code>SimpleDateFormat</code>) would become a one-liner with <code>LocalDateTime</code> and <code>truncatedTo</code> and thousand times faster. <i>Update</i>"}],"tags":[],"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1674981946,"creation_date":1674981946,"answer_id":75273641,"question_id":75273558,"body_markdown":"You&#39;ve got the same issue repeatedly, which is that you are interacting with a shared data structure in a non-synchronized way. The fact that `map` is a `ConcurrentHashMap` means that *individual* `.get` and `.put` calls will not break thread safety, you use *multiple* of those calls with the assumption that the map doesn&#39;t change between them.\r\n\r\n        MutableInteger newMinuteAcceptKey = new MutableInteger();\r\n        newMinuteAcceptKey.setValue(1);\r\n        MutableInteger oldMinuteAcceptKey = map.put(minuteAcceptKey, newMinuteAcceptKey);\r\n        // let&#39;s assume here something happens\r\n        if(null != oldMinuteAcceptKey) {\r\n            newMinuteAcceptKey.setValue(oldMinuteAcceptKey.getValue() + 1);\r\n        }\r\n\r\nIf at the point marked with a comment above **some other thread** *also* puts a new `MutableInteger` into the map, then your later change to `newMinuteAcceptKey` (which should really be `newMinuteAcceptValue`, since it&#39;s not the key!) will be irrelevant, as that value is no longer in the map.\r\n\r\nIn order to fix this, replace this whole thing with a single [compute][1] or [`merge`][2] call. Then you also don&#39;t really need `MutableInteger`, but can switch to a boring old `Integer`, if you want:\r\n\r\n    map.merge(minuteAcceptKey, 1, Integer::sum);\r\n\r\nThose methods will do **the whole operation** in an atomic way, i.e. make sure that no other calls manipulate the data until they are complete.\r\n\r\nA short summary: If you need a `ConcurrentHashMap`, then you almost never want to have plain `.put()` calls (except maybe when populating the initial values in a single-threaded way), as those method have rather weak concurrency guarantees (i.e. they only guarantee to not break the map, but any other operation can easily overwrite their values at any time).\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html#compute(K,java.util.function.BiFunction)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html#merge(K,V,java.util.function.BiFunction)","title":"Thread safety count problem，Why is there a problem with counting in the code?","body":"<p>You've got the same issue repeatedly, which is that you are interacting with a shared data structure in a non-synchronized way. The fact that <code>map</code> is a <code>ConcurrentHashMap</code> means that <em>individual</em> <code>.get</code> and <code>.put</code> calls will not break thread safety, you use <em>multiple</em> of those calls with the assumption that the map doesn't change between them.</p>\n<pre><code>    MutableInteger newMinuteAcceptKey = new MutableInteger();\n    newMinuteAcceptKey.setValue(1);\n    MutableInteger oldMinuteAcceptKey = map.put(minuteAcceptKey, newMinuteAcceptKey);\n    // let's assume here something happens\n    if(null != oldMinuteAcceptKey) {\n        newMinuteAcceptKey.setValue(oldMinuteAcceptKey.getValue() + 1);\n    }\n</code></pre>\n<p>If at the point marked with a comment above <strong>some other thread</strong> <em>also</em> puts a new <code>MutableInteger</code> into the map, then your later change to <code>newMinuteAcceptKey</code> (which should really be <code>newMinuteAcceptValue</code>, since it's not the key!) will be irrelevant, as that value is no longer in the map.</p>\n<p>In order to fix this, replace this whole thing with a single <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html#compute(K,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\">compute</a> or <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html#merge(K,V,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\"><code>merge</code></a> call. Then you also don't really need <code>MutableInteger</code>, but can switch to a boring old <code>Integer</code>, if you want:</p>\n<pre><code>map.merge(minuteAcceptKey, 1, Integer::sum);\n</code></pre>\n<p>Those methods will do <strong>the whole operation</strong> in an atomic way, i.e. make sure that no other calls manipulate the data until they are complete.</p>\n<p>A short summary: If you need a <code>ConcurrentHashMap</code>, then you almost never want to have plain <code>.put()</code> calls (except maybe when populating the initial values in a single-threaded way), as those method have rather weak concurrency guarantees (i.e. they only guarantee to not break the map, but any other operation can easily overwrite their values at any time).</p>\n"}],"owner":{"account_id":27572028,"reputation":1,"user_id":21043025,"display_name":"user21043025"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674981946,"creation_date":1674980984,"question_id":75273558,"body_markdown":"### Why is the following code thread unsafe?\r\n\r\nIn ConcurrentHashMap, the key is the current time, the value is MutableInteger, and the mutableInteger is used for counting, and the set method and get method have been locked. Why is the final value incorrect？\r\n\r\n```java\r\npublic class MutableInteger {\r\n    private volatile int value;\r\n\r\n    public MutableInteger() {\r\n    }\r\n\r\n    public synchronized int getValue() {\r\n        return value;\r\n    }\r\n\r\n    public synchronized void setValue(int value) {\r\n        this.value = value;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Calendar;\r\nimport java.util.concurrent.*;\r\n\r\npublic class LinkedQueue {\r\n\r\n    static ConcurrentHashMap&lt;String,MutableInteger&gt; map = new ConcurrentHashMap();\r\n\r\n    public static class CountQueue{\r\n        static BlockingQueue&lt;Calendar&gt; queue = new LinkedBlockingQueue&lt;Calendar&gt;();\r\n\r\n        public void produce() throws InterruptedException{\r\n            queue.put(Calendar.getInstance());\r\n        }\r\n        public Calendar consume() throws InterruptedException{\r\n            return queue.take();\r\n        }\r\n    }\r\n\r\n    /**\r\n     */\r\n    public static void recordFlow(){\r\n        final CountQueue queue = new CountQueue();\r\n        class Producer implements Runnable {\r\n            public void run() {\r\n                try {\r\n                    queue.produce();\r\n                } catch (Exception ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n        class Consumer implements Runnable {\r\n            public void run() {\r\n                try {\r\n                    getdata(queue.consume());\r\n                } catch (Exception ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n\r\n        ExecutorService service = Executors.newCachedThreadPool();\r\n        Producer producer = new Producer();\r\n        Consumer consumer = new Consumer();\r\n        service.submit(producer);\r\n        service.submit(consumer);\r\n        service.shutdown();\r\n    }\r\n\r\n    /**\r\n     *\r\n     *\r\n     * @param c 队列中取出的时间\r\n     */\r\n    public static void getdata(Calendar c){\r\n        try{\r\n            saveFlow(c);\r\n        }catch (Exception e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    // 接口流量记录\r\n    public static void saveFlow(Calendar c){\r\n        System.out.println(&quot;Thread Name:&quot;+Thread.currentThread().getName());\r\n        SimpleDateFormat sdfDate = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n        SimpleDateFormat sdfHour = new SimpleDateFormat(&quot;yyyy-MM-dd HH&quot;);\r\n        SimpleDateFormat sdfMinute = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm&quot;);\r\n\r\n        String dayAcceptKey = sdfDate.format(c.getTime());\r\n        String hourAcceptKey = sdfHour.format(c.getTime());\r\n        String minuteAcceptKey = sdfMinute.format(c.getTime());\r\n        \r\n        MutableInteger newMinuteAcceptKey = new MutableInteger();\r\n        newMinuteAcceptKey.setValue(1);\r\n        MutableInteger oldMinuteAcceptKey = map.put(minuteAcceptKey, newMinuteAcceptKey);\r\n        if(null != oldMinuteAcceptKey) {\r\n            newMinuteAcceptKey.setValue(oldMinuteAcceptKey.getValue() + 1);\r\n        }\r\n        System.out.println(&quot;minute in map：&quot;+ minuteAcceptKey + &quot;,&quot;+ newMinuteAcceptKey.getValue());\r\n        MutableInteger newHourAcceptKey = new MutableInteger();\r\n        newHourAcceptKey.setValue(1);\r\n        MutableInteger oldHourAcceptKey = map.put(hourAcceptKey, newHourAcceptKey);\r\n        if(null != oldHourAcceptKey) {\r\n            newHourAcceptKey.setValue(oldHourAcceptKey.getValue() + 1);\r\n        }\r\n        System.out.println(&quot;hour in map：&quot; + hourAcceptKey + &quot;,&quot; + newHourAcceptKey.getValue());\r\n        MutableInteger newDayAcceptKey = new MutableInteger();\r\n        newDayAcceptKey.setValue(1);\r\n        MutableInteger oldDayAcceptKey = map.put(dayAcceptKey, newDayAcceptKey);\r\n        if(null != oldDayAcceptKey) {\r\n            newDayAcceptKey.setValue(oldDayAcceptKey.getValue() + 1);\r\n        }\r\n        System.out.println(&quot;day in map：&quot; + dayAcceptKey + &quot;,&quot; + newDayAcceptKey.getValue());\r\n    }\r\n\r\n    public static void main(String[] args){\r\n        for(int i=0;i&lt;1000;i++) {\r\n            recordFlow();\r\n        }\r\n        try {\r\n            Thread.sleep(2000);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        System.out.println(&quot;==========================&quot;);\r\n        for(String key:map.keySet()){\r\n            System.out.println(&quot;key and value:&quot; +key + &quot; &quot; + map.get(key).getValue());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe get method and set method in MutableInteger have been locked and are used ConcurrentHashMap, but the result data in the main method is incorrect. Please help me see what the problem is，thank you","title":"Thread safety count problem，Why is there a problem with counting in the code?","body":"<h3>Why is the following code thread unsafe?</h3>\n<p>In ConcurrentHashMap, the key is the current time, the value is MutableInteger, and the mutableInteger is used for counting, and the set method and get method have been locked. Why is the final value incorrect？</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MutableInteger {\n    private volatile int value;\n\n    public MutableInteger() {\n    }\n\n    public synchronized int getValue() {\n        return value;\n    }\n\n    public synchronized void setValue(int value) {\n        this.value = value;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import java.text.SimpleDateFormat;\nimport java.util.Calendar;\nimport java.util.concurrent.*;\n\npublic class LinkedQueue {\n\n    static ConcurrentHashMap&lt;String,MutableInteger&gt; map = new ConcurrentHashMap();\n\n    public static class CountQueue{\n        static BlockingQueue&lt;Calendar&gt; queue = new LinkedBlockingQueue&lt;Calendar&gt;();\n\n        public void produce() throws InterruptedException{\n            queue.put(Calendar.getInstance());\n        }\n        public Calendar consume() throws InterruptedException{\n            return queue.take();\n        }\n    }\n\n    /**\n     */\n    public static void recordFlow(){\n        final CountQueue queue = new CountQueue();\n        class Producer implements Runnable {\n            public void run() {\n                try {\n                    queue.produce();\n                } catch (Exception ex) {\n                    ex.printStackTrace();\n                }\n            }\n        }\n        class Consumer implements Runnable {\n            public void run() {\n                try {\n                    getdata(queue.consume());\n                } catch (Exception ex) {\n                    ex.printStackTrace();\n                }\n            }\n        }\n\n        ExecutorService service = Executors.newCachedThreadPool();\n        Producer producer = new Producer();\n        Consumer consumer = new Consumer();\n        service.submit(producer);\n        service.submit(consumer);\n        service.shutdown();\n    }\n\n    /**\n     *\n     *\n     * @param c 队列中取出的时间\n     */\n    public static void getdata(Calendar c){\n        try{\n            saveFlow(c);\n        }catch (Exception e){\n            e.printStackTrace();\n        }\n    }\n\n    // 接口流量记录\n    public static void saveFlow(Calendar c){\n        System.out.println(&quot;Thread Name:&quot;+Thread.currentThread().getName());\n        SimpleDateFormat sdfDate = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n        SimpleDateFormat sdfHour = new SimpleDateFormat(&quot;yyyy-MM-dd HH&quot;);\n        SimpleDateFormat sdfMinute = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm&quot;);\n\n        String dayAcceptKey = sdfDate.format(c.getTime());\n        String hourAcceptKey = sdfHour.format(c.getTime());\n        String minuteAcceptKey = sdfMinute.format(c.getTime());\n        \n        MutableInteger newMinuteAcceptKey = new MutableInteger();\n        newMinuteAcceptKey.setValue(1);\n        MutableInteger oldMinuteAcceptKey = map.put(minuteAcceptKey, newMinuteAcceptKey);\n        if(null != oldMinuteAcceptKey) {\n            newMinuteAcceptKey.setValue(oldMinuteAcceptKey.getValue() + 1);\n        }\n        System.out.println(&quot;minute in map：&quot;+ minuteAcceptKey + &quot;,&quot;+ newMinuteAcceptKey.getValue());\n        MutableInteger newHourAcceptKey = new MutableInteger();\n        newHourAcceptKey.setValue(1);\n        MutableInteger oldHourAcceptKey = map.put(hourAcceptKey, newHourAcceptKey);\n        if(null != oldHourAcceptKey) {\n            newHourAcceptKey.setValue(oldHourAcceptKey.getValue() + 1);\n        }\n        System.out.println(&quot;hour in map：&quot; + hourAcceptKey + &quot;,&quot; + newHourAcceptKey.getValue());\n        MutableInteger newDayAcceptKey = new MutableInteger();\n        newDayAcceptKey.setValue(1);\n        MutableInteger oldDayAcceptKey = map.put(dayAcceptKey, newDayAcceptKey);\n        if(null != oldDayAcceptKey) {\n            newDayAcceptKey.setValue(oldDayAcceptKey.getValue() + 1);\n        }\n        System.out.println(&quot;day in map：&quot; + dayAcceptKey + &quot;,&quot; + newDayAcceptKey.getValue());\n    }\n\n    public static void main(String[] args){\n        for(int i=0;i&lt;1000;i++) {\n            recordFlow();\n        }\n        try {\n            Thread.sleep(2000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        System.out.println(&quot;==========================&quot;);\n        for(String key:map.keySet()){\n            System.out.println(&quot;key and value:&quot; +key + &quot; &quot; + map.get(key).getValue());\n        }\n    }\n}\n</code></pre>\n<p>The get method and set method in MutableInteger have been locked and are used ConcurrentHashMap, but the result data in the main method is incorrect. Please help me see what the problem is，thank you</p>\n"},{"tags":["java","functional-interface"],"answers":[{"tags":[],"owner":{"account_id":27647969,"reputation":1,"user_id":21103464,"display_name":"Dainel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674981593,"creation_date":1674981593,"answer_id":75273609,"question_id":75273559,"body_markdown":"try use &quot;anyMatch&quot;:\r\n```\r\nString mainString = new String (&quot;qrfghjtysd&quot;);\r\nString container = new String (&quot;qre fgh ty np&quot;);\r\n\r\nboolean result = Arrays.stream(container.split(&quot;\\\\s++&quot;))\r\n                .anyMatch(s -&gt; s.equals(mainString));\r\n```","title":"How to rewrite a Java program using Stream API methods, such as filter and map?","body":"<p>try use &quot;anyMatch&quot;:</p>\n<pre><code>String mainString = new String (&quot;qrfghjtysd&quot;);\nString container = new String (&quot;qre fgh ty np&quot;);\n\nboolean result = Arrays.stream(container.split(&quot;\\\\s++&quot;))\n                .anyMatch(s -&gt; s.equals(mainString));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1674981676,"creation_date":1674981676,"answer_id":75273619,"question_id":75273559,"body_markdown":"It seems like you want to transform each string `s` in the array to either &quot;true&quot; or &quot;false&quot; depending on `mainString.contains(s)`, and then join them together with new lines as the separator. The transformation can be done with a [`map`][1], and the joining can be done with the [`joining`][2] collector.\r\n\r\n    String res = Arrays.stream(smallStrings)\r\n        .map(s -&gt; Boolean.toString(mainString.contains(s)))\r\n        .collect(Collectors.joining(System.lineSeparator(), &quot;&quot;, System.lineSeparator()));\r\n\r\nLike your original code, this adds a trailing new line to the resulting string. If you don&#39;t care about the trailing new line, you can just pass a single `System.lineSeparator()` argument to the `joining` collector, calling [the other overload][3].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/stream/Stream.html#map(java.util.function.Function)\r\n  [2]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence,java.lang.CharSequence,java.lang.CharSequence)\r\n  [3]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence)","title":"How to rewrite a Java program using Stream API methods, such as filter and map?","body":"<p>It seems like you want to transform each string <code>s</code> in the array to either &quot;true&quot; or &quot;false&quot; depending on <code>mainString.contains(s)</code>, and then join them together with new lines as the separator. The transformation can be done with a <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/stream/Stream.html#map(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>map</code></a>, and the joining can be done with the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence,java.lang.CharSequence,java.lang.CharSequence)\" rel=\"nofollow noreferrer\"><code>joining</code></a> collector.</p>\n<pre><code>String res = Arrays.stream(smallStrings)\n    .map(s -&gt; Boolean.toString(mainString.contains(s)))\n    .collect(Collectors.joining(System.lineSeparator(), &quot;&quot;, System.lineSeparator()));\n</code></pre>\n<p>Like your original code, this adds a trailing new line to the resulting string. If you don't care about the trailing new line, you can just pass a single <code>System.lineSeparator()</code> argument to the <code>joining</code> collector, calling <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence)\" rel=\"nofollow noreferrer\">the other overload</a>.</p>\n"},{"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674981729,"creation_date":1674981729,"answer_id":75273623,"question_id":75273559,"body_markdown":"    String mainString = new String (&quot;qrfghjtysd&quot;);\r\n    String container = new String (&quot;qre fgh ty np&quot;);\r\n    String[] smallStrings = container.split(&quot;\\\\s++&quot;);\r\n    StringBuilder res = new StringBuilder();\r\n    Arrays.stream(smallStrings).map(str -&gt; mainString.contains(str)).forEach(flag -&gt; res.append(flag + System.lineSeparator()));\r\n    System.out.println(res);","title":"How to rewrite a Java program using Stream API methods, such as filter and map?","body":"<pre><code>String mainString = new String (&quot;qrfghjtysd&quot;);\nString container = new String (&quot;qre fgh ty np&quot;);\nString[] smallStrings = container.split(&quot;\\\\s++&quot;);\nStringBuilder res = new StringBuilder();\nArrays.stream(smallStrings).map(str -&gt; mainString.contains(str)).forEach(flag -&gt; res.append(flag + System.lineSeparator()));\nSystem.out.println(res);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1674981749,"creation_date":1674981749,"answer_id":75273625,"question_id":75273559,"body_markdown":"I would suggest something like this:\r\n```java\r\nfinal String mainString = &quot;qrfghjtysd&quot;;\r\nfinal String container = &quot;qre fgh ty np&quot;;\r\nfinal String res = Arrays.stream(container.split(&quot;\\\\s++&quot;))\r\n    .map(mainString::contains)\r\n    .map(String::valueOf)\r\n    .collect(Collectors.joining(System.lineSeparator()));\r\nSystem.out.println(res);\r\n```","title":"How to rewrite a Java program using Stream API methods, such as filter and map?","body":"<p>I would suggest something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final String mainString = &quot;qrfghjtysd&quot;;\nfinal String container = &quot;qre fgh ty np&quot;;\nfinal String res = Arrays.stream(container.split(&quot;\\\\s++&quot;))\n    .map(mainString::contains)\n    .map(String::valueOf)\n    .collect(Collectors.joining(System.lineSeparator()));\nSystem.out.println(res);\n</code></pre>\n"}],"owner":{"account_id":182529,"reputation":6991,"user_id":417291,"accept_rate":71,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":4,"score":-2,"last_activity_date":1674981749,"creation_date":1674981000,"question_id":75273559,"body_markdown":"I have a small program that iterates over an array of strings and then prints either true or false depending whether the string from array is included into another string.\r\nHow to rewrite this program using Stream API methods, such as filter and map?\r\n\r\n        String mainString = new String (&quot;qrfghjtysd&quot;);\r\n        String container = new String (&quot;qre fgh ty np&quot;);\r\n        String[] smallStrings = container.split(&quot;\\\\s++&quot;);\r\n        StringBuilder res = new StringBuilder();\r\n        Arrays.stream(smallStrings).  forEach(str -&gt; {\r\n            if (mainString.contains(str)) {\r\n                res.append(&quot;true&quot; + System.lineSeparator());\r\n            }\r\n            else {\r\n                res.append(&quot;false&quot; + System.lineSeparator());\r\n            }\r\n        });\r\n        System.out.println(res);","title":"How to rewrite a Java program using Stream API methods, such as filter and map?","body":"<p>I have a small program that iterates over an array of strings and then prints either true or false depending whether the string from array is included into another string.\nHow to rewrite this program using Stream API methods, such as filter and map?</p>\n<pre><code>    String mainString = new String (&quot;qrfghjtysd&quot;);\n    String container = new String (&quot;qre fgh ty np&quot;);\n    String[] smallStrings = container.split(&quot;\\\\s++&quot;);\n    StringBuilder res = new StringBuilder();\n    Arrays.stream(smallStrings).  forEach(str -&gt; {\n        if (mainString.contains(str)) {\n            res.append(&quot;true&quot; + System.lineSeparator());\n        }\n        else {\n            res.append(&quot;false&quot; + System.lineSeparator());\n        }\n    });\n    System.out.println(res);\n</code></pre>\n"},{"tags":["java","multithreading","callable"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1674982100,"post_id":75273539,"comment_id":132826880,"body_markdown":"As an aside, it looks like `PasswordHacker` should implement `Callable&lt;String&gt;`, not the raw type `Callable`. [Don&#39;t use raw types](https://stackoverflow.com/q/2770321/6395627).","body":"As an aside, it looks like <code>PasswordHacker</code> should implement <code>Callable&lt;String&gt;</code>, not the raw type <code>Callable</code>. <a href=\"https://stackoverflow.com/q/2770321/6395627\">Don&#39;t use raw types</a>."}],"owner":{"account_id":17934535,"reputation":55,"user_id":13031127,"display_name":"Suhas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674981538,"creation_date":1674980823,"question_id":75273539,"body_markdown":"**Question :**\r\nWhen invokeAny() is called with some tasks, On successful returning of one of the tasks, will the other task execution be &quot;STOPPED&quot; or Is the thread interruption is just called and the task execution continues to happen unless we manually check for the thread ?? According to the documentation : \r\n&gt;  Upon normal or exceptional return, tasks that have not completed are cancelled. \r\n \r\n**Background :**\r\nI have an implementation where I need to run few tasks parallely and wait for the acknowledgement of one success task completion but let the other tasks run and complete their job. For the POC, I found InvokeAny() could help me and just wrote the following code to test it out : \r\n\r\n```\r\n\r\npublic class PasswordHacker implements Callable {\r\n    private static final Logger logger = LoggerFactory.getLogger(PasswordHacker.class);\r\n    int password ;\r\n    int digits;\r\n\r\n    PasswordHacker(int password, int digits){\r\n        this.password = password;\r\n        this.digits = digits;\r\n    }\r\n    @Override\r\n    public Object call() throws Exception {\r\n        String hackerName = Thread.currentThread().getName();\r\n        logger.info( hackerName +  &quot; is starting to hack &quot;);\r\n        try{\r\n            while(true){\r\n                Integer guess = new Random().nextInt((int) Math.pow(10, digits));\r\n                if(guess.equals(password)) {\r\n                    logger.info(hackerName + &quot; completed the hack &quot;);\r\n                    return hackerName + &quot; Successfully &quot;;\r\n                }\r\n            }\r\n        }catch (Exception e){\r\n            throw new InterruptedException();\r\n        }\r\n//        return hackerName + &quot; Failed &quot;;\r\n    }\r\n}\r\n```\r\nand then added them as callableTasks\r\n```\r\n        List&lt;Callable&lt;String&gt;&gt; callableHackerTasks = new ArrayList&lt;&gt;();\r\n        for( int i = 1 ; i&lt;= hackers; i++){\r\n            callableHackerTasks.add(new PasswordHacker(password, digits));\r\n        }\r\n\r\n        try {\r\n            String result = executorService.invokeAny(callableHackerTasks, 2, TimeUnit.MINUTES);\r\n            logger.info( &quot;Hacker &quot;  +  result + &quot; completed the hack&quot;);\r\n        } catch (Exception ex) {\r\n            throw new RuntimeException(ex);\r\n        }\r\n```\r\nAnd the result is as follows, when I run 3 threads : \r\n```\r\npool-1-thread-2 is starting to hack \r\npool-1-thread-3 is starting to hack \r\npool-1-thread-1 is starting to hack \r\npool-1-thread-1 completed the hack \r\nHacker pool-1-thread-1 Successfully  completed the hack\r\npool-1-thread-2 completed the hack \r\npool-1-thread-3 completed the hack \r\n```\r\nThought this approach seems to satisfy my need, I want to know what exactly is the documentation referring to. Clearly, even though the documentation says that other threads are cancelled, they continue to run. According to the answer [here][1] ; We need to manually check in the while condition if the threat is interrupted and then stop the logic. But in real case scenarios what actually happens ?? Should we manually check for that or some Exception be thrown (Bcz in above code, the catch block isn&#39;t catching Interuption Exc ). \r\nWould appreciate a bit more clarity on this part or suggest any other useful methods to achieve the same.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/25197160/what-happens-to-remaining-thread-of-invokeany-executor-service","title":"Executor InvokeAny method doesnt cancel other threads after returning a result","body":"<p><strong>Question :</strong>\nWhen invokeAny() is called with some tasks, On successful returning of one of the tasks, will the other task execution be &quot;STOPPED&quot; or Is the thread interruption is just called and the task execution continues to happen unless we manually check for the thread ?? According to the documentation :</p>\n<blockquote>\n<p>Upon normal or exceptional return, tasks that have not completed are cancelled.</p>\n</blockquote>\n<p><strong>Background :</strong>\nI have an implementation where I need to run few tasks parallely and wait for the acknowledgement of one success task completion but let the other tasks run and complete their job. For the POC, I found InvokeAny() could help me and just wrote the following code to test it out :</p>\n<pre><code>\npublic class PasswordHacker implements Callable {\n    private static final Logger logger = LoggerFactory.getLogger(PasswordHacker.class);\n    int password ;\n    int digits;\n\n    PasswordHacker(int password, int digits){\n        this.password = password;\n        this.digits = digits;\n    }\n    @Override\n    public Object call() throws Exception {\n        String hackerName = Thread.currentThread().getName();\n        logger.info( hackerName +  &quot; is starting to hack &quot;);\n        try{\n            while(true){\n                Integer guess = new Random().nextInt((int) Math.pow(10, digits));\n                if(guess.equals(password)) {\n                    logger.info(hackerName + &quot; completed the hack &quot;);\n                    return hackerName + &quot; Successfully &quot;;\n                }\n            }\n        }catch (Exception e){\n            throw new InterruptedException();\n        }\n//        return hackerName + &quot; Failed &quot;;\n    }\n}\n</code></pre>\n<p>and then added them as callableTasks</p>\n<pre><code>        List&lt;Callable&lt;String&gt;&gt; callableHackerTasks = new ArrayList&lt;&gt;();\n        for( int i = 1 ; i&lt;= hackers; i++){\n            callableHackerTasks.add(new PasswordHacker(password, digits));\n        }\n\n        try {\n            String result = executorService.invokeAny(callableHackerTasks, 2, TimeUnit.MINUTES);\n            logger.info( &quot;Hacker &quot;  +  result + &quot; completed the hack&quot;);\n        } catch (Exception ex) {\n            throw new RuntimeException(ex);\n        }\n</code></pre>\n<p>And the result is as follows, when I run 3 threads :</p>\n<pre><code>pool-1-thread-2 is starting to hack \npool-1-thread-3 is starting to hack \npool-1-thread-1 is starting to hack \npool-1-thread-1 completed the hack \nHacker pool-1-thread-1 Successfully  completed the hack\npool-1-thread-2 completed the hack \npool-1-thread-3 completed the hack \n</code></pre>\n<p>Thought this approach seems to satisfy my need, I want to know what exactly is the documentation referring to. Clearly, even though the documentation says that other threads are cancelled, they continue to run. According to the answer <a href=\"https://stackoverflow.com/questions/25197160/what-happens-to-remaining-thread-of-invokeany-executor-service\">here</a> ; We need to manually check in the while condition if the threat is interrupted and then stop the logic. But in real case scenarios what actually happens ?? Should we manually check for that or some Exception be thrown (Bcz in above code, the catch block isn't catching Interuption Exc ).\nWould appreciate a bit more clarity on this part or suggest any other useful methods to achieve the same.</p>\n"},{"tags":["java","spring","spring-boot","xstream","jettison"],"owner":{"account_id":20856183,"reputation":41,"user_id":15319442,"display_name":"nik2811"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674980775,"creation_date":1674980775,"question_id":75273530,"body_markdown":"I was using Spring batch 4.2.7 and I&#39;d custom ExecutionContextSerializer class using jettison 1.2 and thoughtworks xstream 1.4.20. Serializable class is as follow.\r\n\r\n```\r\npublic class XStreamExecutionContextStringSerializer2 implements ExecutionContextSerializer, InitializingBean {\r\n\tprivate ReflectionProvider reflectionProvider = null;\r\n\r\n\tprivate HierarchicalStreamDriver hierarchicalStreamDriver;\r\n\r\n\tprivate XStream xstream;\r\n\r\n\tpublic void setReflectionProvider(ReflectionProvider reflectionProvider) {\r\n\t\tthis.reflectionProvider = reflectionProvider;\r\n\t}\r\n\r\n\tpublic void setHierarchicalStreamDriver(HierarchicalStreamDriver hierarchicalStreamDriver) {\r\n\t\tthis.hierarchicalStreamDriver = hierarchicalStreamDriver;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void afterPropertiesSet() throws Exception {\r\n\t\tinit();\r\n\t}\r\n\r\n\tpublic synchronized void init() throws Exception {\r\n\t\tif (hierarchicalStreamDriver == null) {\r\n\t\t\tConfiguration configuration = new Configuration();\r\n\t\t\tthis.hierarchicalStreamDriver = new JettisonMappedXmlDriver(configuration);\r\n\t\t}\r\n\t\tif (reflectionProvider == null) {\r\n\t\t\txstream = new XStream(hierarchicalStreamDriver);\r\n\r\n\t\t} else {\r\n\t\t\txstream = new XStream(reflectionProvider, hierarchicalStreamDriver);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Serializes the passed execution context to the supplied OutputStream.\r\n\t *\r\n\t * @param context {@link Map} containing the context information.\r\n\t * @param out     {@link OutputStream} where the serialized context information\r\n\t *                will be written.\r\n\t *\r\n\t * @see Serializer#serialize(Object, OutputStream)\r\n\t */\r\n\t@Override\r\n\tpublic void serialize(Map&lt;String, Object&gt; context, OutputStream out) throws IOException {\r\n\t\tAssert.notNull(context, &quot;context is required&quot;);\r\n\t\tAssert.notNull(out, &quot;An OutputStream is required&quot;);\r\n\r\n\t\tout.write(xstream.toXML(context).getBytes());\r\n\t}\r\n\r\n\t/**\r\n\t * Deserializes the supplied input stream into a new execution context.\r\n\t *\r\n\t * @param in {@link InputStream} containing the information to be deserialized.\r\n\t * \r\n\t * @return a reconstructed execution context\r\n\t * @see Deserializer#deserialize(InputStream)\r\n\t */\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t@Override\r\n\tpublic Map&lt;String, Object&gt; deserialize(InputStream in) throws IOException {\r\n\t\tBufferedReader br = new BufferedReader(new InputStreamReader(in));\r\n\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\r\n\t\tString line;\r\n\t\twhile ((line = br.readLine()) != null) {\r\n\t\t\tsb.append(line);\r\n\t\t}\r\n\r\n\t\treturn (Map&lt;String, Object&gt;) xstream.fromXML(sb.toString());\r\n\t}\r\n}\r\n```\r\n\r\nAs I&#39;ve upgraded jettison to 1.5.3, it started failing at deserialization, with following error\r\n\r\n```\r\nJobServiceImpl Error while deserializing execution context: Cannot construct type\r\n---- Debugging information ----\r\nmessage             : Cannot construct type\r\ncause-exception     : java.lang.InstantiationException\r\ncause-message       : java.util.Map$Entry\r\nconstruction-type   : java.util.Map$Entry\r\nclass               : java.util.Map$Entry\r\nrequired-type       : java.util.Map$Entry\r\nconverter-type      : com.thoughtworks.xstream.converters.reflection.ReflectionConverter\r\npath                : /map/map/entry\r\nline number         : -1\r\nclass[1]            : java.util.HashMap\r\nrequired-type[1]    : java.util.HashMap\r\nconverter-type[1]   : com.thoughtworks.xstream.converters.collections.MapConverter\r\nversion             : 1.4.20\r\n-------------------------------Stack Trace:[Ljava.lang.StackTraceElement;@441bcb7a\r\n```\r\n\r\nI&#39;ve tried to add use the solution of updating batch\\*\\_\\*job_execution_context and batch_step_execution_context as per below stackoverflow solution, but still it is not working. Can someone please help?\r\n\r\nhttps://stackoverflow.com/questions/62718203/spring-batch-4-2-4-unable-to-deserialize-the-execution-context","title":"JobServiceImpl Error while deserializing execution context: Cannot construct type using xstream thoughtworks 1.4.20 and jettison 1.5.3","body":"<p>I was using Spring batch 4.2.7 and I'd custom ExecutionContextSerializer class using jettison 1.2 and thoughtworks xstream 1.4.20. Serializable class is as follow.</p>\n<pre><code>public class XStreamExecutionContextStringSerializer2 implements ExecutionContextSerializer, InitializingBean {\n    private ReflectionProvider reflectionProvider = null;\n\n    private HierarchicalStreamDriver hierarchicalStreamDriver;\n\n    private XStream xstream;\n\n    public void setReflectionProvider(ReflectionProvider reflectionProvider) {\n        this.reflectionProvider = reflectionProvider;\n    }\n\n    public void setHierarchicalStreamDriver(HierarchicalStreamDriver hierarchicalStreamDriver) {\n        this.hierarchicalStreamDriver = hierarchicalStreamDriver;\n    }\n\n    @Override\n    public void afterPropertiesSet() throws Exception {\n        init();\n    }\n\n    public synchronized void init() throws Exception {\n        if (hierarchicalStreamDriver == null) {\n            Configuration configuration = new Configuration();\n            this.hierarchicalStreamDriver = new JettisonMappedXmlDriver(configuration);\n        }\n        if (reflectionProvider == null) {\n            xstream = new XStream(hierarchicalStreamDriver);\n\n        } else {\n            xstream = new XStream(reflectionProvider, hierarchicalStreamDriver);\n        }\n    }\n\n    /**\n     * Serializes the passed execution context to the supplied OutputStream.\n     *\n     * @param context {@link Map} containing the context information.\n     * @param out     {@link OutputStream} where the serialized context information\n     *                will be written.\n     *\n     * @see Serializer#serialize(Object, OutputStream)\n     */\n    @Override\n    public void serialize(Map&lt;String, Object&gt; context, OutputStream out) throws IOException {\n        Assert.notNull(context, &quot;context is required&quot;);\n        Assert.notNull(out, &quot;An OutputStream is required&quot;);\n\n        out.write(xstream.toXML(context).getBytes());\n    }\n\n    /**\n     * Deserializes the supplied input stream into a new execution context.\n     *\n     * @param in {@link InputStream} containing the information to be deserialized.\n     * \n     * @return a reconstructed execution context\n     * @see Deserializer#deserialize(InputStream)\n     */\n    @SuppressWarnings(&quot;unchecked&quot;)\n    @Override\n    public Map&lt;String, Object&gt; deserialize(InputStream in) throws IOException {\n        BufferedReader br = new BufferedReader(new InputStreamReader(in));\n\n        StringBuilder sb = new StringBuilder();\n\n        String line;\n        while ((line = br.readLine()) != null) {\n            sb.append(line);\n        }\n\n        return (Map&lt;String, Object&gt;) xstream.fromXML(sb.toString());\n    }\n}\n</code></pre>\n<p>As I've upgraded jettison to 1.5.3, it started failing at deserialization, with following error</p>\n<pre><code>JobServiceImpl Error while deserializing execution context: Cannot construct type\n---- Debugging information ----\nmessage             : Cannot construct type\ncause-exception     : java.lang.InstantiationException\ncause-message       : java.util.Map$Entry\nconstruction-type   : java.util.Map$Entry\nclass               : java.util.Map$Entry\nrequired-type       : java.util.Map$Entry\nconverter-type      : com.thoughtworks.xstream.converters.reflection.ReflectionConverter\npath                : /map/map/entry\nline number         : -1\nclass[1]            : java.util.HashMap\nrequired-type[1]    : java.util.HashMap\nconverter-type[1]   : com.thoughtworks.xstream.converters.collections.MapConverter\nversion             : 1.4.20\n-------------------------------Stack Trace:[Ljava.lang.StackTraceElement;@441bcb7a\n</code></pre>\n<p>I've tried to add use the solution of updating batch*_*job_execution_context and batch_step_execution_context as per below stackoverflow solution, but still it is not working. Can someone please help?</p>\n<p><a href=\"https://stackoverflow.com/questions/62718203/spring-batch-4-2-4-unable-to-deserialize-the-execution-context\">Spring Batch 4.2.4: Unable to deserialize the execution context</a></p>\n"},{"tags":["java","android","android-studio","abstract-class","onclicklistener"],"answers":[{"tags":[],"owner":{"account_id":1225655,"reputation":38395,"user_id":1207921,"accept_rate":79,"display_name":"Karakuri"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1461540891,"creation_date":1461540891,"answer_id":36830127,"question_id":36829998,"body_markdown":"Remove `implements OnClickListener` from your class definition.","title":"Class must either be declared abstract or implement abstract method?","body":"<p>Remove <code>implements OnClickListener</code> from your class definition.</p>\n"},{"comments":[{"owner":{"account_id":4456517,"reputation":325,"user_id":3626609,"accept_rate":58,"display_name":"fatalError"},"score":1,"creation_date":1461541916,"post_id":36830195,"comment_id":61231612,"body_markdown":"Ohhhhh ok that makes sense! Thank you.","body":"Ohhhhh ok that makes sense! Thank you."},{"owner":{"account_id":5014229,"reputation":644,"user_id":4029487,"accept_rate":69,"display_name":"publicknowledge"},"score":1,"creation_date":1518064445,"post_id":36830195,"comment_id":84353104,"body_markdown":"alt-enter ftw!!","body":"alt-enter ftw!!"},{"owner":{"account_id":1559965,"reputation":33296,"user_id":1450077,"display_name":"Fluffeh"},"score":0,"creation_date":1674979892,"post_id":36830195,"comment_id":132826561,"body_markdown":"*As I can see in your code, you&#39;ve already given your buttons the proper onClickListeners so the solution might be simply to delete `implements OnClickListener` since you&#39;re not using it.* Most important part of the answer.","body":"<i>As I can see in your code, you&#39;ve already given your buttons the proper onClickListeners so the solution might be simply to delete <code>implements OnClickListener</code> since you&#39;re not using it.</i> Most important part of the answer."},{"owner":{"account_id":7423733,"reputation":7391,"user_id":5647037,"display_name":"Vucko"},"score":0,"creation_date":1674990499,"post_id":36830195,"comment_id":132828148,"body_markdown":"Yeah, but I also wanted to thoroughly explain what had happened rather than just providing  a 3 word solution.","body":"Yeah, but I also wanted to thoroughly explain what had happened rather than just providing  a 3 word solution."}],"tags":[],"owner":{"account_id":7423733,"reputation":7391,"user_id":5647037,"display_name":"Vucko"},"comment_count":4,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1461541565,"creation_date":1461541565,"answer_id":36830195,"question_id":36829998,"body_markdown":"You need to implement all the unimplemented methods from the interface you&#39;re implementing. In your case the interface is `OnClickListener` and it needs to have a method:\r\n\r\n `public abstract void onClick (View v)`\r\n\r\nEither remove the interface or implement that method. You can do so easily by placing your cursor on the `OnClickListener` and pressing `ALT+ENTER` if you&#39;re using *Android Studio* and it&#39;ll give you the options on how to fix the error.\r\n\r\nAs I can see in your code, you&#39;ve already given your buttons the proper `onClickListeners` so the solution might be simply to delete `implements OnClickListener` since you&#39;re not using it.","title":"Class must either be declared abstract or implement abstract method?","body":"<p>You need to implement all the unimplemented methods from the interface you're implementing. In your case the interface is <code>OnClickListener</code> and it needs to have a method:</p>\n\n<p><code>public abstract void onClick (View v)</code></p>\n\n<p>Either remove the interface or implement that method. You can do so easily by placing your cursor on the <code>OnClickListener</code> and pressing <code>ALT+ENTER</code> if you're using <em>Android Studio</em> and it'll give you the options on how to fix the error.</p>\n\n<p>As I can see in your code, you've already given your buttons the proper <code>onClickListeners</code> so the solution might be simply to delete <code>implements OnClickListener</code> since you're not using it.</p>\n"}],"owner":{"account_id":4456517,"reputation":325,"user_id":3626609,"accept_rate":58,"display_name":"fatalError"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55325,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"closed_date":1461542257,"accepted_answer_id":36830195,"answer_count":2,"score":7,"last_activity_date":1674979836,"creation_date":1461539803,"question_id":36829998,"body_markdown":"It loos like i&#39;m doing everything right here but I must be missing  something. Hoping to get explanation about why I&#39;m getting that error in the first line of my code and what I should do to fix this type of problem? I&#39;m new to android dev. \r\n\r\n    public class page2 extends AppCompatActivity implements OnClickListener {\r\n\r\n\r\n    /**\r\n     * ATTENTION: This was auto-generated to implement the App Indexing API.\r\n     * See https://g.co/AppIndexing/AndroidStudio for more information.\r\n     */\r\n    private GoogleApiClient client;\r\n\r\n    ImageButton rock, scissors, paper;\r\n    Random randomNum = new Random();\r\n    int cpuMov;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activitypage2); //set what xml page style to display\r\n\r\n        rock = (ImageButton) findViewById(R.id.imageButtonRock);\r\n        scissors = (ImageButton) findViewById(R.id.imageButtonScissors);\r\n        paper = (ImageButton) findViewById(R.id.imageButtonPaper);\r\n\r\n        rock.setOnClickListener(new OnClickListener() { // calling onClick() method\r\n            @Override\r\n            //method for handling what happens when you click Rock buttonImage.\r\n            public void onClick(View v) {\r\n\r\n                // number between 1-3 inclusive (max-min+1)+1\r\n                cpuMov = randomNum.nextInt(3 - 1 + 1) + 1;\r\n                buildAlert(cpuMov, &quot;imageButtonRock&quot;);\r\n                moveViewToScreenCenter(v);//float to center\r\n            }\r\n        });\r\n\r\n        scissors.setOnClickListener(new OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                // number between 1-3 inclusive (max-min+1)+1\r\n                cpuMov = randomNum.nextInt(3 - 1 + 1) + 1;\r\n                buildAlert(cpuMov, &quot;imageButtonScissors&quot;);\r\n                moveViewToScreenCenter(v);//float to center\r\n            }\r\n        });\r\n\r\n        paper.setOnClickListener(new OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                // number between 1-3 inclusive (max-min+1)+1\r\n                cpuMov = randomNum.nextInt(3 - 1 + 1) + 1;\r\n                buildAlert(cpuMov, &quot;imageButtonPaper&quot;);\r\n                moveViewToScreenCenter(v);//float to center\r\n            }\r\n        });\r\n\r\n    } //EoOnCreate\r\n\r\n    private void moveViewToScreenCenter( View view )\r\n    {\r\n        RelativeLayout root = (RelativeLayout) findViewById( R.id.rootLayout );\r\n        DisplayMetrics dm = new DisplayMetrics();\r\n        this.getWindowManager().getDefaultDisplay().getMetrics( dm );\r\n        int statusBarOffset = dm.heightPixels - root.getMeasuredHeight();\r\n\r\n        int originalPos[] = new int[2];\r\n        view.getLocationOnScreen( originalPos );\r\n\r\n        int xDest = dm.widthPixels/2;\r\n        xDest -= (view.getMeasuredWidth()/2);\r\n        int yDest = dm.heightPixels/2 - (view.getMeasuredHeight()/2) - statusBarOffset;\r\n\r\n        TranslateAnimation anim = new TranslateAnimation( 0, xDest - originalPos[0] , 0, yDest - originalPos[1] );\r\n        anim.setDuration(5000); // speed of the movement\r\n        anim.setFillAfter( true );\r\n        view.startAnimation(anim);\r\n    }\r\n\r\n    //builds the message that will be displayed\r\n    void appendMessage(AlertDialog.Builder myAlert, String cpuMove, String result) {\r\n        myAlert.setMessage(&quot;Computer selects &quot; +cpuMove+ &quot;, you &quot; +result+ &quot;!&quot;);\r\n        myAlert.show();\r\n        myAlert.setCancelable(true);\r\n        //how to give id to alertDialog to save in strings.xml\r\n\r\n    }\r\n\r\n    public void buildAlert(int move, String btnPressed) {\r\n        AlertDialog.Builder myAlert = new AlertDialog.Builder(this);\r\n        String cpuMove;\r\n        String result;\r\n        if (btnPressed.equals(&quot;imageButtonRock&quot;)) {\r\n            //Toast.makeText(this, &quot;hooray &quot;+move, Toast.LENGTH_SHORT).show();\r\n            if (move == 1) {\r\n                cpuMove = &quot;Rock&quot;;\r\n                result = &quot;tied&quot;;\r\n                //call appendMessage to append vars and display the message\r\n                appendMessage(myAlert, cpuMove, result);\r\n            }\r\n            if (move == 2) {\r\n                cpuMove = &quot;Scissors&quot;;\r\n                result = &quot;won&quot;;\r\n                //call appendMessage to append vars and display the message\r\n                appendMessage(myAlert,cpuMove,result);\r\n            }\r\n            if (move == 3) {\r\n                cpuMove = &quot;Paper&quot;;\r\n                result = &quot;lost&quot;;\r\n                //call appendMessage to append vars and display the message\r\n                appendMessage(myAlert,cpuMove,result);\r\n            }\r\n        } else if (btnPressed.equals(&quot;imageButtonScissors&quot;)) {\r\n            if (move == 1) {\r\n                cpuMove = &quot;Rock&quot;;\r\n                result = &quot;lost&quot;;\r\n                //call appendMessage to append vars and display the message\r\n                appendMessage(myAlert,cpuMove,result);\r\n            }\r\n            if (move == 2) {\r\n                cpuMove = &quot;Scissors&quot;;\r\n                result = &quot;tied&quot;;\r\n                //call appendMessage to append vars and display the message\r\n                appendMessage(myAlert, cpuMove, result);\r\n            }\r\n            if (move == 3) {\r\n                cpuMove = &quot;Paper&quot;;\r\n                result = &quot;won&quot;;\r\n                //call appendMessage to append vars and display the message\r\n                appendMessage(myAlert,cpuMove,result);\r\n            }\r\n        } else { //imageButton is Scissors\r\n            if (move == 1) {\r\n                cpuMove = &quot;Rock&quot;;\r\n                result = &quot;won&quot;;\r\n                //call appendMessage to append vars and display the message\r\n                appendMessage(myAlert,cpuMove,result);\r\n            }\r\n            if (move == 2) {\r\n                cpuMove = &quot;Scissors&quot;;\r\n                result = &quot;lost&quot;;\r\n                //call appendMessage to append vars and display the message\r\n                appendMessage(myAlert,cpuMove,result);\r\n            }\r\n            if (move == 3) {\r\n                cpuMove = &quot;Paper&quot;;\r\n                result = &quot;tied&quot;;\r\n                //call appendMessage to append vars and display the message\r\n                appendMessage(myAlert,cpuMove,result);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n\r\n        // ATTENTION: This was auto-generated to implement the App Indexing API.\r\n        // See https://g.co/AppIndexing/AndroidStudio for more information.\r\n        client.connect();\r\n        Action viewAction = Action.newAction(\r\n                Action.TYPE_VIEW, // TODO: choose an action type.\r\n                &quot;page2 Page&quot;, // TODO: Define a title for the content shown.\r\n                // TODO: If you have web page content that matches this app activity&#39;s content,\r\n                // make sure this auto-generated web page URL is correct.\r\n                // Otherwise, set the URL to null.\r\n                Uri.parse(&quot;http://host/path&quot;),\r\n                // TODO: Make sure this auto-generated app deep link URI is correct.\r\n                Uri.parse(&quot;android-app://rps.rsp/http/host/path&quot;)\r\n        );\r\n        AppIndex.AppIndexApi.start(client, viewAction);\r\n    }\r\n\r\n    @Override\r\n    public void onStop() {\r\n        super.onStop();\r\n\r\n        // ATTENTION: This was auto-generated to implement the App Indexing API.\r\n        // See https://g.co/AppIndexing/AndroidStudio for more information.\r\n        Action viewAction = Action.newAction(\r\n                Action.TYPE_VIEW, // TODO: choose an action type.\r\n                &quot;page2 Page&quot;, // TODO: Define a title for the content shown.\r\n                // TODO: If you have web page content that matches this app activity&#39;s content,\r\n                // make sure this auto-generated web page URL is correct.\r\n                // Otherwise, set the URL to null.\r\n                Uri.parse(&quot;http://host/path&quot;),\r\n                // TODO: Make sure this auto-generated app deep link URI is correct.\r\n                Uri.parse(&quot;android-app://rps.rsp/http/host/path&quot;)\r\n        );\r\n        AppIndex.AppIndexApi.end(client, viewAction);\r\n        client.disconnect();\r\n    }\r\n\r\n    }\r\n\r\nI know that View.OnClickListener must implement the function onClick(). Am I not doing that?","title":"Class must either be declared abstract or implement abstract method?","body":"<p>It loos like i'm doing everything right here but I must be missing  something. Hoping to get explanation about why I'm getting that error in the first line of my code and what I should do to fix this type of problem? I'm new to android dev.</p>\n<pre><code>public class page2 extends AppCompatActivity implements OnClickListener {\n\n\n/**\n * ATTENTION: This was auto-generated to implement the App Indexing API.\n * See https://g.co/AppIndexing/AndroidStudio for more information.\n */\nprivate GoogleApiClient client;\n\nImageButton rock, scissors, paper;\nRandom randomNum = new Random();\nint cpuMov;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activitypage2); //set what xml page style to display\n\n    rock = (ImageButton) findViewById(R.id.imageButtonRock);\n    scissors = (ImageButton) findViewById(R.id.imageButtonScissors);\n    paper = (ImageButton) findViewById(R.id.imageButtonPaper);\n\n    rock.setOnClickListener(new OnClickListener() { // calling onClick() method\n        @Override\n        //method for handling what happens when you click Rock buttonImage.\n        public void onClick(View v) {\n\n            // number between 1-3 inclusive (max-min+1)+1\n            cpuMov = randomNum.nextInt(3 - 1 + 1) + 1;\n            buildAlert(cpuMov, &quot;imageButtonRock&quot;);\n            moveViewToScreenCenter(v);//float to center\n        }\n    });\n\n    scissors.setOnClickListener(new OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n            // number between 1-3 inclusive (max-min+1)+1\n            cpuMov = randomNum.nextInt(3 - 1 + 1) + 1;\n            buildAlert(cpuMov, &quot;imageButtonScissors&quot;);\n            moveViewToScreenCenter(v);//float to center\n        }\n    });\n\n    paper.setOnClickListener(new OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n            // number between 1-3 inclusive (max-min+1)+1\n            cpuMov = randomNum.nextInt(3 - 1 + 1) + 1;\n            buildAlert(cpuMov, &quot;imageButtonPaper&quot;);\n            moveViewToScreenCenter(v);//float to center\n        }\n    });\n\n} //EoOnCreate\n\nprivate void moveViewToScreenCenter( View view )\n{\n    RelativeLayout root = (RelativeLayout) findViewById( R.id.rootLayout );\n    DisplayMetrics dm = new DisplayMetrics();\n    this.getWindowManager().getDefaultDisplay().getMetrics( dm );\n    int statusBarOffset = dm.heightPixels - root.getMeasuredHeight();\n\n    int originalPos[] = new int[2];\n    view.getLocationOnScreen( originalPos );\n\n    int xDest = dm.widthPixels/2;\n    xDest -= (view.getMeasuredWidth()/2);\n    int yDest = dm.heightPixels/2 - (view.getMeasuredHeight()/2) - statusBarOffset;\n\n    TranslateAnimation anim = new TranslateAnimation( 0, xDest - originalPos[0] , 0, yDest - originalPos[1] );\n    anim.setDuration(5000); // speed of the movement\n    anim.setFillAfter( true );\n    view.startAnimation(anim);\n}\n\n//builds the message that will be displayed\nvoid appendMessage(AlertDialog.Builder myAlert, String cpuMove, String result) {\n    myAlert.setMessage(&quot;Computer selects &quot; +cpuMove+ &quot;, you &quot; +result+ &quot;!&quot;);\n    myAlert.show();\n    myAlert.setCancelable(true);\n    //how to give id to alertDialog to save in strings.xml\n\n}\n\npublic void buildAlert(int move, String btnPressed) {\n    AlertDialog.Builder myAlert = new AlertDialog.Builder(this);\n    String cpuMove;\n    String result;\n    if (btnPressed.equals(&quot;imageButtonRock&quot;)) {\n        //Toast.makeText(this, &quot;hooray &quot;+move, Toast.LENGTH_SHORT).show();\n        if (move == 1) {\n            cpuMove = &quot;Rock&quot;;\n            result = &quot;tied&quot;;\n            //call appendMessage to append vars and display the message\n            appendMessage(myAlert, cpuMove, result);\n        }\n        if (move == 2) {\n            cpuMove = &quot;Scissors&quot;;\n            result = &quot;won&quot;;\n            //call appendMessage to append vars and display the message\n            appendMessage(myAlert,cpuMove,result);\n        }\n        if (move == 3) {\n            cpuMove = &quot;Paper&quot;;\n            result = &quot;lost&quot;;\n            //call appendMessage to append vars and display the message\n            appendMessage(myAlert,cpuMove,result);\n        }\n    } else if (btnPressed.equals(&quot;imageButtonScissors&quot;)) {\n        if (move == 1) {\n            cpuMove = &quot;Rock&quot;;\n            result = &quot;lost&quot;;\n            //call appendMessage to append vars and display the message\n            appendMessage(myAlert,cpuMove,result);\n        }\n        if (move == 2) {\n            cpuMove = &quot;Scissors&quot;;\n            result = &quot;tied&quot;;\n            //call appendMessage to append vars and display the message\n            appendMessage(myAlert, cpuMove, result);\n        }\n        if (move == 3) {\n            cpuMove = &quot;Paper&quot;;\n            result = &quot;won&quot;;\n            //call appendMessage to append vars and display the message\n            appendMessage(myAlert,cpuMove,result);\n        }\n    } else { //imageButton is Scissors\n        if (move == 1) {\n            cpuMove = &quot;Rock&quot;;\n            result = &quot;won&quot;;\n            //call appendMessage to append vars and display the message\n            appendMessage(myAlert,cpuMove,result);\n        }\n        if (move == 2) {\n            cpuMove = &quot;Scissors&quot;;\n            result = &quot;lost&quot;;\n            //call appendMessage to append vars and display the message\n            appendMessage(myAlert,cpuMove,result);\n        }\n        if (move == 3) {\n            cpuMove = &quot;Paper&quot;;\n            result = &quot;tied&quot;;\n            //call appendMessage to append vars and display the message\n            appendMessage(myAlert,cpuMove,result);\n        }\n    }\n}\n\n@Override\npublic void onStart() {\n    super.onStart();\n\n    // ATTENTION: This was auto-generated to implement the App Indexing API.\n    // See https://g.co/AppIndexing/AndroidStudio for more information.\n    client.connect();\n    Action viewAction = Action.newAction(\n            Action.TYPE_VIEW, // TODO: choose an action type.\n            &quot;page2 Page&quot;, // TODO: Define a title for the content shown.\n            // TODO: If you have web page content that matches this app activity's content,\n            // make sure this auto-generated web page URL is correct.\n            // Otherwise, set the URL to null.\n            Uri.parse(&quot;http://host/path&quot;),\n            // TODO: Make sure this auto-generated app deep link URI is correct.\n            Uri.parse(&quot;android-app://rps.rsp/http/host/path&quot;)\n    );\n    AppIndex.AppIndexApi.start(client, viewAction);\n}\n\n@Override\npublic void onStop() {\n    super.onStop();\n\n    // ATTENTION: This was auto-generated to implement the App Indexing API.\n    // See https://g.co/AppIndexing/AndroidStudio for more information.\n    Action viewAction = Action.newAction(\n            Action.TYPE_VIEW, // TODO: choose an action type.\n            &quot;page2 Page&quot;, // TODO: Define a title for the content shown.\n            // TODO: If you have web page content that matches this app activity's content,\n            // make sure this auto-generated web page URL is correct.\n            // Otherwise, set the URL to null.\n            Uri.parse(&quot;http://host/path&quot;),\n            // TODO: Make sure this auto-generated app deep link URI is correct.\n            Uri.parse(&quot;android-app://rps.rsp/http/host/path&quot;)\n    );\n    AppIndex.AppIndexApi.end(client, viewAction);\n    client.disconnect();\n}\n\n}\n</code></pre>\n<p>I know that View.OnClickListener must implement the function onClick(). Am I not doing that?</p>\n"},{"tags":["java","multithreading","threadpool","work-stealing"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1650287578,"post_id":71906940,"comment_id":127073180,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":21416719,"reputation":1,"user_id":19143352,"display_name":"programming-tips.jp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674979593,"creation_date":1674979593,"answer_id":75273431,"question_id":71906940,"body_markdown":"The work-stealing thread pool does not support Future.cancel(true). If you need to interrupt the thread (e.g. using Thread.sleep), you need to use the fixed thread pool. If not, it would be better to use the work-stealing thread pool.\r\n\r\nPlease see also [here](https://stackoverflow.com/questions/29903804/executorservice-workstealingpool-and-cancel-method).","title":"How to decide whether to use newWorkStealingPool or newFixedThreadPool?","body":"<p>The work-stealing thread pool does not support Future.cancel(true). If you need to interrupt the thread (e.g. using Thread.sleep), you need to use the fixed thread pool. If not, it would be better to use the work-stealing thread pool.</p>\n<p>Please see also <a href=\"https://stackoverflow.com/questions/29903804/executorservice-workstealingpool-and-cancel-method\">here</a>.</p>\n"}],"owner":{"account_id":8742868,"reputation":1,"user_id":6539353,"display_name":"zainuel abideen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":525,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674979593,"creation_date":1650247425,"question_id":71906940,"body_markdown":"I understand that in Work Stealing Pool each thread has its own queue where as Fixed Thread Pool has a single shared unbounded queue.\r\n\r\nBut I&#39;m still not clear in deciding which one is better among them in terms of performance. I see that work stealing pool has an advantage because it steals the work from other thread&#39;s queue when it is done processing all of its tasks and both of them use a fixed number of threads.\r\n\r\nSo is work stealing pool always a better choice ?","title":"How to decide whether to use newWorkStealingPool or newFixedThreadPool?","body":"<p>I understand that in Work Stealing Pool each thread has its own queue where as Fixed Thread Pool has a single shared unbounded queue.</p>\n<p>But I'm still not clear in deciding which one is better among them in terms of performance. I see that work stealing pool has an advantage because it steals the work from other thread's queue when it is done processing all of its tasks and both of them use a fixed number of threads.</p>\n<p>So is work stealing pool always a better choice ?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":14707994,"reputation":162,"user_id":10622099,"display_name":"DaniyalVaghar"},"score":0,"creation_date":1674979301,"post_id":75273353,"comment_id":132826499,"body_markdown":"you initial de and then check if id is null?wierd.it is ok if all fields are emty because you create a new object and just assign phonenumber","body":"you initial de and then check if id is null?wierd.it is ok if all fields are emty because you create a new object and just assign phonenumber"}],"owner":{"account_id":27647613,"reputation":11,"user_id":21103169,"display_name":"Tan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1674978512,"creation_date":1674978512,"question_id":75273353,"body_markdown":"When i tried this method only phone number display other fields showing null\r\n\r\n\r\n@Component\r\npublic class delegatemock {\r\n\t\r\n\tprivate List&lt;Delegate&gt; list=new ArrayList&lt;Delegate&gt;();\r\n\t\r\n\tpublic void create() {\r\n\t\tlist=List.of(\r\n\t\t\t\tnew Delegate(&quot;1&quot;,&quot;neha&quot;,&quot;123457894&quot;,&quot;family&quot;),\r\n\t\t\t\tnew Delegate(&quot;2&quot;,&quot;joy&quot;,&quot;993456432&quot;,&quot;family&quot;));\r\n\t\t\t\t\r\n\t}\r\n\t\r\n\tpublic delegateresponse updated(dto d,String id) {\r\n\t\t\r\n\t\tDelegate de =new Delegate();\r\n\t\tif(de.getId()!=null &amp;&amp;de.getName()==d.getName())  \r\n\t\t\tde.setPhone(d.getPhone());\r\n\t\t   list.add(de);\r\n\t\t   return new delegateresponse(de.getId(),de.getName(),de.getPhone(),de.getRelation());\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t`your text`\r\n\r\n\r\n\r\nPlease anyone help me to update specific phone number without database ","title":"How to update specific field without database in spring boot application","body":"<p>When i tried this method only phone number display other fields showing null</p>\n<p>@Component\npublic class delegatemock {</p>\n<pre><code>private List&lt;Delegate&gt; list=new ArrayList&lt;Delegate&gt;();\n\npublic void create() {\n    list=List.of(\n            new Delegate(&quot;1&quot;,&quot;neha&quot;,&quot;123457894&quot;,&quot;family&quot;),\n            new Delegate(&quot;2&quot;,&quot;joy&quot;,&quot;993456432&quot;,&quot;family&quot;));\n            \n}\n\npublic delegateresponse updated(dto d,String id) {\n    \n    Delegate de =new Delegate();\n    if(de.getId()!=null &amp;&amp;de.getName()==d.getName())  \n        de.setPhone(d.getPhone());\n       list.add(de);\n       return new delegateresponse(de.getId(),de.getName(),de.getPhone(),de.getRelation());\n    \n}\n\n\n`your text`\n</code></pre>\n<p>Please anyone help me to update specific phone number without database</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9530,"page":693,"page_size":100}
