{"items":[{"tags":["java","security","cryptography","hsm","softhsm"],"answers":[{"tags":[],"owner":{"account_id":1413799,"reputation":731,"user_id":1339879,"display_name":"Manuel Pardo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688505650,"creation_date":1688505650,"answer_id":76615926,"question_id":73034996,"body_markdown":"Yes it is possible.\r\n\r\nJust create two configs, and USE different names otherwise it will use always the same first one\r\n\r\n    pkcs11.slot1.conf\r\n        name = Slot1\r\n        library = /usr/local/lib/softhsm/libsofthsm2.so\r\n        slot=225432144\r\n\r\n\r\n    pkcs11.slot2.conf\r\n        name = Slot2\r\n        library = /usr/local/lib/softhsm/libsofthsm2.so\r\n        slot=1288498471\r\n\r\n\r\nIn Java you could do something like this to load different slots configs:\r\n\r\n    Provider providerPKCS11 = Security.getProvider(&quot;SunPKCS11&quot;);\r\n    if (providerId != null &amp;&amp; providerId.equals(&quot;1&quot;)) {\r\n            providerPKCS11 =providerPKCS11.configure(&quot;pkcs11.slot1.conf&quot;);\r\n\r\n    } else {\r\n            providerPKCS11 =providerPKCS11.configure(&quot;pkcs11.slot2.conf&quot;);\r\n\r\n    }\r\n    Security.addProvider(providerPKCS11);\r\n\r\n    KeyStore ks = KeyStore.getInstance(&quot;PKCS11&quot;, providerPKCS11);\r\n    ...\r\n    ..\r\n    .\r\n\r\n","title":"How can I make multiple clients connect to multiple slots in SoftHSM by Java code","body":"<p>Yes it is possible.</p>\n<p>Just create two configs, and USE different names otherwise it will use always the same first one</p>\n<pre><code>pkcs11.slot1.conf\n    name = Slot1\n    library = /usr/local/lib/softhsm/libsofthsm2.so\n    slot=225432144\n\n\npkcs11.slot2.conf\n    name = Slot2\n    library = /usr/local/lib/softhsm/libsofthsm2.so\n    slot=1288498471\n</code></pre>\n<p>In Java you could do something like this to load different slots configs:</p>\n<pre><code>Provider providerPKCS11 = Security.getProvider(&quot;SunPKCS11&quot;);\nif (providerId != null &amp;&amp; providerId.equals(&quot;1&quot;)) {\n        providerPKCS11 =providerPKCS11.configure(&quot;pkcs11.slot1.conf&quot;);\n\n} else {\n        providerPKCS11 =providerPKCS11.configure(&quot;pkcs11.slot2.conf&quot;);\n\n}\nSecurity.addProvider(providerPKCS11);\n\nKeyStore ks = KeyStore.getInstance(&quot;PKCS11&quot;, providerPKCS11);\n...\n..\n.\n</code></pre>\n"}],"owner":{"account_id":25669393,"reputation":1,"user_id":19433895,"display_name":"Việt Nguyễn Ho&#224;ng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688505650,"creation_date":1658225267,"question_id":73034996,"body_markdown":"I&#39;m doing a task about SoftHSM. I have built an application in Java as a server. So, I config the connection in a softhsm.cfg file\r\n```name = SoftHSM\r\nlibrary = F:\\SoftHSM2\\lib\\softhsm2-x64.dll\r\nslot = 767671965\r\nattributes(generate, *, *) = {\r\n\t CKA_TOKEN = true\r\n}\r\nattributes(generate, CKO_CERTIFICATE, *) = {\r\n\t CKA_PRIVATE = false\r\n}\r\nattributes(generate, CKO_PUBLIC_KEY, *) = {\r\n\t CKA_PRIVATE = false\r\n}\r\n```\r\nThen I use SunPKCS11 provider to connect from my client to SoftHSM server\r\n```\r\nSunPKCS11 provider = new SunPKCS11(Constant.CONFIG_NAME);\r\n            if (Security.getProvider(Constant.PROVIDER_NAME) != null) {\r\n                Security.removeProvider(Constant.PROVIDER_NAME);\r\n            }\r\n            Security.addProvider(provider);\r\n            log.info(&quot;Name of provider :{}&quot;, provider.getName());\r\n            // Load the key store\r\n            char[] pin = bean.getPin().toCharArray();\r\n            KeyStore ks = KeyStore.getInstance(Constant.KEYSTORE_TYPE, provider);\r\n            ks.load(null, pin);\r\n\r\n            KeyPair keyPair = generateKeyPair();\r\n            PrivateKey privateKey = keyPair.getPrivate();\r\n\r\n            X509Certificate[] chain = generateV3Certificate(keyPair);\r\n            ks.setKeyEntry(bean.getAliasName(), privateKey, bean.getPin().toCharArray(), chain);\r\n```\r\nI put keys into keystore and get them to do cryptographic operations\r\n\r\nAll above things, I only connect a client to server. But, now I want 3 or more clients connecting to SoftHSM server. I want to each client possess different PIN to do cryptographic operations.\r\nHow can I do? ","title":"How can I make multiple clients connect to multiple slots in SoftHSM by Java code","body":"<p>I'm doing a task about SoftHSM. I have built an application in Java as a server. So, I config the connection in a softhsm.cfg file</p>\n<pre><code>library = F:\\SoftHSM2\\lib\\softhsm2-x64.dll\nslot = 767671965\nattributes(generate, *, *) = {\n     CKA_TOKEN = true\n}\nattributes(generate, CKO_CERTIFICATE, *) = {\n     CKA_PRIVATE = false\n}\nattributes(generate, CKO_PUBLIC_KEY, *) = {\n     CKA_PRIVATE = false\n}\n</code></pre>\n<p>Then I use SunPKCS11 provider to connect from my client to SoftHSM server</p>\n<pre><code>SunPKCS11 provider = new SunPKCS11(Constant.CONFIG_NAME);\n            if (Security.getProvider(Constant.PROVIDER_NAME) != null) {\n                Security.removeProvider(Constant.PROVIDER_NAME);\n            }\n            Security.addProvider(provider);\n            log.info(&quot;Name of provider :{}&quot;, provider.getName());\n            // Load the key store\n            char[] pin = bean.getPin().toCharArray();\n            KeyStore ks = KeyStore.getInstance(Constant.KEYSTORE_TYPE, provider);\n            ks.load(null, pin);\n\n            KeyPair keyPair = generateKeyPair();\n            PrivateKey privateKey = keyPair.getPrivate();\n\n            X509Certificate[] chain = generateV3Certificate(keyPair);\n            ks.setKeyEntry(bean.getAliasName(), privateKey, bean.getPin().toCharArray(), chain);\n</code></pre>\n<p>I put keys into keystore and get them to do cryptographic operations</p>\n<p>All above things, I only connect a client to server. But, now I want 3 or more clients connecting to SoftHSM server. I want to each client possess different PIN to do cryptographic operations.\nHow can I do?</p>\n"},{"tags":["java","lambda","java-11"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1688505084,"post_id":76615879,"comment_id":135081963,"body_markdown":"I guess you could write helper methods that give you the lambda, e.g. `class FooPods { static int x(FooPod f) { return f.x; } }`, then use `FooPods::x`. But short of that, you&#39;ve got to write the lambda.","body":"I guess you could write helper methods that give you the lambda, e.g. <code>class FooPods { static int x(FooPod f) { return f.x; } }</code>, then use <code>FooPods::x</code>. But short of that, you&#39;ve got to write the lambda."},{"owner":{"account_id":10732579,"reputation":666,"user_id":7898202,"display_name":"MorganS42"},"score":1,"creation_date":1688505210,"post_id":76615879,"comment_id":135081984,"body_markdown":"() -&gt; x seems pretty succinct to me.","body":"() -&gt; x seems pretty succinct to me."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1688506358,"post_id":76615879,"comment_id":135082154,"body_markdown":"You could use a `record`. Or Lombok.","body":"You could use a <code>record</code>. Or Lombok."},{"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"score":1,"creation_date":1688506583,"post_id":76615879,"comment_id":135082183,"body_markdown":"Exactly what do you expect `FooPod::x` to do? Seems like it&#39;s just giving you `FooPod.x` so just do that?","body":"Exactly what do you expect <code>FooPod::x</code> to do? Seems like it&#39;s just giving you <code>FooPod.x</code> so just do that?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1688507671,"post_id":76615879,"comment_id":135082285,"body_markdown":"Is there a programming language you are referring to?  What is a _&quot;succinct method reference&quot;_?  Is it related to the _[succinct data structure](https://en.wikipedia.org/wiki/Succinct_data_structure)_?","body":"Is there a programming language you are referring to?  What is a <i>&quot;succinct method reference&quot;</i>?  Is it related to the <i><a href=\"https://en.wikipedia.org/wiki/Succinct_data_structure\" rel=\"nofollow noreferrer\">succinct data structure</a></i>?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1688558171,"post_id":76615879,"comment_id":135088678,"body_markdown":"Is `Foo::x` so much better than `foo -&gt; foo.x` (or `f-&gt;f.x` if brevity matters that much)? Besides, you probably want to use `ToIntFunction&lt;Foo&gt;` instead of `Function&lt;Foo, Integer&gt;`.","body":"Is <code>Foo::x</code> so much better than <code>foo -&gt; foo.x</code> (or <code>f-&gt;f.x</code> if brevity matters that much)? Besides, you probably want to use <code>ToIntFunction&lt;Foo&gt;</code> instead of <code>Function&lt;Foo, Integer&gt;</code>."}],"owner":{"account_id":50030,"reputation":61455,"user_id":149138,"accept_rate":56,"display_name":"BeeOnRope"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688504862,"creation_date":1688504862,"question_id":76615879,"body_markdown":"Does Java have something analogous the succinct method reference syntax?\r\n\r\nE.g., imagine I have:\r\n\r\n```java\r\nclass Foo {\r\n  public int getX() { ... };\r\n  public int getY() { ... };\r\n  public int getY() { ... };\r\n}\r\n```\r\n\r\nI might write some generic code to handle all of these methods equivalently using method references, e.g.,:\r\n\r\n```java\r\nvoid printOne(String name, Function&lt;Foo, Integer&gt; extractFn) { .... };\r\n\r\nprintOne(&quot;x&quot;, Foo::getX);\r\nprintOne(&quot;y&quot;, Foo::getY);\r\nprintOne(&quot;z&quot;, Foo::getZ);\r\n```\r\n\r\nSo far so good.\r\n\r\nNow if instead of getters I had a simple POD like:\r\n\r\n```java\r\nclass FooPod {\r\n  public int x, y, z;\r\n}\r\n```\r\n\r\nIs there any equivalent way to use something succinct like `FooPod::x` without needing to write out the whole lambda each time?\r\n","title":"Java &quot;member reference&quot;","body":"<p>Does Java have something analogous the succinct method reference syntax?</p>\n<p>E.g., imagine I have:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Foo {\n  public int getX() { ... };\n  public int getY() { ... };\n  public int getY() { ... };\n}\n</code></pre>\n<p>I might write some generic code to handle all of these methods equivalently using method references, e.g.,:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void printOne(String name, Function&lt;Foo, Integer&gt; extractFn) { .... };\n\nprintOne(&quot;x&quot;, Foo::getX);\nprintOne(&quot;y&quot;, Foo::getY);\nprintOne(&quot;z&quot;, Foo::getZ);\n</code></pre>\n<p>So far so good.</p>\n<p>Now if instead of getters I had a simple POD like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class FooPod {\n  public int x, y, z;\n}\n</code></pre>\n<p>Is there any equivalent way to use something succinct like <code>FooPod::x</code> without needing to write out the whole lambda each time?</p>\n"},{"tags":["java","android","firebase","push-notification"],"comments":[{"owner":{"account_id":1342249,"reputation":7921,"user_id":1283715,"accept_rate":74,"display_name":"Khaled Lela"},"score":0,"creation_date":1539847830,"post_id":52868396,"comment_id":92651578,"body_markdown":"Possible duplicate of [startForeground fail after upgrade to Android 8.1](https://stackoverflow.com/questions/47531742/startforeground-fail-after-upgrade-to-android-8-1)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/47531742/startforeground-fail-after-upgrade-to-android-8-1\">startForeground fail after upgrade to Android 8.1</a>"},{"owner":{"account_id":9262331,"reputation":115,"user_id":6878953,"accept_rate":75,"display_name":"Dnveeraj"},"score":0,"creation_date":1540020499,"post_id":52868396,"comment_id":92717965,"body_markdown":"Well I solved my problem, I used startForegroundService() method somewhere in my Location Tracking class. else the above code is working perfectly fine.","body":"Well I solved my problem, I used startForegroundService() method somewhere in my Location Tracking class. else the above code is working perfectly fine."},{"owner":{"account_id":5799771,"reputation":262,"user_id":4574300,"display_name":"Thamarai T"},"score":0,"creation_date":1554804135,"post_id":52868396,"comment_id":97877028,"body_markdown":"Can you send the value of &#39;R.string.default_notification_channel_id&#39;?","body":"Can you send the value of &#39;R.string.default_notification_channel_id&#39;?"}],"answers":[{"comments":[{"owner":{"account_id":9262331,"reputation":115,"user_id":6878953,"accept_rate":75,"display_name":"Dnveeraj"},"score":0,"creation_date":1539847210,"post_id":52868626,"comment_id":92651249,"body_markdown":"I created my own channel, while I am checking the version. The code is same as I see @Khaled Lela","body":"I created my own channel, while I am checking the version. The code is same as I see @Khaled Lela"},{"owner":{"account_id":9262331,"reputation":115,"user_id":6878953,"accept_rate":75,"display_name":"Dnveeraj"},"score":0,"creation_date":1539847959,"post_id":52868626,"comment_id":92651633,"body_markdown":"I mentioned the same link above in my question, that I refer this link for the solution.","body":"I mentioned the same link above in my question, that I refer this link for the solution."},{"owner":{"account_id":1342249,"reputation":7921,"user_id":1283715,"accept_rate":74,"display_name":"Khaled Lela"},"score":0,"creation_date":1539848034,"post_id":52868626,"comment_id":92651678,"body_markdown":"I will try to simulate same case to be able to help.","body":"I will try to simulate same case to be able to help."},{"owner":{"account_id":1342249,"reputation":7921,"user_id":1283715,"accept_rate":74,"display_name":"Khaled Lela"},"score":0,"creation_date":1539849414,"post_id":52868626,"comment_id":92652418,"body_markdown":"Why you put logic on `onCreate` method, You have to put on `onMessageReceived `","body":"Why you put logic on <code>onCreate</code> method, You have to put on <code>onMessageReceived </code>"},{"owner":{"account_id":9262331,"reputation":115,"user_id":6878953,"accept_rate":75,"display_name":"Dnveeraj"},"score":0,"creation_date":1539849699,"post_id":52868626,"comment_id":92652569,"body_markdown":"because the link you provide me for solution, has done the same. Check the second solution of that link. The person is saying to put this logic on the onCreate() of Service.","body":"because the link you provide me for solution, has done the same. Check the second solution of that link. The person is saying to put this logic on the onCreate() of Service."},{"owner":{"account_id":1342249,"reputation":7921,"user_id":1283715,"accept_rate":74,"display_name":"Khaled Lela"},"score":0,"creation_date":1539849894,"post_id":52868626,"comment_id":92652660,"body_markdown":"`FirebaseMessagingService` will not need startForground system will handle that.","body":"<code>FirebaseMessagingService</code> will not need startForground system will handle that."},{"owner":{"account_id":1342249,"reputation":7921,"user_id":1283715,"accept_rate":74,"display_name":"Khaled Lela"},"score":0,"creation_date":1539850612,"post_id":52868626,"comment_id":92653037,"body_markdown":"Android O and above create NotificationChannel, otherwise you builder, No need to use startForground() in this context. \nPlease that and feedback","body":"Android O and above create NotificationChannel, otherwise you builder, No need to use startForground() in this context.  Please that and feedback"},{"owner":{"account_id":9262331,"reputation":115,"user_id":6878953,"accept_rate":75,"display_name":"Dnveeraj"},"score":0,"creation_date":1539850615,"post_id":52868626,"comment_id":92653040,"body_markdown":"Ok I will remove the startForeground() and I also saw your edited answer above, I will apply it and let you know.","body":"Ok I will remove the startForeground() and I also saw your edited answer above, I will apply it and let you know."},{"owner":{"account_id":1342249,"reputation":7921,"user_id":1283715,"accept_rate":74,"display_name":"Khaled Lela"},"score":0,"creation_date":1539851314,"post_id":52868626,"comment_id":92653437,"body_markdown":"Please check google firebase [Quickstart sample](https://github.com/firebase/quickstart-android/blob/master/messaging/app/src/main/java/com/google/firebase/quickstart/fcm/java/MyFirebaseMessagingService.java)","body":"Please check google firebase <a href=\"https://github.com/firebase/quickstart-android/blob/master/messaging/app/src/main/java/com/google/firebase/quickstart/fcm/java/MyFirebaseMessagingService.java\" rel=\"nofollow noreferrer\">Quickstart sample</a>"},{"owner":{"account_id":9262331,"reputation":115,"user_id":6878953,"accept_rate":75,"display_name":"Dnveeraj"},"score":0,"creation_date":1539857354,"post_id":52868626,"comment_id":92656884,"body_markdown":"I tried the Quickstart Sample given by firebase, but I am facing the same error. I am editing the my question code. Please look at that @Khaled Lela","body":"I tried the Quickstart Sample given by firebase, but I am facing the same error. I am editing the my question code. Please look at that @Khaled Lela"},{"owner":{"account_id":1342249,"reputation":7921,"user_id":1283715,"accept_rate":74,"display_name":"Khaled Lela"},"score":0,"creation_date":1539861886,"post_id":52868626,"comment_id":92659257,"body_markdown":"Please consider `channel_id`  Must be unique per package.","body":"Please consider <code>channel_id</code>  Must be unique per package."},{"owner":{"account_id":1342249,"reputation":7921,"user_id":1283715,"accept_rate":74,"display_name":"Khaled Lela"},"score":0,"creation_date":1539872992,"post_id":52868626,"comment_id":92666161,"body_markdown":"I tested same code and it&#39;s working with me, Please update your question with logcat crash,","body":"I tested same code and it&#39;s working with me, Please update your question with logcat crash,"},{"owner":{"account_id":9262331,"reputation":115,"user_id":6878953,"accept_rate":75,"display_name":"Dnveeraj"},"score":0,"creation_date":1540020476,"post_id":52868626,"comment_id":92717962,"body_markdown":"Well I solved my problem, I used startForegroundService() method somewhere in my Location Tracking class.","body":"Well I solved my problem, I used startForegroundService() method somewhere in my Location Tracking class."}],"tags":[],"owner":{"account_id":1342249,"reputation":7921,"user_id":1283715,"accept_rate":74,"display_name":"Khaled Lela"},"comment_count":13,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539851131,"creation_date":1539846154,"answer_id":52868626,"question_id":52868396,"body_markdown":"**Put your logic inside `onMessageReceived`**: Check [Firebase quickstart sample.][1]\r\n\r\n    public void onMessageReceived(RemoteMessage remoteMessage) {\r\n        // Handle data payload of FCM messages.\r\n        Log.d(TAG, &quot;From: &quot; + remoteMessage.getFrom());\r\n        // Check if message contains a data payload.\r\n        if (remoteMessage.getData().size() &gt; 0) {\r\n            Log.d(TAG, &quot;Message data payload: &quot; + remoteMessage.getData());\r\n            Map&lt;String, String&gt; params = remoteMessage.getData();\r\n            JSONObject object = new JSONObject(params);\r\n            if (/* Check if data needs to be processed by long running job */ true) {\r\n                // For long-running tasks (10 seconds or more) use Firebase Job Dispatcher.\r\n                scheduleJob();\r\n            } else {\r\n                // Handle message within 10 seconds\r\n                final String msg = object.getString(&quot;msg&quot;);\r\n                sendNotification(msg);\r\n                handleNow();\r\n            }\r\n\r\n        }\r\n\r\n        // Check if message contains a notification payload.\r\n        if (remoteMessage.getNotification() != null) {\r\n            Log.d(TAG, &quot;Message Notification Body: &quot; + remoteMessage.getNotification().getBody());\r\n        }\r\n    }\r\n\r\n    private void sendNotification(String messageBody) {\r\n        Intent intent = new Intent(this, Home.class);\r\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0 /* Request code */, intent,\r\n                PendingIntent.FLAG_ONE_SHOT);\r\n\r\n        String channelId = getString(R.string.default_notification_channel_id);\r\n        Uri defaultSoundUri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\r\n        NotificationCompat.Builder notificationBuilder =\r\n                new NotificationCompat.Builder(this, channelId)\r\n                        .setSmallIcon(R.drawable.ic_stat_ic_notification)\r\n                        .setContentTitle(getString(R.string.fcm_message))\r\n                        .setContentText(messageBody)\r\n                        .setAutoCancel(true)\r\n                        .setSound(defaultSoundUri)\r\n                        .setContentIntent(pendingIntent);\r\n\r\n        NotificationManager notificationManager =\r\n                (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n\r\n        // Since android Oreo notification channel is needed.\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            NotificationChannel channel = new NotificationChannel(channelId,\r\n                    &quot;Channel human readable title&quot;,\r\n                    NotificationManager.IMPORTANCE_DEFAULT);\r\n            notificationManager.createNotificationChannel(channel);\r\n        }\r\n        notificationManager.notify(0 /* ID of notification */, notificationBuilder.build());\r\n    }\r\n\r\n\r\n  [1]: https://github.com/firebase/quickstart-android/blob/master/messaging/app/src/main/java/com/google/firebase/quickstart/fcm/java/MyFirebaseMessagingService.java","title":"Android Version 8.1, Bad notification for startForeground","body":"<p><strong>Put your logic inside <code>onMessageReceived</code></strong>: Check <a href=\"https://github.com/firebase/quickstart-android/blob/master/messaging/app/src/main/java/com/google/firebase/quickstart/fcm/java/MyFirebaseMessagingService.java\" rel=\"nofollow noreferrer\">Firebase quickstart sample.</a></p>\n\n<pre><code>public void onMessageReceived(RemoteMessage remoteMessage) {\n    // Handle data payload of FCM messages.\n    Log.d(TAG, \"From: \" + remoteMessage.getFrom());\n    // Check if message contains a data payload.\n    if (remoteMessage.getData().size() &gt; 0) {\n        Log.d(TAG, \"Message data payload: \" + remoteMessage.getData());\n        Map&lt;String, String&gt; params = remoteMessage.getData();\n        JSONObject object = new JSONObject(params);\n        if (/* Check if data needs to be processed by long running job */ true) {\n            // For long-running tasks (10 seconds or more) use Firebase Job Dispatcher.\n            scheduleJob();\n        } else {\n            // Handle message within 10 seconds\n            final String msg = object.getString(\"msg\");\n            sendNotification(msg);\n            handleNow();\n        }\n\n    }\n\n    // Check if message contains a notification payload.\n    if (remoteMessage.getNotification() != null) {\n        Log.d(TAG, \"Message Notification Body: \" + remoteMessage.getNotification().getBody());\n    }\n}\n\nprivate void sendNotification(String messageBody) {\n    Intent intent = new Intent(this, Home.class);\n    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n    PendingIntent pendingIntent = PendingIntent.getActivity(this, 0 /* Request code */, intent,\n            PendingIntent.FLAG_ONE_SHOT);\n\n    String channelId = getString(R.string.default_notification_channel_id);\n    Uri defaultSoundUri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\n    NotificationCompat.Builder notificationBuilder =\n            new NotificationCompat.Builder(this, channelId)\n                    .setSmallIcon(R.drawable.ic_stat_ic_notification)\n                    .setContentTitle(getString(R.string.fcm_message))\n                    .setContentText(messageBody)\n                    .setAutoCancel(true)\n                    .setSound(defaultSoundUri)\n                    .setContentIntent(pendingIntent);\n\n    NotificationManager notificationManager =\n            (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n\n    // Since android Oreo notification channel is needed.\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        NotificationChannel channel = new NotificationChannel(channelId,\n                \"Channel human readable title\",\n                NotificationManager.IMPORTANCE_DEFAULT);\n        notificationManager.createNotificationChannel(channel);\n    }\n    notificationManager.notify(0 /* ID of notification */, notificationBuilder.build());\n}\n</code></pre>\n"}],"owner":{"account_id":9262331,"reputation":115,"user_id":6878953,"accept_rate":75,"display_name":"Dnveeraj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7916,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":1,"score":3,"last_activity_date":1688504720,"creation_date":1539845191,"question_id":52868396,"body_markdown":"I have given my couple of days to solve this issue. My app is getting crash whose android version is 8.1. It is working perfectly fine in Android Version 8.0.\r\n\r\nI followed the link mentioned below for the solution and tried many solutions given in this link but my application is not opening.\r\n\r\nhttps://stackoverflow.com/questions/47531742/startforeground-fail-after-upgrade-to-android-8-1/47533338\r\n\r\nI check the Android version in FirebaseMessageService class and create the channel for Oreo version but below given error is showing everytime\r\n\r\n     android.app.RemoteServiceException: Bad notification for startForeground: java.lang.RuntimeException: invalid channel for service notification: Notification(channel=null pri=0 contentView=null vibrate=null sound=null defaults=0x0 flags=0x40 color=0x00000000 vis=PRIVATE)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1795)\r\n            at android.os.Handler.dispatchMessage(Handler.java:106)\r\n            at android.os.Looper.loop(Looper.java:171)\r\n            at android.app.ActivityThread.main(ActivityThread.java:6649)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:547)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:824)\r\n\r\nHere below is my code. Please help me to rectify this problem\r\n\r\n        public class MyFirebaseMessagingService extends FirebaseMessagingService\r\n        {\r\n            private NotificationManager notifManager;\r\n            Context mContext;\r\n            Random random = new Random();\r\n            int m = random.nextInt(9999 - 1000) + 1000;\r\n        \r\n            @Override\r\n            public void onMessageReceived(RemoteMessage remoteMessage) \r\n            {\r\n               sendNotification();\r\n            }\r\n        \r\n     \r\n    \r\n       public void sendNotification()\r\n       {\r\n       Intent intent = new Intent(this, Home.class);\r\n       intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n       PendingIntent pendingIntent = PendingIntent.getActivity(this, m /* Request code */, intent, PendingIntent.FLAG_ONE_SHOT);\r\n    \r\n       String channelId = getString(R.string.default_notification_channel_id);\r\n       Uri defaultSoundUri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\r\n       NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, channelId)\r\n                       .setSmallIcon(R.drawable.app_icon)\r\n                       .setContentTitle(&quot;Logipace&quot;)\r\n                       .setStyle(new NotificationCompat.BigTextStyle()\r\n                               .bigText(message))\r\n                       .setContentText(message)\r\n                       .setAutoCancel(true)\r\n                       .setSound(defaultSoundUri)\r\n                       .setContentIntent(pendingIntent);\r\n       notificationBuilder.setDefaults(Notification.DEFAULT_SOUND);\r\n    \r\n       NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n    \r\n        // Since android Oreo notification channel is needed.\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)\r\n        {\r\n            NotificationChannel channel = new NotificationChannel(channelId, &quot;LOGIPACE&quot;, NotificationManager.IMPORTANCE_DEFAULT);\r\n            notificationManager.createNotificationChannel(channel);\r\n        }\r\n    \r\n        notificationManager.notify(m /* ID of notification */, notificationBuilder.build());\r\n    \r\n        intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n        startActivity(intent);\r\n    }\r\n        }\r\n\r\n\r\nBelow is the code which I used in the onCreate() method of my Activity class.\r\n\r\n     if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)\r\n            {\r\n                // Create channel to show notifications.\r\n                String channelId  = getString(R.string.default_notification_channel_id);\r\n                String channelName = getString(R.string.default_notification_channel_name);\r\n                NotificationManager notificationManager =\r\n                        getSystemService(NotificationManager.class);\r\n                notificationManager.createNotificationChannel(new NotificationChannel(channelId,\r\n                        channelName, NotificationManager.IMPORTANCE_LOW));\r\n            }\r\n\r\n\r\n\r\nHelp me to resolve this issue.","title":"Android Version 8.1, Bad notification for startForeground","body":"<p>I have given my couple of days to solve this issue. My app is getting crash whose android version is 8.1. It is working perfectly fine in Android Version 8.0.</p>\n\n<p>I followed the link mentioned below for the solution and tried many solutions given in this link but my application is not opening.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/47531742/startforeground-fail-after-upgrade-to-android-8-1/47533338\">startForeground fail after upgrade to Android 8.1</a></p>\n\n<p>I check the Android version in FirebaseMessageService class and create the channel for Oreo version but below given error is showing everytime</p>\n\n<pre><code> android.app.RemoteServiceException: Bad notification for startForeground: java.lang.RuntimeException: invalid channel for service notification: Notification(channel=null pri=0 contentView=null vibrate=null sound=null defaults=0x0 flags=0x40 color=0x00000000 vis=PRIVATE)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1795)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:171)\n        at android.app.ActivityThread.main(ActivityThread.java:6649)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:547)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:824)\n</code></pre>\n\n<p>Here below is my code. Please help me to rectify this problem</p>\n\n<pre><code>    public class MyFirebaseMessagingService extends FirebaseMessagingService\n    {\n        private NotificationManager notifManager;\n        Context mContext;\n        Random random = new Random();\n        int m = random.nextInt(9999 - 1000) + 1000;\n\n        @Override\n        public void onMessageReceived(RemoteMessage remoteMessage) \n        {\n           sendNotification();\n        }\n\n\n\n   public void sendNotification()\n   {\n   Intent intent = new Intent(this, Home.class);\n   intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n   PendingIntent pendingIntent = PendingIntent.getActivity(this, m /* Request code */, intent, PendingIntent.FLAG_ONE_SHOT);\n\n   String channelId = getString(R.string.default_notification_channel_id);\n   Uri defaultSoundUri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\n   NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, channelId)\n                   .setSmallIcon(R.drawable.app_icon)\n                   .setContentTitle(\"Logipace\")\n                   .setStyle(new NotificationCompat.BigTextStyle()\n                           .bigText(message))\n                   .setContentText(message)\n                   .setAutoCancel(true)\n                   .setSound(defaultSoundUri)\n                   .setContentIntent(pendingIntent);\n   notificationBuilder.setDefaults(Notification.DEFAULT_SOUND);\n\n   NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n\n    // Since android Oreo notification channel is needed.\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)\n    {\n        NotificationChannel channel = new NotificationChannel(channelId, \"LOGIPACE\", NotificationManager.IMPORTANCE_DEFAULT);\n        notificationManager.createNotificationChannel(channel);\n    }\n\n    notificationManager.notify(m /* ID of notification */, notificationBuilder.build());\n\n    intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\n    startActivity(intent);\n}\n    }\n</code></pre>\n\n<p>Below is the code which I used in the onCreate() method of my Activity class.</p>\n\n<pre><code> if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)\n        {\n            // Create channel to show notifications.\n            String channelId  = getString(R.string.default_notification_channel_id);\n            String channelName = getString(R.string.default_notification_channel_name);\n            NotificationManager notificationManager =\n                    getSystemService(NotificationManager.class);\n            notificationManager.createNotificationChannel(new NotificationChannel(channelId,\n                    channelName, NotificationManager.IMPORTANCE_LOW));\n        }\n</code></pre>\n\n<p>Help me to resolve this issue.</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user1907906"},"score":0,"creation_date":1430146207,"post_id":29898941,"comment_id":47920722,"body_markdown":"I don&#39;t think this is meant for general usage.","body":"I don&#39;t think this is meant for general usage."},{"owner":{"account_id":2406105,"reputation":15821,"user_id":2102532,"accept_rate":67,"display_name":"meskobalazs"},"score":2,"creation_date":1430146250,"post_id":29898941,"comment_id":47920764,"body_markdown":"Of course it is not meant for it, it is *unsafe* for a reason :) That however, does not make this a bad question.","body":"Of course it is not meant for it, it is <i>unsafe</i> for a reason :) That however, does not make this a bad question."},{"owner":{"display_name":"user177800"},"score":0,"creation_date":1430146259,"post_id":29898941,"comment_id":47920773,"body_markdown":"why are you using something from a `sun.*` package, those are not intended to be public! **You should not be using these classes especially if you have to ask questions like this.**","body":"why are you using something from a <code>sun.*</code> package, those are not intended to be public! <b>You should not be using these classes especially if you have to ask questions like this.</b>"},{"owner":{"account_id":5877017,"reputation":2197,"user_id":4627565,"accept_rate":100,"display_name":"Bionix1441"},"score":2,"creation_date":1430146357,"post_id":29898941,"comment_id":47920861,"body_markdown":"it is unsafe sure, but there is no harm in understanding how it works and what the is the value returned by this method.","body":"it is unsafe sure, but there is no harm in understanding how it works and what the is the value returned by this method."},{"owner":{"display_name":"user1907906"},"score":1,"creation_date":1430146372,"post_id":29898941,"comment_id":47920871,"body_markdown":"Ask Sun for the sources. Maybe they will help you understand the code.","body":"Ask Sun for the sources. Maybe they will help you understand the code."},{"owner":{"account_id":5715254,"reputation":2865,"user_id":4515720,"accept_rate":75,"display_name":"Evan Bechtol"},"score":3,"creation_date":1430146575,"post_id":29898941,"comment_id":47921017,"body_markdown":"The method gives you Java object memory layout information.\n\nThis is used to determine the amount of memory that the given array is occupying.\nScale Factor is a term that represents how much a given quantity, in this case memory, is being multiplied by to represent the total.\n\nYou **should not use the method that you are trying to use; UNSAFE**. However, there are safer versions that you can use:\n\n    staticFieldBase\nor\n\n    staticFieldOffset","body":"The method gives you Java object memory layout information.  This is used to determine the amount of memory that the given array is occupying. Scale Factor is a term that represents how much a given quantity, in this case memory, is being multiplied by to represent the total.  You <b>should not use the method that you are trying to use; UNSAFE</b>. However, there are safer versions that you can use:      staticFieldBase or      staticFieldOffset"},{"owner":{"account_id":5877017,"reputation":2197,"user_id":4627565,"accept_rate":100,"display_name":"Bionix1441"},"score":0,"creation_date":1430147189,"post_id":29898941,"comment_id":47921433,"body_markdown":"I hope I have understood what you said correctly. So if this method returns 4, so 4 * some number gives the total amount of memory occupied by this object right ?","body":"I hope I have understood what you said correctly. So if this method returns 4, so 4 * some number gives the total amount of memory occupied by this object right ?"},{"owner":{"account_id":5956954,"reputation":3080,"user_id":4683264,"accept_rate":92,"display_name":"J Atkin"},"score":1,"creation_date":1430148148,"post_id":29898941,"comment_id":47922091,"body_markdown":"If the method returns 4, the memory used by the object is 4 bytes.","body":"If the method returns 4, the memory used by the object is 4 bytes."},{"owner":{"account_id":25029,"reputation":14407,"user_id":64046,"display_name":"JasonMArcher"},"score":5,"creation_date":1430154856,"post_id":29898941,"comment_id":47926632,"body_markdown":"The suggested duplicate does not make sense because it does not answer the question at all.  @EvanBechtol has a great answer, so we should reopen so that he can post it.","body":"The suggested duplicate does not make sense because it does not answer the question at all.  @EvanBechtol has a great answer, so we should reopen so that he can post it."},{"owner":{"account_id":5715254,"reputation":2865,"user_id":4515720,"accept_rate":75,"display_name":"Evan Bechtol"},"score":0,"creation_date":1430163946,"post_id":29898941,"comment_id":47931856,"body_markdown":"@apsillers Thanks for the update! Just posted my comment as an answer.","body":"@apsillers Thanks for the update! Just posted my comment as an answer."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1688501822,"post_id":29898941,"comment_id":135081542,"body_markdown":"@JAtkin I don&#39;t think that you are correct. For example: `UNSAFE.arrayIndexScale(Long[].class)` will report 4 (meaning 4 bytes) per each slot in the array (a reference with `UseCompressedOops` enabled), while `UNSAFE.arrayIndexScale(long[].class)` will report 8, because a long occupies 8 bytes.","body":"@JAtkin I don&#39;t think that you are correct. For example: <code>UNSAFE.arrayIndexScale(Long[].class)</code> will report 4 (meaning 4 bytes) per each slot in the array (a reference with <code>UseCompressedOops</code> enabled), while <code>UNSAFE.arrayIndexScale(long[].class)</code> will report 8, because a long occupies 8 bytes."}],"answers":[{"comments":[{"owner":{"account_id":481212,"reputation":6556,"user_id":894885,"accept_rate":88,"display_name":"Samuel Edwin Ward"},"score":0,"creation_date":1438727383,"post_id":29904594,"comment_id":51565843,"body_markdown":"Can you explain the relationship between `arrayIndexScale`, `staticFieldBase` and `staticFieldOffset`?","body":"Can you explain the relationship between <code>arrayIndexScale</code>, <code>staticFieldBase</code> and <code>staticFieldOffset</code>?"},{"owner":{"account_id":5715254,"reputation":2865,"user_id":4515720,"accept_rate":75,"display_name":"Evan Bechtol"},"score":0,"creation_date":1573583637,"post_id":29904594,"comment_id":103926131,"body_markdown":"@Ceki I wasn’t patronizing OP. The information that I shared is widely available. OP needs to know the risks and potential safer solutions. Your comment does not provide any meaningful improvement to my answer. Please feel free to add if you feel that I missed anything","body":"@Ceki I wasn’t patronizing OP. The information that I shared is widely available. OP needs to know the risks and potential safer solutions. Your comment does not provide any meaningful improvement to my answer. Please feel free to add if you feel that I missed anything"}],"tags":[],"owner":{"account_id":5715254,"reputation":2865,"user_id":4515720,"accept_rate":75,"display_name":"Evan Bechtol"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1430163924,"creation_date":1430163924,"answer_id":29904594,"question_id":29898941,"body_markdown":"The method gives you Java object memory layout information. \r\n\r\nThis is used to determine the amount of memory that the given array is occupying. Scale Factor is a term that represents how much a given quantity, in this case memory, is being multiplied by to represent the total. **You should not use the method that you are trying to use; it&#39;s UNSAFE**. \r\n\r\n*However*, there are safer versions that you can use: \r\n`staticFieldBase` or `staticFieldOffset`.\r\n","title":"What does the value returned by arrayIndexScale refer to?","body":"<p>The method gives you Java object memory layout information. </p>\n\n<p>This is used to determine the amount of memory that the given array is occupying. Scale Factor is a term that represents how much a given quantity, in this case memory, is being multiplied by to represent the total. <strong>You should not use the method that you are trying to use; it's UNSAFE</strong>. </p>\n\n<p><em>However</em>, there are safer versions that you can use: \n<code>staticFieldBase</code> or <code>staticFieldOffset</code>.</p>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688504448,"creation_date":1688504448,"answer_id":76615857,"question_id":29898941,"body_markdown":"imo, an example should make this far easier to understand:\r\n\r\n\r\n```\r\nlong [] longs = {1L, 2L, 3L};\r\nlong offset = UNSAFE.arrayBaseOffset(long[].class);\r\nlong indexScale = UNSAFE.arrayIndexScale(long[].class);\r\n\r\nlong rawIndex = offset + 2 * indexScale;\r\nSystem.out.println(UNSAFE.getLong(longs, rawIndex));\r\n```\r\n\r\nThe last line will print `3` meaning we are trying to get to the 3-rd index. \r\n\r\nAnother example of just that method would be:\r\n\r\n```\r\nlong indexScale = UNSAFE.arrayIndexScale(Long[].class);\r\nSystem.out.println(indexScale);\r\n```\r\n\r\nwhich will print `4`, but running it with `-XX:-UseCompressedOops`, will print `8`. ","title":"What does the value returned by arrayIndexScale refer to?","body":"<p>imo, an example should make this far easier to understand:</p>\n<pre><code>long [] longs = {1L, 2L, 3L};\nlong offset = UNSAFE.arrayBaseOffset(long[].class);\nlong indexScale = UNSAFE.arrayIndexScale(long[].class);\n\nlong rawIndex = offset + 2 * indexScale;\nSystem.out.println(UNSAFE.getLong(longs, rawIndex));\n</code></pre>\n<p>The last line will print <code>3</code> meaning we are trying to get to the 3-rd index.</p>\n<p>Another example of just that method would be:</p>\n<pre><code>long indexScale = UNSAFE.arrayIndexScale(Long[].class);\nSystem.out.println(indexScale);\n</code></pre>\n<p>which will print <code>4</code>, but running it with <code>-XX:-UseCompressedOops</code>, will print <code>8</code>.</p>\n"}],"owner":{"account_id":5877017,"reputation":2197,"user_id":4627565,"accept_rate":100,"display_name":"Bionix1441"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1178,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":29904594,"answer_count":2,"score":7,"last_activity_date":1688504448,"creation_date":1430145947,"question_id":29898941,"body_markdown":"I would like to know what is the usage of sun.misc.unsafe.arrayIndexScale, in the `javadoc` it is said that:\r\n\r\n&gt; Report the scale factor for addressing elements in the storage allocation of a given array class. However, arrays of &quot;narrow&quot; types will generally not work properly with accessors like `getByte(java.lang.Object,int)`, so the scale factor for such classes is reported as zero. \r\n\r\nThis method returns an `int`, but I am not sure what the value means. \r\n","title":"What does the value returned by arrayIndexScale refer to?","body":"<p>I would like to know what is the usage of sun.misc.unsafe.arrayIndexScale, in the <code>javadoc</code> it is said that:</p>\n\n<blockquote>\n  <p>Report the scale factor for addressing elements in the storage allocation of a given array class. However, arrays of \"narrow\" types will generally not work properly with accessors like <code>getByte(java.lang.Object,int)</code>, so the scale factor for such classes is reported as zero. </p>\n</blockquote>\n\n<p>This method returns an <code>int</code>, but I am not sure what the value means. </p>\n"},{"tags":["java","arrays","json","java-8","gson"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688509180,"post_id":76615573,"comment_id":135082450,"body_markdown":"Where are you stuck doing this? Please read [ask].","body":"Where are you stuck doing this? Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"answers":[{"tags":[],"owner":{"account_id":16027245,"reputation":41,"user_id":11567183,"display_name":"Chiamaka Etchie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688503309,"creation_date":1688503309,"answer_id":76615767,"question_id":76615573,"body_markdown":"This should work \r\n\r\n      public JsonNode test() throws JsonProcessingException {\r\n            String jsonArray = &quot;[\\n&quot; +\r\n                    &quot; {\\n&quot; +\r\n                    &quot;  \\&quot;id\\&quot;: \\&quot;1\\&quot;,\\n&quot; +\r\n                    &quot;  \\&quot;name\\&quot;: \\&quot;abc\\&quot;,\\n&quot; +\r\n                    &quot;  \\&quot;gender\\&quot;: \\&quot;F\\&quot;\\n&quot; +\r\n                    &quot; },\\n&quot; +\r\n                    &quot;{\\n&quot; +\r\n                    &quot;  \\&quot;id\\&quot;: \\&quot;2\\&quot;,\\n&quot; +\r\n                    &quot;  \\&quot;name\\&quot;: \\&quot;dgc\\&quot;,\\n&quot; +\r\n                    &quot;  \\&quot;address\\&quot;: \\&quot;MDU\\&quot;\\n&quot; +\r\n                    &quot; },\\n&quot; +\r\n                    &quot; {\\n&quot; +\r\n                    &quot;  \\&quot;id\\&quot;: \\&quot;3\\&quot;,\\n&quot; +\r\n                    &quot;  \\&quot;name\\&quot;: \\&quot;ghf\\&quot;,\\n&quot; +\r\n                    &quot;  \\&quot;gender\\&quot;: \\&quot;M\\&quot;\\n&quot; +\r\n                    &quot; }\\n&quot; +\r\n                    &quot;]&quot;;\r\n    \r\n            // Parse the JSON array\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            JsonNode jsonNode = objectMapper.readTree(jsonArray);\r\n    \r\n            // Create a map to hold the combined values\r\n            Map&lt;String, String&gt; combinedValues = new HashMap&lt;&gt;();\r\n    \r\n            // Iterate over the JSON array and combine values\r\n            Iterator&lt;JsonNode&gt; iterator = jsonNode.iterator();\r\n            while (iterator.hasNext()) {\r\n                JsonNode item = iterator.next();\r\n                item.fields().forEachRemaining(entry -&gt; {\r\n                    String key = entry.getKey();\r\n                    String value = entry.getValue().asText();\r\n                    combinedValues.merge(key, value, (v1, v2) -&gt; v1 + &quot;,&quot; + v2);\r\n                });\r\n            }\r\n    \r\n            // Create the resulting JSON object\r\n            return objectMapper.valueToTree(combinedValues);\r\n    \r\n        }","title":"Combine the list rows values as comma separated by its key using java 8","body":"<p>This should work</p>\n<pre><code>  public JsonNode test() throws JsonProcessingException {\n        String jsonArray = &quot;[\\n&quot; +\n                &quot; {\\n&quot; +\n                &quot;  \\&quot;id\\&quot;: \\&quot;1\\&quot;,\\n&quot; +\n                &quot;  \\&quot;name\\&quot;: \\&quot;abc\\&quot;,\\n&quot; +\n                &quot;  \\&quot;gender\\&quot;: \\&quot;F\\&quot;\\n&quot; +\n                &quot; },\\n&quot; +\n                &quot;{\\n&quot; +\n                &quot;  \\&quot;id\\&quot;: \\&quot;2\\&quot;,\\n&quot; +\n                &quot;  \\&quot;name\\&quot;: \\&quot;dgc\\&quot;,\\n&quot; +\n                &quot;  \\&quot;address\\&quot;: \\&quot;MDU\\&quot;\\n&quot; +\n                &quot; },\\n&quot; +\n                &quot; {\\n&quot; +\n                &quot;  \\&quot;id\\&quot;: \\&quot;3\\&quot;,\\n&quot; +\n                &quot;  \\&quot;name\\&quot;: \\&quot;ghf\\&quot;,\\n&quot; +\n                &quot;  \\&quot;gender\\&quot;: \\&quot;M\\&quot;\\n&quot; +\n                &quot; }\\n&quot; +\n                &quot;]&quot;;\n\n        // Parse the JSON array\n        ObjectMapper objectMapper = new ObjectMapper();\n        JsonNode jsonNode = objectMapper.readTree(jsonArray);\n\n        // Create a map to hold the combined values\n        Map&lt;String, String&gt; combinedValues = new HashMap&lt;&gt;();\n\n        // Iterate over the JSON array and combine values\n        Iterator&lt;JsonNode&gt; iterator = jsonNode.iterator();\n        while (iterator.hasNext()) {\n            JsonNode item = iterator.next();\n            item.fields().forEachRemaining(entry -&gt; {\n                String key = entry.getKey();\n                String value = entry.getValue().asText();\n                combinedValues.merge(key, value, (v1, v2) -&gt; v1 + &quot;,&quot; + v2);\n            });\n        }\n\n        // Create the resulting JSON object\n        return objectMapper.valueToTree(combinedValues);\n\n    }\n</code></pre>\n"}],"owner":{"account_id":2153272,"reputation":3,"user_id":1909044,"display_name":"Saranya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76615767,"answer_count":1,"score":-2,"last_activity_date":1688503309,"creation_date":1688500813,"question_id":76615573,"body_markdown":"My input is a JsonArray with dynamic attributes and values.\r\n```\r\n[\r\n {\r\n  &quot;id&quot;: &quot;1&quot;,\r\n  &quot;name&quot;: &quot;abc&quot;,\r\n  &quot;gender&quot;: &quot;F&quot;\r\n },\r\n{\r\n  &quot;id&quot;: &quot;2&quot;,\r\n  &quot;name&quot;: &quot;dgc&quot;,\r\n  &quot;address&quot;: &quot;MDU&quot;\r\n },{\r\n  &quot;id&quot;: &quot;3&quot;,\r\n  &quot;name&quot;: &quot;ghf&quot;,\r\n  &quot;gender&quot;: &quot;M&quot;\r\n },\r\n]\r\n```\r\nExpecting the output as below:\r\n\r\n```\r\n{\r\n&quot;id&quot;: &quot;1,2,3&quot;,\r\n&quot;name&quot;: &quot;abc,dgc,ghf&quot;,\r\n&quot;gender&quot;: &quot;F,M&quot; \r\n&quot;address&quot;:&quot;MDU&quot;\r\n}\r\n```\r\n\r\nI am expecting the logic which will read the dynamic attributes in the JsonArray and combining the values as a comma separated one. By using those values need to create a JsonObject with key.","title":"Combine the list rows values as comma separated by its key using java 8","body":"<p>My input is a JsonArray with dynamic attributes and values.</p>\n<pre><code>[\n {\n  &quot;id&quot;: &quot;1&quot;,\n  &quot;name&quot;: &quot;abc&quot;,\n  &quot;gender&quot;: &quot;F&quot;\n },\n{\n  &quot;id&quot;: &quot;2&quot;,\n  &quot;name&quot;: &quot;dgc&quot;,\n  &quot;address&quot;: &quot;MDU&quot;\n },{\n  &quot;id&quot;: &quot;3&quot;,\n  &quot;name&quot;: &quot;ghf&quot;,\n  &quot;gender&quot;: &quot;M&quot;\n },\n]\n</code></pre>\n<p>Expecting the output as below:</p>\n<pre><code>{\n&quot;id&quot;: &quot;1,2,3&quot;,\n&quot;name&quot;: &quot;abc,dgc,ghf&quot;,\n&quot;gender&quot;: &quot;F,M&quot; \n&quot;address&quot;:&quot;MDU&quot;\n}\n</code></pre>\n<p>I am expecting the logic which will read the dynamic attributes in the JsonArray and combining the values as a comma separated one. By using those values need to create a JsonObject with key.</p>\n"},{"tags":["java","android","android-studio"],"owner":{"account_id":28800459,"reputation":33,"user_id":22057526,"display_name":"Oussama"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688503078,"creation_date":1688503078,"question_id":76615753,"body_markdown":"When i hit the add button inside the Adapter class it adds 4 cardviews to the mainactivity layout and when i try to delete nothing happens and instead it adds another 4 cardviews\r\n\r\nI tried everything nothing seem to be solving my problem\r\n\r\nHere&#39;s my Adapter class:\r\n\r\n```\r\npackage com.example.itask;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.app.AlertDialog;\r\nimport android.content.Context;\r\nimport android.content.DialogInterface;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.cardview.widget.CardView;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class TaskAdapter extends RecyclerView.Adapter&lt;TaskAdapter.ViewHolder&gt;{\r\n    private static final String TAG = &quot;TaskAdapter&quot;;\r\n\r\n    ArrayList&lt;Task&gt; tasks = new ArrayList&lt;&gt;();\r\n\r\n    private Context context;\r\n\r\n    public TaskAdapter(Context context) {\r\n        this.context = context;\r\n    }\r\n    interface DeleteTask {\r\n        void onDeletingTask(int bookId);\r\n    }\r\n    public DeleteTask deleteTask;\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.task_list_item_rec_view, parent, false);\r\n        ViewHolder holder = new ViewHolder(view);\r\n        return holder;\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, @SuppressLint(&quot;RecyclerView&quot;) int position) {\r\n        Log.d(TAG, &quot;onBindViewHolder: called&quot;);\r\n        holder.name.setText(tasks.get(position).getName());\r\n        holder.date.setText(tasks.get(position).getDate());\r\n        holder.card.setOnLongClickListener(new View.OnLongClickListener() {\r\n            @Override\r\n            public boolean onLongClick(View v) {\r\n                AlertDialog.Builder builder = new AlertDialog.Builder(context)\r\n                        .setTitle(&quot;Deleting task&quot;)\r\n                        .setMessage(&quot;Are you sure you want to delete this task?&quot;)\r\n                        .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(DialogInterface dialog, int which) {\r\n                                try {\r\n                                    deleteTask = (DeleteTask) context;\r\n                                    deleteTask.onDeletingTask(tasks.get(position).getId());\r\n                                }catch (ClassCastException e) {\r\n                                    e.printStackTrace();\r\n                                }\r\n                            }\r\n                        }).setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(DialogInterface dialog, int which) {\r\n                                dialog.dismiss();\r\n                            }\r\n                        });\r\n                builder.create().show();\r\n                return true;\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return tasks.size();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n        private TextView name;\r\n        private TextView date;\r\n        private CardView card;\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            name = (TextView) itemView.findViewById(R.id.txtTaskName);\r\n            date = (TextView) itemView.findViewById(R.id.txtTaskDate);\r\n            card = (CardView) itemView.findViewById(R.id.parent);\r\n        }\r\n    }\r\n\r\n    public void setTasks(ArrayList&lt;Task&gt; tasks) {\r\n        this.tasks = tasks;\r\n        notifyDataSetChanged();\r\n    }\r\n}\r\n```\r\nHere&#39;s my MainActivity\r\n\r\n```\r\npackage com.example.itask;\r\n\r\nimport static android.content.ContentValues.TAG;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.database.Cursor;\r\nimport android.database.SQLException;\r\nimport android.database.sqlite.SQLiteDatabase;\r\nimport android.os.AsyncTask;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.TreeSet;\r\n\r\npublic class MainActivity extends AppCompatActivity implements AddTaskDialog.AddNewTask, TaskAdapter.DeleteTask {\r\n\r\n    private Button buttonAddTask;\r\n    private RecyclerView recyclerView;\r\n\r\n    private ArrayList&lt;Task&gt; allTasks;\r\n    private TaskAdapter adapter;\r\n    private SQLiteDatabase database;\r\n    private DataBaseHelper dataBaseHelper;\r\n    private Cursor cursor;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        buttonAddTask = (Button) findViewById(R.id.btnAddTask);\r\n        recyclerView = (RecyclerView) findViewById(R.id.recyclerView);\r\n        adapter = new TaskAdapter(this);\r\n        recyclerView.setAdapter(adapter);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n        allTasks = new ArrayList&lt;&gt;();\r\n        DataAsyncTask dataAsyncTask = new DataAsyncTask();\r\n        dataAsyncTask.execute();\r\n\r\n\r\n        buttonAddTask.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                AddTaskDialog dialog = new AddTaskDialog();\r\n                dialog.show(getSupportFragmentManager(), &quot;add new task&quot;);\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onDeletingTask(int bookId) {\r\n        Log.d(TAG, &quot;onDeletingTask: trying to delete this task with id &quot;+bookId);\r\n        try {\r\n            dataBaseHelper.delete(database, bookId);\r\n            DataAsyncTask dataAsyncTask = new DataAsyncTask();\r\n            dataAsyncTask.execute();\r\n        }catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public class DataAsyncTask extends AsyncTask&lt;Void, Void, ArrayList&lt;Task&gt;&gt;{\r\n\r\n        @Override\r\n        protected void onPreExecute() {\r\n            dataBaseHelper = new DataBaseHelper(MainActivity.this);\r\n            database = dataBaseHelper.getReadableDatabase();\r\n        }\r\n\r\n        @Override\r\n        protected ArrayList&lt;Task&gt; doInBackground(Void... voids) {\r\n            try {\r\n                cursor = database.query(&quot;tasks&quot;, null,null,null,null, null, null);\r\n                if (cursor.moveToFirst()) {\r\n                    for (int i=0; i&lt;cursor.getCount(); i++) {\r\n                        Task task = new Task();\r\n                        for (int j=0; j&lt;cursor.getColumnCount(); j++) {\r\n                            switch (cursor.getColumnName(j)) {\r\n                                case &quot;_id&quot;:\r\n                                    task.setId(cursor.getInt(j));\r\n                                case &quot;name&quot;:\r\n                                    task.setName(cursor.getString(j));\r\n                                    break;\r\n                                case &quot;date&quot;:\r\n                                    task.setDate(cursor.getString(j));\r\n                                    break;\r\n                                case &quot;notes&quot;:\r\n                                    task.setNotes(cursor.getString(j));\r\n                                    break;\r\n                                default:\r\n                                    break;\r\n                            }\r\n                            allTasks.add(task);\r\n                        }\r\n                    }\r\n                }\r\n            }catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return allTasks;\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(ArrayList&lt;Task&gt; tasks) {\r\n            super.onPostExecute(tasks);\r\n            if (tasks == null || tasks.isEmpty()) {\r\n                recyclerView.setVisibility(View.GONE);\r\n                buttonAddTask.setVisibility(View.VISIBLE);\r\n            } else {\r\n                recyclerView.setVisibility(View.VISIBLE);\r\n                buttonAddTask.setVisibility(View.GONE);\r\n            }\r\n            adapter.setTasks(tasks);\r\n    }\r\n    }\r\n\r\n    @Override\r\n    public void onAddingTask(Task task) {\r\n        Log.d(TAG, &quot;onAddingTask: new book: &quot;+task.toString());\r\n        try {\r\n            dataBaseHelper.insert(database, task);\r\n            DataAsyncTask dataAsyncTask = new DataAsyncTask();\r\n            dataAsyncTask.execute();\r\n        }catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        if (cursor != null &amp;&amp; !cursor.isClosed()) {\r\n            cursor.close();\r\n        }\r\n        if (database != null &amp;&amp; database.isOpen()) {\r\n            database.close();\r\n        }\r\n    }\r\n}\r\n```\r\nand here&#39;s my dialog class:\r\n\r\n```\r\npackage com.example.itask;\r\n\r\nimport static android.content.ContentValues.TAG;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.database.Cursor;\r\nimport android.database.SQLException;\r\nimport android.database.sqlite.SQLiteDatabase;\r\nimport android.os.AsyncTask;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.TreeSet;\r\n\r\npublic class MainActivity extends AppCompatActivity implements AddTaskDialog.AddNewTask, TaskAdapter.DeleteTask {\r\n\r\n    private Button buttonAddTask;\r\n    private RecyclerView recyclerView;\r\n\r\n    private ArrayList&lt;Task&gt; allTasks;\r\n    private TaskAdapter adapter;\r\n    private SQLiteDatabase database;\r\n    private DataBaseHelper dataBaseHelper;\r\n    private Cursor cursor;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        buttonAddTask = (Button) findViewById(R.id.btnAddTask);\r\n        recyclerView = (RecyclerView) findViewById(R.id.recyclerView);\r\n        adapter = new TaskAdapter(this);\r\n        recyclerView.setAdapter(adapter);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n        allTasks = new ArrayList&lt;&gt;();\r\n        DataAsyncTask dataAsyncTask = new DataAsyncTask();\r\n        dataAsyncTask.execute();\r\n\r\n\r\n        buttonAddTask.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                AddTaskDialog dialog = new AddTaskDialog();\r\n                dialog.show(getSupportFragmentManager(), &quot;add new task&quot;);\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onDeletingTask(int bookId) {\r\n        Log.d(TAG, &quot;onDeletingTask: trying to delete this task with id &quot;+bookId);\r\n        try {\r\n            dataBaseHelper.delete(database, bookId);\r\n            DataAsyncTask dataAsyncTask = new DataAsyncTask();\r\n            dataAsyncTask.execute();\r\n        }catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public class DataAsyncTask extends AsyncTask&lt;Void, Void, ArrayList&lt;Task&gt;&gt;{\r\n\r\n        @Override\r\n        protected void onPreExecute() {\r\n            dataBaseHelper = new DataBaseHelper(MainActivity.this);\r\n            database = dataBaseHelper.getReadableDatabase();\r\n        }\r\n\r\n        @Override\r\n        protected ArrayList&lt;Task&gt; doInBackground(Void... voids) {\r\n            try {\r\n                cursor = database.query(&quot;tasks&quot;, null,null,null,null, null, null);\r\n                if (cursor.moveToFirst()) {\r\n                    for (int i=0; i&lt;cursor.getCount(); i++) {\r\n                        Task task = new Task();\r\n                        for (int j=0; j&lt;cursor.getColumnCount(); j++) {\r\n                            switch (cursor.getColumnName(j)) {\r\n                                case &quot;_id&quot;:\r\n                                    task.setId(cursor.getInt(j));\r\n                                case &quot;name&quot;:\r\n                                    task.setName(cursor.getString(j));\r\n                                    break;\r\n                                case &quot;date&quot;:\r\n                                    task.setDate(cursor.getString(j));\r\n                                    break;\r\n                                case &quot;notes&quot;:\r\n                                    task.setNotes(cursor.getString(j));\r\n                                    break;\r\n                                default:\r\n                                    break;\r\n                            }\r\n                            allTasks.add(task);\r\n                        }\r\n                    }\r\n                }\r\n            }catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return allTasks;\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(ArrayList&lt;Task&gt; tasks) {\r\n            super.onPostExecute(tasks);\r\n            if (tasks == null || tasks.isEmpty()) {\r\n                recyclerView.setVisibility(View.GONE);\r\n                buttonAddTask.setVisibility(View.VISIBLE);\r\n            } else {\r\n                recyclerView.setVisibility(View.VISIBLE);\r\n                buttonAddTask.setVisibility(View.GONE);\r\n            }\r\n            adapter.setTasks(tasks);\r\n    }\r\n    }\r\n\r\n    @Override\r\n    public void onAddingTask(Task task) {\r\n        Log.d(TAG, &quot;onAddingTask: new book: &quot;+task.toString());\r\n        try {\r\n            dataBaseHelper.insert(database, task);\r\n            DataAsyncTask dataAsyncTask = new DataAsyncTask();\r\n            dataAsyncTask.execute();\r\n        }catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        if (cursor != null &amp;&amp; !cursor.isClosed()) {\r\n            cursor.close();\r\n        }\r\n        if (database != null &amp;&amp; database.isOpen()) {\r\n            database.close();\r\n        }\r\n    }\r\n}\r\n```\r\nmy database helper class:\r\n\r\n```\r\npackage com.example.itask;\r\n\r\nimport static android.content.ContentValues.TAG;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.database.Cursor;\r\nimport android.database.SQLException;\r\nimport android.database.sqlite.SQLiteDatabase;\r\nimport android.os.AsyncTask;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.TreeSet;\r\n\r\npublic class MainActivity extends AppCompatActivity implements AddTaskDialog.AddNewTask, TaskAdapter.DeleteTask {\r\n\r\n    private Button buttonAddTask;\r\n    private RecyclerView recyclerView;\r\n\r\n    private ArrayList&lt;Task&gt; allTasks;\r\n    private TaskAdapter adapter;\r\n    private SQLiteDatabase database;\r\n    private DataBaseHelper dataBaseHelper;\r\n    private Cursor cursor;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        buttonAddTask = (Button) findViewById(R.id.btnAddTask);\r\n        recyclerView = (RecyclerView) findViewById(R.id.recyclerView);\r\n        adapter = new TaskAdapter(this);\r\n        recyclerView.setAdapter(adapter);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n        allTasks = new ArrayList&lt;&gt;();\r\n        DataAsyncTask dataAsyncTask = new DataAsyncTask();\r\n        dataAsyncTask.execute();\r\n\r\n\r\n        buttonAddTask.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                AddTaskDialog dialog = new AddTaskDialog();\r\n                dialog.show(getSupportFragmentManager(), &quot;add new task&quot;);\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onDeletingTask(int bookId) {\r\n        Log.d(TAG, &quot;onDeletingTask: trying to delete this task with id &quot;+bookId);\r\n        try {\r\n            dataBaseHelper.delete(database, bookId);\r\n            DataAsyncTask dataAsyncTask = new DataAsyncTask();\r\n            dataAsyncTask.execute();\r\n        }catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public class DataAsyncTask extends AsyncTask&lt;Void, Void, ArrayList&lt;Task&gt;&gt;{\r\n\r\n        @Override\r\n        protected void onPreExecute() {\r\n            dataBaseHelper = new DataBaseHelper(MainActivity.this);\r\n            database = dataBaseHelper.getReadableDatabase();\r\n        }\r\n\r\n        @Override\r\n        protected ArrayList&lt;Task&gt; doInBackground(Void... voids) {\r\n            try {\r\n                cursor = database.query(&quot;tasks&quot;, null,null,null,null, null, null);\r\n                if (cursor.moveToFirst()) {\r\n                    for (int i=0; i&lt;cursor.getCount(); i++) {\r\n                        Task task = new Task();\r\n                        for (int j=0; j&lt;cursor.getColumnCount(); j++) {\r\n                            switch (cursor.getColumnName(j)) {\r\n                                case &quot;_id&quot;:\r\n                                    task.setId(cursor.getInt(j));\r\n                                case &quot;name&quot;:\r\n                                    task.setName(cursor.getString(j));\r\n                                    break;\r\n                                case &quot;date&quot;:\r\n                                    task.setDate(cursor.getString(j));\r\n                                    break;\r\n                                case &quot;notes&quot;:\r\n                                    task.setNotes(cursor.getString(j));\r\n                                    break;\r\n                                default:\r\n                                    break;\r\n                            }\r\n                            allTasks.add(task);\r\n                        }\r\n                    }\r\n                }\r\n            }catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return allTasks;\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(ArrayList&lt;Task&gt; tasks) {\r\n            super.onPostExecute(tasks);\r\n            if (tasks == null || tasks.isEmpty()) {\r\n                recyclerView.setVisibility(View.GONE);\r\n                buttonAddTask.setVisibility(View.VISIBLE);\r\n            } else {\r\n                recyclerView.setVisibility(View.VISIBLE);\r\n                buttonAddTask.setVisibility(View.GONE);\r\n            }\r\n            adapter.setTasks(tasks);\r\n    }\r\n    }\r\n\r\n    @Override\r\n    public void onAddingTask(Task task) {\r\n        Log.d(TAG, &quot;onAddingTask: new book: &quot;+task.toString());\r\n        try {\r\n            dataBaseHelper.insert(database, task);\r\n            DataAsyncTask dataAsyncTask = new DataAsyncTask();\r\n            dataAsyncTask.execute();\r\n        }catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        if (cursor != null &amp;&amp; !cursor.isClosed()) {\r\n            cursor.close();\r\n        }\r\n        if (database != null &amp;&amp; database.isOpen()) {\r\n            database.close();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n","title":"For some reason when i hit the add button it adds 4 cardviews and when i long click on the cardview nothing happens","body":"<p>When i hit the add button inside the Adapter class it adds 4 cardviews to the mainactivity layout and when i try to delete nothing happens and instead it adds another 4 cardviews</p>\n<p>I tried everything nothing seem to be solving my problem</p>\n<p>Here's my Adapter class:</p>\n<pre><code>package com.example.itask;\n\nimport android.annotation.SuppressLint;\nimport android.app.AlertDialog;\nimport android.content.Context;\nimport android.content.DialogInterface;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.cardview.widget.CardView;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\n\npublic class TaskAdapter extends RecyclerView.Adapter&lt;TaskAdapter.ViewHolder&gt;{\n    private static final String TAG = &quot;TaskAdapter&quot;;\n\n    ArrayList&lt;Task&gt; tasks = new ArrayList&lt;&gt;();\n\n    private Context context;\n\n    public TaskAdapter(Context context) {\n        this.context = context;\n    }\n    interface DeleteTask {\n        void onDeletingTask(int bookId);\n    }\n    public DeleteTask deleteTask;\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.task_list_item_rec_view, parent, false);\n        ViewHolder holder = new ViewHolder(view);\n        return holder;\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, @SuppressLint(&quot;RecyclerView&quot;) int position) {\n        Log.d(TAG, &quot;onBindViewHolder: called&quot;);\n        holder.name.setText(tasks.get(position).getName());\n        holder.date.setText(tasks.get(position).getDate());\n        holder.card.setOnLongClickListener(new View.OnLongClickListener() {\n            @Override\n            public boolean onLongClick(View v) {\n                AlertDialog.Builder builder = new AlertDialog.Builder(context)\n                        .setTitle(&quot;Deleting task&quot;)\n                        .setMessage(&quot;Are you sure you want to delete this task?&quot;)\n                        .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\n                            @Override\n                            public void onClick(DialogInterface dialog, int which) {\n                                try {\n                                    deleteTask = (DeleteTask) context;\n                                    deleteTask.onDeletingTask(tasks.get(position).getId());\n                                }catch (ClassCastException e) {\n                                    e.printStackTrace();\n                                }\n                            }\n                        }).setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\n                            @Override\n                            public void onClick(DialogInterface dialog, int which) {\n                                dialog.dismiss();\n                            }\n                        });\n                builder.create().show();\n                return true;\n            }\n        });\n    }\n\n    @Override\n    public int getItemCount() {\n        return tasks.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n        private TextView name;\n        private TextView date;\n        private CardView card;\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n            name = (TextView) itemView.findViewById(R.id.txtTaskName);\n            date = (TextView) itemView.findViewById(R.id.txtTaskDate);\n            card = (CardView) itemView.findViewById(R.id.parent);\n        }\n    }\n\n    public void setTasks(ArrayList&lt;Task&gt; tasks) {\n        this.tasks = tasks;\n        notifyDataSetChanged();\n    }\n}\n</code></pre>\n<p>Here's my MainActivity</p>\n<pre><code>package com.example.itask;\n\nimport static android.content.ContentValues.TAG;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.database.Cursor;\nimport android.database.SQLException;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.os.AsyncTask;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\n\nimport java.util.ArrayList;\nimport java.util.TreeSet;\n\npublic class MainActivity extends AppCompatActivity implements AddTaskDialog.AddNewTask, TaskAdapter.DeleteTask {\n\n    private Button buttonAddTask;\n    private RecyclerView recyclerView;\n\n    private ArrayList&lt;Task&gt; allTasks;\n    private TaskAdapter adapter;\n    private SQLiteDatabase database;\n    private DataBaseHelper dataBaseHelper;\n    private Cursor cursor;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        buttonAddTask = (Button) findViewById(R.id.btnAddTask);\n        recyclerView = (RecyclerView) findViewById(R.id.recyclerView);\n        adapter = new TaskAdapter(this);\n        recyclerView.setAdapter(adapter);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n\n        allTasks = new ArrayList&lt;&gt;();\n        DataAsyncTask dataAsyncTask = new DataAsyncTask();\n        dataAsyncTask.execute();\n\n\n        buttonAddTask.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                AddTaskDialog dialog = new AddTaskDialog();\n                dialog.show(getSupportFragmentManager(), &quot;add new task&quot;);\n            }\n        });\n    }\n\n    @Override\n    public void onDeletingTask(int bookId) {\n        Log.d(TAG, &quot;onDeletingTask: trying to delete this task with id &quot;+bookId);\n        try {\n            dataBaseHelper.delete(database, bookId);\n            DataAsyncTask dataAsyncTask = new DataAsyncTask();\n            dataAsyncTask.execute();\n        }catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public class DataAsyncTask extends AsyncTask&lt;Void, Void, ArrayList&lt;Task&gt;&gt;{\n\n        @Override\n        protected void onPreExecute() {\n            dataBaseHelper = new DataBaseHelper(MainActivity.this);\n            database = dataBaseHelper.getReadableDatabase();\n        }\n\n        @Override\n        protected ArrayList&lt;Task&gt; doInBackground(Void... voids) {\n            try {\n                cursor = database.query(&quot;tasks&quot;, null,null,null,null, null, null);\n                if (cursor.moveToFirst()) {\n                    for (int i=0; i&lt;cursor.getCount(); i++) {\n                        Task task = new Task();\n                        for (int j=0; j&lt;cursor.getColumnCount(); j++) {\n                            switch (cursor.getColumnName(j)) {\n                                case &quot;_id&quot;:\n                                    task.setId(cursor.getInt(j));\n                                case &quot;name&quot;:\n                                    task.setName(cursor.getString(j));\n                                    break;\n                                case &quot;date&quot;:\n                                    task.setDate(cursor.getString(j));\n                                    break;\n                                case &quot;notes&quot;:\n                                    task.setNotes(cursor.getString(j));\n                                    break;\n                                default:\n                                    break;\n                            }\n                            allTasks.add(task);\n                        }\n                    }\n                }\n            }catch (SQLException e) {\n                e.printStackTrace();\n            }\n            return allTasks;\n        }\n\n        @Override\n        protected void onPostExecute(ArrayList&lt;Task&gt; tasks) {\n            super.onPostExecute(tasks);\n            if (tasks == null || tasks.isEmpty()) {\n                recyclerView.setVisibility(View.GONE);\n                buttonAddTask.setVisibility(View.VISIBLE);\n            } else {\n                recyclerView.setVisibility(View.VISIBLE);\n                buttonAddTask.setVisibility(View.GONE);\n            }\n            adapter.setTasks(tasks);\n    }\n    }\n\n    @Override\n    public void onAddingTask(Task task) {\n        Log.d(TAG, &quot;onAddingTask: new book: &quot;+task.toString());\n        try {\n            dataBaseHelper.insert(database, task);\n            DataAsyncTask dataAsyncTask = new DataAsyncTask();\n            dataAsyncTask.execute();\n        }catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        if (cursor != null &amp;&amp; !cursor.isClosed()) {\n            cursor.close();\n        }\n        if (database != null &amp;&amp; database.isOpen()) {\n            database.close();\n        }\n    }\n}\n</code></pre>\n<p>and here's my dialog class:</p>\n<pre><code>package com.example.itask;\n\nimport static android.content.ContentValues.TAG;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.database.Cursor;\nimport android.database.SQLException;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.os.AsyncTask;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\n\nimport java.util.ArrayList;\nimport java.util.TreeSet;\n\npublic class MainActivity extends AppCompatActivity implements AddTaskDialog.AddNewTask, TaskAdapter.DeleteTask {\n\n    private Button buttonAddTask;\n    private RecyclerView recyclerView;\n\n    private ArrayList&lt;Task&gt; allTasks;\n    private TaskAdapter adapter;\n    private SQLiteDatabase database;\n    private DataBaseHelper dataBaseHelper;\n    private Cursor cursor;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        buttonAddTask = (Button) findViewById(R.id.btnAddTask);\n        recyclerView = (RecyclerView) findViewById(R.id.recyclerView);\n        adapter = new TaskAdapter(this);\n        recyclerView.setAdapter(adapter);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n\n        allTasks = new ArrayList&lt;&gt;();\n        DataAsyncTask dataAsyncTask = new DataAsyncTask();\n        dataAsyncTask.execute();\n\n\n        buttonAddTask.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                AddTaskDialog dialog = new AddTaskDialog();\n                dialog.show(getSupportFragmentManager(), &quot;add new task&quot;);\n            }\n        });\n    }\n\n    @Override\n    public void onDeletingTask(int bookId) {\n        Log.d(TAG, &quot;onDeletingTask: trying to delete this task with id &quot;+bookId);\n        try {\n            dataBaseHelper.delete(database, bookId);\n            DataAsyncTask dataAsyncTask = new DataAsyncTask();\n            dataAsyncTask.execute();\n        }catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public class DataAsyncTask extends AsyncTask&lt;Void, Void, ArrayList&lt;Task&gt;&gt;{\n\n        @Override\n        protected void onPreExecute() {\n            dataBaseHelper = new DataBaseHelper(MainActivity.this);\n            database = dataBaseHelper.getReadableDatabase();\n        }\n\n        @Override\n        protected ArrayList&lt;Task&gt; doInBackground(Void... voids) {\n            try {\n                cursor = database.query(&quot;tasks&quot;, null,null,null,null, null, null);\n                if (cursor.moveToFirst()) {\n                    for (int i=0; i&lt;cursor.getCount(); i++) {\n                        Task task = new Task();\n                        for (int j=0; j&lt;cursor.getColumnCount(); j++) {\n                            switch (cursor.getColumnName(j)) {\n                                case &quot;_id&quot;:\n                                    task.setId(cursor.getInt(j));\n                                case &quot;name&quot;:\n                                    task.setName(cursor.getString(j));\n                                    break;\n                                case &quot;date&quot;:\n                                    task.setDate(cursor.getString(j));\n                                    break;\n                                case &quot;notes&quot;:\n                                    task.setNotes(cursor.getString(j));\n                                    break;\n                                default:\n                                    break;\n                            }\n                            allTasks.add(task);\n                        }\n                    }\n                }\n            }catch (SQLException e) {\n                e.printStackTrace();\n            }\n            return allTasks;\n        }\n\n        @Override\n        protected void onPostExecute(ArrayList&lt;Task&gt; tasks) {\n            super.onPostExecute(tasks);\n            if (tasks == null || tasks.isEmpty()) {\n                recyclerView.setVisibility(View.GONE);\n                buttonAddTask.setVisibility(View.VISIBLE);\n            } else {\n                recyclerView.setVisibility(View.VISIBLE);\n                buttonAddTask.setVisibility(View.GONE);\n            }\n            adapter.setTasks(tasks);\n    }\n    }\n\n    @Override\n    public void onAddingTask(Task task) {\n        Log.d(TAG, &quot;onAddingTask: new book: &quot;+task.toString());\n        try {\n            dataBaseHelper.insert(database, task);\n            DataAsyncTask dataAsyncTask = new DataAsyncTask();\n            dataAsyncTask.execute();\n        }catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        if (cursor != null &amp;&amp; !cursor.isClosed()) {\n            cursor.close();\n        }\n        if (database != null &amp;&amp; database.isOpen()) {\n            database.close();\n        }\n    }\n}\n</code></pre>\n<p>my database helper class:</p>\n<pre><code>package com.example.itask;\n\nimport static android.content.ContentValues.TAG;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.database.Cursor;\nimport android.database.SQLException;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.os.AsyncTask;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\n\nimport java.util.ArrayList;\nimport java.util.TreeSet;\n\npublic class MainActivity extends AppCompatActivity implements AddTaskDialog.AddNewTask, TaskAdapter.DeleteTask {\n\n    private Button buttonAddTask;\n    private RecyclerView recyclerView;\n\n    private ArrayList&lt;Task&gt; allTasks;\n    private TaskAdapter adapter;\n    private SQLiteDatabase database;\n    private DataBaseHelper dataBaseHelper;\n    private Cursor cursor;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        buttonAddTask = (Button) findViewById(R.id.btnAddTask);\n        recyclerView = (RecyclerView) findViewById(R.id.recyclerView);\n        adapter = new TaskAdapter(this);\n        recyclerView.setAdapter(adapter);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n\n        allTasks = new ArrayList&lt;&gt;();\n        DataAsyncTask dataAsyncTask = new DataAsyncTask();\n        dataAsyncTask.execute();\n\n\n        buttonAddTask.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                AddTaskDialog dialog = new AddTaskDialog();\n                dialog.show(getSupportFragmentManager(), &quot;add new task&quot;);\n            }\n        });\n    }\n\n    @Override\n    public void onDeletingTask(int bookId) {\n        Log.d(TAG, &quot;onDeletingTask: trying to delete this task with id &quot;+bookId);\n        try {\n            dataBaseHelper.delete(database, bookId);\n            DataAsyncTask dataAsyncTask = new DataAsyncTask();\n            dataAsyncTask.execute();\n        }catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public class DataAsyncTask extends AsyncTask&lt;Void, Void, ArrayList&lt;Task&gt;&gt;{\n\n        @Override\n        protected void onPreExecute() {\n            dataBaseHelper = new DataBaseHelper(MainActivity.this);\n            database = dataBaseHelper.getReadableDatabase();\n        }\n\n        @Override\n        protected ArrayList&lt;Task&gt; doInBackground(Void... voids) {\n            try {\n                cursor = database.query(&quot;tasks&quot;, null,null,null,null, null, null);\n                if (cursor.moveToFirst()) {\n                    for (int i=0; i&lt;cursor.getCount(); i++) {\n                        Task task = new Task();\n                        for (int j=0; j&lt;cursor.getColumnCount(); j++) {\n                            switch (cursor.getColumnName(j)) {\n                                case &quot;_id&quot;:\n                                    task.setId(cursor.getInt(j));\n                                case &quot;name&quot;:\n                                    task.setName(cursor.getString(j));\n                                    break;\n                                case &quot;date&quot;:\n                                    task.setDate(cursor.getString(j));\n                                    break;\n                                case &quot;notes&quot;:\n                                    task.setNotes(cursor.getString(j));\n                                    break;\n                                default:\n                                    break;\n                            }\n                            allTasks.add(task);\n                        }\n                    }\n                }\n            }catch (SQLException e) {\n                e.printStackTrace();\n            }\n            return allTasks;\n        }\n\n        @Override\n        protected void onPostExecute(ArrayList&lt;Task&gt; tasks) {\n            super.onPostExecute(tasks);\n            if (tasks == null || tasks.isEmpty()) {\n                recyclerView.setVisibility(View.GONE);\n                buttonAddTask.setVisibility(View.VISIBLE);\n            } else {\n                recyclerView.setVisibility(View.VISIBLE);\n                buttonAddTask.setVisibility(View.GONE);\n            }\n            adapter.setTasks(tasks);\n    }\n    }\n\n    @Override\n    public void onAddingTask(Task task) {\n        Log.d(TAG, &quot;onAddingTask: new book: &quot;+task.toString());\n        try {\n            dataBaseHelper.insert(database, task);\n            DataAsyncTask dataAsyncTask = new DataAsyncTask();\n            dataAsyncTask.execute();\n        }catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        if (cursor != null &amp;&amp; !cursor.isClosed()) {\n            cursor.close();\n        }\n        if (database != null &amp;&amp; database.isOpen()) {\n            database.close();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":50846,"reputation":1015,"user_id":151759,"accept_rate":65,"display_name":"Bertolt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680203452,"creation_date":1680203452,"answer_id":75892100,"question_id":75891737,"body_markdown":"[This stackoverflow answer describes how to enable http wire logging for Spring RestTemplate.][1] With this enabled, you should be able to see in your logs which URL is actually called and figure out from where, why you receive a 404 return code.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/39109538/151759","title":"Spring boot returns a 404 when calling another API internally","body":"<p><a href=\"https://stackoverflow.com/a/39109538/151759\">This stackoverflow answer describes how to enable http wire logging for Spring RestTemplate.</a> With this enabled, you should be able to see in your logs which URL is actually called and figure out from where, why you receive a 404 return code.</p>\n"},{"tags":[],"owner":{"account_id":24553342,"reputation":5,"user_id":18462267,"display_name":"ArneVC"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688501004,"creation_date":1688501004,"answer_id":76615599,"question_id":75891737,"body_markdown":"I solved the issue I was having here by adding the @ResponseBody annotation to the methods.","title":"Spring boot returns a 404 when calling another API internally","body":"<p>I solved the issue I was having here by adding the @ResponseBody annotation to the methods.</p>\n"}],"owner":{"account_id":24553342,"reputation":5,"user_id":18462267,"display_name":"ArneVC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76615599,"answer_count":2,"score":0,"last_activity_date":1688501718,"creation_date":1680200737,"question_id":75891737,"body_markdown":"I have a spring boot API that internally has to call another API and just &quot;forward&quot; the request.\r\n```JAVA\r\nprivate String APIRoot;\r\npublic APIInteractionController() {\r\n        this.APIRoot = &quot;&lt;API root here, not showing it because it&#39;s private&gt;&quot;;\r\n    }\r\n//test if calling API works\r\n@GetMapping(&quot;/test&quot;)\r\npublic String testAPI(){\r\n    logCallAPI(APIRoot);\r\n    String result = callAPI(APIRoot);\r\n    return result;\r\n}\r\nprivate String callAPI(String uri){\r\n    RestTemplate restTemplate = new RestTemplate();\r\n    String result = restTemplate.getForObject(uri, String.class);\r\n    return result;\r\n}\r\nprivate void logCallAPI(String uri){\r\n    System.out.println(&quot;call API:\\nuri: &quot; + uri);\r\n}\r\n```\r\nWhen I call the endpoint on my sprig boot app, the logger statement gets outputted in the console, but in postmane I just get a 404 even though when I call the API on itself it just returns &quot;hello world&quot; as the root just returns a test string.\r\nWhy is this, and how can I resolve this.","title":"Spring boot returns a 404 when calling another API internally","body":"<p>I have a spring boot API that internally has to call another API and just &quot;forward&quot; the request.</p>\n<pre><code>private String APIRoot;\npublic APIInteractionController() {\n        this.APIRoot = &quot;&lt;API root here, not showing it because it's private&gt;&quot;;\n    }\n//test if calling API works\n@GetMapping(&quot;/test&quot;)\npublic String testAPI(){\n    logCallAPI(APIRoot);\n    String result = callAPI(APIRoot);\n    return result;\n}\nprivate String callAPI(String uri){\n    RestTemplate restTemplate = new RestTemplate();\n    String result = restTemplate.getForObject(uri, String.class);\n    return result;\n}\nprivate void logCallAPI(String uri){\n    System.out.println(&quot;call API:\\nuri: &quot; + uri);\n}\n</code></pre>\n<p>When I call the endpoint on my sprig boot app, the logger statement gets outputted in the console, but in postmane I just get a 404 even though when I call the API on itself it just returns &quot;hello world&quot; as the root just returns a test string.\nWhy is this, and how can I resolve this.</p>\n"},{"tags":["java","android","android-studio","profiling","performance-testing"],"owner":{"account_id":28950912,"reputation":1,"user_id":22175548,"display_name":"Hamza Khawaja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688500909,"creation_date":1688500909,"question_id":76615586,"body_markdown":"I am working on an Android app that will be distributed to multiple users, and I would like to perform remote app profiling on their devices. In Android Studio, the built-in profiler allows me to monitor various performance metrics like CPU usage, memory usage, and network activity. However, I need to find a way to perform similar profiling remotely on user devices without physically connecting to each device.\r\n\r\nI tried using firebase monitoring tool but it doesnt provide details similar to android studio profiler.","title":"Is it possible to remotely perform app profiling similar to Android Studio&#39;s profiler?","body":"<p>I am working on an Android app that will be distributed to multiple users, and I would like to perform remote app profiling on their devices. In Android Studio, the built-in profiler allows me to monitor various performance metrics like CPU usage, memory usage, and network activity. However, I need to find a way to perform similar profiling remotely on user devices without physically connecting to each device.</p>\n<p>I tried using firebase monitoring tool but it doesnt provide details similar to android studio profiler.</p>\n"},{"tags":["java","aws-lambda","aws-cli"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1688499647,"post_id":76615441,"comment_id":135081265,"body_markdown":"Your terminal output says: 1) your HTTP communication with AWS Lambda worked (HTTP status 200)... but 2) your invocation of your Java function (&quot;HelloWorldJava&quot;) failed.  Most of the error message is about how the Jackson deserializer in your Java function couldn&#39;t read the JSON input.  Q: CAN YOU SHOW US YOUR JAVA CODE?","body":"Your terminal output says: 1) your HTTP communication with AWS Lambda worked (HTTP status 200)... but 2) your invocation of your Java function (&quot;HelloWorldJava&quot;) failed.  Most of the error message is about how the Jackson deserializer in your Java function couldn&#39;t read the JSON input.  Q: CAN YOU SHOW US YOUR JAVA CODE?"},{"owner":{"account_id":22676894,"reputation":37,"user_id":16847742,"display_name":"j_falcon"},"score":0,"creation_date":1688500873,"post_id":76615441,"comment_id":135081413,"body_markdown":"I added the Java code above @paulsm4","body":"I added the Java code above @paulsm4"},{"owner":{"account_id":137535,"reputation":4952,"user_id":341772,"accept_rate":60,"display_name":"Max"},"score":0,"creation_date":1688512472,"post_id":76615441,"comment_id":135082720,"body_markdown":"Is this AWS CLI v2 or v1?","body":"Is this AWS CLI v2 or v1?"},{"owner":{"account_id":137535,"reputation":4952,"user_id":341772,"accept_rate":60,"display_name":"Max"},"score":0,"creation_date":1688512688,"post_id":76615441,"comment_id":135082734,"body_markdown":"Hm, seems like it should be working. Can you test it out in the AWS Console? Navigate to your Lambda and check out the Test tab. It might also help to see the entire Java class.","body":"Hm, seems like it should be working. Can you test it out in the AWS Console? Navigate to your Lambda and check out the Test tab. It might also help to see the entire Java class."},{"owner":{"account_id":22676894,"reputation":37,"user_id":16847742,"display_name":"j_falcon"},"score":0,"creation_date":1688520291,"post_id":76615441,"comment_id":135083281,"body_markdown":"It&#39;s using aws-cli 2.12.6\n\nIt&#39;s working fine when I use the &#39;Test&#39; functionality in the console, so doesn&#39;t there have to be something wrong with how the payload is being formatted?\n\nThis is on a Win 10 machine using GitBash for the terminal if that matters.","body":"It&#39;s using aws-cli 2.12.6  It&#39;s working fine when I use the &#39;Test&#39; functionality in the console, so doesn&#39;t there have to be something wrong with how the payload is being formatted?  This is on a Win 10 machine using GitBash for the terminal if that matters."}],"owner":{"account_id":22676894,"reputation":37,"user_id":16847742,"display_name":"j_falcon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1688500826,"creation_date":1688499192,"question_id":76615441,"body_markdown":"I am new to AWS Lambda and I&#39;m trying to go through a very basic tutorial example, but Lambda keeps yelling at me. Apparently jackson.databind can&#39;t deserialize what I&#39;m sending.\r\n\r\nI am trying this with AWS CLI to invoke a Lambda Function written in Java:\r\n\r\n```\r\n$ aws lambda invoke --invocation-type RequestResponse --function-name HelloWorldJava --cli-binary-format raw-in-base64-out --payload &#39;{&quot;a&quot;:&quot;x&quot;,&quot;b&quot;:&quot;y&quot;}&#39; outputfile.txt\r\n```\r\n\r\ngetting this in the terminal output:\r\n\r\n```\r\n{\r\n    &quot;StatusCode&quot;: 200,\r\n    &quot;FunctionError&quot;: &quot;Unhandled&quot;,\r\n    &quot;ExecutedVersion&quot;: &quot;$LATEST&quot;\r\n}\r\n```\r\n\r\nand this in the log file...\r\n\r\n```\r\n{&quot;errorMessage&quot;:&quot;An error occurred during JSON parsing&quot;,&quot;errorType&quot;:&quot;java.lang.RuntimeException&quot;,&quot;stackTrace&quot;:[],&quot;cause&quot;:{&quot;errorMessage&quot;:&quot;com.fasterxml.jackson.databind.JsonMappingExce\r\nption: Can not deserialize instance of int out of START_OBJECT token\\n at [Source: lambdainternal.util.NativeMemoryAsInputStream@589838eb; line: 1, column: 1]&quot;,&quot;errorType&quot;:&quot;java.io.Unc\r\nheckedIOException&quot;,&quot;stackTrace&quot;:[],&quot;cause&quot;:{&quot;errorMessage&quot;:&quot;Can not deserialize instance of int out of START_OBJECT token\\n at [Source: lambdainternal.util.NativeMemoryAsInputStream@58\r\n9838eb; line: 1, column: 1]&quot;,&quot;errorType&quot;:&quot;com.fasterxml.jackson.databind.JsonMappingException&quot;,&quot;stackTrace&quot;:[&quot;com.fasterxml.jackson.databind.JsonMappingException.from(JsonMappingExcept\r\nion.java:148)&quot;,&quot;com.fasterxml.jackson.databind.DeserializationContext.mappingException(DeserializationContext.java:857)&quot;,&quot;com.fasterxml.jackson.databind.deser.std.StdDeserializer._pars\r\neInteger(StdDeserializer.java:460)&quot;,&quot;com.fasterxml.jackson.databind.deser.std.NumberDeserializers$IntegerDeserializer.deserialize(NumberDeserializers.java:309)&quot;,&quot;com.fasterxml.jackson.\r\ndatabind.deser.std.NumberDeserializers$IntegerDeserializer.deserialize(NumberDeserializers.java:287)&quot;,&quot;com.fasterxml.jackson.databind.ObjectReader._bindAndClose(ObjectReader.java:1511)\r\n&quot;,&quot;com.fasterxml.jackson.databind.ObjectReader.readValue(ObjectReader.java:1102)&quot;]}}}\r\n```\r\n\r\nThis is the Java code in the Lambda function:\r\n\r\n    public Map&lt;String, String&gt; handlerMap(Map&lt;String,String&gt; input){\r\n        Map&lt;String, String&gt; newMap = new HashMap&lt;&gt;();\r\n        input.forEach((k,v) -&gt; newMap.put(&quot;New Map -&gt; &quot; + k, v));\r\n        return newMap;\r\n    }\r\n\r\nI can&#39;t figure out for the life of me how to format a json or array so that my Lambda function will deserialize it properly on the other end. Any help would be greatly appreciated!","title":"How to properly serialize json for invoking AWS Lambda function written in Java from AWS CLI?","body":"<p>I am new to AWS Lambda and I'm trying to go through a very basic tutorial example, but Lambda keeps yelling at me. Apparently jackson.databind can't deserialize what I'm sending.</p>\n<p>I am trying this with AWS CLI to invoke a Lambda Function written in Java:</p>\n<pre><code>$ aws lambda invoke --invocation-type RequestResponse --function-name HelloWorldJava --cli-binary-format raw-in-base64-out --payload '{&quot;a&quot;:&quot;x&quot;,&quot;b&quot;:&quot;y&quot;}' outputfile.txt\n</code></pre>\n<p>getting this in the terminal output:</p>\n<pre><code>{\n    &quot;StatusCode&quot;: 200,\n    &quot;FunctionError&quot;: &quot;Unhandled&quot;,\n    &quot;ExecutedVersion&quot;: &quot;$LATEST&quot;\n}\n</code></pre>\n<p>and this in the log file...</p>\n<pre><code>{&quot;errorMessage&quot;:&quot;An error occurred during JSON parsing&quot;,&quot;errorType&quot;:&quot;java.lang.RuntimeException&quot;,&quot;stackTrace&quot;:[],&quot;cause&quot;:{&quot;errorMessage&quot;:&quot;com.fasterxml.jackson.databind.JsonMappingExce\nption: Can not deserialize instance of int out of START_OBJECT token\\n at [Source: lambdainternal.util.NativeMemoryAsInputStream@589838eb; line: 1, column: 1]&quot;,&quot;errorType&quot;:&quot;java.io.Unc\nheckedIOException&quot;,&quot;stackTrace&quot;:[],&quot;cause&quot;:{&quot;errorMessage&quot;:&quot;Can not deserialize instance of int out of START_OBJECT token\\n at [Source: lambdainternal.util.NativeMemoryAsInputStream@58\n9838eb; line: 1, column: 1]&quot;,&quot;errorType&quot;:&quot;com.fasterxml.jackson.databind.JsonMappingException&quot;,&quot;stackTrace&quot;:[&quot;com.fasterxml.jackson.databind.JsonMappingException.from(JsonMappingExcept\nion.java:148)&quot;,&quot;com.fasterxml.jackson.databind.DeserializationContext.mappingException(DeserializationContext.java:857)&quot;,&quot;com.fasterxml.jackson.databind.deser.std.StdDeserializer._pars\neInteger(StdDeserializer.java:460)&quot;,&quot;com.fasterxml.jackson.databind.deser.std.NumberDeserializers$IntegerDeserializer.deserialize(NumberDeserializers.java:309)&quot;,&quot;com.fasterxml.jackson.\ndatabind.deser.std.NumberDeserializers$IntegerDeserializer.deserialize(NumberDeserializers.java:287)&quot;,&quot;com.fasterxml.jackson.databind.ObjectReader._bindAndClose(ObjectReader.java:1511)\n&quot;,&quot;com.fasterxml.jackson.databind.ObjectReader.readValue(ObjectReader.java:1102)&quot;]}}}\n</code></pre>\n<p>This is the Java code in the Lambda function:</p>\n<pre><code>public Map&lt;String, String&gt; handlerMap(Map&lt;String,String&gt; input){\n    Map&lt;String, String&gt; newMap = new HashMap&lt;&gt;();\n    input.forEach((k,v) -&gt; newMap.put(&quot;New Map -&gt; &quot; + k, v));\n    return newMap;\n}\n</code></pre>\n<p>I can't figure out for the life of me how to format a json or array so that my Lambda function will deserialize it properly on the other end. Any help would be greatly appreciated!</p>\n"},{"tags":["java","gradle","gradle-task"],"answers":[{"tags":[],"owner":{"account_id":14194335,"reputation":11,"user_id":10254059,"display_name":"Mateusz Kasprzak"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688500826,"creation_date":1688500826,"answer_id":76615577,"question_id":75006378,"body_markdown":"To achieve this one option is to overwrite exec&#39;s standardOutput and/or errorOutput with `ByteArrayOutputStream` and re-throwing the exception with modified message from it.\r\n\r\nFor example:\r\n```groovy\r\ndef execOutput = new ByteArrayOutputStream()\r\ntry {\r\n    return this.project.exec({\r\n        it.errorOutput = execOutput\r\n        it.standardOutput = execOutput       \r\n        // rest of exec&#39;s config\r\n    })\r\n} catch (exception) {\r\n    // Will print task&#39;s output as part of the error message\r\n    throw new ExecException(exception.message + LineSeparator.SYSTEM + execOutput.toString())\r\n} finally {\r\n    // Preserve the logs in the task output\r\n    print execOutput.toString()\r\n}\r\n```","title":"How to modify error message after executing a command via a Gradle task","body":"<p>To achieve this one option is to overwrite exec's standardOutput and/or errorOutput with <code>ByteArrayOutputStream</code> and re-throwing the exception with modified message from it.</p>\n<p>For example:</p>\n<pre><code>def execOutput = new ByteArrayOutputStream()\ntry {\n    return this.project.exec({\n        it.errorOutput = execOutput\n        it.standardOutput = execOutput       \n        // rest of exec's config\n    })\n} catch (exception) {\n    // Will print task's output as part of the error message\n    throw new ExecException(exception.message + LineSeparator.SYSTEM + execOutput.toString())\n} finally {\n    // Preserve the logs in the task output\n    print execOutput.toString()\n}\n</code></pre>\n"}],"owner":{"account_id":425139,"reputation":12311,"user_id":805563,"accept_rate":87,"display_name":"Bee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688500826,"creation_date":1672839872,"question_id":75006378,"body_markdown":"I&#39;m implementing a Gradle Java plugin which registers below task.\r\n\r\n```\r\nTaskProvider&lt;Exec&gt; taskProvider = project.getTasks().register(&quot;spectralTask&quot;, Exec.class);\r\ntaskProvider.configure(exec -&gt; {\r\n    exec.executable(&quot;spectral&quot;);\r\n    exec.args(&quot;lint&quot;);\r\n});\r\n```\r\n\r\nWhen the output of the executed command is an error, this is what I get. \r\n\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:spectralTask&#39;.\r\n&gt; Process &#39;command &#39;spectral&#39;&#39; finished with non-zero exit value 1\r\n```\r\n\r\nThis error message is not very helpful. I want to fix it. \r\nIs there a way to do below?\r\n\r\n1) Print a custom error message. \r\n2) Print the exact error message given by the executed command. ","title":"How to modify error message after executing a command via a Gradle task","body":"<p>I'm implementing a Gradle Java plugin which registers below task.</p>\n<pre><code>TaskProvider&lt;Exec&gt; taskProvider = project.getTasks().register(&quot;spectralTask&quot;, Exec.class);\ntaskProvider.configure(exec -&gt; {\n    exec.executable(&quot;spectral&quot;);\n    exec.args(&quot;lint&quot;);\n});\n</code></pre>\n<p>When the output of the executed command is an error, this is what I get.</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:spectralTask'.\n&gt; Process 'command 'spectral'' finished with non-zero exit value 1\n</code></pre>\n<p>This error message is not very helpful. I want to fix it.\nIs there a way to do below?</p>\n<ol>\n<li>Print a custom error message.</li>\n<li>Print the exact error message given by the executed command.</li>\n</ol>\n"},{"tags":["java","hibernate","jpa"],"owner":{"account_id":28950527,"reputation":1,"user_id":22175247,"display_name":"SerhiiNahornyi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688500637,"creation_date":1688493794,"question_id":76614967,"body_markdown":"How to send metrics of \r\ngetQueryPlanCacheHitCount()\r\ngetQueryPlanCacheMissCount()\r\nto micrometer? \r\n\r\nI tried to set spring.jpa.properties.hibernate.generate_statistics=true\r\nAnd created bean \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    @Bean\r\n    MeterBinder hibernateQueryMetrics(EntityManagerFactory entityManager) {\r\n        return new HibernateQueryMetrics(entityManager.unwrap(SessionFactoryImplementor.class), &quot;authorizationSvcSessionFactory&quot;, Tags.empty());\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nIt sends hibernate statistics but without plan cache metrics","title":"How to send metrics of Hibernate Query Plan Cache?","body":"<p>How to send metrics of\ngetQueryPlanCacheHitCount()\ngetQueryPlanCacheMissCount()\nto micrometer?</p>\n<p>I tried to set spring.jpa.properties.hibernate.generate_statistics=true\nAnd created bean</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>@Bean\nMeterBinder hibernateQueryMetrics(EntityManagerFactory entityManager) {\n    return new HibernateQueryMetrics(entityManager.unwrap(SessionFactoryImplementor.class), \"authorizationSvcSessionFactory\", Tags.empty());\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>It sends hibernate statistics but without plan cache metrics</p>\n"},{"tags":["java","encryption","cryptography","public-key-encryption","private-key"],"comments":[{"owner":{"account_id":1198635,"reputation":72902,"user_id":1169798,"accept_rate":56,"display_name":"Sirko"},"score":0,"creation_date":1415369172,"post_id":26803003,"comment_id":42179271,"body_markdown":"Simple example for using your private key to encrypt something would be *signing* some document/text/hash thereof/...","body":"Simple example for using your private key to encrypt something would be <i>signing</i> some document/text/hash thereof/..."},{"owner":{"account_id":2033317,"reputation":61286,"user_id":1816580,"display_name":"Artjom B."},"score":0,"creation_date":1415370341,"post_id":26803003,"comment_id":42179986,"body_markdown":"See Crypto.SE: [How does asymmetric encryption work?](http://crypto.stackexchange.com/questions/292/how-does-asymmetric-encryption-work)","body":"See Crypto.SE: <a href=\"http://crypto.stackexchange.com/questions/292/how-does-asymmetric-encryption-work\">How does asymmetric encryption work?</a>"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1415371668,"post_id":26803003,"comment_id":42180784,"body_markdown":"@ArtjomB. I tried to explain more extensively [here](http://crypto.stackexchange.com/questions/15997/is-rsa-encryption-the-same-as-signature-generation) - not with too much success in upvotes though. Maybe too complex an explanation.","body":"@ArtjomB. I tried to explain more extensively <a href=\"http://crypto.stackexchange.com/questions/15997/is-rsa-encryption-the-same-as-signature-generation\">here</a> - not with too much success in upvotes though. Maybe too complex an explanation."},{"owner":{"account_id":2033317,"reputation":61286,"user_id":1816580,"display_name":"Artjom B."},"score":0,"creation_date":1415376816,"post_id":26803003,"comment_id":42183848,"body_markdown":"@owlstead I originally searched for something like that, but haven&#39;t found it. Great self-post. It certainly is not too complex for Crypto.SE, but SO users might have problems with this.","body":"@owlstead I originally searched for something like that, but haven&#39;t found it. Great self-post. It certainly is not too complex for Crypto.SE, but SO users might have problems with this."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1415379807,"post_id":26803003,"comment_id":42185622,"body_markdown":"@ArtjomB. I&#39;ve restructured that answer, hopefully it&#39;s easier to read now.","body":"@ArtjomB. I&#39;ve restructured that answer, hopefully it&#39;s easier to read now."}],"answers":[{"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":2,"creation_date":1415371508,"post_id":26803155,"comment_id":42180682,"body_markdown":"Never confuse encryption with signing, not even for RSA. It&#39;s true that modular exponentiation is used for both, but that&#39;s where the comparison ends. Even the modular exponentiation is explicitly given a different name in the PKCS#1 specifications, and then there is the difference in padding and hashing...","body":"Never confuse encryption with signing, not even for RSA. It&#39;s true that modular exponentiation is used for both, but that&#39;s where the comparison ends. Even the modular exponentiation is explicitly given a different name in the PKCS#1 specifications, and then there is the difference in padding and hashing..."},{"owner":{"account_id":1679337,"reputation":2027,"user_id":1544015,"accept_rate":59,"display_name":"Vlad"},"score":0,"creation_date":1415465544,"post_id":26803155,"comment_id":42208844,"body_markdown":"Applied Cryptography-Bruce Schneier (1.1. Terminology): &quot;Sometimes, messages will be encrypted with the private key and decrypted with the public key; this is used in digital signatures.&quot; With regard to RSA of course and in general sense. Agree with previous comment in real world where details matter. Some libraries do not allow to encrypt with private key - MS CryptoAPI for example","body":"Applied Cryptography-Bruce Schneier (1.1. Terminology): &quot;Sometimes, messages will be encrypted with the private key and decrypted with the public key; this is used in digital signatures.&quot; With regard to RSA of course and in general sense. Agree with previous comment in real world where details matter. Some libraries do not allow to encrypt with private key - MS CryptoAPI for example"}],"tags":[],"owner":{"display_name":"user1990592"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1415369474,"creation_date":1415369474,"answer_id":26803155,"question_id":26803003,"body_markdown":"Asymmetric means you cannot use the same key for decryption that you used for encryption.\r\nCode signing is one scenario where you encrypt using the private key. Recipients of the code can then use their public key to verify if the code was unchanged.","title":"Public key encryption vs private key encryption","body":"<p>Asymmetric means you cannot use the same key for decryption that you used for encryption.\nCode signing is one scenario where you encrypt using the private key. Recipients of the code can then use their public key to verify if the code was unchanged.</p>\n"},{"tags":[],"owner":{"account_id":5239926,"reputation":2061,"user_id":4187323,"display_name":"gregdim"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1415371404,"creation_date":1415370158,"answer_id":26803331,"question_id":26803003,"body_markdown":"As far as the term *encryption* is considered to be *on the message itself*, the answer is **no** because such an encryption is totally useless. Since the public key is supposed to be public everyone could use it to decrypt. Encrypting with the private key thus fails to provide confidentiality.\r\n \r\nSigning on the other side, as others have already mentioned is the only use case for this. It does not apply the encryption to the actual payload (the message). It encrypts a cryptographic hash over the message (that can be reproduced from the same message only), using a different *padding scheme*. In this way you can be sure the actual party that has the private key signed the message.","title":"Public key encryption vs private key encryption","body":"<p>As far as the term <em>encryption</em> is considered to be <em>on the message itself</em>, the answer is <strong>no</strong> because such an encryption is totally useless. Since the public key is supposed to be public everyone could use it to decrypt. Encrypting with the private key thus fails to provide confidentiality.</p>\n\n<p>Signing on the other side, as others have already mentioned is the only use case for this. It does not apply the encryption to the actual payload (the message). It encrypts a cryptographic hash over the message (that can be reproduced from the same message only), using a different <em>padding scheme</em>. In this way you can be sure the actual party that has the private key signed the message.</p>\n"},{"tags":[],"owner":{"account_id":15004,"reputation":1605,"user_id":31274,"accept_rate":73,"display_name":"D. Rattansingh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688500333,"creation_date":1688500333,"answer_id":76615535,"question_id":26803003,"body_markdown":"I&#39;m not sure what you&#39;re asking is called asymmetric, rather RSA public/private key encryption. And yes you could use both keys to encrypt and decrypt but there are 2 separate issues.\r\n\r\nSecrecy - encrypt with public key and only the private key could decrypt. The enclosed message is secure\r\n\r\nAuthentication - encrypt with private key and anyone with public key could decrypt. Secrecy is not offered however if the public key decrypts successfully, you&#39;re sure of who I am because if anyone tampers with the message then the public key won&#39;t decrypt it","title":"Public key encryption vs private key encryption","body":"<p>I'm not sure what you're asking is called asymmetric, rather RSA public/private key encryption. And yes you could use both keys to encrypt and decrypt but there are 2 separate issues.</p>\n<p>Secrecy - encrypt with public key and only the private key could decrypt. The enclosed message is secure</p>\n<p>Authentication - encrypt with private key and anyone with public key could decrypt. Secrecy is not offered however if the public key decrypts successfully, you're sure of who I am because if anyone tampers with the message then the public key won't decrypt it</p>\n"}],"owner":{"account_id":174908,"reputation":3883,"user_id":2097397,"accept_rate":79,"display_name":"Himalay Majumdar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":995,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":26803331,"answer_count":3,"score":3,"last_activity_date":1688500333,"creation_date":1415369007,"question_id":26803003,"body_markdown":"I have implemented **asymmetric encryption** in my project using &quot;public key&quot; to &quot;encrypt&quot; the message and &quot;private key&quot; to &quot;decrypt&quot; the message. \r\n\r\nDo we ever use &quot;private key&quot; to &quot;encrypt&quot; the message and and &quot;public key&quot; to &quot;decrypt&quot;. If yes, can someone give me a use case of that and is this kind of cryptography also called &quot;asymmetric encryption&quot;\r\n\r\n","title":"Public key encryption vs private key encryption","body":"<p>I have implemented <strong>asymmetric encryption</strong> in my project using \"public key\" to \"encrypt\" the message and \"private key\" to \"decrypt\" the message. </p>\n\n<p>Do we ever use \"private key\" to \"encrypt\" the message and and \"public key\" to \"decrypt\". If yes, can someone give me a use case of that and is this kind of cryptography also called \"asymmetric encryption\"</p>\n"},{"tags":["java","system-clock"],"comments":[{"owner":{"account_id":8597210,"reputation":1368,"user_id":6439899,"display_name":"Coding thermodynamist"},"score":2,"creation_date":1688477639,"post_id":76613168,"comment_id":135077400,"body_markdown":"See https://superuser.com/questions/759730/how-much-clock-drift-is-considered-normal-for-a-non-networked-windows-7-pc).","body":"See <a href=\"https://superuser.com/questions/759730/how-much-clock-drift-is-considered-normal-for-a-non-networked-windows-7-pc\" title=\"how much clock drift is considered normal for a non networked windows 7 pc\">superuser.com/questions/759730/&hellip;</a>)."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":4,"creation_date":1688477882,"post_id":76613168,"comment_id":135077450,"body_markdown":"Why are you using the outdated and buggy Date class?  Unless absolutely required,  you should be using classes from the [java.time](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/package-summary.html) package.","body":"Why are you using the outdated and buggy Date class?  Unless absolutely required,  you should be using classes from the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> package."},{"owner":{"account_id":4093045,"reputation":237,"user_id":3360565,"accept_rate":45,"display_name":"Nayan Sonthalia"},"score":1,"creation_date":1688477991,"post_id":76613168,"comment_id":135077472,"body_markdown":"@Nathan : thanks for the pointer. but my issue works fine for some occurances and fails for other. if, for eg, i execute the sample code 3000 time in a day then it will work fine for about 600-1000 times and return expected result. for other times it give some random results. for some instances it is off by 1few milli seconds of others it is 2 sec or 3 sec or 4 sec and so on.. also, i am on windows server 2019","body":"@Nathan : thanks for the pointer. but my issue works fine for some occurances and fails for other. if, for eg, i execute the sample code 3000 time in a day then it will work fine for about 600-1000 times and return expected result. for other times it give some random results. for some instances it is off by 1few milli seconds of others it is 2 sec or 3 sec or 4 sec and so on.. also, i am on windows server 2019"},{"owner":{"account_id":4093045,"reputation":237,"user_id":3360565,"accept_rate":45,"display_name":"Nayan Sonthalia"},"score":0,"creation_date":1688483417,"post_id":76613168,"comment_id":135078732,"body_markdown":"@g00se :  thanks for your answer. due to compliance requirement in Europe, i am trying to get times from two different places. 1) using new Date() to get time in milli seconds for one field 2) using the nanosecond time which i mentioned about to get the compliance. problem is, the difference between 1 and 2 is off by more than 2 seconds in some cases. i am ok if they are off by a second or two. thats ok. if cant be off by more than 2 seconds","body":"@g00se :  thanks for your answer. due to compliance requirement in Europe, i am trying to get times from two different places. 1) using new Date() to get time in milli seconds for one field 2) using the nanosecond time which i mentioned about to get the compliance. problem is, the difference between 1 and 2 is off by more than 2 seconds in some cases. i am ok if they are off by a second or two. thats ok. if cant be off by more than 2 seconds"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688483550,"post_id":76613168,"comment_id":135078769,"body_markdown":"OK thanks for clarifying. It sounds like you should be doing something more like getting two `ZonedDateTime` instances and from these deriving two `Instant`s","body":"OK thanks for clarifying. It sounds like you should be doing something more like getting two <code>ZonedDateTime</code> instances and from these deriving two <code>Instant</code>s"}],"answers":[{"tags":[],"owner":{"account_id":4217515,"reputation":8460,"user_id":3453226,"accept_rate":77,"display_name":"spongebob"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1688499816,"creation_date":1688478038,"answer_id":76613242,"question_id":76613168,"body_markdown":"The discrepancy is due to system clock drift.\r\n\r\n[`System.currentTimeMillis()`][1] is vulnerable to adjustments in the system clock, for example from the NTP daemon.\r\nOn the other hand [`System.nanoTime()`][2] is a value that increases by 10&lt;sup&gt;9&lt;/sup&gt; every second, irrespective of any adjustments to the system clock.\r\n\r\nWhenever there is such an adjustment, you will get a divergence between `NanoClock`, which calls `System.currentTimeMillis()` once and stores its result, and something which calls `System.currentTimeMillis()` each time, like `new Date()`.\r\n\r\n----------\r\n\r\n`NanoClock` is buggy.\r\n\r\n`System.currentTimeMillis()` returns `X` while the current time is `X milliseconds + Y microseconds + Z nanoseconds`.\r\n\r\nSo `EPOCH_NANOS` is `Y microseconds + Z nanoseconds` before the correct epoch.\r\n\r\n----------\r\n\r\nNote that `System.nanoTime()` provides nanosecond precision, but not necessarily nanosecond resolution (that is, how frequently the value changes).\r\n\r\n----------\r\n\r\nFrom Java 9 onwards, [`Instant.now()`][3] gives you the current system time with nanosecond precision (but not nanosecond resolution).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/System.html#currentTimeMillis--\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/System.html#nanoTime--\r\n  [3]: https://docs.oracle.com/javase/9/docs/api/java/time/Instant.html#now--","title":"Instant.now(new NanoClock()) returns incorrect time","body":"<p>The discrepancy is due to system clock drift.</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/System.html#currentTimeMillis--\" rel=\"nofollow noreferrer\"><code>System.currentTimeMillis()</code></a> is vulnerable to adjustments in the system clock, for example from the NTP daemon.\nOn the other hand <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/System.html#nanoTime--\" rel=\"nofollow noreferrer\"><code>System.nanoTime()</code></a> is a value that increases by 10<sup>9</sup> every second, irrespective of any adjustments to the system clock.</p>\n<p>Whenever there is such an adjustment, you will get a divergence between <code>NanoClock</code>, which calls <code>System.currentTimeMillis()</code> once and stores its result, and something which calls <code>System.currentTimeMillis()</code> each time, like <code>new Date()</code>.</p>\n<hr />\n<p><code>NanoClock</code> is buggy.</p>\n<p><code>System.currentTimeMillis()</code> returns <code>X</code> while the current time is <code>X milliseconds + Y microseconds + Z nanoseconds</code>.</p>\n<p>So <code>EPOCH_NANOS</code> is <code>Y microseconds + Z nanoseconds</code> before the correct epoch.</p>\n<hr />\n<p>Note that <code>System.nanoTime()</code> provides nanosecond precision, but not necessarily nanosecond resolution (that is, how frequently the value changes).</p>\n<hr />\n<p>From Java 9 onwards, <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/Instant.html#now--\" rel=\"nofollow noreferrer\"><code>Instant.now()</code></a> gives you the current system time with nanosecond precision (but not nanosecond resolution).</p>\n"},{"comments":[{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":0,"creation_date":1688486465,"post_id":76613559,"comment_id":135079351,"body_markdown":"Well... as I said `System.nanoTime()` can only really be used as a sort of stop watch to count the nanos that have elapsed between events in the same JVM. `System.currentTimeMillis()` and `System.nanoTime()` are not compatible and can&#39;t be compared with one another. As you possibly know `new Date()` and `ZonedDateTime.now()` etc are all based on `System.currentTimeMillis()` and cannot be compared with `System.nanoTime()`","body":"Well... as I said <code>System.nanoTime()</code> can only really be used as a sort of stop watch to count the nanos that have elapsed between events in the same JVM. <code>System.currentTimeMillis()</code> and <code>System.nanoTime()</code> are not compatible and can&#39;t be compared with one another. As you possibly know <code>new Date()</code> and <code>ZonedDateTime.now()</code> etc are all based on <code>System.currentTimeMillis()</code> and cannot be compared with <code>System.nanoTime()</code>"}],"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688480857,"creation_date":1688480274,"answer_id":76613559,"question_id":76613168,"body_markdown":"I don&#39;t think you fully understand how milliseconds / nanoseconds work in the jvm.\r\n\r\nYou can only compare two `System.nanoTime()` values to see how many nanoseconds have elapsed. You can&#39;t use them to construct `Date` or `Instant` instances.\r\n\r\nThe following is not valid\r\n\r\n```java\r\nprivate static final long EPOCH_NANOS = System.currentTimeMillis()*1000000;\r\n```\r\n\r\nThe result of this multiplication might exceed `Long.MAX_VALUE`\r\n\r\nPlease explain what you are trying to achieve as I feel this might be an [X/Y problem](https://en.wikipedia.org/wiki/XY_problem). For instance you might be able to create a `StopWatch` class based on `System.nanoTime()` to achieve your goal.","title":"Instant.now(new NanoClock()) returns incorrect time","body":"<p>I don't think you fully understand how milliseconds / nanoseconds work in the jvm.</p>\n<p>You can only compare two <code>System.nanoTime()</code> values to see how many nanoseconds have elapsed. You can't use them to construct <code>Date</code> or <code>Instant</code> instances.</p>\n<p>The following is not valid</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final long EPOCH_NANOS = System.currentTimeMillis()*1000000;\n</code></pre>\n<p>The result of this multiplication might exceed <code>Long.MAX_VALUE</code></p>\n<p>Please explain what you are trying to achieve as I feel this might be an <a href=\"https://en.wikipedia.org/wiki/XY_problem\" rel=\"nofollow noreferrer\">X/Y problem</a>. For instance you might be able to create a <code>StopWatch</code> class based on <code>System.nanoTime()</code> to achieve your goal.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688481418,"creation_date":1688481418,"answer_id":76613705,"question_id":76613168,"body_markdown":"This may be a naive test, but how are you going to adjust for accuracy when subsequent calls take inconsistent times well below your expected precision requirements.  The values change per run.  The first can probably be ignored for startup time.\r\n```\r\nlong[] times = new long[20];        \r\ntimes[0] = System.nanoTime();       \r\ntimes[1] = System.nanoTime();       \r\ntimes[2] = System.nanoTime();       \r\ntimes[3] = System.nanoTime();       \r\ntimes[4] = System.nanoTime();       \r\ntimes[5] = System.nanoTime();       \r\ntimes[6] = System.nanoTime();       \r\ntimes[7] = System.nanoTime();       \r\ntimes[8] = System.nanoTime();       \r\ntimes[9] = System.nanoTime();       \r\ntimes[10] = System.nanoTime();      \r\ntimes[11] = System.nanoTime();      \r\ntimes[12] = System.nanoTime();      \r\ntimes[13] = System.nanoTime();      \r\ntimes[14] = System.nanoTime();      \r\ntimes[15] = System.nanoTime();      \r\ntimes[16] = System.nanoTime();      \r\ntimes[17] = System.nanoTime();      \r\ntimes[18] = System.nanoTime();      \r\ntimes[19] = System.nanoTime();      \r\n                                    \r\n                                    \r\nfor (int i = 0; i &lt; times.length; i+=2) {\r\n    System.out.println(times[i+1] - times[i]);\r\n}                                  \r\n```\r\nprints\r\n```\r\n200\r\n100\r\n100\r\n0\r\n0\r\n0\r\n0\r\n0\r\n0\r\n100","title":"Instant.now(new NanoClock()) returns incorrect time","body":"<p>This may be a naive test, but how are you going to adjust for accuracy when subsequent calls take inconsistent times well below your expected precision requirements.  The values change per run.  The first can probably be ignored for startup time.</p>\n<pre><code>long[] times = new long[20];        \ntimes[0] = System.nanoTime();       \ntimes[1] = System.nanoTime();       \ntimes[2] = System.nanoTime();       \ntimes[3] = System.nanoTime();       \ntimes[4] = System.nanoTime();       \ntimes[5] = System.nanoTime();       \ntimes[6] = System.nanoTime();       \ntimes[7] = System.nanoTime();       \ntimes[8] = System.nanoTime();       \ntimes[9] = System.nanoTime();       \ntimes[10] = System.nanoTime();      \ntimes[11] = System.nanoTime();      \ntimes[12] = System.nanoTime();      \ntimes[13] = System.nanoTime();      \ntimes[14] = System.nanoTime();      \ntimes[15] = System.nanoTime();      \ntimes[16] = System.nanoTime();      \ntimes[17] = System.nanoTime();      \ntimes[18] = System.nanoTime();      \ntimes[19] = System.nanoTime();      \n                                    \n                                    \nfor (int i = 0; i &lt; times.length; i+=2) {\n    System.out.println(times[i+1] - times[i]);\n}                                  \n</code></pre>\n<p>prints</p>\n<pre><code>200\n100\n100\n0\n0\n0\n0\n0\n0\n100\n</code></pre>\n"}],"owner":{"account_id":4093045,"reputation":237,"user_id":3360565,"accept_rate":45,"display_name":"Nayan Sonthalia"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1688499816,"creation_date":1688477483,"question_id":76613168,"body_markdown":"we are having a piece of code where we are using NanoClock to get the exact time. In a nut shell below is the code snippet of how i am generating the nano time and how we are converting to simple date format. the problem is, nono time (in some cases) is off by few seconds. so for eg, the system time is 12:23:**44**.125 the nano time will be 12:23:**56**.1234567.\r\n\r\n    public static Date getTimeStamp() {\r\n        final Clock clock = new NanoClock();\r\n        Instant instant = Instant.now(clock);\r\n        return Timestamp.from(instant);\r\n    }\r\n    \r\n    public static Date getTimeInMilis(Timestamp timestamp) throws ParseException {\r\n        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;);\r\n        String miliDate = dateFormat.format(timestamp);\r\n        return dateFormat.parse(miliDate);\r\n    }\r\n\r\nwe are using **NanoClock** as follows\r\n\r\n    public static final long NANOS_PER_SECOND = 1000000000;\r\n    \r\n    private static final long EPOCH_NANOS = System.currentTimeMillis() * 1000000;\r\n    private static final long NANO_START = System.nanoTime();\r\n    \r\n    final long now = System.nanoTime() - NANO_START + EPOCH_NANOS;\r\n    return Instant.ofEpochSecond(now / NANOS_PER_SECOND, now % NANOS_PER_SECOND);\r\n\r\nwe were running this code in production for over 5 years and it was always fine. it started giving this discrepancy since past 2 months.\r\nwe are using JAVA 8 update 71 (64 bits) and nothing has changed on the system with respect to JAVA or my code in past 4-5 months.","title":"Instant.now(new NanoClock()) returns incorrect time","body":"<p>we are having a piece of code where we are using NanoClock to get the exact time. In a nut shell below is the code snippet of how i am generating the nano time and how we are converting to simple date format. the problem is, nono time (in some cases) is off by few seconds. so for eg, the system time is 12:23:<strong>44</strong>.125 the nano time will be 12:23:<strong>56</strong>.1234567.</p>\n<pre><code>public static Date getTimeStamp() {\n    final Clock clock = new NanoClock();\n    Instant instant = Instant.now(clock);\n    return Timestamp.from(instant);\n}\n\npublic static Date getTimeInMilis(Timestamp timestamp) throws ParseException {\n    SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;);\n    String miliDate = dateFormat.format(timestamp);\n    return dateFormat.parse(miliDate);\n}\n</code></pre>\n<p>we are using <strong>NanoClock</strong> as follows</p>\n<pre><code>public static final long NANOS_PER_SECOND = 1000000000;\n\nprivate static final long EPOCH_NANOS = System.currentTimeMillis() * 1000000;\nprivate static final long NANO_START = System.nanoTime();\n\nfinal long now = System.nanoTime() - NANO_START + EPOCH_NANOS;\nreturn Instant.ofEpochSecond(now / NANOS_PER_SECOND, now % NANOS_PER_SECOND);\n</code></pre>\n<p>we were running this code in production for over 5 years and it was always fine. it started giving this discrepancy since past 2 months.\nwe are using JAVA 8 update 71 (64 bits) and nothing has changed on the system with respect to JAVA or my code in past 4-5 months.</p>\n"},{"tags":["java","spring-mvc","graphql"],"owner":{"account_id":13443994,"reputation":354,"user_id":9700478,"display_name":"GeekOverdose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688498123,"creation_date":1688497123,"question_id":76615272,"body_markdown":"I have a domain layer where I have models such as an abstract class `User` that is implemented by concrete classes `Client` and `Seller`, where `User` holds some common data and functionality but each of the concrete classes have their unique ones too.\r\n\r\nNow I could see a simple mapping strategy being used for example,\r\n\r\n`User` -&gt; `UserDto`\r\n\r\n`Client` -&gt; `ClientDto`\r\n\r\n`Seller` -&gt; `SellerDto`\r\n\r\nWhere `UserDto` only contains the fields declared in `User`, `ClientDto` only contains fields unique to `Client`, etc.\r\n\r\nHowever, I run into an issue when pairing this with a GraphQL resolver. If I have the following schema:\r\n```graphql\r\ntype Query {\r\n    getUser(id: ID!): User\r\n}\r\n\r\ninterface User {\r\n    id: ID!\r\n    email: String!\r\n}\r\n\r\ntype Client implements User {\r\n    id: ID!\r\n    email: String!\r\n    name: String!\r\n}\r\n\r\ntype Seller implements User {\r\n    id: ID!\r\n    email: String!\r\n    brand: String!\r\n}\r\n```\r\n\r\nAnd lets say I run the following query:\r\n```graphql\r\nquery {\r\n    getUser(&quot;A1B2C3&quot;) {\r\n        id\r\n        email\r\n        ... on Client {\r\n            name\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIf I were to return from, say, a `UserService.getUser(String id)` an object of type `UserDTO`, then it would not have the necessary information to respond adequately to the GraphQL request, even though the corresponding `User` object DID have that needed information, as it was in fact an instance of one of the concrete classes. How do I prevent this data loss from taking place, and represent polymorphic/inheritance-based entities effectively with DTOs?","title":"How should I represent inheritance+polymorphism with DTOs, when working with GraphQL?","body":"<p>I have a domain layer where I have models such as an abstract class <code>User</code> that is implemented by concrete classes <code>Client</code> and <code>Seller</code>, where <code>User</code> holds some common data and functionality but each of the concrete classes have their unique ones too.</p>\n<p>Now I could see a simple mapping strategy being used for example,</p>\n<p><code>User</code> -&gt; <code>UserDto</code></p>\n<p><code>Client</code> -&gt; <code>ClientDto</code></p>\n<p><code>Seller</code> -&gt; <code>SellerDto</code></p>\n<p>Where <code>UserDto</code> only contains the fields declared in <code>User</code>, <code>ClientDto</code> only contains fields unique to <code>Client</code>, etc.</p>\n<p>However, I run into an issue when pairing this with a GraphQL resolver. If I have the following schema:</p>\n<pre><code>type Query {\n    getUser(id: ID!): User\n}\n\ninterface User {\n    id: ID!\n    email: String!\n}\n\ntype Client implements User {\n    id: ID!\n    email: String!\n    name: String!\n}\n\ntype Seller implements User {\n    id: ID!\n    email: String!\n    brand: String!\n}\n</code></pre>\n<p>And lets say I run the following query:</p>\n<pre><code>query {\n    getUser(&quot;A1B2C3&quot;) {\n        id\n        email\n        ... on Client {\n            name\n        }\n    }\n}\n</code></pre>\n<p>If I were to return from, say, a <code>UserService.getUser(String id)</code> an object of type <code>UserDTO</code>, then it would not have the necessary information to respond adequately to the GraphQL request, even though the corresponding <code>User</code> object DID have that needed information, as it was in fact an instance of one of the concrete classes. How do I prevent this data loss from taking place, and represent polymorphic/inheritance-based entities effectively with DTOs?</p>\n"},{"tags":["java","swagger","swagger-ui","openapi","resteasy"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1688209074,"post_id":76594246,"comment_id":135045379,"body_markdown":"Old Swagger problem. Start with defaults, no custom URL. Did you raise Spring/Swagger log level to see if initialized? Add spring-boot-actuator to get all endpoints.","body":"Old Swagger problem. Start with defaults, no custom URL. Did you raise Spring/Swagger log level to see if initialized? Add spring-boot-actuator to get all endpoints."},{"owner":{"account_id":28929823,"reputation":11,"user_id":22158812,"display_name":"Involute"},"score":0,"creation_date":1688233664,"post_id":76594246,"comment_id":135047800,"body_markdown":"Its not a Spring project. Its a plain simple Java Maven Project with RESTeasy","body":"Its not a Spring project. Its a plain simple Java Maven Project with RESTeasy"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1688313525,"post_id":76594246,"comment_id":135054421,"body_markdown":"You need to use the -jakarta versions of the Swagger dependencies.","body":"You need to use the -jakarta versions of the Swagger dependencies."},{"owner":{"account_id":28929823,"reputation":11,"user_id":22158812,"display_name":"Involute"},"score":0,"creation_date":1688321635,"post_id":76594246,"comment_id":135055446,"body_markdown":"I swapped to the jakarta dependencies but its sadly still not working. I get the Error 404 from tomcat","body":"I swapped to the jakarta dependencies but its sadly still not working. I get the Error 404 from tomcat"}],"answers":[{"tags":[],"owner":{"account_id":28929823,"reputation":11,"user_id":22158812,"display_name":"Involute"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688498119,"creation_date":1688498119,"answer_id":76615354,"question_id":76594246,"body_markdown":"Ok i fixed it now. I needed to do the following things:\r\n\r\nIn my Application class:\r\n\r\n        classes.add(OpenApiResource.class);\r\n        classes.add(AcceptHeaderOpenApiResource.class);\r\nI needed to add those.\r\nI also deleted my openapi.yaml and instead used the initializer dependency. As mentioned above and kindly pointed out by @James R. Perkins i switched to the -jakarta dependencies.","title":"Adding Swagger to RESTeasy Java Application","body":"<p>Ok i fixed it now. I needed to do the following things:</p>\n<p>In my Application class:</p>\n<pre><code>    classes.add(OpenApiResource.class);\n    classes.add(AcceptHeaderOpenApiResource.class);\n</code></pre>\n<p>I needed to add those.\nI also deleted my openapi.yaml and instead used the initializer dependency. As mentioned above and kindly pointed out by @James R. Perkins i switched to the -jakarta dependencies.</p>\n"}],"owner":{"account_id":28929823,"reputation":11,"user_id":22158812,"display_name":"Involute"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76615354,"answer_count":1,"score":0,"last_activity_date":1688498119,"creation_date":1688206938,"question_id":76594246,"body_markdown":"I want to try to add Swagger to my RESTeasy Application. I tried to follow the [Documentation](https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Integration-and-configuration) but i cant reach the Endpoint of Swagger. All i get is an Error 404.\r\n\r\nMy tech Stack:\r\n- Tomcat 10.0.1\r\n- Java 17\r\n\r\nMy Goal:\r\n- I want to Access my nice API Documentation under http://localhost:8080/sample/openapi\r\n\r\n\r\n```\r\nopenapi: &quot;3.0.3&quot;\r\ninfo:\r\n  title: &quot;My API2&quot;\r\n  version: &quot;1.0&quot;\r\nservers:\r\n  - url: &quot;http://localhost:8080/&quot;\r\npaths:\r\n\r\n```\r\nopenapi.yaml in src/main/resources\r\n\r\n\r\n```\r\n@ApplicationPath(&quot;/api&quot;)\r\npublic class TimeToolRestApplication extends Application {\r\n    private Set&lt;Object&gt; singletons = new HashSet&lt;&gt;();\r\n    private static final Logger logger = LogManager.getLogger(TimeToolRestApplication.class);\r\n\r\n    public TimeToolRestApplication() {\r\n        singletons.add(new HealthController());\r\n    }\r\n\r\n    @Override\r\n    public Set&lt;Object&gt; getSingletons() {\r\n        return singletons;\r\n    }\r\n}\r\n```\r\nTimeToolRestApplication.java\r\n\r\n```\r\n@Path(&quot;/v1&quot;)\r\npublic class HealthController {\r\n\r\n    @GET\r\n    @Path(&quot;/health&quot;)\r\n    public Response healthcheck() {\r\n        return Response.ok().entity(true).build();\r\n    }\r\n}\r\n```\r\nHealthController.java\r\n\r\n```\r\n            &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;resteasy.version&gt;6.2.4.Final&lt;/resteasy.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        \r\n        &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.dataformat/jackson-dataformat-yaml --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-dataformat-yaml&lt;/artifactId&gt;\r\n            &lt;version&gt;2.15.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.15.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;resteasy-servlet-initializer&lt;/artifactId&gt;\r\n            &lt;version&gt;${resteasy.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;resteasy-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${resteasy.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.jboss.resteasy/resteasy-client --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;resteasy-client&lt;/artifactId&gt;\r\n            &lt;version&gt;${resteasy.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;resteasy-jaxb-provider&lt;/artifactId&gt;\r\n            &lt;version&gt;${resteasy.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n            &lt;artifactId&gt;swagger-jaxrs2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.14&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n            &lt;artifactId&gt;swagger-jaxrs2-servlet-initializer-v2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.14&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n            &lt;artifactId&gt;swagger-core-jakarta&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.14&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n``` \r\npom.xml\r\n\r\n\r\nI tried following the [Documentation](https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Getting-started) of Swagger. With and without the initializer. But nothing seemed to work","title":"Adding Swagger to RESTeasy Java Application","body":"<p>I want to try to add Swagger to my RESTeasy Application. I tried to follow the <a href=\"https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Integration-and-configuration\" rel=\"nofollow noreferrer\">Documentation</a> but i cant reach the Endpoint of Swagger. All i get is an Error 404.</p>\n<p>My tech Stack:</p>\n<ul>\n<li>Tomcat 10.0.1</li>\n<li>Java 17</li>\n</ul>\n<p>My Goal:</p>\n<ul>\n<li>I want to Access my nice API Documentation under http://localhost:8080/sample/openapi</li>\n</ul>\n<pre><code>openapi: &quot;3.0.3&quot;\ninfo:\n  title: &quot;My API2&quot;\n  version: &quot;1.0&quot;\nservers:\n  - url: &quot;http://localhost:8080/&quot;\npaths:\n\n</code></pre>\n<p>openapi.yaml in src/main/resources</p>\n<pre><code>@ApplicationPath(&quot;/api&quot;)\npublic class TimeToolRestApplication extends Application {\n    private Set&lt;Object&gt; singletons = new HashSet&lt;&gt;();\n    private static final Logger logger = LogManager.getLogger(TimeToolRestApplication.class);\n\n    public TimeToolRestApplication() {\n        singletons.add(new HealthController());\n    }\n\n    @Override\n    public Set&lt;Object&gt; getSingletons() {\n        return singletons;\n    }\n}\n</code></pre>\n<p>TimeToolRestApplication.java</p>\n<pre><code>@Path(&quot;/v1&quot;)\npublic class HealthController {\n\n    @GET\n    @Path(&quot;/health&quot;)\n    public Response healthcheck() {\n        return Response.ok().entity(true).build();\n    }\n}\n</code></pre>\n<p>HealthController.java</p>\n<pre><code>            &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;resteasy.version&gt;6.2.4.Final&lt;/resteasy.version&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.2&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n        \n        &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.dataformat/jackson-dataformat-yaml --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-dataformat-yaml&lt;/artifactId&gt;\n            &lt;version&gt;2.15.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.15.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n            &lt;artifactId&gt;resteasy-servlet-initializer&lt;/artifactId&gt;\n            &lt;version&gt;${resteasy.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n            &lt;artifactId&gt;resteasy-core&lt;/artifactId&gt;\n            &lt;version&gt;${resteasy.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.jboss.resteasy/resteasy-client --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n            &lt;artifactId&gt;resteasy-client&lt;/artifactId&gt;\n            &lt;version&gt;${resteasy.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n            &lt;artifactId&gt;resteasy-jaxb-provider&lt;/artifactId&gt;\n            &lt;version&gt;${resteasy.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-jaxrs2&lt;/artifactId&gt;\n            &lt;version&gt;2.2.14&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-jaxrs2-servlet-initializer-v2&lt;/artifactId&gt;\n            &lt;version&gt;2.2.14&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-core-jakarta&lt;/artifactId&gt;\n            &lt;version&gt;2.2.14&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>pom.xml</p>\n<p>I tried following the <a href=\"https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Getting-started\" rel=\"nofollow noreferrer\">Documentation</a> of Swagger. With and without the initializer. But nothing seemed to work</p>\n"},{"tags":["java","multithreading","kubernetes"],"answers":[{"tags":[],"owner":{"account_id":28813538,"reputation":716,"user_id":22067717,"display_name":"Ray John Navarro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688497306,"creation_date":1688497306,"answer_id":76615281,"question_id":76574866,"body_markdown":"The number of threads in the common pool is equal to the number of available processors (cores) returned by `Runtime.getRuntime().availableProcessors().`\r\nRemember when your service runs in a Kubernetes pod, the JVM is unaware of the CPU limits you&#39;ve set in the pod spec. The JVM sees the number of cores available on the underlying node that it&#39;s running on and not the limit set in the pod spec. This will result in  `availableProcessors()` returning the number of cores available on the node.\r\n\r\nExample,  if you set a CPU limit for the pod that&#39;s less than 1 CPU, e.g 0.8m CPU (which is equivalent to 0.0008 of a CPU core, since the m stands for milliCPU units), your service may end up creating more threads than there are CPUs available within the limit you&#39;ve set. It&#39;s also important to note that while setting a CPU limit, 0.8m is 0.0008 of a CPU core, not 0.8 of a CPU core. \r\n\r\nAttached are resource materials related to this that are helpful for your use case. [1] [2]\r\n\r\n[1] https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/\r\n\r\n[2] https://developers.redhat.com/blog/2017/04/04/openjdk-and-containers\r\n","title":"Java number of threads in parallel streams in Kubernetes","body":"<p>The number of threads in the common pool is equal to the number of available processors (cores) returned by <code>Runtime.getRuntime().availableProcessors().</code>\nRemember when your service runs in a Kubernetes pod, the JVM is unaware of the CPU limits you've set in the pod spec. The JVM sees the number of cores available on the underlying node that it's running on and not the limit set in the pod spec. This will result in  <code>availableProcessors()</code> returning the number of cores available on the node.</p>\n<p>Example,  if you set a CPU limit for the pod that's less than 1 CPU, e.g 0.8m CPU (which is equivalent to 0.0008 of a CPU core, since the m stands for milliCPU units), your service may end up creating more threads than there are CPUs available within the limit you've set. It's also important to note that while setting a CPU limit, 0.8m is 0.0008 of a CPU core, not 0.8 of a CPU core.</p>\n<p>Attached are resource materials related to this that are helpful for your use case. [1] [2]</p>\n<p>[1] <a href=\"https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/\" rel=\"nofollow noreferrer\">https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/</a></p>\n<p>[2] <a href=\"https://developers.redhat.com/blog/2017/04/04/openjdk-and-containers\" rel=\"nofollow noreferrer\">https://developers.redhat.com/blog/2017/04/04/openjdk-and-containers</a></p>\n"}],"owner":{"account_id":14805606,"reputation":523,"user_id":10692677,"display_name":"PavlMits"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688497306,"creation_date":1687967823,"question_id":76574866,"body_markdown":"I have a Java service deployed in Kubernetes, and it uses parallel streams for concurrent processing. I [read][1] that the number of threads that spawed is being determined by the number of cores that the machine has in the parallel streams. If my Kubernetes configuration for cpu is 0.8m limit (0.8 milliCPU), how many threads will be spawed? I&#39;m trying to understand the behavior of parallel streams in terms of thread usage in this constrained environment.\r\n\r\nBased on the allocated CPU resources, I suspect that the number of threads spawned by the parallel streams (ForkJoinPool) will be 0-1. However, I&#39;m unsure about the exact number of threads being utilized in this scenario. Is by any chance considers the node cores?\r\n\r\nCan someone explain how many threads will be spawned by parallel streams in Java when the service is deployed in Kubernetes with e.g. 0.8m CPU? Additionally, any insights into the factors that may influence the number of threads in such an environment would be greatly appreciated.\r\n\r\nThank you in advance for your help!\r\n\r\n\r\n  [1]: https://java2blog.com/java-8-parallel-stream/#:~:text=Parallel%20Stream%20takes%20the%20benefits%20of%20all%20available%20CPU%20cores%20and%20processes%20the%20tasks%20in%20parallel.%20If%20number%20of%20tasks%20exceeds%20the%20number%20of%20cores%2C%20then%20remaining%20tasks%20wait%20for%20currently%20running%20task%20to%20complete.","title":"Java number of threads in parallel streams in Kubernetes","body":"<p>I have a Java service deployed in Kubernetes, and it uses parallel streams for concurrent processing. I <a href=\"https://java2blog.com/java-8-parallel-stream/#:%7E:text=Parallel%20Stream%20takes%20the%20benefits%20of%20all%20available%20CPU%20cores%20and%20processes%20the%20tasks%20in%20parallel.%20If%20number%20of%20tasks%20exceeds%20the%20number%20of%20cores%2C%20then%20remaining%20tasks%20wait%20for%20currently%20running%20task%20to%20complete.\" rel=\"nofollow noreferrer\">read</a> that the number of threads that spawed is being determined by the number of cores that the machine has in the parallel streams. If my Kubernetes configuration for cpu is 0.8m limit (0.8 milliCPU), how many threads will be spawed? I'm trying to understand the behavior of parallel streams in terms of thread usage in this constrained environment.</p>\n<p>Based on the allocated CPU resources, I suspect that the number of threads spawned by the parallel streams (ForkJoinPool) will be 0-1. However, I'm unsure about the exact number of threads being utilized in this scenario. Is by any chance considers the node cores?</p>\n<p>Can someone explain how many threads will be spawned by parallel streams in Java when the service is deployed in Kubernetes with e.g. 0.8m CPU? Additionally, any insights into the factors that may influence the number of threads in such an environment would be greatly appreciated.</p>\n<p>Thank you in advance for your help!</p>\n"},{"tags":["java","jackson"],"answers":[{"comments":[{"owner":{"account_id":2067155,"reputation":451,"user_id":1842456,"accept_rate":80,"display_name":"P. Hoang"},"score":0,"creation_date":1688498104,"post_id":76615264,"comment_id":135081079,"body_markdown":"I am not aware of this. Is it possible to provide custom deserializer in addition with the `JsonAlias`? I also need to do a bit of conversion from the old field names to the new field names.","body":"I am not aware of this. Is it possible to provide custom deserializer in addition with the <code>JsonAlias</code>? I also need to do a bit of conversion from the old field names to the new field names."},{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1688499022,"post_id":76615264,"comment_id":135081185,"body_markdown":"Sure, you can add `@JsonDeserialize(using = NewFieldDeserializer.class)`, NewFieldDeserializer should extend `StdDeserializer&lt;NewField&gt;` and in deserialize implementation add any of your conversions","body":"Sure, you can add <code>@JsonDeserialize(using = NewFieldDeserializer.class)</code>, NewFieldDeserializer should extend <code>StdDeserializer&lt;NewField&gt;</code> and in deserialize implementation add any of your conversions"},{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1688499206,"post_id":76615264,"comment_id":135081205,"body_markdown":"but, since JsonDeserialize will take precedence over JsonAlias, there is little sense to use both.","body":"but, since JsonDeserialize will take precedence over JsonAlias, there is little sense to use both."},{"owner":{"account_id":2067155,"reputation":451,"user_id":1842456,"accept_rate":80,"display_name":"P. Hoang"},"score":0,"creation_date":1688504311,"post_id":76615264,"comment_id":135081859,"body_markdown":"Your solution works for me. I will mark this as `answered`.","body":"Your solution works for me. I will mark this as <code>answered</code>."}],"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688497028,"creation_date":1688497028,"answer_id":76615264,"question_id":76615112,"body_markdown":"You should be able to do it with `@JsonAlias`\r\n\r\n    class DataModel {\r\n      // Some other fields are not shown\r\n      @JsonAlias(&quot;oldField&quot;)\r\n      NewField newField;\r\n    }\r\n    \r\n    class NewField {\r\n      String foo;\r\n    }","title":"Jackson custom deserializer for a field while using default deserializer for the rest of the fields?","body":"<p>You should be able to do it with <code>@JsonAlias</code></p>\n<pre><code>class DataModel {\n  // Some other fields are not shown\n  @JsonAlias(&quot;oldField&quot;)\n  NewField newField;\n}\n\nclass NewField {\n  String foo;\n}\n</code></pre>\n"}],"owner":{"account_id":2067155,"reputation":451,"user_id":1842456,"accept_rate":80,"display_name":"P. Hoang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76615264,"answer_count":1,"score":0,"last_activity_date":1688497028,"creation_date":1688495386,"question_id":76615112,"body_markdown":"I need to deserialize a JSON that has a field into another field. \r\n\r\nFor example, here is the JSON where I want the property `oldField` to be deserialized into the field `newField` in the `DataModel`. \r\n```json\r\n{\r\n   // Some other fields are not shown\r\n   &quot;oldField&quot;: {\r\n       &quot;foo&quot;: &quot;Some value&quot;\r\n   }\r\n}\r\n```\r\n\r\n```java\r\nclass DataModel {\r\n  // Some other fields are not shown\r\n  NewField newField;\r\n}\r\n\r\nclass NewField {\r\n  String foo;\r\n}\r\n```\r\n\r\nThe reason is because the JSON was deserialized from an old data model that has been changed, i.e. `oldField` being renamed to `newField` in the `DataModel` class. I can write a custom deserializer for `DataModel` class but it means I have to manually deserialize all other fields in addition to the `newField`. \r\n\r\nIs there a way that I can only provide the custom deserialize for the field I am interested in while leaving other things to the default deserializer provided by Jackson?","title":"Jackson custom deserializer for a field while using default deserializer for the rest of the fields?","body":"<p>I need to deserialize a JSON that has a field into another field.</p>\n<p>For example, here is the JSON where I want the property <code>oldField</code> to be deserialized into the field <code>newField</code> in the <code>DataModel</code>.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   // Some other fields are not shown\n   &quot;oldField&quot;: {\n       &quot;foo&quot;: &quot;Some value&quot;\n   }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class DataModel {\n  // Some other fields are not shown\n  NewField newField;\n}\n\nclass NewField {\n  String foo;\n}\n</code></pre>\n<p>The reason is because the JSON was deserialized from an old data model that has been changed, i.e. <code>oldField</code> being renamed to <code>newField</code> in the <code>DataModel</code> class. I can write a custom deserializer for <code>DataModel</code> class but it means I have to manually deserialize all other fields in addition to the <code>newField</code>.</p>\n<p>Is there a way that I can only provide the custom deserialize for the field I am interested in while leaving other things to the default deserializer provided by Jackson?</p>\n"},{"tags":["java","quarkus","slack-api","microprofile"],"answers":[{"tags":[],"owner":{"account_id":18090204,"reputation":1,"user_id":21298789,"display_name":"Fernando Gabriel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688497023,"creation_date":1688497023,"answer_id":76615263,"question_id":76613579,"body_markdown":"I could solve it by leaving it like this\r\n\r\n    @RegisterRestClient(configKey = &quot;open-co.scd.integration.slack.api.scd-report-file&quot;)\r\n    @RegisterProvider(BaseExceptionMapper.class)\r\n    @RegisterProvider(MultipartFormDataWriter.class)\r\n    public interface SCDReportFileUploadClient {\r\n    \r\n      @POST\r\n      @Consumes(MediaType.MULTIPART_FORM_DATA)\r\n      @Produces(MediaType.TEXT_PLAIN)\r\n      Response sendFileUpload(\r\n          @MultipartForm SlackReportFileUploadRequest requestBody,\r\n          @HeaderParam(&quot;Authorization&quot;) String token);\r\n    }\r\n\r\nand\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class SlackReportFileUploadRequest {\r\n    \r\n      @FormParam(&quot;content&quot;)\r\n      @PartType(MediaType.APPLICATION_OCTET_STREAM)\r\n      private InputStream content;\r\n    \r\n      @FormParam(&quot;channels&quot;)\r\n      @PartType(MediaType.TEXT_PLAIN)\r\n      private String channels;\r\n    \r\n      @FormParam(&quot;title&quot;)\r\n      @PartType(MediaType.TEXT_PLAIN)\r\n      private String fileName;\r\n    }","title":"Slack-Api File Upload - Error No_File_Data","body":"<p>I could solve it by leaving it like this</p>\n<pre><code>@RegisterRestClient(configKey = &quot;open-co.scd.integration.slack.api.scd-report-file&quot;)\n@RegisterProvider(BaseExceptionMapper.class)\n@RegisterProvider(MultipartFormDataWriter.class)\npublic interface SCDReportFileUploadClient {\n\n  @POST\n  @Consumes(MediaType.MULTIPART_FORM_DATA)\n  @Produces(MediaType.TEXT_PLAIN)\n  Response sendFileUpload(\n      @MultipartForm SlackReportFileUploadRequest requestBody,\n      @HeaderParam(&quot;Authorization&quot;) String token);\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class SlackReportFileUploadRequest {\n\n  @FormParam(&quot;content&quot;)\n  @PartType(MediaType.APPLICATION_OCTET_STREAM)\n  private InputStream content;\n\n  @FormParam(&quot;channels&quot;)\n  @PartType(MediaType.TEXT_PLAIN)\n  private String channels;\n\n  @FormParam(&quot;title&quot;)\n  @PartType(MediaType.TEXT_PLAIN)\n  private String fileName;\n}\n</code></pre>\n"}],"owner":{"account_id":18090204,"reputation":1,"user_id":21298789,"display_name":"Fernando Gabriel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688497023,"creation_date":1688480385,"question_id":76613579,"body_markdown":"I created a call to slack&#39;s api, but I&#39;m getting no_file_data error, I&#39;ve tested my file and it is being generated, I&#39;ve sent it with filename in multiform, with filetype, but the error persists\r\n\r\n\r\n\r\nCLASSE MICROPOFILE (client):\r\n```\r\n@Path(&quot;/slack&quot;)\r\n@RegisterRestClient(configKey = &quot;open-co.scd.integration.slack.api.scd-report-file&quot;)\r\n@RegisterProvider(BaseExceptionMapper.class)\r\npublic interface SCDReportFileUploadClient {\r\n\r\n  @POST\r\n  @Path(&quot;/files.upload&quot;)\r\n  @Consumes(MediaType.MULTIPART_FORM_DATA)\r\n  @Produces(MediaType.APPLICATION_JSON)\r\n  Response sendFileUpload(\r\n      @MultipartForm SlackReportFileUploadRequest requestBody,\r\n      @HeaderParam(&quot;Authorization&quot;) String token);\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nCLASSE DO FORM:\r\n```\r\npublic class SlackReportFileUploadRequest {\r\n\r\n  @FormParam(&quot;file&quot;)\r\n  @PartType(MediaType.APPLICATION_OCTET_STREAM)\r\n  private InputStream file;\r\n\r\n  @FormParam(&quot;channels&quot;)\r\n  @PartType(MediaType.TEXT_PLAIN)\r\n  private String channels;\r\n\r\n  @FormParam(&quot;filename&quot;)\r\n  private String fileName;\r\n\r\n  @FormParam(&quot;filetype&quot;)\r\n  private String fileType = &quot;text&quot;;\r\n\r\n  public SlackReportFileUploadRequest() {}\r\n\r\n  public SlackReportFileUploadRequest(\r\n      InputStream file, String channels, String fileName, String fileType) {\r\n    this.file = file;\r\n    this.channels = channels;\r\n    this.fileName = fileName;\r\n    this.fileType = fileType;\r\n  }\r\n\r\n  public InputStream getFile() {\r\n    return file;\r\n  }\r\n\r\n  public void setFile(InputStream file) {\r\n    this.file = file;\r\n  }\r\n\r\n  public String getChannels() {\r\n    return channels;\r\n  }\r\n\r\n  public void setChannels(String channels) {\r\n    this.channels = channels;\r\n  }\r\n\r\n  public String getFileName() {\r\n    return fileName;\r\n  }\r\n\r\n  public void setFileName(String fileName) {\r\n    this.fileName = fileName;\r\n  }\r\n\r\n  public String getFileType() {\r\n    return fileType;\r\n  }\r\n\r\n  public void setFileType(String fileType) {\r\n    this.fileType = fileType;\r\n  }\r\n}\r\n\r\n```\r\n\r\n\r\nCLASSE REQUEST:\r\n\r\n```\r\n.\r\n.\r\n.\r\n  public Response sendFileReport(byte[] content, String fileName) throws IOException {\r\n    return fileUploadClient.sendFileUpload(requestBodySendFile(content, fileName, channels), token);\r\n  }\r\n\r\n\r\n  private SlackReportFileUploadRequest requestBodySendFile(\r\n      byte[] content, String fileName, String channels) throws IOException {\r\n\r\n    SlackReportFileUploadRequest buildForm = new SlackReportFileUploadRequest();\r\n    buildForm.setFile(new ByteArrayInputStream(content));\r\n    buildForm.setChannels(channels);\r\n    buildForm.setFileName(fileName);\r\n\r\n    return buildForm;\r\n  }\r\n.\r\n.\r\n.\r\n```\r\n\r\nI need a generalist class that I can send files like .txt and .csv","title":"Slack-Api File Upload - Error No_File_Data","body":"<p>I created a call to slack's api, but I'm getting no_file_data error, I've tested my file and it is being generated, I've sent it with filename in multiform, with filetype, but the error persists</p>\n<p>CLASSE MICROPOFILE (client):</p>\n<pre><code>@Path(&quot;/slack&quot;)\n@RegisterRestClient(configKey = &quot;open-co.scd.integration.slack.api.scd-report-file&quot;)\n@RegisterProvider(BaseExceptionMapper.class)\npublic interface SCDReportFileUploadClient {\n\n  @POST\n  @Path(&quot;/files.upload&quot;)\n  @Consumes(MediaType.MULTIPART_FORM_DATA)\n  @Produces(MediaType.APPLICATION_JSON)\n  Response sendFileUpload(\n      @MultipartForm SlackReportFileUploadRequest requestBody,\n      @HeaderParam(&quot;Authorization&quot;) String token);\n}\n</code></pre>\n<p>CLASSE DO FORM:</p>\n<pre><code>public class SlackReportFileUploadRequest {\n\n  @FormParam(&quot;file&quot;)\n  @PartType(MediaType.APPLICATION_OCTET_STREAM)\n  private InputStream file;\n\n  @FormParam(&quot;channels&quot;)\n  @PartType(MediaType.TEXT_PLAIN)\n  private String channels;\n\n  @FormParam(&quot;filename&quot;)\n  private String fileName;\n\n  @FormParam(&quot;filetype&quot;)\n  private String fileType = &quot;text&quot;;\n\n  public SlackReportFileUploadRequest() {}\n\n  public SlackReportFileUploadRequest(\n      InputStream file, String channels, String fileName, String fileType) {\n    this.file = file;\n    this.channels = channels;\n    this.fileName = fileName;\n    this.fileType = fileType;\n  }\n\n  public InputStream getFile() {\n    return file;\n  }\n\n  public void setFile(InputStream file) {\n    this.file = file;\n  }\n\n  public String getChannels() {\n    return channels;\n  }\n\n  public void setChannels(String channels) {\n    this.channels = channels;\n  }\n\n  public String getFileName() {\n    return fileName;\n  }\n\n  public void setFileName(String fileName) {\n    this.fileName = fileName;\n  }\n\n  public String getFileType() {\n    return fileType;\n  }\n\n  public void setFileType(String fileType) {\n    this.fileType = fileType;\n  }\n}\n\n</code></pre>\n<p>CLASSE REQUEST:</p>\n<pre><code>.\n.\n.\n  public Response sendFileReport(byte[] content, String fileName) throws IOException {\n    return fileUploadClient.sendFileUpload(requestBodySendFile(content, fileName, channels), token);\n  }\n\n\n  private SlackReportFileUploadRequest requestBodySendFile(\n      byte[] content, String fileName, String channels) throws IOException {\n\n    SlackReportFileUploadRequest buildForm = new SlackReportFileUploadRequest();\n    buildForm.setFile(new ByteArrayInputStream(content));\n    buildForm.setChannels(channels);\n    buildForm.setFileName(fileName);\n\n    return buildForm;\n  }\n.\n.\n.\n</code></pre>\n<p>I need a generalist class that I can send files like .txt and .csv</p>\n"},{"tags":["javascript","java","post","servlets","tomcat9"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1688494733,"post_id":76614899,"comment_id":135080609,"body_markdown":"Since user and password are usually sent in a header called &quot;Authorization&quot;, how exactly do you send the request? Can you add this to the question please?","body":"Since user and password are usually sent in a header called &quot;Authorization&quot;, how exactly do you send the request? Can you add this to the question please?"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1688544668,"post_id":76614899,"comment_id":135085911,"body_markdown":"OK, my question was not precise enough - What I wanted to find out effectively was the content of the actual HTTP  call (without the form you use, it&#39;s hard to tell). Can you record one in your browser, anonymize it and add it to the question please? Including request headers and request body. Response is not of interest for now.","body":"OK, my question was not precise enough - What I wanted to find out effectively was the content of the actual HTTP  call (without the form you use, it&#39;s hard to tell). Can you record one in your browser, anonymize it and add it to the question please? Including request headers and request body. Response is not of interest for now."}],"owner":{"account_id":23246438,"reputation":29,"user_id":17334973,"display_name":"Proth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688496926,"creation_date":1688492924,"question_id":76614899,"body_markdown":"I can&#39;t understand why in my servlet on my tomcat server, i can print out the parameters taken from a request but when check `user == null || user.isEmpty()` it gives me `true`.\r\nThis is the code for the servlet class.\r\n``` lang-java\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\n\r\nimport javax.servlet.ServletContext;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.annotation.MultipartConfig;\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\n@WebServlet(&quot;/Login&quot;)\r\n@MultipartConfig\r\npublic class login extends HttpServlet {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tprivate Connection conn = null;\r\n\t\r\n\tpublic void init() {\r\n\t\tServletContext ctx = getServletContext();\r\n\t\t\r\n\t\tfinal String DB_URL = ctx.getInitParameter(&quot;dbUrl&quot;);\r\n\t\tfinal String USER = ctx.getInitParameter(&quot;dbUser&quot;);\r\n\t\tfinal String PASS = ctx.getInitParameter(&quot;dbPass&quot;);\r\n\t\tfinal String DRIVER = ctx.getInitParameter(&quot;dbDriver&quot;);\r\n\t\t\r\n\t\ttry {\r\n\t\t\tClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\t\t\tconn = DriverManager.getConnection(DB_URL, USER, PASS);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\tdoPost(request, response);\r\n\t\t\r\n\t}\r\n\r\n\tprotected void doPost(HttpServletRequest request, HttpServletResponse response)\r\n\t\t\tthrows ServletException, IOException {\r\n\t\tString user = request.getParameter(&quot;username&quot;);\r\n\t\tString password = request.getParameter(&quot;password&quot;);\r\n\t\t\r\n\t\tif(user == null || password == null || user.isEmpty() || password.isEmpty()) response.getWriter().write(&quot;missing fields&quot;);\r\n\t}\r\n\t\r\n\tpublic void destroy() {\r\n\t\ttry {\r\n\t\t\tconn.close();\r\n\t\t} catch (SQLException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\r\n}\r\n```\r\n\r\nI use javascript XMLHttpRequest to send the post request, and the formdata which contains the parameters.\r\n\r\nTo sends the form i use:\r\n```\r\n{\r\n\tdocument.getElementById(&quot;loginbutton&quot;).addEventListener(&quot;click&quot;, (e)=&gt;{\r\n\t\tconst formd = document.getElementById(&quot;login_form&quot;);\r\n\t\t\r\n\t\tmakeCall(&quot;POST&quot;, &quot;Login&quot;, formd, (request) =&gt; {\r\n\t\t\tif(request.readyState == 4 &amp;&amp; request.status == 200){\r\n\t\t\t\tconsole.log(&quot;Cioa&quot;);\r\n\t\t\t}\r\n\t\t}, null, false);\r\n\t});\r\n}\r\n```\r\nas the caller of the function\r\nand: \r\n```\r\nfunction makeCall(method, url, formElement, callBack , objectToSend , reset = true) {\r\n    let request = new XMLHttpRequest();\r\n    request.onreadystatechange = function() {\r\n        callBack(request);\r\n    };\r\n\r\n    request.open(method, url);\r\n\r\n    if (formElement == null &amp;&amp; objectToSend == null) {\r\n        request.send();\r\n    } else if(formElement != null){\r\n    \t//Send the form\r\n        request.send(new FormData(formElement));\r\n    } else {\r\n\t\t//Send the object\r\n        let toSend = JSON.stringify(objectToSend);\r\n        request.send(toSend);\r\n    }\r\n\r\n    //If there is a form and reset is true -&gt; reset the fields of the form\r\n    if (formElement !== null &amp;&amp; reset === true) {\r\n        formElement.reset();\r\n    }\r\n}\r\n```","title":"HttpServletRequest parameters empty","body":"<p>I can't understand why in my servlet on my tomcat server, i can print out the parameters taken from a request but when check <code>user == null || user.isEmpty()</code> it gives me <code>true</code>.\nThis is the code for the servlet class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.io.PrintWriter;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\n\nimport javax.servlet.ServletContext;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.MultipartConfig;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n@WebServlet(&quot;/Login&quot;)\n@MultipartConfig\npublic class login extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n    private Connection conn = null;\n    \n    public void init() {\n        ServletContext ctx = getServletContext();\n        \n        final String DB_URL = ctx.getInitParameter(&quot;dbUrl&quot;);\n        final String USER = ctx.getInitParameter(&quot;dbUser&quot;);\n        final String PASS = ctx.getInitParameter(&quot;dbPass&quot;);\n        final String DRIVER = ctx.getInitParameter(&quot;dbDriver&quot;);\n        \n        try {\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            conn = DriverManager.getConnection(DB_URL, USER, PASS);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        doPost(request, response);\n        \n    }\n\n    protected void doPost(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        String user = request.getParameter(&quot;username&quot;);\n        String password = request.getParameter(&quot;password&quot;);\n        \n        if(user == null || password == null || user.isEmpty() || password.isEmpty()) response.getWriter().write(&quot;missing fields&quot;);\n    }\n    \n    public void destroy() {\n        try {\n            conn.close();\n        } catch (SQLException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n    \n\n}\n</code></pre>\n<p>I use javascript XMLHttpRequest to send the post request, and the formdata which contains the parameters.</p>\n<p>To sends the form i use:</p>\n<pre><code>{\n    document.getElementById(&quot;loginbutton&quot;).addEventListener(&quot;click&quot;, (e)=&gt;{\n        const formd = document.getElementById(&quot;login_form&quot;);\n        \n        makeCall(&quot;POST&quot;, &quot;Login&quot;, formd, (request) =&gt; {\n            if(request.readyState == 4 &amp;&amp; request.status == 200){\n                console.log(&quot;Cioa&quot;);\n            }\n        }, null, false);\n    });\n}\n</code></pre>\n<p>as the caller of the function\nand:</p>\n<pre><code>function makeCall(method, url, formElement, callBack , objectToSend , reset = true) {\n    let request = new XMLHttpRequest();\n    request.onreadystatechange = function() {\n        callBack(request);\n    };\n\n    request.open(method, url);\n\n    if (formElement == null &amp;&amp; objectToSend == null) {\n        request.send();\n    } else if(formElement != null){\n        //Send the form\n        request.send(new FormData(formElement));\n    } else {\n        //Send the object\n        let toSend = JSON.stringify(objectToSend);\n        request.send(toSend);\n    }\n\n    //If there is a form and reset is true -&gt; reset the fields of the form\n    if (formElement !== null &amp;&amp; reset === true) {\n        formElement.reset();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","postgresql","hibernate"],"comments":[{"owner":{"display_name":"user18473608"},"score":0,"creation_date":1688511758,"post_id":76615233,"comment_id":135082667,"body_markdown":"Try to use indexed parameters instead of named parameters. I mean, change `:number` for `?1` in your SQL query.","body":"Try to use indexed parameters instead of named parameters. I mean, change <code>:number</code> for <code>?1</code> in your SQL query."},{"owner":{"account_id":28763882,"reputation":11,"user_id":22029203,"display_name":"Sergey"},"score":0,"creation_date":1688533639,"post_id":76615233,"comment_id":135084215,"body_markdown":"Unfortunately, the error is the same: No Dialect mapping for JDBC type: 1111; nested exception is org.hibernate.MappingException: No Dialect mapping for JDBC type: 1111","body":"Unfortunately, the error is the same: No Dialect mapping for JDBC type: 1111; nested exception is org.hibernate.MappingException: No Dialect mapping for JDBC type: 1111"},{"owner":{"display_name":"user18473608"},"score":0,"creation_date":1688538694,"post_id":76615233,"comment_id":135084777,"body_markdown":"Is Social class an entity class (`@Entity`) ?","body":"Is Social class an entity class (<code>@Entity</code>) ?"}],"owner":{"account_id":28763882,"reputation":11,"user_id":22029203,"display_name":"Sergey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688496830,"creation_date":1688496744,"question_id":76615233,"body_markdown":"In short, I have Hibernate, Spring, PostgreSQL and entity:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;accounts&quot;)\r\n@DynamicUpdate\r\n@TypeDefs({\r\n        @TypeDef(name = &quot;json&quot;, typeClass = JsonStringType.class),\r\n        @TypeDef(name = &quot;jsonb&quot;, typeClass = JsonBinaryType.class)\r\n})\r\npublic class Account {\r\n    @Id\r\n    @GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;uuid2&quot;)\r\n    @GeneratedValue(generator = &quot;uuid&quot;)\r\n    @Column(unique = true, nullable = false)\r\n    @Type(type = &quot;pg-uuid&quot;)\r\n    private UUID id;\r\n\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Generated(GenerationTime.INSERT)\r\n    @Column(unique = true, nullable = false, insertable = false, updatable = false)\r\n    private Integer number;\r\n\r\n    @Type(type = &quot;jsonb&quot;)\r\n    @Column(columnDefinition = &quot;jsonb&quot;)\r\n    private Information information;\r\n\r\n    @Type(type = &quot;jsonb&quot;)\r\n    @Column(columnDefinition = &quot;jsonb&quot;)\r\n    private Social social;\r\n}\r\n```\r\n\r\nQueries of this kind work fine:\r\n\r\n```\r\nAccount findByNumber(Integer number);\r\n```\r\n\r\nI need to make a request of this kind:\r\n\r\n```\r\n@Query(value = &quot;select social from accounts where number = :number&quot;, nativeQuery = true)\r\nSocial findSocialByNumber(@Param(&quot;number&quot;) int number);\r\n```\r\n\r\nWhen executing the query written above, I get an error:\r\n`No Dialect mapping for JDBC type: 1111; nested exception is org.hibernate.MappingException: No Dialect mapping for JDBC type: 1111`\r\n\r\nSocial class:\r\n\r\n```\r\npublic class Social {\r\n    private Friends friends;\r\n    private Mail mail;\r\n\r\n    public Friends getFriends() {\r\n        return friends;\r\n    }\r\n\r\n    public void setFriends(Friends friends) {\r\n        this.friends = friends;\r\n    }\r\n\r\n    public Mail getMail() {\r\n        return mail;\r\n    }\r\n\r\n    public void setMail(Mail mail) {\r\n        this.mail = mail;\r\n    }\r\n}\r\n```\r\n\r\nI tried a bunch of annotations in different quantities and combinations, but I couldn&#39;t get the Social object. How can I get a Social object by querying the database?","title":"Get the jsonb entity field","body":"<p>In short, I have Hibernate, Spring, PostgreSQL and entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;accounts&quot;)\n@DynamicUpdate\n@TypeDefs({\n        @TypeDef(name = &quot;json&quot;, typeClass = JsonStringType.class),\n        @TypeDef(name = &quot;jsonb&quot;, typeClass = JsonBinaryType.class)\n})\npublic class Account {\n    @Id\n    @GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;uuid2&quot;)\n    @GeneratedValue(generator = &quot;uuid&quot;)\n    @Column(unique = true, nullable = false)\n    @Type(type = &quot;pg-uuid&quot;)\n    private UUID id;\n\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Generated(GenerationTime.INSERT)\n    @Column(unique = true, nullable = false, insertable = false, updatable = false)\n    private Integer number;\n\n    @Type(type = &quot;jsonb&quot;)\n    @Column(columnDefinition = &quot;jsonb&quot;)\n    private Information information;\n\n    @Type(type = &quot;jsonb&quot;)\n    @Column(columnDefinition = &quot;jsonb&quot;)\n    private Social social;\n}\n</code></pre>\n<p>Queries of this kind work fine:</p>\n<pre><code>Account findByNumber(Integer number);\n</code></pre>\n<p>I need to make a request of this kind:</p>\n<pre><code>@Query(value = &quot;select social from accounts where number = :number&quot;, nativeQuery = true)\nSocial findSocialByNumber(@Param(&quot;number&quot;) int number);\n</code></pre>\n<p>When executing the query written above, I get an error:\n<code>No Dialect mapping for JDBC type: 1111; nested exception is org.hibernate.MappingException: No Dialect mapping for JDBC type: 1111</code></p>\n<p>Social class:</p>\n<pre><code>public class Social {\n    private Friends friends;\n    private Mail mail;\n\n    public Friends getFriends() {\n        return friends;\n    }\n\n    public void setFriends(Friends friends) {\n        this.friends = friends;\n    }\n\n    public Mail getMail() {\n        return mail;\n    }\n\n    public void setMail(Mail mail) {\n        this.mail = mail;\n    }\n}\n</code></pre>\n<p>I tried a bunch of annotations in different quantities and combinations, but I couldn't get the Social object. How can I get a Social object by querying the database?</p>\n"},{"tags":["java","postman","moodle","moodle-api","moodle-mobile"],"owner":{"account_id":28950682,"reputation":1,"user_id":22175361,"display_name":"Smiley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688496800,"creation_date":1688496800,"question_id":76615237,"body_markdown":"Retrieve all questions just created by user (that are not replied = without any attempt) is what I&#39;m looking for.\r\n\r\n\r\nIt&#39;s possible to retrieve the different attempts of a question (already replied = with attempts) through **mod_quiz_get_user_attempts**, but it isn&#39;t possible with questions without any reply or attempt.\r\n\r\nBasing on [Moodle Documentation](https://docs.moodle.org/dev/Web_service_API_functions), I didn&#39;t found the right function.\r\nAny suggestion will be appreciated and thanks in advance.","title":"API to Retrieve created questions without any attempt from Moodle","body":"<p>Retrieve all questions just created by user (that are not replied = without any attempt) is what I'm looking for.</p>\n<p>It's possible to retrieve the different attempts of a question (already replied = with attempts) through <strong>mod_quiz_get_user_attempts</strong>, but it isn't possible with questions without any reply or attempt.</p>\n<p>Basing on <a href=\"https://docs.moodle.org/dev/Web_service_API_functions\" rel=\"nofollow noreferrer\">Moodle Documentation</a>, I didn't found the right function.\nAny suggestion will be appreciated and thanks in advance.</p>\n"},{"tags":["java","json","performance","parallel-processing"],"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":4,"creation_date":1606192395,"post_id":64980274,"comment_id":114881164,"body_markdown":"_measure_, don&#39;t guess","body":"<i>measure</i>, don&#39;t guess"},{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1606193198,"post_id":64980274,"comment_id":114881306,"body_markdown":"You said &quot;I have some code; how can I make it faster?&quot;. You didn&#39;t show the code, you didn&#39;t show measurements of where the slow parts are.","body":"You said &quot;I have some code; how can I make it faster?&quot;. You didn&#39;t show the code, you didn&#39;t show measurements of where the slow parts are."},{"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"score":0,"creation_date":1606215739,"post_id":64980274,"comment_id":114889426,"body_markdown":"Use a profiler to find out which aspect (method call stack) of your process consumes most of the time. Edit the results into your question. Tell us which library/framework you&#39;re using for JSON parsing and database insertion. Show us example code. Without these informations, you can&#39;t hope for useful answers, only guesswork.","body":"Use a profiler to find out which aspect (method call stack) of your process consumes most of the time. Edit the results into your question. Tell us which library/framework you&#39;re using for JSON parsing and database insertion. Show us example code. Without these informations, you can&#39;t hope for useful answers, only guesswork."},{"owner":{"account_id":4034876,"reputation":1557,"user_id":3319725,"display_name":"AnatolyG"},"score":0,"creation_date":1607287541,"post_id":64980274,"comment_id":115218710,"body_markdown":"1. right, measure, what is the most time consuming part of the process (remember about Amdahl&#39;s low) 2. if JSON parsing takes significant part of time, don&#39;t use object mapping at all, use event/token/stream based parsing adding new insert into JDBC batch with PreparedStatement for each node on-the-fly 3. tune your DB to improve performance of inserts (optimize or even drop indexes before run, sharde db, use SSD etc etc). 4. find optimal num of threads for the job, 2500 threads may slow down the system because of context switching, IO/memory bus and other contentions...","body":"1. right, measure, what is the most time consuming part of the process (remember about Amdahl&#39;s low) 2. if JSON parsing takes significant part of time, don&#39;t use object mapping at all, use event/token/stream based parsing adding new insert into JDBC batch with PreparedStatement for each node on-the-fly 3. tune your DB to improve performance of inserts (optimize or even drop indexes before run, sharde db, use SSD etc etc). 4. find optimal num of threads for the job, 2500 threads may slow down the system because of context switching, IO/memory bus and other contentions..."}],"answers":[{"tags":[],"owner":{"account_id":4218279,"reputation":1719,"user_id":3453727,"display_name":"Alex Chernyshev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688496570,"creation_date":1606193509,"answer_id":64980460,"question_id":64980274,"body_markdown":"What you described should not take so much time (30-50 min to parse), also a json file with ~5k nodes is relatively small.\r\nThe bottleneck will be in database, during mass insert, especially if you have indexes on fields.\r\n\r\nSo i suggest to:\r\n1. Don&#39;t waste time on threading - unpacking and parsing jsons should be fast in your case, focus on batch inserts and do it properly: 1000+ batch queue and manual commit after.\r\n2. Disable indexes before importing, especially full-text and enable (+reindex) after ","title":"How to improve Performance in JSON parsing","body":"<p>What you described should not take so much time (30-50 min to parse), also a json file with ~5k nodes is relatively small.\nThe bottleneck will be in database, during mass insert, especially if you have indexes on fields.</p>\n<p>So i suggest to:</p>\n<ol>\n<li>Don't waste time on threading - unpacking and parsing jsons should be fast in your case, focus on batch inserts and do it properly: 1000+ batch queue and manual commit after.</li>\n<li>Disable indexes before importing, especially full-text and enable (+reindex) after</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1311659,"reputation":982,"user_id":1259544,"display_name":"binhgreat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606193661,"creation_date":1606193661,"answer_id":64980477,"question_id":64980274,"body_markdown":"I think, the performance problem may come from:\r\n\r\n 1. JSON parsing &amp; create objects\r\n 2. Inserting data to DB: if you insert many times, performance reduce a lot\r\n\r\nIf you run 2500 threads, it&#39;s may not effective if you don&#39;t have much CPU, since the overhead may increase. Depend on your HW configuration, you can define number of thread.\r\n\r\nAnd to insert data to DB, I suggest to do as bellow:\r\n- Each thread, after JSON parsing and create objects, you put the objects into CSV file\r\n- After finish, try to import CSV to DB","title":"How to improve Performance in JSON parsing","body":"<p>I think, the performance problem may come from:</p>\n<ol>\n<li>JSON parsing &amp; create objects</li>\n<li>Inserting data to DB: if you insert many times, performance reduce a lot</li>\n</ol>\n<p>If you run 2500 threads, it's may not effective if you don't have much CPU, since the overhead may increase. Depend on your HW configuration, you can define number of thread.</p>\n<p>And to insert data to DB, I suggest to do as bellow:</p>\n<ul>\n<li>Each thread, after JSON parsing and create objects, you put the objects into CSV file</li>\n<li>After finish, try to import CSV to DB</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3274316,"reputation":1168,"user_id":2756833,"display_name":"mfe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606473549,"creation_date":1606473549,"answer_id":65035908,"question_id":64980274,"body_markdown":"I would suggest you using [DSM][1] library. With DSM, you can easily parse very complex JSON files and process them during parsing.\r\nYou don&#39;t need to wait until all JSON files being processing. I guess this is your main problem.\r\nBTW:\r\nIt uses Jackson stream API to read JSON so, it consumes very low memory.\r\n\r\n\r\nExample usage can be found in this answer:\r\n\r\nhttps://stackoverflow.com/questions/9390368/java-best-approach-to-parse-huge-extra-large-json-file/56007435#56007435\r\n\r\n  [1]: https://mfatihercik.github.io/dsm/","title":"How to improve Performance in JSON parsing","body":"<p>I would suggest you using <a href=\"https://mfatihercik.github.io/dsm/\" rel=\"nofollow noreferrer\">DSM</a> library. With DSM, you can easily parse very complex JSON files and process them during parsing.\nYou don't need to wait until all JSON files being processing. I guess this is your main problem.\nBTW:\nIt uses Jackson stream API to read JSON so, it consumes very low memory.</p>\n<p>Example usage can be found in this answer:</p>\n<p><a href=\"https://stackoverflow.com/questions/9390368/java-best-approach-to-parse-huge-extra-large-json-file/56007435#56007435\">JAVA - Best approach to parse huge (extra large) JSON file</a></p>\n"}],"owner":{"account_id":1922562,"reputation":553,"user_id":1733690,"accept_rate":62,"display_name":"Nabs"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64980460,"answer_count":3,"score":0,"last_activity_date":1688496570,"creation_date":1606192248,"question_id":64980274,"body_markdown":"I have a scenario where user is going to upload a zip file. This zip file can have 4999 json files, each json file can have 4999 nodes which I am parsing and creating objects. Eventually I am inserting them in db. When I tested this scenario it took me 30-50 min to parse. \r\n\r\nI am looking for suggestions where \r\n1. I want to read JSON files in parallel: let&#39;s say if I have a batch of 100 jsonfiles then I can have 50 threads running in parallel\r\n\r\n2. Each thread will be responsible for parsing the JSON files, which might result in another perf bottleneck as we have 4999 nodes to parse. So I was thinking another batch of 100 node reads at a time which will cause 50 child threads again\r\n\r\nSo in total there will be 2500 threads in the system but should help parallel execution of around 25,000,000 sequential operations.\r\n\r\nLet me know if this approach sounds fine or not?","title":"How to improve Performance in JSON parsing","body":"<p>I have a scenario where user is going to upload a zip file. This zip file can have 4999 json files, each json file can have 4999 nodes which I am parsing and creating objects. Eventually I am inserting them in db. When I tested this scenario it took me 30-50 min to parse.</p>\n<p>I am looking for suggestions where</p>\n<ol>\n<li><p>I want to read JSON files in parallel: let's say if I have a batch of 100 jsonfiles then I can have 50 threads running in parallel</p>\n</li>\n<li><p>Each thread will be responsible for parsing the JSON files, which might result in another perf bottleneck as we have 4999 nodes to parse. So I was thinking another batch of 100 node reads at a time which will cause 50 child threads again</p>\n</li>\n</ol>\n<p>So in total there will be 2500 threads in the system but should help parallel execution of around 25,000,000 sequential operations.</p>\n<p>Let me know if this approach sounds fine or not?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1666029710,"post_id":74100891,"comment_id":130833915,"body_markdown":"What would the output be for `String str = &quot;aasdddraabcdaa&quot; ?","body":"What would the output be for `String str = &quot;aasdddraabcdaa&quot; ?"},{"owner":{"account_id":26366750,"reputation":13,"user_id":20022082,"display_name":"Nevzat Talha &#214;zcan"},"score":1,"creation_date":1666074261,"post_id":74100891,"comment_id":130842735,"body_markdown":"The output of String str = &quot;aasdddraabcdaa&quot; would be a6s1d4r1b1c1.","body":"The output of String str = &quot;aasdddraabcdaa&quot; would be a6s1d4r1b1c1."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1666082442,"post_id":74100891,"comment_id":130845298,"body_markdown":"I think you should use a [Map](https://docs.oracle.com/javase/tutorial/collections/interfaces/map.html) but I guess that if you have not yet learned [arrays](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html) then you probably can&#39;t use `Map`.","body":"I think you should use a <a href=\"https://docs.oracle.com/javase/tutorial/collections/interfaces/map.html\" rel=\"nofollow noreferrer\">Map</a> but I guess that if you have not yet learned <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"nofollow noreferrer\">arrays</a> then you probably can&#39;t use <code>Map</code>."},{"owner":{"account_id":26366750,"reputation":13,"user_id":20022082,"display_name":"Nevzat Talha &#214;zcan"},"score":0,"creation_date":1666095508,"post_id":74100891,"comment_id":130849754,"body_markdown":"Yes, I don&#39;t have any knowledge about array or map. I looked at everywhere, but there isn&#39;t any solution without them.","body":"Yes, I don&#39;t have any knowledge about array or map. I looked at everywhere, but there isn&#39;t any solution without them."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1666237945,"post_id":74100891,"comment_id":130889750,"body_markdown":"Are there restrictions on what characters may be in the String? Are digits allowed? Punctuation characters?  If digits are allowed, there is the potential for ambiguities in the result.","body":"Are there restrictions on what characters may be in the String? Are digits allowed? Punctuation characters?  If digits are allowed, there is the potential for ambiguities in the result."},{"owner":{"account_id":26366750,"reputation":13,"user_id":20022082,"display_name":"Nevzat Talha &#214;zcan"},"score":1,"creation_date":1666242915,"post_id":74100891,"comment_id":130890538,"body_markdown":"The characters should be letters.","body":"The characters should be letters."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1666275907,"post_id":74100891,"comment_id":130902409,"body_markdown":"@NevzatTalha&#214;zcan, Your code shows you have the right idea. But, the question is closed, and it&#39;s difficult to answer in comments. Here is one suggestion: add `counter = 0;`  before the inner `for` loop. `String str = &quot;aasdddr&quot;, result = &quot;&quot;; \n  int counter ;\n  for(int i = 0; i &lt; str.length(); i++){\n      counter = 0;\n      result += &quot;&quot; + str.charAt(i);`  . Your code will still not work, but that change should give you an idea for the next step.","body":"@NevzatTalha&#214;zcan, Your code shows you have the right idea. But, the question is closed, and it&#39;s difficult to answer in comments. Here is one suggestion: add <code>counter = 0;</code>  before the inner <code>for</code> loop. <code>String str = &quot;aasdddr&quot;, result = &quot;&quot;;    int counter ;   for(int i = 0; i &lt; str.length(); i++){       counter = 0;       result += &quot;&quot; + str.charAt(i);</code>  . Your code will still not work, but that change should give you an idea for the next step."},{"owner":{"account_id":26366750,"reputation":13,"user_id":20022082,"display_name":"Nevzat Talha &#214;zcan"},"score":0,"creation_date":1666302070,"post_id":74100891,"comment_id":130911364,"body_markdown":"thank you so much. I can&#39;t get used the concept of stack over flow for question. I hope it doesn&#39;t take long :(","body":"thank you so much. I can&#39;t get used the concept of stack over flow for question. I hope it doesn&#39;t take long :("},{"owner":{"account_id":26366750,"reputation":13,"user_id":20022082,"display_name":"Nevzat Talha &#214;zcan"},"score":0,"creation_date":1666373477,"post_id":74100891,"comment_id":130929881,"body_markdown":"@OldDogProgrammer Thank you very much for your effort to reopen this question. I appreciate you.","body":"@OldDogProgrammer Thank you very much for your effort to reopen this question. I appreciate you."}],"answers":[{"comments":[{"owner":{"account_id":26366750,"reputation":13,"user_id":20022082,"display_name":"Nevzat Talha &#214;zcan"},"score":0,"creation_date":1666472399,"post_id":74165335,"comment_id":130946775,"body_markdown":"Thank you so much for your good answer. Probably this one is the most beautiful solution but you used some methods or statements that I haven&#39;t learned yet. Fortunately, I have solved this question after a long time. I will share my solution soon. Besides, If you accept, I want to get in contact with you as a junior.  It would be awful to have a friend like you. Again, thank you for everything.","body":"Thank you so much for your good answer. Probably this one is the most beautiful solution but you used some methods or statements that I haven&#39;t learned yet. Fortunately, I have solved this question after a long time. I will share my solution soon. Besides, If you accept, I want to get in contact with you as a junior.  It would be awful to have a friend like you. Again, thank you for everything."},{"owner":{"account_id":26366750,"reputation":13,"user_id":20022082,"display_name":"Nevzat Talha &#214;zcan"},"score":0,"creation_date":1666510501,"post_id":74165335,"comment_id":130950944,"body_markdown":"*not awful, awesome.","body":"*not awful, awesome."}],"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666471941,"creation_date":1666456912,"answer_id":74165335,"question_id":74100891,"body_markdown":"First, `counter` needs to be reset _inside_ the `for` loop. Each time you encounter a character in the `source` String, you want to restart the counter. Otherwise, as you have seen, the value of the counter is strictly increasing.\r\n\r\nNow, think about what happens if a character occurs in more than one place in the `source` String, as in the `&quot;aasdddraabcdaa&quot;` example. A sequence of 1 or more `a` appears in 3 places. Because, at the time you get to the 2nd occurrence of `a`, `a` has been previously counted, you want to skip over it. \r\n\r\nBecause the `source` String cannot contain digits, the `result` String can be used to check if a particular character value has already been processed. So, after fixing the problem with `counter`, the code can be fixed by adding these two lines: \r\n\r\n     if (result.indexOf (source.charAt(i)) &gt;= 0) { \r\n         continue; }\r\n\r\nHere is the complete result:\r\n\r\n    package stackoverflowmisc;\r\n    \r\n    public class StackOverflowMisc {\r\n        \r\n        public static String freqDist(String source) {\r\n            String result = &quot;&quot;;\r\n            int counter ;  \r\n            for (int i = 0; i &lt; source.length(); i++) {\r\n                if (result.indexOf (source.charAt(i)) &gt;= 0) { continue; }\r\n                counter = 1;\r\n                result += source.charAt(i);\r\n                for (int j = 1; j &lt; source.length(); j++) {\r\n                    if (source.charAt(i) == source.charAt(j)) {\r\n                        counter++;\r\n                    }\r\n                }\r\n                result += counter;\r\n            }\r\n            return result;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            String [] test = {&quot;aasdddr&quot;, &quot;aabacc&quot;, &quot;aasdddraabcdaa&quot;};\r\n            \r\n            for (int i = 0; i &lt; test.length; ++i) {\r\n                System.out.println (test[i] + &quot; - &quot; + freqDist (test[i]));\r\n            }\r\n            System.out.println (&quot;End of Program&quot;);\r\n        }    \r\n    }\r\n\r\nRun results:\r\n\r\n    aasdddr - a2s2d4r2\r\n    aabacc - a3b2c3\r\n    aasdddraabcdaa - a6s2d5r2b2c2\r\n    End of Program\r\n\r\nIn one of the Q&amp;A comments, you said the source string can contain only letters. How would the program work if it were allowed to contain digits? You can&#39;t use the `result` String, because the processing inserts digits there. Again, this is an easy fix: Add a 3rd String to record which values have already been found: \r\n\r\n    public static String freqDist2(String source) {\r\n            String result = &quot;&quot;, found = &quot;&quot;;\r\n            int counter ;\r\n            for (int i = 0; i &lt; source.length(); i++) {            \r\n                if (found.indexOf (source.charAt(i)) &gt;= 0) { continue; }\r\n                counter = 1;\r\n                result += source.charAt(i);\r\n                found += source.charAt(i);\r\n                for (int j = 1; j &lt; source.length(); j++) {\r\n                    if (source.charAt(i) == source.charAt(j)) {\r\n                        counter++;\r\n                    }\r\n                }\r\n                result += counter;\r\n            }\r\n            return result;\r\n    }\r\n\r\nAnother possibility is to delete the corresponding characters from the `source` String as they are counted. If you are not allowed to modify the `Source` String, make a copy and use the copy.\r\n\r\nComment:  I don&#39;t know if this is what your professor or whomever had in mind by placing the &quot;No array&quot; restriction, because a `String` is essentially built on a `char` array.","title":"How to find frequency of characters in a string without using array in java","body":"<p>First, <code>counter</code> needs to be reset <em>inside</em> the <code>for</code> loop. Each time you encounter a character in the <code>source</code> String, you want to restart the counter. Otherwise, as you have seen, the value of the counter is strictly increasing.</p>\n<p>Now, think about what happens if a character occurs in more than one place in the <code>source</code> String, as in the <code>&quot;aasdddraabcdaa&quot;</code> example. A sequence of 1 or more <code>a</code> appears in 3 places. Because, at the time you get to the 2nd occurrence of <code>a</code>, <code>a</code> has been previously counted, you want to skip over it.</p>\n<p>Because the <code>source</code> String cannot contain digits, the <code>result</code> String can be used to check if a particular character value has already been processed. So, after fixing the problem with <code>counter</code>, the code can be fixed by adding these two lines:</p>\n<pre><code> if (result.indexOf (source.charAt(i)) &gt;= 0) { \n     continue; }\n</code></pre>\n<p>Here is the complete result:</p>\n<pre><code>package stackoverflowmisc;\n\npublic class StackOverflowMisc {\n    \n    public static String freqDist(String source) {\n        String result = &quot;&quot;;\n        int counter ;  \n        for (int i = 0; i &lt; source.length(); i++) {\n            if (result.indexOf (source.charAt(i)) &gt;= 0) { continue; }\n            counter = 1;\n            result += source.charAt(i);\n            for (int j = 1; j &lt; source.length(); j++) {\n                if (source.charAt(i) == source.charAt(j)) {\n                    counter++;\n                }\n            }\n            result += counter;\n        }\n        return result;\n    }\n\n    public static void main(String[] args) {\n        String [] test = {&quot;aasdddr&quot;, &quot;aabacc&quot;, &quot;aasdddraabcdaa&quot;};\n        \n        for (int i = 0; i &lt; test.length; ++i) {\n            System.out.println (test[i] + &quot; - &quot; + freqDist (test[i]));\n        }\n        System.out.println (&quot;End of Program&quot;);\n    }    \n}\n</code></pre>\n<p>Run results:</p>\n<pre><code>aasdddr - a2s2d4r2\naabacc - a3b2c3\naasdddraabcdaa - a6s2d5r2b2c2\nEnd of Program\n</code></pre>\n<p>In one of the Q&amp;A comments, you said the source string can contain only letters. How would the program work if it were allowed to contain digits? You can't use the <code>result</code> String, because the processing inserts digits there. Again, this is an easy fix: Add a 3rd String to record which values have already been found:</p>\n<pre><code>public static String freqDist2(String source) {\n        String result = &quot;&quot;, found = &quot;&quot;;\n        int counter ;\n        for (int i = 0; i &lt; source.length(); i++) {            \n            if (found.indexOf (source.charAt(i)) &gt;= 0) { continue; }\n            counter = 1;\n            result += source.charAt(i);\n            found += source.charAt(i);\n            for (int j = 1; j &lt; source.length(); j++) {\n                if (source.charAt(i) == source.charAt(j)) {\n                    counter++;\n                }\n            }\n            result += counter;\n        }\n        return result;\n}\n</code></pre>\n<p>Another possibility is to delete the corresponding characters from the <code>source</code> String as they are counted. If you are not allowed to modify the <code>Source</code> String, make a copy and use the copy.</p>\n<p>Comment:  I don't know if this is what your professor or whomever had in mind by placing the &quot;No array&quot; restriction, because a <code>String</code> is essentially built on a <code>char</code> array.</p>\n"},{"tags":[],"owner":{"account_id":26366750,"reputation":13,"user_id":20022082,"display_name":"Nevzat Talha &#214;zcan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666473814,"creation_date":1666473615,"answer_id":74167173,"question_id":74100891,"body_markdown":"Finally, I found the solution. But I think any question has more than one solution.\r\nFirst, we should declare an empty string to keep the result. We use a nested loop because the outer loop will keep a character fixed during each iteration of the inner loop. Also, we should declare a count variable inside the outer loop. Because in each match, it will be increased by one and after controlling each character in the inner loop, it will be zero for the next check. Finally, after the inner loop, we should put a condition to check whether we have that character inside the result string. If there isn&#39;t any character like that, then it will be added to the result string. After that, its frequency (count) will be added. Outside of the loop, we can print it.\r\n\r\n    public class FrequenciesOfChar {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        String str = &quot;aabcccd&quot;; // be sure that you don&#39;t have any digit in your string\r\n\r\n        String result = &quot;&quot;; // this will hold new string\r\n\r\n        for (int i = 0; i &lt; str.length(); i++) { // this will hold a character till be checked by inner loop\r\n\r\n            int count = 0; // put here so that it can be zero after each cycle for new character\r\n\r\n            for (int j = 0; j &lt; str.length(); j++) { // this will change\r\n\r\n                if(str.charAt(i) == str.charAt(j)){ // this will check whether there is a same character\r\n\r\n                    count++; // if there is a same character, count will increase\r\n\r\n                }\r\n\r\n            }\r\n\r\n            if( !(result.contains(&quot;&quot;+str.charAt(i))) ){ // this checks if result doesn&#39;t contain the checked character\r\n                result += &quot;&quot;+str.charAt(i); // first if result doesn&#39;t contain the checked character, character will be added\r\n                result += count; // then the character&#39;s frequency will be added\r\n            }\r\n\r\n        }\r\n\r\n        System.out.println(result);\r\n\r\n    }\r\n}\r\n\r\nRun Result:\r\naabcccd - a2b1c3d1","title":"How to find frequency of characters in a string without using array in java","body":"<p>Finally, I found the solution. But I think any question has more than one solution.\nFirst, we should declare an empty string to keep the result. We use a nested loop because the outer loop will keep a character fixed during each iteration of the inner loop. Also, we should declare a count variable inside the outer loop. Because in each match, it will be increased by one and after controlling each character in the inner loop, it will be zero for the next check. Finally, after the inner loop, we should put a condition to check whether we have that character inside the result string. If there isn't any character like that, then it will be added to the result string. After that, its frequency (count) will be added. Outside of the loop, we can print it.</p>\n<pre><code>public class FrequenciesOfChar {\n\npublic static void main(String[] args) {\n\n    String str = &quot;aabcccd&quot;; // be sure that you don't have any digit in your string\n\n    String result = &quot;&quot;; // this will hold new string\n\n    for (int i = 0; i &lt; str.length(); i++) { // this will hold a character till be checked by inner loop\n\n        int count = 0; // put here so that it can be zero after each cycle for new character\n\n        for (int j = 0; j &lt; str.length(); j++) { // this will change\n\n            if(str.charAt(i) == str.charAt(j)){ // this will check whether there is a same character\n\n                count++; // if there is a same character, count will increase\n\n            }\n\n        }\n\n        if( !(result.contains(&quot;&quot;+str.charAt(i))) ){ // this checks if result doesn't contain the checked character\n            result += &quot;&quot;+str.charAt(i); // first if result doesn't contain the checked character, character will be added\n            result += count; // then the character's frequency will be added\n        }\n\n    }\n\n    System.out.println(result);\n\n}\n</code></pre>\n<p>}</p>\n<p>Run Result:\naabcccd - a2b1c3d1</p>\n"},{"tags":[],"owner":{"account_id":13468344,"reputation":51,"user_id":9717784,"display_name":"Partha.B"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688495854,"creation_date":1688495854,"answer_id":76615148,"question_id":74100891,"body_markdown":"    You can check below solution:-\r\n        String sentence = &quot;aasdddraabcdaa&quot;;\r\n        Arrays.stream(sentence.split(&quot;&quot;))\r\n        .map(String::toLowerCase)\r\n        .collect(Collectors.groupingBy(str -&gt;str, TreeMap::new, Collectors.counting()))\r\n        .forEach((k,v) -&gt; System.out.print(k+v));\r\n\r\nResult : a6b1c1d4r1s1","title":"How to find frequency of characters in a string without using array in java","body":"<pre><code>You can check below solution:-\n    String sentence = &quot;aasdddraabcdaa&quot;;\n    Arrays.stream(sentence.split(&quot;&quot;))\n    .map(String::toLowerCase)\n    .collect(Collectors.groupingBy(str -&gt;str, TreeMap::new, Collectors.counting()))\n    .forEach((k,v) -&gt; System.out.print(k+v));\n</code></pre>\n<p>Result : a6b1c1d4r1s1</p>\n"}],"owner":{"account_id":26366750,"reputation":13,"user_id":20022082,"display_name":"Nevzat Talha &#214;zcan"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":806,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74165335,"answer_count":3,"score":-1,"last_activity_date":1688495854,"creation_date":1666026948,"question_id":74100891,"body_markdown":"Given a String, I want to create a frequency distribution of characters in the String.  That is, for each distinct character in the string, I want to count how many times it occurs. \r\n\r\nOutput is a `String` that consists of zero or more occurrences of the pattern _xd_, where _x_ is a character from the source String, and _d_ is the number of occurrences of _x_ within the String. Each _x_ in the output should occur once. \r\n\r\nThe challenge is to do this without using an array or `Collection`. \r\n\r\nExamples:\r\n\r\n     Source:  &quot;aasdddr&quot;          Result: &quot;a2s1d3r1&quot;\r\n     Source:  &quot;aabacc&quot;           Result: &quot;a3b1c2&quot;\r\n     Source:  &quot;aasdddraabcdaa&quot;   Result: &quot;a6s1d4r1b1c1&quot;\r\n\r\n\r\nI tried this way:\r\n\r\n      String str = &quot;aasdddr&quot;, result = &quot;&quot;; \r\n      int counter = 0;\r\n      for(int i = 0; i &lt; str.length(); i++){\r\n          result += &quot;&quot; + str.charAt(i);\r\n          for(int j = 1; j &lt; str.length(); j++){\r\n              if(str.charAt(i) == str.charAt(j)){\r\n                  counter++;\r\n              }\r\n          }\r\n          result += counter;\r\n        }\r\n      System.out.println(result);\r\n\r\nMy output is `a1a2s3d6d9d12r13`\r\n\r\n\r\n","title":"How to find frequency of characters in a string without using array in java","body":"<p>Given a String, I want to create a frequency distribution of characters in the String.  That is, for each distinct character in the string, I want to count how many times it occurs.</p>\n<p>Output is a <code>String</code> that consists of zero or more occurrences of the pattern <em>xd</em>, where <em>x</em> is a character from the source String, and <em>d</em> is the number of occurrences of <em>x</em> within the String. Each <em>x</em> in the output should occur once.</p>\n<p>The challenge is to do this without using an array or <code>Collection</code>.</p>\n<p>Examples:</p>\n<pre><code> Source:  &quot;aasdddr&quot;          Result: &quot;a2s1d3r1&quot;\n Source:  &quot;aabacc&quot;           Result: &quot;a3b1c2&quot;\n Source:  &quot;aasdddraabcdaa&quot;   Result: &quot;a6s1d4r1b1c1&quot;\n</code></pre>\n<p>I tried this way:</p>\n<pre><code>  String str = &quot;aasdddr&quot;, result = &quot;&quot;; \n  int counter = 0;\n  for(int i = 0; i &lt; str.length(); i++){\n      result += &quot;&quot; + str.charAt(i);\n      for(int j = 1; j &lt; str.length(); j++){\n          if(str.charAt(i) == str.charAt(j)){\n              counter++;\n          }\n      }\n      result += counter;\n    }\n  System.out.println(result);\n</code></pre>\n<p>My output is <code>a1a2s3d6d9d12r13</code></p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"owner":{"account_id":18810156,"reputation":333,"user_id":13718502,"display_name":"Martin Malfertheiner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1688495768,"creation_date":1688495768,"question_id":76615139,"body_markdown":"I&#39;m using Spring Boot with Hibernate to develop applications, and I would like to enhance the type safety of my JPA entities&#39; IDs. Currently, the ID field is defined as a `Long`, but I want to provide it with an explicit type. Here&#39;s an example of what I have:\r\n\r\n```java\r\n@Entity\r\npublic class User {\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  private Long id;\r\n}\r\n```\r\n\r\nI want to modify this code to give the ID field a more specific type. Here&#39;s what I have in mind:\r\n\r\n```java\r\n@Entity\r\npublic class User {\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  private Id id;\r\n\r\n  record Id(Long id) {}\r\n}\r\n```\r\n\r\nBy introducing a nested record class called `Id`, I can ensure that only instances of this class are used as IDs for the `User` entity. This approach allows me to avoid accidentally passing another entity&#39;s ID as a parameter since it&#39;s no longer just a `Long`.","title":"How can I use typed IDs for JPA entities in Spring Boot with Hibernate?","body":"<p>I'm using Spring Boot with Hibernate to develop applications, and I would like to enhance the type safety of my JPA entities' IDs. Currently, the ID field is defined as a <code>Long</code>, but I want to provide it with an explicit type. Here's an example of what I have:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class User {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Long id;\n}\n</code></pre>\n<p>I want to modify this code to give the ID field a more specific type. Here's what I have in mind:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class User {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Id id;\n\n  record Id(Long id) {}\n}\n</code></pre>\n<p>By introducing a nested record class called <code>Id</code>, I can ensure that only instances of this class are used as IDs for the <code>User</code> entity. This approach allows me to avoid accidentally passing another entity's ID as a parameter since it's no longer just a <code>Long</code>.</p>\n"},{"tags":["java","types","casting","operator-keyword"],"answers":[{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688495602,"creation_date":1688495096,"answer_id":76615088,"question_id":76614986,"body_markdown":"In Java compound assignment operators:  +=, -=, *=, etc., perform an implicit cast to the type of the variable on the left side of the operator.\r\n\r\nThis is stated in:\r\n\r\nhttps://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.26.2\r\n\r\n&gt; A compound assignment expression of the form E1 op= E2 is equivalent to E1 = (T) ((E1) op (E2)), where T is the type of E1, except that E1 is evaluated only once.\r\n\r\nso:\r\n\r\n    result1 -= 5.5\r\n\r\nis actually:\r\n\r\n    result1 = (int)(result1 - 5.5)\r\n\r\nIn case:\r\n\r\n    result2 = (result2 - 5.5);\r\n\r\nthere is no implicit cast, so you must do explicit cast with `(int)`\r\n\r\nAs to your question:\r\n\r\n&gt; why does that same logic cannot be applied in case of simple expression.\r\n\r\nI suppose in case of compound assignments, language designers decided that such expressions are clear that you want to update the original variable and such implicit cast will make code more concise. But in case of simple expression, such implicit cast might cause data loss - and programmer must be here explicit.","title":"why does java cant figure out data type of &quot;result2&quot; without type casting it as it figure out datatype of &quot;result1&quot;?","body":"<p>In Java compound assignment operators:  +=, -=, *=, etc., perform an implicit cast to the type of the variable on the left side of the operator.</p>\n<p>This is stated in:</p>\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.26.2\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.26.2</a></p>\n<blockquote>\n<p>A compound assignment expression of the form E1 op= E2 is equivalent to E1 = (T) ((E1) op (E2)), where T is the type of E1, except that E1 is evaluated only once.</p>\n</blockquote>\n<p>so:</p>\n<pre><code>result1 -= 5.5\n</code></pre>\n<p>is actually:</p>\n<pre><code>result1 = (int)(result1 - 5.5)\n</code></pre>\n<p>In case:</p>\n<pre><code>result2 = (result2 - 5.5);\n</code></pre>\n<p>there is no implicit cast, so you must do explicit cast with <code>(int)</code></p>\n<p>As to your question:</p>\n<blockquote>\n<p>why does that same logic cannot be applied in case of simple expression.</p>\n</blockquote>\n<p>I suppose in case of compound assignments, language designers decided that such expressions are clear that you want to update the original variable and such implicit cast will make code more concise. But in case of simple expression, such implicit cast might cause data loss - and programmer must be here explicit.</p>\n"}],"owner":{"account_id":22946976,"reputation":49,"user_id":17078836,"display_name":"Vishal Sangole"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1688501123,"accepted_answer_id":76615088,"answer_count":1,"score":0,"last_activity_date":1688495602,"creation_date":1688494030,"question_id":76614986,"body_markdown":"        int result1 = 10;\r\n        result1 -= 5.5;// due to compound assignment this will not cause error and result will be 4\r\n        System.out.println(result1);\r\n\r\n        int result2 = 10;\r\n        result2 = (int) (result - 5.5);// this will cause error if we domt use cascting\r\n        System.out.println(result);\r\n\r\n what is exact logic behind dynamic datatype conversion for compound assignment operator (&quot; -= &quot;) used in above code. and why does that same logic cannot be applied in case of simple expression.","title":"why does java cant figure out data type of &quot;result2&quot; without type casting it as it figure out datatype of &quot;result1&quot;?","body":"<pre><code>    int result1 = 10;\n    result1 -= 5.5;// due to compound assignment this will not cause error and result will be 4\n    System.out.println(result1);\n\n    int result2 = 10;\n    result2 = (int) (result - 5.5);// this will cause error if we domt use cascting\n    System.out.println(result);\n</code></pre>\n<p>what is exact logic behind dynamic datatype conversion for compound assignment operator (&quot; -= &quot;) used in above code. and why does that same logic cannot be applied in case of simple expression.</p>\n"},{"tags":["java","maven","unit-testing"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1688509000,"post_id":76615035,"comment_id":135082437,"body_markdown":"You shouldn&#39;t have jars in `src/main/webapp/WEB-INF/lib`, they should be maven dependencies.","body":"You shouldn&#39;t have jars in <code>src&#47;main&#47;webapp&#47;WEB-INF&#47;lib</code>, they should be maven dependencies."},{"owner":{"account_id":12154225,"reputation":73,"user_id":8873596,"display_name":"mop"},"score":0,"creation_date":1688510075,"post_id":76615035,"comment_id":135082516,"body_markdown":"Guess you are right, thing is this dependency is not public nor available in a repository, should I include in a local repository (eg. https://stackoverflow.com/a/28762617/8873596 https://stackoverflow.com/a/19226672/8873596 ) Or is there any better alternative?","body":"Guess you are right, thing is this dependency is not public nor available in a repository, should I include in a local repository (eg. <a href=\"https://stackoverflow.com/a/28762617/8873596\">stackoverflow.com/a/28762617/8873596</a> <a href=\"https://stackoverflow.com/a/19226672/8873596\">stackoverflow.com/a/19226672/8873596</a> ) Or is there any better alternative?"}],"owner":{"account_id":12154225,"reputation":73,"user_id":8873596,"display_name":"mop"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688494575,"creation_date":1688494575,"question_id":76615035,"body_markdown":"I&#39;m trying to create some tests for a web application that will be deployed in a WAR file.\r\n\r\nI&#39;d like to include several libraries that I have in my `webapp/WEB-INF/lib` folder to be available during the execution of these tests but I haven&#39;t achived it.\r\n\r\nI have tried including:\r\n```xml\r\n\t\t&lt;testResources&gt;\r\n\t\t\t&lt;testResource&gt;\r\n\t\t\t\t&lt;filtering&gt;false&lt;/filtering&gt;\r\n\t\t\t\t&lt;directory&gt;src/main/webapp/WEB-INF/lib&lt;/directory&gt;\r\n&lt;!-- \t\t\t\t&lt;targetPath&gt;${project.basedir}/src/test/webapp/WEB-INF/lib&lt;/targetPath&gt; --&gt;\r\n\t\t\t&lt;/testResource&gt;\r\n\t\t&lt;/testResources&gt;\r\n```\r\nAnd altough they seems to appear in the following location `target\\test-classes`\r\nI have the following error: LIB ABC is not available to the JVM.","title":"Maven copy include WEB-INF jars in classpath of tests","body":"<p>I'm trying to create some tests for a web application that will be deployed in a WAR file.</p>\n<p>I'd like to include several libraries that I have in my <code>webapp/WEB-INF/lib</code> folder to be available during the execution of these tests but I haven't achived it.</p>\n<p>I have tried including:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;testResources&gt;\n            &lt;testResource&gt;\n                &lt;filtering&gt;false&lt;/filtering&gt;\n                &lt;directory&gt;src/main/webapp/WEB-INF/lib&lt;/directory&gt;\n&lt;!--                &lt;targetPath&gt;${project.basedir}/src/test/webapp/WEB-INF/lib&lt;/targetPath&gt; --&gt;\n            &lt;/testResource&gt;\n        &lt;/testResources&gt;\n</code></pre>\n<p>And altough they seems to appear in the following location <code>target\\test-classes</code>\nI have the following error: LIB ABC is not available to the JVM.</p>\n"},{"tags":["java","spring-boot","microservices","spring-webflux","reactive-programming"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1681895652,"post_id":76049339,"comment_id":134129322,"body_markdown":"ex can never be null, as reactive datatypes like `Mono` and `Flux` do not allow null values","body":"ex can never be null, as reactive datatypes like <code>Mono</code> and <code>Flux</code> do not allow null values"}],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681885073,"creation_date":1681885073,"answer_id":76051275,"question_id":76049339,"body_markdown":"in order to use the `error` channel of a Mono, you need to wrap the exception into a mono, not directly throw it. In other words, your mocking should look like this:\r\n\r\n    doReturn(Mono.error(() -&gt; new WebClientResponseException(400, &quot;Bad Request&quot;, null, null, null)))\r\n        .when(myWebClient)\r\n    \t.getResponse(any());\r\n\r\nNow the code will reach the `onErrorResume` block. In this block, you can recover from the error and return a default `student` (wrapped in a mono) if you want, or the code flow reaches the end of the block and it will return a `Mono.empty()`. \r\n\r\nIf you want to test it, there are a few different ways, for example you can use a StepVerifier: https://www.baeldung.com/reactive-streams-step-verifier-test-publisher\r\n\r\nA less flexible (but simpler) alternative is to block the result for assertions:\r\n\r\n    @Test\r\n    void test() {\r\n    \tMyWebClient myWebClient = mock(MyWebClient.class);\r\n    \tdoReturn(Mono.error(() -&gt; new WebClientResponseException(400, &quot;Bad Request&quot;, null, null, null)))\r\n    \t\t\t.when(myWebClient)\r\n    \t\t\t.getResponse(any());\r\n    \r\n    \tMono&lt;Student&gt; responseDataMono = (Mono&lt;Student&gt;) myWebClient\r\n    \t\t\t.getResponse(&quot;url&quot;);\r\n    \r\n    \tvar testedFlow = responseDataMono\r\n    \t\t\t.onErrorResume(ex -&gt; {\r\n    \t\t\t\tif (null != ex &amp;&amp; null != ex.getMessage() &amp;&amp; ex.getMessage().contains(&quot;404&quot;)) {\r\n    \t\t\t\t\tSystem.out.println(&quot;not found!&quot;);\r\n    \t\t\t\t\t// not found logic\r\n    \t\t\t\t} else if (null != ex &amp;&amp; null != ex.getMessage() &amp;&amp; ex.getMessage().contains(&quot;400&quot;)) {\r\n    \t\t\t\t\tSystem.out.println(&quot;client error!&quot;);\r\n    \t\t\t\t\t//timeout logic\r\n    \t\t\t\t} else if (ex instanceof TimeoutException) {\r\n    \t\t\t\t\t//bad request logic\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\t// internal servicer error logic\r\n    \t\t\t\t}\r\n    \t\t\t\treturn Mono.empty();\r\n    \t\t\t}).map(resp -&gt; resp);\r\n    \r\n    \tassertThat(testedFlow.blockOptional()).isEmpty();\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\nPs: there are better ways of handling errors with Mono&#39;s API. For example you can break the if-else logic like this:\r\n\r\n    responseDataMono\r\n\t\t.onErrorResume(err -&gt; err.getMessage().contains(&quot;404&quot;), err -&gt; {\r\n\t\t\t// not found logic\r\n\t\t\treturn Mono.empty();\r\n\t\t})\r\n\t\t.onErrorResume(err -&gt; err.getMessage().contains(&quot;400&quot;), err -&gt; {\r\n\t\t\t// bad request logic\r\n\t\t\treturn Mono.empty();\r\n\t\t})\r\n\t\t.onErrorResume(TimeoutException.class, err -&gt; {\r\n\t\t\t// not found logic\r\n\t\t\treturn Mono.empty();\r\n\t\t})\r\n\t\t.onErrorResume(ex -&gt; {\r\n\t\t\t// internal servicer error logic\r\n\t\t\treturn Mono.empty();\r\n\t\t}).map(resp -&gt; resp);\r\n\r\nAdditionally, I wouldn&#39;t relly on the error message containing a string, what if the error is something like &quot;account with id=12400 was not found&quot; - is this a 400 error or a 404? Alternatively, you can do something like this:\r\n\r\n    responseDataMono\r\n\t\t.onErrorResume(WebClientResponseException.NotFound.class, err -&gt; {\r\n\t\t\t// not found logic\r\n\t\t\treturn Mono.empty();\r\n\t\t})\r\n\t\t.onErrorResume(WebClientResponseException.BadRequest.class, err -&gt; {\r\n\t\t\t// bad request logic\r\n\t\t\treturn Mono.empty();\r\n\t\t})\r\n\t\t// ... etc\r\n\t\t.map(resp -&gt; resp);","title":"How to test OnErrorResume functionality in reactive programming","body":"<p>in order to use the <code>error</code> channel of a Mono, you need to wrap the exception into a mono, not directly throw it. In other words, your mocking should look like this:</p>\n<pre><code>doReturn(Mono.error(() -&gt; new WebClientResponseException(400, &quot;Bad Request&quot;, null, null, null)))\n    .when(myWebClient)\n    .getResponse(any());\n</code></pre>\n<p>Now the code will reach the <code>onErrorResume</code> block. In this block, you can recover from the error and return a default <code>student</code> (wrapped in a mono) if you want, or the code flow reaches the end of the block and it will return a <code>Mono.empty()</code>.</p>\n<p>If you want to test it, there are a few different ways, for example you can use a StepVerifier: <a href=\"https://www.baeldung.com/reactive-streams-step-verifier-test-publisher\" rel=\"nofollow noreferrer\">https://www.baeldung.com/reactive-streams-step-verifier-test-publisher</a></p>\n<p>A less flexible (but simpler) alternative is to block the result for assertions:</p>\n<pre><code>@Test\nvoid test() {\n    MyWebClient myWebClient = mock(MyWebClient.class);\n    doReturn(Mono.error(() -&gt; new WebClientResponseException(400, &quot;Bad Request&quot;, null, null, null)))\n            .when(myWebClient)\n            .getResponse(any());\n\n    Mono&lt;Student&gt; responseDataMono = (Mono&lt;Student&gt;) myWebClient\n            .getResponse(&quot;url&quot;);\n\n    var testedFlow = responseDataMono\n            .onErrorResume(ex -&gt; {\n                if (null != ex &amp;&amp; null != ex.getMessage() &amp;&amp; ex.getMessage().contains(&quot;404&quot;)) {\n                    System.out.println(&quot;not found!&quot;);\n                    // not found logic\n                } else if (null != ex &amp;&amp; null != ex.getMessage() &amp;&amp; ex.getMessage().contains(&quot;400&quot;)) {\n                    System.out.println(&quot;client error!&quot;);\n                    //timeout logic\n                } else if (ex instanceof TimeoutException) {\n                    //bad request logic\n                } else {\n                    // internal servicer error logic\n                }\n                return Mono.empty();\n            }).map(resp -&gt; resp);\n\n    assertThat(testedFlow.blockOptional()).isEmpty();\n}\n</code></pre>\n<hr />\n<p>Ps: there are better ways of handling errors with Mono's API. For example you can break the if-else logic like this:</p>\n<pre><code>responseDataMono\n    .onErrorResume(err -&gt; err.getMessage().contains(&quot;404&quot;), err -&gt; {\n        // not found logic\n        return Mono.empty();\n    })\n    .onErrorResume(err -&gt; err.getMessage().contains(&quot;400&quot;), err -&gt; {\n        // bad request logic\n        return Mono.empty();\n    })\n    .onErrorResume(TimeoutException.class, err -&gt; {\n        // not found logic\n        return Mono.empty();\n    })\n    .onErrorResume(ex -&gt; {\n        // internal servicer error logic\n        return Mono.empty();\n    }).map(resp -&gt; resp);\n</code></pre>\n<p>Additionally, I wouldn't relly on the error message containing a string, what if the error is something like &quot;account with id=12400 was not found&quot; - is this a 400 error or a 404? Alternatively, you can do something like this:</p>\n<pre><code>responseDataMono\n    .onErrorResume(WebClientResponseException.NotFound.class, err -&gt; {\n        // not found logic\n        return Mono.empty();\n    })\n    .onErrorResume(WebClientResponseException.BadRequest.class, err -&gt; {\n        // bad request logic\n        return Mono.empty();\n    })\n    // ... etc\n    .map(resp -&gt; resp);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14073451,"reputation":138,"user_id":10166394,"display_name":"YWILLS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688493254,"creation_date":1681885149,"answer_id":76051284,"question_id":76049339,"body_markdown":"It seems u have wrong brackets order, &#39;getResponse&#39; should be inside of &#39;when&#39; brackets\r\n\r\n    doThrow((new WebClientResponseException(400,&quot;Bad Request&quot;,null,null,null)))\r\n                    .when(myWebClient.getResponse(any()));","title":"How to test OnErrorResume functionality in reactive programming","body":"<p>It seems u have wrong brackets order, 'getResponse' should be inside of 'when' brackets</p>\n<pre><code>doThrow((new WebClientResponseException(400,&quot;Bad Request&quot;,null,null,null)))\n                .when(myWebClient.getResponse(any()));\n</code></pre>\n"}],"owner":{"account_id":20779810,"reputation":317,"user_id":15260521,"display_name":"Sweety"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1688493254,"creation_date":1681855080,"question_id":76049339,"body_markdown":"I have the below service code\r\n\r\n```\r\nMono&lt;Student&gt; responseDataMono = (Mono&lt;Student&gt;)myWebClient\r\n                .getResponse(&quot;url&quot;);\r\n\r\n        return responseDataMono\r\n                .onErrorResume(ex -&gt; {\r\n                  \r\n                    if (null!=ex &amp;&amp; null!= ex.getMessage() &amp;&amp; ex.getMessage().contains(&quot;404&quot;)) {\r\n                        // not found logic\r\n                        \r\n                    } else if(null!=ex &amp;&amp; null!= ex.getMessage() &amp;&amp; ex.getMessage().contains(&quot;400&quot;)){\r\n                        //timeout logic\r\n                        \r\n                    }else if(ex instanceof io.netty.handler.timeout.TimeoutException){\r\n                        //bad request logic\r\n                        \r\n                    }else{\r\n                        // internal servicer error logic\r\n                        \r\n                    }\r\n                    return Mono.empty();\r\n                }).map(resp-&gt; resp);\r\n```\r\nso based on the error type i have added my logic. It is working fine. i.e) while calling API it is executing corresponding if block based on the logic added.\r\nNow i want to add junit for that. This is my junit code\r\n\r\n```\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class ServiceTest{\r\n    @InjectMocks\r\n    private MyService myServiceMock;\r\n\r\n    @Mock\r\n    private MyWebClient myWebClient;\r\n\r\n   public void TestErrorCode(){\r\n\r\n      doThrow((new WebClientResponseException(400,&quot;Bad Request&quot;,null,null,null)))\r\n                .when(myWebClient)\r\n                .getResponse(any());\r\n     Assert.assertThrows(WebClientResponseException.class, () -&gt; {\r\n            Mono&lt;Student&gt; student= \r\n            myServiceMock.myServiceMethod();\r\n        });\r\n      \r\n   }\r\n\r\n}\r\n```\r\nI tried the above method assuming that will throw web client exception while calling webclient so that my service will also throw error and my onErrorResume code will execute.\r\n\r\nbut what is happening is while calling the webclient it is throwing error which is correct but the responsedataMono is null. So it is not proceeding further.\r\n\r\nCan anyone please guide how to cover these scenarios in recative.","title":"How to test OnErrorResume functionality in reactive programming","body":"<p>I have the below service code</p>\n<pre><code>Mono&lt;Student&gt; responseDataMono = (Mono&lt;Student&gt;)myWebClient\n                .getResponse(&quot;url&quot;);\n\n        return responseDataMono\n                .onErrorResume(ex -&gt; {\n                  \n                    if (null!=ex &amp;&amp; null!= ex.getMessage() &amp;&amp; ex.getMessage().contains(&quot;404&quot;)) {\n                        // not found logic\n                        \n                    } else if(null!=ex &amp;&amp; null!= ex.getMessage() &amp;&amp; ex.getMessage().contains(&quot;400&quot;)){\n                        //timeout logic\n                        \n                    }else if(ex instanceof io.netty.handler.timeout.TimeoutException){\n                        //bad request logic\n                        \n                    }else{\n                        // internal servicer error logic\n                        \n                    }\n                    return Mono.empty();\n                }).map(resp-&gt; resp);\n</code></pre>\n<p>so based on the error type i have added my logic. It is working fine. i.e) while calling API it is executing corresponding if block based on the logic added.\nNow i want to add junit for that. This is my junit code</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class ServiceTest{\n    @InjectMocks\n    private MyService myServiceMock;\n\n    @Mock\n    private MyWebClient myWebClient;\n\n   public void TestErrorCode(){\n\n      doThrow((new WebClientResponseException(400,&quot;Bad Request&quot;,null,null,null)))\n                .when(myWebClient)\n                .getResponse(any());\n     Assert.assertThrows(WebClientResponseException.class, () -&gt; {\n            Mono&lt;Student&gt; student= \n            myServiceMock.myServiceMethod();\n        });\n      \n   }\n\n}\n</code></pre>\n<p>I tried the above method assuming that will throw web client exception while calling webclient so that my service will also throw error and my onErrorResume code will execute.</p>\n<p>but what is happening is while calling the webclient it is throwing error which is correct but the responsedataMono is null. So it is not proceeding further.</p>\n<p>Can anyone please guide how to cover these scenarios in recative.</p>\n"},{"tags":["java","android","android-studio","debugging"],"answers":[{"comments":[{"owner":{"account_id":11036756,"reputation":357,"user_id":8106257,"display_name":"신승빈"},"score":1,"creation_date":1502674895,"post_id":45666353,"comment_id":78290438,"body_markdown":"Ok, I was Update GameObject Class and I will try your advise.\nbut, I have a question if debugger cause an error when write an code with singleton pattern?","body":"Ok, I was Update GameObject Class and I will try your advise. but, I have a question if debugger cause an error when write an code with singleton pattern?"},{"owner":{"account_id":73097,"reputation":19700,"user_id":210709,"accept_rate":91,"display_name":"IAbstract"},"score":0,"creation_date":1527629344,"post_id":45666353,"comment_id":88195769,"body_markdown":"I think this has something to do with singletons.","body":"I think this has something to do with singletons."},{"owner":{"account_id":73097,"reputation":19700,"user_id":210709,"accept_rate":91,"display_name":"IAbstract"},"score":0,"creation_date":1527883689,"post_id":45666353,"comment_id":88311625,"body_markdown":"After further debugging, I think it has something to do with an initialization error. In my case, a class was being initialized that required something from my Singleton before the Singleton itself was fully initialized. In .Net this throws an initialization exception. I don&#39;t know that Java does.","body":"After further debugging, I think it has something to do with an initialization error. In my case, a class was being initialized that required something from my Singleton before the Singleton itself was fully initialized. In .Net this throws an initialization exception. I don&#39;t know that Java does."}],"tags":[],"owner":{"account_id":4238457,"reputation":46,"user_id":3469032,"display_name":"gekn76"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1502679419,"creation_date":1502674134,"answer_id":45666353,"question_id":45666317,"body_markdown":"What does the GameObject.class do? Your Camera class is extending GameObject.class and calls a super() in the constructor. Skip the debugger and use classic logging instead to print out before vars are set.\r\n\r\n- [Update]\r\n\r\nSingleton doesn&#39;t do anything special except keeping itself as single instance, have no clue how the Android Studio Debugger handles them but it shouldn&#39;t be problematic. There&#39;s a NULL when you try to instantiate the Camera.class.\r\n\r\nTry catching the NullPointer when instantiating the Camera()\r\n\r\n    try {\r\n        Camera cam = new Camera();\r\n    } catch (NullPointerException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nThe stacktrace should tell you where the NullPointer is in the code ","title":"Stuck in collecting data when I try to debug in android studio","body":"<p>What does the GameObject.class do? Your Camera class is extending GameObject.class and calls a super() in the constructor. Skip the debugger and use classic logging instead to print out before vars are set.</p>\n\n<ul>\n<li>[Update]</li>\n</ul>\n\n<p>Singleton doesn't do anything special except keeping itself as single instance, have no clue how the Android Studio Debugger handles them but it shouldn't be problematic. There's a NULL when you try to instantiate the Camera.class.</p>\n\n<p>Try catching the NullPointer when instantiating the Camera()</p>\n\n<pre><code>try {\n    Camera cam = new Camera();\n} catch (NullPointerException e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>The stacktrace should tell you where the NullPointer is in the code </p>\n"},{"tags":[],"owner":{"account_id":1930329,"reputation":371,"user_id":1739847,"display_name":"mir"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1662449880,"creation_date":1502677782,"answer_id":45666691,"question_id":45666317,"body_markdown":"Not sure if this should be a comment or an answer...\r\n\r\nI&#39;ve seen the same problem in a completely different context and it &quot;somehow&quot; has to do with using threads.\r\nIt seems when the debugger tries to get a value and for that needs to run something that is associated with another thread, it deadlocks.\r\n\r\nIn my case I have a javascript engine which is invoked on a non-ui thread when I need to execute JS. If I have variables anywhere that are e.g. subclasses of JSObject, the debugger locks up.\r\n\r\nOnly way I found working around this is to do logging and setting my breakpoints wisely.\r\n\r\nCheck if your code runs into any locks or synchronized statements when accessing variables, that might be the cause in your case.\r\n\r\nTill this is fixed, you can see your object while debugging as json string using &quot;Gson().toJson(yourObject)&quot;.\r\n\r\n","title":"Stuck in collecting data when I try to debug in android studio","body":"<p>Not sure if this should be a comment or an answer...</p>\n<p>I've seen the same problem in a completely different context and it &quot;somehow&quot; has to do with using threads.\nIt seems when the debugger tries to get a value and for that needs to run something that is associated with another thread, it deadlocks.</p>\n<p>In my case I have a javascript engine which is invoked on a non-ui thread when I need to execute JS. If I have variables anywhere that are e.g. subclasses of JSObject, the debugger locks up.</p>\n<p>Only way I found working around this is to do logging and setting my breakpoints wisely.</p>\n<p>Check if your code runs into any locks or synchronized statements when accessing variables, that might be the cause in your case.</p>\n<p>Till this is fixed, you can see your object while debugging as json string using &quot;Gson().toJson(yourObject)&quot;.</p>\n"},{"tags":[],"owner":{"account_id":7851586,"reputation":189,"user_id":5934912,"display_name":"Rob"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611689696,"creation_date":1611689696,"answer_id":65908068,"question_id":45666317,"body_markdown":"I was having the same problem after creating a new virtual device to replicate my phone. It had been working for a while then every time I tried to debug it stopped working at the first breakpoint it came to and was &quot;collecting data...&quot; \r\n\r\nI just switched back to the original virtual device (5.1 WVGA API 25) and the debugger started doing as it was told again.\r\n\r\nI switched to my newer virtual device and the problem had gone away.\r\n\r\nMight have been something to do with an infinite loop I had created which threw the activity snapshot out but not too sure. Will update if it happens again.","title":"Stuck in collecting data when I try to debug in android studio","body":"<p>I was having the same problem after creating a new virtual device to replicate my phone. It had been working for a while then every time I tried to debug it stopped working at the first breakpoint it came to and was &quot;collecting data...&quot;</p>\n<p>I just switched back to the original virtual device (5.1 WVGA API 25) and the debugger started doing as it was told again.</p>\n<p>I switched to my newer virtual device and the problem had gone away.</p>\n<p>Might have been something to do with an infinite loop I had created which threw the activity snapshot out but not too sure. Will update if it happens again.</p>\n"},{"comments":[{"owner":{"account_id":2665116,"reputation":365,"user_id":2303766,"display_name":"Noel Victorino"},"score":2,"creation_date":1674802084,"post_id":75119019,"comment_id":132794638,"body_markdown":"Do you think it has something to do with the latest Android Studio update? I have recently updated to Electric Eel, and the breakpoint did not work. Before, with the same breakpoint, it was still working.","body":"Do you think it has something to do with the latest Android Studio update? I have recently updated to Electric Eel, and the breakpoint did not work. Before, with the same breakpoint, it was still working."},{"owner":{"account_id":2665116,"reputation":365,"user_id":2303766,"display_name":"Noel Victorino"},"score":0,"creation_date":1674814588,"post_id":75119019,"comment_id":132797808,"body_markdown":"Update (which might help others). Try to &quot;Invalidate cache.&quot; \nMy shortcut (using Sublime keymap) to do that was Double Shift &gt; &quot;Invalidate cache.&quot;","body":"Update (which might help others). Try to &quot;Invalidate cache.&quot;  My shortcut (using Sublime keymap) to do that was Double Shift &gt; &quot;Invalidate cache.&quot;"},{"owner":{"account_id":1715992,"reputation":3373,"user_id":1573036,"accept_rate":92,"display_name":"Victor Oliveira"},"score":3,"creation_date":1674897819,"post_id":75119019,"comment_id":132815054,"body_markdown":"I think it&#39;s related to an update; this is a five years old question and a few people noticed my answer too fast. What&#39;s odd is that I had the issue on both canary and stable AS.. Invalidate cache did not solve to me ; not sure when it started; a few days ago I also updated my MacOs ; maybe it&#39;s a Jetbrains/MacOS thing, probably to be fixed soon","body":"I think it&#39;s related to an update; this is a five years old question and a few people noticed my answer too fast. What&#39;s odd is that I had the issue on both canary and stable AS.. Invalidate cache did not solve to me ; not sure when it started; a few days ago I also updated my MacOs ; maybe it&#39;s a Jetbrains/MacOS thing, probably to be fixed soon"},{"owner":{"account_id":2665116,"reputation":365,"user_id":2303766,"display_name":"Noel Victorino"},"score":0,"creation_date":1675056699,"post_id":75119019,"comment_id":132838600,"body_markdown":"Thanks! I initially thought invalidating the cache would work. But it did not. So, another possible solution (which worked for me) was to try selecting Thread when Suspending from the breakpoint.","body":"Thanks! I initially thought invalidating the cache would work. But it did not. So, another possible solution (which worked for me) was to try selecting Thread when Suspending from the breakpoint."},{"owner":{"account_id":242242,"reputation":2252,"user_id":513626,"accept_rate":100,"display_name":"MattMatt"},"score":2,"creation_date":1676135980,"post_id":75119019,"comment_id":133078686,"body_markdown":"Definitely looks like an Electric Eel bug. I just came here to troubleshoot the same thing.","body":"Definitely looks like an Electric Eel bug. I just came here to troubleshoot the same thing."},{"owner":{"account_id":1351465,"reputation":521,"user_id":1290954,"display_name":"Matej Hlatky"},"score":2,"creation_date":1686669433,"post_id":75119019,"comment_id":134829336,"body_markdown":"When I right-click on the object, it&#39;s just showing loading indicator.","body":"When I right-click on the object, it&#39;s just showing loading indicator."},{"owner":{"account_id":4221425,"reputation":336,"user_id":3456124,"display_name":"kirkadev"},"score":0,"creation_date":1688580594,"post_id":75119019,"comment_id":135094084,"body_markdown":"I don&#39;t know how, but for me helped switch from Kotiln class to Object (sources wrote on Kotlin).\nThank you!","body":"I don&#39;t know how, but for me helped switch from Kotiln class to Object (sources wrote on Kotlin). Thank you!"}],"tags":[],"owner":{"account_id":1715992,"reputation":3373,"user_id":1573036,"accept_rate":92,"display_name":"Victor Oliveira"},"comment_count":7,"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1674468998,"creation_date":1673709694,"answer_id":75119019,"question_id":45666317,"body_markdown":"I came across this issue. To solve, for a single object, what helped me was to right-click the stuck object, then go to `view as` and select `object` instead of `Kotlin class`.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nas a definitive measure, [this][3] answer could be a possible solution, but it does not work for me on\r\n\r\n```\r\nAndroid Studio Electric Eel | 2022.1.1\r\nBuild #AI-221.6008.13.2211.9477386, built on January 11, 2023\r\nRuntime version: 11.0.15+0-b2043.56-8887301 x86_64\r\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\r\nmacOS 12.6.2\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hWy0o.png\r\n  [2]: https://i.stack.imgur.com/sLEPP.png\r\n  [3]: https://stackoverflow.com/a/33569211/1573036","title":"Stuck in collecting data when I try to debug in android studio","body":"<p>I came across this issue. To solve, for a single object, what helped me was to right-click the stuck object, then go to <code>view as</code> and select <code>object</code> instead of <code>Kotlin class</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/hWy0o.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/hWy0o.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/sLEPP.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/sLEPP.png\" alt=\"enter image description here\" /></a></p>\n<p>as a definitive measure, <a href=\"https://stackoverflow.com/a/33569211/1573036\">this</a> answer could be a possible solution, but it does not work for me on</p>\n<pre><code>Android Studio Electric Eel | 2022.1.1\nBuild #AI-221.6008.13.2211.9477386, built on January 11, 2023\nRuntime version: 11.0.15+0-b2043.56-8887301 x86_64\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\nmacOS 12.6.2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":91056,"reputation":124874,"user_id":250260,"accept_rate":80,"display_name":"Jorgesys"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688492170,"creation_date":1688492170,"answer_id":76614828,"question_id":45666317,"body_markdown":"Having the same problem in Android Studio Flamingo:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n Right-click the stuck object, then go to &lt;kbd&gt;View as&lt;/kbd&gt; and select &lt;kbd&gt;Object&lt;/kbd&gt;:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nthen you will be able to see the content of your object:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EA5Zm.png\r\n  [2]: https://i.stack.imgur.com/yANdK.png\r\n  [3]: https://i.stack.imgur.com/S6kdG.png","title":"Stuck in collecting data when I try to debug in android studio","body":"<p>Having the same problem in Android Studio Flamingo:</p>\n<p><a href=\"https://i.stack.imgur.com/EA5Zm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EA5Zm.png\" alt=\"enter image description here\" /></a></p>\n<p>Right-click the stuck object, then go to <kbd>View as</kbd> and select <kbd>Object</kbd>:</p>\n<p><a href=\"https://i.stack.imgur.com/yANdK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yANdK.png\" alt=\"enter image description here\" /></a></p>\n<p>then you will be able to see the content of your object:</p>\n<p><a href=\"https://i.stack.imgur.com/S6kdG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S6kdG.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":11036756,"reputation":357,"user_id":8106257,"display_name":"신승빈"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9406,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"answer_count":5,"score":26,"last_activity_date":1688492170,"creation_date":1502673847,"question_id":45666317,"body_markdown":"I was try to write a code by singleton pattern.\r\n\r\nthis is my MainActivity.\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    public static MainActivity activity;\r\n    public TouchSensor touchSensor;\r\n    public SurfaceViewThread surfaceViewThread;\r\n    public TriggerChecker triggerChecker;\r\n\r\n    public Physics physics;\r\n\r\n    //public static Handler mHandler = new Handler();\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState)\r\n    {\r\n        super.onCreate(savedInstanceState);\r\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n\r\n        activity = this;\r\n        surfaceViewThread = SurfaceViewThread.getInstance();\r\n        touchSensor = TouchSensor.getInstance();\r\n        triggerChecker = TriggerChecker.getInstance();\r\n        physics = Physics.getInstance();\r\n\r\n        touchSensor.start();\r\n        triggerChecker.start();\r\n        physics.start();\r\n        //surfaceViewThread is already started.\r\n\r\n        activity.setContentView(surfaceViewThread);\r\n    }\r\n\r\nand this is a code what I try to write by singleton pattern.\r\n\r\n    public class SurfaceViewThread extends SurfaceView implements Runnable, SurfaceHolder.Callback {\r\n\r\n    private static SurfaceViewThread surfaceViewThread = new SurfaceViewThread();\r\n\r\n    private static Camera camera;\r\n    private SurfaceHolder holder;\r\n    private Thread thread;\r\n    private boolean run;\r\n\r\n    private Vector&lt;ObjectGraphic&gt; objects;\r\n    private Vector&lt;Graphic&gt; UIs;\r\n    private ObjectGraphic field;\r\n\r\n    private Vector&lt;ObjectGraphic&gt; draws;\r\n    private ComponentMessage componentMessage;\r\n\r\n    public static SurfaceViewThread getInstance()\r\n    {\r\n        if(surfaceViewThread == null)\r\n            surfaceViewThread = new SurfaceViewThread();\r\n        return surfaceViewThread;\r\n    }\r\n    private SurfaceViewThread()\r\n    {\r\n        super(activity.getApplicationContext());\r\n        camera = new Camera();\r\n        getHolder().addCallback(this);\r\n        holder = getHolder();\r\n        objects = new Vector&lt;&gt;();\r\n        UIs = new Vector&lt;&gt;();\r\n\r\n        draws = new Vector&lt;&gt;();\r\n\r\n        run = false;\r\n\r\n        componentMessage = new ComponentMessage();\r\n    }\r\n    \r\nand when I build this code, Camera class crashed by NullPointException.\r\n\r\n    public class Camera extends GameObject {\r\n\r\n    private Rect area;\r\n    private int sight;\r\n    private int maxSight = 50;\r\n    private int minSight = 10;\r\n    private int[] fieldOfView;//{vertical, horizontal}\r\n    private int[] maxFieldOfView = new int[] { 60, 45 };\r\n    private int[] minFieldOfView = new int[] { 10, 10 };\r\n\r\n    public Camera()\r\n    {\r\n        super();\r\n        area = new Rect();\r\n        this.fieldOfView = new int[] { 60, 45 };\r\n        objectMatrix.Rotate(objectMatrix.xVector(), Math.toRadians(-45));\r\n\r\n        setDisplayVector();\r\n    }\r\n    private void setSight()\r\n    {\r\n        double angle = Math.PI/2 - Math.acos(new Common_Math.Matrix1X4(0, 1, 0, 0).Inner(objectMatrix.zVector().Invert()));\r\n        if(angle &lt; 0 &amp;&amp; angle &gt; - Math.PI/2) {\r\n            double t = -objectMatrix.qVector().getY() / objectMatrix.zVector().getY();\r\n            int x = (int) (objectMatrix.zVector().getX() * t + objectMatrix.qVector().getX());\r\n            int z = (int) (objectMatrix.zVector().getZ() * t + objectMatrix.qVector().getZ());\r\n\r\n            sight = (int)Math.sqrt(Math.pow((x - objectMatrix.qVector().getX()), 2) + Math.pow((objectMatrix.qVector().getY()), 2) + Math.pow((z - objectMatrix.qVector().getZ()), 2));\r\n            if(sight &lt; minSight)\r\n                sight = minSight;\r\n        }\r\n        else\r\n        {\r\n            sight = maxSight;\r\n        }\r\n    }\r\n    private void setDisplayVector()\r\n    {\r\n        setSight();\r\n        Common_Math.Matrix1X4 upVector, downVector, leftVector, rightVector;\r\n        Common_Math.Matrix1X4 zVector = objectMatrix.zVector();\r\n\r\n        upVector = zVector.Rotate(objectMatrix.xVector(), fieldOfView[0]);\r\n        downVector = zVector.Rotate(objectMatrix.xVector(), -fieldOfView[0]);\r\n        leftVector = zVector.Rotate(objectMatrix.yVector(), fieldOfView[1]);\r\n        rightVector = zVector.Rotate(objectMatrix.yVector(), -fieldOfView[1]);\r\n\r\n        double angle = Math.PI/2 - Math.acos(new Common_Math.Matrix1X4(0, 1, 0, 0).Inner(objectMatrix.zVector().Invert()));\r\n        upVector = upVector.Scaled((int)(Math.abs(objectMatrix.qVector().getY() * Math.tan(angle + fieldOfView[0]))));\r\n        downVector = downVector.Scaled((int)(Math.abs(objectMatrix.qVector().getY() * Math.tan(angle - fieldOfView[0]))));\r\n        leftVector = leftVector.Scaled((int)(sight * Math.asin(fieldOfView[1])));\r\n        rightVector = rightVector.Scaled((int)(sight * Math.asin(fieldOfView[1])));\r\n\r\n        area.left = (int) objectMatrix.qVector().Add(leftVector).getX();\r\n        area.top = (int) objectMatrix.qVector().Add(upVector).getY();\r\n        area.right = (int) objectMatrix.qVector().Add(rightVector).getX();\r\n        area.bottom = (int) objectMatrix.qVector().Add(downVector).getY();\r\n    }\r\n\r\nand this is GameObject class \r\n\r\n    public class GameObject {\r\n\r\n    protected GameObject upperGameObject;//if upperGameObject is null, this GameObject is parent GameObject.\r\n\r\n    protected Common_Math.Matrix4X4 objectMatrix;\r\n    private Vector&lt;SeaWeedComponent&gt; componentVector;\r\n\r\n    public GameObject()\r\n    {\r\n        objectMatrix = new Common_Math.Matrix4X4();\r\n        AllocatePhysicsSpace();\r\n        componentVector = new Vector&lt;&gt;();\r\n    }\r\n\r\nand Matrix4x4 class\r\n\r\n    public static class Matrix4X4\r\n    {\r\n        private Matrix1X4 xVector, yVector, zVector, qVector;\r\n\r\n        public Matrix4X4() {\r\n            xVector = new Matrix1X4(1, 0, 0, 0);\r\n            yVector = new Matrix1X4(0, 1, 0, 0);\r\n            zVector = new Matrix1X4(0, 0, 1, 0);\r\n            qVector = new Matrix1X4(0, 0, 0, 1);\r\n        }\r\n\r\nso I was check a break point to see why this happened but when I debug this, every variables are stuck at &quot;Collecting data..&quot; and nothing happen. and even debuger respond is slow down.\r\n\r\nI can&#39;t guess why this happen. is there any problem in my code? how can I see the variables?","title":"Stuck in collecting data when I try to debug in android studio","body":"<p>I was try to write a code by singleton pattern.</p>\n\n<p>this is my MainActivity.</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\npublic static MainActivity activity;\npublic TouchSensor touchSensor;\npublic SurfaceViewThread surfaceViewThread;\npublic TriggerChecker triggerChecker;\n\npublic Physics physics;\n\n//public static Handler mHandler = new Handler();\n\n@Override\npublic void onCreate(Bundle savedInstanceState)\n{\n    super.onCreate(savedInstanceState);\n    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\n\n    activity = this;\n    surfaceViewThread = SurfaceViewThread.getInstance();\n    touchSensor = TouchSensor.getInstance();\n    triggerChecker = TriggerChecker.getInstance();\n    physics = Physics.getInstance();\n\n    touchSensor.start();\n    triggerChecker.start();\n    physics.start();\n    //surfaceViewThread is already started.\n\n    activity.setContentView(surfaceViewThread);\n}\n</code></pre>\n\n<p>and this is a code what I try to write by singleton pattern.</p>\n\n<pre><code>public class SurfaceViewThread extends SurfaceView implements Runnable, SurfaceHolder.Callback {\n\nprivate static SurfaceViewThread surfaceViewThread = new SurfaceViewThread();\n\nprivate static Camera camera;\nprivate SurfaceHolder holder;\nprivate Thread thread;\nprivate boolean run;\n\nprivate Vector&lt;ObjectGraphic&gt; objects;\nprivate Vector&lt;Graphic&gt; UIs;\nprivate ObjectGraphic field;\n\nprivate Vector&lt;ObjectGraphic&gt; draws;\nprivate ComponentMessage componentMessage;\n\npublic static SurfaceViewThread getInstance()\n{\n    if(surfaceViewThread == null)\n        surfaceViewThread = new SurfaceViewThread();\n    return surfaceViewThread;\n}\nprivate SurfaceViewThread()\n{\n    super(activity.getApplicationContext());\n    camera = new Camera();\n    getHolder().addCallback(this);\n    holder = getHolder();\n    objects = new Vector&lt;&gt;();\n    UIs = new Vector&lt;&gt;();\n\n    draws = new Vector&lt;&gt;();\n\n    run = false;\n\n    componentMessage = new ComponentMessage();\n}\n</code></pre>\n\n<p>and when I build this code, Camera class crashed by NullPointException.</p>\n\n<pre><code>public class Camera extends GameObject {\n\nprivate Rect area;\nprivate int sight;\nprivate int maxSight = 50;\nprivate int minSight = 10;\nprivate int[] fieldOfView;//{vertical, horizontal}\nprivate int[] maxFieldOfView = new int[] { 60, 45 };\nprivate int[] minFieldOfView = new int[] { 10, 10 };\n\npublic Camera()\n{\n    super();\n    area = new Rect();\n    this.fieldOfView = new int[] { 60, 45 };\n    objectMatrix.Rotate(objectMatrix.xVector(), Math.toRadians(-45));\n\n    setDisplayVector();\n}\nprivate void setSight()\n{\n    double angle = Math.PI/2 - Math.acos(new Common_Math.Matrix1X4(0, 1, 0, 0).Inner(objectMatrix.zVector().Invert()));\n    if(angle &lt; 0 &amp;&amp; angle &gt; - Math.PI/2) {\n        double t = -objectMatrix.qVector().getY() / objectMatrix.zVector().getY();\n        int x = (int) (objectMatrix.zVector().getX() * t + objectMatrix.qVector().getX());\n        int z = (int) (objectMatrix.zVector().getZ() * t + objectMatrix.qVector().getZ());\n\n        sight = (int)Math.sqrt(Math.pow((x - objectMatrix.qVector().getX()), 2) + Math.pow((objectMatrix.qVector().getY()), 2) + Math.pow((z - objectMatrix.qVector().getZ()), 2));\n        if(sight &lt; minSight)\n            sight = minSight;\n    }\n    else\n    {\n        sight = maxSight;\n    }\n}\nprivate void setDisplayVector()\n{\n    setSight();\n    Common_Math.Matrix1X4 upVector, downVector, leftVector, rightVector;\n    Common_Math.Matrix1X4 zVector = objectMatrix.zVector();\n\n    upVector = zVector.Rotate(objectMatrix.xVector(), fieldOfView[0]);\n    downVector = zVector.Rotate(objectMatrix.xVector(), -fieldOfView[0]);\n    leftVector = zVector.Rotate(objectMatrix.yVector(), fieldOfView[1]);\n    rightVector = zVector.Rotate(objectMatrix.yVector(), -fieldOfView[1]);\n\n    double angle = Math.PI/2 - Math.acos(new Common_Math.Matrix1X4(0, 1, 0, 0).Inner(objectMatrix.zVector().Invert()));\n    upVector = upVector.Scaled((int)(Math.abs(objectMatrix.qVector().getY() * Math.tan(angle + fieldOfView[0]))));\n    downVector = downVector.Scaled((int)(Math.abs(objectMatrix.qVector().getY() * Math.tan(angle - fieldOfView[0]))));\n    leftVector = leftVector.Scaled((int)(sight * Math.asin(fieldOfView[1])));\n    rightVector = rightVector.Scaled((int)(sight * Math.asin(fieldOfView[1])));\n\n    area.left = (int) objectMatrix.qVector().Add(leftVector).getX();\n    area.top = (int) objectMatrix.qVector().Add(upVector).getY();\n    area.right = (int) objectMatrix.qVector().Add(rightVector).getX();\n    area.bottom = (int) objectMatrix.qVector().Add(downVector).getY();\n}\n</code></pre>\n\n<p>and this is GameObject class </p>\n\n<pre><code>public class GameObject {\n\nprotected GameObject upperGameObject;//if upperGameObject is null, this GameObject is parent GameObject.\n\nprotected Common_Math.Matrix4X4 objectMatrix;\nprivate Vector&lt;SeaWeedComponent&gt; componentVector;\n\npublic GameObject()\n{\n    objectMatrix = new Common_Math.Matrix4X4();\n    AllocatePhysicsSpace();\n    componentVector = new Vector&lt;&gt;();\n}\n</code></pre>\n\n<p>and Matrix4x4 class</p>\n\n<pre><code>public static class Matrix4X4\n{\n    private Matrix1X4 xVector, yVector, zVector, qVector;\n\n    public Matrix4X4() {\n        xVector = new Matrix1X4(1, 0, 0, 0);\n        yVector = new Matrix1X4(0, 1, 0, 0);\n        zVector = new Matrix1X4(0, 0, 1, 0);\n        qVector = new Matrix1X4(0, 0, 0, 1);\n    }\n</code></pre>\n\n<p>so I was check a break point to see why this happened but when I debug this, every variables are stuck at \"Collecting data..\" and nothing happen. and even debuger respond is slow down.</p>\n\n<p>I can't guess why this happen. is there any problem in my code? how can I see the variables?</p>\n"},{"tags":["java","mocking","mockito"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1687902829,"post_id":76560360,"comment_id":135001652,"body_markdown":"Does this answer your question? [Why are my mocked methods not called when executing a unit test?](https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test\">Why are my mocked methods not called when executing a unit test?</a>"},{"owner":{"account_id":7562811,"reputation":1768,"user_id":5739619,"accept_rate":52,"display_name":"user5739619"},"score":0,"creation_date":1688170636,"post_id":76560360,"comment_id":135042805,"body_markdown":"no it doesn&#39;t. It provided a temporary solution by using an abstract class with `newRandomNumGen()`, but now the end2end test fails because I can&#39;t instantiate a bean of abstract class","body":"no it doesn&#39;t. It provided a temporary solution by using an abstract class with <code>newRandomNumGen()</code>, but now the end2end test fails because I can&#39;t instantiate a bean of abstract class"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1688212872,"post_id":76560360,"comment_id":135045727,"body_markdown":"Why abstract? Inject your dependency in the constructor, switch it with a test dependency. Your bean is still a concrete implementation","body":"Why abstract? Inject your dependency in the constructor, switch it with a test dependency. Your bean is still a concrete implementation"},{"owner":{"account_id":7562811,"reputation":1768,"user_id":5739619,"accept_rate":52,"display_name":"user5739619"},"score":0,"creation_date":1688317747,"post_id":76560360,"comment_id":135054978,"body_markdown":"Isn&#39;t the dependency already injected in the constructor. What do you mean switch it with a test dependency?","body":"Isn&#39;t the dependency already injected in the constructor. What do you mean switch it with a test dependency?"},{"owner":{"account_id":7562811,"reputation":1768,"user_id":5739619,"accept_rate":52,"display_name":"user5739619"},"score":0,"creation_date":1688317750,"post_id":76560360,"comment_id":135054979,"body_markdown":"its abstract because `public abstract RandomNumGen newRandomNumGen();` has no implementation. I didn&#39;t want it to return `new RandomNumGen()`, like the `RandomFactory` in the link you provided. But I couldn&#39;t make it an interface because I need the parameter `thresh`.","body":"its abstract because <code>public abstract RandomNumGen newRandomNumGen();</code> has no implementation. I didn&#39;t want it to return <code>new RandomNumGen()</code>, like the <code>RandomFactory</code> in the link you provided. But I couldn&#39;t make it an interface because I need the parameter <code>thresh</code>."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1688318231,"post_id":76560360,"comment_id":135055054,"body_markdown":"Why do you have `conf` at all? Just do `public BSending(Sender sender, int thresh, RandomNumGen rand)` like in the linked question. Also, why is `thresh` preventing you from defining an interface? `setThresh(int thresh)` and `getThresh()` can live in an interface just fine. Having said that, I don&#39;t think you need your `Conf` class at all. `@Component` is something to put on your _concrete_ implementations, not on an abstract base. You must implement your interface/base class for your production code.","body":"Why do you have <code>conf</code> at all? Just do <code>public BSending(Sender sender, int thresh, RandomNumGen rand)</code> like in the linked question. Also, why is <code>thresh</code> preventing you from defining an interface? <code>setThresh(int thresh)</code> and <code>getThresh()</code> can live in an interface just fine. Having said that, I don&#39;t think you need your <code>Conf</code> class at all. <code>@Component</code> is something to put on your <i>concrete</i> implementations, not on an abstract base. You must implement your interface/base class for your production code."},{"owner":{"account_id":7562811,"reputation":1768,"user_id":5739619,"accept_rate":52,"display_name":"user5739619"},"score":0,"creation_date":1688321047,"post_id":76560360,"comment_id":135055371,"body_markdown":"Because `BSending` needs to get `thresh` from an input text file so I can&#39;t use `RandomNumGen` as a parameter for the `BSendingService` constructor as it doesn&#39;t know yet the value of `thresh`","body":"Because <code>BSending</code> needs to get <code>thresh</code> from an input text file so I can&#39;t use <code>RandomNumGen</code> as a parameter for the <code>BSendingService</code> constructor as it doesn&#39;t know yet the value of <code>thresh</code>"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1688321663,"post_id":76560360,"comment_id":135055450,"body_markdown":"But `thresh` is not used by `RandomNumGen`? (Missing [mre]?) If it were, then it should be a parameter in the constructor of `RandomNumGen`. Your test impl would implement the same interface, but use a different constructor (parameterless or with fixed thresh). Maybe I&#39;m not understanding or seeing your problem. I think your task (&quot;how to test BSending with a fixed random generator&quot;) is perfectly solved by the many solutions given in the dupe question/answer.","body":"But <code>thresh</code> is not used by <code>RandomNumGen</code>? (Missing <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?) If it were, then it should be a parameter in the constructor of <code>RandomNumGen</code>. Your test impl would implement the same interface, but use a different constructor (parameterless or with fixed thresh). Maybe I&#39;m not understanding or seeing your problem. I think your task (&quot;how to test BSending with a fixed random generator&quot;) is perfectly solved by the many solutions given in the dupe question/answer."},{"owner":{"account_id":7562811,"reputation":1768,"user_id":5739619,"accept_rate":52,"display_name":"user5739619"},"score":0,"creation_date":1688324254,"post_id":76560360,"comment_id":135055746,"body_markdown":"I provided the code for `RandomNumGen` in EDIT2. Its from a 3rd-party library that I cant modify.","body":"I provided the code for <code>RandomNumGen</code> in EDIT2. Its from a 3rd-party library that I cant modify."},{"owner":{"account_id":7562811,"reputation":1768,"user_id":5739619,"accept_rate":52,"display_name":"user5739619"},"score":0,"creation_date":1688324339,"post_id":76560360,"comment_id":135055755,"body_markdown":"If I make `conf` an interface, then I can&#39;t inject a bean of it in `BSending` , right? I get no such bean error in the end2end test when I make it an interface","body":"If I make <code>conf</code> an interface, then I can&#39;t inject a bean of it in <code>BSending</code> , right? I get no such bean error in the end2end test when I make it an interface"},{"owner":{"account_id":7562811,"reputation":1768,"user_id":5739619,"accept_rate":52,"display_name":"user5739619"},"score":0,"creation_date":1688325306,"post_id":76560360,"comment_id":135055861,"body_markdown":"`BSending` needs to use `@Autowired` since it injects additional beans that I can&#39;t show the code for","body":"<code>BSending</code> needs to use <code>@Autowired</code> since it injects additional beans that I can&#39;t show the code for"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1688326587,"post_id":76560360,"comment_id":135056011,"body_markdown":"Why woudln&#39;t you be able to inject a bean of the interface? `interface Conf { void whatever(); }` then `@Component class ConfBean implements Conf { @Override void whatever() { /* your impl */; } }` and finally `@Component class BSending { @Autowired BSending(Conf conf, ...) { ... } }`. If `RandomNumGen` cannot be modified directly, create an Adapter or a Decorator for it to suit your use case.","body":"Why woudln&#39;t you be able to inject a bean of the interface? <code>interface Conf { void whatever(); }</code> then <code>@Component class ConfBean implements Conf { @Override void whatever() { &#47;* your impl *&#47;; } }</code> and finally <code>@Component class BSending { @Autowired BSending(Conf conf, ...) { ... } }</code>. If <code>RandomNumGen</code> cannot be modified directly, create an Adapter or a Decorator for it to suit your use case."},{"owner":{"account_id":7562811,"reputation":1768,"user_id":5739619,"accept_rate":52,"display_name":"user5739619"},"score":0,"creation_date":1688328046,"post_id":76560360,"comment_id":135056167,"body_markdown":"wouldn&#39;t `ConfBean` require implementing `RandomNumGen newRandomNumGen();`? The point of that is so I wouldn&#39;t have to implement it using `new RandomNumGen()` for `Delayed Construction via Factory` in the link you provided","body":"wouldn&#39;t <code>ConfBean</code> require implementing <code>RandomNumGen newRandomNumGen();</code>? The point of that is so I wouldn&#39;t have to implement it using <code>new RandomNumGen()</code> for <code>Delayed Construction via Factory</code> in the link you provided"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1688332403,"post_id":76560360,"comment_id":135056653,"body_markdown":"Yes. And your `class TestConf implements Conf { ... }` would return whatever fake implementation you require in your tests. Then your `BSending` can simply call `conf.newRandomNumGen()` and get the real thing in production and in your test you instantiate as `new BSending(new TestConf())`, thus your class will get the fake random number generator.","body":"Yes. And your <code>class TestConf implements Conf { ... }</code> would return whatever fake implementation you require in your tests. Then your <code>BSending</code> can simply call <code>conf.newRandomNumGen()</code> and get the real thing in production and in your test you instantiate as <code>new BSending(new TestConf())</code>, thus your class will get the fake random number generator."},{"owner":{"account_id":7562811,"reputation":1768,"user_id":5739619,"accept_rate":52,"display_name":"user5739619"},"score":0,"creation_date":1688445571,"post_id":76560360,"comment_id":135071426,"body_markdown":"your suggestion worked, thanks","body":"your suggestion worked, thanks"}],"answers":[{"comments":[{"owner":{"account_id":7562811,"reputation":1768,"user_id":5739619,"accept_rate":52,"display_name":"user5739619"},"score":0,"creation_date":1687816485,"post_id":76560412,"comment_id":134986944,"body_markdown":"That makes sense. But how can I get this to work if `isChosen()` must continue to take no arguments but the result of `RandomNumGen.isChosen()`  now depends on a parameter `thresh` and `BSending` must use this new parameter `thresh`? I edited the code above for this case where now `this.randomNumGen = new RandomNumGen(thresh);`. How can I fix the code in this case?","body":"That makes sense. But how can I get this to work if <code>isChosen()</code> must continue to take no arguments but the result of <code>RandomNumGen.isChosen()</code>  now depends on a parameter <code>thresh</code> and <code>BSending</code> must use this new parameter <code>thresh</code>? I edited the code above for this case where now <code>this.randomNumGen = new RandomNumGen(thresh);</code>. How can I fix the code in this case?"},{"owner":{"account_id":7562811,"reputation":1768,"user_id":5739619,"accept_rate":52,"display_name":"user5739619"},"score":0,"creation_date":1687818793,"post_id":76560412,"comment_id":134987174,"body_markdown":"Also, how can I handle this if theres now 2 objects of RandomNumGen: aRandomNumGen and cRandomNumGen where I want isChosen() to be true for the former but false for the latter?","body":"Also, how can I handle this if theres now 2 objects of RandomNumGen: aRandomNumGen and cRandomNumGen where I want isChosen() to be true for the former but false for the latter?"},{"owner":{"account_id":12917853,"reputation":997,"user_id":9341434,"display_name":"Brooklyn99"},"score":0,"creation_date":1687827841,"post_id":76560412,"comment_id":134987953,"body_markdown":"you can use when(randomNumGen.isChosen()).thenReturn(true).thenReturn(false);","body":"you can use when(randomNumGen.isChosen()).thenReturn(true).thenReturn(fa&zwnj;&#8203;lse);"},{"owner":{"account_id":7562811,"reputation":1768,"user_id":5739619,"accept_rate":52,"display_name":"user5739619"},"score":0,"creation_date":1687839541,"post_id":76560412,"comment_id":134988899,"body_markdown":"With that I still can&#39;t get `verify(aSender, times(1)).printLine();` to pass. Isn&#39;t there a way to get this to work while keeping `new RandomNumGen(thresh);`?","body":"With that I still can&#39;t get <code>verify(aSender, times(1)).printLine();</code> to pass. Isn&#39;t there a way to get this to work while keeping <code>new RandomNumGen(thresh);</code>?"}],"tags":[],"owner":{"account_id":12917853,"reputation":997,"user_id":9341434,"display_name":"Brooklyn99"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687815876,"creation_date":1687815876,"answer_id":76560412,"question_id":76560360,"body_markdown":"yes you are correct.\r\n\r\nIn your test, you are mocking the behavior of the RandomNumGen class using \r\n\r\n`when(randomNumGen.isChosen()).thenReturn(true);`\r\n\r\nThis means that whenever `randomNumGen.isChosen();` is called in the test, it should return true. \r\n\r\nHowever, when you create a new instance of RandomNumGen using\r\n` new RandomNumGen()` inside the BSending class, it creates a different instance that is not aware of the mocking behavior set up in the test.\r\n\r\nTo fix this one way you can do is:\r\n\r\n```java\r\npublic class BSending {\r\n    protected final Sender aSender;\r\n    private final RandomNumGen randomNumGen;\r\n\r\n    @Autowired\r\n    public BSending(Sender sender, RandomNumGen randomNumGen) {\r\n        this.aSender = sender;\r\n        this.randomNumGen = randomNumGen;\r\n    }\r\n\r\n    public void sendTask() {\r\n        if (randomNumGen.isChosen()) {\r\n            aSender.printLine();\r\n        }\r\n    }\r\n}\r\n```\r\nand then you can run your test.\r\n\r\n\r\n","title":"Mock thenReturn on New object not working if can&#39;t use Abstract class?","body":"<p>yes you are correct.</p>\n<p>In your test, you are mocking the behavior of the RandomNumGen class using</p>\n<p><code>when(randomNumGen.isChosen()).thenReturn(true);</code></p>\n<p>This means that whenever <code>randomNumGen.isChosen();</code> is called in the test, it should return true.</p>\n<p>However, when you create a new instance of RandomNumGen using\n<code> new RandomNumGen()</code> inside the BSending class, it creates a different instance that is not aware of the mocking behavior set up in the test.</p>\n<p>To fix this one way you can do is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BSending {\n    protected final Sender aSender;\n    private final RandomNumGen randomNumGen;\n\n    @Autowired\n    public BSending(Sender sender, RandomNumGen randomNumGen) {\n        this.aSender = sender;\n        this.randomNumGen = randomNumGen;\n    }\n\n    public void sendTask() {\n        if (randomNumGen.isChosen()) {\n            aSender.printLine();\n        }\n    }\n}\n</code></pre>\n<p>and then you can run your test.</p>\n"},{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688490358,"creation_date":1688490358,"answer_id":76614671,"question_id":76560360,"body_markdown":"`new`ing up instances in your class couples them to a single implementation. There are ways around it, which usually involves using PowerMockito or similar tools to intercept constructor calls and return a different implementation.\r\n\r\nBut you don&#39;t have to use such tools or libraries if you are willing to restructure your classes a little bit. If you do that, standard Java has got you covered.\r\n\r\nFor a proper discussion, let&#39;s look at the original code:\r\n\r\n```\r\npublic class Sender {\r\n    public void printLine() { System.out.println(&quot;print line&quot;); }\r\n}\r\n\r\npublic class BSending {\r\n    protected final Sender aSender;\r\n    private final RandomNumGen randomNumGen;\r\n\r\n    @Autowired\r\n    public BSending(Sender sender, int thresh) {\r\n        this.aSender = sender;\r\n        this.randomNumGen = new RandomNumGen(thresh);\r\n        //also injects other beans\r\n    }\r\n\r\n    public void sendTask() {\r\n        if (this.randomNumGen.isChosen()) aSender.printLine();\r\n    }\r\n}\r\n\r\npublic class BSendingTest {\r\n    @Mock private Sender aSender;\r\n    @Mock private RandomNumGen randomNumGen;\r\n\r\n    @Test void test() {\r\n        when(randomNumGen.isChosen()).thenReturn(true);\r\n        BSending bSending = new BSending(aSender, 25);\r\n        bSending.sendTask();\r\n        verify(aSender, times(1)).printLine();\r\n    }\r\n}\r\n```\r\n\r\nAs written above, `this.randomNumGen = new RandomNumGen(thresh)` tightly couples your class to this single random number generator implementation. Your `@Mock RandomNumGen randomNumGen` is never used by your class – how would it, you never pass it to the class and the class instantiates its own instance. While not the source of the problem, it is also worth pointing out that passing `thresh` to the `BSending` class is a bit odd too. `BSending` shouldn&#39;t know about the threshold for the number generator; the generator implementation should (and a different implementation might not even use a threshold).\r\n\r\nYou mention that `RandomNumGen` is a third-party _class_ and you cannot change it. That requires a bit more work on our part, but this is mostly writing a bit of boilerplate.\r\n\r\nFirst, let&#39;s start by introducing our own &quot;random number&quot; contract, which we&#39;ll consume in the service:\r\n\r\n```\r\ninterface RandomChooser {\r\n  boolean isChosen();\r\n}\r\n```\r\n\r\nand a &quot;production implementation&quot;, which wraps the third-party generator:\r\n\r\n```\r\n@Component // create bean elligible for autowiring\r\nclass RandomNumGenChooser implements RandomChooser {\r\n  private final RandomNumGen random;\r\n  public RandomNumGenChooser(final int thresh) {\r\n    this.random = new RandomNumGen(thresh);\r\n  }\r\n  @Override public boolean isChosen() { return random.isChosen(); }\r\n}\r\n```\r\n\r\nOnce we have that, migrate the service to consume the new interface:\r\n\r\n```\r\npublic class BSending {\r\n    protected final Sender aSender;\r\n    private final RandomChooser random;\r\n\r\n    @Autowired\r\n    public BSending(final Sender sender, final int thresh) {\r\n        this.aSender = sender;\r\n        this.random = new RandomNumGenChooser(thresh);\r\n        //also injects other beans\r\n    }\r\n\r\n    public void sendTask() {\r\n        if (random.isChosen()) aSender.printLine();\r\n    }\r\n}\r\n```\r\n\r\nIn the next step, move instantiation of the dependency out of the constructor. Since the implementation was already marked with `@Component`, it is added as bean to the application context and will be picked up by the autowiring mechanism:\r\n\r\n```\r\npublic class BSending {\r\n    protected final Sender aSender;\r\n    private final RandomChooser random;\r\n\r\n    @Autowired\r\n    public BSending(final Sender sender, final RandomChooser random) {\r\n        this.aSender = sender;\r\n        this.random = random;\r\n        //also injects other beans\r\n    }\r\n\r\n    public void sendTask() {\r\n        if (random.isChosen()) aSender.printLine();\r\n    }\r\n}\r\n```\r\n\r\nBut there&#39;s a problem! Spring cannot create an instance of the bean, because Spring does not know the value of `thresh`. You have 2 options:\r\n\r\n1. Annotate the constructor parameter with `@Value` to read it from a config file or the environment\r\n2. Implement a factory which creates the correct instance for you:\r\n\r\nThe factory could look like this:\r\n\r\n```\r\n@Component\r\nclass RandomChooserFactory {\r\n  RandomChooser randomChooser() {\r\n    final int thresh = // obtain threshold\r\n    return new RandomNumGenChooser(thresh);\r\n  }\r\n}\r\n```\r\n\r\nOkay, but how does that solve your problem? So far, we have only introduced additional interfaces, classes, and indirection. Correct, but all of that allows us to easily swap the `RandomNumGenChooser` with any implementation we desire in the tests.\r\n\r\nOne such possible implementation could look like this:\r\n\r\n```\r\nclass StaticRandomChooser implements RandomChooser {\r\n  private final boolean chosen;\r\n  public StaticRandomChooser(final boolean chosen) { this.chosen = chosen; }\r\n  @Override public boolean isChosen() { return chosen; }\r\n}\r\n```\r\n\r\nand it doesn&#39;t even have to be a bean.\r\n\r\nUsing it in your test becomes trivial now:\r\n\r\n```\r\npublic class BSendingTest {\r\n    @Mock private Sender aSender;\r\n\r\n    @Test void test() {\r\n        final BSending bSending = new BSending(\r\n            aSender,\r\n            new StaticRandomChooser(true));\r\n        bSending.sendTask();\r\n        verify(aSender).printLine();\r\n    }\r\n}\r\n```\r\n\r\nThis solution and variants for similar problems are explained in https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test","title":"Mock thenReturn on New object not working if can&#39;t use Abstract class?","body":"<p><code>new</code>ing up instances in your class couples them to a single implementation. There are ways around it, which usually involves using PowerMockito or similar tools to intercept constructor calls and return a different implementation.</p>\n<p>But you don't have to use such tools or libraries if you are willing to restructure your classes a little bit. If you do that, standard Java has got you covered.</p>\n<p>For a proper discussion, let's look at the original code:</p>\n<pre><code>public class Sender {\n    public void printLine() { System.out.println(&quot;print line&quot;); }\n}\n\npublic class BSending {\n    protected final Sender aSender;\n    private final RandomNumGen randomNumGen;\n\n    @Autowired\n    public BSending(Sender sender, int thresh) {\n        this.aSender = sender;\n        this.randomNumGen = new RandomNumGen(thresh);\n        //also injects other beans\n    }\n\n    public void sendTask() {\n        if (this.randomNumGen.isChosen()) aSender.printLine();\n    }\n}\n\npublic class BSendingTest {\n    @Mock private Sender aSender;\n    @Mock private RandomNumGen randomNumGen;\n\n    @Test void test() {\n        when(randomNumGen.isChosen()).thenReturn(true);\n        BSending bSending = new BSending(aSender, 25);\n        bSending.sendTask();\n        verify(aSender, times(1)).printLine();\n    }\n}\n</code></pre>\n<p>As written above, <code>this.randomNumGen = new RandomNumGen(thresh)</code> tightly couples your class to this single random number generator implementation. Your <code>@Mock RandomNumGen randomNumGen</code> is never used by your class – how would it, you never pass it to the class and the class instantiates its own instance. While not the source of the problem, it is also worth pointing out that passing <code>thresh</code> to the <code>BSending</code> class is a bit odd too. <code>BSending</code> shouldn't know about the threshold for the number generator; the generator implementation should (and a different implementation might not even use a threshold).</p>\n<p>You mention that <code>RandomNumGen</code> is a third-party <em>class</em> and you cannot change it. That requires a bit more work on our part, but this is mostly writing a bit of boilerplate.</p>\n<p>First, let's start by introducing our own &quot;random number&quot; contract, which we'll consume in the service:</p>\n<pre><code>interface RandomChooser {\n  boolean isChosen();\n}\n</code></pre>\n<p>and a &quot;production implementation&quot;, which wraps the third-party generator:</p>\n<pre><code>@Component // create bean elligible for autowiring\nclass RandomNumGenChooser implements RandomChooser {\n  private final RandomNumGen random;\n  public RandomNumGenChooser(final int thresh) {\n    this.random = new RandomNumGen(thresh);\n  }\n  @Override public boolean isChosen() { return random.isChosen(); }\n}\n</code></pre>\n<p>Once we have that, migrate the service to consume the new interface:</p>\n<pre><code>public class BSending {\n    protected final Sender aSender;\n    private final RandomChooser random;\n\n    @Autowired\n    public BSending(final Sender sender, final int thresh) {\n        this.aSender = sender;\n        this.random = new RandomNumGenChooser(thresh);\n        //also injects other beans\n    }\n\n    public void sendTask() {\n        if (random.isChosen()) aSender.printLine();\n    }\n}\n</code></pre>\n<p>In the next step, move instantiation of the dependency out of the constructor. Since the implementation was already marked with <code>@Component</code>, it is added as bean to the application context and will be picked up by the autowiring mechanism:</p>\n<pre><code>public class BSending {\n    protected final Sender aSender;\n    private final RandomChooser random;\n\n    @Autowired\n    public BSending(final Sender sender, final RandomChooser random) {\n        this.aSender = sender;\n        this.random = random;\n        //also injects other beans\n    }\n\n    public void sendTask() {\n        if (random.isChosen()) aSender.printLine();\n    }\n}\n</code></pre>\n<p>But there's a problem! Spring cannot create an instance of the bean, because Spring does not know the value of <code>thresh</code>. You have 2 options:</p>\n<ol>\n<li>Annotate the constructor parameter with <code>@Value</code> to read it from a config file or the environment</li>\n<li>Implement a factory which creates the correct instance for you:</li>\n</ol>\n<p>The factory could look like this:</p>\n<pre><code>@Component\nclass RandomChooserFactory {\n  RandomChooser randomChooser() {\n    final int thresh = // obtain threshold\n    return new RandomNumGenChooser(thresh);\n  }\n}\n</code></pre>\n<p>Okay, but how does that solve your problem? So far, we have only introduced additional interfaces, classes, and indirection. Correct, but all of that allows us to easily swap the <code>RandomNumGenChooser</code> with any implementation we desire in the tests.</p>\n<p>One such possible implementation could look like this:</p>\n<pre><code>class StaticRandomChooser implements RandomChooser {\n  private final boolean chosen;\n  public StaticRandomChooser(final boolean chosen) { this.chosen = chosen; }\n  @Override public boolean isChosen() { return chosen; }\n}\n</code></pre>\n<p>and it doesn't even have to be a bean.</p>\n<p>Using it in your test becomes trivial now:</p>\n<pre><code>public class BSendingTest {\n    @Mock private Sender aSender;\n\n    @Test void test() {\n        final BSending bSending = new BSending(\n            aSender,\n            new StaticRandomChooser(true));\n        bSending.sendTask();\n        verify(aSender).printLine();\n    }\n}\n</code></pre>\n<p>This solution and variants for similar problems are explained in <a href=\"https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test\">Why are my mocked methods not called when executing a unit test?</a></p>\n"}],"owner":{"account_id":7562811,"reputation":1768,"user_id":5739619,"accept_rate":52,"display_name":"user5739619"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1688490358,"creation_date":1687815233,"question_id":76560360,"body_markdown":"originally had the code below\r\n\r\n    public class Sender {\r\n        public void printLine() {\r\n            System.out.println(&quot;print line&quot;);\r\n        }\r\n    }\r\n\r\n\r\n    public class BSending {\r\n        protected final Sender aSender;\r\n        private final RandomNumGen randomNumGen;\r\n\r\n        @Autowired\r\n        public BSending(Sender sender, int thresh) {\r\n            this.aSender = sender;\r\n            this.randomNumGen = new RandomNumGen(thresh);\r\n            //also injects other beans\r\n        }\r\n\r\n        public void sendTask() {\r\n            if (this.randomNumGen.isChosen()) {\r\n                aSender.printLine();\r\n            }\r\n        }\r\n    }\r\n\r\n    public class BSendingTest {\r\n        @Mock private Sender aSender;\r\n        @Mock private RandomNumGen randomNumGen;\r\n\r\n\r\n        @Test\r\n        void test() {\r\n            when(randomNumGen.isChosen()).thenReturn(true);\r\n            BSending bSending = new BSending(aSender, 25);\r\n            bSending.sendTask();\r\n            verify(aSender, times(1)).printLine();\r\n        }\r\n    }\r\n\r\n\r\n    end2endTest {\r\n        ..\r\n\r\n        @SpringBootTest(\r\n           classes = {\r\n                BSending.class\r\n           })\r\n\r\n       ..\r\n\r\n    }\r\n\r\n\r\nwhere `randomNumGen.isChosen()` uses a random-number generator to determine if it should return true or false,\r\nbut it depends on the value `thresh` that is passed into `BSending`. This value is read from an input text file\r\n\r\nHere, I expected `aSender.printLine()` to be hit, but its not. Its because the mocked `randomNumGen` isn&#39;t being used due to the `new RandomNumGen(thresh)`\r\n\r\n\r\n**EDIT**:\r\n\r\nIf I then create an abstract class `Conf` so the now becomes\r\n\r\n    @Component\r\n    public abstract class Conf {\r\n        public int thresh;\r\n        public abstract RandomNumGen newRandomNumGen();\r\n\r\n    }\r\n\r\n    public class BSending {\r\n        protected final Sender aSender;\r\n        private final Conf conf;\r\n\r\n        @Autowired\r\n        public BSending(Sender sender, int thresh, Conf conf) {\r\n            this.aSender = sender;\r\n            this.conf = conf;\r\n            this.conf.thresh = thresh;\r\n        }\r\n\r\n        public void sendTask() {\r\n            if (conf.randomNumGen.isChosen()) {\r\n                aSender.printLine();\r\n            }\r\n        }\r\n    }\r\n\r\n    public class BSendingTest {\r\n        @Mock private Sender aSender;\r\n        @Mock private RandomNumGen randomNumGen;\r\n        @Mock private Conf conf;\r\n\r\n\r\n        @Test\r\n        void test() {\r\n            when(conf.newRandomNumGen()).thenReturn(randomNumGen);\r\n            when(randomNumGen.isChosen()).thenReturn(true);\r\n            BSending bSending = new BSending(aSender, 25, conf);\r\n            bSending.sendTask();\r\n            verify(aSender, times(1)).printLine();\r\n        }\r\n    }\r\n\r\n\r\nwhere `randomNumGen.isChosen()` uses a random-number generator to determine if it should return true or false\r\n\r\n Before, I expected `aSender.printLine()` to be hit, but its not. But with this new code with the abstract class `Conf`, now it works.\r\n\r\n The problem now is that because `Conf` is an abstract class (I made it abstract because it has the `thresh` member and `newRandomGen()` method), the end2end test now fails with `BeanInstantiationException is it an abstract class` as it has\r\n\r\n     @SpringBootTest(\r\n       classes = {\r\n            BSending.class, Conf.class\r\n       })\r\n\r\nIs there a way I can replicate the above without having to make `Conf` an abstract class?\r\n\r\n**EDIT2**:\r\n\r\n    public class RandomNumGen {\r\n        private final thresh;\r\n        public RandomNumGen(int thresh) {\r\n            this.thresh = thresh;\r\n        }\r\n        public boolean isChosen() {\r\n            return isChosenX(this.thresh, new Random())\r\n        }\r\n        public boolean isChosenX(int thresh, Random random) {\r\n            //determine if chosen using random number generator and thresh\r\n        }\r\n        \r\n            \r\n    }","title":"Mock thenReturn on New object not working if can&#39;t use Abstract class?","body":"<p>originally had the code below</p>\n<pre><code>public class Sender {\n    public void printLine() {\n        System.out.println(&quot;print line&quot;);\n    }\n}\n\n\npublic class BSending {\n    protected final Sender aSender;\n    private final RandomNumGen randomNumGen;\n\n    @Autowired\n    public BSending(Sender sender, int thresh) {\n        this.aSender = sender;\n        this.randomNumGen = new RandomNumGen(thresh);\n        //also injects other beans\n    }\n\n    public void sendTask() {\n        if (this.randomNumGen.isChosen()) {\n            aSender.printLine();\n        }\n    }\n}\n\npublic class BSendingTest {\n    @Mock private Sender aSender;\n    @Mock private RandomNumGen randomNumGen;\n\n\n    @Test\n    void test() {\n        when(randomNumGen.isChosen()).thenReturn(true);\n        BSending bSending = new BSending(aSender, 25);\n        bSending.sendTask();\n        verify(aSender, times(1)).printLine();\n    }\n}\n\n\nend2endTest {\n    ..\n\n    @SpringBootTest(\n       classes = {\n            BSending.class\n       })\n\n   ..\n\n}\n</code></pre>\n<p>where <code>randomNumGen.isChosen()</code> uses a random-number generator to determine if it should return true or false,\nbut it depends on the value <code>thresh</code> that is passed into <code>BSending</code>. This value is read from an input text file</p>\n<p>Here, I expected <code>aSender.printLine()</code> to be hit, but its not. Its because the mocked <code>randomNumGen</code> isn't being used due to the <code>new RandomNumGen(thresh)</code></p>\n<p><strong>EDIT</strong>:</p>\n<p>If I then create an abstract class <code>Conf</code> so the now becomes</p>\n<pre><code>@Component\npublic abstract class Conf {\n    public int thresh;\n    public abstract RandomNumGen newRandomNumGen();\n\n}\n\npublic class BSending {\n    protected final Sender aSender;\n    private final Conf conf;\n\n    @Autowired\n    public BSending(Sender sender, int thresh, Conf conf) {\n        this.aSender = sender;\n        this.conf = conf;\n        this.conf.thresh = thresh;\n    }\n\n    public void sendTask() {\n        if (conf.randomNumGen.isChosen()) {\n            aSender.printLine();\n        }\n    }\n}\n\npublic class BSendingTest {\n    @Mock private Sender aSender;\n    @Mock private RandomNumGen randomNumGen;\n    @Mock private Conf conf;\n\n\n    @Test\n    void test() {\n        when(conf.newRandomNumGen()).thenReturn(randomNumGen);\n        when(randomNumGen.isChosen()).thenReturn(true);\n        BSending bSending = new BSending(aSender, 25, conf);\n        bSending.sendTask();\n        verify(aSender, times(1)).printLine();\n    }\n}\n</code></pre>\n<p>where <code>randomNumGen.isChosen()</code> uses a random-number generator to determine if it should return true or false</p>\n<p>Before, I expected <code>aSender.printLine()</code> to be hit, but its not. But with this new code with the abstract class <code>Conf</code>, now it works.</p>\n<p>The problem now is that because <code>Conf</code> is an abstract class (I made it abstract because it has the <code>thresh</code> member and <code>newRandomGen()</code> method), the end2end test now fails with <code>BeanInstantiationException is it an abstract class</code> as it has</p>\n<pre><code> @SpringBootTest(\n   classes = {\n        BSending.class, Conf.class\n   })\n</code></pre>\n<p>Is there a way I can replicate the above without having to make <code>Conf</code> an abstract class?</p>\n<p><strong>EDIT2</strong>:</p>\n<pre><code>public class RandomNumGen {\n    private final thresh;\n    public RandomNumGen(int thresh) {\n        this.thresh = thresh;\n    }\n    public boolean isChosen() {\n        return isChosenX(this.thresh, new Random())\n    }\n    public boolean isChosenX(int thresh, Random random) {\n        //determine if chosen using random number generator and thresh\n    }\n    \n        \n}\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":1342185,"reputation":355,"user_id":1283658,"display_name":"P.An"},"score":1,"creation_date":1507297804,"post_id":46607292,"comment_id":80166394,"body_markdown":"Everything is possible, but could you please share the code of what was done?","body":"Everything is possible, but could you please share the code of what was done?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":2,"creation_date":1507298045,"post_id":46607292,"comment_id":80166557,"body_markdown":"I am guessing you are using radio buttons. Have you considered just adding an option &#39;none&#39;. Eg. one button will always be selected, but their is an option to say none of the above.","body":"I am guessing you are using radio buttons. Have you considered just adding an option &#39;none&#39;. Eg. one button will always be selected, but their is an option to say none of the above."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1507298203,"post_id":46607292,"comment_id":80166666,"body_markdown":"Add a button to the group labelled &#39;none of the other options&#39;..","body":"Add a button to the group labelled &#39;none of the other options&#39;.."}],"answers":[{"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1507297982,"post_id":46607367,"comment_id":80166511,"body_markdown":"How does that provide a &#39;one&#39; or &#39;none&#39; scenerio?","body":"How does that provide a &#39;one&#39; or &#39;none&#39; scenerio?"},{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":0,"creation_date":1507298398,"post_id":46607367,"comment_id":80166820,"body_markdown":"It seemed to me that it answered the &quot;I also want to be able to untick the button that was selected&quot; part, the other part is already working .","body":"It seemed to me that it answered the &quot;I also want to be able to untick the button that was selected&quot; part, the other part is already working ."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1507298993,"post_id":46607367,"comment_id":80167181,"body_markdown":"It sounds like they have a gui, and the user needs to be able to untick the box. So, I would guess, this provides a way for the programmer to untick it, but not the end user.","body":"It sounds like they have a gui, and the user needs to be able to untick the box. So, I would guess, this provides a way for the programmer to untick it, but not the end user."},{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":0,"creation_date":1507299212,"post_id":46607367,"comment_id":80167304,"body_markdown":"@matt : Maybe you&#39;re right, but I will leave this answer until the OP clarifies the &quot;I also want to&quot; part that may sound like &quot;[as a programmer,] I also want to&quot;.","body":"@matt : Maybe you&#39;re right, but I will leave this answer until the OP clarifies the &quot;I also want to&quot; part that may sound like &quot;[as a programmer,] I also want to&quot;."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1507299962,"post_id":46607367,"comment_id":80167812,"body_markdown":"@matt, (1+) for the clearSelection(). `So, I would guess, this provides a way for the programmer to untick it, but not the end user` - you add the `clearSelection()` logic to the ActionListener of the &quot;Clear&quot; JButton.","body":"@matt, (1+) for the clearSelection(). <code>So, I would guess, this provides a way for the programmer to untick it, but not the end user</code> - you add the <code>clearSelection()</code> logic to the ActionListener of the &quot;Clear&quot; JButton."},{"owner":{"account_id":11325705,"reputation":34,"user_id":8304687,"accept_rate":20,"display_name":"JenniferHL3"},"score":0,"creation_date":1507301865,"post_id":46607367,"comment_id":80169072,"body_markdown":"I would like the user to be able to unclick one of the buttons.","body":"I would like the user to be able to unclick one of the buttons."}],"tags":[],"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1507297931,"creation_date":1507297931,"answer_id":46607367,"question_id":46607292,"body_markdown":"Just use the `clearSelection()` method of `ButtonGroup` :\r\n\r\n\r\n[ButtonGroup.clearSelection()][1]\r\n\r\n&gt; Clears the selection such that none of the buttons in the ButtonGroup\r\n&gt; are selected.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/javax/swing/ButtonGroup.html#clearSelection--","title":"Have a Button Group in Java where all buttons can be deselected?","body":"<p>Just use the <code>clearSelection()</code> method of <code>ButtonGroup</code> :</p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/ButtonGroup.html#clearSelection--\" rel=\"nofollow noreferrer\">ButtonGroup.clearSelection()</a></p>\n\n<blockquote>\n  <p>Clears the selection such that none of the buttons in the ButtonGroup\n  are selected.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":11325705,"reputation":34,"user_id":8304687,"accept_rate":20,"display_name":"JenniferHL3"},"score":0,"creation_date":1507301719,"post_id":46607690,"comment_id":80168969,"body_markdown":"Thanks, this is useful, I might implement this but I&#39;d prefer not to add a clear button as it ruins the symmetry of my GUI.","body":"Thanks, this is useful, I might implement this but I&#39;d prefer not to add a clear button as it ruins the symmetry of my GUI."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1507485327,"post_id":46607690,"comment_id":80217776,"body_markdown":"@JenniferHL3, `I might implement this but I&#39;d prefer not to add a clear button` - then don&#39;t. Just add your code to the ActionListener. If the button is already selected, then try invokeing the clearSelection() method.","body":"@JenniferHL3, <code>I might implement this but I&#39;d prefer not to add a clear button</code> - then don&#39;t. Just add your code to the ActionListener. If the button is already selected, then try invokeing the clearSelection() method."}],"tags":[],"owner":{"account_id":3784598,"reputation":3859,"user_id":3142971,"accept_rate":100,"display_name":"Steampunkery"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1507298920,"creation_date":1507298920,"answer_id":46607690,"question_id":46607292,"body_markdown":"This snippet demonstrates how you can clear selections using `ButtonGroup.clearSelection()`:\r\n\r\n        //The buttons\r\n\t\tJFrame frame = new JFrame(&quot;Button test&quot;);\r\n\t\tJPanel panel = new JPanel();\r\n\t\tJRadioButton btn1 = new JRadioButton(&quot;Button1&quot;);\r\n\t\tJRadioButton btn2 = new JRadioButton(&quot;Button2&quot;);\r\n\t\tJButton clearbutton = new JButton(&quot;Clear&quot;);\r\n\r\n\t\tpanel.add(btn1);\r\n\t\tpanel.add(btn2);\r\n\t\tpanel.add(clearbutton);\r\n\t\tframe.add(panel);\r\n\t\tframe.setVisible(true);\r\n\t\tframe.pack();\r\n\t\t\r\n\t\t//The Group, make sure only one button is selected at a time in the group\r\n\t\tButtonGroup btngroup = new ButtonGroup();\r\n\t\tbtngroup.add(btn1);\r\n\t\tbtngroup.add(btn2);\r\n\r\n\t\tbtn1.addActionListener(new ActionListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\r\n\t\t\t\t// Do whatever you want here\r\n\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tbtn2.addActionListener(new ActionListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\r\n\t\t\t\t// Do whatever you want here\r\n\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tclearbutton.addActionListener(new ActionListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\r\n\t\t\t\t// Clear all selections\r\n\t\t\t\tbtngroup.clearSelection();\r\n\r\n\t\t\t}\r\n\t\t});\r\n\r\nAs you can see, this creates two JRadioButtons and adds them to group then makes a button that clears selections. Really simple. Or you could create your own radio button class that allows for the unchecking of the button, which is also doable relatively easily.","title":"Have a Button Group in Java where all buttons can be deselected?","body":"<p>This snippet demonstrates how you can clear selections using <code>ButtonGroup.clearSelection()</code>:</p>\n\n<pre><code>    //The buttons\n    JFrame frame = new JFrame(\"Button test\");\n    JPanel panel = new JPanel();\n    JRadioButton btn1 = new JRadioButton(\"Button1\");\n    JRadioButton btn2 = new JRadioButton(\"Button2\");\n    JButton clearbutton = new JButton(\"Clear\");\n\n    panel.add(btn1);\n    panel.add(btn2);\n    panel.add(clearbutton);\n    frame.add(panel);\n    frame.setVisible(true);\n    frame.pack();\n\n    //The Group, make sure only one button is selected at a time in the group\n    ButtonGroup btngroup = new ButtonGroup();\n    btngroup.add(btn1);\n    btngroup.add(btn2);\n\n    btn1.addActionListener(new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n\n            // Do whatever you want here\n\n        }\n    });\n\n    btn2.addActionListener(new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n\n            // Do whatever you want here\n\n        }\n    });\n\n    clearbutton.addActionListener(new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n\n            // Clear all selections\n            btngroup.clearSelection();\n\n        }\n    });\n</code></pre>\n\n<p>As you can see, this creates two JRadioButtons and adds them to group then makes a button that clears selections. Really simple. Or you could create your own radio button class that allows for the unchecking of the button, which is also doable relatively easily.</p>\n"},{"tags":[],"owner":{"account_id":14907986,"reputation":1,"user_id":19702985,"display_name":"Ahmed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688488417,"creation_date":1688230255,"answer_id":76595685,"question_id":46607292,"body_markdown":"I faced the same issue. `ButtonGroup` didn&#39;t work well, thus I had to code this behavior manually.\r\nI had two `JCheckBoxs`, A and B, they can&#39;t be selected both at the same time; only one selected at a time or none.\r\nI had to add `actionListener` to both `JCheckBoxs`, and had each `JCheckBox` to clear the selection the other `JCheckBox`.\r\n\r\nHere is the code snippet :\r\n\r\n    JCheckBox A = new JCheckBox(&quot;A&quot;);\r\n    JCheckBox B = new JCheckBox(&quot;B&quot;);\r\n    \r\n    A.addActionListener(new ActionListener() {\r\n    \t@Override\r\n    \tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tif(A.isSelected()) {\r\n    \t\t\tif(B.isSelected()) {\r\n    \t\t\t\tB.setSelected(false);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    });\r\n    B.addActionListener(new ActionListener() {\r\n    \t@Override\r\n    \tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tif(B.isSelected()) {\r\n    \t\t\tif(A.isSelected()) {\r\n    \t\t\t\tA.setSelected(false);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    });\r\n","title":"Have a Button Group in Java where all buttons can be deselected?","body":"<p>I faced the same issue. <code>ButtonGroup</code> didn't work well, thus I had to code this behavior manually.\nI had two <code>JCheckBoxs</code>, A and B, they can't be selected both at the same time; only one selected at a time or none.\nI had to add <code>actionListener</code> to both <code>JCheckBoxs</code>, and had each <code>JCheckBox</code> to clear the selection the other <code>JCheckBox</code>.</p>\n<p>Here is the code snippet :</p>\n<pre><code>JCheckBox A = new JCheckBox(&quot;A&quot;);\nJCheckBox B = new JCheckBox(&quot;B&quot;);\n\nA.addActionListener(new ActionListener() {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        // TODO Auto-generated method stub\n        if(A.isSelected()) {\n            if(B.isSelected()) {\n                B.setSelected(false);\n            }\n        }\n    }\n});\nB.addActionListener(new ActionListener() {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        // TODO Auto-generated method stub\n        if(B.isSelected()) {\n            if(A.isSelected()) {\n                A.setSelected(false);\n            }\n        }\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":11325705,"reputation":34,"user_id":8304687,"accept_rate":20,"display_name":"JenniferHL3"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1404,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1688488417,"creation_date":1507297726,"question_id":46607292,"body_markdown":"I want to have a Button Group in which either only one option is selected or none of them are. At the moment, I can get it to have no options ticked by default, and then if one of them is ticked only one of them can be ticked, but I also want to be able to untick the button that was selected. Is this possible?\r\n\r\nEDIT: Ideally without having a clear all button, as it would ruin the symmetry of my GUI. Also, here is my code thus far:\r\n\r\n    ButtonGroup option = new ButtonGroup();\r\n        for(int i = 0; i &lt; n; i++) {\r\n                JCheckBox check = new JCheckBox(&quot;&quot;, false);\r\n                option.add(check);\r\n                row3b.add(check);\r\n            } ","title":"Have a Button Group in Java where all buttons can be deselected?","body":"<p>I want to have a Button Group in which either only one option is selected or none of them are. At the moment, I can get it to have no options ticked by default, and then if one of them is ticked only one of them can be ticked, but I also want to be able to untick the button that was selected. Is this possible?</p>\n\n<p>EDIT: Ideally without having a clear all button, as it would ruin the symmetry of my GUI. Also, here is my code thus far:</p>\n\n<pre><code>ButtonGroup option = new ButtonGroup();\n    for(int i = 0; i &lt; n; i++) {\n            JCheckBox check = new JCheckBox(\"\", false);\n            option.add(check);\n            row3b.add(check);\n        } \n</code></pre>\n"},{"tags":["java","design-patterns","builder","builder-pattern"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":3,"creation_date":1688440927,"post_id":76609185,"comment_id":135071071,"body_markdown":"`Builder` is a *creational* design pattern. Your alternative is a fluent interface. They aren&#39;t the same thing. One reason to use a `Builder` is to ensure the `Employee` is never in an inconsistent state, and you would typically make the fields immutable as well. Why? Because then every `Employee` can be used by multiple threads safely.","body":"<code>Builder</code> is a <i>creational</i> design pattern. Your alternative is a fluent interface. They aren&#39;t the same thing. One reason to use a <code>Builder</code> is to ensure the <code>Employee</code> is never in an inconsistent state, and you would typically make the fields immutable as well. Why? Because then every <code>Employee</code> can be used by multiple threads safely."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1688442236,"post_id":76609185,"comment_id":135071174,"body_markdown":"Does this answer your question? [When would you use the Builder Pattern?](https://stackoverflow.com/questions/328496/when-would-you-use-the-builder-pattern)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/328496/when-would-you-use-the-builder-pattern\">When would you use the Builder Pattern?</a>"},{"owner":{"account_id":28771520,"reputation":31,"user_id":22035173,"display_name":"Shameem94"},"score":0,"creation_date":1688449447,"post_id":76609185,"comment_id":135071745,"body_markdown":"@MauricePerry Not exactly, that question is not very specific","body":"@MauricePerry Not exactly, that question is not very specific"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1688449769,"post_id":76609185,"comment_id":135071777,"body_markdown":"one use case: to have the `Employee` class immutable, that is, no methods to change the fields (`final` fields)","body":"one use case: to have the <code>Employee</code> class immutable, that is, no methods to change the fields (<code>final</code> fields)"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1688475941,"post_id":76609185,"comment_id":135077021,"body_markdown":"Actually, in modern Java, you should probably make the `Employee` a [*record*](https://docs.oracle.com/en/java/javase/20/language/records.html).","body":"Actually, in modern Java, you should probably make the <code>Employee</code> a <a href=\"https://docs.oracle.com/en/java/javase/20/language/records.html\" rel=\"nofollow noreferrer\"><i>record</i></a>."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688443032,"creation_date":1688443032,"answer_id":76609319,"question_id":76609185,"body_markdown":"&gt; _&quot;... What is the purpose of defining this class? ...&quot;_\r\n\r\nThe idea is to separate the field accessors, from the _builder_ design.\r\n\r\nIt&#39;s a common misconception that accessors are created specifically for accessing fields from _outside_ of the class.\r\n\r\nThey are actually just part of the _object-oriented design_ principle; as a way to define a single point of assignment and retrieval, of the data.\r\n\r\nIn other words, _setters and getters_ should be used throughout the class.\r\n\r\n```java\r\nclass Employee {\r\n    int id;\r\n    String name;\r\n\r\n    public Employee(int id, String name) {\r\n        setId(id);\r\n        setName(name);\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n}\r\n```\r\n\r\nAs opposed to,\r\n\r\n```java\r\npublic Employee(int id, String name) {\r\n    this.id = id;\r\n    this.name = name;\r\n}\r\n```\r\n\r\nThis considered, you would want to have an inner-class, to separate the design.\r\n\r\nKeep in mind though, design patterns are just outlines.&amp;nbsp; There is no exact way to write them; as they are just recommendations.\r\n\r\nIf adjusting the pattern, by removing the inner-class, improves your design, I would recommend using that.\r\n\r\nSometimes design concepts can clash, and actually degrade the scalability of the product, thus, defeating the purpose of their use.","title":"Why do we need a &#39;Builder class&#39; in Builder design pattern?","body":"<blockquote>\n<p><em>&quot;... What is the purpose of defining this class? ...&quot;</em></p>\n</blockquote>\n<p>The idea is to separate the field accessors, from the <em>builder</em> design.</p>\n<p>It's a common misconception that accessors are created specifically for accessing fields from <em>outside</em> of the class.</p>\n<p>They are actually just part of the <em>object-oriented design</em> principle; as a way to define a single point of assignment and retrieval, of the data.</p>\n<p>In other words, <em>setters and getters</em> should be used throughout the class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Employee {\n    int id;\n    String name;\n\n    public Employee(int id, String name) {\n        setId(id);\n        setName(name);\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n<p>As opposed to,</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Employee(int id, String name) {\n    this.id = id;\n    this.name = name;\n}\n</code></pre>\n<p>This considered, you would want to have an inner-class, to separate the design.</p>\n<p>Keep in mind though, design patterns are just outlines.  There is no exact way to write them; as they are just recommendations.</p>\n<p>If adjusting the pattern, by removing the inner-class, improves your design, I would recommend using that.</p>\n<p>Sometimes design concepts can clash, and actually degrade the scalability of the product, thus, defeating the purpose of their use.</p>\n"},{"tags":[],"owner":{"account_id":28771520,"reputation":31,"user_id":22035173,"display_name":"Shameem94"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688488399,"creation_date":1688488399,"answer_id":76614501,"question_id":76609185,"body_markdown":"Thanks for all the responses. As [Elliott Frisch](https://stackoverflow.com/users/2970947/elliott-frisch) and others mentioned in the above comments, using a **Builder** inner class helps us achieve consistency and immutability (apart from preventing telescoping constructor anti-pattern). Let me elaborate it.\r\n\r\nIf we use setter methods instead of Builder inner class we have the following limitations\r\n\r\n 1. Class cannot be made immutable. For e.g., the following is possible \r\n\r\n    ```\r\n    Employee emp = new Employee().id(1).name(&quot;Abc&quot;);\r\n    emp.name(&quot;Xyz&quot;);\r\n    ```\r\n\r\n 2. Fields are set after instantiation i.e., the object is first created followed by setting of each and every field. This can lead to inconsistent state of the object if it is shared by multiple threads. In other words, the object becomes accessible by other threads before all the fields are set.\r\n\r\nThe above problems can be avoided if we use a **Builder** inner class (which is what Builder design pattern actually is).\r\n\r\nIn addition to the above points we can also perform validations for fields inside the &#39;**build()**&#39; method. For e.g.,\r\n\r\n```\r\npublic Employee build() {\r\n  if (this.id == null) {\r\n    throw new RuntimeException(&quot;&#39;id&#39; cannot be null&quot;);\r\n  }\r\n  return new Employee(this);\r\n}\r\n```\r\n\r\n","title":"Why do we need a &#39;Builder class&#39; in Builder design pattern?","body":"<p>Thanks for all the responses. As <a href=\"https://stackoverflow.com/users/2970947/elliott-frisch\">Elliott Frisch</a> and others mentioned in the above comments, using a <strong>Builder</strong> inner class helps us achieve consistency and immutability (apart from preventing telescoping constructor anti-pattern). Let me elaborate it.</p>\n<p>If we use setter methods instead of Builder inner class we have the following limitations</p>\n<ol>\n<li><p>Class cannot be made immutable. For e.g., the following is possible</p>\n<pre><code>Employee emp = new Employee().id(1).name(&quot;Abc&quot;);\nemp.name(&quot;Xyz&quot;);\n</code></pre>\n</li>\n<li><p>Fields are set after instantiation i.e., the object is first created followed by setting of each and every field. This can lead to inconsistent state of the object if it is shared by multiple threads. In other words, the object becomes accessible by other threads before all the fields are set.</p>\n</li>\n</ol>\n<p>The above problems can be avoided if we use a <strong>Builder</strong> inner class (which is what Builder design pattern actually is).</p>\n<p>In addition to the above points we can also perform validations for fields inside the '<strong>build()</strong>' method. For e.g.,</p>\n<pre><code>public Employee build() {\n  if (this.id == null) {\n    throw new RuntimeException(&quot;'id' cannot be null&quot;);\n  }\n  return new Employee(this);\n}\n</code></pre>\n"}],"owner":{"account_id":28771520,"reputation":31,"user_id":22035173,"display_name":"Shameem94"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76614501,"answer_count":2,"score":2,"last_activity_date":1688488399,"creation_date":1688440681,"question_id":76609185,"body_markdown":"In Builder design pattern a &#39;**Builder**&#39; inner class is used through which we set the values for the fields of that class. What is the purpose of defining this class?\r\n\r\nOne of the main reasons cited for using a builder pattern is that it solves the **Telescoping Constructor Problem**\r\n\r\nIf so, why can&#39;t we just go ahead with setter methods?\r\n\r\n(Note: Although there are some questions that had already discussed this topic ([link](https://stackoverflow.com/questions/71419541/why-we-use-builder-design-pattern-instead-of-setters)) those questions and answers were not very straight forward. Hence, I had to draft this question)\r\n\r\nFor e.g.,\r\nWhy do this?\r\n```\r\npublic class Employee {\r\n  private int id;\r\n  private String name;\r\n\r\n  public Employee (Builder builder) {\r\n    this.id = builder.id;\r\n    this.name = builder.name;\r\n  }\r\n\r\n  public static class Builder {\r\n    private int id;\r\n    private String name;\r\n\r\n    public Builder id(int id) {\r\n      this.id = id;\r\n      return this;\r\n    }\r\n\r\n    public Builder name(String name) {\r\n      this.name = name;\r\n      return this;\r\n    }\r\n\r\n    public Employee build() {\r\n      return new Employee(this);\r\n    }\r\n  }\r\n}\r\n\r\n// Employee emp = new Employee.Builder().id(1).name(&quot;Abc&quot;).build();\r\n```\r\ninstead of this?\r\n```\r\npublic class Employee {\r\n  private int id;\r\n  private String name;\r\n\r\n  public Employee id(int id) {\r\n    this.id = id;\r\n    return this;\r\n  }\r\n\r\n  public Employee name(String name) {\r\n    this.name = name;\r\n    return this;\r\n  }\r\n}\r\n\r\n// Employee emp = new Employee().id(1).name(&quot;Abc&quot;);\r\n```","title":"Why do we need a &#39;Builder class&#39; in Builder design pattern?","body":"<p>In Builder design pattern a '<strong>Builder</strong>' inner class is used through which we set the values for the fields of that class. What is the purpose of defining this class?</p>\n<p>One of the main reasons cited for using a builder pattern is that it solves the <strong>Telescoping Constructor Problem</strong></p>\n<p>If so, why can't we just go ahead with setter methods?</p>\n<p>(Note: Although there are some questions that had already discussed this topic (<a href=\"https://stackoverflow.com/questions/71419541/why-we-use-builder-design-pattern-instead-of-setters\">link</a>) those questions and answers were not very straight forward. Hence, I had to draft this question)</p>\n<p>For e.g.,\nWhy do this?</p>\n<pre><code>public class Employee {\n  private int id;\n  private String name;\n\n  public Employee (Builder builder) {\n    this.id = builder.id;\n    this.name = builder.name;\n  }\n\n  public static class Builder {\n    private int id;\n    private String name;\n\n    public Builder id(int id) {\n      this.id = id;\n      return this;\n    }\n\n    public Builder name(String name) {\n      this.name = name;\n      return this;\n    }\n\n    public Employee build() {\n      return new Employee(this);\n    }\n  }\n}\n\n// Employee emp = new Employee.Builder().id(1).name(&quot;Abc&quot;).build();\n</code></pre>\n<p>instead of this?</p>\n<pre><code>public class Employee {\n  private int id;\n  private String name;\n\n  public Employee id(int id) {\n    this.id = id;\n    return this;\n  }\n\n  public Employee name(String name) {\n    this.name = name;\n    return this;\n  }\n}\n\n// Employee emp = new Employee().id(1).name(&quot;Abc&quot;);\n</code></pre>\n"},{"tags":["java","spring-cloud-sleuth"],"answers":[{"comments":[{"owner":{"account_id":6316958,"reputation":621,"user_id":4906544,"display_name":"Alexey Stepanov"},"score":2,"creation_date":1688589612,"post_id":76614485,"comment_id":135095583,"body_markdown":"It would be better if you asked questions in comments, not in your answer. It&#39;s the little improvement, but in general everything looks good","body":"It would be better if you asked questions in comments, not in your answer. It&#39;s the little improvement, but in general everything looks good"}],"tags":[],"owner":{"account_id":1746185,"reputation":31,"user_id":1596353,"display_name":"Alex Korotkov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688488299,"creation_date":1688488299,"answer_id":76614485,"question_id":74403466,"body_markdown":"Sleuth can propagate x-b3-* header automatically only to restTemplate, webClient and feign.\r\n\r\nwhat httpclient are you using to make SOAP-calls?","title":"Spring Sleuth not working for SOAP outgoing calls (out-of-the-box)","body":"<p>Sleuth can propagate x-b3-* header automatically only to restTemplate, webClient and feign.</p>\n<p>what httpclient are you using to make SOAP-calls?</p>\n"}],"owner":{"account_id":25298092,"reputation":1,"user_id":19122873,"display_name":"Diego Silva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688488299,"creation_date":1668174509,"question_id":74403466,"body_markdown":"I&#39;m trying to set up the following Spring Sleuth configuration to propagate remote fields (HTTP request headers) across the projects out-of-the-box:\r\n\r\n```\r\nsleuth:\r\n  async:\r\n    enabled: true\r\n  baggage:\r\n    remote-fields:\r\n      - Caller-Id\r\n```\r\n\r\nFor the outgoing Rest calls, it&#39;s working fine:\r\n\r\n`Request headers: {Accept=[application/json; distances], Authorization=[Bearer ...], X-B3-TraceId=[3f3f61757851d371], X-B3-SpanId=[3f3f61757851d371], X-B3-Sampled=[1], `**`caller-id=[value]`**`} `\r\n\r\nHowever, it&#39;s not true for the SOAP outgoing calls:\r\n\r\n`SOAP Headers - {Authorization=[Bearer...]}`\r\n\r\nWe&#39;re using Feign as Rest client and jaxws-spring for SOAP.\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.revinate&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jaxws-spring&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAm I doing something wrong?","title":"Spring Sleuth not working for SOAP outgoing calls (out-of-the-box)","body":"<p>I'm trying to set up the following Spring Sleuth configuration to propagate remote fields (HTTP request headers) across the projects out-of-the-box:</p>\n<pre><code>sleuth:\n  async:\n    enabled: true\n  baggage:\n    remote-fields:\n      - Caller-Id\n</code></pre>\n<p>For the outgoing Rest calls, it's working fine:</p>\n<p><code>Request headers: {Accept=[application/json; distances], Authorization=[Bearer ...], X-B3-TraceId=[3f3f61757851d371], X-B3-SpanId=[3f3f61757851d371], X-B3-Sampled=[1], </code><strong><code>caller-id=[value]</code></strong><code>} </code></p>\n<p>However, it's not true for the SOAP outgoing calls:</p>\n<p><code>SOAP Headers - {Authorization=[Bearer...]}</code></p>\n<p>We're using Feign as Rest client and jaxws-spring for SOAP.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.revinate&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxws-spring&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Am I doing something wrong?</p>\n"},{"tags":["java","deadlock"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1688494107,"post_id":76614464,"comment_id":135080534,"body_markdown":"`doPullAll gets the lock first, and while-loop waits` how do you know it will enter the while ? Did you debug this part ?","body":"<code>doPullAll gets the lock first, and while-loop waits</code> how do you know it will enter the while ? Did you debug this part ?"}],"owner":{"account_id":16783651,"reputation":31,"user_id":12133207,"display_name":"Lucien Evans"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688488109,"creation_date":1688488109,"question_id":76614464,"body_markdown":"https://github.com/alibaba/DataX\r\n\r\nI would like to ask a question. In the MemoryChannel of DataX, both doPullAll and doPushAll will  lock. Why does it no cause a deadlock?\r\nFor example, under the initial conditions, the queue is empty, then doPullAll gets the lock first, and while-loop waits.\r\nAt this time, the doPushAll is called; it also tries to acquire the lock, but it will fail because the lock is already occupied. Thus a deadlock occurs.\r\n\r\nBut it is definitely not the case, this procedure must be normal. Why is there no deadlock?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAny help is appreciated\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9YiwN.png\r\n  [2]: https://i.stack.imgur.com/PRath.png","title":"Why is not there a dead lock in MemoryChannel of DataX","body":"<p><a href=\"https://github.com/alibaba/DataX\" rel=\"nofollow noreferrer\">https://github.com/alibaba/DataX</a></p>\n<p>I would like to ask a question. In the MemoryChannel of DataX, both doPullAll and doPushAll will  lock. Why does it no cause a deadlock?\nFor example, under the initial conditions, the queue is empty, then doPullAll gets the lock first, and while-loop waits.\nAt this time, the doPushAll is called; it also tries to acquire the lock, but it will fail because the lock is already occupied. Thus a deadlock occurs.</p>\n<p>But it is definitely not the case, this procedure must be normal. Why is there no deadlock?</p>\n<p><a href=\"https://i.stack.imgur.com/9YiwN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9YiwN.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/PRath.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PRath.png\" alt=\"enter image description here\" /></a></p>\n<p>Any help is appreciated</p>\n"},{"tags":["java","spring-boot","ssl","okhttp"],"answers":[{"comments":[{"owner":{"account_id":5444810,"reputation":3671,"user_id":4331750,"accept_rate":83,"display_name":"whistling_marmot"},"score":0,"creation_date":1643990467,"post_id":66162070,"comment_id":125493782,"body_markdown":"This is the way to do it if (like me) you&#39;re using an old version of okhttp, older than 4.7.0","body":"This is the way to do it if (like me) you&#39;re using an old version of okhttp, older than 4.7.0"}],"tags":[],"owner":{"account_id":3350985,"reputation":304,"user_id":2815062,"display_name":"Alexandrakis alexandros"},"comment_count":1,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1613074199,"creation_date":1613074199,"answer_id":66162070,"question_id":66152780,"body_markdown":"Apparently the only way to do it is to make OkHttp to ignore hostname verification\r\n\r\n```\r\n OkHttpClient okHttpClient = new OkHttpClient.Builder().hostnameVerifier(new HostnameVerifier() {\r\n                @Override\r\n                public boolean verify(String hostname, SSLSession session) {\r\n                    return true;\r\n                }\r\n            }).build();\r\n            Retrofit retrofit = new Retrofit.Builder()\r\n                    .client(okHttpClient)\r\n                    .baseUrl(&quot;https://localhost:8443/&quot;)\r\n                    .addConverterFactory(MoshiConverterFactory.create())\r\n                    .build();\r\n```","title":"How to avoid javax.net.ssl.SSLPeerUnverifiedException: Hostname test.server.com not verified","body":"<p>Apparently the only way to do it is to make OkHttp to ignore hostname verification</p>\n<pre><code> OkHttpClient okHttpClient = new OkHttpClient.Builder().hostnameVerifier(new HostnameVerifier() {\n                @Override\n                public boolean verify(String hostname, SSLSession session) {\n                    return true;\n                }\n            }).build();\n            Retrofit retrofit = new Retrofit.Builder()\n                    .client(okHttpClient)\n                    .baseUrl(&quot;https://localhost:8443/&quot;)\n                    .addConverterFactory(MoshiConverterFactory.create())\n                    .build();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3350985,"reputation":304,"user_id":2815062,"display_name":"Alexandrakis alexandros"},"score":1,"creation_date":1613128978,"post_id":66169133,"comment_id":116986920,"body_markdown":"The certificate indeed does not have any subjectAltNames and with an oldest version of OkHttp was working ok. Thanks a lot @yuri.","body":"The certificate indeed does not have any subjectAltNames and with an oldest version of OkHttp was working ok. Thanks a lot @yuri."},{"owner":{"account_id":455397,"reputation":140,"user_id":853544,"display_name":"Giulio Quaresima"},"score":1,"creation_date":1697533118,"post_id":66169133,"comment_id":136288511,"body_markdown":"TYVM! Following you suggestion I resolved my issue too.","body":"TYVM! Following you suggestion I resolved my issue too."}],"tags":[],"owner":{"account_id":1481915,"reputation":12601,"user_id":1542667,"accept_rate":75,"display_name":"Yuri Schimke"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1613136855,"creation_date":1613121413,"answer_id":66169133,"question_id":66152780,"body_markdown":"I suspect that it is because you are generating an invalid certificates, CN shouldn&#39;t be used anymore for hostname validation.  subjectAltNames is empty in your certificate. This changed in 3.10.0\r\n\r\nhttps://square.github.io/okhttp/changelog_3x/#version-3100\r\n\r\n&gt; New: Don’t fall back to common name (CN) verification for hostnames. This behavior was deprecated with RFC 2818 in May 2000 and was recently dropped from major web browsers.\r\n\r\n\r\nIf you just want to white list one devserver you can use the following\r\n\r\nhttps://square.github.io/okhttp/changelog/#version-470\r\n\r\n```\r\nval clientCertificates = HandshakeCertificates.Builder()\r\n    .addPlatformTrustedCertificates()\r\n    .addInsecureHost(&quot;localhost&quot;)\r\n    .build()\r\n\r\nval client = OkHttpClient.Builder()\r\n    .sslSocketFactory(clientCertificates.sslSocketFactory(), clientCertificates.trustManager)\r\n    .build()\r\n```","title":"How to avoid javax.net.ssl.SSLPeerUnverifiedException: Hostname test.server.com not verified","body":"<p>I suspect that it is because you are generating an invalid certificates, CN shouldn't be used anymore for hostname validation.  subjectAltNames is empty in your certificate. This changed in 3.10.0</p>\n<p><a href=\"https://square.github.io/okhttp/changelog_3x/#version-3100\" rel=\"noreferrer\">https://square.github.io/okhttp/changelog_3x/#version-3100</a></p>\n<blockquote>\n<p>New: Don’t fall back to common name (CN) verification for hostnames. This behavior was deprecated with RFC 2818 in May 2000 and was recently dropped from major web browsers.</p>\n</blockquote>\n<p>If you just want to white list one devserver you can use the following</p>\n<p><a href=\"https://square.github.io/okhttp/changelog/#version-470\" rel=\"noreferrer\">https://square.github.io/okhttp/changelog/#version-470</a></p>\n<pre><code>val clientCertificates = HandshakeCertificates.Builder()\n    .addPlatformTrustedCertificates()\n    .addInsecureHost(&quot;localhost&quot;)\n    .build()\n\nval client = OkHttpClient.Builder()\n    .sslSocketFactory(clientCertificates.sslSocketFactory(), clientCertificates.trustManager)\n    .build()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":244147,"reputation":748,"user_id":516754,"accept_rate":80,"display_name":"d4c0d312"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688487669,"creation_date":1688487669,"answer_id":76614425,"question_id":66152780,"body_markdown":"Currently targeting Android SDK 33 , i found that i needed to do more than one thing - combining the suggestions of [@alexandrakis-alexandros][1] and [@yuri-schimke][2]\r\n\r\n     httpLoggingInterceptor.level = HttpLoggingInterceptor.Level.BODY\r\n        val clientCertificates = HandshakeCertificates.Builder()\r\n            .addPlatformTrustedCertificates()\r\n            .addInsecureHost(&quot;myhttpslocalhost&quot;)\r\n            .build()\r\n\r\n        return Retrofit.Builder()\r\n            .baseUrl(BuildConfig.BASE_SERVER_URL)\r\n            .client(\r\n                OkHttpClient.Builder()\r\n                    .hostnameVerifier { _, _ -&gt; true }\r\n                    .sslSocketFactory(clientCertificates.sslSocketFactory(), clientCertificates.trustManager)\r\n                    .addInterceptor(httpLoggingInterceptor)\r\n                    .build(),\r\n            )\r\n            ...\r\n            .build()\r\n\r\nI had to use both a HandshakeCertificates class and a HostNameVerifier override.\r\n\r\nDon&#39;t forget to remove it in production or amend your code to only implement it in debug mode.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/2815062/alexandrakis-alexandros\r\n  [2]: https://stackoverflow.com/users/1542667/yuri-schimke","title":"How to avoid javax.net.ssl.SSLPeerUnverifiedException: Hostname test.server.com not verified","body":"<p>Currently targeting Android SDK 33 , i found that i needed to do more than one thing - combining the suggestions of <a href=\"https://stackoverflow.com/users/2815062/alexandrakis-alexandros\">@alexandrakis-alexandros</a> and <a href=\"https://stackoverflow.com/users/1542667/yuri-schimke\">@yuri-schimke</a></p>\n<pre><code> httpLoggingInterceptor.level = HttpLoggingInterceptor.Level.BODY\n    val clientCertificates = HandshakeCertificates.Builder()\n        .addPlatformTrustedCertificates()\n        .addInsecureHost(&quot;myhttpslocalhost&quot;)\n        .build()\n\n    return Retrofit.Builder()\n        .baseUrl(BuildConfig.BASE_SERVER_URL)\n        .client(\n            OkHttpClient.Builder()\n                .hostnameVerifier { _, _ -&gt; true }\n                .sslSocketFactory(clientCertificates.sslSocketFactory(), clientCertificates.trustManager)\n                .addInterceptor(httpLoggingInterceptor)\n                .build(),\n        )\n        ...\n        .build()\n</code></pre>\n<p>I had to use both a HandshakeCertificates class and a HostNameVerifier override.</p>\n<p>Don't forget to remove it in production or amend your code to only implement it in debug mode.</p>\n"}],"owner":{"account_id":3350985,"reputation":304,"user_id":2815062,"display_name":"Alexandrakis alexandros"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9332,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":3,"score":6,"last_activity_date":1688487669,"creation_date":1613038832,"question_id":66152780,"body_markdown":"I have a spring-boot app (version 2.3.7) that uses okhttp3 and I&#39;m trying to call an api in `https://test.server.com:8888/api` . The certificate on the server is self-signed so I have updated my carets to trust this certificate. When I m running the SSLPoke.class like this `java SSLPoke test.server.com 8888` I m getting `Successfully Connected`. But when the request is made from my app I m getting the `javax.net.ssl.SSLPeerUnverifiedException: Hostname test.server.com not verified:` error. Since the cacerts is updated do I need to write extra code to verify the hostname ?\r\n\r\nTo be more specific I have the following snippet. If I pass the truststore in the VM options `-Djavax.net.ssl.trustStore=client-truststore.jks -Djavax.net.ssl.trustStorePassword=changeit` the call with the okhttp fails, but with rest template succeeds. \r\n\r\n```\r\n@SpringBootApplication\r\npublic class DemoOkhttpClientApplication implements CommandLineRunner {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(DemoOkhttpClientApplication.class, args);\r\n    }\r\n\r\n    @Override\r\n    public void run(String... args) throws Exception {\r\n        try {\r\n            Retrofit retrofit = new Retrofit.Builder()\r\n                    .baseUrl(&quot;https://localhost:8443/&quot;)\r\n                    .addConverterFactory(MoshiConverterFactory.create())\r\n                    .build();\r\n            TestClient testClient = retrofit.create(TestClient.class);\r\n            System.out.println(String.format(&quot;OkHttp Response %s&quot;, testClient.callTestEndpoint().execute().body()));\r\n        } catch (Exception ex){\r\n            System.err.println();\r\n            System.err.println(&quot;Ok Http error &quot; + ex.getMessage());\r\n        }\r\n\r\n        try {\r\n            RestTemplate restTemplate = new RestTemplate();\r\n            System.out.println(String.format(&quot;Rest Template Response %s&quot;,\r\n                    restTemplate.exchange(&quot;https://localhost:8443/test&quot;, HttpMethod.GET, null, String.class)));\r\n        } catch (Exception ex){\r\n            System.err.println(&quot;Rest Template error&quot; + ex.getMessage());\r\n        }\r\n    }\r\n}\r\n\r\ninterface TestClient {\r\n    @GET(&quot;/test&quot;)\r\n    Call&lt;String&gt; callTestEndpoint();\r\n}\r\n\r\n```\r\n\r\nThe output of the above snippet is this\r\n\r\n```\r\nOk Http error Hostname localhost not verified:\r\n    certificate: sha256/INkKXJiMFIGNnvE5ga1Ye0KjxjP5jO9hIrNvQs4wuU0=\r\n    DN: CN=localhost, OU=PC, O=PC, L=Marousi, ST=Athens, C=GR\r\n    subjectAltNames: []\r\nRest Template Response &lt;200,Ok,[Content-Type:&quot;text/plain;charset=UTF-8&quot;, Content-Length:&quot;2&quot;, Date:&quot;Thu, 11 Feb 2021 17:09:55 GMT&quot;, Keep-Alive:&quot;timeout=60&quot;, Connection:&quot;keep-alive&quot;]&gt;\r\n\r\n```\r\n","title":"How to avoid javax.net.ssl.SSLPeerUnverifiedException: Hostname test.server.com not verified","body":"<p>I have a spring-boot app (version 2.3.7) that uses okhttp3 and I'm trying to call an api in <code>https://test.server.com:8888/api</code> . The certificate on the server is self-signed so I have updated my carets to trust this certificate. When I m running the SSLPoke.class like this <code>java SSLPoke test.server.com 8888</code> I m getting <code>Successfully Connected</code>. But when the request is made from my app I m getting the <code>javax.net.ssl.SSLPeerUnverifiedException: Hostname test.server.com not verified:</code> error. Since the cacerts is updated do I need to write extra code to verify the hostname ?</p>\n<p>To be more specific I have the following snippet. If I pass the truststore in the VM options <code>-Djavax.net.ssl.trustStore=client-truststore.jks -Djavax.net.ssl.trustStorePassword=changeit</code> the call with the okhttp fails, but with rest template succeeds.</p>\n<pre><code>@SpringBootApplication\npublic class DemoOkhttpClientApplication implements CommandLineRunner {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoOkhttpClientApplication.class, args);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n        try {\n            Retrofit retrofit = new Retrofit.Builder()\n                    .baseUrl(&quot;https://localhost:8443/&quot;)\n                    .addConverterFactory(MoshiConverterFactory.create())\n                    .build();\n            TestClient testClient = retrofit.create(TestClient.class);\n            System.out.println(String.format(&quot;OkHttp Response %s&quot;, testClient.callTestEndpoint().execute().body()));\n        } catch (Exception ex){\n            System.err.println();\n            System.err.println(&quot;Ok Http error &quot; + ex.getMessage());\n        }\n\n        try {\n            RestTemplate restTemplate = new RestTemplate();\n            System.out.println(String.format(&quot;Rest Template Response %s&quot;,\n                    restTemplate.exchange(&quot;https://localhost:8443/test&quot;, HttpMethod.GET, null, String.class)));\n        } catch (Exception ex){\n            System.err.println(&quot;Rest Template error&quot; + ex.getMessage());\n        }\n    }\n}\n\ninterface TestClient {\n    @GET(&quot;/test&quot;)\n    Call&lt;String&gt; callTestEndpoint();\n}\n\n</code></pre>\n<p>The output of the above snippet is this</p>\n<pre><code>Ok Http error Hostname localhost not verified:\n    certificate: sha256/INkKXJiMFIGNnvE5ga1Ye0KjxjP5jO9hIrNvQs4wuU0=\n    DN: CN=localhost, OU=PC, O=PC, L=Marousi, ST=Athens, C=GR\n    subjectAltNames: []\nRest Template Response &lt;200,Ok,[Content-Type:&quot;text/plain;charset=UTF-8&quot;, Content-Length:&quot;2&quot;, Date:&quot;Thu, 11 Feb 2021 17:09:55 GMT&quot;, Keep-Alive:&quot;timeout=60&quot;, Connection:&quot;keep-alive&quot;]&gt;\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","liquibase","sap-business-technology-platform"],"comments":[{"owner":{"account_id":4279009,"reputation":7633,"user_id":3498962,"display_name":"Essex Boy"},"score":0,"creation_date":1586336544,"post_id":61096780,"comment_id":108088486,"body_markdown":"look at this [answer](https://stackoverflow.com/questions/41801965/spring-liquibase-recover-when-application-is-crashed/41802213#41802213)","body":"look at this <a href=\"https://stackoverflow.com/questions/41801965/spring-liquibase-recover-when-application-is-crashed/41802213#41802213\">answer</a>"},{"owner":{"account_id":18215414,"reputation":1,"user_id":13257169,"display_name":"Jose Paolo San Pedro"},"score":0,"creation_date":1586337257,"post_id":61096780,"comment_id":108088851,"body_markdown":"not sure how this helps. The issue is that liquibase updates the locked column with an integer value but the column has a boolean data type. Although this should be okay right? Since boolean should also accept 0/1 as the input. Sorry but what exactly should I check in the link you mentioned?","body":"not sure how this helps. The issue is that liquibase updates the locked column with an integer value but the column has a boolean data type. Although this should be okay right? Since boolean should also accept 0/1 as the input. Sorry but what exactly should I check in the link you mentioned?"},{"owner":{"account_id":7966981,"reputation":6819,"user_id":6012939,"accept_rate":100,"display_name":"htshame"},"score":0,"creation_date":1586337647,"post_id":61096780,"comment_id":108089049,"body_markdown":"@JosePaoloSanPedro you mean that when you drop `databasechangeloglock` table, it gets recreated with `locked` column of `smallint` type and not `boolean`?","body":"@JosePaoloSanPedro you mean that when you drop <code>databasechangeloglock</code> table, it gets recreated with <code>locked</code> column of <code>smallint</code> type and not <code>boolean</code>?"},{"owner":{"account_id":18215414,"reputation":1,"user_id":13257169,"display_name":"Jose Paolo San Pedro"},"score":0,"creation_date":1586338272,"post_id":61096780,"comment_id":108089362,"body_markdown":"Hi @htshame, when I try to drop the `databasechangeloglock`, it recreates the table with the `locked` column having the `boolean` data type. But when I&#39;m trying to start my application in `sap cloud platform` it fails with the error shown above. \n\n`INT type is not comparable with BOOLEAN type`. Liquibase tries to update the table using `0/1` as inputs for `locked` column","body":"Hi @htshame, when I try to drop the <code>databasechangeloglock</code>, it recreates the table with the <code>locked</code> column having the <code>boolean</code> data type. But when I&#39;m trying to start my application in <code>sap cloud platform</code> it fails with the error shown above.   <code>INT type is not comparable with BOOLEAN type</code>. Liquibase tries to update the table using <code>0&#47;1</code> as inputs for <code>locked</code> column"}],"owner":{"account_id":18215414,"reputation":1,"user_id":13257169,"display_name":"Jose Paolo San Pedro"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688487419,"creation_date":1586335818,"question_id":61096780,"body_markdown":"Lately we updated our Liquibase version to 3.8.7\r\n\r\nWith the update, I encountered an issue regarding the DATABASECHANGELOGLOCK table.\r\nThe table has all the same columns except for the LOCKED column which was changed from smallint to boolean.\r\n\r\nNow this is causing an issue about the data types. See the log error below.\r\n&gt; liquibase.exception.LockException: liquibase.exception.DatabaseException: Error executing SQL UPDATE &quot;B515B1A3C_JPSOL21C&quot;.&quot;DATABASECHANGELOGLOCK&quot; SET &quot;LOCKED&quot; = 1, &quot;LOCKEDBY&quot; = &#39;vsa7421484s.ash.od.sap.biz (10.108.3.107)&#39;, &quot;LOCKGRANTED&quot; = &#39;2020-04-08 08:32:29.759&#39; WHERE &quot;ID&quot; = 1 AND &quot;LOCKED&quot; = 0: SAP DBTech JDBC: [266] (at 200): inconsistent datatype: INT type is not comparable with BOOLEAN type.: line 1 col 201 (at pos 200)\r\n\r\nFull log:\r\n```\r\n2020 04 08 08:32:29#+00#ERROR#org.springframework.web.context.ContextLoader##anonymous#localhost-startStop-1#na#b515b1a3c#jpsol21c#web##na#na#na#na#Context initialization failed org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;liquibase&#39; defined in ServletContext resource [/WEB-INF/repository-context.xml]: Invocation of init method failed; nested exception is liquibase.exception.LockException: liquibase.exception.DatabaseException: Error executing SQL UPDATE &quot;B515B1A3C_JPSOL21C&quot;.&quot;DATABASECHANGELOGLOCK&quot; SET &quot;LOCKED&quot; = 1, &quot;LOCKEDBY&quot; = &#39;vsa7421484s.ash.od.sap.biz (10.108.3.107)&#39;, &quot;LOCKGRANTED&quot; = &#39;2020-04-08 08:32:29.759&#39; WHERE &quot;ID&quot; = 1 AND &quot;LOCKED&quot; = 0: SAP DBTech JDBC: [266] (at 200): inconsistent datatype: INT type is not comparable with BOOLEAN type.: line 1 col 201 (at pos 200)\r\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1630)\r\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)\r\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:481)\r\nat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)\r\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308)\r\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:756)\r\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\r\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542)\r\nat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:443)\r\nat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:325)\r\nat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:107)\r\nat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4699)\r\nat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5165)\r\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\nat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:743)\r\nat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:719)\r\nat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:705)\r\nat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:970)\r\nat org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1841)\r\nat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\nat java.lang.Thread.run(Thread.java:836)\r\nCaused by: liquibase.exception.LockException: liquibase.exception.DatabaseException: Error executing SQL UPDATE &quot;B515B1A3C_JPSOL21C&quot;.&quot;DATABASECHANGELOGLOCK&quot; SET &quot;LOCKED&quot; = 1, &quot;LOCKEDBY&quot; = &#39;vsa7421484s.ash.od.sap.biz (10.108.3.107)&#39;, &quot;LOCKGRANTED&quot; = &#39;2020-04-08 08:32:29.759&#39; WHERE &quot;ID&quot; = 1 AND &quot;LOCKED&quot; = 0: SAP DBTech JDBC: [266] (at 200): inconsistent datatype: INT type is not comparable with BOOLEAN type.: line 1 col 201 (at pos 200)\r\nat liquibase.lockservice.StandardLockService.acquireLock(StandardLockService.java:242)\r\nat liquibase.lockservice.StandardLockService.waitForLock(StandardLockService.java:170)\r\nat liquibase.Liquibase.update(Liquibase.java:196)\r\nat liquibase.Liquibase.update(Liquibase.java:192)\r\nat liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:431)\r\nat liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:388)\r\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1688)\r\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1626)\r\n... 25 common frames omitted\r\nCaused by: liquibase.exception.DatabaseException: Error executing SQL UPDATE &quot;B515B1A3C_JPSOL21C&quot;.&quot;DATABASECHANGELOGLOCK&quot; SET &quot;LOCKED&quot; = 1, &quot;LOCKEDBY&quot; = &#39;vsa7421484s.ash.od.sap.biz (10.108.3.107)&#39;, &quot;LOCKGRANTED&quot; = &#39;2020-04-08 08:32:29.759&#39; WHERE &quot;ID&quot; = 1 AND &quot;LOCKED&quot; = 0: SAP DBTech JDBC: [266] (at 200): inconsistent datatype: INT type is not comparable with BOOLEAN type.: line 1 col 201 (at pos 200)\r\nat liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:68)\r\nat liquibase.executor.jvm.JdbcExecutor.update(JdbcExecutor.java:231)\r\nat liquibase.executor.jvm.JdbcExecutor.update(JdbcExecutor.java:205)\r\nat liquibase.lockservice.StandardLockService.acquireLock(StandardLockService.java:215)\r\n... 35 common frames omitted\r\n```\r\n\r\nAlready tried to drop the DATABASECHANGELOGLOCK table and its still not working. Any suggestions?","title":"Liquibase LOCKED column data type issue","body":"<p>Lately we updated our Liquibase version to 3.8.7</p>\n<p>With the update, I encountered an issue regarding the DATABASECHANGELOGLOCK table.\nThe table has all the same columns except for the LOCKED column which was changed from smallint to boolean.</p>\n<p>Now this is causing an issue about the data types. See the log error below.</p>\n<blockquote>\n<p>liquibase.exception.LockException: liquibase.exception.DatabaseException: Error executing SQL UPDATE &quot;B515B1A3C_JPSOL21C&quot;.&quot;DATABASECHANGELOGLOCK&quot; SET &quot;LOCKED&quot; = 1, &quot;LOCKEDBY&quot; = 'vsa7421484s.ash.od.sap.biz (10.108.3.107)', &quot;LOCKGRANTED&quot; = '2020-04-08 08:32:29.759' WHERE &quot;ID&quot; = 1 AND &quot;LOCKED&quot; = 0: SAP DBTech JDBC: [266] (at 200): inconsistent datatype: INT type is not comparable with BOOLEAN type.: line 1 col 201 (at pos 200)</p>\n</blockquote>\n<p>Full log:</p>\n<pre><code>2020 04 08 08:32:29#+00#ERROR#org.springframework.web.context.ContextLoader##anonymous#localhost-startStop-1#na#b515b1a3c#jpsol21c#web##na#na#na#na#Context initialization failed org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in ServletContext resource [/WEB-INF/repository-context.xml]: Invocation of init method failed; nested exception is liquibase.exception.LockException: liquibase.exception.DatabaseException: Error executing SQL UPDATE &quot;B515B1A3C_JPSOL21C&quot;.&quot;DATABASECHANGELOGLOCK&quot; SET &quot;LOCKED&quot; = 1, &quot;LOCKEDBY&quot; = 'vsa7421484s.ash.od.sap.biz (10.108.3.107)', &quot;LOCKGRANTED&quot; = '2020-04-08 08:32:29.759' WHERE &quot;ID&quot; = 1 AND &quot;LOCKED&quot; = 0: SAP DBTech JDBC: [266] (at 200): inconsistent datatype: INT type is not comparable with BOOLEAN type.: line 1 col 201 (at pos 200)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1630)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:481)\nat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:756)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542)\nat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:443)\nat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:325)\nat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:107)\nat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4699)\nat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5165)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:743)\nat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:719)\nat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:705)\nat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:970)\nat org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1841)\nat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat java.lang.Thread.run(Thread.java:836)\nCaused by: liquibase.exception.LockException: liquibase.exception.DatabaseException: Error executing SQL UPDATE &quot;B515B1A3C_JPSOL21C&quot;.&quot;DATABASECHANGELOGLOCK&quot; SET &quot;LOCKED&quot; = 1, &quot;LOCKEDBY&quot; = 'vsa7421484s.ash.od.sap.biz (10.108.3.107)', &quot;LOCKGRANTED&quot; = '2020-04-08 08:32:29.759' WHERE &quot;ID&quot; = 1 AND &quot;LOCKED&quot; = 0: SAP DBTech JDBC: [266] (at 200): inconsistent datatype: INT type is not comparable with BOOLEAN type.: line 1 col 201 (at pos 200)\nat liquibase.lockservice.StandardLockService.acquireLock(StandardLockService.java:242)\nat liquibase.lockservice.StandardLockService.waitForLock(StandardLockService.java:170)\nat liquibase.Liquibase.update(Liquibase.java:196)\nat liquibase.Liquibase.update(Liquibase.java:192)\nat liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:431)\nat liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:388)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1688)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1626)\n... 25 common frames omitted\nCaused by: liquibase.exception.DatabaseException: Error executing SQL UPDATE &quot;B515B1A3C_JPSOL21C&quot;.&quot;DATABASECHANGELOGLOCK&quot; SET &quot;LOCKED&quot; = 1, &quot;LOCKEDBY&quot; = 'vsa7421484s.ash.od.sap.biz (10.108.3.107)', &quot;LOCKGRANTED&quot; = '2020-04-08 08:32:29.759' WHERE &quot;ID&quot; = 1 AND &quot;LOCKED&quot; = 0: SAP DBTech JDBC: [266] (at 200): inconsistent datatype: INT type is not comparable with BOOLEAN type.: line 1 col 201 (at pos 200)\nat liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:68)\nat liquibase.executor.jvm.JdbcExecutor.update(JdbcExecutor.java:231)\nat liquibase.executor.jvm.JdbcExecutor.update(JdbcExecutor.java:205)\nat liquibase.lockservice.StandardLockService.acquireLock(StandardLockService.java:215)\n... 35 common frames omitted\n</code></pre>\n<p>Already tried to drop the DATABASECHANGELOGLOCK table and its still not working. Any suggestions?</p>\n"},{"tags":["javascript","java","node.js","encryption","des"],"answers":[{"comments":[{"owner":{"account_id":132808,"reputation":3515,"user_id":333729,"accept_rate":97,"display_name":"bbnn"},"score":0,"creation_date":1688374841,"post_id":76603262,"comment_id":135060852,"body_markdown":"thank you for your answer, the problem is that the skey is more than 8 characters.. and I&#39;m getting a TS error on `const generatedKey = key.update(desKeyBuffer, &#39;utf-8&#39;, &#39;hex&#39;);`","body":"thank you for your answer, the problem is that the skey is more than 8 characters.. and I&#39;m getting a TS error on <code>const generatedKey = key.update(desKeyBuffer, &#39;utf-8&#39;, &#39;hex&#39;);</code>"},{"owner":{"account_id":132808,"reputation":3515,"user_id":333729,"accept_rate":97,"display_name":"bbnn"},"score":0,"creation_date":1688375021,"post_id":76603262,"comment_id":135060884,"body_markdown":"I added desKeyBuffer.toString(), and the TS error is gone. but I&#39;m having problem with the IV now, it says: ERR_CRYPTO_INVALID_IV","body":"I added desKeyBuffer.toString(), and the TS error is gone. but I&#39;m having problem with the IV now, it says: ERR_CRYPTO_INVALID_IV"},{"owner":{"account_id":132808,"reputation":3515,"user_id":333729,"accept_rate":97,"display_name":"bbnn"},"score":0,"creation_date":1688375075,"post_id":76603262,"comment_id":135060900,"body_markdown":"I got 8 characters for the IV, is this correct?","body":"I got 8 characters for the IV, is this correct?"},{"owner":{"account_id":15198268,"reputation":96,"user_id":10966982,"display_name":"Gaurav singh rajpoot"},"score":0,"creation_date":1688375211,"post_id":76603262,"comment_id":135060921,"body_markdown":"For the IV error, make sure that the iv parameter passed to the getSignature() function is a valid IV string. The IV should be 8 bytes (64 bits) long. Ensure that you&#39;re providing a valid IV value.","body":"For the IV error, make sure that the iv parameter passed to the getSignature() function is a valid IV string. The IV should be 8 bytes (64 bits) long. Ensure that you&#39;re providing a valid IV value."},{"owner":{"account_id":15198268,"reputation":96,"user_id":10966982,"display_name":"Gaurav singh rajpoot"},"score":0,"creation_date":1688375295,"post_id":76603262,"comment_id":135060933,"body_markdown":"yes, it should be 8","body":"yes, it should be 8"},{"owner":{"account_id":132808,"reputation":3515,"user_id":333729,"accept_rate":97,"display_name":"bbnn"},"score":0,"creation_date":1688375551,"post_id":76603262,"comment_id":135060988,"body_markdown":"The iv is 8 length in characters and the skey length is 16, but I&#39;m not sure if it&#39;s valid or not because I just got them from a vendor. Do the iv and skey need to be a matching pair?","body":"The iv is 8 length in characters and the skey length is 16, but I&#39;m not sure if it&#39;s valid or not because I just got them from a vendor. Do the iv and skey need to be a matching pair?"},{"owner":{"account_id":132808,"reputation":3515,"user_id":333729,"accept_rate":97,"display_name":"bbnn"},"score":0,"creation_date":1688375740,"post_id":76603262,"comment_id":135061027,"body_markdown":"the more detailed error is `Invalid initialization vector`","body":"the more detailed error is <code>Invalid initialization vector</code>"},{"owner":{"account_id":15198268,"reputation":96,"user_id":10966982,"display_name":"Gaurav singh rajpoot"},"score":0,"creation_date":1688375855,"post_id":76603262,"comment_id":135061054,"body_markdown":"if (IV.length !== 8) {\n    throw new Error(&#39;Invalid IV length. IV should be 8 bytes (64 bits) long.&#39;);\n  }\nThis block checks whether the length of the IV is exactly 8 bytes (64 bits) and throws an error if it&#39;s not.","body":"if (IV.length !== 8) {     throw new Error(&#39;Invalid IV length. IV should be 8 bytes (64 bits) long.&#39;);   } This block checks whether the length of the IV is exactly 8 bytes (64 bits) and throws an error if it&#39;s not."},{"owner":{"account_id":132808,"reputation":3515,"user_id":333729,"accept_rate":97,"display_name":"bbnn"},"score":0,"creation_date":1688375939,"post_id":76603262,"comment_id":135061067,"body_markdown":"I just console.log(IV.length), it prints out 8, but I got this error Invalid initialization vector","body":"I just console.log(IV.length), it prints out 8, but I got this error Invalid initialization vector"},{"owner":{"account_id":15198268,"reputation":96,"user_id":10966982,"display_name":"Gaurav singh rajpoot"},"score":0,"creation_date":1688376033,"post_id":76603262,"comment_id":135061090,"body_markdown":"The IV (Initialization Vector) and the key do not need to be a matching pair in terms of their length. They serve different purposes in the encryption process.\n\nThe IV is used to ensure that each message encrypted with the same key has a unique ciphertext. It should be a random and unpredictable value of 8 bytes (64 bits) in length for DES-CBC encryption.","body":"The IV (Initialization Vector) and the key do not need to be a matching pair in terms of their length. They serve different purposes in the encryption process.  The IV is used to ensure that each message encrypted with the same key has a unique ciphertext. It should be a random and unpredictable value of 8 bytes (64 bits) in length for DES-CBC encryption."},{"owner":{"account_id":15198268,"reputation":96,"user_id":10966982,"display_name":"Gaurav singh rajpoot"},"score":0,"creation_date":1688376069,"post_id":76603262,"comment_id":135061100,"body_markdown":"The key, on the other hand, is used to encrypt and decrypt the data. For DES, the key should be exactly 8 bytes (64 bits) in length. If your skey has a length of 16 characters, it&#39;s not a valid key for DES encryption. DES requires a key length of 8 bytes.","body":"The key, on the other hand, is used to encrypt and decrypt the data. For DES, the key should be exactly 8 bytes (64 bits) in length. If your skey has a length of 16 characters, it&#39;s not a valid key for DES encryption. DES requires a key length of 8 bytes."},{"owner":{"account_id":15198268,"reputation":96,"user_id":10966982,"display_name":"Gaurav singh rajpoot"},"score":0,"creation_date":1688376129,"post_id":76603262,"comment_id":135061111,"body_markdown":"To resolve the &quot;Invalid initialization vector&quot; error, make sure that the IV you are using is a valid 8-byte string and that it is truly random and unpredictable. If you received the IV and key from a vendor, you may need to double-check with them if the values are correct.\n\nIf the IV and key provided by the vendor are not compatible with the DES encryption algorithm, you might need to reach out to the vendor for clarification or obtain the correct values.","body":"To resolve the &quot;Invalid initialization vector&quot; error, make sure that the IV you are using is a valid 8-byte string and that it is truly random and unpredictable. If you received the IV and key from a vendor, you may need to double-check with them if the values are correct.  If the IV and key provided by the vendor are not compatible with the DES encryption algorithm, you might need to reach out to the vendor for clarification or obtain the correct values."},{"owner":{"account_id":132808,"reputation":3515,"user_id":333729,"accept_rate":97,"display_name":"bbnn"},"score":0,"creation_date":1688376153,"post_id":76603262,"comment_id":135061115,"body_markdown":"actually I got the IV error in here:","body":"actually I got the IV error in here:"},{"owner":{"account_id":132808,"reputation":3515,"user_id":333729,"accept_rate":97,"display_name":"bbnn"},"score":0,"creation_date":1688376159,"post_id":76603262,"comment_id":135061117,"body_markdown":"const key = crypto.createCipheriv(&#39;des-cbc&#39;, Buffer.alloc(8), &#39;&#39;);","body":"const key = crypto.createCipheriv(&#39;des-cbc&#39;, Buffer.alloc(8), &#39;&#39;);"},{"owner":{"account_id":132808,"reputation":3515,"user_id":333729,"accept_rate":97,"display_name":"bbnn"},"score":0,"creation_date":1688376273,"post_id":76603262,"comment_id":135061132,"body_markdown":"and when I changed it to const key = crypto.createCipheriv(&#39;des-cbc&#39;, Buffer.alloc(8), IV); I got another error in const desKeyBuffer = Buffer.concat([desKey, Buffer.alloc(8 - desKey.length)]); because 8 - desKey.length is -8","body":"and when I changed it to const key = crypto.createCipheriv(&#39;des-cbc&#39;, Buffer.alloc(8), IV); I got another error in const desKeyBuffer = Buffer.concat([desKey, Buffer.alloc(8 - desKey.length)]); because 8 - desKey.length is -8"},{"owner":{"account_id":15198268,"reputation":96,"user_id":10966982,"display_name":"Gaurav singh rajpoot"},"score":0,"creation_date":1688376352,"post_id":76603262,"comment_id":135061144,"body_markdown":"To fix the &quot;Invalid initialization vector&quot; error, you need to pass the actual IV value to the createCipheriv() function instead of an empty string. Here&#39;s the corrected code:","body":"To fix the &quot;Invalid initialization vector&quot; error, you need to pass the actual IV value to the createCipheriv() function instead of an empty string. Here&#39;s the corrected code:"},{"owner":{"account_id":15198268,"reputation":96,"user_id":10966982,"display_name":"Gaurav singh rajpoot"},"score":0,"creation_date":1688376420,"post_id":76603262,"comment_id":135061161,"body_markdown":"const crypto = require(&#39;crypto&#39;);\n\nfunction getSignature(skey, iv, data) {\n\n  const IV = Buffer.from(iv, &#39;utf-8&#39;);\n\n  const desKey = Buffer.from(skey, &#39;utf-8&#39;);\n\n\n  // Generate DES key\n  const key = crypto.createCipheriv(&#39;des-cbc&#39;, desKey, IV);\n  key.setAutoPadding(false);\n\n\n  const cipher = crypto.createCipheriv(&#39;des-cbc&#39;, desKey, IV);\n  let encrypted = cipher.update(data, &#39;utf-8&#39;, &#39;base64&#39;);\n  encrypted += cipher.final(&#39;base64&#39;);\n  return encrypted;\n}","body":"const crypto = require(&#39;crypto&#39;);  function getSignature(skey, iv, data) {    const IV = Buffer.from(iv, &#39;utf-8&#39;);    const desKey = Buffer.from(skey, &#39;utf-8&#39;);     // Generate DES key   const key = crypto.createCipheriv(&#39;des-cbc&#39;, desKey, IV);   key.setAutoPadding(false);     const cipher = crypto.createCipheriv(&#39;des-cbc&#39;, desKey, IV);   let encrypted = cipher.update(data, &#39;utf-8&#39;, &#39;base64&#39;);   encrypted += cipher.final(&#39;base64&#39;);   return encrypted; }"},{"owner":{"account_id":15198268,"reputation":96,"user_id":10966982,"display_name":"Gaurav singh rajpoot"},"score":0,"creation_date":1688376602,"post_id":76603262,"comment_id":135061199,"body_markdown":"In this code, I removed the unnecessary line key.setAutoPadding(false) as it&#39;s not needed for the encryption process.","body":"In this code, I removed the unnecessary line key.setAutoPadding(false) as it&#39;s not needed for the encryption process."},{"owner":{"account_id":15198268,"reputation":96,"user_id":10966982,"display_name":"Gaurav singh rajpoot"},"score":0,"creation_date":1688376950,"post_id":76603262,"comment_id":135061269,"body_markdown":"I made a mistake in my previous response. The issue lies with the usage of Buffer.alloc(8 - desKey.length) in the code snippet.\n\nTo correctly handle keys longer than 8 bytes, you can truncate or derive a valid 8-byte key from the provided key.","body":"I made a mistake in my previous response. The issue lies with the usage of Buffer.alloc(8 - desKey.length) in the code snippet.  To correctly handle keys longer than 8 bytes, you can truncate or derive a valid 8-byte key from the provided key."},{"owner":{"account_id":15198268,"reputation":96,"user_id":10966982,"display_name":"Gaurav singh rajpoot"},"score":0,"creation_date":1688377075,"post_id":76603262,"comment_id":135061294,"body_markdown":"const truncatedKey = desKey.slice(0, 8);","body":"const truncatedKey = desKey.slice(0, 8);"},{"owner":{"account_id":15198268,"reputation":96,"user_id":10966982,"display_name":"Gaurav singh rajpoot"},"score":0,"creation_date":1688377122,"post_id":76603262,"comment_id":135061303,"body_markdown":"Added this line to truncate the desKey to the first 8 bytes using the slice() method. This ensures that the key used for encryption is always 8 bytes in length.","body":"Added this line to truncate the desKey to the first 8 bytes using the slice() method. This ensures that the key used for encryption is always 8 bytes in length."},{"owner":{"account_id":132808,"reputation":3515,"user_id":333729,"accept_rate":97,"display_name":"bbnn"},"score":0,"creation_date":1688377597,"post_id":76603262,"comment_id":135061403,"body_markdown":"actually I thought about that just simply truncate the skey. and seems like that is the solution.  thank you!","body":"actually I thought about that just simply truncate the skey. and seems like that is the solution.  thank you!"},{"owner":{"account_id":132808,"reputation":3515,"user_id":333729,"accept_rate":97,"display_name":"bbnn"},"score":0,"creation_date":1688377656,"post_id":76603262,"comment_id":135061416,"body_markdown":"I editted your answer and accepted it.","body":"I editted your answer and accepted it."},{"owner":{"account_id":5919781,"reputation":29352,"user_id":4657412,"display_name":"DavidW"},"score":0,"creation_date":1688412308,"post_id":76603262,"comment_id":135068151,"body_markdown":"This answer looks like ChatGPT","body":"This answer looks like ChatGPT"}],"tags":[],"owner":{"account_id":15198268,"reputation":96,"user_id":10966982,"display_name":"Gaurav singh rajpoot"},"comment_count":24,"down_vote_count":2,"up_vote_count":1,"is_accepted":true,"score":-1,"last_activity_date":1688486993,"creation_date":1688374508,"answer_id":76603262,"question_id":76603215,"body_markdown":"\r\n```javascript\r\nconst crypto = require(&#39;crypto&#39;);\r\n\r\nfunction getSignature(skey, iv, data) {\r\n    const IV = Buffer.from(iv, &#39;utf-8&#39;);\r\n    const desKey = Buffer.from(skey, &#39;utf-8&#39;);\r\n\r\n    const cipher = crypto.createCipheriv(&#39;des&#39;, desKey.slice(0, 8), IV);\r\n    let encrypted = cipher.update(data, &#39;utf-8&#39;, &#39;base64&#39;);\r\n    encrypted += cipher.final(&#39;base64&#39;);\r\n    return encrypted;\r\n}\r\n```\r\n\r\n\r\n\r\n","title":"How do you convert this DES encryption code from Java code to JavaScript?","body":"<pre class=\"lang-js prettyprint-override\"><code>const crypto = require('crypto');\n\nfunction getSignature(skey, iv, data) {\n    const IV = Buffer.from(iv, 'utf-8');\n    const desKey = Buffer.from(skey, 'utf-8');\n\n    const cipher = crypto.createCipheriv('des', desKey.slice(0, 8), IV);\n    let encrypted = cipher.update(data, 'utf-8', 'base64');\n    encrypted += cipher.final('base64');\n    return encrypted;\n}\n</code></pre>\n"}],"owner":{"account_id":132808,"reputation":3515,"user_id":333729,"accept_rate":97,"display_name":"bbnn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76603262,"answer_count":1,"score":1,"last_activity_date":1688486993,"creation_date":1688374164,"question_id":76603215,"body_markdown":"How can I convert this Java code to JavaScript?\r\n\r\n```java\r\npublic static String getSignature(String skey, String iv, String data) throws Exception {\r\n  IvParameterSpec Ⅳ = new IvParameterSpec(iv.getBytes(&quot;utf-8&quot;));\r\n  DESKeySpec desKey = new DESKeySpec(skey.getBytes(&quot;utf-8&quot;));\r\n  SecretKeyFactory keyFactory = SecretKeyFactory.getInstance(&quot;DES&quot;);\r\n  SecretKey key = keyFactory.generateSecret(desKey);\r\n  Cipher cipher = Cipher.getInstance(&quot;DES/CBC/PKCS5Padding&quot;);\r\n  cipher.init(Cipher.ENCRYPT_MODE, key, Ⅳ);\r\n  byte[] databyte = cipher.doFinal(data.getBytes(&quot;utf-8&quot;));\r\n  return new String(Base64.getEncoder().encode(databyte));\r\n}\r\n```\r\n\r\nI tried it myself, and I got:\r\n\r\n```js\r\n  function getSignature(\r\n    skey,\r\n    iv,\r\n    data,\r\n  ) {\r\n    const IV = Buffer.from(ivString, &#39;utf-8&#39;);\r\n    const desKey = Buffer.from(skey, &#39;utf-8&#39;);\r\n\r\n    const cipher = crypto.createCipheriv(&#39;des-cbc&#39;, desKey, IV);\r\n    let encrypted = cipher.update(data, &#39;utf-8&#39;, &#39;base64&#39;);\r\n    encrypted += cipher.final(&#39;base64&#39;);\r\n    return encrypted;\r\n  }\r\n```\r\n\r\nBut I got an `ERR_CRYPTO_INVALID_KEYLEN` error, because my key is not 8 in length. I&#39;m guessing that my JavaScript code is missing this part of the Java code, but I don&#39;t know how to translate this part into JavaScript...:\r\n\r\n```\r\n  SecretKeyFactory keyFactory = SecretKeyFactory.getInstance(&quot;DES&quot;);\r\n  SecretKey key = keyFactory.generateSecret(desKey);\r\n\r\n```\r\n\r\n","title":"How do you convert this DES encryption code from Java code to JavaScript?","body":"<p>How can I convert this Java code to JavaScript?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String getSignature(String skey, String iv, String data) throws Exception {\n  IvParameterSpec Ⅳ = new IvParameterSpec(iv.getBytes(&quot;utf-8&quot;));\n  DESKeySpec desKey = new DESKeySpec(skey.getBytes(&quot;utf-8&quot;));\n  SecretKeyFactory keyFactory = SecretKeyFactory.getInstance(&quot;DES&quot;);\n  SecretKey key = keyFactory.generateSecret(desKey);\n  Cipher cipher = Cipher.getInstance(&quot;DES/CBC/PKCS5Padding&quot;);\n  cipher.init(Cipher.ENCRYPT_MODE, key, Ⅳ);\n  byte[] databyte = cipher.doFinal(data.getBytes(&quot;utf-8&quot;));\n  return new String(Base64.getEncoder().encode(databyte));\n}\n</code></pre>\n<p>I tried it myself, and I got:</p>\n<pre class=\"lang-js prettyprint-override\"><code>  function getSignature(\n    skey,\n    iv,\n    data,\n  ) {\n    const IV = Buffer.from(ivString, 'utf-8');\n    const desKey = Buffer.from(skey, 'utf-8');\n\n    const cipher = crypto.createCipheriv('des-cbc', desKey, IV);\n    let encrypted = cipher.update(data, 'utf-8', 'base64');\n    encrypted += cipher.final('base64');\n    return encrypted;\n  }\n</code></pre>\n<p>But I got an <code>ERR_CRYPTO_INVALID_KEYLEN</code> error, because my key is not 8 in length. I'm guessing that my JavaScript code is missing this part of the Java code, but I don't know how to translate this part into JavaScript...:</p>\n<pre><code>  SecretKeyFactory keyFactory = SecretKeyFactory.getInstance(&quot;DES&quot;);\n  SecretKey key = keyFactory.generateSecret(desKey);\n\n</code></pre>\n"},{"tags":["java","spring-boot","ssl","openshift","cacerts"],"owner":{"account_id":26115127,"reputation":1,"user_id":19808385,"display_name":"hakktastic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688486460,"creation_date":1688486397,"question_id":76614296,"body_markdown":"# Background\r\nI&#39;m building two Springboot applications with Java which I&#39;m deploying on OpenShift in the same namespace using RedHat Universal Base Images. The applications communicate with each other through the Service URL. One of the applications functions as a server, the other one as a client. For the server I enabled TLS.\r\n\r\nI&#39;m using [OpenShift service serving certificates](https://docs.openshift.com/container-platform/4.8/security/certificates/service-serving-certificate.html) to generate dynamically the certificates I need:\r\n- secret: tls.key &amp; cert.key (server)\r\n- configMap: service-ca.crt (client)\r\n\r\nI&#39;m able to inject the certificates in the client- and server app through volumes and I&#39;m able to curl from the client to the server container using https:\r\n\r\n```\r\ncurl --cacert /etc/pki/ca-trust/extracted/java/service-ca.crt https://service-url  \r\n```\r\n\r\nIn order to let the client Java app use the service-ca.crt I need to import it to the cacerts. When I try to do this I get stuck because I don&#39;t have write permission in the container:\r\n\r\n```\r\nsh-4.4$ cd /etc/pki/ca-trust/extracted/java; ls -ll \r\ntotal 0\r\nlrwxrwxrwx. 1 root 1000970000 14 Jul  4 12:45 cacerts -&gt; ..data/cacerts\r\nlrwxrwxrwx. 1 root 1000970000 21 Jul  4 12:45 service-ca.crt -&gt; ..data/service-ca.crt\r\n\r\nsh-4.4$ keytool -import -noprompt -file service-ca.crt -alias service-x-ca -keystore cacerts -storepass changeit\r\nWarning: use -cacerts option to access cacerts keystore\r\nCertificate was added to keystore\r\nkeytool error: java.io.FileNotFoundException: cacerts (Read-only file system)\r\n```\r\n\r\nIf this succeeds, the next step will be to try to set the service-ca through a command in initContainers and set the truststore via the env var JAVA_OPTIONS.\r\n\r\n# Questions\r\n- How can I update cacerts and inject my service-ca.crt in the container? \r\n- Is it that I don&#39;t have write permissions because of rootless containers/RedHat UBI? If yes, is there a kind of a workaround without the need for another base image? I saw in another [stackoverflow thread](https://stackoverflow.com/questions/36224793/how-add-a-certificate-to-the-java-ca-certificate-store-in-openshift-cacerts) from a couple of years ago some suggestions, but not really a solution","title":"OpenShift add service-ca.crt to cacerts in container","body":"<h1>Background</h1>\n<p>I'm building two Springboot applications with Java which I'm deploying on OpenShift in the same namespace using RedHat Universal Base Images. The applications communicate with each other through the Service URL. One of the applications functions as a server, the other one as a client. For the server I enabled TLS.</p>\n<p>I'm using <a href=\"https://docs.openshift.com/container-platform/4.8/security/certificates/service-serving-certificate.html\" rel=\"nofollow noreferrer\">OpenShift service serving certificates</a> to generate dynamically the certificates I need:</p>\n<ul>\n<li>secret: tls.key &amp; cert.key (server)</li>\n<li>configMap: service-ca.crt (client)</li>\n</ul>\n<p>I'm able to inject the certificates in the client- and server app through volumes and I'm able to curl from the client to the server container using https:</p>\n<pre><code>curl --cacert /etc/pki/ca-trust/extracted/java/service-ca.crt https://service-url  \n</code></pre>\n<p>In order to let the client Java app use the service-ca.crt I need to import it to the cacerts. When I try to do this I get stuck because I don't have write permission in the container:</p>\n<pre><code>sh-4.4$ cd /etc/pki/ca-trust/extracted/java; ls -ll \ntotal 0\nlrwxrwxrwx. 1 root 1000970000 14 Jul  4 12:45 cacerts -&gt; ..data/cacerts\nlrwxrwxrwx. 1 root 1000970000 21 Jul  4 12:45 service-ca.crt -&gt; ..data/service-ca.crt\n\nsh-4.4$ keytool -import -noprompt -file service-ca.crt -alias service-x-ca -keystore cacerts -storepass changeit\nWarning: use -cacerts option to access cacerts keystore\nCertificate was added to keystore\nkeytool error: java.io.FileNotFoundException: cacerts (Read-only file system)\n</code></pre>\n<p>If this succeeds, the next step will be to try to set the service-ca through a command in initContainers and set the truststore via the env var JAVA_OPTIONS.</p>\n<h1>Questions</h1>\n<ul>\n<li>How can I update cacerts and inject my service-ca.crt in the container?</li>\n<li>Is it that I don't have write permissions because of rootless containers/RedHat UBI? If yes, is there a kind of a workaround without the need for another base image? I saw in another <a href=\"https://stackoverflow.com/questions/36224793/how-add-a-certificate-to-the-java-ca-certificate-store-in-openshift-cacerts\">stackoverflow thread</a> from a couple of years ago some suggestions, but not really a solution</li>\n</ul>\n"},{"tags":["java","integration-testing","quarkus"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1688477693,"post_id":76612108,"comment_id":135077416,"body_markdown":"What you are seeing it standard JUnit behavior","body":"What you are seeing it standard JUnit behavior"},{"owner":{"account_id":12259153,"reputation":11,"user_id":8947387,"display_name":"Mehmet Zorlu"},"score":0,"creation_date":1688478847,"post_id":76612108,"comment_id":135077713,"body_markdown":"Thank you for your reply @geoand, is there a better way of handling this situation? We do not like removing the inheritance but also could not find any other solutions.","body":"Thank you for your reply @geoand, is there a better way of handling this situation? We do not like removing the inheritance but also could not find any other solutions."}],"answers":[{"tags":[],"owner":{"account_id":1115215,"reputation":10877,"user_id":1104727,"display_name":"Holly Cummins"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688486421,"creation_date":1688486421,"answer_id":76614299,"question_id":76612108,"body_markdown":"I&#39;ve had similar issues, and there are a few things you could try. \r\n\r\n## Avoid inheritance between tests\r\n\r\nInheritance is great and eliminates code duplication, and it&#39;s usually my first instinct too. I know at least some of the Quarkus quickstarts use inheritance between the `*IT` and `*Test`. However, some people also say it&#39;s [an anti-pattern in tests](https://www.petrikainulainen.net/programming/unit-testing/3-reasons-why-we-should-not-use-inheritance-in-our-tests/).\r\n \r\nThe reasons usually given are that:\r\n - The true goal of inheritance is polymorphism, not code re-use\r\n - Executing all the `@Before` and `@After` methods in a test hierarchy has a performance cost (and, as you&#39;ve seen, can also lead to undesirable behaviour)\r\n- Having some behaviour in a superclass and some in a subclass can make code harder to read \r\n\r\nSo what do you do instead of inheritance? \r\n\r\n### JUnit Extension \r\n\r\n[One option](https://medium.com/decisionbrain/factor-test-code-the-junit-5-way-that-is-without-inheritance-9ba2784d34) is to write a JUnit extension, but that seems way too much like hard work. It would maybe be appropriate if you needed to repeat lots of assertions, but it&#39;s overkill for many use cases.\r\n\r\n### Utility class \r\n\r\nA much simpler technique is to just extract your common code into a utility class. This can work, but it doesn&#39;t necessarily help readability, you need to remember to invoke the required method on the utility class, and it&#39;s not really taking advantage of what Quarkus offers you. \r\n\r\n### Use `QuarkusTestResourceLifecycleManager`\r\n\r\nQuarkus allows you to define [`QuarkusTestResourceLifecycleManager`](https://quarkus.io/guides/getting-started-testing#quarkus-test-resource) which can be used to start and stop shared services. That might also be useful for the shared filesystem work. \r\n\r\n## Use conditions to only run &#39;destructive&#39; code once\r\n\r\nAlternatively, you could take advantage of conditional execution to disable some tests/part of the test classes, and ensure the problematic code only ran once, even with inheritance.\r\n\r\n### Use a `QuarkusTestProfile` as a guard\r\n\r\nQuarkus has [an ability](https://quarkus.io/guides/getting-started-testing#writing-a-profile) to define profiles that customise what config and resources tests see. You could define one profile for the subclass, and one profile for the superclass, and then use tags plus command-line arguments to [enable and disable tests](https://quarkus.io/guides/getting-started-testing#running-specific-tests). \r\n\r\nFor example, you could define a profile as \r\n\r\n```\r\npublic class MostOfTheTime implements QuarkusTestProfile {\r\n        @Override\r\n        public Set&lt;String&gt; tags() {\r\n            return Collections.singleton(&quot;favouritetest&quot;);\r\n        }\r\n    }\r\n```    \r\n\r\n```\r\n@QuarkusTest\r\n@TestProfile(MostOfTheTime.class)\r\npublic class MostOfTheTimeTest {\r\n\r\n    @Test\r\n    public void test() {\r\n        // test something\r\n    }\r\n}\r\n```\r\n\r\nwould run most of the time, but if you ran with a environment variable or system property, such as `quarkus.test.profile.tags=nope`, the test would be disabled. The caution is I don&#39;t know for sure how this would interact with inheritance and your class hierarchy, so you might end up disabling both tests, rather than just the target one.\r\n","title":"Quarkus Integration Tests Run Multiple Times Due To Inheritance","body":"<p>I've had similar issues, and there are a few things you could try.</p>\n<h2>Avoid inheritance between tests</h2>\n<p>Inheritance is great and eliminates code duplication, and it's usually my first instinct too. I know at least some of the Quarkus quickstarts use inheritance between the <code>*IT</code> and <code>*Test</code>. However, some people also say it's <a href=\"https://www.petrikainulainen.net/programming/unit-testing/3-reasons-why-we-should-not-use-inheritance-in-our-tests/\" rel=\"nofollow noreferrer\">an anti-pattern in tests</a>.</p>\n<p>The reasons usually given are that:</p>\n<ul>\n<li>The true goal of inheritance is polymorphism, not code re-use</li>\n<li>Executing all the <code>@Before</code> and <code>@After</code> methods in a test hierarchy has a performance cost (and, as you've seen, can also lead to undesirable behaviour)</li>\n<li>Having some behaviour in a superclass and some in a subclass can make code harder to read</li>\n</ul>\n<p>So what do you do instead of inheritance?</p>\n<h3>JUnit Extension</h3>\n<p><a href=\"https://medium.com/decisionbrain/factor-test-code-the-junit-5-way-that-is-without-inheritance-9ba2784d34\" rel=\"nofollow noreferrer\">One option</a> is to write a JUnit extension, but that seems way too much like hard work. It would maybe be appropriate if you needed to repeat lots of assertions, but it's overkill for many use cases.</p>\n<h3>Utility class</h3>\n<p>A much simpler technique is to just extract your common code into a utility class. This can work, but it doesn't necessarily help readability, you need to remember to invoke the required method on the utility class, and it's not really taking advantage of what Quarkus offers you.</p>\n<h3>Use <code>QuarkusTestResourceLifecycleManager</code></h3>\n<p>Quarkus allows you to define <a href=\"https://quarkus.io/guides/getting-started-testing#quarkus-test-resource\" rel=\"nofollow noreferrer\"><code>QuarkusTestResourceLifecycleManager</code></a> which can be used to start and stop shared services. That might also be useful for the shared filesystem work.</p>\n<h2>Use conditions to only run 'destructive' code once</h2>\n<p>Alternatively, you could take advantage of conditional execution to disable some tests/part of the test classes, and ensure the problematic code only ran once, even with inheritance.</p>\n<h3>Use a <code>QuarkusTestProfile</code> as a guard</h3>\n<p>Quarkus has <a href=\"https://quarkus.io/guides/getting-started-testing#writing-a-profile\" rel=\"nofollow noreferrer\">an ability</a> to define profiles that customise what config and resources tests see. You could define one profile for the subclass, and one profile for the superclass, and then use tags plus command-line arguments to <a href=\"https://quarkus.io/guides/getting-started-testing#running-specific-tests\" rel=\"nofollow noreferrer\">enable and disable tests</a>.</p>\n<p>For example, you could define a profile as</p>\n<pre><code>public class MostOfTheTime implements QuarkusTestProfile {\n        @Override\n        public Set&lt;String&gt; tags() {\n            return Collections.singleton(&quot;favouritetest&quot;);\n        }\n    }\n</code></pre>\n<pre><code>@QuarkusTest\n@TestProfile(MostOfTheTime.class)\npublic class MostOfTheTimeTest {\n\n    @Test\n    public void test() {\n        // test something\n    }\n}\n</code></pre>\n<p>would run most of the time, but if you ran with a environment variable or system property, such as <code>quarkus.test.profile.tags=nope</code>, the test would be disabled. The caution is I don't know for sure how this would interact with inheritance and your class hierarchy, so you might end up disabling both tests, rather than just the target one.</p>\n"}],"owner":{"account_id":12259153,"reputation":11,"user_id":8947387,"display_name":"Mehmet Zorlu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688486421,"creation_date":1688469795,"question_id":76612108,"body_markdown":"We have a project that has two integration classes, Test.java and IT.java. Test.java has the annotation @QuarkusMainTest, IT.java has the annotation @QuarkusMainIntegrationTest above the class declarations and IT.java extends Test.java class. \r\n\r\nWe have implemented a new feature where the program checks if a file to be generated already exists in the target folder and acts accordingly. We have written some integration tests where files are generated, the feature is used to check their existence and at the end of the integration tests all files and folders get wiped out. \r\n\r\nThe problem we have encountered is that when the integration tests run, all tests in Test.java pass followed by some tests failing in IT.java. This is because IT.java somehow first runs the parent Test.java tests again and then runs its own tests before wiping, causing unwanted files to be generated and giving wrong results. \r\n\r\nThe current solution we have is removing the inheritance between the two classes and copy all the tests from Test.java to IT.java. By doing this we do not have the problem anymore but now every integration test needs to be duplicated in the classes.\r\n\r\nAre there any alternative solutions to this?\r\n\r\n(We tried following this guidelines from the original documentation: https://quarkus.io/guides/getting-started-testing#quarkus-integration-test)","title":"Quarkus Integration Tests Run Multiple Times Due To Inheritance","body":"<p>We have a project that has two integration classes, Test.java and IT.java. Test.java has the annotation @QuarkusMainTest, IT.java has the annotation @QuarkusMainIntegrationTest above the class declarations and IT.java extends Test.java class.</p>\n<p>We have implemented a new feature where the program checks if a file to be generated already exists in the target folder and acts accordingly. We have written some integration tests where files are generated, the feature is used to check their existence and at the end of the integration tests all files and folders get wiped out.</p>\n<p>The problem we have encountered is that when the integration tests run, all tests in Test.java pass followed by some tests failing in IT.java. This is because IT.java somehow first runs the parent Test.java tests again and then runs its own tests before wiping, causing unwanted files to be generated and giving wrong results.</p>\n<p>The current solution we have is removing the inheritance between the two classes and copy all the tests from Test.java to IT.java. By doing this we do not have the problem anymore but now every integration test needs to be duplicated in the classes.</p>\n<p>Are there any alternative solutions to this?</p>\n<p>(We tried following this guidelines from the original documentation: <a href=\"https://quarkus.io/guides/getting-started-testing#quarkus-integration-test\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/getting-started-testing#quarkus-integration-test</a>)</p>\n"},{"tags":["java","project","bluej"],"comments":[{"owner":{"account_id":3986034,"reputation":4137,"user_id":3286569,"accept_rate":94,"display_name":"JDurstberger"},"score":0,"creation_date":1448473203,"post_id":33922982,"comment_id":55607030,"body_markdown":"I am not familiar with BlueJ but there should be an output-folder which contains the compiled java file. You could decompile it","body":"I am not familiar with BlueJ but there should be an output-folder which contains the compiled java file. You could decompile it"}],"answers":[{"tags":[],"owner":{"account_id":1492534,"reputation":4433,"user_id":6999690,"display_name":"Ruslan L&#243;pez"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1448477552,"creation_date":1448477248,"answer_id":33924242,"question_id":33922982,"body_markdown":"As you can see in their [manual][1] at page 42 the `#backup` file is always saved in the same directory so your `#backup` file should be gone.\r\n\r\nIf you versioned it with svn or alike in the `Team` menu you can get `Project History`.\r\n\r\nOtherwise.... you can use some [file recovery programs][2].\r\n\r\nThe most popular can search for source codes in many languages.\r\nThe advantage of this approach is that you will recover comments meanwhile you won&#39;t by decompiling.\r\n\r\n  [1]: http://www.bluej.org/doc/bluej-ref-manual.pdf\r\n  [2]: http://pcsupport.about.com/od/filerecovery/tp/free-file-recovery-programs.htm","title":"My BlueJ source code got deleted","body":"<p>As you can see in their <a href=\"http://www.bluej.org/doc/bluej-ref-manual.pdf\" rel=\"nofollow\">manual</a> at page 42 the <code>#backup</code> file is always saved in the same directory so your <code>#backup</code> file should be gone.</p>\n\n<p>If you versioned it with svn or alike in the <code>Team</code> menu you can get <code>Project History</code>.</p>\n\n<p>Otherwise.... you can use some <a href=\"http://pcsupport.about.com/od/filerecovery/tp/free-file-recovery-programs.htm\" rel=\"nofollow\">file recovery programs</a>.</p>\n\n<p>The most popular can search for source codes in many languages.\nThe advantage of this approach is that you will recover comments meanwhile you won't by decompiling.</p>\n"},{"tags":[],"owner":{"account_id":2399674,"reputation":2691,"user_id":2097675,"display_name":"JJF"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1448479791,"creation_date":1448477379,"answer_id":33924277,"question_id":33922982,"body_markdown":"If your source code is truly gone (non-recoverable) you can try to use a de-compiler against the .class file.  Jad and FernFlower are two that I&#39;ve used and work pretty well.\r\n\r\nhttps://github.com/fesh0r/fernflower\r\n\r\n\r\nhttp://www.javadecompilers.com/jad\r\n","title":"My BlueJ source code got deleted","body":"<p>If your source code is truly gone (non-recoverable) you can try to use a de-compiler against the .class file.  Jad and FernFlower are two that I've used and work pretty well.</p>\n\n<p><a href=\"https://github.com/fesh0r/fernflower\" rel=\"nofollow\">https://github.com/fesh0r/fernflower</a></p>\n\n<p><a href=\"http://www.javadecompilers.com/jad\" rel=\"nofollow\">http://www.javadecompilers.com/jad</a></p>\n"},{"comments":[{"owner":{"account_id":6901499,"reputation":518,"user_id":5300967,"display_name":"Vladimir Vaschenko"},"score":1,"creation_date":1688569982,"post_id":76614287,"comment_id":135091769,"body_markdown":"This is AI generated answer.","body":"This is AI generated answer."}],"tags":[],"owner":{"account_id":28949925,"reputation":1,"user_id":22174761,"display_name":"areeb ahmad"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1688486341,"creation_date":1688486341,"answer_id":76614287,"question_id":33922982,"body_markdown":"to find a file you need the program&#39;s interface to open the folderis was deleted from or go to the folder content aware analysis and select the file you have been looking for and click rec","title":"My BlueJ source code got deleted","body":"<p>to find a file you need the program's interface to open the folderis was deleted from or go to the folder content aware analysis and select the file you have been looking for and click rec</p>\n"}],"owner":{"account_id":7362519,"reputation":21,"user_id":5605339,"display_name":"Samarth Hari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5426,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1688486341,"creation_date":1448472848,"question_id":33922982,"body_markdown":"I was doing my school project today when suddenly my java BlueJ crashed and both my current file and my backup file got deleted.   \r\n\r\nOne of my most important classes(SignIn.java) got deleted(only the source code).   \r\n\r\nWhile executing, it still works as it is linked but i can&#39;t find the source code to make changes or print it. There is a file with #BACKUP which might help me.   \r\n\r\nIs there anyway i can retrieve it? I spent almost 6 hours on this class and it took a lot of work. ","title":"My BlueJ source code got deleted","body":"<p>I was doing my school project today when suddenly my java BlueJ crashed and both my current file and my backup file got deleted.   </p>\n\n<p>One of my most important classes(SignIn.java) got deleted(only the source code).   </p>\n\n<p>While executing, it still works as it is linked but i can't find the source code to make changes or print it. There is a file with #BACKUP which might help me.   </p>\n\n<p>Is there anyway i can retrieve it? I spent almost 6 hours on this class and it took a lot of work. </p>\n"},{"tags":["java","gradle"],"owner":{"account_id":28949679,"reputation":1,"user_id":22174564,"display_name":"Thea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688486308,"creation_date":1688486169,"question_id":76614272,"body_markdown":"I need some help with a Multiproject with Gradle.\r\nThis is the structure of my project.\r\n\r\nPRoot\r\n\r\n│ \r\n\r\n├── P2\r\n\r\n│   ...\r\n\r\n│   └── build.gradle\r\n\r\n├── P1\r\n\r\n│   ...\r\n\r\n│   └── build.gradle\r\n\r\n│ \r\n\r\n├── build.gradle\r\n\r\n└── settings.gradle\r\n\r\n\r\nEverything works fine\r\n\r\nNow i need a second way to build my project. I created 2 new Files:\r\n\r\nPRoot\r\n\r\n│ \r\n\r\n├── P2\r\n\r\n│   ...\r\n\r\n│   └── build.gradle\r\n\r\n├── P1\r\n\r\n│   ...\r\n\r\n│   └── build.gradle\r\n\r\n│ \r\n\r\n├── build.gradle\r\n\r\n├── settings.gradle\r\n\r\n├── build2.gradle\r\n\r\n└── settings2.gradle\r\n\r\n\r\n\r\nThen started Gradle with\r\n\r\nbuild --build-file=build_dev.gradle --settings-file=settings_dev.gradle\r\n\r\nbut that doesn&#39;t work, even without changing anything in the two files\r\n\r\nHow is the best way to do something like this?","title":"Gradle: How to define a second way to build a multiproject","body":"<p>I need some help with a Multiproject with Gradle.\nThis is the structure of my project.</p>\n<p>PRoot</p>\n<p>│</p>\n<p>├── P2</p>\n<p>│   ...</p>\n<p>│   └── build.gradle</p>\n<p>├── P1</p>\n<p>│   ...</p>\n<p>│   └── build.gradle</p>\n<p>│</p>\n<p>├── build.gradle</p>\n<p>└── settings.gradle</p>\n<p>Everything works fine</p>\n<p>Now i need a second way to build my project. I created 2 new Files:</p>\n<p>PRoot</p>\n<p>│</p>\n<p>├── P2</p>\n<p>│   ...</p>\n<p>│   └── build.gradle</p>\n<p>├── P1</p>\n<p>│   ...</p>\n<p>│   └── build.gradle</p>\n<p>│</p>\n<p>├── build.gradle</p>\n<p>├── settings.gradle</p>\n<p>├── build2.gradle</p>\n<p>└── settings2.gradle</p>\n<p>Then started Gradle with</p>\n<p>build --build-file=build_dev.gradle --settings-file=settings_dev.gradle</p>\n<p>but that doesn't work, even without changing anything in the two files</p>\n<p>How is the best way to do something like this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15241211,"reputation":379,"user_id":10997438,"display_name":"CrystalSpider"},"score":0,"creation_date":1683462014,"post_id":76193827,"comment_id":134367443,"body_markdown":"Can you show your `LambdaClass`?","body":"Can you show your <code>LambdaClass</code>?"},{"owner":{"account_id":1859171,"reputation":3557,"user_id":1684123,"accept_rate":48,"display_name":"Kifsif"},"score":0,"creation_date":1683462145,"post_id":76193827,"comment_id":134367459,"body_markdown":"CrystalSpider, I have edited my post.","body":"CrystalSpider, I have edited my post."},{"owner":{"account_id":2734060,"reputation":263892,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"score":0,"creation_date":1683462682,"post_id":76193827,"comment_id":134367539,"body_markdown":"`lambdaAux` is an instance method. It needs an instance. Did you want a static method?","body":"<code>lambdaAux</code> is an instance method. It needs an instance. Did you want a static method?"},{"owner":{"account_id":1859171,"reputation":3557,"user_id":1684123,"accept_rate":48,"display_name":"Kifsif"},"score":0,"creation_date":1683462981,"post_id":76193827,"comment_id":134367575,"body_markdown":"user2357112, to the best of my ability I can see that  compareToIgnoreCase is also an isntance method. This is the essence of the question.","body":"user2357112, to the best of my ability I can see that  compareToIgnoreCase is also an isntance method. This is the essence of the question."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1683463118,"post_id":76193827,"comment_id":134367601,"body_markdown":"The `String::compareToIgnoreCase` in `Arrays.sort(words, String::compareToIgnoreCase);` represents `Comparator&lt;String&gt;`. Since Comparator expects implementation of `public int compare(String o1, String o2)` equivalent lambda could look like `(o1, o2) -&gt; o1.compareToIgnoreCase(o2)` so as you see that method has *instance* on which it will be invoked (first parameter) and that is what `String::compareToIgnoreCase` would use to call `compareToIgnoreCase` method. But now try to write lambda for `FunctionalMethodAux::lambdaAux`.","body":"The <code>String::compareToIgnoreCase</code> in <code>Arrays.sort(words, String::compareToIgnoreCase);</code> represents <code>Comparator&lt;String&gt;</code>. Since Comparator expects implementation of <code>public int compare(String o1, String o2)</code> equivalent lambda could look like <code>(o1, o2) -&gt; o1.compareToIgnoreCase(o2)</code> so as you see that method has <i>instance</i> on which it will be invoked (first parameter) and that is what <code>String::compareToIgnoreCase</code> would use to call <code>compareToIgnoreCase</code> method. But now try to write lambda for <code>FunctionalMethodAux::lambdaAux</code>."},{"owner":{"account_id":15241211,"reputation":379,"user_id":10997438,"display_name":"CrystalSpider"},"score":0,"creation_date":1683463266,"post_id":76193827,"comment_id":134367618,"body_markdown":"Yep, I was about to write an answer with the same content as @Pshemo &#39;s comment.","body":"Yep, I was about to write an answer with the same content as @Pshemo &#39;s comment."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1683463341,"post_id":76193827,"comment_id":134367628,"body_markdown":"@CrystalSpider Feel free to do so. My comment is there to show direction, it doesn&#39;t contain all info which proper answer should have :)","body":"@CrystalSpider Feel free to do so. My comment is there to show direction, it doesn&#39;t contain all info which proper answer should have :)"}],"answers":[{"tags":[],"owner":{"account_id":28536356,"reputation":78,"user_id":21843026,"display_name":"sakurai"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683469323,"creation_date":1683469157,"answer_id":76194489,"question_id":76193827,"body_markdown":"There is a confusion with syntax because [there are multiple types of method references in Java][1]:\r\n1. reference to static methods\r\n2. reference to instance methods of a particular object\r\n3. reference to instance methods of an arbitrary object of a particular type\r\n\r\nThey may look similar but have different meaning.\r\n\r\nThey have difference syntax and usage. The code with `String::compareToIgnoreCase` is an example of case #3. \r\nHere `a.compareToIgnoreCase(b)` could be triggered on 2 arbitrary String objects `a` and `b`. \r\nThe `Arrays.sort` accepts `Comparator&lt;? super T&gt; c` and `Comparator` is a functional interface with method which has signature `int compare(T o1, T o2)`. Since both arguments have the same `String` type and return value is `int`, it becomes possible to refer to the method with double-colon syntax.\r\n\r\nIf you have to achieve the same with your custom method `lambdaAux`.\r\nAs it is not static, option #1 is thrown out.\r\nOption #3 is not possible because it assumes that the method is an &quot;instance method of an arbitrary object of a particular type&quot;. In your case, `lambdaAux` is an instance method of `FunctionalMethodAux` but your `consumerUsage` method expects such method to be in `String` class, hence compile error. \r\n\r\nSo if you need to use method reference, you can only go with option #2 as you have already mentioned.\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html","title":"Make functional method work without instance of a class","body":"<p>There is a confusion with syntax because <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">there are multiple types of method references in Java</a>:</p>\n<ol>\n<li>reference to static methods</li>\n<li>reference to instance methods of a particular object</li>\n<li>reference to instance methods of an arbitrary object of a particular type</li>\n</ol>\n<p>They may look similar but have different meaning.</p>\n<p>They have difference syntax and usage. The code with <code>String::compareToIgnoreCase</code> is an example of case #3.\nHere <code>a.compareToIgnoreCase(b)</code> could be triggered on 2 arbitrary String objects <code>a</code> and <code>b</code>.\nThe <code>Arrays.sort</code> accepts <code>Comparator&lt;? super T&gt; c</code> and <code>Comparator</code> is a functional interface with method which has signature <code>int compare(T o1, T o2)</code>. Since both arguments have the same <code>String</code> type and return value is <code>int</code>, it becomes possible to refer to the method with double-colon syntax.</p>\n<p>If you have to achieve the same with your custom method <code>lambdaAux</code>.\nAs it is not static, option #1 is thrown out.\nOption #3 is not possible because it assumes that the method is an &quot;instance method of an arbitrary object of a particular type&quot;. In your case, <code>lambdaAux</code> is an instance method of <code>FunctionalMethodAux</code> but your <code>consumerUsage</code> method expects such method to be in <code>String</code> class, hence compile error.</p>\n<p>So if you need to use method reference, you can only go with option #2 as you have already mentioned.</p>\n"}],"owner":{"account_id":1859171,"reputation":3557,"user_id":1684123,"accept_rate":48,"display_name":"Kifsif"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76194489,"answer_count":1,"score":0,"last_activity_date":1688485350,"creation_date":1683461272,"question_id":76193827,"body_markdown":"**This code doesn&#39;t work:**\r\n\r\n    @FunctionalInterface\r\n    public interface MyConsumer&lt;S&gt; {\r\n        void accept(S val);\r\n    \r\n        boolean equals(Object obj);\r\n    \r\n    }\r\n\r\n    public class LambdaClass {\r\n    \r\n        public void consumerUsage(String f, MyConsumer&lt;String&gt; printer){\r\n            printer.accept(f);\r\n        }\r\n    }\r\n\r\n\r\n    public class FunctionalMethodAux {\r\n        static List&lt;String&gt; stringList = new ArrayList&lt;&gt;();\r\n        public void lambdaAux (String s){\r\n            if (s.length() &lt; 3) {\r\n                System.out.println(s);\r\n            } else {\r\n                System.out.println(s.substring(0, 3));\r\n            }\r\n    \r\n            stringList.add(s);\r\n        }\r\n    \r\n        public void fmTest(){\r\n            LambdaClass l = new LambdaClass();\r\n            String[] words = {&quot;trololo&quot;, &quot;foo&quot;, &quot;bar&quot;};\r\n            for(String src : words){\r\n                l.consumerUsage(src, FunctionalMethodAux::lambdaAux); // Problematic line.\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**This code works:**\r\n\r\n        String[] words = {&quot;trololo&quot;, &quot;foo&quot;, &quot;bar&quot;};\r\n        Arrays.sort(words, String::compareToIgnoreCase);\r\n\r\n\r\n**Question:**\r\nIf I change like this: \r\n\r\n        l.consumerUsage(src, new FunctionalMethodAux()::lambdaAux)\r\n\r\neverything works.\r\n\r\nWhy does `String::compareToIgnoreCase` work without new? How can I rewrite my own method for it to work without new?\r\n\r\n(NB: `compareToIgnoreCase` is not a static method).\r\n\r\n  [1]: https://i.stack.imgur.com/R9vfx.png\r\n","title":"Make functional method work without instance of a class","body":"<p><strong>This code doesn't work:</strong></p>\n<pre><code>@FunctionalInterface\npublic interface MyConsumer&lt;S&gt; {\n    void accept(S val);\n\n    boolean equals(Object obj);\n\n}\n\npublic class LambdaClass {\n\n    public void consumerUsage(String f, MyConsumer&lt;String&gt; printer){\n        printer.accept(f);\n    }\n}\n\n\npublic class FunctionalMethodAux {\n    static List&lt;String&gt; stringList = new ArrayList&lt;&gt;();\n    public void lambdaAux (String s){\n        if (s.length() &lt; 3) {\n            System.out.println(s);\n        } else {\n            System.out.println(s.substring(0, 3));\n        }\n\n        stringList.add(s);\n    }\n\n    public void fmTest(){\n        LambdaClass l = new LambdaClass();\n        String[] words = {&quot;trololo&quot;, &quot;foo&quot;, &quot;bar&quot;};\n        for(String src : words){\n            l.consumerUsage(src, FunctionalMethodAux::lambdaAux); // Problematic line.\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/R9vfx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R9vfx.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>This code works:</strong></p>\n<pre><code>    String[] words = {&quot;trololo&quot;, &quot;foo&quot;, &quot;bar&quot;};\n    Arrays.sort(words, String::compareToIgnoreCase);\n</code></pre>\n<p><strong>Question:</strong>\nIf I change like this:</p>\n<pre><code>    l.consumerUsage(src, new FunctionalMethodAux()::lambdaAux)\n</code></pre>\n<p>everything works.</p>\n<p>Why does <code>String::compareToIgnoreCase</code> work without new? How can I rewrite my own method for it to work without new?</p>\n<p>(NB: <code>compareToIgnoreCase</code> is not a static method).</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1684656403,"post_id":76298593,"comment_id":134546472,"body_markdown":"Keep in mind that streaming from a `Queue` does not remove the elements from said `Queue`. Also, if the actual implementation is, e.g., `PriorityQueue`, which uses a min/max heap, then the encounter order of the elements while streaming is not guaranteed to be the order you&#39;d get by repeatedly polling/removing from the `PriorityQueue`.","body":"Keep in mind that streaming from a <code>Queue</code> does not remove the elements from said <code>Queue</code>. Also, if the actual implementation is, e.g., <code>PriorityQueue</code>, which uses a min/max heap, then the encounter order of the elements while streaming is not guaranteed to be the order you&#39;d get by repeatedly polling/removing from the <code>PriorityQueue</code>."}],"answers":[{"tags":[],"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1684653147,"creation_date":1684653147,"answer_id":76298710,"question_id":76298593,"body_markdown":"There are 2 things wrong here:\r\n\r\n1. First of all you have to use `flatMap` and not `map` otherwise you are just sorting Collections and not the actual elements of the collection. More info [here][1]\r\n\r\n2. Regarding why the breakpoint is not stopping there, java streams require terminal operations to be evaluated - `sorted` is NOT a terminal operation, so simply adding a terminal operation at the end, such as `toList()` or `.forEach(System.out::println)`, should do the trick.\r\n\r\n[More info][2] on terminal operations in java\r\n\r\nCorrected version would then be:\r\n\r\n```\r\ntaskQueues.stream()\r\n        .filter(aDeque -&gt; !aDeque.isEmpty())\r\n        .flatMap(decks -&gt; decks.stream()) // Breakpoint. Evaluate.\r\n        .sorted((a, b) -&gt; {\r\n            return 1;\r\n        })\r\n        .forEach(System.out::println);\r\n```\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-difference-map-and-flatmap\r\n  [2]: https://www.baeldung.com/java-8-streams#pipeline","title":"Stop inside lambda","body":"<p>There are 2 things wrong here:</p>\n<ol>\n<li><p>First of all you have to use <code>flatMap</code> and not <code>map</code> otherwise you are just sorting Collections and not the actual elements of the collection. More info <a href=\"https://www.baeldung.com/java-difference-map-and-flatmap\" rel=\"nofollow noreferrer\">here</a></p>\n</li>\n<li><p>Regarding why the breakpoint is not stopping there, java streams require terminal operations to be evaluated - <code>sorted</code> is NOT a terminal operation, so simply adding a terminal operation at the end, such as <code>toList()</code> or <code>.forEach(System.out::println)</code>, should do the trick.</p>\n</li>\n</ol>\n<p><a href=\"https://www.baeldung.com/java-8-streams#pipeline\" rel=\"nofollow noreferrer\">More info</a> on terminal operations in java</p>\n<p>Corrected version would then be:</p>\n<pre><code>taskQueues.stream()\n        .filter(aDeque -&gt; !aDeque.isEmpty())\n        .flatMap(decks -&gt; decks.stream()) // Breakpoint. Evaluate.\n        .sorted((a, b) -&gt; {\n            return 1;\n        })\n        .forEach(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":1859171,"reputation":3557,"user_id":1684123,"accept_rate":48,"display_name":"Kifsif"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688485257,"creation_date":1684650746,"question_id":76298593,"body_markdown":"Here is my code:\r\n\r\n    taskQueues.stream().\r\n            filter(aDeque -&gt; !aDeque.isEmpty()).\r\n            map(decks -&gt; decks.stream()). // Breakpoint. Evaluate.\r\n            sorted((a, b) -&gt; {\r\n                return 1;\r\n            });\r\n\r\nI have marked where breakpoint is put. The image depicts that the stream is not empty. Therefore, I expected that I&#39;ll be able to compare something. But I have failed.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe problem is that I&#39;ll be able to understand how to sort only when I stop inside that lambda and have a look at the two objects at hand.\r\n\r\nI would like to:\r\n\r\n1) Understand the reason why the debugger doesn&#39;t stop at line 42.\r\n2) Understand how to make the debugger stop there.\r\n\r\n  [1]: https://i.stack.imgur.com/vaArJ.png","title":"Stop inside lambda","body":"<p>Here is my code:</p>\n<pre><code>taskQueues.stream().\n        filter(aDeque -&gt; !aDeque.isEmpty()).\n        map(decks -&gt; decks.stream()). // Breakpoint. Evaluate.\n        sorted((a, b) -&gt; {\n            return 1;\n        });\n</code></pre>\n<p>I have marked where breakpoint is put. The image depicts that the stream is not empty. Therefore, I expected that I'll be able to compare something. But I have failed.</p>\n<p><a href=\"https://i.stack.imgur.com/vaArJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vaArJ.png\" alt=\"enter image description here\" /></a></p>\n<p>The problem is that I'll be able to understand how to sort only when I stop inside that lambda and have a look at the two objects at hand.</p>\n<p>I would like to:</p>\n<ol>\n<li>Understand the reason why the debugger doesn't stop at line 42.</li>\n<li>Understand how to make the debugger stop there.</li>\n</ol>\n"},{"tags":["java","e-commerce","psd2"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1648726351,"post_id":71691607,"comment_id":126700612,"body_markdown":"Does this answer your question? [OpenSSL: unable to verify the first certificate for Experian URL](https://stackoverflow.com/questions/7587851/openssl-unable-to-verify-the-first-certificate-for-experian-url)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/7587851/openssl-unable-to-verify-the-first-certificate-for-experian-url\">OpenSSL: unable to verify the first certificate for Experian URL</a>"},{"owner":{"account_id":16096805,"reputation":41,"user_id":11618754,"display_name":"Николай Деменков"},"score":0,"creation_date":1648726659,"post_id":71691607,"comment_id":126700726,"body_markdown":"Thanks for answer, but I think no. It&#39;s some specific with eIDAS certificates","body":"Thanks for answer, but I think no. It&#39;s some specific with eIDAS certificates"},{"owner":{"account_id":400240,"reputation":1392,"user_id":766118,"accept_rate":56,"display_name":"Fedor"},"score":0,"creation_date":1648728870,"post_id":71691607,"comment_id":126701557,"body_markdown":"I think this is not so simple. you need to get to each national authority (for example http://www.nmhh.hu/tl/pub/HU_TL.xml) then need to choose right root certificates (because not all are used for QWAC) and add those (probably full chains). also remember that if you want to really validate QWAC for PSD2 you need to check its properties + revocation lists + passporting rights.","body":"I think this is not so simple. you need to get to each national authority (for example <a href=\"http://www.nmhh.hu/tl/pub/HU_TL.xml\" rel=\"nofollow noreferrer\">nmhh.hu/tl/pub/HU_TL.xml</a>) then need to choose right root certificates (because not all are used for QWAC) and add those (probably full chains). also remember that if you want to really validate QWAC for PSD2 you need to check its properties + revocation lists + passporting rights."},{"owner":{"account_id":16096805,"reputation":41,"user_id":11618754,"display_name":"Николай Деменков"},"score":0,"creation_date":1648729502,"post_id":71691607,"comment_id":126701816,"body_markdown":"yes, i get root certificate for each country, from tag &lt;tsl:X509Certificate&gt; or what you means?","body":"yes, i get root certificate for each country, from tag &lt;tsl:X509Certificate&gt; or what you means?"},{"owner":{"account_id":1036364,"reputation":4653,"user_id":1236250,"display_name":"Rune Vikestad"},"score":0,"creation_date":1653292491,"post_id":71691607,"comment_id":127806705,"body_markdown":"I suspect you&#39;re still missing certificates. It&#39;s been a while, but I seem to remember that some of the LOTL-certificates were signed by authorities that weren&#39;t in my `cacerts`. So to construct a full chain of trust, I also needed to load in certificates from Microsoft Trusted Root Certificate Program. Be warned that it is **_NOT_** enough to only validate the chain of trust though. You also need to check `organizationIdentifier (OID: 2.5.4.97)` and `qcStatements (OID: 1.3.6.1.5.5.7.1.3)` and validate this information against e.g. the Preta directory.","body":"I suspect you&#39;re still missing certificates. It&#39;s been a while, but I seem to remember that some of the LOTL-certificates were signed by authorities that weren&#39;t in my <code>cacerts</code>. So to construct a full chain of trust, I also needed to load in certificates from Microsoft Trusted Root Certificate Program. Be warned that it is <b><i>NOT</i></b> enough to only validate the chain of trust though. You also need to check <code>organizationIdentifier (OID: 2.5.4.97)</code> and <code>qcStatements (OID: 1.3.6.1.5.5.7.1.3)</code> and validate this information against e.g. the Preta directory."}],"answers":[{"tags":[],"owner":{"account_id":400240,"reputation":1392,"user_id":766118,"accept_rate":56,"display_name":"Fedor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688485215,"creation_date":1688485215,"answer_id":76614154,"question_id":71691607,"body_markdown":"This is an old question, but maybe my answer will be relevant for someone.\r\n\r\nI wrote a script extracting CA certificates from the eIDAS Trust List: https://github.com/fed239/eidas-tsp-certificates-extractor\r\n\r\nThe extracted certificates are to be put in a trust store used for verification of client certificates.","title":"Verify eIDAS client certificate(qwac) on server side","body":"<p>This is an old question, but maybe my answer will be relevant for someone.</p>\n<p>I wrote a script extracting CA certificates from the eIDAS Trust List: <a href=\"https://github.com/fed239/eidas-tsp-certificates-extractor\" rel=\"nofollow noreferrer\">https://github.com/fed239/eidas-tsp-certificates-extractor</a></p>\n<p>The extracted certificates are to be put in a trust store used for verification of client certificates.</p>\n"}],"owner":{"account_id":16096805,"reputation":41,"user_id":11618754,"display_name":"Николай Деменков"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":496,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1688485215,"creation_date":1648725740,"question_id":71691607,"body_markdown":"I try to create java server which could be verificat client qwac certificate (TLS). I load to trustcacerts certificates from all urls from https://ec.europa.eu/tools/lotl/eu-lotl.xml in tags &lt;X509Certificate&gt;, than via postman try to make request to https to my server (connected pfx of qwac certificate), but get an error: SSL Error: Unable to verify the first certificate.\r\nPlease help, what I make wrong and how to verify client certificate? Thanks!","title":"Verify eIDAS client certificate(qwac) on server side","body":"<p>I try to create java server which could be verificat client qwac certificate (TLS). I load to trustcacerts certificates from all urls from <a href=\"https://ec.europa.eu/tools/lotl/eu-lotl.xml\" rel=\"nofollow noreferrer\">https://ec.europa.eu/tools/lotl/eu-lotl.xml</a> in tags , than via postman try to make request to https to my server (connected pfx of qwac certificate), but get an error: SSL Error: Unable to verify the first certificate.\nPlease help, what I make wrong and how to verify client certificate? Thanks!</p>\n"},{"tags":["javascript","java","video","youtube-api","video.js"],"comments":[{"owner":{"account_id":4613288,"reputation":1784,"user_id":3740708,"display_name":"Noble Mushtak"},"score":0,"creation_date":1440166827,"post_id":32142656,"comment_id":52174825,"body_markdown":"I don&#39;t really know much about the YouTube API and I know this is a Ruby and not a Java solution, but hopefully, [this GitHub repo](https://github.com/joshlarsen/yt-captions) can lead you in the right direction.","body":"I don&#39;t really know much about the YouTube API and I know this is a Ruby and not a Java solution, but hopefully, <a href=\"https://github.com/joshlarsen/yt-captions\" rel=\"nofollow noreferrer\">this GitHub repo</a> can lead you in the right direction."},{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1687845862,"post_id":32142656,"comment_id":134989626,"body_markdown":"See also https://stackoverflow.com/questions/46864428/how-do-some-sites-download-youtube-captions for an offline option (youtube-dl)","body":"See also <a href=\"https://stackoverflow.com/questions/46864428/how-do-some-sites-download-youtube-captions\" title=\"how do some sites download youtube captions\">stackoverflow.com/questions/46864428/&hellip;</a> for an offline option (youtube-dl)"}],"answers":[{"comments":[{"owner":{"account_id":1559142,"reputation":4127,"user_id":3084258,"accept_rate":100,"display_name":"Filipp Voronov"},"score":0,"creation_date":1440170934,"post_id":32143942,"comment_id":52177691,"body_markdown":"At first, I guess there are some security problems here related to cross-site http-requests issue. For example, I&#39;ve just tried it and got `XMLHttpRequest cannot load http://keepsubs.com/?url=https://www.youtube.com/watch?v=dQw4w9WgXcQ. No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource. Origin &#39;http://127.0.0.1:34974&#39; is therefore not allowed access.`","body":"At first, I guess there are some security problems here related to cross-site http-requests issue. For example, I&#39;ve just tried it and got <code>XMLHttpRequest cannot load http:&#47;&#47;keepsubs.com&#47;?url=https:&#47;&#47;www.youtube.com&#47;watch?v=dQw&zwnj;&#8203;4w9WgXcQ. No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource. Origin &#39;http:&#47;&#47;127.0.0.1:34974&#39; is therefore not allowed access.</code>"},{"owner":{"account_id":4372431,"reputation":685,"user_id":3566388,"accept_rate":71,"display_name":"GenuinePlaceholder"},"score":0,"creation_date":1440171080,"post_id":32143942,"comment_id":52177781,"body_markdown":"Huh, that&#39;s odd, I tried it directly in the site by copy pasting the source into the console on the site. It worked then.","body":"Huh, that&#39;s odd, I tried it directly in the site by copy pasting the source into the console on the site. It worked then."},{"owner":{"account_id":1559142,"reputation":4127,"user_id":3084258,"accept_rate":100,"display_name":"Filipp Voronov"},"score":0,"creation_date":1440171205,"post_id":32143942,"comment_id":52177866,"body_markdown":"In your case it was a same-origin request, so it won&#39;t work for me) Thanks for try)","body":"In your case it was a same-origin request, so it won&#39;t work for me) Thanks for try)"}],"tags":[],"owner":{"account_id":4372431,"reputation":685,"user_id":3566388,"accept_rate":71,"display_name":"GenuinePlaceholder"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1440170572,"creation_date":1440170251,"answer_id":32143942,"question_id":32142656,"body_markdown":"You probably do not need to download it directly from youtube, there are web services you can manipulate.\r\n\r\nFor example you could go to http://keepsubs.com/?url=insert_youtube_url here and download the captions from the site via the link found in this CSS path for english subtitles:\r\n\r\n    #dl &gt; a:nth-child(2)\r\n\r\nYou could do this in javascript using the following method:\r\n\r\n    function myFunction(url_to_download){\r\n        var xmlHttp = new XMLHttpRequest();\r\n        xmlHttp.open( &quot;GET&quot;, &quot;http://keepsubs.com/?url=&quot; + url_to_download, false );\r\n        xmlHttp.send( null );\r\n        var fake_html = document.createElement(&quot;div&quot;);\r\n        fake_html.insertAdjacentHTML(&#39;beforeend&#39;, xmlHttp.responseText);\r\n        var url = fake_html.querySelector(&quot;#dl &gt; a:nth-child(2)&quot;);\r\n\r\n        xmlHttp = new XMLHttpRequest();\r\n        xmlHttp.open( &quot;GET&quot;, url.href, false );\r\n        xmlHttp.send( null );\r\n\r\n        console.log(xmlHttp.responseText);\r\n        return xmlHttp.responseText;\r\n        }\r\n    myFunction(&quot;https://www.youtube.com/watch?v=dQw4w9WgXcQ&quot;);\r\n\r\nBasically, this method visits KeepSubs, finds the text download url, gets the text in the file at the url and outputs it to the console.\r\n\r\nKeep in mind that although this is one way to do it, there are probably better ones that are not so hacky. Also using the KeepSubs service this way is probably not ethical. But this is only for educational purposes.","title":"Get YouTube captions","body":"<p>You probably do not need to download it directly from youtube, there are web services you can manipulate.</p>\n\n<p>For example you could go to <a href=\"http://keepsubs.com/?url=insert_youtube_url\" rel=\"nofollow\">http://keepsubs.com/?url=insert_youtube_url</a> here and download the captions from the site via the link found in this CSS path for english subtitles:</p>\n\n<pre><code>#dl &gt; a:nth-child(2)\n</code></pre>\n\n<p>You could do this in javascript using the following method:</p>\n\n<pre><code>function myFunction(url_to_download){\n    var xmlHttp = new XMLHttpRequest();\n    xmlHttp.open( \"GET\", \"http://keepsubs.com/?url=\" + url_to_download, false );\n    xmlHttp.send( null );\n    var fake_html = document.createElement(\"div\");\n    fake_html.insertAdjacentHTML('beforeend', xmlHttp.responseText);\n    var url = fake_html.querySelector(\"#dl &gt; a:nth-child(2)\");\n\n    xmlHttp = new XMLHttpRequest();\n    xmlHttp.open( \"GET\", url.href, false );\n    xmlHttp.send( null );\n\n    console.log(xmlHttp.responseText);\n    return xmlHttp.responseText;\n    }\nmyFunction(\"https://www.youtube.com/watch?v=dQw4w9WgXcQ\");\n</code></pre>\n\n<p>Basically, this method visits KeepSubs, finds the text download url, gets the text in the file at the url and outputs it to the console.</p>\n\n<p>Keep in mind that although this is one way to do it, there are probably better ones that are not so hacky. Also using the KeepSubs service this way is probably not ethical. But this is only for educational purposes.</p>\n"},{"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1571325528,"post_id":48407571,"comment_id":103211965,"body_markdown":"This is great! I expanded on this below.","body":"This is great! I expanded on this below."},{"owner":{"account_id":2106226,"reputation":2685,"user_id":1872506,"accept_rate":57,"display_name":"smartexpert"},"score":0,"creation_date":1577742990,"post_id":48407571,"comment_id":105244364,"body_markdown":"This doesn&#39;t work for all video ID&#39;s for some reason e.g. https://www.youtube.com/watch?v=VjbMqU-3mYE","body":"This doesn&#39;t work for all video ID&#39;s for some reason e.g. <a href=\"https://www.youtube.com/watch?v=VjbMqU-3mYE\" rel=\"nofollow noreferrer\">youtube.com/watch?v=VjbMqU-3mYE</a>"},{"owner":{"account_id":10903723,"reputation":1632,"user_id":8015248,"display_name":"Sergiu Mare"},"score":1,"creation_date":1578243541,"post_id":48407571,"comment_id":105368285,"body_markdown":"If the video doesn&#39;t have captions it will not work.","body":"If the video doesn&#39;t have captions it will not work."},{"owner":{"account_id":7242540,"reputation":428,"user_id":5525657,"display_name":"Blessing Charumbira"},"score":1,"creation_date":1623247019,"post_id":48407571,"comment_id":120024978,"body_markdown":"If the video has auto-generated captions, likewise, it will not work","body":"If the video has auto-generated captions, likewise, it will not work"},{"owner":{"account_id":7257892,"reputation":394,"user_id":5535820,"display_name":"C-Y"},"score":4,"creation_date":1642477072,"post_id":48407571,"comment_id":125074782,"body_markdown":"stopped working in 2021","body":"stopped working in 2021"},{"owner":{"account_id":10903723,"reputation":1632,"user_id":8015248,"display_name":"Sergiu Mare"},"score":0,"creation_date":1642671466,"post_id":48407571,"comment_id":125134813,"body_markdown":"I&#39;ll carry on with some investigations, but as it seems, it stopped working.","body":"I&#39;ll carry on with some investigations, but as it seems, it stopped working."}],"tags":[],"owner":{"account_id":10903723,"reputation":1632,"user_id":8015248,"display_name":"Sergiu Mare"},"comment_count":6,"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1688484896,"creation_date":1516728526,"answer_id":48407571,"question_id":32142656,"body_markdown":"**THIS SOLUTION STOPPED WORKING**\r\n\r\nUPDATES: The URL from Google stopped working. This approach is paused at the moment.\r\n\r\nSolution:\r\nHow I managed to get the captions from a youtube video is by making a simple request to this url https://video.google.com/timedtext?lang={LANG}&amp;v={videoId}\r\n\r\nI have tried to use the Youtube API v3 but at the moment it doesn&#39;t work. When you do a request with the Youtube API v3 on a certain video you need that the person which uploaded the video to approve the caption&#39;s download, if not you&#39;ll have a 403 error in the console. It&#39;s normal to have the error, the server doesn&#39;t receive the approval so it returns an error.\r\n\r\nYou can download the captions from your own video with the Youtube API v3.\r\n\r\nSomething similar to this will do the job. The response will come in an XML format:\r\n\r\n       $.ajax({\r\n            type: &quot;POST&quot;,\r\n            url: &quot;https://video.google.com/timedtext?lang=en&amp;v=5MgBikgcWnY&quot;\r\n        }).done(function (response) {\r\n            console.log(response);\r\n        }).fail(function (response) {\r\n            console.log();\r\n        });\r\n\r\n","title":"Get YouTube captions","body":"<p><strong>THIS SOLUTION STOPPED WORKING</strong></p>\n<p>UPDATES: The URL from Google stopped working. This approach is paused at the moment.</p>\n<p>Solution:\nHow I managed to get the captions from a youtube video is by making a simple request to this url <a href=\"https://video.google.com/timedtext?lang=%7BLANG%7D&amp;v=%7BvideoId%7D\" rel=\"nofollow noreferrer\">https://video.google.com/timedtext?lang={LANG}&amp;v={videoId}</a></p>\n<p>I have tried to use the Youtube API v3 but at the moment it doesn't work. When you do a request with the Youtube API v3 on a certain video you need that the person which uploaded the video to approve the caption's download, if not you'll have a 403 error in the console. It's normal to have the error, the server doesn't receive the approval so it returns an error.</p>\n<p>You can download the captions from your own video with the Youtube API v3.</p>\n<p>Something similar to this will do the job. The response will come in an XML format:</p>\n<pre><code>   $.ajax({\n        type: &quot;POST&quot;,\n        url: &quot;https://video.google.com/timedtext?lang=en&amp;v=5MgBikgcWnY&quot;\n    }).done(function (response) {\n        console.log(response);\n    }).fail(function (response) {\n        console.log();\n    });\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2800537,"reputation":454,"user_id":2408863,"display_name":"tonnoz"},"score":2,"creation_date":1639242870,"post_id":58435817,"comment_id":124301057,"body_markdown":"as of now 11 Dec 2021 this no longer work. Any suggestions?","body":"as of now 11 Dec 2021 this no longer work. Any suggestions?"},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":1,"creation_date":1639251076,"post_id":58435817,"comment_id":124302849,"body_markdown":"@tonnoz I think YouTube recently changed their API to require OAuth or something, see: https://developers.google.com/youtube/v3/docs/captions/list","body":"@tonnoz I think YouTube recently changed their API to require OAuth or something, see: <a href=\"https://developers.google.com/youtube/v3/docs/captions/list\" rel=\"nofollow noreferrer\">developers.google.com/youtube/v3/docs/captions/list</a>"}],"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"comment_count":2,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1604937934,"creation_date":1571325252,"answer_id":58435817,"question_id":32142656,"body_markdown":"Building on Sergiu Mare&#39;s suggestion, I wrote an encapsulated function that can return the captions in the console.\r\n\r\nThis is written in pure JavaScript (ES6) and you can test it out below, or you can copy everything below and paste it in the console of any video that has captions.\r\n\r\n---\r\n\r\n# Updated version\r\n\r\n## OOP approach\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const main = async () =&gt; {\r\n      const\r\n        defaultId = &#39;fJ9rUzIMcZQ&#39;, /* Queen – Bohemian Rhapsody */\r\n        json = await YouTubeCaptionUtil\r\n          .fetchCaptions(YouTubeCaptionUtil.videoId() || defaultId),\r\n        csv = CsvUtil.fromJson(json);\r\n      console.log(csv);\r\n    };\r\n\r\n    class YouTubeCaptionUtil {\r\n      static async fetchCaptions(videoId, options) {\r\n        const\r\n          opts = { ...YouTubeCaptionUtil.defaultOptions, ...options },\r\n          response = await fetch(YouTubeCaptionUtil.__requestUrl(videoId, opts)),\r\n          json = await response.json();\r\n        return YouTubeCaptionUtil.__parseTranscript(json);\r\n      }\r\n      static videoId() {\r\n        const video_id = window.location.search.split(&#39;v=&#39;)[1];\r\n        if (video_id != null) {\r\n          const ampersandPosition = video_id.indexOf(&#39;&amp;&#39;);\r\n          if (ampersandPosition != -1) {\r\n            return video_id.substring(0, ampersandPosition);\r\n          }\r\n        }\r\n        return null;\r\n      }\r\n      static __requestUrl(videoId, { baseUrl, languageId }) {\r\n        return `${baseUrl}?lang=${languageId}&amp;v=${videoId}&amp;fmt=json3`;\r\n      }\r\n      static __parseTranscript({events}) {\r\n        return events.map(({tStartMs, dDurationMs, segs: [{utf8}]}) =&gt; ({\r\n          start: YouTubeCaptionUtil.__formatTime(tStartMs),\r\n          dur: YouTubeCaptionUtil.__formatTime(dDurationMs),\r\n          text: utf8\r\n        }));\r\n      }\r\n      static __formatTime(seconds) {\r\n        const date = new Date(null);\r\n        date.setSeconds(seconds);\r\n        return date.toISOString().substr(11, 8);\r\n      };\r\n    }\r\n    YouTubeCaptionUtil.defaultOptions = {\r\n      baseUrl: &#39;https://video.google.com/timedtext&#39;,\r\n      languageId: &#39;en&#39;\r\n    };\r\n\r\n    class CsvUtil {\r\n      static fromJson(json, options) {\r\n        const\r\n          opts = { ...CsvUtil.defaultOptions, ...options },\r\n          keys = Object.keys(json[0]).filter(key =&gt;\r\n            opts.ignoreKeys.indexOf(key) === -1),\r\n          lines = [];\r\n        if (opts.includeHeader) lines.push(keys.join(opts.delimiter));\r\n        return lines.concat(json\r\n            .map(entry =&gt; keys.map(key =&gt; entry[key]).join(opts.delimiter)))\r\n            .join(&#39;\\n&#39;);\r\n      }\r\n    }\r\n    CsvUtil.defaultOptions = {\r\n      includeHeader: false,\r\n      ignoreKeys: [&#39;dur&#39;],\r\n      delimiter: &#39;\\t&#39;\r\n    };\r\n\r\n    main();\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    .as-console-wrapper { top: 0; max-height: 100% !important; }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n## Functional approach\r\n\r\n&lt;!-- begin snippet: js hide: true console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const main = async() =&gt; {\r\n      const defaultId = &#39;fJ9rUzIMcZQ&#39;; // Queen – Bohemian Rhapsody (default ID)\r\n      const json = await loadYouTubeSubtitles(getYouTubeVideoId() || defaultId);\r\n      const csv = jsonToCsv(json, {\r\n        includeHeader: false,\r\n        ignoreKeys: [&#39;dur&#39;],\r\n        delimiter: &#39;\\t&#39;,\r\n      });\r\n\r\n      console.log(csv);\r\n    };\r\n\r\n    const parseTranscript = ({ events }) =&gt; {\r\n      return events.map(({ tStartMs, dDurationMs, segs: [{ utf8 }] }) =&gt; ({\r\n        start: formatTime(tStartMs),\r\n        dur: formatTime(dDurationMs),\r\n        text: utf8\r\n      }));\r\n    };\r\n\r\n    const formatTime = (seconds) =&gt; {\r\n      let date = new Date(null);\r\n      date.setSeconds(seconds);\r\n      return date.toISOString().substr(11, 8);\r\n    };\r\n\r\n    const getYouTubeVideoId = () =&gt; {\r\n      var video_id = window.location.search.split(&#39;v=&#39;)[1];\r\n      if (video_id != null) {\r\n        var ampersandPosition = video_id.indexOf(&#39;&amp;&#39;);\r\n        if (ampersandPosition != -1) {\r\n          return video_id.substring(0, ampersandPosition);\r\n        }\r\n      }\r\n      return null;\r\n    };\r\n\r\n    const loadYouTubeSubtitles = async(videoId, options) =&gt; {\r\n      options = Object.assign({\r\n        baseUrl: &#39;https://video.google.com/timedtext&#39;,\r\n        languageId: &#39;en&#39;,\r\n      }, options || {});\r\n\r\n      const requestUrl = `${options.baseUrl}?lang=${options.languageId}&amp;v=${videoId}&amp;fmt=json3`;\r\n      const response = await fetch(requestUrl);\r\n      const json = await response.json();\r\n\r\n      return parseTranscript(json);\r\n    };\r\n\r\n    const jsonToCsv = (json, options) =&gt; {\r\n      options = Object.assign({\r\n        includeHeader: true,\r\n        delimiter: &#39;,&#39;,\r\n        ignoreKeys: []\r\n      }, options || {});\r\n      let keys = Object.keys(json[0]).filter(key =&gt; options.ignoreKeys.indexOf(key) === -1);\r\n      let lines = [];\r\n      if (options.includeHeader) {\r\n        lines.push(keys.join(options.delimiter));\r\n      }\r\n      return lines.concat(json\r\n          .map(entry =&gt; keys.map(key =&gt; entry[key]).join(options.delimiter)))\r\n        .join(&#39;\\n&#39;);\r\n    };\r\n\r\n    main();\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    .as-console-wrapper { top: 0; max-height: 100% !important; }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n---\r\n\r\n# Original response\r\n\r\nThis response creates an `XMLHttpRequest`.\r\n\r\n&lt;!-- begin snippet: js hide: true console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    loadYouTubeSubtitles((getYouTubeVideoId() || &#39;fJ9rUzIMcZQ&#39;), {\r\n      callbackFn : function(json) {\r\n        console.log(jsonToCsv(json, {\r\n          includeHeader : false,\r\n          ignoreKeys : [ &#39;dur&#39; ],\r\n          delimiter : &#39;\\t&#39;,\r\n        }));\r\n      }\r\n    }); // Queen – Bohemian Rhapsody (default ID)\r\n\r\n    function getYouTubeVideoId() {\r\n      var video_id = window.location.search.split(&#39;v=&#39;)[1];\r\n      if (video_id != null) {\r\n        var ampersandPosition = video_id.indexOf(&#39;&amp;&#39;);\r\n        if (ampersandPosition != -1) {\r\n          return video_id.substring(0, ampersandPosition);\r\n        }\r\n      }\r\n      return null;\r\n    }\r\n\r\n    function loadYouTubeSubtitles(videoId, options) {\r\n      options = Object.assign({\r\n        baseUrl : &#39;https://video.google.com/timedtext&#39;,\r\n        languageId : &#39;en&#39;,\r\n        callbackFn : function(json) { console.log(json); } // Default\r\n      }, options || {});\r\n\r\n      // https://stackoverflow.com/a/9609450/1762224\r\n      var decodeHTML = (function() {\r\n        let el = document.createElement(&#39;div&#39;);\r\n        function __decode(str) {\r\n          if (str &amp;&amp; typeof str === &#39;string&#39;) {\r\n            str = str.replace(/&lt;script[^&gt;]*&gt;([\\S\\s]*?)&lt;\\/script&gt;/gmi, &#39;&#39;)\r\n              .replace(/&lt;\\/?\\w(?:[^&quot;&#39;&gt;]|&quot;[^&quot;]*&quot;|&#39;[^&#39;]*&#39;)*&gt;/gmi, &#39;&#39;);\r\n            el.innerHTML = str;\r\n            str = el.textContent;\r\n            el.textContent = &#39;&#39;;\r\n          }\r\n          return str;\r\n        }\r\n        removeElement(el); // Clean-up\r\n        return __decode;\r\n      })();\r\n      \r\n      function removeElement(el) {\r\n        el &amp;&amp; el.parentNode &amp;&amp; el.parentNode.removeChild(el);\r\n      }\r\n\r\n      function parseTranscriptAsJSON(xml) {\r\n        return [].slice.call(xml.querySelectorAll(&#39;transcript text&#39;))\r\n          .map(text =&gt; ({\r\n            start : formatTime(Math.floor(text.getAttribute(&#39;start&#39;))),\r\n            dur : formatTime(Math.floor(text.getAttribute(&#39;dur&#39;))),\r\n            text : decodeHTML(text.textContent).replace(/\\s+/g, &#39; &#39;)\r\n          }));\r\n      }\r\n\r\n      function formatTime(seconds) {\r\n        let date = new Date(null);\r\n        date.setSeconds(seconds);\r\n        return date.toISOString().substr(11, 8);\r\n      }\r\n\r\n      let xhr = new XMLHttpRequest();\r\n      xhr.open(&#39;POST&#39;, `${options.baseUrl}?lang=${options.languageId}&amp;v=${videoId}`, true);\r\n      xhr.responseType = &#39;document&#39;;\r\n      xhr.onload = function() {\r\n        if (this.status &gt;= 200 &amp;&amp; this.status &lt; 400) {\r\n          options.callbackFn(parseTranscriptAsJSON(this.response));\r\n        } else {\r\n          console.log(&#39;Error: &#39; + this.status);\r\n        }\r\n      };\r\n      xhr.onerror = function() {\r\n        console.log(&#39;Error!&#39;);\r\n      };\r\n      xhr.send();\r\n    }\r\n\r\n    function jsonToCsv(json, options) {\r\n      options = Object.assign({\r\n        includeHeader : true,\r\n        delimiter : &#39;,&#39;,\r\n        ignoreKeys : []\r\n      }, options || {});\r\n      let keys = Object.keys(json[0]).filter(key =&gt; options.ignoreKeys.indexOf(key) === -1);\r\n      let lines = [];\r\n      if (options.includeHeader) { lines.push(keys.join(options.delimiter)); }\r\n      return lines.concat(json\r\n        .map(entry =&gt; keys.map(key =&gt; entry[key]).join(options.delimiter)))\r\n        .join(&#39;\\n&#39;);\r\n    }\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    .as-console-wrapper { top: 0; max-height: 100% !important; }\r\n\r\n&lt;!-- end snippet --&gt;","title":"Get YouTube captions","body":"<p>Building on Sergiu Mare's suggestion, I wrote an encapsulated function that can return the captions in the console.</p>\n<p>This is written in pure JavaScript (ES6) and you can test it out below, or you can copy everything below and paste it in the console of any video that has captions.</p>\n<hr />\n<h1>Updated version</h1>\n<h2>OOP approach</h2>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const main = async () =&gt; {\n  const\n    defaultId = 'fJ9rUzIMcZQ', /* Queen – Bohemian Rhapsody */\n    json = await YouTubeCaptionUtil\n      .fetchCaptions(YouTubeCaptionUtil.videoId() || defaultId),\n    csv = CsvUtil.fromJson(json);\n  console.log(csv);\n};\n\nclass YouTubeCaptionUtil {\n  static async fetchCaptions(videoId, options) {\n    const\n      opts = { ...YouTubeCaptionUtil.defaultOptions, ...options },\n      response = await fetch(YouTubeCaptionUtil.__requestUrl(videoId, opts)),\n      json = await response.json();\n    return YouTubeCaptionUtil.__parseTranscript(json);\n  }\n  static videoId() {\n    const video_id = window.location.search.split('v=')[1];\n    if (video_id != null) {\n      const ampersandPosition = video_id.indexOf('&amp;');\n      if (ampersandPosition != -1) {\n        return video_id.substring(0, ampersandPosition);\n      }\n    }\n    return null;\n  }\n  static __requestUrl(videoId, { baseUrl, languageId }) {\n    return `${baseUrl}?lang=${languageId}&amp;v=${videoId}&amp;fmt=json3`;\n  }\n  static __parseTranscript({events}) {\n    return events.map(({tStartMs, dDurationMs, segs: [{utf8}]}) =&gt; ({\n      start: YouTubeCaptionUtil.__formatTime(tStartMs),\n      dur: YouTubeCaptionUtil.__formatTime(dDurationMs),\n      text: utf8\n    }));\n  }\n  static __formatTime(seconds) {\n    const date = new Date(null);\n    date.setSeconds(seconds);\n    return date.toISOString().substr(11, 8);\n  };\n}\nYouTubeCaptionUtil.defaultOptions = {\n  baseUrl: 'https://video.google.com/timedtext',\n  languageId: 'en'\n};\n\nclass CsvUtil {\n  static fromJson(json, options) {\n    const\n      opts = { ...CsvUtil.defaultOptions, ...options },\n      keys = Object.keys(json[0]).filter(key =&gt;\n        opts.ignoreKeys.indexOf(key) === -1),\n      lines = [];\n    if (opts.includeHeader) lines.push(keys.join(opts.delimiter));\n    return lines.concat(json\n        .map(entry =&gt; keys.map(key =&gt; entry[key]).join(opts.delimiter)))\n        .join('\\n');\n  }\n}\nCsvUtil.defaultOptions = {\n  includeHeader: false,\n  ignoreKeys: ['dur'],\n  delimiter: '\\t'\n};\n\nmain();</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { top: 0; max-height: 100% !important; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<h2>Functional approach</h2>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const main = async() =&gt; {\n  const defaultId = 'fJ9rUzIMcZQ'; // Queen – Bohemian Rhapsody (default ID)\n  const json = await loadYouTubeSubtitles(getYouTubeVideoId() || defaultId);\n  const csv = jsonToCsv(json, {\n    includeHeader: false,\n    ignoreKeys: ['dur'],\n    delimiter: '\\t',\n  });\n\n  console.log(csv);\n};\n\nconst parseTranscript = ({ events }) =&gt; {\n  return events.map(({ tStartMs, dDurationMs, segs: [{ utf8 }] }) =&gt; ({\n    start: formatTime(tStartMs),\n    dur: formatTime(dDurationMs),\n    text: utf8\n  }));\n};\n\nconst formatTime = (seconds) =&gt; {\n  let date = new Date(null);\n  date.setSeconds(seconds);\n  return date.toISOString().substr(11, 8);\n};\n\nconst getYouTubeVideoId = () =&gt; {\n  var video_id = window.location.search.split('v=')[1];\n  if (video_id != null) {\n    var ampersandPosition = video_id.indexOf('&amp;');\n    if (ampersandPosition != -1) {\n      return video_id.substring(0, ampersandPosition);\n    }\n  }\n  return null;\n};\n\nconst loadYouTubeSubtitles = async(videoId, options) =&gt; {\n  options = Object.assign({\n    baseUrl: 'https://video.google.com/timedtext',\n    languageId: 'en',\n  }, options || {});\n\n  const requestUrl = `${options.baseUrl}?lang=${options.languageId}&amp;v=${videoId}&amp;fmt=json3`;\n  const response = await fetch(requestUrl);\n  const json = await response.json();\n\n  return parseTranscript(json);\n};\n\nconst jsonToCsv = (json, options) =&gt; {\n  options = Object.assign({\n    includeHeader: true,\n    delimiter: ',',\n    ignoreKeys: []\n  }, options || {});\n  let keys = Object.keys(json[0]).filter(key =&gt; options.ignoreKeys.indexOf(key) === -1);\n  let lines = [];\n  if (options.includeHeader) {\n    lines.push(keys.join(options.delimiter));\n  }\n  return lines.concat(json\n      .map(entry =&gt; keys.map(key =&gt; entry[key]).join(options.delimiter)))\n    .join('\\n');\n};\n\nmain();</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { top: 0; max-height: 100% !important; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<hr />\n<h1>Original response</h1>\n<p>This response creates an <code>XMLHttpRequest</code>.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>loadYouTubeSubtitles((getYouTubeVideoId() || 'fJ9rUzIMcZQ'), {\n  callbackFn : function(json) {\n    console.log(jsonToCsv(json, {\n      includeHeader : false,\n      ignoreKeys : [ 'dur' ],\n      delimiter : '\\t',\n    }));\n  }\n}); // Queen – Bohemian Rhapsody (default ID)\n\nfunction getYouTubeVideoId() {\n  var video_id = window.location.search.split('v=')[1];\n  if (video_id != null) {\n    var ampersandPosition = video_id.indexOf('&amp;');\n    if (ampersandPosition != -1) {\n      return video_id.substring(0, ampersandPosition);\n    }\n  }\n  return null;\n}\n\nfunction loadYouTubeSubtitles(videoId, options) {\n  options = Object.assign({\n    baseUrl : 'https://video.google.com/timedtext',\n    languageId : 'en',\n    callbackFn : function(json) { console.log(json); } // Default\n  }, options || {});\n\n  // https://stackoverflow.com/a/9609450/1762224\n  var decodeHTML = (function() {\n    let el = document.createElement('div');\n    function __decode(str) {\n      if (str &amp;&amp; typeof str === 'string') {\n        str = str.replace(/&lt;script[^&gt;]*&gt;([\\S\\s]*?)&lt;\\/script&gt;/gmi, '')\n          .replace(/&lt;\\/?\\w(?:[^\"'&gt;]|\"[^\"]*\"|'[^']*')*&gt;/gmi, '');\n        el.innerHTML = str;\n        str = el.textContent;\n        el.textContent = '';\n      }\n      return str;\n    }\n    removeElement(el); // Clean-up\n    return __decode;\n  })();\n  \n  function removeElement(el) {\n    el &amp;&amp; el.parentNode &amp;&amp; el.parentNode.removeChild(el);\n  }\n\n  function parseTranscriptAsJSON(xml) {\n    return [].slice.call(xml.querySelectorAll('transcript text'))\n      .map(text =&gt; ({\n        start : formatTime(Math.floor(text.getAttribute('start'))),\n        dur : formatTime(Math.floor(text.getAttribute('dur'))),\n        text : decodeHTML(text.textContent).replace(/\\s+/g, ' ')\n      }));\n  }\n\n  function formatTime(seconds) {\n    let date = new Date(null);\n    date.setSeconds(seconds);\n    return date.toISOString().substr(11, 8);\n  }\n\n  let xhr = new XMLHttpRequest();\n  xhr.open('POST', `${options.baseUrl}?lang=${options.languageId}&amp;v=${videoId}`, true);\n  xhr.responseType = 'document';\n  xhr.onload = function() {\n    if (this.status &gt;= 200 &amp;&amp; this.status &lt; 400) {\n      options.callbackFn(parseTranscriptAsJSON(this.response));\n    } else {\n      console.log('Error: ' + this.status);\n    }\n  };\n  xhr.onerror = function() {\n    console.log('Error!');\n  };\n  xhr.send();\n}\n\nfunction jsonToCsv(json, options) {\n  options = Object.assign({\n    includeHeader : true,\n    delimiter : ',',\n    ignoreKeys : []\n  }, options || {});\n  let keys = Object.keys(json[0]).filter(key =&gt; options.ignoreKeys.indexOf(key) === -1);\n  let lines = [];\n  if (options.includeHeader) { lines.push(keys.join(options.delimiter)); }\n  return lines.concat(json\n    .map(entry =&gt; keys.map(key =&gt; entry[key]).join(options.delimiter)))\n    .join('\\n');\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { top: 0; max-height: 100% !important; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"comments":[{"owner":{"account_id":5833425,"reputation":1237,"user_id":4597246,"display_name":"Wim den Herder"},"score":0,"creation_date":1671692838,"post_id":74770780,"comment_id":132154142,"body_markdown":"If you want to find a certain language, use this: `let getBaseUrl = (langCode) =&gt; ytInitialPlayerResponse.captions.playerCaptionsTracklistRenderer.captionTracks.find(x =&gt; x.vssId.indexOf(&quot;.&quot; + langCode) === 0)?.baseUrl` and replace the subsUrl with `getBaseUrl(&#39;en&#39;)` for example","body":"If you want to find a certain language, use this: <code>let getBaseUrl = (langCode) =&gt; ytInitialPlayerResponse.captions.playerCaptionsTracklistRend&zwnj;&#8203;erer.captionTracks.f&zwnj;&#8203;ind(x =&gt; x.vssId.indexOf(&quot;.&quot; + langCode) === 0)?.baseUrl</code> and replace the subsUrl with <code>getBaseUrl(&#39;en&#39;)</code> for example"}],"tags":[],"owner":{"account_id":5833425,"reputation":1237,"user_id":4597246,"display_name":"Wim den Herder"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1671696345,"creation_date":1670846337,"answer_id":74770780,"question_id":32142656,"body_markdown":"**The following works when you&#39;re on the youtube page**  \r\nOpen the developer console. Try copy paste this: (make sure to refresh your page!)\r\n\r\n```\r\nlet subsUrl = ytInitialPlayerResponse.captions.playerCaptionsTracklistRenderer.captionTracks[0].baseUrl;\r\nlet subs = await (await fetch(subsUrl)).text();\r\nlet xml = new DOMParser().parseFromString(subs,&quot;text/xml&quot;);\r\nlet textNodes = [...xml.getElementsByTagName(&#39;text&#39;)];\r\nlet subsText = textNodes.map(x =&gt; x.textContent).join(&quot;\\n&quot;).replaceAll(&#39;&amp;#39;&#39;,&quot;&#39;&quot;);\r\nconsole.log(subsText);\r\n```\r\n\r\nWow, isn&#39;t that cool? And short and simple as well?\r\n\r\nThis is possible because of a really cool trick: on a youtube page there is a global variable `ytInitialPlayerResponse` with a link to the captions:  (make sure to refresh the page first)\r\n\r\n```\r\nlet subsUrl = ytInitialPlayerResponse.captions.playerCaptionsTracklistRenderer.captionTracks[0].baseUrl;\r\n```\r\n\r\nBecause you&#39;re on the YouTube page, you are allowed to fetch this url (no cors problem, because your fetch originates from youtube.com)\r\n\r\n```\r\nlet subs = await (await fetch(subsUrl)).text();\r\n```\r\n\r\nThis text should be parsed as xml. For this it&#39;s very useful to use the DOMParser:\r\n\r\n```\r\nlet xml = new DOMParser().parseFromString(subs,&quot;text/xml&quot;);\r\n```\r\nYou then want to get the text elements\r\n```\r\nxml.getElementsByTagName(&#39;text&#39;)\r\n```\r\nWith spread notation you can make it an array of text nodes\r\n```\r\nlet textNodes = [...xml.getElementsByTagName(&#39;text&#39;)]\r\n```\r\nOn which you can perform a map operation to get the parameters. We are interested in textContent:\r\n```\r\ntextNodes.map(x =&gt; x.textContent)\r\n```\r\nNow you have an array of subtitles.\r\nTo join this to one big text you can write the following:\r\n```\r\nlet subsText = textNodes.map(x =&gt; x.textContent).join(&quot;\\n&quot;).replaceAll(&#39;&amp;#39;&#39;,&quot;&#39;&quot;);\r\n```\r\nNote that &amp;#39; is a notation for &#39; in the youtube subtitle, so we replace that.\r\n\r\nIn Chrome&#39;s developers&#39; console you have to add console.log the thing to get rid of `\\n` notation, so you write:\r\n```\r\nconsole.log(subsText)\r\n```\r\n\r\n**How to download the subtitles**  \r\nIf you want to automatically download a txt file you could add this code from this [discussion][1]:\r\n\r\n```\r\nfunction downloadText(filename, text) {\r\n  var el = document.createElement(&#39;a&#39;);\r\n  el.setAttribute(&#39;href&#39;, &#39;data:text/plain;charset=utf-8,&#39; + encodeURIComponent(text));\r\n  el.setAttribute(&#39;download&#39;, filename);\r\n  el.style.display = &#39;none&#39;;\r\n  document.body.appendChild(el);\r\n  el.click();\r\n  document.body.removeChild(el);\r\n}\r\n\r\ndownloadText(&#39;subs.txt&#39;,subsText);\r\n```\r\n\r\nPS: I&#39;m using let, not const so that you can copy paste it multiple times to the same console  \r\nPS2: This example uses the first baseUrl, nice exercise: try to find other languages!\r\n\r\nHave fun with it!\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3665115/how-to-create-a-file-in-memory-for-user-to-download-but-not-through-server","title":"Get YouTube captions","body":"<p><strong>The following works when you're on the youtube page</strong><br />\nOpen the developer console. Try copy paste this: (make sure to refresh your page!)</p>\n<pre><code>let subsUrl = ytInitialPlayerResponse.captions.playerCaptionsTracklistRenderer.captionTracks[0].baseUrl;\nlet subs = await (await fetch(subsUrl)).text();\nlet xml = new DOMParser().parseFromString(subs,&quot;text/xml&quot;);\nlet textNodes = [...xml.getElementsByTagName('text')];\nlet subsText = textNodes.map(x =&gt; x.textContent).join(&quot;\\n&quot;).replaceAll('&amp;#39;',&quot;'&quot;);\nconsole.log(subsText);\n</code></pre>\n<p>Wow, isn't that cool? And short and simple as well?</p>\n<p>This is possible because of a really cool trick: on a youtube page there is a global variable <code>ytInitialPlayerResponse</code> with a link to the captions:  (make sure to refresh the page first)</p>\n<pre><code>let subsUrl = ytInitialPlayerResponse.captions.playerCaptionsTracklistRenderer.captionTracks[0].baseUrl;\n</code></pre>\n<p>Because you're on the YouTube page, you are allowed to fetch this url (no cors problem, because your fetch originates from youtube.com)</p>\n<pre><code>let subs = await (await fetch(subsUrl)).text();\n</code></pre>\n<p>This text should be parsed as xml. For this it's very useful to use the DOMParser:</p>\n<pre><code>let xml = new DOMParser().parseFromString(subs,&quot;text/xml&quot;);\n</code></pre>\n<p>You then want to get the text elements</p>\n<pre><code>xml.getElementsByTagName('text')\n</code></pre>\n<p>With spread notation you can make it an array of text nodes</p>\n<pre><code>let textNodes = [...xml.getElementsByTagName('text')]\n</code></pre>\n<p>On which you can perform a map operation to get the parameters. We are interested in textContent:</p>\n<pre><code>textNodes.map(x =&gt; x.textContent)\n</code></pre>\n<p>Now you have an array of subtitles.\nTo join this to one big text you can write the following:</p>\n<pre><code>let subsText = textNodes.map(x =&gt; x.textContent).join(&quot;\\n&quot;).replaceAll('&amp;#39;',&quot;'&quot;);\n</code></pre>\n<p>Note that ' is a notation for ' in the youtube subtitle, so we replace that.</p>\n<p>In Chrome's developers' console you have to add console.log the thing to get rid of <code>\\n</code> notation, so you write:</p>\n<pre><code>console.log(subsText)\n</code></pre>\n<p><strong>How to download the subtitles</strong><br />\nIf you want to automatically download a txt file you could add this code from this <a href=\"https://stackoverflow.com/questions/3665115/how-to-create-a-file-in-memory-for-user-to-download-but-not-through-server\">discussion</a>:</p>\n<pre><code>function downloadText(filename, text) {\n  var el = document.createElement('a');\n  el.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));\n  el.setAttribute('download', filename);\n  el.style.display = 'none';\n  document.body.appendChild(el);\n  el.click();\n  document.body.removeChild(el);\n}\n\ndownloadText('subs.txt',subsText);\n</code></pre>\n<p>PS: I'm using let, not const so that you can copy paste it multiple times to the same console<br />\nPS2: This example uses the first baseUrl, nice exercise: try to find other languages!</p>\n<p>Have fun with it!</p>\n"}],"owner":{"account_id":1559142,"reputation":4127,"user_id":3084258,"accept_rate":100,"display_name":"Filipp Voronov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13887,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":48407571,"answer_count":4,"score":20,"last_activity_date":1688484896,"creation_date":1440166644,"question_id":32142656,"body_markdown":"How can programmatically get subtitles of a playing YouTube video?\r\n\r\nInitially I&#39;ve tried to do it offline via [YouTube API][1], but [as it seems][2] YouTube forbids to fetch subtitles of videos you are not the owner.\r\n\r\nNow I&#39;m trying to do it online. I haven&#39;t found [YouTube Player Api][3] methods for captions, also I&#39;ve tried to get YouTube captions as TextTrack with [videojs][4] player in [the way it could be done for usual videos][5], but the following doesn&#39;t work:\r\n\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;link href=&quot;//vjs.zencdn.net/4.12/video-js.css&quot; rel=&quot;stylesheet&quot;&gt;\r\n    \r\n    &lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script type=&quot;text/javascript&quot; src=&quot;//vjs.zencdn.net/4.12/video.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script type=&quot;text/javascript&quot; src=&quot;../lib/youtube.js&quot;&gt;&lt;/script&gt;\r\n    &lt;/head&gt;\r\n        \r\n    &lt;body&gt;\r\n    &lt;video  id=&quot;myvideo&quot;\r\n            class=&quot;video-js vjs-default-skin vjs-big-play-centered&quot; \r\n            controls \r\n            preload=&quot;auto&quot; \r\n            width=&quot;640&quot; \r\n            height=&quot;360&quot;&gt;\r\n    &lt;/video&gt;\r\n            \r\n    &lt;script type=&quot;text/javascript&quot;&gt;\r\n        var myvideo = videojs(\r\n            &quot;myvideo&quot;,\r\n            {\r\n                &quot;techOrder&quot;: [&quot;youtube&quot;],\r\n                &quot;src&quot;: &quot;https://www.youtube.com/watch?v=jNhtbmXzIaM&quot; \r\n            },\r\n            function() {\r\n                console.log(&#39;Tracks: &#39; + this.textTracks().length); //zero here :(\r\n                \r\n                /*var aTextTrack = this.textTracks()[0];\r\n                aTextTrack.on(&#39;loaded&#39;, function() {\r\n                    console.log(&#39;here it is&#39;);\r\n                    cues = aTextTrack.cues();\r\n                    console.log(&#39;Ready State&#39;, aTextTrack.readyState()) \r\n                    console.log(&#39;Cues&#39;, cues);\r\n                });\r\n                aTextTrack.show();*/\r\n            });\r\n    &lt;/script&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nI&#39;ve also tried an ugly solution with parsing YouTube Player IFrame (there is a div inside it with current subtitles&#39; line), but it doesn&#39;t work because of origin mismatch security issues.\r\n\r\n\r\n----------\r\n\r\n\r\nIs there any way my goal can be achieved in java (for offline solutions) or javascript (for online solutions)?\r\n\r\n\r\n  [1]: https://developers.google.com/youtube/\r\n  [2]: https://stackoverflow.com/questions/32033153/does-youtube-api-forbid-to-download-video-captions-if-you-are-not-its-owner\r\n  [3]: https://developers.google.com/youtube/iframe_api_reference\r\n  [4]: http://www.videojs.com/\r\n  [5]: https://stackoverflow.com/a/32045281/3084258","title":"Get YouTube captions","body":"<p>How can programmatically get subtitles of a playing YouTube video?</p>\n\n<p>Initially I've tried to do it offline via <a href=\"https://developers.google.com/youtube/\" rel=\"noreferrer\">YouTube API</a>, but <a href=\"https://stackoverflow.com/questions/32033153/does-youtube-api-forbid-to-download-video-captions-if-you-are-not-its-owner\">as it seems</a> YouTube forbids to fetch subtitles of videos you are not the owner.</p>\n\n<p>Now I'm trying to do it online. I haven't found <a href=\"https://developers.google.com/youtube/iframe_api_reference\" rel=\"noreferrer\">YouTube Player Api</a> methods for captions, also I've tried to get YouTube captions as TextTrack with <a href=\"http://www.videojs.com/\" rel=\"noreferrer\">videojs</a> player in <a href=\"https://stackoverflow.com/a/32045281/3084258\">the way it could be done for usual videos</a>, but the following doesn't work:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;link href=\"//vjs.zencdn.net/4.12/video-js.css\" rel=\"stylesheet\"&gt;\n\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"//vjs.zencdn.net/4.12/video.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"../lib/youtube.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n&lt;video  id=\"myvideo\"\n        class=\"video-js vjs-default-skin vjs-big-play-centered\" \n        controls \n        preload=\"auto\" \n        width=\"640\" \n        height=\"360\"&gt;\n&lt;/video&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n    var myvideo = videojs(\n        \"myvideo\",\n        {\n            \"techOrder\": [\"youtube\"],\n            \"src\": \"https://www.youtube.com/watch?v=jNhtbmXzIaM\" \n        },\n        function() {\n            console.log('Tracks: ' + this.textTracks().length); //zero here :(\n\n            /*var aTextTrack = this.textTracks()[0];\n            aTextTrack.on('loaded', function() {\n                console.log('here it is');\n                cues = aTextTrack.cues();\n                console.log('Ready State', aTextTrack.readyState()) \n                console.log('Cues', cues);\n            });\n            aTextTrack.show();*/\n        });\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I've also tried an ugly solution with parsing YouTube Player IFrame (there is a div inside it with current subtitles' line), but it doesn't work because of origin mismatch security issues.</p>\n\n<hr>\n\n<p>Is there any way my goal can be achieved in java (for offline solutions) or javascript (for online solutions)?</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa"],"owner":{"account_id":4534543,"reputation":1,"user_id":3684116,"display_name":"baz0"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688484480,"creation_date":1688484348,"question_id":76614043,"body_markdown":"I am trying to redirect all updates of an entity to go through service method. So for example\r\nif I have someEntity.setSomeAttribute(&quot;Value&quot;) it will execute an update method because of the ORM(hibernate). But I want that update and all others updates that come from calling a setter method to go through a method in my SomeEntityService. \r\nIn order to do that I implemented a PreUpdateEventListener in order to catch all the updates for that entity.\r\n\r\n````\r\npublic class SomeEntityPreUpdateEventListener implements PreUpdateEventListener {\r\n\r\n    private final SomeEntityService someEntityService;\r\n\r\n    @Override\r\n    public boolean onPreUpdate(PreUpdateEvent preUpdateEvent) {\r\n\r\n        final Object entity = preUpdateEvent.getEntity();\r\n        if (entity instanceof SomeEntity) {\r\n            final SomeEntity someEntity = (SomeEntity) entity;\r\n            if (!someEntity.isServiceUpdate()) {\r\n                System.out.println(&quot;SomeEntity is not updated from service. Calling service  method&quot;);\r\n                someEntityService.updateSomeEntity(someEntity);\r\n\r\n                System.out.println(&quot;Finished service method&quot;);\r\n                return true;\r\n            }\r\n            System.out.println(&quot;Update from service method&quot;);\r\n        }\r\n        return false;\r\n    }\r\n}\r\n````\r\nI added a boolean serviceUpdate in the SomeEntity and I set it to true in the updateSomeEntity.\r\n\r\n```\r\npublic SomeEntity updateSomeEntity(@NotNull SomeEntity item) {\r\n    item.setServiceUpdate(true);\r\n    SomeEntity createdItem = crudRepository.save(item);\r\n    this.entityManager.flush();\r\n    this.entityManager.refresh(createdItem);\r\n    return createdItem;\r\n}\r\n```\r\nSo I expect this to update the entity and again the listener to be called where now `isServiceUpdate` is true so it wouldn&#39;t veto the update. \r\nBut somehow `updateSomeEntity` does 2 updates and in both cases `isServiceUpdate` is true and I get `java.util.ConcurrentModificationException: null`. I assume that `entityManager.flush()`\r\ndoes the previous update that I want to forbid(but now has isServiceUpdate=true). \r\n\r\nIs there any way to achieve calling a setter that will update the entity always to go through service method ? \r\n\r\n\r\n\r\nTried with evicting the organization, read about entity listeners but somehow I don&#39;t have idea how to do this with event listener. `","title":"Redirect updates of entity from setter methods to go through service method","body":"<p>I am trying to redirect all updates of an entity to go through service method. So for example\nif I have someEntity.setSomeAttribute(&quot;Value&quot;) it will execute an update method because of the ORM(hibernate). But I want that update and all others updates that come from calling a setter method to go through a method in my SomeEntityService.\nIn order to do that I implemented a PreUpdateEventListener in order to catch all the updates for that entity.</p>\n<pre><code>public class SomeEntityPreUpdateEventListener implements PreUpdateEventListener {\n\n    private final SomeEntityService someEntityService;\n\n    @Override\n    public boolean onPreUpdate(PreUpdateEvent preUpdateEvent) {\n\n        final Object entity = preUpdateEvent.getEntity();\n        if (entity instanceof SomeEntity) {\n            final SomeEntity someEntity = (SomeEntity) entity;\n            if (!someEntity.isServiceUpdate()) {\n                System.out.println(&quot;SomeEntity is not updated from service. Calling service  method&quot;);\n                someEntityService.updateSomeEntity(someEntity);\n\n                System.out.println(&quot;Finished service method&quot;);\n                return true;\n            }\n            System.out.println(&quot;Update from service method&quot;);\n        }\n        return false;\n    }\n}\n</code></pre>\n<p>I added a boolean serviceUpdate in the SomeEntity and I set it to true in the updateSomeEntity.</p>\n<pre><code>public SomeEntity updateSomeEntity(@NotNull SomeEntity item) {\n    item.setServiceUpdate(true);\n    SomeEntity createdItem = crudRepository.save(item);\n    this.entityManager.flush();\n    this.entityManager.refresh(createdItem);\n    return createdItem;\n}\n</code></pre>\n<p>So I expect this to update the entity and again the listener to be called where now <code>isServiceUpdate</code> is true so it wouldn't veto the update.\nBut somehow <code>updateSomeEntity</code> does 2 updates and in both cases <code>isServiceUpdate</code> is true and I get <code>java.util.ConcurrentModificationException: null</code>. I assume that <code>entityManager.flush()</code>\ndoes the previous update that I want to forbid(but now has isServiceUpdate=true).</p>\n<p>Is there any way to achieve calling a setter that will update the entity always to go through service method ?</p>\n<p>Tried with evicting the organization, read about entity listeners but somehow I don't have idea how to do this with event listener. `</p>\n"},{"tags":["java","swing","jtabbedpane"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":3,"creation_date":1688320022,"post_id":76599871,"comment_id":135055266,"body_markdown":"The code you&#39;re not showing us, the `JFrame`, the `JFrame` layout manager, and the other `JPanels`, all have an effect on how the `JFrame` is arranged.  Create a simple [mre] with a `JFrame`, a `JTabbedPane`, and an inner `JTabbedPane` that we can compile and test in our IDEs that demonstrates the problem.","body":"The code you&#39;re not showing us, the <code>JFrame</code>, the <code>JFrame</code> layout manager, and the other <code>JPanels</code>, all have an effect on how the <code>JFrame</code> is arranged.  Create a simple <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with a <code>JFrame</code>, a <code>JTabbedPane</code>, and an inner <code>JTabbedPane</code> that we can compile and test in our IDEs that demonstrates the problem."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1688320247,"post_id":76599871,"comment_id":135055288,"body_markdown":"A non-pretty functional GUI is better than a pretty non-functional GUI.","body":"A non-pretty functional GUI is better than a pretty non-functional GUI."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1688330412,"post_id":76599871,"comment_id":135056438,"body_markdown":"*I&#39;m also using a custom UI tabbed* - so first test with the default UI. I&#39;m guessing it will work as expected. Then make one change at a time for your custom UI and retest. When it stops working you know what code you just changed.","body":"<i>I&#39;m also using a custom UI tabbed</i> - so first test with the default UI. I&#39;m guessing it will work as expected. Then make one change at a time for your custom UI and retest. When it stops working you know what code you just changed."}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688484302,"creation_date":1688483512,"answer_id":76613938,"question_id":76599871,"body_markdown":"Since your code wasn&#39;t runnable, I went ahead and created the following GUI.\r\n\r\n[![Nested tabs][1]][1]\r\n\r\nAs you can see, there are outer tabs and inner tabs all shown inside of the bounds of the `JFrame`. \r\n\r\nOracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  \r\n\r\nHere&#39;s the complete, runnable code, otherwise known as a [minimal reproducible example][2].\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Dimension;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTabbedPane;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class NestedJTabbedPanes implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new NestedJTabbedPanes());\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame(&quot;Nested JTabbedPanes&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\tframe.add(createOuterTabbedPane(), BorderLayout.CENTER);\r\n    \r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tprivate JTabbedPane createOuterTabbedPane() {\r\n    \t\tJTabbedPane tabbedPane = new JTabbedPane();\r\n    \t\tJPanel panel = createBlankPanel();\r\n    \t\ttabbedPane.addTab(&quot;Tab #1&quot;, panel);\r\n    \t\tJTabbedPane innerPane = createInnerTabbedPane();\r\n    \t\ttabbedPane.addTab(&quot;Tab #2&quot;, innerPane);\r\n    \t\tpanel = createBlankPanel();\r\n    \t\ttabbedPane.addTab(&quot;Tab #3&quot;, panel);\r\n    \t\tpanel = createBlankPanel();\r\n    \t\ttabbedPane.addTab(&quot;Tab #4&quot;, panel);\r\n    \r\n    \t\treturn tabbedPane;\r\n    \t}\r\n    \r\n    \tprivate JTabbedPane createInnerTabbedPane() {\r\n    \t\tJTabbedPane tabbedPane = new JTabbedPane();\r\n    \t\tJPanel panel = createBlankPanel();\r\n    \t\ttabbedPane.addTab(&quot;Tab #1&quot;, panel);\r\n    \t\tpanel = createBlankPanel();\r\n    \t\ttabbedPane.addTab(&quot;Tab #2&quot;, panel);\r\n    \t\tpanel = createBlankPanel();\r\n    \t\ttabbedPane.addTab(&quot;Tab #3&quot;, panel);\r\n    \t\tpanel = createBlankPanel();\r\n    \t\ttabbedPane.addTab(&quot;Tab #4&quot;, panel);\r\n    \r\n    \t\treturn tabbedPane;\r\n    \t}\r\n    \r\n    \tprivate JPanel createBlankPanel() {\r\n    \t\tJPanel panel = new JPanel();\r\n    \t\tpanel.setPreferredSize(new Dimension(400, 300));\r\n    \r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OHDHI.png\r\n  [2]: https://stackoverflow.com/help/minimal-reproducible-example","title":"JTabbedPane imbedded in JTabbedPane pushing bounds with too many tabs","body":"<p>Since your code wasn't runnable, I went ahead and created the following GUI.</p>\n<p><a href=\"https://i.stack.imgur.com/OHDHI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OHDHI.png\" alt=\"Nested tabs\" /></a></p>\n<p>As you can see, there are outer tabs and inner tabs all shown inside of the bounds of the <code>JFrame</code>.</p>\n<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.</p>\n<p>Here's the complete, runnable code, otherwise known as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JTabbedPane;\nimport javax.swing.SwingUtilities;\n\npublic class NestedJTabbedPanes implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new NestedJTabbedPanes());\n    }\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;Nested JTabbedPanes&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        frame.add(createOuterTabbedPane(), BorderLayout.CENTER);\n\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JTabbedPane createOuterTabbedPane() {\n        JTabbedPane tabbedPane = new JTabbedPane();\n        JPanel panel = createBlankPanel();\n        tabbedPane.addTab(&quot;Tab #1&quot;, panel);\n        JTabbedPane innerPane = createInnerTabbedPane();\n        tabbedPane.addTab(&quot;Tab #2&quot;, innerPane);\n        panel = createBlankPanel();\n        tabbedPane.addTab(&quot;Tab #3&quot;, panel);\n        panel = createBlankPanel();\n        tabbedPane.addTab(&quot;Tab #4&quot;, panel);\n\n        return tabbedPane;\n    }\n\n    private JTabbedPane createInnerTabbedPane() {\n        JTabbedPane tabbedPane = new JTabbedPane();\n        JPanel panel = createBlankPanel();\n        tabbedPane.addTab(&quot;Tab #1&quot;, panel);\n        panel = createBlankPanel();\n        tabbedPane.addTab(&quot;Tab #2&quot;, panel);\n        panel = createBlankPanel();\n        tabbedPane.addTab(&quot;Tab #3&quot;, panel);\n        panel = createBlankPanel();\n        tabbedPane.addTab(&quot;Tab #4&quot;, panel);\n\n        return tabbedPane;\n    }\n\n    private JPanel createBlankPanel() {\n        JPanel panel = new JPanel();\n        panel.setPreferredSize(new Dimension(400, 300));\n\n        return panel;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":25188076,"reputation":23,"user_id":19028647,"display_name":"GamingLegion"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688484302,"creation_date":1688316081,"question_id":76599871,"body_markdown":"I am trying to code a checklist style program and am using a JTabbedPane inside another JTabbedPane. Everything was fine until I tried adding another set of tabs under one tab. Then the bounds of the overall JTabbedPane started increasing and going off screen. Below is the pane before the extra tab. ![1] \r\n\r\nAnd below here is the pane after the extra tab. ![2]\r\n\r\nI&#39;m wondering if there is possibly a limit of some sort to how many tabs I can do. Only thing is I have other top tabs with way more right tabs so that doesn&#39;t make too much sense.\r\n\r\nHere is the code for setting up the components and tabs\r\n```\r\nprivate void init() {\r\n        e4cPanel = new JPanel();\r\n\t\te4cPanel.setBackground(back);\r\n\r\n\t\tgceaScroll = new JScrollPane();\r\n\t\tgceaScroll.setBackground(back);\r\n\t\tgceaScroll.setBorder(null);\r\n\t\tgceaScroll.setHorizontalScrollBar(null);\r\n\t\tgceaScroll.setVerticalScrollBar(new JCustomScrollBar());\r\n\t\tgceaScroll.getVerticalScrollBar().setUnitIncrement(25);\r\n\t\tgceaPanel = new JPanel();\r\n\t\tgceaPanel.setBackground(back);\r\n\t\tgceaScroll.setViewportView(gceaPanel);\r\n\r\n\t\tformScroll = new JScrollPane();\r\n\t\tformScroll.setBackground(back);\r\n\t\tformScroll.setBorder(null);\r\n\t\tformScroll.setHorizontalScrollBar(null);\r\n\t\tformScroll.setVerticalScrollBar(new JCustomScrollBar());\r\n\t\tformScroll.getVerticalScrollBar().setUnitIncrement(25);\r\n\t\tformPanel = new JPanel();\r\n\t\tformPanel.setBackground(back);\r\n\t\tformScroll.setViewportView(formPanel);\r\n\r\n\t\tlegScroll = new JScrollPane();\r\n\t\tlegScroll.setBackground(back);\r\n\t\tlegScroll.setBorder(null);\r\n\t\tlegScroll.setHorizontalScrollBar(null);\r\n\t\tlegScroll.setVerticalScrollBar(new JCustomScrollBar());\r\n\t\tlegScroll.getVerticalScrollBar().setUnitIncrement(25);\r\n\t\tlegPanel = new JPanel();\r\n\t\tlegPanel.setBackground(back);\r\n\t\tlegScroll.setViewportView(legPanel);\r\n\r\n\t\tmytScroll = new JScrollPane();\r\n\t\tmytScroll.setBackground(back);\r\n\t\tmytScroll.setBorder(null);\r\n\t\tmytScroll.setHorizontalScrollBar(null);\r\n\t\tmytScroll.setVerticalScrollBar(new JCustomScrollBar());\r\n\t\tmytScroll.getVerticalScrollBar().setUnitIncrement(25);\r\n\t\tmytPanel = new JPanel();\r\n\t\tmytPanel.setBackground(back);\r\n\t\tmytScroll.setViewportView(mytPanel);\r\n\r\n\t\tgiftScroll = new JScrollPane();\r\n\t\tgiftScroll.setBackground(back);\r\n\t\tgiftScroll.setBorder(null);\r\n\t\tgiftScroll.setHorizontalScrollBar(null);\r\n\t\tgiftScroll.setVerticalScrollBar(new JCustomScrollBar());\r\n\t\tgiftScroll.getVerticalScrollBar().setUnitIncrement(25);\r\n\t\tgiftPanel = new JPanel();\r\n\t\tgiftPanel.setBackground(back);\r\n\t\tgiftScroll.setViewportView(giftPanel);\r\n\r\n\t\tcolScroll = new JScrollPane();\r\n\t\tcolScroll.setBackground(back);\r\n\t\tcolScroll.setBorder(null);\r\n\t\tcolScroll.setHorizontalScrollBar(null);\r\n\t\tcolScroll.setVerticalScrollBar(new JCustomScrollBar());\r\n\t\tcolScroll.getVerticalScrollBar().setUnitIncrement(25);\r\n\t\tcolPanel = new JPanel();\r\n\t\tcolPanel.setBackground(back);\r\n\t\tcolScroll.setViewportView(colPanel);\r\n\r\n\t\tupgScroll = new JScrollPane();\r\n\t\tupgScroll.setBackground(back);\r\n\t\tupgScroll.setBorder(null);\r\n\t\tupgScroll.setHorizontalScrollBar(null);\r\n\t\tupgScroll.setVerticalScrollBar(new JCustomScrollBar());\r\n\t\tupgScroll.getVerticalScrollBar().setUnitIncrement(25);\r\n\t\tupgPanel = new JPanel();\r\n\t\tupgPanel.setBackground(back);\r\n\t\tupgScroll.setViewportView(upgPanel);\r\n\r\n\t\tbatScroll = new JScrollPane();\r\n\t\tbatScroll.setBackground(back);\r\n\t\tbatScroll.setBorder(null);\r\n\t\tbatScroll.setHorizontalScrollBar(null);\r\n\t\tbatScroll.setVerticalScrollBar(new JCustomScrollBar());\r\n\t\tbatScroll.getVerticalScrollBar().setUnitIncrement(25);\r\n\t\tbatPanel = new JPanel();\r\n\t\tbatPanel.setBackground(back);\r\n\t\tbatScroll.setViewportView(batPanel);\r\n\r\n\t\ttmScroll = new JScrollPane();\r\n\t\ttmScroll.setBackground(back);\r\n\t\ttmScroll.setBorder(null);\r\n\t\ttmScroll.setHorizontalScrollBar(null);\r\n\t\ttmScroll.setVerticalScrollBar(new JCustomScrollBar());\r\n\t\ttmScroll.getVerticalScrollBar().setUnitIncrement(25);\r\n\t\ttmPanel = new JPanel();\r\n\t\ttmPanel.setBackground(back);\r\n\t\ttmScroll.setViewportView(tmPanel);\r\n\r\n\t\thmPanel = new JPanel();\r\n\t\thmPanel.setBackground(back);\r\n\r\n\t\tberryScroll = new JScrollPane();\r\n\t\tberryScroll.setBackground(back);\r\n\t\tberryScroll.setBorder(null);\r\n\t\tberryScroll.setHorizontalScrollBar(null);\r\n\t\tberryScroll.setVerticalScrollBar(new JCustomScrollBar());\r\n\t\tberryScroll.getVerticalScrollBar().setUnitIncrement(25);\r\n\t\tberryPanel = new JPanel();\r\n\t\tberryPanel.setBackground(back);\r\n\t\tberryScroll.setViewportView(berryPanel);\r\n\r\n\t\tsetTabPlacement(JTabbedPane.RIGHT);\r\n\t\taddTab(&quot;Elite 4/Champion&quot;, e4cPanel);\r\n\t\taddTab(&quot;Gotta Catch &#39;Em All&quot;, gceaScroll);\r\n\t\taddTab(&quot;Forms&quot;, formScroll);\r\n\t\taddTab(&quot;Legendaries&quot;, legScroll);\r\n\t\taddTab(&quot;Mythicals&quot;, mytScroll);\r\n\t\taddTab(&quot;Mystery Gifts&quot;, giftScroll);\r\n\t\taddTab(&quot;Collectables&quot;, colScroll);\r\n\t\taddTab(&quot;Upgrades&quot;, upgScroll);\r\n\t\taddTab(&quot;Battle&quot;, batScroll);\r\n//\t\taddTab(&quot;TM&#39;s&quot;, tmScroll);\r\n//\t\taddTab(&quot;HM&#39;s&quot;, hmPanel);\r\n//\t\taddTab(&quot;Berries&quot;, berryScroll);\r\n}\r\n```\r\n\r\nAs you can see, I&#39;m also using a custom UI tabbed pane so here is the code for that incase it might be in there.\r\n```\r\npackage customs.tabs;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.Insets;\r\nimport java.awt.Rectangle;\r\nimport java.awt.RenderingHints;\r\nimport javax.swing.JComponent;\r\nimport javax.swing.JTabbedPane;\r\nimport javax.swing.event.ChangeEvent;\r\nimport javax.swing.event.ChangeListener;\r\nimport javax.swing.plaf.metal.MetalTabbedPaneUI;\r\nimport org.jdesktop.animation.timing.Animator;\r\nimport org.jdesktop.animation.timing.TimingTarget;\r\nimport org.jdesktop.animation.timing.interpolation.PropertySetter;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class MaterialTabbed extends JTabbedPane {\r\n\tprivate final int orientation;\r\n\r\n    public MaterialTabbed(int orientation) {\r\n    \tthis.orientation = orientation;\r\n    \tMaterialTabbedUI ui = new MaterialTabbedUI();\r\n    \tsetTabPlacement(orientation);\r\n        setUI(ui);\r\n    }\r\n\r\n    public class MaterialTabbedUI extends MetalTabbedPaneUI {\r\n        private Animator animator;\r\n        private Rectangle currentRectangle;\r\n        private TimingTarget target;\r\n\r\n        public void setCurrentRectangle(Rectangle currentRectangle) {\r\n            this.currentRectangle = currentRectangle;\r\n            repaint();\r\n        }\r\n\r\n        public MaterialTabbedUI() {\r\n        }\r\n\r\n        @Override\r\n        public void installUI(JComponent jc) {\r\n            super.installUI(jc);\r\n            animator = new Animator(500);\r\n            animator.setResolution(0);\r\n            animator.setAcceleration(.5f);\r\n            animator.setDeceleration(.5f);\r\n            tabPane.addChangeListener(new ChangeListener() {\r\n                @Override\r\n                public void stateChanged(ChangeEvent ce) {\r\n                    int selected = tabPane.getSelectedIndex();\r\n                    if (selected != -1) {\r\n                        if (currentRectangle != null) {\r\n                            if (animator.isRunning()) {\r\n                                animator.stop();\r\n                            }\r\n                            animator.removeTarget(target);\r\n                            target = new PropertySetter(MaterialTabbedUI.this, &quot;currentRectangle&quot;, currentRectangle, getTabBounds(selected, calcRect));\r\n                            animator.addTarget(target);\r\n                            animator.start();\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        @Override\r\n        protected Insets getTabInsets(int i, int i1) {\r\n        \tif(orientation == 1 || orientation == 3) {\r\n                return new Insets(10, 20, 10, 20);\r\n        \t} else if(orientation == 2 || orientation == 4) {\r\n                return new Insets(7, 10, 7, 10);\r\n        \t} else {\r\n                return new Insets(10, 10, 10, 10);\r\n        \t}\r\n        }\r\n\r\n        @Override\r\n        protected void paintTabBorder(Graphics grphcs, int tabPlacement, int tabIndex, int x, int y, int w, int h, boolean isSelected) {\r\n            Graphics2D g2 = (Graphics2D) grphcs.create();\r\n            g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n            g2.setColor(new Color(3, 155, 216));\r\n            if (currentRectangle == null || !animator.isRunning()) {\r\n                if (isSelected) {\r\n                    currentRectangle = new Rectangle(x, y, w, h);\r\n                }\r\n            }\r\n            if (currentRectangle != null) {\r\n                if (tabPlacement == TOP) {\r\n                    g2.fillRect(currentRectangle.x, currentRectangle.y + currentRectangle.height - 3, currentRectangle.width, 3);\r\n                } else if (tabPlacement == BOTTOM) {\r\n                    g2.fillRect(currentRectangle.x, currentRectangle.y, currentRectangle.width, 3);\r\n                } else if (tabPlacement == LEFT) {\r\n                    g2.fillRect(currentRectangle.x + currentRectangle.width - 3, currentRectangle.y, 3, currentRectangle.height);\r\n                } else if (tabPlacement == RIGHT) {\r\n                    g2.fillRect(currentRectangle.x, currentRectangle.y, 3, currentRectangle.height);\r\n                }\r\n            }\r\n            g2.dispose();\r\n        }\r\n\r\n        @Override\r\n        protected void paintContentBorder(Graphics grphcs, int tabPlacement, int selectedIndex) {\r\n            Graphics2D g2 = (Graphics2D) grphcs.create();\r\n            g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n            g2.setColor(new Color(200, 200, 200));\r\n            Insets insets = getTabAreaInsets(tabPlacement);\r\n            int width = tabPane.getWidth();\r\n            int height = tabPane.getHeight();\r\n            if (tabPlacement == TOP) {\r\n                int tabHeight = calculateTabAreaHeight(tabPlacement, runCount, maxTabHeight);\r\n                g2.drawLine(insets.left, tabHeight, width - insets.right - 1, tabHeight);\r\n            } else if (tabPlacement == BOTTOM) {\r\n                int tabHeight = height - calculateTabAreaHeight(tabPlacement, runCount, maxTabHeight);\r\n                g2.drawLine(insets.left, tabHeight, width - insets.right - 1, tabHeight);\r\n            } else if (tabPlacement == LEFT) {\r\n                int tabWidth = calculateTabAreaWidth(tabPlacement, runCount, maxTabWidth);\r\n                g2.drawLine(tabWidth, insets.top, tabWidth, height - insets.bottom - 1);\r\n            } else if (tabPlacement == RIGHT) {\r\n                int tabWidth = width - calculateTabAreaWidth(tabPlacement, runCount, maxTabWidth) - 1;\r\n                g2.drawLine(tabWidth, insets.top, tabWidth, height - insets.bottom - 1);\r\n            }\r\n            g2.dispose();\r\n        }\r\n\r\n        @Override\r\n        protected void paintFocusIndicator(Graphics grphcs, int i, Rectangle[] rctngls, int i1, Rectangle rctngl, Rectangle rctngl1, boolean bln) {\r\n\r\n        }\r\n\r\n        @Override\r\n        protected void paintTabBackground(Graphics g, int tabPlacement, int tabIndex, int x, int y, int w, int h, boolean isSelected) {\r\n            if (tabPane.isOpaque()) {\r\n                super.paintTabBackground(g, tabPlacement, tabIndex, x, y, w, h, isSelected);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OSs7G.png\r\n  [2]: https://i.stack.imgur.com/7sKkb.png","title":"JTabbedPane imbedded in JTabbedPane pushing bounds with too many tabs","body":"<p>I am trying to code a checklist style program and am using a JTabbedPane inside another JTabbedPane. Everything was fine until I tried adding another set of tabs under one tab. Then the bounds of the overall JTabbedPane started increasing and going off screen. Below is the pane before the extra tab. <img src=\"https://i.stack.imgur.com/OSs7G.png\" alt=\"1\" /></p>\n<p>And below here is the pane after the extra tab. <img src=\"https://i.stack.imgur.com/7sKkb.png\" alt=\"2\" /></p>\n<p>I'm wondering if there is possibly a limit of some sort to how many tabs I can do. Only thing is I have other top tabs with way more right tabs so that doesn't make too much sense.</p>\n<p>Here is the code for setting up the components and tabs</p>\n<pre><code>private void init() {\n        e4cPanel = new JPanel();\n        e4cPanel.setBackground(back);\n\n        gceaScroll = new JScrollPane();\n        gceaScroll.setBackground(back);\n        gceaScroll.setBorder(null);\n        gceaScroll.setHorizontalScrollBar(null);\n        gceaScroll.setVerticalScrollBar(new JCustomScrollBar());\n        gceaScroll.getVerticalScrollBar().setUnitIncrement(25);\n        gceaPanel = new JPanel();\n        gceaPanel.setBackground(back);\n        gceaScroll.setViewportView(gceaPanel);\n\n        formScroll = new JScrollPane();\n        formScroll.setBackground(back);\n        formScroll.setBorder(null);\n        formScroll.setHorizontalScrollBar(null);\n        formScroll.setVerticalScrollBar(new JCustomScrollBar());\n        formScroll.getVerticalScrollBar().setUnitIncrement(25);\n        formPanel = new JPanel();\n        formPanel.setBackground(back);\n        formScroll.setViewportView(formPanel);\n\n        legScroll = new JScrollPane();\n        legScroll.setBackground(back);\n        legScroll.setBorder(null);\n        legScroll.setHorizontalScrollBar(null);\n        legScroll.setVerticalScrollBar(new JCustomScrollBar());\n        legScroll.getVerticalScrollBar().setUnitIncrement(25);\n        legPanel = new JPanel();\n        legPanel.setBackground(back);\n        legScroll.setViewportView(legPanel);\n\n        mytScroll = new JScrollPane();\n        mytScroll.setBackground(back);\n        mytScroll.setBorder(null);\n        mytScroll.setHorizontalScrollBar(null);\n        mytScroll.setVerticalScrollBar(new JCustomScrollBar());\n        mytScroll.getVerticalScrollBar().setUnitIncrement(25);\n        mytPanel = new JPanel();\n        mytPanel.setBackground(back);\n        mytScroll.setViewportView(mytPanel);\n\n        giftScroll = new JScrollPane();\n        giftScroll.setBackground(back);\n        giftScroll.setBorder(null);\n        giftScroll.setHorizontalScrollBar(null);\n        giftScroll.setVerticalScrollBar(new JCustomScrollBar());\n        giftScroll.getVerticalScrollBar().setUnitIncrement(25);\n        giftPanel = new JPanel();\n        giftPanel.setBackground(back);\n        giftScroll.setViewportView(giftPanel);\n\n        colScroll = new JScrollPane();\n        colScroll.setBackground(back);\n        colScroll.setBorder(null);\n        colScroll.setHorizontalScrollBar(null);\n        colScroll.setVerticalScrollBar(new JCustomScrollBar());\n        colScroll.getVerticalScrollBar().setUnitIncrement(25);\n        colPanel = new JPanel();\n        colPanel.setBackground(back);\n        colScroll.setViewportView(colPanel);\n\n        upgScroll = new JScrollPane();\n        upgScroll.setBackground(back);\n        upgScroll.setBorder(null);\n        upgScroll.setHorizontalScrollBar(null);\n        upgScroll.setVerticalScrollBar(new JCustomScrollBar());\n        upgScroll.getVerticalScrollBar().setUnitIncrement(25);\n        upgPanel = new JPanel();\n        upgPanel.setBackground(back);\n        upgScroll.setViewportView(upgPanel);\n\n        batScroll = new JScrollPane();\n        batScroll.setBackground(back);\n        batScroll.setBorder(null);\n        batScroll.setHorizontalScrollBar(null);\n        batScroll.setVerticalScrollBar(new JCustomScrollBar());\n        batScroll.getVerticalScrollBar().setUnitIncrement(25);\n        batPanel = new JPanel();\n        batPanel.setBackground(back);\n        batScroll.setViewportView(batPanel);\n\n        tmScroll = new JScrollPane();\n        tmScroll.setBackground(back);\n        tmScroll.setBorder(null);\n        tmScroll.setHorizontalScrollBar(null);\n        tmScroll.setVerticalScrollBar(new JCustomScrollBar());\n        tmScroll.getVerticalScrollBar().setUnitIncrement(25);\n        tmPanel = new JPanel();\n        tmPanel.setBackground(back);\n        tmScroll.setViewportView(tmPanel);\n\n        hmPanel = new JPanel();\n        hmPanel.setBackground(back);\n\n        berryScroll = new JScrollPane();\n        berryScroll.setBackground(back);\n        berryScroll.setBorder(null);\n        berryScroll.setHorizontalScrollBar(null);\n        berryScroll.setVerticalScrollBar(new JCustomScrollBar());\n        berryScroll.getVerticalScrollBar().setUnitIncrement(25);\n        berryPanel = new JPanel();\n        berryPanel.setBackground(back);\n        berryScroll.setViewportView(berryPanel);\n\n        setTabPlacement(JTabbedPane.RIGHT);\n        addTab(&quot;Elite 4/Champion&quot;, e4cPanel);\n        addTab(&quot;Gotta Catch 'Em All&quot;, gceaScroll);\n        addTab(&quot;Forms&quot;, formScroll);\n        addTab(&quot;Legendaries&quot;, legScroll);\n        addTab(&quot;Mythicals&quot;, mytScroll);\n        addTab(&quot;Mystery Gifts&quot;, giftScroll);\n        addTab(&quot;Collectables&quot;, colScroll);\n        addTab(&quot;Upgrades&quot;, upgScroll);\n        addTab(&quot;Battle&quot;, batScroll);\n//      addTab(&quot;TM's&quot;, tmScroll);\n//      addTab(&quot;HM's&quot;, hmPanel);\n//      addTab(&quot;Berries&quot;, berryScroll);\n}\n</code></pre>\n<p>As you can see, I'm also using a custom UI tabbed pane so here is the code for that incase it might be in there.</p>\n<pre><code>package customs.tabs;\n\nimport java.awt.Color;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Insets;\nimport java.awt.Rectangle;\nimport java.awt.RenderingHints;\nimport javax.swing.JComponent;\nimport javax.swing.JTabbedPane;\nimport javax.swing.event.ChangeEvent;\nimport javax.swing.event.ChangeListener;\nimport javax.swing.plaf.metal.MetalTabbedPaneUI;\nimport org.jdesktop.animation.timing.Animator;\nimport org.jdesktop.animation.timing.TimingTarget;\nimport org.jdesktop.animation.timing.interpolation.PropertySetter;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class MaterialTabbed extends JTabbedPane {\n    private final int orientation;\n\n    public MaterialTabbed(int orientation) {\n        this.orientation = orientation;\n        MaterialTabbedUI ui = new MaterialTabbedUI();\n        setTabPlacement(orientation);\n        setUI(ui);\n    }\n\n    public class MaterialTabbedUI extends MetalTabbedPaneUI {\n        private Animator animator;\n        private Rectangle currentRectangle;\n        private TimingTarget target;\n\n        public void setCurrentRectangle(Rectangle currentRectangle) {\n            this.currentRectangle = currentRectangle;\n            repaint();\n        }\n\n        public MaterialTabbedUI() {\n        }\n\n        @Override\n        public void installUI(JComponent jc) {\n            super.installUI(jc);\n            animator = new Animator(500);\n            animator.setResolution(0);\n            animator.setAcceleration(.5f);\n            animator.setDeceleration(.5f);\n            tabPane.addChangeListener(new ChangeListener() {\n                @Override\n                public void stateChanged(ChangeEvent ce) {\n                    int selected = tabPane.getSelectedIndex();\n                    if (selected != -1) {\n                        if (currentRectangle != null) {\n                            if (animator.isRunning()) {\n                                animator.stop();\n                            }\n                            animator.removeTarget(target);\n                            target = new PropertySetter(MaterialTabbedUI.this, &quot;currentRectangle&quot;, currentRectangle, getTabBounds(selected, calcRect));\n                            animator.addTarget(target);\n                            animator.start();\n                        }\n                    }\n                }\n            });\n        }\n\n        @Override\n        protected Insets getTabInsets(int i, int i1) {\n            if(orientation == 1 || orientation == 3) {\n                return new Insets(10, 20, 10, 20);\n            } else if(orientation == 2 || orientation == 4) {\n                return new Insets(7, 10, 7, 10);\n            } else {\n                return new Insets(10, 10, 10, 10);\n            }\n        }\n\n        @Override\n        protected void paintTabBorder(Graphics grphcs, int tabPlacement, int tabIndex, int x, int y, int w, int h, boolean isSelected) {\n            Graphics2D g2 = (Graphics2D) grphcs.create();\n            g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n            g2.setColor(new Color(3, 155, 216));\n            if (currentRectangle == null || !animator.isRunning()) {\n                if (isSelected) {\n                    currentRectangle = new Rectangle(x, y, w, h);\n                }\n            }\n            if (currentRectangle != null) {\n                if (tabPlacement == TOP) {\n                    g2.fillRect(currentRectangle.x, currentRectangle.y + currentRectangle.height - 3, currentRectangle.width, 3);\n                } else if (tabPlacement == BOTTOM) {\n                    g2.fillRect(currentRectangle.x, currentRectangle.y, currentRectangle.width, 3);\n                } else if (tabPlacement == LEFT) {\n                    g2.fillRect(currentRectangle.x + currentRectangle.width - 3, currentRectangle.y, 3, currentRectangle.height);\n                } else if (tabPlacement == RIGHT) {\n                    g2.fillRect(currentRectangle.x, currentRectangle.y, 3, currentRectangle.height);\n                }\n            }\n            g2.dispose();\n        }\n\n        @Override\n        protected void paintContentBorder(Graphics grphcs, int tabPlacement, int selectedIndex) {\n            Graphics2D g2 = (Graphics2D) grphcs.create();\n            g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n            g2.setColor(new Color(200, 200, 200));\n            Insets insets = getTabAreaInsets(tabPlacement);\n            int width = tabPane.getWidth();\n            int height = tabPane.getHeight();\n            if (tabPlacement == TOP) {\n                int tabHeight = calculateTabAreaHeight(tabPlacement, runCount, maxTabHeight);\n                g2.drawLine(insets.left, tabHeight, width - insets.right - 1, tabHeight);\n            } else if (tabPlacement == BOTTOM) {\n                int tabHeight = height - calculateTabAreaHeight(tabPlacement, runCount, maxTabHeight);\n                g2.drawLine(insets.left, tabHeight, width - insets.right - 1, tabHeight);\n            } else if (tabPlacement == LEFT) {\n                int tabWidth = calculateTabAreaWidth(tabPlacement, runCount, maxTabWidth);\n                g2.drawLine(tabWidth, insets.top, tabWidth, height - insets.bottom - 1);\n            } else if (tabPlacement == RIGHT) {\n                int tabWidth = width - calculateTabAreaWidth(tabPlacement, runCount, maxTabWidth) - 1;\n                g2.drawLine(tabWidth, insets.top, tabWidth, height - insets.bottom - 1);\n            }\n            g2.dispose();\n        }\n\n        @Override\n        protected void paintFocusIndicator(Graphics grphcs, int i, Rectangle[] rctngls, int i1, Rectangle rctngl, Rectangle rctngl1, boolean bln) {\n\n        }\n\n        @Override\n        protected void paintTabBackground(Graphics g, int tabPlacement, int tabIndex, int x, int y, int w, int h, boolean isSelected) {\n            if (tabPane.isOpaque()) {\n                super.paintTabBackground(g, tabPlacement, tabIndex, x, y, w, h, isSelected);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","cryptography","digital-signature","bouncycastle","javacard"],"comments":[{"owner":{"account_id":4392464,"reputation":5898,"user_id":3580433,"accept_rate":89,"display_name":"Ebrahim Ghasemi"},"score":1,"creation_date":1425439747,"post_id":28843390,"comment_id":45960892,"body_markdown":"Looks weird! 2.66 of 3.66 is too much for noises on the transmission! Can you add the programs? (generator &amp; verifier)","body":"Looks weird! 2.66 of 3.66 is too much for noises on the transmission! Can you add the programs? (generator &amp; verifier)"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1428529880,"post_id":28843390,"comment_id":47206356,"body_markdown":"Note that the [tag:signature] tag is not correct as that&#39;s about *method* signatures.","body":"Note that the <a href=\"https://stackoverflow.com/questions/tagged/signature\">signature</a> tag is not correct as that&#39;s about <i>method</i> signatures."},{"owner":{"account_id":4831486,"reputation":5601,"user_id":3899583,"accept_rate":91,"display_name":"vojta"},"score":0,"creation_date":1448544951,"post_id":28843390,"comment_id":55639193,"body_markdown":"Is your problem solved? If yes, please mark one of answers as accepted.","body":"Is your problem solved? If yes, please mark one of answers as accepted."}],"answers":[{"comments":[{"owner":{"account_id":4392576,"reputation":167,"user_id":3580519,"accept_rate":50,"display_name":"TajnosAgentos"},"score":0,"creation_date":1425503048,"post_id":28854538,"comment_id":45994819,"body_markdown":"this is my key signature (didnt pass verification) 30.__34__.02.__18__.8E.B6.C4.15.9E.A5.9B.4E.45.A1.6B.41.EA.DB.02.BA.75.DF.F7.19.66.DD.BA.D0.02.__18__.BB.BB.DE.3F.82.54.B4.D9.14.D2.28.4D.54.9B.02.5D.13.48.49.57.C0.44.1E.21. it is 54 bytes long - i removed the SW so maybe that is the reason. i tried to replace the marker values .__AA__. with different, but it works only with 34, 18, 18. i dont know what i&#39;mdoing wrong ;(","body":"this is my key signature (didnt pass verification) 30.__34__.02.__18__.8E.B6.C4.15.9E.A5.9B.4E.45.A1.6B.41.EA.D&zwnj;&#8203;B.02.BA.75.DF.F7.19.&zwnj;&#8203;66.DD.BA.D0.02.__18_&zwnj;&#8203;_.BB.BB.DE.3F.82.54.&zwnj;&#8203;B4.D9.14.D2.28.4D.54&zwnj;&#8203;.9B.02.5D.13.48.49.5&zwnj;&#8203;7.C0.44.1E.21. it is 54 bytes long - i removed the SW so maybe that is the reason. i tried to replace the marker values .__AA__. with different, but it works only with 34, 18, 18. i dont know what i&#39;mdoing wrong ;("},{"owner":{"account_id":4392576,"reputation":167,"user_id":3580519,"accept_rate":50,"display_name":"TajnosAgentos"},"score":0,"creation_date":1425509092,"post_id":28854538,"comment_id":45997957,"body_markdown":"my signature looks like this 30 34 02 18 [24 bytes] 02 18 [24 byte] [SW - 90 00] PS. kay can be verified (not always) with makred values 34-18-18 and 36-18-18","body":"my signature looks like this 30 34 02 18 [24 bytes] 02 18 [24 byte] [SW - 90 00] PS. kay can be verified (not always) with makred values 34-18-18 and 36-18-18"},{"owner":{"account_id":4831486,"reputation":5601,"user_id":3899583,"accept_rate":91,"display_name":"vojta"},"score":0,"creation_date":1425510391,"post_id":28854538,"comment_id":45998486,"body_markdown":"What elliptic urve do you use?","body":"What elliptic urve do you use?"},{"owner":{"account_id":4392576,"reputation":167,"user_id":3580519,"accept_rate":50,"display_name":"TajnosAgentos"},"score":0,"creation_date":1425543104,"post_id":28854538,"comment_id":46008502,"body_markdown":"http://www.secg.org/SEC2-Ver-1.0.pdf\n2.5.1 Recommended Parameters secp192k1 on top of page 12 (not browser page 12, but page 12 on paper) ;)","body":"<a href=\"http://www.secg.org/SEC2-Ver-1.0.pdf\" rel=\"nofollow noreferrer\">secg.org/SEC2-Ver-1.0.pdf</a> 2.5.1 Recommended Parameters secp192k1 on top of page 12 (not browser page 12, but page 12 on paper) ;)"},{"owner":{"account_id":4392576,"reputation":167,"user_id":3580519,"accept_rate":50,"display_name":"TajnosAgentos"},"score":0,"creation_date":1425546401,"post_id":28854538,"comment_id":46010163,"body_markdown":"point G in uncompressed form - it does not work in compressed form, at least for that curve","body":"point G in uncompressed form - it does not work in compressed form, at least for that curve"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1428531560,"post_id":28854538,"comment_id":47207113,"body_markdown":"Could you specify which Java Card implementation you are using? If it includes more than one leading zero or a leading zero and then a byte smaller than 0x80 then the implementation of the Java Card is *not valid*. I&#39;m [pretty sure](http://crypto.stackexchange.com/q/24862/1172) that the signature should be DER encoded, and in that case the shortest possible encoding of a *signed* integer should be used.","body":"Could you specify which Java Card implementation you are using? If it includes more than one leading zero or a leading zero and then a byte smaller than 0x80 then the implementation of the Java Card is <i>not valid</i>. I&#39;m <a href=\"http://crypto.stackexchange.com/q/24862/1172\">pretty sure</a> that the signature should be DER encoded, and in that case the shortest possible encoding of a <i>signed</i> integer should be used."},{"owner":{"account_id":4831486,"reputation":5601,"user_id":3899583,"accept_rate":91,"display_name":"vojta"},"score":0,"creation_date":1428559208,"post_id":28854538,"comment_id":47215165,"body_markdown":"@MaartenBodewes JavaCard 2.2.2. This is the behaviour of all NXP chips I have had in my hands so far (J3A081, J2A128, J3E145 etc.). Are you saying that the ECDSA signature in JavaCard does not have a fixed length?","body":"@MaartenBodewes JavaCard 2.2.2. This is the behaviour of all NXP chips I have had in my hands so far (J3A081, J2A128, J3E145 etc.). Are you saying that the ECDSA signature in JavaCard does not have a fixed length?"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1428567514,"post_id":28854538,"comment_id":47219622,"body_markdown":"X9.62 signatures consist of an ASN.1 SEQUENCE that holds two INTEGER values. Those integer values are signed numbers and *should be encoded using the minimum number of octets available*. If you get a `02` (INTEGER tag), length byte and then `0000` then the *encoding* of the given signature is certainly invalid. Beware that the coordinates should always be positive: the leftmost bit of the INTEGER should never be 1 (so the INTEGER should not start with `8x` to `Fx`, in that case the INTEGER should start with `00 8x` to `00 Fx`).","body":"X9.62 signatures consist of an ASN.1 SEQUENCE that holds two INTEGER values. Those integer values are signed numbers and <i>should be encoded using the minimum number of octets available</i>. If you get a <code>02</code> (INTEGER tag), length byte and then <code>0000</code> then the <i>encoding</i> of the given signature is certainly invalid. Beware that the coordinates should always be positive: the leftmost bit of the INTEGER should never be 1 (so the INTEGER should not start with <code>8x</code> to <code>Fx</code>, in that case the INTEGER should start with <code>00 8x</code> to <code>00 Fx</code>)."},{"owner":{"account_id":4831486,"reputation":5601,"user_id":3899583,"accept_rate":91,"display_name":"vojta"},"score":0,"creation_date":1428567765,"post_id":28854538,"comment_id":47219773,"body_markdown":"@MaartenBodewes &quot;Regardless of the choice of solution, Java Card requires fixed lengths for the signatures, so the signature co-ordinate data must be pre-padded with 0x00 to the correct coordinate length and the signature coordinate and header length must be updated.&quot; See http://0x9000.blogspot.cz/2011/01/bouncycastle-ecc-and-javacard.html (although this page is no authority...)","body":"@MaartenBodewes &quot;Regardless of the choice of solution, Java Card requires fixed lengths for the signatures, so the signature co-ordinate data must be pre-padded with 0x00 to the correct coordinate length and the signature coordinate and header length must be updated.&quot; See <a href=\"http://0x9000.blogspot.cz/2011/01/bouncycastle-ecc-and-javacard.html\" rel=\"nofollow noreferrer\">0x9000.blogspot.cz/2011/01/bouncycastle-ecc-and-javacard.htm&zwnj;&#8203;l</a> (although this page is no authority...)"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1428580560,"post_id":28854538,"comment_id":47227732,"body_markdown":"I think I&#39;m a better authority on this. And I&#39;m pretty sure it is incorrect. It looks like a mixture of r and s converted into octet strings according to BSI 03111 and the SEC1/X9.62 ASN.1 DER encoding.","body":"I think I&#39;m a better authority on this. And I&#39;m pretty sure it is incorrect. It looks like a mixture of r and s converted into octet strings according to BSI 03111 and the SEC1/X9.62 ASN.1 DER encoding."},{"owner":{"account_id":4831486,"reputation":5601,"user_id":3899583,"accept_rate":91,"display_name":"vojta"},"score":0,"creation_date":1428589200,"post_id":28854538,"comment_id":47234038,"body_markdown":"@MaartenBodewes So you have a 55 bytes long Prime192v1 ecc signature? I do not argue, it is obviously incorrect, but it really happens on my cards...","body":"@MaartenBodewes So you have a 55 bytes long Prime192v1 ecc signature? I do not argue, it is obviously incorrect, but it really happens on my cards..."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1428594155,"post_id":28854538,"comment_id":47237772,"body_markdown":"This evaluated to a bug in a specific JCOP version.","body":"This evaluated to a bug in a specific JCOP version."},{"owner":{"account_id":9093017,"reputation":700,"user_id":6767994,"display_name":"Quinten C"},"score":0,"creation_date":1688483920,"post_id":28854538,"comment_id":135078847,"body_markdown":"The signature is not always 56 bytes long! See my answer.","body":"The signature is not always 56 bytes long! See my answer."}],"tags":[],"owner":{"account_id":4831486,"reputation":5601,"user_id":3899583,"accept_rate":91,"display_name":"vojta"},"comment_count":13,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1425593174,"creation_date":1425472097,"answer_id":28854538,"question_id":28843390,"body_markdown":"The problem is that JavaCard and BouncyCastle use different format of the resulting signature. For example for the Prime192v1 curve the resulting JavaCard signature is always 56 bytes long, but the Bouncy Castle signature is sometimes shorter, because it omits leading zeros in EC point coordinates.\r\n\r\nThe JavaCard signature (for Prime192v1, again) looks like this in the hexadecimal format:\r\n\r\n`30 36 02 19 [25 bytes of the first coord] 02 19 [25 bytes of the second coord]`\r\n\r\n(it is a DER encoded structure: SEQUENCE of two INTEGERs)\r\n\r\nHowever, BouncyCastle does not expect leading these zeros in EC coords. So you have to remove them and fix the DER structure, for example\r\n\r\n    30 36 02 19 **00 00** [the rest 23 bytes of the first coord] 02 19 **00** [24 bytes of the second coord]\r\nfrom JavaCard must be converted for Bouncy Castle to:\r\n\r\n`30 **33** 02 **17** [23 bytes of the first coord] 02 **18** [24 bytes of the second coord]`\r\n\r\nThe reason why you sometimes verify the signature correctly is simple: sometimes there are no leading zeros in your JavaCard signature coordinates.\n\n**EDIT: inspired by TajnosAgentos&#39; observation:**\n\nBouncyCastle encodes coords as signed integers, JavaCard always as unsigned integers. That is why BouncyCastle adds a special leading zero (although it trims other leading zeros) whenever the most significant bit of the first byte is 1, because the coord is always a positive number.","title":"Verify javacard signature ALG_ECDSA_SHA on bouncy castle","body":"<p>The problem is that JavaCard and BouncyCastle use different format of the resulting signature. For example for the Prime192v1 curve the resulting JavaCard signature is always 56 bytes long, but the Bouncy Castle signature is sometimes shorter, because it omits leading zeros in EC point coordinates.</p>\n\n<p>The JavaCard signature (for Prime192v1, again) looks like this in the hexadecimal format:</p>\n\n<p><code>30 36 02 19 [25 bytes of the first coord] 02 19 [25 bytes of the second coord]</code></p>\n\n<p>(it is a DER encoded structure: SEQUENCE of two INTEGERs)</p>\n\n<p>However, BouncyCastle does not expect leading these zeros in EC coords. So you have to remove them and fix the DER structure, for example</p>\n\n<pre><code>30 36 02 19 **00 00** [the rest 23 bytes of the first coord] 02 19 **00** [24 bytes of the second coord]\n</code></pre>\n\n<p>from JavaCard must be converted for Bouncy Castle to:</p>\n\n<p><code>30 **33** 02 **17** [23 bytes of the first coord] 02 **18** [24 bytes of the second coord]</code></p>\n\n<p>The reason why you sometimes verify the signature correctly is simple: sometimes there are no leading zeros in your JavaCard signature coordinates.</p>\n\n<p><strong>EDIT: inspired by TajnosAgentos' observation:</strong></p>\n\n<p>BouncyCastle encodes coords as signed integers, JavaCard always as unsigned integers. That is why BouncyCastle adds a special leading zero (although it trims other leading zeros) whenever the most significant bit of the first byte is 1, because the coord is always a positive number.</p>\n"},{"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1428531811,"post_id":28887643,"comment_id":47207203,"body_markdown":"The integers should be DER encoded. DER uses the shortest possible format of a *signed* integer. To retrieve this encoding in Java, use `new BigInteger(1, [24 byte encoding]).toByteArray()` which interprets the 24 bytes as positive unsigned integer, and then encodes to the minimum signed representation. Otherwise you may still have failures.","body":"The integers should be DER encoded. DER uses the shortest possible format of a <i>signed</i> integer. To retrieve this encoding in Java, use <code>new BigInteger(1, [24 byte encoding]).toByteArray()</code> which interprets the 24 bytes as positive unsigned integer, and then encodes to the minimum signed representation. Otherwise you may still have failures."}],"tags":[],"owner":{"account_id":4392576,"reputation":167,"user_id":3580519,"accept_rate":50,"display_name":"TajnosAgentos"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1425658787,"creation_date":1425589388,"answer_id":28887643,"question_id":28843390,"body_markdown":"I have a solution. I dont know why this works, byt it does... The signing function on javacard should look like this:\r\n\r\n\r\n\t  \tbyte[] buffer = apdu.getBuffer();\r\n\t\t \r\n        signature.init(ecPrivateKey, Signature.MODE_SIGN);\r\n        short sLen = signature.sign(helloWorld, (short) 0, (short)helloWorld.length, scratch, (short) 0);\r\n       \r\n        if((short)scratch[4] &lt; 0 || (short)scratch[30] &lt; 0)\r\n        {\r\n        \tsign(apdu);\r\n        }\r\n        else\r\n        {\r\n        \tUtil.arrayCopyNonAtomic(scratch, (short)0, buffer, (short)0, (short) sLen);\r\n\t\t \r\n        \tapdu.setOutgoingAndSend((short)0, (short)sLen);\r\n        }\r\n  \r\nist a &quot;prototype&quot; function. it workes so im sharing it first, later maybe i will improve it a little. scratch is a byte array declared somewhere else.\r\n\r\nlike VOJTA posted earlier the signature (in my example) looks something like this:\r\n\r\n30 34 02 18 [24 bytes NO1] 02 18 [24 byte NO2] [SW - 90 00]\r\n\r\nthe SW is NOT needed. so the SHORT value of the FIRST byte of [24 bytes NO1] and the SHORT value of the first byte of the [24 bytes NO2] cannot be nagative. i dont know why this works. i printed the verified and not verified signatures and i was looking for any differences, and i found this. I made over 1000 tries and verification ALWAYS returned TRUE. the probability that this 2 bytes will be nagative is 1/4 ((-128,127), 0 goes to positive, half negative, half positive -&gt; 1/2 * 1/2 = 1/4)  so probably thats why earlier only 1 on 3,66 signatures vere verified. if someone knows why it worsk i will be happy to read his post\r\n\r\n\r\nEDIT\r\n\r\nnow i know how it works. there are to solutions of this problem. one is the solution above- generate signatures until the SHORT value of 2 elements of the array are positive and the second solution:\r\n\r\nthe signature looks something like this:\r\n\r\n30 __34__ 02 __18__ [24 bytes NO1] 02 __18__ [24 byte NO2]\r\n\r\nnow the algorithm about which VOJTA wrote about (the bold values will be changed if needed)\r\nlex x=34 (SECOND BYTE OF THE SIGN- this may vary, in my signature it is 34). \r\nif first bites of [24 byte NO1] and [24 byte NO2] are positive then do nothing with the signature.\r\nif the SHORT value of the first byte of [24 bytes NO1] is negative then we have to add ONE to X (now x=35), add ONE to the 18 next to the first byte of [24 bytes NO1] and insert a value 00 next to the 18 (now 19) to the signature. if the SHORT value of the first byte of [24 bytes NO2] is negative then we have to add ONE to X (now x=36), add ONE to the 18 next to the first byte of [24 bytes NO2] and insert 00 next to 18 (now 19). if both first bytes vere negative then the signature should look something like this:\r\n\r\n30 __36__ 02 __19__ __00__ [24 bytes NO1] 02 __19__ __00__ [24 byte NO2]\r\n\r\nif only first first byte of [24 bytes NO1] was negative, and the first byte of [24 bytes NO2] was positive the the signature should look somethung like this\r\n\r\n30 __35__ 02 __19__ __00__ [24 bytes NO1] 02 18 [24 byte NO2]\r\n\r\nand the last case:\r\nif only first first byte of [24 bytes NO1] was positive, and the first byte of [24 bytes NO2] was negativethe the signature should look somethung like this\r\n\r\n30 __35__ 02 18 [24 bytes NO1] 02 __19__ __00__ [24 byte NO2]\r\n\r\nhope that i will be useful","title":"Verify javacard signature ALG_ECDSA_SHA on bouncy castle","body":"<p>I have a solution. I dont know why this works, byt it does... The signing function on javacard should look like this:</p>\n\n<pre><code>    byte[] buffer = apdu.getBuffer();\n\n    signature.init(ecPrivateKey, Signature.MODE_SIGN);\n    short sLen = signature.sign(helloWorld, (short) 0, (short)helloWorld.length, scratch, (short) 0);\n\n    if((short)scratch[4] &lt; 0 || (short)scratch[30] &lt; 0)\n    {\n        sign(apdu);\n    }\n    else\n    {\n        Util.arrayCopyNonAtomic(scratch, (short)0, buffer, (short)0, (short) sLen);\n\n        apdu.setOutgoingAndSend((short)0, (short)sLen);\n    }\n</code></pre>\n\n<p>ist a \"prototype\" function. it workes so im sharing it first, later maybe i will improve it a little. scratch is a byte array declared somewhere else.</p>\n\n<p>like VOJTA posted earlier the signature (in my example) looks something like this:</p>\n\n<p>30 34 02 18 [24 bytes NO1] 02 18 [24 byte NO2] [SW - 90 00]</p>\n\n<p>the SW is NOT needed. so the SHORT value of the FIRST byte of [24 bytes NO1] and the SHORT value of the first byte of the [24 bytes NO2] cannot be nagative. i dont know why this works. i printed the verified and not verified signatures and i was looking for any differences, and i found this. I made over 1000 tries and verification ALWAYS returned TRUE. the probability that this 2 bytes will be nagative is 1/4 ((-128,127), 0 goes to positive, half negative, half positive -> 1/2 * 1/2 = 1/4)  so probably thats why earlier only 1 on 3,66 signatures vere verified. if someone knows why it worsk i will be happy to read his post</p>\n\n<p>EDIT</p>\n\n<p>now i know how it works. there are to solutions of this problem. one is the solution above- generate signatures until the SHORT value of 2 elements of the array are positive and the second solution:</p>\n\n<p>the signature looks something like this:</p>\n\n<p>30 <strong>34</strong> 02 <strong>18</strong> [24 bytes NO1] 02 <strong>18</strong> [24 byte NO2]</p>\n\n<p>now the algorithm about which VOJTA wrote about (the bold values will be changed if needed)\nlex x=34 (SECOND BYTE OF THE SIGN- this may vary, in my signature it is 34). \nif first bites of [24 byte NO1] and [24 byte NO2] are positive then do nothing with the signature.\nif the SHORT value of the first byte of [24 bytes NO1] is negative then we have to add ONE to X (now x=35), add ONE to the 18 next to the first byte of [24 bytes NO1] and insert a value 00 next to the 18 (now 19) to the signature. if the SHORT value of the first byte of [24 bytes NO2] is negative then we have to add ONE to X (now x=36), add ONE to the 18 next to the first byte of [24 bytes NO2] and insert 00 next to 18 (now 19). if both first bytes vere negative then the signature should look something like this:</p>\n\n<p>30 <strong>36</strong> 02 <strong>19</strong> <strong>00</strong> [24 bytes NO1] 02 <strong>19</strong> <strong>00</strong> [24 byte NO2]</p>\n\n<p>if only first first byte of [24 bytes NO1] was negative, and the first byte of [24 bytes NO2] was positive the the signature should look somethung like this</p>\n\n<p>30 <strong>35</strong> 02 <strong>19</strong> <strong>00</strong> [24 bytes NO1] 02 18 [24 byte NO2]</p>\n\n<p>and the last case:\nif only first first byte of [24 bytes NO1] was positive, and the first byte of [24 bytes NO2] was negativethe the signature should look somethung like this</p>\n\n<p>30 <strong>35</strong> 02 18 [24 bytes NO1] 02 <strong>19</strong> <strong>00</strong> [24 byte NO2]</p>\n\n<p>hope that i will be useful</p>\n"},{"tags":[],"owner":{"account_id":9093017,"reputation":700,"user_id":6767994,"display_name":"Quinten C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688484187,"creation_date":1688484187,"answer_id":76614022,"question_id":28843390,"body_markdown":"@vojta answer is misleading. The trick is that the sign method returns the length of the signature.\r\n\r\nHave a look:\r\n\r\n```java\r\n// Assuming you have already initialized the privateKey and publicKey objects\r\n\r\n// Define the input message to be signed\r\nbyte[] message = { /* your message bytes here */ };\r\n\r\n// Create a Signature object for ECDSA with SHA-1\r\nSignature signature = Signature.getInstance(Signature.ALG_ECDSA_SHA, false);\r\n\r\n// Initialize the signature object with the private key for signing\r\nsignature.init(privateKey, Signature.MODE_SIGN);\r\n\r\n// Create a temporary buffer for the signature\r\nbyte[] signatureBuffer = new byte[signature.getLength()];\r\n\r\n// Sign the message and store the signature in the buffer\r\nshort signatureLength = signature.sign(message, (short) 0, (short) message.length, signatureBuffer, (short) 0);\r\n\r\n// Initialize the signature object with the public key for verification\r\nsignature.init(publicKey, Signature.MODE_VERIFY);\r\n\r\n// Verify the signature against the original message\r\nboolean result = signature.verify(message, (short) 0, (short) message.length, signatureBuffer, (short) 0, signatureLength);\r\n\r\n// Print the result\r\nSystem.out.println(&quot;Signature verification result: &quot; + result);\r\n```\r\n\r\nIf you then take only the first `signatureLength` bytes of the `signature` buffer BC can verify it no problem without making modifications.\r\n\r\n\r\n","title":"Verify javacard signature ALG_ECDSA_SHA on bouncy castle","body":"<p>@vojta answer is misleading. The trick is that the sign method returns the length of the signature.</p>\n<p>Have a look:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Assuming you have already initialized the privateKey and publicKey objects\n\n// Define the input message to be signed\nbyte[] message = { /* your message bytes here */ };\n\n// Create a Signature object for ECDSA with SHA-1\nSignature signature = Signature.getInstance(Signature.ALG_ECDSA_SHA, false);\n\n// Initialize the signature object with the private key for signing\nsignature.init(privateKey, Signature.MODE_SIGN);\n\n// Create a temporary buffer for the signature\nbyte[] signatureBuffer = new byte[signature.getLength()];\n\n// Sign the message and store the signature in the buffer\nshort signatureLength = signature.sign(message, (short) 0, (short) message.length, signatureBuffer, (short) 0);\n\n// Initialize the signature object with the public key for verification\nsignature.init(publicKey, Signature.MODE_VERIFY);\n\n// Verify the signature against the original message\nboolean result = signature.verify(message, (short) 0, (short) message.length, signatureBuffer, (short) 0, signatureLength);\n\n// Print the result\nSystem.out.println(&quot;Signature verification result: &quot; + result);\n</code></pre>\n<p>If you then take only the first <code>signatureLength</code> bytes of the <code>signature</code> buffer BC can verify it no problem without making modifications.</p>\n"}],"owner":{"account_id":4392576,"reputation":167,"user_id":3580519,"accept_rate":50,"display_name":"TajnosAgentos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1444,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":3,"score":4,"last_activity_date":1688484187,"creation_date":1425422275,"question_id":28843390,"body_markdown":"My problem looks like this: im generating a signature on javaCard (jcdk 2.2.2) and when when i want to verify it on the terminal using BouncyCastle the signature isnt always verified- 1 in 3,66 (average in 100 tries) signatures are verified, the rest in returning false. when i verify the signature on the card it always returns true, but on the terminal it usually returns false, but sometimes true. because the terminal sometimes gives a positive answer i think that the code is ok and the reason is some where else but i can be wrong.\r\n\r\non javacard im usign Signature.ALG_ECDSA_SHA, and on the terminal Signature.getInstance(&quot;SHA1withECDSA&quot;, &quot;BC&quot;) i tried also SHA1withDetECDSA but i behaves similar.\r\n\r\nplease help.\r\n\r\n","title":"Verify javacard signature ALG_ECDSA_SHA on bouncy castle","body":"<p>My problem looks like this: im generating a signature on javaCard (jcdk 2.2.2) and when when i want to verify it on the terminal using BouncyCastle the signature isnt always verified- 1 in 3,66 (average in 100 tries) signatures are verified, the rest in returning false. when i verify the signature on the card it always returns true, but on the terminal it usually returns false, but sometimes true. because the terminal sometimes gives a positive answer i think that the code is ok and the reason is some where else but i can be wrong.</p>\n\n<p>on javacard im usign Signature.ALG_ECDSA_SHA, and on the terminal Signature.getInstance(\"SHA1withECDSA\", \"BC\") i tried also SHA1withDetECDSA but i behaves similar.</p>\n\n<p>please help.</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1688487076,"post_id":76614020,"comment_id":135079446,"body_markdown":"`decided to change .m2 directory ,so changed it to /users//my-m2/my-settings.xml, and /users//my-m2/my-repository in Build,Execution Deployment---Maven section` Why?","body":"<code>decided to change .m2 directory ,so changed it to &#47;users&#47;&#47;my-m2&#47;my-settings.xml, and &#47;users&#47;&#47;my-m2&#47;my-repository in Build,Execution Deployment---Maven section</code> Why?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688493800,"post_id":76614020,"comment_id":135080493,"body_markdown":"Why? The `.m2` is the central location for Maven on your system, you don&#39;t need to have a new one per project.","body":"Why? The <code>.m2</code> is the central location for Maven on your system, you don&#39;t need to have a new one per project."}],"owner":{"account_id":20168591,"reputation":58,"user_id":14791907,"display_name":"Grigor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688484153,"creation_date":1688484153,"question_id":76614020,"body_markdown":"I opened a project ,since got another project going, decided to change .m2 directory ,so changed it to /users/*********/my-m2/my-settings.xml, and /users/*********/my-m2/my-repository in Build,Execution Deployment---Maven section ,after that did mvn clean install so build is done but @SpringBootApplication is not found.\r\nThis is my pom.xml\r\n\r\n   \r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.5.3&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo111111&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;demo111111&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n\r\nalso downloaded another maven and configured MAVEN_HOME.\r\n\r\n","title":"Spring boot application is built but Annotation cannot be found?","body":"<p>I opened a project ,since got another project going, decided to change .m2 directory ,so changed it to /users/<em><strong><strong><strong><strong>/my-m2/my-settings.xml, and /users/</strong></strong></strong></strong></em>/my-m2/my-repository in Build,Execution Deployment---Maven section ,after that did mvn clean install so build is done but @SpringBootApplication is not found.\nThis is my pom.xml</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo111111&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo111111&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>also downloaded another maven and configured MAVEN_HOME.</p>\n"},{"tags":["java","maven","configuration"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1688461121,"post_id":76610468,"comment_id":135073853,"body_markdown":"Which Maven version do you use? Which JDK?","body":"Which Maven version do you use? Which JDK?"},{"owner":{"account_id":25827896,"reputation":25,"user_id":19565633,"display_name":"Samuel Toman"},"score":0,"creation_date":1688465088,"post_id":76610468,"comment_id":135074717,"body_markdown":"I&#39;ve tried Maven versions 3.9.1 and 3.9.3. And I&#39;ve tried with JDK versions 8, 11 and 17.","body":"I&#39;ve tried Maven versions 3.9.1 and 3.9.3. And I&#39;ve tried with JDK versions 8, 11 and 17."}],"answers":[{"tags":[],"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688484018,"creation_date":1688483636,"answer_id":76613957,"question_id":76610468,"body_markdown":"`.mvn/maven.config` since from Maven 3.9.x should contains each argument in separate line - https://maven.apache.org/configure.html\r\n\r\nexample of `.mvn/maven.config`:\r\n\r\n```\r\n-Daether.dependencyCollector.impl=bf\r\n```\r\n \r\nProperties with dots should be wrapped in double quotes (probably only on Windows), so try:\r\n\r\n```\r\nmvn clean install -DskipTests -D&quot;aether.dependencyCollector.impl=bf&quot;\r\n```\r\n","title":"How to set Maven dependency collector implementation to breath-first","body":"<p><code>.mvn/maven.config</code> since from Maven 3.9.x should contains each argument in separate line - <a href=\"https://maven.apache.org/configure.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/configure.html</a></p>\n<p>example of <code>.mvn/maven.config</code>:</p>\n<pre><code>-Daether.dependencyCollector.impl=bf\n</code></pre>\n<p>Properties with dots should be wrapped in double quotes (probably only on Windows), so try:</p>\n<pre><code>mvn clean install -DskipTests -D&quot;aether.dependencyCollector.impl=bf&quot;\n</code></pre>\n"}],"owner":{"account_id":25827896,"reputation":25,"user_id":19565633,"display_name":"Samuel Toman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76613957,"answer_count":1,"score":1,"last_activity_date":1688484018,"creation_date":1688457487,"question_id":76610468,"body_markdown":"At work, we&#39;re using Maven to build a relatively large Java project, with a lot of dependencies that need to be downloaded. I don&#39;t know much about how Maven works, but when I saw it downloading the dependencies sequentially one-by-one, I thought it to be extremely inefficient, and that there had to be a setting, which allows it to download them in parallel (based on some dependency tree).\r\n\r\nI&#39;ve looked around on the internet, and I&#39;ve found that since Maven version 3.9.0, there is this option: aether.dependencyCollector.impl = &#39;bf&#39;, which sets the dependency resolver to a &#39;breath-first&#39; strategy (instead of the default depth-first).\r\n(Found here: https://maven.apache.org/resolver/configuration.html)\r\nI&#39;m running Maven 3.9.1, so it should work.\r\n\r\nOn another page, I&#39;ve found how to use the option (here: https://issues.apache.org/jira/browse/MRESOLVER-324).\r\n\r\nI&#39;ve tried adding the line &#39;aether.dependencyCollector.impl=bf&#39; into $basedir/.mvn/maven.config, but I&#39;m getting a ParseException:\r\n\r\n```\r\norg.apache.commons.cli.ParseException: Unrecognized maven.config file entries: [aether.dependencyCollector.impl=bf]\r\n```\r\n\r\nI&#39;ve also tried using it direcly on the command line like so:\r\n\r\n```\r\nmvn clean install -DskipTests -Daether.dependencyCollector.impl=bf\r\n```\r\n\r\nBut this also yields the following error:\r\n\r\n```\r\nUnknown lifecycle phase &quot;.dependencyCollector.impl=bf&quot;.\r\nYou must specify a valid lifecycle phase or a goal in the format &lt;plugin-prefix&gt;:&lt;goal&gt; or &lt;plugin-group-id&gt;:&lt;plugin-artifact-id&gt;[:&lt;plugin-version&gt;]:&lt;goal&gt;. Available lifecycle phases are: pre-clean, clean, post-clean, validate, initialize, generate-sources, process-sources, generate-resources, process-resources, compile, process-classes, generate-test-sources, process-test-sources, generate-test-resources, process-test-resources, test-compile, process-test-classes, test, prepare-package, package, pre-integration-test, integration-test, post-integration-test, verify, install, deploy, pre-site, site, post-site, site-deploy.\r\n```\r\n\r\nWhat am I doing wrong? Any help would be appreciated.","title":"How to set Maven dependency collector implementation to breath-first","body":"<p>At work, we're using Maven to build a relatively large Java project, with a lot of dependencies that need to be downloaded. I don't know much about how Maven works, but when I saw it downloading the dependencies sequentially one-by-one, I thought it to be extremely inefficient, and that there had to be a setting, which allows it to download them in parallel (based on some dependency tree).</p>\n<p>I've looked around on the internet, and I've found that since Maven version 3.9.0, there is this option: aether.dependencyCollector.impl = 'bf', which sets the dependency resolver to a 'breath-first' strategy (instead of the default depth-first).\n(Found here: <a href=\"https://maven.apache.org/resolver/configuration.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/resolver/configuration.html</a>)\nI'm running Maven 3.9.1, so it should work.</p>\n<p>On another page, I've found how to use the option (here: <a href=\"https://issues.apache.org/jira/browse/MRESOLVER-324\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/MRESOLVER-324</a>).</p>\n<p>I've tried adding the line 'aether.dependencyCollector.impl=bf' into $basedir/.mvn/maven.config, but I'm getting a ParseException:</p>\n<pre><code>org.apache.commons.cli.ParseException: Unrecognized maven.config file entries: [aether.dependencyCollector.impl=bf]\n</code></pre>\n<p>I've also tried using it direcly on the command line like so:</p>\n<pre><code>mvn clean install -DskipTests -Daether.dependencyCollector.impl=bf\n</code></pre>\n<p>But this also yields the following error:</p>\n<pre><code>Unknown lifecycle phase &quot;.dependencyCollector.impl=bf&quot;.\nYou must specify a valid lifecycle phase or a goal in the format &lt;plugin-prefix&gt;:&lt;goal&gt; or &lt;plugin-group-id&gt;:&lt;plugin-artifact-id&gt;[:&lt;plugin-version&gt;]:&lt;goal&gt;. Available lifecycle phases are: pre-clean, clean, post-clean, validate, initialize, generate-sources, process-sources, generate-resources, process-resources, compile, process-classes, generate-test-sources, process-test-sources, generate-test-resources, process-test-resources, test-compile, process-test-classes, test, prepare-package, package, pre-integration-test, integration-test, post-integration-test, verify, install, deploy, pre-site, site, post-site, site-deploy.\n</code></pre>\n<p>What am I doing wrong? Any help would be appreciated.</p>\n"},{"tags":["java","unit-testing","junit","jacoco","jacoco-maven-plugin"],"owner":{"account_id":6416452,"reputation":43,"user_id":4974503,"display_name":"Duc Bui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688483971,"creation_date":1688483971,"question_id":76613992,"body_markdown":"I want to write the unit test of the method just like \r\n```\r\npublic void complete() {\r\n    System.exit(0);\r\n}\r\n```\r\n\r\nI tried these instructions:\r\n- https://stackoverflow.com/questions/309396/how-to-test-methods-that-call-system-exit?answertab=scoredesc\r\n- OR the very details is in : https://www.dontpanicblog.co.uk/2022/10/30/testing-system-exit/\r\n\r\nWith these ways, the unit test with System.exit is covered 100% when I run it individually. However, when I run it with mvn clean install &amp; jacoco-maven-plugin, it says that the method is not covered in unit test\r\n\r\nThe problem can be pre-produced with the code on: https://github.com/hotblac/system-exit/tree/junit5\r\nAnd the jacoco config on pom.xml:\r\n\r\n```\r\n&lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.8.10&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;jacoco-initialize&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;jacoco-check&lt;/id&gt;\r\n                        &lt;phase&gt;test&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;check&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;rules&gt;\r\n                                &lt;rule&gt;\r\n                                    &lt;element&gt;CLASS&lt;/element&gt;\r\n                                    &lt;excludes&gt;\r\n                                        &lt;exclude&gt;*Test&lt;/exclude&gt;\r\n                                    &lt;/excludes&gt;\r\n                                    &lt;limits&gt;\r\n                                        &lt;limit&gt;\r\n                                            &lt;counter&gt;LINE&lt;/counter&gt;\r\n                                            &lt;value&gt;COVEREDRATIO&lt;/value&gt;\r\n                                            &lt;minimum&gt;90%&lt;/minimum&gt;\r\n                                        &lt;/limit&gt;\r\n                                    &lt;/limits&gt;\r\n                                &lt;/rule&gt;\r\n                            &lt;/rules&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;jacoco-site&lt;/id&gt;\r\n                        &lt;phase&gt;test&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;report&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\n\r\n","title":"How to make the test methods that call System.exit() are covered with jacoco-maven-plugin?","body":"<p>I want to write the unit test of the method just like</p>\n<pre><code>public void complete() {\n    System.exit(0);\n}\n</code></pre>\n<p>I tried these instructions:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/309396/how-to-test-methods-that-call-system-exit?answertab=scoredesc\">How to test methods that call System.exit()?</a></li>\n<li>OR the very details is in : <a href=\"https://www.dontpanicblog.co.uk/2022/10/30/testing-system-exit/\" rel=\"nofollow noreferrer\">https://www.dontpanicblog.co.uk/2022/10/30/testing-system-exit/</a></li>\n</ul>\n<p>With these ways, the unit test with System.exit is covered 100% when I run it individually. However, when I run it with mvn clean install &amp; jacoco-maven-plugin, it says that the method is not covered in unit test</p>\n<p>The problem can be pre-produced with the code on: <a href=\"https://github.com/hotblac/system-exit/tree/junit5\" rel=\"nofollow noreferrer\">https://github.com/hotblac/system-exit/tree/junit5</a>\nAnd the jacoco config on pom.xml:</p>\n<pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.8.10&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;jacoco-initialize&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;jacoco-check&lt;/id&gt;\n                        &lt;phase&gt;test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;check&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;rules&gt;\n                                &lt;rule&gt;\n                                    &lt;element&gt;CLASS&lt;/element&gt;\n                                    &lt;excludes&gt;\n                                        &lt;exclude&gt;*Test&lt;/exclude&gt;\n                                    &lt;/excludes&gt;\n                                    &lt;limits&gt;\n                                        &lt;limit&gt;\n                                            &lt;counter&gt;LINE&lt;/counter&gt;\n                                            &lt;value&gt;COVEREDRATIO&lt;/value&gt;\n                                            &lt;minimum&gt;90%&lt;/minimum&gt;\n                                        &lt;/limit&gt;\n                                    &lt;/limits&gt;\n                                &lt;/rule&gt;\n                            &lt;/rules&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;jacoco-site&lt;/id&gt;\n                        &lt;phase&gt;test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":15317666,"reputation":87,"user_id":11051112,"display_name":"amangupta"},"score":0,"creation_date":1688475053,"post_id":76612801,"comment_id":135076807,"body_markdown":"Let me know if you require more info for this question. TIA.","body":"Let me know if you require more info for this question. TIA."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1688479001,"post_id":76612801,"comment_id":135077758,"body_markdown":"JPA is notoriously bad at having many custom queries. May I recommend a library that gives you more flexibility, such as jOOQ?","body":"JPA is notoriously bad at having many custom queries. May I recommend a library that gives you more flexibility, such as jOOQ?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1688480693,"post_id":76612801,"comment_id":135078126,"body_markdown":"If you want partial data in a java object that doesn&#39;t line up to the table/entity structure - use a constructor query. Simply &quot;select new package.Student(s.id, s.deptId, d.deptName) from Student s join s.department d&quot;. Note that what is returned is not managed entity instance data, but that seems like what you want, and constructor queries can return any java object","body":"If you want partial data in a java object that doesn&#39;t line up to the table/entity structure - use a constructor query. Simply &quot;select new package.Student(s.id, s.deptId, d.deptName) from Student s join s.department d&quot;. Note that what is returned is not managed entity instance data, but that seems like what you want, and constructor queries can return any java object"},{"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"score":0,"creation_date":1688484124,"post_id":76612801,"comment_id":135078883,"body_markdown":"May I know, what amount of data are we talking about?\nI mean how much data is there in your `Department` table?","body":"May I know, what amount of data are we talking about? I mean how much data is there in your <code>Department</code> table?"}],"owner":{"account_id":15317666,"reputation":87,"user_id":11051112,"display_name":"amangupta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688483687,"creation_date":1688474843,"question_id":76612801,"body_markdown":"Consider this usecase:\r\n\r\n```\r\nclass Department {\r\n   \r\n   @Id\r\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n   @Column(name = &quot;dept_id&quot;)\r\n   private Long deptId;\r\n   \r\n   @Column(name = &quot;dept_name&quot;)\r\n   private String deptName;\r\n\r\n   // other heavy fields.\r\n}\r\n```\r\n\r\nAnd,\r\n\r\n```\r\nclass Student {\r\n   @Id\r\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n   @Column(name = &quot;id&quot;)\r\n   private Long id;\r\n\r\n   @Column(name = &quot;dept_id&quot;)\r\n   private Long deptId;\r\n   \r\n   // This I need to populate\r\n   private String deptName; \r\n\r\n}\r\n\r\n```\r\nHere, deptId in Student Entity is foreign key to deptId(primary key) of Department entity. \r\n\r\nWhat my requirement is I want to populate field deptName\r\ninside Student Entity which is fetched from referenced Department entity.\r\n\r\nI am already aware of solutions like fetching the Complete Department entity with:\r\n```\r\n@ManyToOne(fetchType.Eager)\r\n@JoinColumn(//whatever)\r\nprivate Department department;\r\n```\r\nWHICH I DONT WANT TO DO!\r\n\r\nI just wanted single deptName field to be fetched. Also aware of @Formula and @JoinFormula. But under the impresssion that they are executed on entity level basis. I don&#39;t want to fetch for individual entity every time, instead I want something in bulk (so that number of calls to database can be reduced to one or two). \r\n\r\nComing to question how can I populate this single field efficiently?\r\n\r\nTIA.","title":"Populate field by join query in entity jpa","body":"<p>Consider this usecase:</p>\n<pre><code>class Department {\n   \n   @Id\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\n   @Column(name = &quot;dept_id&quot;)\n   private Long deptId;\n   \n   @Column(name = &quot;dept_name&quot;)\n   private String deptName;\n\n   // other heavy fields.\n}\n</code></pre>\n<p>And,</p>\n<pre><code>class Student {\n   @Id\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\n   @Column(name = &quot;id&quot;)\n   private Long id;\n\n   @Column(name = &quot;dept_id&quot;)\n   private Long deptId;\n   \n   // This I need to populate\n   private String deptName; \n\n}\n\n</code></pre>\n<p>Here, deptId in Student Entity is foreign key to deptId(primary key) of Department entity.</p>\n<p>What my requirement is I want to populate field deptName\ninside Student Entity which is fetched from referenced Department entity.</p>\n<p>I am already aware of solutions like fetching the Complete Department entity with:</p>\n<pre><code>@ManyToOne(fetchType.Eager)\n@JoinColumn(//whatever)\nprivate Department department;\n</code></pre>\n<p>WHICH I DONT WANT TO DO!</p>\n<p>I just wanted single deptName field to be fetched. Also aware of @Formula and @JoinFormula. But under the impresssion that they are executed on entity level basis. I don't want to fetch for individual entity every time, instead I want something in bulk (so that number of calls to database can be reduced to one or two).</p>\n<p>Coming to question how can I populate this single field efficiently?</p>\n<p>TIA.</p>\n"},{"tags":["java","android","flutter","gradle"],"answers":[{"tags":[],"owner":{"account_id":17836197,"reputation":75,"user_id":12955152,"display_name":"Muhammadoufi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688483297,"creation_date":1688483297,"answer_id":76613916,"question_id":76611699,"body_markdown":"I have solved the problem. The issue was in the `plugins { }` section of the `app/build.gradle` file. The incorrect configuration was as follows:\r\n\r\n```groovy\r\nplugins {\r\n  id &#39;com.android.application&#39;\r\n\r\n  // Add the Google services Gradle plugin\r\n  id &#39;com.google.gms.google-services&#39;\r\n\r\n  id  plugin: &#39;kotlin-android&#39;\r\n  from: &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;\r\n}\r\n```\r\n\r\nThe correct configuration should be:\r\n\r\n```groovy\r\nplugins {\r\n  id &#39;com.android.application&#39;\r\n\r\n  // Add the Google services Gradle plugin\r\n  id &#39;com.google.gms.google-services&#39;\r\n\r\n  id &#39;kotlin-android&#39;\r\n  from &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;\r\n}\r\n```\r\n\r\nAlternatively, you can directly remove the `plugins` block from `build.gradle` and configure it like this:\r\n\r\n```groovy\r\napply plugin: &#39;com.android.application&#39;\r\napply plugin: &#39;kotlin-android&#39;\r\napply plugin: &#39;com.google.gms.google-services&#39;\r\napply from: &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;\r\n```\r\n\r\nThese changes should fix the i am facing.","title":"BUG! exception in phase &#39;conversion&#39; in source unit &#39;_BuildScript_&#39; class org.codehaus.groovy.ast.expr.TupleExpression","body":"<p>I have solved the problem. The issue was in the <code>plugins { }</code> section of the <code>app/build.gradle</code> file. The incorrect configuration was as follows:</p>\n<pre><code>plugins {\n  id 'com.android.application'\n\n  // Add the Google services Gradle plugin\n  id 'com.google.gms.google-services'\n\n  id  plugin: 'kotlin-android'\n  from: &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;\n}\n</code></pre>\n<p>The correct configuration should be:</p>\n<pre><code>plugins {\n  id 'com.android.application'\n\n  // Add the Google services Gradle plugin\n  id 'com.google.gms.google-services'\n\n  id 'kotlin-android'\n  from &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;\n}\n</code></pre>\n<p>Alternatively, you can directly remove the <code>plugins</code> block from <code>build.gradle</code> and configure it like this:</p>\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'com.google.gms.google-services'\napply from: &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;\n</code></pre>\n<p>These changes should fix the i am facing.</p>\n"}],"owner":{"account_id":17836197,"reputation":75,"user_id":12955152,"display_name":"Muhammadoufi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76613916,"answer_count":1,"score":0,"last_activity_date":1688483297,"creation_date":1688466570,"question_id":76611699,"body_markdown":"I am developping on flutter with vs code my jdk is java 19 and the gradle version is 7.6 and the android studio version is `flamning 2022.2.1`. \r\nThere is my gradle wrapper proties file:\r\n\r\n    distributionBase=GRADLE_USER_HOME\r\n    distributionPath=wrapper/dists\r\n    zipStoreBase=GRADLE_USER_HOME\r\n    zipStorePath=wrapper/dists\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-7.6-all.zip\r\nI try to run the command `./gradlew signingreport` but i get this error:\r\n\r\n   \r\n\r\n    &gt; PS C:\\Users\\Republic-Of-Computer\\amnir\\android&gt; ./gradlew\r\n    &gt; signingreport  FAILURE: Build failed with an exception.\r\n    &gt; * Where: Build file &#39;C:\\Users\\Republic-Of-Computer\\amnir\\android\\build.gradle&#39; line: 32\r\n    &gt; \r\n    &gt; * What went wrong: A problem occurred evaluating root project &#39;android&#39;.\r\n    &gt;     &gt; A problem occurred configuring project &#39;:app&#39;.\r\n    &gt;        &gt; Could not open cp_proj generic class cache for build file &#39;C:\\Users\\Republic-Of-Computer\\amnir\\android\\app\\build.gradle&#39;\r\n    &gt; (C:\\Users\\Republic Of\r\n    &gt; Computer\\.gradle\\caches\\7.6\\scripts\\4pdap60mfom4g0rgb39ojh57o).\r\n    &gt;           &gt; BUG! exception in phase &#39;conversion&#39; in source unit &#39;_BuildScript_&#39; class org.codehaus.groovy.ast.expr.TupleExpression\r\n    &gt; cannot be cast to class \r\n    &gt;     org.codehaus.groovy.ast.expr.ArgumentListExpression (org.codehaus.groovy.ast.expr.TupleExpression and\r\n    &gt; org.codehaus.groovy.ast.expr.ArgumentListExpression are in unnamed\r\n    &gt; module of loader\r\n    &gt; org.gradle.internal.classloader.VisitableURLClassLoader @182decdb)\r\n    &gt;     \r\n    &gt;     * Try:\r\n    &gt;     &gt; Run with --stacktrace option to get the stack trace.\r\n    &gt;     &gt; Run with --info or --debug option to get more log output.\r\n    &gt;     &gt; Run with --scan to get full insights.\r\n\r\n\r\nThere is my build.gradle file \r\n\r\n    buildscript {\r\n        ext.kotlin_version = &#39;1.7.10&#39;\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n        }\r\n    \r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:7.3.0&#39;\r\n            classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n            // classpath &quot;com.google.gms.google-services:4.3.15&quot;\r\n            classpath &#39;com.google.gms:google-services:4.3.15&#39;\r\n    \r\n        }\r\n    }\r\n    \r\n    \r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n        }\r\n    }\r\n    \r\n    \r\n    \r\n    rootProject.buildDir = &#39;../build&#39;\r\n    subprojects {\r\n        project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\r\n    }\r\n    subprojects {\r\n        project.evaluationDependsOn(&#39;:app&#39;)\r\n    }\r\n    \r\n    tasks.register(&quot;clean&quot;, Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\n\r\n\r\nI use flutter version 3.10.2\r\n\r\n    Flutter 3.10.2 • channel stable • https://github.com/flutter/flutter.git\r\n    Framework • revision 9cd3d0d9ff (6 weeks ago) • 2023-05-23 20:57:28 -0700\r\n    Engine • revision 90fa3ae28f\r\n    Tools • Dart 3.0.2 • DevTools 2.23.1\r\n\r\n","title":"BUG! exception in phase &#39;conversion&#39; in source unit &#39;_BuildScript_&#39; class org.codehaus.groovy.ast.expr.TupleExpression","body":"<p>I am developping on flutter with vs code my jdk is java 19 and the gradle version is 7.6 and the android studio version is <code>flamning 2022.2.1</code>.\nThere is my gradle wrapper proties file:</p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.6-all.zip\n</code></pre>\n<p>I try to run the command <code>./gradlew signingreport</code> but i get this error:</p>\n<pre><code>&gt; PS C:\\Users\\Republic-Of-Computer\\amnir\\android&gt; ./gradlew\n&gt; signingreport  FAILURE: Build failed with an exception.\n&gt; * Where: Build file 'C:\\Users\\Republic-Of-Computer\\amnir\\android\\build.gradle' line: 32\n&gt; \n&gt; * What went wrong: A problem occurred evaluating root project 'android'.\n&gt;     &gt; A problem occurred configuring project ':app'.\n&gt;        &gt; Could not open cp_proj generic class cache for build file 'C:\\Users\\Republic-Of-Computer\\amnir\\android\\app\\build.gradle'\n&gt; (C:\\Users\\Republic Of\n&gt; Computer\\.gradle\\caches\\7.6\\scripts\\4pdap60mfom4g0rgb39ojh57o).\n&gt;           &gt; BUG! exception in phase 'conversion' in source unit '_BuildScript_' class org.codehaus.groovy.ast.expr.TupleExpression\n&gt; cannot be cast to class \n&gt;     org.codehaus.groovy.ast.expr.ArgumentListExpression (org.codehaus.groovy.ast.expr.TupleExpression and\n&gt; org.codehaus.groovy.ast.expr.ArgumentListExpression are in unnamed\n&gt; module of loader\n&gt; org.gradle.internal.classloader.VisitableURLClassLoader @182decdb)\n&gt;     \n&gt;     * Try:\n&gt;     &gt; Run with --stacktrace option to get the stack trace.\n&gt;     &gt; Run with --info or --debug option to get more log output.\n&gt;     &gt; Run with --scan to get full insights.\n</code></pre>\n<p>There is my build.gradle file</p>\n<pre><code>buildscript {\n    ext.kotlin_version = '1.7.10'\n    repositories {\n        google()\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.3.0'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n        // classpath &quot;com.google.gms.google-services:4.3.15&quot;\n        classpath 'com.google.gms:google-services:4.3.15'\n\n    }\n}\n\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\n\n\nrootProject.buildDir = '../build'\nsubprojects {\n    project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\n}\nsubprojects {\n    project.evaluationDependsOn(':app')\n}\n\ntasks.register(&quot;clean&quot;, Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>I use flutter version 3.10.2</p>\n<pre><code>Flutter 3.10.2 • channel stable • https://github.com/flutter/flutter.git\nFramework • revision 9cd3d0d9ff (6 weeks ago) • 2023-05-23 20:57:28 -0700\nEngine • revision 90fa3ae28f\nTools • Dart 3.0.2 • DevTools 2.23.1\n</code></pre>\n"},{"tags":["java","hibernate","liquibase","bean-validation","liquibase-hibernate"],"owner":{"account_id":292835,"reputation":6407,"user_id":595833,"accept_rate":94,"display_name":"bobbyrne01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688482843,"creation_date":1688482843,"question_id":76613872,"body_markdown":"I have a Java Entity class and a Java Data Transfer Object, each of which has it&#39;s own layer of validation based on constraints.\r\n\r\nI use Liquibase to generate changelogs (db schema) based on the state of the Java Entity classes.\r\nBut there is a bug in the `liquibase-hibernate` integration dependency which is not mapping Bean Validation constraints such as `@NotNull` or `@Size` into the corresponding Liquibase changelogs:\r\n\r\nhttps://github.com/liquibase/liquibase-hibernate/issues/149\r\n\r\nhttps://github.com/liquibase/liquibase-hibernate/issues/301\r\n\r\nThis means the only way I can specify constraints for the database is inside the JPA `@Column` annotation.\r\n\r\nI wont be able to group the Bean Validation constraints used at the DTO layer into a composite annotation for use at the Java Entity layer, as it will simply be ignored anyway. Resulting in having to duplicate the constraint info into the `@Column` annotation.\r\n\r\nWhat is the best practice for sharing constraint metadata between the separate DTO and DB layers?\r\n\r\n* A composite annotation containing all Bean Validation and JPA constraints? e.g `@Size`, `@NotNull`, `@Column`\r\n* Is there a library that facilitates sharing between the layers?\r\n* Or is it expected that no Bean Validation constraints should be specified inside Java Entity and duplication cannot be avoided?\r\n\r\n```\r\nimport jakarta.persistence.*;\r\nimport javax.validation.constraints.NotNull;\r\n\r\n@Entity\r\npublic class ItemOne {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;)\r\n    @NotNull\r\n    private Long id;\r\n\r\n    @NotNull\r\n    @Size(max = 10)\r\n    @Column(name = &quot;text&quot;, nullable = false, length = 100)\r\n    String text;\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getText() {\r\n        return text;\r\n    }\r\n\r\n    public void setText(String text) {\r\n        this.text = text;\r\n    }\r\n}\r\n```\r\n\r\nThe associated DTO which has the Bean Validation constraints applied to fields:\r\n\r\n```\r\nimport jakarta.persistence.*;\r\nimport javax.validation.constraints.NotNull;\r\n\r\n@Entity\r\npublic class ItemOneDTO {\r\n\r\n\r\n    @NotNull\r\n    private Long id;\r\n\r\n    @NotNull\r\n    @Size(max = 10)\r\n    String text;\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getText() {\r\n        return text;\r\n    }\r\n\r\n    public void setText(String text) {\r\n        this.text = text;\r\n    }\r\n}\r\n```","title":"Sharing field constraint metadata between Java DTO layer and Java Entity layer","body":"<p>I have a Java Entity class and a Java Data Transfer Object, each of which has it's own layer of validation based on constraints.</p>\n<p>I use Liquibase to generate changelogs (db schema) based on the state of the Java Entity classes.\nBut there is a bug in the <code>liquibase-hibernate</code> integration dependency which is not mapping Bean Validation constraints such as <code>@NotNull</code> or <code>@Size</code> into the corresponding Liquibase changelogs:</p>\n<p><a href=\"https://github.com/liquibase/liquibase-hibernate/issues/149\" rel=\"nofollow noreferrer\">https://github.com/liquibase/liquibase-hibernate/issues/149</a></p>\n<p><a href=\"https://github.com/liquibase/liquibase-hibernate/issues/301\" rel=\"nofollow noreferrer\">https://github.com/liquibase/liquibase-hibernate/issues/301</a></p>\n<p>This means the only way I can specify constraints for the database is inside the JPA <code>@Column</code> annotation.</p>\n<p>I wont be able to group the Bean Validation constraints used at the DTO layer into a composite annotation for use at the Java Entity layer, as it will simply be ignored anyway. Resulting in having to duplicate the constraint info into the <code>@Column</code> annotation.</p>\n<p>What is the best practice for sharing constraint metadata between the separate DTO and DB layers?</p>\n<ul>\n<li>A composite annotation containing all Bean Validation and JPA constraints? e.g <code>@Size</code>, <code>@NotNull</code>, <code>@Column</code></li>\n<li>Is there a library that facilitates sharing between the layers?</li>\n<li>Or is it expected that no Bean Validation constraints should be specified inside Java Entity and duplication cannot be avoided?</li>\n</ul>\n<pre><code>import jakarta.persistence.*;\nimport javax.validation.constraints.NotNull;\n\n@Entity\npublic class ItemOne {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    @NotNull\n    private Long id;\n\n    @NotNull\n    @Size(max = 10)\n    @Column(name = &quot;text&quot;, nullable = false, length = 100)\n    String text;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getText() {\n        return text;\n    }\n\n    public void setText(String text) {\n        this.text = text;\n    }\n}\n</code></pre>\n<p>The associated DTO which has the Bean Validation constraints applied to fields:</p>\n<pre><code>import jakarta.persistence.*;\nimport javax.validation.constraints.NotNull;\n\n@Entity\npublic class ItemOneDTO {\n\n\n    @NotNull\n    private Long id;\n\n    @NotNull\n    @Size(max = 10)\n    String text;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getText() {\n        return text;\n    }\n\n    public void setText(String text) {\n        this.text = text;\n    }\n}\n</code></pre>\n"},{"tags":["javascript","java","htmlunit"],"comments":[{"owner":{"account_id":8182152,"reputation":1309,"user_id":6158939,"display_name":"Shivani Sonagara"},"score":0,"creation_date":1563860254,"post_id":57157285,"comment_id":100829287,"body_markdown":"Please try to change the variable name html to any other. May be due to reserved word it triggers the problem. I am not sure this works or not but you may try this.","body":"Please try to change the variable name html to any other. May be due to reserved word it triggers the problem. I am not sure this works or not but you may try this."},{"owner":{"account_id":11547268,"reputation":512,"user_id":8460904,"display_name":"Trupti J"},"score":0,"creation_date":1563860314,"post_id":57157285,"comment_id":100829302,"body_markdown":"Please add whole working example of your code. Are you writing this code in Javascript? If yes, please add your html and css code as well if any.You can also add your code to jsfiddle and provide the link so that someone can take a look and resolve your issue.","body":"Please add whole working example of your code. Are you writing this code in Javascript? If yes, please add your html and css code as well if any.You can also add your code to jsfiddle and provide the link so that someone can take a look and resolve your issue."}],"answers":[{"tags":[],"owner":{"account_id":10160323,"reputation":522,"user_id":7504001,"accept_rate":40,"display_name":"Vikas Suryawanshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563862482,"creation_date":1563862482,"answer_id":57157723,"question_id":57157285,"body_markdown":"you can use the java-script click event on that element as :\r\n \r\n\r\n    HtmlPage page = client.getPage(&quot;xxx&quot;);\r\n    page = (HtmlPage) page.getFrameByName(&quot;xxx&quot;).getEnclosedPage();\r\n    HtmlElement test = page.getFirstByXPath(&quot;//div[@id=&#39;s81&#39;]&quot;);\r\n    JavascriptExecutor executor = (JavascriptExecutor)driver;\r\n    executor.executeScript(&quot;arguments[0].click();&quot;, test);","title":"HtmlUnit: click() function doesn&#39;t do anything","body":"<p>you can use the java-script click event on that element as :</p>\n\n<pre><code>HtmlPage page = client.getPage(\"xxx\");\npage = (HtmlPage) page.getFrameByName(\"xxx\").getEnclosedPage();\nHtmlElement test = page.getFirstByXPath(\"//div[@id='s81']\");\nJavascriptExecutor executor = (JavascriptExecutor)driver;\nexecutor.executeScript(\"arguments[0].click();\", test);\n</code></pre>\n"}],"owner":{"account_id":16347439,"reputation":11,"user_id":11806814,"display_name":"itobi1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688482682,"creation_date":1563860031,"question_id":57157285,"body_markdown":"I&#39;m having trouble with the click() function from HtmlUnit.\r\nIt doesn&#39;t do anything for me.\r\n\r\n~~~\r\nHtmlPage page = client.getPage(&quot;xxx&quot;);\r\npage = (HtmlPage) page.getFrameByName(&quot;xxx&quot;).getEnclosedPage();\r\nHtmlElement test = page.getFirstByXPath(&quot;//div[@id=&#39;s81&#39;]&quot;);\r\npage = test.click();\r\n~~~\r\n\r\n~~~\r\n&lt;div id=&quot;s81&quot; class=&quot;mmenu&quot; data-bind=&quot;click: function(){ CheckId(&#39;Counternav&#39;,mes()[120]) }, text: mes()[120]&quot;&gt;Counter&lt;/div&gt;\r\n~~~\r\n\r\nThe div is found, that isn&#39;t the problem. The click() function just doesn&#39;t change anything to the page. Am I unsing the function wrong?\r\n\r\nI hope somebody can help and many thanks in advance!","title":"HtmlUnit: click() function doesn&#39;t do anything","body":"<p>I'm having trouble with the click() function from HtmlUnit.\nIt doesn't do anything for me.</p>\n\n<pre><code>HtmlPage page = client.getPage(\"xxx\");\npage = (HtmlPage) page.getFrameByName(\"xxx\").getEnclosedPage();\nHtmlElement test = page.getFirstByXPath(\"//div[@id='s81']\");\npage = test.click();\n</code></pre>\n\n<pre><code>&lt;div id=\"s81\" class=\"mmenu\" data-bind=\"click: function(){ CheckId('Counternav',mes()[120]) }, text: mes()[120]\"&gt;Counter&lt;/div&gt;\n</code></pre>\n\n<p>The div is found, that isn't the problem. The click() function just doesn't change anything to the page. Am I unsing the function wrong?</p>\n\n<p>I hope somebody can help and many thanks in advance!</p>\n"},{"tags":["java","spring","spring-boot","spring-security","multipart"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688494373,"post_id":76613817,"comment_id":135080572,"body_markdown":"That controller is for posting an image **not** receiving an image. Also just posting randomg methods without the context of a class isn&#39;t really helpful.","body":"That controller is for posting an image <b>not</b> receiving an image. Also just posting randomg methods without the context of a class isn&#39;t really helpful."}],"owner":{"account_id":22271823,"reputation":1,"user_id":16501655,"display_name":"prakash aathi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688482373,"creation_date":1688482256,"question_id":76613817,"body_markdown":"Actually, I am facing an error while using Spring Boot version 2.7.10. I have implemented JWT Spring Security, and initially, everything was working fine. However, when I tried to retrieve an image as input using a multipart file, it resulted in the following error:\r\n```\r\n2023-07-03 11:13:57.706 ERROR 12008 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet] : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception\r\n\r\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class java.io.FileDescriptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile[0]-&gt;org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile[&quot;inputStream&quot;]-&gt;java.io.FileInputStream[&quot;fd&quot;])\r\n```\r\nTo provide more context, when I removed Spring Security from the controller, the code worked successfully. Here is an example of the controller without Spring Security:\r\n```\r\n@ResponseStatus(value = HttpStatus.OK)\r\n@PostMapping(&quot;/upload&quot;)\r\npublic void uploadImage(@RequestParam(&quot;productImage&quot;) MultipartFile file) throws IOException {\r\n\r\n&#160;&#160;System.out.println(&quot;Success uploading image file.&quot;);\r\n\r\n}\r\n```\r\nFor further understanding of the security configuration, I have attached the GitHub link below: https://github.com/prakash-aathi/authentication-authorization\r\n\r\nI would appreciate any help or insights regarding this issue. Thank you in advance!","title":"Spring boot security and multipart file upload failling","body":"<p>Actually, I am facing an error while using Spring Boot version 2.7.10. I have implemented JWT Spring Security, and initially, everything was working fine. However, when I tried to retrieve an image as input using a multipart file, it resulted in the following error:</p>\n<pre><code>2023-07-03 11:13:57.706 ERROR 12008 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet] : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception\n\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class java.io.FileDescriptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile[0]-&gt;org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile[&quot;inputStream&quot;]-&gt;java.io.FileInputStream[&quot;fd&quot;])\n</code></pre>\n<p>To provide more context, when I removed Spring Security from the controller, the code worked successfully. Here is an example of the controller without Spring Security:</p>\n<pre><code>@ResponseStatus(value = HttpStatus.OK)\n@PostMapping(&quot;/upload&quot;)\npublic void uploadImage(@RequestParam(&quot;productImage&quot;) MultipartFile file) throws IOException {\n\n  System.out.println(&quot;Success uploading image file.&quot;);\n\n}\n</code></pre>\n<p>For further understanding of the security configuration, I have attached the GitHub link below: <a href=\"https://github.com/prakash-aathi/authentication-authorization\" rel=\"nofollow noreferrer\">https://github.com/prakash-aathi/authentication-authorization</a></p>\n<p>I would appreciate any help or insights regarding this issue. Thank you in advance!</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"answers":[{"comments":[{"owner":{"account_id":28947984,"reputation":3,"user_id":22173198,"display_name":"Sai Gangadhar"},"score":0,"creation_date":1688468972,"post_id":76611979,"comment_id":135075473,"body_markdown":"Its not coming in local, local build is getting completed,\n\nJenkins build is getting failed while deploying the code, Any idea why it is getting failed","body":"Its not coming in local, local build is getting completed,  Jenkins build is getting failed while deploying the code, Any idea why it is getting failed"},{"owner":{"account_id":8391581,"reputation":117,"user_id":6300149,"accept_rate":75,"display_name":"NitSher01"},"score":0,"creation_date":1688480175,"post_id":76611979,"comment_id":135078014,"body_markdown":"@SaiGangadhar: Have you tried Wiping out the workspace of Jenkins before build ? \nThere are some weird instances when a newly added dependency doesn&#39;t get downloaded in Jenkins.","body":"@SaiGangadhar: Have you tried Wiping out the workspace of Jenkins before build ?  There are some weird instances when a newly added dependency doesn&#39;t get downloaded in Jenkins."}],"tags":[],"owner":{"account_id":7788110,"reputation":1429,"user_id":6306585,"accept_rate":60,"display_name":"Shakirov Ramil"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688468838,"creation_date":1688468838,"answer_id":76611979,"question_id":76611947,"body_markdown":"https://stackoverflow.com/questions/67507452/no-spring-config-import-property-has-been-defined\r\n\r\nSolution for Maven\r\n\r\nAdd the below dependency in the pom.xml file:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    Solution for Gradle\r\n\r\nAdd in the build.gradle file:\r\n\r\n    implementation(&#39;org.springframework.cloud:spring-cloud-starter-bootstrap&#39;)","title":"ERROR --- [ main] o.s.boot.SpringApplication : Application run failed","body":"<p><a href=\"https://stackoverflow.com/questions/67507452/no-spring-config-import-property-has-been-defined\">No spring.config.import property has been defined</a></p>\n<p>Solution for Maven</p>\n<p>Add the below dependency in the pom.xml file:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\n&lt;/dependency&gt;\nSolution for Gradle\n</code></pre>\n<p>Add in the build.gradle file:</p>\n<pre><code>implementation('org.springframework.cloud:spring-cloud-starter-bootstrap')\n</code></pre>\n"}],"owner":{"account_id":28947984,"reputation":3,"user_id":22173198,"display_name":"Sai Gangadhar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":684,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76611979,"answer_count":1,"score":-1,"last_activity_date":1688481443,"creation_date":1688468497,"question_id":76611947,"body_markdown":"I am disabling spring cloud configuration in bootstrap.yml in gradle project as below:\r\n\r\n```yaml\r\nspring:\r\n  cloud:\r\n    config:\r\n      enabled: false\r\n```\r\n\r\n\r\nBut still getting this error when running Spring Boot application:\r\n\r\n```\r\n2023-07-03 00:30:27.370 ERROR   --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.cloud.commons.ConfigDataMissingEnvironmentPostProcessor$ImportException: No spring.config.import set\r\n\tat org.springframework.cloud.commons.ConfigDataMissingEnvironmentPostProcessor.postProcessEnvironment(ConfigDataMissingEnvironmentPostProcessor.java:65)\r\n\tat org.springframework.boot.context.config.ConfigFileApplicationListener.onApplicationEnvironmentPreparedEvent(ConfigFileApplicationListener.java:188)\r\n\tat org.springframework.boot.context.config.ConfigFileApplicationListener.onApplicationEvent(ConfigFileApplicationListener.java:176)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:76)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:53)\r\n\tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:345)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:51)\r\n\tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:52)\r\n```\r\n","title":"ERROR --- [ main] o.s.boot.SpringApplication : Application run failed","body":"<p>I am disabling spring cloud configuration in bootstrap.yml in gradle project as below:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  cloud:\n    config:\n      enabled: false\n</code></pre>\n<p>But still getting this error when running Spring Boot application:</p>\n<pre><code>2023-07-03 00:30:27.370 ERROR   --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.cloud.commons.ConfigDataMissingEnvironmentPostProcessor$ImportException: No spring.config.import set\n    at org.springframework.cloud.commons.ConfigDataMissingEnvironmentPostProcessor.postProcessEnvironment(ConfigDataMissingEnvironmentPostProcessor.java:65)\n    at org.springframework.boot.context.config.ConfigFileApplicationListener.onApplicationEnvironmentPreparedEvent(ConfigFileApplicationListener.java:188)\n    at org.springframework.boot.context.config.ConfigFileApplicationListener.onApplicationEvent(ConfigFileApplicationListener.java:176)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:76)\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:53)\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:345)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:51)\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:52)\n</code></pre>\n"},{"tags":["java","apache-spark","log4j","mesos"],"owner":{"account_id":424418,"reputation":4682,"user_id":804409,"accept_rate":54,"display_name":"omu_negru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688481438,"creation_date":1688481438,"question_id":76613710,"body_markdown":"I am trying to pass a custom log4j configuration file to the spark executor. \r\nSo far i am using the `--files` param to `spark-submit` and can indeed attest that the respective file is transported in the executor working folder. However when trying to use said file by passing `--conf spark.executor.extraJavaOptions=-Dlog4j.configuration=file:log4j.properties` to `spark-submit`, i notice a FileNotFound error in the executor logs. After that i see a message that the config file is being downloaded and placed inside the executor work dir. \r\n\r\nTo me it seems that, given the order of the logs, the log4j config file location is searched first, then the files are downloaded, which means that there is no way to decide the config using only spark-submit. \r\n\r\nCan anyone confirm this ? Is there a workaround for this if my suspicions are true ? If I am wrong then where is my mistake in composing the `spark-submit` parameters?\r\n\r\nI am using spark 3.2 on mesos","title":"Trying to use log4j configuration sent with --files param on spark-submit","body":"<p>I am trying to pass a custom log4j configuration file to the spark executor.\nSo far i am using the <code>--files</code> param to <code>spark-submit</code> and can indeed attest that the respective file is transported in the executor working folder. However when trying to use said file by passing <code>--conf spark.executor.extraJavaOptions=-Dlog4j.configuration=file:log4j.properties</code> to <code>spark-submit</code>, i notice a FileNotFound error in the executor logs. After that i see a message that the config file is being downloaded and placed inside the executor work dir.</p>\n<p>To me it seems that, given the order of the logs, the log4j config file location is searched first, then the files are downloaded, which means that there is no way to decide the config using only spark-submit.</p>\n<p>Can anyone confirm this ? Is there a workaround for this if my suspicions are true ? If I am wrong then where is my mistake in composing the <code>spark-submit</code> parameters?</p>\n<p>I am using spark 3.2 on mesos</p>\n"},{"tags":["java","performance","spring","http","http-streaming"],"comments":[{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":0,"creation_date":1321342712,"post_id":8132883,"comment_id":9978952,"body_markdown":"what&#39;s your servlet container and what&#39;s your view technology? (jsp, velocity, etc..)","body":"what&#39;s your servlet container and what&#39;s your view technology? (jsp, velocity, etc..)"},{"owner":{"account_id":147712,"reputation":587,"user_id":359015,"accept_rate":50,"display_name":"Karthik Kastury"},"score":0,"creation_date":1326900132,"post_id":8132883,"comment_id":11148453,"body_markdown":"It&#39;s using JSP for the View Componenents, and is running in Geronimo as the Application Server.","body":"It&#39;s using JSP for the View Componenents, and is running in Geronimo as the Application Server."}],"answers":[{"tags":[],"owner":{"account_id":48427,"reputation":3263,"user_id":143897,"accept_rate":60,"display_name":"Jay D"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1327084817,"creation_date":1327084817,"answer_id":8946257,"question_id":8132883,"body_markdown":"HTTP is a layer 7 ( /OSI Model) / 5 layer (TCP/IP Model) protocol. And a given application framework runs at or on the top of that. \r\n\r\nThus a given HTTP (get/POST) / pipelined request is essentially using a TCP pipe opened by the framework on the client side. \r\n\r\nOn the server side, typically you have the capability to process pipelined requests ( multiple get/post requests in one TCP pipe).\r\n\r\nIN your requirement, you want a given request to be split into 2 subrequests probably by establishing a new TCP pipe to carry first half and second half of the request.\r\n\r\nNow the challenge here is that even if your client side achieves that , the server side should accept such split requests. Typically the server side would throw away malformed HTTP requests. \r\n\r\n","title":"Chunked HTTP Responses in a Spring based web application","body":"<p>HTTP is a layer 7 ( /OSI Model) / 5 layer (TCP/IP Model) protocol. And a given application framework runs at or on the top of that. </p>\n\n<p>Thus a given HTTP (get/POST) / pipelined request is essentially using a TCP pipe opened by the framework on the client side. </p>\n\n<p>On the server side, typically you have the capability to process pipelined requests ( multiple get/post requests in one TCP pipe).</p>\n\n<p>IN your requirement, you want a given request to be split into 2 subrequests probably by establishing a new TCP pipe to carry first half and second half of the request.</p>\n\n<p>Now the challenge here is that even if your client side achieves that , the server side should accept such split requests. Typically the server side would throw away malformed HTTP requests. </p>\n"},{"comments":[{"owner":{"account_id":147712,"reputation":587,"user_id":359015,"accept_rate":50,"display_name":"Karthik Kastury"},"score":0,"creation_date":1327297545,"post_id":8957428,"comment_id":11232175,"body_markdown":"Using Apache Tiles is not possible, because this Application is already developed, and there are thousands of lines of JSP Code.","body":"Using Apache Tiles is not possible, because this Application is already developed, and there are thousands of lines of JSP Code."}],"tags":[],"owner":{"account_id":353069,"reputation":7200,"user_id":690553,"accept_rate":76,"display_name":"Amir Pashazadeh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1327186483,"creation_date":1327186483,"answer_id":8957428,"question_id":8132883,"body_markdown":"Try using Apache Tiles as your layout manager. You can set flush attribute on different tiles of your page, and as far as I know flushing a tile flushes to response.\r\n\r\nBy the way don&#39;t you use a compression mechanism, for example an Apache httpd in front of your container or even a gzip servlet filter? If this is the case, Apache Tiles won&#39;t help you, and it is better for you to forget about your need.","title":"Chunked HTTP Responses in a Spring based web application","body":"<p>Try using Apache Tiles as your layout manager. You can set flush attribute on different tiles of your page, and as far as I know flushing a tile flushes to response.</p>\n\n<p>By the way don't you use a compression mechanism, for example an Apache httpd in front of your container or even a gzip servlet filter? If this is the case, Apache Tiles won't help you, and it is better for you to forget about your need.</p>\n"},{"comments":[{"owner":{"account_id":137273,"reputation":4297,"user_id":1236045,"display_name":"Michał Politowski"},"score":0,"creation_date":1357910962,"post_id":9003703,"comment_id":19825166,"body_markdown":"Nope, `TE: trailers` does not indicate acceptance of chunked encoding. It indicates acceptance of additional headers in the &#39;trailer&#39; of chunked data. And the RFC says _&#39;All HTTP/1.1 applications MUST be able to receive and decode the &quot;chunked&quot; transfer-coding&#39;_.","body":"Nope, <code>TE: trailers</code> does not indicate acceptance of chunked encoding. It indicates acceptance of additional headers in the &#39;trailer&#39; of chunked data. And the RFC says <i>&#39;All HTTP/1.1 applications MUST be able to receive and decode the &quot;chunked&quot; transfer-coding&#39;</i>."}],"tags":[],"owner":{"account_id":34943,"reputation":16268,"user_id":98811,"display_name":"Devon_C_Miller"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1327499065,"creation_date":1327499065,"answer_id":9003703,"question_id":8132883,"body_markdown":"[RFC2616][1] specifies a `TE: trailers` header that is an explicit statement that the client accepts chunked transfers, but I have never seen a browser or device actually send this. Any device that sends a HTTP/1.1 request should accept chunked transfers.\r\n\r\nIn my experience, Spring will automatically perform chunked transfers any time you do not specify a content-length. My experience is mostly with Spring controllers, so YMMV with JSPs.\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc2616#section-14.39","title":"Chunked HTTP Responses in a Spring based web application","body":"<p><a href=\"https://www.rfc-editor.org/rfc/rfc2616#section-14.39\" rel=\"nofollow noreferrer\">RFC2616</a> specifies a <code>TE: trailers</code> header that is an explicit statement that the client accepts chunked transfers, but I have never seen a browser or device actually send this. Any device that sends a HTTP/1.1 request should accept chunked transfers.</p>\n<p>In my experience, Spring will automatically perform chunked transfers any time you do not specify a content-length. My experience is mostly with Spring controllers, so YMMV with JSPs.</p>\n"},{"tags":[],"owner":{"account_id":27243397,"reputation":1331,"user_id":20769158,"display_name":"scrhartley"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688480893,"creation_date":1671030928,"answer_id":74800392,"question_id":8132883,"body_markdown":"Looking at how things work\r\n--------------------------\r\n\r\nI believe that Spring uses chunked transfer encoding by default for HTTP 1.1, while HTTP 2 is structured as frames and so is inherently streaming.\r\n\r\nWith an HTTP response you have the status line, headers and a body (let&#39;s ignore trailers, since browsers mostly don&#39;t let you do anything useful with these).  \r\nIn the happy path for MVC, you collect all your data, set any headers you want on the response and then the template that you&#39;re using as your view will be used as the response body.  \r\nIn the error path, an exception is thrown which overrides the default status code and changes which view will be used (usually some other template).  \r\n\r\nSo in the error path, a flush in the main template is irrelevant since it wouldn&#39;t be used, and in the happy path, the majority of the time is spent collecting data and so the brief time spent writing out the template is largely irrelevant.\r\n\r\nBasic Strategies\r\n----------------\r\n\r\nIf you want to send the HTML head before the data is collected, you have a couple of options,\r\nbut the problem with these approaches is that they interfere with (i.e. break) Spring&#39;s normal error handling:  \r\n1. Write some HTML to the response in the controller, then collect the data and finally render the rest in the view template. E.g.:  \r\n```\r\nresponse.setContentType(&quot;text/html;charset=UTF-8&quot;); // Needed as Spring won&#39;t have set this yet.\r\nresponse.getWriter().write(htmlStartIncludingHead);\r\nresponse.getWriter().flush();\r\nModel model = collectDataAndbuildModel();\r\nreturn &quot;myViewWithoutHead&quot;;\r\n```\r\n2. Move the task of collecting data (directly or indirectly, synchronously or asynchronously) to be done inside the template in order to make flushes there be useful.\r\nIf you flush before you wait to retrieve some amount of data, then the user can receive already completed content while waiting.  \r\nIn JSP you can flush using `&lt;% out.flush(); %&gt;` or `&lt;% response.getWriter().flush(); %&gt;`.  \r\nIn FreeMarker, it has a dedicated flush directive: `&lt;#flush&gt;`.\r\n\r\nTowards a working solution\r\n--------------------------\r\n\r\nIn order to experiment with a solution which tries various approaches to address error handling whilst moving the data collection to occur while running the template,\r\nI&#39;ve made a proof of concept where the Model&#39;s values in the Controller are changed to Callables and/or Futures:  \r\nhttps://github.com/scrhartley/freemarker-streaming-poc  \r\nI&#39;ve also made a version for JSP which focuses solely on using different types of Futures as Model values:  \r\nhttps://github.com/scrhartley/jsp-streaming-poc  \r\n\r\nThe tricks used for error handling boil down to:\r\n1. Output a meta refresh tag to perform a client side redirect when an error occurs\r\n2. Output a script tag to perform some JavaScript page manipulation when an error occurs\r\n3. Use a template level equivalent to try/catch, allowing you to output some fallback content when an error occurs.  \r\n    - FreeMarker has [attempt/recover][1] directives. Attempt swallows flushes inside it and so needs to be used accordingly.\r\n    - JSP has the JSTL catch tag.\r\n\r\n\r\n  [1]: https://freemarker.apache.org/docs/ref_directive_attempt.html\r\n\r\nWarning / Troubleshooting\r\n--------------------------\r\n\r\nHTTP streaming may not work if your servers are configured incorrectly. For notes on buffering and Nagle&#39;s algorithm see:  \r\nhttps://medium.com/airbnb-engineering/improving-performance-with-http-streaming-ba9e72c66408","title":"Chunked HTTP Responses in a Spring based web application","body":"<h2>Looking at how things work</h2>\n<p>I believe that Spring uses chunked transfer encoding by default for HTTP 1.1, while HTTP 2 is structured as frames and so is inherently streaming.</p>\n<p>With an HTTP response you have the status line, headers and a body (let's ignore trailers, since browsers mostly don't let you do anything useful with these).<br />\nIn the happy path for MVC, you collect all your data, set any headers you want on the response and then the template that you're using as your view will be used as the response body.<br />\nIn the error path, an exception is thrown which overrides the default status code and changes which view will be used (usually some other template).</p>\n<p>So in the error path, a flush in the main template is irrelevant since it wouldn't be used, and in the happy path, the majority of the time is spent collecting data and so the brief time spent writing out the template is largely irrelevant.</p>\n<h2>Basic Strategies</h2>\n<p>If you want to send the HTML head before the data is collected, you have a couple of options,\nbut the problem with these approaches is that they interfere with (i.e. break) Spring's normal error handling:</p>\n<ol>\n<li>Write some HTML to the response in the controller, then collect the data and finally render the rest in the view template. E.g.:</li>\n</ol>\n<pre><code>response.setContentType(&quot;text/html;charset=UTF-8&quot;); // Needed as Spring won't have set this yet.\nresponse.getWriter().write(htmlStartIncludingHead);\nresponse.getWriter().flush();\nModel model = collectDataAndbuildModel();\nreturn &quot;myViewWithoutHead&quot;;\n</code></pre>\n<ol start=\"2\">\n<li>Move the task of collecting data (directly or indirectly, synchronously or asynchronously) to be done inside the template in order to make flushes there be useful.\nIf you flush before you wait to retrieve some amount of data, then the user can receive already completed content while waiting.<br />\nIn JSP you can flush using <code>&lt;% out.flush(); %&gt;</code> or <code>&lt;% response.getWriter().flush(); %&gt;</code>.<br />\nIn FreeMarker, it has a dedicated flush directive: <code>&lt;#flush&gt;</code>.</li>\n</ol>\n<h2>Towards a working solution</h2>\n<p>In order to experiment with a solution which tries various approaches to address error handling whilst moving the data collection to occur while running the template,\nI've made a proof of concept where the Model's values in the Controller are changed to Callables and/or Futures:<br />\n<a href=\"https://github.com/scrhartley/freemarker-streaming-poc\" rel=\"nofollow noreferrer\">https://github.com/scrhartley/freemarker-streaming-poc</a><br />\nI've also made a version for JSP which focuses solely on using different types of Futures as Model values:<br />\n<a href=\"https://github.com/scrhartley/jsp-streaming-poc\" rel=\"nofollow noreferrer\">https://github.com/scrhartley/jsp-streaming-poc</a></p>\n<p>The tricks used for error handling boil down to:</p>\n<ol>\n<li>Output a meta refresh tag to perform a client side redirect when an error occurs</li>\n<li>Output a script tag to perform some JavaScript page manipulation when an error occurs</li>\n<li>Use a template level equivalent to try/catch, allowing you to output some fallback content when an error occurs.\n<ul>\n<li>FreeMarker has <a href=\"https://freemarker.apache.org/docs/ref_directive_attempt.html\" rel=\"nofollow noreferrer\">attempt/recover</a> directives. Attempt swallows flushes inside it and so needs to be used accordingly.</li>\n<li>JSP has the JSTL catch tag.</li>\n</ul>\n</li>\n</ol>\n<h2>Warning / Troubleshooting</h2>\n<p>HTTP streaming may not work if your servers are configured incorrectly. For notes on buffering and Nagle's algorithm see:<br />\n<a href=\"https://medium.com/airbnb-engineering/improving-performance-with-http-streaming-ba9e72c66408\" rel=\"nofollow noreferrer\">https://medium.com/airbnb-engineering/improving-performance-with-http-streaming-ba9e72c66408</a></p>\n"}],"owner":{"account_id":147712,"reputation":587,"user_id":359015,"accept_rate":50,"display_name":"Karthik Kastury"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6360,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1688480893,"creation_date":1321342161,"question_id":8132883,"body_markdown":"We are building a framework atop the Spring framework in Java. We want to be able to add support for HTTP Chunked Responses. Does spring have an API for this?\r\n\r\nWhat we are trying to achieve is basically send out the HTML `&lt;head&gt;` section before the rest of the response is prepared. So that the client side can start downloading the stylesheets/js etc.. \r\n\r\nIf there is a way to see if the client supports HTTP Chunked Responses would be even better. ","title":"Chunked HTTP Responses in a Spring based web application","body":"<p>We are building a framework atop the Spring framework in Java. We want to be able to add support for HTTP Chunked Responses. Does spring have an API for this?</p>\n\n<p>What we are trying to achieve is basically send out the HTML <code>&lt;head&gt;</code> section before the rest of the response is prepared. So that the client side can start downloading the stylesheets/js etc.. </p>\n\n<p>If there is a way to see if the client supports HTTP Chunked Responses would be even better. </p>\n"},{"tags":["java","xml","dom"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":2,"creation_date":1688482495,"post_id":76613598,"comment_id":135078531,"body_markdown":"Please, take some time to read [how to ask](/help/how-to-ask) and [How to create a Minimal, Reproducible Example](/help/minimal-reproducible-example). It&#39;s completely possibe but hard to say without any code to read.","body":"Please, take some time to read <a href=\"/help/how-to-ask\">how to ask</a> and <a href=\"/help/minimal-reproducible-example\">How to create a Minimal, Reproducible Example</a>. It&#39;s completely possibe but hard to say without any code to read."}],"owner":{"account_id":5500824,"reputation":1,"user_id":4370214,"display_name":"kartik s"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688480579,"creation_date":1688480579,"question_id":76613598,"body_markdown":"I am trying to make a custom XML diff checker and I am facing an issue consistently when using DOM in java.\r\nI have 2 DOM Documents to which I have parsed an XML file and the same XML file with modifications. I see that some times when using different files the Xpath is not able to return results to a nodelist thus the nodelist is having a length of 0.\r\n\r\nInstead while using the getElementByTagName API I am able to get consistent results\r\n\r\nI tried against various files and see that the issue is intermittent. Has anyone else seen this issue ?","title":"XPath in Java does not return the results intermittently","body":"<p>I am trying to make a custom XML diff checker and I am facing an issue consistently when using DOM in java.\nI have 2 DOM Documents to which I have parsed an XML file and the same XML file with modifications. I see that some times when using different files the Xpath is not able to return results to a nodelist thus the nodelist is having a length of 0.</p>\n<p>Instead while using the getElementByTagName API I am able to get consistent results</p>\n<p>I tried against various files and see that the issue is intermittent. Has anyone else seen this issue ?</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1688478510,"post_id":76613295,"comment_id":135077613,"body_markdown":"Can you please show your pom.xml or your build.gradle file?","body":"Can you please show your pom.xml or your build.gradle file?"},{"owner":{"account_id":25274131,"reputation":221,"user_id":19103040,"display_name":"beatfloraminederecho"},"score":0,"creation_date":1688478872,"post_id":76613295,"comment_id":135077721,"body_markdown":"@SimonMartinelli I just updated my question.","body":"@SimonMartinelli I just updated my question."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1688479033,"post_id":76613295,"comment_id":135077768,"body_markdown":"Why do you override the versions of spring-data-jpa and javax.persistence-api? You should use the tested configuration from spring Boot","body":"Why do you override the versions of spring-data-jpa and javax.persistence-api? You should use the tested configuration from spring Boot"},{"owner":{"account_id":25274131,"reputation":221,"user_id":19103040,"display_name":"beatfloraminederecho"},"score":0,"creation_date":1688479418,"post_id":76613295,"comment_id":135077844,"body_markdown":"Thanks I used the tested configuration from spring Boot. I still have the same problem","body":"Thanks I used the tested configuration from spring Boot. I still have the same problem"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1688479742,"post_id":76613295,"comment_id":135077913,"body_markdown":"Are you using ByteType in the code?","body":"Are you using ByteType in the code?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1688479869,"post_id":76613295,"comment_id":135077941,"body_markdown":"And which querydsl version are you using?","body":"And which querydsl version are you using?"},{"owner":{"account_id":25274131,"reputation":221,"user_id":19103040,"display_name":"beatfloraminederecho"},"score":0,"creation_date":1688479991,"post_id":76613295,"comment_id":135077961,"body_markdown":"I&#39;m using querydsl version 5.0.0. and I&#39;m not using the ByteType, This is the line that causes the error &#39; long total = query.fetchCount(); &#39;","body":"I&#39;m using querydsl version 5.0.0. and I&#39;m not using the ByteType, This is the line that causes the error &#39; long total = query.fetchCount(); &#39;"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1688480249,"post_id":76613295,"comment_id":135078028,"body_markdown":"can you please proivde the whole stack trace","body":"can you please proivde the whole stack trace"},{"owner":{"account_id":25274131,"reputation":221,"user_id":19103040,"display_name":"beatfloraminederecho"},"score":0,"creation_date":1688480558,"post_id":76613295,"comment_id":135078097,"body_markdown":"Question updated","body":"Question updated"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1688481602,"post_id":76613295,"comment_id":135078346,"body_markdown":"That&#39;s not the whole stacktrace","body":"That&#39;s not the whole stacktrace"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688493093,"post_id":76613295,"comment_id":135080387,"body_markdown":"Remove the `spring-data-jpa` dependency, remove the `persistence-api` dependency. Spring Boot 3 is for JakartaEE not JavaEE and the Spring Data JPA version you included is old as well. All the needed dependencies are already pulled in by `spring-boot-starter-data-jpa`.","body":"Remove the <code>spring-data-jpa</code> dependency, remove the <code>persistence-api</code> dependency. Spring Boot 3 is for JakartaEE not JavaEE and the Spring Data JPA version you included is old as well. All the needed dependencies are already pulled in by <code>spring-boot-starter-data-jpa</code>."}],"owner":{"account_id":25274131,"reputation":221,"user_id":19103040,"display_name":"beatfloraminederecho"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688480527,"creation_date":1688478370,"question_id":76613295,"body_markdown":"I am developing a Spring Boot application that uses Hibernate for data persistence. While trying to execute a specific query using Hibernate&#39;s fetchCount() method, I encountered the following error:\r\n\r\n    java.lang.NoClassDefFoundError: org/hibernate/type/ByteType\r\n\r\nHere&#39;s the code snippet where the error is occurring:\r\n\r\n    // This is the line that causes the error\r\n    long total = query.fetchCount();\r\n\r\nI suspect there might be some version mismatch that I&#39;m overlooking.\r\n\r\nThis is my pom.xml:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.3&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.32&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\r\n            &lt;version&gt;6.20.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;version&gt;20220924&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt; &lt;!-- or jjwt-gson if Gson is preferred --&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;querydsl-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${querydsl.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\r\n            &lt;version&gt;${querydsl.version}&lt;/version&gt;\r\n            &lt;classifier&gt;jakarta&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;querydsl-sql&lt;/artifactId&gt;\r\n            &lt;version&gt;${querydsl.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;querydsl-sql-spring&lt;/artifactId&gt;\r\n            &lt;version&gt;${querydsl.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\r\n            &lt;version&gt;${querydsl.version}&lt;/version&gt;\r\n            &lt;classifier&gt;jakarta&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;layout&gt;ZIP&lt;/layout&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;annotationProcessorPaths&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n                            &lt;version&gt;0.2.0&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n                            &lt;version&gt;2.2.3&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                    &lt;/annotationProcessorPaths&gt;\r\n                    &lt;showWarnings&gt;true&lt;/showWarnings&gt;\r\n                    &lt;compilerArgs&gt;\r\n                        &lt;arg&gt;\r\n                            -Amapstruct.suppressGeneratorTimestamp=true\r\n                        &lt;/arg&gt;\r\n                        &lt;arg&gt;\r\n                            -Amapstruct.suppressGeneratorVersionInfoComment=true\r\n                        &lt;/arg&gt;\r\n                        &lt;arg&gt;\r\n                            -Amapstruct.verbose=true\r\n                        &lt;/arg&gt;\r\n                    &lt;/compilerArgs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.3&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;process&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;target/generated-sources/java&lt;/outputDirectory&gt;\r\n                            &lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\nAnd this is my stack trace :\r\n\r\n        Processing method: getAllFiltered\r\n    2023-07-04T15:19:39,125 INFO  [http-nio-8080-exec-10] m.n.t.a.LoggingAspect:83: *****************************************************************************\r\n    2023-07-04T15:19:39,126 INFO  [http-nio-8080-exec-10] m.n.t.a.LoggingAspect:107: ip 172.25.20.171 Enter: getAllFiltered() with argument[s] = [null,null,null,null,1,10] and files = []\r\n    2023-07-04T15:19:39,298 INFO  [http-nio-8080-exec-10] m.n.t.a.LoggingAspect:121: *****************************************************************************\r\n    2023-07-04T15:19:39,300 ERROR [http-nio-8080-exec-10] m.n.t.e.ControllerAdvice:40: UNHANDLED EXCEPTION:\r\n    2023-07-04T15:19:39,300 ERROR [http-nio-8080-exec-10] m.n.t.e.ControllerAdvice:41: Unhandled Exception name: jakarta.servlet.ServletException: Handler dispatch failed: java.lang.NoClassDefFoundError: org/hibernate/type/ByteType\r\n    2023-07-04T15:19:39,300 ERROR [http-nio-8080-exec-10] m.n.t.e.ControllerAdvice:42: Unhandled Exception message: Handler dispatch failed: java.lang.NoClassDefFoundError: org/hibernate/type/ByteType\r\n    2023-07-04T15:19:39,300 INFO  [http-nio-8080-exec-10] m.n.t.e.ControllerAdvice:44: Printing Exception stack: \r\n    2023-07-04T15:19:39,301 ERROR [http-nio-8080-exec-10] m.n.t.e.ControllerAdvice:49: org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1096)org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\r\norg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\r\norg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\njakarta.servlet.http.HttpServlet.service(HttpServlet.java:705)\r\norg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\njakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)\r\n\r\nCan someone please help me identify the cause of this error and suggest a solution to resolve it? Any assistance would be greatly appreciated.\r\n\r\nThank you!\r\n\r\n","title":"java.lang.NoClassDefFoundError: org/hibernate/type/ByteType in Spring Boot 3 with Hibernate","body":"<p>I am developing a Spring Boot application that uses Hibernate for data persistence. While trying to execute a specific query using Hibernate's fetchCount() method, I encountered the following error:</p>\n<pre><code>java.lang.NoClassDefFoundError: org/hibernate/type/ByteType\n</code></pre>\n<p>Here's the code snippet where the error is occurring:</p>\n<pre><code>// This is the line that causes the error\nlong total = query.fetchCount();\n</code></pre>\n<p>I suspect there might be some version mismatch that I'm overlooking.</p>\n<p>This is my pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.3&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n        &lt;version&gt;8.0.32&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n        &lt;version&gt;4.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n        &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n        &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\n        &lt;version&gt;6.20.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n        &lt;version&gt;2.0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\n        &lt;version&gt;20220924&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n        &lt;version&gt;0.11.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n        &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt; &lt;!-- or jjwt-gson if Gson is preferred --&gt;\n        &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n        &lt;version&gt;2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n        &lt;artifactId&gt;querydsl-core&lt;/artifactId&gt;\n        &lt;version&gt;${querydsl.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n        &lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\n        &lt;version&gt;${querydsl.version}&lt;/version&gt;\n        &lt;classifier&gt;jakarta&lt;/classifier&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n        &lt;artifactId&gt;querydsl-sql&lt;/artifactId&gt;\n        &lt;version&gt;${querydsl.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n        &lt;artifactId&gt;querydsl-sql-spring&lt;/artifactId&gt;\n        &lt;version&gt;${querydsl.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n        &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\n        &lt;version&gt;${querydsl.version}&lt;/version&gt;\n        &lt;classifier&gt;jakarta&lt;/classifier&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;layout&gt;ZIP&lt;/layout&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                    &lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;annotationProcessorPaths&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;version&gt;${lombok.version}&lt;/version&gt;\n                    &lt;/path&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                        &lt;version&gt;0.2.0&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n                        &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n                        &lt;version&gt;2.2.3&lt;/version&gt;\n                    &lt;/path&gt;\n                &lt;/annotationProcessorPaths&gt;\n                &lt;showWarnings&gt;true&lt;/showWarnings&gt;\n                &lt;compilerArgs&gt;\n                    &lt;arg&gt;\n                        -Amapstruct.suppressGeneratorTimestamp=true\n                    &lt;/arg&gt;\n                    &lt;arg&gt;\n                        -Amapstruct.suppressGeneratorVersionInfoComment=true\n                    &lt;/arg&gt;\n                    &lt;arg&gt;\n                        -Amapstruct.verbose=true\n                    &lt;/arg&gt;\n                &lt;/compilerArgs&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.1.3&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;process&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;outputDirectory&gt;target/generated-sources/java&lt;/outputDirectory&gt;\n                        &lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>And this is my stack trace :</p>\n<pre><code>    Processing method: getAllFiltered\n2023-07-04T15:19:39,125 INFO  [http-nio-8080-exec-10] m.n.t.a.LoggingAspect:83: *****************************************************************************\n2023-07-04T15:19:39,126 INFO  [http-nio-8080-exec-10] m.n.t.a.LoggingAspect:107: ip 172.25.20.171 Enter: getAllFiltered() with argument[s] = [null,null,null,null,1,10] and files = []\n2023-07-04T15:19:39,298 INFO  [http-nio-8080-exec-10] m.n.t.a.LoggingAspect:121: *****************************************************************************\n2023-07-04T15:19:39,300 ERROR [http-nio-8080-exec-10] m.n.t.e.ControllerAdvice:40: UNHANDLED EXCEPTION:\n2023-07-04T15:19:39,300 ERROR [http-nio-8080-exec-10] m.n.t.e.ControllerAdvice:41: Unhandled Exception name: jakarta.servlet.ServletException: Handler dispatch failed: java.lang.NoClassDefFoundError: org/hibernate/type/ByteType\n2023-07-04T15:19:39,300 ERROR [http-nio-8080-exec-10] m.n.t.e.ControllerAdvice:42: Unhandled Exception message: Handler dispatch failed: java.lang.NoClassDefFoundError: org/hibernate/type/ByteType\n2023-07-04T15:19:39,300 INFO  [http-nio-8080-exec-10] m.n.t.e.ControllerAdvice:44: Printing Exception stack: \n2023-07-04T15:19:39,301 ERROR [http-nio-8080-exec-10] m.n.t.e.ControllerAdvice:49: org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1096)org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n</code></pre>\n<p>org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\norg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\njakarta.servlet.http.HttpServlet.service(HttpServlet.java:705)\norg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\njakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)</p>\n<p>Can someone please help me identify the cause of this error and suggest a solution to resolve it? Any assistance would be greatly appreciated.</p>\n<p>Thank you!</p>\n"},{"tags":["java","maven","gson"],"comments":[{"owner":{"account_id":20707208,"reputation":37,"user_id":15204779,"display_name":"Davide Borrello"},"score":0,"creation_date":1688478710,"post_id":76613150,"comment_id":135077672,"body_markdown":"Unfortunately not.\nI understood the kind of problem but in maven I don&#39;t know how to fix it.","body":"Unfortunately not. I understood the kind of problem but in maven I don&#39;t know how to fix it."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1688479301,"post_id":76613150,"comment_id":135077818,"body_markdown":"@DavideBorrello Then ask *that* question. The question you asked now is indeed a duplicate.","body":"@DavideBorrello Then ask <i>that</i> question. The question you asked now is indeed a duplicate."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1688479420,"post_id":76613150,"comment_id":135077846,"body_markdown":"If you want more help, you need to share the Maven script that built the jar, and any relevant dependencies. Most likely you just need to add the Gson jar to the classpath when calling `java -jar`","body":"If you want more help, you need to share the Maven script that built the jar, and any relevant dependencies. Most likely you just need to add the Gson jar to the classpath when calling <code>java -jar</code>"},{"owner":{"account_id":20707208,"reputation":37,"user_id":15204779,"display_name":"Davide Borrello"},"score":0,"creation_date":1688480522,"post_id":76613150,"comment_id":135078090,"body_markdown":"@jorn i added part of pom.xml\n\nMaybe write &lt;classpath&gt; in the pom isn&#39;t efficient way.","body":"@jorn i added part of pom.xml  Maybe write &lt;classpath&gt; in the pom isn&#39;t efficient way."},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1688504270,"post_id":76613150,"comment_id":135081847,"body_markdown":"This actually sounds more like a duplicate of https://stackoverflow.com/q/574594","body":"This actually sounds more like a duplicate of <a href=\"https://stackoverflow.com/q/574594\">stackoverflow.com/q/574594</a>"}],"owner":{"account_id":20707208,"reputation":37,"user_id":15204779,"display_name":"Davide Borrello"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1688479306,"answer_count":0,"score":0,"last_activity_date":1688480451,"creation_date":1688477345,"question_id":76613150,"body_markdown":"When i run my project i get this error:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X6hp7.png\r\n\r\nWhy i get this?\r\n\r\nI include this in the pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n      &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n      &lt;version&gt;2.10.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Include a External library in my Maven Project","body":"<p>When i run my project i get this error:\n<a href=\"https://i.stack.imgur.com/X6hp7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X6hp7.png\" alt=\"enter image description here\" /></a></p>\n<p>Why i get this?</p>\n<p>I include this in the pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n  &lt;artifactId&gt;gson&lt;/artifactId&gt;\n  &lt;version&gt;2.10.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","selenium-webdriver","cucumber"],"owner":{"account_id":9718904,"reputation":11,"user_id":22077359,"display_name":"asn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688480256,"creation_date":1688479723,"question_id":76613483,"body_markdown":"I am trying to execute a Cucumber test in VSCode but I&#39;m getting error: &quot;package org.junit.runner does not exist import org.junit.runner.RunWith;&quot;\r\n\r\nThe same Cucumber project runs in Eclipse IDE without any issue. But when I run the Cucumber project in VSCode it gives error.\r\n\r\nMy JUnit Dependency in pom.xml\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;junit&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    &lt;version&gt;4.12&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nMy JUnit Runner:\r\n\r\n    package testRunners;\r\n    \r\n    import org.junit.runner.RunWith;\r\n    import io.cucumber.junit.Cucumber;\r\n    import io.cucumber.junit.CucumberOptions;\r\n    \r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(features = {&quot;src/test/resources/features/cucumberexpressions_1.feature&quot;}, \r\n                         glue = {&quot;com.stepdefinitions&quot;, &quot;utility&quot;},\r\n              \t\t   plugin = {&quot;pretty&quot;, &quot;html:target/cucumber&quot;},\r\n                   \t   tags = &quot;@tag and @tag1&quot;,\r\n                       monochrome = true)\r\n    public class TestRunner_SamplePage \r\n    {\r\n    \r\n    }\r\n\r\n","title":"Cucumber Runner issue in VSCode IDE","body":"<p>I am trying to execute a Cucumber test in VSCode but I'm getting error: &quot;package org.junit.runner does not exist import org.junit.runner.RunWith;&quot;</p>\n<p>The same Cucumber project runs in Eclipse IDE without any issue. But when I run the Cucumber project in VSCode it gives error.</p>\n<p>My JUnit Dependency in pom.xml</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;junit&lt;/groupId&gt;\n&lt;artifactId&gt;junit&lt;/artifactId&gt;\n&lt;version&gt;4.12&lt;/version&gt;\n&lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>My JUnit Runner:</p>\n<pre><code>package testRunners;\n\nimport org.junit.runner.RunWith;\nimport io.cucumber.junit.Cucumber;\nimport io.cucumber.junit.CucumberOptions;\n\n@RunWith(Cucumber.class)\n@CucumberOptions(features = {&quot;src/test/resources/features/cucumberexpressions_1.feature&quot;}, \n                     glue = {&quot;com.stepdefinitions&quot;, &quot;utility&quot;},\n                   plugin = {&quot;pretty&quot;, &quot;html:target/cucumber&quot;},\n                   tags = &quot;@tag and @tag1&quot;,\n                   monochrome = true)\npublic class TestRunner_SamplePage \n{\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-kafka"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688458641,"post_id":76610495,"comment_id":135073303,"body_markdown":"Does this answer your question? [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688458776,"post_id":76610495,"comment_id":135073332,"body_markdown":"What&#39;s the source code of `public default void com.lightspeed.hospitality.orderpay.app.kafka.consumers.GenericConsumer.onRawEvent(org.apache.kafka.clients.consumer.ConsumerRecord&lt;java.lang.String, byte[]&gt;)`? What&#39;s `handlerReturnsMessage` and how are items added to it?","body":"What&#39;s the source code of <code>public default void com.lightspeed.hospitality.orderpay.app.kafka.consumers.Gene&zwnj;&#8203;ricConsumer.onRawEve&zwnj;&#8203;nt(org.apache.kafka.&zwnj;&#8203;clients.consumer.Con&zwnj;&#8203;sumerRecord&lt;java.lan&zwnj;&#8203;g.String, byte[]&gt;)</code>? What&#39;s <code>handlerReturnsMessage</code> and how are items added to it?"},{"owner":{"account_id":4329425,"reputation":63,"user_id":3535323,"display_name":"rmrt"},"score":0,"creation_date":1688461480,"post_id":76610495,"comment_id":135073928,"body_markdown":"`handlerReturnsMessage` is the spring-kafka code. Refer [to this code](https://github.com/spring-projects/spring-kafka/blob/v2.8.6/spring-kafka/src/main/java/org/springframework/kafka/listener/adapter/DelegatingInvocableHandler.java#L204). The `onRawEvent` code doesnt really matter since its not even reach that part yet, it already fails at spring-kafka `invoke` code (it cant find the handler method). But again, this is only happen once (always after new deployment, but not at all pods, and not always occur at every new deploy), the next seek (I guesss the same offset record) works properly.","body":"<code>handlerReturnsMessage</code> is the spring-kafka code. Refer <a href=\"https://github.com/spring-projects/spring-kafka/blob/v2.8.6/spring-kafka/src/main/java/org/springframework/kafka/listener/adapter/DelegatingInvocableHandler.java#L204\" rel=\"nofollow noreferrer\">to this code</a>. The <code>onRawEvent</code> code doesnt really matter since its not even reach that part yet, it already fails at spring-kafka <code>invoke</code> code (it cant find the handler method). But again, this is only happen once (always after new deployment, but not at all pods, and not always occur at every new deploy), the next seek (I guesss the same offset record) works properly."},{"owner":{"account_id":4329425,"reputation":63,"user_id":3535323,"display_name":"rmrt"},"score":0,"creation_date":1688461729,"post_id":76610495,"comment_id":135073983,"body_markdown":"@tgdavies for the first comment -&gt; no, because my question is more toward spring-kafka behavior. Not the NPE itself. I know the cause, but I don&#39;t know why spring-kafka handler map can return null.","body":"@tgdavies for the first comment -&gt; no, because my question is more toward spring-kafka behavior. Not the NPE itself. I know the cause, but I don&#39;t know why spring-kafka handler map can return null."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688462685,"post_id":76610495,"comment_id":135074181,"body_markdown":"Well there&#39;s a race in `getHandlerForPayload` where one thread has done `this.cachedHandlers.putIfAbsent(payloadClass, handler)` but `setupReplyTo(handler)` hasn&#39;t completed, and the second thread sees that `this.cachedHandlers.get(payloadClass)` is non null. Perhaps that&#39;s the problem.","body":"Well there&#39;s a race in <code>getHandlerForPayload</code> where one thread has done <code>this.cachedHandlers.putIfAbsent(payloadClass, handler)</code> but <code>setupReplyTo(handler)</code> hasn&#39;t completed, and the second thread sees that <code>this.cachedHandlers.get(payloadClass)</code> is non null. Perhaps that&#39;s the problem."},{"owner":{"account_id":4329425,"reputation":63,"user_id":3535323,"display_name":"rmrt"},"score":0,"creation_date":1688478056,"post_id":76610495,"comment_id":135077490,"body_markdown":"Can elaborate more?\n\nThe `setupReplyTo` executed after `putIfAbsent` and it doesnt seems to be async until it finish the `this.handlerReturnsMessage.put`\n\nAnd that executed at `InvocableHandlerMethod handler = getHandlerForPayload(payloadClass);` right? The `cachedHandlers` is just a ConcurrentMap","body":"Can elaborate more?  The <code>setupReplyTo</code> executed after <code>putIfAbsent</code> and it doesnt seems to be async until it finish the <code>this.handlerReturnsMessage.put</code>  And that executed at <code>InvocableHandlerMethod handler = getHandlerForPayload(payloadClass);</code> right? The <code>cachedHandlers</code> is just a ConcurrentMap"}],"answers":[{"comments":[{"owner":{"account_id":4329425,"reputation":63,"user_id":3535323,"display_name":"rmrt"},"score":0,"creation_date":1688481119,"post_id":76613534,"comment_id":135078233,"body_markdown":"Ah okay, that makes sense. thank you for the explanation, I will check if it is indeed the problem.","body":"Ah okay, that makes sense. thank you for the explanation, I will check if it is indeed the problem."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1688568024,"post_id":76613534,"comment_id":135091252,"body_markdown":"@tgdavies - thanks for the analysis https://github.com/spring-projects/spring-kafka/issues/2723 Please note that 2.8.x is no longer supported as OSS https://spring.io/projects/spring-kafka#support  - the fix will be in 2.9.10 and 3.0.9. 2.9.x is compatible with Boot 2.7.x.","body":"@tgdavies - thanks for the analysis <a href=\"https://github.com/spring-projects/spring-kafka/issues/2723\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-kafka/issues/2723</a> Please note that 2.8.x is no longer supported as OSS <a href=\"https://spring.io/projects/spring-kafka#support\" rel=\"nofollow noreferrer\">spring.io/projects/spring-kafka#support</a>  - the fix will be in 2.9.10 and 3.0.9. 2.9.x is compatible with Boot 2.7.x."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688593838,"post_id":76613534,"comment_id":135096200,"body_markdown":"@GaryRussell no worries. I guess the fix is just to move the `setupReplyTo` call before the  `putIfAbsent`, but I don&#39;t really have the context...","body":"@GaryRussell no worries. I guess the fix is just to move the <code>setupReplyTo</code> call before the  <code>putIfAbsent</code>, but I don&#39;t really have the context..."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1688642314,"post_id":76613534,"comment_id":135102783,"body_markdown":"Yep, already fixed it that way.","body":"Yep, already fixed it that way."}],"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688480115,"creation_date":1688480115,"answer_id":76613534,"question_id":76610495,"body_markdown":"This is one possible scenario which can cause the the NPE you are seeing. You&#39;ll need to look at your logging to see whether it is happening like this.\r\n\r\nThe `DelegatingInvocableHandler` class is completely asynchronous, other than using some `CocurrentHashMap`s.\r\n\r\nTwo threads, T1 and T2 call `invoke` concurrently. They are processing two different messages, of the same type.\r\nAt this point `handlerReturnsMessage` and `cachedHandlers` are empty.\r\n\r\nT1 enters `getHandlerForPayload`, `this.cachedHandlers.get(payloadClass)` returns null, so T1 enters the `if` block.\r\nT1 caches the handler `this.cachedHandlers.putIfAbsent(payloadClass, handler)`.\r\n\r\nT2 enters `getHandlerForPayload`, `this.cachedHandlers.get(payloadClass)` returns non-null, so T2 just returns the handler.\r\n\r\nT2 reaches `return new InvocationResult(result, replyTo, this.handlerReturnsMessage.get(handler))`. The Map `handlerReturnsMessage` is still empty, so an NPE results.\r\n\r\nT1 executes `setupReplyTo(handler)`. Now `handlerReturnsMessage` is no longer empty.","title":"Single NullPointerException at spring-kafka startup","body":"<p>This is one possible scenario which can cause the the NPE you are seeing. You'll need to look at your logging to see whether it is happening like this.</p>\n<p>The <code>DelegatingInvocableHandler</code> class is completely asynchronous, other than using some <code>CocurrentHashMap</code>s.</p>\n<p>Two threads, T1 and T2 call <code>invoke</code> concurrently. They are processing two different messages, of the same type.\nAt this point <code>handlerReturnsMessage</code> and <code>cachedHandlers</code> are empty.</p>\n<p>T1 enters <code>getHandlerForPayload</code>, <code>this.cachedHandlers.get(payloadClass)</code> returns null, so T1 enters the <code>if</code> block.\nT1 caches the handler <code>this.cachedHandlers.putIfAbsent(payloadClass, handler)</code>.</p>\n<p>T2 enters <code>getHandlerForPayload</code>, <code>this.cachedHandlers.get(payloadClass)</code> returns non-null, so T2 just returns the handler.</p>\n<p>T2 reaches <code>return new InvocationResult(result, replyTo, this.handlerReturnsMessage.get(handler))</code>. The Map <code>handlerReturnsMessage</code> is still empty, so an NPE results.</p>\n<p>T1 executes <code>setupReplyTo(handler)</code>. Now <code>handlerReturnsMessage</code> is no longer empty.</p>\n"}],"owner":{"account_id":4329425,"reputation":63,"user_id":3535323,"display_name":"rmrt"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":464,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76613534,"answer_count":1,"score":0,"last_activity_date":1688480115,"creation_date":1688457627,"question_id":76610495,"body_markdown":"In my prod environment, I got this inconsistent NPE when consuming kafka record.\r\nIt only happened once and only happened after startup.\r\nIt does not always happen and from multiple pods only a single pod gives this issue at startup.\r\n\r\nThe error triggered around 3 seconds after spring logged the `Started (myapplication) in xx seconds` message and it only happened one time at that single deployment. Then when I deploy again, it happen again.\r\n\r\nI don&#39;t think this is a configuration problem since it works fine after that single exception. I am not sure if the record re-processed after that, but I assume it is since it is not commited.\r\n\r\nThe root cause exception:\r\n\r\n```\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.Boolean.booleanValue()&quot; because the return value of &quot;java.util.Map.get(Object)&quot; is null\r\n\tat org.springframework.kafka.listener.adapter.DelegatingInvocableHandler.invoke(DelegatingInvocableHandler.java:204)\r\n```\r\n\r\nThe thrown exception:\r\n```\r\norg.springframework.kafka.KafkaException: Seek to current after exception; nested exception is org.springframework.kafka.listener.ListenerExecutionFailedException: Listener method &#39;public default void com.lightspeed.hospitality.orderpay.app.kafka.consumers.GenericConsumer.onRawEvent(org.apache.kafka.clients.consumer.ConsumerRecord&lt;java.lang.String, byte[]&gt;)&#39; threw exception; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.lang.Boolean.booleanValue()&quot; because the return value of &quot;java.util.Map.get(Object)&quot; is null; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.lang.Boolean.booleanValue()&quot; because the return value of &quot;java.util.Map.get(Object)&quot; is null\r\n\tat org.springframework.kafka.listener.SeekUtils.seekOrRecover(SeekUtils.java:208)\r\n```\r\n\r\nFor my consumer I use:\r\n`@KafkaListener` at my class and the method I use:\r\n```\r\n@KafkaHandler(isDefault = true)\r\nvoid onRawEvent(ConsumerRecord&lt;String, byte[]&gt; consumerRecord) \r\n```\r\n\r\nDoes anyone get an idea of where to investigate? I checked spring-kafka code but going nowhere so far.\r\n\r\nThe issue caused by:\r\n`return new InvocationResult(result, replyTo, this.handlerReturnsMessage.get(handler));`\r\n\r\nwhen it execute `this.handlerReturnsMessage.get(handler)` it returns `null` thus it cannot unbox to the primitive `boolean`. But I still have no clue why it happened or if it is a bug.\r\n\r\nWhat I use:\r\n- spring-boot 2.7.0\r\n- spring-kafka 2.8.6\r\n- kafka-clients 3.0.1","title":"Single NullPointerException at spring-kafka startup","body":"<p>In my prod environment, I got this inconsistent NPE when consuming kafka record.\nIt only happened once and only happened after startup.\nIt does not always happen and from multiple pods only a single pod gives this issue at startup.</p>\n<p>The error triggered around 3 seconds after spring logged the <code>Started (myapplication) in xx seconds</code> message and it only happened one time at that single deployment. Then when I deploy again, it happen again.</p>\n<p>I don't think this is a configuration problem since it works fine after that single exception. I am not sure if the record re-processed after that, but I assume it is since it is not commited.</p>\n<p>The root cause exception:</p>\n<pre><code>Caused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.Boolean.booleanValue()&quot; because the return value of &quot;java.util.Map.get(Object)&quot; is null\n    at org.springframework.kafka.listener.adapter.DelegatingInvocableHandler.invoke(DelegatingInvocableHandler.java:204)\n</code></pre>\n<p>The thrown exception:</p>\n<pre><code>org.springframework.kafka.KafkaException: Seek to current after exception; nested exception is org.springframework.kafka.listener.ListenerExecutionFailedException: Listener method 'public default void com.lightspeed.hospitality.orderpay.app.kafka.consumers.GenericConsumer.onRawEvent(org.apache.kafka.clients.consumer.ConsumerRecord&lt;java.lang.String, byte[]&gt;)' threw exception; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.lang.Boolean.booleanValue()&quot; because the return value of &quot;java.util.Map.get(Object)&quot; is null; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.lang.Boolean.booleanValue()&quot; because the return value of &quot;java.util.Map.get(Object)&quot; is null\n    at org.springframework.kafka.listener.SeekUtils.seekOrRecover(SeekUtils.java:208)\n</code></pre>\n<p>For my consumer I use:\n<code>@KafkaListener</code> at my class and the method I use:</p>\n<pre><code>@KafkaHandler(isDefault = true)\nvoid onRawEvent(ConsumerRecord&lt;String, byte[]&gt; consumerRecord) \n</code></pre>\n<p>Does anyone get an idea of where to investigate? I checked spring-kafka code but going nowhere so far.</p>\n<p>The issue caused by:\n<code>return new InvocationResult(result, replyTo, this.handlerReturnsMessage.get(handler));</code></p>\n<p>when it execute <code>this.handlerReturnsMessage.get(handler)</code> it returns <code>null</code> thus it cannot unbox to the primitive <code>boolean</code>. But I still have no clue why it happened or if it is a bug.</p>\n<p>What I use:</p>\n<ul>\n<li>spring-boot 2.7.0</li>\n<li>spring-kafka 2.8.6</li>\n<li>kafka-clients 3.0.1</li>\n</ul>\n"},{"tags":["java","aws-lambda","amazon-kinesis","amazon-opensearch","amazon-kinesis-analytics"],"owner":{"account_id":14942764,"reputation":15,"user_id":10788912,"display_name":"rollercoaster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688479729,"creation_date":1688479729,"question_id":76613486,"body_markdown":"I&#39;m having some issues publishing the logs from CloudWatch -&gt; Kinesis Stream -&gt; Kinesis Delivery Stream -&gt; Transformation Lambda -&gt; AWS OpenSearch. While the documentation is straightforward i struggle with the transformation lambda and insertion to OpenSearch. \r\n\r\n\r\n\r\n\r\nThe error i&#39;m getting is the following: \r\n\r\n`Multiple records were returned with the same record Id. Ensure that the Lambda function returns a unique record Id for each record.`\r\n\r\nwhat i do in my lambda is the following: \r\n\r\n\r\n```\r\npublic DataTransformationLambda.TransformedResult handleRequest(final KinesisFirehoseEvent kinesisEvent, final Context context) {\r\n        context.getLogger().log(String.format(&quot;Date received: %s&quot;, kinesisEvent));\r\n\r\n        final DataTransformationLambda.TransformedResult transformedResult = new DataTransformationLambda.TransformedResult();\r\n        final List&lt;DataTransformationLambda.TransformedResult.Record&gt; records = new ArrayList&lt;&gt;();\r\n        for (final KinesisFirehoseEvent.Record record : kinesisEvent.getRecords()) {\r\n            try {\r\n                final byte[] payload = record.getData().array();\r\n                context.getLogger().log(String.format(&quot;Processing payload: %s&quot;, payload));\r\n                final ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(payload);\r\n                final GZIPInputStream gzipInputStream = new GZIPInputStream(byteArrayInputStream);\r\n                final InputStreamReader inputStreamReader = new InputStreamReader(gzipInputStream, StandardCharsets.UTF_8);\r\n                final BufferedReader bufferedReader = new BufferedReader(inputStreamReader);\r\n                String line;\r\n                ArrayNode nodes = objectMapper.createArrayNode();\r\n\r\n\r\n                while ((line = bufferedReader.readLine()) != null) {\r\n                    String decodedData = new String(line.getBytes(), StandardCharsets.UTF_8);\r\n                    context.getLogger().log(String.format(&quot;Decoded data: %s&quot;, decodedData));\r\n                    JsonNode jsonNode = DataTransformationLambda.objectMapper.readTree(line);\r\n                    ArrayNode logEvents = (ArrayNode) jsonNode.get(&quot;logEvents&quot;);\r\n\r\n                    logEvents.forEach(logEvent -&gt; {\r\n                        try {\r\n                            DataTransformationLambda.TransformedResult.Record newRecord = new DataTransformationLambda.TransformedResult.Record();\r\n                            newRecord.setRecordId(record.getRecordId());\r\n                            String logEventId = logEvent.get(&quot;id&quot;).asText();\r\n                            long timestamp = logEvent.get(&quot;timestamp&quot;).asLong();\r\n                            String message = logEvent.get(&quot;message&quot;).asText();\r\n                            ObjectNode objectNode = objectMapper.createObjectNode();\r\n                            Date date = new Date(timestamp);\r\n                            objectNode.put(&quot;logEventId&quot;, logEventId);\r\n                            objectNode.put(&quot;timestamp&quot;, timestamp);\r\n                            objectNode.put(&quot;message&quot;, message);\r\n                            String objectNodeString = objectNode.toString();\r\n\r\n                            String encodedNode = Base64.getEncoder().encodeToString(objectNodeString.getBytes(StandardCharsets.UTF_8));\r\n                            newRecord.setData(encodedNode);\r\n                            newRecord.setResult(&quot;Ok&quot;);\r\n                            records.add(newRecord);\r\n                        } catch (Exception e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            catch (Exception e2) {\r\n                e2.printStackTrace();\r\n                context.getLogger().log(String.format(&quot;Error while processing: %s&quot;, e2.getMessage()));\r\n            }\r\n        }\r\n        context.getLogger().log(String.format(&quot;Records: %s&quot;, records));\r\n        transformedResult.setRecords(records);\r\n        return transformedResult;\r\n    }\r\n```\r\nWhile i know that there can be only one unique recordId and those values need to match, but i need all of the logEvents to be queriable from AWS OpenSearch by timestamp. Is there a way doing it the way i try to do it?. Currently i haven&#39;t found any. The json content i get from the Firehose Event is: \r\n\r\n\r\n```\r\n{\r\n    &quot;owner&quot;: &quot;111111111111&quot;,\r\n    &quot;logGroup&quot;: &quot;CloudTrail/logs&quot;,\r\n    &quot;logStream&quot;: &quot;111111111111_CloudTrail/logs_us-east-1&quot;,\r\n    &quot;subscriptionFilters&quot;: [\r\n        &quot;Destination&quot;\r\n    ],\r\n    &quot;messageType&quot;: &quot;DATA_MESSAGE&quot;,\r\n    &quot;logEvents&quot;: [\r\n        {\r\n            &quot;id&quot;: &quot;31953106606966983378809025079804211143289615424298221568&quot;,\r\n            &quot;timestamp&quot;: 1432826855000,\r\n            &quot;message&quot;: &quot;{\\&quot;eventVersion\\&quot;:\\&quot;1.03\\&quot;,\\&quot;userIdentity\\&quot;:{\\&quot;type\\&quot;:\\&quot;Root\\&quot;}&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;31953106606966983378809025079804211143289615424298221569&quot;,\r\n            &quot;timestamp&quot;: 1432826855000,\r\n            &quot;message&quot;: &quot;{\\&quot;eventVersion\\&quot;:\\&quot;1.03\\&quot;,\\&quot;userIdentity\\&quot;:{\\&quot;type\\&quot;:\\&quot;Root\\&quot;}&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;31953106606966983378809025079804211143289615424298221570&quot;,\r\n            &quot;timestamp&quot;: 1432826855000,\r\n            &quot;message&quot;: &quot;{\\&quot;eventVersion\\&quot;:\\&quot;1.03\\&quot;,\\&quot;userIdentity\\&quot;:{\\&quot;type\\&quot;:\\&quot;Root\\&quot;}&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\nand i need all of the logEvents to be separate message, at least they need to apear like that in OpenSearch","title":"AWS Kinesis Firehose, Transformation Lambda and OpenSearch log processing","body":"<p>I'm having some issues publishing the logs from CloudWatch -&gt; Kinesis Stream -&gt; Kinesis Delivery Stream -&gt; Transformation Lambda -&gt; AWS OpenSearch. While the documentation is straightforward i struggle with the transformation lambda and insertion to OpenSearch.</p>\n<p>The error i'm getting is the following:</p>\n<p><code>Multiple records were returned with the same record Id. Ensure that the Lambda function returns a unique record Id for each record.</code></p>\n<p>what i do in my lambda is the following:</p>\n<pre><code>public DataTransformationLambda.TransformedResult handleRequest(final KinesisFirehoseEvent kinesisEvent, final Context context) {\n        context.getLogger().log(String.format(&quot;Date received: %s&quot;, kinesisEvent));\n\n        final DataTransformationLambda.TransformedResult transformedResult = new DataTransformationLambda.TransformedResult();\n        final List&lt;DataTransformationLambda.TransformedResult.Record&gt; records = new ArrayList&lt;&gt;();\n        for (final KinesisFirehoseEvent.Record record : kinesisEvent.getRecords()) {\n            try {\n                final byte[] payload = record.getData().array();\n                context.getLogger().log(String.format(&quot;Processing payload: %s&quot;, payload));\n                final ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(payload);\n                final GZIPInputStream gzipInputStream = new GZIPInputStream(byteArrayInputStream);\n                final InputStreamReader inputStreamReader = new InputStreamReader(gzipInputStream, StandardCharsets.UTF_8);\n                final BufferedReader bufferedReader = new BufferedReader(inputStreamReader);\n                String line;\n                ArrayNode nodes = objectMapper.createArrayNode();\n\n\n                while ((line = bufferedReader.readLine()) != null) {\n                    String decodedData = new String(line.getBytes(), StandardCharsets.UTF_8);\n                    context.getLogger().log(String.format(&quot;Decoded data: %s&quot;, decodedData));\n                    JsonNode jsonNode = DataTransformationLambda.objectMapper.readTree(line);\n                    ArrayNode logEvents = (ArrayNode) jsonNode.get(&quot;logEvents&quot;);\n\n                    logEvents.forEach(logEvent -&gt; {\n                        try {\n                            DataTransformationLambda.TransformedResult.Record newRecord = new DataTransformationLambda.TransformedResult.Record();\n                            newRecord.setRecordId(record.getRecordId());\n                            String logEventId = logEvent.get(&quot;id&quot;).asText();\n                            long timestamp = logEvent.get(&quot;timestamp&quot;).asLong();\n                            String message = logEvent.get(&quot;message&quot;).asText();\n                            ObjectNode objectNode = objectMapper.createObjectNode();\n                            Date date = new Date(timestamp);\n                            objectNode.put(&quot;logEventId&quot;, logEventId);\n                            objectNode.put(&quot;timestamp&quot;, timestamp);\n                            objectNode.put(&quot;message&quot;, message);\n                            String objectNodeString = objectNode.toString();\n\n                            String encodedNode = Base64.getEncoder().encodeToString(objectNodeString.getBytes(StandardCharsets.UTF_8));\n                            newRecord.setData(encodedNode);\n                            newRecord.setResult(&quot;Ok&quot;);\n                            records.add(newRecord);\n                        } catch (Exception e) {\n                            e.printStackTrace();\n                        }\n                    });\n                }\n            }\n            catch (Exception e2) {\n                e2.printStackTrace();\n                context.getLogger().log(String.format(&quot;Error while processing: %s&quot;, e2.getMessage()));\n            }\n        }\n        context.getLogger().log(String.format(&quot;Records: %s&quot;, records));\n        transformedResult.setRecords(records);\n        return transformedResult;\n    }\n</code></pre>\n<p>While i know that there can be only one unique recordId and those values need to match, but i need all of the logEvents to be queriable from AWS OpenSearch by timestamp. Is there a way doing it the way i try to do it?. Currently i haven't found any. The json content i get from the Firehose Event is:</p>\n<pre><code>{\n    &quot;owner&quot;: &quot;111111111111&quot;,\n    &quot;logGroup&quot;: &quot;CloudTrail/logs&quot;,\n    &quot;logStream&quot;: &quot;111111111111_CloudTrail/logs_us-east-1&quot;,\n    &quot;subscriptionFilters&quot;: [\n        &quot;Destination&quot;\n    ],\n    &quot;messageType&quot;: &quot;DATA_MESSAGE&quot;,\n    &quot;logEvents&quot;: [\n        {\n            &quot;id&quot;: &quot;31953106606966983378809025079804211143289615424298221568&quot;,\n            &quot;timestamp&quot;: 1432826855000,\n            &quot;message&quot;: &quot;{\\&quot;eventVersion\\&quot;:\\&quot;1.03\\&quot;,\\&quot;userIdentity\\&quot;:{\\&quot;type\\&quot;:\\&quot;Root\\&quot;}&quot;\n        },\n        {\n            &quot;id&quot;: &quot;31953106606966983378809025079804211143289615424298221569&quot;,\n            &quot;timestamp&quot;: 1432826855000,\n            &quot;message&quot;: &quot;{\\&quot;eventVersion\\&quot;:\\&quot;1.03\\&quot;,\\&quot;userIdentity\\&quot;:{\\&quot;type\\&quot;:\\&quot;Root\\&quot;}&quot;\n        },\n        {\n            &quot;id&quot;: &quot;31953106606966983378809025079804211143289615424298221570&quot;,\n            &quot;timestamp&quot;: 1432826855000,\n            &quot;message&quot;: &quot;{\\&quot;eventVersion\\&quot;:\\&quot;1.03\\&quot;,\\&quot;userIdentity\\&quot;:{\\&quot;type\\&quot;:\\&quot;Root\\&quot;}&quot;\n        }\n    ]\n}\n</code></pre>\n<p>and i need all of the logEvents to be separate message, at least they need to apear like that in OpenSearch</p>\n"},{"tags":["java","exception","junit","junit5","assertion"],"comments":[{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1643023189,"post_id":58269655,"comment_id":125221171,"body_markdown":"@Didier L: Thanks for finding the dupe :)","body":"@Didier L: Thanks for finding the dupe :)"}],"answers":[{"comments":[{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1570465729,"post_id":58271415,"comment_id":102913939,"body_markdown":"I didn&#39;t notice the `Assertions.assertThrows` returns the very same instance of the thrown exception. Thanks :)","body":"I didn&#39;t notice the <code>Assertions.assertThrows</code> returns the very same instance of the thrown exception. Thanks :)"},{"owner":{"account_id":135086,"reputation":709,"user_id":337666,"display_name":"Shrikant Prabhu"},"score":0,"creation_date":1592559229,"post_id":58271415,"comment_id":110474695,"body_markdown":"If you want to check if actual message contains a substring use following in JUnit5 ```MatcherAssert.assertThat(&quot;should contain expected message&quot;, actualException.getMessage(), containsString(&quot;&lt;desired substring goes here&gt;&quot;));```","body":"If you want to check if actual message contains a substring use following in JUnit5 <code>MatcherAssert.assertThat(&quot;should contain expected message&quot;, actualException.getMessage(), containsString(&quot;&lt;desired substring goes here&gt;&quot;));</code>"},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":1,"creation_date":1642791403,"post_id":58271415,"comment_id":125174614,"body_markdown":"Aaaand… that’s a nice RTFM in my face! &#128512;","body":"Aaaand… that’s a nice RTFM in my face! 😀"}],"tags":[],"owner":{"account_id":15731058,"reputation":1080,"user_id":11351392,"display_name":"lotor"},"comment_count":3,"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1688479590,"creation_date":1570457735,"answer_id":58271415,"question_id":58269655,"body_markdown":"The `assertThrows()` method **returns** an exception instance of the expected type (if any). You can then manually get a message from it and check if it starts with the string you desire. \r\n\r\nHere is a sample from [doc](https://junit.org/junit5/docs/5.5.2/user-guide/#writing-tests-assertions)\r\n\r\n    @Test\r\n    void exceptionTesting() {\r\n        Exception exception = assertThrows(ArithmeticException.class, () -&gt;\r\n            calculator.divide(1, 0));\r\n        assertEquals(&quot;/ by zero&quot;, exception.getMessage());\r\n    }","title":"How to use jUnit 5 Assertions to check, whether exception message starts with a String?","body":"<p>The <code>assertThrows()</code> method <strong>returns</strong> an exception instance of the expected type (if any). You can then manually get a message from it and check if it starts with the string you desire.</p>\n<p>Here is a sample from <a href=\"https://junit.org/junit5/docs/5.5.2/user-guide/#writing-tests-assertions\" rel=\"nofollow noreferrer\">doc</a></p>\n<pre><code>@Test\nvoid exceptionTesting() {\n    Exception exception = assertThrows(ArithmeticException.class, () -&gt;\n        calculator.divide(1, 0));\n    assertEquals(&quot;/ by zero&quot;, exception.getMessage());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1570465683,"post_id":58273193,"comment_id":102913913,"body_markdown":"It&#39;s a bad-structured broad legacy code that I am not likely to refactor. I understand the reason behind your answer and we need the message of the exception for the log purposes. I only test whether a correct text is returned. Yet your answer is good, totally valid and I am aware of it, it doesn&#39;t solve the problem. Have my +1 anyway.","body":"It&#39;s a bad-structured broad legacy code that I am not likely to refactor. I understand the reason behind your answer and we need the message of the exception for the log purposes. I only test whether a correct text is returned. Yet your answer is good, totally valid and I am aware of it, it doesn&#39;t solve the problem. Have my +1 anyway."}],"tags":[],"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1570464008,"creation_date":1570464008,"answer_id":58273193,"question_id":58269655,"body_markdown":"You should test the content of the message text of an exception only if that message is a specified part of the API of the unit you are testing. But it is questionable whether you should do that.\r\n\r\nThe [message text of exceptions should not normally be presented to users](https://stackoverflow.com/a/7320104/545127), as part of the UI of your application.\r\n\r\nSpecifying the content of the message text encourages clients of the API to parse that message text to learn specific information about the exceptional condition. This is tricky, error prone and unnecessary. In your case, clients might be tempted to parse the message text to extract the `date` value.\r\n\r\nInstead, [create a custom exception type](https://stackoverflow.com/questions/8423700/how-to-create-a-custom-exception-type-in-java) that more specifically describes the exceptional condition. In your case, you would want your custom exception class to extend `InvalidParameterException`. Your custom exception class could have a date field to make the additional data available. You unit test could check that the method under test throws an exception of the correct type, and that it has a date field with the correct value.","title":"How to use jUnit 5 Assertions to check, whether exception message starts with a String?","body":"<p>You should test the content of the message text of an exception only if that message is a specified part of the API of the unit you are testing. But it is questionable whether you should do that.</p>\n\n<p>The <a href=\"https://stackoverflow.com/a/7320104/545127\">message text of exceptions should not normally be presented to users</a>, as part of the UI of your application.</p>\n\n<p>Specifying the content of the message text encourages clients of the API to parse that message text to learn specific information about the exceptional condition. This is tricky, error prone and unnecessary. In your case, clients might be tempted to parse the message text to extract the <code>date</code> value.</p>\n\n<p>Instead, <a href=\"https://stackoverflow.com/questions/8423700/how-to-create-a-custom-exception-type-in-java\">create a custom exception type</a> that more specifically describes the exceptional condition. In your case, you would want your custom exception class to extend <code>InvalidParameterException</code>. Your custom exception class could have a date field to make the additional data available. You unit test could check that the method under test throws an exception of the correct type, and that it has a date field with the correct value.</p>\n"}],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19064,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"closed_date":1643023156,"accepted_answer_id":58271415,"answer_count":2,"score":11,"last_activity_date":1688479590,"creation_date":1570451704,"question_id":58269655,"body_markdown":"I use `org.junit.jupiter.api.Assertions` object to assert an exception is thrown:\r\n\r\n    Assertions.assertThrows(\r\n\t\t\tInvalidParameterException.class,\r\n\t\t\t() -&gt; new ThrowingExceptionClass().doSomethingDangerous());\r\n\r\nSimplified, the exception thrown has a variable part `dateTime` in its message:\r\n\r\n    final String message = String.format(&quot;Either request is too old [dateTime=%s]&quot;, date);\r\n    new InvalidParameterException(message);\r\n\r\nAs of version I use `5.4.0` the [`Assertions`][1] provide three methods checking the exception is thrown:\r\n\r\n - [`assertThrows​(Class&lt;T&gt; expectedType, Executable executable)`][2]\r\n - [`assertThrows​(Class&lt;T&gt; expectedType, Executable executable, String message)`][3]\r\n - [`assertThrows​(Class&lt;T&gt; expectedType, Executable executable, Supplier&lt;String&gt; messageSupplier)`][4]\r\n\r\nNeither of them provides a mechanism checking whether a String **starts with** another String. The last 2 methods only check whether the String is equal. How do I check easily whether the exception message starts with `&quot;Either request is too old&quot;` since more message variations might occur within the same `InvalidParameterException`?\r\n\r\n________\r\n\r\nI&#39;d appreciate a method `assertThrows​(Class&lt;T&gt; expectedType, Executable executable, Predicate&lt;String&gt; messagePredicate)` where the predicate would provide the thrown `message` and the assertion passes when if predicate returns `true` such as:\r\n\r\n    Assertions.assertThrows(\r\n        InvalidParameterException.class,\r\n        () -&gt; new ThrowingExceptionClass().doSomethingDangerous()\r\n        message -&gt; message.startsWith(&quot;Either request is too old&quot;));\r\n\r\nSadly, it doesn&#39;t exist. Any workaround?\r\n\r\n  [1]: https://junit.org/junit5/docs/5.4.0/api/org/junit/jupiter/api/Assertions.html\r\n  [2]: https://junit.org/junit5/docs/5.4.0/api/org/junit/jupiter/api/Assertions.html#assertThrows(java.lang.Class,org.junit.jupiter.api.function.Executable)\r\n  [3]: https://junit.org/junit5/docs/5.4.0/api/org/junit/jupiter/api/Assertions.html#assertThrows(java.lang.Class,org.junit.jupiter.api.function.Executable,java.lang.String)\r\n  [4]: https://junit.org/junit5/docs/5.4.0/api/org/junit/jupiter/api/Assertions.html#assertThrows(java.lang.Class,org.junit.jupiter.api.function.Executable,java.util.function.Supplier)","title":"How to use jUnit 5 Assertions to check, whether exception message starts with a String?","body":"<p>I use <code>org.junit.jupiter.api.Assertions</code> object to assert an exception is thrown:</p>\n\n<pre><code>Assertions.assertThrows(\n        InvalidParameterException.class,\n        () -&gt; new ThrowingExceptionClass().doSomethingDangerous());\n</code></pre>\n\n<p>Simplified, the exception thrown has a variable part <code>dateTime</code> in its message:</p>\n\n<pre><code>final String message = String.format(\"Either request is too old [dateTime=%s]\", date);\nnew InvalidParameterException(message);\n</code></pre>\n\n<p>As of version I use <code>5.4.0</code> the <a href=\"https://junit.org/junit5/docs/5.4.0/api/org/junit/jupiter/api/Assertions.html\" rel=\"noreferrer\"><code>Assertions</code></a> provide three methods checking the exception is thrown:</p>\n\n<ul>\n<li><a href=\"https://junit.org/junit5/docs/5.4.0/api/org/junit/jupiter/api/Assertions.html#assertThrows(java.lang.Class,org.junit.jupiter.api.function.Executable)\" rel=\"noreferrer\"><code>assertThrows​(Class&lt;T&gt; expectedType, Executable executable)</code></a></li>\n<li><a href=\"https://junit.org/junit5/docs/5.4.0/api/org/junit/jupiter/api/Assertions.html#assertThrows(java.lang.Class,org.junit.jupiter.api.function.Executable,java.lang.String)\" rel=\"noreferrer\"><code>assertThrows​(Class&lt;T&gt; expectedType, Executable executable, String message)</code></a></li>\n<li><a href=\"https://junit.org/junit5/docs/5.4.0/api/org/junit/jupiter/api/Assertions.html#assertThrows(java.lang.Class,org.junit.jupiter.api.function.Executable,java.util.function.Supplier)\" rel=\"noreferrer\"><code>assertThrows​(Class&lt;T&gt; expectedType, Executable executable, Supplier&lt;String&gt; messageSupplier)</code></a></li>\n</ul>\n\n<p>Neither of them provides a mechanism checking whether a String <strong>starts with</strong> another String. The last 2 methods only check whether the String is equal. How do I check easily whether the exception message starts with <code>\"Either request is too old\"</code> since more message variations might occur within the same <code>InvalidParameterException</code>?</p>\n\n<hr>\n\n<p>I'd appreciate a method <code>assertThrows​(Class&lt;T&gt; expectedType, Executable executable, Predicate&lt;String&gt; messagePredicate)</code> where the predicate would provide the thrown <code>message</code> and the assertion passes when if predicate returns <code>true</code> such as:</p>\n\n<pre><code>Assertions.assertThrows(\n    InvalidParameterException.class,\n    () -&gt; new ThrowingExceptionClass().doSomethingDangerous()\n    message -&gt; message.startsWith(\"Either request is too old\"));\n</code></pre>\n\n<p>Sadly, it doesn't exist. Any workaround?</p>\n"},{"tags":["java","spring-boot","groovy","autowired"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688479611,"post_id":76613453,"comment_id":135077879,"body_markdown":"You need both `@Converter` **and** `@Component` for the convert (or an `@Bean` method instead of `@Component`).","body":"You need both <code>@Converter</code> <b>and</b> <code>@Component</code> for the convert (or an <code>@Bean</code> method instead of <code>@Component</code>)."},{"owner":{"account_id":4856711,"reputation":2710,"user_id":3917452,"accept_rate":87,"display_name":"Abhimanyu"},"score":0,"creation_date":1688479947,"post_id":76613453,"comment_id":135077951,"body_markdown":"@M.Deinum I have tried this but its still not working","body":"@M.Deinum I have tried this but its still not working"},{"owner":{"account_id":8391581,"reputation":117,"user_id":6300149,"accept_rate":75,"display_name":"NitSher01"},"score":0,"creation_date":1688479952,"post_id":76613453,"comment_id":135077952,"body_markdown":"Just a suggestion : EncryptionUtility could&#39;ve been developed &amp; used in a more utility like fashion i.e. I would&#39;ve created encrypt and decrypt method as static methods so that these methods could be used without the instance of EncryptionUtility.","body":"Just a suggestion : EncryptionUtility could&#39;ve been developed &amp; used in a more utility like fashion i.e. I would&#39;ve created encrypt and decrypt method as static methods so that these methods could be used without the instance of EncryptionUtility."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1688480042,"post_id":76613453,"comment_id":135077979,"body_markdown":"That is not in your list of things you tried you stated replaced not added. Nonetheless the converter needs to be spring managed else it will simply not work.","body":"That is not in your list of things you tried you stated replaced not added. Nonetheless the converter needs to be spring managed else it will simply not work."}],"owner":{"account_id":8609066,"reputation":111,"user_id":7980868,"display_name":"shivamx96"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688479469,"creation_date":1688479469,"question_id":76613453,"body_markdown":"I&#39;m having a Spring Boot application that uses two databases, and hence, have manually configured entity manager and other DB configurations.\r\n\r\n```\r\n@EnableJpaRepositories(\r\n        entityManagerFactoryRef = &quot;entityManagerFactory&quot;,\r\n        transactionManagerRef = &quot;transactionManager&quot;,\r\n        basePackages = [&quot;testApp.repository&quot;]\r\n)\r\nclass TestAppDbConfig {\r\n    protected static Map&lt;String, Object&gt; jpaProperties() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;)\r\n        props.put(&quot;properties.hibernate.enable_lazy_load_no_trans&quot;, true)\r\n        props.put(&quot;properties.hibernate.dialect&quot;, MySQL5InnoDBDialect.getName());\r\n        props.put(&quot;properties.hibernate.format_sql&quot;, false);\r\n        props.put(&quot;properties.hibernate.jdbc.time_zone&quot;, &quot;Asia/Kolkata&quot;);\r\n        props.put(&quot;hibernate.physical_naming_strategy&quot;, SpringPhysicalNamingStrategy.class.getName());\r\n        props.put(&quot;hibernate.implicit_naming_strategy&quot;, SpringImplicitNamingStrategy.class.getName());\r\n        return props;\r\n    }\r\n\r\n    @Primary\r\n    @Bean(name = &quot;dataSource&quot;)\r\n    @ConfigurationProperties(prefix = &quot;spring.datasource&quot;)\r\n    public DataSource dataSource() {\r\n        return DataSourceBuilder.create().build();\r\n    }\r\n\r\n    @Primary\r\n    @Bean(name = &quot;entityManagerFactory&quot;)\r\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory(\r\n            EntityManagerFactoryBuilder builder,\r\n            @Qualifier(&quot;dataSource&quot;) DataSource dataSource\r\n    ) {\r\n        return builder.dataSource(dataSource)\r\n                .packages(&quot;testApp&quot;)\r\n                .persistenceUnit(&quot;testPU&quot;)\r\n                .properties(jpaProperties())\r\n                .build();\r\n    }\r\n\r\n    @Primary\r\n    @Bean(name = &quot;transactionManager&quot;)\r\n    public PlatformTransactionManager transactionManager(\r\n            @Qualifier(&quot;entityManagerFactory&quot;) EntityManagerFactory entityManagerFactory\r\n    ) {\r\n        return new JpaTransactionManager(entityManagerFactory);\r\n    }\r\n}\r\n```\r\n\r\nThe secondary database config is also completely same except custom names for each of the beans, datasource prefix inside configuration properties and @Primary annotation on all the beans.\r\n\r\nOn top of this, I have a EncryptionUtility as follows:\r\n\r\n```\r\n@Component\r\nclass EncryptionUtil {\r\n    // member variables to be used inside encrypt &amp; decrypt\r\n    \r\n    EncryptionUtil(\r\n            @Value(&#39;${encryption.key}&#39;) String password,\r\n            @Value(&#39;${encryption.iv}&#39;) String iv\r\n    ) {}\r\n    \r\n    byte[] encrypt(String plainText) {\r\n        // encrypts the string to AES256\r\n    }\r\n    \r\n    String decrypt(byte[] encryptedText) {\r\n        // decrypts the string using AES256\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m trying to use this inside an AttributeConverter in order to encrypt the data and store in DB. The AttributeConverter is as follows:\r\n\r\n```\r\n@Converter\r\nclass EncryptionConverter implements AttributeConverter&lt;String, byte[]&gt; {\r\n    @Autowired\r\n    EncryptionUtil encryptionUtil\r\n\r\n    @Override\r\n    byte[] convertToDatabaseColumn(String attribute) {\r\n        return encryptionUtil.encrypt(attribute)\r\n    }\r\n\r\n    @Override\r\n    String convertToEntityAttribute(byte[] dbData) {\r\n        return encryptionUtil.decrypt(dbData)\r\n    }\r\n}\r\n```\r\n\r\nThe application gets up and running; but when an object of the respective entity is being persisted, it goes inside AttributeConverter and finds **encryptionUtil** to be `null`.\r\n\r\nThe converter fails and the data doesn&#39;t get persisted inside DB.\r\n\r\nTried following things to resolve this:\r\n\r\n1. Replacing `@Converter` annotation in EncryptionConverter by `@Component` to make converter as a Spring bean that gets managed by SpringBoot.\r\n2. Tried implementing `ApplicationContextAware` to retreive EncryptionConverter bean from the application context manually.\r\n3. Tried using `AutowireCapableBeanFactory` to manually autowire this.\r\n\r\nNot sure of the exact issue but it seems there&#39;s something that I&#39;ve missed that&#39;s leading to some inconsistency between Spring and Hibernate.","title":"Facing issue on Autowiring a SpringBoot bean inside an AttributeConverter?","body":"<p>I'm having a Spring Boot application that uses two databases, and hence, have manually configured entity manager and other DB configurations.</p>\n<pre><code>@EnableJpaRepositories(\n        entityManagerFactoryRef = &quot;entityManagerFactory&quot;,\n        transactionManagerRef = &quot;transactionManager&quot;,\n        basePackages = [&quot;testApp.repository&quot;]\n)\nclass TestAppDbConfig {\n    protected static Map&lt;String, Object&gt; jpaProperties() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;)\n        props.put(&quot;properties.hibernate.enable_lazy_load_no_trans&quot;, true)\n        props.put(&quot;properties.hibernate.dialect&quot;, MySQL5InnoDBDialect.getName());\n        props.put(&quot;properties.hibernate.format_sql&quot;, false);\n        props.put(&quot;properties.hibernate.jdbc.time_zone&quot;, &quot;Asia/Kolkata&quot;);\n        props.put(&quot;hibernate.physical_naming_strategy&quot;, SpringPhysicalNamingStrategy.class.getName());\n        props.put(&quot;hibernate.implicit_naming_strategy&quot;, SpringImplicitNamingStrategy.class.getName());\n        return props;\n    }\n\n    @Primary\n    @Bean(name = &quot;dataSource&quot;)\n    @ConfigurationProperties(prefix = &quot;spring.datasource&quot;)\n    public DataSource dataSource() {\n        return DataSourceBuilder.create().build();\n    }\n\n    @Primary\n    @Bean(name = &quot;entityManagerFactory&quot;)\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory(\n            EntityManagerFactoryBuilder builder,\n            @Qualifier(&quot;dataSource&quot;) DataSource dataSource\n    ) {\n        return builder.dataSource(dataSource)\n                .packages(&quot;testApp&quot;)\n                .persistenceUnit(&quot;testPU&quot;)\n                .properties(jpaProperties())\n                .build();\n    }\n\n    @Primary\n    @Bean(name = &quot;transactionManager&quot;)\n    public PlatformTransactionManager transactionManager(\n            @Qualifier(&quot;entityManagerFactory&quot;) EntityManagerFactory entityManagerFactory\n    ) {\n        return new JpaTransactionManager(entityManagerFactory);\n    }\n}\n</code></pre>\n<p>The secondary database config is also completely same except custom names for each of the beans, datasource prefix inside configuration properties and @Primary annotation on all the beans.</p>\n<p>On top of this, I have a EncryptionUtility as follows:</p>\n<pre><code>@Component\nclass EncryptionUtil {\n    // member variables to be used inside encrypt &amp; decrypt\n    \n    EncryptionUtil(\n            @Value('${encryption.key}') String password,\n            @Value('${encryption.iv}') String iv\n    ) {}\n    \n    byte[] encrypt(String plainText) {\n        // encrypts the string to AES256\n    }\n    \n    String decrypt(byte[] encryptedText) {\n        // decrypts the string using AES256\n    }\n}\n</code></pre>\n<p>I'm trying to use this inside an AttributeConverter in order to encrypt the data and store in DB. The AttributeConverter is as follows:</p>\n<pre><code>@Converter\nclass EncryptionConverter implements AttributeConverter&lt;String, byte[]&gt; {\n    @Autowired\n    EncryptionUtil encryptionUtil\n\n    @Override\n    byte[] convertToDatabaseColumn(String attribute) {\n        return encryptionUtil.encrypt(attribute)\n    }\n\n    @Override\n    String convertToEntityAttribute(byte[] dbData) {\n        return encryptionUtil.decrypt(dbData)\n    }\n}\n</code></pre>\n<p>The application gets up and running; but when an object of the respective entity is being persisted, it goes inside AttributeConverter and finds <strong>encryptionUtil</strong> to be <code>null</code>.</p>\n<p>The converter fails and the data doesn't get persisted inside DB.</p>\n<p>Tried following things to resolve this:</p>\n<ol>\n<li>Replacing <code>@Converter</code> annotation in EncryptionConverter by <code>@Component</code> to make converter as a Spring bean that gets managed by SpringBoot.</li>\n<li>Tried implementing <code>ApplicationContextAware</code> to retreive EncryptionConverter bean from the application context manually.</li>\n<li>Tried using <code>AutowireCapableBeanFactory</code> to manually autowire this.</li>\n</ol>\n<p>Not sure of the exact issue but it seems there's something that I've missed that's leading to some inconsistency between Spring and Hibernate.</p>\n"},{"tags":["java","text","pdf-generation","itext","text-alignment"],"answers":[{"comments":[{"owner":{"account_id":1576570,"reputation":603,"user_id":1835037,"accept_rate":0,"display_name":"Karthick88it"},"score":0,"creation_date":1434687714,"post_id":30929769,"comment_id":49895595,"body_markdown":"Hi Todd, Thanks for your Swift response. I tried it already, but no hope. The text alignment are varying for each row and it is not proper.","body":"Hi Todd, Thanks for your Swift response. I tried it already, but no hope. The text alignment are varying for each row and it is not proper."},{"owner":{"account_id":1890701,"reputation":5354,"user_id":1708868,"accept_rate":77,"display_name":"Todd"},"score":0,"creation_date":1434687790,"post_id":30929769,"comment_id":49895609,"body_markdown":"picture? more detailed description, if possible?","body":"picture? more detailed description, if possible?"},{"owner":{"account_id":1576570,"reputation":603,"user_id":1835037,"accept_rate":0,"display_name":"Karthick88it"},"score":0,"creation_date":1434688544,"post_id":30929769,"comment_id":49895788,"body_markdown":"Its not Picture. Its a text file with some data. Please check the URL for more info.  http://imgur.com/a/UzdPd","body":"Its not Picture. Its a text file with some data. Please check the URL for more info.  <a href=\"http://imgur.com/a/UzdPd\" rel=\"nofollow noreferrer\">imgur.com/a/UzdPd</a>"}],"tags":[],"owner":{"account_id":1890701,"reputation":5354,"user_id":1708868,"accept_rate":77,"display_name":"Todd"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434687138,"creation_date":1434687138,"answer_id":30929769,"question_id":30929733,"body_markdown":"try ALIGN_CENTER instead\r\n\r\n    Paragraph para = new Paragraph(strLine+&quot;\\n&quot;);\r\n    para.setAlignment(Element.ALIGN_CENTER);\r\n\r\n[FROM THIS ANSWER][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/14373269/align-paragraph-at-the-center-of-the-page","title":"itext (Text - Pdf) center alignment","body":"<p>try ALIGN_CENTER instead</p>\n\n<pre><code>Paragraph para = new Paragraph(strLine+\"\\n\");\npara.setAlignment(Element.ALIGN_CENTER);\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/14373269/align-paragraph-at-the-center-of-the-page\">FROM THIS ANSWER</a></p>\n"}],"owner":{"account_id":1576570,"reputation":603,"user_id":1835037,"accept_rate":0,"display_name":"Karthick88it"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688479440,"creation_date":1434686802,"question_id":30929733,"body_markdown":"I am using itext to generate pdf file. I want to align my text in the middle of the page. My input file looks like in the below format\r\n\r\nWe refer to the ISDA Credit Support Annex dated as of 1 Oct 2009. Below is the data.\r\n\r\n      Portfolio MTM                                               USD 24,479,059.69\r\n      Independent Amount                                          USD 0.00\r\n      Threshold                                                   USD 1,000,000.00\r\n      Credit Support Amount / Exposure                            USD 23,479,059.69\r\n\r\n      Credit Support Balance                                      USD 26,140,600.00\r\n\r\n      Net Margin Requirement                                      USD 2660940.31\r\n\r\n                Minimum Transfer Amount                           USD 250,000.00\r\n                Rounding Amount                                   USD 10,000.00\r\n\r\n      Delivery amount                                             USD 2670000\r\n\r\n\r\n**My Java code is the below** \r\n\r\n     FileInputStream fis = new FileInputStream(inFile);\r\n        DataInputStream in = new DataInputStream(fis);\r\n         InputStreamReader isr=new InputStreamReader(in);\r\n         BufferedReader br = new BufferedReader(isr);\r\n        String strLine;\r\n        while ((strLine = br.readLine()) != null)  {\r\n        Paragraph para =new Paragraph(strLine+&quot;\\n&quot;);\r\n        para.setAlignment(Element.ALIGN_JUSTIFIED);\r\n     \r\n        document.add(para);\r\n        }\r\n    \r\n        document.close();\r\n\r\nWhile trying to generate the Pdf file my alignment for the below data is not properly working.\r\nPlease let me know whether the above code is correct.\r\nThanks in Advance.","title":"itext (Text - Pdf) center alignment","body":"<p>I am using itext to generate pdf file. I want to align my text in the middle of the page. My input file looks like in the below format</p>\n\n<p>We refer to the ISDA Credit Support Annex dated as of 1 Oct 2009. Below is the data.</p>\n\n<pre><code>  Portfolio MTM                                               USD 24,479,059.69\n  Independent Amount                                          USD 0.00\n  Threshold                                                   USD 1,000,000.00\n  Credit Support Amount / Exposure                            USD 23,479,059.69\n\n  Credit Support Balance                                      USD 26,140,600.00\n\n  Net Margin Requirement                                      USD 2660940.31\n\n            Minimum Transfer Amount                           USD 250,000.00\n            Rounding Amount                                   USD 10,000.00\n\n  Delivery amount                                             USD 2670000\n</code></pre>\n\n<p><strong>My Java code is the below</strong> </p>\n\n<pre><code> FileInputStream fis = new FileInputStream(inFile);\n    DataInputStream in = new DataInputStream(fis);\n     InputStreamReader isr=new InputStreamReader(in);\n     BufferedReader br = new BufferedReader(isr);\n    String strLine;\n    while ((strLine = br.readLine()) != null)  {\n    Paragraph para =new Paragraph(strLine+\"\\n\");\n    para.setAlignment(Element.ALIGN_JUSTIFIED);\n\n    document.add(para);\n    }\n\n    document.close();\n</code></pre>\n\n<p>While trying to generate the Pdf file my alignment for the below data is not properly working.\nPlease let me know whether the above code is correct.\nThanks in Advance.</p>\n"},{"tags":["java","google-cloud-platform","oauth-2.0","jwt","access-token"],"owner":{"account_id":24440847,"reputation":11,"user_id":18364572,"display_name":"Nutcracker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688479130,"creation_date":1688479042,"question_id":76613394,"body_markdown":"I&#39;m trying to get Google Cloud access token using JAVA with the following code(ignoring some unnecessary settings):\r\n\r\n```\r\nGoogleCredentials sourceCredentials = ServiceAccountCredentials.fromStream(serviceAccountStream);\r\nDownscopedCredentials downscopedCredentials = DownscopedCredentials.newBuilder()\r\n                .setSourceCredential(sourceCredentials)\r\n                .setCredentialAccessBoundary(credentialAccessBoundary)\r\n                .build();\r\nAccessToken accessToken = downscopedCredentials.refreshAccessToken();\r\n```\r\n\r\nand the expiration time of the returned token is 3599 (1 hour) by default, I&#39;m trying to change it to 300.\r\n\r\nSo I add `.createWithCustomLifetime(3000)` as follows:\r\n\r\n```\r\nGoogleCredentials sourceCredentials = ServiceAccountCredentials.fromStream(serviceAccountStream)\r\n                .createWithCustomLifetime(3000);\r\n```\r\n\r\nNow I know that it&#39;s using JWT to get a new token.\r\n\r\nAfter setting the `createWithCustomLifetime(300)`, the `&#39;exp&#39;` field of JWT payload is actually changed like this:\r\n\r\n```\r\n{\r\n    &quot;iat&quot;: $time_stamp,\r\n    &quot;exp&quot;: $time_stamp + 300\r\n}\r\n```\r\n\r\nBut the response data is still the same like this:\r\n\r\n```\r\n{\r\n    &quot;access_token&quot;: $token_response,\r\n    &quot;expires_in&quot;: 3599\r\n}\r\n```\r\n\r\nThat is to say, the expiration time is still 3599 instead of 300.\\_\r\n\r\nI wonder if I can do anything to make the `token_response` `expires_in` 300?\r\n\r\nThanks for any tips.","title":"How to change the expiration time of Google access token?","body":"<p>I'm trying to get Google Cloud access token using JAVA with the following code(ignoring some unnecessary settings):</p>\n<pre><code>GoogleCredentials sourceCredentials = ServiceAccountCredentials.fromStream(serviceAccountStream);\nDownscopedCredentials downscopedCredentials = DownscopedCredentials.newBuilder()\n                .setSourceCredential(sourceCredentials)\n                .setCredentialAccessBoundary(credentialAccessBoundary)\n                .build();\nAccessToken accessToken = downscopedCredentials.refreshAccessToken();\n</code></pre>\n<p>and the expiration time of the returned token is 3599 (1 hour) by default, I'm trying to change it to 300.</p>\n<p>So I add <code>.createWithCustomLifetime(3000)</code> as follows:</p>\n<pre><code>GoogleCredentials sourceCredentials = ServiceAccountCredentials.fromStream(serviceAccountStream)\n                .createWithCustomLifetime(3000);\n</code></pre>\n<p>Now I know that it's using JWT to get a new token.</p>\n<p>After setting the <code>createWithCustomLifetime(300)</code>, the <code>'exp'</code> field of JWT payload is actually changed like this:</p>\n<pre><code>{\n    &quot;iat&quot;: $time_stamp,\n    &quot;exp&quot;: $time_stamp + 300\n}\n</code></pre>\n<p>But the response data is still the same like this:</p>\n<pre><code>{\n    &quot;access_token&quot;: $token_response,\n    &quot;expires_in&quot;: 3599\n}\n</code></pre>\n<p>That is to say, the expiration time is still 3599 instead of 300._</p>\n<p>I wonder if I can do anything to make the <code>token_response</code> <code>expires_in</code> 300?</p>\n<p>Thanks for any tips.</p>\n"},{"tags":["java","gradle","rest-assured","web-api-testing"],"comments":[{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":1,"creation_date":1688065218,"post_id":76583887,"comment_id":135027515,"body_markdown":"Looks like a version mismatch, can you share your pom/build.gradle &amp; make sure you have no conflicts on hamcrest lib?","body":"Looks like a version mismatch, can you share your pom/build.gradle &amp; make sure you have no conflicts on hamcrest lib?"},{"owner":{"account_id":28866518,"reputation":11,"user_id":22109170,"display_name":"Jimil Patel"},"score":0,"creation_date":1688479136,"post_id":76583887,"comment_id":135077794,"body_markdown":"Hey @yahorbarkouski, I just updated my question body with build.gradle file attached. Please have a look and let me know if something else is needed in order to solve this issue.","body":"Hey @yahorbarkouski, I just updated my question body with build.gradle file attached. Please have a look and let me know if something else is needed in order to solve this issue."},{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1688481425,"post_id":76583887,"comment_id":135078303,"body_markdown":"Can you run `./gradlew dependencies --configuration testRuntimeClasspath`, and check for different versions of `org.hamcrest` there?","body":"Can you run <code>.&#47;gradlew dependencies --configuration testRuntimeClasspath</code>, and check for different versions of <code>org.hamcrest</code> there?"},{"owner":{"account_id":28866518,"reputation":11,"user_id":22109170,"display_name":"Jimil Patel"},"score":0,"creation_date":1688493264,"post_id":76583887,"comment_id":135080413,"body_markdown":"@yahorbarkouski Here is the Output I got after running the gradle command that you shared:\n`org.hamcrest:hamcrest-core:1.1`\n`org.hamcrest:hamcrest:2.1`","body":"@yahorbarkouski Here is the Output I got after running the gradle command that you shared: <code>org.hamcrest:hamcrest-core:1.1</code> <code>org.hamcrest:hamcrest:2.1</code>"}],"owner":{"account_id":28866518,"reputation":11,"user_id":22109170,"display_name":"Jimil Patel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688479029,"creation_date":1688064817,"question_id":76583887,"body_markdown":"I am **trying to generate Auth0 Access Token** by sending a POST request in Rest-Assured TestNG framework. The Content Type that I need to pass in request body is &quot;*application/x-www-form-urlencoded*&quot; and a Cookie needs to be passed in the header to successfully generate the Access Token. However, When I am running my code, I am getting &quot;**NoSuchMethodError**&quot; and I am NOT receiving any response body. Could someone help me in finding a solution to this error and resolving the issue that I am having with my code?\r\n\r\n**Here is the block of code that I am trying to run in order to generate an access token:**\r\n\r\n```\r\nJSONObject request = new JSONObject();\r\nResponse response;\r\nJsonPath catchResponse;\r\n\r\npublic void generateToken(String Env) \r\n{\r\n   if (Env.equalsIgnoreCase(&quot;Beta&quot;)) \r\n   {\r\n     request.put(&quot;username&quot;, acctUsername);\r\n     request.put(&quot;password&quot;, acctPassword);\r\n     response = given().\r\n                    contentType(contentTypeBeta).\r\n                    body(request.toJSONString()).\r\n                when().\r\n                    post(betaTokenURL).\r\n                then().\r\n                    statusCode(200).\r\n                    contentType(ContentType.JSON).extract().response();\r\n      catchResponse = response.jsonPath();\r\n      betaAccessToken = catchResponse.get(&quot;accessToken&quot;);\r\n    } \r\n    else if(Env.equalsIgnoreCase(&quot;Auth0&quot;)) \r\n    {\r\n      response = given().\r\n                    contentType(contentTypeAuth0).\r\n                    cookie(cookie).\r\n                    formParam(&quot;client_id&quot;, client_id).\r\n                    formParam(&quot;client_secret&quot;, client_secret).\r\n                    formParam(&quot;grant_type&quot;, grantType).\r\n                    formParam(&quot;username&quot;, auth0Username).\r\n                    formParam(&quot;password&quot;, auth0Password).\r\n                    formParam(&quot;realm&quot;, realm).\r\n                    formParam(&quot;audience&quot;, audience).\r\n                  when().\r\n                    post(auth0TokenURL).\r\n                  then().\r\n                    statusCode(200).\r\n                    contentType(ContentType.JSON).extract().response();\r\n       catchResponse = response.jsonPath();\r\n       auth0AccessToken = catchResponse.get(&quot;access_token&quot;);\r\n     }\r\n }\r\n\r\n@Test\r\npublic void getAuth0Token()\r\n{\r\n   generateToken(&quot;Auth0&quot;);\r\n   System.out.println(&quot;Auth0 Access Token: &quot;+auth0AccessToken);\r\n}\r\n```\r\n\r\n**And here is the Error Logs from my IntelliJ Console:**\r\n\r\n```none\r\norg.hamcrest.Matcher.describeMismatch(Ljava/lang/Object;Lorg/hamcrest/Description;)V\r\njava.lang.NoSuchMethodError: org.hamcrest.Matcher.describeMismatch(Ljava/lang/Object;Lorg/hamcrest/Description;)V\r\n\tat io.restassured.internal.util.MatcherErrorMessageBuilder.buildError(MatcherErrorMessageBuilder.java:35)\r\n\tat io.restassured.internal.util.MatcherErrorMessageBuilder$buildError.call(Unknown Source)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:45)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:148)\r\n\tat io.restassured.internal.ResponseSpecificationImpl$HamcrestAssertionClosure.validateStatusCodeAndStatusLine(ResponseSpecificationImpl.groovy:569)\r\n\tat io.restassured.internal.ResponseSpecificationImpl$HamcrestAssertionClosure.this$2$validateStatusCodeAndStatusLine(ResponseSpecificationImpl.groovy)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.codehaus.groovy.runtime.callsite.PlainObjectMetaMethodSite.doInvoke(PlainObjectMetaMethodSite.java:43)\r\n\tat org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite$PogoCachedMethodSiteNoUnwrapNoCoerce.invoke(PogoMetaMethodSite.java:198)\r\n\tat org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite.callCurrent(PogoMetaMethodSite.java:62)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:49)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:171)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:185)\r\n\tat io.restassured.internal.ResponseSpecificationImpl$HamcrestAssertionClosure.validate(ResponseSpecificationImpl.groovy:490)\r\n\tat io.restassured.internal.ResponseSpecificationImpl$HamcrestAssertionClosure$validate$1.call(Unknown Source)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:45)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:139)\r\n\tat io.restassured.internal.ResponseSpecificationImpl.validateResponseIfRequired(ResponseSpecificationImpl.groovy:696)\r\n\tat io.restassured.internal.ResponseSpecificationImpl.this$2$validateResponseIfRequired(ResponseSpecificationImpl.groovy)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.codehaus.groovy.runtime.callsite.PlainObjectMetaMethodSite.doInvoke(PlainObjectMetaMethodSite.java:43)\r\n\tat org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite$PogoCachedMethodSiteNoUnwrapNoCoerce.invoke(PogoMetaMethodSite.java:198)\r\n\tat org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite.callCurrent(PogoMetaMethodSite.java:62)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:49)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:171)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:185)\r\n\tat io.restassured.internal.ResponseSpecificationImpl.statusCode(ResponseSpecificationImpl.groovy:135)\r\n\tat io.restassured.specification.ResponseSpecification$statusCode$0.callCurrent(Unknown Source)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:49)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:171)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:185)\r\n\tat io.restassured.internal.ResponseSpecificationImpl.statusCode(ResponseSpecificationImpl.groovy:143)\r\n\tat io.restassured.internal.ValidatableResponseOptionsImpl.statusCode(ValidatableResponseOptionsImpl.java:89)\r\n\tat TestEndpoints.generateToken(TestEndpoints.java:44)\r\n\tat TestEndpoints.getAuth0Token(TestEndpoints.java:64)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:84)\r\n\tat org.testng.internal.Invoker.invokeMethod(Invoker.java:714)\r\n\tat org.testng.internal.Invoker.invokeTestMethod(Invoker.java:901)\r\n\tat org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1231)\r\n\tat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:127)\r\n\tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:111)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:767)\r\n\tat org.testng.TestRunner.run(TestRunner.java:617)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:334)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:329)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:291)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:240)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1224)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1149)\r\n\tat org.testng.TestNG.run(TestNG.java:1057)\r\n\tat org.gradle.api.internal.tasks.testing.testng.TestNGTestClassProcessor.runTests(TestNGTestClassProcessor.java:141)\r\n\tat org.gradle.api.internal.tasks.testing.testng.TestNGTestClassProcessor.stop(TestNGTestClassProcessor.java:90)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat com.sun.proxy.$Proxy2.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\n```\r\n\r\n**And here is my *build.gradle* file**:\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n}\r\n\r\ngroup &#39;org.example&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    testImplementation &#39;io.rest-assured:rest-assured:5.3.0&#39;\r\n    testImplementation &#39;org.testng:testng:6.8.7&#39;\r\n    implementation &#39;com.googlecode.json-simple:json-simple:1.1.1&#39;\r\n    implementation &#39;io.rest-assured:json-schema-validator:5.3.0&#39;\r\n    implementation &#39;commons-io:commons-io:2.12.0&#39;\r\n    implementation &#39;io.jsonwebtoken:jjwt:0.7.0&#39;\r\n}\r\n\r\ntest {\r\n    useTestNG()\r\n}\r\n```","title":"REST Assured Test Failing due to &quot;NoSuchMethodError&quot;","body":"<p>I am <strong>trying to generate Auth0 Access Token</strong> by sending a POST request in Rest-Assured TestNG framework. The Content Type that I need to pass in request body is &quot;<em>application/x-www-form-urlencoded</em>&quot; and a Cookie needs to be passed in the header to successfully generate the Access Token. However, When I am running my code, I am getting &quot;<strong>NoSuchMethodError</strong>&quot; and I am NOT receiving any response body. Could someone help me in finding a solution to this error and resolving the issue that I am having with my code?</p>\n<p><strong>Here is the block of code that I am trying to run in order to generate an access token:</strong></p>\n<pre><code>JSONObject request = new JSONObject();\nResponse response;\nJsonPath catchResponse;\n\npublic void generateToken(String Env) \n{\n   if (Env.equalsIgnoreCase(&quot;Beta&quot;)) \n   {\n     request.put(&quot;username&quot;, acctUsername);\n     request.put(&quot;password&quot;, acctPassword);\n     response = given().\n                    contentType(contentTypeBeta).\n                    body(request.toJSONString()).\n                when().\n                    post(betaTokenURL).\n                then().\n                    statusCode(200).\n                    contentType(ContentType.JSON).extract().response();\n      catchResponse = response.jsonPath();\n      betaAccessToken = catchResponse.get(&quot;accessToken&quot;);\n    } \n    else if(Env.equalsIgnoreCase(&quot;Auth0&quot;)) \n    {\n      response = given().\n                    contentType(contentTypeAuth0).\n                    cookie(cookie).\n                    formParam(&quot;client_id&quot;, client_id).\n                    formParam(&quot;client_secret&quot;, client_secret).\n                    formParam(&quot;grant_type&quot;, grantType).\n                    formParam(&quot;username&quot;, auth0Username).\n                    formParam(&quot;password&quot;, auth0Password).\n                    formParam(&quot;realm&quot;, realm).\n                    formParam(&quot;audience&quot;, audience).\n                  when().\n                    post(auth0TokenURL).\n                  then().\n                    statusCode(200).\n                    contentType(ContentType.JSON).extract().response();\n       catchResponse = response.jsonPath();\n       auth0AccessToken = catchResponse.get(&quot;access_token&quot;);\n     }\n }\n\n@Test\npublic void getAuth0Token()\n{\n   generateToken(&quot;Auth0&quot;);\n   System.out.println(&quot;Auth0 Access Token: &quot;+auth0AccessToken);\n}\n</code></pre>\n<p><strong>And here is the Error Logs from my IntelliJ Console:</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>org.hamcrest.Matcher.describeMismatch(Ljava/lang/Object;Lorg/hamcrest/Description;)V\njava.lang.NoSuchMethodError: org.hamcrest.Matcher.describeMismatch(Ljava/lang/Object;Lorg/hamcrest/Description;)V\n    at io.restassured.internal.util.MatcherErrorMessageBuilder.buildError(MatcherErrorMessageBuilder.java:35)\n    at io.restassured.internal.util.MatcherErrorMessageBuilder$buildError.call(Unknown Source)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:45)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:148)\n    at io.restassured.internal.ResponseSpecificationImpl$HamcrestAssertionClosure.validateStatusCodeAndStatusLine(ResponseSpecificationImpl.groovy:569)\n    at io.restassured.internal.ResponseSpecificationImpl$HamcrestAssertionClosure.this$2$validateStatusCodeAndStatusLine(ResponseSpecificationImpl.groovy)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.codehaus.groovy.runtime.callsite.PlainObjectMetaMethodSite.doInvoke(PlainObjectMetaMethodSite.java:43)\n    at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite$PogoCachedMethodSiteNoUnwrapNoCoerce.invoke(PogoMetaMethodSite.java:198)\n    at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite.callCurrent(PogoMetaMethodSite.java:62)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:49)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:171)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:185)\n    at io.restassured.internal.ResponseSpecificationImpl$HamcrestAssertionClosure.validate(ResponseSpecificationImpl.groovy:490)\n    at io.restassured.internal.ResponseSpecificationImpl$HamcrestAssertionClosure$validate$1.call(Unknown Source)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:45)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:139)\n    at io.restassured.internal.ResponseSpecificationImpl.validateResponseIfRequired(ResponseSpecificationImpl.groovy:696)\n    at io.restassured.internal.ResponseSpecificationImpl.this$2$validateResponseIfRequired(ResponseSpecificationImpl.groovy)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.codehaus.groovy.runtime.callsite.PlainObjectMetaMethodSite.doInvoke(PlainObjectMetaMethodSite.java:43)\n    at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite$PogoCachedMethodSiteNoUnwrapNoCoerce.invoke(PogoMetaMethodSite.java:198)\n    at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite.callCurrent(PogoMetaMethodSite.java:62)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:49)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:171)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:185)\n    at io.restassured.internal.ResponseSpecificationImpl.statusCode(ResponseSpecificationImpl.groovy:135)\n    at io.restassured.specification.ResponseSpecification$statusCode$0.callCurrent(Unknown Source)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:49)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:171)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:185)\n    at io.restassured.internal.ResponseSpecificationImpl.statusCode(ResponseSpecificationImpl.groovy:143)\n    at io.restassured.internal.ValidatableResponseOptionsImpl.statusCode(ValidatableResponseOptionsImpl.java:89)\n    at TestEndpoints.generateToken(TestEndpoints.java:44)\n    at TestEndpoints.getAuth0Token(TestEndpoints.java:64)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:84)\n    at org.testng.internal.Invoker.invokeMethod(Invoker.java:714)\n    at org.testng.internal.Invoker.invokeTestMethod(Invoker.java:901)\n    at org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1231)\n    at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:127)\n    at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:111)\n    at org.testng.TestRunner.privateRun(TestRunner.java:767)\n    at org.testng.TestRunner.run(TestRunner.java:617)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:334)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:329)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:291)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:240)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1224)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1149)\n    at org.testng.TestNG.run(TestNG.java:1057)\n    at org.gradle.api.internal.tasks.testing.testng.TestNGTestClassProcessor.runTests(TestNGTestClassProcessor.java:141)\n    at org.gradle.api.internal.tasks.testing.testng.TestNGTestClassProcessor.stop(TestNGTestClassProcessor.java:90)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at com.sun.proxy.$Proxy2.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\n</code></pre>\n<p><strong>And here is my <em>build.gradle</em> file</strong>:</p>\n<pre><code>plugins {\n    id 'java'\n}\n\ngroup 'org.example'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testImplementation 'io.rest-assured:rest-assured:5.3.0'\n    testImplementation 'org.testng:testng:6.8.7'\n    implementation 'com.googlecode.json-simple:json-simple:1.1.1'\n    implementation 'io.rest-assured:json-schema-validator:5.3.0'\n    implementation 'commons-io:commons-io:2.12.0'\n    implementation 'io.jsonwebtoken:jjwt:0.7.0'\n}\n\ntest {\n    useTestNG()\n}\n</code></pre>\n"},{"tags":["java","powershell","clojure","path-variables"],"comments":[{"owner":{"account_id":311679,"reputation":89831,"user_id":625403,"accept_rate":82,"display_name":"amalloy"},"score":1,"creation_date":1688281732,"post_id":76597505,"comment_id":135051193,"body_markdown":"I have a vague recollection that on some operating systems Emacs has some kind of issues with PATH. Try setting [`exec-path`](https://www.emacswiki.org/emacs/ExecPath) as well. and see if that helps.","body":"I have a vague recollection that on some operating systems Emacs has some kind of issues with PATH. Try setting <a href=\"https://www.emacswiki.org/emacs/ExecPath\" rel=\"nofollow noreferrer\"><code>exec-path</code></a> as well. and see if that helps."},{"owner":{"account_id":366852,"reputation":161795,"user_id":712649,"accept_rate":100,"display_name":"Mathias R. Jessen"},"score":2,"creation_date":1688297535,"post_id":76597505,"comment_id":135052646,"body_markdown":"You need the containing directory in the PATH env variable, eg. `C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0`, not `C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\powershell.exe`","body":"You need the containing directory in the PATH env variable, eg. <code>C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0</code>, not <code>C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\powershell.exe</code>"},{"owner":{"account_id":17906407,"reputation":89,"user_id":13009434,"display_name":"Ckonata"},"score":2,"creation_date":1688298675,"post_id":76597505,"comment_id":135052763,"body_markdown":"Thank you for your answers! Mathias you were right, I deleted the file from the path ant it finally works!! THANK YOU","body":"Thank you for your answers! Mathias you were right, I deleted the file from the path ant it finally works!! THANK YOU"},{"owner":{"account_id":749092,"reputation":30163,"user_id":729907,"display_name":"Drew"},"score":1,"creation_date":1688330071,"post_id":76597505,"comment_id":135056403,"body_markdown":"OP or @MathiasR.Jessen: *Please post an answer.* Comments can be deleted at any time - they don&#39;t help users looking for such a Q and A. They&#39;re not searchable here or by googling, etc.","body":"OP or @MathiasR.Jessen: <i>Please post an answer.</i> Comments can be deleted at any time - they don&#39;t help users looking for such a Q and A. They&#39;re not searchable here or by googling, etc."}],"answers":[{"tags":[],"owner":{"account_id":19375,"reputation":396793,"user_id":45375,"display_name":"mklement0"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1688331726,"creation_date":1688331233,"answer_id":76600754,"question_id":76597505,"body_markdown":"[Mathias R. Jessen](https://stackoverflow.com/users/712649/mathias-r-jessen) provided the crucial pointer in a comment:\r\n\r\nThe special **`PATH`&lt;sup&gt;[1]&lt;/sup&gt; environment variable** (accessible in PowerShell at the process level as `$env:PATH` - see the conceptual [about_Environment_Variables](https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_Environment_Variables) help topic) - on both _Windows_ and _Unix_-like platforms - contains **a list of (usually _absolute_) _directory_ paths in which the platform APIs look for _executables_ when an attempt is made to invoke an executable _by file name only_** (rather than, unambiguously, by a file _path_).\r\n\r\n * Therefore, it is never the path of a given executable _file_ itself that should be added to that list, but only ever the _directory_ in which that executable is located.\r\n\r\n**General information**:\r\n\r\n* The _separator character_ used to separate the `PATH` entries is _platform-specific_:\r\n  * Windows uses `;`, whereas Unix-like platforms use `:`\r\n  * To _programmatically_ determine this character, use `[System.IO.Path]::PathSeparator`\r\n\r\n* The _order_ of entries matters: the _first_ directory listed in which an executable of the given name is found is used.\r\n\r\n  * Additionally, on Windows only, if a name doesn&#39;t include a _filename extension_ (e.g., just `foo` instead of `foo.exe`), Windows tries the extensions listed in the special `PATHEXT` _in order_ to find a matching executable (on Unix, executables usually do _not_ have extensions, and if they do, they must be specified explicitly).\r\n\r\n* PowerShell itself has _no_ support for programmatically modifying the _persistent_ definition of `PATH`, necessitating direct use of the [`[System.Environment]::SetEnvironmentVariable()`](https://learn.microsoft.com/en-US/dotnet/api/System.Environment.SetEnvironmentVariable) .NET API:\r\n\r\n    * However:\r\n      * (a) This API works on _Windows only_ (there is _no_ unified mechanism that would work across all Unix-like platforms)\r\n      * (b) This API _isn&#39;t robust_, because it invariably converts the `REG_EXPAND_SZ` `PATH` definition to `REG_SZ`\r\n    * See [this answer](https://stackoverflow.com/a/69239861/45375) for background information and a registry-based workaround.\r\n\r\n---\r\n\r\n&lt;sup&gt;[1] The exact case on _Windows_ is `Path`, whereas on Unix-like platforms it is `PATH`. Since environment-variable access in Windows is case-_insensitive_, whereas on Unix it is case-_sensitive_, the form `PATH` works on both platforms.&lt;/sup&gt;","title":"Trying to run a clojure project on emacs but Java error: Cannot run program powershell.exe","body":"<p><a href=\"https://stackoverflow.com/users/712649/mathias-r-jessen\">Mathias R. Jessen</a> provided the crucial pointer in a comment:</p>\n<p>The special <strong><code>PATH</code><sup>[1]</sup> environment variable</strong> (accessible in PowerShell at the process level as <code>$env:PATH</code> - see the conceptual <a href=\"https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_Environment_Variables\" rel=\"nofollow noreferrer\">about_Environment_Variables</a> help topic) - on both <em>Windows</em> and <em>Unix</em>-like platforms - contains <strong>a list of (usually <em>absolute</em>) <em>directory</em> paths in which the platform APIs look for <em>executables</em> when an attempt is made to invoke an executable <em>by file name only</em></strong> (rather than, unambiguously, by a file <em>path</em>).</p>\n<ul>\n<li>Therefore, it is never the path of a given executable <em>file</em> itself that should be added to that list, but only ever the <em>directory</em> in which that executable is located.</li>\n</ul>\n<p><strong>General information</strong>:</p>\n<ul>\n<li><p>The <em>separator character</em> used to separate the <code>PATH</code> entries is <em>platform-specific</em>:</p>\n<ul>\n<li>Windows uses <code>;</code>, whereas Unix-like platforms use <code>:</code></li>\n<li>To <em>programmatically</em> determine this character, use <code>[System.IO.Path]::PathSeparator</code></li>\n</ul>\n</li>\n<li><p>The <em>order</em> of entries matters: the <em>first</em> directory listed in which an executable of the given name is found is used.</p>\n<ul>\n<li>Additionally, on Windows only, if a name doesn't include a <em>filename extension</em> (e.g., just <code>foo</code> instead of <code>foo.exe</code>), Windows tries the extensions listed in the special <code>PATHEXT</code> <em>in order</em> to find a matching executable (on Unix, executables usually do <em>not</em> have extensions, and if they do, they must be specified explicitly).</li>\n</ul>\n</li>\n<li><p>PowerShell itself has <em>no</em> support for programmatically modifying the <em>persistent</em> definition of <code>PATH</code>, necessitating direct use of the <a href=\"https://learn.microsoft.com/en-US/dotnet/api/System.Environment.SetEnvironmentVariable\" rel=\"nofollow noreferrer\"><code>[System.Environment]::SetEnvironmentVariable()</code></a> .NET API:</p>\n<ul>\n<li>However:\n<ul>\n<li>(a) This API works on <em>Windows only</em> (there is <em>no</em> unified mechanism that would work across all Unix-like platforms)</li>\n<li>(b) This API <em>isn't robust</em>, because it invariably converts the <code>REG_EXPAND_SZ</code> <code>PATH</code> definition to <code>REG_SZ</code></li>\n</ul>\n</li>\n<li>See <a href=\"https://stackoverflow.com/a/69239861/45375\">this answer</a> for background information and a registry-based workaround.</li>\n</ul>\n</li>\n</ul>\n<hr />\n<p><sup>[1] The exact case on <em>Windows</em> is <code>Path</code>, whereas on Unix-like platforms it is <code>PATH</code>. Since environment-variable access in Windows is case-<em>insensitive</em>, whereas on Unix it is case-<em>sensitive</em>, the form <code>PATH</code> works on both platforms.</sup></p>\n"}],"owner":{"account_id":17906407,"reputation":89,"user_id":13009434,"display_name":"Ckonata"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76600754,"answer_count":1,"score":2,"last_activity_date":1688478587,"creation_date":1688275700,"question_id":76597505,"body_markdown":"I am trying to run a clojure jar file on emacs using cider and I get the error below:\r\n\r\n    ERROR:ERROR:  Unhandled REPL handler exception processing messageUnhandled REPL handler exception processing message  {{:op:op  init-debuggereval, , :code cljs.core/demunge, :session 9f9a0db9-8cc7-4cf0-b0ba-f426b163fb52, :id :nrepl.middleware.print/stream?7 }1\r\n    , :nrepl.middleware.print/print cider.nrepl.pprint/pprint, :nrepl.middleware.print/quota 1048576, :nrepl.middleware.print/buffer-size 4096, :nrepl.middleware.print/options {:right-margin 70}, :session 2f97cb2f-b111-4c37-8658-b63045c9ab2a, :id 6}\r\n    Syntax error macroexpanding at (clojuredocs.clj:19:32).\r\n\r\n    Caused by: java.io.IOException: Cannot run program &quot;powershell.exe&quot;: CreateProcess error=2, The system cannot find the file specified\r\n\r\nI have powershell route set on my env PATH both on System envs and User envs as follow:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QQVEr.png\r\n\r\nJava version: `&quot;20.0.1&quot;` \r\n\r\nI am not sure what I am missing to be able to run the command `cider-jack-in` successfully","title":"Trying to run a clojure project on emacs but Java error: Cannot run program powershell.exe","body":"<p>I am trying to run a clojure jar file on emacs using cider and I get the error below:</p>\n<pre><code>ERROR:ERROR:  Unhandled REPL handler exception processing messageUnhandled REPL handler exception processing message  {{:op:op  init-debuggereval, , :code cljs.core/demunge, :session 9f9a0db9-8cc7-4cf0-b0ba-f426b163fb52, :id :nrepl.middleware.print/stream?7 }1\n, :nrepl.middleware.print/print cider.nrepl.pprint/pprint, :nrepl.middleware.print/quota 1048576, :nrepl.middleware.print/buffer-size 4096, :nrepl.middleware.print/options {:right-margin 70}, :session 2f97cb2f-b111-4c37-8658-b63045c9ab2a, :id 6}\nSyntax error macroexpanding at (clojuredocs.clj:19:32).\n\nCaused by: java.io.IOException: Cannot run program &quot;powershell.exe&quot;: CreateProcess error=2, The system cannot find the file specified\n</code></pre>\n<p>I have powershell route set on my env PATH both on System envs and User envs as follow:</p>\n<p><a href=\"https://i.stack.imgur.com/QQVEr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QQVEr.png\" alt=\"enter image description here\" /></a></p>\n<p>Java version: <code>&quot;20.0.1&quot;</code></p>\n<p>I am not sure what I am missing to be able to run the command <code>cider-jack-in</code> successfully</p>\n"},{"tags":["java","spring","spring-boot","hibernate","hikaricp"],"answers":[{"tags":[],"owner":{"account_id":13390881,"reputation":679,"user_id":9663278,"display_name":"toto"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597674016,"creation_date":1597674016,"answer_id":63452810,"question_id":63452495,"body_markdown":"There is a parameter in HikariCP which is **connectionTestQuery**\r\nThis is the query that will be executed just before a connection is given to you from the pool to validate that the connection to the database is still alive. So I think you can use it to check if the connection is still alive or not and then force things. But they mention this in the documentation &quot;If your driver supports JDBC4 we strongly recommend not setting this property. This is for &quot;legacy&quot; drivers that do not support the JDBC4 Connection.isValid() API&quot; ","title":"Programmatically restart HikariPool in Spring Boot application?","body":"<p>There is a parameter in HikariCP which is <strong>connectionTestQuery</strong>\nThis is the query that will be executed just before a connection is given to you from the pool to validate that the connection to the database is still alive. So I think you can use it to check if the connection is still alive or not and then force things. But they mention this in the documentation &quot;If your driver supports JDBC4 we strongly recommend not setting this property. This is for &quot;legacy&quot; drivers that do not support the JDBC4 Connection.isValid() API&quot;</p>\n"},{"comments":[{"owner":{"account_id":1238459,"reputation":1304,"user_id":1201570,"accept_rate":85,"display_name":"Marco"},"score":0,"creation_date":1662969366,"post_id":63482443,"comment_id":130120181,"body_markdown":"Impressive! It already helps, but could you post some additional references as a (study) starting point? I&#39;d like to understand better how to do additional manipulations","body":"Impressive! It already helps, but could you post some additional references as a (study) starting point? I&#39;d like to understand better how to do additional manipulations"},{"owner":{"account_id":1584408,"reputation":608,"user_id":1469083,"accept_rate":55,"display_name":"Janne Mattila"},"score":0,"creation_date":1663134508,"post_id":63482443,"comment_id":130164632,"body_markdown":"My memory fails me, I have no idea what my &quot;some study&quot; was back then....I did find this https://github.com/brettwooldridge/HikariCP/wiki/MBean-(JMX)-Monitoring-and-Management now","body":"My memory fails me, I have no idea what my &quot;some study&quot; was back then....I did find this <a href=\"https://github.com/brettwooldridge/HikariCP/wiki/MBean-(JMX)-Monitoring-and-Management\" rel=\"nofollow noreferrer\">github.com/brettwooldridge/HikariCP/wiki/&hellip;</a> now"}],"tags":[],"owner":{"account_id":1584408,"reputation":608,"user_id":1469083,"accept_rate":55,"display_name":"Janne Mattila"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1597823795,"creation_date":1597823795,"answer_id":63482443,"question_id":63452495,"body_markdown":"After some study, found out that you can get handle of HikariCP and trigger connection eviction by:\r\n\r\n        HikariDataSource hikariDs = (HikariDataSource) dataSource;\r\n        HikariPoolMXBean poolBean = hikariDs.getHikariPoolMXBean();\r\n        poolBean.softEvictConnections();\r\n\r\n","title":"Programmatically restart HikariPool in Spring Boot application?","body":"<p>After some study, found out that you can get handle of HikariCP and trigger connection eviction by:</p>\n<pre><code>    HikariDataSource hikariDs = (HikariDataSource) dataSource;\n    HikariPoolMXBean poolBean = hikariDs.getHikariPoolMXBean();\n    poolBean.softEvictConnections();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11314989,"reputation":13,"user_id":8297001,"display_name":"Rajesh Rawat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671776572,"creation_date":1671629196,"answer_id":74876773,"question_id":63452495,"body_markdown":"There are following possiblties.\r\n1. make sure allowPoolSuspension  is available in configuration.\r\n2. make sure hikari version 4 or above.\r\n\r\nreset credential:-\r\n\r\n    HikariDataSource ds = (HikariDataSource) applicationContext.getBean(&quot;dataSource&quot;);\r\n    HikariPoolMXBean hikariPoolMXBean = ds.getHikariPoolMXBean();\r\n    if (hikariPoolMXBean != null) {\r\n    \r\n        hikariPoolMXBean.softEvictConnections();\r\n    \t\r\n    }ds.setUsername(userName);ds.setPassword(password);\r\n\r\n","title":"Programmatically restart HikariPool in Spring Boot application?","body":"<p>There are following possiblties.</p>\n<ol>\n<li>make sure allowPoolSuspension  is available in configuration.</li>\n<li>make sure hikari version 4 or above.</li>\n</ol>\n<p>reset credential:-</p>\n<pre><code>HikariDataSource ds = (HikariDataSource) applicationContext.getBean(&quot;dataSource&quot;);\nHikariPoolMXBean hikariPoolMXBean = ds.getHikariPoolMXBean();\nif (hikariPoolMXBean != null) {\n\n    hikariPoolMXBean.softEvictConnections();\n    \n}ds.setUsername(userName);ds.setPassword(password);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23744703,"reputation":21,"user_id":17762303,"display_name":"KRISH C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688478510,"creation_date":1688478510,"answer_id":76613314,"question_id":63452495,"body_markdown":"As Rajesh, Janne mentioned, the softEvictConnections() method will close the connections in the pool.\r\nThis method call will &quot;softly&quot; evict all idle connections from the pool and **mark active connections to be evicted as soon as they return to the pool.** **This means no abrupt termination of ongoing transactions**, but all connections will eventually be closed and replaced.\r\n\r\n    if(datasource instanceof HikariDataSource) {\r\n        ((HikariDataSource) datasource).getHikariPoolMXBean().softEvictConnections();\r\n    }","title":"Programmatically restart HikariPool in Spring Boot application?","body":"<p>As Rajesh, Janne mentioned, the softEvictConnections() method will close the connections in the pool.\nThis method call will &quot;softly&quot; evict all idle connections from the pool and <strong>mark active connections to be evicted as soon as they return to the pool.</strong> <strong>This means no abrupt termination of ongoing transactions</strong>, but all connections will eventually be closed and replaced.</p>\n<pre><code>if(datasource instanceof HikariDataSource) {\n    ((HikariDataSource) datasource).getHikariPoolMXBean().softEvictConnections();\n}\n</code></pre>\n"}],"owner":{"account_id":1584408,"reputation":608,"user_id":1469083,"accept_rate":55,"display_name":"Janne Mattila"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6477,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63482443,"answer_count":4,"score":1,"last_activity_date":1688478510,"creation_date":1597673010,"question_id":63452495,"body_markdown":"I have a Spring Boot application which uses Hibernate, and HikariDataSource / HikariPool to talk to the database.\r\n\r\nA special feature in the app triggers database restart. Currently this breaks the connections in HikariPool:\r\n\r\n    Caused by: org.postgresql.util.PSQLException: ERROR: relation &quot;relation_which_really_exists&quot; does not exist\r\n    Position: 113\r\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2532)\r\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2267)\r\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:312)\r\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:448)\r\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:369)\r\n\r\nOld version of the app does call programmatically `org.hibernate.SessionFactory.close();` which causes restart of HikariDataSource / HikariCP:\r\n\r\n    2020-08-17T11:36:42.628Z [qtp1340328248-76] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...\r\n    2020-08-17T11:36:42.698Z [qtp1340328248-76] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.\r\n    2020-08-17T11:36:51.266Z [qtp1340328248-12] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...\r\n    2020-08-17T11:36:51.515Z [qtp1340328248-12] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.\r\n\r\nI would like to do the same, but how can I programmatically restart the connection pool in my app? I&#39;ve seen things like https://stackoverflow.com/questions/25063995/spring-boot-handle-to-hibernate-sessionfactory to get a handle to sessionFactory, and maybe something similar to get a handle to DataSource or CP....but is it OK to close / restart those objects violently, is the Spring Boot context designer to handle such action properly?\r\n\r\nThere&#39;s probably some HikariCP configuration parameters that I can start to experiment with to try reach the same end result, but replicating the old implementation tempts as the easiest / most figured out and most probable to reach same end result.","title":"Programmatically restart HikariPool in Spring Boot application?","body":"<p>I have a Spring Boot application which uses Hibernate, and HikariDataSource / HikariPool to talk to the database.</p>\n<p>A special feature in the app triggers database restart. Currently this breaks the connections in HikariPool:</p>\n<pre><code>Caused by: org.postgresql.util.PSQLException: ERROR: relation &quot;relation_which_really_exists&quot; does not exist\nPosition: 113\nat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2532)\nat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2267)\nat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:312)\nat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:448)\nat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:369)\n</code></pre>\n<p>Old version of the app does call programmatically <code>org.hibernate.SessionFactory.close();</code> which causes restart of HikariDataSource / HikariCP:</p>\n<pre><code>2020-08-17T11:36:42.628Z [qtp1340328248-76] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...\n2020-08-17T11:36:42.698Z [qtp1340328248-76] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.\n2020-08-17T11:36:51.266Z [qtp1340328248-12] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...\n2020-08-17T11:36:51.515Z [qtp1340328248-12] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.\n</code></pre>\n<p>I would like to do the same, but how can I programmatically restart the connection pool in my app? I've seen things like <a href=\"https://stackoverflow.com/questions/25063995/spring-boot-handle-to-hibernate-sessionfactory\">Spring Boot - Handle to Hibernate SessionFactory</a> to get a handle to sessionFactory, and maybe something similar to get a handle to DataSource or CP....but is it OK to close / restart those objects violently, is the Spring Boot context designer to handle such action properly?</p>\n<p>There's probably some HikariCP configuration parameters that I can start to experiment with to try reach the same end result, but replicating the old implementation tempts as the easiest / most figured out and most probable to reach same end result.</p>\n"},{"tags":["java","android","wear-os"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1686329380,"post_id":76442138,"comment_id":134788844,"body_markdown":"`TimeText()` is part of Wear Compose, a series of composables for Jetpack Compose that target Wear OS. Wear Compose, like Jetpack Compose, is only usable from Kotlin. You may be able to minimize how much Kotlin you need to use, wrapping your `Scaffold()` and `TimeText()` in a `ComposeView` that you use in a layout, but this may be tricky. Otherwise, you will be on your own for implementing a `TimeText()` equivalent in Java. Or, you could learn Kotlin and use Wear Compose directly.","body":"<code>TimeText()</code> is part of Wear Compose, a series of composables for Jetpack Compose that target Wear OS. Wear Compose, like Jetpack Compose, is only usable from Kotlin. You may be able to minimize how much Kotlin you need to use, wrapping your <code>Scaffold()</code> and <code>TimeText()</code> in a <code>ComposeView</code> that you use in a layout, but this may be tricky. Otherwise, you will be on your own for implementing a <code>TimeText()</code> equivalent in Java. Or, you could learn Kotlin and use Wear Compose directly."},{"owner":{"account_id":22924479,"reputation":85,"user_id":17059795,"display_name":"Universe"},"score":0,"creation_date":1686333579,"post_id":76442138,"comment_id":134789603,"body_markdown":"i will be using Kotlin for my new wear app, but i just want to update my existing app. anyhow your right i might need to implement it myself then","body":"i will be using Kotlin for my new wear app, but i just want to update my existing app. anyhow your right i might need to implement it myself then"}],"answers":[{"tags":[],"owner":{"account_id":1481915,"reputation":12601,"user_id":1542667,"accept_rate":75,"display_name":"Yuri Schimke"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686555458,"creation_date":1686555458,"answer_id":76454486,"question_id":76442138,"body_markdown":"Use this sample code for Views https://github.com/android/wear-os-samples/blob/main/TimeText/timetext/src/main/java/com/example/android/wearable/timetext/TimeText.kt\r\n\r\nhttps://github.com/android/wear-os-samples/blob/main/TimeText/wear/src/main/res/layout/main_activity.xml\r\n\r\n```\r\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:id=&quot;@+id/container&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;com.example.android.wearable.timetext.TimeText\r\n        android:id=&quot;@+id/timeText&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:titleTextColor=&quot;#82b1ff&quot;\r\n        app:titleText=&quot;ABC&quot; /&gt;\r\n\r\n```","title":"How can i use Time text in Java on wear os. Google docs only support Kotlin for now","body":"<p>Use this sample code for Views <a href=\"https://github.com/android/wear-os-samples/blob/main/TimeText/timetext/src/main/java/com/example/android/wearable/timetext/TimeText.kt\" rel=\"nofollow noreferrer\">https://github.com/android/wear-os-samples/blob/main/TimeText/timetext/src/main/java/com/example/android/wearable/timetext/TimeText.kt</a></p>\n<p><a href=\"https://github.com/android/wear-os-samples/blob/main/TimeText/wear/src/main/res/layout/main_activity.xml\" rel=\"nofollow noreferrer\">https://github.com/android/wear-os-samples/blob/main/TimeText/wear/src/main/res/layout/main_activity.xml</a></p>\n<pre><code>&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:id=&quot;@+id/container&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;com.example.android.wearable.timetext.TimeText\n        android:id=&quot;@+id/timeText&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:titleTextColor=&quot;#82b1ff&quot;\n        app:titleText=&quot;ABC&quot; /&gt;\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8365629,"reputation":23,"user_id":6282436,"display_name":"Cosmin C."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688478373,"creation_date":1688478373,"answer_id":76613297,"question_id":76442138,"body_markdown":"Add ComposeView to your layout.xml just as you would any other View:\r\n\r\n    &lt;androidx.compose.ui.platform.ComposeView\r\n        android:id=&quot;@+id/compose_view&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;/&gt;\r\n\r\nCreate a new kt file, for example ComposeFunctions.kt that has a function to set the content to the ComposeView:\r\n\r\n    @file:JvmName(&quot;ComposeFunctions&quot;)\r\n\r\n    package (your package goes here)\r\n\r\n    import androidx.compose.ui.platform.ComposeView\r\n    import androidx.wear.compose.material.TimeText\r\n\r\n    fun setContent(composeView: ComposeView) {\r\n        composeView.setContent { TimeText() }\r\n    }\r\n\r\nNow from your java Activity/Fragment \r\n\r\n    ComposeView composeView = view.findViewById(R.id.compose_view);\r\n    ComposeFunctions.setContent(composeView);\r\n\r\nPlease note that for the above to work you&#39;ll need to add the required kotlin and compose dependencies to build.gradle (project and wearOS app).\r\n\r\n","title":"How can i use Time text in Java on wear os. Google docs only support Kotlin for now","body":"<p>Add ComposeView to your layout.xml just as you would any other View:</p>\n<pre><code>&lt;androidx.compose.ui.platform.ComposeView\n    android:id=&quot;@+id/compose_view&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;/&gt;\n</code></pre>\n<p>Create a new kt file, for example ComposeFunctions.kt that has a function to set the content to the ComposeView:</p>\n<pre><code>@file:JvmName(&quot;ComposeFunctions&quot;)\n\npackage (your package goes here)\n\nimport androidx.compose.ui.platform.ComposeView\nimport androidx.wear.compose.material.TimeText\n\nfun setContent(composeView: ComposeView) {\n    composeView.setContent { TimeText() }\n}\n</code></pre>\n<p>Now from your java Activity/Fragment</p>\n<pre><code>ComposeView composeView = view.findViewById(R.id.compose_view);\nComposeFunctions.setContent(composeView);\n</code></pre>\n<p>Please note that for the above to work you'll need to add the required kotlin and compose dependencies to build.gradle (project and wearOS app).</p>\n"}],"owner":{"account_id":22924479,"reputation":85,"user_id":17059795,"display_name":"Universe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":450,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1688478373,"creation_date":1686327812,"question_id":76442138,"body_markdown":"I want to display the time at the top of my wear-os application. This is for one because it should be a common practise and for other, because Google will enforce it on the Playstore soon according to IO.\r\n\r\nSince Google is kind off switching everything to Kotlin first, they have not made documentation to implement their Time text layout in Java. Which should be used in all applications as a standard, and adapts to round and square screens. Link: https://developer.android.com/design/ui/wear/guides/components/time-text\r\n\r\nNow of course, i could be using a setText() together with a runnable. But that wouldnt be up to standards and would not adapt to screen type.\r\n\r\nHow do i implement Time text in Java?\r\n\r\n\r\nI expected to find Time text in the XML recommendations. However it wasn&#39;t to be found.","title":"How can i use Time text in Java on wear os. Google docs only support Kotlin for now","body":"<p>I want to display the time at the top of my wear-os application. This is for one because it should be a common practise and for other, because Google will enforce it on the Playstore soon according to IO.</p>\n<p>Since Google is kind off switching everything to Kotlin first, they have not made documentation to implement their Time text layout in Java. Which should be used in all applications as a standard, and adapts to round and square screens. Link: <a href=\"https://developer.android.com/design/ui/wear/guides/components/time-text\" rel=\"nofollow noreferrer\">https://developer.android.com/design/ui/wear/guides/components/time-text</a></p>\n<p>Now of course, i could be using a setText() together with a runnable. But that wouldnt be up to standards and would not adapt to screen type.</p>\n<p>How do i implement Time text in Java?</p>\n<p>I expected to find Time text in the XML recommendations. However it wasn't to be found.</p>\n"},{"tags":["java","jar"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1656782263,"post_id":72840986,"comment_id":128657619,"body_markdown":"When the _Java Platform Module System_ was added in Java 9, the JDK was modularized. There is no `rt.jar` (or `tools.jar`) anymore. The standard Java classes are contained in the &quot;run-time image&quot;, which is located in the `lib/modules` file (at least in Java 18 on Windows). You can add your own modules to this file in a custom run-time image using `jlink`.","body":"When the <i>Java Platform Module System</i> was added in Java 9, the JDK was modularized. There is no <code>rt.jar</code> (or <code>tools.jar</code>) anymore. The standard Java classes are contained in the &quot;run-time image&quot;, which is located in the <code>lib&#47;modules</code> file (at least in Java 18 on Windows). You can add your own modules to this file in a custom run-time image using <code>jlink</code>."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1656782315,"post_id":72840986,"comment_id":128657632,"body_markdown":"But even before Java 9, you never had to add `rt.jar` to the class-path, as it was implicitly on the class-path. This is still true in Java 9+ (though the modules are implicitly on the _module-path_ now, instead of the _class-path_). In other words, for classes in the Java standard library, you don&#39;t have to use any special class-path/module-path configurations in order to use them. Just add the necessary imports to your source file.","body":"But even before Java 9, you never had to add <code>rt.jar</code> to the class-path, as it was implicitly on the class-path. This is still true in Java 9+ (though the modules are implicitly on the <i>module-path</i> now, instead of the <i>class-path</i>). In other words, for classes in the Java standard library, you don&#39;t have to use any special class-path/module-path configurations in order to use them. Just add the necessary imports to your source file."},{"owner":{"account_id":25709248,"reputation":11,"user_id":19468061,"display_name":"user19468061"},"score":0,"creation_date":1656785242,"post_id":72840986,"comment_id":128658273,"body_markdown":"@Slaw How does implicit work? Does the jvm automatically make the modules and &quot;rt.jar&quot;, for older versions, available to any class or jar file that runs in it?","body":"@Slaw How does implicit work? Does the jvm automatically make the modules and &quot;rt.jar&quot;, for older versions, available to any class or jar file that runs in it?"},{"owner":{"account_id":25709248,"reputation":11,"user_id":19468061,"display_name":"user19468061"},"score":0,"creation_date":1656786494,"post_id":72840986,"comment_id":128658570,"body_markdown":"@Slaw Eclipse is referencing a jar called &quot;jrt-fs&quot;. I am confused because if the base class libraries are implicitly in the modular/class paths why is eclipse explicitly pointing to this jar in the build path? Or Is eclipse just saying that they&#39;re there without actually doing anything, like configuring the module-path or class-path(for older versions) to include them?","body":"@Slaw Eclipse is referencing a jar called &quot;jrt-fs&quot;. I am confused because if the base class libraries are implicitly in the modular/class paths why is eclipse explicitly pointing to this jar in the build path? Or Is eclipse just saying that they&#39;re there without actually doing anything, like configuring the module-path or class-path(for older versions) to include them?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1656787134,"post_id":72840986,"comment_id":128658713,"body_markdown":"Yes, any classes in `rt.jar` (older versions) and the modules in the run-time image (newer versions) are automatically available. As for `jrt-fs.jar`, that is related to the &quot;Java Runtime File System&quot;, which is an implementation of `java.nio.file.FileSystemProvider` that provides a way to read the run-time image as if they were part of a file system. The `jrt-fs.jar` is compiled in such a way as to be compatible with Java 8 (JRT was added in Java 9, as part of the module system). This allows **tools** running on Java 8 to inspect the run-time image of JDK versions &gt;= 9.","body":"Yes, any classes in <code>rt.jar</code> (older versions) and the modules in the run-time image (newer versions) are automatically available. As for <code>jrt-fs.jar</code>, that is related to the &quot;Java Runtime File System&quot;, which is an implementation of <code>java.nio.file.FileSystemProvider</code> that provides a way to read the run-time image as if they were part of a file system. The <code>jrt-fs.jar</code> is compiled in such a way as to be compatible with Java 8 (JRT was added in Java 9, as part of the module system). This allows <b>tools</b> running on Java 8 to inspect the run-time image of JDK versions &gt;= 9."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1656787294,"post_id":72840986,"comment_id":128658746,"body_markdown":"To be clear, the classes in `jrt-fs.jar` are _also_ in the run-time image (i.e., in the `modules` file). But those classes are compiled to target the version of the JDK. The `jrt-fs.jar` is just a separate compilation of the same classes but targeted for Java 8, and is specifically for use of tools (such as IDEs) running on Java 8. Code compiled for newer versions of Java cannot be executed by older versions of Java.","body":"To be clear, the classes in <code>jrt-fs.jar</code> are <i>also</i> in the run-time image (i.e., in the <code>modules</code> file). But those classes are compiled to target the version of the JDK. The <code>jrt-fs.jar</code> is just a separate compilation of the same classes but targeted for Java 8, and is specifically for use of tools (such as IDEs) running on Java 8. Code compiled for newer versions of Java cannot be executed by older versions of Java."},{"owner":{"account_id":25709248,"reputation":11,"user_id":19468061,"display_name":"user19468061"},"score":0,"creation_date":1656791129,"post_id":72840986,"comment_id":128659464,"body_markdown":"@Slaw So for the &quot;ModulePath&quot; under the libraries tab for the Java Build Path in Eclipse when it shows &quot;JRE System Library&quot;, all Eclipse is doing is using the `jrt-fs.jar` to read the &quot;run-time image&quot; in the jdk? Meaning it isn&#39;t actually doing anything like including it in the &quot;modulepath&quot;, it&#39;s just showing the current &quot;Java-SE&quot; and its libraries?","body":"@Slaw So for the &quot;ModulePath&quot; under the libraries tab for the Java Build Path in Eclipse when it shows &quot;JRE System Library&quot;, all Eclipse is doing is using the <code>jrt-fs.jar</code> to read the &quot;run-time image&quot; in the jdk? Meaning it isn&#39;t actually doing anything like including it in the &quot;modulepath&quot;, it&#39;s just showing the current &quot;Java-SE&quot; and its libraries?"}],"answers":[{"tags":[],"owner":{"account_id":205047,"reputation":32145,"user_id":453594,"accept_rate":82,"display_name":"axel22"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688478093,"creation_date":1688478093,"answer_id":76613253,"question_id":72840986,"body_markdown":"Look into the `jmods` folder of your jdk installation - the `.jmod` files contain the modules of the JDK (each contains `.class` and/or `.so` files).\r\n\r\nYou can use the `bin/jmod` tool to list contents, extract, or create `.jmod` files. If you need to inspect the contents of the `.class` files that correspond to `.java` source files from the JDK, you can extract the `.class` files from these `.jmod` files.\r\nFor example, the `java.util` classes are in the `java.base.jmod` module file.","title":"How can you use java base class libraries without rt.jar?","body":"<p>Look into the <code>jmods</code> folder of your jdk installation - the <code>.jmod</code> files contain the modules of the JDK (each contains <code>.class</code> and/or <code>.so</code> files).</p>\n<p>You can use the <code>bin/jmod</code> tool to list contents, extract, or create <code>.jmod</code> files. If you need to inspect the contents of the <code>.class</code> files that correspond to <code>.java</code> source files from the JDK, you can extract the <code>.class</code> files from these <code>.jmod</code> files.\nFor example, the <code>java.util</code> classes are in the <code>java.base.jmod</code> module file.</p>\n"}],"owner":{"account_id":25709248,"reputation":11,"user_id":19468061,"display_name":"user19468061"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":392,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688478093,"creation_date":1656781814,"question_id":72840986,"body_markdown":"From:\r\nhttps://stackoverflow.com/questions/3091040/why-do-we-use-rt-jar-in-a-java-project\r\n\r\nI get that you need rt.jar to be able to use a base class library such as java `java.util`. \r\n\r\nThere is no &quot;rt.jar&quot; in the new java SDK. If I were to have a `.class` file compiled from a `.java` file that uses a library from the java base class libraries such as `java.util`, how would I be able to run it if I can&#39;t reference &quot;rt.jar&quot;?\r\n\r\nFrom my understanding when making a runnable jar file you use `classpath` to reference other libraries used in the jar. How can I reference the base class libraries when making a jar now that there is no &quot;rt.jar&quot;?","title":"How can you use java base class libraries without rt.jar?","body":"<p>From:\n<a href=\"https://stackoverflow.com/questions/3091040/why-do-we-use-rt-jar-in-a-java-project\">Why do we use rt.jar in a java project?</a></p>\n<p>I get that you need rt.jar to be able to use a base class library such as java <code>java.util</code>.</p>\n<p>There is no &quot;rt.jar&quot; in the new java SDK. If I were to have a <code>.class</code> file compiled from a <code>.java</code> file that uses a library from the java base class libraries such as <code>java.util</code>, how would I be able to run it if I can't reference &quot;rt.jar&quot;?</p>\n<p>From my understanding when making a runnable jar file you use <code>classpath</code> to reference other libraries used in the jar. How can I reference the base class libraries when making a jar now that there is no &quot;rt.jar&quot;?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","java-8"],"comments":[{"owner":{"account_id":5004953,"reputation":2134,"user_id":4022884,"accept_rate":89,"display_name":"Jesper"},"score":0,"creation_date":1631015503,"post_id":69043646,"comment_id":122104633,"body_markdown":"Please read the docs: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html#fixedDelay--","body":"Please read the docs: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html#fixedDelay--\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1631015508,"post_id":69043646,"comment_id":122104636,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630666794,"creation_date":1630666794,"answer_id":69043848,"question_id":69043646,"body_markdown":"As described in the [documentation][1], `fixedDelay` defines a period in milliseconds between the end of the last invocation and the start of the next.\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html#fixedDelay--\r\n\r\nIn your case, it basically sets it to every 5 days:\r\n\r\n - 3600: this is the number of seconds in an hour;\r\n - 1000: this turns the seconds into milliseconds;\r\n - 24: number of hours in a day;\r\n - 5: number of days.\r\n\r\nYou could also set it as `432000000` (which is the result of `1000 * 3600 * 24 * 5`) but it is way harder to read.","title":"I have a scheduled Java Spring application . Can any one tell me the format of fixedDelay?","body":"<p>As described in the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html#fixedDelay--\" rel=\"nofollow noreferrer\">documentation</a>, <code>fixedDelay</code> defines a period in milliseconds between the end of the last invocation and the start of the next.</p>\n<p>In your case, it basically sets it to every 5 days:</p>\n<ul>\n<li>3600: this is the number of seconds in an hour;</li>\n<li>1000: this turns the seconds into milliseconds;</li>\n<li>24: number of hours in a day;</li>\n<li>5: number of days.</li>\n</ul>\n<p>You could also set it as <code>432000000</code> (which is the result of <code>1000 * 3600 * 24 * 5</code>) but it is way harder to read.</p>\n"},{"tags":[],"owner":{"account_id":7875138,"reputation":41,"user_id":5951156,"display_name":"Nambi Rajan.P"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688477446,"creation_date":1688477446,"answer_id":76613164,"question_id":69043646,"body_markdown":"**initialDelay** - If you want to add *delay to the first execution* of the method for some reason, you can use initialDelay parameter indicating the number of milliseconds to wait before the first execution of the method.\r\n\r\n**fixedDelay** - adds a *delay between two executions of task/method*.\r\n\r\n\r\n[Fixed Delay Fixed Rate][1]\r\n\r\n\r\n  [1]: https://javahowtos.com/guides/107-spring/321-difference-between-fixedrate-and-fixeddelay-parameter-in-scheduled-in-spring.html#:~:text=The%20number%20you%20define%20for%20fixedDelay%20represents%20time%20in%20milliseconds.&amp;text=If%20you%20want%20to%20add,first%20execution%20of%20the%20method","title":"I have a scheduled Java Spring application . Can any one tell me the format of fixedDelay?","body":"<p><strong>initialDelay</strong> - If you want to add <em>delay to the first execution</em> of the method for some reason, you can use initialDelay parameter indicating the number of milliseconds to wait before the first execution of the method.</p>\n<p><strong>fixedDelay</strong> - adds a <em>delay between two executions of task/method</em>.</p>\n<p><a href=\"https://javahowtos.com/guides/107-spring/321-difference-between-fixedrate-and-fixeddelay-parameter-in-scheduled-in-spring.html#:%7E:text=The%20number%20you%20define%20for%20fixedDelay%20represents%20time%20in%20milliseconds.&amp;text=If%20you%20want%20to%20add,first%20execution%20of%20the%20method\" rel=\"nofollow noreferrer\">Fixed Delay Fixed Rate</a></p>\n"}],"owner":{"account_id":22647092,"reputation":1,"user_id":16822306,"display_name":"Fatha Mysore"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1688477446,"creation_date":1630665881,"question_id":69043646,"body_markdown":"In the Java Spring application, If any job is scheduled like... \r\n`@Scheduled(initialDelay = 1000 * 30, fixedDelay = 1000 * 3600 * 24 * 5)`\r\n\r\n\r\nPlease help me in understanding what this **(fixedDelay = 1000 * 3600 * 24 * 5)** does..??","title":"I have a scheduled Java Spring application . Can any one tell me the format of fixedDelay?","body":"<p>In the Java Spring application, If any job is scheduled like...\n<code>@Scheduled(initialDelay = 1000 * 30, fixedDelay = 1000 * 3600 * 24 * 5)</code></p>\n<p>Please help me in understanding what this <strong>(fixedDelay = 1000 * 3600 * 24 * 5)</strong> does..??</p>\n"},{"tags":["java","selenium-webdriver","testng"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":1,"creation_date":1688489627,"post_id":76613101,"comment_id":135079885,"body_markdown":"Where do you have the exception exactly? Show us the stacktrace","body":"Where do you have the exception exactly? Show us the stacktrace"},{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1688505926,"post_id":76613101,"comment_id":135082081,"body_markdown":"`java.lang.NullPointerException` : At which line?","body":"<code>java.lang.NullPointerException</code> : At which line?"}],"owner":{"account_id":28948396,"reputation":1,"user_id":22173547,"display_name":"Gayatree"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688476933,"creation_date":1688476933,"question_id":76613101,"body_markdown":"```\r\npublic class Register extends Base {\r\n\r\n\tpublic Register() {\r\n\t\tsuper();\r\n\t}\r\n\r\n\tWebDriver driver;\r\n\r\n\t@BeforeMethod\r\n\tpublic void setup() {\r\n\r\n\t\tdriver = initializeBrowserAndOpenApplicationUrl(prop.getProperty(&quot;browserName&quot;));\r\n\t\tHomePage homePage = new HomePage(driver);\r\n\t\thomePage.clickOnMyAccountDropMenu();\r\n\t\thomePage.selectRegisterOption();\r\n\r\n\t}\r\n\r\n\t@AfterMethod\r\n\tpublic void tearDown() {\r\n\t\tdriver.quit();\r\n\t}\r\n\r\n\t@Test(priority = 1)\r\n\tpublic void verifyRegisteringAnAccountWithMandatoryFields() {\r\n\t\tRegisterPage registerPage = new RegisterPage(driver);\r\n\t\tregisterPage.enterFirstName(dataProp.getProperty(&quot;firstName&quot;));\r\n\t\tregisterPage.enterLastName(dataProp.getProperty(&quot;lastname&quot;));\r\n\t\tregisterPage.enterEmailAddress(Utilities.generateEmailWithTimeStamp());\r\n\t\tregisterPage.enterTelephoneNumber(dataProp.getProperty(&quot;telephone&quot;));\r\n\t\tregisterPage.enterPassword(prop.getProperty(&quot;validPassword&quot;));\r\n\t\tregisterPage.enterConfirmPassword(prop.getProperty(&quot;validPassword&quot;));\r\n\t\tregisterPage.selectPrivacyPolicy();\r\n\t\tregisterPage.clickOnContinueButton();\r\n\r\n\t\tAccountSuccessPage accountSuccessPage= new AccountSuccessPage(driver);\r\n\t\tString actualSuccessHeading = accountSuccessPage.retrieveAccountSuccessPageHeading();\r\n\t\tassertEquals(actualSuccessHeading, dataProp.getProperty(&quot;accountSuccessfullyCreatedHeading&quot;),\r\n\t\t\t\t&quot;Account Success Page is not displayed&quot;);\r\n\r\n\t}\r\n\r\n\t@Test(priority = 2)\r\n\tpublic void verifyRegisteringAccountByProvidingAllFields() {\r\n\t\tRegisterPage registerPage = new RegisterPage(driver);\r\n\t\tregisterPage.enterFirstName(dataProp.getProperty(&quot;firstName&quot;));\r\n\t\tregisterPage.enterLastName(dataProp.getProperty(&quot;lastname&quot;));\r\n\t\tregisterPage.enterEmailAddress(Utilities.generateEmailWithTimeStamp());\r\n\t\tregisterPage.enterTelephoneNumber(dataProp.getProperty(&quot;telephone&quot;));\r\n\t\tregisterPage.enterPassword(prop.getProperty(&quot;validPassword&quot;));\r\n\t\tregisterPage.enterConfirmPassword(prop.getProperty(&quot;validPassword&quot;));\r\n\t\tregisterPage.selectYesNewsLetterOption();\r\n\t\tregisterPage.selectPrivacyPolicy();\r\n\t\tregisterPage.clickOnContinueButton();\r\n\r\n\t\tAccountSuccessPage accountSuccessPage= new AccountSuccessPage(driver);\r\n\t\tString actualSuccessHeading = accountSuccessPage.retrieveAccountSuccessPageHeading();\r\n\t\tassertEquals(actualSuccessHeading, dataProp.getProperty(&quot;accountSuccessfullyCreatedHeading&quot;),\r\n\t\t\t\t&quot;Account Success Page is not displayed&quot;);\r\n\r\n\t}\r\n\r\n\t@Test(priority = 3)\r\n\tpublic void verifyRegisteringAccountWithExistingeEmailAddress() {\r\n\r\n\t\tdriver.findElement(By.id(&quot;input-firstname&quot;)).sendKeys(dataProp.getProperty(&quot;firstName&quot;));\r\n\t\tdriver.findElement(By.id(&quot;input-lastname&quot;)).sendKeys(dataProp.getProperty(&quot;lastname&quot;));\r\n\t\tdriver.findElement(By.id(&quot;input-email&quot;)).sendKeys(prop.getProperty(&quot;validEmail&quot;));\r\n\t\tdriver.findElement(By.id(&quot;input-telephone&quot;)).sendKeys(dataProp.getProperty(&quot;telephone&quot;));\r\n\t\tdriver.findElement(By.id(&quot;input-password&quot;)).sendKeys(prop.getProperty(&quot;validPassword&quot;));\r\n\t\tdriver.findElement(By.id(&quot;input-confirm&quot;)).sendKeys(prop.getProperty(&quot;validPassword&quot;));\r\n\t\tdriver.findElement(By.xpath(&quot;//input[@name=&#39;newsletter&#39;][@value=&#39;1&#39;]&quot;)).click();\r\n\t\tdriver.findElement(By.name(&quot;agree&quot;)).click();\r\n\t\tdriver.findElement(By.xpath(&quot;//input[@value=&#39;Continue&#39;]&quot;)).click();\r\n\t\tString actualWarning = driver.findElement(By.xpath(&quot;//div[contains(@class,&#39;alert-dismissible&#39;)]&quot;)).getText();\r\n\t\tassertTrue(actualWarning.contains(dataProp.getProperty(&quot;duplicateEmailWarning&quot;)),\r\n\t\t\t\t&quot;Warning message regarding duplicate Email Address is not displayed&quot;);\r\n\r\n\t}\r\n```\r\n\r\nI am getting this exception java.lang.NullPointerException\r\n\r\nI have declared driver in setup code and not written twice still getting this exception\r\n\r\nThis is my first time using TestNg.Currently i have associated the test case to valid login chrome, but would like to be able to run all 3. Is there a way to associate the 1 test case to those tests or would i have to duplicate the test case per browser","title":"Why getting null pointer exception for driver in testng?","body":"<pre><code>public class Register extends Base {\n\n    public Register() {\n        super();\n    }\n\n    WebDriver driver;\n\n    @BeforeMethod\n    public void setup() {\n\n        driver = initializeBrowserAndOpenApplicationUrl(prop.getProperty(&quot;browserName&quot;));\n        HomePage homePage = new HomePage(driver);\n        homePage.clickOnMyAccountDropMenu();\n        homePage.selectRegisterOption();\n\n    }\n\n    @AfterMethod\n    public void tearDown() {\n        driver.quit();\n    }\n\n    @Test(priority = 1)\n    public void verifyRegisteringAnAccountWithMandatoryFields() {\n        RegisterPage registerPage = new RegisterPage(driver);\n        registerPage.enterFirstName(dataProp.getProperty(&quot;firstName&quot;));\n        registerPage.enterLastName(dataProp.getProperty(&quot;lastname&quot;));\n        registerPage.enterEmailAddress(Utilities.generateEmailWithTimeStamp());\n        registerPage.enterTelephoneNumber(dataProp.getProperty(&quot;telephone&quot;));\n        registerPage.enterPassword(prop.getProperty(&quot;validPassword&quot;));\n        registerPage.enterConfirmPassword(prop.getProperty(&quot;validPassword&quot;));\n        registerPage.selectPrivacyPolicy();\n        registerPage.clickOnContinueButton();\n\n        AccountSuccessPage accountSuccessPage= new AccountSuccessPage(driver);\n        String actualSuccessHeading = accountSuccessPage.retrieveAccountSuccessPageHeading();\n        assertEquals(actualSuccessHeading, dataProp.getProperty(&quot;accountSuccessfullyCreatedHeading&quot;),\n                &quot;Account Success Page is not displayed&quot;);\n\n    }\n\n    @Test(priority = 2)\n    public void verifyRegisteringAccountByProvidingAllFields() {\n        RegisterPage registerPage = new RegisterPage(driver);\n        registerPage.enterFirstName(dataProp.getProperty(&quot;firstName&quot;));\n        registerPage.enterLastName(dataProp.getProperty(&quot;lastname&quot;));\n        registerPage.enterEmailAddress(Utilities.generateEmailWithTimeStamp());\n        registerPage.enterTelephoneNumber(dataProp.getProperty(&quot;telephone&quot;));\n        registerPage.enterPassword(prop.getProperty(&quot;validPassword&quot;));\n        registerPage.enterConfirmPassword(prop.getProperty(&quot;validPassword&quot;));\n        registerPage.selectYesNewsLetterOption();\n        registerPage.selectPrivacyPolicy();\n        registerPage.clickOnContinueButton();\n\n        AccountSuccessPage accountSuccessPage= new AccountSuccessPage(driver);\n        String actualSuccessHeading = accountSuccessPage.retrieveAccountSuccessPageHeading();\n        assertEquals(actualSuccessHeading, dataProp.getProperty(&quot;accountSuccessfullyCreatedHeading&quot;),\n                &quot;Account Success Page is not displayed&quot;);\n\n    }\n\n    @Test(priority = 3)\n    public void verifyRegisteringAccountWithExistingeEmailAddress() {\n\n        driver.findElement(By.id(&quot;input-firstname&quot;)).sendKeys(dataProp.getProperty(&quot;firstName&quot;));\n        driver.findElement(By.id(&quot;input-lastname&quot;)).sendKeys(dataProp.getProperty(&quot;lastname&quot;));\n        driver.findElement(By.id(&quot;input-email&quot;)).sendKeys(prop.getProperty(&quot;validEmail&quot;));\n        driver.findElement(By.id(&quot;input-telephone&quot;)).sendKeys(dataProp.getProperty(&quot;telephone&quot;));\n        driver.findElement(By.id(&quot;input-password&quot;)).sendKeys(prop.getProperty(&quot;validPassword&quot;));\n        driver.findElement(By.id(&quot;input-confirm&quot;)).sendKeys(prop.getProperty(&quot;validPassword&quot;));\n        driver.findElement(By.xpath(&quot;//input[@name='newsletter'][@value='1']&quot;)).click();\n        driver.findElement(By.name(&quot;agree&quot;)).click();\n        driver.findElement(By.xpath(&quot;//input[@value='Continue']&quot;)).click();\n        String actualWarning = driver.findElement(By.xpath(&quot;//div[contains(@class,'alert-dismissible')]&quot;)).getText();\n        assertTrue(actualWarning.contains(dataProp.getProperty(&quot;duplicateEmailWarning&quot;)),\n                &quot;Warning message regarding duplicate Email Address is not displayed&quot;);\n\n    }\n</code></pre>\n<p>I am getting this exception java.lang.NullPointerException</p>\n<p>I have declared driver in setup code and not written twice still getting this exception</p>\n<p>This is my first time using TestNg.Currently i have associated the test case to valid login chrome, but would like to be able to run all 3. Is there a way to associate the 1 test case to those tests or would i have to duplicate the test case per browser</p>\n"},{"tags":["java","pact"],"answers":[{"comments":[{"owner":{"account_id":10454420,"reputation":43,"user_id":7706985,"display_name":"drone"},"score":1,"creation_date":1611159546,"post_id":65801584,"comment_id":116362905,"body_markdown":"yea, I was using `import au.com.dius.pact.core.model.annotations.PactFolder;`\nThanks.","body":"yea, I was using <code>import au.com.dius.pact.core.model.annotations.PactFolder;</code> Thanks."}],"tags":[],"owner":{"account_id":991358,"reputation":3832,"user_id":1008568,"display_name":"Matthew Fellows"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1611103209,"creation_date":1611103209,"answer_id":65801584,"question_id":65793405,"body_markdown":"Double check that you&#39;re importing the right `@PactFolder` annotation.\r\n\r\n```\r\nimport au.com.dius.pact.provider.junitsupport.loader.PactFolder;\r\n```\r\n\r\nI think this has caused issues due to an unfortunate naming conflict.","title":"Pact Spring/JUnit5, &quot;At least one pact source must be present on the test class&quot;","body":"<p>Double check that you're importing the right <code>@PactFolder</code> annotation.</p>\n<pre><code>import au.com.dius.pact.provider.junitsupport.loader.PactFolder;\n</code></pre>\n<p>I think this has caused issues due to an unfortunate naming conflict.</p>\n"},{"tags":[],"owner":{"account_id":11562165,"reputation":2691,"user_id":8471555,"display_name":"Marian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688476823,"creation_date":1688476823,"answer_id":76613075,"question_id":65793405,"body_markdown":"I had the same error message in a project with messy pact dependencies. Different artefacts in different versions, i.e. 4.0.10 and 4.6.0 as well as some redundant dependencies (version number omitted):\r\n```\r\ntestImplementation(&quot;au.com.dius&quot;, &quot;pact-jvm-consumer-junit5&quot;)\r\ntestImplementation(&quot;au.com.dius.pact.consumer&quot;, &quot;junit5&quot;)\r\ntestImplementation(&quot;au.com.dius.pact&quot;, &quot;provider&quot;)\r\ntestImplementation(&quot;au.com.dius&quot;, &quot;pact-jvm-provider&quot;)\r\ntestImplementation(&quot;au.com.dius&quot;, &quot;pact-jvm-provider-junit5-spring&quot;)\r\n...\r\n```\r\nFor me, the solution was to use everywhere the same version (4.6.0) and limiting the dependencies to: \r\n```\r\ntestImplementation(&quot;au.com.dius.pact.consumer&quot;, &quot;junit5&quot;)\r\ntestImplementation(&quot;au.com.dius.pact.provider&quot;, &quot;junit5spring&quot;)\r\ntestImplementation(&quot;au.com.dius.pact.provider&quot;, &quot;junit5&quot;)\r\n```","title":"Pact Spring/JUnit5, &quot;At least one pact source must be present on the test class&quot;","body":"<p>I had the same error message in a project with messy pact dependencies. Different artefacts in different versions, i.e. 4.0.10 and 4.6.0 as well as some redundant dependencies (version number omitted):</p>\n<pre><code>testImplementation(&quot;au.com.dius&quot;, &quot;pact-jvm-consumer-junit5&quot;)\ntestImplementation(&quot;au.com.dius.pact.consumer&quot;, &quot;junit5&quot;)\ntestImplementation(&quot;au.com.dius.pact&quot;, &quot;provider&quot;)\ntestImplementation(&quot;au.com.dius&quot;, &quot;pact-jvm-provider&quot;)\ntestImplementation(&quot;au.com.dius&quot;, &quot;pact-jvm-provider-junit5-spring&quot;)\n...\n</code></pre>\n<p>For me, the solution was to use everywhere the same version (4.6.0) and limiting the dependencies to:</p>\n<pre><code>testImplementation(&quot;au.com.dius.pact.consumer&quot;, &quot;junit5&quot;)\ntestImplementation(&quot;au.com.dius.pact.provider&quot;, &quot;junit5spring&quot;)\ntestImplementation(&quot;au.com.dius.pact.provider&quot;, &quot;junit5&quot;)\n</code></pre>\n"}],"owner":{"account_id":10454420,"reputation":43,"user_id":7706985,"display_name":"drone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1662,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":65801584,"answer_count":2,"score":4,"last_activity_date":1688476823,"creation_date":1611066059,"question_id":65793405,"body_markdown":"I&#39;m trying to create a pact verification test with Pact/Junit5.\r\nThis is the example I started with:\r\n\r\n```\r\n@Provider(&quot;myAwesomeService&quot;)\r\n@PactFolder(&quot;pacts&quot;)\r\nclass MockMvcTestTargetStandaloneMockMvcTestJava {\r\n\r\n    @BeforeEach\r\n    void before(PactVerificationContext context) {\r\n        MockMvcTestTarget testTarget = new MockMvcTestTarget();\r\n        testTarget.setControllers(new DataResource());\r\n        context.setTarget(testTarget);\r\n    }\r\n    @RestController\r\n    static class DataResource {\r\n        @GetMapping(&quot;/data&quot;)\r\n        @ResponseStatus(HttpStatus.NO_CONTENT)\r\n        void getData(@RequestParam(&quot;ticketId&quot;) String ticketId) {\r\n        }\r\n    }\r\n\r\n    @TestTemplate\r\n    @ExtendWith(PactVerificationInvocationContextProvider.class)\r\n    void pactVerificationTestTemplate(PactVerificationContext context) {\r\n        context.verifyInteraction();\r\n    }\r\n}\r\n\r\n```\r\nThe contract file is located in &quot;src/test/resources/pacts&quot;&lt;br/&gt;\r\nbut I&#39;m getting this error:\r\n```\r\n14:53:30.452 [main] DEBUG au.com.dius.pact.provider.junit5.PactVerificationInvocationContextProvider - provideTestTemplateInvocationContexts called\r\n14:53:30.456 [main] DEBUG au.com.dius.pact.provider.junit5.PactVerificationInvocationContextProvider - Verifying pacts for provider &#39;myAwesomeService&#39; and consumer &#39;null&#39;\r\n14:53:30.456 [main] DEBUG au.com.dius.pact.provider.junit5.PactVerificationInvocationContextProvider - Pact source on test class: null\r\n14:53:30.726 [main] DEBUG au.com.dius.pact.provider.junit5.PactVerificationInvocationContextProvider - Pact loaders on test class: []\r\njava.lang.UnsupportedOperationException: At least one pact source must be present on the test class\r\n```\r\nUsing Pact version 4.1.7","title":"Pact Spring/JUnit5, &quot;At least one pact source must be present on the test class&quot;","body":"<p>I'm trying to create a pact verification test with Pact/Junit5.\nThis is the example I started with:</p>\n<pre><code>@Provider(&quot;myAwesomeService&quot;)\n@PactFolder(&quot;pacts&quot;)\nclass MockMvcTestTargetStandaloneMockMvcTestJava {\n\n    @BeforeEach\n    void before(PactVerificationContext context) {\n        MockMvcTestTarget testTarget = new MockMvcTestTarget();\n        testTarget.setControllers(new DataResource());\n        context.setTarget(testTarget);\n    }\n    @RestController\n    static class DataResource {\n        @GetMapping(&quot;/data&quot;)\n        @ResponseStatus(HttpStatus.NO_CONTENT)\n        void getData(@RequestParam(&quot;ticketId&quot;) String ticketId) {\n        }\n    }\n\n    @TestTemplate\n    @ExtendWith(PactVerificationInvocationContextProvider.class)\n    void pactVerificationTestTemplate(PactVerificationContext context) {\n        context.verifyInteraction();\n    }\n}\n\n</code></pre>\n<p>The contract file is located in &quot;src/test/resources/pacts&quot;<br/>\nbut I'm getting this error:</p>\n<pre><code>14:53:30.452 [main] DEBUG au.com.dius.pact.provider.junit5.PactVerificationInvocationContextProvider - provideTestTemplateInvocationContexts called\n14:53:30.456 [main] DEBUG au.com.dius.pact.provider.junit5.PactVerificationInvocationContextProvider - Verifying pacts for provider 'myAwesomeService' and consumer 'null'\n14:53:30.456 [main] DEBUG au.com.dius.pact.provider.junit5.PactVerificationInvocationContextProvider - Pact source on test class: null\n14:53:30.726 [main] DEBUG au.com.dius.pact.provider.junit5.PactVerificationInvocationContextProvider - Pact loaders on test class: []\njava.lang.UnsupportedOperationException: At least one pact source must be present on the test class\n</code></pre>\n<p>Using Pact version 4.1.7</p>\n"},{"tags":["java","multithreading","synchronization","locking","race-condition"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":4,"creation_date":1688469758,"post_id":76611650,"comment_id":135075670,"body_markdown":"`counter++` amounts to `counter = Integer.valueOf(counter.intValue()+1);`, which reassigns the `counter` variable, so synchronizing on its old (or new) value is instantly futile.","body":"<code>counter++</code> amounts to <code>counter = Integer.valueOf(counter.intValue()+1);</code>, which reassigns the <code>counter</code> variable, so synchronizing on its old (or new) value is instantly futile."},{"owner":{"account_id":12419314,"reputation":535,"user_id":11968199,"display_name":"Maksym Kosenko"},"score":0,"creation_date":1688478998,"post_id":76611650,"comment_id":135077755,"body_markdown":"Does this answer your question? [Synchronizing on an Integer value](https://stackoverflow.com/questions/659915/synchronizing-on-an-integer-value)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/659915/synchronizing-on-an-integer-value\">Synchronizing on an Integer value</a>"}],"answers":[{"comments":[{"owner":{"account_id":2282818,"reputation":1576,"user_id":2007533,"accept_rate":47,"display_name":"Kumar"},"score":0,"creation_date":1688467113,"post_id":76611726,"comment_id":135075098,"body_markdown":"The issue is with locking, I don&#39;t think `volatile` will solve it. Anyways tried and didn&#39;t work.","body":"The issue is with locking, I don&#39;t think <code>volatile</code> will solve it. Anyways tried and didn&#39;t work."},{"owner":{"account_id":12419314,"reputation":535,"user_id":11968199,"display_name":"Maksym Kosenko"},"score":0,"creation_date":1688467394,"post_id":76611726,"comment_id":135075151,"body_markdown":"It will not help for sure, more details [here](https://stackoverflow.com/questions/9749746/what-is-the-difference-between-atomic-volatile-synchronized)","body":"It will not help for sure, more details <a href=\"https://stackoverflow.com/questions/9749746/what-is-the-difference-between-atomic-volatile-synchronized\">here</a>"}],"tags":[],"owner":{"account_id":10089553,"reputation":1,"user_id":7456962,"display_name":"Vidhu Shekhar"},"comment_count":2,"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1688466803,"creation_date":1688466803,"answer_id":76611726,"question_id":76611650,"body_markdown":"public static **volatile** Integer counter = new Integer(0);\r\n\r\nUse volatile to avoid visibility issues among threads. This should fix the problem.","title":"Issue in JAVA synchronization with static Object as lock","body":"<p>public static <strong>volatile</strong> Integer counter = new Integer(0);</p>\n<p>Use volatile to avoid visibility issues among threads. This should fix the problem.</p>\n"},{"comments":[{"owner":{"account_id":2282818,"reputation":1576,"user_id":2007533,"accept_rate":47,"display_name":"Kumar"},"score":0,"creation_date":1688467641,"post_id":76611759,"comment_id":135075203,"body_markdown":"1) Thanks but can you explain why Integer is not a right choice as a lock object? End of day, it is also an object so should be okay to use as mutex..\n2) I think, if I use AtomicVariable and something like `incrementAndGet` then I don&#39;t even need `synchronized`. It will break only in case increment is done like `counter.set(counter.get()+1)`","body":"1) Thanks but can you explain why Integer is not a right choice as a lock object? End of day, it is also an object so should be okay to use as mutex.. 2) I think, if I use AtomicVariable and something like <code>incrementAndGet</code> then I don&#39;t even need <code>synchronized</code>. It will break only in case increment is done like <code>counter.set(counter.get()+1)</code>"},{"owner":{"account_id":12419314,"reputation":535,"user_id":11968199,"display_name":"Maksym Kosenko"},"score":1,"creation_date":1688467819,"post_id":76611759,"comment_id":135075245,"body_markdown":"Does this answer to your question - https://stackoverflow.com/questions/659915/synchronizing-on-an-integer-value ?","body":"Does this answer to your question - <a href=\"https://stackoverflow.com/questions/659915/synchronizing-on-an-integer-value\" title=\"synchronizing on an integer value\">stackoverflow.com/questions/659915/&hellip;</a> ?"},{"owner":{"account_id":12419314,"reputation":535,"user_id":11968199,"display_name":"Maksym Kosenko"},"score":1,"creation_date":1688468370,"post_id":76611759,"comment_id":135075354,"body_markdown":"Yes, AtomicInteger is thread safe, in that particular scenario synchronization is unnecessary.","body":"Yes, AtomicInteger is thread safe, in that particular scenario synchronization is unnecessary."}],"tags":[],"owner":{"account_id":12419314,"reputation":535,"user_id":11968199,"display_name":"Maksym Kosenko"},"comment_count":3,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1688467052,"creation_date":1688467052,"answer_id":76611759,"question_id":76611650,"body_markdown":"Integer is not a right choice as a lock object. For that purpose AtomicInteger has been developed.\r\nSo the following code should work as expected.\r\n\r\n    public class Class {\r\n    public static AtomicInteger counter = new AtomicInteger(0);\r\n\r\n    static void increment() {\r\n        synchronized (counter) {\r\n            counter.incrementAndGet();\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        for (int j = 0; j &lt; 100; j++) {\r\n            counter.set(0);\r\n            List&lt;Thread&gt; list = new ArrayList&lt;&gt;();\r\n            for (int i = 0; i &lt; 200; i++) {\r\n                Thread t = new Thread(Class::increment);\r\n                list.add(t);\r\n                t.start();\r\n            }\r\n            for (Thread t : list) {\r\n                t.join();\r\n            }\r\n            if (counter.get() &lt; 200) {\r\n                System.out.println(counter);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nAlso I would recommend to research AtomicInteger type in details to get a real understanding how it works under the hood and why Integer can not be used in a case like yours.\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicInteger.html\r\nhttps://stackoverflow.com/questions/4818699/practical-uses-for-atomicinteger","title":"Issue in JAVA synchronization with static Object as lock","body":"<p>Integer is not a right choice as a lock object. For that purpose AtomicInteger has been developed.\nSo the following code should work as expected.</p>\n<pre><code>public class Class {\npublic static AtomicInteger counter = new AtomicInteger(0);\n\nstatic void increment() {\n    synchronized (counter) {\n        counter.incrementAndGet();\n    }\n}\n\npublic static void main(String[] args) throws InterruptedException {\n    for (int j = 0; j &lt; 100; j++) {\n        counter.set(0);\n        List&lt;Thread&gt; list = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; 200; i++) {\n            Thread t = new Thread(Class::increment);\n            list.add(t);\n            t.start();\n        }\n        for (Thread t : list) {\n            t.join();\n        }\n        if (counter.get() &lt; 200) {\n            System.out.println(counter);\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n<p>Also I would recommend to research AtomicInteger type in details to get a real understanding how it works under the hood and why Integer can not be used in a case like yours.\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicInteger.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicInteger.html</a>\n<a href=\"https://stackoverflow.com/questions/4818699/practical-uses-for-atomicinteger\">Practical uses for AtomicInteger</a></p>\n"},{"comments":[{"owner":{"account_id":137535,"reputation":4952,"user_id":341772,"accept_rate":60,"display_name":"Max"},"score":0,"creation_date":1688513317,"post_id":76612907,"comment_id":135082784,"body_markdown":"I&#39;m on board with most of this answer, but `setPlain` still seems unsafe to me, since multiple threads are read-update-write-ing the same value. If you put `setPlain` inside a `synchronized` block, sure...that would work I suppose.","body":"I&#39;m on board with most of this answer, but <code>setPlain</code> still seems unsafe to me, since multiple threads are read-update-write-ing the same value. If you put <code>setPlain</code> inside a <code>synchronized</code> block, sure...that would work I suppose."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1688543366,"post_id":76612907,"comment_id":135085653,"body_markdown":"@Max: when `setPlain` is used before any of the accessing threads are started, then it&#39;s safe, since there&#39;s no risk of race conditions.","body":"@Max: when <code>setPlain</code> is used before any of the accessing threads are started, then it&#39;s safe, since there&#39;s no risk of race conditions."}],"tags":[],"owner":{"account_id":4217515,"reputation":8460,"user_id":3453226,"accept_rate":77,"display_name":"spongebob"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1688476352,"creation_date":1688475509,"answer_id":76612907,"question_id":76611650,"body_markdown":"[`Integer`][1] is immutable, so `counter++` resolves to and assigns a different instance for the incremented value.\r\n\r\nSo `synchronized (counter) {}` synchronizes on a different monitor when different instances of `Integer` become visible to the current thread.\r\n\r\nThe solution is to use [`AtomicInteger`][2], which features a [`getAndIncrement()`][3] method which increments the value as if a lock was held.\r\n\r\n    private static final AtomicInteger counter = new AtomicInteger();\r\n    \r\n    static void increment() {\r\n        counter.getAndIncrement();\r\n    }\r\n    \r\n    // ...\r\n    counter.setPlain(0);\r\n    // ...\r\n    if (counter.getPlain() &lt; 200) {\r\n    // ...\r\n\r\n[`setPlain()`][4]/[`getPlain()`][5] can be used instead of [`set()`][6]/[`get()`][7], since `Thread#start()` and `Thread#join()` make sure what happened before is visible and what happens next can see what happened before, respectively.\r\n\r\n----------\r\n\r\nNote that a method reference can be used here:\r\n\r\n    Thread t = new Thread(Class::increment);\r\n\r\nNote that [`Integer(int)`][8] is deprecated:\r\n\r\n    Integer counter = 0;\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html#getAndIncrement()\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html#setPlain(int)\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html#getPlain()\r\n  [6]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html#set(int)\r\n  [7]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html#get()\r\n  [8]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html#%3Cinit%3E(int)","title":"Issue in JAVA synchronization with static Object as lock","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html\" rel=\"nofollow noreferrer\"><code>Integer</code></a> is immutable, so <code>counter++</code> resolves to and assigns a different instance for the incremented value.</p>\n<p>So <code>synchronized (counter) {}</code> synchronizes on a different monitor when different instances of <code>Integer</code> become visible to the current thread.</p>\n<p>The solution is to use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html\" rel=\"nofollow noreferrer\"><code>AtomicInteger</code></a>, which features a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html#getAndIncrement()\" rel=\"nofollow noreferrer\"><code>getAndIncrement()</code></a> method which increments the value as if a lock was held.</p>\n<pre><code>private static final AtomicInteger counter = new AtomicInteger();\n\nstatic void increment() {\n    counter.getAndIncrement();\n}\n\n// ...\ncounter.setPlain(0);\n// ...\nif (counter.getPlain() &lt; 200) {\n// ...\n</code></pre>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html#setPlain(int)\" rel=\"nofollow noreferrer\"><code>setPlain()</code></a>/<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html#getPlain()\" rel=\"nofollow noreferrer\"><code>getPlain()</code></a> can be used instead of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html#set(int)\" rel=\"nofollow noreferrer\"><code>set()</code></a>/<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html#get()\" rel=\"nofollow noreferrer\"><code>get()</code></a>, since <code>Thread#start()</code> and <code>Thread#join()</code> make sure what happened before is visible and what happens next can see what happened before, respectively.</p>\n<hr />\n<p>Note that a method reference can be used here:</p>\n<pre><code>Thread t = new Thread(Class::increment);\n</code></pre>\n<p>Note that <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html#%3Cinit%3E(int)\" rel=\"nofollow noreferrer\"><code>Integer(int)</code></a> is deprecated:</p>\n<pre><code>Integer counter = 0;\n</code></pre>\n"}],"owner":{"account_id":2282818,"reputation":1576,"user_id":2007533,"accept_rate":47,"display_name":"Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76612907,"answer_count":3,"score":0,"last_activity_date":1688476352,"creation_date":1688466171,"question_id":76611650,"body_markdown":"Please refer the below code where 200 threads are trying to increment the `counter` variable simultaneously. \r\n\r\nThe program tries to do the same 100 times. It prints the value of variable in case the incremented value doesn&#39;t reach to 200 - meaning some threads interfered with each other.\r\n\r\nTo avoid interference, I used `synchronized` keyword. It works well if I use `synchronized` on static lock object (commented line), but if I use `synchronized` on `counter` variable, I still see many times the value doesn&#39;t get incremented to 200. \r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Class {\r\n\tpublic static Integer counter = new Integer(0);\r\n\t\r\n\t//public static Object lock = new Object();\r\n\r\n\tstatic void increment() {\r\n\t\tsynchronized (counter) {\r\n\t\t\tcounter++;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args) throws InterruptedException {\r\n\t\tfor (int j = 0; j &lt; 100; j++) {\r\n\t\t\tcounter = 0;\r\n\t\t\tList&lt;Thread&gt; list = new ArrayList&lt;&gt;();\r\n\t\t\tfor (int i = 0; i &lt; 200; i++) {\r\n\t\t\t\tThread t = new Thread(() -&gt; increment());\r\n\t\t\t\tlist.add(t);\r\n\t\t\t\tt.start();\r\n\t\t\t}\r\n\t\t\tfor (Thread t : list) {\r\n\t\t\t\tt.join();\r\n\t\t\t}\r\n\t\t\tif (counter &lt; 200){\r\n\t\t\t\tSystem.out.println(counter);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nWhat is the reason for such behaviour?\r\n","title":"Issue in JAVA synchronization with static Object as lock","body":"<p>Please refer the below code where 200 threads are trying to increment the <code>counter</code> variable simultaneously.</p>\n<p>The program tries to do the same 100 times. It prints the value of variable in case the incremented value doesn't reach to 200 - meaning some threads interfered with each other.</p>\n<p>To avoid interference, I used <code>synchronized</code> keyword. It works well if I use <code>synchronized</code> on static lock object (commented line), but if I use <code>synchronized</code> on <code>counter</code> variable, I still see many times the value doesn't get incremented to 200.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class Class {\n    public static Integer counter = new Integer(0);\n    \n    //public static Object lock = new Object();\n\n    static void increment() {\n        synchronized (counter) {\n            counter++;\n        }\n    }\n\n    public static void main(String[] args) throws InterruptedException {\n        for (int j = 0; j &lt; 100; j++) {\n            counter = 0;\n            List&lt;Thread&gt; list = new ArrayList&lt;&gt;();\n            for (int i = 0; i &lt; 200; i++) {\n                Thread t = new Thread(() -&gt; increment());\n                list.add(t);\n                t.start();\n            }\n            for (Thread t : list) {\n                t.join();\n            }\n            if (counter &lt; 200){\n                System.out.println(counter);\n            }\n        }\n    }\n}\n</code></pre>\n<p>What is the reason for such behaviour?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1688220667,"post_id":76594265,"comment_id":135046497,"body_markdown":"Please show exactly how you are typing in the information.  All on one line, on multiple lines, etc.","body":"Please show exactly how you are typing in the information.  All on one line, on multiple lines, etc."}],"answers":[{"comments":[{"owner":{"account_id":28929877,"reputation":11,"user_id":22158850,"display_name":"Ansuman Pany"},"score":0,"creation_date":1688296977,"post_id":76594276,"comment_id":135052582,"body_markdown":"finally this one worked. thank you so much for your help. it means a lot to me","body":"finally this one worked. thank you so much for your help. it means a lot to me"},{"owner":{"account_id":5919781,"reputation":29352,"user_id":4657412,"display_name":"DavidW"},"score":0,"creation_date":1688332221,"post_id":76594276,"comment_id":135056630,"body_markdown":"This answer looks like ChatGPT","body":"This answer looks like ChatGPT"},{"owner":{"account_id":16352934,"reputation":16788,"user_id":11810933,"display_name":"NotTheDr01ds"},"score":0,"creation_date":1688423275,"post_id":76594276,"comment_id":135069712,"body_markdown":"Welcome to Stack Overflow!\n\nMost or all of your eight recent answers here appear likely to have been entirely or partially written by AI (e.g., ChatGPT).  Please be aware that [posting AI-generated content is not allowed here](//meta.stackoverflow.com/q/421831). If you used an AI tool to assist with any answer, I would encourage you to delete it.\n\nWe do hope you&#39;ll stick around and become a valuable part of our community by posting *your own* quality content. Thanks!","body":"Welcome to Stack Overflow!  Most or all of your eight recent answers here appear likely to have been entirely or partially written by AI (e.g., ChatGPT).  Please be aware that <a href=\"//meta.stackoverflow.com/q/421831\">posting AI-generated content is not allowed here</a>. If you used an AI tool to assist with any answer, I would encourage you to delete it.  We do hope you&#39;ll stick around and become a valuable part of our community by posting <i>your own</i> quality content. Thanks!"},{"owner":{"account_id":16352934,"reputation":16788,"user_id":11810933,"display_name":"NotTheDr01ds"},"score":0,"creation_date":1688423282,"post_id":76594276,"comment_id":135069715,"body_markdown":"**Readers should review this answer carefully and critically, as AI-generated information often contains fundamental errors and misinformation.** If you observe quality issues and/or have reason to believe that this answer was generated by AI, please leave feedback accordingly. The moderation team can use your help to identify quality issues.","body":"<b>Readers should review this answer carefully and critically, as AI-generated information often contains fundamental errors and misinformation.</b> If you observe quality issues and/or have reason to believe that this answer was generated by AI, please leave feedback accordingly. The moderation team can use your help to identify quality issues."},{"owner":{"account_id":216196,"reputation":79144,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"score":0,"creation_date":1689081835,"post_id":76594276,"comment_id":135160413,"body_markdown":"This answer looks like it was generated by an AI (like ChatGPT), not by an actual human being. You should be aware that [posting AI-generated output is officially **BANNED** on Stack Overflow](https://meta.stackoverflow.com/q/421831). If this answer was indeed generated by an AI, then I strongly suggest you delete it before you get yourself into even bigger trouble: **WE TAKE PLAGIARISM SERIOUSLY HERE.** Please read: [Why posting GPT and ChatGPT generated answers is not currently allowed](https://stackoverflow.com/help/gpt-policy).","body":"This answer looks like it was generated by an AI (like ChatGPT), not by an actual human being. You should be aware that <a href=\"https://meta.stackoverflow.com/q/421831\">posting AI-generated output is officially <b>BANNED</b> on Stack Overflow</a>. If this answer was indeed generated by an AI, then I strongly suggest you delete it before you get yourself into even bigger trouble: <b>WE TAKE PLAGIARISM SERIOUSLY HERE.</b> Please read: <a href=\"https://stackoverflow.com/help/gpt-policy\">Why posting GPT and ChatGPT generated answers is not currently allowed</a>."}],"tags":[],"owner":{"account_id":28929406,"reputation":12,"user_id":22158479,"display_name":"eberle jayshawn"},"comment_count":5,"down_vote_count":5,"up_vote_count":1,"is_accepted":false,"score":-4,"last_activity_date":1688207492,"creation_date":1688207492,"answer_id":76594276,"question_id":76594265,"body_markdown":"When you use scan.nextDouble() to read a double value , it only consumes the numeric value, leaving the newline character (&#39;\\n&#39;) in the input buffer.\r\n\r\nSo when you later call scan.nextLine() to read the string , it immediately reads the remaining newline character from the previous input and interprets it as an empty string. That&#39;s why it appears as if only the first word of the sentence is being printed.\r\n\r\nTo fix this issue , you can add an additional scan.nextLine() after reading the double value to consume the leftover newline character. \r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Solution {\r\n        public static void main(String[] args) {\r\n            Scanner scan = new Scanner(System.in);\r\n            int i = scan.nextInt();\r\n            double d = scan.nextDouble();\r\n            scan.nextLine(); // Consume the leftover newline character\r\n            String s = scan.nextLine();\r\n    \r\n            // Write your code here.\r\n    \r\n            System.out.println(&quot;String: &quot; + s);\r\n            System.out.println(&quot;Double: &quot; + d);\r\n            System.out.println(&quot;Int: &quot; + i);\r\n        }\r\n    }\r\n\r\nBy adding scan.nextLine() immediately after scan.nextDouble() , you ensure that the newline character is consumed and the subsequent call to scan.nextLine() correctly reads the input string.","title":"Why does my string line show an error in this program?","body":"<p>When you use scan.nextDouble() to read a double value , it only consumes the numeric value, leaving the newline character ('\\n') in the input buffer.</p>\n<p>So when you later call scan.nextLine() to read the string , it immediately reads the remaining newline character from the previous input and interprets it as an empty string. That's why it appears as if only the first word of the sentence is being printed.</p>\n<p>To fix this issue , you can add an additional scan.nextLine() after reading the double value to consume the leftover newline character.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Solution {\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        int i = scan.nextInt();\n        double d = scan.nextDouble();\n        scan.nextLine(); // Consume the leftover newline character\n        String s = scan.nextLine();\n\n        // Write your code here.\n\n        System.out.println(&quot;String: &quot; + s);\n        System.out.println(&quot;Double: &quot; + d);\n        System.out.println(&quot;Int: &quot; + i);\n    }\n}\n</code></pre>\n<p>By adding scan.nextLine() immediately after scan.nextDouble() , you ensure that the newline character is consumed and the subsequent call to scan.nextLine() correctly reads the input string.</p>\n"},{"tags":[],"owner":{"account_id":10048497,"reputation":19,"user_id":7429017,"display_name":"TheKingSlayer"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1688453573,"creation_date":1688220507,"answer_id":76595044,"question_id":76594265,"body_markdown":"Your code doesn&#39;t seems to be like throwing error. You might be getting blank data as you are feeding directly from the commandline, as soon as you press enter after giving the double value this will pick the enter. I tried your code and it is feeding properly.\r\n\r\n    import java.util.Scanner;\r\n    public class Test\r\n    {\r\n        public static void main(String[] args) {\r\n            Scanner scan = new Scanner(System.in);\r\n            int i = scan.nextInt();\r\n            double d= scan.nextDouble();\r\n            String s=scan.nextLine();\r\n    \r\n            // Write your code here.\r\n    \r\n            System.out.println(&quot;String: &quot; + s);\r\n            System.out.println(&quot;Double: &quot; + d);\r\n            System.out.println(&quot;Int: &quot; + i);\r\n        }\r\n    }\r\n\r\nOutput :\r\n\r\n    &quot;C:\\Program Files\\Java\\jdk-17.0.3.1\\bin\\java.exe&quot; &quot;\r\n    -javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2023.1\\lib\\idea_rt.jar=59893:\r\n    C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2023.1\\bin&quot; \r\n    -Dfile.encoding=UTF-8 -classpath C:\\Users\\codebase\\Spring\\Task\\untitled\\out\\production\\untitled Test\r\n    26\r\n    35.64 my name is \r\n    \r\n    \r\n    String:  my name is \r\n    Double: 35.64\r\n    Int: 26\r\n\r\n","title":"Why does my string line show an error in this program?","body":"<p>Your code doesn't seems to be like throwing error. You might be getting blank data as you are feeding directly from the commandline, as soon as you press enter after giving the double value this will pick the enter. I tried your code and it is feeding properly.</p>\n<pre><code>import java.util.Scanner;\npublic class Test\n{\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        int i = scan.nextInt();\n        double d= scan.nextDouble();\n        String s=scan.nextLine();\n\n        // Write your code here.\n\n        System.out.println(&quot;String: &quot; + s);\n        System.out.println(&quot;Double: &quot; + d);\n        System.out.println(&quot;Int: &quot; + i);\n    }\n}\n</code></pre>\n<p>Output :</p>\n<pre><code>&quot;C:\\Program Files\\Java\\jdk-17.0.3.1\\bin\\java.exe&quot; &quot;\n-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2023.1\\lib\\idea_rt.jar=59893:\nC:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2023.1\\bin&quot; \n-Dfile.encoding=UTF-8 -classpath C:\\Users\\codebase\\Spring\\Task\\untitled\\out\\production\\untitled Test\n26\n35.64 my name is \n\n\nString:  my name is \nDouble: 35.64\nInt: 26\n</code></pre>\n"}],"owner":{"account_id":28929877,"reputation":11,"user_id":22158850,"display_name":"Ansuman Pany"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":2,"score":-2,"last_activity_date":1688475616,"creation_date":1688207333,"question_id":76594265,"body_markdown":"Consider:\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Solution {\r\n\r\n        public static void main(String[] args) {\r\n            Scanner scan = new Scanner(System.in);\r\n            int i = scan.nextInt();\r\n            double d=scan.nextDouble();\r\n            String s=scan.nextLine();\r\n\r\n            // Write your code here.\r\n\r\n            System.out.println(&quot;String: &quot; + s);\r\n            System.out.println(&quot;Double: &quot; + d);\r\n            System.out.println(&quot;Int: &quot; + i);\r\n        }\r\n    }\r\n\r\nIn the string part, I tried writing a sentence. But instead of printing the whole sentence, it just printed the first word of the sentence.\r\n\r\n\r\n","title":"Why does my string line show an error in this program?","body":"<p>Consider:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Solution {\n\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        int i = scan.nextInt();\n        double d=scan.nextDouble();\n        String s=scan.nextLine();\n\n        // Write your code here.\n\n        System.out.println(&quot;String: &quot; + s);\n        System.out.println(&quot;Double: &quot; + d);\n        System.out.println(&quot;Int: &quot; + i);\n    }\n}\n</code></pre>\n<p>In the string part, I tried writing a sentence. But instead of printing the whole sentence, it just printed the first word of the sentence.</p>\n"},{"tags":["java","android","http","arduino","usb"],"answers":[{"comments":[{"owner":{"account_id":1656704,"reputation":434,"user_id":1526068,"accept_rate":18,"display_name":"piczaj"},"score":0,"creation_date":1606301986,"post_id":65002084,"comment_id":114921508,"body_markdown":"Thanks, ok If I understood correctly http request/response code logic on Android and http server on Arduino will be useless when I switch to usb otg and I need to implement different logic to send and response data.","body":"Thanks, ok If I understood correctly http request/response code logic on Android and http server on Arduino will be useless when I switch to usb otg and I need to implement different logic to send and response data."}],"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1606297490,"creation_date":1606297490,"answer_id":65002084,"question_id":65001386,"body_markdown":"surely it won&#39;t be working out-of-the-box, USB isn&#39;t IP protocol, thus HTTP isn&#39;t applicable to this transport. use `UsbDeviceConnection` and `UsbInterface`, still you can use currenlty used data structure, only transport will change. some DOCs about USB in [HERE][1]\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/connectivity/usb","title":"Android app Http requests communication over USB OTG with Arduino","body":"<p>surely it won't be working out-of-the-box, USB isn't IP protocol, thus HTTP isn't applicable to this transport. use <code>UsbDeviceConnection</code> and <code>UsbInterface</code>, still you can use currenlty used data structure, only transport will change. some DOCs about USB in <a href=\"https://developer.android.com/guide/topics/connectivity/usb\" rel=\"nofollow noreferrer\">HERE</a></p>\n"}],"owner":{"account_id":1656704,"reputation":434,"user_id":1526068,"accept_rate":18,"display_name":"piczaj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688475446,"creation_date":1606294657,"question_id":65001386,"body_markdown":"My Android App is communicating with Arduino HTTP server over WiFi. I need to change communication way from WiFi to USB OTG. I&#39;m **beginner** in this area so my question is: When I change to USB OTG can I still use http request from Android app to Arduino server ? It will be working as before or is it not possible ?","title":"Android app Http requests communication over USB OTG with Arduino","body":"<p>My Android App is communicating with Arduino HTTP server over WiFi. I need to change communication way from WiFi to USB OTG. I'm <strong>beginner</strong> in this area so my question is: When I change to USB OTG can I still use http request from Android app to Arduino server ? It will be working as before or is it not possible ?</p>\n"},{"tags":["java","sorting","time-complexity"],"comments":[{"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"score":3,"creation_date":1420980398,"post_id":27887198,"comment_id":44175360,"body_markdown":"Benchmark your code.","body":"Benchmark your code."},{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":1,"creation_date":1420980464,"post_id":27887198,"comment_id":44175377,"body_markdown":"But read this first: [How do I write a correct micro benchmark in Java](http://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java).","body":"But read this first: <a href=\"http://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java\">How do I write a correct micro benchmark in Java</a>."}],"answers":[{"comments":[{"owner":{"account_id":200481,"reputation":5196,"user_id":446357,"accept_rate":64,"display_name":"MTilsted"},"score":0,"creation_date":1420981078,"post_id":27887237,"comment_id":44175571,"body_markdown":"Did you not forgot 4: the very expensive conditional jump after compare?","body":"Did you not forgot 4: the very expensive conditional jump after compare?"},{"owner":{"account_id":220153,"reputation":8157,"user_id":1112503,"accept_rate":100,"display_name":"Ivan Mushketyk"},"score":1,"creation_date":1420981362,"post_id":27887237,"comment_id":44175648,"body_markdown":"A conditional jump may not be very expensive because of: branch prediction and level 1 code cache. The first one will save from cleaning the pipeline due to jump, the second one will save from memory access and operations decoding (one some architectures).","body":"A conditional jump may not be very expensive because of: branch prediction and level 1 code cache. The first one will save from cleaning the pipeline due to jump, the second one will save from memory access and operations decoding (one some architectures)."},{"owner":{"account_id":220153,"reputation":8157,"user_id":1112503,"accept_rate":100,"display_name":"Ivan Mushketyk"},"score":1,"creation_date":1420981436,"post_id":27887237,"comment_id":44175669,"body_markdown":"But it seems that you are going into another area, where the right question would be to compare total running time of an algorithm due to huge number of factors such (order of element in an array included). While the question is about comparing running time of two operations.","body":"But it seems that you are going into another area, where the right question would be to compare total running time of an algorithm due to huge number of factors such (order of element in an array included). While the question is about comparing running time of two operations."}],"tags":[],"owner":{"account_id":220153,"reputation":8157,"user_id":1112503,"accept_rate":100,"display_name":"Ivan Mushketyk"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1420980553,"creation_date":1420980553,"answer_id":27887237,"question_id":27887198,"body_markdown":"Swap should be more expensive because it includes: \r\n\r\n1. Reading data from memory to cache\r\n2. Reading data from cache to registers\r\n3. Writing data back to cache\r\n\r\nComparison should be less expensive because it includes:\r\n\r\n1. Reading data from memory to cache\r\n2. Reading data from cache to registers\r\n3. Executing single compare operations on two registers (which should be a little faster than writing two integers into a cache)\r\n\r\nBut modern processors are complex and different from each other, so the best way to get the right answer is to benchmark your code.","title":"Which is more expensive operation swap or comparison in integer array in Java","body":"<p>Swap should be more expensive because it includes: </p>\n\n<ol>\n<li>Reading data from memory to cache</li>\n<li>Reading data from cache to registers</li>\n<li>Writing data back to cache</li>\n</ol>\n\n<p>Comparison should be less expensive because it includes:</p>\n\n<ol>\n<li>Reading data from memory to cache</li>\n<li>Reading data from cache to registers</li>\n<li>Executing single compare operations on two registers (which should be a little faster than writing two integers into a cache)</li>\n</ol>\n\n<p>But modern processors are complex and different from each other, so the best way to get the right answer is to benchmark your code.</p>\n"},{"tags":[],"owner":{"account_id":28948651,"reputation":1,"user_id":22173758,"display_name":"Dr. Chalam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688475350,"creation_date":1688475350,"answer_id":76612884,"question_id":27887198,"body_markdown":"The number of comparisons in the insertion sort is related to how sorted the input is. The number of swaps s is closely related to the number of comparisons c. For an array of length n, c &lt;= s+n-1 . ","title":"Which is more expensive operation swap or comparison in integer array in Java","body":"<p>The number of comparisons in the insertion sort is related to how sorted the input is. The number of swaps s is closely related to the number of comparisons c. For an array of length n, c &lt;= s+n-1 .</p>\n"}],"owner":{"account_id":5587565,"reputation":1426,"user_id":4427735,"accept_rate":100,"display_name":"Walt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2258,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":27887237,"answer_count":2,"score":7,"last_activity_date":1688475350,"creation_date":1420980293,"question_id":27887198,"body_markdown":"Which is more expensive operation swap or comparison in integer array in Java ? Or they can all be thought as same ? \r\n\r\nContext: Sorting for an almost sorted array (I am not talking about k-sorted array where each element is displaced from the right position by at most k). Even if we use insertion sort, number of comparisons by the end will be same as they would have been for any array or for worst case. Isn&#39;t it  ? It is just that swaps will be fewer. Please correct if I am wrong. ","title":"Which is more expensive operation swap or comparison in integer array in Java","body":"<p>Which is more expensive operation swap or comparison in integer array in Java ? Or they can all be thought as same ? </p>\n\n<p>Context: Sorting for an almost sorted array (I am not talking about k-sorted array where each element is displaced from the right position by at most k). Even if we use insertion sort, number of comparisons by the end will be same as they would have been for any array or for worst case. Isn't it  ? It is just that swaps will be fewer. Please correct if I am wrong. </p>\n"},{"tags":["java","spring-boot","migration","ehcache"],"answers":[{"tags":[],"owner":{"account_id":16192240,"reputation":393,"user_id":11690682,"display_name":"sweintritt"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688474697,"creation_date":1688474697,"answer_id":76612784,"question_id":76612735,"body_markdown":"ehcache 2 is no longer supported as cache provider in Spring Boot 3. You would have to use ehcache 3 with JSR-107 annotations: https://docs.spring.io/spring-boot/docs/3.0.8/reference/html/io.html#io","title":"IS there a way to configure ehcache 2 for spring boot 3?","body":"<p>ehcache 2 is no longer supported as cache provider in Spring Boot 3. You would have to use ehcache 3 with JSR-107 annotations: <a href=\"https://docs.spring.io/spring-boot/docs/3.0.8/reference/html/io.html#io\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/3.0.8/reference/html/io.html#io</a></p>\n"}],"owner":{"account_id":27150134,"reputation":17,"user_id":20689740,"display_name":"Sador La"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":992,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76612784,"answer_count":1,"score":0,"last_activity_date":1688474697,"creation_date":1688474333,"question_id":76612735,"body_markdown":"I am migrating some legacy app from sb 2 ( spring boot) to sb 3. App is using ehcache with xml configuration to it. In my cacheConfig class I&#39;m using something like this:\r\n```\r\nimport org.springframework.cache.ehcache.EhCacheCacheManager;\r\n\r\n\r\n@Configuration\r\n@EnableCaching\r\nclass Config {\r\n    @Bean\r\n    CacheManager cacheManager() {\r\n        return new EhCacheCacheManager(ehCacheManager())\r\n    }\r\n \r\n    @Bean(destroyMethod = &#39;shutdown&#39;)\r\n    net.sf.ehcache.CacheManager ehCacheManager() {\r\n     \r\n URL url = (&quot;/configFile.xml&quot;);\r\n    return net.sf.ehcache.CacheManager.newInstance(url);\r\n    }\r\n```\r\nhowever  import org.springframework.cache.ehcache.EhCacheCacheManager; is no longer present in spring context support 6+ (spring boot 3).\r\n\r\nIs there any way to work around it ? How can I configure my ehcache with new spring boot 3?","title":"IS there a way to configure ehcache 2 for spring boot 3?","body":"<p>I am migrating some legacy app from sb 2 ( spring boot) to sb 3. App is using ehcache with xml configuration to it. In my cacheConfig class I'm using something like this:</p>\n<pre><code>import org.springframework.cache.ehcache.EhCacheCacheManager;\n\n\n@Configuration\n@EnableCaching\nclass Config {\n    @Bean\n    CacheManager cacheManager() {\n        return new EhCacheCacheManager(ehCacheManager())\n    }\n \n    @Bean(destroyMethod = 'shutdown')\n    net.sf.ehcache.CacheManager ehCacheManager() {\n     \n URL url = (&quot;/configFile.xml&quot;);\n    return net.sf.ehcache.CacheManager.newInstance(url);\n    }\n</code></pre>\n<p>however  import org.springframework.cache.ehcache.EhCacheCacheManager; is no longer present in spring context support 6+ (spring boot 3).</p>\n<p>Is there any way to work around it ? How can I configure my ehcache with new spring boot 3?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":428361,"reputation":308,"user_id":810636,"accept_rate":75,"display_name":"HDW"},"score":0,"creation_date":1688718579,"post_id":76612705,"comment_id":135114259,"body_markdown":"I don&#39;t see how moving the DataJPA to an intermediate abstract class solves the problem. I tried it now and the issue persists: Spring requires the @DataJpaTest annotation to be on the class containing the tests themselves.","body":"I don&#39;t see how moving the DataJPA to an intermediate abstract class solves the problem. I tried it now and the issue persists: Spring requires the @DataJpaTest annotation to be on the class containing the tests themselves."}],"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688474092,"creation_date":1688474092,"answer_id":76612705,"question_id":76612423,"body_markdown":"&gt; I am however forced to add the @DataJpaTest on the abstract superclass (in the domain module) or otherwise I get the (confusing error)\r\n\r\nYou face the exception because you cannot use `TestEntityManager` without `@AutoConfigureTestEntityManager`, which is in turn a member of `@DataJpaTest` (see [the fix][1] for [the issue 28067][2]):\r\n```java\r\n@Target({ElementType.TYPE})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Documented\r\n@Inherited\r\n@BootstrapWith(DataJpaTestContextBootstrapper.class)\r\n@ExtendWith({SpringExtension.class})\r\n@OverrideAutoConfiguration(\r\n  enabled = false\r\n)\r\n@TypeExcludeFilters({DataJpaTypeExcludeFilter.class})\r\n@Transactional\r\n@AutoConfigureCache\r\n@AutoConfigureDataJpa\r\n@AutoConfigureTestDatabase\r\n@AutoConfigureTestEntityManager // &lt;----\r\n@ImportAutoConfiguration\r\npublic @interface DataJpaTest {}\r\n```\r\n\r\nIf your intention is to use both in-memory and real JPA repos you could use adapter bearing `@DataJpaTest` and plain abstract class:\r\n```java\r\npublic abstract class RepositoryTest {\r\n    abstract TestRepo repo();\r\n    abstract void save(Entity entity);\r\n\r\n    @Test\r\n    void testtest() {\r\n       save(new Entity(&quot;ProviderId&quot;, new Date(), &quot;event&quot;, &quot;phase&quot;, &quot;cat&quot;, &quot;batch&quot;, &quot;me&quot; +\r\n                &quot;message&quot;));\r\n\r\n       assertThat(repo().findAll()).isNotNull();\r\n    }\r\n}\r\n\r\n\r\n@DataJpaTest\r\npublic abstract class InMemoryRepositoryTestAdapter extends RepositoryTest {\r\n}\r\n```\r\nThe test classes dedicated for fake repos are then sub-classed from `InMemoryRepositoryTestAdapter` and the ones dealing with &quot;real&quot; JPA are inherited from `RepositoryTest`.\r\n\r\nPay attention, that you cannot use `TestEntityManager` with &quot;real&quot; JPA repositories and I&#39;d use the repos themselves for test set-up.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/pull/28086\r\n  [2]: https://github.com/spring-projects/spring-boot/issues/28067","title":"How to have Spring @DataJpaTest annotation on subclass instead of having it be required on the abstract superclass","body":"<blockquote>\n<p>I am however forced to add the @DataJpaTest on the abstract superclass (in the domain module) or otherwise I get the (confusing error)</p>\n</blockquote>\n<p>You face the exception because you cannot use <code>TestEntityManager</code> without <code>@AutoConfigureTestEntityManager</code>, which is in turn a member of <code>@DataJpaTest</code> (see <a href=\"https://github.com/spring-projects/spring-boot/pull/28086\" rel=\"nofollow noreferrer\">the fix</a> for <a href=\"https://github.com/spring-projects/spring-boot/issues/28067\" rel=\"nofollow noreferrer\">the issue 28067</a>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target({ElementType.TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@Inherited\n@BootstrapWith(DataJpaTestContextBootstrapper.class)\n@ExtendWith({SpringExtension.class})\n@OverrideAutoConfiguration(\n  enabled = false\n)\n@TypeExcludeFilters({DataJpaTypeExcludeFilter.class})\n@Transactional\n@AutoConfigureCache\n@AutoConfigureDataJpa\n@AutoConfigureTestDatabase\n@AutoConfigureTestEntityManager // &lt;----\n@ImportAutoConfiguration\npublic @interface DataJpaTest {}\n</code></pre>\n<p>If your intention is to use both in-memory and real JPA repos you could use adapter bearing <code>@DataJpaTest</code> and plain abstract class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class RepositoryTest {\n    abstract TestRepo repo();\n    abstract void save(Entity entity);\n\n    @Test\n    void testtest() {\n       save(new Entity(&quot;ProviderId&quot;, new Date(), &quot;event&quot;, &quot;phase&quot;, &quot;cat&quot;, &quot;batch&quot;, &quot;me&quot; +\n                &quot;message&quot;));\n\n       assertThat(repo().findAll()).isNotNull();\n    }\n}\n\n\n@DataJpaTest\npublic abstract class InMemoryRepositoryTestAdapter extends RepositoryTest {\n}\n</code></pre>\n<p>The test classes dedicated for fake repos are then sub-classed from <code>InMemoryRepositoryTestAdapter</code> and the ones dealing with &quot;real&quot; JPA are inherited from <code>RepositoryTest</code>.</p>\n<p>Pay attention, that you cannot use <code>TestEntityManager</code> with &quot;real&quot; JPA repositories and I'd use the repos themselves for test set-up.</p>\n"}],"owner":{"account_id":428361,"reputation":308,"user_id":810636,"accept_rate":75,"display_name":"HDW"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688474092,"creation_date":1688472157,"question_id":76612423,"body_markdown":"I want to create an abstract test class for my (Spring) repositories, to be implemented twice: once using the actual JPA repository, once using an in memory fake. (See https://wiki.c2.com/?AbstractTestCases)\r\n\r\nFor this I have the following setup:\r\n\r\nAn abstract superclass, which requires the `@DataJpaTest` annotation\r\n\r\n```java\r\n@DataJpaTest\r\npublic abstract class RepositoryTest {\r\n    abstract TestRepo repo();\r\n    abstract void save(Entity entity);\r\n\r\n    @Test\r\n    void testtest() {\r\n       save(new Entity(&quot;ProviderId&quot;, new Date(), &quot;event&quot;, &quot;phase&quot;, &quot;cat&quot;, &quot;batch&quot;, &quot;me&quot; +\r\n                &quot;message&quot;));\r\n\r\n       assertThat(repo().findAll()).isNotNull();\r\n    }\r\n}\r\n```\r\n\r\nand a concrete subclass, which requires some other Spring annotations:\r\n```java\r\n@ContextConfiguration(classes = TestRepo.class)\r\n@EnableAutoConfiguration\r\npublic class JpaRepositoryTest extends RepositoryTest {\r\n    @Autowired\r\n    TestEntityManager em;\r\n\r\n    @Override\r\n    void save(Entity entity) {\r\n        em.persist(entity);\r\n    }\r\n\r\n    @Override\r\n    TestRepo repo() {\r\n        return jpaTestRepo;\r\n    }\r\n\r\n}\r\n```\r\n(The in-memory test is trivial, the save method just saves to the fake repo&#39;s in-memory map directly)\r\n \r\nBecause I&#39;m structuring my code as a ports &amp; adapters architecture, and using Gradle modules to enforce the boundaries between the ports &amp; adapters, the `RepositoryTest` and the `JpaRepositoryTest` are in different modules. The former is in the domain module, which should not depend on any framework such as Spring. \r\n \r\nI am however forced to add the `@DataJpaTest` on the abstract superclass (in the domain module) or otherwise I get the (confusing error):\r\n&gt; java.lang.IllegalStateException: No transactional EntityManager found, is your test running in a transaction?\r\n\r\n\r\nIs there any way to setup the `JpaRepositoryTest` to have all the Spring annotations, and keep the `RepositoryTest itself free from Spring?","title":"How to have Spring @DataJpaTest annotation on subclass instead of having it be required on the abstract superclass","body":"<p>I want to create an abstract test class for my (Spring) repositories, to be implemented twice: once using the actual JPA repository, once using an in memory fake. (See <a href=\"https://wiki.c2.com/?AbstractTestCases\" rel=\"nofollow noreferrer\">https://wiki.c2.com/?AbstractTestCases</a>)</p>\n<p>For this I have the following setup:</p>\n<p>An abstract superclass, which requires the <code>@DataJpaTest</code> annotation</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DataJpaTest\npublic abstract class RepositoryTest {\n    abstract TestRepo repo();\n    abstract void save(Entity entity);\n\n    @Test\n    void testtest() {\n       save(new Entity(&quot;ProviderId&quot;, new Date(), &quot;event&quot;, &quot;phase&quot;, &quot;cat&quot;, &quot;batch&quot;, &quot;me&quot; +\n                &quot;message&quot;));\n\n       assertThat(repo().findAll()).isNotNull();\n    }\n}\n</code></pre>\n<p>and a concrete subclass, which requires some other Spring annotations:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ContextConfiguration(classes = TestRepo.class)\n@EnableAutoConfiguration\npublic class JpaRepositoryTest extends RepositoryTest {\n    @Autowired\n    TestEntityManager em;\n\n    @Override\n    void save(Entity entity) {\n        em.persist(entity);\n    }\n\n    @Override\n    TestRepo repo() {\n        return jpaTestRepo;\n    }\n\n}\n</code></pre>\n<p>(The in-memory test is trivial, the save method just saves to the fake repo's in-memory map directly)</p>\n<p>Because I'm structuring my code as a ports &amp; adapters architecture, and using Gradle modules to enforce the boundaries between the ports &amp; adapters, the <code>RepositoryTest</code> and the <code>JpaRepositoryTest</code> are in different modules. The former is in the domain module, which should not depend on any framework such as Spring.</p>\n<p>I am however forced to add the <code>@DataJpaTest</code> on the abstract superclass (in the domain module) or otherwise I get the (confusing error):</p>\n<blockquote>\n<p>java.lang.IllegalStateException: No transactional EntityManager found, is your test running in a transaction?</p>\n</blockquote>\n<p>Is there any way to setup the <code>JpaRepositoryTest</code> to have all the Spring annotations, and keep the `RepositoryTest itself free from Spring?</p>\n"},{"tags":["java","angular","spring-boot","jboss","cors"],"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1688386196,"post_id":76604338,"comment_id":135062976,"body_markdown":"When you configure the Angular proxy, you have to call your API through the Angular proxy (so call `http://localhost:4200/api/...`). Can you show us the code you use to call your API in Angular?","body":"When you configure the Angular proxy, you have to call your API through the Angular proxy (so call <code>http:&#47;&#47;localhost:4200&#47;api&#47;...</code>). Can you show us the code you use to call your API in Angular?"},{"owner":{"account_id":27496692,"reputation":39,"user_id":20981101,"display_name":"TheCrow"},"score":0,"creation_date":1688387280,"post_id":76604338,"comment_id":135063186,"body_markdown":"@g00glen00b do you mean the service i use for the backend calls ? In that case this is it:\n\nhttps://i.gyazo.com/4aa5f4fcd0e247da1a7d20bdf6cca64a.png","body":"@g00glen00b do you mean the service i use for the backend calls ? In that case this is it:  <a href=\"https://i.gyazo.com/4aa5f4fcd0e247da1a7d20bdf6cca64a.png\" rel=\"nofollow noreferrer\">i.gyazo.com/4aa5f4fcd0e247da1a7d20bdf6cca64a.png</a>"},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1688390507,"post_id":76604338,"comment_id":135063904,"body_markdown":"can you add that code to your question? It makes it easier to copy-paste it into an answer or for people to try it out by themselves.","body":"can you add that code to your question? It makes it easier to copy-paste it into an answer or for people to try it out by themselves."},{"owner":{"account_id":2021661,"reputation":62048,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":0,"creation_date":1688405921,"post_id":76604338,"comment_id":135067169,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"}],"owner":{"account_id":27496692,"reputation":39,"user_id":20981101,"display_name":"TheCrow"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688474071,"creation_date":1688384042,"question_id":76604338,"body_markdown":"i have an application server on Jboss and i created the frontend with Angular. For testing i&#39;m using this command on windows run to open a new chrome window without security\r\n\r\n**chrome.exe --user-data-dir=&quot;C://Chrome dev session&quot; --disable-web-security**\r\n\r\nIf i open a regular chrome window i get this error:\r\n\r\n[![][1]][1]\r\n\r\nI looked up for some guides and all i found is to create a new **proxy.conf.json** with this code inside:\r\n\r\n```\r\n{\r\n  &quot;/api/*&quot;: {\r\n      &quot;target&quot;: &quot;http://localhost:8080&quot;,\r\n      &quot;secure&quot;: false,\r\n      &quot;logLevel&quot;: &quot;debug&quot;\r\n  }\r\n}\r\n```\r\n\r\nAfter this i had to add some code to the **angular.json** like this :\r\n\r\n```\r\n&quot;serve&quot;: {\r\n          &quot;builder&quot;: &quot;@angular-devkit/build-angular:dev-server&quot;,\r\n          &quot;options&quot;: {\r\n            &quot;browserTarget&quot;: &quot;o365calendar-frontend:build:build&quot;,\r\n            &quot;proxyConfig&quot;: &quot;src/proxy.conf.json&quot;\r\n            },\r\n```\r\n\r\n\r\nThis is the service i&#39;m using for the calls to the backend:\r\n\r\n```\r\nimport { Injectable } from &#39;@angular/core&#39;;\r\nimport { HttpClient } from &#39;@angular/common/http&#39;\r\n\r\n@Injectable({\r\n  providedIn: &#39;root&#39;\r\n})\r\n\r\nexport class SpringbootService {\r\n\r\n  private url: string;\r\n  \r\n  constructor(private http: HttpClient) {\r\n    // This will now refer to http://localhost:4200/o365calendar-web\r\n    this.url = &#39;/o365calendar-web/rest&#39;;\r\n  }\r\n\r\n  getUtenti(){\r\n    return this.http.get(this.url + &#39;/members&#39;)\r\n  }\r\n\r\n  getEventi(email: string){\r\n    return this.http.get(this.url + &#39;/calendarevents/&#39; + email)\r\n  }\r\n\r\n  postUtente(body: {}){\r\n    return this.http.post(this.url + &#39;/members&#39;, body)\r\n\r\n  }\r\n}\r\n```\r\n\r\n\r\nThis is my app-routing.module.ts\r\n\r\n```\r\nimport { NgModule } from &#39;@angular/core&#39;;\r\nimport { RouterModule, Routes } from &#39;@angular/router&#39;;\r\nimport {HomeComponent} from &quot;./components/home/home.component&quot;;\r\nimport {CalendarComponent} from &quot;./components/calendar/calendar.component&quot;;\r\n\r\nconst routes: Routes = [\r\n  { path: &quot;&quot;, component: HomeComponent },\r\n  { path: &quot;calendar/:email&quot;, component: CalendarComponent}\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n```\r\n\r\n\r\nThe work should be done but when i use the **ng serve** the problem is still there. Did i miss something?\r\n\r\nPs: The home page of jboss is on &quot; http://localhost:8080/o365calendar-web/index.jsf &quot;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cRW17.png\r\n  [2]: https://i.stack.imgur.com/ZpbWe.png\r\n  [3]: https://i.stack.imgur.com/V1LPZ.png\r\n  [4]: https://i.stack.imgur.com/eUgh9.png","title":"Can&#39;t enable CORS on Angular and Jboss application","body":"<p>i have an application server on Jboss and i created the frontend with Angular. For testing i'm using this command on windows run to open a new chrome window without security</p>\n<p><strong>chrome.exe --user-data-dir=&quot;C://Chrome dev session&quot; --disable-web-security</strong></p>\n<p>If i open a regular chrome window i get this error:</p>\n<p><a href=\"https://i.stack.imgur.com/cRW17.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cRW17.png\" alt=\"\" /></a></p>\n<p>I looked up for some guides and all i found is to create a new <strong>proxy.conf.json</strong> with this code inside:</p>\n<pre><code>{\n  &quot;/api/*&quot;: {\n      &quot;target&quot;: &quot;http://localhost:8080&quot;,\n      &quot;secure&quot;: false,\n      &quot;logLevel&quot;: &quot;debug&quot;\n  }\n}\n</code></pre>\n<p>After this i had to add some code to the <strong>angular.json</strong> like this :</p>\n<pre><code>&quot;serve&quot;: {\n          &quot;builder&quot;: &quot;@angular-devkit/build-angular:dev-server&quot;,\n          &quot;options&quot;: {\n            &quot;browserTarget&quot;: &quot;o365calendar-frontend:build:build&quot;,\n            &quot;proxyConfig&quot;: &quot;src/proxy.conf.json&quot;\n            },\n</code></pre>\n<p>This is the service i'm using for the calls to the backend:</p>\n<pre><code>import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http'\n\n@Injectable({\n  providedIn: 'root'\n})\n\nexport class SpringbootService {\n\n  private url: string;\n  \n  constructor(private http: HttpClient) {\n    // This will now refer to http://localhost:4200/o365calendar-web\n    this.url = '/o365calendar-web/rest';\n  }\n\n  getUtenti(){\n    return this.http.get(this.url + '/members')\n  }\n\n  getEventi(email: string){\n    return this.http.get(this.url + '/calendarevents/' + email)\n  }\n\n  postUtente(body: {}){\n    return this.http.post(this.url + '/members', body)\n\n  }\n}\n</code></pre>\n<p>This is my app-routing.module.ts</p>\n<pre><code>import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport {HomeComponent} from &quot;./components/home/home.component&quot;;\nimport {CalendarComponent} from &quot;./components/calendar/calendar.component&quot;;\n\nconst routes: Routes = [\n  { path: &quot;&quot;, component: HomeComponent },\n  { path: &quot;calendar/:email&quot;, component: CalendarComponent}\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n</code></pre>\n<p>The work should be done but when i use the <strong>ng serve</strong> the problem is still there. Did i miss something?</p>\n<p>Ps: The home page of jboss is on &quot; http://localhost:8080/o365calendar-web/index.jsf &quot;</p>\n"},{"tags":["java","spring-boot","docker","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1605699629,"post_id":64887307,"comment_id":114729880,"body_markdown":"I strongly recommend to use https://testcontainers.org for such things cause this is an E2E test....Define via Testcontainers the services you need and run your e2e within your IDE etc...","body":"I strongly recommend to use <a href=\"https://testcontainers.org\" rel=\"nofollow noreferrer\">testcontainers.org</a> for such things cause this is an E2E test....Define via Testcontainers the services you need and run your e2e within your IDE etc..."},{"owner":{"account_id":393856,"reputation":11926,"user_id":755932,"accept_rate":67,"display_name":"K. Siva Prasad Reddy"},"score":0,"creation_date":1605701743,"post_id":64887307,"comment_id":114730751,"body_markdown":"I am using testcontainers for tests. But I also want to run application locally which needs DB, AWS etc which I want to run thru docker containers.","body":"I am using testcontainers for tests. But I also want to run application locally which needs DB, AWS etc which I want to run thru docker containers."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1605728613,"post_id":64887307,"comment_id":114743599,"body_markdown":"DB can be run in Docker contain so it can be done in Testcontainers ... AWS ? Which parts of it?","body":"DB can be run in Docker contain so it can be done in Testcontainers ... AWS ? Which parts of it?"},{"owner":{"account_id":393856,"reputation":11926,"user_id":755932,"accept_rate":67,"display_name":"K. Siva Prasad Reddy"},"score":0,"creation_date":1605741200,"post_id":64887307,"comment_id":114748250,"body_markdown":"I use S3, SQS services with Localstack docker container.","body":"I use S3, SQS services with Localstack docker container."}],"answers":[{"tags":[],"owner":{"account_id":17085834,"reputation":31,"user_id":12363128,"display_name":"CCardozo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647533208,"creation_date":1647533208,"answer_id":71515560,"question_id":64887307,"body_markdown":"I know that this is an old question, but I already had the same question, and I already find the solution. To do this I add the plugin `exec-maven-plugin` and executed the docker-compose.yml file with it at `validate` phase: \r\n\r\n    \t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n          \t\t&lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n          \t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n          \t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n          \t\t&lt;executions&gt;\r\n           \t    \t&lt;execution&gt;\r\n              \t\t\t&lt;id&gt;Run Containers&lt;/id&gt;\r\n              \t\t\t&lt;phase&gt;validate&lt;/phase&gt;\r\n              \t\t\t&lt;configuration&gt;\r\n                   \t\t\t&lt;executable&gt;docker-compose&lt;/executable&gt;\r\n                     \t\t&lt;commandlineArgs&gt;up --detach&lt;/commandlineArgs&gt;\r\n                 \t\t&lt;/configuration&gt;\r\n              \t\t\t&lt;goals&gt;\r\n                \t\t\t&lt;goal&gt;exec&lt;/goal&gt;\r\n              \t\t\t&lt;/goals&gt;\r\n            \t\t&lt;/execution&gt;\r\n        \t\t&lt;/executions&gt;\r\n        \t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\nBut you need to put the compose file at project&#39;s root folder.","title":"How to run docker-compose up before spring-boot:run goal using Maven?","body":"<p>I know that this is an old question, but I already had the same question, and I already find the solution. To do this I add the plugin <code>exec-maven-plugin</code> and executed the docker-compose.yml file with it at <code>validate</code> phase:</p>\n<pre><code>    &lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;Run Containers&lt;/id&gt;\n                    &lt;phase&gt;validate&lt;/phase&gt;\n                    &lt;configuration&gt;\n                        &lt;executable&gt;docker-compose&lt;/executable&gt;\n                        &lt;commandlineArgs&gt;up --detach&lt;/commandlineArgs&gt;\n                    &lt;/configuration&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;exec&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>But you need to put the compose file at project's root folder.</p>\n"},{"tags":[],"owner":{"account_id":16297526,"reputation":193,"user_id":11769408,"display_name":"Geoffrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688473845,"creation_date":1688473505,"answer_id":76612612,"question_id":64887307,"body_markdown":"you can select the folder where the `yaml` is located with `-f`, and in the modern docker, compose is a plugin part of docker itself, meaning that you run it with `docker compose` without the `-`. For example:\r\n\r\n    &lt;configuration&gt;\r\n        &lt;executable&gt;docker&lt;/executable&gt;\r\n        &lt;commandlineArgs&gt;compose -f src/test/docker/docker-compose.yaml up -d&lt;/commandlineArgs&gt;\r\n    &lt;/configuration&gt;\r\n\r\n","title":"How to run docker-compose up before spring-boot:run goal using Maven?","body":"<p>you can select the folder where the <code>yaml</code> is located with <code>-f</code>, and in the modern docker, compose is a plugin part of docker itself, meaning that you run it with <code>docker compose</code> without the <code>-</code>. For example:</p>\n<pre><code>&lt;configuration&gt;\n    &lt;executable&gt;docker&lt;/executable&gt;\n    &lt;commandlineArgs&gt;compose -f src/test/docker/docker-compose.yaml up -d&lt;/commandlineArgs&gt;\n&lt;/configuration&gt;\n</code></pre>\n"}],"owner":{"account_id":393856,"reputation":11926,"user_id":755932,"accept_rate":67,"display_name":"K. Siva Prasad Reddy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1035,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1688473845,"creation_date":1605675244,"question_id":64887307,"body_markdown":"I have a SpringBoot application which I can run using `./mvnw spring-boot:run` either from CLI or IDE. I have a `docker-compose.yml` file which has dependent services like **Postgres**, **Localstack** etc.\r\n\r\nI want to invoke `docker-compose up` before triggering the `spring-boot:run` goal automatically using Maven.\r\n\r\nWith Gradle I can simple use `dependsOn` to spin up docker container before running a task.\r\nI couldn&#39;t figure out how to tie up this using Maven life cycle phases. Any help?","title":"How to run docker-compose up before spring-boot:run goal using Maven?","body":"<p>I have a SpringBoot application which I can run using <code>./mvnw spring-boot:run</code> either from CLI or IDE. I have a <code>docker-compose.yml</code> file which has dependent services like <strong>Postgres</strong>, <strong>Localstack</strong> etc.</p>\n<p>I want to invoke <code>docker-compose up</code> before triggering the <code>spring-boot:run</code> goal automatically using Maven.</p>\n<p>With Gradle I can simple use <code>dependsOn</code> to spin up docker container before running a task.\nI couldn't figure out how to tie up this using Maven life cycle phases. Any help?</p>\n"},{"tags":["java","floating-point","double","precision"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1688123960,"post_id":76588445,"comment_id":135035133,"body_markdown":"Sure. Just `toString()` the original `double`.","body":"Sure. Just <code>toString()</code> the original <code>double</code>."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1688123994,"post_id":76588445,"comment_id":135035137,"body_markdown":"@Jorn that just gives &quot;0.1&quot;","body":"@Jorn that just gives &quot;0.1&quot;"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1688124015,"post_id":76588445,"comment_id":135035144,"body_markdown":"Which is exactly all the precision that is available. So I&#39;m not sure what you&#39;re looking for.","body":"Which is exactly all the precision that is available. So I&#39;m not sure what you&#39;re looking for."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1688124069,"post_id":76588445,"comment_id":135035152,"body_markdown":"Something that gives &quot;0.1000000000000000055511151231257827021181583404541015625&quot; without using BigDecimal","body":"Something that gives &quot;0.1000000000000000055511151231257827021181583404541015625&quot; without using BigDecimal"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1688124153,"post_id":76588445,"comment_id":135035171,"body_markdown":"That&#39;s not possible. You&#39;ll have to use BigDecimal. Also, why would you even want that? The long number is in no way a better representation of the `0.1` literal in the input.","body":"That&#39;s not possible. You&#39;ll have to use BigDecimal. Also, why would you even want that? The long number is in no way a better representation of the <code>0.1</code> literal in the input."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1688124900,"post_id":76588445,"comment_id":135035326,"body_markdown":"For example, one possible use is to prove that a certain number can&#39;t be precisely represented, while another number certainly can. For example, 0.125 can be precisely represented, and `new BigDecimal(0.125).toString()` gives &quot;0.125&quot; meaning that the floating-point representation of 0.125 is not just an approximation but is exactly and precisely equal to the real number 0.125.","body":"For example, one possible use is to prove that a certain number can&#39;t be precisely represented, while another number certainly can. For example, 0.125 can be precisely represented, and <code>new BigDecimal(0.125).toString()</code> gives &quot;0.125&quot; meaning that the floating-point representation of 0.125 is not just an approximation but is exactly and precisely equal to the real number 0.125."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1688125075,"post_id":76588445,"comment_id":135035364,"body_markdown":"Isn&#39;t that just a result of converting to BigDecimal? If the `double` variant prints `0.1`, it&#39;s represented as 0.1. If it wasn&#39;t, it would print something like `0.09999999999999`.","body":"Isn&#39;t that just a result of converting to BigDecimal? If the <code>double</code> variant prints <code>0.1</code>, it&#39;s represented as 0.1. If it wasn&#39;t, it would print something like <code>0.09999999999999</code>."},{"owner":{"account_id":9249248,"reputation":17589,"user_id":6870253,"display_name":"chtz"},"score":3,"creation_date":1688133184,"post_id":76588445,"comment_id":135037151,"body_markdown":"I&#39;m no Java expert, but I don&#39;t see why this would not be a valid question. E.g., in C/C++ `printf(&quot;%.100g&quot;, 0.1)` prints out `0.1000000000000000055511151231257827021181583404541015625` (what OP expects) -- of course YMMV, since a lot in C and C++ is compiler/target specific. Having an output of `&quot;0.10000000000000000000000000000000000000000000000000&quot;` looks very wrong (is Java just appending `0`s at the end?)","body":"I&#39;m no Java expert, but I don&#39;t see why this would not be a valid question. E.g., in C/C++ <code>printf(&quot;%.100g&quot;, 0.1)</code> prints out <code>0.1000000000000000055511151231257827021181583404541015625</code> (what OP expects) -- of course YMMV, since a lot in C and C++ is compiler/target specific. Having an output of <code>&quot;0.10000000000000000000000000000000000000000000000000&quot;</code> looks very wrong (is Java just appending <code>0</code>s at the end?)"},{"owner":{"account_id":108321,"reputation":88297,"user_id":287586,"accept_rate":80,"display_name":"dan04"},"score":1,"creation_date":1688401276,"post_id":76588445,"comment_id":135066315,"body_markdown":"`BigDecimal` is giving the correct stored value (0xCCCCCCCCCCCCD * 2^-55) here.  Is there a reason you don&#39;t want to use it?  Because AFAICT, any solution would basically amount to reinventing `BigDecimal`&#39;s formatting routine.","body":"<code>BigDecimal</code> is giving the correct stored value (0xCCCCCCCCCCCCD * 2^-55) here.  Is there a reason you don&#39;t want to use it?  Because AFAICT, any solution would basically amount to reinventing <code>BigDecimal</code>&#39;s formatting routine."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1688401797,"post_id":76588445,"comment_id":135066444,"body_markdown":"@dan04 using `BigDecimal` is a satisfactory solution, but it feels a bit wrong: firstly, formatting is not the main purpose of `BigDecimal`; and secondly, `String.format` (and `System.out.printf` etc) ought to do the &quot;right thing&quot; just like the C version of printf, or the Linux/GNU command line printf.","body":"@dan04 using <code>BigDecimal</code> is a satisfactory solution, but it feels a bit wrong: firstly, formatting is not the main purpose of <code>BigDecimal</code>; and secondly, <code>String.format</code> (and <code>System.out.printf</code> etc) ought to do the &quot;right thing&quot; just like the C version of printf, or the Linux/GNU command line printf."},{"owner":{"account_id":3710720,"reputation":25429,"user_id":3088138,"display_name":"Lutz Lehmann"},"score":0,"creation_date":1688480032,"post_id":76588445,"comment_id":135077973,"body_markdown":"This seems to be the difference between compile and run-time evaluation. The compiler sees 0.1 as string &quot;0.1&quot; without a declared type, so it is free to evaluate the first expression with a multi-precision type like BigDecimal with enough digits to avoid rounding errors in the result. One would have to check what the actual compiled instructions are, or if there are compiler flags to switch off such early evaluation.","body":"This seems to be the difference between compile and run-time evaluation. The compiler sees 0.1 as string &quot;0.1&quot; without a declared type, so it is free to evaluate the first expression with a multi-precision type like BigDecimal with enough digits to avoid rounding errors in the result. One would have to check what the actual compiled instructions are, or if there are compiler flags to switch off such early evaluation."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":3,"creation_date":1688481695,"post_id":76588445,"comment_id":135078373,"body_markdown":"@LutzLehmann it&#39;s not the compiler being clever, you still get the same output if you do `System.out.printf(&quot;%.30f&quot;, new Scanner(System.in).nextDouble());` and enter 0.1 at the console, so that the compiler doesn&#39;t know what the value will be, so it&#39;s all definitely done at runtime.","body":"@LutzLehmann it&#39;s not the compiler being clever, you still get the same output if you do <code>System.out.printf(&quot;%.30f&quot;, new Scanner(System.in).nextDouble());</code> and enter 0.1 at the console, so that the compiler doesn&#39;t know what the value will be, so it&#39;s all definitely done at runtime."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1688132803,"creation_date":1688132803,"answer_id":76589503,"question_id":76588445,"body_markdown":"As the last meaningful digit might be either rounded up or down, one cannot just glue 00...00 (99...99) after it.\r\n\r\nSo as there still is an approximation error after some 15 odd digits, `new BigDecimal(&quot;...&quot;)` is the appropriate solution. You could assume that the actual precision is 14 or lower and then add zeroes. But still `printf/format` gives fake news.","title":"Formatting doubles with highest possible precision","body":"<p>As the last meaningful digit might be either rounded up or down, one cannot just glue 00...00 (99...99) after it.</p>\n<p>So as there still is an approximation error after some 15 odd digits, <code>new BigDecimal(&quot;...&quot;)</code> is the appropriate solution. You could assume that the actual precision is 14 or lower and then add zeroes. But still <code>printf/format</code> gives fake news.</p>\n"},{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1688473552,"creation_date":1688473552,"answer_id":76612621,"question_id":76588445,"body_markdown":"Just to add another answer with more detail:\r\n\r\nThe [&quot;%f&quot; format][1] is specifically documented to add 0s after the decimal point:\r\n\r\n&gt; ... zeros may be appended to reach the precision. For a canonical\r\n&gt; representation of the value, use Float.toString(float) or\r\n&gt; Double.toString(double) as appropriate.\r\n\r\nAnd [Double.toString][2] is documented to return an approximation using the following logic:\r\n\r\n&gt; How many digits must be printed for the fractional part of m or a?\r\n&gt; There must be at least one digit to represent the fractional part, and\r\n&gt; beyond that as many, but only as many, more digits as are needed to\r\n&gt; uniquely distinguish the argument value from adjacent values of type\r\n&gt; double.\r\n\r\nSo, to get a String representation of _exactly_ what the binary floating-point value represents, it seems Java offers BigDecimal as the only option.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Formatter.html#dndec\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Double.html#toString(double)","title":"Formatting doubles with highest possible precision","body":"<p>Just to add another answer with more detail:</p>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Formatter.html#dndec\" rel=\"nofollow noreferrer\">&quot;%f&quot; format</a> is specifically documented to add 0s after the decimal point:</p>\n<blockquote>\n<p>... zeros may be appended to reach the precision. For a canonical\nrepresentation of the value, use Float.toString(float) or\nDouble.toString(double) as appropriate.</p>\n</blockquote>\n<p>And <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Double.html#toString(double)\" rel=\"nofollow noreferrer\">Double.toString</a> is documented to return an approximation using the following logic:</p>\n<blockquote>\n<p>How many digits must be printed for the fractional part of m or a?\nThere must be at least one digit to represent the fractional part, and\nbeyond that as many, but only as many, more digits as are needed to\nuniquely distinguish the argument value from adjacent values of type\ndouble.</p>\n</blockquote>\n<p>So, to get a String representation of <em>exactly</em> what the binary floating-point value represents, it seems Java offers BigDecimal as the only option.</p>\n"}],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":76589503,"answer_count":2,"score":1,"last_activity_date":1688473552,"creation_date":1688123911,"question_id":76588445,"body_markdown":"A number such as 0.1 cannot be precisely represented using binary floating point, so I want to print it out with the highest possible precision. I know that the 64-bit `double` type only gives meaningful precision up to about 15 digits, but further digits would reveal the difference between the floating-point approximation and the real value.\r\n\r\nHowever, a format with high precision specification such as `&quot;%.50f&quot;` still doesn&#39;t give me it:\r\n\r\n    String.format(&quot;%.50f&quot;, 0.1)    --&gt; &quot;0.10000000000000000000000000000000000000000000000000&quot;\r\n    new BigDecimal(0.1).toString() --&gt; &quot;0.1000000000000000055511151231257827021181583404541015625&quot;\r\n\r\nIs there any way to output the number as a string without using `BigDecimal`?","title":"Formatting doubles with highest possible precision","body":"<p>A number such as 0.1 cannot be precisely represented using binary floating point, so I want to print it out with the highest possible precision. I know that the 64-bit <code>double</code> type only gives meaningful precision up to about 15 digits, but further digits would reveal the difference between the floating-point approximation and the real value.</p>\n<p>However, a format with high precision specification such as <code>&quot;%.50f&quot;</code> still doesn't give me it:</p>\n<pre><code>String.format(&quot;%.50f&quot;, 0.1)    --&gt; &quot;0.10000000000000000000000000000000000000000000000000&quot;\nnew BigDecimal(0.1).toString() --&gt; &quot;0.1000000000000000055511151231257827021181583404541015625&quot;\n</code></pre>\n<p>Is there any way to output the number as a string without using <code>BigDecimal</code>?</p>\n"},{"tags":["java","sql","mongodb","nosql","data-modeling"],"answers":[{"tags":[],"owner":{"account_id":10517283,"reputation":998,"user_id":7750999,"display_name":"Caffeine Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688473483,"creation_date":1688473483,"answer_id":76612607,"question_id":76579977,"body_markdown":"Answers I found, after trying both relational and non relational approaches - \r\n\r\nThe best solution here is to introduce new table in Tasks rather than using embedded structure.\r\nThis facilitates in performing CRUD operations on the task without iterating over collection (using @Id attribute), hence making it performance efficient.\r\nHowever if only seldom read only operations are needed on tasks, document structure is best suited.\r\n\r\nHence in no case, Nosql and Sql approaches are would be same. Nosql is best suited for unstructured data, where the unstructured data is seldomly updated. As soon as the unstructured data needs frequent updates, it is better to structure for efficiency.\r\n\r\nRegarding the duplicate records- use @Id attribute of Tasks as reference in StickyNotes and remove the referenced item when deleted.","title":"Data modelling - Nested object vs Separate DB Table","body":"<p>Answers I found, after trying both relational and non relational approaches -</p>\n<p>The best solution here is to introduce new table in Tasks rather than using embedded structure.\nThis facilitates in performing CRUD operations on the task without iterating over collection (using @Id attribute), hence making it performance efficient.\nHowever if only seldom read only operations are needed on tasks, document structure is best suited.</p>\n<p>Hence in no case, Nosql and Sql approaches are would be same. Nosql is best suited for unstructured data, where the unstructured data is seldomly updated. As soon as the unstructured data needs frequent updates, it is better to structure for efficiency.</p>\n<p>Regarding the duplicate records- use @Id attribute of Tasks as reference in StickyNotes and remove the referenced item when deleted.</p>\n"}],"owner":{"account_id":10517283,"reputation":998,"user_id":7750999,"display_name":"Caffeine Coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76612607,"answer_count":1,"score":0,"last_activity_date":1688473483,"creation_date":1688032570,"question_id":76579977,"body_markdown":"I&#39;m designing Sticky notes Management Application (CRUD), where StickyNote has 3 attributes, heading, summary and task list. The task has 2 attributes - heading and summary.\r\n\r\nA sticky note can have upto 1000 tasks.\r\n\r\nThe class would look like - \r\n\r\n\r\n    public class StickyNote {\r\n    \r\n        String id;\r\n    \r\n        String heading;\r\n    \r\n        String summary;\r\n    \r\n        Set&lt;Task&gt; tasks;\r\n    \r\n    }\r\n\r\nWhen it comes using `Database` , to me a NoSql/Document structure seems more close to OOPS.Thus having one table representing StickyNote, with Task as a field/column.\r\n\r\nPros of this approach - \r\n 1. Deletion - As multiple sticky notes can have same tasks, thus deletion of task could \r\n be straightforward, by providing task heading and sticky notes id.\r\n\r\n 2. No need of introducing a second table for tasks. Hence either avoiding duplicate \r\n records or foreign key constraint check while deleting.\r\n\r\n\r\n 3. Update -  a task would be updated either using task heading or task summary. Thus \r\n iterating over the task list, and as max tasks could be 1000, performance won&#39;t be an \r\n issue.\r\n\r\n\r\nCons -\r\n 1. Using id for deleting task is straightforward and performance efficient, rather than using iterator.\r\n\r\nQuestions-\r\n1. Would introducing Task table would be performance efficient?\r\n2. Would relational approach be some how better than non relational one?\r\n3. If I consider to scale up application, using million users in concurrent environment, introducing a Task id would be mandatory as iteration would then degrade performance, which essentially would lead to add a separate Task Table. Hence in that case both nosql and sql approach would be same?","title":"Data modelling - Nested object vs Separate DB Table","body":"<p>I'm designing Sticky notes Management Application (CRUD), where StickyNote has 3 attributes, heading, summary and task list. The task has 2 attributes - heading and summary.</p>\n<p>A sticky note can have upto 1000 tasks.</p>\n<p>The class would look like -</p>\n<pre><code>public class StickyNote {\n\n    String id;\n\n    String heading;\n\n    String summary;\n\n    Set&lt;Task&gt; tasks;\n\n}\n</code></pre>\n<p>When it comes using <code>Database</code> , to me a NoSql/Document structure seems more close to OOPS.Thus having one table representing StickyNote, with Task as a field/column.</p>\n<p>Pros of this approach -</p>\n<ol>\n<li><p>Deletion - As multiple sticky notes can have same tasks, thus deletion of task could\nbe straightforward, by providing task heading and sticky notes id.</p>\n</li>\n<li><p>No need of introducing a second table for tasks. Hence either avoiding duplicate\nrecords or foreign key constraint check while deleting.</p>\n</li>\n<li><p>Update -  a task would be updated either using task heading or task summary. Thus\niterating over the task list, and as max tasks could be 1000, performance won't be an\nissue.</p>\n</li>\n</ol>\n<p>Cons -</p>\n<ol>\n<li>Using id for deleting task is straightforward and performance efficient, rather than using iterator.</li>\n</ol>\n<p>Questions-</p>\n<ol>\n<li>Would introducing Task table would be performance efficient?</li>\n<li>Would relational approach be some how better than non relational one?</li>\n<li>If I consider to scale up application, using million users in concurrent environment, introducing a Task id would be mandatory as iteration would then degrade performance, which essentially would lead to add a separate Task Table. Hence in that case both nosql and sql approach would be same?</li>\n</ol>\n"},{"tags":["java","oracle","oracle-sqldeveloper"],"answers":[{"comments":[{"owner":{"account_id":11173536,"reputation":53,"user_id":8199830,"display_name":"Julia Kurde"},"score":0,"creation_date":1650549589,"post_id":71954830,"comment_id":127148589,"body_markdown":"OK, then the problem is the Instant Client. I need at most version 11.2. And the new question is where to get it...","body":"OK, then the problem is the Instant Client. I need at most version 11.2. And the new question is where to get it..."},{"owner":{"account_id":6156062,"reputation":9559,"user_id":4799035,"display_name":"Christopher Jones"},"score":0,"creation_date":1650579762,"post_id":71954830,"comment_id":127158800,"body_markdown":"Instant Client is available from Oracle: https://www.oracle.com/database/technologies/instant-client.html","body":"Instant Client is available from Oracle: <a href=\"https://www.oracle.com/database/technologies/instant-client.html\" rel=\"nofollow noreferrer\">oracle.com/database/technologies/instant-client.html</a>"}],"tags":[],"owner":{"account_id":3631143,"reputation":55363,"user_id":3027266,"accept_rate":75,"display_name":"Wernfried Domscheit"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650545624,"creation_date":1650545624,"answer_id":71954830,"question_id":71954088,"body_markdown":"You cannot connect an Oracle Client version 21 to an (more than 20 years old) Oracle 9i database. See [Client / Server Interoperability Support Matrix for Different Oracle Versions][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nMaybe ask Oracle support to get an older version of SQL Developer.\r\n\r\n\r\n  [1]: https://support.oracle.com/epmos/faces/DocumentDisplay?id=207303.1\r\n  [2]: https://i.stack.imgur.com/tzqfV.png","title":"How to connect to Oracle9i with SQLDeveloper 21?","body":"<p>You cannot connect an Oracle Client version 21 to an (more than 20 years old) Oracle 9i database. See <a href=\"https://support.oracle.com/epmos/faces/DocumentDisplay?id=207303.1\" rel=\"nofollow noreferrer\">Client / Server Interoperability Support Matrix for Different Oracle Versions</a></p>\n<p><a href=\"https://i.stack.imgur.com/tzqfV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tzqfV.png\" alt=\"enter image description here\" /></a></p>\n<p>Maybe ask Oracle support to get an older version of SQL Developer.</p>\n"},{"tags":[],"owner":{"account_id":11173536,"reputation":53,"user_id":8199830,"display_name":"Julia Kurde"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650555710,"creation_date":1650555710,"answer_id":71957233,"question_id":71954088,"body_markdown":"Oracle provided me a link for older \r\n[Instant Client Versions][1].\r\nVersion 11.2 works fine with [SQLDeveloper 20.2][2]. \r\nSQLDeveloper 21 only supports client versions 19 and higher. \r\n\r\n\r\n  [1]: https://www.oracle.com/de/database/technologies/instant-client/winx64-64-downloads.html\r\n  [2]: https://download.oracle.com/otn/java/sqldeveloper/sqldeveloper-20.2.0.175.1842-x64.zip","title":"How to connect to Oracle9i with SQLDeveloper 21?","body":"<p>Oracle provided me a link for older\n<a href=\"https://www.oracle.com/de/database/technologies/instant-client/winx64-64-downloads.html\" rel=\"nofollow noreferrer\">Instant Client Versions</a>.\nVersion 11.2 works fine with <a href=\"https://download.oracle.com/otn/java/sqldeveloper/sqldeveloper-20.2.0.175.1842-x64.zip\" rel=\"nofollow noreferrer\">SQLDeveloper 20.2</a>.\nSQLDeveloper 21 only supports client versions 19 and higher.</p>\n"},{"tags":[],"owner":{"account_id":23915541,"reputation":1,"user_id":17912008,"display_name":"Ash Parmar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688473479,"creation_date":1688473479,"answer_id":76612606,"question_id":71954088,"body_markdown":"Not the answer you&#39;re probably looking for but I managed to connect via Toad for Oracle with no issues. \r\n\r\nI did switch to 32 bit Instant client 11gR2 and still had issues connecting to Oracle 9, but under &#39;test&#39; within properties worked fine but hung when trying to connect - so Toad for Oracle was the only solution that worked","title":"How to connect to Oracle9i with SQLDeveloper 21?","body":"<p>Not the answer you're probably looking for but I managed to connect via Toad for Oracle with no issues.</p>\n<p>I did switch to 32 bit Instant client 11gR2 and still had issues connecting to Oracle 9, but under 'test' within properties worked fine but hung when trying to connect - so Toad for Oracle was the only solution that worked</p>\n"}],"owner":{"account_id":11173536,"reputation":53,"user_id":8199830,"display_name":"Julia Kurde"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":957,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1688473479,"creation_date":1650542361,"question_id":71954088,"body_markdown":"I want to connect to an old Oracle9i Release 9.2.0.4.0 database with SQLDeveloper 21.4.3 and I followed this answer [How to change default JDBC driver of Oracle SQL Developer?][1].\r\n\r\nThe difference is just the versions of SQLDeveloper (21 instead of 20) and Oracle Instant Client (21.3 instead of 11.2.0.4.0). In my case both are the latest ones. \r\nMy OS is also Windows 10, 64bit.\r\n\r\nTesting the client and connection as described are successful. But when actually connecting to the database SQLDeveloper hangs and can only be closed by TaskManager.\r\n\r\nI tried both connection types: simple and with user defined URL `jdbc:oracle:thin:@172.31.10.3:1521:LZH`. This URL works in other applications like SQL Workbench/J using oracle driver `ojdbc14_g.jar`.\r\n\r\nI also tried to set this jar file in SQLDeveloper preferences as external jdbc driver. But I guess here only non oracle drivers like postgreSQL make sense, but don&#39;t know. It doesn&#39;t make a difference anyway.\r\n\r\nThanks for any suggestion!\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/66410831/how-to-change-default-jdbc-driver-of-oracle-sql-developer/66656752#66656752","title":"How to connect to Oracle9i with SQLDeveloper 21?","body":"<p>I want to connect to an old Oracle9i Release 9.2.0.4.0 database with SQLDeveloper 21.4.3 and I followed this answer <a href=\"https://stackoverflow.com/questions/66410831/how-to-change-default-jdbc-driver-of-oracle-sql-developer/66656752#66656752\">How to change default JDBC driver of Oracle SQL Developer?</a>.</p>\n<p>The difference is just the versions of SQLDeveloper (21 instead of 20) and Oracle Instant Client (21.3 instead of 11.2.0.4.0). In my case both are the latest ones.\nMy OS is also Windows 10, 64bit.</p>\n<p>Testing the client and connection as described are successful. But when actually connecting to the database SQLDeveloper hangs and can only be closed by TaskManager.</p>\n<p>I tried both connection types: simple and with user defined URL <code>jdbc:oracle:thin:@172.31.10.3:1521:LZH</code>. This URL works in other applications like SQL Workbench/J using oracle driver <code>ojdbc14_g.jar</code>.</p>\n<p>I also tried to set this jar file in SQLDeveloper preferences as external jdbc driver. But I guess here only non oracle drivers like postgreSQL make sense, but don't know. It doesn't make a difference anyway.</p>\n<p>Thanks for any suggestion!</p>\n"},{"tags":["java","docker","encryption","cryptography"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1688507155,"post_id":76611964,"comment_id":135082235,"body_markdown":"Please edit your question to include a **complete** [mre].","body":"Please edit your question to include a <b>complete</b> <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1688513643,"post_id":76611964,"comment_id":135082808,"body_markdown":"Well, it is almost certain that the hardware or OS is not to blame. The Bouncy Castle provider is last and won&#39;t be used, which is reflected in the exception (obviously the Sun provider is used). The most likely reason is simply a bad ciphertext / private key combination, i.e. the plaintext was encrypted with the wrong public key.","body":"Well, it is almost certain that the hardware or OS is not to blame. The Bouncy Castle provider is last and won&#39;t be used, which is reflected in the exception (obviously the Sun provider is used). The most likely reason is simply a bad ciphertext / private key combination, i.e. the plaintext was encrypted with the wrong public key."}],"owner":{"account_id":24617613,"reputation":11,"user_id":18518393,"display_name":"Bogdan Madzhuga"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688473381,"creation_date":1688468685,"question_id":76611964,"body_markdown":"I generated Public and Private key on my Windows computer using this Java code:\r\n\r\n    KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n    keyPairGenerator.initialize(2048);\r\n    KeyPair myKeyPair = keyPairGenerator.generateKeyPair();\r\n\r\nIn my program I also have next code:\r\n\r\n    PrivateKey privateKey = getPrivateKey(publisher);\r\n    Cipher decriptCipher = Cipher.getInstance(&quot;RSA/ECB/OAEPWithSHA-256AndMGF1Padding&quot;);\r\n    decriptCipher.init(Cipher.DECRYPT_MODE, privateKey);\r\n    byte[] ansData = decriptCipher.doFinal(decodedString);\r\n\r\nThis code successfully works on my Windows PC and on my MacOS PC, but somehow it doesn&#39;t work in my Docker container, and on my Ubuntu Server, where I launched program manually. Is it problem in OS or can it be related with my mother board crypto module?\r\n\r\nP.S. Additional:\r\n\r\nAlso I have this in the Main:\r\n\r\n \r\n\r\n    static {\r\n       int position = Security.getProviders().length;\r\n       Security.insertProviderAt(new org.spongycastle.jce.provider.BouncyCastleProvider(), position);\r\n    }\r\n\r\nP.S. Exception:\r\n\r\n    javax.crypto.BadPaddingException: Decryption error\r\n\tat java.base/sun.security.rsa.RSAPadding.unpadOAEP(RSAPadding.java:488)\r\n\tat java.base/sun.security.rsa.RSAPadding.unpad(RSAPadding.java:284)\r\n\tat java.base/com.sun.crypto.provider.RSACipher.doFinal(RSACipher.java:372)","title":"Linux only - BadPaddingException : Decryption error","body":"<p>I generated Public and Private key on my Windows computer using this Java code:</p>\n<pre><code>KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\nkeyPairGenerator.initialize(2048);\nKeyPair myKeyPair = keyPairGenerator.generateKeyPair();\n</code></pre>\n<p>In my program I also have next code:</p>\n<pre><code>PrivateKey privateKey = getPrivateKey(publisher);\nCipher decriptCipher = Cipher.getInstance(&quot;RSA/ECB/OAEPWithSHA-256AndMGF1Padding&quot;);\ndecriptCipher.init(Cipher.DECRYPT_MODE, privateKey);\nbyte[] ansData = decriptCipher.doFinal(decodedString);\n</code></pre>\n<p>This code successfully works on my Windows PC and on my MacOS PC, but somehow it doesn't work in my Docker container, and on my Ubuntu Server, where I launched program manually. Is it problem in OS or can it be related with my mother board crypto module?</p>\n<p>P.S. Additional:</p>\n<p>Also I have this in the Main:</p>\n<pre><code>static {\n   int position = Security.getProviders().length;\n   Security.insertProviderAt(new org.spongycastle.jce.provider.BouncyCastleProvider(), position);\n}\n</code></pre>\n<p>P.S. Exception:</p>\n<pre><code>javax.crypto.BadPaddingException: Decryption error\nat java.base/sun.security.rsa.RSAPadding.unpadOAEP(RSAPadding.java:488)\nat java.base/sun.security.rsa.RSAPadding.unpad(RSAPadding.java:284)\nat java.base/com.sun.crypto.provider.RSACipher.doFinal(RSACipher.java:372)\n</code></pre>\n"},{"tags":["java","spring","pagination"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1688469792,"post_id":76612043,"comment_id":135075680,"body_markdown":"If you want to export everything just don&#39;t paginate the results, no?","body":"If you want to export everything just don&#39;t paginate the results, no?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1688469798,"post_id":76612043,"comment_id":135075683,"body_markdown":"What&#39;s the point of paging, if you still collect everything in memory, before sending it to frontend? Looks like more work for no benefit.","body":"What&#39;s the point of paging, if you still collect everything in memory, before sending it to frontend? Looks like more work for no benefit."}],"answers":[{"tags":[],"owner":{"account_id":3449131,"reputation":12148,"user_id":2889165,"accept_rate":73,"display_name":"Andreas Lundgren"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688472578,"creation_date":1688472578,"answer_id":76612474,"question_id":76612043,"body_markdown":"If you think that it will all fit in memory, you can do the &quot;un-paging&quot; in the backend. \r\n\r\nIf not, you do it in the client because the client can of course write the data to the file page-by-page and does not need to keep it all in memory.\r\n\r\nThird option is to do it in the backend, using a stream if your database supports that. Then you can stream the content from the DB to the client without pages, and without ever having to store everything in memory. [Here is an SO Q+A for that scenario][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/58668900/streaming-data-over-http-with-java","title":"Process get all from front-end or back-end?","body":"<p>If you think that it will all fit in memory, you can do the &quot;un-paging&quot; in the backend.</p>\n<p>If not, you do it in the client because the client can of course write the data to the file page-by-page and does not need to keep it all in memory.</p>\n<p>Third option is to do it in the backend, using a stream if your database supports that. Then you can stream the content from the DB to the client without pages, and without ever having to store everything in memory. <a href=\"https://stackoverflow.com/questions/58668900/streaming-data-over-http-with-java\">Here is an SO Q+A for that scenario</a>.</p>\n"}],"owner":{"account_id":28409447,"reputation":19,"user_id":21733036,"display_name":"MIM"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76612474,"answer_count":1,"score":0,"last_activity_date":1688473324,"creation_date":1688469319,"question_id":76612043,"body_markdown":"I have create a resource like this:\r\n```\r\n@GetMapping(&quot;/books&quot;)\r\npublic ResponseEntity&lt;List&lt;Book&gt;&gt; getAllbooks(BookCriteria criteria, Pageable pageable) {\r\n    Page&lt;Book&gt; page = bookService.findByCriteria(criteria, pageable);\r\n    HttpHeaders headers = PaginationUtil.generatePaginationHttpHeaders(ServletUriComponentsBuilder.fromCurrentRequest(), page);\r\n    return ResponseEntity.ok().headers(headers).body(page.getContent());\r\n}\r\n```\r\nI want to export this content into a file. Should I call request one by one page for this request or process this one in back-end and get all like this:\r\n```\r\n@GetMapping(&quot;/books&quot;)\r\npublic ResponseEntity&lt;List&lt;Book&gt;&gt; getAllBooksWithoutPageable() {\r\n    log.debug(&quot;REST request to get a page of books&quot;);\r\n    List&lt;Book&gt; books = new ArrayList&lt;&gt;();\r\n    int page = 0;\r\n    int size = 20;\r\n    Slice&lt;Book&gt; slice = bookService.findAll(PageRequest.of(page, size));\r\n    books.addAll(slice.getContent());\r\n\r\n    while (slice.hasNext()) {\r\n        page += 1;\r\n        slice = bookService.findAll(PageRequest.of(page, size));\r\n        books.addAll(slice.getContent());\r\n    }\r\n\r\n    return ResponseEntity.ok().body(books);\r\n}\r\n```","title":"Process get all from front-end or back-end?","body":"<p>I have create a resource like this:</p>\n<pre><code>@GetMapping(&quot;/books&quot;)\npublic ResponseEntity&lt;List&lt;Book&gt;&gt; getAllbooks(BookCriteria criteria, Pageable pageable) {\n    Page&lt;Book&gt; page = bookService.findByCriteria(criteria, pageable);\n    HttpHeaders headers = PaginationUtil.generatePaginationHttpHeaders(ServletUriComponentsBuilder.fromCurrentRequest(), page);\n    return ResponseEntity.ok().headers(headers).body(page.getContent());\n}\n</code></pre>\n<p>I want to export this content into a file. Should I call request one by one page for this request or process this one in back-end and get all like this:</p>\n<pre><code>@GetMapping(&quot;/books&quot;)\npublic ResponseEntity&lt;List&lt;Book&gt;&gt; getAllBooksWithoutPageable() {\n    log.debug(&quot;REST request to get a page of books&quot;);\n    List&lt;Book&gt; books = new ArrayList&lt;&gt;();\n    int page = 0;\n    int size = 20;\n    Slice&lt;Book&gt; slice = bookService.findAll(PageRequest.of(page, size));\n    books.addAll(slice.getContent());\n\n    while (slice.hasNext()) {\n        page += 1;\n        slice = bookService.findAll(PageRequest.of(page, size));\n        books.addAll(slice.getContent());\n    }\n\n    return ResponseEntity.ok().body(books);\n}\n</code></pre>\n"},{"tags":["java","gradle","intellij-idea","dependencies"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1688498590,"post_id":76611533,"comment_id":135081137,"body_markdown":"IS it possible to attach sample project example?","body":"IS it possible to attach sample project example?"},{"owner":{"account_id":28411028,"reputation":416,"user_id":21734429,"display_name":"romanv-jb"},"score":0,"creation_date":1688980591,"post_id":76611533,"comment_id":135142962,"body_markdown":"I tried reproducing the issue you&#39;ve described, but it only occurs if I use &quot;compile&quot; instead of &quot;implementation&quot;.\nIt would be very helpful if you could share your Project or a sample Project if the issue affects newly-created ones as well.","body":"I tried reproducing the issue you&#39;ve described, but it only occurs if I use &quot;compile&quot; instead of &quot;implementation&quot;. It would be very helpful if you could share your Project or a sample Project if the issue affects newly-created ones as well."}],"owner":{"account_id":28947354,"reputation":1,"user_id":22172675,"display_name":"Mustafa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688473282,"creation_date":1688465320,"question_id":76611533,"body_markdown":"I have a root project build.gradle(:mainProj) file and 2 module level build.gradle(:modA) build.gradle(:modB)\r\n\r\n&gt; Previously the project was using below gradle version and was compiled on Eclipse Now using intelliJ-Idea:\r\n\r\n```\r\n`gradle-wrapper.properties\r\n\r\ndistributionBase=GRADLE_USER_HOME\r\ndistributionPath=wrapper/dists\r\nzipStoreBase=GRADLE_USER_HOME\r\nzipStorePath=wrapper/dists\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-3.5-bin.zip`\r\n```\r\n\r\nI&#39;ve updated it to:\r\n\r\n```\r\n`distributionBase=GRADLE_USER_HOME\r\ndistributionPath=wrapper/dists\r\nzipStoreBase=GRADLE_USER_HOME\r\nzipStorePath=wrapper/dists\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.3.3-bin.zip`\r\n```\r\n\r\nwhen I build the project it gets successful:\r\n\r\n&gt; `PS C:&gt; gradle build`\r\n\r\n&gt; `Task :packageABC`\r\n&gt; `Engine Packaged Successfully...`\r\n\r\n&gt; `BUILD SUCCESSFUL in 1s`\r\n&gt; `19 actionable tasks: 9 executed, 10 up-to-date`\r\n&gt; `PS C:&gt;`\r\n\r\nBut then when I run the main file:\r\n\r\n```\r\nBuild file &#39;C:\\mainProj\\modA\\build.gradle&#39; line: 21\r\n\r\nA problem occurred evaluating root project &#39;modA&#39;.\r\n&gt; Could not find method implementation() for arguments [antlr:antlr:2.7.7] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n```\r\n\r\nHere&#39;s the build.gradle(:modA).\r\n\r\n```\r\n`repositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;antlr:antlr:2.7.7&#39;\r\n    implementation &#39;com.mchange:c3p0:0.9.2.1&#39;\r\n    implementation &#39;com.mchange:mchange-commons-java:0.2.3.4&#39;\r\n    implementation &#39;commons-collections:commons-collections:3.2.2&#39;\r\n    implementation &#39;javax.transaction:jta:1.1&#39;\r\n    implementation &#39;net.sf.ehcache:ehcache-core:2.4.3&#39;\r\n    implementation &#39;net.sf.ehcache:ehcache-parent:2.2&#39;\r\n    implementation &#39;org.apache:apache:13&#39;\r\n    implementation &#39;org.apache:apache:16&#39;\r\n    implementation &#39;org.apache.commons:commons-lang3:3.4&#39;\r\n    implementation &#39;org.apache.commons:commons-parent:39&#39;\r\n    implementation &#39;org.hamcrest:hamcrest-core:1.3&#39;\r\n    implementation &#39;org.hamcrest:hamcrest-parent:1.3&#39;\r\n    implementation &#39;org.hibernate:antlr:2.7.5H3&#39;\r\n    implementation &#39;org.hibernate.common:hibernate-commons-annotations:4.0.5.Final&#39;\r\n    implementation &#39;org.javassist:javassist:3.18.1-GA&#39;\r\n    implementation &#39;xml-apis:xml-apis:1.0.b2&#39;\r\n    implementation &#39;commons-codec:commons-codec:1.10&#39;\r\n    implementation &#39;org.json:json:20160810&#39;\r\n    implementation &#39;mysql:mysql-connector-java:5.1.32&#39;\r\n    implementation group: &#39;org.hibernate&#39;, name: &#39;hibernate-core&#39;, version: &#39;4.3.11.Final&#39;\r\n    implementation group: &#39;org.hibernate&#39;, name: &#39;hibernate-ehcache&#39;, version: &#39;4.3.11.Final&#39;\r\n    implementation group: &#39;org.hibernate&#39;, name: &#39;hibernate-c3p0&#39;, version: &#39;4.3.11.Final&#39;\r\n    implementation group: &#39;com.rabbitmq&#39;, name: &#39;amqp-client&#39;, version: &#39;3.6.5&#39;\r\n    implementation &#39;com.sun.net.httpserver:http:20070405&#39;\r\n    implementation &#39;ch.qos.logback:logback-classic:1.2.6&#39;\r\n}\r\n\r\n\r\nconfigurations.all {\r\n   exclude module: &quot;slf4j-log4j12&quot;\r\n   exclude group:&quot;org.slf4j&quot;, module: &quot;log4j-over-slf4j&quot;\r\n   exclude group:&quot;org.slf4j&quot;, module: &quot;jul-to-slf4j&quot;\r\n   exclude group:&quot;org.slf4j&quot;, module: &quot;slf4j-over-log4j&quot;\r\n   exclude group:&quot;org.slf4j&quot;, module: &quot;slf4j-log4j12&quot;\r\n   exclude group: &quot;ch.qos.logback.classic.log4j&quot;\r\n   exclude group: &quot;log4j&quot;, module: &quot;log4j-api&quot;\r\n   exclude group: &quot;log4j&quot;, module: &quot;log4j&quot;\r\n}\r\n\r\n\r\njar {\r\n    duplicatesStrategy = &#39;exclude&#39;\r\n}`\r\n\r\n```\r\n\r\n`Previously it was compile instead of implementation I changed that since it was depreciated but found no luck.`","title":"Could not find method implementation() for arguments - Gradle 7.3.3 JAVA 17 - intelliJ Idea","body":"<p>I have a root project build.gradle(:mainProj) file and 2 module level build.gradle(:modA) build.gradle(:modB)</p>\n<blockquote>\n<p>Previously the project was using below gradle version and was compiled on Eclipse Now using intelliJ-Idea:</p>\n</blockquote>\n<pre><code>`gradle-wrapper.properties\n\ndistributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-3.5-bin.zip`\n</code></pre>\n<p>I've updated it to:</p>\n<pre><code>`distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.3.3-bin.zip`\n</code></pre>\n<p>when I build the project it gets successful:</p>\n<blockquote>\n<p><code>PS C:&gt; gradle build</code></p>\n</blockquote>\n<blockquote>\n<p><code>Task :packageABC</code>\n<code>Engine Packaged Successfully...</code></p>\n</blockquote>\n<blockquote>\n<p><code>BUILD SUCCESSFUL in 1s</code>\n<code>19 actionable tasks: 9 executed, 10 up-to-date</code>\n<code>PS C:&gt;</code></p>\n</blockquote>\n<p>But then when I run the main file:</p>\n<pre><code>Build file 'C:\\mainProj\\modA\\build.gradle' line: 21\n\nA problem occurred evaluating root project 'modA'.\n&gt; Could not find method implementation() for arguments [antlr:antlr:2.7.7] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n</code></pre>\n<p>Here's the build.gradle(:modA).</p>\n<pre><code>`repositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'antlr:antlr:2.7.7'\n    implementation 'com.mchange:c3p0:0.9.2.1'\n    implementation 'com.mchange:mchange-commons-java:0.2.3.4'\n    implementation 'commons-collections:commons-collections:3.2.2'\n    implementation 'javax.transaction:jta:1.1'\n    implementation 'net.sf.ehcache:ehcache-core:2.4.3'\n    implementation 'net.sf.ehcache:ehcache-parent:2.2'\n    implementation 'org.apache:apache:13'\n    implementation 'org.apache:apache:16'\n    implementation 'org.apache.commons:commons-lang3:3.4'\n    implementation 'org.apache.commons:commons-parent:39'\n    implementation 'org.hamcrest:hamcrest-core:1.3'\n    implementation 'org.hamcrest:hamcrest-parent:1.3'\n    implementation 'org.hibernate:antlr:2.7.5H3'\n    implementation 'org.hibernate.common:hibernate-commons-annotations:4.0.5.Final'\n    implementation 'org.javassist:javassist:3.18.1-GA'\n    implementation 'xml-apis:xml-apis:1.0.b2'\n    implementation 'commons-codec:commons-codec:1.10'\n    implementation 'org.json:json:20160810'\n    implementation 'mysql:mysql-connector-java:5.1.32'\n    implementation group: 'org.hibernate', name: 'hibernate-core', version: '4.3.11.Final'\n    implementation group: 'org.hibernate', name: 'hibernate-ehcache', version: '4.3.11.Final'\n    implementation group: 'org.hibernate', name: 'hibernate-c3p0', version: '4.3.11.Final'\n    implementation group: 'com.rabbitmq', name: 'amqp-client', version: '3.6.5'\n    implementation 'com.sun.net.httpserver:http:20070405'\n    implementation 'ch.qos.logback:logback-classic:1.2.6'\n}\n\n\nconfigurations.all {\n   exclude module: &quot;slf4j-log4j12&quot;\n   exclude group:&quot;org.slf4j&quot;, module: &quot;log4j-over-slf4j&quot;\n   exclude group:&quot;org.slf4j&quot;, module: &quot;jul-to-slf4j&quot;\n   exclude group:&quot;org.slf4j&quot;, module: &quot;slf4j-over-log4j&quot;\n   exclude group:&quot;org.slf4j&quot;, module: &quot;slf4j-log4j12&quot;\n   exclude group: &quot;ch.qos.logback.classic.log4j&quot;\n   exclude group: &quot;log4j&quot;, module: &quot;log4j-api&quot;\n   exclude group: &quot;log4j&quot;, module: &quot;log4j&quot;\n}\n\n\njar {\n    duplicatesStrategy = 'exclude'\n}`\n\n</code></pre>\n<p><code>Previously it was compile instead of implementation I changed that since it was depreciated but found no luck.</code></p>\n"},{"tags":["java","selenium-webdriver","testing"],"comments":[{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1688473334,"post_id":76612569,"comment_id":135076397,"body_markdown":"Is the URL public , so we can access?","body":"Is the URL public , so we can access?"}],"owner":{"account_id":14080034,"reputation":1,"user_id":10171318,"display_name":"Gourab Saha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688473269,"creation_date":1688473269,"question_id":76612569,"body_markdown":"I want to confirm that the print preview is opened and then close the dialog box.\r\n\r\n    \r\n```\r\nAlert alert = getDriver().switchTo().alert();\r\n    alert.dismiss();\r\n    Set&lt;String&gt; allWindowHandles = getDriver().getWindowHandles();\r\n```\r\n\r\nCan anyone please suggest a way to solve this?","title":"How to handle print preview pop-up using selenium and Java. Alert and window handles aren&#39;t working","body":"<p>I want to confirm that the print preview is opened and then close the dialog box.</p>\n<pre><code>Alert alert = getDriver().switchTo().alert();\n    alert.dismiss();\n    Set&lt;String&gt; allWindowHandles = getDriver().getWindowHandles();\n</code></pre>\n<p>Can anyone please suggest a way to solve this?</p>\n"},{"tags":["java","sap-commerce-cloud"],"comments":[{"owner":{"account_id":1706562,"reputation":2945,"user_id":1565503,"accept_rate":27,"display_name":"Benoit Vanalderweireldt"},"score":0,"creation_date":1459785347,"post_id":36406381,"comment_id":60430718,"body_markdown":"We need the error message and probably your localextensions.xml file","body":"We need the error message and probably your localextensions.xml file"},{"owner":{"account_id":7068587,"reputation":25,"user_id":5411054,"display_name":"LiiTo Olivera"},"score":0,"creation_date":1459789477,"post_id":36406381,"comment_id":60433256,"body_markdown":"Hi Just added the localExtensions,  I have attached  an Image  of the console log. Thanks for replying.","body":"Hi Just added the localExtensions,  I have attached  an Image  of the console log. Thanks for replying."}],"answers":[{"comments":[{"owner":{"account_id":7068587,"reputation":25,"user_id":5411054,"display_name":"LiiTo Olivera"},"score":0,"creation_date":1459797774,"post_id":36410430,"comment_id":60438007,"body_markdown":"The platform it self works fine, the problem is when I start adding the customer code.That&#39;s why I have  the localextensions with so many extensions.  I tried with the ant clean all, but same out come. I just added a screen shot of the facedes resourse, it doesn&#39;t have a items.xml.  Thanks a lot for your help !","body":"The platform it self works fine, the problem is when I start adding the customer code.That&#39;s why I have  the localextensions with so many extensions.  I tried with the ant clean all, but same out come. I just added a screen shot of the facedes resourse, it doesn&#39;t have a items.xml.  Thanks a lot for your help !"},{"owner":{"account_id":1706562,"reputation":2945,"user_id":1565503,"accept_rate":27,"display_name":"Benoit Vanalderweireldt"},"score":0,"creation_date":1459797985,"post_id":36410430,"comment_id":60438147,"body_markdown":"In what extension is GiftCardPayment defined ? Can you add the item definition","body":"In what extension is GiftCardPayment defined ? Can you add the item definition"},{"owner":{"account_id":7068587,"reputation":25,"user_id":5411054,"display_name":"LiiTo Olivera"},"score":0,"creation_date":1459798753,"post_id":36410430,"comment_id":60438627,"body_markdown":"Is defined in carrefourcore, I added the item definition","body":"Is defined in carrefourcore, I added the item definition"},{"owner":{"account_id":1706562,"reputation":2945,"user_id":1565503,"accept_rate":27,"display_name":"Benoit Vanalderweireldt"},"score":0,"creation_date":1459804093,"post_id":36410430,"comment_id":60441443,"body_markdown":"What is customer code ? And from what Hybris version ? You need to look for the extension / file with GiftCardPayment and or AbstractPaymentInfo","body":"What is customer code ? And from what Hybris version ? You need to look for the extension / file with GiftCardPayment and or AbstractPaymentInfo"}],"tags":[],"owner":{"account_id":1706562,"reputation":2945,"user_id":1565503,"accept_rate":27,"display_name":"Benoit Vanalderweireldt"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459795471,"creation_date":1459795471,"answer_id":36410430,"question_id":36406381,"body_markdown":"First thing try to clean your localextensions.xml file, for example only on path tag is required.\r\n\r\nHow did you generate it ? Did you use any installer ?\r\n\r\nHave you tried &#39;ant clean all&#39;, it seems that GiftCardPaymentData has a missing dependency on AbstractPaymentInfo, on a local install of Hybris 5.7 I only have PaymentInfo I think you have added legacy source code ? \r\n\r\nIf the &quot;ant clean all&quot; doesn&#39;t fix your issue could you share the items.xml file of you carrefourfacades extension ?\r\n","title":"Hybris fails when is the code is auto generating - ant all","body":"<p>First thing try to clean your localextensions.xml file, for example only on path tag is required.</p>\n\n<p>How did you generate it ? Did you use any installer ?</p>\n\n<p>Have you tried 'ant clean all', it seems that GiftCardPaymentData has a missing dependency on AbstractPaymentInfo, on a local install of Hybris 5.7 I only have PaymentInfo I think you have added legacy source code ? </p>\n\n<p>If the \"ant clean all\" doesn't fix your issue could you share the items.xml file of you carrefourfacades extension ?</p>\n"},{"comments":[{"owner":{"account_id":1706562,"reputation":2945,"user_id":1565503,"accept_rate":27,"display_name":"Benoit Vanalderweireldt"},"score":0,"creation_date":1459862826,"post_id":36423739,"comment_id":60469693,"body_markdown":"How come you have Hybris 6 already ?\nWith Hybris 5.7 Commerce Facade has no AbstractPaymentInfoData.","body":"How come you have Hybris 6 already ? With Hybris 5.7 Commerce Facade has no AbstractPaymentInfoData."},{"owner":{"account_id":894656,"reputation":1763,"user_id":932201,"accept_rate":87,"display_name":"Sebastian"},"score":0,"creation_date":1459871347,"post_id":36423739,"comment_id":60476613,"body_markdown":"@BenoitVanalderweireldt I do product development for hybris :) \nAnd yes, likewise in 6.0, AbstractPaymentInfoData doesn&#39;t exist. I thought maybe that the extension and their DTOs were depending on an older hybris version that maybe had AbstractPaymentInfoData, but that might not be the case either. Maybe it&#39;s simply a wrong declaration in the *-beans.xml file?","body":"@BenoitVanalderweireldt I do product development for hybris :)  And yes, likewise in 6.0, AbstractPaymentInfoData doesn&#39;t exist. I thought maybe that the extension and their DTOs were depending on an older hybris version that maybe had AbstractPaymentInfoData, but that might not be the case either. Maybe it&#39;s simply a wrong declaration in the *-beans.xml file?"},{"owner":{"account_id":1706562,"reputation":2945,"user_id":1565503,"accept_rate":27,"display_name":"Benoit Vanalderweireldt"},"score":0,"creation_date":1459872828,"post_id":36423739,"comment_id":60477682,"body_markdown":"I guess it&#39;s hopeless to ask you to send me Hybris 6 ahah :) \nI don&#39;t see any reference to AbstractPaymentInfoData under version 5.","body":"I guess it&#39;s hopeless to ask you to send me Hybris 6 ahah :)  I don&#39;t see any reference to AbstractPaymentInfoData under version 5."},{"owner":{"account_id":1706562,"reputation":2945,"user_id":1565503,"accept_rate":27,"display_name":"Benoit Vanalderweireldt"},"score":0,"creation_date":1459872835,"post_id":36423739,"comment_id":60477686,"body_markdown":"@LiiTo Olivera could you do a grep under your bin directory ? Something like : grep -ri &#39;AbstractPayment&#39; --include &quot;*items.xml&quot; .","body":"@LiiTo Olivera could you do a grep under your bin directory ? Something like : grep -ri &#39;AbstractPayment&#39; --include &quot;*items.xml&quot; ."},{"owner":{"account_id":894656,"reputation":1763,"user_id":932201,"accept_rate":87,"display_name":"Sebastian"},"score":0,"creation_date":1459874988,"post_id":36423739,"comment_id":60479191,"body_markdown":"Benoit, haha, yeah sorry, I&#39;d get in serious trouble. But the other day there was a 6.0 system demo for partners and a recording  will soon be added to the wiki somewhere.\n@LiiToOlivera\nThe grep would have to be over &quot;*-beans.xml&quot; files though, as the DTOs are defined in the &lt;EXTENSIONNAME&gt;-beans.xml files (not sure though if you have cygwin or some other grep tool on your windows box :) )","body":"Benoit, haha, yeah sorry, I&#39;d get in serious trouble. But the other day there was a 6.0 system demo for partners and a recording  will soon be added to the wiki somewhere. @LiiToOlivera The grep would have to be over &quot;*-beans.xml&quot; files though, as the DTOs are defined in the &lt;EXTENSIONNAME&gt;-beans.xml files (not sure though if you have cygwin or some other grep tool on your windows box :) )"},{"owner":{"account_id":7068587,"reputation":25,"user_id":5411054,"display_name":"LiiTo Olivera"},"score":0,"creation_date":1459875049,"post_id":36423739,"comment_id":60479220,"body_markdown":"Sorry Guys it&#39;s useless, can get a work around.  Never mind, will create a ticket. FYI in the hybris wiki  I only saw until de version 5.7.0.9","body":"Sorry Guys it&#39;s useless, can get a work around.  Never mind, will create a ticket. FYI in the hybris wiki  I only saw until de version 5.7.0.9"},{"owner":{"account_id":1706562,"reputation":2945,"user_id":1565503,"accept_rate":27,"display_name":"Benoit Vanalderweireldt"},"score":0,"creation_date":1459876513,"post_id":36423739,"comment_id":60480181,"body_markdown":"You need to check all custom extensions and look for something like this under your beans.xml files :\n&lt;bean name=&quot;GiftCardPaymentInfo&quot; extends=&quot;AbstractPaymentInfo&quot;&gt;&lt;/bean&gt;\nMost likely as you said the client code you are importing is not compatible","body":"You need to check all custom extensions and look for something like this under your beans.xml files : &lt;bean name=&quot;GiftCardPaymentInfo&quot; extends=&quot;AbstractPaymentInfo&quot;&gt;&lt;/bean&gt; Most likely as you said the client code you are importing is not compatible"}],"tags":[],"owner":{"account_id":894656,"reputation":1763,"user_id":932201,"accept_rate":87,"display_name":"Sebastian"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1459871563,"creation_date":1459851976,"answer_id":36423739,"question_id":36406381,"body_markdown":"It looks like you don&#39;t have `commercefacades` in your localextensions.xml which is where `AbstractPaymentInfoData` is declared.\r\nEither you add it explictly to your localextensions.xml or you declare it as dependency in your `carrefourcore` (or whereever your failing `GiftCardPaymentInfoData` is defined) `extensioninfo.xml&#39; file by adding a line like:\r\n\r\n    &lt;requires-extension name=&quot;commercefacades&quot;/&gt;\r\n\r\nIf that doesn&#39;t help, please post the part of the console log when the ant task lists the complete hybris extension dependency list, like this.\r\n(commercefacades should show up there somewhere)\r\n\r\n     [echo] ---------------------------------------------------------------\r\n     [echo] --- Extensions in dependency order ( options: \r\n     [echo] ---  @deprecated: is deprecated, p: platform extension,*: auto-required \r\n     [echo] ---  ?: lazy-loaded, i: got items.xml, b: got beans.xml, c: got core module \r\n     [echo] ---  w: got web module, h: got HMC module ) \r\n     [echo] ---------------------------------------------------------------\r\n     [echo] core 6.0.0.0-SNAPSHOT [p*cib]\r\n     [echo] testweb 6.0.0.0-SNAPSHOT [p*w]\r\n     [echo] scripting 6.0.0.0-SNAPSHOT [p*ci]\r\n     [echo] paymentstandard 6.0.0.0-SNAPSHOT [p*ci]\r\n     [echo] mediaweb 6.0.0.0-SNAPSHOT [p*cw]\r\n     [echo] maintenanceweb 6.0.0.0-SNAPSHOT [p*w]\r\n     [echo] deliveryzone 6.0.0.0-SNAPSHOT [p*ci]\r\n     [echo] commons 6.0.0.0-SNAPSHOT [p*ci]\r\n     [...]\r\n     [echo] mcc-&gt;(impex,processing,cockpit) 6.0.0.0-SNAPSHOT [ciw] path:/Users/sebastianschaer/dev/bitwisers/code/ruleenginesuite/hybris/bin/ext-cockpit/mcc\r\n     [echo] ---------------------------------------------------------------\r\n     [echo]  \r\n\r\n\r\n\r\n**Alternative**: \r\nIf this error isn&#39;t due to a missing extension (I don&#39;t have AbstractPaymentInfoData declared in commercefacades, but I&#39;m working on a newer version rightn ow) it might be that your bean definition for GiftCardPaymentInfoData extends a wrong type, i.e. a non-existing one.\r\nAre you migrating from an older hybris version to 5.7? \r\n\r\nIf so, maybe you need to change your bean definition for the GiftCardPaymentInfoData (declared in one of your extensions in the EXTENSION_NAME-beans.xml file) and change it to extend maybe `de.hybris.platform.commercefacades.order.data.CCPaymentInfoData` or `de.hybris.platform.acceleratorservices.payment.data.PaymentInfoData` or another already existing DTO..\r\nIf you are migrating you should look up the migration docs on the hybris wiki to see what changes were made regarding this.\r\n\r\nHope this helps,\r\n\r\nSebastian","title":"Hybris fails when is the code is auto generating - ant all","body":"<p>It looks like you don't have <code>commercefacades</code> in your localextensions.xml which is where <code>AbstractPaymentInfoData</code> is declared.\nEither you add it explictly to your localextensions.xml or you declare it as dependency in your <code>carrefourcore</code> (or whereever your failing <code>GiftCardPaymentInfoData</code> is defined) `extensioninfo.xml' file by adding a line like:</p>\n\n<pre><code>&lt;requires-extension name=\"commercefacades\"/&gt;\n</code></pre>\n\n<p>If that doesn't help, please post the part of the console log when the ant task lists the complete hybris extension dependency list, like this.\n(commercefacades should show up there somewhere)</p>\n\n<pre><code> [echo] ---------------------------------------------------------------\n [echo] --- Extensions in dependency order ( options: \n [echo] ---  @deprecated: is deprecated, p: platform extension,*: auto-required \n [echo] ---  ?: lazy-loaded, i: got items.xml, b: got beans.xml, c: got core module \n [echo] ---  w: got web module, h: got HMC module ) \n [echo] ---------------------------------------------------------------\n [echo] core 6.0.0.0-SNAPSHOT [p*cib]\n [echo] testweb 6.0.0.0-SNAPSHOT [p*w]\n [echo] scripting 6.0.0.0-SNAPSHOT [p*ci]\n [echo] paymentstandard 6.0.0.0-SNAPSHOT [p*ci]\n [echo] mediaweb 6.0.0.0-SNAPSHOT [p*cw]\n [echo] maintenanceweb 6.0.0.0-SNAPSHOT [p*w]\n [echo] deliveryzone 6.0.0.0-SNAPSHOT [p*ci]\n [echo] commons 6.0.0.0-SNAPSHOT [p*ci]\n [...]\n [echo] mcc-&gt;(impex,processing,cockpit) 6.0.0.0-SNAPSHOT [ciw] path:/Users/sebastianschaer/dev/bitwisers/code/ruleenginesuite/hybris/bin/ext-cockpit/mcc\n [echo] ---------------------------------------------------------------\n [echo]  \n</code></pre>\n\n<p><strong>Alternative</strong>: \nIf this error isn't due to a missing extension (I don't have AbstractPaymentInfoData declared in commercefacades, but I'm working on a newer version rightn ow) it might be that your bean definition for GiftCardPaymentInfoData extends a wrong type, i.e. a non-existing one.\nAre you migrating from an older hybris version to 5.7? </p>\n\n<p>If so, maybe you need to change your bean definition for the GiftCardPaymentInfoData (declared in one of your extensions in the EXTENSION_NAME-beans.xml file) and change it to extend maybe <code>de.hybris.platform.commercefacades.order.data.CCPaymentInfoData</code> or <code>de.hybris.platform.acceleratorservices.payment.data.PaymentInfoData</code> or another already existing DTO..\nIf you are migrating you should look up the migration docs on the hybris wiki to see what changes were made regarding this.</p>\n\n<p>Hope this helps,</p>\n\n<p>Sebastian</p>\n"}],"owner":{"account_id":7068587,"reputation":25,"user_id":5411054,"display_name":"LiiTo Olivera"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3629,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":36423739,"answer_count":2,"score":1,"last_activity_date":1688472778,"creation_date":1459782552,"question_id":36406381,"body_markdown":"I am working with the  5.7 version of Hybris platform and JAVA 1.8.0.77, when I am doing the **ant all** with the customer data, it fails everytime: \r\n\r\n&gt; ```\r\n&gt; [ycodegenerator] 11:14:23,475 [main] INFO  DtoClassGenerator -    Generating resources ..\r\n&gt; [ycodegenerator] 11:14:28,785 [main] INFO  CodeGenerator - Code generation done in 25957 ms. \r\n&gt;      [echo]       building models from C:\\Hybris2\\hybris\\bin\\platform/bootstrap/gensrc to C:\\Hybris2\\hybris\\bin\\platform/bootstrap/bin/models.jar \r\n&gt;     [mkdir] Created dir: C:\\Hybris2\\hybris\\bin\\platform\\bootstrap\\modelclasses \r\n&gt;    [yjavac] Compiling 1563 source files to C:\\Hybris2\\hybris\\bin\\platform\\bootstrap\\modelclasses \r\n&gt;    [yjavac] ----------\r\n&gt;    [yjavac] 1. ERROR in C:\\Hybris2\\hybris\\bin\\platform\\bootstrap\\gensrc\\br\\com\\carrefour\\facades\\payment\\GiftCardPaymentInfoData.java &lt;at line 22&gt;\r\n&gt;    [yjavac]     import de.klatform.commercefacades.order.data.AbstractPaymentInfoData;\r\n&gt;    [yjavac]            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n&gt;    [yjavac] The import de.hybris.platform.commercefacades.order.data.AbstractPaymentInfoData cannot be resolved \r\n&gt; ```\r\n&gt; \r\n&gt; ![Console Log][1]\r\n\r\n\r\nI can&#39;t see what I am missing. \r\n\r\n\r\nhere is the LocalExtensions.xml\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;hybrisconfig xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:noNamespaceSchemaLocation=&quot;resources/schemas/extensions.xsd&quot;&gt;\r\n    \t&lt;extensions&gt;\r\n    \t\t&lt;!-- \r\n    \t\t\t\tAll extensions located in ${HYBRIS_BIN_DIR}/platform/ext are automatically loaded. \r\n    \t\t\t\tMore information about how to configure available extensions can be found here : https://wiki.hybris.com/x/nZVzC\r\n    \t\t--&gt;\r\n    \t\t\t\t\r\n    \t\t&lt;path dir=&quot;${HYBRIS_BIN_DIR}&quot; /&gt;\r\n    \t\t\r\n    \t\t&lt;path dir=&quot;${HYBRIS_BIN_DIR}/ext-commerce&quot;/&gt;\r\n    \t\t\r\n    \t\t\r\n    &lt;!-- \t\t&lt;extension dir=&quot;${HYBRIS_BIN_DIR}/ext-addon/addonsupport&quot;/&gt; --&gt;\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t&lt;extension name=&quot;addonsupport&quot;/&gt;\r\n    \t\t&lt;extension name=&quot;mediaconversion&quot;/&gt;\r\n    \t\r\n    \t\t&lt;extension name=&quot;carrefourcockpits&quot; /&gt;\r\n    \t\t&lt;extension name=&quot;carrefourcore&quot; /&gt;\r\n    \t\t&lt;extension name=&quot;carrefourfacades&quot; /&gt;\r\n    \r\n    \t\t&lt;extension name=&quot;carrefouroms&quot; /&gt;\r\n    \t\t&lt;extension name=&quot;carrefourinitialdata&quot; /&gt;\r\n    \t\t&lt;extension name=&quot;carrefourstorefront&quot; /&gt;\r\n    \t\t&lt;extension name=&quot;carrefourintegrationws&quot; /&gt; \r\n    \t\t&lt;extension name=&quot;carrefourinterfacews&quot;/&gt;\r\n    \t\t\r\n    &lt;!-- \t\t&lt;extension name=&quot;carrefourtest&quot; /&gt; --&gt;\r\n    \t\t&lt;extension name=&#39;carrefourhmc&#39; /&gt;\r\n    \t\t&lt;extension name=&quot;carrefourcheckoutaddon&quot;/&gt;\r\n    \t    &lt;extension name=&#39;carrefourcmscomponentsaddon&#39; /&gt;\r\n    \t    \r\n    \t\t&lt;extension name=&quot;braspagintegration&quot; /&gt;\r\n    \t\t&lt;extension name=&quot;clearsaleintegration&quot; /&gt;\r\n    \t\t\r\n    \t\t&lt;extension name=&quot;krsfacades&quot; /&gt;\r\n    \t\t&lt;extension name=&quot;krsservices&quot; /&gt;\r\n    \t\t&lt;extension name=&quot;krsasm&quot;/&gt;\r\n    \t\t&lt;extension name=&quot;krsasmstorefront&quot;/&gt;\r\n    \t\t\r\n    \t\t&lt;extension name=&quot;backoffice&quot; /&gt;\r\n    \t\t&lt;extension name=&quot;commercesearch&quot; /&gt;\r\n    \t\t&lt;extension name=&quot;commercesearchbackoffice&quot; /&gt;\r\n    \t\t&lt;extension name=&quot;commercesearchhmc&quot; /&gt;\r\n    \r\n    \t\t&lt;extension name=&quot;zipzonedeliverycore&quot; /&gt;\r\n         \t&lt;extension name=&quot;zipzonedeliveryhmc&quot; /&gt;\r\n         \t&lt;extension name=&quot;zipzonedeliveryfacades&quot; /&gt;\r\n         \t\r\n         \t&lt;extension name=&quot;voucher&quot; /&gt;\r\n         \t&lt;extension name=&quot;voucherbackoffice&quot; /&gt;\r\n         \t\r\n         \t&lt;extension name=&quot;vouchers&quot; /&gt;\r\n         \t\r\n         \t&lt;extension name=&quot;solrfacetsearch&quot; /&gt;\r\n         \t&lt;extension name=&quot;solrserver&quot; /&gt;\r\n         \t\r\n         \t&lt;!--  SAC extensions --&gt;\r\n         \t&lt;extension name=&quot;carrefoursacstorefront&quot; /&gt;\r\n         \t&lt;extension name=&quot;carrefoursaccore&quot; /&gt;\r\n         \t&lt;extension name=&quot;carrefoursacfacades&quot; /&gt;\r\n    \t\t\r\n    \t\t&lt;!-- ASM --&gt;\r\n         \t&lt;extension name=&quot;assistedservicestorefront&quot;/&gt;\r\n    \t\t&lt;extension name=&quot;acceleratorstorefrontcommons&quot; /&gt;\r\n    \t\t&lt;extension name=&quot;assistedservicefacades&quot;/&gt;\r\n    \t\t\r\n    \t\t&lt;!-- SSO --&gt;\r\n    &lt;!-- \t\t&lt;extension name=&quot;samlsinglesignon&quot;/&gt; --&gt;\r\n    &lt;!-- \t\t&lt;extension name=&quot;krssso&quot;/&gt; --&gt;\r\n    \t\t\r\n    \t\t&lt;!-- OMS --&gt;\r\n    \t\t&lt;extension name=&quot;warehousing&quot;/&gt;\r\n         \t&lt;extension name=&quot;warehousingbackoffice&quot;/&gt;\r\n         \t&lt;extension name=&quot;ordermanagementbackoffice&quot;/&gt;\r\n    \t\t&lt;extension name=&quot;platformwebservices&quot;/&gt;\r\n    \t\t\r\n    \t\t&lt;!-- data hub --&gt;\r\n    \t    &lt;extension name=&#39;datahubadapter&#39; /&gt;\r\n    \t    &lt;extension name=&#39;datahubbackoffice&#39; /&gt;\r\n    \t    \r\n    \t    &lt;!-- analytics and business events for hybris marketing integration --&gt;\r\n    \t     &lt;extension dir=&#39;${HYBRIS_BIN_DIR}/custom/hybrisanalyticsaddon&#39;/&gt;\r\n    \t    \r\n    \t    &lt;extension name=&#39;eventtrackingservices&#39; /&gt;\r\n    \t\t&lt;extension name=&#39;eventtrackingmodel&#39; /&gt;\r\n    \t\t&lt;extension name=&#39;eventtrackingpublisher&#39; /&gt;\r\n    \t\t&lt;extension name=&#39;eventtrackingwsaddon&#39; /&gt;\r\n    \t\t\r\n    \t\t&lt;!-- yMkt integration --&gt;\r\n    \t\t&lt;extension dir=&quot;${HYBRIS_BIN_DIR}/custom/ypshybrismarketing/ymkt-hybris/cpoexport&quot;/&gt;\r\n    \r\n    \t\t&lt;extension name=&#39;yc4ccarrefour&#39; /&gt;\r\n    \t\t&lt;extension name=&#39;krsorderstatus&#39; /&gt;\r\n         \t\r\n    \t\t&lt;extension name=&quot;wishlist&quot;/&gt;\r\n    \t&lt;/extensions&gt;\r\n    &lt;/hybrisconfig&gt;\r\n\r\ncarrefoursacfacades \r\n\r\n[resources CarrefourFacades][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/XgyLo.png\r\n  [2]: http://i.stack.imgur.com/ZfKWX.png\r\n\r\n\r\n\r\nGiftCardPayment Definition\r\n\r\n \r\n    package br.com.carrefour.core.jalo;\r\n    \r\n    import de.hybris.platform.jalo.Item;\r\n    import de.hybris.platform.jalo.JaloBusinessException;\r\n    import de.hybris.platform.jalo.SessionContext;\r\n    import de.hybris.platform.jalo.type.ComposedType;\r\n    import org.apache.log4j.Logger;\r\n    \r\n    public class GiftCardPayment extends GeneratedGiftCardPayment\r\n    {\r\n    \t@SuppressWarnings(&quot;unused&quot;)\r\n    \tprivate final static Logger LOG = Logger.getLogger( GiftCardPayment.class.getName() );\r\n    \t\r\n    \t@Override\r\n    \tprotected Item createItem(final SessionContext ctx, final ComposedType type, final ItemAttributeMap allAttributes) throws JaloBusinessException\r\n    \t{\r\n    \t\t// business code placed here will be executed before the item is created\r\n    \t\t// then create the item\r\n    \t\tfinal Item item = super.createItem( ctx, type, allAttributes );\r\n    \t\t// business code placed here will be executed after the item was created\r\n    \t\t// and return the item\r\n    \t\treturn item;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nItem Creation \r\n\r\n\t\t&lt;itemtype code=&quot;GiftCardPayment&quot; extends=&quot;PaymentMode&quot;&gt;\r\n\t\t\t&lt;attributes&gt;\r\n\t\t\t\t&lt;attribute qualifier=&quot;maximumGiftCardAmount&quot; autocreate=&quot;true&quot;\r\n\t\t\t\t\ttype=&quot;java.lang.Integer&quot;&gt;\r\n\t\t\t\t\t&lt;modifiers read=&quot;true&quot; write=&quot;true&quot; search=&quot;true&quot; /&gt;\r\n\t\t\t\t\t&lt;persistence type=&quot;property&quot; /&gt;\r\n\t\t\t\t&lt;/attribute&gt;\r\n\t\t\t\t&lt;attribute qualifier=&quot;valueGiftCard&quot; autocreate=&quot;true&quot;\r\n\t\t\t\t\ttype=&quot;java.lang.Double&quot;&gt;\r\n\t\t\t\t\t&lt;modifiers read=&quot;true&quot; write=&quot;true&quot; search=&quot;true&quot; /&gt;\r\n\t\t\t\t\t&lt;persistence type=&quot;property&quot; /&gt;\r\n\t\t\t\t&lt;/attribute&gt;\r\n\t\t\t&lt;/attributes&gt;\r\n\t\t&lt;/itemtype&gt;\r\n\t\t&lt;itemtype code=&quot;BoletoPayment&quot; extends=&quot;paymentmode&quot;&gt;\r\n\t\t\t&lt;description&gt;Boleto Payment&lt;/description&gt;\r\n\t\t&lt;/itemtype&gt;","title":"Hybris fails when is the code is auto generating - ant all","body":"<p>I am working with the  5.7 version of Hybris platform and JAVA 1.8.0.77, when I am doing the <strong>ant all</strong> with the customer data, it fails everytime:</p>\n<blockquote>\n<pre><code>[ycodegenerator] 11:14:23,475 [main] INFO  DtoClassGenerator -    Generating resources ..\n[ycodegenerator] 11:14:28,785 [main] INFO  CodeGenerator - Code generation done in 25957 ms. \n     [echo]       building models from C:\\Hybris2\\hybris\\bin\\platform/bootstrap/gensrc to C:\\Hybris2\\hybris\\bin\\platform/bootstrap/bin/models.jar \n    [mkdir] Created dir: C:\\Hybris2\\hybris\\bin\\platform\\bootstrap\\modelclasses \n   [yjavac] Compiling 1563 source files to C:\\Hybris2\\hybris\\bin\\platform\\bootstrap\\modelclasses \n   [yjavac] ----------\n   [yjavac] 1. ERROR in C:\\Hybris2\\hybris\\bin\\platform\\bootstrap\\gensrc\\br\\com\\carrefour\\facades\\payment\\GiftCardPaymentInfoData.java &lt;at line 22&gt;\n   [yjavac]     import de.klatform.commercefacades.order.data.AbstractPaymentInfoData;\n   [yjavac]            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n   [yjavac] The import de.hybris.platform.commercefacades.order.data.AbstractPaymentInfoData cannot be resolved \n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/XgyLo.png\" alt=\"Console Log\" /></p>\n</blockquote>\n<p>I can't see what I am missing.</p>\n<p>here is the LocalExtensions.xml</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;hybrisconfig xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:noNamespaceSchemaLocation=&quot;resources/schemas/extensions.xsd&quot;&gt;\n    &lt;extensions&gt;\n        &lt;!-- \n                All extensions located in ${HYBRIS_BIN_DIR}/platform/ext are automatically loaded. \n                More information about how to configure available extensions can be found here : https://wiki.hybris.com/x/nZVzC\n        --&gt;\n                \n        &lt;path dir=&quot;${HYBRIS_BIN_DIR}&quot; /&gt;\n        \n        &lt;path dir=&quot;${HYBRIS_BIN_DIR}/ext-commerce&quot;/&gt;\n        \n        \n&lt;!--        &lt;extension dir=&quot;${HYBRIS_BIN_DIR}/ext-addon/addonsupport&quot;/&gt; --&gt;\n            \n            \n        &lt;extension name=&quot;addonsupport&quot;/&gt;\n        &lt;extension name=&quot;mediaconversion&quot;/&gt;\n    \n        &lt;extension name=&quot;carrefourcockpits&quot; /&gt;\n        &lt;extension name=&quot;carrefourcore&quot; /&gt;\n        &lt;extension name=&quot;carrefourfacades&quot; /&gt;\n\n        &lt;extension name=&quot;carrefouroms&quot; /&gt;\n        &lt;extension name=&quot;carrefourinitialdata&quot; /&gt;\n        &lt;extension name=&quot;carrefourstorefront&quot; /&gt;\n        &lt;extension name=&quot;carrefourintegrationws&quot; /&gt; \n        &lt;extension name=&quot;carrefourinterfacews&quot;/&gt;\n        \n&lt;!--        &lt;extension name=&quot;carrefourtest&quot; /&gt; --&gt;\n        &lt;extension name='carrefourhmc' /&gt;\n        &lt;extension name=&quot;carrefourcheckoutaddon&quot;/&gt;\n        &lt;extension name='carrefourcmscomponentsaddon' /&gt;\n        \n        &lt;extension name=&quot;braspagintegration&quot; /&gt;\n        &lt;extension name=&quot;clearsaleintegration&quot; /&gt;\n        \n        &lt;extension name=&quot;krsfacades&quot; /&gt;\n        &lt;extension name=&quot;krsservices&quot; /&gt;\n        &lt;extension name=&quot;krsasm&quot;/&gt;\n        &lt;extension name=&quot;krsasmstorefront&quot;/&gt;\n        \n        &lt;extension name=&quot;backoffice&quot; /&gt;\n        &lt;extension name=&quot;commercesearch&quot; /&gt;\n        &lt;extension name=&quot;commercesearchbackoffice&quot; /&gt;\n        &lt;extension name=&quot;commercesearchhmc&quot; /&gt;\n\n        &lt;extension name=&quot;zipzonedeliverycore&quot; /&gt;\n        &lt;extension name=&quot;zipzonedeliveryhmc&quot; /&gt;\n        &lt;extension name=&quot;zipzonedeliveryfacades&quot; /&gt;\n        \n        &lt;extension name=&quot;voucher&quot; /&gt;\n        &lt;extension name=&quot;voucherbackoffice&quot; /&gt;\n        \n        &lt;extension name=&quot;vouchers&quot; /&gt;\n        \n        &lt;extension name=&quot;solrfacetsearch&quot; /&gt;\n        &lt;extension name=&quot;solrserver&quot; /&gt;\n        \n        &lt;!--  SAC extensions --&gt;\n        &lt;extension name=&quot;carrefoursacstorefront&quot; /&gt;\n        &lt;extension name=&quot;carrefoursaccore&quot; /&gt;\n        &lt;extension name=&quot;carrefoursacfacades&quot; /&gt;\n        \n        &lt;!-- ASM --&gt;\n        &lt;extension name=&quot;assistedservicestorefront&quot;/&gt;\n        &lt;extension name=&quot;acceleratorstorefrontcommons&quot; /&gt;\n        &lt;extension name=&quot;assistedservicefacades&quot;/&gt;\n        \n        &lt;!-- SSO --&gt;\n&lt;!--        &lt;extension name=&quot;samlsinglesignon&quot;/&gt; --&gt;\n&lt;!--        &lt;extension name=&quot;krssso&quot;/&gt; --&gt;\n        \n        &lt;!-- OMS --&gt;\n        &lt;extension name=&quot;warehousing&quot;/&gt;\n        &lt;extension name=&quot;warehousingbackoffice&quot;/&gt;\n        &lt;extension name=&quot;ordermanagementbackoffice&quot;/&gt;\n        &lt;extension name=&quot;platformwebservices&quot;/&gt;\n        \n        &lt;!-- data hub --&gt;\n        &lt;extension name='datahubadapter' /&gt;\n        &lt;extension name='datahubbackoffice' /&gt;\n        \n        &lt;!-- analytics and business events for hybris marketing integration --&gt;\n         &lt;extension dir='${HYBRIS_BIN_DIR}/custom/hybrisanalyticsaddon'/&gt;\n        \n        &lt;extension name='eventtrackingservices' /&gt;\n        &lt;extension name='eventtrackingmodel' /&gt;\n        &lt;extension name='eventtrackingpublisher' /&gt;\n        &lt;extension name='eventtrackingwsaddon' /&gt;\n        \n        &lt;!-- yMkt integration --&gt;\n        &lt;extension dir=&quot;${HYBRIS_BIN_DIR}/custom/ypshybrismarketing/ymkt-hybris/cpoexport&quot;/&gt;\n\n        &lt;extension name='yc4ccarrefour' /&gt;\n        &lt;extension name='krsorderstatus' /&gt;\n        \n        &lt;extension name=&quot;wishlist&quot;/&gt;\n    &lt;/extensions&gt;\n&lt;/hybrisconfig&gt;\n</code></pre>\n<p>carrefoursacfacades</p>\n<p><a href=\"https://i.stack.imgur.com/ZfKWX.png\" rel=\"nofollow noreferrer\">resources CarrefourFacades</a></p>\n<p>GiftCardPayment Definition</p>\n<pre><code>package br.com.carrefour.core.jalo;\n\nimport de.hybris.platform.jalo.Item;\nimport de.hybris.platform.jalo.JaloBusinessException;\nimport de.hybris.platform.jalo.SessionContext;\nimport de.hybris.platform.jalo.type.ComposedType;\nimport org.apache.log4j.Logger;\n\npublic class GiftCardPayment extends GeneratedGiftCardPayment\n{\n    @SuppressWarnings(&quot;unused&quot;)\n    private final static Logger LOG = Logger.getLogger( GiftCardPayment.class.getName() );\n    \n    @Override\n    protected Item createItem(final SessionContext ctx, final ComposedType type, final ItemAttributeMap allAttributes) throws JaloBusinessException\n    {\n        // business code placed here will be executed before the item is created\n        // then create the item\n        final Item item = super.createItem( ctx, type, allAttributes );\n        // business code placed here will be executed after the item was created\n        // and return the item\n        return item;\n    }\n    \n}\n</code></pre>\n<p>Item Creation</p>\n<pre><code>    &lt;itemtype code=&quot;GiftCardPayment&quot; extends=&quot;PaymentMode&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute qualifier=&quot;maximumGiftCardAmount&quot; autocreate=&quot;true&quot;\n                type=&quot;java.lang.Integer&quot;&gt;\n                &lt;modifiers read=&quot;true&quot; write=&quot;true&quot; search=&quot;true&quot; /&gt;\n                &lt;persistence type=&quot;property&quot; /&gt;\n            &lt;/attribute&gt;\n            &lt;attribute qualifier=&quot;valueGiftCard&quot; autocreate=&quot;true&quot;\n                type=&quot;java.lang.Double&quot;&gt;\n                &lt;modifiers read=&quot;true&quot; write=&quot;true&quot; search=&quot;true&quot; /&gt;\n                &lt;persistence type=&quot;property&quot; /&gt;\n            &lt;/attribute&gt;\n        &lt;/attributes&gt;\n    &lt;/itemtype&gt;\n    &lt;itemtype code=&quot;BoletoPayment&quot; extends=&quot;paymentmode&quot;&gt;\n        &lt;description&gt;Boleto Payment&lt;/description&gt;\n    &lt;/itemtype&gt;\n</code></pre>\n"},{"tags":["java","intellij-idea","junit"],"answers":[{"comments":[{"owner":{"account_id":4504913,"reputation":579,"user_id":3681032,"accept_rate":30,"display_name":"Linkx_lair"},"score":0,"creation_date":1607446541,"post_id":65203167,"comment_id":115272781,"body_markdown":"i used gradle though- do i need to have maven installed?","body":"i used gradle though- do i need to have maven installed?"},{"owner":{"account_id":9774998,"reputation":3031,"user_id":7245379,"display_name":"eHayik"},"score":0,"creation_date":1607447274,"post_id":65203167,"comment_id":115273112,"body_markdown":"@Linkx_lair you don&#39;t need to install Maven in order to use Gradle","body":"@Linkx_lair you don&#39;t need to install Maven in order to use Gradle"}],"tags":[],"owner":{"account_id":13228129,"reputation":162,"user_id":9552662,"display_name":"SebastianX"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1607446340,"creation_date":1607445896,"answer_id":65203167,"question_id":65202981,"body_markdown":"Make sure you have correctly setup gradle inside your intellij like for maven\r\n\r\nand make sure You have installed JUnit plugin for IntelliJ IDEA, \r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kUPHq.png\r\n\r\n\r\n\r\nyou can even point gradle to your local repository like \r\n\r\n    repositories {\r\n      flatDir {\r\n       dirs &#39;C:/path/to/local/directory&#39;\r\n      }\r\n    }\r\n    dependencies {\r\n    compile name: &#39;name-of-jar&#39;\r\n    }","title":"JUnit not recognized in IntelliJ","body":"<p>Make sure you have correctly setup gradle inside your intellij like for maven</p>\n<p>and make sure You have installed JUnit plugin for IntelliJ IDEA,</p>\n<p><a href=\"https://i.stack.imgur.com/kUPHq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kUPHq.png\" alt=\"enter image description here\" /></a></p>\n<p>you can even point gradle to your local repository like</p>\n<pre><code>repositories {\n  flatDir {\n   dirs 'C:/path/to/local/directory'\n  }\n}\ndependencies {\ncompile name: 'name-of-jar'\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4504913,"reputation":579,"user_id":3681032,"accept_rate":30,"display_name":"Linkx_lair"},"score":0,"creation_date":1607448459,"post_id":65203522,"comment_id":115273708,"body_markdown":"I updated my question- still see the same weird &#39;add to classpath&#39; error","body":"I updated my question- still see the same weird &#39;add to classpath&#39; error"},{"owner":{"account_id":4504913,"reputation":579,"user_id":3681032,"accept_rate":30,"display_name":"Linkx_lair"},"score":0,"creation_date":1607453469,"post_id":65203522,"comment_id":115275863,"body_markdown":"What else can i do? i tried deleting the .gradle folder and also invalidating the cache and rebuilding.... And i still got the error?","body":"What else can i do? i tried deleting the .gradle folder and also invalidating the cache and rebuilding.... And i still got the error?"},{"owner":{"account_id":9774998,"reputation":3031,"user_id":7245379,"display_name":"eHayik"},"score":0,"creation_date":1607455471,"post_id":65203522,"comment_id":115276710,"body_markdown":"You imported the JUnit 4 classes, see my updated answer, use the right imports &amp; run `gradle test` command in a terminal to check whether your project config is OK, IntelliJ gets dizzy sometimes with gradle projects","body":"You imported the JUnit 4 classes, see my updated answer, use the right imports &amp; run <code>gradle test</code> command in a terminal to check whether your project config is OK, IntelliJ gets dizzy sometimes with gradle projects"},{"owner":{"account_id":4504913,"reputation":579,"user_id":3681032,"accept_rate":30,"display_name":"Linkx_lair"},"score":0,"creation_date":1607459585,"post_id":65203522,"comment_id":115278388,"body_markdown":"I updated the question. I fixed the imports and did the gradle test command- and it says that it built successfully. but i still have the errors - and it prompts me to add the junit 5 to my classpath though it is already there","body":"I updated the question. I fixed the imports and did the gradle test command- and it says that it built successfully. but i still have the errors - and it prompts me to add the junit 5 to my classpath though it is already there"}],"tags":[],"owner":{"account_id":9774998,"reputation":3031,"user_id":7245379,"display_name":"eHayik"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611090667,"creation_date":1607447177,"answer_id":65203522,"question_id":65202981,"body_markdown":"It should recognise your setup. You may try adding junit5 dependencies (which is how junit5 is added creating a Gradle project from scratch using IntelliJ&#39;s `New Project` option) as below then reload your Gradle Project.\r\n\r\n```groovy\r\n    dependencies {\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.6.0&#39;\r\n        testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine&#39;\r\n    } \r\n```\r\n\r\nYou may try `File | Invalidate caches/Restart...` option to get rid of odd issues if your project runs tests successfully using `gradle test` cli command  \r\n\r\nhttps://www.jetbrains.com/help/idea/invalidate-caches.html\r\n\r\nYou have to use the right imports for Junit 5, You are using Junit4 imports. Since version 5 `@Test`, `Assertions`, etc are within `org.junit.jupiter.api` package. e.g:\r\n\r\n```java\r\nimport org.junit.jupiter.api.AfterEach;\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\n\r\npublic class DummyTest {\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n\r\n    }\r\n\r\n    @AfterEach\r\n    void tearDown() {\r\n\r\n    }\r\n\r\n    @Test\r\n    void name() {\r\n        Assertions.assertTrue(true);\r\n    }\r\n```\r\n\r\nYou may look into [junit5-jupiter-starter-gradle](https://github.com/junit-team/junit5-samples/tree/r5.7.0/junit5-jupiter-starter-gradle)","title":"JUnit not recognized in IntelliJ","body":"<p>It should recognise your setup. You may try adding junit5 dependencies (which is how junit5 is added creating a Gradle project from scratch using IntelliJ's <code>New Project</code> option) as below then reload your Gradle Project.</p>\n<pre><code>    dependencies {\n        testImplementation 'org.junit.jupiter:junit-jupiter-api:5.6.0'\n        testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine'\n    } \n</code></pre>\n<p>You may try <code>File | Invalidate caches/Restart...</code> option to get rid of odd issues if your project runs tests successfully using <code>gradle test</code> cli command</p>\n<p><a href=\"https://www.jetbrains.com/help/idea/invalidate-caches.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/invalidate-caches.html</a></p>\n<p>You have to use the right imports for Junit 5, You are using Junit4 imports. Since version 5 <code>@Test</code>, <code>Assertions</code>, etc are within <code>org.junit.jupiter.api</code> package. e.g:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\n\npublic class DummyTest {\n\n    @BeforeEach\n    void setUp() {\n\n    }\n\n    @AfterEach\n    void tearDown() {\n\n    }\n\n    @Test\n    void name() {\n        Assertions.assertTrue(true);\n    }\n</code></pre>\n<p>You may look into <a href=\"https://github.com/junit-team/junit5-samples/tree/r5.7.0/junit5-jupiter-starter-gradle\" rel=\"nofollow noreferrer\">junit5-jupiter-starter-gradle</a></p>\n"},{"tags":[],"owner":{"account_id":3242704,"reputation":13438,"user_id":2735286,"accept_rate":89,"display_name":"gil.fernandes"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1678631830,"creation_date":1660554032,"answer_id":73358823,"question_id":65202981,"body_markdown":"I had a similar problem with `JUnit 5` using `Maven`. I discovered that IDEA had created some `*.iml` files where it should not have. I had one in the test folder called `test.iml`. After deleting them the problems went away.\r\n\r\nPlease check if IDEA did not create some sneaky modules unexpectedly.\r\n\r\nI see in the screenshot that you have one of those:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nMy advice is to delete it.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5F1uJ.png","title":"JUnit not recognized in IntelliJ","body":"<p>I had a similar problem with <code>JUnit 5</code> using <code>Maven</code>. I discovered that IDEA had created some <code>*.iml</code> files where it should not have. I had one in the test folder called <code>test.iml</code>. After deleting them the problems went away.</p>\n<p>Please check if IDEA did not create some sneaky modules unexpectedly.</p>\n<p>I see in the screenshot that you have one of those:</p>\n<p><a href=\"https://i.stack.imgur.com/5F1uJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5F1uJ.png\" alt=\"enter image description here\" /></a></p>\n<p>My advice is to delete it.</p>\n"},{"tags":[],"owner":{"account_id":16192240,"reputation":393,"user_id":11690682,"display_name":"sweintritt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688472573,"creation_date":1688472573,"answer_id":76612472,"question_id":65202981,"body_markdown":"I had the same problem. After fixing the gradle build as shown in the jupiter example project (https://junit.org/junit5/docs/current/user-guide/#overview-getting-started-example-projects), it still did not work. \r\nCleaning the caches and restarting the IDE did also not work. \r\n\r\nWhat fixed it for me was, I closed the IDE, deleted the `.idea` and `.gradle` folders in the project and started the IDE again.","title":"JUnit not recognized in IntelliJ","body":"<p>I had the same problem. After fixing the gradle build as shown in the jupiter example project (<a href=\"https://junit.org/junit5/docs/current/user-guide/#overview-getting-started-example-projects\" rel=\"nofollow noreferrer\">https://junit.org/junit5/docs/current/user-guide/#overview-getting-started-example-projects</a>), it still did not work.\nCleaning the caches and restarting the IDE did also not work.</p>\n<p>What fixed it for me was, I closed the IDE, deleted the <code>.idea</code> and <code>.gradle</code> folders in the project and started the IDE again.</p>\n"}],"owner":{"account_id":4504913,"reputation":579,"user_id":3681032,"accept_rate":30,"display_name":"Linkx_lair"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3325,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1688472573,"creation_date":1607445264,"question_id":65202981,"body_markdown":"I am trying to integrate and setup the JUnit 5 libraries with IntelliJ on my linux distro. I added JUnit to my gradle, and built it using gradle. But I am still seeing an error on my unit tests prompting me to &quot;add junit to my classpath&quot; even though it already is. [![enter image description here][1]][1]\r\n\r\n\r\nHere is my build.gradle \r\n```plugins {\r\n    id &#39;java&#39;\r\n    id &#39;idea&#39;\r\n}\r\n\r\ngroup &#39;com.techchallenge&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;org.junit.jupiter:junit-jupiter:5.4.2&#39;\r\n    testCompile(&#39;org.junit.jupiter:junit-jupiter-api:5.3.1&#39;)\r\n    testCompile(&#39;org.junit.jupiter:junit-jupiter-engine:5.3.1&#39;)\r\n}\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n```\r\n\r\n*UPDATE*\r\nSee screenshot. I added the dependency and it is still prompting me to add the junit to my classpath though I already did \r\n[![updated intellij][2]][2]\r\n\r\n\r\n***UPDATE 2***\r\nI updated the build.gradle and also did gradlew clean build test which was successful. But it is still showing the error with my junit annotations- and keeps prompting me to add junit 5.4 to my classpath though it is there.\r\n```plugins {\r\n    id &#39;java&#39;\r\n    id &#39;idea&#39;\r\n}\r\n\r\ngroup &#39;com.techchallenge&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;org.junit.jupiter:junit-jupiter:5.4.2&#39;\r\n    implementation &#39;org.junit.jupiter:junit-jupiter:5.4.2&#39;\r\n    implementation &#39;org.junit.jupiter:junit-jupiter:5.4.2&#39;\r\n    implementation &#39;org.junit.jupiter:junit-jupiter:5.4.2&#39;\r\n    implementation &#39;org.junit.jupiter:junit-jupiter:5.4.2&#39;\r\n    implementation &#39;org.junit.jupiter:junit-jupiter:5.4.2&#39;\r\n    implementation &#39;org.junit.jupiter:junit-jupiter:5.4.2&#39;\r\n\r\n    testCompile(&#39;org.junit.jupiter:junit-jupiter-api:5.4.2&#39;)\r\n    testRuntime(&#39;org.junit.jupiter:junit-jupiter-engine:5.4.2&#39;)\r\n    testRuntime(&#39;org.junit.vintage:junit-vintage-engine:5.4.2&#39;)\r\n\r\n}\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n```\r\n[![errors on intellij][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/s0tAt.jpg\r\n  [2]: https://i.stack.imgur.com/8CiPm.jpg\r\n  [3]: https://i.stack.imgur.com/YPTSw.jpg","title":"JUnit not recognized in IntelliJ","body":"<p>I am trying to integrate and setup the JUnit 5 libraries with IntelliJ on my linux distro. I added JUnit to my gradle, and built it using gradle. But I am still seeing an error on my unit tests prompting me to &quot;add junit to my classpath&quot; even though it already is. <a href=\"https://i.stack.imgur.com/s0tAt.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s0tAt.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Here is my build.gradle</p>\n<pre><code>    id 'java'\n    id 'idea'\n}\n\ngroup 'com.techchallenge'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.junit.jupiter:junit-jupiter:5.4.2'\n    testCompile('org.junit.jupiter:junit-jupiter-api:5.3.1')\n    testCompile('org.junit.jupiter:junit-jupiter-engine:5.3.1')\n}\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p><em>UPDATE</em>\nSee screenshot. I added the dependency and it is still prompting me to add the junit to my classpath though I already did\n<a href=\"https://i.stack.imgur.com/8CiPm.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8CiPm.jpg\" alt=\"updated intellij\" /></a></p>\n<p><em><strong>UPDATE 2</strong></em>\nI updated the build.gradle and also did gradlew clean build test which was successful. But it is still showing the error with my junit annotations- and keeps prompting me to add junit 5.4 to my classpath though it is there.</p>\n<pre><code>    id 'java'\n    id 'idea'\n}\n\ngroup 'com.techchallenge'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.junit.jupiter:junit-jupiter:5.4.2'\n    implementation 'org.junit.jupiter:junit-jupiter:5.4.2'\n    implementation 'org.junit.jupiter:junit-jupiter:5.4.2'\n    implementation 'org.junit.jupiter:junit-jupiter:5.4.2'\n    implementation 'org.junit.jupiter:junit-jupiter:5.4.2'\n    implementation 'org.junit.jupiter:junit-jupiter:5.4.2'\n    implementation 'org.junit.jupiter:junit-jupiter:5.4.2'\n\n    testCompile('org.junit.jupiter:junit-jupiter-api:5.4.2')\n    testRuntime('org.junit.jupiter:junit-jupiter-engine:5.4.2')\n    testRuntime('org.junit.vintage:junit-vintage-engine:5.4.2')\n\n}\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/YPTSw.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YPTSw.jpg\" alt=\"errors on intellij\" /></a></p>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":1827567,"reputation":1054,"user_id":1659875,"display_name":"spandey"},"score":0,"creation_date":1688462518,"post_id":76611118,"comment_id":135074144,"body_markdown":"what do you see in the log?","body":"what do you see in the log?"},{"owner":{"account_id":21441190,"reputation":95,"user_id":15795728,"display_name":"sunny"},"score":0,"creation_date":1688462790,"post_id":76611118,"comment_id":135074203,"body_markdown":"the problem is that I don&#39;t see anything, it just persists the association without the `entity_id`, but none error thrown","body":"the problem is that I don&#39;t see anything, it just persists the association without the <code>entity_id</code>, but none error thrown"},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1688464356,"post_id":76611118,"comment_id":135074534,"body_markdown":"this is more of a guess but when you do the 2nd option i think you are creating a 1 to 1 association and for the 1st option after saving you need to retrieve from the DB the actual saved association and use that to add to entity","body":"this is more of a guess but when you do the 2nd option i think you are creating a 1 to 1 association and for the 1st option after saving you need to retrieve from the DB the actual saved association and use that to add to entity"},{"owner":{"account_id":21441190,"reputation":95,"user_id":15795728,"display_name":"sunny"},"score":0,"creation_date":1688465794,"post_id":76611118,"comment_id":135074853,"body_markdown":"@Anon this also doesn&#39;t help","body":"@Anon this also doesn&#39;t help"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1688481642,"post_id":76611118,"comment_id":135078357,"body_markdown":"You haven&#39;t detailed wha save does; Spring doesn&#39;t have save methods on entities, so we can&#39;t guess at what you&#39;ve implemented. Save though, from Spring Repository classes, return a managed entity. You are required to use that returned entity going forward, especially when setting references, so that its identity can be maintained. In this case, I would guess that the Entity-&gt;Association ref is bidirectional, and has a cascade persist set on it. Since association already was saved, it is a no-op, but since you aren&#39;t using the managed instance, the change to Association isn&#39;t picked up.","body":"You haven&#39;t detailed wha save does; Spring doesn&#39;t have save methods on entities, so we can&#39;t guess at what you&#39;ve implemented. Save though, from Spring Repository classes, return a managed entity. You are required to use that returned entity going forward, especially when setting references, so that its identity can be maintained. In this case, I would guess that the Entity-&gt;Association ref is bidirectional, and has a cascade persist set on it. Since association already was saved, it is a no-op, but since you aren&#39;t using the managed instance, the change to Association isn&#39;t picked up."}],"answers":[{"tags":[],"owner":{"account_id":10007976,"reputation":1,"user_id":7401759,"display_name":"Vlad Ded"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688471707,"creation_date":1688471707,"answer_id":76612375,"question_id":76611118,"body_markdown":"\r\nIt&#39;s pretty hard to grasp the context of your problem.\r\nHowever, I&#39;m going to assume you are using Spring Boot along with Hibernate/JPA.\r\n\r\nConsidering this, have you set any CascadeType on your association? \r\nI&#39;m going to also assume you are setting the relationship between your entities inside **addToAssociations** method.\r\n\r\nYou can also have a look at this great article for more information:\r\nhttps://vladmihalcea.com/jpa-hibernate-synchronize-bidirectional-entity-associations/","title":"Association is not saved after calling save() on child above","body":"<p>It's pretty hard to grasp the context of your problem.\nHowever, I'm going to assume you are using Spring Boot along with Hibernate/JPA.</p>\n<p>Considering this, have you set any CascadeType on your association?\nI'm going to also assume you are setting the relationship between your entities inside <strong>addToAssociations</strong> method.</p>\n<p>You can also have a look at this great article for more information:\n<a href=\"https://vladmihalcea.com/jpa-hibernate-synchronize-bidirectional-entity-associations/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/jpa-hibernate-synchronize-bidirectional-entity-associations/</a></p>\n"}],"owner":{"account_id":21441190,"reputation":95,"user_id":15795728,"display_name":"sunny"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688471707,"creation_date":1688462474,"question_id":76611118,"body_markdown":"I have a problem with saving two-way association.\r\nHaving this:\r\n```java\r\nAssociation association = new Association()\r\n...some data binding\r\nassociation.save()\r\n\r\nEntity entity = new Entity()\r\nentity.addToAssociations(association)\r\nentity.save()\r\n\r\n```\r\nIf I do this, then in `association` table, `entity_id` is `null` in DB. If I remove `association.save()`, suddenly it works and the `entity_id` is visible.\r\n\r\nDo you know where the problem is?","title":"Association is not saved after calling save() on child above","body":"<p>I have a problem with saving two-way association.\nHaving this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Association association = new Association()\n...some data binding\nassociation.save()\n\nEntity entity = new Entity()\nentity.addToAssociations(association)\nentity.save()\n\n</code></pre>\n<p>If I do this, then in <code>association</code> table, <code>entity_id</code> is <code>null</code> in DB. If I remove <code>association.save()</code>, suddenly it works and the <code>entity_id</code> is visible.</p>\n<p>Do you know where the problem is?</p>\n"},{"tags":["java","ssl","diffie-hellman"],"comments":[{"owner":{"account_id":24982546,"reputation":23,"user_id":18844673,"display_name":"Jinwoo An"},"score":0,"creation_date":1688473778,"post_id":76612333,"comment_id":135076491,"body_markdown":"I think I found the answer, the master secret is made with PRF and the numeric value is used as a parameter","body":"I think I found the answer, the master secret is made with PRF and the numeric value is used as a parameter"}],"owner":{"account_id":24982546,"reputation":23,"user_id":18844673,"display_name":"Jinwoo An"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1688471615,"creation_date":1688471441,"question_id":76612333,"body_markdown":"I&#39;m trying to implement the TLS handshake for specific cypher suits with Java\r\n\r\nso I chose simple DH as a key-exchange algorithm\r\n\r\nI have successfully completed the key exchange algorithm, and I don&#39;t understand how this number is actually used.\r\n\r\nI chose random prime number and DH secret key with a size of 1024 bits, and the generated numeric value of the symmetric key is as follows\r\n\r\n```text\r\n137788568906486456562313443251433625845738808626213687842428636488613021697893174760087427050476313862114101648826514308630193757158023355782732286841194048890730724983728673832483012519924831013247552765933483415273172062507912219558443488454534677453627247897385118516061200838456501806287350964669621095063\r\n```\r\n\r\nI think this is the pre-master-secret, how do I use this value?","title":"How is the numeric value obtained through Diffie-Hellman key exchange used?","body":"<p>I'm trying to implement the TLS handshake for specific cypher suits with Java</p>\n<p>so I chose simple DH as a key-exchange algorithm</p>\n<p>I have successfully completed the key exchange algorithm, and I don't understand how this number is actually used.</p>\n<p>I chose random prime number and DH secret key with a size of 1024 bits, and the generated numeric value of the symmetric key is as follows</p>\n<pre><code>137788568906486456562313443251433625845738808626213687842428636488613021697893174760087427050476313862114101648826514308630193757158023355782732286841194048890730724983728673832483012519924831013247552765933483415273172062507912219558443488454534677453627247897385118516061200838456501806287350964669621095063\n</code></pre>\n<p>I think this is the pre-master-secret, how do I use this value?</p>\n"},{"tags":["java","profiling","jvisualvm"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688442940,"post_id":76609295,"comment_id":135071222,"body_markdown":"&quot;check what happened&quot; What information do you want?","body":"&quot;check what happened&quot; What information do you want?"},{"owner":{"account_id":1206700,"reputation":382,"user_id":1176154,"accept_rate":89,"display_name":"RAFJR"},"score":0,"creation_date":1688443384,"post_id":76609295,"comment_id":135071251,"body_markdown":"essentially I&#39;d like to run some linux scripts like thread dump and perform analysis.\n\nor ps ax --forest -H -j u to check for top running processes by memory and CPU usage\n\nor top -n 1 -H -p 247 to monitor eclipse processes\n\nOnce I get those information, I might be able to determine the root cause. Essentially I just need a trigger from JVisualVM when it hit&#39;s 100% CPU usage and react to that by running a few scripts, dump the results to a file that I can check later.","body":"essentially I&#39;d like to run some linux scripts like thread dump and perform analysis.  or ps ax --forest -H -j u to check for top running processes by memory and CPU usage  or top -n 1 -H -p 247 to monitor eclipse processes  Once I get those information, I might be able to determine the root cause. Essentially I just need a trigger from JVisualVM when it hit&#39;s 100% CPU usage and react to that by running a few scripts, dump the results to a file that I can check later."}],"answers":[{"comments":[{"owner":{"account_id":1206700,"reputation":382,"user_id":1176154,"accept_rate":89,"display_name":"RAFJR"},"score":0,"creation_date":1688614632,"post_id":76612356,"comment_id":135098024,"body_markdown":"appreciate the suggestion. thanks mate.","body":"appreciate the suggestion. thanks mate."}],"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688471599,"creation_date":1688471599,"answer_id":76612356,"question_id":76609295,"body_markdown":"No, jvisualvm doesn&#39;t provide that kind of monitoring feature. You need to create your own script or application to monitor when the process is using too much CPU (for given values of too much) and execute something else to capture information. \r\n\r\nAnother option would be to use a different tool like Java Flight Recorder which may be able to capture thread usage over time without any special script: https://stackoverflow.com/a/61006913/721855","title":"JVisualVM to run scripts when CPU reached 100%","body":"<p>No, jvisualvm doesn't provide that kind of monitoring feature. You need to create your own script or application to monitor when the process is using too much CPU (for given values of too much) and execute something else to capture information.</p>\n<p>Another option would be to use a different tool like Java Flight Recorder which may be able to capture thread usage over time without any special script: <a href=\"https://stackoverflow.com/a/61006913/721855\">https://stackoverflow.com/a/61006913/721855</a></p>\n"}],"owner":{"account_id":1206700,"reputation":382,"user_id":1176154,"accept_rate":89,"display_name":"RAFJR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688471599,"creation_date":1688442591,"question_id":76609295,"body_markdown":"using JVisualVM 2.0.5 I found an instance where the CPU usage of my application reached 100%. Is there a way for me to run scripts to check what happened during this time (01:00:13PM). I checked my logs and nothing significant happened. I&#39;m planning to run a thread dump during this point before CPU goes back to normal. Or is there a better way to manage this or plugins?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5urFq.png","title":"JVisualVM to run scripts when CPU reached 100%","body":"<p>using JVisualVM 2.0.5 I found an instance where the CPU usage of my application reached 100%. Is there a way for me to run scripts to check what happened during this time (01:00:13PM). I checked my logs and nothing significant happened. I'm planning to run a thread dump during this point before CPU goes back to normal. Or is there a better way to manage this or plugins?</p>\n<p><a href=\"https://i.stack.imgur.com/5urFq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5urFq.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","javafx-2","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1362532653,"post_id":15237043,"comment_id":21483733,"body_markdown":"Does `System.out.println(welcome.class.getResource(&quot;background.css&quot;));` print `null`?  Is your eclipse project copying the `background.css` file to the output directory (the same directory as the file `welcome.class`)?","body":"Does <code>System.out.println(welcome.class.getResource(&quot;background.css&zwnj;&#8203;&quot;));</code> print <code>null</code>?  Is your eclipse project copying the <code>background.css</code> file to the output directory (the same directory as the file <code>welcome.class</code>)?"},{"owner":{"account_id":1744405,"reputation":28870,"user_id":1594933,"accept_rate":74,"display_name":"gontard"},"score":0,"creation_date":1362563972,"post_id":15237043,"comment_id":21495156,"body_markdown":"What is your IDE ? Try to do a full rebuild of the project.","body":"What is your IDE ? Try to do a full rebuild of the project."}],"answers":[{"comments":[{"owner":{"account_id":2294676,"reputation":3877,"user_id":2016434,"accept_rate":7,"display_name":"Kimmy"},"score":0,"creation_date":1362531888,"post_id":15237104,"comment_id":21483540,"body_markdown":"yes i have     public void start(final Stage primaryStage) {\n\t\tfinal GridPane grid = new GridPane(); Scene scene = new Scene(grid, 600, 500);\n        scene.getStylesheets().add(welcome.class.getResource(&quot;background.css&quot;).toExternalForm());\n        primaryStage.setScene(scene);\n        primaryStage.show();","body":"yes i have     public void start(final Stage primaryStage) { \t\tfinal GridPane grid = new GridPane(); Scene scene = new Scene(grid, 600, 500);         scene.getStylesheets().add(welcome.class.getResource(&quot;backgr&zwnj;&#8203;ound.css&quot;).toExterna&zwnj;&#8203;lForm());         primaryStage.setScene(scene);         primaryStage.show();"},{"owner":{"account_id":1818688,"reputation":441,"user_id":1653234,"accept_rate":60,"display_name":"medokr"},"score":0,"creation_date":1362532045,"post_id":15237104,"comment_id":21483580,"body_markdown":"Can you paste the code referenced at welcome.java line #164 You might read up on [null pointer exceptions](http://stackoverflow.com/questions/218384/what-is-a-null-pointer-exception)","body":"Can you paste the code referenced at welcome.java line #164 You might read up on <a href=\"http://stackoverflow.com/questions/218384/what-is-a-null-pointer-exception\">null pointer exceptions</a>"},{"owner":{"account_id":2294676,"reputation":3877,"user_id":2016434,"accept_rate":7,"display_name":"Kimmy"},"score":0,"creation_date":1362532079,"post_id":15237104,"comment_id":21483595,"body_markdown":"scene.getStylesheets().add(welcome.class.getResource(&quot;background.css&quot;).toExternalForm());","body":"scene.getStylesheets().add(welcome.class.getResource(&quot;backgr&zwnj;&#8203;ound.css&quot;).toExterna&zwnj;&#8203;lForm());"},{"owner":{"account_id":2294676,"reputation":3877,"user_id":2016434,"accept_rate":7,"display_name":"Kimmy"},"score":0,"creation_date":1362532129,"post_id":15237104,"comment_id":21483611,"body_markdown":"could it be something to do with eclipse not have JavaFx setup properly?","body":"could it be something to do with eclipse not have JavaFx setup properly?"},{"owner":{"account_id":2294676,"reputation":3877,"user_id":2016434,"accept_rate":7,"display_name":"Kimmy"},"score":0,"creation_date":1362532898,"post_id":15237104,"comment_id":21483781,"body_markdown":"I get a WARNING: com.sun.javafx.css.StyleManager loadStylesheetUnPrivileged Resource &quot;C:\\Users\\Kimmy\\background.css&quot; not found.","body":"I get a WARNING: com.sun.javafx.css.StyleManager loadStylesheetUnPrivileged Resource &quot;C:\\Users\\Kimmy\\background.css&quot; not found."},{"owner":{"account_id":1051359,"reputation":5876,"user_id":1055219,"display_name":"tomsontom"},"score":0,"creation_date":1362551235,"post_id":15237104,"comment_id":21488915,"body_markdown":"So do you now get an NPE or the warning? It also looks like you are:\n* using the default package which could be the problem\n* you are not following Java-Conventions for classnames (should not not be a problem in general)","body":"So do you now get an NPE or the warning? It also looks like you are: * using the default package which could be the problem * you are not following Java-Conventions for classnames (should not not be a problem in general)"}],"tags":[],"owner":{"account_id":1818688,"reputation":441,"user_id":1653234,"accept_rate":60,"display_name":"medokr"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1362531614,"creation_date":1362531614,"answer_id":15237104,"question_id":15237043,"body_markdown":"Did you initialize the Scene object yet?\r\n\r\n    //Create a scene object. Pass in the layout and set with and height\r\n    this.scene = new Scene(layout, 600, 400);\r\n    \r\n    //Add CSS Style Sheet (located in same package as this class).\r\n    String css = this.getClass().getResource(&quot;background.css&quot;).toExternalForm();\r\n    scene.getStylesheets().add(css);","title":"Loading css using JavaFX null pointer exception in eclipse","body":"<p>Did you initialize the Scene object yet?</p>\n\n<pre><code>//Create a scene object. Pass in the layout and set with and height\nthis.scene = new Scene(layout, 600, 400);\n\n//Add CSS Style Sheet (located in same package as this class).\nString css = this.getClass().getResource(\"background.css\").toExternalForm();\nscene.getStylesheets().add(css);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":269783,"reputation":3179,"user_id":559338,"display_name":"akhilless"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1369424678,"creation_date":1369424678,"answer_id":16742545,"question_id":15237043,"body_markdown":"Any resource should be on the classpath to be loaded successfully (if it is in the same folder as you welcome class then it is already so). Then you should precede the path to the stylesheet file by &#39;/&#39; symbol, so that it looks like this:\r\n\r\n    scene.getStylesheets().add(welcome.class.getResource(&quot;/background.css&quot;).toExternalForm());\r\n\r\n\r\nThen it will load successfully.","title":"Loading css using JavaFX null pointer exception in eclipse","body":"<p>Any resource should be on the classpath to be loaded successfully (if it is in the same folder as you welcome class then it is already so). Then you should precede the path to the stylesheet file by '/' symbol, so that it looks like this:</p>\n\n<pre><code>scene.getStylesheets().add(welcome.class.getResource(\"/background.css\").toExternalForm());\n</code></pre>\n\n<p>Then it will load successfully.</p>\n"},{"tags":[],"owner":{"account_id":3599749,"reputation":292,"user_id":3003304,"accept_rate":77,"display_name":"user3003304"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1393514131,"creation_date":1393514131,"answer_id":22072659,"question_id":15237043,"body_markdown":"So I know this an old question, but I had a similar issue to this recently so I&#39;d like to give what I think is the answer:\r\n\r\nThree conditions must be met to use a JavaFX file and a CSS file together:\r\n\r\n1.\tboth JavaFX file and CSS file must both be in same directory\r\n2.\tYou must declare in your code you are using the CSS file such as \r\n\r\n          scene.getStylesheets().add(welcome.class.getResource(&quot;background.css&quot;).toExternalForm());\r\n3.\tAnd the thing I think was being left out is **package PackageName;** \r\n\r\n       **package YourPackageName;**.  \r\nWill be at the top of your JavaFX file before the place where you define your imports.  This is something that could be easily forgotten if you are not used to working with multiple files in Java or if you start your code from scratch.  Not having the **package YourPackageName;** does not stop your base file from working, but it can stop your program from running when you try to use your own defined CSS files.","title":"Loading css using JavaFX null pointer exception in eclipse","body":"<p>So I know this an old question, but I had a similar issue to this recently so I'd like to give what I think is the answer:</p>\n\n<p>Three conditions must be met to use a JavaFX file and a CSS file together:</p>\n\n<ol>\n<li>both JavaFX file and CSS file must both be in same directory</li>\n<li><p>You must declare in your code you are using the CSS file such as </p>\n\n<pre><code>  scene.getStylesheets().add(welcome.class.getResource(\"background.css\").toExternalForm());\n</code></pre></li>\n<li><p>And the thing I think was being left out is <strong>package PackageName;</strong> </p>\n\n<p><strong>package YourPackageName;</strong>.<br>\nWill be at the top of your JavaFX file before the place where you define your imports.  This is something that could be easily forgotten if you are not used to working with multiple files in Java or if you start your code from scratch.  Not having the <strong>package YourPackageName;</strong> does not stop your base file from working, but it can stop your program from running when you try to use your own defined CSS files.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4918308,"reputation":11,"user_id":3961627,"display_name":"Corentin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1408562066,"creation_date":1408562066,"answer_id":25412698,"question_id":15237043,"body_markdown":"I had the same error than you... And here is the solution I found...\r\nif you have a Main class , replace the &quot;welcome&quot; by Main to get this code: \r\n\r\nThe tree in Eclipse with JavaFX 2.0:\r\n\r\n    -MyJavaProject            (JavaProject)\r\n     | -src                   (Folder)\r\n         | -Appli             (Package)\r\n            |  -Main.java     (Class Main)\r\n            |  -application.css  (css file)\r\n            \r\n\r\n\r\ncode for this tree:\r\n\r\n    scene.getStylesheets().add(\r\n              Main.class.getResource(&quot;application.css&quot;).toExternalForm());\r\n\r\nHope this will help... ;) ","title":"Loading css using JavaFX null pointer exception in eclipse","body":"<p>I had the same error than you... And here is the solution I found...\nif you have a Main class , replace the \"welcome\" by Main to get this code: </p>\n\n<p>The tree in Eclipse with JavaFX 2.0:</p>\n\n<pre><code>-MyJavaProject            (JavaProject)\n | -src                   (Folder)\n     | -Appli             (Package)\n        |  -Main.java     (Class Main)\n        |  -application.css  (css file)\n</code></pre>\n\n<p>code for this tree:</p>\n\n<pre><code>scene.getStylesheets().add(\n          Main.class.getResource(\"application.css\").toExternalForm());\n</code></pre>\n\n<p>Hope this will help... ;) </p>\n"},{"tags":[],"owner":{"account_id":1683953,"reputation":446,"user_id":1547595,"display_name":"moser"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656350620,"creation_date":1656350620,"answer_id":72776104,"question_id":15237043,"body_markdown":"Also, depending on how you setup *maven*, you need to place the files as follows (in the source folder):\r\n\r\n```\r\n-main\r\n    | -java\r\n        | -packageName\r\n            |  -Main.java\r\n    | -resources\r\n        | -packageName\r\n            |  -application.css \r\n```\r\n","title":"Loading css using JavaFX null pointer exception in eclipse","body":"<p>Also, depending on how you setup <em>maven</em>, you need to place the files as follows (in the source folder):</p>\n<pre><code>-main\n    | -java\n        | -packageName\n            |  -Main.java\n    | -resources\n        | -packageName\n            |  -application.css \n</code></pre>\n"},{"tags":[],"owner":{"account_id":28948296,"reputation":1,"user_id":22173462,"display_name":"Gideon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688471173,"creation_date":1688471173,"answer_id":76612295,"question_id":15237043,"body_markdown":"This worked for me, use this directly \r\ngetStylesheets().add(&quot;path/name/application.css&quot;) \r\n\r\nyour pathname may differ \r\n","title":"Loading css using JavaFX null pointer exception in eclipse","body":"<p>This worked for me, use this directly\ngetStylesheets().add(&quot;path/name/application.css&quot;)</p>\n<p>your pathname may differ</p>\n"}],"owner":{"account_id":2294676,"reputation":3877,"user_id":2016434,"accept_rate":7,"display_name":"Kimmy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6093,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":6,"score":3,"last_activity_date":1688471173,"creation_date":1362531267,"question_id":15237043,"body_markdown":"I&#39;m trying to load a CSS file into JavaFX using this line of code and it gives me a null pointer exception:\r\n\r\n    scene.getStylesheets().add(welcome.class.getResource(&quot;background.css&quot;).toExternalForm());\r\n\r\nMy `background.css` is located in the same folder as the welcome class I have made.\r\n\r\nAny idea why I get a null pointer?\r\n\r\nError Log:\r\n\r\n    Exception in Application start method\r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException: Exception in Application start method\r\n    \tat com.sun.javafx.application.LauncherImpl.launchApplication1(Unknown Source)\r\n    \tat com.sun.javafx.application.LauncherImpl.access$000(Unknown Source)\r\n    \tat com.sun.javafx.application.LauncherImpl$1.run(Unknown Source)\r\n    \tat java.lang.Thread.run(Thread.java:722)\r\n    Caused by: java.lang.NullPointerException\r\n    \tat welcome.start(welcome.java:164)\r\n    \tat com.sun.javafx.application.LauncherImpl$5.run(Unknown Source)\r\n    \tat com.sun.javafx.application.PlatformImpl$5.run(Unknown Source)\r\n    \tat com.sun.javafx.application.PlatformImpl$4$1.run(Unknown Source)\r\n    \tat com.sun.javafx.application.PlatformImpl$4$1.run(Unknown Source)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat com.sun.javafx.application.PlatformImpl$4.run(Unknown Source)\r\n    \tat com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n    \tat com.sun.glass.ui.win.WinApplication.access$100(Unknown Source)\r\n    \tat com.sun.glass.ui.win.WinApplication$3$1.run(Unknown Source)\r\n    \t... 1 more\r\n\r\n\r\n","title":"Loading css using JavaFX null pointer exception in eclipse","body":"<p>I'm trying to load a CSS file into JavaFX using this line of code and it gives me a null pointer exception:</p>\n\n<pre><code>scene.getStylesheets().add(welcome.class.getResource(\"background.css\").toExternalForm());\n</code></pre>\n\n<p>My <code>background.css</code> is located in the same folder as the welcome class I have made.</p>\n\n<p>Any idea why I get a null pointer?</p>\n\n<p>Error Log:</p>\n\n<pre><code>Exception in Application start method\nException in thread \"main\" java.lang.RuntimeException: Exception in Application start method\n    at com.sun.javafx.application.LauncherImpl.launchApplication1(Unknown Source)\n    at com.sun.javafx.application.LauncherImpl.access$000(Unknown Source)\n    at com.sun.javafx.application.LauncherImpl$1.run(Unknown Source)\n    at java.lang.Thread.run(Thread.java:722)\nCaused by: java.lang.NullPointerException\n    at welcome.start(welcome.java:164)\n    at com.sun.javafx.application.LauncherImpl$5.run(Unknown Source)\n    at com.sun.javafx.application.PlatformImpl$5.run(Unknown Source)\n    at com.sun.javafx.application.PlatformImpl$4$1.run(Unknown Source)\n    at com.sun.javafx.application.PlatformImpl$4$1.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at com.sun.javafx.application.PlatformImpl$4.run(Unknown Source)\n    at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at com.sun.glass.ui.win.WinApplication.access$100(Unknown Source)\n    at com.sun.glass.ui.win.WinApplication$3$1.run(Unknown Source)\n    ... 1 more\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1688320456,"post_id":76600117,"comment_id":135055306,"body_markdown":"How you run it? Please add the complete stacktrace.","body":"How you run it? Please add the complete stacktrace."}],"answers":[{"comments":[{"owner":{"account_id":27513263,"reputation":27,"user_id":20994747,"display_name":"ps938w"},"score":0,"creation_date":1688324392,"post_id":76600150,"comment_id":135055765,"body_markdown":"Thanks for the solution. I have been trying this for hours but this same thing was not working as i was doing a wrong import through out for the @Query annotation. I was importing `import org.springframework.data.jdbc.repository.query.Query;` instead of `import org.springframework.data.jpa.repository.Query;`","body":"Thanks for the solution. I have been trying this for hours but this same thing was not working as i was doing a wrong import through out for the @Query annotation. I was importing <code>import org.springframework.data.jdbc.repository.query.Query;</code> instead of <code>import org.springframework.data.jpa.repository.Query;</code>"}],"tags":[],"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688320925,"creation_date":1688320349,"answer_id":76600150,"question_id":76600117,"body_markdown":"You need to use JPQL inside `@Query` annotation for custom query and also you can use return type to get the results.\r\n```\r\n@Query(&quot;SELECT f FROM Flight f&quot;)\r\nList&lt;Flight&gt; fetchFlights();\r\n```\r\nHere is more details https://www.baeldung.com/spring-data-jpa-query\r\n\r\nOr you can use native SQL for query using `nativeQuery = true`\r\n```\r\n@Query(&quot;SELECT * FROM Flight&quot;, nativeQuery = true)\r\nList&lt;Flight&gt; fetchFlights();\r\n```\r\n\r\nBTW you can also use existing `findAll()` method also to fetch all data.\r\n```\r\nflightRepository.findAll();\r\n```","title":"How to invoke custom query in Spring Boot JPA Repository","body":"<p>You need to use JPQL inside <code>@Query</code> annotation for custom query and also you can use return type to get the results.</p>\n<pre><code>@Query(&quot;SELECT f FROM Flight f&quot;)\nList&lt;Flight&gt; fetchFlights();\n</code></pre>\n<p>Here is more details <a href=\"https://www.baeldung.com/spring-data-jpa-query\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-jpa-query</a></p>\n<p>Or you can use native SQL for query using <code>nativeQuery = true</code></p>\n<pre><code>@Query(&quot;SELECT * FROM Flight&quot;, nativeQuery = true)\nList&lt;Flight&gt; fetchFlights();\n</code></pre>\n<p>BTW you can also use existing <code>findAll()</code> method also to fetch all data.</p>\n<pre><code>flightRepository.findAll();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28939892,"reputation":1,"user_id":22166652,"display_name":"Extendo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688470778,"creation_date":1688470778,"answer_id":76612239,"question_id":76600117,"body_markdown":"you need to write a query in the repo with annotation @Query like this\r\n\r\n    @Query(&quot;from student where address=?1 and name=?2&quot;)\r\n\tList&lt;Student&gt; findByAddressSorted(String address,String name);","title":"How to invoke custom query in Spring Boot JPA Repository","body":"<p>you need to write a query in the repo with annotation @Query like this</p>\n<pre><code>@Query(&quot;from student where address=?1 and name=?2&quot;)\nList&lt;Student&gt; findByAddressSorted(String address,String name);\n</code></pre>\n"}],"owner":{"account_id":27513263,"reputation":27,"user_id":20994747,"display_name":"ps938w"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":597,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76600150,"answer_count":2,"score":0,"last_activity_date":1688470778,"creation_date":1688319797,"question_id":76600117,"body_markdown":"I am trying to invoke a custom query through a custom method in Spring Boot Data JPA.\r\n\r\n        @Repository\r\n        public interface FlightRepository extends JpaRepository&lt;Flight, Integer&gt; {\r\n    \t\r\n    \t\r\n            @Query(&quot;select * from flight&quot;)\r\n            void executeMyQuery();\r\n        }\r\n\r\nBut when try to run the application, I am getting below error\r\n\r\n    No property &#39;executeMyQuery&#39; found for type &#39;Flight&#39;\r\n\r\nI am using Spring Boot Version 3.1.1 (*tried with 2.7.13 as well but no luck*)\r\n\r\nThanks in advance.\r\n    ","title":"How to invoke custom query in Spring Boot JPA Repository","body":"<p>I am trying to invoke a custom query through a custom method in Spring Boot Data JPA.</p>\n<pre><code>    @Repository\n    public interface FlightRepository extends JpaRepository&lt;Flight, Integer&gt; {\n    \n    \n        @Query(&quot;select * from flight&quot;)\n        void executeMyQuery();\n    }\n</code></pre>\n<p>But when try to run the application, I am getting below error</p>\n<pre><code>No property 'executeMyQuery' found for type 'Flight'\n</code></pre>\n<p>I am using Spring Boot Version 3.1.1 (<em>tried with 2.7.13 as well but no luck</em>)</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","selenium-webdriver","webautomation","selenium-java"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1683539527,"post_id":76199218,"comment_id":134376933,"body_markdown":"Why have a ThreadLocal when you are passing the value around as method parameter? But I suspect `@BeforeSuite` is executed in a different thread than your tests =&gt; the driver of other threads is empty (because it is only set for the setup thread)","body":"Why have a ThreadLocal when you are passing the value around as method parameter? But I suspect <code>@BeforeSuite</code> is executed in a different thread than your tests =&gt; the driver of other threads is empty (because it is only set for the setup thread)"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1683539592,"post_id":76199218,"comment_id":134376946,"body_markdown":"If your driver is thread-safe, why are you using a ThreadLocal? In addition, why are you using `synchronized` to access the ThreadLocal? If this produces a null for you, then likely the setup was done on a different thread than the actual test is running.","body":"If your driver is thread-safe, why are you using a ThreadLocal? In addition, why are you using <code>synchronized</code> to access the ThreadLocal? If this produces a null for you, then likely the setup was done on a different thread than the actual test is running."},{"owner":{"account_id":28544411,"reputation":15,"user_id":21850050,"display_name":"Aliul Islam Abir"},"score":0,"creation_date":1683540093,"post_id":76199218,"comment_id":134377062,"body_markdown":"The driver I have set in the ThreadLocal in setUp() method in the BaseTest Class is the driver I want when I&#39;m passing the driver in the Test Class (T001_LoginTests_Check). And that same driver should be in the Page Class (HomePage_Check) via constructor. But whenever I&#39;m calling the driver in the ThreadLocal form my Test Class or anywhere outside the BaseTest it&#39;s being null. What should I do?","body":"The driver I have set in the ThreadLocal in setUp() method in the BaseTest Class is the driver I want when I&#39;m passing the driver in the Test Class (T001_LoginTests_Check). And that same driver should be in the Page Class (HomePage_Check) via constructor. But whenever I&#39;m calling the driver in the ThreadLocal form my Test Class or anywhere outside the BaseTest it&#39;s being null. What should I do?"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1683549746,"post_id":76199218,"comment_id":134379142,"body_markdown":"Why are you using a `ThreadLocal`? Do you need distinct drivers for distinct threads? Why can&#39;t you store a plain reference and then get the reference?","body":"Why are you using a <code>ThreadLocal</code>? Do you need distinct drivers for distinct threads? Why can&#39;t you store a plain reference and then get the reference?"},{"owner":{"account_id":28544411,"reputation":15,"user_id":21850050,"display_name":"Aliul Islam Abir"},"score":0,"creation_date":1683550229,"post_id":76199218,"comment_id":134379259,"body_markdown":"Yes, I need a distinct driver to be used in all of my test cases. And I need a thread safe driver to run  my test cases in parallel. The driver that spawns the browser is stored in the ThreadLocal and I need the very same driver in my Test Classes and Page Classes as well. But whenever I try to call the driver from ThreadLocal outside the BaseTest Class it becomes null.","body":"Yes, I need a distinct driver to be used in all of my test cases. And I need a thread safe driver to run  my test cases in parallel. The driver that spawns the browser is stored in the ThreadLocal and I need the very same driver in my Test Classes and Page Classes as well. But whenever I try to call the driver from ThreadLocal outside the BaseTest Class it becomes null."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1683551250,"post_id":76199218,"comment_id":134379492,"body_markdown":"@AliulIslamAbir but why do you need a `ThreadLocal` for that? Assuming that you really really need to, consider `ThreadLocal.withInitial` to set up your driver instance each time a thread requests the driver for the first time.","body":"@AliulIslamAbir but why do you need a <code>ThreadLocal</code> for that? Assuming that you really really need to, consider <code>ThreadLocal.withInitial</code> to set up your driver instance each time a thread requests the driver for the first time."},{"owner":{"account_id":28544411,"reputation":15,"user_id":21850050,"display_name":"Aliul Islam Abir"},"score":0,"creation_date":1683552915,"post_id":76199218,"comment_id":134379913,"body_markdown":"Can you show me a sample code please. It will be a great help.","body":"Can you show me a sample code please. It will be a great help."}],"answers":[{"tags":[],"owner":{"account_id":5388310,"reputation":64,"user_id":4291594,"display_name":"Ramesh Korla"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688469848,"creation_date":1687435010,"answer_id":76531627,"question_id":76199218,"body_markdown":"Try this below code approach and I hope it clears your issue.\r\n\r\n```\r\npackage tests;\r\n\r\nimport base.BaseTest;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.testng.annotations.Test;\r\nimport pages.HomePage_Check;\r\n\r\npublic class T001_LoginTests_Check extends BaseTest {\r\n\r\n        \r\n    HomePage_Check homePageCheck;\r\n\r\n    @Test\r\n    public void pageTitleTest()\r\n    {\r\n\r\n    homePageCheck = new HomePage_Check(getDriver());\r\n\r\n    System.out.println(&quot;[?] Called from test class -&gt; &quot; + driver);\r\n\r\n    homePageCheck.getPageTitle();\r\n\r\n        \r\n\r\n    }\r\n\r\n}\r\n```\r\n    \r\n","title":"How to avoid &quot;NullPointerException&quot; while referencing the driver from ThreadLocal to Test Class?","body":"<p>Try this below code approach and I hope it clears your issue.</p>\n<pre><code>package tests;\n\nimport base.BaseTest;\nimport org.openqa.selenium.WebDriver;\nimport org.testng.annotations.Test;\nimport pages.HomePage_Check;\n\npublic class T001_LoginTests_Check extends BaseTest {\n\n        \n    HomePage_Check homePageCheck;\n\n    @Test\n    public void pageTitleTest()\n    {\n\n    homePageCheck = new HomePage_Check(getDriver());\n\n    System.out.println(&quot;[?] Called from test class -&gt; &quot; + driver);\n\n    homePageCheck.getPageTitle();\n\n        \n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":28544411,"reputation":15,"user_id":21850050,"display_name":"Aliul Islam Abir"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76531627,"answer_count":1,"score":0,"last_activity_date":1688469848,"creation_date":1683538058,"question_id":76199218,"body_markdown":"I am trying to get the driver that was set in the ThreadLocal in the &quot;BaseTest&quot; class to my Test class &quot;T001_LoginTests_Check&quot; while creating an object of my Page class &quot;HomePage_Check&quot;. I am passing the driver through the constructor defined in the Page class.\r\n\r\nThis is what I have done so far and issue I am facing as follows:\r\n\r\nI have created a thread safe driver in my &quot;BaseTest&quot; class. Whenever I am going to get the driver stored in the ThreadLocal in my Test class that inherits the &quot;BaseTest&quot; class, I get a NullPointerException.\r\n\r\nMy &quot;BaseTest&quot; class is as follows:\r\n\r\n\r\n```\r\npackage base;\r\n\r\nimport io.github.bonigarcia.wdm.WebDriverManager;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeOptions;\r\nimport org.openqa.selenium.edge.EdgeOptions;\r\nimport org.openqa.selenium.firefox.FirefoxOptions;\r\nimport org.openqa.selenium.remote.AbstractDriverOptions;\r\nimport org.testng.annotations.AfterSuite;\r\nimport org.testng.annotations.BeforeSuite;\r\n\r\nimport java.io.FileInputStream;\r\nimport java.util.Properties;\r\n\r\npublic class BaseTest {\r\n\r\n    public WebDriver driver;\r\n    Properties prop;\r\n\r\n    public BaseTest(){\r\n        loadProperties();\r\n    }\r\n\r\n    public static final ThreadLocal&lt;WebDriver&gt; tsDriver = new ThreadLocal&lt;&gt;();\r\n\r\n    private void setDriver(WebDriver driver){\r\n        tsDriver.set(driver);\r\n    }\r\n\r\n    public static synchronized WebDriver getDriver(){\r\n\r\n        return tsDriver.get();\r\n    }\r\n\r\n    public WebDriver getBrowser(){\r\n\r\n        AbstractDriverOptions absOptions;\r\n\r\n        String browser = prop.getProperty(&quot;browser&quot;);\r\n\r\n        if (browser.equalsIgnoreCase(&quot;Chrome&quot;)){\r\n            absOptions = new ChromeOptions();\r\n            driver = WebDriverManager.chromedriver().capabilities(absOptions).create();\r\n        } else if (browser.equalsIgnoreCase(&quot;Firefox&quot;)) {\r\n            absOptions = new FirefoxOptions();\r\n            driver = WebDriverManager.firefoxdriver().capabilities(absOptions).create();\r\n        } else if (browser.equalsIgnoreCase(&quot;Edge&quot;)) {\r\n            absOptions = new EdgeOptions();\r\n            driver = WebDriverManager.edgedriver().capabilities(absOptions).create();\r\n        } else {\r\n            System.out.println(&quot;[i] Invalid argument! Spawning Chrome Driver as default.&quot;);\r\n            absOptions = new ChromeOptions();\r\n            driver = WebDriverManager.chromedriver().capabilities(absOptions).create();\r\n        }\r\n\r\n        return driver;\r\n\r\n    }\r\n\r\n    public void loadProperties() {\r\n\r\n        prop = new Properties();\r\n\r\n        try{\r\n            FileInputStream fis = new FileInputStream(&quot;D:\\\\SQA\\\\webdriver_java\\\\rokomari.com_automation&quot; +\r\n                    &quot;\\\\src\\\\test\\\\java\\\\config\\\\config.properties&quot;);\r\n            prop.load(fis);\r\n        }catch (Exception e){\r\n            System.out.println(&quot;[!] Some unexpected error occurred during loading the properties file.&quot;);\r\n        }\r\n\r\n    }\r\n\r\n    @BeforeSuite\r\n    public void setUp(){\r\n        driver = getBrowser();\r\n        driver.get(prop.getProperty(&quot;url&quot;));\r\n        driver.manage().window().maximize();\r\n\r\n        setDriver(driver);\r\n\r\n    }\r\n\r\n    @AfterSuite\r\n    public void cleanUp(){\r\n        getDriver().quit();\r\n    }\r\n}\r\n```\r\n\r\nAnd my Test class is as follows. Please note that I&#39;m passing the driver to the page class while creating an object for my Page class and trying to receive the driver by the Page class constructor.\r\n\r\n\r\n```\r\npackage tests;\r\n\r\nimport base.BaseTest;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.testng.annotations.Test;\r\nimport pages.HomePage_Check;\r\n\r\npublic class T001_LoginTests_Check extends BaseTest {\r\n\r\n    HomePage_Check homePageCheck = new HomePage_Check(getDriver());\r\n\r\n    @Test\r\n    public void pageTitleTest(){\r\n\r\n        System.out.println(&quot;[?] Called from test class -&gt; &quot; + driver);\r\n        homePageCheck.getPageTitle();\r\n    }\r\n\r\n}\r\n```\r\n\r\nI am also putting my Page class below for better understanding:\r\n\r\n```\r\npackage pages;\r\n\r\nimport org.openqa.selenium.WebDriver;\r\n\r\npublic class HomePage_Check {\r\n\r\n    public WebDriver driver;\r\n\r\n    public HomePage_Check(WebDriver driver){\r\n        this.driver = driver;\r\n    }\r\n\r\n    public void getPageTitle(){\r\n\r\n        System.out.println(driver.getTitle());\r\n        \r\n    }\r\n\r\n}\r\n```\r\n\r\nMy config.properties file contains following data:\r\n\r\nbrowser = Chrome\r\nurl = https://www.rokomari.com/book\r\n\r\nMy code is generating the following error:\r\n\r\n```none\r\njava.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.getTitle()&quot; because &quot;this.driver&quot; is null\r\n\r\n\tat pages.HomePage_Check.getPageTitle(HomePage_Check.java:19)\r\n\tat tests.T001_LoginTests_Check.pageTitleTest(T001_LoginTests_Check.java:14)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:677)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:221)\r\n\tat org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\r\n\tat org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:969)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:194)\r\n\tat org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\r\n\tat org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:829)\r\n\tat org.testng.TestRunner.run(TestRunner.java:602)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:437)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:431)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:391)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:330)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1256)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1176)\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1099)\r\n\tat org.testng.TestNG.run(TestNG.java:1067)\r\n\tat com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\r\n\tat com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:105)\r\n```\r\n\r\nAll I want is to pass the driver from ThreadLocal through my Test class while creating an object of my Page class and the driver will be received by the Page class constructor. That&#39;s it. \r\n\r\n","title":"How to avoid &quot;NullPointerException&quot; while referencing the driver from ThreadLocal to Test Class?","body":"<p>I am trying to get the driver that was set in the ThreadLocal in the &quot;BaseTest&quot; class to my Test class &quot;T001_LoginTests_Check&quot; while creating an object of my Page class &quot;HomePage_Check&quot;. I am passing the driver through the constructor defined in the Page class.</p>\n<p>This is what I have done so far and issue I am facing as follows:</p>\n<p>I have created a thread safe driver in my &quot;BaseTest&quot; class. Whenever I am going to get the driver stored in the ThreadLocal in my Test class that inherits the &quot;BaseTest&quot; class, I get a NullPointerException.</p>\n<p>My &quot;BaseTest&quot; class is as follows:</p>\n<pre><code>package base;\n\nimport io.github.bonigarcia.wdm.WebDriverManager;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\nimport org.openqa.selenium.edge.EdgeOptions;\nimport org.openqa.selenium.firefox.FirefoxOptions;\nimport org.openqa.selenium.remote.AbstractDriverOptions;\nimport org.testng.annotations.AfterSuite;\nimport org.testng.annotations.BeforeSuite;\n\nimport java.io.FileInputStream;\nimport java.util.Properties;\n\npublic class BaseTest {\n\n    public WebDriver driver;\n    Properties prop;\n\n    public BaseTest(){\n        loadProperties();\n    }\n\n    public static final ThreadLocal&lt;WebDriver&gt; tsDriver = new ThreadLocal&lt;&gt;();\n\n    private void setDriver(WebDriver driver){\n        tsDriver.set(driver);\n    }\n\n    public static synchronized WebDriver getDriver(){\n\n        return tsDriver.get();\n    }\n\n    public WebDriver getBrowser(){\n\n        AbstractDriverOptions absOptions;\n\n        String browser = prop.getProperty(&quot;browser&quot;);\n\n        if (browser.equalsIgnoreCase(&quot;Chrome&quot;)){\n            absOptions = new ChromeOptions();\n            driver = WebDriverManager.chromedriver().capabilities(absOptions).create();\n        } else if (browser.equalsIgnoreCase(&quot;Firefox&quot;)) {\n            absOptions = new FirefoxOptions();\n            driver = WebDriverManager.firefoxdriver().capabilities(absOptions).create();\n        } else if (browser.equalsIgnoreCase(&quot;Edge&quot;)) {\n            absOptions = new EdgeOptions();\n            driver = WebDriverManager.edgedriver().capabilities(absOptions).create();\n        } else {\n            System.out.println(&quot;[i] Invalid argument! Spawning Chrome Driver as default.&quot;);\n            absOptions = new ChromeOptions();\n            driver = WebDriverManager.chromedriver().capabilities(absOptions).create();\n        }\n\n        return driver;\n\n    }\n\n    public void loadProperties() {\n\n        prop = new Properties();\n\n        try{\n            FileInputStream fis = new FileInputStream(&quot;D:\\\\SQA\\\\webdriver_java\\\\rokomari.com_automation&quot; +\n                    &quot;\\\\src\\\\test\\\\java\\\\config\\\\config.properties&quot;);\n            prop.load(fis);\n        }catch (Exception e){\n            System.out.println(&quot;[!] Some unexpected error occurred during loading the properties file.&quot;);\n        }\n\n    }\n\n    @BeforeSuite\n    public void setUp(){\n        driver = getBrowser();\n        driver.get(prop.getProperty(&quot;url&quot;));\n        driver.manage().window().maximize();\n\n        setDriver(driver);\n\n    }\n\n    @AfterSuite\n    public void cleanUp(){\n        getDriver().quit();\n    }\n}\n</code></pre>\n<p>And my Test class is as follows. Please note that I'm passing the driver to the page class while creating an object for my Page class and trying to receive the driver by the Page class constructor.</p>\n<pre><code>package tests;\n\nimport base.BaseTest;\nimport org.openqa.selenium.WebDriver;\nimport org.testng.annotations.Test;\nimport pages.HomePage_Check;\n\npublic class T001_LoginTests_Check extends BaseTest {\n\n    HomePage_Check homePageCheck = new HomePage_Check(getDriver());\n\n    @Test\n    public void pageTitleTest(){\n\n        System.out.println(&quot;[?] Called from test class -&gt; &quot; + driver);\n        homePageCheck.getPageTitle();\n    }\n\n}\n</code></pre>\n<p>I am also putting my Page class below for better understanding:</p>\n<pre><code>package pages;\n\nimport org.openqa.selenium.WebDriver;\n\npublic class HomePage_Check {\n\n    public WebDriver driver;\n\n    public HomePage_Check(WebDriver driver){\n        this.driver = driver;\n    }\n\n    public void getPageTitle(){\n\n        System.out.println(driver.getTitle());\n        \n    }\n\n}\n</code></pre>\n<p>My config.properties file contains following data:</p>\n<p>browser = Chrome\nurl = <a href=\"https://www.rokomari.com/book\" rel=\"nofollow noreferrer\">https://www.rokomari.com/book</a></p>\n<p>My code is generating the following error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.getTitle()&quot; because &quot;this.driver&quot; is null\n\n    at pages.HomePage_Check.getPageTitle(HomePage_Check.java:19)\n    at tests.T001_LoginTests_Check.pageTitleTest(T001_LoginTests_Check.java:14)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\n    at org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:677)\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:221)\n    at org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\n    at org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:969)\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:194)\n    at org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\n    at org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.testng.TestRunner.privateRun(TestRunner.java:829)\n    at org.testng.TestRunner.run(TestRunner.java:602)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:437)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:431)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:391)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:330)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1256)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1176)\n    at org.testng.TestNG.runSuites(TestNG.java:1099)\n    at org.testng.TestNG.run(TestNG.java:1067)\n    at com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\n    at com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:105)\n</code></pre>\n<p>All I want is to pass the driver from ThreadLocal through my Test class while creating an object of my Page class and the driver will be received by the Page class constructor. That's it.</p>\n"},{"tags":["java","android","gradle"],"comments":[{"owner":{"account_id":1951,"reputation":26904,"user_id":2684,"accept_rate":87,"display_name":"Martin Marconcini"},"score":0,"creation_date":1688469155,"post_id":76611192,"comment_id":135075522,"body_markdown":"Did you try [the documentation](https://developer.android.com/guide/navigation/use-graph/safe-args) and still got this error? could it be you&#39;re using incompatible versions?","body":"Did you try <a href=\"https://developer.android.com/guide/navigation/use-graph/safe-args\" rel=\"nofollow noreferrer\">the documentation</a> and still got this error? could it be you&#39;re using incompatible versions?"},{"owner":{"account_id":6073515,"reputation":39,"user_id":4741536,"display_name":"Muhammed Yal&#231;ın"},"score":0,"creation_date":1688469648,"post_id":76611192,"comment_id":135075642,"body_markdown":"Yes, i inspect it a few days ago. now i can see. document says: &quot;include the following classpath in your top level build.gradle file&quot;. I placed classpath wrong file. it must be in build.gradle(Project:MyApp) instead of settings.gradle. this worked for me.","body":"Yes, i inspect it a few days ago. now i can see. document says: &quot;include the following classpath in your top level build.gradle file&quot;. I placed classpath wrong file. it must be in build.gradle(Project:MyApp) instead of settings.gradle. this worked for me."},{"owner":{"account_id":1951,"reputation":26904,"user_id":2684,"accept_rate":87,"display_name":"Martin Marconcini"},"score":0,"creation_date":1688469701,"post_id":76611192,"comment_id":135075655,"body_markdown":"Glad to hear you found the issue ;)","body":"Glad to hear you found the issue ;)"}],"answers":[{"tags":[],"owner":{"account_id":6073515,"reputation":39,"user_id":4741536,"display_name":"Muhammed Yal&#231;ın"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688469835,"creation_date":1688469835,"answer_id":76612114,"question_id":76611192,"body_markdown":"I placed classpath wrong file. \r\n\r\nIt must be in build.gradle(Project:MyApp) instead of build.gradle(Module:app). this worked for me.\r\n\r\n**build.gradle(Project:MyApp)**\r\n```\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        gradlePluginPortal()\r\n    }\r\n    dependencies {\r\n        classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:2.5.3&quot;\r\n    }\r\n}\r\nplugins {\r\n    id &#39;com.android.application&#39; version &#39;7.4.1&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.4.1&#39; apply false\r\n}\r\ntask clean(type: Delete){\r\n    delete rootProject.buildDir\r\n}\r\n```\r\n**settings.gradle(Project Settings)**\r\n```\r\npluginManagement {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        gradlePluginPortal()\r\n    }\r\n}\r\n\r\ndependencyResolutionManagement {\r\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n}\r\n\r\nrootProject.name = &quot;MyApp&quot;\r\ninclude &#39;:app&#39;\r\n```","title":"How to configure SafeArgs for NavigationComponent in build.gradle project file?","body":"<p>I placed classpath wrong file.</p>\n<p>It must be in build.gradle(Project:MyApp) instead of build.gradle(Module:app). this worked for me.</p>\n<p><strong>build.gradle(Project:MyApp)</strong></p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\nbuildscript {\n    repositories {\n        google()\n        mavenCentral()\n        gradlePluginPortal()\n    }\n    dependencies {\n        classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:2.5.3&quot;\n    }\n}\nplugins {\n    id 'com.android.application' version '7.4.1' apply false\n    id 'com.android.library' version '7.4.1' apply false\n}\ntask clean(type: Delete){\n    delete rootProject.buildDir\n}\n</code></pre>\n<p><strong>settings.gradle(Project Settings)</strong></p>\n<pre><code>pluginManagement {\n    repositories {\n        google()\n        mavenCentral()\n        gradlePluginPortal()\n    }\n}\n\ndependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\nrootProject.name = &quot;MyApp&quot;\ninclude ':app'\n</code></pre>\n"}],"owner":{"account_id":6073515,"reputation":39,"user_id":4741536,"display_name":"Muhammed Yal&#231;ın"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688469835,"creation_date":1688463023,"question_id":76611192,"body_markdown":"I want to use `androidx.navigation.safeargs` plugin in my android project.\r\n\r\n**Android Gradle Plugin Version:** `7.4.1`\r\n\r\n**Gradle Version:** `7.5`\r\n\r\n**JDK Version:** `11`\r\n\r\nBut when I add to below lines to my settings.gradle file, it gives me an error.\r\n```\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        gradlePluginPortal()\r\n    }\r\n    dependencies {\r\n        classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:2.5.3&quot;\r\n    }\r\n}\r\n```\r\nError:\r\n```\r\norg.gradle.api.GradleException: Error resolving plugin [id: &#39;com.android.application&#39;, version: &#39;7.4.1&#39;, apply: false]\r\nCaused by: org.gradle.plugin.management.internal.InvalidPluginRequestException: The request for this plugin could not be satisfied because the plugin is already on the classpath with an unknown version, so compatibility cannot be checked.\r\n```\r\nHow can I achieve this? I want to use NavigationComponent with SafeArgs for typesafety.\r\n\r\nMy build.gradle files is also shown as below:\r\n\r\n**build.gradle(Project:MyApp)**\r\n```\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nplugins {\r\n    id &#39;com.android.application&#39; version &#39;7.4.1&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.4.1&#39; apply false\r\n}\r\n```\r\n\r\n**build.gradle(Module:App)**\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;androidx.navigation.safeargs&#39; version &#39;2.5.3&#39; apply false\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.gamenight.myapp&#39;\r\n    compileSdk 33\r\n    buildFeatures {\r\n        dataBinding true\r\n        viewBinding true\r\n    }\r\n    sourceSets {\r\n        main {\r\n            java {\r\n                srcDirs += &#39;build/generated/source/navigation-args/&#39;\r\n            }\r\n        }\r\n    }\r\n    defaultConfig {\r\n        applicationId &quot;com.gamenight.nite&quot;\r\n        minSdk 24\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_11\r\n        targetCompatibility JavaVersion.VERSION_11\r\n    }\r\n}\r\n\r\ndependencies {\r\n    // Lifecycle\r\n    implementation &#39;androidx.lifecycle:lifecycle-viewmodel:2.6.1&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-runtime:2.6.1&#39;\r\n    // ViewModel SavedState\r\n    implementation &#39;androidx.lifecycle:lifecycle-viewmodel-savedstate:2.6.1&#39;\r\n    implementation &quot;androidx.appcompat:appcompat:1.6.1&quot;\r\n    implementation &#39;androidx.lifecycle:lifecycle-viewmodel-ktx:2.6.1&#39;\r\n    // Room\r\n    implementation &#39;androidx.room:room-runtime:2.5.2&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-livedata-ktx:2.6.1&#39;\r\n    annotationProcessor &#39;androidx.room:room-compiler:2.5.2&#39;\r\n\r\n    implementation &#39;com.google.android.material:material:1.9.0&#39;\r\n\r\n    //Fragment Navigation\r\n    /*implementation &quot;androidx.navigation:navigation-fragment-ktx:2.6.0&quot;\r\n    implementation &quot;androidx.navigation:navigation-ui-ktx:2.6.0&quot;*/\r\n    implementation &quot;androidx.navigation:navigation-fragment:2.6.0&quot;\r\n    implementation &quot;androidx.navigation:navigation-ui:2.6.0&quot;\r\n\r\n    // Feature module Support\r\n    implementation &quot;androidx.navigation:navigation-dynamic-features-fragment:2.5.3&quot;\r\n\r\n    // Testing Navigation\r\n    androidTestImplementation &quot;androidx.navigation:navigation-testing:2.5.3&quot;\r\n\r\n    // Jetpack Compose Integration\r\n    implementation &quot;androidx.navigation:navigation-compose:2.5.3&quot;\r\n\r\n    //SafeArgs\r\n    implementation &quot;androidx.navigation:navigation-safe-args-gradle-plugin:2.5.3&quot;\r\n\r\n\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n}\r\n```\r\n\r\n**settings.gradle(Project Settings)**\r\n```\r\npluginManagement {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        gradlePluginPortal()\r\n    }\r\n}\r\n\r\ndependencyResolutionManagement {\r\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n}\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        gradlePluginPortal()\r\n    }\r\n    dependencies {\r\n        classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:2.5.3&quot;\r\n    }\r\n}\r\n\r\nrootProject.name = &quot;MyApp&quot;\r\ninclude &#39;:app&#39;\r\n```\r\n\r\n","title":"How to configure SafeArgs for NavigationComponent in build.gradle project file?","body":"<p>I want to use <code>androidx.navigation.safeargs</code> plugin in my android project.</p>\n<p><strong>Android Gradle Plugin Version:</strong> <code>7.4.1</code></p>\n<p><strong>Gradle Version:</strong> <code>7.5</code></p>\n<p><strong>JDK Version:</strong> <code>11</code></p>\n<p>But when I add to below lines to my settings.gradle file, it gives me an error.</p>\n<pre><code>buildscript {\n    repositories {\n        google()\n        mavenCentral()\n        gradlePluginPortal()\n    }\n    dependencies {\n        classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:2.5.3&quot;\n    }\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>org.gradle.api.GradleException: Error resolving plugin [id: 'com.android.application', version: '7.4.1', apply: false]\nCaused by: org.gradle.plugin.management.internal.InvalidPluginRequestException: The request for this plugin could not be satisfied because the plugin is already on the classpath with an unknown version, so compatibility cannot be checked.\n</code></pre>\n<p>How can I achieve this? I want to use NavigationComponent with SafeArgs for typesafety.</p>\n<p>My build.gradle files is also shown as below:</p>\n<p><strong>build.gradle(Project:MyApp)</strong></p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\nplugins {\n    id 'com.android.application' version '7.4.1' apply false\n    id 'com.android.library' version '7.4.1' apply false\n}\n</code></pre>\n<p><strong>build.gradle(Module:App)</strong></p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'androidx.navigation.safeargs' version '2.5.3' apply false\n}\n\nandroid {\n    namespace 'com.gamenight.myapp'\n    compileSdk 33\n    buildFeatures {\n        dataBinding true\n        viewBinding true\n    }\n    sourceSets {\n        main {\n            java {\n                srcDirs += 'build/generated/source/navigation-args/'\n            }\n        }\n    }\n    defaultConfig {\n        applicationId &quot;com.gamenight.nite&quot;\n        minSdk 24\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_11\n        targetCompatibility JavaVersion.VERSION_11\n    }\n}\n\ndependencies {\n    // Lifecycle\n    implementation 'androidx.lifecycle:lifecycle-viewmodel:2.6.1'\n    implementation 'androidx.lifecycle:lifecycle-runtime:2.6.1'\n    // ViewModel SavedState\n    implementation 'androidx.lifecycle:lifecycle-viewmodel-savedstate:2.6.1'\n    implementation &quot;androidx.appcompat:appcompat:1.6.1&quot;\n    implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.6.1'\n    // Room\n    implementation 'androidx.room:room-runtime:2.5.2'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    implementation 'androidx.lifecycle:lifecycle-livedata-ktx:2.6.1'\n    annotationProcessor 'androidx.room:room-compiler:2.5.2'\n\n    implementation 'com.google.android.material:material:1.9.0'\n\n    //Fragment Navigation\n    /*implementation &quot;androidx.navigation:navigation-fragment-ktx:2.6.0&quot;\n    implementation &quot;androidx.navigation:navigation-ui-ktx:2.6.0&quot;*/\n    implementation &quot;androidx.navigation:navigation-fragment:2.6.0&quot;\n    implementation &quot;androidx.navigation:navigation-ui:2.6.0&quot;\n\n    // Feature module Support\n    implementation &quot;androidx.navigation:navigation-dynamic-features-fragment:2.5.3&quot;\n\n    // Testing Navigation\n    androidTestImplementation &quot;androidx.navigation:navigation-testing:2.5.3&quot;\n\n    // Jetpack Compose Integration\n    implementation &quot;androidx.navigation:navigation-compose:2.5.3&quot;\n\n    //SafeArgs\n    implementation &quot;androidx.navigation:navigation-safe-args-gradle-plugin:2.5.3&quot;\n\n\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n}\n</code></pre>\n<p><strong>settings.gradle(Project Settings)</strong></p>\n<pre><code>pluginManagement {\n    repositories {\n        google()\n        mavenCentral()\n        gradlePluginPortal()\n    }\n}\n\ndependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\nbuildscript {\n    repositories {\n        google()\n        mavenCentral()\n        gradlePluginPortal()\n    }\n    dependencies {\n        classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:2.5.3&quot;\n    }\n}\n\nrootProject.name = &quot;MyApp&quot;\ninclude ':app'\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7836,"page":331,"page_size":100}
